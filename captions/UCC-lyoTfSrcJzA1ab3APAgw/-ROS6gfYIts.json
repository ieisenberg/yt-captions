[
  {
    "start": "0",
    "end": "320000"
  },
  {
    "text": "hi this is Lance from L chain So Meta",
    "start": "880",
    "end": "3120"
  },
  {
    "text": "llama 3 came out today which is super",
    "start": "3120",
    "end": "4799"
  },
  {
    "text": "exciting and something that I've been",
    "start": "4799",
    "end": "5839"
  },
  {
    "text": "waiting for for a while and I want to",
    "start": "5839",
    "end": "7799"
  },
  {
    "text": "hop on here and H and talk about how to",
    "start": "7799",
    "end": "9559"
  },
  {
    "text": "build uh reliable agents using llama 3",
    "start": "9559",
    "end": "12559"
  },
  {
    "text": "that can actually run on your laptop so",
    "start": "12559",
    "end": "14320"
  },
  {
    "text": "it can run locally now just for a quick",
    "start": "14320",
    "end": "17000"
  },
  {
    "text": "kind of refresher here llama 3 just",
    "start": "17000",
    "end": "19199"
  },
  {
    "text": "dropped today we can see looking at the",
    "start": "19199",
    "end": "21439"
  },
  {
    "text": "performance characteristics for the 8",
    "start": "21439",
    "end": "22960"
  },
  {
    "text": "billion parameter model they're very",
    "start": "22960",
    "end": "25119"
  },
  {
    "text": "strong so I've done a lot of work with",
    "start": "25119",
    "end": "26840"
  },
  {
    "text": "mraw which was previously kind of my",
    "start": "26840",
    "end": "28519"
  },
  {
    "text": "go-to and it looks like on a number of",
    "start": "28519",
    "end": "31119"
  },
  {
    "text": "popular metrics or benchmarks you know",
    "start": "31119",
    "end": "33280"
  },
  {
    "text": "met llama 3 is is indeed a bit better so",
    "start": "33280",
    "end": "37480"
  },
  {
    "text": "again I haven't tested this yet this is",
    "start": "37480",
    "end": "39079"
  },
  {
    "text": "kind of like a first dry run but uh it's",
    "start": "39079",
    "end": "41920"
  },
  {
    "text": "really exciting so to convince you that",
    "start": "41920",
    "end": "44719"
  },
  {
    "text": "we can build local and reliable agents",
    "start": "44719",
    "end": "47399"
  },
  {
    "text": "I'm going to pick ideas from three",
    "start": "47399",
    "end": "48879"
  },
  {
    "text": "different rag papers they're all pretty",
    "start": "48879",
    "end": "51280"
  },
  {
    "text": "sophisticated and they're going to kind",
    "start": "51280",
    "end": "52559"
  },
  {
    "text": "of roll up into this pretty in this",
    "start": "52559",
    "end": "54480"
  },
  {
    "text": "pretty uh kind of interesting and",
    "start": "54480",
    "end": "56199"
  },
  {
    "text": "complex rag flow so we're going to do",
    "start": "56199",
    "end": "58760"
  },
  {
    "text": "routing from the adaptive rag paper",
    "start": "58760",
    "end": "61120"
  },
  {
    "text": "which will basically take a question",
    "start": "61120",
    "end": "62559"
  },
  {
    "text": "route it to either a vector store or to",
    "start": "62559",
    "end": "65000"
  },
  {
    "text": "web search based on the content of the",
    "start": "65000",
    "end": "66799"
  },
  {
    "text": "question where they're going to",
    "start": "66799",
    "end": "68400"
  },
  {
    "text": "introduce the idea of fallback so",
    "start": "68400",
    "end": "70439"
  },
  {
    "text": "basically we're going to do retrieval",
    "start": "70439",
    "end": "71680"
  },
  {
    "text": "from our Vector store if the question's",
    "start": "71680",
    "end": "73320"
  },
  {
    "text": "relevant to the vector store we're going",
    "start": "73320",
    "end": "74960"
  },
  {
    "text": "to grade our documents if they're not",
    "start": "74960",
    "end": "76960"
  },
  {
    "text": "relevant to the question we're going to",
    "start": "76960",
    "end": "78680"
  },
  {
    "text": "fall back and do web search so that's an",
    "start": "78680",
    "end": "80640"
  },
  {
    "text": "idea from this corrective rag paper and",
    "start": "80640",
    "end": "83079"
  },
  {
    "text": "then we're also going to do",
    "start": "83079",
    "end": "84200"
  },
  {
    "text": "self-correction or checking of the",
    "start": "84200",
    "end": "85880"
  },
  {
    "text": "generations to see if they're if they",
    "start": "85880",
    "end": "87759"
  },
  {
    "text": "contain hallucinations and if they're",
    "start": "87759",
    "end": "89560"
  },
  {
    "text": "relevant to the to the original question",
    "start": "89560",
    "end": "92159"
  },
  {
    "text": "and if they're not we'll fall back and",
    "start": "92159",
    "end": "93399"
  },
  {
    "text": "do web search so the point is we're",
    "start": "93399",
    "end": "95159"
  },
  {
    "text": "going to implement an interesting",
    "start": "95159",
    "end": "96600"
  },
  {
    "text": "complex raglow we're going to show we",
    "start": "96600",
    "end": "98640"
  },
  {
    "text": "can run this reliably and locally on my",
    "start": "98640",
    "end": "100840"
  },
  {
    "text": "laptop I have a Mac M2 30 32 gigs so it",
    "start": "100840",
    "end": "104320"
  },
  {
    "text": "is a reasonably sized laptop but it's",
    "start": "104320",
    "end": "105880"
  },
  {
    "text": "not insane um so first and foremost",
    "start": "105880",
    "end": "109079"
  },
  {
    "text": "what's an agent and this is kind of",
    "start": "109079",
    "end": "110680"
  },
  {
    "text": "controversial in itself but a really",
    "start": "110680",
    "end": "112000"
  },
  {
    "text": "good blog post from Lilian Wang lays out",
    "start": "112000",
    "end": "113759"
  },
  {
    "text": "an agent is something that has planning",
    "start": "113759",
    "end": "116200"
  },
  {
    "text": "so it can break down task into smaller",
    "start": "116200",
    "end": "117759"
  },
  {
    "text": "sub goals or subtasks it has memory",
    "start": "117759",
    "end": "120640"
  },
  {
    "text": "um chat history your long-term memory in",
    "start": "120640",
    "end": "122360"
  },
  {
    "text": "a vector store and it can use",
    "start": "122360",
    "end": "124719"
  },
  {
    "text": "tools now let's just say we want to use",
    "start": "124719",
    "end": "126799"
  },
  {
    "text": "an agent to build corrective rag which",
    "start": "126799",
    "end": "128679"
  },
  {
    "text": "is that middle blue thing we talked",
    "start": "128679",
    "end": "130360"
  },
  {
    "text": "about right so typically when people",
    "start": "130360",
    "end": "132440"
  },
  {
    "text": "think about an agent they immediately",
    "start": "132440",
    "end": "133920"
  },
  {
    "text": "say oh you know react that's like a very",
    "start": "133920",
    "end": "136280"
  },
  {
    "text": "popular framework for building agents um",
    "start": "136280",
    "end": "139000"
  },
  {
    "text": "and it typically involves a flow looks",
    "start": "139000",
    "end": "140599"
  },
  {
    "text": "like this for planning uh the LM will",
    "start": "140599",
    "end": "143200"
  },
  {
    "text": "select an action observe the result",
    "start": "143200",
    "end": "145800"
  },
  {
    "text": "think and then choose the next action um",
    "start": "145800",
    "end": "148879"
  },
  {
    "text": "and again you know rea agents typically",
    "start": "148879",
    "end": "150640"
  },
  {
    "text": "will use memories chat history or vector",
    "start": "150640",
    "end": "152519"
  },
  {
    "text": "store and of course can use different",
    "start": "152519",
    "end": "154160"
  },
  {
    "text": "tools so if I want to do this above flow",
    "start": "154160",
    "end": "157000"
  },
  {
    "text": "as a react agent it would look like this",
    "start": "157000",
    "end": "159040"
  },
  {
    "text": "I would take my question it would I was",
    "start": "159040",
    "end": "161200"
  },
  {
    "text": "first perform an action like use my",
    "start": "161200",
    "end": "163239"
  },
  {
    "text": "Vector story to get documents I would",
    "start": "163239",
    "end": "165159"
  },
  {
    "text": "then observe the documents I would say",
    "start": "165159",
    "end": "167319"
  },
  {
    "text": "okay I need to think about grading them",
    "start": "167319",
    "end": "169239"
  },
  {
    "text": "and then I would go back to my action",
    "start": "169239",
    "end": "171239"
  },
  {
    "text": "and then I would you choose the grader",
    "start": "171239",
    "end": "172879"
  },
  {
    "text": "tool and then I would kind of go in this",
    "start": "172879",
    "end": "175080"
  },
  {
    "text": "Loop until hopefully I follow this",
    "start": "175080",
    "end": "177959"
  },
  {
    "text": "trajectory as laid out here right",
    "start": "177959",
    "end": "180400"
  },
  {
    "text": "so that's kind of how it work with a",
    "start": "180400",
    "end": "181760"
  },
  {
    "text": "react agent now I want to introduce",
    "start": "181760",
    "end": "184200"
  },
  {
    "text": "another idea from implementing this that",
    "start": "184200",
    "end": "188000"
  },
  {
    "text": "uh you can basically lay this out as a",
    "start": "188000",
    "end": "189840"
  },
  {
    "text": "control flow so instead of having an",
    "start": "189840",
    "end": "191959"
  },
  {
    "text": "agent make a decision at every step in",
    "start": "191959",
    "end": "194360"
  },
  {
    "text": "this like kind of in this Loop instead",
    "start": "194360",
    "end": "196799"
  },
  {
    "text": "we're going to layout as the engineer",
    "start": "196799",
    "end": "198560"
  },
  {
    "text": "ahead of time here's the control flow I",
    "start": "198560",
    "end": "200680"
  },
  {
    "text": "want my agent to take every time it's",
    "start": "200680",
    "end": "202319"
  },
  {
    "text": "run so I'm basically taking this uh kind",
    "start": "202319",
    "end": "205040"
  },
  {
    "text": "of like planning away from the llm and",
    "start": "205040",
    "end": "207959"
  },
  {
    "text": "I'm actually creating a control flow",
    "start": "207959",
    "end": "210280"
  },
  {
    "text": "that I'm defining and what's nice is",
    "start": "210280",
    "end": "212959"
  },
  {
    "text": "that the llm then only has specific",
    "start": "212959",
    "end": "215720"
  },
  {
    "text": "tasks within each of these steps so you",
    "start": "215720",
    "end": "219120"
  },
  {
    "text": "know in terms of planning I'm laying out",
    "start": "219120",
    "end": "220799"
  },
  {
    "text": "a control flow ahead of time in terms of",
    "start": "220799",
    "end": "223120"
  },
  {
    "text": "memory I can basically use what I'm",
    "start": "223120",
    "end": "225080"
  },
  {
    "text": "going to call a graph state to",
    "start": "225080",
    "end": "226840"
  },
  {
    "text": "persistent information across this",
    "start": "226840",
    "end": "228439"
  },
  {
    "text": "control flow um and of course it can be",
    "start": "228439",
    "end": "231680"
  },
  {
    "text": "relevant talk things relevant to rag",
    "start": "231680",
    "end": "234079"
  },
  {
    "text": "like documents question and in terms of",
    "start": "234079",
    "end": "237360"
  },
  {
    "text": "tool use you know each uh graph note",
    "start": "237360",
    "end": "239920"
  },
  {
    "text": "like we talked about we can use a",
    "start": "239920",
    "end": "241519"
  },
  {
    "text": "different tool like the vector s",
    "start": "241519",
    "end": "243000"
  },
  {
    "text": "retrieval we'll just use a retriever",
    "start": "243000",
    "end": "244519"
  },
  {
    "text": "tool um the greater we'll use a greater",
    "start": "244519",
    "end": "246959"
  },
  {
    "text": "tool um you know the web search will use",
    "start": "246959",
    "end": "249360"
  },
  {
    "text": "a web search tool so you know again",
    "start": "249360",
    "end": "251599"
  },
  {
    "text": "thinking about this what are the",
    "start": "251599",
    "end": "252760"
  },
  {
    "text": "tradeoffs react of course one of the big",
    "start": "252760",
    "end": "255640"
  },
  {
    "text": "challenges is that you get lower",
    "start": "255640",
    "end": "257440"
  },
  {
    "text": "reliability when you have this react",
    "start": "257440",
    "end": "259479"
  },
  {
    "text": "style flow the agent has to make the",
    "start": "259479",
    "end": "261560"
  },
  {
    "text": "correct decision at every point and this",
    "start": "261560",
    "end": "263960"
  },
  {
    "text": "is kind of when you can see things go",
    "start": "263960",
    "end": "265240"
  },
  {
    "text": "off the rails and get off track",
    "start": "265240",
    "end": "267160"
  },
  {
    "text": "particularly with small llms whereas",
    "start": "267160",
    "end": "269240"
  },
  {
    "text": "with Lang graph you're actually laying",
    "start": "269240",
    "end": "270639"
  },
  {
    "text": "out this flow ahead of time so the the",
    "start": "270639",
    "end": "272479"
  },
  {
    "text": "agent effectively always traverses this",
    "start": "272479",
    "end": "274520"
  },
  {
    "text": "path every time the llm doesn't have to",
    "start": "274520",
    "end": "276759"
  },
  {
    "text": "make choices about you know which node",
    "start": "276759",
    "end": "278520"
  },
  {
    "text": "to go to",
    "start": "278520",
    "end": "279680"
  },
  {
    "text": "next uh in kind of an unconstrained way",
    "start": "279680",
    "end": "283280"
  },
  {
    "text": "um now in terms of flexibility a react",
    "start": "283280",
    "end": "284919"
  },
  {
    "text": "agent would be more flexible so it could",
    "start": "284919",
    "end": "286960"
  },
  {
    "text": "choose any sequence of actions through",
    "start": "286960",
    "end": "289000"
  },
  {
    "text": "this given these tools whereas the",
    "start": "289000",
    "end": "292039"
  },
  {
    "text": "control flow that I lay out with L graph",
    "start": "292039",
    "end": "294080"
  },
  {
    "text": "is constrained so it only ever traverses",
    "start": "294080",
    "end": "296400"
  },
  {
    "text": "this path um but we'll see because of",
    "start": "296400",
    "end": "300000"
  },
  {
    "text": "this constrained kind of control flow uh",
    "start": "300000",
    "end": "303120"
  },
  {
    "text": "this these landcraft agents are very are",
    "start": "303120",
    "end": "305080"
  },
  {
    "text": "compatible and actually quite reliable",
    "start": "305080",
    "end": "306759"
  },
  {
    "text": "with with local and smaller llms and",
    "start": "306759",
    "end": "308560"
  },
  {
    "text": "that's kind of one of the main benefits",
    "start": "308560",
    "end": "309759"
  },
  {
    "text": "I want to kind of bring home to you",
    "start": "309759",
    "end": "311000"
  },
  {
    "text": "today so let's actually get to the code",
    "start": "311000",
    "end": "313880"
  },
  {
    "text": "let's kick this off and start with the",
    "start": "313880",
    "end": "315520"
  },
  {
    "text": "the corrective rag piece so that's kind",
    "start": "315520",
    "end": "317000"
  },
  {
    "text": "of the middle piece of this overall",
    "start": "317000",
    "end": "318360"
  },
  {
    "text": "agent we want to build and what I'm",
    "start": "318360",
    "end": "320120"
  },
  {
    "start": "320000",
    "end": "515000"
  },
  {
    "text": "going to do is I'm just going to take a",
    "start": "320120",
    "end": "321759"
  },
  {
    "text": "few of these components and just test",
    "start": "321759",
    "end": "323400"
  },
  {
    "text": "them individually so you can see them",
    "start": "323400",
    "end": "324759"
  },
  {
    "text": "working so I have a notebook here a few",
    "start": "324759",
    "end": "326560"
  },
  {
    "text": "pip installs um here's again my flow to",
    "start": "326560",
    "end": "329720"
  },
  {
    "text": "reference now for local models for",
    "start": "329720",
    "end": "331680"
  },
  {
    "text": "embeddings I'm going to use GPD for all",
    "start": "331680",
    "end": "333800"
  },
  {
    "text": "uh which is you know from Lang chain",
    "start": "333800",
    "end": "335039"
  },
  {
    "text": "nomic I I uh we have a partner package",
    "start": "335039",
    "end": "338000"
  },
  {
    "text": "with them with nomic and uh I really",
    "start": "338000",
    "end": "340199"
  },
  {
    "text": "like these embeddings they're really",
    "start": "340199",
    "end": "341680"
  },
  {
    "text": "good now AMA just came out it's",
    "start": "341680",
    "end": "344520"
  },
  {
    "text": "available uh sorry llama 3 just came out",
    "start": "344520",
    "end": "346800"
  },
  {
    "text": "it's available on AMA uh and all I have",
    "start": "346800",
    "end": "349120"
  },
  {
    "text": "to do is AMA pull llama 3 um and the",
    "start": "349120",
    "end": "352280"
  },
  {
    "text": "only other thing I'm going to reference",
    "start": "352280",
    "end": "353520"
  },
  {
    "text": "is occasionally met llama 3 has a",
    "start": "353520",
    "end": "356039"
  },
  {
    "text": "particular prompt format which we have",
    "start": "356039",
    "end": "358160"
  },
  {
    "text": "to pay attention to so that's really it",
    "start": "358160",
    "end": "360759"
  },
  {
    "text": "now let's kick this off I'm going to",
    "start": "360759",
    "end": "361880"
  },
  {
    "text": "choose a local LM I'm going to say llama",
    "start": "361880",
    "end": "363960"
  },
  {
    "text": "3 and first I'm going to do I'm just",
    "start": "363960",
    "end": "366479"
  },
  {
    "text": "going to build an index so I'm going to",
    "start": "366479",
    "end": "368639"
  },
  {
    "text": "build an index of three web pages uh",
    "start": "368639",
    "end": "370680"
  },
  {
    "text": "blog post that I like and I'm going kick",
    "start": "370680",
    "end": "372440"
  },
  {
    "text": "that off I'm setting a chunk size um I'm",
    "start": "372440",
    "end": "375440"
  },
  {
    "text": "using chroma local Vector store and that",
    "start": "375440",
    "end": "378319"
  },
  {
    "text": "all ran so cool now I have an index so",
    "start": "378319",
    "end": "381160"
  },
  {
    "text": "that's this piece right basically the",
    "start": "381160",
    "end": "382720"
  },
  {
    "text": "index is the key component of my rag",
    "start": "382720",
    "end": "384520"
  },
  {
    "text": "flow I need to be able to retrieve",
    "start": "384520",
    "end": "386199"
  },
  {
    "text": "documents then now I'm going to get into",
    "start": "386199",
    "end": "389720"
  },
  {
    "text": "some fun stuff here I want a retrieval",
    "start": "389720",
    "end": "392280"
  },
  {
    "text": "grader so that is this piece I want the",
    "start": "392280",
    "end": "394919"
  },
  {
    "text": "be to retrieve documents and grade them",
    "start": "394919",
    "end": "396520"
  },
  {
    "text": "for relevance relative to my question so",
    "start": "396520",
    "end": "398680"
  },
  {
    "text": "that's what's happening here now here's",
    "start": "398680",
    "end": "400160"
  },
  {
    "text": "where llama 3 comes in and I'm not going",
    "start": "400160",
    "end": "401800"
  },
  {
    "text": "to use something really convenient I set",
    "start": "401800",
    "end": "403400"
  },
  {
    "text": "my local LM to llama 3 AMA has Json mode",
    "start": "403400",
    "end": "407199"
  },
  {
    "text": "which confirms that the output from the",
    "start": "407199",
    "end": "408880"
  },
  {
    "text": "llm is Json so my prompt basically just",
    "start": "408880",
    "end": "412360"
  },
  {
    "text": "says grade the documents and return a",
    "start": "412360",
    "end": "415199"
  },
  {
    "text": "Json with score yes no that's it so I'm",
    "start": "415199",
    "end": "419160"
  },
  {
    "text": "going to do a mock retrieval so I'm",
    "start": "419160",
    "end": "420800"
  },
  {
    "text": "going to say my question is Agent memory",
    "start": "420800",
    "end": "423319"
  },
  {
    "text": "I can just call invoke here actually uh",
    "start": "423319",
    "end": "425599"
  },
  {
    "text": "on my Vector store it's a little bit",
    "start": "425599",
    "end": "427120"
  },
  {
    "text": "more convenient um I can kick that off",
    "start": "427120",
    "end": "429919"
  },
  {
    "text": "so this is now running now one other",
    "start": "429919",
    "end": "432520"
  },
  {
    "text": "thing I did I set tracing in lsmith so I",
    "start": "432520",
    "end": "436360"
  },
  {
    "text": "actually and that already finished but",
    "start": "436360",
    "end": "438039"
  },
  {
    "text": "what's nice is you'll see me reference",
    "start": "438039",
    "end": "439400"
  },
  {
    "text": "over here um when this runs um as this",
    "start": "439400",
    "end": "442759"
  },
  {
    "text": "is running I can actually inspect what's",
    "start": "442759",
    "end": "444360"
  },
  {
    "text": "happening under the hood so we've called",
    "start": "444360",
    "end": "445840"
  },
  {
    "text": "a shadow llama and we get this nice Json",
    "start": "445840",
    "end": "448479"
  },
  {
    "text": "out that's great that's exactly what we",
    "start": "448479",
    "end": "450240"
  },
  {
    "text": "want cool so that's our grader now for",
    "start": "450240",
    "end": "453720"
  },
  {
    "text": "Generation I'm just going to do good Old",
    "start": "453720",
    "end": "455319"
  },
  {
    "text": "Rag so again I have some custom rag",
    "start": "455319",
    "end": "458000"
  },
  {
    "text": "prompt here nothing too unusual I'm",
    "start": "458000",
    "end": "460639"
  },
  {
    "text": "still going to use uh llama 3 of course",
    "start": "460639",
    "end": "463680"
  },
  {
    "text": "and I'm basically just taking my",
    "start": "463680",
    "end": "466120"
  },
  {
    "text": "documents and my question I'm Plumbing",
    "start": "466120",
    "end": "467639"
  },
  {
    "text": "them into llama 3 there you go so you",
    "start": "467639",
    "end": "469599"
  },
  {
    "text": "can see it runs pretty quick let's",
    "start": "469599",
    "end": "470840"
  },
  {
    "text": "actually check over",
    "start": "470840",
    "end": "473080"
  },
  {
    "text": "here um so I can see my the time is",
    "start": "473080",
    "end": "476800"
  },
  {
    "text": "around 4 seconds not bad and this is",
    "start": "476800",
    "end": "479919"
  },
  {
    "text": "pretty cool so I can look at the my my",
    "start": "479919",
    "end": "482759"
  },
  {
    "text": "prompt which contains the documents and",
    "start": "482759",
    "end": "484560"
  },
  {
    "text": "the output great so we're rolling here",
    "start": "484560",
    "end": "486840"
  },
  {
    "text": "this is pretty good",
    "start": "486840",
    "end": "489199"
  },
  {
    "text": "um and okay we got our index we got our",
    "start": "489199",
    "end": "492599"
  },
  {
    "text": "grater we got our generation done uh I'm",
    "start": "492599",
    "end": "495199"
  },
  {
    "text": "going to find a Search tool as well so",
    "start": "495199",
    "end": "497400"
  },
  {
    "text": "this is basically just a tool that I'm",
    "start": "497400",
    "end": "498759"
  },
  {
    "text": "going to use to query the web I like tab",
    "start": "498759",
    "end": "501639"
  },
  {
    "text": "for this it's kind of a really nice",
    "start": "501639",
    "end": "503280"
  },
  {
    "text": "Quick Search tool and here's where I'm",
    "start": "503280",
    "end": "505919"
  },
  {
    "text": "going to um basically Define My Graph so",
    "start": "505919",
    "end": "509680"
  },
  {
    "text": "all that's happening here is each of our",
    "start": "509680",
    "end": "512959"
  },
  {
    "text": "uh I'll should go up and show you here",
    "start": "512959",
    "end": "515039"
  },
  {
    "start": "515000",
    "end": "810000"
  },
  {
    "text": "so each of these pieces these green",
    "start": "515039",
    "end": "517240"
  },
  {
    "text": "things let's call them nodes so each of",
    "start": "517240",
    "end": "519599"
  },
  {
    "text": "these is just a function okay so this",
    "start": "519599",
    "end": "522320"
  },
  {
    "text": "first node retrieve documents I'm just",
    "start": "522320",
    "end": "524039"
  },
  {
    "text": "going to wrap that as a function that's",
    "start": "524039",
    "end": "525800"
  },
  {
    "text": "called",
    "start": "525800",
    "end": "526880"
  },
  {
    "text": "retrieve uh this generate I'm just going",
    "start": "526880",
    "end": "529160"
  },
  {
    "text": "to wrap this a function",
    "start": "529160",
    "end": "531200"
  },
  {
    "text": "generate grade documents again it's just",
    "start": "531200",
    "end": "533920"
  },
  {
    "text": "going to be a function now what you're",
    "start": "533920",
    "end": "535320"
  },
  {
    "text": "going to see here is each of these",
    "start": "535320",
    "end": "536880"
  },
  {
    "text": "functions these are basically the nodes",
    "start": "536880",
    "end": "538560"
  },
  {
    "text": "of my graph I'm going to take in the",
    "start": "538560",
    "end": "540440"
  },
  {
    "text": "state I'm going to modify it in some way",
    "start": "540440",
    "end": "542800"
  },
  {
    "text": "so in the retriever node all it's",
    "start": "542800",
    "end": "544240"
  },
  {
    "text": "happening is I'm taking the state which",
    "start": "544240",
    "end": "546480"
  },
  {
    "text": "I've defined up here this is a",
    "start": "546480",
    "end": "547680"
  },
  {
    "text": "placeholder uh dictionary that contains",
    "start": "547680",
    "end": "549399"
  },
  {
    "text": "my state so the way to think about this",
    "start": "549399",
    "end": "551640"
  },
  {
    "text": "is the state is information that I want",
    "start": "551640",
    "end": "554279"
  },
  {
    "text": "to persist across my agent so again it's",
    "start": "554279",
    "end": "556320"
  },
  {
    "text": "kind of that notion of memory it's",
    "start": "556320",
    "end": "557519"
  },
  {
    "text": "basically short-term memory that lives",
    "start": "557519",
    "end": "559040"
  },
  {
    "text": "over the lifetime of my agent and it",
    "start": "559040",
    "end": "561000"
  },
  {
    "text": "contains everything I want my agent to",
    "start": "561000",
    "end": "562440"
  },
  {
    "text": "be aware of throughout this control flow",
    "start": "562440",
    "end": "564480"
  },
  {
    "text": "right so for rag it's like question",
    "start": "564480",
    "end": "566160"
  },
  {
    "text": "generation web search intuitive stuff",
    "start": "566160",
    "end": "568320"
  },
  {
    "text": "right so so my retrieve node is just",
    "start": "568320",
    "end": "571160"
  },
  {
    "text": "going to take in my question um and this",
    "start": "571160",
    "end": "573680"
  },
  {
    "text": "is going to be passed from the user and",
    "start": "573680",
    "end": "575600"
  },
  {
    "text": "it's just going to do a document",
    "start": "575600",
    "end": "576600"
  },
  {
    "text": "retrieval so I'm actually going to use",
    "start": "576600",
    "end": "577720"
  },
  {
    "text": "invoke for this it's slightly kind of a",
    "start": "577720",
    "end": "579920"
  },
  {
    "text": "nicer way to do it um that's my",
    "start": "579920",
    "end": "582279"
  },
  {
    "text": "retrieval node generation same deal I'm",
    "start": "582279",
    "end": "584800"
  },
  {
    "text": "just going to use that rag tun we",
    "start": "584800",
    "end": "586240"
  },
  {
    "text": "defined above I'm just going to call it",
    "start": "586240",
    "end": "587680"
  },
  {
    "text": "but I'm going to invoke it now on my",
    "start": "587680",
    "end": "589079"
  },
  {
    "text": "graph State my question and my",
    "start": "589079",
    "end": "591360"
  },
  {
    "text": "documents um and you can see at every",
    "start": "591360",
    "end": "593760"
  },
  {
    "text": "note here we just write uh you know in",
    "start": "593760",
    "end": "596120"
  },
  {
    "text": "this case we write the question and the",
    "start": "596120",
    "end": "597880"
  },
  {
    "text": "documents back out to state so we just",
    "start": "597880",
    "end": "600160"
  },
  {
    "text": "update the state at each of these nodes",
    "start": "600160",
    "end": "601800"
  },
  {
    "text": "that's it now grading is what I would",
    "start": "601800",
    "end": "605200"
  },
  {
    "text": "call um you know another node so we're",
    "start": "605200",
    "end": "607800"
  },
  {
    "text": "basically going through our documents we",
    "start": "607800",
    "end": "609760"
  },
  {
    "text": "are grading them for relevance and if",
    "start": "609760",
    "end": "611920"
  },
  {
    "text": "they're not relevant we're going to",
    "start": "611920",
    "end": "613079"
  },
  {
    "text": "filter them out and we're also going to",
    "start": "613079",
    "end": "614720"
  },
  {
    "text": "turn on this flag to say web search so",
    "start": "614720",
    "end": "616440"
  },
  {
    "text": "if anyone's not relevant we'll go ahead",
    "start": "616440",
    "end": "618079"
  },
  {
    "text": "and do web search and then web search is",
    "start": "618079",
    "end": "620279"
  },
  {
    "text": "my final node this is basically going to",
    "start": "620279",
    "end": "623040"
  },
  {
    "text": "hit my hit my search API that tab API",
    "start": "623040",
    "end": "626560"
  },
  {
    "text": "and again just append those search",
    "start": "626560",
    "end": "628399"
  },
  {
    "text": "documents to my state",
    "start": "628399",
    "end": "630120"
  },
  {
    "text": "now here's where I'm introducing of a",
    "start": "630120",
    "end": "632839"
  },
  {
    "text": "conditional Ed so all Happening Here is",
    "start": "632839",
    "end": "635600"
  },
  {
    "text": "those noes we just talked about they all",
    "start": "635600",
    "end": "637160"
  },
  {
    "text": "just take in state modify it in some way",
    "start": "637160",
    "end": "639560"
  },
  {
    "text": "right so retrieval will'll just grab",
    "start": "639560",
    "end": "641639"
  },
  {
    "text": "documents from my retriever add it to",
    "start": "641639",
    "end": "643120"
  },
  {
    "text": "State grading will filter those",
    "start": "643120",
    "end": "644760"
  },
  {
    "text": "documents in state now I have this",
    "start": "644760",
    "end": "646920"
  },
  {
    "text": "notion of an edge where I want to make a",
    "start": "646920",
    "end": "648959"
  },
  {
    "text": "decision based upon State as to where to",
    "start": "648959",
    "end": "651519"
  },
  {
    "text": "go next so this is where I can Implement",
    "start": "651519",
    "end": "653360"
  },
  {
    "text": "kind of interesting logic here all I'm",
    "start": "653360",
    "end": "655720"
  },
  {
    "text": "doing is basically I'm taking in state",
    "start": "655720",
    "end": "657959"
  },
  {
    "text": "and actually I'm doing something really",
    "start": "657959",
    "end": "659480"
  },
  {
    "text": "simp simple and kind of silly here I",
    "start": "659480",
    "end": "661440"
  },
  {
    "text": "previously set this flag web search",
    "start": "661440",
    "end": "663399"
  },
  {
    "text": "that's going to tell it to do web search",
    "start": "663399",
    "end": "665240"
  },
  {
    "text": "if any document was deemed irrelevant uh",
    "start": "665240",
    "end": "667839"
  },
  {
    "text": "we set that up here in this uh grade",
    "start": "667839",
    "end": "670240"
  },
  {
    "text": "documents node so what all I need to do",
    "start": "670240",
    "end": "672720"
  },
  {
    "text": "is in this Edge I'm basic going to take",
    "start": "672720",
    "end": "674880"
  },
  {
    "text": "in my state I'm going to see does the",
    "start": "674880",
    "end": "676560"
  },
  {
    "text": "state contain web search if yes then go",
    "start": "676560",
    "end": "679360"
  },
  {
    "text": "to web search if no go to generate and",
    "start": "679360",
    "end": "682040"
  },
  {
    "text": "this what I return this string is just",
    "start": "682040",
    "end": "684079"
  },
  {
    "text": "the name of a node right web search or",
    "start": "684079",
    "end": "686800"
  },
  {
    "text": "generate that's it so we defined all our",
    "start": "686800",
    "end": "690959"
  },
  {
    "text": "nodes and that's it we are kind of",
    "start": "690959",
    "end": "694240"
  },
  {
    "text": "rolling",
    "start": "694240",
    "end": "695440"
  },
  {
    "text": "here now I'm just going to scroll down",
    "start": "695440",
    "end": "698839"
  },
  {
    "text": "uh now all we need to do is to build our",
    "start": "698839",
    "end": "702600"
  },
  {
    "text": "graph and I'm going to kind of flag this",
    "start": "702600",
    "end": "706200"
  },
  {
    "text": "graph",
    "start": "706200",
    "end": "707680"
  },
  {
    "text": "build very",
    "start": "707680",
    "end": "710399"
  },
  {
    "text": "nice and so all it's happening here is",
    "start": "710399",
    "end": "713920"
  },
  {
    "text": "I'm actually just implementing the",
    "start": "713920",
    "end": "715279"
  },
  {
    "text": "control flow I want so I registered all",
    "start": "715279",
    "end": "717440"
  },
  {
    "text": "my nodes up here and here here's where",
    "start": "717440",
    "end": "719480"
  },
  {
    "text": "I'm just setting like the order of the",
    "start": "719480",
    "end": "720800"
  },
  {
    "text": "noes so you can see my entry points give",
    "start": "720800",
    "end": "722560"
  },
  {
    "text": "me retrieval I'm going to go from",
    "start": "722560",
    "end": "724160"
  },
  {
    "text": "retrieval to grading um and then I'm",
    "start": "724160",
    "end": "726360"
  },
  {
    "text": "going to add my conditional Edge again",
    "start": "726360",
    "end": "728000"
  },
  {
    "text": "it's following our diagram up here",
    "start": "728000",
    "end": "729760"
  },
  {
    "text": "retrieval grading Edge and then um we",
    "start": "729760",
    "end": "733959"
  },
  {
    "text": "can see here uh after web search I go to",
    "start": "733959",
    "end": "736720"
  },
  {
    "text": "generate and after generate I go to end",
    "start": "736720",
    "end": "738600"
  },
  {
    "text": "so that's all it's going to happen and I",
    "start": "738600",
    "end": "741240"
  },
  {
    "text": "can go ahead and compile that so",
    "start": "741240",
    "end": "742800"
  },
  {
    "text": "basically I can run my graph and let's",
    "start": "742800",
    "end": "744519"
  },
  {
    "text": "see if this works I kick that off so you",
    "start": "744519",
    "end": "747120"
  },
  {
    "text": "can see it ran our retriever so it's I'm",
    "start": "747120",
    "end": "748959"
  },
  {
    "text": "basically printing out the steps as we",
    "start": "748959",
    "end": "750240"
  },
  {
    "text": "go cool so we're doing our grading right",
    "start": "750240",
    "end": "751880"
  },
  {
    "text": "now so we're grading our documents first",
    "start": "751880",
    "end": "754760"
  },
  {
    "text": "document's relevant second document's",
    "start": "754760",
    "end": "756639"
  },
  {
    "text": "relevant and I can go over to lsmith",
    "start": "756639",
    "end": "758160"
  },
  {
    "text": "here and let's see what's going on so",
    "start": "758160",
    "end": "760040"
  },
  {
    "text": "it's kind of chugging along so I can see",
    "start": "760040",
    "end": "762839"
  },
  {
    "text": "I can really dig into this like I can",
    "start": "762839",
    "end": "764480"
  },
  {
    "text": "look at every every document getting",
    "start": "764480",
    "end": "766040"
  },
  {
    "text": "graded I can look at the individual",
    "start": "766040",
    "end": "767279"
  },
  {
    "text": "grade prompts the individual documents",
    "start": "767279",
    "end": "769199"
  },
  {
    "text": "it's all pretty nice it's all logged for",
    "start": "769199",
    "end": "770800"
  },
  {
    "text": "us so that's all our grading stuff and",
    "start": "770800",
    "end": "774480"
  },
  {
    "text": "it ran that's great so we just build a",
    "start": "774480",
    "end": "776959"
  },
  {
    "text": "little simple agent again it has memory",
    "start": "776959",
    "end": "780199"
  },
  {
    "text": "it has state it has planning it has a",
    "start": "780199",
    "end": "782279"
  },
  {
    "text": "control flow um and it uses tools it's",
    "start": "782279",
    "end": "785760"
  },
  {
    "text": "an agent and it ran locally all on my",
    "start": "785760",
    "end": "788560"
  },
  {
    "text": "laptop so that's cool that's kind of",
    "start": "788560",
    "end": "790720"
  },
  {
    "text": "step one now let's beef this up a little",
    "start": "790720",
    "end": "792839"
  },
  {
    "text": "bit I can throw in the selfrag stuff",
    "start": "792839",
    "end": "795720"
  },
  {
    "text": "which is what we see in our diagram up",
    "start": "795720",
    "end": "797600"
  },
  {
    "text": "here in green I just need two new",
    "start": "797600",
    "end": "799519"
  },
  {
    "text": "graders but it's going to use the same",
    "start": "799519",
    "end": "801240"
  },
  {
    "text": "stuff we just talked about I want to",
    "start": "801240",
    "end": "802760"
  },
  {
    "text": "grade the the generations for",
    "start": "802760",
    "end": "804279"
  },
  {
    "text": "hallucinations I want to grade the",
    "start": "804279",
    "end": "806360"
  },
  {
    "text": "generations for relevance to my question",
    "start": "806360",
    "end": "809720"
  },
  {
    "text": "so let's throw in uh two additional",
    "start": "809720",
    "end": "811279"
  },
  {
    "start": "810000",
    "end": "850000"
  },
  {
    "text": "graders here and um why don't I add them",
    "start": "811279",
    "end": "814199"
  },
  {
    "text": "up here just for convenience um so this",
    "start": "814199",
    "end": "818880"
  },
  {
    "text": "is me my hallucination grader let's kick",
    "start": "818880",
    "end": "821279"
  },
  {
    "text": "that off and I'm just doing a kind of",
    "start": "821279",
    "end": "824279"
  },
  {
    "text": "simple test here so all this is going to",
    "start": "824279",
    "end": "826959"
  },
  {
    "text": "do is really simply um determine whether",
    "start": "826959",
    "end": "830279"
  },
  {
    "text": "or not there's the the answer is",
    "start": "830279",
    "end": "832120"
  },
  {
    "text": "grounded in my documents so yes no right",
    "start": "832120",
    "end": "834560"
  },
  {
    "text": "if if it's grounded then yes otherwise",
    "start": "834560",
    "end": "836720"
  },
  {
    "text": "no um and same here so answer grader um",
    "start": "836720",
    "end": "841560"
  },
  {
    "text": "you know does my generation answer the",
    "start": "841560",
    "end": "843880"
  },
  {
    "text": "question again you can look at the",
    "start": "843880",
    "end": "845079"
  },
  {
    "text": "prompts I'll share all this code of",
    "start": "845079",
    "end": "846360"
  },
  {
    "text": "course and so that all runs cool so we",
    "start": "846360",
    "end": "849399"
  },
  {
    "text": "have that now all I need to add this is",
    "start": "849399",
    "end": "851880"
  },
  {
    "start": "850000",
    "end": "930000"
  },
  {
    "text": "actually pretty simple is just one",
    "start": "851880",
    "end": "853680"
  },
  {
    "text": "additional conditional Edge to My Graph",
    "start": "853680",
    "end": "856440"
  },
  {
    "text": "and let's scroll down to where my edges",
    "start": "856440",
    "end": "858360"
  },
  {
    "text": "are so you you before we defined decide",
    "start": "858360",
    "end": "861040"
  },
  {
    "text": "to generate as a conditional Edge and",
    "start": "861040",
    "end": "862639"
  },
  {
    "text": "again what was that doing that was",
    "start": "862639",
    "end": "864320"
  },
  {
    "text": "making this decision the next decision",
    "start": "864320",
    "end": "866639"
  },
  {
    "text": "is is this um you know hallucination",
    "start": "866639",
    "end": "869320"
  },
  {
    "text": "conditional Edge so basically if my",
    "start": "869320",
    "end": "870639"
  },
  {
    "text": "hallucination grader uh identifies that",
    "start": "870639",
    "end": "873600"
  },
  {
    "text": "there's hallucinations I'm going to feed",
    "start": "873600",
    "end": "875680"
  },
  {
    "text": "back and we will go ahead and see that",
    "start": "875680",
    "end": "879120"
  },
  {
    "text": "here shortly so",
    "start": "879120",
    "end": "882320"
  },
  {
    "text": "um here's additional conditional Edge",
    "start": "882320",
    "end": "885680"
  },
  {
    "text": "and this is actually going to wrap in",
    "start": "885680",
    "end": "887000"
  },
  {
    "text": "both of my checks so you can see what's",
    "start": "887000",
    "end": "889279"
  },
  {
    "text": "happening here is first my hallucination",
    "start": "889279",
    "end": "891680"
  },
  {
    "text": "grader looks at the generation R to the",
    "start": "891680",
    "end": "893480"
  },
  {
    "text": "documents it gets the grade um if the",
    "start": "893480",
    "end": "896360"
  },
  {
    "text": "grade is yes um then the generation is",
    "start": "896360",
    "end": "900040"
  },
  {
    "text": "grounded in in the document so that's a",
    "start": "900040",
    "end": "902160"
  },
  {
    "text": "good thing um and then we go ahead and",
    "start": "902160",
    "end": "905639"
  },
  {
    "text": "move on to test whether or not it's",
    "start": "905639",
    "end": "907199"
  },
  {
    "text": "grounded in the if relevant to the",
    "start": "907199",
    "end": "908959"
  },
  {
    "text": "question um and so it's basically going",
    "start": "908959",
    "end": "911000"
  },
  {
    "text": "to return three things um either the a",
    "start": "911000",
    "end": "915320"
  },
  {
    "text": "generation has hallucinations I it's not",
    "start": "915320",
    "end": "917600"
  },
  {
    "text": "supported by the documents um or the",
    "start": "917600",
    "end": "920959"
  },
  {
    "text": "generation is in which case then it's",
    "start": "920959",
    "end": "924000"
  },
  {
    "text": "either useful or it's not useful okay so",
    "start": "924000",
    "end": "927480"
  },
  {
    "text": "that's kind of how we set up our",
    "start": "927480",
    "end": "929079"
  },
  {
    "text": "conditional ledge and all we need to do",
    "start": "929079",
    "end": "932199"
  },
  {
    "start": "930000",
    "end": "1040000"
  },
  {
    "text": "now is we can update basically our graph",
    "start": "932199",
    "end": "935440"
  },
  {
    "text": "build here and so what you're going to",
    "start": "935440",
    "end": "938079"
  },
  {
    "text": "do is we can map from the outputs of our",
    "start": "938079",
    "end": "941639"
  },
  {
    "text": "conditional Edge so remember we're",
    "start": "941639",
    "end": "943240"
  },
  {
    "text": "outputting either useful not useful and",
    "start": "943240",
    "end": "945240"
  },
  {
    "text": "not supported we map between those to",
    "start": "945240",
    "end": "947880"
  },
  {
    "text": "the associated nodes we want to go to so",
    "start": "947880",
    "end": "950120"
  },
  {
    "text": "if it's not you if it's not useful we're",
    "start": "950120",
    "end": "952680"
  },
  {
    "text": "going to fall back to web search okay so",
    "start": "952680",
    "end": "954880"
  },
  {
    "text": "that's basically this case so basically",
    "start": "954880",
    "end": "957920"
  },
  {
    "text": "if it's not use doesn't answer the",
    "start": "957920",
    "end": "959959"
  },
  {
    "text": "question we're kicking back to web",
    "start": "959959",
    "end": "961440"
  },
  {
    "text": "search right so that's kind of scenario",
    "start": "961440",
    "end": "964279"
  },
  {
    "text": "one uh if it's not supported we try",
    "start": "964279",
    "end": "967199"
  },
  {
    "text": "again we go back to generate otherwise",
    "start": "967199",
    "end": "969279"
  },
  {
    "text": "it's useful and we finish that's it so",
    "start": "969279",
    "end": "973079"
  },
  {
    "text": "let's go ahead and try that so we're",
    "start": "973079",
    "end": "977079"
  },
  {
    "text": "going to retrieve again we're going to",
    "start": "977079",
    "end": "979319"
  },
  {
    "text": "check our document relevance again",
    "start": "979319",
    "end": "981120"
  },
  {
    "text": "documents relevant so we can see our",
    "start": "981120",
    "end": "982519"
  },
  {
    "text": "agent rolling here this is always kind",
    "start": "982519",
    "end": "984120"
  },
  {
    "text": "of fun uh just kicking just chugging",
    "start": "984120",
    "end": "987319"
  },
  {
    "text": "along and I can close this down so it's",
    "start": "987319",
    "end": "991440"
  },
  {
    "text": "checking my relevance it determined",
    "start": "991440",
    "end": "993279"
  },
  {
    "text": "relevance is good it's doing generation",
    "start": "993279",
    "end": "995279"
  },
  {
    "text": "now so that's also cool let's also open",
    "start": "995279",
    "end": "997880"
  },
  {
    "text": "that up so we can see the whole Trace in",
    "start": "997880",
    "end": "999800"
  },
  {
    "text": "real time doing our grading here",
    "start": "999800",
    "end": "1002759"
  },
  {
    "text": "generation so we again we can like",
    "start": "1002759",
    "end": "1004279"
  },
  {
    "text": "really dig in and then this is our this",
    "start": "1004279",
    "end": "1006240"
  },
  {
    "text": "is our second grading step you can",
    "start": "1006240",
    "end": "1007959"
  },
  {
    "text": "really drill drill into all these pieces",
    "start": "1007959",
    "end": "1009480"
  },
  {
    "text": "so I really like having my traces here",
    "start": "1009480",
    "end": "1011680"
  },
  {
    "text": "where I can actually see what's going on",
    "start": "1011680",
    "end": "1012920"
  },
  {
    "text": "under the hood in each of these pieces",
    "start": "1012920",
    "end": "1014240"
  },
  {
    "text": "you can see it's like really nicely laid",
    "start": "1014240",
    "end": "1016480"
  },
  {
    "text": "out you can kind of close this stuff",
    "start": "1016480",
    "end": "1017800"
  },
  {
    "text": "down if you don't want to see it this is",
    "start": "1017800",
    "end": "1019279"
  },
  {
    "text": "pretty cool right um so yeah we're going",
    "start": "1019279",
    "end": "1022440"
  },
  {
    "text": "generation then we're doing our grading",
    "start": "1022440",
    "end": "1024678"
  },
  {
    "text": "and so this is pretty cool so it did",
    "start": "1024679",
    "end": "1026720"
  },
  {
    "text": "generation it checked hallucinations it",
    "start": "1026720",
    "end": "1028880"
  },
  {
    "text": "found that the generation is grounded in",
    "start": "1028880",
    "end": "1030678"
  },
  {
    "text": "the documents um and then so the the",
    "start": "1030679",
    "end": "1033438"
  },
  {
    "text": "hallucinations are good and then it",
    "start": "1033439",
    "end": "1035678"
  },
  {
    "text": "found that the generation addresses our",
    "start": "1035679",
    "end": "1037079"
  },
  {
    "text": "question so that's really cool we're",
    "start": "1037079",
    "end": "1039160"
  },
  {
    "text": "really rolling here and we really only",
    "start": "1039160",
    "end": "1041360"
  },
  {
    "start": "1040000",
    "end": "1220000"
  },
  {
    "text": "need one more piece so let's just throw",
    "start": "1041360",
    "end": "1043480"
  },
  {
    "text": "in a router Router is pretty easy it's",
    "start": "1043480",
    "end": "1046600"
  },
  {
    "text": "going to build on what we just talked",
    "start": "1046600",
    "end": "1047798"
  },
  {
    "text": "about actually so router is just again",
    "start": "1047799",
    "end": "1050360"
  },
  {
    "text": "I'm going to use Json mode but here I'm",
    "start": "1050360",
    "end": "1051799"
  },
  {
    "text": "just going to basically say hey given",
    "start": "1051799",
    "end": "1053559"
  },
  {
    "text": "the question given what's in my Vector",
    "start": "1053559",
    "end": "1055799"
  },
  {
    "text": "store so I tell it the vector store has",
    "start": "1055799",
    "end": "1057880"
  },
  {
    "text": "uh llm agents prompt engineering and",
    "start": "1057880",
    "end": "1059720"
  },
  {
    "text": "adversarial attacks right um if the",
    "start": "1059720",
    "end": "1062640"
  },
  {
    "text": "questions related to those topics you",
    "start": "1062640",
    "end": "1063840"
  },
  {
    "text": "use Vector store otherwise fall back to",
    "start": "1063840",
    "end": "1065799"
  },
  {
    "text": "web search I tell it return either",
    "start": "1065799",
    "end": "1067600"
  },
  {
    "text": "Vector store web search that's it let's",
    "start": "1067600",
    "end": "1070440"
  },
  {
    "text": "just do a test here make sure that",
    "start": "1070440",
    "end": "1071679"
  },
  {
    "text": "actually works um so I'm passing a",
    "start": "1071679",
    "end": "1074600"
  },
  {
    "text": "question related to my Vector store it",
    "start": "1074600",
    "end": "1077200"
  },
  {
    "text": "determines yeah use the vector store",
    "start": "1077200",
    "end": "1080080"
  },
  {
    "text": "easy um so I want one more Edge route",
    "start": "1080080",
    "end": "1084840"
  },
  {
    "text": "questions um let me go ahead and throw",
    "start": "1084840",
    "end": "1087039"
  },
  {
    "text": "this in here so here's all my edges",
    "start": "1087039",
    "end": "1089679"
  },
  {
    "text": "let's just add this one cool so route",
    "start": "1089679",
    "end": "1092799"
  },
  {
    "text": "questions so again follows ex what we",
    "start": "1092799",
    "end": "1094799"
  },
  {
    "text": "did before we look at our question",
    "start": "1094799",
    "end": "1097240"
  },
  {
    "text": "invoke our router depending on the",
    "start": "1097240",
    "end": "1099520"
  },
  {
    "text": "router State um so I can probably get",
    "start": "1099520",
    "end": "1101960"
  },
  {
    "text": "rid of these extra prints H why not I'll",
    "start": "1101960",
    "end": "1104080"
  },
  {
    "text": "keep them um so basically if the source",
    "start": "1104080",
    "end": "1107360"
  },
  {
    "text": "is web search then go to we Sear search",
    "start": "1107360",
    "end": "1109039"
  },
  {
    "text": "if it's not good if it's Vector store go",
    "start": "1109039",
    "end": "1110480"
  },
  {
    "text": "to Vector store right really simple",
    "start": "1110480",
    "end": "1112400"
  },
  {
    "text": "stuff um cool let's go ahead and do",
    "start": "1112400",
    "end": "1116919"
  },
  {
    "text": "that um let's now build our graph so",
    "start": "1116919",
    "end": "1122799"
  },
  {
    "text": "we're going to set an entry point now so",
    "start": "1122799",
    "end": "1124559"
  },
  {
    "text": "my entry points the router it's going to",
    "start": "1124559",
    "end": "1126640"
  },
  {
    "text": "decide to go to web search or",
    "start": "1126640",
    "end": "1128400"
  },
  {
    "text": "retriever um and then you can see this",
    "start": "1128400",
    "end": "1130840"
  },
  {
    "text": "this control flow is the same as we had",
    "start": "1130840",
    "end": "1132679"
  },
  {
    "text": "before that's it nice and let's try that",
    "start": "1132679",
    "end": "1137640"
  },
  {
    "text": "so first we're going to Route the",
    "start": "1137640",
    "end": "1138840"
  },
  {
    "text": "question so it's kind of printing that",
    "start": "1138840",
    "end": "1140480"
  },
  {
    "text": "out and it decides to go to the vector",
    "start": "1140480",
    "end": "1142559"
  },
  {
    "text": "store as we expect that's great and now",
    "start": "1142559",
    "end": "1145400"
  },
  {
    "text": "it's following the same flow we talked",
    "start": "1145400",
    "end": "1146840"
  },
  {
    "text": "about before so we've just implemented",
    "start": "1146840",
    "end": "1149039"
  },
  {
    "text": "this final piece of the routing you can",
    "start": "1149039",
    "end": "1151039"
  },
  {
    "text": "see it kind of went to uh it went",
    "start": "1151039",
    "end": "1153520"
  },
  {
    "text": "correctly routed to our Vector store so",
    "start": "1153520",
    "end": "1155400"
  },
  {
    "text": "that's great let's look at the",
    "start": "1155400",
    "end": "1157440"
  },
  {
    "text": "trace and yeah so we can like dig into",
    "start": "1157440",
    "end": "1160559"
  },
  {
    "text": "all this we can look at the router yeah",
    "start": "1160559",
    "end": "1163120"
  },
  {
    "text": "so it makes the right decision let's go",
    "start": "1163120",
    "end": "1164440"
  },
  {
    "text": "to the vector store that's",
    "start": "1164440",
    "end": "1166080"
  },
  {
    "text": "fantastic um then it does retrieval then",
    "start": "1166080",
    "end": "1168960"
  },
  {
    "text": "it grades the documents we saw this",
    "start": "1168960",
    "end": "1170280"
  },
  {
    "text": "before so it's kind of nothing new it's",
    "start": "1170280",
    "end": "1171679"
  },
  {
    "text": "still chugging along here we can look at",
    "start": "1171679",
    "end": "1173679"
  },
  {
    "text": "the",
    "start": "1173679",
    "end": "1175280"
  },
  {
    "text": "generation okay and it looks like it",
    "start": "1175280",
    "end": "1178840"
  },
  {
    "text": "probably",
    "start": "1178840",
    "end": "1180360"
  },
  {
    "text": "finished very cool so that's kind of",
    "start": "1180360",
    "end": "1182799"
  },
  {
    "text": "everything now let's actually just s",
    "start": "1182799",
    "end": "1184159"
  },
  {
    "text": "check this again let's let's ask a",
    "start": "1184159",
    "end": "1185520"
  },
  {
    "text": "question like related to current events",
    "start": "1185520",
    "end": "1187880"
  },
  {
    "text": "uh okay so we can ask a question who are",
    "start": "1187880",
    "end": "1189720"
  },
  {
    "text": "the Bears expected to draft first in the",
    "start": "1189720",
    "end": "1191520"
  },
  {
    "text": "NFL draft let's see if that kind of all",
    "start": "1191520",
    "end": "1194320"
  },
  {
    "text": "flows as",
    "start": "1194320",
    "end": "1195720"
  },
  {
    "text": "expected we can route to we'll route to",
    "start": "1195720",
    "end": "1197880"
  },
  {
    "text": "web search",
    "start": "1197880",
    "end": "1199760"
  },
  {
    "text": "um check for",
    "start": "1199760",
    "end": "1201520"
  },
  {
    "text": "hallucinations we can actually look at",
    "start": "1201520",
    "end": "1203200"
  },
  {
    "text": "our land graph Trace just to kind of",
    "start": "1203200",
    "end": "1205400"
  },
  {
    "text": "Sandy check what's going",
    "start": "1205400",
    "end": "1207240"
  },
  {
    "text": "on",
    "start": "1207240",
    "end": "1210039"
  },
  {
    "text": "um cool the Bears are expected to draft",
    "start": "1210039",
    "end": "1212799"
  },
  {
    "text": "USC star yeah Caleb Williams this is",
    "start": "1212799",
    "end": "1215039"
  },
  {
    "text": "this is kind of the consensus pick so",
    "start": "1215039",
    "end": "1217080"
  },
  {
    "text": "that looks great so anyway we've seen in",
    "start": "1217080",
    "end": "1219640"
  },
  {
    "text": "relatively short period of time that we",
    "start": "1219640",
    "end": "1222159"
  },
  {
    "start": "1220000",
    "end": "1278000"
  },
  {
    "text": "can build a pretty complex rag flow as",
    "start": "1222159",
    "end": "1225720"
  },
  {
    "text": "you see right here with routing with",
    "start": "1225720",
    "end": "1228640"
  },
  {
    "text": "retrieval grading with different",
    "start": "1228640",
    "end": "1230600"
  },
  {
    "text": "interesting decision points a fall back",
    "start": "1230600",
    "end": "1232039"
  },
  {
    "text": "to web search uh grading of generations",
    "start": "1232039",
    "end": "1234720"
  },
  {
    "text": "for two different criteria we can build",
    "start": "1234720",
    "end": "1237000"
  },
  {
    "text": "this it runs reliably it runs locally on",
    "start": "1237000",
    "end": "1239480"
  },
  {
    "text": "my laptop it runs with llama llama 38b",
    "start": "1239480",
    "end": "1242760"
  },
  {
    "text": "and you know we can look at you can look",
    "start": "1242760",
    "end": "1244240"
  },
  {
    "text": "at Lang Smith traces here um we can look",
    "start": "1244240",
    "end": "1246799"
  },
  {
    "text": "at the latencies this whole thing ran in",
    "start": "1246799",
    "end": "1248480"
  },
  {
    "text": "14 seconds which is pretty good for",
    "start": "1248480",
    "end": "1250400"
  },
  {
    "text": "something that's running locally on my",
    "start": "1250400",
    "end": "1251640"
  },
  {
    "text": "laptop um and you can see this is like a",
    "start": "1251640",
    "end": "1253600"
  },
  {
    "text": "non-trivial rag flow introducing ideas",
    "start": "1253600",
    "end": "1255720"
  },
  {
    "text": "from three papers they were able to do",
    "start": "1255720",
    "end": "1257919"
  },
  {
    "text": "uh all locally",
    "start": "1257919",
    "end": "1259200"
  },
  {
    "text": "and again this idea of control flows is",
    "start": "1259200",
    "end": "1260799"
  },
  {
    "text": "really what allows you to kind of lay",
    "start": "1260799",
    "end": "1262360"
  },
  {
    "text": "these out in such a way that a local",
    "start": "1262360",
    "end": "1265240"
  },
  {
    "text": "kind of agent can actually run reliably",
    "start": "1265240",
    "end": "1267480"
  },
  {
    "text": "I think that's like really the important",
    "start": "1267480",
    "end": "1268799"
  },
  {
    "text": "point to to kind of bring home and uh I",
    "start": "1268799",
    "end": "1271720"
  },
  {
    "text": "encourage you to play with this I'll",
    "start": "1271720",
    "end": "1272760"
  },
  {
    "text": "make sure the code's public but um yeah",
    "start": "1272760",
    "end": "1274919"
  },
  {
    "text": "hopefully this is useful and feel free",
    "start": "1274919",
    "end": "1276200"
  },
  {
    "text": "to leave any comments thanks",
    "start": "1276200",
    "end": "1280360"
  }
]