[
  {
    "text": "hey everyone this is Harrison from Lang",
    "start": "919",
    "end": "3480"
  },
  {
    "text": "chain here I wanted to do a video on",
    "start": "3480",
    "end": "6480"
  },
  {
    "text": "Lang graph which is a new library we",
    "start": "6480",
    "end": "9360"
  },
  {
    "text": "released um pretty recently and how you",
    "start": "9360",
    "end": "12599"
  },
  {
    "text": "can use l graph to create some",
    "start": "12599",
    "end": "15200"
  },
  {
    "text": "multi-agent workflows so for those of",
    "start": "15200",
    "end": "18439"
  },
  {
    "text": "you who aren't caught up on L graph we",
    "start": "18439",
    "end": "20359"
  },
  {
    "text": "have a whole series of videos going",
    "start": "20359",
    "end": "21920"
  },
  {
    "text": "through it and it's basically a way to",
    "start": "21920",
    "end": "24680"
  },
  {
    "text": "dynamically",
    "start": "24680",
    "end": "26599"
  },
  {
    "text": "create agent-like workflows as graphs so",
    "start": "26599",
    "end": "30199"
  },
  {
    "text": "what do I mean by that by an agent-like",
    "start": "30199",
    "end": "31800"
  },
  {
    "text": "workflow I I generally mean running a",
    "start": "31800",
    "end": "33840"
  },
  {
    "text": "language model in a loop in a variety of",
    "start": "33840",
    "end": "36640"
  },
  {
    "text": "ways um and there's different structure",
    "start": "36640",
    "end": "39399"
  },
  {
    "text": "and how you might want to run that",
    "start": "39399",
    "end": "41039"
  },
  {
    "text": "language model in a loop and so L graph",
    "start": "41039",
    "end": "43719"
  },
  {
    "text": "is useful for defining that structure",
    "start": "43719",
    "end": "45840"
  },
  {
    "text": "and specifically it allows for the",
    "start": "45840",
    "end": "47559"
  },
  {
    "text": "definition of Cycles because this is a",
    "start": "47559",
    "end": "49320"
  },
  {
    "text": "loop after all um another way to think",
    "start": "49320",
    "end": "52199"
  },
  {
    "text": "about this um is thinking about it as a",
    "start": "52199",
    "end": "54879"
  },
  {
    "text": "way to define kind of like State",
    "start": "54879",
    "end": "56800"
  },
  {
    "text": "machines um and and so a state machine",
    "start": "56800",
    "end": "59879"
  },
  {
    "text": "machine and a labeled directed graph are",
    "start": "59879",
    "end": "63039"
  },
  {
    "text": "pretty similar and that you have",
    "start": "63039",
    "end": "64799"
  },
  {
    "text": "different nodes and if if you think of",
    "start": "64799",
    "end": "66760"
  },
  {
    "text": "this as a state machine then a node",
    "start": "66760",
    "end": "68200"
  },
  {
    "text": "would be a state and if you think of it",
    "start": "68200",
    "end": "70200"
  },
  {
    "text": "um as as uh uh kind of like in this",
    "start": "70200",
    "end": "72920"
  },
  {
    "text": "multi-agent workflow then that node",
    "start": "72920",
    "end": "75400"
  },
  {
    "text": "state is an agent um and then you have",
    "start": "75400",
    "end": "77840"
  },
  {
    "text": "these edges between them and so in a",
    "start": "77840",
    "end": "80320"
  },
  {
    "text": "graph that's an edge in a state machine",
    "start": "80320",
    "end": "82560"
  },
  {
    "text": "that is uh you know transition",
    "start": "82560",
    "end": "84680"
  },
  {
    "text": "probabilities and when you think of",
    "start": "84680",
    "end": "85799"
  },
  {
    "text": "these multi-agent workflows then those",
    "start": "85799",
    "end": "87799"
  },
  {
    "text": "are basically how do these agents",
    "start": "87799",
    "end": "89159"
  },
  {
    "text": "communicate to each other so we'll think",
    "start": "89159",
    "end": "91320"
  },
  {
    "text": "about building multi-agent workflows",
    "start": "91320",
    "end": "93159"
  },
  {
    "text": "using L graph the nodes are the agents",
    "start": "93159",
    "end": "96000"
  },
  {
    "text": "the edges are how they communicate um if",
    "start": "96000",
    "end": "98520"
  },
  {
    "text": "you haven't already checked out L graph",
    "start": "98520",
    "end": "100040"
  },
  {
    "text": "again highly recommend that you check",
    "start": "100040",
    "end": "101240"
  },
  {
    "text": "out the this the video that we have at a",
    "start": "101240",
    "end": "103840"
  },
  {
    "text": "high level the syntax looks like this",
    "start": "103840",
    "end": "105479"
  },
  {
    "text": "it's very similar to network X you",
    "start": "105479",
    "end": "107200"
  },
  {
    "text": "define a graph that tracks some State",
    "start": "107200",
    "end": "109200"
  },
  {
    "text": "over time you then add nodes into that",
    "start": "109200",
    "end": "111799"
  },
  {
    "text": "graph you then Define edges between",
    "start": "111799",
    "end": "113719"
  },
  {
    "text": "those nodes and then you can use it um",
    "start": "113719",
    "end": "116280"
  },
  {
    "text": "like you would uh any other um L chain",
    "start": "116280",
    "end": "120159"
  },
  {
    "text": "chain so today I want to talk about",
    "start": "120159",
    "end": "123119"
  },
  {
    "text": "three different variants of multi-agent",
    "start": "123119",
    "end": "125920"
  },
  {
    "text": "workflows that we're going to use laying",
    "start": "125920",
    "end": "129000"
  },
  {
    "text": "graph to create so the first one is what",
    "start": "129000",
    "end": "132640"
  },
  {
    "text": "we're calling multi-agent",
    "start": "132640",
    "end": "134440"
  },
  {
    "text": "collaboration and so this is largely",
    "start": "134440",
    "end": "137040"
  },
  {
    "text": "defined as you have multiple agents",
    "start": "137040",
    "end": "139760"
  },
  {
    "text": "working on the same state of messages so",
    "start": "139760",
    "end": "143440"
  },
  {
    "text": "when you think about multiple agents",
    "start": "143440",
    "end": "145160"
  },
  {
    "text": "collaborating they can either kind of",
    "start": "145160",
    "end": "146959"
  },
  {
    "text": "like share State between them or they",
    "start": "146959",
    "end": "148920"
  },
  {
    "text": "can be kind of like independent and work",
    "start": "148920",
    "end": "151319"
  },
  {
    "text": "on their own and then maybe pass like",
    "start": "151319",
    "end": "153000"
  },
  {
    "text": "final responses to the other and so in a",
    "start": "153000",
    "end": "155519"
  },
  {
    "text": "multi-agent collaboration they share the",
    "start": "155519",
    "end": "157239"
  },
  {
    "text": "state and so specifically this this",
    "start": "157239",
    "end": "159599"
  },
  {
    "text": "example that we've set up it has two",
    "start": "159599",
    "end": "161879"
  },
  {
    "text": "different agents and these are basically",
    "start": "161879",
    "end": "163640"
  },
  {
    "text": "prompts plus llms so there's a prompts",
    "start": "163640",
    "end": "166840"
  },
  {
    "text": "plus an llm for a researcher and there's",
    "start": "166840",
    "end": "168840"
  },
  {
    "text": "a prompt plus an llm for a chart",
    "start": "168840",
    "end": "170599"
  },
  {
    "text": "generator they each have a few different",
    "start": "170599",
    "end": "172360"
  },
  {
    "text": "tools that they can call but basically",
    "start": "172360",
    "end": "173959"
  },
  {
    "text": "the way that it works is we first call",
    "start": "173959",
    "end": "175840"
  },
  {
    "text": "the researcher uh node or the researcher",
    "start": "175840",
    "end": "178319"
  },
  {
    "text": "agent we get a message",
    "start": "178319",
    "end": "180480"
  },
  {
    "text": "and then from there there's three",
    "start": "180480",
    "end": "181680"
  },
  {
    "text": "different ways that it can go one if the",
    "start": "181680",
    "end": "184080"
  },
  {
    "text": "researcher says to call a function then",
    "start": "184080",
    "end": "186080"
  },
  {
    "text": "we call that tool and then we go back to",
    "start": "186080",
    "end": "188360"
  },
  {
    "text": "the researcher two if the researcher",
    "start": "188360",
    "end": "191720"
  },
  {
    "text": "says a message that that says final",
    "start": "191720",
    "end": "194720"
  },
  {
    "text": "answer so we in the prompt we say like",
    "start": "194720",
    "end": "196280"
  },
  {
    "text": "if you're done say final answer so if",
    "start": "196280",
    "end": "198159"
  },
  {
    "text": "the researcher says final answer then it",
    "start": "198159",
    "end": "199840"
  },
  {
    "text": "returns to the user and then three if it",
    "start": "199840",
    "end": "201959"
  },
  {
    "text": "just sends a normal message there's no",
    "start": "201959",
    "end": "203959"
  },
  {
    "text": "tool calls and there's no final answer",
    "start": "203959",
    "end": "206319"
  },
  {
    "text": "then we let the chart generator take a",
    "start": "206319",
    "end": "208159"
  },
  {
    "text": "look at the state that's accumulated",
    "start": "208159",
    "end": "210360"
  },
  {
    "text": "um and kind of uh respond after that so",
    "start": "210360",
    "end": "214640"
  },
  {
    "text": "we're going to we're going to walk",
    "start": "214640",
    "end": "215959"
  },
  {
    "text": "through what this looks like um we're",
    "start": "215959",
    "end": "218560"
  },
  {
    "text": "first going to set up everything we've",
    "start": "218560",
    "end": "220120"
  },
  {
    "text": "need I've already done this um",
    "start": "220120",
    "end": "222760"
  },
  {
    "text": "importantly we're going to be using Lang",
    "start": "222760",
    "end": "224239"
  },
  {
    "text": "Smith here to kind of like track the the",
    "start": "224239",
    "end": "226280"
  },
  {
    "text": "multi-agents and see what's going on for",
    "start": "226280",
    "end": "228400"
  },
  {
    "text": "for a really good debugging experience",
    "start": "228400",
    "end": "231319"
  },
  {
    "text": "um Lang Smith right now is in private",
    "start": "231319",
    "end": "232799"
  },
  {
    "text": "beta if you don't have access shoot me a",
    "start": "232799",
    "end": "234519"
  },
  {
    "text": "DM on LinkedIn or Twitter and we can get",
    "start": "234519",
    "end": "236879"
  },
  {
    "text": "you access so the first thing we're",
    "start": "236879",
    "end": "239319"
  },
  {
    "text": "going to do do is we're going to Define",
    "start": "239319",
    "end": "240959"
  },
  {
    "text": "this helper function that creates an",
    "start": "240959",
    "end": "242439"
  },
  {
    "text": "agent so basically we're going to create",
    "start": "242439",
    "end": "244920"
  },
  {
    "text": "uh these two kind of like agents up here",
    "start": "244920",
    "end": "248200"
  },
  {
    "text": "um and these agents are parameterized by",
    "start": "248200",
    "end": "250400"
  },
  {
    "text": "an llm the tools they have and a system",
    "start": "250400",
    "end": "253079"
  },
  {
    "text": "message and so then we're taking kind of",
    "start": "253079",
    "end": "255560"
  },
  {
    "text": "like uh we're basically creating this",
    "start": "255560",
    "end": "258880"
  },
  {
    "text": "mini chain this very simple mini chain",
    "start": "258880",
    "end": "261280"
  },
  {
    "text": "that is a prompt which has uh the system",
    "start": "261280",
    "end": "263960"
  },
  {
    "text": "message in it um and then it's a it's a",
    "start": "263960",
    "end": "266720"
  },
  {
    "text": "call to the llm and it has access to",
    "start": "266720",
    "end": "269199"
  },
  {
    "text": "some tool so let's define this helper",
    "start": "269199",
    "end": "271160"
  },
  {
    "text": "function we're then going to define the",
    "start": "271160",
    "end": "273120"
  },
  {
    "text": "tools that we want the agents to be able",
    "start": "273120",
    "end": "275880"
  },
  {
    "text": "to call so we'll have one Search tool",
    "start": "275880",
    "end": "278479"
  },
  {
    "text": "we'll use tavil search for that and then",
    "start": "278479",
    "end": "280240"
  },
  {
    "text": "we'll have one python tool that can run",
    "start": "280240",
    "end": "282320"
  },
  {
    "text": "python",
    "start": "282320",
    "end": "284080"
  },
  {
    "text": "code um now we can start to create our",
    "start": "284080",
    "end": "286840"
  },
  {
    "text": "graph so first we're going to define the",
    "start": "286840",
    "end": "289000"
  },
  {
    "text": "state of what we want to track so we",
    "start": "289000",
    "end": "291000"
  },
  {
    "text": "want to track the messages and so again",
    "start": "291000",
    "end": "292800"
  },
  {
    "text": "like each agent will add a message to",
    "start": "292800",
    "end": "294720"
  },
  {
    "text": "this messages property and then we also",
    "start": "294720",
    "end": "296960"
  },
  {
    "text": "want to track who the most recent sender",
    "start": "296960",
    "end": "298680"
  },
  {
    "text": "is and the reason reason we need this",
    "start": "298680",
    "end": "300280"
  },
  {
    "text": "info is because after we call this tool",
    "start": "300280",
    "end": "303720"
  },
  {
    "text": "we're going to check who the sender was",
    "start": "303720",
    "end": "305400"
  },
  {
    "text": "and we're going to return to them so",
    "start": "305400",
    "end": "306880"
  },
  {
    "text": "this is just some some State that's",
    "start": "306880",
    "end": "308400"
  },
  {
    "text": "useful to track over",
    "start": "308400",
    "end": "310080"
  },
  {
    "text": "time um so let's define this state um",
    "start": "310080",
    "end": "314000"
  },
  {
    "text": "we're now going to Define some agent",
    "start": "314000",
    "end": "316479"
  },
  {
    "text": "nodes so here we've created a little",
    "start": "316479",
    "end": "319039"
  },
  {
    "text": "helper function to create an agent node",
    "start": "319039",
    "end": "321479"
  },
  {
    "text": "and so specifically this agent node is",
    "start": "321479",
    "end": "323360"
  },
  {
    "text": "going to uh take in state agent name",
    "start": "323360",
    "end": "326000"
  },
  {
    "text": "it's going to call the agent on the",
    "start": "326000",
    "end": "328000"
  },
  {
    "text": "state and it's then going to look at the",
    "start": "328000",
    "end": "330759"
  },
  {
    "text": "uh uh result we need to do a little bit",
    "start": "330759",
    "end": "333440"
  },
  {
    "text": "of kind of like converting here so the",
    "start": "333440",
    "end": "335120"
  },
  {
    "text": "agent is going to respond with an AI",
    "start": "335120",
    "end": "337000"
  },
  {
    "text": "message but when we add that to the",
    "start": "337000",
    "end": "339120"
  },
  {
    "text": "messages States that's accumulated over",
    "start": "339120",
    "end": "340919"
  },
  {
    "text": "time we want to represent that as a",
    "start": "340919",
    "end": "342960"
  },
  {
    "text": "human message actually um because we",
    "start": "342960",
    "end": "345680"
  },
  {
    "text": "basically want the next AI that sees",
    "start": "345680",
    "end": "348759"
  },
  {
    "text": "this to kind of like work with that and",
    "start": "348759",
    "end": "351479"
  },
  {
    "text": "so we're going to if it's a function",
    "start": "351479",
    "end": "353199"
  },
  {
    "text": "message then we're going to represent it",
    "start": "353199",
    "end": "354360"
  },
  {
    "text": "as a function message because it will",
    "start": "354360",
    "end": "356120"
  },
  {
    "text": "just say a function message otherwise",
    "start": "356120",
    "end": "357639"
  },
  {
    "text": "we're going to cast it to a human",
    "start": "357639",
    "end": "358840"
  },
  {
    "text": "message",
    "start": "358840",
    "end": "360319"
  },
  {
    "text": "and we're going to give it a specific",
    "start": "360319",
    "end": "361720"
  },
  {
    "text": "name we're going to give it the name of",
    "start": "361720",
    "end": "362840"
  },
  {
    "text": "the agent so that it knows basically is",
    "start": "362840",
    "end": "366599"
  },
  {
    "text": "this message that it sees again because",
    "start": "366599",
    "end": "369000"
  },
  {
    "text": "we're keeping track of This Global State",
    "start": "369000",
    "end": "370560"
  },
  {
    "text": "and so in the global State when it sees",
    "start": "370560",
    "end": "372560"
  },
  {
    "text": "a human message is it from this",
    "start": "372560",
    "end": "374120"
  },
  {
    "text": "researcher or is it from this charge",
    "start": "374120",
    "end": "377960"
  },
  {
    "text": "generator um and so we're going to do",
    "start": "377960",
    "end": "379720"
  },
  {
    "text": "that and we're going to create two nodes",
    "start": "379720",
    "end": "380759"
  },
  {
    "text": "we're going to create this research",
    "start": "380759",
    "end": "381759"
  },
  {
    "text": "agent node um by basically partialing",
    "start": "381759",
    "end": "384440"
  },
  {
    "text": "out the agent node function um and then",
    "start": "384440",
    "end": "386280"
  },
  {
    "text": "we're going to create this chart",
    "start": "386280",
    "end": "387240"
  },
  {
    "text": "generator",
    "start": "387240",
    "end": "388400"
  },
  {
    "text": "node",
    "start": "388400",
    "end": "391160"
  },
  {
    "text": "we're now going to define the tool node",
    "start": "391160",
    "end": "392560"
  },
  {
    "text": "this is the node that just runs the",
    "start": "392560",
    "end": "393840"
  },
  {
    "text": "tools it basically looks at the most",
    "start": "393840",
    "end": "395720"
  },
  {
    "text": "recent message it loads the tool",
    "start": "395720",
    "end": "398599"
  },
  {
    "text": "arguments it kind of it will call it it",
    "start": "398599",
    "end": "401000"
  },
  {
    "text": "will call the tool executor the tool",
    "start": "401000",
    "end": "402560"
  },
  {
    "text": "executor is just a simple wrapper around",
    "start": "402560",
    "end": "404360"
  },
  {
    "text": "tools that makes it easy to call them",
    "start": "404360",
    "end": "406280"
  },
  {
    "text": "and then it will convert the response",
    "start": "406280",
    "end": "407840"
  },
  {
    "text": "into a function message and append that",
    "start": "407840",
    "end": "410080"
  },
  {
    "text": "um to the messages",
    "start": "410080",
    "end": "413080"
  },
  {
    "text": "property and now we need the edge logic",
    "start": "413080",
    "end": "415879"
  },
  {
    "text": "so this is the this is the uh big router",
    "start": "415879",
    "end": "418599"
  },
  {
    "text": "logic here um which basically defines uh",
    "start": "418599",
    "end": "422039"
  },
  {
    "text": "some of the logic of where to go",
    "start": "422039",
    "end": "425919"
  },
  {
    "text": "so we look at the messages we look at",
    "start": "425919",
    "end": "428199"
  },
  {
    "text": "the last message if there's a function",
    "start": "428199",
    "end": "430639"
  },
  {
    "text": "call in the last message then we go to",
    "start": "430639",
    "end": "433319"
  },
  {
    "text": "the call tool or then we return call",
    "start": "433319",
    "end": "435080"
  },
  {
    "text": "tool and we'll see what that leads to",
    "start": "435080",
    "end": "436400"
  },
  {
    "text": "later on if there's final answer in the",
    "start": "436400",
    "end": "439039"
  },
  {
    "text": "last message then we return end um",
    "start": "439039",
    "end": "441360"
  },
  {
    "text": "otherwise we return continue and so",
    "start": "441360",
    "end": "443360"
  },
  {
    "text": "let's see how we use this in the graph",
    "start": "443360",
    "end": "445080"
  },
  {
    "text": "so first we create this graph let me run",
    "start": "445080",
    "end": "447879"
  },
  {
    "text": "this m first first we create this graph",
    "start": "447879",
    "end": "450199"
  },
  {
    "text": "with the agent State then we add the",
    "start": "450199",
    "end": "452120"
  },
  {
    "text": "three nodes that we have the research",
    "start": "452120",
    "end": "453680"
  },
  {
    "text": "node the chart node and the tool node um",
    "start": "453680",
    "end": "456840"
  },
  {
    "text": "we then add this conditional Edge so the",
    "start": "456840",
    "end": "459240"
  },
  {
    "text": "researcher after we call the researcher",
    "start": "459240",
    "end": "461560"
  },
  {
    "text": "um it uses the router logic if if the",
    "start": "461560",
    "end": "464680"
  },
  {
    "text": "router returns continue then we go to",
    "start": "464680",
    "end": "466479"
  },
  {
    "text": "chart generator so if the researcher",
    "start": "466479",
    "end": "468440"
  },
  {
    "text": "returns basically something that doesn't",
    "start": "468440",
    "end": "471159"
  },
  {
    "text": "have a tool and something that isn't",
    "start": "471159",
    "end": "473039"
  },
  {
    "text": "final answer then we return continue in",
    "start": "473039",
    "end": "475120"
  },
  {
    "text": "which case we go to the chart generator",
    "start": "475120",
    "end": "477000"
  },
  {
    "text": "if the router returns call tool then we",
    "start": "477000",
    "end": "479720"
  },
  {
    "text": "call the tool and if it returns end then",
    "start": "479720",
    "end": "481199"
  },
  {
    "text": "we end similar with the chart generator",
    "start": "481199",
    "end": "484000"
  },
  {
    "text": "um and then we add this conditional Edge",
    "start": "484000",
    "end": "486000"
  },
  {
    "text": "after call tool so after we call the",
    "start": "486000",
    "end": "488080"
  },
  {
    "text": "tool we basically look at who the sender",
    "start": "488080",
    "end": "490840"
  },
  {
    "text": "is and if the sender is the researcher",
    "start": "490840",
    "end": "492840"
  },
  {
    "text": "then we go to the researcher if the",
    "start": "492840",
    "end": "494639"
  },
  {
    "text": "sender is the charge generator then we",
    "start": "494639",
    "end": "495840"
  },
  {
    "text": "go to the chart generator and we set the",
    "start": "495840",
    "end": "497599"
  },
  {
    "text": "entry point to be the researcher",
    "start": "497599",
    "end": "499840"
  },
  {
    "text": "node now we can invoke it um we'll use",
    "start": "499840",
    "end": "503000"
  },
  {
    "text": "the stream method so that we can see",
    "start": "503000",
    "end": "504560"
  },
  {
    "text": "things being printed out um we'll pass",
    "start": "504560",
    "end": "507560"
  },
  {
    "text": "in this human message asking it to to",
    "start": "507560",
    "end": "509759"
  },
  {
    "text": "fetch the UK's GDP over the past 5 years",
    "start": "509759",
    "end": "511960"
  },
  {
    "text": "then draw a line graph of it um and then",
    "start": "511960",
    "end": "514279"
  },
  {
    "text": "after we code it finish it um and we'll",
    "start": "514279",
    "end": "516440"
  },
  {
    "text": "run this it'll take a little bit so I'll",
    "start": "516440",
    "end": "518159"
  },
  {
    "text": "probably pause the video here or I'll",
    "start": "518159",
    "end": "520240"
  },
  {
    "text": "kick off the I'll kick it off pause it",
    "start": "520240",
    "end": "522680"
  },
  {
    "text": "come back when it's finished and then we",
    "start": "522680",
    "end": "523760"
  },
  {
    "text": "can see what it looks like in Lang Smith",
    "start": "523760",
    "end": "525080"
  },
  {
    "text": "as",
    "start": "525080",
    "end": "527160"
  },
  {
    "text": "well all right so it's finished so it",
    "start": "527839",
    "end": "531320"
  },
  {
    "text": "was streaming out so we can take a look",
    "start": "531320",
    "end": "533240"
  },
  {
    "text": "at the whole stream of things in here if",
    "start": "533240",
    "end": "535360"
  },
  {
    "text": "I can figure out how to expand it so we",
    "start": "535360",
    "end": "537320"
  },
  {
    "text": "can see the researcher um you know the",
    "start": "537320",
    "end": "539560"
  },
  {
    "text": "first thing it does is it queries UK GDP",
    "start": "539560",
    "end": "541920"
  },
  {
    "text": "data for the past 5 years and then calls",
    "start": "541920",
    "end": "543720"
  },
  {
    "text": "a tool um and then it kind of keeps on",
    "start": "543720",
    "end": "546200"
  },
  {
    "text": "going um at some point there's this",
    "start": "546200",
    "end": "548040"
  },
  {
    "text": "chart so you know it PL plots it over",
    "start": "548040",
    "end": "550120"
  },
  {
    "text": "the past uh three years it looks like so",
    "start": "550120",
    "end": "552320"
  },
  {
    "text": "it didn't quite get all the all the data",
    "start": "552320",
    "end": "554160"
  },
  {
    "text": "it needs so you can see uh yeah you can",
    "start": "554160",
    "end": "557040"
  },
  {
    "text": "see it says that the data for years 2018",
    "start": "557040",
    "end": "559160"
  },
  {
    "text": "2019 is missing um and so it plots that",
    "start": "559160",
    "end": "562240"
  },
  {
    "text": "and then this is just the final response",
    "start": "562240",
    "end": "563839"
  },
  {
    "text": "so that's why it shows up so big if we",
    "start": "563839",
    "end": "565519"
  },
  {
    "text": "want to see this in a little bit nicer",
    "start": "565519",
    "end": "567480"
  },
  {
    "text": "view because this is a lot to digest we",
    "start": "567480",
    "end": "569519"
  },
  {
    "text": "can go to Lang Smith um and so Lang",
    "start": "569519",
    "end": "571800"
  },
  {
    "text": "Smith uh at the top of the notebook I",
    "start": "571800",
    "end": "573440"
  },
  {
    "text": "sent I set it so that it would log to",
    "start": "573440",
    "end": "575600"
  },
  {
    "text": "this specific project the multi-agent",
    "start": "575600",
    "end": "577200"
  },
  {
    "text": "collaboration I can see that I've got",
    "start": "577200",
    "end": "578640"
  },
  {
    "text": "one run can see some basic stats on it",
    "start": "578640",
    "end": "581160"
  },
  {
    "text": "like it took over a minute it's got some",
    "start": "581160",
    "end": "582800"
  },
  {
    "text": "tokens on it um if I click into it I can",
    "start": "582800",
    "end": "585839"
  },
  {
    "text": "now see exactly what was going on under",
    "start": "585839",
    "end": "587440"
  },
  {
    "text": "the hood so first it called the",
    "start": "587440",
    "end": "589320"
  },
  {
    "text": "researcher and we can click into here",
    "start": "589320",
    "end": "591200"
  },
  {
    "text": "and we can see the exact call that it",
    "start": "591200",
    "end": "592800"
  },
  {
    "text": "made to open AI um and so there was this",
    "start": "592800",
    "end": "595399"
  },
  {
    "text": "system prompt and then uh this was the",
    "start": "595399",
    "end": "597399"
  },
  {
    "text": "user's first message and then output",
    "start": "597399",
    "end": "598959"
  },
  {
    "text": "this",
    "start": "598959",
    "end": "599720"
  },
  {
    "text": "it then called toil um which is the",
    "start": "599720",
    "end": "601880"
  },
  {
    "text": "Search tool we can see the results there",
    "start": "601880",
    "end": "603680"
  },
  {
    "text": "it then called the researcher again we",
    "start": "603680",
    "end": "605480"
  },
  {
    "text": "can see that you know there's now more",
    "start": "605480",
    "end": "607000"
  },
  {
    "text": "in it because we start to build up this",
    "start": "607000",
    "end": "608720"
  },
  {
    "text": "message Bank we can see it calls toil",
    "start": "608720",
    "end": "611040"
  },
  {
    "text": "again okay so now the researcher and it",
    "start": "611040",
    "end": "613320"
  },
  {
    "text": "doesn't call toil okay interesting let's",
    "start": "613320",
    "end": "614839"
  },
  {
    "text": "see what's going on here so at the",
    "start": "614839",
    "end": "617240"
  },
  {
    "text": "bottom it basically says okay so now",
    "start": "617240",
    "end": "620079"
  },
  {
    "text": "it's uh it's responding what the values",
    "start": "620079",
    "end": "622000"
  },
  {
    "text": "are um and there's no tool call and",
    "start": "622000",
    "end": "625440"
  },
  {
    "text": "there's no uh uh thing saying that it's",
    "start": "625440",
    "end": "627880"
  },
  {
    "text": "finished so that means that it goes to",
    "start": "627880",
    "end": "629399"
  },
  {
    "text": "the next one which is the chart",
    "start": "629399",
    "end": "630480"
  },
  {
    "text": "generator so it calls the chart",
    "start": "630480",
    "end": "631760"
  },
  {
    "text": "generator under the hood that calls open",
    "start": "631760",
    "end": "633600"
  },
  {
    "text": "AI um we can see that down here we get a",
    "start": "633600",
    "end": "636600"
  },
  {
    "text": "function call and this is running python",
    "start": "636600",
    "end": "638120"
  },
  {
    "text": "code so it prints this out calls the",
    "start": "638120",
    "end": "640440"
  },
  {
    "text": "python reppel",
    "start": "640440",
    "end": "642920"
  },
  {
    "text": "um uh we can see that it runs this um",
    "start": "642920",
    "end": "646680"
  },
  {
    "text": "the chart generator then goes um and the",
    "start": "646680",
    "end": "649839"
  },
  {
    "text": "chart generator says uh you know here's",
    "start": "649839",
    "end": "652839"
  },
  {
    "text": "the line graph see the chart above the",
    "start": "652839",
    "end": "654360"
  },
  {
    "text": "researcher then goes and it says final",
    "start": "654360",
    "end": "658120"
  },
  {
    "text": "answer so now that there's final answer",
    "start": "658120",
    "end": "660200"
  },
  {
    "text": "it's finished and that's basically what",
    "start": "660200",
    "end": "662600"
  },
  {
    "text": "happened um so that's the multi-agent",
    "start": "662600",
    "end": "665440"
  },
  {
    "text": "collaboration bit the the kind of like",
    "start": "665440",
    "end": "669000"
  },
  {
    "text": "specific thing about this that's",
    "start": "669000",
    "end": "670079"
  },
  {
    "text": "interesting is it has This Global state",
    "start": "670079",
    "end": "672079"
  },
  {
    "text": "of messages that each llm sees and a",
    "start": "672079",
    "end": "674880"
  },
  {
    "text": "penss to so it keeps on adding to this",
    "start": "674880",
    "end": "676560"
  },
  {
    "text": "over time and so on one hand this is",
    "start": "676560",
    "end": "679079"
  },
  {
    "text": "good because it allows each agent to see",
    "start": "679079",
    "end": "681279"
  },
  {
    "text": "kind of like exactly the other steps",
    "start": "681279",
    "end": "682760"
  },
  {
    "text": "that the other one is doing and that's",
    "start": "682760",
    "end": "683880"
  },
  {
    "text": "why we called it collaboration it's very",
    "start": "683880",
    "end": "685959"
  },
  {
    "text": "collaborative the other version of this",
    "start": "685959",
    "end": "688320"
  },
  {
    "text": "is that you have agents that have their",
    "start": "688320",
    "end": "689760"
  },
  {
    "text": "own independent scratch pads um and so",
    "start": "689760",
    "end": "692040"
  },
  {
    "text": "we'll take a look at the next",
    "start": "692040",
    "end": "693600"
  },
  {
    "text": "multi-agent example that we have which",
    "start": "693600",
    "end": "695440"
  },
  {
    "text": "is this agent",
    "start": "695440",
    "end": "696800"
  },
  {
    "text": "supervisor so here we have the",
    "start": "696800",
    "end": "698560"
  },
  {
    "text": "supervisor which basically routes",
    "start": "698560",
    "end": "700560"
  },
  {
    "text": "between different independent agents so",
    "start": "700560",
    "end": "703240"
  },
  {
    "text": "these agents will be Lang chain agents",
    "start": "703240",
    "end": "705480"
  },
  {
    "text": "um so they'll basically be an llm that's",
    "start": "705480",
    "end": "708560"
  },
  {
    "text": "run with the agent executor in a loop",
    "start": "708560",
    "end": "711800"
  },
  {
    "text": "the llm decides what to do um the agent",
    "start": "711800",
    "end": "714519"
  },
  {
    "text": "executive then calls the tool goes back",
    "start": "714519",
    "end": "716120"
  },
  {
    "text": "to the llm calls another tool goes back",
    "start": "716120",
    "end": "718040"
  },
  {
    "text": "to the llm and then then finishes and uh",
    "start": "718040",
    "end": "720839"
  },
  {
    "text": "then there's basically the supervisor",
    "start": "720839",
    "end": "722720"
  },
  {
    "text": "the supervisor has its own list of",
    "start": "722720",
    "end": "724200"
  },
  {
    "text": "messages and essentially what it will do",
    "start": "724200",
    "end": "725720"
  },
  {
    "text": "is it will call agent One agent one will",
    "start": "725720",
    "end": "728240"
  },
  {
    "text": "go do its work but it will return only",
    "start": "728240",
    "end": "730079"
  },
  {
    "text": "the final answer only that final answer",
    "start": "730079",
    "end": "731920"
  },
  {
    "text": "is then added the supervisor only sees",
    "start": "731920",
    "end": "734199"
  },
  {
    "text": "his final answer and then based on that",
    "start": "734199",
    "end": "735519"
  },
  {
    "text": "it can call another agent or it can call",
    "start": "735519",
    "end": "737440"
  },
  {
    "text": "another agent another way to think about",
    "start": "737440",
    "end": "739120"
  },
  {
    "text": "this is that this is essentially um you",
    "start": "739120",
    "end": "741760"
  },
  {
    "text": "know the supervisor an agent and it's",
    "start": "741760",
    "end": "743880"
  },
  {
    "text": "got a bunch of tools and these tools",
    "start": "743880",
    "end": "745800"
  },
  {
    "text": "themselves are agents so it's a slightly",
    "start": "745800",
    "end": "747760"
  },
  {
    "text": "different framing than before it's not",
    "start": "747760",
    "end": "749440"
  },
  {
    "text": "as collaborative they're not working on",
    "start": "749440",
    "end": "750880"
  },
  {
    "text": "kind of like the same",
    "start": "750880",
    "end": "752880"
  },
  {
    "text": "sections so let's get this started um",
    "start": "752880",
    "end": "756880"
  },
  {
    "text": "again we're going to be uh I'm going to",
    "start": "756880",
    "end": "759399"
  },
  {
    "text": "let me restart my kernel we're going to",
    "start": "759399",
    "end": "761079"
  },
  {
    "text": "be using Lang Smith um so again uh hit",
    "start": "761079",
    "end": "764440"
  },
  {
    "text": "me up if you don't have access to that",
    "start": "764440",
    "end": "767000"
  },
  {
    "text": "um first thing we're going to do is",
    "start": "767000",
    "end": "768760"
  },
  {
    "text": "we're going to create some tools we'll",
    "start": "768760",
    "end": "770199"
  },
  {
    "text": "use the same two tools as before the",
    "start": "770199",
    "end": "771920"
  },
  {
    "text": "tavil tool and the python",
    "start": "771920",
    "end": "774360"
  },
  {
    "text": "tool we'll next Define some helpers",
    "start": "774360",
    "end": "777320"
  },
  {
    "text": "again to create these agents um as the",
    "start": "777320",
    "end": "780480"
  },
  {
    "text": "individual nodes so we have this create",
    "start": "780480",
    "end": "782600"
  },
  {
    "text": "agent function similar to last time the",
    "start": "782600",
    "end": "784800"
  },
  {
    "text": "difference is now that it's actually",
    "start": "784800",
    "end": "786120"
  },
  {
    "text": "doing a little bit more work under the",
    "start": "786120",
    "end": "787480"
  },
  {
    "text": "hood so it's not just a prompt plus a",
    "start": "787480",
    "end": "789160"
  },
  {
    "text": "language model it's actually creating an",
    "start": "789160",
    "end": "791519"
  },
  {
    "text": "open AI tool agent which is an agent",
    "start": "791519",
    "end": "793480"
  },
  {
    "text": "class that we have in Lang chain from",
    "start": "793480",
    "end": "795160"
  },
  {
    "text": "there it's creating an agent executor",
    "start": "795160",
    "end": "797160"
  },
  {
    "text": "which is also in Lang chain and we're",
    "start": "797160",
    "end": "798399"
  },
  {
    "text": "returning that that's the final",
    "start": "798399",
    "end": "800839"
  },
  {
    "text": "agent so let's run that then what we're",
    "start": "800839",
    "end": "804199"
  },
  {
    "text": "doing is we're also creating similar to",
    "start": "804199",
    "end": "806000"
  },
  {
    "text": "last time this agent node thing which",
    "start": "806000",
    "end": "807399"
  },
  {
    "text": "does this human message converion just",
    "start": "807399",
    "end": "809320"
  },
  {
    "text": "like we did last time is taking the",
    "start": "809320",
    "end": "810600"
  },
  {
    "text": "agent result um which is an AI message",
    "start": "810600",
    "end": "812800"
  },
  {
    "text": "and converting it into human message",
    "start": "812800",
    "end": "814199"
  },
  {
    "text": "with a name so we know kind of like",
    "start": "814199",
    "end": "815560"
  },
  {
    "text": "where it's coming",
    "start": "815560",
    "end": "818160"
  },
  {
    "text": "from now we create the agent supervisor",
    "start": "818279",
    "end": "821720"
  },
  {
    "text": "so this is going to be the the you know",
    "start": "821720",
    "end": "824360"
  },
  {
    "text": "system that's responsible for looking at",
    "start": "824360",
    "end": "826959"
  },
  {
    "text": "the different agents that it has and",
    "start": "826959",
    "end": "828480"
  },
  {
    "text": "deciding which one to to pass it on to",
    "start": "828480",
    "end": "831399"
  },
  {
    "text": "so",
    "start": "831399",
    "end": "832519"
  },
  {
    "text": "here you can see that we're defining a",
    "start": "832519",
    "end": "835320"
  },
  {
    "text": "bunch of stuff we're defining system",
    "start": "835320",
    "end": "836639"
  },
  {
    "text": "prompt your supervisor task with",
    "start": "836639",
    "end": "838079"
  },
  {
    "text": "managing conversation a between the",
    "start": "838079",
    "end": "839440"
  },
  {
    "text": "following workers and it's basically",
    "start": "839440",
    "end": "841600"
  },
  {
    "text": "using this function definition to select",
    "start": "841600",
    "end": "843399"
  },
  {
    "text": "the next Ro to send things to um and uh",
    "start": "843399",
    "end": "847639"
  },
  {
    "text": "it's or it's selecting finish finish is",
    "start": "847639",
    "end": "849519"
  },
  {
    "text": "another option we're creating this",
    "start": "849519",
    "end": "850839"
  },
  {
    "text": "prompt template we're creating this llm",
    "start": "850839",
    "end": "852920"
  },
  {
    "text": "and we're creating this supervisor chain",
    "start": "852920",
    "end": "855199"
  },
  {
    "text": "um which basically has a prompt um it's",
    "start": "855199",
    "end": "857519"
  },
  {
    "text": "got an llm with some functions that it",
    "start": "857519",
    "end": "859560"
  },
  {
    "text": "can call specifically we're forcing it",
    "start": "859560",
    "end": "861000"
  },
  {
    "text": "to call this route function where it",
    "start": "861000",
    "end": "863199"
  },
  {
    "text": "selects the next best role and then",
    "start": "863199",
    "end": "864959"
  },
  {
    "text": "we're pressing the the response in Json",
    "start": "864959",
    "end": "867680"
  },
  {
    "text": "um and we're using that determine where",
    "start": "867680",
    "end": "869399"
  },
  {
    "text": "to go to",
    "start": "869399",
    "end": "870680"
  },
  {
    "text": "next now that we've got that we can",
    "start": "870680",
    "end": "872759"
  },
  {
    "text": "create the graph so we've got this agent",
    "start": "872759",
    "end": "874920"
  },
  {
    "text": "State um which is messages and then a",
    "start": "874920",
    "end": "877000"
  },
  {
    "text": "next field um we've got this research",
    "start": "877000",
    "end": "879120"
  },
  {
    "text": "agent so we create the agent we then",
    "start": "879120",
    "end": "880560"
  },
  {
    "text": "create the node for it so we partial out",
    "start": "880560",
    "end": "882279"
  },
  {
    "text": "agent node we then do the same for the",
    "start": "882279",
    "end": "884160"
  },
  {
    "text": "code agent um and then we start creating",
    "start": "884160",
    "end": "886240"
  },
  {
    "text": "the graph so we create the graph with",
    "start": "886240",
    "end": "888079"
  },
  {
    "text": "the agent State and we add the three",
    "start": "888079",
    "end": "890000"
  },
  {
    "text": "nodes we now connect the edges in the",
    "start": "890000",
    "end": "892480"
  },
  {
    "text": "graph okay so for all the members um and",
    "start": "892480",
    "end": "896399"
  },
  {
    "text": "again if we look at where members is",
    "start": "896399",
    "end": "898720"
  },
  {
    "text": "defined members is defined up here so",
    "start": "898720",
    "end": "901079"
  },
  {
    "text": "it's the researcher encoder it's two",
    "start": "901079",
    "end": "902759"
  },
  {
    "text": "it's the two basically sub nodes or sub",
    "start": "902759",
    "end": "906000"
  },
  {
    "text": "agents um so for those after we call",
    "start": "906000",
    "end": "908880"
  },
  {
    "text": "those agents we go back to the",
    "start": "908880",
    "end": "911839"
  },
  {
    "text": "supervisor um then we also have this",
    "start": "911839",
    "end": "915560"
  },
  {
    "text": "conditional Edge so from the supervisor",
    "start": "915560",
    "end": "917639"
  },
  {
    "text": "um after the supervisor um is run we",
    "start": "917639",
    "end": "920399"
  },
  {
    "text": "look at what's in next and we look in",
    "start": "920399",
    "end": "922199"
  },
  {
    "text": "the conditional map and the conditional",
    "start": "922199",
    "end": "923600"
  },
  {
    "text": "map is basically a mapping between the",
    "start": "923600",
    "end": "925759"
  },
  {
    "text": "the members so uh and and finish so so",
    "start": "925759",
    "end": "928839"
  },
  {
    "text": "you know if if it says researcher then",
    "start": "928839",
    "end": "930720"
  },
  {
    "text": "we go to research node if it says coder",
    "start": "930720",
    "end": "932160"
  },
  {
    "text": "then we go to coder node if it says",
    "start": "932160",
    "end": "933360"
  },
  {
    "text": "finish then we finish we set the entry",
    "start": "933360",
    "end": "935880"
  },
  {
    "text": "point to the supervisor and then we run",
    "start": "935880",
    "end": "938199"
  },
  {
    "text": "the",
    "start": "938199",
    "end": "939680"
  },
  {
    "text": "graph now we can do the same thing we",
    "start": "939680",
    "end": "941600"
  },
  {
    "text": "can invoke the team um we can uh see",
    "start": "941600",
    "end": "944440"
  },
  {
    "text": "what happens um and see how it",
    "start": "944440",
    "end": "948440"
  },
  {
    "text": "performs all right so it runs it um you",
    "start": "956959",
    "end": "960319"
  },
  {
    "text": "can see that it calls the coder so here",
    "start": "960319",
    "end": "961680"
  },
  {
    "text": "we're asking it to print out hello or to",
    "start": "961680",
    "end": "963680"
  },
  {
    "text": "say hello world and print it to the",
    "start": "963680",
    "end": "965000"
  },
  {
    "text": "terminal so it calls the coder and then",
    "start": "965000",
    "end": "966240"
  },
  {
    "text": "it finishes here we can write a brief",
    "start": "966240",
    "end": "968519"
  },
  {
    "text": "research report on pasas and it will do",
    "start": "968519",
    "end": "972639"
  },
  {
    "text": "that while that's running um we can",
    "start": "972639",
    "end": "975079"
  },
  {
    "text": "maybe look in Lang Smith um to see the",
    "start": "975079",
    "end": "978040"
  },
  {
    "text": "previous ones so here we have the coding",
    "start": "978040",
    "end": "980319"
  },
  {
    "text": "one um we can see that we first called",
    "start": "980319",
    "end": "982120"
  },
  {
    "text": "the supervisor agent it's got this call",
    "start": "982120",
    "end": "984240"
  },
  {
    "text": "to open AI um again it's got the system",
    "start": "984240",
    "end": "987240"
  },
  {
    "text": "prompt and then the human um and then it",
    "start": "987240",
    "end": "989720"
  },
  {
    "text": "decides what to do next and it's calling",
    "start": "989720",
    "end": "992079"
  },
  {
    "text": "it's using this function call we can see",
    "start": "992079",
    "end": "993600"
  },
  {
    "text": "it has this function definition of Route",
    "start": "993600",
    "end": "995440"
  },
  {
    "text": "here based on that it goes to the coder",
    "start": "995440",
    "end": "997880"
  },
  {
    "text": "so now there's the coder agent the coder",
    "start": "997880",
    "end": "1000160"
  },
  {
    "text": "agent does several things under the hood",
    "start": "1000160",
    "end": "1001560"
  },
  {
    "text": "it calls open AI first um it does a",
    "start": "1001560",
    "end": "1004319"
  },
  {
    "text": "function call it then calls the python",
    "start": "1004319",
    "end": "1006040"
  },
  {
    "text": "reppel um and then it calls open AI",
    "start": "1006040",
    "end": "1009680"
  },
  {
    "text": "again and so when we go back to the",
    "start": "1009680",
    "end": "1012880"
  },
  {
    "text": "supervisor if we look at what the",
    "start": "1012880",
    "end": "1014240"
  },
  {
    "text": "supervisor see says it just sees the",
    "start": "1014240",
    "end": "1018560"
  },
  {
    "text": "response from the coder so there's a",
    "start": "1018560",
    "end": "1020440"
  },
  {
    "text": "human message with the name coder and it",
    "start": "1020440",
    "end": "1022519"
  },
  {
    "text": "gets this response it doesn't see any of",
    "start": "1022519",
    "end": "1024520"
  },
  {
    "text": "these calls though or any of the calls",
    "start": "1024520",
    "end": "1026240"
  },
  {
    "text": "to the python reppel and then we get a",
    "start": "1026240",
    "end": "1027839"
  },
  {
    "text": "response and it says to finish so this",
    "start": "1027839",
    "end": "1030199"
  },
  {
    "text": "is an example of where you know there's",
    "start": "1030199",
    "end": "1031480"
  },
  {
    "text": "many calls but they're kind of hidden",
    "start": "1031480",
    "end": "1033038"
  },
  {
    "text": "within one agent",
    "start": "1033039",
    "end": "1035438"
  },
  {
    "text": "State we can also see that it finished",
    "start": "1035439",
    "end": "1037839"
  },
  {
    "text": "writing the research report on pasas so",
    "start": "1037839",
    "end": "1040000"
  },
  {
    "text": "if we go back here we can see that it's",
    "start": "1040000",
    "end": "1042000"
  },
  {
    "text": "finished running and if we take a look",
    "start": "1042000",
    "end": "1043640"
  },
  {
    "text": "it now calls the researcher agent under",
    "start": "1043640",
    "end": "1045558"
  },
  {
    "text": "the hood and we can see here if you know",
    "start": "1045559",
    "end": "1047959"
  },
  {
    "text": "this is interesting because this took a",
    "start": "1047959",
    "end": "1049320"
  },
  {
    "text": "pretty long time 45 seconds we can",
    "start": "1049320",
    "end": "1050960"
  },
  {
    "text": "quickly drill in and see that the the",
    "start": "1050960",
    "end": "1052640"
  },
  {
    "text": "longest call was this call to open AI um",
    "start": "1052640",
    "end": "1055679"
  },
  {
    "text": "inside the researcher agent where",
    "start": "1055679",
    "end": "1057480"
  },
  {
    "text": "basically it uh uh",
    "start": "1057480",
    "end": "1061520"
  },
  {
    "text": "has it has all these uh uh information",
    "start": "1061520",
    "end": "1064799"
  },
  {
    "text": "from the internet and it writes this",
    "start": "1064799",
    "end": "1066240"
  },
  {
    "text": "long research",
    "start": "1066240",
    "end": "1068480"
  },
  {
    "text": "report so that's pretty much it for the",
    "start": "1068480",
    "end": "1070880"
  },
  {
    "text": "agent supervisor now I want to talk",
    "start": "1070880",
    "end": "1072880"
  },
  {
    "text": "about the third and final type of agent",
    "start": "1072880",
    "end": "1075480"
  },
  {
    "text": "that we have an example of which is the",
    "start": "1075480",
    "end": "1077159"
  },
  {
    "text": "hierarchical agent team",
    "start": "1077159",
    "end": "1079360"
  },
  {
    "text": "so this is very similar to the previous",
    "start": "1079360",
    "end": "1080840"
  },
  {
    "text": "concept it's just changing what's going",
    "start": "1080840",
    "end": "1082679"
  },
  {
    "text": "on in the uh",
    "start": "1082679",
    "end": "1085600"
  },
  {
    "text": "uh it's just changing what's going on in",
    "start": "1085600",
    "end": "1088159"
  },
  {
    "text": "the sub things so now each agent node is",
    "start": "1088159",
    "end": "1092760"
  },
  {
    "text": "itself a different kind of like",
    "start": "1092760",
    "end": "1094799"
  },
  {
    "text": "supervisor agent setup and so what this",
    "start": "1094799",
    "end": "1097760"
  },
  {
    "text": "means is that it's going to be a lot",
    "start": "1097760",
    "end": "1099400"
  },
  {
    "text": "more kind of like a l graph um and a a a",
    "start": "1099400",
    "end": "1103520"
  },
  {
    "text": "little bit less of L",
    "start": "1103520",
    "end": "1106480"
  },
  {
    "text": "chain we can get started by setting up",
    "start": "1106559",
    "end": "1109480"
  },
  {
    "text": "the environment similar to last time we",
    "start": "1109480",
    "end": "1111640"
  },
  {
    "text": "now create the tools so there's two",
    "start": "1111640",
    "end": "1113000"
  },
  {
    "text": "different sets of tools that we need to",
    "start": "1113000",
    "end": "1114240"
  },
  {
    "text": "create one's for the research team it's",
    "start": "1114240",
    "end": "1115880"
  },
  {
    "text": "the Searcher and web scraper the others",
    "start": "1115880",
    "end": "1117679"
  },
  {
    "text": "for this document authoring team and",
    "start": "1117679",
    "end": "1119120"
  },
  {
    "text": "it's these three tools here so we can do",
    "start": "1119120",
    "end": "1121400"
  },
  {
    "text": "that we can load to villy we can create",
    "start": "1121400",
    "end": "1123159"
  },
  {
    "text": "our scrape web pages tool and then we",
    "start": "1123159",
    "end": "1124960"
  },
  {
    "text": "can start creating these uh other tools",
    "start": "1124960",
    "end": "1128080"
  },
  {
    "text": "as well um and these are for the writer",
    "start": "1128080",
    "end": "1130320"
  },
  {
    "text": "team so we create one that creates an",
    "start": "1130320",
    "end": "1131840"
  },
  {
    "text": "outline read documents write documents",
    "start": "1131840",
    "end": "1133880"
  },
  {
    "text": "edit documents um and then a python",
    "start": "1133880",
    "end": "1135960"
  },
  {
    "text": "reppel tool as well we we're going to",
    "start": "1135960",
    "end": "1138520"
  },
  {
    "text": "create a few helper utilities that make",
    "start": "1138520",
    "end": "1140080"
  },
  {
    "text": "it easier to basically construct this",
    "start": "1140080",
    "end": "1142280"
  },
  {
    "text": "pretty complicated graph so we have one",
    "start": "1142280",
    "end": "1143880"
  },
  {
    "text": "that creates an agent we then have an",
    "start": "1143880",
    "end": "1145760"
  },
  {
    "text": "agent node um and we then have this team",
    "start": "1145760",
    "end": "1148520"
  },
  {
    "text": "supervisor idea and so these are kind of",
    "start": "1148520",
    "end": "1150679"
  },
  {
    "text": "like taking a lot of the concepts that",
    "start": "1150679",
    "end": "1151919"
  },
  {
    "text": "we had in the last notebook and",
    "start": "1151919",
    "end": "1153480"
  },
  {
    "text": "extending them now we can Define these",
    "start": "1153480",
    "end": "1156640"
  },
  {
    "text": "agent teams they're hierarchical teams",
    "start": "1156640",
    "end": "1159520"
  },
  {
    "text": "so we have this research team This",
    "start": "1159520",
    "end": "1161240"
  },
  {
    "text": "research team has a few different",
    "start": "1161240",
    "end": "1162760"
  },
  {
    "text": "attributes on it the main things here",
    "start": "1162760",
    "end": "1164080"
  },
  {
    "text": "are this messages um we create uh we",
    "start": "1164080",
    "end": "1167919"
  },
  {
    "text": "initi in llm we create the search agent",
    "start": "1167919",
    "end": "1170679"
  },
  {
    "text": "and then the search node the research",
    "start": "1170679",
    "end": "1172039"
  },
  {
    "text": "agent and then the research node and now",
    "start": "1172039",
    "end": "1173440"
  },
  {
    "text": "we have the supervisor agent as",
    "start": "1173440",
    "end": "1177200"
  },
  {
    "text": "well we now put this all together um I'm",
    "start": "1177240",
    "end": "1180240"
  },
  {
    "text": "not going to go over all the edges",
    "start": "1180240",
    "end": "1181760"
  },
  {
    "text": "because it's very similar to some of the",
    "start": "1181760",
    "end": "1183360"
  },
  {
    "text": "notebooks that we did before but the end",
    "start": "1183360",
    "end": "1185440"
  },
  {
    "text": "result is that we have this uh uh graph",
    "start": "1185440",
    "end": "1190200"
  },
  {
    "text": "that we create in order for this graph",
    "start": "1190200",
    "end": "1192520"
  },
  {
    "text": "to be used in as a subgraph in another",
    "start": "1192520",
    "end": "1195440"
  },
  {
    "text": "component we're going to add this enter",
    "start": "1195440",
    "end": "1196720"
  },
  {
    "text": "chain function which basically just is",
    "start": "1196720",
    "end": "1198400"
  },
  {
    "text": "just a converter to make it easier to",
    "start": "1198400",
    "end": "1200640"
  },
  {
    "text": "use we can use this directly um so we",
    "start": "1200640",
    "end": "1203559"
  },
  {
    "text": "can try out and again this is just one",
    "start": "1203559",
    "end": "1205240"
  },
  {
    "text": "of the sub teams but we can try asking",
    "start": "1205240",
    "end": "1206840"
  },
  {
    "text": "it a question um and we can see that it",
    "start": "1206840",
    "end": "1209480"
  },
  {
    "text": "does a search it has a search to so",
    "start": "1209480",
    "end": "1212080"
  },
  {
    "text": "it'll get a response from there and it",
    "start": "1212080",
    "end": "1213400"
  },
  {
    "text": "will give us an",
    "start": "1213400",
    "end": "1215960"
  },
  {
    "text": "answer we can see that we get back a",
    "start": "1216720",
    "end": "1218919"
  },
  {
    "text": "response here and if we look at that in",
    "start": "1218919",
    "end": "1220880"
  },
  {
    "text": "lsmith we can see that it's doing a",
    "start": "1220880",
    "end": "1223159"
  },
  {
    "text": "pretty similar thing to before um it's",
    "start": "1223159",
    "end": "1225360"
  },
  {
    "text": "got the supervisor agent it's calling",
    "start": "1225360",
    "end": "1226919"
  },
  {
    "text": "search and then it responds with",
    "start": "1226919",
    "end": "1228320"
  },
  {
    "text": "supervisor we're now going to put",
    "start": "1228320",
    "end": "1230120"
  },
  {
    "text": "together another agent or another graph",
    "start": "1230120",
    "end": "1233200"
  },
  {
    "text": "of Agents so it's this document writing",
    "start": "1233200",
    "end": "1234880"
  },
  {
    "text": "team um so here we are defining a bunch",
    "start": "1234880",
    "end": "1238480"
  },
  {
    "text": "of stuff we're defining the state that",
    "start": "1238480",
    "end": "1240000"
  },
  {
    "text": "we're tracking it's largely these",
    "start": "1240000",
    "end": "1242000"
  },
  {
    "text": "messages um there's then uh some logic",
    "start": "1242000",
    "end": "1245240"
  },
  {
    "text": "that's run before each worker agent",
    "start": "1245240",
    "end": "1246679"
  },
  {
    "text": "begins um so that's more aware of the",
    "start": "1246679",
    "end": "1248640"
  },
  {
    "text": "current state of everything that exists",
    "start": "1248640",
    "end": "1250320"
  },
  {
    "text": "this is basically with populating",
    "start": "1250320",
    "end": "1251679"
  },
  {
    "text": "relevant context we then create a bunch",
    "start": "1251679",
    "end": "1254400"
  },
  {
    "text": "of agents and a bunch of uh uh agent",
    "start": "1254400",
    "end": "1257000"
  },
  {
    "text": "nodes um um and then we create the dock",
    "start": "1257000",
    "end": "1259640"
  },
  {
    "text": "writing supervisor um now that that's",
    "start": "1259640",
    "end": "1262080"
  },
  {
    "text": "done we can create the graph so we're",
    "start": "1262080",
    "end": "1263520"
  },
  {
    "text": "adding a bunch of nodes we're adding a",
    "start": "1263520",
    "end": "1265039"
  },
  {
    "text": "bunch of edges we've got some",
    "start": "1265039",
    "end": "1266440"
  },
  {
    "text": "conditional routing edges um we set the",
    "start": "1266440",
    "end": "1269720"
  },
  {
    "text": "entry point um and now that we have this",
    "start": "1269720",
    "end": "1272960"
  },
  {
    "text": "we can do something simple like write an",
    "start": "1272960",
    "end": "1274600"
  },
  {
    "text": "outline for a poem and write the poem to",
    "start": "1274600",
    "end": "1278158"
  },
  {
    "text": "disk we can see that this is finished",
    "start": "1278320",
    "end": "1280600"
  },
  {
    "text": "and if we look at this in Lang Smith we",
    "start": "1280600",
    "end": "1283360"
  },
  {
    "text": "can see that it also looks fairly",
    "start": "1283360",
    "end": "1284720"
  },
  {
    "text": "similar as to what we were doing before",
    "start": "1284720",
    "end": "1286360"
  },
  {
    "text": "we've got the supervisor we do a bunch",
    "start": "1286360",
    "end": "1288559"
  },
  {
    "text": "of note taking and then the supervisor",
    "start": "1288559",
    "end": "1291520"
  },
  {
    "text": "finishes it doesn't see any of the",
    "start": "1291520",
    "end": "1293200"
  },
  {
    "text": "internal things it just sees the final",
    "start": "1293200",
    "end": "1295279"
  },
  {
    "text": "response and we can now put this",
    "start": "1295279",
    "end": "1297159"
  },
  {
    "text": "together so we now have a layer on top",
    "start": "1297159",
    "end": "1299320"
  },
  {
    "text": "of this we've got this team supervisor",
    "start": "1299320",
    "end": "1301640"
  },
  {
    "text": "um and now we have this top level graph",
    "start": "1301640",
    "end": "1303840"
  },
  {
    "text": "State it's just a list of messages we",
    "start": "1303840",
    "end": "1305559"
  },
  {
    "text": "have some helper functions we start",
    "start": "1305559",
    "end": "1307080"
  },
  {
    "text": "creating the graph we add the research",
    "start": "1307080",
    "end": "1309400"
  },
  {
    "text": "team as its own node it's got a little",
    "start": "1309400",
    "end": "1311799"
  },
  {
    "text": "bit of uh it's got a little bit of",
    "start": "1311799",
    "end": "1313760"
  },
  {
    "text": "wrappers around the previous chain to",
    "start": "1313760",
    "end": "1315440"
  },
  {
    "text": "like get the previous message and then p",
    "start": "1315440",
    "end": "1317240"
  },
  {
    "text": "and then at the begin beginning pass it",
    "start": "1317240",
    "end": "1318880"
  },
  {
    "text": "that into the chain and then call join",
    "start": "1318880",
    "end": "1321360"
  },
  {
    "text": "graph to join it with the rest of the",
    "start": "1321360",
    "end": "1322840"
  },
  {
    "text": "stuff same uh uh with the paper writing",
    "start": "1322840",
    "end": "1326120"
  },
  {
    "text": "team we then add the supervisor we then",
    "start": "1326120",
    "end": "1327799"
  },
  {
    "text": "add some nodes we compile it all right",
    "start": "1327799",
    "end": "1331159"
  },
  {
    "text": "um and so now we can uh do a more",
    "start": "1331159",
    "end": "1334880"
  },
  {
    "text": "complex thing where we call asket to",
    "start": "1334880",
    "end": "1337120"
  },
  {
    "text": "write you know this brief research",
    "start": "1337120",
    "end": "1338520"
  },
  {
    "text": "report on the North American sturgeon",
    "start": "1338520",
    "end": "1339960"
  },
  {
    "text": "include a chart so let's kick this off",
    "start": "1339960",
    "end": "1342919"
  },
  {
    "text": "and I'll come back when this is",
    "start": "1342919",
    "end": "1345120"
  },
  {
    "text": "done all right so it's done took a while",
    "start": "1345120",
    "end": "1348760"
  },
  {
    "text": "if we go to Lang Smith we can see that",
    "start": "1348760",
    "end": "1351200"
  },
  {
    "text": "we have this most recent Trace took 400",
    "start": "1351200",
    "end": "1354400"
  },
  {
    "text": "seconds if we click inside it we can see",
    "start": "1354400",
    "end": "1357080"
  },
  {
    "text": "that there is a lot going on so a lot of",
    "start": "1357080",
    "end": "1361000"
  },
  {
    "text": "calls um down the hood it looks like",
    "start": "1361000",
    "end": "1363400"
  },
  {
    "text": "there's this big call to the paper",
    "start": "1363400",
    "end": "1365120"
  },
  {
    "text": "writing team at one point that took a",
    "start": "1365120",
    "end": "1366799"
  },
  {
    "text": "while there was also this big call to",
    "start": "1366799",
    "end": "1368880"
  },
  {
    "text": "the research team to start that took a",
    "start": "1368880",
    "end": "1370520"
  },
  {
    "text": "while I can click into any of these I",
    "start": "1370520",
    "end": "1372440"
  },
  {
    "text": "can see like what exactly is going on at",
    "start": "1372440",
    "end": "1374120"
  },
  {
    "text": "any point in time what exactly was",
    "start": "1374120",
    "end": "1375840"
  },
  {
    "text": "happening um so this is pretty helpful",
    "start": "1375840",
    "end": "1377720"
  },
  {
    "text": "for understanding what's going on um",
    "start": "1377720",
    "end": "1380840"
  },
  {
    "text": "yeah wow that's a lot of tokens um",
    "start": "1380840",
    "end": "1385200"
  },
  {
    "text": "anyways yeah that's pretty much it for",
    "start": "1385200",
    "end": "1387440"
  },
  {
    "text": "the multi-agent stuff hope this was",
    "start": "1387440",
    "end": "1389520"
  },
  {
    "text": "helpful I think uh you know the the",
    "start": "1389520",
    "end": "1392159"
  },
  {
    "text": "benefits of thinking about things as a",
    "start": "1392159",
    "end": "1394679"
  },
  {
    "text": "multi-agent way are really that it I",
    "start": "1394679",
    "end": "1397520"
  },
  {
    "text": "think it helps compar compartmentalize",
    "start": "1397520",
    "end": "1400039"
  },
  {
    "text": "what you expect different functions to",
    "start": "1400039",
    "end": "1403400"
  },
  {
    "text": "be happening inside the system so you",
    "start": "1403400",
    "end": "1405880"
  },
  {
    "text": "know each agent basically has its own",
    "start": "1405880",
    "end": "1407480"
  },
  {
    "text": "prompt its own tools even its own llm at",
    "start": "1407480",
    "end": "1410320"
  },
  {
    "text": "times and so you can really focus it on",
    "start": "1410320",
    "end": "1412159"
  },
  {
    "text": "just doing specific things as opposed to",
    "start": "1412159",
    "end": "1413919"
  },
  {
    "text": "having one General autonomous agent with",
    "start": "1413919",
    "end": "1415919"
  },
  {
    "text": "lots of tools and so even if you you",
    "start": "1415919",
    "end": "1418279"
  },
  {
    "text": "know even if you have all those same",
    "start": "1418279",
    "end": "1419720"
  },
  {
    "text": "tools and you just organize it a bit",
    "start": "1419720",
    "end": "1421880"
  },
  {
    "text": "more hierarchically that can often be",
    "start": "1421880",
    "end": "1423919"
  },
  {
    "text": "helpful for for doing kind of like",
    "start": "1423919",
    "end": "1425640"
  },
  {
    "text": "complex tasks as well as just a good",
    "start": "1425640",
    "end": "1427320"
  },
  {
    "text": "mental model to how to think about",
    "start": "1427320",
    "end": "1428880"
  },
  {
    "text": "things so hopefully this has been a good",
    "start": "1428880",
    "end": "1430360"
  },
  {
    "text": "introduction to that these are again",
    "start": "1430360",
    "end": "1432760"
  },
  {
    "text": "probably only a few of the ways that you",
    "start": "1432760",
    "end": "1435039"
  },
  {
    "text": "can create multi-agent workflows with L",
    "start": "1435039",
    "end": "1437520"
  },
  {
    "text": "graph really excited to see what other",
    "start": "1437520",
    "end": "1439200"
  },
  {
    "text": "ones",
    "start": "1439200",
    "end": "1440159"
  },
  {
    "text": "emerge",
    "start": "1440159",
    "end": "1443159"
  }
]