[
  {
    "text": "hey this is Lance from Lang chain we're",
    "start": "919",
    "end": "2679"
  },
  {
    "text": "continuing our Lang Smith evaluation",
    "start": "2679",
    "end": "4120"
  },
  {
    "text": "series now talking through agent",
    "start": "4120",
    "end": "5960"
  },
  {
    "text": "evaluation this is one of the most",
    "start": "5960",
    "end": "7600"
  },
  {
    "text": "requested topics that we've heard so I",
    "start": "7600",
    "end": "9639"
  },
  {
    "text": "want to walk through this carefully",
    "start": "9639",
    "end": "10840"
  },
  {
    "text": "explaining first what an agent actually",
    "start": "10840",
    "end": "12480"
  },
  {
    "text": "is and then how to think about",
    "start": "12480",
    "end": "13920"
  },
  {
    "text": "evaluating it and we'll probably walk",
    "start": "13920",
    "end": "15679"
  },
  {
    "text": "through the different approaches for",
    "start": "15679",
    "end": "16840"
  },
  {
    "text": "evaluation in three different videos so",
    "start": "16840",
    "end": "19640"
  },
  {
    "text": "here's the starting point what is an",
    "start": "19640",
    "end": "21240"
  },
  {
    "text": "agent there's a great blog post from",
    "start": "21240",
    "end": "22760"
  },
  {
    "text": "Lilian Wang that kind of breaks down the",
    "start": "22760",
    "end": "24400"
  },
  {
    "text": "core components tool calling memory",
    "start": "24400",
    "end": "27840"
  },
  {
    "text": "planning all right so that's step one",
    "start": "27840",
    "end": "30359"
  },
  {
    "text": "now how to think about what is this",
    "start": "30359",
    "end": "32320"
  },
  {
    "text": "thing called tool calling here's a",
    "start": "32320",
    "end": "34440"
  },
  {
    "text": "really simple explanation of it all",
    "start": "34440",
    "end": "36559"
  },
  {
    "text": "you're doing is you're having an",
    "start": "36559",
    "end": "38879"
  },
  {
    "text": "llm basically return to you the payload",
    "start": "38879",
    "end": "42680"
  },
  {
    "text": "of a tool that it can use okay so that's",
    "start": "42680",
    "end": "45680"
  },
  {
    "text": "all it's going on let's give an example",
    "start": "45680",
    "end": "47199"
  },
  {
    "text": "here I have an llm I'm going to define a",
    "start": "47199",
    "end": "50960"
  },
  {
    "text": "tool called Magic function and all it",
    "start": "50960",
    "end": "53120"
  },
  {
    "text": "does is takes an input adds two okay so",
    "start": "53120",
    "end": "55920"
  },
  {
    "text": "in L with this nice little decorator",
    "start": "55920",
    "end": "57600"
  },
  {
    "text": "called tool and allows you to basically",
    "start": "57600",
    "end": "60079"
  },
  {
    "text": "convert this into what we call structure",
    "start": "60079",
    "end": "61879"
  },
  {
    "text": "tool and you can bind it to llms at",
    "start": "61879",
    "end": "63920"
  },
  {
    "text": "support tool calling and here's the key",
    "start": "63920",
    "end": "65960"
  },
  {
    "text": "point when you bind it to the LM the llm",
    "start": "65960",
    "end": "69360"
  },
  {
    "text": "then given an input so what is Magic",
    "start": "69360",
    "end": "71280"
  },
  {
    "text": "function 3 it can recognize hey I need",
    "start": "71280",
    "end": "74799"
  },
  {
    "text": "to invoke this tool and here's the key",
    "start": "74799",
    "end": "77720"
  },
  {
    "text": "point this is often the most confusing",
    "start": "77720",
    "end": "79360"
  },
  {
    "text": "part it just returns to you two things",
    "start": "79360",
    "end": "82840"
  },
  {
    "text": "the tool to tool to call and the payload",
    "start": "82840",
    "end": "86079"
  },
  {
    "text": "or the arguments to run the tool now it",
    "start": "86079",
    "end": "88439"
  },
  {
    "text": "doesn't have the ability to match",
    "start": "88439",
    "end": "89920"
  },
  {
    "text": "magically run that for you right again",
    "start": "89920",
    "end": "91479"
  },
  {
    "text": "it's an llm it's string to string but",
    "start": "91479",
    "end": "93680"
  },
  {
    "text": "what it gives you is a tool selection",
    "start": "93680",
    "end": "96200"
  },
  {
    "text": "and a payload that's all you need to",
    "start": "96200",
    "end": "98159"
  },
  {
    "text": "really know that's all that tool calling",
    "start": "98159",
    "end": "99640"
  },
  {
    "text": "is so this could be really anything this",
    "start": "99640",
    "end": "101640"
  },
  {
    "text": "could be a really complex tool it's a",
    "start": "101640",
    "end": "103040"
  },
  {
    "text": "simple tool that's a key Point you're",
    "start": "103040",
    "end": "105280"
  },
  {
    "text": "getting the tool name and the tool",
    "start": "105280",
    "end": "107880"
  },
  {
    "text": "arguments out and it's inferring those",
    "start": "107880",
    "end": "109680"
  },
  {
    "text": "from the user input so that's like step",
    "start": "109680",
    "end": "111360"
  },
  {
    "text": "one right and now agents use this",
    "start": "111360",
    "end": "115799"
  },
  {
    "text": "particular tool calling step typically",
    "start": "115799",
    "end": "117719"
  },
  {
    "text": "in a loop so Lang graph a really nice",
    "start": "117719",
    "end": "120399"
  },
  {
    "text": "way to build agents not the only way but",
    "start": "120399",
    "end": "122680"
  },
  {
    "text": "let me show you an example like here's",
    "start": "122680",
    "end": "124000"
  },
  {
    "text": "how this whole thing would work here's",
    "start": "124000",
    "end": "126320"
  },
  {
    "text": "my agent I've stru I structure this in",
    "start": "126320",
    "end": "128520"
  },
  {
    "text": "Lang graph in Lang graph you have nodes",
    "start": "128520",
    "end": "130679"
  },
  {
    "text": "and edges so I have two different nodes",
    "start": "130679",
    "end": "133040"
  },
  {
    "text": "my first node is my assistant that's my",
    "start": "133040",
    "end": "134760"
  },
  {
    "text": "llm it sees my input just like before it",
    "start": "134760",
    "end": "137879"
  },
  {
    "text": "has tools bound and it returns remember",
    "start": "137879",
    "end": "140160"
  },
  {
    "text": "all it can return is just like a string",
    "start": "140160",
    "end": "142120"
  },
  {
    "text": "in terms of like a raw response or a",
    "start": "142120",
    "end": "145200"
  },
  {
    "text": "tool message which is essentially",
    "start": "145200",
    "end": "146840"
  },
  {
    "text": "another string with like here's the tool",
    "start": "146840",
    "end": "149080"
  },
  {
    "text": "I want to use here's the tool invocation",
    "start": "149080",
    "end": "152160"
  },
  {
    "text": "we have this um we have basically what",
    "start": "152160",
    "end": "155080"
  },
  {
    "text": "we call a tools condition node that will",
    "start": "155080",
    "end": "156959"
  },
  {
    "text": "automatically look at the LM response",
    "start": "156959",
    "end": "158800"
  },
  {
    "text": "for you and determine is it just a",
    "start": "158800",
    "end": "160760"
  },
  {
    "text": "string response out or is it a tool call",
    "start": "160760",
    "end": "164120"
  },
  {
    "text": "and if it's a tool call then basically",
    "start": "164120",
    "end": "166080"
  },
  {
    "text": "all it happens is it takes that tool",
    "start": "166080",
    "end": "167599"
  },
  {
    "text": "called payload it passes to this other",
    "start": "167599",
    "end": "169640"
  },
  {
    "text": "node called The Tool node which",
    "start": "169640",
    "end": "171360"
  },
  {
    "text": "basically has our two tools it looks up",
    "start": "171360",
    "end": "173239"
  },
  {
    "text": "the right tool based on the specified",
    "start": "173239",
    "end": "174879"
  },
  {
    "text": "name it passes the specified input to",
    "start": "174879",
    "end": "176840"
  },
  {
    "text": "the tool and you get the tool response",
    "start": "176840",
    "end": "178360"
  },
  {
    "text": "out and we send that back to the LM now",
    "start": "178360",
    "end": "181120"
  },
  {
    "text": "this keeps running until LM has decided",
    "start": "181120",
    "end": "183480"
  },
  {
    "text": "okay I'm not going to call a tool",
    "start": "183480",
    "end": "184680"
  },
  {
    "text": "anymore I'm just going to respond",
    "start": "184680",
    "end": "185720"
  },
  {
    "text": "directly and then the tool conditions no",
    "start": "185720",
    "end": "188000"
  },
  {
    "text": "just returns so in this particular case",
    "start": "188000",
    "end": "190159"
  },
  {
    "text": "let's walk through it one Loop what's",
    "start": "190159",
    "end": "192200"
  },
  {
    "text": "Magic function 3 llm says okay that",
    "start": "192200",
    "end": "195040"
  },
  {
    "text": "looks like a tool call I need to use my",
    "start": "195040",
    "end": "196879"
  },
  {
    "text": "tool magic function Returns the tool",
    "start": "196879",
    "end": "199200"
  },
  {
    "text": "call with the magic function name and",
    "start": "199200",
    "end": "201360"
  },
  {
    "text": "the argument tool node gets that tool",
    "start": "201360",
    "end": "203640"
  },
  {
    "text": "node says okay run magic function runs",
    "start": "203640",
    "end": "205879"
  },
  {
    "text": "it with this input three you get the",
    "start": "205879",
    "end": "208319"
  },
  {
    "text": "result five out it passes that back to",
    "start": "208319",
    "end": "210640"
  },
  {
    "text": "LM as a tool message hey the tool output",
    "start": "210640",
    "end": "212680"
  },
  {
    "text": "is five LM looks at that and says okay",
    "start": "212680",
    "end": "215480"
  },
  {
    "text": "Returns the string the result is five",
    "start": "215480",
    "end": "217519"
  },
  {
    "text": "that's all that happens super super",
    "start": "217519",
    "end": "219799"
  },
  {
    "text": "simple basic agent explanation",
    "start": "219799",
    "end": "222439"
  },
  {
    "text": "right so here's the interesting thing",
    "start": "222439",
    "end": "225760"
  },
  {
    "text": "how do you think about evaluating this",
    "start": "225760",
    "end": "227439"
  },
  {
    "text": "thing well here's the way we've broken",
    "start": "227439",
    "end": "229640"
  },
  {
    "text": "it down this is our conceptual guide and",
    "start": "229640",
    "end": "231920"
  },
  {
    "text": "um there's like kind of three different",
    "start": "231920",
    "end": "233599"
  },
  {
    "text": "really intuitive ways to think about",
    "start": "233599",
    "end": "234959"
  },
  {
    "text": "this first is final response this is",
    "start": "234959",
    "end": "237360"
  },
  {
    "text": "just like end to end is it doing what we",
    "start": "237360",
    "end": "239519"
  },
  {
    "text": "want to do so in this case the final",
    "start": "239519",
    "end": "241480"
  },
  {
    "text": "response would be like looking at does",
    "start": "241480",
    "end": "243400"
  },
  {
    "text": "it return five I don't care how many",
    "start": "243400",
    "end": "245040"
  },
  {
    "text": "Loops it goes through does it return",
    "start": "245040",
    "end": "246720"
  },
  {
    "text": "five and you know if you think about",
    "start": "246720",
    "end": "248680"
  },
  {
    "text": "that's just a string to string",
    "start": "248680",
    "end": "249680"
  },
  {
    "text": "comparison typically we can use existing",
    "start": "249680",
    "end": "252000"
  },
  {
    "text": "evaluators like we use for rag answer",
    "start": "252000",
    "end": "253840"
  },
  {
    "text": "response easy stuff right so you're just",
    "start": "253840",
    "end": "256120"
  },
  {
    "text": "looking at end to-end response you don't",
    "start": "256120",
    "end": "257799"
  },
  {
    "text": "care anything about the agent process",
    "start": "257799",
    "end": "259639"
  },
  {
    "text": "okay so that's kind of like one way to",
    "start": "259639",
    "end": "261040"
  },
  {
    "text": "do it now another way to do evaluation",
    "start": "261040",
    "end": "264320"
  },
  {
    "text": "is like digging in a little bit like",
    "start": "264320",
    "end": "265720"
  },
  {
    "text": "looking at a single step of the agent",
    "start": "265720",
    "end": "267960"
  },
  {
    "text": "like here's a good example if I pass",
    "start": "267960",
    "end": "269960"
  },
  {
    "text": "this input does it actually like you",
    "start": "269960",
    "end": "273120"
  },
  {
    "text": "know want it does actually invoke the",
    "start": "273120",
    "end": "274759"
  },
  {
    "text": "right tools it like make the right",
    "start": "274759",
    "end": "276280"
  },
  {
    "text": "decision so for this my output would be",
    "start": "276280",
    "end": "280120"
  },
  {
    "text": "like my evaluation output we'll talk",
    "start": "280120",
    "end": "281639"
  },
  {
    "text": "about this in detail later will be like",
    "start": "281639",
    "end": "284000"
  },
  {
    "text": "the tool name okay so you could just",
    "start": "284000",
    "end": "285960"
  },
  {
    "text": "evaluate that you could say okay if I",
    "start": "285960",
    "end": "288120"
  },
  {
    "text": "have this prompt I expect this tool to",
    "start": "288120",
    "end": "290080"
  },
  {
    "text": "be called and just do an evaluation",
    "start": "290080",
    "end": "291600"
  },
  {
    "text": "there so that's like evaluating one step",
    "start": "291600",
    "end": "293160"
  },
  {
    "text": "of an agent right and then you can also",
    "start": "293160",
    "end": "295520"
  },
  {
    "text": "think about doing kind of the same idea",
    "start": "295520",
    "end": "297120"
  },
  {
    "text": "but for many steps and so let's say this",
    "start": "297120",
    "end": "298759"
  },
  {
    "text": "is more complex agent it has to invoke",
    "start": "298759",
    "end": "301199"
  },
  {
    "text": "like both of these tools right you could",
    "start": "301199",
    "end": "303199"
  },
  {
    "text": "have your reference be like you know fun",
    "start": "303199",
    "end": "306560"
  },
  {
    "text": "magic function then web search Okay um",
    "start": "306560",
    "end": "310440"
  },
  {
    "text": "and um you know and then in case your",
    "start": "310440",
    "end": "312960"
  },
  {
    "text": "evaluation would basically look for",
    "start": "312960",
    "end": "315160"
  },
  {
    "text": "there's a couple ways you could do",
    "start": "315160",
    "end": "316240"
  },
  {
    "text": "custom evaluator there you could look at",
    "start": "316240",
    "end": "317680"
  },
  {
    "text": "the exact sequence of tool calls you",
    "start": "317680",
    "end": "319720"
  },
  {
    "text": "could look at any sequence of tool calls",
    "start": "319720",
    "end": "321319"
  },
  {
    "text": "you could look at like you know if it's",
    "start": "321319",
    "end": "323240"
  },
  {
    "text": "close count it you know better versus",
    "start": "323240",
    "end": "325199"
  },
  {
    "text": "far in terms of like the trajectory",
    "start": "325199",
    "end": "326919"
  },
  {
    "text": "taken anyway we'll talk about all that",
    "start": "326919",
    "end": "328600"
  },
  {
    "text": "later but the intuition is simply",
    "start": "328600",
    "end": "330479"
  },
  {
    "text": "evaluating a whole selection of",
    "start": "330479",
    "end": "331960"
  },
  {
    "text": "different tool calls so again evaluate",
    "start": "331960",
    "end": "334319"
  },
  {
    "text": "final response evaluate a single tool",
    "start": "334319",
    "end": "336639"
  },
  {
    "text": "call or evaluate many tool calls that's",
    "start": "336639",
    "end": "339720"
  },
  {
    "text": "like the simple minded way to think",
    "start": "339720",
    "end": "340919"
  },
  {
    "text": "about at least three ways to look at",
    "start": "340919",
    "end": "342280"
  },
  {
    "text": "agent evaluation now let's go ahead",
    "start": "342280",
    "end": "344639"
  },
  {
    "text": "after that Preamble let's go to the",
    "start": "344639",
    "end": "346560"
  },
  {
    "text": "first one so here's a notebook i' I've",
    "start": "346560",
    "end": "348720"
  },
  {
    "text": "defined an agent um so I'm using this",
    "start": "348720",
    "end": "351039"
  },
  {
    "text": "chinuk DB this is a popular SQL database",
    "start": "351039",
    "end": "354360"
  },
  {
    "text": "um and so I'm going to build a SQL agent",
    "start": "354360",
    "end": "358120"
  },
  {
    "text": "okay it's going to be using chinuk DB",
    "start": "358120",
    "end": "360479"
  },
  {
    "text": "um here's like the flow again just looks",
    "start": "360479",
    "end": "362520"
  },
  {
    "text": "exactly like we just saw except in this",
    "start": "362520",
    "end": "364120"
  },
  {
    "text": "case my tool is SQL database um so",
    "start": "364120",
    "end": "368360"
  },
  {
    "text": "here's where I'm just basically going to",
    "start": "368360",
    "end": "369840"
  },
  {
    "text": "pull in uh this is our existing SQL tool",
    "start": "369840",
    "end": "372919"
  },
  {
    "text": "okay this's a whole bunch of SQL tools",
    "start": "372919",
    "end": "374639"
  },
  {
    "text": "for working with SQL databases I'm going",
    "start": "374639",
    "end": "376880"
  },
  {
    "text": "to find one or two custom tools this",
    "start": "376880",
    "end": "378680"
  },
  {
    "text": "like check query tool this is going to",
    "start": "378680",
    "end": "380599"
  },
  {
    "text": "basically check if the quer is correct",
    "start": "380599",
    "end": "383240"
  },
  {
    "text": "um I'm going to add one other like check",
    "start": "383240",
    "end": "385440"
  },
  {
    "text": "result tool this will check if like the",
    "start": "385440",
    "end": "387080"
  },
  {
    "text": "result from DB is like not empty does it",
    "start": "387080",
    "end": "389960"
  },
  {
    "text": "make sense so anyway there we go I I've",
    "start": "389960",
    "end": "393240"
  },
  {
    "text": "defined some",
    "start": "393240",
    "end": "394199"
  },
  {
    "text": "tools now with Lang graph you defined",
    "start": "394199",
    "end": "396840"
  },
  {
    "text": "agent State and um if you want more",
    "start": "396840",
    "end": "398880"
  },
  {
    "text": "details on L graph I'm going to link a",
    "start": "398880",
    "end": "400240"
  },
  {
    "text": "few videos to talk all about Lang graph",
    "start": "400240",
    "end": "401800"
  },
  {
    "text": "agents that's kind of outside the scope",
    "start": "401800",
    "end": "403240"
  },
  {
    "text": "of here but this is assuming you kind of",
    "start": "403240",
    "end": "405240"
  },
  {
    "text": "know how to build an agent okay because",
    "start": "405240",
    "end": "406639"
  },
  {
    "text": "you're doing evaluation so this is my",
    "start": "406639",
    "end": "408639"
  },
  {
    "text": "agent State now here is just where I'm",
    "start": "408639",
    "end": "411360"
  },
  {
    "text": "like basically defining my agent what",
    "start": "411360",
    "end": "413400"
  },
  {
    "text": "you might call the agent runnable or",
    "start": "413400",
    "end": "414720"
  },
  {
    "text": "agent assistant this is basically my SQL",
    "start": "414720",
    "end": "417440"
  },
  {
    "text": "prompt okay so this is basically telling",
    "start": "417440",
    "end": "419240"
  },
  {
    "text": "telling the agent what you're going to",
    "start": "419240",
    "end": "421280"
  },
  {
    "text": "do uh you're you know you're going to be",
    "start": "421280",
    "end": "423520"
  },
  {
    "text": "interacting with sqle database you're",
    "start": "423520",
    "end": "424800"
  },
  {
    "text": "going to be you know quering it looking",
    "start": "424800",
    "end": "426800"
  },
  {
    "text": "at the response uh and then answering",
    "start": "426800",
    "end": "429280"
  },
  {
    "text": "you know answering the user question and",
    "start": "429280",
    "end": "430960"
  },
  {
    "text": "again there's a whole bunch of detail",
    "start": "430960",
    "end": "432800"
  },
  {
    "text": "you can read The Notebook independently",
    "start": "432800",
    "end": "435080"
  },
  {
    "text": "um a couple graph utilities don't worry",
    "start": "435080",
    "end": "436919"
  },
  {
    "text": "too much about this um and boom let's",
    "start": "436919",
    "end": "439599"
  },
  {
    "text": "look at our graph cool so here's our",
    "start": "439599",
    "end": "441400"
  },
  {
    "text": "agent graph just like we saw before and",
    "start": "441400",
    "end": "443319"
  },
  {
    "text": "again this is just like a you know a",
    "start": "443319",
    "end": "445319"
  },
  {
    "text": "line graph representation what we",
    "start": "445319",
    "end": "446759"
  },
  {
    "text": "actually showed over here uh this EX",
    "start": "446759",
    "end": "449520"
  },
  {
    "text": "exactly the same thing I have an",
    "start": "449520",
    "end": "451080"
  },
  {
    "text": "assistant node I have a tool node I",
    "start": "451080",
    "end": "452440"
  },
  {
    "text": "bounce between the tool and the loop",
    "start": "452440",
    "end": "454160"
  },
  {
    "text": "until basically the assistant returns a",
    "start": "454160",
    "end": "456000"
  },
  {
    "text": "string saying here's my answer that's",
    "start": "456000",
    "end": "458039"
  },
  {
    "text": "all we're doing",
    "start": "458039",
    "end": "459919"
  },
  {
    "text": "Simple uh okay so here's a couple",
    "start": "459919",
    "end": "462440"
  },
  {
    "text": "different questions um let's just make",
    "start": "462440",
    "end": "464360"
  },
  {
    "text": "sure I can invoke this thing and that it",
    "start": "464360",
    "end": "465840"
  },
  {
    "text": "actually works um and my config is not",
    "start": "465840",
    "end": "468879"
  },
  {
    "text": "defined um let's see yep so we're going",
    "start": "468879",
    "end": "473080"
  },
  {
    "text": "to go ahead need to pull that up here",
    "start": "473080",
    "end": "475639"
  },
  {
    "text": "boom let's try that and that'll work",
    "start": "475639",
    "end": "478560"
  },
  {
    "text": "cool",
    "start": "478560",
    "end": "480000"
  },
  {
    "text": "uh so we can see that our agent is",
    "start": "480000",
    "end": "482800"
  },
  {
    "text": "running and it is running there we go so",
    "start": "482800",
    "end": "487560"
  },
  {
    "text": "we get an answer and that's fine so the",
    "start": "487560",
    "end": "489840"
  },
  {
    "text": "agent works okay cool and we can also",
    "start": "489840",
    "end": "492680"
  },
  {
    "text": "stream outputs um but let's not worry",
    "start": "492680",
    "end": "495759"
  },
  {
    "text": "about that for now let's move on to the",
    "start": "495759",
    "end": "496919"
  },
  {
    "text": "eval piece so now we have an agent we",
    "start": "496919",
    "end": "498960"
  },
  {
    "text": "build in L graph we know it works",
    "start": "498960",
    "end": "501360"
  },
  {
    "text": "cool now let's talk through that respons",
    "start": "501360",
    "end": "503599"
  },
  {
    "text": "eval again this is looking at the output",
    "start": "503599",
    "end": "505720"
  },
  {
    "text": "or response of our agent no problem so",
    "start": "505720",
    "end": "508520"
  },
  {
    "text": "first things first let's build data set",
    "start": "508520",
    "end": "510000"
  },
  {
    "text": "just like we've done a million times um",
    "start": "510000",
    "end": "512640"
  },
  {
    "text": "I'm going to go open up lsmith boom and",
    "start": "512640",
    "end": "517560"
  },
  {
    "text": "let's log in here",
    "start": "517560",
    "end": "520760"
  },
  {
    "text": "nice all right very good let's go ahead",
    "start": "520760",
    "end": "524039"
  },
  {
    "text": "and open up let's make sure I'm the",
    "start": "524039",
    "end": "525720"
  },
  {
    "text": "right tenant so I'm in my Lang chain",
    "start": "525720",
    "end": "527160"
  },
  {
    "text": "tenant let's look at data set so",
    "start": "527160",
    "end": "529200"
  },
  {
    "text": "actually I've actually already created",
    "start": "529200",
    "end": "530600"
  },
  {
    "text": "this data set I don't want to create it",
    "start": "530600",
    "end": "531880"
  },
  {
    "text": "again but I'll just show you what it",
    "start": "531880",
    "end": "534240"
  },
  {
    "text": "looks like SQL agent response there's my",
    "start": "534240",
    "end": "536720"
  },
  {
    "text": "data set here are my examples so",
    "start": "536720",
    "end": "539160"
  },
  {
    "text": "basically input up a pair just like",
    "start": "539160",
    "end": "540440"
  },
  {
    "text": "we've seen in the past right uh question",
    "start": "540440",
    "end": "543120"
  },
  {
    "text": "answer just like for rag eval same thing",
    "start": "543120",
    "end": "545120"
  },
  {
    "text": "but in this case we need an agent's",
    "start": "545120",
    "end": "546560"
  },
  {
    "text": "going to be doing all the work under the",
    "start": "546560",
    "end": "547920"
  },
  {
    "text": "hood but again our evaluation approach",
    "start": "547920",
    "end": "550040"
  },
  {
    "text": "can follow exactly what we've done with",
    "start": "550040",
    "end": "551279"
  },
  {
    "text": "rag in the past right here's our",
    "start": "551279",
    "end": "553320"
  },
  {
    "text": "examples so we created a data set with",
    "start": "553320",
    "end": "555040"
  },
  {
    "text": "input output pairs question answer now",
    "start": "555040",
    "end": "557399"
  },
  {
    "text": "these answers of course come from our",
    "start": "557399",
    "end": "558519"
  },
  {
    "text": "SQL database so we need an agent to",
    "start": "558519",
    "end": "560120"
  },
  {
    "text": "again interact with the database and uh",
    "start": "560120",
    "end": "562519"
  },
  {
    "text": "do all the work for us so we're just",
    "start": "562519",
    "end": "564680"
  },
  {
    "text": "going to find a chain this is basically",
    "start": "564680",
    "end": "566120"
  },
  {
    "text": "just going to invoke our graph with an",
    "start": "566120",
    "end": "568440"
  },
  {
    "text": "example from our dat data set so again",
    "start": "568440",
    "end": "570600"
  },
  {
    "text": "if you go look at our data set the data",
    "start": "570600",
    "end": "572800"
  },
  {
    "text": "set is keyed with our inputs are this",
    "start": "572800",
    "end": "575160"
  },
  {
    "text": "key input so again we grab our example",
    "start": "575160",
    "end": "578560"
  },
  {
    "text": "key input that'll return basically the",
    "start": "578560",
    "end": "580920"
  },
  {
    "text": "question Plum that into our agent no",
    "start": "580920",
    "end": "584279"
  },
  {
    "text": "problem easy now okay now here's what's",
    "start": "584279",
    "end": "586600"
  },
  {
    "text": "interesting our evaluator this is just",
    "start": "586600",
    "end": "588760"
  },
  {
    "text": "like we did in the past for a rag same",
    "start": "588760",
    "end": "590600"
  },
  {
    "text": "thing we're going to be doing a string",
    "start": "590600",
    "end": "591680"
  },
  {
    "text": "to- string comparison between a",
    "start": "591680",
    "end": "592800"
  },
  {
    "text": "reference answer and our agent answer so",
    "start": "592800",
    "end": "596160"
  },
  {
    "text": "this is literally the same thing we've",
    "start": "596160",
    "end": "597200"
  },
  {
    "text": "done in the past now we kick our reel so",
    "start": "597200",
    "end": "600920"
  },
  {
    "text": "again let's look what we're passing",
    "start": "600920",
    "end": "602399"
  },
  {
    "text": "we're passing in our little function",
    "start": "602399",
    "end": "604040"
  },
  {
    "text": "here that's basically just going to run",
    "start": "604040",
    "end": "606560"
  },
  {
    "text": "our agent on each input okay so that's",
    "start": "606560",
    "end": "610320"
  },
  {
    "text": "that uh our data set we defined our",
    "start": "610320",
    "end": "613560"
  },
  {
    "text": "evaluator we defined right here this is",
    "start": "613560",
    "end": "615279"
  },
  {
    "text": "the same as basically a rag evaluator",
    "start": "615279",
    "end": "617120"
  },
  {
    "text": "you know it's going to look at our",
    "start": "617120",
    "end": "618040"
  },
  {
    "text": "reference answer relative to our agent",
    "start": "618040",
    "end": "619440"
  },
  {
    "text": "answer cool so we kick off evaluation",
    "start": "619440",
    "end": "621959"
  },
  {
    "text": "here um that runs we can go over and",
    "start": "621959",
    "end": "624440"
  },
  {
    "text": "look so I can go ahead and actually just",
    "start": "624440",
    "end": "627800"
  },
  {
    "text": "I'll show you where I am so I'm in my um",
    "start": "627800",
    "end": "631760"
  },
  {
    "text": "our data set that's defined here I look",
    "start": "631760",
    "end": "634519"
  },
  {
    "text": "at my most recent experiment so here we",
    "start": "634519",
    "end": "636160"
  },
  {
    "text": "are so again we' kind of seen this",
    "start": "636160",
    "end": "639279"
  },
  {
    "text": "before uh this is basically a you know",
    "start": "639279",
    "end": "642279"
  },
  {
    "text": "one zero is the answer correct or not",
    "start": "642279",
    "end": "645160"
  },
  {
    "text": "scoring um we can actually just look at",
    "start": "645160",
    "end": "647639"
  },
  {
    "text": "some of these runs and kind of break",
    "start": "647639",
    "end": "649760"
  },
  {
    "text": "them out um so you know reference output",
    "start": "649760",
    "end": "653040"
  },
  {
    "text": "Les has 14 albums the r zien has 14",
    "start": "653040",
    "end": "655279"
  },
  {
    "text": "albums this is obviously correct that's",
    "start": "655279",
    "end": "657040"
  },
  {
    "text": "great we can look at some that are",
    "start": "657040",
    "end": "658399"
  },
  {
    "text": "incorrect uh the most purchased uh track",
    "start": "658399",
    "end": "662360"
  },
  {
    "text": "of 2013 was hot girl um and this has",
    "start": "662360",
    "end": "665399"
  },
  {
    "text": "some issue this is probably a problem",
    "start": "665399",
    "end": "666639"
  },
  {
    "text": "with the query so again this is what we",
    "start": "666639",
    "end": "668160"
  },
  {
    "text": "could dig into um and you can look",
    "start": "668160",
    "end": "671399"
  },
  {
    "text": "through accordingly so in any case this",
    "start": "671399",
    "end": "673360"
  },
  {
    "text": "is like the the simplest type of",
    "start": "673360",
    "end": "674959"
  },
  {
    "text": "valuation you might think of it's it's",
    "start": "674959",
    "end": "677079"
  },
  {
    "text": "actually the same as other types like",
    "start": "677079",
    "end": "678399"
  },
  {
    "text": "rag evaluation we've already talked",
    "start": "678399",
    "end": "679680"
  },
  {
    "text": "about where you're basically comparing",
    "start": "679680",
    "end": "681160"
  },
  {
    "text": "the output or what's returned by the",
    "start": "681160",
    "end": "682959"
  },
  {
    "text": "agent to a reference and you don't care",
    "start": "682959",
    "end": "684839"
  },
  {
    "text": "anything about what's happening under",
    "start": "684839",
    "end": "685920"
  },
  {
    "text": "the hood okay so this is just like an",
    "start": "685920",
    "end": "687920"
  },
  {
    "text": "example of endan eval on a simple test",
    "start": "687920",
    "end": "689959"
  },
  {
    "text": "case on a SQL",
    "start": "689959",
    "end": "691839"
  },
  {
    "text": "agent I'm just going to extend our",
    "start": "691839",
    "end": "694880"
  },
  {
    "text": "response evaluation slightly here so",
    "start": "694880",
    "end": "697560"
  },
  {
    "text": "initially remember our agent looks like",
    "start": "697560",
    "end": "699639"
  },
  {
    "text": "this we start it goes to the assistant",
    "start": "699639",
    "end": "701800"
  },
  {
    "text": "node the assistant picks one of several",
    "start": "701800",
    "end": "703760"
  },
  {
    "text": "tools to use the tool is invoked we go",
    "start": "703760",
    "end": "707000"
  },
  {
    "text": "back we continue that in a loop until we",
    "start": "707000",
    "end": "708720"
  },
  {
    "text": "finish right now when we talk about",
    "start": "708720",
    "end": "711279"
  },
  {
    "text": "laying out agents you can also St to",
    "start": "711279",
    "end": "712959"
  },
  {
    "text": "think about laying out those steps you",
    "start": "712959",
    "end": "715480"
  },
  {
    "text": "want the agent to take or those tool",
    "start": "715480",
    "end": "716920"
  },
  {
    "text": "nodes those tool calls very explicitly",
    "start": "716920",
    "end": "719959"
  },
  {
    "text": "as independent nodes so here's actually",
    "start": "719959",
    "end": "722120"
  },
  {
    "text": "a separate SQL agent that we've kind of",
    "start": "722120",
    "end": "724000"
  },
  {
    "text": "just devised just kind of hacking on it",
    "start": "724000",
    "end": "725600"
  },
  {
    "text": "a little bit and what we do here is",
    "start": "725600",
    "end": "728440"
  },
  {
    "text": "instead of running this uh kind of just",
    "start": "728440",
    "end": "731079"
  },
  {
    "text": "as a simple Loop where the assistant",
    "start": "731079",
    "end": "733440"
  },
  {
    "text": "kind of makes the decision at each step",
    "start": "733440",
    "end": "735399"
  },
  {
    "text": "as to which tool to use we encode the",
    "start": "735399",
    "end": "738600"
  },
  {
    "text": "path of tools that we want the agent to",
    "start": "738600",
    "end": "740639"
  },
  {
    "text": "use very",
    "start": "740639",
    "end": "742120"
  },
  {
    "text": "explicitly and so basically it follows",
    "start": "742120",
    "end": "744519"
  },
  {
    "text": "what we did previously your first tool",
    "start": "744519",
    "end": "746639"
  },
  {
    "text": "call which is basically list tables you",
    "start": "746639",
    "end": "748639"
  },
  {
    "text": "get the scheme",
    "start": "748639",
    "end": "750199"
  },
  {
    "text": "um you generate a query you you check",
    "start": "750199",
    "end": "753399"
  },
  {
    "text": "the query for correctness you execute it",
    "start": "753399",
    "end": "755440"
  },
  {
    "text": "and you go back and if there's an error",
    "start": "755440",
    "end": "757639"
  },
  {
    "text": "in execution then you try again so it's",
    "start": "757639",
    "end": "760800"
  },
  {
    "text": "same kind of idea except we're just",
    "start": "760800",
    "end": "762040"
  },
  {
    "text": "making a little bit more specific so",
    "start": "762040",
    "end": "764279"
  },
  {
    "text": "what's cool is with our now eval set to",
    "start": "764279",
    "end": "766440"
  },
  {
    "text": "find I can actually go and I've just run",
    "start": "766440",
    "end": "768160"
  },
  {
    "text": "this notebook and this is checked in",
    "start": "768160",
    "end": "769480"
  },
  {
    "text": "I'll of course share the link here bunch",
    "start": "769480",
    "end": "771360"
  },
  {
    "text": "of code this is again showing the the um",
    "start": "771360",
    "end": "774199"
  },
  {
    "text": "the kind of flow of the",
    "start": "774199",
    "end": "776199"
  },
  {
    "text": "agent um we going ahead and ran response",
    "start": "776199",
    "end": "780240"
  },
  {
    "text": "evaluation on that same eval set um",
    "start": "780240",
    "end": "784120"
  },
  {
    "text": "again this is kind of the same eval we",
    "start": "784120",
    "end": "785480"
  },
  {
    "text": "just went through with our updated agent",
    "start": "785480",
    "end": "788079"
  },
  {
    "text": "so we can kick off evaluation here I'm",
    "start": "788079",
    "end": "790480"
  },
  {
    "text": "going to name this evaluation SQL agent",
    "start": "790480",
    "end": "792440"
  },
  {
    "text": "mult multi-step response um so that runs",
    "start": "792440",
    "end": "796240"
  },
  {
    "text": "and we can go over to L graph we can",
    "start": "796240",
    "end": "797839"
  },
  {
    "text": "look at our data set we can see here's",
    "start": "797839",
    "end": "799160"
  },
  {
    "text": "our two experiments this is our initial",
    "start": "799160",
    "end": "800720"
  },
  {
    "text": "agent it got around 53% correct I ran",
    "start": "800720",
    "end": "803279"
  },
  {
    "text": "three",
    "start": "803279",
    "end": "804040"
  },
  {
    "text": "repetitions um and we can see that our",
    "start": "804040",
    "end": "806680"
  },
  {
    "text": "newer agent SQL uh agent multi SE",
    "start": "806680",
    "end": "809320"
  },
  {
    "text": "response gets to around 67% again across",
    "start": "809320",
    "end": "811720"
  },
  {
    "text": "the three repetitions so this is pretty",
    "start": "811720",
    "end": "813600"
  },
  {
    "text": "cool we can open this up we can go to",
    "start": "813600",
    "end": "815160"
  },
  {
    "text": "comparison view um and this is great so",
    "start": "815160",
    "end": "818560"
  },
  {
    "text": "we can actually see you know we do uh",
    "start": "818560",
    "end": "820959"
  },
  {
    "text": "two improvements and one regression",
    "start": "820959",
    "end": "822959"
  },
  {
    "text": "relative to the Baseline the Baseline",
    "start": "822959",
    "end": "824839"
  },
  {
    "text": "being our initial model and our uh what",
    "start": "824839",
    "end": "828240"
  },
  {
    "text": "we're comparing is of course the",
    "start": "828240",
    "end": "829440"
  },
  {
    "text": "multi-step agent so in any case good",
    "start": "829440",
    "end": "831759"
  },
  {
    "text": "example of how you can um you know use",
    "start": "831759",
    "end": "835000"
  },
  {
    "text": "evaluation to compare different agent",
    "start": "835000",
    "end": "836480"
  },
  {
    "text": "architectures and in this particular",
    "start": "836480",
    "end": "838120"
  },
  {
    "text": "case you can see that a more uh explicit",
    "start": "838120",
    "end": "840519"
  },
  {
    "text": "architecture does a little bit better on",
    "start": "840519",
    "end": "841920"
  },
  {
    "text": "EV set thanks",
    "start": "841920",
    "end": "846000"
  }
]