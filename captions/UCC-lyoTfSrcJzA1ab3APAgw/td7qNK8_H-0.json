[
  {
    "start": "0",
    "end": "84000"
  },
  {
    "text": "what's going on everyone it's brace from",
    "start": "599",
    "end": "1800"
  },
  {
    "text": "Lang chain and in this video we're going",
    "start": "1800",
    "end": "3159"
  },
  {
    "text": "to be implementing a full stack stock",
    "start": "3159",
    "end": "5440"
  },
  {
    "text": "broker human Loop agent including a",
    "start": "5440",
    "end": "7720"
  },
  {
    "text": "langra backend um which we're then going",
    "start": "7720",
    "end": "9880"
  },
  {
    "text": "to deploy to L graph cloud and",
    "start": "9880",
    "end": "11400"
  },
  {
    "text": "production at the end of the video as",
    "start": "11400",
    "end": "13040"
  },
  {
    "text": "well as a front end written in xjs so",
    "start": "13040",
    "end": "15759"
  },
  {
    "text": "this graph we're going to be building is",
    "start": "15759",
    "end": "17240"
  },
  {
    "text": "a stock broker agent which has some",
    "start": "17240",
    "end": "19119"
  },
  {
    "text": "human Loop capabilities where our agent",
    "start": "19119",
    "end": "21760"
  },
  {
    "text": "can fetch details from Financial apis if",
    "start": "21760",
    "end": "24599"
  },
  {
    "text": "you're on Twitter you're probably",
    "start": "24599",
    "end": "25920"
  },
  {
    "text": "familiar with verat we're going to be",
    "start": "25920",
    "end": "27240"
  },
  {
    "text": "using his financial um data sets API to",
    "start": "27240",
    "end": "31039"
  },
  {
    "text": "fetch data about different public",
    "start": "31039",
    "end": "32599"
  },
  {
    "text": "companies and then also prices of stocks",
    "start": "32599",
    "end": "35320"
  },
  {
    "text": "um so big thank you to him for building",
    "start": "35320",
    "end": "36840"
  },
  {
    "text": "out this great financial data API uh so",
    "start": "36840",
    "end": "39520"
  },
  {
    "text": "our agent has a series of tools that it",
    "start": "39520",
    "end": "41280"
  },
  {
    "text": "can call around getting the current",
    "start": "41280",
    "end": "43120"
  },
  {
    "text": "price of a stock getting some you know",
    "start": "43120",
    "end": "45000"
  },
  {
    "text": "revenue reports or some uh different",
    "start": "45000",
    "end": "47280"
  },
  {
    "text": "data that these public companies have to",
    "start": "47280",
    "end": "49079"
  },
  {
    "text": "disclose so that our agent can make",
    "start": "49079",
    "end": "50920"
  },
  {
    "text": "informed decisions about purchasing",
    "start": "50920",
    "end": "52320"
  },
  {
    "text": "stocks um it can then also prepare",
    "start": "52320",
    "end": "54520"
  },
  {
    "text": "purchase details if we ask it to",
    "start": "54520",
    "end": "56199"
  },
  {
    "text": "purchase a stock and then the human Loop",
    "start": "56199",
    "end": "58480"
  },
  {
    "text": "portion um is before it executes the",
    "start": "58480",
    "end": "61120"
  },
  {
    "text": "purchase uh if the purchase confirmed",
    "start": "61120",
    "end": "63160"
  },
  {
    "text": "field in our state is not set to true",
    "start": "63160",
    "end": "65439"
  },
  {
    "text": "then it will throw a dynamic interrupt",
    "start": "65439",
    "end": "67960"
  },
  {
    "text": "interrupt our our graph and we will have",
    "start": "67960",
    "end": "69799"
  },
  {
    "text": "to set this Feld to true or else the um",
    "start": "69799",
    "end": "72600"
  },
  {
    "text": "purchase will not be able to go through",
    "start": "72600",
    "end": "74520"
  },
  {
    "text": "these purchases are just mock stock",
    "start": "74520",
    "end": "76000"
  },
  {
    "text": "purchases they're not actually executing",
    "start": "76000",
    "end": "77520"
  },
  {
    "text": "purchases um but it works pretty much",
    "start": "77520",
    "end": "79119"
  },
  {
    "text": "the same way minus the execute purchase",
    "start": "79119",
    "end": "81320"
  },
  {
    "text": "API call you'd make um if you were to",
    "start": "81320",
    "end": "83240"
  },
  {
    "text": "build this for production so we can try",
    "start": "83240",
    "end": "85720"
  },
  {
    "start": "84000",
    "end": "221000"
  },
  {
    "text": "out a quick message here saying what is",
    "start": "85720",
    "end": "88240"
  },
  {
    "text": "Google's current price and on the right",
    "start": "88240",
    "end": "89960"
  },
  {
    "text": "we see all the events stream in so we",
    "start": "89960",
    "end": "92079"
  },
  {
    "text": "see our LM called the price snapshot",
    "start": "92079",
    "end": "94320"
  },
  {
    "text": "tool the price snapshot tool return",
    "start": "94320",
    "end": "96640"
  },
  {
    "text": "Google's current price and that got sent",
    "start": "96640",
    "end": "98520"
  },
  {
    "text": "back to the LM where it generated a",
    "start": "98520",
    "end": "99799"
  },
  {
    "text": "plain text response saying Google's",
    "start": "99799",
    "end": "101240"
  },
  {
    "text": "current stock price is",
    "start": "101240",
    "end": "102920"
  },
  {
    "text": "$157 we can add a new message saying",
    "start": "102920",
    "end": "105880"
  },
  {
    "text": "let's buy four shares when we submit",
    "start": "105880",
    "end": "107680"
  },
  {
    "text": "that it called the purchase stock tool",
    "start": "107680",
    "end": "110640"
  },
  {
    "text": "that then got routed to the prepare",
    "start": "110640",
    "end": "112280"
  },
  {
    "text": "purchase details node where it prepared",
    "start": "112280",
    "end": "113880"
  },
  {
    "text": "all the purchase details um and before",
    "start": "113880",
    "end": "116039"
  },
  {
    "text": "it could execute the execute purchase",
    "start": "116039",
    "end": "117920"
  },
  {
    "text": "node the graph was interrupted and this",
    "start": "117920",
    "end": "120159"
  },
  {
    "text": "is because purchase confirmed is not set",
    "start": "120159",
    "end": "122399"
  },
  {
    "text": "to true if we inspect the current state",
    "start": "122399",
    "end": "124640"
  },
  {
    "text": "we can see that we have our messages in",
    "start": "124640",
    "end": "126520"
  },
  {
    "text": "our state our requested stock purchase",
    "start": "126520",
    "end": "128879"
  },
  {
    "text": "details object which is what the execute",
    "start": "128879",
    "end": "130720"
  },
  {
    "text": "purchase node needs in order to actually",
    "start": "130720",
    "end": "132720"
  },
  {
    "text": "execute the purchase however purchase",
    "start": "132720",
    "end": "134640"
  },
  {
    "text": "confirmed is not present so if we check",
    "start": "134640",
    "end": "137480"
  },
  {
    "text": "this box here and then update it to",
    "start": "137480",
    "end": "139680"
  },
  {
    "text": "execute this as the prepare purchase",
    "start": "139680",
    "end": "141280"
  },
  {
    "text": "details node so the node that just ran",
    "start": "141280",
    "end": "143680"
  },
  {
    "text": "and resubmit then now purchase confirm",
    "start": "143680",
    "end": "146239"
  },
  {
    "text": "will be true and it should be able to",
    "start": "146239",
    "end": "147519"
  },
  {
    "text": "execute the purchase and the LM should",
    "start": "147519",
    "end": "149080"
  },
  {
    "text": "tell us that it executed the purchase so",
    "start": "149080",
    "end": "151120"
  },
  {
    "text": "we hit submit we see purchase confirm",
    "start": "151120",
    "end": "153840"
  },
  {
    "text": "true and then our llm called the execute",
    "start": "153840",
    "end": "157360"
  },
  {
    "text": "purchase node where it return",
    "start": "157360",
    "end": "158720"
  },
  {
    "text": "successfully purchase four shares of",
    "start": "158720",
    "end": "160280"
  },
  {
    "text": "Google at $157 a share now if we were to",
    "start": "160280",
    "end": "163480"
  },
  {
    "text": "create a new thread and say what's",
    "start": "163480",
    "end": "165519"
  },
  {
    "text": "Google's current stock price submit it",
    "start": "165519",
    "end": "167840"
  },
  {
    "text": "and then once this goes through we can",
    "start": "167840",
    "end": "169480"
  },
  {
    "text": "say let's buy four shares or let's not",
    "start": "169480",
    "end": "172640"
  },
  {
    "text": "set this to true and instead let's say",
    "start": "172640",
    "end": "174200"
  },
  {
    "text": "let's buy four shares we hit",
    "start": "174200",
    "end": "176640"
  },
  {
    "text": "submit it then obviously will not be",
    "start": "176640",
    "end": "178680"
  },
  {
    "text": "able to execute the execute purchase",
    "start": "178680",
    "end": "180120"
  },
  {
    "text": "node because purchase confirmed is not",
    "start": "180120",
    "end": "181640"
  },
  {
    "text": "set to True um and then if we try and",
    "start": "181640",
    "end": "183560"
  },
  {
    "text": "continue it since purchase confirmed is",
    "start": "183560",
    "end": "185360"
  },
  {
    "text": "not set to true it will never be able to",
    "start": "185360",
    "end": "188280"
  },
  {
    "text": "execute this node which is exactly what",
    "start": "188280",
    "end": "189840"
  },
  {
    "text": "we want so we can see doesn't matter how",
    "start": "189840",
    "end": "191519"
  },
  {
    "text": "many times we click continue it is never",
    "start": "191519",
    "end": "193640"
  },
  {
    "text": "able to execute the purchase it also",
    "start": "193640",
    "end": "195920"
  },
  {
    "text": "doesn't matter if we send in a new",
    "start": "195920",
    "end": "197080"
  },
  {
    "text": "message saying execute the purchase uh",
    "start": "197080",
    "end": "199560"
  },
  {
    "text": "we have to explicitly set this field to",
    "start": "199560",
    "end": "201400"
  },
  {
    "text": "true we can send in a new message and as",
    "start": "201400",
    "end": "203680"
  },
  {
    "text": "we can see it did not work even though",
    "start": "203680",
    "end": "205760"
  },
  {
    "text": "it updated the state at the end to",
    "start": "205760",
    "end": "207599"
  },
  {
    "text": "include that it is just unable to call",
    "start": "207599",
    "end": "209599"
  },
  {
    "text": "the node because of our node interrupt",
    "start": "209599",
    "end": "211879"
  },
  {
    "text": "uh which we throw if purchase confirmed",
    "start": "211879",
    "end": "213959"
  },
  {
    "text": "is not true so now that we have a good",
    "start": "213959",
    "end": "216720"
  },
  {
    "text": "highle idea how our graph Works let's go",
    "start": "216720",
    "end": "219319"
  },
  {
    "text": "jump into the code and see exactly how",
    "start": "219319",
    "end": "221200"
  },
  {
    "start": "221000",
    "end": "247000"
  },
  {
    "text": "each node works so to follow along",
    "start": "221200",
    "end": "223439"
  },
  {
    "text": "you're going to want to clone the Lang",
    "start": "223439",
    "end": "225080"
  },
  {
    "text": "graph JS examples repository I'll add a",
    "start": "225080",
    "end": "227040"
  },
  {
    "text": "link to it in the description and then",
    "start": "227040",
    "end": "228560"
  },
  {
    "text": "once you've cloned that navigate into",
    "start": "228560",
    "end": "230040"
  },
  {
    "text": "the stock broker directory I already",
    "start": "230040",
    "end": "231959"
  },
  {
    "text": "have it cloned so I can open it up and",
    "start": "231959",
    "end": "233519"
  },
  {
    "text": "as you can see the stock broker",
    "start": "233519",
    "end": "234760"
  },
  {
    "text": "directory is formatted in a monor repo",
    "start": "234760",
    "end": "237360"
  },
  {
    "text": "like way where we have two projects back",
    "start": "237360",
    "end": "239920"
  },
  {
    "text": "end and front end inside of our",
    "start": "239920",
    "end": "241280"
  },
  {
    "text": "directory and then a root package Json",
    "start": "241280",
    "end": "243560"
  },
  {
    "text": "and a turbo. Json file because we're",
    "start": "243560",
    "end": "245159"
  },
  {
    "text": "using turbo repo to manage our monor",
    "start": "245159",
    "end": "246599"
  },
  {
    "text": "repo so to install dependencies for a",
    "start": "246599",
    "end": "248720"
  },
  {
    "start": "247000",
    "end": "399000"
  },
  {
    "text": "stock broker you can just run yarn",
    "start": "248720",
    "end": "250120"
  },
  {
    "text": "install from the root of the stock",
    "start": "250120",
    "end": "251920"
  },
  {
    "text": "broker directory and that will install",
    "start": "251920",
    "end": "253319"
  },
  {
    "text": "all the dependencies you need for the",
    "start": "253319",
    "end": "254519"
  },
  {
    "text": "back end and the front end and then once",
    "start": "254519",
    "end": "256359"
  },
  {
    "text": "you've done that you can navigate into",
    "start": "256359",
    "end": "257759"
  },
  {
    "text": "backend and index.ts where we have the",
    "start": "257759",
    "end": "260479"
  },
  {
    "text": "code defined for our stock broker agent",
    "start": "260479",
    "end": "263240"
  },
  {
    "text": "so as you can see at the top of our file",
    "start": "263240",
    "end": "264880"
  },
  {
    "text": "the first thing we Define is our graph",
    "start": "264880",
    "end": "266400"
  },
  {
    "text": "annotation this defines the state of our",
    "start": "266400",
    "end": "269000"
  },
  {
    "text": "graph and the different fields which we",
    "start": "269000",
    "end": "270479"
  },
  {
    "text": "can return and pass through to each of",
    "start": "270479",
    "end": "272039"
  },
  {
    "text": "our nodes we are importing the messages",
    "start": "272039",
    "end": "274400"
  },
  {
    "text": "annotation uh State object from Lang",
    "start": "274400",
    "end": "276840"
  },
  {
    "text": "graph where we spread that and that",
    "start": "276840",
    "end": "278520"
  },
  {
    "text": "essentially adds the messages field to",
    "start": "278520",
    "end": "280080"
  },
  {
    "text": "our state um and this is of type base",
    "start": "280080",
    "end": "282320"
  },
  {
    "text": "message or a list of Base messages um",
    "start": "282320",
    "end": "284960"
  },
  {
    "text": "and then when you return a message into",
    "start": "284960",
    "end": "286440"
  },
  {
    "text": "the state it gets concatenated uh to the",
    "start": "286440",
    "end": "289280"
  },
  {
    "text": "current state with a little more logic",
    "start": "289280",
    "end": "290840"
  },
  {
    "text": "around adding and removing messages the",
    "start": "290840",
    "end": "292960"
  },
  {
    "text": "next field we have is the requested",
    "start": "292960",
    "end": "294680"
  },
  {
    "text": "stock purchase details field and this is",
    "start": "294680",
    "end": "297639"
  },
  {
    "text": "of a type ticker uh qu and Max purchase",
    "start": "297639",
    "end": "300960"
  },
  {
    "text": "and this contains the fields which our",
    "start": "300960",
    "end": "302759"
  },
  {
    "text": "prepare purchase details node generates",
    "start": "302759",
    "end": "305400"
  },
  {
    "text": "uh so that when we want to actually",
    "start": "305400",
    "end": "306479"
  },
  {
    "text": "execute the purchase we have exactly the",
    "start": "306479",
    "end": "308320"
  },
  {
    "text": "fields that we need to execute that",
    "start": "308320",
    "end": "310199"
  },
  {
    "text": "purchase finally we have purchase",
    "start": "310199",
    "end": "312280"
  },
  {
    "text": "confirmed uh which is a Boolean and this",
    "start": "312280",
    "end": "314680"
  },
  {
    "text": "is the field we use to determine whether",
    "start": "314680",
    "end": "316360"
  },
  {
    "text": "or not a user has actually confirmed a",
    "start": "316360",
    "end": "318919"
  },
  {
    "text": "purchase we're using gbd4 for this but",
    "start": "318919",
    "end": "321840"
  },
  {
    "text": "you can use any LM you'd like and then",
    "start": "321840",
    "end": "324039"
  },
  {
    "text": "we pass all of our tools to a tool node",
    "start": "324039",
    "end": "326160"
  },
  {
    "text": "a tool node is a built-in class that is",
    "start": "326160",
    "end": "328840"
  },
  {
    "text": "exported from lingraph where you can",
    "start": "328840",
    "end": "330440"
  },
  {
    "text": "pass in a list of tools added as a node",
    "start": "330440",
    "end": "332800"
  },
  {
    "text": "and then anytime that node is invoked",
    "start": "332800",
    "end": "334800"
  },
  {
    "text": "and it's passed an AI message um from an",
    "start": "334800",
    "end": "337880"
  },
  {
    "text": "LM that contains a tool call it will map",
    "start": "337880",
    "end": "340479"
  },
  {
    "text": "the generated tool call to one of the",
    "start": "340479",
    "end": "342080"
  },
  {
    "text": "tool calls you passed in and then invoke",
    "start": "342080",
    "end": "344160"
  },
  {
    "text": "the function on that tool call if we",
    "start": "344160",
    "end": "346000"
  },
  {
    "text": "inspect this list we see we have a web",
    "start": "346000",
    "end": "348000"
  },
  {
    "text": "search tool purchase stock tool and then",
    "start": "348000",
    "end": "350479"
  },
  {
    "text": "a series of other tools from the",
    "start": "350479",
    "end": "351880"
  },
  {
    "text": "financial data sets API which allow us",
    "start": "351880",
    "end": "354240"
  },
  {
    "text": "to get things like the current price",
    "start": "354240",
    "end": "356080"
  },
  {
    "text": "some company facts um and so on we can",
    "start": "356080",
    "end": "358680"
  },
  {
    "text": "inspect the per purchase stock tool for",
    "start": "358680",
    "end": "360520"
  },
  {
    "text": "example and as we can see it's a simple",
    "start": "360520",
    "end": "362240"
  },
  {
    "text": "L chain tool uh that for the function it",
    "start": "362240",
    "end": "365000"
  },
  {
    "text": "just returns a string saying please",
    "start": "365000",
    "end": "366840"
  },
  {
    "text": "confirm you would like you want to",
    "start": "366840",
    "end": "368000"
  },
  {
    "text": "purchase uh this many shares of this",
    "start": "368000",
    "end": "370080"
  },
  {
    "text": "ticker at the purchase price per share",
    "start": "370080",
    "end": "372520"
  },
  {
    "text": "or the current price the schema contains",
    "start": "372520",
    "end": "376160"
  },
  {
    "text": "ticker company name quantity and Max",
    "start": "376160",
    "end": "378680"
  },
  {
    "text": "purchase price which are all optional",
    "start": "378680",
    "end": "380639"
  },
  {
    "text": "and we'll get to why these are all",
    "start": "380639",
    "end": "382440"
  },
  {
    "text": "optional when we inspect the prepare",
    "start": "382440",
    "end": "384240"
  },
  {
    "text": "purchase details node um and then all",
    "start": "384240",
    "end": "386720"
  },
  {
    "text": "the other tools are built pretty much",
    "start": "386720",
    "end": "388720"
  },
  {
    "text": "the same way however the ones which call",
    "start": "388720",
    "end": "390759"
  },
  {
    "text": "an API have this call financial data",
    "start": "390759",
    "end": "394400"
  },
  {
    "text": "data sets API function inside them where",
    "start": "394400",
    "end": "396400"
  },
  {
    "text": "they are actually hitting the financial",
    "start": "396400",
    "end": "398160"
  },
  {
    "text": "data sets. a API so that's the um tools",
    "start": "398160",
    "end": "401639"
  },
  {
    "text": "which we provide to the model and then",
    "start": "401639",
    "end": "402960"
  },
  {
    "text": "the first node we have is call model",
    "start": "402960",
    "end": "405039"
  },
  {
    "text": "this call model maps to the agent node",
    "start": "405039",
    "end": "407240"
  },
  {
    "text": "if we scroll to the bottom we can see in",
    "start": "407240",
    "end": "408840"
  },
  {
    "text": "our graph we've defined the agent node",
    "start": "408840",
    "end": "411000"
  },
  {
    "text": "with the call model function um and then",
    "start": "411000",
    "end": "413160"
  },
  {
    "text": "every time we start we will always map",
    "start": "413160",
    "end": "414960"
  },
  {
    "text": "to the agent node and that's what we can",
    "start": "414960",
    "end": "416199"
  },
  {
    "text": "see right here start always goes to the",
    "start": "416199",
    "end": "417840"
  },
  {
    "text": "agent node so if we inspect this node we",
    "start": "417840",
    "end": "420800"
  },
  {
    "text": "can see it takes in an argument of state",
    "start": "420800",
    "end": "422759"
  },
  {
    "text": "which contains all the fields in our",
    "start": "422759",
    "end": "424520"
  },
  {
    "text": "state we extract the messages and then",
    "start": "424520",
    "end": "426599"
  },
  {
    "text": "we Define a simple system message are",
    "start": "426599",
    "end": "428680"
  },
  {
    "text": "just saying things like you're a",
    "start": "428680",
    "end": "429639"
  },
  {
    "text": "financial analyst you can do XYZ you",
    "start": "429639",
    "end": "431639"
  },
  {
    "text": "have a series of tools um provided to",
    "start": "431639",
    "end": "433759"
  },
  {
    "text": "you we then bind all of our tools to the",
    "start": "433759",
    "end": "436039"
  },
  {
    "text": "LM so that our LM can actually invoke",
    "start": "436039",
    "end": "437800"
  },
  {
    "text": "the tools that will need to be routed to",
    "start": "437800",
    "end": "439400"
  },
  {
    "text": "the tool router prepare purchase details",
    "start": "439400",
    "end": "441319"
  },
  {
    "text": "node and then we invoke the LM always",
    "start": "441319",
    "end": "443840"
  },
  {
    "text": "passing the system message as the first",
    "start": "443840",
    "end": "445360"
  },
  {
    "text": "message and then the rest of the message",
    "start": "445360",
    "end": "447319"
  },
  {
    "text": "come after finally we return the result",
    "start": "447319",
    "end": "449560"
  },
  {
    "text": "to the messages field and then our",
    "start": "449560",
    "end": "451879"
  },
  {
    "text": "messages annotation State object will",
    "start": "451879",
    "end": "454360"
  },
  {
    "text": "handle concatenating this new AI message",
    "start": "454360",
    "end": "457199"
  },
  {
    "text": "to the rest of our messages in our state",
    "start": "457199",
    "end": "459160"
  },
  {
    "text": "we can see we've defined a conditional",
    "start": "459160",
    "end": "460560"
  },
  {
    "text": "edge here which always occurs after the",
    "start": "460560",
    "end": "463360"
  },
  {
    "text": "agent node is invoked um and that's why",
    "start": "463360",
    "end": "465360"
  },
  {
    "text": "our agent node has all of these dotted",
    "start": "465360",
    "end": "467199"
  },
  {
    "text": "lines coming out of it or dotted arrows",
    "start": "467199",
    "end": "469199"
  },
  {
    "text": "sorry these dotted arrows indicate a",
    "start": "469199",
    "end": "471360"
  },
  {
    "text": "conditional Edge that this node can take",
    "start": "471360",
    "end": "472960"
  },
  {
    "text": "so we can either go to the tools node",
    "start": "472960",
    "end": "474720"
  },
  {
    "text": "prepare purchase details node and so on",
    "start": "474720",
    "end": "477280"
  },
  {
    "text": "and we can see the different options",
    "start": "477280",
    "end": "478919"
  },
  {
    "text": "that this condition Edge can take are",
    "start": "478919",
    "end": "480319"
  },
  {
    "text": "the tools node it can end it can call",
    "start": "480319",
    "end": "482759"
  },
  {
    "text": "the prepare purchase details node and",
    "start": "482759",
    "end": "484599"
  },
  {
    "text": "finally it can call the execute purchase",
    "start": "484599",
    "end": "486159"
  },
  {
    "text": "node so if we inspect the should",
    "start": "486159",
    "end": "488360"
  },
  {
    "text": "continue function we see it also takes",
    "start": "488360",
    "end": "490039"
  },
  {
    "text": "in a state argument the as as the first",
    "start": "490039",
    "end": "492879"
  },
  {
    "text": "argument um and the type of it is the",
    "start": "492879",
    "end": "494840"
  },
  {
    "text": "graph annotation we defined and then we",
    "start": "494840",
    "end": "496759"
  },
  {
    "text": "extract the messages requested stock",
    "start": "496759",
    "end": "498840"
  },
  {
    "text": "purchase details fielded from the state",
    "start": "498840",
    "end": "500919"
  },
  {
    "text": "and we make sure that the last message",
    "start": "500919",
    "end": "503879"
  },
  {
    "text": "is either an AI message or um if it's",
    "start": "503879",
    "end": "506800"
  },
  {
    "text": "not an AI message we return and if it is",
    "start": "506800",
    "end": "508599"
  },
  {
    "text": "an AI message but is not have tool calls",
    "start": "508599",
    "end": "510319"
  },
  {
    "text": "we also return uh so we return this",
    "start": "510319",
    "end": "512279"
  },
  {
    "text": "special end variable here and that will",
    "start": "512279",
    "end": "514159"
  },
  {
    "text": "essentially map our agent to the end so",
    "start": "514159",
    "end": "516159"
  },
  {
    "text": "if there were no tool calls called or if",
    "start": "516159",
    "end": "517959"
  },
  {
    "text": "it was say a human message somehow made",
    "start": "517959",
    "end": "519719"
  },
  {
    "text": "it to the last message in the list then",
    "start": "519719",
    "end": "522240"
  },
  {
    "text": "just return because there's no more",
    "start": "522240",
    "end": "523440"
  },
  {
    "text": "actions for the agent to take next if",
    "start": "523440",
    "end": "526320"
  },
  {
    "start": "524000",
    "end": "574000"
  },
  {
    "text": "you have populated the request stock",
    "start": "526320",
    "end": "528240"
  },
  {
    "text": "purchase details field then we want to",
    "start": "528240",
    "end": "529800"
  },
  {
    "text": "map to the execute purchase node um",
    "start": "529800",
    "end": "532200"
  },
  {
    "text": "that's because if this field is",
    "start": "532200",
    "end": "533240"
  },
  {
    "text": "populated that means that there is a",
    "start": "533240",
    "end": "534800"
  },
  {
    "text": "stock purchase which the user uh is",
    "start": "534800",
    "end": "536839"
  },
  {
    "text": "trying to put through so we want to map",
    "start": "536839",
    "end": "538839"
  },
  {
    "text": "it to this noes so that I can execute",
    "start": "538839",
    "end": "540160"
  },
  {
    "text": "the purchase or it will be interrupted",
    "start": "540160",
    "end": "541760"
  },
  {
    "text": "if you've not set um purchase confirm to",
    "start": "541760",
    "end": "544200"
  },
  {
    "text": "true then we extract the tool calls from",
    "start": "544200",
    "end": "546839"
  },
  {
    "text": "the message and throw an error if none",
    "start": "546839",
    "end": "548279"
  },
  {
    "text": "exist and then finally we iterate over",
    "start": "548279",
    "end": "550120"
  },
  {
    "text": "all the tool calls and we say if the",
    "start": "550120",
    "end": "551720"
  },
  {
    "text": "tool name is purchase stock so if they",
    "start": "551720",
    "end": "554000"
  },
  {
    "text": "called this purchase stock tool then we",
    "start": "554000",
    "end": "556160"
  },
  {
    "text": "want to route to the prepare purchase",
    "start": "556160",
    "end": "557600"
  },
  {
    "text": "details node and if it's not route to",
    "start": "557600",
    "end": "559480"
  },
  {
    "text": "the tools node um which has access to",
    "start": "559480",
    "end": "561600"
  },
  {
    "text": "all the different tools we defined and",
    "start": "561600",
    "end": "563200"
  },
  {
    "text": "it can invoke the functions on those",
    "start": "563200",
    "end": "564440"
  },
  {
    "text": "tools we want to route to a special node",
    "start": "564440",
    "end": "567000"
  },
  {
    "text": "for the prepare purchase details um",
    "start": "567000",
    "end": "569839"
  },
  {
    "text": "function because this contains some",
    "start": "569839",
    "end": "571440"
  },
  {
    "text": "extra logic that doesn't live inside of",
    "start": "571440",
    "end": "573040"
  },
  {
    "text": "our tool so we've seen the call model",
    "start": "573040",
    "end": "575560"
  },
  {
    "start": "574000",
    "end": "887000"
  },
  {
    "text": "node we've seen the tool node and we've",
    "start": "575560",
    "end": "577440"
  },
  {
    "text": "seen our conditional Edge for the agent",
    "start": "577440",
    "end": "580079"
  },
  {
    "text": "next we can inspect the prepare purchase",
    "start": "580079",
    "end": "581680"
  },
  {
    "text": "details node and then finally the excute",
    "start": "581680",
    "end": "583480"
  },
  {
    "text": "purchase details node so for the prepare",
    "start": "583480",
    "end": "585839"
  },
  {
    "text": "purchase details node which is this node",
    "start": "585839",
    "end": "587519"
  },
  {
    "text": "we see right here once again it takes in",
    "start": "587519",
    "end": "589680"
  },
  {
    "text": "the state it extracts the message and if",
    "start": "589680",
    "end": "591920"
  },
  {
    "text": "the last message is not an AI message",
    "start": "591920",
    "end": "593480"
  },
  {
    "text": "throw an error because that's unexpected",
    "start": "593480",
    "end": "595920"
  },
  {
    "text": "next we look for the purchase stock tool",
    "start": "595920",
    "end": "598200"
  },
  {
    "text": "call if it do not exist throw an error",
    "start": "598200",
    "end": "600360"
  },
  {
    "text": "because once again this should always",
    "start": "600360",
    "end": "601839"
  },
  {
    "text": "exist if this note is being called then",
    "start": "601839",
    "end": "604440"
  },
  {
    "text": "we extract the max purchase price",
    "start": "604440",
    "end": "606320"
  },
  {
    "text": "company name and ticker fields from that",
    "start": "606320",
    "end": "608440"
  },
  {
    "text": "tool call so this tool call is going to",
    "start": "608440",
    "end": "610320"
  },
  {
    "text": "use the context in the message history",
    "start": "610320",
    "end": "613040"
  },
  {
    "text": "um and or if the user just said I want",
    "start": "613040",
    "end": "615519"
  },
  {
    "text": "to buy you know this many shares of this",
    "start": "615519",
    "end": "618160"
  },
  {
    "text": "company for this price um it'll extract",
    "start": "618160",
    "end": "621000"
  },
  {
    "text": "those and then pass them to the tool",
    "start": "621000",
    "end": "622839"
  },
  {
    "text": "where we're get given structured output",
    "start": "622839",
    "end": "624839"
  },
  {
    "text": "like we see here then if the user does",
    "start": "624839",
    "end": "627360"
  },
  {
    "text": "not define a ticker see we allow for for",
    "start": "627360",
    "end": "629440"
  },
  {
    "text": "a company name and a ticker if they do",
    "start": "629440",
    "end": "631839"
  },
  {
    "text": "not Define a ticker we then check to see",
    "start": "631839",
    "end": "633560"
  },
  {
    "text": "if they Define a company name if they",
    "start": "633560",
    "end": "635120"
  },
  {
    "text": "did not Define a company name then we",
    "start": "635120",
    "end": "636440"
  },
  {
    "text": "want to return early um and as this",
    "start": "636440",
    "end": "638680"
  },
  {
    "text": "comment States right here since the last",
    "start": "638680",
    "end": "640720"
  },
  {
    "text": "call is a tool call we will always need",
    "start": "640720",
    "end": "642560"
  },
  {
    "text": "to have a tool message follow that tool",
    "start": "642560",
    "end": "644920"
  },
  {
    "text": "call and that is because the open AI API",
    "start": "644920",
    "end": "647680"
  },
  {
    "text": "simply does not allow for messages which",
    "start": "647680",
    "end": "649720"
  },
  {
    "text": "are not tool messages to follow AI",
    "start": "649720",
    "end": "651720"
  },
  {
    "text": "messages which called tools so we just",
    "start": "651720",
    "end": "653920"
  },
  {
    "text": "return a tool call or tool message",
    "start": "653920",
    "end": "655720"
  },
  {
    "text": "saying please provide missing",
    "start": "655720",
    "end": "656920"
  },
  {
    "text": "information um and then we provide an AI",
    "start": "656920",
    "end": "659600"
  },
  {
    "text": "message saying please provide either the",
    "start": "659600",
    "end": "661639"
  },
  {
    "text": "company ticker or the company name to",
    "start": "661639",
    "end": "663000"
  },
  {
    "text": "purchase a stock since this is an AI",
    "start": "663000",
    "end": "664959"
  },
  {
    "text": "message uh with a string content and no",
    "start": "664959",
    "end": "667279"
  },
  {
    "text": "tool calls it'll just get routed to the",
    "start": "667279",
    "end": "668720"
  },
  {
    "text": "end and that will you know tell the user",
    "start": "668720",
    "end": "670560"
  },
  {
    "text": "you need to provide either the company",
    "start": "670560",
    "end": "671760"
  },
  {
    "text": "ticker or the company name however if",
    "start": "671760",
    "end": "674360"
  },
  {
    "text": "they did Define a company name then we",
    "start": "674360",
    "end": "676440"
  },
  {
    "text": "can pass it to the find company name",
    "start": "676440",
    "end": "678600"
  },
  {
    "text": "function essentially what this function",
    "start": "678600",
    "end": "680560"
  },
  {
    "text": "does is it takes in the company name it",
    "start": "680560",
    "end": "682279"
  },
  {
    "text": "calls the web search tool which is",
    "start": "682279",
    "end": "683839"
  },
  {
    "text": "powered by T to search the web for the",
    "start": "683839",
    "end": "686320"
  },
  {
    "text": "ticker for this company name and then we",
    "start": "686320",
    "end": "688320"
  },
  {
    "text": "pass the search results of the TV search",
    "start": "688320",
    "end": "690839"
  },
  {
    "text": "results tool to an llm with a simple",
    "start": "690839",
    "end": "693920"
  },
  {
    "text": "structured output um tool bound to it",
    "start": "693920",
    "end": "696680"
  },
  {
    "text": "saying extract the ticker from the",
    "start": "696680",
    "end": "698480"
  },
  {
    "text": "search results and then we return the",
    "start": "698480",
    "end": "699920"
  },
  {
    "text": "ticker next if the user did not Define a",
    "start": "699920",
    "end": "702079"
  },
  {
    "text": "Max purchase price then we're going to",
    "start": "702079",
    "end": "703959"
  },
  {
    "text": "invoke the price snapshot tool passing",
    "start": "703959",
    "end": "706240"
  },
  {
    "text": "in the ticker uh because the per Max",
    "start": "706240",
    "end": "708399"
  },
  {
    "text": "purchase price defaults to the current",
    "start": "708399",
    "end": "709839"
  },
  {
    "text": "price if it's not specified and then we",
    "start": "709839",
    "end": "712000"
  },
  {
    "text": "assign the max purchase price um",
    "start": "712000",
    "end": "714320"
  },
  {
    "text": "variable to the result of the price",
    "start": "714320",
    "end": "716680"
  },
  {
    "text": "snapshot tool call finally we return the",
    "start": "716680",
    "end": "719279"
  },
  {
    "text": "requested stock purchase details object",
    "start": "719279",
    "end": "721639"
  },
  {
    "text": "and that's what our exq purchase uh node",
    "start": "721639",
    "end": "724040"
  },
  {
    "text": "needs in order to execute the purchase",
    "start": "724040",
    "end": "726519"
  },
  {
    "text": "passing in the ticker the quantity uh",
    "start": "726519",
    "end": "728519"
  },
  {
    "text": "defaulting to one and then the max",
    "start": "728519",
    "end": "730320"
  },
  {
    "text": "purchase price next we see we have the",
    "start": "730320",
    "end": "732760"
  },
  {
    "text": "execute purchase node and that's this",
    "start": "732760",
    "end": "734440"
  },
  {
    "text": "one the first thing we do is we extract",
    "start": "734440",
    "end": "736920"
  },
  {
    "text": "the purchase confirmed Boolean field and",
    "start": "736920",
    "end": "738839"
  },
  {
    "text": "the requested stock purchase details",
    "start": "738839",
    "end": "740360"
  },
  {
    "text": "field from the state if you have not",
    "start": "740360",
    "end": "742240"
  },
  {
    "text": "defined your requested stock purchase",
    "start": "742240",
    "end": "744040"
  },
  {
    "text": "details we throw an error this should",
    "start": "744040",
    "end": "745399"
  },
  {
    "text": "never happen because this this node",
    "start": "745399",
    "end": "747120"
  },
  {
    "text": "should only ever be called after the",
    "start": "747120",
    "end": "748440"
  },
  {
    "text": "prepare purchase Det details um but if",
    "start": "748440",
    "end": "750360"
  },
  {
    "text": "somehow it is called we want to throw an",
    "start": "750360",
    "end": "751600"
  },
  {
    "text": "error because you cannot purchase a",
    "start": "751600",
    "end": "753000"
  },
  {
    "text": "stock if you don't know what you're",
    "start": "753000",
    "end": "754440"
  },
  {
    "text": "purchasing then we check for the",
    "start": "754440",
    "end": "756680"
  },
  {
    "text": "purchase confirmed field this is",
    "start": "756680",
    "end": "758399"
  },
  {
    "text": "important because here we're throwing a",
    "start": "758399",
    "end": "759839"
  },
  {
    "text": "special type of error node interrupt",
    "start": "759839",
    "end": "762480"
  },
  {
    "text": "because if you have not specified",
    "start": "762480",
    "end": "763800"
  },
  {
    "text": "purchase confirmed true right if this is",
    "start": "763800",
    "end": "765399"
  },
  {
    "text": "false then we need to interrupt the",
    "start": "765399",
    "end": "767199"
  },
  {
    "text": "graph saying please confirm the purchase",
    "start": "767199",
    "end": "769040"
  },
  {
    "text": "before executing uh in order to allow",
    "start": "769040",
    "end": "771880"
  },
  {
    "text": "the user to set purchase confirmed to",
    "start": "771880",
    "end": "773639"
  },
  {
    "text": "true or false if they don't want to",
    "start": "773639",
    "end": "775040"
  },
  {
    "text": "confirm it this is so we can't just say",
    "start": "775040",
    "end": "777279"
  },
  {
    "text": "the LM buy four shares and then it goes",
    "start": "777279",
    "end": "779320"
  },
  {
    "text": "through and just buys these shares right",
    "start": "779320",
    "end": "780639"
  },
  {
    "text": "away without letting us confirm so if",
    "start": "780639",
    "end": "782560"
  },
  {
    "text": "purchase confirmed is not true we're",
    "start": "782560",
    "end": "783880"
  },
  {
    "text": "going to interrupt the graph with this",
    "start": "783880",
    "end": "785639"
  },
  {
    "text": "special error here which we can throw",
    "start": "785639",
    "end": "786959"
  },
  {
    "text": "inside any node um and that will",
    "start": "786959",
    "end": "789000"
  },
  {
    "text": "interrupt the graph like we saw in the",
    "start": "789000",
    "end": "790160"
  },
  {
    "text": "studio allow us to update the state and",
    "start": "790160",
    "end": "792120"
  },
  {
    "text": "then it can",
    "start": "792120",
    "end": "793079"
  },
  {
    "text": "continue it's important to note that in",
    "start": "793079",
    "end": "795320"
  },
  {
    "text": "the real world in production you're",
    "start": "795320",
    "end": "796760"
  },
  {
    "text": "probably going to want to have some sort",
    "start": "796760",
    "end": "798000"
  },
  {
    "text": "of two-factor authentication here",
    "start": "798000",
    "end": "799360"
  },
  {
    "text": "instead of a simple Boolean field uh",
    "start": "799360",
    "end": "801600"
  },
  {
    "text": "where the user you know adds some",
    "start": "801600",
    "end": "803519"
  },
  {
    "text": "two-factor authen authentication code",
    "start": "803519",
    "end": "805480"
  },
  {
    "text": "and then in your backend you validate",
    "start": "805480",
    "end": "807000"
  },
  {
    "text": "that code to ensure that they actually",
    "start": "807000",
    "end": "808480"
  },
  {
    "text": "are allowed to confirm purchases but in",
    "start": "808480",
    "end": "812000"
  },
  {
    "text": "this case we just have a simple Boolean",
    "start": "812000",
    "end": "813320"
  },
  {
    "text": "field because we're not actually",
    "start": "813320",
    "end": "814839"
  },
  {
    "text": "purchasing stocks so if all this is",
    "start": "814839",
    "end": "816560"
  },
  {
    "text": "defined then we execute the purchase um",
    "start": "816560",
    "end": "818959"
  },
  {
    "text": "in our case it's just returning a new",
    "start": "818959",
    "end": "820440"
  },
  {
    "text": "message um an AI message saying",
    "start": "820440",
    "end": "822880"
  },
  {
    "text": "successfully purchased this many shares",
    "start": "822880",
    "end": "824800"
  },
  {
    "text": "at this price and once again since it's",
    "start": "824800",
    "end": "827320"
  },
  {
    "text": "a text message it will get routed back",
    "start": "827320",
    "end": "829360"
  },
  {
    "text": "to the agent where the agent will say",
    "start": "829360",
    "end": "831279"
  },
  {
    "text": "okay it's an AI message and there are no",
    "start": "831279",
    "end": "832680"
  },
  {
    "text": "tool calls so route to the end and then",
    "start": "832680",
    "end": "834880"
  },
  {
    "text": "that will finish the",
    "start": "834880",
    "end": "836279"
  },
  {
    "text": "graph now let's inspect our L graph .",
    "start": "836279",
    "end": "839440"
  },
  {
    "text": "Json file this is where we Define all",
    "start": "839440",
    "end": "842560"
  },
  {
    "text": "the configuration for running our graph",
    "start": "842560",
    "end": "844480"
  },
  {
    "text": "in the studio and also deploying it to",
    "start": "844480",
    "end": "846519"
  },
  {
    "text": "the cloud which will do in just a second",
    "start": "846519",
    "end": "848000"
  },
  {
    "text": "we can specify things like the node",
    "start": "848000",
    "end": "849320"
  },
  {
    "text": "version we can customize our Docker file",
    "start": "849320",
    "end": "851720"
  },
  {
    "text": "the dependencies in this case I just",
    "start": "851720",
    "end": "853639"
  },
  {
    "text": "said to look inside this directory and",
    "start": "853639",
    "end": "855600"
  },
  {
    "text": "install the dependencies inside this",
    "start": "855600",
    "end": "856959"
  },
  {
    "text": "directory and then our graphs we only",
    "start": "856959",
    "end": "858880"
  },
  {
    "text": "have one graph here stock broker uh but",
    "start": "858880",
    "end": "861600"
  },
  {
    "text": "if you are building a larger application",
    "start": "861600",
    "end": "863600"
  },
  {
    "text": "you can Define as many graphs you would",
    "start": "863600",
    "end": "864839"
  },
  {
    "text": "like and then finally we Define our",
    "start": "864839",
    "end": "867120"
  },
  {
    "text": "environment variable file and this tell",
    "start": "867120",
    "end": "869440"
  },
  {
    "text": "the studio for local development where",
    "start": "869440",
    "end": "871320"
  },
  {
    "text": "to find our secrets so it can actually",
    "start": "871320",
    "end": "873040"
  },
  {
    "text": "invoke our not that require these",
    "start": "873040",
    "end": "875440"
  },
  {
    "text": "specific API Keys okay so now that we've",
    "start": "875440",
    "end": "878759"
  },
  {
    "text": "looked at exactly how our graph works we",
    "start": "878759",
    "end": "881000"
  },
  {
    "text": "can go and deploy it to production and",
    "start": "881000",
    "end": "882519"
  },
  {
    "text": "then hook it up to our front end and run",
    "start": "882519",
    "end": "884839"
  },
  {
    "text": "it and see how it would work with a chat",
    "start": "884839",
    "end": "886880"
  },
  {
    "text": "likee interface so to deploy your graph",
    "start": "886880",
    "end": "889000"
  },
  {
    "start": "887000",
    "end": "1016000"
  },
  {
    "text": "to production you're going to want to go",
    "start": "889000",
    "end": "890360"
  },
  {
    "text": "to Lang Smith and then to the",
    "start": "890360",
    "end": "892320"
  },
  {
    "text": "deployments tab and click new deployment",
    "start": "892320",
    "end": "895759"
  },
  {
    "text": "here you can link your GI up repository",
    "start": "895759",
    "end": "898040"
  },
  {
    "text": "if you've not already linked it",
    "start": "898040",
    "end": "899600"
  },
  {
    "text": "um and once you've done that you can",
    "start": "899600",
    "end": "900680"
  },
  {
    "text": "select a rebook from the drop down in my",
    "start": "900680",
    "end": "902959"
  },
  {
    "text": "case it's going to be Lang graph JS",
    "start": "902959",
    "end": "904959"
  },
  {
    "text": "examples and then you want to give it a",
    "start": "904959",
    "end": "906720"
  },
  {
    "text": "name so we'll use the default name for",
    "start": "906720",
    "end": "908839"
  },
  {
    "text": "now um and then after that you want to",
    "start": "908839",
    "end": "910519"
  },
  {
    "text": "specify the path to the Lang graph API",
    "start": "910519",
    "end": "912480"
  },
  {
    "text": "config file and this is the path or this",
    "start": "912480",
    "end": "914519"
  },
  {
    "text": "is the file that we were just looking at",
    "start": "914519",
    "end": "916120"
  },
  {
    "text": "a moment ago and in our case it's going",
    "start": "916120",
    "end": "918000"
  },
  {
    "text": "to be nested inside of the uh stock",
    "start": "918000",
    "end": "920320"
  },
  {
    "text": "broker SLB backend directory so when",
    "start": "920320",
    "end": "923079"
  },
  {
    "text": "we've updated that path our Cloud",
    "start": "923079",
    "end": "924720"
  },
  {
    "text": "deployment will actually be able to find",
    "start": "924720",
    "end": "926000"
  },
  {
    "text": "the proper Lang graph config uh file and",
    "start": "926000",
    "end": "928480"
  },
  {
    "text": "all the different configurations we've",
    "start": "928480",
    "end": "929639"
  },
  {
    "text": "stated next you can specify a git Branch",
    "start": "929639",
    "end": "932160"
  },
  {
    "text": "if you want to customize that in our",
    "start": "932160",
    "end": "933680"
  },
  {
    "text": "case main is fine and then a deployment",
    "start": "933680",
    "end": "936079"
  },
  {
    "text": "type so if you're going to production",
    "start": "936079",
    "end": "937360"
  },
  {
    "text": "you're obviously going to want to select",
    "start": "937360",
    "end": "938360"
  },
  {
    "text": "production here but for us uh just",
    "start": "938360",
    "end": "940360"
  },
  {
    "text": "development is okay and then your",
    "start": "940360",
    "end": "942199"
  },
  {
    "text": "environment variables uh this is where",
    "start": "942199",
    "end": "943920"
  },
  {
    "text": "you would add your uh financial data",
    "start": "943920",
    "end": "945759"
  },
  {
    "text": "sets API key your T API key and your",
    "start": "945759",
    "end": "948199"
  },
  {
    "text": "open AI API key you do not need to add a",
    "start": "948199",
    "end": "951199"
  },
  {
    "text": "lang Smith API key because lra Cloud",
    "start": "951199",
    "end": "954240"
  },
  {
    "text": "will automatically create a new tracing",
    "start": "954240",
    "end": "956000"
  },
  {
    "text": "project just for this deployment and",
    "start": "956000",
    "end": "958440"
  },
  {
    "text": "then all the different lsmith runs and",
    "start": "958440",
    "end": "960120"
  },
  {
    "text": "events that occur inside this production",
    "start": "960120",
    "end": "961720"
  },
  {
    "text": "deployment will automatically get mapped",
    "start": "961720",
    "end": "963560"
  },
  {
    "text": "to this uh project and the API keys for",
    "start": "963560",
    "end": "966759"
  },
  {
    "text": "this project are in are injected right",
    "start": "966759",
    "end": "968639"
  },
  {
    "text": "to your deployment so there's no need to",
    "start": "968639",
    "end": "970079"
  },
  {
    "text": "specify any sort of L Smith API keys",
    "start": "970079",
    "end": "972199"
  },
  {
    "text": "because we do all that for you when",
    "start": "972199",
    "end": "974160"
  },
  {
    "text": "you're done you hit submit and then when",
    "start": "974160",
    "end": "976079"
  },
  {
    "text": "your deployment is finished you can open",
    "start": "976079",
    "end": "978399"
  },
  {
    "text": "it up like this open up the uh",
    "start": "978399",
    "end": "980600"
  },
  {
    "text": "deployment page right here and you see a",
    "start": "980600",
    "end": "982079"
  },
  {
    "text": "bunch of different things like your",
    "start": "982079",
    "end": "983279"
  },
  {
    "text": "tracing project the repository which",
    "start": "983279",
    "end": "985800"
  },
  {
    "text": "this was loaded in from this is the",
    "start": "985800",
    "end": "987600"
  },
  {
    "text": "production API URL and it's how you'll",
    "start": "987600",
    "end": "989399"
  },
  {
    "text": "actually hit your API um and you can see",
    "start": "989399",
    "end": "991800"
  },
  {
    "text": "things like the different uh runs which",
    "start": "991800",
    "end": "994000"
  },
  {
    "text": "were occurred or which were invoked",
    "start": "994000",
    "end": "996399"
  },
  {
    "text": "using your production endpoint so we can",
    "start": "996399",
    "end": "998199"
  },
  {
    "text": "inspect all of these um just like you",
    "start": "998199",
    "end": "1000519"
  },
  {
    "text": "would if you were say looking at your",
    "start": "1000519",
    "end": "1003079"
  },
  {
    "text": "runs inside your projects from the",
    "start": "1003079",
    "end": "1004560"
  },
  {
    "text": "project page you can also check out the",
    "start": "1004560",
    "end": "1006800"
  },
  {
    "text": "different revisions um a revision is",
    "start": "1006800",
    "end": "1008440"
  },
  {
    "text": "essentially when you make a change to",
    "start": "1008440",
    "end": "1009600"
  },
  {
    "text": "your code you need to trigger a new",
    "start": "1009600",
    "end": "1011440"
  },
  {
    "text": "revision by clicking new revision here",
    "start": "1011440",
    "end": "1013639"
  },
  {
    "text": "um and that will redeploy your app using",
    "start": "1013639",
    "end": "1015360"
  },
  {
    "text": "the new code you can also open it up in",
    "start": "1015360",
    "end": "1018040"
  },
  {
    "start": "1016000",
    "end": "1238000"
  },
  {
    "text": "L graph Studio and this looks pretty",
    "start": "1018040",
    "end": "1019959"
  },
  {
    "text": "much the same as the langra studio",
    "start": "1019959",
    "end": "1021839"
  },
  {
    "text": "you're running locally however this is",
    "start": "1021839",
    "end": "1023480"
  },
  {
    "text": "connected to your production endpoint um",
    "start": "1023480",
    "end": "1025959"
  },
  {
    "text": "and you can interact with it the exact",
    "start": "1025959",
    "end": "1027918"
  },
  {
    "text": "same way you would using the local",
    "start": "1027919",
    "end": "1029120"
  },
  {
    "text": "version uh but of course this is going",
    "start": "1029120",
    "end": "1030480"
  },
  {
    "text": "to hit the production end point so now",
    "start": "1030480",
    "end": "1033160"
  },
  {
    "text": "this is done we can copy our API URL and",
    "start": "1033160",
    "end": "1036640"
  },
  {
    "text": "then navigate back to our GitHub",
    "start": "1036640",
    "end": "1039678"
  },
  {
    "text": "repository go into the front end",
    "start": "1039679",
    "end": "1041798"
  },
  {
    "text": "directory and then you're going to want",
    "start": "1041799",
    "end": "1042798"
  },
  {
    "text": "to copy this environment variable",
    "start": "1042799",
    "end": "1044798"
  },
  {
    "text": "example file um and create a newm file",
    "start": "1044799",
    "end": "1047720"
  },
  {
    "text": "using your actual secrets so Lang graph",
    "start": "1047720",
    "end": "1049679"
  },
  {
    "text": "API key API URL that's going to be the",
    "start": "1049679",
    "end": "1051960"
  },
  {
    "text": "API URL that was Genera your deployment",
    "start": "1051960",
    "end": "1054720"
  },
  {
    "text": "Lan chain API key you do need this um in",
    "start": "1054720",
    "end": "1057679"
  },
  {
    "text": "order to connect to that deployment and",
    "start": "1057679",
    "end": "1059720"
  },
  {
    "text": "then the next public Lan graph graph ID",
    "start": "1059720",
    "end": "1062360"
  },
  {
    "text": "this is going to be the name of the",
    "start": "1062360",
    "end": "1063640"
  },
  {
    "text": "graph that you defined in your lr. Json",
    "start": "1063640",
    "end": "1065799"
  },
  {
    "text": "so in our case it's going to be stock",
    "start": "1065799",
    "end": "1067400"
  },
  {
    "text": "broker once you've defined all those",
    "start": "1067400",
    "end": "1069520"
  },
  {
    "text": "fields you can run yarn Dev um inside of",
    "start": "1069520",
    "end": "1072240"
  },
  {
    "text": "the front end directory and spin up your",
    "start": "1072240",
    "end": "1074679"
  },
  {
    "text": "uh web server so we can do that right",
    "start": "1074679",
    "end": "1076360"
  },
  {
    "text": "now see I I open up my terminal I want",
    "start": "1076360",
    "end": "1078520"
  },
  {
    "text": "to navigate into the front end directory",
    "start": "1078520",
    "end": "1080480"
  },
  {
    "text": "and then I can run yarn Dev it's going",
    "start": "1080480",
    "end": "1082640"
  },
  {
    "text": "to spit up a new deployment or a new web",
    "start": "1082640",
    "end": "1085240"
  },
  {
    "text": "server sorry at locost 3000 I can open",
    "start": "1085240",
    "end": "1088080"
  },
  {
    "text": "that up and then we'll see our UI is",
    "start": "1088080",
    "end": "1089960"
  },
  {
    "text": "loaded uh we pre-loaded in some",
    "start": "1089960",
    "end": "1091799"
  },
  {
    "text": "questions like what are some facts about",
    "start": "1091799",
    "end": "1093320"
  },
  {
    "text": "Google how much revenue did Apple make",
    "start": "1093320",
    "end": "1095320"
  },
  {
    "text": "last year and so on um but we can just",
    "start": "1095320",
    "end": "1097440"
  },
  {
    "text": "submit a question like how much revenue",
    "start": "1097440",
    "end": "1099320"
  },
  {
    "text": "did Apple make last year this is going",
    "start": "1099320",
    "end": "1101320"
  },
  {
    "text": "to call some tools so we see it called",
    "start": "1101320",
    "end": "1103320"
  },
  {
    "text": "the income statements tool passing in",
    "start": "1103320",
    "end": "1105080"
  },
  {
    "text": "the arguments of Apple's ticker um the",
    "start": "1105080",
    "end": "1107720"
  },
  {
    "text": "period of time in which to fetch the",
    "start": "1107720",
    "end": "1109240"
  },
  {
    "text": "income statement and then the limit and",
    "start": "1109240",
    "end": "1110960"
  },
  {
    "text": "then finally it generated a response",
    "start": "1110960",
    "end": "1112600"
  },
  {
    "text": "saying Apple made $383 billion Revenue",
    "start": "1112600",
    "end": "1115320"
  },
  {
    "text": "last year we can also click show result",
    "start": "1115320",
    "end": "1117559"
  },
  {
    "text": "here and this shows us the result of the",
    "start": "1117559",
    "end": "1120000"
  },
  {
    "text": "tool in this case it's the result from",
    "start": "1120000",
    "end": "1121760"
  },
  {
    "text": "the financial data sets API that was uh",
    "start": "1121760",
    "end": "1124480"
  },
  {
    "text": "invoked by our tool and this is how our",
    "start": "1124480",
    "end": "1126559"
  },
  {
    "text": "LM was able to generate that context now",
    "start": "1126559",
    "end": "1128919"
  },
  {
    "text": "if we want to say um purchase some Apple",
    "start": "1128919",
    "end": "1131960"
  },
  {
    "text": "stock we're going to ask it what the",
    "start": "1131960",
    "end": "1133080"
  },
  {
    "text": "current price is and then say purchase",
    "start": "1133080",
    "end": "1135640"
  },
  {
    "text": "and um since our graph will be",
    "start": "1135640",
    "end": "1136840"
  },
  {
    "text": "interrupted we'll see a similar UI to",
    "start": "1136840",
    "end": "1138360"
  },
  {
    "text": "what we saw saw in langra studio",
    "start": "1138360",
    "end": "1139799"
  },
  {
    "text": "allowing us to say confirm or deny so",
    "start": "1139799",
    "end": "1142600"
  },
  {
    "text": "for purchasing I've created a new",
    "start": "1142600",
    "end": "1144159"
  },
  {
    "text": "session here and we can send a message",
    "start": "1144159",
    "end": "1145960"
  },
  {
    "text": "like let's buy four shares of Apple for",
    "start": "1145960",
    "end": "1147640"
  },
  {
    "text": "the current price we'll hit submit and",
    "start": "1147640",
    "end": "1149600"
  },
  {
    "text": "it should call some tools see it call",
    "start": "1149600",
    "end": "1151400"
  },
  {
    "text": "the price snapshot tool um which got the",
    "start": "1151400",
    "end": "1153679"
  },
  {
    "text": "current price of Apple passing in",
    "start": "1153679",
    "end": "1155200"
  },
  {
    "text": "Apple's ticker and then it called the",
    "start": "1155200",
    "end": "1157039"
  },
  {
    "text": "purchase stock Tool uh passing in",
    "start": "1157039",
    "end": "1159080"
  },
  {
    "text": "Apple's ticker the company name the",
    "start": "1159080",
    "end": "1161200"
  },
  {
    "text": "quantity um for and then the max",
    "start": "1161200",
    "end": "1163480"
  },
  {
    "text": "purchase price uh since our graph was",
    "start": "1163480",
    "end": "1165360"
  },
  {
    "text": "interrupted we get this message here",
    "start": "1165360",
    "end": "1166799"
  },
  {
    "text": "saying graph interrupted the next node",
    "start": "1166799",
    "end": "1168960"
  },
  {
    "text": "is the execute purchase node and then",
    "start": "1168960",
    "end": "1170840"
  },
  {
    "text": "also our input is disabled while our",
    "start": "1170840",
    "end": "1172440"
  },
  {
    "text": "graph is interrupted so if we want to",
    "start": "1172440",
    "end": "1174440"
  },
  {
    "text": "confirm we can say confirm purchase and",
    "start": "1174440",
    "end": "1176799"
  },
  {
    "text": "then update State this is going to make",
    "start": "1176799",
    "end": "1178840"
  },
  {
    "text": "an update State API call to our Lang",
    "start": "1178840",
    "end": "1181000"
  },
  {
    "text": "graph production deployment updating the",
    "start": "1181000",
    "end": "1183159"
  },
  {
    "text": "states so that the purchase confirm",
    "start": "1183159",
    "end": "1185159"
  },
  {
    "text": "field is true for this uh thread and",
    "start": "1185159",
    "end": "1188559"
  },
  {
    "text": "then once this is done we going to",
    "start": "1188559",
    "end": "1190360"
  },
  {
    "text": "continue and this is also similar to the",
    "start": "1190360",
    "end": "1191799"
  },
  {
    "text": "ux you saw in the land graph Studio",
    "start": "1191799",
    "end": "1193720"
  },
  {
    "text": "where you would continue and it",
    "start": "1193720",
    "end": "1194760"
  },
  {
    "text": "continues from where it left off in the",
    "start": "1194760",
    "end": "1196480"
  },
  {
    "text": "graph so we see state was updated and",
    "start": "1196480",
    "end": "1198480"
  },
  {
    "text": "when once we continue it should purchase",
    "start": "1198480",
    "end": "1200120"
  },
  {
    "text": "the stock for us so we say continue and",
    "start": "1200120",
    "end": "1202200"
  },
  {
    "text": "then successfully purchase four shares",
    "start": "1202200",
    "end": "1203640"
  },
  {
    "text": "of Apple at $220 a share so this worked",
    "start": "1203640",
    "end": "1207000"
  },
  {
    "text": "exactly as we intended um and obviously",
    "start": "1207000",
    "end": "1209240"
  },
  {
    "text": "in production you're not going to want",
    "start": "1209240",
    "end": "1210320"
  },
  {
    "text": "to have a simple checkbox the user can",
    "start": "1210320",
    "end": "1212000"
  },
  {
    "text": "check it might want to be like I said",
    "start": "1212000",
    "end": "1213720"
  },
  {
    "text": "earlier some sort of two-factor",
    "start": "1213720",
    "end": "1214919"
  },
  {
    "text": "authentication this is how you'd",
    "start": "1214919",
    "end": "1216200"
  },
  {
    "text": "Implement a full stack L graph and",
    "start": "1216200",
    "end": "1218520"
  },
  {
    "text": "nextjs app uh deploy it to L graph cloud",
    "start": "1218520",
    "end": "1221559"
  },
  {
    "text": "in production and then hit your",
    "start": "1221559",
    "end": "1223200"
  },
  {
    "text": "production API uh using a nextjs front",
    "start": "1223200",
    "end": "1225919"
  },
  {
    "text": "end like this we can interact with our",
    "start": "1225919",
    "end": "1227559"
  },
  {
    "text": "production server you using a chat",
    "start": "1227559",
    "end": "1229280"
  },
  {
    "text": "interface um I hope you guys enjoyed",
    "start": "1229280",
    "end": "1231240"
  },
  {
    "text": "this video and know some more about",
    "start": "1231240",
    "end": "1233039"
  },
  {
    "text": "human Loop applications and Lane graph",
    "start": "1233039",
    "end": "1235320"
  },
  {
    "text": "and I'm excited to see what everyone's",
    "start": "1235320",
    "end": "1236520"
  },
  {
    "text": "builds",
    "start": "1236520",
    "end": "1239520"
  }
]