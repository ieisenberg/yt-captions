[
  {
    "text": "hey this is Lance from Lang chain we recently asked 1300 Professionals in the AI industry what they think agents are",
    "start": "799",
    "end": "7240"
  },
  {
    "text": "best suited to solve and the highest rank task was research and summarization as you can see here in this",
    "start": "7240",
    "end": "13559"
  },
  {
    "text": "chart now I've spent a lot of time working on different types of report writing and research agents and today I",
    "start": "13559",
    "end": "20880"
  },
  {
    "text": "want to build one from scratch and show a bunch of lessons I've learned along the",
    "start": "20880",
    "end": "25920"
  },
  {
    "text": "way now before I get into all the code I want to show you the output of the agent just to motivate this so this is me just",
    "start": "25920",
    "end": "33040"
  },
  {
    "text": "simply asking the agent write me a report about different agent Frameworks Lang graph crew AI open swarm LOM Index",
    "start": "33040",
    "end": "40280"
  },
  {
    "text": "workflows this is the report I get out so the agent does all this form you can see it kind of partitions each framework",
    "start": "40280",
    "end": "46840"
  },
  {
    "text": "into its own section gives nicely formatted bullets uh this is all a markdown file by the way provides",
    "start": "46840",
    "end": "52879"
  },
  {
    "text": "sources for me same for crew sources open AI Swarm linic workflows at the end",
    "start": "52879",
    "end": "60039"
  },
  {
    "text": "nice distillation clear table this is all done for me takes less than a minute",
    "start": "60039",
    "end": "66080"
  },
  {
    "text": "and all this web research and Report generation and writing is automated by the agent here are some other report",
    "start": "66080",
    "end": "72600"
  },
  {
    "text": "examples I asked about how did repet recently use lsmith and langra to build their agents and all this research is",
    "start": "72600",
    "end": "79560"
  },
  {
    "text": "done for me it gives kind of a nicely uh broken down overview of what was done",
    "start": "79560",
    "end": "84840"
  },
  {
    "text": "the various sources um details of implementation and again kind of a nice",
    "start": "84840",
    "end": "90360"
  },
  {
    "text": "summary section on key technical takeaways here's another example where I asked for kind of news and recent events",
    "start": "90360",
    "end": "97640"
  },
  {
    "text": "across various AI observability offerings we can see we get again some",
    "start": "97640",
    "end": "102680"
  },
  {
    "text": "nice sources here it goes into Langs Smith Brain Trust recent in news it talks about their series a uh data dog",
    "start": "102680",
    "end": "109960"
  },
  {
    "text": "it talks about uh kind of their their work on AI observability here and arise",
    "start": "109960",
    "end": "115200"
  },
  {
    "text": "Phoenix and some nice kind of summary comments here so you can see the we're going to build here has a few",
    "start": "115200",
    "end": "121640"
  },
  {
    "text": "advantages all I need to do is pass in an input topic it can produce reports of",
    "start": "121640",
    "end": "127520"
  },
  {
    "text": "different types you can see the structure of the reports varies a little bit in terms of the section number in terms of how the conclusion is formatted",
    "start": "127520",
    "end": "134440"
  },
  {
    "text": "whether it uses tables we can all customize this and it's very flexible I can produce reports on many different",
    "start": "134440",
    "end": "140640"
  },
  {
    "text": "types of Topics in many different userdefined formats now let me talk",
    "start": "140640",
    "end": "145720"
  },
  {
    "text": "about one of the motivations for kind of agentic report writing so there's been a lot of emphasis on rag systems which are",
    "start": "145720",
    "end": "151640"
  },
  {
    "text": "extremely useful and actually a lot of times can be kind of core components under the hood for report writing but",
    "start": "151640",
    "end": "158200"
  },
  {
    "text": "the point is with rag you're really just saving time with finding answers okay",
    "start": "158200",
    "end": "164200"
  },
  {
    "text": "now usually answers in service of a bigger goal like a actual decision",
    "start": "164200",
    "end": "169239"
  },
  {
    "text": "you're trying to make it as an organization or as an individual reports kind of get you closer to",
    "start": "169239",
    "end": "175599"
  },
  {
    "text": "decisionmaking by presenting information in a structured wellth thought out way way so the leverage you get from high",
    "start": "175599",
    "end": "182840"
  },
  {
    "text": "quality reports is often times a lot greater than what you get just from a Q&A or rag system rexism only gives you",
    "start": "182840",
    "end": "188879"
  },
  {
    "text": "answers reports kind of present information in such a way that actually can accelerate a",
    "start": "188879",
    "end": "194040"
  },
  {
    "text": "decision now I want to spend just a quick minute or two on kind of the",
    "start": "194040",
    "end": "199640"
  },
  {
    "text": "state-of-the-art how to think about report writing what's been done previously and what do we want to kind of build and",
    "start": "199640",
    "end": "205760"
  },
  {
    "text": "extend so you can think about report writing in three phases one is planning",
    "start": "205760",
    "end": "211680"
  },
  {
    "text": "there's been a lot of interesting Works around report writing that first start with some kind of planning phase in",
    "start": "211680",
    "end": "217760"
  },
  {
    "text": "particular GPD researcher very nice work from the folks at tavali um uses what you might think of",
    "start": "217760",
    "end": "225080"
  },
  {
    "text": "as a plan and solve approach where it looks at the input topic and it basically breaks that topic out into a",
    "start": "225080",
    "end": "231599"
  },
  {
    "text": "set of subtopics which each can be individually researched okay that's kind of idea one now idea two is the storm",
    "start": "231599",
    "end": "239840"
  },
  {
    "text": "paper in particular starts with the topic and builds a skeletal outline of the final report up front which has some",
    "start": "239840",
    "end": "247640"
  },
  {
    "text": "advantage that we'll talk about a bit later but this kind of outline generation up front follows in that case",
    "start": "247640",
    "end": "255560"
  },
  {
    "text": "a Wikipedia style structure because storm is really meant to produce Wikipedia entries so it follows kind of",
    "start": "255560",
    "end": "262320"
  },
  {
    "text": "a prescribed structure but the point is that the outline is actually generated up front so the two big ideas in",
    "start": "262320",
    "end": "268560"
  },
  {
    "text": "planning are one take the input topic from the user fan it out into subtopics that'll indep",
    "start": "268560",
    "end": "274479"
  },
  {
    "text": "independently be researched to kind of flesh out the overall theme that the user wants researched that's idea one",
    "start": "274479",
    "end": "280400"
  },
  {
    "text": "idea two is kind of generating an outline up front of the over research",
    "start": "280400",
    "end": "285440"
  },
  {
    "text": "report now phase two once you have a set of subtopics and or an outline of your",
    "start": "285440",
    "end": "291000"
  },
  {
    "text": "final report then how do you actually conduct the research now there's at least three different strategies that",
    "start": "291000",
    "end": "297199"
  },
  {
    "text": "I've seen for doing the research itself so one is just very simply taking the",
    "start": "297199",
    "end": "304240"
  },
  {
    "text": "subtopics and creating search queries from each subtopic and then performing a query either on a web or ad okay so",
    "start": "304240",
    "end": "312080"
  },
  {
    "text": "that's just kind of parallelized search and retrieval from some Source be it rag be at the web now another idea that",
    "start": "312080",
    "end": "319199"
  },
  {
    "text": "takes it a bit one step further is what we see in the AMA researcher work which basically does retrieval and then kind",
    "start": "319199",
    "end": "325960"
  },
  {
    "text": "of does a grading on the retrieved in this case it's web resources um so kind of looks at the retriev web",
    "start": "325960",
    "end": "332720"
  },
  {
    "text": "pages and determines does this contain information necessary to address the input question if not rewrite the",
    "start": "332720",
    "end": "340080"
  },
  {
    "text": "question try again so it kind of has this iterative search and evaluation",
    "start": "340080",
    "end": "345919"
  },
  {
    "text": "process now the most sophisticated approach that we've seen here is Storm",
    "start": "345919",
    "end": "352520"
  },
  {
    "text": "actually does a multi- turn interview between a like what they call an analyst",
    "start": "352520",
    "end": "358800"
  },
  {
    "text": "persona and an expert which is effectively your search engine could be rag it could be Wikipedia could be some",
    "start": "358800",
    "end": "365560"
  },
  {
    "text": "other search service you're using but the point is you basically have a p an AI Persona asking questions receiving",
    "start": "365560",
    "end": "373360"
  },
  {
    "text": "answers from the search service and continuing to ask questions till they're satisfied so that's kind of the most",
    "start": "373360",
    "end": "378919"
  },
  {
    "text": "ofis the simplest case is just query retrieval like we see GPD researcher",
    "start": "378919",
    "end": "384400"
  },
  {
    "text": "there's also kind of it search so you do a search retrieve evaluate potentially search again and the most of it's cated",
    "start": "384400",
    "end": "391680"
  },
  {
    "text": "is an explicit multi- turn interview between like an analyst and your",
    "start": "391680",
    "end": "397599"
  },
  {
    "text": "sources now finally writing so you've done research using one of these approaches how do you take on the",
    "start": "397599",
    "end": "403560"
  },
  {
    "text": "writing task a few different ideas here one of the more popular is just sequential section writing so write each",
    "start": "403560",
    "end": "410639"
  },
  {
    "text": "section individually storm paralyzes some of the sections but uses kind of an",
    "start": "410639",
    "end": "416319"
  },
  {
    "text": "iterative process where it has the outline generate at the beginning it",
    "start": "416319",
    "end": "421759"
  },
  {
    "text": "will generate sections All In Parallel add them to the outline and",
    "start": "421759",
    "end": "429680"
  },
  {
    "text": "then it'll do kind of a refinement to fill in for example introduction and conclusion now another process worth",
    "start": "429680",
    "end": "436560"
  },
  {
    "text": "noting here is you can also take all the research you've done and try to write a",
    "start": "436560",
    "end": "442120"
  },
  {
    "text": "port in a single shot basically have all these sources and let LM just write the",
    "start": "442120",
    "end": "447720"
  },
  {
    "text": "entire report all at once so Lum index shows this in some interesting um",
    "start": "447720",
    "end": "453280"
  },
  {
    "text": "examples they've shared recently so that's another way to think about this so one is kind of writing your report",
    "start": "453280",
    "end": "458680"
  },
  {
    "text": "section sequentially and the other is on the other kind of full extreme is kind",
    "start": "458680",
    "end": "464520"
  },
  {
    "text": "of a single shot process of writing your entire report at once now let me very briefly cover what",
    "start": "464520",
    "end": "470680"
  },
  {
    "text": "we're going to do here and I'm going to give some general lessons I've learned from working on a lot of different",
    "start": "470680",
    "end": "476199"
  },
  {
    "text": "report writing agents um over the last few months basically we're going to break up into three phases planning",
    "start": "476199",
    "end": "483599"
  },
  {
    "text": "research writing now here's the first Insight I've kind of learned it's nice to do a",
    "start": "483599",
    "end": "490039"
  },
  {
    "text": "pre-planning phase to lay out the structure of your report ahead of time for a bunch of different",
    "start": "490039",
    "end": "496440"
  },
  {
    "text": "reasons one is it makes it very flexible you can produce many different styles of",
    "start": "496440",
    "end": "503039"
  },
  {
    "text": "reports this way so for example let's say I want a report that always has five",
    "start": "503039",
    "end": "508440"
  },
  {
    "text": "sections an intro and conclusion and I always want a summary table in the",
    "start": "508440",
    "end": "513640"
  },
  {
    "text": "conclusion this particular agent implementation allows you to do that what if I want just a single section",
    "start": "513640",
    "end": "519039"
  },
  {
    "text": "kind of like a short form report no introduction you can also do that so what's really nice is this planning",
    "start": "519039",
    "end": "525040"
  },
  {
    "text": "phase allows you to take both a topic from a user and a description desired report",
    "start": "525040",
    "end": "530160"
  },
  {
    "text": "structure and it'll build the skeleton of the report for you upfront so it makes it very flexible two it allows you",
    "start": "530160",
    "end": "537760"
  },
  {
    "text": "to set up paralyzed research and writing across different report sections you can debug report planning",
    "start": "537760",
    "end": "543839"
  },
  {
    "text": "and isolation so you can kind of look at the plan really before the research is done if you don't like it you can modify",
    "start": "543839",
    "end": "549959"
  },
  {
    "text": "the prompts and it's very useful for debugging as I'll show in a little bit the other cool thing is you can actually",
    "start": "549959",
    "end": "555680"
  },
  {
    "text": "decide what sections of your of your report actually need research up front so let me give you an example let's say",
    "start": "555680",
    "end": "561959"
  },
  {
    "text": "I report that I want an introduction and a conclusion well those sections don't actually need research only the main",
    "start": "561959",
    "end": "568320"
  },
  {
    "text": "body of the report actually needs research and so in this planning phase I can kind of create all the sections of the port and also earmark these need",
    "start": "568320",
    "end": "575680"
  },
  {
    "text": "research these don't so it's a nice way that you can kind of do all your pre-planning up front including and",
    "start": "575680",
    "end": "581680"
  },
  {
    "text": "planning for what sections report AC you research now let's talk about research",
    "start": "581680",
    "end": "587160"
  },
  {
    "text": "itself so what I found actually here is just simple parallelized search and",
    "start": "587160",
    "end": "594519"
  },
  {
    "text": "retrieval is a very nice way to go when I say paralized what do I mean I mean in particular",
    "start": "594519",
    "end": "600279"
  },
  {
    "text": "multiquery generation is really good so basically taking an input question for a given section Fanning that out into a",
    "start": "600279",
    "end": "607519"
  },
  {
    "text": "bunch of sub questions to help flesh out the theme of that section that's a good thing because I can all be paralyzed",
    "start": "607519",
    "end": "613120"
  },
  {
    "text": "it's very easy to kind of have an llm call produce a set of subqueries search for all those in parallel get all those",
    "start": "613120",
    "end": "619200"
  },
  {
    "text": "sources back all in parallel and then do the section writing in parallel which I'll talk about in a little",
    "start": "619200",
    "end": "625680"
  },
  {
    "text": "bit I've done quite a bit of work on more sophisticated style of kind of",
    "start": "625680",
    "end": "630839"
  },
  {
    "text": "question answer uh the stormw work for example shows a very interesting example",
    "start": "630839",
    "end": "636440"
  },
  {
    "text": "of kind of again like iterative question answer ask another question produce another answer T style of kind of",
    "start": "636440",
    "end": "644959"
  },
  {
    "text": "research basically I found these approaches are really token costly and and really can blow up",
    "start": "644959",
    "end": "651120"
  },
  {
    "text": "latency so I kind of like to keep it as simple as possible fan out your search",
    "start": "651120",
    "end": "657160"
  },
  {
    "text": "queries do parallelized query uh generation paralyze query retrieval and",
    "start": "657160",
    "end": "664000"
  },
  {
    "text": "then use all those sources for your writing now let's talk about writing a little bit the lesson I've kind of",
    "start": "664000",
    "end": "670200"
  },
  {
    "text": "learned here is it is often better to write each section individually that's because you can get",
    "start": "670200",
    "end": "677040"
  },
  {
    "text": "much better section quality if you make an LM right the entire report in one shot I've seen that quality can really",
    "start": "677040",
    "end": "683320"
  },
  {
    "text": "degrade so I do like writing sections individually but to save latency I like",
    "start": "683320",
    "end": "689839"
  },
  {
    "text": "parallelizing all sections that can be parallelized so really all the sections",
    "start": "689839",
    "end": "695399"
  },
  {
    "text": "that kind of have their own independent research I paralyze writing of them you",
    "start": "695399",
    "end": "700760"
  },
  {
    "text": "can kind of see this in the diagram down here so basically this is the a toy report structures intro conclusion two",
    "start": "700760",
    "end": "708240"
  },
  {
    "text": "sections those sections get researched in parallel they get written in parallel",
    "start": "708240",
    "end": "713399"
  },
  {
    "text": "because they're kind of Standalone right they have their own topics they have their own research now what I've also",
    "start": "713399",
    "end": "718920"
  },
  {
    "text": "found though is you should have a sequential Final Phase of writing on any",
    "start": "718920",
    "end": "725480"
  },
  {
    "text": "sections that don't require research for example intro and conclusion because this can utilize everything you've",
    "start": "725480",
    "end": "731480"
  },
  {
    "text": "already written to tie together the themes really nicely so that's another little trick I found in writing write",
    "start": "731480",
    "end": "737440"
  },
  {
    "text": "sections individually but then do it sequentially such that your kind of main body sections that require research are",
    "start": "737440",
    "end": "743360"
  },
  {
    "text": "all written first in parallel and then you write any final sections in parallel as well for example int C conclusion",
    "start": "743360",
    "end": "750279"
  },
  {
    "text": "that distill everything you've learned from your research that's kind of what I found works really",
    "start": "750279",
    "end": "756800"
  },
  {
    "text": "nicely now let's build this from scratch I'm in an empty notebook here here's the outline of what we're going to",
    "start": "757880",
    "end": "764279"
  },
  {
    "text": "do and now let's start with the planning so this planning phase is going",
    "start": "764279",
    "end": "769440"
  },
  {
    "text": "to have two inputs it's going to have a topic and a general outline from the",
    "start": "769440",
    "end": "774600"
  },
  {
    "text": "user and it's going to Output a set of report sections",
    "start": "774600",
    "end": "779639"
  },
  {
    "text": "that adheres to the topic and the outline that the user provides now step",
    "start": "779639",
    "end": "785440"
  },
  {
    "text": "one first I'm going to define a general data model for a section of the report",
    "start": "785440",
    "end": "792079"
  },
  {
    "text": "that's all this is this is so it's pantic model it's called section it has a name the name for the section",
    "start": "792079",
    "end": "798519"
  },
  {
    "text": "description an overview of the main topics covered in the section whether or not the section needs research you'll",
    "start": "798519",
    "end": "804160"
  },
  {
    "text": "see why it's interesting later and this is the content of the section which we're going to fill out later and this",
    "start": "804160",
    "end": "809240"
  },
  {
    "text": "is just a list of sections now why do we do this we Define a data model because this can be passed",
    "start": "809240",
    "end": "816600"
  },
  {
    "text": "to an llm and the LM can know to produce output that adheres to this model that's",
    "start": "816600",
    "end": "823880"
  },
  {
    "text": "why this is really cool now I've just added another data model for search queries which we going to be using",
    "start": "823880",
    "end": "829880"
  },
  {
    "text": "throughout this entire process and I've added a type dict which is basically a",
    "start": "829880",
    "end": "835680"
  },
  {
    "text": "class for overall report state now what's this all about we're going to be",
    "start": "835680",
    "end": "841000"
  },
  {
    "text": "using langra to build this agent langra uses a state to internally manage",
    "start": "841000",
    "end": "847399"
  },
  {
    "text": "everything we want to track over the lifetime of the agent we don't have to worry about this all for now I'm just",
    "start": "847399",
    "end": "852759"
  },
  {
    "text": "I'm just setting it up so we have it now here's where we're going to get into some of the heavy lifting and",
    "start": "852759",
    "end": "858079"
  },
  {
    "text": "interesting aspects of this so for this planning we're going to use two different LM calls which require two",
    "start": "858079",
    "end": "864839"
  },
  {
    "text": "different prompts now the first is a little bit subtle and I want to explain it cuz I",
    "start": "864839",
    "end": "870680"
  },
  {
    "text": "kind of came at this through a bunch of trial and error over the you know last weeks and months basically in report planning it",
    "start": "870680",
    "end": "878320"
  },
  {
    "text": "is beneficial to have a little bit of external information in the form of web",
    "start": "878320",
    "end": "883360"
  },
  {
    "text": "search to help with planning the report so this first uh prompt just explains",
    "start": "883360",
    "end": "892000"
  },
  {
    "text": "that your technical writer helping to write to plan a report here's the topic from the user here's the general report",
    "start": "892000",
    "end": "898759"
  },
  {
    "text": "structure structure again from the user generate some number of queries to help gather information for planning the",
    "start": "898759",
    "end": "905199"
  },
  {
    "text": "report sections now the second point is this is really the overall report planner",
    "start": "905199",
    "end": "910680"
  },
  {
    "text": "instructions so this is you're a writer helping a plan a report your goal is to generate an outline of the report you're",
    "start": "910680",
    "end": "917759"
  },
  {
    "text": "going to generate a set of sections here's a topic here's organization here is any information gathered from web",
    "start": "917759",
    "end": "924440"
  },
  {
    "text": "search related to this topic so now we can see we're going to set a function here gener report plan it",
    "start": "924440",
    "end": "931880"
  },
  {
    "text": "takes in the state which we defined previously we extract some keys from the state",
    "start": "931880",
    "end": "938199"
  },
  {
    "text": "okay now we go ahead and first generate some",
    "start": "938199",
    "end": "944240"
  },
  {
    "text": "queries to help us plan the",
    "start": "944240",
    "end": "949600"
  },
  {
    "text": "report we perform web search we do duplicate and format the the sources uh",
    "start": "949600",
    "end": "955519"
  },
  {
    "text": "results from web search and then then we format the report planner instructions with our",
    "start": "955519",
    "end": "961880"
  },
  {
    "text": "topic the report structure from the user and everything we got from web",
    "start": "961880",
    "end": "968040"
  },
  {
    "text": "search then we generate the section of report I'm using Claud here we return that to our state as the report",
    "start": "968040",
    "end": "975800"
  },
  {
    "text": "sections I can try out this planning phase and isolation let's give it a shot",
    "start": "975800",
    "end": "981759"
  },
  {
    "text": "so let's say here's a structure I can pass in a pretty detailed structure that I want I want a report focus on",
    "start": "981759",
    "end": "988240"
  },
  {
    "text": "comparative analysis is it include an intro I want uh main body sections each",
    "start": "988240",
    "end": "993920"
  },
  {
    "text": "dedicated to an offering being compared um I can give a whole bunch of preferences here I want a conclusion",
    "start": "993920",
    "end": "1000319"
  },
  {
    "text": "with a comparison table and here's the input topic give an overview the capabilities of different AI agent",
    "start": "1000319",
    "end": "1005959"
  },
  {
    "text": "Frameworks focus on Lang graph crew open swarm mom index workflows now we're going to go ahead",
    "start": "1005959",
    "end": "1012000"
  },
  {
    "text": "and run now you'll see I'm actually using the Tav search API which is pretty nice for a few",
    "start": "1012000",
    "end": "1018480"
  },
  {
    "text": "different reason reasons one is that it automatically retrieves the raw sources for you so you don't have to independently scrape Pages um it's free",
    "start": "1018480",
    "end": "1026438"
  },
  {
    "text": "up to a pretty high usage limit um and the apad just works really well so I've used it for a bunch of different things",
    "start": "1026439",
    "end": "1032319"
  },
  {
    "text": "I find it to be quite nice now what's cool is it actually has uh General search and also news search which is",
    "start": "1032319",
    "end": "1038760"
  },
  {
    "text": "geared to current events which is can be quite useful for certain types of reports uh I'm defaulting to General",
    "start": "1038760",
    "end": "1045120"
  },
  {
    "text": "search and this parameter days is not relevant for General search search only for news now given this topic and this",
    "start": "1045120",
    "end": "1053600"
  },
  {
    "text": "structure let's just test that function so here we go now we can see",
    "start": "1053600",
    "end": "1059360"
  },
  {
    "text": "these are the sections of our report it automatically generates them for us in introduction no research needed",
    "start": "1059360",
    "end": "1065840"
  },
  {
    "text": "description overview cool one section on land graph one on crew AI one on Swarm",
    "start": "1065840",
    "end": "1072240"
  },
  {
    "text": "one on llama workflows conclusion comparison table very nice this is all Auto",
    "start": "1072240",
    "end": "1078880"
  },
  {
    "text": "generated and it's Guided by this outline we provide you can do anything",
    "start": "1078880",
    "end": "1085280"
  },
  {
    "text": "you want here for the outline it'll automatically kind of and dynamically change the report formatting for your",
    "start": "1085280",
    "end": "1092039"
  },
  {
    "text": "guidelines so you'll see here in this outline we've laid out 1 2 3 four of the",
    "start": "1092039",
    "end": "1098000"
  },
  {
    "text": "sections require research so now we have to build that out how would actually perform web research and write those",
    "start": "1098000",
    "end": "1104559"
  },
  {
    "text": "sections let's do that now now I'm going to create a new state called section",
    "start": "1104559",
    "end": "1111520"
  },
  {
    "text": "State you're going to see this is something very useful that we're going to do in Lang graph I'm going to set up",
    "start": "1111520",
    "end": "1118840"
  },
  {
    "text": "each section to be its own independent state and",
    "start": "1118840",
    "end": "1124320"
  },
  {
    "text": "subgraph such that the research and writing of each section can all be done",
    "start": "1124320",
    "end": "1131200"
  },
  {
    "text": "by what you might call like a sub agent All In Parallel I'll show you exactly",
    "start": "1131200",
    "end": "1136640"
  },
  {
    "text": "how to do that right now so here's the code that I'm going to use to write each section of the report and conduct",
    "start": "1136640",
    "end": "1143159"
  },
  {
    "text": "research for each section of the report let's go ahead and just look at it quickly so you can see right here I can",
    "start": "1143159",
    "end": "1149960"
  },
  {
    "text": "compile and show the graph I'm going to use to do this so what's going to happen",
    "start": "1149960",
    "end": "1155159"
  },
  {
    "text": "is for each section I'm going to generate some search queries about the topic of that section I'll search the",
    "start": "1155159",
    "end": "1162760"
  },
  {
    "text": "web and from the sources I gather I'm going to go ahead and write that section okay so that's a scope of work we're",
    "start": "1162760",
    "end": "1168200"
  },
  {
    "text": "going to do here now what's kind of nice is that in these section objects we can see that we",
    "start": "1168200",
    "end": "1174960"
  },
  {
    "text": "get a description of what the section supposed to be about right so we can use",
    "start": "1174960",
    "end": "1180360"
  },
  {
    "text": "this information when we a generate some search queries to populate the information of that section and then B",
    "start": "1180360",
    "end": "1187440"
  },
  {
    "text": "do the final writing of that section so this outline you can see is very important it kind of sets the entire",
    "start": "1187440",
    "end": "1193400"
  },
  {
    "text": "scope of work Downstream for us now let's look at the prompts we use here so",
    "start": "1193400",
    "end": "1199080"
  },
  {
    "text": "first I'm going to have this query writer prompt now here the goal is to generate some search queries that'll",
    "start": "1199080",
    "end": "1205159"
  },
  {
    "text": "Gather Comprehensive information needed to write report section um here's a section topic which",
    "start": "1205159",
    "end": "1211919"
  },
  {
    "text": "we get from the section description now this is all very",
    "start": "1211919",
    "end": "1217240"
  },
  {
    "text": "customizable these are some things I found to be useful U generating some number of queries Ure they cover",
    "start": "1217240",
    "end": "1222520"
  },
  {
    "text": "different aspects you know you want them to be kind of unique and not redundant right that's the main idea here now",
    "start": "1222520",
    "end": "1228919"
  },
  {
    "text": "section writing this is where you can also be extremely um you know uh",
    "start": "1228919",
    "end": "1234400"
  },
  {
    "text": "customized in your uh instruction this is kind of the way I'd like to set it up",
    "start": "1234400",
    "end": "1240280"
  },
  {
    "text": "so you're an expert writer here's a section topic I give it a bunch of writing guidelines uh technical accuracy",
    "start": "1240280",
    "end": "1248000"
  },
  {
    "text": "length and style uh a bunch of points on structure now look here's really what I",
    "start": "1248000",
    "end": "1254960"
  },
  {
    "text": "did I went back and forth with Claud a lot to write the these prompts so really",
    "start": "1254960",
    "end": "1260200"
  },
  {
    "text": "I use Claud to help tune these prompts from a lot of iteration basically",
    "start": "1260200",
    "end": "1265960"
  },
  {
    "text": "writing a section feeding the section back to Claud saying hey I like this I don't like this having CLA update the prompt and so forth so basically this is",
    "start": "1265960",
    "end": "1273400"
  },
  {
    "text": "a very kind of personal process and really allows for uh a lot of prompt",
    "start": "1273400",
    "end": "1281960"
  },
  {
    "text": "engineering and optimization this is just what I arrived on but don't limit",
    "start": "1281960",
    "end": "1287400"
  },
  {
    "text": "yourself to this you can modify this in any way you want is the point the real big Ideas here is I'm going to Plum in",
    "start": "1287400",
    "end": "1293640"
  },
  {
    "text": "the context that I got from web search um I'm going to give it here's a section topic and I give it a bunch of",
    "start": "1293640",
    "end": "1299480"
  },
  {
    "text": "guidelines that I want for the style of the section that's really it so the only",
    "start": "1299480",
    "end": "1304960"
  },
  {
    "text": "functions I need in my graph we kind of saw them below when we compiled the graph basically generate queries so",
    "start": "1304960",
    "end": "1310000"
  },
  {
    "text": "again like you know I have some number of search queries I want to actually generate those are that sort State here's information about the section um",
    "start": "1310000",
    "end": "1317440"
  },
  {
    "text": "I pass some of that into the prompt I get the queries I write those back out easy enough then I have this search web",
    "start": "1317440",
    "end": "1325200"
  },
  {
    "text": "um where basically um in this particular case I call uh the TBL API again note",
    "start": "1325200",
    "end": "1331400"
  },
  {
    "text": "that I'm using async so basically that's going to do all these web searches in parallel for me which is just",
    "start": "1331400",
    "end": "1336480"
  },
  {
    "text": "faster and then the section writing it's really all there is to it this is the source information I got from web search",
    "start": "1336480",
    "end": "1343279"
  },
  {
    "text": "it was written to state right here I just get that from State I get the section from State um go ahead and",
    "start": "1343279",
    "end": "1349120"
  },
  {
    "text": "format The Prompt uh go ahead and kick it off and again I'm using claw 35 for my writing now this is again as a",
    "start": "1349120",
    "end": "1354960"
  },
  {
    "text": "preference you can try different models I found claw 35 be very very strong at writing and that's why I kind of prefer",
    "start": "1354960",
    "end": "1360120"
  },
  {
    "text": "using it for this style of longer form report writing um and there I get my",
    "start": "1360120",
    "end": "1365880"
  },
  {
    "text": "section now what's also nice about this is I can test section writing in isolation so let's test on one of the",
    "start": "1365880",
    "end": "1371640"
  },
  {
    "text": "sections that we defined previously so let's go ahead and actually just look at",
    "start": "1371640",
    "end": "1376840"
  },
  {
    "text": "what section we want to work okay so let's write a section on Lang graph the description is detailed examination of",
    "start": "1376840",
    "end": "1382000"
  },
  {
    "text": "Lang graph core features architecture implementation and so forth right cool so here's a report section we can see",
    "start": "1382000",
    "end": "1388760"
  },
  {
    "text": "these are all things that we kind of asked for I wanted um kind of a bold",
    "start": "1388760",
    "end": "1394279"
  },
  {
    "text": "sentence to start I added that to my instructions um you know really what's going on here Lang graph enables",
    "start": "1394279",
    "end": "1400360"
  },
  {
    "text": "creation of stateful multi applications with LMS as graphs yeah that's you know",
    "start": "1400360",
    "end": "1406000"
  },
  {
    "text": "about right um it's open source yes um yes enable Cycles cool nice now",
    "start": "1406000",
    "end": "1415559"
  },
  {
    "text": "another thing I I I ask for is the sections to have at least one structural",
    "start": "1415559",
    "end": "1422400"
  },
  {
    "text": "element um in this particular case like a list just to kind of break it up a little bit so it includes that which is pretty nice persistence complex",
    "start": "1422400",
    "end": "1429440"
  },
  {
    "text": "workflows integration with Langs Smith ver durability pretty nice cool example",
    "start": "1429440",
    "end": "1434720"
  },
  {
    "text": "gbd newspaper project um that's actually mentioned in one of the sources so right",
    "start": "1434720",
    "end": "1440360"
  },
  {
    "text": "here pretty neat and kind of how it differs from other Frameworks so and again a couple sources so look not bad",
    "start": "1440360",
    "end": "1448520"
  },
  {
    "text": "you can customize this in any way you want with the prompts above um but",
    "start": "1448520",
    "end": "1453600"
  },
  {
    "text": "pretty nice it gets us nicely formatted sources a nice overview of what L graph is and kind of formatting that we asked",
    "start": "1453600",
    "end": "1460880"
  },
  {
    "text": "for so that's pretty cool so now we have nearly everything we need we can do planning we can generate",
    "start": "1460880",
    "end": "1469200"
  },
  {
    "text": "individual sections of a report and do research now the final things we want to",
    "start": "1469200",
    "end": "1474520"
  },
  {
    "text": "do are we want to parallelize that uh research and writing for all sections",
    "start": "1474520",
    "end": "1480640"
  },
  {
    "text": "that need it and then we want to do any final kind of writing of sections that",
    "start": "1480640",
    "end": "1486399"
  },
  {
    "text": "didn't actually require research but are like introductory or concluding so for that let me just",
    "start": "1486399",
    "end": "1492799"
  },
  {
    "text": "compile it so we can look at it this is what it's going to look like in the end so we're going to take what we just did",
    "start": "1492799",
    "end": "1499520"
  },
  {
    "text": "generate queries search web write section this is now a",
    "start": "1499520",
    "end": "1505840"
  },
  {
    "text": "subgraph as Zone State as we saw section State and what we're going to do is",
    "start": "1505840",
    "end": "1511640"
  },
  {
    "text": "we're going to use a very nice trick in land graph called the send API to basically",
    "start": "1511640",
    "end": "1516919"
  },
  {
    "text": "parallelize writing and research for all sections of the port in parallel so the send API we use in this",
    "start": "1516919",
    "end": "1524480"
  },
  {
    "text": "function right here initiate section writing so let's look at what's going on on here the sections are created in our",
    "start": "1524480",
    "end": "1534159"
  },
  {
    "text": "planning phase which we talked about initially okay all we need to do is",
    "start": "1534159",
    "end": "1539360"
  },
  {
    "text": "iterate through those sections and see this send thing this",
    "start": "1539360",
    "end": "1545799"
  },
  {
    "text": "basically initiates a subgraph that will produce a research",
    "start": "1545799",
    "end": "1553000"
  },
  {
    "text": "and write the section and we can simply pass in whatever inputs are",
    "start": "1553000",
    "end": "1559559"
  },
  {
    "text": "necessary now note that we send these inputs to build section with",
    "start": "1559559",
    "end": "1566039"
  },
  {
    "text": "web research and let's look at that briefly so that is just you can see we",
    "start": "1566039",
    "end": "1571760"
  },
  {
    "text": "use section builder. compile this is basically creating a subgraph so section",
    "start": "1571760",
    "end": "1578320"
  },
  {
    "text": "Builder was defined up here this is where we defined all the logic necessary",
    "start": "1578320",
    "end": "1584919"
  },
  {
    "text": "to just research and write a single section this thing is pulled into our main graph",
    "start": "1584919",
    "end": "1591799"
  },
  {
    "text": "as a subgraph and we kick it off in parallel for each section that needs",
    "start": "1591799",
    "end": "1597200"
  },
  {
    "text": "research that's really all we did now we can see in that section writing phase we",
    "start": "1597200",
    "end": "1602720"
  },
  {
    "text": "kicked us off for every section that requires research so that's great now we",
    "start": "1602720",
    "end": "1607799"
  },
  {
    "text": "also have this write final sections function which is going to write any final sections of the port that are kind",
    "start": "1607799",
    "end": "1613640"
  },
  {
    "text": "of summarizing it could be an introduction it could be concluding but any section that are planner deemed does",
    "start": "1613640",
    "end": "1619320"
  },
  {
    "text": "not require research those are done last now what's kind of cool is we can use",
    "start": "1619320",
    "end": "1624840"
  },
  {
    "text": "the same send API to basically kick off that process right here now what we pass",
    "start": "1624840",
    "end": "1630279"
  },
  {
    "text": "is simply the section we're writing and the",
    "start": "1630279",
    "end": "1638200"
  },
  {
    "text": "result from all the research and writing we've already done so that's the key",
    "start": "1638200",
    "end": "1643640"
  },
  {
    "text": "point we say here's a section to write for example introduction and here's everything we've written already so you",
    "start": "1643640",
    "end": "1648840"
  },
  {
    "text": "can use it to help build this final section now we can see here we're going to use this prompt final section writer",
    "start": "1648840",
    "end": "1656200"
  },
  {
    "text": "instructions that's all defined up here very similar intuition we saw before but in this case you're an expert writer",
    "start": "1656200",
    "end": "1662200"
  },
  {
    "text": "you're synthesizing information for the final sections of report here's a section to write here's the entire",
    "start": "1662200",
    "end": "1668320"
  },
  {
    "text": "report context and for introduction I give some instruction for conclusion summary I give some other instructions",
    "start": "1668320",
    "end": "1674440"
  },
  {
    "text": "again you can tune this any way you want and that's how we get to our overall graph we do the planning which we talked",
    "start": "1674440",
    "end": "1680519"
  },
  {
    "text": "about in detail previously we do research and write each section requires",
    "start": "1680519",
    "end": "1686519"
  },
  {
    "text": "it first and we parallelize that you can see that speeds this up a whole lot because we're basically doing all that",
    "start": "1686519",
    "end": "1692880"
  },
  {
    "text": "research in parallel we get all the completed sections we then in parallel write any",
    "start": "1692880",
    "end": "1699240"
  },
  {
    "text": "final sections introduction or conclusion basically any sections that don't require research and we find then we compile the",
    "start": "1699240",
    "end": "1706200"
  },
  {
    "text": "final report so let's test this all end to end again we pass into topic I'll just show",
    "start": "1706200",
    "end": "1711799"
  },
  {
    "text": "you that again overview of a few agent Frameworks I give a structure that I want there we",
    "start": "1711799",
    "end": "1718360"
  },
  {
    "text": "go cool and we're done we can look at the whole report so again we get kind of a breakdown of Lang graph crew AI you",
    "start": "1718360",
    "end": "1725399"
  },
  {
    "text": "can see it kind of preserves a similar style tries to maintain a structural element but it's not totally enforced",
    "start": "1725399",
    "end": "1730600"
  },
  {
    "text": "some sections don't have one uh again each section has sources um kind of a nice crisp distill",
    "start": "1730600",
    "end": "1738559"
  },
  {
    "text": "at the end here with a table pretty neat you can see this is all done uh pretty",
    "start": "1738559",
    "end": "1743960"
  },
  {
    "text": "quickly and I'll show you the trace to prove it so here's the trace in lsmith we can",
    "start": "1743960",
    "end": "1749440"
  },
  {
    "text": "see it took 43 seconds for all that not too bad it's because of all the",
    "start": "1749440",
    "end": "1754960"
  },
  {
    "text": "parallelization we do now let's go ahead and look and and kind of inspect what we did so what was the process here so",
    "start": "1754960",
    "end": "1761240"
  },
  {
    "text": "first we use anthropic to generate some search queries to help us plan the report then we do web search",
    "start": "1761240",
    "end": "1768960"
  },
  {
    "text": "so it's pretty nice you can see we get a whole bunch of information about the various Frameworks then from all that",
    "start": "1768960",
    "end": "1775000"
  },
  {
    "text": "information from the search results and from what we provided anthropic will write the outlines you can see here's",
    "start": "1775000",
    "end": "1780360"
  },
  {
    "text": "the sections and there's an introduction description Lang graph crew AI swarm",
    "start": "1780360",
    "end": "1787919"
  },
  {
    "text": "workflows conclusion so there we go we have our planning done we've done web",
    "start": "1787919",
    "end": "1793679"
  },
  {
    "text": "search to help kind of make sure our plan is interesting and up to date and and we now have like a very clear scope",
    "start": "1793679",
    "end": "1800600"
  },
  {
    "text": "of work now what's neat here is you can see we kick off four of these build session with web research and these all",
    "start": "1800600",
    "end": "1806760"
  },
  {
    "text": "run in parallel which is pretty nice you can see each of these are 15 to 25 seconds so it takes some time right",
    "start": "1806760",
    "end": "1812720"
  },
  {
    "text": "because you have to do web search you have to write the section of the report and then we can see we paralyze writing the final sections we write the",
    "start": "1812720",
    "end": "1819519"
  },
  {
    "text": "introduction and conclusion um in parallel as well so you can see it's only about 40",
    "start": "1819519",
    "end": "1826320"
  },
  {
    "text": "seconds to get an output that looks like this which collates a lot of really interesting information with sourcing",
    "start": "1826320",
    "end": "1831880"
  },
  {
    "text": "for you from the web into this nicely adjustable form which is entirely",
    "start": "1831880",
    "end": "1838398"
  },
  {
    "text": "customizable now let me show you how I actually use this I'm in the repo right now go to this EnV example copy this to",
    "start": "1841279",
    "end": "1848559"
  },
  {
    "text": "an EV EnV file and fill this out that's step one now step two is I actually can spin",
    "start": "1848559",
    "end": "1856080"
  },
  {
    "text": "up this project in langra studio which is a very nice way to interact with my",
    "start": "1856080",
    "end": "1862960"
  },
  {
    "text": "agent locally or can be deployed for now I'm going I'm going to use just the",
    "start": "1862960",
    "end": "1868679"
  },
  {
    "text": "locally running desktop app so here I'm in studio here's the agent we just showed and we walked in gory detail",
    "start": "1868679",
    "end": "1875240"
  },
  {
    "text": "about how you actually build this now how do you actually use it so what's pretty nice is we saw that the input is",
    "start": "1875240",
    "end": "1881799"
  },
  {
    "text": "both a topic and a structure if you go to the repo go to that report examples",
    "start": "1881799",
    "end": "1887440"
  },
  {
    "text": "directory and I show a few different report styles that I like here's a cool one on kind of",
    "start": "1887440",
    "end": "1894120"
  },
  {
    "text": "business strategy so what I can do is I go back over here to Studio I open",
    "start": "1894120",
    "end": "1899760"
  },
  {
    "text": "assistants and you can see I've created a few different assistants now let's open up one business strategy you can",
    "start": "1899760",
    "end": "1906480"
  },
  {
    "text": "see here I just paste in the report structure I want for this particular",
    "start": "1906480",
    "end": "1911519"
  },
  {
    "text": "kind of writer type so this is really nice because the report structure is",
    "start": "1911519",
    "end": "1916639"
  },
  {
    "text": "just a configurable par of my agent I can create many different report writing",
    "start": "1916639",
    "end": "1922159"
  },
  {
    "text": "assistants that all have different styles different focuses and can write really nicely refined specific reports",
    "start": "1922159",
    "end": "1929279"
  },
  {
    "text": "per my specifications here now this is one I like on business case studies so it's going to build a report type that's",
    "start": "1929279",
    "end": "1935880"
  },
  {
    "text": "focused on business strategy per the specifications I have in that outline now I can give it a topic what do we",
    "start": "1935880",
    "end": "1942159"
  },
  {
    "text": "want to learn about say successful software developer focused marketplaces okay that off we can see",
    "start": "1942159",
    "end": "1948559"
  },
  {
    "text": "we're generating the plan first cool it's going to do a search query about",
    "start": "1948559",
    "end": "1953840"
  },
  {
    "text": "developer marketplaces in general we can see this right here generated the plan",
    "start": "1953840",
    "end": "1958919"
  },
  {
    "text": "and now it's basically researching each section All In Parallel neat you can see there was the web search now it's doing",
    "start": "1958919",
    "end": "1965639"
  },
  {
    "text": "the section writing now it's kind of hard to see but this is actually happening for all of our sections in parallel neat you can kind of get a clue",
    "start": "1965639",
    "end": "1972360"
  },
  {
    "text": "what it's going to talk about you see it looked at it looked up upw work uh stack overflow",
    "start": "1972360",
    "end": "1978679"
  },
  {
    "text": "GitHub cool and here's our final report so here's the report we just created I",
    "start": "1978679",
    "end": "1984799"
  },
  {
    "text": "just brought it over to the repo as a markdown file so we can see it did a deep dive in github's developer",
    "start": "1984799",
    "end": "1990519"
  },
  {
    "text": "ecosystem and what kind of drove success there um some interesting insights bunch",
    "start": "1990519",
    "end": "1995880"
  },
  {
    "text": "of nice sources stack Overflow and upwork as well kind of",
    "start": "1995880",
    "end": "2001480"
  },
  {
    "text": "summary table highlighting an overview of the research so this is showing an example",
    "start": "2001480",
    "end": "2007480"
  },
  {
    "text": "of how can create a customized assistant that writes reports of a particular type",
    "start": "2007480",
    "end": "2012519"
  },
  {
    "text": "in this case focusing on business case studies looking specifically at kind of analogous prior comps to a current kind",
    "start": "2012519",
    "end": "2019000"
  },
  {
    "text": "of business question or scenario but you can create as many assistants as you have general report",
    "start": "2019000",
    "end": "2025120"
  },
  {
    "text": "Styles or types that you want to write so overall this repo provides a kind kind of nice way to do very customized",
    "start": "2025120",
    "end": "2032000"
  },
  {
    "text": "report generation is the result of a lot of trial and error that I've kind of worked on over the last few months um",
    "start": "2032000",
    "end": "2038240"
  },
  {
    "text": "and again it does kind of this planning up front generates report sections paraliz research on all the sections",
    "start": "2038240",
    "end": "2044159"
  },
  {
    "text": "that require it and then a final synthesis writing any final sections like introduction conclusion based on",
    "start": "2044159",
    "end": "2050118"
  },
  {
    "text": "the results of the other sections that you just all researched and wrote in parallel so you can see it's very",
    "start": "2050119",
    "end": "2055398"
  },
  {
    "text": "customizable because you can kind of use user defined kind of outline to create different report kind of structures or",
    "start": "2055399",
    "end": "2061720"
  },
  {
    "text": "Styles um entirely up to you in terms of optimizing and tuning the prompts",
    "start": "2061720",
    "end": "2068480"
  },
  {
    "text": "um all the research is done in parallel so it's pretty quick like 40 seconds to get a really nice kind of like long form",
    "start": "2068480",
    "end": "2074280"
  },
  {
    "text": "report and yeah feel free to play with it leave any comments below and the repo is of course open source so feel free to",
    "start": "2074280",
    "end": "2080079"
  },
  {
    "text": "add any contributions or uh leave any comments thank you",
    "start": "2080079",
    "end": "2085960"
  }
]