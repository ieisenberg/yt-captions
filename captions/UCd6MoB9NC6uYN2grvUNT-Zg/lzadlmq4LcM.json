[
  {
    "start": "0",
    "end": "161000"
  },
  {
    "text": "[Music] hello everyone my name is rob hicarita",
    "start": "190",
    "end": "6480"
  },
  {
    "text": "and i'm a principal technical account manager at aws and i'm based out of austin texas welcome to aws supports you",
    "start": "6480",
    "end": "12880"
  },
  {
    "text": "where aws support experts provide tips to optimize performance in the cloud lower cost and provide you with best",
    "start": "12880",
    "end": "17920"
  },
  {
    "text": "practices and design considerations and joining me today we have mike and sue",
    "start": "17920",
    "end": "23119"
  },
  {
    "text": "from aws enterprise support can you give us a quick introduction quickly mike and then sigmeet",
    "start": "23119",
    "end": "28960"
  },
  {
    "text": "hey i'm mike wells a senior technical account manager from boulder colorado and i enjoy supporting customers",
    "start": "28960",
    "end": "35040"
  },
  {
    "text": "operations and cost optimization efforts in the cloud and today i'm going to dig in on security groups and how to find",
    "start": "35040",
    "end": "41680"
  },
  {
    "text": "out what's using them submeat thanks rob and mike appreciate it um",
    "start": "41680",
    "end": "46800"
  },
  {
    "text": "everyone tuning in i'm sukhmeed mara senior technical account manager based out of the u.s east i come from a",
    "start": "46800",
    "end": "52399"
  },
  {
    "text": "machine learning and ai background and i've been helping our customers to develop highly scalable ml solutions",
    "start": "52399",
    "end": "59120"
  },
  {
    "text": "like computer vision gene processing market forecast etc as a time i get to put my technical",
    "start": "59120",
    "end": "65439"
  },
  {
    "text": "skills and coding skills to use by helping our customers in building managing and deploying solutions on aws",
    "start": "65439",
    "end": "72400"
  },
  {
    "text": "as well as helping customers in their modernization and digitalization journey today i'll be answering questions from",
    "start": "72400",
    "end": "78400"
  },
  {
    "text": "repost regarding compute specifically talking about how to install packages on amazon linux machines rob back to you",
    "start": "78400",
    "end": "86479"
  },
  {
    "text": "great thank you both for the introduction uh and so as they both alluded to we're going to be answering some questions and of course you can",
    "start": "86479",
    "end": "92000"
  },
  {
    "text": "hopefully probably see the answering your repost questions on compute before we get into all the details a quick note",
    "start": "92000",
    "end": "97439"
  },
  {
    "text": "to everyone watching online please feel free to use the chat window on the right-hand side of your screen to let us know where you're joining us from today",
    "start": "97439",
    "end": "103600"
  },
  {
    "text": "and also to ask questions throughout today's episode uh we really do look forward to hearing from you all getting some interaction so please feel free to",
    "start": "103600",
    "end": "110320"
  },
  {
    "text": "take advantage of that chat box over there i'm also going to be dropping a link to a survey so if you'd like to let",
    "start": "110320",
    "end": "115920"
  },
  {
    "text": "us know how we did today please click on the link and leave us your feedback and let us know what else you'd like to see",
    "start": "115920",
    "end": "121680"
  },
  {
    "text": "so these are the three questions that we're going to be answering today on um the show from our aws repo site so mike's",
    "start": "121680",
    "end": "130000"
  },
  {
    "text": "going to tackle tracking what is using your security groups which is a pretty common question for our users to figure",
    "start": "130000",
    "end": "135120"
  },
  {
    "text": "out you know when they want to clean stuff up sydney's going to be covering installing packages on amazon linux 2",
    "start": "135120",
    "end": "140640"
  },
  {
    "text": "instances another common item ask and then i'm going to be following that up last with how to",
    "start": "140640",
    "end": "145840"
  },
  {
    "text": "do a loud list of ip addresses and security group in a few different fashions so um first off though i'm going to kick it",
    "start": "145840",
    "end": "152160"
  },
  {
    "text": "over to mike to get us started answering our first question from repost",
    "start": "152160",
    "end": "157840"
  },
  {
    "start": "161000",
    "end": "536000"
  },
  {
    "text": "hey uh yeah today i'm going to be talking about what's using different security groups inside of your",
    "start": "161200",
    "end": "166239"
  },
  {
    "text": "aws infrastructure and this is a common question because folks want to know whenever they're updating their security",
    "start": "166239",
    "end": "172560"
  },
  {
    "text": "groups how this is going to impact anything so first thing i want to cover is what a security group is and a security group",
    "start": "172560",
    "end": "179840"
  },
  {
    "text": "acts as like a virtual firewall for your ec2 instances to control incoming and outgoing traffic and inbound rules",
    "start": "179840",
    "end": "186640"
  },
  {
    "text": "control the incoming traffic to your instance and outbound rules control the outgoing traffic from your instance and",
    "start": "186640",
    "end": "192080"
  },
  {
    "text": "when you launch an instance you can specify one or many security groups and if you don't specify a security group",
    "start": "192080",
    "end": "197120"
  },
  {
    "text": "amazon ec2 uses the default security group you can add rules to each of those security groups that allow traffic to or",
    "start": "197120",
    "end": "203280"
  },
  {
    "text": "from its associated instances and you can modify the rules for a security group at any time",
    "start": "203280",
    "end": "208480"
  },
  {
    "text": "so what happens is folks set up security groups and then they attach those to different things and then they have",
    "start": "208480",
    "end": "214319"
  },
  {
    "text": "these big pile of security groups that they don't know what goes with what or whenever they change port 80 to be",
    "start": "214319",
    "end": "220080"
  },
  {
    "text": "allowed on this particular security group they don't know if that's going to allow it for",
    "start": "220080",
    "end": "225120"
  },
  {
    "text": "any particular set of instances that they might have so what i'm going to talk about today is how to find what's using those security",
    "start": "225120",
    "end": "231920"
  },
  {
    "text": "groups to see what's using one of your security groups what we need to do first is understand that the security groups are",
    "start": "231920",
    "end": "238400"
  },
  {
    "text": "attached to a network interface and a network interface is just a device",
    "start": "238400",
    "end": "243439"
  },
  {
    "text": "or card or virtual thing that connects an instance or some resource in aws into",
    "start": "243439",
    "end": "249920"
  },
  {
    "text": "the internet um so what we'll do is in the ec2 console",
    "start": "249920",
    "end": "255840"
  },
  {
    "text": "on the left hand side there's a there is a menu and network interfaces is one of",
    "start": "255840",
    "end": "263040"
  },
  {
    "text": "the one of the things that we can select there so what we'll do is copy our security group here and then paste that",
    "start": "263040",
    "end": "269120"
  },
  {
    "text": "into a search for network interfaces and then we can see the list of network interfaces that this is attached to",
    "start": "269120",
    "end": "275600"
  },
  {
    "text": "once we find the network interface that it's attached to we can click on that network interface and then see the",
    "start": "275600",
    "end": "281600"
  },
  {
    "text": "actual instances that are attached to this security group um in this screen there is a instance id on here",
    "start": "281600",
    "end": "290479"
  },
  {
    "text": "to be able to see what instance is using this if you're like me i prefer to do things in the command line it's a lot easier to",
    "start": "290479",
    "end": "298160"
  },
  {
    "text": "be able to programmatically do things and to do things over and over so uh at",
    "start": "298160",
    "end": "303280"
  },
  {
    "text": "aws we have a command called describe network interfaces that allows you to be able to send in a send in",
    "start": "303280",
    "end": "310800"
  },
  {
    "text": "a search string to be able to see what uh what network interfaces are attached",
    "start": "310800",
    "end": "316080"
  },
  {
    "text": "to a certain security group so i'll just run this one real quick",
    "start": "316080",
    "end": "322080"
  },
  {
    "text": "and what i did was put in the security group in this terminal and the region and then",
    "start": "322080",
    "end": "328000"
  },
  {
    "text": "that shows me the interfaces that the security group is attached to this particular one only has one",
    "start": "328000",
    "end": "335120"
  },
  {
    "text": "attachment as you can see here but if it had multiple attachments then it would list each one of these out in the screen",
    "start": "335120",
    "end": "342960"
  },
  {
    "text": "thank you very much um and i see that we have a couple of questions in the chat here uh do you know of a way",
    "start": "342960",
    "end": "350000"
  },
  {
    "text": "we can find out in aws if traffic is being blocked to a certain instance due to security groups blocking it",
    "start": "350000",
    "end": "356800"
  },
  {
    "text": "um and i'm just looking at this now",
    "start": "356800",
    "end": "362879"
  },
  {
    "text": "hey mike yeah so we have a couple questions that came in uh while you were going through uh the",
    "start": "363120",
    "end": "368319"
  },
  {
    "text": "first one actually came in from uh land carl 22 uh it's important thing that we didn't cover initially uh carl said he's",
    "start": "368319",
    "end": "374880"
  },
  {
    "text": "a new attendee here and new to aws offerings uh can you share what repost is and what it's used for",
    "start": "374880",
    "end": "380479"
  },
  {
    "text": "so i do want to cover that really quickly here and then we can get to the second question too as well um",
    "start": "380479",
    "end": "385600"
  },
  {
    "text": "but if you're not familiar with aws reposts it is the new aws forums for going out and being able to ask your",
    "start": "385600",
    "end": "391680"
  },
  {
    "text": "questions and it's got some additional features to it that the aws forms didn't have previously so when you ask a",
    "start": "391680",
    "end": "398319"
  },
  {
    "text": "question we do actually have aws experts like myself and mike um and being able",
    "start": "398319",
    "end": "403919"
  },
  {
    "text": "to go out to those questions and answer them we have some kind of uh process",
    "start": "403919",
    "end": "409759"
  },
  {
    "text": "also as well wrapped around it to notify like i subscribe to the areas that i'm an expert in to be able to answer",
    "start": "409759",
    "end": "415680"
  },
  {
    "text": "questions and also review other people's questions to make sure that they're accurately providing answers and insights to users so if you haven't",
    "start": "415680",
    "end": "422560"
  },
  {
    "text": "visited repost before definitely go take a look at it we've also got some new features where we have community-based",
    "start": "422560",
    "end": "428240"
  },
  {
    "text": "articles as well that are launched there that are helpful for community members that are experts areas",
    "start": "428240",
    "end": "434880"
  },
  {
    "text": "be able to write little community articles as well to share insights and info which you'll probably see each one",
    "start": "434880",
    "end": "440080"
  },
  {
    "text": "of these three questions that we're talking about today shared as community articles later on so if you go check",
    "start": "440080",
    "end": "445360"
  },
  {
    "text": "repost in the future you'll be able to see that so thanks for the question",
    "start": "445360",
    "end": "451360"
  },
  {
    "text": "um second one though mike was the one you mentioned there do you know a way we can find out if aws traffic was being",
    "start": "451360",
    "end": "456639"
  },
  {
    "text": "blocked to a certain instance due to security groups blocking it um the primary thing there and i don't know",
    "start": "456639",
    "end": "462319"
  },
  {
    "text": "mike if you want to answer this as well but i'm happy to take it if you want me to sure i'll i'll add some color after",
    "start": "462319",
    "end": "467919"
  },
  {
    "text": "you interrupt rob okay um you can but only if you had say vpc flow box enabled to go back and look at those",
    "start": "467919",
    "end": "474560"
  },
  {
    "text": "logs um postmortem if you didn't have vbc flow logs you're not going to have a record essentially of what what traffic",
    "start": "474560",
    "end": "481120"
  },
  {
    "text": "was being sent where and blocked by what um so it would be a little hard to tell unless you have vpc flow logs enabled",
    "start": "481120",
    "end": "488160"
  },
  {
    "text": "and if you do then you can go through and look at your vpc flow logs to be able to see um you know essentially in",
    "start": "488160",
    "end": "494080"
  },
  {
    "text": "what line of the metadata about your traffic the block was happening was it",
    "start": "494080",
    "end": "499360"
  },
  {
    "text": "inbound to the security group or coming back out so you could see if it was the knuckle or security group that was you know kind of blocking it might be",
    "start": "499360",
    "end": "505759"
  },
  {
    "text": "anything else to add yeah just flow logs can help you with a number of tasks like diagnosing overly",
    "start": "505759",
    "end": "511840"
  },
  {
    "text": "restrictive security group rules as you mentioned monitoring the traffic that's reaching your instance and and determine",
    "start": "511840",
    "end": "517039"
  },
  {
    "text": "the direction of the traffic to and from the network interfaces yeah thanks a lot for the question",
    "start": "517039",
    "end": "523279"
  },
  {
    "text": "great all right oh um i think we're handing it over to suit me now so",
    "start": "523279",
    "end": "530160"
  },
  {
    "text": "thanks and mike that was a great start um so up next what i'll be covering is a",
    "start": "532480",
    "end": "538560"
  },
  {
    "start": "536000",
    "end": "851000"
  },
  {
    "text": "lot of our customers are and we've been getting a lot of questions on repost",
    "start": "538560",
    "end": "543600"
  },
  {
    "text": "about you know what do i do if my ec2 instance running amazon linux 2 doesn't have",
    "start": "543600",
    "end": "548880"
  },
  {
    "text": "access to the internet meaning what happens if my ec2 instance is behind a private subnet or doesn't have access to",
    "start": "548880",
    "end": "555360"
  },
  {
    "text": "the internet or doesn't have a public ip address to it right this is a common question and it can be easily handled",
    "start": "555360",
    "end": "563040"
  },
  {
    "text": "what i intend to show here is you know a brief description about what needs to be",
    "start": "563040",
    "end": "568480"
  },
  {
    "text": "done and how we get to a resolution to this right most important thing to know here is",
    "start": "568480",
    "end": "573519"
  },
  {
    "text": "amazon linux repositories are hosted in amazon s3 buckets right",
    "start": "573519",
    "end": "579279"
  },
  {
    "text": "to update packages without an internet connection you have to do three things create an s3 amazon vpc gateway endpoint",
    "start": "579279",
    "end": "587440"
  },
  {
    "text": "include a policy that allows access to the repositories buckets and then associate the vpc endpoint with",
    "start": "587440",
    "end": "594240"
  },
  {
    "text": "the routing table of the instant subnet that's really important you can access amazon s3 from your vpc using gateway",
    "start": "594240",
    "end": "601519"
  },
  {
    "text": "vpc endpoints and after you create the gateway endpoint you can add it as a target in",
    "start": "601519",
    "end": "607440"
  },
  {
    "text": "your route table for the traffic you know the steamed from your vpc to amazon s3 right",
    "start": "607440",
    "end": "614800"
  },
  {
    "text": "another question that we get on a similar note is you know how how do i access third party repositories such as",
    "start": "614800",
    "end": "621839"
  },
  {
    "text": "epel epel is extra packages for you know enterprise linux",
    "start": "621839",
    "end": "627040"
  },
  {
    "text": "you need one out of four of the following you need at least a nat gateway an ad instance",
    "start": "627040",
    "end": "633839"
  },
  {
    "text": "internet gateway or a vpn direct connection uh to your data center that routes the yum request which is you know",
    "start": "633839",
    "end": "641120"
  },
  {
    "text": "the package manager the yum request through the public internet so it's really important to know all these points before we you know head to a",
    "start": "641120",
    "end": "647680"
  },
  {
    "text": "resolution a few more important things to know uh the ec2 instance security group must",
    "start": "647680",
    "end": "655120"
  },
  {
    "text": "allow outbound http traffic the s3 vpc endpoint security group must",
    "start": "655120",
    "end": "660720"
  },
  {
    "text": "allow inborn inbound http traffic from the ec2 instances subnet",
    "start": "660720",
    "end": "666160"
  },
  {
    "text": "and then the knuckles associated with the ec2 instance subnet must allow the following meaning you know",
    "start": "666160",
    "end": "672000"
  },
  {
    "text": "there should be uh you know you should allow egress on port 80 and 443 which is https and http",
    "start": "672000",
    "end": "678800"
  },
  {
    "text": "http and https followers and then you know ingress on the f3",
    "start": "678800",
    "end": "683920"
  },
  {
    "text": "model tcp ports from the regional s3 service these are really important points",
    "start": "683920",
    "end": "689920"
  },
  {
    "text": "and then we look at the run book uh everything that i said up top uh you know is is put together in seven or",
    "start": "689920",
    "end": "696640"
  },
  {
    "text": "eight different points or steps that you need to follow all right uh we've looked at the",
    "start": "696640",
    "end": "702720"
  },
  {
    "text": "important steps uh we'll look at how to navigate through the steps that i was",
    "start": "702720",
    "end": "708959"
  },
  {
    "text": "talking before which is setting up the s3 vpc endpoint first off head off to the amazon ec2",
    "start": "708959",
    "end": "716480"
  },
  {
    "text": "console and find out the instances that are",
    "start": "716480",
    "end": "722399"
  },
  {
    "text": "running or the instance that's behind the private subnet go to the networking tab",
    "start": "722399",
    "end": "728079"
  },
  {
    "text": "note down the vpc id and the subnet id",
    "start": "728079",
    "end": "732560"
  },
  {
    "text": "and then we will search vpc console up top in the search",
    "start": "734240",
    "end": "739360"
  },
  {
    "text": "bar the idea is for us to look at the route table",
    "start": "739360",
    "end": "744399"
  },
  {
    "text": "and find the route table id so for that we'll go to the subnet that we just noted",
    "start": "744399",
    "end": "749920"
  },
  {
    "text": "we'll select the subnet go to the route table",
    "start": "749920",
    "end": "756639"
  },
  {
    "text": "and then select the route table id or note down the route table id once you have that you have all the information",
    "start": "756639",
    "end": "762639"
  },
  {
    "text": "that's needed to create the endpoint next up we'll click on the endpoints create endpoint up top",
    "start": "762639",
    "end": "769200"
  },
  {
    "text": "we'll just give a random name to the endpoint in this case i'm doing test s3",
    "start": "769200",
    "end": "774320"
  },
  {
    "text": "update packages",
    "start": "774320",
    "end": "779600"
  },
  {
    "text": "right and then we are looking for a certain service there's three sets of",
    "start": "779600",
    "end": "784800"
  },
  {
    "text": "information that we need here the service that we're creating the endpoint to so that is com.amazon aws.usc1.s3",
    "start": "784800",
    "end": "792600"
  },
  {
    "text": "feel free to change the region meaning where your ec2 instance is hosted",
    "start": "793200",
    "end": "798880"
  },
  {
    "text": "and then select gateway type and then select the vpc id that we noted up top and the route table select full",
    "start": "798880",
    "end": "806079"
  },
  {
    "text": "policy and click on create endpoint voila your vpc endpoint is done",
    "start": "806079",
    "end": "812240"
  },
  {
    "text": "all you have to do back do now is go back to your ec2 instance and then you know update packages or uh you should",
    "start": "812240",
    "end": "818880"
  },
  {
    "text": "now have the ability to update the packages as well as yum so i'll take a pause here to see if we",
    "start": "818880",
    "end": "824480"
  },
  {
    "text": "have any questions here hey sue thanks uh no questions from the",
    "start": "824480",
    "end": "829519"
  },
  {
    "text": "audience about uh patching right now from the linux box or installing and getting access to those um so appreciate",
    "start": "829519",
    "end": "835920"
  },
  {
    "text": "your sharing um some insights and information on this as well for how they can get access to those of repositories from",
    "start": "835920",
    "end": "843440"
  },
  {
    "text": "those private subnets which is a pretty common thing for our end users to be setting up so",
    "start": "843440",
    "end": "848800"
  },
  {
    "text": "i think so yeah great um i will take it over from here",
    "start": "848800",
    "end": "853839"
  },
  {
    "start": "851000",
    "end": "1934000"
  },
  {
    "text": "to answer our third question on how we're going to allow list ip addresses into security group there's a couple different ways that are",
    "start": "853839",
    "end": "860320"
  },
  {
    "text": "you're going to be able to do this so i'm going to cover three of those different methods that we can use um some of them covering from on-premise to",
    "start": "860320",
    "end": "866720"
  },
  {
    "text": "aws some just within aws and then a little bit um on a",
    "start": "866720",
    "end": "872240"
  },
  {
    "text": "common use case for this for a little easier management for you as users so our question that came in from repost",
    "start": "872240",
    "end": "878560"
  },
  {
    "text": "is we're trying to give url access to some specific users as their application is hosted on elastic feed stock and",
    "start": "878560",
    "end": "884399"
  },
  {
    "text": "since the url is public they would like to make it private so in this instance they've decided to use elastic beanstalk",
    "start": "884399",
    "end": "890160"
  },
  {
    "text": "to host their website right but they would like to make sure that only users that are supposed to have access have access to this which is pretty common um",
    "start": "890160",
    "end": "897199"
  },
  {
    "text": "if you don't have access to something like direct connect or a vpn to only expose you know the private ip",
    "start": "897199",
    "end": "904240"
  },
  {
    "text": "addresses to this you may have to you know change your inbound security list for",
    "start": "904240",
    "end": "910320"
  },
  {
    "text": "those security groups to limit this and so we're going to cover is three different ways that you can accomplish",
    "start": "910320",
    "end": "917360"
  },
  {
    "text": "the same thing just depending on where your traffic is coming from and so our first one is going to cover",
    "start": "917360",
    "end": "922959"
  },
  {
    "text": "using the users at an office site and really this is also applicable to those coming from the public internet uh they",
    "start": "922959",
    "end": "928639"
  },
  {
    "text": "just might have their public ip ranges that you're going to a loud list into your security group rather than",
    "start": "928639",
    "end": "934480"
  },
  {
    "text": "these private hype addresses that we're going to be talking about today in this instance we've got our users that are",
    "start": "934480",
    "end": "940079"
  },
  {
    "text": "coming from our 10.10.0.0.24 ip address space at our office site say",
    "start": "940079",
    "end": "946480"
  },
  {
    "text": "one of our offices in a regional location so um",
    "start": "946480",
    "end": "952000"
  },
  {
    "text": "we're going to basically have a vpn that we have connected into our aws environment that's going to give us our",
    "start": "952000",
    "end": "958079"
  },
  {
    "text": "connectivity but if we want to say only specific users on this",
    "start": "958079",
    "end": "963880"
  },
  {
    "text": "10.10.0.0.24 can get access to our elastic bean stock we could still limit that and say only the 10.10.1.0",
    "start": "963880",
    "end": "972560"
  },
  {
    "text": "users would be able to have access or not and we're going to do this simply by adding in this range of ip addresses and",
    "start": "972560",
    "end": "979519"
  },
  {
    "text": "you can do multiple ranges of ip addresses and have you know a long list of ip addresses that are allowed access",
    "start": "979519",
    "end": "986079"
  },
  {
    "text": "to port 80 say to get access or port 443 to get access to your secure website",
    "start": "986079",
    "end": "992160"
  },
  {
    "text": "this is going to be one way that you can allow if you have say just one site that you're going to be allowing or say you",
    "start": "992160",
    "end": "997440"
  },
  {
    "text": "just have one ip address that you're going to allow in pretty simple quick easy way for you to say",
    "start": "997440",
    "end": "1003360"
  },
  {
    "text": "only this ip address is going to have access to my elastic bean stock environment and therefore be able to",
    "start": "1003360",
    "end": "1008560"
  },
  {
    "text": "access my website now if you have uh security groups that you",
    "start": "1008560",
    "end": "1015279"
  },
  {
    "text": "have set up and you've got ec2 instances in aws and you're trying to do the same thing but it's actually users from",
    "start": "1015279",
    "end": "1020880"
  },
  {
    "text": "within your aws environment instead of say allowing the 172 or the",
    "start": "1020880",
    "end": "1026160"
  },
  {
    "text": "10 dot slash 24 or slash 16 whole vpc cider range into your elastic bean stock you",
    "start": "1026160",
    "end": "1033438"
  },
  {
    "text": "could instead just use a security group id from the users that are going to be accessing your elastic green stock",
    "start": "1033439",
    "end": "1039678"
  },
  {
    "text": "environment and that way say if you've got a virtual desktop implementation of users that are accessing your elastic",
    "start": "1039679",
    "end": "1046400"
  },
  {
    "text": "bean stock and those ips might change as long as they are users that are in this",
    "start": "1046400",
    "end": "1051679"
  },
  {
    "text": "vdi environment that has a security group assigned to it you can just say allow that security group into this",
    "start": "1051679",
    "end": "1057600"
  },
  {
    "text": "elastic beanstalk environment security group and it's going to grant you access then to be able to access that website",
    "start": "1057600",
    "end": "1064799"
  },
  {
    "text": "on you know the ports that you have running there so it's going to be another quick and easy way for you to allow and not have to constantly go back",
    "start": "1064799",
    "end": "1071039"
  },
  {
    "text": "and say okay well i got to change this ip address because that user's uh virtual desktop you know ip changed for",
    "start": "1071039",
    "end": "1077760"
  },
  {
    "text": "some reason maybe they got a new one or had an issue with one had to swap it out and of course you want to make sure that",
    "start": "1077760",
    "end": "1083919"
  },
  {
    "text": "you know there's ease of administration of things that you're doing so you don't have to spend a lot of people power going in and constantly changing ip",
    "start": "1083919",
    "end": "1090559"
  },
  {
    "text": "addresses and such so a few different ways there last one i'm going to talk about is a",
    "start": "1090559",
    "end": "1097120"
  },
  {
    "text": "little bit more of a scalable method for you be able to allow in ip addresses to",
    "start": "1097120",
    "end": "1102720"
  },
  {
    "text": "your environment and it's used in a couple different ways for this instance we're going to talk about very similar setup where we had",
    "start": "1102720",
    "end": "1109039"
  },
  {
    "text": "users at a remote site we've got our vpn connection into our aws but now we've got multiple sites so say your company's",
    "start": "1109039",
    "end": "1115360"
  },
  {
    "text": "grown you've got three sites future you're going to have five 10 15 25",
    "start": "1115360",
    "end": "1120559"
  },
  {
    "text": "whatever amount of sites and each one of those has a unique ip range uh that you're going to have coming into your",
    "start": "1120559",
    "end": "1126400"
  },
  {
    "text": "environment well as i mentioned in the first way we can just add a single entry and say hey",
    "start": "1126400",
    "end": "1131760"
  },
  {
    "text": "allow 10.10.0.0.24 to have access to port 80 and port 443",
    "start": "1131760",
    "end": "1137360"
  },
  {
    "text": "and then do the same thing for 192 168 10 and then do the same thing for 172.10",
    "start": "1137360",
    "end": "1143200"
  },
  {
    "text": "and we'd have you know three individual lines well if you can imagine as you continue to add more and more sites",
    "start": "1143200",
    "end": "1148960"
  },
  {
    "text": "you're going to have to continue to go in that security group and remember to add more and more items to that",
    "start": "1148960",
    "end": "1155760"
  },
  {
    "text": "so this could be a little bit cumbersome could create a number of entries within your security group and",
    "start": "1155760",
    "end": "1161200"
  },
  {
    "text": "you know might just be a little bit less clean for you to be able to go back and track if you're like me i've done this",
    "start": "1161200",
    "end": "1167840"
  },
  {
    "text": "before where i've added in different ips and such into my security groups and it becomes a very long list and for you to",
    "start": "1167840",
    "end": "1174400"
  },
  {
    "text": "go through and audit that list takes time it's a little bit more error prone for you to be able to go in and look at",
    "start": "1174400",
    "end": "1180480"
  },
  {
    "text": "that so we have an offering within aws that can have customer manage iprefix lists um and these ip prefix lists are",
    "start": "1180480",
    "end": "1188160"
  },
  {
    "text": "going to be a prefix list that you design um that's pl and then dash whatever the um unique identifier given",
    "start": "1188160",
    "end": "1194480"
  },
  {
    "text": "to it but with them within that prefix list you can assign a number of different ip addresses and you have one",
    "start": "1194480",
    "end": "1199919"
  },
  {
    "text": "location where you can go through and easily and quickly see give a description to those ip address spaces",
    "start": "1199919",
    "end": "1205120"
  },
  {
    "text": "that you're allowing into the security group um and be able to define it that way there's also some",
    "start": "1205120",
    "end": "1212720"
  },
  {
    "text": "additional items there that you can do within there so like i said give it a description we do have other prefix lists that are",
    "start": "1212720",
    "end": "1219360"
  },
  {
    "text": "amazon managed ones but i will show those as we get into the console here and show you just a quick easy way that",
    "start": "1219360",
    "end": "1225760"
  },
  {
    "text": "we can get these three different options set up to allow list you into your environment so i'm going to switch over",
    "start": "1225760",
    "end": "1232320"
  },
  {
    "text": "to a quick demo here just to walk you through how we can do each one of these different items so",
    "start": "1232320",
    "end": "1238640"
  },
  {
    "text": "just pull that up here so we're just going to be into our ec2 console because that's where all of our security group",
    "start": "1238640",
    "end": "1245360"
  },
  {
    "text": "items are going to be located and then we'll jump over into the vpc where our managed prefix lists are",
    "start": "1245360",
    "end": "1251360"
  },
  {
    "text": "but um if you're not familiar with aws and ec2 right all the security groups can either be accessed here or through",
    "start": "1251360",
    "end": "1256480"
  },
  {
    "text": "the vpc console either or and i have a few different security groups that are set up for different",
    "start": "1256480",
    "end": "1261520"
  },
  {
    "text": "things and one of them is going to be this openvpn security group that i have set up and i have this one set up for",
    "start": "1261520",
    "end": "1268159"
  },
  {
    "text": "exactly like i showed in these slides where i have remote sites that i'm going to have connected through this openvpn",
    "start": "1268159",
    "end": "1273280"
  },
  {
    "text": "solution from all those sites into my aws environment and i want to control who has access to what this open vpn",
    "start": "1273280",
    "end": "1279760"
  },
  {
    "text": "security group is going to be assigned to my elastic beanstalk environment or whatever environment in aws",
    "start": "1279760",
    "end": "1286159"
  },
  {
    "text": "um to allow access to my resources so you define inbound and outbound rules in",
    "start": "1286159",
    "end": "1292240"
  },
  {
    "text": "your security group you can see this one i don't have any current inbound rules it's a new security group so i'm going",
    "start": "1292240",
    "end": "1297360"
  },
  {
    "text": "to add some different rules to address the different ways that we were talking about so i'm going to say give it to",
    "start": "1297360",
    "end": "1302480"
  },
  {
    "text": "http access and i'm going to have my ip range that i'm going to put in here that",
    "start": "1302480",
    "end": "1307520"
  },
  {
    "text": "i mentioned before that 10.10 ip space and that's going to grant the",
    "start": "1307520",
    "end": "1313280"
  },
  {
    "text": "users from that location to my resources here within aws",
    "start": "1313280",
    "end": "1318400"
  },
  {
    "text": "and it's going to be nice and simple way for me to do that when i just have one site to do so so as you can see here by",
    "start": "1318400",
    "end": "1324159"
  },
  {
    "text": "this rule i have the type is http it's going to open up tcp port 80 to my",
    "start": "1324159",
    "end": "1329840"
  },
  {
    "text": "custom range which is this 10.10.0.0.24 and if we wanted to i could give a",
    "start": "1329840",
    "end": "1335520"
  },
  {
    "text": "description for this i'm not for this purpose of this demo but i like to put them in my real rules just so i remember",
    "start": "1335520",
    "end": "1341520"
  },
  {
    "text": "what it is because if you're like me might be a little forgetful later on the road what that ip range actually belongs",
    "start": "1341520",
    "end": "1347760"
  },
  {
    "text": "to in the description field is just kind of a nice way for you to be able to remember um",
    "start": "1347760",
    "end": "1353360"
  },
  {
    "text": "why you put that there so i mentioned before we could do a security group access so we can instead",
    "start": "1353360",
    "end": "1359200"
  },
  {
    "text": "do the same thing we give http have tcpad that's allowed specify custom and",
    "start": "1359200",
    "end": "1364640"
  },
  {
    "text": "now i can do sg and that's going to give me a list of all the security groups that i can use",
    "start": "1364640",
    "end": "1370400"
  },
  {
    "text": "to allow access and so i have one that's web server access so i'm going to say hey all the groups that all the ec2",
    "start": "1370400",
    "end": "1377120"
  },
  {
    "text": "instances that get put into this web server access security group that use this are going to have access into this",
    "start": "1377120",
    "end": "1382720"
  },
  {
    "text": "environment so it's another easy way for me to grant a group of users without having to go in and add individual ips",
    "start": "1382720",
    "end": "1389200"
  },
  {
    "text": "and administer it that fashion to grant access to that the last way as i mentioned the slides",
    "start": "1389200",
    "end": "1395600"
  },
  {
    "text": "is going to be using a prefix list and we will have to switch over to the vpc console here in order to look at the",
    "start": "1395600",
    "end": "1401919"
  },
  {
    "text": "prefix lists but as we can see here i've got my two rules defined and now",
    "start": "1401919",
    "end": "1407520"
  },
  {
    "text": "say i've added two three more sites um to my environment and i'm like i really don't want to have an individual line",
    "start": "1407520",
    "end": "1413440"
  },
  {
    "text": "per site i would like to go to a more scalable method that i can actually then",
    "start": "1413440",
    "end": "1418880"
  },
  {
    "text": "also share with my organization if i create this prefix list of my remote sites",
    "start": "1418880",
    "end": "1424880"
  },
  {
    "text": "all right so we come into the vpc console we see we have a whole bunch of different options over here in the vpc",
    "start": "1424880",
    "end": "1431120"
  },
  {
    "text": "console now compared to what we have in ec2 from um our different transit gateway options mirroring sessions",
    "start": "1431120",
    "end": "1437279"
  },
  {
    "text": "security acls but we're going to focus today specifically on this manage prefix list option because that's what we're",
    "start": "1437279",
    "end": "1442960"
  },
  {
    "text": "going to be creating our own customer defined managed prefix list that we're going to use for our custom deployment",
    "start": "1442960",
    "end": "1450320"
  },
  {
    "text": "we can see i have four different prefix lists that are here already all of these prefix lists are amazon",
    "start": "1450320",
    "end": "1456320"
  },
  {
    "text": "managed ones that i can use so say you've got a cloudfront uh implementation that you're using and you",
    "start": "1456320",
    "end": "1462480"
  },
  {
    "text": "have an application load balancer that's going to be kind of where you're sending traffic to as well say you have a security group on there and you want to",
    "start": "1462480",
    "end": "1468559"
  },
  {
    "text": "say i only want to allow all the ips from cloudfront to have access to this where we could use the prefix list",
    "start": "1468559",
    "end": "1474320"
  },
  {
    "text": "that's defined for cloudfront and grant access that way instead of having to go through and you know manually look up",
    "start": "1474320",
    "end": "1479520"
  },
  {
    "text": "the ip addresses in the you know cloudfront for the ips.json and create our own",
    "start": "1479520",
    "end": "1485120"
  },
  {
    "text": "prefix list we can use some of the amazon managed ones to help us with that for today though since we're talking",
    "start": "1485120",
    "end": "1490880"
  },
  {
    "text": "about our custom sites that are going to be our own remote sites we're going to create our own custom prefix list here",
    "start": "1490880",
    "end": "1496480"
  },
  {
    "text": "and do it for our remote sites so we'll just come in and give it a name",
    "start": "1496480",
    "end": "1501760"
  },
  {
    "text": "for this prefix list and i'm just going to name it remote sites nice and easy it's going to be for ipv4 addresses",
    "start": "1501760",
    "end": "1509200"
  },
  {
    "text": "and when we create one we have to define a max number of entries so we can see here i'm putting in 10. i'm just",
    "start": "1509200",
    "end": "1515679"
  },
  {
    "text": "factoring in some potential growth i only have three today but give me a little bit of wiggle room this can be",
    "start": "1515679",
    "end": "1521360"
  },
  {
    "text": "changed later on so once you have a prefix list created you can go back in and modify this um to change it back so",
    "start": "1521360",
    "end": "1529600"
  },
  {
    "text": "no big deal if you set it low and then in a year you realize you've got 30 sites that you need to",
    "start": "1529600",
    "end": "1534720"
  },
  {
    "text": "add that are brand new you can go by and modify this so we're going to add different entries",
    "start": "1534720",
    "end": "1540240"
  },
  {
    "text": "and we're going to add cider blocks that match our remote sites that we had previously of our 10.10 our 17200 192",
    "start": "1540240",
    "end": "1547360"
  },
  {
    "text": "168 to give us access to our resources but in a nice centralized",
    "start": "1547360",
    "end": "1553039"
  },
  {
    "text": "managed location using this prefix list instead of adding in it so i'll have my 10.10 my 172 here",
    "start": "1553039",
    "end": "1562158"
  },
  {
    "text": "we're going to add in our 192 168. and as you can see these have description fields too so if i wanted to",
    "start": "1562240",
    "end": "1568880"
  },
  {
    "text": "label these like my chicago location my dallas location my detroit location my san francisco location i can go ahead",
    "start": "1568880",
    "end": "1575919"
  },
  {
    "text": "and add in descriptions as well highly recommended in the future so you actually remember this what each one of",
    "start": "1575919",
    "end": "1581039"
  },
  {
    "text": "them is we can add tags but i'm just going to create my list here for today",
    "start": "1581039",
    "end": "1586720"
  },
  {
    "text": "and i'll see that i get a pl unique identifier that's my remote sites prefix list",
    "start": "1586720",
    "end": "1592400"
  },
  {
    "text": "so now that i have this prefix list with those ip addresses that are going to be defined for my remote sites i can now",
    "start": "1592400",
    "end": "1598799"
  },
  {
    "text": "add in one line to my security group instead of three different lines i can create different associations for it",
    "start": "1598799",
    "end": "1604320"
  },
  {
    "text": "right as i mentioned before i can share this so if i have a hundred different ip addresses in this list in the future",
    "start": "1604320",
    "end": "1610960"
  },
  {
    "text": "and i don't want to have to recreate this in every single account that i have my organization because they're all going to use this",
    "start": "1610960",
    "end": "1616320"
  },
  {
    "text": "remote sites list i can just share this list with them and they'll be able to have access to it as well",
    "start": "1616320",
    "end": "1622000"
  },
  {
    "text": "so nice and easy for you to be able to make other people in your organization's",
    "start": "1622000",
    "end": "1627120"
  },
  {
    "text": "life easy hopefully as well with their administration of things so let's pop back over to my security",
    "start": "1627120",
    "end": "1633279"
  },
  {
    "text": "group and we're just going to edit that security group again and be able to add in this uh prefix",
    "start": "1633279",
    "end": "1640080"
  },
  {
    "text": "list that we have instead of this 10.10.ip address of 192 and a 172",
    "start": "1640080",
    "end": "1646159"
  },
  {
    "text": "we'll just come in and we'll say i'm going to add a new rule um for this and you said i still got these",
    "start": "1646159",
    "end": "1652640"
  },
  {
    "text": "other ones but i'm just going to do pl dash and it's going to give me a list of all my different ones we sell remote sites",
    "start": "1652640",
    "end": "1658799"
  },
  {
    "text": "so i choose that and now i've got a entry for my ip my",
    "start": "1658799",
    "end": "1664080"
  },
  {
    "text": "security group and my prefix list well i don't need this 10.10.0.0.24 any longer because i've",
    "start": "1664080",
    "end": "1671360"
  },
  {
    "text": "already gone ahead and included that in the prefix list and so you want to reduce the duplication of things that you have in",
    "start": "1671360",
    "end": "1677120"
  },
  {
    "text": "your security group and those rules so we'll be able to go ahead and quickly and easily remove this 10.10.0.0.24",
    "start": "1677120",
    "end": "1684760"
  },
  {
    "text": "and that's going to allow us to just use the prefix list instead for everything so",
    "start": "1685360",
    "end": "1690480"
  },
  {
    "text": "that's all i've got for a demo right now so i'm going to bring my consummate back in here",
    "start": "1690480",
    "end": "1695600"
  },
  {
    "text": "and try and answer some of these questions that we got while i was chatting away about leveraging um the",
    "start": "1695600",
    "end": "1701039"
  },
  {
    "text": "different methods for granting access to aws resources so i saw we had a question that came in",
    "start": "1701039",
    "end": "1707039"
  },
  {
    "text": "from tommy242 welcome back um tommy242 wants to know what's the difference between elastic beanstalk and ec2 so um",
    "start": "1707039",
    "end": "1715200"
  },
  {
    "text": "did you want to take that one yeah yeah i'll take that one so um so amazon ec2 is a web service that",
    "start": "1715200",
    "end": "1721840"
  },
  {
    "text": "provides secure compute capacity in the cloud right",
    "start": "1721840",
    "end": "1727039"
  },
  {
    "text": "virtually allowing you to deploy any kind of workload that's amazon ec2",
    "start": "1727039",
    "end": "1732320"
  },
  {
    "text": "that's number one uh aws elastic beanstalk is an easy to use service for deploying and scaling web",
    "start": "1732320",
    "end": "1739200"
  },
  {
    "text": "apps and services now you could use java.net python",
    "start": "1739200",
    "end": "1744320"
  },
  {
    "text": "so on and so forth or even a docker container to deploy that right so you simply upload your code and",
    "start": "1744320",
    "end": "1751039"
  },
  {
    "text": "elastic bean stock automatically handles the deployment capacity provisioning load balancing auto scaling as well as",
    "start": "1751039",
    "end": "1758080"
  },
  {
    "text": "health monitoring right so those are the primary differences but",
    "start": "1758080",
    "end": "1763360"
  },
  {
    "text": "important thing to know here is elastic bean stock is it gives you an abstraction layer right",
    "start": "1763360",
    "end": "1769200"
  },
  {
    "text": "it will set up an environment for you get the ec2 instances set up in your account",
    "start": "1769200",
    "end": "1774720"
  },
  {
    "text": "uh maybe an optional database if you want that a few other components like again security groups auto scaling",
    "start": "1774720",
    "end": "1780880"
  },
  {
    "text": "groups and then elastic bean stock will manage these for you whenever you want to",
    "start": "1780880",
    "end": "1786159"
  },
  {
    "text": "update your software or code right so you get the ci cd built in right so that's the most important thing to know",
    "start": "1786159",
    "end": "1793120"
  },
  {
    "text": "i hope that answers your question uh rob mike feel free to add your color in",
    "start": "1793120",
    "end": "1798799"
  },
  {
    "text": "i think you hit on everything there that i would say for it so makes it nice and easy to be able to do multiple deployment methods and such that's kind",
    "start": "1798799",
    "end": "1804880"
  },
  {
    "text": "of one of the nice features to using it so yeah a b testing as well you could have multiple environments uh",
    "start": "1804880",
    "end": "1811520"
  },
  {
    "text": "rolling deployment all of that is possible easily yep very much so so great",
    "start": "1811520",
    "end": "1817679"
  },
  {
    "text": "uh i just had another question that came in from on ramone357 and welcome back to the show monoramon um how does a",
    "start": "1817679",
    "end": "1823679"
  },
  {
    "text": "site-to-site vpn work with amazon vpc um and so i'm happy to answer that one um",
    "start": "1823679",
    "end": "1829440"
  },
  {
    "text": "so a site-to-site vpn is going to be something that you're going to deploy from your location to aws and there's a",
    "start": "1829440",
    "end": "1836000"
  },
  {
    "text": "number of different uh we call customer gateways or cgws that are supported to connect to we call a vgw or a transit",
    "start": "1836000",
    "end": "1843200"
  },
  {
    "text": "gateway at tgw in aws and so what you're going to do with these right is depending on your",
    "start": "1843200",
    "end": "1849679"
  },
  {
    "text": "deployment and your usage and scale you may have your site to site vpn that's going to go from your location to",
    "start": "1849679",
    "end": "1855840"
  },
  {
    "text": "your aws vpc via a vgw or virtual gateway here in aws and that's going to",
    "start": "1855840",
    "end": "1861760"
  },
  {
    "text": "allow you to just basically tunnel private traffic it does go over the internet of course but it's still uh basically an encrypted",
    "start": "1861760",
    "end": "1868399"
  },
  {
    "text": "tunnel between your location to your aws environment that you can then use those private ip addresses to route traffic",
    "start": "1868399",
    "end": "1875279"
  },
  {
    "text": "through rather than having to have things exposed to the internet say in your aws environment",
    "start": "1875279",
    "end": "1881360"
  },
  {
    "text": "i mentioned the transit gateway in there because it's a little bit more of a scalable mechanism for you to attach to",
    "start": "1881360",
    "end": "1886399"
  },
  {
    "text": "multiple vpcs with the transit gateway tgw also supports things like equal cost",
    "start": "1886399",
    "end": "1891840"
  },
  {
    "text": "multipathing so you can actually take advantage of say our vpn limits of 1.25 gigabit per",
    "start": "1891840",
    "end": "1898320"
  },
  {
    "text": "second limit on a single vpn tunnel but you can use ecmp to say do three or four",
    "start": "1898320",
    "end": "1904080"
  },
  {
    "text": "different channels and expand the bandwidth capabilities to a transit gateway so a",
    "start": "1904080",
    "end": "1909120"
  },
  {
    "text": "little bit higher throughput more scalable due to the direct attachment but that's a little bit about how you're going to be able to use the site-to-site",
    "start": "1909120",
    "end": "1915039"
  },
  {
    "text": "vpn with your amazon vpc",
    "start": "1915039",
    "end": "1919320"
  },
  {
    "text": "okay well i didn't see any other questions that came into the chat yet um so i",
    "start": "1920480",
    "end": "1926559"
  },
  {
    "text": "appreciate mike and sue meet all of your sharing of answering of the questions",
    "start": "1926559",
    "end": "1931760"
  },
  {
    "text": "that we had um so everyone today you know we took a look",
    "start": "1931760",
    "end": "1936799"
  },
  {
    "start": "1934000",
    "end": "1995000"
  },
  {
    "text": "at um answering some questions from aws repost as you mentioned before if you haven't checked out repost head on over",
    "start": "1936799",
    "end": "1943679"
  },
  {
    "text": "because if there are any questions that we didn't get a chance to answer today or you think of something right after we get off air here please feel free to",
    "start": "1943679",
    "end": "1949360"
  },
  {
    "text": "head over to repost.aws where one of our experts can provide you with an answer on your question and it could become a",
    "start": "1949360",
    "end": "1955279"
  },
  {
    "text": "topic for one of our future shows so if you have feedback for us please check the chat box on the right hand side for",
    "start": "1955279",
    "end": "1961760"
  },
  {
    "text": "a link to our survey that i posted earlier or you can feel free to email us at aws supports you at amazon.com",
    "start": "1961760",
    "end": "1968000"
  },
  {
    "text": "because we really do want to hear from you and let us know what you would like to see on the show and how we did today so thank you everyone for joining us at",
    "start": "1968000",
    "end": "1974960"
  },
  {
    "text": "aws supports you and happy cloud computing [Music]",
    "start": "1974960",
    "end": "1991329"
  },
  {
    "text": "you",
    "start": "1994399",
    "end": "1996480"
  }
]