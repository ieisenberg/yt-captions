[
  {
    "start": "0",
    "end": "27000"
  },
  {
    "text": "morning everyone thank you very much for coming in today my name is Alex Smith",
    "start": "410",
    "end": "5460"
  },
  {
    "text": "what I'm going to be talking about today is a pure play video over the top platform and what I'll be focusing on is",
    "start": "5460",
    "end": "12719"
  },
  {
    "text": "a micro-services architecture and building that on AWS I also have a",
    "start": "12719",
    "end": "18240"
  },
  {
    "text": "co-presenter video from Verizon who will be talking about some of the challenges",
    "start": "18240",
    "end": "23490"
  },
  {
    "text": "in building this platform in reality as well so let's start with what the actual",
    "start": "23490",
    "end": "29640"
  },
  {
    "start": "27000",
    "end": "185000"
  },
  {
    "text": "problem is here and what you're trying to address so nowadays there are more",
    "start": "29640",
    "end": "36480"
  },
  {
    "text": "content choices than ever more people are moving into video more people are starting to build platforms you have an",
    "start": "36480",
    "end": "42750"
  },
  {
    "text": "increase in the number of devices so today you might have iPhone in Android you have set-top boxes Apple TV fire TV",
    "start": "42750",
    "end": "50160"
  },
  {
    "text": "you have second-screen experiences on various devices and you also have games",
    "start": "50160",
    "end": "57600"
  },
  {
    "text": "consoles anything connected to a TV you have various delivery methods so over",
    "start": "57600",
    "end": "64140"
  },
  {
    "text": "the internet over satellite and you also have new experiences I mentioned second",
    "start": "64140",
    "end": "69180"
  },
  {
    "text": "screen what about watch apps what about the increase in various different connected devices and at the same time businesses",
    "start": "69180",
    "end": "77850"
  },
  {
    "text": "are changing you have more data coming in and you can't just process this in a batch you can't process this once per",
    "start": "77850",
    "end": "83759"
  },
  {
    "text": "day now it's going to be real-time you expect to know exactly what's happening right now",
    "start": "83759",
    "end": "89030"
  },
  {
    "text": "today you launch in Singapore tomorrow you have to launch in the u.s. maybe the week after in Australia and all of this",
    "start": "89030",
    "end": "96659"
  },
  {
    "text": "while having smaller teams companies are being bought for millions of dollars with a three-person engineering team so",
    "start": "96659",
    "end": "103470"
  },
  {
    "text": "that huge infrastructure team the application team that model no longer works but you can do all of this while",
    "start": "103470",
    "end": "111270"
  },
  {
    "text": "innovating while failing while trying and building new things I want to just",
    "start": "111270",
    "end": "117329"
  },
  {
    "text": "set some expectations with the expect with the exception of just now I will not say the phrase content is king and I",
    "start": "117329",
    "end": "124439"
  },
  {
    "text": "will not talk about that side of this I want this to cover the architecture and building the platforms I'll talk you",
    "start": "124439",
    "end": "131400"
  },
  {
    "text": "through building from scratch a No et platform and then as I mentioned Bell",
    "start": "131400",
    "end": "136469"
  },
  {
    "text": "welcome on stage video who will deal with the battle-hardened lessons so to",
    "start": "136469",
    "end": "143519"
  },
  {
    "text": "level set in my previous companies often there was an argument about OTT versus",
    "start": "143519",
    "end": "148799"
  },
  {
    "text": "Oh Phoebe maybe platform differences between a board and seaboard and s Ford and frankly it doesn't matter many of these",
    "start": "148799",
    "end": "155459"
  },
  {
    "text": "technologies are the same across all of these and also you would have seen I included the word microservices",
    "start": "155459",
    "end": "161459"
  },
  {
    "text": "pure-play OTT I basically hit every buzzword but micro-services for this is",
    "start": "161459",
    "end": "166500"
  },
  {
    "text": "not a buzzword what I mean here is the single purpose or small purpose specific",
    "start": "166500",
    "end": "172469"
  },
  {
    "text": "function services and doing this to allow you to rapidly innovate on your",
    "start": "172469",
    "end": "178049"
  },
  {
    "text": "platforms and actually build them quicker without having to take into account large amounts of legacy so when",
    "start": "178049",
    "end": "186180"
  },
  {
    "start": "185000",
    "end": "257000"
  },
  {
    "text": "we go through and over the top platform there's a few different components first of all you start with ingest so this is",
    "start": "186180",
    "end": "192150"
  },
  {
    "text": "content production whether this is anywhere from a journalist in a field somewhere with the camera all the way",
    "start": "192150",
    "end": "198540"
  },
  {
    "text": "through to post-production high effects rendering its then ingested into a platform stored on a SAN or a now as",
    "start": "198540",
    "end": "205949"
  },
  {
    "text": "commonly we then move into preparation this is the encoding the encryption any",
    "start": "205949",
    "end": "212840"
  },
  {
    "text": "transforming and packaging we move on to distribution getting it out to people",
    "start": "212840",
    "end": "218909"
  },
  {
    "text": "this may be b2c delivered over the Internet via a content delivery network or it may be b2b if you're helping feed",
    "start": "218909",
    "end": "226409"
  },
  {
    "text": "other aggregation platforms and finally and most importantly you're having actual consumption whether this is a",
    "start": "226409",
    "end": "233280"
  },
  {
    "text": "player whether this is a client device and all of this is across a shared",
    "start": "233280",
    "end": "239430"
  },
  {
    "text": "infrastructure unlike many broadcasters in an OTT platform or a pure play platform you",
    "start": "239430",
    "end": "244919"
  },
  {
    "text": "don't have the legacy of broadcast equipments so you can take advantage of the same IT systems the same infrastructure that may power your",
    "start": "244919",
    "end": "252120"
  },
  {
    "text": "corporate website may power any other system so I'll start with ingesting and",
    "start": "252120",
    "end": "260630"
  },
  {
    "start": "257000",
    "end": "483000"
  },
  {
    "text": "in there today in many broadcasters there's a lot of specialized equipment",
    "start": "260630",
    "end": "266080"
  },
  {
    "text": "whether this is hd-sdi if your high-bandwidth low-latency transfer across your equipment you may have a",
    "start": "266080",
    "end": "273430"
  },
  {
    "text": "satellite transmission network fantastic for global coverage but obviously I can't launch one a startup can't Ultron",
    "start": "273430",
    "end": "279960"
  },
  {
    "text": "all of this will commonly result in files stored on an as feeding your linear playout systems and then again",
    "start": "279960",
    "end": "287590"
  },
  {
    "text": "more specialized Hardware more single purpose things with transcoder often built in a specialized device that's",
    "start": "287590",
    "end": "293590"
  },
  {
    "text": "purchased as a standalone piece now mapping this onto an OTT workload",
    "start": "293590",
    "end": "299039"
  },
  {
    "text": "content will be ingested regularly by FTP or an accelerator software it'll be",
    "start": "299039",
    "end": "304960"
  },
  {
    "text": "stored again on a nas or a SAN and I managed by a digital asset management system or a workflow system or a",
    "start": "304960",
    "end": "311229"
  },
  {
    "text": "scheduler so let's start with the architecture of here everything starts",
    "start": "311229",
    "end": "316509"
  },
  {
    "text": "with contents and starts with the storage a lot of what you'll hear today will be about storage first",
    "start": "316509",
    "end": "321789"
  },
  {
    "text": "architectures so the content providers will connect into my example digital",
    "start": "321789",
    "end": "326800"
  },
  {
    "text": "asset management system dropping files off they may use a spare assigment",
    "start": "326800",
    "end": "331870"
  },
  {
    "text": "eternity cloud beam they may just use s3 multi-part uploads you could use import",
    "start": "331870",
    "end": "337449"
  },
  {
    "text": "exports I would have snowball up on here but I don't have a logo for it yet but for large assets ingests where you're",
    "start": "337449",
    "end": "343360"
  },
  {
    "text": "building a new platform you may also use snowball the files get dropped off into",
    "start": "343360",
    "end": "349150"
  },
  {
    "text": "an s3 buckets and what this allows you to do is mimic something very similar to an OTT systems traditional architecture",
    "start": "349150",
    "end": "356099"
  },
  {
    "text": "using multi-tiered storage for cost management's and efficiency and lifecycle policies their equivalents in",
    "start": "356099",
    "end": "362860"
  },
  {
    "text": "s3 using infrequent access storage within s3 you can massively save your",
    "start": "362860",
    "end": "368650"
  },
  {
    "text": "costs you can also then push after let's say 180 days those same files to Glacia",
    "start": "368650",
    "end": "374129"
  },
  {
    "text": "you're reducing the amounts of online storage you're allowing yourself to still keep those files readily available",
    "start": "374129",
    "end": "379870"
  },
  {
    "text": "if you need it so the files of here test3 now we actually need to do",
    "start": "379870",
    "end": "385629"
  },
  {
    "text": "something with them and thanks to s3 notifications and lambda we can do this without actually having to have a watch",
    "start": "385629",
    "end": "391870"
  },
  {
    "text": "folder within lambda we can receive the event from s3 that says hey my new file",
    "start": "391870",
    "end": "397000"
  },
  {
    "text": "is here and you could even say at my files all come in pieces I get a",
    "start": "397000",
    "end": "402680"
  },
  {
    "text": "mezzanine file a 50 megabytes assets and then afterwards I'll get my manifest so",
    "start": "402680",
    "end": "409170"
  },
  {
    "text": "once all of my files are there lambda can take those files it can process and extract various pieces from that",
    "start": "409170",
    "end": "416190"
  },
  {
    "text": "metadata read the sidecar files and then persist that data into dynamo this then",
    "start": "416190",
    "end": "422400"
  },
  {
    "text": "gives you a very simple very easy way to store all of your meta data and you could also push that same information",
    "start": "422400",
    "end": "427980"
  },
  {
    "text": "into cloudsearch allowing you full text search and other pieces across there now",
    "start": "427980",
    "end": "434190"
  },
  {
    "text": "you'll need to actually know where those files are and you'll need to do processing on those so at the same time",
    "start": "434190",
    "end": "439620"
  },
  {
    "text": "lambda can say don't just take the metadata also create proxies small",
    "start": "439620",
    "end": "445260"
  },
  {
    "text": "low-quality pieces which can be used in your digital asset management system to scrub through make sure you have the",
    "start": "445260",
    "end": "451500"
  },
  {
    "text": "right file take thumbnails for embedding in player pages etc and at the same time",
    "start": "451500",
    "end": "458430"
  },
  {
    "text": "to allow me to access this well I don't need to run a server here either I can use a digital asset management system",
    "start": "458430",
    "end": "464970"
  },
  {
    "text": "built in s3 with static pages calling API gateway through to lambda lambda can",
    "start": "464970",
    "end": "471390"
  },
  {
    "text": "then connect to dynamo DB make cloud search requests and all of these pieces",
    "start": "471390",
    "end": "476490"
  },
  {
    "text": "aggregated in a single aggregated serverless digital asset management system so great",
    "start": "476490",
    "end": "484260"
  },
  {
    "text": "I've got my files now I need to do something with them because well I've still got those high quality 50 megabits",
    "start": "484260",
    "end": "490080"
  },
  {
    "text": "assets I don't have anything that I can deliver to end-users yet so I'll talk",
    "start": "490080",
    "end": "495090"
  },
  {
    "text": "about preparation and encryption and encoding there's quite a few challenges",
    "start": "495090",
    "end": "500130"
  },
  {
    "text": "here first of all you've got multiple devices you need to process today for",
    "start": "500130",
    "end": "505920"
  },
  {
    "text": "iPhone and tomorrow for set-top boxes and a new device comes out it's a new",
    "start": "505920",
    "end": "511080"
  },
  {
    "text": "launch or the software has changed and you need to re-encode or repackage everything you've got higher quality",
    "start": "511080",
    "end": "517110"
  },
  {
    "text": "content coming in it was pretty scary when we first went to 3d now talking",
    "start": "517110",
    "end": "522450"
  },
  {
    "text": "about UHD 4k and 8k and these files are getting huge and the processing of these",
    "start": "522450",
    "end": "527670"
  },
  {
    "text": "is getting a lot more complicated you may have to do as",
    "start": "527670",
    "end": "532690"
  },
  {
    "text": "is 10 20 or 30 different trance codes for a single video and for those that",
    "start": "532690",
    "end": "538000"
  },
  {
    "text": "come from any kind of content background content drops are frequently unevenly distributed perhaps twice per week will",
    "start": "538000",
    "end": "544420"
  },
  {
    "text": "get a drop of the series or catch-up and what this results is in a very peaky and",
    "start": "544420",
    "end": "549550"
  },
  {
    "text": "trophy load so again storage first my",
    "start": "549550",
    "end": "554920"
  },
  {
    "text": "content comes in from the content provider and drops into s3 I get my s3",
    "start": "554920",
    "end": "560470"
  },
  {
    "text": "notification that hits lambda now at this point rather than using a workflow",
    "start": "560470",
    "end": "566350"
  },
  {
    "text": "system or a wfs what I can do is say ok I will now pass part of this job over to",
    "start": "566350",
    "end": "572710"
  },
  {
    "text": "a transcoding piece or a packaging piece you can either use the Amazon elastic transcoder or one of our partner",
    "start": "572710",
    "end": "578830"
  },
  {
    "text": "products such as elemental or harmonic or Zen coder or encoding comm and the resultant files can then be stored back",
    "start": "578830",
    "end": "585460"
  },
  {
    "text": "into s3 into that same bucket once they're stored in there a further",
    "start": "585460",
    "end": "590890"
  },
  {
    "text": "s3 notification can be sent and that can then call another lambda function which",
    "start": "590890",
    "end": "596080"
  },
  {
    "text": "takes that data takes the data about our newly transcoded assets and puts that straight into a CMS so if you already",
    "start": "596080",
    "end": "602950"
  },
  {
    "text": "have a front-end or a portal you can integrate this very seamlessly and say hey here are my new files here's my",
    "start": "602950",
    "end": "608590"
  },
  {
    "text": "asset URL now there's a term in broadcasts goldeneyes and Golden Ears",
    "start": "608590",
    "end": "614950"
  },
  {
    "text": "these are people who know frame level problems in a file or they can hear slight feedback I am neither of these",
    "start": "614950",
    "end": "621490"
  },
  {
    "text": "but they're very useful for you because they pick up problems that you wouldn't otherwise notice in your encoding and",
    "start": "621490",
    "end": "628410"
  },
  {
    "text": "frequently they'll say hey there's an issue with this file you need to get it transcoded and a very common way to do",
    "start": "628410",
    "end": "633790"
  },
  {
    "text": "this is to just drop the file back into the drop folder into the watch folder and run through the entire process again",
    "start": "633790",
    "end": "639720"
  },
  {
    "text": "but if I'm dealing with 30 or 40 output files at 8k resolution this doesn't",
    "start": "639720",
    "end": "645100"
  },
  {
    "text": "scale so why don't I just put API gateway in front of that same lambda function I can hook that into my same",
    "start": "645100",
    "end": "651880"
  },
  {
    "text": "CMS or asset management system and at the point where I want to say reach runs code this all I need to do is make that",
    "start": "651880",
    "end": "658930"
  },
  {
    "text": "an API call and I can start all the specific preset to be retranslated",
    "start": "658930",
    "end": "665670"
  },
  {
    "start": "665000",
    "end": "778000"
  },
  {
    "text": "so that's the encoding well there's also packaging there's the taking the encoded",
    "start": "665769",
    "end": "672319"
  },
  {
    "text": "file and actually saying here is how I can consume it on a device we started with rtmp almost everybody had Flash",
    "start": "672319",
    "end": "679220"
  },
  {
    "text": "Player installed it was easy it was very quick smoking but rtmp is",
    "start": "679220",
    "end": "684439"
  },
  {
    "text": "hard to scale so we're making a big move towards HTTP delivery and to be honest",
    "start": "684439",
    "end": "689899"
  },
  {
    "text": "were pretty much there there are only a few devices that still say hey I must have RT SB I must have rtmp I put the",
    "start": "689899",
    "end": "696680"
  },
  {
    "text": "words Battle of the standard on here when it comes to HTTP but it's not really a battle it's more like a war of",
    "start": "696680",
    "end": "701689"
  },
  {
    "text": "attrition as new devices come out as they support certain things we see the take up change",
    "start": "701689",
    "end": "708110"
  },
  {
    "text": "as well there's the newly formed Alliance for open media of which Amazon is apart we",
    "start": "708110",
    "end": "714410"
  },
  {
    "text": "are working on a unified file formats for the next generation of video delivery that will allow you to take a",
    "start": "714410",
    "end": "719750"
  },
  {
    "text": "lot of these scaling challenges a lot of the multi device strategy issues and combine these into a single format and",
    "start": "719750",
    "end": "727939"
  },
  {
    "text": "with packaging comes encryption now most of this is driven by the studios the",
    "start": "727939",
    "end": "733040"
  },
  {
    "text": "studios say I've got my high quality content it's my premium assets it's my keys you can't allow these to be",
    "start": "733040",
    "end": "739550"
  },
  {
    "text": "watched by those who are not authorized so almost always the serial mandates",
    "start": "739550",
    "end": "745430"
  },
  {
    "text": "certain pieces about your encryption and your DRM one quite interesting piece is",
    "start": "745430",
    "end": "750829"
  },
  {
    "text": "just-in-time encryption but it's really hard encryption is a lot lighter than it ever has been but at the same time that",
    "start": "750829",
    "end": "757550"
  },
  {
    "text": "workload on a million users concurrently is very difficult to manage and when it",
    "start": "757550",
    "end": "763490"
  },
  {
    "text": "comes to DRM platforms we have just as many as we have packaging methods luckily there is reusability and we can",
    "start": "763490",
    "end": "770449"
  },
  {
    "text": "say for instance use play ready across both HLS from Apple and also smooth",
    "start": "770449",
    "end": "775730"
  },
  {
    "text": "stream from Microsoft but there are problems with this what happens if",
    "start": "775730",
    "end": "781879"
  },
  {
    "start": "778000",
    "end": "984000"
  },
  {
    "text": "you've had an platform to last 10 months 12 months and suddenly a large browser",
    "start": "781879",
    "end": "787970"
  },
  {
    "text": "drops support for a certain type of extension and your DRM no longer works",
    "start": "787970",
    "end": "793269"
  },
  {
    "text": "ok I can see that's happened to a few of you now you've got a hundred terabytes of posting",
    "start": "793269",
    "end": "798420"
  },
  {
    "text": "coded assets and now you have to reprocess them all because technologies are purely device driven I have phone",
    "start": "798420",
    "end": "805320"
  },
  {
    "text": "today that supports HLS next year I might have one that only sports - you",
    "start": "805320",
    "end": "810600"
  },
  {
    "text": "see these changes in the way that people actually consume contents and it affects your platform more than you realize",
    "start": "810600",
    "end": "817100"
  },
  {
    "text": "so keep your mezzanines keep your high quality masters close with most of my",
    "start": "817100",
    "end": "823110"
  },
  {
    "text": "platforms now I'm recommending as soon as the asset has been encoded the first time but it's straight into infrequent",
    "start": "823110",
    "end": "829199"
  },
  {
    "text": "access for those that are haven't seen the announcement recently infrequent access for s3 means you pay a little",
    "start": "829199",
    "end": "834870"
  },
  {
    "text": "more to retrieve it but the storage price is a lot lower and if you think about your requirements on re-encoding",
    "start": "834870",
    "end": "840149"
  },
  {
    "text": "it's actually a very low percentage make sure you can use glacier as well for that long tail and integrate that with",
    "start": "840149",
    "end": "846720"
  },
  {
    "text": "your digital asset management system it'll be much easier for you to pull back five years of content that way",
    "start": "846720",
    "end": "851790"
  },
  {
    "text": "rather than loading in from tape you can mix and match the actually encoding methods here and what I mean by that is",
    "start": "851790",
    "end": "858269"
  },
  {
    "text": "if you've got a large amount of content you need to retransferred some of it may",
    "start": "858269",
    "end": "863370"
  },
  {
    "text": "be better to do buy a output minute encoder such as elastic transcoder some",
    "start": "863370",
    "end": "868560"
  },
  {
    "text": "may be better to do with a partner products like harmonic or elemental as their models are slightly different I'm",
    "start": "868560",
    "end": "875190"
  },
  {
    "text": "going to contradict myself I said don't do just-in-time packaging but actually in some cases it does work if you have",
    "start": "875190",
    "end": "881310"
  },
  {
    "text": "geographically dispersed platforms you're pushing across the entire world just-in-time encoding is difficult",
    "start": "881310",
    "end": "887250"
  },
  {
    "text": "however if you're doing to a single geography and you know that you can have a very strong caching layer in front of",
    "start": "887250",
    "end": "893550"
  },
  {
    "text": "that actually it can be quite safe and this gives you the flexibility to store more raw files and not have to worry",
    "start": "893550",
    "end": "900720"
  },
  {
    "text": "about re-encoding later on and there's an 8020 rule or in most VOD platforms",
    "start": "900720",
    "end": "906660"
  },
  {
    "text": "it's more like a 95 5 rule of 95 percent of users accessing about 5% of your content remember this when you're",
    "start": "906660",
    "end": "912990"
  },
  {
    "text": "choosing your storage weights and also when you're actually building out your origin services I want to just point",
    "start": "912990",
    "end": "922230"
  },
  {
    "text": "something out with CPU based encoders on a larger instance sites there see for",
    "start": "922230",
    "end": "927779"
  },
  {
    "text": "ASX large in the EM for 10x large you have control over both the C and P state of the process",
    "start": "927779",
    "end": "933079"
  },
  {
    "text": "what these allow you to control is this frequency of a call and also the sleep",
    "start": "933079",
    "end": "938339"
  },
  {
    "text": "state of a call this is by default configured for highest throughput but",
    "start": "938339",
    "end": "943499"
  },
  {
    "text": "what this results in is variability in the timing of an individual call and also losing the l1 cache as your call",
    "start": "943499",
    "end": "951809"
  },
  {
    "text": "goes to sleep and wakes up now for most workloads this does not make a difference so please don't change",
    "start": "951809",
    "end": "957389"
  },
  {
    "text": "it without testing however for encoding workloads anything which is timing based frame base you can often get small",
    "start": "957389",
    "end": "964499"
  },
  {
    "text": "errors introduced or an overall dropping capacity so baseline with your application and make sure to very verify",
    "start": "964499",
    "end": "971939"
  },
  {
    "text": "and test that encoding but do have a look at that if you are looking at running your own encoders on AWS and",
    "start": "971939",
    "end": "977549"
  },
  {
    "text": "thank you to pocket math one of my customers out of Singapore for bringing this piece to my attention so that's on",
    "start": "977549",
    "end": "986309"
  },
  {
    "text": "the processing I've got my asset stored in a dam I've processed them Ivan coded them I've encrypted them now I need to",
    "start": "986309",
    "end": "993239"
  },
  {
    "text": "get them out somewhere I've talked a lot so far about file based video on-demand",
    "start": "993239",
    "end": "1000319"
  },
  {
    "text": "catch-up so I'll just quickly go over live and the differences in the architecture there with live it's very",
    "start": "1000319",
    "end": "1007489"
  },
  {
    "text": "common to have rtmp ingest into an origin server this might be wiser it could be nginx running the rtmp",
    "start": "1007489",
    "end": "1014089"
  },
  {
    "text": "module all going into a live streaming server this is repackaged and encrypted",
    "start": "1014089",
    "end": "1019999"
  },
  {
    "text": "on the fly it's not usually the are m'd because there are no files persistent to a disk and with this piece it's getting",
    "start": "1019999",
    "end": "1030740"
  },
  {
    "text": "increasingly common see people using WebRTC now this is more for the use of generated piece it's for the twitch soil",
    "start": "1030740",
    "end": "1037428"
  },
  {
    "text": "streaming web RTC is a new technology which is peer-to-peer it's very common",
    "start": "1037429",
    "end": "1043129"
  },
  {
    "text": "in video conferencing but because it doesn't involve a server piece it does allow us to very cheaply scale out user",
    "start": "1043129",
    "end": "1049970"
  },
  {
    "text": "based communications so we can use this in doing streaming one to one one to few",
    "start": "1049970",
    "end": "1055700"
  },
  {
    "text": "and then have player logic and server logic that says ok well now there's 30 40 viewers switch that to HTTP delivery",
    "start": "1055700",
    "end": "1064779"
  },
  {
    "text": "all of this is with live on the vaad side its file-based you'll commonly store your",
    "start": "1064779",
    "end": "1071110"
  },
  {
    "text": "files on s3 or on a CDN storage some people choose to run their own origin",
    "start": "1071110",
    "end": "1076180"
  },
  {
    "text": "but it's difficult and hard to scale and frankly full of problems files are",
    "start": "1076180",
    "end": "1082450"
  },
  {
    "text": "encrypted and stored in a final format there is often very little at edge",
    "start": "1082450",
    "end": "1088710"
  },
  {
    "text": "reprocessing required the RM is there by default and with all of these the high",
    "start": "1088710",
    "end": "1094870"
  },
  {
    "text": "bandwidth and to be honest this applies across both VOD and live ISPs are getting increasingly worried about the",
    "start": "1094870",
    "end": "1101080"
  },
  {
    "text": "unicast delivery of this they look at multicast and they know that many of them are telcos many of them are TV",
    "start": "1101080",
    "end": "1106240"
  },
  {
    "text": "operators but unicast delivery is obviously a bigger scaling problem so",
    "start": "1106240",
    "end": "1111700"
  },
  {
    "text": "I'll talk about a couple of streaming technologies HLS from Apple and HDS from",
    "start": "1111700",
    "end": "1117010"
  },
  {
    "text": "Adobe HLS was pretty much de facto most people knew how it worked most people put it on",
    "start": "1117010",
    "end": "1122680"
  },
  {
    "text": "their devices but we're seeing that the space is mixing up as MPEG DASH comes in for instance and both of these have some",
    "start": "1122680",
    "end": "1130420"
  },
  {
    "text": "things that you need to consider when you're deploying it in the real world so I'm going to start with HDS but I'll",
    "start": "1130420",
    "end": "1137170"
  },
  {
    "text": "talk quickly about how these both fit together they both take a parent playlist child playlist and then chunk",
    "start": "1137170",
    "end": "1144070"
  },
  {
    "text": "or fragments model with an HLS you have a parent playlist for each Channel or",
    "start": "1144070",
    "end": "1149110"
  },
  {
    "text": "each asset that then contains a chunk list for each of your individual bit rates and within those chunk lists is a",
    "start": "1149110",
    "end": "1155560"
  },
  {
    "text": "list of the sorry within the chunk list is the files that you will access in HDS",
    "start": "1155560",
    "end": "1161020"
  },
  {
    "text": "there's a manifest that manifest tells you again where to get like a mid tier file and then finally the fragments",
    "start": "1161020",
    "end": "1166660"
  },
  {
    "text": "themselves now with HDS there are a couple of challenges specifically with regard to",
    "start": "1166660",
    "end": "1173080"
  },
  {
    "text": "live streaming in this case you can see I have a very simplified view of what a",
    "start": "1173080",
    "end": "1178630"
  },
  {
    "text": "bootstrap file looks like an HDS just a quick note HDS is a binary protocol so",
    "start": "1178630",
    "end": "1184750"
  },
  {
    "text": "when you see the bootstrap files you can't just read them in a textbook text editor so in this case we have fragments",
    "start": "1184750",
    "end": "1192010"
  },
  {
    "text": "55 56 now something happens maybe I restart my encoder maybe I trip over the",
    "start": "1192010",
    "end": "1197800"
  },
  {
    "text": "cable maybe something completely outside of my control there's a blip on the internet I get reroute",
    "start": "1197800",
    "end": "1203450"
  },
  {
    "text": "'add and my Repub my stream restarts this results in the enumeration of my",
    "start": "1203450",
    "end": "1209600"
  },
  {
    "text": "fragments restarting as well I go back to one at this point my player actually he goes",
    "start": "1209600",
    "end": "1215029"
  },
  {
    "text": "oh I just had 56 I'm gonna wait for 57 and this means that the player never",
    "start": "1215029",
    "end": "1220730"
  },
  {
    "text": "actually continues so you keep waiting and you keep waiting and your users get",
    "start": "1220730",
    "end": "1225799"
  },
  {
    "text": "very frustrated they refresh and it comes back and they're like ah well this service isn't very good so take note of",
    "start": "1225799",
    "end": "1232879"
  },
  {
    "text": "how this works in your application in the event of a republish align those fragments or force a refresh in the",
    "start": "1232879",
    "end": "1239749"
  },
  {
    "text": "player but there's another piece to this and just to go back to here all of these",
    "start": "1239749",
    "end": "1244929"
  },
  {
    "text": "demonstrations they are single bit rates if you have multi bit rates you need to make sure that these same numbers are",
    "start": "1244929",
    "end": "1250970"
  },
  {
    "text": "actually aligned across your different bit rates it's very common to have two bit rates aligned and one not if it's if",
    "start": "1250970",
    "end": "1258289"
  },
  {
    "text": "it is that case when I go to the player and I press play the first 10 seconds will play brilliantly and then my player",
    "start": "1258289",
    "end": "1265220"
  },
  {
    "text": "will just sit and spin people get very frustrated with this so please be aware of that so I mentioned that bootstrap is",
    "start": "1265220",
    "end": "1275210"
  },
  {
    "start": "1272000",
    "end": "1590000"
  },
  {
    "text": "a binary format my previous employer and also customers with serve have a",
    "start": "1275210",
    "end": "1280850"
  },
  {
    "text": "bootstrap decoder as a link to get up on there feel free to use that if you do",
    "start": "1280850",
    "end": "1286340"
  },
  {
    "text": "need to decode any of those files so that's on the HDS side let's talk about",
    "start": "1286340",
    "end": "1292100"
  },
  {
    "text": "HLS for a minute this may look very familiar for anybody who spends a lot of time reading RFC to 6-1-6 I do what we",
    "start": "1292100",
    "end": "1301759"
  },
  {
    "text": "have here is a simple HTTP conversation we have a get request and then the headers if you look at the two",
    "start": "1301759",
    "end": "1307399"
  },
  {
    "text": "highlighted pieces first of all there's a 200 ok what that means is hey there's",
    "start": "1307399",
    "end": "1313369"
  },
  {
    "text": "no problem with this delivery and then we have a last modified time again RFC to 6-1-6 section 13 states a lot of",
    "start": "1313369",
    "end": "1321919"
  },
  {
    "text": "detail about cache heuristics that caching heuristic says that if an origin doesn't tell me that I can't catch a",
    "start": "1321919",
    "end": "1328399"
  },
  {
    "text": "file then I might I might choose to do so based on last modified the problem here is in a live stream if",
    "start": "1328399",
    "end": "1335750"
  },
  {
    "text": "you have a cache that you don't expect as an operator this can often cause problems and if you think about what a",
    "start": "1335750",
    "end": "1342460"
  },
  {
    "text": "ISP is trying to do it wants to reduce bandwidth it wants to reduce transit so it will keep as much file as much in the",
    "start": "1342460",
    "end": "1349970"
  },
  {
    "text": "network as it can so when using HLS make sure to use a cache header on your",
    "start": "1349970",
    "end": "1356210"
  },
  {
    "text": "manifests on your bitrate oh sorry on your chunks as well on a manifest file",
    "start": "1356210",
    "end": "1361430"
  },
  {
    "text": "it's pretty common to use a say five second cache header you can also choose to use no cache header at all",
    "start": "1361430",
    "end": "1369250"
  },
  {
    "text": "there's one further thing to be peace to think about if you have a hundred",
    "start": "1370060",
    "end": "1376870"
  },
  {
    "text": "segments and then after that you reset back to one well once per 16 minutes",
    "start": "1376870",
    "end": "1383720"
  },
  {
    "text": "that will result in your fragment name being reused now as an ISP I might say well these files look quite large now",
    "start": "1383720",
    "end": "1390860"
  },
  {
    "text": "each file is one or two or three megabytes so I'm going to cache that for one hour if I do that as an ISP the",
    "start": "1390860",
    "end": "1398030"
  },
  {
    "text": "users that are consuming these streams will see the stream looping every 16 minutes so you can also use segment name",
    "start": "1398030",
    "end": "1404600"
  },
  {
    "text": "randomization append a hash or an md5 to the end of that to make sure that you",
    "start": "1404600",
    "end": "1409640"
  },
  {
    "text": "don't get this repeat and of course with all of this have a look at player metrics work out which are your problem",
    "start": "1409640",
    "end": "1415880"
  },
  {
    "text": "is peas which your problem CD ends now if you find a problem CD and what do you do about it",
    "start": "1415880",
    "end": "1421040"
  },
  {
    "text": "well using a multi CDN solution might be one way for you to do that there's a",
    "start": "1421040",
    "end": "1427190"
  },
  {
    "text": "couple of schools of thought you can build one yourself you can buy one and there are some really good ones",
    "start": "1427190",
    "end": "1432590"
  },
  {
    "text": "available but often that CDN decision has to be tied into your metadata and",
    "start": "1432590",
    "end": "1438050"
  },
  {
    "text": "your metadata is coupled to your platform so using a third party can be a little difficult so just to go over the",
    "start": "1438050",
    "end": "1445690"
  },
  {
    "text": "approaches there first of all you have dns-based I hate CDN dots vaad platform",
    "start": "1445690",
    "end": "1452600"
  },
  {
    "text": "comm and based on my resolution where my resolver I will get one or another CDN I",
    "start": "1452600",
    "end": "1458030"
  },
  {
    "text": "might make this decision based on geo this uses in China this uses in the US I",
    "start": "1458030",
    "end": "1463040"
  },
  {
    "text": "might make it based on latency from that resolver or I could even use a partner products",
    "start": "1463040",
    "end": "1468290"
  },
  {
    "text": "for instance can be like sued exes who can do intelligent routing to the a s level or to the subnet level but all of",
    "start": "1468290",
    "end": "1475910"
  },
  {
    "text": "this is dns-based it means that I need to have the same file URL across all of my CD ends and that's often not possible",
    "start": "1475910",
    "end": "1482980"
  },
  {
    "text": "so I could do a set shouting instead 50% of my assets on this one 50 percent on",
    "start": "1482980",
    "end": "1488270"
  },
  {
    "text": "that but this doesn't give me the flexibility to respond to issues live because often I'll have to update my",
    "start": "1488270",
    "end": "1494900"
  },
  {
    "text": "entire CMS but every vodka platform has",
    "start": "1494900",
    "end": "1500240"
  },
  {
    "text": "some sort of asset info service so why not tie it into there and make that piece CD anywhere so just to talk",
    "start": "1500240",
    "end": "1507260"
  },
  {
    "text": "about that and look at what that piece is I press play on a cat video it makes a request to an asset info service that",
    "start": "1507260",
    "end": "1514429"
  },
  {
    "text": "will then give me a stream URL and m3u8 might do some authentication and authorization and then my player will go",
    "start": "1514429",
    "end": "1521240"
  },
  {
    "text": "over to the CDN and request that file now this is a great place for us to sideload some pieces of data in you will",
    "start": "1521240",
    "end": "1527960"
  },
  {
    "text": "do a get request for an asset URL I will get that back but I could also for",
    "start": "1527960",
    "end": "1533059"
  },
  {
    "text": "instance load in different aunt providers based on the country or I could even do country codes to do geo",
    "start": "1533059",
    "end": "1539090"
  },
  {
    "text": "restriction for instance if I'm not in the Isle of Man Singapore or Indonesia my player will actually say geo block",
    "start": "1539090",
    "end": "1544970"
  },
  {
    "text": "here so you're familiar with this architecture I've put it up three times",
    "start": "1544970",
    "end": "1550820"
  },
  {
    "text": "now once the files ingested you've got that data you have the metadata in DynamoDB",
    "start": "1550820",
    "end": "1555890"
  },
  {
    "text": "you know how this fits together so why not tie this in to that same asset info service and say okay 40% of my users go",
    "start": "1555890",
    "end": "1564080"
  },
  {
    "text": "to CDN a 40% go to CDM be all of this can be joined together using s3 as three",
    "start": "1564080",
    "end": "1572420"
  },
  {
    "text": "axes the single authoritative source of assets across all of these pieces and actually don't even run a server at all",
    "start": "1572420",
    "end": "1579640"
  },
  {
    "text": "do this piece with lambda an api gateway this is a very simple context 'less easy",
    "start": "1579640",
    "end": "1586730"
  },
  {
    "text": "to swap out piece so I've got my files",
    "start": "1586730",
    "end": "1592429"
  },
  {
    "start": "1590000",
    "end": "1823000"
  },
  {
    "text": "in down all the way through to encoding consumption so now I need to think about the player and how people will actually",
    "start": "1592429",
    "end": "1598340"
  },
  {
    "text": "watch and the piece that I've chosen to talk about here is around concurrency management concurrency management is",
    "start": "1598340",
    "end": "1606580"
  },
  {
    "text": "something often given to us by Studios or by the business the studios will say sorry",
    "start": "1606580",
    "end": "1612679"
  },
  {
    "text": "OTT operator every user can only watch this twice or at the same time two",
    "start": "1612679",
    "end": "1619160"
  },
  {
    "text": "streams and as business what you want to restrict is cross account sharing you",
    "start": "1619160",
    "end": "1624200"
  },
  {
    "text": "want to make sure that in the event of me sharing my account with five people it doesn't exceed limits so there's some",
    "start": "1624200",
    "end": "1632000"
  },
  {
    "text": "pretty common approaches with this player heartbeats or subscription-based",
    "start": "1632000",
    "end": "1637429"
  },
  {
    "text": "thresholds and away those player heartbeats work generally is my player my device sends a small packet of data",
    "start": "1637429",
    "end": "1644480"
  },
  {
    "text": "in this case it'll go through two Kinesis and maybe I do some lambda functions on there it's easy to",
    "start": "1644480",
    "end": "1650630"
  },
  {
    "text": "implement in basically any any kind of player as it's just responding to a device an event every five seconds every",
    "start": "1650630",
    "end": "1657559"
  },
  {
    "text": "ten seconds the data in this will look generally like an asset ID that might be",
    "start": "1657559",
    "end": "1663170"
  },
  {
    "text": "the full URL it might just be a small hash you'll have a user ID or something identifiable about me then you'll have a",
    "start": "1663170",
    "end": "1670850"
  },
  {
    "text": "timestamp how far I got through this asset but also we can load in extra bits of data the device ID itself so",
    "start": "1670850",
    "end": "1677570"
  },
  {
    "text": "something a unique fingerprint or the device type you know Amazon fire or my iPhone or any piece like that",
    "start": "1677570",
    "end": "1684340"
  },
  {
    "text": "and now we've got this data so what can we do with it while it's going into",
    "start": "1684340",
    "end": "1689660"
  },
  {
    "text": "let's say dynamodb we keep a common state of what each player is doing out in the wild at this point our license",
    "start": "1689660",
    "end": "1696500"
  },
  {
    "text": "server can actually make a decision and it can say well alex has five streams going at the moment and he's only",
    "start": "1696500",
    "end": "1701510"
  },
  {
    "text": "permitted to what for so I will stop issuing new licenses I can make that decision entirely in the DRM server all",
    "start": "1701510",
    "end": "1709370"
  },
  {
    "text": "of this can be done very simply as well because you've already got the data coming in from that player now if you've",
    "start": "1709370",
    "end": "1716690"
  },
  {
    "text": "got the data coming in from the player what other things can you do with it well for instance you could track drop off I get halfway through an asset and",
    "start": "1716690",
    "end": "1723020"
  },
  {
    "text": "I'm like it's not really that interesting shut down you can highlight popular bits of content they love this",
    "start": "1723020",
    "end": "1728720"
  },
  {
    "text": "bit so much they rewound and watched it again or you can also say many people fast forwarded past this",
    "start": "1728720",
    "end": "1735380"
  },
  {
    "text": "piece they didn't like this scene they found it too gory too violent too not funny they skipped through you can feed",
    "start": "1735380",
    "end": "1741860"
  },
  {
    "text": "this back into content developments storing it in redshift and allowing analysis over the top of that from a",
    "start": "1741860",
    "end": "1749720"
  },
  {
    "text": "business point of view you can syndicate this data live from DynamoDB streams into an ad server you can make a",
    "start": "1749720",
    "end": "1756110"
  },
  {
    "text": "decision not just on the demographic of European male under 30 but also skip",
    "start": "1756110",
    "end": "1761630"
  },
  {
    "text": "this section watch this section you can make more intelligent Sam's decisions there and you can also do",
    "start": "1761630",
    "end": "1767000"
  },
  {
    "text": "recommendations based on demographic so this feeds into redshift it feeds then into machine learning and gives you a",
    "start": "1767000",
    "end": "1773210"
  },
  {
    "text": "wider composite for how you make this decision now you can do good as well as evil with",
    "start": "1773210",
    "end": "1779810"
  },
  {
    "text": "this piece you could decide my users are already sending me this data I'm going home I'm on the subway and while I press",
    "start": "1779810",
    "end": "1787430"
  },
  {
    "text": "pause and I put my phone in my pocket and I want to watch it later on when I press play on my laptop why doesn't my",
    "start": "1787430",
    "end": "1794180"
  },
  {
    "text": "player just make a call to the same system and say hey has he been watching anything recently I'm on a different",
    "start": "1794180",
    "end": "1799730"
  },
  {
    "text": "device that same state can then we synced back to the player and the player will then go okay there you go",
    "start": "1799730",
    "end": "1805190"
  },
  {
    "text": "he was watching this far this asset this timestamp and if we want to enforce",
    "start": "1805190",
    "end": "1811580"
  },
  {
    "text": "business rules at this point it's quite easy to say concurrency management here without DRM you can easily apply the",
    "start": "1811580",
    "end": "1819650"
  },
  {
    "text": "same subscription the same tear management there so at this point I'd",
    "start": "1819650",
    "end": "1824720"
  },
  {
    "start": "1823000",
    "end": "2144000"
  },
  {
    "text": "like to hand over to my co-presenter video we'll talk a little bit about go 90 and the Verizon platform",
    "start": "1824720",
    "end": "1831460"
  },
  {
    "text": "thank you Alex morning afternoon for probably those of you who attended the",
    "start": "1838340",
    "end": "1843360"
  },
  {
    "text": "party last night it's more like a early a.m. I guess so I wanted to talk about",
    "start": "1843360",
    "end": "1848899"
  },
  {
    "text": "go 90 this is a new mobile first over-the-top service from Verizon",
    "start": "1848899",
    "end": "1855600"
  },
  {
    "text": "recently launched just a couple of weeks old available in the App Store for phone",
    "start": "1855600",
    "end": "1860879"
  },
  {
    "text": "and tablets I have a few screenshots",
    "start": "1860879",
    "end": "1866070"
  },
  {
    "text": "here just to introduce the product to you before I dive into the architecture it's basically a social network built in",
    "start": "1866070",
    "end": "1875159"
  },
  {
    "text": "users come there sign up set up a profile follow content follow other",
    "start": "1875159",
    "end": "1880710"
  },
  {
    "text": "users within the platform and there is a social feed that's populated with the",
    "start": "1880710",
    "end": "1887249"
  },
  {
    "text": "content that interests you the most based on what others are watching or what you have been doing within the",
    "start": "1887249",
    "end": "1893159"
  },
  {
    "text": "application itself there are a couple of interesting features that the application has there are there is a",
    "start": "1893159",
    "end": "1901049"
  },
  {
    "text": "concept of crew it's more like a private chat room where you can have",
    "start": "1901049",
    "end": "1906269"
  },
  {
    "text": "conversation about a piece of content or you can clip a piece of an asset that interests you and share it out to the",
    "start": "1906269",
    "end": "1912659"
  },
  {
    "text": "external social network I urge you guys to go check it out and that's really",
    "start": "1912659",
    "end": "1918450"
  },
  {
    "text": "about the marketing pitch I'll stop there and I'll talk about the architecture now so coming back to the",
    "start": "1918450",
    "end": "1924749"
  },
  {
    "text": "same pipeline that Alex introduced to us I want to focus on the three green boxes",
    "start": "1924749",
    "end": "1931740"
  },
  {
    "text": "here and the focus is going to be more around how we built the backend web",
    "start": "1931740",
    "end": "1937830"
  },
  {
    "text": "services platform for metadata ingestion delivery and how do we handle user data",
    "start": "1937830",
    "end": "1943580"
  },
  {
    "text": "at a high level it's back and platform is comprises of about a couple of",
    "start": "1943580",
    "end": "1950009"
  },
  {
    "text": "hundred independent services or systems they range from client facing services",
    "start": "1950009",
    "end": "1955139"
  },
  {
    "text": "to add platform to Big Data Platform many of these services go through deployments on a weekly basis so it's a",
    "start": "1955139",
    "end": "1962190"
  },
  {
    "text": "constantly changing cloud environment in AWS",
    "start": "1962190",
    "end": "1967610"
  },
  {
    "text": "Verizon being Verizon Wireless which is probably what most of you are familiar with it's about a hundred million",
    "start": "1967610",
    "end": "1973710"
  },
  {
    "text": "customer base so that's the primary target audience though the app itself is not restricted just for Verizon",
    "start": "1973710",
    "end": "1979590"
  },
  {
    "text": "customers the expectation is the platform is highly reliable available",
    "start": "1979590",
    "end": "1985860"
  },
  {
    "text": "it's snappy to use so that api's need to respond really really fast so let's",
    "start": "1985860",
    "end": "1992669"
  },
  {
    "text": "start with the API back-end services",
    "start": "1992669",
    "end": "1997700"
  },
  {
    "text": "what does a typical stack looked like it's a JVM based stack we are heavy",
    "start": "1997700",
    "end": "2004879"
  },
  {
    "text": "users of Scala pretty much all of the services is Scala code play and spray",
    "start": "2004879",
    "end": "2011149"
  },
  {
    "text": "based web frameworks and the boxes that I have around here are a design pattern",
    "start": "2011149",
    "end": "2020240"
  },
  {
    "text": "that we have used to think about solving common problems across services so if",
    "start": "2020240",
    "end": "2026690"
  },
  {
    "text": "you have to instrument your application to generate app level metrics if you have runtime configuration elements you",
    "start": "2026690",
    "end": "2033019"
  },
  {
    "text": "want to pass to the service instance how do you handle setting log level and consistent policy on rotating the logs",
    "start": "2033019",
    "end": "2040159"
  },
  {
    "text": "how do you dos service to service communication these are common problems that every individual service has to",
    "start": "2040159",
    "end": "2048108"
  },
  {
    "text": "deal with so we as a team decided to have common libraries that we generate",
    "start": "2048109",
    "end": "2054200"
  },
  {
    "text": "that all the dev teams use and that has worked really well for us some of these",
    "start": "2054200",
    "end": "2060648"
  },
  {
    "text": "libraries are open sourced as well I urge you guys to go check out on queue",
    "start": "2060649",
    "end": "2065929"
  },
  {
    "text": "in github it looks a little cloudy but",
    "start": "2065929",
    "end": "2074000"
  },
  {
    "text": "I'll go through this architecture and steps this is really a pretty high-level view of the entire back-end stack so",
    "start": "2074000",
    "end": "2081290"
  },
  {
    "text": "moving from the left the expectation on some of the client facing services is",
    "start": "2081290",
    "end": "2086990"
  },
  {
    "text": "that they have a very low latency and very high availability and as you move",
    "start": "2086990",
    "end": "2093290"
  },
  {
    "text": "to the right of the deck some of the back-end bad systems can tolerate a",
    "start": "2093290",
    "end": "2099109"
  },
  {
    "text": "little bit more downtime the entire stack is running on",
    "start": "2099109",
    "end": "2104160"
  },
  {
    "text": "ec2 instances we reuse Auto scale group ELB no surprises there route 53 for",
    "start": "2104160",
    "end": "2111480"
  },
  {
    "text": "managing our DNS entry points and where we need additional fail overs we used route 53 and set up additional SRV",
    "start": "2111480",
    "end": "2118860"
  },
  {
    "text": "records as well we do health check at the ELB layer as I said we are a JVM",
    "start": "2118860",
    "end": "2124820"
  },
  {
    "text": "stack so one of the common problems we see is our Java process dying so doing",
    "start": "2124820",
    "end": "2132060"
  },
  {
    "text": "the health check at the ELB level has allowed us to face the new instances and we used the hook to take a core down and",
    "start": "2132060",
    "end": "2139230"
  },
  {
    "text": "analyze later what's going on with those",
    "start": "2139230",
    "end": "2143240"
  },
  {
    "text": "let's deep dive go a little bit piece by piece and talk through the different",
    "start": "2144740",
    "end": "2149970"
  },
  {
    "text": "architecture and the design pattern here my focus is on this session is primarily",
    "start": "2149970",
    "end": "2156240"
  },
  {
    "text": "going to be on the systems that are client facing that which serves the user",
    "start": "2156240",
    "end": "2163440"
  },
  {
    "text": "requests when it comes to video and audio alex covered a lot about that architecture is primarily the storage",
    "start": "2163440",
    "end": "2170250"
  },
  {
    "text": "pieces and I'm not going to be talking about that other than saying that it's serpro CDN so when it comes to these",
    "start": "2170250",
    "end": "2177510"
  },
  {
    "text": "edge services what what is their goal their primary goal is to ensure that",
    "start": "2177510",
    "end": "2183150"
  },
  {
    "text": "they talk the internal systems take the data back do the business logic and",
    "start": "2183150",
    "end": "2188670"
  },
  {
    "text": "really service the client requests as quickly as possible that's really the",
    "start": "2188670",
    "end": "2195090"
  },
  {
    "text": "goal when it comes to taking the data and serving the client requests as",
    "start": "2195090",
    "end": "2200670"
  },
  {
    "text": "quickly as possible need to ensure that there is an ability to cache we have done really well just doing instance",
    "start": "2200670",
    "end": "2207300"
  },
  {
    "text": "level caching we don't really have a lot of complexity needing any kind of distributed cache and that decision has",
    "start": "2207300",
    "end": "2213900"
  },
  {
    "text": "eliminated another piece of infrastructure that we have to operate and understand in our system it's worked",
    "start": "2213900",
    "end": "2219480"
  },
  {
    "text": "really well for us and depending on how different the client user experiences",
    "start": "2219480",
    "end": "2224670"
  },
  {
    "text": "are and API and the data needs are we create one of those edge services so",
    "start": "2224670",
    "end": "2230850"
  },
  {
    "text": "those hundred plus micro services that I talked about are really all hidden inside they are not exposed to the",
    "start": "2230850",
    "end": "2236980"
  },
  {
    "text": "client directly and it's really these edge services which are not true to rest these are really more api's that are",
    "start": "2236980",
    "end": "2243820"
  },
  {
    "text": "geared toward how the application needs to get access to the data set from the",
    "start": "2243820",
    "end": "2248890"
  },
  {
    "text": "backend system one design pattern important thing to keep in mind on these",
    "start": "2248890",
    "end": "2254950"
  },
  {
    "text": "edge services is they need to really not be dependent on systems that have",
    "start": "2254950",
    "end": "2262480"
  },
  {
    "text": "failure endpoints for example the governor that I listed here which is our",
    "start": "2262480",
    "end": "2267910"
  },
  {
    "text": "go 90 application facing edge endpoint has no persistent store whatsoever it's",
    "start": "2267910",
    "end": "2274360"
  },
  {
    "text": "really all done at the back in micro services this is free of any kind of",
    "start": "2274360",
    "end": "2279610"
  },
  {
    "text": "persistent store dependency that is also a need as these instances come up to",
    "start": "2279610",
    "end": "2285070"
  },
  {
    "text": "cache majority part of the catalog and serve it to the client so as the first",
    "start": "2285070",
    "end": "2291190"
  },
  {
    "text": "set of instances come up they talk to the back-end system fetch the catalog store it in the cache and write it out a",
    "start": "2291190",
    "end": "2297310"
  },
  {
    "text": "CDN so as this cluster scales out the new instances that come up actually",
    "start": "2297310",
    "end": "2303760"
  },
  {
    "text": "fetch the data from CDN to bootstrap themselves rather than expecting the",
    "start": "2303760",
    "end": "2308950"
  },
  {
    "text": "back-end system to the app so we have had instances where the catalog system goes down and it became really hard for",
    "start": "2308950",
    "end": "2315340"
  },
  {
    "text": "us to bring new instances up so that again putting the design pattern eliminating any infrastructure",
    "start": "2315340",
    "end": "2321630"
  },
  {
    "text": "dependency at this layer is really critical these instances also run on",
    "start": "2321630",
    "end": "2327790"
  },
  {
    "text": "instances that support enhanced networking at load that's really",
    "start": "2327790",
    "end": "2333670"
  },
  {
    "text": "critical and important it makes a world of difference so primarily its c 3 c 4",
    "start": "2333670",
    "end": "2339310"
  },
  {
    "text": "class instances when it comes to this and the next layer so let's go through",
    "start": "2339310",
    "end": "2344620"
  },
  {
    "start": "2344000",
    "end": "2649000"
  },
  {
    "text": "the layer below this layer is all about these independent services that have a",
    "start": "2344620",
    "end": "2350260"
  },
  {
    "text": "specific purpose when it comes to drm service it only cares about who has",
    "start": "2350260",
    "end": "2356080"
  },
  {
    "text": "access to what type of keys and serves those keys when it comes to the profile service it knows how to manage user",
    "start": "2356080",
    "end": "2362620"
  },
  {
    "text": "profiles the social graph behind that and that's pretty much all that system does search system for",
    "start": "2362620",
    "end": "2369840"
  },
  {
    "text": "example again is something that knows how to serve the catalog data to the",
    "start": "2369840",
    "end": "2376710"
  },
  {
    "text": "requests that are coming in and that's really all the domain that that service does so on and so forth right there are",
    "start": "2376710",
    "end": "2384750"
  },
  {
    "text": "lots and lots and lots of these little systems in the backend and some of you who are building micro services for a",
    "start": "2384750",
    "end": "2390450"
  },
  {
    "text": "similar domain probably can catch similar terms that you probably are using or naming your systems as well the",
    "start": "2390450",
    "end": "2401780"
  },
  {
    "text": "picture doesn't look this pretty in runtime right at runtime the dependencies are a lot more complex you",
    "start": "2401780",
    "end": "2409980"
  },
  {
    "text": "have all sorts of interactions going on between these systems back to the",
    "start": "2409980",
    "end": "2415170"
  },
  {
    "text": "pattern that I talked about in the common library one of the library the service to service library you've spent",
    "start": "2415170",
    "end": "2421440"
  },
  {
    "text": "a lot of time getting that right that library does one important function and",
    "start": "2421440",
    "end": "2428130"
  },
  {
    "text": "that is circuit breakers oftentimes at scale your dependent system that you're",
    "start": "2428130",
    "end": "2433800"
  },
  {
    "text": "calling to is either slow or not available how do you deal with timeouts how do you deal with retries how do you",
    "start": "2433800",
    "end": "2441180"
  },
  {
    "text": "put a backup strategy in your retry so you're not ddossing your your own system",
    "start": "2441180",
    "end": "2446670"
  },
  {
    "text": "that has happened to us too so these kind of things to think about and do it",
    "start": "2446670",
    "end": "2452130"
  },
  {
    "text": "is really important across all services so solving it once and using it end",
    "start": "2452130",
    "end": "2457170"
  },
  {
    "text": "times has worked really well we have extended the same service to service",
    "start": "2457170",
    "end": "2463140"
  },
  {
    "text": "library to do things like our a/b testing experimentation at the services layer canary deployments as we will take",
    "start": "2463140",
    "end": "2470490"
  },
  {
    "text": "new bills and take them to production so it's really worked out well for us the",
    "start": "2470490",
    "end": "2477780"
  },
  {
    "text": "next layer down is the persistent layer a probably no surprise here we are heavy",
    "start": "2477780",
    "end": "2482790"
  },
  {
    "text": "on using no sequel database majority of the critical systems microservices that",
    "start": "2482790",
    "end": "2489330"
  },
  {
    "text": "I talked about use Cassandra database we started off using dynamodb primarily two reasons we had to",
    "start": "2489330",
    "end": "2498050"
  },
  {
    "text": "get out of dynamo at the time we were using dynamo did not have support for secondary indexes and some of the item",
    "start": "2498050",
    "end": "2506210"
  },
  {
    "text": "limits in the database were hard for us so it kind of made our application logic",
    "start": "2506210",
    "end": "2511970"
  },
  {
    "text": "much more complex than it needed to be so we kind of phased out of that and started using our own Cassandra",
    "start": "2511970",
    "end": "2518630"
  },
  {
    "text": "deployments outside of Cassandra there",
    "start": "2518630",
    "end": "2523790"
  },
  {
    "text": "are a few other data sources or databases that we use no surprise there that is a s3 icon things like metadata",
    "start": "2523790",
    "end": "2532010"
  },
  {
    "text": "images or people profile images s3 is a great store to store them and serve out",
    "start": "2532010",
    "end": "2537530"
  },
  {
    "text": "of CDN so we use that our search metadata cluster is elastic search",
    "start": "2537530",
    "end": "2543160"
  },
  {
    "text": "that's another thing that we operate and we have optimized it for scale and I'll",
    "start": "2543160",
    "end": "2549830"
  },
  {
    "text": "talk about use case in a little bit in the context of metadata again",
    "start": "2549830",
    "end": "2555200"
  },
  {
    "text": "back to the common library pattern that I talked about we don't just expose the Java driver for",
    "start": "2555200",
    "end": "2561410"
  },
  {
    "text": "Cassandra at our application layer we have wrapped it with our library our own",
    "start": "2561410",
    "end": "2566990"
  },
  {
    "text": "library an abstraction layer and there are two primary things that this layer gives us one is if the nodes are not",
    "start": "2566990",
    "end": "2575030"
  },
  {
    "text": "available or slow how do you deal with that back to the circuit breaker concept that I talked about on the s2s case and",
    "start": "2575030",
    "end": "2581830"
  },
  {
    "text": "the second thing it does is really metrics around the cassandra performance",
    "start": "2581830",
    "end": "2587270"
  },
  {
    "text": "and the latency we have built our own monitoring infrastructure that allows us to take these and be able to set up",
    "start": "2587270",
    "end": "2594020"
  },
  {
    "text": "alerts so this library solves it in one place that all the services use the last",
    "start": "2594020",
    "end": "2602960"
  },
  {
    "text": "layer is really the backend system some of these grey boxes are not single services they are fairly complex",
    "start": "2602960",
    "end": "2609440"
  },
  {
    "text": "workflows these back-end services all you know serve also as a system of truth",
    "start": "2609440",
    "end": "2616400"
  },
  {
    "text": "especially in the case of the metadata we don't we can lose the front-end",
    "start": "2616400",
    "end": "2621740"
  },
  {
    "text": "systems if we want and from a DR standpoint it's very easy for us to get to a known state",
    "start": "2621740",
    "end": "2627309"
  },
  {
    "text": "from the backend systems that's not the case for the lot of the user-generated data but from the metadata standpoint",
    "start": "2627309",
    "end": "2633159"
  },
  {
    "text": "the backend systems access system of truth so I will talk next about these",
    "start": "2633159",
    "end": "2639640"
  },
  {
    "text": "two pieces of the infrastructure let's start with metadata how do we ingest how",
    "start": "2639640",
    "end": "2645909"
  },
  {
    "text": "do we store how do we deliver metadata what's metadata it--so it's a very",
    "start": "2645909",
    "end": "2652719"
  },
  {
    "start": "2649000",
    "end": "2687000"
  },
  {
    "text": "common term so I just wanted to make sure that we are in sync when we talk about metadata if you are familiar with",
    "start": "2652719",
    "end": "2658029"
  },
  {
    "text": "IMDB data set that's what I'm talking about metadata that is a title that is a work of art that is a description of a",
    "start": "2658029",
    "end": "2664509"
  },
  {
    "text": "movie or a TV show or a video show that comes into your system that is possible",
    "start": "2664509",
    "end": "2669609"
  },
  {
    "text": "waiting there are actors artists cast and crew type of information this is one",
    "start": "2669609",
    "end": "2675219"
  },
  {
    "text": "of my to-do list to watch this weekend how many people watch this movie it's a good recommendation good whew thank you",
    "start": "2675219",
    "end": "2686279"
  },
  {
    "text": "all right so the left side is data flow right side is image flow and I'll go",
    "start": "2686279",
    "end": "2692859"
  },
  {
    "start": "2687000",
    "end": "2916000"
  },
  {
    "text": "through these in steps again this is a system that's scales with content one of",
    "start": "2692859",
    "end": "2699609"
  },
  {
    "text": "the very few systems that just scales with content and has no user impact whatsoever so let's start with the",
    "start": "2699609",
    "end": "2707019"
  },
  {
    "text": "content types that go 90 supports the video on-demand content is probably the",
    "start": "2707019",
    "end": "2712599"
  },
  {
    "text": "most familiar different Studios give different content to us and when you",
    "start": "2712599",
    "end": "2718029"
  },
  {
    "text": "talk about live content I'm talking about live music shows or light sports",
    "start": "2718029",
    "end": "2723099"
  },
  {
    "text": "that's going on and the linear side of the content is that your Comedy Central ESPN NFL games that we carry in the",
    "start": "2723099",
    "end": "2730179"
  },
  {
    "text": "platform what do we do to ingest the metadata within this content there are",
    "start": "2730179",
    "end": "2735699"
  },
  {
    "text": "primarily three sets of workflows that we go through in bringing this data set into our front-end systems one is a",
    "start": "2735699",
    "end": "2743380"
  },
  {
    "text": "programmatic workflow that is constant updates and schedules that go on with",
    "start": "2743380",
    "end": "2748839"
  },
  {
    "text": "this metadata so there's a programmatic workflow that goes through and processes this and there is a Content operations",
    "start": "2748839",
    "end": "2756009"
  },
  {
    "text": "workflow not all studios are equal when they say the data to us the images don't look",
    "start": "2756009",
    "end": "2761950"
  },
  {
    "text": "very good sometimes that are typos sometimes there is missing description so we have a Content Operations Group",
    "start": "2761950",
    "end": "2769180"
  },
  {
    "text": "that has a user interface to consume look at the catalogue curate the content",
    "start": "2769180",
    "end": "2774430"
  },
  {
    "text": "fix the content and push it on to the front-end systems there are other things",
    "start": "2774430",
    "end": "2779440"
  },
  {
    "text": "that are needed for the operations as well if you look at the application you will see specifically curated set of",
    "start": "2779440",
    "end": "2786339"
  },
  {
    "text": "content that we push to our users or recommended content so that is the merchandising and the promotional",
    "start": "2786339",
    "end": "2792040"
  },
  {
    "text": "workflows that goes through this pipeline as well and then last but not least important is our provisioning",
    "start": "2792040",
    "end": "2797920"
  },
  {
    "text": "workflow that basically says who can watch what content and for how long",
    "start": "2797920",
    "end": "2803349"
  },
  {
    "text": "that's your grants your rights your license whatever you want to call them",
    "start": "2803349",
    "end": "2808650"
  },
  {
    "text": "the layer below is code named Nile for a reason our earlier art architecture used",
    "start": "2809400",
    "end": "2815890"
  },
  {
    "text": "to be scheduled based and he had a lot of trouble ensuring that we had constant",
    "start": "2815890",
    "end": "2822460"
  },
  {
    "text": "flow of these datasets going into the front end systems so what this layer does is take the raw data normalize it",
    "start": "2822460",
    "end": "2829630"
  },
  {
    "text": "combine it with the curated content stages to push to the front-end systems and the next layer is River as you can",
    "start": "2829630",
    "end": "2840369"
  },
  {
    "text": "imagine Nile River so what that does is that it's a search River that takes the data that's ready to be discoverable and",
    "start": "2840369",
    "end": "2847540"
  },
  {
    "text": "these are databases by the way so we basically read listen to the apps lock changes and these processes run as",
    "start": "2847540",
    "end": "2854470"
  },
  {
    "text": "part of listening to the changes that are coming through the apps log on MongoDB all this does is takes the data",
    "start": "2854470",
    "end": "2861160"
  },
  {
    "text": "combines it with the grants of the content and pushes it to the front end systems and since people follow content",
    "start": "2861160",
    "end": "2868089"
  },
  {
    "text": "they want to be notified of interesting things that comes to them so there's another workflow to take it to the feeds",
    "start": "2868089",
    "end": "2874720"
  },
  {
    "text": "of the users as well we have taken the same approach to also build additional",
    "start": "2874720",
    "end": "2880450"
  },
  {
    "text": "rivers one good use case is what is the user watching is a front-end analytics",
    "start": "2880450",
    "end": "2886660"
  },
  {
    "text": "problem how do you on the backend ensure we correlate that with the catalog index",
    "start": "2886660",
    "end": "2893000"
  },
  {
    "text": "IDs for example the image workflow is fairly straightforward it's Auto scale",
    "start": "2893000",
    "end": "2899990"
  },
  {
    "text": "group based workers that spin up and down based on how many images hit our",
    "start": "2899990",
    "end": "2905060"
  },
  {
    "text": "system sometimes that is a lot some time that is none so these are just easy two instances that even takes it to s3 serve",
    "start": "2905060",
    "end": "2911900"
  },
  {
    "text": "by a CDN let me talk a little bit about the BI pipeline four separate pipeline",
    "start": "2911900",
    "end": "2919100"
  },
  {
    "start": "2916000",
    "end": "3079000"
  },
  {
    "text": "here let's start with the data collection the goal for this pipeline is to take the data from the device and the",
    "start": "2919100",
    "end": "2925700"
  },
  {
    "text": "services to the back-end systems as quickly as possible we have a primarily a Kafka pipe that's running on mesos we",
    "start": "2925700",
    "end": "2935420"
  },
  {
    "text": "have use camus which is AOL by LinkedIn by the way so we're looking into moving to their newer version of the library",
    "start": "2935420",
    "end": "2942080"
  },
  {
    "text": "that runs in EMR all the dowsers consumes these events out of Kafka and",
    "start": "2942080",
    "end": "2947750"
  },
  {
    "text": "pushes it to s3 as quickly as possible at scale this there are a few challenges",
    "start": "2947750",
    "end": "2954220"
  },
  {
    "text": "in this pipeline right so we have done a couple of things on the client side to batch the event request so you're not",
    "start": "2954220",
    "end": "2960590"
  },
  {
    "text": "hitting the back-end for every event that needs to get out and we also have adopted an avro format for a couple of",
    "start": "2960590",
    "end": "2968000"
  },
  {
    "text": "reasons helps us to have a schema to quickly validate the payload before it's sent up and it also gives a much more",
    "start": "2968000",
    "end": "2975110"
  },
  {
    "text": "condensed form rather than pushing raw JSON all the way to the backend batch",
    "start": "2975110",
    "end": "2981560"
  },
  {
    "text": "processing reads from s3 we have simple workflow orchestrated jobs for doing things like who's watching what how do",
    "start": "2981560",
    "end": "2988700"
  },
  {
    "text": "we segment our users how do we do quality of service around how many black",
    "start": "2988700",
    "end": "2994640"
  },
  {
    "text": "frames are showing in the phone do we have audio video sync issues these are things that we compute and once the data",
    "start": "2994640",
    "end": "3002320"
  },
  {
    "text": "is computed it goes to our redshift for reporting and analysis and we also pass",
    "start": "3002320",
    "end": "3008170"
  },
  {
    "text": "the data out to our monitoring pipeline which is elasticsearch back in with Cabana dashboards and we have a",
    "start": "3008170",
    "end": "3014200"
  },
  {
    "text": "homegrown solution to set up alerts and threshold from that solution the third",
    "start": "3014200",
    "end": "3020470"
  },
  {
    "text": "pipeline is our real time that spark cluster running on mesos be used both",
    "start": "3020470",
    "end": "3025720"
  },
  {
    "text": "marathon for long-running jobs and kronos for bad jobs things like computing popular",
    "start": "3025720",
    "end": "3031490"
  },
  {
    "text": "content what's trending in the platform is done through this pipeline we have",
    "start": "3031490",
    "end": "3037040"
  },
  {
    "text": "used the same pipeline for also running some of our machine learning algorithms for recommendation so if we are",
    "start": "3037040",
    "end": "3043250"
  },
  {
    "text": "computing the there is a more like this rail you'll see if you navigate to a content we don't want to recommend the",
    "start": "3043250",
    "end": "3049280"
  },
  {
    "text": "thing that you just watched so we want to be able to get access to that data set and filter it in real time before we",
    "start": "3049280",
    "end": "3055610"
  },
  {
    "text": "push that or publish that to the application so those kind of things happen here again the same story goes to",
    "start": "3055610",
    "end": "3061760"
  },
  {
    "text": "data warehouse and it also goes to our monitoring infrastructure redshift has",
    "start": "3061760",
    "end": "3069950"
  },
  {
    "text": "worked really really well for us scales beautiful fairly stable so I highly recommend you guys to look at",
    "start": "3069950",
    "end": "3076370"
  },
  {
    "text": "that as a date of our house solution with that I want to wrap up with some of",
    "start": "3076370",
    "end": "3081830"
  },
  {
    "start": "3079000",
    "end": "3285000"
  },
  {
    "text": "the best practices do invest on a load testing infrastructure it's really",
    "start": "3081830",
    "end": "3087980"
  },
  {
    "text": "important it's really important to understand how the API is get used from your application rather than poking",
    "start": "3087980",
    "end": "3094670"
  },
  {
    "text": "every little API and trying to optimize it to the core so what we have done is thinking through how the application",
    "start": "3094670",
    "end": "3100940"
  },
  {
    "text": "calls different api's think through them as a scenario as a whole system model",
    "start": "3100940",
    "end": "3106250"
  },
  {
    "text": "them in our load test and then go and optimize the bottlenecks that's the only way to go about it",
    "start": "3106250",
    "end": "3112120"
  },
  {
    "text": "deploy often is something that I really urge the dev teams to do there is a",
    "start": "3112120",
    "end": "3118760"
  },
  {
    "text": "tendency to keep the code working perfect in the laptop and then they get surprised when you push it in you know",
    "start": "3118760",
    "end": "3124580"
  },
  {
    "text": "AWS distributed system all of a sudden it behaves very very different so how do",
    "start": "3124580",
    "end": "3129890"
  },
  {
    "text": "you build that muscle to deploy often even if the feature is not used it there is a it's a good habit to actually take",
    "start": "3129890",
    "end": "3136460"
  },
  {
    "text": "it out and put it in a representative virtualized box and see how it performs",
    "start": "3136460",
    "end": "3141730"
  },
  {
    "text": "microservices as a password or a pretty architecture is good but just thinking about how do you do the development and",
    "start": "3141730",
    "end": "3148610"
  },
  {
    "text": "how do you do deployment at scale of these systems it's really helpful to think about systems are separate things",
    "start": "3148610",
    "end": "3155110"
  },
  {
    "text": "also helps and resourcing and staffing and plan as well the last one is a good one often",
    "start": "3155110",
    "end": "3163240"
  },
  {
    "text": "we start talking about oh I have this perfect database for this perfect use case that we have and I want to use this",
    "start": "3163240",
    "end": "3169630"
  },
  {
    "text": "for my system as how the conversation starts and when we talk about what does it take to operate it at scale and what",
    "start": "3169630",
    "end": "3176800"
  },
  {
    "text": "kind of skill set and what kind of things we need to build as part of that then we start making the right trade-offs so always keep that in mind",
    "start": "3176800",
    "end": "3184869"
  },
  {
    "text": "on how you're going to do this run this infrastructure at scale in AWS those are",
    "start": "3184869",
    "end": "3191290"
  },
  {
    "text": "mine I'm sure Alex has his own set of best practices he would like to close",
    "start": "3191290",
    "end": "3196780"
  },
  {
    "text": "out with so invite him back",
    "start": "3196780",
    "end": "3200580"
  },
  {
    "text": "so with that I'll just summarize and try to wrap up the two pieces so all of",
    "start": "3206090",
    "end": "3212460"
  },
  {
    "text": "those are brilliance and that's based on actually doing it but from the pie in the sky wouldn't this be perfect if",
    "start": "3212460",
    "end": "3217619"
  },
  {
    "text": "everything worked the first time if you can go service by default as Verna said",
    "start": "3217619",
    "end": "3223020"
  },
  {
    "text": "in his keynote yesterday no server is easier to manage than no server where",
    "start": "3223020",
    "end": "3228119"
  },
  {
    "text": "you can avoid lock-in try to avoid committing to a technology that will result in a large operational overhead",
    "start": "3228119",
    "end": "3234990"
  },
  {
    "text": "some point down line be cautious of the outside by that I mean be cautious of",
    "start": "3234990",
    "end": "3241260"
  },
  {
    "text": "other things other pieces of your delivery that you can't control whether it's an isp network whether it's a",
    "start": "3241260",
    "end": "3246780"
  },
  {
    "text": "player whether it's a device and if you can if you've already got data coming into your platform reuse it for good use",
    "start": "3246780",
    "end": "3253920"
  },
  {
    "text": "it for giving your customers more features allowing them to do different things and with that please do go build",
    "start": "3253920",
    "end": "3261119"
  },
  {
    "text": "get in touch if you have any problems either talk together AWS people or find me on social media and stalk me you'll",
    "start": "3261119",
    "end": "3267480"
  },
  {
    "text": "do any piece like that and with that I shall say thank you and allow you guys",
    "start": "3267480",
    "end": "3272580"
  },
  {
    "text": "to go before you leave please do remember to complete your evaluations and my cell phone video will be around",
    "start": "3272580",
    "end": "3278880"
  },
  {
    "text": "here or outside for the next five to ten minutes to answer any questions so thank you very much",
    "start": "3278880",
    "end": "3285200"
  }
]