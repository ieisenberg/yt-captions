[
  {
    "start": "0",
    "end": "152000"
  },
  {
    "text": "okay the NTP client down there tells me that it's time I kicked off so hi folks",
    "start": "949",
    "end": "7980"
  },
  {
    "text": "I'm Dave being at AWS for just a shade over three years now helping customers",
    "start": "7980",
    "end": "13799"
  },
  {
    "text": "with their security and compliance requirements being doing security one way or another for a couple of decades",
    "start": "13799",
    "end": "20400"
  },
  {
    "text": "longer than that we have got quite a bit to be getting on with today so um this",
    "start": "20400",
    "end": "25890"
  },
  {
    "text": "is whoops so um I'm going to be going at a bit of a rate hope hope you're ok with that and",
    "start": "25890",
    "end": "33440"
  },
  {
    "text": "in terms of where this session actually sits we've managed to get ourselves",
    "start": "33440",
    "end": "38579"
  },
  {
    "text": "almost a little mini track on multi account topics here at reinvent this",
    "start": "38579",
    "end": "43980"
  },
  {
    "text": "year so I'm sat there squarely in the middle when it comes to questions and",
    "start": "43980",
    "end": "49530"
  },
  {
    "text": "answers I'm going to hopefully be able to take a few after session but I would",
    "start": "49530",
    "end": "55289"
  },
  {
    "text": "ask you also to look in your calendars on Thursday and see if you can attend one of these Sid 308 sessions right at",
    "start": "55289",
    "end": "62820"
  },
  {
    "text": "the end that's a chalk talk session that all of us presenters from this mini track are doing where hopefully we're going to be",
    "start": "62820",
    "end": "69750"
  },
  {
    "text": "able to take your detailed questions and actually illustrate them scribble on whiteboards and you get the idea so this",
    "start": "69750",
    "end": "78000"
  },
  {
    "text": "wouldn't really be a compliance session if I didn't talk a little bit about standards so I look at compliance from",
    "start": "78000",
    "end": "86970"
  },
  {
    "text": "the point of view of a customer needing to deal with controls that address",
    "start": "86970",
    "end": "92579"
  },
  {
    "text": "someone else's threat model well that's an auditor a regulator someone who they need to actually meet standards of",
    "start": "92579",
    "end": "99090"
  },
  {
    "text": "there's normally a very large overlap between compliance and security but it's",
    "start": "99090",
    "end": "104399"
  },
  {
    "text": "normally not complete since the regulator or whoever has their risk appetite and the customers is going to",
    "start": "104399",
    "end": "110009"
  },
  {
    "text": "be slightly different so what I normally find is certainly for large enterprise",
    "start": "110009",
    "end": "115079"
  },
  {
    "text": "customers they tend to adopt something like ISO 27001 whoops in order to",
    "start": "115079",
    "end": "123840"
  },
  {
    "text": "actually take the standards they need to meet from a regulatory whose perspective and then build upon them and then",
    "start": "123840",
    "end": "130349"
  },
  {
    "text": "sometimes add their own controls as well from the point of view of external",
    "start": "130349",
    "end": "135540"
  },
  {
    "text": "standards that say ws gets audited against there's a fair few of them and",
    "start": "135540",
    "end": "141480"
  },
  {
    "text": "this slide for once isn't actually already out of date at reinvent and in",
    "start": "141480",
    "end": "147060"
  },
  {
    "text": "terms of getting details of audit reports for some of those standards",
    "start": "147060",
    "end": "152240"
  },
  {
    "start": "152000",
    "end": "152000"
  },
  {
    "text": "there's a whole bunch of stuff in the artifact service who here's using our team at quite a few still still a few",
    "start": "152240",
    "end": "160950"
  },
  {
    "text": "who aren't worth a look there's a lot of good stuff particularly in the stock report I find for rum actually giving",
    "start": "160950",
    "end": "168540"
  },
  {
    "text": "information as assessed by third-party auditor regarding how we go about running stuff also there are standards",
    "start": "168540",
    "end": "176940"
  },
  {
    "text": "in there that even if they're not necessarily immediately relevant to you still have information in there that you",
    "start": "176940",
    "end": "183540"
  },
  {
    "text": "may find useful so for example PCI DSS audit standard has a piece in it about how we go about dealing with forensic",
    "start": "183540",
    "end": "191940"
  },
  {
    "text": "investigations in the event of you needing to do one moving on while we get",
    "start": "191940",
    "end": "200220"
  },
  {
    "text": "our services assessed against all these different external standards if you've been doing compliance for any length of",
    "start": "200220",
    "end": "206250"
  },
  {
    "text": "time you'll know full well that if you take compliant thing a and compliant",
    "start": "206250",
    "end": "211829"
  },
  {
    "text": "thing B and plug the two together what comes out at the end isn't necessarily going to be a compliant thing so it is",
    "start": "211829",
    "end": "218489"
  },
  {
    "text": "perfectly possible to build wildly non-compliant things out of compliant parts and we've released along with some",
    "start": "218489",
    "end": "225780"
  },
  {
    "text": "external people such as the nice people at the Center for Internet Security a bunch of assets which hopefully help",
    "start": "225780",
    "end": "232860"
  },
  {
    "text": "will you work through the process to build an environment that will enable you to get a nice smooth ride with your",
    "start": "232860",
    "end": "239040"
  },
  {
    "text": "auditor at the end of it these are actually all predicated currently on",
    "start": "239040",
    "end": "245370"
  },
  {
    "text": "single account environments so particularly in the context of logging we're hoping to look at look at",
    "start": "245370",
    "end": "252930"
  },
  {
    "text": "extending them and refreshing them a bit in the light of certain new things that we've launched this year such as organizations which make things easier",
    "start": "252930",
    "end": "259919"
  },
  {
    "text": "to deal with from a multi Account perspective so onto multi account environments hopefully some of you",
    "start": "259919",
    "end": "266700"
  },
  {
    "text": "being to sound that sama lamaa lacks sessioned that was an early one in the list who went to see Sam earlier today",
    "start": "266700",
    "end": "273560"
  },
  {
    "text": "not many well okay well we have actually the these sessions today are extra ones",
    "start": "273560",
    "end": "279660"
  },
  {
    "text": "that we bolted on because of oversubscription and the ones that we're doing early but earlier but this",
    "start": "279660",
    "end": "284940"
  },
  {
    "text": "essentially is the high level view of multi of a multi account architecture as we currently have it proposed as a",
    "start": "284940",
    "end": "291900"
  },
  {
    "text": "reference model so you have your organization master account under which you have specific further accounts that",
    "start": "291900",
    "end": "298920"
  },
  {
    "text": "support the organization infrastructure from the point of view of internal audit logging potentially a Direct Connect",
    "start": "298920",
    "end": "305940"
  },
  {
    "text": "account so you know what your network team control I shared services account containing",
    "start": "305940",
    "end": "311880"
  },
  {
    "text": "things like your directory services that you can then do cross do VPC peering",
    "start": "311880",
    "end": "317610"
  },
  {
    "text": "with to your resource accounts which are all on the right-hand side in terms of your production environment your dev and",
    "start": "317610",
    "end": "323820"
  },
  {
    "text": "test environments all the environments that you want to keep isolated from each other both so that people can work in",
    "start": "323820",
    "end": "331320"
  },
  {
    "text": "them autonomously semi independently from the main security organization but",
    "start": "331320",
    "end": "338340"
  },
  {
    "text": "also so that any issues that go wrong in an account in terms of people writing bugs having think having that having",
    "start": "338340",
    "end": "345540"
  },
  {
    "text": "things blow up on them aren't going to affect any mission-critical environments outside that context we also now have",
    "start": "345540",
    "end": "353130"
  },
  {
    "text": "cloud formations stack sets which essentially gives you cross account cloud formation it enables you to very",
    "start": "353130",
    "end": "359280"
  },
  {
    "text": "easily when you either provision a new account or have an existing account that we want to make a change existing set of",
    "start": "359280",
    "end": "366030"
  },
  {
    "text": "accounts you want to make changes to you can actually use these under certain the lists of the account IDs to go deploying",
    "start": "366030",
    "end": "372870"
  },
  {
    "text": "changes across a whole bunch of accounts at once so if we break that out a little bit further into some of the things that",
    "start": "372870",
    "end": "380640"
  },
  {
    "text": "go in these accounts first of all this shows you that unlike Sam I'm not a",
    "start": "380640",
    "end": "386550"
  },
  {
    "text": "graphic designer by any stretch of the imagination but there are certain things that hide in plain sight in this so if",
    "start": "386550",
    "end": "394230"
  },
  {
    "text": "we consider our resource accounts again in the middle of the right hand side the ones that are sitting there with kms",
    "start": "394230",
    "end": "401069"
  },
  {
    "text": "and I am and cloudy HSA mean you actually do want to have kms located",
    "start": "401069",
    "end": "407189"
  },
  {
    "text": "within each resource account rather than potentially putting that in a shared services account it's something we",
    "start": "407189",
    "end": "412379"
  },
  {
    "text": "experimented with and we found that if you have lots and lots of accounts I mean thinking of the largest customer I",
    "start": "412379",
    "end": "418710"
  },
  {
    "text": "deal with who has the most AWS accounts they're running somewhere in excess of 20 thousand of them they",
    "start": "418710",
    "end": "424590"
  },
  {
    "text": "actually have one for each individual developer if you were to be doing if you were to have a lot of stuff going on in",
    "start": "424590",
    "end": "431610"
  },
  {
    "text": "an individual account particularly pertaining to s3 crypto with kms and so forth if you're doing cross account",
    "start": "431610",
    "end": "438750"
  },
  {
    "text": "referencing of all your keys with that you could actually hit service limits we managed to accidentally dose ourselves",
    "start": "438750",
    "end": "445560"
  },
  {
    "text": "when we were building our reference environment for this now that we've got the new generation Cloud HSM of course",
    "start": "445560",
    "end": "452879"
  },
  {
    "text": "cloud HSMs aren't the rare and pricy commodity that there used to be so it's",
    "start": "452879",
    "end": "459150"
  },
  {
    "text": "actually again far easier to just go putting those in the individual resource",
    "start": "459150",
    "end": "464580"
  },
  {
    "text": "accounts for those accounts that are going to use them also another thing that we've got in here which doesn't",
    "start": "464580",
    "end": "471449"
  },
  {
    "text": "actually come out in the previous slide is we have not one identity provider in",
    "start": "471449",
    "end": "478050"
  },
  {
    "text": "the environment but two so looking at identity Federation considerations",
    "start": "478050",
    "end": "483750"
  },
  {
    "start": "482000",
    "end": "482000"
  },
  {
    "text": "there's a lot of regulation and legislation out there that pays particular attention to a personally",
    "start": "483750",
    "end": "490560"
  },
  {
    "text": "identifiable information at the moment and one of the big advantages of doing I",
    "start": "490560",
    "end": "495690"
  },
  {
    "text": "am Federation is that it enables you to drain that personally identifiable information out of I am so if when you",
    "start": "495690",
    "end": "503550"
  },
  {
    "text": "do your federating you actually just federates on a group two group basis so what you're actually making I am aware",
    "start": "503550",
    "end": "510389"
  },
  {
    "text": "of is essentially doing mappings between I am groups and oels and O u equals DC",
    "start": "510389",
    "end": "517680"
  },
  {
    "text": "equals in an LDAP distinguished name unless you're running a particularly",
    "start": "517680",
    "end": "523800"
  },
  {
    "text": "weird schema that's not going to have any personally identifiable information in it my friend and colleague Dennis",
    "start": "523800",
    "end": "529770"
  },
  {
    "text": "battle of the clues in the name as Russian heritage wrote a blog post a couple of years ago",
    "start": "529770",
    "end": "535470"
  },
  {
    "text": "about in-country storage of personal data the the actual blog post doesn't",
    "start": "535470",
    "end": "540870"
  },
  {
    "text": "mention the context of Russian data privacy law but you might be unsurprised to realize that was one of the things",
    "start": "540870",
    "end": "547500"
  },
  {
    "text": "that inspired it also when actually doing Federation to lots of accounts we",
    "start": "547500",
    "end": "553320"
  },
  {
    "text": "normally see two models in operation people either Feder 8d rectly from an",
    "start": "553320",
    "end": "559080"
  },
  {
    "text": "identity provider into an AWS account all they go virus separate jump account",
    "start": "559080",
    "end": "564600"
  },
  {
    "text": "that so you just have one account federating to your IDP and then your",
    "start": "564600",
    "end": "569940"
  },
  {
    "text": "users connecting to that assume their roles and then do cross account role assumption in order to do whatever work",
    "start": "569940",
    "end": "576090"
  },
  {
    "text": "they need to do with privilege in the accounts they need to do the work in we had a long think about this when we're",
    "start": "576090",
    "end": "582180"
  },
  {
    "text": "actually coming up with this architecture and we found that as you start scaling out into large numbers of",
    "start": "582180",
    "end": "588900"
  },
  {
    "text": "accounts certainly beyond a dozen yep you're probably going to start hitting",
    "start": "588900",
    "end": "594510"
  },
  {
    "text": "some interesting complexities in the ion policy that you need to put in your jump account so if you don't really have an",
    "start": "594510",
    "end": "602040"
  },
  {
    "text": "upper bound in place in terms of the plan of the number of accounts you're going to have it actually makes more",
    "start": "602040",
    "end": "608370"
  },
  {
    "text": "sense to do direct Federation IDP to AWS account for each AWS account from the",
    "start": "608370",
    "end": "614940"
  },
  {
    "text": "outset so um whoops where are we",
    "start": "614940",
    "end": "623090"
  },
  {
    "text": "so direct Federation scales better in terms of what's in your IDP another",
    "start": "623830",
    "end": "629500"
  },
  {
    "text": "thing I've come across when talking with customers is that internal security",
    "start": "629500",
    "end": "635620"
  },
  {
    "text": "teams don't necessarily they're not necessarily comfortable about having the entire corporate directory structure",
    "start": "635620",
    "end": "642519"
  },
  {
    "text": "exposed even via appropriate proxying and protocol conversion mechanisms and",
    "start": "642519",
    "end": "648130"
  },
  {
    "text": "then doing the sam'l to Federation to across the Internet at large so a very",
    "start": "648130",
    "end": "653140"
  },
  {
    "text": "common thing to do to allay some of their concerns a lay some of their issues is to have a secondary IDP",
    "start": "653140",
    "end": "660490"
  },
  {
    "text": "configured to do selective one-way replication of the specific groups that are going to be using the AWS api's and",
    "start": "660490",
    "end": "667510"
  },
  {
    "text": "then federated that obviously when it comes to Federation in general it's um",
    "start": "667510",
    "end": "672579"
  },
  {
    "text": "pretty much a no-brainer thing to want to do if you want to keep everything straight and consistent in the face of",
    "start": "672579",
    "end": "678790"
  },
  {
    "text": "movers leave as join us events when you actually start getting to multi account environments and especially massively",
    "start": "678790",
    "end": "685209"
  },
  {
    "text": "multicam environments there really is no argument to do anything other than",
    "start": "685209",
    "end": "691329"
  },
  {
    "text": "Federation in terms of why you actually want to go running multi account",
    "start": "691329",
    "end": "697089"
  },
  {
    "start": "694000",
    "end": "694000"
  },
  {
    "text": "environments in the first place this really comes down to one of the fundamental tenets of federal of firm",
    "start": "697089",
    "end": "703060"
  },
  {
    "text": "compliance which is the MAGIX in the scoping anyone here actually needed to",
    "start": "703060",
    "end": "708910"
  },
  {
    "text": "sign our HIPAA business associate agreement who here's running regulated",
    "start": "708910",
    "end": "714279"
  },
  {
    "text": "healthcare workloads a couple of you so you already know that when you actually sign the BIA one of the things you have",
    "start": "714279",
    "end": "720550"
  },
  {
    "text": "to do is nominate an account as being an account that contains personal health",
    "start": "720550",
    "end": "726160"
  },
  {
    "text": "information as regulated by HIPAA in any case when you for whatever external",
    "start": "726160",
    "end": "732970"
  },
  {
    "text": "standard if you have a discussion with an auditor if there's one thing that's going to make an auditor nervous it's",
    "start": "732970",
    "end": "739660"
  },
  {
    "text": "not having a hard and clearly defined scope boundary between what is subject",
    "start": "739660",
    "end": "745149"
  },
  {
    "text": "to their compliance requirements and what isn't v pcs are great for this up",
    "start": "745149",
    "end": "751149"
  },
  {
    "text": "to a point and they get used a lot for them particularly in PCI environments",
    "start": "751149",
    "end": "757120"
  },
  {
    "text": "but true story I was having a session few months back with a customer and they",
    "start": "757120",
    "end": "763360"
  },
  {
    "text": "had been having their PCI audit done by their qsa and this qsa was a",
    "start": "763360",
    "end": "769480"
  },
  {
    "text": "particularly rigorous and diligent kinda chap and he asked a really interesting question so he said so I've got these",
    "start": "769480",
    "end": "777730"
  },
  {
    "text": "ec2 instances probe well you've got these ec2 instances processing credit card data now let's say these instances",
    "start": "777730",
    "end": "785770"
  },
  {
    "text": "were somehow persuaded to misbehave they got hacked what if how can you show me",
    "start": "785770",
    "end": "792610"
  },
  {
    "text": "that you've got adequate controls so that if these hacked instances are",
    "start": "792610",
    "end": "799029"
  },
  {
    "text": "abused in order to try and get sensitive data out of them and into something like",
    "start": "799029",
    "end": "805510"
  },
  {
    "text": "the logging system because these boxes were also running the agent for run for",
    "start": "805510",
    "end": "812710"
  },
  {
    "text": "CloudWatch logs how can you show me that you've got additional controls in place to ensure that this data can't escape",
    "start": "812710",
    "end": "819610"
  },
  {
    "text": "your PCI scoped environment by other means and the customer went humm okay",
    "start": "819610",
    "end": "827220"
  },
  {
    "text": "and they had a chat with me about it in the end as a temporary measure they did",
    "start": "827220",
    "end": "833320"
  },
  {
    "text": "some work with SELinux profiles in order to build mandatory access controls",
    "start": "833320",
    "end": "838420"
  },
  {
    "text": "around the ability to push data into the logging system but we both figured that",
    "start": "838420",
    "end": "849580"
  },
  {
    "text": "longer-term there was probably a better way to do it and that's something I'm going to get onto in a little bit when",
    "start": "849580",
    "end": "855610"
  },
  {
    "text": "you go creating new accounts particularly if you you well if you do this with organizations you can actually",
    "start": "855610",
    "end": "861930"
  },
  {
    "text": "when you do this you get a privileged role in the new account at creation time",
    "start": "861930",
    "end": "867330"
  },
  {
    "text": "it always has a consistent form so you can actually do automated account",
    "start": "867330",
    "end": "872770"
  },
  {
    "text": "baselining before you actually let any users loose in it and we do recommend that you go",
    "start": "872770",
    "end": "879760"
  },
  {
    "text": "deleting the role when you've done it you can actually use this to set Federation up while you're at it and one",
    "start": "879760",
    "end": "885640"
  },
  {
    "text": "of the things that you could potentially use to do that baselining is the version of the CIS found a tell",
    "start": "885640",
    "end": "894340"
  },
  {
    "text": "us CRS Foundation's benchmark that has been released as a CloudFormation template Indies up there in our AWS labs",
    "start": "894340",
    "end": "900430"
  },
  {
    "text": "account on github so let's get on to the subject of cross account logging and",
    "start": "900430",
    "end": "905890"
  },
  {
    "text": "filtering as mentioned earlier in the context of this this PCI compliant",
    "start": "905890",
    "end": "911020"
  },
  {
    "text": "organization cross account logging is something that you want to do anyway you want to have all your logs from all your",
    "start": "911020",
    "end": "917590"
  },
  {
    "start": "913000",
    "end": "913000"
  },
  {
    "text": "accounts coming into one place so that you just have one place to point your one source of data to point your",
    "start": "917590",
    "end": "923620"
  },
  {
    "text": "analytics tools at but why what what else do you need to do with that",
    "start": "923620",
    "end": "928950"
  },
  {
    "text": "filtering is getting onto people's radar now is something they need to do not",
    "start": "928950",
    "end": "935170"
  },
  {
    "text": "only because of the context as of our PCI compliant organization that needed",
    "start": "935170",
    "end": "940690"
  },
  {
    "text": "extra controls to ensure that there was no credit card data for example passing",
    "start": "940690",
    "end": "946000"
  },
  {
    "text": "through the logging system but also when you start looking at things like regional legislation that has issues",
    "start": "946000",
    "end": "954280"
  },
  {
    "text": "about personally identifiable information passing beyond geographical boundaries when you're actually running",
    "start": "954280",
    "end": "960790"
  },
  {
    "text": "a global AWS deployment you may have your central logging bucket in one",
    "start": "960790",
    "end": "966250"
  },
  {
    "text": "region for your global environment and you need to actually pass your logs out of the region that they're that you're",
    "start": "966250",
    "end": "972520"
  },
  {
    "text": "in that your infrastructure that's generating those logs is operating in cross national borders and into your",
    "start": "972520",
    "end": "978430"
  },
  {
    "text": "bucket that might not sit well with some people so this is where you actually",
    "start": "978430",
    "end": "984670"
  },
  {
    "text": "need to do some filtering you can also actually go keeping unfiltered copies of",
    "start": "984670",
    "end": "991630"
  },
  {
    "text": "your logs in region you may need to delete them after a certain time in order to meet compliance requirements",
    "start": "991630",
    "end": "997840"
  },
  {
    "text": "that's something that we can do but this is where also we need to think about if we're producing a reasonably complex log",
    "start": "997840",
    "end": "1005850"
  },
  {
    "text": "generating well log management and filtering system in an account how do we",
    "start": "1005850",
    "end": "1011100"
  },
  {
    "text": "stop the entity that potentially has privilege in that account messing with it breaking it doing things with it they",
    "start": "1011100",
    "end": "1017100"
  },
  {
    "text": "shouldn't and for that this is where I'm going to also show you some fun things",
    "start": "1017100",
    "end": "1022440"
  },
  {
    "text": "that you can do with organ service control policies but on to the actual cross account logging and",
    "start": "1022440",
    "end": "1028290"
  },
  {
    "text": "filtering if we've got cloud trail and config doing their usual thing and dropping the her locks into an into an",
    "start": "1028290",
    "end": "1034770"
  },
  {
    "text": "s3 bucket we can also have ec2 instances and lambda functions and other things",
    "start": "1034770",
    "end": "1040010"
  },
  {
    "text": "sending logs to a cloud watch which can then potentially be plucked off that",
    "start": "1040010",
    "end": "1045480"
  },
  {
    "text": "stream and stuck in the s3 bucket you may also as I'll get onto later want",
    "start": "1045480",
    "end": "1051510"
  },
  {
    "text": "to actually take your cloud watch events and have a lambda function trigger off those obviously you don't want to try",
    "start": "1051510",
    "end": "1059610"
  },
  {
    "text": "triggering multiple lambda functions offered the same cloud watch event so you may need to actually stick a step",
    "start": "1059610",
    "end": "1066780"
  },
  {
    "text": "function in there to break things out and then we now wind up with all our logs in this s3 bucket while cloud trail",
    "start": "1066780",
    "end": "1075180"
  },
  {
    "text": "can actually do native cross account replication this is the situation that",
    "start": "1075180",
    "end": "1081240"
  },
  {
    "text": "I've just mentioned is one of the reasons why it's not something we really recommend anymore to actually get your logs cross account and potentially cross",
    "start": "1081240",
    "end": "1088080"
  },
  {
    "text": "region have another lambda function that triggers off your s3 bucket and then goes and pushes into your logging bucket",
    "start": "1088080",
    "end": "1094560"
  },
  {
    "text": "in its separate logging account wherever it may be you can if you want to if you",
    "start": "1094560",
    "end": "1100080"
  },
  {
    "text": "decide that you need to have filtered redacted copy of your logs locally if",
    "start": "1100080",
    "end": "1106200"
  },
  {
    "text": "you're doing any local logger analytics in that particular account you may want to break things out so that your log",
    "start": "1106200",
    "end": "1112770"
  },
  {
    "text": "bucket triggers a lambda function that just does some redaction before putting redacted copy in a separate log bucket",
    "start": "1112770",
    "end": "1118980"
  },
  {
    "text": "and then having another lambda function that does the cross account shipping in terms of redaction this actually is what",
    "start": "1118980",
    "end": "1126390"
  },
  {
    "text": "the lambda function that we've put together does it just actually takes data that is",
    "start": "1126390",
    "end": "1133560"
  },
  {
    "text": "considered sensitive according to your own particular requirements and replaces it with asterisks so this would satisfy",
    "start": "1133560",
    "end": "1140730"
  },
  {
    "text": "the requirements of that particular rigorous rigorous qsa and hopefully",
    "start": "1140730",
    "end": "1147180"
  },
  {
    "text": "we're going to be getting some example code for this lambda function up on our AWS labs account",
    "start": "1147180",
    "end": "1153539"
  },
  {
    "text": "soon it doesn't need that many I am roll actions and another thing that",
    "start": "1153539",
    "end": "1162379"
  },
  {
    "text": "comes up is some as mentioned people don't want data to go escaping a",
    "start": "1162379",
    "end": "1167850"
  },
  {
    "text": "particular region for reasons of local legislation so another thing that comes",
    "start": "1167850",
    "end": "1173789"
  },
  {
    "text": "up regularly is how can I stop admins or employees or people standing up",
    "start": "1173789",
    "end": "1180659"
  },
  {
    "text": "environments outside the regions I want them to I want them to deploy into and",
    "start": "1180659",
    "end": "1190529"
  },
  {
    "text": "there's a few things you can do here things vary a little bit by region we",
    "start": "1190529",
    "end": "1196529"
  },
  {
    "text": "can do it for any service that actually has a region in its on plus s3 and a",
    "start": "1196529",
    "end": "1204179"
  },
  {
    "text": "couple of others and how we go about doing that s3 is a little bit special it",
    "start": "1204179",
    "end": "1210659"
  },
  {
    "text": "has its own way of doing this and the way to do it is to use the s3 location",
    "start": "1210659",
    "end": "1215820"
  },
  {
    "text": "constraint condition so here we've got a policy that essentially says you're not",
    "start": "1215820",
    "end": "1221340"
  },
  {
    "text": "standing up any buckets anywhere other than Dublin for ec2 and when I actually",
    "start": "1221340",
    "end": "1228179"
  },
  {
    "text": "tested this it also happened to catch RDS just by um just my good fortune",
    "start": "1228179",
    "end": "1234349"
  },
  {
    "text": "ec2 has its own slightly different way of doing this using the ec2 region",
    "start": "1234349",
    "end": "1240029"
  },
  {
    "text": "condition and up until quite recently just a couple of months ago this this",
    "start": "1240029",
    "end": "1245700"
  },
  {
    "text": "some ec2 region condition was only honored by a subset of from ec2 actions",
    "start": "1245700",
    "end": "1251999"
  },
  {
    "text": "probably about half of them and it sort of silently got updated and I looked at",
    "start": "1251999",
    "end": "1257940"
  },
  {
    "text": "the documentation just when I was writing this presentation and now it actually covers all of them so that's a nice piece of news that um is a bit",
    "start": "1257940",
    "end": "1265919"
  },
  {
    "text": "under the radar for other services again if you've got something that has a",
    "start": "1265919",
    "end": "1273779"
  },
  {
    "text": "region designator in its arm then you can just actually do a little bit of",
    "start": "1273779",
    "end": "1279539"
  },
  {
    "text": "wild carding in order to explicitly deny actions for the route of the on that can",
    "start": "1279539",
    "end": "1286600"
  },
  {
    "text": "pain's the region information obviously in this case I'm doing denies all the",
    "start": "1286600",
    "end": "1292780"
  },
  {
    "text": "way because we don't want to actually have in the complexity of our I am",
    "start": "1292780",
    "end": "1298570"
  },
  {
    "text": "policy or and SCP as they may evolve we don't want to actually accidentally have",
    "start": "1298570",
    "end": "1304360"
  },
  {
    "text": "an allow the causes this to happen and of course with I am and organizations when you put them together it's still",
    "start": "1304360",
    "end": "1310390"
  },
  {
    "text": "the case that any individual deny Trump's any number of allows also and again just to prove that not all",
    "start": "1310390",
    "end": "1317559"
  },
  {
    "text": "innovation happens at AWS I was some reading one of the email newsletters",
    "start": "1317559",
    "end": "1324580"
  },
  {
    "text": "that I get every week and it pointed to this nice little script here on github",
    "start": "1324580",
    "end": "1329590"
  },
  {
    "text": "it's just CloudFormation template and what it does is it deploys a lambda function that goes and looks at cloud",
    "start": "1329590",
    "end": "1336700"
  },
  {
    "text": "trail and goes and alarms when it sees any references to regions of the one you",
    "start": "1336700",
    "end": "1341799"
  },
  {
    "text": "actually set so this is a nice way to have defense-in-depth so that if any of",
    "start": "1341799",
    "end": "1347799"
  },
  {
    "text": "your if anything gets through your protective controls you still have monitoring capability just a nice little",
    "start": "1347799",
    "end": "1355299"
  },
  {
    "text": "simple script so I did also have on my",
    "start": "1355299",
    "end": "1361059"
  },
  {
    "start": "1361000",
    "end": "1361000"
  },
  {
    "text": "on my diagram here if you see in the middle near the top I have a separate",
    "start": "1361059",
    "end": "1367059"
  },
  {
    "text": "little account for the internal audit team these guys are going to need to",
    "start": "1367059",
    "end": "1372520"
  },
  {
    "text": "look at all the information in my logging bucket also they're probably going to want to look in my billing",
    "start": "1372520",
    "end": "1378880"
  },
  {
    "text": "bucket and they're going to want to have read-only roles in - let's face it",
    "start": "1378880",
    "end": "1384159"
  },
  {
    "text": "everything there's a managed I am role for that so you can just reuse the actions from it but you can actually",
    "start": "1384159",
    "end": "1391929"
  },
  {
    "text": "extend this so we're already doing cross",
    "start": "1391929",
    "end": "1398919"
  },
  {
    "text": "account access for our internal audit team nothing stops us doing this for our external audit team as well since",
    "start": "1398919",
    "end": "1405909"
  },
  {
    "start": "1403000",
    "end": "1403000"
  },
  {
    "text": "obviously when your auditors come on site they wind up talking to staff reading your documentation examining the",
    "start": "1405909",
    "end": "1411610"
  },
  {
    "text": "disposition of your technical assets and so forth it can be a little disruptive to",
    "start": "1411610",
    "end": "1417659"
  },
  {
    "text": "business if they're able to actually do some of that technical assessment before",
    "start": "1417659",
    "end": "1422909"
  },
  {
    "text": "they come on site as pre work then an audit becomes a an easier process to",
    "start": "1422909",
    "end": "1428940"
  },
  {
    "text": "deal with and if they're actually geared up to do it you can use the same principles in the same permissions if",
    "start": "1428940",
    "end": "1435630"
  },
  {
    "text": "you're in a regulated industry to give the same read-only access to all your log data to your regulator there's some",
    "start": "1435630",
    "end": "1444539"
  },
  {
    "start": "1440000",
    "end": "1440000"
  },
  {
    "text": "people that we know in that side of the world we've had a chat with them about it they have made some they're",
    "start": "1444539",
    "end": "1451950"
  },
  {
    "text": "interested put it that way so on to what you can actually do in terms of event",
    "start": "1451950",
    "end": "1459960"
  },
  {
    "text": "detection and auto response in a multi account environment who here was at",
    "start": "1459960",
    "end": "1465330"
  },
  {
    "text": "reinvent last year or when poking through YouTube like you do and came across a session from Brian Wagner and",
    "start": "1465330",
    "end": "1473340"
  },
  {
    "text": "beetle from last year just one or two that's interesting okay so I will",
    "start": "1473340",
    "end": "1480539"
  },
  {
    "text": "actually talk through this in a bit of depth what we're looking at here is tracking and dealing with events that",
    "start": "1480539",
    "end": "1488340"
  },
  {
    "text": "are more fine-grained than I am an organization's really filter on at the",
    "start": "1488340",
    "end": "1494309"
  },
  {
    "text": "moment in terms of things that could cause security issues so on from the",
    "start": "1494309",
    "end": "1500130"
  },
  {
    "text": "left some staff member does something to your AWS account that gets logged in",
    "start": "1500130",
    "end": "1506130"
  },
  {
    "text": "cloud trail it lands in an s3 bucket it similarly goes some triggering cloud watch events which couldn't fork a",
    "start": "1506130",
    "end": "1512039"
  },
  {
    "text": "lambda function which can then act in order to alert on the issue if it's not",
    "start": "1512039",
    "end": "1517740"
  },
  {
    "text": "able to deal with it itself or potentially actually act to reverb the",
    "start": "1517740",
    "end": "1522929"
  },
  {
    "text": "issue back to something that you're happier with policy wise we actually",
    "start": "1522929",
    "end": "1529440"
  },
  {
    "text": "built cloud watch events particularly for this kind of purpose it's the fastest responding from the",
    "start": "1529440",
    "end": "1536159"
  },
  {
    "text": "point of view of lowest latency AWS logging and an hour and log analysis",
    "start": "1536159",
    "end": "1542240"
  },
  {
    "text": "capability you're looking at timing probably in the in the milliseconds to",
    "start": "1542240",
    "end": "1548130"
  },
  {
    "text": "seconds as opposed to something like minutes the cloud trail the nice people at Capital",
    "start": "1548130",
    "end": "1556200"
  },
  {
    "text": "One also took this architecture and built their own tooling out of it people here come across cloud custodian",
    "start": "1556200",
    "end": "1562980"
  },
  {
    "text": "anyone using it just a few well if you want to go mining the open-source world",
    "start": "1562980",
    "end": "1569429"
  },
  {
    "text": "for useful lambda responder functions this is a great place to start or indeed",
    "start": "1569429",
    "end": "1574860"
  },
  {
    "text": "you can take the whole stack and deploy it yourselves the whole thing got made available for free hence hence up on",
    "start": "1574860",
    "end": "1581159"
  },
  {
    "text": "github in terms of what a cloud watch event actually looks like when you pass",
    "start": "1581159",
    "end": "1586620"
  },
  {
    "text": "the thing out the interesting information comes down at the bottom so",
    "start": "1586620",
    "end": "1591960"
  },
  {
    "text": "in there you've got details of what the action was what region and what account",
    "start": "1591960",
    "end": "1598860"
  },
  {
    "text": "it was executed on who did it what credentials they did it with and even at",
    "start": "1598860",
    "end": "1604289"
  },
  {
    "text": "the bottom as you can see with the invoked by it happened on the console so Bob our intern tried stopping cloud",
    "start": "1604289",
    "end": "1610980"
  },
  {
    "text": "trail logging obviously you can just parse this out in a lambda function and do something about it and here's a nice",
    "start": "1610980",
    "end": "1617370"
  },
  {
    "text": "example of that showing how you can deal",
    "start": "1617370",
    "end": "1622679"
  },
  {
    "text": "with the issue where Bob or someone like him accidentally go standing up an ec2",
    "start": "1622679",
    "end": "1627929"
  },
  {
    "text": "instance that perhaps he shouldn't so we've got this ami we're standing up",
    "start": "1627929",
    "end": "1633389"
  },
  {
    "text": "we're standing it up on a particular subnet with a particular security group this gets noticed by cloud watch events",
    "start": "1633389",
    "end": "1640049"
  },
  {
    "text": "which generates as a log record obviously it's pending because the instance is still on its way up that",
    "start": "1640049",
    "end": "1645659"
  },
  {
    "text": "goes and calls a lambda function which then goes and looks in dynamodb because this kind of policy isn't the kind of",
    "start": "1645659",
    "end": "1652230"
  },
  {
    "text": "thing you want to go statically coding into a lambda function to determine whether the combination of the ami ID",
    "start": "1652230",
    "end": "1658590"
  },
  {
    "text": "and the subnet ID and the security group ID is considered appropriate to policy",
    "start": "1658590",
    "end": "1664019"
  },
  {
    "text": "in this case oh dear it isn't so we can actually then trigger another cloud",
    "start": "1664019",
    "end": "1671190"
  },
  {
    "text": "watch event or we could actually do it all in one off the same lambda function it's a nice to split this for modularity",
    "start": "1671190",
    "end": "1677340"
  },
  {
    "text": "because our recommendation with lambda functions is that each function does just one thing",
    "start": "1677340",
    "end": "1682720"
  },
  {
    "text": "and so we wind up calling another event which goes and calls another lambda",
    "start": "1682720",
    "end": "1688540"
  },
  {
    "text": "function which runs with an appropriate I am roll that goes and kills that instance before it's even finished",
    "start": "1688540",
    "end": "1694000"
  },
  {
    "text": "making its way up now how do you do this in a multi account world really you've",
    "start": "1694000",
    "end": "1700270"
  },
  {
    "start": "1697000",
    "end": "1697000"
  },
  {
    "text": "got two options and which option works for you depends particularly on what",
    "start": "1700270",
    "end": "1706120"
  },
  {
    "text": "your own policy requirements are in terms of things like separation of duty and how much autonomy you want people to",
    "start": "1706120",
    "end": "1713200"
  },
  {
    "text": "have in their own accounts so you've got two options one is to put the whole",
    "start": "1713200",
    "end": "1719130"
  },
  {
    "text": "whole of that environment in each account there are reasons to do this and",
    "start": "1719130",
    "end": "1724630"
  },
  {
    "text": "there are reasons not to do this similarly you can actually split it across multiple accounts if you want to",
    "start": "1724630",
    "end": "1732490"
  },
  {
    "text": "have your security team have the final say over what happens in a whole bunch",
    "start": "1732490",
    "end": "1737890"
  },
  {
    "text": "of accounts a thing that we introduced recently that allows you to do this",
    "start": "1737890",
    "end": "1743070"
  },
  {
    "text": "normally cloud watch events just triggers lambda functions in local",
    "start": "1743070",
    "end": "1748600"
  },
  {
    "text": "accounts there's now a facility in cloud watch called the cloud watch events bus this allows you to trick this allows you",
    "start": "1748600",
    "end": "1756220"
  },
  {
    "text": "to have local events invoke remote action so to show this diagrammatically",
    "start": "1756220",
    "end": "1763420"
  },
  {
    "text": "if we just look at option one we've got our second two through end account and we're just cloning our environment into",
    "start": "1763420",
    "end": "1769780"
  },
  {
    "text": "it and again CloudFormation stack sets can help you do this or if you want to",
    "start": "1769780",
    "end": "1776890"
  },
  {
    "text": "have more central control and also probably less resource you can actually do this to bring your lambda functions",
    "start": "1776890",
    "end": "1784270"
  },
  {
    "text": "both to detect and respond into a central account if you have huge numbers",
    "start": "1784270",
    "end": "1790960"
  },
  {
    "text": "of accounts involved you may also want to actually start getting some Kinesis streams into this as well but that's",
    "start": "1790960",
    "end": "1797680"
  },
  {
    "text": "something we're still working on now we get on to probably my favorite subjects",
    "start": "1797680",
    "end": "1804250"
  },
  {
    "text": "full disclosure I spent a lot of time before I joined AWS working at Sun",
    "start": "1804250",
    "end": "1810130"
  },
  {
    "text": "Microsystems doing really wild and wacky things with trusted Solaris so mandatory",
    "start": "1810130",
    "end": "1815800"
  },
  {
    "text": "access couldn't all kind of worked its way into my brain and stuck there who here's using",
    "start": "1815800",
    "end": "1826760"
  },
  {
    "text": "organizations that's a good show of hands I'm hoping that after this",
    "start": "1826760",
    "end": "1832070"
  },
  {
    "text": "multiple multi accounts and multi account track that we're running here it'll be pretty much everyone so I think",
    "start": "1832070",
    "end": "1837800"
  },
  {
    "text": "I think I really meet so create a bunch",
    "start": "1837800",
    "end": "1842990"
  },
  {
    "text": "of accounts apply them group them into organizational units with with organizations as it currently is and",
    "start": "1842990",
    "end": "1849640"
  },
  {
    "text": "then you can attach service control policies to either individual OU's or",
    "start": "1849640",
    "end": "1856010"
  },
  {
    "text": "individual accounts the way you know you works is it is for most but not quite",
    "start": "1856010",
    "end": "1862280"
  },
  {
    "text": "all practical purposes and I am policy and you wind up essentially prefixing",
    "start": "1862280",
    "end": "1868670"
  },
  {
    "text": "the I on policy that runs in the account with the SCP so the effective set of",
    "start": "1868670",
    "end": "1874640"
  },
  {
    "text": "controls on any particular user in an eye on account is the concatenation of",
    "start": "1874640",
    "end": "1879830"
  },
  {
    "text": "the SCP and the I am policy that's local you can do the usual white listing black",
    "start": "1879830",
    "end": "1886280"
  },
  {
    "text": "listing and so forth and the ion policies SCP aware now this is where the",
    "start": "1886280",
    "end": "1891560"
  },
  {
    "text": "fun starts scps to the account that you're actually",
    "start": "1891560",
    "end": "1896570"
  },
  {
    "start": "1892000",
    "end": "1892000"
  },
  {
    "text": "applying them to they're invisible they're immutable and they apply completely across the board and that",
    "start": "1896570",
    "end": "1902810"
  },
  {
    "text": "includes for the first time to the root user so unlike classic UNIX root routes in an",
    "start": "1902810",
    "end": "1910340"
  },
  {
    "text": "account that has an SCP applied to it is no longer omnipotent and this gets really interesting it looks just like",
    "start": "1910340",
    "end": "1916670"
  },
  {
    "text": "system policy in a mandatory access control system because no one in the account the SCP is applied to can see",
    "start": "1916670",
    "end": "1924320"
  },
  {
    "text": "the policy or do anything about it if you're into mandatory access control by",
    "start": "1924320",
    "end": "1929600"
  },
  {
    "text": "the way all the various Linux distros that that's that are available in AWS",
    "start": "1929600",
    "end": "1935780"
  },
  {
    "text": "have selinux support and yes that includes Amazon Linux these days as well also if you prefer to do things in a",
    "start": "1935780",
    "end": "1944420"
  },
  {
    "text": "more trusted Solaris like way for those of you who are as old as me",
    "start": "1944420",
    "end": "1950119"
  },
  {
    "text": "there is also in the community marketplace FreeBSD 10 and 11 so any old",
    "start": "1950119",
    "end": "1957229"
  },
  {
    "text": "BSD jock is in the crowd it's still there if you want to use it with",
    "start": "1957229",
    "end": "1962359"
  },
  {
    "text": "organizations and scps of course you don't get things like bail the Padula dominance or packet labeling you you'd",
    "start": "1962359",
    "end": "1969229"
  },
  {
    "text": "still be looking at things like the ec2 operating system level for doing things",
    "start": "1969229",
    "end": "1974329"
  },
  {
    "text": "like that now when most people think about applying an SCP they think about",
    "start": "1974329",
    "end": "1980449"
  },
  {
    "text": "applying it at account creation time just in order to do things like disable services that you don't want people in",
    "start": "1980449",
    "end": "1986389"
  },
  {
    "text": "that account using that isn't the whole of it though you can actually apply an",
    "start": "1986389",
    "end": "1992689"
  },
  {
    "text": "SCP after the fact once you've gone and stood a bunch of assets up so I've been",
    "start": "1992689",
    "end": "1999289"
  },
  {
    "text": "thinking about some of the useful things you could do with this and I've actually",
    "start": "1999289",
    "end": "2005219"
  },
  {
    "text": "got a little set of example SCPs that I'm showing with you as part of this presentation so the normal syntax for an",
    "start": "2005219",
    "end": "2013479"
  },
  {
    "text": "SCP is just to turn some service off the limitations on scps currently is that",
    "start": "2013479",
    "end": "2020529"
  },
  {
    "text": "the only argument supported in the resource field is a star you can't",
    "start": "2020529",
    "end": "2025599"
  },
  {
    "text": "actually do finer grained filtering yet but sometimes a blunt instrument is actually the right thing to wield and",
    "start": "2025599",
    "end": "2031799"
  },
  {
    "text": "also you don't actually have support for arm conditions at this point in time so",
    "start": "2031799",
    "end": "2037239"
  },
  {
    "text": "just to give you some examples of what you couldn't do we saw earlier the Bob the in turn turned cloud trail off he",
    "start": "2037239",
    "end": "2044349"
  },
  {
    "text": "wouldn't be able to if this was applied to the account even if Bob just happened",
    "start": "2044349",
    "end": "2049779"
  },
  {
    "text": "to be root on it once you start looking at other services you can do some you",
    "start": "2049779",
    "end": "2055960"
  },
  {
    "text": "can do very similar things I realized when I was talking to some of the guys just need just the other day actually",
    "start": "2055960",
    "end": "2062378"
  },
  {
    "text": "you probably want to take cloud watch put dashboard out of this particular SCP",
    "start": "2062379",
    "end": "2067569"
  },
  {
    "text": "I do my I do my dashboarding further downstream but if you're actually using",
    "start": "2067569",
    "end": "2072608"
  },
  {
    "text": "cloud Watchers intrinsic dashboard capability you'll probably want to pull the plug on that particular argument in",
    "start": "2072609",
    "end": "2078638"
  },
  {
    "text": "there if you want to stop VPC flow logs being disabled but straightforward thing to do as well",
    "start": "2078639",
    "end": "2084679"
  },
  {
    "text": "similarly the config service and now let's look at something a little more",
    "start": "2084679",
    "end": "2090360"
  },
  {
    "text": "interesting if you've got an s3 bucket and it's being say a public web server",
    "start": "2090360",
    "end": "2097020"
  },
  {
    "text": "if you've got that configured here's how you can stop anyone disabling the bucket",
    "start": "2097020",
    "end": "2102090"
  },
  {
    "text": "deleting it or changing the policy on it if you go adding things like s3 put",
    "start": "2102090",
    "end": "2108990"
  },
  {
    "text": "objects and s3 delete object to that list of actions then you can make your bucket and its contents immutable as",
    "start": "2108990",
    "end": "2115590"
  },
  {
    "text": "well so hurray for completely immutable public web service obviously there are",
    "start": "2115590",
    "end": "2121290"
  },
  {
    "text": "some this is this is a particular policy that you may want to apply to your buckets that have your logs in as well",
    "start": "2121290",
    "end": "2127290"
  },
  {
    "text": "for example and another thing that you can do with this I'm a bit of a lambda",
    "start": "2127290",
    "end": "2133470"
  },
  {
    "text": "fan but one of the things that I was thinking when we were working on the",
    "start": "2133470",
    "end": "2140100"
  },
  {
    "text": "logging architecture that I showed you earlier is depending on whoever's",
    "start": "2140100",
    "end": "2145260"
  },
  {
    "text": "routing that account they could potentially do something to disrupt the operation of that carefully built",
    "start": "2145260",
    "end": "2152100"
  },
  {
    "text": "logging environment because hey their route etc not if you've got this SCP in place all essential it essentially makes",
    "start": "2152100",
    "end": "2160980"
  },
  {
    "start": "2156000",
    "end": "2156000"
  },
  {
    "text": "a lambda function execute only obviously this means that one of the things that",
    "start": "2160980",
    "end": "2167310"
  },
  {
    "text": "can't be done in that account is standing up or modifying or generally working on further lambda functions but",
    "start": "2167310",
    "end": "2174480"
  },
  {
    "text": "it's it's a balance of what you need to do there are environments certainly in",
    "start": "2174480",
    "end": "2181080"
  },
  {
    "text": "certainly in your production workloads where a policy like this could actually be really useful to apply and it still",
    "start": "2181080",
    "end": "2187380"
  },
  {
    "text": "allows you to do all with all the things that you would want to do in terms of read access to the lambda function any",
    "start": "2187380",
    "end": "2196710"
  },
  {
    "text": "variables that or metadata that are associated with it plus of course actually being able to invoke the thing",
    "start": "2196710",
    "end": "2202020"
  },
  {
    "text": "a further one that a lot of people are starting to tell me they like is there's",
    "start": "2202020",
    "end": "2211200"
  },
  {
    "text": "a particular set of customers especially in public sector who want to just use AWS",
    "start": "2211200",
    "end": "2216990"
  },
  {
    "text": "as an extension to their regular on-premise data centers so they don't want their VP sees connecting to the",
    "start": "2216990",
    "end": "2223830"
  },
  {
    "text": "internet that's how to stop them doing so so thinking about one of the things I",
    "start": "2223830",
    "end": "2232440"
  },
  {
    "text": "actually want to do is some go and do a bunch of further work regarding just",
    "start": "2232440",
    "end": "2237450"
  },
  {
    "text": "looking down the server looking down the service lists looking at the I am actions and thinking what further useful",
    "start": "2237450",
    "end": "2243840"
  },
  {
    "text": "things I can put in reference I am Paula of reference SCPs to do things like enforce immutability",
    "start": "2243840",
    "end": "2250500"
  },
  {
    "text": "on things so if you want to have your region locking and enforce it especially",
    "start": "2250500",
    "end": "2258180"
  },
  {
    "text": "if you're doing I am Federation back to an on-premise IDP so your I am policies",
    "start": "2258180",
    "end": "2265500"
  },
  {
    "text": "aren't changing significantly as you go adding and removing new and old users",
    "start": "2265500",
    "end": "2271580"
  },
  {
    "text": "you could actually still set up an iamb policy that has subtle things in there",
    "start": "2271580",
    "end": "2277619"
  },
  {
    "text": "around region locking and then just deny them and then just use an SCP to deny",
    "start": "2277619",
    "end": "2282750"
  },
  {
    "text": "the ability to change your ion policies so in terms of what to actually put in",
    "start": "2282750",
    "end": "2289230"
  },
  {
    "text": "an SCP and what to put in I am scps are good at what they do there are still",
    "start": "2289230",
    "end": "2296040"
  },
  {
    "text": "things they can't do but you can combine the two in order to get effective policy",
    "start": "2296040",
    "end": "2303330"
  },
  {
    "text": "important enforcement and the way I naturally go about doing this from the",
    "start": "2303330",
    "end": "2308850"
  },
  {
    "start": "2306000",
    "end": "2306000"
  },
  {
    "text": "point of view of an account creation lifecycle is I'd start by doing the",
    "start": "2308850",
    "end": "2314010"
  },
  {
    "text": "brute force turning off of services that you don't want to actually have you have",
    "start": "2314010",
    "end": "2319230"
  },
  {
    "text": "in use put your baseline controls in put your assets in and then extend your SCP",
    "start": "2319230",
    "end": "2325950"
  },
  {
    "text": "to include the details of what you want of what you want immutability to be scps",
    "start": "2325950",
    "end": "2331890"
  },
  {
    "text": "themselves just like I am policies they have a size limit on them it's five K",
    "start": "2331890",
    "end": "2336960"
  },
  {
    "text": "there abouts so again I wouldn't really",
    "start": "2336960",
    "end": "2342780"
  },
  {
    "text": "think actually that you'll run into SCP size limits a further thing that you can",
    "start": "2342780",
    "end": "2348510"
  },
  {
    "text": "do bearing in mind that an SCP can only be applied by an entity with appropriate",
    "start": "2348510",
    "end": "2353970"
  },
  {
    "text": "action for action privileges in the organization's master account you can",
    "start": "2353970",
    "end": "2359250"
  },
  {
    "text": "actually very easily build a two-person rule out of this so if you decide that",
    "start": "2359250",
    "end": "2365340"
  },
  {
    "text": "you have something that you need to change but an SCP denies it then whoever the owner of the asset in the account",
    "start": "2365340",
    "end": "2372210"
  },
  {
    "text": "that's got the SCP applied to it and the entity that has the permission to apply and remove SCPs they have to",
    "start": "2372210",
    "end": "2378480"
  },
  {
    "text": "work together in order to temporarily disable the SCP make the change and then put it back so this enables you to",
    "start": "2378480",
    "end": "2385230"
  },
  {
    "text": "enforce multi eyes if you work in the kind of world that actually needs this very easily in terms of doing third",
    "start": "2385230",
    "end": "2395790"
  },
  {
    "text": "party using third party compliance tools in a multi account environment there are",
    "start": "2395790",
    "end": "2402330"
  },
  {
    "text": "ones that work so three of the most popular ones that I see sumo logic is",
    "start": "2402330",
    "end": "2408780"
  },
  {
    "text": "rather liked in banks because of their front-end dashboard that addresses that",
    "start": "2408780",
    "end": "2416490"
  },
  {
    "text": "reports in the context of PCI DSS controls dough 9 I'm personally",
    "start": "2416490",
    "end": "2421830"
  },
  {
    "text": "something of a fan of the the the dome 9 arc product and evident i/o have been",
    "start": "2421830",
    "end": "2427950"
  },
  {
    "text": "doing compliance in AWS for a very long time they were probably the first to actually get from the market here in",
    "start": "2427950",
    "end": "2435570"
  },
  {
    "text": "terms of how these actually work when you start looking at a multi account",
    "start": "2435570",
    "end": "2441270"
  },
  {
    "text": "environment dome 9 actually just uses cross account roles you set those up so",
    "start": "2441270",
    "end": "2447240"
  },
  {
    "text": "that you create it you create a role in your account that you want to bring into scope and then you give cross account",
    "start": "2447240",
    "end": "2454500"
  },
  {
    "text": "permissions to dome 9 zone environment in it the other two do very similar",
    "start": "2454500",
    "end": "2459720"
  },
  {
    "text": "things there are also tools that I have used where you wind up setting up a user",
    "start": "2459720",
    "end": "2465420"
  },
  {
    "text": "in the account that you want to bring into scope give it a set of permissions",
    "start": "2465420",
    "end": "2471060"
  },
  {
    "text": "and then you give your tool the access key and secret access key pair associated with that user we'd sooner",
    "start": "2471060",
    "end": "2478440"
  },
  {
    "text": "obviously not have static keys flying around so I'm having a chat with the appropriate",
    "start": "2478440",
    "end": "2485190"
  },
  {
    "text": "people to see if we can get them onto a cross account role system we'll see how",
    "start": "2485190",
    "end": "2490500"
  },
  {
    "text": "it goes also of course I've already mentioned cloud custodian this can also be",
    "start": "2490500",
    "end": "2495600"
  },
  {
    "text": "deployed in a multi account context thinking about the marketplace AWS",
    "start": "2495600",
    "end": "2501210"
  },
  {
    "text": "marketplace there's a whole bunch of security tools on there and in terms of",
    "start": "2501210",
    "end": "2506640"
  },
  {
    "text": "those that can help you with your compliance requirements it can be a big",
    "start": "2506640",
    "end": "2513450"
  },
  {
    "text": "old map to navigate one thing worth looking at if you haven't already is",
    "start": "2513450",
    "end": "2518460"
  },
  {
    "text": "there's a tool from all Gress called marketplace regulatory product mapping",
    "start": "2518460",
    "end": "2524040"
  },
  {
    "text": "and that actually takes all the security tools that are in the marketplace and",
    "start": "2524040",
    "end": "2529110"
  },
  {
    "text": "maps them out on a wheeeeel against a particular regulation regarding what each product is intrinsically certified",
    "start": "2529110",
    "end": "2537600"
  },
  {
    "text": "against and what it can help you with so that's actually a product on the marketplace that's well worth looking at",
    "start": "2537600",
    "end": "2544340"
  },
  {
    "text": "so when it comes to how products will actually work in across account world",
    "start": "2544340",
    "end": "2552320"
  },
  {
    "text": "ultimately they do need permissions in order to at least read log data which is",
    "start": "2552320",
    "end": "2558180"
  },
  {
    "text": "how some of them work others use a cross account role in order to go actually",
    "start": "2558180",
    "end": "2563630"
  },
  {
    "text": "looking pulling log records some even go polling things like describe api's and",
    "start": "2563630",
    "end": "2570140"
  },
  {
    "text": "it's also worth knowing how the tools actually report and act and how they",
    "start": "2570140",
    "end": "2575640"
  },
  {
    "text": "sensibly fit in in a multi accountant world if there's any vendors in the",
    "start": "2575640",
    "end": "2581100"
  },
  {
    "text": "audience by the way it would be if you're not doing it already a nice tip",
    "start": "2581100",
    "end": "2587250"
  },
  {
    "text": "if your product actually works works well in multi account environment is to",
    "start": "2587250",
    "end": "2592350"
  },
  {
    "text": "mention this in the product description and what I haven't actually got my demo",
    "start": "2592350",
    "end": "2599580"
  },
  {
    "text": "fully up and working yet when it comes to visualizing what you've actually got",
    "start": "2599580",
    "end": "2605370"
  },
  {
    "text": "in a multi account environment because they can be quite complex I've been",
    "start": "2605370",
    "end": "2610680"
  },
  {
    "text": "having a big play with hyper glance recently which is the only tool I've come across so far",
    "start": "2610680",
    "end": "2616859"
  },
  {
    "text": "that will do visualization of account assets across a multi account environment I'm hoping that when we",
    "start": "2616859",
    "end": "2624599"
  },
  {
    "text": "actually have the CID 308 session on let me think Thursday I'm hoping I may",
    "start": "2624599",
    "end": "2633119"
  },
  {
    "text": "actually have something to show we'll see we'll see how I get on in terms of resources on this the most important",
    "start": "2633119",
    "end": "2642420"
  },
  {
    "text": "that the most pertinent to this particular session here is the bit at",
    "start": "2642420",
    "end": "2647609"
  },
  {
    "text": "the bottom about cloud formation stack sets and how to go about using them and also the cloud watch events bus and when",
    "start": "2647609",
    "end": "2654989"
  },
  {
    "text": "it comes to other interesting security matters these are the usual video is",
    "start": "2654989",
    "end": "2660180"
  },
  {
    "text": "that I expect you've probably come across before and that's essentially me",
    "start": "2660180",
    "end": "2668059"
  }
]