[
  {
    "text": "hi i'm here to talk to you about aws amplify today",
    "start": "1599",
    "end": "7200"
  },
  {
    "text": "aws amplify is a set of tools and services that enables mobile and front-end web",
    "start": "7200",
    "end": "13679"
  },
  {
    "text": "developers to build secure scalable full stack applications all powered by aws my name is",
    "start": "13679",
    "end": "22080"
  },
  {
    "text": "gerard sanz and i'm a developer advocate for amplify in this video",
    "start": "22080",
    "end": "28400"
  },
  {
    "text": "i'm going to show you how to create an offline first app using aws amplify",
    "start": "28400",
    "end": "34800"
  },
  {
    "text": "and amplify data store you will create a chat room progressive web app using",
    "start": "34800",
    "end": "41040"
  },
  {
    "text": "vue with a seamlessly offline experience amplifi data store is an on-device",
    "start": "41040",
    "end": "47680"
  },
  {
    "text": "persistent repository for interacting with local data and able to automatically synchronize via graphql",
    "start": "47680",
    "end": "56800"
  },
  {
    "text": "using amplify data store will allow us to implement offline first",
    "start": "56800",
    "end": "61840"
  },
  {
    "text": "while using a simple programming model before we start this tutorial let me",
    "start": "61840",
    "end": "67280"
  },
  {
    "text": "show you the getting started guide so i'm going to pick view",
    "start": "67280",
    "end": "73840"
  },
  {
    "text": "and here we can see the different pieces that make the amplify framework the amplify cli amplify libraries",
    "start": "74479",
    "end": "82479"
  },
  {
    "text": "amplify ui components and also the amplified console",
    "start": "82479",
    "end": "88720"
  },
  {
    "text": "and before we start i would like you to follow the prerequisites so just to make sure",
    "start": "89759",
    "end": "96640"
  },
  {
    "text": "you have the latest versions of note npm and git",
    "start": "96640",
    "end": "102960"
  },
  {
    "text": "and also if you haven't got an aws account",
    "start": "102960",
    "end": "108079"
  },
  {
    "text": "this is the right time to go ahead and create one",
    "start": "108079",
    "end": "115840"
  },
  {
    "text": "you can follow the instructions in this video",
    "start": "116240",
    "end": "120960"
  },
  {
    "text": "or you can follow the manual instructions that appear just below",
    "start": "122960",
    "end": "131200"
  },
  {
    "text": "before we do that let's go and see a demo of what we are going to build",
    "start": "132239",
    "end": "143840"
  },
  {
    "text": "so we can see here two different instances of the app these are now released and using",
    "start": "146080",
    "end": "154840"
  },
  {
    "text": "https this is a requirement for progressive web apps",
    "start": "154840",
    "end": "161840"
  },
  {
    "text": "and we have a chat room so this is a chat room where different",
    "start": "161840",
    "end": "168000"
  },
  {
    "text": "users can log in and post messages so i'm going to",
    "start": "168000",
    "end": "174000"
  },
  {
    "text": "write a message",
    "start": "174000",
    "end": "177040"
  },
  {
    "text": "and as you can see it's been shared with the other user which is using a",
    "start": "182560",
    "end": "188480"
  },
  {
    "text": "firefox instance and we can see here",
    "start": "188480",
    "end": "193920"
  },
  {
    "text": "the name of my user there are sense also the time that it was posted and the message",
    "start": "193920",
    "end": "202159"
  },
  {
    "text": "let's answer",
    "start": "202400",
    "end": "213280"
  },
  {
    "text": "and we can see the behavior so what we are going to build is the",
    "start": "213280",
    "end": "219200"
  },
  {
    "text": "offline capabilities so one thing i'm gonna do is i'm gonna",
    "start": "219200",
    "end": "226400"
  },
  {
    "text": "make one of these clients offline and we can do that",
    "start": "226400",
    "end": "231680"
  },
  {
    "text": "by showing the developer tools picking the network tab and here you can see that i can go",
    "start": "231680",
    "end": "238879"
  },
  {
    "text": "offline so one thing that our app",
    "start": "238879",
    "end": "244480"
  },
  {
    "text": "is picking up is the offline state so whenever i'm offline my client",
    "start": "244480",
    "end": "251360"
  },
  {
    "text": "will pick up on that and show a message so it's clear for me",
    "start": "251360",
    "end": "256479"
  },
  {
    "text": "that any messages that i send during this time they will be hold on my device and",
    "start": "256479",
    "end": "263680"
  },
  {
    "text": "shared once i'm connected so let's share a message",
    "start": "263680",
    "end": "269840"
  },
  {
    "text": "so i'm going to send a message and one question you may be asking is okay",
    "start": "270720",
    "end": "276720"
  },
  {
    "text": "so where is this message of course it cannot be shared so it's being stored",
    "start": "276720",
    "end": "282880"
  },
  {
    "text": "using amplifi data store",
    "start": "282880",
    "end": "286720"
  },
  {
    "text": "the moment i went online the ui has changed so now i'm online we can see also that",
    "start": "290960",
    "end": "297199"
  },
  {
    "text": "the message has been shared with the other clients the other",
    "start": "297199",
    "end": "302320"
  },
  {
    "text": "people in the chat room the time is as the original",
    "start": "302320",
    "end": "307440"
  },
  {
    "text": "time that it was created and on the network from my client",
    "start": "307440",
    "end": "312720"
  },
  {
    "text": "we can see the interaction from graphql another thing that i want",
    "start": "312720",
    "end": "318320"
  },
  {
    "text": "to show you is that we can refresh while offline so let's do that very quickly",
    "start": "318320",
    "end": "327120"
  },
  {
    "text": "so i'm going to go offline again and in this case i want to refresh the",
    "start": "327440",
    "end": "333919"
  },
  {
    "text": "page so i know that when a client is offline we'll be able to do that so i'm going to",
    "start": "333919",
    "end": "340560"
  },
  {
    "text": "refresh the page and you can see that all the content has rendered correctly and if we look at the",
    "start": "340560",
    "end": "348639"
  },
  {
    "text": "network we will see that most of the requests have been served by the service worker",
    "start": "348639",
    "end": "358000"
  },
  {
    "text": "so that's pretty much it we are now ready to get started the first thing that we want to do is",
    "start": "358000",
    "end": "365680"
  },
  {
    "text": "create our view app using the view cli so we're going to go ahead and create",
    "start": "365680",
    "end": "372160"
  },
  {
    "text": "amplify data store",
    "start": "372160",
    "end": "375440"
  },
  {
    "text": "let's check that everything is working",
    "start": "379520",
    "end": "384720"
  },
  {
    "text": "okay and the first command is amplify init",
    "start": "387840",
    "end": "394240"
  },
  {
    "text": "and that will set up our amplify project so we are just going to pick the",
    "start": "394240",
    "end": "400319"
  },
  {
    "text": "defaults",
    "start": "400319",
    "end": "403039"
  },
  {
    "text": "and pick our aws profile",
    "start": "407759",
    "end": "411919"
  },
  {
    "text": "next thing we'll be adding the authentication flow so we are going",
    "start": "415120",
    "end": "420639"
  },
  {
    "text": "to pick the default configuration using the username to sign in",
    "start": "420639",
    "end": "436560"
  },
  {
    "text": "and we are ready to amplify push that will create and provision all of the",
    "start": "436560",
    "end": "441919"
  },
  {
    "text": "resources that we will need to get the authentication flow",
    "start": "441919",
    "end": "447759"
  },
  {
    "text": "ready to go so we are going to go ahead",
    "start": "447759",
    "end": "453599"
  },
  {
    "text": "next thing is we are going to add our dependencies and this is aws amplify",
    "start": "460240",
    "end": "469120"
  },
  {
    "text": "and aws amplify ui view",
    "start": "470560",
    "end": "479039"
  },
  {
    "text": "so let's configure our app and we are going to take the aws exports and call amplify",
    "start": "479039",
    "end": "486000"
  },
  {
    "text": "configure that will link our app with our aws account",
    "start": "486000",
    "end": "493599"
  },
  {
    "text": "we are also going to remove some of the code that we are not going",
    "start": "493599",
    "end": "498800"
  },
  {
    "text": "to use",
    "start": "498800",
    "end": "501280"
  },
  {
    "text": "and we are going to add some heather and some styling so the first thing is",
    "start": "504479",
    "end": "511840"
  },
  {
    "text": "adding the amplify authenticator and some of the dependencies",
    "start": "511840",
    "end": "518240"
  },
  {
    "text": "and the first one will be adding the user so we can follow the user as it logs in and",
    "start": "518320",
    "end": "525600"
  },
  {
    "text": "we are going to just load that user we can see here the authentication flow",
    "start": "525600",
    "end": "531760"
  },
  {
    "text": "it's working so we are ready to add",
    "start": "531760",
    "end": "536480"
  },
  {
    "text": "our api so we are going to pick graphql",
    "start": "536959",
    "end": "549839"
  },
  {
    "text": "we're going to change the api name to chatty api just to match",
    "start": "549839",
    "end": "556880"
  },
  {
    "text": "the name of our app we're going to pick api key as a default authorization",
    "start": "556880",
    "end": "577839"
  },
  {
    "text": "and at this point we want to make sure that we pick",
    "start": "579120",
    "end": "585519"
  },
  {
    "text": "conflict detection that's going to set up our amplifi data store and it will allow us",
    "start": "586160",
    "end": "592560"
  },
  {
    "text": "to synchronize with dynamodb we are going to pick",
    "start": "592560",
    "end": "598560"
  },
  {
    "text": "auto merge and that's going to be the last update wins",
    "start": "598560",
    "end": "604880"
  },
  {
    "text": "we can also pick some other options but that's going to be the one that",
    "start": "604880",
    "end": "610240"
  },
  {
    "text": "we're going to use let's look into our graphql schema",
    "start": "610240",
    "end": "619839"
  },
  {
    "text": "so we pick the to-do schema as a template and we're going to",
    "start": "627760",
    "end": "633680"
  },
  {
    "text": "use that to change it for our chatty app so we're going to",
    "start": "633680",
    "end": "638800"
  },
  {
    "text": "stay with the id we're going to add a new field that will keep the user",
    "start": "638800",
    "end": "646480"
  },
  {
    "text": "we also need a field for the messages and this will be in our chat room",
    "start": "646480",
    "end": "653120"
  },
  {
    "text": "the message that we exchange and also the time it was created",
    "start": "653120",
    "end": "658240"
  },
  {
    "text": "we're going to use a aws date time for that",
    "start": "658240",
    "end": "663760"
  },
  {
    "text": "and that will be it so let's push the latest changes",
    "start": "666079",
    "end": "674560"
  },
  {
    "text": "so we can start using our graphql api",
    "start": "674560",
    "end": "679440"
  },
  {
    "text": "and we are going to pick all of the defaults so that's going to create",
    "start": "682079",
    "end": "687600"
  },
  {
    "text": "the code to access our apis and is also generating queries mutations and subscriptions",
    "start": "687600",
    "end": "696399"
  },
  {
    "text": "okay so we have our graphql endpoint you can take note of it",
    "start": "699120",
    "end": "705519"
  },
  {
    "text": "and also the api key in order to use it so let's see what we have created",
    "start": "705519",
    "end": "712079"
  },
  {
    "text": "so far we can go to the aws amplify console and pick our app",
    "start": "712079",
    "end": "719360"
  },
  {
    "text": "if we go to amplifydatastore backend environments we will see that we have created",
    "start": "719360",
    "end": "726959"
  },
  {
    "text": "two categories one is authentication and the other one is api so here you can",
    "start": "726959",
    "end": "734000"
  },
  {
    "text": "come and access the users you can check the console incognito",
    "start": "734000",
    "end": "741680"
  },
  {
    "text": "you can also see an overview of all of the different resources that we",
    "start": "741680",
    "end": "747519"
  },
  {
    "text": "have created and you can of course check the graphql api",
    "start": "747519",
    "end": "753519"
  },
  {
    "text": "there's also the data source which in this case is a dynamodb table",
    "start": "754639",
    "end": "761920"
  },
  {
    "text": "and you can see here all of the details",
    "start": "762800",
    "end": "767680"
  },
  {
    "text": "so now we are going to add the dependencies for the data store and we are also going to generate the",
    "start": "770720",
    "end": "778480"
  },
  {
    "text": "models for our graphql schema",
    "start": "778480",
    "end": "787360"
  },
  {
    "text": "so here we are gonna display a form so we can submit our messages",
    "start": "787360",
    "end": "796560"
  },
  {
    "text": "we link that with a v model that will be part of the form",
    "start": "796560",
    "end": "803040"
  },
  {
    "text": "and users will be able to send their messages this is just a single",
    "start": "803279",
    "end": "810079"
  },
  {
    "text": "chat room",
    "start": "810079",
    "end": "815440"
  },
  {
    "text": "so let's go ahead and import the data store and the models that we created",
    "start": "815440",
    "end": "828399"
  },
  {
    "text": "we're going to use a form so we can take the messages from the",
    "start": "828399",
    "end": "835839"
  },
  {
    "text": "user and we can start by implementing the send message",
    "start": "835839",
    "end": "843839"
  },
  {
    "text": "so the first thing we are going to gather the message from the form",
    "start": "848160",
    "end": "857839"
  },
  {
    "text": "and we are only going to continue if the message is not",
    "start": "859440",
    "end": "865360"
  },
  {
    "text": "undefined in order to store this message in our",
    "start": "868839",
    "end": "874320"
  },
  {
    "text": "data store we are going to use the save api and we are going to use the model",
    "start": "874320",
    "end": "880800"
  },
  {
    "text": "to create a new instance so that will require a user",
    "start": "880800",
    "end": "888240"
  },
  {
    "text": "we can use the user from our logged in user details so we are going",
    "start": "888240",
    "end": "894480"
  },
  {
    "text": "to use the username from that",
    "start": "894480",
    "end": "899839"
  },
  {
    "text": "then we have the message the message we took from the form",
    "start": "902000",
    "end": "910240"
  },
  {
    "text": "and we can also use the shortcut as is the same name and then we will add",
    "start": "911279",
    "end": "920480"
  },
  {
    "text": "the created add field which is using an",
    "start": "920480",
    "end": "926560"
  },
  {
    "text": "iso string",
    "start": "926560",
    "end": "929760"
  },
  {
    "text": "so that's pretty much it",
    "start": "931600",
    "end": "934720"
  },
  {
    "text": "once this message is stored",
    "start": "939759",
    "end": "945120"
  },
  {
    "text": "we're gonna update our ui and in this case i'm just gonna log",
    "start": "948560",
    "end": "957120"
  },
  {
    "text": "a message in the console",
    "start": "957199",
    "end": "960639"
  },
  {
    "text": "another thing i want to do is i want to clear the message so it doesn't it doesn't appear and the",
    "start": "967360",
    "end": "974800"
  },
  {
    "text": "user knows that the message has been successful",
    "start": "974800",
    "end": "983839"
  },
  {
    "text": "if we want to add error handling we just need to add a catch block and so far we're just going to",
    "start": "986560",
    "end": "994399"
  },
  {
    "text": "console.log the error",
    "start": "994399",
    "end": "997839"
  },
  {
    "text": "now we are going to add the chat room messages the first thing",
    "start": "999440",
    "end": "1005920"
  },
  {
    "text": "i'm going to add the loading so we can display a loading message and we need",
    "start": "1005920",
    "end": "1011199"
  },
  {
    "text": "a container so we can display a list of messages we're gonna use a",
    "start": "1011199",
    "end": "1017680"
  },
  {
    "text": "sorted list and we can also don't forget the key as",
    "start": "1017680",
    "end": "1022720"
  },
  {
    "text": "this is a best practice we're gonna bind",
    "start": "1022720",
    "end": "1029280"
  },
  {
    "text": "the class so we can differentiate between my messages and other people messages",
    "start": "1029280",
    "end": "1035038"
  },
  {
    "text": "and i'm gonna use the username the classes will be me and others and",
    "start": "1035039",
    "end": "1041038"
  },
  {
    "text": "i'm going to change the styling for those basically one is going to show",
    "start": "1041039",
    "end": "1046720"
  },
  {
    "text": "on my left and the other ones are going to be showing on my right",
    "start": "1046720",
    "end": "1052320"
  },
  {
    "text": "as for the messages i'm going to use the timestamp",
    "start": "1052320",
    "end": "1058559"
  },
  {
    "text": "so we can see what messages what time the message was created and then of",
    "start": "1059919",
    "end": "1066240"
  },
  {
    "text": "course the message",
    "start": "1066240",
    "end": "1069360"
  },
  {
    "text": "one thing we need to do is in order to format the different messages on our view we're",
    "start": "1071520",
    "end": "1078720"
  },
  {
    "text": "gonna use some filters one is just to show the time",
    "start": "1078720",
    "end": "1084240"
  },
  {
    "text": "and the other is gonna use also the date so we have the date and also the time",
    "start": "1084240",
    "end": "1095840"
  },
  {
    "text": "we need these new entries on our data on our state the messages array and also",
    "start": "1098320",
    "end": "1104400"
  },
  {
    "text": "the loading and i'm gonna just sort the messages so i'm gonna create a new instance and then",
    "start": "1104400",
    "end": "1111200"
  },
  {
    "text": "sort by using the timestamp",
    "start": "1111200",
    "end": "1115679"
  },
  {
    "text": "as we are using the moment library i need to declare this so we can access moment",
    "start": "1117840",
    "end": "1126080"
  },
  {
    "text": "and then to load the messages i'm going to show a new api from data store",
    "start": "1126080",
    "end": "1133200"
  },
  {
    "text": "we're just going to change the flag so we know now that we are loading these",
    "start": "1134240",
    "end": "1140160"
  },
  {
    "text": "messages and as for the data store i'm gonna use the query api",
    "start": "1140160",
    "end": "1146320"
  },
  {
    "text": "the query api uses the model as the first argument and this is the model that we generated",
    "start": "1146320",
    "end": "1155280"
  },
  {
    "text": "and the predicates for the predicates we can pick all and that will query all of the",
    "start": "1156240",
    "end": "1163200"
  },
  {
    "text": "messages in our store",
    "start": "1163200",
    "end": "1168240"
  },
  {
    "text": "then we will just change our flag so we are not showing the loading anymore",
    "start": "1168240",
    "end": "1176320"
  },
  {
    "text": "and we will assign the messages so we get the latest ones",
    "start": "1176480",
    "end": "1182559"
  },
  {
    "text": "so this is pretty similar as the previous call that we did to store the message we",
    "start": "1184160",
    "end": "1191600"
  },
  {
    "text": "are going to add error handling again with a try catch",
    "start": "1191600",
    "end": "1198240"
  },
  {
    "text": "and we're going to use the same approach so we are just going to console lock these very quickly",
    "start": "1200240",
    "end": "1208320"
  },
  {
    "text": "okay so that's pretty much it and one thing i",
    "start": "1219440",
    "end": "1225840"
  },
  {
    "text": "want to make sure is that our loading",
    "start": "1225840",
    "end": "1231039"
  },
  {
    "text": "it's always set to false when we are leaving this mesh method",
    "start": "1231039",
    "end": "1239120"
  },
  {
    "text": "another thing i want to implement is the delete all so we can also clear all the messages",
    "start": "1239120",
    "end": "1245360"
  },
  {
    "text": "very similar to query but now we're using delete and then we just refresh our view",
    "start": "1245360",
    "end": "1251919"
  },
  {
    "text": "calling load messages we're going to do the same after the",
    "start": "1251919",
    "end": "1257919"
  },
  {
    "text": "user logs in so we always get the latest version of the messages in the data store",
    "start": "1257919",
    "end": "1264799"
  },
  {
    "text": "let's add that button",
    "start": "1266640",
    "end": "1277840"
  },
  {
    "text": "so one thing we want to add is the ability to get real-time",
    "start": "1278480",
    "end": "1284720"
  },
  {
    "text": "subscriptions and here i'm adding that subscription with the",
    "start": "1284720",
    "end": "1290000"
  },
  {
    "text": "data store observe from that we can pass the model and we will get a",
    "start": "1290000",
    "end": "1295919"
  },
  {
    "text": "subscription which will give us few things",
    "start": "1295919",
    "end": "1301280"
  },
  {
    "text": "like the operation type and the element and then every time i got an update i'm gonna",
    "start": "1301280",
    "end": "1308000"
  },
  {
    "text": "just load the messages in the data store",
    "start": "1308000",
    "end": "1313280"
  },
  {
    "text": "so we can get our ui synchronized so here i'm gonna just send a message and we can",
    "start": "1313280",
    "end": "1319039"
  },
  {
    "text": "see the information that we are logging the model and the operation type which is",
    "start": "1319039",
    "end": "1324159"
  },
  {
    "text": "insert and we can also see that the first time that we insert our message we are missing some of the",
    "start": "1324159",
    "end": "1331600"
  },
  {
    "text": "details and the idea is that these details",
    "start": "1331600",
    "end": "1338080"
  },
  {
    "text": "delete last change inversion they are only being updated when our data store is",
    "start": "1338080",
    "end": "1344840"
  },
  {
    "text": "synchronized so the first time we create the entry on our local data store",
    "start": "1344840",
    "end": "1350960"
  },
  {
    "text": "the second time we get the update from the cloud",
    "start": "1350960",
    "end": "1357679"
  },
  {
    "text": "so that will tell us that this has been updated in the cloud and the version will be incremented so",
    "start": "1357679",
    "end": "1365120"
  },
  {
    "text": "now we have a version 2 and we have the deleted flag to true so now we know that this record",
    "start": "1365120",
    "end": "1373200"
  },
  {
    "text": "is being also deleted not only locally but also in the cloud so we need to take",
    "start": "1373200",
    "end": "1379600"
  },
  {
    "text": "that into consideration when developing our apps we have always",
    "start": "1379600",
    "end": "1385120"
  },
  {
    "text": "the local data store and the cloud data store so let's see that on the back end so we can go to aws",
    "start": "1385120",
    "end": "1394480"
  },
  {
    "text": "amplify console and i'm going to go to the table which is storing these messages",
    "start": "1394480",
    "end": "1402000"
  },
  {
    "text": "and we will see the fields for those messages so let's see the message",
    "start": "1402000",
    "end": "1407039"
  },
  {
    "text": "and we can see that this message is now in version one",
    "start": "1407039",
    "end": "1412640"
  },
  {
    "text": "we can see also the timestamp the user who created that message and if i go",
    "start": "1414159",
    "end": "1422080"
  },
  {
    "text": "ahead and delete it let's see what happens on the server side",
    "start": "1422080",
    "end": "1427840"
  },
  {
    "text": "so we have a version a different version number we have version number two",
    "start": "1427840",
    "end": "1433039"
  },
  {
    "text": "we also have the flag delete deleted a true and we can also see",
    "start": "1433039",
    "end": "1439279"
  },
  {
    "text": "this time to leave and that time to leave will tell dynamodb",
    "start": "1439279",
    "end": "1446720"
  },
  {
    "text": "when it can purge this item so it will be done by dynamodb",
    "start": "1446720",
    "end": "1453520"
  },
  {
    "text": "and if we enter this into a converter that tells us that it will be removed in a month time",
    "start": "1453520",
    "end": "1460960"
  },
  {
    "text": "so we don't need to actually do anything it will just be dynamodb that will do it for us",
    "start": "1460960",
    "end": "1466159"
  },
  {
    "text": "so let's see how that works when we are using two different clients so here we have on",
    "start": "1466159",
    "end": "1472400"
  },
  {
    "text": "the left chrome instance and on the right a firefox",
    "start": "1472400",
    "end": "1477840"
  },
  {
    "text": "instance and as you can see it's pretty fast we have two users jsons and",
    "start": "1477840",
    "end": "1484559"
  },
  {
    "text": "robot and we can also see what happens when i go offline so let's see that",
    "start": "1484559",
    "end": "1492240"
  },
  {
    "text": "i mean for now when we're going offline we get just the dinosaur",
    "start": "1492240",
    "end": "1499520"
  },
  {
    "text": "and here we can see that we can play the game from the dinosaur",
    "start": "1499520",
    "end": "1504640"
  },
  {
    "text": "but it's probably not what we want to do if you want to play this game you can go",
    "start": "1504640",
    "end": "1510480"
  },
  {
    "text": "to chrome dino and you can play it on your own but i mean of course this is not what we",
    "start": "1510480",
    "end": "1517360"
  },
  {
    "text": "want what we want is um to use to be able to use our app offline",
    "start": "1517360",
    "end": "1522559"
  },
  {
    "text": "as well so let's see what changes we have to do in order to make our application offline",
    "start": "1522559",
    "end": "1530000"
  },
  {
    "text": "first",
    "start": "1530000",
    "end": "1532480"
  },
  {
    "text": "so we can see that actually we don't have offline support so let's",
    "start": "1541520",
    "end": "1548320"
  },
  {
    "text": "let's change that",
    "start": "1548320",
    "end": "1557840"
  },
  {
    "text": "the first thing we are going to do is we are going to run the add command on the cli and we",
    "start": "1559919",
    "end": "1566640"
  },
  {
    "text": "are going to add the view pwa plugin",
    "start": "1566640",
    "end": "1572158"
  },
  {
    "text": "that will allow us few things one of them is working being able to work offline",
    "start": "1573200",
    "end": "1580158"
  },
  {
    "text": "the other feature that we'll be able to achieve is that we will be able to install our",
    "start": "1580720",
    "end": "1587120"
  },
  {
    "text": "app so we can see the changes after running",
    "start": "1587120",
    "end": "1592640"
  },
  {
    "text": "this command and one of them is that in our main.js we have a register service worker",
    "start": "1592640",
    "end": "1602480"
  },
  {
    "text": "we're going to build our app and see what are the changes so in our this",
    "start": "1603200",
    "end": "1610400"
  },
  {
    "text": "folder we can see that we have few folders we also have",
    "start": "1610400",
    "end": "1615760"
  },
  {
    "text": "some assets that has been created for us and this is to support the different",
    "start": "1615760",
    "end": "1623279"
  },
  {
    "text": "devices that progressive web app support and some other things that we have in",
    "start": "1623279",
    "end": "1629919"
  },
  {
    "text": "this this folder is the manifest",
    "start": "1629919",
    "end": "1636240"
  },
  {
    "text": "this setup for progressive web apps have already changed how our index.html page is rendered",
    "start": "1636720",
    "end": "1646159"
  },
  {
    "text": "and that will allow us to use this app in the different environments so if we look",
    "start": "1646159",
    "end": "1653120"
  },
  {
    "text": "at the manifest we can see the details of our app with some icons for the different",
    "start": "1653120",
    "end": "1659440"
  },
  {
    "text": "uh android and ios platforms we also picked the standalone",
    "start": "1659440",
    "end": "1668480"
  },
  {
    "text": "property and somehow we got also some precache files so any file that was in our",
    "start": "1668480",
    "end": "1676559"
  },
  {
    "text": "public folder it's now being pre-cached so we can install it",
    "start": "1676559",
    "end": "1683840"
  },
  {
    "text": "there's also the service worker which has been completely auto generated for us",
    "start": "1684240",
    "end": "1691039"
  },
  {
    "text": "and we are going to look into how we can change this file later on",
    "start": "1691039",
    "end": "1698559"
  },
  {
    "text": "so that's going to be our service worker with the view pwa plugin",
    "start": "1698559",
    "end": "1707600"
  },
  {
    "text": "but we're gonna see some issues with this default configuration",
    "start": "1708799",
    "end": "1714720"
  },
  {
    "text": "one thing i want you to show is how you can test",
    "start": "1719919",
    "end": "1725039"
  },
  {
    "text": "your app and because we are using service worker we need to be able to use this locally instead of",
    "start": "1725039",
    "end": "1731760"
  },
  {
    "text": "having to publish it every time so you can use this simple http",
    "start": "1731760",
    "end": "1737840"
  },
  {
    "text": "and i'm going to demonstrate how it works so i i just changed the port so it's",
    "start": "1737840",
    "end": "1743520"
  },
  {
    "text": "local host 888 that's our simple http server",
    "start": "1743520",
    "end": "1749760"
  },
  {
    "text": "and now if i load the application i will see that the assets are being",
    "start": "1749760",
    "end": "1756880"
  },
  {
    "text": "served by the service worker and you can see it here",
    "start": "1756880",
    "end": "1762399"
  },
  {
    "text": "so now this has been pre-cached we can also see here on the application",
    "start": "1762640",
    "end": "1768799"
  },
  {
    "text": "tab we have our manifest our service worker is ready to go and it's already serving",
    "start": "1768799",
    "end": "1775840"
  },
  {
    "text": "these pre-catch files and we can see the files here these are all the files on",
    "start": "1775840",
    "end": "1781200"
  },
  {
    "text": "the public folder and if we go offline let's try to",
    "start": "1781200",
    "end": "1789039"
  },
  {
    "text": "refresh okay so we got most of the application but",
    "start": "1789039",
    "end": "1794320"
  },
  {
    "text": "we get some failed files",
    "start": "1794320",
    "end": "1798799"
  },
  {
    "text": "these are some traces that workbox is leaving for us and we can see the",
    "start": "1799440",
    "end": "1806840"
  },
  {
    "text": "pre-catching responses so we have",
    "start": "1806840",
    "end": "1813679"
  },
  {
    "text": "some issues we are going to use the custom configuration so we need to add a view config file",
    "start": "1814159",
    "end": "1820480"
  },
  {
    "text": "we are going to create a public manifest json that's gonna",
    "start": "1820480",
    "end": "1827120"
  },
  {
    "text": "be creating all the settings when we installed this app in different",
    "start": "1827120",
    "end": "1834240"
  },
  {
    "text": "devices so that will work for windows mac and linux that will be",
    "start": "1834240",
    "end": "1840880"
  },
  {
    "text": "the default settings we could also copy the manifest from the default view pwa plugin",
    "start": "1840880",
    "end": "1848320"
  },
  {
    "text": "and we are just linking some of these properties that live in this pwa",
    "start": "1848320",
    "end": "1855679"
  },
  {
    "text": "property and here we have some settings for apple devices but the most interesting is this workbox",
    "start": "1856240",
    "end": "1863840"
  },
  {
    "text": "plugin mode we're using inject manifest so that will give us a custom setup we need to create",
    "start": "1863840",
    "end": "1871760"
  },
  {
    "text": "the service worker file on the source folder",
    "start": "1871760",
    "end": "1876480"
  },
  {
    "text": "so we created the view config the manifest file on the public folder and also the service worker",
    "start": "1877200",
    "end": "1883519"
  },
  {
    "text": "we are going to use similar settings from the default configuration so that's the entry",
    "start": "1883519",
    "end": "1889039"
  },
  {
    "text": "on our cache so we can identify our app we are also using some settings so our",
    "start": "1889039",
    "end": "1896399"
  },
  {
    "text": "devices use the latest version of the service worker and they don't wait to do",
    "start": "1896399",
    "end": "1903919"
  },
  {
    "text": "an update we could also implement a pop-up to ask the user if the user wants to",
    "start": "1903919",
    "end": "1911039"
  },
  {
    "text": "upgrade to a new version of the service worker but we are going to use this setup for now we also saw that",
    "start": "1911039",
    "end": "1918640"
  },
  {
    "text": "there were some missing files so we are going to pre-catch those you can see the svg",
    "start": "1918640",
    "end": "1925120"
  },
  {
    "text": "from the amplify logo and we are just going to add these to all of the pre-catch assets",
    "start": "1925120",
    "end": "1932799"
  },
  {
    "text": "so every time we try to access these assets we're gonna pre-catch them and they will",
    "start": "1932799",
    "end": "1938799"
  },
  {
    "text": "be ready once we install the application using the manifest so let's",
    "start": "1938799",
    "end": "1947279"
  },
  {
    "text": "run the demo we need to build again so we use germ build for that",
    "start": "1947279",
    "end": "1955279"
  },
  {
    "text": "and we need to also run the simple http server again",
    "start": "1955279",
    "end": "1963840"
  },
  {
    "text": "so we have the latest version now on our this folder so let's serve",
    "start": "1964880",
    "end": "1971679"
  },
  {
    "text": "this folder with with the server so what we want to test now is that we",
    "start": "1972240",
    "end": "1977440"
  },
  {
    "text": "can go offline and we will get that served from the precache",
    "start": "1977440",
    "end": "1984080"
  },
  {
    "text": "so we need to at least load the application with the new service worker once and let's check that we have for",
    "start": "1988880",
    "end": "1995919"
  },
  {
    "text": "example the svg file now it's on our cache so",
    "start": "1995919",
    "end": "2001679"
  },
  {
    "text": "we are now safe we can go offline and that will be served from the service worker",
    "start": "2001679",
    "end": "2007519"
  },
  {
    "text": "so let's try that okay so we can see that the logo is",
    "start": "2007519",
    "end": "2012559"
  },
  {
    "text": "working now so using a custom configuration we can fix",
    "start": "2012559",
    "end": "2017600"
  },
  {
    "text": "the initial issues that we had with our application i also want to test that i",
    "start": "2017600",
    "end": "2023919"
  },
  {
    "text": "can still send messages offline i can see the message",
    "start": "2023919",
    "end": "2029919"
  },
  {
    "text": "locally and let's see that on index tv so if i go to my data store",
    "start": "2029919",
    "end": "2036799"
  },
  {
    "text": "my amplify data store i can see that i have the entry but it hasn't been synchronized yet",
    "start": "2036799",
    "end": "2042320"
  },
  {
    "text": "the version is not available and also the last change add is not available so i'm going to go on",
    "start": "2042320",
    "end": "2049760"
  },
  {
    "text": "online and i want to see that there's a graphql that has been",
    "start": "2049760",
    "end": "2056240"
  },
  {
    "text": "triggered and that will be the mutation so yeah the mutation has been sent",
    "start": "2056240",
    "end": "2061919"
  },
  {
    "text": "so all of the other clients can synchronize and show that message from me and i can",
    "start": "2061919",
    "end": "2067839"
  },
  {
    "text": "also see that that has happened on the back end so now i have version and also the",
    "start": "2067839",
    "end": "2073358"
  },
  {
    "text": "timestamp one thing i want to do is to improve the",
    "start": "2073359",
    "end": "2079118"
  },
  {
    "text": "user experiences i want to show when the application is offline so i'm going to use an offline",
    "start": "2079119",
    "end": "2085358"
  },
  {
    "text": "property and i'm going to change the ui a little bit so i'm going to add some",
    "start": "2085359",
    "end": "2090398"
  },
  {
    "text": "classes i'm going to add a message",
    "start": "2090399",
    "end": "2094799"
  },
  {
    "text": "and in order to do that i'm going to use the app from aws amplify",
    "start": "2098079",
    "end": "2105200"
  },
  {
    "text": "that will create a listener and i'm going to be listening to changes on the network",
    "start": "2105200",
    "end": "2112000"
  },
  {
    "text": "so let's add that i'm going to listen to changes on the data store channel and the message that i want to",
    "start": "2112000",
    "end": "2119200"
  },
  {
    "text": "be listening is the network status so i'm going to take the event and the",
    "start": "2119200",
    "end": "2125200"
  },
  {
    "text": "data and that's going to tell me if the network is active and i'm going to update my",
    "start": "2125200",
    "end": "2131599"
  },
  {
    "text": "offline flag to change my ui the only thing i need to do now is",
    "start": "2131599",
    "end": "2137920"
  },
  {
    "text": "change some of the classes so i can change the color of the background and also show a message this",
    "start": "2137920",
    "end": "2146400"
  },
  {
    "text": "by doing this i will be able to tell the user okay now you want to send a message to",
    "start": "2146400",
    "end": "2153359"
  },
  {
    "text": "the chat room but you are offline so it's clear for the user",
    "start": "2153359",
    "end": "2158720"
  },
  {
    "text": "when the application is operating offline so i'm going to change that network here",
    "start": "2158720",
    "end": "2164320"
  },
  {
    "text": "so you can see that now the application can tell the user when it's offline",
    "start": "2164320",
    "end": "2170160"
  },
  {
    "text": "and also inform that it's going to be sharing these messages",
    "start": "2170160",
    "end": "2175359"
  },
  {
    "text": "once we get online again so the only thing that it's left is how",
    "start": "2175359",
    "end": "2182400"
  },
  {
    "text": "we can install this um that's thanks to the manifest so this is the result",
    "start": "2182400",
    "end": "2188240"
  },
  {
    "text": "in a mac environment i can also turn the",
    "start": "2188240",
    "end": "2194640"
  },
  {
    "text": "wi-fi off and see how the ui changes",
    "start": "2194640",
    "end": "2201839"
  },
  {
    "text": "and the same when we go back online so now we have shown all of the features we",
    "start": "2204720",
    "end": "2211440"
  },
  {
    "text": "can see that our progressive web app has almost uh native like features",
    "start": "2211440",
    "end": "2219599"
  },
  {
    "text": "we can use it as a full app it's not on the browser anymore this is available for different",
    "start": "2219599",
    "end": "2225520"
  },
  {
    "text": "platforms you can also uninstall it",
    "start": "2225520",
    "end": "2230240"
  },
  {
    "text": "so we have covered everything if you want to follow a tutorial you can go to",
    "start": "2231040",
    "end": "2238560"
  },
  {
    "text": "gsans amplify data store chatty view and you can create",
    "start": "2238560",
    "end": "2246640"
  },
  {
    "text": "this same app you can also follow the final solution if you get",
    "start": "2246640",
    "end": "2252880"
  },
  {
    "text": "stuck or you want to check the code this is json's amplify data store chatty",
    "start": "2252880",
    "end": "2258560"
  },
  {
    "text": "pwa view and that's the end so in this tutorial we have seen",
    "start": "2258560",
    "end": "2265280"
  },
  {
    "text": "how to create an offline first app using aws amplify and amplify data store",
    "start": "2265280",
    "end": "2272800"
  },
  {
    "text": "you have created a progressive web app using view with a seamless offline",
    "start": "2272800",
    "end": "2278480"
  },
  {
    "text": "experience you can reload your app while offline you can store messages",
    "start": "2278480",
    "end": "2283760"
  },
  {
    "text": "while offline and share them when you go back online you can also show the user",
    "start": "2283760",
    "end": "2290160"
  },
  {
    "text": "whenever the app is offline while providing a great user experience",
    "start": "2290160",
    "end": "2297839"
  },
  {
    "text": "amplify data store to synchronize your messages so that's all thank you for listening",
    "start": "2297839",
    "end": "2313838"
  },
  {
    "text": "you",
    "start": "2315040",
    "end": "2317119"
  }
]