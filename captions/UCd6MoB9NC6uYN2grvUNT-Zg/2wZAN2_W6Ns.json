[
  {
    "start": "0",
    "end": "115000"
  },
  {
    "text": "hello good afternoon and welcome everyone glad you could join us today for our session on building web scale applications with AWS uh as the last",
    "start": "1240",
    "end": "8840"
  },
  {
    "text": "people are seated my name is Simon Alicia I'm principal solution architect here at Amazon and I'm thrilled to be",
    "start": "8840",
    "end": "13920"
  },
  {
    "text": "here with you joining me today will be James Hamilton who for many of you will need no introduction who'll be uh coming on a bit later in the talk and and",
    "start": "13920",
    "end": "20119"
  },
  {
    "text": "contributing it as well and I'd also like at this point to uh to recognize Mark Ryland one of the uh leaders of our",
    "start": "20119",
    "end": "26359"
  },
  {
    "text": "um public sector team uh the solution architecture team who this was his idea this presentation and certainly",
    "start": "26359",
    "end": "32000"
  },
  {
    "text": "contribute a lot of the content so wanted to give a shout out to Mark there as well now I've been working in it for",
    "start": "32000",
    "end": "38120"
  },
  {
    "text": "about 22 years now um I know I look so young but you know I carry it well and I started off as a Mainframe programmer",
    "start": "38120",
    "end": "45480"
  },
  {
    "text": "kcks cobal db2 I'm good with that and in fact that's my retirement plan in another 20 years as well because I",
    "start": "45480",
    "end": "51480"
  },
  {
    "text": "figure who's going to know that stuff and there'll be systems lying around with that stuff there but you know when",
    "start": "51480",
    "end": "56760"
  },
  {
    "text": "you're developing systems inhouse for a predictable audience there's kind of a set of criteria you",
    "start": "56760",
    "end": "61879"
  },
  {
    "text": "work to and that's what you work to but in the web World things grow really rapidly and scale",
    "start": "61879",
    "end": "69080"
  },
  {
    "text": "unpredictably and personally I had a bit of a taste of this early on in my career back in '95 I uh designed the um the",
    "start": "69080",
    "end": "75479"
  },
  {
    "text": "passenger movement system for Australia so this is the thing that when you come to Australia you give your passport they check if you're a good enough person to",
    "start": "75479",
    "end": "81520"
  },
  {
    "text": "come in and you go through and same thing happens when you leave and you know I built that system and it was",
    "start": "81520",
    "end": "86720"
  },
  {
    "text": "designed at the time to handle about 20 million movements a year now handles about 30 million movements a year it had",
    "start": "86720",
    "end": "92399"
  },
  {
    "text": "seasonal workloads was widely distributed across States and territories and ships and all that sort",
    "start": "92399",
    "end": "97479"
  },
  {
    "text": "of stuff but essentially we knew kind of what that traffic profile would look like in the web world you have no",
    "start": "97479",
    "end": "103840"
  },
  {
    "text": "control you don't know where the traffic is coming from you don't always know why it's coming you may have some",
    "start": "103840",
    "end": "109920"
  },
  {
    "text": "predictions that you think you've made correctly but you're kind of working a little bit in the dark and it's a bit of a challenge so I want to reprise a bit of",
    "start": "109920",
    "end": "117000"
  },
  {
    "start": "115000",
    "end": "306000"
  },
  {
    "text": "a challenge that we spoke about this morning in the keynote as we lead into this think about 8 months of travel",
    "start": "117000",
    "end": "122280"
  },
  {
    "text": "think about going hell for leather for8 months in One Direction you can do a lot in 8 months you can almost have a baby in 8 months some people do they go a bit",
    "start": "122280",
    "end": "129440"
  },
  {
    "text": "early it happens you know think of seven minutes of Terror seven minutes of when you're not sure what's happening but you",
    "start": "129440",
    "end": "135319"
  },
  {
    "text": "want everyone to see what's going on even though the outcome could be kind of not so good think about having hundreds",
    "start": "135319",
    "end": "141560"
  },
  {
    "text": "of thousands of people watching this at the same time and knowing that there are no second chances that this is a historic",
    "start": "141560",
    "end": "147959"
  },
  {
    "text": "occasion it's a One-Shot deal it's like the moon landing you get one go at it and of course this is the Mars Curiosity",
    "start": "147959",
    "end": "153640"
  },
  {
    "text": "Rover and like many of you in this room I sat and watched it live on my machine I watched the live stream and I was",
    "start": "153640",
    "end": "159080"
  },
  {
    "text": "excited by it because I'm an engineer and let's face it is this not a child engineer's dream I'm going to send a",
    "start": "159080",
    "end": "164319"
  },
  {
    "text": "rocket to Mars and I'm going to have a remote control car that goes onto Mars but my remote control car will be landed",
    "start": "164319",
    "end": "170280"
  },
  {
    "text": "by this really cool rocket thing as well I mean you couldn't dream it any bigger and so the interesting part of the story",
    "start": "170280",
    "end": "176560"
  },
  {
    "text": "here is that you had this unpredictable audience around the world of people people with different interests and different reasons for wanting to watch",
    "start": "176560",
    "end": "183319"
  },
  {
    "text": "this who needed to see this in real time and so the architecture that was used at NASA JPL allowed them to build highly",
    "start": "183319",
    "end": "191319"
  },
  {
    "text": "scalable Stacks that were essentially stateless and we'll talk about that shortly but essentially were able to deliver the same experience wherever",
    "start": "191319",
    "end": "197239"
  },
  {
    "text": "they needed to geographically that were very large in terms of their scale they could deliver 25 megabits per second of throughput per",
    "start": "197239",
    "end": "204440"
  },
  {
    "text": "stack could be called upon on demand when needed and what I think is particularly Co is they don't exist",
    "start": "204440",
    "end": "211360"
  },
  {
    "text": "anymore because they're not needed anymore so the experience that we all had was a successful experience was a",
    "start": "211360",
    "end": "217319"
  },
  {
    "text": "rewarding experience was a an easy to watch experience irrespective of what was happening at the back",
    "start": "217319",
    "end": "223040"
  },
  {
    "text": "end now when we talk about architecture I like to make the comparison to an artist think about what an artist does",
    "start": "223040",
    "end": "229319"
  },
  {
    "text": "an artist wants to create something that didn't exist before that other people like that other people find uh",
    "start": "229319",
    "end": "235400"
  },
  {
    "text": "interesting to look at that is born from their experiences that comes from their knowledge of their craft their technique",
    "start": "235400",
    "end": "241760"
  },
  {
    "text": "Etc now the architect does much the same thing except we have the added wrinkle of we have business imperatives we have",
    "start": "241760",
    "end": "248480"
  },
  {
    "text": "timelines we have budget if anyone doesn't have budget love to meet you if you have no budget constraints and the",
    "start": "248480",
    "end": "254799"
  },
  {
    "text": "challenge of being an architect is really and this is kind of how I Define it is that the solution architect has to make really important decisions in",
    "start": "254799",
    "end": "261720"
  },
  {
    "text": "really short time frames often with insufficient information and has to usually get it right that's the",
    "start": "261720",
    "end": "268000"
  },
  {
    "text": "challenge that we face and much like the the the artist we have this pallet of tools available to us but just because",
    "start": "268000",
    "end": "274800"
  },
  {
    "text": "we have these pallet of tools doesn't mean we can necessarily use them effectively if you gave me a a pallet of oil paints I can't paint like Picasso I",
    "start": "274800",
    "end": "281759"
  },
  {
    "text": "have no skill in that area oops there we go and much like if",
    "start": "281759",
    "end": "288880"
  },
  {
    "text": "uh I tried in this next hour to talk to you about all the different schools of art that are out there impressionism cubism Etc I'd fail miserably I'm not",
    "start": "288880",
    "end": "295440"
  },
  {
    "text": "going to try and teach you everything about web scale that you could possibly want to know what I want to do those cover a taste of things that maybe will",
    "start": "295440",
    "end": "302280"
  },
  {
    "text": "spark some ideas that will give you some food for thought to take away so firstly what I want to do is",
    "start": "302280",
    "end": "308600"
  },
  {
    "start": "306000",
    "end": "316000"
  },
  {
    "text": "cover the primary colors I want to cover the fundamentals this will be familiar to some of you it should be familiar to",
    "start": "308600",
    "end": "313840"
  },
  {
    "text": "all of you so we're going to cover them for completeness the first thing is to design for failure and nothing will",
    "start": "313840",
    "end": "320080"
  },
  {
    "start": "316000",
    "end": "362000"
  },
  {
    "text": "appear to fail and I know when I started architecting systems for the cloud this",
    "start": "320080",
    "end": "325120"
  },
  {
    "text": "was a mind Bender for me because I came from the golden spanner background of you build things that don't break and as",
    "start": "325120",
    "end": "332360"
  },
  {
    "text": "hard as I tried to build things that don't break they broke and as Vera says",
    "start": "332360",
    "end": "338039"
  },
  {
    "text": "everything fails all the time and let's give the big fell his due he's right and he's usually right and he's right on",
    "start": "338039",
    "end": "344039"
  },
  {
    "text": "this one so what we're trying to have here is a situation where we create the swan you know the swan Glides gracefully",
    "start": "344039",
    "end": "350560"
  },
  {
    "text": "across the pond looking elegant and graceful and underneath the legs are going like crazy and they don't look particularly good either but that's kind",
    "start": "350560",
    "end": "356280"
  },
  {
    "text": "of what you want for your customers customers should not be exposed to any particular failure and you have to design backwards from",
    "start": "356280",
    "end": "362560"
  },
  {
    "start": "362000",
    "end": "413000"
  },
  {
    "text": "there loose coupling sets you free loose coupling allows you to scale more",
    "start": "362560",
    "end": "368280"
  },
  {
    "text": "elegantly and more cost effectively it is a very very important design pattern",
    "start": "368280",
    "end": "373919"
  },
  {
    "text": "to create independent boxes that can cope with different decoupled tasks and",
    "start": "373919",
    "end": "379120"
  },
  {
    "text": "can offset from one another what they're trying to do typically using the design pattern of using some type of Q in this",
    "start": "379120",
    "end": "385120"
  },
  {
    "text": "case we've got the simple Q service so here I could say I'm bring in",
    "start": "385120",
    "end": "390199"
  },
  {
    "text": "uh photos to be rendered through controller a I'm queuing them up and I don't even turn on controller B until I",
    "start": "390199",
    "end": "395960"
  },
  {
    "text": "have a th000 photos to process because why would I run the compu if I have no work for me it might not be cost",
    "start": "395960",
    "end": "401080"
  },
  {
    "text": "effective for me to do so it means I can scale different parts of the architecture independently and more efficiently",
    "start": "401080",
    "end": "407599"
  },
  {
    "text": "rather than having the big box that runs out of space or tightly coupled systems that all have to scale at the same",
    "start": "407599",
    "end": "414039"
  },
  {
    "start": "413000",
    "end": "461000"
  },
  {
    "text": "time you need to implement elasticity now elasticity is a fundamental property of the cloud but",
    "start": "414039",
    "end": "420680"
  },
  {
    "text": "there's no point if you don't implement it so one of the things that has to happen here is you need to use",
    "start": "420680",
    "end": "426080"
  },
  {
    "text": "bootstrapping of your instances and bootstrapping basically means that when an instance starts up it says who am I",
    "start": "426080",
    "end": "432280"
  },
  {
    "text": "and what is my role and it's kind of the question that many of us could ask as we're brushing our teeth in the mirror",
    "start": "432280",
    "end": "437319"
  },
  {
    "text": "in the morning who am I what is my role what am I supposed to be doing here the instances need to come up configure",
    "start": "437319",
    "end": "442840"
  },
  {
    "text": "themselves maybe they're a golden image and they're completely already good to go maybe they have to go to some repository and grab code and load",
    "start": "442840",
    "end": "448800"
  },
  {
    "text": "themselves up this pattern means that you don't have to worry about failures of nodes uh",
    "start": "448800",
    "end": "454280"
  },
  {
    "text": "rolling out changes it gives you a lot of power and a lot of control it also gives you the elasticity that you want",
    "start": "454280",
    "end": "459960"
  },
  {
    "text": "from the cloud of course no discussion would be right without discussing security think",
    "start": "459960",
    "end": "465919"
  },
  {
    "start": "461000",
    "end": "503000"
  },
  {
    "text": "about security think about it all the time in all elements of your application you should be encrypting data in flight",
    "start": "465919",
    "end": "472039"
  },
  {
    "text": "and at rest that is sensitive today in current systems irrespective of where they're deployed if you're deploying",
    "start": "472039",
    "end": "477919"
  },
  {
    "text": "things on AWS then you should be looking very closely at using identity and access management multiactor",
    "start": "477919",
    "end": "484560"
  },
  {
    "text": "authentication security groups virtual private cloud and all the other capabilities that are available to you",
    "start": "484560",
    "end": "491400"
  },
  {
    "text": "but I also strongly encourage you to think about other attack vectors think about SQL injection attack layer 7even",
    "start": "491400",
    "end": "497199"
  },
  {
    "text": "attack all the other things that can happen to your application it needs to be a holistic view of",
    "start": "497199",
    "end": "503840"
  },
  {
    "start": "503000",
    "end": "534000"
  },
  {
    "text": "security you shouldn't fear constraints and again the the journey in",
    "start": "503840",
    "end": "508879"
  },
  {
    "text": "the mind shift that you go through when you start designing in this in this world is you think well maybe if the answer I'm getting is not the answer I",
    "start": "508879",
    "end": "514880"
  },
  {
    "text": "want I'm not asking the question the right way maybe instead of saying I need",
    "start": "514880",
    "end": "520279"
  },
  {
    "text": "a box with one terab of ram I'm really saying I need a inmemory cluster that",
    "start": "520279",
    "end": "526080"
  },
  {
    "text": "gives me one terab of ram that's made up of smaller notes don't fear constraints",
    "start": "526080",
    "end": "531360"
  },
  {
    "text": "think of a different way to ask the question think in parallel you have",
    "start": "531360",
    "end": "537880"
  },
  {
    "start": "534000",
    "end": "562000"
  },
  {
    "text": "access to a vast amount of Compu comp you want to break up things that you're doing into small chunks and have them",
    "start": "537880",
    "end": "543959"
  },
  {
    "text": "operating simultaneously and at the same time so with S3 you want to be using multi-part upload to get the concurrency",
    "start": "543959",
    "end": "549880"
  },
  {
    "text": "going if you're processing large data sets using things like elastic map ruce can break that up and process it with",
    "start": "549880",
    "end": "555640"
  },
  {
    "text": "thousands of nodes de decompose your components and process them",
    "start": "555640",
    "end": "562600"
  },
  {
    "text": "efficiently and finally leverage multiple storage options I've worked in",
    "start": "562600",
    "end": "567640"
  },
  {
    "start": "567000",
    "end": "819000"
  },
  {
    "text": "storage for a long time and I can tell you when all you have is a sand everything looks like block storage well",
    "start": "567640",
    "end": "572959"
  },
  {
    "text": "the world that we inhabit is not just block storage anymore if you have objects you need to store they belong in",
    "start": "572959",
    "end": "578519"
  },
  {
    "text": "S3 if you have objects you need to store for a really long time they belong in glacia if you need no SQL database you",
    "start": "578519",
    "end": "584920"
  },
  {
    "text": "use a bit of Dynamo DB if you need a relational database use IDs if you need high performance block storage use EBS",
    "start": "584920",
    "end": "591240"
  },
  {
    "text": "provisioned iops you mix and match the components to solve the problem you have a whole pet you can choose and select",
    "start": "591240",
    "end": "598040"
  },
  {
    "text": "from as and when you you need them so that's the basics that's the Primary Colors Let's uh let's switch",
    "start": "598040",
    "end": "604640"
  },
  {
    "text": "gears a bit and move to some more Advanced Techniques and hopefully nothing that bends your mind like this eer drawing does but uh you know",
    "start": "604640",
    "end": "610519"
  },
  {
    "text": "something will get you thinking so often when I'm having a conversation with customers the first",
    "start": "610519",
    "end": "615600"
  },
  {
    "text": "thing we say to customers you need to make sure your application is stateless use a stateless architecture move on",
    "start": "615600",
    "end": "623720"
  },
  {
    "text": "what is a stateless software architecture a stateless software architecture does not retain any",
    "start": "623720",
    "end": "629120"
  },
  {
    "text": "information about the last transaction into the next it doesn't keep user data it doesn't keep logical outcomes or",
    "start": "629120",
    "end": "635680"
  },
  {
    "text": "parameters or any other components of that transaction it's as if it's forgotten all about it and you're all",
    "start": "635680",
    "end": "640720"
  },
  {
    "text": "very familiar with this model of operation because this is how HTTP Works HTTP is a stateless protocol works",
    "start": "640720",
    "end": "646680"
  },
  {
    "text": "really well because it is a stateless protocol we'll talk about why that is shortly what does statelessness give you",
    "start": "646680",
    "end": "653320"
  },
  {
    "text": "why would you go to this effort statelessness is fundamental to letting you autoscale in AWS so autoscaling is",
    "start": "653320",
    "end": "660000"
  },
  {
    "text": "the ability to create rules for tiers of your application to horizontally scale to say in this example I want anything",
    "start": "660000",
    "end": "666440"
  },
  {
    "text": "from four nodes to 200 nodes to do my processing based upon the parameters and",
    "start": "666440",
    "end": "671800"
  },
  {
    "text": "the rules that I set maybe they grow over time maybe they shrink over time it doesn't matter because the nodes in this",
    "start": "671800",
    "end": "678720"
  },
  {
    "text": "group are all replaceable none of them has any state none of them has any more knowledge than the other one does it",
    "start": "678720",
    "end": "683880"
  },
  {
    "text": "doesn't matter if user a connects to node one or 10 or seven doesn't matter if half of them crash and have to Reb it",
    "start": "683880",
    "end": "689560"
  },
  {
    "text": "doesn't matter this is an exceptionally powerful technique and I always point out Auto scaling to people because it's",
    "start": "689560",
    "end": "694760"
  },
  {
    "text": "not on the goey and people sometimes miss it it also lets you spread the load so",
    "start": "694760",
    "end": "701120"
  },
  {
    "text": "if we have no state in our nodes our load balancer can just spread the load to all the nodes as necessary there's no",
    "start": "701120",
    "end": "707519"
  },
  {
    "text": "need for sticky sessions or State Management now yes you can do that but I can tell you that once you start going",
    "start": "707519",
    "end": "712760"
  },
  {
    "text": "down the rat of having sticky sessions you end up building more complexity for yourself that you probably don't want",
    "start": "712760",
    "end": "718000"
  },
  {
    "text": "later on now you may say Simon this sounds all well and good but I'm building an",
    "start": "718000",
    "end": "724000"
  },
  {
    "text": "application here it's got a shopping cart it's going to be really annoying if my user comes in adds something to the shopping cart and then the next",
    "start": "724000",
    "end": "729880"
  },
  {
    "text": "transaction they do there's nothing in the shopping cart that's going to kind of be suboptimal and I agree with you so",
    "start": "729880",
    "end": "735680"
  },
  {
    "text": "usually some sort of state has to reside somewhere so where does it go in some cases it goes you know in cookies in the",
    "start": "735680",
    "end": "741720"
  },
  {
    "text": "browser particularly small amounts of information or a bit of reference information can go there you may",
    "start": "741720",
    "end": "746920"
  },
  {
    "text": "maintain a session database we may maintain some sort of inmemory session manager a lot of languages and",
    "start": "746920",
    "end": "753320"
  },
  {
    "text": "Frameworks include that and we may also have a framework provided session Handler so um asp.net for example",
    "start": "753320",
    "end": "760399"
  },
  {
    "text": "provides a really rich set of functionality in this area captures pretty much everything you'd want to keep and it manages it for",
    "start": "760399",
    "end": "767480"
  },
  {
    "text": "you but now we've introduced ourselves to a problem haven't we because we need the store of state to be performant you",
    "start": "767480",
    "end": "774920"
  },
  {
    "text": "know it needs to work really fast because every transaction that I do is going to be using this store of State in some way it needs to be scalable because",
    "start": "774920",
    "end": "782800"
  },
  {
    "text": "remember we're building for web scale here I don't know how big I'm going to get it had better be able to grow as big as any other component of my system and",
    "start": "782800",
    "end": "789639"
  },
  {
    "text": "a bit more and of course it needs to be reliable I needed to be there all the",
    "start": "789639",
    "end": "795320"
  },
  {
    "text": "time because I'm storing my state there that's where my knowledge of my customers is going to",
    "start": "795320",
    "end": "800680"
  },
  {
    "text": "be so where should it reside state must reside outside of the scope of the",
    "start": "800680",
    "end": "806760"
  },
  {
    "text": "things that you wish to scale stateless too often I see people running State",
    "start": "806760",
    "end": "812160"
  },
  {
    "text": "stores on their web servers or in their app server it is the wrong place it stops you from growing big you need to",
    "start": "812160",
    "end": "818440"
  },
  {
    "text": "have some sort of session State service that is built outside of the scope of those elements you wish to",
    "start": "818440",
    "end": "825360"
  },
  {
    "start": "819000",
    "end": "830000"
  },
  {
    "text": "scale now you may say ah slot of hand here Simon you're doing a bit of a trick here for me because I still have to",
    "start": "825360",
    "end": "831079"
  },
  {
    "start": "830000",
    "end": "950000"
  },
  {
    "text": "build this session State and it has to go somewhere and it has to be performant",
    "start": "831079",
    "end": "836440"
  },
  {
    "text": "scalable and reliable so what are some of the things I can do to get around that well there's a number of strategies",
    "start": "836440",
    "end": "842560"
  },
  {
    "text": "one is you can just put your state into Dynamo DB suddenly you have a highly",
    "start": "842560",
    "end": "847600"
  },
  {
    "text": "scalable uh provision throughput solution that has multi-az resilience",
    "start": "847600",
    "end": "853399"
  },
  {
    "text": "and very good low latency and it's interesting even I was working on the booth earlier today I had maybe three customers who came up to me who are",
    "start": "853399",
    "end": "859480"
  },
  {
    "text": "already using Dynamo DB just for this reason in fact there was a blog post recently talking about how to integrate",
    "start": "859480",
    "end": "865800"
  },
  {
    "text": "the uh the the asp.net session state hand it directly into Dynamo DB now you",
    "start": "865800",
    "end": "871320"
  },
  {
    "text": "may not need that level of scale you may just want to throw it into a mySQL database you can do that using",
    "start": "871320",
    "end": "877680"
  },
  {
    "text": "IDs or you may want to roll your own using some of our high iio instances for very high throughput in",
    "start": "877680",
    "end": "883639"
  },
  {
    "text": "performance another common patent is to wrap all this with some sort of in-memory cache so elastic cache is a",
    "start": "883639",
    "end": "889440"
  },
  {
    "text": "good candidate for that to make sure that you know maybe all your state just needs to be in memory because you want that performance and maybe it doesn't",
    "start": "889440",
    "end": "895639"
  },
  {
    "text": "matter if it doesn't last for long times of persistence or you persist at like L the nice thing is is that there are many",
    "start": "895639",
    "end": "901199"
  },
  {
    "text": "pre-written tools out there that implement this kind of patent already but it's not that hard to build in fact",
    "start": "901199",
    "end": "906560"
  },
  {
    "text": "i' venture to say with the type of people we have in this very crowded room today you could turn to one another take out a sheet of paper and write the API",
    "start": "906560",
    "end": "913279"
  },
  {
    "text": "calls you'd expect to see in a state handling system and hey you persist that off to some other location so State",
    "start": "913279",
    "end": "919759"
  },
  {
    "text": "needs to be outside of the scope of the things you wish to scale and itself needs to be scalable so what does this buy you this",
    "start": "919759",
    "end": "926440"
  },
  {
    "text": "statelessness of which I speak it gives you Freedom so this is an online gaming scenario this is Carlos con one of our",
    "start": "926440",
    "end": "933360"
  },
  {
    "text": "very artistically gifted Engineers Drew this up and it's a it's a great diagram and you can see here that from the gamer",
    "start": "933360",
    "end": "938759"
  },
  {
    "text": "perspective I come in through my scalable elastic load balancer to my stateless set of web servers that can",
    "start": "938759",
    "end": "945120"
  },
  {
    "text": "cater for any amount of load based on autoscale I'm storing my state in Dynamo DB and then I'm also leveraging some of",
    "start": "945120",
    "end": "951959"
  },
  {
    "start": "950000",
    "end": "971000"
  },
  {
    "text": "my other principles aren't I I'm using parallelism to process my game database in EMR I'm also doing things like",
    "start": "951959",
    "end": "958000"
  },
  {
    "text": "storing my log files into S3 using this architect I can be as",
    "start": "958000",
    "end": "963160"
  },
  {
    "text": "successful as I like with my game or I can be as small as I need to be cost effective with my game and not have to",
    "start": "963160",
    "end": "968600"
  },
  {
    "text": "worry about future growth now we've all heard the saying if",
    "start": "968600",
    "end": "974279"
  },
  {
    "text": "at first you don't succeed try try again it's important to take this to heart because retry logic is fundamental to",
    "start": "974279",
    "end": "981959"
  },
  {
    "text": "scalable design fundamental but it's not just a case of",
    "start": "981959",
    "end": "987360"
  },
  {
    "text": "try keep trying keep trying trying if you don't have some sort of backoff logic as well your service will fail and",
    "start": "987360",
    "end": "993279"
  },
  {
    "text": "I'll show you why shortly may still break under the weight of the traffic and you want to use item potent",
    "start": "993279",
    "end": "999959"
  },
  {
    "text": "as a secret Source now I'll talk a bit more about item potent shortly but just bear that one in mind for",
    "start": "999959",
    "end": "1005800"
  },
  {
    "text": "me so without retries the web as we know wouldn't work it assumes everything",
    "start": "1005800",
    "end": "1011759"
  },
  {
    "text": "fails it's designed for failure and it works really well because of it it knows that you know networks kind of look like that sometimes and it's not so good good",
    "start": "1011759",
    "end": "1019000"
  },
  {
    "text": "but the interesting thing is if you consider the difference between a bad Network and a failing host the",
    "start": "1019000",
    "end": "1025000"
  },
  {
    "text": "difference from the client side there is no difference as long as I can retry",
    "start": "1025000",
    "end": "1031120"
  },
  {
    "text": "reconnect and and some host is available at some point for me to reconnect to I don't know if the network was down I",
    "start": "1031120",
    "end": "1036558"
  },
  {
    "text": "don't know if a router was broken I don't know if the server is not working properly I don't know nor do I need to care and interestingly enough this retry",
    "start": "1036559",
    "end": "1044319"
  },
  {
    "text": "concept is now kind of baked into the way our users operate systems you now people are really used to refreshing the",
    "start": "1044319",
    "end": "1050080"
  },
  {
    "text": "web page to get the latest scores they will almost obsessively refresh Twitter to see the latest update you know",
    "start": "1050080",
    "end": "1055400"
  },
  {
    "text": "there's this sort of compulsion to it so the problem that this can cause is",
    "start": "1055400",
    "end": "1061280"
  },
  {
    "text": "things like thundering herds and their ilk and I'm sure you know that the name thundering herds cannot mean anything",
    "start": "1061280",
    "end": "1067039"
  },
  {
    "text": "good um basically this is the concept of saying well how do I service a large set of requests all at the same",
    "start": "1067039",
    "end": "1074360"
  },
  {
    "text": "time and what happens if you know my service failed or was a bit deg rated for a while and I'm coming back to life",
    "start": "1074360",
    "end": "1080480"
  },
  {
    "text": "and I'm coming back to fruition but I've got this pent up load of transactions that's coming down upon me I can't",
    "start": "1080480",
    "end": "1086720"
  },
  {
    "text": "recover and what if lots of customers are just hitting the Refresh on the on the on the request all the time this has",
    "start": "1086720",
    "end": "1092559"
  },
  {
    "text": "a cost to you because if you consider you know you would have seen people who walk up to the elevator and they press the button and they're waiting for the",
    "start": "1092559",
    "end": "1098480"
  },
  {
    "text": "elevator it's taking a while so they press it again and again and again again now the engineering you knows that pressing that button a number of times",
    "start": "1098480",
    "end": "1103840"
  },
  {
    "text": "makes no difference to how quick the elevator comes but if they're calling your AP multiple times that has a difference to",
    "start": "1103840",
    "end": "1110440"
  },
  {
    "text": "you in terms of the workload that you're trying to process so backoff logic ensures that",
    "start": "1110440",
    "end": "1117919"
  },
  {
    "text": "the retries Do Not consolidate into one vicious cycle that will just overflow",
    "start": "1117919",
    "end": "1123280"
  },
  {
    "text": "you and just swamp you with workload so what's the approach here one",
    "start": "1123280",
    "end": "1128640"
  },
  {
    "start": "1126000",
    "end": "1305000"
  },
  {
    "text": "of the approaches is to use an exponential backoff algorithm and this is one that was provided actually by the",
    "start": "1128640",
    "end": "1134799"
  },
  {
    "text": "simple DB team that they recommend using in client side transactions and let me break it down for you really simply",
    "start": "1134799",
    "end": "1141120"
  },
  {
    "text": "essentially what it's saying is if I try and do a transaction and I'm successful or it's a client side problem I'll go",
    "start": "1141120",
    "end": "1146360"
  },
  {
    "text": "deal with that on the client but if I have a server based failure I'm going to back off I'm going to back off for up to",
    "start": "1146360",
    "end": "1152919"
  },
  {
    "text": "400 milliseconds then I'm going to try again but if I fail again I'm going to back off again and this time I'm going",
    "start": "1152919",
    "end": "1158679"
  },
  {
    "text": "to wait 1600 milliseconds I'll try again and then I'll back off and wait 6,400 milliseconds but I'm not going to do it",
    "start": "1158679",
    "end": "1164960"
  },
  {
    "text": "so simply as just to say back off of These Fine it amounts because that doesn't help if I have 100,000 transactions all hitting me at the same",
    "start": "1164960",
    "end": "1171039"
  },
  {
    "text": "time they back off 400 milliseconds and then hit me again I'm no better off what this does is randomizes those retries so",
    "start": "1171039",
    "end": "1177880"
  },
  {
    "text": "it says of let's say 100,000 transactions that are coming through maybe I get a th000 in this particular millisecond and maybe 1,500 in that",
    "start": "1177880",
    "end": "1184320"
  },
  {
    "text": "millisecond maybe only 100 that millisecond so I can have a better chance to absorb the workload in a",
    "start": "1184320",
    "end": "1189720"
  },
  {
    "text": "gradual sense this kind of logic is baked deep into a lot of the networking hardware and networking software te that",
    "start": "1189720",
    "end": "1195200"
  },
  {
    "text": "we have in the infrastructure we use today it's important to consider consider this in your application",
    "start": "1195200",
    "end": "1200840"
  },
  {
    "text": "design so what about item potent item potent is your word for the day it is my gift to you in the Afterparty later on",
    "start": "1200840",
    "end": "1208159"
  },
  {
    "text": "you can say what did you learn got me some item potent I'm looking pretty good today out of the reinvent conference and",
    "start": "1208159",
    "end": "1213480"
  },
  {
    "text": "really item potent is the property of an operation whereby the effect of it only",
    "start": "1213480",
    "end": "1218960"
  },
  {
    "text": "happens once irrespective of whether you apply it multiple times so I can do the same thing multiple times I'm only going",
    "start": "1218960",
    "end": "1225080"
  },
  {
    "text": "to get the same outcome and this keeps you safe why because executing the same",
    "start": "1225080",
    "end": "1232679"
  },
  {
    "text": "thing twice or more times doesn't have any more effect than doing it once so how would this fit into things",
    "start": "1232679",
    "end": "1238640"
  },
  {
    "text": "well let's use an ec2 example this is a command to spin up a new ec2 instance and you'll see there's a parameter there",
    "start": "1238640",
    "end": "1244480"
  },
  {
    "text": "that some of you may not be familiar with which is client D token it's kind of broken up over two lines I apologize for that and this is a token you can",
    "start": "1244480",
    "end": "1251360"
  },
  {
    "text": "apply to your command 64 character token and this says no matter how many times I",
    "start": "1251360",
    "end": "1257240"
  },
  {
    "text": "run this command in a a particular region I will get one and only one ec2",
    "start": "1257240",
    "end": "1262720"
  },
  {
    "text": "instance interesting why would I use this well imagine I'm coding a script and imagine I made a coding error now",
    "start": "1262720",
    "end": "1270039"
  },
  {
    "text": "I'm the first to admit I may have made one or two coding errors in my career this happened very rarely but it happens",
    "start": "1270039",
    "end": "1275440"
  },
  {
    "text": "so I've written a code a script and my coding error should spin off one instance but I've got a loop in there",
    "start": "1275440",
    "end": "1281440"
  },
  {
    "text": "and the loop is Mal formed and I've ended up with five calls to this command if I don't have an em potent call I end",
    "start": "1281440",
    "end": "1287240"
  },
  {
    "text": "up with five instances I probably don't want that if I rerun the script I've now got 10 instances I'm",
    "start": "1287240",
    "end": "1292480"
  },
  {
    "text": "in a world of hurt using this type of model I know that no matter what I do I will get one instance so I'm making the",
    "start": "1292480",
    "end": "1299720"
  },
  {
    "text": "call I'm getting one outcome all the time item potent very important to",
    "start": "1299720",
    "end": "1305559"
  },
  {
    "start": "1305000",
    "end": "1363000"
  },
  {
    "text": "consider so if we're talking about distributed systems we couldn't discuss it without talking about cap theorem and",
    "start": "1305840",
    "end": "1311919"
  },
  {
    "text": "cap theor was proposed by Eric Brewer about the year 2000 but it's based on work that happened a long time earlier and was a sort of culmination of a",
    "start": "1311919",
    "end": "1318159"
  },
  {
    "text": "thought process around distributed systems and it basically looks at these kinds of systems and says well there are",
    "start": "1318159",
    "end": "1324520"
  },
  {
    "text": "these three attributes that we're trying to balance here we've got consistency so this means that the nodes in the",
    "start": "1324520",
    "end": "1330120"
  },
  {
    "text": "distributed system all see the same copy of data at the same time we've got availability which means that I can hit",
    "start": "1330120",
    "end": "1336760"
  },
  {
    "text": "any node and apply typically an update is kind of how we Define it I can apply an update on any node that I want",
    "start": "1336760",
    "end": "1342919"
  },
  {
    "text": "anytime and I've got partition tolerance which means if nodes in the distributed system can't speak to one another across",
    "start": "1342919",
    "end": "1349120"
  },
  {
    "text": "the network everything still works as designed so the traditional view is that",
    "start": "1349120",
    "end": "1354640"
  },
  {
    "text": "if you have these three things in your system I'll also be meeting your unicorn that you have uh in the backyard as well",
    "start": "1354640",
    "end": "1359960"
  },
  {
    "text": "because this does not exist that's kind of the fundamentals of it if you like now let me give you some examples just",
    "start": "1359960",
    "end": "1365760"
  },
  {
    "start": "1363000",
    "end": "1517000"
  },
  {
    "text": "to to crystallize that thought process so a synchronously replicated database",
    "start": "1365760",
    "end": "1371360"
  },
  {
    "text": "is a good example of something that is consistent and available but it doesn't like partitions at all it won't work properly in a partition state whereas a",
    "start": "1371360",
    "end": "1378720"
  },
  {
    "text": "readon storage system is a great example of being consistent because all the nodes can always see the data and can",
    "start": "1378720",
    "end": "1384320"
  },
  {
    "text": "tolerate partitions because it's readon but you're not going to get an update happening on that system anytime soon whereas something like DNS is a",
    "start": "1384320",
    "end": "1392279"
  },
  {
    "text": "multimaster asynchronous type database where I can always get an update to someone and it's partition tolerant",
    "start": "1392279",
    "end": "1399039"
  },
  {
    "text": "because they don't need to talk to one another all the time but it's not going to be consistent and any of you who worked with you know DNS providers and",
    "start": "1399039",
    "end": "1405080"
  },
  {
    "text": "time to leaders and stuff like that know the pain that that can also cause as as well so there are pluses and minuses to all of these",
    "start": "1405080",
    "end": "1410919"
  },
  {
    "text": "things but one of the things I really like about cap theorem and and any theorem where the originator of the",
    "start": "1410919",
    "end": "1416360"
  },
  {
    "text": "theorem goes back and revises their work is that Eric Brewer has done just this and it's a great article I've got the",
    "start": "1416360",
    "end": "1421880"
  },
  {
    "text": "link down the bottom there where he goes back and looks at this Theory 12 years later to clarify a few things I think",
    "start": "1421880",
    "end": "1427440"
  },
  {
    "text": "it's important to consider this in your own design it's not choose two out of three it's not if you know that the",
    "start": "1427440",
    "end": "1435120"
  },
  {
    "text": "concept of a partition is rare why would would you sacrifice consistency and availability just to have partition",
    "start": "1435120",
    "end": "1441960"
  },
  {
    "text": "tolerance you probably shouldn't also cap attributes aren't this binary thing",
    "start": "1441960",
    "end": "1447400"
  },
  {
    "text": "they're continuous measures particularly in complicated systems you'll see an example shortly where it's not a case of saying here's my system it has the stamp",
    "start": "1447400",
    "end": "1453840"
  },
  {
    "text": "of cap on it it's a far more nuanced conversation a far more detailed conversation around functionality in",
    "start": "1453840",
    "end": "1460200"
  },
  {
    "text": "your application and in your design so as you said managing partitions is actually the Easy Choice",
    "start": "1460200",
    "end": "1466760"
  },
  {
    "text": "of cap I know that in general I'm going to be consistent and available but I know at",
    "start": "1466760",
    "end": "1471919"
  },
  {
    "text": "times I may be petitioned so I will manage that state very carefully and mitigate the states that I know will",
    "start": "1471919",
    "end": "1478279"
  },
  {
    "text": "cause me some trouble and I'll show you how you can do that shortly and as I mentioned it's an",
    "start": "1478279",
    "end": "1484120"
  },
  {
    "text": "operational or function level decision let's use some examples think of an automatic tele",
    "start": "1484120",
    "end": "1489760"
  },
  {
    "text": "machine uh it's partitioned from the network can I still withdraw money well",
    "start": "1489760",
    "end": "1494960"
  },
  {
    "text": "yes I can because the bank has a policy that says you know Simon I know where you live if you take out too much money",
    "start": "1494960",
    "end": "1501320"
  },
  {
    "text": "I'm just going to come get it from you later on so I'm happy to give you up to you know $200 if this particular note is partitioned conversely you want to make",
    "start": "1501320",
    "end": "1508000"
  },
  {
    "text": "a deposit please go ahead put it into my safe I have no trouble accepting money from you in the petition State because",
    "start": "1508000",
    "end": "1513559"
  },
  {
    "text": "it's a managed concept it's a managed State the other thing to consider is",
    "start": "1513559",
    "end": "1519960"
  },
  {
    "start": "1517000",
    "end": "1542000"
  },
  {
    "text": "that latency and the partition decision is your decision as the designer you",
    "start": "1519960",
    "end": "1525440"
  },
  {
    "text": "choose when that timeout takes place you choose how much based on your transactional requirements you can",
    "start": "1525440",
    "end": "1530720"
  },
  {
    "text": "tolerate in terms of delay of propagation of information before you have to say I'm now entering the",
    "start": "1530720",
    "end": "1536600"
  },
  {
    "text": "petition State you have conscious control over that so use that",
    "start": "1536600",
    "end": "1542399"
  },
  {
    "start": "1542000",
    "end": "1600000"
  },
  {
    "text": "control now I talked about well how do I deal with this sort of petition State well fortunately in back in ' 89 so",
    "start": "1542399",
    "end": "1548039"
  },
  {
    "text": "predating the whole cap discussion Li Lamport and some others came up with this thing called paxos clusters which",
    "start": "1548039",
    "end": "1553720"
  },
  {
    "text": "really implement this distributed State machine ensuring cons consistency and availability amongst distributed systems",
    "start": "1553720",
    "end": "1560240"
  },
  {
    "text": "but also giving you a very predictable outcome when you enter the partition state so it lets you exist in that state",
    "start": "1560240",
    "end": "1566440"
  },
  {
    "text": "and get out of that state in kind of as clean a way as possible and it uses things like Quorum nodes and that's",
    "start": "1566440",
    "end": "1572440"
  },
  {
    "text": "where the name paxos came from it's kind of a mythical Greek island where this Quorum concept came up so it's a really",
    "start": "1572440",
    "end": "1577799"
  },
  {
    "text": "complicated and interesting proof and I'm not going to try and explain it all to you today but essentially this gives",
    "start": "1577799",
    "end": "1583360"
  },
  {
    "text": "you a nice design approach to build into your system or you can offload",
    "start": "1583360",
    "end": "1589840"
  },
  {
    "text": "it so maybe you want to get some other system to do this kind of work for you a great example is Dynamo DB Dynamo DB has",
    "start": "1589840",
    "end": "1597960"
  },
  {
    "text": "this concept of conditional rights and they are item potent conditional rights as well so this means that you only",
    "start": "1597960",
    "end": "1604840"
  },
  {
    "start": "1600000",
    "end": "1691000"
  },
  {
    "text": "update when a condition is met and you can see the the little Java code snippet down the bottom here basically it's",
    "start": "1604840",
    "end": "1610320"
  },
  {
    "text": "saying whenever I go and update my price I'm going to update it based on another value that I expect to see so there's an",
    "start": "1610320",
    "end": "1616039"
  },
  {
    "text": "example here it's a little bit small so work you through it got client one and client two client one wants to go ahead",
    "start": "1616039",
    "end": "1621960"
  },
  {
    "text": "and read item one and get the price $10 client two goes ahead and does the same thing price is $10 client one comes in",
    "start": "1621960",
    "end": "1628159"
  },
  {
    "text": "and updates that item and says the price is now $8 in the meantime client two is",
    "start": "1628159",
    "end": "1633640"
  },
  {
    "text": "gone to make an update and says hey the price is not $10 anymore I can't do my update so my client says I'm going to",
    "start": "1633640",
    "end": "1640440"
  },
  {
    "text": "retry I'm going to reread that information present it to the user and let them make the update again so I'm not invalidating any information I'm not",
    "start": "1640440",
    "end": "1647559"
  },
  {
    "text": "suffering from any kind of partitioning in my environment I'm able to guarantee my update is correct based on the truth",
    "start": "1647559",
    "end": "1653440"
  },
  {
    "text": "that I believed was the case very powerful concept really simple",
    "start": "1653440",
    "end": "1660120"
  },
  {
    "text": "implementation so let's move on to one of my favorite topics which is data tier scalability and it is the bane of the",
    "start": "1660320",
    "end": "1666720"
  },
  {
    "text": "architect's existence um it's no mistake that I've got the the scream on there this is where most technical debt in",
    "start": "1666720",
    "end": "1673320"
  },
  {
    "text": "most projects is built up particularly new projects I see this because you just want to get the database laid out and",
    "start": "1673320",
    "end": "1679279"
  },
  {
    "text": "done and you want to get on with coding the cool stuff but the data is the gravity in your system it's the thing that's going to control what's going to",
    "start": "1679279",
    "end": "1685360"
  },
  {
    "text": "happen to your system in the long term it's going to cause you the most heartache the most nightmares the most scaling",
    "start": "1685360",
    "end": "1690399"
  },
  {
    "text": "challenges so what do we do well the first approach we can use is what I call the Jaws approach you remember in the",
    "start": "1690399",
    "end": "1696519"
  },
  {
    "start": "1691000",
    "end": "1768000"
  },
  {
    "text": "movie Jaws um uh the the captain sorry the the police officer is there he's looking at the the draw you know at the",
    "start": "1696519",
    "end": "1703200"
  },
  {
    "text": "back of the boat he's throwing some bait out and Ro shid is sitting there and draws the surface of and it's this massive shark he looks at it and he's",
    "start": "1703200",
    "end": "1709159"
  },
  {
    "text": "kind of backing up backing up and he turns to Robert Shaw and says you're going to need a bigger boat in many",
    "start": "1709159",
    "end": "1715480"
  },
  {
    "text": "projects this is what happens you got the database it's running it's running traffic's coming in you're growing you're growing and you're looking at each other going we're going to need a",
    "start": "1715480",
    "end": "1721399"
  },
  {
    "text": "bigger box now often that's a complicated or expensive decision fortunately in the cloud not so much",
    "start": "1721399",
    "end": "1727559"
  },
  {
    "text": "stop instance modify instance start instance good to go problems with iio on",
    "start": "1727559",
    "end": "1733000"
  },
  {
    "text": "the discs change to provision iops good to go you can scale up but at some point point this is kind of the fundamental",
    "start": "1733000",
    "end": "1739240"
  },
  {
    "text": "rule of it no matter how big a box you've got you'll run out of space it just happens and it always happens at",
    "start": "1739240",
    "end": "1744840"
  },
  {
    "text": "the worst time where you can't get any other alternative so the Jaws approach gives you so",
    "start": "1744840",
    "end": "1750039"
  },
  {
    "text": "far now you can step out of that approach slightly and move to some sort of Master Slave horizontal scaling",
    "start": "1750039",
    "end": "1755960"
  },
  {
    "text": "approach and you can do this very easily with RDS particular with the MySQL RDS where you can create read",
    "start": "1755960",
    "end": "1761679"
  },
  {
    "text": "replicas this requires no data schema changes but slight application change",
    "start": "1761679",
    "end": "1767440"
  },
  {
    "text": "basically you're saying all my updates will happen to my master node but all my R trffic will be offloaded to other",
    "start": "1767440",
    "end": "1773480"
  },
  {
    "text": "nodes in the cluster so depending on the io profile of your application you can squeeze a",
    "start": "1773480",
    "end": "1779440"
  },
  {
    "text": "lot more life out of this model with very little technical overhead and incurring very little technical debt but",
    "start": "1779440",
    "end": "1785840"
  },
  {
    "text": "unfortunately if you're very successful at some point depending on application architecture you're going to run out of",
    "start": "1785840",
    "end": "1793159"
  },
  {
    "start": "1793000",
    "end": "1894000"
  },
  {
    "text": "horsepower so this is where we look at sharded horizontal scaling",
    "start": "1793159",
    "end": "1798200"
  },
  {
    "text": "now I must warn you with great power does come great responsibility this is a more complex complex and complicated",
    "start": "1798200",
    "end": "1804440"
  },
  {
    "text": "approach but is exceptionally powerful to LA to scale essentially this is just one of the models of doing this is you",
    "start": "1804440",
    "end": "1810799"
  },
  {
    "text": "take your key space and you create what's called a hash ring you divide your key space up amongst different",
    "start": "1810799",
    "end": "1815919"
  },
  {
    "text": "shards of the environment each of these sets of databases I've used RDS here it could be anything represent completely",
    "start": "1815919",
    "end": "1822559"
  },
  {
    "text": "independent sets of data with a subset of the data required for the overall system and it's the application layer or",
    "start": "1822559",
    "end": "1828600"
  },
  {
    "text": "the hashing layer we're allocating where data resides what does this give us this gives us virtually Limitless scalability",
    "start": "1828600",
    "end": "1834919"
  },
  {
    "text": "because we can keep growing these databases out and if we've got a Nifty kind of hashing approach we can reshard",
    "start": "1834919",
    "end": "1839960"
  },
  {
    "text": "our shards so let's say a particular one is running a bit hot it's doing too much work we can split that up into",
    "start": "1839960",
    "end": "1845840"
  },
  {
    "text": "additional shards as well now you don't get this for free it can be quite challenging you need to worry about",
    "start": "1845840",
    "end": "1852399"
  },
  {
    "text": "things like how do I back things up consistently how do I do operational maintenance how do I spin up new shards",
    "start": "1852399",
    "end": "1859320"
  },
  {
    "text": "this is where things like automation management and good operational discipline become really important and",
    "start": "1859320",
    "end": "1866120"
  },
  {
    "text": "critical to how you do things and how you operate but this is a great approach for getting really really big now this",
    "start": "1866120",
    "end": "1873320"
  },
  {
    "text": "is a lot easier to do at the start of your project than later on and certainly we have I think we have some Partners even here today that offer this kind of",
    "start": "1873320",
    "end": "1880000"
  },
  {
    "text": "as a service as an approach later on it's a good way to dig yourself out of some technical depth technical debt I",
    "start": "1880000",
    "end": "1885320"
  },
  {
    "text": "should say but think about it as getting yourself into it how big do I think I'll grow in my wildest dreams and I think",
    "start": "1885320",
    "end": "1891279"
  },
  {
    "text": "James has some thoughts about this too that he'll share with us so you may say well I like this horizontal sharding concept but it",
    "start": "1891279",
    "end": "1898279"
  },
  {
    "start": "1894000",
    "end": "1953000"
  },
  {
    "text": "sounds like a lot of work it is no no question about that so you could use Dynamo DB Dynamo DB allows you to provision",
    "start": "1898279",
    "end": "1906200"
  },
  {
    "text": "through put and it handles the changing of petitions at the back end across your entire hash key space so it does that",
    "start": "1906200",
    "end": "1912720"
  },
  {
    "text": "management for you which is awesome I've been using it lately for some side projects of mine super easy to use super",
    "start": "1912720",
    "end": "1918600"
  },
  {
    "text": "high performance great to use as long as you get your key space right you need to think about the distribution of your key",
    "start": "1918600",
    "end": "1925039"
  },
  {
    "text": "space so that you can do this sharding in an appropriate fashion even though you're not doing it yourself the system",
    "start": "1925039",
    "end": "1930279"
  },
  {
    "text": "still needs something useful to operate on this is incredibly important when you have hot and cold data so maybe you've",
    "start": "1930279",
    "end": "1935880"
  },
  {
    "text": "got uh daytime TR traffic that's coming in for current orders and then you got historical data trailing away you need",
    "start": "1935880",
    "end": "1941880"
  },
  {
    "text": "to come up with an approach that manages that across all of the shards appropriately and all the partitions appropriately",
    "start": "1941880",
    "end": "1947679"
  },
  {
    "text": "fortunately in the documentation we provide you how to do that so just bear that in",
    "start": "1947679",
    "end": "1953279"
  },
  {
    "text": "mind so how do we create a masterpiece for the ages you know as Architects we want to build something that people like",
    "start": "1953279",
    "end": "1959200"
  },
  {
    "text": "that I think is cool to use that functions well that's performant that's elegant you know we all get that little",
    "start": "1959200",
    "end": "1965000"
  },
  {
    "text": "nice kingle of satisfaction when we do that don't we I mean you know when I flew out here a few days ago I went through that custom system that I",
    "start": "1965000",
    "end": "1971440"
  },
  {
    "text": "designed it's still working it's still running it's still that's how you get in other country if you ever come and visit Australia you'll go through my system",
    "start": "1971440",
    "end": "1977039"
  },
  {
    "text": "system I'm proud of that you know proves it it worked it was okay it hasn't fallen in yet but how do we go about",
    "start": "1977039",
    "end": "1982840"
  },
  {
    "text": "doing this well firstly we need to use these techniques and many many others",
    "start": "1982840",
    "end": "1988399"
  },
  {
    "text": "situationally you know how I spoke about making decisions carefully and being WR a lot and making them with insufficient",
    "start": "1988399",
    "end": "1995039"
  },
  {
    "text": "information this is the situationally part just because you can do horizontal database sharting doesn't mean you",
    "start": "1995039",
    "end": "2000799"
  },
  {
    "text": "necessarily should do horizontal database sharing very careful choices have to be made you need to be aware of",
    "start": "2000799",
    "end": "2008960"
  },
  {
    "text": "the options that are available to you and I'll give you a little secret it's not about knowing necessarily the latest",
    "start": "2008960",
    "end": "2015480"
  },
  {
    "text": "and greatest cool techniques from what the cool kids are doing if you haven't sat down with Don Donald K's art of",
    "start": "2015480",
    "end": "2021240"
  },
  {
    "text": "programming in a while I recommend you do so a lot of the problems we face today are solved problems they were",
    "start": "2021240",
    "end": "2027720"
  },
  {
    "text": "solved 40 years ago they're just written really complicatedly but they're solved you just go through and you look at them",
    "start": "2027720",
    "end": "2033360"
  },
  {
    "text": "so there's the new there's the old and they need to be brought together under the awareness of what you know as an",
    "start": "2033360",
    "end": "2040000"
  },
  {
    "text": "architect and people often talk about scaling and how do you scale and what do you scale to me scaling can be boil down",
    "start": "2040080",
    "end": "2045639"
  },
  {
    "text": "to something quite simple it's the ability to move the bottleneck to the cheapest place or the least expensive",
    "start": "2045639",
    "end": "2051118"
  },
  {
    "text": "part of the architecture so that you can overcome that bot neck by throwing resource at it because there's no",
    "start": "2051119",
    "end": "2056560"
  },
  {
    "text": "substitute for resource except for coding better I recommend coding better first then throw resource at the",
    "start": "2056560",
    "end": "2061839"
  },
  {
    "text": "bottleneck never let that be forgotten the nice thing is is that AWS",
    "start": "2061839",
    "end": "2067158"
  },
  {
    "text": "this easier for you you can apply all these techniques really simply in AWS",
    "start": "2067159",
    "end": "2072720"
  },
  {
    "text": "and one of the the the Deep senses of satisfaction I get in my role as as a solution architect is working with",
    "start": "2072720",
    "end": "2078398"
  },
  {
    "text": "customers who start small they start small and they build something and something that their customers really",
    "start": "2078399",
    "end": "2083638"
  },
  {
    "text": "like and they grow and they grow and they grow and they grow and they deal with that growth elegantly and without",
    "start": "2083639",
    "end": "2089079"
  },
  {
    "text": "pain and they're excited about their growth because I think Vera said it you know our customer success is our success",
    "start": "2089079",
    "end": "2094839"
  },
  {
    "text": "and that is really satisfying as a Sol solu Artic to see something grow and not break but but grow into itself elegantly",
    "start": "2094839",
    "end": "2101320"
  },
  {
    "text": "in advance now with that I'd like to pass over to James Hamilton James Hamilton is",
    "start": "2101320",
    "end": "2107359"
  },
  {
    "text": "our vice president and distinguished engineer a man who needs very little introduction but has obviously Been instrumental in the design of many",
    "start": "2107359",
    "end": "2113599"
  },
  {
    "text": "highly scalable systems both at Amazon and elsewhere James please join us thank you good job good",
    "start": "2113599",
    "end": "2120400"
  },
  {
    "start": "2124000",
    "end": "2239000"
  },
  {
    "text": "job wow we're all really lucky because you know I've been doing this for 20-some years our industry goes through",
    "start": "2124000",
    "end": "2130720"
  },
  {
    "text": "periods of slow change and right now we're on fire we're we're all involved",
    "start": "2130720",
    "end": "2136599"
  },
  {
    "text": "with cloud computing it is day one things are changing phenomenally fast it's very seldom you get an opportunity",
    "start": "2136599",
    "end": "2142480"
  },
  {
    "text": "to be involved with something that's going to have this kind of a lasting impact I think it's going to be super cool be looking back 10 years from now",
    "start": "2142480",
    "end": "2148680"
  },
  {
    "text": "and said I was at that first conference so I help build some of those early systems I feel particularly lucky",
    "start": "2148680",
    "end": "2154440"
  },
  {
    "text": "because I've got a I've got a pretty cool job where I'm helping to create some of our new systems and I that's",
    "start": "2154440",
    "end": "2159760"
  },
  {
    "text": "where I spend a lot of my time where I spend some of my time is kind of in a policeman role where people come to me",
    "start": "2159760",
    "end": "2165480"
  },
  {
    "text": "and say James you know all that advice you just got from Simon well I'm not going to do it on this particular system because it",
    "start": "2165480",
    "end": "2171520"
  },
  {
    "text": "doesn't actually apply to me because you know it's happening we're under you know scheduled deadlines but don't worry we're you know this is what we're going",
    "start": "2171520",
    "end": "2177640"
  },
  {
    "text": "to do to deal with it and because over time you develop scars and when you're",
    "start": "2177640",
    "end": "2183800"
  },
  {
    "text": "early on you you tend to think you're very confident and you don't need to do these things what happens is it's not",
    "start": "2183800",
    "end": "2189720"
  },
  {
    "text": "lack of knowledge of these things that hurt systems it's it's lack of implementation of these things that hurt",
    "start": "2189720",
    "end": "2195560"
  },
  {
    "text": "systems and so what I thought I would give you today is kind of a David Letterman short time so instead of top",
    "start": "2195560",
    "end": "2201480"
  },
  {
    "text": "10 lists I'll give you a top five lists to a postmortem unfortunately I've been",
    "start": "2201480",
    "end": "2206880"
  },
  {
    "text": "in a lot of post-mortems because I've been involved with systems that have had the occasional issue and each one of",
    "start": "2206880",
    "end": "2213760"
  },
  {
    "text": "those issue is a lesson and each one of those lessons makes you more valuable as an engineer and it makes your systems",
    "start": "2213760",
    "end": "2220599"
  },
  {
    "text": "more reliable and probably the reason why people ask me can I do this is I'm",
    "start": "2220599",
    "end": "2225920"
  },
  {
    "text": "likely to tell them no let's give you the top five ways to get to a post morum these are the",
    "start": "2225920",
    "end": "2233400"
  },
  {
    "text": "mistakes people that people come to me with number five We'll add monitoring",
    "start": "2233400",
    "end": "2238920"
  },
  {
    "text": "and alerting later we just need to get a production Baseline so we'll get the product out there we'll get the service",
    "start": "2238920",
    "end": "2244160"
  },
  {
    "start": "2239000",
    "end": "2384000"
  },
  {
    "text": "running we'll learn where you know what the right Baseline actually is then we'll have metrics and we'll go from",
    "start": "2244160",
    "end": "2250800"
  },
  {
    "text": "there no the reason why that is absolutely deadly is one of our",
    "start": "2250800",
    "end": "2256119"
  },
  {
    "text": "fundamental advantages of how we run systems in AWS and what I urge you to do as well is every week our general",
    "start": "2256119",
    "end": "2262920"
  },
  {
    "text": "managers vice presidents and Senior vice presidents look at every metric in",
    "start": "2262920",
    "end": "2268160"
  },
  {
    "text": "insane detail we spend a half day looking at thousands and thousands and",
    "start": "2268160",
    "end": "2273599"
  },
  {
    "text": "thousands of metrics every metric is tracked on a five minute or even a one minute granularity we don't look at the",
    "start": "2273599",
    "end": "2280000"
  },
  {
    "text": "average because the average performance of S3 in the last 3 years has been awesome it's huge s is unbelievably big",
    "start": "2280000",
    "end": "2287960"
  },
  {
    "text": "and so the average is always going to be good it will never have a bad day what we look at is the high nine outlier and",
    "start": "2287960",
    "end": "2294839"
  },
  {
    "text": "the goal is we want to understand if a customer has a bad day it better show up at our metrics so there's no way we're",
    "start": "2294839",
    "end": "2300480"
  },
  {
    "text": "going live without those metrics because what that does is it puts us in a situation where we're blind and more",
    "start": "2300480",
    "end": "2306240"
  },
  {
    "text": "than anything visibility into what your customers are experience is the most important thing so",
    "start": "2306240",
    "end": "2311880"
  },
  {
    "text": "no we don't need incremental deployment in V1 what's incremental deployment that's when you get a software system",
    "start": "2311880",
    "end": "2317920"
  },
  {
    "text": "out there you don't need it in V1 because you can just put you can deploy the software once nobody's running no big deal and so we don't need to put it",
    "start": "2317920",
    "end": "2324400"
  },
  {
    "text": "out in the first release what incremental deployment is it's what allows you to to put out just one server",
    "start": "2324400",
    "end": "2332119"
  },
  {
    "text": "in the fleet running the new software and why is that important well you can test to your blue in the face and we do",
    "start": "2332119",
    "end": "2339760"
  },
  {
    "text": "but there is I've always said there's no reality like production production is where you learn things that that is",
    "start": "2339760",
    "end": "2347079"
  },
  {
    "text": "where reality runs there is no test system of higher Fidelity and so what we do is when we're deploying software we",
    "start": "2347079",
    "end": "2352920"
  },
  {
    "text": "put it out in one server we rent it for a while we have lots and lots of metrics I already told you about that and we make sure that system's healthy if it's",
    "start": "2352920",
    "end": "2358720"
  },
  {
    "text": "not healthy we roll back if it stays healthy we'll put it out in another version then we'll put it out in three",
    "start": "2358720",
    "end": "2364240"
  },
  {
    "text": "then we'll deploy it in an entire availability Zone we won't deploy at the same time across two availability zones",
    "start": "2364240",
    "end": "2370680"
  },
  {
    "text": "then we'll deploy in multiple availability zones we slowly build it up that's how you roll software out if you don't have that capability and I hate to",
    "start": "2370680",
    "end": "2377400"
  },
  {
    "text": "admit it but we have had times when we've done it without doing that it's deadly because you can't upgrade the",
    "start": "2377400",
    "end": "2383520"
  },
  {
    "text": "fleet the only way to really get the fleet upgraded is someone has to do it by hand and it's a terrible place to be",
    "start": "2383520",
    "end": "2390079"
  },
  {
    "start": "2384000",
    "end": "2508000"
  },
  {
    "text": "it's Error prone and bad things happen so",
    "start": "2390079",
    "end": "2395400"
  },
  {
    "text": "no we'll get into production add automated testing later this is super tempting we're all under enormous",
    "start": "2395400",
    "end": "2402040"
  },
  {
    "text": "pressure to get our systems released this is the treadmill that kills teams this happens all the time I'm still",
    "start": "2402040",
    "end": "2408920"
  },
  {
    "text": "involved with times when we've done this i' I know better we shouldn't be there what happens is it's so is when you just",
    "start": "2408920",
    "end": "2416280"
  },
  {
    "text": "get the software out it's you're in a rush we want to get customer experience you don't have the test written yet the",
    "start": "2416280",
    "end": "2422200"
  },
  {
    "text": "engineering team can run the test we'll just run them by hand we'll be fine what happens is is what is the most",
    "start": "2422200",
    "end": "2428240"
  },
  {
    "text": "educational time in a software release that's the day you go out the day you go",
    "start": "2428240",
    "end": "2433599"
  },
  {
    "text": "out all the metrics come in you learn everything about your Software System you learn if there are any faults you",
    "start": "2433599",
    "end": "2439440"
  },
  {
    "text": "get customer requirements you get feedback on how good it is and what I need and what features you need what",
    "start": "2439440",
    "end": "2445200"
  },
  {
    "text": "this does is it hamstrings the team because anytime you roll a version of the software you have to stop for two",
    "start": "2445200",
    "end": "2450760"
  },
  {
    "text": "weeks and run all the tests manually it makes the engineer job terrible because",
    "start": "2450760",
    "end": "2455800"
  },
  {
    "text": "everyone hat hates running boring tests and doing methodical push button work everyone hates it second thing is they",
    "start": "2455800",
    "end": "2462359"
  },
  {
    "text": "do terribly the worst job you can give a small person a smart person is a boring",
    "start": "2462359",
    "end": "2468160"
  },
  {
    "text": "job they will do a crappy job you can't get it done well and so it won't be done",
    "start": "2468160",
    "end": "2474280"
  },
  {
    "text": "well it slows the team down it means you can't respond quickly to customer requirements no this one's super",
    "start": "2474280",
    "end": "2482119"
  },
  {
    "text": "important it's it's this is the one that stops systems from being able to evolve quickly it's how you lose customers you",
    "start": "2482119",
    "end": "2489119"
  },
  {
    "text": "get them on board you don't respond to the requirements fast enough they go somewhere else they go on do their do",
    "start": "2489119",
    "end": "2494920"
  },
  {
    "text": "their own thing this is how systems end up not getting traction and we we pride",
    "start": "2494920",
    "end": "2500400"
  },
  {
    "text": "ourselves in moving relatively quickly we thank you for your feedback and we want to be able to respond",
    "start": "2500400",
    "end": "2507560"
  },
  {
    "text": "quickly all our test cases are passing well that sounds like a good thing what's wrong with that well cuz I've",
    "start": "2507560",
    "end": "2513599"
  },
  {
    "start": "2508000",
    "end": "2584000"
  },
  {
    "text": "worked for so many years on so many software systems and I've never seen all the test cases passing I know you're",
    "start": "2513599",
    "end": "2519040"
  },
  {
    "text": "lying it's the way they're all passing this is fat not going to happen I've never been that lucky in the luckiest",
    "start": "2519040",
    "end": "2524960"
  },
  {
    "text": "day of my life there's no way what you mean is all the test cases that are passing are passing the other ones you",
    "start": "2524960",
    "end": "2531560"
  },
  {
    "text": "factored off onto the side it's either they're not really passing or you have the world's worst test Suite anytime",
    "start": "2531560",
    "end": "2537880"
  },
  {
    "text": "someone tells you something that you don't don't believe don't believe it go dig deeper there's no way they're all",
    "start": "2537880",
    "end": "2543640"
  },
  {
    "text": "passing and so what that means every every time is people have divided the tests up into two two groups the ones",
    "start": "2543640",
    "end": "2550599"
  },
  {
    "text": "that matter and the ones that don't and sometimes it's related on which ones are passing dig deeper no number one my",
    "start": "2550599",
    "end": "2559720"
  },
  {
    "text": "favorite I I I I admit to you all I've made this mistake as as recently as 18",
    "start": "2559720",
    "end": "2565800"
  },
  {
    "text": "months ago it is super easy to make and that is Simon Says use these techniques",
    "start": "2565800",
    "end": "2571359"
  },
  {
    "text": "situationally don't use this one every time it's just never let let a software",
    "start": "2571359",
    "end": "2576920"
  },
  {
    "text": "system go live with a single relational database at the back end if you can use",
    "start": "2576920",
    "end": "2582319"
  },
  {
    "text": "a use something like Dynamo DB because it just scales by Nature that's a great solution absolutely if you can do that",
    "start": "2582319",
    "end": "2588839"
  },
  {
    "start": "2584000",
    "end": "2837000"
  },
  {
    "text": "if you need a relational database system you cannot go live with one system at the back well yes James but we're with",
    "start": "2588839",
    "end": "2596480"
  },
  {
    "text": "we're only running at 5% load it will take years to possibly get up to the even point to the point we be close to",
    "start": "2596480",
    "end": "2603480"
  },
  {
    "text": "needing a whole relational database we hardly use it what's the risk yeah I guess you're right wrong what happens is",
    "start": "2603480",
    "end": "2611599"
  },
  {
    "text": "two things happen one is when it comes time to need to Shard it somebody will have written a",
    "start": "2611599",
    "end": "2618520"
  },
  {
    "text": "reporting app that runs against it that can't Shard for sure if you start off",
    "start": "2618520",
    "end": "2623559"
  },
  {
    "text": "shable the the this is like crack you you will use the features of that database and it will get you and it will",
    "start": "2623559",
    "end": "2630559"
  },
  {
    "text": "not partition everything will be broken when you try to partition you cannot sh it so the first one is it's a lie you",
    "start": "2630559",
    "end": "2637000"
  },
  {
    "text": "really can't sh it quickly number one number two is you think you're 10x away",
    "start": "2637000",
    "end": "2643240"
  },
  {
    "text": "because you're only running 5% load the system's hardly running at all but you're not systems are always",
    "start": "2643240",
    "end": "2650599"
  },
  {
    "text": "nonlinear you give it a little bit more load runs a little bit slower you give it a little bit more load runs a little",
    "start": "2650599",
    "end": "2656680"
  },
  {
    "text": "bit slower you give it a little bit more load and it takes infinitely long just suddenly everything goes nonlinear",
    "start": "2656680",
    "end": "2662760"
  },
  {
    "text": "that's the way every app I've ever been involved works and I wish you could fix it we do everything we can to hunt",
    "start": "2662760",
    "end": "2668839"
  },
  {
    "text": "linearity because that's the way you get reliability out of the systems but it turns out you need to know where the wall is because when you hit the wall",
    "start": "2668839",
    "end": "2676040"
  },
  {
    "text": "there's just no coming back and so what looks like 10x away from the load is not",
    "start": "2676040",
    "end": "2681480"
  },
  {
    "text": "really 10x away from the load it's cracked because you can't Poss you will build a dependence on it over time and",
    "start": "2681480",
    "end": "2687599"
  },
  {
    "text": "the last one this is key is you don't want one database at the core of your system that will take down every",
    "start": "2687599",
    "end": "2693599"
  },
  {
    "text": "customer you're going to have a global outage when not if when that system won't run I don't want any system out",
    "start": "2693599",
    "end": "2700280"
  },
  {
    "text": "there without at least four databases and maybe more because it's not that expensive and there's no way I want a",
    "start": "2700280",
    "end": "2707000"
  },
  {
    "text": "global outage if I have a global outage I'll read about it if I take down 20% of",
    "start": "2707000",
    "end": "2712720"
  },
  {
    "text": "my users maybe no one knows 20% of users know I don't like it but it is way",
    "start": "2712720",
    "end": "2718119"
  },
  {
    "text": "better than a global outage way way way better getting back from a global outage you will never get credibility with your",
    "start": "2718119",
    "end": "2724520"
  },
  {
    "text": "customers again that's just too deadly there's no way you want to have a single database in there so the reasons why you",
    "start": "2724520",
    "end": "2730240"
  },
  {
    "text": "can't do this are first if you do you you you will hit the wall number two is",
    "start": "2730240",
    "end": "2737119"
  },
  {
    "text": "you will have a dependency that will make Charing difficult and if you've ever been in a situation where you've",
    "start": "2737119",
    "end": "2742319"
  },
  {
    "text": "got a system that's been pushed over the wall it's suffering from a global outage you found out that you have dependency",
    "start": "2742319",
    "end": "2748720"
  },
  {
    "text": "on non-arable components and you're trying to get the code changed as fast as you possibly can and you've been out",
    "start": "2748720",
    "end": "2755119"
  },
  {
    "text": "for a day and a half so far it is a terrible way to live it is so worth",
    "start": "2755119",
    "end": "2760240"
  },
  {
    "text": "avoiding that so that's that that's sort of the number one way and that that one",
    "start": "2760240",
    "end": "2765880"
  },
  {
    "text": "I'm totally inflexible hey if you're interested in more um tomorrow at 11:30",
    "start": "2765880",
    "end": "2772040"
  },
  {
    "text": "what I'm going to talk about is I'm going to take a bunch of ideas that we learned from systems that run on 10,000",
    "start": "2772040",
    "end": "2777720"
  },
  {
    "text": "to 100,000 server clusters these are big super highs scal level systems these are",
    "start": "2777720",
    "end": "2783440"
  },
  {
    "text": "systems like search like Google these are systems like amazon.com and",
    "start": "2783440",
    "end": "2788680"
  },
  {
    "text": "what I'm going to show you is is two things one is when you go to amazon.com it's there it's always there when you go",
    "start": "2788680",
    "end": "2794680"
  },
  {
    "text": "to Google it's always there the reason it's always there is they've they've implemented a very small number of very",
    "start": "2794680",
    "end": "2800200"
  },
  {
    "text": "simple ideas I'm going to show you those simple ideas now you say well nice for them they have 100,000 servers maybe",
    "start": "2800200",
    "end": "2807079"
  },
  {
    "text": "more I mean how can I apply it the cool thing is I'll show you how you can apply those ideas at tiny scale and that's one",
    "start": "2807079",
    "end": "2814160"
  },
  {
    "text": "of the cool things about AWS is the tools are there such that you can use the same tricks at absolutely",
    "start": "2814160",
    "end": "2820079"
  },
  {
    "text": "microscopic scale and build up over time so if you're interested in seeing that I'd love to see you tomorrow at 11:35",
    "start": "2820079",
    "end": "2825960"
  },
  {
    "text": "today what we we'd love to I mean appreciate your time um Simon come on up here if you have questions we'd love to",
    "start": "2825960",
    "end": "2832680"
  },
  {
    "text": "feel to feel them I'm super happy that you're here so do you have questions for us",
    "start": "2832680",
    "end": "2839240"
  }
]