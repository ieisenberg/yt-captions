[
  {
    "start": "0",
    "end": "45000"
  },
  {
    "text": "okay good afternoon um my name's Colin um I'm today's speaker I'm going to talk",
    "start": "799",
    "end": "6879"
  },
  {
    "text": "about um s2n which is uh short for signal to noise and that's our uh TLS",
    "start": "6879",
    "end": "14799"
  },
  {
    "text": "SSL encryption Library uh that we released um over a year ago now uh at ad",
    "start": "14799",
    "end": "21519"
  },
  {
    "text": "we released it as a an open source project on GitHub um the reason for the name is just a pun on encryption in",
    "start": "21519",
    "end": "29560"
  },
  {
    "text": "general is about taking signals like meaningful data that you can interpret",
    "start": "29560",
    "end": "34640"
  },
  {
    "text": "uh and making it look like noise that's just the art of cryptography uh and so that's where the name came from uh really really simple",
    "start": "34640",
    "end": "43120"
  },
  {
    "text": "um what you can expect from this is we're we're going to uh cover why we",
    "start": "43120",
    "end": "48879"
  },
  {
    "start": "45000",
    "end": "45000"
  },
  {
    "text": "built as to when um you know what what our motivations were how it arose uh and",
    "start": "48879",
    "end": "54039"
  },
  {
    "text": "doing that we're going to cover a little bit about the openness harbe plug do a little bit of a deep dive on that",
    "start": "54039",
    "end": "60519"
  },
  {
    "text": "understand how that bug arose uh how we try to prevent similar bugs from arising",
    "start": "60519",
    "end": "66119"
  },
  {
    "text": "uh we're going to talk about how we then started the s2n project as an open source project at a uh with some perspec",
    "start": "66119",
    "end": "73159"
  },
  {
    "text": "perspectives on how that works uh at Amazon web services and then we're going to talk about how we develop and test um",
    "start": "73159",
    "end": "80079"
  },
  {
    "text": "signal to noise and and what where we are now and what our future plans are um",
    "start": "80079",
    "end": "85840"
  },
  {
    "text": "I think this is really interesting because it's uh a unique opportunity for us to give kind of a view of how",
    "start": "85840",
    "end": "92360"
  },
  {
    "text": "development Works inside AWS uh s2n is run by a virtual team uh of uh",
    "start": "92360",
    "end": "99439"
  },
  {
    "text": "developers from multiple Services uh so we've got developers from S3 cloudfront",
    "start": "99439",
    "end": "106399"
  },
  {
    "text": "elastic low bouncer the 8 security team the 8 cryptography team uh all these",
    "start": "106399",
    "end": "112280"
  },
  {
    "text": "people are involved um many of us have worked on multiple other uh Amazon web",
    "start": "112280",
    "end": "117719"
  },
  {
    "text": "services and so the the development style and the practices that we have in this project uh are are strong examples",
    "start": "117719",
    "end": "126200"
  },
  {
    "text": "of how we develop software in a day-to-day basis at AWS uh so it's an interesting interesting view into that",
    "start": "126200",
    "end": "132680"
  },
  {
    "text": "um I don't mean to imply that our way is the best way to develop software or that there's one good way to develop software",
    "start": "132680",
    "end": "139200"
  },
  {
    "text": "there's there's many uh valid cultures of software development uh but this is",
    "start": "139200",
    "end": "144519"
  },
  {
    "text": "this is a take on on how we do it and how uh how we handle the unique challenges of of our project like uh",
    "start": "144519",
    "end": "150560"
  },
  {
    "text": "signal to noise uh and ship software so that's what we're going to talk about so",
    "start": "150560",
    "end": "156040"
  },
  {
    "text": "we're going to start why uh why we built s and to start with that we need to go",
    "start": "156040",
    "end": "162239"
  },
  {
    "text": "back uh to what we did without it so um before we had s2n we use uh we used and",
    "start": "162239",
    "end": "169239"
  },
  {
    "start": "165000",
    "end": "165000"
  },
  {
    "text": "actually continue to use open SSL widely at ad it's um a library that's been",
    "start": "169239",
    "end": "175040"
  },
  {
    "text": "around uh a very long time now uh it's uh widely by many many organizations",
    "start": "175040",
    "end": "181319"
  },
  {
    "text": "ourselves included and it is um an amazingly successful project uh when you",
    "start": "181319",
    "end": "187400"
  },
  {
    "text": "consider that the open SSL uh was was started uh by by one guy",
    "start": "187400",
    "end": "193599"
  },
  {
    "text": "effectively and then uh taken taken on by a group of volunteers to have gotten",
    "start": "193599",
    "end": "199280"
  },
  {
    "text": "to the point where essentially they delivered you know cryptography to the",
    "start": "199280",
    "end": "204480"
  },
  {
    "text": "world like lots of lots of organizations Amazon included uh have used open for",
    "start": "204480",
    "end": "210040"
  },
  {
    "text": "very long periods of time um to secure data transfer to secure things like you",
    "start": "210040",
    "end": "215239"
  },
  {
    "text": "know credit cards being used to make purchases um it I I don't know of a a",
    "start": "215239",
    "end": "221720"
  },
  {
    "text": "more successful example of something that's uh been U started from such a small base as a volunteer effort that um",
    "start": "221720",
    "end": "230680"
  },
  {
    "text": "achieved such such great amounts of adoption and made so much uh so many things better for the world right to to",
    "start": "230680",
    "end": "237480"
  },
  {
    "text": "have gotten to the point where it's a def standard implementation and",
    "start": "237480",
    "end": "244079"
  },
  {
    "text": "um literally everybody is using it to to to secur the Internet is just amazing so",
    "start": "244079",
    "end": "250000"
  },
  {
    "text": "I don't want anything that I'm about to go through in heart blade uh to to mean or imply that um we don't respect that",
    "start": "250000",
    "end": "257479"
  },
  {
    "text": "the the open cell project is an amazing stunning success and uh has has some issues like U all projects do but but it",
    "start": "257479",
    "end": "266040"
  },
  {
    "text": "was not we our motivation and and initial motivations in coming along with",
    "start": "266040",
    "end": "271440"
  },
  {
    "text": "s2n we're not about saying open S cell is a total write off or that it's um or",
    "start": "271440",
    "end": "278320"
  },
  {
    "text": "that it's it's something we just could never build on top of it's something we still continue to use um but we had",
    "start": "278320",
    "end": "285120"
  },
  {
    "text": "existing kind of plans to build our own TLS SSL implementation mainly for",
    "start": "285120",
    "end": "290479"
  },
  {
    "text": "performance and efficiency reasons because we realize now we operate at a scale where there are benefits to be had",
    "start": "290479",
    "end": "296639"
  },
  {
    "text": "uh and we we kind of accelerated those uh when harped came because uh we thought that would",
    "start": "296639",
    "end": "301840"
  },
  {
    "text": "generate a lot of security focus on on open cell and a lot of other issues might come along uh we we move things",
    "start": "301840",
    "end": "307440"
  },
  {
    "text": "along so I'll talk about that in a bit so um the other big motivation right",
    "start": "307440",
    "end": "315840"
  },
  {
    "text": "it's hard not to uh it's it's hard not to cover this uh for for why we started",
    "start": "315840",
    "end": "321880"
  },
  {
    "text": "open or s2n when we did is harped right so harped was a a security",
    "start": "321880",
    "end": "328800"
  },
  {
    "text": "vulnerability that came along in the openl project on April 7th",
    "start": "328800",
    "end": "334199"
  },
  {
    "text": "2014 um and it was like nothing uh that we'd really experienced before you know",
    "start": "334199",
    "end": "340160"
  },
  {
    "text": "we've we've been through many security vulnerabilities in in open source software and and have a uh a pretty ter",
    "start": "340160",
    "end": "348759"
  },
  {
    "text": "vulnerability management process in place uh but there were a few things about harle that made it um unusual and",
    "start": "348759",
    "end": "355880"
  },
  {
    "text": "made it uh a really good example of how simple vulnerab AB ilities can be but also how you widespread and impactful",
    "start": "355880",
    "end": "363000"
  },
  {
    "text": "they can be um to give you a demonstration of just how impactful it",
    "start": "363000",
    "end": "368120"
  },
  {
    "text": "was um I have the Google Trends graphs from from news stories around the time",
    "start": "368120",
    "end": "374639"
  },
  {
    "text": "the red line is harp lead right so it was this really big news event uh when it happened impacted pretty much",
    "start": "374639",
    "end": "381639"
  },
  {
    "text": "everybody it was on the front page of the New York Times front page of the Washington Post uh front page of",
    "start": "381639",
    "end": "387599"
  },
  {
    "text": "probably every major newspaper uh just for context um I chose a long running",
    "start": "387599",
    "end": "393120"
  },
  {
    "text": "news event to provide kind of a context for just how big it was the blue line is the Iraq War uh and it at its peak made",
    "start": "393120",
    "end": "401000"
  },
  {
    "text": "more headlines and more front pages uh than even something as large as that uh which is which is huge uh I think in",
    "start": "401000",
    "end": "407680"
  },
  {
    "text": "general that's a good thing the fact that harle made uh made the news like",
    "start": "407680",
    "end": "413120"
  },
  {
    "text": "that then people took it more much more seriously upgraded much more quickly and so on um but we never seen and and since",
    "start": "413120",
    "end": "420840"
  },
  {
    "text": "have not seen uh any vulnerabilities or security events that were as widely",
    "start": "420840",
    "end": "426360"
  },
  {
    "text": "reported or as big a deal as that and so let's let's dig into why right so if",
    "start": "426360",
    "end": "432919"
  },
  {
    "text": "you're not familiar with uh SSL and TLS other than that maybe they're used to encrypt traffic on the Internet it's",
    "start": "432919",
    "end": "439440"
  },
  {
    "text": "worth understanding a little bit about them to understand the heartbe bug uh the SSL protocol um was invented by",
    "start": "439440",
    "end": "447080"
  },
  {
    "text": "Netscape uh back in 1996 I think and uh just stands for secure sockets layer and then was later uh kind of",
    "start": "447080",
    "end": "454120"
  },
  {
    "text": "taken over and standardized by the ITF and then it became TLS transport layer security but they're they're effectively",
    "start": "454120",
    "end": "460240"
  },
  {
    "text": "the same protocol um but they exist as this layer of cryptography that exist",
    "start": "460240",
    "end": "465759"
  },
  {
    "text": "between the the lowlevel protocols on the internet like tcpip and the higher level application protocols like hdp",
    "start": "465759",
    "end": "473199"
  },
  {
    "text": "which is the protocol used on the web or SMTP the protocol used um used on the",
    "start": "473199",
    "end": "479120"
  },
  {
    "text": "used for email um and they're prettyy pervasive uh so every time you go to a hgps website that's SSL and TLS under",
    "start": "479120",
    "end": "486159"
  },
  {
    "text": "the hood um so to understand TLS or to understand har blade we need to",
    "start": "486159",
    "end": "491440"
  },
  {
    "text": "understand just a little bit about how this looks on The Wire like what's actually happening at the packet level",
    "start": "491440",
    "end": "496919"
  },
  {
    "text": "uh we're not going to get into the cryptographic details of SSL um and TLs",
    "start": "496919",
    "end": "503080"
  },
  {
    "text": "but uh all we need to understand is that on the wire at the packet level everything's encapsulated in uh a record",
    "start": "503080",
    "end": "510720"
  },
  {
    "text": "layer protocol that's just part of the TLs standard and it looks like this it's really really simple there's a a message",
    "start": "510720",
    "end": "517320"
  },
  {
    "text": "type uh there's a few uh valid message types things like this is a handshake",
    "start": "517320",
    "end": "523039"
  },
  {
    "text": "message part of how a connection is established or things like this is data you know you this is what your browser",
    "start": "523039",
    "end": "528399"
  },
  {
    "text": "is looking for um a protocol version which just lets us discern between multiple versions of the protocol at the",
    "start": "528399",
    "end": "534160"
  },
  {
    "text": "same time so if you're using SSL this is a different number than if it's tls1 or ts11",
    "start": "534160",
    "end": "540120"
  },
  {
    "text": "then the length of the record and then data right and when it's a handshake message it might be data used to",
    "start": "540120",
    "end": "546880"
  },
  {
    "text": "establish the connection and later on in the connection is just regular data that your your web server is sending to your",
    "start": "546880",
    "end": "553000"
  },
  {
    "text": "web browser um really really simple and so there's an extension to TLS um called",
    "start": "553000",
    "end": "560680"
  },
  {
    "text": "the heartbeat extension standardized in orfc uh 652 6520 and uh what that does",
    "start": "560680",
    "end": "567959"
  },
  {
    "start": "561000",
    "end": "561000"
  },
  {
    "text": "is it adds kind of another message type um that's encapsulated in the record",
    "start": "567959",
    "end": "573920"
  },
  {
    "text": "layer and that uh message type has its own internal format uh you can see it",
    "start": "573920",
    "end": "579800"
  },
  {
    "text": "here uh and what heartbeats are are they're kind of like pings for TLS right",
    "start": "579800",
    "end": "585640"
  },
  {
    "text": "so either side of a TLS connection can send a heartbeat request to the other",
    "start": "585640",
    "end": "591600"
  },
  {
    "text": "end and the other end is supposed to apply and uh the reason this was",
    "start": "591600",
    "end": "597040"
  },
  {
    "text": "invented and the the main reason um it it was designed for is to keep uh",
    "start": "597040",
    "end": "603040"
  },
  {
    "text": "dtls which is the version of TLS that runs over UDP connections alive right so",
    "start": "603040",
    "end": "609320"
  },
  {
    "text": "firewalls often expire idle connections and uh we we need to do tricks to keep them alive and tls's extension for that",
    "start": "609320",
    "end": "616800"
  },
  {
    "text": "is the heartbeat extension and so the way it works is uh you know the client just periodically says okay send me a",
    "start": "616800",
    "end": "625040"
  },
  {
    "text": "heartbeat and the server sends back a heartbeat as simple as that uh for UDP protocols like dtls there's also",
    "start": "625040",
    "end": "633480"
  },
  {
    "text": "another interesting um property which is uh there's there's a a property of the",
    "start": "633480",
    "end": "639360"
  },
  {
    "text": "internet called the MTU the minimum or the minimum transmiss or sorry the maximum transmission unit or how much",
    "start": "639360",
    "end": "645279"
  },
  {
    "text": "data you can actually send between between you and a peer uh TCP has mechanisms to discover that uh UDP uh",
    "start": "645279",
    "end": "653399"
  },
  {
    "text": "doesn't quite have the same mechanism so you have to build it into your application layers and so it's important",
    "start": "653399",
    "end": "659399"
  },
  {
    "text": "for the client to be able to say okay I need to find out how much data I can actually transmit between um you and I",
    "start": "659399",
    "end": "665920"
  },
  {
    "text": "this the server and me uh so it might send okay I'm going to send you a 1500 byte heart heartbeat message and if that",
    "start": "665920",
    "end": "673639"
  },
  {
    "text": "got there I want you to reply with a 1500 by heartbeat reply and uh and that's how I know I can transmit 1500",
    "start": "673639",
    "end": "680320"
  },
  {
    "text": "bytes between the two ends right and if it doesn't work the first time it might reduce the number and then it'll",
    "start": "680320",
    "end": "686279"
  },
  {
    "text": "eventually find the number that works in both directions and that's kind of the purpose um of of the the heartbeat",
    "start": "686279",
    "end": "693040"
  },
  {
    "text": "extension if uh the heartbeat event was made such big news it actually uh got",
    "start": "693040",
    "end": "699839"
  },
  {
    "text": "its own XKCD uh comic which is which is pretty cool uh but Randall has a a",
    "start": "699839",
    "end": "705000"
  },
  {
    "text": "pretty simple illustration of these of this um we're essentially asking somebody to send us back some data that",
    "start": "705000",
    "end": "711639"
  },
  {
    "text": "we send them right so we send in this case we send six letters potato and ask",
    "start": "711639",
    "end": "717000"
  },
  {
    "text": "it to reply with six letters um and so what the heart bed bug",
    "start": "717000",
    "end": "722200"
  },
  {
    "start": "722000",
    "end": "722000"
  },
  {
    "text": "was a um the sorry these are just the numbers that correspond to things so if",
    "start": "722200",
    "end": "727240"
  },
  {
    "text": "we actually use a real example ignore the first few numbers those are just the literal values for each of those things",
    "start": "727240",
    "end": "733199"
  },
  {
    "text": "like 24 is the message type extension for heartbeat messages but here we're sending a payload length of three that's",
    "start": "733199",
    "end": "739760"
  },
  {
    "text": "the important number to pay attention to so that's the client saying I'm sending you three bytes send me back three",
    "start": "739760",
    "end": "746800"
  },
  {
    "text": "bytes uh and what happened in lead was that we could change that number to anything we want right so instead of",
    "start": "746920",
    "end": "753279"
  },
  {
    "text": "sending it so we'd only send three bytes but we' ask the uh server to send back",
    "start": "753279",
    "end": "760160"
  },
  {
    "text": "up to 64k much much more data right and that's kind of semantically invalid",
    "start": "760160",
    "end": "765560"
  },
  {
    "text": "that's not something that should be allowed that's not uh not something a server should honor but the bug in uh in",
    "start": "765560",
    "end": "772920"
  },
  {
    "text": "harle essentially was that it did so we only we only sent three bytes uh in my",
    "start": "772920",
    "end": "779880"
  },
  {
    "text": "example but we asked for up to 64k back and so what op SSL would do is it would",
    "start": "779880",
    "end": "785880"
  },
  {
    "text": "actually just read 64k up to 64k of whatever was in memory and send it back",
    "start": "785880",
    "end": "793079"
  },
  {
    "text": "which is um an example of a memory disclosure bug so it's not quite the most severe kind of security bug you can",
    "start": "793079",
    "end": "798920"
  },
  {
    "text": "have that would be something like remote execution like I can run arbitrary code on the server was still pretty bad and",
    "start": "798920",
    "end": "806720"
  },
  {
    "text": "what made heart blade such high impact is this was really really easy to exploit like people knocked up clients",
    "start": "806720",
    "end": "813560"
  },
  {
    "text": "within you know minutes of the vulnerability going public and they could hit servers and the servers would",
    "start": "813560",
    "end": "819959"
  },
  {
    "text": "reply with you know up to 64k at a time of you know what of data just that just",
    "start": "819959",
    "end": "826040"
  },
  {
    "text": "happened to be a memory uh openl also didn't do a great job of scrubbing memory or or erasing things when it was",
    "start": "826040",
    "end": "832160"
  },
  {
    "text": "done with them so there would be lots of things sitting there in memory like you know passwords or um sensitive data",
    "start": "832160",
    "end": "838519"
  },
  {
    "text": "including the Keys used for um for SSL connections and so people had to go uh",
    "start": "838519",
    "end": "844199"
  },
  {
    "text": "revoke and replace all their keys and so on so if we go actually look at the code",
    "start": "844199",
    "end": "850000"
  },
  {
    "text": "right just to see how this arose it's kind of scarily simple right uh this is",
    "start": "850000",
    "end": "856079"
  },
  {
    "start": "852000",
    "end": "852000"
  },
  {
    "text": "this is code from the actual uh op SSL uh file that U the harpy BG was present",
    "start": "856079",
    "end": "862920"
  },
  {
    "text": "in um and essentially what what was happening is open SSL is is parsing the",
    "start": "862920",
    "end": "869320"
  },
  {
    "text": "the message that it got from the client uh if you don't understand C code don't worry too much but what we're doing here",
    "start": "869320",
    "end": "875279"
  },
  {
    "text": "is pointer arithmetic so it's it's taking a raw piece of memory and doing",
    "start": "875279",
    "end": "881399"
  },
  {
    "text": "its own uh arithmetic on that memory to figure out what the size of data the client asked for uh and then it just",
    "start": "881399",
    "end": "888360"
  },
  {
    "text": "didn't have any check enforcing that that matched or was in within uh the",
    "start": "888360",
    "end": "894079"
  },
  {
    "text": "record size and then it just copied that amount of memory and send it right back to to the client as simple as that uh",
    "start": "894079",
    "end": "901519"
  },
  {
    "text": "this bug ended up being about two lines to fix so you can consider it a two line",
    "start": "901519",
    "end": "907759"
  },
  {
    "text": "um bug if you will uh and and yeah generated an enormous amount of impact",
    "start": "907759",
    "end": "913199"
  },
  {
    "text": "which is which is kind of scary um but there's some stuff going on that kind of",
    "start": "913199",
    "end": "918240"
  },
  {
    "text": "M that kind of created initial conditions to make bugs like this a bit more likely and so to demonstrate that",
    "start": "918240",
    "end": "925360"
  },
  {
    "text": "so um this is this is the file that that those lines of code were in right it's",
    "start": "925360",
    "end": "931639"
  },
  {
    "text": "called Sor server. C which just means the um the the the code file in op SSL",
    "start": "931639",
    "end": "939759"
  },
  {
    "text": "that handles the server side uh of things if I play this video so while I'm",
    "start": "939759",
    "end": "946519"
  },
  {
    "text": "talking this is going to scroll through the whole file it's going to take about a minute this file um is many many",
    "start": "946519",
    "end": "954120"
  },
  {
    "text": "thousands of lines long you'll notice that it it gets pretty deeply AA points",
    "start": "954120",
    "end": "960440"
  },
  {
    "text": "um there's a lot of these blue ifdef things going by uh there's a lot of like",
    "start": "960440",
    "end": "967240"
  },
  {
    "text": "um hash defines and a lot of different modes of operation that we're going",
    "start": "967240",
    "end": "972319"
  },
  {
    "text": "through the core logic of this code file is a gigantic switch statement that",
    "start": "972319",
    "end": "978319"
  },
  {
    "text": "itself is about 2,000 lines long um so switch statement is just this kind of",
    "start": "978319",
    "end": "984199"
  },
  {
    "text": "statement that lets us go through different branches of execution or take different parts depending on different things",
    "start": "984199",
    "end": "989839"
  },
  {
    "text": "um it is very very difficult to follow what is going on in this file so I've",
    "start": "989839",
    "end": "995079"
  },
  {
    "text": "been working on open SSL uh for about 14 years now I've been uh patching it",
    "start": "995079",
    "end": "1000360"
  },
  {
    "text": "occasionally and maintaining it and I consider myself pretty familiar uh with the openl codebase uh a",
    "start": "1000360",
    "end": "1007639"
  },
  {
    "text": "lot of my friends are uh or a lot of core contributors to the op SSL project are friends of mine um and none of us",
    "start": "1007639",
    "end": "1015040"
  },
  {
    "text": "could understand that that entire file it's just there's too much going on on in one place so although we have a",
    "start": "1015040",
    "end": "1021160"
  },
  {
    "text": "two-line bug that crapped in and caused heart bed it's in the middle of so many",
    "start": "1021160",
    "end": "1026520"
  },
  {
    "text": "lines of code that it's it's it's kind of inevitable that that would would would would happen it's just really",
    "start": "1026520",
    "end": "1032400"
  },
  {
    "text": "really hard to catch with things like code riew right because you just can't keep the entire context of what's going",
    "start": "1032400",
    "end": "1039038"
  },
  {
    "text": "on in your head um and there were some other contributing factors right in addition to the code being just super",
    "start": "1039039",
    "end": "1045120"
  },
  {
    "start": "1041000",
    "end": "1041000"
  },
  {
    "text": "hard to read and super hard to follow there were no good test test cases right so really simple you know standard",
    "start": "1045120",
    "end": "1053520"
  },
  {
    "text": "uh set of boundary test cases right let's let's just test the boundary values for heartbeat messages uh would",
    "start": "1053520",
    "end": "1060400"
  },
  {
    "text": "have prevented this kind of issue but there were none so that didn't help um the the code as we saw right is just",
    "start": "1060400",
    "end": "1067559"
  },
  {
    "text": "doing raw pointer arithmetic on on memory to figure out what a size should be um that's that's not a great idea",
    "start": "1067559",
    "end": "1075000"
  },
  {
    "text": "poter poic is hard at the best of times uh it would be better to just write that once in some place and constantly reuse",
    "start": "1075000",
    "end": "1082360"
  },
  {
    "text": "uh a function rather than rather than ask ask it to be done thousands of times in the",
    "start": "1082360",
    "end": "1087520"
  },
  {
    "text": "code as we saw it's a lot of code in one file and I would say with a high",
    "start": "1087520",
    "end": "1093320"
  },
  {
    "text": "cognitive load right there's just too much going on to follow too many branches of execution too many too many",
    "start": "1093320",
    "end": "1098760"
  },
  {
    "text": "things for me to track my mind to be able to really understand it and then probably one of the more um egregious",
    "start": "1098760",
    "end": "1105880"
  },
  {
    "text": "problems is is that the heartbeat function itself uh turns out just not to even be",
    "start": "1105880",
    "end": "1111360"
  },
  {
    "text": "necessary uh for like 99.999% of the time like the vast vast",
    "start": "1111360",
    "end": "1117600"
  },
  {
    "text": "majority of TLS usage happens over TCP it's for regular things like htps and",
    "start": "1117600",
    "end": "1123280"
  },
  {
    "text": "email uh they just don't need heartbeat that's for that's for UDP protocols but",
    "start": "1123280",
    "end": "1128840"
  },
  {
    "text": "it was included and enabled by default even though it just wasn't needed for uh for those modes um and so uh the",
    "start": "1128840",
    "end": "1137159"
  },
  {
    "text": "combination of all those factors and a really really simple two- line bug um",
    "start": "1137159",
    "end": "1142559"
  },
  {
    "text": "you know leads to a a pretty a pretty massive level of impact which um you",
    "start": "1142559",
    "end": "1148720"
  },
  {
    "text": "know for me as a software developer is kind of scary right like because the notion that you know if I screw up two",
    "start": "1148720",
    "end": "1155080"
  },
  {
    "text": "lines I could cause an event as large as this uh that you know you'd lose sleep overnight or you you you wouldn't you",
    "start": "1155080",
    "end": "1162159"
  },
  {
    "text": "wouldn't be able to sleep uh and so the a lot of the rest of this talk is about how we kind of try to prevent those",
    "start": "1162159",
    "end": "1168200"
  },
  {
    "text": "things more systematically and so that it it's not just that you know if we miss two lines of code uh the world's",
    "start": "1168200",
    "end": "1174760"
  },
  {
    "start": "1173000",
    "end": "1173000"
  },
  {
    "text": "going to end or anything like that we try to try to keep things more simple so our initial response to the har bed",
    "start": "1174760",
    "end": "1181120"
  },
  {
    "text": "event um was uh so the the vulnerability uh went public uh before",
    "start": "1181120",
    "end": "1188520"
  },
  {
    "text": "it was intended to be disclosed there was uh there were embargos in place and people were uh working on um updating",
    "start": "1188520",
    "end": "1195440"
  },
  {
    "text": "stuff but uh for for various reasons um the the vulnerability ended up going",
    "start": "1195440",
    "end": "1200960"
  },
  {
    "text": "public before those embargos had expired and so the world was was just caught by",
    "start": "1200960",
    "end": "1206760"
  },
  {
    "text": "surprise by this vulnerability in the middle of a morning um uh we at Amazon",
    "start": "1206760",
    "end": "1212000"
  },
  {
    "start": "1211000",
    "end": "1211000"
  },
  {
    "text": "treated it like a a pretty major event uh as did our customers you know we had",
    "start": "1212000",
    "end": "1217640"
  },
  {
    "text": "we had conference calls spun up and we were coordinating aot our response uh across across the company you know the",
    "start": "1217640",
    "end": "1223600"
  },
  {
    "text": "first thing we did is halt all deployments of anything uh and you know get everything preped pred cuz we knew",
    "start": "1223600",
    "end": "1229320"
  },
  {
    "text": "we were now going to have to make a bunch of changes rapidly and so we wanted to minimize risk for customers um",
    "start": "1229320",
    "end": "1235840"
  },
  {
    "text": "and then we commenced you know we we uh we actually produced a a very minimal patch uh with the very smallest change",
    "start": "1235840",
    "end": "1243000"
  },
  {
    "text": "we thought we needed to to patch against the vulnerability without importing any any other new code that could be",
    "start": "1243000",
    "end": "1248200"
  },
  {
    "text": "additional risk uh and started getting that out there uh super quick uh going through our tests and and pipelines and",
    "start": "1248200",
    "end": "1255039"
  },
  {
    "text": "so on as quickly as we could um and we we got it we got all the OS Services",
    "start": "1255039",
    "end": "1260960"
  },
  {
    "text": "updated um within 16 hours uh and the vast majority even even uh more quickly",
    "start": "1260960",
    "end": "1267240"
  },
  {
    "text": "than that without additional customer impact which is hard upgrading you know all of something like elb or Cloud fund",
    "start": "1267240",
    "end": "1274480"
  },
  {
    "text": "uh in those kind of time frames is a challenge and a lot of people put in a lot of hours and kind of dropped everything and it was it was pretty",
    "start": "1274480",
    "end": "1280520"
  },
  {
    "text": "amazing as as did a lot of our customers um it was it was such a uh widely",
    "start": "1280520",
    "end": "1286559"
  },
  {
    "text": "impactful event uh that we knew what impact um many customers that we kind of",
    "start": "1286559",
    "end": "1292720"
  },
  {
    "text": "went beyond the standard a security uh shared responsibility model where you know we own the security of our services",
    "start": "1292720",
    "end": "1299880"
  },
  {
    "text": "and customers own the security of everything running on their instances or their own software and we actually put in additional monitoring to to connect",
    "start": "1299880",
    "end": "1306919"
  },
  {
    "text": "to customer instances and let them know if they were still vulnerable um to Heart bed so we would have proactive",
    "start": "1306919",
    "end": "1313120"
  },
  {
    "text": "scans running um and customers did a really really great job of upgrading it was it was amazingly fast um you know",
    "start": "1313120",
    "end": "1321320"
  },
  {
    "text": "within 5 days we saw that pretty much 80% of everything had been updated which is which is quick um and within a month",
    "start": "1321320",
    "end": "1329480"
  },
  {
    "text": "98% and then if you tracked it like out from there even even a year later it was",
    "start": "1329480",
    "end": "1334840"
  },
  {
    "text": "like 99% and so on so the remainder were were things people just weren't paying attention to no one's reading email no",
    "start": "1334840",
    "end": "1340919"
  },
  {
    "text": "one's uh no one's monitoring anything and th uh th those type of environments",
    "start": "1340919",
    "end": "1346600"
  },
  {
    "text": "eventually get shut down but what what I think all that means is that the the news and the coverage um worked right",
    "start": "1346600",
    "end": "1355520"
  },
  {
    "text": "the the the the general response uh people knew to take it seriously and did",
    "start": "1355520",
    "end": "1360559"
  },
  {
    "text": "and that was uh that was that was pretty amazing so that's just stuff on on the immediate response in the day itself um",
    "start": "1360559",
    "end": "1368480"
  },
  {
    "start": "1368000",
    "end": "1368000"
  },
  {
    "text": "more strategically uh kind of out of heart bed uh came the core infrastructure",
    "start": "1368480",
    "end": "1374960"
  },
  {
    "text": "initiative which we are a member of uh which is um initiative of Industry uh industry",
    "start": "1374960",
    "end": "1381799"
  },
  {
    "text": "partners that essentially fund um research and improvements into projects",
    "start": "1381799",
    "end": "1388000"
  },
  {
    "text": "like op SSL to try to uh improve the Baseline security um a lot of new uh",
    "start": "1388000",
    "end": "1395279"
  },
  {
    "text": "Research into vulnerability detection got kicked off as well uh my colleague",
    "start": "1395279",
    "end": "1400400"
  },
  {
    "text": "Byron cook spoke earlier this week uh about some of that that we're doing in Amazon as well um and some of the",
    "start": "1400400",
    "end": "1406159"
  },
  {
    "text": "industry research that's out there there's been some amazing progresses in the last two years there's now a lot",
    "start": "1406159",
    "end": "1411520"
  },
  {
    "text": "more automated um finding of vulnerabilities I'll talk about that",
    "start": "1411520",
    "end": "1417679"
  },
  {
    "text": "later that's really really cool uh the the folks from openbsd uh created a fork",
    "start": "1417679",
    "end": "1424400"
  },
  {
    "text": "of open SSL they just copied the code and then they started immediately ripping things out and simplifying it",
    "start": "1424400",
    "end": "1429720"
  },
  {
    "text": "and that's the that's the Libra SSL project uh which is pretty uh pretty",
    "start": "1429720",
    "end": "1434840"
  },
  {
    "text": "neat and it's worth looking at uh the boring SSL project began at Google which is their own uh clone or Fork of open",
    "start": "1434840",
    "end": "1442080"
  },
  {
    "text": "SSL uh where they have um where they are adding",
    "start": "1442080",
    "end": "1447600"
  },
  {
    "text": "uh adding new functionality some performance improvements but mainly focused on security uh and simplifying",
    "start": "1447600",
    "end": "1453760"
  },
  {
    "text": "things down and um and making it more rigorous uh two um two really really",
    "start": "1453760",
    "end": "1459720"
  },
  {
    "text": "cool projects um as I said earlier um we",
    "start": "1459720",
    "end": "1465200"
  },
  {
    "text": "had tentative plans already was already on our kind of inter road maps not necessarily a customer facing feature",
    "start": "1465200",
    "end": "1471880"
  },
  {
    "text": "but we have already been planning okay we're getting to the scale now where you",
    "start": "1471880",
    "end": "1478200"
  },
  {
    "text": "know we find ourselves dealing a lot in the nitty-gritty of SSL and TLS there's performance and efficiency gains to be",
    "start": "1478200",
    "end": "1484480"
  },
  {
    "text": "to be had there uh we we should probably get into the business of of um of",
    "start": "1484480",
    "end": "1489640"
  },
  {
    "text": "building our own uh of building our own implementations right and so that just suddenly uh came forward so there's two",
    "start": "1489640",
    "end": "1497919"
  },
  {
    "text": "kind of common models for open source at AWS um you know one is it's it's an",
    "start": "1497919",
    "end": "1504320"
  },
  {
    "text": "official like company project like uh the sdks that we release or blocks um",
    "start": "1504320",
    "end": "1511520"
  },
  {
    "text": "you know it's a fully you know Amazon branded project something we stand behind uh and there's also just",
    "start": "1511520",
    "end": "1518720"
  },
  {
    "text": "initiatives where you know people work on things in their spare time because that's what that's what they uh work on",
    "start": "1518720",
    "end": "1525039"
  },
  {
    "text": "you know when I joined the company I was an active contributor to apachi h D It's just something I worked on for a long",
    "start": "1525039",
    "end": "1530399"
  },
  {
    "text": "time and help build uh and I would continue to do that in my spare time and",
    "start": "1530399",
    "end": "1535440"
  },
  {
    "text": "so uh at the the very beginning it wasn't clear like which of the which of these models uh we would take or I would",
    "start": "1535440",
    "end": "1542559"
  },
  {
    "text": "take you know I just speaking personally uh not only did I want the new uh SSL",
    "start": "1542559",
    "end": "1548360"
  },
  {
    "text": "TLS implementation for for Amazon but I also wanted something I could use in Apachi um uh so the initial start was",
    "start": "1548360",
    "end": "1557520"
  },
  {
    "text": "not to worry about that you know we'll figure that out later just start writing code and so I started working on it as a",
    "start": "1557520",
    "end": "1564799"
  },
  {
    "text": "spare time project and uh to give an example of or to give you an idea of how",
    "start": "1564799",
    "end": "1570120"
  },
  {
    "text": "complex SSL TLS is it's it's not that big um I was able to get a working",
    "start": "1570120",
    "end": "1575600"
  },
  {
    "text": "implementation together in about 40 development hours over about five weekends and I wasn't working on it look",
    "start": "1575600",
    "end": "1581600"
  },
  {
    "text": "it wasn't like I was spending my whole weekend on it I was just kind of tinkering um uh and it wasn't too hard",
    "start": "1581600",
    "end": "1587919"
  },
  {
    "text": "it's not that big a protocol right openness sell is a huge project you know over half a million lines of code it",
    "start": "1587919",
    "end": "1595080"
  },
  {
    "text": "includes um every sort of cryptographic algorithm you can imagine and all sorts",
    "start": "1595080",
    "end": "1600159"
  },
  {
    "text": "of cool stuff but if you really pair it down and you focus on just SSL and TLS",
    "start": "1600159",
    "end": "1605320"
  },
  {
    "text": "it's not doesn't take that much to get that working right I've I've we've done implementations of DNS and hdp before",
    "start": "1605320",
    "end": "1613559"
  },
  {
    "text": "you know my opinion those are much much larger protocols that would take uh far longer to implement",
    "start": "1613559",
    "end": "1619000"
  },
  {
    "text": "um so five weekends in we've got a working implementation you know a lot of",
    "start": "1619000",
    "end": "1624520"
  },
  {
    "text": "that time wasn't even spent necessarily on like writing lines of code so much is",
    "start": "1624520",
    "end": "1629679"
  },
  {
    "text": "just you know bashing your head off a desk because you're dealing with cryptographic code and that can be very hard to to debug and slows you down a",
    "start": "1629679",
    "end": "1635960"
  },
  {
    "text": "bit um so made pretty good progress so that's a pretty good kind of initial take saying okay we could do this this",
    "start": "1635960",
    "end": "1641840"
  },
  {
    "text": "is totally viable we could we could just build this uh see what it takes and so",
    "start": "1641840",
    "end": "1647240"
  },
  {
    "text": "uh people knew about this internally a rest and um the feeling was okay uh that",
    "start": "1647240",
    "end": "1653640"
  },
  {
    "text": "that looks like something we should take on and do as an official project and and fund it and have um you know software",
    "start": "1653640",
    "end": "1660880"
  },
  {
    "text": "developers working on this for fulltime and and uh and and see what that would take right so um the way we went about",
    "start": "1660880",
    "end": "1669960"
  },
  {
    "text": "that is we wrote up a proposal to to make s2n an official ads project um we",
    "start": "1669960",
    "end": "1676880"
  },
  {
    "start": "1676000",
    "end": "1676000"
  },
  {
    "text": "use a working backwards Pro C at 8 which just means we write the press release and FAQ first and to kind of give you an",
    "start": "1676880",
    "end": "1683120"
  },
  {
    "text": "idea of what it would look like if we launch something and if people get excited by that that's generally a good sign um and we we we went through that",
    "start": "1683120",
    "end": "1691799"
  },
  {
    "text": "uh with customers uh our feedback from from customers was this sounds great you know we kind of trust you to do this you",
    "start": "1691799",
    "end": "1699120"
  },
  {
    "text": "you're um You probably have the technical knowhow to be able to pull something like this off you know there's",
    "start": "1699120",
    "end": "1704519"
  },
  {
    "text": "an adage that no one should ever really write their own cryptography which is mostly true but somebody does",
    "start": "1704519",
    "end": "1710720"
  },
  {
    "text": "have to write it um and and we're we're probably in the small category of of of",
    "start": "1710720",
    "end": "1718120"
  },
  {
    "text": "places that you know are in the should so uh we kind of cross that threshold with customers but literally to a person",
    "start": "1718120",
    "end": "1725360"
  },
  {
    "text": "all of them said great but we want it to be open source we want to be able to see the code we want to be able to validate it uh we want to be able to trust it and",
    "start": "1725360",
    "end": "1732200"
  },
  {
    "text": "so on so that was great feedback uh our feedback from AWS leadership was yeah this looks great this looks like",
    "start": "1732200",
    "end": "1738399"
  },
  {
    "text": "something we could do but we want to be able to Define like long-term ownership just like a prod just like a a product",
    "start": "1738399",
    "end": "1744840"
  },
  {
    "text": "or service at AWS who's going to own this who's going to respond to security issues who's going to uh who's going to",
    "start": "1744840",
    "end": "1750919"
  },
  {
    "text": "make sure that it can it can keep going that we can survive you know the loss of anyone individual or anything like that",
    "start": "1750919",
    "end": "1756880"
  },
  {
    "text": "that we've got a bus factor of zero all super important considerations and so we had to be able to address all of those",
    "start": "1756880",
    "end": "1763919"
  },
  {
    "text": "um the path to open source was surprisingly like very very easy um uh",
    "start": "1763919",
    "end": "1770919"
  },
  {
    "text": "we we have a an open source team at Amazon they work with uh uh Amazon legal",
    "start": "1770919",
    "end": "1777000"
  },
  {
    "text": "and um uh they were all over it they were like yep if if we've got support from the executives this is no problem H",
    "start": "1777000",
    "end": "1783840"
  },
  {
    "text": "happy to have it open sourced um the uh probably more complicated than having to",
    "start": "1783840",
    "end": "1790279"
  },
  {
    "text": "deal with any open source licensing issues we're dealing with crypto export regulations because when you're writing cryptographic software you have to have",
    "start": "1790279",
    "end": "1796840"
  },
  {
    "text": "export licenses and so on on but they were super helpful with that too um no problems we able to get all that in",
    "start": "1796840",
    "end": "1803640"
  },
  {
    "text": "place uh the part to ownership um was a little unusual you know normally ownership at Amazon means we have um a",
    "start": "1803640",
    "end": "1811240"
  },
  {
    "text": "team of people who work on a service they own that service uh it's very very simple uh for S we actually have a v",
    "start": "1811240",
    "end": "1817399"
  },
  {
    "text": "team uh made up of people from from uh uh from multiple Services that's",
    "start": "1817399",
    "end": "1823159"
  },
  {
    "text": "consolidating a bit now it's gravitating towards uh ownership um in in in one",
    "start": "1823159",
    "end": "1829000"
  },
  {
    "text": "team but for the last two years or so it's been a vteam uh but we we were able to Define what who that V team is who",
    "start": "1829000",
    "end": "1835840"
  },
  {
    "text": "the technical leaders are uh what a ro map is how we would work with customers uh we have an on call rotation so if we",
    "start": "1835840",
    "end": "1842519"
  },
  {
    "text": "ever have any issues or or Orin problems you know we can be we can be paged um",
    "start": "1842519",
    "end": "1848760"
  },
  {
    "text": "and we have a security process that we put in place uh where we worked with our um Chief Information Security Officer",
    "start": "1848760",
    "end": "1855679"
  },
  {
    "text": "Steve um and Andy jier o to just Define exactly how we respond um to issues of",
    "start": "1855679",
    "end": "1862919"
  },
  {
    "text": "particular concern is you know customers are going to be using this software as well in some cases since it's open",
    "start": "1862919",
    "end": "1868200"
  },
  {
    "text": "source so what our notification processes how would we notify them in the event of a security issue um we have",
    "start": "1868200",
    "end": "1875080"
  },
  {
    "text": "all that well defined if you go to our GitHub project you can see uh what our notification process is how we handle",
    "start": "1875080",
    "end": "1880519"
  },
  {
    "text": "them there's an email list to sign up to if you want to be notified uh of issues and so on so that was that was the uh",
    "start": "1880519",
    "end": "1887639"
  },
  {
    "text": "those were were kind of the processing things we had to do uh and they um they weren't",
    "start": "1887639",
    "end": "1893399"
  },
  {
    "text": "particularly large roadblocks or anything like that they were just a matter of addressing them and documenting them uh and then we were",
    "start": "1893399",
    "end": "1899039"
  },
  {
    "text": "able able to launch uh but before we were able to launch we had to build the rest of it",
    "start": "1899039",
    "end": "1904559"
  },
  {
    "text": "right so in those five weekends i' built enough to be able to you know connect a web browser to a web server and download",
    "start": "1904559",
    "end": "1910679"
  },
  {
    "text": "some stuff but to really really work at scale and deal with you know millions of different client types um there's a lot",
    "start": "1910679",
    "end": "1918720"
  },
  {
    "text": "of longtail work of of compatibility testing and efficiency and performance",
    "start": "1918720",
    "end": "1924080"
  },
  {
    "text": "testing and so on and and so we had to get the V team spun up and Define like",
    "start": "1924080",
    "end": "1929200"
  },
  {
    "text": "how are we going to own and develop this project going forward what was that going to look like so that's what I'm going to talk about next um and so I've",
    "start": "1929200",
    "end": "1936559"
  },
  {
    "text": "defined I've I've split this into what I think are the five levels uh we really",
    "start": "1936559",
    "end": "1941639"
  },
  {
    "text": "think about this um at least how I learned to think about it working in AWS",
    "start": "1941639",
    "end": "1947399"
  },
  {
    "start": "1944000",
    "end": "1944000"
  },
  {
    "text": "and um those are to focus on the team culture like just how we own something as a team um and then in much more",
    "start": "1947399",
    "end": "1955760"
  },
  {
    "text": "practical terms how we come up with simple designs and and focus on readable code uh to make things",
    "start": "1955760",
    "end": "1963240"
  },
  {
    "text": "maintainable uh quick and easy testing uh systematic defense in depth and",
    "start": "1963240",
    "end": "1969240"
  },
  {
    "text": "verifying everything verifying things verifying everything is probably a unique aspect to a project like this",
    "start": "1969240",
    "end": "1974720"
  },
  {
    "text": "that's super security focused we'll cover that too",
    "start": "1974720",
    "end": "1979840"
  },
  {
    "text": "um so when we started the V team we did something that we do um with most",
    "start": "1979880",
    "end": "1987279"
  },
  {
    "text": "service and product teams at at uh at Amazon which was we actually agree and",
    "start": "1987279",
    "end": "1992399"
  },
  {
    "text": "write down like what are our goals priorities and tenets we call them tenants on Amazon but uh we call them",
    "start": "1992399",
    "end": "1999080"
  },
  {
    "text": "development principles on our Gio project because we got feedback from a lot of international uh developers that",
    "start": "1999080",
    "end": "2005000"
  },
  {
    "text": "they didn't know what the word tenet meant uh it's not not that common an English word and um and and that helps",
    "start": "2005000",
    "end": "2013799"
  },
  {
    "text": "keep everybody faced in the same direction you know the way I think about it is we always try to make data driven decisions and whenever there's an",
    "start": "2013799",
    "end": "2019799"
  },
  {
    "text": "argument that could be resolved by data it should but there's always some amount of decisions left over where you kind of",
    "start": "2019799",
    "end": "2025919"
  },
  {
    "text": "have to go back to some guiding principles and so we we write them all down and and hash them out in advance so",
    "start": "2025919",
    "end": "2032360"
  },
  {
    "text": "that can we can all be uh lined up uh we also agree and write out our actual code",
    "start": "2032360",
    "end": "2037519"
  },
  {
    "text": "guide guidelines what our code should look like um one of our core tenants and",
    "start": "2037519",
    "end": "2043120"
  },
  {
    "text": "principles and thing we probably spent the most time on was just making tests like super easy uh to write super fast",
    "start": "2043120",
    "end": "2050679"
  },
  {
    "text": "to run uh really really important uh thing to get to get right from day one that's uh usually where we focus a lot",
    "start": "2050679",
    "end": "2056919"
  },
  {
    "text": "of energy when we start things uh you know one of the ways we think about that is if we take testing Under the Umbrella",
    "start": "2056919",
    "end": "2063638"
  },
  {
    "text": "of quality a lot of time people can have the impression that quality is something you should to make time for or that it",
    "start": "2063639",
    "end": "2069480"
  },
  {
    "text": "you know has to be accounted for in development budgets and so on like well we'll set time aside to um to do the",
    "start": "2069480",
    "end": "2075720"
  },
  {
    "text": "testing and and we'll uh but we don't think about it quite like that instead think of it as as a habit that has to be",
    "start": "2075720",
    "end": "2082760"
  },
  {
    "text": "constantly reinforced as just part of how we do everything it's more like brushing your teeth uh than anything",
    "start": "2082760",
    "end": "2088760"
  },
  {
    "text": "else and so in that context like we we had to start by saying what are tests going to look like how are we going to",
    "start": "2088760",
    "end": "2094760"
  },
  {
    "text": "make them really easy and we taught hard about the high level design our actual goals once you wrote them",
    "start": "2094760",
    "end": "2100760"
  },
  {
    "text": "down um came out to be like this let's write a worldclass TLS implementation",
    "start": "2100760",
    "end": "2106440"
  },
  {
    "text": "let's stay minimal uh you can read all of our goals uh on our website actually if you go to the gtho project you can",
    "start": "2106440",
    "end": "2112560"
  },
  {
    "start": "2112000",
    "end": "2112000"
  },
  {
    "text": "read all of this we've got a a pretty pretty long document that goes through like what our development principles are",
    "start": "2112560",
    "end": "2118839"
  },
  {
    "text": "in fine detail what our coding guidelines are in fine detail um and how we how we think about resolving",
    "start": "2118839",
    "end": "2124680"
  },
  {
    "text": "decisions uh it's all there take the time to it if you're interested um so that's the cultural",
    "start": "2124680",
    "end": "2131359"
  },
  {
    "text": "level right that's how we stay kind of generous and healthy as a team and reinforce each other to do to do the",
    "start": "2131359",
    "end": "2137800"
  },
  {
    "text": "right things um but we also need like just super practical day-to-day guidance for doing certain things and I of which",
    "start": "2137800",
    "end": "2145040"
  },
  {
    "text": "I think the most important is how we write code you know we're software developers what we're doing every day is literally writing code um and uh we we",
    "start": "2145040",
    "end": "2153800"
  },
  {
    "text": "need to think hard about it the biggest thing we optimize for um in SN for sure is that the code be",
    "start": "2153800",
    "end": "2161040"
  },
  {
    "text": "readable right where um it needs to be understood not just by the compiler but",
    "start": "2161040",
    "end": "2166480"
  },
  {
    "text": "by our colleagues by people reviewing it especially since this code base is going to be reviewed so thoroughly and by our",
    "start": "2166480",
    "end": "2172880"
  },
  {
    "text": "future selves who may have forgotten a lot of the internal details from when they wrote it um you know one of our",
    "start": "2172880",
    "end": "2179880"
  },
  {
    "text": "really simple guidelines for that is uh the code itself should be super readable",
    "start": "2179880",
    "end": "2185319"
  },
  {
    "text": "in terms of what it's doing right like fun should have easy to understand names",
    "start": "2185319",
    "end": "2190599"
  },
  {
    "text": "the code should have this simple flow to it like I should be able to just read a function and be able to tell you what",
    "start": "2190599",
    "end": "2196160"
  },
  {
    "text": "it's doing if I'm writing comments explaining what I'm doing that's that's a bad sign like I probably need to",
    "start": "2196160",
    "end": "2203680"
  },
  {
    "text": "rewrite the code or restructure it to be more readable um but we do encourage",
    "start": "2203680",
    "end": "2208800"
  },
  {
    "text": "rau's commenting to explain why we're doing things right so if I need context from outside the code like referencing a",
    "start": "2208800",
    "end": "2216280"
  },
  {
    "text": "standard or so what they part of the codebase that's too far away to keep in context like that's a why and those are",
    "start": "2216280",
    "end": "2222160"
  },
  {
    "text": "those are worth commenting and uh that that rules never let us down uh none of",
    "start": "2222160",
    "end": "2227480"
  },
  {
    "text": "us on the V team uh particularly like to argue about how code should be formatted",
    "start": "2227480",
    "end": "2233000"
  },
  {
    "text": "you know spaces and tabs or any of that stuff so we just we just took a a hint from go and automated it all from day",
    "start": "2233000",
    "end": "2240560"
  },
  {
    "text": "one so we have a make Target in our project that will consistently indent the entire project and we encourage",
    "start": "2240560",
    "end": "2246160"
  },
  {
    "text": "everybody to just run that command every single time and we've never ever had an argument about code formatting and if",
    "start": "2246160",
    "end": "2252440"
  },
  {
    "start": "2252000",
    "end": "2252000"
  },
  {
    "text": "anybody wants to change anything they can so just a really simple example of some of our code um this is a piece of",
    "start": "2252440",
    "end": "2258800"
  },
  {
    "text": "code that actually handles a TLS extension um and what you can see we've",
    "start": "2258800",
    "end": "2264920"
  },
  {
    "text": "got we've got some why comments right like they're they're there to explain why things are the way they are but the",
    "start": "2264920",
    "end": "2271079"
  },
  {
    "text": "functions themselves should be pretty readable in terms of what they're doing right so like I'm writing a U6",
    "start": "2271079",
    "end": "2278359"
  },
  {
    "text": "right it's telling me okay I'm writing an INT it's 16 bits in size really really simple all the context is there",
    "start": "2278359",
    "end": "2285560"
  },
  {
    "text": "and that's that's kind of that's that's kind of our our ideal just make it at least that readable um the",
    "start": "2285560",
    "end": "2294800"
  },
  {
    "start": "2293000",
    "end": "2293000"
  },
  {
    "text": "um so we we prioritize readable code above anything else right if we have to",
    "start": "2294800",
    "end": "2299880"
  },
  {
    "text": "make code bigger to make it more readable we will right that is our highest priority but in general we also",
    "start": "2299880",
    "end": "2306760"
  },
  {
    "text": "we also value less code over more code right so if we can make if we can make",
    "start": "2306760",
    "end": "2311839"
  },
  {
    "text": "the system use a less code to do the same thing that will generally have fewer bugs you know defect rates are",
    "start": "2311839",
    "end": "2318319"
  },
  {
    "text": "generally measured per line um and it will just be easier to audit overall",
    "start": "2318319",
    "end": "2323599"
  },
  {
    "text": "that initial version inest 2N that I wrote that um it could connect a web browser to a web server ended up being",
    "start": "2323599",
    "end": "2329960"
  },
  {
    "text": "about 3,000 lines of code total compared to about uh 150 to 200,000 lines of open",
    "start": "2329960",
    "end": "2336520"
  },
  {
    "text": "SSL code uh to do the same work um out of open ssl's total of about half a",
    "start": "2336520",
    "end": "2343200"
  },
  {
    "text": "million um we explicitly try to avoid branches as much as possible so like",
    "start": "2343200",
    "end": "2349200"
  },
  {
    "text": "just ifs and switches and so on we try to eliminate them because they they put a really high cognitive load on the",
    "start": "2349200",
    "end": "2355560"
  },
  {
    "text": "developer because now you got to keep context of like well if I go here if I go here um uh what happens and then that",
    "start": "2355560",
    "end": "2362800"
  },
  {
    "text": "can get into a combinatorial space right when you end up with lots of them um we try to write",
    "start": "2362800",
    "end": "2368000"
  },
  {
    "text": "small simple discret functions that do uh you know one thing just so that I can sit and read a function in isolation and",
    "start": "2368000",
    "end": "2375760"
  },
  {
    "text": "not have to keep a ton of context in my head again really optimizing for like our own brain spaces and",
    "start": "2375760",
    "end": "2381640"
  },
  {
    "text": "readability um since we're a networking Library uh another great trick we",
    "start": "2381640",
    "end": "2386839"
  },
  {
    "text": "applied is we intentionally split the parsing of messages like handling um",
    "start": "2386839",
    "end": "2392480"
  },
  {
    "text": "things like the heartbeat extension from flow control which just means like well where should they go next next managing",
    "start": "2392480",
    "end": "2398040"
  },
  {
    "text": "State machines all that kind of stuff just so the code isn't all mixed together a simple example of that is",
    "start": "2398040",
    "end": "2404520"
  },
  {
    "text": "kind of the highle design of S2 n is that we take input we pass it to a function that decrypts things we pass it",
    "start": "2404520",
    "end": "2411839"
  },
  {
    "text": "to another function that um you know parses or responds with that data we",
    "start": "2411839",
    "end": "2417240"
  },
  {
    "text": "parse it to another function that can encrypt a response and then we we send output right which is pretty different",
    "start": "2417240",
    "end": "2423599"
  },
  {
    "text": "to say the open SSL style where it's that one big file doing everything at once all in one big context with with a",
    "start": "2423599",
    "end": "2430280"
  },
  {
    "text": "switch statement at its core is that it's trying to do everything we're trying to make these discret units of",
    "start": "2430280",
    "end": "2435960"
  },
  {
    "text": "operation uh one trick that we use to avoid branches is that a lot of the time",
    "start": "2435960",
    "end": "2441079"
  },
  {
    "text": "the functions that we're going to are referenced bya function pointers so we just plug different functions in in the",
    "start": "2441079",
    "end": "2446359"
  },
  {
    "text": "same place in like a modular framework just kind of like a functioning programming technique um just to keep",
    "start": "2446359",
    "end": "2452160"
  },
  {
    "text": "things down and so if you look at a typical like how a message is first in",
    "start": "2452160",
    "end": "2457960"
  },
  {
    "text": "s2n it's very very different from that open cell code that we saw earlier right so This Is Us handling a particular",
    "start": "2457960",
    "end": "2464680"
  },
  {
    "text": "message in TLS which is the change Cipher Suite message from a TLS client doesn't really matter but what we what",
    "start": "2464680",
    "end": "2470920"
  },
  {
    "text": "we do is this is the whole file pretty much and we've got the code for um",
    "start": "2470920",
    "end": "2476480"
  },
  {
    "text": "receiving a message right up there on top and the code for sending it right there at the bottom and so that's how",
    "start": "2476480",
    "end": "2481839"
  },
  {
    "text": "we're oriented we're like this is the file you need to read if you're reviewing how we handle this message so you've got all the so in your brain you",
    "start": "2481839",
    "end": "2488520"
  },
  {
    "text": "can be like okay at this point all I need to really understand is the the format of that message um you should",
    "start": "2488520",
    "end": "2494720"
  },
  {
    "text": "also be able to understand that format just by reading this code really right if you look at the bottom function you can see all that's that happening in",
    "start": "2494720",
    "end": "2501680"
  },
  {
    "text": "that message is that we're sending uh an 8bit integer that is in",
    "start": "2501680",
    "end": "2506880"
  },
  {
    "text": "fact the entire contents of that message type uh it takes a little bit more to to receive that data because we have to set",
    "start": "2506880",
    "end": "2513560"
  },
  {
    "text": "up some State based on when we receive it but it's it's really really simple all the functions are hopefully uh",
    "start": "2513560",
    "end": "2519359"
  },
  {
    "text": "pretty legibly named pretty pretty easy to follow uh so I mentioned branches so",
    "start": "2519359",
    "end": "2524839"
  },
  {
    "text": "you'll notice we're not deeply nesting here in branches we're not getting deep at all it all fits on one page that's",
    "start": "2524839",
    "end": "2531359"
  },
  {
    "text": "all intentional uh I want to go back to the file we looked at earlier from op",
    "start": "2531359",
    "end": "2537160"
  },
  {
    "start": "2536000",
    "end": "2536000"
  },
  {
    "text": "SSL so uh this is just one section from like somewhere in the middle what you see here is kind of like a a kind of",
    "start": "2537160",
    "end": "2544319"
  },
  {
    "text": "beginner novice programmer error which is um nesting lots of branches deeply",
    "start": "2544319",
    "end": "2552640"
  },
  {
    "text": "and because it's it's got the mindset okay I need to check if some condition",
    "start": "2552640",
    "end": "2558319"
  },
  {
    "text": "is good right like this one at the top we're checking if G is not null because if G's null we can't do anything right",
    "start": "2558319",
    "end": "2565280"
  },
  {
    "text": "so G has to not be null so I'm going to check that and then I also need to care if like CTX dog is not null so I'm going",
    "start": "2565280",
    "end": "2572000"
  },
  {
    "text": "to do that next and so on right and you get many nested branches deep",
    "start": "2572000",
    "end": "2577680"
  },
  {
    "text": "which is a lot of context to keep in your head and also just makes the code like really hard to read right it ends",
    "start": "2577680",
    "end": "2583800"
  },
  {
    "text": "up looking like this the branches keep going to the right and it's literally falls off the the screen at some point",
    "start": "2583800",
    "end": "2590720"
  },
  {
    "text": "uh if you trace the maximum Branch depth an open a cell it gets sometimes 32 branches deep which is just a lot of",
    "start": "2590720",
    "end": "2598079"
  },
  {
    "text": "context to keep in your head right so in s2n and and in general uh coding",
    "start": "2598079",
    "end": "2604280"
  },
  {
    "text": "guidelines we do it the other way around right what we'll do is like if the condition is not what we want it to be",
    "start": "2604280",
    "end": "2611599"
  },
  {
    "text": "bail right exit so what we would do in that case we would say well if g equals",
    "start": "2611599",
    "end": "2616680"
  },
  {
    "text": "null return minus one done I can forget about all that context now right and",
    "start": "2616680",
    "end": "2623319"
  },
  {
    "text": "instead of having these nested series of branches you end up with like just this straight line of code that's really easy",
    "start": "2623319",
    "end": "2629680"
  },
  {
    "text": "to read and it's it's much harder for errors to keep in so this is like just a really simple trick to um",
    "start": "2629680",
    "end": "2637559"
  },
  {
    "text": "for especially for beginner programmers like if you can get into that habit early it is it is well worth having and",
    "start": "2637559",
    "end": "2642839"
  },
  {
    "text": "it'll generally make all your code smaller and simpler anyway that's just one example of like our explicit coding",
    "start": "2642839",
    "end": "2650559"
  },
  {
    "text": "guidelines if you go to the if you go to the reference stock on GitHub you'll find more um so as I mentioned uh we",
    "start": "2650559",
    "end": "2657640"
  },
  {
    "text": "think testing is is pretty key um you know I am not the kind of software",
    "start": "2657640",
    "end": "2663800"
  },
  {
    "text": "developer that can just you know Frank zap style like write the best code in",
    "start": "2663800",
    "end": "2669160"
  },
  {
    "text": "the world the first time that you know it's flawless I I generally make a lot of errors as I'm coding and uh and catch",
    "start": "2669160",
    "end": "2677079"
  },
  {
    "text": "them with tests and then Ade and fix right and that's uh and I want to make that development cycle as quick as",
    "start": "2677079",
    "end": "2684680"
  },
  {
    "text": "possible and so we put a lot of focus on that um from day one uh one of our",
    "start": "2684680",
    "end": "2690760"
  },
  {
    "text": "explicit like testing guidelines was that tests should be so easy to write",
    "start": "2690760",
    "end": "2695960"
  },
  {
    "text": "there's like no excuse not to have a test right like tests need to be easy enough to write for like interns because",
    "start": "2695960",
    "end": "2701800"
  },
  {
    "text": "we have interns working on our project sometimes um uh and and to re to reinforce that habit as well and they",
    "start": "2701800",
    "end": "2708599"
  },
  {
    "text": "should run quickly right because it's just a nuisance if they don't like it it slows us down so did that we have a lot",
    "start": "2708599",
    "end": "2715800"
  },
  {
    "start": "2715000",
    "end": "2715000"
  },
  {
    "text": "of tests in SN like a lot uh if you go download the project from GitHub and type make uh or do make- j32 which will",
    "start": "2715800",
    "end": "2724520"
  },
  {
    "text": "just parallelize everything um we we run through literally billions of test cases",
    "start": "2724520",
    "end": "2730359"
  },
  {
    "text": "um in the test suite and it all finishes in less than about 20 seconds uh on my Mac at the moment they finish in eight",
    "start": "2730359",
    "end": "2737440"
  },
  {
    "text": "seconds uh um so I can I can be writing code I can be adding new tests you know",
    "start": "2737440",
    "end": "2743480"
  },
  {
    "text": "I'll do make DJ 20 seconds later I know if all my tests pass or fail um s1's",
    "start": "2743480",
    "end": "2750040"
  },
  {
    "text": "written in C uh for backwards compatibility reasons we were replacing open SSL open SSL is written in C so we",
    "start": "2750040",
    "end": "2756520"
  },
  {
    "text": "kind of Happ to write it in C uh there's a lot of religious wars about whether C is right or not for security critical uh",
    "start": "2756520",
    "end": "2763240"
  },
  {
    "text": "software like this uh all I say is when when when you're replacing a c project you pretty much have to use a c project",
    "start": "2763240",
    "end": "2768800"
  },
  {
    "text": "to to replace it and also in crypto there's there's some times where you need constant time code and you can",
    "start": "2768800",
    "end": "2774160"
  },
  {
    "start": "2772000",
    "end": "2772000"
  },
  {
    "text": "really only do that in C anyway that's an that's an aside to all this um but C",
    "start": "2774160",
    "end": "2780599"
  },
  {
    "text": "doesn't have a test framework right there's no J unit for C well there's a few competing ones but no clear leader",
    "start": "2780599",
    "end": "2786960"
  },
  {
    "text": "no no like idiomatic uh testing framework for C so you to write our own",
    "start": "2786960",
    "end": "2792559"
  },
  {
    "text": "but turns out that's not that hard uh we wrote Our Own testing framework um in in",
    "start": "2792559",
    "end": "2797760"
  },
  {
    "text": "like 11 lines of of C pre-processor include macros you can go see them in",
    "start": "2797760",
    "end": "2803520"
  },
  {
    "text": "the in the GitHub repository uh and we made it this easy to write tests right so it's very junit like",
    "start": "2803520",
    "end": "2809480"
  },
  {
    "text": "instructure um um where you know essentially we Define little programs",
    "start": "2809480",
    "end": "2815480"
  },
  {
    "text": "that are the test cases uh and the tester can can do whatever they want in those test cases uh and and we're done",
    "start": "2815480",
    "end": "2823520"
  },
  {
    "text": "really reallyy simple and that's how we have uh many many many many test cases and those um those turned out to be",
    "start": "2823520",
    "end": "2832480"
  },
  {
    "text": "um amazingly fruitful when it came to verifying things um because all those",
    "start": "2832480",
    "end": "2837720"
  },
  {
    "text": "test cases could be used in verification software as well um if we go back to this example a",
    "start": "2837720",
    "end": "2845000"
  },
  {
    "text": "little uh you'll see when we're writing and parsing messages didn't mention it the first time but",
    "start": "2845000",
    "end": "2851079"
  },
  {
    "text": "we're not doing that direct pointer manipulation that you saw in op SSL right we're using these stuffer",
    "start": "2851079",
    "end": "2856920"
  },
  {
    "text": "functions instead to write integers uh and that's an example of how we do like",
    "start": "2856920",
    "end": "2862880"
  },
  {
    "text": "systematic defense and depth in s2n right uh we don't want to just rely",
    "start": "2862880",
    "end": "2868680"
  },
  {
    "text": "on programmers not making errors everywhere we want to have um procedures",
    "start": "2868680",
    "end": "2874359"
  },
  {
    "text": "that would defend against many many types of error recurring um so the the kind of first",
    "start": "2874359",
    "end": "2879960"
  },
  {
    "text": "level that we do of that is just really really simple safety stuff so we we turn on basically every C compiler warning",
    "start": "2879960",
    "end": "2886720"
  },
  {
    "text": "you can imagine everything we can find we turn them all on um we uh we do that",
    "start": "2886720",
    "end": "2892599"
  },
  {
    "text": "by default every time we compile so lots and lots of as much paranoia as we can do there uh we have a lot of built-in",
    "start": "2892599",
    "end": "2899119"
  },
  {
    "text": "safety routines that we encourage like liberal use of sprinkle throughout the code base so like we have safe versions",
    "start": "2899119",
    "end": "2906000"
  },
  {
    "text": "of me copy for example checking that returns are what they are uh we have safety routines for checking that things",
    "start": "2906000",
    "end": "2911920"
  },
  {
    "text": "are null and not null these are also really useful when debugging because you can kind of redefine a macro and put a",
    "start": "2911920",
    "end": "2918319"
  },
  {
    "text": "like a print F in there if you want and see where you're triggering an error um",
    "start": "2918319",
    "end": "2924520"
  },
  {
    "text": "and the stuffer is another example of that right so IO is so common in a",
    "start": "2924520",
    "end": "2930520"
  },
  {
    "start": "2925000",
    "end": "2925000"
  },
  {
    "text": "networking library that we decided okay we would build In First Class support for that so instead of doing typic C",
    "start": "2930520",
    "end": "2937680"
  },
  {
    "text": "style like open cell was like just raw buffer manipulation with pointers we're",
    "start": "2937680",
    "end": "2943040"
  },
  {
    "text": "going to um emulate something like Java's bite buffer class where we're going to use streams right we're going",
    "start": "2943040",
    "end": "2949839"
  },
  {
    "text": "to have so that's what a stuffer is stuffer is uh a buffer for stuff or a",
    "start": "2949839",
    "end": "2955079"
  },
  {
    "text": "streaming buffer depending on what way you want to Define it but it's it's just a really simple C structure that has",
    "start": "2955079",
    "end": "2961920"
  },
  {
    "text": "like four pointers a pointer to the start of a memory region the end of a memory region it's got a read cursor and",
    "start": "2961920",
    "end": "2968160"
  },
  {
    "text": "a write cursor so that we can write and read into this buffer in a stream style and it's got some really simple",
    "start": "2968160",
    "end": "2974119"
  },
  {
    "text": "functions to tell you how much space is left how much data is actually in there and then we construct all IO all",
    "start": "2974119",
    "end": "2980520"
  },
  {
    "start": "2980000",
    "end": "2980000"
  },
  {
    "text": "serialization all marshalling and Dem marshing it's just operations on that stuffer so I can read ins into it I can",
    "start": "2980520",
    "end": "2986960"
  },
  {
    "text": "write ins from it it enforces very simple guarantees like well I can't read past the end of a stuffer right so",
    "start": "2986960",
    "end": "2994319"
  },
  {
    "text": "that's like a defense in depth directly against heartbeat heart bed right just couldn't happen stuffer wouldn't let it",
    "start": "2994319",
    "end": "3000240"
  },
  {
    "text": "like we would try to read 64k so let's say say we made that error right let's say we didn't have a check for 64k well",
    "start": "3000240",
    "end": "3007400"
  },
  {
    "text": "we try to read it from the stuffer like well I don't have 64k you can't have it right so now we've got defense in depth",
    "start": "3007400",
    "end": "3013880"
  },
  {
    "text": "which is pretty awesome our stuffer also has routines for like turning things to",
    "start": "3013880",
    "end": "3019160"
  },
  {
    "text": "hex or from hex doing all sorts of useful things um we use it in other",
    "start": "3019160",
    "end": "3025400"
  },
  {
    "text": "projects uh it makes things far far simpler uh D duplicates a lot of our",
    "start": "3025400",
    "end": "3030960"
  },
  {
    "text": "code right really really cool uh you can do uh you can do uh some if you look at",
    "start": "3030960",
    "end": "3039520"
  },
  {
    "text": "this one I've got like a raw read routine into a stuffer which basically lets me say you know I'm going to get",
    "start": "3039520",
    "end": "3046520"
  },
  {
    "text": "TLS finish land amount of bites from the stuffer so make sure it's there you know can't read past the end and then I've",
    "start": "3046520",
    "end": "3053240"
  },
  {
    "text": "got another safety routine and this one actually constant time equals cuz cuz I'm doing uh some checking of that",
    "start": "3053240",
    "end": "3058680"
  },
  {
    "text": "memory whether it is what it should be and we need to do it in a secure way not leak any data um all these all these are",
    "start": "3058680",
    "end": "3065400"
  },
  {
    "text": "examples of what we've built in and if you go look at the S21 Library you'll find you know uh many many more examples",
    "start": "3065400",
    "end": "3070920"
  },
  {
    "text": "but that's the kind of Defense in depth we place so this is how I sleep at night right because if I if I miss the easy to",
    "start": "3070920",
    "end": "3076559"
  },
  {
    "text": "miss detail of oh I I forgot the check about whether it's 64k we have layers of",
    "start": "3076559",
    "end": "3082760"
  },
  {
    "text": "defense that will catch those and then below this again wait we want even more defense in depth",
    "start": "3082760",
    "end": "3089680"
  },
  {
    "start": "3087000",
    "end": "3087000"
  },
  {
    "text": "right so we want to actually try to formally verify that we don't have",
    "start": "3089680",
    "end": "3095520"
  },
  {
    "text": "bugs um so when we before we launched um",
    "start": "3095520",
    "end": "3101000"
  },
  {
    "text": "s2n we had done four like full code audits basically we had we had done two",
    "start": "3101000",
    "end": "3106400"
  },
  {
    "text": "government ones and two commercial ones where we provided them with the entire source code uh and they um basically",
    "start": "3106400",
    "end": "3113920"
  },
  {
    "text": "read through it did their own testing Try to find any defs um uh and uh before",
    "start": "3113920",
    "end": "3121599"
  },
  {
    "text": "we launched they had found four defects uh all of which are documented and included in our in our uh commit history",
    "start": "3121599",
    "end": "3128599"
  },
  {
    "text": "you'll you'll find them if you if you want to find them the most serious of which uh was a small memory leak in an",
    "start": "3128599",
    "end": "3135520"
  },
  {
    "text": "error case so the client could send us malform traffic and we would leak four bytes of memory each time and so if the",
    "start": "3135520",
    "end": "3141839"
  },
  {
    "text": "client did it enough times we'd eventually exhaust memory and give up and that was the most serious vulnerability we found so that was that",
    "start": "3141839",
    "end": "3147559"
  },
  {
    "text": "was encouraging that um that's not too severe but we also started we've done more audits since two more since that's",
    "start": "3147559",
    "end": "3153400"
  },
  {
    "text": "why it's six uh and anything we ever find we always put it in our in our GitHub issue tracker the um but we",
    "start": "3153400",
    "end": "3160839"
  },
  {
    "text": "started doing more formal verification right using mathematical techniques to actually find issues uh we have been",
    "start": "3160839",
    "end": "3166960"
  },
  {
    "text": "working with a company called gawa and another company called traila bits on doing a formal verification um of our",
    "start": "3166960",
    "end": "3175680"
  },
  {
    "text": "hmac code which is just a cryptog cryptographic algorithm we use um we've",
    "start": "3175680",
    "end": "3180880"
  },
  {
    "text": "we've got automated F testing now of everything uh so on every single commit we are now doing both formal",
    "start": "3180880",
    "end": "3186720"
  },
  {
    "text": "verification of our code and F testing of all the code uh and we're working on",
    "start": "3186720",
    "end": "3192079"
  },
  {
    "text": "ident automatically identifying side channels like going Beyond uh what we just want to read them read into them if",
    "start": "3192079",
    "end": "3198760"
  },
  {
    "text": "you're curious about any of these you can go look at them the saw tests that we have in s2n is a really good thing to",
    "start": "3198760",
    "end": "3203960"
  },
  {
    "text": "look at this those are the contributions from gawa that cover how we how we formally prove that our cryptographic",
    "start": "3203960",
    "end": "3210079"
  },
  {
    "text": "implementations are correct um you can look at Byron Cook's talk from earlier",
    "start": "3210079",
    "end": "3215440"
  },
  {
    "text": "this week it'll be on YouTube he goes into much much more detail about what they're doing here he's from the automated reasoning Group which is where",
    "start": "3215440",
    "end": "3221880"
  },
  {
    "text": "I got this cool t-shirt um from all that where are we today um",
    "start": "3221880",
    "end": "3229640"
  },
  {
    "text": "so s2m when we started it you know we're Amazon web services we're very server side focused in general uh we're still",
    "start": "3229640",
    "end": "3236920"
  },
  {
    "text": "very focused on that so S1 is not a general purpose replacement for open SSL includes hardly any client support at",
    "start": "3236920",
    "end": "3243640"
  },
  {
    "text": "all uh we're just beginning on that net because we do have plans to include it in spaces like iot and so on where the",
    "start": "3243640",
    "end": "3250400"
  },
  {
    "text": "client is more relevant uh but up until now we've generally been focused on writing a server of implementation",
    "start": "3250400",
    "end": "3256440"
  },
  {
    "text": "because that's what we know best um it intentionally doesn't have support for a lot of features like it doesn't support",
    "start": "3256440",
    "end": "3262319"
  },
  {
    "text": "the heartbeat extension that's an an intentional security choice a big missing one that does hold hold people",
    "start": "3262319",
    "end": "3268799"
  },
  {
    "text": "back from using us is we don't support client certificate authentication at all um but we're working on that right now",
    "start": "3268799",
    "end": "3274839"
  },
  {
    "text": "uh we were writing code earlier this week um so that's that's coming pretty soon uh we've been turning off support",
    "start": "3274839",
    "end": "3282359"
  },
  {
    "text": "for insecure things so since we launched s2n you know the world decided sslv3 wasn't safe anymore trez isn't safe",
    "start": "3282359",
    "end": "3289520"
  },
  {
    "text": "anymore so doesn't now uh those are now all turned off um we've got uh seven",
    "start": "3289520",
    "end": "3295200"
  },
  {
    "text": "active contributors uh at Amazon and their bus factor is zero which just means like any one of us could could",
    "start": "3295200",
    "end": "3300799"
  },
  {
    "text": "leave or have a terrible accident uh falling in front of a bus and uh the",
    "start": "3300799",
    "end": "3306000"
  },
  {
    "text": "project would be fine uh you know there's there's sufficient leadership there to continue everything's well",
    "start": "3306000",
    "end": "3311119"
  },
  {
    "text": "documented and uh it's all it's all pretty uh all pretty stable uh we've had",
    "start": "3311119",
    "end": "3317280"
  },
  {
    "text": "contributions from 11 non- amazonians so I'd say estn is an example of an open",
    "start": "3317280",
    "end": "3322480"
  },
  {
    "text": "source project that's you know it's it's it's kind of small it's a KNE share area it's never going to be the kind of",
    "start": "3322480",
    "end": "3327680"
  },
  {
    "text": "project that's going to have a lot of external contributions like the amount of people in the world just randomly",
    "start": "3327680",
    "end": "3333119"
  },
  {
    "text": "interested on working on Hardcore crypto in our spare time is not that large um",
    "start": "3333119",
    "end": "3339000"
  },
  {
    "text": "so I think we're doing pretty well there uh we are using it in production it's in front of like ads traffic right now not",
    "start": "3339000",
    "end": "3345920"
  },
  {
    "text": "everything uh and you know an increasing proportion over time but uh it's there",
    "start": "3345920",
    "end": "3351880"
  },
  {
    "text": "without us really focusing on performance improvements yet we think we have significant room for improvement",
    "start": "3351880",
    "end": "3356960"
  },
  {
    "text": "there we've identified some some cool things we think we can do uh we're seeing about a 2 and a half% uh",
    "start": "3356960",
    "end": "3363319"
  },
  {
    "text": "performance Improvement in terms of throughput um over up SSL uh the the",
    "start": "3363319",
    "end": "3369680"
  },
  {
    "text": "main reason that is is we just go through so um so much less code",
    "start": "3369680",
    "end": "3375920"
  },
  {
    "text": "effectively uh you know it to go through um you know a few thousands lines of code instead of going through tens and",
    "start": "3375920",
    "end": "3382319"
  },
  {
    "text": "thousands of lines of code is is where that's where that comes from uh it's uh",
    "start": "3382319",
    "end": "3387680"
  },
  {
    "text": "it's pretty cool I'd say our key takeaways like the things I would most want to sell anybody on uh from the",
    "start": "3387680",
    "end": "3394960"
  },
  {
    "start": "3392000",
    "end": "3392000"
  },
  {
    "text": "project uh that most benefited us and I I would repeat every time uh starting a",
    "start": "3394960",
    "end": "3400520"
  },
  {
    "text": "new project is um you know that act of writing down our goals and our development principles and our code",
    "start": "3400520",
    "end": "3407119"
  },
  {
    "text": "lines our code guidelines has been so beneficial in onboarding new people like",
    "start": "3407119",
    "end": "3412400"
  },
  {
    "text": "we get code contributions from people we've never met or ever even spoke to",
    "start": "3412400",
    "end": "3418000"
  },
  {
    "text": "and they you know they are matching the decisions we would make because we took the time to write those things down",
    "start": "3418000",
    "end": "3425039"
  },
  {
    "text": "which I think is is amazing just a huge productivity boost uh writing readable",
    "start": "3425039",
    "end": "3430680"
  },
  {
    "text": "code like you know even now I think that",
    "start": "3430680",
    "end": "3435799"
  },
  {
    "text": "you know like two years ago when we started the project we focused on readability because I've already",
    "start": "3435799",
    "end": "3440920"
  },
  {
    "text": "forgotten a lot of those internal details um but it's readable enough that I can I can get uh up to speed very",
    "start": "3440920",
    "end": "3447520"
  },
  {
    "text": "quickly again I don't have to um I don't have to spend hours going like what does this do um making the testing habitual I",
    "start": "3447520",
    "end": "3455240"
  },
  {
    "text": "think has probably been our biggest payoff of all especially because that made the formal verification easier we",
    "start": "3455240",
    "end": "3461880"
  },
  {
    "text": "had external contribut contributors come along uh we had a great company called uh trust and soft who were funded",
    "start": "3461880",
    "end": "3467960"
  },
  {
    "text": "through the um core infrastructure initiative come along and verify that SN",
    "start": "3467960",
    "end": "3473799"
  },
  {
    "text": "um had no undefined behaviors in its code base well they actually found a few",
    "start": "3473799",
    "end": "3479440"
  },
  {
    "text": "cases which we fixed and now it has no UND defined um behaviors in the code base and they were able to do that",
    "start": "3479440",
    "end": "3485400"
  },
  {
    "text": "because we had all the tests like they were able to use the test cases as a mechanism to find all those which is",
    "start": "3485400",
    "end": "3491039"
  },
  {
    "text": "pretty awesome so uh i' say that's worth repeating um thank you all for coming uh",
    "start": "3491039",
    "end": "3497920"
  },
  {
    "text": "fill in your uh evaluations if you remember this is nef 405 and uh if you",
    "start": "3497920",
    "end": "3503760"
  },
  {
    "text": "get a chance I definitely recommend about Byron Cook's presentation for me earlier this week if you weren't there",
    "start": "3503760",
    "end": "3508880"
  },
  {
    "text": "in person go watch it on YouTube when it gets up he talks about formal verification at lent it's great and Eric B's talk about encryption uh which will",
    "start": "3508880",
    "end": "3516520"
  },
  {
    "text": "be super interesting to this audience I think thank you all",
    "start": "3516520",
    "end": "3522119"
  }
]