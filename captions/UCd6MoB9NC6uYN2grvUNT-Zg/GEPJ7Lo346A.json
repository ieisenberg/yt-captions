[
  {
    "text": "good morning everyone thank you so much for joining me this morning I'm clear Liguori I'm a senior software engineer",
    "start": "0",
    "end": "6690"
  },
  {
    "text": "on AWS code build and today we're going to talk about continuous integration best practices for software development",
    "start": "6690",
    "end": "13259"
  },
  {
    "text": "teams so I want to introduce you to a little development team and I want you",
    "start": "13259",
    "end": "18570"
  },
  {
    "text": "to think about whether this sounds familiar to you so you come in in the",
    "start": "18570",
    "end": "23789"
  },
  {
    "text": "morning and this is your team chat room it's the Bilt broken I can't even",
    "start": "23789",
    "end": "29820"
  },
  {
    "text": "compile the app yeah me too I guess maybe somebody pushed a bad change sorry everyone that was me I'm",
    "start": "29820",
    "end": "37770"
  },
  {
    "text": "still working on fixing it okay later on that afternoon oh no and",
    "start": "37770",
    "end": "44969"
  },
  {
    "text": "the last deployment to our test stack failed but looks like the latest code causes a bunch of no pointer exceptions",
    "start": "44969",
    "end": "52320"
  },
  {
    "text": "why didn't we catch this in code review is anyone else seeing test failures",
    "start": "52320",
    "end": "58140"
  },
  {
    "text": "locally yeah I think it started happening after I pulled IANS latest changes that's weird",
    "start": "58140",
    "end": "64290"
  },
  {
    "text": "all the tests work I think I'm Ian in this case that's weird all the tests working for me locally before I pushed",
    "start": "64290",
    "end": "70890"
  },
  {
    "text": "the code so today we're gonna talk about continuous integration we're gonna talk",
    "start": "70890",
    "end": "77369"
  },
  {
    "text": "about how to avoid some of these problems that we find in our team chat rooms first I'm gonna start with an",
    "start": "77369",
    "end": "83700"
  },
  {
    "text": "introduction to continuous integration I'm going to talk about some continuous integration tooling on top of AWS I'll",
    "start": "83700",
    "end": "90869"
  },
  {
    "text": "introduce three different techniques for continuous integration I'll define them I'll show you how to implement them on",
    "start": "90869",
    "end": "97170"
  },
  {
    "text": "top of AWS what your team will say in the team chat room about these techniques and then how to level them up",
    "start": "97170",
    "end": "104250"
  },
  {
    "text": "how to boost them and then we'll finish with final thoughts and some questions at the end so let's start with",
    "start": "104250",
    "end": "111000"
  },
  {
    "text": "introduction to continuous integration continuous integration means a lot of different things to different people but",
    "start": "111000",
    "end": "117360"
  },
  {
    "text": "for the purposes of this talk I want to define it this way first developers regularly check in code to their shared",
    "start": "117360",
    "end": "124890"
  },
  {
    "text": "central repository search code repository next automated checks run",
    "start": "124890",
    "end": "130080"
  },
  {
    "text": "regularly against the shared codebase and finally developers get feedback from",
    "start": "130080",
    "end": "136690"
  },
  {
    "text": "the automated checks about their code so this is what I'm going to call the continuous integration wheel and as",
    "start": "136690",
    "end": "143709"
  },
  {
    "text": "you're going through software development you're basically going around and around this wheel with",
    "start": "143709",
    "end": "149799"
  },
  {
    "text": "different velocities right so sometimes you get blocked sometimes you don't widest continues integration matter so I",
    "start": "149799",
    "end": "156940"
  },
  {
    "text": "want to break this up into three different themes first is quality so based on the state of DevOps report from",
    "start": "156940",
    "end": "164140"
  },
  {
    "text": "this year teams the practice continuous integration and agile and DevOps",
    "start": "164140",
    "end": "169799"
  },
  {
    "text": "practices have a five times lower change failure rate they also deliver faster so",
    "start": "169799",
    "end": "180239"
  },
  {
    "text": "440 times faster time from the time that the developer makes a commit to the time",
    "start": "180239",
    "end": "185829"
  },
  {
    "text": "that that change gets deployed they also deliver more often 46 times more",
    "start": "185829",
    "end": "192370"
  },
  {
    "text": "frequent deployments so we're going through months in between deployments to hours in between deployments and finally",
    "start": "192370",
    "end": "201280"
  },
  {
    "text": "continuous integration makes for happy development teams so as a developer this makes me happier 44 percent more time",
    "start": "201280",
    "end": "209319"
  },
  {
    "text": "spent on new features and new code so we're not spending time on blocking the",
    "start": "209319",
    "end": "214419"
  },
  {
    "text": "build reworking code we do it right the first time and then we get to spend time",
    "start": "214419",
    "end": "219519"
  },
  {
    "text": "doing what we love to do which is building so we run blocking developers but we're also growing their skills",
    "start": "219519",
    "end": "225579"
  },
  {
    "text": "faster so with continuous integration you get more feedback more often and",
    "start": "225579",
    "end": "231250"
  },
  {
    "text": "earlier in the process and so you get better faster let's talk about tooling",
    "start": "231250",
    "end": "239319"
  },
  {
    "text": "on top of AWS in order to illustrate the techniques later I'm going to use a",
    "start": "239319",
    "end": "244510"
  },
  {
    "text": "sample application my simple calculator service newly announced here at reinvent",
    "start": "244510",
    "end": "250440"
  },
  {
    "text": "so pretty simple we're gonna have some simple math here this is something that",
    "start": "250440",
    "end": "256930"
  },
  {
    "text": "I wrote and nodejs it's extremely simple please don't judge me on the code",
    "start": "256930",
    "end": "262930"
  },
  {
    "text": "add subtract multiply divide and then I have a few unit tests and we'll come",
    "start": "262930",
    "end": "268150"
  },
  {
    "text": "back to this later for addition and multiplication so I pretty poor code coverage so here are the tools that",
    "start": "268150",
    "end": "275680"
  },
  {
    "text": "we're going to use I'm going to be the developer Dave and Drake from our team chatroom are going to be developers that",
    "start": "275680",
    "end": "282669"
  },
  {
    "text": "we're going to check in code to a combination of code commit and github I want to show you what it looks like on",
    "start": "282669",
    "end": "288069"
  },
  {
    "text": "both of those tools I'm going to use AWS code build for the majority of the",
    "start": "288069",
    "end": "295300"
  },
  {
    "text": "regular checks that we're going to run against the code and then finally I'm",
    "start": "295300",
    "end": "300370"
  },
  {
    "text": "going to use a combination of Amazon CloudWatch events and AWS lambda I want",
    "start": "300370",
    "end": "305800"
  },
  {
    "text": "to take you down to the primitives here the building blocks for CI a lot of the glue here you could do in a CI tool CD",
    "start": "305800",
    "end": "313780"
  },
  {
    "text": "tool like code pipeline but I want to show you how to basically build your build your own CI system and then you",
    "start": "313780",
    "end": "320889"
  },
  {
    "text": "can start to replace that with some of these systems later so AWS code build is a service that",
    "start": "320889",
    "end": "328180"
  },
  {
    "text": "launched last year at BRE invent it's a fully managed build service what that means is that you don't have to worry",
    "start": "328180",
    "end": "334449"
  },
  {
    "text": "about provisioning servers patching servers scaling it's continuously",
    "start": "334449",
    "end": "340180"
  },
  {
    "text": "scaling what that means is that you don't have to worry about how many concurrent builds you want to run how",
    "start": "340180",
    "end": "345909"
  },
  {
    "text": "many builds your team wants to run at the same time it's gonna scale up to the build volume and not queue your builds",
    "start": "345909",
    "end": "352090"
  },
  {
    "text": "up so it's gonna be faster to get builds through the system it's also pay-as-you-go code build will charge you",
    "start": "352090",
    "end": "361120"
  },
  {
    "text": "for the build minutes that you use so there's no monthly fee just however many",
    "start": "361120",
    "end": "366639"
  },
  {
    "text": "build units minutes you use and then it's finally extensible so anything that you can run on your laptop basically you",
    "start": "366639",
    "end": "373900"
  },
  {
    "text": "can run it in code build any command that you would run on the command line on your laptop you can run in code build",
    "start": "373900",
    "end": "380190"
  },
  {
    "text": "there's a few different concepts that we're gonna see a lot here in this talk for code build so the first one is",
    "start": "380190",
    "end": "387069"
  },
  {
    "text": "projects so this is the code builds AWS console with a list of all of my",
    "start": "387069",
    "end": "392770"
  },
  {
    "text": "calculator projects and I'm going to touch on in this there's three components that I want to",
    "start": "392770",
    "end": "398970"
  },
  {
    "text": "talk about for the build project one is the source provider so you can use code",
    "start": "398970",
    "end": "405389"
  },
  {
    "text": "commit github bitbucket or s3 as the source provider so as I said I'm going to use a combination of code commit and",
    "start": "405389",
    "end": "412800"
  },
  {
    "text": "github next is the build specification so I mentioned that code build is",
    "start": "412800",
    "end": "418770"
  },
  {
    "text": "extensible the way that you tell code build what you want it to run what code",
    "start": "418770",
    "end": "424050"
  },
  {
    "text": "to compile what commands you need to compile that code or run your unit test that's going to be in the build",
    "start": "424050",
    "end": "429270"
  },
  {
    "text": "specification and then finally the build environment so the build environment is",
    "start": "429270",
    "end": "434699"
  },
  {
    "text": "simply a docker image that has all of your build tools language tools testing",
    "start": "434699",
    "end": "439710"
  },
  {
    "text": "tools built into it code build has a set of curated vended images that we",
    "start": "439710",
    "end": "447590"
  },
  {
    "text": "maintain so here I'm using the node js4 3 to image but you can also provide your",
    "start": "447590",
    "end": "454260"
  },
  {
    "text": "own custom docker image if you have custom tooling or a custom mix of tooling that you want to use in your",
    "start": "454260",
    "end": "459599"
  },
  {
    "text": "build you can simply build that into a docker image so the code build build",
    "start": "459599",
    "end": "465990"
  },
  {
    "text": "specification build spec for short so as I said this is how you tell code build what to run so at the top or I guess in",
    "start": "465990",
    "end": "473820"
  },
  {
    "text": "the middle we've got the phases section and this is something that you would check in to your source code repository",
    "start": "473820",
    "end": "479460"
  },
  {
    "text": "as a file build spec AML or you can add it directly in the AWS console when",
    "start": "479460",
    "end": "485310"
  },
  {
    "text": "you're playing around with it so for the phases section there's a set of different phases that a code build build",
    "start": "485310",
    "end": "491250"
  },
  {
    "text": "is going to go through here I'm using the install and build phases there's also pre build and post build as well",
    "start": "491250",
    "end": "498599"
  },
  {
    "text": "and you can specify a list of commands for any of them so here I'm doing npm",
    "start": "498599",
    "end": "505349"
  },
  {
    "text": "install so i'm installing all of my dependencies for my simple calculator service and then i'm gonna do NPM test",
    "start": "505349",
    "end": "511590"
  },
  {
    "text": "so I'm gonna run my unit tests and make sure they pass code well that's gonna give me a success or failure for each of",
    "start": "511590",
    "end": "517800"
  },
  {
    "text": "these phases as well as the time that it took so you can start to break down your build if it's a super long build you can",
    "start": "517800",
    "end": "524520"
  },
  {
    "text": "say how long did this part of the take versus that part of the build you can also look at what part of the build",
    "start": "524520",
    "end": "531420"
  },
  {
    "text": "actually failed with this command versus that command finally at the bottom",
    "start": "531420",
    "end": "536999"
  },
  {
    "text": "you'll see the artifact section so this is where you specify what do I want code build to upload to s3 for me so here I'm",
    "start": "536999",
    "end": "544379"
  },
  {
    "text": "zipping up everything code builds gonna zip up everything for me and then put it in s3 you can specify any other set of",
    "start": "544379",
    "end": "552089"
  },
  {
    "text": "files that you want there's a specific jar file for your Java or here I'm",
    "start": "552089",
    "end": "557369"
  },
  {
    "text": "including all the JavaScript files and my node modules that's going to get uploaded so finally we got through the",
    "start": "557369",
    "end": "566459"
  },
  {
    "text": "build project and the build spec and then there's a actual build so this is the build history that I'm looking at in",
    "start": "566459",
    "end": "572610"
  },
  {
    "text": "the code build console and when we drill into one of those builds we can see some",
    "start": "572610",
    "end": "578490"
  },
  {
    "text": "of the build details so here I'm seeing that I've ran this build against code commit my code commits repository it did",
    "start": "578490",
    "end": "586829"
  },
  {
    "text": "succeed it was pretty fast build 40 seconds you you'll also see the phase",
    "start": "586829",
    "end": "593069"
  },
  {
    "text": "details you see the full list of phases that the code build build went through as well as how long they took and",
    "start": "593069",
    "end": "599370"
  },
  {
    "text": "whether they would succeeded or failed and finally if I scroll down more there's the build logs so the build logs",
    "start": "599370",
    "end": "606420"
  },
  {
    "text": "for code build are going to be streamed into cloud watch logs but they'll also be shown directly here in the code build",
    "start": "606420",
    "end": "612929"
  },
  {
    "text": "console so I can go in and see that my pour code coverage those did actually",
    "start": "612929",
    "end": "618420"
  },
  {
    "text": "pass so as I said before code build launched last year at reinvent we've",
    "start": "618420",
    "end": "625980"
  },
  {
    "text": "been pretty busy this year so I want to share a couple of the things that are new this year we added bitbucket support",
    "start": "625980",
    "end": "632519"
  },
  {
    "text": "so you can now build from your bitbucket repositories you can now directly",
    "start": "632519",
    "end": "637589"
  },
  {
    "text": "connect code build to github pull requests so that can be part of your pull request workflow and you can get",
    "start": "637589",
    "end": "644339"
  },
  {
    "text": "notified about your builds and hook that up to other workflows via claw watch events so we're gonna see that later you",
    "start": "644339",
    "end": "649920"
  },
  {
    "text": "can store secrets in Amazon parameter store so parameter store will encrypt",
    "start": "649920",
    "end": "656040"
  },
  {
    "text": "usernames and passwords with KMS key and and code bold will bring that down",
    "start": "656040",
    "end": "661860"
  },
  {
    "text": "decrypt it and set it as an environment variable so it's pretty useful for things like testing against databases",
    "start": "661860",
    "end": "668530"
  },
  {
    "text": "things like that and finally you can audit your project configuration with ADA BIOS config making sure that people",
    "start": "668530",
    "end": "674650"
  },
  {
    "text": "are using the right KMS keys the right s3 buckets things like that and finally",
    "start": "674650",
    "end": "681220"
  },
  {
    "text": "we have three new features this month this was last Monday so we're gonna see",
    "start": "681220",
    "end": "688150"
  },
  {
    "text": "all three of these things in this talk first is that builds are now able to access your B PC resources so if you",
    "start": "688150",
    "end": "694780"
  },
  {
    "text": "have ElastiCache RDS instances anything like that in your B PC you can now run",
    "start": "694780",
    "end": "700510"
  },
  {
    "text": "build integration tests against those and you can cache your libraries like",
    "start": "700510",
    "end": "706660"
  },
  {
    "text": "your node modules or your maven jars in Amazon s3 to speed up your build and",
    "start": "706660",
    "end": "712920"
  },
  {
    "text": "finally we now support build badges so in your repo and the readme you can show",
    "start": "712920",
    "end": "718240"
  },
  {
    "text": "whether your build is currently succeeding or passing succeeding or passing succeeding or failing so let's",
    "start": "718240",
    "end": "726820"
  },
  {
    "text": "jump into the three techniques that we're going to go through for continuous",
    "start": "726820",
    "end": "732010"
  },
  {
    "text": "integration and for each of these we'll have a definition how to implement it on top of the tools that I talked about",
    "start": "732010",
    "end": "738370"
  },
  {
    "text": "what your team will say and how to level it up so I talked about the continuous",
    "start": "738370",
    "end": "745150"
  },
  {
    "text": "integration wheel and essentially as we're developing for continuously going through this wheel with some kind of",
    "start": "745150",
    "end": "752620"
  },
  {
    "text": "velocity with some kind of speed around this wheel so I'm going to talk about the three different techniques in terms",
    "start": "752620",
    "end": "758110"
  },
  {
    "text": "of transportation as I was thinking about coming to reinvent and I'm trying",
    "start": "758110",
    "end": "763420"
  },
  {
    "text": "to book the fastest flight of course I thought this was a pretty good metaphor for continuous integration the",
    "start": "763420",
    "end": "770290"
  },
  {
    "text": "destination here is production rate we want to deliver to our customers we want to get our code out there and so the",
    "start": "770290",
    "end": "777670"
  },
  {
    "text": "three techniques really have different velocities around that continuous integration wheel so we're going to talk",
    "start": "777670",
    "end": "783340"
  },
  {
    "text": "about nightly checks branch checks and then finally pull request checks",
    "start": "783340",
    "end": "789750"
  },
  {
    "text": "so let's see what a team looks like without any continuous integration we",
    "start": "790120",
    "end": "795740"
  },
  {
    "text": "have our release deadline coming up soon are we gonna make it I don't know when's the last time we did a full build",
    "start": "795740",
    "end": "802570"
  },
  {
    "text": "probably when we did the last release three months ago hmm not great so let's first talk about",
    "start": "802570",
    "end": "809750"
  },
  {
    "text": "nightly checks so definition here run a full build and unit tests every night to",
    "start": "809750",
    "end": "816890"
  },
  {
    "text": "make sure these applications still compiles and the tests still pass pretty easy this used to be the standard in the",
    "start": "816890",
    "end": "823400"
  },
  {
    "text": "industry right so it's not super continuous but it does happen regularly okay so let's look at how we would",
    "start": "823400",
    "end": "829550"
  },
  {
    "text": "implement this as a starting point for your team so first on top of AWS we're",
    "start": "829550",
    "end": "835430"
  },
  {
    "text": "gonna use call watch events and clout which events you can define a scheduled cron expression or fixed rate every day",
    "start": "835430",
    "end": "842720"
  },
  {
    "text": "and that's gonna trigger a lambda function which is going to start our build let's take a look at this so this",
    "start": "842720",
    "end": "851630"
  },
  {
    "text": "is looking at the claw watch event console and the schedule i'm using is every day at 8:00 a.m. UTC so every day",
    "start": "851630",
    "end": "860720"
  },
  {
    "text": "at 1:00 a.m. here it's gonna run a build and that's gonna trigger my lambda",
    "start": "860720",
    "end": "866390"
  },
  {
    "text": "function so the lambda function simply starts a code build build with a specific specific project and a specific",
    "start": "866390",
    "end": "874220"
  },
  {
    "text": "build spec that's stirred in my could commit repository so this is an example",
    "start": "874220",
    "end": "880610"
  },
  {
    "text": "of a build that's been triggered at 1:00 a.m. in the morning and now it's",
    "start": "880610",
    "end": "886310"
  },
  {
    "text": "in progress and that build failed so let's look at what happened here we can",
    "start": "886310",
    "end": "894530"
  },
  {
    "text": "see that all of the phases succeeded except the build phase the build phase failed and now I can scroll down to the",
    "start": "894530",
    "end": "902180"
  },
  {
    "text": "logs that were streamed in the claw watch logs and I can see that one of my unit tests failed so it looks like the",
    "start": "902180",
    "end": "910180"
  },
  {
    "text": "one of the subtraction test failed so at",
    "start": "910180",
    "end": "915230"
  },
  {
    "text": "this point all I know is that something failed and I may not even",
    "start": "915230",
    "end": "922550"
  },
  {
    "text": "notice okay so one of the things that we need to do is figure out how to speed this up problem here is that I pushed in",
    "start": "922550",
    "end": "930589"
  },
  {
    "text": "my change and now my team is blocked now they can't compile anything they can't",
    "start": "930589",
    "end": "936320"
  },
  {
    "text": "test anything the unit test suite is going to fail right so we need to figure",
    "start": "936320",
    "end": "942019"
  },
  {
    "text": "out how to speed this process up currently the time frame that we're",
    "start": "942019",
    "end": "947660"
  },
  {
    "text": "looking at is if I push it at 5 p.m. broken change I'm gonna come in maybe",
    "start": "947660",
    "end": "953690"
  },
  {
    "text": "the next morning at 9 maybe 10 for my team and and the building's gonna be",
    "start": "953690",
    "end": "960620"
  },
  {
    "text": "broken so someone pulls down the latest changes they can't can't run anything so",
    "start": "960620",
    "end": "966860"
  },
  {
    "text": "let's figure out what this is good for so the two things two speed boosts that I want to talk about is one what is what",
    "start": "966860",
    "end": "975260"
  },
  {
    "text": "is nightly checks good for right and so we're gonna get to some better techniques here but this is actually",
    "start": "975260",
    "end": "981260"
  },
  {
    "text": "really good for certain keep-keep things that your team does so",
    "start": "981260",
    "end": "986269"
  },
  {
    "text": "we're gonna talk about automating code base maintenance with nightly checks and the second is email notifications so",
    "start": "986269",
    "end": "992690"
  },
  {
    "text": "notifications are super important here the problem is if I push my change at 5 p.m. come in the next morning did I",
    "start": "992690",
    "end": "999920"
  },
  {
    "text": "actually check that the nightly build failed no and so I don't know until",
    "start": "999920",
    "end": "1006250"
  },
  {
    "text": "maybe my team pulls down the latest changes and they start complaining to me in the chat room so email notifications",
    "start": "1006250",
    "end": "1014050"
  },
  {
    "text": "we're gonna start out with that in order to give a hint to people that they need to go fix their broken stuff right let's",
    "start": "1014050",
    "end": "1021490"
  },
  {
    "text": "talk about code base maintenance when was the last time we upgraded our",
    "start": "1021490",
    "end": "1027668"
  },
  {
    "text": "version of Express I don't know I'm",
    "start": "1027669",
    "end": "1033150"
  },
  {
    "text": "guessing maybe it could be never not good so internally in Amazon we",
    "start": "1033150",
    "end": "1040120"
  },
  {
    "text": "recommend that teams upgrade all of their libraries to the latest patch version every week and the problem is",
    "start": "1040120",
    "end": "1048308"
  },
  {
    "text": "that no one does this oh so here's here's the problem",
    "start": "1048309",
    "end": "1054190"
  },
  {
    "text": "here's why developers hate doing this right so here I'm showing the two dependencies that I have for my simple",
    "start": "1054190",
    "end": "1060670"
  },
  {
    "text": "simple calculator service numeral formats my numbers Express is my web",
    "start": "1060670",
    "end": "1069160"
  },
  {
    "text": "server right pretty simple this is all of the libraries that I'm actually",
    "start": "1069160",
    "end": "1075370"
  },
  {
    "text": "depending on I am NOT as a developer are gonna go in every week and upgrade these",
    "start": "1075370",
    "end": "1080530"
  },
  {
    "text": "No thank you right no thank you so we want to automate this process because we want",
    "start": "1080530",
    "end": "1086380"
  },
  {
    "text": "the code base to be up to date but we also want developers to spend time on new features and new code so let's look",
    "start": "1086380",
    "end": "1094420"
  },
  {
    "text": "at how we automate this process again we're going to be using cloud watch",
    "start": "1094420",
    "end": "1099880"
  },
  {
    "text": "event schedule we're gonna do it instead of nightly we'll do it on a weekly basis sounds good that's going to trigger the",
    "start": "1099880",
    "end": "1106360"
  },
  {
    "text": "lambda function which will trigger code build that's going to upgrade everything from my NPM registry pull in all the",
    "start": "1106360",
    "end": "1113560"
  },
  {
    "text": "latest patch versions of my libraries and then push that into code commit so",
    "start": "1113560",
    "end": "1119470"
  },
  {
    "text": "I'm going to regenerate in NPM it's called a shrink wrap file I'm gonna regenerate that with the latest versions",
    "start": "1119470",
    "end": "1126030"
  },
  {
    "text": "Python and Ruby each have this like a jump file lock and Ruby so we'll push",
    "start": "1126030",
    "end": "1131560"
  },
  {
    "text": "that in and it's completely now hands-off for developers so this is the",
    "start": "1131560",
    "end": "1138940"
  },
  {
    "text": "build specs that I'm using to do this in code build you can use several different",
    "start": "1138940",
    "end": "1144010"
  },
  {
    "text": "build specs so you're gonna have a build spec for each intention or tasks that you want to do on that code base so one",
    "start": "1144010",
    "end": "1150580"
  },
  {
    "text": "is the one I showed before NPM install an NPM test to run the unit test this is",
    "start": "1150580",
    "end": "1156790"
  },
  {
    "text": "what's going to upgrade automatically my libraries so at a high level I'm upgrading everything regenerating the",
    "start": "1156790",
    "end": "1163900"
  },
  {
    "text": "shrink-wrap file and then pushing it into code could commit and if this fails",
    "start": "1163900",
    "end": "1169590"
  },
  {
    "text": "hopefully I'll get a notification that there's some kind of conflict the unit tests no longer passed with an upgraded",
    "start": "1169590",
    "end": "1175960"
  },
  {
    "text": "version and that's the point at which somebody can come in and do manual changes so it's much more high-value work for the",
    "start": "1175960",
    "end": "1183110"
  },
  {
    "text": "developers on the team so here is I'm doing a nightly shrink-wrap here to",
    "start": "1183110",
    "end": "1189830"
  },
  {
    "text": "upgrade the dependencies this is the claw watch events console and then we'll also trigger the lambda function from",
    "start": "1189830",
    "end": "1196520"
  },
  {
    "text": "that so this is an example of the build that jigs succeed upgrading my dependencies and then here is the commit",
    "start": "1196520",
    "end": "1205490"
  },
  {
    "text": "that might shrink rapper bot pushed into the code commit repository so every day",
    "start": "1205490",
    "end": "1210679"
  },
  {
    "text": "if there's something new in the NPM registry for the Express library or anything that it depends on out of those",
    "start": "1210679",
    "end": "1217850"
  },
  {
    "text": "hundreds of libraries this will get pushed into the repository so let's talk",
    "start": "1217850",
    "end": "1224090"
  },
  {
    "text": "about email notifications so as I said before the problem with nightly checks",
    "start": "1224090",
    "end": "1229190"
  },
  {
    "text": "is that we get blocked you could push it at 5:00 p.m. come in the next day and",
    "start": "1229190",
    "end": "1234440"
  },
  {
    "text": "then maybe you'll try again push another change that maybe passes maybe fails but",
    "start": "1234440",
    "end": "1240559"
  },
  {
    "text": "someone has to notice that that happens in order to go and make a fix okay let's talk about how to do email notifications",
    "start": "1240559",
    "end": "1247700"
  },
  {
    "text": "I can't compile anything this morning it looks like last night's build failed",
    "start": "1247700",
    "end": "1254480"
  },
  {
    "text": "oh well actually it looks like it's been failing for a full week no one noticed",
    "start": "1254480",
    "end": "1262990"
  },
  {
    "text": "what are you guys doing if you're not for a week anyway",
    "start": "1262990",
    "end": "1268429"
  },
  {
    "text": "so let's look at email notification so from a build I mentioned before that",
    "start": "1268429",
    "end": "1273770"
  },
  {
    "text": "code build will notify you via claw watch events so we're going to take advantage of that here and hook that up to email notifications with Amazon",
    "start": "1273770",
    "end": "1280940"
  },
  {
    "text": "simple email service SES so code bolts going to notify emit a claw watch event",
    "start": "1280940",
    "end": "1286190"
  },
  {
    "text": "that's going to have a lambda function attached to it which will send out an email to our team email address so here",
    "start": "1286190",
    "end": "1296960"
  },
  {
    "text": "this is the claw watch events console again what we're looking at is I'm specifically have an event pattern",
    "start": "1296960",
    "end": "1303470"
  },
  {
    "text": "that's going to match some of the JSON code build is emitting and I'm only going to get email for",
    "start": "1303470",
    "end": "1309950"
  },
  {
    "text": "failed and timed out builds so I don't really care about successes those are good that's going to trigger the lambda",
    "start": "1309950",
    "end": "1316490"
  },
  {
    "text": "function and then this is a sample email that that's gonna send out so this is",
    "start": "1316490",
    "end": "1322430"
  },
  {
    "text": "what the lambda function puts together for me it's gonna pull down the so it's",
    "start": "1322430",
    "end": "1327890"
  },
  {
    "text": "gonna know about the build failure status but it's also going to pull down the logs from college logs so right away",
    "start": "1327890",
    "end": "1333350"
  },
  {
    "text": "in my inbox in the morning if it's not completely full I'm gonna see that my",
    "start": "1333350",
    "end": "1338600"
  },
  {
    "text": "unit test failed and I need to go fix that I got the email that last night's",
    "start": "1338600",
    "end": "1346010"
  },
  {
    "text": "build failed yeah me too I guess someone pushed a bad change sorry everyone yeah that was me I",
    "start": "1346010",
    "end": "1353330"
  },
  {
    "text": "was still working on fixing it Dave so this is the process is working as well",
    "start": "1353330",
    "end": "1360320"
  },
  {
    "text": "as it can right so at least we are the feedback loop is fast enough that when",
    "start": "1360320",
    "end": "1365360"
  },
  {
    "text": "we come in in the morning or as soon as that build fails at night we're gonna get the email and hopefully Dave will go",
    "start": "1365360",
    "end": "1371570"
  },
  {
    "text": "fix it so what do we learn about nightly checks so we implemented it we're gonna",
    "start": "1371570",
    "end": "1378650"
  },
  {
    "text": "run a build every night at midnight or 1 a.m. or fixed rate of one day and claw watch events but the feedback loop is",
    "start": "1378650",
    "end": "1385730"
  },
  {
    "text": "super long here right so 5:00 p.m. to 9:00 a.m. 16 hours",
    "start": "1385730",
    "end": "1392030"
  },
  {
    "text": "potentially 24 if no one's paying attention and then we start to get into",
    "start": "1392030",
    "end": "1397520"
  },
  {
    "text": "the cycle where someone pushed a broken change they wait until the nightly build runs then they push a supposed that",
    "start": "1397520",
    "end": "1406880"
  },
  {
    "text": "doesn't work wait until the next day so we have this nasty cycle where the keep",
    "start": "1406880",
    "end": "1412190"
  },
  {
    "text": "the builds keep failing and then no one really trusts the nightly build right what's the team impact here the team",
    "start": "1412190",
    "end": "1419690"
  },
  {
    "text": "impact is that broken code can block the team for entire days so at that point",
    "start": "1419690",
    "end": "1425150"
  },
  {
    "text": "you go off and have foams word fights right and your team is not working on",
    "start": "1425150",
    "end": "1431600"
  },
  {
    "text": "new code and new features but we did talk about two speed boosts one really",
    "start": "1431600",
    "end": "1438320"
  },
  {
    "text": "great use of night builds or weekly builds is to automate some of that code base maintenance that",
    "start": "1438320",
    "end": "1444130"
  },
  {
    "text": "developers of course don't want to do and then doing email notifications so",
    "start": "1444130",
    "end": "1449320"
  },
  {
    "text": "let's look at how we can get a little bit better and go faster around that wheel so the next one is branch level",
    "start": "1449320",
    "end": "1455980"
  },
  {
    "text": "checks so definition run a full build and unit tests every time someone pushes",
    "start": "1455980",
    "end": "1463150"
  },
  {
    "text": "a new change to a branch in the source code repo okay I in code commit this is",
    "start": "1463150",
    "end": "1469030"
  },
  {
    "text": "how it's going to work team members push into the code commit repository could commit also omits Clow",
    "start": "1469030",
    "end": "1475840"
  },
  {
    "text": "watch events like code build does so in this case we're going to trigger a build off of any push into a branch on code",
    "start": "1475840",
    "end": "1483160"
  },
  {
    "text": "commit so back to the claw which events rule pattern again here I'm specifically",
    "start": "1483160",
    "end": "1490510"
  },
  {
    "text": "filtering it down to matching some JSON in the code commit event so this is",
    "start": "1490510",
    "end": "1497140"
  },
  {
    "text": "going to specifically build only on the master branch so that's the only thing I care about so as an example I've added",
    "start": "1497140",
    "end": "1504550"
  },
  {
    "text": "some subtraction tests because I have super bad code coverage unfortunately",
    "start": "1504550",
    "end": "1509860"
  },
  {
    "text": "those did not work so at this point unit tests are failing the build has failed",
    "start": "1509860",
    "end": "1516180"
  },
  {
    "text": "so quickly before the team notices hopefully I push a fix and then the",
    "start": "1516180",
    "end": "1523030"
  },
  {
    "text": "build does succeed so every time auda matically I push into this repo a new",
    "start": "1523030",
    "end": "1528550"
  },
  {
    "text": "build occurs so how do we do this on github as I said before this year we",
    "start": "1528550",
    "end": "1535720"
  },
  {
    "text": "released github pull request support for code built so when someone pushes into",
    "start": "1535720",
    "end": "1542140"
  },
  {
    "text": "github a web hook is going to be triggered in code build and then code build is going to report the status back",
    "start": "1542140",
    "end": "1548350"
  },
  {
    "text": "to github so this is what it looks like on the code build project and there's a",
    "start": "1548350",
    "end": "1553810"
  },
  {
    "text": "selection that you can make to enable web hooks and then on the github side",
    "start": "1553810",
    "end": "1559720"
  },
  {
    "text": "you'll see in your web hooks section the URL that that targets could build and",
    "start": "1559720",
    "end": "1565450"
  },
  {
    "text": "then for this I'm just doing the push event from github time someone pushes into the repository will do it built so same scenario here I",
    "start": "1565450",
    "end": "1574580"
  },
  {
    "text": "have a broken add subtraction test change and what you'll see is the little",
    "start": "1574580",
    "end": "1579649"
  },
  {
    "text": "red X there that tells my team that the build did fail and then quickly before",
    "start": "1579649",
    "end": "1588470"
  },
  {
    "text": "my team notices that it's broken I get the green checkmark because I pushed the fix dude you broke the build I did I",
    "start": "1588470",
    "end": "1602149"
  },
  {
    "text": "pushed my change hours ago though either the CI bill just finished or we didn't",
    "start": "1602149",
    "end": "1607340"
  },
  {
    "text": "notice the failure hmmm so what can we do about this so we have the same",
    "start": "1607340",
    "end": "1613369"
  },
  {
    "text": "problem here for nightly builds here with branch level builds is the problem is someone's got a notice someone has to",
    "start": "1613369",
    "end": "1620659"
  },
  {
    "text": "notice the tiny little red X that shows up on the github website or that the build failed for the code commits",
    "start": "1620659",
    "end": "1626599"
  },
  {
    "text": "repository so we're going to talk about slack notifications we're going to talk about build badges both of those can",
    "start": "1626599",
    "end": "1632989"
  },
  {
    "text": "raise the awareness that the master branch is broken and then we'll talk about caching so one of the problems",
    "start": "1632989",
    "end": "1640129"
  },
  {
    "text": "with bridge level builds is you get immediate feedback after you push but",
    "start": "1640129",
    "end": "1645409"
  },
  {
    "text": "it's not really so immediate if it's gonna take an hour for you to build then it's gonna be an hour before you know",
    "start": "1645409",
    "end": "1651320"
  },
  {
    "text": "that it's broken so we're going to talk about caching as a way to speed up that cycle and have faster builds so let's",
    "start": "1651320",
    "end": "1658340"
  },
  {
    "text": "talk about slack notifications here we want the chat room to notify us",
    "start": "1658340",
    "end": "1664519"
  },
  {
    "text": "immediately as a bit of a more a faster way a more relevant way than email",
    "start": "1664519",
    "end": "1671389"
  },
  {
    "text": "notifications to notify us during the day so code build is going to notify at",
    "start": "1671389",
    "end": "1676789"
  },
  {
    "text": "clutch events and that is going to have a lambda function that posts to a slack channel so let's take a look at this one",
    "start": "1676789",
    "end": "1684200"
  },
  {
    "text": "so this looks very similar to the email notifications pattern so we're only matching on failed and timed out builds",
    "start": "1684200",
    "end": "1691570"
  },
  {
    "text": "and then here is my flat channel for reinvent and so you can see here we have",
    "start": "1691570",
    "end": "1698929"
  },
  {
    "text": "two notifications here for the code commit change where I pushed a add subtraction test change and",
    "start": "1698929",
    "end": "1706830"
  },
  {
    "text": "that failed and then the github one where I push the same change broken",
    "start": "1706830",
    "end": "1712410"
  },
  {
    "text": "subtraction test let's talk about build badges so build badges can help if we're",
    "start": "1712410",
    "end": "1720150"
  },
  {
    "text": "checking out the github repository or if you have a lot of different repositories where you kind of want a dashboard view",
    "start": "1720150",
    "end": "1727470"
  },
  {
    "text": "of what's the status of all of my code across all of my repositories in the",
    "start": "1727470",
    "end": "1733950"
  },
  {
    "text": "code build console here for the project you can enable this for your project with the build badge checkbox so this is",
    "start": "1733950",
    "end": "1741930"
  },
  {
    "text": "my could commit repository for the node calculator service so if I scroll down",
    "start": "1741930",
    "end": "1747570"
  },
  {
    "text": "now I can see in the readme the passing or failing build build badge so here I",
    "start": "1747570",
    "end": "1756450"
  },
  {
    "text": "can take a collection of this is just markdown so you can take a collection of your build badges from across your",
    "start": "1756450",
    "end": "1763350"
  },
  {
    "text": "projects and create a dashboard for your for your team to kind of check out throughout the day of whether your",
    "start": "1763350",
    "end": "1769380"
  },
  {
    "text": "builds are passing or failing so that can help a little bit to raise the awareness of the status of the build",
    "start": "1769380",
    "end": "1775640"
  },
  {
    "text": "let's talk about caching we saw earlier how many dependencies I have I have",
    "start": "1775640",
    "end": "1782550"
  },
  {
    "text": "hundreds of dependencies for the simplest little service and that can take a lot of time to go back and forth",
    "start": "1782550",
    "end": "1788760"
  },
  {
    "text": "to the NPM registry to fetch all of those tiny little node modules and the",
    "start": "1788760",
    "end": "1795150"
  },
  {
    "text": "same thing is true for Java or Ruby it can just take a really long time to download these every time fresh so in",
    "start": "1795150",
    "end": "1801870"
  },
  {
    "text": "code build the environment is fresh every time so you don't have the the nice caching that you have on your",
    "start": "1801870",
    "end": "1807660"
  },
  {
    "text": "laptop naturally in code build because it's a fresh environment every time so",
    "start": "1807660",
    "end": "1814800"
  },
  {
    "text": "this is my huge list of dependencies let's look at how we can implement this on code build so code build is going to",
    "start": "1814800",
    "end": "1822750"
  },
  {
    "text": "normally will install everything from your NPM registry but instead what we",
    "start": "1822750",
    "end": "1828990"
  },
  {
    "text": "can do is actually update sort of zip all of those up and put them in us this is what could build is going to do",
    "start": "1828990",
    "end": "1835000"
  },
  {
    "text": "for you with caching so it's going to zip everything up compress it put it in s3 at the beginning of the build it'll",
    "start": "1835000",
    "end": "1842110"
  },
  {
    "text": "download it from s3 and then any updates you can get from NPM at that point and",
    "start": "1842110",
    "end": "1848260"
  },
  {
    "text": "hopefully if the cache keeps up then you won't have that many changes to make so",
    "start": "1848260",
    "end": "1855730"
  },
  {
    "text": "this is an example of what I've added to my build spec for caching it's a simple cache section of the build spec and here",
    "start": "1855730",
    "end": "1864400"
  },
  {
    "text": "I'm just going to zip up everything that's in node modules so code build is going to do that for me with just these",
    "start": "1864400",
    "end": "1869710"
  },
  {
    "text": "few lines in the builds back and then there's some configuration to make in",
    "start": "1869710",
    "end": "1875680"
  },
  {
    "text": "the project so there's I have an s3 bucket where the the cache needs to go",
    "start": "1875680",
    "end": "1880780"
  },
  {
    "text": "and I can specify the bucket and then I can also specify a prefix for it so that's going to go into my account and",
    "start": "1880780",
    "end": "1886150"
  },
  {
    "text": "that's going to be encrypted with my KMS key so here previously my build is",
    "start": "1886150",
    "end": "1893500"
  },
  {
    "text": "pretty fast I don't have that many dependencies compared to the complex projects but it did bring my build my",
    "start": "1893500",
    "end": "1900130"
  },
  {
    "text": "install phase down by 30 seconds so from 34 to 4 is a huge percentage so that's",
    "start": "1900130",
    "end": "1906940"
  },
  {
    "text": "really helped me and my team to figure out get past all of this installing dependencies and get to the important",
    "start": "1906940",
    "end": "1913870"
  },
  {
    "text": "stuff which is the unit test is anyone else seeing test failures locally yeah",
    "start": "1913870",
    "end": "1921250"
  },
  {
    "text": "and the master branch bill just failed to that's weird all the tests worked for me locally before I pushed the code",
    "start": "1921250",
    "end": "1928410"
  },
  {
    "text": "classic excuse so what did we learn about branch check summaries what did we",
    "start": "1928410",
    "end": "1935320"
  },
  {
    "text": "learn about branch checks and so to implement run a build every time new code is pushed to a branch the feedback",
    "start": "1935320",
    "end": "1942370"
  },
  {
    "text": "loop here is the time that it takes to build the code at a minimum and it can be extended by not having good",
    "start": "1942370",
    "end": "1948580"
  },
  {
    "text": "notifications to let you know that that did fail the team impact here is much",
    "start": "1948580",
    "end": "1953830"
  },
  {
    "text": "shorter than nightly checks rape but the broken code still blocks the team it's still on the master branch where I am",
    "start": "1953830",
    "end": "1960280"
  },
  {
    "text": "also trying to implement changes and run locally we talked about a couple of",
    "start": "1960280",
    "end": "1965619"
  },
  {
    "text": "speed booths so slack notifications build badges and caching can really help to speed up that feedback loop and make",
    "start": "1965619",
    "end": "1973629"
  },
  {
    "text": "sure that your team keeps moving forward so let's talk about the final technique",
    "start": "1973629",
    "end": "1979840"
  },
  {
    "text": "pull request checks definition run a full build and unit tests every time",
    "start": "1979840",
    "end": "1986109"
  },
  {
    "text": "someone creates a pull request to get code reviewed by the team let's look at",
    "start": "1986109",
    "end": "1991509"
  },
  {
    "text": "how to implement this on AWS code commit recently last week I think release pull",
    "start": "1991509",
    "end": "1998019"
  },
  {
    "text": "requests and so you can check that out and the could commit console and I'll show you how it works here but at a high",
    "start": "1998019",
    "end": "2003840"
  },
  {
    "text": "level in order to add builds to your pull request you will the team is going",
    "start": "2003840",
    "end": "2008850"
  },
  {
    "text": "to propose a code commit pull request that will notify Clow watch events and then that's going to start a build and",
    "start": "2008850",
    "end": "2015269"
  },
  {
    "text": "then the reverse way code build is going to emit a clutch event which will comment on the code commit pull request",
    "start": "2015269",
    "end": "2021509"
  },
  {
    "text": "with the result so let's take a look so here I've created a feature branch for",
    "start": "2021509",
    "end": "2027029"
  },
  {
    "text": "subtraction I'm adding my subtraction test change which we know is broken and",
    "start": "2027029",
    "end": "2032749"
  },
  {
    "text": "I'm going to create a pull request for that so this is could commit pull",
    "start": "2032749",
    "end": "2038909"
  },
  {
    "text": "requests I'm about to create a pull request it's telling me that it is mirja belen to the master branch so I'll give",
    "start": "2038909",
    "end": "2046470"
  },
  {
    "text": "it a title and a description I'm trying very hard to increase the code coverage",
    "start": "2046470",
    "end": "2052770"
  },
  {
    "text": "here and then it'll show me before I create the pull request the diff that",
    "start": "2052770",
    "end": "2059010"
  },
  {
    "text": "I'm about to put up for review so now my pull request is created and but my team",
    "start": "2059010",
    "end": "2065940"
  },
  {
    "text": "doesn't have really great confidence that this is actually a good change right so let's help the team get",
    "start": "2065940",
    "end": "2071010"
  },
  {
    "text": "confidence all the other reviewers and the pull request is created and then my",
    "start": "2071010",
    "end": "2077790"
  },
  {
    "text": "CI automation pull request spot which is my lambda function has started a build for me so I have a link into the code",
    "start": "2077790",
    "end": "2085079"
  },
  {
    "text": "code build console to go and check out that build but it will also tell me when the build failed and it will give me",
    "start": "2085079",
    "end": "2091950"
  },
  {
    "text": "that snippet of logs that's super useful because now I can see that my subtraction test failed and this",
    "start": "2091950",
    "end": "2099070"
  },
  {
    "text": "is not only really great for me as the proposer but also great for my team members so my team members can have",
    "start": "2099070",
    "end": "2105460"
  },
  {
    "text": "confidence in Claire is actually proposed a good change that isn't broken",
    "start": "2105460",
    "end": "2110650"
  },
  {
    "text": "but they can also focus on what's important instead of trying to focus on do I think this is going to pass the",
    "start": "2110650",
    "end": "2116980"
  },
  {
    "text": "unit tests they can focus on is this good code is the secure code does this",
    "start": "2116980",
    "end": "2123820"
  },
  {
    "text": "follow our style guidelines is this something that we actually want to add to our code base so and then they also",
    "start": "2123820",
    "end": "2132490"
  },
  {
    "text": "have better productivity because they can basically ignore this pull request now right this is broken forget about it",
    "start": "2132490",
    "end": "2140080"
  },
  {
    "text": "for now Claire will fix it so then I add my fix subtraction test change to the",
    "start": "2140080",
    "end": "2146380"
  },
  {
    "text": "pull request so I push that into this feature branch that's updated this now",
    "start": "2146380",
    "end": "2152260"
  },
  {
    "text": "there's now a new change that fix that test and my pull request bot started a new build and then once that build is",
    "start": "2152260",
    "end": "2159640"
  },
  {
    "text": "finished now it's exceeded and my team can actually review my changes with confidence so at this point the team",
    "start": "2159640",
    "end": "2168310"
  },
  {
    "text": "would come in and see the pull request here and then go and merge my change hopefully let's look at how we do this",
    "start": "2168310",
    "end": "2175240"
  },
  {
    "text": "on github the team member is going to propose it github pull request this again is going to use code builds",
    "start": "2175240",
    "end": "2181270"
  },
  {
    "text": "integration with web hooks so it's going to start a code build build and then code builds going to report that status",
    "start": "2181270",
    "end": "2186640"
  },
  {
    "text": "back again we have the same github webhook that's targeting code build but",
    "start": "2186640",
    "end": "2193720"
  },
  {
    "text": "now what we're seeing is in addition to the push requests where we're doing branch level checks we're going to do",
    "start": "2193720",
    "end": "2198970"
  },
  {
    "text": "the pull request events as well so same scenario here I create a feature branch",
    "start": "2198970",
    "end": "2205180"
  },
  {
    "text": "for my subtraction to us and I created a pull request from that now when I come",
    "start": "2205180",
    "end": "2212950"
  },
  {
    "text": "in it's gonna kick off a bill and that bill did fail so my team can see right",
    "start": "2212950",
    "end": "2218350"
  },
  {
    "text": "in the pull request that the build failed forget about it until Claire fixes it and then I push my fix subtraction test",
    "start": "2218350",
    "end": "2227380"
  },
  {
    "text": "change to that feature branch and now the build is succeeded and so now that my team has confidence and can",
    "start": "2227380",
    "end": "2233530"
  },
  {
    "text": "focus on the right things high-value things in this code review",
    "start": "2233530",
    "end": "2238890"
  },
  {
    "text": "let's talk about how to speed this up a little bit so this is very fast compared",
    "start": "2239130",
    "end": "2245260"
  },
  {
    "text": "to nightly checks and branch level checks right the team is rarely blocked",
    "start": "2245260",
    "end": "2250480"
  },
  {
    "text": "because we hopefully find all the blocks and failures in pull requests during",
    "start": "2250480",
    "end": "2255550"
  },
  {
    "text": "code review but there's a couple of ways that we can get better at this get",
    "start": "2255550",
    "end": "2260620"
  },
  {
    "text": "faster around that wheel one of the things that we heard earlier was testing",
    "start": "2260620",
    "end": "2266800"
  },
  {
    "text": "can break in the test dock so we can actually run integration tests so we want to find find bugs find problems",
    "start": "2266800",
    "end": "2273550"
  },
  {
    "text": "earlier so they don't block the team and the release process and then finally we",
    "start": "2273550",
    "end": "2279040"
  },
  {
    "text": "can do parallel builds so there's two things we can do here one is we can add",
    "start": "2279040",
    "end": "2284610"
  },
  {
    "text": "more and more tests more integration tests static code analysis security",
    "start": "2284610",
    "end": "2290440"
  },
  {
    "text": "analysis and then we can also split up the unit tests so if you have a unit",
    "start": "2290440",
    "end": "2296290"
  },
  {
    "text": "test suite that takes hours probably no one will ran the whole thing locally so",
    "start": "2296290",
    "end": "2301720"
  },
  {
    "text": "it's definitely going to fail and pull requests you can run parallel bullets so split that all up as I said code build",
    "start": "2301720",
    "end": "2308200"
  },
  {
    "text": "is continuously scaling so it's not gonna queue those builds it's gonna run them all in parallel so first let's take",
    "start": "2308200",
    "end": "2314680"
  },
  {
    "text": "a look at integration tests oh no the last deployment to our test stack failed",
    "start": "2314680",
    "end": "2321580"
  },
  {
    "text": "looks like the latest code causes a bunch of null pointer exceptions why don't we catch this in code review let's",
    "start": "2321580",
    "end": "2329710"
  },
  {
    "text": "look at integration tests so for my simple calculator service I added",
    "start": "2329710",
    "end": "2334870"
  },
  {
    "text": "caching I want to speed it up reduce the load on my servers doing all that complex calculations and so I added an",
    "start": "2334870",
    "end": "2341950"
  },
  {
    "text": "elastic cache cluster inside of my V PC that my service can use I mentioned",
    "start": "2341950",
    "end": "2348370"
  },
  {
    "text": "earlier this month we released V PC support for code build so now my build can actually reach into my V PC and",
    "start": "2348370",
    "end": "2355090"
  },
  {
    "text": "contact my ElastiCache cluster so one of the problems that we see here is",
    "start": "2355090",
    "end": "2360320"
  },
  {
    "text": "the difference between working locally and working inside of the CPC inside of your infrastructure so locally I have an",
    "start": "2360320",
    "end": "2367850"
  },
  {
    "text": "elastic cache service running on my laptop and I've run all the integration tests against it and yet it fails when",
    "start": "2367850",
    "end": "2375710"
  },
  {
    "text": "when it's running in code build so an example here would be here's my code",
    "start": "2375710",
    "end": "2380840"
  },
  {
    "text": "commit project for code build my build failed very weird the build phase failed",
    "start": "2380840",
    "end": "2388970"
  },
  {
    "text": "and here we can see it could not connect to the Redis cash so I ran everything",
    "start": "2388970",
    "end": "2396350"
  },
  {
    "text": "locally against you know localhost Redis clash but it failed an integration test",
    "start": "2396350",
    "end": "2401740"
  },
  {
    "text": "so one of the things we can do is start to connect into the V PC so here in the",
    "start": "2401740",
    "end": "2408080"
  },
  {
    "text": "project you'll configure the V PC you want it to connect to the subnets you want it to use and then the security",
    "start": "2408080",
    "end": "2414200"
  },
  {
    "text": "group you want it to use and then down at the bottom you can start to see I've",
    "start": "2414200",
    "end": "2419660"
  },
  {
    "text": "got the Redis host set as an environment variable the build succeeded once I",
    "start": "2419660",
    "end": "2427070"
  },
  {
    "text": "added the V PC and here you can see again the Redis host environment variable that's actually connecting into",
    "start": "2427070",
    "end": "2433160"
  },
  {
    "text": "the ElastiCache cluster in my V PC and then now I can see that the cache the",
    "start": "2433160",
    "end": "2439820"
  },
  {
    "text": "service did actually connect to the Redis cache and now it's actually setting variables in values into my",
    "start": "2439820",
    "end": "2447260"
  },
  {
    "text": "cache so now I can make sure before this ever gets the test stack I can make sure in pull requests in code review that all",
    "start": "2447260",
    "end": "2455180"
  },
  {
    "text": "the integration tests are going to pass once it give into my release process",
    "start": "2455180",
    "end": "2460450"
  },
  {
    "text": "let's talk about parallel builds can someone review my pull request please",
    "start": "2460450",
    "end": "2465910"
  },
  {
    "text": "come back in an hour when the pr build finishes to slow so this is a speed",
    "start": "2465910",
    "end": "2473270"
  },
  {
    "text": "boost right if it takes an hour to build then I'm not being super productive I'm just waiting around all day for my",
    "start": "2473270",
    "end": "2480440"
  },
  {
    "text": "pull request builds to finish and then finally my team will review my changes so here I'm going to show you how it",
    "start": "2480440",
    "end": "2486950"
  },
  {
    "text": "works in github when you propose it github pull requests it's gonna kick off multiple builds let's",
    "start": "2486950",
    "end": "2493349"
  },
  {
    "text": "see what that looks like so I have my add subtraction tests pull requests here",
    "start": "2493349",
    "end": "2498779"
  },
  {
    "text": "that we looked at earlier and normally I would only kick off one pull request we",
    "start": "2498779",
    "end": "2503970"
  },
  {
    "text": "saw one pull request build we saw this earlier why not two or three or four or",
    "start": "2503970",
    "end": "2510089"
  },
  {
    "text": "five so what I'm doing here is I'm actually kicking off different types of",
    "start": "2510089",
    "end": "2515309"
  },
  {
    "text": "tests so one of the things that I said earlier is that you can have multiple build specs in your repository that you",
    "start": "2515309",
    "end": "2521670"
  },
  {
    "text": "use for different tasks that you want build code build to run so here I'm doing some static code analysis against",
    "start": "2521670",
    "end": "2528690"
  },
  {
    "text": "sonar cube instance that's in my V PC I'm doing my normal unit tests and then",
    "start": "2528690",
    "end": "2535319"
  },
  {
    "text": "I'm also doing my integration tests so all three I can see which ones were successful which ones were failing so",
    "start": "2535319",
    "end": "2542430"
  },
  {
    "text": "here my unit tests may have passed but both my code analysis and my integration",
    "start": "2542430",
    "end": "2548309"
  },
  {
    "text": "test failed so this is something that would have one lowered the quality of the code base which we don't want to do",
    "start": "2548309",
    "end": "2554430"
  },
  {
    "text": "and then two would have blocked the team once it got to this test deck again also",
    "start": "2554430",
    "end": "2560309"
  },
  {
    "text": "as I said split up the unit test so here this is an example of two different build specs where I'm splitting up my",
    "start": "2560309",
    "end": "2566609"
  },
  {
    "text": "unit test suite so basically I'm running everything labeled as calculator tests in the first build and then everything",
    "start": "2566609",
    "end": "2572819"
  },
  {
    "text": "else all the rest of my unit tests in the second build so that would split",
    "start": "2572819",
    "end": "2578460"
  },
  {
    "text": "everything in half hopefully what you would end up seeing on the github side is that you would have two different",
    "start": "2578460",
    "end": "2584960"
  },
  {
    "text": "code build projects and then two different web hooks that were targeting code build and then you'll end up seeing",
    "start": "2584960",
    "end": "2591420"
  },
  {
    "text": "the two different checks in your pull request is in continuous integration",
    "start": "2591420",
    "end": "2597119"
  },
  {
    "text": "great man it's so great you know I don't know if can say this but I feel so productive now okay",
    "start": "2597119",
    "end": "2607739"
  },
  {
    "text": "so summary of pull request checks we ran a build while code is still in review",
    "start": "2607739",
    "end": "2612839"
  },
  {
    "text": "the feedback loop is still the time that it takes to build the code so we looked",
    "start": "2612839",
    "end": "2617849"
  },
  {
    "text": "at different ways to speed up that process but the team impact is",
    "start": "2617849",
    "end": "2623750"
  },
  {
    "text": "awesome so broken code doesn't block the team hopefully we prevented it from unit",
    "start": "2623750",
    "end": "2629810"
  },
  {
    "text": "tests from failing for other people integration test failing for other people the release process from getting",
    "start": "2629810",
    "end": "2635480"
  },
  {
    "text": "blocked and then we looked at a couple of speed boosts just to keep us going",
    "start": "2635480",
    "end": "2640610"
  },
  {
    "text": "faster around that wheel and so we looked at integration tests and we looked at parallel builds so final",
    "start": "2640610",
    "end": "2648710"
  },
  {
    "text": "thoughts and then we'll have some time for questions so we looked at these three different",
    "start": "2648710",
    "end": "2653870"
  },
  {
    "text": "techniques nightly checks branch level checks pull request checks and we saw",
    "start": "2653870",
    "end": "2659930"
  },
  {
    "text": "that they each have a different velocity and they each have different speed boosts one of the things that I want to",
    "start": "2659930",
    "end": "2666790"
  },
  {
    "text": "really emphasize is that your continuous integration process is likely a combination of all three of these right",
    "start": "2666790",
    "end": "2674180"
  },
  {
    "text": "so we looked at really great uses for nightly checks automating the code base we looked at branch level checks even if",
    "start": "2674180",
    "end": "2681830"
  },
  {
    "text": "you're using pull request checks branch level checks can be a final final check before it gets into the release process",
    "start": "2681830",
    "end": "2688510"
  },
  {
    "text": "and then finally poor request checks where we're really removing a lot of the blockers for the rest of the team for",
    "start": "2688510",
    "end": "2695540"
  },
  {
    "text": "person who pushed a bad change so if I",
    "start": "2695540",
    "end": "2700790"
  },
  {
    "text": "want to sort of categorize the speedboost categories that we looked at one is automate the boring stuff right",
    "start": "2700790",
    "end": "2707810"
  },
  {
    "text": "that makes for happier developers but it also makes for safer more secure code",
    "start": "2707810",
    "end": "2713000"
  },
  {
    "text": "bases and overall more code base maintenance that's being done the second",
    "start": "2713000",
    "end": "2718910"
  },
  {
    "text": "was surfacing failures so your team is going to be blocked and they're going to",
    "start": "2718910",
    "end": "2724340"
  },
  {
    "text": "be less productive and have less time for features and new code if they don't",
    "start": "2724340",
    "end": "2729620"
  },
  {
    "text": "know about if they know about failures and so we looked at email slack build badges this is a place where you can get",
    "start": "2729620",
    "end": "2736190"
  },
  {
    "text": "creative with lambda functions so you can write glue for yourself or whatever",
    "start": "2736190",
    "end": "2741470"
  },
  {
    "text": "makes sense for your team however you want to be notified about failures number three is to check faster right so",
    "start": "2741470",
    "end": "2749270"
  },
  {
    "text": "if I don't know that my build is broken for hours and hours then it's going to",
    "start": "2749270",
    "end": "2754910"
  },
  {
    "text": "be a while before I get back to fixing that change so we looked at caching and we looked at parallel builds and then",
    "start": "2754910",
    "end": "2761930"
  },
  {
    "text": "finally check more check more stuff check much deeper into your codebase so",
    "start": "2761930",
    "end": "2768110"
  },
  {
    "text": "we looked at integration tests but this is another place where you can get really creative whatever works for you",
    "start": "2768110",
    "end": "2773780"
  },
  {
    "text": "so for my team we wanted to do static analysis with sonar cube and as well as",
    "start": "2773780",
    "end": "2779810"
  },
  {
    "text": "integration tests against a Redis cache but this is really where it needs to make sense for your applications",
    "start": "2779810",
    "end": "2785630"
  },
  {
    "text": "specifically so for for my change it was I needed to test against the caching",
    "start": "2785630",
    "end": "2790850"
  },
  {
    "text": "infrastructure but there may be other infrastructure that you want to test against to integration test against or",
    "start": "2790850",
    "end": "2796480"
  },
  {
    "text": "bring in different tools so specifically I use sonar cube you may use Coverity or",
    "start": "2796480",
    "end": "2802370"
  },
  {
    "text": "some other tool that you have adding all of those into the pull requests will",
    "start": "2802370",
    "end": "2808190"
  },
  {
    "text": "help you to catch all of those things earlier and faster so again coming back",
    "start": "2808190",
    "end": "2815270"
  },
  {
    "text": "to the continuous integration wheel all of these techniques help us to go faster",
    "start": "2815270",
    "end": "2821720"
  },
  {
    "text": "and faster around this wheel and to get happier and happier developers so anywhere that you start is you know just",
    "start": "2821720",
    "end": "2829670"
  },
  {
    "text": "pick a starting place figure out what your velocity is around the wheel how often your team is getting blocked how",
    "start": "2829670",
    "end": "2835850"
  },
  {
    "text": "often bad changes are getting into the release process and blocking other changes from getting to production and",
    "start": "2835850",
    "end": "2842300"
  },
  {
    "text": "then start to make tweaks to that right so this is a very personalized process a personalized workflow for your specific",
    "start": "2842300",
    "end": "2848900"
  },
  {
    "text": "team and your specific application so start somewhere and then start to",
    "start": "2848900",
    "end": "2854180"
  },
  {
    "text": "iterate across this wheel so we have about 10 minutes for questions",
    "start": "2854180",
    "end": "2861170"
  },
  {
    "text": "I want to give a quick shout out to a chalk talk that's going on tomorrow dev 343 where we're going to talk more about",
    "start": "2861170",
    "end": "2867410"
  },
  {
    "text": "continuous integration and specifically focusing on pull requests and work pull requests workflows",
    "start": "2867410",
    "end": "2874780"
  }
]