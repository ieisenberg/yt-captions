[
  {
    "start": "0",
    "end": "40000"
  },
  {
    "text": "good afternoon everyone um my name is Lester no no I'm solution architect for Everest base in London working for",
    "start": "179",
    "end": "7560"
  },
  {
    "text": "travel and retail customers like Expedia or River Island which I'm pleased to be",
    "start": "7560",
    "end": "13110"
  },
  {
    "text": "joined by Charlie Wilkinson head of our picture at rear items today's session is",
    "start": "13110",
    "end": "19320"
  },
  {
    "text": "building highly scalable retail order management systems with Cerberus that's",
    "start": "19320",
    "end": "25320"
  },
  {
    "text": "a lot of words so you probably heard a lot of servers will just want a lot of how it's interesting and important for",
    "start": "25320",
    "end": "32660"
  },
  {
    "text": "customers to run that and how they can build their retail order management",
    "start": "32660",
    "end": "38579"
  },
  {
    "text": "systems so I would first start with",
    "start": "38579",
    "end": "44160"
  },
  {
    "start": "40000",
    "end": "40000"
  },
  {
    "text": "going through several estimate auctions on to set the scenes on the service that",
    "start": "44160",
    "end": "49739"
  },
  {
    "text": "we were unused and typical use cases that we see at us and then Charlie we",
    "start": "49739",
    "end": "55320"
  },
  {
    "text": "dive deep more on the challenges of their current architecture and why why did they move to to service architecture",
    "start": "55320",
    "end": "63149"
  },
  {
    "text": "and more even based architecture and we'll try to find at least five minutes",
    "start": "63149",
    "end": "68820"
  },
  {
    "text": "for Q&A or after the session can have a description of course status so you",
    "start": "68820",
    "end": "77159"
  },
  {
    "text": "probably have a lot this term T's this morning because we see a tremendous",
    "start": "77159",
    "end": "83400"
  },
  {
    "text": "interest in this in this in the industry and but what does it mean for us at us",
    "start": "83400",
    "end": "89939"
  },
  {
    "text": "what this means goes in four characteristics first means no service",
    "start": "89939",
    "end": "95840"
  },
  {
    "start": "94000",
    "end": "94000"
  },
  {
    "text": "okay you get it but no service means that you don't have anything to deal at",
    "start": "95840",
    "end": "103259"
  },
  {
    "text": "the operational systems evolve you don't have to SSH in your box anymore you don't have to patch you don't have to",
    "start": "103259",
    "end": "109020"
  },
  {
    "text": "upgrade just take care of your business services second characteristic it scales",
    "start": "109020",
    "end": "116219"
  },
  {
    "text": "with usage so when request comes in no matter you have one request per minutes",
    "start": "116219",
    "end": "123299"
  },
  {
    "text": "or tens of thousands of cats per seconds every S will take care that this service will adapt",
    "start": "123299",
    "end": "130300"
  },
  {
    "text": "to handle the workload we do the auto scanning for you you just use the",
    "start": "130300",
    "end": "136090"
  },
  {
    "text": "service the third characteristics goes along with the other neighbor playful idle you",
    "start": "136090",
    "end": "142450"
  },
  {
    "text": "probably have been used to do capacity planning enterprise applications build your servers to handle the peak workload",
    "start": "142450",
    "end": "151720"
  },
  {
    "text": "your night patch your prime day your",
    "start": "151720",
    "end": "157330"
  },
  {
    "text": "Black Friday and so you end up using about 20% of your servers you most of",
    "start": "157330",
    "end": "163390"
  },
  {
    "text": "the time and this 8th sense of a new capacity is just sitting there idle just",
    "start": "163390",
    "end": "168880"
  },
  {
    "text": "not bringing any value for your business which is completely different with",
    "start": "168880",
    "end": "174100"
  },
  {
    "text": "servers because you just pay for what you use if you have a large night batch",
    "start": "174100",
    "end": "179530"
  },
  {
    "text": "if you have large promotion day we just handle that and the force",
    "start": "179530",
    "end": "184840"
  },
  {
    "text": "characteristics is spitting variability and for trends so we have this concept",
    "start": "184840",
    "end": "190480"
  },
  {
    "text": "at areas called regions one region is composed of multiple abilities zones and",
    "start": "190480",
    "end": "195700"
  },
  {
    "text": "when you build a service on address you have to build it Milty easy you have to",
    "start": "195700",
    "end": "200769"
  },
  {
    "text": "make sure that your service is available and will cheer babies on to handle this hi h a high ability for trends in",
    "start": "200769",
    "end": "209769"
  },
  {
    "text": "service it's fully managed you we handle that for you let's start to dive leap in",
    "start": "209769",
    "end": "218590"
  },
  {
    "start": "215000",
    "end": "215000"
  },
  {
    "text": "a bit more in a few services that River Island used to build their auto",
    "start": "218590",
    "end": "225519"
  },
  {
    "text": "management system so the first one is a compute service called Everest lambda you can run code in OGS Python Java C",
    "start": "225519",
    "end": "233950"
  },
  {
    "text": "shops and now go the important point here is that it's even based compute",
    "start": "233950",
    "end": "242590"
  },
  {
    "text": "which means that the compute is triggered only when you have an event an",
    "start": "242590",
    "end": "247870"
  },
  {
    "text": "event can be a technical event something is off is down is up something happened",
    "start": "247870",
    "end": "254200"
  },
  {
    "text": "but it can also be a business event and you can think of having your stream",
    "start": "254200",
    "end": "260209"
  },
  {
    "text": "of events so in the river island case it would be older coming through the changing changes in",
    "start": "260209",
    "end": "267440"
  },
  {
    "text": "one order can trigger this new code and this code can be anything and you can",
    "start": "267440",
    "end": "274490"
  },
  {
    "text": "connect to the rest services to an extra more API or even your on-premise",
    "start": "274490",
    "end": "280270"
  },
  {
    "text": "application if you have the right network connection but again the most",
    "start": "280270",
    "end": "287780"
  },
  {
    "text": "important part is that it's an even based architecture so that's good but",
    "start": "287780",
    "end": "294169"
  },
  {
    "text": "customers have asked us how to be in more complex architecture to the most",
    "start": "294169",
    "end": "299780"
  },
  {
    "text": "complex application using a responder and that's how we came up with step",
    "start": "299780",
    "end": "305090"
  },
  {
    "text": "functions that is service that enables you to orchestrate your application with",
    "start": "305090",
    "end": "314030"
  },
  {
    "start": "307000",
    "end": "307000"
  },
  {
    "text": "the weight events with conditions with business or technical conditions and you",
    "start": "314030",
    "end": "319940"
  },
  {
    "text": "can see on the left how it looks in the in the console one important point here",
    "start": "319940",
    "end": "325639"
  },
  {
    "text": "is that it handles gracefully the errors technical or business errors can be",
    "start": "325639",
    "end": "332740"
  },
  {
    "text": "managed by step functions pushing the errors to adela to queue or something",
    "start": "332740",
    "end": "338510"
  },
  {
    "text": "else if it's technical error you can retry or build and so you can be more",
    "start": "338510",
    "end": "344180"
  },
  {
    "text": "comfortable complex business workflow using step functions and the last",
    "start": "344180",
    "end": "351889"
  },
  {
    "text": "service I wanted to touch point on and that was heavily used by women and its DynamoDB it's no sequel database in the",
    "start": "351889",
    "end": "360740"
  },
  {
    "start": "352000",
    "end": "352000"
  },
  {
    "text": "cloud fully managed what do we mean by fuuny manage database in the cloud it",
    "start": "360740",
    "end": "367669"
  },
  {
    "text": "means that when you want to create a new table you just select the region the",
    "start": "367669",
    "end": "373639"
  },
  {
    "text": "table name the throughput that you want on this table the number of requests per",
    "start": "373639",
    "end": "379370"
  },
  {
    "text": "seconds and do you nm allows us to auto scale this request per second and that's",
    "start": "379370",
    "end": "386599"
  },
  {
    "text": "it and you have a database who'll email Jessie flexible secure and auto-scale based on",
    "start": "386599",
    "end": "396390"
  },
  {
    "text": "requests to finish I wanted to touch",
    "start": "396390",
    "end": "402990"
  },
  {
    "start": "399000",
    "end": "399000"
  },
  {
    "text": "upon your few use cases that we see at address for my customers using surveys",
    "start": "402990",
    "end": "409160"
  },
  {
    "text": "the first one is quite straightforward you can host the website host an",
    "start": "409160",
    "end": "414360"
  },
  {
    "text": "e-commerce website from a static website on s3 to more complex application",
    "start": "414360",
    "end": "420270"
  },
  {
    "text": "extracts Express second use case is data",
    "start": "420270",
    "end": "425310"
  },
  {
    "text": "processing this one is very interesting because again use you can think of your",
    "start": "425310",
    "end": "431400"
  },
  {
    "text": "data pipeline very differently you used to have like a back Knight batch running",
    "start": "431400",
    "end": "437430"
  },
  {
    "text": "the whole data in one ETL and then dumping down that elsewhere and now you",
    "start": "437430",
    "end": "443220"
  },
  {
    "text": "can think of this as events and every piece of information coming from streams",
    "start": "443220",
    "end": "449940"
  },
  {
    "text": "coming from an event to new order new click streams can be processing pretty much real-time with even more heavily",
    "start": "449940",
    "end": "457800"
  },
  {
    "text": "batch next third use case is a IML alexa",
    "start": "457800",
    "end": "464450"
  },
  {
    "text": "so for example when you ask a question to imagine a excites usually a restaurant that function triggered and",
    "start": "464450",
    "end": "471230"
  },
  {
    "text": "it powered a lot of chat bots with metal legs and the last dress important use",
    "start": "471230",
    "end": "480060"
  },
  {
    "text": "case is back-end systems which is running all the backends of your",
    "start": "480060",
    "end": "486180"
  },
  {
    "text": "services in a very decoupled very even based mechanism and that's exactly what",
    "start": "486180",
    "end": "494400"
  },
  {
    "text": "River Island has done building the older management systems on servers fully",
    "start": "494400",
    "end": "500610"
  },
  {
    "text": "managed and I let Charlie explain a bit more how they used our services to beat",
    "start": "500610",
    "end": "509190"
  },
  {
    "text": "this automation thank you thank you cool hi guys I'm",
    "start": "509190",
    "end": "516539"
  },
  {
    "text": "charlie I'm the head of architecture at River Island the first thing I'd like to say River Islands perhaps not an",
    "start": "516539",
    "end": "523078"
  },
  {
    "text": "organization you might typically immediately associate with ultra cool new tech so I'm hoping to dispel that",
    "start": "523079",
    "end": "528720"
  },
  {
    "text": "that myth a little bit for you guys really what I want to do is talk to talk",
    "start": "528720",
    "end": "533850"
  },
  {
    "text": "a little bit about as a business we've recognized that we need to undergo a massive digital transformation we've",
    "start": "533850",
    "end": "540870"
  },
  {
    "text": "also realized that you know adopting and embracing digital isn't just a case of",
    "start": "540870",
    "end": "546060"
  },
  {
    "text": "having the most shiny widgets on your website it's actually it's a real",
    "start": "546060",
    "end": "551399"
  },
  {
    "text": "grassroots exercise we're looking very very closely at the way that we offer our business fundamentally operates the",
    "start": "551399",
    "end": "558180"
  },
  {
    "text": "really really core processes that we that we have as a business and how we bring those into the new digital age and",
    "start": "558180",
    "end": "565470"
  },
  {
    "text": "really that's today one are we talking a little bit about the first step on that journey for River Island so first a",
    "start": "565470",
    "end": "574829"
  },
  {
    "start": "573000",
    "end": "573000"
  },
  {
    "text": "little bit of a history lesson so really this is a case of explaining where we've",
    "start": "574829",
    "end": "579990"
  },
  {
    "text": "come from so like many organizations and many retailers out there we've we've",
    "start": "579990",
    "end": "585029"
  },
  {
    "text": "come from a you know a heritage of big old Oracle estate fairly common pattern",
    "start": "585029",
    "end": "591199"
  },
  {
    "text": "and that has many drawbacks that or",
    "start": "591199",
    "end": "597589"
  },
  {
    "text": "features that are perhaps less than desirable that many of you guys are familiar with we're going to focus in on",
    "start": "597589",
    "end": "603060"
  },
  {
    "text": "the way that we process web orders so it's fairly familiar flow I'm sure to",
    "start": "603060",
    "end": "608670"
  },
  {
    "text": "most of you guys our website produces web orders and at the moment or",
    "start": "608670",
    "end": "615000"
  },
  {
    "text": "historically we were consuming those in batches so we get like a group of 100 or a thousand or however many orders have",
    "start": "615000",
    "end": "621029"
  },
  {
    "text": "been placed in the last X minutes since we ran the scheduled job to go and fetch them we sloped those up and we stuffed",
    "start": "621029",
    "end": "627660"
  },
  {
    "text": "them into our core merchandising system into into Oracle or DBMS and and that's",
    "start": "627660",
    "end": "633480"
  },
  {
    "text": "really become a hub which designed as a centralized hub for all the key business",
    "start": "633480",
    "end": "638730"
  },
  {
    "text": "operations that were occurring throughout the business fairly standard",
    "start": "638730",
    "end": "643910"
  },
  {
    "text": "pattern historically as well from there those new orders again in batch process",
    "start": "643910",
    "end": "649850"
  },
  {
    "text": "they would get stuffed into our warehouse management system and equally",
    "start": "649850",
    "end": "654860"
  },
  {
    "text": "into our LMS automation system which is where we do the packing and dispatching",
    "start": "654860",
    "end": "661240"
  },
  {
    "text": "again push through in batches on a scheduled job once we've you know",
    "start": "661240",
    "end": "669110"
  },
  {
    "text": "executed all about picking in the warehouse we've you know run run a pick wave we'll get those pick results again in a",
    "start": "669110",
    "end": "675319"
  },
  {
    "text": "big batch and actually route them to the order management system so that they can then be dispatched you'll note that it",
    "start": "675319",
    "end": "681709"
  },
  {
    "text": "flows through that core merchandising system again just following that hub-and-spoke model that we that we had",
    "start": "681709",
    "end": "688069"
  },
  {
    "text": "adopted in the past our order management system used to then execute the payment",
    "start": "688069",
    "end": "695720"
  },
  {
    "text": "capture which was we needed to do that because we only capture payment once",
    "start": "695720",
    "end": "701930"
  },
  {
    "text": "we've actually shipped the goods again fairly standard pattern so then we've got a load of dispatch results again big",
    "start": "701930",
    "end": "708709"
  },
  {
    "text": "batch of them every X minutes we run a cycle job and and consume those up through the cool merchandising system",
    "start": "708709",
    "end": "715189"
  },
  {
    "text": "again at that hub-and-spoke model and ultimately push those dispatch events up",
    "start": "715189",
    "end": "720800"
  },
  {
    "text": "to back to the website so that we can notify consumers and say hey your orders",
    "start": "720800",
    "end": "726050"
  },
  {
    "text": "on its way fairly standard worth noting is that all the stuff that are",
    "start": "726050",
    "end": "731660"
  },
  {
    "text": "highlighted in red is actually happening through DB links it's it's all PL sequel",
    "start": "731660",
    "end": "736670"
  },
  {
    "text": "hidden away inside the databases it's not actually files flowing around which",
    "start": "736670",
    "end": "742100"
  },
  {
    "text": "makes it that much harder to get at that information and then over the top of",
    "start": "742100",
    "end": "747170"
  },
  {
    "text": "this we have to have this sort of overarching Orchestrator system that basically executes all these weird batch",
    "start": "747170",
    "end": "753649"
  },
  {
    "text": "jobs and and it's a really really sort of what's the word I'm looking for sort of beautifully oiled Swiss watch of",
    "start": "753649",
    "end": "761860"
  },
  {
    "text": "components I can see a few of my colleagues laughing about to actually order organize all of these",
    "start": "761860",
    "end": "768290"
  },
  {
    "text": "complicated batch routines that are running it's it's executing shell scripts is doing all sorts of gubbins so",
    "start": "768290",
    "end": "775010"
  },
  {
    "text": "this is probably familiar to many of you what are the disadvantages though well",
    "start": "775010",
    "end": "780200"
  },
  {
    "text": "the most obvious one is that we've got a whole load of really exciting business events pic events dispatch events all",
    "start": "780200",
    "end": "788060"
  },
  {
    "text": "sorts of stuff going on in here that we can't get at it's all tucked away in these these Oracle databases and",
    "start": "788060",
    "end": "794540"
  },
  {
    "text": "in these these database links and PL sequel routines then just not available",
    "start": "794540",
    "end": "800140"
  },
  {
    "text": "excuse me another issue is adding adding",
    "start": "800230",
    "end": "805910"
  },
  {
    "text": "new features you know doing something new with those business events is really really difficult and highly a risk you",
    "start": "805910",
    "end": "811910"
  },
  {
    "text": "know you touch one system here you go to the full regression test of the whole estate which is very very expensive and",
    "start": "811910",
    "end": "818480"
  },
  {
    "text": "very time-consuming and as such you know big projects are generally avoided or or",
    "start": "818480",
    "end": "823790"
  },
  {
    "text": "too expensive to to consider we've also got a lot of single points of failure here in fact almost any one of these",
    "start": "823790",
    "end": "830600"
  },
  {
    "text": "three Oracle databases that they're down you're screwed you can't do anything equally in the orchestrator dice same",
    "start": "830600",
    "end": "837650"
  },
  {
    "text": "same story you've got a whole load of people stood in the warehouse twiddling their thumbs we're nothing to do and obviously that always happens on Black",
    "start": "837650",
    "end": "845000"
  },
  {
    "text": "Friday if it's going to happen you know source law so you know it has it has its",
    "start": "845000",
    "end": "852590"
  },
  {
    "text": "flaws what I would say is that you know we do respect it it's you know runs a",
    "start": "852590",
    "end": "857690"
  },
  {
    "text": "billion pound business it's not to be you know snapped at but it certainly has",
    "start": "857690",
    "end": "862700"
  },
  {
    "text": "room for improvement so we're calling out also batch processing everything in",
    "start": "862700",
    "end": "872030"
  },
  {
    "start": "866000",
    "end": "866000"
  },
  {
    "text": "our heritage estate is you know primarily is driven by batch processes now I hate batch processes it's a",
    "start": "872030",
    "end": "879410"
  },
  {
    "text": "bugbear of mine and there are several reasons for that firstly you've got peaky CPU usage right you're only really",
    "start": "879410",
    "end": "885830"
  },
  {
    "text": "your databases are sat there doing nothing most of the time until you schedules run and then everyone's",
    "start": "885830",
    "end": "890900"
  },
  {
    "text": "familiar with the mid night schedule that you know makes the the server's going mad so that's pain you're paying",
    "start": "890900",
    "end": "897800"
  },
  {
    "text": "from servers that you know using most of the time Bastian alluded to earlier one dodgy input breaks the",
    "start": "897800",
    "end": "905410"
  },
  {
    "text": "batch this is this is a common problem it's really really difficult to defensively code around batch processes",
    "start": "905410",
    "end": "913149"
  },
  {
    "text": "and generally speaking the you get that unexpected character or whatever it is weird promotion that the marketing team",
    "start": "913149",
    "end": "919270"
  },
  {
    "text": "decides to put on and suddenly your batch is broken but not only that usually that that dead bat will block",
    "start": "919270",
    "end": "926649"
  },
  {
    "text": "all the other ones behind it as well because you shed you'll is interrupted it's you know waving its arms I don't know what to do about this and the whole",
    "start": "926649",
    "end": "933490"
  },
  {
    "text": "thing stuck and again you know one broken step in that chain that we had up",
    "start": "933490",
    "end": "938890"
  },
  {
    "text": "earlier and the whole whole house of cards falls apart as well so not ideal and then on top of that your date is not",
    "start": "938890",
    "end": "946420"
  },
  {
    "text": "really that timely yes you know you can run your cycle jobs every 15 minutes or so but but you know when you've got like",
    "start": "946420",
    "end": "952270"
  },
  {
    "text": "15 jobs in a row you know that compound time is potentially quite long as well for your data to actually be updated and",
    "start": "952270",
    "end": "959290"
  },
  {
    "text": "reflected so it's not exactly very fast either so let's talk a little bit about",
    "start": "959290",
    "end": "965410"
  },
  {
    "text": "the architectural principles that we've come to to think of when we were looking",
    "start": "965410",
    "end": "970990"
  },
  {
    "text": "to address this and and and you know might make a better solution ultimately",
    "start": "970990",
    "end": "976990"
  },
  {
    "start": "976000",
    "end": "976000"
  },
  {
    "text": "we came up with these two guiding objectives firstly we really really want",
    "start": "976990",
    "end": "983500"
  },
  {
    "text": "to surface our business events all those business events are tucked away in our and our estate those things need to be available I want",
    "start": "983500",
    "end": "990160"
  },
  {
    "text": "to be able to do something new and interesting with each one of those those business events and with ease I don't",
    "start": "990160",
    "end": "995890"
  },
  {
    "text": "want to have to go an unpaid massive PL sequel routine to actually do something new with with a new event that's",
    "start": "995890",
    "end": "1001980"
  },
  {
    "text": "occurring our business the other one was I really want easy and timely access to",
    "start": "1001980",
    "end": "1008640"
  },
  {
    "text": "master data if we've got a new idea internally somebody's got a new idea or we meet some new third party who's got",
    "start": "1008640",
    "end": "1014670"
  },
  {
    "text": "this you know new starter because it's ultra cool piece of tech we want to use and they need you know or they need a",
    "start": "1014670",
    "end": "1019740"
  },
  {
    "text": "product catalog feed or they need you know order history what are the barrier to entry that to that should be well",
    "start": "1019740",
    "end": "1026370"
  },
  {
    "text": "here's an API key go fill your boots that's really the objective and the reason for that is",
    "start": "1026370",
    "end": "1032459"
  },
  {
    "text": "these two these two objectives they combined they really drive business",
    "start": "1032460",
    "end": "1038370"
  },
  {
    "text": "agility and that's the ultimate goal we want to be able to add new features new experiences for our consumers really",
    "start": "1038370",
    "end": "1044069"
  },
  {
    "text": "really really easily at the moment that's just not the case so pulling that down into some actual",
    "start": "1044070",
    "end": "1051060"
  },
  {
    "start": "1049000",
    "end": "1049000"
  },
  {
    "text": "architectural principles what does that mean so breaking down the existing",
    "start": "1051060",
    "end": "1058190"
  },
  {
    "text": "monolith is is important decoupling our core systems kind of the same thing",
    "start": "1058190",
    "end": "1063780"
  },
  {
    "text": "really really breaking apart that that heritage estate reduce dependency on",
    "start": "1063780",
    "end": "1068970"
  },
  {
    "text": "batch jobs for all the reasons I articulated we all expose our business events and we want to make our master",
    "start": "1068970",
    "end": "1075240"
  },
  {
    "text": "data much more accessible on top of that we want to drive more and better",
    "start": "1075240",
    "end": "1083130"
  },
  {
    "text": "operational simplicity as well you know the the existing estate as many of you",
    "start": "1083130",
    "end": "1089550"
  },
  {
    "text": "I'm sure will know running a big old Oracle estate is not without its challenges and you've got to be an expert in all of it to be useful on call",
    "start": "1089550",
    "end": "1095940"
  },
  {
    "text": "you know there's it's and as such there are very few people in an organization",
    "start": "1095940",
    "end": "1100950"
  },
  {
    "text": "who have that those expertise and can develop them it takes a long time and so we want to reduce reduce that and make",
    "start": "1100950",
    "end": "1107490"
  },
  {
    "text": "our system much more operationally simple so let's talk a little bit about",
    "start": "1107490",
    "end": "1114450"
  },
  {
    "text": "the solution or what we think is our solution so we call this our order",
    "start": "1114450",
    "end": "1119790"
  },
  {
    "text": "pipeline decoupling and this is where we've adopted AWS and service technologies to to come up with a new",
    "start": "1119790",
    "end": "1127230"
  },
  {
    "text": "way of doing this so the starting point is very familiar",
    "start": "1127230",
    "end": "1132480"
  },
  {
    "start": "1128000",
    "end": "1128000"
  },
  {
    "text": "we've still got those three Oracle systems there they're not going away they run you know important operational",
    "start": "1132480",
    "end": "1139350"
  },
  {
    "text": "services for our business and and and frankly getting rid of them isn't an objective in its own right perhaps one",
    "start": "1139350",
    "end": "1145830"
  },
  {
    "text": "day we will do something different with them but for now that they're sticking around and getting rid of them isn't really an objective so they're still bad",
    "start": "1145830",
    "end": "1153110"
  },
  {
    "text": "but what's different well the first thing is that the website is now it's",
    "start": "1153110",
    "end": "1160860"
  },
  {
    "text": "responsibility starts and ends with publishing web orders as soon as it's got as soon as somebody's completed a",
    "start": "1160860",
    "end": "1167309"
  },
  {
    "text": "checkout it publishes those to this new order event stream in red it's a Kinesis stream and that is all it",
    "start": "1167309",
    "end": "1174720"
  },
  {
    "text": "has to do it doesn't care about anything else it's only job is to publish to that stream from there we have to do an",
    "start": "1174720",
    "end": "1182490"
  },
  {
    "text": "initial bit of validation just some basic checking that the orders not dodgy",
    "start": "1182490",
    "end": "1187799"
  },
  {
    "text": "there's no weirdness going on with it some basic routines so for that we've got this order validation micro service",
    "start": "1187799",
    "end": "1193559"
  },
  {
    "text": "so that's actually been implemented as lambdas orchestrated as a step function",
    "start": "1193559",
    "end": "1199020"
  },
  {
    "text": "I'm going to be talking a little bit about that in more detail in a second it uses the this order reference service",
    "start": "1199020",
    "end": "1206690"
  },
  {
    "text": "which is a synchronous API we've created which just allows it to fetch a few bits of extra extra information like product",
    "start": "1206690",
    "end": "1214649"
  },
  {
    "text": "master data other bits and bobs that it needs to do that validation and ultimately the order validation service",
    "start": "1214649",
    "end": "1221100"
  },
  {
    "text": "its objective is to check that the orders okay and then spit it out onto",
    "start": "1221100",
    "end": "1226980"
  },
  {
    "text": "another event stream this valid orders stream so now I've got two states I've",
    "start": "1226980",
    "end": "1232020"
  },
  {
    "text": "got an event stream of all of the orders that the website is producing and I've got all of the validated orders as well",
    "start": "1232020",
    "end": "1240110"
  },
  {
    "text": "so next step and I want to take those valid orders I'm going to consume them",
    "start": "1240110",
    "end": "1246330"
  },
  {
    "text": "and I need to pump them into our existing Oracle databases and indeed any other services that are interested in",
    "start": "1246330",
    "end": "1252840"
  },
  {
    "text": "the fact that a new valid order has actually been placed so the first thing",
    "start": "1252840",
    "end": "1257850"
  },
  {
    "text": "we actually we've actually done and this is a new feature we've implemented we've got this order shipment Ruta its job",
    "start": "1257850",
    "end": "1264149"
  },
  {
    "text": "again it's a step function and implementation its job is to decide essentially where we're going to fulfill",
    "start": "1264149",
    "end": "1269429"
  },
  {
    "text": "this order from so in a moment got to - well I've got shown on this diagram as",
    "start": "1269429",
    "end": "1276840"
  },
  {
    "text": "to event streams but essentially you have one event stream per fulfillment Avenue essentially so the mast majority",
    "start": "1276840",
    "end": "1284010"
  },
  {
    "text": "of ours at the moment just through the way our business is set up go to our in-house consignments we fulfill them in",
    "start": "1284010",
    "end": "1289799"
  },
  {
    "text": "our own DC in our own anyway so it's just spitting out",
    "start": "1289799",
    "end": "1295619"
  },
  {
    "text": "splitting out those orders potentially even going to split orders into individual consignments or routing the",
    "start": "1295619",
    "end": "1302100"
  },
  {
    "text": "whole order we can implement that logic and we can change that logic crucially if we do change that logic it's only",
    "start": "1302100",
    "end": "1307379"
  },
  {
    "text": "that step function we have to change nothing else gets touched so we've got",
    "start": "1307379",
    "end": "1312570"
  },
  {
    "text": "those consignments we've got those those events in that again in the Kinesis stream and we now have these two so the",
    "start": "1312570",
    "end": "1320070"
  },
  {
    "text": "in house order processor and in house warehouse processor process is perhaps a bit misleading I think there's a more as",
    "start": "1320070",
    "end": "1326429"
  },
  {
    "text": "adapters essentially consuming those events and pumping them into our into",
    "start": "1326429",
    "end": "1331529"
  },
  {
    "text": "our three operational systems in essence",
    "start": "1331529",
    "end": "1337950"
  },
  {
    "text": "the ideally what we will probably do is split out the in-house order processor",
    "start": "1337950",
    "end": "1343289"
  },
  {
    "text": "into two because it would be actually much more resilient to have one per",
    "start": "1343289",
    "end": "1348600"
  },
  {
    "text": "service so that we've just got a bit bit more operational resilience so from",
    "start": "1348600",
    "end": "1356549"
  },
  {
    "text": "there we then got these various systems again are publishing events out of the",
    "start": "1356549",
    "end": "1363179"
  },
  {
    "text": "back of them so go on all these batches you know when the OEMs when we've actually completed a dispatch",
    "start": "1363179",
    "end": "1369470"
  },
  {
    "text": "that's a per order that's an event we've we've dispatched the the order so we",
    "start": "1369470",
    "end": "1375600"
  },
  {
    "text": "publish that event on to an event stream we also handle returns and indeed sort",
    "start": "1375600",
    "end": "1381119"
  },
  {
    "text": "of short ships or failures to dispatch in the same way they're just events business events that have occurred so we",
    "start": "1381119",
    "end": "1387389"
  },
  {
    "text": "publish them into Canisius streams same thing for picking pick results as well",
    "start": "1387389",
    "end": "1392850"
  },
  {
    "text": "the pict consignments the warehouse management system publishes that as an",
    "start": "1392850",
    "end": "1398070"
  },
  {
    "text": "event from there we then want to actually go and capture the payment so",
    "start": "1398070",
    "end": "1404279"
  },
  {
    "text": "again it's the same business process but executed differently we have this order payment step function well that's doing",
    "start": "1404279",
    "end": "1411869"
  },
  {
    "text": "is just listening in to those event streams it's doing a little bit of enrichment again and deduplication just",
    "start": "1411869",
    "end": "1417419"
  },
  {
    "text": "making sure that we haven't already [Music] what's word captured payment for this",
    "start": "1417419",
    "end": "1423530"
  },
  {
    "text": "order and they needed making use of the ri payment service which is a synchronous service running in ECS as",
    "start": "1423530",
    "end": "1430280"
  },
  {
    "text": "docker containers with golang that is",
    "start": "1430280",
    "end": "1436040"
  },
  {
    "text": "essentially that's our broker in front of all of our payment provider payment",
    "start": "1436040",
    "end": "1441530"
  },
  {
    "text": "providers their parties so it exposes a nice friendly API for us to use",
    "start": "1441530",
    "end": "1447800"
  },
  {
    "text": "internally within the business to go and capture payments so the order payment step function",
    "start": "1447800",
    "end": "1452900"
  },
  {
    "text": "it just invokes that and says hey here's an order I need you to go and capture the payment for it and that goes often",
    "start": "1452900",
    "end": "1459230"
  },
  {
    "text": "does that talks to payment service provider job done and out the back of it",
    "start": "1459230",
    "end": "1465710"
  },
  {
    "text": "we get another event stream settled orders again each order we get a",
    "start": "1465710",
    "end": "1471710"
  },
  {
    "text": "corresponding event on that event stream so looks kind of complicated but really",
    "start": "1471710",
    "end": "1477680"
  },
  {
    "text": "it's just a logical step it's a bit kind of crush down to get on a slide what are the one of the advantages though I mean",
    "start": "1477680",
    "end": "1483890"
  },
  {
    "text": "the most obvious one hopefully is that we've got all of these business events are now available you know if I want to",
    "start": "1483890",
    "end": "1490490"
  },
  {
    "text": "do something new do something interesting with new orders or more likely the new validated orders I can go",
    "start": "1490490",
    "end": "1499460"
  },
  {
    "text": "and say right well let's go you know spin up a delivery team we're going to go and do something new and interesting with that and we want to send it off to",
    "start": "1499460",
    "end": "1505670"
  },
  {
    "text": "Idaho an s3 bucket or we want to go and do some do some analysis I can subscribe",
    "start": "1505670",
    "end": "1512000"
  },
  {
    "text": "to that event stream and I can do something new and useful with those order events and I don't have to",
    "start": "1512000",
    "end": "1517160"
  },
  {
    "text": "regression test anything else on this estate and that is a massive massive step forward for us all of that pain has",
    "start": "1517160",
    "end": "1523850"
  },
  {
    "text": "gone away and I can essentially make those events public eye within River I",
    "start": "1523850",
    "end": "1529100"
  },
  {
    "text": "know potentially even externally as well so that's a really really really big advantage the other key differentiator",
    "start": "1529100",
    "end": "1538250"
  },
  {
    "text": "here is that if any one of these you know core systems dies for whatever",
    "start": "1538250",
    "end": "1544070"
  },
  {
    "text": "reason before retail merchandising system dies doesn't matter the OMS and",
    "start": "1544070",
    "end": "1550460"
  },
  {
    "text": "warehouse management system they can continue to consume events or of the event streams they can continue",
    "start": "1550460",
    "end": "1556040"
  },
  {
    "text": "happy as Larry and we don't end up with a DC full of people twiddling their thumbs waiting for you know somebody on",
    "start": "1556040",
    "end": "1561860"
  },
  {
    "text": "some poor bugger on-call getting you know it calls from 15 different people in the business desperate to get the",
    "start": "1561860",
    "end": "1568750"
  },
  {
    "text": "system running again so we're much much more resilient we've haven't added any",
    "start": "1568750",
    "end": "1574970"
  },
  {
    "text": "more service in fact we've taken one away there's no orchestration server in this we haven't I you know we haven't",
    "start": "1574970",
    "end": "1581060"
  },
  {
    "text": "had to provision some database server any of that frankly I'm not interested",
    "start": "1581060",
    "end": "1587870"
  },
  {
    "text": "in running servers I'm interested in selling clothes it makes sense right and",
    "start": "1587870",
    "end": "1593110"
  },
  {
    "text": "as a bonus we've also added business functionality we can now split the",
    "start": "1593110",
    "end": "1598580"
  },
  {
    "text": "orders if you want to and send them to different fulfillment vendors in future if you want to do that and we've also",
    "start": "1598580",
    "end": "1603650"
  },
  {
    "text": "made it much much easier to change the way we handle payments as well because we've got a dedicated payment service",
    "start": "1603650",
    "end": "1609740"
  },
  {
    "text": "that only handles payments and it's not bundled up within this the order management system as it was before so I",
    "start": "1609740",
    "end": "1615650"
  },
  {
    "text": "don't need to go and unpick all of that to make changes which is great",
    "start": "1615650",
    "end": "1620559"
  },
  {
    "start": "1621000",
    "end": "1621000"
  },
  {
    "text": "so let's take a little bit of a deeper dive on one of these micro services so this is this the first service in that",
    "start": "1621730",
    "end": "1628059"
  },
  {
    "text": "chain the order of validation micro service and this is a step function implicit implementation so as you might",
    "start": "1628059",
    "end": "1636269"
  },
  {
    "text": "expect from the previous slide it starts by consuming events off of this new",
    "start": "1636269",
    "end": "1641649"
  },
  {
    "text": "order event stream every single order they gets placed atomically appears as a",
    "start": "1641649",
    "end": "1648970"
  },
  {
    "text": "single event so we can consume that in now the first step is we've got this step function in Bocca this is actually",
    "start": "1648970",
    "end": "1656830"
  },
  {
    "text": "something we don't want to have it's a bit of a workaround so at the moment it's it's not possible to invoke a step",
    "start": "1656830",
    "end": "1663580"
  },
  {
    "text": "function directly from a Kinesis stream especially a feature request that I'm sure bastions going to help me get",
    "start": "1663580",
    "end": "1668679"
  },
  {
    "text": "sorted out yeah putting on the spot so we had to work around that a little bit",
    "start": "1668679",
    "end": "1674200"
  },
  {
    "text": "so we subscribed this step function in Bocca it listens to the event stream and",
    "start": "1674200",
    "end": "1680139"
  },
  {
    "text": "it is responsible for triggering the step function but more than that it does",
    "start": "1680139",
    "end": "1685240"
  },
  {
    "text": "something else as well because we don't want to mark the the order or the event",
    "start": "1685240",
    "end": "1690850"
  },
  {
    "text": "on the the Canisius stream as consumed and you know dealt with until the step function is completed what this step",
    "start": "1690850",
    "end": "1697960"
  },
  {
    "text": "function invoker has to do is actually poles the state of the step function as a whole and we'll only mark the the item",
    "start": "1697960",
    "end": "1706090"
  },
  {
    "text": "on the event stream is consumed and completed once the step function has successfully completed as well so we",
    "start": "1706090",
    "end": "1713919"
  },
  {
    "text": "have to do that there's there is a dead",
    "start": "1713919",
    "end": "1719740"
  },
  {
    "text": "letter queue as well so in the rare occurrence that some weirdness happens some parsing error or some things we can",
    "start": "1719740",
    "end": "1726279"
  },
  {
    "text": "dump the event into dead letter Q we can put alerts and monitoring on that and",
    "start": "1726279",
    "end": "1731590"
  },
  {
    "text": "respond to that if we need to so we invoked the step function we do a bit of",
    "start": "1731590",
    "end": "1738730"
  },
  {
    "text": "enrichment I mentioned earlier calling out to this order reference service we",
    "start": "1738730",
    "end": "1744039"
  },
  {
    "text": "then move on to the next step which is to actually execute our validation logic it's not really important what that",
    "start": "1744039",
    "end": "1749950"
  },
  {
    "text": "logic is it's just some basic validation routines usual sort of gubbins but",
    "start": "1749950",
    "end": "1755000"
  },
  {
    "text": "ultimately we end up with one of two outcomes either it was yes it's the orders fine or no there was some",
    "start": "1755000",
    "end": "1760610"
  },
  {
    "text": "validation error or or what have you in either case the action is very similar we push that event into a DynamoDB table",
    "start": "1760610",
    "end": "1768940"
  },
  {
    "text": "now why do we do that we we do that primarily for to manage our Ida potency",
    "start": "1768940",
    "end": "1778400"
  },
  {
    "text": "we basically deduplication it there are several user edge cases in here where we",
    "start": "1778400",
    "end": "1785420"
  },
  {
    "text": "might end up processing the same event more than once why accident it's relatively rare but it can happen and so by putting the event into a",
    "start": "1785420",
    "end": "1793280"
  },
  {
    "text": "DynamoDB table we can just check that we haven't already processed that this event there is a fringe benefit as well",
    "start": "1793280",
    "end": "1800120"
  },
  {
    "text": "and that is that with each dynamodb table you get what is essentially a Canisius stream out of the bottom of it",
    "start": "1800120",
    "end": "1806360"
  },
  {
    "text": "with all of the change event syn a DynamoDB table so we don't have to manually go and publish to an event",
    "start": "1806360",
    "end": "1812420"
  },
  {
    "text": "stream ourselves with another lambda function although we could do that there's just no point because we can subscribe directly to the event stream",
    "start": "1812420",
    "end": "1819770"
  },
  {
    "text": "at the bottom of the dynamically B table and it's the same api it's the same so",
    "start": "1819770",
    "end": "1826010"
  },
  {
    "text": "there are a couple of sort of disadvantages of this the the need to",
    "start": "1826010",
    "end": "1833450"
  },
  {
    "text": "have a step function invoker is one one example and hopefully that's obvious why that's a bit of a pain the other things",
    "start": "1833450",
    "end": "1841490"
  },
  {
    "text": "we noticed was that the in the console you can actually see the payloads being",
    "start": "1841490",
    "end": "1848630"
  },
  {
    "text": "passed between each of the step functions and that's really handy it's",
    "start": "1848630",
    "end": "1853640"
  },
  {
    "text": "base 64 encoded you can go into how to look at it that's great for debugging but if you're processing orders as we",
    "start": "1853640",
    "end": "1860060"
  },
  {
    "text": "are you or anything any other entities that can contain PII data customer data",
    "start": "1860060",
    "end": "1868310"
  },
  {
    "text": "and so we didn't think that was a good idea having that available to all the developers in the in the console so to",
    "start": "1868310",
    "end": "1874220"
  },
  {
    "text": "avoid that what we've done is actually we persist the the event itself into an",
    "start": "1874220",
    "end": "1879710"
  },
  {
    "text": "s3 bucket that's encrypted and we simply pass the the a RN between step function steps",
    "start": "1879710",
    "end": "1886790"
  },
  {
    "text": "instead and that way the the consumer doctor is never visible in the console",
    "start": "1886790",
    "end": "1892580"
  },
  {
    "text": "to developers one other thing where we spotted as well",
    "start": "1892580",
    "end": "1898970"
  },
  {
    "text": "was that there was there's for some reason there's a 32k limit on the size",
    "start": "1898970",
    "end": "1906080"
  },
  {
    "text": "of the messages between these step functions which is sorry between the various steps in the function I to my",
    "start": "1906080",
    "end": "1912560"
  },
  {
    "text": "life for me I have no idea why it's the only 32 K perhaps fasting can tell us afterwards that that was a bit too small",
    "start": "1912560",
    "end": "1918680"
  },
  {
    "text": "for us some of our orders are bigger than that so what we did well originally we started with compression to try and",
    "start": "1918680",
    "end": "1924920"
  },
  {
    "text": "get around it but once we switched to putting the payload into s3 and passing our n that problem was solved as well so",
    "start": "1924920",
    "end": "1931220"
  },
  {
    "text": "that's let's just want to watch out for so it's conscious of x on a skip on so",
    "start": "1931220",
    "end": "1939080"
  },
  {
    "start": "1937000",
    "end": "1937000"
  },
  {
    "text": "let's talk a little bit about a synchronous service really this isn't",
    "start": "1939080",
    "end": "1947750"
  },
  {
    "text": "actually a thing for a service but it's a bit of a bit of a weird one so we had",
    "start": "1947750",
    "end": "1952760"
  },
  {
    "text": "a requirement to be able to invoke the next step after our you know order order",
    "start": "1952760",
    "end": "1958070"
  },
  {
    "text": "processing sasural OMS has has actually gone dispatched the item we needed to then invoke the next step in our big",
    "start": "1958070",
    "end": "1965360"
  },
  {
    "text": "diagram that we saw earlier these systems are oracle databases they can't",
    "start": "1965360",
    "end": "1971480"
  },
  {
    "text": "talk to Kinesis directly there's no there's no library that actually do that what they can do is make HTTP or HTTPS",
    "start": "1971480",
    "end": "1978290"
  },
  {
    "text": "calls so what we did was we said okay we'll put a PR gateway as a proxy in",
    "start": "1978290",
    "end": "1984800"
  },
  {
    "text": "front of Kinesis so now our service that isn't able to talk to Kinesis because",
    "start": "1984800",
    "end": "1990830"
  },
  {
    "text": "you know it's a bit old hat it can talk to Kinesis because we can just push",
    "start": "1990830",
    "end": "1995840"
  },
  {
    "text": "events straight into via API gateway and it sounds a bit kind of janky but actually it works really really well so",
    "start": "1995840",
    "end": "2002410"
  },
  {
    "text": "so that's what we've done and then in the future if we wanted to do something",
    "start": "2002410",
    "end": "2007450"
  },
  {
    "text": "different with those events again we've got all of those dispatch events are there as as Canisius streams that we can",
    "start": "2007450",
    "end": "2015250"
  },
  {
    "text": "either publish to from other sources or can you from other subscribers as well we",
    "start": "2015250",
    "end": "2021360"
  },
  {
    "text": "also played around with in this one executing the logic in just a go Lang",
    "start": "2021360",
    "end": "2029880"
  },
  {
    "text": "routine wrapped up in docker and deployed in ECS we played around with",
    "start": "2029880",
    "end": "2035010"
  },
  {
    "text": "that just to experiment with different ways of processing we could have equally done this with step functions and",
    "start": "2035010",
    "end": "2040050"
  },
  {
    "text": "probably that's what we would do if we were to do it again because there wasn't any major advantage of doing it this way",
    "start": "2040050",
    "end": "2046350"
  },
  {
    "text": "just playing around with the different development of routes the question often",
    "start": "2046350",
    "end": "2055649"
  },
  {
    "text": "get asked actually on that subject is we use ECS people asked us why not use",
    "start": "2055650",
    "end": "2062040"
  },
  {
    "text": "kubernetes maybe we will the the the",
    "start": "2062040",
    "end": "2068730"
  },
  {
    "text": "reason we haven't done so far is because - while there are advantages are running a kubernetes stack you also have to have",
    "start": "2068730",
    "end": "2075060"
  },
  {
    "text": "a load of people who know how to run a kubernetes stack and operate it properly and those skills are not necessarily",
    "start": "2075060",
    "end": "2080850"
  },
  {
    "text": "flying around all over the place and it's a it's a new capability that you have to build as a business and actually",
    "start": "2080850",
    "end": "2087000"
  },
  {
    "text": "ECS works great relatively straightforward and all of our developers are quite comfortable using it so will we use kubernetes in future",
    "start": "2087000",
    "end": "2094470"
  },
  {
    "text": "for managing dock containers probably but equally you know ECS works great for",
    "start": "2094470",
    "end": "2100110"
  },
  {
    "text": "for a starting point as well so the other little nugget in here is we",
    "start": "2100110",
    "end": "2109260"
  },
  {
    "start": "2104000",
    "end": "2104000"
  },
  {
    "text": "wanted to make our access to our master data much more much much easier if you",
    "start": "2109260",
    "end": "2114870"
  },
  {
    "text": "remember so really how do we do that or how does this let us do that so what",
    "start": "2114870",
    "end": "2123540"
  },
  {
    "text": "we've done is essentially said okay we got all these business events let's actually take the date Lake strategy and",
    "start": "2123540",
    "end": "2130610"
  },
  {
    "text": "archive all all those business events as they occur straight interests airy will dump them in terrestrial",
    "start": "2130610",
    "end": "2136110"
  },
  {
    "text": "irrespective of whether or not we think they're particularly useful or not because s3's super cheap sod it we'll throw it all",
    "start": "2136110",
    "end": "2142080"
  },
  {
    "text": "into history so the way we do that is we have for any given event stream in this",
    "start": "2142080",
    "end": "2147630"
  },
  {
    "text": "case order order events we have an event subscriber lambda function we drop it",
    "start": "2147630",
    "end": "2152910"
  },
  {
    "text": "into we've drop the event into s3 we've also played around with enriching that",
    "start": "2152910",
    "end": "2158250"
  },
  {
    "text": "data with data from our heritage estate and we found the best way to do that or",
    "start": "2158250",
    "end": "2163410"
  },
  {
    "text": "what a really good way of doing that at least is to just use plain old JDBC and",
    "start": "2163410",
    "end": "2169230"
  },
  {
    "text": "with AWS patch again serve this way of allowing us to execute routines to",
    "start": "2169230",
    "end": "2177650"
  },
  {
    "text": "enrich our data works really well the other the other little consideration",
    "start": "2177650",
    "end": "2183630"
  },
  {
    "text": "here is as I mentioned earlier these are orders in in our use case we're talking about today so there is PII data in",
    "start": "2183630",
    "end": "2189450"
  },
  {
    "text": "there and frankly most of the BI and analytical use cases that we might want to use this data for don't really need",
    "start": "2189450",
    "end": "2196770"
  },
  {
    "text": "that data so in the spirit of gdpr which is a pretty hot topic at the moment what we what we also done is we take those",
    "start": "2196770",
    "end": "2204390"
  },
  {
    "text": "events from that raw s3 bucket which is all encrypted and very few people have the keys to and as soon as there's a new",
    "start": "2204390",
    "end": "2212130"
  },
  {
    "text": "object in there we clone it across into a separate bucket and we essentially run",
    "start": "2212130",
    "end": "2217620"
  },
  {
    "text": "a simple routine in lambda that cleanses all other customer data out of it we do a combination of just removing it and",
    "start": "2217620",
    "end": "2223740"
  },
  {
    "text": "also obstacle and ultimately we get the same event duplicate it across into a nice like clean bucket with no PII data",
    "start": "2223740",
    "end": "2231030"
  },
  {
    "text": "but it's the same event just with all the masking done so then that way we can give the keys to that bucket to loads of",
    "start": "2231030",
    "end": "2237660"
  },
  {
    "text": "different people don't have to worry about proliferation of of PII data which is super cool so",
    "start": "2237660",
    "end": "2244470"
  },
  {
    "text": "one of the things that we've we've done with that is yes we can give the keys to a third party and they can even give",
    "start": "2244470",
    "end": "2249869"
  },
  {
    "text": "them access to rst bucket directly that's really great but we've also played around with putting Athena on top of these s3",
    "start": "2249869",
    "end": "2256830"
  },
  {
    "text": "buckets as well the lettuce put a SQL interface on top of these roar events",
    "start": "2256830",
    "end": "2263910"
  },
  {
    "text": "that exist in in our s3 buckets and there's thousands and thousands of them and then on top of that we can put a",
    "start": "2263910",
    "end": "2270510"
  },
  {
    "text": "dashboarding tool we've actually played around with with quick site with them with good success as well which is",
    "start": "2270510",
    "end": "2276090"
  },
  {
    "text": "Amazon's offering but there's no reason why you couldn't use any others as well and we're playing with other tools so it",
    "start": "2276090",
    "end": "2282630"
  },
  {
    "text": "gives us a really nice pattern for accessing our the data associated with",
    "start": "2282630",
    "end": "2288150"
  },
  {
    "text": "the all of these orders we're placing and processing and really is the",
    "start": "2288150",
    "end": "2293190"
  },
  {
    "text": "beginning of our data Lake so to wrap up",
    "start": "2293190",
    "end": "2301310"
  },
  {
    "start": "2297000",
    "end": "2297000"
  },
  {
    "text": "monitoring one of the questions I get asked is you know how do you instrument",
    "start": "2301310",
    "end": "2307290"
  },
  {
    "text": "a service architecture or predominantly server service architecture and the",
    "start": "2307290",
    "end": "2312600"
  },
  {
    "text": "answer is it's actually pretty easy although the team might disagree with me we'll see using this is one of the",
    "start": "2312600",
    "end": "2320820"
  },
  {
    "text": "advantages generally of using Amazon services CloudWatch metrics you know all the basic stuff that you'd expect to be",
    "start": "2320820",
    "end": "2326700"
  },
  {
    "text": "able to instrument a monitor about your infrastructure and indeed about all of the execution of your your lambda",
    "start": "2326700",
    "end": "2332340"
  },
  {
    "text": "functions in this case and your step functions all of the metrics associated with the execution path are all there",
    "start": "2332340",
    "end": "2338190"
  },
  {
    "text": "ready available really easy to consume we use a tool called graph honor it's a",
    "start": "2338190",
    "end": "2343710"
  },
  {
    "text": "free tool us.the the black graphs there to aggregate that data and present it",
    "start": "2343710",
    "end": "2351330"
  },
  {
    "text": "and that gives us a nice operational dashboard to tell us you know how many events are being processed basically",
    "start": "2351330",
    "end": "2357450"
  },
  {
    "text": "what's the health of the infrastructure one thing I would say is that the hardest part is actually figuring out",
    "start": "2357450",
    "end": "2363690"
  },
  {
    "text": "what business metrics do you need to explicitly",
    "start": "2363690",
    "end": "2368780"
  },
  {
    "text": "you know a lot of time developers will forget that you you actually you know what it doesn't really matter if your",
    "start": "2368829",
    "end": "2375289"
  },
  {
    "text": "lambda functions are being invoked what really matters is how much money you make in how you know how what's the",
    "start": "2375289",
    "end": "2381289"
  },
  {
    "text": "value of these orders that's flowing through for example so we can actually expose those as custom metrics in cloud",
    "start": "2381289",
    "end": "2388579"
  },
  {
    "text": "watch and again bring bring those through into our graph on our dashboards",
    "start": "2388579",
    "end": "2393589"
  },
  {
    "text": "as well on top of that I mentioned quick slide earlier so this is a little screenshot of dashboard we've we've",
    "start": "2393589",
    "end": "2400039"
  },
  {
    "text": "whipped up on top of using a theme sorry using quick cite on top of Athena on top",
    "start": "2400039",
    "end": "2406010"
  },
  {
    "text": "of our business events so this is actually the real dashboard here and you",
    "start": "2406010",
    "end": "2411440"
  },
  {
    "text": "can see that we can we can break down for the business and give them a window on what's happening with all these",
    "start": "2411440",
    "end": "2418460"
  },
  {
    "text": "orders gone are the days where they have to wait you know 24 hours for the cycle jobs to run through and the big batch",
    "start": "2418460",
    "end": "2424339"
  },
  {
    "text": "shot batch jobs to run overnight to then have their nice report you know on the desk in the morning",
    "start": "2424339",
    "end": "2429710"
  },
  {
    "text": "they can actually now go into here and it's pretty much real-time as soon as an order is processed within reason you've",
    "start": "2429710",
    "end": "2437089"
  },
  {
    "text": "got that information available in this dashboard as well so that's really cool so a couple of",
    "start": "2437089",
    "end": "2444440"
  },
  {
    "text": "little notes about costs another question we get a lot the costs for",
    "start": "2444440",
    "end": "2452359"
  },
  {
    "text": "operating the service infrastructure is it's very very good it's well to put it",
    "start": "2452359",
    "end": "2459619"
  },
  {
    "text": "in context we've we're now running all of our web orders through this",
    "start": "2459619",
    "end": "2465650"
  },
  {
    "text": "infrastructure and I think we've barely broken the free usage tier on lambda so",
    "start": "2465650",
    "end": "2473420"
  },
  {
    "text": "it's like I think the monthly forecast for this month like 25 bucks for the 4",
    "start": "2473420",
    "end": "2479539"
  },
  {
    "text": "lambda which is nice the step functions are themselves a",
    "start": "2479539",
    "end": "2486910"
  },
  {
    "text": "little bit more expensive but but overall we're talking you know a few hundred five hundred bucks a month to run this one of the biggest line items",
    "start": "2486910",
    "end": "2493540"
  },
  {
    "text": "of our bill is the the AWS support so it's pretty pretty low cost to operate",
    "start": "2493540",
    "end": "2501220"
  },
  {
    "text": "this service and as I said this has gone live we are now pressing all of our web",
    "start": "2501220",
    "end": "2507310"
  },
  {
    "text": "borders it's one of the best go lives I've ever been involved with because I didn't get any phone calls and basically",
    "start": "2507310",
    "end": "2512740"
  },
  {
    "text": "the business didn't notice that it had not alive this as you guys can tell was a really really fundamental shift in the",
    "start": "2512740",
    "end": "2518200"
  },
  {
    "text": "way that we process web orders in our business massive massive change and",
    "start": "2518200",
    "end": "2523770"
  },
  {
    "text": "basically nobody noticed because it went so smoothly so full crest to the team",
    "start": "2523770",
    "end": "2529510"
  },
  {
    "text": "for that I think that's pretty much it isn't it so hopefully that's been useful",
    "start": "2529510",
    "end": "2536350"
  },
  {
    "text": "guys obviously we'll give a stick around for some questions",
    "start": "2536350",
    "end": "2542160"
  },
  {
    "text": "got christened red there so it's a good",
    "start": "2547940",
    "end": "2557309"
  },
  {
    "text": "question dynamo is well we wanted a no sequel",
    "start": "2557309",
    "end": "2563460"
  },
  {
    "text": "store to start with as a first step but also the fact that it was the dynamic scaling is a really good advantage that",
    "start": "2563460",
    "end": "2571470"
  },
  {
    "text": "there are a few different advantages we could have used a more traditional RDS instance but there was also the fun of",
    "start": "2571470",
    "end": "2578609"
  },
  {
    "text": "playing with a new tool as well you could you could make this work with RDS if you wanted to but we like dynamo it",
    "start": "2578609",
    "end": "2585569"
  },
  {
    "text": "works really well sure",
    "start": "2585569",
    "end": "2590420"
  },
  {
    "text": "yep",
    "start": "2592040",
    "end": "2595040"
  },
  {
    "text": "so so the question was how do we deal with D duping with with Kinesis that's",
    "start": "2597460",
    "end": "2603460"
  },
  {
    "text": "one of the reasons why we we're publishing pushing those events into dynamodb and undoing our DG thing",
    "start": "2603460",
    "end": "2610900"
  },
  {
    "text": "they're programmatically I don't know if there are any other other options for that that's the best way to do that is",
    "start": "2610900",
    "end": "2618300"
  },
  {
    "text": "use as more the application level and key diseases to the street so you have",
    "start": "2618300",
    "end": "2624280"
  },
  {
    "text": "to deal with the duplicate duplicate possible the beginning to so the sound",
    "start": "2624280",
    "end": "2629559"
  },
  {
    "text": "of that yep",
    "start": "2629559",
    "end": "2631980"
  },
  {
    "text": "[Music] okay so how long did it take us to do",
    "start": "2637420",
    "end": "2643780"
  },
  {
    "text": "this had to scrum teams or must a lot that's been built by one by one scrum",
    "start": "2643780",
    "end": "2649840"
  },
  {
    "text": "team but to scrum teams really and it's taken SiO like six months something like that however prior to",
    "start": "2649840",
    "end": "2656770"
  },
  {
    "text": "that we've had to build our capability and and learn how to use these tools that has been a multi-year process River",
    "start": "2656770",
    "end": "2664270"
  },
  {
    "text": "Island to learn how to use cloud services and Amazon services but the",
    "start": "2664270",
    "end": "2670420"
  },
  {
    "text": "actual execution time when we decided to go and build this sort of the order of six months or so and the other question",
    "start": "2670420",
    "end": "2677140"
  },
  {
    "text": "was CI CD challenges I probably not the",
    "start": "2677140",
    "end": "2683380"
  },
  {
    "text": "best person to ask about that however there are some of the actual engineers who built this in the room so if you",
    "start": "2683380",
    "end": "2689440"
  },
  {
    "text": "want to come down to the front later on I'm hoping that few of them will volunteer to come down and chat with about that one last one yet",
    "start": "2689440",
    "end": "2699539"
  },
  {
    "text": "say that again sorry what was the",
    "start": "2701920",
    "end": "2707680"
  },
  {
    "text": "biggest PCI challenge we for this implementation poppy she is out of scope",
    "start": "2707680",
    "end": "2715630"
  },
  {
    "text": "really because we're not handling consumer credit card data we we do",
    "start": "2715630",
    "end": "2720910"
  },
  {
    "text": "handle the PII data which is which falls",
    "start": "2720910",
    "end": "2727180"
  },
  {
    "text": "under data protection and GDP are so and I'd say for that we we did take some",
    "start": "2727180",
    "end": "2733810"
  },
  {
    "text": "steps to make sure that the access to that data was controlled which is one of the reasons why we didn't want to have",
    "start": "2733810",
    "end": "2740620"
  },
  {
    "text": "that data available in the console for any of the developers to look at because there's no need for them to do that but PCI wasn't really a consideration",
    "start": "2740620",
    "end": "2747070"
  },
  {
    "text": "because we're not handling credit card data fortunately thank God cool hi guys I'm gonna hang around but I",
    "start": "2747070",
    "end": "2754540"
  },
  {
    "text": "think we'll we'll wrap it up there thanks guys",
    "start": "2754540",
    "end": "2759420"
  }
]