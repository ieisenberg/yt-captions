[
  {
    "text": "welcome good afternoon thank you for coming to my talk on VPC design my name",
    "start": "380",
    "end": "8099"
  },
  {
    "text": "is Rob Alexander and yes my secret was revealed this morning",
    "start": "8099",
    "end": "13650"
  },
  {
    "text": "I am the CIO of a major American bank by day by night I'm a Solutions Architect",
    "start": "13650",
    "end": "19590"
  },
  {
    "text": "for AWS out of Seattle we've been doing",
    "start": "19590",
    "end": "25140"
  },
  {
    "text": "this talk for three years now at reinvent and we always started off with this slide and there's a reason for that",
    "start": "25140",
    "end": "32480"
  },
  {
    "text": "everything I'm talking about today was built by you so I based this talk off of",
    "start": "32480",
    "end": "38670"
  },
  {
    "text": "customer designs that I have seen over the last year that I find particularly",
    "start": "38670",
    "end": "44460"
  },
  {
    "text": "interesting but are in use and in production use so nothing here is",
    "start": "44460",
    "end": "50250"
  },
  {
    "text": "theoretical and this is a 400 level session so I will make some assumptions",
    "start": "50250",
    "end": "57239"
  },
  {
    "text": "that some of the things you're seeing up here you already know about so that you know what the difference between a",
    "start": "57239",
    "end": "63300"
  },
  {
    "text": "Internet gateway and a virtual private gateway are what a route table is and where you would assign it you know why",
    "start": "63300",
    "end": "69750"
  },
  {
    "text": "enhanced networking is important what the difference between a networked Akal and a security group is when I started",
    "start": "69750",
    "end": "79470"
  },
  {
    "text": "talking to customers about VPC design now going on over three years ago and",
    "start": "79470",
    "end": "84570"
  },
  {
    "text": "we'd often start with this and they would say what do I do with this three",
    "start": "84570",
    "end": "89850"
  },
  {
    "text": "years now later my conversations are very different and I usually start",
    "start": "89850",
    "end": "95400"
  },
  {
    "text": "sitting down with customers saying how do I build this but we'll get there",
    "start": "95400",
    "end": "105840"
  },
  {
    "text": "let's first just a zoom in and start with one so here we have a stock",
    "start": "105840",
    "end": "111180"
  },
  {
    "text": "standard V PC in a region deployed across multiple availability zones we",
    "start": "111180",
    "end": "116759"
  },
  {
    "text": "have public subnets and private subnets the only difference being any instances deployed in the public subnet will get",
    "start": "116759",
    "end": "122909"
  },
  {
    "text": "an automatically assigned public IP and the private subnets are obviously private IP s only and this first V PC is",
    "start": "122909",
    "end": "130739"
  },
  {
    "text": "going to be dedicated to a public-facing web application so we're gonna deploy an elastic load balancer across both availability zones",
    "start": "130739",
    "end": "138410"
  },
  {
    "text": "and we'll go ahead and label these subnets according to what kind of things that are going to be in these subnets or",
    "start": "138410",
    "end": "145110"
  },
  {
    "text": "slap a cider on there and I do want to remind you to keep in mind that there is always this virtual router that sits in",
    "start": "145110",
    "end": "151950"
  },
  {
    "text": "the virtual private cloud that dictates the routing between all the subnets which by default allows all the subnets",
    "start": "151950",
    "end": "158819"
  },
  {
    "text": "to talk to each other and that's all facilitated by the dot one address of every subnets cider buck now obviously",
    "start": "158819",
    "end": "170400"
  },
  {
    "text": "this will be public facing so we're going to attach an Internet gateway and we're going to create a route for the",
    "start": "170400",
    "end": "175680"
  },
  {
    "text": "public subnets to be able to use this internet gateway so there default route will be pointing to that Internet",
    "start": "175680",
    "end": "181410"
  },
  {
    "text": "gateway and now the elby's can both talk out and be reached from outside the VPC",
    "start": "181410",
    "end": "186750"
  },
  {
    "text": "according to their security group and network Akal configuration now I will point out here that the internet gateway",
    "start": "186750",
    "end": "193079"
  },
  {
    "text": "is a highly available and horizontally scaled infrastructure this is not we",
    "start": "193079",
    "end": "199290"
  },
  {
    "text": "call it a gateway this is not a physical one physical thing that you have to worry about facilitating bandwidth or",
    "start": "199290",
    "end": "205680"
  },
  {
    "text": "availability for that's not your concern so what about these instances that are",
    "start": "205680",
    "end": "211709"
  },
  {
    "text": "still in the private subnets how do we facilitate connectivity for them outside of the V PC they don't have any route to",
    "start": "211709",
    "end": "219000"
  },
  {
    "text": "the Internet gateway and they don't have any public eyepiece so first we'll say",
    "start": "219000",
    "end": "224310"
  },
  {
    "text": "you know what why do we want to go outside what's out there so the first thing is",
    "start": "224310",
    "end": "229799"
  },
  {
    "text": "public AWS API endpoints so if you're making auto-scaling calls from inside or",
    "start": "229799",
    "end": "235380"
  },
  {
    "text": "you're launching CloudFormation or you're even making ec2 API calls to for example move an elastic network",
    "start": "235380",
    "end": "241680"
  },
  {
    "text": "interface all those need to be able to reach out of the V PC and touch our API",
    "start": "241680",
    "end": "246959"
  },
  {
    "text": "endpoints that are on the public network regional services so s3 dynamodb Kinesis",
    "start": "246959",
    "end": "253680"
  },
  {
    "text": "SNS lambda those all exist is regional public services that are outside your V",
    "start": "253680",
    "end": "258810"
  },
  {
    "text": "PC and same with third-party services whether that's you know new relic or",
    "start": "258810",
    "end": "264090"
  },
  {
    "text": "slack or data dog or the platform services that are also out there in AWS they obviously have to get",
    "start": "264090",
    "end": "270540"
  },
  {
    "text": "out of your VPC to reach them so the most standard way to do this is to",
    "start": "270540",
    "end": "275700"
  },
  {
    "text": "deploy what we call an @ instance that will front all of your private instances and provide that connectivity so we",
    "start": "275700",
    "end": "283440"
  },
  {
    "text": "deploy them out here in the public subnets it obviously has a public IP that's single public IP fronts the",
    "start": "283440",
    "end": "289740"
  },
  {
    "text": "private connectivity for all the instances that are talking to and we do that by giving the private subnet route",
    "start": "289740",
    "end": "295500"
  },
  {
    "text": "table a default route of the not instance itself and so now all these private instances can go through that",
    "start": "295500",
    "end": "301740"
  },
  {
    "text": "NAT and egress the VP see the problem is",
    "start": "301740",
    "end": "308000"
  },
  {
    "text": "as your traffic grows and your instances grow obviously there's gonna be a little",
    "start": "308000",
    "end": "313770"
  },
  {
    "text": "problem with a single instance facilitating this connectivity and you both have a single point of failure and",
    "start": "313770",
    "end": "320070"
  },
  {
    "text": "a network bottleneck in this instance so",
    "start": "320070",
    "end": "325500"
  },
  {
    "text": "how do we make scaleable and available on that well first I'd ask what do you",
    "start": "325500",
    "end": "333660"
  },
  {
    "text": "want out of the NAT because if you're putting high bandwidth demanding applications behind in that then then",
    "start": "333660",
    "end": "341220"
  },
  {
    "text": "you're gonna have problems so my advice is always to cordon off those types of",
    "start": "341220",
    "end": "346950"
  },
  {
    "text": "workloads that need high bandwidth and give them their own egress out of the V PC so put them in public subnets lock",
    "start": "346950",
    "end": "353130"
  },
  {
    "text": "them down so they can't be accessed from the outside but at least they'll have their full instance bandwidth capacity",
    "start": "353130",
    "end": "358440"
  },
  {
    "text": "out of the V PC and they won't be constrained by a NAT instance now",
    "start": "358440",
    "end": "365789"
  },
  {
    "text": "there's obviously still a purpose for Nats there's still lots of reasons that are beyond high bandwidth applications and so what we're gonna have here this",
    "start": "365789",
    "end": "373650"
  },
  {
    "text": "is our first stage and our evolving design requirements you're gonna see this slide over and over as we work through all these use cases this list of",
    "start": "373650",
    "end": "380610"
  },
  {
    "text": "requirements is going to grow and grow so this first I list of requirements is that we want public subnets for those",
    "start": "380610",
    "end": "385919"
  },
  {
    "text": "high bandwidth public talkers we want private subnets that still have access",
    "start": "385919",
    "end": "391680"
  },
  {
    "text": "to public AWS network we want highly available NAT and for now we're gonna have 180 of AES account it's going to be",
    "start": "391680",
    "end": "397830"
  },
  {
    "text": "one V PC and it's going to be in one region so we're gonna take a little detour from",
    "start": "397830",
    "end": "405840"
  },
  {
    "text": "VPC and talk about some new ec2 features that you might not have heard of yet but will help facilitate the this.h a Nats",
    "start": "405840",
    "end": "413460"
  },
  {
    "text": "the solution and specifically these features are the Amazon ec2 auto recovery service and the ec2 auto reboot",
    "start": "413460",
    "end": "419490"
  },
  {
    "text": "service so these are going to give us some some automatic recovery features",
    "start": "419490",
    "end": "424800"
  },
  {
    "text": "that did not exist before so over the years ec2 has built up this very robust",
    "start": "424800",
    "end": "432180"
  },
  {
    "text": "framework of status checks dead that checks everything on your instance and the physical server hosting your",
    "start": "432180",
    "end": "438870"
  },
  {
    "text": "instance so this checks everything from the actual hardware the software running",
    "start": "438870",
    "end": "444419"
  },
  {
    "text": "the underlying hypervisor and your instance the networking and power",
    "start": "444419",
    "end": "450449"
  },
  {
    "text": "related to that instance so this whole series of status checks all rolls up and",
    "start": "450449",
    "end": "455639"
  },
  {
    "text": "surface itself to you in the form of to cloud watch per instance metrics and",
    "start": "455639",
    "end": "462060"
  },
  {
    "text": "those are one metric for the system itself failing and one metric for the instance failing now these have existed",
    "start": "462060",
    "end": "469800"
  },
  {
    "text": "for a while but you couldn't really do anything up until very recently with them you could generate alerts you could",
    "start": "469800",
    "end": "476159"
  },
  {
    "text": "launch a new instance and replace the failed instances but beyond that your options are pretty limited but what's",
    "start": "476159",
    "end": "481889"
  },
  {
    "text": "new is these new ec2 actions that you can take specifically reboot and recover so that now if an instant status check",
    "start": "481889",
    "end": "489449"
  },
  {
    "text": "fails you can set it to instantly reboot so if it core dumps or if someone downs",
    "start": "489449",
    "end": "496199"
  },
  {
    "text": "the virtual interface or anything that goes on wrong with instances itself it will automatically reboot if the system",
    "start": "496199",
    "end": "502560"
  },
  {
    "text": "itself if anything any of those underlying health checks fail and the system becomes impaired it will",
    "start": "502560",
    "end": "508469"
  },
  {
    "text": "automatically recover to new hardware and when this happens all of these",
    "start": "508469",
    "end": "513810"
  },
  {
    "text": "things stay the same and this is the key before whenever you replace something",
    "start": "513810",
    "end": "519000"
  },
  {
    "text": "your instance ID would be different so there were all these clever solutions for a chain at that had you reroute",
    "start": "519000",
    "end": "525329"
  },
  {
    "text": "route tables or movie and eyes and those were all dependent on the fact that the",
    "start": "525329",
    "end": "530819"
  },
  {
    "text": "instance ID would change when the new instance came in or a play but with recovery it stays the same so",
    "start": "530819",
    "end": "537750"
  },
  {
    "text": "there's a few things about Auto recovery that you should keep in mind first of all it only applies to the system status",
    "start": "537750",
    "end": "543810"
  },
  {
    "text": "check so that's why we're not doing recovery on the instance failure it's only applies to newer instance types and",
    "start": "543810",
    "end": "550620"
  },
  {
    "text": "it is you cannot use the local instance store so you can't even have it mounted today so this is very much a EBS backed",
    "start": "550620",
    "end": "557430"
  },
  {
    "text": "service and here's how you set it up it's very easy as it straight from the",
    "start": "557430",
    "end": "563490"
  },
  {
    "text": "cloud which console we're just creating alarm based upon that metric the system",
    "start": "563490",
    "end": "568920"
  },
  {
    "text": "failed check we're setting our threshold for two consecutive periods of one minute you can be more aggressive if you",
    "start": "568920",
    "end": "576030"
  },
  {
    "text": "like and the action is to recover and make sure you choose your period as a minute because that can't be five",
    "start": "576030",
    "end": "582030"
  },
  {
    "text": "minutes and you obviously don't want that and same with reboot just make sure you choose the right metric and choose the",
    "start": "582030",
    "end": "588750"
  },
  {
    "text": "action to reboot so how does it work so",
    "start": "588750",
    "end": "595080"
  },
  {
    "text": "we've got one NAT / AZ the private subnet sin that AZ their subnet routing",
    "start": "595080",
    "end": "601140"
  },
  {
    "text": "table is all pointing to that one NAT and their AZ so they're lined up if the NAT itself has problems and it fails",
    "start": "601140",
    "end": "607130"
  },
  {
    "text": "auto recovery kicks in and within about one to four minutes the instance is",
    "start": "607130",
    "end": "612660"
  },
  {
    "text": "replaced and it's completely the same on new hardware and traffic obviously starts flowing again I say one to four",
    "start": "612660",
    "end": "618060"
  },
  {
    "text": "minutes because depends on the nature of the failure if the NIC itself fails it's going to be longer but if it's some",
    "start": "618060",
    "end": "623910"
  },
  {
    "text": "other ancillary issue it could be a lot faster so Auto recovery and reboot run",
    "start": "623910",
    "end": "633030"
  },
  {
    "text": "outside the instance itself so it's nothing you put on it on the instance so the NAT itself can be anything you want",
    "start": "633030",
    "end": "638280"
  },
  {
    "text": "so you can use the the Amazon Linux NAT ami or pick you know picking out any net",
    "start": "638280",
    "end": "643440"
  },
  {
    "text": "that's out on the marketplace that you use today and familiar with",
    "start": "643440",
    "end": "648709"
  },
  {
    "text": "if you actually have to scale so the limitation here is the route table",
    "start": "652030",
    "end": "657070"
  },
  {
    "text": "itself you know I put one nap for AZ but that that's not a hard requirement you can put many Nats in the AZ",
    "start": "657070",
    "end": "662440"
  },
  {
    "text": "the constraint is you can only have one route to one instance that is your NAT",
    "start": "662440",
    "end": "668140"
  },
  {
    "text": "for that routing table so you could have you know here I have three route tables per AZ for my private subnets and each",
    "start": "668140",
    "end": "675760"
  },
  {
    "text": "of those route tables are pointing to an that and you can scale that but if you're doing this come talk to me these",
    "start": "675760",
    "end": "684010"
  },
  {
    "text": "workloads I don't we don't see a lot of these so I'd like to hear the use case you know your first beverage of choice is on me so here we are we got a",
    "start": "684010",
    "end": "693190"
  },
  {
    "text": "public-facing web app deploy it up in the region in our first V PC and now",
    "start": "693190",
    "end": "698230"
  },
  {
    "text": "we're going to consider our second V PC which is some internal corporate applications we'd like to move up into a",
    "start": "698230",
    "end": "703780"
  },
  {
    "text": "private V PC and connect through a private IPSec tone so I get asked this",
    "start": "703780",
    "end": "711910"
  },
  {
    "text": "all the time you know should I have one V PC should I put everything in one V PC treat it like I treat my current data",
    "start": "711910",
    "end": "718120"
  },
  {
    "text": "center or should I have many V pcs and you know my answer is always yes",
    "start": "718120",
    "end": "725670"
  },
  {
    "text": "unfortunately there is not a hard and fast answer for for that question but",
    "start": "726900",
    "end": "732760"
  },
  {
    "text": "fortunately there are a lot of considerations and use cases to think about what is it you want to do with V",
    "start": "732760",
    "end": "738490"
  },
  {
    "text": "PC so here's some of the very common use cases so application isolation is kind",
    "start": "738490",
    "end": "744100"
  },
  {
    "text": "of like what we were just talking about there's very good use cases for not having everything talk to each other so",
    "start": "744100",
    "end": "749500"
  },
  {
    "text": "V pcs by definition or isolated networks that cannot talk to each other so",
    "start": "749500",
    "end": "755170"
  },
  {
    "text": "without you facilitating it so application isolation is the first one a scope of audit containment so if you",
    "start": "755170",
    "end": "761380"
  },
  {
    "text": "also have audit requirements that say very specifically who can get to what",
    "start": "761380",
    "end": "766480"
  },
  {
    "text": "the vp sia offers a very logical isolation compartment and same with risk",
    "start": "766480",
    "end": "771550"
  },
  {
    "text": "level separation so if you have HIPAA workloads or PCI workloads very sensitive confidential information the v",
    "start": "771550",
    "end": "778540"
  },
  {
    "text": "bc becomes like a risk container for those for those applications separate production from non production so i have",
    "start": "778540",
    "end": "785290"
  },
  {
    "text": "some customers who have you know literally thousands of development teams that all",
    "start": "785290",
    "end": "790440"
  },
  {
    "text": "deployed in the same VPC would clobber each other and and then these are the problems they're experiencing currently",
    "start": "790440",
    "end": "796110"
  },
  {
    "text": "in their data center so I usually break it down and see why would you want to reproduce that in the cloud separate",
    "start": "796110",
    "end": "802920"
  },
  {
    "text": "your production from non production get blast radius containment and then",
    "start": "802920",
    "end": "809010"
  },
  {
    "text": "multi-tenant isolation obviously if you have different customers and you're managing a platform you want to keep them separate and isolated so here are",
    "start": "809010",
    "end": "815130"
  },
  {
    "text": "some of the considerations on top of the use cases so obviously as soon as you start up multiple V pcs you need to know",
    "start": "815130",
    "end": "822450"
  },
  {
    "text": "if these things need to talk to each other and how they want to talk to each other and most of the rest of this talk is focused on this kind of EPC design of",
    "start": "822450",
    "end": "829620"
  },
  {
    "text": "inter VPC communication a lot of the use cases I mentioned go hand-in-hand with having separate AWS accounts that's",
    "start": "829620",
    "end": "835980"
  },
  {
    "text": "usually part of the same conversation so you know know upfront that you're going to be talking about separate AWS accounts which falls right into the next",
    "start": "835980",
    "end": "842610"
  },
  {
    "text": "one is have up front your considerations for your identity and access management resource permissions because that design",
    "start": "842610",
    "end": "849570"
  },
  {
    "text": "is going to dictate how you manage all these V pcs so you need to be able to have operational control over menu V pcs",
    "start": "849570",
    "end": "856829"
  },
  {
    "text": "so you need to know up front you're going to be having you know common operational roles applied to every",
    "start": "856829",
    "end": "862500"
  },
  {
    "text": "account you create and then the limits are they're know them you know most of them are soft the few that are hard will",
    "start": "862500",
    "end": "869670"
  },
  {
    "text": "call out when we get to them so here we go now we want an internet excuse me an",
    "start": "869670",
    "end": "877140"
  },
  {
    "text": "internal company app that's completely private so we have a requirement now that there's no igw no public ip's",
    "start": "877140",
    "end": "885449"
  },
  {
    "text": "attached to this VB C so this is what it would look like so we we create a virtual private gateway which",
    "start": "885449",
    "end": "891540"
  },
  {
    "text": "facilitates the private IPSec VPN tunnel termination on these private subnets we",
    "start": "891540",
    "end": "897839"
  },
  {
    "text": "create a route to your corporate cider box that points to this virtual private gateway and anything you deploy up now",
    "start": "897839",
    "end": "904380"
  },
  {
    "text": "into this private cloud can reach your internal network but you know there's a",
    "start": "904380",
    "end": "911760"
  },
  {
    "text": "lot of things out there they want to use an s3 of course is a very common data store for applications so your",
    "start": "911760",
    "end": "917610"
  },
  {
    "text": "developers want to actually use these services while they're in this internal private VPC so how do you do",
    "start": "917610",
    "end": "926160"
  },
  {
    "text": "that so this is the end my friends so",
    "start": "926160",
    "end": "932129"
  },
  {
    "text": "our design requirements are evolving so now we have VPN connectivity to private only VPC we want no egress in the VPC to",
    "start": "932129",
    "end": "940559"
  },
  {
    "text": "any public networks we want private IP access to Amazon s3 we want very content",
    "start": "940559",
    "end": "947069"
  },
  {
    "text": "specific access controls and we're still with one account one VPC in one region at this point so with those requirements",
    "start": "947069",
    "end": "957449"
  },
  {
    "text": "in the past this is actually how you would have to facilitate that communication this is not ideal now this",
    "start": "957449",
    "end": "964679"
  },
  {
    "text": "is a long way around to get back to s3 so fortunately over the summer we launched a new feature called EPC",
    "start": "964679",
    "end": "971189"
  },
  {
    "text": "endpoints so VPC endpoints provide",
    "start": "971189",
    "end": "976639"
  },
  {
    "text": "exactly what our requirements design are asking for so there's no igw involved",
    "start": "976639",
    "end": "981959"
  },
  {
    "text": "there's no NAT you're not facilitating communication through an app there's no public ip's involved the service is free",
    "start": "981959",
    "end": "988860"
  },
  {
    "text": "and there's very robust access control which we'll talk about and I would like",
    "start": "988860",
    "end": "995610"
  },
  {
    "text": "to point out here that we made this very clear from the beginning when we launched this feature this is just the",
    "start": "995610",
    "end": "1001189"
  },
  {
    "text": "start so s3 is the start of the endpoints so keep keep a close pay close",
    "start": "1001189",
    "end": "1007040"
  },
  {
    "text": "attention to how these are used because you're going to see this more and more not just s3 but more services coming the future so how do you actually create",
    "start": "1007040",
    "end": "1015439"
  },
  {
    "text": "them so here's the actual command line call to create endpoint and this is on a",
    "start": "1015439",
    "end": "1020600"
  },
  {
    "text": "private subnet and you actually associate it with a route table so you",
    "start": "1020600",
    "end": "1026720"
  },
  {
    "text": "don't actually go in and create the route you associate it and that route is created for you automatically and it's actually not modifiable so the",
    "start": "1026720",
    "end": "1035029"
  },
  {
    "text": "destination is a prefix list for the service itself and we'll get to what our actual prefix list is and the target is",
    "start": "1035029",
    "end": "1041298"
  },
  {
    "text": "the endpoint and now I also did this to my public subnet that already had an",
    "start": "1041299",
    "end": "1047480"
  },
  {
    "text": "Internet gateway and this is perfectly fine just demonstrating how this would work",
    "start": "1047480",
    "end": "1054150"
  },
  {
    "text": "so obviously the prefix list is going to be a more specific route to the blocks",
    "start": "1054150",
    "end": "1061320"
  },
  {
    "text": "that make up s3 in the region so it's going to prefer that route over the",
    "start": "1061320",
    "end": "1066539"
  },
  {
    "text": "default route for s3 but be careful here because the service is regional so this",
    "start": "1066539",
    "end": "1073559"
  },
  {
    "text": "would only apply to traffic going to s3 in that region if you were trying to reach a bucket and for example US East",
    "start": "1073559",
    "end": "1080490"
  },
  {
    "text": "one that would go over the Internet gateway so what's a prefix list",
    "start": "1080490",
    "end": "1086159"
  },
  {
    "text": "these are very cool so it was very hard in the past to keep track of the actual",
    "start": "1086159",
    "end": "1092220"
  },
  {
    "text": "IPs that made up s3 they were constantly changing people placed very elaborate",
    "start": "1092220",
    "end": "1097530"
  },
  {
    "text": "games to keep track of what s3 was in IP space prefix lists abstract all of that",
    "start": "1097530",
    "end": "1103020"
  },
  {
    "text": "so it's a logical route destination that dynamically translates into the space",
    "start": "1103020",
    "end": "1108600"
  },
  {
    "text": "that makes up s3 so you don't have to worry about tracking it and obviously these ranges are going to change over",
    "start": "1108600",
    "end": "1114150"
  },
  {
    "text": "time but the prefix list itself will keep that abstraction so again these will come as more and more surfaces more",
    "start": "1114150",
    "end": "1120900"
  },
  {
    "text": "and more services come up as endpoints and you can actually use them in secured groups so you can lock down the actual",
    "start": "1120900",
    "end": "1128280"
  },
  {
    "text": "instances that can use the service the VPC endpoint so what about access",
    "start": "1128280",
    "end": "1136440"
  },
  {
    "text": "control so there's multiple layers of access control when you're talking about endpoints so the first place that we can",
    "start": "1136440",
    "end": "1143220"
  },
  {
    "text": "apply a policy here is on the endpoint itself so what we're going to do is apply this policy on endpoint that has",
    "start": "1143220",
    "end": "1149549"
  },
  {
    "text": "very specific requirements of what bucket I can reach so in this case it's a backups bucket so I can only get and",
    "start": "1149549",
    "end": "1155700"
  },
  {
    "text": "put objects to backups so when a request goes out to s3 over the endpoint route",
    "start": "1155700",
    "end": "1162120"
  },
  {
    "text": "from the subnet that policy is going to be hit it's going to check if you're going to the backups bucket and if you",
    "start": "1162120",
    "end": "1168150"
  },
  {
    "text": "are off you go now that's on the endpoint you can also apply a policy on",
    "start": "1168150",
    "end": "1174240"
  },
  {
    "text": "the bucket itself which says it's very specifically what endpoint you're coming",
    "start": "1174240",
    "end": "1179400"
  },
  {
    "text": "from and what VPC are coming from as a condition for access so in this case we're",
    "start": "1179400",
    "end": "1184860"
  },
  {
    "text": "saying traffic can only come from a very specific end point so it's gonna check",
    "start": "1184860",
    "end": "1191910"
  },
  {
    "text": "is this request coming from this VP standpoint and if it is let it through",
    "start": "1191910",
    "end": "1197059"
  },
  {
    "text": "so we got multiple layers of control access so we recap real quick you have",
    "start": "1197059",
    "end": "1203220"
  },
  {
    "text": "the route table itself so you associate the subnet to give it access then you",
    "start": "1203220",
    "end": "1208260"
  },
  {
    "text": "have the VPC endpoint policy itself you have the bucket policy and the last one is you can apply security groups within",
    "start": "1208260",
    "end": "1214350"
  },
  {
    "text": "that subnet to restrict certain instances in that subnet from actually using the endpoint to so multiple layers",
    "start": "1214350",
    "end": "1222289"
  },
  {
    "text": "so let's see them in action so in this case we've got two buckets out there and all of our internet apps want to be able",
    "start": "1223309",
    "end": "1230220"
  },
  {
    "text": "to backup to s3 and store their data so we create an endpoint for them but give them a route to the endpoint and we have",
    "start": "1230220",
    "end": "1236850"
  },
  {
    "text": "the policies there that allow them to backup but this compliance application is separate and it's requirements are a",
    "start": "1236850",
    "end": "1242520"
  },
  {
    "text": "little bit more strict it needs to store its content in its own bucket so we create another endpoint for the",
    "start": "1242520",
    "end": "1250230"
  },
  {
    "text": "compliance application so the restriction is you can only have one route per route table to a service of an",
    "start": "1250230",
    "end": "1258299"
  },
  {
    "text": "endpoint so in this case you could have facilitated this all through one endpoint but we keep it separate for the",
    "start": "1258299",
    "end": "1264360"
  },
  {
    "text": "application requirements and as things",
    "start": "1264360",
    "end": "1272010"
  },
  {
    "text": "grow and grow in scale like I described a igw the internet gateway the endpoints",
    "start": "1272010",
    "end": "1277320"
  },
  {
    "text": "the same horizontally scaled massively available it's not something you are worrying about from a bandwidth a",
    "start": "1277320",
    "end": "1283919"
  },
  {
    "text": "performance perspective so what about",
    "start": "1283919",
    "end": "1289020"
  },
  {
    "text": "Amazon Linux this was this was one of my customers these cases is that they had this requirement they also needed to be",
    "start": "1289020",
    "end": "1294510"
  },
  {
    "text": "able to update their Amazon Linux on amis keep the latest patches and builds on them so there's two buckets per",
    "start": "1294510",
    "end": "1301890"
  },
  {
    "text": "region that are required for Amazon Linux to work those buckets are a repo bucket and a packages bucket so in this",
    "start": "1301890",
    "end": "1308429"
  },
  {
    "text": "case on the compliance end point we've added those buckets to the policy list",
    "start": "1308429",
    "end": "1313910"
  },
  {
    "text": "so there's two and we've done the same for the other",
    "start": "1313910",
    "end": "1321169"
  },
  {
    "text": "endpoint",
    "start": "1321169",
    "end": "1323649"
  },
  {
    "text": "and so now both endpoints can access both buckets and again you know why did",
    "start": "1327909",
    "end": "1333519"
  },
  {
    "text": "I do this on both endpoints it goes back to the constraint I couldn't have added another route in",
    "start": "1333519",
    "end": "1340599"
  },
  {
    "text": "those tables for those buckets so I mean I'm sorry another endpoint to create",
    "start": "1340599",
    "end": "1346599"
  },
  {
    "text": "just for those buckets so a few things to remember about endpoints the endpoint",
    "start": "1346599",
    "end": "1352839"
  },
  {
    "text": "in the bucket itself have to be in the same region Amazon DNS needs to be enabled for the VPC that's for the",
    "start": "1352839",
    "end": "1358599"
  },
  {
    "text": "prefix list resolution that doesn't mean you can't use your own DNS you just need to have it enabled source IP s2 s3 will",
    "start": "1358599",
    "end": "1366129"
  },
  {
    "text": "be private so if you have any source IP restrictions on your buckets today those",
    "start": "1366129",
    "end": "1371259"
  },
  {
    "text": "won't work because those are obviously restricting against public IPS you need to use the the restriction of either the",
    "start": "1371259",
    "end": "1378009"
  },
  {
    "text": "V PC itself or the V PC endpoint and don't forget about s3 dependent services",
    "start": "1378009",
    "end": "1383709"
  },
  {
    "text": "so there's lots of our services so EMR redshift they all have s3 dependencies",
    "start": "1383709",
    "end": "1388869"
  },
  {
    "text": "so when you go locking things down make sure you consider those so here we are",
    "start": "1388869",
    "end": "1399579"
  },
  {
    "text": "we've got our public facing web app and now we have our internal only app with a VPC endpoint so what's next this is",
    "start": "1399579",
    "end": "1409479"
  },
  {
    "text": "usually a part where my customers need to start planning for mass population explosion because in my experience this",
    "start": "1409479",
    "end": "1419079"
  },
  {
    "text": "is what usually happens and this is not a fun place to pee you know creating VPN",
    "start": "1419079",
    "end": "1428199"
  },
  {
    "text": "tunnels creating bgp peers propagating border routes these are non-trivial",
    "start": "1428199",
    "end": "1434169"
  },
  {
    "text": "exercises you know this is very impactful to operations you know spinning up v pcs is very easy",
    "start": "1434169",
    "end": "1440019"
  },
  {
    "text": "but this other stuff businesses is impactful and to emphasize that let's just zoom in on one of those VPN",
    "start": "1440019",
    "end": "1445899"
  },
  {
    "text": "connections and see what we do for a true H a VPN connection so here we have",
    "start": "1445899",
    "end": "1451269"
  },
  {
    "text": "the V PC up in the region and we have an H a VPN pair on your end to customer",
    "start": "1451269",
    "end": "1456999"
  },
  {
    "text": "gateways so each time you create a VPN connection and ws to the vgw you get two tunnels to",
    "start": "1456999",
    "end": "1465749"
  },
  {
    "text": "unique public IP endpoints yes I did say that two unique public IP endpoints I'll",
    "start": "1465749",
    "end": "1470879"
  },
  {
    "text": "get to that in a minute that terminate in separate AZ's so that's full",
    "start": "1470879",
    "end": "1477450"
  },
  {
    "text": "redundancy on our end if something needs to be down do you have another tunnel to route over but that doesn't solve for",
    "start": "1477450",
    "end": "1483719"
  },
  {
    "text": "your in so you need to use two customer gateways to solve for redundancy on your in that means for every one of those connections we were representing you",
    "start": "1483719",
    "end": "1490049"
  },
  {
    "text": "actually have four tunnels and here we have the BGP announcements up so you're",
    "start": "1490049",
    "end": "1497159"
  },
  {
    "text": "getting the BGP from us that's the V PC block itself and Ras n and to the V PC",
    "start": "1497159",
    "end": "1502559"
  },
  {
    "text": "itself your advertising you know whatever your internal network space is you want the V PC to know about and your",
    "start": "1502559",
    "end": "1510359"
  },
  {
    "text": "facilitating in a multipath on your internal network through I you know your",
    "start": "1510359",
    "end": "1515489"
  },
  {
    "text": "I GP of choice or whatever it might be it could be ibgp as I have here SPF but",
    "start": "1515489",
    "end": "1522149"
  },
  {
    "text": "you're facilitating this equal cost route back up to the V PC and what's new",
    "start": "1522149",
    "end": "1530070"
  },
  {
    "text": "as a very recently is that you can reuse your customer gateways so this was a huge headache in the past when you were",
    "start": "1530070",
    "end": "1536549"
  },
  {
    "text": "facilitating many many many many tunnels you were having to we would give you the",
    "start": "1536549",
    "end": "1541950"
  },
  {
    "text": "same two public IP addresses as the endpoints the tunnels in the region which means you are wasting public IPS",
    "start": "1541950",
    "end": "1548639"
  },
  {
    "text": "for every single VPN connection you were creating that's no longer the case so now every time you create a VPN",
    "start": "1548639",
    "end": "1554519"
  },
  {
    "text": "connection you get unique public endpoints and if you're not seeing that behavior that means you're on a legacy",
    "start": "1554519",
    "end": "1560369"
  },
  {
    "text": "vgw so unfortunately what that means is you need to kill your current vgw and",
    "start": "1560369",
    "end": "1566309"
  },
  {
    "text": "create a new one and attach it and you'll start seeing that behavior so",
    "start": "1566309",
    "end": "1570889"
  },
  {
    "text": "back to missile command so things are",
    "start": "1573469",
    "end": "1579179"
  },
  {
    "text": "still coming down hard and all of these things are starting to stress your bandwidth because not only are they going in and out from the people that",
    "start": "1579179",
    "end": "1585509"
  },
  {
    "text": "are using all these V pcs they have to reach back into your internal network for a lot of the core corporate services",
    "start": "1585509",
    "end": "1591659"
  },
  {
    "text": "that they depend on so name services directory services centralized logging and security all",
    "start": "1591659",
    "end": "1596880"
  },
  {
    "text": "these things are still on your internal network so our next round of evolving",
    "start": "1596880",
    "end": "1603809"
  },
  {
    "text": "design requirements and this is more about centralizing that network connectivity so getting it down to a set",
    "start": "1603809",
    "end": "1611309"
  },
  {
    "text": "number of connections that you manage a steady state in your network footprint and then centralize all the management",
    "start": "1611309",
    "end": "1617070"
  },
  {
    "text": "all the security controls all the access to common services but you know like",
    "start": "1617070",
    "end": "1622320"
  },
  {
    "text": "Andy was talking about this morning he was talking about freedom I don't know if anybody else had Braveheart flashes",
    "start": "1622320",
    "end": "1628260"
  },
  {
    "text": "right so Andy with a big sword all of a sudden but that's what it's about give",
    "start": "1628260",
    "end": "1635490"
  },
  {
    "text": "developers freedom to do what they need to do within their own V pcs but have",
    "start": "1635490",
    "end": "1641280"
  },
  {
    "text": "centralized management of actually what goes in and out of the V PC so now we're",
    "start": "1641280",
    "end": "1646650"
  },
  {
    "text": "moving out to mini 8 FS accounts mini V pcs but we're still in one region so",
    "start": "1646650",
    "end": "1654450"
  },
  {
    "text": "here's the freedom model hub and spoke with peering so we facilitated this by moving up these shared services up into",
    "start": "1654450",
    "end": "1661410"
  },
  {
    "text": "a dedicated hub shared services V PC and we've used V PC peering to peer all of",
    "start": "1661410",
    "end": "1667950"
  },
  {
    "text": "these spoke applications to the centralized hub and this is a one-to-one relationship so peering works within the",
    "start": "1667950",
    "end": "1674190"
  },
  {
    "text": "region it's private IP connectivity from one V PC to another and you'll notice",
    "start": "1674190",
    "end": "1681150"
  },
  {
    "text": "here that we've centralized the network connectivity so there's just one central pipe up and the shared services is the",
    "start": "1681150",
    "end": "1687179"
  },
  {
    "text": "only V PC that has any egress so it's the only one with the IG W and it's the only one with a V PC endpoint so let's",
    "start": "1687179",
    "end": "1698490"
  },
  {
    "text": "zoom in on the hub and one spoke and just see how that looks so here we have",
    "start": "1698490",
    "end": "1704510"
  },
  {
    "text": "up on the Left this book on the right we've created a peering connection",
    "start": "1704510",
    "end": "1710130"
  },
  {
    "text": "between these two but to actually have bits flow between them we need to create routes that actually use this peering",
    "start": "1710130",
    "end": "1715770"
  },
  {
    "text": "connection so here we have on the private subnet in the spoke we've created a private route table for the",
    "start": "1715770",
    "end": "1722400"
  },
  {
    "text": "destination of the specific subnet of the shared services so you can be very specific in what you give at",
    "start": "1722400",
    "end": "1728429"
  },
  {
    "text": "says to over the peering connection it doesn't have to be the entire space of each PPC it can be all the way down to a",
    "start": "1728429",
    "end": "1733619"
  },
  {
    "text": "single host if you want so here it's one subnet but on the opposite end we give them a route for",
    "start": "1733619",
    "end": "1739379"
  },
  {
    "text": "the entire space on the spoke side so now the spoke will be able to reach all the shared services in that subnet and",
    "start": "1739379",
    "end": "1746940"
  },
  {
    "text": "again it's all private connectivity but what about if this spoke wants to reach",
    "start": "1746940",
    "end": "1753029"
  },
  {
    "text": "back into your internal corporate network I can add this route here that says the site or block of your corporate",
    "start": "1753029",
    "end": "1758580"
  },
  {
    "text": "network use the peering connection to get there but when the hub PPC sees it",
    "start": "1758580",
    "end": "1764610"
  },
  {
    "text": "and the hub PPC tries to egress a packet that has a source IP that's not in its",
    "start": "1764610",
    "end": "1771059"
  },
  {
    "text": "cider range it's going to drop it and that's because peering is not transitive so if I here with you and your V PC I am",
    "start": "1771059",
    "end": "1780809"
  },
  {
    "text": "able to communicate with a site or block in that V PC but I'm not able to communicate with any other relationships",
    "start": "1780809",
    "end": "1786269"
  },
  {
    "text": "you have already so I can't go through you to get to anything else that you know about and that's by design so what",
    "start": "1786269",
    "end": "1794759"
  },
  {
    "text": "if we actually have this requirement we want centralized connectivity from edge to edge we want to provide some kind of",
    "start": "1794759",
    "end": "1799980"
  },
  {
    "text": "reach back into our internal network and the most common way to do that is to deploy a proxy so to facilitate HT HTTP",
    "start": "1799980",
    "end": "1808259"
  },
  {
    "text": "communication deploy a proxy and that hub VPC configure the instances to use",
    "start": "1808259",
    "end": "1815039"
  },
  {
    "text": "that proxy and then the proxy itself will terminate that connection from the",
    "start": "1815039",
    "end": "1820889"
  },
  {
    "text": "spoke and turn around and facilitate it now this proxy can be whatever you want it to be it can do security filtering",
    "start": "1820889",
    "end": "1826139"
  },
  {
    "text": "and access control you know whatever that centralized mechanism is but it can function as the you know the turning",
    "start": "1826139",
    "end": "1832830"
  },
  {
    "text": "point between spokes and communication back to your core network and same with",
    "start": "1832830",
    "end": "1839700"
  },
  {
    "text": "leveraging the internet egress or the VPC endpoint to s3 it's the proxy itself",
    "start": "1839700",
    "end": "1845610"
  },
  {
    "text": "is the only one that has routes to all those things so let's do min on that a little bit greater detail acute so you",
    "start": "1845610",
    "end": "1851159"
  },
  {
    "text": "can see how this is built up within the V PC so we're gonna depict the building",
    "start": "1851159",
    "end": "1856859"
  },
  {
    "text": "up of layers but I want to emphasize that you know back to the the core virtual",
    "start": "1856859",
    "end": "1862250"
  },
  {
    "text": "router from the beginning is that all these subnets by default can talk to each other so there they're really flat so the layers depend upon you properly",
    "start": "1862250",
    "end": "1870470"
  },
  {
    "text": "interment you know implementing security groups knackles and route tables to to",
    "start": "1870470",
    "end": "1876230"
  },
  {
    "text": "create these layers so we start with an internal elastic load balancer so this",
    "start": "1876230",
    "end": "1882200"
  },
  {
    "text": "load balancers private IP is only and it's backed by an auto scaling proxy",
    "start": "1882200",
    "end": "1888620"
  },
  {
    "text": "fleet that is the only thing that has the routes out it's the only thing that has public IPS and we have very strict",
    "start": "1888620",
    "end": "1895250"
  },
  {
    "text": "security controls up here so the only thing that can talk to the proxy fleet is the load balancer the only thing that",
    "start": "1895250",
    "end": "1901940"
  },
  {
    "text": "can talk to the load balancer is those spokes that you have deemed the rights to talk to them so in this case this",
    "start": "1901940",
    "end": "1908450"
  },
  {
    "text": "private subnet is configured to use the load balancers it's proxy out you go and back down to an internal network and it",
    "start": "1908450",
    "end": "1919850"
  },
  {
    "text": "would work the same for facilitating access out to public services or the",
    "start": "1919850",
    "end": "1925460"
  },
  {
    "text": "internet or again all the way to s3 through the endpoint now how does that",
    "start": "1925460",
    "end": "1937309"
  },
  {
    "text": "work in Reverse so say you have your operational staff on-site and they need to reach into all these different spokes",
    "start": "1937309",
    "end": "1943640"
  },
  {
    "text": "it's the same process you need to have some kind of jump host Bastion centralized management administration",
    "start": "1943640",
    "end": "1949909"
  },
  {
    "text": "servers that exist in the hub that you can land on and then go on to the spokes so here we see going in landing on the",
    "start": "1949909",
    "end": "1956360"
  },
  {
    "text": "bastion host and then jumping off to the spokes to manage them but you could also facilitate you know the use of the proxy",
    "start": "1956360",
    "end": "1964159"
  },
  {
    "text": "for your your internal staff to so if these desktops and laptops were configured to use the proxy they also",
    "start": "1964159",
    "end": "1971570"
  },
  {
    "text": "could leverage a private connectivity through your V PC endpoint to s3 so a",
    "start": "1971570",
    "end": "1979610"
  },
  {
    "text": "few things to keep in mind with with the freedom model you you need to use I am",
    "start": "1979610",
    "end": "1985880"
  },
  {
    "text": "to restrict the accounts that are running the spokes obviously if those spoke accounts can attach on igw",
    "start": "1985880",
    "end": "1994080"
  },
  {
    "text": "or delete the peering connection you're gonna have problems so you take away all",
    "start": "1994080",
    "end": "1999269"
  },
  {
    "text": "the rights to network control and give that to an Operations role which is the second point so you have a central net",
    "start": "1999269",
    "end": "2007010"
  },
  {
    "text": "ops I am role that you apply to every account so they are the ones that can manage the actual network connectivity",
    "start": "2007010",
    "end": "2013720"
  },
  {
    "text": "make sure you enable 80 of his cloud trail and AWS config for all your accounts so if you haven't do that now",
    "start": "2013720",
    "end": "2021760"
  },
  {
    "text": "cloud trail gives you an audit log of all your API calls so if anything happens it shouldn't be happening at a",
    "start": "2021760",
    "end": "2028039"
  },
  {
    "text": "time that it's not supposed to happen you'll know about it and you can create alarms and generate you know automatic",
    "start": "2028039",
    "end": "2034190"
  },
  {
    "text": "reactions to those alarms and same with alw config it keeps it like a time machine snapshot of changes of all your",
    "start": "2034190",
    "end": "2041870"
  },
  {
    "text": "configurations all the dependencies of all your network components as they change over time and you can see where things change especially when they break",
    "start": "2041870",
    "end": "2050618"
  },
  {
    "text": "so here we are we have a prod have a dev hub and to just illustrate the",
    "start": "2052810",
    "end": "2059750"
  },
  {
    "text": "flexibility appearing I've also created a Data Services hub so this will be like this contains shared data repositories",
    "start": "2059750",
    "end": "2066950"
  },
  {
    "text": "common data bases that are accessed over a lot of different applications and you",
    "start": "2066950",
    "end": "2072830"
  },
  {
    "text": "can see we can have spokes that are appeared with multiple hubs I mean there's no restrictions here and how you use peering and you know the data",
    "start": "2072830",
    "end": "2078919"
  },
  {
    "text": "services hub is going to need name services that exist in the shared services hub over in prod so it's peered",
    "start": "2078919",
    "end": "2084980"
  },
  {
    "text": "with that too so what about accounting",
    "start": "2084980",
    "end": "2090830"
  },
  {
    "text": "for all this traffic now you've got all these hubs and all these accounts and all this network traffic going around",
    "start": "2090830",
    "end": "2097040"
  },
  {
    "text": "how do you enforce that the security controls you've actually set up are working and you know how do you get some",
    "start": "2097040",
    "end": "2103550"
  },
  {
    "text": "semblance of who's talking to who and how much talking they're doing so our",
    "start": "2103550",
    "end": "2110330"
  },
  {
    "text": "next step in evolving design requirements so we want to be able to audit a VP C network security",
    "start": "2110330",
    "end": "2116660"
  },
  {
    "text": "configuration want to validate that what we've configured is actually working we want to be able to analyze all our",
    "start": "2116660",
    "end": "2122420"
  },
  {
    "text": "network usage we want to automate responses to any alarm so when",
    "start": "2122420",
    "end": "2127760"
  },
  {
    "text": "and something goes wrong and we don't expect we want automatic reactions to that and now we're moving into many",
    "start": "2127760",
    "end": "2133640"
  },
  {
    "text": "accounts and many V pcs in many regions so V PC flow logs was launched over the",
    "start": "2133640",
    "end": "2140930"
  },
  {
    "text": "summer this is another new feature that is very similar to net flow if you've",
    "start": "2140930",
    "end": "2146420"
  },
  {
    "text": "used net flow in your data center router infrastructure the key features of flow",
    "start": "2146420",
    "end": "2152210"
  },
  {
    "text": "logs are that's agentless it's nothing on the instance itself that needs to be installed it's enabled at a neon eye",
    "start": "2152210",
    "end": "2158210"
  },
  {
    "text": "level or a subnet level or for the entire V PC itself and all the data is",
    "start": "2158210",
    "end": "2163970"
  },
  {
    "text": "streamed to cloud watch logs so that means you get all of the durability of cloud watch logs but you also get the",
    "start": "2163970",
    "end": "2170840"
  },
  {
    "text": "full feature set so filtering the ability to you know query and search",
    "start": "2170840",
    "end": "2176000"
  },
  {
    "text": "across your logs to create unique metrics based on the data in your logs and then to create alarms from those",
    "start": "2176000",
    "end": "2182270"
  },
  {
    "text": "metrics that can trigger automatic actions and here's just a quick example",
    "start": "2182270",
    "end": "2190369"
  },
  {
    "text": "of what you can do with flow logs so back to our compliance app we take for",
    "start": "2190369",
    "end": "2196220"
  },
  {
    "text": "granted that within a private subnet we should know everything that's going on in private subnet so anything that's",
    "start": "2196220",
    "end": "2201830"
  },
  {
    "text": "outside that scope we want to know about it so any rejects we want to know what those are so we create a flow log group",
    "start": "2201830",
    "end": "2207950"
  },
  {
    "text": "on the rejects it goes into cloud watch",
    "start": "2207950",
    "end": "2212960"
  },
  {
    "text": "logs we quit create a metric filter that",
    "start": "2212960",
    "end": "2217970"
  },
  {
    "text": "filters on all SSH rejects so we want to know if somebody's trying to log in up into our private subnet instances that's",
    "start": "2217970",
    "end": "2223820"
  },
  {
    "text": "not supposed to and create an alarm that says if there's more than 10 of these in",
    "start": "2223820",
    "end": "2229820"
  },
  {
    "text": "an hour do something about it so trigger an SNS SNS is set up to",
    "start": "2229820",
    "end": "2236030"
  },
  {
    "text": "trigger an actual land of function and we create a lambda function that actually takes those rejects and the en",
    "start": "2236030",
    "end": "2243440"
  },
  {
    "text": "eyes that are associated with them grabs the source IP and figures out what the en is for those and and automatically",
    "start": "2243440",
    "end": "2250700"
  },
  {
    "text": "quarantines it so this is without anything that you're doing this is all done automatically and if for whatever",
    "start": "2250700",
    "end": "2256760"
  },
  {
    "text": "reason this source IP is not in your space and it's not Annie and I that the lambda function can account for then",
    "start": "2256760",
    "end": "2263270"
  },
  {
    "text": "wake somebody up there's a there's a",
    "start": "2263270",
    "end": "2270440"
  },
  {
    "text": "really rich partner tool set out there to with flow logs already so this is an",
    "start": "2270440",
    "end": "2276650"
  },
  {
    "text": "example from sumo logic this is their real-time Network dashboard it's all built off of flow logs this is the dome",
    "start": "2276650",
    "end": "2284720"
  },
  {
    "text": "nine one it's actually just coming out of as announced here reinvent this one's",
    "start": "2284720",
    "end": "2290690"
  },
  {
    "text": "really nice it gives a gives kind of a security landscape so it maps out how all your security groups are related to",
    "start": "2290690",
    "end": "2297380"
  },
  {
    "text": "each other and how traffic flows through your system and then gives color-coded indications of Rejects and you can drill",
    "start": "2297380",
    "end": "2302690"
  },
  {
    "text": "down into the details on those rejects and now with recently a law launched",
    "start": "2302690",
    "end": "2309550"
  },
  {
    "text": "elasticsearch service you can build your own very easily in just a few clicks so you can tee off all your data into the",
    "start": "2309550",
    "end": "2319160"
  },
  {
    "text": "last two search cabanas built into it and build your own dashboards so the the blog link there gives you full",
    "start": "2319160",
    "end": "2325160"
  },
  {
    "text": "instructions on how to do that",
    "start": "2325160",
    "end": "2329230"
  },
  {
    "text": "so now we have our hubs you covered how to account for all the communication",
    "start": "2334690",
    "end": "2341920"
  },
  {
    "text": "between the hubs we've got good visibility and our security profiles validating everything's working now we'd",
    "start": "2341920",
    "end": "2348880"
  },
  {
    "text": "like to do something about our bandwidth bandwidth is still increasing",
    "start": "2348880",
    "end": "2354010"
  },
  {
    "text": "we'd like to leverage our corporate network we'd like private connectivity from the AWS regions into our corporate",
    "start": "2354010",
    "end": "2360610"
  },
  {
    "text": "network so this is bringing it all back home and this is where we start talking",
    "start": "2360610",
    "end": "2367300"
  },
  {
    "text": "about mini gigabits per second network traffic between you and AWS you want",
    "start": "2367300",
    "end": "2373300"
  },
  {
    "text": "something more cost-effective than the actual internet out that's being charged for all the VPN tunnels you're running",
    "start": "2373300",
    "end": "2379180"
  },
  {
    "text": "well more predictable latency than the public Internet we'd like to leverage your existing corporate network that you",
    "start": "2379180",
    "end": "2385480"
  },
  {
    "text": "have and now we're in too many accounts many VP sees many regions",
    "start": "2385480",
    "end": "2392640"
  },
  {
    "text": "so this is where Direct Connect comes into play so direct connectors are private fiber",
    "start": "2394590",
    "end": "2401020"
  },
  {
    "text": "service where you literally patch directly into an ABA WS region and",
    "start": "2401020",
    "end": "2406420"
  },
  {
    "text": "there's really only three things you need to remember about Direct Connect three key requirements and one it's a",
    "start": "2406420",
    "end": "2411820"
  },
  {
    "text": "physical plug somebody in a data center has to plug a connection between us and",
    "start": "2411820",
    "end": "2416830"
  },
  {
    "text": "you you need to give us a VLAN tag for every port you create on that connection and you need a BGP peer for every port",
    "start": "2416830",
    "end": "2425170"
  },
  {
    "text": "that you create it's really those three things",
    "start": "2425170",
    "end": "2428880"
  },
  {
    "text": "so just an idea of the cost perspective of ec2 data out versus Direct Connect so",
    "start": "2433030",
    "end": "2440350"
  },
  {
    "text": "you can see here I've done redundant one gigabit per second Direct Connect switch cross there with ec2 data out so at",
    "start": "2440350",
    "end": "2450700"
  },
  {
    "text": "about 10 terabytes a month out data out and then here at about 60 terabytes is",
    "start": "2450700",
    "end": "2458470"
  },
  {
    "text": "where you cross the price threshold of two 10 gigabit per second Direct Connect",
    "start": "2458470",
    "end": "2463900"
  },
  {
    "text": "links now as I stay at the bottom that's us West two data out charges and that",
    "start": "2463900",
    "end": "2468970"
  },
  {
    "text": "does not include telco costs to reach a Direct Connect location if that's required what does that mean that means",
    "start": "2468970",
    "end": "2476130"
  },
  {
    "text": "Direct Connect is something that we establish in large Colo facilities",
    "start": "2476130",
    "end": "2481830"
  },
  {
    "text": "around the world so here's the US and what we do is in these equinoxes or",
    "start": "2481830",
    "end": "2488590"
  },
  {
    "text": "course sides we go in and set up an infrastructure footprint and run private fiber between those coalos and a",
    "start": "2488590",
    "end": "2495370"
  },
  {
    "text": "specific region so each Direct Connect location is only associated with a specific region and",
    "start": "2495370",
    "end": "2500890"
  },
  {
    "text": "you see here we have two Direct Connect locations per region so if you're",
    "start": "2500890",
    "end": "2506680"
  },
  {
    "text": "already in these facilities it's very easy to order Direct Connect it's just it's just a cross connect between you",
    "start": "2506680",
    "end": "2512290"
  },
  {
    "text": "and us but if you're not in those facilities you got to get there so if",
    "start": "2512290",
    "end": "2519250"
  },
  {
    "text": "you're here in Colorado and you want to direct connected at the Oregon region",
    "start": "2519250",
    "end": "2525000"
  },
  {
    "text": "first of all you're gonna be very confused cuz that's not Colorado that's Colorado come on Americans so now",
    "start": "2525000",
    "end": "2538690"
  },
  {
    "text": "that we're in Colorado and we want to facilitate a connection to super nap somebody's got to get us there",
    "start": "2538690",
    "end": "2544560"
  },
  {
    "text": "so here's the rest of the global",
    "start": "2544560",
    "end": "2549790"
  },
  {
    "text": "footprint here and in Europe and Asia Pacific similar story and I get these",
    "start": "2549790",
    "end": "2554800"
  },
  {
    "text": "questions a lot you know I've got MPLS I've got IP VPN I've got Metro Ethernet I've got wave",
    "start": "2554800",
    "end": "2561640"
  },
  {
    "text": "I've got x.25 I've got frame relay I've got pigeon carrier Network that exists Google do you support that",
    "start": "2561640",
    "end": "2569690"
  },
  {
    "text": "and the answer is yes just kind of get the pigeon to land in the right place so",
    "start": "2569690",
    "end": "2575470"
  },
  {
    "text": "all you have to do is get to the directly location so this is very common so you know IP VPN network you have an",
    "start": "2575470",
    "end": "2583070"
  },
  {
    "text": "existing relationship with a telco provider where you're running a private IP VPN cloud so it usually looks like",
    "start": "2583070",
    "end": "2591110"
  },
  {
    "text": "this you've got your customer edge routers and you've got your provider routers and your provider is",
    "start": "2591110",
    "end": "2596690"
  },
  {
    "text": "facilitating the actual routing so at each of your locations you've got some kind of ebgp peering relationship with",
    "start": "2596690",
    "end": "2604220"
  },
  {
    "text": "the provider and they're actually they have some vrf for your network running",
    "start": "2604220",
    "end": "2610220"
  },
  {
    "text": "in their cloud that facilitates all the routing so it's actually a provider in this case that is facilitating the BGP",
    "start": "2610220",
    "end": "2617330"
  },
  {
    "text": "connection with us at the Direct Connect location because they're already there so it's just enabling that point of",
    "start": "2617330",
    "end": "2622640"
  },
  {
    "text": "presence on their network that already exists I will point out here that we've got redundant direct connects so as soon",
    "start": "2622640",
    "end": "2630020"
  },
  {
    "text": "as you run more than one physical Direct Connect line into a region we guarantee",
    "start": "2630020",
    "end": "2635930"
  },
  {
    "text": "that's going to go to distinct geography wise transit centers so as long as the",
    "start": "2635930",
    "end": "2642710"
  },
  {
    "text": "same ADA based account and you create multiple connections they'll go to separate physical facilities and it's",
    "start": "2642710",
    "end": "2653630"
  },
  {
    "text": "similar with like a VPLS so if you have a l2 service and your provider is",
    "start": "2653630",
    "end": "2659480"
  },
  {
    "text": "providing a big broadcast domain for you you know the only difference is who's doing the routing in this case you're",
    "start": "2659480",
    "end": "2668090"
  },
  {
    "text": "gonna have to facilitate that so the EBE BGP session itself will go from you at your customer edge to us the",
    "start": "2668090",
    "end": "2674720"
  },
  {
    "text": "port but that does mean that you're going to have to have unique ports per location that you want to add to Direct",
    "start": "2674720",
    "end": "2680930"
  },
  {
    "text": "Connect so what does that actually look like so here I'm depicting a physical",
    "start": "2680930",
    "end": "2687020"
  },
  {
    "text": "connection itself and how we create multiple ports on a single Direct Connect connection you know across",
    "start": "2687020",
    "end": "2692960"
  },
  {
    "text": "different accounts and different VP sees so here's our first product",
    "start": "2692960",
    "end": "2698839"
  },
  {
    "text": "we've got the unique VLAN tag I talked about that's how we cordon off the l2",
    "start": "2698839",
    "end": "2704400"
  },
  {
    "text": "connection across the pipe keep it separate and distinct for each V PC 7 2",
    "start": "2704400",
    "end": "2710369"
  },
  {
    "text": "2 4 you'll see that a lot that's Amazon's ASN we advertise that for everything the BGP announcement itself",
    "start": "2710369",
    "end": "2718019"
  },
  {
    "text": "will be the site or block of the V PC and the interface IP here I put link local you can you can assign your",
    "start": "2718019",
    "end": "2724109"
  },
  {
    "text": "private IP space so that it's your network space all the way through so on",
    "start": "2724109",
    "end": "2730079"
  },
  {
    "text": "your end you're going to match that tag on your interface you can advertise a",
    "start": "2730079",
    "end": "2736049"
  },
  {
    "text": "public or a private ASN at this point it's a private connection between this single V PC so it doesn't really matter",
    "start": "2736049",
    "end": "2743630"
  },
  {
    "text": "you're going to announce whatever networks you want the V PC to know about and same with the other ones just the",
    "start": "2743809",
    "end": "2751229"
  },
  {
    "text": "only distinct thing is that is that VLAN tag needs to be separate for every port you connect",
    "start": "2751229",
    "end": "2757278"
  },
  {
    "text": "so here's the route table that's now built up on your end and if for example",
    "start": "2762710",
    "end": "2771350"
  },
  {
    "text": "your prod hub wanted to talk to your deaf hub doing a transfer of a database for queuing or something like that you",
    "start": "2771350",
    "end": "2778160"
  },
  {
    "text": "notice before in our other model we didn't have the prod hub peered to dev for very good reasons that traffic would",
    "start": "2778160",
    "end": "2784220"
  },
  {
    "text": "flow down to you and you would facilitate the actual routing back out so there is no routing between VP sees",
    "start": "2784220",
    "end": "2790520"
  },
  {
    "text": "up on our end of the direct connect that would happen on your in now up into this",
    "start": "2790520",
    "end": "2798860"
  },
  {
    "text": "point we've only been talking about private interfaces you can actually create a public interface over Direct",
    "start": "2798860",
    "end": "2804320"
  },
  {
    "text": "Connect to give you access to the public network space in the region and it's actually unique in the u.s. when you",
    "start": "2804320",
    "end": "2811670"
  },
  {
    "text": "create a public interface in the US we actually have our ties out all the public IP space for all the regions in",
    "start": "2811670",
    "end": "2818600"
  },
  {
    "text": "the US so this is a public network so",
    "start": "2818600",
    "end": "2824870"
  },
  {
    "text": "you need to treat it as such so you'd obviously have some security boundary",
    "start": "2824870",
    "end": "2829910"
  },
  {
    "text": "between you and us over the public interface you'd also have to provide some kind of NAP facility for your",
    "start": "2829910",
    "end": "2835610"
  },
  {
    "text": "private network to use this to talk over the public interface",
    "start": "2835610",
    "end": "2841420"
  },
  {
    "text": "so the way this works in the US it makes it a little bit unique because you can tie into one location over Direct",
    "start": "2847970",
    "end": "2855260"
  },
  {
    "text": "Connect and get access to all the regions so here we are we're tied in the US West one through the echo echo next",
    "start": "2855260",
    "end": "2861680"
  },
  {
    "text": "down in San Jose they've accessed direct access to all the resources and that but",
    "start": "2861680",
    "end": "2867110"
  },
  {
    "text": "we also have direct access to the other US regions so if we had buckets for",
    "start": "2867110",
    "end": "2872150"
  },
  {
    "text": "example up in Oregon to access those we go over the direct connect into the a Davis Network and then over our private",
    "start": "2872150",
    "end": "2878930"
  },
  {
    "text": "backbone to the organ region to access your buckets and it's similar if you had",
    "start": "2878930",
    "end": "2885050"
  },
  {
    "text": "for example on the East Coast disaster recovery VPC now what you can't do today",
    "start": "2885050",
    "end": "2890540"
  },
  {
    "text": "is create a private interface in u.s. West one that connects to a V PC in",
    "start": "2890540",
    "end": "2896690"
  },
  {
    "text": "another region so private interfaces still have to connect to VP C's in the same region but you could access public",
    "start": "2896690",
    "end": "2904430"
  },
  {
    "text": "space that's exposed for that V PC so for example the vgw you create a VPN connection to the unique public",
    "start": "2904430",
    "end": "2911330"
  },
  {
    "text": "endpoints for those tunnels and that actual communication will go over our private backbone",
    "start": "2911330",
    "end": "2918520"
  },
  {
    "text": "so a few things to remember about about the 80s Direct Connect and public",
    "start": "2923049",
    "end": "2928369"
  },
  {
    "text": "networks be selective in what you announce to us you don't have to tell us everything you know we tell you",
    "start": "2928369",
    "end": "2934609"
  },
  {
    "text": "everything but that doesn't mean you need to only tell us what you want us to know about through that Direct Connect",
    "start": "2934609",
    "end": "2941239"
  },
  {
    "text": "connection because in the u.s. we're going to re-add ver ties that out to all our other regions so if you have for",
    "start": "2941239",
    "end": "2948619"
  },
  {
    "text": "example other customers and other regions that are running in ec to that access you they're going to know about",
    "start": "2948619",
    "end": "2955549"
  },
  {
    "text": "you from that Direct Connect advertisement so make sure you want them to actually come back down that Direct",
    "start": "2955549",
    "end": "2961160"
  },
  {
    "text": "Connect pipe to reach you because whatever you advertise to us we're gonna use that Direct Connect to reach those",
    "start": "2961160",
    "end": "2966890"
  },
  {
    "text": "networks reach you remember prefix lists from the beginning so you know I have a",
    "start": "2966890",
    "end": "2972920"
  },
  {
    "text": "lot of customers that say I want the public interface but I only want to use it for s3 access how do I do that well",
    "start": "2972920",
    "end": "2980119"
  },
  {
    "text": "the prefix list will tell you what s3 is so you can query the prefix list get the",
    "start": "2980119",
    "end": "2985640"
  },
  {
    "text": "block for s3 and only allow that out over the public interface now obviously",
    "start": "2985640",
    "end": "2992390"
  },
  {
    "text": "keep in mind that like I said the prefix list changes so have some kind of process in place that it's constantly on",
    "start": "2992390",
    "end": "2998239"
  },
  {
    "text": "a regular basis checking that the previous list stays up to date so what",
    "start": "2998239",
    "end": "3004660"
  },
  {
    "text": "we advertise to you is actually available through JSON so you can access it programmatically it has the full list",
    "start": "3004660",
    "end": "3010239"
  },
  {
    "text": "of all of our public IPs and you can also subscribe to an SNS topic to notify",
    "start": "3010239",
    "end": "3016989"
  },
  {
    "text": "you when it when any of those change and that's actually relatively new so going",
    "start": "3016989",
    "end": "3024910"
  },
  {
    "text": "global so now we've got our location in Seattle we're tied into the Oregon",
    "start": "3024910",
    "end": "3030880"
  },
  {
    "text": "region and now we want to bring online the London region so if you've already",
    "start": "3030880",
    "end": "3036579"
  },
  {
    "text": "got your existing MPLS Network this is very easy you're just adding another point on your existing network and so",
    "start": "3036579",
    "end": "3047019"
  },
  {
    "text": "now you have point-to-point connectivity between all these locations but there are a few things a few caveats you",
    "start": "3047019",
    "end": "3053170"
  },
  {
    "text": "should keep in mind when you start tying in multiple regions and the first one is one of those hard requirements I mention in the",
    "start": "3053170",
    "end": "3058740"
  },
  {
    "text": "beginning and that's a hundred routes so the route tables in VPC are limited to a hundred so we won't we won't take",
    "start": "3058740",
    "end": "3066180"
  },
  {
    "text": "anymore so if you have lots of networks on your you know on your cloud on your MPLS cloud lots of prefixes you'll want",
    "start": "3066180",
    "end": "3073650"
  },
  {
    "text": "to summarize those or you'll want your provider to actually give us a default route and in the opposite direction as",
    "start": "3073650",
    "end": "3080790"
  },
  {
    "text": "soon as you start attaching multiple regions you're going to start seeing the Amazon ASN come in from different places",
    "start": "3080790",
    "end": "3086580"
  },
  {
    "text": "that obviously causes some problems for BGP because for example the direct connector out of there in London is",
    "start": "3086580",
    "end": "3092760"
  },
  {
    "text": "gonna see a network come in from its own ASN and BGP by default is going to see",
    "start": "3092760",
    "end": "3100080"
  },
  {
    "text": "that as a routing loop and it's going to drop it so as soon as you bring in multiple regions you're going to have to",
    "start": "3100080",
    "end": "3106680"
  },
  {
    "text": "do a little BGP override so this is where you strip off those essence to",
    "start": "3106680",
    "end": "3112890"
  },
  {
    "text": "allow this communication to be facilitated and allow different regions to talk to each other that have the same",
    "start": "3112890",
    "end": "3119880"
  },
  {
    "text": "ASN over your network so I just gave an example of how you would do that in both",
    "start": "3119880",
    "end": "3125160"
  },
  {
    "text": "Jun Austin Cisco and that's something",
    "start": "3125160",
    "end": "3132120"
  },
  {
    "text": "either you're gonna have to do to the routers facing off to us in the direct connect location or your providers gonna",
    "start": "3132120",
    "end": "3137220"
  },
  {
    "text": "have to do for you so here we are we've",
    "start": "3137220",
    "end": "3143250"
  },
  {
    "text": "got branches and headquarters and regions and everything tied into your existing corporate network everybody's",
    "start": "3143250",
    "end": "3148950"
  },
  {
    "text": "happy and everybody can talk in the end and some of you are saying yet it Rob",
    "start": "3148950",
    "end": "3154710"
  },
  {
    "text": "that's a very pretty picture but I don't actually have a global corporate network",
    "start": "3154710",
    "end": "3160080"
  },
  {
    "text": "backbone is there anything you can do for me so I have lots of customers that are either in the cloud or don't have",
    "start": "3160080",
    "end": "3166770"
  },
  {
    "text": "existing you know global networks that want to still facilitate connections",
    "start": "3166770",
    "end": "3172770"
  },
  {
    "text": "between all three pcs around the regions so cross region network between all V pcs it's our new requirement we want a",
    "start": "3172770",
    "end": "3179670"
  },
  {
    "text": "scalable full mesh IP set Network between all of our V pcs we want minimal",
    "start": "3179670",
    "end": "3185340"
  },
  {
    "text": "operational overhead you want to leverage the AWS Network and not some network that we already have",
    "start": "3185340",
    "end": "3191980"
  },
  {
    "text": "many AWS accounts mini V pcs in many regions so this is what I call the",
    "start": "3191980",
    "end": "3201050"
  },
  {
    "text": "monster mush sorry I had to put one",
    "start": "3201050",
    "end": "3206660"
  },
  {
    "text": "reference in here my mom would get so you're welcome mom you can go back to",
    "start": "3206660",
    "end": "3212480"
  },
  {
    "text": "sort of paying attention so we're gonna bring in Cisco for this and a VPN design",
    "start": "3212480",
    "end": "3221930"
  },
  {
    "text": "framework they pioneered about a decade ago now called dynamic multi-point VPN so cisco offers the cisco services cloud",
    "start": "3221930",
    "end": "3230420"
  },
  {
    "text": "services router on AWS marketplace this is something you can point and click and launch you can bring your own license",
    "start": "3230420",
    "end": "3236480"
  },
  {
    "text": "you can pay pay per hour and it's the full cisco software stack so it's",
    "start": "3236480",
    "end": "3242360"
  },
  {
    "text": "exactly the same as what you would have in your enterprise data centers and like",
    "start": "3242360",
    "end": "3251270"
  },
  {
    "text": "i said this is something that's been around for a long time in the telco circles but for whatever reason it's not something we've talked about a lot as",
    "start": "3251270",
    "end": "3257870"
  },
  {
    "text": "far as cloud interconnectivity so dmvpn is enabled by a few key technologies the",
    "start": "3257870",
    "end": "3264830"
  },
  {
    "text": "first is multi-point GRE so the difference between multi-point GRE and regular GRE is that you don't have to",
    "start": "3264830",
    "end": "3270170"
  },
  {
    "text": "designate a destination and you can facilitate many tunnels over the same virtual interface and the real magic in",
    "start": "3270170",
    "end": "3278210"
  },
  {
    "text": "dmvpn is provided by what we call next hop resolution protocol and we'll talk about exactly what that does for us in",
    "start": "3278210",
    "end": "3284360"
  },
  {
    "text": "the establishment of what we want is dynamic tunnels that we don't have to statically configure and finally IPSec",
    "start": "3284360",
    "end": "3290870"
  },
  {
    "text": "obviously running on top to variety security and encryption for all of our tunnels so here we go",
    "start": "3290870",
    "end": "3300790"
  },
  {
    "text": "dmvpn has gone through a few iterations over the years the latest is called phase 3 so I'm gonna focus in on how",
    "start": "3300790",
    "end": "3306800"
  },
  {
    "text": "phase 3 actually works so here we have our HRP hub running in uswest 2 and we",
    "start": "3306800",
    "end": "3313790"
  },
  {
    "text": "bring up our first spoke so what happens is this spoke is configured to talk to",
    "start": "3313790",
    "end": "3318830"
  },
  {
    "text": "the hub it registers with the hub an association of its physical public IP with its",
    "start": "3318830",
    "end": "3324799"
  },
  {
    "text": "virtual tunnel interface so that the hub actually no now knows how to find it over those it also exchanges routing",
    "start": "3324799",
    "end": "3332059"
  },
  {
    "text": "information at this point so you need to be running some kind of dynamic routing protocol ya GRP if your Cisco shop OSPF",
    "start": "3332059",
    "end": "3338930"
  },
  {
    "text": "BGP they all work as more spokes come up this starts to resemble a very",
    "start": "3338930",
    "end": "3345650"
  },
  {
    "text": "traditional hub-and-spoke network and it actually is at this point so the next",
    "start": "3345650",
    "end": "3350750"
  },
  {
    "text": "hop for all of your routing protocol is going to say the hub itself and the hub itself is going to be the one either",
    "start": "3350750",
    "end": "3357250"
  },
  {
    "text": "rebroadcasting all the network advertisements or broadcasting a summary if that's what you want but what's",
    "start": "3357250",
    "end": "3363530"
  },
  {
    "text": "unique is what happens when spoke one here tries to communicate with spoke to its next hop is the hub itself for the",
    "start": "3363530",
    "end": "3369799"
  },
  {
    "text": "first packet is gonna hit the hub that's going to trigger an NH RP response",
    "start": "3369799",
    "end": "3375020"
  },
  {
    "text": "that's kind of like an ICMP redirect and it's going to tell that spoke there's actually a much better way to get there",
    "start": "3375020",
    "end": "3380450"
  },
  {
    "text": "and here's how you do it so that's called an NH RP redirect so the spoke at",
    "start": "3380450",
    "end": "3386270"
  },
  {
    "text": "that point is going to guess he's gonna say ok I'm gonna create an NH RP request to figure out how this is going to work",
    "start": "3386270",
    "end": "3392270"
  },
  {
    "text": "with the details you've given me which is the details of spoke to so he's gonna",
    "start": "3392270",
    "end": "3397279"
  },
  {
    "text": "send a request packet out to spoke to that's still going to go over the hub traditional networking but spoke to now",
    "start": "3397279",
    "end": "3404630"
  },
  {
    "text": "receives it and initiates a dynamic tunnel build 2 spoke 1 and at the same",
    "start": "3404630",
    "end": "3410270"
  },
  {
    "text": "time they both cache the details of how this was created so it starts to become as this builds up like a peer-to-peer",
    "start": "3410270",
    "end": "3416809"
  },
  {
    "text": "network so at this point if any spoke wants to talk to any other spoke that first packet is going to go through the",
    "start": "3416809",
    "end": "3423440"
  },
  {
    "text": "hub and then after that a dynamic tunnel is going to get built and the networks can talk straight to each other so I",
    "start": "3423440",
    "end": "3433750"
  },
  {
    "text": "know what you're saying now you've seen this movie before this is the point where the hub fails and everybody dies",
    "start": "3433750",
    "end": "3439549"
  },
  {
    "text": "well fortunately in HRP like I've said it's been around for a while and it's",
    "start": "3439549",
    "end": "3446029"
  },
  {
    "text": "got a very robust redundancy and I could spend a whole hour just talking about redundancy models and designs",
    "start": "3446029",
    "end": "3452890"
  },
  {
    "text": "HRP but in here I went with a fairly standard and very simple design is just",
    "start": "3452890",
    "end": "3457990"
  },
  {
    "text": "put in another hub it works the same way you can figure every spoke to talk to",
    "start": "3457990",
    "end": "3463720"
  },
  {
    "text": "two hubs so now they're registered with both so now it's up to your routing",
    "start": "3463720",
    "end": "3469180"
  },
  {
    "text": "protocol itself to determine the ideal path so each spoke is going to see the network the same networks from two",
    "start": "3469180",
    "end": "3476890"
  },
  {
    "text": "different places and this is why I put this hub in a geographically disbursed location because it makes it much easier",
    "start": "3476890",
    "end": "3482440"
  },
  {
    "text": "to make that routing decision if you put the hubs in the same physical location where their network paths are very",
    "start": "3482440",
    "end": "3487930"
  },
  {
    "text": "similar there's still lots of ways to do it there's priorities there's a you know you can set priorities on the hub",
    "start": "3487930",
    "end": "3494020"
  },
  {
    "text": "themselves there's lots of different ways to create in HRP redundancy so I",
    "start": "3494020",
    "end": "3501550"
  },
  {
    "text": "want to emphasize how simple this is you know this is to get around how we used to do hub and spoke or how we used to do",
    "start": "3501550",
    "end": "3508630"
  },
  {
    "text": "full mesh IPSec you know the hub became the bottleneck because he can only support a certain number of spokes and",
    "start": "3508630",
    "end": "3514720"
  },
  {
    "text": "it was a central point of mass communication everything I had to go through the hub and if you're talking",
    "start": "3514720",
    "end": "3519850"
  },
  {
    "text": "about IPSec that means you're decrypting the tunnel and turning around creating another tunnel and in mesh it's the",
    "start": "3519850",
    "end": "3526090"
  },
  {
    "text": "opposite every time you add another point of presence on your mesh you have to go around and touch every end point",
    "start": "3526090",
    "end": "3532150"
  },
  {
    "text": "and create a new interface and new configuration new crypto Maps all that fun dmvpn is dead simple this is",
    "start": "3532150",
    "end": "3539350"
  },
  {
    "text": "literally the entire configuration on the hub for dmvpn and the only difference between this and",
    "start": "3539350",
    "end": "3544390"
  },
  {
    "text": "the other hub is the tunnel interface IP it on the spokes themselves is the same",
    "start": "3544390",
    "end": "3550870"
  },
  {
    "text": "idea the only thing I change is the IP of the tunnel if race itself copy/paste",
    "start": "3550870",
    "end": "3557140"
  },
  {
    "text": "launch new spoke so here we are back in",
    "start": "3557140",
    "end": "3563590"
  },
  {
    "text": "from the beginning bring in regional headquarters branches and with dmvpn the",
    "start": "3563590",
    "end": "3570580"
  },
  {
    "text": "footprints very light so we're talking mobile workforce I have customers who run like Cisco 800 series from their",
    "start": "3570580",
    "end": "3575860"
  },
  {
    "text": "houses and participate in the full IP SEC mesh between all their B pcs and all their corporate networks and points of",
    "start": "3575860",
    "end": "3582130"
  },
  {
    "text": "presence so to end off do something a little fun",
    "start": "3582130",
    "end": "3589470"
  },
  {
    "text": "this does not fit the disclaimer from the beginning my customers are not doing this but I want to emphasize some of the",
    "start": "3590309",
    "end": "3596319"
  },
  {
    "text": "flexibility and the ways that these tools are all put together and hopefully this will give you a few light bulbs to",
    "start": "3596319",
    "end": "3602380"
  },
  {
    "text": "go home with and think about how you can start using a lot of these tools we talked about today so this is using a",
    "start": "3602380",
    "end": "3610359"
  },
  {
    "text": "demo with the echo to interface with your network I'm going to roll the credits to show all the different design",
    "start": "3610359",
    "end": "3616239"
  },
  {
    "text": "requirements that we've gone through and Alexa load my AWS security report here",
    "start": "3616239",
    "end": "3625089"
  },
  {
    "text": "is your AWS flash security briefing for the last 24 hours you have to read alerts from your Oregon",
    "start": "3625089",
    "end": "3631630"
  },
  {
    "text": "production VPC alert number one at 3:46 am a create route API call was issued on",
    "start": "3631630",
    "end": "3638619"
  },
  {
    "text": "the public subnet route table by user Hal 9000 this change was out of the",
    "start": "3638619",
    "end": "3643779"
  },
  {
    "text": "network change management window and was automatically rolled back alert number two at 6:34 p.m. the unauthorized SSH",
    "start": "3643779",
    "end": "3652599"
  },
  {
    "text": "metric was breached ten SSH attempts were made against production database",
    "start": "3652599",
    "end": "3657819"
  },
  {
    "text": "host prod sequel one from a single internal source of IP 150 4.34 dot 21.8",
    "start": "3657819",
    "end": "3665200"
  },
  {
    "text": "the elastic network interface ID for this address has been added to the daily security review list you also have five",
    "start": "3665200",
    "end": "3672519"
  },
  {
    "text": "yellow alerts i've sent all of your yellow alert summaries to your email for review Alexa what is your favorite color",
    "start": "3672519",
    "end": "3681599"
  },
  {
    "text": "Dave I'm afraid I can't answer that Monty Python jokes just don't get the",
    "start": "3681599",
    "end": "3687279"
  },
  {
    "text": "same laughs anymore I also want to open any pop bay doors for you so don't bother asking me you",
    "start": "3687279",
    "end": "3694239"
  },
  {
    "text": "got that fun right yeah what's the worth it is not fun thank you for your time",
    "start": "3694239",
    "end": "3700310"
  },
  {
    "text": "I look forward I look forward to seeing what you build this next year so I have",
    "start": "3700310",
    "end": "3706640"
  },
  {
    "text": "something to talk about next year thank you don't forget your feedbacks Thanks",
    "start": "3706640",
    "end": "3712870"
  }
]