[
  {
    "start": "0",
    "end": "34000"
  },
  {
    "text": "[Music]",
    "start": "650",
    "end": "1010"
  },
  {
    "text": "[Applause]",
    "start": "1010",
    "end": "4088"
  },
  {
    "text": "[Music]",
    "start": "4960",
    "end": "11689"
  },
  {
    "text": "hello",
    "start": "12320",
    "end": "13200"
  },
  {
    "text": "i am anshu a cloud support engineer here",
    "start": "13200",
    "end": "16160"
  },
  {
    "text": "at the aws office in bangalore",
    "start": "16160",
    "end": "18720"
  },
  {
    "text": "today i am going to show you how to",
    "start": "18720",
    "end": "21119"
  },
  {
    "text": "resolve the access denied or invalid",
    "start": "21119",
    "end": "23840"
  },
  {
    "text": "information error received when an aws",
    "start": "23840",
    "end": "27439"
  },
  {
    "text": "identity and access management user or",
    "start": "27439",
    "end": "30080"
  },
  {
    "text": "role tries to assume across account im",
    "start": "30080",
    "end": "32640"
  },
  {
    "text": "role lets get started",
    "start": "32640",
    "end": "35360"
  },
  {
    "start": "34000",
    "end": "100000"
  },
  {
    "text": "to assume the im role in another aws",
    "start": "35360",
    "end": "38079"
  },
  {
    "text": "account",
    "start": "38079",
    "end": "39040"
  },
  {
    "text": "the im user or role in the source",
    "start": "39040",
    "end": "41360"
  },
  {
    "text": "account",
    "start": "41360",
    "end": "42320"
  },
  {
    "text": "which is the account that would assume",
    "start": "42320",
    "end": "43840"
  },
  {
    "text": "the im role",
    "start": "43840",
    "end": "45360"
  },
  {
    "text": "must have the sts assume role permission",
    "start": "45360",
    "end": "48239"
  },
  {
    "text": "simultaneously the trust policy of the",
    "start": "48239",
    "end": "50719"
  },
  {
    "text": "iam role in the destination account",
    "start": "50719",
    "end": "53280"
  },
  {
    "text": "which is the account that allows the",
    "start": "53280",
    "end": "55039"
  },
  {
    "text": "assumption of the im role",
    "start": "55039",
    "end": "56879"
  },
  {
    "text": "must allow the im user or role in the",
    "start": "56879",
    "end": "59760"
  },
  {
    "text": "source account to assume this role",
    "start": "59760",
    "end": "63199"
  },
  {
    "text": "if you use the aws management console to",
    "start": "63199",
    "end": "65680"
  },
  {
    "text": "switch roles then you get the error",
    "start": "65680",
    "end": "68159"
  },
  {
    "text": "invalid information if the correct im",
    "start": "68159",
    "end": "70799"
  },
  {
    "text": "permissions are not present for the user",
    "start": "70799",
    "end": "73760"
  },
  {
    "text": "or if the trust policy of the im role is",
    "start": "73760",
    "end": "76960"
  },
  {
    "text": "not set up correctly",
    "start": "76960",
    "end": "78880"
  },
  {
    "text": "similarly if you use the aws cli to",
    "start": "78880",
    "end": "82320"
  },
  {
    "text": "assume the cross account rule",
    "start": "82320",
    "end": "84320"
  },
  {
    "text": "then you get the error access denied if",
    "start": "84320",
    "end": "86880"
  },
  {
    "text": "the correct impermissions are not",
    "start": "86880",
    "end": "88720"
  },
  {
    "text": "present for the user",
    "start": "88720",
    "end": "90479"
  },
  {
    "text": "or the trust policy of the im role is",
    "start": "90479",
    "end": "93600"
  },
  {
    "text": "not set up correctly",
    "start": "93600",
    "end": "96000"
  },
  {
    "text": "let's work through how to make sure that",
    "start": "96000",
    "end": "98479"
  },
  {
    "text": "you can resolve these issues",
    "start": "98479",
    "end": "100799"
  },
  {
    "start": "100000",
    "end": "177000"
  },
  {
    "text": "after logging into the aws management",
    "start": "100799",
    "end": "102880"
  },
  {
    "text": "console of the source account",
    "start": "102880",
    "end": "105200"
  },
  {
    "text": "navigate to the im console",
    "start": "105200",
    "end": "109039"
  },
  {
    "text": "and choose users",
    "start": "109360",
    "end": "111439"
  },
  {
    "text": "then select the im entity that you want",
    "start": "111439",
    "end": "113759"
  },
  {
    "text": "to assume the cross account role",
    "start": "113759",
    "end": "116880"
  },
  {
    "text": "make sure that this user has the",
    "start": "116880",
    "end": "119280"
  },
  {
    "text": "permission to assume the cross account",
    "start": "119280",
    "end": "121680"
  },
  {
    "text": "role as shown",
    "start": "121680",
    "end": "124320"
  },
  {
    "text": "now",
    "start": "124320",
    "end": "125280"
  },
  {
    "text": "login to the aws management console of",
    "start": "125280",
    "end": "128160"
  },
  {
    "text": "the destination account",
    "start": "128160",
    "end": "130399"
  },
  {
    "text": "navigate to the im console",
    "start": "130399",
    "end": "133680"
  },
  {
    "text": "and then choose roles",
    "start": "133680",
    "end": "136959"
  },
  {
    "text": "select the im role that will be assumed",
    "start": "137040",
    "end": "139680"
  },
  {
    "text": "by the cross account user",
    "start": "139680",
    "end": "142879"
  },
  {
    "text": "navigate to trust relationship tab and",
    "start": "142879",
    "end": "145440"
  },
  {
    "text": "choose edit",
    "start": "145440",
    "end": "147280"
  },
  {
    "text": "make sure that the trust relationship",
    "start": "147280",
    "end": "149520"
  },
  {
    "text": "policy allows the im user from the",
    "start": "149520",
    "end": "152480"
  },
  {
    "text": "source account to assume this role as",
    "start": "152480",
    "end": "155040"
  },
  {
    "text": "shown",
    "start": "155040",
    "end": "156720"
  },
  {
    "text": "if your account is a part of an aws",
    "start": "156720",
    "end": "159440"
  },
  {
    "text": "organization",
    "start": "159440",
    "end": "160720"
  },
  {
    "text": "there can be organization levels",
    "start": "160720",
    "end": "162640"
  },
  {
    "text": "permissions as well",
    "start": "162640",
    "end": "164640"
  },
  {
    "text": "check that the organization service",
    "start": "164640",
    "end": "166480"
  },
  {
    "text": "control policy",
    "start": "166480",
    "end": "167920"
  },
  {
    "text": "allows the sds assume role action",
    "start": "167920",
    "end": "170720"
  },
  {
    "text": "check the service control policies for",
    "start": "170720",
    "end": "172879"
  },
  {
    "text": "any statements that explicitly denies",
    "start": "172879",
    "end": "175680"
  },
  {
    "text": "sts assume role action",
    "start": "175680",
    "end": "178640"
  },
  {
    "start": "177000",
    "end": "274000"
  },
  {
    "text": "to do this navigate to aws organizations",
    "start": "178640",
    "end": "182239"
  },
  {
    "text": "console by typing aws organization into",
    "start": "182239",
    "end": "186480"
  },
  {
    "text": "the search bar",
    "start": "186480",
    "end": "188000"
  },
  {
    "text": "from the left menu choose policies",
    "start": "188000",
    "end": "191120"
  },
  {
    "text": "and then choose service control policies",
    "start": "191120",
    "end": "194239"
  },
  {
    "text": "here you can see the list of saps",
    "start": "194239",
    "end": "196959"
  },
  {
    "text": "present in this organization",
    "start": "196959",
    "end": "199840"
  },
  {
    "text": "to view scp",
    "start": "199840",
    "end": "201680"
  },
  {
    "text": "choose the policy name",
    "start": "201680",
    "end": "203680"
  },
  {
    "text": "for example",
    "start": "203680",
    "end": "205120"
  },
  {
    "text": "the policy that appears here explicitly",
    "start": "205120",
    "end": "207760"
  },
  {
    "text": "denies the action sts assume role",
    "start": "207760",
    "end": "210959"
  },
  {
    "text": "this policy setting will result in an",
    "start": "210959",
    "end": "213440"
  },
  {
    "text": "access denied or invalid information",
    "start": "213440",
    "end": "216080"
  },
  {
    "text": "error",
    "start": "216080",
    "end": "217440"
  },
  {
    "text": "if the policy denies the sds assume role",
    "start": "217440",
    "end": "220480"
  },
  {
    "text": "action",
    "start": "220480",
    "end": "221360"
  },
  {
    "text": "then detach the scp from the member",
    "start": "221360",
    "end": "224840"
  },
  {
    "text": "accounts to do this",
    "start": "224840",
    "end": "227120"
  },
  {
    "text": "select the aws accounts option from the",
    "start": "227120",
    "end": "229440"
  },
  {
    "text": "left menu",
    "start": "229440",
    "end": "230879"
  },
  {
    "text": "now",
    "start": "230879",
    "end": "231680"
  },
  {
    "text": "select the member account where you want",
    "start": "231680",
    "end": "233920"
  },
  {
    "text": "to detach the scp",
    "start": "233920",
    "end": "236239"
  },
  {
    "text": "scroll down at the bottom",
    "start": "236239",
    "end": "238159"
  },
  {
    "text": "and select the policies tab",
    "start": "238159",
    "end": "241120"
  },
  {
    "text": "here",
    "start": "241120",
    "end": "242319"
  },
  {
    "text": "you can see all the service control",
    "start": "242319",
    "end": "244480"
  },
  {
    "text": "policies attached to this account",
    "start": "244480",
    "end": "247360"
  },
  {
    "text": "to detach a policy select the scp that",
    "start": "247360",
    "end": "250640"
  },
  {
    "text": "denies sts assume role action",
    "start": "250640",
    "end": "253760"
  },
  {
    "text": "and then select detach",
    "start": "253760",
    "end": "256239"
  },
  {
    "text": "a caution message pops up to detach the",
    "start": "256239",
    "end": "258959"
  },
  {
    "text": "policy choose detach",
    "start": "258959",
    "end": "261759"
  },
  {
    "text": "the sap is now detached from the account",
    "start": "261759",
    "end": "265600"
  },
  {
    "text": "after the correct permission policy is",
    "start": "265600",
    "end": "267840"
  },
  {
    "text": "applied the user can assume the cross",
    "start": "267840",
    "end": "270400"
  },
  {
    "text": "account role from the aws management",
    "start": "270400",
    "end": "273199"
  },
  {
    "text": "console",
    "start": "273199",
    "end": "274400"
  },
  {
    "start": "274000",
    "end": "328000"
  },
  {
    "text": "to verify this log in to the aws account",
    "start": "274400",
    "end": "277520"
  },
  {
    "text": "using the im user that wants to assume",
    "start": "277520",
    "end": "280320"
  },
  {
    "text": "the cross account role",
    "start": "280320",
    "end": "282479"
  },
  {
    "text": "now choose the user name from the top",
    "start": "282479",
    "end": "284960"
  },
  {
    "text": "right in the navigation bar",
    "start": "284960",
    "end": "286880"
  },
  {
    "text": "and then select switch role",
    "start": "286880",
    "end": "289840"
  },
  {
    "text": "enter the account number of the",
    "start": "289840",
    "end": "291680"
  },
  {
    "text": "destination account and the role name",
    "start": "291680",
    "end": "294400"
  },
  {
    "text": "that the user will assume the display",
    "start": "294400",
    "end": "296960"
  },
  {
    "text": "name field is automatically populated",
    "start": "296960",
    "end": "300479"
  },
  {
    "text": "you can leave this field as it is or",
    "start": "300479",
    "end": "303280"
  },
  {
    "text": "enter a custom name",
    "start": "303280",
    "end": "305520"
  },
  {
    "text": "here",
    "start": "305520",
    "end": "306560"
  },
  {
    "text": "make sure that the correct details are",
    "start": "306560",
    "end": "308720"
  },
  {
    "text": "entered as shown",
    "start": "308720",
    "end": "310400"
  },
  {
    "text": "otherwise",
    "start": "310400",
    "end": "311600"
  },
  {
    "text": "you will get the infrared information",
    "start": "311600",
    "end": "313280"
  },
  {
    "text": "error",
    "start": "313280",
    "end": "315680"
  },
  {
    "text": "to assume a cross account role from the",
    "start": "317039",
    "end": "319520"
  },
  {
    "text": "cli",
    "start": "319520",
    "end": "320720"
  },
  {
    "text": "run the command from aws cli as shown",
    "start": "320720",
    "end": "325840"
  },
  {
    "text": "thanks for watching and happy cloud",
    "start": "327440",
    "end": "329520"
  },
  {
    "start": "328000",
    "end": "343000"
  },
  {
    "text": "computing from all of us here at aws",
    "start": "329520",
    "end": "332450"
  },
  {
    "text": "[Music]",
    "start": "332450",
    "end": "333490"
  },
  {
    "text": "[Applause]",
    "start": "333490",
    "end": "335960"
  },
  {
    "text": "[Music]",
    "start": "335960",
    "end": "341759"
  },
  {
    "text": "you",
    "start": "341759",
    "end": "343840"
  }
]