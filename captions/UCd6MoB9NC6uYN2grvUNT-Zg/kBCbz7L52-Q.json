[
  {
    "start": "0",
    "end": "21000"
  },
  {
    "text": "JASON BUBOLZ: Hola a todos. Parece que ya vamos a comenzar. Mi nombre es Jason Bubolz y soy Security Consultant \nen iSEC Partners,",
    "start": "1500",
    "end": "7399"
  },
  {
    "text": "una división del grupo NCC. Y hoy estamos aquí para hablar un poco \nsobre la configuración de la VPC,",
    "start": "7400",
    "end": "13000"
  },
  {
    "text": "estrategias de control de acceso y cómo auditar las políticas para asegurarse de que está realizando\n una configuración de privilegios mínimos.",
    "start": "13000",
    "end": "22599"
  },
  {
    "start": "21000",
    "end": "85000"
  },
  {
    "text": "Ustedes son una audiencia \nbastante diferente para mí. Normalmente, estoy hablando con personas\n a las que les encanta dañar el software",
    "start": "22600",
    "end": "28100"
  },
  {
    "text": "y probablemente estén ejecutando algún\n tipo de Femtocell en la audiencia para robar de mi teléfono celular. Entonces es bueno no tener\n que preocuparse por eso.",
    "start": "28100",
    "end": "35800"
  },
  {
    "text": "iSEC Partners es una firma de \npruebas de seguridad de aplicaciones, y estamos viendo \ncada vez más a los clientes",
    "start": "35800",
    "end": "43900"
  },
  {
    "text": "acercarse a nosotros para\n probar sus aplicaciones quienes también quieren que analicemos las\n plataformas que están configurando en AWS.",
    "start": "43900",
    "end": "51000"
  },
  {
    "text": "Un par de años atrás, hice mi primera revisión \nde configuración de AWS, y como un buen Pentester cualquiera,",
    "start": "51000",
    "end": "57200"
  },
  {
    "text": "leí alocadamente un montón\n de documentación unos días antes del compromiso para aprender todas las cosas\n interesantes sobre cómo proteger AWS.",
    "start": "57200",
    "end": "66000"
  },
  {
    "text": "Llegué donde el cliente y descubrí que básicamente \ntenían algunas instancias clásicas EC2 que se ejecutaban en un solo\n grupo de seguridad, abierto al mundo,",
    "start": "66000",
    "end": "72900"
  },
  {
    "text": "y me dieron credenciales \nde raíz para hacer mi auditoría. (Risas del público)\nEntonces, hemos comenzado \na unirnos y estandarizar",
    "start": "72900",
    "end": "81800"
  },
  {
    "text": "lo que es una revisión \nde configuración de AWS. Entonces, si vamos \na revisar su configuración,",
    "start": "81800",
    "end": "88500"
  },
  {
    "start": "85000",
    "end": "124000"
  },
  {
    "text": "¿qué estamos buscando? Primero vamos a comenzar \ncon las mejores prácticas de IAM. ¿Está administrando sus cuentas\n de usuario correctamente",
    "start": "88500",
    "end": "95200"
  },
  {
    "text": "dentro de la nube? Luego, comenzaremos a \nrevisar su acceso a la red, grupos de seguridad \ny ACL de red, obviamente,",
    "start": "95200",
    "end": "102800"
  },
  {
    "text": "y también si está usando subredes y cualquier tipo de gateways\npara tratar de aislarlas; también revisaremos esa configuración.",
    "start": "102800",
    "end": "109200"
  },
  {
    "text": "Si está utilizando otros servicios de \nAWS, entraremos en los detalles y nos aseguraremos de que sus\n configuraciones de seguridad",
    "start": "109200",
    "end": "114700"
  },
  {
    "text": "coincidan con lo que debe estar, \nsegún la documentación estándar y también simplemente, por sentido común.",
    "start": "114700",
    "end": "121500"
  },
  {
    "text": "Luego, también vamos a \nanalizar sus políticas de registro. Vemos lo mismo una y otra vez:",
    "start": "121500",
    "end": "128399"
  },
  {
    "text": "Lo primero es que un \ncliente pone sus instancias en el contenedor de seguridad\n incorrecto, la subred incorrecta,",
    "start": "128400",
    "end": "134700"
  },
  {
    "text": "el grupo de seguridad equivocado, y esos grupos tienen ACL muy permisivas. Por lo tanto, están abiertos a Internet,",
    "start": "134700",
    "end": "141500"
  },
  {
    "text": "no están reforzados en absoluto. Si el cliente está implementando\n en múltiples regiones,",
    "start": "141500",
    "end": "146700"
  },
  {
    "text": "con frecuencia esas regiones no coinciden. Es posible que hayan hecho un \ngran trabajo asegurando una región, pero la próxima región \nen la que implementaron",
    "start": "146700",
    "end": "153400"
  },
  {
    "text": "simplemente está abierta por defecto, nadie lo ha notado todavía, excepto que las dos regiones \nestán hablando entre sí.",
    "start": "153400",
    "end": "159000"
  },
  {
    "text": "También, hay interfaces \nadministrativas mal administradas. Muchos clientes intentan \nconfigurar hosts bastión",
    "start": "159000",
    "end": "166800"
  },
  {
    "text": "para proteger SSH o RDP, \nexcepto mientras hacen ese diseño, y lo dejan abierto a todos \nlos hosts dentro de la VPC.",
    "start": "166800",
    "end": "174900"
  },
  {
    "text": "A nivel de aplicación, lo más común que vemos \nes material secreto filtrado. Las claves de acceso, \nlas claves de cifrado,",
    "start": "174900",
    "end": "181599"
  },
  {
    "text": "cosas que no quiere que tenga un atacante, están ubicadas en un bucket, \nen su código fuente,",
    "start": "181600",
    "end": "187600"
  },
  {
    "text": "en la configuración, y podemos \nllegar a ellas muy fácilmente. Eso generalmente es \nimpulsado por el hecho",
    "start": "187600",
    "end": "193700"
  },
  {
    "text": "de que la mayoría de los clientes conceden\n demasiado acceso a sus usuarios, y asignan derechos administrativos\n a los procesos automatizados,",
    "start": "193700",
    "end": "202200"
  },
  {
    "text": "como los procesos de DevOps. Si está implementando en \npruebas o en ensayo \nen la misma VPC que producción,",
    "start": "202200",
    "end": "209099"
  },
  {
    "text": "lo cual sucede con frecuencia, muchos clientes no piensan en \nlos diferentes niveles de seguridad que son necesarios para \nesos dos sistemas diferentes.",
    "start": "209100",
    "end": "216299"
  },
  {
    "text": "Finalmente, si se está implementando \nen AWS en este momento y no ha habilitado CloudTrail,",
    "start": "216300",
    "end": "221500"
  },
  {
    "text": "vaya a casa y hágalo ahora  porque cuando tiene \nuna respuesta a un incidente, estará increíblemente \nfeliz de haberlo hecho.",
    "start": "221500",
    "end": "228200"
  },
  {
    "start": "227000",
    "end": "250000"
  },
  {
    "text": "Entonces, vamos a hablar un poco sobre\n cuáles son los provilegios mínimos desde la perspectiva del Pentester",
    "start": "228200",
    "end": "233700"
  },
  {
    "text": "y luego profundizaremos en \ntratar de diseñar una nube virtual que cumpla con nuestros requisitos.",
    "start": "233700",
    "end": "239600"
  },
  {
    "text": "Hablaremos sobre lo que auditaríamos si tuviéramos que entrar y analizarlo, y por último, hablaremos",
    "start": "239600",
    "end": "244799"
  },
  {
    "text": "sobre diferentes estrategias \ny herramientas que puede usar para hacer este tipo de \ncosas por su propia cuenta.",
    "start": "244800",
    "end": "251100"
  },
  {
    "text": "Podríamos entrar en una definición teórica sobre qué son privilegios mínimos, \npero no creo que nos sirva de mucho.",
    "start": "251100",
    "end": "258100"
  },
  {
    "text": "Entonces vamos a usar solo \nuna definición que funciona. El objetivo es dar suficiente \nacceso a los actores,",
    "start": "258100",
    "end": "264600"
  },
  {
    "text": "usuarios y equipos, para que puedan hacer el \ntrabajo que necesitan hacer,",
    "start": "264600",
    "end": "270100"
  },
  {
    "text": "pero no más que eso. La razón por la que intentamos hacer esto es que si alguna vez está bajo un ataque, quiere limitar el daño potencial.",
    "start": "270100",
    "end": "279099"
  },
  {
    "start": "278000",
    "end": "358000"
  },
  {
    "text": "Entonces, volviendo a \nnuestros errores comunes, repasemos algunos de ellos. Considere la idea de \ninstancias EC2 mal ubicadas:",
    "start": "279100",
    "end": "287000"
  },
  {
    "text": "ha hecho una gran cantidad de trabajo para crear dos grupos \nde seguridad diferentes que van a dar a un web \nservice salida a Internet",
    "start": "287000",
    "end": "293900"
  },
  {
    "text": "mientras aún protege \nla conexión SSH y la limita a su propia red corporativa, excepto si usted entra \ny mira cuál es la configuración,",
    "start": "293900",
    "end": "300100"
  },
  {
    "text": "descubre que el motivo por el que ha \nestado funcionando todo este tiempo es que están ubicados en un \ngrupo de seguridad por defecto, que está simplemente abierto a Internet.",
    "start": "300100",
    "end": "306000"
  },
  {
    "text": "Así, desde la perspectiva \nde privilegios mínimos, todos los usuarios ahora tienen \nacceso a sus interfaces administrativas.",
    "start": "306000",
    "end": "314199"
  },
  {
    "text": "Si hablamos de fugas de credenciales un patrón muy común, es que\n se tienen algunos procesos de DevOps",
    "start": "314200",
    "end": "321400"
  },
  {
    "text": "que están enviando código a la VPC, configurando las instancias,",
    "start": "321400",
    "end": "326700"
  },
  {
    "text": "y no está muy seguro de lo \nque ese código necesita para hacer su trabajo. Entonces, le da una \ngran cantidad de acceso",
    "start": "326700",
    "end": "333600"
  },
  {
    "text": "y pone las claves AWS en una \nespecie de bolsa de datos",
    "start": "333600",
    "end": "338800"
  },
  {
    "text": "dentro de un bucket S3. Pero ahora, todos los usuarios\n tienen acceso de lectura completa a S3,",
    "start": "338800",
    "end": "344200"
  },
  {
    "text": "a todos sus buckets. Entonces una de esas \ncuentas se ve afectada. Debido a que tienen tanto \nacceso a S3 que no necesitan,",
    "start": "344200",
    "end": "351300"
  },
  {
    "text": "de repente, un atacante obtiene derechos\n completos del IAM de su sistema y puede escribir cualquier\n política que quiera.",
    "start": "351300",
    "end": "358900"
  },
  {
    "start": "358000",
    "end": "394000"
  },
  {
    "text": "Un par de cosas para las personas que aún no tienen \nmucha experiencia con VPC: si ha trabajado en EC2 clásico,",
    "start": "358900",
    "end": "365599"
  },
  {
    "text": "una de las cosas más \nimportantes que la VPC brinda desde una perspectiva \nde controles de acceso,",
    "start": "365600",
    "end": "371900"
  },
  {
    "text": "es que da la capacidad de \nsegmentar y aislar sus instancias. Puede tener instancias que solo acceden",
    "start": "371900",
    "end": "379500"
  },
  {
    "text": "dentro de una red privada \nque no está en Internet, y luego puede controlar \nel acceso entre subredes",
    "start": "379500",
    "end": "385300"
  },
  {
    "text": "algo así como lo haría dentro \nde una red corporativa tradicional, excepto que le da una plataforma poderosa",
    "start": "385300",
    "end": "391400"
  },
  {
    "text": "para construir aplicaciones. Entonces, vamos a llevar esto \na una compañía de ejemplo",
    "start": "391400",
    "end": "399300"
  },
  {
    "text": "y como soy de Seattle, el objetivo de la compañía es crear\n un planificador de menú en línea",
    "start": "399300",
    "end": "404600"
  },
  {
    "text": "para el tipo de fiestas gastronómicas donde todos los amigos tienen \nalergias alimentarias que compiten.",
    "start": "404600",
    "end": "410400"
  },
  {
    "text": "Entonces, es una compañía típica. Tenemos algunos grupos \nque no tienen por qué acceder a AWS Config, como el \nequipo de administración y de ventas,",
    "start": "410400",
    "end": "419400"
  },
  {
    "text": "pero luego tenemos \nun par de grupos diferentes que están todos en \noperaciones e ingeniería, y todos tienen diferentes necesidades",
    "start": "419400",
    "end": "427100"
  },
  {
    "text": "cuando se trata de acceder \na la configuración de AWS. La arquitectura va a ser bastante sencilla.",
    "start": "427100",
    "end": "434500"
  },
  {
    "start": "431000",
    "end": "488000"
  },
  {
    "text": "Tenemos una interfaz de \nusuario web que será respaldada por una capa orientada al servicio para que pueda expandirse fácilmente.",
    "start": "434500",
    "end": "440900"
  },
  {
    "text": "Eso está respaldado por \nuna base de datos MySQL, porque queremos administrar \nnuestros datos nosotros mismos.",
    "start": "440900",
    "end": "446800"
  },
  {
    "text": "También tenemos un equipo de analítica que quiere hacer algo de minería\n de datos en la información recopilada.",
    "start": "446800",
    "end": "454300"
  },
  {
    "text": "Entonces, tenemos un ETL estándar que se va a deshacer de \ncierta información confidencial, cambiar el esquema y \ncolocarlo en un nuevo host",
    "start": "454300",
    "end": "461600"
  },
  {
    "text": "que el equipo de BI puede \nusar con sus herramientas. También vamos a utilizar tres\n servicios diferentes de AWS.",
    "start": "461600",
    "end": "466700"
  },
  {
    "text": "Vamos a usar S3 para almacenar \nnuestros datos de configuración y también algo de almacenamiento temporal\n de datos para la capa de aplicación.",
    "start": "466700",
    "end": "473800"
  },
  {
    "text": "Vamos a crear administración \nde sesiones con DynamoDB, porque podemos extraer una \nbiblioteca para eso de forma gratuita,",
    "start": "473800",
    "end": "478900"
  },
  {
    "text": "y luego también estamos \ntrabajando en una aplicación móvil, entonces tenemos dos temas \ndiferentes que queremos usar",
    "start": "478900",
    "end": "485699"
  },
  {
    "text": "con SNS desde la capa de la aplicación. Entonces, lo primero que \ndebemos hacer es definir",
    "start": "485700",
    "end": "492000"
  },
  {
    "text": "cómo queremos crear nuestra red. Si estamos tratando de \naplicar privilegios mínimos",
    "start": "492000",
    "end": "497800"
  },
  {
    "start": "495000",
    "end": "592000"
  },
  {
    "text": "en la capa de red, tenemos que ser capaces de clasificar\n nuestros diferentes componentes,",
    "start": "497800",
    "end": "503099"
  },
  {
    "text": "entender cómo necesitamos \nacceder a ellos, cuál necesita hablar con cuál y en qué clasificación de datos",
    "start": "503100",
    "end": "510400"
  },
  {
    "text": "van a funcionar estos componentes. Entonces, tenemos herramientas \ncomo nuestras subredes, ACL de red,",
    "start": "510400",
    "end": "516699"
  },
  {
    "text": "tenemos diferentes tipos de \ngateways que podemos crear e incluso podemos usar cosas \ncomo NAT y Elastic Load Balancing",
    "start": "516700",
    "end": "523099"
  },
  {
    "text": "para tratar de aislar el \nacceso desde el exterior.",
    "start": "523100",
    "end": "529000"
  },
  {
    "text": "Entonces primero, \nvolvamos a Monkeybuffer e intentemos clasificar \nnuestros componentes.",
    "start": "529000",
    "end": "536100"
  },
  {
    "text": "Entonces, el Admin Jump \nHost es bastante fácil, se ubica en el mismo espacio, debe ser accesible desde Internet,",
    "start": "536100",
    "end": "542300"
  },
  {
    "text": "pero tal vez no desde todo Internet. Tenemos esta Data Warehouse \nque debe ser accesible",
    "start": "542300",
    "end": "549500"
  },
  {
    "text": "por el equipo de inteligencia de negocios y tiene un nivel de datos \ndiferente al de la capa de datos,",
    "start": "549500",
    "end": "556500"
  },
  {
    "text": "y el host ETL de hecho tendrá \nel PII (Información personal) de clientes; pero no queremos poner \neso en el Data Warehouse,",
    "start": "556500",
    "end": "564900"
  },
  {
    "text": "Entonces, vamos a separar \nesos componentes y parece razonable poner el \nhost ETL con la capa de datos",
    "start": "564900",
    "end": "571200"
  },
  {
    "text": "ya que tiene acceso completo\n al esquema de todos modos. También tenemos la interfaz \nweb y la capa de aplicación,",
    "start": "571200",
    "end": "577700"
  },
  {
    "text": "podemos separarlos, pero también\n estamos pensando que más tarde queremos exponer la capa del servicio web",
    "start": "577700",
    "end": "583600"
  },
  {
    "text": "a la aplicación móvil. Entonces tal vez tiene sentido, ya que operan en el mismo nivel de datos,",
    "start": "583600",
    "end": "588700"
  },
  {
    "text": "ponerlos en el mismo espacio de red. Como ejemplo, se nos ocurre \neste tipo de diagrama de red",
    "start": "588700",
    "end": "597500"
  },
  {
    "start": "592000",
    "end": "651000"
  },
  {
    "text": "en el que decidimos \nponer cuatro subredes y estamos ocultando nuestra \ninterfaz web y capa de aplicación",
    "start": "597500",
    "end": "604300"
  },
  {
    "text": "mediante el ELB expuesto a internet y usándolo para enrutar el tráfico",
    "start": "604300",
    "end": "611000"
  },
  {
    "text": "en una subred privada en nuestra VPC. También necesitamos poder brindarle acceso a Amazon a las dos capas de web,",
    "start": "611000",
    "end": "618800"
  },
  {
    "text": "lo cual podemos hacer \nenrutándolas a través de un NAT que está en nuestra gateway pública en lugar de ponerlas \ndirectamente en Internet.",
    "start": "618800",
    "end": "626899"
  },
  {
    "text": "El administrador de host \ndebe estar en Internet, y entonces lo ponemos \nen una subred pública.",
    "start": "626900",
    "end": "632400"
  },
  {
    "text": "También creamos una subred\n para el Data Warehouse. En lugar de darle\nacceso directo a Internet,",
    "start": "632400",
    "end": "638899"
  },
  {
    "text": "usamos la conexión VPN que se va a conectar con nuestra empresa y de esa manera, el equipo \nde BI puede acceder a él",
    "start": "638900",
    "end": "645100"
  },
  {
    "text": "sin tener que preocuparnos de que\n sea accedido por otras personas.",
    "start": "645100",
    "end": "652500"
  },
  {
    "start": "651000",
    "end": "692000"
  },
  {
    "text": "Entonces, cuando intentamos construir\n la red con privilegios mínimos, asegúrese de estar \nusando las ACL de la red.",
    "start": "652500",
    "end": "659000"
  },
  {
    "text": "Son un firewall sin estado y sí tiene que abrir el gran rango de puertos \nefímeros en ambas direcciones,",
    "start": "659000",
    "end": "665800"
  },
  {
    "text": "las ACL de red brindan una manera de \nproteger los puertos de rango bajo y también para elegir detalladamente \nlos puertos en ese espacio abierto.",
    "start": "665800",
    "end": "674000"
  },
  {
    "text": "Si está bajo un ataque \nde denegación de servicio, si tiene algunos agentes \nde escucha RPC específicos que no quiere que sean\n accesibles por Internet,",
    "start": "674000",
    "end": "681100"
  },
  {
    "text": "las ACL de red pueden \nayudarlo a hacer eso, y son una herramienta importante \npara la defensa profunda, ",
    "start": "681100",
    "end": "686300"
  },
  {
    "text": "de las cuales vemos generalmente\nlas reglas predeterminadas que se ven en la parte inferior.",
    "start": "686300",
    "end": "693500"
  },
  {
    "start": "692000",
    "end": "744000"
  },
  {
    "text": "Entonces, cuando se trata de revisar la configuración de red, ¿qué es lo que analizamos?",
    "start": "693500",
    "end": "699600"
  },
  {
    "text": "Nuevamente, lo primero \nque estamos buscando es: ¿está implementado en \nlas regiones en las que se espera?",
    "start": "699600",
    "end": "705899"
  },
  {
    "text": "y ¿esas regiones \ncoinciden y tienen sentido? Obviamente, para algunas aplicaciones las regiones van a tener \ndiferentes configuraciones",
    "start": "705900",
    "end": "712800"
  },
  {
    "text": "porque se están entregando\n diferentes servicios. Pero, ¿tienen la misma\n política de seguridad",
    "start": "712800",
    "end": "718500"
  },
  {
    "text": "que está tratando de \nconfigurar en todo el mundo? ¿Las diferentes tecnologías de red",
    "start": "718500",
    "end": "724500"
  },
  {
    "text": "cumplen con el diseño previsto? Y ¿están las ACLs de red configuradas?",
    "start": "724500",
    "end": "731200"
  },
  {
    "text": "Por último, si está alojando\n infraestructura paralela dentro de la VPC, ¿ha pensado cuáles \nson los diferentes niveles",
    "start": "731200",
    "end": "737800"
  },
  {
    "text": "de acceso implicados? y ¿puedo entrar a través \nde un entorno de pruebas y acceder a la red de producción?",
    "start": "737800",
    "end": "745400"
  },
  {
    "text": "Después de que hemos creado una red, necesitamos comenzar \na aplicar instancias EC2",
    "start": "745400",
    "end": "751399"
  },
  {
    "text": "y debemos pensar en privilegios para ellos. Cuando estamos revisando y \nanalizando nuestras instancias EC2,",
    "start": "751400",
    "end": "759500"
  },
  {
    "text": "necesitamos pensar qué componentes de la aplicación se ejecutan sobre ellas y cómo se supone que se deben comunicar.",
    "start": "759500",
    "end": "765600"
  },
  {
    "text": "Además, tenemos que pensar también en cómo van a acceder \na los servicios de AWS.",
    "start": "765600",
    "end": "770700"
  },
  {
    "text": "Entonces, hemos hablado sobre \ntécnicas de aislamiento de red, y obviamente, hay técnicas \nespecíficas de aplicación",
    "start": "770700",
    "end": "775800"
  },
  {
    "text": "que se van a emplear. Dentro de la VPC, tenemos grupos \nde seguridad y tenemos roles de IAM.",
    "start": "775800",
    "end": "785600"
  },
  {
    "text": "Entonces, hagamos un repaso rápido; los grupos de seguridad \nson un firewall con estado, pero una de sus \npropiedades más interesantes",
    "start": "785600",
    "end": "793000"
  },
  {
    "text": "es que cada instancia \npuede tener hasta cinco y si lee la documentación, esto se hace para que pueda tener",
    "start": "793000",
    "end": "799500"
  },
  {
    "text": "un gran número de reglas de red \npara cada una de sus instancias EC2,",
    "start": "799500",
    "end": "805200"
  },
  {
    "text": "pero las reglas entre \nellos se agregan permisivamente. No hay reglas negativas (deny)\nen grupos de seguridad. Entonces, si una regla \nle da un poco de acceso",
    "start": "805200",
    "end": "812600"
  },
  {
    "text": "y otra regla le da acceso completo, el resultado de unirlos \nes un acceso completo.",
    "start": "812600",
    "end": "819300"
  },
  {
    "start": "819000",
    "end": "859000"
  },
  {
    "text": "Entonces, la típica configuración \nde grupo de seguridad que vemos agrupa todo en uno o \ndos grupos de seguridad.",
    "start": "819300",
    "end": "828700"
  },
  {
    "text": "Si pensamos en Monkeybuffer, en realidad podemos hacerlo, es una aplicación bastante simple. Digamos que estábamos permitiendo SSH",
    "start": "828700",
    "end": "836200"
  },
  {
    "text": "para todo menos en el Admin \nJump Host en algún puerto, en realidad podríamos \nunir todo el acceso.",
    "start": "836200",
    "end": "842199"
  },
  {
    "text": "Aunque esto es fácil de \ncopiar entre las regiones, es increíblemente frágil porque de repente,",
    "start": "842200",
    "end": "847900"
  },
  {
    "text": "llega un nuevo requerimiento. Supongamos que está ejecutando un host\n de base de datos en la interfaz web",
    "start": "847900",
    "end": "853300"
  },
  {
    "text": "como también para el almacenamiento\n local, y ahora no puede protegerlo,",
    "start": "853300",
    "end": "859899"
  },
  {
    "start": "859000",
    "end": "903000"
  },
  {
    "text": "entonces puede mejorarlo un poco y el siguiente paso que generalmente vemos",
    "start": "859900",
    "end": "865000"
  },
  {
    "text": "es un grupo de seguridad \npor rol dentro de la red.",
    "start": "865000",
    "end": "870200"
  },
  {
    "text": "De esta manera, es \nrelativamente fácil de copiar y también permite usar \nlos grupos de seguridad",
    "start": "870200",
    "end": "877000"
  },
  {
    "text": "como fuente y destino\n dentro de sus reglas. Pero se vuelve realmente\n difícil entender por qué",
    "start": "877000",
    "end": "884300"
  },
  {
    "text": "seis meses después, porque tiene un grupo con una gran cantidad de reglas, y ahora, de repente, \nnecesita hacer un cambio",
    "start": "884300",
    "end": "890600"
  },
  {
    "text": "porque cambió los servicios que\n se ejecutan en los servidores. Entonces, tiene que buscar \nen toda una lista de reglas",
    "start": "890600",
    "end": "896900"
  },
  {
    "text": "para entender por qué se configuró así, y si lo cambia, qué se dañaría.",
    "start": "896900",
    "end": "903700"
  },
  {
    "start": "903000",
    "end": "952000"
  },
  {
    "text": "Entonces podríamos usar \nesos cinco grupos por instancia como un modelo de control \nde acceso basado en roles también.",
    "start": "903700",
    "end": "911100"
  },
  {
    "text": "Si pensamos en el rol de front-end web ¿qué hace? Hace cuatro cosas diferentes:",
    "start": "911100",
    "end": "918800"
  },
  {
    "text": "1) Escucha conexiones HTTP, 2) habla con la capa de aplicación,",
    "start": "918800",
    "end": "924200"
  },
  {
    "text": "3) es un cliente de los servicios de AWS y 4) es un cliente para los \ncomandos administrativos.",
    "start": "924200",
    "end": "931600"
  },
  {
    "text": "Entonces al hacer esto, usted \nestá codificando el diseño de su modelo de control de acceso",
    "start": "931600",
    "end": "937600"
  },
  {
    "text": "en los grupos de seguridad que ha creado, y ellos están, con suerte, \nadecuadamente nombrados. Entonces puede ver y entender qué es",
    "start": "937600",
    "end": "945100"
  },
  {
    "text": "lo que se supone que un rol \nde front-end web está haciendo y por qué se le asigna ese acceso.",
    "start": "945100",
    "end": "953000"
  },
  {
    "text": "Entonces, si pensamos en todas \nnuestras diferentes aplicaciones podemos ver que, al menos en este \nmodelo para una aplicación simple,",
    "start": "953000",
    "end": "959600"
  },
  {
    "text": "funciona bastante bien, porque cada uno tiene cinco o menos \nroles que pueden combinarse entre sí,",
    "start": "959600",
    "end": "965400"
  },
  {
    "text": "y en el caso de \"Admin \nlistener\" y \"Admin client\", podemos usarlos como fuente y destino",
    "start": "965400",
    "end": "972600"
  },
  {
    "text": "para las reglas del grupo de seguridad. Sabemos que cualquier \nhost que se ubique en el grupo del Admin Jump Host",
    "start": "972600",
    "end": "978899"
  },
  {
    "text": "va a poder acceder al puerto 22 en cualquier otro host en el sistema, pero ninguna otra regla",
    "start": "978900",
    "end": "985899"
  },
  {
    "text": "dentro de los otros grupos da ese derecho.",
    "start": "985900",
    "end": "992300"
  },
  {
    "start": "991000",
    "end": "1108000"
  },
  {
    "text": "También dije que teníamos que pensar sobre lo que vamos a usar de AWS,\n porque con los roles de IAM,",
    "start": "992300",
    "end": "999600"
  },
  {
    "text": "en realidad podemos dar credenciales\n para acceder a estos servicios. Entonces, si lo analizamos, \nes bastante obvio",
    "start": "999600",
    "end": "1006199"
  },
  {
    "text": "que cuatro de nuestros \ncomponentes de aplicación no necesita acceder a AWS. Entonces con los grupos de \nseguridad de antes podemos decir:",
    "start": "1006200",
    "end": "1013399"
  },
  {
    "text": "\"Oye, no necesitamos \nponerlo en ese grupo\" y también podemos \ncomenzar a ver el hecho de que necesitamos dos roles diferentes\n de IAM para crear esta aplicación.",
    "start": "1013400",
    "end": "1023100"
  },
  {
    "text": "\"Web front End\" y \"Application Layer\" leen del bucket \"Configuration\", pero eso es lo único que tienen en común.",
    "start": "1023100",
    "end": "1031900"
  },
  {
    "text": "Entonces, una cosa que es importante saber es que solo puede asignar su rol de IAM",
    "start": "1031900",
    "end": "1039500"
  },
  {
    "text": "cuando se crea una instancia EC2. Se pueden cambiar las \npolíticas en cualquier momento, pero el rol es básicamente\n estático una vez asignado.",
    "start": "1039500",
    "end": "1047100"
  },
  {
    "text": "Entonces, sabemos que debemos \ntener dos roles diferentes porque se tienen dos actores \ndiferentes dentro de la red.",
    "start": "1047100",
    "end": "1053200"
  },
  {
    "text": "Entonces, ¿por qué querría hacer esto? Una de las mejores cosas al respecto, si las puede extraer,",
    "start": "1053200",
    "end": "1059100"
  },
  {
    "text": "es que sus credenciales de largo plazo tienden a tener una cantidad \ntremendamente grande de acceso",
    "start": "1059100",
    "end": "1064900"
  },
  {
    "text": "porque cuando las creó, hizo las políticas para hacer\n un montón de cosas diferentes. Entonces si soy capaz \nde obtener credenciales",
    "start": "1064900",
    "end": "1071900"
  },
  {
    "text": "para un conjunto de credenciales\n realmente grande y de largo plazo, una política a largo plazo, \nprobablemente tenga mucho más acceso",
    "start": "1071900",
    "end": "1078000"
  },
  {
    "text": "del que se quiere brindar. Pero van a filtrar en \nalgún momento, ¿verdad?",
    "start": "1078000",
    "end": "1084600"
  },
  {
    "text": "AWS hace un gran trabajo \nal tratar de ayudarlo a protegerlas, pero se filtran.",
    "start": "1084600",
    "end": "1090200"
  },
  {
    "text": "En casi todas las pruebas \nque hemos realizado, se pueden encontrar en algún lado, usualmente en las fuentes \no en un bucket de configuración",
    "start": "1090200",
    "end": "1096900"
  },
  {
    "text": "que está abierto para todos. Lo otro importante acerca \nde las credenciales de instancia es que cambian con el tiempo.",
    "start": "1096900",
    "end": "1102700"
  },
  {
    "text": "Por lo tanto, si alguien las consigue, solo son útiles por una hora.",
    "start": "1102700",
    "end": "1108899"
  },
  {
    "start": "1108000",
    "end": "1143000"
  },
  {
    "text": "Retomando la auditoría, \n¿qué estamos buscando?: ¿sus grupos y asignaciones de roles",
    "start": "1108900",
    "end": "1115299"
  },
  {
    "text": "coincide a través de sus regiones? y si tiene asignaciones de roles, ¿cuáles son las políticas \nque se asignan a esos roles?",
    "start": "1115300",
    "end": "1122000"
  },
  {
    "text": "¿Cuánto acceso le está dando\n a cada una de sus instancias? Además, ¿sus grupos de seguridad\n cumplen con el diseño previsto?",
    "start": "1122000",
    "end": "1130200"
  },
  {
    "text": "Hay muchas maneras diferentes en las que podría hacerlo, \ny desde nuestra perspectiva, el objetivo es asegurarse \nde que el diseño previsto",
    "start": "1130200",
    "end": "1137500"
  },
  {
    "text": "se cumple sin dar más acceso\n del que realmente quiere.",
    "start": "1137500",
    "end": "1144300"
  },
  {
    "start": "1143000",
    "end": "1156000"
  },
  {
    "text": "Entonces, ha creado una red, ha creado algunas instancias, y luego el problema",
    "start": "1144300",
    "end": "1149600"
  },
  {
    "text": "es ¿cómo lidia con el \nacceso de los usuarios? y ¿qué tipo de políticas desarrolla?",
    "start": "1149600",
    "end": "1157100"
  },
  {
    "start": "1156000",
    "end": "1179000"
  },
  {
    "text": "IAM le da la capacidad \nde desarrollar políticas y aplicarlas tanto a usuarios \ncomo a instancias EC2,",
    "start": "1157100",
    "end": "1164700"
  },
  {
    "text": "pero debe entender qué \nvan a hacer sus usuarios, ¿Qué tareas realmente tienen que realizar",
    "start": "1164700",
    "end": "1171200"
  },
  {
    "text": "para hacer su trabajo? y luego, desde la perspectiva \nde las instancias EC2, ¿con qué servicios estarán \ncomunicándose y por qué?",
    "start": "1171200",
    "end": "1179800"
  },
  {
    "start": "1179000",
    "end": "1386000"
  },
  {
    "text": "Entonces, debemos definir cuáles\n son nuestros roles y tareas. Comenzamos con un \norganigrama de Monkeybuffer.org",
    "start": "1179800",
    "end": "1189100"
  },
  {
    "text": "que tenía muchos grupos grandes: teníamos un grupo de soporte, pero si comienza a pensar en los grupos,",
    "start": "1189100",
    "end": "1194600"
  },
  {
    "text": "como el del equipo \nde ingeniería y de soporte, todos hacen cosas muy diferentes. Si desglosa el grupo de soporte",
    "start": "1194600",
    "end": "1201100"
  },
  {
    "text": "podría pensar: \"está bien, \nla mesa de ayuda corporativa tal vez está en este grupo.\" No tienen por qué acceder \na la configuración EC2",
    "start": "1201100",
    "end": "1209600"
  },
  {
    "text": "pero tal vez el grupo de \nsoporte de primer nivel necesita ser capaz de entender si las instancias se están \nejecutando actualmente,",
    "start": "1209600",
    "end": "1215300"
  },
  {
    "text": "qué regiones son \nfuncionales en este punto, y tal vez necesitan ahondar \nun poco en los archivos log",
    "start": "1215300",
    "end": "1221400"
  },
  {
    "text": "para responder las \npreguntas de los clientes. Entonces, otro rol que ha existido en cada compañía de la \nque alguna vez hice parte,",
    "start": "1221400",
    "end": "1227600"
  },
  {
    "text": "es el solucionador de \nproblemas imposibles. La persona que no está necesariamente\n en el equipo de ingeniería,",
    "start": "1227600",
    "end": "1232700"
  },
  {
    "text": "pero es el que toma todos \nlos problemas realmente difíciles y hace una gran cantidad \nde depuración antes de entregarlo,",
    "start": "1232700",
    "end": "1237800"
  },
  {
    "text": "o en conjunto con el equipo de ingeniería, para asegurarse de que \nesos problemas se resuelvan. Así, entre el soporte de primer nivel",
    "start": "1237800",
    "end": "1244299"
  },
  {
    "text": "y el solucionador de problemas imposibles, obviamente tenemos un \nnivel de acceso muy diferente que va a ser necesario para \nhacer este tercer trabajo.",
    "start": "1244300",
    "end": "1254000"
  },
  {
    "text": "Entonces, necesitamos definir \npolíticas que habiliten tareas. Por \"una tarea\", me refiero a alguna \nactividad, algún flujo de trabajo,",
    "start": "1254000",
    "end": "1263600"
  },
  {
    "text": "que una persona tiene que hacer para operar el sistema. Entonces, si está pensando en \nuna persona de operaciones,",
    "start": "1263600",
    "end": "1270400"
  },
  {
    "text": "tal vez esa persona \nde operaciones necesita poder iniciar y detener instancias EC2 y tener un rol asignado cuando hacen eso.",
    "start": "1270400",
    "end": "1277400"
  },
  {
    "text": "Tal vez una persona de \nsoporte tiene que ser capaz de entrar en el bucket de \nsalida de depuración en S3",
    "start": "1277400",
    "end": "1285100"
  },
  {
    "text": "y extraer los archivos log para \nanalizar un problema. Ambas personas \ndefinitivamente no necesitan",
    "start": "1285100",
    "end": "1291100"
  },
  {
    "text": "poder leer el bucket de configuración, pero tal vez el solucionador \nde problemas imposibles sí.",
    "start": "1291100",
    "end": "1296200"
  },
  {
    "text": "Entonces no podemos \nhablar de una aplicación, pero podemos hablar de diferentes tips,",
    "start": "1296200",
    "end": "1301600"
  },
  {
    "text": "el primero de los cuales es que muy \npoca gente en su organización realmente necesita acceso a IAM. La razón por la que hablo esto,",
    "start": "1301600",
    "end": "1308200"
  },
  {
    "text": "es que IAM es una especie \nde \"bucket nuclear\", ¿verdad? Es la raíz. Si puede ingresar y cambiar \nla configuración de IAM,",
    "start": "1308200",
    "end": "1315500"
  },
  {
    "text": "se pueden escalar los privilegios y hacerse cargo de cualquier \notra cosa dentro del sistema. Además, cualquier política que da acceso",
    "start": "1315500",
    "end": "1323600"
  },
  {
    "text": "\"*\" al servicio, es una \nacción cuestionable como tal, porque si desglosa las acciones reales",
    "start": "1323600",
    "end": "1332000"
  },
  {
    "text": "que puede usar para cada servicio, hay muchas otras diferentes y una tarea por lo general \nno requiere todas ellas.",
    "start": "1332000",
    "end": "1338000"
  },
  {
    "text": "Entonces, las que son administrativas es probable que quiera filtrarlas",
    "start": "1338000",
    "end": "1343100"
  },
  {
    "text": "de todas las personas \na excepción de algunas. Definitivamente no \nquiere otorgar acceso",
    "start": "1343100",
    "end": "1349800"
  },
  {
    "text": "a cualquier cosa que \ncierto producto no utilice, porque en este caso, \nestamos usando 4,5",
    "start": "1349800",
    "end": "1355100"
  },
  {
    "text": "tal vez 6 servicios diferentes pero no estamos usando \nCloudFormation o ElastiCache.",
    "start": "1355100",
    "end": "1360600"
  },
  {
    "text": "Entonces, nadie excepto \nla cuenta de administrador raíz debería poder afectar esos sistemas.",
    "start": "1360600",
    "end": "1366200"
  },
  {
    "text": "Todo lo que tenga un secreto, limite el acceso a ese recurso.",
    "start": "1366200",
    "end": "1371800"
  },
  {
    "text": "Debería limitar el acceso \na los recursos en general cuando desarrolle las políticas, pero si está almacenando \nel ID de acceso de AWS,",
    "start": "1371800",
    "end": "1377600"
  },
  {
    "text": "si está almacenando \nclaves de cifrado y contraseñas, nadie más que el conjunto muy \nespecífico de usuarios que necesitan eso",
    "start": "1377600",
    "end": "1383700"
  },
  {
    "text": "debería tener acceso. También puede usar condiciones \npara hacer que se cumpla,",
    "start": "1383700",
    "end": "1390700"
  },
  {
    "text": "lo cual puede ser bastante confuso y podría terminar poniéndose\n en una situación difícil",
    "start": "1390700",
    "end": "1395800"
  },
  {
    "text": "por usar de más las condiciones. Pero hay 4 que son realmente interesantes:",
    "start": "1395800",
    "end": "1402100"
  },
  {
    "text": "1) No debe permitir \nque nadie acceda a las APIs sin usar HTTPS. Puede desarrollar todas sus políticas",
    "start": "1402100",
    "end": "1408500"
  },
  {
    "text": "para indicar: \"esto solo se puede hacer\n si el usuario está usando HTTPS\". 2) \"MultiFactorAuthAge\", \ncuando se compara con \"Null\",",
    "start": "1408500",
    "end": "1416000"
  },
  {
    "text": "no dice cuánto tiempo ha pasado \ndesde que hizo la verificación de MFA, sino si de hecho lo configuró.",
    "start": "1416000",
    "end": "1423200"
  },
  {
    "text": "Entonces, puede usar esto para indicarle a este conjuntos específicos \nde comandos, o tal vez a todos ellos:",
    "start": "1423200",
    "end": "1428800"
  },
  {
    "text": "\"no puede hacer esto a menos que \nhaya utilizado MFA al iniciar sesión\". 3) CurrentTime es interesante",
    "start": "1428800",
    "end": "1435000"
  },
  {
    "text": "porque permite la escalada \ntemporal de privilegios. Tal vez necesito darle \nun privilegio a alguien para hacer algo realmente poderoso,",
    "start": "1435000",
    "end": "1441900"
  },
  {
    "text": "pero solo lo necesitan por una semana y tal vez olvide eliminar la política, pero si configuro un CurrentTime\n que solo da una semana,",
    "start": "1441900",
    "end": "1448600"
  },
  {
    "text": "entonces expirará de todos modos. Y también 4) SourceIP, puede \nusarlo para limitar los comandos",
    "start": "1448600",
    "end": "1455200"
  },
  {
    "text": "a que provengan de su red corporativa. Por lo tanto, pueden ser bastante útiles\n para asignar privilegios mínimos.",
    "start": "1455200",
    "end": "1461600"
  },
  {
    "start": "1457000",
    "end": "1524000"
  },
  {
    "text": "Entonces, ahora tenemos que \ndesarrollar políticas que habiliten tareas, pero también debemos \nasignarlos a nuestros actores.",
    "start": "1461600",
    "end": "1469000"
  },
  {
    "text": "Estamos hablando de usuarios, estamos hablando de \ninstancias EC2 como actores. Entonces, podemos asignarlos\n directamente a los usuarios,",
    "start": "1469000",
    "end": "1476200"
  },
  {
    "text": "o podemos hacerlo indirectamente \na través de grupos y roles. Por lo tanto, puede asignar políticas\n directamente a los usuarios,",
    "start": "1476200",
    "end": "1483900"
  },
  {
    "text": "pero cuando va a realizar una auditoría, se vuelve realmente difícil de entender que un usuario tenga políticas \nespecíficamente asignadas a ellos.",
    "start": "1483900",
    "end": "1491100"
  },
  {
    "text": "Tiene que reconsiderarlos \nde una manera diferente, tiene que compararlos con las asignaciones de grupo",
    "start": "1491100",
    "end": "1497300"
  },
  {
    "text": "para identificar lo que \nrealmente tiene un usuario, porque - de nuevo - \nestos permisos se agregan. Si le da a alguien una \nasignación de usuario directa",
    "start": "1497300",
    "end": "1503800"
  },
  {
    "text": "para hacer algo muy poderoso, pero esto no es algo común, probablemente se va a olvidar\n de eso en algún momento",
    "start": "1503800",
    "end": "1509399"
  },
  {
    "text": "y no darse cuenta de que hay \nuna cuenta con tanto poder que está disponible. En general, tenemos que crear",
    "start": "1509400",
    "end": "1516799"
  },
  {
    "text": "una estrategia de asignación \ny adherirnos a ella para que cuando \nvolvamos y auditemos, sabemos lo que estamos analizando",
    "start": "1516800",
    "end": "1523100"
  },
  {
    "text": "y sabemos lo que no debería estar allí. Pensemos algunas estrategias. Si comenzamos a desglosar \nnuestros grupos de Monkeybuffer,",
    "start": "1523100",
    "end": "1531899"
  },
  {
    "start": "1524000",
    "end": "1558000"
  },
  {
    "text": "podemos ver que hemos \ncreado un grupo de soporte, un grupo de inteligencia empresarial, \nde operaciones y también de ingeniería.",
    "start": "1531900",
    "end": "1539000"
  },
  {
    "text": "Entonces, vamos a crear un grupo por rol que intente satisfacer todo \nlo que los usuarios necesitan hacer. Entonces, si solo miramos a ingeniería,",
    "start": "1539000",
    "end": "1545900"
  },
  {
    "text": "van a necesitar trabajar con los servicios que el producto usa. Entonces, les hemos dado una \nacción \"*\" en todos los recursos",
    "start": "1545900",
    "end": "1555000"
  },
  {
    "text": "para dejarles hacer su trabajo. Entonces, esto se vuelve \nrealmente simple de auditar,",
    "start": "1555000",
    "end": "1561399"
  },
  {
    "text": "porque es muy fácil mirar y entender que Joe es miembro \ndel grupo de ingeniería,",
    "start": "1561400",
    "end": "1566700"
  },
  {
    "text": " por lo tanto tiene estos derechos, y para pocos usuarios y \nflujos de trabajo sencillos,",
    "start": "1566700",
    "end": "1572700"
  },
  {
    "text": "es fácil de mantener. El problema es que las excepciones son realmente difíciles de implementar.",
    "start": "1572700",
    "end": "1578900"
  },
  {
    "text": "Va a tener que romper \nsu modelo de control de acceso para poner una excepción en su lugar,",
    "start": "1578900",
    "end": "1584000"
  },
  {
    "text": "y si no lo hace, con lo \nque generalmente termina es que se degrada a\n\"todos son administradores\"",
    "start": "1584000",
    "end": "1589900"
  },
  {
    "text": "porque en algún momento, \nun usuario de ingeniería va a necesitar crear un nuevo servicio EC2, tal vez no se tenían al principio,",
    "start": "1589900",
    "end": "1596200"
  },
  {
    "text": "pero se cambia la política de ingeniería para que esa persona \npueda hacer su trabajo. Luego, quizás necesiten crear \nun nuevo usuario de servicio,",
    "start": "1596200",
    "end": "1602200"
  },
  {
    "text": "así que de repente tienen acceso a IAM lo cual no tenían antes porque arrastra el alcance del permiso.",
    "start": "1602200",
    "end": "1609700"
  },
  {
    "text": "También podríamos ver otra \nestrategia que es bastante popular la cual es usar un grupo por \ntipo de acceso que necesita,",
    "start": "1609700",
    "end": "1619500"
  },
  {
    "text": "y unirlos para brindarle \nal usuario el acceso que quieren.",
    "start": "1619500",
    "end": "1625900"
  },
  {
    "text": "Esto refleja la política del grupo \nde seguridad de la que hablamos antes, control de acceso basado en roles",
    "start": "1625900",
    "end": "1631500"
  },
  {
    "text": "compuesto por un grupo de \npequeños privilegios que son diferentes y es increíblemente flexible.",
    "start": "1631500",
    "end": "1636800"
  },
  {
    "text": "Con el tiempo, también se \ndegradan, porque de repente descubre que tiene algún grupo",
    "start": "1636800",
    "end": "1643200"
  },
  {
    "text": "que le da \"X\" cantidades de acceso, pero ahora necesita un poco más \no un poco menos para un usuario.",
    "start": "1643200",
    "end": "1648400"
  },
  {
    "text": "Entonces ¿qué hace? Puede aumentar el acceso de un grupo y simplemente se lo asigna al usuario; podría crear algún grupo específico",
    "start": "1648400",
    "end": "1655200"
  },
  {
    "text": "del cual ahora ese usuario \nes miembro de ambos, pero se tiene un incremento de grupos;",
    "start": "1655200",
    "end": "1660299"
  },
  {
    "text": "o podría comenzar a reducir \nel acceso para todos los demás, si es una reducción en el acceso,",
    "start": "1660300",
    "end": "1666000"
  },
  {
    "text": "y simplemente está \nrompiendo su propio modelo. El otro problema sobre esto es que está enfocado en un usuario individual.",
    "start": "1666000",
    "end": "1672900"
  },
  {
    "text": "No está enfocado en un rol y no está enfocado en una tarea \nespecífica que debe realizarse.",
    "start": "1672900",
    "end": "1679400"
  },
  {
    "start": "1679000",
    "end": "1725000"
  },
  {
    "text": "Entonces, antes de seguir, \nhablemos un poco sobre STS. Seguramente todos ustedes han estado\n expuestos a lo que STS puede hacer.",
    "start": "1679400",
    "end": "1687300"
  },
  {
    "text": "STS brinda credenciales temporales, para una sesión que se puede usar",
    "start": "1687300",
    "end": "1693000"
  },
  {
    "text": "para acceder a las APIs de AWS, \ny las credenciales son efímeras. Por defecto, solo están disponibles",
    "start": "1693000",
    "end": "1698600"
  },
  {
    "text": "o solo son válidas por una hora. Pero usando GetSessionToken, puede obtener un token solo\n disponible por una hora,",
    "start": "1698600",
    "end": "1705700"
  },
  {
    "text": "que tiene exactamente los mismos\n derechos que normalmente tendría. Entonces es genial para \nla autenticación multifactor,",
    "start": "1705700",
    "end": "1711100"
  },
  {
    "text": "porque si necesito ejecutar\n un montón de comandos en el transcurso de una hora, no quiero estar escribiendo\n mi token de MFA todo el tiempo,",
    "start": "1711100",
    "end": "1717000"
  },
  {
    "text": "solo adquiero una nueva \nsesión durante una hora y el hecho de que utilicé MFA, \nes llevado a través de condiciones.",
    "start": "1717000",
    "end": "1725100"
  },
  {
    "start": "1725000",
    "end": "1772000"
  },
  {
    "text": "Puede usar STS para crear una poderosa herramienta \nde privilegios mínimos",
    "start": "1725100",
    "end": "1732600"
  },
  {
    "text": "porque puede enfocar todo basado en roles o flujos de trabajo de tareas\n que tienen que suceder.",
    "start": "1732600",
    "end": "1738000"
  },
  {
    "text": "Entonces, si lo piensa, \nusando \"AssumeRole\", lo que puede indicar es que cierto usuario, \nusando algún tipo de credenciales",
    "start": "1738000",
    "end": "1745000"
  },
  {
    "text": "y el nombre del rol, puede obtener una sesión \ntemporal que les permite ejecutar",
    "start": "1745000",
    "end": "1751400"
  },
  {
    "text": "cualquier flujo de trabajo \nque deba realizarse, y ese rol se puede adaptar \nde manera muy específica a ese tipo de trabajo.",
    "start": "1751400",
    "end": "1759299"
  },
  {
    "text": "Entonces, un usuario puede \nasumir 100 roles diferentes. Puede hacerlo de esa manera",
    "start": "1759300",
    "end": "1765000"
  },
  {
    "text": "y todo puede ser muy \nespecífico para la tarea. Entonces, otro beneficio de este enfoque...",
    "start": "1765000",
    "end": "1774600"
  },
  {
    "start": "1772000",
    "end": "1833000"
  },
  {
    "text": "Ojalá hayan asistido a las charlas de Delegación \ny Federación ayer, pero si no, les recomiendo \nque vayan y las miren",
    "start": "1774600",
    "end": "1781300"
  },
  {
    "text": "porque puede usar ese \n\"assume-role-with-* con \"saml\" con \"web-identity\" para llevar el contexto\n de autenticación de un usuario",
    "start": "1781300",
    "end": "1791700"
  },
  {
    "text": "del LDAP corporativo que ya mantiene. Entonces, en lugar de tener una \ntonelada de usuarios diferentes",
    "start": "1791700",
    "end": "1799299"
  },
  {
    "text": "que están configurados en IAM e intentando descubrir \ncómo administrar esas cuentas además de administrar la estructura",
    "start": "1799300",
    "end": "1805000"
  },
  {
    "text": "que ya ha administrado, puede simplemente llevarlo y crear alguna manera",
    "start": "1805000",
    "end": "1810400"
  },
  {
    "text": "para que un usuario puede obtener un rol para las tareas muy específicas \nque se supone que deben hacer.",
    "start": "1810400",
    "end": "1816200"
  },
  {
    "text": "Entonces es genial, porque si ya tiene una topología LDAP compleja",
    "start": "1816200",
    "end": "1821400"
  },
  {
    "text": "donde las personas están \nen los grupos asociados con las funciones que tienen en el trabajo,",
    "start": "1821400",
    "end": "1826800"
  },
  {
    "text": "mientras se mueven en ese LDAP ganan y pierden accesos \ncomo correspondería.",
    "start": "1826800",
    "end": "1834400"
  },
  {
    "text": "Entonces, los derechos de acceso \nestán vinculados a una tarea o actor en este tipo de modelo.",
    "start": "1834400",
    "end": "1840799"
  },
  {
    "text": "Es realmente fácil otorgar \nescalada temporal de privilegios porque puede tomar a \ncualquier usuario que tenga",
    "start": "1840800",
    "end": "1846800"
  },
  {
    "text": "y asignarle una política que \nindique: \"para la próxima semana, se les permite asumir este rol",
    "start": "1846800",
    "end": "1854200"
  },
  {
    "text": "que normalmente no podrían tener.\" Eso también puede reducir las \nclaves de acceso que tiene en archivos de configuración,",
    "start": "1854200",
    "end": "1860600"
  },
  {
    "text": "siempre y cuando que sus servicios puedan\n usar estas credenciales temporales a través de los roles de EC2 para\n acceder a los servicios que necesitan,",
    "start": "1860600",
    "end": "1867300"
  },
  {
    "text": "como S3 y DynamoDB. Como lo dije hace un momento, si puede\n usar Federacion de manera efectiva,",
    "start": "1867300",
    "end": "1874700"
  },
  {
    "text": "puede limitar la cantidad total de cuentas que necesita administrar en AWS, lo que hace que la auditoría general de su\n configuración sea mucho más fácil.",
    "start": "1874700",
    "end": "1883400"
  },
  {
    "text": "Los inconvenientes de esto son: muchas\n herramientas de DevOps, al momento",
    "start": "1883400",
    "end": "1888500"
  },
  {
    "text": "no pueden usar roles EC2 todavía. Los roles son bastante \nnuevos, entonces no es posible",
    "start": "1888500",
    "end": "1896400"
  },
  {
    "text": "por lo que va a tener que usar \nclaves con esos productos. También separa la asignación de acceso",
    "start": "1896400",
    "end": "1904100"
  },
  {
    "text": "o su definición de derechos de acceso. Entonces, si tiene muchísimos usuarios",
    "start": "1904100",
    "end": "1912800"
  },
  {
    "text": "eso puede hacer que sea \nrealmente difícil auditar. Finalmente, para la gente de AWS, \ncuando tiene un grupo que da acceso,",
    "start": "1912800",
    "end": "1922600"
  },
  {
    "text": "generalmente hay una política \nque le otorga el acceso que necesita. Pero si cinco roles necesitan \nhacer más o menos lo mismo",
    "start": "1922600",
    "end": "1931000"
  },
  {
    "text": "debe tener una política por rol y cuando usted necesita modificar ese rol porque algunos requisitos cambiaron",
    "start": "1931000",
    "end": "1936500"
  },
  {
    "text": "o se dio cuenta que eran demasiado, tiene que cambiarlo en cinco \nlugares diferentes y recordarlo. Entonces en este momento puede \nser un poco difícil lidiar con eso",
    "start": "1936500",
    "end": "1943900"
  },
  {
    "text": "porque las políticas solo se pueden\n escribir para un rol en este momento y realmente no puede compartir la definición de política \nentre múltiples roles.",
    "start": "1943900",
    "end": "1952900"
  },
  {
    "start": "1952000",
    "end": "2000000"
  },
  {
    "text": "Entonces obviamente no hay \nuna \"mejor estrategia\" en esto y no estoy tratando de \nsobreponer una sobre otras porque cada compañía es muy diferente,",
    "start": "1952900",
    "end": "1959899"
  },
  {
    "text": "a pesar de que resuelvan \nel mismo problema. Pero los grupos son geniales. Cuando necesita asignar \nderechos administrativos,",
    "start": "1959900",
    "end": "1966799"
  },
  {
    "text": "necesita crear usuarios que realmente puedan \nhacer trabajo administrativo. Entonces, puede crear un grupo para eso.",
    "start": "1966800",
    "end": "1972600"
  },
  {
    "text": "También son geniales \npara la asignación de roles, porque si tiene un grupo\n de usuarios de EC2, o un grupo de usuarios \nde IAM definidos,",
    "start": "1972600",
    "end": "1978900"
  },
  {
    "text": "entonces necesita alguna forma \nde otorgarles \"AssumeRole\" y un conjunto de roles que pueden asumir.",
    "start": "1978900",
    "end": "1985900"
  },
  {
    "text": "Entonces, puede crear grupos \nque otorguen esa potencia. Los roles son los mejores para otorgar los derechos necesarios \npara hacer el trabajo,",
    "start": "1985900",
    "end": "1995000"
  },
  {
    "text": "y por supuesto, debe usar roles\n para instancias EC2.",
    "start": "1995000",
    "end": "2000700"
  },
  {
    "start": "2000000",
    "end": "2029000"
  },
  {
    "text": "Entonces pensemos un poco acerca de cómo haríamos \nesto para Monkeybuffer.",
    "start": "2000700",
    "end": "2006399"
  },
  {
    "text": "Solo para \"WebFrontEndRole\", ¿qué hace? Sabemos que usa la capa de aplicación",
    "start": "2006400",
    "end": "2012700"
  },
  {
    "text": "pero eso no es algo que AWS podrá resolver por nosotros. Tenemos que resolver eso por fuera.",
    "start": "2012700",
    "end": "2018400"
  },
  {
    "text": "Pero podemos usar un rol para resolver tanto el acceso S3",
    "start": "2018400",
    "end": "2024100"
  },
  {
    "text": "como el acceso a la tabla \nde sesiones de DynamoDB.",
    "start": "2024100",
    "end": "2029500"
  },
  {
    "start": "2029000",
    "end": "2055000"
  },
  {
    "text": "Entonces creamos un rol y \ntenemos que desarrollar una política, y en este caso, dado que \nse trata de Web Front End,",
    "start": "2029500",
    "end": "2035700"
  },
  {
    "text": "sabemos que solo necesita \npoder leer los objetos o lectura con \"GetObject\" desde \nla carpeta de configuración",
    "start": "2035700",
    "end": "2041900"
  },
  {
    "text": "en monkeybufferfiles. y también necesitaría \ntener acceso a DynamoDB. También se le puede dar \nla capacidad de \"ListBucket\"",
    "start": "2041900",
    "end": "2050200"
  },
  {
    "text": "para que puedan explorar y encontrar\n los objetos que ahí se encuentran.",
    "start": "2050200",
    "end": "2055599"
  },
  {
    "start": "2055000",
    "end": "2079000"
  },
  {
    "text": "Luego, tenemos que crear de hecho una política de acceso en el bucket la cual va a permitir \nque este rol funcione.",
    "start": "2055600",
    "end": "2061200"
  },
  {
    "text": "Entonces creamos \n\"ListBucket\" y \"GetObject\"",
    "start": "2061200",
    "end": "2066700"
  },
  {
    "text": "para la carpeta configuración, y luego podemos definir los \"Principals\"\n como nuestros dos roles",
    "start": "2066700",
    "end": "2073399"
  },
  {
    "text": "que necesitan tener esa capacidad.",
    "start": "2073400",
    "end": "2079500"
  },
  {
    "text": "Finalmente, porque esto está \nasignado a una instancia EC2, alguien probablemente en Operaciones,",
    "start": "2079500",
    "end": "2086200"
  },
  {
    "text": "necesita tener el permiso \n\"RunInstances\" para EC2 y la capacidad de acceder \nal \"WebFrontEndInstance\"",
    "start": "2086200",
    "end": "2093099"
  },
  {
    "text": "a esas instancias cuando inician.",
    "start": "2093100",
    "end": "2101700"
  },
  {
    "start": "2100000",
    "end": "2179000"
  },
  {
    "text": "Hemos hablamos sobre la creación\n de políticas de privilegios mínimos,",
    "start": "2101700",
    "end": "2109000"
  },
  {
    "text": "¿qué vamos a analizar cuando \nrealicemos una auditoría? Entonces, en primer lugar están \nlas mejores prácticas de IAM.",
    "start": "2109000",
    "end": "2116099"
  },
  {
    "text": "Debe asegurarse de que está \ntratando sus cuentas de AWS de la misma manera en que\n debería estar tratando",
    "start": "2116100",
    "end": "2122600"
  },
  {
    "text": "sus cuentas corporativas también. También nos aseguraremos de que el \nregistro en CloudTrail esté habilitado. Cuando se debe dar \nuna respuesta a un incidente,",
    "start": "2122600",
    "end": "2130700"
  },
  {
    "text": "estará increíblemente feliz por tener los registros \nde CloudTrail habilitados, porque de lo contrario, \nno podremos encontrar nada.",
    "start": "2130700",
    "end": "2137299"
  },
  {
    "text": "Entonces, lo siguiente que vamos a ver es si sus políticas de acceso son mínimas",
    "start": "2137300",
    "end": "2143900"
  },
  {
    "text": "y si coinciden con sus requisitos. Este es un ejercicio muy \ndiferente para cada aplicación",
    "start": "2143900",
    "end": "2149800"
  },
  {
    "text": "pero lo primero para empezar a analizar es quién tiene la acción \n\"*\" sobre qué recursos.",
    "start": "2149800",
    "end": "2155900"
  },
  {
    "text": "Vamos a explorar todos \nlos archivos de configuración y los buckets S3 en busca de \nclaves de acceso AWS,",
    "start": "2155900",
    "end": "2163400"
  },
  {
    "text": "porque lo más probable es que estén ahí. Finalmente, si está \nusando los servicios de AWS,",
    "start": "2163400",
    "end": "2169800"
  },
  {
    "text": "cada uno de ellos tiene un conjunto\n ligeramente diferente de reglas que se necesitan considerar, pero se necesita auditar \ncada uno individualmente.",
    "start": "2169800",
    "end": "2179599"
  },
  {
    "start": "2179000",
    "end": "2187000"
  },
  {
    "text": "Entonces hemos hablado \nsobre qué analizar,",
    "start": "2179600",
    "end": "2184700"
  },
  {
    "text": "pero, ¿cómo se hace? El objetivo es literalmente \nasegurar que la implementación",
    "start": "2184700",
    "end": "2191400"
  },
  {
    "start": "2187000",
    "end": "2214000"
  },
  {
    "text": "coincida con el diseño que se pretende porque está tratando de \nlimitar el daño de una falla",
    "start": "2191400",
    "end": "2197799"
  },
  {
    "text": "y asegurarse de que no puede \nencadenarla a otra serie de fallas y poner en peligro todo el sistema.",
    "start": "2197800",
    "end": "2203700"
  },
  {
    "text": "Entonces se está tratando de \nverificar los objetivos de seguridad, y más importante aún, está tratando entristecer a los \ntesters de penetración como yo (!).",
    "start": "2203700",
    "end": "2214300"
  },
  {
    "start": "2214000",
    "end": "2302000"
  },
  {
    "text": "Entonces, ¿cómo se hace? Es bastante fácil, ¿verdad? Puede usar las herramientas \nproporcionadas por AWS que ya tiene.",
    "start": "2214300",
    "end": "2219700"
  },
  {
    "text": "Puede ingresar a la consola web y encontrar todos los datos \nde configuración que quiera.",
    "start": "2219700",
    "end": "2225400"
  },
  {
    "text": "También puede usar el \ncliente de línea de comandos para extraer todas las salidas JSON y luego de alguna forma unirlos",
    "start": "2225400",
    "end": "2231700"
  },
  {
    "text": "y entender cómo se relacionan, lo cual en realidad es un gran ejercicio si no lo ha hecho y no visto cuál es la salida",
    "start": "2231700",
    "end": "2238200"
  },
  {
    "text": "de cada una de esas pequeñas llamadas API y cómo se vinculan a otras, es realmente importante que las entienda.",
    "start": "2238200",
    "end": "2245700"
  },
  {
    "text": "De nuevo, puede escribir sus \npropias herramientas personalizadas, ya sea a través del cliente \nde línea de comandos, o usando las diversas APIs",
    "start": "2245700",
    "end": "2252100"
  },
  {
    "text": "que van a darle la misma información. Hay herramientas de \nmonitoreo a largo plazo. Hay muchos proveedores en la exposición",
    "start": "2252100",
    "end": "2258700"
  },
  {
    "text": "que probablemente tengan \ncosas que usted pueda usar, y también puede usar algunas \nherramientas open source",
    "start": "2258700",
    "end": "2265500"
  },
  {
    "text": "como las herramientas \nde seguridad de Netflix, que de hecho monitorean a largo plazo",
    "start": "2265500",
    "end": "2271200"
  },
  {
    "text": "y observarán los cambios \nen su configuración. También otra herramienta que está disponible de \nforma gratuita y que utilizamos,",
    "start": "2271200",
    "end": "2278500"
  },
  {
    "text": "es algo llamado \"AWS Scout2\", y se puede extraer de GitHub. Cuando la analice",
    "start": "2278500",
    "end": "2285000"
  },
  {
    "text": "notará que en realidad es una \nherramienta de pruebas de seguridad, lo que significa que produce\n un informe increíblemente grande",
    "start": "2285000",
    "end": "2290200"
  },
  {
    "text": "en donde tiene que encontrar la manera\n de comprenderlo por usted mismo. Es por eso que no estamos \nhaciendo una demostración",
    "start": "2290200",
    "end": "2295500"
  },
  {
    "text": "porque llevaría una eternidad \nsolo para analizar la linda página HTML que se publica.",
    "start": "2295500",
    "end": "2302800"
  },
  {
    "start": "2302000",
    "end": "2411000"
  },
  {
    "text": "Entonces, ¿cómo empieza? Si ya tiene una configuración\n de VPC creada,",
    "start": "2302800",
    "end": "2309800"
  },
  {
    "text": "entonces obviamente es difícil cambiar. Pero debe comenzar con lo básico",
    "start": "2309800",
    "end": "2317000"
  },
  {
    "text": "y simplemente asegúrese de estar \nsiguiendo las mejores prácticas de IAM, que tiene el registro \nde CloudTrail en su lugar,",
    "start": "2317000",
    "end": "2322800"
  },
  {
    "text": "que es consistente en todas las regiones, y que no tiene errores evidentes como \"*\" en \"*\" tipos de políticas.",
    "start": "2322800",
    "end": "2330100"
  },
  {
    "text": "A partir de ahí, depende. Siempre habrá una renuncia entre la capacidad de \nadministrar una implementación",
    "start": "2330100",
    "end": "2336900"
  },
  {
    "text": "mantenerla funcionando y también tener \nun estricto diseño de seguridad,",
    "start": "2336900",
    "end": "2342700"
  },
  {
    "text": "entonces para cada \norganización eso será diferente. Pero el objetivo siempre es tener",
    "start": "2342700",
    "end": "2349900"
  },
  {
    "text": "los mínimos privilegios otorgados a cada persona en el sistema porque cuando esa cuenta se pierde,",
    "start": "2349900",
    "end": "2357200"
  },
  {
    "text": "quiere limitar el daño y \nla cantidad de cuestiones que un atacante puede \nhacer desde esa cuenta.",
    "start": "2357200",
    "end": "2364599"
  },
  {
    "text": "Entonces, los animo \nenfáticamente a todos ustedes a que lo hagan como \nuna práctica regular propia",
    "start": "2364600",
    "end": "2371800"
  },
  {
    "text": "y a asegurarse de que lo realizan cada dos semanas o una vez al mes.",
    "start": "2371800",
    "end": "2377000"
  },
  {
    "text": "Asegúrese de estar \nvigilando con frecuencia, registrando sus resultados, \ny mirando sus diferencias, porque una vez que comienza a hacerlo,",
    "start": "2377000",
    "end": "2383500"
  },
  {
    "text": "puede realmente ver los cambios preguntar por qué sucedió esto, y hacerle trazabilidad a ese cambio",
    "start": "2383500",
    "end": "2389100"
  },
  {
    "text": "para entender si se puede reducir \nel alcance de alguna manera.",
    "start": "2389100",
    "end": "2395600"
  },
  {
    "text": "Muchas gracias",
    "start": "2395600",
    "end": "2405300"
  },
  {
    "text": "y si alguien tiene preguntas, podemos conversarlas en el pasillo.",
    "start": "2405300",
    "end": "2411000"
  }
]