[
  {
    "start": "0",
    "end": "47000"
  },
  {
    "text": "thank you thank you thank you very much I know there are a lot of sessions running right now I'm so glad you came",
    "start": "30",
    "end": "5370"
  },
  {
    "text": "to our session my name is Arun Gupta I work for Amazon Web Services and with me today I have",
    "start": "5370",
    "end": "11250"
  },
  {
    "text": "Amit we'll be talking about mastering kubernetes on AWS this session kind of",
    "start": "11250",
    "end": "16740"
  },
  {
    "text": "builds very nicely upon on top of what Abbey just talked about she talked in general about sort of how",
    "start": "16740",
    "end": "22949"
  },
  {
    "text": "the container landscape looks like on AWS here we'll be diving deep into kubernetes aspect of it it's not so much",
    "start": "22949",
    "end": "30449"
  },
  {
    "text": "about the service is more about how this is running in production what are some of the key aspects that you need to be",
    "start": "30449",
    "end": "36420"
  },
  {
    "text": "aware of so there are essentially three",
    "start": "36420",
    "end": "49230"
  },
  {
    "start": "47000",
    "end": "553000"
  },
  {
    "text": "aspects you know we have next 45 minutes and we're looking at covering three aspects and the way we're gonna do the",
    "start": "49230",
    "end": "54930"
  },
  {
    "text": "storytelling is I'll talk about what are the options around kubernetes cluster setup then a meet we'll talk about what",
    "start": "54930",
    "end": "61199"
  },
  {
    "text": "are they doing it in production",
    "start": "61199",
    "end": "64370"
  },
  {
    "text": "sorry",
    "start": "71980",
    "end": "74980"
  },
  {
    "text": "[Applause]",
    "start": "83980",
    "end": "88680"
  },
  {
    "text": "set up I'll talk about it then I meet we'll talk about how they do it in production then I'll talk about what are",
    "start": "94970",
    "end": "100979"
  },
  {
    "text": "the CI CD options and how people are building deployment pipelines then I meet we'll talk about what are they doing",
    "start": "100979",
    "end": "106290"
  },
  {
    "text": "and then I'll finally talk about visibility you may call there as logging metrics monitoring all different ways",
    "start": "106290",
    "end": "112830"
  },
  {
    "text": "I'll show you the different options and then we'll get back to I mean so let's jump it right into it you know what my",
    "start": "112830",
    "end": "118410"
  },
  {
    "text": "choice is if I want to set up a kubernetes cluster on AWS today there",
    "start": "118410",
    "end": "124320"
  },
  {
    "text": "are plenty actually and what do you mean by setting up a cluster essentially what it means is how do I install operate",
    "start": "124320",
    "end": "130619"
  },
  {
    "text": "upgrade manage patch a cluster you know and if you understand the kubernetes architecture it has a master it has a",
    "start": "130619",
    "end": "137430"
  },
  {
    "text": "worker you know setting those instances up what does it take to get it up and up and running well if you're doing",
    "start": "137430",
    "end": "144330"
  },
  {
    "text": "development then essentially you're doing development on your local machine and what that means is you can fire up",
    "start": "144330",
    "end": "150060"
  },
  {
    "text": "mini cube mini cube is a single node kubernetes cluster that you can fire up in a local machine and that way all of",
    "start": "150060",
    "end": "156750"
  },
  {
    "text": "your environment is sitting on your laptop disconnected you know if you are flying in a plane like I do all the time",
    "start": "156750",
    "end": "162150"
  },
  {
    "text": "so you can easily work on your machine very easily with that if you're looking",
    "start": "162150",
    "end": "167190"
  },
  {
    "text": "at the Community Supported options there are about 18 of those at least at my last count cops by far is the most",
    "start": "167190",
    "end": "174330"
  },
  {
    "text": "popular option that developers are using for creating kubernetes cluster how many of you are using cops for creating",
    "start": "174330",
    "end": "180000"
  },
  {
    "text": "kubernetes clusters yeah I mean about about 15% of you so I mean that's pretty much the most common option I have seen",
    "start": "180000",
    "end": "186630"
  },
  {
    "text": "for deploying kubernetes cluster on AWS the complete list as I said is on",
    "start": "186630",
    "end": "191970"
  },
  {
    "text": "kubernetes - AWS tor IO now at lost reinvent we of course announced eks",
    "start": "191970",
    "end": "198030"
  },
  {
    "text": "which is the manage kubernetes service which is in limited preview today so the idea being that if you want to say hey",
    "start": "198030",
    "end": "204510"
  },
  {
    "text": "I'm not in a business of you know managing a kubernetes cluster I want to focus on building my",
    "start": "204510",
    "end": "210360"
  },
  {
    "text": "ABB's then you go to Amazon console and you say set up a kubernetes cluster for",
    "start": "210360",
    "end": "216000"
  },
  {
    "text": "me we give you a control plane you bring your worker notes pretty much like ECS and then you build your applications",
    "start": "216000",
    "end": "222600"
  },
  {
    "text": "with that of course there are other options like core OS tectonic and Red Hat open ship which is basically one in",
    "start": "222600",
    "end": "228840"
  },
  {
    "text": "the same company now and then there are of course a variety of options using cloud formation or terraform which gives",
    "start": "228840",
    "end": "235050"
  },
  {
    "text": "you a lot more customized ability lot more power but as they say with great power comes great responsibility so it's",
    "start": "235050",
    "end": "243120"
  },
  {
    "text": "not for the weak of the heart and then we have a lot of partners as well so darker hefty or mesosphere all of these",
    "start": "243120",
    "end": "249209"
  },
  {
    "text": "guys they offer some sort of a kubernetes offering as well now let's take a look at cops now what is cops",
    "start": "249209",
    "end": "255060"
  },
  {
    "text": "give me well cops is a community supported option I know I work for AWS I'm not really talking about eks here",
    "start": "255060",
    "end": "261930"
  },
  {
    "text": "no because Abby already did the talking but if I look at cops essentially it's a",
    "start": "261930",
    "end": "267240"
  },
  {
    "text": "community supported offering what does that mean that means there is office hours for cops there is a slack channel",
    "start": "267240",
    "end": "272910"
  },
  {
    "text": "for cops so if you set up a cluster if you are stuck in a production issue that is sort of your way to go you can",
    "start": "272910",
    "end": "280200"
  },
  {
    "text": "generate cloud formation or terraform scripts with it so let's say you set up your cluster once then you can get the scripts out of",
    "start": "280200",
    "end": "286620"
  },
  {
    "text": "it the github URL is over here this is the command that by which you can create",
    "start": "286620",
    "end": "292169"
  },
  {
    "text": "a kubernetes cluster using cops and all I'm saying is I want to set up a cluster or I want to create a cluster in this",
    "start": "292169",
    "end": "298290"
  },
  {
    "text": "case in three availability zones and that is being specified by the availability zones the state of the",
    "start": "298290",
    "end": "305130"
  },
  {
    "text": "cluster by itself is stored in an s3 bucket so I'm giving the location of that bucket this is where my s3 bucket is going to",
    "start": "305130",
    "end": "311580"
  },
  {
    "text": "be and then I'm giving the number of masters so you always want to have an odd number of masters one three or five",
    "start": "311580",
    "end": "317930"
  },
  {
    "text": "and then the master size what is the ec2 instance type similarly the node count",
    "start": "317930",
    "end": "324419"
  },
  {
    "text": "and the node instance type so once you specify that then it just creates a",
    "start": "324419",
    "end": "329490"
  },
  {
    "text": "cluster for you and and the bottom if you see the last two options first one is the networking option which is",
    "start": "329490",
    "end": "335190"
  },
  {
    "text": "basically one of the CNI or CNI provider so Calico is one of the providers and as",
    "start": "335190",
    "end": "341160"
  },
  {
    "text": "part of eks we also announced the in WS C&I provider so you can start using those and by saying - - yes simple",
    "start": "341160",
    "end": "349050"
  },
  {
    "text": "thing is saying okay we'll create the cluster and create the resources as well so cops is the most prominent Community",
    "start": "349050",
    "end": "356819"
  },
  {
    "text": "Supported option that we have seen now of course you are still responsible for managing and upgrading and operating the",
    "start": "356819",
    "end": "363240"
  },
  {
    "text": "cluster making sure the backups are done now if you're setting up a cop's cluster by kubernetes Doc's it gives the",
    "start": "363240",
    "end": "369479"
  },
  {
    "text": "recommendations that depending upon the number of pods in your cluster you",
    "start": "369479",
    "end": "374610"
  },
  {
    "text": "should set up the instance type should I set up at CD on the master or away from",
    "start": "374610",
    "end": "380819"
  },
  {
    "text": "the master instance how many number of masters how many number of HCD how often should I back up you know what if my HCD",
    "start": "380819",
    "end": "387509"
  },
  {
    "text": "goes down what if my master goes down am i setting up auto scaling group I would not developer should I know about all",
    "start": "387509",
    "end": "393150"
  },
  {
    "text": "these things I don't need to that's exactly the undifferentiated heavy lifting that",
    "start": "393150",
    "end": "398159"
  },
  {
    "text": "eks does for you so it gives you a fully managed control plane you just bring your worker nodes you attach it to the",
    "start": "398159",
    "end": "404069"
  },
  {
    "text": "control plane and your cluster is ready to roll some of the core tenets you know which is basically fundamental for the",
    "start": "404069",
    "end": "410430"
  },
  {
    "text": "service itself are it will allow you to run any enterprise workloads in a very classical way reliability scalability",
    "start": "410430",
    "end": "417500"
  },
  {
    "text": "availability all the ill at ease so to say that you think of coming from Amazon",
    "start": "417500",
    "end": "423150"
  },
  {
    "text": "are very much going to be part of this service as well as Abby said there is",
    "start": "423150",
    "end": "429509"
  },
  {
    "text": "absolutely no forking of kubernetes here everything is going to be done in the upstream way everything that you are",
    "start": "429509",
    "end": "435360"
  },
  {
    "text": "aware of and the good sense from kubernetes in the upstream and all the skills that you are aware of we want to",
    "start": "435360",
    "end": "441180"
  },
  {
    "text": "bring them on as part of eks you are not required to use any AWS services but we",
    "start": "441180",
    "end": "447719"
  },
  {
    "text": "will provide a very seamless integration to all of those AWS services such as cloud watch cloud trail you'll be you",
    "start": "447719",
    "end": "454500"
  },
  {
    "text": "pick a service alb NLB whatever services there are around AWS ecosystem will",
    "start": "454500",
    "end": "460500"
  },
  {
    "text": "provide full integration with those services you not those are not required though and last but not the least is",
    "start": "460500",
    "end": "466080"
  },
  {
    "text": "what is I'm most excited about is how the eks team will contribute all bug",
    "start": "466080",
    "end": "472469"
  },
  {
    "text": "fixes and patches and everything not something inside the firewall but outside in the upstream community that",
    "start": "472469",
    "end": "479729"
  },
  {
    "text": "is sort of the most exciting part of it so again the API is a very simple we just a create cluster cluster name to",
    "start": "479729",
    "end": "487199"
  },
  {
    "text": "give you the desired master version it's in limited preview so you know it's only available for customers at this point of",
    "start": "487199",
    "end": "493199"
  },
  {
    "text": "time and then you give it a IIM role because that's the I am role which will have the credentials of creating those",
    "start": "493199",
    "end": "498870"
  },
  {
    "text": "ec2 instances so how does it work well today if you look at it on kubernetes",
    "start": "498870",
    "end": "504780"
  },
  {
    "text": "you have your eks architecture which is a master and HCD and you have your worker nodes down in at the bottom layer",
    "start": "504780",
    "end": "511830"
  },
  {
    "text": "those are all spread across multiple availability zones and it is very important that you think about that",
    "start": "511830",
    "end": "517320"
  },
  {
    "text": "availability zone in order to build highly secure available resilient applications and that's what basically",
    "start": "517320",
    "end": "523469"
  },
  {
    "text": "this gives you now from eks perspective we abstract the control plane for you we",
    "start": "523469",
    "end": "529560"
  },
  {
    "text": "give you a control plan which includes an API server controller scheduler all the key components of the master by",
    "start": "529560",
    "end": "536430"
  },
  {
    "text": "itself and you still bring your worker nodes and you attach the worker nodes to the control plane and then you use the",
    "start": "536430",
    "end": "543900"
  },
  {
    "text": "cube card which is a usual API on how you create manage deploy applications to",
    "start": "543900",
    "end": "549660"
  },
  {
    "text": "talk to the master or the control plane all right let's take a look at it how they do this how I mean does it at micro",
    "start": "549660",
    "end": "556350"
  },
  {
    "text": "focus hey so so I wanted to show you a",
    "start": "556350",
    "end": "563910"
  },
  {
    "text": "product that we released recently about half a year ago and it is a cloud",
    "start": "563910",
    "end": "569520"
  },
  {
    "text": "product that allows you to do over your testing in a cloud so it's something that we based on kubernetes in the AWS",
    "start": "569520",
    "end": "576089"
  },
  {
    "text": "cloud on ec2 instances so this is basically the front screen that you'll",
    "start": "576089",
    "end": "582300"
  },
  {
    "text": "get when you enter something about your test so you get tracking for important",
    "start": "582300",
    "end": "589560"
  },
  {
    "text": "tests some statistics a graph showing you the trends and so on so the high",
    "start": "589560",
    "end": "596040"
  },
  {
    "start": "595000",
    "end": "649000"
  },
  {
    "text": "level solution is of summer and functional we have web and mobile lab on",
    "start": "596040",
    "end": "604260"
  },
  {
    "text": "the cloud so if you need something if you have a Mac and don't have a PC you",
    "start": "604260",
    "end": "609360"
  },
  {
    "text": "can get that different browser different browser versions a lot of different",
    "start": "609360",
    "end": "615480"
  },
  {
    "text": "devices everything you need you can find there a lot of tools integration so the",
    "start": "615480",
    "end": "622410"
  },
  {
    "text": "basic tools Mercury HP software slash micro focus now tools are youth teen",
    "start": "622410",
    "end": "628890"
  },
  {
    "text": "lean of T and then you have selenium and open-source tools and also above that you have a layer of reporting you get",
    "start": "628890",
    "end": "636660"
  },
  {
    "text": "your own reporting you also get good reporting in the cloud and you get analytics and integration and insights",
    "start": "636660",
    "end": "643550"
  },
  {
    "text": "coming also from the production and your testing platform so why use kubernetes",
    "start": "643550",
    "end": "651360"
  },
  {
    "start": "649000",
    "end": "683000"
  },
  {
    "text": "so kubernetes basically you start from VMs then go to containers and containers",
    "start": "651360",
    "end": "657029"
  },
  {
    "text": "are very good and they're dense they're isolated and you get a lot of good stuff",
    "start": "657029",
    "end": "663180"
  },
  {
    "text": "but you go to micro services and you have a lot of these containers and you",
    "start": "663180",
    "end": "668430"
  },
  {
    "text": "want to bind them together allow them to recognize each other get visibility get",
    "start": "668430",
    "end": "674490"
  },
  {
    "text": "lost get monitoring and everything that kubernetes supports so you get",
    "start": "674490",
    "end": "680550"
  },
  {
    "text": "kubernetes and then you build upon that okay so our clusters are actually",
    "start": "680550",
    "end": "687570"
  },
  {
    "start": "683000",
    "end": "760000"
  },
  {
    "text": "organized in a kind of interesting way we have dev cluster staging cluster and",
    "start": "687570",
    "end": "693510"
  },
  {
    "text": "the production class and that's no surprise we have to production clusters but the dev cluster uses namespaces in",
    "start": "693510",
    "end": "699750"
  },
  {
    "text": "order to separate different environments so you have a shared infrastructure layer so one set of databases Postgres",
    "start": "699750",
    "end": "708930"
  },
  {
    "text": "Redis rabbitmq and so on and then you share them with different namespaces",
    "start": "708930",
    "end": "714720"
  },
  {
    "text": "where all the micro services are inside that that namespace so we go and deploy",
    "start": "714720",
    "end": "720510"
  },
  {
    "text": "to an auto deploy environment where you get all the automated tested testing done and then when you get to a level",
    "start": "720510",
    "end": "728130"
  },
  {
    "text": "maturity you go to integration environment where the developers test",
    "start": "728130",
    "end": "733589"
  },
  {
    "text": "their code and after that QA tests it and gets it in a stable environment and",
    "start": "733589",
    "end": "739560"
  },
  {
    "text": "it passes through the stages to staging where you test the actual",
    "start": "739560",
    "end": "744810"
  },
  {
    "text": "deployment and production where everybody sees it so you separate the",
    "start": "744810",
    "end": "751380"
  },
  {
    "text": "infrastructure layer by having different schemas and different prefixes and Redis",
    "start": "751380",
    "end": "758460"
  },
  {
    "text": "and RabbitMQ okay so that really allows you for a lot of flexibility so if you",
    "start": "758460",
    "end": "764820"
  },
  {
    "start": "760000",
    "end": "838000"
  },
  {
    "text": "want to spin up a new environment you don't need to create the whole cluster and we take all the resources and build",
    "start": "764820",
    "end": "773520"
  },
  {
    "text": "upon that you can just spin up a namespace and in that namespace you get all of what you need so if you want to",
    "start": "773520",
    "end": "780540"
  },
  {
    "text": "do penetration testing if you want to do some next version kind of production",
    "start": "780540",
    "end": "788640"
  },
  {
    "text": "environment to test the next version or maybe a patch version then you can just spin up another environment inside this",
    "start": "788640",
    "end": "795810"
  },
  {
    "text": "cluster okay so we use cops that's a surprise it's a very good",
    "start": "795810",
    "end": "801170"
  },
  {
    "text": "product we did also look at kuba spray we started up with the kuba app script",
    "start": "801170",
    "end": "808710"
  },
  {
    "text": "which you just get from out of the box when you start with kubernetes but it's really not very maintained and it's kind",
    "start": "808710",
    "end": "815910"
  },
  {
    "text": "of a big 5,000 line script kind of thing and it really binds you to a single base",
    "start": "815910",
    "end": "822390"
  },
  {
    "text": "image so you get of the cni networks and plugin support you get different base",
    "start": "822390",
    "end": "829740"
  },
  {
    "text": "images supported AWS and GCP and it's very good and well maintained so we",
    "start": "829740",
    "end": "837060"
  },
  {
    "text": "picked that general architecture for SRF so basically you have api gateway that",
    "start": "837060",
    "end": "843660"
  },
  {
    "start": "838000",
    "end": "929000"
  },
  {
    "text": "routes everything to different services you have management layer of a lot of",
    "start": "843660",
    "end": "848760"
  },
  {
    "text": "different micro services they have about 20 30 different micro services there and",
    "start": "848760",
    "end": "854720"
  },
  {
    "text": "then we have an execution layer when we where we isolate the execution subsystem",
    "start": "854720",
    "end": "860520"
  },
  {
    "text": "execution machines each execution machine has docker in a daemon set that controls",
    "start": "860520",
    "end": "867330"
  },
  {
    "text": "that machine and spawns other Dockers and this is used to run scripts that are",
    "start": "867330",
    "end": "873570"
  },
  {
    "text": "uploaded from customers to the cloud so it's very dangerous and we isolate that with",
    "start": "873570",
    "end": "879860"
  },
  {
    "text": "Dockers that can only access certain services very pinpointed access and",
    "start": "879860",
    "end": "886160"
  },
  {
    "text": "they're always being created and destroyed so we do this with kubernetes because we get a lot of visibility and",
    "start": "886160",
    "end": "893480"
  },
  {
    "text": "it's very easy to deploy in daemon set and upgrade with beam on set we usually",
    "start": "893480",
    "end": "898820"
  },
  {
    "text": "upgrade with a rolling update process for the infrastructure you can see we",
    "start": "898820",
    "end": "905750"
  },
  {
    "text": "have the infrastructure layer as we talked about in previous slide we have",
    "start": "905750",
    "end": "911210"
  },
  {
    "text": "browser machines for the different instances that you want to use for testing for browsers and we have s3 for",
    "start": "911210",
    "end": "920240"
  },
  {
    "text": "hosting of the files that come out that there's also a",
    "start": "920240",
    "end": "926300"
  },
  {
    "text": "mobile lab on that corner as attached to it physical cluster layout is very",
    "start": "926300",
    "end": "933110"
  },
  {
    "start": "929000",
    "end": "968000"
  },
  {
    "text": "similar to what Arun showed and so you have master nodes spread across",
    "start": "933110",
    "end": "939590"
  },
  {
    "text": "different availability zones and each of the layers is separated from the other",
    "start": "939590",
    "end": "945470"
  },
  {
    "text": "for security reasons but it has its own set of machines and its own scaling",
    "start": "945470",
    "end": "952880"
  },
  {
    "text": "group and kubernetes just spreads out",
    "start": "952880",
    "end": "958420"
  },
  {
    "text": "instances of each part of each service are two different availability zones so",
    "start": "958480",
    "end": "964010"
  },
  {
    "text": "get high availability and resiliency okay so our base setup uses base images",
    "start": "964010",
    "end": "972590"
  },
  {
    "start": "968000",
    "end": "1069000"
  },
  {
    "text": "that are homegrown we use Ubuntu 16 but we harden it so you get a very secure",
    "start": "972590",
    "end": "979910"
  },
  {
    "text": "boom - and not you know what you get from out of the box we use the standard",
    "start": "979910",
    "end": "985700"
  },
  {
    "text": "kuba net networking with amazon routing so there's a limit there of 50 machines",
    "start": "985700",
    "end": "991520"
  },
  {
    "text": "but you can always scale up the machine so you get more memory and more CPU resources we are researching calico but",
    "start": "991520",
    "end": "999920"
  },
  {
    "text": "mainly for the firewall between pods the",
    "start": "999920",
    "end": "1005200"
  },
  {
    "text": "deployment in the developer machine kind of different from mini cube so we",
    "start": "1005200",
    "end": "1012240"
  },
  {
    "text": "don't use mini q because blowing with docker compose in the development",
    "start": "1012240",
    "end": "1017819"
  },
  {
    "text": "machine allows you to really debug so you can obviously can always open a port",
    "start": "1017819",
    "end": "1024209"
  },
  {
    "text": "but you debug on the machine can change the code and you mouth that code into",
    "start": "1024209",
    "end": "1029308"
  },
  {
    "text": "the development darker so developer can really change its his code and not need",
    "start": "1029309",
    "end": "1037048"
  },
  {
    "text": "to rebuild the darker just restart that docker and the mount will just take care",
    "start": "1037049",
    "end": "1042418"
  },
  {
    "text": "of the mounting that code okay so execution pools and and I already",
    "start": "1042419",
    "end": "1050429"
  },
  {
    "text": "explained and about service configuration we also have a hot deployment configuration service which",
    "start": "1050429",
    "end": "1057240"
  },
  {
    "text": "means that config map is very good for static configuration but if you want to reload the configuration instantly and",
    "start": "1057240",
    "end": "1063210"
  },
  {
    "text": "not close your darker that's a special case that we needed to have something different for okay all right let's talk",
    "start": "1063210",
    "end": "1073740"
  },
  {
    "text": "about how do we what are the options if I want to create deployment pipeline for kubernetes applications so in terms of",
    "start": "1073740",
    "end": "1081059"
  },
  {
    "text": "the deployment choices of course you know everybody loves Jenkins and hates Jenkins as well you know as it is as",
    "start": "1081059",
    "end": "1087570"
  },
  {
    "text": "easy it is to get started with Jenkins as easy it is to get lost in Jenkins which plug-in that plugin I don't know",
    "start": "1087570",
    "end": "1094140"
  },
  {
    "text": "my head starts spinning very soon rather so AWS has this set of suites set of",
    "start": "1094140",
    "end": "1104070"
  },
  {
    "text": "products the core pipeline code commit code build which works seamlessly for creating your pipeline and again in a",
    "start": "1104070",
    "end": "1110159"
  },
  {
    "text": "very classical Amazon way this is a fully managed service and I'll show you how we expect this pipeline to work",
    "start": "1110159",
    "end": "1115830"
  },
  {
    "text": "I know particularly now how you can get it running for kubernetes application and of course there are a bunch of AWS",
    "start": "1115830",
    "end": "1121559"
  },
  {
    "text": "partners that you can take a look at it so get labs shippable circle CI code shape lots of partners that provide",
    "start": "1121559",
    "end": "1128250"
  },
  {
    "text": "similar offering and some of them are actually managed as well for me the",
    "start": "1128250",
    "end": "1133409"
  },
  {
    "text": "critical decision is when I am choosing something in our product or a service or an offering is is it my core competency",
    "start": "1133409",
    "end": "1140010"
  },
  {
    "text": "is that something that I should be investing time in managing it as opposed",
    "start": "1140010",
    "end": "1145399"
  },
  {
    "text": "to like yeah this is something you know somewhere sitting on the Internet and I can just access it and somebody else is managing it for me where I can continue",
    "start": "1145399",
    "end": "1152299"
  },
  {
    "text": "to focus on my core competency and that's where core pipeline comes in very handy anyway let's take a look at it how",
    "start": "1152299",
    "end": "1159139"
  },
  {
    "start": "1156000",
    "end": "1235000"
  },
  {
    "text": "we are seeing developers building their deployment pipelines using Jenkins what you're seeing is basically a Jenkins",
    "start": "1159139",
    "end": "1165590"
  },
  {
    "text": "file and this Jenkins file you can exactly define what your stages would look like so for example I have a stage",
    "start": "1165590",
    "end": "1172039"
  },
  {
    "text": "called as checkout where they say okay you know what check out this particular repo or clone this repo onto one of the slaves",
    "start": "1172039",
    "end": "1178970"
  },
  {
    "text": "assuming you have set up your Jenkins and all those things very good then you say alright I'm gonna use a darker file",
    "start": "1178970",
    "end": "1184580"
  },
  {
    "text": "because this is just a Java project or an old project or a Python project use the docker file to build my docker image",
    "start": "1184580",
    "end": "1190970"
  },
  {
    "text": "once you build the docker image you can push it to your repository of choice whether it is talker hub whether it is",
    "start": "1190970",
    "end": "1197090"
  },
  {
    "text": "ECR whatever your public repo is once again you have to make sure that your credentials are configured accordingly",
    "start": "1197090",
    "end": "1202369"
  },
  {
    "text": "so that the slave has the right privileges to be able to push to that registry and last but not the least you",
    "start": "1202369",
    "end": "1209779"
  },
  {
    "text": "use the standard kubernetes primitives to say alright I'm ready to actually do the deployment so if you're updating a",
    "start": "1209779",
    "end": "1216590"
  },
  {
    "text": "deployment and typically there are no ways by which you can do a rolling update of a deployment again very",
    "start": "1216590",
    "end": "1222799"
  },
  {
    "text": "kubernetes specific or you can do a a be using to deployment scale one up scale one down so there are lots of those",
    "start": "1222799",
    "end": "1228980"
  },
  {
    "text": "standard kubernetes ways jenkins pretty much acts as just a Orchestrator of how the solution is built and if you can see",
    "start": "1228980",
    "end": "1236809"
  },
  {
    "text": "this is our house our of all the stages are shown so I mean you can see from check out to build to post to update",
    "start": "1236809",
    "end": "1243019"
  },
  {
    "text": "application and then finally I'm saying alright everything is green so looks good and then of course this Jenkins",
    "start": "1243019",
    "end": "1248690"
  },
  {
    "text": "file is a groovy file essentially which you write and you can say how it should look like let's take a look at it how I",
    "start": "1248690",
    "end": "1256309"
  },
  {
    "start": "1253000",
    "end": "1388000"
  },
  {
    "text": "build something similar using code pipeline so I'm a developer I check in my code so what I'm gonna do is I'm",
    "start": "1256309",
    "end": "1262249"
  },
  {
    "text": "gonna go to the AWS console say create me a code pipeline I get a code pipeline now the cool pipeline can be configured",
    "start": "1262249",
    "end": "1269450"
  },
  {
    "text": "to pick up your code check-ins from code commit you can have your code sitting in code commit which is again",
    "start": "1269450",
    "end": "1276080"
  },
  {
    "text": "hosted get repo or you can say could commit go talk to github because that's where my code is sitting so you can do",
    "start": "1276080",
    "end": "1282500"
  },
  {
    "text": "that as an option as well now once you clone the repo then you can say use my code build service to do the building",
    "start": "1282500",
    "end": "1289809"
  },
  {
    "text": "you want to do that or I could say you know what I know how to build it and I'll build it locally accordingly now as",
    "start": "1289809",
    "end": "1296600"
  },
  {
    "text": "soon as your code is built you push it to an ECR essentially you know because imagine all",
    "start": "1296600",
    "end": "1302899"
  },
  {
    "text": "of this is running on Amazon Cloud so that makes it a lot easier if you push it to ECR because this is all very easy",
    "start": "1302899",
    "end": "1309470"
  },
  {
    "text": "to kind of pull it from ECR to ec2 host essentially but at the point being as",
    "start": "1309470",
    "end": "1315230"
  },
  {
    "text": "soon as your code build completes building the application it pushes the docker image to ECR it also triggers a",
    "start": "1315230",
    "end": "1322669"
  },
  {
    "text": "lambda that by the way I'm done pushing that image to ECR so it triggers the lambda function the lambda function is",
    "start": "1322669",
    "end": "1329740"
  },
  {
    "text": "written in Python and it uses the kubernetes Python API which then talks",
    "start": "1329740",
    "end": "1334909"
  },
  {
    "text": "to my kubernetes cluster it also has my kubernetes credentials because i should",
    "start": "1334909",
    "end": "1340669"
  },
  {
    "text": "be able to talk to the kubernetes cluster so the kubernetes credentials are stored an encrypted manner as you",
    "start": "1340669",
    "end": "1346429"
  },
  {
    "text": "know Werner was saying you know dance like everybody's watching encrypt like everybody's well dance like nobody's",
    "start": "1346429",
    "end": "1353210"
  },
  {
    "text": "watching but encrypt like everybody's watching so those kubernetes credentials are again stored in an encrypted manner",
    "start": "1353210",
    "end": "1359029"
  },
  {
    "text": "with this lambda function so now lambda function has my credentials it can talk to the kubernetes cluster and then of",
    "start": "1359029",
    "end": "1365269"
  },
  {
    "text": "course the kubernetes cluster essentially pulls the image from the github repo or that from the docker hub",
    "start": "1365269",
    "end": "1371779"
  },
  {
    "text": "repo or the ECR wherever you push the application and it gets it up and running now this is available as a",
    "start": "1371779",
    "end": "1378470"
  },
  {
    "text": "reference architecture so you can literally follow the exact steps on how you want to get going with simply",
    "start": "1378470",
    "end": "1384889"
  },
  {
    "text": "deploying creating a simple pipeline for kubernetes application right I mean",
    "start": "1384889",
    "end": "1391430"
  },
  {
    "start": "1388000",
    "end": "1429000"
  },
  {
    "text": "[Music] so so our DevOps cycle we have a lot of",
    "start": "1391430",
    "end": "1399720"
  },
  {
    "text": "developers working on this project some of them are working on slightly other projects integrated into this cloud so",
    "start": "1399720",
    "end": "1406920"
  },
  {
    "text": "we have 13 dev teams working and Java no GS and go and they're always committing",
    "start": "1406920",
    "end": "1412980"
  },
  {
    "text": "so every commit triggers some kind of build and deploy cycle and we have about",
    "start": "1412980",
    "end": "1419040"
  },
  {
    "text": "40 different github repos and everything is always running around and doing this",
    "start": "1419040",
    "end": "1426150"
  },
  {
    "text": "stuff so you can see it ok so dedicated DevOps team works on",
    "start": "1426150",
    "end": "1433800"
  },
  {
    "start": "1429000",
    "end": "1454000"
  },
  {
    "text": "building of these pipelines and creating the different bills and so operating",
    "start": "1433800",
    "end": "1444020"
  },
  {
    "text": "implementing pipelines and Tara forms for the infrastructure tweaking of the",
    "start": "1444020",
    "end": "1451230"
  },
  {
    "text": "kubernetes manifest files and so on ok the devil cycle looks something like",
    "start": "1451230",
    "end": "1457350"
  },
  {
    "start": "1454000",
    "end": "1521000"
  },
  {
    "text": "this so mainly start with commit from a developer then it goes it get Jenkins",
    "start": "1457350",
    "end": "1465240"
  },
  {
    "text": "gets a trigger clones the repo builds and tests unit tests and then that goes",
    "start": "1465240",
    "end": "1472250"
  },
  {
    "text": "it basically goes into a docker registry and to $2 registries so one is local for",
    "start": "1472250",
    "end": "1478230"
  },
  {
    "text": "the dev people to pull the other one is a CI registry and actually a third one",
    "start": "1478230",
    "end": "1483960"
  },
  {
    "text": "goes into an image file gets pushed into a different repository where it's clear",
    "start": "1483960",
    "end": "1489420"
  },
  {
    "text": "scanned and we get some security and you know defect visibility about security",
    "start": "1489420",
    "end": "1495690"
  },
  {
    "text": "alerts there once it's inside ECR Jenkins triggers rolling update request",
    "start": "1495690",
    "end": "1504540"
  },
  {
    "text": "into the kubernetes nodes and the auto deployment environment gets that",
    "start": "1504540",
    "end": "1509760"
  },
  {
    "text": "deployment and everything here maybe takes about 10 or 15 minutes and you get",
    "start": "1509760",
    "end": "1516150"
  },
  {
    "text": "everything in the environments online and you can test your code so obviously they tested",
    "start": "1516150",
    "end": "1523539"
  },
  {
    "start": "1521000",
    "end": "1665000"
  },
  {
    "text": "it first and your developer setup but when you get to the cloud you get it",
    "start": "1523539",
    "end": "1528940"
  },
  {
    "text": "more mature so our DevOps stories started a couple of years ago and we",
    "start": "1528940",
    "end": "1534730"
  },
  {
    "text": "started with not knowing a lot about kubernetes and Dockers and the right way",
    "start": "1534730",
    "end": "1540250"
  },
  {
    "text": "of writing everything was kind of alpha or beta so we started just taking",
    "start": "1540250",
    "end": "1546120"
  },
  {
    "text": "Jenkins like it was and using Jenkins UI to configure jobs so we ended up with a",
    "start": "1546120",
    "end": "1552070"
  },
  {
    "text": "lot of jobs being in for a parameterised jobs that are being called by other",
    "start": "1552070",
    "end": "1558630"
  },
  {
    "text": "pipeline specific jobs that are being called by master Orchestrator jobs and",
    "start": "1558630",
    "end": "1563799"
  },
  {
    "text": "everything was kind of a mess and when the developer got mailed that his commit",
    "start": "1563799",
    "end": "1568870"
  },
  {
    "text": "or maybe someone else's commit but he's in the list that broke the pipeline then",
    "start": "1568870",
    "end": "1576549"
  },
  {
    "text": "he'll need to go and deal with all this mess of logs and and click on all these",
    "start": "1576549",
    "end": "1582309"
  },
  {
    "text": "links until he found whatever was happening there and he usually got lost along the way so I really need to to",
    "start": "1582309",
    "end": "1590140"
  },
  {
    "text": "change that so so yeah hard to trace a",
    "start": "1590140",
    "end": "1595960"
  },
  {
    "text": "tie between Devon DevOps low pipelines and no versioning for the build system",
    "start": "1595960",
    "end": "1601120"
  },
  {
    "text": "so we shifted to build that goal was kind of a long project took us about two",
    "start": "1601120",
    "end": "1607570"
  },
  {
    "text": "to three months to implement but we changed everything to be multistage Dockers so we get your build environment",
    "start": "1607570",
    "end": "1615159"
  },
  {
    "text": "into a darker with base image and you have jenkins files for the tasks you",
    "start": "1615159",
    "end": "1621669"
  },
  {
    "text": "have a gulp to build the actual code so it's usually no GS type script and we",
    "start": "1621669",
    "end": "1627880"
  },
  {
    "text": "also have some go kubernetes manifest file obviously for all the llam√≥ files",
    "start": "1627880",
    "end": "1633190"
  },
  {
    "text": "you need to deploy and for the environment we also build environment this code so we have helm scripts we",
    "start": "1633190",
    "end": "1640090"
  },
  {
    "text": "have terraform scripts to implement all the installation of the different",
    "start": "1640090",
    "end": "1645370"
  },
  {
    "text": "database and configuration and we also have a packer to build a different OSS",
    "start": "1645370",
    "end": "1650919"
  },
  {
    "text": "and different machine we have both in AWS and stuff we want",
    "start": "1650919",
    "end": "1656100"
  },
  {
    "text": "for mac with templates in VMware so everything is code so everything is",
    "start": "1656100",
    "end": "1662400"
  },
  {
    "text": "versioned everything is okay so it unties dev and devops you don't need to",
    "start": "1662400",
    "end": "1670950"
  },
  {
    "text": "have dev coming to DevOps saying I need another pipeline just please build this for me",
    "start": "1670950",
    "end": "1676320"
  },
  {
    "text": "you have full traceability so once you go into Jenkins just one job that you",
    "start": "1676320",
    "end": "1681570"
  },
  {
    "text": "look at log and you can find your problem there just search for error builds are carried on when you branch",
    "start": "1681570",
    "end": "1688320"
  },
  {
    "text": "then everything is committed to the git repo so the branch also includes all of the build instructions and if you want",
    "start": "1688320",
    "end": "1695730"
  },
  {
    "text": "to build that you just go into Jenkins and say build this branch and everything is already there and obviously you get a",
    "start": "1695730",
    "end": "1703440"
  },
  {
    "text": "lot of visibility in reversibility because it's it's good so you can always",
    "start": "1703440",
    "end": "1710390"
  },
  {
    "start": "1707000",
    "end": "1757000"
  },
  {
    "text": "yeah well one of the things we realize it you know creating that self-service",
    "start": "1711590",
    "end": "1716940"
  },
  {
    "text": "environment is very important where you say you know what I don't have to go talk to somebody you know and generally",
    "start": "1716940",
    "end": "1722669"
  },
  {
    "text": "I don't like talking to people you know if there is something self-service on the web particularly when I am working then it's lot easier and more",
    "start": "1722669",
    "end": "1729360"
  },
  {
    "text": "importantly is a lot more scalable I think that's the key that's what you should really focus on and that's that's",
    "start": "1729360",
    "end": "1734669"
  },
  {
    "text": "what is really giving it to you the other part that I want to focus is I mean I I know you lot of you guys are",
    "start": "1734669",
    "end": "1739919"
  },
  {
    "text": "taking pictures make sure you share them make sure you share them with your team and the third part that I want to say",
    "start": "1739919",
    "end": "1745380"
  },
  {
    "text": "before I get into this part is what we are sharing here are some of the practices that have worked for us and",
    "start": "1745380",
    "end": "1752070"
  },
  {
    "text": "our customers like I mean you know so we would love to hear your stories as well let's talk about visibility now if you",
    "start": "1752070",
    "end": "1759870"
  },
  {
    "start": "1757000",
    "end": "1896000"
  },
  {
    "text": "look at visibility in your cluster what are the different things that need to be visible in your cluster well there is a",
    "start": "1759870",
    "end": "1765900"
  },
  {
    "text": "cluster first of all which is sort of the high-level abstract or the construct then within a cluster you have multiple",
    "start": "1765900",
    "end": "1773070"
  },
  {
    "text": "nodes which are sort of the physical host where you need to get visibility on then on that node is where your",
    "start": "1773070",
    "end": "1780120"
  },
  {
    "text": "container is running so you need visibility on that so that kind of gives you a full nice visit",
    "start": "1780120",
    "end": "1785880"
  },
  {
    "text": "but then you want a little bit different slice and dice where you can say oh I don't want a visibility and a container",
    "start": "1785880",
    "end": "1792210"
  },
  {
    "text": "by itself but show me sort of my heat map of my application so those are some of the aspects that you're looking for",
    "start": "1792210",
    "end": "1798090"
  },
  {
    "text": "on how what sort of visibility do I want in my cluster now when I say visibility those are my",
    "start": "1798090",
    "end": "1804179"
  },
  {
    "text": "artifacts on which on I want visibility but what do I want well I want logs now",
    "start": "1804179",
    "end": "1809610"
  },
  {
    "text": "if you know something breaks the first thing you want to check is take the logs did you check the logs did you enable",
    "start": "1809610",
    "end": "1815490"
  },
  {
    "text": "the logging you know go from info to debug logs so that's the first thing that anybody would ask then you're",
    "start": "1815490",
    "end": "1821010"
  },
  {
    "text": "looking at metrics how is my CPU utilization memory utilization because that allows me to tune my cluster do I",
    "start": "1821010",
    "end": "1827940"
  },
  {
    "text": "need to scale my cluster up down or set up my cloud watch metrics whatever that needs to be done I'm looking at events",
    "start": "1827940",
    "end": "1834300"
  },
  {
    "text": "and events is like node going down port starting up so those are my events that I wanted to start tracking I could be",
    "start": "1834300",
    "end": "1841080"
  },
  {
    "text": "looking at alerts that Oh CPU threshold crossed so based upon those alerts again",
    "start": "1841080",
    "end": "1846900"
  },
  {
    "text": "I should be able to take actions sometimes it could be proactive some it could be reactive and last but not the",
    "start": "1846900",
    "end": "1852720"
  },
  {
    "text": "least we're looking at tracing because tracing is a critical part now when you're building your application as a",
    "start": "1852720",
    "end": "1858420"
  },
  {
    "text": "set of micro services I'm just using the term micro services loosely but a set of services and you are running that",
    "start": "1858420",
    "end": "1865320"
  },
  {
    "text": "application on kubernetes those are different applications running across multiple hosts if I make a request from",
    "start": "1865320",
    "end": "1871980"
  },
  {
    "text": "the outbound client into the application and that travels across those four or five services how do I trace what is",
    "start": "1871980",
    "end": "1879450"
  },
  {
    "text": "going across my request so that is an important aspect so my point is the four",
    "start": "1879450",
    "end": "1885480"
  },
  {
    "text": "different places where you want visibility and what you want visibility on is sitting on the top do you want",
    "start": "1885480",
    "end": "1891570"
  },
  {
    "text": "each one for each one of those in an ideal case but let's see so if you look",
    "start": "1891570",
    "end": "1897210"
  },
  {
    "start": "1896000",
    "end": "2006000"
  },
  {
    "text": "at logs the easiest way to get logs particularly if you're running a company is cluster days cube catalogs that's the",
    "start": "1897210",
    "end": "1903000"
  },
  {
    "text": "most rounded way but that really gives you the log for a pod or a service you",
    "start": "1903000",
    "end": "1909210"
  },
  {
    "text": "know so you can get those logs but that's about it a lot of our customers we have seen",
    "start": "1909210",
    "end": "1914640"
  },
  {
    "text": "using F stack as well so which is basically a combination of elastic fluently and Cabana and you use",
    "start": "1914640",
    "end": "1921899"
  },
  {
    "text": "elasticsearch now for indexing your logs are being sent to fluency for storing",
    "start": "1921899",
    "end": "1928679"
  },
  {
    "text": "and then you're building your own Cabana dashboard so f'q is one of the ways but let's see how the ex that really works",
    "start": "1928679",
    "end": "1934200"
  },
  {
    "text": "so what I'm showing here is to master for worker node cluster and those are",
    "start": "1934200",
    "end": "1941880"
  },
  {
    "text": "spread across to availability zones okay now the way I would set up F stack is",
    "start": "1941880",
    "end": "1948360"
  },
  {
    "text": "essentially I will run a flow and D as a daemon set that's running on each of the nodes over there anytime any action",
    "start": "1948360",
    "end": "1957450"
  },
  {
    "text": "happens so like say pod is doing something it will write to the darker daemon then from there flew Andy will",
    "start": "1957450",
    "end": "1963210"
  },
  {
    "text": "pick up that darker log and it will dump it into the cloud watch logs so cloud washcloths kind of gives you a central",
    "start": "1963210",
    "end": "1969330"
  },
  {
    "text": "place where all this would exist then from cloud works logs there is a plugin that you can connect to saying okay just",
    "start": "1969330",
    "end": "1976200"
  },
  {
    "text": "guide it to elasticsearch because that gives me easy way to search all the logs and then on top of that you can set up",
    "start": "1976200",
    "end": "1983370"
  },
  {
    "text": "your own keep on a dashboard so that sort of again very easy way I could really create this F stack in a matter",
    "start": "1983370",
    "end": "1989820"
  },
  {
    "text": "of few minutes literally not even know hours in a matter of few minutes just spin up your flow Andy a daemon set",
    "start": "1989820",
    "end": "1996570"
  },
  {
    "text": "connected to cloud watch pick up elastic search there are pre-built Cabana",
    "start": "1996570",
    "end": "2002059"
  },
  {
    "text": "dashboards available bring them in and you ready to roll so that's one of the ways we're seeing it in terms of metrics",
    "start": "2002059",
    "end": "2008840"
  },
  {
    "start": "2006000",
    "end": "2141000"
  },
  {
    "text": "we are seeing lots of different places where you're doing matrix for node you",
    "start": "2008840",
    "end": "2015440"
  },
  {
    "text": "can certainly use node exporter that gives you more details about the node itself the physical host for or the",
    "start": "2015440",
    "end": "2022970"
  },
  {
    "text": "slash container there is of course cube state metrics which is baked into kubernetes or you can use c advisor",
    "start": "2022970",
    "end": "2029200"
  },
  {
    "text": "which again gives you which is a open source project short name for container",
    "start": "2029200",
    "end": "2034850"
  },
  {
    "text": "advisor which gives you specifically specific about the power itself and for application you can use Prometheus tile",
    "start": "2034850",
    "end": "2041299"
  },
  {
    "text": "slash matrix so you can use if you're using a java application so you can bake the Prometheus client in there start",
    "start": "2041299",
    "end": "2048050"
  },
  {
    "text": "exposing your matrix or maybe you could use your JMX matrix from the application and expose them at slash",
    "start": "2048050",
    "end": "2055550"
  },
  {
    "text": "metrics which is using Prometheus tile because then you know Prometheus will be able to scrape but URL and put them into",
    "start": "2055550",
    "end": "2062540"
  },
  {
    "text": "a consolidated place so those are sort of your metrics that you need at first level then you need some cluster wide",
    "start": "2062540",
    "end": "2069648"
  },
  {
    "text": "aggregator so you could use Prometheus as an aggregator picking from different sources or you can use heap store no",
    "start": "2069649",
    "end": "2075710"
  },
  {
    "text": "because that will grab data as well now these tools are continually evolving so earlier see it was it was only giving me",
    "start": "2075710",
    "end": "2082730"
  },
  {
    "text": "about container now it gives me something about node as well so depending upon what tools work in your",
    "start": "2082730",
    "end": "2088550"
  },
  {
    "text": "organization to take a look at that you need a data model where you need to store this data base Prometheus has a",
    "start": "2088550",
    "end": "2094520"
  },
  {
    "text": "database but you can also use influx DB or graphite as a back-end database where",
    "start": "2094520",
    "end": "2099890"
  },
  {
    "text": "you want to store all this information now all these metrics are good but what",
    "start": "2099890",
    "end": "2105440"
  },
  {
    "text": "do I do with it you know I mean I need somebody to tell me that hey something has gone wrong so you need some sort of",
    "start": "2105440",
    "end": "2110660"
  },
  {
    "text": "alerting capability on top of that so then again alert manager or capacitor those are open source offerings that you",
    "start": "2110660",
    "end": "2116870"
  },
  {
    "text": "can use last but not the least when I come back Monday morning I want to see a",
    "start": "2116870",
    "end": "2123290"
  },
  {
    "text": "fancy dashboard colorful charts somehow that yeah everything looked good nobody paged me you know nothing is on fire",
    "start": "2123290",
    "end": "2129500"
  },
  {
    "text": "everything looks green so I can keep doing my regular Monday emails as opposed to sit in the fire drill for next five hours so those are some of the",
    "start": "2129500",
    "end": "2137030"
  },
  {
    "text": "tools that we have seen our customers using in different aspects for matrix now if you have a distributed",
    "start": "2137030",
    "end": "2144530"
  },
  {
    "start": "2141000",
    "end": "2213000"
  },
  {
    "text": "application running in kubernetes how do you we were talking about the tracing aspect of it so how do you do that so",
    "start": "2144530",
    "end": "2149810"
  },
  {
    "text": "you want to really do that not only during development where everything",
    "start": "2149810",
    "end": "2154910"
  },
  {
    "text": "seems to work lot nicer and easier but when breaks in production that's funny what you want to be able to track",
    "start": "2154910",
    "end": "2160850"
  },
  {
    "text": "it that's when you wanna be able to debug it what's going on what's going wrong so that's what that's that's the",
    "start": "2160850",
    "end": "2166430"
  },
  {
    "text": "key part here so you want to be able to identify the root cause and troubleshoot it and then figure out oh now I need to",
    "start": "2166430",
    "end": "2173930"
  },
  {
    "text": "do a new deployment essentially over there and as I was saying earlier you really want to end-to-end view of what's",
    "start": "2173930",
    "end": "2180620"
  },
  {
    "text": "really happening all the way from client to the back-end database I want a single tool I",
    "start": "2180620",
    "end": "2186990"
  },
  {
    "text": "every time you are switching a tool you are more likely to lose it and I call that as a leaky bucket so I prefer to",
    "start": "2186990",
    "end": "2193230"
  },
  {
    "text": "use a single tool which gives me n to n as opposed to saying o for my java application I can use JMX for my",
    "start": "2193230",
    "end": "2200900"
  },
  {
    "text": "database I'm gonna use something else from sqs I'm gonna use something else doesn't work for me",
    "start": "2200900",
    "end": "2206040"
  },
  {
    "text": "I want that consolidated end-to-end view over there so once again it at AWS we",
    "start": "2206040",
    "end": "2212430"
  },
  {
    "text": "have x-ray which is a managed service and what that gives you is you can instrument you know x-ray daemon so",
    "start": "2212430",
    "end": "2219420"
  },
  {
    "start": "2213000",
    "end": "2287000"
  },
  {
    "text": "x-ray is a managed service as well but x-ray daemon is fully open sourced and so what you can do is you can download",
    "start": "2219420",
    "end": "2226320"
  },
  {
    "text": "extra daemon you can set it up as a daemon set so now your x-ray is running",
    "start": "2226320",
    "end": "2232619"
  },
  {
    "text": "as a daemon set on your kubernetes cluster and now you have instrumented your application using x-ray SDK so",
    "start": "2232619",
    "end": "2240089"
  },
  {
    "text": "whether it is node or Python or Java you pick your language there's a x-ray SDK",
    "start": "2240089",
    "end": "2245460"
  },
  {
    "text": "you instrument your application and then as you make a request to your application as your request is traveling",
    "start": "2245460",
    "end": "2252839"
  },
  {
    "text": "through these different micro services as part of the same application you can start defining segments and sub segments",
    "start": "2252839",
    "end": "2259619"
  },
  {
    "text": "and sub sub segments and so for example here I'm showing you a simple application there consists of three",
    "start": "2259619",
    "end": "2265830"
  },
  {
    "text": "micro services at any point of time I can click on one of the segments and say showing more details and it'll start",
    "start": "2265830",
    "end": "2272339"
  },
  {
    "text": "showing me traces then I can start identifying the bottlenecks that oh this one took about you know one hundred and",
    "start": "2272339",
    "end": "2277980"
  },
  {
    "text": "ten milliseconds and this took about only ten milliseconds so let me take a look at it why this is taking hundred",
    "start": "2277980",
    "end": "2283080"
  },
  {
    "text": "and ten milliseconds and you can start getting more details about it okay",
    "start": "2283080",
    "end": "2292920"
  },
  {
    "start": "2287000",
    "end": "2346000"
  },
  {
    "text": "so visibility in micro focus so for a seraph we used F stack like I said it",
    "start": "2292920",
    "end": "2301950"
  },
  {
    "text": "really comes with kubernetes it's the way to go and inside Cabana so we the F",
    "start": "2301950",
    "end": "2309839"
  },
  {
    "text": "sack is just a darker daemon pushing the files into fluency and fluent is indexing that into elasticsearch we also",
    "start": "2309839",
    "end": "2319470"
  },
  {
    "text": "like to use plug-in called log trail to see the log so this is log trail in action it's just",
    "start": "2319470",
    "end": "2326910"
  },
  {
    "text": "open source so we also collect browser",
    "start": "2326910",
    "end": "2333390"
  },
  {
    "text": "machine logs and scripts and script execution logs so the way we do it is we",
    "start": "2333390",
    "end": "2338850"
  },
  {
    "text": "have a service that collects that and pushes them into directory where fluidy",
    "start": "2338850",
    "end": "2344700"
  },
  {
    "text": "can take them okay monitoring very standard as well we",
    "start": "2344700",
    "end": "2349740"
  },
  {
    "start": "2346000",
    "end": "2404000"
  },
  {
    "text": "use prometheus we we change we took",
    "start": "2349740",
    "end": "2356460"
  },
  {
    "text": "Prometheus to collect all the metrics from different api's and different",
    "start": "2356460",
    "end": "2363920"
  },
  {
    "text": "infrastructure so we also have exporters for both squares elastic and different",
    "start": "2363920",
    "end": "2370610"
  },
  {
    "text": "others and we also take applicative",
    "start": "2370610",
    "end": "2376710"
  },
  {
    "text": "metrics so we have custom metrics showing us the pools and the different usage of execution slots and so on so",
    "start": "2376710",
    "end": "2384060"
  },
  {
    "text": "the way it works we use a Prometheus instance that is not part of the kubernetes cluster because you wanted to",
    "start": "2384060",
    "end": "2393060"
  },
  {
    "text": "have our monitoring system external to the cluster so if there's some kind of problem monitoring won't be down and then we",
    "start": "2393060",
    "end": "2403230"
  },
  {
    "text": "have some alerts so you could see an alert dashboard here that shows us",
    "start": "2403230",
    "end": "2409890"
  },
  {
    "start": "2404000",
    "end": "2434000"
  },
  {
    "text": "different alerts on the metrics we collect and we collect metrics for liveliness of weather services down or",
    "start": "2409890",
    "end": "2417030"
  },
  {
    "text": "not whether the whole whole system is down or not we have CPU metrics that we",
    "start": "2417030",
    "end": "2422520"
  },
  {
    "text": "get from kubernetes CPU memory IO and for each pod API latency number of calls",
    "start": "2422520",
    "end": "2430080"
  },
  {
    "text": "per second and so on then we have the custom metrics and we also have in from",
    "start": "2430080",
    "end": "2435510"
  },
  {
    "start": "2434000",
    "end": "2455000"
  },
  {
    "text": "on touring for everything including Prometheus itself so we found several problems like this so seeing that there",
    "start": "2435510",
    "end": "2443280"
  },
  {
    "text": "was a problem with IAP SAR so on or maybe number of connections in the",
    "start": "2443280",
    "end": "2448620"
  },
  {
    "text": "database and you can see number of connections cache hits and so on in Postgres",
    "start": "2448620",
    "end": "2454210"
  },
  {
    "text": "for example here most of the dashboards are easily downloadable from the graph on a site so this is a baked dashboard",
    "start": "2454210",
    "end": "2462460"
  },
  {
    "start": "2455000",
    "end": "2475000"
  },
  {
    "text": "that we just downloaded and you get visibility to your whole cluster and you can filter out different pods and",
    "start": "2462460",
    "end": "2468790"
  },
  {
    "text": "service and see what they're doing right now memory usage CPU such and so on API",
    "start": "2468790",
    "end": "2476320"
  },
  {
    "start": "2475000",
    "end": "2497000"
  },
  {
    "text": "dashboard is something that we did we instrumented our code to display the different api's and the time it takes to",
    "start": "2476320",
    "end": "2483520"
  },
  {
    "text": "process them and when you do load testing and you really want to see into",
    "start": "2483520",
    "end": "2489430"
  },
  {
    "text": "the system and see which service and which API is doing the most problematic",
    "start": "2489430",
    "end": "2494920"
  },
  {
    "text": "things that you can see it here and that's it yeah this is what this is the",
    "start": "2494920",
    "end": "2501369"
  },
  {
    "start": "2497000",
    "end": "2610000"
  },
  {
    "text": "workshop oh thank you thank you now if you want to get started with kubernetes",
    "start": "2501369",
    "end": "2507700"
  },
  {
    "text": "you know this is a workshop that we built over last year this is a workshop that was delivered at reinvent add cube",
    "start": "2507700",
    "end": "2514869"
  },
  {
    "text": "con and we'll be giving this back again at cube con copenhagen so this workshop",
    "start": "2514869",
    "end": "2519910"
  },
  {
    "text": "you know if you have never played with kubernetes you can easily spend a week just doing this workshop you know it's",
    "start": "2519910",
    "end": "2525460"
  },
  {
    "text": "meant for newbies who want to get started with kubernetes so it explains the basic concepts of kubernetes it",
    "start": "2525460",
    "end": "2532390"
  },
  {
    "text": "takes you how do you set up a kubernetes cluster how do you do monitoring how do you do logging you know entire concepts you",
    "start": "2532390",
    "end": "2539050"
  },
  {
    "text": "know it does all of that you know debugging local development it has a lot of details about how do you want to get",
    "start": "2539050",
    "end": "2544690"
  },
  {
    "text": "started with it so I would highly recommend take a look at this workshop not only that and I particularly work in",
    "start": "2544690",
    "end": "2550210"
  },
  {
    "text": "the open-source team so I am looking forward you know I want this to be an extremely collaborative way so if you look at it there are about thousand",
    "start": "2550210",
    "end": "2556780"
  },
  {
    "text": "stars to the workshop you know there are about 300 people in this room if each one of you give a give a start to the",
    "start": "2556780",
    "end": "2562510"
  },
  {
    "text": "repo I don't see why it cannot shoot up you know to 1,200 right now more importantly I am looking forward to your",
    "start": "2562510",
    "end": "2569020"
  },
  {
    "text": "contributions file there you shoes that Arun I would like to see this in this workshop and that is not there or better",
    "start": "2569020",
    "end": "2576369"
  },
  {
    "text": "up the ante you know say I'm gonna send a pull request or this is not working every commit that you make every pull",
    "start": "2576369",
    "end": "2584260"
  },
  {
    "text": "request that you make whether it's a simple typo it's a calm is a punctuation or is a new chapter",
    "start": "2584260",
    "end": "2590970"
  },
  {
    "text": "makes the workshop that much more better so we are looking for it and as Werner said go build me and I'm it they're",
    "start": "2590970",
    "end": "2597790"
  },
  {
    "text": "going to be outside and I'm for taking your questions and I'm going to be in the AWS booth if you want to talk more about anything around kubernetes or",
    "start": "2597790",
    "end": "2604180"
  },
  {
    "text": "containers at AWS thank you [Applause]",
    "start": "2604180",
    "end": "2612739"
  }
]