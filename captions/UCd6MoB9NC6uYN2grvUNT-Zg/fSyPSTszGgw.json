[
  {
    "start": "0",
    "end": "98000"
  },
  {
    "text": "I started a quick show of hands who's",
    "start": "0",
    "end": "5640"
  },
  {
    "text": "ever tried to build a storage system that would need to scale to say a couple of petabytes of data actually see a",
    "start": "5640",
    "end": "12900"
  },
  {
    "text": "couple of hands that's great all right now now keep your hands up and keep keeping your hands up if you feel like",
    "start": "12900",
    "end": "18210"
  },
  {
    "text": "you have succeeded in that endeavor I actually won't have okay",
    "start": "18210",
    "end": "24300"
  },
  {
    "text": "keep your hand up if you're not from Netflix awesome I'd like to talk to you more about after this but um I know if",
    "start": "24300",
    "end": "31890"
  },
  {
    "text": "you noticed we had just very few hands up and mine wasn't there either at the",
    "start": "31890",
    "end": "39690"
  },
  {
    "text": "second part so it turns out this is an extremely hard problem and we totally",
    "start": "39690",
    "end": "44730"
  },
  {
    "text": "failed in doing that so why we are here today is to share with you a couple of learnings on how we are still in",
    "start": "44730",
    "end": "53010"
  },
  {
    "text": "business after having failed that so I will tell you about three fundamental",
    "start": "53010",
    "end": "61739"
  },
  {
    "text": "different use cases we have in production of s3 that will be around 25",
    "start": "61739",
    "end": "67740"
  },
  {
    "text": "minutes all things considered and then after that I will hand the presentation",
    "start": "67740",
    "end": "73710"
  },
  {
    "text": "over to Tom Ashe who will tell you more about how we built our self-service big",
    "start": "73710",
    "end": "80430"
  },
  {
    "text": "data stack on the s3 and related services after that we will ideally have",
    "start": "80430",
    "end": "86400"
  },
  {
    "text": "around 10 minutes for questions but feel free to reach out to us in Twitter in email even LinkedIn and for questions at",
    "start": "86400",
    "end": "94470"
  },
  {
    "text": "the end we have two microphones set up there so to give you a little context on where",
    "start": "94470",
    "end": "101159"
  },
  {
    "text": "we are coming from what's what's pressing pressing is essentially the",
    "start": "101159",
    "end": "106229"
  },
  {
    "text": "product is essentially what you see here on the screens behind me it's a presentation software what may be more",
    "start": "106229",
    "end": "112640"
  },
  {
    "text": "more relevant for this session here is what kind of scale we are talking about in this in the storage scenario so we",
    "start": "112640",
    "end": "120060"
  },
  {
    "text": "have over 75 million users worldwide who have created over 280 million",
    "start": "120060",
    "end": "127190"
  },
  {
    "text": "presentations and this whole thing is supported by around 100 engineers now those engineers",
    "start": "127190",
    "end": "134110"
  },
  {
    "text": "are split across a number of platforms the hundreds nears include Android developers include web front-end",
    "start": "134110",
    "end": "141010"
  },
  {
    "text": "developers and we have maybe 10 people working on infrastructure and then since",
    "start": "141010",
    "end": "146470"
  },
  {
    "text": "we're here to talk about that 3 let's see how these numbers translate to s3 we",
    "start": "146470",
    "end": "153040"
  },
  {
    "text": "store petabytes of data in essentially as many buckets as we can get our hands on we have millions and millions of",
    "start": "153040",
    "end": "161349"
  },
  {
    "text": "uploads and downloads every day we generate a ton of bandwidth as well and",
    "start": "161349",
    "end": "168310"
  },
  {
    "text": "this whole traffic this whole usage is generated by I mentioned for very",
    "start": "168310",
    "end": "173920"
  },
  {
    "text": "different use cases one of which too much we talked about in the second half second half of this talk which are the",
    "start": "173920",
    "end": "181060"
  },
  {
    "text": "blue circles on the right and the other three we're gonna cover in a minute but",
    "start": "181060",
    "end": "188189"
  },
  {
    "start": "188000",
    "end": "460000"
  },
  {
    "text": "first I'd like to talk a bit about why these are different use cases at all so",
    "start": "188189",
    "end": "193840"
  },
  {
    "text": "we have two two big axis we have object counts and we have object size and we",
    "start": "193840",
    "end": "202239"
  },
  {
    "text": "have on one hand presentation eczemas which are tiny tiny XML files that describe the structure and content of",
    "start": "202239",
    "end": "208480"
  },
  {
    "text": "the presentation maybe a few kilobytes at most and for each presentation we",
    "start": "208480",
    "end": "215049"
  },
  {
    "text": "have one actually for each presentation we have many of them because we have one object in s3 for each version of the",
    "start": "215049",
    "end": "220359"
  },
  {
    "text": "presentation that's been saved so in the end that comes out to billions of objects toward an s3 on the bottom right",
    "start": "220359",
    "end": "227109"
  },
  {
    "text": "we have made their files which is presentation will have a couple of media files not not hundreds usually but these",
    "start": "227109",
    "end": "235060"
  },
  {
    "text": "files are huge compared to the tiny eczemas that we talked about previously and then finally we have infrastructure",
    "start": "235060",
    "end": "242109"
  },
  {
    "text": "secrets which are small so what I what do I even mean by an infrastructure secret password so database",
    "start": "242109",
    "end": "249000"
  },
  {
    "text": "authentication passwords for clusters communication stuff like that these are not that numerous but they need to be",
    "start": "249000",
    "end": "256959"
  },
  {
    "text": "stored in very different ways from I know you know cat pictures is the usual example so I'm gonna encourage you",
    "start": "256959",
    "end": "266470"
  },
  {
    "text": "that if you think about how your storage system works how your story works to",
    "start": "266470",
    "end": "272169"
  },
  {
    "text": "understand the different kind of use cases in our case these are the big production ones and it's diagram first",
    "start": "272169",
    "end": "280060"
  },
  {
    "text": "one is about this presentation eczema's each presentation will have a numeric ID which is no two incremented field",
    "start": "280060",
    "end": "286419"
  },
  {
    "text": "somewhere in some massive database and as we were late your presentation the version increases numerically as",
    "start": "286419",
    "end": "292840"
  },
  {
    "text": "well so this comes out and to billions of objects and that to store these",
    "start": "292840",
    "end": "298720"
  },
  {
    "text": "billions of objects efficiently we need to have a threesome what and how do we do that we do that by having balanced",
    "start": "298720",
    "end": "305740"
  },
  {
    "text": "prefixes of the paths of our objects so what the how we achieved this is we take",
    "start": "305740",
    "end": "312520"
  },
  {
    "text": "the two last digits of the numeric ID of the presentation we flip them around and",
    "start": "312520",
    "end": "318310"
  },
  {
    "text": "just use this as the first two characters this gives us essentially a hundred buckets and since these IDs",
    "start": "318310",
    "end": "325419"
  },
  {
    "text": "increment one by one this gives us a nice even distribution across the hundred buckets if you're just now",
    "start": "325419",
    "end": "332710"
  },
  {
    "text": "designing your new tree layout the official best practices suggest",
    "start": "332710",
    "end": "338320"
  },
  {
    "text": "generating a UUID for each of your objects and then you automatically get this property so you don't need to think",
    "start": "338320",
    "end": "344469"
  },
  {
    "text": "about how to do this and then the other thing we have done there is the version number which again if you are just now",
    "start": "344469",
    "end": "351550"
  },
  {
    "text": "setting up your layout you may want to consider using the versioning support of s3 so you don't need to save each",
    "start": "351550",
    "end": "358570"
  },
  {
    "text": "version of your objects as individual objects as three has direct support for",
    "start": "358570",
    "end": "364210"
  },
  {
    "text": "storing different versions of the same file so that's so far so good we could",
    "start": "364210",
    "end": "372430"
  },
  {
    "text": "in theory even expose this directly to our users but that comes with a couple of drawbacks this is essentially a no-go",
    "start": "372430",
    "end": "379840"
  },
  {
    "text": "why is that so first of all this these objects are identified by the numeric ID",
    "start": "379840",
    "end": "385840"
  },
  {
    "text": "of the presentation which opens does have to an enumeration the tag total you know how to do that and first",
    "start": "385840",
    "end": "391000"
  },
  {
    "text": "there's no way to authorize so if you just open this up to all our client platforms then you know anyone",
    "start": "391000",
    "end": "398349"
  },
  {
    "text": "can download essentially any presentation we can't we can't let that happen so what we do instead is we have",
    "start": "398349",
    "end": "403960"
  },
  {
    "text": "an ec2 service that we lovingly call storage proxy and here we can implement",
    "start": "403960",
    "end": "410500"
  },
  {
    "text": "our own authorization but what's more we can implement any kind of logic that we need to say change the contents of these",
    "start": "410500",
    "end": "417340"
  },
  {
    "text": "files on the fly we can play around with maybe trying other storage backends this",
    "start": "417340",
    "end": "422530"
  },
  {
    "text": "gives us many many opportunities and the other thing to notice here is that we",
    "start": "422530",
    "end": "429189"
  },
  {
    "text": "are not using the numeric IDs anymore we instead there's this thing called an OID which is basically a random string that",
    "start": "429189",
    "end": "436330"
  },
  {
    "text": "is the public identifier of each presentation and suddenly we have protected our cells from enumeration",
    "start": "436330",
    "end": "441400"
  },
  {
    "text": "attacks as well so takeaway here is if you expect that you're going to store a",
    "start": "441400",
    "end": "447159"
  },
  {
    "text": "lot of objects the make sure that you have a balanced prefix of the paths of your objects and you know if you don't",
    "start": "447159",
    "end": "454900"
  },
  {
    "text": "have a billion objects you may still do it just in general principles so that",
    "start": "454900",
    "end": "461289"
  },
  {
    "start": "460000",
    "end": "968000"
  },
  {
    "text": "was the tons of relatively small objects use case now we're going to move on to the not that many still quite a lot of",
    "start": "461289",
    "end": "470080"
  },
  {
    "text": "bigger objects made the effect so those are all the images those are the videos",
    "start": "470080",
    "end": "476409"
  },
  {
    "text": "those are the voiceovers that we have in our presentations and these are so big",
    "start": "476409",
    "end": "482589"
  },
  {
    "text": "actually that in the end they come out to around 2 petabytes of storage which gives rise to a couple of questions",
    "start": "482589",
    "end": "490150"
  },
  {
    "text": "number one how do we store two petabytes of data number two how do we get this",
    "start": "490150",
    "end": "496569"
  },
  {
    "text": "data to our users when they one download and they wanna present their presentations number three it's my",
    "start": "496569",
    "end": "503080"
  },
  {
    "text": "favorite how are we gonna pay for all this so the storage question turns out",
    "start": "503080",
    "end": "509560"
  },
  {
    "text": "to be pretty simple you put it in s3 you're done of course still keep in mind",
    "start": "509560",
    "end": "515349"
  },
  {
    "text": "that you want to have banners prefixes for your objects but essentially as we will take care of storing those two",
    "start": "515349",
    "end": "520659"
  },
  {
    "text": "petabytes of data or much more that's easy now then moving on to delivering this",
    "start": "520659",
    "end": "526270"
  },
  {
    "text": "content to the users since we have them in their files s3 and s3 has an HTTP API that you",
    "start": "526270",
    "end": "531879"
  },
  {
    "text": "can enable for public access you can just open the tap and then we're done simply simple works and it's a terrible",
    "start": "531879",
    "end": "540670"
  },
  {
    "text": "idea why this is this is what we should be doing instead and I'm gonna tell you",
    "start": "540670",
    "end": "547810"
  },
  {
    "text": "in a second why so here the idea is that you use Amazon CloudFront as opposed to directly giving access to your s3 bucket",
    "start": "547810",
    "end": "554920"
  },
  {
    "text": "to users I'm a lone cloud front is the CDN service of Amazon which integrates",
    "start": "554920",
    "end": "560139"
  },
  {
    "text": "beautifully with s3 and once you set this up you're gonna see immediately",
    "start": "560139",
    "end": "565329"
  },
  {
    "text": "around 10 to 30 percent decrease in the price of transfer costs which at first",
    "start": "565329",
    "end": "571509"
  },
  {
    "text": "glance can be surprising because we added another service we are using more stuff and we're still paying less but",
    "start": "571509",
    "end": "576970"
  },
  {
    "text": "the reason for that is that cloud front is designed to get content to users s3 is not designed to get content users so",
    "start": "576970",
    "end": "583990"
  },
  {
    "text": "if we use it so then sexually abusing s3 so we pay for that and then the other",
    "start": "583990",
    "end": "589420"
  },
  {
    "text": "thing is of course performance CDN is faster than anything else the most surprised on the other hand what was",
    "start": "589420",
    "end": "596889"
  },
  {
    "text": "surprising for me was that the very first time you access an object from s3",
    "start": "596889",
    "end": "603579"
  },
  {
    "text": "via cloud front it's still five to eight times faster than accesing and directly",
    "start": "603579",
    "end": "609100"
  },
  {
    "text": "from s3 so going to cloud front and then going to s3 that's faster than going",
    "start": "609100",
    "end": "616540"
  },
  {
    "text": "directly to s3 magic yeah so that makes",
    "start": "616540",
    "end": "623470"
  },
  {
    "text": "the equation easy on the other hand because use cloud front that's it especially if you expect that you'll",
    "start": "623470",
    "end": "630040"
  },
  {
    "text": "have to serve a lot of bandwidth but even otherwise and one more thing you",
    "start": "630040",
    "end": "635309"
  },
  {
    "text": "probably want to set up your own domain for cloud front because otherwise it",
    "start": "635309",
    "end": "640870"
  },
  {
    "text": "feels and at some point decide that you want to switch over to another club from distribution then you won't be able to",
    "start": "640870",
    "end": "646360"
  },
  {
    "text": "because you are tied to the domain name that we generated for your platform distribution so you want to set up your",
    "start": "646360",
    "end": "652120"
  },
  {
    "text": "own domain and point it to the cname or maybe an alias record to the cloud from distributions the",
    "start": "652120",
    "end": "658279"
  },
  {
    "text": "name but then if you do this it would maybe make sense to by default just use",
    "start": "658279",
    "end": "664699"
  },
  {
    "text": "the same domain that he used for the rest of your product in our case that would be present calm but as problematic",
    "start": "664699",
    "end": "670009"
  },
  {
    "text": "for two reasons the core of the issue is that if you do this then all the all the",
    "start": "670009",
    "end": "676910"
  },
  {
    "text": "cookies of your users will travel to platform every time they want to download an image and I don't want to do",
    "start": "676910",
    "end": "683839"
  },
  {
    "text": "this because one if you don't need to you shouldn't send around authentication tokens and to this takes up bandwidth so",
    "start": "683839",
    "end": "690620"
  },
  {
    "text": "you're losing some of some of the gains that you would otherwise get from platform and of course if you set up a",
    "start": "690620",
    "end": "697160"
  },
  {
    "text": "dedicated domain then you'll have to make sure that you enterprise customers who have whitelisting firewalls allow",
    "start": "697160",
    "end": "704360"
  },
  {
    "text": "access to this domain and now let's",
    "start": "704360",
    "end": "711069"
  },
  {
    "text": "let's do another little game who did the presentation in the last month okay now",
    "start": "711069",
    "end": "721490"
  },
  {
    "text": "keep your hands up if you were done with the presentation then creating the content of the presentation let's say at",
    "start": "721490",
    "end": "726589"
  },
  {
    "text": "least a day before the presentation okay at least a week before the presentation",
    "start": "726589",
    "end": "733660"
  },
  {
    "text": "at least a month for done okay so this",
    "start": "733660",
    "end": "740360"
  },
  {
    "text": "is an example of how understanding your business can lead to insights that you",
    "start": "740360",
    "end": "746870"
  },
  {
    "text": "can translate to infrastructure changes that you can then translate to saved costs which being here in Las Vegas",
    "start": "746870",
    "end": "754639"
  },
  {
    "text": "talking about money it's it feels right and I you know I have a thing for money",
    "start": "754639",
    "end": "761779"
  },
  {
    "text": "it's it's my it's my flow it's a thing I have short-term savings midterm savings",
    "start": "761779",
    "end": "767689"
  },
  {
    "text": "on term savings and live off last month's income and all that and then of",
    "start": "767689",
    "end": "772759"
  },
  {
    "text": "course I'm going to approach AWS with the same mindset and here what we can do is we can explore the storage class is",
    "start": "772759",
    "end": "781220"
  },
  {
    "text": "provided by AWS s3 by default usually we're gonna be using the standard",
    "start": "781220",
    "end": "787069"
  },
  {
    "text": "storage class which there's nothing special on the other hand we have in frequent access which is exactly what it",
    "start": "787069",
    "end": "793880"
  },
  {
    "text": "sounds like you are built differently so when you access an object so download an",
    "start": "793880",
    "end": "799610"
  },
  {
    "text": "image then you pay more than you would for standard storage on the other hand you pay less for just storing that",
    "start": "799610",
    "end": "806780"
  },
  {
    "text": "object so in our case since we saw that presentations are generally you know",
    "start": "806780",
    "end": "814760"
  },
  {
    "text": "than just a few weeks maybe after the",
    "start": "814760",
    "end": "819980"
  },
  {
    "text": "presentation is created and then we see in the pattern of use for users that",
    "start": "819980",
    "end": "825160"
  },
  {
    "text": "those presentations they just usually lie dormant forever afterwards but then",
    "start": "825160",
    "end": "831740"
  },
  {
    "text": "this means that there are media files in these presentations the images they are also not downloaded so we can move these",
    "start": "831740",
    "end": "838820"
  },
  {
    "text": "media files into infrequent access using something called a lifecycle policy on the s3 bucket you can set up lifecycle",
    "start": "838820",
    "end": "846110"
  },
  {
    "text": "policy and tell AWS to automatically move files objects from say standard",
    "start": "846110",
    "end": "852830"
  },
  {
    "text": "storage to infrequent access let's say three months after its ability and then",
    "start": "852830",
    "end": "858770"
  },
  {
    "text": "you can set up if you want to further rules to move them on to glacier or what have you so okay I keep saying saving so",
    "start": "858770",
    "end": "867740"
  },
  {
    "text": "what what does that actually look like what you see here is the s3 cost of",
    "start": "867740",
    "end": "873410"
  },
  {
    "text": "prezi over time the blue bars are the standard storage cost the red bars are",
    "start": "873410",
    "end": "879680"
  },
  {
    "text": "in frequent access the green one that doesn't really change is a transfer cost and the orange one I'm going to talk",
    "start": "879680",
    "end": "886430"
  },
  {
    "text": "about in a second so what you see here is that in April this year we enable this lifecycle policy that moves old",
    "start": "886430",
    "end": "893390"
  },
  {
    "text": "media files into infrequent access and we pretty much immediately realize the saving of 30% just by essentially",
    "start": "893390",
    "end": "901190"
  },
  {
    "text": "clicking a few buttons it's pretty impressive on the other hand note is the",
    "start": "901190",
    "end": "906920"
  },
  {
    "text": "big orange thing which is the cost of the initial migration migration so what do I mean by initial migration so when",
    "start": "906920",
    "end": "914360"
  },
  {
    "text": "you set up the lifecycle policy after a while AWS is going to realize that you have all these files that have been",
    "start": "914360",
    "end": "920630"
  },
  {
    "text": "sitting there and this lifecycle policy should apply to them because they have been uploaded more",
    "start": "920630",
    "end": "926279"
  },
  {
    "text": "than say three months ago so then it's just gonna move all of them and the way it does this is it makes cause to the WS",
    "start": "926279",
    "end": "933239"
  },
  {
    "text": "s3 API which is built as API cost which is the orange part here so something go",
    "start": "933239",
    "end": "941009"
  },
  {
    "text": "that app if you have data that is accessed frequently infrequently even make sure to move the",
    "start": "941009",
    "end": "948869"
  },
  {
    "text": "data into infrequent access on s3 or even look into some of the other other",
    "start": "948869",
    "end": "953970"
  },
  {
    "text": "storage classes if it turns out that your data becomes accessed infrequently over time then you can set up lifecycle",
    "start": "953970",
    "end": "960809"
  },
  {
    "text": "policy to support you in this and of course don't be surprised by the cost of the initial migration so those are those",
    "start": "960809",
    "end": "971249"
  },
  {
    "start": "968000",
    "end": "1263000"
  },
  {
    "text": "are the use cases where the biggest use cases where our users directly interact with s3 and related services and then",
    "start": "971249",
    "end": "979470"
  },
  {
    "text": "the third use case I'm going to tell you about is a bit different in that it's more in the background it's about",
    "start": "979470",
    "end": "984839"
  },
  {
    "text": "managing infrastructure secrets so that's where the database is credentials",
    "start": "984839",
    "end": "990480"
  },
  {
    "text": "for cross service communication the kind of stuff and we have a number of solutions for this right now in the",
    "start": "990480",
    "end": "996720"
  },
  {
    "text": "industry you have your record what you have built institution for this and kubernetes you have the encrypted data",
    "start": "996720",
    "end": "1003619"
  },
  {
    "text": "bags of obscured chef and they all have different trade of different integrations different pros and cons in",
    "start": "1003619",
    "end": "1010189"
  },
  {
    "text": "our case we have been using the encrypted data bags of chef for years",
    "start": "1010189",
    "end": "1015199"
  },
  {
    "text": "and it's a great solution but we realized that we want fine control over",
    "start": "1015199",
    "end": "1020419"
  },
  {
    "text": "which servers connects us which secrets for instance I do not want the service",
    "start": "1020419",
    "end": "1026839"
  },
  {
    "text": "that's responsible for presentation metadata to be able to read the emails of users from that database and of",
    "start": "1026839",
    "end": "1033620"
  },
  {
    "text": "course for this we're gonna have security group and the first level rules to not allow access to a network level",
    "start": "1033620",
    "end": "1039980"
  },
  {
    "text": "but we also want to make sure that not even the best the password is not even available to that service and that's",
    "start": "1039980",
    "end": "1046250"
  },
  {
    "text": "really hard to do with encrypting data bags on the other hand we can do this with s3 and another service called AWS",
    "start": "1046250",
    "end": "1053269"
  },
  {
    "text": "kms key management service and that diagram there's a lot going on there but let me",
    "start": "1053269",
    "end": "1059820"
  },
  {
    "text": "let me walk you through it what's happening here so I'm a server and I want to access that database so I",
    "start": "1059820",
    "end": "1067349"
  },
  {
    "text": "realized this I know that that database will need some password so what I'm gonna do first I'm gonna go to s3 and",
    "start": "1067349",
    "end": "1074549"
  },
  {
    "text": "ask at three four for the encrypted form of that password s3 in our case since",
    "start": "1074549",
    "end": "1080700"
  },
  {
    "text": "we're using what's called client-side encryption as free we'll never even see the plain text version of the password",
    "start": "1080700",
    "end": "1086700"
  },
  {
    "text": "so as we will do authorization based on the I am role that I have previously",
    "start": "1086700",
    "end": "1091919"
  },
  {
    "text": "assumed using my instance profile and hopefully if I have access to that",
    "start": "1091919",
    "end": "1097830"
  },
  {
    "text": "specific secret is going to give me the encrypted form of a secret so I take that go back home and I go to AWS kms",
    "start": "1097830",
    "end": "1104700"
  },
  {
    "text": "and ask AWS kms for the decryption key to this secret similarly kms will do authorization here",
    "start": "1104700",
    "end": "1111809"
  },
  {
    "text": "and hopefully I have access to the decryption key for this secret and then if you give this to me and I go back",
    "start": "1111809",
    "end": "1118019"
  },
  {
    "text": "home and I put the two things together now I have the plain text format of this",
    "start": "1118019",
    "end": "1123690"
  },
  {
    "text": "password and I can go to the database and do my thing so this sounds like a",
    "start": "1123690",
    "end": "1129119"
  },
  {
    "text": "lot of work complicated it's error-prone you need ever handling but it turns out",
    "start": "1129119",
    "end": "1134190"
  },
  {
    "text": "that the official AWS SDK for Ruby for example has built-in support for this",
    "start": "1134190",
    "end": "1139999"
  },
  {
    "text": "for the long link there you don't need to write it down there will be a short link to the presentation at the end so",
    "start": "1139999",
    "end": "1146429"
  },
  {
    "text": "you can you can get all this so essentially we instantiate this s3",
    "start": "1146429",
    "end": "1153149"
  },
  {
    "text": "client class in Ruby then by just calling put object or get object we",
    "start": "1153149",
    "end": "1158969"
  },
  {
    "text": "automatically get the functionality that we saw one minute ago which is great",
    "start": "1158969",
    "end": "1164789"
  },
  {
    "text": "especially if you realize that we'll be using obscured chef to manage our",
    "start": "1164789",
    "end": "1169859"
  },
  {
    "text": "infrastructure which happens to be mostly in Ruby so this means that if you",
    "start": "1169859",
    "end": "1175320"
  },
  {
    "text": "just introduce a thin layer above accessing the encrypted data bags of",
    "start": "1175320",
    "end": "1180479"
  },
  {
    "text": "fruit chef and replace that access with calls to get object and put object then",
    "start": "1180479",
    "end": "1187440"
  },
  {
    "text": "suddenly without having to change all of our books we migrated to the scheme of managing secrets if you're not",
    "start": "1187440",
    "end": "1196410"
  },
  {
    "text": "a ruby person if you are more on the Java side of things the Java SDK also",
    "start": "1196410",
    "end": "1201600"
  },
  {
    "text": "have support for this exact use case and that BS also provides a very nice write-up on how we would go about",
    "start": "1201600",
    "end": "1207750"
  },
  {
    "text": "implementing this functionality for application and finally since Prezi we",
    "start": "1207750",
    "end": "1215100"
  },
  {
    "text": "are mostly a Python shop when it comes to back-end services we were also",
    "start": "1215100",
    "end": "1220470"
  },
  {
    "text": "looking for this support in the patent SDK but it turns out it's not there what we have instead is support for s3",
    "start": "1220470",
    "end": "1227850"
  },
  {
    "text": "support for KMS and of course Python has great cryptographic Allegra's as well so",
    "start": "1227850",
    "end": "1234030"
  },
  {
    "text": "what we can do in just a couple of lines of code what you see in the screen now is we can implement at the core of this",
    "start": "1234030",
    "end": "1241080"
  },
  {
    "text": "logic we can go to a3 the can't fetch the objects we can go to KMS we can use the crypto graphical libraries to",
    "start": "1241080",
    "end": "1247320"
  },
  {
    "text": "decrypt the key that we need to decrypt this is a little extra work on the other",
    "start": "1247320",
    "end": "1256050"
  },
  {
    "text": "hand it does provide us access with access to the secret management system actually previously so that was that was",
    "start": "1256050",
    "end": "1267210"
  },
  {
    "text": "three use cases where we use Amazon s3 in production sometimes users access",
    "start": "1267210",
    "end": "1274470"
  },
  {
    "text": "these things directly sometimes through some layers of abstraction and now I'm",
    "start": "1274470",
    "end": "1280080"
  },
  {
    "text": "going to hand over to Thomas who will tell you about what happens with all the data that's generated while all this is",
    "start": "1280080",
    "end": "1286440"
  },
  {
    "text": "happening so it's our first five and",
    "start": "1286440",
    "end": "1293179"
  },
  {
    "text": "approach just started and you are see here thank you and nobody stood up so",
    "start": "1293179",
    "end": "1298650"
  },
  {
    "text": "thank you for that as well so I'm Tom Ashe and I'm the tech lead of",
    "start": "1298650",
    "end": "1304230"
  },
  {
    "text": "the data engineering team at Prezi and but first of all let me tell you a",
    "start": "1304230",
    "end": "1310860"
  },
  {
    "text": "personal story about one of my most memorable feedback so it happened a",
    "start": "1310860",
    "end": "1315960"
  },
  {
    "text": "couple of years before I've worked for another company and I was there actually",
    "start": "1315960",
    "end": "1321780"
  },
  {
    "text": "a team lead I just became a team lead and I wanted to ship the best quality software but we",
    "start": "1321780",
    "end": "1328169"
  },
  {
    "text": "could and how you can achieve it if you try to do everything on your own so I",
    "start": "1328169",
    "end": "1333450"
  },
  {
    "text": "try to control everything from supports on operation and whatever I could of",
    "start": "1333450",
    "end": "1338460"
  },
  {
    "text": "course I was very frustrated and the quality wasn't that good as I expected",
    "start": "1338460",
    "end": "1344039"
  },
  {
    "text": "so I actually has meant to my manager and I was complaining to him that how",
    "start": "1344039",
    "end": "1349529"
  },
  {
    "text": "frustrated I am and what a situation and I am and he just told me well it's your",
    "start": "1349529",
    "end": "1354600"
  },
  {
    "text": "fault because you should have the leg it and I hated this sense to be honest but",
    "start": "1354600",
    "end": "1360000"
  },
  {
    "text": "later I realized he was right because as a team lead my job is to help my team to",
    "start": "1360000",
    "end": "1366120"
  },
  {
    "text": "produce quality product and not doing everything because I can do it definitely why I told you this story",
    "start": "1366120",
    "end": "1374279"
  },
  {
    "text": "because I do believe in that if you have a data engineering team today and then",
    "start": "1374279",
    "end": "1379320"
  },
  {
    "text": "data engineering team should not spend all of their time operating or running",
    "start": "1379320",
    "end": "1384809"
  },
  {
    "text": "your platform and owning all of the data pipelines but more empowering those",
    "start": "1384809",
    "end": "1392669"
  },
  {
    "text": "people who are using your data to be able to own the data pipelines and",
    "start": "1392669",
    "end": "1398220"
  },
  {
    "text": "actually operating and and try to delegate the operation of your platform",
    "start": "1398220",
    "end": "1404820"
  },
  {
    "text": "as much as possible but first of all your what is data in my perspective",
    "start": "1404820",
    "end": "1412590"
  },
  {
    "text": "because you heard that a couple of you heard from Zoltan the data word a couple",
    "start": "1412590",
    "end": "1419820"
  },
  {
    "text": "of times but what is data in my context basically the majority of the data what",
    "start": "1419820",
    "end": "1429720"
  },
  {
    "text": "we are collecting our application logs what kind of logs when I'm going from",
    "start": "1429720",
    "end": "1435840"
  },
  {
    "text": "back and forth in this presentation it generates logs if you are checking on your mobile phone the presentation it",
    "start": "1435840",
    "end": "1442769"
  },
  {
    "text": "will generate logs even though we were offline when you became online your your",
    "start": "1442769",
    "end": "1448830"
  },
  {
    "text": "mobile application will send the logs to us we are collecting these logs we are",
    "start": "1448830",
    "end": "1453840"
  },
  {
    "text": "basically using scribe which is a an open source solution from Facebook",
    "start": "1453840",
    "end": "1461090"
  },
  {
    "text": "it is deprecated so don't use but it works for us and we are collecting the",
    "start": "1461090",
    "end": "1466700"
  },
  {
    "text": "logs and actually and in every hour we are shipping to s3 we are Elsi complex",
    "start": "1466700",
    "end": "1473380"
  },
  {
    "text": "compressing the logs and actually doing as indexing on it to be able to split",
    "start": "1473380",
    "end": "1480140"
  },
  {
    "text": "those guys but we are not only collecting applicational notes because we have servers service generates logs",
    "start": "1480140",
    "end": "1486470"
  },
  {
    "text": "we are also collecting those and of course we have search party providers where payment providers because analysts",
    "start": "1486470",
    "end": "1493520"
  },
  {
    "text": "are interested on those in data we are also moving those to s3 and of course we",
    "start": "1493520",
    "end": "1500750"
  },
  {
    "text": "have a couple of photo third parties and even be collecting database dumps if if it if it needed but how we started the",
    "start": "1500750",
    "end": "1511190"
  },
  {
    "text": "whole data engineering team and this whole data at Prezi so the data team was",
    "start": "1511190",
    "end": "1519470"
  },
  {
    "text": "funded basically five years ago we had not seen that time so we had only two",
    "start": "1519470",
    "end": "1526220"
  },
  {
    "text": "data engineers one date analyst and they used what they had can you guess and so",
    "start": "1526220",
    "end": "1533750"
  },
  {
    "text": "they use actually one of the most popular data crunching - can you guess what actually basically what you have on",
    "start": "1533750",
    "end": "1543170"
  },
  {
    "text": "the Linux systems so they they were hard core engineers who brought very heavy",
    "start": "1543170",
    "end": "1550570"
  },
  {
    "text": "back script or the event production databases if they needed data from that",
    "start": "1550570",
    "end": "1555620"
  },
  {
    "text": "and it was in one way it is pretty cool because you didn't have to operate",
    "start": "1555620",
    "end": "1561770"
  },
  {
    "text": "anything but actually it was an issue",
    "start": "1561770",
    "end": "1567010"
  },
  {
    "text": "that even for one analyst the to engineer was a bottleneck because the",
    "start": "1567010",
    "end": "1573320"
  },
  {
    "text": "enemies couldn't write C couldn't go directly to the production database and",
    "start": "1573320",
    "end": "1578690"
  },
  {
    "text": "couldn't write bash scripts so he had to ask those data engineers to do it for",
    "start": "1578690",
    "end": "1585230"
  },
  {
    "text": "them for him and as we had started to have more and more data it even happened",
    "start": "1585230",
    "end": "1592350"
  },
  {
    "text": "they killed production services and when you are building a data platform or edit",
    "start": "1592350",
    "end": "1598540"
  },
  {
    "text": "data team you want that people recognize your team but this is not the same what",
    "start": "1598540",
    "end": "1605380"
  },
  {
    "text": "you want want believe me so okay we started to say okay what to do next",
    "start": "1605380",
    "end": "1610450"
  },
  {
    "text": "of course what we what we decided to do oh let's run our own Hadoop cluster",
    "start": "1610450",
    "end": "1617800"
  },
  {
    "text": "it was Hadoop it's pretty cool we have we are using chef for a configuration",
    "start": "1617800",
    "end": "1624790"
  },
  {
    "text": "management it's very easy to start easy to note starting your own Hadoop cluster",
    "start": "1624790",
    "end": "1630460"
  },
  {
    "text": "and and managing it is there anybody who",
    "start": "1630460",
    "end": "1635950"
  },
  {
    "text": "has who are not using manage to do but they're operating their own Hadoop",
    "start": "1635950",
    "end": "1641080"
  },
  {
    "text": "cluster oh cool do you like to operate it yeah that's true that's that's",
    "start": "1641080",
    "end": "1648880"
  },
  {
    "text": "happened with us so there are two data engineer and they spend all of their",
    "start": "1648880",
    "end": "1653950"
  },
  {
    "text": "time just to keeping alive the cluster so basically we put oops in the Hadoop",
    "start": "1653950",
    "end": "1659530"
  },
  {
    "text": "operations okay so we are there we need",
    "start": "1659530",
    "end": "1666070"
  },
  {
    "text": "to do something so we decided it was logic decision because we are on Amazon",
    "start": "1666070",
    "end": "1672580"
  },
  {
    "text": "let's try out EMR but we didn't want to",
    "start": "1672580",
    "end": "1680950"
  },
  {
    "start": "1677000",
    "end": "2143000"
  },
  {
    "text": "be we wanted to hide the actual implementation so that we are using Emma from our users so we came up with the",
    "start": "1680950",
    "end": "1688300"
  },
  {
    "text": "following architecture on the top you can see AWS API basically if you want to",
    "start": "1688300",
    "end": "1693820"
  },
  {
    "text": "start a cluster or if you want to do anything with a cluster you are using",
    "start": "1693820",
    "end": "1699040"
  },
  {
    "text": "the AWS API we created a service which called RS service which code how to",
    "start": "1699040",
    "end": "1705160"
  },
  {
    "text": "state to server this is basically rest interface where all of the tools are",
    "start": "1705160",
    "end": "1711910"
  },
  {
    "text": "interacting if so and actually these hadoo stay to server which interacts the AWS api and we have the Gateway node",
    "start": "1711910",
    "end": "1720160"
  },
  {
    "text": "which basically where our users can login and if they want to interact Hadoop cluster they can run commands",
    "start": "1720160",
    "end": "1727960"
  },
  {
    "text": "there and we have recommends which communicates with the Hadoop status server but how this looks like in",
    "start": "1727960",
    "end": "1733960"
  },
  {
    "text": "reality so let's say you want to run a cluster and you can you just need to log",
    "start": "1733960",
    "end": "1742270"
  },
  {
    "text": "into the Gateway node you just basically enter a common likely a cluster and entering how many nodes do you have do",
    "start": "1742270",
    "end": "1749620"
  },
  {
    "text": "you want and add the name to it let's say user cluster one so this is pretty",
    "start": "1749620",
    "end": "1755260"
  },
  {
    "text": "easy and let's say you want another cost there but in this case you want you set",
    "start": "1755260",
    "end": "1763360"
  },
  {
    "text": "it as a default cluster default if you tagged a cluster as the default cluster then if you fail to add the name and you",
    "start": "1763360",
    "end": "1770740"
  },
  {
    "text": "were running some kind of basically how this works you set an environment variable and if you run one of the",
    "start": "1770740",
    "end": "1777760"
  },
  {
    "text": "common like big-bore hive then based on the environment variable it knows which",
    "start": "1777760",
    "end": "1783850"
  },
  {
    "text": "cluster you want to go but if you set something is the default cluster then if",
    "start": "1783850",
    "end": "1789370"
  },
  {
    "text": "you fail to add any set any environment variable then you go end up a default",
    "start": "1789370",
    "end": "1795520"
  },
  {
    "text": "cluster so in an example how this works I use a user logs in to the Gateway node",
    "start": "1795520",
    "end": "1803289"
  },
  {
    "text": "and he or she enters by say hive command",
    "start": "1803289",
    "end": "1808650"
  },
  {
    "text": "so on the Gateway know what we have a repair command which is actually I have command but actually I have come from is",
    "start": "1808650",
    "end": "1815200"
  },
  {
    "text": "not want run there because the high command first goes to Hadoop state to server and it asks for the master node",
    "start": "1815200",
    "end": "1822539"
  },
  {
    "text": "IP address it the hardest a tree server",
    "start": "1822539",
    "end": "1828280"
  },
  {
    "text": "actually uses the AWS API to get the master node address and actually its caches it so even if the AWS API is down",
    "start": "1828280",
    "end": "1837270"
  },
  {
    "text": "we still can login to the master node it happened it for us a couple of times a",
    "start": "1837270",
    "end": "1845559"
  },
  {
    "text": "few times actually so it's pretty useful if you try to catch the cluster address",
    "start": "1845559",
    "end": "1851669"
  },
  {
    "text": "so then when the Hadoop set state service gives back the IP address",
    "start": "1851669",
    "end": "1858220"
  },
  {
    "text": "then the ssh into that machine and actually runs the command which all with all the parameters and actually we are",
    "start": "1858220",
    "end": "1864700"
  },
  {
    "text": "shipping so if you're running pig the pig script and actually if you seek hive",
    "start": "1864700",
    "end": "1869710"
  },
  {
    "text": "query from the command line then the age could be a thigh so this is basically",
    "start": "1869710",
    "end": "1875080"
  },
  {
    "text": "how forex currently these infrastructure but moving to VMI we had a few",
    "start": "1875080",
    "end": "1880659"
  },
  {
    "text": "challenges one of the main challenge was that we can store anything in HDFS",
    "start": "1880659",
    "end": "1887679"
  },
  {
    "text": "because if you want to update your yeah my cluster you need to stop it start and",
    "start": "1887679",
    "end": "1894370"
  },
  {
    "text": "you lose whatever you had on HDFS so what we could do we just moved",
    "start": "1894370",
    "end": "1899830"
  },
  {
    "text": "everything to Amazon s3 what does it mean so all the input data when we are",
    "start": "1899830",
    "end": "1906190"
  },
  {
    "text": "doing any transformations are on s3 and then Hadoop the does the data crunching",
    "start": "1906190",
    "end": "1914200"
  },
  {
    "text": "in the end it will move the end result into s3 and only the temporary data are",
    "start": "1914200",
    "end": "1921309"
  },
  {
    "text": "on HDFS and the second issue that we are",
    "start": "1921309",
    "end": "1927070"
  },
  {
    "text": "on the u.s. East one zone they're actually s3 is in ensure consistent so",
    "start": "1927070",
    "end": "1934389"
  },
  {
    "text": "what does it mean it can even happen that you delete a PI and create the same",
    "start": "1934389",
    "end": "1939700"
  },
  {
    "text": "file and if you say to you that hey this file or the exists what you can do on",
    "start": "1939700",
    "end": "1945570"
  },
  {
    "text": "EMR and actually for EMR FS there is this consistent view but basically it",
    "start": "1945570",
    "end": "1951309"
  },
  {
    "text": "does it's monitors what you are doing with the s3 and it makes sure that it",
    "start": "1951309",
    "end": "1958690"
  },
  {
    "text": "will be consistent it works fine if you are doing if you are interacting with s3",
    "start": "1958690",
    "end": "1964440"
  },
  {
    "text": "only through EMR FS but in our case sometimes people are using s3 CMD and if",
    "start": "1964440",
    "end": "1972639"
  },
  {
    "text": "you are not working with the file with to s3 through EMR FS you can easily end",
    "start": "1972639",
    "end": "1978100"
  },
  {
    "text": "up in an inconsistent state so which was this this I did ok just live with it",
    "start": "1978100",
    "end": "1984490"
  },
  {
    "text": "it's not a big issue because if something if it happens that it will say to us that hey this why I still see like",
    "start": "1984490",
    "end": "1992259"
  },
  {
    "text": "we will retry it the next time and it's way less pain what we had earlier then",
    "start": "1992259",
    "end": "1997659"
  },
  {
    "text": "we try to solve this eventual consistency issue and the third one we",
    "start": "1997659",
    "end": "2004679"
  },
  {
    "text": "can't wanted to use hive and if you're using have you have metal stores so if",
    "start": "2004679",
    "end": "2011669"
  },
  {
    "text": "you are creating external tables then in the high metal store you there will be",
    "start": "2011669",
    "end": "2017969"
  },
  {
    "text": "those tables but if you are stopping a cluster and starting a new cluster you will lose those hard metal store but we",
    "start": "2017969",
    "end": "2027059"
  },
  {
    "text": "didn't really wanted this so we we wanted to find some kind of solution so",
    "start": "2027059",
    "end": "2032339"
  },
  {
    "text": "even if we are starting a new cluster we shouldn't we didn't wanted to recreate",
    "start": "2032339",
    "end": "2038190"
  },
  {
    "text": "the whole hive table all the drive tables so we use Amazon LDS and as an",
    "start": "2038190",
    "end": "2046799"
  },
  {
    "text": "external have metal store so anytime we are stopping a toaster or starting a new",
    "start": "2046799",
    "end": "2052289"
  },
  {
    "text": "cluster it will see the same tables there and it's also pretty cool that you",
    "start": "2052289",
    "end": "2058858"
  },
  {
    "text": "are starting a parabola costard then it will show the same state as well and",
    "start": "2058859",
    "end": "2066260"
  },
  {
    "text": "what were the benefits the first lady well this possible Hadoop cluster so",
    "start": "2066260",
    "end": "2072539"
  },
  {
    "text": "it's pretty easy to upgrade because you just basically start a new cluster sets",
    "start": "2072539",
    "end": "2079049"
  },
  {
    "text": "that new cluster is a default cluster and stop the whole cluster and use and user users won't even recognize that",
    "start": "2079049",
    "end": "2087419"
  },
  {
    "text": "there is a new cluster and from operational perspective if you have any",
    "start": "2087419",
    "end": "2092849"
  },
  {
    "text": "issue with that first we just stop it start a new one and let's see if it works now usually it helps and a second",
    "start": "2092849",
    "end": "2102150"
  },
  {
    "text": "benefit was that anybody can run their own cluster which is pretty cool because",
    "start": "2102150",
    "end": "2107309"
  },
  {
    "text": "it's sometimes it happens and analysts want to run a back field back to two or",
    "start": "2107309",
    "end": "2113160"
  },
  {
    "text": "three years and they can really overwhelm or a default cluster so in",
    "start": "2113160",
    "end": "2120000"
  },
  {
    "text": "this case they can run their own cluster and the default cluster won't be affected so basically the",
    "start": "2120000",
    "end": "2129960"
  },
  {
    "text": "operation part we delegated the operation part to Amazon and we were",
    "start": "2129960",
    "end": "2135210"
  },
  {
    "text": "very happy with that and actually we got back 204 data engineer to spend their whole time just to operating a cluster",
    "start": "2135210",
    "end": "2142700"
  },
  {
    "text": "and we ended up basically this is our",
    "start": "2142700",
    "end": "2148950"
  },
  {
    "start": "2143000",
    "end": "2446000"
  },
  {
    "text": "current data infrastructure what you can see there so lots going to s3 and honestly we doing data manipulations",
    "start": "2148950",
    "end": "2156560"
  },
  {
    "text": "with hive or Pig and then the transformed data goes to f3 and those",
    "start": "2156560",
    "end": "2163050"
  },
  {
    "text": "then then after that it we are loading to Anna's no red shift and then we have",
    "start": "2163050",
    "end": "2168780"
  },
  {
    "text": "a service charting tool this is chart IO which is pretty cool because our users",
    "start": "2168780",
    "end": "2174210"
  },
  {
    "text": "can create their own chance without the help of any data engineer and we have these pressing on ethics which is only",
    "start": "2174210",
    "end": "2180840"
  },
  {
    "text": "for the KPIs so the management and Finance can check that check those most",
    "start": "2180840",
    "end": "2187050"
  },
  {
    "text": "important charts yeah sorry so but if",
    "start": "2187050",
    "end": "2196590"
  },
  {
    "text": "you have a chart you want to update it regularly because it's not a chart which",
    "start": "2196590",
    "end": "2201840"
  },
  {
    "text": "she creates once and then it stays there forever to do this you want to do all of",
    "start": "2201840",
    "end": "2209220"
  },
  {
    "text": "these transformation in the right order so having an s3 the data and doing the",
    "start": "2209220",
    "end": "2214860"
  },
  {
    "text": "data manipulation then loading to right shift and then having the chart to do",
    "start": "2214860",
    "end": "2221250"
  },
  {
    "text": "this you need some kind of tool which makes sure the dependency so which makes",
    "start": "2221250",
    "end": "2226440"
  },
  {
    "text": "sure that order will be always the same but if you have more and more data pipelines then these people a nurse will",
    "start": "2226440",
    "end": "2234150"
  },
  {
    "text": "be more and more complex so we were looking for some kind of work for ETA 2",
    "start": "2234150",
    "end": "2239160"
  },
  {
    "text": "or 3 years ago what would help us in this situation and we checked that time",
    "start": "2239160",
    "end": "2246780"
  },
  {
    "text": "the open source solution and we couldn't find a right one for us so we both built",
    "start": "2246780",
    "end": "2253710"
  },
  {
    "text": "our own solution which called flow keeper it and thus all the dependencies which I",
    "start": "2253710",
    "end": "2259810"
  },
  {
    "text": "think all of the open source solution can do and we could do that time as well but our main problem is that or analysts",
    "start": "2259810",
    "end": "2268630"
  },
  {
    "text": "really they they like to write sequel but they don't really like to write code so we had to come up with some kind of",
    "start": "2268630",
    "end": "2276010"
  },
  {
    "text": "solution where they can easily create datasets but without the help of us",
    "start": "2276010",
    "end": "2284980"
  },
  {
    "text": "because we didn't want it to own all of the datasets and all of the data pipelines so we came up with a very so",
    "start": "2284980",
    "end": "2294190"
  },
  {
    "text": "with this very simple JSON that script",
    "start": "2294190",
    "end": "2299350"
  },
  {
    "text": "or where you can basically define what's your input once your output and I would like to point that out that there are no",
    "start": "2299350",
    "end": "2305980"
  },
  {
    "text": "explicit s3u whereas because we wanted to hide from the users because with this",
    "start": "2305980",
    "end": "2313060"
  },
  {
    "text": "we can change those aware so we can change the data they can't really see it and another important things I think in",
    "start": "2313060",
    "end": "2322180"
  },
  {
    "text": "the end so for every job we have an owner in this way if something breaks or",
    "start": "2322180",
    "end": "2327340"
  },
  {
    "text": "something goes wrong we can go to those person and ask them ok fix this or",
    "start": "2327340",
    "end": "2335410"
  },
  {
    "text": "what's happening there so it seems simple but as we started to have more",
    "start": "2335410",
    "end": "2341560"
  },
  {
    "text": "and more job we had more and more issue with this the first one was that so there are jobs or data pipelines which",
    "start": "2341560",
    "end": "2349450"
  },
  {
    "text": "are more important right like the others like let's say if you have a kpi's but",
    "start": "2349450",
    "end": "2355450"
  },
  {
    "text": "you are generating and and all of the owner is one to work with that early in",
    "start": "2355450",
    "end": "2360850"
  },
  {
    "text": "the morning but there are some kind of other data but actually people only checking",
    "start": "2360850",
    "end": "2366100"
  },
  {
    "text": "I don't know once a week and and if you don't have a correct priority then it",
    "start": "2366100",
    "end": "2371650"
  },
  {
    "text": "can happen that that your KPIs will be ready late afternoon so people can't",
    "start": "2371650",
    "end": "2378910"
  },
  {
    "text": "work that time so we added the priority handling it to it and we had another",
    "start": "2378910",
    "end": "2384850"
  },
  {
    "text": "issue that it also can happen as you have more and more job that",
    "start": "2384850",
    "end": "2390880"
  },
  {
    "text": "there are no dependency between those jobs and those will run in parallel on",
    "start": "2390880",
    "end": "2396880"
  },
  {
    "text": "the same resource so it happened that time that we tried to run some kind of redshift load and actually because there",
    "start": "2396880",
    "end": "2403599"
  },
  {
    "text": "was I don't know tank top jobs which were not depending on each other those were running at once on redshift",
    "start": "2403599",
    "end": "2412750"
  },
  {
    "text": "so we basically put into resource management where we can say it okay how many parallel loads can run or achieved",
    "start": "2412750",
    "end": "2419950"
  },
  {
    "text": "how many bitter melon pushing Quran on Hadoop etc but to be honest today I put",
    "start": "2419950",
    "end": "2428829"
  },
  {
    "text": "not right in my own solution there are pretty cool open source solution like Luigi or airflow so I do recommend if",
    "start": "2428829",
    "end": "2436059"
  },
  {
    "text": "you are in this situation like we then try to use one of them and build your",
    "start": "2436059",
    "end": "2441990"
  },
  {
    "text": "infrastructure over that so people",
    "start": "2441990",
    "end": "2447759"
  },
  {
    "start": "2446000",
    "end": "2720000"
  },
  {
    "text": "started to use or virtual tool and I will show but the best example that",
    "start": "2447759",
    "end": "2456369"
  },
  {
    "text": "people like that this so you can imagine how easy to figure out if something",
    "start": "2456369",
    "end": "2462759"
  },
  {
    "text": "breaks into this system so this is this",
    "start": "2462759",
    "end": "2468099"
  },
  {
    "text": "is the thing one but you don't want to own for sure but but you know if if you",
    "start": "2468099",
    "end": "2475930"
  },
  {
    "text": "don't give any help to your analyst or the people who are working with the data they will always come to you to have to",
    "start": "2475930",
    "end": "2482680"
  },
  {
    "text": "to debug okay what went wrong what happened there and why my data is not there so we we came up with a tool",
    "start": "2482680",
    "end": "2491049"
  },
  {
    "text": "called data doc to be able to figure out what's happening inside or to be able to",
    "start": "2491049",
    "end": "2498759"
  },
  {
    "text": "find your data I think this is pretty important and most people are talking",
    "start": "2498759",
    "end": "2503950"
  },
  {
    "text": "about technical issues and hope to solve it but I think it's so if you want the service data one of the most important",
    "start": "2503950",
    "end": "2510519"
  },
  {
    "text": "thing to give something to your users to be able to find the data where it is as",
    "start": "2510519",
    "end": "2516400"
  },
  {
    "text": "you can see basically how it works it's like a Wikipedia you just enter some kind of like user it will list you",
    "start": "2516400",
    "end": "2523800"
  },
  {
    "text": "all the tables or inputs or and everything these words are and you can",
    "start": "2523800",
    "end": "2531930"
  },
  {
    "text": "select okay which is a user table we are crawling red shift every day for new tables and we are",
    "start": "2531930",
    "end": "2538320"
  },
  {
    "text": "crawling all the ETI jobs every day and this is what we use for building these",
    "start": "2538320",
    "end": "2545070"
  },
  {
    "text": "database and as you can see there you can see okay which job depends on this",
    "start": "2545070",
    "end": "2550080"
  },
  {
    "text": "data set and what other jobs creates this data set and actually even you can",
    "start": "2550080",
    "end": "2556050"
  },
  {
    "text": "go to to that link in the bottom to see the actual job so so far so good but if",
    "start": "2556050",
    "end": "2566910"
  },
  {
    "text": "you find a data set which is like a user's table without the correct",
    "start": "2566910",
    "end": "2572220"
  },
  {
    "text": "definitions and about knowing what the different columns are for you can't",
    "start": "2572220",
    "end": "2577740"
  },
  {
    "text": "really use it so what we did it didn't want it to be honest to being to",
    "start": "2577740",
    "end": "2583470"
  },
  {
    "text": "documenting on our own all of the data sets so we pried it this kind of tool and that's why I told you that it's like",
    "start": "2583470",
    "end": "2590130"
  },
  {
    "text": "a Wikipedia but people can go and they can basically document the data sets so",
    "start": "2590130",
    "end": "2596100"
  },
  {
    "text": "if you own an data set you can document it you can put comment for every columns",
    "start": "2596100",
    "end": "2603840"
  },
  {
    "text": "so if somebody want to work with your data set then they just need to go to",
    "start": "2603840",
    "end": "2609150"
  },
  {
    "text": "the system and look for that so so far",
    "start": "2609150",
    "end": "2614430"
  },
  {
    "text": "so good but but like if you have a service you want to monitor it and this",
    "start": "2614430",
    "end": "2623430"
  },
  {
    "text": "is the same true for data sets so this is the worst thing what can happen if I",
    "start": "2623430",
    "end": "2630540"
  },
  {
    "text": "don't know some kind there is some kind of discrepancy in your data set and you only realize when you are showing it to",
    "start": "2630540",
    "end": "2637350"
  },
  {
    "text": "the board or or for your manager so we provided a tool for our users to be able",
    "start": "2637350",
    "end": "2645540"
  },
  {
    "text": "to create alert because we as a bit engineering team we didn't want it to check all of the data sets and we have",
    "start": "2645540",
    "end": "2652050"
  },
  {
    "text": "no idea if you know if this is a discrepancy or not but anybody who owns the data set they can create alerts",
    "start": "2652050",
    "end": "2662230"
  },
  {
    "text": "for that and we are providing a tool so basically what we are doing here from the previous year's data we try to guess",
    "start": "2662230",
    "end": "2669670"
  },
  {
    "text": "with the threshold where the data should be it's very primitive but it works in most of the case especially if there is",
    "start": "2669670",
    "end": "2676060"
  },
  {
    "text": "a huge spike in your data so in this way we just empowered or users to own a data",
    "start": "2676060",
    "end": "2683350"
  },
  {
    "text": "set or a data pipeline without a need of data engineering which is I think is",
    "start": "2683350",
    "end": "2691120"
  },
  {
    "text": "pretty useful pretty cool because we as a data engineer we would like to work",
    "start": "2691120",
    "end": "2697270"
  },
  {
    "text": "more on improving a platform and and and",
    "start": "2697270",
    "end": "2702310"
  },
  {
    "text": "not operating or owning all the data sets because it's not possible especially in our case we have around",
    "start": "2702310",
    "end": "2709330"
  },
  {
    "text": "800 the ETL jobs in our system so it's",
    "start": "2709330",
    "end": "2716140"
  },
  {
    "text": "nobody really can can oversee those so",
    "start": "2716140",
    "end": "2722020"
  },
  {
    "start": "2720000",
    "end": "2820000"
  },
  {
    "text": "top my recommendation is one try to delegate the operation as much as",
    "start": "2722020",
    "end": "2727360"
  },
  {
    "text": "possible to Amazon or whoever you can and to have to be to provide your users",
    "start": "2727360",
    "end": "2735640"
  },
  {
    "text": "and to and responsibility over their data set because if you provide that",
    "start": "2735640",
    "end": "2740920"
  },
  {
    "text": "people will lie to and not like but they will own data sets or data pipelines and",
    "start": "2740920",
    "end": "2750840"
  },
  {
    "text": "in the end just a quick recap what you heard about so this up there you can",
    "start": "2750840",
    "end": "2761200"
  },
  {
    "text": "check the Prezi and you heard about how to store tons of small a small object on",
    "start": "2761200",
    "end": "2771490"
  },
  {
    "text": "s3 you heard about how to store not that much but big object and how to do secret",
    "start": "2771490",
    "end": "2779680"
  },
  {
    "text": "management on s3 and how to run a data platform or how we run the data platform",
    "start": "2779680",
    "end": "2786850"
  },
  {
    "text": "to not drown in the support and operation and I think it's time for the questions",
    "start": "2786850",
    "end": "2795050"
  },
  {
    "text": "so tan and come up and if you have any question feel free to ask it now there",
    "start": "2795050",
    "end": "2800970"
  },
  {
    "text": "are two microphones or just find us here",
    "start": "2800970",
    "end": "2806460"
  },
  {
    "text": "or later today or tomorrow or on email",
    "start": "2806460",
    "end": "2811680"
  },
  {
    "text": "or Twitter or whatever or whatever you like thank you",
    "start": "2811680",
    "end": "2822590"
  }
]