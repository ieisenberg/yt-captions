[
  {
    "start": "0",
    "end": "114000"
  },
  {
    "text": "hello okay i'm on i wasn't sure what's going on here all right so i'm here to talk a little bit about pci",
    "start": "7279",
    "end": "12799"
  },
  {
    "text": "compliance on aws and really how we how you can accomplish a lot of the requirements in a",
    "start": "12799",
    "end": "18160"
  },
  {
    "text": "linux based environment so i'm jesse angel i'm the cto of",
    "start": "18160",
    "end": "25039"
  },
  {
    "text": "payment spring and really kind of building things is kind of what i do i started off in it and kind of the",
    "start": "25039",
    "end": "30880"
  },
  {
    "text": "operation side eventually got a little more into the software so i kind of got a perspective on both sides but",
    "start": "30880",
    "end": "36239"
  },
  {
    "text": "ultimately kind of building things is is my hobby so if it's not software or it infrastructure it's usually trying to",
    "start": "36239",
    "end": "43360"
  },
  {
    "text": "keep my experimental airplane coming apart so i'm always building little things for that but so a",
    "start": "43360",
    "end": "49200"
  },
  {
    "text": "little bit about payment spraying let's just be brief so we're a pci level one compliant gateway that runs entirely on aws",
    "start": "49200",
    "end": "56160"
  },
  {
    "text": "we started working on it about a couple years ago we built it in about a year and got in production on aws and a lot",
    "start": "56160",
    "end": "63680"
  },
  {
    "text": "of why we were able to do it so quickly some of it had to do with we have talented engineers but a lot of it was",
    "start": "63680",
    "end": "69280"
  },
  {
    "text": "because aws simplified a lot of the pci hassles that we're going to have to deal with",
    "start": "69280",
    "end": "74720"
  },
  {
    "text": "but ultimately security is kind of what we do and protecting card numbers is our business",
    "start": "74720",
    "end": "79840"
  },
  {
    "text": "and we know that if we make one mistake have one incident that that could be kind of a disaster for us so",
    "start": "79840",
    "end": "86159"
  },
  {
    "text": "it's something we're always thinking about so i'm going to talk give a little bit",
    "start": "86159",
    "end": "91200"
  },
  {
    "text": "of a brief overview on pci um and then a little bit about why that",
    "start": "91200",
    "end": "96240"
  },
  {
    "text": "makes a lot of sense with aws and then i'll get into kind of really specific technical examples of",
    "start": "96240",
    "end": "102000"
  },
  {
    "text": "how you can uh meet the requirements in a linux environment um might not apply to the windows guys",
    "start": "102000",
    "end": "109040"
  },
  {
    "text": "so much but the concepts are still there so we'll we'll see",
    "start": "109040",
    "end": "114399"
  },
  {
    "start": "114000",
    "end": "321000"
  },
  {
    "text": "so the first question i get from a lot of people when we start talking about pci is what is pci and you know why do they",
    "start": "114399",
    "end": "120479"
  },
  {
    "text": "care about it and really you know pci it's pretty simple the visa mastercard discover they",
    "start": "120479",
    "end": "126159"
  },
  {
    "text": "all got together wrote the standard and if you're touching credit card numbers in any way",
    "start": "126159",
    "end": "131360"
  },
  {
    "text": "it's something that you're going to have to comply with the problem with the pci dss is it really wasn't",
    "start": "131360",
    "end": "137280"
  },
  {
    "text": "written with the cloud in mind the new one version three is slightly better but not really so",
    "start": "137280",
    "end": "144160"
  },
  {
    "text": "there's a little bit of translation you have to do when you figure out how to meet the requirements um",
    "start": "144160",
    "end": "150560"
  },
  {
    "text": "then the next thing with pci when we start talking about it is the question i always hear is does it matter to you because",
    "start": "150560",
    "end": "156879"
  },
  {
    "text": "quite frankly no one wants to deal with it and if you can convince yourself it doesn't matter to you you don't but it really you know if you're asking",
    "start": "156879",
    "end": "164160"
  },
  {
    "text": "yourself that question it probably does so if you're a service provider or if you have a credit card number ever",
    "start": "164160",
    "end": "170000"
  },
  {
    "text": "touch your systems in any way whether it's in memory for a millisecond it doesn't matter it's going to apply to",
    "start": "170000",
    "end": "176560"
  },
  {
    "text": "you and if it's a customer of yours that's sending you the card number for a millisecond then it's going to put you",
    "start": "176560",
    "end": "182000"
  },
  {
    "text": "in the highest bracket pci as a service provider as a merchant so if you are accepting",
    "start": "182000",
    "end": "188560"
  },
  {
    "text": "credit cards on behalf of your company it doesn't take long before you end up in level one so you kind of have to plan",
    "start": "188560",
    "end": "194319"
  },
  {
    "text": "for level one from the beginning which is what i'm going to be talking about is kind of the full pci dss and",
    "start": "194319",
    "end": "199760"
  },
  {
    "text": "how you comply with that so when you start thinking about pci and",
    "start": "199760",
    "end": "205760"
  },
  {
    "text": "aws the great thing about aws and not all of the cloud providers in fact",
    "start": "205760",
    "end": "210959"
  },
  {
    "text": "pretty much none of them take compliance as seriously as aws does but every service on aws can be pci",
    "start": "210959",
    "end": "218640"
  },
  {
    "text": "compliant amazon's done everything they can do to ensure that that can happen but it's going to come down to how you",
    "start": "218640",
    "end": "224879"
  },
  {
    "text": "implement it and what you do for you to actually be pci compliant and the more of their services you utilize",
    "start": "224879",
    "end": "233599"
  },
  {
    "text": "the easier it's going to be because when you're running on ec2 that's going to be where the most of the work is and that's kind of what i'll get",
    "start": "233599",
    "end": "239760"
  },
  {
    "text": "into later is how you accomplish that stuff on ec2 so if you're on ec2",
    "start": "239760",
    "end": "246720"
  },
  {
    "text": "we we utilize as many services as we can to limit our ec2 usage because the more you",
    "start": "246720",
    "end": "253599"
  },
  {
    "text": "do an ec2 the more you're going to have to deal with and you'll see that as we keep going but compliance is not automatic just because",
    "start": "253599",
    "end": "260639"
  },
  {
    "text": "amazon services are pci compliant doesn't mean that you're necessarily going to implement them in a way that is",
    "start": "260639",
    "end": "266000"
  },
  {
    "text": "pci compliant so you must always really understand all the requirements and how which ones",
    "start": "266000",
    "end": "273440"
  },
  {
    "text": "amazon takes care of which ones you take care of and most of them are kind of shared between both of you",
    "start": "273440",
    "end": "280000"
  },
  {
    "text": "the best part about aws though is the kind of the worst requirements the ones i never want to deal with are all the",
    "start": "280000",
    "end": "285040"
  },
  {
    "text": "physical requirements which is going to take up a lot of time in your audit are completely irrelevant",
    "start": "285040",
    "end": "290880"
  },
  {
    "text": "if you can keep your entire cardholder data environment within amazon aws",
    "start": "290880",
    "end": "297199"
  },
  {
    "text": "so when you start looking at the pci at some point you're gonna have to get audited if",
    "start": "297199",
    "end": "302479"
  },
  {
    "text": "you're level one which as i was explaining earlier you're gonna get to really quickly",
    "start": "302479",
    "end": "307600"
  },
  {
    "text": "you're gonna have to have someone come in every year and do this annual report on compliance that you're going to have to provide to all the card brands",
    "start": "307600",
    "end": "315680"
  },
  {
    "text": "the problem with this is is you have to find a",
    "start": "315680",
    "end": "321120"
  },
  {
    "start": "321000",
    "end": "645000"
  },
  {
    "text": "oh there we go you have to find a qsa that understands amazon aws and",
    "start": "322000",
    "end": "328479"
  },
  {
    "text": "that's oftentimes kind of the hardest part so as we've",
    "start": "328479",
    "end": "333520"
  },
  {
    "text": "as we've went through this process we really try to talk to the qsas about what we're doing on aws and we try to",
    "start": "333520",
    "end": "338960"
  },
  {
    "text": "make sure they understand the concepts um a good example of that that",
    "start": "338960",
    "end": "344320"
  },
  {
    "text": "that we kind of always fight with pretty much every qsa is how security groups work because they're really comfortable with",
    "start": "344320",
    "end": "350639"
  },
  {
    "text": "cisco access lists not so comfortable with security groups so",
    "start": "350639",
    "end": "355759"
  },
  {
    "text": "before we engage too much with a qsa we try to get them to understand how our network works in a vpc",
    "start": "355759",
    "end": "361600"
  },
  {
    "text": "and then try to kind of lay out how the security groups is ultimately going to provide the network security that",
    "start": "361600",
    "end": "368400"
  },
  {
    "text": "they're used to in kind of a traditional data center environment this is probably the biggest struggle",
    "start": "368400",
    "end": "375360"
  },
  {
    "text": "that you go through when you're going through a report on compliance with an auditor",
    "start": "375360",
    "end": "381039"
  },
  {
    "text": "is the security groups um we went as far as to actually write an application that",
    "start": "381039",
    "end": "386080"
  },
  {
    "text": "pulls all the apis and all the security groups and then writes rules that really look",
    "start": "386080",
    "end": "391440"
  },
  {
    "text": "like cisco access lists just so that the auditors can understand how it works so",
    "start": "391440",
    "end": "397199"
  },
  {
    "text": "hopefully you don't have to do that and i've had people ask me for that tool before but it feels wrong to give it to",
    "start": "397199",
    "end": "403360"
  },
  {
    "text": "people because it's something that you shouldn't have to go through but hopefully there's a qsa out here somewhere that understands this",
    "start": "403360",
    "end": "409039"
  },
  {
    "text": "that'll come up to me afterwards and i can point you guys to them um so",
    "start": "409039",
    "end": "414319"
  },
  {
    "text": "the next question is where do you begin with this and you know you're here this is a good start and i'll kind of walk you through it but",
    "start": "414319",
    "end": "420880"
  },
  {
    "text": "ultimately there's there's no shortcut with this um you have to download the pci dss it's available on the internet",
    "start": "420880",
    "end": "427199"
  },
  {
    "text": "and there's a couple hundred or so requirements in there that you're gonna end up having to comply with um if",
    "start": "427199",
    "end": "433840"
  },
  {
    "text": "you talk to your aws compliance manager or aws account manager you can ask them for their pci",
    "start": "433840",
    "end": "438960"
  },
  {
    "text": "compliance package and then they'll send you a bunch of documentation that'll really show",
    "start": "438960",
    "end": "444960"
  },
  {
    "text": "which requirements that amazon is fully responsible for which ones are kind of in the gray area",
    "start": "444960",
    "end": "450800"
  },
  {
    "text": "between you and which ones are entirely you so you really want to get that in the beginning so that you can start to lay",
    "start": "450800",
    "end": "456160"
  },
  {
    "text": "out how this is going to work once you start to get a feel for the pci really",
    "start": "456160",
    "end": "461599"
  },
  {
    "text": "the entire pci process at the end of the day revolves around the fact that you write policy",
    "start": "461599",
    "end": "468080"
  },
  {
    "text": "and the policy must comply with the pci dss and all the requirements",
    "start": "468080",
    "end": "473520"
  },
  {
    "text": "and at that point you're then going to get audited to ensure that you're operating according to your policy",
    "start": "473520",
    "end": "479280"
  },
  {
    "text": "so the policy part is really where you begin um and before you get the auditors in",
    "start": "479280",
    "end": "486000"
  },
  {
    "text": "you really want to actually audit yourself to ensure you're following the policy that you write it's",
    "start": "486000",
    "end": "492240"
  },
  {
    "text": "surprising how many companies actually don't do that when you talk to the auditors people spend a lot of money bringing auditors back again and again and again",
    "start": "492240",
    "end": "499840"
  },
  {
    "text": "every pci audit we've went through takes about a day and a half and that's because we prepare all of this in advance so i'll kind of show you",
    "start": "499840",
    "end": "506479"
  },
  {
    "text": "what we do and it's going to make it a lot easier and save a lot of money because the auditors",
    "start": "506479",
    "end": "511919"
  },
  {
    "text": "they pretty much print money so they charge a lot so if you do this right it's not quite as",
    "start": "511919",
    "end": "518839"
  },
  {
    "text": "painful um but the first really the first question i'd ask yourself if you're looking at this is can you get out of",
    "start": "518839",
    "end": "525040"
  },
  {
    "text": "this because there's um there's not if credit card",
    "start": "525040",
    "end": "530560"
  },
  {
    "text": "security if storing credit cards is not your business it's probably something you don't want to get into",
    "start": "530560",
    "end": "536000"
  },
  {
    "text": "it's going to slow everything you do from having to write all this policy comply with it",
    "start": "536000",
    "end": "542240"
  },
  {
    "text": "and then deal with these auditors it's it's not something it's it's pretty painful",
    "start": "542240",
    "end": "547519"
  },
  {
    "text": "and at the end of the day you can look at it and be like okay well we're complying with pci that means we're building secure applications",
    "start": "547519",
    "end": "553680"
  },
  {
    "text": "and a lot of the requirements really aren't helping you build a secure application there's other areas you",
    "start": "553680",
    "end": "559120"
  },
  {
    "text": "could focus on at least in my opinion so really evaluate if that's a good decision",
    "start": "559120",
    "end": "564240"
  },
  {
    "text": "so if you're starting to look at aws why does aws make a lot of sense if you're trying to",
    "start": "564240",
    "end": "569519"
  },
  {
    "text": "be pci compliant and that really comes down to just the simple fact that the less infrastructure you have to manage",
    "start": "569519",
    "end": "575600"
  },
  {
    "text": "the easier it's going to be for you the more infrastructure you have the more painful the audit is going to be the more stuff that you have to",
    "start": "575600",
    "end": "582000"
  },
  {
    "text": "show them and and make sure it's in place and really this comes down to the fact",
    "start": "582000",
    "end": "587519"
  },
  {
    "text": "that applications have tons of dependencies you know years ago you used to build an application that talked to a database",
    "start": "587519",
    "end": "593920"
  },
  {
    "text": "and that was pretty much it it's not really that way anymore now pretty much any",
    "start": "593920",
    "end": "599200"
  },
  {
    "text": "modern application that's doing much is gonna need a lot of services you're gonna need databases you're going to need caching you're going to need",
    "start": "599200",
    "end": "604640"
  },
  {
    "text": "logging you're going to need storage for files you're going to need the ability to monitor all your logging you're going to",
    "start": "604640",
    "end": "610320"
  },
  {
    "text": "need the ability to search and if you're in a traditional data center environment every single one of",
    "start": "610320",
    "end": "616880"
  },
  {
    "text": "those is an entire set of services and infrastructure that you're going to have to build that you're then going to have to be audited on",
    "start": "616880",
    "end": "623040"
  },
  {
    "text": "the nice thing about aws is all of those services that you can utilize that amazon provides",
    "start": "623040",
    "end": "628959"
  },
  {
    "text": "are entirely handled by amazon and the requirements are entitled entirely handled by them as",
    "start": "628959",
    "end": "634800"
  },
  {
    "text": "well so you start looking at it you know your your scope",
    "start": "634800",
    "end": "640160"
  },
  {
    "text": "shrinks like 10 times if you properly utilize amazon resources",
    "start": "640160",
    "end": "647279"
  },
  {
    "start": "645000",
    "end": "860000"
  },
  {
    "text": "when you start looking at this and really what we did is we designed for pci it's something that we thought about",
    "start": "647279",
    "end": "652720"
  },
  {
    "text": "from the very beginning we had the luxury of building something that we knew had to be pci compliant",
    "start": "652720",
    "end": "658160"
  },
  {
    "text": "so we planned for pci before we wrote a single line of code but what i would suggest is throughout",
    "start": "658160",
    "end": "666000"
  },
  {
    "text": "kind of your entire development cycle you make pci a priority so what we did",
    "start": "666000",
    "end": "672399"
  },
  {
    "text": "is traditionally as i said earlier you have to have policy and most people go about that by writing",
    "start": "672399",
    "end": "679519"
  },
  {
    "text": "like 89 word files that they then send to their auditors",
    "start": "679519",
    "end": "684560"
  },
  {
    "text": "it's not really how we go about it because that's a lot of work for your auditors to have to deal with so in the very beginning before we built",
    "start": "684560",
    "end": "691680"
  },
  {
    "text": "our application we built an application to manage pci so we built an application",
    "start": "691680",
    "end": "697279"
  },
  {
    "text": "and we put all the pci requirements in there and then we used essentially markdown to",
    "start": "697279",
    "end": "704320"
  },
  {
    "text": "establish these relationships to say that this requirement is handled by this section",
    "start": "704320",
    "end": "709839"
  },
  {
    "text": "of our policy which makes it really simple for your auditors because as they're auditing you",
    "start": "709839",
    "end": "715600"
  },
  {
    "text": "they can see every single pci requirement click on it and then see exactly which policy",
    "start": "715600",
    "end": "720639"
  },
  {
    "text": "addresses that and that's kind of why we can get through this in about a day and a half because they're not having to spend",
    "start": "720639",
    "end": "726480"
  },
  {
    "text": "massive time combing through all of these word files then the next part about this is is pci",
    "start": "726480",
    "end": "734240"
  },
  {
    "text": "is you spend a lot of time on it but it's really the baseline for the security that you should do",
    "start": "734240",
    "end": "741519"
  },
  {
    "text": "it doesn't cover your application that well it's really about infrastructure and at the end of the day when people",
    "start": "741600",
    "end": "747360"
  },
  {
    "text": "get hacked they get hacked through their application you know infrastructure hacks kind of went away like 10 years ago when people",
    "start": "747360",
    "end": "753360"
  },
  {
    "text": "started not exposing ssh to the internet so",
    "start": "753360",
    "end": "758800"
  },
  {
    "text": "the dss isn't going to protect you and that's kind of why you really want to think about if if you want to do this because you're going to",
    "start": "758800",
    "end": "764399"
  },
  {
    "text": "focus on things that really aren't the problem that's going to cause the pain for you",
    "start": "764399",
    "end": "770000"
  },
  {
    "text": "um so kind of what we did and this is this is this",
    "start": "770160",
    "end": "775839"
  },
  {
    "text": "isn't really a representation of what we had today this is when we first started building this when we were trying to envision how do we build this architecture that",
    "start": "775839",
    "end": "782959"
  },
  {
    "text": "lets us best utilize aws and also will really help us from a pci",
    "start": "782959",
    "end": "789680"
  },
  {
    "text": "side and it really comes down to taking the business portions of your code",
    "start": "789680",
    "end": "795279"
  },
  {
    "text": "and wrapping them into services to ensure that your services essentially have",
    "start": "795279",
    "end": "802639"
  },
  {
    "text": "only the aws i am permissions they need to do their job if you build a traditional application",
    "start": "802639",
    "end": "807760"
  },
  {
    "text": "you end up with mass quantities of logic on one server",
    "start": "807760",
    "end": "812800"
  },
  {
    "text": "and you can't actually build um iam permissions that make sure that this set of code can only",
    "start": "812800",
    "end": "819360"
  },
  {
    "text": "access this network resource so we kind of want the soa direction i",
    "start": "819360",
    "end": "824800"
  },
  {
    "text": "won't get too much into soa because everyone already knows what that is but it has a lot to do with pci and",
    "start": "824800",
    "end": "830720"
  },
  {
    "text": "making this easier the less coupled you make all of this the more granular you can get with your",
    "start": "830720",
    "end": "837279"
  },
  {
    "text": "security you can make sure that your network resources have security groups that ensures this",
    "start": "837279",
    "end": "843440"
  },
  {
    "text": "very small chunk of code that handles encryption can only talk to these three things that have to do with encryption",
    "start": "843440",
    "end": "849440"
  },
  {
    "text": "it really lets us control our the path of our card data we make sure less lines of code that touch cards the",
    "start": "849440",
    "end": "855920"
  },
  {
    "text": "happier we are because it's easier for us to look at later and feel comfortable with so i'm going to get a little bit now",
    "start": "855920",
    "end": "862000"
  },
  {
    "start": "860000",
    "end": "1014000"
  },
  {
    "text": "into how you can meet these pci requirements on aws",
    "start": "862000",
    "end": "867199"
  },
  {
    "text": "some tools that you can use and like i said a lot of this is linux focus but you could kind of do it on both",
    "start": "867199",
    "end": "873199"
  },
  {
    "text": "sides it's funny though because the most important thing if you're using utilizing aws is that you protect your",
    "start": "873199",
    "end": "879680"
  },
  {
    "text": "aws account if someone gets into your aws council",
    "start": "879680",
    "end": "884800"
  },
  {
    "text": "you pretty much can throw a security out the door at that point so you really have to understand iam you",
    "start": "884800",
    "end": "891120"
  },
  {
    "text": "really have to feel comfortable with the rather confusing json rules that define",
    "start": "891120",
    "end": "896880"
  },
  {
    "text": "permissions and you really have to protect your root account so our root aws account",
    "start": "896880",
    "end": "903279"
  },
  {
    "text": "we've used like twice and that was to make our account and create our additional im users",
    "start": "903279",
    "end": "908720"
  },
  {
    "text": "then you're going to take that i'm sure you have mfa on that and we make sure that we split that mfa and the password into separate",
    "start": "908720",
    "end": "917279"
  },
  {
    "text": "safety deposit boxes separate separate banks and ensure that there's not one employee that could ever access the root aws account by",
    "start": "917279",
    "end": "925279"
  },
  {
    "text": "themselves once you protect the root aws account then iam allows you to be very granular with your",
    "start": "925279",
    "end": "931680"
  },
  {
    "text": "permissions and ensure that you have a good audit trail as to who does what but until you do that",
    "start": "931680",
    "end": "936959"
  },
  {
    "text": "you never really know a lot of the examples i'm going to give",
    "start": "936959",
    "end": "942240"
  },
  {
    "text": "here are our open source pretty much all of the security tools i'm going to give are open source um there's",
    "start": "942240",
    "end": "948480"
  },
  {
    "text": "various reasons for that but the biggest reason it's because is because it's what we're most comfortable with we've worked with",
    "start": "948480",
    "end": "955279"
  },
  {
    "text": "open source technology or all of us for our whole career so that's what we're going to work with",
    "start": "955279",
    "end": "962000"
  },
  {
    "text": "and as i said earlier we kind of bet our business on security so we feel a lot more comfortable knowing that we're using something that",
    "start": "962000",
    "end": "968160"
  },
  {
    "text": "the world has reviewed i've looked at a lot of the closed source security solutions and",
    "start": "968160",
    "end": "974800"
  },
  {
    "text": "what bothers me the most especially in the cloud about them is most of them at the end of the day require you",
    "start": "974800",
    "end": "980639"
  },
  {
    "text": "install some agent on your servers and give them root access and then those agents collect data from",
    "start": "980639",
    "end": "985759"
  },
  {
    "text": "your servers and send them somewhere it's not something where that we're really that comfortable with so",
    "start": "985759",
    "end": "993040"
  },
  {
    "text": "we don't utilize anything that would need root access that we can't code review",
    "start": "993040",
    "end": "998240"
  },
  {
    "text": "we're really particular about this almost every software package that we use we watch all the updates we do they do",
    "start": "998240",
    "end": "1005600"
  },
  {
    "text": "we look at all their commits and we make sure that we're comfortable with the technology that we're using and the way that they",
    "start": "1005600",
    "end": "1011680"
  },
  {
    "text": "have built it built it um i'll probably say this like six times",
    "start": "1011680",
    "end": "1017839"
  },
  {
    "text": "but you the the less ec2 you use the easier this is going to be and the best part about this is is every",
    "start": "1017839",
    "end": "1024880"
  },
  {
    "text": "single year amazon makes this easier every year i come here and they spit out like four services",
    "start": "1024880",
    "end": "1030319"
  },
  {
    "text": "that reduces our ecu usage to where we at at this point we don't",
    "start": "1030319",
    "end": "1035760"
  },
  {
    "text": "have a lot left other than the real core of our business logic which is nice",
    "start": "1035760",
    "end": "1040798"
  },
  {
    "text": "years ago you had lots of infrastructure dealing with dns and all this stuff that's in your ec2 environment that you would get",
    "start": "1040799",
    "end": "1046720"
  },
  {
    "text": "audited on now you really don't have to do that which makes it a lot easier but we use",
    "start": "1046720",
    "end": "1053120"
  },
  {
    "text": "ec2 because it gives us the flexibility that we need because there's not a service for everything and",
    "start": "1053120",
    "end": "1059679"
  },
  {
    "text": "you have to build an application and that's pretty much going to run on ec2 so just realize that flexibility is",
    "start": "1059679",
    "end": "1066240"
  },
  {
    "text": "going to bring responsibility and i've laid out pretty much everything here you have to",
    "start": "1066240",
    "end": "1071280"
  },
  {
    "text": "solve if you use ec2 if you want to be level one every one of those things you're going to have to",
    "start": "1071280",
    "end": "1076400"
  },
  {
    "text": "explain to an auditor how you're going to accomplish so i'll kind of work through every one of those and ways that you can do that",
    "start": "1076400",
    "end": "1084160"
  },
  {
    "text": "and we'll start with change control and i won't spend a lot of time on this because there's like 40 tools now for this but",
    "start": "1084400",
    "end": "1092240"
  },
  {
    "text": "really what you want to make sure is that no one is doing manual changes no one should be logging into production instances and doing things",
    "start": "1092240",
    "end": "1098720"
  },
  {
    "text": "um we don't ever log into production instances because our whole process",
    "start": "1098720",
    "end": "1104400"
  },
  {
    "text": "is built around that never happening and that's to us a really suspicious activity if someone logs into production",
    "start": "1104400",
    "end": "1110880"
  },
  {
    "text": "instances it's going to kick off ids alerts everywhere and then we're going to have to explain that later so we made sure we built a workflow that",
    "start": "1110880",
    "end": "1117520"
  },
  {
    "text": "makes sure that that ensures that that never happens so the rules that we kind of established",
    "start": "1117520",
    "end": "1124480"
  },
  {
    "text": "early on you know at this point probably about three years ago when we were looking at this is we would never make changes to",
    "start": "1124480",
    "end": "1130720"
  },
  {
    "text": "production and instances every change we made it didn't matter if it was deploying code if it was changing",
    "start": "1130720",
    "end": "1136400"
  },
  {
    "text": "one line in a config file if it was installing a new update or a package to comply with some new security issue",
    "start": "1136400",
    "end": "1143360"
  },
  {
    "text": "that just came out we will always make new instances the nice part about this is is it lets",
    "start": "1143360",
    "end": "1149280"
  },
  {
    "text": "you be really granular with the security around your production instances",
    "start": "1149280",
    "end": "1154640"
  },
  {
    "text": "we don't have a production ec2 instance that can talk to maybe one or two network resources",
    "start": "1154640",
    "end": "1160559"
  },
  {
    "text": "because we've done everything we can to assemble it beforehand to really make",
    "start": "1160559",
    "end": "1166640"
  },
  {
    "text": "sure that a production instances can't do things that they shouldn't be able to do which is going to buy you a lot",
    "start": "1166640",
    "end": "1172799"
  },
  {
    "text": "if you did ever have some code vulnerability in your application because it's going to be very difficult for people to do things",
    "start": "1172799",
    "end": "1179520"
  },
  {
    "text": "the way that we accomplish this is we created this what we call a stage concept and a lot of you",
    "start": "1179520",
    "end": "1185200"
  },
  {
    "text": "probably already do this and the first thing that we do is we start with the distribution ami so",
    "start": "1185200",
    "end": "1193039"
  },
  {
    "text": "you find a distribution out there you want to use and ultimately that's where you have to start so we start with our distribution of choice",
    "start": "1193039",
    "end": "1200480"
  },
  {
    "text": "we launch that we ensure we install all of the system updates and then",
    "start": "1200480",
    "end": "1206080"
  },
  {
    "text": "we use uh puppet a lot i don't know why anymore i'd probably use chef if we were building but we used a lot of puppets so",
    "start": "1206080",
    "end": "1212960"
  },
  {
    "text": "we apply all the puppet manifests that assemble the server and configure it for its role and we stop",
    "start": "1212960",
    "end": "1219039"
  },
  {
    "text": "right there and we create the ami because at that point we know it's updated we know it's ready to go but we didn't install",
    "start": "1219039",
    "end": "1225600"
  },
  {
    "text": "the code on it yet because this process is really slow it takes like 25 minutes and we don't want to wait 25 minutes to deploy",
    "start": "1225600",
    "end": "1232000"
  },
  {
    "text": "so we create an ami right now and that ami is what we're going to use when",
    "start": "1232000",
    "end": "1237280"
  },
  {
    "text": "we're preparing instances for production so you can script that you can build those every night you can build",
    "start": "1237280",
    "end": "1242720"
  },
  {
    "text": "instances that have all of the latest packages everything you need for them to run in",
    "start": "1242720",
    "end": "1247760"
  },
  {
    "text": "production and that way when you need to deploy it's already there so we take that base ami that we built",
    "start": "1247760",
    "end": "1255200"
  },
  {
    "text": "off the distribution with the updates with everything it needs to do its job we launch it we add our code to it",
    "start": "1255200",
    "end": "1261600"
  },
  {
    "text": "we test our code and we create the ami that that is then ready for production",
    "start": "1261600",
    "end": "1268000"
  },
  {
    "text": "once the production ami is ready it's pretty simple we launch it it goes into a load balancer going",
    "start": "1268000",
    "end": "1275600"
  },
  {
    "text": "through this process has a lot of value to it we change the rules for our ids for each stage",
    "start": "1275600",
    "end": "1282960"
  },
  {
    "text": "that way when we're deploying code we're not triggering our rds on the fact that the",
    "start": "1282960",
    "end": "1288559"
  },
  {
    "text": "code is changing we can deploy our code ensure that the code is legit max",
    "start": "1288559",
    "end": "1294080"
  },
  {
    "text": "matches the checksums that we expect but isn't going to send alerts and",
    "start": "1294080",
    "end": "1301039"
  },
  {
    "text": "at every layer of these stages we change our network permissions we change every layer permissions to make sure",
    "start": "1301039",
    "end": "1306480"
  },
  {
    "text": "that each stage can only do exactly what it can do",
    "start": "1306480",
    "end": "1311039"
  },
  {
    "text": "so change control just talked about that and that's something that people pretty well have figured out now",
    "start": "1312480",
    "end": "1318000"
  },
  {
    "text": "patch management's a really big deal for the pci dss you ultimately have to",
    "start": "1318000",
    "end": "1324720"
  },
  {
    "text": "create policies in your organization to map patches to priorities so",
    "start": "1324720",
    "end": "1332240"
  },
  {
    "text": "you can say you know a high level package here needs to be installed within seven days according to the dss or whatever it is",
    "start": "1332240",
    "end": "1339200"
  },
  {
    "text": "for us for us it's basically a day if a high level security vulnerability comes out so",
    "start": "1339200",
    "end": "1345440"
  },
  {
    "text": "you have to figure out how you're going to do these patches and because patching is generally considered really painful",
    "start": "1345440",
    "end": "1351120"
  },
  {
    "text": "we made sure our entire workflow naturally supports patches if we're deploying new code we've",
    "start": "1351120",
    "end": "1356880"
  },
  {
    "text": "already ensured we've installed the latest packages because of our whole stage system",
    "start": "1356880",
    "end": "1362720"
  },
  {
    "text": "since our normal workflow installs pack patches patches really isn't that painful for us",
    "start": "1362720",
    "end": "1369840"
  },
  {
    "start": "1370000",
    "end": "1556000"
  },
  {
    "text": "and so if you get patches figured out then you just have to get to the",
    "start": "1371200",
    "end": "1376559"
  },
  {
    "text": "technical parts um that will continue so vpn there's there's a lot of requirements in the pci dss that are",
    "start": "1376559",
    "end": "1382960"
  },
  {
    "text": "going to change how you set up your vpn server and the vpn is ultimately",
    "start": "1382960",
    "end": "1388000"
  },
  {
    "text": "going to provide you with the way that you get into your vpc to manage your resources",
    "start": "1388000",
    "end": "1395120"
  },
  {
    "text": "pci is very specific about requiring multi-factor authentication and if you attack that at the vpn layer",
    "start": "1395200",
    "end": "1402080"
  },
  {
    "text": "then you don't have to figure out how to attack that at every single other layer which gets really hard depending on which technology stacks you're using",
    "start": "1402080",
    "end": "1409280"
  },
  {
    "text": "so what i would recommend is openvpn plus openldap plus dual security",
    "start": "1409280",
    "end": "1417200"
  },
  {
    "text": "dual security is the only commercial solution i'll mention here we have no vested interest in them it's just a really",
    "start": "1417200",
    "end": "1422720"
  },
  {
    "text": "they have a really great open vpn implementation if you need to do multi-factor authentication on",
    "start": "1422720",
    "end": "1429440"
  },
  {
    "text": "so openvpn you know if you're worried about implementing the best vpn or security uh",
    "start": "1429440",
    "end": "1435840"
  },
  {
    "text": "the the vast majority of commercial vpn solutions that you'll see people selling you",
    "start": "1435840",
    "end": "1441120"
  },
  {
    "text": "are actually built on openvpn so you can feel pretty comfortable with that it's a ssl based vpn it's not ipsec so",
    "start": "1441120",
    "end": "1448720"
  },
  {
    "text": "it's going to work a little differently but it works pretty well and really at the end of the day you're just going",
    "start": "1448720",
    "end": "1454400"
  },
  {
    "text": "to create an ec2 instance or different ec2 instances and different availability zones depending on what",
    "start": "1454400",
    "end": "1460000"
  },
  {
    "text": "you're depending on your availability requirements so once you get openvpn you have your",
    "start": "1460000",
    "end": "1465840"
  },
  {
    "text": "vpn server but the problem with that is is it doesn't have a user database nor is it compliant",
    "start": "1465840",
    "end": "1472000"
  },
  {
    "text": "with the vast list of requirements with password complexity history failed login attempts making",
    "start": "1472000",
    "end": "1477919"
  },
  {
    "text": "sure you're locking users when they need to be locked when i first",
    "start": "1477919",
    "end": "1482960"
  },
  {
    "text": "started looking at the pci dss and how we would meet these requirements on our vpn server",
    "start": "1482960",
    "end": "1489679"
  },
  {
    "text": "i was slightly frustrated because the pci dss is pretty much a direct copy and paste from active directory",
    "start": "1489679",
    "end": "1495760"
  },
  {
    "text": "so if if you use active directory it's great because they just copy and",
    "start": "1495760",
    "end": "1501200"
  },
  {
    "text": "pasted like all the check boxes but if you don't use active directory it takes a little bit of work to figure out",
    "start": "1501200",
    "end": "1506320"
  },
  {
    "text": "how to do this and we initially used active directory and i kind of burned my soul but we did it",
    "start": "1506320",
    "end": "1512559"
  },
  {
    "text": "so that we could just get past this eventually we figured out you can meet all these requirements with openvpn and",
    "start": "1512559",
    "end": "1518400"
  },
  {
    "text": "open ldap there's a library for pinellas app available called the password checker",
    "start": "1518400",
    "end": "1523440"
  },
  {
    "text": "library so openvpn plus openldap will give you your vpn server plus your user database",
    "start": "1523440",
    "end": "1530159"
  },
  {
    "text": "plus all of the requirement i think it's eight requirements that you need to do for passwords then",
    "start": "1530159",
    "end": "1535760"
  },
  {
    "text": "you just need to plug multi-factor authentication into it um i like dual security mostly because",
    "start": "1535760",
    "end": "1542240"
  },
  {
    "text": "they work with openvpn and it plugs in nicely if you have a small team less than 10",
    "start": "1542240",
    "end": "1547520"
  },
  {
    "text": "you won't pay anything if you have a larger team you'll pay basically nothing compared to what you would pay for a commercial vpn",
    "start": "1547520",
    "end": "1554840"
  },
  {
    "text": "solution so once you get past vpn then you really start looking at your instances and all the things that have",
    "start": "1554840",
    "end": "1561039"
  },
  {
    "start": "1556000",
    "end": "1766000"
  },
  {
    "text": "to be installed on an ec2 instance to comply with pci and file integrity and intrusion",
    "start": "1561039",
    "end": "1566799"
  },
  {
    "text": "detection systems is part of that and that can be a little bit tricky so you can do a do file integrity",
    "start": "1566799",
    "end": "1573279"
  },
  {
    "text": "monitoring and a host-based intrusion detection system really easily there's not a lot to it os",
    "start": "1573279",
    "end": "1580880"
  },
  {
    "text": "sac is what i like and once again a lot of commercial solutions use os sec trend micro backs os sec",
    "start": "1580880",
    "end": "1589440"
  },
  {
    "text": "they'll keep it free and open source they say that and it's just a software package you're going to install on all of your ec2",
    "start": "1589440",
    "end": "1596000"
  },
  {
    "text": "instances it's going to analyze network traffic it's going to monitor all of your logs to look for things that are suspicious that will",
    "start": "1596000",
    "end": "1602400"
  },
  {
    "text": "occur and we we've tweaked ours to be really paranoid to look in the logs to see things that",
    "start": "1602400",
    "end": "1608000"
  },
  {
    "text": "are different from our workflow so that'll get you pretty close but it's",
    "start": "1608000",
    "end": "1613279"
  },
  {
    "text": "still not a network intrusion detection system which you're going to need to comply with pci",
    "start": "1613279",
    "end": "1619120"
  },
  {
    "text": "so for the network intrusion detection system um we we're pretty big fans of snort",
    "start": "1619120",
    "end": "1627919"
  },
  {
    "text": "as i've said with all these previous systems pretty much all the commercial solutions use snort as well so it's a pretty good option if you can",
    "start": "1627919",
    "end": "1634400"
  },
  {
    "text": "figure out how to set it all up snort does support the ability to log all of its events that it detects that",
    "start": "1634400",
    "end": "1640240"
  },
  {
    "text": "are suspicious to a mysql database and if you throw that on rds then you don't have to worry about managing",
    "start": "1640240",
    "end": "1646480"
  },
  {
    "text": "mysql server and the pci requirements there the problem though with network-based",
    "start": "1646480",
    "end": "1651919"
  },
  {
    "text": "ids is in a traditional network you go into your cisco switches you configure ports to mirror all of your",
    "start": "1651919",
    "end": "1658480"
  },
  {
    "text": "traffic to your intrusion detection system and there's really no way to do that on aws",
    "start": "1658480",
    "end": "1663840"
  },
  {
    "text": "so you can utilize daemon tools plus openvpn to kind of accomplish this the way this ends up looking is you",
    "start": "1663840",
    "end": "1670960"
  },
  {
    "text": "have an ec2 instance and with an ec2 instance you get you know an e0 interface that plugs you",
    "start": "1670960",
    "end": "1677279"
  },
  {
    "text": "into your vpc the next thing is you can use daemon tools to",
    "start": "1677279",
    "end": "1683039"
  },
  {
    "text": "create this tap zero interface that's going to mirror all the traffic on the eth0 interface",
    "start": "1683039",
    "end": "1688640"
  },
  {
    "text": "and with that mirrored traffic you can then send that to your snort ids system",
    "start": "1688640",
    "end": "1695600"
  },
  {
    "text": "we wrap all of that mirrored traffic into a little open vpn network on every server to ensure that it's properly",
    "start": "1695679",
    "end": "1702000"
  },
  {
    "text": "encrypted as it flows past our vpc so basically daemon tools will mirror it openvpn can",
    "start": "1702000",
    "end": "1709039"
  },
  {
    "text": "encrypt it and then that's going to flow to your snort instance and you can use multiple snort instances",
    "start": "1709039",
    "end": "1715279"
  },
  {
    "text": "depending on what you're trying to do with availability and so forth once you've done that the next trick is",
    "start": "1715279",
    "end": "1720399"
  },
  {
    "text": "to figure out how do you actually manage like 20 000 ids alerts as you're tweaking it and",
    "start": "1720399",
    "end": "1727679"
  },
  {
    "text": "there's a solution called snorby out there it's a rails app it'll just hook into the snort database",
    "start": "1727679",
    "end": "1734240"
  },
  {
    "text": "that you're running on rds and then can provide you with a user interface and you can tweak your rules",
    "start": "1734240",
    "end": "1739360"
  },
  {
    "text": "from there the the thing about an intrusion detection system is if you don't like take it really",
    "start": "1739360",
    "end": "1745760"
  },
  {
    "text": "seriously you mean you can implement it and check off the pci requirements but you really have to try to tweak it to",
    "start": "1745760",
    "end": "1752000"
  },
  {
    "text": "how your business works how your servers work how your workflow works that you're not getting a ridiculous number of alerts",
    "start": "1752000",
    "end": "1757919"
  },
  {
    "text": "that you can't manage that way when an actual attack doesn't happen you're not target that ignored it",
    "start": "1757919",
    "end": "1763279"
  },
  {
    "text": "because you're used to all these other ones so you've finished the intrusion",
    "start": "1763279",
    "end": "1770399"
  },
  {
    "text": "detection file integrity the pci dss is really clear that you",
    "start": "1770399",
    "end": "1775679"
  },
  {
    "text": "have to implement antivirus it doesn't matter if you're running on a linux server and it can be frustrating to do that",
    "start": "1775679",
    "end": "1783600"
  },
  {
    "text": "you know the way we look at antivirus is you know we'll implement it we'll do it but we don't count on it because we can",
    "start": "1783600",
    "end": "1789919"
  },
  {
    "text": "pretty much count on the fact that if someone does infiltrate us it's going to be through our application and they're going to write their own",
    "start": "1789919",
    "end": "1795840"
  },
  {
    "text": "code they're going to put on our server and there's absolutely no way an antivirus database is going to detect that",
    "start": "1795840",
    "end": "1802240"
  },
  {
    "text": "but you got to implement it so you implement it clam av works great",
    "start": "1802240",
    "end": "1807279"
  },
  {
    "text": "it's open source sourcefire inc i think is the one that owns it right now",
    "start": "1807279",
    "end": "1812640"
  },
  {
    "text": "you can use fresh clam which is a basically daemon that clam av provides",
    "start": "1812640",
    "end": "1818559"
  },
  {
    "text": "to ensure that you're updating your definitions if you're doing that i would suggest you",
    "start": "1818559",
    "end": "1823919"
  },
  {
    "text": "try to locally mirror your definitions so that you don't have to allow your production instances to reach out",
    "start": "1823919",
    "end": "1829679"
  },
  {
    "text": "to the internet to grab antivirus definitions since we we make sure you know we don't",
    "start": "1829679",
    "end": "1835039"
  },
  {
    "text": "have a production instance that can touch the internet so you always got to kind of figure out how you're going to update that and handle",
    "start": "1835039",
    "end": "1840399"
  },
  {
    "text": "that and then you can configure that to alert to anything you know in our case we we like cloudwatch um",
    "start": "1840399",
    "end": "1848000"
  },
  {
    "text": "the next part that used to be really painful that i didn't like talking about was centralized logging because you have to all of this stuff",
    "start": "1848000",
    "end": "1855279"
  },
  {
    "text": "you implement the dss is pretty clear that has the logs have to go to one place um and when you're running on aws it's",
    "start": "1855279",
    "end": "1864159"
  },
  {
    "text": "really tempting to use the commercially available logging solutions that people sell and we've been down that road and we've",
    "start": "1864159",
    "end": "1871039"
  },
  {
    "text": "done it but most of them can't produce a pci report on compliance so then you're trying to explain to your",
    "start": "1871039",
    "end": "1878320"
  },
  {
    "text": "auditors why you send your most critical logs to someone that can't isn't pci compliant",
    "start": "1878320",
    "end": "1884880"
  },
  {
    "text": "you know and we went through that we actually modified our syslog to be very aggressive with filtering to",
    "start": "1885279",
    "end": "1891919"
  },
  {
    "text": "ensure card numbers couldn't get through it and things like that and you can accomplish that if that's",
    "start": "1891919",
    "end": "1897200"
  },
  {
    "text": "what you want to do but it feels really dirty the nice thing is is amazon released the ability to do logging into cloudwatch",
    "start": "1897200",
    "end": "1905279"
  },
  {
    "text": "which is something we've migrated to it's not very feature-rich right now but i'm sure that'll change",
    "start": "1905279",
    "end": "1910559"
  },
  {
    "text": "and if you do use cloudwatch for that you're going to run a agent on all of your servers you can",
    "start": "1910559",
    "end": "1916240"
  },
  {
    "text": "figure that to monitor all the logs that you consider important um which is basically all of them so",
    "start": "1916240",
    "end": "1924320"
  },
  {
    "text": "you really i mean if you install cloud watch and you're just watching syslog on a linux server depending on your distribution there's a",
    "start": "1924320",
    "end": "1930480"
  },
  {
    "text": "lot of stuff you're going to be missing so you really need someone that understands security and how the distribution works",
    "start": "1930480",
    "end": "1936000"
  },
  {
    "text": "to tell you all the log files that are going to be relevant",
    "start": "1936000",
    "end": "1940880"
  },
  {
    "start": "1940000",
    "end": "2308000"
  },
  {
    "text": "so the the next part about this that's pretty challenging or has been pretty",
    "start": "1941679",
    "end": "1947679"
  },
  {
    "text": "challenging to handle on aws is how you protect your keys",
    "start": "1947679",
    "end": "1953360"
  },
  {
    "text": "so in the aws environment you you know you have everyone out there is doing everything they can to deploy",
    "start": "1953360",
    "end": "1959760"
  },
  {
    "text": "servers from code and very few people are really thinking through the consequences of that because",
    "start": "1959760",
    "end": "1965600"
  },
  {
    "text": "you have configuration files with rds credentials you have configuration files with api",
    "start": "1965600",
    "end": "1970640"
  },
  {
    "text": "keys for partners you have private keys for your ssl certificates",
    "start": "1970640",
    "end": "1976080"
  },
  {
    "text": "and then if you're doing credit cards you probably have encryption keys that encrypt credit cards",
    "start": "1976080",
    "end": "1981440"
  },
  {
    "text": "and you have to figure out how do you handle this and keep all that important stuff out of your",
    "start": "1981440",
    "end": "1987840"
  },
  {
    "text": "github account and not a lot of people do but if if you take this seriously you",
    "start": "1987840",
    "end": "1994320"
  },
  {
    "text": "really need to figure that out when we're looking at this a few years ago cloud hsm didn't exist key",
    "start": "1994320",
    "end": "1999919"
  },
  {
    "text": "management service i think that's what it's called didn't exist so we built our own key service that ran",
    "start": "1999919",
    "end": "2005919"
  },
  {
    "text": "on ec2 that pretty much works just like the one amazon released yesterday",
    "start": "2005919",
    "end": "2012480"
  },
  {
    "text": "and the one amazon released yesterday is better than ours it handles availability much better than",
    "start": "2012559",
    "end": "2018720"
  },
  {
    "text": "ours does high availability and things like that so we're already working to migrate towards that and i've been playing with it",
    "start": "2018720",
    "end": "2024960"
  },
  {
    "text": "the nice thing about the aws key management service is it supports key rotation itself so if you look at the dss one of",
    "start": "2024960",
    "end": "2032880"
  },
  {
    "text": "the requirements is really clear to make sure that you're rotating your keys and then traditionally it's a really painful scary operation because",
    "start": "2032880",
    "end": "2039679"
  },
  {
    "text": "if you mess it up you might lose all the credit cards you were securing in the first place",
    "start": "2039679",
    "end": "2045519"
  },
  {
    "text": "the other nice thing about the key management service is it provides a very clear route a very clear",
    "start": "2045519",
    "end": "2052480"
  },
  {
    "text": "description on cloudtrail about what was being accessed and if you utilize it properly you'll know that this encryption key was",
    "start": "2052480",
    "end": "2059358"
  },
  {
    "text": "used to access this record that we were securing at this moment in time by this resource and i'll get into kind of how you do",
    "start": "2059359",
    "end": "2065520"
  },
  {
    "text": "that so to encrypt a record with aws key management service",
    "start": "2065520",
    "end": "2070800"
  },
  {
    "text": "first thing you need to do is make is create a master key um there's different ways to go about",
    "start": "2070800",
    "end": "2076480"
  },
  {
    "text": "this but i would recommend that you create a mac a master key that's unique to each data record",
    "start": "2076480",
    "end": "2081919"
  },
  {
    "text": "i think the pricing is like a dollar amount the key or something so it's pretty there's not a reason to not do",
    "start": "2081919",
    "end": "2087520"
  },
  {
    "text": "that so create a master key that has to do with your configuration files create one that",
    "start": "2087520",
    "end": "2093040"
  },
  {
    "text": "has to do with protecting your ssl keys and so forth the purpose of the master key however though",
    "start": "2093040",
    "end": "2098800"
  },
  {
    "text": "isn't to really encrypt your data it's to create keys that you then use to encrypt your data so you're not",
    "start": "2098800",
    "end": "2104880"
  },
  {
    "text": "sending your data to the aws key management service to have them encrypt it you're using that to get encryption keys",
    "start": "2104880",
    "end": "2110880"
  },
  {
    "text": "that then you can then use to encrypt your data and whatever method you would feel comfortable with once you get that key",
    "start": "2110880",
    "end": "2117119"
  },
  {
    "text": "master created or the master key you're then going to create the data encryption keys that you're actually going to use to encrypt your data",
    "start": "2117119",
    "end": "2123680"
  },
  {
    "text": "so you'll pass to the aws sdk the identifiers the master key that you want to use",
    "start": "2123680",
    "end": "2129119"
  },
  {
    "text": "and you'll pass an encryption context um and the encryption context value the",
    "start": "2129119",
    "end": "2135119"
  },
  {
    "text": "real power in that is to make sure that uh you're kind of explaining what you're encrypting so",
    "start": "2135119",
    "end": "2140640"
  },
  {
    "text": "that way when you're auditing this through cloudtrail you can see that you know this key is",
    "start": "2140640",
    "end": "2146000"
  },
  {
    "text": "related to this record that i'm encrypting so you'll want to pass some kind of metadata in your application maybe a",
    "start": "2146000",
    "end": "2151280"
  },
  {
    "text": "customer id a card idea uh don't use the card number as the encryption contacts that wouldn't make a",
    "start": "2151280",
    "end": "2157520"
  },
  {
    "text": "lot of sense so you'll create this encryption context",
    "start": "2157520",
    "end": "2162720"
  },
  {
    "text": "um you'll send this you'll get this data encryption key there's absolutely no",
    "start": "2162720",
    "end": "2168320"
  },
  {
    "text": "reason to not create a new encryption key for every single resource that you encrypt you're not charged for data encryption",
    "start": "2168320",
    "end": "2174240"
  },
  {
    "text": "keys so you might as well go for it so you create this data encryption key once you create that they're going to",
    "start": "2174240",
    "end": "2179839"
  },
  {
    "text": "return kind of two main important things you they're going to return the ciphertext and they're going to return the plain",
    "start": "2179839",
    "end": "2186240"
  },
  {
    "text": "text string as they call and the plain text string is actually the encryption key that you should use and whatever",
    "start": "2186240",
    "end": "2192000"
  },
  {
    "text": "whatever algorithm you like to do encryption in you're going to encrypt your data you're",
    "start": "2192000",
    "end": "2197839"
  },
  {
    "text": "going to store the ciphertext because if you don't there's no way to decrypt it and you're never going to store the",
    "start": "2197839",
    "end": "2203200"
  },
  {
    "text": "plain text encryption key so you've done all this encryption and now you need to decrypt your data and if",
    "start": "2203200",
    "end": "2208960"
  },
  {
    "text": "you did this all right hopefully you can do it so to decrypt it you have to have that ciphertext that they gave you earlier",
    "start": "2208960",
    "end": "2216240"
  },
  {
    "text": "you're going to pass them that ciphertext and a couple other fields once you've",
    "start": "2216240",
    "end": "2222079"
  },
  {
    "text": "done that they'll return that same encryption key to you that you can then use to decrypt your data",
    "start": "2222079",
    "end": "2229119"
  },
  {
    "text": "it's pretty much the same model of what we built but like i said they solved the availability issue between availability",
    "start": "2229119",
    "end": "2234320"
  },
  {
    "text": "zones and stuff like that that we didn't quite work through i i can't imagine why you wouldn't",
    "start": "2234320",
    "end": "2239440"
  },
  {
    "text": "utilize this right now so i look closely at this cloud hsm is",
    "start": "2239440",
    "end": "2245119"
  },
  {
    "text": "also an option and might make sense for some of you it's drastically more expensive though",
    "start": "2245119",
    "end": "2251760"
  },
  {
    "text": "so i would lean towards this unless there's an exact reason that you would want to use cloud hsm",
    "start": "2251760",
    "end": "2258640"
  },
  {
    "text": "some other you know best practices with this is the nice thing about using a different",
    "start": "2258640",
    "end": "2264720"
  },
  {
    "text": "master encryption key for each each resource is it makes it really easy for you to be granular with security",
    "start": "2264720",
    "end": "2270880"
  },
  {
    "text": "you can do this kind of with iam if you don't do that but from an auditor perspective if",
    "start": "2270880",
    "end": "2276400"
  },
  {
    "text": "you're dealing with an audit i can pretty much guarantee you if you're using one master encryption key across everything you encrypt",
    "start": "2276400",
    "end": "2282320"
  },
  {
    "text": "they're going to be really unhappy so generate a different master encryption key for every resource",
    "start": "2282320",
    "end": "2289280"
  },
  {
    "text": "make sure you enable the option to have aws rotate that key there's no pain to you",
    "start": "2289280",
    "end": "2295680"
  },
  {
    "text": "to have them rotate that key you don't have to deal with rotation you know it's just a checkbox that",
    "start": "2295680",
    "end": "2301440"
  },
  {
    "text": "makes life much better for you and then like i said earlier make sure that you're using a unique key for every",
    "start": "2301440",
    "end": "2307440"
  },
  {
    "text": "record so you know you look at all this you look at what it's going to take to meet",
    "start": "2307440",
    "end": "2314079"
  },
  {
    "start": "2308000",
    "end": "2480000"
  },
  {
    "text": "pci and it might not sound too bad but at the end of the day storing a credit card number touching a credit hard number",
    "start": "2314079",
    "end": "2320480"
  },
  {
    "text": "it's just it's a giant liability um and i would be really careful to make sure it's worth it",
    "start": "2320480",
    "end": "2326960"
  },
  {
    "text": "i would make sure that the benefit of touching a credit card number is worth it if you're not in the business of",
    "start": "2326960",
    "end": "2333119"
  },
  {
    "text": "handling credit cards or storing credit cards i can't fathom why you would decide to do it",
    "start": "2333119",
    "end": "2339040"
  },
  {
    "text": "and there's a lot of options out there you know we're one of them that can ensure that uh you don't have to deal with the",
    "start": "2339040",
    "end": "2345680"
  },
  {
    "text": "credit card number um and your customers will never know the difference the",
    "start": "2345680",
    "end": "2351280"
  },
  {
    "text": "liability though pci is kind of funny it extends by far beyond the possibility of losing",
    "start": "2351280",
    "end": "2356400"
  },
  {
    "text": "a cardholder number which is bad already but even if you do everything right even if you never lose a card holder",
    "start": "2356400",
    "end": "2362960"
  },
  {
    "text": "number it's a very heavy process",
    "start": "2362960",
    "end": "2368160"
  },
  {
    "text": "on your business the dss will hold you back pretty much everywhere deploying is harder the paperwork that",
    "start": "2368160",
    "end": "2374720"
  },
  {
    "text": "you need is harder so if it's not something that you make money off of",
    "start": "2374720",
    "end": "2380320"
  },
  {
    "text": "i would be very careful about doing it but if you do decide to do it just",
    "start": "2380320",
    "end": "2386160"
  },
  {
    "text": "remember the dss is just a baseline it's it's the start it's not going to protect",
    "start": "2386160",
    "end": "2391760"
  },
  {
    "text": "your application it does a very poor job of protecting your application there's like one requirement in there to",
    "start": "2391760",
    "end": "2396880"
  },
  {
    "text": "maybe scan your application and that's about it and your application is where you're going to get hacked so just because",
    "start": "2396880",
    "end": "2403200"
  },
  {
    "text": "you're pci compliant doesn't mean you don't have things to worry about anymore",
    "start": "2403200",
    "end": "2408319"
  },
  {
    "text": "so i would really look at your application always and don't think so much about just ensuring",
    "start": "2408319",
    "end": "2413920"
  },
  {
    "text": "that i'm dss compliant and i'm okay and the set of tools i described you",
    "start": "2413920",
    "end": "2419280"
  },
  {
    "text": "know open vpn open ldap dual um snort clam it's just a start you know",
    "start": "2419280",
    "end": "2424960"
  },
  {
    "text": "that that's things you can use if you want to build a compliant environment today but i would reach by far beyond that if",
    "start": "2424960",
    "end": "2431599"
  },
  {
    "text": "that's what you're doing and i would make sure that you're never in a state with your organization to",
    "start": "2431599",
    "end": "2436640"
  },
  {
    "text": "where you feel like you're secure and you don't need to try anymore because that's that's not really a good",
    "start": "2436640",
    "end": "2441920"
  },
  {
    "text": "strategy it's it's an effort you always need someone working on us how can we make sure we're building more secure",
    "start": "2441920",
    "end": "2447599"
  },
  {
    "text": "systems so that's kind of what i got that's the end so if anyone has any questions you can hold me at twitter",
    "start": "2447599",
    "end": "2452880"
  },
  {
    "text": "jesseangel or you can email me if you have pci questions about how you",
    "start": "2452880",
    "end": "2458800"
  },
  {
    "text": "can accomplish pci in your organization i'd be glad to help you with that we don't make any money off that but",
    "start": "2458800",
    "end": "2464400"
  },
  {
    "text": "i'll help you i'll help you build what we have um but at the end of the day there's a",
    "start": "2464400",
    "end": "2469599"
  },
  {
    "text": "lot of pain in that and we have the technology to ensure you don't actually have to touch credit card numbers you don't have to worry about any of this",
    "start": "2469599",
    "end": "2475040"
  },
  {
    "text": "and we'd love to help you with that as well thanks for your time",
    "start": "2475040",
    "end": "2480480"
  },
  {
    "text": "you",
    "start": "2480480",
    "end": "2482560"
  }
]