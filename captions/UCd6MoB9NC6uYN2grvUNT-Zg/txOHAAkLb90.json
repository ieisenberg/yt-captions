[
  {
    "start": "0",
    "end": "143000"
  },
  {
    "text": "hi everyone if you're still filing in",
    "start": "199",
    "end": "3810"
  },
  {
    "text": "that's totally fine",
    "start": "3810",
    "end": "4980"
  },
  {
    "text": "obviously there are plenty of seats this",
    "start": "4980",
    "end": "7620"
  },
  {
    "text": "time so I'm Abbie fuller I work in",
    "start": "7620",
    "end": "10559"
  },
  {
    "text": "developer relations for AWS I hope you",
    "start": "10559",
    "end": "13559"
  },
  {
    "text": "all enjoyed the keynote this morning I'm",
    "start": "13559",
    "end": "14910"
  },
  {
    "text": "really excited to have everyone here at",
    "start": "14910",
    "end": "16350"
  },
  {
    "text": "the at the London summit this is",
    "start": "16350",
    "end": "19020"
  },
  {
    "text": "advanced container management and",
    "start": "19020",
    "end": "20580"
  },
  {
    "text": "scheduling today so we'll mostly be",
    "start": "20580",
    "end": "22740"
  },
  {
    "text": "focusing on ECS but we'll also talk",
    "start": "22740",
    "end": "24600"
  },
  {
    "text": "about some container image size tips",
    "start": "24600",
    "end": "26760"
  },
  {
    "text": "that can apply to whichever",
    "start": "26760",
    "end": "27960"
  },
  {
    "text": "orchestration till your using so without",
    "start": "27960",
    "end": "30570"
  },
  {
    "text": "further ado since we are short on time",
    "start": "30570",
    "end": "32550"
  },
  {
    "text": "this morning what does container",
    "start": "32550",
    "end": "34770"
  },
  {
    "text": "management and why should you care about",
    "start": "34770",
    "end": "36210"
  },
  {
    "text": "it in the first place so container",
    "start": "36210",
    "end": "38100"
  },
  {
    "text": "scheduling is how your containers are",
    "start": "38100",
    "end": "39719"
  },
  {
    "text": "placed and run on your instance so",
    "start": "39719",
    "end": "42030"
  },
  {
    "text": "that's pretty simple a lot of these",
    "start": "42030",
    "end": "44219"
  },
  {
    "text": "things are things that come kind of by",
    "start": "44219",
    "end": "45960"
  },
  {
    "text": "default with whatever orchestration tool",
    "start": "45960",
    "end": "47610"
  },
  {
    "text": "that you're using but we can still get",
    "start": "47610",
    "end": "49200"
  },
  {
    "text": "some customization out of it so its",
    "start": "49200",
    "end": "51960"
  },
  {
    "text": "containers seems pretty simple just a",
    "start": "51960",
    "end": "53969"
  },
  {
    "text": "box full of whatever processes you're",
    "start": "53969",
    "end": "55829"
  },
  {
    "text": "running there and their associated",
    "start": "55829",
    "end": "57059"
  },
  {
    "text": "binaries and libraries but there are",
    "start": "57059",
    "end": "59039"
  },
  {
    "text": "still some moving pieces that go into",
    "start": "59039",
    "end": "60329"
  },
  {
    "text": "there so there's still some things that",
    "start": "60329",
    "end": "61710"
  },
  {
    "text": "you can manage and optimize one",
    "start": "61710",
    "end": "63570"
  },
  {
    "text": "container is is pretty easy or it easy",
    "start": "63570",
    "end": "66119"
  },
  {
    "text": "ish but the more containers that you",
    "start": "66119",
    "end": "68790"
  },
  {
    "text": "have the more problems that you have",
    "start": "68790",
    "end": "71790"
  },
  {
    "text": "so think about having one container and",
    "start": "71790",
    "end": "73530"
  },
  {
    "text": "it's two gigabytes and everyone has two",
    "start": "73530",
    "end": "75960"
  },
  {
    "text": "gigabytes but what you don't have is 50",
    "start": "75960",
    "end": "79049"
  },
  {
    "text": "times two gigabytes so the more",
    "start": "79049",
    "end": "80640"
  },
  {
    "text": "containers that you have if they're",
    "start": "80640",
    "end": "81960"
  },
  {
    "text": "really kind of big the more problems",
    "start": "81960",
    "end": "84240"
  },
  {
    "text": "that you have is you kind of scale and",
    "start": "84240",
    "end": "85799"
  },
  {
    "text": "think about how many problems you have",
    "start": "85799",
    "end": "86970"
  },
  {
    "text": "if you're continuously deploying your",
    "start": "86970",
    "end": "89340"
  },
  {
    "text": "two gigabyte container so to do doing it",
    "start": "89340",
    "end": "92070"
  },
  {
    "text": "to avoid doing extra work managing these",
    "start": "92070",
    "end": "94079"
  },
  {
    "text": "containers that we don't have to do we",
    "start": "94079",
    "end": "95939"
  },
  {
    "text": "turn to orchestration tools so that's",
    "start": "95939",
    "end": "98070"
  },
  {
    "text": "something like e CS or kubernetes or",
    "start": "98070",
    "end": "101040"
  },
  {
    "text": "docker swarm or mezzos tons of options",
    "start": "101040",
    "end": "103590"
  },
  {
    "text": "out there but what these orchestration",
    "start": "103590",
    "end": "105720"
  },
  {
    "text": "tools are for is helping us with all the",
    "start": "105720",
    "end": "107610"
  },
  {
    "text": "tricky bits of container scheduling so",
    "start": "107610",
    "end": "109920"
  },
  {
    "text": "scheduling the managing the deploying",
    "start": "109920",
    "end": "111810"
  },
  {
    "text": "and scaling and resource management and",
    "start": "111810",
    "end": "114689"
  },
  {
    "text": "most orchestration tools have at least",
    "start": "114689",
    "end": "116610"
  },
  {
    "text": "some level of built-ins to help you",
    "start": "116610",
    "end": "118350"
  },
  {
    "text": "manage these things but we have to do",
    "start": "118350",
    "end": "120240"
  },
  {
    "text": "some of it ourselves and in a lot of",
    "start": "120240",
    "end": "121619"
  },
  {
    "text": "cases we want to do some of these",
    "start": "121619",
    "end": "123149"
  },
  {
    "text": "ourselves because when you build an",
    "start": "123149",
    "end": "125100"
  },
  {
    "text": "orchestration tool you build for like",
    "start": "125100",
    "end": "126570"
  },
  {
    "text": "the eighty-five percent so that this",
    "start": "126570",
    "end": "128520"
  },
  {
    "text": "default is pretty good for almost",
    "start": "128520",
    "end": "130619"
  },
  {
    "text": "everyone but it's not always the best if",
    "start": "130619",
    "end": "133050"
  },
  {
    "text": "you think you could",
    "start": "133050",
    "end": "134010"
  },
  {
    "text": "timaeus or use case is a little",
    "start": "134010",
    "end": "135450"
  },
  {
    "text": "different so we can tweak some of these",
    "start": "135450",
    "end": "137879"
  },
  {
    "text": "things ourselves so let's take a look at",
    "start": "137879",
    "end": "140310"
  },
  {
    "text": "how some of these things work and UCS a",
    "start": "140310",
    "end": "142939"
  },
  {
    "text": "couple different types of schedulers so",
    "start": "142939",
    "end": "145319"
  },
  {
    "start": "143000",
    "end": "143000"
  },
  {
    "text": "you have your first one which is I think",
    "start": "145319",
    "end": "146730"
  },
  {
    "text": "probably the most commonly known moment",
    "start": "146730",
    "end": "148500"
  },
  {
    "text": "lease yes and that's a service scheduler",
    "start": "148500",
    "end": "150090"
  },
  {
    "text": "you have a batch scheduler an event",
    "start": "150090",
    "end": "152549"
  },
  {
    "text": "phase scheduler and then you can also",
    "start": "152549",
    "end": "154500"
  },
  {
    "text": "rent daemon processes which are not",
    "start": "154500",
    "end": "155909"
  },
  {
    "text": "quite a scheduler but they serve in a",
    "start": "155909",
    "end": "158549"
  },
  {
    "text": "lot of cases the same purpose so a",
    "start": "158549",
    "end": "160620"
  },
  {
    "text": "service scheduler manages tasks that are",
    "start": "160620",
    "end": "162780"
  },
  {
    "text": "managed through a service so that means",
    "start": "162780",
    "end": "164640"
  },
  {
    "text": "that the service itself controls how",
    "start": "164640",
    "end": "166349"
  },
  {
    "text": "many copies of a task are running what",
    "start": "166349",
    "end": "168480"
  },
  {
    "text": "your minimum number is what your maximum",
    "start": "168480",
    "end": "170159"
  },
  {
    "text": "number is when I should add more and",
    "start": "170159",
    "end": "172500"
  },
  {
    "text": "then how I should place those on the",
    "start": "172500",
    "end": "174389"
  },
  {
    "text": "instances that belong to my cluster a",
    "start": "174389",
    "end": "176159"
  },
  {
    "text": "batch scheduler runs many short-lived",
    "start": "176159",
    "end": "178709"
  },
  {
    "text": "tasks in parallel so an example of when",
    "start": "178709",
    "end": "181230"
  },
  {
    "text": "you might use this is reading items off",
    "start": "181230",
    "end": "183030"
  },
  {
    "text": "queue so when a new item is added to the",
    "start": "183030",
    "end": "186120"
  },
  {
    "text": "queue start up a batch job to process",
    "start": "186120",
    "end": "188879"
  },
  {
    "text": "all the items that are currently in the",
    "start": "188879",
    "end": "190319"
  },
  {
    "text": "queue an event-based scheduler runs a",
    "start": "190319",
    "end": "192780"
  },
  {
    "text": "task in response to an event so this is",
    "start": "192780",
    "end": "196019"
  },
  {
    "text": "really similar to how crontab works on",
    "start": "196019",
    "end": "198329"
  },
  {
    "text": "linux so with take some sort of action",
    "start": "198329",
    "end": "201150"
  },
  {
    "text": "every time a specific time occurs so",
    "start": "201150",
    "end": "203099"
  },
  {
    "text": "maybe that's every 12 hours maybe that's",
    "start": "203099",
    "end": "204660"
  },
  {
    "text": "every hour maybe that's the third",
    "start": "204660",
    "end": "207000"
  },
  {
    "text": "Tuesday of every month a daemon",
    "start": "207000",
    "end": "209489"
  },
  {
    "text": "scheduler runs a single copy of a",
    "start": "209489",
    "end": "211260"
  },
  {
    "text": "process and usually one per host an",
    "start": "211260",
    "end": "213870"
  },
  {
    "text": "example of this might be a logging agent",
    "start": "213870",
    "end": "216030"
  },
  {
    "text": "or a monitoring agent or a sidecar",
    "start": "216030",
    "end": "217859"
  },
  {
    "text": "process so you usually want one and only",
    "start": "217859",
    "end": "220889"
  },
  {
    "text": "one for every single host but you run it",
    "start": "220889",
    "end": "223049"
  },
  {
    "text": "outside of the service scheduler so as",
    "start": "223049",
    "end": "225510"
  },
  {
    "text": "part of service scheduling you can also",
    "start": "225510",
    "end": "227310"
  },
  {
    "text": "deal with your resource with your task",
    "start": "227310",
    "end": "229889"
  },
  {
    "text": "management policies and in constraints",
    "start": "229889",
    "end": "231750"
  },
  {
    "text": "so that means how do I place my tasks",
    "start": "231750",
    "end": "234150"
  },
  {
    "text": "how do I not place my tasks and what do",
    "start": "234150",
    "end": "237329"
  },
  {
    "text": "I need in order to place a task there so",
    "start": "237329",
    "end": "239699"
  },
  {
    "text": "by default",
    "start": "239699",
    "end": "240510"
  },
  {
    "text": "ECS has some behavior that works for you",
    "start": "240510",
    "end": "242730"
  },
  {
    "text": "so it will spread tasks according to",
    "start": "242730",
    "end": "244949"
  },
  {
    "text": "both availability zone and then by the",
    "start": "244949",
    "end": "246930"
  },
  {
    "text": "least number of running tasks so it'll",
    "start": "246930",
    "end": "249299"
  },
  {
    "text": "spread them across the region the cross",
    "start": "249299",
    "end": "251099"
  },
  {
    "text": "availability zone so if I have three",
    "start": "251099",
    "end": "252930"
  },
  {
    "text": "availability zones it will try to spread",
    "start": "252930",
    "end": "254639"
  },
  {
    "text": "one in each but then it will also place",
    "start": "254639",
    "end": "257400"
  },
  {
    "text": "by least number of running tasks meaning",
    "start": "257400",
    "end": "259229"
  },
  {
    "text": "it won't cluster all those tasks",
    "start": "259229",
    "end": "261090"
  },
  {
    "text": "together on one host if it can spread",
    "start": "261090",
    "end": "263340"
  },
  {
    "text": "them out but we don't have to use this",
    "start": "263340",
    "end": "265740"
  },
  {
    "text": "default behavior so",
    "start": "265740",
    "end": "266930"
  },
  {
    "text": "we can choose to and it just works out",
    "start": "266930",
    "end": "268490"
  },
  {
    "text": "of the box so that is having to do",
    "start": "268490",
    "end": "269600"
  },
  {
    "text": "anything but if not I can customize it",
    "start": "269600",
    "end": "271789"
  },
  {
    "text": "and this is how it works",
    "start": "271789",
    "end": "273440"
  },
  {
    "text": "this is feel like a middle school",
    "start": "273440",
    "end": "275630"
  },
  {
    "text": "flowchart but I made this myself so if",
    "start": "275630",
    "end": "278419"
  },
  {
    "text": "anyone seen my powerpoint on art before",
    "start": "278419",
    "end": "280009"
  },
  {
    "text": "this is no different so first up I have",
    "start": "280009",
    "end": "283430"
  },
  {
    "text": "to set to satisfy what I consider the",
    "start": "283430",
    "end": "285320"
  },
  {
    "text": "hard constraints so things like CPU and",
    "start": "285320",
    "end": "287570"
  },
  {
    "text": "memory and sometimes port and we'll talk",
    "start": "287570",
    "end": "289490"
  },
  {
    "text": "about why it's sometimes port in just a",
    "start": "289490",
    "end": "291259"
  },
  {
    "text": "second",
    "start": "291259",
    "end": "292250"
  },
  {
    "text": "next I can do my custom constraints so",
    "start": "292250",
    "end": "295160"
  },
  {
    "text": "that's a tag if I added a tag or a",
    "start": "295160",
    "end": "297410"
  },
  {
    "text": "specific ami then I select the instance",
    "start": "297410",
    "end": "301280"
  },
  {
    "text": "that meets my policy so that might be",
    "start": "301280",
    "end": "304340"
  },
  {
    "text": "spread so spread them evenly or bin pack",
    "start": "304340",
    "end": "306560"
  },
  {
    "text": "or cluster them as closely together as",
    "start": "306560",
    "end": "308120"
  },
  {
    "text": "possible",
    "start": "308120",
    "end": "309020"
  },
  {
    "text": "and then pick the final instance that I",
    "start": "309020",
    "end": "310789"
  },
  {
    "text": "want to place my tasks on so let's go",
    "start": "310789",
    "end": "314330"
  },
  {
    "text": "through these in order and it's one of",
    "start": "314330",
    "end": "316580"
  },
  {
    "text": "my greatest disappointments that I can't",
    "start": "316580",
    "end": "318289"
  },
  {
    "text": "actually see that my gif is working",
    "start": "318289",
    "end": "319669"
  },
  {
    "text": "until it gets on the screen so I am",
    "start": "319669",
    "end": "321259"
  },
  {
    "text": "delighted to know that my guests are",
    "start": "321259",
    "end": "323000"
  },
  {
    "text": "working so cluster requirements are hard",
    "start": "323000",
    "end": "326060"
  },
  {
    "text": "requirements so those are defined by the",
    "start": "326060",
    "end": "329060"
  },
  {
    "text": "instance type you're using so that might",
    "start": "329060",
    "end": "331250"
  },
  {
    "text": "be memory or CPU or bandwidth",
    "start": "331250",
    "end": "334159"
  },
  {
    "text": "I promise we'll still talk about what",
    "start": "334159",
    "end": "336260"
  },
  {
    "text": "sometimes port means in a second and",
    "start": "336260",
    "end": "337760"
  },
  {
    "text": "we'll talk about how to optimize those",
    "start": "337760",
    "end": "339380"
  },
  {
    "text": "but those are hard requirements so",
    "start": "339380",
    "end": "341000"
  },
  {
    "text": "things that I cannot make more of",
    "start": "341000",
    "end": "342500"
  },
  {
    "text": "without either choosing a new instance",
    "start": "342500",
    "end": "344510"
  },
  {
    "text": "type or rebalancing the tasks that I",
    "start": "344510",
    "end": "346340"
  },
  {
    "text": "already have running a custom",
    "start": "346340",
    "end": "347990"
  },
  {
    "text": "requirement is the requirement that I",
    "start": "347990",
    "end": "349699"
  },
  {
    "text": "choose myself so an attribute or a label",
    "start": "349699",
    "end": "352430"
  },
  {
    "text": "or an ami I can choose that myself so I",
    "start": "352430",
    "end": "355340"
  },
  {
    "text": "don't have to filter on them but I can",
    "start": "355340",
    "end": "356840"
  },
  {
    "text": "choose to here are some examples of what",
    "start": "356840",
    "end": "359210"
  },
  {
    "text": "some custom constraints might look like",
    "start": "359210",
    "end": "360759"
  },
  {
    "text": "for example a specific availability zone",
    "start": "360759",
    "end": "363500"
  },
  {
    "text": "or if I only want to run my message",
    "start": "363500",
    "end": "366050"
  },
  {
    "text": "processing tasks on a certain ami I",
    "start": "366050",
    "end": "368389"
  },
  {
    "text": "could do that this way so a placement",
    "start": "368389",
    "end": "371000"
  },
  {
    "text": "strategy is how I want my tasks to be",
    "start": "371000",
    "end": "373039"
  },
  {
    "text": "distributed so that's bin packing or",
    "start": "373039",
    "end": "374840"
  },
  {
    "text": "spread a couple of different examples of",
    "start": "374840",
    "end": "378500"
  },
  {
    "text": "these so we have four supported ones so",
    "start": "378500",
    "end": "381380"
  },
  {
    "start": "379000",
    "end": "379000"
  },
  {
    "text": "bin packing means to cluster as closely",
    "start": "381380",
    "end": "383150"
  },
  {
    "text": "together as possible so if I have two",
    "start": "383150",
    "end": "385070"
  },
  {
    "text": "two hosts it belong to my cluster it",
    "start": "385070",
    "end": "387800"
  },
  {
    "text": "will fill the first one as closely as",
    "start": "387800",
    "end": "389630"
  },
  {
    "text": "possible before it moves on to the",
    "start": "389630",
    "end": "391099"
  },
  {
    "text": "second one spread will try to distribute",
    "start": "391099",
    "end": "393590"
  },
  {
    "text": "them as evenly as possible affinity",
    "start": "393590",
    "end": "395870"
  },
  {
    "text": "means in like groups",
    "start": "395870",
    "end": "397159"
  },
  {
    "text": "so if I have task a and task B and they",
    "start": "397159",
    "end": "399680"
  },
  {
    "text": "always belong together",
    "start": "399680",
    "end": "400879"
  },
  {
    "text": "the schedule over always try to place",
    "start": "400879",
    "end": "402680"
  },
  {
    "text": "those together a distinct instances is",
    "start": "402680",
    "end": "405110"
  },
  {
    "text": "exactly what it sounds like so we'll try",
    "start": "405110",
    "end": "407479"
  },
  {
    "text": "to place them only on separate instances",
    "start": "407479",
    "end": "409610"
  },
  {
    "text": "rather than grouping them together so",
    "start": "409610",
    "end": "412789"
  },
  {
    "start": "412000",
    "end": "412000"
  },
  {
    "text": "you can start customizing these",
    "start": "412789",
    "end": "414139"
  },
  {
    "text": "yourselves so you don't have to use the",
    "start": "414139",
    "end": "415789"
  },
  {
    "text": "default behavior there are some",
    "start": "415789",
    "end": "417499"
  },
  {
    "text": "templates that you can choose from or",
    "start": "417499",
    "end": "419749"
  },
  {
    "text": "you could write your own and you can get",
    "start": "419749",
    "end": "422749"
  },
  {
    "text": "pretty specific here or you can pick",
    "start": "422749",
    "end": "424370"
  },
  {
    "text": "from the dropdowns so you can make these",
    "start": "424370",
    "end": "426590"
  },
  {
    "text": "pretty much as specific as you want so",
    "start": "426590",
    "end": "428930"
  },
  {
    "text": "if you want to filter by availability",
    "start": "428930",
    "end": "430639"
  },
  {
    "text": "zone and also by spread and then also",
    "start": "430639",
    "end": "432680"
  },
  {
    "text": "bin pack on top of that and then also",
    "start": "432680",
    "end": "434840"
  },
  {
    "text": "filter by an ami you can do this I had",
    "start": "434840",
    "end": "437330"
  },
  {
    "text": "someone ask me once though whether there",
    "start": "437330",
    "end": "438860"
  },
  {
    "text": "was any behavior that would stop them",
    "start": "438860",
    "end": "440719"
  },
  {
    "text": "from adding too many custom constraints",
    "start": "440719",
    "end": "443569"
  },
  {
    "text": "so with the scheduler at some point drop",
    "start": "443569",
    "end": "446029"
  },
  {
    "text": "constraints in order to continue",
    "start": "446029",
    "end": "447979"
  },
  {
    "text": "scheduling tasks and the answer is no so",
    "start": "447979",
    "end": "450529"
  },
  {
    "text": "proceed at your own risk so you can add",
    "start": "450529",
    "end": "452990"
  },
  {
    "text": "as many constraints as you want but",
    "start": "452990",
    "end": "454789"
  },
  {
    "text": "eventually if you add a lot of",
    "start": "454789",
    "end": "456889"
  },
  {
    "text": "constraints you will constraint yourself",
    "start": "456889",
    "end": "458719"
  },
  {
    "text": "right out of being able to place any",
    "start": "458719",
    "end": "460339"
  },
  {
    "text": "tasks so let's talk about resource usage",
    "start": "460339",
    "end": "464029"
  },
  {
    "text": "which I think is everyone's second",
    "start": "464029",
    "end": "465349"
  },
  {
    "text": "favorite topic and your third favorite I",
    "start": "465349",
    "end": "466879"
  },
  {
    "text": "think is networking which good news",
    "start": "466879",
    "end": "468349"
  },
  {
    "text": "we'll also talked about so what do you",
    "start": "468349",
    "end": "471020"
  },
  {
    "text": "do about resource constraints so these",
    "start": "471020",
    "end": "472400"
  },
  {
    "text": "are our hard constraints these are",
    "start": "472400",
    "end": "474620"
  },
  {
    "text": "controlled by your instance I see",
    "start": "474620",
    "end": "477050"
  },
  {
    "text": "instance versus an M instance and the",
    "start": "477050",
    "end": "479719"
  },
  {
    "text": "amount of memory and CPU that you",
    "start": "479719",
    "end": "481610"
  },
  {
    "text": "allocate to your task is to find your",
    "start": "481610",
    "end": "483919"
  },
  {
    "text": "task definition so an ec2 mode",
    "start": "483919",
    "end": "486789"
  },
  {
    "start": "484000",
    "end": "484000"
  },
  {
    "text": "colloquially known as just ECS you can",
    "start": "486789",
    "end": "489830"
  },
  {
    "text": "choose whatever instance type you want",
    "start": "489830",
    "end": "491360"
  },
  {
    "text": "with Fargate you choose from a sliding",
    "start": "491360",
    "end": "493939"
  },
  {
    "text": "scale of memory to CPU ratios so this is",
    "start": "493939",
    "end": "497659"
  },
  {
    "text": "an example of what it looks like in",
    "start": "497659",
    "end": "498800"
  },
  {
    "text": "Fargate I think it adds up to about 50",
    "start": "498800",
    "end": "502099"
  },
  {
    "text": "ish combinations of CPU to memory and",
    "start": "502099",
    "end": "504979"
  },
  {
    "text": "it's pretty generous so I think you can",
    "start": "504979",
    "end": "507889"
  },
  {
    "text": "get up to four virtual CPUs and up to 30",
    "start": "507889",
    "end": "511009"
  },
  {
    "text": "gigabytes of memory so a couple options",
    "start": "511009",
    "end": "513469"
  },
  {
    "text": "for you with ec2 mode choose whichever",
    "start": "513469",
    "end": "515930"
  },
  {
    "text": "one you want",
    "start": "515930",
    "end": "517000"
  },
  {
    "text": "so port technically a hard limit as in",
    "start": "517000",
    "end": "520789"
  },
  {
    "text": "if I have an app that's running on port",
    "start": "520789",
    "end": "523310"
  },
  {
    "text": "6000 I can't really do anything about",
    "start": "523310",
    "end": "525230"
  },
  {
    "text": "that right in order to get more copies",
    "start": "525230",
    "end": "527570"
  },
  {
    "text": "of port success and I have to start",
    "start": "527570",
    "end": "529610"
  },
  {
    "text": "another instance but I can use dynamic",
    "start": "529610",
    "end": "531769"
  },
  {
    "text": "port allocation",
    "start": "531769",
    "end": "533300"
  },
  {
    "text": "so who here's worked as a las",
    "start": "533300",
    "end": "534440"
  },
  {
    "text": "application load bouncer before okay so",
    "start": "534440",
    "end": "538130"
  },
  {
    "text": "my favorite part of that load balancer",
    "start": "538130",
    "end": "540380"
  },
  {
    "text": "is that you can do dynamic port mapping",
    "start": "540380",
    "end": "542210"
  },
  {
    "text": "which means I map to port 0 on the host",
    "start": "542210",
    "end": "545120"
  },
  {
    "text": "right",
    "start": "545120",
    "end": "545900"
  },
  {
    "text": "so all the bouncers kind of do the same",
    "start": "545900",
    "end": "549230"
  },
  {
    "start": "547000",
    "end": "547000"
  },
  {
    "text": "thing so they distribute your traffic so",
    "start": "549230",
    "end": "551540"
  },
  {
    "text": "that might be between an IP address or",
    "start": "551540",
    "end": "553370"
  },
  {
    "text": "an easy-to instance it could be",
    "start": "553370",
    "end": "554840"
  },
  {
    "text": "different tasks in a service three",
    "start": "554840",
    "end": "556910"
  },
  {
    "text": "different kinds so number one you'll be",
    "start": "556910",
    "end": "559040"
  },
  {
    "text": "classic",
    "start": "559040",
    "end": "559850"
  },
  {
    "text": "that's the original balances traffic",
    "start": "559850",
    "end": "562700"
  },
  {
    "text": "that is it next up is application load",
    "start": "562700",
    "end": "565700"
  },
  {
    "text": "bouncer that's at the request level",
    "start": "565700",
    "end": "567590"
  },
  {
    "text": "which is layer 7 great for micro",
    "start": "567590",
    "end": "570170"
  },
  {
    "text": "services you can do path and contest",
    "start": "570170",
    "end": "572630"
  },
  {
    "text": "content based routing which means to",
    "start": "572630",
    "end": "574760"
  },
  {
    "text": "route to something like slash web or",
    "start": "574760",
    "end": "576980"
  },
  {
    "text": "slash API or slash tasks only works",
    "start": "576980",
    "end": "582020"
  },
  {
    "text": "inside of EPC third choices Network load",
    "start": "582020",
    "end": "584810"
  },
  {
    "text": "balancer it's at the connection level",
    "start": "584810",
    "end": "586310"
  },
  {
    "text": "which is four routes to targets so ec2",
    "start": "586310",
    "end": "589910"
  },
  {
    "text": "instances or containers or IP addresses",
    "start": "589910",
    "end": "592010"
  },
  {
    "text": "good for high throughput low latency",
    "start": "592010",
    "end": "594670"
  },
  {
    "text": "especially good if you have volatile",
    "start": "594670",
    "end": "596690"
  },
  {
    "text": "traffic patterns so that means that if",
    "start": "596690",
    "end": "598580"
  },
  {
    "text": "you if you go from zero requests to",
    "start": "598580",
    "end": "601690"
  },
  {
    "text": "100,000 requests that would be",
    "start": "601690",
    "end": "603980"
  },
  {
    "text": "considered a very spiky traffic pattern",
    "start": "603980",
    "end": "605720"
  },
  {
    "text": "requires no pre-warming can just handle",
    "start": "605720",
    "end": "608510"
  },
  {
    "text": "the traffic right away I included a link",
    "start": "608510",
    "end": "611870"
  },
  {
    "text": "by the way if you're getting the slides",
    "start": "611870",
    "end": "613640"
  },
  {
    "text": "after this I included a couple links as",
    "start": "613640",
    "end": "615890"
  },
  {
    "text": "we go along that you can look at if",
    "start": "615890",
    "end": "617360"
  },
  {
    "text": "you're looking at the slides later so",
    "start": "617360",
    "end": "620390"
  },
  {
    "start": "619000",
    "end": "619000"
  },
  {
    "text": "what are load balancers have to do with",
    "start": "620390",
    "end": "622040"
  },
  {
    "text": "resource management so two things",
    "start": "622040",
    "end": "623780"
  },
  {
    "text": "so first the load balancer o is what's",
    "start": "623780",
    "end": "625820"
  },
  {
    "text": "actually distributing your requests so",
    "start": "625820",
    "end": "627740"
  },
  {
    "text": "if you're one of those people that sends",
    "start": "627740",
    "end": "629210"
  },
  {
    "text": "me a message on Twitter and says hey my",
    "start": "629210",
    "end": "631730"
  },
  {
    "text": "ECS deployments are slow and I don't",
    "start": "631730",
    "end": "633440"
  },
  {
    "text": "know why this is usually the first place",
    "start": "633440",
    "end": "635540"
  },
  {
    "text": "that I'll tell you to look because a lot",
    "start": "635540",
    "end": "637820"
  },
  {
    "text": "of your ECS settings can be tweaked to",
    "start": "637820",
    "end": "639710"
  },
  {
    "text": "the load balancer level so that's things",
    "start": "639710",
    "end": "641450"
  },
  {
    "text": "like the connection draining timeout",
    "start": "641450",
    "end": "643720"
  },
  {
    "text": "when you're scaling traffic off of a",
    "start": "643720",
    "end": "646550"
  },
  {
    "text": "task that's the cooldown period and your",
    "start": "646550",
    "end": "648890"
  },
  {
    "text": "auto scaling group before it adds a new",
    "start": "648890",
    "end": "650900"
  },
  {
    "text": "instance it tries to execute the rule",
    "start": "650900",
    "end": "652430"
  },
  {
    "text": "again so a lot of your behavior for how",
    "start": "652430",
    "end": "654950"
  },
  {
    "text": "quickly your deployments happen can",
    "start": "654950",
    "end": "656810"
  },
  {
    "text": "happen at the load balancer it's also",
    "start": "656810",
    "end": "658040"
  },
  {
    "text": "health checks so checking for example 15",
    "start": "658040",
    "end": "661010"
  },
  {
    "text": "times 10 seconds apart before something",
    "start": "661010",
    "end": "663170"
  },
  {
    "text": "is considered healthy or unhealthy that",
    "start": "663170",
    "end": "665540"
  },
  {
    "text": "slows your deployment down",
    "start": "665540",
    "end": "667519"
  },
  {
    "text": "so there's some load balancer settings",
    "start": "667519",
    "end": "668930"
  },
  {
    "text": "that you can check that help not only",
    "start": "668930",
    "end": "670130"
  },
  {
    "text": "with your deployments but also with your",
    "start": "670130",
    "end": "671509"
  },
  {
    "text": "resource management and secondly with",
    "start": "671509",
    "end": "674300"
  },
  {
    "text": "port allocation and alb",
    "start": "674300",
    "end": "676190"
  },
  {
    "text": "you can effectively remove one of your",
    "start": "676190",
    "end": "678050"
  },
  {
    "text": "hard constraints which is port so this",
    "start": "678050",
    "end": "681529"
  },
  {
    "start": "679000",
    "end": "679000"
  },
  {
    "text": "is binding to host port 0 and only",
    "start": "681529",
    "end": "684110"
  },
  {
    "text": "passing in the container port so if my",
    "start": "684110",
    "end": "686000"
  },
  {
    "text": "container process runs on port 80 I can",
    "start": "686000",
    "end": "689089"
  },
  {
    "text": "map to 80 on the container and 0 on the",
    "start": "689089",
    "end": "691100"
  },
  {
    "text": "host and then I can let the load",
    "start": "691100",
    "end": "692569"
  },
  {
    "text": "balancer allocate at a port which means",
    "start": "692569",
    "end": "694639"
  },
  {
    "text": "that if I have a process that runs on",
    "start": "694639",
    "end": "696440"
  },
  {
    "text": "port 8000 on the host previously I would",
    "start": "696440",
    "end": "699589"
  },
  {
    "text": "have had to spin up a whole new ec2",
    "start": "699589",
    "end": "701329"
  },
  {
    "text": "instance to auto scale that task I don't",
    "start": "701329",
    "end": "704300"
  },
  {
    "text": "have to anymore because I can let it go",
    "start": "704300",
    "end": "706040"
  },
  {
    "text": "to zero and then both of those copies of",
    "start": "706040",
    "end": "708709"
  },
  {
    "text": "that it was effectively the same task",
    "start": "708709",
    "end": "710509"
  },
  {
    "text": "can run on different ports which means",
    "start": "710509",
    "end": "712670"
  },
  {
    "text": "that I can wait just a little bit longer",
    "start": "712670",
    "end": "713930"
  },
  {
    "text": "before scaling up which lets me use my",
    "start": "713930",
    "end": "715970"
  },
  {
    "text": "resources a little bit more effectively",
    "start": "715970",
    "end": "719050"
  },
  {
    "text": "so the importance of images so this is",
    "start": "719050",
    "end": "721490"
  },
  {
    "text": "not ECS specific advice although I guess",
    "start": "721490",
    "end": "723259"
  },
  {
    "text": "some of it is also applies to kubernetes",
    "start": "723259",
    "end": "725779"
  },
  {
    "text": "or far gate or mezzos or swarm or",
    "start": "725779",
    "end": "728480"
  },
  {
    "text": "whatever you're using but a major",
    "start": "728480",
    "end": "730610"
  },
  {
    "text": "component of your resource management is",
    "start": "730610",
    "end": "732230"
  },
  {
    "text": "gonna be how big or how small your",
    "start": "732230",
    "end": "733760"
  },
  {
    "text": "docker images are so those add up really",
    "start": "733760",
    "end": "735829"
  },
  {
    "text": "quickly and they have really important",
    "start": "735829",
    "end": "737510"
  },
  {
    "text": "consequences right because I've been on",
    "start": "737510",
    "end": "739819"
  },
  {
    "text": "call and I've definitely been woken up",
    "start": "739819",
    "end": "742100"
  },
  {
    "text": "on call and I'm gonna tell you this",
    "start": "742100",
    "end": "743720"
  },
  {
    "text": "story even though it's embarrassing like",
    "start": "743720",
    "end": "745730"
  },
  {
    "text": "all my stories I guess but if you make",
    "start": "745730",
    "end": "748639"
  },
  {
    "text": "for example this really beautiful",
    "start": "748639",
    "end": "750760"
  },
  {
    "text": "well-organized super well commented",
    "start": "750760",
    "end": "753800"
  },
  {
    "text": "docker image that has many many lines",
    "start": "753800",
    "end": "755810"
  },
  {
    "text": "and it's so beautiful and so readable",
    "start": "755810",
    "end": "757610"
  },
  {
    "text": "and you're such a gift to developers and",
    "start": "757610",
    "end": "760880"
  },
  {
    "text": "then it turns out it's actually quite",
    "start": "760880",
    "end": "762980"
  },
  {
    "text": "large like 60 gigabytes and then you",
    "start": "762980",
    "end": "766430"
  },
  {
    "text": "continuously deploy that and now I have",
    "start": "766430",
    "end": "769279"
  },
  {
    "text": "because it's a startup and I deploy very",
    "start": "769279",
    "end": "771290"
  },
  {
    "text": "frequently very often very quickly I now",
    "start": "771290",
    "end": "773689"
  },
  {
    "text": "have my 6 gigabyte image very generously",
    "start": "773689",
    "end": "776630"
  },
  {
    "text": "strewn across my entire ec2 cluster and",
    "start": "776630",
    "end": "779839"
  },
  {
    "text": "then at 3 o'clock in the morning my best",
    "start": "779839",
    "end": "782420"
  },
  {
    "text": "friend pager duty is like hey you got no",
    "start": "782420",
    "end": "784939"
  },
  {
    "text": "disk space left and like you mean on",
    "start": "784939",
    "end": "787160"
  },
  {
    "text": "just one host Pedro dude is like no you",
    "start": "787160",
    "end": "789529"
  },
  {
    "text": "have no disk space anywhere and that my",
    "start": "789529",
    "end": "792319"
  },
  {
    "text": "friends is how continuous deployment",
    "start": "792319",
    "end": "793630"
  },
  {
    "text": "plus are really bad docker image woke me",
    "start": "793630",
    "end": "796850"
  },
  {
    "text": "up and you can learn from my mistakes so",
    "start": "796850",
    "end": "799860"
  },
  {
    "text": "do not have to get woken up by this so",
    "start": "799860",
    "end": "801720"
  },
  {
    "text": "the more layers you have in general the",
    "start": "801720",
    "end": "803790"
  },
  {
    "text": "larger those layers are the larger your",
    "start": "803790",
    "end": "805470"
  },
  {
    "text": "final image size will be this kills your",
    "start": "805470",
    "end": "808500"
  },
  {
    "text": "disk space and it's actually kind of is",
    "start": "808500",
    "end": "811920"
  },
  {
    "text": "opposite to how I would write regular",
    "start": "811920",
    "end": "813839"
  },
  {
    "text": "code right because with regular code I",
    "start": "813839",
    "end": "815820"
  },
  {
    "text": "might comment things out I might spread",
    "start": "815820",
    "end": "817769"
  },
  {
    "text": "things out into more than one line and",
    "start": "817769",
    "end": "819329"
  },
  {
    "text": "when it makes it a little bit more",
    "start": "819329",
    "end": "820260"
  },
  {
    "text": "readable that's the opposite here so",
    "start": "820260",
    "end": "824130"
  },
  {
    "text": "we're gonna talk about how you can",
    "start": "824130",
    "end": "825269"
  },
  {
    "text": "reduce these sizes a little bit so",
    "start": "825269",
    "end": "826829"
  },
  {
    "text": "number one just like kindergarten",
    "start": "826829",
    "end": "828540"
  },
  {
    "text": "sharing is caring so use the shared base",
    "start": "828540",
    "end": "831329"
  },
  {
    "text": "image wherever you can I said this to a",
    "start": "831329",
    "end": "833070"
  },
  {
    "text": "couple people after that UCS talks",
    "start": "833070",
    "end": "834630"
  },
  {
    "text": "yesterday use a shared base image to",
    "start": "834630",
    "end": "837990"
  },
  {
    "text": "limit the data that you write to the",
    "start": "837990",
    "end": "839850"
  },
  {
    "text": "container layer so that means if you're",
    "start": "839850",
    "end": "841500"
  },
  {
    "text": "doing something like downloading a whole",
    "start": "841500",
    "end": "843570"
  },
  {
    "text": "library of data and you're using it for",
    "start": "843570",
    "end": "846480"
  },
  {
    "text": "a little bit and then never touching it",
    "start": "846480",
    "end": "847950"
  },
  {
    "text": "again like populating a test database",
    "start": "847950",
    "end": "849779"
  },
  {
    "text": "get rid of that file in the same line",
    "start": "849779",
    "end": "851910"
  },
  {
    "text": "don't write it back to the container",
    "start": "851910",
    "end": "853589"
  },
  {
    "text": "layer chain run statements which yes it",
    "start": "853589",
    "end": "856350"
  },
  {
    "text": "makes it a little bit less readable but",
    "start": "856350",
    "end": "858180"
  },
  {
    "text": "also makes a much smaller image and then",
    "start": "858180",
    "end": "860579"
  },
  {
    "text": "lastly prevent your cache misses at",
    "start": "860579",
    "end": "863640"
  },
  {
    "text": "build for as long as you possibly can",
    "start": "863640",
    "end": "865350"
  },
  {
    "text": "and we'll talk about that in a second -",
    "start": "865350",
    "end": "867680"
  },
  {
    "text": "Wu Tang so cash rules everything around",
    "start": "867680",
    "end": "872130"
  },
  {
    "text": "me here and this is a funny joke by the",
    "start": "872130",
    "end": "874170"
  },
  {
    "text": "way so if no one laughs I'll be",
    "start": "874170",
    "end": "875250"
  },
  {
    "text": "disappointed so calling run add and copy",
    "start": "875250",
    "end": "878550"
  },
  {
    "text": "they all add layers so other",
    "start": "878550",
    "end": "880529"
  },
  {
    "text": "instructions will not assuming that",
    "start": "880529",
    "end": "881850"
  },
  {
    "text": "you're on docker 1.1 and above if you're",
    "start": "881850",
    "end": "884220"
  },
  {
    "text": "below that this does not affect you yet",
    "start": "884220",
    "end": "886079"
  },
  {
    "text": "so how the cache works in docker you",
    "start": "886079",
    "end": "888870"
  },
  {
    "text": "start backwards from the container layer",
    "start": "888870",
    "end": "890279"
  },
  {
    "text": "darker looks backwards at all child",
    "start": "890279",
    "end": "892769"
  },
  {
    "text": "images to see if they use the same",
    "start": "892769",
    "end": "894480"
  },
  {
    "text": "instruction so if they do use the same",
    "start": "894480",
    "end": "897120"
  },
  {
    "text": "instruction darker will use the cache",
    "start": "897120",
    "end": "898620"
  },
  {
    "text": "for add and copy which are instructions",
    "start": "898620",
    "end": "901500"
  },
  {
    "text": "that you generally use to get files a",
    "start": "901500",
    "end": "903240"
  },
  {
    "text": "checksum is used which means it'll check",
    "start": "903240",
    "end": "905730"
  },
  {
    "text": "the checksum of the new the new file",
    "start": "905730",
    "end": "907829"
  },
  {
    "text": "against the previous one if the check",
    "start": "907829",
    "end": "909779"
  },
  {
    "text": "sums match uses the cache if they do not",
    "start": "909779",
    "end": "911850"
  },
  {
    "text": "match it breaks the cache other them",
    "start": "911850",
    "end": "915149"
  },
  {
    "text": "with add and copy docker will look at",
    "start": "915149",
    "end": "917550"
  },
  {
    "text": "only the string of the command so the",
    "start": "917550",
    "end": "919680"
  },
  {
    "text": "string of the command chair is what does",
    "start": "919680",
    "end": "921510"
  },
  {
    "text": "it actually say in the command not what",
    "start": "921510",
    "end": "923160"
  },
  {
    "text": "it's doing but what what is the actual",
    "start": "923160",
    "end": "924990"
  },
  {
    "text": "literal string so it for an example with",
    "start": "924990",
    "end": "927750"
  },
  {
    "text": "apt-get update there's a footnote here",
    "start": "927750",
    "end": "931399"
  },
  {
    "text": "which takes up its own size",
    "start": "931399",
    "end": "933570"
  },
  {
    "text": "because it's really outgrown a footnote",
    "start": "933570",
    "end": "935370"
  },
  {
    "text": "but so what happens if my command string",
    "start": "935370",
    "end": "938040"
  },
  {
    "text": "is always the same but I need to rerun",
    "start": "938040",
    "end": "940080"
  },
  {
    "text": "the command so an example of this that's",
    "start": "940080",
    "end": "942090"
  },
  {
    "text": "really popular is git commands where the",
    "start": "942090",
    "end": "944730"
  },
  {
    "text": "address of your a repository I very",
    "start": "944730",
    "end": "946920"
  },
  {
    "text": "rarely changes but the content changes",
    "start": "946920",
    "end": "948990"
  },
  {
    "text": "so you can either ignore the cache so",
    "start": "948990",
    "end": "951000"
  },
  {
    "text": "you can pass no cache or you can break",
    "start": "951000",
    "end": "953160"
  },
  {
    "text": "it by changing the string every time a",
    "start": "953160",
    "end": "954900"
  },
  {
    "text": "really popular way to do this with the",
    "start": "954900",
    "end": "956640"
  },
  {
    "text": "timestamp so by passing the timestamp",
    "start": "956640",
    "end": "958830"
  },
  {
    "text": "they will change the string every time",
    "start": "958830",
    "end": "960570"
  },
  {
    "text": "will explicitly break the cache so it",
    "start": "960570",
    "end": "962880"
  },
  {
    "text": "will pull from your get registry every",
    "start": "962880",
    "end": "964620"
  },
  {
    "text": "time and the image itself make sure that",
    "start": "964620",
    "end": "968070"
  },
  {
    "text": "you clean up as you go so if you",
    "start": "968070",
    "end": "969990"
  },
  {
    "text": "download and install a package in your",
    "start": "969990",
    "end": "972930"
  },
  {
    "text": "if your gonna just use it you can",
    "start": "972930",
    "end": "974520"
  },
  {
    "text": "download it install it use it and remove",
    "start": "974520",
    "end": "977910"
  },
  {
    "text": "it and the same line and then that",
    "start": "977910",
    "end": "979530"
  },
  {
    "text": "package does not get committed to the",
    "start": "979530",
    "end": "981240"
  },
  {
    "text": "final image size so anything that you",
    "start": "981240",
    "end": "983460"
  },
  {
    "text": "use and download and the same line does",
    "start": "983460",
    "end": "986100"
  },
  {
    "text": "not get committed to that layer you can",
    "start": "986100",
    "end": "988830"
  },
  {
    "start": "988000",
    "end": "988000"
  },
  {
    "text": "also take advantage of things that come",
    "start": "988830",
    "end": "990360"
  },
  {
    "text": "for free with your operating system so",
    "start": "990360",
    "end": "992340"
  },
  {
    "text": "this is from apt-get and there is always",
    "start": "992340",
    "end": "995460"
  },
  {
    "text": "every time I talk about this someone",
    "start": "995460",
    "end": "997170"
  },
  {
    "text": "that comes out to me afterwards and says",
    "start": "997170",
    "end": "998490"
  },
  {
    "text": "you did not include this package or this",
    "start": "998490",
    "end": "1001130"
  },
  {
    "text": "flag that's in my particular package",
    "start": "1001130",
    "end": "1003350"
  },
  {
    "text": "manager this is the slide is not an",
    "start": "1003350",
    "end": "1006410"
  },
  {
    "text": "exhaustive list of all package managers",
    "start": "1006410",
    "end": "1008210"
  },
  {
    "text": "and flags I am thinking though about",
    "start": "1008210",
    "end": "1010640"
  },
  {
    "text": "writing a backup talk that's just",
    "start": "1010640",
    "end": "1012230"
  },
  {
    "text": "command line flags and every time",
    "start": "1012230",
    "end": "1014120"
  },
  {
    "text": "someone asks me that we're just gonna",
    "start": "1014120",
    "end": "1015500"
  },
  {
    "text": "have 60 minutes of command line flags",
    "start": "1015500",
    "end": "1017450"
  },
  {
    "text": "that's it no gifts no pictures just",
    "start": "1017450",
    "end": "1021020"
  },
  {
    "text": "flags so I'm thinking about it but for",
    "start": "1021020",
    "end": "1024350"
  },
  {
    "text": "now all of my examples are just using",
    "start": "1024350",
    "end": "1026540"
  },
  {
    "text": "app to get this is not even all the",
    "start": "1026540",
    "end": "1028310"
  },
  {
    "text": "flags for app to get but just so you",
    "start": "1028310",
    "end": "1030140"
  },
  {
    "text": "know this is one of them so OS built-ins",
    "start": "1030140",
    "end": "1034188"
  },
  {
    "text": "I can install my packages I can update",
    "start": "1034189",
    "end": "1036140"
  },
  {
    "text": "them and then I can remove the list",
    "start": "1036140",
    "end": "1038000"
  },
  {
    "text": "which is where my package installations",
    "start": "1038000",
    "end": "1039709"
  },
  {
    "text": "come from because I've already installed",
    "start": "1039709",
    "end": "1041240"
  },
  {
    "text": "that package so I don't need the list",
    "start": "1041240",
    "end": "1042860"
  },
  {
    "text": "anymore it's the same as cleaning up all",
    "start": "1042860",
    "end": "1044930"
  },
  {
    "text": "that when you download stuff from the",
    "start": "1044930",
    "end": "1046310"
  },
  {
    "text": "internet and it comes into the Qatar GZ",
    "start": "1046310",
    "end": "1048530"
  },
  {
    "text": "I don't need the tar dodge easy once",
    "start": "1048530",
    "end": "1050480"
  },
  {
    "text": "I've used the file I don't need the",
    "start": "1050480",
    "end": "1051950"
  },
  {
    "text": "zipped version any more so I get rid of",
    "start": "1051950",
    "end": "1053720"
  },
  {
    "text": "the zip version so the same thing",
    "start": "1053720",
    "end": "1055460"
  },
  {
    "text": "applies for your containers and you're",
    "start": "1055460",
    "end": "1056810"
  },
  {
    "text": "easy to of hosts clean up after yourself",
    "start": "1056810",
    "end": "1059290"
  },
  {
    "start": "1059000",
    "end": "1059000"
  },
  {
    "text": "a couple different ways to do this on",
    "start": "1059290",
    "end": "1061730"
  },
  {
    "text": "your system itself so the first one is",
    "start": "1061730",
    "end": "1063890"
  },
  {
    "text": "darker image prune and that will get rid",
    "start": "1063890",
    "end": "1065720"
  },
  {
    "text": "of all untagged in",
    "start": "1065720",
    "end": "1067970"
  },
  {
    "text": "you can also use system prune which will",
    "start": "1067970",
    "end": "1069830"
  },
  {
    "text": "go one step further and it will remove",
    "start": "1069830",
    "end": "1071360"
  },
  {
    "text": "things like unused volumes so unused in",
    "start": "1071360",
    "end": "1074390"
  },
  {
    "text": "Dockers case usually means untagged so",
    "start": "1074390",
    "end": "1076670"
  },
  {
    "text": "if something's new so if you go into",
    "start": "1076670",
    "end": "1078320"
  },
  {
    "text": "your to your host you say doctor PSA and",
    "start": "1078320",
    "end": "1080450"
  },
  {
    "text": "it lists a bunch of stuff you end up",
    "start": "1080450",
    "end": "1082700"
  },
  {
    "text": "with things that are untagged that have",
    "start": "1082700",
    "end": "1084590"
  },
  {
    "text": "like nothing and the tag column you can",
    "start": "1084590",
    "end": "1088010"
  },
  {
    "text": "clean those up with either image printer",
    "start": "1088010",
    "end": "1089780"
  },
  {
    "text": "system prune you can also use",
    "start": "1089780",
    "end": "1091640"
  },
  {
    "start": "1091000",
    "end": "1091000"
  },
  {
    "text": "third-party things so most orchestration",
    "start": "1091640",
    "end": "1094640"
  },
  {
    "text": "tools will do something called garbage",
    "start": "1094640",
    "end": "1096770"
  },
  {
    "text": "collection and that means cleaning up",
    "start": "1096770",
    "end": "1099320"
  },
  {
    "text": "after yourself in the same case so",
    "start": "1099320",
    "end": "1102530"
  },
  {
    "text": "ECS and kubernetes both have default",
    "start": "1102530",
    "end": "1104330"
  },
  {
    "text": "garbage collection behavior which means",
    "start": "1104330",
    "end": "1106070"
  },
  {
    "text": "they'll do some of this stuff like",
    "start": "1106070",
    "end": "1107600"
  },
  {
    "text": "cleaning up unused images and volumes",
    "start": "1107600",
    "end": "1109730"
  },
  {
    "text": "and tags you can go one step further so",
    "start": "1109730",
    "end": "1113180"
  },
  {
    "text": "there's a really nice third-party one",
    "start": "1113180",
    "end": "1114710"
  },
  {
    "text": "it's called Spotify GC that runs as its",
    "start": "1114710",
    "end": "1118160"
  },
  {
    "text": "own container and you can set it to",
    "start": "1118160",
    "end": "1120020"
  },
  {
    "text": "garbage collect on top of that so clean",
    "start": "1120020",
    "end": "1122240"
  },
  {
    "text": "up a little bit more aggressively and",
    "start": "1122240",
    "end": "1123620"
  },
  {
    "text": "this is not container specific also but",
    "start": "1123620",
    "end": "1126170"
  },
  {
    "text": "one of the greatest culprits of using up",
    "start": "1126170",
    "end": "1128780"
  },
  {
    "text": "all the resources and this is a song",
    "start": "1128780",
    "end": "1130760"
  },
  {
    "text": "that didn't use to come up that much",
    "start": "1130760",
    "end": "1132080"
  },
  {
    "text": "right because if I have a monolith how",
    "start": "1132080",
    "end": "1133880"
  },
  {
    "text": "frequently do I really deploy it",
    "start": "1133880",
    "end": "1135380"
  },
  {
    "text": "probably not very often and in a lot of",
    "start": "1135380",
    "end": "1137750"
  },
  {
    "text": "people's cases they were working on this",
    "start": "1137750",
    "end": "1140150"
  },
  {
    "text": "on these deploys and they'd be",
    "start": "1140150",
    "end": "1141560"
  },
  {
    "text": "scheduling and kind of planning for",
    "start": "1141560",
    "end": "1143210"
  },
  {
    "text": "these to poised for maybe weeks right",
    "start": "1143210",
    "end": "1144770"
  },
  {
    "text": "and then you deploy at once hopefully it",
    "start": "1144770",
    "end": "1146900"
  },
  {
    "text": "worked and then you'd kind of go through",
    "start": "1146900",
    "end": "1148430"
  },
  {
    "text": "all the stuff and then you get ready",
    "start": "1148430",
    "end": "1149510"
  },
  {
    "text": "staging all of your changes for the next",
    "start": "1149510",
    "end": "1150950"
  },
  {
    "text": "play but with microservices a lot of us",
    "start": "1150950",
    "end": "1153680"
  },
  {
    "text": "move to things like continuous",
    "start": "1153680",
    "end": "1154940"
  },
  {
    "text": "integration and deployment where I",
    "start": "1154940",
    "end": "1156910"
  },
  {
    "text": "deploy probably 10 times the rate that I",
    "start": "1156910",
    "end": "1160070"
  },
  {
    "text": "did before so in my case deployed",
    "start": "1160070",
    "end": "1162290"
  },
  {
    "text": "several times a day",
    "start": "1162290",
    "end": "1163490"
  },
  {
    "text": "some people's cases several times a week",
    "start": "1163490",
    "end": "1165100"
  },
  {
    "text": "still many times a day but with that",
    "start": "1165100",
    "end": "1169070"
  },
  {
    "text": "comes a lot of kind of associated for",
    "start": "1169070",
    "end": "1171350"
  },
  {
    "text": "lack of a better word garbage that you",
    "start": "1171350",
    "end": "1173420"
  },
  {
    "text": "didn't use to have that many so one part",
    "start": "1173420",
    "end": "1175310"
  },
  {
    "text": "of this is all of your unused and",
    "start": "1175310",
    "end": "1177170"
  },
  {
    "text": "untyped images and volumes but the the",
    "start": "1177170",
    "end": "1180500"
  },
  {
    "text": "second part is stuff like logs so if you",
    "start": "1180500",
    "end": "1183230"
  },
  {
    "text": "have log rotate on it's probably only",
    "start": "1183230",
    "end": "1185570"
  },
  {
    "text": "going once a day probably if it's the",
    "start": "1185570",
    "end": "1188120"
  },
  {
    "text": "same log rotate at 3 o'clock every",
    "start": "1188120",
    "end": "1189980"
  },
  {
    "text": "morning but it only goes once a day but",
    "start": "1189980",
    "end": "1192890"
  },
  {
    "text": "think if you deploy many times a day",
    "start": "1192890",
    "end": "1194510"
  },
  {
    "text": "think about how full your log files get",
    "start": "1194510",
    "end": "1196430"
  },
  {
    "text": "and how quickly those log files get full",
    "start": "1196430",
    "end": "1198200"
  },
  {
    "text": "the same if you're using a package",
    "start": "1198200",
    "end": "1199700"
  },
  {
    "text": "manager like",
    "start": "1199700",
    "end": "1200240"
  },
  {
    "text": "and PM is very chatty so you get ends up",
    "start": "1200240",
    "end": "1203179"
  },
  {
    "text": "with lots of system logs out the doctor",
    "start": "1203179",
    "end": "1205040"
  },
  {
    "text": "logs us of actual just stuff logs that",
    "start": "1205040",
    "end": "1208130"
  },
  {
    "text": "are coming and you're deploying more and",
    "start": "1208130",
    "end": "1210050"
  },
  {
    "text": "more often you're getting more and more",
    "start": "1210050",
    "end": "1211340"
  },
  {
    "text": "of these log files so two kind of steps",
    "start": "1211340",
    "end": "1213800"
  },
  {
    "text": "here so one you can change the system",
    "start": "1213800",
    "end": "1216410"
  },
  {
    "text": "behavior of log brote so you can log",
    "start": "1216410",
    "end": "1218330"
  },
  {
    "text": "rotate much more aggressively you can",
    "start": "1218330",
    "end": "1220250"
  },
  {
    "text": "rotate out more files you can get rid of",
    "start": "1220250",
    "end": "1222290"
  },
  {
    "text": "them every couple of hours if your",
    "start": "1222290",
    "end": "1224960"
  },
  {
    "text": "instead of every once a day but what you",
    "start": "1224960",
    "end": "1227240"
  },
  {
    "text": "can also do on top of that is that what",
    "start": "1227240",
    "end": "1229850"
  },
  {
    "text": "I used to do with my system logs too is",
    "start": "1229850",
    "end": "1231410"
  },
  {
    "text": "ship them off somewhere else as soon as",
    "start": "1231410",
    "end": "1232970"
  },
  {
    "text": "I had them and then I just removed the",
    "start": "1232970",
    "end": "1234890"
  },
  {
    "text": "file after that so I kept very little on",
    "start": "1234890",
    "end": "1237200"
  },
  {
    "text": "the actual host itself but all the logs",
    "start": "1237200",
    "end": "1239510"
  },
  {
    "text": "if I decided to care about them later",
    "start": "1239510",
    "end": "1241100"
  },
  {
    "text": "we're all shipped off somewhere else and",
    "start": "1241100",
    "end": "1244059"
  },
  {
    "text": "so there's lots of different ways to",
    "start": "1244059",
    "end": "1246050"
  },
  {
    "text": "both kind of keep cleaning your cleaning",
    "start": "1246050",
    "end": "1247550"
  },
  {
    "text": "up after yourself and also reducing",
    "start": "1247550",
    "end": "1249290"
  },
  {
    "text": "what's going on in your host because",
    "start": "1249290",
    "end": "1250940"
  },
  {
    "text": "what I've also found with containers too",
    "start": "1250940",
    "end": "1252440"
  },
  {
    "text": "is that the host changed much less",
    "start": "1252440",
    "end": "1254990"
  },
  {
    "text": "frequently because all of my actual",
    "start": "1254990",
    "end": "1257150"
  },
  {
    "text": "changes are in the container so the",
    "start": "1257150",
    "end": "1259190"
  },
  {
    "text": "hosts themselves are also very prone to",
    "start": "1259190",
    "end": "1261320"
  },
  {
    "text": "being full of kind of garbage and extra",
    "start": "1261320",
    "end": "1263630"
  },
  {
    "text": "stuff because I'm not changing them very",
    "start": "1263630",
    "end": "1265460"
  },
  {
    "text": "often so they're full of things like old",
    "start": "1265460",
    "end": "1267050"
  },
  {
    "text": "log files and images and other junk that",
    "start": "1267050",
    "end": "1269000"
  },
  {
    "text": "I don't need anymore because all my logs",
    "start": "1269000",
    "end": "1270770"
  },
  {
    "text": "have gone somewhere else and I'm",
    "start": "1270770",
    "end": "1272030"
  },
  {
    "text": "probably many deploys of that container",
    "start": "1272030",
    "end": "1274070"
  },
  {
    "text": "ahead of where I was so that was all um",
    "start": "1274070",
    "end": "1280280"
  },
  {
    "text": "if you're gonna take anything away from",
    "start": "1280280",
    "end": "1282500"
  },
  {
    "text": "this today I think a couple of things",
    "start": "1282500",
    "end": "1285020"
  },
  {
    "text": "so one do me a favor take a pretty quick",
    "start": "1285020",
    "end": "1289100"
  },
  {
    "text": "look at your at your docker files right",
    "start": "1289100",
    "end": "1292160"
  },
  {
    "text": "and that a lot of you might be doing",
    "start": "1292160",
    "end": "1293990"
  },
  {
    "text": "something that I used to do myself which",
    "start": "1293990",
    "end": "1296480"
  },
  {
    "text": "is I downloaded just the operating",
    "start": "1296480",
    "end": "1299179"
  },
  {
    "text": "system that I was familiar with so like",
    "start": "1299179",
    "end": "1300830"
  },
  {
    "text": "from Ubuntu or from whatever I wanted to",
    "start": "1300830",
    "end": "1304460"
  },
  {
    "text": "use but it can be a lot better than that",
    "start": "1304460",
    "end": "1306350"
  },
  {
    "text": "you can use language-specific docker",
    "start": "1306350",
    "end": "1308420"
  },
  {
    "text": "files so like from python or you could",
    "start": "1308420",
    "end": "1310790"
  },
  {
    "text": "use a more minimal one like from alpine",
    "start": "1310790",
    "end": "1312860"
  },
  {
    "text": "you can use that use something that's",
    "start": "1312860",
    "end": "1316340"
  },
  {
    "text": "better for your actual use case clean up",
    "start": "1316340",
    "end": "1318530"
  },
  {
    "text": "after yourself those really nice order",
    "start": "1318530",
    "end": "1320960"
  },
  {
    "text": "docker files where you separated all",
    "start": "1320960",
    "end": "1322700"
  },
  {
    "text": "over run statements into different lines",
    "start": "1322700",
    "end": "1325179"
  },
  {
    "text": "you can change that too right so you can",
    "start": "1325179",
    "end": "1328520"
  },
  {
    "text": "you can change how you're doing things",
    "start": "1328520",
    "end": "1330020"
  },
  {
    "text": "you can organize it maybe a little bit",
    "start": "1330020",
    "end": "1331580"
  },
  {
    "text": "less",
    "start": "1331580",
    "end": "1331990"
  },
  {
    "text": "good but save yourself some space look",
    "start": "1331990",
    "end": "1334450"
  },
  {
    "text": "at how often your connection draining is",
    "start": "1334450",
    "end": "1336640"
  },
  {
    "text": "happening how often your health checks",
    "start": "1336640",
    "end": "1338050"
  },
  {
    "text": "are happening but you can speed things",
    "start": "1338050",
    "end": "1339820"
  },
  {
    "text": "up and you can get a little bit more out",
    "start": "1339820",
    "end": "1341410"
  },
  {
    "text": "of your infrastructure but just take a",
    "start": "1341410",
    "end": "1344230"
  },
  {
    "text": "look look through these darker files and",
    "start": "1344230",
    "end": "1347080"
  },
  {
    "text": "I think everyone can maybe find a little",
    "start": "1347080",
    "end": "1348670"
  },
  {
    "text": "bit that they can improve on so we're",
    "start": "1348670",
    "end": "1351250"
  },
  {
    "text": "not gonna take questions out loud at",
    "start": "1351250",
    "end": "1352809"
  },
  {
    "text": "this one because there's no mics but we",
    "start": "1352809",
    "end": "1354790"
  },
  {
    "text": "have time for 10 minutes of questions",
    "start": "1354790",
    "end": "1356500"
  },
  {
    "text": "right down here like I usually do so if",
    "start": "1356500",
    "end": "1358900"
  },
  {
    "text": "you have a question I'll be standing",
    "start": "1358900",
    "end": "1361000"
  },
  {
    "text": "right there and we can we can chat for a",
    "start": "1361000",
    "end": "1363460"
  },
  {
    "text": "couple minutes so if not thank you and",
    "start": "1363460",
    "end": "1365470"
  },
  {
    "text": "there will be more sessions all",
    "start": "1365470",
    "end": "1367179"
  },
  {
    "text": "afternoon for the London summit thanks",
    "start": "1367179",
    "end": "1369309"
  },
  {
    "text": "everyone",
    "start": "1369309",
    "end": "1370200"
  },
  {
    "text": "[Applause]",
    "start": "1370200",
    "end": "1374758"
  }
]