[
  {
    "text": "hello hi everybody my name is Stefan I'm",
    "start": "30",
    "end": "5250"
  },
  {
    "text": "a software engineer I work for we works",
    "start": "5250",
    "end": "7770"
  },
  {
    "text": "and I'm very excited today to talk to",
    "start": "7770",
    "end": "13530"
  },
  {
    "text": "you about flagger is a project that",
    "start": "13530",
    "end": "15299"
  },
  {
    "text": "we've started last year it's an",
    "start": "15299",
    "end": "18210"
  },
  {
    "text": "open-source kubernetes operator and one",
    "start": "18210",
    "end": "23820"
  },
  {
    "text": "of the major goals that we have with",
    "start": "23820",
    "end": "25350"
  },
  {
    "text": "this project is to make continuous",
    "start": "25350",
    "end": "30599"
  },
  {
    "text": "deployment and the next version of",
    "start": "30599",
    "end": "33270"
  },
  {
    "text": "continuous deployment progressive",
    "start": "33270",
    "end": "34530"
  },
  {
    "text": "delivery easier and you know bulletproof",
    "start": "34530",
    "end": "40140"
  },
  {
    "text": "on kubernetes without running external",
    "start": "40140",
    "end": "44480"
  },
  {
    "text": "tools like an external Jenkins server or",
    "start": "44480",
    "end": "48300"
  },
  {
    "text": "an external you name it",
    "start": "48300",
    "end": "51210"
  },
  {
    "text": "your CI tooling right our idea is to",
    "start": "51210",
    "end": "55410"
  },
  {
    "text": "break the ICD into and do the continuous",
    "start": "55410",
    "end": "58649"
  },
  {
    "text": "deployment part from inside your",
    "start": "58649",
    "end": "60629"
  },
  {
    "text": "kubernetes cluster and not from outside",
    "start": "60629",
    "end": "64550"
  },
  {
    "text": "so maybe heard about progressive",
    "start": "65360",
    "end": "69180"
  },
  {
    "text": "delivery progressive deliver it's a it's",
    "start": "69180",
    "end": "72210"
  },
  {
    "text": "an umbrella term for canary deployments",
    "start": "72210",
    "end": "75600"
  },
  {
    "text": "a be testing Bluegreen deployments and",
    "start": "75600",
    "end": "79140"
  },
  {
    "text": "so many other ways of putting a new",
    "start": "79140",
    "end": "84240"
  },
  {
    "text": "version in production with a minimum",
    "start": "84240",
    "end": "86909"
  },
  {
    "text": "impact to your users even if let's say",
    "start": "86909",
    "end": "90689"
  },
  {
    "text": "you have over time we we learn to have",
    "start": "90689",
    "end": "94950"
  },
  {
    "text": "all these kind of gates before we ship",
    "start": "94950",
    "end": "98130"
  },
  {
    "text": "something to production we have unit",
    "start": "98130",
    "end": "100320"
  },
  {
    "text": "testing that are running in your CI we",
    "start": "100320",
    "end": "103320"
  },
  {
    "text": "have QA teams integration testing and so",
    "start": "103320",
    "end": "106229"
  },
  {
    "text": "on",
    "start": "106229",
    "end": "106610"
  },
  {
    "text": "even with all these gates you still end",
    "start": "106610",
    "end": "109590"
  },
  {
    "text": "up at some point with the failed",
    "start": "109590",
    "end": "112140"
  },
  {
    "text": "production release some bug will escape",
    "start": "112140",
    "end": "114780"
  },
  {
    "text": "and it will impact all your users if you",
    "start": "114780",
    "end": "118649"
  },
  {
    "text": "are just doing let's say a normal",
    "start": "118649",
    "end": "120780"
  },
  {
    "text": "kubernetes deployment now if you use a",
    "start": "120780",
    "end": "126869"
  },
  {
    "text": "service match if you adopt a service",
    "start": "126869",
    "end": "129209"
  },
  {
    "text": "match like Carnegie steel link Rd",
    "start": "129209",
    "end": "132260"
  },
  {
    "text": "maybe others out there a service and",
    "start": "132260",
    "end": "135689"
  },
  {
    "text": "edge technology what brings is it gives",
    "start": "135689",
    "end": "138450"
  },
  {
    "text": "you a fine grain control or over the",
    "start": "138450",
    "end": "141450"
  },
  {
    "text": "lead seven traffic right so you can say",
    "start": "141450",
    "end": "144379"
  },
  {
    "text": "even if I'm having a single back-end",
    "start": "144379",
    "end": "147180"
  },
  {
    "text": "like let's say two backends one is v1 of",
    "start": "147180",
    "end": "150989"
  },
  {
    "text": "your application the other one is v2 you",
    "start": "150989",
    "end": "153450"
  },
  {
    "text": "can say I want to route 1 percent of the",
    "start": "153450",
    "end": "157920"
  },
  {
    "text": "traffic to a version and 99 percent of",
    "start": "157920",
    "end": "160409"
  },
  {
    "text": "traffic to the other version right this",
    "start": "160409",
    "end": "162810"
  },
  {
    "text": "is one of the advantages of using us at",
    "start": "162810",
    "end": "165269"
  },
  {
    "text": "least mesh a second advantage is for all",
    "start": "165269",
    "end": "169650"
  },
  {
    "text": "all the layer 7 traffic you have",
    "start": "169650",
    "end": "171959"
  },
  {
    "text": "built-in monitoring so for example you",
    "start": "171959",
    "end": "175349"
  },
  {
    "text": "know if your application is returning",
    "start": "175349",
    "end": "177599"
  },
  {
    "text": "500 errors you know what kind of latency",
    "start": "177599",
    "end": "181079"
  },
  {
    "text": "you have between your micro services and",
    "start": "181079",
    "end": "183000"
  },
  {
    "text": "so on",
    "start": "183000",
    "end": "183739"
  },
  {
    "text": "now flagger uses this kind of",
    "start": "183739",
    "end": "187739"
  },
  {
    "text": "information from the service mesh here",
    "start": "187739",
    "end": "193889"
  },
  {
    "text": "for example we have an average",
    "start": "193889",
    "end": "197190"
  },
  {
    "text": "controller and a machine jet that's",
    "start": "197190",
    "end": "199650"
  },
  {
    "text": "running on amazonica so these are the AB",
    "start": "199650",
    "end": "202709"
  },
  {
    "text": "mesh parts that you have to deploy on",
    "start": "202709",
    "end": "206220"
  },
  {
    "text": "top of you cast get a mesh running you",
    "start": "206220",
    "end": "210810"
  },
  {
    "text": "can also deploy deploy primitives",
    "start": "210810",
    "end": "212729"
  },
  {
    "text": "Flagler comes with a Prometheus atom so",
    "start": "212729",
    "end": "214859"
  },
  {
    "text": "when install flagger with the current",
    "start": "214859",
    "end": "216930"
  },
  {
    "text": "chart for example we can say Prometheus",
    "start": "216930",
    "end": "219510"
  },
  {
    "text": "installed true and you get Prometheus",
    "start": "219510",
    "end": "222530"
  },
  {
    "text": "configured to pull matrix out of the up",
    "start": "222530",
    "end": "226169"
  },
  {
    "text": "mesh side cards which is an my container",
    "start": "226169",
    "end": "229439"
  },
  {
    "text": "and on top of it you have your",
    "start": "229439",
    "end": "233280"
  },
  {
    "text": "application and here your application is",
    "start": "233280",
    "end": "235349"
  },
  {
    "text": "split into the primary and I'll refer to",
    "start": "235349",
    "end": "238019"
  },
  {
    "text": "that throughout the talk the primary is",
    "start": "238019",
    "end": "242009"
  },
  {
    "text": "let's say v1 of your application the",
    "start": "242009",
    "end": "245189"
  },
  {
    "text": "actual state of your application this is",
    "start": "245189",
    "end": "247319"
  },
  {
    "text": "what's running in production and you",
    "start": "247319",
    "end": "249000"
  },
  {
    "text": "have v2 there's the cannery that's the",
    "start": "249000",
    "end": "252209"
  },
  {
    "text": "desired state so instead of saying okay",
    "start": "252209",
    "end": "255599"
  },
  {
    "text": "I'm running v1 I'm deploying v2 over",
    "start": "255599",
    "end": "258479"
  },
  {
    "text": "that with progressive delivery and if",
    "start": "258479",
    "end": "262800"
  },
  {
    "text": "you if you use Flagler you say I",
    "start": "262800",
    "end": "265290"
  },
  {
    "text": "have you won in production I want to",
    "start": "265290",
    "end": "267360"
  },
  {
    "text": "deploy v2 but you don't actually deploy",
    "start": "267360",
    "end": "270300"
  },
  {
    "text": "it you just say you intend to deploy it",
    "start": "270300",
    "end": "273330"
  },
  {
    "text": "and flagger will do the actual",
    "start": "273330",
    "end": "274830"
  },
  {
    "text": "deployment by looking at metrics by",
    "start": "274830",
    "end": "277530"
  },
  {
    "text": "talking to add mesh and decide if the",
    "start": "277530",
    "end": "281850"
  },
  {
    "text": "new version the cannery fits your SLA",
    "start": "281850",
    "end": "285570"
  },
  {
    "text": "for example you can say I want the",
    "start": "285570",
    "end": "289170"
  },
  {
    "text": "version Toma application to be promoted",
    "start": "289170",
    "end": "291960"
  },
  {
    "text": "in production only if less than 1% of",
    "start": "291960",
    "end": "296400"
  },
  {
    "text": "the total requests are please result in",
    "start": "296400",
    "end": "300930"
  },
  {
    "text": "500 errors or if the average request",
    "start": "300930",
    "end": "305790"
  },
  {
    "text": "duration is above one second",
    "start": "305790",
    "end": "307980"
  },
  {
    "text": "then is no good to break my isolate",
    "start": "307980",
    "end": "310680"
  },
  {
    "text": "don't want to promote that kind of",
    "start": "310680",
    "end": "312300"
  },
  {
    "text": "workload in production so these are just",
    "start": "312300",
    "end": "315180"
  },
  {
    "text": "two examples of what how flagger can",
    "start": "315180",
    "end": "318750"
  },
  {
    "text": "help you deliver better in a production",
    "start": "318750",
    "end": "322440"
  },
  {
    "text": "environment another interesting thing",
    "start": "322440",
    "end": "325800"
  },
  {
    "text": "here you see the flagger is on top of",
    "start": "325800",
    "end": "328380"
  },
  {
    "text": "the app mesh layer right so let's say",
    "start": "328380",
    "end": "331860"
  },
  {
    "text": "today you are running on Amazon eks and",
    "start": "331860",
    "end": "334920"
  },
  {
    "text": "you are using East your pilot and East",
    "start": "334920",
    "end": "337860"
  },
  {
    "text": "your telemetry and private use if you",
    "start": "337860",
    "end": "340830"
  },
  {
    "text": "are using flagger on top of this do what",
    "start": "340830",
    "end": "343470"
  },
  {
    "text": "you can do is you can tell flagger to",
    "start": "343470",
    "end": "346890"
  },
  {
    "text": "bootstrap the primer and I can redeploy",
    "start": "346890",
    "end": "348660"
  },
  {
    "text": "once now let's say you want to migrate",
    "start": "348660",
    "end": "350760"
  },
  {
    "text": "from East eo2 up mash right if you are",
    "start": "350760",
    "end": "354120"
  },
  {
    "text": "using flagger you don't have to change",
    "start": "354120",
    "end": "355590"
  },
  {
    "text": "anything because the Canary custom",
    "start": "355590",
    "end": "357600"
  },
  {
    "text": "resource the way flagger extends",
    "start": "357600",
    "end": "360560"
  },
  {
    "text": "kubernetes looks the same no matter the",
    "start": "360560",
    "end": "364440"
  },
  {
    "text": "underlying technology and flagler works",
    "start": "364440",
    "end": "366930"
  },
  {
    "text": "with except east your works with nginx",
    "start": "366930",
    "end": "369840"
  },
  {
    "text": "with glue soon as link ardian others so",
    "start": "369840",
    "end": "372930"
  },
  {
    "text": "our goal here is to create these custom",
    "start": "372930",
    "end": "375780"
  },
  {
    "text": "resources it extends let's say you have",
    "start": "375780",
    "end": "379050"
  },
  {
    "text": "app deployment that comes with",
    "start": "379050",
    "end": "382050"
  },
  {
    "text": "kubernetes is built in this kind of",
    "start": "382050",
    "end": "384060"
  },
  {
    "text": "resource and we add the cannery resource",
    "start": "384060",
    "end": "387630"
  },
  {
    "text": "which abstracts away all these advanced",
    "start": "387630",
    "end": "392070"
  },
  {
    "text": "deployment pattern",
    "start": "392070",
    "end": "394910"
  },
  {
    "text": "when we set up to create flagger we set",
    "start": "398750",
    "end": "401970"
  },
  {
    "text": "up some goals so one goal will be give",
    "start": "401970",
    "end": "405150"
  },
  {
    "text": "developer confidence in automating the",
    "start": "405150",
    "end": "407430"
  },
  {
    "text": "production releases don't be afraid to",
    "start": "407430",
    "end": "409440"
  },
  {
    "text": "ship often in production make the",
    "start": "409440",
    "end": "412800"
  },
  {
    "text": "deployment process observable and this",
    "start": "412800",
    "end": "415380"
  },
  {
    "text": "is part of what a is doing for",
    "start": "415380",
    "end": "419460"
  },
  {
    "text": "example for the real-time feedback with",
    "start": "419460",
    "end": "421260"
  },
  {
    "text": "prophetess and Ramona but on top of that",
    "start": "421260",
    "end": "424520"
  },
  {
    "text": "flagger adds other things so it will",
    "start": "424520",
    "end": "427290"
  },
  {
    "text": "send others to to slack for example and",
    "start": "427290",
    "end": "430170"
  },
  {
    "text": "it also emits kubernetes events for",
    "start": "430170",
    "end": "432900"
  },
  {
    "text": "everything that changes in your system",
    "start": "432900",
    "end": "434790"
  },
  {
    "text": "so I have an old logging data or",
    "start": "434790",
    "end": "436890"
  },
  {
    "text": "something like that you can actually",
    "start": "436890",
    "end": "438090"
  },
  {
    "text": "tell what's going on during the cannery",
    "start": "438090",
    "end": "440610"
  },
  {
    "text": "deployment another goal is to write as",
    "start": "440610",
    "end": "444840"
  },
  {
    "text": "little as possible no one wants to write",
    "start": "444840",
    "end": "448550"
  },
  {
    "text": "hundreds of lines of llamó just to",
    "start": "448550",
    "end": "451290"
  },
  {
    "text": "bootstrap a single application to",
    "start": "451290",
    "end": "453810"
  },
  {
    "text": "achieve this canary deployment stuff and",
    "start": "453810",
    "end": "456620"
  },
  {
    "text": "the last goal is to manage the whole",
    "start": "456620",
    "end": "459750"
  },
  {
    "text": "process from get we art we works we came",
    "start": "459750",
    "end": "462180"
  },
  {
    "text": "up with this concept of get ops where",
    "start": "462180",
    "end": "464250"
  },
  {
    "text": "you define the the cluster state in a",
    "start": "464250",
    "end": "468300"
  },
  {
    "text": "git repo and we have this operator",
    "start": "468300",
    "end": "470190"
  },
  {
    "text": "called flux and flagler works with flux",
    "start": "470190",
    "end": "472800"
  },
  {
    "text": "together and this operator flux will",
    "start": "472800",
    "end": "475260"
  },
  {
    "text": "synchronize what you have in a git repo",
    "start": "475260",
    "end": "477600"
  },
  {
    "text": "with with what's running inside your",
    "start": "477600",
    "end": "480660"
  },
  {
    "text": "kubernetes cluster so think about it the",
    "start": "480660",
    "end": "483360"
  },
  {
    "text": "the Q controller it synchronizes what's",
    "start": "483360",
    "end": "485970"
  },
  {
    "text": "inside etcd with what's actually running",
    "start": "485970",
    "end": "489480"
  },
  {
    "text": "we we take that further on and we say we",
    "start": "489480",
    "end": "493470"
  },
  {
    "text": "synchronize what's in get with the TCD",
    "start": "493470",
    "end": "495840"
  },
  {
    "text": "and afterwards that gets synchronized on",
    "start": "495840",
    "end": "498270"
  },
  {
    "text": "your cluster how can we have control",
    "start": "498270",
    "end": "502980"
  },
  {
    "text": "over the blast radius is is pretty",
    "start": "502980",
    "end": "505590"
  },
  {
    "text": "simple",
    "start": "505590",
    "end": "507000"
  },
  {
    "text": "we have v1 running you say a1 run v2",
    "start": "507000",
    "end": "510810"
  },
  {
    "text": "okay flagger will start slowly to route",
    "start": "510810",
    "end": "513990"
  },
  {
    "text": "traffic to it while measuring metrics",
    "start": "513990",
    "end": "516120"
  },
  {
    "text": "and decide if v2 is okay if we 2 passes",
    "start": "516120",
    "end": "520080"
  },
  {
    "text": "all the checks it will replace the old",
    "start": "520080",
    "end": "523020"
  },
  {
    "text": "deployment and the initial desire state",
    "start": "523020",
    "end": "528090"
  },
  {
    "text": "v2 its scale to zero so",
    "start": "528090",
    "end": "529950"
  },
  {
    "text": "you start with two pods you end up with",
    "start": "529950",
    "end": "532200"
  },
  {
    "text": "two pods index is an okay how can you",
    "start": "532200",
    "end": "538950"
  },
  {
    "text": "have control over the validation process",
    "start": "538950",
    "end": "543470"
  },
  {
    "text": "we came up with a couple of key",
    "start": "543590",
    "end": "546330"
  },
  {
    "text": "performance indicators that are built-in",
    "start": "546330",
    "end": "548400"
  },
  {
    "text": "inside regard one is the deployment",
    "start": "548400",
    "end": "550740"
  },
  {
    "text": "health status we talked about kubernetes",
    "start": "550740",
    "end": "553980"
  },
  {
    "text": "api and we decide we determine if your",
    "start": "553980",
    "end": "557400"
  },
  {
    "text": "new deployment is healthy or not",
    "start": "557400",
    "end": "559140"
  },
  {
    "text": "it's checks like normal things are your",
    "start": "559140",
    "end": "561840"
  },
  {
    "text": "containers in a crash low readiness",
    "start": "561840",
    "end": "565230"
  },
  {
    "text": "Livni's problems and so on alright so we",
    "start": "565230",
    "end": "567600"
  },
  {
    "text": "do this kind of checks before we're out",
    "start": "567600",
    "end": "569910"
  },
  {
    "text": "any kind of traffic to the new version",
    "start": "569910",
    "end": "574279"
  },
  {
    "text": "another key performance indicator is the",
    "start": "574310",
    "end": "576930"
  },
  {
    "text": "request success rate percentage that",
    "start": "576930",
    "end": "579480"
  },
  {
    "text": "lets you say if less than 99% of my",
    "start": "579480",
    "end": "583440"
  },
  {
    "text": "whole requests are returning errors then",
    "start": "583440",
    "end": "586560"
  },
  {
    "text": "this is a fail deployment or you can",
    "start": "586560",
    "end": "590100"
  },
  {
    "text": "impose a threshold on the request",
    "start": "590100",
    "end": "592560"
  },
  {
    "text": "latency average but these two metrics",
    "start": "592560",
    "end": "596550"
  },
  {
    "text": "that comes with most services out there",
    "start": "596550",
    "end": "600000"
  },
  {
    "text": "are not enough for most workloads",
    "start": "600000",
    "end": "602550"
  },
  {
    "text": "that's why flag are led to extend the",
    "start": "602550",
    "end": "606980"
  },
  {
    "text": "verification mechanism with custom",
    "start": "606980",
    "end": "609420"
  },
  {
    "text": "metric checks let's say your application",
    "start": "609420",
    "end": "611330"
  },
  {
    "text": "is instrumented with primitives and",
    "start": "611330",
    "end": "613950"
  },
  {
    "text": "exposes some metrics for example I don't",
    "start": "613950",
    "end": "616890"
  },
  {
    "text": "know half-cut queue length if the queue",
    "start": "616890",
    "end": "620280"
  },
  {
    "text": "is too big that means your application",
    "start": "620280",
    "end": "622520"
  },
  {
    "text": "cannot keep up with with the with the",
    "start": "622520",
    "end": "625860"
  },
  {
    "text": "event stream it has a bug roll it back",
    "start": "625860",
    "end": "628530"
  },
  {
    "text": "right or the number of transactions in",
    "start": "628530",
    "end": "630930"
  },
  {
    "text": "your database if the transactions add up",
    "start": "630930",
    "end": "633120"
  },
  {
    "text": "and they don't finish in time then roll",
    "start": "633120",
    "end": "635910"
  },
  {
    "text": "it back and so on",
    "start": "635910",
    "end": "636900"
  },
  {
    "text": "imagine that we couldn't put in flaggers",
    "start": "636900",
    "end": "639930"
  },
  {
    "text": "code all these checks right so if your",
    "start": "639930",
    "end": "642840"
  },
  {
    "text": "application or your infrastructure is",
    "start": "642840",
    "end": "644550"
  },
  {
    "text": "exporting metrics you can use that",
    "start": "644550",
    "end": "646590"
  },
  {
    "text": "matrix to validate your your canary",
    "start": "646590",
    "end": "649500"
  },
  {
    "text": "deployments and the last the last thing",
    "start": "649500",
    "end": "653370"
  },
  {
    "text": "here flagger also have web hooks what",
    "start": "653370",
    "end": "656850"
  },
  {
    "text": "that means is you can tell flagger go to",
    "start": "656850",
    "end": "659700"
  },
  {
    "text": "this external service call it",
    "start": "659700",
    "end": "662390"
  },
  {
    "text": "if it returns 200 then move forward with",
    "start": "662390",
    "end": "666230"
  },
  {
    "text": "the with the validation and one webhook",
    "start": "666230",
    "end": "669860"
  },
  {
    "text": "that i i've created as an example is a",
    "start": "669860",
    "end": "672320"
  },
  {
    "text": "low testing tool so when you start the",
    "start": "672320",
    "end": "675200"
  },
  {
    "text": "cannery let's say you don't have any you",
    "start": "675200",
    "end": "677960"
  },
  {
    "text": "don't have traffic in your production",
    "start": "677960",
    "end": "679400"
  },
  {
    "text": "systems right let's say you deploy at an",
    "start": "679400",
    "end": "681980"
  },
  {
    "text": "hour that you have no traffic so there",
    "start": "681980",
    "end": "684230"
  },
  {
    "text": "are no there are no data for what",
    "start": "684230",
    "end": "687980"
  },
  {
    "text": "so flagger cannot take any decisions",
    "start": "687980",
    "end": "690170"
  },
  {
    "text": "here there are no there are there is no",
    "start": "690170",
    "end": "692060"
  },
  {
    "text": "data right so you can start a load test",
    "start": "692060",
    "end": "694760"
  },
  {
    "text": "before the cannery starts to throw all",
    "start": "694760",
    "end": "697730"
  },
  {
    "text": "out so you actually have data so you can",
    "start": "697730",
    "end": "700220"
  },
  {
    "text": "take so flagger can take decisions",
    "start": "700220",
    "end": "703100"
  },
  {
    "text": "others have hook up integration testing",
    "start": "703100",
    "end": "706250"
  },
  {
    "text": "tools using web hooks and there are",
    "start": "706250",
    "end": "708290"
  },
  {
    "text": "other examples in flagger documentation",
    "start": "708290",
    "end": "710840"
  },
  {
    "text": "how you can extend the validation with",
    "start": "710840",
    "end": "713720"
  },
  {
    "text": "web hooks how we make the deployment",
    "start": "713720",
    "end": "718250"
  },
  {
    "text": "process of server we have a graph on our",
    "start": "718250",
    "end": "720890"
  },
  {
    "text": "dashboard we have kubernetes events that",
    "start": "720890",
    "end": "724160"
  },
  {
    "text": "you can subscribe to have slack",
    "start": "724160",
    "end": "728390"
  },
  {
    "text": "notifications every time a canary stars",
    "start": "728390",
    "end": "731390"
  },
  {
    "text": "flag will post on slack okay this is the",
    "start": "731390",
    "end": "733610"
  },
  {
    "text": "this is how the canary should look like",
    "start": "733610",
    "end": "736190"
  },
  {
    "text": "this is what I'm doing and when it",
    "start": "736190",
    "end": "739670"
  },
  {
    "text": "finish it it publishes if it if it",
    "start": "739670",
    "end": "742460"
  },
  {
    "text": "successful or not and if it's not",
    "start": "742460",
    "end": "743900"
  },
  {
    "text": "successful it will tell you why it felt",
    "start": "743900",
    "end": "746330"
  },
  {
    "text": "maybe it's a web hook that failed maybe",
    "start": "746330",
    "end": "748460"
  },
  {
    "text": "it's a progress deadline exceeded I",
    "start": "748460",
    "end": "750110"
  },
  {
    "text": "don't know ports are crashing and so on",
    "start": "750110",
    "end": "754120"
  },
  {
    "text": "the last thing I want to show is about",
    "start": "754390",
    "end": "757820"
  },
  {
    "text": "Yama right so let's say you want to set",
    "start": "757820",
    "end": "760880"
  },
  {
    "text": "up today a manual cannery setup with app",
    "start": "760880",
    "end": "764540"
  },
  {
    "text": "- so you have to create all these",
    "start": "764540",
    "end": "766520"
  },
  {
    "text": "objects you have to create kubernetes",
    "start": "766520",
    "end": "768440"
  },
  {
    "text": "objects for the cannery in the primary",
    "start": "768440",
    "end": "770710"
  },
  {
    "text": "maybe you want on horizontal pod",
    "start": "770710",
    "end": "772880"
  },
  {
    "text": "autoscaler so your application don't",
    "start": "772880",
    "end": "774860"
  },
  {
    "text": "crash under load afterwards you have to",
    "start": "774860",
    "end": "778070"
  },
  {
    "text": "create all the app mesh objects via tall",
    "start": "778070",
    "end": "780440"
  },
  {
    "text": "nodes HTTP routes via routes video",
    "start": "780440",
    "end": "782960"
  },
  {
    "text": "services right so for a single app you",
    "start": "782960",
    "end": "787190"
  },
  {
    "text": "have to create all these things now",
    "start": "787190",
    "end": "789230"
  },
  {
    "text": "maybe you have secrets or config maps",
    "start": "789230",
    "end": "791330"
  },
  {
    "text": "you also have to duplicate all those",
    "start": "791330",
    "end": "793190"
  },
  {
    "text": "right so have a lot of y'all try",
    "start": "793190",
    "end": "796270"
  },
  {
    "text": "hundreds of lines of Yahoo will flagger",
    "start": "796270",
    "end": "800520"
  },
  {
    "text": "what you have to do is create your",
    "start": "800520",
    "end": "803050"
  },
  {
    "text": "deployment your horizontal protocol",
    "start": "803050",
    "end": "805240"
  },
  {
    "text": "scalar and this canary object based on",
    "start": "805240",
    "end": "808899"
  },
  {
    "text": "this connect object flag will create",
    "start": "808899",
    "end": "810640"
  },
  {
    "text": "everything else that's why you can",
    "start": "810640",
    "end": "814240"
  },
  {
    "text": "migrate from one service mesh to another",
    "start": "814240",
    "end": "816010"
  },
  {
    "text": "because you don't interact you don't",
    "start": "816010",
    "end": "817810"
  },
  {
    "text": "create all these service mesh objects",
    "start": "817810",
    "end": "821370"
  },
  {
    "text": "another thing that flagger does maybe",
    "start": "821370",
    "end": "823660"
  },
  {
    "text": "you know in kubernetes config map or",
    "start": "823660",
    "end": "826630"
  },
  {
    "text": "secret is decoupled to the deployment so",
    "start": "826630",
    "end": "829209"
  },
  {
    "text": "you can create a deployment for your",
    "start": "829209",
    "end": "831700"
  },
  {
    "text": "application and afterwards you deploy a",
    "start": "831700",
    "end": "834760"
  },
  {
    "text": "config change then your deployment will",
    "start": "834760",
    "end": "838300"
  },
  {
    "text": "not reload your pods will not be",
    "start": "838300",
    "end": "840040"
  },
  {
    "text": "restarted because kubernetes doesn't",
    "start": "840040",
    "end": "842470"
  },
  {
    "text": "have this dependency tree you have to",
    "start": "842470",
    "end": "844930"
  },
  {
    "text": "use help or other tools to roll roll the",
    "start": "844930",
    "end": "851620"
  },
  {
    "text": "pods we start the post to load the new",
    "start": "851620",
    "end": "853510"
  },
  {
    "text": "configuration now when you when you tell",
    "start": "853510",
    "end": "856690"
  },
  {
    "text": "flagger which deployment you want to do",
    "start": "856690",
    "end": "859959"
  },
  {
    "text": "a general release for flagger will build",
    "start": "859959",
    "end": "862089"
  },
  {
    "text": "the dependency tree of data plan so if",
    "start": "862089",
    "end": "864250"
  },
  {
    "text": "you have config maps secrets all things",
    "start": "864250",
    "end": "867220"
  },
  {
    "text": "that you can reference in volumes",
    "start": "867220",
    "end": "871470"
  },
  {
    "text": "flagger will will will look at those and",
    "start": "871470",
    "end": "875290"
  },
  {
    "text": "when you change something you can run a",
    "start": "875290",
    "end": "877089"
  },
  {
    "text": "cannery analysis for them right it",
    "start": "877089",
    "end": "879970"
  },
  {
    "text": "doesn't matter if you change your total",
    "start": "879970",
    "end": "881950"
  },
  {
    "text": "image or config file it's still a change",
    "start": "881950",
    "end": "886060"
  },
  {
    "text": "you still need to go through all these",
    "start": "886060",
    "end": "887800"
  },
  {
    "text": "all these procedures do I have time for",
    "start": "887800",
    "end": "893950"
  },
  {
    "text": "the demo right because the clock it's",
    "start": "893950",
    "end": "897430"
  },
  {
    "text": "you know ok so gonna show you a demo I",
    "start": "897430",
    "end": "905680"
  },
  {
    "text": "have a couple of files you know in",
    "start": "905680",
    "end": "909520"
  },
  {
    "text": "github in a cluster repo I have reflux",
    "start": "909520",
    "end": "912490"
  },
  {
    "text": "installed in my cluster and what it does",
    "start": "912490",
    "end": "914589"
  },
  {
    "text": "it synchronizes all these files inside",
    "start": "914589",
    "end": "917500"
  },
  {
    "text": "kubernetes and I have flagger also",
    "start": "917500",
    "end": "920770"
  },
  {
    "text": "installed on the cluster with average",
    "start": "920770",
    "end": "924480"
  },
  {
    "text": "so I have this world directory I have",
    "start": "936940",
    "end": "939580"
  },
  {
    "text": "these files here make it bigger and",
    "start": "939580",
    "end": "943500"
  },
  {
    "text": "let's look at the how Kennedy definition",
    "start": "943500",
    "end": "946270"
  },
  {
    "text": "looks so it has 50 lines with comments",
    "start": "946270",
    "end": "950560"
  },
  {
    "text": "and everything I'll not get through all",
    "start": "950560",
    "end": "954610"
  },
  {
    "text": "of it what's important here for example",
    "start": "954610",
    "end": "956950"
  },
  {
    "text": "is it has a specification on the service",
    "start": "956950",
    "end": "960280"
  },
  {
    "text": "and you tell it what port your",
    "start": "960280",
    "end": "962680"
  },
  {
    "text": "application is listening on based on",
    "start": "962680",
    "end": "964780"
  },
  {
    "text": "this information the port information",
    "start": "964780",
    "end": "966280"
  },
  {
    "text": "flagger spins up all the app mesh",
    "start": "966280",
    "end": "969300"
  },
  {
    "text": "components that you need to expose that",
    "start": "969300",
    "end": "973480"
  },
  {
    "text": "application not only on the kubernetes",
    "start": "973480",
    "end": "975820"
  },
  {
    "text": "cluster but on the service mesh level",
    "start": "975820",
    "end": "980250"
  },
  {
    "text": "and I have my deployment file here and",
    "start": "983730",
    "end": "986910"
  },
  {
    "text": "all my cluster right now I'm running the",
    "start": "986910",
    "end": "990220"
  },
  {
    "text": "app is version 1.4 and let's make a",
    "start": "990220",
    "end": "993370"
  },
  {
    "text": "change going to get I'm let's say I've",
    "start": "993370",
    "end": "1001080"
  },
  {
    "text": "built this image I've put this I've",
    "start": "1001080",
    "end": "1003390"
  },
  {
    "text": "pushed this modification and when I",
    "start": "1003390",
    "end": "1007110"
  },
  {
    "text": "commit it have a graph on a dashboard",
    "start": "1007110",
    "end": "1013590"
  },
  {
    "text": "here this is the primary workload this",
    "start": "1013590",
    "end": "1015930"
  },
  {
    "text": "is the cannery there is no information",
    "start": "1015930",
    "end": "1017910"
  },
  {
    "text": "here whatsoever because the cannon is",
    "start": "1017910",
    "end": "1020760"
  },
  {
    "text": "scale to zero the production workload is",
    "start": "1020760",
    "end": "1023580"
  },
  {
    "text": "actually the primary one and if we look",
    "start": "1023580",
    "end": "1025829"
  },
  {
    "text": "at the kubernetes events we see that",
    "start": "1025829",
    "end": "1030449"
  },
  {
    "text": "flagger detected that a new version of",
    "start": "1030449",
    "end": "1033540"
  },
  {
    "text": "my workload which is called coding for",
    "start": "1033540",
    "end": "1036120"
  },
  {
    "text": "has been has been applied on a cluster",
    "start": "1036120",
    "end": "1039870"
  },
  {
    "text": "and what happens now it scales up that",
    "start": "1039870",
    "end": "1044459"
  },
  {
    "text": "cannery deployment now because I also",
    "start": "1044459",
    "end": "1047670"
  },
  {
    "text": "have a horizontal quad autoscaler Dory's",
    "start": "1047670",
    "end": "1049650"
  },
  {
    "text": "on top o Toto scaler will will bring",
    "start": "1049650",
    "end": "1052350"
  },
  {
    "text": "that deployment to port while it's doing",
    "start": "1052350",
    "end": "1055260"
  },
  {
    "text": "that Flagler doesn't do anything it",
    "start": "1055260",
    "end": "1057270"
  },
  {
    "text": "waits for the horizontal Piloto scaler",
    "start": "1057270",
    "end": "1059520"
  },
  {
    "text": "to do these jobs or flagger works very",
    "start": "1059520",
    "end": "1062550"
  },
  {
    "text": "nice horizontal Piloto scaler now we",
    "start": "1062550",
    "end": "1064980"
  },
  {
    "text": "have to pause ready",
    "start": "1064980",
    "end": "1066060"
  },
  {
    "text": "and what tracker does right now it",
    "start": "1066060",
    "end": "1067950"
  },
  {
    "text": "starts to spin traffic",
    "start": "1067950",
    "end": "1071000"
  },
  {
    "text": "get more traffic towards the towards the",
    "start": "1071000",
    "end": "1074130"
  },
  {
    "text": "Kennedy so it got 5% 10% 50% a it will",
    "start": "1074130",
    "end": "1078210"
  },
  {
    "text": "go like that until 50% now if we look at",
    "start": "1078210",
    "end": "1082710"
  },
  {
    "text": "the graph we see here for example here",
    "start": "1082710",
    "end": "1087180"
  },
  {
    "text": "at pause that now I'm having to pause",
    "start": "1087180",
    "end": "1090210"
  },
  {
    "text": "for the canary deployment and here right",
    "start": "1090210",
    "end": "1096750"
  },
  {
    "text": "from let's say 20 requests per second",
    "start": "1096750",
    "end": "1100410"
  },
  {
    "text": "only 20% goes to the cannery and it",
    "start": "1100410",
    "end": "1103650"
  },
  {
    "text": "keeps increasing it if I'm fast enough",
    "start": "1103650",
    "end": "1108150"
  },
  {
    "text": "now I'll generate some errors so what",
    "start": "1108150",
    "end": "1118080"
  },
  {
    "text": "I'm doing now I am generating 500 errors",
    "start": "1118080",
    "end": "1120570"
  },
  {
    "text": "for the for the canary diploma now let's",
    "start": "1120570",
    "end": "1123270"
  },
  {
    "text": "see what a tracker does if I am fast",
    "start": "1123270",
    "end": "1125970"
  },
  {
    "text": "enough so it detected that okay I have a",
    "start": "1125970",
    "end": "1130820"
  },
  {
    "text": "99% success rate threshold and what's",
    "start": "1130820",
    "end": "1134820"
  },
  {
    "text": "happening now the success rate is at 2%",
    "start": "1134820",
    "end": "1138080"
  },
  {
    "text": "what it does right now instead of keep",
    "start": "1138080",
    "end": "1140910"
  },
  {
    "text": "increasing the traffic towards the",
    "start": "1140910",
    "end": "1142890"
  },
  {
    "text": "cannery",
    "start": "1142890",
    "end": "1143910"
  },
  {
    "text": "it holds that it halted that operation",
    "start": "1143910",
    "end": "1147570"
  },
  {
    "text": "so it it doesn't give any more traffic",
    "start": "1147570",
    "end": "1149640"
  },
  {
    "text": "the canary it waits and you can control",
    "start": "1149640",
    "end": "1152820"
  },
  {
    "text": "how much it weighs it waits for the",
    "start": "1152820",
    "end": "1155250"
  },
  {
    "text": "success rate to be above the threshold",
    "start": "1155250",
    "end": "1158160"
  },
  {
    "text": "to go back to 100% now you can you can",
    "start": "1158160",
    "end": "1162990"
  },
  {
    "text": "tell flagger how much it weights and how",
    "start": "1162990",
    "end": "1165510"
  },
  {
    "text": "many failures will it tolerate for",
    "start": "1165510",
    "end": "1170220"
  },
  {
    "text": "example now it recovers it goes to 23%",
    "start": "1170220",
    "end": "1173070"
  },
  {
    "text": "and if it doesn't roll back okay so the",
    "start": "1173070",
    "end": "1177420"
  },
  {
    "text": "errors are gone because I've generated",
    "start": "1177420",
    "end": "1178890"
  },
  {
    "text": "the errors only for 30 seconds now it",
    "start": "1178890",
    "end": "1181680"
  },
  {
    "text": "has resumed the advant advantage and",
    "start": "1181680",
    "end": "1184050"
  },
  {
    "text": "when it reaches 50% it will roll the",
    "start": "1184050",
    "end": "1190580"
  },
  {
    "text": "canary deployment over the primary",
    "start": "1190580",
    "end": "1192990"
  },
  {
    "text": "deployments will do the production",
    "start": "1192990",
    "end": "1195030"
  },
  {
    "text": "promotion if you look at the browser we",
    "start": "1195030",
    "end": "1198600"
  },
  {
    "text": "see that I am switching between the two",
    "start": "1198600",
    "end": "1202290"
  },
  {
    "text": "versions",
    "start": "1202290",
    "end": "1203390"
  },
  {
    "text": "because now the Kenny's has 50% on the",
    "start": "1203390",
    "end": "1207049"
  },
  {
    "text": "primary 50% now it starts to do a deep",
    "start": "1207049",
    "end": "1216730"
  },
  {
    "text": "pot roll over so it rolls out all the",
    "start": "1216730",
    "end": "1220130"
  },
  {
    "text": "pods for the primary deployment with the",
    "start": "1220130",
    "end": "1222770"
  },
  {
    "text": "with the new version when it replaces it",
    "start": "1222770",
    "end": "1225320"
  },
  {
    "text": "all will be on 4.1 in our production",
    "start": "1225320",
    "end": "1231020"
  },
  {
    "text": "system so the promotion is complete and",
    "start": "1231020",
    "end": "1233950"
  },
  {
    "text": "the current deployment is scale to zero",
    "start": "1233950",
    "end": "1237730"
  },
  {
    "text": "so this is how how flagger works of",
    "start": "1237730",
    "end": "1243309"
  },
  {
    "text": "course you can modify all these timings",
    "start": "1243309",
    "end": "1247880"
  },
  {
    "text": "in a production system you'll not want",
    "start": "1247880",
    "end": "1250400"
  },
  {
    "text": "to do checks every 10 seconds you'll",
    "start": "1250400",
    "end": "1252620"
  },
  {
    "text": "want to wait at least one minute to get",
    "start": "1252620",
    "end": "1255049"
  },
  {
    "text": "enough data to harness all this data and",
    "start": "1255049",
    "end": "1257720"
  },
  {
    "text": "take good decisions for your production",
    "start": "1257720",
    "end": "1261200"
  },
  {
    "text": "clusters but all you have to do is go",
    "start": "1261200",
    "end": "1265760"
  },
  {
    "text": "into into the camera deployment and play",
    "start": "1265760",
    "end": "1270230"
  },
  {
    "text": "around with all these settings that you",
    "start": "1270230",
    "end": "1272720"
  },
  {
    "text": "can do right you can set up here an",
    "start": "1272720",
    "end": "1277220"
  },
  {
    "text": "interval of 1 minute you can set the",
    "start": "1277220",
    "end": "1280100"
  },
  {
    "text": "threshold I know to only one one error",
    "start": "1280100",
    "end": "1284330"
  },
  {
    "text": "so if the Kennedy fails one time goes",
    "start": "1284330",
    "end": "1287840"
  },
  {
    "text": "above the threshold then you can roll it",
    "start": "1287840",
    "end": "1290090"
  },
  {
    "text": "back and so on and here you have the",
    "start": "1290090",
    "end": "1293990"
  },
  {
    "text": "webhooks",
    "start": "1293990",
    "end": "1294530"
  },
  {
    "text": "and you can add the web hooks are there",
    "start": "1294530",
    "end": "1297410"
  },
  {
    "text": "are three type of web hooks pre roll out",
    "start": "1297410",
    "end": "1300260"
  },
  {
    "text": "during robot and after rollout so for",
    "start": "1300260",
    "end": "1302929"
  },
  {
    "text": "example before you spin any kind of",
    "start": "1302929",
    "end": "1305120"
  },
  {
    "text": "traffic you can run smoke tests during",
    "start": "1305120",
    "end": "1307700"
  },
  {
    "text": "the canary deployment you can run load",
    "start": "1307700",
    "end": "1310040"
  },
  {
    "text": "test and afterwards you can do all sorts",
    "start": "1310040",
    "end": "1313100"
  },
  {
    "text": "of stuff notifying other systems that",
    "start": "1313100",
    "end": "1315500"
  },
  {
    "text": "the new version is up and so on",
    "start": "1315500",
    "end": "1319030"
  },
  {
    "text": "so if you like Lego please go to the",
    "start": "1328270",
    "end": "1330980"
  },
  {
    "text": "github repo give it a star try it out",
    "start": "1330980",
    "end": "1334610"
  },
  {
    "text": "without mesh on the dog site you'll find",
    "start": "1334610",
    "end": "1338510"
  },
  {
    "text": "there are special documentation made for",
    "start": "1338510",
    "end": "1341000"
  },
  {
    "text": "eks and ab mesh there are a couple of",
    "start": "1341000",
    "end": "1345370"
  },
  {
    "text": "lines of code that you can license of",
    "start": "1345370",
    "end": "1348260"
  },
  {
    "text": "commands that you can run to spin up",
    "start": "1348260",
    "end": "1350540"
  },
  {
    "text": "everything with the case cutter you",
    "start": "1350540",
    "end": "1352550"
  },
  {
    "text": "create the cluster with the Amish",
    "start": "1352550",
    "end": "1354290"
  },
  {
    "text": "installer install all the up my stuff",
    "start": "1354290",
    "end": "1356480"
  },
  {
    "text": "and flagger has a ham chart that's it",
    "start": "1356480",
    "end": "1359690"
  },
  {
    "text": "thank you very much",
    "start": "1359690",
    "end": "1361350"
  },
  {
    "text": "[Applause]",
    "start": "1361350",
    "end": "1368820"
  }
]