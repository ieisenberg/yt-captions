[
  {
    "text": "[Music]",
    "start": "1190",
    "end": "4940"
  },
  {
    "text": "my name is Peter my guest today is smin",
    "start": "4940",
    "end": "7830"
  },
  {
    "text": "menace a senior software engineer with",
    "start": "7830",
    "end": "10230"
  },
  {
    "text": "fact plate it's good to have you here",
    "start": "10230",
    "end": "12240"
  },
  {
    "text": "thank you for having me today",
    "start": "12240",
    "end": "14099"
  },
  {
    "text": "alright min so before I talk about this",
    "start": "14099",
    "end": "16320"
  },
  {
    "text": "what do you guys do we have our",
    "start": "16320",
    "end": "18810"
  },
  {
    "text": "customers to lower their healthcare",
    "start": "18810",
    "end": "21000"
  },
  {
    "text": "costs by providing personalized health",
    "start": "21000",
    "end": "23699"
  },
  {
    "text": "and benefit solutions to their employees",
    "start": "23699",
    "end": "26460"
  },
  {
    "text": "and their families",
    "start": "26460",
    "end": "27689"
  },
  {
    "text": "condley we have about 1.5 million users",
    "start": "27689",
    "end": "31170"
  },
  {
    "text": "for different companies across all",
    "start": "31170",
    "end": "33030"
  },
  {
    "text": "industries",
    "start": "33030",
    "end": "33899"
  },
  {
    "text": "all right so quite a decent size I'm",
    "start": "33899",
    "end": "36300"
  },
  {
    "text": "here healthcare right so whenever I",
    "start": "36300",
    "end": "38070"
  },
  {
    "text": "speak with customers working in that",
    "start": "38070",
    "end": "39510"
  },
  {
    "text": "industry there's basically two things",
    "start": "39510",
    "end": "41190"
  },
  {
    "text": "that they focus on very much which is",
    "start": "41190",
    "end": "43170"
  },
  {
    "text": "security in data privacy right Oh before",
    "start": "43170",
    "end": "46890"
  },
  {
    "text": "we get into details here shell looking",
    "start": "46890",
    "end": "50309"
  },
  {
    "text": "at when toppling the things and also how",
    "start": "50309",
    "end": "53309"
  },
  {
    "text": "does security play into this there are",
    "start": "53309",
    "end": "55079"
  },
  {
    "text": "two challenges we trying to solve the",
    "start": "55079",
    "end": "57840"
  },
  {
    "text": "first one is security",
    "start": "57840",
    "end": "59160"
  },
  {
    "text": "we have to protect the pH ID data for",
    "start": "59160",
    "end": "61469"
  },
  {
    "text": "our clients so we have the point",
    "start": "61469",
    "end": "63449"
  },
  {
    "text": "multiple layers of security in our",
    "start": "63449",
    "end": "65939"
  },
  {
    "text": "infrastructure the API gateway is the",
    "start": "65939",
    "end": "69000"
  },
  {
    "text": "centralized place to help to protect our",
    "start": "69000",
    "end": "72210"
  },
  {
    "text": "API the second challenge we have is we",
    "start": "72210",
    "end": "76110"
  },
  {
    "text": "have a legacy API gateway which used XML",
    "start": "76110",
    "end": "79170"
  },
  {
    "text": "configuration to define API but now API",
    "start": "79170",
    "end": "82950"
  },
  {
    "text": "documentation using the open open API",
    "start": "82950",
    "end": "85650"
  },
  {
    "text": "standard who ously long as Swagger's at",
    "start": "85650",
    "end": "89400"
  },
  {
    "text": "the same time the eight opposite api",
    "start": "89400",
    "end": "91350"
  },
  {
    "text": "gateway used open api standard out of",
    "start": "91350",
    "end": "94110"
  },
  {
    "text": "the box and also we want to use lambda",
    "start": "94110",
    "end": "97290"
  },
  {
    "text": "function we want to support a lambda",
    "start": "97290",
    "end": "100140"
  },
  {
    "text": "function natively so we are switching",
    "start": "100140",
    "end": "102659"
  },
  {
    "text": "our gateway solution to Amazon all right",
    "start": "102659",
    "end": "105420"
  },
  {
    "text": "so simplifying things and moving into",
    "start": "105420",
    "end": "107460"
  },
  {
    "text": "service technology now let's look at",
    "start": "107460",
    "end": "112409"
  },
  {
    "text": "this so if you look at this part here",
    "start": "112409",
    "end": "114270"
  },
  {
    "text": "what's going on so we have two types of",
    "start": "114270",
    "end": "117049"
  },
  {
    "text": "clients the web application and mobile",
    "start": "117049",
    "end": "120270"
  },
  {
    "text": "client we decided put call front in",
    "start": "120270",
    "end": "123450"
  },
  {
    "text": "front in front of the Gateway because we",
    "start": "123450",
    "end": "126689"
  },
  {
    "text": "can leverage the lambda and edge",
    "start": "126689",
    "end": "129039"
  },
  {
    "text": "to handle the traffic shifting between",
    "start": "129039",
    "end": "131920"
  },
  {
    "text": "the legacy gateway and and the Amazon",
    "start": "131920",
    "end": "135400"
  },
  {
    "text": "API gateway mm-hmm all right so you're",
    "start": "135400",
    "end": "138159"
  },
  {
    "text": "just I basically make sure that you keep",
    "start": "138159",
    "end": "139329"
  },
  {
    "text": "things very close to edge right here",
    "start": "139329",
    "end": "140650"
  },
  {
    "text": "with lambda edge and the only",
    "start": "140650",
    "end": "144129"
  },
  {
    "text": "responsibly right now is to make sure",
    "start": "144129",
    "end": "145420"
  },
  {
    "text": "that you basically balance traffic right",
    "start": "145420",
    "end": "147010"
  },
  {
    "text": "between these two now if I'm looking at",
    "start": "147010",
    "end": "150430"
  },
  {
    "text": "that area here so API gateway you know",
    "start": "150430",
    "end": "152650"
  },
  {
    "text": "this is where security kicks in right so",
    "start": "152650",
    "end": "154360"
  },
  {
    "text": "there's two things that if they get wait",
    "start": "154360",
    "end": "156640"
  },
  {
    "text": "does does in terms of authorization",
    "start": "156640",
    "end": "158980"
  },
  {
    "text": "right so if kognito it's one option and",
    "start": "158980",
    "end": "161379"
  },
  {
    "text": "you have the custom authorization as",
    "start": "161379",
    "end": "163239"
  },
  {
    "text": "well with lambda I suppose you've been",
    "start": "163239",
    "end": "164920"
  },
  {
    "text": "going for lambda here so what's going on",
    "start": "164920",
    "end": "166870"
  },
  {
    "text": "here we already Bua in-house identity",
    "start": "166870",
    "end": "169930"
  },
  {
    "text": "provider which hand out the",
    "start": "169930",
    "end": "171670"
  },
  {
    "text": "identification so before the clients and",
    "start": "171670",
    "end": "174370"
  },
  {
    "text": "the API request to the back-end services",
    "start": "174370",
    "end": "176709"
  },
  {
    "text": "they first need to obtain a JWT token",
    "start": "176709",
    "end": "180159"
  },
  {
    "text": "hmm and when they sent the API request",
    "start": "180159",
    "end": "182500"
  },
  {
    "text": "they will put the token as an",
    "start": "182500",
    "end": "184209"
  },
  {
    "text": "authorization header and when the API",
    "start": "184209",
    "end": "187209"
  },
  {
    "text": "request hit the API gateway the custom",
    "start": "187209",
    "end": "190120"
  },
  {
    "text": "auto Liza will look at would decode the",
    "start": "190120",
    "end": "192790"
  },
  {
    "text": "token and make sure the signature is",
    "start": "192790",
    "end": "195760"
  },
  {
    "text": "Popper and also it will compare the",
    "start": "195760",
    "end": "199209"
  },
  {
    "text": "Scopes have the correct always go to",
    "start": "199209",
    "end": "201280"
  },
  {
    "text": "access the backend services and also we",
    "start": "201280",
    "end": "206260"
  },
  {
    "text": "decided to externalize the scope",
    "start": "206260",
    "end": "208599"
  },
  {
    "text": "configuration in dynamo dB all right so",
    "start": "208599",
    "end": "212260"
  },
  {
    "text": "persisting scopes right there these cups",
    "start": "212260",
    "end": "214720"
  },
  {
    "text": "are coming from the API endpoints right",
    "start": "214720",
    "end": "217919"
  },
  {
    "text": "so let's take a look at this part right",
    "start": "217919",
    "end": "221290"
  },
  {
    "text": "here so what it's all confusing for me",
    "start": "221290",
    "end": "223780"
  },
  {
    "text": "is that you do have to log balancing",
    "start": "223780",
    "end": "225959"
  },
  {
    "text": "kind of services in place so what's",
    "start": "225959",
    "end": "228370"
  },
  {
    "text": "going on so before we dive into that",
    "start": "228370",
    "end": "230829"
  },
  {
    "text": "there are two types of services we have",
    "start": "230829",
    "end": "233739"
  },
  {
    "text": "to integrate first is the lambda",
    "start": "233739",
    "end": "235930"
  },
  {
    "text": "functions because they are native to the",
    "start": "235930",
    "end": "238329"
  },
  {
    "text": "API gateway the integration is",
    "start": "238329",
    "end": "240489"
  },
  {
    "text": "straightforward and there's another time",
    "start": "240489",
    "end": "243310"
  },
  {
    "text": "it's which is the continuous services",
    "start": "243310",
    "end": "245650"
  },
  {
    "text": "and like I said we have to protect a Pho",
    "start": "245650",
    "end": "248590"
  },
  {
    "text": "data so we have to put put put the",
    "start": "248590",
    "end": "251919"
  },
  {
    "text": "container service behind the private alp",
    "start": "251919",
    "end": "254829"
  },
  {
    "text": "and because there's no direct connection",
    "start": "254829",
    "end": "257560"
  },
  {
    "text": "which",
    "start": "257560",
    "end": "258190"
  },
  {
    "text": "the API gateway and private alp we have",
    "start": "258190",
    "end": "261400"
  },
  {
    "text": "to put nginx between them to handle the",
    "start": "261400",
    "end": "264580"
  },
  {
    "text": "mutual TSL which is like verifying the",
    "start": "264580",
    "end": "268660"
  },
  {
    "text": "client certificate coming from the",
    "start": "268660",
    "end": "270850"
  },
  {
    "text": "Gateway all right okay so nginx take",
    "start": "270850",
    "end": "278140"
  },
  {
    "text": "that takes up role of obviously",
    "start": "278140",
    "end": "279970"
  },
  {
    "text": "termination right okay so um yeah thank",
    "start": "279970",
    "end": "283420"
  },
  {
    "text": "you very much thanks for sharing that",
    "start": "283420",
    "end": "285070"
  },
  {
    "text": "interesting details and thank you for",
    "start": "285070",
    "end": "288070"
  },
  {
    "text": "watching this is my architecture",
    "start": "288070",
    "end": "290420"
  },
  {
    "text": "[Music]",
    "start": "290420",
    "end": "295440"
  }
]