[
  {
    "start": "0",
    "end": "28000"
  },
  {
    "text": "you know this is equipment failure not me okay so cloud monitoring is this",
    "start": "0",
    "end": "5970"
  },
  {
    "text": "really okay good so cloud monitoring we build the telemetry no loading platform",
    "start": "5970",
    "end": "11429"
  },
  {
    "text": "for netflix to gain operational insight into our environment we like to say that",
    "start": "11429",
    "end": "16920"
  },
  {
    "text": "we build ridiculously powerful systems and then sometimes after we've built them and deployed them and made our PR",
    "start": "16920",
    "end": "22769"
  },
  {
    "text": "customers use them we even make them you know slightly easier to use so a quick",
    "start": "22769",
    "end": "28830"
  },
  {
    "start": "28000",
    "end": "79000"
  },
  {
    "text": "word about Netflix some of the stuff you probably already know but how many people here know about Netflix like what",
    "start": "28830",
    "end": "34410"
  },
  {
    "text": "we do and all that oh good so we've been around for 16 years we've got about 2,000 employees we just hit 40 million",
    "start": "34410",
    "end": "43230"
  },
  {
    "text": "users in the last quarter and actually this is the number i'm really proud of five billion streaming hours in the last",
    "start": "43230",
    "end": "50309"
  },
  {
    "text": "quarter based on your typical life expectancy in the US that means about",
    "start": "50309",
    "end": "56039"
  },
  {
    "text": "7,300 lifetimes of entertainment streamed in the last quarter which is",
    "start": "56039",
    "end": "61079"
  },
  {
    "text": "just an awesome number we run things a little differently from a cultural",
    "start": "61079",
    "end": "66180"
  },
  {
    "text": "perspective than most other companies we tend to optimized for speed of",
    "start": "66180",
    "end": "71340"
  },
  {
    "text": "innovation first we try to constrain availability and then cost tends to be",
    "start": "71340",
    "end": "76380"
  },
  {
    "text": "sort of whatever cost ends up being that means that typically we hire smart experienced people and we get out of",
    "start": "76380",
    "end": "82979"
  },
  {
    "start": "79000",
    "end": "157000"
  },
  {
    "text": "their way I have an engineer i work with who recently completely overhauled our learning system based on a one-sentence",
    "start": "82979",
    "end": "90500"
  },
  {
    "text": "request for me about what she should do and then she went and just did it all",
    "start": "90500",
    "end": "95700"
  },
  {
    "text": "the way she intended it completely differently from how i would have expected it or had told her to do it if",
    "start": "95700",
    "end": "101610"
  },
  {
    "text": "i had to tell her how to do it and we find that when that happens it's it's just magical it's awesome it tends to be",
    "start": "101610",
    "end": "108390"
  },
  {
    "text": "much better than if you have managers actually telling people what to do and we generally speaking have an anti",
    "start": "108390",
    "end": "115170"
  },
  {
    "text": "process bias now that's one of those sort of things that I want to be a little more precise on it's not that we",
    "start": "115170",
    "end": "122189"
  },
  {
    "text": "hate process as an HR person at Netflix that I work with one said it's not that",
    "start": "122189",
    "end": "127409"
  },
  {
    "text": "we hate process it's that we hate stupid process and the nice thing about Netflix",
    "start": "127409",
    "end": "132810"
  },
  {
    "text": "is that you can think of it as sort like a natural selection for processes in effect because processes are actually",
    "start": "132810",
    "end": "139629"
  },
  {
    "text": "optional you can do whatever the heck you want and if you want to follow process you will and if you don't you want which means that if any process",
    "start": "139629",
    "end": "146019"
  },
  {
    "text": "that lasts for a while if netflix has to be good because otherwise people just wouldn't follow it that's a very",
    "start": "146019",
    "end": "152290"
  },
  {
    "text": "different approach from a lot of other companies and a lot of other companies frankly that I've worked at from our",
    "start": "152290",
    "end": "158200"
  },
  {
    "start": "157000",
    "end": "218000"
  },
  {
    "text": "tech ops perspective we are a running a service-oriented architecture in Amazon we have five to six hundred different",
    "start": "158200",
    "end": "164739"
  },
  {
    "text": "different services running in each of the regions we operate in and we follow a decentralized ops model that means",
    "start": "164739",
    "end": "171280"
  },
  {
    "text": "that your developer you get to write code of course because you know it would be boring otherwise but you also get to",
    "start": "171280",
    "end": "177670"
  },
  {
    "text": "build your code and you get to test your code and you get to deploy your code and you get to figure out what alerts make",
    "start": "177670",
    "end": "183310"
  },
  {
    "text": "sense and you know what dashboards you'd like to look at and when your stuff breaks a two o'clock in the morning",
    "start": "183310",
    "end": "188700"
  },
  {
    "text": "you're going to get woken up by pagerduty now technically it may not be you it may be your co-worker who's",
    "start": "188700",
    "end": "194500"
  },
  {
    "text": "sitting in the cube next to you and you know they might not like you so much that you know after that happens a few",
    "start": "194500",
    "end": "200260"
  },
  {
    "text": "times and we tend to find out that making it the developers problem to",
    "start": "200260",
    "end": "206530"
  },
  {
    "text": "support their code in operations tends to avoid some caustic Sternin externalities and drive for better code",
    "start": "206530",
    "end": "216040"
  },
  {
    "text": "and better operations we are AWS based for a hundred percent of streaming and",
    "start": "216040",
    "end": "221949"
  },
  {
    "start": "218000",
    "end": "289000"
  },
  {
    "text": "we've had a huge expansion over the last few years customers i just mentioned",
    "start": "221949",
    "end": "227169"
  },
  {
    "text": "that we've hit 40 million customers when i joined netflix in 2009 I remember we were talking in sort of hushed tones",
    "start": "227169",
    "end": "233590"
  },
  {
    "text": "doing these sort of like you know at thought exercises about what would Netflix need to look like one day in the",
    "start": "233590",
    "end": "239620"
  },
  {
    "text": "far future when we hit 40 million customers we thought it would be like around 20 18 20 19 we thought we'd have",
    "start": "239620",
    "end": "246340"
  },
  {
    "text": "to be like a completely different company in many respects we have been we have but we also hit the 40 million mark",
    "start": "246340",
    "end": "252159"
  },
  {
    "text": "about five years earlier than we expected back then we've also expanded into a bunch of new markets again when i",
    "start": "252159",
    "end": "257530"
  },
  {
    "text": "joined netflix we were serving the u.s. we're serving all the US and just the u.s. these days were US Canada South",
    "start": "257530",
    "end": "265690"
  },
  {
    "text": "America Phil America a whole bunch of Europe the Scandinavian countries were all over the",
    "start": "265690",
    "end": "272190"
  },
  {
    "text": "place weird 43 45 countries something like that and our metrics have grown like crazy I'm going to talk about",
    "start": "272190",
    "end": "279930"
  },
  {
    "text": "metrics growth in just a few minutes before we get into the monitoring system that we built I want to talk a little",
    "start": "279930",
    "end": "285449"
  },
  {
    "text": "about the monitoring system we had in the old days our old alerting system was",
    "start": "285449",
    "end": "292350"
  },
  {
    "start": "289000",
    "end": "455000"
  },
  {
    "text": "actually an enterprise IT alerting system like you know a packaged software",
    "start": "292350",
    "end": "297840"
  },
  {
    "text": "product that costs you know I don't know a bunch of hundreds of thousands of dollars I will refrain from mentioning",
    "start": "297840",
    "end": "303720"
  },
  {
    "text": "their name it was managed by our enterprise IT alerting people which if",
    "start": "303720",
    "end": "309509"
  },
  {
    "text": "any of you have ever had to work in that kind of environment you know meant that every time you wanted to set up or",
    "start": "309509",
    "end": "314789"
  },
  {
    "text": "change an alert you filed a ticket and typically alerts went to the NOC so",
    "start": "314789",
    "end": "322880"
  },
  {
    "text": "anybody worked in that environment ever before yeah so this sets up some",
    "start": "322880",
    "end": "330570"
  },
  {
    "text": "interesting problems I remember for example when one of our software development teams set up an alert condition that had a horrible false",
    "start": "330570",
    "end": "337650"
  },
  {
    "text": "positive rate like hundreds of false positives every day and I was talking to the NOC because I was a nightie and",
    "start": "337650",
    "end": "343710"
  },
  {
    "text": "pretty close to the knock and the knock was just close to crying and they talked",
    "start": "343710",
    "end": "349680"
  },
  {
    "text": "to the softer development team which was like super you know sorry about it and",
    "start": "349680",
    "end": "355139"
  },
  {
    "text": "as soon as they finished working on a bunch of features they were going to work to modify those alerts like a week",
    "start": "355139",
    "end": "361470"
  },
  {
    "text": "or two down the road because they weren't feeling the pain of those false positives so cost externality",
    "start": "361470",
    "end": "367139"
  },
  {
    "text": "externalities for the lose the other problem is that we had this alerting",
    "start": "367139",
    "end": "372240"
  },
  {
    "text": "system it was completely separate from our telemetry system which create some interesting problems so telemetry our",
    "start": "372240",
    "end": "378750"
  },
  {
    "text": "old telemetry system was actually originally built as a spare time effort by one sysadmin who decided that he",
    "start": "378750",
    "end": "385259"
  },
  {
    "text": "could do better than this enterprise IT solution he was in many respects right",
    "start": "385259",
    "end": "391190"
  },
  {
    "text": "it was actually loved by developers it was great right because developers could basically instrument their code to their",
    "start": "391190",
    "end": "397200"
  },
  {
    "text": "heart's content and send however men dozens or hundreds of metrics into his",
    "start": "397200",
    "end": "402410"
  },
  {
    "text": "system and then be able to easily see their data he used a custom TCP protocol",
    "start": "402410",
    "end": "408500"
  },
  {
    "text": "and I I'm torn between thinking that's because back then rest was only starting",
    "start": "408500",
    "end": "414230"
  },
  {
    "text": "out as a best practice and thinking that you know he just thought that custom TCP protocol czar cool and it's used rd file",
    "start": "414230",
    "end": "422270"
  },
  {
    "text": "backend storage so how many people are here are familiar with our rd okay enough that i'm not going to get into it",
    "start": "422270",
    "end": "429710"
  },
  {
    "text": "but afterwards if you have any questions find me or any of the other people around who raised their hands and it was",
    "start": "429710",
    "end": "436820"
  },
  {
    "text": "written mostly in perl it was data center bound and it was limited by dais",
    "start": "436820",
    "end": "444440"
  },
  {
    "text": "and resources which meant that it was starting to have problems under our",
    "start": "444440",
    "end": "450320"
  },
  {
    "text": "metric load and that's the second time of mentioned metric load so this is",
    "start": "450320",
    "end": "456410"
  },
  {
    "text": "number of metrics in the monitoring system that we were dealing with right around September of 2011 we started",
    "start": "456410",
    "end": "464330"
  },
  {
    "text": "thinking about writing our new system because what we saw was this is in millions of metrics we had two million",
    "start": "464330",
    "end": "471500"
  },
  {
    "text": "metrics in the system in May of 2011 then 2.5 in August of 2011 which is not",
    "start": "471500",
    "end": "477560"
  },
  {
    "text": "really that huge of a growth that's only like twenty-five percent no problem and then a month later we had a four hundred percent increase a metrics which if",
    "start": "477560",
    "end": "484729"
  },
  {
    "text": "you're running a monitoring system can get you a little grumpy and then pretty quickly after that we ended up with you",
    "start": "484729",
    "end": "490100"
  },
  {
    "text": "know 10 million 15 million metrics and red on black is hard to see but that's about 18 million metrics so around",
    "start": "490100",
    "end": "496700"
  },
  {
    "text": "September when we started talking about our new monitoring system we saw this curve and we figured that we really",
    "start": "496700",
    "end": "501740"
  },
  {
    "text": "needed to come up with something that was going to support us up to like I know a hundred million metrics more on",
    "start": "501740",
    "end": "507650"
  },
  {
    "text": "that later symmetrix growth right like you know well you know we've grown in customers we had more systems it makes sense for us to grow to some degree but",
    "start": "507650",
    "end": "514640"
  },
  {
    "text": "here's the thing if you took our customer base and grew it at the same",
    "start": "514640",
    "end": "521839"
  },
  {
    "text": "rate that we are growing metrics every single person on the face of this planet would be a netflix subscriber twice I",
    "start": "521839",
    "end": "530410"
  },
  {
    "text": "wouldn't mind that but that's not what's happens far it also means that if our",
    "start": "530410",
    "end": "535699"
  },
  {
    "text": "penetration of smartphones was this good every single smartphone on the face of this planet would be running 10 Netflix",
    "start": "535699",
    "end": "542899"
  },
  {
    "text": "clients and nobody would like that so clearly our metrics have grown at a rate that is disproportional to pretty much",
    "start": "542899",
    "end": "549170"
  },
  {
    "text": "every other KPI in our environment so this was a problem so we decided to",
    "start": "549170",
    "end": "554449"
  },
  {
    "text": "build something better a few words about what we built we started by knowing that",
    "start": "554449",
    "end": "562339"
  },
  {
    "text": "it was going to take us a while to migrate from our old metric system epic to our new epic new metric system atlas",
    "start": "562339",
    "end": "568489"
  },
  {
    "text": "so we built a UI that could transparently get data from either of these two systems so you didn't have to",
    "start": "568489",
    "end": "575449"
  },
  {
    "text": "worry about going to one system if your metrics were there or another system if your metrics were there while we're at",
    "start": "575449",
    "end": "580819"
  },
  {
    "text": "it we also figured we might as well through cloud watch in there so we've created basically a multi-system UI that",
    "start": "580819",
    "end": "587420"
  },
  {
    "text": "automatically gets your metrics from wherever the heck they are based on what metric names you're asking for we build",
    "start": "587420",
    "end": "594079"
  },
  {
    "start": "593000",
    "end": "672000"
  },
  {
    "text": "this thing from the ground up for regional isolation so metrics stay within the region in which they were",
    "start": "594079",
    "end": "599809"
  },
  {
    "text": "collected it's very easy to get region specific metrics but we also have global endpoints so you can get multi-region",
    "start": "599809",
    "end": "606529"
  },
  {
    "text": "metrics we had an interesting problem before about figuring out what a given",
    "start": "606529",
    "end": "614360"
  },
  {
    "text": "instance belonged to in terms of an application so the way it would work was an instance would send us some metrics",
    "start": "614360",
    "end": "620029"
  },
  {
    "text": "and then we would use a whole bunch of inference on Amazon's ecosystem to",
    "start": "620029",
    "end": "625129"
  },
  {
    "text": "figure out that oh that instance belongs to like the Bob application and that inference was done by a system that",
    "start": "625129",
    "end": "630949"
  },
  {
    "text": "occasionally would have problems would miss categorize instances and suddenly a whole bunch of metrics would get",
    "start": "630949",
    "end": "635959"
  },
  {
    "text": "categorized as being is belonging to a completely different application which would have alarms go off and a whole lot",
    "start": "635959",
    "end": "642769"
  },
  {
    "text": "of people being confused and that made us sad so we built our client with this",
    "start": "642769",
    "end": "648410"
  },
  {
    "text": "new system it's called servo it's actually open source I urge you to check it out and the client now actually sends",
    "start": "648410",
    "end": "655160"
  },
  {
    "text": "in with metrics the identity of the serb of the server and what application it belongs to in fact i'll get to that in",
    "start": "655160",
    "end": "661939"
  },
  {
    "text": "the next slide let's made our metrics actually much reliable and we've seen basically no",
    "start": "661939",
    "end": "666960"
  },
  {
    "text": "metric drops since that we've made this change so what symmetric right and",
    "start": "666960",
    "end": "675300"
  },
  {
    "start": "672000",
    "end": "733000"
  },
  {
    "text": "actually more important what's a metric name well here's a metric name for those",
    "start": "675300",
    "end": "681390"
  },
  {
    "text": "in the back can you read that here I'll make this easier and I'll read this for",
    "start": "681390",
    "end": "687390"
  },
  {
    "text": "you calm Netflix that EDS that nccp that successful duck requests at you I versioned at NC cprt dash authorization",
    "start": "687390",
    "end": "693990"
  },
  {
    "text": "one second dev type ID 1 1 0 1 dot seal",
    "start": "693990",
    "end": "699660"
  },
  {
    "text": "where phl underscore 0 Abdi bird Sui underscore 169 underscore mid geodis us",
    "start": "699660",
    "end": "706430"
  },
  {
    "text": "okay who's seen metric names like this yeah so everybody tries to put a whole",
    "start": "706430",
    "end": "712440"
  },
  {
    "text": "bunch of metadata into their metrics so they can do later like you know slicing and dicing on their metrics and in the",
    "start": "712440",
    "end": "717720"
  },
  {
    "text": "end you end up with metric names like this and you know that that you have that problem by the way if you run a monitoring system and your customers",
    "start": "717720",
    "end": "724560"
  },
  {
    "text": "like developer groups go hey you're 256 character limitation on metric names is just too short we need longer metric",
    "start": "724560",
    "end": "731370"
  },
  {
    "text": "names that way lies insanity so here's what we decided we decided that metric",
    "start": "731370",
    "end": "738060"
  },
  {
    "start": "733000",
    "end": "823000"
  },
  {
    "text": "names are not actually a vector of characters metric names are a list of",
    "start": "738060",
    "end": "744000"
  },
  {
    "text": "key value pairs here's what that looks like so here's the key value pair NF",
    "start": "744000",
    "end": "749670"
  },
  {
    "text": "netflix de mi is a mi dash AAA 5166 EF and if not app is WP for whitepages one",
    "start": "749670",
    "end": "756900"
  },
  {
    "text": "of my personal applications actually and if cluster is WP batch and if ASG is WP back should be 163 ashley is for auto",
    "start": "756900",
    "end": "764280"
  },
  {
    "text": "scaling group and if countries us and if node is that and if region and if zoom",
    "start": "764280",
    "end": "770240"
  },
  {
    "text": "the reason these keys are bolded is because our telemetry client servo it's",
    "start": "770240",
    "end": "777120"
  },
  {
    "text": "open source check it out actually sends them in for you so you don't have to",
    "start": "777120",
    "end": "782190"
  },
  {
    "text": "worry about sending these key value pairs into our system will take care of that for you and then you as a developer",
    "start": "782190",
    "end": "788340"
  },
  {
    "text": "get to figure out what a reasonable way of representing your data is so for example the above long string could be",
    "start": "788340",
    "end": "794820"
  },
  {
    "text": "represented as a set of key value pairs or our class nccp type qwest you I version whatever action",
    "start": "794820",
    "end": "800990"
  },
  {
    "text": "authorization dev type 101 silver phl 0a be NGO us and we've made it exceedingly",
    "start": "800990",
    "end": "808940"
  },
  {
    "text": "easy to slice and dice based on these key value pairs in fact speaking of",
    "start": "808940",
    "end": "814760"
  },
  {
    "text": "slicing and dicing let's talk about the query language for this system who",
    "start": "814760",
    "end": "820040"
  },
  {
    "text": "recognizes this thing okay we're all old",
    "start": "820040",
    "end": "825830"
  },
  {
    "start": "823000",
    "end": "872000"
  },
  {
    "text": "so this is the HP 20 @ s it's one of my favorite calculators of all time I had",
    "start": "825830",
    "end": "830960"
  },
  {
    "text": "this calculator in college it's one of HP's calculators that uses RPM reverse polish notation do people here generally",
    "start": "830960",
    "end": "838400"
  },
  {
    "text": "know what reverse polish notation looks like so briefly it means that instead of",
    "start": "838400",
    "end": "844130"
  },
  {
    "text": "doing something like 2+2 you do a postfix notation like 22 plus it turns",
    "start": "844130",
    "end": "849230"
  },
  {
    "text": "out that it's actually much easier to parse for example so one of the smartest people with whom I work said down to",
    "start": "849230",
    "end": "855980"
  },
  {
    "text": "figure out what the new query language for the system was going to be and he built a query language that is",
    "start": "855980",
    "end": "861790"
  },
  {
    "text": "incredibly powerful to allow us to do a whole lot of complex queries and at the",
    "start": "861790",
    "end": "867950"
  },
  {
    "text": "same time made it kind of hard to do a whole bunch of simple queries we've worked on that so here's an example of",
    "start": "867950",
    "end": "873440"
  },
  {
    "start": "872000",
    "end": "922000"
  },
  {
    "text": "one query that's relatively simple so",
    "start": "873440",
    "end": "878930"
  },
  {
    "text": "what you've got here is q equals so the query NF region uswest 1 equals so there's the RPN and if app employee info",
    "start": "878930",
    "end": "887510"
  },
  {
    "text": "equals and so you're ending these two conditions and then you have named",
    "start": "887510",
    "end": "894080"
  },
  {
    "text": "employee info to score api equals and so you're ending now the result of these three conditions and then basically the",
    "start": "894080",
    "end": "900440"
  },
  {
    "text": "some operation you're saying that the end time should be now minus five minutes so show me everything up to",
    "start": "900440",
    "end": "906800"
  },
  {
    "text": "light the last five minutes and the start time should be n time minus three hours so basically it's a three hour graph and what you get is a nice little",
    "start": "906800",
    "end": "913250"
  },
  {
    "text": "graph of activity on this employee info application so this is relatively easy",
    "start": "913250",
    "end": "919670"
  },
  {
    "text": "and accessible and you can very easily look at your data for example on a per",
    "start": "919670",
    "end": "925820"
  },
  {
    "start": "922000",
    "end": "997000"
  },
  {
    "text": "zone basis because we send tag for you by just adding a group by a addition to this query so",
    "start": "925820",
    "end": "935080"
  },
  {
    "text": "that's very simple you can see how accessible it is I find that this is a good time to take a drink of water yeah",
    "start": "935080",
    "end": "949930"
  },
  {
    "text": "I can't actually tell you what this does not because I'm not supposed to but",
    "start": "949930",
    "end": "955900"
  },
  {
    "text": "because there's like 15 or 20 people at Netflix who can actually understand this expression generally speaking this is",
    "start": "955900",
    "end": "961620"
  },
  {
    "text": "using a bunch of mathematical operators like double exponential smoothing to",
    "start": "961620",
    "end": "967030"
  },
  {
    "text": "build a prediction line that's the red line over here for expected traffic for one of our devices I think this is",
    "start": "967030",
    "end": "973300"
  },
  {
    "text": "actually the Nintendo 3ds and then graphs the actual traffic on the same",
    "start": "973300",
    "end": "979360"
  },
  {
    "text": "graph and you can actually alert when those two lines cross but this basically",
    "start": "979360",
    "end": "984940"
  },
  {
    "text": "uses just a whole bunch of math magic and a whole bunch of really advanced atlas query language skills so that was",
    "start": "984940",
    "end": "995140"
  },
  {
    "text": "another thing we built interestingly by the way when we built the system we",
    "start": "995140",
    "end": "1000720"
  },
  {
    "start": "997000",
    "end": "1173000"
  },
  {
    "text": "expected that our scaling issues were going to be around rights people were going to send you know tens and tens and",
    "start": "1000720",
    "end": "1006870"
  },
  {
    "text": "tens of millions of metrics at us and generally speaking they weren't going to query for them right so there's no problem just scale for rights we were",
    "start": "1006870",
    "end": "1014010"
  },
  {
    "text": "wrong so you know we built the system obviously we have a whole bunch of graphs and dashboards that pool",
    "start": "1014010",
    "end": "1020190"
  },
  {
    "text": "information out of the system our alerting platform is actually built tightly into the system so any graph",
    "start": "1020190",
    "end": "1025560"
  },
  {
    "text": "expression you use you can also use as an alerting expression it's exactly the same thing but then we found that a",
    "start": "1025560",
    "end": "1031410"
  },
  {
    "text": "whole bunch of people started using the system for a whole bunch of new things that we didn't expect for example one of the people in my team built this",
    "start": "1031410",
    "end": "1037350"
  },
  {
    "text": "automated canary analysis system that queries the system for a bunch of metrics every minute and tells you",
    "start": "1037350",
    "end": "1043860"
  },
  {
    "text": "whether or not your canary currently running is doing well or not well and it's actually integrated into our",
    "start": "1043860",
    "end": "1048960"
  },
  {
    "text": "continuous deployment system so the automatic canary analysis tool will tell",
    "start": "1048960",
    "end": "1054930"
  },
  {
    "text": "the deployment system to either scale up your canary instant ASG or potentially",
    "start": "1054930",
    "end": "1060270"
  },
  {
    "text": "even take it out of traffic coburn want to raise your hand there",
    "start": "1060270",
    "end": "1065780"
  },
  {
    "text": "okay so Kerber Coburn Watson right there manages our performance team and his",
    "start": "1065780",
    "end": "1071330"
  },
  {
    "text": "team built this really interesting capacity analytics tool on our system that lets you actually look at things",
    "start": "1071330",
    "end": "1078380"
  },
  {
    "text": "like your memory and CPU headroom on your system as a function of like the",
    "start": "1078380",
    "end": "1085130"
  },
  {
    "text": "time of day by doing a whole bunch of analysis on metrics that they pull out of Atlas we had a whole bunch of special",
    "start": "1085130",
    "end": "1091760"
  },
  {
    "text": "projects running against our system so for example we recently talked about Scryer our predictive auto scaling",
    "start": "1091760",
    "end": "1096910"
  },
  {
    "text": "approach which uses our system to pull the whole bunch of metrics and do mathematical magic on it and amusingly",
    "start": "1096910",
    "end": "1104990"
  },
  {
    "text": "or tragically depending on your point of view bi sobe ice honey right we actually have an enterprise bi system that's",
    "start": "1104990",
    "end": "1110750"
  },
  {
    "text": "pretty good run by our enterprise bi people who are fantastic but I remember talking to one of the client engineering",
    "start": "1110750",
    "end": "1117169"
  },
  {
    "text": "managers about his use case for Atlas and he said listen you know I send all my data to our bi system and any data",
    "start": "1117169",
    "end": "1124549"
  },
  {
    "text": "any query that I want to predefine I can always get the results of whenever I",
    "start": "1124549",
    "end": "1129770"
  },
  {
    "text": "want to and that's great in any ad hoc query that I want to you know run I can do that and just wait two or three hours",
    "start": "1129770",
    "end": "1135679"
  },
  {
    "text": "for the backend systems to crunch with the data and give me my results but I don't need to because with Atlas I can",
    "start": "1135679",
    "end": "1142280"
  },
  {
    "text": "do ad hoc queries as long as I sent you all of my bi data and you'll give me back my results within like five seconds",
    "start": "1142280",
    "end": "1147980"
  },
  {
    "text": "our SLA is ninety-nine point nine nine percent of the time we're supposed to return your queries within five seconds so we built an incredibly scalable",
    "start": "1147980",
    "end": "1155330"
  },
  {
    "text": "system that lets you send any metrics you want it also gives you back your metrics really really quickly and then",
    "start": "1155330",
    "end": "1160760"
  },
  {
    "text": "it turns out that everybody who you know wants something like that even not just for operational purposes ends up using",
    "start": "1160760",
    "end": "1166460"
  },
  {
    "text": "your system we are definitely popular mostly for the right reasons but not",
    "start": "1166460",
    "end": "1171890"
  },
  {
    "text": "always so what does ridiculous read volume really mean that's kind of a tall",
    "start": "1171890",
    "end": "1177169"
  },
  {
    "start": "1173000",
    "end": "1270000"
  },
  {
    "text": "claim so this is a graph of read activity on our system over one day if",
    "start": "1177169",
    "end": "1183980"
  },
  {
    "text": "you can't read the numbers even from the front row we're averaging about 60 million data points per second queried",
    "start": "1183980",
    "end": "1191090"
  },
  {
    "text": "from the system across like every part of the day so at the trough we get",
    "start": "1191090",
    "end": "1198440"
  },
  {
    "text": "down to about actually 32 million data points per second at peak you can see",
    "start": "1198440",
    "end": "1205160"
  },
  {
    "text": "that we have a spike here up to about 150 million data points per second we're averaging 60 and that's that's awesome",
    "start": "1205160",
    "end": "1211549"
  },
  {
    "text": "right that's like big accepted that's only one day so let's look at three days",
    "start": "1211549",
    "end": "1217150"
  },
  {
    "text": "the average is still around 60 million data points per second but we go up to",
    "start": "1217929",
    "end": "1223190"
  },
  {
    "text": "about 600 million data points per second query this is you know we may have had a production emergency or something that",
    "start": "1223190",
    "end": "1228559"
  },
  {
    "text": "or some sort of batch operation that just decided to get a whole bunch of data from us and that's awesome but wait",
    "start": "1228559",
    "end": "1233960"
  },
  {
    "text": "there's more this is our 5-day graph the",
    "start": "1233960",
    "end": "1240470"
  },
  {
    "text": "top number in this graph on the left side is 2.8 gee-gees for well giga so",
    "start": "1240470",
    "end": "1248090"
  },
  {
    "text": "yeah we getting up to about 2.8 billion data points per second queried doing these three spikes that we see here so",
    "start": "1248090",
    "end": "1256419"
  },
  {
    "text": "that's a lot how did we get this done so this is the first draft of the system what we have is by the way the people on",
    "start": "1256419",
    "end": "1265130"
  },
  {
    "text": "your left side of the room do you see my laser pointer okay good so we have the",
    "start": "1265130",
    "end": "1271400"
  },
  {
    "start": "1270000",
    "end": "1442000"
  },
  {
    "text": "global endpoint I talked about that earlier the regional endpoint and a bunch of back-end servers here let's say",
    "start": "1271400",
    "end": "1276950"
  },
  {
    "text": "we have a client instance a published cluster amazon s3 and a polar cluster so",
    "start": "1276950",
    "end": "1283190"
  },
  {
    "text": "generally speaking the vast majority of our applicate of our metrics are actually sent in from applications that",
    "start": "1283190",
    "end": "1288590"
  },
  {
    "text": "just push them to the publish cluster our polar cluster does things like SNMP polling health check polling all of that",
    "start": "1288590",
    "end": "1294799"
  },
  {
    "text": "stuff and then sends metrics into the published buster then the publish cluster simply sends the metric to the",
    "start": "1294799",
    "end": "1300830"
  },
  {
    "text": "sharded back-end instances and also takes a whole bunch of those metrics bundles them up into one foot one big",
    "start": "1300830",
    "end": "1306230"
  },
  {
    "text": "file and puts it up an s3 so there you",
    "start": "1306230",
    "end": "1313850"
  },
  {
    "text": "go problem solved it's all great and I did this in 24 minutes we can overlook we can all go drinking right well so it",
    "start": "1313850",
    "end": "1321169"
  },
  {
    "text": "turns out there's a few problems here and largely there around speed because",
    "start": "1321169",
    "end": "1326540"
  },
  {
    "text": "speed is hard and speeded volume is even harder and we",
    "start": "1326540",
    "end": "1333100"
  },
  {
    "text": "looked at ways of solving this problem we looked at spinning disks for example and we looked at using for our back-end",
    "start": "1333100",
    "end": "1339279"
  },
  {
    "text": "systems Cassandra with SSD instances and we did the math and it was going to take",
    "start": "1339279",
    "end": "1344470"
  },
  {
    "text": "us something like you know 700 SSD instances back about a year or so ago when Amazon was like your special",
    "start": "1344470",
    "end": "1351220"
  },
  {
    "text": "customer so they'll give you 9 and that",
    "start": "1351220",
    "end": "1356350"
  },
  {
    "text": "was just not going to work because it was also going to cost us like a lot of money and my boss was looking sort of",
    "start": "1356350",
    "end": "1362139"
  },
  {
    "text": "grim so we decided that memory was the way to go and so what we did was we",
    "start": "1362139",
    "end": "1369130"
  },
  {
    "text": "basically build the system where the metrics for querying are stored in memory on a whole bunch of em to 4xl",
    "start": "1369130",
    "end": "1377710"
  },
  {
    "text": "instances for those of you not familiar with m24 excels really there are 64 gig",
    "start": "1377710",
    "end": "1384010"
  },
  {
    "text": "instances they're nice sort of like they're one of the main fleet products",
    "start": "1384010",
    "end": "1389049"
  },
  {
    "text": "for Amazon it's worth noting that this is operational data and that means two",
    "start": "1389049",
    "end": "1394299"
  },
  {
    "text": "things one people really want it available fast in fact it's kind of",
    "start": "1394299",
    "end": "1399490"
  },
  {
    "text": "funny right because when there's a problem you're going to see a whole bunch of people flocking to your telemetry data to bring up dashboards so",
    "start": "1399490",
    "end": "1405850"
  },
  {
    "text": "there's more activity and this is exactly the time when you don't want to see degradation under load so generally",
    "start": "1405850",
    "end": "1413649"
  },
  {
    "text": "speaking they hire the load on our system the more impatient people are the",
    "start": "1413649",
    "end": "1418779"
  },
  {
    "text": "other thing that's worth noting is that operations people generally speaking are have short memories also operations",
    "start": "1418779",
    "end": "1426399"
  },
  {
    "text": "people generally speaking have short memories so that means that we don't necessarily need to look at data from",
    "start": "1426399",
    "end": "1432070"
  },
  {
    "text": "like a month ago or three months ago we generally care about what's happening right now and maybe what happened like",
    "start": "1432070",
    "end": "1438190"
  },
  {
    "text": "last week for some you know higher level metrics but the problem is that we",
    "start": "1438190",
    "end": "1443799"
  },
  {
    "start": "1442000",
    "end": "1609000"
  },
  {
    "text": "basically did the math and in order to support the metric volume that we had we",
    "start": "1443799",
    "end": "1449590"
  },
  {
    "text": "were going to need to have about 20,000 160 m 24 excels using Amazon's public",
    "start": "1449590",
    "end": "1457179"
  },
  {
    "text": "pricing it was going to cost us about 32 million dollars in upfront reservation fees and then an ongoing",
    "start": "1457179",
    "end": "1463370"
  },
  {
    "text": "eight million dollars a month per region with no redundancy and that's a lot of",
    "start": "1463370",
    "end": "1469190"
  },
  {
    "text": "money so that didn't sound so good and",
    "start": "1469190",
    "end": "1475820"
  },
  {
    "text": "we were just looking at this problem trying to figure out if there was a way we could you know reduce the metric load",
    "start": "1475820",
    "end": "1481929"
  },
  {
    "text": "you like that yeah so here's the thing our granularity is actually two",
    "start": "1481929",
    "end": "1487580"
  },
  {
    "text": "dimensional on one dimension we have tags and you know however many tags you",
    "start": "1487580",
    "end": "1493070"
  },
  {
    "text": "have and on the other dimension we have step size or the time buckets so we typically use one minute time buckets",
    "start": "1493070",
    "end": "1498260"
  },
  {
    "text": "but we can use bigger time buckets so it actually makes sense to reduce on either",
    "start": "1498260",
    "end": "1503510"
  },
  {
    "text": "dimension depending on your use cases and sometimes actually make sense for really rapid reduction so for example",
    "start": "1503510",
    "end": "1509149"
  },
  {
    "text": "history our dependency command library sends a whole bunch of of metrics that",
    "start": "1509149",
    "end": "1515750"
  },
  {
    "text": "are not all that useful after about like an hour so we can call them pretty",
    "start": "1515750",
    "end": "1521299"
  },
  {
    "text": "quickly the other one is the NF dock node tag which is the name of the instance that sent the metrics so we",
    "start": "1521299",
    "end": "1529789"
  },
  {
    "text": "bring up thousands of instances a day we take down thousands of instances a day that means that your average the average",
    "start": "1529789",
    "end": "1535760"
  },
  {
    "text": "lifespan of a node in our environment then average the average lifetime of an instance in our environment is like a",
    "start": "1535760",
    "end": "1541730"
  },
  {
    "text": "day or two at most generally speaking so that means that we don't actually need to keep instance level metrics for all",
    "start": "1541730",
    "end": "1548360"
  },
  {
    "text": "that long now in some cases we can even keep the shorter time so for example VHS",
    "start": "1548360",
    "end": "1554149"
  },
  {
    "text": "the viewing history service is the application that tells us what our clients are doing so VHS will tell us",
    "start": "1554149",
    "end": "1561200"
  },
  {
    "text": "how many windows 8 devices for example started streaming a minute ago well we don't actually need to ever pretty much",
    "start": "1561200",
    "end": "1568220"
  },
  {
    "text": "report how many windows 8 devices told us that we they started streaming to that VHS server versus that VHS server",
    "start": "1568220",
    "end": "1574669"
  },
  {
    "text": "so that kind of business data we can actually just remove the instance tag",
    "start": "1574669",
    "end": "1580429"
  },
  {
    "text": "dimension very quickly on the flip side of that you know our database",
    "start": "1580429",
    "end": "1586639"
  },
  {
    "text": "engineering team is rightfully very proud because they actually now use chaos monkey to terminate their",
    "start": "1586639",
    "end": "1594050"
  },
  {
    "text": "stateful database systems just like everybody else if Netflix but even doing that there instances tend to stick",
    "start": "1594050",
    "end": "1600710"
  },
  {
    "text": "around much longer than everybody else so for them they actually really like having instances instance level data",
    "start": "1600710",
    "end": "1606440"
  },
  {
    "text": "longer than everybody else so here's what we did we figured that for a series",
    "start": "1606440",
    "end": "1612980"
  },
  {
    "start": "1609000",
    "end": "1675000"
  },
  {
    "text": "of values we would reduce it to minimum maximum total and count here's an",
    "start": "1612980",
    "end": "1618950"
  },
  {
    "text": "example of that let's say you have 3 5 9 14 and 20 we would then reduce that to",
    "start": "1618950",
    "end": "1624220"
  },
  {
    "text": "320 51 and 5 it's worth noting that we've just reduced a series of five",
    "start": "1624220",
    "end": "1630020"
  },
  {
    "text": "numbers to four numbers which is not actually a huge win which is why we",
    "start": "1630020",
    "end": "1635690"
  },
  {
    "text": "don't reduce to five minute buckets because we would then basically just be going from five diff from five numbers",
    "start": "1635690",
    "end": "1641180"
  },
  {
    "text": "to for the reduction that we do is on dimensions that have a much greater",
    "start": "1641180",
    "end": "1647650"
  },
  {
    "text": "number of value so for example going from one minute to one hour takes you",
    "start": "1647650",
    "end": "1652700"
  },
  {
    "text": "from 60 values to four number values which is you know about a 15 X improvement the nice thing about the",
    "start": "1652700",
    "end": "1659960"
  },
  {
    "text": "system is it allows for sense of scale because you know the minimum in the maximum and by keeping the total in the",
    "start": "1659960",
    "end": "1665360"
  },
  {
    "text": "count you can very easily do further reduction without loss of precision whereas if you were keeping for example",
    "start": "1665360",
    "end": "1672170"
  },
  {
    "text": "the average you'd have a harder time doing that so by the way when I was",
    "start": "1672170",
    "end": "1679280"
  },
  {
    "start": "1675000",
    "end": "1730000"
  },
  {
    "text": "creating this presentation I was looking on flickr for a common Creative Commons",
    "start": "1679280",
    "end": "1684800"
  },
  {
    "text": "licensed pictures and part of the fun of this was figuring out like what pictures come up when you search for example for",
    "start": "1684800",
    "end": "1690230"
  },
  {
    "text": "policy this is the picture that comes up for Policy I have no idea what it means so we built this policy driven system",
    "start": "1690230",
    "end": "1696940"
  },
  {
    "text": "that allows us to basically take four possible actions depending on the time horizon and metric and other metric",
    "start": "1696940",
    "end": "1704500"
  },
  {
    "text": "metadata you can preserve the metric in the visible in the visible system you",
    "start": "1704500",
    "end": "1709790"
  },
  {
    "text": "can just drop the metric so we're not going to have it available you can consolidate the metric which basically means going from one time bucket size to",
    "start": "1709790",
    "end": "1717560"
  },
  {
    "text": "another so for example from one minute to 60 and you can roll up the metric so you can basically take out a given",
    "start": "1717560",
    "end": "1724220"
  },
  {
    "text": "tag and just show a summary for all the values for that given tag here's a quick",
    "start": "1724220",
    "end": "1731690"
  },
  {
    "text": "example of the call of a policy you can see operations here is a drop operation",
    "start": "1731690",
    "end": "1738200"
  },
  {
    "text": "and the query here for those of you who've been paying attention you'll see that we're actually using the same query format across our entire system so this",
    "start": "1738200",
    "end": "1745280"
  },
  {
    "text": "is in afib API equals class is in this list and so will drop metrics that fit",
    "start": "1745280",
    "end": "1753409"
  },
  {
    "text": "this pattern and then for everything else we will roll up based on NF node device and NF country so the way this",
    "start": "1753409",
    "end": "1761150"
  },
  {
    "text": "ends up looking now is everything is remains the same generally speaking is said that the EMR driver takes those big",
    "start": "1761150",
    "end": "1768530"
  },
  {
    "text": "s3 data files pumps them through EMR to do some reduction based on the policy",
    "start": "1768530",
    "end": "1775280"
  },
  {
    "text": "and then sends them to new clusters behind the regional endpoint so you now",
    "start": "1775280",
    "end": "1782570"
  },
  {
    "text": "see actually that we have four clusters the first cluster is the 6-hour cluster so it keeps data only for the last six",
    "start": "1782570",
    "end": "1789350"
  },
  {
    "text": "hours and it's fed directly from the published cluster we also have the four-day cluster which includes data for",
    "start": "1789350",
    "end": "1796520"
  },
  {
    "text": "the last four days 18-day cluster and historical cluster the further back you go the more we've reduced the metrics",
    "start": "1796520",
    "end": "1802640"
  },
  {
    "text": "but that also means actually that when people want some sort of special access",
    "start": "1802640",
    "end": "1807860"
  },
  {
    "text": "to metrics that we've already put in s3 and are no longer available in these clusters they just asked us to add a new",
    "start": "1807860",
    "end": "1813770"
  },
  {
    "text": "policy as an ad hoc basis and we can bring up new ad hoc clusters for their",
    "start": "1813770",
    "end": "1819010"
  },
  {
    "text": "requests this has worked reasonably well for us actually it means we can continue",
    "start": "1819010",
    "end": "1825770"
  },
  {
    "text": "to do indefinite storage in Amazon s3 it also means that we don't really have to",
    "start": "1825770",
    "end": "1833090"
  },
  {
    "text": "worry about making the wrong decisions about metric aggregation so that means",
    "start": "1833090",
    "end": "1838700"
  },
  {
    "text": "that for example about two months ago we sent an email to our users saying hey listen any metric that hasn't been",
    "start": "1838700",
    "end": "1844370"
  },
  {
    "text": "queried for for like more than two weeks we're just not going to have visible and if we lose if we if we you know didn't",
    "start": "1844370",
    "end": "1853100"
  },
  {
    "text": "notice something that you want no problem just let us know we'll get it back in there in two or three hours and we'll just keep",
    "start": "1853100",
    "end": "1858560"
  },
  {
    "text": "it there so we don't have to worry about oh and made the decision to roll metrics up in damn now you know we can never get",
    "start": "1858560",
    "end": "1865100"
  },
  {
    "text": "back that granularity it also means that we can do hi granularity for special",
    "start": "1865100",
    "end": "1870350"
  },
  {
    "text": "days and I find this really awesome so we have special days of the year Thanksgiving is one of them Christmas",
    "start": "1870350",
    "end": "1876230"
  },
  {
    "text": "Day the Oscars Super Bowl all of those days have very special traffic patterns",
    "start": "1876230",
    "end": "1882710"
  },
  {
    "text": "they're very different from you know other days in the week and most systems i've ever seen that did metric",
    "start": "1882710",
    "end": "1888980"
  },
  {
    "text": "aggregation did it sort of in a continuous way so whatever your granularity 364 days ago was you can't",
    "start": "1888980",
    "end": "1896300"
  },
  {
    "text": "have higher granularity 365 days ago but since this is all policy driven we can",
    "start": "1896300",
    "end": "1901310"
  },
  {
    "text": "do arbitrary granularity for any special day or even special time that we want its automated for its automated for",
    "start": "1901310",
    "end": "1908540"
  },
  {
    "text": "regular operations because we love the idea of applied laziness and it's not in",
    "start": "1908540",
    "end": "1914270"
  },
  {
    "text": "the critical path for visibility SLA that's really important to us right so EMR could go down and not be available",
    "start": "1914270",
    "end": "1919730"
  },
  {
    "text": "and you'll still have access to the last six hours of data within five minutes of",
    "start": "1919730",
    "end": "1925520"
  },
  {
    "text": "sending it to us the other thing that we actually hadn't considered before we",
    "start": "1925520",
    "end": "1930560"
  },
  {
    "start": "1926000",
    "end": "1985000"
  },
  {
    "text": "built this is that it helps us firewall accidental metric explosions so here's what I mean by that as I mentioned",
    "start": "1930560",
    "end": "1935930"
  },
  {
    "text": "developers can create any tag keys and values that they want for their metrics",
    "start": "1935930",
    "end": "1942280"
  },
  {
    "text": "we have had occasions when a developer mostly as a mistake decides to add a tag",
    "start": "1942280",
    "end": "1949040"
  },
  {
    "text": "key client IP tag value the IP address of a given client that you know sent the",
    "start": "1949040",
    "end": "1955010"
  },
  {
    "text": "request in there are a lot of IP addresses and suddenly you find out that",
    "start": "1955010",
    "end": "1961580"
  },
  {
    "text": "you know that you you you've gone from like let's say ten metrics to 10 million",
    "start": "1961580",
    "end": "1966770"
  },
  {
    "text": "metrics very quickly when we find these problems we can actually put in",
    "start": "1966770",
    "end": "1971780"
  },
  {
    "text": "additional policies in our EMR system to make sure that those tags get cold out",
    "start": "1971780",
    "end": "1978530"
  },
  {
    "text": "of the system before they go into the historical clusters so roll this has been a huge efficiency game how huge was",
    "start": "1978530",
    "end": "1986630"
  },
  {
    "start": "1985000",
    "end": "2081000"
  },
  {
    "text": "it Roy cobran I thought you're going to ask that question so here's what I'm talking about when I",
    "start": "1986630",
    "end": "1994900"
  },
  {
    "text": "talk about huge this is the sizing for our clusters and for each cluster i'm",
    "start": "1994900",
    "end": "2000660"
  },
  {
    "text": "giving you the time horizon so how long it keeps data for the number of instances in the cluster these are all",
    "start": "2000660",
    "end": "2007200"
  },
  {
    "text": "m24 excels that's a size and they copulated instances per hour and then",
    "start": "2007200",
    "end": "2013140"
  },
  {
    "text": "the percent reduction so our six-hour cluster which doesn't use EMR and is therefore the reference point for this",
    "start": "2013140",
    "end": "2018510"
  },
  {
    "text": "has when I looked at the Edit but three weeks ago 600 m24 excels which you know",
    "start": "2018510",
    "end": "2025980"
  },
  {
    "text": "600 divided by 6 is is not hard math it's a hundred instances per hour it's",
    "start": "2025980",
    "end": "2033480"
  },
  {
    "text": "expensive our four-day cluster has 512",
    "start": "2033480",
    "end": "2039330"
  },
  {
    "text": "instances which if you do the math well that's interesting amazon reformatted my",
    "start": "2039330",
    "end": "2044450"
  },
  {
    "text": "my slide to drop decimals i'm a big fan of precision as you might have noticed",
    "start": "2044450",
    "end": "2049620"
  },
  {
    "text": "so it's five point three three instances per hour and I demand to say it's five point three three instances per hour and",
    "start": "2049620",
    "end": "2056040"
  },
  {
    "text": "it's about a ninety-five percent reduction it's actually 94.7 percent reduction but you know let's not quibble",
    "start": "2056040",
    "end": "2062149"
  },
  {
    "text": "our 18-day cluster has 180 instances which turn out to be zero instances per",
    "start": "2063260",
    "end": "2069870"
  },
  {
    "text": "hour",
    "start": "2069870",
    "end": "2072020"
  },
  {
    "text": "it's it's actually I believe 99 anyway our history so I will tell you that I",
    "start": "2076810",
    "end": "2085429"
  },
  {
    "text": "know for a fact that our history cluster which has 12 instances in it translates to 99.99 six percent reduction in size",
    "start": "2085429",
    "end": "2093888"
  },
  {
    "text": "per hour compared to our hourly to our six-hour cluster so where do we go from",
    "start": "2093889",
    "end": "2102650"
  },
  {
    "text": "here well for one thing we know that because we're big fans of applied",
    "start": "2102650",
    "end": "2108920"
  },
  {
    "text": "laziness we want to stop dealing with a special requests that our customers send us we get about three or five of those per per month and they're not that big",
    "start": "2108920",
    "end": "2115640"
  },
  {
    "text": "of a deal but you know we prefer to not to deal with them so we're going to build a self-service model to do with",
    "start": "2115640",
    "end": "2120770"
  },
  {
    "text": "that the other thing that we want to look at is some different instance types these didn't really exist to something",
    "start": "2120770",
    "end": "2128270"
  },
  {
    "text": "well they didn't exist quite as easily back when we started looking at this so",
    "start": "2128270",
    "end": "2134180"
  },
  {
    "text": "CR 18 X cells have 240 gigs of memory and they're like twice the cost or so of",
    "start": "2134180",
    "end": "2139760"
  },
  {
    "text": "em two fours so this could end up being like a 2x reduction in cost high 14",
    "start": "2139760",
    "end": "2146119"
  },
  {
    "text": "excels have two terabytes of SSD storage which is super super attractive to us so",
    "start": "2146119",
    "end": "2151580"
  },
  {
    "text": "we're starting to look at that as well but fundamentally also we know that well people ask for a lot ask for metrics a",
    "start": "2151580",
    "end": "2156859"
  },
  {
    "text": "lot they're not actually asking for a lot of metrics so there are metrics that are asked for much more often than others and building a system where the",
    "start": "2156859",
    "end": "2163670"
  },
  {
    "text": "metrics that are not asked for very often are on slower storage will be probably allows the next quantum shift",
    "start": "2163670",
    "end": "2170270"
  },
  {
    "text": "in the system so metrics growth I showed",
    "start": "2170270",
    "end": "2175670"
  },
  {
    "start": "2172000",
    "end": "2267000"
  },
  {
    "text": "you how things were when we started working in the system and you know we had to 2.5 10 and this is where it stops",
    "start": "2175670",
    "end": "2184250"
  },
  {
    "text": "okay so we got to 15 and then things sort of went a little crazy so by",
    "start": "2184250",
    "end": "2192740"
  },
  {
    "text": "January of this year we're hitting about 90 million metrics per minute by May we",
    "start": "2192740",
    "end": "2198770"
  },
  {
    "text": "hit about 212 we hit 728 million metrics back in October a month ago",
    "start": "2198770",
    "end": "2206980"
  },
  {
    "text": "our current predictions yeah so that's 1200 or 1.2 billion metrics that we",
    "start": "2206980",
    "end": "2214090"
  },
  {
    "text": "expect to hit by January and at this point we know that our system will be",
    "start": "2214090",
    "end": "2219820"
  },
  {
    "text": "able to actually accommodate that and not in fact bankrupt us so speaking of",
    "start": "2219820",
    "end": "2225010"
  },
  {
    "text": "bankrupting us and costs this is actually a graph of the cost per metric",
    "start": "2225010",
    "end": "2232060"
  },
  {
    "text": "per day in our old system it don't worry about the scale on the left it's worth",
    "start": "2232060",
    "end": "2238090"
  },
  {
    "text": "noting before we talk about that actually that our priorities are speed of innovation first availability in them",
    "start": "2238090",
    "end": "2244240"
  },
  {
    "text": "cost when we built the new system we did not intend to come up with the new system that was going to be cheaper we",
    "start": "2244240",
    "end": "2249670"
  },
  {
    "text": "wanted to focus on migrating our telemetry platform to the cloud we wanted to make sure that it could",
    "start": "2249670",
    "end": "2255400"
  },
  {
    "text": "support a whole bunch of extra features like being able to show us per zone traffic and we wanted it to be able to",
    "start": "2255400",
    "end": "2261040"
  },
  {
    "text": "scale to huge huge levels so given that",
    "start": "2261040",
    "end": "2266520"
  },
  {
    "text": "the green line is the cost per metric per day on the new system we actually managed to hit about a ninety percent",
    "start": "2266790",
    "end": "2273910"
  },
  {
    "start": "2267000",
    "end": "2320000"
  },
  {
    "text": "reduction in cost per metric per day in the new system versus the old system while scaling higher while giving you",
    "start": "2273910",
    "end": "2280720"
  },
  {
    "text": "more features well being cloud native so really this is the story of how Netflix",
    "start": "2280720",
    "end": "2289000"
  },
  {
    "text": "use EMR an amazon product to not pay an additional 16 million or so dollars per",
    "start": "2289000",
    "end": "2295600"
  },
  {
    "text": "month to amazon at the same time as growing in ridiculously huge monitoring",
    "start": "2295600",
    "end": "2301000"
  },
  {
    "text": "system that serves our needs on a day by day and second-by-second basis that's",
    "start": "2301000",
    "end": "2307390"
  },
  {
    "text": "all I've got you can ask questions or you can go get some beer what would you like",
    "start": "2307390",
    "end": "2313020"
  }
]