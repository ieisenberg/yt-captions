[
  {
    "start": "0",
    "end": "30000"
  },
  {
    "text": "all right good morning for uh everybody that showed up at 11 o'clock and stuck around I really",
    "start": "2399",
    "end": "7960"
  },
  {
    "text": "appreciate it um this morning uh I'm going to talk to you a little bit",
    "start": "7960",
    "end": "14400"
  },
  {
    "text": "about uh the team at edmonds.com that uh really took the first steps in trying to",
    "start": "14400",
    "end": "20199"
  },
  {
    "text": "get the website uh running out of its on- premise Data Center and into AWS",
    "start": "20199",
    "end": "27640"
  },
  {
    "text": "start by sharing something you probably already know that moving isn't easy I uh I actually recently made a",
    "start": "30080",
    "end": "37160"
  },
  {
    "text": "move on my uh move on my own and uh I I'd been in my home for about maybe two",
    "start": "37160",
    "end": "42800"
  },
  {
    "text": "and a half or three years and I'd spent a lot of time really crafting the the home theater center that I had in my",
    "start": "42800",
    "end": "49160"
  },
  {
    "text": "living room I knew that thing really really well I knew it inside and out the way every single cable was laid down uh",
    "start": "49160",
    "end": "55800"
  },
  {
    "text": "from the back of the receiver to each of the floating speakers and the thing that I dreaded most in making this move was",
    "start": "55800",
    "end": "63079"
  },
  {
    "text": "trying to figure out how to make that thing that I had really put a lot of time in to sound and look just as good",
    "start": "63079",
    "end": "70400"
  },
  {
    "text": "in my new home and that's what moving is all about right moving is about taking something",
    "start": "70400",
    "end": "76320"
  },
  {
    "start": "73000",
    "end": "127000"
  },
  {
    "text": "that you're intimately familiar with and trying to figure out how to make it work somewhere else that you're really kind",
    "start": "76320",
    "end": "81759"
  },
  {
    "text": "of new to and you're starting to feel out and those challenges are really no different than what the team at Edmonds",
    "start": "81759",
    "end": "87720"
  },
  {
    "text": "ended up facing when trying to figure out how to make the website run on AWS and so that's what today's story is",
    "start": "87720",
    "end": "95759"
  },
  {
    "text": "about uh today I'm going to cover a little bit about the edmonds.com architecture uh it's important to",
    "start": "95759",
    "end": "101600"
  },
  {
    "text": "understand the architecture so that you really have a a good context for what it took to to pick it up and and to move it",
    "start": "101600",
    "end": "108880"
  },
  {
    "text": "into AWS I'll share a little bit about about the use case why make the jump to",
    "start": "108880",
    "end": "114600"
  },
  {
    "text": "AWS we'll talk about the approach and the challenges that the team encountered along the way",
    "start": "114600",
    "end": "120600"
  },
  {
    "text": "and I'll give you a little bit of a preview into what's next for edmonds.com on",
    "start": "120600",
    "end": "125840"
  },
  {
    "text": "AWS who am I to tell this tale my name is Johan Martin I have about 15 years of",
    "start": "126560",
    "end": "132599"
  },
  {
    "start": "127000",
    "end": "163000"
  },
  {
    "text": "experience in the Doom space I spent the last 10 years with a very specific focus on Java",
    "start": "132599",
    "end": "138400"
  },
  {
    "text": "architectures uh I'm a highly opinionated individual so if there's anything that I say today that offends",
    "start": "138400",
    "end": "144400"
  },
  {
    "text": "you or you want to come and question me or talk about it further afterwards you can find me uh on Twitter Tech",
    "start": "144400",
    "end": "150800"
  },
  {
    "text": "Buddha uh I most recently headed up the team at uh edmonds.com that actually",
    "start": "150800",
    "end": "157480"
  },
  {
    "text": "brought it to life on AWS uh how many people are actually",
    "start": "157480",
    "end": "164480"
  },
  {
    "start": "163000",
    "end": "235000"
  },
  {
    "text": "familiar with edmonds.com awesome cool well for those of you that",
    "start": "164480",
    "end": "170519"
  },
  {
    "text": "aren't edmunds.com is the online Automotive presence uh new vehicle research uh used",
    "start": "170519",
    "end": "178159"
  },
  {
    "text": "vehicle research whether you're looking to connect with a dealer uh or you're a hobbyist and and you're like myself",
    "start": "178159",
    "end": "184440"
  },
  {
    "text": "you're waiting to hear what Subaru is going to announce next week at the LA a show about the Next Generation WRX",
    "start": "184440",
    "end": "189959"
  },
  {
    "text": "you're going to find all of that on edmonds.com uh Edmonds originally started as a print",
    "start": "189959",
    "end": "195200"
  },
  {
    "text": "magazine in in 1966 and their first online presence was",
    "start": "195200",
    "end": "200480"
  },
  {
    "text": "actually as a gopher site in 1994 any old school Gophers no",
    "start": "200480",
    "end": "206640"
  },
  {
    "text": "awesome uh the uh the first website actually made its appearance in 1996 the",
    "start": "206640",
    "end": "212640"
  },
  {
    "text": "site averages somewhere between 600,000 and 650,000 unique visitors each day uh",
    "start": "212640",
    "end": "218879"
  },
  {
    "text": "there are roughly 550 employees uh working for edmonds.com right now and they're based out of Sunny Santa Monica",
    "start": "218879",
    "end": "226400"
  },
  {
    "text": "California so let's talk a little bit about Edmund's architecture and its",
    "start": "229159",
    "end": "234959"
  },
  {
    "text": "environment when you hit edmonds.com you're interacting with one or more of",
    "start": "234959",
    "end": "240319"
  },
  {
    "start": "235000",
    "end": "314000"
  },
  {
    "text": "30 40 different web applications that are spread across roughly 300 hosts uh this is primarily a Java shop",
    "start": "240319",
    "end": "248159"
  },
  {
    "text": "uh it is built around tomcat and solar oraco coherence mongodb and uh there are",
    "start": "248159",
    "end": "255319"
  },
  {
    "text": "still a few web apps that are hanging around that are interacting with an Oracle database of some",
    "start": "255319",
    "end": "261120"
  },
  {
    "text": "kind we use a lot of different tools uh to build and support uh the website uh",
    "start": "261120",
    "end": "267199"
  },
  {
    "text": "I've already mentioned a few of them uh very big fans of of Chef uh there was really no way to to build and manage",
    "start": "267199",
    "end": "274080"
  },
  {
    "text": "what it is that we did without some sort of configuration management solution uh in order to build and mon uh",
    "start": "274080",
    "end": "280080"
  },
  {
    "text": "sorry in order to Monitor and keep tabs on what's happening with the website itself there's a fair heavy use of",
    "start": "280080",
    "end": "285720"
  },
  {
    "text": "Splunk and tools like app Dynamics uh J meter uh we're very big",
    "start": "285720",
    "end": "291160"
  },
  {
    "text": "fans of J meter and selenium in order to uh uh performance test and and kind of get a feel for how things are are",
    "start": "291160",
    "end": "297880"
  },
  {
    "text": "actually doing build to build uh and there was a recent shift uh from a traditional Oracle data warehouse uh",
    "start": "297880",
    "end": "305360"
  },
  {
    "text": "to a a new Hadoop Service uh lots of different lots of different Tooling in",
    "start": "305360",
    "end": "312240"
  },
  {
    "text": "there edmmond is a continuous delivery environment now if you're not familiar",
    "start": "313919",
    "end": "319800"
  },
  {
    "start": "314000",
    "end": "443000"
  },
  {
    "text": "with the notion of continuous delivery let me see if I can summarize it as simple as this continuous delivery is",
    "start": "319800",
    "end": "325960"
  },
  {
    "text": "the idea that a developer is developing locally on their workstation they make a commit into some sort of source control",
    "start": "325960",
    "end": "332120"
  },
  {
    "text": "repository uh some sort of scraper process is watching check-ins and will",
    "start": "332120",
    "end": "337360"
  },
  {
    "text": "then pull all of that code together automate a build attempt to do some sort",
    "start": "337360",
    "end": "342560"
  },
  {
    "text": "of uh testing whether that's unit testing or performance testing and based off of the results of that test it will",
    "start": "342560",
    "end": "349039"
  },
  {
    "text": "push your build artifact into an integration environment into a QA environment and ideally all the way out",
    "start": "349039",
    "end": "355560"
  },
  {
    "text": "to a production environment uh Edmonds has an incredibly Advanced deployment pipeline uh this is",
    "start": "355560",
    "end": "363080"
  },
  {
    "text": "built through a combination of tools uh such as perforce Maven selenium",
    "start": "363080",
    "end": "369440"
  },
  {
    "text": "Jenkins um uh Chef is is playing a very big role in there uh and there are a couple of homegrown tools that go by the",
    "start": "369440",
    "end": "375960"
  },
  {
    "text": "name of Kingpin and Ronin that really kind of bind everything together to keep the bits moving through the",
    "start": "375960",
    "end": "382199"
  },
  {
    "text": "pipeline nearly every single artifact that is used to run the website each day",
    "start": "382199",
    "end": "388759"
  },
  {
    "text": "makes its way through this pipeline in some way and those that aren't are on a fair short list to get tackled uh in in",
    "start": "388759",
    "end": "395160"
  },
  {
    "text": "the near future um maybe one thing to to point out about uh some of the",
    "start": "395160",
    "end": "401599"
  },
  {
    "text": "advantages of this pipeline uh over over a period of time uh Edmund's release",
    "start": "401599",
    "end": "408280"
  },
  {
    "text": "cycle has evolved as this pipeline itself has evolved uh we used to do uh",
    "start": "408280",
    "end": "414520"
  },
  {
    "text": "scheduled um uh book of business releases every single month and as the",
    "start": "414520",
    "end": "420440"
  },
  {
    "text": "pipeline developed we're able to shrink that down to three weeks and now it's down to one week and I have no doubt",
    "start": "420440",
    "end": "427199"
  },
  {
    "text": "that sometime in the very near future it's it's going to be moved down to days so uh the the deployment pipeline plays",
    "start": "427199",
    "end": "433840"
  },
  {
    "text": "a very big part in how services are moved from development up into",
    "start": "433840",
    "end": "440080"
  },
  {
    "text": "production so let's talk a little bit about the business case for uh tackling",
    "start": "442720",
    "end": "448560"
  },
  {
    "start": "443000",
    "end": "530000"
  },
  {
    "text": "edmonds.com on WS it's it's a very simple one it was Disaster",
    "start": "448560",
    "end": "454680"
  },
  {
    "text": "Recovery up until this point in time uh previous attempts to try to",
    "start": "454680",
    "end": "460080"
  },
  {
    "text": "build a disaster recovery site for Edmonds encountered some sort of issue and they they were generally related to",
    "start": "460080",
    "end": "465800"
  },
  {
    "text": "the cost of of attempting to deliver that um uh we would get we would get",
    "start": "465800",
    "end": "472080"
  },
  {
    "text": "partway through the effort and then have to stop due to the cost that that we were incurring in trying to make it work",
    "start": "472080",
    "end": "478720"
  },
  {
    "text": "and so AWS provided a fantastic opportunity to do it uh I don't want to",
    "start": "478720",
    "end": "484520"
  },
  {
    "text": "say on the cheap um but but do it in a more cost effective manner that that was very easy to to sell to the executive",
    "start": "484520",
    "end": "492800"
  },
  {
    "text": "team um I have to imagine uh that you are a similar frame of mind as myself if",
    "start": "492800",
    "end": "499280"
  },
  {
    "text": "you are here at AWS reinvent uh when I say that uh if if you",
    "start": "499280",
    "end": "504840"
  },
  {
    "text": "or your business are are not thinking about how to operate in a public Cloud these days",
    "start": "504840",
    "end": "510039"
  },
  {
    "text": "that's a very dangerous uh that's a very dangerous thing for you to be avoiding",
    "start": "510039",
    "end": "516320"
  },
  {
    "text": "um and so Edmonds Edmonds was kind of no different uh the the the idea certainly",
    "start": "516320",
    "end": "522120"
  },
  {
    "text": "started as a a disaster recovery notion but quickly it started to evolve into something else and we'll cover that a",
    "start": "522120",
    "end": "527839"
  },
  {
    "text": "little bit later up until this point there really hadn't been any attempt to get",
    "start": "527839",
    "end": "534040"
  },
  {
    "start": "530000",
    "end": "610000"
  },
  {
    "text": "edmonds.com to run on AWS Edmonds uh previously ran a separate",
    "start": "534040",
    "end": "539800"
  },
  {
    "text": "property called inside line which was really kind of a an auto Enthusiast website where you could go and get the",
    "start": "539800",
    "end": "545440"
  },
  {
    "text": "latest Automotive news uh nice high quality photos it was it was really for the auto geek and it was typically used",
    "start": "545440",
    "end": "554240"
  },
  {
    "text": "as a property for us to experiment with uh new different types of technology and",
    "start": "554240",
    "end": "561560"
  },
  {
    "text": "there happened to be a a particular need to take the inside line property offline",
    "start": "561560",
    "end": "566720"
  },
  {
    "text": "for a couple of hours so that some sort of maintenance the infrastructure that it ran on could be could be",
    "start": "566720",
    "end": "572440"
  },
  {
    "text": "completed and the team that was supporting insid line didn't want to incur this outage and so what they",
    "start": "572440",
    "end": "579519"
  },
  {
    "text": "decided to do was was try to get the site to run in AWS and they did this remarkably well",
    "start": "579519",
    "end": "586360"
  },
  {
    "text": "they did this with less infrastructure than what was being run in the on- premise Data Center and they got better",
    "start": "586360",
    "end": "592640"
  },
  {
    "text": "response times to the website so that was kind of an eye-opening experiment",
    "start": "592640",
    "end": "598600"
  },
  {
    "text": "and I think I think it ended up fueling the interest in attempting to get edmonds.com itself to really",
    "start": "598600",
    "end": "607480"
  },
  {
    "start": "610000",
    "end": "687000"
  },
  {
    "text": "run so let me tell you a little bit about the approach because trying to",
    "start": "610240",
    "end": "616000"
  },
  {
    "text": "figure out how to take 30 plus web applications and roughly 300",
    "start": "616000",
    "end": "622160"
  },
  {
    "text": "servers and make those run in somebody else's data center was really",
    "start": "622160",
    "end": "627959"
  },
  {
    "text": "tough um like I said moving isn't easy how do you",
    "start": "627959",
    "end": "633360"
  },
  {
    "text": "take that thing that you're intimately familiar with and just make it work somewhere else the answer is you",
    "start": "633360",
    "end": "639639"
  },
  {
    "text": "forklift it you just pick it up and you leave it exactly the way that it is you",
    "start": "639639",
    "end": "646480"
  },
  {
    "text": "change it the minimal amount that you have to and you try and make it run exactly the way that you know it and so",
    "start": "646480",
    "end": "654000"
  },
  {
    "text": "that's what we did now look AWS offers a whole lot of flexibility there there are a vast",
    "start": "654000",
    "end": "661079"
  },
  {
    "text": "number of services that you can begin trying to uh trying to rethink your",
    "start": "661079",
    "end": "666480"
  },
  {
    "text": "architecture around um but one of the things that we realized was we didn't",
    "start": "666480",
    "end": "672000"
  },
  {
    "text": "want to bite off too much at once we really wanted this project to be successful and the idea of trying to",
    "start": "672000",
    "end": "679120"
  },
  {
    "text": "refactor an entire website to make it run in somebody else's data center was",
    "start": "679120",
    "end": "684240"
  },
  {
    "text": "just something that we didn't want to tackle right away and so we set we set some very",
    "start": "684240",
    "end": "689880"
  },
  {
    "start": "687000",
    "end": "780000"
  },
  {
    "text": "minimal objectives the first was we wanted to minimize the change to the services and the architecture we wanted",
    "start": "689880",
    "end": "696839"
  },
  {
    "text": "to be certain that the people that were already supporting the website day over day were familiar with what it was that",
    "start": "696839",
    "end": "704160"
  },
  {
    "text": "would be handed over to them at the end of the project we really wanted to leverage the existing tool chain",
    "start": "704160",
    "end": "710320"
  },
  {
    "text": "incredibly important for us that that we were minimizing the the way that people would be supporting it uh when the",
    "start": "710320",
    "end": "717240"
  },
  {
    "text": "project was completed we needed to manage the cost we we actually had a a fairly",
    "start": "717240",
    "end": "724800"
  },
  {
    "text": "decent budget for this project uh but it wasn't unregulated we had to demonstrate",
    "start": "724800",
    "end": "730639"
  },
  {
    "text": "why why the expenses that that we were asking for were actually uh uh uh being",
    "start": "730639",
    "end": "737760"
  },
  {
    "text": "requested um this had Us ending up adopting uh what we called the 1% versus",
    "start": "737760",
    "end": "744000"
  },
  {
    "text": "100% model and the basic idea was that we wanted to run with the minimal amount",
    "start": "744000",
    "end": "750320"
  },
  {
    "text": "of infrastructure necessary for as long as we could in order to prove the functionality of the site and once we",
    "start": "750320",
    "end": "757600"
  },
  {
    "text": "felt like we had a good handle on that then we could burst up to the 100% profile necessary to actually support",
    "start": "757600",
    "end": "764079"
  },
  {
    "text": "real production traffic that ended up paying off in in big ways um we we kept",
    "start": "764079",
    "end": "769959"
  },
  {
    "text": "the cost footprint very low and when we were finally ready to start incurring a larger expense to see real users on it",
    "start": "769959",
    "end": "777040"
  },
  {
    "text": "that's when we began to pay for it one of the other things that this this",
    "start": "777040",
    "end": "783560"
  },
  {
    "start": "780000",
    "end": "897000"
  },
  {
    "text": "team recognized was we were really kind of taking those",
    "start": "783560",
    "end": "788680"
  },
  {
    "text": "first steps that we were expecting or that we were hoping rather that uh the organization would end up adopting later",
    "start": "788680",
    "end": "795920"
  },
  {
    "text": "and so we wanted to provide a a good set of initial design patterns that could be followed later we we really wanted to be",
    "start": "795920",
    "end": "802480"
  },
  {
    "text": "certain that anything that we were anything that we were changing about the architecture could easily be refactored",
    "start": "802480",
    "end": "808600"
  },
  {
    "text": "or placed if if it just didn't end up being a good fit in the long-term",
    "start": "808600",
    "end": "814440"
  },
  {
    "text": "design so with those objectives in mind we started our",
    "start": "814440",
    "end": "821199"
  },
  {
    "text": "work um like I said moving isn't easy and without a doubt uh this this team",
    "start": "823160",
    "end": "831240"
  },
  {
    "text": "had had some issues in trying to take this thing that we were intimately familiar with and making it work in AWS",
    "start": "831240",
    "end": "838320"
  },
  {
    "text": "so here here we go with those issues AWS cloud formation if you're not",
    "start": "838320",
    "end": "846639"
  },
  {
    "text": "familiar with it is essentially the idea that you define your environment in a Json stack file and based off of that",
    "start": "846639",
    "end": "853920"
  },
  {
    "text": "stack file your resources are created within AWS uh we viewed cloud formation as",
    "start": "853920",
    "end": "861720"
  },
  {
    "text": "necessary from day one and the reason for that was we had a we had a real fam familiarity with the idea of Stack files",
    "start": "861720",
    "end": "868720"
  },
  {
    "text": "already internally we're big cloud stack users and Cloud stack also has the notion of a",
    "start": "868720",
    "end": "873959"
  },
  {
    "text": "of a Json stack file uh there are a couple of differences um but overall the",
    "start": "873959",
    "end": "880560"
  },
  {
    "text": "concept was incredibly familiar to us and we really saw the advantage of of defining the environment in in files as",
    "start": "880560",
    "end": "888320"
  },
  {
    "text": "opposed to manually creating resources uh over and over either through the command line or through the AWS",
    "start": "888320",
    "end": "896639"
  },
  {
    "text": "console so this is an example of a Cloud stack Json uh it is structurally different",
    "start": "896759",
    "end": "903720"
  },
  {
    "start": "897000",
    "end": "1075000"
  },
  {
    "text": "than the cloud formation stack um particularly in that uh you are naming",
    "start": "903720",
    "end": "909759"
  },
  {
    "text": "uh individual host resources um as opposed to Cloud uh",
    "start": "909759",
    "end": "915440"
  },
  {
    "text": "cloud formation Json where you are defining services or or resources uh",
    "start": "915440",
    "end": "921519"
  },
  {
    "text": "groups of resources uh in autoscale uh definitions",
    "start": "921519",
    "end": "926880"
  },
  {
    "text": "um one thing i' I'd really like to point out I'm hoping you can read it is uh the service def definition here um which is",
    "start": "926880",
    "end": "935160"
  },
  {
    "text": "uh essentially the Declaration of the size of the instance that that we would like to have provisioned in in",
    "start": "935160",
    "end": "941040"
  },
  {
    "text": "cloudstack um you'll notice that uh the service size name is is actually uh U",
    "start": "941040",
    "end": "947519"
  },
  {
    "text": "matched against an AWS instant size offering uh the reason for that was uh",
    "start": "947519",
    "end": "953279"
  },
  {
    "text": "after a lot of discussion with both the off- premise and the on on premise uh Cloud teams we decided that",
    "start": "953279",
    "end": "959480"
  },
  {
    "text": "if we had some sort of par in the in the instance definitions it would be much",
    "start": "959480",
    "end": "964519"
  },
  {
    "text": "easier later for for everybody to have a clear picture of what exactly was being",
    "start": "964519",
    "end": "969639"
  },
  {
    "text": "provisioned and where uh the maybe the other thing to point out is that there are no network",
    "start": "969639",
    "end": "977199"
  },
  {
    "text": "resource definitions in these in these Cloud sack Json uh whereas in the cloud",
    "start": "977199",
    "end": "982519"
  },
  {
    "text": "formation Json we can actually do Declaration of network resources uh we could configure",
    "start": "982519",
    "end": "988319"
  },
  {
    "text": "the VPC uh we can uh add or uh we can add members to um elbs uh that actually came",
    "start": "988319",
    "end": "996800"
  },
  {
    "text": "in very handy for us uh so you can see that there is",
    "start": "996800",
    "end": "1002680"
  },
  {
    "text": "actually a lot more content in a cloud formation Json and this was actually something that became somewhat",
    "start": "1002680",
    "end": "1009000"
  },
  {
    "text": "problematic for us because at first we were manually editing these Json and um",
    "start": "1009000",
    "end": "1016920"
  },
  {
    "text": "you can tell that that there is quite a bit of information uh uh to try to get right in these Json and and a linter",
    "start": "1016920",
    "end": "1022880"
  },
  {
    "text": "will only help you with uh syntax errors so much and so we became intimately",
    "start": "1022880",
    "end": "1028839"
  },
  {
    "text": "familiar with the cloud formation validate tool which was a CLI uh tool that I think is now a part of the AWS",
    "start": "1028839",
    "end": "1035558"
  },
  {
    "text": "CLI Suite um to help validate that we were that we were getting the syntax and the structure of these documents right",
    "start": "1035559",
    "end": "1042640"
  },
  {
    "text": "um if I could offer one one suggestion to anybody if if you're still manually editing uh cloud from Json you should",
    "start": "1042640",
    "end": "1050400"
  },
  {
    "text": "really consider building a tool to help generate these for you in some way um",
    "start": "1050400",
    "end": "1055480"
  },
  {
    "text": "they can be incredibly problematic even though um some of the newer uh uh some of the more modern text editors like",
    "start": "1055480",
    "end": "1061720"
  },
  {
    "text": "Sublime Text can help you do modern or uh multi- select and whatnot to make it a little easier but if you if you have",
    "start": "1061720",
    "end": "1068280"
  },
  {
    "text": "the the capability to do so build a tool for",
    "start": "1068280",
    "end": "1072840"
  },
  {
    "text": "it NFS is still a central part of the Edmonds",
    "start": "1074919",
    "end": "1080360"
  },
  {
    "start": "1075000",
    "end": "1468000"
  },
  {
    "text": "architecture um every single web application that runs on the website has a dependency on a on a single NFS share",
    "start": "1080360",
    "end": "1088360"
  },
  {
    "text": "where metadata related to the content management solution uh pulls info up",
    "start": "1088360",
    "end": "1094159"
  },
  {
    "text": "that that the web apps used to determine uh what sort of content to render and display",
    "start": "1094159",
    "end": "1100520"
  },
  {
    "text": "out um we couldn't really pick up the net apppp filers and move them into",
    "start": "1100919",
    "end": "1107400"
  },
  {
    "text": "AWS um and so we went to the development team",
    "start": "1107400",
    "end": "1113600"
  },
  {
    "text": "that built this CMS framework for for Edmonds and we asked them what it would take",
    "start": "1113600",
    "end": "1119360"
  },
  {
    "text": "to to uh rewrite the framework in a manner that the NFS volume wouldn't be",
    "start": "1119360",
    "end": "1125720"
  },
  {
    "text": "required and instead we could just share uh share the content in a different manner we were particularly interested",
    "start": "1125720",
    "end": "1132799"
  },
  {
    "text": "in trying to make it uh servable out of S3 given that it's relatively static content um",
    "start": "1132799",
    "end": "1139640"
  },
  {
    "text": "but given that there were so many touch points so many artifacts that would end up having to be rebuilt in order for",
    "start": "1139640",
    "end": "1146640"
  },
  {
    "text": "that to work we really deemed it a just Overkill and instead what we opted for",
    "start": "1146640",
    "end": "1153000"
  },
  {
    "text": "was um a very very simple solution uh we provisioned up a rather large ec2",
    "start": "1153000",
    "end": "1160600"
  },
  {
    "text": "instance uh attached attached some storage to it and then exported that volume out for the web applications to",
    "start": "1160600",
    "end": "1167400"
  },
  {
    "text": "share um I wouldn't recommend this quite honestly uh it is a single point of failure in",
    "start": "1167400",
    "end": "1173960"
  },
  {
    "text": "the architecture today and we'll absolutely require a refactoring of the web applications in order to make it",
    "start": "1173960",
    "end": "1180120"
  },
  {
    "text": "more resilient for the long term uh surprisingly uh performance wasn't an",
    "start": "1180120",
    "end": "1186039"
  },
  {
    "text": "issue here uh one of the things that we were worried about uh init in the initial testing was that uh the pages",
    "start": "1186039",
    "end": "1193320"
  },
  {
    "text": "would be rendering slowly because of the time that it would take to read off a volume that was that was essentially",
    "start": "1193320",
    "end": "1198360"
  },
  {
    "text": "being hammered by uh 300 hosts to a single NFS to a single ec2 uh server um",
    "start": "1198360",
    "end": "1205360"
  },
  {
    "text": "but you know thankfully that that really wasn't a problem for",
    "start": "1205360",
    "end": "1210159"
  },
  {
    "text": "us perhaps the the biggest challenge of all was how we approached load",
    "start": "1212600",
    "end": "1219440"
  },
  {
    "text": "balancing in the on premise data center the the physical load balancers played a",
    "start": "1219440",
    "end": "1225559"
  },
  {
    "text": "very big part in in application functionality uh there were load balancers at both the",
    "start": "1225559",
    "end": "1230960"
  },
  {
    "text": "web and the application tier and Edmonds had developed a a custom",
    "start": "1230960",
    "end": "1238240"
  },
  {
    "text": "tool which you can actually find on GitHub it's been open sourced called the etm the Edmonds traffic manager and the",
    "start": "1238240",
    "end": "1245159"
  },
  {
    "text": "role of the etm is essentially to act as a service registration for the web",
    "start": "1245159",
    "end": "1250640"
  },
  {
    "text": "applications so very simply uh a web application can come online uh it can notify the etm that it",
    "start": "1250640",
    "end": "1259240"
  },
  {
    "text": "is available to serve requests for a particular URL path and the etm says",
    "start": "1259240",
    "end": "1266240"
  },
  {
    "text": "great you are this web application there are others like you over here in this",
    "start": "1266240",
    "end": "1271679"
  },
  {
    "text": "load balancer pool go join that pool or if there is no web application",
    "start": "1271679",
    "end": "1278600"
  },
  {
    "text": "yet that is claiming that particular URL it will create the pool in the load balancer and as members come along they",
    "start": "1278600",
    "end": "1285080"
  },
  {
    "text": "can join that pool it will then autogenerate an Apache HTTP",
    "start": "1285080",
    "end": "1290600"
  },
  {
    "text": "configuration file that is that is pushed to the proxy web tier which knows",
    "start": "1290600",
    "end": "1296760"
  },
  {
    "text": "directly which knows which uh which pool in the application load balancer to then",
    "start": "1296760",
    "end": "1303240"
  },
  {
    "text": "send traffic to uh etm is it was an indispensable tool at Edmonds and",
    "start": "1303240",
    "end": "1310880"
  },
  {
    "text": "uh at the time that that this project was underway it only interacted with",
    "start": "1310880",
    "end": "1316840"
  },
  {
    "text": "Apache web server and and the physical load balancers in the on- premise data center so we needed to think about a",
    "start": "1316840",
    "end": "1324200"
  },
  {
    "text": "completely different solution to run an AWS and we settled very quickly on the",
    "start": "1324200",
    "end": "1331080"
  },
  {
    "text": "idea of adopting ha proxy to replace the the URL redirection that we had in the",
    "start": "1331080",
    "end": "1337640"
  },
  {
    "text": "application load balancer uh and EBS in front of those in order to help distribute traffic to the uh to the ha",
    "start": "1337640",
    "end": "1346159"
  },
  {
    "text": "proxy instances uh the problem we had though was that we",
    "start": "1346159",
    "end": "1351480"
  },
  {
    "text": "needed a way to replace etms functionality um how do we how do we",
    "start": "1351480",
    "end": "1356919"
  },
  {
    "text": "allow auto registration of the applications and and and understand how traffic is going to end up being",
    "start": "1356919",
    "end": "1363279"
  },
  {
    "text": "directed well we got pretty crafty and one of the members of the team actually spent a weekend writing a replacement",
    "start": "1363279",
    "end": "1370799"
  },
  {
    "text": "for this service into a ruby script and then we turned that into a chef cookbook",
    "start": "1370799",
    "end": "1376679"
  },
  {
    "text": "which where we could Leverage The the use of Chef roles to essentially build",
    "start": "1376679",
    "end": "1381799"
  },
  {
    "text": "this functionality that etm provided us this this worked remarkably well uh it",
    "start": "1381799",
    "end": "1387799"
  },
  {
    "text": "ended up working so well that the etm team at edins ended up uh writing",
    "start": "1387799",
    "end": "1394640"
  },
  {
    "text": "extensions so that it could generate these ha proxy configurations for us um",
    "start": "1394640",
    "end": "1401000"
  },
  {
    "text": "again remember we had this idea that anything that we were putting in or changing could easily be refactored or",
    "start": "1401000",
    "end": "1407720"
  },
  {
    "text": "replaced if it was determined that it wasn't good for the long-term fit and",
    "start": "1407720",
    "end": "1413159"
  },
  {
    "text": "this was this was a fair fair clear use case for for that type of",
    "start": "1413159",
    "end": "1418240"
  },
  {
    "text": "idea um the connection uh that we had with AWS was through a direct connect from",
    "start": "1418240",
    "end": "1425240"
  },
  {
    "text": "the on- premise data center up into US East and uh at first we were a little",
    "start": "1425240",
    "end": "1432640"
  },
  {
    "text": "confused when we started to do some performance testing um why we were seeing these huge outbound traffic",
    "start": "1432640",
    "end": "1439159"
  },
  {
    "text": "spikes from the data center and the reason for it was actually really simple it was it was an oversight on our part",
    "start": "1439159",
    "end": "1445679"
  },
  {
    "text": "that we had configured for use with public EBS as opposed to private eobs um that ended up actually being a",
    "start": "1445679",
    "end": "1453799"
  },
  {
    "text": "different kind of problem in a uh when we when we really started to get aggressive around the performance",
    "start": "1453799",
    "end": "1459799"
  },
  {
    "text": "testing and uh I'll talk a little bit about some of the problems we encountered there in a moment",
    "start": "1459799",
    "end": "1467120"
  },
  {
    "start": "1468000",
    "end": "1595000"
  },
  {
    "text": "so let me let me say this about autoscaling it worked it worked Fair",
    "start": "1470640",
    "end": "1476600"
  },
  {
    "text": "well for us um we we wanted to set out with the idea that um uh things would be",
    "start": "1476600",
    "end": "1484919"
  },
  {
    "text": "burstable based off of the load that we were sending to the environment um the",
    "start": "1484919",
    "end": "1490360"
  },
  {
    "text": "problem was that autoscaling would end up leaving a mess for us after after",
    "start": "1490360",
    "end": "1495399"
  },
  {
    "text": "instances were getting terminated and disappearing and the reason for that is primarily because the tooling that we",
    "start": "1495399",
    "end": "1501399"
  },
  {
    "text": "were using on premise had just hadn't really evolved yet to deal with the ephemeral nature of of AWS and so what",
    "start": "1501399",
    "end": "1509240"
  },
  {
    "text": "would happen is we would we would burst out a large number of inst instances we",
    "start": "1509240",
    "end": "1514399"
  },
  {
    "text": "would do what work we needed to and then we would scale everything down but the",
    "start": "1514399",
    "end": "1519600"
  },
  {
    "text": "instances would leave remnants in in things like our Chef server in our zenos server in app Dynamics and uh we really",
    "start": "1519600",
    "end": "1527520"
  },
  {
    "text": "hadn't gotten to to a point where the tooling could kind of clean up uh after after the after the",
    "start": "1527520",
    "end": "1535679"
  },
  {
    "text": "burst um I'd also like to say that uh autoscaling really saved our butts",
    "start": "1535919",
    "end": "1541200"
  },
  {
    "text": "during uh some of the recent uh Us East outages um in one case in",
    "start": "1541200",
    "end": "1547159"
  },
  {
    "text": "particular uh we lost roughly uh maybe 10 or 15 instances but they were",
    "start": "1547159",
    "end": "1553080"
  },
  {
    "text": "instances in in fairy critical services that were necessary for the site to function",
    "start": "1553080",
    "end": "1559600"
  },
  {
    "text": "uh once ec2 kind of once Us East kind of stabilized and and all the services just",
    "start": "1559600",
    "end": "1566000"
  },
  {
    "text": "kind of started to to do their thing again autoscaling reprovisioned all those instances and things just",
    "start": "1566000",
    "end": "1572399"
  },
  {
    "text": "magically started working again um so very cool very cool for us uh now",
    "start": "1572399",
    "end": "1578480"
  },
  {
    "text": "granted we still had to go around and do kind of a manual cleanup of the instances that we lost as a result of",
    "start": "1578480",
    "end": "1583520"
  },
  {
    "text": "the outage uh but you know I'm fine with cleaning up you know 10 or 15 nodes uh",
    "start": "1583520",
    "end": "1589720"
  },
  {
    "text": "for the sake of keeping things",
    "start": "1589720",
    "end": "1593200"
  },
  {
    "start": "1595000",
    "end": "1797000"
  },
  {
    "text": "running so let me talk a little bit about testing because this this actually",
    "start": "1595480",
    "end": "1600600"
  },
  {
    "text": "was a an area that that we struggled with at first for a couple of different reasons um I already mentioned uh that",
    "start": "1600600",
    "end": "1608159"
  },
  {
    "text": "the validation tools both functional and performance were in the on- premise Data Center and they were essentially",
    "start": "1608159",
    "end": "1613480"
  },
  {
    "text": "validating the AWS environment across this Direct Connect",
    "start": "1613480",
    "end": "1618760"
  },
  {
    "text": "and and at first we were kind of we were we were confused by the the traffic",
    "start": "1618760",
    "end": "1623799"
  },
  {
    "text": "Spike that we saw coming out of the data center uh over the public wire because of the public versus private EOB",
    "start": "1623799",
    "end": "1630000"
  },
  {
    "text": "configuration but once we sorted that out and we knew that we were testing over the direct connect we encountered a",
    "start": "1630000",
    "end": "1635520"
  },
  {
    "text": "different kind of issue and the issue was this the E",
    "start": "1635520",
    "end": "1640919"
  },
  {
    "text": "algorithms that that Scale based off of traffic load have a have have a",
    "start": "1640919",
    "end": "1646360"
  },
  {
    "text": "particular way that they determine when they need to be scaling and we were seeing some some",
    "start": "1646360",
    "end": "1653720"
  },
  {
    "text": "really interesting well not interesting we were seeing some really awful uh",
    "start": "1653720",
    "end": "1658840"
  },
  {
    "text": "response times during the performance test basically telling us that the time to First Bite of the request into this",
    "start": "1658840",
    "end": "1665320"
  },
  {
    "text": "new environment were you know upward of 1500 milliseconds where we were",
    "start": "1665320",
    "end": "1670799"
  },
  {
    "text": "expecting maybe 70 and this was really confusing us so",
    "start": "1670799",
    "end": "1677760"
  },
  {
    "text": "we end end up doing some digging around the around the web and we found a really awesome document that that kind of",
    "start": "1677760",
    "end": "1684240"
  },
  {
    "text": "outlined uh how EBS think around scaling uh uh in in in your Runway and what we",
    "start": "1684240",
    "end": "1692760"
  },
  {
    "text": "learned was that the EBS will grow based off of the number of requests coming",
    "start": "1692760",
    "end": "1698919"
  },
  {
    "text": "from multiple IP addresses in our particular case we were all we were we",
    "start": "1698919",
    "end": "1704120"
  },
  {
    "text": "were sending hundreds of thousands of requests from a single IP address and the E basically went yeah I'm cool I can",
    "start": "1704120",
    "end": "1710600"
  },
  {
    "text": "handle this um and it's true it could but with really awful response times and",
    "start": "1710600",
    "end": "1718840"
  },
  {
    "text": "uh so this required a little bit of creative thinking on our part to try to figure",
    "start": "1718840",
    "end": "1723960"
  },
  {
    "text": "out uh whether or not the applications were were encountering some sort of",
    "start": "1723960",
    "end": "1729159"
  },
  {
    "text": "issue in serving up the request and thankfully we had a really good relationship with app Dynamics which is",
    "start": "1729159",
    "end": "1735840"
  },
  {
    "text": "a tool for monitoring uh Java PHP um uh inside the application",
    "start": "1735840",
    "end": "1743320"
  },
  {
    "text": "itself and we could tell that the requests that were actually coming through were performing just fine there",
    "start": "1743320",
    "end": "1750080"
  },
  {
    "text": "wasn't an issue at the application layer or or at the uh data stores behind",
    "start": "1750080",
    "end": "1755240"
  },
  {
    "text": "it and so that that was actually very comforting to us we could we could we",
    "start": "1755240",
    "end": "1761799"
  },
  {
    "text": "could say with certainty that the application Health was great we were just we were getting we were getting",
    "start": "1761799",
    "end": "1767600"
  },
  {
    "text": "blocked at the front door um excuse me uh so I I guess the the one",
    "start": "1767600",
    "end": "1776200"
  },
  {
    "text": "thing uh and and I was I was happy to hear Dr vogle say it this morning measure everything you've got to have",
    "start": "1776200",
    "end": "1782559"
  },
  {
    "text": "you've got to have a thermostat of some kind at every layer of your architecture so that you can really validate where",
    "start": "1782559",
    "end": "1788919"
  },
  {
    "text": "the issues might be as you're as you're going through these tests",
    "start": "1788919",
    "end": "1794200"
  },
  {
    "start": "1797000",
    "end": "1965000"
  },
  {
    "text": "so with this big move uh there became some questions about what Edmonds does with AWS next",
    "start": "1800039",
    "end": "1808799"
  },
  {
    "text": "and there was a realization that AWS wasn't good just to",
    "start": "1808799",
    "end": "1815200"
  },
  {
    "text": "provide the D Disaster Recovery site that we'd really set out to provide um there are some fantastic",
    "start": "1815200",
    "end": "1821720"
  },
  {
    "text": "scaling capabilities um the the notion of cost toare architecture really comes",
    "start": "1821720",
    "end": "1827600"
  },
  {
    "text": "to Drive In in a in a public cloud like AWS and so Edmonds has has begun to",
    "start": "1827600",
    "end": "1834679"
  },
  {
    "text": "Pivot and is essentially taking an all-in approach towards AWS but there",
    "start": "1834679",
    "end": "1840120"
  },
  {
    "text": "definitely going to be there's definitely going to be some work uh over the next couple of years to to see that",
    "start": "1840120",
    "end": "1845799"
  },
  {
    "text": "as a reality the first is that there's going to have to be a huge refactor at the web",
    "start": "1845799",
    "end": "1853279"
  },
  {
    "text": "application layer um web applications today uh even though they are highly uh",
    "start": "1853279",
    "end": "1860200"
  },
  {
    "text": "they are highly modular or rather they are modular they are highly coupled and they are incredibly dependent on one",
    "start": "1860200",
    "end": "1866919"
  },
  {
    "text": "another in order to deliver the user experience so uh a decoupling of some uh",
    "start": "1866919",
    "end": "1873039"
  },
  {
    "text": "or rather a uh a refactor of these web applications to deal with some of the",
    "start": "1873039",
    "end": "1878399"
  },
  {
    "text": "fragility that you can encounter in AWS is in high order uh a rethinking of of",
    "start": "1878399",
    "end": "1884480"
  },
  {
    "text": "Edmund's data pipeline how how data flows to the the website and how it flows out of the website is absolutely",
    "start": "1884480",
    "end": "1891840"
  },
  {
    "text": "going to be in order the the data warehouse team has has spent the last couple of years uh with a very heavy",
    "start": "1891840",
    "end": "1899039"
  },
  {
    "text": "focus on fine-tuning that on premise Hadoop infrastructure and now they're going to need to to spend quite a bit of",
    "start": "1899039",
    "end": "1905200"
  },
  {
    "text": "time thinking about how it's going to work in AWS the the the tooling I've talked",
    "start": "1905200",
    "end": "1911720"
  },
  {
    "text": "quite a bit about about some of the challenges that we encountered with the tool chain along the way uh the tool",
    "start": "1911720",
    "end": "1916919"
  },
  {
    "text": "chain is also going to need uh is going to need a lot of love to really deal with the ephemeral nature",
    "start": "1916919",
    "end": "1923200"
  },
  {
    "text": "of of AWS the services that run edmonds.com",
    "start": "1923200",
    "end": "1928840"
  },
  {
    "text": "today are fairly stable uh but they have become Fair comfortable in a static",
    "start": "1928840",
    "end": "1935880"
  },
  {
    "text": "environment there is there is not a lot of of bursting there is not a lot of",
    "start": "1935880",
    "end": "1940919"
  },
  {
    "text": "taking away it you know a host gets provisioned and it gener generally lives",
    "start": "1940919",
    "end": "1946880"
  },
  {
    "text": "for as long as that service is expected to live with zero change",
    "start": "1946880",
    "end": "1952360"
  },
  {
    "text": "um this is this is going to to change drastically as Edmond tries to figure",
    "start": "1952360",
    "end": "1957720"
  },
  {
    "text": "out how to really take advantage of what AWS has to",
    "start": "1957720",
    "end": "1962760"
  },
  {
    "start": "1965000",
    "end": "2185000"
  },
  {
    "text": "offer a lot of what I've talked about this morning uh about 95% of the work",
    "start": "1965279",
    "end": "1971960"
  },
  {
    "text": "was actually accomplished by a team of three that were huddled in a in a little room for a period of of about four and a",
    "start": "1971960",
    "end": "1979000"
  },
  {
    "text": "half months uh making the big",
    "start": "1979000",
    "end": "1984200"
  },
  {
    "text": "move making the big move out of your data center it needs to be at all hands",
    "start": "1984200",
    "end": "1989279"
  },
  {
    "text": "effort uh you you you really can't make the kind of change that is necessary to",
    "start": "1989279",
    "end": "1996799"
  },
  {
    "text": "really Embrace what it is that AWS has to offer by just taking a forklift approach and it can't just be done by a",
    "start": "1996799",
    "end": "2004200"
  },
  {
    "text": "small team it's really got to be an all hands effort and so that's that's uh part of what what",
    "start": "2004200",
    "end": "2010639"
  },
  {
    "text": "Edmunds is going to be facing over the next couple of years maybe one particular point that I that I happened",
    "start": "2010639",
    "end": "2016039"
  },
  {
    "text": "to miss uh in an earlier slide um was one of the challenges that this team",
    "start": "2016039",
    "end": "2021880"
  },
  {
    "text": "encountered was despite the minimal number of changes that we had made to the stack",
    "start": "2021880",
    "end": "2028600"
  },
  {
    "text": "when we did encounter issues and we needed to engage service owners to to try to get their help in in figuring out",
    "start": "2028600",
    "end": "2034600"
  },
  {
    "text": "what was going wrong with their application um",
    "start": "2034600",
    "end": "2039720"
  },
  {
    "text": "those minor changes were very easy for uh the engineering teams to get hung up",
    "start": "2039720",
    "end": "2045200"
  },
  {
    "text": "on uh particularly around the the replacement of physical load balancers with ha proxy uh that that for some",
    "start": "2045200",
    "end": "2052638"
  },
  {
    "text": "particular reason was was incredibly difficult to to understand and and so",
    "start": "2052639",
    "end": "2058398"
  },
  {
    "text": "there ended up being there ended up being a little bit of finger pointing going on that no that little change that",
    "start": "2058399",
    "end": "2064200"
  },
  {
    "text": "you made uh is what it is that's causing the issue even though you know we had we had uh enough data to kind of back up",
    "start": "2064200",
    "end": "2070960"
  },
  {
    "text": "that that wasn't the case uh I guess where I'm going with all of this is that",
    "start": "2070960",
    "end": "2076240"
  },
  {
    "text": "it is incredibly important that as an organization you embrace it in",
    "start": "2076240",
    "end": "2081480"
  },
  {
    "text": "full uh and and I'm not necessarily suggesting that that that has to be an",
    "start": "2081480",
    "end": "2087200"
  },
  {
    "text": "all-in kind of approach into AWS but if you're going with a hybrid model where",
    "start": "2087200",
    "end": "2092480"
  },
  {
    "text": "you're running something on premise and you're running some stuff up in AWS make certain that that is is part of the",
    "start": "2092480",
    "end": "2099119"
  },
  {
    "text": "engineering and architecture culture uh without it I think that you end up with with some amount of confusion uh in in",
    "start": "2099119",
    "end": "2107440"
  },
  {
    "text": "how people are supposed to support it uh day after day and I mean that is that is",
    "start": "2107440",
    "end": "2113280"
  },
  {
    "text": "perhaps the most important important thing that you need to try to figure out is how are you going to support it the",
    "start": "2113280",
    "end": "2119079"
  },
  {
    "text": "the building and the designing of it uh is certainly one thing but you really need to be thinking about the the staff",
    "start": "2119079",
    "end": "2124760"
  },
  {
    "text": "that is going to be interacting with it on a daily basis",
    "start": "2124760",
    "end": "2129640"
  },
  {
    "text": "um I uh I was I was really fortunate to be a part of this project and be a part",
    "start": "2130079",
    "end": "2136079"
  },
  {
    "text": "of this team uh I have no doubt that over the next couple of years at Edmonds",
    "start": "2136079",
    "end": "2142040"
  },
  {
    "text": "uh there's going to continue to be a lot of really fantastic work done as this refactoring as this re architecture as",
    "start": "2142040",
    "end": "2149480"
  },
  {
    "text": "this this rethinking of of how to build and how to deploy and how to support",
    "start": "2149480",
    "end": "2154720"
  },
  {
    "text": "take shape and I'm quite certain that you're going to hear a lot coming out of Edmonds in the next couple of years",
    "start": "2154720",
    "end": "2159880"
  },
  {
    "text": "about the adventures into AWS uh that's all I had to present this",
    "start": "2159880",
    "end": "2166000"
  },
  {
    "text": "morning uh I really appreciate your time uh there's plenty of time for Q&A if uh",
    "start": "2166000",
    "end": "2172240"
  },
  {
    "text": "you don't want to uh get in front of a mic that's perfectly fine uh please see me after the show really appreciate your",
    "start": "2172240",
    "end": "2177960"
  },
  {
    "text": "time thank you",
    "start": "2177960",
    "end": "2181359"
  }
]