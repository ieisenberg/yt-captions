[
  {
    "start": "0",
    "end": "36000"
  },
  {
    "text": "okay um alright why don't we get started here so my name is Vinod madhubuti I'm",
    "start": "829",
    "end": "6000"
  },
  {
    "text": "an Enterprise Solutions Architect with AWS I've been with AWS for about four years now and I've been working with",
    "start": "6000",
    "end": "12150"
  },
  {
    "text": "Microsoft technologies for over 15 years so today we're going to talk about how to secure your Active Directory",
    "start": "12150",
    "end": "18619"
  },
  {
    "text": "deployments or need to be us how many of",
    "start": "18619",
    "end": "24119"
  },
  {
    "text": "you folks are familiar with Active Directory or have hands-on experience with Active Directory great perfect so",
    "start": "24119",
    "end": "30900"
  },
  {
    "text": "it looks like you're all in the right session if you're not this would be the time for you to find the right session before we get started okay okay yeah",
    "start": "30900",
    "end": "42510"
  },
  {
    "start": "36000",
    "end": "44000"
  },
  {
    "text": "I'll try that all right so what are we going to talk about today so we're going to talk about",
    "start": "42510",
    "end": "48539"
  },
  {
    "start": "44000",
    "end": "104000"
  },
  {
    "text": "Active Directory basics since you guys are really familiar this will be a really quick slide on why Active",
    "start": "48539",
    "end": "54000"
  },
  {
    "text": "Directory and also why Active Directory AWS we're going to talk about typical deployment patterns and the reason we",
    "start": "54000",
    "end": "59699"
  },
  {
    "text": "want to cover a little bit of this is we want to understand how customers are deploying AWS so you can think about how to secure those deployments and then",
    "start": "59699",
    "end": "66869"
  },
  {
    "text": "lastly we're going to cover two sections one on actor director and ec2 and the other one on managed ad and then towards",
    "start": "66869",
    "end": "73979"
  },
  {
    "text": "the end of the session we'll have some Q&A time and we can talk about if you have any questions that from whatever",
    "start": "73979",
    "end": "79049"
  },
  {
    "text": "you've heard throughout the session a couple of things I want to note before we get started these slides will be",
    "start": "79049",
    "end": "84900"
  },
  {
    "text": "posted on flight share in a couple of days so you don't have to take pictures you can if you want but the slides will",
    "start": "84900",
    "end": "90090"
  },
  {
    "text": "be online and available to you the recording will also be available to you on YouTube again it takes a couple of",
    "start": "90090",
    "end": "95549"
  },
  {
    "text": "days I have two of these sessions so I'm not sure which one will be available but one of the two will be available online",
    "start": "95549",
    "end": "101220"
  },
  {
    "text": "if you guys need to refer back to it all right so what won't we cover in this",
    "start": "101220",
    "end": "107630"
  },
  {
    "start": "104000",
    "end": "155000"
  },
  {
    "text": "session today so we're not gonna cover best practices on how to organize your Active Directory data and and by that I",
    "start": "107630",
    "end": "114980"
  },
  {
    "text": "mean how do i structure my oh use in how do I use what kind of groups and how do I apply the right group policies to the",
    "start": "114980",
    "end": "121160"
  },
  {
    "text": "right computer so we won't go into that today our focus is going to be more on security rather than Active Directory itself to that effect we won't go into",
    "start": "121160",
    "end": "129259"
  },
  {
    "text": "how to design your Active Directory infrastructure so we won't talk about what is the right way to use multi-region what's the right way to",
    "start": "129259",
    "end": "135500"
  },
  {
    "text": "deploy domain controllers so we won't go into that as well and lastly we won't talk about the feature comparison of",
    "start": "135500",
    "end": "141920"
  },
  {
    "text": "managed ad versus ad on ec2 again that's that's something that's Active Directory",
    "start": "141920",
    "end": "147020"
  },
  {
    "text": "itself and not so much into security but what we will cover is security aspects",
    "start": "147020",
    "end": "152030"
  },
  {
    "text": "of both of these deployments all right let's start with an Active Directory",
    "start": "152030",
    "end": "157940"
  },
  {
    "start": "155000",
    "end": "173000"
  },
  {
    "text": "basics what is Active Directory it's basically Microsoft's implementation of an LDAP",
    "start": "157940",
    "end": "163550"
  },
  {
    "text": "directory that has a lot more features added to it right and customers have been running Active Directory for two",
    "start": "163550",
    "end": "169670"
  },
  {
    "text": "decades or even more right so it's it's really mature LDAP product what do people use it for well you used it for",
    "start": "169670",
    "end": "177049"
  },
  {
    "start": "173000",
    "end": "191000"
  },
  {
    "text": "organizing users computers groups and everything else for administration in one place right so this is where you",
    "start": "177049",
    "end": "182480"
  },
  {
    "text": "have your basic identity you may have service accounts of course all the computers that's a part of the the",
    "start": "182480",
    "end": "188060"
  },
  {
    "text": "domain and that's where you keep everything in one central place folks also use it for group policies so this",
    "start": "188060",
    "end": "194690"
  },
  {
    "start": "191000",
    "end": "204000"
  },
  {
    "text": "is a really powerful tool right you can push configurations across a large fleet of users and/or computers and you can",
    "start": "194690",
    "end": "200570"
  },
  {
    "text": "unify communication and manage everything in one place lastly most",
    "start": "200570",
    "end": "206420"
  },
  {
    "start": "204000",
    "end": "230000"
  },
  {
    "text": "people use Active Directory to come control access within enterprise so this might be logging into the Windows",
    "start": "206420",
    "end": "212330"
  },
  {
    "text": "servers or logging into application itself that maybe you know either Active Directory aware or or using some sort of",
    "start": "212330",
    "end": "218870"
  },
  {
    "text": "LDAP or LDAP as mechanism and even access to third-party apps right using sam'l or Federation for example you",
    "start": "218870",
    "end": "225470"
  },
  {
    "text": "could use that to control access to AWS console as one example",
    "start": "225470",
    "end": "230920"
  },
  {
    "text": "so why do customers deploy Active Directory on AWS right first thing is",
    "start": "230920",
    "end": "237140"
  },
  {
    "start": "235000",
    "end": "268000"
  },
  {
    "text": "supporting Windows workload on AWS so there are a lot of customers that use Windows and they have a lot of",
    "start": "237140",
    "end": "242630"
  },
  {
    "text": "investments in Windows have been using Windows for a while also have skill sets and Windows right so when when these",
    "start": "242630",
    "end": "248570"
  },
  {
    "text": "customers migrate to cloud they deploy these Windows servers either as a lift and shift mechanism or even when they",
    "start": "248570",
    "end": "254570"
  },
  {
    "text": "deploy new applications they deploy in a platform that's familiar to them and and they have the knowledge of how to maintain and run so one of the biggest",
    "start": "254570",
    "end": "261920"
  },
  {
    "text": "reason people deploy ad on AWS is to support these Windows workload that's running on AWS the other reason",
    "start": "261920",
    "end": "270910"
  },
  {
    "start": "268000",
    "end": "318000"
  },
  {
    "text": "customers deploy ad on AWS is to reduce latency what what we mean by that is",
    "start": "270910",
    "end": "276470"
  },
  {
    "text": "let's say you have an application you know on running on AWS technically you can attach that to an actor directly",
    "start": "276470",
    "end": "283280"
  },
  {
    "text": "running on premises you could have a VPN or a direct connect and access those domain controllers but that's not most",
    "start": "283280",
    "end": "289490"
  },
  {
    "text": "ideal right depending on where your Active Directory is and in which regions are operating in your latency may or may",
    "start": "289490",
    "end": "295250"
  },
  {
    "text": "not work for you so that's one of the reasons customer deploy Active Directory on AWS to support those four clothes",
    "start": "295250",
    "end": "301419"
  },
  {
    "text": "also resiliency right what happens if you have an issue with with the network you know what if you have an outage with",
    "start": "301419",
    "end": "307520"
  },
  {
    "text": "one of the network links connecting your on-premises in EWS so then the directory becomes available which causes",
    "start": "307520",
    "end": "312770"
  },
  {
    "text": "application issues kind of mitigate both of those people deploy Active Directory on AWS lastly to manage aw service and",
    "start": "312770",
    "end": "321970"
  },
  {
    "text": "resources itself so this is where you would Fedder 8 to an AWS console where",
    "start": "321970",
    "end": "327500"
  },
  {
    "text": "you can use the Active Directory credentials to log into AWS or also access to AWS native windows services",
    "start": "327500",
    "end": "334130"
  },
  {
    "text": "like for example RDS or fsx for Windows File servers right so when you use these",
    "start": "334130",
    "end": "339410"
  },
  {
    "text": "kind of services customers use Active Directory to control access to these",
    "start": "339410",
    "end": "344450"
  },
  {
    "text": "services when they use them all right so what are the choices for",
    "start": "344450",
    "end": "350490"
  },
  {
    "text": "running a tea on AWS so broadly speaking there are two main choices first one is",
    "start": "350490",
    "end": "355770"
  },
  {
    "text": "you're going to run what's called as a self-managed Amazon ec2 ad so in this",
    "start": "355770",
    "end": "361410"
  },
  {
    "text": "example what you do is you deploy an ec2 instance in your V PC and then you you",
    "start": "361410",
    "end": "366960"
  },
  {
    "text": "install the a DDS tools and components on a Windows server then you make that into a domain controller right either",
    "start": "366960",
    "end": "372810"
  },
  {
    "text": "you make that an extension of your domain on pram or or a brand new domain in either cases we categorize that as",
    "start": "372810",
    "end": "379880"
  },
  {
    "text": "running ad on ec2 where you manage everything right you manage the security patches you manage the domain",
    "start": "379880",
    "end": "385560"
  },
  {
    "text": "controllers itself you manage the backups so on and so forth the second one is what we called AWS man is",
    "start": "385560",
    "end": "391500"
  },
  {
    "text": "Microsoft ad so this is a service from AWS where we manage the domain",
    "start": "391500",
    "end": "396870"
  },
  {
    "text": "controllers and the infrastructure for the Active Directory and you are responsible for managing the data within",
    "start": "396870",
    "end": "402420"
  },
  {
    "text": "the Active Directory so in that example we're managing the domain controllers we're managing the replication backup",
    "start": "402420",
    "end": "409710"
  },
  {
    "text": "snapshot so on so forth and you are responsible for provisioning users provisioning group policies computers in",
    "start": "409710",
    "end": "416310"
  },
  {
    "text": "all of the data that goes within the Active Directory now using these two",
    "start": "416310",
    "end": "421860"
  },
  {
    "text": "mechanisms there's a lot of ways to deploy Active Directory using combination of these two right but for",
    "start": "421860",
    "end": "427680"
  },
  {
    "text": "security purposes today we're going to talk about how to secure each of this right or what are some of the security",
    "start": "427680",
    "end": "433680"
  },
  {
    "text": "consideration that you should be thinking about so in respective of how you architect the solution using a combination of this",
    "start": "433680",
    "end": "440640"
  },
  {
    "text": "or even one of these you're familiar with the security aspects of it right",
    "start": "440640",
    "end": "446660"
  },
  {
    "start": "447000",
    "end": "480000"
  },
  {
    "text": "okay so before we talk about eighty security let's look at what the typical",
    "start": "447380",
    "end": "452670"
  },
  {
    "text": "deployment pattern looks like on interviews again there are so many ways to deploy Active Directory on AWS I mean",
    "start": "452670",
    "end": "458850"
  },
  {
    "text": "it's it's just countless right so we won't spend time and that in those architectural patterns but we want to we",
    "start": "458850",
    "end": "464580"
  },
  {
    "text": "want to give you to two fundamental deployment patterns that we see a lot of customers do and we'll just focus on",
    "start": "464580",
    "end": "470970"
  },
  {
    "text": "that so you kind of understand broadly how those two patterns work and in and that absolutely helps you with how to",
    "start": "470970",
    "end": "477120"
  },
  {
    "text": "design the security for either those okay so first one is extending",
    "start": "477120",
    "end": "483650"
  },
  {
    "start": "480000",
    "end": "595000"
  },
  {
    "text": "on-premises ad domain to ATS on ec2 so that we talked about ec2 right so this",
    "start": "483650",
    "end": "488930"
  },
  {
    "text": "is where you deploy an ec2 server install a DDS and make it a domain controller so the example I'm showing",
    "start": "488930",
    "end": "494840"
  },
  {
    "text": "here you basically have two domain controllers on the right you can see those boxes so you run them in a private",
    "start": "494840",
    "end": "500690"
  },
  {
    "text": "subnet you launch them on ec2 and then potentially you extend your domain to",
    "start": "500690",
    "end": "505880"
  },
  {
    "text": "that so in the sense that you make them domain controllers for your existing domain of course you have to have some",
    "start": "505880",
    "end": "512210"
  },
  {
    "text": "sort of network connectivity to do that so either Brad Connect or VPN or pretty much anything you can think of works for",
    "start": "512210",
    "end": "519260"
  },
  {
    "text": "that so in this case the two domain controllers that are running on AWS or just like your on-premises domain",
    "start": "519260",
    "end": "525140"
  },
  {
    "text": "controller it's just located in in a different site as you will from an ad perspective and they will replicate",
    "start": "525140",
    "end": "531550"
  },
  {
    "text": "between the on-premises domain controllers or any other sites you have right and you can see that on the red",
    "start": "531550",
    "end": "537080"
  },
  {
    "text": "line so the red line indicates the replication of the active directory itself now if you have application",
    "start": "537080",
    "end": "544100"
  },
  {
    "text": "running on AWS they will use the domain controllers there are in AWS for",
    "start": "544100",
    "end": "549590"
  },
  {
    "text": "authentication group policy processing so on and so forth and the way Active Directory does that is by using sites",
    "start": "549590",
    "end": "555860"
  },
  {
    "text": "and services so it'll discover what sites and services are available what that servers itself are a part of and",
    "start": "555860",
    "end": "562250"
  },
  {
    "text": "what domain controllers are available in that side so in this model the authentication traffic automatically",
    "start": "562250",
    "end": "568370"
  },
  {
    "text": "goes to the domain controller that's running on AWS because it's defined as a single site and all of them are located",
    "start": "568370",
    "end": "574340"
  },
  {
    "text": "in that single site right so when a remote admin logs on to their workstation of course their",
    "start": "574340",
    "end": "580220"
  },
  {
    "text": "authentication goes to the local domain controller wherever they are but when they RDP into one of these servers to to",
    "start": "580220",
    "end": "586010"
  },
  {
    "text": "manage or administer the application that Roth indication traffic will go to the domain controllers on AWS",
    "start": "586010",
    "end": "594819"
  },
  {
    "start": "595000",
    "end": "724000"
  },
  {
    "text": "the second way to deploy this that we see commonly is what we call a resource domain so people deploy managed ad in a",
    "start": "595500",
    "end": "602830"
  },
  {
    "text": "what we call a resource domain so in this in this example you see the managed ad on the right those are the two big",
    "start": "602830",
    "end": "609370"
  },
  {
    "text": "red boxes so you deploy a separate domain slash forest that's different from your on-premises domain and then",
    "start": "609370",
    "end": "616450"
  },
  {
    "text": "you set up a one or two way trust between that domain and the on-premises domain and your requirements may dictate",
    "start": "616450",
    "end": "623529"
  },
  {
    "text": "whether you want a one-way trustor to a trust but one way trust is is a lot more popular we have seen with the customer",
    "start": "623529",
    "end": "629520"
  },
  {
    "text": "and in this in this model the apps you see so the web servers app servers and",
    "start": "629520",
    "end": "634930"
  },
  {
    "text": "all those they are members of the domain that's on EWS so that's member of the managed ad the",
    "start": "634930",
    "end": "640900"
  },
  {
    "text": "computer objects itself are located in the managed ad the service accounts are located in the managed ad but the user",
    "start": "640900",
    "end": "646750"
  },
  {
    "text": "accounts right this is what the account you use to administer that's still in your corporate domain controllers you're",
    "start": "646750",
    "end": "651940"
  },
  {
    "text": "not replicating that right that's the whole purpose of the the one-way trust so you can leverage these credentials",
    "start": "651940",
    "end": "657670"
  },
  {
    "text": "into any of these servers without replicating them so in this model again thinking about a remote admin signing",
    "start": "657670",
    "end": "664060"
  },
  {
    "text": "into you know one of the workstations the remote admin itself again uses the local domain controller authenticates",
    "start": "664060",
    "end": "670720"
  },
  {
    "text": "into its PC or workstation when they RDP to the web servers that authentication",
    "start": "670720",
    "end": "676240"
  },
  {
    "text": "traffic will fall back to your on-premises domain because those accounts don't exist in the AWS manage",
    "start": "676240",
    "end": "682600"
  },
  {
    "text": "data because you're using it as a resource domain only resources there are computer objects and service accounts",
    "start": "682600",
    "end": "688330"
  },
  {
    "text": "are located at them so one thing to be worried off in this configuration is you",
    "start": "688330",
    "end": "693850"
  },
  {
    "text": "have to have network that's pretty pretty redundant and robust right because if your network connectivity goes down you might run into situations",
    "start": "693850",
    "end": "700900"
  },
  {
    "text": "where an admin may not be able to log into the workstation and/or the servers",
    "start": "700900",
    "end": "706089"
  },
  {
    "text": "and do something when when they want to write of course Windows has the concept of cache credentials I know a lot of",
    "start": "706089",
    "end": "712420"
  },
  {
    "text": "people probably use that and some of you guys don't so if you do have cash code and shelled out that will help even if",
    "start": "712420",
    "end": "718120"
  },
  {
    "text": "the domain controller is not available but again for most part you want that network link to be pretty robust",
    "start": "718120",
    "end": "725310"
  },
  {
    "start": "724000",
    "end": "744000"
  },
  {
    "text": "so using a combination of these two there are a lot of architecture you can build on AWS you could have a complete",
    "start": "725310",
    "end": "731700"
  },
  {
    "text": "disconnection between the two you can extend the same domain you can build a brand new domain on easy to so the your",
    "start": "731700",
    "end": "737640"
  },
  {
    "text": "requirements is gonna drive how your aney looks like but we're going to talk about security specifically right okay",
    "start": "737640",
    "end": "745230"
  },
  {
    "text": "so what are some of the reasons why customers choose one option or the other well you're probably deploying 80 to ec2",
    "start": "745230",
    "end": "753780"
  },
  {
    "text": "number one if you want to extend your existing domain or forest and don't want",
    "start": "753780",
    "end": "759180"
  },
  {
    "text": "to build a brand new domain right so managed 80 does not support extending your domain if you want to use that so",
    "start": "759180",
    "end": "765090"
  },
  {
    "text": "if you want to use managed ad it will be a brand new domain that's different from on premises you could have trust but you cannot",
    "start": "765090",
    "end": "770790"
  },
  {
    "text": "extend your domain so if you want your domain to be available in AWS that would be one of the reason you may choose to",
    "start": "770790",
    "end": "776580"
  },
  {
    "text": "go with ec2 or you want domain or enterprise admin privilege to be available you don't do you for you to",
    "start": "776580",
    "end": "783330"
  },
  {
    "text": "manage right so when we deploy managed ad the domain / enterprise admin credentials or locked away in an",
    "start": "783330",
    "end": "790110"
  },
  {
    "text": "automatic automatic control and not available to you for you to use as a customer we give you what's called as a",
    "start": "790110",
    "end": "796140"
  },
  {
    "text": "delegated rights which I'm going to talk about towards the end of this presentation but we you don't actually",
    "start": "796140",
    "end": "801360"
  },
  {
    "text": "get domain or admin and admin privilege so if you need that for some reason and",
    "start": "801360",
    "end": "807000"
  },
  {
    "text": "you have to have control over it maybe you choose ec2 instead if you want to",
    "start": "807000",
    "end": "812400"
  },
  {
    "text": "extend your users groups or using GPU so you already have a structure right so you have your structure you have a GPO",
    "start": "812400",
    "end": "818550"
  },
  {
    "text": "structure everything is configured ready to go so if you don't want to redo some of that work again and you just want to",
    "start": "818550",
    "end": "824340"
  },
  {
    "text": "leverage that then maybe you know you might use Active Directory on ec2 because when you deploy those domain",
    "start": "824340",
    "end": "831120"
  },
  {
    "text": "controllers everything is replicated everything is there all you have to do is add workstations domain and you're",
    "start": "831120",
    "end": "836160"
  },
  {
    "text": "good to go lastly single unified environments so if you want one environment for ad respective of whether the application",
    "start": "836160",
    "end": "842670"
  },
  {
    "text": "sits on premises or AWS you just want to see it as one unified environment you",
    "start": "842670",
    "end": "847710"
  },
  {
    "text": "may do ad on ec2 again because you cannot extend your domain on manage any",
    "start": "847710",
    "end": "853310"
  },
  {
    "text": "so why do people use managed ad as a research resource domain what are some of the use cases for that well number",
    "start": "853310",
    "end": "859100"
  },
  {
    "text": "one they don't want to manage to make the pillars right they want AWS to do the management of the domain controllers",
    "start": "859100",
    "end": "864470"
  },
  {
    "text": "because they want to get out of the business of managing domain controllers so that's the top reason for people why",
    "start": "864470",
    "end": "869600"
  },
  {
    "text": "people choose manage dating the second is they want to delegate Active Directory itself to a different team so",
    "start": "869600",
    "end": "876829"
  },
  {
    "text": "they can manage it for example you may have a cloud center of excellence or a cloud team that that's responsible for",
    "start": "876829",
    "end": "881930"
  },
  {
    "text": "applications AWS but at the same time you still want to maintain user identity right because that's the core of your",
    "start": "881930",
    "end": "888069"
  },
  {
    "text": "information security that's that's what you need to protect and that those are your crown jewels you still want to",
    "start": "888069",
    "end": "894230"
  },
  {
    "text": "maintain control over that so in using a resource domain model you can keep the identities on-premises continue to",
    "start": "894230",
    "end": "900920"
  },
  {
    "text": "manage them while allowing another team or a cloud team to you know man is their ad and leverage that same credentials",
    "start": "900920",
    "end": "907699"
  },
  {
    "text": "over that one way trust delineation between on premises in database environment so there's a lot of reason",
    "start": "907699",
    "end": "914120"
  },
  {
    "text": "why folks want to delineate it could be security it could be compliance so in terms of ad they want to see this as two",
    "start": "914120",
    "end": "920449"
  },
  {
    "text": "separate environments they don't want to see it as one environment so there's an issue with one you're not propagating that back and forth right so that's one",
    "start": "920449",
    "end": "927500"
  },
  {
    "text": "of the the top reasons people choose the resource domain model and do managed ad",
    "start": "927500",
    "end": "933259"
  },
  {
    "text": "lastly native integration with some of the Amazon windows-based services and these are RDS fsx single sign-on so on",
    "start": "933259",
    "end": "940790"
  },
  {
    "text": "so forth right so if you want native integration you're using these services that's another reason to do the the",
    "start": "940790",
    "end": "947449"
  },
  {
    "text": "managed ad it doesn't mean that you can't use these services if you're doing ad on ec2 you still can it's just not a",
    "start": "947449",
    "end": "953389"
  },
  {
    "text": "native integration you would have to do deploy any connectors and there's a couple of more steps involved in in",
    "start": "953389",
    "end": "958759"
  },
  {
    "text": "leveraging this right whereas with the managed ad it's it's you can share the directory and you can use this services right away how many of you are familiar",
    "start": "958759",
    "end": "967610"
  },
  {
    "start": "966000",
    "end": "1077000"
  },
  {
    "text": "with shared security model in the cloud okay so that's good so we're in the",
    "start": "967610",
    "end": "974660"
  },
  {
    "text": "right place here right so Before we jump into security let's talk about shared security model so you can see a bunch of",
    "start": "974660",
    "end": "981199"
  },
  {
    "text": "things here right where the orange is what AWS is responsible for the blue",
    "start": "981199",
    "end": "986220"
  },
  {
    "text": "is what customers responsible for but if I have to summarize this in a single line a De Beers is responsible for",
    "start": "986220",
    "end": "993090"
  },
  {
    "text": "security off the cloud and customers are responsible for security in the cloud right and the the delineation the line",
    "start": "993090",
    "end": "1001100"
  },
  {
    "text": "of what we do versus what customers are responsible for might move a little bit based on you know what service you're",
    "start": "1001100",
    "end": "1007250"
  },
  {
    "text": "running for example if you're running anything on ec2 we're responsible for everything till the hypervisor and",
    "start": "1007250",
    "end": "1013660"
  },
  {
    "text": "you're responsible for operating system and up right so so if there's a security patch we're responsible for patching",
    "start": "1013660",
    "end": "1019700"
  },
  {
    "text": "those user access control you're you're responsible for making sure the credentials are strong they're you know",
    "start": "1019700",
    "end": "1025280"
  },
  {
    "text": "they're rotated frequently so on and so forth but depending on the service that line moves up a little bit for example",
    "start": "1025280",
    "end": "1031760"
  },
  {
    "text": "if you're using AWS managed ad we are responsible for operating system updates",
    "start": "1031760",
    "end": "1036890"
  },
  {
    "text": "and patches we're responsible for maintaining access to the operating system itself we're also responsible for",
    "start": "1036890",
    "end": "1042319"
  },
  {
    "text": "Active Directory on top of that right whereas you're only responsible for managing the Active Directory data and",
    "start": "1042319",
    "end": "1047990"
  },
  {
    "text": "nothing else right so I just gave you one example of how that line moves but typically speaking you know depending on",
    "start": "1047990",
    "end": "1054830"
  },
  {
    "text": "what service you're using that line moves a little bit but there's still a clear delineation of what we do versus",
    "start": "1054830",
    "end": "1060920"
  },
  {
    "text": "what you guys do and it's really important to understand this right because this is the fundamental of how",
    "start": "1060920",
    "end": "1066110"
  },
  {
    "text": "cloud security works and how you can secure everything in the cloud right it's by understanding this so I just",
    "start": "1066110",
    "end": "1071600"
  },
  {
    "text": "want to bring this back you may have seen this before but really important to call this out a comm structure so how",
    "start": "1071600",
    "end": "1079670"
  },
  {
    "start": "1077000",
    "end": "1252000"
  },
  {
    "text": "many of you have heard about landing zone or control tower okay there's a good good number of you folks so last",
    "start": "1079670",
    "end": "1086420"
  },
  {
    "text": "rain went we launched a couple of new services we announced control tower and",
    "start": "1086420",
    "end": "1092120"
  },
  {
    "text": "we also announced the launch of landing zone so what these two services do is they give you prescriptive guidance of",
    "start": "1092120",
    "end": "1098300"
  },
  {
    "text": "how to structure your account especially in a large enterprise organization so you can separate things that need to be",
    "start": "1098300",
    "end": "1105140"
  },
  {
    "text": "in a separate account and provide role based access control to folks who are managing them I've just shown you a",
    "start": "1105140",
    "end": "1110780"
  },
  {
    "text": "small example of this right so in this example you have one master account which is also an AWS organization's",
    "start": "1110780",
    "end": "1118010"
  },
  {
    "text": "master and then you have two accounts one for security and one for log log archive so in this example your security team would",
    "start": "1118010",
    "end": "1125590"
  },
  {
    "text": "own control of that security account where they have their tools and in services to protect all of your AWS",
    "start": "1125590",
    "end": "1131890"
  },
  {
    "text": "account and they would turn on things like guard duty where you know that that would be the master guard duty and then",
    "start": "1131890",
    "end": "1137770"
  },
  {
    "text": "you know all other guard duties would be reporting back to this master and they may have many many other security tools",
    "start": "1137770",
    "end": "1143470"
  },
  {
    "text": "right but they basically have that account where they run all of that similarly we talk about a log archive",
    "start": "1143470",
    "end": "1149500"
  },
  {
    "text": "account where all your logs from every account goes into one place which gives",
    "start": "1149500",
    "end": "1154510"
  },
  {
    "text": "you no security and auditors one one place to look at everything going on with AWS account so we're extending that",
    "start": "1154510",
    "end": "1160870"
  },
  {
    "text": "concept a little bit to Active Directory right so Active Directory has to be separated from your business units and",
    "start": "1160870",
    "end": "1168250"
  },
  {
    "text": "I'll talk about why and when you think about Active Directory it's managed by a central team for most part every one of",
    "start": "1168250",
    "end": "1174490"
  },
  {
    "text": "you probably have a team and you know your organization's is responsible for Active Directory right some some folks",
    "start": "1174490",
    "end": "1179620"
  },
  {
    "text": "may be responsible for the data which is user provisioning and others may be responsible for the domain controllers",
    "start": "1179620",
    "end": "1185290"
  },
  {
    "text": "replication and so on but irrespective of that you have a dedicated team that manage that so the way to provide a",
    "start": "1185290",
    "end": "1191590"
  },
  {
    "text": "reliable robust and secure Active Directory service to all your business units is by centralizing Active",
    "start": "1191590",
    "end": "1197770"
  },
  {
    "text": "Directory in a shared service account again we're not saying this is the only way to do it this this is one of the",
    "start": "1197770",
    "end": "1204040"
  },
  {
    "text": "approaches we think works for most there might be edge cases where you know particularly for your use case this may",
    "start": "1204040",
    "end": "1210160"
  },
  {
    "text": "not be possible or feasible and you may modify from this and do something slightly different but for most folks",
    "start": "1210160",
    "end": "1216670"
  },
  {
    "text": "this this this model works right so in this in this model I talked about a",
    "start": "1216670",
    "end": "1222160"
  },
  {
    "text": "shared services account but but you can actually run this either as a shirt services account or in an Active",
    "start": "1222160",
    "end": "1228010"
  },
  {
    "text": "Directory account itself both of them are an option depending on how many things you are running in shared",
    "start": "1228010",
    "end": "1233260"
  },
  {
    "text": "services and who has access to them you may choose to go one way or another but the high level takeaway from this is",
    "start": "1233260",
    "end": "1238990"
  },
  {
    "text": "don't put domain controllers along with business units or somewhere else Kolak 8 it centralize it so it's easier",
    "start": "1238990",
    "end": "1246160"
  },
  {
    "text": "for you to protect it make it ugly available and and so the business units can use them all",
    "start": "1246160",
    "end": "1253480"
  },
  {
    "start": "1252000",
    "end": "1447000"
  },
  {
    "text": "right so let's talk about ec2 first so if you were running Active Directory on ec2 and doing this on your own what are",
    "start": "1253480",
    "end": "1260380"
  },
  {
    "text": "some of the things that you would need to look out for okay first thing is account security right we talked about",
    "start": "1260380",
    "end": "1267250"
  },
  {
    "text": "how to put Active Directory in a single account so you want what you want to do",
    "start": "1267250",
    "end": "1272410"
  },
  {
    "text": "is place all the domain controllers in a single account so whether you're using multi regional deployment or single",
    "start": "1272410",
    "end": "1278560"
  },
  {
    "text": "regional deployment consider deploying V pcs in that same account that will host domain controllers and you centralize",
    "start": "1278560",
    "end": "1284950"
  },
  {
    "text": "all the domain controllers in that single account again we'll talk about why and how why it's useful to secure it",
    "start": "1284950",
    "end": "1291250"
  },
  {
    "text": "but the high-level idea is that we talked about shared services account so",
    "start": "1291250",
    "end": "1296470"
  },
  {
    "text": "steric services by nature means there are common services that all your business units needs and you're",
    "start": "1296470",
    "end": "1301720"
  },
  {
    "text": "providing that right so which also means there are multiple teams operating within that single account so if that's",
    "start": "1301720",
    "end": "1307750"
  },
  {
    "text": "the case and you're putting Active Directory in a single account make sure to use tag based policies to restrict",
    "start": "1307750",
    "end": "1313660"
  },
  {
    "text": "access and the reason is you want to make sure folks who have access to ec2 and our EBS only have those access",
    "start": "1313660",
    "end": "1321100"
  },
  {
    "text": "because they they're doing something into Active Directory right so by enforcing the tag Beca base access and",
    "start": "1321100",
    "end": "1326770"
  },
  {
    "text": "putting the right tags in for the domain controllers you'd be able to ensure that those folks only have access and other",
    "start": "1326770",
    "end": "1332920"
  },
  {
    "text": "people who are operating the account can't do anything with the ad okay so when you're running on ec2 these two",
    "start": "1332920",
    "end": "1339250"
  },
  {
    "text": "things are really really important right easy to is are your domain controllers those domain controllers right so make",
    "start": "1339250",
    "end": "1345820"
  },
  {
    "text": "sure you limit access to who can start stop and terminate and also who has access to the EBS volumes that's",
    "start": "1345820",
    "end": "1352540"
  },
  {
    "text": "attached to the ec2 instance again to two separate impact right from the start stop terminate you don't want folks to",
    "start": "1352540",
    "end": "1359190"
  },
  {
    "text": "kill a domain controller or stop causing an outage those who don't have access",
    "start": "1359190",
    "end": "1364450"
  },
  {
    "text": "right so this should really be both of these functions should really be limited to Active Directory administrators who",
    "start": "1364450",
    "end": "1369760"
  },
  {
    "text": "should only have this access in terms of EBS you don't want folks to take a",
    "start": "1369760",
    "end": "1376000"
  },
  {
    "text": "snapshot of your Active Directory or or attach that EBS volume into another instance and copy your database file",
    "start": "1376000",
    "end": "1381310"
  },
  {
    "text": "that would be pretty bad right and the way you restrict that access again is by tags and by restricting",
    "start": "1381310",
    "end": "1386950"
  },
  {
    "text": "access to who can do that if this was in a separate ad account this would be a",
    "start": "1386950",
    "end": "1392260"
  },
  {
    "text": "lot more simpler because you would then hand over the entire accounts control to the Active Directory team rather than",
    "start": "1392260",
    "end": "1397540"
  },
  {
    "text": "try to use you know role based access control based on tags but either model works it's just what's some simpler for",
    "start": "1397540",
    "end": "1404470"
  },
  {
    "text": "you and what's better for you right lastly follow the best practices for for",
    "start": "1404470",
    "end": "1410080"
  },
  {
    "text": "managing that route credentials as you guys may be already aware a root account",
    "start": "1410080",
    "end": "1415270"
  },
  {
    "text": "can override any of the policies that you put in place so make sure that you have MFA turned on the routes secured",
    "start": "1415270",
    "end": "1422080"
  },
  {
    "text": "away you're not using it on a day-to-day basis it's only for you know the handful of things that really need it and lastly",
    "start": "1422080",
    "end": "1428860"
  },
  {
    "text": "it should only be with people who potentially may have active directory access and/or responsible for security",
    "start": "1428860",
    "end": "1435610"
  },
  {
    "text": "of it right because you don't want say a business unit access to a root Quran shell which then gives them access to",
    "start": "1435610",
    "end": "1441610"
  },
  {
    "text": "Active Directory which otherwise they would not have right so you want to really separate that network security",
    "start": "1441610",
    "end": "1449380"
  },
  {
    "start": "1447000",
    "end": "1602000"
  },
  {
    "text": "well we can talk about security without talking about network right so Before we jump into network security let's talk a",
    "start": "1449380",
    "end": "1455860"
  },
  {
    "text": "little bit about that architecture over there so we talked about centralizing domain controllers in a single account",
    "start": "1455860",
    "end": "1461770"
  },
  {
    "text": "so essentially I have a private subnet multiple availability zones I have a couple of domain controllers now this is",
    "start": "1461770",
    "end": "1468250"
  },
  {
    "text": "all regional so if you are operating in more than one AWS region you would have a replica of this pretty much in every",
    "start": "1468250",
    "end": "1475000"
  },
  {
    "text": "region right we don't want to cross regional boundaries right because Active Directory needs to be in that same",
    "start": "1475000",
    "end": "1480490"
  },
  {
    "text": "region based on the services it provides in terms of latency and best performance for your apps so yeah so so domain",
    "start": "1480490",
    "end": "1488290"
  },
  {
    "text": "controllers are located in a private zone and you have a number of V pcs these are V pcs that belongs to your",
    "start": "1488290",
    "end": "1493690"
  },
  {
    "text": "business unit this is where they are running applications right this could be any of their business applications and",
    "start": "1493690",
    "end": "1499690"
  },
  {
    "text": "they are not actually located in the same account because we talked about keeping active directory in a separate",
    "start": "1499690",
    "end": "1505030"
  },
  {
    "text": "account so essentially the V pieces V pieces are all located in different accounts but you can still connect them",
    "start": "1505030",
    "end": "1510700"
  },
  {
    "text": "to the shared services or ad VPC using V PC peering tgw or pretty much any knork technology so",
    "start": "1510700",
    "end": "1517460"
  },
  {
    "text": "you'd like to use right just make sure it's highly available right so this is typically how we see Active Directory",
    "start": "1517460",
    "end": "1522860"
  },
  {
    "text": "deployed in a single region and every region will you know how repeat the same logic so in this example let's talk",
    "start": "1522860",
    "end": "1529700"
  },
  {
    "text": "about how the the security groups works for the the ad well the first thing we want to do is allow ad ports from all",
    "start": "1529700",
    "end": "1535970"
  },
  {
    "text": "these V pcs that have domain members right security groups have a limitation",
    "start": "1535970",
    "end": "1541490"
  },
  {
    "text": "on the number of rules you can add so we don't want to get down to writing rules based on individual members or hosts we",
    "start": "1541490",
    "end": "1548150"
  },
  {
    "text": "want to write them based on subnets where you have hosts that require 80 services so if you have three V pcs and",
    "start": "1548150",
    "end": "1554180"
  },
  {
    "text": "one of them have no reason to talk to ad you would not have that one V PC in the",
    "start": "1554180",
    "end": "1559430"
  },
  {
    "text": "security group to allow right you would just completely ignore that V PC so you would only allow V pcs and you can get",
    "start": "1559430",
    "end": "1565040"
  },
  {
    "text": "down to subnet granularity if you like but for most part we have seen that this simplifies design and it simplifies the",
    "start": "1565040",
    "end": "1571250"
  },
  {
    "text": "access control set you guys need lastly the domain controllers itself will talk to each other right so those",
    "start": "1571250",
    "end": "1578150"
  },
  {
    "text": "those ports are open between the two so we typically see that being fully available to talk to each other and of",
    "start": "1578150",
    "end": "1584300"
  },
  {
    "text": "course if you have an on-prem domain controller and if it's either a replication or a trust then you want to",
    "start": "1584300",
    "end": "1590030"
  },
  {
    "text": "make sure that to be very granular about this right so you're only allowing on-premises DC's only on the ad ports or",
    "start": "1590030",
    "end": "1596690"
  },
  {
    "text": "transports to talk to these DC's so you want to be granular on the security controls okay how many of you have seen",
    "start": "1596690",
    "end": "1605420"
  },
  {
    "start": "1602000",
    "end": "1760000"
  },
  {
    "text": "this table I'm sure it's everybody right okay so Active Directory uses a lot of ports in",
    "start": "1605420",
    "end": "1611120"
  },
  {
    "text": "I mean for a good reason right provides a lot of services so you can see does LDAP LDAP as you know DNS and so on and",
    "start": "1611120",
    "end": "1618050"
  },
  {
    "text": "so forth so this is pretty popular if you guys have dealt with Active Directory this is also one of the reason most people say well I'm just gonna open",
    "start": "1618050",
    "end": "1624200"
  },
  {
    "text": "everything just because this is a lot of ports but we recommend not to write there's a couple of reasons for that but",
    "start": "1624200",
    "end": "1629390"
  },
  {
    "text": "I want to focus on a couple of things here one is this DNS so mo for most for",
    "start": "1629390",
    "end": "1636380"
  },
  {
    "text": "most people domain controllers are also there DNS servers they'll use them as DNS because they support integrated zones it's",
    "start": "1636380",
    "end": "1642860"
  },
  {
    "text": "secure and they like to use them which is great some people don't use them right because they may have appliances",
    "start": "1642860",
    "end": "1648620"
  },
  {
    "text": "they may have other servers because they don't want to combine the two functions so depending",
    "start": "1648620",
    "end": "1653750"
  },
  {
    "text": "on whether you do or don't you don't need to allow TCP or UDP 53 if you're not using it for DNS function right so",
    "start": "1653750",
    "end": "1659780"
  },
  {
    "text": "think about that when you when you configure this ad ports because this is just another thing that you know you",
    "start": "1659780",
    "end": "1665720"
  },
  {
    "text": "just don't have to have open and it just reduces the scope and impact of attack surface right lastly the ephemeral ports",
    "start": "1665720",
    "end": "1673340"
  },
  {
    "text": "so these are ports that are used by Windows RPC service these are ephemeral",
    "start": "1673340",
    "end": "1678350"
  },
  {
    "text": "ports and these are a large number of ports it's just the way the RPC works right so typically we leave all these",
    "start": "1678350",
    "end": "1684020"
  },
  {
    "text": "ports open because the Windows server will initiate a connection back now the thing I want to focus on here is the",
    "start": "1684020",
    "end": "1690290"
  },
  {
    "text": "range of the ports so if you started with Active Directory two decades ago this was all the ports right from 1024",
    "start": "1690290",
    "end": "1696920"
  },
  {
    "text": "to 65 535 Microsoft has gotten better and reducing this number of ports on on",
    "start": "1696920",
    "end": "1701960"
  },
  {
    "text": "newer Windows servers right running Active Directory I believe 2008 r2 and higher you don't need to open everything",
    "start": "1701960",
    "end": "1708559"
  },
  {
    "text": "from 1024 you just need to open from 49 152 right so that kind of limits 48,000",
    "start": "1708559",
    "end": "1713840"
  },
  {
    "text": "ports that you just don't have open right so if you're running newer domain controllers go back and check your security groups",
    "start": "1713840",
    "end": "1720140"
  },
  {
    "text": "to see if you still need everything or narrow them down to you know this new",
    "start": "1720140",
    "end": "1725420"
  },
  {
    "text": "port range instead of just leaving everything open lastly I want to call out a URL Microsoft URL that you can go",
    "start": "1725420",
    "end": "1732590"
  },
  {
    "text": "visit later so this talks about how to restrict RPC traffic coming to an active",
    "start": "1732590",
    "end": "1738380"
  },
  {
    "text": "directory to a single port again it's not all of this to a single port it's just talking about the ephemeral ports",
    "start": "1738380",
    "end": "1744380"
  },
  {
    "text": "right you still need all other ports for other services but if you want to limit if you don't want if you don't like this large",
    "start": "1744380",
    "end": "1750679"
  },
  {
    "text": "rate ranges you could limit the limit it to a single port and you can go read up on their documentation on how to and",
    "start": "1750679",
    "end": "1756740"
  },
  {
    "text": "what are some of the implications of doing that okay let's talk about other",
    "start": "1756740",
    "end": "1762470"
  },
  {
    "start": "1760000",
    "end": "1892000"
  },
  {
    "text": "network security considerations so knackles so we have a lot of tools",
    "start": "1762470",
    "end": "1767900"
  },
  {
    "text": "security tools available on AWS for you to use knackles is one of them when it comes to Active Directory and how many",
    "start": "1767900",
    "end": "1773630"
  },
  {
    "text": "ports we have and how it works it can be tricky to implement them and implement them correctly and have it be really",
    "start": "1773630",
    "end": "1779510"
  },
  {
    "text": "effective so we're not telling you not to use it word allowing you to use it if it's necessary",
    "start": "1779510",
    "end": "1785149"
  },
  {
    "text": "and you can't control traffic and using any other mechanisms like security groups and routing and so on right",
    "start": "1785149",
    "end": "1790510"
  },
  {
    "text": "justjust because of the complicated way of doing it stay away from it but if you have to use",
    "start": "1790510",
    "end": "1795919"
  },
  {
    "text": "it you should use it right at the end of the day you should only restrict what you want to up",
    "start": "1795919",
    "end": "1801470"
  },
  {
    "text": "this may sound obvious still want to call it out don't put domain controllers in public subnet there's absolutely no",
    "start": "1801470",
    "end": "1806990"
  },
  {
    "text": "reason for a domain controller to be in a public subnet it should always be in a private subnet I know there are some of",
    "start": "1806990",
    "end": "1812600"
  },
  {
    "text": "the folks that's thinking well I have my domain controllers doing internet name resolution how is that gonna work if",
    "start": "1812600",
    "end": "1817909"
  },
  {
    "text": "it's not in public subnet and I'm gonna talk about that as well",
    "start": "1817909",
    "end": "1822880"
  },
  {
    "text": "multiple AZ's again this is more of a availability thing rather than security but always deploy domain controllers and",
    "start": "1822919",
    "end": "1829190"
  },
  {
    "text": "multiple a-z don't ever deploy them in a single AZ because if you may have a issue with availability if there's an",
    "start": "1829190",
    "end": "1835549"
  },
  {
    "text": "issue with that easy routing table right nobody thinks of routing table has a security mechanism",
    "start": "1835549",
    "end": "1842090"
  },
  {
    "text": "but it really is right so routing tells you routing table allows you to do to",
    "start": "1842090",
    "end": "1847940"
  },
  {
    "text": "configure what networks you want to talk to the VPC that hosts the Active Directory domain controllers so for",
    "start": "1847940",
    "end": "1853549"
  },
  {
    "text": "example if you have a Direct Connect or VPN back to your on-premises and you may have a lot of ten dot subnets in you",
    "start": "1853549",
    "end": "1860600"
  },
  {
    "text": "know in your data centers so instead of routing everything to that V PC you can only route subnets or list of subnets",
    "start": "1860600",
    "end": "1868159"
  },
  {
    "text": "that have your on-premises domain controller right so essentially what you're doing is you're limiting the",
    "start": "1868159",
    "end": "1873200"
  },
  {
    "text": "amount of traffic that can even come into the V PC before employing other mechanisms like security groups and",
    "start": "1873200",
    "end": "1879440"
  },
  {
    "text": "knackles and so on so if you have a configure VP be PC R Direct Connect think about whether everything should be",
    "start": "1879440",
    "end": "1884870"
  },
  {
    "text": "routed or if you pick us up set off networks that should be routed to the V PC that has 80 all right so I promise to",
    "start": "1884870",
    "end": "1894380"
  },
  {
    "start": "1892000",
    "end": "2081000"
  },
  {
    "text": "get to the internet name resolution from the disease so again going back to the setup we had before we are a couple of V",
    "start": "1894380",
    "end": "1900380"
  },
  {
    "text": "pcs we have some domain controllers that are in the private subnet now how do I resolve internet name right so in the",
    "start": "1900380",
    "end": "1907909"
  },
  {
    "text": "case where you're using DC's for DNS every query from your member servers on",
    "start": "1907909",
    "end": "1913760"
  },
  {
    "text": "AWS in a single region is going to come to these DC's so DC's will automatically resolve DNS that's",
    "start": "1913760",
    "end": "1919800"
  },
  {
    "text": "authoritative to the zones it's hosting but what about those internet names right so we have a couple of choices on",
    "start": "1919800",
    "end": "1926160"
  },
  {
    "text": "how we can make this work first thing is send them to the route 53.2 resolver right so the doctor",
    "start": "1926160",
    "end": "1934080"
  },
  {
    "text": "resolver is the resolver we offer you in every V PC that you deploy something so",
    "start": "1934080",
    "end": "1939150"
  },
  {
    "text": "instead of using the route hence for external name resolution send everything to the dot - so you'll unconditionally",
    "start": "1939150",
    "end": "1946050"
  },
  {
    "text": "forward anything that it's not authoritative 42.2 and we'll take care of resolving that for you",
    "start": "1946050",
    "end": "1951210"
  },
  {
    "text": "this also has another added benefit if you're hosting about 53 private zones we",
    "start": "1951210",
    "end": "1956429"
  },
  {
    "text": "can resolve them - so you need any traffic that's coming in to the V PC into the dot - will resolve all of the",
    "start": "1956429",
    "end": "1962670"
  },
  {
    "text": "private hosted zone associated with that V PC right in addition to internet names the only thing you have to remember here",
    "start": "1962670",
    "end": "1971040"
  },
  {
    "text": "is you there's a 1024 packet per second limit when you hit the doctor resolver",
    "start": "1971040",
    "end": "1976980"
  },
  {
    "text": "from a single host you may have seen it we may not have come across it it sounds like it's it's it's not a lot but it is",
    "start": "1976980",
    "end": "1983520"
  },
  {
    "text": "a lot in terms of DNS because these resolvers these are solvers or domain controllers cache a lot of stuff so the",
    "start": "1983520",
    "end": "1989880"
  },
  {
    "text": "number of queries that actually go out is a lot less than you think it is right but if for some reason you do hit that",
    "start": "1989880",
    "end": "1995460"
  },
  {
    "text": "limit then you would you would have to architect this slightly differently instead of instead of relying on dot through dot - but otherwise this is a",
    "start": "1995460",
    "end": "2002000"
  },
  {
    "text": "great way to not expose domain controllers to internet when you have to resolve those names the second option is",
    "start": "2002000",
    "end": "2008270"
  },
  {
    "text": "to use DNS servers in a public subnet so again the idea is keeping the domain",
    "start": "2008270",
    "end": "2013730"
  },
  {
    "text": "controllers away from internet access both inbound and outbound so what I can do is instead of sending it to dot - you",
    "start": "2013730",
    "end": "2019880"
  },
  {
    "text": "can run your pair of resolvers if you're already running them for whatever reason may be authoritative zone or whatnot we",
    "start": "2019880",
    "end": "2026450"
  },
  {
    "text": "can send the traffic to those DNS servers which are in a public subnet which will then resolve the internet quarry and send the results back to the",
    "start": "2026450",
    "end": "2032929"
  },
  {
    "text": "DC right this is another option for you lastly you can have an add gateway and",
    "start": "2032929",
    "end": "2038480"
  },
  {
    "text": "have the DC's go out to the internet using the NAD gateways so this is outbound only access right not gateway",
    "start": "2038480",
    "end": "2044780"
  },
  {
    "text": "is a unidirectional service so no worries no unsolicited connection can come from Internet to your disease",
    "start": "2044780",
    "end": "2051230"
  },
  {
    "text": "but you can initiate outbound connections to the Internet through the NAD gateway right so out of the out of",
    "start": "2051230",
    "end": "2058878"
  },
  {
    "text": "the three options we have this is probably the the least preferred again because you're exposing the the DC's to",
    "start": "2058879",
    "end": "2065898"
  },
  {
    "text": "outbound route servers or other DNS servers directly so if there was a DNS molnar ability and your pcs were in",
    "start": "2065899",
    "end": "2073368"
  },
  {
    "text": "patch for it you could potentially be affected by it whereas having dot two or another DNS server in the middle shields",
    "start": "2073369",
    "end": "2078980"
  },
  {
    "text": "you from a lot of that fine alright so let's talk about encryption right LDAP",
    "start": "2078980",
    "end": "2087049"
  },
  {
    "start": "2081000",
    "end": "2263000"
  },
  {
    "text": "as so most people are probably familiar with LDAP s and it's the secure version of LDAP and a lot of apps will support",
    "start": "2087049",
    "end": "2093049"
  },
  {
    "text": "it so if your app support it use LDAP s so you're not sending clear text data over the V PC or even or the direct",
    "start": "2093049",
    "end": "2100609"
  },
  {
    "text": "connect in the text right in a clear encrypt EBS volumes so this is",
    "start": "2100609",
    "end": "2106190"
  },
  {
    "text": "encrypting data address how many folks how many of you folks are familiar with kms okay most that's great",
    "start": "2106190",
    "end": "2113569"
  },
  {
    "text": "so kms is our key management service which allows which is natively integrated with a lot of AWS services",
    "start": "2113569",
    "end": "2118789"
  },
  {
    "text": "which which allows you to save your keys so you can encrypt both you know more in",
    "start": "2118789",
    "end": "2124579"
  },
  {
    "text": "aw services in EBS you can encrypt the data at rest right so use use kms and attach the",
    "start": "2124579",
    "end": "2131470"
  },
  {
    "text": "encrypt the EBS volume that's attached to the domain controllers encrypt both",
    "start": "2131470",
    "end": "2136549"
  },
  {
    "text": "the C Drive and the D Drive I know some people separate the the data versus the the C but there's no reason not to if",
    "start": "2136549",
    "end": "2145099"
  },
  {
    "text": "you're operating in a shared account use a separate cmk or we call customer master key for Active Directory again cm",
    "start": "2145099",
    "end": "2152569"
  },
  {
    "text": "c MK you can create a number of CM case and you can define who has access to what CM case by creating a separate c MK",
    "start": "2152569",
    "end": "2160279"
  },
  {
    "text": "and restricting access to only Active Directory administrators you're narrowing down the scope of who can use",
    "start": "2160279",
    "end": "2167390"
  },
  {
    "text": "that kms key and access that EBS volume right so which so even if somebody gets access to an EBS volume without kms they",
    "start": "2167390",
    "end": "2174470"
  },
  {
    "text": "cannot see any encrypted data so it's it's kind of layered security where you want to do both not not one or the other",
    "start": "2174470",
    "end": "2181339"
  },
  {
    "text": "lastly Claude hsm how many of you folks know what HSM is loaded system some of",
    "start": "2181339",
    "end": "2187829"
  },
  {
    "text": "you okay so Florida HSM is a hardware security module where we store the keys in a",
    "start": "2187829",
    "end": "2194099"
  },
  {
    "text": "separate hardware security module dedicated to you right and you can use HSMs if your security mandates for it or",
    "start": "2194099",
    "end": "2202140"
  },
  {
    "text": "compliance mandate for it on how your key should be stored and maintained on AWS I'm going to talk about that in just",
    "start": "2202140",
    "end": "2209369"
  },
  {
    "text": "a minute here so this is kind of our kms service so you have the kms service and then you have what we call the HSM fleet",
    "start": "2209369",
    "end": "2216030"
  },
  {
    "text": "so kms is a shared service so all the customers keys are still managed in hardware security module but it's it's",
    "start": "2216030",
    "end": "2222900"
  },
  {
    "text": "combined and co-located into a fleet that we manage if you prefer to manage your own keys in your own cluster you",
    "start": "2222900",
    "end": "2229680"
  },
  {
    "text": "can create what called as a cloud HSM cluster you can keep the keys there and then connect that to the KSM KMS using",
    "start": "2229680",
    "end": "2236369"
  },
  {
    "text": "what we call custom key store so what this allows you to do is encrypt the EBS volumes use kms to encrypt EBS volumes",
    "start": "2236369",
    "end": "2243900"
  },
  {
    "text": "because it's seamless and it's EBS supports kms but store the keys in",
    "start": "2243900",
    "end": "2249060"
  },
  {
    "text": "your own cluster instead of the shared fleet that we have so if you have security requirements compliant requirement that requires you",
    "start": "2249060",
    "end": "2255599"
  },
  {
    "text": "to manage your own keys this is how you can leverage the the two services to encrypt your data and domain controllers",
    "start": "2255599",
    "end": "2263210"
  },
  {
    "start": "2263000",
    "end": "2375000"
  },
  {
    "text": "okay so logging and monitoring so security logs have wealth of information about your domain controllers you guys",
    "start": "2263210",
    "end": "2269220"
  },
  {
    "text": "probably know this you're doing a lot of security logging today in your data centers so extend that when you run",
    "start": "2269220",
    "end": "2275310"
  },
  {
    "text": "things on AWS right these are your best source of information so make sure to monitor them make sure to collect them",
    "start": "2275310",
    "end": "2280980"
  },
  {
    "text": "centralize them and also alert on it right VPC flow logs so VPC flow logs",
    "start": "2280980",
    "end": "2287130"
  },
  {
    "text": "gives you information about headers of packet that goes in and out of V PC or even in and out of subnets within the V",
    "start": "2287130",
    "end": "2293400"
  },
  {
    "text": "PC so make sure you turn them on and save them somewhere it helps you with troubleshooting so when you have a",
    "start": "2293400",
    "end": "2299040"
  },
  {
    "text": "communication failure instead of just opening the security groups and and seeing if things work you can actually",
    "start": "2299040",
    "end": "2304290"
  },
  {
    "text": "look at the flow logs to see if anything was dropped so that would conclusively tell you if it's a security group issue or an Akal",
    "start": "2304290",
    "end": "2310230"
  },
  {
    "text": "issue or something else right so turn it on in use them for troubleshooting purposes and also security if there's an incident",
    "start": "2310230",
    "end": "2317000"
  },
  {
    "text": "and you want to find out what happened in terms of know our communication you can go back to the flow logs and do a",
    "start": "2317000",
    "end": "2322040"
  },
  {
    "text": "bunch of queries and figure out exactly what happened make sure to set up real-time alerting",
    "start": "2322040",
    "end": "2328490"
  },
  {
    "text": "this is more important than just monitoring because when you win there are key events you want to know right",
    "start": "2328490",
    "end": "2333920"
  },
  {
    "text": "away right for example for trail so make sure to turn on cloud trail so when people stop a domain controller or",
    "start": "2333920",
    "end": "2340369"
  },
  {
    "text": "create a domain controller you will know exactly who did what when and you can go back to the cloud trail also turn on key",
    "start": "2340369",
    "end": "2348170"
  },
  {
    "text": "events in the cloud trail for monitoring right for example if you have an Active Directory account and somebody logs in with the root credentials you should",
    "start": "2348170",
    "end": "2354500"
  },
  {
    "text": "know about it right away right those are the proactive type of monitoring you you definitely want on monitors of the",
    "start": "2354500",
    "end": "2360619"
  },
  {
    "text": "disease for availability again set up easy to auto recovery so if there's a hardware failure and the domain",
    "start": "2360619",
    "end": "2365930"
  },
  {
    "text": "controllers stopped you want to turn turn them on automatically so you don't cause availability issue so make sure",
    "start": "2365930",
    "end": "2372710"
  },
  {
    "text": "you set that up again this is something you're probably doing probably familiar",
    "start": "2372710",
    "end": "2378830"
  },
  {
    "start": "2375000",
    "end": "2439000"
  },
  {
    "text": "with but restrict who has access to login to domain controllers this isn't this shouldn't be an everyday function",
    "start": "2378830",
    "end": "2384350"
  },
  {
    "text": "most of the time this isn't required except for things like security patches updates so this is more of a once a",
    "start": "2384350",
    "end": "2390320"
  },
  {
    "text": "month thing even that you can if you have automation you don't actually need to log into the domain controllers",
    "start": "2390320",
    "end": "2396580"
  },
  {
    "text": "perform administrative tasks from a management server so don't log into the DC's to do things like create users or",
    "start": "2396580",
    "end": "2403220"
  },
  {
    "text": "managing group policies or so on make sure that you do it off of an administrative computer or domain member",
    "start": "2403220",
    "end": "2409880"
  },
  {
    "text": "that's that's not the DC lastly backup your re ad environment make sure the",
    "start": "2409880",
    "end": "2415250"
  },
  {
    "text": "backup is secure so this means encrypting the backups not just the the drives right so because when you use",
    "start": "2415250",
    "end": "2421400"
  },
  {
    "text": "third party backup software or even snapshot snapshots are encrypted when",
    "start": "2421400",
    "end": "2426470"
  },
  {
    "text": "you drive volume is encrypted but fuse third party software it may or may not encrypt it so wherever you decide to",
    "start": "2426470",
    "end": "2432050"
  },
  {
    "text": "store them either an s3 or another EBS volume you want to make sure that location is encrypted as well",
    "start": "2432050",
    "end": "2439240"
  },
  {
    "start": "2439000",
    "end": "2451000"
  },
  {
    "text": "all right so let's jump to AWS managed ad security so how does he interviews do",
    "start": "2439440",
    "end": "2445319"
  },
  {
    "text": "security for managed ad what are some of the things that you should know when you're running managed ad right so first",
    "start": "2445319",
    "end": "2452760"
  },
  {
    "start": "2451000",
    "end": "2644000"
  },
  {
    "text": "thing a diminished managed ad single tenant so this is one of the services where we don't call okayed user data so",
    "start": "2452760",
    "end": "2459780"
  },
  {
    "text": "when you launch a directory on AWS managed ad and we deploy domain controllers for you these are single",
    "start": "2459780",
    "end": "2464910"
  },
  {
    "text": "tenant ed only your data is on it only you use that if another customer launches another managed ad we have",
    "start": "2464910",
    "end": "2470579"
  },
  {
    "text": "separate ec2 instances that service them so the data is never co-located or together",
    "start": "2470579",
    "end": "2476309"
  },
  {
    "text": "so the aw is managed ad is also based on actual Windows Active Directory deployment so this is not a EWS product",
    "start": "2476309",
    "end": "2484049"
  },
  {
    "text": "it's rather you know deployment and management of Microsoft Active Directory we use automation you may have heard",
    "start": "2484049",
    "end": "2491309"
  },
  {
    "text": "this multiple times or be here this multiple times throughout the the conference but we use a hard omission quite heavily so we don't have to have",
    "start": "2491309",
    "end": "2498780"
  },
  {
    "text": "humans touch and do things this might be deploying your environment this might be resolving issues with the environment",
    "start": "2498780",
    "end": "2504839"
  },
  {
    "text": "back backup snapshots whatever it be we try and automate most of the things and when we do have human touch something",
    "start": "2504839",
    "end": "2511619"
  },
  {
    "text": "there's a there's an elaborate process to make sure that they get a temporary access based on the credentials and it's",
    "start": "2511619",
    "end": "2517049"
  },
  {
    "text": "time bound and there is a ticket that does require them to log in and do something right so we follow all of",
    "start": "2517049",
    "end": "2523079"
  },
  {
    "text": "those process whenever humans has to touch anything in your managed data environment again a debate employees",
    "start": "2523079",
    "end": "2530640"
  },
  {
    "text": "don't have access to your domain admin credential in your managed data environment those are under automated",
    "start": "2530640",
    "end": "2536099"
  },
  {
    "text": "control so when we spin up your managed ad automatically we take those our",
    "start": "2536099",
    "end": "2541319"
  },
  {
    "text": "credentials that the domain admin credential for your directory and we automatically save them in an automated",
    "start": "2541319",
    "end": "2546750"
  },
  {
    "text": "automated fashion in a wall right and we don't have access to them and again it's in a case that we do require that we",
    "start": "2546750",
    "end": "2553289"
  },
  {
    "text": "it's a time bound control where we get access for this person working on this ticket for this much period of time and",
    "start": "2553289",
    "end": "2558839"
  },
  {
    "text": "that's about it we deliver all the security logs from",
    "start": "2558839",
    "end": "2564410"
  },
  {
    "text": "domain controllers to Claude watch so again security logs have wealth of information we want to make sure that you guys can use that information",
    "start": "2564410",
    "end": "2570280"
  },
  {
    "text": "monitor it and alert on in real time so we automatically push all of these logs",
    "start": "2570280",
    "end": "2576020"
  },
  {
    "text": "to the cloud watch so you can consume it from cloud watch directly in any fashion if you have tools like third party tools",
    "start": "2576020",
    "end": "2581870"
  },
  {
    "text": "like Splunk or whatnot you can directly pump the cloud watch into Splunk to help you with analyzing that information",
    "start": "2581870",
    "end": "2586970"
  },
  {
    "text": "faster in alerting on it real time and making decisions right away delegated",
    "start": "2586970",
    "end": "2594140"
  },
  {
    "text": "admin access using predefined groups so I mentioned this earlier in the presentation so when you launch an AWS",
    "start": "2594140",
    "end": "2600770"
  },
  {
    "text": "managed ad we don't give you domain admin credentials we give you what's called as a delegated credentials so",
    "start": "2600770",
    "end": "2606140"
  },
  {
    "text": "those are credentials that give you administrative functions to do everything you do within the directory",
    "start": "2606140",
    "end": "2612920"
  },
  {
    "text": "create Oh use create users create groups assign group policies do all of those",
    "start": "2612920",
    "end": "2618320"
  },
  {
    "text": "things but without the domain admin credentials and that's what allows us to run the service securely reliably and in",
    "start": "2618320",
    "end": "2625580"
  },
  {
    "text": "a highly available fashion so that's that's how you get control over it so when you launch a directory that's what",
    "start": "2625580",
    "end": "2631340"
  },
  {
    "text": "you get and then once you get that administrative credentials you can then use you know management server to go",
    "start": "2631340",
    "end": "2637460"
  },
  {
    "text": "provision everything else within the directory so that's that's the one account we will give you when you launch",
    "start": "2637460",
    "end": "2642680"
  },
  {
    "text": "a directory account security so the same thing we talked about in terms of",
    "start": "2642680",
    "end": "2648290"
  },
  {
    "text": "account still applies to manage ready you still want to locate it in a single account and you still want to restrict",
    "start": "2648290",
    "end": "2654350"
  },
  {
    "text": "access to a directory service service this is a little bit more easier than then doing the tag base easy too",
    "start": "2654350",
    "end": "2661430"
  },
  {
    "text": "because what you can do is write I am rules or policies to give somebody access to the entire directory service",
    "start": "2661430",
    "end": "2667310"
  },
  {
    "text": "in their account and and you're done right it gives them access to spinning up directories terminating directories so on and so forth without really going",
    "start": "2667310",
    "end": "2674570"
  },
  {
    "text": "to the granular level of only talking about or give me access to the ec2 instance",
    "start": "2674570",
    "end": "2679760"
  },
  {
    "text": "lastly same best practice in terms of route credential it's it's no different whether you is managed ad or or ec2 in",
    "start": "2679760",
    "end": "2688070"
  },
  {
    "text": "terms of set network security we do two things one is when you launch a managed ad we automatically apply a secure",
    "start": "2688070",
    "end": "2694860"
  },
  {
    "text": "for you that only allows 80 ports and by default only the domain controllers are talking to each other so before you can",
    "start": "2694860",
    "end": "2701280"
  },
  {
    "text": "even use the directory you have to add V pcs and/or subnet side arranges into that security group before you know 80",
    "start": "2701280",
    "end": "2708360"
  },
  {
    "text": "is even available right we also don't allow you to log in or RDP into the",
    "start": "2708360",
    "end": "2713670"
  },
  {
    "text": "domain controllers so when you launch the main controllers you'll get to en ice or IP addresses so those are your",
    "start": "2713670",
    "end": "2719370"
  },
  {
    "text": "domain controllers but when you try to RDP to them that that will fail but it will it will accept all the 80 ports and",
    "start": "2719370",
    "end": "2725160"
  },
  {
    "text": "it will function just like a domain controller so the way you manage your AWS managed ad is via the management",
    "start": "2725160",
    "end": "2731040"
  },
  {
    "text": "server and you can still use the Microsoft native tools like ad you C and G PNC and all that but you would use the",
    "start": "2731040",
    "end": "2737940"
  },
  {
    "text": "the server rather than logging into the DC's to do it",
    "start": "2737940",
    "end": "2742369"
  },
  {
    "start": "2742000",
    "end": "2804000"
  },
  {
    "text": "DNS name resolution so again we talked about how you can get that dns name resolution to work if you're using the",
    "start": "2743450",
    "end": "2749610"
  },
  {
    "text": "AWS managed ad as DNS servers we automatically do the the forwarding for you on the dot - so internet names are",
    "start": "2749610",
    "end": "2755790"
  },
  {
    "text": "automatically resolved and we manage that for you we also encrypt all EBS volumes by",
    "start": "2755790",
    "end": "2762030"
  },
  {
    "text": "default so there's there's nothing none of your data Active Directory data or otherwise sitting in clear in any of the",
    "start": "2762030",
    "end": "2768390"
  },
  {
    "text": "the disks and we use kms for that we also encrypt snapshots and those are",
    "start": "2768390",
    "end": "2773580"
  },
  {
    "text": "also stored securely lastly LDAP s so by default when you",
    "start": "2773580",
    "end": "2778710"
  },
  {
    "text": "launch AWS managed ad LDAP S is not turned on by default because LDAP s requires a certificate service right so",
    "start": "2778710",
    "end": "2786420"
  },
  {
    "text": "but it is supported what you need to do is first set up a circus-like ADCs or certificate services and then set up",
    "start": "2786420",
    "end": "2794190"
  },
  {
    "text": "managed ad to go pull certificates from there to before you can turn all the APIs so support it but it's one extra",
    "start": "2794190",
    "end": "2799320"
  },
  {
    "text": "steps before you get there shirt responsibility so this is a big",
    "start": "2799320",
    "end": "2806840"
  },
  {
    "start": "2804000",
    "end": "2977000"
  },
  {
    "text": "table so we'll talk about summaries right we talked about shared responsibility but we're going to look at how that applies to AWS managed ad so",
    "start": "2806840",
    "end": "2814880"
  },
  {
    "text": "on the Left we are responsible for a lot of things we talked about protecting the hardware software so we run on ec2 so we",
    "start": "2814880",
    "end": "2822110"
  },
  {
    "text": "protect all the stacks underneath we also isolate you from other customers manage your domain admin credentials",
    "start": "2822110",
    "end": "2828010"
  },
  {
    "text": "apply security patches and updates when Microsoft releases them on a monthly basis maintaining the availability of",
    "start": "2828010",
    "end": "2835460"
  },
  {
    "text": "the directory the way we do that is by deploying and multi easy by default so if one one we're navale wonder easy",
    "start": "2835460",
    "end": "2842600"
  },
  {
    "text": "wasn't available the other one always is even when applying patches we apply in a rolling fashion so we never apply",
    "start": "2842600",
    "end": "2848180"
  },
  {
    "text": "patches to to DC's at once right we also manage and manage and monitor",
    "start": "2848180",
    "end": "2853190"
  },
  {
    "text": "applications so if there's an issue with the replication we we are responsible for fixing that lastly we do a daily",
    "start": "2853190",
    "end": "2859070"
  },
  {
    "text": "snapshots automated snapshots so if you ever want to restore your directory back to the previous day you can do that but",
    "start": "2859070",
    "end": "2865610"
  },
  {
    "text": "we're doing that for you right the snapshotting itself you're responsible for managing the data itself",
    "start": "2865610",
    "end": "2871430"
  },
  {
    "text": "or use groups group policies if you have trusts you will be responsible for",
    "start": "2871430",
    "end": "2876830"
  },
  {
    "text": "configuring them again you're responsible for making sure that the ad is available over the network to",
    "start": "2876830",
    "end": "2882500"
  },
  {
    "text": "wherever your applications are we do allow scheme updates but you are you're responsible for providing the compatible",
    "start": "2882500",
    "end": "2888620"
  },
  {
    "text": "LD file for scheme update lastly LDAP and MFA you're responsible",
    "start": "2888620",
    "end": "2893690"
  },
  {
    "text": "for turning those on before you use okay",
    "start": "2893690",
    "end": "2899080"
  },
  {
    "text": "compliance I know a lot of application needs compliance right so you have a",
    "start": "2899080",
    "end": "2904610"
  },
  {
    "text": "whole bunch of compliance requirement and you're probably wondering can I use AWS managed ad if my application needs",
    "start": "2904610",
    "end": "2910100"
  },
  {
    "text": "you no need to meet these compliance requirements absolutely managed ad has a",
    "start": "2910100",
    "end": "2915980"
  },
  {
    "text": "lot of certification and this is just a subset of them right I want to talk about three key things that we get asked",
    "start": "2915980",
    "end": "2922790"
  },
  {
    "text": "over and over again those are the HIPAA the PCI and the fara so if you have applications that need to be PCI",
    "start": "2922790",
    "end": "2928190"
  },
  {
    "text": "compliant HIPAA compliant or federer I'm compliant we have managed ad that can support you in all of these three use",
    "start": "2928190",
    "end": "2933980"
  },
  {
    "text": "cases so again you'll deploy managed ad Manny JD already has the certifications",
    "start": "2933980",
    "end": "2938990"
  },
  {
    "text": "and are required compliance you would then you know you would then work on the",
    "start": "2938990",
    "end": "2944150"
  },
  {
    "text": "rest of your application stack to make sure it's PCI compliance right so yeah absolutely you can still do that all",
    "start": "2944150",
    "end": "2951860"
  },
  {
    "text": "right so if you have any questions I'm gonna be right here so feel free to stop by if you have any questions thanks a",
    "start": "2951860",
    "end": "2958130"
  },
  {
    "text": "lot for attending this session I hope you found this really useful please make sure to complete the survey in the",
    "start": "2958130",
    "end": "2964220"
  },
  {
    "text": "mobile app this is how we gather feedback from you and and improve our sessions to better suit your needs so",
    "start": "2964220",
    "end": "2969680"
  },
  {
    "text": "please provide feedback and that will be very helpful thanks a lot [Applause]",
    "start": "2969680",
    "end": "2979449"
  }
]