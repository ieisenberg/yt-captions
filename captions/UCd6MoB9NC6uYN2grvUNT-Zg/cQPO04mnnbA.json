[
  {
    "start": "0",
    "end": "99000"
  },
  {
    "text": "I'm currently the data engineering technique at a company called Al end up so what do we do where our headquarter",
    "start": "30",
    "end": "6990"
  },
  {
    "text": "is literally just a few blocks away we're a mission-driven company our mission is to provide anyone with a path",
    "start": "6990",
    "end": "13889"
  },
  {
    "text": "to better financial health we build technology credit products and also",
    "start": "13889",
    "end": "19220"
  },
  {
    "text": "educational experience for majority of American population that we consider as underserved mostly because they have",
    "start": "19220",
    "end": "27300"
  },
  {
    "text": "either poor credit or they have really volatile incomes so we're in this space",
    "start": "27300",
    "end": "33480"
  },
  {
    "text": "trying to help them to get a better financial health so like you probably",
    "start": "33480",
    "end": "41250"
  },
  {
    "text": "saw the title is cut a skilled in a platform Ellen up I actually took away a few key words in",
    "start": "41250",
    "end": "47309"
  },
  {
    "text": "the title because I had a feeling that that will push a few people away so what",
    "start": "47309",
    "end": "52469"
  },
  {
    "text": "do we actually be talking about today skill Enterprise Data Platform LNF or Finch in general so I know what do you",
    "start": "52469",
    "end": "59520"
  },
  {
    "text": "what do you think like here's a startup central like what are talking about why",
    "start": "59520",
    "end": "64619"
  },
  {
    "text": "enterprise enterprise is bad enterprise's anti-pattern is only useful for very large organizations so wait",
    "start": "64619",
    "end": "71970"
  },
  {
    "text": "through this talk I want to share some of our experience through the years and of how we learn to adopt some of the",
    "start": "71970",
    "end": "79770"
  },
  {
    "text": "core concepts and then guiding principle from enterprise data platform and then",
    "start": "79770",
    "end": "84930"
  },
  {
    "text": "use that to build our own data platform and then be able to scale that over the years so first it's like I want to kind",
    "start": "84930",
    "end": "94140"
  },
  {
    "text": "of talk about like the data landscape and also the unique challenges we have today on the left side of the screen you",
    "start": "94140",
    "end": "100979"
  },
  {
    "start": "99000",
    "end": "99000"
  },
  {
    "text": "will see a representation of the different domain of data that we have",
    "start": "100979",
    "end": "106829"
  },
  {
    "text": "and Linda and is also pretty representative in most of the financial lending business as well so I put a",
    "start": "106829",
    "end": "113520"
  },
  {
    "text": "different kind of data domains on two different dimensions is low versus high volumes and the structure versus",
    "start": "113520",
    "end": "119969"
  },
  {
    "text": "unstructured data because if basically those two dimensions will determine what",
    "start": "119969",
    "end": "127229"
  },
  {
    "text": "your tech stack looks like right so you can tell like it's a pretty large surface area so",
    "start": "127229",
    "end": "133340"
  },
  {
    "text": "we manage this Atlit knob so they're like a few unique challenges here first and foremost is the cost and a",
    "start": "133340",
    "end": "140569"
  },
  {
    "text": "complexity of managing and localizing third-party data so this is a this is like a common challenge at a tech",
    "start": "140569",
    "end": "147349"
  },
  {
    "text": "company because we heavily rely on third-party data for user acquisition risk analysis underwriting fraud",
    "start": "147349",
    "end": "155030"
  },
  {
    "text": "detection customer retention extra so there's a lot of surface area there and",
    "start": "155030",
    "end": "161420"
  },
  {
    "text": "in fact I did a quick count and then by volume we have over 36% of the data in",
    "start": "161420",
    "end": "167480"
  },
  {
    "text": "our data warehouse is actually from third-party data so when you consume this much like third-party data you",
    "start": "167480",
    "end": "173150"
  },
  {
    "text": "really have no control over the the schema the throughput of all the different kind of data right so and then",
    "start": "173150",
    "end": "179900"
  },
  {
    "text": "how you are managing them and localizing them so that your business partners can use the data is very challenging",
    "start": "179900",
    "end": "185410"
  },
  {
    "text": "secondly building a sustainable a platform is hard I struck out like that were scalable it doesn't mean is easy to",
    "start": "185410",
    "end": "191660"
  },
  {
    "text": "to to build a scalable platform nowadays it's just like over the years of the",
    "start": "191660",
    "end": "197590"
  },
  {
    "text": "like the evolution of the data engineering system and tools storage and",
    "start": "197590",
    "end": "204019"
  },
  {
    "text": "a computation becoming cheaper and easier however how you piece together",
    "start": "204019",
    "end": "209150"
  },
  {
    "text": "everything together and then making sure the whole business stakeholders can use",
    "start": "209150",
    "end": "215540"
  },
  {
    "text": "the data that you produce and a mint in still remain to be challenging number three is who I should have owned the",
    "start": "215540",
    "end": "221030"
  },
  {
    "text": "data right so I think this is like a challenge that we have and just like even today we still have this kind of",
    "start": "221030",
    "end": "226760"
  },
  {
    "text": "challenges at the Linda is who actually owns the data is the is the developer",
    "start": "226760",
    "end": "233239"
  },
  {
    "text": "who write the applications that produce the data owns a lot semantics of the data where is actually your business",
    "start": "233239",
    "end": "238849"
  },
  {
    "text": "partners number four is actually it's around the unified views on the data",
    "start": "238849",
    "end": "244430"
  },
  {
    "text": "across your organization versus a self-serving multi-tenant data platform sometimes",
    "start": "244430",
    "end": "250370"
  },
  {
    "text": "that they have conflict of interest so through the target part want to share how we kind of tackle those like",
    "start": "250370",
    "end": "256519"
  },
  {
    "text": "challenges over the years so here is how what what the data organization looks",
    "start": "256519",
    "end": "261709"
  },
  {
    "start": "261000",
    "end": "261000"
  },
  {
    "text": "like at alland up so have two million functions one is a record data platform or another is data",
    "start": "261709",
    "end": "267520"
  },
  {
    "text": "servicing so data platform we're responsible for four different components data movement those are all",
    "start": "267520",
    "end": "273220"
  },
  {
    "text": "the traditional ETL tools data ingestion is transformations and then we have did",
    "start": "273220",
    "end": "279040"
  },
  {
    "text": "a quality that is how you ensure the business level agreements we also have",
    "start": "279040",
    "end": "284200"
  },
  {
    "text": "dealer security if that goes without saying that highest priority at lineup and identity discovery by the way I do",
    "start": "284200",
    "end": "292870"
  },
  {
    "text": "want to mention that a few announcement today from ARS it's really exciting",
    "start": "292870",
    "end": "298570"
  },
  {
    "text": "around data security and I'm actually reading through some of the blog posts",
    "start": "298570",
    "end": "303820"
  },
  {
    "text": "and then trying to see if we can cover that and I did a discovery as well and",
    "start": "303820",
    "end": "309310"
  },
  {
    "text": "then on the data servicing team those are our data service engineers or data analysts that work with our different",
    "start": "309310",
    "end": "314740"
  },
  {
    "text": "domain of data work with our business stakeholders and they they want a very",
    "start": "314740",
    "end": "320050"
  },
  {
    "text": "accurate and accessible data and that they want to be productive as well so I",
    "start": "320050",
    "end": "326770"
  },
  {
    "text": "mentioned that like through the years we learned to adopt some of the core concepts of Enterprise is program so",
    "start": "326770",
    "end": "335260"
  },
  {
    "text": "here are a few keywords like like discipline ownership a mobility discover",
    "start": "335260",
    "end": "340870"
  },
  {
    "text": "and at the multi-tenant so what that means and how how did we get there",
    "start": "340870",
    "end": "345940"
  },
  {
    "text": "through the years in the past five years I would say we kind of went through three different iterations to get to",
    "start": "345940",
    "end": "353890"
  },
  {
    "start": "346000",
    "end": "346000"
  },
  {
    "text": "like the point that we have today and through each iterations we start to",
    "start": "353890",
    "end": "359080"
  },
  {
    "text": "bring in new technologies and a new AWS infrastructure that helped us to optimize time to market a time to value",
    "start": "359080",
    "end": "365800"
  },
  {
    "text": "and it helped us to skill our data platform first I'll start with our good",
    "start": "365800",
    "end": "372580"
  },
  {
    "text": "old friend Bosch right is like women when we start the company our ETL system is literally a collection of batch",
    "start": "372580",
    "end": "379750"
  },
  {
    "start": "373000",
    "end": "373000"
  },
  {
    "text": "scripts that manage a lot of sequel scripts and I was managed by crong and",
    "start": "379750",
    "end": "387490"
  },
  {
    "text": "we actually have a name for that project it's kind of sin suffice right",
    "start": "387490",
    "end": "394370"
  },
  {
    "text": "so is the great God that just repeatedly every day that just move the data around",
    "start": "394370",
    "end": "399770"
  },
  {
    "text": "and every day in the morning start over again so it's really a Postgres space the data lake and so what",
    "start": "399770",
    "end": "407060"
  },
  {
    "text": "that means it's like all of our or transactional data I saw like a few you guys are laughing so I'm pretty sure",
    "start": "407060",
    "end": "413360"
  },
  {
    "text": "that you have been through there as well all right we're all been there so like",
    "start": "413360",
    "end": "418520"
  },
  {
    "text": "it's really like we expose all the oil TP data and then we have data consumers",
    "start": "418520",
    "end": "423530"
  },
  {
    "text": "really relations like build up like well ap data on top of the transactional data or however they want",
    "start": "423530",
    "end": "429380"
  },
  {
    "text": "so a like that the problem is is very obvious right so it's a very small time to value and like is you have very poor",
    "start": "429380",
    "end": "436250"
  },
  {
    "text": "support for ad hoc analysis and that there's like no zero knowledge on what data you have there and available for",
    "start": "436250",
    "end": "443780"
  },
  {
    "text": "the data consumers and what what happened was people spend more time finding the relevant information instead",
    "start": "443780",
    "end": "450770"
  },
  {
    "text": "of like using it to gain the insights so we quickly move on from this iteration",
    "start": "450770",
    "end": "455920"
  },
  {
    "text": "and that's to the second stage where we introduce like to a critical piece of",
    "start": "455920",
    "end": "462860"
  },
  {
    "start": "462000",
    "end": "462000"
  },
  {
    "text": "our infrastructure with our flow and a relative so we're at a very early adopter of air flow and our engineering",
    "start": "462860",
    "end": "470090"
  },
  {
    "text": "team also a country get back to this open source project as well so if you haven't heard of it is open sourced by",
    "start": "470090",
    "end": "475100"
  },
  {
    "text": "Airbnb and right now is also part of the Apache foundation as well it's a workflow management system and",
    "start": "475100",
    "end": "482360"
  },
  {
    "text": "there are a few things that we really like about a so that we start to use it at a very early stage so a few things",
    "start": "482360",
    "end": "489050"
  },
  {
    "text": "really kind of like status stood out a number one is like you can define your workflow ice cold that's like really",
    "start": "489050",
    "end": "495020"
  },
  {
    "text": "powerful right like you there are basically two wait like two weeks you can do workflow management you",
    "start": "495020",
    "end": "500870"
  },
  {
    "text": "either just I write code in places really saying this depends on that your",
    "start": "500870",
    "end": "506120"
  },
  {
    "text": "tech speed depends on text a and then you like if text a field and that you have to manage retries were were alert",
    "start": "506120",
    "end": "512750"
  },
  {
    "text": "all by yourself or you define everything explicitly in a graph right so that's",
    "start": "512750",
    "end": "519020"
  },
  {
    "text": "where like air flow came in so you can you can write your lodging your flow as cold and you can specify your",
    "start": "519020",
    "end": "525920"
  },
  {
    "text": "tax and dependences programmatically so we introduced this very early stage and and it also has a very powerful UI for",
    "start": "525920",
    "end": "532520"
  },
  {
    "text": "data ops and then we also replace Postgres with red shift I think over the years if you ask me like one thing that",
    "start": "532520",
    "end": "539360"
  },
  {
    "text": "I feel like we we that one of the technical decision I think that we we",
    "start": "539360",
    "end": "544940"
  },
  {
    "text": "did right was was introduced and right shift and we start to use recive as - as",
    "start": "544940",
    "end": "550220"
  },
  {
    "text": "our centralized data warehouse there are a lot of talks about like why worship as",
    "start": "550220",
    "end": "555590"
  },
  {
    "text": "good as performance so I will skip that but there are a few things like like we",
    "start": "555590",
    "end": "560810"
  },
  {
    "text": "we we started to use is one is we have a solid schema as a data mining zone what",
    "start": "560810",
    "end": "567650"
  },
  {
    "text": "that means is we have a separate schema that all the data we ingest island in",
    "start": "567650",
    "end": "574130"
  },
  {
    "text": "the schema first and that's not exposed to anyone but data platform engineer and then we do bunch of like charts and if",
    "start": "574130",
    "end": "581270"
  },
  {
    "text": "everything passes and then we move to a different kind of other schemas and then",
    "start": "581270",
    "end": "586790"
  },
  {
    "text": "all the tables are accessible by views instead of the materialized at the table",
    "start": "586790",
    "end": "592490"
  },
  {
    "text": "because very often you need to protect our data you need to do some migrations so by having a view in front of it you",
    "start": "592490",
    "end": "599150"
  },
  {
    "text": "can do all the transformation or migrations behind the scene and your your your business users or won't be",
    "start": "599150",
    "end": "605120"
  },
  {
    "text": "affected and we use Flyway for schema evolution just as our OLTP database one",
    "start": "605120",
    "end": "612320"
  },
  {
    "text": "thing I hear I mentioned I said we use copy via SSH what I'm what I mean is you",
    "start": "612320",
    "end": "618950"
  },
  {
    "text": "can actually build up a sister know that via a remote host like you stream your data from your source database in this",
    "start": "618950",
    "end": "625190"
  },
  {
    "text": "case post grass directly to ratchet so that's what we did at this stage and and",
    "start": "625190",
    "end": "630500"
  },
  {
    "text": "that ended up causing a lot of problems so what are they so first is it's like",
    "start": "630500",
    "end": "635540"
  },
  {
    "text": "your ETL job and then did ingestion constantly fighting over resources with your business users and because we",
    "start": "635540",
    "end": "643970"
  },
  {
    "text": "streamed the data directly and we can't really do much like optimization or compress the data or leave that either",
    "start": "643970",
    "end": "650360"
  },
  {
    "text": "into multiple chunks so that you can elaborate like parallelism right so a but it was simple it was",
    "start": "650360",
    "end": "657230"
  },
  {
    "text": "was easy to set up but then we have this like resources and issues",
    "start": "657230",
    "end": "663050"
  },
  {
    "text": "secondly because we streamed the data directly so we kind of give 100% trials on on the upstream system saying like",
    "start": "663050",
    "end": "670070"
  },
  {
    "text": "hey we believe every data that we take from you and as a if we were working the",
    "start": "670070",
    "end": "675350"
  },
  {
    "text": "data you know like you can literally trust nobody so and I end up like causing a lot of",
    "start": "675350",
    "end": "680990"
  },
  {
    "text": "problem because if the upstream change their semantics or schema that broke the data injection process",
    "start": "680990",
    "end": "686480"
  },
  {
    "text": "all the time 30 is like our visiting where our compliance team always ask questions like hey what our system looks",
    "start": "686480",
    "end": "693260"
  },
  {
    "text": "like for a specific user at a given time an opportunity like actually pretty hard",
    "start": "693260",
    "end": "699820"
  },
  {
    "text": "question to answer or why is that because your upstream system you can't really ensure immutability a good",
    "start": "699820",
    "end": "707300"
  },
  {
    "text": "example I say a users table right and then you might have like one row per user and then you modify that all the",
    "start": "707300",
    "end": "713030"
  },
  {
    "text": "time so how do you ensure that immutability of that so you have to do",
    "start": "713030",
    "end": "718850"
  },
  {
    "text": "that in the in the in the data layer so this is how we kind of migrated to the third iteration of our data platform",
    "start": "718850",
    "end": "725750"
  },
  {
    "text": "that we highlight a few things immutability till quality did it",
    "start": "725750",
    "end": "730880"
  },
  {
    "start": "729000",
    "end": "729000"
  },
  {
    "text": "discoverability so the first thing that we did was we move away from recive",
    "start": "730880",
    "end": "736160"
  },
  {
    "text": "being the data landing zone we centralized user at three as the landing",
    "start": "736160",
    "end": "741440"
  },
  {
    "text": "zone or you can call it data Lake but we took a hybrid approach the reason that",
    "start": "741440",
    "end": "747110"
  },
  {
    "text": "we use the layer three as a centralized the landings are always because then we can hardly optimize the loading process",
    "start": "747110",
    "end": "754520"
  },
  {
    "text": "we start to kind of like split the data into different chunks and each chunk of the data we make sure is around like 100",
    "start": "754520",
    "end": "761120"
  },
  {
    "text": "megabyte to 1 gigabyte ish and that's like what we figured like the best kind",
    "start": "761120",
    "end": "768260"
  },
  {
    "text": "of size for loading in right shift and then we can also leverage some of the",
    "start": "768260",
    "end": "773660"
  },
  {
    "text": "new tools coming out from a generous rest of spectrum and also I don't like",
    "start": "773660",
    "end": "779390"
  },
  {
    "text": "screw which was announced last year at that way and then and and they all have similar",
    "start": "779390",
    "end": "784930"
  },
  {
    "text": "integration with data AF 3 number 3 which is like the most critical piece",
    "start": "784930",
    "end": "790600"
  },
  {
    "text": "for us is enforcing mobility in the data layer like they were like two guiding principles that we we we adopted and and",
    "start": "790600",
    "end": "798480"
  },
  {
    "text": "you'll be shocked that those are when I talk to other folks from different companies or like a small to large",
    "start": "798480",
    "end": "804700"
  },
  {
    "text": "organization I realized those kind of principles actually is part of like some of the enterprise data program almost",
    "start": "804700",
    "end": "811330"
  },
  {
    "text": "like two decades ago and and and we're still kind of like learning that and I thought that was like something cool and",
    "start": "811330",
    "end": "818410"
  },
  {
    "text": "then number one is like never delete you know we never did any data when we bring that into a three and when we do have to",
    "start": "818410",
    "end": "825670"
  },
  {
    "text": "update a specific partition or specific data we always archive the previous partition before we update the new one",
    "start": "825670",
    "end": "836310"
  },
  {
    "text": "and then we start to kind of collect a lot more metadata and then have the metadata sitting next to your petition",
    "start": "836310",
    "end": "843270"
  },
  {
    "text": "so including the manifests the file for recive loading or like some of the",
    "start": "843270",
    "end": "848830"
  },
  {
    "text": "metadata that you use when you extract the data or load the data we have automatic data loosely sitting next to",
    "start": "848830",
    "end": "855070"
  },
  {
    "text": "the prediction so that you can always know what happened at a specific event time so here is like how we design our a",
    "start": "855070",
    "end": "864690"
  },
  {
    "text": "data lining zone so here like it kind of",
    "start": "864690",
    "end": "869800"
  },
  {
    "text": "like represent like two two processes like so the first around is we have a",
    "start": "869800",
    "end": "876280"
  },
  {
    "text": "pretty we have an entity color user so we have a petition by our and then we have to prefix in by the way those are",
    "start": "876280",
    "end": "883120"
  },
  {
    "text": "all in a 3-1 prefix is called data you have a batch ID which is just time stamp",
    "start": "883120",
    "end": "889090"
  },
  {
    "text": "when we finish like the ingestion and then we have a metadata once around the",
    "start": "889090",
    "end": "894430"
  },
  {
    "text": "metadata of the data abstraction another server is the actual manifest that used",
    "start": "894430",
    "end": "900370"
  },
  {
    "text": "for loading data into R a shift so what happen if you realize like the users",
    "start": "900370",
    "end": "906940"
  },
  {
    "text": "etl for for this specific predation is actually wrong we need to fix it so you",
    "start": "906940",
    "end": "914080"
  },
  {
    "text": "have to run the ETL again and instead of like like updating the current petition",
    "start": "914080",
    "end": "919750"
  },
  {
    "text": "what we did it was it's almost like to a stage commit the first stage is we move",
    "start": "919750",
    "end": "925540"
  },
  {
    "text": "all the previous petition in to archive and we don't delete the metadata then we",
    "start": "925540",
    "end": "931260"
  },
  {
    "text": "recreate like the data prefix and then start to kind of lay write the new petition so by doing this like we never",
    "start": "931260",
    "end": "938290"
  },
  {
    "text": "delete and and also by doing this you you make sure that you always have a",
    "start": "938290",
    "end": "943330"
  },
  {
    "text": "copy of the data no matter of what happened and then we have like a really simple API just like to tell me what is",
    "start": "943330",
    "end": "950230"
  },
  {
    "text": "the data that you can actually trust and of course that always just like point to",
    "start": "950230",
    "end": "955570"
  },
  {
    "text": "the data in the data in the data prefix that we didn't start we started to do",
    "start": "955570",
    "end": "965530"
  },
  {
    "start": "965000",
    "end": "965000"
  },
  {
    "text": "was really took dinner quality as first-class citizen and the reason we",
    "start": "965530",
    "end": "971080"
  },
  {
    "text": "did that was because data we have found that over the years as like dinner quality and dinner ownership it really",
    "start": "971080",
    "end": "976630"
  },
  {
    "text": "go hand in hand and we have this in-house system called a checkup and I like on the left hand side is a diagram",
    "start": "976630",
    "end": "983800"
  },
  {
    "text": "of how checkup works and you can tell like we we kind of got some highly inspired from some medical terms so we",
    "start": "983800",
    "end": "992280"
  },
  {
    "text": "what like typically what happened was we collect some of the stats around a",
    "start": "992280",
    "end": "997960"
  },
  {
    "text": "specific data so for in society let's keep using the users entity or what we",
    "start": "997960",
    "end": "1003360"
  },
  {
    "text": "did was we would collect some of the data around like what is the a month",
    "start": "1003360",
    "end": "1009240"
  },
  {
    "text": "like the minimum maximum and how many times am on column is it's not and then",
    "start": "1009240",
    "end": "1014910"
  },
  {
    "text": "once we collect all this we're out diagnosis and then in the Tanglers we those are all the business and rules",
    "start": "1014910",
    "end": "1020940"
  },
  {
    "text": "those are we encourage our business team or data analyst or data service team to actually tell us what are the business",
    "start": "1020940",
    "end": "1026699"
  },
  {
    "text": "rules so finally among has to be greater than 0 it cannot be more than 5 thousand",
    "start": "1026700",
    "end": "1032189"
  },
  {
    "text": "dollars so if you saw someone purchase I scream that that is like five thousand dollars you know something is wrong and",
    "start": "1032190",
    "end": "1038490"
  },
  {
    "text": "also it cannot be no and then once you have all the diagnosis",
    "start": "1038490",
    "end": "1044360"
  },
  {
    "text": "you can you have your prescription right so like based on some kind of like threshold you say okay it's passed and",
    "start": "1044360",
    "end": "1051500"
  },
  {
    "text": "then you let the data flow through or you have like error or warning you hope",
    "start": "1051500",
    "end": "1056750"
  },
  {
    "text": "to like emails or webpages you read that you have the data producer to be responsible for for for fixing the data",
    "start": "1056750",
    "end": "1064280"
  },
  {
    "text": "to improve the data quality and everything is defined a llamó business",
    "start": "1064280",
    "end": "1070160"
  },
  {
    "text": "back and we have a very tight integration with airflow so our data et",
    "start": "1070160",
    "end": "1077450"
  },
  {
    "text": "al like we all have those kind of little checkup tags like all the time and then",
    "start": "1077450",
    "end": "1084290"
  },
  {
    "text": "they have different color as well so that you you know like where the the problem is so which is pretty nice and",
    "start": "1084290",
    "end": "1090530"
  },
  {
    "text": "then the the way it works is like we have the data consumers they will define the business level agreement and then we",
    "start": "1090530",
    "end": "1097100"
  },
  {
    "text": "have the producers they're responsible for enforcing that so here is so so this",
    "start": "1097100",
    "end": "1102500"
  },
  {
    "text": "is what I mean by dealer quality and a data ownership which is in this case like everything here like the among",
    "start": "1102500",
    "end": "1107810"
  },
  {
    "text": "needs to be more than zero it needs to be less than five thousand dollars those are all the contract as a data",
    "start": "1107810",
    "end": "1113450"
  },
  {
    "text": "producer that you sign the contract with the earth data consumer and I know as an engineer like our job is to make sure",
    "start": "1113450",
    "end": "1120680"
  },
  {
    "text": "whatever we do whatever changes were made in the upstream system the contract",
    "start": "1120680",
    "end": "1126370"
  },
  {
    "text": "it's not broken and this goes back to one of the values we have at Linda which",
    "start": "1126370",
    "end": "1132980"
  },
  {
    "text": "is acting like an owner so we really want everybody to act like an owner of the data quality and then making sure",
    "start": "1132980",
    "end": "1139640"
  },
  {
    "text": "that like the the business seems to spend more time to kind of for analytics",
    "start": "1139640",
    "end": "1144680"
  },
  {
    "text": "instead of like worrying about is my data sterile is my data is accurate can",
    "start": "1144680",
    "end": "1150350"
  },
  {
    "text": "I trust it next I want to kind of like talk about a",
    "start": "1150350",
    "end": "1156140"
  },
  {
    "text": "few things that we get around multi-tenancy especially in the context of the right shift so Russia is a shared resources",
    "start": "1156140",
    "end": "1162770"
  },
  {
    "text": "there are like two ways that you can make it super scalable one is you threw money other problem you have like a huge",
    "start": "1162770",
    "end": "1168860"
  },
  {
    "text": "cluster and then like the memory Network all I filled up and everybody's happy or you do",
    "start": "1168860",
    "end": "1177350"
  },
  {
    "text": "something that we went through we went through a lot of pain and a way we will learn over the years how you how to",
    "start": "1177350",
    "end": "1182690"
  },
  {
    "text": "optimize rash if I share resources for multi-tenancy so the first thing that we",
    "start": "1182690",
    "end": "1187789"
  },
  {
    "text": "did was we introduces this thing called a Linda so which is a llamo spec but",
    "start": "1187789",
    "end": "1192889"
  },
  {
    "text": "it is more strict and more structured than that and what that does is literally we make it a hatter for every",
    "start": "1192889",
    "end": "1199190"
  },
  {
    "text": "single sequel scripts that we have in our system so this is how this header is",
    "start": "1199190",
    "end": "1204889"
  },
  {
    "text": "embedded and then we have all the system including check up including air flow will interpret this header and",
    "start": "1204889",
    "end": "1210919"
  },
  {
    "text": "understand what needs to be done how we can programmatically constructed that and how can we make sure we program Lee",
    "start": "1210919",
    "end": "1217519"
  },
  {
    "text": "call checkup to ensure the data quality and you can use this for profile as well",
    "start": "1217519",
    "end": "1223340"
  },
  {
    "text": "here's a quick example of what what the header looks like so finds that you have what is a priority weight of this sequel",
    "start": "1223340",
    "end": "1229580"
  },
  {
    "text": "if it's super high that means you should run is like earlier than anybody else",
    "start": "1229580",
    "end": "1236809"
  },
  {
    "text": "and then you have you define SLA you define timeout and and what are the",
    "start": "1236809",
    "end": "1242330"
  },
  {
    "text": "dependencies so everything is right rethinking aspect that everybody understand and then here with air flow",
    "start": "1242330",
    "end": "1249019"
  },
  {
    "text": "you can't you also achieve that they did a lineage second thing that we did was",
    "start": "1249019",
    "end": "1256129"
  },
  {
    "text": "we make sure that we have a dedicated kheema for each tenant tena here a URI alignment with your business",
    "start": "1256129",
    "end": "1262309"
  },
  {
    "text": "organization so suffice is like in our case we have different product engineering teams we have loans team car",
    "start": "1262309",
    "end": "1268129"
  },
  {
    "text": "team and we also have different kind of business function teams or my finance team growth team so we have a dedicated",
    "start": "1268129",
    "end": "1274039"
  },
  {
    "text": "email for each tenant so that one is we're able to kind of like really look at like well profile in all the",
    "start": "1274039",
    "end": "1280369"
  },
  {
    "text": "different queries and figure out where the performance bottleneck is and B and also is really for compliance and and",
    "start": "1280369",
    "end": "1286610"
  },
  {
    "text": "the security last but not leastly one",
    "start": "1286610",
    "end": "1291919"
  },
  {
    "text": "thing that we also introduced at a very early stage is to leverage like the WM",
    "start": "1291919",
    "end": "1297200"
  },
  {
    "text": "workload management that saves all out of trouble for us and basically is",
    "start": "1297200",
    "end": "1304669"
  },
  {
    "text": "it's a wipe you can go to like a Thomas Council and identifying all the",
    "start": "1304669",
    "end": "1309740"
  },
  {
    "text": "different workload management rules but what but also you can you use your CLI",
    "start": "1309740",
    "end": "1315890"
  },
  {
    "text": "too so that you can sync with something like github with your rules and there",
    "start": "1315890",
    "end": "1322100"
  },
  {
    "text": "are lot of like tutorials out there talking about how how to optimize is here what I really want to talk about is",
    "start": "1322100",
    "end": "1328370"
  },
  {
    "text": "some like a lesson we learn of how to not using it first and foremost is like",
    "start": "1328370",
    "end": "1333470"
  },
  {
    "text": "you don't want to define actually too many cues when this first came out and",
    "start": "1333470",
    "end": "1339710"
  },
  {
    "text": "one thing that we did was oh you know well we have a schema line up with the tenant when our we also have the cues",
    "start": "1339710",
    "end": "1345980"
  },
  {
    "text": "align them with each scheme and a tenant as well so there you have really great like a fine control over the workload",
    "start": "1345980",
    "end": "1352789"
  },
  {
    "text": "and what happened is if you're not actually like if one of the tenant is",
    "start": "1352789",
    "end": "1358789"
  },
  {
    "text": "actually not actively using a red shift and then that's become like idle resources so you don't want that so what",
    "start": "1358789",
    "end": "1364340"
  },
  {
    "text": "we after a few iterations what we end up with was two queues one is just for ETL",
    "start": "1364340",
    "end": "1370789"
  },
  {
    "text": "jobs and that those are all the kind of like daily schedule jobs including critical business reporting's and also",
    "start": "1370789",
    "end": "1376940"
  },
  {
    "text": "another cue is a round of BI tools or ad hoc queries so those are all the things that sometimes I unexpected heavy",
    "start": "1376940",
    "end": "1385070"
  },
  {
    "text": "expensive query can happen and then then so you can oscillate that into a separate queue and also once you have",
    "start": "1385070",
    "end": "1392149"
  },
  {
    "text": "this like AWS introduced this time a criminal rules I believe a year and a",
    "start": "1392149",
    "end": "1400940"
  },
  {
    "text": "half ago those are those are really important as well so what we did was we",
    "start": "1400940",
    "end": "1405980"
  },
  {
    "text": "defined a few rules based on some of the data profiling that we learned over the years and then for instance I if it's a",
    "start": "1405980",
    "end": "1412010"
  },
  {
    "text": "whole query here's a quick example of what the rule could look like and for ad",
    "start": "1412010",
    "end": "1417049"
  },
  {
    "text": "hoc query you can say if his execution time is too long consume too much CPU",
    "start": "1417049",
    "end": "1422480"
  },
  {
    "text": "and you are writing too much into the disk then we should either log it so that we can grab the Internet's later on",
    "start": "1422480",
    "end": "1429169"
  },
  {
    "text": "and then analyze why that happened where you can even about abort it so that like that query will",
    "start": "1429169",
    "end": "1434480"
  },
  {
    "text": "- literally - hit the limit and we'll just like abort and to really understand",
    "start": "1434480",
    "end": "1442520"
  },
  {
    "text": "like the the redshift you know in a multi-tenant fashion you need a lot of",
    "start": "1442520",
    "end": "1447860"
  },
  {
    "start": "1444000",
    "end": "1444000"
  },
  {
    "text": "like a matrix so we spent a lot of time on monitoring and alerting in rash IFFT",
    "start": "1447860",
    "end": "1453169"
  },
  {
    "text": "we have basically two source of data to look at first one is all the STL data so",
    "start": "1453169",
    "end": "1460010"
  },
  {
    "text": "it's just me all the STL tables so all the STL tables they're generated from",
    "start": "1460010",
    "end": "1465860"
  },
  {
    "text": "russia vlog actually so there's a dealer in tension problem there so i can highly",
    "start": "1465860",
    "end": "1471169"
  },
  {
    "text": "recommend that you have ETL jobs that persist and archive that data often and",
    "start": "1471169",
    "end": "1478090"
  },
  {
    "text": "but those those variable data will will usually showcase the some kind of like",
    "start": "1478090",
    "end": "1485929"
  },
  {
    "text": "the performance characteristics of your ration cluster so that you can look at",
    "start": "1485929",
    "end": "1492020"
  },
  {
    "text": "it and understand for each of the tenant how they are using your resources second",
    "start": "1492020",
    "end": "1497750"
  },
  {
    "text": "source of a metric is coming from a car watch that's a no-brainer I do want to",
    "start": "1497750",
    "end": "1503570"
  },
  {
    "text": "have a call out for a pretty awesome project that I should open source by a level s is on github you can search for",
    "start": "1503570",
    "end": "1511309"
  },
  {
    "text": "recive advanced monitoring it's basically a lambda function that you can define set of queries query from like",
    "start": "1511309",
    "end": "1519559"
  },
  {
    "text": "SQL tables and then that will convert into a cloud watch matrix so if you already have something set up for",
    "start": "1519559",
    "end": "1525980"
  },
  {
    "text": "instances like claw watch type to something like Blanco or small logic highly recommend you set with that",
    "start": "1525980",
    "end": "1531470"
  },
  {
    "text": "lambda which is my lambda function so that you have a unified view of all the",
    "start": "1531470",
    "end": "1537380"
  },
  {
    "text": "other metrics the way that we did was we actually use Cortana to plot all of the",
    "start": "1537380",
    "end": "1543950"
  },
  {
    "text": "metrics and a core fauna a few months ago they had the capability to actually",
    "start": "1543950",
    "end": "1549049"
  },
  {
    "text": "use Postgres as a data source so we're able to plot all the SPL metrics you're",
    "start": "1549049",
    "end": "1554330"
  },
  {
    "text": "actually instead of like writing to call watch metrics so we can we can extend",
    "start": "1554330",
    "end": "1560510"
  },
  {
    "text": "that really fast so on the right side here is a simple",
    "start": "1560510",
    "end": "1566360"
  },
  {
    "text": "I found a dashboard that we use to monitor rations and there are a few key metrics we look at and I highly recommend you to look at as well number",
    "start": "1566360",
    "end": "1573590"
  },
  {
    "text": "one is is all the query time and also really just breaking that down to a 50th",
    "start": "1573590",
    "end": "1579200"
  },
  {
    "text": "percentile or 99% health so that you can look at all the different outliers and",
    "start": "1579200",
    "end": "1584690"
  },
  {
    "text": "also our columns not compressed compression is a super critical and",
    "start": "1584690",
    "end": "1591200"
  },
  {
    "text": "important in Russia because one it will significantly improve the your core",
    "start": "1591200",
    "end": "1596990"
  },
  {
    "text": "performance and also that will save a lot of money because rest is charged by",
    "start": "1596990",
    "end": "1602240"
  },
  {
    "text": "a data storage number three is monitor the long locks recipe and the likes",
    "start": "1602240",
    "end": "1609680"
  },
  {
    "text": "database is not uncommon that you have long locks but really like keep an eye",
    "start": "1609680",
    "end": "1614810"
  },
  {
    "text": "on some of the long running locks and then making sure you clean them up",
    "start": "1614810",
    "end": "1620500"
  },
  {
    "text": "queries against now sorted right this is if you have a sore key distribution key",
    "start": "1620500",
    "end": "1626180"
  },
  {
    "text": "you want to look at the query that not leveraging those the last one that we we",
    "start": "1626180",
    "end": "1632270"
  },
  {
    "text": "look at all the time is package so those actually other packages so basically look at the throughput of your query and",
    "start": "1632270",
    "end": "1637700"
  },
  {
    "text": "making sure that you don't have a query that has like really high traffic because what happened to recive was we",
    "start": "1637700",
    "end": "1644210"
  },
  {
    "text": "have a really expensive query if it cannot fit into the memory they were right to the disk so that is also part",
    "start": "1644210",
    "end": "1650390"
  },
  {
    "text": "of this matrix which is memory to disk so we have a really expensive query start to write to disk",
    "start": "1650390",
    "end": "1656000"
  },
  {
    "text": "you will notice your rest of clusters to start to feel operated quickly so you should have a like rules saying like you",
    "start": "1656000",
    "end": "1665180"
  },
  {
    "text": "to capture those really expensive query but also have metrics to keep an eye on it",
    "start": "1665180",
    "end": "1671410"
  },
  {
    "text": "so whatever what we have learned so far Elena number one is really optimize time to",
    "start": "1671410",
    "end": "1677720"
  },
  {
    "text": "later--you and as a data platform team it's just like as a developer when you make some changes where you make a pull",
    "start": "1677720",
    "end": "1684320"
  },
  {
    "text": "request your job is now down when your ProQuest is in the release queue right like your for your ProQuest is down when",
    "start": "1684320",
    "end": "1692180"
  },
  {
    "text": "is released to production is is start to be used by your applications so same",
    "start": "1692180",
    "end": "1697580"
  },
  {
    "text": "thing here and I as a data platform engineer our job is now down one way to select bring the data into the data linings on",
    "start": "1697580",
    "end": "1703020"
  },
  {
    "text": "or de warehouse we want to optimize the time to value making sure from end to",
    "start": "1703020",
    "end": "1708240"
  },
  {
    "text": "end like the business user can use like the quality data without having without worrying about the accuracy and also the",
    "start": "1708240",
    "end": "1715860"
  },
  {
    "text": "performance secondly optimize for the 80% of the use case that's why we have that header in sequel because we have",
    "start": "1715860",
    "end": "1724320"
  },
  {
    "text": "like spark jobs we have a lot of other tools for heavy lifting by 80% of the",
    "start": "1724320",
    "end": "1730590"
  },
  {
    "text": "use cases is really just a like sequel either you are using hive presto or ratchet end of the day it's all fake",
    "start": "1730590",
    "end": "1736830"
  },
  {
    "text": "well it's just like common language that both pieces teams and our data team can understand so do something to optimize",
    "start": "1736830",
    "end": "1743790"
  },
  {
    "text": "I'll like goes to the wrong way about 30 is like it has to be simple in order to be sustainable I think that I kind of",
    "start": "1743790",
    "end": "1751260"
  },
  {
    "text": "mention that a few times last is the production readiness review so when you",
    "start": "1751260",
    "end": "1756480"
  },
  {
    "text": "have a sequel you want to deploy that very often you have the problems where it's just",
    "start": "1756480",
    "end": "1762420"
  },
  {
    "text": "like broke all the time and then we have a junk in space production readiness review to make sure we capture some of",
    "start": "1762420",
    "end": "1768930"
  },
  {
    "text": "the like errors and before we deploy that so I want to also quickly share",
    "start": "1768930",
    "end": "1775050"
  },
  {
    "start": "1775000",
    "end": "1775000"
  },
  {
    "text": "what's next on our row map and we're doing POC on it out of school we think",
    "start": "1775050",
    "end": "1780090"
  },
  {
    "text": "that is a really awesome tool to replace some of the data ingestion we have unify",
    "start": "1780090",
    "end": "1785820"
  },
  {
    "text": "the user access control we want to leverage open source project also from a device called a PG bouncer - our our",
    "start": "1785820",
    "end": "1791700"
  },
  {
    "text": "that can you can define your query rules we're also working out few like open",
    "start": "1791700",
    "end": "1798180"
  },
  {
    "text": "source dashboards so if you are using or fauna and you also want to look at airflow recive stay tuned we're planning",
    "start": "1798180",
    "end": "1805200"
  },
  {
    "text": "to open source that soon so thank you here's my contact information and we're",
    "start": "1805200",
    "end": "1811500"
  },
  {
    "text": "also hiring check out our career page we are hiring the platform engineers and service engineers so if you are",
    "start": "1811500",
    "end": "1816870"
  },
  {
    "text": "interested in our social mission talk to me and and thank you",
    "start": "1816870",
    "end": "1823540"
  },
  {
    "text": "[Applause]",
    "start": "1823540",
    "end": "1825970"
  }
]