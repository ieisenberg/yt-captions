[
  {
    "start": "0",
    "end": "138000"
  },
  {
    "text": "so welcome to GPS tech 309 this talk is technically a part of the global partner",
    "start": "30",
    "end": "5819"
  },
  {
    "text": "summit but that does not mean that you had to be a partner to be in here so some of you might be customers I'm gonna ask in a second as well some of you",
    "start": "5819",
    "end": "12120"
  },
  {
    "text": "might be partners of AWS and I have might have worked with you in the past hopefully basically this talk is gonna",
    "start": "12120",
    "end": "18690"
  },
  {
    "text": "be on day two operations of kubernetes there's a little bit more that I'm actually gonna be talking about here than just date",
    "start": "18690",
    "end": "24570"
  },
  {
    "text": "I'm really gonna be talking from the perspective of what can you actually do to make your operations of kubernetes in",
    "start": "24570",
    "end": "31320"
  },
  {
    "text": "general better and some of this is also going to be called actions to some of the partners in the in the room to say",
    "start": "31320",
    "end": "37110"
  },
  {
    "text": "hey there's some really neat abstractions for kubernetes that you can actually start utilizing and I'll talk about one where I'm actually doing that",
    "start": "37110",
    "end": "43379"
  },
  {
    "text": "in an open source project and that's about it will also talk about flux you",
    "start": "43379",
    "end": "48809"
  },
  {
    "text": "heard Abby probably talking a B and a Claire and just talking about get ops in",
    "start": "48809",
    "end": "55170"
  },
  {
    "text": "another talk I'm also gonna be talking about that and specifically in kubernetes a tool that makes it dead simple to do dead simple to do get ops",
    "start": "55170",
    "end": "62850"
  },
  {
    "text": "I'm going to be talking about operators I'm gonna be talking about some security stuff and then I have two demos throughout mixed throughout the whole",
    "start": "62850",
    "end": "69000"
  },
  {
    "text": "presentation so hopefully my computer doesn't shut down and hopefully the internet works because I'm fun and I",
    "start": "69000",
    "end": "74220"
  },
  {
    "text": "like to go off Wi-Fi so a little background about myself I'm Chris Hein I'm a partner solutions architect here",
    "start": "74220",
    "end": "79890"
  },
  {
    "text": "at AWS and pretty much I cross I slice across the entire container ecosystem so",
    "start": "79890",
    "end": "86490"
  },
  {
    "text": "that means I work with partners like meso sphere and docker I used to work with core OS now I work with Red Hat",
    "start": "86490",
    "end": "91890"
  },
  {
    "text": "from that side of things I also work with some of the CI CD partners a lot a lot around the container space and",
    "start": "91890",
    "end": "97829"
  },
  {
    "text": "basically make sure and work with those partners to make sure that they're using the latest technologies helping them to",
    "start": "97829",
    "end": "103380"
  },
  {
    "text": "actually implement some of these new structures like what I'm going to be talking about and outside of that I'm an",
    "start": "103380",
    "end": "109079"
  },
  {
    "text": "open source contributor so I work on a bunch of open source projects around the kubernetes landscape namely fork for AWS",
    "start": "109079",
    "end": "116939"
  },
  {
    "text": "I've worked heavily on the AWS I am Authenticator so if you have questions about any of those tools that you use",
    "start": "116939",
    "end": "123210"
  },
  {
    "text": "also have new contributions to the the cni plugin as of a couple weeks ago that",
    "start": "123210",
    "end": "128580"
  },
  {
    "text": "i'm doing some new work there and have an open source project they'll be coming out soon around that",
    "start": "128580",
    "end": "134000"
  },
  {
    "text": "before we actually get started I'm gonna ask a couple quick questions which I have a slide on so um first question",
    "start": "134000",
    "end": "140060"
  },
  {
    "text": "before we jump into my other slides how many of you are raise your hand if you're a partner or from likely partner",
    "start": "140060",
    "end": "146629"
  },
  {
    "text": "ecosystem with AWS cool so you can make some call outs for you guys how many of",
    "start": "146629",
    "end": "153230"
  },
  {
    "text": "you are just customers and just using kubernetes or actually don't just customers first awesome",
    "start": "153230",
    "end": "159409"
  },
  {
    "text": "how many are actually working with kubernetes currently how many are working with kubernetes just on ec2 so",
    "start": "159409",
    "end": "166970"
  },
  {
    "text": "things like cops or cube ATM or awesome how many of you keep those hands up on",
    "start": "166970",
    "end": "172250"
  },
  {
    "text": "this one as well keep your hand up if you're also doing eks okay now take your",
    "start": "172250",
    "end": "179510"
  },
  {
    "text": "hands down if you're only doing HS cool all right that sounds good so for those of you I'm gonna start with",
    "start": "179510",
    "end": "187010"
  },
  {
    "start": "185000",
    "end": "269000"
  },
  {
    "text": "this because it's just my obligatory slide so what is this I want somebody actually answer like I said I'm gonna call out and make sure that you guys are",
    "start": "187010",
    "end": "193189"
  },
  {
    "text": "talking so you're engaging in this because it's I want you to be a part of this so somebody give me an answer for what this is fantastic thank you",
    "start": "193189",
    "end": "201409"
  },
  {
    "text": "all right that's my little troll for you guys now somebody else or multiple people what is kubernetes how do you",
    "start": "201409",
    "end": "207979"
  },
  {
    "text": "define kubernetes it's a what it's a pilot okay",
    "start": "207979",
    "end": "213579"
  },
  {
    "text": "it's an Orchestrator okay what else a framework all right cool so the way that",
    "start": "213579",
    "end": "220939"
  },
  {
    "text": "I like to define it is these three things we typically at AWS call it a an open source container management",
    "start": "220939",
    "end": "227359"
  },
  {
    "text": "platform that helps you run containers at scale it also gives you primitives",
    "start": "227359",
    "end": "232790"
  },
  {
    "text": "for building modern day 12 factor applications and I specifically am",
    "start": "232790",
    "end": "237799"
  },
  {
    "text": "calling out that or I'm crossing out that container because I like to think of it as actually just an open source",
    "start": "237799",
    "end": "243379"
  },
  {
    "text": "management platform being very abstract here because it doesn't just have to be containers is anybody actually in the in",
    "start": "243379",
    "end": "249979"
  },
  {
    "text": "the audience using operators currently nobody oh one person fantastic thanks",
    "start": "249979",
    "end": "257030"
  },
  {
    "text": "for waving your hand awesome so there's a lot of really cool stuff that you can actually get out of kubernetes that most",
    "start": "257030",
    "end": "262789"
  },
  {
    "text": "people aren't as we see from the audience there's only one person to hear that use operator and I'll dive into what those are and a little bit so what does it",
    "start": "262789",
    "end": "271070"
  },
  {
    "start": "269000",
    "end": "293000"
  },
  {
    "text": "actually mean to be what I just said it's an open-source management platform and it helps you run containers at scale",
    "start": "271070",
    "end": "276890"
  },
  {
    "text": "but also run other things at scale so what does this actually mean it's an API you all have experienced this or those",
    "start": "276890",
    "end": "283610"
  },
  {
    "text": "of you that have actually worked with kubernetes you've experienced it it's just an API behind the scenes that API",
    "start": "283610",
    "end": "288860"
  },
  {
    "text": "has some other components and it's a micro service architecture that makes this all possible but what it really",
    "start": "288860",
    "end": "294170"
  },
  {
    "text": "does is you can actually just see it by actually using a dash V equals seven or",
    "start": "294170",
    "end": "299540"
  },
  {
    "text": "eight or nine and you can actually see the actual request that you're making to the kubernetes api server when you're doing this and what I'm really trying to",
    "start": "299540",
    "end": "306200"
  },
  {
    "text": "get across is it's nothing different than what you're already building you're building applications well most of you",
    "start": "306200",
    "end": "312620"
  },
  {
    "text": "are probably building web applications on top of containers and deploying it into kubernetes so it's no different",
    "start": "312620",
    "end": "318620"
  },
  {
    "text": "than that and from the open source perspective this is a big call-out because I feel like there's a lot of people that are kind of scared to get",
    "start": "318620",
    "end": "323990"
  },
  {
    "text": "into the community spared too scared to actually start contributing and start to go through that or maybe they're just they're just not sure where it's just an",
    "start": "323990",
    "end": "330350"
  },
  {
    "text": "API you've already start you already are doing this and in this instance it's a JSON API and we have some custom headers",
    "start": "330350",
    "end": "336860"
  },
  {
    "text": "in here that make it so that it will render properly for kube cuttle you have some other parameters that are getting",
    "start": "336860",
    "end": "343430"
  },
  {
    "text": "passed through but it's just an API that's not scary right it's pretty easy continuing that forward",
    "start": "343430",
    "end": "350840"
  },
  {
    "start": "349000",
    "end": "372000"
  },
  {
    "text": "if you've ever done cube proxy you've seen and loaded up that 8081 endpoint on localhost you'll see something that",
    "start": "350840",
    "end": "357470"
  },
  {
    "text": "looks like this with a ton more requests it's just an API it's just a REST API yeah sure there's some G RPC behind the",
    "start": "357470",
    "end": "363980"
  },
  {
    "text": "scenes and yeah there's a scheduler and yeah there's the cube controller manager but it's just an API let's start with",
    "start": "363980",
    "end": "369890"
  },
  {
    "text": "that now what are those things that you're accessing you're seeing kubernetes objects in kubernetes objects",
    "start": "369890",
    "end": "376490"
  },
  {
    "start": "372000",
    "end": "413000"
  },
  {
    "text": "this is all just pulled directly from the documentation because they have the best best way of defining it kubernetes",
    "start": "376490",
    "end": "382310"
  },
  {
    "text": "object is a record of intent it persists",
    "start": "382310",
    "end": "387530"
  },
  {
    "text": "entities in the kubernetes system will call that at CD and then it helps you to",
    "start": "387530",
    "end": "392750"
  },
  {
    "text": "marshal the desired state of your cluster and these are some of the resources that it actually exposes to",
    "start": "392750",
    "end": "398660"
  },
  {
    "text": "you you looked at cute if you looked at that cube proxy localhost:8080 one you'd see a lot more of these things like the",
    "start": "398660",
    "end": "404900"
  },
  {
    "text": "admission controllers that were in that last call-out and then anything else you actually tell it to do because you can",
    "start": "404900",
    "end": "410180"
  },
  {
    "text": "extend it and that's where it gets really fun so beyond the API server",
    "start": "410180",
    "end": "415729"
  },
  {
    "start": "413000",
    "end": "425000"
  },
  {
    "text": "there's the scheduler and raise your hand if you've worked with schedulers besides kubernetes things like meso s--",
    "start": "415729",
    "end": "421789"
  },
  {
    "text": "anything cool a lot of you have so this is a typical workflow of a scheduler and",
    "start": "421789",
    "end": "428539"
  },
  {
    "start": "425000",
    "end": "511000"
  },
  {
    "text": "this this is all centered around what we call the control loop and the beginning of this is or some of that is coined",
    "start": "428539",
    "end": "435319"
  },
  {
    "text": "from things like robotics and it brought on this new motion things like Mesa really started to to solidify that state",
    "start": "435319",
    "end": "444529"
  },
  {
    "text": "that we actually have so what you do in kubernetes is you basically have a state that state is stored in SED and you have",
    "start": "444529",
    "end": "451999"
  },
  {
    "text": "a process that's sitting there and doing something else it's auditing it and that's what we're really getting in here and we have that",
    "start": "451999",
    "end": "458659"
  },
  {
    "text": "audit and then it steps onto the next bucket which is reconcile and this is all we're really doing but hundreds of",
    "start": "458659",
    "end": "465409"
  },
  {
    "text": "thousands of times across your cluster it's just continuously doing this and making sure that things are in that desired State this is why you get some",
    "start": "465409",
    "end": "472219"
  },
  {
    "text": "of those those declarative and self-healing technologies that we get out of kubernetes and it just again",
    "start": "472219",
    "end": "478520"
  },
  {
    "text": "continues that loop through and through and through schedulers are pretty awesome because now it's automating",
    "start": "478520",
    "end": "484069"
  },
  {
    "text": "everything and I don't have to do any of that stuff I don't have to sit there and check and see if my chef scripts are",
    "start": "484069",
    "end": "489080"
  },
  {
    "text": "up-to-date or check my drift or whatever whatever you want to call it in this world I can just tell kubernetes I want",
    "start": "489080",
    "end": "495439"
  },
  {
    "text": "it store the state have it audit it have it reconcile it and I can do that for not just those kubernetes objects again",
    "start": "495439",
    "end": "502399"
  },
  {
    "text": "what I'll talk about a little bit later this is making sense so far cool I got a",
    "start": "502399",
    "end": "508849"
  },
  {
    "text": "lot of hand or a lot of nods so what are some of the benefits of this probably",
    "start": "508849",
    "end": "514068"
  },
  {
    "start": "511000",
    "end": "545000"
  },
  {
    "text": "already know this a lot of you already start to start running kubernetes it gives you a mutable infrastructure as",
    "start": "514069",
    "end": "519620"
  },
  {
    "text": "well as a mutable anything realistically it gives you it's everything is",
    "start": "519620",
    "end": "524899"
  },
  {
    "text": "declarative you tell the state store what you want it to be it'll make that happen and it's just going to continue to do",
    "start": "524899",
    "end": "530750"
  },
  {
    "text": "that and then the last it's going to be self-healing because of that reconciliation loop or the control loop",
    "start": "530750",
    "end": "537640"
  },
  {
    "text": "so what are we talking about with day to day to is an interesting thing if you",
    "start": "537640",
    "end": "543650"
  },
  {
    "text": "think about it from the I think actually of the slide yeah so what is day to operations so day zero is really when",
    "start": "543650",
    "end": "550040"
  },
  {
    "text": "you're going through and you most of you have already done this gone through and set up requirements you talk to your developers you talk to your operations",
    "start": "550040",
    "end": "556880"
  },
  {
    "text": "team you talk to the security teams you said okay what do you need out of this cluster what is it gonna have in it is it going to be is it going to be a",
    "start": "556880",
    "end": "563300"
  },
  {
    "text": "production cluster and it has everything thrown in it and maybe I don't know how are we gonna do segregation how are we",
    "start": "563300",
    "end": "568880"
  },
  {
    "text": "gonna isolate our workloads how are we gonna do security how are we gonna kind of thinking through some of those processes up up front right then you're",
    "start": "568880",
    "end": "576740"
  },
  {
    "text": "gonna do your architecture for it now with kubernetes this in my opinion gets really simple I'm going to I'm going to",
    "start": "576740",
    "end": "582290"
  },
  {
    "text": "deploy containers containers are my portable object I'm gonna throw those wherever I want maybe I'll throw some other things in there if you get into",
    "start": "582290",
    "end": "588410"
  },
  {
    "text": "operators like that one person and then you're gonna have some sketched out designs and then you're gonna move into",
    "start": "588410",
    "end": "594710"
  },
  {
    "text": "day 1 and day 1 is where you're actually gonna start doing things so you're gonna go and install a cluster who here how",
    "start": "594710",
    "end": "602510"
  },
  {
    "text": "well yeah who here is actually used just cloud formation to deploy your clusters cool how many of you use terraform to",
    "start": "602510",
    "end": "610040"
  },
  {
    "text": "deploy your clusters a lot cool how many of you Zeke a scuttle one two three okay",
    "start": "610040",
    "end": "617540"
  },
  {
    "text": "cool how many are using like cops for in there actually in the okay cool fantastic so this is the installation",
    "start": "617540",
    "end": "624650"
  },
  {
    "text": "and setup and configuration phase you're going to go through and do all of that you're gonna start deploying the cluster",
    "start": "624650",
    "end": "630020"
  },
  {
    "text": "you're going to start figuring out how you're gonna do security across your cluster maybe you're instilling things",
    "start": "630020",
    "end": "635270"
  },
  {
    "text": "like Network policy controllers using calico or any of the other providers you're going through and saying alright",
    "start": "635270",
    "end": "642170"
  },
  {
    "text": "if I'm my configuration for how I'm and actually give developers access to this or maybe I'm not gonna give developers",
    "start": "642170",
    "end": "647450"
  },
  {
    "text": "access to this and how you want to actually make that possible now day to day two we're going to be",
    "start": "647450",
    "end": "654110"
  },
  {
    "text": "talking a little bit deeper what is real security that we're gonna have set up here what is how are we gonna scale this",
    "start": "654110",
    "end": "659300"
  },
  {
    "text": "how are we gonna do CI CD and I have that dot dot dot because I want to also talk about what else we can do again",
    "start": "659300",
    "end": "665420"
  },
  {
    "text": "this is that call out towards the partners like there's a lot of really fun stuff that we can do because we have that scheduler loop and that thing can be",
    "start": "665420",
    "end": "672139"
  },
  {
    "text": "extended how many how many of you are familiar with CR DS or custom resource definitions can somebody tell me what it",
    "start": "672139",
    "end": "679040"
  },
  {
    "text": "is one of those people that raised our hand what is this C or D how would you define it what would you what does that",
    "start": "679040",
    "end": "685670"
  },
  {
    "text": "do for you",
    "start": "685670",
    "end": "688329"
  },
  {
    "text": "cool everybody hear that all right so what it does is it allows you to extend the kubernetes api server and give it",
    "start": "695680",
    "end": "702670"
  },
  {
    "text": "new objects new objects that you've defined not just a pod not just a",
    "start": "702670",
    "end": "708910"
  },
  {
    "text": "deployment not just a replica set not just a service not just a so on and so forth you could tell it whatever you want I wanted to play foo into my cluster and",
    "start": "708910",
    "end": "715660"
  },
  {
    "text": "have it manage foo I could do that I can model an object using gamal just like I",
    "start": "715660",
    "end": "721720"
  },
  {
    "text": "model my other objects tell it I want to manage these things or I want the API server to be I'll store those things",
    "start": "721720",
    "end": "726910"
  },
  {
    "text": "kind of like a migration I don't like telling you telling your Postgres database hey I want to manage this new",
    "start": "726910",
    "end": "733089"
  },
  {
    "text": "table of resources that's what you do you define it in Yambol and you cube cut' I'll apply that file it has a",
    "start": "733089",
    "end": "738670"
  },
  {
    "text": "special kind of custom resource definition and then you can actually then set up tools to then build the",
    "start": "738670",
    "end": "745959"
  },
  {
    "text": "control loop for those objects so what",
    "start": "745959",
    "end": "751810"
  },
  {
    "start": "751000",
    "end": "794000"
  },
  {
    "text": "does kubernetes give you as I already talked about it is a platform it is a platform that allows you to build a lot",
    "start": "751810",
    "end": "757870"
  },
  {
    "text": "of things on top of it anything I basically left these box completely blank because you could do whatever you want in my opinion and I technically do",
    "start": "757870",
    "end": "764650"
  },
  {
    "text": "do this I like to make kubernetes manage a lot for myself I'm currently in the process of building out how I would just for kicks how I",
    "start": "764650",
    "end": "771910"
  },
  {
    "text": "would manage all of my I o T products across my house I am a huge Alexa fan and I throw everything in there but I've",
    "start": "771910",
    "end": "778060"
  },
  {
    "text": "been actually building out new microcontrollers that actually do other functions that I don't have tools for and I've been modeling those objects as",
    "start": "778060",
    "end": "784480"
  },
  {
    "text": "CRD so that I could then apply them to the cluster and have kubernetes be my control loop in my house it's pretty",
    "start": "784480",
    "end": "790330"
  },
  {
    "text": "awesome so you can do anything you want with this thing so what we're gonna be talking about in this day true stuff so",
    "start": "790330",
    "end": "797140"
  },
  {
    "start": "794000",
    "end": "879000"
  },
  {
    "text": "we're gonna talk about git ops or in configuration is code we're gonna be talking about building for failure that's where we're going to talk about",
    "start": "797140",
    "end": "802690"
  },
  {
    "text": "operators and security being de 0 I call it de 0 even though we're talking",
    "start": "802690",
    "end": "808600"
  },
  {
    "text": "about date too because I still find that as I talk to customers they're not doing",
    "start": "808600",
    "end": "813760"
  },
  {
    "text": "this and so I want to make sure there's a couple easy things that we can start with that fall into the same buckets",
    "start": "813760",
    "end": "820930"
  },
  {
    "text": "that we have here building for failure using the control loop a little bit around get ops all these things can also",
    "start": "820930",
    "end": "826120"
  },
  {
    "text": "be baked into that so even though it stays zero there I'm talk in a day - how many people are actually",
    "start": "826120",
    "end": "832210"
  },
  {
    "text": "doing Wow yeah how many people want to raise their hand that and say they are you are using",
    "start": "832210",
    "end": "839950"
  },
  {
    "text": "a security tool that's actually managing your current cluster sitting there",
    "start": "839950",
    "end": "846510"
  },
  {
    "text": "scanning images maybe at runtime or maybe you're just doing it build there's",
    "start": "846510",
    "end": "852400"
  },
  {
    "text": "very few hands cool see what I mean it's not a zero but it also is day zero you",
    "start": "852400",
    "end": "857650"
  },
  {
    "text": "should have been doing this there's a lot of really good stuff here that you should be playing with that can help secure your clusters I don't care if",
    "start": "857650",
    "end": "863920"
  },
  {
    "text": "you're a completely private cluster and behind the scenes nobody has access to it you should still be doing this you have",
    "start": "863920",
    "end": "869920"
  },
  {
    "text": "vulnerabilities that come out and a lot of these tools and it's very important to make sure that you protect your customers data and protect your own",
    "start": "869920",
    "end": "876100"
  },
  {
    "text": "resources cool so first thing we're gonna be talking about configuration as",
    "start": "876100",
    "end": "881950"
  },
  {
    "start": "879000",
    "end": "927000"
  },
  {
    "text": "code which I really like to call it configuration is code because it is it should be managed just like you manage",
    "start": "881950",
    "end": "888460"
  },
  {
    "text": "all of your other all of your other code so how many people actually put all of their yamo manifest files in a raise",
    "start": "888460",
    "end": "895480"
  },
  {
    "text": "your hand if you put your Yambol manifest files or helm charts in a git repository and have some tool that is",
    "start": "895480",
    "end": "901180"
  },
  {
    "text": "then applauding those to your cluster cool you're all doing see ICD how many",
    "start": "901180",
    "end": "907780"
  },
  {
    "text": "people are using flux all right cool so are using just like a Jenkins processor",
    "start": "907780",
    "end": "914950"
  },
  {
    "text": "raise your hand if you're using like Jenkins to actually manage that for you our code pipeline it is ok cool sweet so",
    "start": "914950",
    "end": "920380"
  },
  {
    "text": "I'm going to give you a quick demo in a little bit that talks about just flux in general and what flux does flux is a",
    "start": "920380",
    "end": "925930"
  },
  {
    "text": "really cool tool oh sorry I forgot that I was actually talking about this first",
    "start": "925930",
    "end": "931030"
  },
  {
    "start": "927000",
    "end": "957000"
  },
  {
    "text": "so what we're actually first gonna go into is configuration as code from the actual cluster perspective so if you're not",
    "start": "931030",
    "end": "937000"
  },
  {
    "text": "familiar AWS CloudFormation you can export these things from cops you it is",
    "start": "937000",
    "end": "942550"
  },
  {
    "text": "a standard provisioning tool for managing your clusters we have primitives for eks clusters if you use",
    "start": "942550",
    "end": "949390"
  },
  {
    "text": "cops to just deploy your clusters in itself you can actually export these and then put those in a git repository and",
    "start": "949390",
    "end": "955300"
  },
  {
    "text": "manage them from that perspective we also have terraform that you can do this",
    "start": "955300",
    "end": "961270"
  },
  {
    "start": "957000",
    "end": "983000"
  },
  {
    "text": "with so this is a simple definition of what a what that same CloudFormation script would look",
    "start": "961270",
    "end": "967180"
  },
  {
    "text": "like in terraform another standard provisioning tool we had this at launch day zero launch of eks for full support",
    "start": "967180",
    "end": "973750"
  },
  {
    "text": "for deploying clusters and it's another great great way of deploying it you saw",
    "start": "973750",
    "end": "979750"
  },
  {
    "text": "a handful of hands come up about using this already and now we're gonna talk",
    "start": "979750",
    "end": "985600"
  },
  {
    "start": "983000",
    "end": "1009000"
  },
  {
    "text": "about get ops sorry about that so I wanted to start with grounding this a little bit how many people use something",
    "start": "985600",
    "end": "991210"
  },
  {
    "text": "like Hugh bot in their in their clusters or in their environments cool alright",
    "start": "991210",
    "end": "996700"
  },
  {
    "text": "how many use something like or how many people do chat ops currently you're able to talk to something and have it deploy",
    "start": "996700",
    "end": "1002700"
  },
  {
    "text": "resources for you do any of that cool all right well I want to replace those because I",
    "start": "1002700",
    "end": "1008460"
  },
  {
    "text": "don't want humans doing this anymore I want to talk about git ops completely so I think of this as a basically a way to",
    "start": "1008460",
    "end": "1014040"
  },
  {
    "start": "1009000",
    "end": "1096000"
  },
  {
    "text": "replace that entire service and say hey instead of having a human still",
    "start": "1014040",
    "end": "1019770"
  },
  {
    "text": "controlling those accesses and basically saying I want to deploy this to some specific location that some other person",
    "start": "1019770",
    "end": "1026130"
  },
  {
    "text": "could then come in and say hey wait I want to actually deploy to that and being a being an override yeah you can put locks in place but being able to",
    "start": "1026130",
    "end": "1032430"
  },
  {
    "text": "override those things think about it from a different perspective use git as a source of truth it's already a source",
    "start": "1032430",
    "end": "1039540"
  },
  {
    "text": "of truth for what you do for all of your code start throwing your your manifest in there and use pull requests to manage",
    "start": "1039540",
    "end": "1046920"
  },
  {
    "text": "it we have a perfectly great audit log we can even sign commits to make sure",
    "start": "1046920",
    "end": "1052680"
  },
  {
    "text": "that they are from the exact person that came through there's a lot of really fun tools in there if you haven't done get",
    "start": "1052680",
    "end": "1058410"
  },
  {
    "text": "commit - capital S to actually sign your commits and maybe even do a DC o developer origin basically the you can",
    "start": "1058410",
    "end": "1067710"
  },
  {
    "text": "actually have verification of who is doing these actions and then have git",
    "start": "1067710",
    "end": "1072930"
  },
  {
    "text": "manage that and have it completely distributed it's a fantastic tool for this environment so what is get-ups it",
    "start": "1072930",
    "end": "1079470"
  },
  {
    "text": "basically means that you're putting all of your manifests in a-- and a git repository and then you're setting up",
    "start": "1079470",
    "end": "1084900"
  },
  {
    "text": "some process e che CI c deep tool flux there's a handful other ones I'm really",
    "start": "1084900",
    "end": "1090450"
  },
  {
    "text": "excited to play with github actions when that fully comes out to be able to actually implement this as well",
    "start": "1090450",
    "end": "1096809"
  },
  {
    "start": "1096000",
    "end": "1140000"
  },
  {
    "text": "what it's really doing is doing exactly this you have a developer you commit those cut those manifest files to a git",
    "start": "1096809",
    "end": "1103230"
  },
  {
    "text": "repository you have in this instance Jenkins going and doing things like all of your automated testing and then",
    "start": "1103230",
    "end": "1109350"
  },
  {
    "text": "you're pushing a new docker build and that new docker build is then triggering we've flux to go and to put that in your",
    "start": "1109350",
    "end": "1115830"
  },
  {
    "text": "cluster and now you have a what sort of feels like a little bit of a reconciliation loop directly happening",
    "start": "1115830",
    "end": "1122820"
  },
  {
    "text": "from github or from whatever your SVN is it's pretty nice I'm going to continue",
    "start": "1122820",
    "end": "1129929"
  },
  {
    "text": "to to beat this the the the topic around schedulers and control loops because they make your life so much easier so in",
    "start": "1129929",
    "end": "1137279"
  },
  {
    "text": "this instance we use I'm going to demo flux and basically show how this can",
    "start": "1137279",
    "end": "1142740"
  },
  {
    "start": "1140000",
    "end": "1483000"
  },
  {
    "text": "actually be used to do it shut off cool",
    "start": "1142740",
    "end": "1148039"
  },
  {
    "text": "again everybody can see this right in the back ends up cool alright so a",
    "start": "1151460",
    "end": "1156809"
  },
  {
    "text": "really fancy thing I'm not doing the full Jenkins flow here but basically I'm using cloud 9 to do all of my",
    "start": "1156809",
    "end": "1162330"
  },
  {
    "text": "development I recently shifted over to this and it's been really fantastic I have an ec2 instance it's somewhere else not on my local machine and it saves my state if",
    "start": "1162330",
    "end": "1169529"
  },
  {
    "text": "you haven't played with it you really should it's pretty fantastic I also package it into an electron app",
    "start": "1169529",
    "end": "1174960"
  },
  {
    "text": "so I can have it as a local app which makes it feel like an IDE anyway so what we have in here is we basically have a",
    "start": "1174960",
    "end": "1180990"
  },
  {
    "text": "git repository this is just there's no commits on it currently in here what I",
    "start": "1180990",
    "end": "1186419"
  },
  {
    "text": "actually have as well is a cluster that has get all - and flex is I have a",
    "start": "1186419",
    "end": "1195029"
  },
  {
    "text": "cluster that has flux deployed into it and it's specifically looking for helm",
    "start": "1195029",
    "end": "1200610"
  },
  {
    "text": "releases so in my instance here's my helm operator that's going through the flux helm operator it uses memcache as a",
    "start": "1200610",
    "end": "1207869"
  },
  {
    "text": "back-end to store some of the state in there and what we actually do here is we can",
    "start": "1207869",
    "end": "1212879"
  },
  {
    "text": "go through this git repository and see one of these releases this is what a release looks like and this is actually",
    "start": "1212879",
    "end": "1218789"
  },
  {
    "text": "a custom resource definition so how I was talking about at the beginning and I got a great definition from the audience",
    "start": "1218789",
    "end": "1225500"
  },
  {
    "text": "this is what a custom resource definition looks like when it really gets realized you have an API version that isn't khi",
    "start": "1225500",
    "end": "1233240"
  },
  {
    "text": "oh you have flux dot weave dot works v1 beta1 your kind as a helm release",
    "start": "1233240",
    "end": "1238850"
  },
  {
    "text": "kubernetes doesn't know about it until you tell it to know about that and in there it has the standard components",
    "start": "1238850",
    "end": "1244700"
  },
  {
    "text": "just the actual same object that all other kubernetes resources work with that metadata so you specify a name the",
    "start": "1244700",
    "end": "1251990"
  },
  {
    "text": "namespace you wanted to avoid too you want it to be automated you want to have a chart version and then you want to set",
    "start": "1251990",
    "end": "1258350"
  },
  {
    "text": "up the release name for it for the helm part you're also passing in any parameters you want and so now that",
    "start": "1258350",
    "end": "1263900"
  },
  {
    "text": "values file that you would typically manage there get file you actually have a CRD that gets then deployed to a",
    "start": "1263900",
    "end": "1270200"
  },
  {
    "text": "cluster and anybody else could then to pull this down and know exactly what you applied so now in this instance I have",
    "start": "1270200",
    "end": "1277730"
  },
  {
    "text": "this as a source of truth there but it's also being stored in my github repository so in this instance just to",
    "start": "1277730",
    "end": "1283790"
  },
  {
    "text": "show you a quick demo of how this works I'm going to go through and say change version to 3 because that's the simplest",
    "start": "1283790",
    "end": "1288860"
  },
  {
    "text": "update I can do on this MongoDB chart and I'm gonna say git status so I have",
    "start": "1288860",
    "end": "1297650"
  },
  {
    "text": "updated that release let me pull it to the top for you and I'm gonna go add this to the repository git commit - yes",
    "start": "1297650",
    "end": "1307150"
  },
  {
    "text": "Wi-Fi is getting slow - M and this is updating from xx dot - x dot 3 and then",
    "start": "1307150",
    "end": "1317090"
  },
  {
    "text": "I'm going to do get PF some of these aliases are just PF specifically in my environment is push",
    "start": "1317090",
    "end": "1323930"
  },
  {
    "text": "force with lease I'm a very big fan of making sure that your history looks beautiful so I always use my PF command so now",
    "start": "1323930",
    "end": "1333110"
  },
  {
    "text": "what actually happened is if I actually go on this list these I can actually do I think it's a search through this and",
    "start": "1333110",
    "end": "1340640"
  },
  {
    "text": "I'm going to go to the next one nope",
    "start": "1340640",
    "end": "1347710"
  },
  {
    "text": "keeps it yet - and demo and then go",
    "start": "1347710",
    "end": "1354080"
  },
  {
    "text": "deploy MongoDB and this is actually",
    "start": "1354080",
    "end": "1360410"
  },
  {
    "text": "supposed to be described and you'll see in here as we describe this that after a couple seconds my",
    "start": "1360410",
    "end": "1370370"
  },
  {
    "text": "image gets updated oh goody B so you",
    "start": "1370370",
    "end": "1384799"
  },
  {
    "text": "should see that's more am I not getting red",
    "start": "1384799",
    "end": "1390130"
  },
  {
    "text": "cool so 58 seconds ago I'm just gonna show it that way 58 seconds ago that pod",
    "start": "1396190",
    "end": "1401200"
  },
  {
    "text": "was rear old and there's a new instance of the image that got deployed and it updated that and that state is still",
    "start": "1401200",
    "end": "1407080"
  },
  {
    "text": "stored in KITT and anytime I want I can go do this again and basically update this to four and do that exact same push",
    "start": "1407080",
    "end": "1414399"
  },
  {
    "text": "so if we go put that and then go get ad period get commit - past - and say X dot",
    "start": "1414399",
    "end": "1423490"
  },
  {
    "text": "X dot four and then get PF we can push that and then I'm going to do now",
    "start": "1423490",
    "end": "1430029"
  },
  {
    "text": "instead just to show it all it all actually operating we can do - W and",
    "start": "1430029",
    "end": "1436090"
  },
  {
    "text": "you'll see that in a second what's going to happen is I'm just basically every",
    "start": "1436090",
    "end": "1441340"
  },
  {
    "text": "periodically checking now its terminating and I have a pending pod and there's an error poll because I",
    "start": "1441340",
    "end": "1446529"
  },
  {
    "text": "shouldn't have updated to four apparently because there isn't a four version but basically that operation now",
    "start": "1446529",
    "end": "1451929"
  },
  {
    "text": "is allowing you to automatically deploy that and reconcile the state that it should be at that's pretty nice",
    "start": "1451929",
    "end": "1459899"
  },
  {
    "text": "cool so that was flux flux is a really nice tool again what it looks like is it",
    "start": "1462210",
    "end": "1467320"
  },
  {
    "text": "it's going through this exact same workflow where you're pushing to get having something run test building an",
    "start": "1467320",
    "end": "1473529"
  },
  {
    "text": "image and then deploying that and making sure that the state actually gets stored in a place that is easily committable",
    "start": "1473529",
    "end": "1480370"
  },
  {
    "text": "and easily actionable on so now we're gonna be talking about using the control",
    "start": "1480370",
    "end": "1486610"
  },
  {
    "text": "loop to build for failure the scheduler and this is one of my favorite topics to actually talk about so remember this so",
    "start": "1486610",
    "end": "1494980"
  },
  {
    "text": "this is state audit reconcile and that continued loop so you go through this",
    "start": "1494980",
    "end": "1501100"
  },
  {
    "text": "flow and this is what we're is this actually used this is used everywhere",
    "start": "1501100",
    "end": "1508470"
  },
  {
    "text": "how many people are familiar with the coop controller manager cool so",
    "start": "1508470",
    "end": "1513759"
  },
  {
    "text": "internally all of those resources all of those controllers are doing that exact same reconciliation loop so anytime you",
    "start": "1513759",
    "end": "1520269"
  },
  {
    "text": "get a pod and you deploy it a pod was one of those resources each one of those is using a control loop of its own and",
    "start": "1520269",
    "end": "1526240"
  },
  {
    "text": "it's sitting there and doing that reconciliation so it's a very and well used component in kubernetes",
    "start": "1526240",
    "end": "1531680"
  },
  {
    "text": "it's a part of the core and how can you",
    "start": "1531680",
    "end": "1536990"
  },
  {
    "text": "use this so you can actually use this by looking at things like operators so I'm",
    "start": "1536990",
    "end": "1542900"
  },
  {
    "text": "going to call it Maya this is like a shameless plug for my own my own tool so I started building the AWS service",
    "start": "1542900",
    "end": "1548930"
  },
  {
    "start": "1543000",
    "end": "1583000"
  },
  {
    "text": "operator which allows you to actually manage AWS services directly via cube cuddle so you never have to leave the",
    "start": "1548930",
    "end": "1555410"
  },
  {
    "text": "you never have to leave cube cuddle you never have to leave gamble manifest files because everybody likes to to bury",
    "start": "1555410",
    "end": "1560450"
  },
  {
    "text": "themselves in yam oh and you can model all of your resources never using CloudFormation never doing any of that",
    "start": "1560450",
    "end": "1565910"
  },
  {
    "text": "stuff all using the aw service operator so you can go through and say I need my",
    "start": "1565910",
    "end": "1571070"
  },
  {
    "text": "application to have a DynamoDB table and model that application and I'll give you an exact example of that in a second and",
    "start": "1571070",
    "end": "1577490"
  },
  {
    "text": "have that deployed into the cluster by using cube cuddle or using flux to actually deploy those resources it's",
    "start": "1577490",
    "end": "1583280"
  },
  {
    "start": "1583000",
    "end": "1641000"
  },
  {
    "text": "also used by other operators so these are the two one of the couple of the first operators this term was coined by",
    "start": "1583280",
    "end": "1590000"
  },
  {
    "text": "core OS actually and this was the SED operator which allows you to deploy a",
    "start": "1590000",
    "end": "1595700"
  },
  {
    "text": "net CD instance into your cluster or multiple instances into your cluster and same with Prometheus as well you can do",
    "start": "1595700",
    "end": "1602690"
  },
  {
    "text": "these through operators which just look like pods in your cluster but have CR DS that back them how many people are",
    "start": "1602690",
    "end": "1609530"
  },
  {
    "text": "actually using well no there's only one person what operator are you using which",
    "start": "1609530",
    "end": "1615170"
  },
  {
    "text": "one ah for Kafka okay cool so there's a Kafka operator out there I",
    "start": "1615170",
    "end": "1620780"
  },
  {
    "text": "also was talking to a partner dynaTrace earlier they said that they have an operator as well I haven't played with",
    "start": "1620780",
    "end": "1626270"
  },
  {
    "text": "it yet but to do my to do all of the monitoring within your cluster you could deploy the dynaTrace operator and have",
    "start": "1626270",
    "end": "1632870"
  },
  {
    "text": "that work for you and what these are is they're just a pot with some CR T's that back them that allow them to do this so",
    "start": "1632870",
    "end": "1640100"
  },
  {
    "text": "I threw two terms though that gets really confusing here so I threw controllers and then I threw operators in there so what is an operator and I",
    "start": "1640100",
    "end": "1648410"
  },
  {
    "start": "1641000",
    "end": "1661000"
  },
  {
    "text": "have constantly struggled with this this definition because I find that the core uses operator or the core uses",
    "start": "1648410",
    "end": "1655160"
  },
  {
    "text": "controllers but outside we use operator terms which feels a little bit weird to me if I'm being completely honest but I",
    "start": "1655160",
    "end": "1660560"
  },
  {
    "text": "was talking to Chris Nova earlier this week and her definition and I kind of like it",
    "start": "1660560",
    "end": "1665840"
  },
  {
    "start": "1661000",
    "end": "1689000"
  },
  {
    "text": "operators are domain-specific so if you think about the the what I was telling",
    "start": "1665840",
    "end": "1671090"
  },
  {
    "text": "about with the the aw service operator if you were to take that and basically abstract away any AWS specific functions",
    "start": "1671090",
    "end": "1678409"
  },
  {
    "text": "you could call that a controller but when it's specific to that resource you can call it an operator which is kind of",
    "start": "1678409",
    "end": "1684169"
  },
  {
    "text": "nice so that gives you a little bit more of a definition of what I'm talking about with operators in general so I'm a",
    "start": "1684169",
    "end": "1691039"
  },
  {
    "start": "1689000",
    "end": "1699000"
  },
  {
    "text": "quickly demo the aw Service operator to give you a nice preview of how this stuff can work for you and if I switch",
    "start": "1691039",
    "end": "1697789"
  },
  {
    "text": "back so this is an example of the AWS",
    "start": "1697789",
    "end": "1704120"
  },
  {
    "start": "1699000",
    "end": "1845000"
  },
  {
    "text": "service operator up here we basically have there's two manifest files on the",
    "start": "1704120",
    "end": "1709940"
  },
  {
    "text": "screen and I'll show you the third one in a second or resource so we have the service operator API version it has a",
    "start": "1709940",
    "end": "1716059"
  },
  {
    "text": "dynamo DB table or it's a kind of dynamo BGP table the name that we're actually",
    "start": "1716059",
    "end": "1721220"
  },
  {
    "text": "calling it as dynamo DB table and the spec if you're familiar with dynamo resources we have the hash attributes",
    "start": "1721220",
    "end": "1727340"
  },
  {
    "text": "that you define on your table we have the range attributes that you're defined on your table and the read and write capacity so all of that just looks like",
    "start": "1727340",
    "end": "1734389"
  },
  {
    "text": "yeah Mel just looks like a kubernetes resource does that make sense so far I'm not getting any action alright so in",
    "start": "1734389",
    "end": "1741559"
  },
  {
    "text": "here we also because this manifest is a is a nice quick little demo of how this stuff can work we also have a service",
    "start": "1741559",
    "end": "1748130"
  },
  {
    "text": "and that service is just a load balancer to actually do ingress into the resource and then we have a very very very dead",
    "start": "1748130",
    "end": "1755419"
  },
  {
    "text": "simple deployment and it's deploying a dynamo app you can see the container",
    "start": "1755419",
    "end": "1761149"
  },
  {
    "text": "down here near the bottom and it references a couple environment variables that allow it to connect",
    "start": "1761149",
    "end": "1767450"
  },
  {
    "text": "directly into the table so you could think of this in any representation like an RDS database having the table name",
    "start": "1767450",
    "end": "1772760"
  },
  {
    "text": "being passed through but as I said there's only three manifest in here and I'm referencing this config map that is",
    "start": "1772760",
    "end": "1780380"
  },
  {
    "text": "called dynamo DB table now if you're paying attention at the top I called that C actually or the dynamo",
    "start": "1780380",
    "end": "1787370"
  },
  {
    "text": "resource a dynamo table as well and what's really nice here is the operator does some fancy things where it'll go",
    "start": "1787370",
    "end": "1795139"
  },
  {
    "text": "through when you pass in the object the dynamo resource it'll go and deploy that for you start provisioning it and it's",
    "start": "1795139",
    "end": "1801859"
  },
  {
    "text": "it will when it actually is fully provisioned I'll get a notification or your the the operator will get a",
    "start": "1801859",
    "end": "1807889"
  },
  {
    "text": "notification back in in itself and you can actually trigger other things so I'm",
    "start": "1807889",
    "end": "1813199"
  },
  {
    "text": "actually triggering it to write all of the outputs from sorry I didn't give you",
    "start": "1813199",
    "end": "1818389"
  },
  {
    "text": "the little definition here what happens behind the scenes is the operators actually deploying CloudFormation stacks",
    "start": "1818389",
    "end": "1824269"
  },
  {
    "text": "and that CloudFormation stack has a bunch of outputs on it all the information that you would want from the from a dynamodb table and it takes those",
    "start": "1824269",
    "end": "1831529"
  },
  {
    "text": "outputs and writes it to that config map and that config map then i can reference it and have it immediately boot the pod",
    "start": "1831529",
    "end": "1837739"
  },
  {
    "text": "when that's available so i have like the sudo dependency tree throughout my whole my whole architecture which makes this",
    "start": "1837739",
    "end": "1844179"
  },
  {
    "text": "really nice so if i went through and actually deployed this let me show you first so if we do get cm you'll see that",
    "start": "1844179",
    "end": "1850519"
  },
  {
    "start": "1845000",
    "end": "1957000"
  },
  {
    "text": "there's no config maps in here I'll do cubed cuddle just to give you the full pod not gonna have any pods in here I'm",
    "start": "1850519",
    "end": "1858769"
  },
  {
    "text": "just doing this in the default namespace my other stuff was not and I do just for",
    "start": "1858769",
    "end": "1865129"
  },
  {
    "text": "the sake of just for the sake of time I",
    "start": "1865129",
    "end": "1870889"
  },
  {
    "text": "already deployed my load balancer just so that I could actually preview that after it works because it does take some time as you probably know to get the LB",
    "start": "1870889",
    "end": "1878779"
  },
  {
    "text": "provision and awesome automatically hooked up to the pot so if I'm in here I can actually do cube cuddle apply dash F",
    "start": "1878779",
    "end": "1885469"
  },
  {
    "text": "on this resource dynamo DB up and you'll see that resource in there the dynamo",
    "start": "1885469",
    "end": "1891949"
  },
  {
    "text": "service operator and I can do cube cuddle get dynamo and I have tab",
    "start": "1891949",
    "end": "1897109"
  },
  {
    "text": "completion on to make it a little bit easier but you can see that dynamo DB table I'm gonna then do - oh yeah Mille and - W - watch it so",
    "start": "1897109",
    "end": "1905389"
  },
  {
    "text": "what's really cool here is because I'm using CloudFormation and because it's provisioning I have a",
    "start": "1905389",
    "end": "1910549"
  },
  {
    "text": "status key that's giving me the current up-to-date status of what's going on in here so anytime I get an event that you",
    "start": "1910549",
    "end": "1917179"
  },
  {
    "text": "would typically see in the CloudFormation console you get that event here so it's create in progress you'll see that the resource creation",
    "start": "1917179",
    "end": "1923029"
  },
  {
    "text": "was initialized here's my stack ID that I can reference - but just from here I",
    "start": "1923029",
    "end": "1928399"
  },
  {
    "text": "don't ever have to actually leave this console I can also I can also because those",
    "start": "1928399",
    "end": "1934160"
  },
  {
    "text": "events are coming through I get events about them and I'm storing those as standard kubernetes events if you're familiar with those so you'll",
    "start": "1934160",
    "end": "1940309"
  },
  {
    "text": "notice that it just went into a create complete and what I'm going to do is get those CMS again so now I have a config",
    "start": "1940309",
    "end": "1948710"
  },
  {
    "text": "map and because of that I now can get pots and you'll see my pot is now in a",
    "start": "1948710",
    "end": "1955580"
  },
  {
    "text": "running state and it's backed by which I",
    "start": "1955580",
    "end": "1960730"
  },
  {
    "start": "1957000",
    "end": "2061000"
  },
  {
    "text": "should have given it some more time there we go it's backed by dynamo GB so there was so basically what this",
    "start": "1960730",
    "end": "1966830"
  },
  {
    "text": "application does is it creates a dynamo DB table sorry the the operator creates the dynamo DB table then the application",
    "start": "1966830",
    "end": "1973520"
  },
  {
    "text": "when it deploys it goes through and says it will go and check to see if a key exists if a key doesn't exist it writes",
    "start": "1973520",
    "end": "1979910"
  },
  {
    "text": "it and this is just some blank text that I wrote in here about the operator awhile back so it's pretty nice you can",
    "start": "1979910",
    "end": "1985490"
  },
  {
    "text": "actually do a hundred percent from cube Caudill all of your management and right now there's about seven resources that",
    "start": "1985490",
    "end": "1992030"
  },
  {
    "text": "are actually supported I think this will be very interesting from the partner perspective to also talk to everybody",
    "start": "1992030",
    "end": "1997400"
  },
  {
    "text": "because there's some really interesting tools here that you automatically deploy so think about maybe you're deploying a SVN into your own cluster maybe use git",
    "start": "1997400",
    "end": "2005020"
  },
  {
    "text": "lab or something like that that has to be backed by a data store but you now when you actually deploy those solutions",
    "start": "2005020",
    "end": "2010450"
  },
  {
    "text": "you have to go and actually deploy an RDS database or maybe you're you're you're living the Wild West and you want",
    "start": "2010450",
    "end": "2016240"
  },
  {
    "text": "to deploy a Postgres database onto your cluster this won't solve that but if you want to back that by something in AWS",
    "start": "2016240",
    "end": "2022660"
  },
  {
    "text": "you could use the operator to then manage those resources for you as of",
    "start": "2022660",
    "end": "2027760"
  },
  {
    "text": "right now as I said it deploys about seven resources I'm in the process actually of code generating all of our",
    "start": "2027760",
    "end": "2035290"
  },
  {
    "text": "CloudFormation resources into this so you'd be able to cube cuddle apply any sort of resource you could deploy a",
    "start": "2035290",
    "end": "2040990"
  },
  {
    "text": "subnet you could deploy a node group you could extend your kubernetes cluster you could extend your VPC all of those",
    "start": "2040990",
    "end": "2046419"
  },
  {
    "text": "functions directly from cube cuddle just like you do with your application stack it's very nice yeah so that's the",
    "start": "2046419",
    "end": "2055118"
  },
  {
    "text": "operator I'm gonna flip back to the slides and we're going to talk about security for a little bit",
    "start": "2055119",
    "end": "2061408"
  },
  {
    "text": "cool anybody have any questions about anything we've covered so far or about",
    "start": "2062579",
    "end": "2068770"
  },
  {
    "text": "the operator yeah",
    "start": "2068770",
    "end": "2071700"
  },
  {
    "text": "from your perspective no in the code it does in the code right now in the code",
    "start": "2076899",
    "end": "2082419"
  },
  {
    "text": "you can actually go look at it it's 100% open source on github it's at AWS labs and it's AWS - service -",
    "start": "2082419",
    "end": "2089020"
  },
  {
    "text": "operator inside there there's a bunch of model files and those model files reference the translation between cloud",
    "start": "2089020",
    "end": "2095589"
  },
  {
    "text": "formation and CR DS and the newer version it will be a direct translation and then we'll have these layer 2",
    "start": "2095589",
    "end": "2101140"
  },
  {
    "text": "services that allow you to do more custom things built on top of it some of",
    "start": "2101140",
    "end": "2108250"
  },
  {
    "text": "the CloudFormation templates are actually are very similar to those they're just extended a little bit to be a little bit more batteries included",
    "start": "2108250",
    "end": "2114510"
  },
  {
    "text": "yeah so it's very similar to that with - the functions there",
    "start": "2114510",
    "end": "2119310"
  },
  {
    "text": "so the service broker has a different architecture behind the scenes because",
    "start": "2125060",
    "end": "2130250"
  },
  {
    "text": "I'm actually using CR DS in itself I have a little bit more functions that I can actually build on top of it the",
    "start": "2130250",
    "end": "2135890"
  },
  {
    "text": "service broker has three api's that you adhere to things like bind service instances and forget what the other one",
    "start": "2135890",
    "end": "2142760"
  },
  {
    "text": "is and those api's our list is the catalog and those api's are very somewhat restrictive at least and so",
    "start": "2142760",
    "end": "2149600"
  },
  {
    "text": "this gives you the ability to actually use core native kubernetes functions so things like our back which aren't",
    "start": "2149600",
    "end": "2155990"
  },
  {
    "text": "supported at all in the service broker today are fully supported because I'm actually able to use kubernetes our back",
    "start": "2155990",
    "end": "2163490"
  },
  {
    "text": "to gate who can create these resources there's another question in that oh cool",
    "start": "2163490",
    "end": "2169970"
  },
  {
    "text": "fantastic yeah one here so right now",
    "start": "2169970",
    "end": "2177910"
  },
  {
    "text": "there's a couple things so right now you can deploy when you deploy this I'm",
    "start": "2177910",
    "end": "2183050"
  },
  {
    "text": "deploying it onto a specific node that has full access to do that and not putting anything else on there we do",
    "start": "2183050",
    "end": "2188480"
  },
  {
    "text": "have from the community perspective there's a kept out there if you're not familiar with keps that's the way that kubernetes does",
    "start": "2188480",
    "end": "2195290"
  },
  {
    "text": "improvements or extensions basically we have a kept that we started working on with the community around how to do pod",
    "start": "2195290",
    "end": "2202010"
  },
  {
    "text": "identity so there's tools there's other tools out in the out in the community that do this we've been looking at how",
    "start": "2202010",
    "end": "2208340"
  },
  {
    "text": "we want to solve it so there's a full cap that you can check out on the kubernetes community github repository",
    "start": "2208340",
    "end": "2214340"
  },
  {
    "text": "that will help solve this in the long run yeah yeah",
    "start": "2214340",
    "end": "2225080"
  },
  {
    "text": "yeah huh secrets yeah or something like",
    "start": "2225080",
    "end": "2232860"
  },
  {
    "text": "vault or anything any other any typical way of managing those things you could also use our secrets manager any way",
    "start": "2232860",
    "end": "2240210"
  },
  {
    "text": "that you would standard do this because they're just applications for them for the most part yeah anything else before",
    "start": "2240210",
    "end": "2246630"
  },
  {
    "text": "I move on cool all right so this is my",
    "start": "2246630",
    "end": "2252420"
  },
  {
    "start": "2251000",
    "end": "2318000"
  },
  {
    "text": "big call if you are a partner in here I saw a couple of hands if you deploy anything storage databases anything that",
    "start": "2252420",
    "end": "2260880"
  },
  {
    "text": "gets deployed into a customer's account start thinking about this it's a very interesting architecture that you can actually start building on top of you",
    "start": "2260880",
    "end": "2267960"
  },
  {
    "text": "can make sure that your applications are highly available using this control loop so I really want and even from the",
    "start": "2267960",
    "end": "2273840"
  },
  {
    "text": "customers perspective your applications can be better by doing it this way there's ways that you can extend this",
    "start": "2273840",
    "end": "2279480"
  },
  {
    "text": "and extend kubernetes to make your applications more highly available and I really really I really believe in this",
    "start": "2279480",
    "end": "2285810"
  },
  {
    "text": "so please start doing this please start looking into operators please start looking into the like sample controller",
    "start": "2285810",
    "end": "2291870"
  },
  {
    "text": "project off of the kubernetes org they're all great resources internally the functions that allow you to do this",
    "start": "2291870",
    "end": "2297510"
  },
  {
    "text": "are very simple to work with you can do it from Python you can do it from go you can do it from Ruby you can do it in",
    "start": "2297510",
    "end": "2302580"
  },
  {
    "text": "anything you want so start looking into this because they're really they're one fun to develop but also really helpful",
    "start": "2302580",
    "end": "2309780"
  },
  {
    "text": "when you're actually working on operating large-scale clusters any any of this automation makes it helpful cool",
    "start": "2309780",
    "end": "2318630"
  },
  {
    "start": "2318000",
    "end": "2330000"
  },
  {
    "text": "the last thing I'm going to talk about is security so security as I'm calling out here is day zero and there's some",
    "start": "2318630",
    "end": "2325380"
  },
  {
    "text": "basic things that I would like to make sure that we're starting to instill into some of your clusters so first off",
    "start": "2325380",
    "end": "2331500"
  },
  {
    "start": "2330000",
    "end": "2372000"
  },
  {
    "text": "basics how many of you are already deploying a a way of handling network",
    "start": "2331500",
    "end": "2337650"
  },
  {
    "text": "policies or network security well",
    "start": "2337650",
    "end": "2342900"
  },
  {
    "text": "there's a few hands this is the basics of network security in here what we're",
    "start": "2342900",
    "end": "2348990"
  },
  {
    "text": "saying is I want malicious user to be able to access front-end the front-end application or not be able to access any",
    "start": "2348990",
    "end": "2355740"
  },
  {
    "text": "of these resources or from this could also go from say for instance the payments user payment",
    "start": "2355740",
    "end": "2361499"
  },
  {
    "text": "service to the front end service or from the user services store service any of those connections internally in your",
    "start": "2361499",
    "end": "2367319"
  },
  {
    "text": "cluster you can do using that now I'm going to start with in general security",
    "start": "2367319",
    "end": "2373859"
  },
  {
    "start": "2372000",
    "end": "2404000"
  },
  {
    "text": "is layered how many people are doing something about post level security your",
    "start": "2373859",
    "end": "2381059"
  },
  {
    "text": "hands are you running agents things like that to basically scan those and make sure that they're hardened images yeah",
    "start": "2381059",
    "end": "2386880"
  },
  {
    "text": "if you're not start looking into this there's a lot of tools that will help you you can run agents you can run these as",
    "start": "2386880",
    "end": "2392579"
  },
  {
    "text": "daemon sets you can run them directly on those nodes you can deploy them in there things like Trend Micro deep security will help with this there's a whole",
    "start": "2392579",
    "end": "2399509"
  },
  {
    "text": "bunch of other tools that will make this possible and I'm calling out that it's layered here because we're gonna add in some more things network security start",
    "start": "2399509",
    "end": "2406679"
  },
  {
    "start": "2404000",
    "end": "2447000"
  },
  {
    "text": "looking into Network policy controllers this is a cork kubernetes component tools like calico bye bye tae Guerra",
    "start": "2406679",
    "end": "2414329"
  },
  {
    "text": "they will allow you to actually implement the network policy manifest that kubernetes Exploud you to deploy",
    "start": "2414329",
    "end": "2420839"
  },
  {
    "text": "and it will allow you to automatically set up that pod a can't talk to pod b or",
    "start": "2420839",
    "end": "2425880"
  },
  {
    "text": "pod c can't talk to pod a there's and it's very simple it's just a yeah Mel manifest file you can manage it via",
    "start": "2425880",
    "end": "2432089"
  },
  {
    "text": "again flux get ops however you want to do this your CI processes you can deploy all those in that so start looking into",
    "start": "2432089",
    "end": "2439559"
  },
  {
    "text": "these because they're very helpful and you should be doing this because there are there are still ways that things can",
    "start": "2439559",
    "end": "2445709"
  },
  {
    "text": "get through these layers on top of that how many people are scanning their images cool so those of you who aren't",
    "start": "2445709",
    "end": "2455279"
  },
  {
    "start": "2447000",
    "end": "2591000"
  },
  {
    "text": "are you are you are you being able or do you have some verification at all that says that there isn't a vulnerable package in",
    "start": "2455279",
    "end": "2462419"
  },
  {
    "text": "those containers that that open source package from NPM didn't just inject malicious code what was that this week",
    "start": "2462419",
    "end": "2468539"
  },
  {
    "text": "or last week or so or many times this whole year check these things they're very important to do because we're",
    "start": "2468539",
    "end": "2474719"
  },
  {
    "text": "starting we're in a we're in a world where we're now using a lot of open source tools and it's impossible to",
    "start": "2474719",
    "end": "2480749"
  },
  {
    "text": "check the internals of all of these things one package I think what was the recent caller I think it was like react",
    "start": "2480749",
    "end": "2486449"
  },
  {
    "text": "has a thousand dependencies that would be impossible to check all thousand dependencies and make sure that somebody's not",
    "start": "2486449",
    "end": "2492040"
  },
  {
    "text": "Bitcoin mining off of your servers so do this and the last thing is the application this is more from the",
    "start": "2492040",
    "end": "2499750"
  },
  {
    "text": "perspective of that same exact thing managing those packages managing everything that's inside of those so",
    "start": "2499750",
    "end": "2505210"
  },
  {
    "text": "hosting container very important application incredibly important and network make sure that those",
    "start": "2505210",
    "end": "2511420"
  },
  {
    "text": "applications can only talk to who they should be able to talk to so kubernetes",
    "start": "2511420",
    "end": "2517810"
  },
  {
    "text": "basics please start using kubernetes are back if you're not kübra eks as it currently stands does it",
    "start": "2517810",
    "end": "2523930"
  },
  {
    "text": "implements this for you it automatically sets your cluster up if you're not deploying a 1.7 I think it's a 1.6",
    "start": "2523930",
    "end": "2530230"
  },
  {
    "text": "cluster before start upgrading because we need to we added our back in 1.7 and",
    "start": "2530230",
    "end": "2536410"
  },
  {
    "text": "it's a very important component that allows you to segregate who can actually access those resources to pull things",
    "start": "2536410",
    "end": "2543430"
  },
  {
    "text": "like pod security policies pod security policies would basically say that any",
    "start": "2543430",
    "end": "2549280"
  },
  {
    "text": "pod that gets deployed into your cluster has to adhere to these levels don't run as root for example always always",
    "start": "2549280",
    "end": "2558000"
  },
  {
    "text": "specify who that user actually can be and then the last one is network policy",
    "start": "2558000",
    "end": "2563620"
  },
  {
    "text": "controller again I was just talking about this this is very important that network security really stopping people",
    "start": "2563620",
    "end": "2569260"
  },
  {
    "text": "from being able to access other applications that they couldn't because chances are well security is basically",
    "start": "2569260",
    "end": "2575560"
  },
  {
    "text": "just implementing as many stock as you possibly can to stop people from doing",
    "start": "2575560",
    "end": "2581500"
  },
  {
    "text": "malicious things and hopefully something doesn't happen but at some time there's gonna be some issue and you and you want",
    "start": "2581500",
    "end": "2588280"
  },
  {
    "text": "to be covered so please start implementing these things quick demonstration or just action on a",
    "start": "2588280",
    "end": "2594610"
  },
  {
    "text": "demonstration but a quick preview of what this looks like CVE scanning in containers it's very",
    "start": "2594610",
    "end": "2599890"
  },
  {
    "text": "simple there's a lot of tools out there they do that there's partnering products that you can pay for that will give you",
    "start": "2599890",
    "end": "2605230"
  },
  {
    "text": "really rich UIs and tools that will help do this things like twist lock and aqua security you can implement these in your",
    "start": "2605230",
    "end": "2612370"
  },
  {
    "text": "in your actual CI processes like this or if you want to and you like playing with",
    "start": "2612370",
    "end": "2618220"
  },
  {
    "text": "open source tools there's even things like Claire that was originally by Corus I think they changed it to now Red Hat",
    "start": "2618220",
    "end": "2623920"
  },
  {
    "text": "but it probably still in chorus as repo you can deploy that directly into your CI process just like you would any of those",
    "start": "2623920",
    "end": "2630820"
  },
  {
    "text": "others and get a rich set of vulnerability scans against your images and it makes it really easy for you to",
    "start": "2630820",
    "end": "2637000"
  },
  {
    "text": "start implementing these and just like what I was talking about around CR DS and control loops and so on and so forth",
    "start": "2637000",
    "end": "2643510"
  },
  {
    "text": "you're implementing automation that will help protect you later and doesn't implement to a hard stop that would",
    "start": "2643510",
    "end": "2650710"
  },
  {
    "text": "frustrate your developers or even you because it's not a manual process and it makes it really easy that's it for now I",
    "start": "2650710",
    "end": "2658780"
  },
  {
    "start": "2656000",
    "end": "2758000"
  },
  {
    "text": "have about 15 minutes answer questions I'm Chris Hein again this is my email you're more than welcome to email me",
    "start": "2658780",
    "end": "2663970"
  },
  {
    "text": "anything you want also you can hit me up on Twitter I'm Chris Christopher Hein and I've got 50",
    "start": "2663970",
    "end": "2670810"
  },
  {
    "text": "minutes of answered questions yeah uh on",
    "start": "2670810",
    "end": "2680860"
  },
  {
    "text": "the worker note so the worker notes still in your account so I would I would be implementing something on your side as well well we're gonna be doing",
    "start": "2680860",
    "end": "2687640"
  },
  {
    "text": "protective we're gonna be protecting the control plane notes but you you still own those those worker notes that are in",
    "start": "2687640",
    "end": "2693010"
  },
  {
    "text": "your own account so I would be implementing something from that perspective as well yeah other questions yeah",
    "start": "2693010",
    "end": "2703890"
  },
  {
    "text": "yeah I could pull it up on my own machine there all the documentation has",
    "start": "2707340",
    "end": "2714360"
  },
  {
    "text": "pretty rich examples of POD security policies I was just check out the kubernetes Doc's for those there's a lot",
    "start": "2714360",
    "end": "2719880"
  },
  {
    "text": "that can't that you can actually secure with those and it spans across any pods that you actually want it to so yep",
    "start": "2719880",
    "end": "2732380"
  },
  {
    "text": "um I don't have them often on my head give me one second let me pull that up for you",
    "start": "2739099",
    "end": "2744789"
  },
  {
    "start": "2758000",
    "end": "3576000"
  },
  {
    "text": "so things like the good that you can actually run as you can control the pot",
    "start": "2758470",
    "end": "2765520"
  },
  {
    "text": "here I'm just gonna take you over to the kubernetes docks so these are some of the basics that you can actually control so you can say that containers cannot",
    "start": "2765520",
    "end": "2772960"
  },
  {
    "text": "row that doesn't mean the containers can't run is privileged mode you can say they can't run as host networking you",
    "start": "2772960",
    "end": "2778990"
  },
  {
    "text": "can control this all on a global basis across your whole cluster and it's just a kubernetes it's just a manifest file",
    "start": "2778990",
    "end": "2785140"
  },
  {
    "text": "that looks really simple I think they have a full example lower where is it",
    "start": "2785140",
    "end": "2795119"
  },
  {
    "text": "yeah looks like that so you can set SC Linux rules your supplemental groups you",
    "start": "2795540",
    "end": "2801670"
  },
  {
    "text": "run as users so you can say run as anything so there's a lot of components and controls that you have with those",
    "start": "2801670",
    "end": "2807940"
  },
  {
    "text": "pod security policies yeah",
    "start": "2807940",
    "end": "2814050"
  },
  {
    "text": "that's a great that's a great call up yes so the question was the with this service operator is the data actually",
    "start": "2822020",
    "end": "2828619"
  },
  {
    "text": "stored in at CD or do you have to spin up your own Etsy d4 thing like you do with something like the service broker",
    "start": "2828619",
    "end": "2833990"
  },
  {
    "text": "you don't out-of-the-box all of that data gets stored directly in the control planes at CD because it's directly it's",
    "start": "2833990",
    "end": "2841340"
  },
  {
    "text": "adding a resource into that directly from the API server so you're only ever talking to the kubernetes api server our",
    "start": "2841340",
    "end": "2848450"
  },
  {
    "text": "architectural e behind the scenes with things like the with the service catalog what's really happening is you're",
    "start": "2848450",
    "end": "2854420"
  },
  {
    "text": "running a secondary web server inside the cluster and all of the commands that",
    "start": "2854420",
    "end": "2860090"
  },
  {
    "text": "you send even though they look like they're going to the kubernetes api server they're actually getting relayed down to another web server that then has",
    "start": "2860090",
    "end": "2866360"
  },
  {
    "text": "to re-implement a lot of functions that's one of the reasons why things like our back aren't automatically",
    "start": "2866360",
    "end": "2871400"
  },
  {
    "text": "applied into those kinds of hookups yeah",
    "start": "2871400",
    "end": "2878470"
  },
  {
    "text": "yeah so the question is an operator is basically a CRD it's a CR D in a pod so",
    "start": "2887390",
    "end": "2893779"
  },
  {
    "text": "the pot is what's actually managing that whole control loop and then the C or D is what the what it's supposed to manage",
    "start": "2893779",
    "end": "2899390"
  },
  {
    "text": "itself you would write you would write your own you would write your own yeah",
    "start": "2899390",
    "end": "2905019"
  },
  {
    "text": "yeah good okay",
    "start": "2905019",
    "end": "2913269"
  },
  {
    "text": "some of it yes so the question is they're having problems running updating CR DS so there are new functions within",
    "start": "2917740",
    "end": "2924550"
  },
  {
    "text": "kubernetes 1.11 and beyond so I haven't started implementing a lot of those functions yet but there are new",
    "start": "2924550",
    "end": "2929920"
  },
  {
    "text": "functions where CR DS have native support for versioning so that's been released I will be upgrading as soon as",
    "start": "2929920",
    "end": "2936580"
  },
  {
    "text": "we can get as mean as soon as we get eks to 1.11 because I will want to be actually supporting those kind of",
    "start": "2936580",
    "end": "2942340"
  },
  {
    "text": "structures being able to have multiple versions as of right now the operators only been released in October so it's",
    "start": "2942340",
    "end": "2947530"
  },
  {
    "text": "still it's in an alpha state right now but it's yeah go yeah I'm not sure",
    "start": "2947530",
    "end": "2961780"
  },
  {
    "text": "actually so I don't actually technically work on the service team so I don't know the full roadmap for it unfortunately",
    "start": "2961780",
    "end": "2967920"
  },
  {
    "text": "yeah",
    "start": "2967920",
    "end": "2970920"
  },
  {
    "text": "I don't know the code deploy roadmap but you can actually deploy using lambda functions I think we have a reference",
    "start": "2975769",
    "end": "2981230"
  },
  {
    "text": "architecture out there where you can use lambda function directly from code deploy to deploy into e KS cool and oh",
    "start": "2981230",
    "end": "2990980"
  },
  {
    "text": "yeah so the question is do I have any",
    "start": "2990980",
    "end": "2999289"
  },
  {
    "text": "plans to remove the CloudFormation I don't so one of the things that I",
    "start": "2999289",
    "end": "3005319"
  },
  {
    "text": "would do if I actually had to remove that is I have to re-implement a full scheduler and if you've ever followed",
    "start": "3005319",
    "end": "3010990"
  },
  {
    "text": "along chris nova has a great document about some of the learnings that she had well worth while developing cops for for",
    "start": "3010990",
    "end": "3019269"
  },
  {
    "text": "AWS and things like api limits there's a lot that goes into it that I can get out of the box directly with CloudFormation",
    "start": "3019269",
    "end": "3025089"
  },
  {
    "text": "so there's no plans currently the other side of that is we already have the definition Specht out and I can code",
    "start": "3025089",
    "end": "3031509"
  },
  {
    "text": "generate those directly off of those with that the way that it's structured and then most people when most people",
    "start": "3031509",
    "end": "3037539"
  },
  {
    "text": "ask that is because they've had maybe a difficult time or they're not interested in really managing CloudFormation the",
    "start": "3037539",
    "end": "3043390"
  },
  {
    "text": "operator is actually handling it a hundred percent for you and you really shouldn't be mutating any of those CloudFormation stacks after they're",
    "start": "3043390",
    "end": "3049900"
  },
  {
    "text": "deployed from the operator I tagged all of those in a specific way so that you're not supposed to because the idea",
    "start": "3049900",
    "end": "3057339"
  },
  {
    "text": "behind the operator is let the automation and the state that you store in kubernetes be that desired state and",
    "start": "3057339",
    "end": "3063849"
  },
  {
    "text": "have have all the updates get pushed back into Etsy D so it continues to be",
    "start": "3063849",
    "end": "3069490"
  },
  {
    "text": "that desired state of the of the controls so yeah yeah",
    "start": "3069490",
    "end": "3077700"
  },
  {
    "text": "hmm",
    "start": "3096310",
    "end": "3099030"
  },
  {
    "text": "yeah so operators can look a little bit more a little bit more scary or look",
    "start": "3109430",
    "end": "3114450"
  },
  {
    "text": "like they're like they're harder to manage I guess that's their feedback it it can feel like that because you're",
    "start": "3114450",
    "end": "3121050"
  },
  {
    "text": "having to learn a new construct right so instead of just learning pods and deployments and so on and so forth the",
    "start": "3121050",
    "end": "3126390"
  },
  {
    "text": "difference though is from a from an integration perspective you can make them more more advanced which is why why",
    "start": "3126390",
    "end": "3133349"
  },
  {
    "text": "we structured around that because you can say that for example in mine what we",
    "start": "3133349",
    "end": "3138510"
  },
  {
    "text": "actually have when we deploy that CloudFormation template I'm also setting up an SMS topic and an sqs queue and all",
    "start": "3138510",
    "end": "3144480"
  },
  {
    "text": "the events from that from those stacks are getting submitted into that now that's something I couldn't do directly",
    "start": "3144480",
    "end": "3150000"
  },
  {
    "text": "in itself like I'm able to manage all of those resources directly from the operator and I can continue to scale",
    "start": "3150000",
    "end": "3155640"
  },
  {
    "text": "those things out which isn't something that I would actually be able to do using a pod unless my pot unless I had",
    "start": "3155640",
    "end": "3160770"
  },
  {
    "text": "an individual container that managed DynamoDB an individual container that",
    "start": "3160770",
    "end": "3166349"
  },
  {
    "text": "managed those s3 buckets so it really actually does make it easier it's just a little bit it's a little bit of a",
    "start": "3166349",
    "end": "3171359"
  },
  {
    "text": "mindset change around what you're storing and what you're managing from kubernetes I think there's one other",
    "start": "3171359",
    "end": "3178290"
  },
  {
    "text": "question yeah",
    "start": "3178290",
    "end": "3180680"
  },
  {
    "text": "yeah actually so just like you reference a service account from a pod I have two",
    "start": "3185140",
    "end": "3191350"
  },
  {
    "text": "keys inside the operator that allow you to reference a secondary template and I actually have a C or D around",
    "start": "3191350",
    "end": "3197680"
  },
  {
    "text": "confirmation templates so you could deploy a CloudFormation template into your cluster and then you can reference",
    "start": "3197680",
    "end": "3203140"
  },
  {
    "text": "that CloudFormation template like you would a service account by specifying the namespace that you want it to be",
    "start": "3203140",
    "end": "3208390"
  },
  {
    "text": "from and the actual name of the resource and it will apply using that CloudFormation template cool any other",
    "start": "3208390",
    "end": "3216700"
  },
  {
    "text": "questions yeah with UK s we actually do support it",
    "start": "3216700",
    "end": "3226150"
  },
  {
    "text": "we announce that I think in September of this year so we so we have an AMI and I",
    "start": "3226150",
    "end": "3233710"
  },
  {
    "text": "think it's based on the Nvidia drivers if I recall correctly yeah yeah we",
    "start": "3233710",
    "end": "3244270"
  },
  {
    "text": "definitely we did release that we did release it and I think I won't like I said I think it was in September that we",
    "start": "3244270",
    "end": "3249970"
  },
  {
    "text": "really support for that and we have just like we manage our Ami's through get if I recall correctly we haven't we have a",
    "start": "3249970",
    "end": "3256510"
  },
  {
    "text": "like a subdirectory in that repository that has the Nvidia base tommy's cool",
    "start": "3256510",
    "end": "3263950"
  },
  {
    "text": "any other questions yeah sorry there's a light right in my eye so yeah",
    "start": "3263950",
    "end": "3269970"
  },
  {
    "text": "I don't I don't not directly",
    "start": "3275890",
    "end": "3281800"
  },
  {
    "text": "indirect so you can so let me actually show you what this looks like so in in the actual code how you how they're",
    "start": "3281800",
    "end": "3288190"
  },
  {
    "text": "referenced because you can do that so what I've done is I've actually kind of abstracted away the concept of AR ends",
    "start": "3288190",
    "end": "3294330"
  },
  {
    "text": "so when you reference something you actually reference it by the CR D name it if you ask the service operator",
    "start": "3294330",
    "end": "3304920"
  },
  {
    "text": "cool so this is the project on github if you check out some of these model files",
    "start": "3313900",
    "end": "3319660"
  },
  {
    "text": "you can actually see how this works so for example in the SNS subscription not",
    "start": "3319660",
    "end": "3328329"
  },
  {
    "text": "topic so in the SNS subscription what you actually can do is I'm using golang",
    "start": "3328329",
    "end": "3334390"
  },
  {
    "text": "templating in my model files actually reference other things so you'll notice in here on line 23 we have call helpers",
    "start": "3334390",
    "end": "3340510"
  },
  {
    "text": "get SNS topic by name so when you pass in a name of a an SNS",
    "start": "3340510",
    "end": "3345520"
  },
  {
    "text": "C or D resource it'll actually go through and look that resource up and",
    "start": "3345520",
    "end": "3350650"
  },
  {
    "text": "then grab the topic air and that came from the outputs and use that as the as",
    "start": "3350650",
    "end": "3356200"
  },
  {
    "text": "the experiment that it gets passed into the CloudFormation template that backs this so there is some way of actually",
    "start": "3356200",
    "end": "3362710"
  },
  {
    "text": "meshing to two components together and a perfect example of how this actually fully works is in examples we have this",
    "start": "3362710",
    "end": "3370990"
  },
  {
    "text": "SNS sq S sub manifest file and you'll see that we basically have an SNS topic",
    "start": "3370990",
    "end": "3377950"
  },
  {
    "text": "that's just called example SNS topic we have a queue that's called example s qsq name and then down here i reference",
    "start": "3377950",
    "end": "3385089"
  },
  {
    "text": "those directly by the names and it will go and do that lookup for you so it'll go and just basically a try and",
    "start": "3385089",
    "end": "3391210"
  },
  {
    "text": "apply three stacks one for the topic one for the queue and one for the subscription and the queue and topic",
    "start": "3391210",
    "end": "3396460"
  },
  {
    "text": "will start provisioning and the subscription is going to fail because it doesn't know the full error end yet and when it fails it will do a rollback and",
    "start": "3396460",
    "end": "3403180"
  },
  {
    "text": "the operator will delete the stack for you and then try and reapply it and then oldring it'll continue that loop until",
    "start": "3403180",
    "end": "3409089"
  },
  {
    "text": "it succeeds just like kubernetes doesn itself that control loop that tries things and then goes into a back off",
    "start": "3409089",
    "end": "3414130"
  },
  {
    "text": "loop and eventually will start airing on you but in this instance what happens is that queue and topic come up and then",
    "start": "3414130",
    "end": "3421390"
  },
  {
    "text": "the subscription succeeds that answer the question cool any other questions yeah one in the",
    "start": "3421390",
    "end": "3430270"
  },
  {
    "text": "back",
    "start": "3430270",
    "end": "3432390"
  },
  {
    "text": "yeah yeah yep so just like any other resource you could do cube cuddle delete",
    "start": "3437690",
    "end": "3443059"
  },
  {
    "text": "- f with the manifest file name or because they are just available by a via",
    "start": "3443059",
    "end": "3449299"
  },
  {
    "text": "cube cuddle in general you could just delete the actual resource so like in here because I had that DynamoDB there",
    "start": "3449299",
    "end": "3458030"
  },
  {
    "text": "we go so because I have that dynamodb table I could just do cube cuddle delete - or not - F dynamo and then say dynamo",
    "start": "3458030",
    "end": "3467930"
  },
  {
    "text": "resource or dynamo table and this is actually going to delete and what that actually does is it calls delete stack",
    "start": "3467930",
    "end": "3473059"
  },
  {
    "text": "on the resource for you and make sure that that doesn't happen and there's some other nice things in here that control loop that I've been talking",
    "start": "3473059",
    "end": "3478549"
  },
  {
    "text": "about that it was really useful if if say for instance somebody that didn't know anything about the operator didn't",
    "start": "3478549",
    "end": "3484220"
  },
  {
    "text": "know what you're what you were deploying into it goes and deletes the cloud formation stack that loop is still running and so it's going to try and",
    "start": "3484220",
    "end": "3491000"
  },
  {
    "text": "reconcile periodically for you and say hey somebody deleted this static let me just go recreate it for you the data",
    "start": "3491000",
    "end": "3496160"
  },
  {
    "text": "will be lost in some of these these these like stateful services but it will still try and reconcile that state and",
    "start": "3496160",
    "end": "3502190"
  },
  {
    "text": "you because it uses CloudFormation behind the scenes you can technically put locks on those but that's more of a",
    "start": "3502190",
    "end": "3507650"
  },
  {
    "text": "manual process cool any other questions",
    "start": "3507650",
    "end": "3512809"
  },
  {
    "text": "I have about a minute and a half yeah",
    "start": "3512809",
    "end": "3516400"
  },
  {
    "text": "yes if you were deploying prometheus how would you manage that yeah so that's a",
    "start": "3525730",
    "end": "3532570"
  },
  {
    "text": "great question what are the best practices around managing stateful services using operators I would still",
    "start": "3532570",
    "end": "3538060"
  },
  {
    "text": "rely on typical ways of managing State across any application because behind the scenes it's just a pod",
    "start": "3538060",
    "end": "3543640"
  },
  {
    "text": "so check out tools like port works that will allow you to do like a software-defined network storage on top",
    "start": "3543640",
    "end": "3550060"
  },
  {
    "text": "of your cluster and have that shared or things like Amazon EFS to basically",
    "start": "3550060",
    "end": "3555130"
  },
  {
    "text": "manage that state across the cluster and share this state for you yeah typical",
    "start": "3555130",
    "end": "3560260"
  },
  {
    "text": "ways that you would do state in any any kind of container is environment cool got time for one more question",
    "start": "3560260",
    "end": "3568170"
  },
  {
    "text": "all right cool thank you everybody again Christopher Hein on Twitter if you",
    "start": "3568170",
    "end": "3574030"
  },
  {
    "text": "want to talk",
    "start": "3574030",
    "end": "3576420"
  }
]