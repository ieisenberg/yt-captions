[
  {
    "text": "um so welcome everyone uh my name is Nathan mclair and I work for Docker Inc",
    "start": "1560",
    "end": "6759"
  },
  {
    "text": "uh I'm a Solutions engineer there so I'm running around doing all kinds of things like a chicken with its head cut off",
    "start": "6759",
    "end": "12679"
  },
  {
    "text": "right now uh so I spearhead the training effort so I generate and uh manage a lot of the training content and also deliver",
    "start": "12679",
    "end": "19400"
  },
  {
    "text": "it uh help customers Implement Docker um and also you know involved with the",
    "start": "19400",
    "end": "26160"
  },
  {
    "text": "sales and the sort of next steps of the product kind of side of things and I'm going to actually be showing you today",
    "start": "26160",
    "end": "32119"
  },
  {
    "text": "some of the existing um kind of experimental things that uh some of us",
    "start": "32119",
    "end": "38079"
  },
  {
    "text": "have been kind of hacking on in our spare time uh that we'd really like to see in sort of the nextg stage of Docker",
    "start": "38079",
    "end": "44760"
  },
  {
    "text": "um so that's what I'm going to be showing you today and then I'm also going to be showing a um sort of a proof",
    "start": "44760",
    "end": "52160"
  },
  {
    "text": "of concept demo of a rolling deploy right so it's a a high availability deploy or what some people call a zero",
    "start": "52160",
    "end": "59039"
  },
  {
    "text": "downtime deploy know zero downtime is pretty contingent on little hiccups not H happening uh so uh you know for",
    "start": "59039",
    "end": "65920"
  },
  {
    "text": "instance yesterday during this demo I was like oh and the server just randomly went down that's great so um hopefully",
    "start": "65920",
    "end": "73280"
  },
  {
    "text": "everything will go even better today um and I want to kind of start off by",
    "start": "73280",
    "end": "78479"
  },
  {
    "text": "saying like thank you guys so much for coming we really appreciate it um the lever the level of enthusiasm and energy",
    "start": "78479",
    "end": "85680"
  },
  {
    "text": "and excitement around Docker is just incredibly humbling uh so really really appreciate you guys coming out",
    "start": "85680",
    "end": "92079"
  },
  {
    "text": "and and you know um taking an hour out of your day to come and listen to me talk about Docker and then demo some",
    "start": "92079",
    "end": "97880"
  },
  {
    "text": "Hands-On stuff right so um the general idea for the presentation today is that",
    "start": "97880",
    "end": "104240"
  },
  {
    "text": "I'm going to be doing a little bit of an intro to Docker uh so that if you're not really familiar with the problems that",
    "start": "104240",
    "end": "110479"
  },
  {
    "text": "it's solving or with the underlying Tech you can get familiar but I don't really want to spend too much time on that",
    "start": "110479",
    "end": "116000"
  },
  {
    "text": "since a lot of that information's easily accessible online or you might have been just bombarded with it from everywhere",
    "start": "116000",
    "end": "121880"
  },
  {
    "text": "so um the majority of what I'm going to be showing you and talking about and demoing is like actual Hands-On on the",
    "start": "121880",
    "end": "129160"
  },
  {
    "text": "command line stuff uh where I talk about what's the sort of architecture behind the zero downtime deploy and uh why is",
    "start": "129160",
    "end": "137599"
  },
  {
    "text": "Docker useful for that and then also um you know we're just going to get to dig right in and talk about a lot of Juicy",
    "start": "137599",
    "end": "143519"
  },
  {
    "text": "technical details so uh like I said the agenda is going to",
    "start": "143519",
    "end": "148680"
  },
  {
    "text": "be a little bit of an a Docker and then really really demo heavy so um so so one",
    "start": "148680",
    "end": "155519"
  },
  {
    "text": "of the things that is the reason that Docker is catching on right now I feel like is just it sort of really struck a",
    "start": "155519",
    "end": "163040"
  },
  {
    "text": "nerve with people in the right place at the right time um because there's been this huge shift in the industry from",
    "start": "163040",
    "end": "170480"
  },
  {
    "text": "applications which are deployed once to a single server and they sort of sit there and then they live there for all",
    "start": "170480",
    "end": "176400"
  },
  {
    "text": "of their life and they never really get changed uh and you're de Loy maybe is like FTP some new PHP files up to the",
    "start": "176400",
    "end": "183879"
  },
  {
    "text": "server and maybe run a few admin scripts or something and now we live in this",
    "start": "183879",
    "end": "189319"
  },
  {
    "text": "world where all kinds of different random stuff is happening right so um",
    "start": "189319",
    "end": "194480"
  },
  {
    "text": "now not only do we have PHP to worry about we have uh all variety of",
    "start": "194480",
    "end": "199680"
  },
  {
    "text": "different backends in terms of data right so we have elastic search and solar and Lucine and all kinds of things",
    "start": "199680",
    "end": "206000"
  },
  {
    "text": "in that Arena redus and so on that we have to manage right if you're a sedman",
    "start": "206000",
    "end": "211120"
  },
  {
    "text": "you have to manage that and if you're a developer uh who sort of wearing both hats which is the formation of the dev",
    "start": "211120",
    "end": "217319"
  },
  {
    "text": "Ops space uh then you also have to know a lot about that and you get to manage it all right and so a big problem is CM",
    "start": "217319",
    "end": "224439"
  },
  {
    "text": "aren't developers and developers aren't cmans right so um both sides have been",
    "start": "224439",
    "end": "230640"
  },
  {
    "text": "sort of coming together into the middle lately and forming this new space that people call devops um because the",
    "start": "230640",
    "end": "237720"
  },
  {
    "text": "problem today is that we have all of these different things that we have to keep track of right you now have a",
    "start": "237720",
    "end": "243239"
  },
  {
    "text": "variety of different language Stacks different application platforms um and you want to deliver all",
    "start": "243239",
    "end": "249680"
  },
  {
    "text": "the time right I was just reading an article today about what's the overlying message of AWS Summit uh 2014 and they",
    "start": "249680",
    "end": "256959"
  },
  {
    "text": "were basically talking about how a lot of the messaging is around agility right so previously one of the big selling",
    "start": "256959",
    "end": "262759"
  },
  {
    "text": "points of cloud computing was just cost right it's a lot cheaper to just use the cloud computing that's available to you",
    "start": "262759",
    "end": "269320"
  },
  {
    "text": "than to to build your own data centers and manage everything and you know uh oh",
    "start": "269320",
    "end": "275960"
  },
  {
    "text": "you know a hard drive is failing randomly and we don't know why and then you get to go look and see what's wrong",
    "start": "275960",
    "end": "281360"
  },
  {
    "text": "with it like physically on a physical level and it turns out that you know three of the screws for the hard drive were loose and now it's like jittering",
    "start": "281360",
    "end": "288600"
  },
  {
    "text": "and so cloud computing you know takes a lot of that cost out but you know more importantly now it makes you faster",
    "start": "288600",
    "end": "294440"
  },
  {
    "text": "right so um a big reason why Docker is catching on I think is because it allows",
    "start": "294440",
    "end": "300360"
  },
  {
    "text": "you to move a lot more quickly right um one of a very common problem that development teams have is a new",
    "start": "300360",
    "end": "308280"
  },
  {
    "text": "developer joins your team and you need to get them set up with everything",
    "start": "308280",
    "end": "313600"
  },
  {
    "text": "precisely tuned to the way that they need it in their environment to develop um and well the way that historically",
    "start": "313600",
    "end": "320840"
  },
  {
    "text": "things like that have gone is well you get them set up and if you have good automation they're at a good starting",
    "start": "320840",
    "end": "326560"
  },
  {
    "text": "point um but also you know they need to talk to the members of the team to get the tribal knowledge of how to actually",
    "start": "326560",
    "end": "334120"
  },
  {
    "text": "configure their environment the right way and so on and so forth and so you know maybe the one guy who knows how to",
    "start": "334120",
    "end": "339800"
  },
  {
    "text": "set up the database properly is out sick or out to lunch so it takes this new developer like days or a week to get set",
    "start": "339800",
    "end": "346440"
  },
  {
    "text": "up just to start like developing right just to start contributing code um and",
    "start": "346440",
    "end": "351520"
  },
  {
    "text": "you know there's enough things that are hard about joining a new development team as it is we don't need to throw environment configuration in there too",
    "start": "351520",
    "end": "358639"
  },
  {
    "text": "so what we end up having is what we call the Matrix from hell right so um you",
    "start": "358639",
    "end": "365240"
  },
  {
    "text": "have all these different environments a Dev environment a place for QA to test it uh server that you want to run it on",
    "start": "365240",
    "end": "372120"
  },
  {
    "text": "in prod and you have all these different things that you might want to run including an analytics DB another DB",
    "start": "372120",
    "end": "377680"
  },
  {
    "text": "maybe a key Value Store your actual application code God help you if you have applications that are written in",
    "start": "377680",
    "end": "383160"
  },
  {
    "text": "different languages or different paradigms right cuz then suddenly you're juggling like bundler and pip and",
    "start": "383160",
    "end": "390160"
  },
  {
    "text": "uh npm and so on and so you get uh this",
    "start": "390160",
    "end": "396120"
  },
  {
    "text": "Matrix from hell where you have all these different environments that you want to run something in and um all",
    "start": "396120",
    "end": "401680"
  },
  {
    "text": "these different things that you want to run and it looks slightly different in every place and what Docker wants to do is solve that so a little bit about the",
    "start": "401680",
    "end": "408039"
  },
  {
    "text": "advantages of containers um they're a lightweight form of application Level virtualization that takes advantage of",
    "start": "408039",
    "end": "415800"
  },
  {
    "text": "features that the Linux kernel provides for better process isolation re Source control right so it's not magic right so",
    "start": "415800",
    "end": "423240"
  },
  {
    "text": "um one of the things actually that I've been trying to sort of combat lately is people are kind of like oh well it might",
    "start": "423240",
    "end": "429560"
  },
  {
    "text": "just be magic this is like a tendency that everyone has with all new technologies right is that oh well uh",
    "start": "429560",
    "end": "435759"
  },
  {
    "text": "maybe it's magic and it can solve all of these problems and pain points that I have and Docker is an amazing technology",
    "start": "435759",
    "end": "440960"
  },
  {
    "text": "and it does a ton of things and enables things that just weren't possible before but it doesn't fix everything right so",
    "start": "440960",
    "end": "447160"
  },
  {
    "text": "what you need to know about containers is just they are very very lightweight form of virtualization that isolates",
    "start": "447160",
    "end": "452199"
  },
  {
    "text": "processes off better than they were able to be isolated before and also provides additional knobs and dials to turn to",
    "start": "452199",
    "end": "459319"
  },
  {
    "text": "sort of uh control the resources like CPU and memory that those processes are using right and",
    "start": "459319",
    "end": "467319"
  },
  {
    "text": "so you know there's no hypervisor right so there's no virtualized kernel we're",
    "start": "467319",
    "end": "472520"
  },
  {
    "text": "not emulating Hardware we are actually using the host kernel and we're just using features that the Linux kernel has",
    "start": "472520",
    "end": "478560"
  },
  {
    "text": "been adding in since around 2005 to make this kind of thing possible and",
    "start": "478560",
    "end": "483879"
  },
  {
    "text": "additionally in docker's case we introduced this sensible default of using a union file system to do images",
    "start": "483879",
    "end": "490879"
  },
  {
    "text": "in layers so that we can use this little copy on rate trick so that if you start say five containers that use the same",
    "start": "490879",
    "end": "497680"
  },
  {
    "text": "image excuse me you're only actually keeping that on dis in one place right",
    "start": "497680",
    "end": "504039"
  },
  {
    "text": "so five copies of wuntu running one thing on disk so a big part of what what",
    "start": "504039",
    "end": "510199"
  },
  {
    "text": "Docker wants to do is we want to make containers easy to use standardized and interoperable right and we want to",
    "start": "510199",
    "end": "516560"
  },
  {
    "text": "provide this whole ecosystem around it right take a drink because he has said ecosystem there was this joke on Twitter",
    "start": "516560",
    "end": "522399"
  },
  {
    "text": "this morning where someone said I actually wrote this new Firefox plug-in where every time that you see the",
    "start": "522399",
    "end": "527480"
  },
  {
    "text": "instance of the word Docker it replaces it with a picture of a leprechaun writing a unicorn or whatever and um",
    "start": "527480",
    "end": "535640"
  },
  {
    "text": "so I said that's that's cool but you know you should actually have a configurable menu with like different",
    "start": "535640",
    "end": "541200"
  },
  {
    "text": "crypto Zoological creatures so you could choose like a leprechaun and a dragon and a unicorn or like whatever your",
    "start": "541200",
    "end": "546240"
  },
  {
    "text": "preference is they seem to like that so um",
    "start": "546240",
    "end": "553040"
  },
  {
    "text": "so the thing is that it really does matter though to have an ecosystem and a whole variety of existing things um and",
    "start": "553040",
    "end": "560640"
  },
  {
    "text": "you know um as far as we carry the containerization metaphor in terms of like comparing ourselves to actual",
    "start": "560640",
    "end": "566240"
  },
  {
    "text": "physical shipping containers um the the thing about actual physical",
    "start": "566240",
    "end": "572040"
  },
  {
    "text": "shipping containers is that they're not just this box with standardized dimensions that's made out of weathering",
    "start": "572040",
    "end": "577839"
  },
  {
    "text": "steel right they also have hooks and holes in all the right places and all of the things that use them though to",
    "start": "577839",
    "end": "583160"
  },
  {
    "text": "expect those and so you get this whole ecosystem of stuff around it that knows to expect that particular thing so then",
    "start": "583160",
    "end": "590000"
  },
  {
    "text": "all of the cranes that use containers work the same way and same thing with all of the trains that move containers",
    "start": "590000",
    "end": "595120"
  },
  {
    "text": "around and all of the ships that ship containers and so on and so they have this standard expected interface and so",
    "start": "595120",
    "end": "601760"
  },
  {
    "text": "that's a big part of what we're trying to do right because if we can't actually get a real standard to work then we end",
    "start": "601760",
    "end": "608160"
  },
  {
    "text": "up with sort of like the xkcd standard uh XKCD situation where we're saying oh",
    "start": "608160",
    "end": "614160"
  },
  {
    "text": "man there's like all these 15 competing standards and they all suck well we should make our own and then we'll be",
    "start": "614160",
    "end": "619600"
  },
  {
    "text": "the universal standard now there's like 16 competing standards right so",
    "start": "619600",
    "end": "626720"
  },
  {
    "text": "uh what we would like to do is the sort of standard interface for you know basically packaging up an application on",
    "start": "626720",
    "end": "633680"
  },
  {
    "text": "steroids and uh this is just sort of illustration of how all the different aspects of everything feed into each",
    "start": "633680",
    "end": "640279"
  },
  {
    "text": "other and continue to move on right so there's the docker platform of engine and hub engine is the actual open source",
    "start": "640279",
    "end": "647440"
  },
  {
    "text": "binary that you interact with on the command line and hub is the software as a service component where all the",
    "start": "647440",
    "end": "652480"
  },
  {
    "text": "standard images live and mostly that's where you push and pull from and uh that",
    "start": "652480",
    "end": "657959"
  },
  {
    "text": "feeds into the company of Docker Inc which supports it and you know gives",
    "start": "657959",
    "end": "663079"
  },
  {
    "text": "training and makes money off of stuff around the open source product and then that also feeds back into the community",
    "start": "663079",
    "end": "669959"
  },
  {
    "text": "so that the maintainers are able to keep going maintaining the product adding new features one of which uh is a proposed",
    "start": "669959",
    "end": "675720"
  },
  {
    "text": "feature that I'm going to show you today and um you know keeping this sort of",
    "start": "675720",
    "end": "681040"
  },
  {
    "text": "virtuous cycle going so uh you may have heard a little bit about this at the",
    "start": "681040",
    "end": "686480"
  },
  {
    "text": "keynote yesterday basically we like to talk about uh guilt um one of our leading sort of",
    "start": "686480",
    "end": "693839"
  },
  {
    "text": "Flagship uh applications this is exactly what we'd like to see happen for everyone they used to have this huge",
    "start": "693839",
    "end": "699360"
  },
  {
    "text": "messy deploy process and uh ugly monolithic applications and now they broke everything out into this Docker",
    "start": "699360",
    "end": "705720"
  },
  {
    "text": "Centric workflow where they're able to move very fast and Dev to deploy is now hours instead of weeks and I'm going to",
    "start": "705720",
    "end": "712360"
  },
  {
    "text": "actually show you right now some instances of where you know basically not only does Docker provide you",
    "start": "712360",
    "end": "718000"
  },
  {
    "text": "flexibility in the form of of the ability to roll back your application in case something goes wrong in a deploy",
    "start": "718000",
    "end": "723720"
  },
  {
    "text": "but it also allows you flexibility to just develop and deploy stuff really really quickly",
    "start": "723720",
    "end": "730200"
  },
  {
    "text": "so I hope those slides didn't rout your brain too much personally I'm not a huge slide fan but they are handy um and so",
    "start": "730200",
    "end": "737279"
  },
  {
    "text": "now I'm going to actually show you some of the real stuff of working with Docker so oh yeah there's one more slide which",
    "start": "737279",
    "end": "745199"
  },
  {
    "text": "is a diagram to show you um so taking the whole site down to do a deploy is really painful and we can do better we",
    "start": "745199",
    "end": "751560"
  },
  {
    "text": "have the technology so what I'm going to show is a demo of using Docker to do a rolling deploy so we're going to",
    "start": "751560",
    "end": "756800"
  },
  {
    "text": "actually hot update the application in place while people are still accessing it right and using it and so this is a",
    "start": "756800",
    "end": "762880"
  },
  {
    "text": "little bit of what the architecture of what we're going to be doing looks like we have uh everything hosted on ec2 so",
    "start": "762880",
    "end": "769440"
  },
  {
    "text": "not only am I running the actual Docker commands from ec2 instance in the first place but I'm actually communicating",
    "start": "769440",
    "end": "775279"
  },
  {
    "text": "with a remote Docker demon that's running on another ec2 instance that's where actual website is hosted in a",
    "start": "775279",
    "end": "780880"
  },
  {
    "text": "container we have a request that goes in through ha proxy and ha proxy load balances out to two different back ends",
    "start": "780880",
    "end": "787880"
  },
  {
    "text": "right and then those backends are also connected to an instance of redus so that we can persist data and we're",
    "start": "787880",
    "end": "794120"
  },
  {
    "text": "orchestrated with this amazing tool called the Born Again shell right so it's pretty useful I don't know if",
    "start": "794120",
    "end": "801000"
  },
  {
    "text": "you've heard of it but um so I wrote this batch script to do a",
    "start": "801000",
    "end": "806680"
  },
  {
    "text": "deploy and you'll be able to get an in-depth look at it and also it's hosted on GitHub um so I can show you um you",
    "start": "806680",
    "end": "813079"
  },
  {
    "text": "know where it's hosted actually I can just go ahead and show you right now um if you want to look at the code",
    "start": "813079",
    "end": "819000"
  },
  {
    "text": "for what we're going to what I'm going to show you it's at github.com Nathan laclair",
    "start": "819000",
    "end": "824680"
  },
  {
    "text": "awsa and um you know fair fair warning it requires uh sort of this um you know",
    "start": "824680",
    "end": "831600"
  },
  {
    "text": "Cutting Edge feature of Docker hosts which is still in proposal mode right now it's part of the new sort of push",
    "start": "831600",
    "end": "838800"
  },
  {
    "text": "that we we've been having lately to provide better answers inside of Docker directly to orchestration right so if",
    "start": "838800",
    "end": "844839"
  },
  {
    "text": "you want to run multicontainer applications and connect them together and have them work together really effectively how do you do that and",
    "start": "844839",
    "end": "852240"
  },
  {
    "text": "clustering so if you want to be agnostic about where your applications are running and basically just say run this",
    "start": "852240",
    "end": "857399"
  },
  {
    "text": "run this run this and figure out you know let whatever the clustering management system is figure out where",
    "start": "857399",
    "end": "862480"
  },
  {
    "text": "they're going to run which is actually a very hard problem and Amazon's new ECS offering uh seems to be very pring in",
    "start": "862480",
    "end": "869519"
  },
  {
    "text": "that direction um and then also around host management right so uh if you want",
    "start": "869519",
    "end": "876120"
  },
  {
    "text": "to actually run on a remote host right now that's sort of annoying to get set up you have to use some sort of external",
    "start": "876120",
    "end": "882560"
  },
  {
    "text": "tool and we'd really like to be able to make it so that in Docker itself you can just say Docker hosts create blah blah",
    "start": "882560",
    "end": "888279"
  },
  {
    "text": "blah and it will say spin up an ec2 instance with Docker already running and everything provision the exact right way",
    "start": "888279",
    "end": "894639"
  },
  {
    "text": "and then just connect you to it and you can just start running Docker commands in the cloud right away right very",
    "start": "894639",
    "end": "899680"
  },
  {
    "text": "quickly and I'm going to show you that because I actually wrote the ec2 driver for that so um so basically right failed",
    "start": "899680",
    "end": "908480"
  },
  {
    "text": "broken pipe SSH back in here so I have this uh ec2 instance",
    "start": "908480",
    "end": "914480"
  },
  {
    "text": "running and I'm basically using it for development right so I developed the demo on this instance and um this is the",
    "start": "914480",
    "end": "922560"
  },
  {
    "text": "application repo and what I'm going to talk about a little bit is this feature called Docker hosts right so this is the",
    "start": "922560",
    "end": "929160"
  },
  {
    "text": "first thing to um kind of get your head around to understand what's going to be happening in the demo so we have this",
    "start": "929160",
    "end": "934720"
  },
  {
    "text": "command Docker hosts and when you type Docker hosts what it will show you is a list of all of the docker hosts that you",
    "start": "934720",
    "end": "940480"
  },
  {
    "text": "have running one of which is the Unix socket which is local so that's the default host right so you could run",
    "start": "940480",
    "end": "946720"
  },
  {
    "text": "Docker commands locally but also Docker host makes it very easy to actually create and manage um instances running",
    "start": "946720",
    "end": "955399"
  },
  {
    "text": "Docker in the cloud right or inside of a virtual machine locally um so right now if you want to use uh Docker on OSX you",
    "start": "955399",
    "end": "963680"
  },
  {
    "text": "have to actually use this tool called boot to Docker which is a way of managing the VM uh so that you can",
    "start": "963680",
    "end": "970639"
  },
  {
    "text": "expose a remote Docker demon and connect to it from your local client and then run Docker commands that way um and",
    "start": "970639",
    "end": "977000"
  },
  {
    "text": "wouldn't it be nice if that was all just inside of Docker and with this feature it would be right we would have a driver",
    "start": "977000",
    "end": "982440"
  },
  {
    "text": "for virtual box that allows you to just administrate that Docker instance that's running remotely in Virtual box using us",
    "start": "982440",
    "end": "989399"
  },
  {
    "text": "Docker hosts so Docker host has all sorts of commands right that you can run",
    "start": "989399",
    "end": "994440"
  },
  {
    "text": "so I'm going to go ahead and show you here what it's like to actually create a remote host um so so if you do Docker",
    "start": "994440",
    "end": "1001600"
  },
  {
    "text": "host create this is the command to create a new instance and um it's kind",
    "start": "1001600",
    "end": "1007399"
  },
  {
    "text": "of hard to see uh the the options but um basically there are all these um options",
    "start": "1007399",
    "end": "1013839"
  },
  {
    "text": "that you can pass as arguments so that you can spec specify for instance a what's the driver that you want to use",
    "start": "1013839",
    "end": "1019519"
  },
  {
    "text": "we have drivers for Azure for Rackspace for digital ocean for Amazon and so on",
    "start": "1019519",
    "end": "1024600"
  },
  {
    "text": "and also what are the configurable options like the configurable parameters that you want to actually set so you can",
    "start": "1024600",
    "end": "1030720"
  },
  {
    "text": "set obviously your AWS account credentials so that you can actually authorize the creation of that instance",
    "start": "1030720",
    "end": "1036000"
  },
  {
    "text": "on your account but also you can say what kind of instance type you want what kind of region that you want to put it",
    "start": "1036000",
    "end": "1041480"
  },
  {
    "text": "in availability Zone and so on and what's the image ID so you can launch something from a custom Ami so it",
    "start": "1041480",
    "end": "1047520"
  },
  {
    "text": "actually also provides some options so that either you can have Docker pre-installed on an Ami and everything",
    "start": "1047520",
    "end": "1052840"
  },
  {
    "text": "configured exactly the way you like it or you can just let the default Docker host provisioning take care of",
    "start": "1052840",
    "end": "1058160"
  },
  {
    "text": "installing and bootstrapping Docker and getting it set up the right way for you so make the text a little bigger so you",
    "start": "1058160",
    "end": "1064799"
  },
  {
    "text": "can see so the command to actually create a host is Docker hosts create so we do Docker host create minus minus",
    "start": "1064799",
    "end": "1071799"
  },
  {
    "text": "driver ec2 and I'm just going to say no install since installing Docker takes kind of a second but the default Ami has",
    "start": "1071799",
    "end": "1078960"
  },
  {
    "text": "a version of Docker installed already right so minus minus no install and then I'm going to give it a name like Kaiju I",
    "start": "1078960",
    "end": "1085840"
  },
  {
    "text": "don't know so like give it some weird names so what Docker host create will do is it will actually use a security group",
    "start": "1085840",
    "end": "1092679"
  },
  {
    "text": "that has the proper Ingress rules that you need uh if it exists and if it doesn't exist it will create it it will",
    "start": "1092679",
    "end": "1098919"
  },
  {
    "text": "actually create a key pair for accessing that instance over SSH and store it locally so you don't actually have to",
    "start": "1098919",
    "end": "1104520"
  },
  {
    "text": "worry about managing the key pairs for that instance that's taken care of or you automatically um it will wait for SSH to become",
    "start": "1104520",
    "end": "1111200"
  },
  {
    "text": "available on the instance then once SSH becomes available it will connect to that instance and remotely provision it",
    "start": "1111200",
    "end": "1116600"
  },
  {
    "text": "over SSH right so it'll install Docker if it's not already installed there and if it is already then when it's finished",
    "start": "1116600",
    "end": "1122960"
  },
  {
    "text": "with that it will actually configure the demon options the way that you need to set it uh up for remote connection and",
    "start": "1122960",
    "end": "1128760"
  },
  {
    "text": "restart the service and then you'll be good to go you can run Docker commands remotely against that host so once SSH",
    "start": "1128760",
    "end": "1136520"
  },
  {
    "text": "becomes available here sorry about that set the demon options restart the",
    "start": "1136520",
    "end": "1142039"
  },
  {
    "text": "service to reflect the changes and then bam the host is tagged and created and we can now run commands against the",
    "start": "1142039",
    "end": "1147440"
  },
  {
    "text": "active host right so you can see here now in Docker hosts we have this other host Kaiju that was just created so this",
    "start": "1147440",
    "end": "1153480"
  },
  {
    "text": "is this brand spank a new host running Docker on an ec2 instance so I could do something like this right I can do",
    "start": "1153480",
    "end": "1158840"
  },
  {
    "text": "Docker run and detach mode with minus P 80 to 80 so I'm forwarding Port 80 from",
    "start": "1158840",
    "end": "1163880"
  },
  {
    "text": "the container to Port 80 on local host on the uh the actual host machine and and I'm just going to say engine X right",
    "start": "1163880",
    "end": "1170679"
  },
  {
    "text": "so I'm going to run an image called engine X and it will take advantage of our official repos that we have on dockerhub and it will actually pull",
    "start": "1170679",
    "end": "1178039"
  },
  {
    "text": "engine X and run it so then we'll be able to actually go to that website right we can go to that IP address and",
    "start": "1178039",
    "end": "1185360"
  },
  {
    "text": "we'll be able to see the enginex welcome page of you know welcome to enginex this",
    "start": "1185360",
    "end": "1190760"
  },
  {
    "text": "is the default page blah blah blah uh and so when the poll finishes we'll actually have a container that run um",
    "start": "1190760",
    "end": "1197960"
  },
  {
    "text": "and it's a container that's running on a remote host and um you can think of this as something that's pretty cool and and",
    "start": "1197960",
    "end": "1204960"
  },
  {
    "text": "fun to play with especially if you want to get started using Docker really quickly or you want to use Docker on like coffee shop Wi-Fi where it's",
    "start": "1204960",
    "end": "1211360"
  },
  {
    "text": "terrible and so you know the advantage of running on ec2 is pretty obvious because you can slurp down things on a",
    "start": "1211360",
    "end": "1217240"
  },
  {
    "text": "huge big fat pipe instead of actually trying to slurp uh you know everything down at Starbucks and having them hate",
    "start": "1217240",
    "end": "1223840"
  },
  {
    "text": "you or but you off the network or whatever you're just running over SSH so",
    "start": "1223840",
    "end": "1229039"
  },
  {
    "text": "um so we actually downloaded this image and and note how fast engine X booted up right so it's it's really the speed is",
    "start": "1229039",
    "end": "1234679"
  },
  {
    "text": "quite comparable to just starting a process natively on your on your host so we have this container now that you can",
    "start": "1234679",
    "end": "1240520"
  },
  {
    "text": "see so you see Docker PS it's this container that was named trusting fir me",
    "start": "1240520",
    "end": "1245600"
  },
  {
    "text": "right and um you can do stuff like Docker host IP so give me the IP of the",
    "start": "1245600",
    "end": "1251320"
  },
  {
    "text": "host named Kaiju which is our new one right and so I can grab this IP address and actually come over and see this",
    "start": "1251320",
    "end": "1257080"
  },
  {
    "text": "right so right uh uh very easily we spun up a totally new ec2 instance with",
    "start": "1257080",
    "end": "1262640"
  },
  {
    "text": "everything already set the way that we want and then we uh launched a container and ran it right so this is a basic",
    "start": "1262640",
    "end": "1269280"
  },
  {
    "text": "feature that um you know is a proposed feature out for Docker right now that um",
    "start": "1269280",
    "end": "1274600"
  },
  {
    "text": "is a big component of the script that I've written for doing a zero downtime deploy um and uh you can also do stuff",
    "start": "1274600",
    "end": "1284120"
  },
  {
    "text": "like Docker hosts SSH of the host and then run a command right so I could",
    "start": "1284120",
    "end": "1289159"
  },
  {
    "text": "check how much dis space I have on that host with just one Command right so",
    "start": "1289159",
    "end": "1294520"
  },
  {
    "text": "gives me the result of the command back so that's pretty cool and then likewise you know you just have this sort of nice",
    "start": "1294520",
    "end": "1299720"
  },
  {
    "text": "UI around actually managing the remote host so Docker host RM Kaiju now it doesn't exist anymore I made an actual",
    "start": "1299720",
    "end": "1306320"
  },
  {
    "text": "call out to the Amazon API to say get rid of that host so um so that's docer",
    "start": "1306320",
    "end": "1312240"
  },
  {
    "text": "host and so I'm going to talk a little bit now about how I'm actually going to do the rolling deploy and then I'm going to do it right and so so um so the way",
    "start": "1312240",
    "end": "1320760"
  },
  {
    "text": "that the deploy works is I have this ha proxy configuration right so I have this ha proxy config and the first two blocks",
    "start": "1320760",
    "end": "1327880"
  },
  {
    "text": "look pretty normal there's just some default like timeout settings for ha proxy and then there's a front end that",
    "start": "1327880",
    "end": "1333559"
  },
  {
    "text": "says okay we're bind to 80 right we bind to the external port and then also okay",
    "start": "1333559",
    "end": "1339559"
  },
  {
    "text": "proxies these requests to the back end right and so the back end is a load balancer that uses the round robin",
    "start": "1339559",
    "end": "1345960"
  },
  {
    "text": "algorithm so it will just dispense requests out to the the nodes one at a time and I have two nodes right one is a",
    "start": "1345960",
    "end": "1352559"
  },
  {
    "text": "container that's running a server listening on Port 8000 locally and the other is a container that's running a",
    "start": "1352559",
    "end": "1359039"
  },
  {
    "text": "server running on Port 80001 Lally and will actually dispense requests out to",
    "start": "1359039",
    "end": "1364159"
  },
  {
    "text": "those um in a round robin fashion and when we're going to actually take one",
    "start": "1364159",
    "end": "1369320"
  },
  {
    "text": "down to do a deploy what we do is we just set it its health check status to",
    "start": "1369320",
    "end": "1374360"
  },
  {
    "text": "down so that ha proxy will start querying continue querying it one once per 100 milliseconds and so the node",
    "start": "1374360",
    "end": "1382120"
  },
  {
    "text": "will self-report as being down so uh ha proxy will actually take it out of the rotation um but it will continue serving",
    "start": "1382120",
    "end": "1389600"
  },
  {
    "text": "requests until we actually stop it and kill it manually ourselves and remove it and then start a new one right and then",
    "start": "1389600",
    "end": "1396000"
  },
  {
    "text": "we'll actually then the new one will actually start responding to requests so ha proxy will put it back in rotation",
    "start": "1396000",
    "end": "1401880"
  },
  {
    "text": "and the point of this is that it allows us to do a hot deploy right so we can actually deploy applications um",
    "start": "1401880",
    "end": "1409120"
  },
  {
    "text": "without any downtime and I'm almost just endangered the entire thing here actually I don't think I would have uh",
    "start": "1409120",
    "end": "1416080"
  },
  {
    "text": "ha proxy doesn't get redeployed every time it's just like a thing that happens when I spin up the infrastructure for",
    "start": "1416080",
    "end": "1421760"
  },
  {
    "text": "the first time so the script to actually run this is look a deploy dotshell and",
    "start": "1421760",
    "end": "1427440"
  },
  {
    "text": "so basically what we do in a deploy is we set the docker hosts active to",
    "start": "1427440",
    "end": "1433000"
  },
  {
    "text": "default right so we actually say all right we're going to run some Docker commands locally and then we do this little command called push tagged image",
    "start": "1433000",
    "end": "1440480"
  },
  {
    "text": "and that's just a function that builds the python image and then it pushes it out to the docker Hub and then we say um",
    "start": "1440480",
    "end": "1449360"
  },
  {
    "text": "okay now after that when we're doing a deploy we set the active host to the remote host that's running which is",
    "start": "1449360",
    "end": "1454760"
  },
  {
    "text": "called AWS lightning fast and then we do a pull of that image down from dockerhub",
    "start": "1454760",
    "end": "1460640"
  },
  {
    "text": "and then we run app containers from image right so run oops",
    "start": "1460640",
    "end": "1468600"
  },
  {
    "text": "app containers from image is this little function which will Loop over every container that I have uh running and it",
    "start": "1468600",
    "end": "1475880"
  },
  {
    "text": "will report the health as bad so ha proxy will actually take it out of rotation and then it will Docker stop",
    "start": "1475880",
    "end": "1482600"
  },
  {
    "text": "that container Docker remove it and then it will start another container with the same properties using the new image",
    "start": "1482600",
    "end": "1488679"
  },
  {
    "text": "right so each image that we deploy out gets a certain tag and the reason that's important is because that way we have",
    "start": "1488679",
    "end": "1495320"
  },
  {
    "text": "every single image that we've ever deployed tagged with a unique tag and it could be a gsha in this case I just use",
    "start": "1495320",
    "end": "1501840"
  },
  {
    "text": "a time stamp for Simplicity and um and the reason that that's important is",
    "start": "1501840",
    "end": "1507440"
  },
  {
    "text": "because if we do a deploy and something goes wrong we could just very easily roll back to a known good State and I'll",
    "start": "1507440",
    "end": "1512880"
  },
  {
    "text": "show you that so all right without further Ado we're going to do like four deploys",
    "start": "1512880",
    "end": "1520559"
  },
  {
    "text": "so so um let me first make sure I didn't actually fat finger something here aha I",
    "start": "1520559",
    "end": "1526640"
  },
  {
    "text": "did so just check this out so um yeah so so yesterday um I made",
    "start": "1526640",
    "end": "1536880"
  },
  {
    "text": "this change I love you aw3 invents and deployed it right and uh you can see if",
    "start": "1536880",
    "end": "1542480"
  },
  {
    "text": "you go to the IP address here um this is the deployed app in production right so",
    "start": "1542480",
    "end": "1549799"
  },
  {
    "text": "you can see that I have this hit counter so that every time that you hit the website the little reddest counter goes up right and so um well what if we want",
    "start": "1549799",
    "end": "1558600"
  },
  {
    "text": "to actually do a deploy with zero downtime well I can use this uh little",
    "start": "1558600",
    "end": "1564000"
  },
  {
    "text": "oneliner that I have for like a health check and I'm going to make the text actually slightly smaller",
    "start": "1564000",
    "end": "1570399"
  },
  {
    "text": "um and I need to SSH again so I have this little health check",
    "start": "1570399",
    "end": "1577360"
  },
  {
    "text": "oneliner that shows us basically the status of uh the service responding or not um just in one line and",
    "start": "1577360",
    "end": "1586159"
  },
  {
    "text": "so uh this you know websit says I love you AWS reinvent but you know we could change it to say something else right",
    "start": "1586159",
    "end": "1592919"
  },
  {
    "text": "like I love you more AWS reinvent session 2 right like um so",
    "start": "1592919",
    "end": "1601759"
  },
  {
    "text": "edit add an ex exclamation point for effect and so uh we can do now we're",
    "start": "1606440",
    "end": "1613399"
  },
  {
    "text": "going to run our deploy script so what's happening here is we rebuild the image so now we have the the new app code",
    "start": "1613399",
    "end": "1619000"
  },
  {
    "text": "baked into a new image tagged with this timestamp you can see at the top here it says Friday November 14th",
    "start": "1619000",
    "end": "1625919"
  },
  {
    "text": "19277 well we're just tagging that in instance of that image with a Tim stamp so that we can actually refer back to it",
    "start": "1625919",
    "end": "1632200"
  },
  {
    "text": "later if we want if we want to like roll back to that image and we're pushing it out right and the push goes pretty",
    "start": "1632200",
    "end": "1637799"
  },
  {
    "text": "quickly comp considering the size of the image um because all of the image layers that we've already pushed uh we just",
    "start": "1637799",
    "end": "1644600"
  },
  {
    "text": "call out to dockerhub and basically find out okay well we've pushed it already so um skip over it and don't need to push",
    "start": "1644600",
    "end": "1651559"
  },
  {
    "text": "it and you know um image pushes are considering the size of an image generally um right now are decently fast",
    "start": "1651559",
    "end": "1658799"
  },
  {
    "text": "but they're going to get even faster because right now we're basically working on a a rework of the registry and the image process right and so now",
    "start": "1658799",
    "end": "1665760"
  },
  {
    "text": "we're restarting the container and you can notice here that you see over here in this little health check that we're",
    "start": "1665760",
    "end": "1671720"
  },
  {
    "text": "hitting the homepage but everything is still going on right so this is actually surprisingly tricky to get right because",
    "start": "1671720",
    "end": "1678240"
  },
  {
    "text": "because for instance if you regenerate the load balancer config and then restart the load balancer well guess",
    "start": "1678240",
    "end": "1683320"
  },
  {
    "text": "what you have a temporary like little moment where your load balancer is down and then guess what you're not zero down",
    "start": "1683320",
    "end": "1689919"
  },
  {
    "text": "time so I'm pretty happy right now actually because uh yesterday there was some",
    "start": "1689919",
    "end": "1696840"
  },
  {
    "text": "weird Hiccup and the deploy didn't work well the deploy worked but uh there was downtime so you see I love you more AWS",
    "start": "1696840",
    "end": "1704279"
  },
  {
    "text": "reinvent session 2 don't tell the other session they might get jealous um and",
    "start": "1704279",
    "end": "1709480"
  },
  {
    "text": "that's pretty cool you know we updated the template that plask is using but um I wanted to show something slightly more",
    "start": "1709480",
    "end": "1715399"
  },
  {
    "text": "sort of uh you know like a little bit more like remarkable and looks like my",
    "start": "1715399",
    "end": "1721279"
  },
  {
    "text": "terminal done froze up on me just ssh",
    "start": "1721279",
    "end": "1729559"
  },
  {
    "text": "in uh and that's what we're going to show is uh we're going to actually show",
    "start": "1729559",
    "end": "1735279"
  },
  {
    "text": "um switching over to a branch that uses tornado to actually serve up their requests instead of just the default",
    "start": "1735279",
    "end": "1741480"
  },
  {
    "text": "flask server right so um so basically um you can see here that I've made this",
    "start": "1741480",
    "end": "1747720"
  },
  {
    "text": "commit where there was a change where I moved over to using tornado instead of uh the default flask server so um in",
    "start": "1747720",
    "end": "1754600"
  },
  {
    "text": "case you're not familiar tornado is this python package that allows you to use an",
    "start": "1754600",
    "end": "1759760"
  },
  {
    "text": "evented server to Ser request faster uh because it takes advantage of eole and stuff like that so um so basically we",
    "start": "1759760",
    "end": "1768360"
  },
  {
    "text": "switched git branches so we want to do a deploy of our new code right and so we're going to see like the same kind of thing running right you notice that as",
    "start": "1768360",
    "end": "1774840"
  },
  {
    "text": "the image is building we're actually remaking the image so that it has like a um a pip uh like it rebun basically REM",
    "start": "1774840",
    "end": "1784559"
  },
  {
    "text": "bundles all of the pit packages in that layer because we actually added a new one right we added a new one to requirements.txt which is called Tornado",
    "start": "1784559",
    "end": "1792919"
  },
  {
    "text": "and so now tornado is being bundled into the image and the same thing that was happening before is now happening again",
    "start": "1792919",
    "end": "1799120"
  },
  {
    "text": "right so um what you'll see is when the containers actually start rebooting now",
    "start": "1799120",
    "end": "1804200"
  },
  {
    "text": "pay close attention to this little thing in the second pane here where we have uh it says HTTP 1.0 when when the tornado",
    "start": "1804200",
    "end": "1811840"
  },
  {
    "text": "server actually starts and the containers behind the load balancer actually starts serving requests using tornado instead of using the default",
    "start": "1811840",
    "end": "1818200"
  },
  {
    "text": "flask server this HTP 1.0 will actually switch from 1.0 to 1.1 right the this is",
    "start": "1818200",
    "end": "1825039"
  },
  {
    "text": "like kind of a nice uh accidental uh thing where uh I don't know why flask by",
    "start": "1825039",
    "end": "1831279"
  },
  {
    "text": "default is HTTP 1.0 and tornado is 1.1 but um it's kind of interesting to",
    "start": "1831279",
    "end": "1836720"
  },
  {
    "text": "should be about right now so it's kind of interesting to actually watch this happen as a deploy is going on right you",
    "start": "1836720",
    "end": "1842679"
  },
  {
    "text": "can see that the requests that we get back when we're actually hitting the server go from 1.0 to 1.1 right so right",
    "start": "1842679",
    "end": "1848559"
  },
  {
    "text": "now it'll start happening boom yeah so that's pretty cool right and actually it might mix or it might not right the",
    "start": "1848559",
    "end": "1855320"
  },
  {
    "text": "requests in place but the point is that we're only ever hitting the server that's actually up and so we actually",
    "start": "1855320",
    "end": "1861720"
  },
  {
    "text": "just switched our application over to use tornado without any downtime right so the app was successfully deployed and",
    "start": "1861720",
    "end": "1867039"
  },
  {
    "text": "you can come over here and hit it um you know right so been 34,000 hits on our",
    "start": "1867039",
    "end": "1874039"
  },
  {
    "text": "awesome MVP website and so okay that's pretty cool um that's all good and well",
    "start": "1874039",
    "end": "1879720"
  },
  {
    "text": "right um but what if what if our application developers did something",
    "start": "1879720",
    "end": "1885799"
  },
  {
    "text": "forbidden like actually having five spaces of indentation instead of four in one of their python blocks and then they",
    "start": "1885799",
    "end": "1892960"
  },
  {
    "text": "did a deploy suddenly the website's down we're losing money and everything's on fire",
    "start": "1892960",
    "end": "1900000"
  },
  {
    "text": "right so traditionally if we were using some sort of other way of deploying that well we have a big problem on our hands",
    "start": "1900000",
    "end": "1907039"
  },
  {
    "text": "right so we have a big problem on our hands of okay we deployed stuff we don't exactly know what went wrong and oh we",
    "start": "1907039",
    "end": "1914600"
  },
  {
    "text": "don't have any real way of rolling back to a known good state the only way we have is to keep going",
    "start": "1914600",
    "end": "1920760"
  },
  {
    "text": "forward right we pulled a switch that we can't go back on so um so what I want to",
    "start": "1920760",
    "end": "1928000"
  },
  {
    "text": "show you right now is an example of how Docker can help with that right because you'll notice that I pointed out earlier",
    "start": "1928000",
    "end": "1933880"
  },
  {
    "text": "that we actually have these uh tmox is like freaking out all right here we go so um we have this",
    "start": "1933880",
    "end": "1940960"
  },
  {
    "text": "image tag right so okay we deployed the tornado server everything's going great we're super happy and but you you know",
    "start": "1940960",
    "end": "1948159"
  },
  {
    "text": "then at 2:00 in the day or whatever our developers did something like this which is really stupid right they went okay",
    "start": "1948159",
    "end": "1954399"
  },
  {
    "text": "I'm just going to make this awesome change to the main function right and so yes I added a space I'm awesome and so",
    "start": "1954399",
    "end": "1961440"
  },
  {
    "text": "Josh the developer uh sorry if someone in the audience is named Josh but I just",
    "start": "1961440",
    "end": "1966639"
  },
  {
    "text": "picked Josh because it's a common name so Josh the developer says oh yes Docker allows me to do frequent deploys it's",
    "start": "1966639",
    "end": "1973240"
  },
  {
    "text": "awesome so I'm going to push out all this awesome new code right and so I push out the code so we're going to do a",
    "start": "1973240",
    "end": "1978960"
  },
  {
    "text": "deploy again right so this is like the third time that we've deployed in this demo so",
    "start": "1978960",
    "end": "1985120"
  },
  {
    "text": "um you'll notice that uh what's going to happen now is instead of those you know I I was like pay close attention to the",
    "start": "1985120",
    "end": "1991880"
  },
  {
    "text": "HTTP header right I'm I'm this little Loop over here in the side pane is just basically showing a Tim stamp and the",
    "start": "1991880",
    "end": "1999360"
  },
  {
    "text": "status of what is the header that the homepage returns um for every 200",
    "start": "1999360",
    "end": "2005320"
  },
  {
    "text": "milliseconds right so I'm hitting the website every 200 milliseconds and so we pushed the image out to dockerhub now",
    "start": "2005320",
    "end": "2011080"
  },
  {
    "text": "we're pulling it back down in the the website and then we're going to actually start to deploy right so we're going to start deploying Josh's terrible code and",
    "start": "2011080",
    "end": "2018240"
  },
  {
    "text": "notice what happens in the second pane over here right so we start deploying Josh's terrible code the Lo balancer is",
    "start": "2018240",
    "end": "2024559"
  },
  {
    "text": "doing its thing faking out the health checks making sure that we don't oh what happened Josh pushed out some code that",
    "start": "2024559",
    "end": "2029919"
  },
  {
    "text": "broke everything that's what happened and so okay well you know different",
    "start": "2029919",
    "end": "2035760"
  },
  {
    "text": "organizations take different amounts of time to actually pick up on something going wrong and it may not be as obvious",
    "start": "2035760",
    "end": "2040880"
  },
  {
    "text": "as this right but it may be something that's like you know how many times hands up like how many times have someone in here ever done a deploy or",
    "start": "2040880",
    "end": "2047600"
  },
  {
    "text": "been a part of deploy where you finished it and um you know basically everything",
    "start": "2047600",
    "end": "2052679"
  },
  {
    "text": "was completely broken anybody yeah that's a lot of hands that's a lot of hands",
    "start": "2052679",
    "end": "2059398"
  },
  {
    "text": "so wouldn't it be nice if you could just roll back to this sort of known good state right so you'll remember that we",
    "start": "2059399",
    "end": "2065638"
  },
  {
    "text": "actually kept track of that um we kept track of that uh image uh tag",
    "start": "2065639",
    "end": "2073280"
  },
  {
    "text": "which I seem to have lost in my clipboard but I can just scroll back up and get so the one that we knew was good",
    "start": "2073280",
    "end": "2080480"
  },
  {
    "text": "right this is the last one that we we used that was good where we could just do this right so what if we could just",
    "start": "2080480",
    "end": "2086599"
  },
  {
    "text": "do deoy dotshell rollback and we gave it this tag right and then we actually run these remote Docker commands and we say",
    "start": "2086599",
    "end": "2093118"
  },
  {
    "text": "okay bring it back to the known good State boom everything's back up back in the state that was good",
    "start": "2093119",
    "end": "2098440"
  },
  {
    "text": "right so now we just make Josh wear a dunce cap and sit in the corner and uh",
    "start": "2098440",
    "end": "2104119"
  },
  {
    "text": "write I am a terrible developer or sisman or whatever over and over and over again and meanwhile we can actually",
    "start": "2104119",
    "end": "2111240"
  },
  {
    "text": "you know another kind of awesome thing is like this uh this tag right so this tag",
    "start": "2111240",
    "end": "2119200"
  },
  {
    "text": "that we um deployed that we know was bad right like uh we know something went",
    "start": "2119200",
    "end": "2124960"
  },
  {
    "text": "wrong fortunately we're using Docker so a roll back was really super easy but um",
    "start": "2124960",
    "end": "2130320"
  },
  {
    "text": "you know we still need to debug it right we still need to keep moving forward I mean we fixed the site for now so we kind of got the fire contain we need to",
    "start": "2130320",
    "end": "2137079"
  },
  {
    "text": "figure out what was going wrong so you might actually be able to do something like this right you might actually be able to say Docker run minus it of uh",
    "start": "2137079",
    "end": "2145079"
  },
  {
    "text": "that image with that tag and says bash right then we actually get this shell with this exact environment where the",
    "start": "2145079",
    "end": "2150960"
  },
  {
    "text": "problem happens and we could you know go in and poke around and debug it a little bit right so we could do something like",
    "start": "2150960",
    "end": "2157440"
  },
  {
    "text": "look look at the file and say oh I see what the problem was Josh added an extra",
    "start": "2157440",
    "end": "2163000"
  },
  {
    "text": "level of indentation here and then we could come back over to Source control and fix it right we just now we can",
    "start": "2163000",
    "end": "2169040"
  },
  {
    "text": "actually you know have a successful deploy right it's a VI of app.py here oh",
    "start": "2169040",
    "end": "2175480"
  },
  {
    "text": "okay fix the problem boom now deploy the new thing right and then all of this",
    "start": "2175480",
    "end": "2181000"
  },
  {
    "text": "happens seamlessly right so nothing gets interrupted No Interruption of service we're not losing money right uh we're",
    "start": "2181000",
    "end": "2186520"
  },
  {
    "text": "not having a website that goes down and um you know I don't mean to trivialize this as a technical problem like doing",
    "start": "2186520",
    "end": "2192480"
  },
  {
    "text": "hot deploys is really hard I know because I worked on this demo for a long time and it it's trickier than it looks",
    "start": "2192480",
    "end": "2198359"
  },
  {
    "text": "because the problem is that you always have this little you know you always have one thing which is a possible point of failure or like a race condition",
    "start": "2198359",
    "end": "2205119"
  },
  {
    "text": "where stuff could go wrong but um I think it's like a huge step in the right direction right um because really the",
    "start": "2205119",
    "end": "2212440"
  },
  {
    "text": "the kind of Holy Grail is we could just push out code at any time that we wanted and we could really iterate super fast",
    "start": "2212440",
    "end": "2218119"
  },
  {
    "text": "and super agile and just push out and deploy code whenever we wanted and developers could be agnostic about the",
    "start": "2218119",
    "end": "2224440"
  },
  {
    "text": "actual thing that's running their code because as many of you may know developers usually don't care about like",
    "start": "2224440",
    "end": "2230640"
  },
  {
    "text": "I don't care what runs my code just run it right and so we're doing this deploy right now and everything's going",
    "start": "2230640",
    "end": "2236319"
  },
  {
    "text": "swimmingly I'm very happy because there was a weird issue with my thing yesterday and I was like I blame you",
    "start": "2236319",
    "end": "2241960"
  },
  {
    "text": "guys actually like I think that uh I didn't know if it was just like a lot of load and the flask server went down or",
    "start": "2241960",
    "end": "2247520"
  },
  {
    "text": "or something but uh something went mysteriously wrong yesterday um in like a part of the deploy that isn't even",
    "start": "2247520",
    "end": "2254119"
  },
  {
    "text": "when I take the container down so it must probably unrelated honestly but yeah um so now we uh deployed everything",
    "start": "2254119",
    "end": "2262240"
  },
  {
    "text": "and everything's going awesomely and um you know you could access this website if you want it's running for real right",
    "start": "2262240",
    "end": "2268119"
  },
  {
    "text": "I'm not faking you out and so you could go to you know 54. 87. 38100 and you'll",
    "start": "2268119",
    "end": "2273520"
  },
  {
    "text": "actually see welcome to the Lightning Fast deploy MVP contact sales atom er. to give us some money you know these are",
    "start": "2273520",
    "end": "2280079"
  },
  {
    "text": "all the things that we sell so Shameless self-promotion there and um yeah",
    "start": "2280079",
    "end": "2285640"
  },
  {
    "text": "so uh that's mostly what I had to show um in case you're curious about the roll",
    "start": "2285640",
    "end": "2292200"
  },
  {
    "text": "back stuff you know it's literally just a few commands right so roll back is",
    "start": "2292200",
    "end": "2297720"
  },
  {
    "text": "just okay set the active host to the one that's running remotely which is like our prod server right and then run app",
    "start": "2297720",
    "end": "2304400"
  },
  {
    "text": "containers from image which is that little function if you recall to actually Loop over all the",
    "start": "2304400",
    "end": "2311119"
  },
  {
    "text": "containers that we want which is just two in this case and then you know set the health of them to go down then stop",
    "start": "2311119",
    "end": "2317880"
  },
  {
    "text": "them restart them right and then um then we just set the active host back",
    "start": "2317880",
    "end": "2325119"
  },
  {
    "text": "to the default right so um we run app containers from image with uh whatever",
    "start": "2325119",
    "end": "2330680"
  },
  {
    "text": "the tag is that we passed in and we you know do a rolling deploy uh with a roll back back to the you know sort of known",
    "start": "2330680",
    "end": "2337040"
  },
  {
    "text": "good state of the application so let's see um that's about",
    "start": "2337040",
    "end": "2343079"
  },
  {
    "text": "all um I'm happy to kind of take any questions I really appreciate you guys",
    "start": "2343079",
    "end": "2348760"
  },
  {
    "text": "coming and I'm super excited about Docker and I hope that sort of stimulated your imagination and made you guys excited about stuff too um",
    "start": "2348760",
    "end": "2358640"
  }
]