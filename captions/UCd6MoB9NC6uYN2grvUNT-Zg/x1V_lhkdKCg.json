[
  {
    "start": "0",
    "end": "15000"
  },
  {
    "text": "hi",
    "start": "4560",
    "end": "5200"
  },
  {
    "text": "my name is patrick miller i'm cloud",
    "start": "5200",
    "end": "7279"
  },
  {
    "text": "support engineer here at",
    "start": "7279",
    "end": "8800"
  },
  {
    "text": "aws and today i'm going to talk about",
    "start": "8800",
    "end": "11840"
  },
  {
    "text": "monitoring in aquarius with",
    "start": "11840",
    "end": "13599"
  },
  {
    "text": "cloud watch in this presentation i will",
    "start": "13599",
    "end": "17680"
  },
  {
    "start": "15000",
    "end": "28000"
  },
  {
    "text": "cover the below topics",
    "start": "17680",
    "end": "19439"
  },
  {
    "text": "a quick overview about latino metrics",
    "start": "19439",
    "end": "22000"
  },
  {
    "text": "cloud watch metrics",
    "start": "22000",
    "end": "23359"
  },
  {
    "text": "cloud watch events and in the end i'm",
    "start": "23359",
    "end": "26000"
  },
  {
    "text": "going to do a hands-on",
    "start": "26000",
    "end": "28960"
  },
  {
    "text": "atino published the below metrics to",
    "start": "28960",
    "end": "30800"
  },
  {
    "text": "amazon cloud watch",
    "start": "30800",
    "end": "32238"
  },
  {
    "text": "quite a quick time it is the time the",
    "start": "32239",
    "end": "34320"
  },
  {
    "text": "query was in a kiwi",
    "start": "34320",
    "end": "36000"
  },
  {
    "text": "waiting for research before it started",
    "start": "36000",
    "end": "37760"
  },
  {
    "text": "execution query planning time",
    "start": "37760",
    "end": "40079"
  },
  {
    "text": "which is the time taken to plan the",
    "start": "40079",
    "end": "41840"
  },
  {
    "text": "query validating the table access and",
    "start": "41840",
    "end": "44480"
  },
  {
    "text": "partitions",
    "start": "44480",
    "end": "45600"
  },
  {
    "text": "and given execution time this is the",
    "start": "45600",
    "end": "47600"
  },
  {
    "text": "time antenna takes reading",
    "start": "47600",
    "end": "49200"
  },
  {
    "text": "processing the data serves the",
    "start": "49200",
    "end": "51280"
  },
  {
    "text": "processing time",
    "start": "51280",
    "end": "52399"
  },
  {
    "text": "it's time taken to write results back to",
    "start": "52399",
    "end": "54800"
  },
  {
    "text": "s3",
    "start": "54800",
    "end": "55760"
  },
  {
    "text": "total execution time this is the amount",
    "start": "55760",
    "end": "58879"
  },
  {
    "text": "time atina took to run the query and the",
    "start": "58879",
    "end": "61600"
  },
  {
    "text": "process bytes",
    "start": "61600",
    "end": "62640"
  },
  {
    "text": "which is the total amount of data",
    "start": "62640",
    "end": "64799"
  },
  {
    "text": "scanning per day mail query",
    "start": "64799",
    "end": "68000"
  },
  {
    "start": "67000",
    "end": "87000"
  },
  {
    "text": "one important thing to understand is how",
    "start": "68000",
    "end": "71200"
  },
  {
    "text": "we calculate the total execution time",
    "start": "71200",
    "end": "73439"
  },
  {
    "text": "total execution time is quite acute time",
    "start": "73439",
    "end": "76240"
  },
  {
    "text": "plus in-game execution time",
    "start": "76240",
    "end": "78320"
  },
  {
    "text": "plus service processing time and we have",
    "start": "78320",
    "end": "82000"
  },
  {
    "text": "a query planet time which is a subset of",
    "start": "82000",
    "end": "85040"
  },
  {
    "text": "inking execution",
    "start": "85040",
    "end": "86000"
  },
  {
    "text": "time athena published query metrics to",
    "start": "86000",
    "end": "90079"
  },
  {
    "start": "87000",
    "end": "125000"
  },
  {
    "text": "amazon cloud watch and we can enable it",
    "start": "90079",
    "end": "92400"
  },
  {
    "text": "in the workgroup configuration",
    "start": "92400",
    "end": "96320"
  },
  {
    "text": "for example matina when you click",
    "start": "96320",
    "end": "100079"
  },
  {
    "text": "on the word group",
    "start": "100079",
    "end": "103119"
  },
  {
    "text": "you can see our groups that you have",
    "start": "104079",
    "end": "107119"
  },
  {
    "text": "and if you select one of them",
    "start": "107119",
    "end": "110479"
  },
  {
    "text": "and click on view details you can see",
    "start": "110479",
    "end": "114399"
  },
  {
    "text": "the parameter that",
    "start": "114399",
    "end": "115520"
  },
  {
    "text": "enable or disable",
    "start": "115520",
    "end": "118560"
  },
  {
    "text": "antennas to send query metrics to",
    "start": "118560",
    "end": "120799"
  },
  {
    "text": "cloudwatch",
    "start": "120799",
    "end": "123439"
  },
  {
    "start": "125000",
    "end": "148000"
  },
  {
    "text": "to check the matrix we have two options",
    "start": "126799",
    "end": "129200"
  },
  {
    "text": "the first options",
    "start": "129200",
    "end": "130479"
  },
  {
    "text": "is on the workgroup configuration",
    "start": "130479",
    "end": "133840"
  },
  {
    "text": "so here we have the metrics",
    "start": "133840",
    "end": "137360"
  },
  {
    "text": "i'm going to select the last three days",
    "start": "137360",
    "end": "141280"
  },
  {
    "text": "and we can see the metrics for my",
    "start": "141280",
    "end": "143760"
  },
  {
    "text": "account here",
    "start": "143760",
    "end": "144720"
  },
  {
    "text": "for this specific work group",
    "start": "144720",
    "end": "148319"
  },
  {
    "start": "148000",
    "end": "190000"
  },
  {
    "text": "or we can see the detailed metrics on",
    "start": "148959",
    "end": "152080"
  },
  {
    "text": "cloudwatch",
    "start": "152080",
    "end": "153680"
  },
  {
    "text": "on cloudwatch when you click on metrics",
    "start": "153680",
    "end": "157120"
  },
  {
    "text": "you can click on aws athena here we have",
    "start": "157120",
    "end": "160400"
  },
  {
    "text": "the metrics per work group",
    "start": "160400",
    "end": "162319"
  },
  {
    "text": "or the query state and query type",
    "start": "162319",
    "end": "166319"
  },
  {
    "text": "for the entire environment",
    "start": "166319",
    "end": "170160"
  },
  {
    "text": "here for example i can select the",
    "start": "170160",
    "end": "173200"
  },
  {
    "text": "oh i want only this to see queries i",
    "start": "173200",
    "end": "176160"
  },
  {
    "text": "want only the dmail queries",
    "start": "176160",
    "end": "178800"
  },
  {
    "text": "and then you can select them let me",
    "start": "178800",
    "end": "182080"
  },
  {
    "text": "choose the last three days and you can",
    "start": "182080",
    "end": "184400"
  },
  {
    "text": "see the matrix here",
    "start": "184400",
    "end": "187439"
  },
  {
    "text": "we can use cloudwatch to receive",
    "start": "192720",
    "end": "194319"
  },
  {
    "text": "real-time notifications",
    "start": "194319",
    "end": "195920"
  },
  {
    "text": "about the query state when a query",
    "start": "195920",
    "end": "198319"
  },
  {
    "text": "transit between states attend a",
    "start": "198319",
    "end": "200080"
  },
  {
    "text": "publishing event to cloud watch events",
    "start": "200080",
    "end": "202480"
  },
  {
    "text": "and for example we can create rules to",
    "start": "202480",
    "end": "204720"
  },
  {
    "text": "invoke aws columbia when the query",
    "start": "204720",
    "end": "207120"
  },
  {
    "text": "finish",
    "start": "207120",
    "end": "209040"
  },
  {
    "start": "208000",
    "end": "320000"
  },
  {
    "text": "that in the states are keyword running",
    "start": "209040",
    "end": "212159"
  },
  {
    "text": "succeed failed and consolidated",
    "start": "212159",
    "end": "215200"
  },
  {
    "text": "and the event has the below format",
    "start": "215200",
    "end": "218879"
  },
  {
    "text": "on cloud watch in rows we can create a",
    "start": "220400",
    "end": "223360"
  },
  {
    "text": "rule",
    "start": "223360",
    "end": "224640"
  },
  {
    "text": "we can select latino for example",
    "start": "224640",
    "end": "228319"
  },
  {
    "text": "i'm going to edit this configuration and",
    "start": "228319",
    "end": "230560"
  },
  {
    "text": "i'm going to add a configuration because",
    "start": "230560",
    "end": "232480"
  },
  {
    "text": "i want only the success queries",
    "start": "232480",
    "end": "234959"
  },
  {
    "text": "and save and i want to save the event",
    "start": "234959",
    "end": "238640"
  },
  {
    "text": "in the cloudwatch log so i'm going to",
    "start": "238640",
    "end": "241680"
  },
  {
    "text": "choose a target",
    "start": "241680",
    "end": "242560"
  },
  {
    "text": "cloudwatch log and they're going to",
    "start": "242560",
    "end": "244720"
  },
  {
    "text": "create allow group",
    "start": "244720",
    "end": "245920"
  },
  {
    "text": "for example tested",
    "start": "245920",
    "end": "249120"
  },
  {
    "text": "we need to give a name to the row so",
    "start": "253200",
    "end": "255519"
  },
  {
    "text": "we're going to give",
    "start": "255519",
    "end": "256639"
  },
  {
    "text": "roon test",
    "start": "256639",
    "end": "259600"
  },
  {
    "text": "create a row if we go to log groups",
    "start": "259840",
    "end": "269360"
  },
  {
    "text": "we have that log group created now",
    "start": "269360",
    "end": "272479"
  },
  {
    "text": "if i run queries for example i'm going",
    "start": "272479",
    "end": "274800"
  },
  {
    "text": "to run a preview on this",
    "start": "274800",
    "end": "276800"
  },
  {
    "text": "table if i go to the that log group",
    "start": "276800",
    "end": "283840"
  },
  {
    "text": "we can see it publish this event",
    "start": "284639",
    "end": "289040"
  },
  {
    "text": "for the query that suicide if you return",
    "start": "292720",
    "end": "298320"
  },
  {
    "text": "and run the preview again",
    "start": "299919",
    "end": "303199"
  },
  {
    "text": "and refresh the road group",
    "start": "305919",
    "end": "310000"
  },
  {
    "text": "can see that it creates a new event on",
    "start": "310000",
    "end": "312400"
  },
  {
    "text": "the log",
    "start": "312400",
    "end": "315280"
  },
  {
    "text": "for the new query",
    "start": "315680",
    "end": "318639"
  },
  {
    "start": "320000",
    "end": "666000"
  },
  {
    "text": "now i'm going to show you how you can",
    "start": "321440",
    "end": "323440"
  },
  {
    "text": "automate the process",
    "start": "323440",
    "end": "324720"
  },
  {
    "text": "of getting metrics for each query",
    "start": "324720",
    "end": "329280"
  },
  {
    "text": "the reason is because when you come to",
    "start": "329280",
    "end": "331440"
  },
  {
    "text": "cloud watch",
    "start": "331440",
    "end": "332639"
  },
  {
    "text": "is all metrics here",
    "start": "332639",
    "end": "336000"
  },
  {
    "text": "are grouped by time so we don't have the",
    "start": "336000",
    "end": "339280"
  },
  {
    "text": "details of the metrics for each query",
    "start": "339280",
    "end": "344000"
  },
  {
    "text": "and to do that i create this rule",
    "start": "344000",
    "end": "348479"
  },
  {
    "text": "let me get it",
    "start": "348479",
    "end": "352400"
  },
  {
    "text": "and then on this rule what i'm doing i'm",
    "start": "352400",
    "end": "355520"
  },
  {
    "text": "taking i filtering by",
    "start": "355520",
    "end": "359120"
  },
  {
    "text": "this state so when the query succeeded",
    "start": "359120",
    "end": "361520"
  },
  {
    "text": "failed or",
    "start": "361520",
    "end": "362400"
  },
  {
    "text": "is consolid when the query is with type",
    "start": "362400",
    "end": "365840"
  },
  {
    "text": "dml",
    "start": "365840",
    "end": "366960"
  },
  {
    "text": "and when the query is submitted using",
    "start": "366960",
    "end": "370400"
  },
  {
    "text": "the word group in admin",
    "start": "370400",
    "end": "373440"
  },
  {
    "text": "it's going to submit a lambda function",
    "start": "373440",
    "end": "377600"
  },
  {
    "text": "this is the function that i created",
    "start": "377600",
    "end": "380400"
  },
  {
    "text": "create",
    "start": "380400",
    "end": "380880"
  },
  {
    "text": "query statistics and it is going to",
    "start": "380880",
    "end": "383759"
  },
  {
    "text": "create",
    "start": "383759",
    "end": "384240"
  },
  {
    "text": "a cloud log group",
    "start": "384240",
    "end": "388080"
  },
  {
    "text": "the function the query statistic",
    "start": "390240",
    "end": "392080"
  },
  {
    "text": "function",
    "start": "392080",
    "end": "393360"
  },
  {
    "text": "is this function here so what i'm doing",
    "start": "393360",
    "end": "396720"
  },
  {
    "text": "on this function is",
    "start": "396720",
    "end": "400000"
  },
  {
    "text": "for each event submit so the event is",
    "start": "400000",
    "end": "403600"
  },
  {
    "text": "going",
    "start": "403600",
    "end": "404080"
  },
  {
    "text": "to come with this information all right",
    "start": "404080",
    "end": "408080"
  },
  {
    "text": "so here uh we have the query the",
    "start": "408080",
    "end": "411039"
  },
  {
    "text": "question",
    "start": "411039",
    "end": "412240"
  },
  {
    "text": "inside of the detail we have the query",
    "start": "412240",
    "end": "415520"
  },
  {
    "text": "execution engine",
    "start": "415520",
    "end": "417360"
  },
  {
    "text": "and what i'm doing",
    "start": "417360",
    "end": "420400"
  },
  {
    "text": "with the tail queer execution ig i'm",
    "start": "420400",
    "end": "422960"
  },
  {
    "text": "submitting i api query to",
    "start": "422960",
    "end": "424880"
  },
  {
    "text": "get querer execution because the get",
    "start": "424880",
    "end": "426720"
  },
  {
    "text": "query execution brings the",
    "start": "426720",
    "end": "428240"
  },
  {
    "text": "metrics for each query so for each query",
    "start": "428240",
    "end": "431520"
  },
  {
    "text": "that i submit",
    "start": "431520",
    "end": "433360"
  },
  {
    "text": "i'm going to run this lambda function",
    "start": "433360",
    "end": "435520"
  },
  {
    "text": "i'm going to get the query g",
    "start": "435520",
    "end": "438160"
  },
  {
    "text": "i'm going to run the get queries",
    "start": "438160",
    "end": "439759"
  },
  {
    "text": "execution to get the metrics for",
    "start": "439759",
    "end": "442000"
  },
  {
    "text": "each query and then i'm going to save it",
    "start": "442000",
    "end": "445039"
  },
  {
    "text": "on s3 in this bucket",
    "start": "445039",
    "end": "448639"
  },
  {
    "text": "all right so if i check this baggage",
    "start": "448880",
    "end": "452560"
  },
  {
    "text": "there is no data there and if i",
    "start": "452560",
    "end": "455599"
  },
  {
    "text": "submit a query for example i'm going to",
    "start": "455599",
    "end": "457520"
  },
  {
    "text": "run preview here",
    "start": "457520",
    "end": "460560"
  },
  {
    "text": "all right uh if we go to",
    "start": "463520",
    "end": "466560"
  },
  {
    "text": "this log group aws event such",
    "start": "466560",
    "end": "471599"
  },
  {
    "text": "dinner",
    "start": "476840",
    "end": "479840"
  },
  {
    "text": "event satina uh",
    "start": "481440",
    "end": "484720"
  },
  {
    "text": "we can see this is the last event that",
    "start": "484720",
    "end": "487360"
  },
  {
    "text": "was we met",
    "start": "487360",
    "end": "490080"
  },
  {
    "text": "so as explained before this is the",
    "start": "490240",
    "end": "493360"
  },
  {
    "text": "format",
    "start": "493360",
    "end": "493919"
  },
  {
    "text": "right and then",
    "start": "493919",
    "end": "498080"
  },
  {
    "text": "on s3 path it creates this file",
    "start": "498080",
    "end": "503919"
  },
  {
    "text": "and on my quick site i'm",
    "start": "503919",
    "end": "506000"
  },
  {
    "text": "[Music]",
    "start": "506000",
    "end": "507360"
  },
  {
    "text": "going to refresh it is going to show the",
    "start": "507360",
    "end": "509680"
  },
  {
    "text": "metrics for",
    "start": "509680",
    "end": "510479"
  },
  {
    "text": "that query",
    "start": "510479",
    "end": "520000"
  },
  {
    "text": "so this is the query ig",
    "start": "520000",
    "end": "523279"
  },
  {
    "text": "this is what the query that we submit",
    "start": "523279",
    "end": "525519"
  },
  {
    "text": "right",
    "start": "525519",
    "end": "527600"
  },
  {
    "text": "limit 10 and now we can see the antenna",
    "start": "527600",
    "end": "531440"
  },
  {
    "text": "metrics for example",
    "start": "531440",
    "end": "533440"
  },
  {
    "text": "the query key the execution time the",
    "start": "533440",
    "end": "536000"
  },
  {
    "text": "service",
    "start": "536000",
    "end": "536560"
  },
  {
    "text": "processing time uh the query planning",
    "start": "536560",
    "end": "540480"
  },
  {
    "text": "and the engine execution time",
    "start": "540480",
    "end": "543519"
  },
  {
    "text": "all right then here i show um",
    "start": "543519",
    "end": "548800"
  },
  {
    "text": "the amount of dates can by each query",
    "start": "548800",
    "end": "551200"
  },
  {
    "text": "execution id",
    "start": "551200",
    "end": "552880"
  },
  {
    "text": "and the total time for each query",
    "start": "552880",
    "end": "555920"
  },
  {
    "text": "uh for each query so if i submit a new",
    "start": "555920",
    "end": "558480"
  },
  {
    "text": "query now",
    "start": "558480",
    "end": "560640"
  },
  {
    "text": "let's change here to 20",
    "start": "560640",
    "end": "564160"
  },
  {
    "text": "just to differentiate alright now if you",
    "start": "564560",
    "end": "569120"
  },
  {
    "text": "refresh the quick site again",
    "start": "569120",
    "end": "577839"
  },
  {
    "text": "we can see now that has two queries",
    "start": "579680",
    "end": "583680"
  },
  {
    "text": "one with 10 one with 10 and now i can",
    "start": "585360",
    "end": "588399"
  },
  {
    "text": "compare both of queries so",
    "start": "588399",
    "end": "591440"
  },
  {
    "text": "because i change uh 10 for 20 to the",
    "start": "591440",
    "end": "594959"
  },
  {
    "text": "filter",
    "start": "594959",
    "end": "596560"
  },
  {
    "text": "the second query is gonna be much more",
    "start": "596560",
    "end": "598399"
  },
  {
    "text": "data of course",
    "start": "598399",
    "end": "600240"
  },
  {
    "text": "all right the time is pretty the same",
    "start": "600240",
    "end": "603600"
  },
  {
    "text": "our metric is very same if i run",
    "start": "603600",
    "end": "608880"
  },
  {
    "text": "something like without the limit",
    "start": "608880",
    "end": "612480"
  },
  {
    "text": "we can compare how it requires them",
    "start": "613680",
    "end": "618000"
  },
  {
    "text": "it's going to take some seconds to",
    "start": "618000",
    "end": "621760"
  },
  {
    "text": "to read our data alright so if i refresh",
    "start": "621760",
    "end": "627360"
  },
  {
    "text": "my dashboard again",
    "start": "627760",
    "end": "633839"
  },
  {
    "text": "now we have three queries here we can",
    "start": "636000",
    "end": "639040"
  },
  {
    "text": "see that",
    "start": "639040",
    "end": "639600"
  },
  {
    "text": "one of them scan much much more data",
    "start": "639600",
    "end": "644079"
  },
  {
    "text": "all right the time is",
    "start": "644079",
    "end": "647120"
  },
  {
    "text": "different as well and",
    "start": "647120",
    "end": "650480"
  },
  {
    "text": "if we check it s3 we have three files on",
    "start": "650480",
    "end": "653600"
  },
  {
    "text": "the s3",
    "start": "653600",
    "end": "655519"
  },
  {
    "text": "all right",
    "start": "655519",
    "end": "661839"
  },
  {
    "text": "thank you for watching and have a good",
    "start": "663279",
    "end": "665560"
  },
  {
    "text": "day",
    "start": "665560",
    "end": "668560"
  }
]