[
  {
    "start": "0",
    "end": "31000"
  },
  {
    "text": "my name is Chuck Meyer I am a senior developer advocate for AWS CloudFormation",
    "start": "299",
    "end": "5810"
  },
  {
    "text": "and I'm here to do a deep dive on cloud formation so this is not an entry-level",
    "start": "5810",
    "end": "11429"
  },
  {
    "text": "class we're going to actually be talking a lot about sort of some of the deeper features of cloud formation across the",
    "start": "11429",
    "end": "18029"
  },
  {
    "text": "number of different topics I'll do a brief overview at the beginning but the expectation is that you're at least",
    "start": "18029",
    "end": "23369"
  },
  {
    "text": "familiar with CloudFormation you've seen a couple templates you know generally how it works",
    "start": "23369",
    "end": "29179"
  },
  {
    "text": "let's see your big button got it a little bit about myself I've been at AWS",
    "start": "29179",
    "end": "35520"
  },
  {
    "start": "31000",
    "end": "61000"
  },
  {
    "text": "for just under five years it'll be five years in July as I said I'm a senior developer advocate right now that means",
    "start": "35520",
    "end": "42210"
  },
  {
    "text": "that I am a direct conduit between the developer community and the cloud formation service team",
    "start": "42210",
    "end": "47940"
  },
  {
    "text": "I am your punching bag I am your Sherpa I am whatever I can do to make your life",
    "start": "47940",
    "end": "53460"
  },
  {
    "text": "easier as you're using cloud formation before that I spent a long time out in the field and professional services and",
    "start": "53460",
    "end": "59219"
  },
  {
    "text": "also as a solution architect but enough about me we have a lot to cover today I",
    "start": "59219",
    "end": "64680"
  },
  {
    "start": "61000",
    "end": "120000"
  },
  {
    "text": "will confess I've over indexed on content so I apologize if I go a little bit fast but there was a lot of things I",
    "start": "64680",
    "end": "71010"
  },
  {
    "text": "wanted to tell you about I will try and try and make sure that I don't go too fast so you can actually kind of digest",
    "start": "71010",
    "end": "76200"
  },
  {
    "text": "it a little bit the things that we're going to talk about are aligned to four basic learning areas so we're gonna be",
    "start": "76200",
    "end": "82259"
  },
  {
    "text": "talking a little bit about how to protect your stacks right how to sort of put in guardrails to monitor them to",
    "start": "82259",
    "end": "89130"
  },
  {
    "text": "make sure that you've operated them well we're also going to be talking about working at scale multi-region",
    "start": "89130",
    "end": "96329"
  },
  {
    "text": "multi-account type architectures some features within CloudFormation that can",
    "start": "96329",
    "end": "102450"
  },
  {
    "text": "help you out with that and then we're going to talk a little bit about sort of the the development side of things the",
    "start": "102450",
    "end": "108000"
  },
  {
    "text": "authoring the testing all of all of that sort of aspect of it really treating",
    "start": "108000",
    "end": "113189"
  },
  {
    "text": "infrastructure as code and hopefully at the very end I'll have enough time we can talk a little bit about serverless into playing server lists through cloud",
    "start": "113189",
    "end": "119490"
  },
  {
    "text": "formation so again those are the learning areas it's across these four major themes guardrails is the main one",
    "start": "119490",
    "end": "127200"
  },
  {
    "start": "120000",
    "end": "146000"
  },
  {
    "text": "I think the important thing to notice is that we've got two icons there for guardrails right we're not just talking about how to walk things down",
    "start": "127200",
    "end": "133600"
  },
  {
    "text": "talk about how to look at things as well both of those are critical working at scale working as developers of",
    "start": "133600",
    "end": "141850"
  },
  {
    "text": "CloudFormation as of infrastructures code and then of course service so just",
    "start": "141850",
    "end": "148690"
  },
  {
    "start": "146000",
    "end": "212000"
  },
  {
    "text": "to fill in any gaps if you're relatively new to cloud formation cloud formation is AWS is infrastructure as a code",
    "start": "148690",
    "end": "154750"
  },
  {
    "text": "service so it's a service that we manage for you it allows you to essentially",
    "start": "154750",
    "end": "161380"
  },
  {
    "text": "author templates in JSON or Yambol you can offer them yourself you can use third-party tools to generate them you",
    "start": "161380",
    "end": "167710"
  },
  {
    "text": "can use pre generated templates that are available through the community but at the end of the day you take those templates you push those up into an s3",
    "start": "167710",
    "end": "175150"
  },
  {
    "text": "bucket or you push those up through an API call to the cloud formation service and then we use those templates to",
    "start": "175150",
    "end": "181450"
  },
  {
    "text": "provision infrastructure on your behalf within an abstracted construct we call a stack right so within that construct of",
    "start": "181450",
    "end": "187990"
  },
  {
    "text": "a stack we manage state information for you we help sort of make sure that things are provision in the appropriate",
    "start": "187990",
    "end": "193990"
  },
  {
    "text": "order we make sure that things stabilize appropriately we can handle roll backs for you under certain circumstances if",
    "start": "193990",
    "end": "200680"
  },
  {
    "text": "things go wrong as you're doing updates but at the end of the day you're sort of using CloudFormation to manage that",
    "start": "200680",
    "end": "206350"
  },
  {
    "text": "infrastructure across its lifecycle so that's that's it now you know everything",
    "start": "206350",
    "end": "211480"
  },
  {
    "text": "about cloud formation just this is by one marketing slide I promise it won't",
    "start": "211480",
    "end": "217270"
  },
  {
    "start": "212000",
    "end": "268000"
  },
  {
    "text": "be very marketing me but I just wanted to kind of give you a few facts these were some facts that we sort of talked about it reinvent conformation is one of",
    "start": "217270",
    "end": "224530"
  },
  {
    "text": "the more popular services within the platform we had as of November over 350,000 active users this is my favorite",
    "start": "224530",
    "end": "232420"
  },
  {
    "text": "statistic so of our large spenders the folks with sort of large complex infrastructure on AWS 75% of them are",
    "start": "232420",
    "end": "240100"
  },
  {
    "text": "using cloud formation to some extent to manage those resources so customers are realizing that as infrastructure gets",
    "start": "240100",
    "end": "246070"
  },
  {
    "text": "more complicated as you're not just going and launching a couple of ec2 instances and managing a few s3 buckets",
    "start": "246070",
    "end": "251170"
  },
  {
    "text": "you need something to sort of help you automate that process and have visibility into it and Confirmation",
    "start": "251170",
    "end": "257350"
  },
  {
    "text": "seems to be a tool that a lot of customers like and because of that we manage a lot of stacks we had 2.4",
    "start": "257350",
    "end": "264160"
  },
  {
    "text": "million active stacks and growing as of No so that's it that's that's the marketing",
    "start": "264160",
    "end": "269650"
  },
  {
    "start": "268000",
    "end": "324000"
  },
  {
    "text": "side you've got some stats now now we can dig into our themes this is the big one this is what I'm going to be",
    "start": "269650",
    "end": "275530"
  },
  {
    "text": "spending the most time on we're gonna be talking about guardrails right so you've got your infrastructure",
    "start": "275530",
    "end": "280750"
  },
  {
    "text": "as code what can you do to protect that what can you do to operationalize that and CloudFormation has a number of",
    "start": "280750",
    "end": "288100"
  },
  {
    "text": "features to really facilitate that and they split across sort of two different areas right the sort of protective",
    "start": "288100",
    "end": "295060"
  },
  {
    "text": "guardrails where you are maybe denying access to do something right or sort of",
    "start": "295060",
    "end": "301120"
  },
  {
    "text": "putting in some guardrails to make sure that certain things happen under certain events and then there's the monitoring",
    "start": "301120",
    "end": "306160"
  },
  {
    "text": "guardrails right as customers are moving more towards the trust but verify model right where you're allowing your",
    "start": "306160",
    "end": "312010"
  },
  {
    "text": "developers or your your customers to be a little bit more flexible and what they can do on the plan you need to make sure",
    "start": "312010",
    "end": "318820"
  },
  {
    "text": "that you have the appropriate visibility on the back side so that when they inevitably do something wrong you can have that conversation with them about",
    "start": "318820",
    "end": "325000"
  },
  {
    "start": "324000",
    "end": "408000"
  },
  {
    "text": "it so first we're going to be talking a little bit more about those protective guardrails and we're gonna talk about",
    "start": "325000",
    "end": "330160"
  },
  {
    "text": "four different ones and these are kind of in a scale from the most coarse to",
    "start": "330160",
    "end": "336220"
  },
  {
    "text": "the most granular here we're going to talk about locking the full-stack checkbox locking I guess the first thing",
    "start": "336220",
    "end": "343479"
  },
  {
    "text": "I should do just kind of as I drill into this I usually try and take a little bit of a survey I'm gonna make an assumption",
    "start": "343479",
    "end": "349750"
  },
  {
    "text": "that a majority of folks are using CloudFormation so I'm going to ask the reverse question who in this room you",
    "start": "349750",
    "end": "356410"
  },
  {
    "text": "try and be honest is is maybe just thinking about using confirmation or has just started dabbling with it okay",
    "start": "356410",
    "end": "363550"
  },
  {
    "text": "that's reasonable that's reasonable I'll try to fill in some gaps here sorry that it's it's sort of we breezed through the",
    "start": "363550",
    "end": "369220"
  },
  {
    "text": "beginnings of it but hopefully you'll remember some of these features and you'll be able to use them who who is",
    "start": "369220",
    "end": "375070"
  },
  {
    "text": "using confirmation has started using termination protection a couple folks",
    "start": "375070",
    "end": "380410"
  },
  {
    "text": "okay so this is a really cool feature we will talk about that getting a little bit more granular we're going to talk",
    "start": "380410",
    "end": "386350"
  },
  {
    "text": "about stack level policies right which is sort of resource permissions that you",
    "start": "386350",
    "end": "391540"
  },
  {
    "text": "can do against a specific stack we're going to drill in a little bit further and talk about some of the permissions that you could put down in the",
    "start": "391540",
    "end": "397120"
  },
  {
    "text": "individual resources and then of course underneath all of this is right I am as sort of your your",
    "start": "397120",
    "end": "403539"
  },
  {
    "text": "ground-level baseline of how you handle who can do what on AWS",
    "start": "403539",
    "end": "408569"
  },
  {
    "start": "408000",
    "end": "480000"
  },
  {
    "text": "okay so stack termination protection this was a feature that we launched last year who here has used termination",
    "start": "408569",
    "end": "416469"
  },
  {
    "text": "protection for ec2 okay very similar concept this is literally a checkbox",
    "start": "416469",
    "end": "422409"
  },
  {
    "text": "that you can set when you create or update a stock it has its own API call that says don't delete this this is",
    "start": "422409",
    "end": "429789"
  },
  {
    "text": "important right so this is a very useful tool for stocks that include stateful",
    "start": "429789",
    "end": "435150"
  },
  {
    "text": "resources RDS databases critical s3 buckets right dynamo DB's things that if",
    "start": "435150",
    "end": "442330"
  },
  {
    "text": "you lost it there would be problems buying servers so this is a very useful",
    "start": "442330",
    "end": "448419"
  },
  {
    "text": "just very simple one-click operation one API call operation that allows you to",
    "start": "448419",
    "end": "454240"
  },
  {
    "text": "put an additional layer of protection into your stack now the important thing here is this is to protect from deletion",
    "start": "454240",
    "end": "460210"
  },
  {
    "text": "within CloudFormation this is if I say delete stack it says nope you've got termination protection on you have to go",
    "start": "460210",
    "end": "466060"
  },
  {
    "text": "turn that off first right this is not preventing someone from going in and deleting that database out-of-band so",
    "start": "466060",
    "end": "473139"
  },
  {
    "text": "that's an important piece of this just to think about these first three controls are all going to be within cloud formation itself so this is what",
    "start": "473139",
    "end": "481210"
  },
  {
    "start": "480000",
    "end": "496000"
  },
  {
    "text": "it looks like this is how you can actually evaluate the termination protection is on you get this nice little lock icon when you go look at the",
    "start": "481210",
    "end": "487330"
  },
  {
    "text": "stack in the console you can also see that when you do describe on the stack itself so you can check to make sure",
    "start": "487330",
    "end": "493960"
  },
  {
    "text": "that you do have this lock in place if you have any trouble deleting something you can also check that to make sure oh I forgot to turn that off so moving into",
    "start": "493960",
    "end": "501699"
  },
  {
    "start": "496000",
    "end": "559000"
  },
  {
    "text": "sort of the second control here stack level policies so this is a policy",
    "start": "501699",
    "end": "506889"
  },
  {
    "text": "document that you can actually author alongside the stack itself and apply",
    "start": "506889",
    "end": "512680"
  },
  {
    "text": "when you create the stack and this that's a permission specific to that stack right so regardless of what sort",
    "start": "512680",
    "end": "519698"
  },
  {
    "text": "of I am permissions an individual has when they go to do an update against this stack these permissions will be",
    "start": "519699",
    "end": "525279"
  },
  {
    "text": "overlaid on top of it so this particular stack policy you can see what it's doing is it is allowing updates to the stack",
    "start": "525279",
    "end": "532329"
  },
  {
    "text": "but not for databases right again are stateful resources we want to be a little bit",
    "start": "532329",
    "end": "538360"
  },
  {
    "text": "more cautious of so you can take these policies you can apply them as you create the stacks obviously if you're",
    "start": "538360",
    "end": "543550"
  },
  {
    "text": "creating your stats in an automated fashion there's an opportunity to inject that sort of as a baseline right as you",
    "start": "543550",
    "end": "549310"
  },
  {
    "text": "create the stack or you can sort of custom craft these and make sure that they're provisioned alongside the stacks themselves so that's the sort of the",
    "start": "549310",
    "end": "556840"
  },
  {
    "text": "second guardrail available the third guardrail is resource level from policies so again talking a lot",
    "start": "556840",
    "end": "565450"
  },
  {
    "start": "559000",
    "end": "614000"
  },
  {
    "text": "about our stateful resources right RDS databases our EBS volumes a lot of these",
    "start": "565450",
    "end": "570790"
  },
  {
    "text": "resources have properties that allow you to control what happens if that resource",
    "start": "570790",
    "end": "576040"
  },
  {
    "text": "is deleted and that's another thing that we want to be very aware of and we want to be cognizant that we're using them so",
    "start": "576040",
    "end": "583810"
  },
  {
    "text": "in this particular case we can see this is a ec2 volume so we've got an EBS",
    "start": "583810",
    "end": "588940"
  },
  {
    "text": "volume that we've created and we have an opportunity here as we create the volume to describe what we want to have happen",
    "start": "588940",
    "end": "594370"
  },
  {
    "text": "if this volume is deleted in this case we want to make sure that we always take a snapshot so we've got something to",
    "start": "594370",
    "end": "599830"
  },
  {
    "text": "show our auditors right so these types of controls very good to be aware of",
    "start": "599830",
    "end": "606060"
  },
  {
    "text": "what is available and when to use them and again it's going to be your stateful resources that are going to have these",
    "start": "606060",
    "end": "612190"
  },
  {
    "text": "types of attributes and then of course the granddaddy of them all I know as I",
    "start": "612190",
    "end": "619930"
  },
  {
    "text": "said earlier and as I'm going to to kind of restream akan text of CloudFormation",
    "start": "619930",
    "end": "626920"
  },
  {
    "text": "right so if you are managing all of your resources through cloud formation or you",
    "start": "626920",
    "end": "631930"
  },
  {
    "text": "have very good practices where changes are all made using some sort of automated system those are going to be",
    "start": "631930",
    "end": "636940"
  },
  {
    "text": "excellent controls but they don't protect you from those out-of-band changes that's where you still need to",
    "start": "636940",
    "end": "642640"
  },
  {
    "text": "have good iam hygiene now cloud formation itself is a first-class",
    "start": "642640",
    "end": "648430"
  },
  {
    "text": "resource within iam and you have an opportunity to build good policy around cloud formation as well",
    "start": "648430",
    "end": "655330"
  },
  {
    "text": "right so in this case you can see this is a fairly granular policy where we are",
    "start": "655330",
    "end": "660580"
  },
  {
    "text": "building some permissions around the ability to create stacks and we're saying that we're not actually going to",
    "start": "660580",
    "end": "665980"
  },
  {
    "text": "allow you to create stock if they contain I am resources all right we want to manage as I am resources",
    "start": "665980",
    "end": "672040"
  },
  {
    "text": "through some sort of other process or governance agency so we're gonna allow you to provision resources but not I am",
    "start": "672040",
    "end": "678490"
  },
  {
    "text": "resources you have to come talk to us for that so I am is going to be",
    "start": "678490",
    "end": "683830"
  },
  {
    "text": "foundational I'm sure you hear that a lot I saw out there CloudFormation is getting mentioned a lot here but nothing",
    "start": "683830",
    "end": "689980"
  },
  {
    "text": "beats I am when it comes to what gets talked about at these conferences so good I am hygiene is just as important",
    "start": "689980",
    "end": "697270"
  },
  {
    "text": "with CloudFormation as it is anywhere else in your organization okay so that's",
    "start": "697270",
    "end": "702790"
  },
  {
    "start": "700000",
    "end": "783000"
  },
  {
    "text": "sort of the more the protective side of things now I want to talk a little bit more about monitoring and this first one",
    "start": "702790",
    "end": "708010"
  },
  {
    "text": "is the one I'm probably going to spend the most amount of time talking about which is drift and we announced at",
    "start": "708010",
    "end": "716110"
  },
  {
    "text": "reinvent that we're working on a new feature for cloud formation that will",
    "start": "716110",
    "end": "721120"
  },
  {
    "text": "assist you with drift so we're going to talk a little bit about what we mean when we say drift and I'm going to",
    "start": "721120",
    "end": "727210"
  },
  {
    "text": "hopefully be able to show you a little bit of a demo of what we're working on to sort of help you out with that but",
    "start": "727210",
    "end": "734020"
  },
  {
    "text": "drift isn't the only thing that we're concerned about here we also wanted to be thinking about the health of our",
    "start": "734020",
    "end": "740230"
  },
  {
    "text": "application across the board as customers more and more customers start using Confirmation to deploy more than",
    "start": "740230",
    "end": "746050"
  },
  {
    "text": "just baseline infrastructure they start to deploy you know critical data layer",
    "start": "746050",
    "end": "752100"
  },
  {
    "text": "resources they start to deploy full applications full stack applications using cloud formation sometimes just",
    "start": "752100",
    "end": "758740"
  },
  {
    "text": "making sure that your resources have normalized isn't enough so we're going to talk a little bit about some tools that are available to help you with sort",
    "start": "758740",
    "end": "764470"
  },
  {
    "text": "of monitoring beyond just the resources and audit this is a public sector summit",
    "start": "764470",
    "end": "770680"
  },
  {
    "text": "so audit and compliance is a critical piece of everything we do so making sure",
    "start": "770680",
    "end": "775780"
  },
  {
    "text": "that we've got a good audit trail for cloud formation is critical and I'm gonna talk about some of the new things",
    "start": "775780",
    "end": "781450"
  },
  {
    "text": "that we've done integrating with config so but first thing we're gonna talk about is drift right so you are totally",
    "start": "781450",
    "end": "789910"
  },
  {
    "start": "783000",
    "end": "823000"
  },
  {
    "text": "sold on cloud formation you've got really good automated processes everything's getting deployed through",
    "start": "789910",
    "end": "795010"
  },
  {
    "text": "cloud formation you've got all of your developers are pushing stuff up into repositories everything is going",
    "start": "795010",
    "end": "802240"
  },
  {
    "text": "and then one night you have a sub one right and you can't get ahold of the",
    "start": "802240",
    "end": "808210"
  },
  {
    "text": "developer and you know what needs to be changed and someone says just go into the console let's fix it let's get ourselves up and running and we'll",
    "start": "808210",
    "end": "813520"
  },
  {
    "text": "figure it out later right it happens people get access to the console people",
    "start": "813520",
    "end": "818590"
  },
  {
    "text": "are trying out different things inevitably something happens out-of-band hopefully in case of emergency so what",
    "start": "818590",
    "end": "827290"
  },
  {
    "start": "823000",
    "end": "857000"
  },
  {
    "text": "happens in these cases well as I said at the outset CloudFormation one of the things that it does one of the things",
    "start": "827290",
    "end": "832660"
  },
  {
    "text": "that our customers like about it is it's a managed service so when you deploy a stack we maintain state information for",
    "start": "832660",
    "end": "838930"
  },
  {
    "text": "you we maintain the state of those resources but we maintain that state against the last template that we",
    "start": "838930",
    "end": "844090"
  },
  {
    "text": "applied all right so all of our information is basically based on the last create stack or update stack that",
    "start": "844090",
    "end": "850090"
  },
  {
    "text": "you did so historically CloudFormation was not aware of any changes that",
    "start": "850090",
    "end": "855190"
  },
  {
    "text": "happened after that last update and that's what we call drift right so drift",
    "start": "855190",
    "end": "861220"
  },
  {
    "start": "857000",
    "end": "887000"
  },
  {
    "text": "is any change to a resource that is typically managed by CloudFormation that's occurred out-of-band right and",
    "start": "861220",
    "end": "867340"
  },
  {
    "text": "that causes drift in the stack so that could be changing a property value of a",
    "start": "867340",
    "end": "872680"
  },
  {
    "text": "resource that could be taking a resource that was created with a default value and realizing that you don't like the",
    "start": "872680",
    "end": "878830"
  },
  {
    "text": "default and updating that to a specific value and it could be you know you've deleted a resource or someone's deleted",
    "start": "878830",
    "end": "885040"
  },
  {
    "text": "a resource out-of-band and so that causes this drift and now the values",
    "start": "885040",
    "end": "891460"
  },
  {
    "start": "887000",
    "end": "952000"
  },
  {
    "text": "that are actually live don't match up with what what we had asked for what was in the template what was in the parameters and there are ramifications",
    "start": "891460",
    "end": "898390"
  },
  {
    "text": "to this the next time that your automated process goes and tries to do an update to that stack it might not be",
    "start": "898390",
    "end": "905590"
  },
  {
    "text": "able to maybe I am permissions have changed maybe the resource is not available that it was expecting to be",
    "start": "905590",
    "end": "910660"
  },
  {
    "text": "there right and so now all of a sudden you have to go and you have to troubleshoot that the operations folks have to get on the phone someone has to",
    "start": "910660",
    "end": "916450"
  },
  {
    "text": "figure it out you have to get things back into a state where you can continue forward with your automated process and",
    "start": "916450",
    "end": "921730"
  },
  {
    "text": "of course from a compliance perspective this is a nightmare if you're using your infrastructure as code as part of your",
    "start": "921730",
    "end": "927040"
  },
  {
    "text": "compliance strategy and you're using it to demonstrate that you are checking all the boxes or fulfilling all of your",
    "start": "927040",
    "end": "932310"
  },
  {
    "text": "fiduciary requirements or whatever if your state deviates from that we've",
    "start": "932310",
    "end": "938370"
  },
  {
    "text": "got problems right we've got to have a conversation with the auditors so in",
    "start": "938370",
    "end": "943530"
  },
  {
    "text": "both these cases it's critical to be able to match to catch these out-of-band changes and that's where this drift",
    "start": "943530",
    "end": "950100"
  },
  {
    "text": "detection service came from so again it's still in process the intention is",
    "start": "950100",
    "end": "956400"
  },
  {
    "text": "to release it this year we've been working very hard with our beta partners to kind of make sure that we've got it",
    "start": "956400",
    "end": "962790"
  },
  {
    "text": "set up appropriately but it will be available across all commercial regions and of course I'll be driving hard to",
    "start": "962790",
    "end": "968910"
  },
  {
    "text": "get it in the cloud as well I want to show you what it looks like so I'm going",
    "start": "968910",
    "end": "975780"
  },
  {
    "text": "to switch over to my laptop here",
    "start": "975780",
    "end": "979220"
  },
  {
    "text": "okay here we go make that a little bit bigger",
    "start": "985990",
    "end": "992140"
  },
  {
    "text": "because I'm in my 40s and I know what it's like okay so the first thing I'm",
    "start": "992140",
    "end": "999640"
  },
  {
    "text": "going to do here is I'm going to create a stack in this stack let me do this",
    "start": "999640",
    "end": "1006900"
  },
  {
    "text": "real quick okay this stack is very very",
    "start": "1006900",
    "end": "1013290"
  },
  {
    "text": "simple it basically has only two resources in it it has an S qsq and a",
    "start": "1013290",
    "end": "1019470"
  },
  {
    "text": "dynamo table okay now when I go over into the console do a refresh here you",
    "start": "1019470",
    "end": "1029160"
  },
  {
    "text": "can see that my console has a new column in it called drift status and at this",
    "start": "1029160",
    "end": "1035250"
  },
  {
    "text": "point my stack is still creating and my drift status has not checked so we're",
    "start": "1035250",
    "end": "1040530"
  },
  {
    "text": "gonna give that a second",
    "start": "1040530",
    "end": "1043339"
  },
  {
    "text": "I'm going to grab my next command here real quick",
    "start": "1047410",
    "end": "1051450"
  },
  {
    "text": "okay so right now we're sitting in not checked now currently as it's going to",
    "start": "1060340",
    "end": "1066040"
  },
  {
    "text": "be released drift detection is an active process so we're not going to be dynamically monitoring your stocks in the background you need to make an API",
    "start": "1066040",
    "end": "1073330"
  },
  {
    "text": "call to us to say hey I want you to check the drift on this particular stack",
    "start": "1073330",
    "end": "1080160"
  },
  {
    "text": "so detect drift on current stack we run a drift detection and of course because",
    "start": "1080160",
    "end": "1086770"
  },
  {
    "text": "we haven't changed anything since we created it our expectation is that it will show up as in sync which it does so",
    "start": "1086770",
    "end": "1094000"
  },
  {
    "text": "great so now we are in sync so let's go break some stuff so the first thing I'm",
    "start": "1094000",
    "end": "1100750"
  },
  {
    "text": "going to do is I'm going to go get my event table here look at it over here",
    "start": "1100750",
    "end": "1108360"
  },
  {
    "text": "so you can see this table right now we've got the default well we've actually got Rica passing in the right",
    "start": "1111950",
    "end": "1117830"
  },
  {
    "text": "capacity of 20 and never having some sort of event and we need to make an out-of-band change to increase that so",
    "start": "1117830",
    "end": "1125180"
  },
  {
    "text": "what I'm gonna do here we're going to",
    "start": "1125180",
    "end": "1138770"
  },
  {
    "text": "increase that to 50 okay so we'll let",
    "start": "1138770",
    "end": "1146450"
  },
  {
    "text": "that go",
    "start": "1146450",
    "end": "1148870"
  },
  {
    "text": "make sure we pick that out",
    "start": "1151990",
    "end": "1155278"
  },
  {
    "text": "the jury of live demos and I'm going to go over here",
    "start": "1160660",
    "end": "1166980"
  },
  {
    "text": "we'll go ahead and do another drift detection on it",
    "start": "1167630",
    "end": "1171970"
  },
  {
    "text": "see what happens okay so now we can see that our stack has drifted so doing a",
    "start": "1175860",
    "end": "1184350"
  },
  {
    "text": "refresh here I see the drifted here and now I have an opportunity to drill into",
    "start": "1184350",
    "end": "1190110"
  },
  {
    "text": "that stack and actually look at that drift report so I can save you details",
    "start": "1190110",
    "end": "1195660"
  },
  {
    "text": "and what I get here is I get a special page just for this particular drift report so remember this is not dynamic",
    "start": "1195660",
    "end": "1201900"
  },
  {
    "text": "this was point in time from when I said to detect draft and what it's telling me is that while my event queue is still in",
    "start": "1201900",
    "end": "1208650"
  },
  {
    "text": "sync there has been a modification to my DynamoDB table and drilling into that I",
    "start": "1208650",
    "end": "1214080"
  },
  {
    "text": "can see sort of a diff of the configuration on both and I can kind of highlight what those differences are so",
    "start": "1214080",
    "end": "1220050"
  },
  {
    "text": "I can see Oh looks like someone changed the read capacity here on me so now that",
    "start": "1220050",
    "end": "1226110"
  },
  {
    "text": "drift has been detected I have an opportunity to go and remediate so I'm gonna go and say what are you doing I",
    "start": "1226110",
    "end": "1232410"
  },
  {
    "text": "had that set to 20 for a reason do you have any idea how long it took us to do",
    "start": "1232410",
    "end": "1241320"
  },
  {
    "text": "that load testing so now we're in the process of getting that sort of back up to where it should be I can go back out",
    "start": "1241320",
    "end": "1249150"
  },
  {
    "text": "here to my stacks I could have done it right there as well see and we'll run",
    "start": "1249150",
    "end": "1254340"
  },
  {
    "text": "one run one last detection event and now",
    "start": "1254340",
    "end": "1263070"
  },
  {
    "text": "we're back in sick and refreshing here we're back in sync there as well so",
    "start": "1263070",
    "end": "1269460"
  },
  {
    "text": "that's generally how it works I'll show you one last thing which is what happens when someone does the",
    "start": "1269460",
    "end": "1278100"
  },
  {
    "text": "unthinkable and goes and deletes our",
    "start": "1278100",
    "end": "1283620"
  },
  {
    "text": "database well don't think what emphasize though is that this is drift detection so what",
    "start": "1283620",
    "end": "1292930"
  },
  {
    "text": "we can do we can tell you that you've",
    "start": "1292930",
    "end": "1300130"
  },
  {
    "text": "drifted and we can tell you that the reason that you've drifted is because someone deleted your your database",
    "start": "1300130",
    "end": "1305400"
  },
  {
    "text": "unfortunately we can't bring it back so hopefully you're still doing best practices and taking snapshots and you",
    "start": "1305400",
    "end": "1310750"
  },
  {
    "text": "have the ability to restore but at the very least this is a powerful tool for your operations folks to be able to",
    "start": "1310750",
    "end": "1315910"
  },
  {
    "text": "troubleshoot and find out exactly what happened and quickly be able to identify a change and start making plans about",
    "start": "1315910",
    "end": "1322300"
  },
  {
    "text": "how you're going to resolve it so that's drift detection reinvent we said early",
    "start": "1322300",
    "end": "1328600"
  },
  {
    "text": "2018 it's June now so early is getting a little long in the tooth but we are",
    "start": "1328600",
    "end": "1333820"
  },
  {
    "text": "working to get it out to you this year and again we'll be across to all commercial regions and hopefully gov",
    "start": "1333820",
    "end": "1339490"
  },
  {
    "text": "cloud will follow soon after okay so",
    "start": "1339490",
    "end": "1344980"
  },
  {
    "text": "that's drift let's move back into our slides okay so remember we were in the",
    "start": "1344980",
    "end": "1354460"
  },
  {
    "start": "1351000",
    "end": "1502000"
  },
  {
    "text": "middle of talking about monitoring controls drift was kind of the main what I wanted to show you but I did want to talk about a couple of other ones this",
    "start": "1354460",
    "end": "1361120"
  },
  {
    "text": "is one that I think is pretty cool actually wrote a blog post about this last year this is rollback triggers so the concept",
    "start": "1361120",
    "end": "1367870"
  },
  {
    "text": "here for folks that have used CloudFormation you're aware that one of the things that Confirmation does is if",
    "start": "1367870",
    "end": "1374350"
  },
  {
    "text": "you do an update to a resource that causes it to destabilize right that causes it to come up in a state where",
    "start": "1374350",
    "end": "1379720"
  },
  {
    "text": "it's not able to handle requests confirmation can roll that change back it's a cloud formation can go back to",
    "start": "1379720",
    "end": "1387190"
  },
  {
    "text": "the last good state that it knows about and try and get you back up and running but that's based on essentially",
    "start": "1387190",
    "end": "1393280"
  },
  {
    "text": "normalization of individual resources what roll back triggers allows you to do is it allows you to stem extend that",
    "start": "1393280",
    "end": "1399520"
  },
  {
    "text": "roll back capability to cloud watch alarms so alongside all of the regular",
    "start": "1399520",
    "end": "1405340"
  },
  {
    "text": "stabilization that occurs you can actually define a rollback trigger and within that rollback trigger you can",
    "start": "1405340",
    "end": "1410980"
  },
  {
    "text": "tell cloud formation what metric or alarm to to monitor and how long to monitor it for right so in this",
    "start": "1410980",
    "end": "1417880"
  },
  {
    "text": "particular case we're saying even if all of my resources come up and are stable I want you to",
    "start": "1417880",
    "end": "1423130"
  },
  {
    "text": "hang out for another ten minutes and monitor this alarm on an sqs queue depth to make sure that my application is",
    "start": "1423130",
    "end": "1429490"
  },
  {
    "text": "still in fact handling all of the the things coming in through my batch service right so make sure that my",
    "start": "1429490",
    "end": "1435910"
  },
  {
    "text": "change didn't actually impact my ability to handle the demand and then once you have that rollback trigger in place you",
    "start": "1435910",
    "end": "1442480"
  },
  {
    "text": "can apply that to the stack as part of the API call when you do a create or update event and so this is what it",
    "start": "1442480",
    "end": "1449650"
  },
  {
    "text": "looks like in practice and once the rollback trigger is in place you can see here that we've gone to do an update in",
    "start": "1449650",
    "end": "1457480"
  },
  {
    "text": "this case it looks like it's a container cluster UCS container cluster and again we have a rollback trigger tied to our",
    "start": "1457480",
    "end": "1464530"
  },
  {
    "text": "queue depth so as we were hanging out waiting to see what our change does we",
    "start": "1464530",
    "end": "1469930"
  },
  {
    "text": "exceeded our threshold on our alarm and cloud watch which caused cloud formation to say up that didn't do what we",
    "start": "1469930",
    "end": "1476440"
  },
  {
    "text": "expected it to do and immediately rollback whatever that change was to the last good state so this is very powerful",
    "start": "1476440",
    "end": "1482620"
  },
  {
    "text": "if you're starting to sort of move up the stack of infrastructures code and you're starting to sort of make cloud",
    "start": "1482620",
    "end": "1488020"
  },
  {
    "text": "formation a little bit more of an intrinsic piece of your application level management structure right as",
    "start": "1488020",
    "end": "1495280"
  },
  {
    "text": "opposed to just deploying some resources and then moving on in the last",
    "start": "1495280",
    "end": "1503910"
  },
  {
    "start": "1502000",
    "end": "1681000"
  },
  {
    "text": "monitoring control I wanted to talk about was our config integration so this is another thing that we added last year",
    "start": "1503910",
    "end": "1509890"
  },
  {
    "text": "cloud formation is now a first-class resource within config for folks that haven't used config config is our sort",
    "start": "1509890",
    "end": "1518350"
  },
  {
    "text": "of our state management monitoring service it essentially allows you to track changes to resources over time and",
    "start": "1518350",
    "end": "1526330"
  },
  {
    "text": "receive notifications on those you also have an opportunity to plug rules into config so you can actually be monitoring",
    "start": "1526330",
    "end": "1532480"
  },
  {
    "text": "for specific settings specific changes and notify on those and cloud formation",
    "start": "1532480",
    "end": "1538960"
  },
  {
    "text": "is now integrated into that so you are able to track both the current state and",
    "start": "1538960",
    "end": "1545560"
  },
  {
    "text": "historical state on your your stacks and get notifications when people make changes to critical pieces of investor",
    "start": "1545560",
    "end": "1553200"
  },
  {
    "text": "so again great auditing tool here sorry that the text is a little too much there",
    "start": "1553200",
    "end": "1558840"
  },
  {
    "text": "but this is a snapshot of what a cloud formation stack looks like within config so this is the Timeline view if you're",
    "start": "1558840",
    "end": "1565530"
  },
  {
    "text": "familiar with that within config and you can see that what we've got here there's a cloud formation stack that was created all the way back and reinvent so this is",
    "start": "1565530",
    "end": "1572970"
  },
  {
    "text": "an old slide but on November 19th 2017 147 we created this stack then we did an",
    "start": "1572970",
    "end": "1580560"
  },
  {
    "text": "update and you can see there was one update event but it made seven changes within the stack right so that's critical it's not just telling you that",
    "start": "1580560",
    "end": "1586950"
  },
  {
    "text": "hey there was some sort of update to your stack it's actually telling you that there the changes that occurred because of that and tracks that over",
    "start": "1586950",
    "end": "1593070"
  },
  {
    "text": "time until we get to this last of that it looks like 210 right with three changes",
    "start": "1593070",
    "end": "1599070"
  },
  {
    "text": "in it and then if we look down in the details you can actually kind of get",
    "start": "1599070",
    "end": "1604170"
  },
  {
    "text": "some information about that specific event now the critical piece of this pretend this isn't just a picture and",
    "start": "1604170",
    "end": "1610080"
  },
  {
    "text": "this is actually the web page and we scroll down there's actually a changes section where you can grow and drill in",
    "start": "1610080",
    "end": "1615810"
  },
  {
    "text": "and see the actual changes that occurred within that stack as part of that event so again in this case what we're seeing",
    "start": "1615810",
    "end": "1623070"
  },
  {
    "text": "is that we initially had a bunch of configuration around a dynamodb table",
    "start": "1623070",
    "end": "1629400"
  },
  {
    "text": "that is now missing and if we look down to the relationships it's because someone has deleted the DynamoDB table",
    "start": "1629400",
    "end": "1634710"
  },
  {
    "text": "so someone has modified the template to remove that that dynamodb table and again from an operational perspective",
    "start": "1634710",
    "end": "1640230"
  },
  {
    "text": "now at least we have the information we need to go and have the conversations that we have to have with the",
    "start": "1640230",
    "end": "1645690"
  },
  {
    "text": "appropriate individuals so that's the",
    "start": "1645690",
    "end": "1651090"
  },
  {
    "text": "config integration the last piece is because configure is now available from cloud formation you have the opportunity",
    "start": "1651090",
    "end": "1657630"
  },
  {
    "text": "to write rules against your cloud formation stacks so we actually do have one manage rule already out there",
    "start": "1657630",
    "end": "1662880"
  },
  {
    "text": "this is around cloud formation has the ability to tie an SNS topic to a stack",
    "start": "1662880",
    "end": "1668460"
  },
  {
    "text": "so that you actually can get notifications when the stock changes this is a rule for enforcing that to",
    "start": "1668460",
    "end": "1674010"
  },
  {
    "text": "make sure that all of your end users of CloudFormation are actually using that and setting up their topics and making",
    "start": "1674010",
    "end": "1679500"
  },
  {
    "text": "sure that they're getting the appropriate information from them so that's",
    "start": "1679500",
    "end": "1685340"
  },
  {
    "text": "I promise you that was the longest one but I do want to touch on these last three and I do have one more demo that I",
    "start": "1685390",
    "end": "1691750"
  },
  {
    "text": "want to show you so we're gonna try and breeze through this as quickly as we can provisioning at scale right we've been",
    "start": "1691750",
    "end": "1698590"
  },
  {
    "text": "talking to more and more customers that are using multiple accounts in multiple regions right as well as our regions are",
    "start": "1698590",
    "end": "1707620"
  },
  {
    "text": "designed the multi AZ architectures there are reasons for doing this right",
    "start": "1707620",
    "end": "1712659"
  },
  {
    "text": "it could be because you have compliance requirements around isolation right you",
    "start": "1712659",
    "end": "1718929"
  },
  {
    "text": "have particular pieces of data that you need to ensure are isolated are only accessible by certain folks and putting",
    "start": "1718929",
    "end": "1725289"
  },
  {
    "text": "an account boundary around that is one way to do it also with data sovereignty laws there is",
    "start": "1725289",
    "end": "1733120"
  },
  {
    "text": "a lot of reasons to be making sure that you have data in particular regions",
    "start": "1733120",
    "end": "1738309"
  },
  {
    "text": "right or the data is not leaving particular regions so above and beyond that there are disaster recovery there",
    "start": "1738309",
    "end": "1746679"
  },
  {
    "text": "are environment isolation sandboxing any number of reasons to use these types of",
    "start": "1746679",
    "end": "1753690"
  },
  {
    "text": "environments so the two I wanted to focus in on is one that I think is near",
    "start": "1753690",
    "end": "1758830"
  },
  {
    "text": "and dear to all of our hearts which is governance right so this is as we start",
    "start": "1758830",
    "end": "1763960"
  },
  {
    "text": "provisioning across multiple accounts we recognize that there are certain baseline resources that we need",
    "start": "1763960",
    "end": "1769870"
  },
  {
    "text": "everywhere we want to make sure there's consistency to the way we're deploying our networking components we might need to make sure that there are some central",
    "start": "1769870",
    "end": "1776169"
  },
  {
    "text": "management tools logging tools things that always get deployed and that are deployed in a consistent manner right",
    "start": "1776169",
    "end": "1783220"
  },
  {
    "text": "the second piece of that is disaster recovery so catastrophes happen is well",
    "start": "1783220",
    "end": "1788770"
  },
  {
    "text": "architected is is an AWS region might be there's still inevitably the chance that",
    "start": "1788770",
    "end": "1796000"
  },
  {
    "text": "you know a natural disaster or something will require us to move to another",
    "start": "1796000",
    "end": "1801610"
  },
  {
    "text": "region so maintaining that consistency across regions is critical historically",
    "start": "1801610",
    "end": "1808030"
  },
  {
    "text": "the customers that we've talked to have done this a number of different ways it often ends up being a runbook rate so",
    "start": "1808030",
    "end": "1813850"
  },
  {
    "text": "someone is actually going and saying when you do this also do this if this happens this is what we",
    "start": "1813850",
    "end": "1820020"
  },
  {
    "text": "need to do to make sure that we're up and running in our disaster recovery environment that tends to lead to some",
    "start": "1820020",
    "end": "1825360"
  },
  {
    "text": "homegrown scripts maybe someone's writing some stuff with the CLI or building out some code and there's a lot",
    "start": "1825360",
    "end": "1832470"
  },
  {
    "text": "of third-party tools that this is either their primary task or it's sort of a value-added that you get but across all",
    "start": "1832470",
    "end": "1838800"
  },
  {
    "text": "of those we recognize that this was a pattern that was sort of emergent and we wanted to have something within",
    "start": "1838800",
    "end": "1843840"
  },
  {
    "text": "CloudFormation to sort of help with this and that's when we enter that's why we introduced stack sets szostak sets is",
    "start": "1843840",
    "end": "1850230"
  },
  {
    "text": "our orchestration tool for deploying cloud formation stacks across multiple",
    "start": "1850230",
    "end": "1855390"
  },
  {
    "text": "accounts and multiple regions it is available in the commercial regions not",
    "start": "1855390",
    "end": "1860760"
  },
  {
    "text": "available in gov cloud yet I'm working on it I say that like I'm doing it but you know I am one of the people that",
    "start": "1860760",
    "end": "1867030"
  },
  {
    "text": "goes and talks to the service team and tries to get it in there the way it works is through I am permissioning so",
    "start": "1867030",
    "end": "1875460"
  },
  {
    "text": "you establish one of your accounts as a master account that's where your stack set will live and that master account",
    "start": "1875460",
    "end": "1881220"
  },
  {
    "text": "has an I am role associated with it that will allow it to assume roles within the",
    "start": "1881220",
    "end": "1886680"
  },
  {
    "text": "target accounts or they essentially the target accounts right so each of those target accounts needs to have an",
    "start": "1886680",
    "end": "1892650"
  },
  {
    "text": "assumable role set up and in it as well so this is all done through I am it's all done in a visible way something that",
    "start": "1892650",
    "end": "1898830"
  },
  {
    "text": "you can look at something that you can set up something you have controls over and the concept is that once you've",
    "start": "1898830",
    "end": "1904380"
  },
  {
    "text": "established that relationship through I am roles you can create the stack set choose a template and then list the",
    "start": "1904380",
    "end": "1911630"
  },
  {
    "text": "accounts and regions that you wish to deploy into and then stack sets will go",
    "start": "1911630",
    "end": "1916650"
  },
  {
    "text": "and do those deployments and will report back within the master account where it was successful and what the success rate",
    "start": "1916650",
    "end": "1921990"
  },
  {
    "text": "was so you've got a whole new set of essentially credit AP is right within",
    "start": "1921990",
    "end": "1928020"
  },
  {
    "text": "cloud formation so this is still part of the confirmation API but they're specific to stack sets and then alongside that you have some additional",
    "start": "1928020",
    "end": "1934050"
  },
  {
    "text": "options because it's an orchestration layer there's some very basic sort of mechanisms for telling stock sets how",
    "start": "1934050",
    "end": "1942470"
  },
  {
    "text": "much concurrency you want you know how many of these accounts you want to do in parallel and your failure tolerance",
    "start": "1942470",
    "end": "1949010"
  },
  {
    "text": "are you okay with half of the counts going into a bad state or is it awful if",
    "start": "1949010",
    "end": "1954410"
  },
  {
    "text": "even one of them does so we're running through a couple of these scenarios this",
    "start": "1954410",
    "end": "1959630"
  },
  {
    "text": "is the disaster recovery scenario so the premise here is that you're doing business unit account isolation right so",
    "start": "1959630",
    "end": "1967130"
  },
  {
    "text": "each of your business units each of your your your customers has their own account but you want to make sure that",
    "start": "1967130",
    "end": "1972980"
  },
  {
    "text": "as they deploy they're deploying consistently across multiple regions so that if there is an event where they",
    "start": "1972980",
    "end": "1978740"
  },
  {
    "text": "need to go to another region either 4dr or perhaps for latency reasons everything is consistent right so the",
    "start": "1978740",
    "end": "1984890"
  },
  {
    "text": "concept here is you push your templates through the stack set in that account and then stack set will go and actually",
    "start": "1984890",
    "end": "1990770"
  },
  {
    "text": "provision out to each of the regions and report back giving you that consistency so every time you do an update you",
    "start": "1990770",
    "end": "1996560"
  },
  {
    "text": "update it the stack set level and it gets pushed out to all of the regions from the governance perspective all of",
    "start": "1996560",
    "end": "2004060"
  },
  {
    "text": "this is happening from your central management account right so you have some sort of account setup probably where you have most of your management",
    "start": "2004060",
    "end": "2009970"
  },
  {
    "text": "tools in place that's where your stock set would live and what you're doing is as new accounts as new regions come",
    "start": "2009970",
    "end": "2016330"
  },
  {
    "text": "online you are using your stock set to make sure that the exact same template gets provisioned out every place right",
    "start": "2016330",
    "end": "2023140"
  },
  {
    "text": "so across all of these accounts all of these regions from a single template and that might contain all of your baseline",
    "start": "2023140",
    "end": "2028720"
  },
  {
    "text": "networking or I am whatever it might be and the cool thing about this is you have the ability to override parameters",
    "start": "2028720",
    "end": "2034990"
  },
  {
    "text": "here right so you have an opportunity to say in this account this is a sandbox",
    "start": "2034990",
    "end": "2040930"
  },
  {
    "text": "account so I'm okay with it being a little bit looser in these other accounts I might actually want it to be a little bit tighter and as you do",
    "start": "2040930",
    "end": "2047920"
  },
  {
    "text": "deployments you actually have an opportunity to filter and say this particular stack set deployment I want",
    "start": "2047920",
    "end": "2053620"
  },
  {
    "text": "to do to these accounts in these regions so you have the ability to do updates to",
    "start": "2053620",
    "end": "2059169"
  },
  {
    "text": "certain subsets right if you have something that's only is very specific to one okay so this is my second demo",
    "start": "2059169",
    "end": "2067270"
  },
  {
    "text": "because we're talking about stack sets there's a lot of stacks being created I'm not going to do this one live I'm gonna do this one from a video just to",
    "start": "2067270",
    "end": "2074169"
  },
  {
    "text": "kind of do the magic of television right and kind of show some of the things that are going on here so again as I said I",
    "start": "2074169",
    "end": "2081940"
  },
  {
    "text": "am roles are critical here historically stack sets had two roles that were sort of hard-coded that you had to make sure",
    "start": "2081940",
    "end": "2087700"
  },
  {
    "text": "we're available in both the master account and in the target accounts and",
    "start": "2087700",
    "end": "2093669"
  },
  {
    "text": "we did provide some sort of basic CloudFormation templates for deploying those now the good news is you can still",
    "start": "2093669",
    "end": "2098680"
  },
  {
    "text": "use these but you do also have the option to define your own roles both at the master level and at the target level",
    "start": "2098680",
    "end": "2104470"
  },
  {
    "text": "and you can actually specify those as you deploy the stack sets so it's not reflected in this video but that is a",
    "start": "2104470",
    "end": "2111370"
  },
  {
    "text": "new sort of feature of stack sets so in this case I'm actually using this sort of the predefined roles I've created",
    "start": "2111370",
    "end": "2118150"
  },
  {
    "text": "them using a cloud formation template and I'm verifying that they're actually there so this is my master account and",
    "start": "2118150",
    "end": "2124630"
  },
  {
    "text": "then I'm going down into my target account and I want to make sure that I actually have this this set execution",
    "start": "2124630",
    "end": "2132160"
  },
  {
    "text": "roll in there - right so execution roll is the permissions that I'm going to give you to be able to deploy the stack",
    "start": "2132160",
    "end": "2138430"
  },
  {
    "text": "within whatever the target account is okay and that might be scoped wide for",
    "start": "2138430",
    "end": "2144340"
  },
  {
    "text": "administrative purposes or scope to narrow to a specific role but the important thing is making sure that that",
    "start": "2144340",
    "end": "2149680"
  },
  {
    "text": "is there so here I am in my beta account and I can verify that the role is there as well cool so I've got all my I am in",
    "start": "2149680",
    "end": "2155920"
  },
  {
    "text": "place that's a prereq you have to have that in place before you can use to access okay so now I can actually go and",
    "start": "2155920",
    "end": "2162400"
  },
  {
    "text": "I can create my first stock set and I'm going to do it in Ohio because I live in Columbus the important thing here is",
    "start": "2162400",
    "end": "2169330"
  },
  {
    "text": "that Stax sets live in parallel to Stax so you can see I hit the CloudFormation button there's a drop-down I've got",
    "start": "2169330",
    "end": "2175150"
  },
  {
    "text": "stacks exports and stacks that's there that takes me into the first user experience here and I can create my",
    "start": "2175150",
    "end": "2181240"
  },
  {
    "text": "stack now we've got some sort of predefined Administrative this is a lot of stuff around cloud trail and config these are",
    "start": "2181240",
    "end": "2187090"
  },
  {
    "text": "predefined templates that you could deploy or you can upload your own right you can either do it from an s3 bucket in my case I'm actually going to just",
    "start": "2187090",
    "end": "2194380"
  },
  {
    "text": "upload one locally this is my basic VPC template it's about it basically as you",
    "start": "2194380",
    "end": "2199960"
  },
  {
    "text": "can get it literally has of EPC just for Speed purposes I'm gonna give my stacks",
    "start": "2199960",
    "end": "2205180"
  },
  {
    "text": "at a unique name so this is for the stacks that not the stocks themselves and I'm gonna fill in my parameter here",
    "start": "2205180",
    "end": "2210400"
  },
  {
    "text": "now this is the parameter directly from the cloud formation template right so I'm gonna fill in all the values based on what was in the template",
    "start": "2210400",
    "end": "2217190"
  },
  {
    "text": "itself now I specify my accounts in regions I can either specify my accounts through",
    "start": "2217190",
    "end": "2223400"
  },
  {
    "text": "an organizational unit and stack sets we'll go retrieve all the accounts on that you and populate that or I can",
    "start": "2223400",
    "end": "2229250"
  },
  {
    "text": "specify them myself as a list once I have my accounts I specify my regions and there's an opportunity here to set",
    "start": "2229250",
    "end": "2236030"
  },
  {
    "text": "order but we'll show you that in a second I then say how many accounts I want to do at once I'm only doing one so",
    "start": "2236030",
    "end": "2242120"
  },
  {
    "text": "it doesn't matter and my failure tolerance which is no no tolerance at all so if there's any failure stack sets",
    "start": "2242120",
    "end": "2247970"
  },
  {
    "text": "will immediately stop doing what it's doing okay so now that takes me to my stack set page this is my baseline VPC",
    "start": "2247970",
    "end": "2254690"
  },
  {
    "text": "stack set you can see I've got a section here with operations that shows me that I have an operation and process across multiple stacks and then it'll show me",
    "start": "2254690",
    "end": "2261740"
  },
  {
    "text": "the list of stacks here at the bottom so right now I'm generating a stack in one account in one region it's outdated",
    "start": "2261740",
    "end": "2267740"
  },
  {
    "text": "because it didn't exist before and it will go and do the provisioning and it will tell me when that is actually up to",
    "start": "2267740",
    "end": "2272900"
  },
  {
    "text": "up to snuff up to what way I want it to be now I have the opportunity to create additional stacks within the stack set",
    "start": "2272900",
    "end": "2279650"
  },
  {
    "text": "so again I can put additional accounts in here in this case I'm going to put my gamma account so I want to control some",
    "start": "2279650",
    "end": "2287090"
  },
  {
    "text": "stacks within my gamma account I'm gonna pick multiple regions here now accounts",
    "start": "2287090",
    "end": "2292910"
  },
  {
    "text": "happen in arbitrary order but regions I can actually specify the order they happen in so if I always want to make sure that Ohio gets provisioned before",
    "start": "2292910",
    "end": "2300770"
  },
  {
    "text": "Oregon because that's my backup region and I have less traffic there I can",
    "start": "2300770",
    "end": "2305870"
  },
  {
    "text": "establish that here and I can do that every time I create I update however I want to do it again fault tolerance and",
    "start": "2305870",
    "end": "2312020"
  },
  {
    "text": "all of that and the other interesting thing here is now I have an opportunity to do a parameter override so my parameter I originally had set to dev",
    "start": "2312020",
    "end": "2318460"
  },
  {
    "text": "now this is going to be my staging account so I'm going to set it to staging and that'll be what gets pushed",
    "start": "2318460",
    "end": "2324350"
  },
  {
    "text": "out to each of those regions and accounts within this particular set of stack instances so I do a refresh here",
    "start": "2324350",
    "end": "2331570"
  },
  {
    "text": "I've got my current stack which is from there for the first run and now I've got two more stacks up right so this is my",
    "start": "2331570",
    "end": "2337220"
  },
  {
    "text": "gamma account across those two regions and for the magic of television I'm",
    "start": "2337220",
    "end": "2342560"
  },
  {
    "text": "gonna let those stabilize fairly quickly I'm gonna go down into my gamma account just so you can see so this is important too if I look at",
    "start": "2342560",
    "end": "2350280"
  },
  {
    "text": "the stacks these stacks actually do show up right so this is an invisible this isn't a back and administrative thing",
    "start": "2350280",
    "end": "2355710"
  },
  {
    "text": "we're just very visibly doing the right thing here with cloud formation and with iam so you can see those stacks in there",
    "start": "2355710",
    "end": "2363390"
  },
  {
    "text": "you can kind of drill in and see what sort of events happen in each of them okay so I'm going to do one last set of",
    "start": "2363390",
    "end": "2370770"
  },
  {
    "text": "stacks here this is going to be for my",
    "start": "2370770",
    "end": "2376109"
  },
  {
    "text": "production environment that's Delta",
    "start": "2376109",
    "end": "2384828"
  },
  {
    "text": "and then I'm gonna go ahead and select four regions here so we're getting a little bit larger right my lower environments I didn't really want to pay",
    "start": "2385520",
    "end": "2392030"
  },
  {
    "text": "for four regions so I kind of only had a single one let people play around and then as I sort of move up towards",
    "start": "2392030",
    "end": "2397250"
  },
  {
    "text": "production I'm adding more and more regions again I'm doing a little bit of manipulation here to make sure that I've",
    "start": "2397250",
    "end": "2403610"
  },
  {
    "text": "deploy in the appropriate order and I still have no tolerance for failure this",
    "start": "2403610",
    "end": "2409070"
  },
  {
    "text": "is my production environment so I'm gonna override my parameter again okay",
    "start": "2409070",
    "end": "2419060"
  },
  {
    "text": "and now through the magic of television we should get a large number of stacks",
    "start": "2419060",
    "end": "2424910"
  },
  {
    "text": "here and OOP okay so now I've got all of",
    "start": "2424910",
    "end": "2432290"
  },
  {
    "text": "my stocks that I want managed by this stack set okay now keep in mind this is all done through a single template so",
    "start": "2432290",
    "end": "2438440"
  },
  {
    "text": "what I'm going to do is I'm actually gonna make a change to that template and I'm gonna add another resource now the",
    "start": "2438440",
    "end": "2444560"
  },
  {
    "text": "thing is I don't necessarily want to add that resource everywhere I really only want to add it into my production",
    "start": "2444560",
    "end": "2449780"
  },
  {
    "text": "environments and so I have an opportunity here because I've set different parameter values at each of",
    "start": "2449780",
    "end": "2455570"
  },
  {
    "text": "those different for each of those different sets of stock instances I can set up a conditional and I can just set",
    "start": "2455570",
    "end": "2460820"
  },
  {
    "text": "the tie that conditional to the subnet resource which means that when I go and",
    "start": "2460820",
    "end": "2466310"
  },
  {
    "text": "deploy this template you get the subnet in here",
    "start": "2466310",
    "end": "2470950"
  },
  {
    "text": "okay so I've got the conditional I've got it tied to it and it is for",
    "start": "2480040",
    "end": "2486750"
  },
  {
    "text": "environment production okay so now I can",
    "start": "2486750",
    "end": "2493060"
  },
  {
    "text": "go do my update on the stack set and what the stack set will do now is it'll",
    "start": "2493060",
    "end": "2499060"
  },
  {
    "text": "go and it will evaluate all of those stacks against the template change and decide which ones it needs to do updates",
    "start": "2499060",
    "end": "2504610"
  },
  {
    "text": "on and which ones it doesn't and what I'm gonna do now is just to speed things",
    "start": "2504610",
    "end": "2510730"
  },
  {
    "text": "up is I'm going to increase it to three accounts at once right so I'm actually going to be deploying to the first",
    "start": "2510730",
    "end": "2515920"
  },
  {
    "text": "region across all three accounts at the same time just to save myself some time so obviously if this is a massive change",
    "start": "2515920",
    "end": "2522220"
  },
  {
    "text": "you've got a significant number of accounts managed under the stack set you would want to increase that so you're",
    "start": "2522220",
    "end": "2527530"
  },
  {
    "text": "not doing things in a linear fashion okay so now we've evaluated everything",
    "start": "2527530",
    "end": "2532900"
  },
  {
    "text": "is outdated we're going to go ahead and apply the new template across all of my stacks and then I'm going to go in and",
    "start": "2532900",
    "end": "2541110"
  },
  {
    "text": "I'm going to look at my production environment",
    "start": "2541110",
    "end": "2546869"
  },
  {
    "text": "and I'm gonna check the resources there and validate that that subnet was actually created in my production",
    "start": "2552980",
    "end": "2558170"
  },
  {
    "text": "environment and then I'm gonna go into one of my lower environments and just make sure it wasn't created there so",
    "start": "2558170",
    "end": "2570050"
  },
  {
    "text": "there you go so that's kind of one example of how to use stack sets obviously there are lots",
    "start": "2570050",
    "end": "2575900"
  },
  {
    "text": "of different ways to use it based on what you're sort of trying to to accomplish but as you sort of grow a",
    "start": "2575900",
    "end": "2581900"
  },
  {
    "text": "number of accounts a number of regions it's a very useful tool okay so switching back to my slides",
    "start": "2581900",
    "end": "2588670"
  },
  {
    "start": "2588000",
    "end": "2868000"
  },
  {
    "text": "still two sections I'm gonna be able to get through this will it's okay I want to talk just a little bit about",
    "start": "2588730",
    "end": "2596300"
  },
  {
    "text": "authoring so CloudFormation template authoring you're writing in JSON you're writing in Y amel CloudFormation has a",
    "start": "2596300",
    "end": "2602540"
  },
  {
    "text": "validate API but all it's doing is validating if it's if it's valid JSON or",
    "start": "2602540",
    "end": "2607579"
  },
  {
    "text": "enamel so you're going to want to have a good validation environment around your code you want to treat it as code right",
    "start": "2607579",
    "end": "2614180"
  },
  {
    "text": "so hopefully you're checking your code into source control repositories your version controlling it that will allow",
    "start": "2614180",
    "end": "2621589"
  },
  {
    "text": "you to sort of unlock the next level of infrastructure as code which is to start doing automated testing against it it's",
    "start": "2621589",
    "end": "2626780"
  },
  {
    "text": "not a code analysis unit testing against environments and all of those types of",
    "start": "2626780",
    "end": "2633109"
  },
  {
    "text": "things that sort of you would do if you were writing an application so we do actually have sort of a model of this",
    "start": "2633109",
    "end": "2638990"
  },
  {
    "text": "out there there's a a solution available you can see the link here at the bottom it'll be in the slides that you got and",
    "start": "2638990",
    "end": "2644630"
  },
  {
    "text": "it leverages the code suite of tools to actually build out a pipeline like this so this allows you to check your",
    "start": "2644630",
    "end": "2651290"
  },
  {
    "text": "confirmation templates into a code comment repository that will then trigger a code pipeline that will do",
    "start": "2651290",
    "end": "2657079"
  },
  {
    "text": "analysis against this templates using an open-source tool called CFM mag it will",
    "start": "2657079",
    "end": "2662240"
  },
  {
    "text": "then provision a stack from that template and run unit tests against that right so do some validation against the",
    "start": "2662240",
    "end": "2668089"
  },
  {
    "text": "actual live environment things that you might not catch in the code right things that might not actually you might",
    "start": "2668089",
    "end": "2673550"
  },
  {
    "text": "actually see until integration occurs and then if everything looks good if all the tests pass it will then send a",
    "start": "2673550",
    "end": "2679760"
  },
  {
    "text": "notification out via email to a group of folks that can then",
    "start": "2679760",
    "end": "2685029"
  },
  {
    "text": "that template and once that template is approved it can be pushed into an s3 bucket and made available to end-users",
    "start": "2685029",
    "end": "2690219"
  },
  {
    "text": "or inject it into a Service Catalog or whatever you'd like to do with it so it's kind of a nice model obviously if",
    "start": "2690219",
    "end": "2697659"
  },
  {
    "text": "you're looking for a suite of tools we really like the code suite of tools but you could take this model and sort of",
    "start": "2697659",
    "end": "2702999"
  },
  {
    "text": "inject in the tools that you're using to accomplish something similar one last plug there is a relatively new project",
    "start": "2702999",
    "end": "2712089"
  },
  {
    "text": "out there called CFM lint like I said the CloudFormation validation is really just as a good JSON as a good yeah Mille",
    "start": "2712089",
    "end": "2717999"
  },
  {
    "text": "this is a linter that actually uses the published CloudFormation resource specification to validate your templates",
    "start": "2717999",
    "end": "2724019"
  },
  {
    "text": "it's an open source project I'm one of the folks that kind of sponsors it we",
    "start": "2724019",
    "end": "2729819"
  },
  {
    "text": "could definitely use more people we could use more awkward templates to test against it any number of things but the",
    "start": "2729819",
    "end": "2736630"
  },
  {
    "text": "cool thing about it is folks have started writing IDE plug-ins for this so you can actually take this and plug it",
    "start": "2736630",
    "end": "2741759"
  },
  {
    "text": "into atom you can plug it into Visual Studio and as of this week you can plug it into sublime and MIM yeah so so yeah",
    "start": "2741759",
    "end": "2750909"
  },
  {
    "text": "so take this and use it as a tool in your authoring if you're going to be hand authoring templates",
    "start": "2750909",
    "end": "2757890"
  },
  {
    "text": "lastly server lists all I really wanted to say here is that CloudFormation",
    "start": "2757890",
    "end": "2764909"
  },
  {
    "text": "we have customers using Confirmation to deploy any number of different stacks everything from your classic lamp stacks",
    "start": "2764909",
    "end": "2771449"
  },
  {
    "text": "all the way up through complex big data analytics pipelines and into serverless",
    "start": "2771449",
    "end": "2778199"
  },
  {
    "text": "now server lists the interesting thing about it is there's sort of an ecosystem that's built up around it and we",
    "start": "2778199",
    "end": "2783999"
  },
  {
    "text": "actually work with the service team on something called Sam which is the",
    "start": "2783999",
    "end": "2789069"
  },
  {
    "text": "service application model and this sits on top of cloud formation this actually leverages a confirmation feature called",
    "start": "2789069",
    "end": "2796569"
  },
  {
    "text": "transforms and allows you to sort of abstract out how you define your service",
    "start": "2796569",
    "end": "2801999"
  },
  {
    "text": "application within your template so you can focus on just your API is just your functions and not really worry about a",
    "start": "2801999",
    "end": "2808029"
  },
  {
    "text": "lot of sort of the glue stuff in between and what happens is as you submit that to CloudFormation we'll expand that out",
    "start": "2808029",
    "end": "2814719"
  },
  {
    "text": "to the appropriate resources under the covers and the cool thing is that means that you can actually intersperse sam models",
    "start": "2814719",
    "end": "2821690"
  },
  {
    "text": "with the rest of cloud formations if there's something that's not within Sam you can just define that using regular cloud formation alongside of it so if",
    "start": "2821690",
    "end": "2828829"
  },
  {
    "text": "you are doing surrealist I would encourage you to check out Sam but there are any number of frameworks out there",
    "start": "2828829",
    "end": "2833930"
  },
  {
    "text": "that work very well with cloud formation for deployment I'm not going to go through all of these but a lot of these",
    "start": "2833930",
    "end": "2839269"
  },
  {
    "text": "are sort of language specific calles is one of ours around Python I think",
    "start": "2839269",
    "end": "2844279"
  },
  {
    "text": "there's a go one in there as well but definitely take a look at these frameworks and look at how they interact",
    "start": "2844279",
    "end": "2850400"
  },
  {
    "text": "with cloud formation there's a lot of samples out there for it giving you a list of links here at the bottom these",
    "start": "2850400",
    "end": "2855589"
  },
  {
    "text": "are all the the things that I talked about hopefully you'll get the slide deck because I know these are hard to remember and that's it",
    "start": "2855589",
    "end": "2865660"
  },
  {
    "text": "[Applause]",
    "start": "2865860",
    "end": "2870689"
  }
]