[
  {
    "start": "0",
    "end": "50000"
  },
  {
    "text": "[Music]",
    "start": "1090",
    "end": "6259"
  },
  {
    "text": "welcome to this smart architecture today",
    "start": "7359",
    "end": "9519"
  },
  {
    "text": "i have here sergey with me from",
    "start": "9519",
    "end": "11120"
  },
  {
    "text": "propertyfinder hello sergey hi cameron",
    "start": "11120",
    "end": "13360"
  },
  {
    "text": "can you tell me a little bit about",
    "start": "13360",
    "end": "14719"
  },
  {
    "text": "propertyfinder sure propertyfinder is",
    "start": "14719",
    "end": "17039"
  },
  {
    "text": "online real estate portal with more than",
    "start": "17039",
    "end": "19119"
  },
  {
    "text": "300 employees",
    "start": "19119",
    "end": "20880"
  },
  {
    "text": "representing more than 40 nationalities",
    "start": "20880",
    "end": "23279"
  },
  {
    "text": "we have our headquarters here in uae",
    "start": "23279",
    "end": "25359"
  },
  {
    "text": "dubai but we also have our team members",
    "start": "25359",
    "end": "27680"
  },
  {
    "text": "in egypt qatar turkey bahrain and saudi",
    "start": "27680",
    "end": "30560"
  },
  {
    "text": "arabia",
    "start": "30560",
    "end": "32000"
  },
  {
    "text": "so we have a very interesting",
    "start": "32000",
    "end": "33120"
  },
  {
    "text": "architecture here can you tell me about",
    "start": "33120",
    "end": "35120"
  },
  {
    "text": "the use case what you're trying to solve",
    "start": "35120",
    "end": "36960"
  },
  {
    "text": "so when we decided to split our",
    "start": "36960",
    "end": "39120"
  },
  {
    "text": "monolithic application into the",
    "start": "39120",
    "end": "40879"
  },
  {
    "text": "microservices we came up to our mind",
    "start": "40879",
    "end": "43200"
  },
  {
    "text": "that we can use the kubernetes cluster",
    "start": "43200",
    "end": "44879"
  },
  {
    "text": "and the eks",
    "start": "44879",
    "end": "46239"
  },
  {
    "text": "so so you split the microservices what",
    "start": "46239",
    "end": "48480"
  },
  {
    "text": "kind of scale we're talking about in",
    "start": "48480",
    "end": "49760"
  },
  {
    "text": "terms of microsoft so um as for now on",
    "start": "49760",
    "end": "52160"
  },
  {
    "start": "50000",
    "end": "62000"
  },
  {
    "text": "the production environment we are",
    "start": "52160",
    "end": "53600"
  },
  {
    "text": "running around 20 instances",
    "start": "53600",
    "end": "56559"
  },
  {
    "text": "and around 2 000 containers every day so",
    "start": "56559",
    "end": "60399"
  },
  {
    "text": "that's a very large scale uh",
    "start": "60399",
    "end": "62640"
  },
  {
    "start": "62000",
    "end": "100000"
  },
  {
    "text": "so let's look at a use case that you",
    "start": "62640",
    "end": "64720"
  },
  {
    "text": "have okay",
    "start": "64720",
    "end": "66479"
  },
  {
    "text": "so let's say a user",
    "start": "66479",
    "end": "69360"
  },
  {
    "text": "wants",
    "start": "69360",
    "end": "70240"
  },
  {
    "text": "to access",
    "start": "70240",
    "end": "71520"
  },
  {
    "text": "our",
    "start": "71520",
    "end": "72600"
  },
  {
    "text": "propertyfinder.ae website",
    "start": "72600",
    "end": "75040"
  },
  {
    "text": "so first where he goes",
    "start": "75040",
    "end": "77200"
  },
  {
    "text": "he's hitting our application load",
    "start": "77200",
    "end": "78799"
  },
  {
    "text": "balancer yeah afterwards our application",
    "start": "78799",
    "end": "81680"
  },
  {
    "text": "load balancer is actually routing him to",
    "start": "81680",
    "end": "84720"
  },
  {
    "text": "our kubernetes cluster where we have the",
    "start": "84720",
    "end": "88080"
  },
  {
    "text": "website code running and our ingress",
    "start": "88080",
    "end": "90400"
  },
  {
    "text": "controller is actually going to this",
    "start": "90400",
    "end": "93280"
  },
  {
    "text": "spot",
    "start": "93280",
    "end": "94240"
  },
  {
    "text": "i also notice here you have ec2 spot",
    "start": "94240",
    "end": "96240"
  },
  {
    "text": "instances with all your availability",
    "start": "96240",
    "end": "98079"
  },
  {
    "text": "zones can you tell me a bit more about",
    "start": "98079",
    "end": "99600"
  },
  {
    "text": "that sure",
    "start": "99600",
    "end": "100799"
  },
  {
    "start": "100000",
    "end": "117000"
  },
  {
    "text": "so when we",
    "start": "100799",
    "end": "103119"
  },
  {
    "text": "configure our architecture we figure out",
    "start": "103119",
    "end": "105680"
  },
  {
    "text": "that we can run 100",
    "start": "105680",
    "end": "107439"
  },
  {
    "text": "on the spot instances",
    "start": "107439",
    "end": "109600"
  },
  {
    "text": "even in the production workloads",
    "start": "109600",
    "end": "111600"
  },
  {
    "text": "that's very interesting 100 spot",
    "start": "111600",
    "end": "113200"
  },
  {
    "text": "instances so how do you mitigate for",
    "start": "113200",
    "end": "115200"
  },
  {
    "text": "spot failures um so as you know the spot",
    "start": "115200",
    "end": "118719"
  },
  {
    "start": "117000",
    "end": "140000"
  },
  {
    "text": "instance can actually go down so first",
    "start": "118719",
    "end": "121520"
  },
  {
    "text": "what we are doing we have a proper",
    "start": "121520",
    "end": "124000"
  },
  {
    "text": "redundancy for all our services so let's",
    "start": "124000",
    "end": "126880"
  },
  {
    "text": "say the website is running",
    "start": "126880",
    "end": "130080"
  },
  {
    "text": "in minimum three nodes in each of the",
    "start": "130080",
    "end": "132560"
  },
  {
    "text": "availability zones",
    "start": "132560",
    "end": "134319"
  },
  {
    "text": "so",
    "start": "134319",
    "end": "135040"
  },
  {
    "text": "when we um know that the one of the spot",
    "start": "135040",
    "end": "138400"
  },
  {
    "text": "instance been marked for the termination",
    "start": "138400",
    "end": "140480"
  },
  {
    "start": "140000",
    "end": "166000"
  },
  {
    "text": "we have two minutes period to do",
    "start": "140480",
    "end": "142400"
  },
  {
    "text": "something",
    "start": "142400",
    "end": "143599"
  },
  {
    "text": "we're listening to the event breach",
    "start": "143599",
    "end": "146400"
  },
  {
    "text": "for this particular uh event and then",
    "start": "146400",
    "end": "149760"
  },
  {
    "text": "we're triggering the lambda function",
    "start": "149760",
    "end": "152800"
  },
  {
    "text": "which is actually scaling up our auto",
    "start": "152800",
    "end": "156000"
  },
  {
    "text": "scaling group",
    "start": "156000",
    "end": "157840"
  },
  {
    "text": "and draining the node which is marked",
    "start": "157840",
    "end": "161040"
  },
  {
    "text": "for the termination",
    "start": "161040",
    "end": "162560"
  },
  {
    "text": "so sergey what has been the benefit of",
    "start": "162560",
    "end": "164239"
  },
  {
    "text": "using this spot based architecture so",
    "start": "164239",
    "end": "166560"
  },
  {
    "start": "166000",
    "end": "228000"
  },
  {
    "text": "the spot based architecture is actually",
    "start": "166560",
    "end": "168720"
  },
  {
    "text": "can help us to save up to 50 on our",
    "start": "168720",
    "end": "171440"
  },
  {
    "text": "production environment",
    "start": "171440",
    "end": "173360"
  },
  {
    "text": "compared to on-demand instances i'm",
    "start": "173360",
    "end": "174959"
  },
  {
    "text": "assuming yes that's great so in terms of",
    "start": "174959",
    "end": "177519"
  },
  {
    "text": "evolution of your architecture what's",
    "start": "177519",
    "end": "179120"
  },
  {
    "text": "next",
    "start": "179120",
    "end": "179920"
  },
  {
    "text": "so the next step is to use manage node",
    "start": "179920",
    "end": "182720"
  },
  {
    "text": "groups",
    "start": "182720",
    "end": "184000"
  },
  {
    "text": "which can help us to get rid of",
    "start": "184000",
    "end": "187280"
  },
  {
    "text": "these",
    "start": "187280",
    "end": "188480"
  },
  {
    "text": "entire steps and give",
    "start": "188480",
    "end": "191200"
  },
  {
    "text": "all the things to the aws to manage our",
    "start": "191200",
    "end": "193840"
  },
  {
    "text": "spot instances",
    "start": "193840",
    "end": "195599"
  },
  {
    "text": "one last question for you how do you",
    "start": "195599",
    "end": "197680"
  },
  {
    "text": "monitor this environment you are using",
    "start": "197680",
    "end": "199680"
  },
  {
    "text": "spot spot instances kubernetes clusters",
    "start": "199680",
    "end": "202560"
  },
  {
    "text": "and pods how do you monitor this",
    "start": "202560",
    "end": "204159"
  },
  {
    "text": "environment yes the monitoring is very",
    "start": "204159",
    "end": "206560"
  },
  {
    "text": "important",
    "start": "206560",
    "end": "207680"
  },
  {
    "text": "because we are running on the spot",
    "start": "207680",
    "end": "208959"
  },
  {
    "text": "instances we use datadock",
    "start": "208959",
    "end": "211680"
  },
  {
    "text": "which is giving us all the things that",
    "start": "211680",
    "end": "213280"
  },
  {
    "text": "we need to monitor our kubernetes",
    "start": "213280",
    "end": "214799"
  },
  {
    "text": "cluster",
    "start": "214799",
    "end": "215760"
  },
  {
    "text": "sergey thank you for sharing your",
    "start": "215760",
    "end": "217120"
  },
  {
    "text": "architecture with me today thank you",
    "start": "217120",
    "end": "218560"
  },
  {
    "text": "cameron",
    "start": "218560",
    "end": "219680"
  },
  {
    "text": "and thank you for joining this is my",
    "start": "219680",
    "end": "221120"
  },
  {
    "text": "architecture",
    "start": "221120",
    "end": "222960"
  },
  {
    "text": "[Music]",
    "start": "222960",
    "end": "226059"
  },
  {
    "text": "you",
    "start": "228720",
    "end": "230799"
  }
]