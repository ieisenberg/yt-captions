[
  {
    "start": "0",
    "end": "44000"
  },
  {
    "text": "[Music]",
    "start": "1190",
    "end": "5120"
  },
  {
    "text": "hi and welcome to this is our this is my",
    "start": "5120",
    "end": "7589"
  },
  {
    "text": "architecture live we are live at",
    "start": "7589",
    "end": "9210"
  },
  {
    "text": "reinvent in Las Vegas and I am here with",
    "start": "9210",
    "end": "11370"
  },
  {
    "text": "Eli from trade desk thanks for joining",
    "start": "11370",
    "end": "13530"
  },
  {
    "text": "me Eli hey thanks for having me so tell",
    "start": "13530",
    "end": "15660"
  },
  {
    "text": "us about trade desk what do you do trade",
    "start": "15660",
    "end": "17400"
  },
  {
    "text": "this is a software company we have a SAS",
    "start": "17400",
    "end": "18990"
  },
  {
    "text": "platform that's responsible for a lot of",
    "start": "18990",
    "end": "20640"
  },
  {
    "text": "the ads you see on connected radio",
    "start": "20640",
    "end": "22560"
  },
  {
    "text": "Internet and TV we do about 10 million",
    "start": "22560",
    "end": "25170"
  },
  {
    "text": "messages a second well around the world",
    "start": "25170",
    "end": "26670"
  },
  {
    "text": "but from seven data centers three of now",
    "start": "26670",
    "end": "29789"
  },
  {
    "text": "of which are in AWS in Germany Tokyo and",
    "start": "29789",
    "end": "33149"
  },
  {
    "text": "Singapore okay yeah at tech is a really",
    "start": "33149",
    "end": "35040"
  },
  {
    "text": "exciting space for the cloud and for AWS",
    "start": "35040",
    "end": "36809"
  },
  {
    "text": "so what about your solution is the most",
    "start": "36809",
    "end": "39360"
  },
  {
    "text": "unique or what what do you think is the",
    "start": "39360",
    "end": "40890"
  },
  {
    "text": "biggest enabler for you for the cloud in",
    "start": "40890",
    "end": "42390"
  },
  {
    "text": "terms of moving things to the cloud so",
    "start": "42390",
    "end": "44070"
  },
  {
    "start": "44000",
    "end": "86000"
  },
  {
    "text": "for a long time we thought that moving",
    "start": "44070",
    "end": "45629"
  },
  {
    "text": "to the cloud was both technically and",
    "start": "45629",
    "end": "47160"
  },
  {
    "text": "financially impossible at least at our",
    "start": "47160",
    "end": "49350"
  },
  {
    "text": "scale this was attempted many years ago",
    "start": "49350",
    "end": "51780"
  },
  {
    "text": "when the company first started and we",
    "start": "51780",
    "end": "53160"
  },
  {
    "text": "ended up moving to physical just due to",
    "start": "53160",
    "end": "55980"
  },
  {
    "text": "the latency requirements and capacity",
    "start": "55980",
    "end": "58260"
  },
  {
    "text": "that we needed recently being this at",
    "start": "58260",
    "end": "60600"
  },
  {
    "text": "the beginning of this year we were able",
    "start": "60600",
    "end": "62129"
  },
  {
    "text": "to find a solution working closely with",
    "start": "62129",
    "end": "63570"
  },
  {
    "text": "our account team we found a product that",
    "start": "63570",
    "end": "66630"
  },
  {
    "text": "was recently launched called Amazon",
    "start": "66630",
    "end": "68729"
  },
  {
    "text": "global accelerator AGA and it's not",
    "start": "68729",
    "end": "72090"
  },
  {
    "text": "designed to be a load balancer but we",
    "start": "72090",
    "end": "74280"
  },
  {
    "text": "found it very helpful to use it as a",
    "start": "74280",
    "end": "75600"
  },
  {
    "text": "load balancer okay so when you say like",
    "start": "75600",
    "end": "77580"
  },
  {
    "text": "scale you said 10 million messages a",
    "start": "77580",
    "end": "79110"
  },
  {
    "text": "second but I know low latency is super",
    "start": "79110",
    "end": "81570"
  },
  {
    "text": "important in your business when you say",
    "start": "81570",
    "end": "83189"
  },
  {
    "text": "that though what does that actually mean",
    "start": "83189",
    "end": "84150"
  },
  {
    "text": "you know what kind of latency so we",
    "start": "84150",
    "end": "86250"
  },
  {
    "start": "86000",
    "end": "168000"
  },
  {
    "text": "respond to requests within a tenth of a",
    "start": "86250",
    "end": "87990"
  },
  {
    "text": "second about 10 milliseconds okay um and",
    "start": "87990",
    "end": "90990"
  },
  {
    "text": "we do that at ranging from million times",
    "start": "90990",
    "end": "93299"
  },
  {
    "text": "a second to three million times stepping",
    "start": "93299",
    "end": "95610"
  },
  {
    "text": "down the datacenter that we're talking",
    "start": "95610",
    "end": "97200"
  },
  {
    "text": "about okay so you said you're offering",
    "start": "97200",
    "end": "99030"
  },
  {
    "text": "in three sites I imagine that means",
    "start": "99030",
    "end": "100259"
  },
  {
    "text": "three regions of AWS or yes okay great",
    "start": "100259",
    "end": "102780"
  },
  {
    "text": "so let's let's dig into the architecture",
    "start": "102780",
    "end": "104460"
  },
  {
    "text": "then so you mentioned global accelerator",
    "start": "104460",
    "end": "106020"
  },
  {
    "text": "as being kind of a key enabler and",
    "start": "106020",
    "end": "107220"
  },
  {
    "text": "you're kind of using it like a load",
    "start": "107220",
    "end": "108299"
  },
  {
    "text": "balancer is that right",
    "start": "108299",
    "end": "109439"
  },
  {
    "text": "yes so if you don't know global",
    "start": "109439",
    "end": "110579"
  },
  {
    "text": "accelerator it's the the feature was",
    "start": "110579",
    "end": "112320"
  },
  {
    "text": "designed for pop - pop acceleration over",
    "start": "112320",
    "end": "114210"
  },
  {
    "text": "Amazon's backbone like FePc peering so",
    "start": "114210",
    "end": "116460"
  },
  {
    "text": "if someone's sending for a Virginia to",
    "start": "116460",
    "end": "117869"
  },
  {
    "text": "Singapore instead of going out over the",
    "start": "117869",
    "end": "119520"
  },
  {
    "text": "Internet 20 hops it'll just go over VPC",
    "start": "119520",
    "end": "121649"
  },
  {
    "text": "period it's faster reliable and Amazon",
    "start": "121649",
    "end": "123960"
  },
  {
    "text": "supported it also has in any case",
    "start": "123960",
    "end": "126930"
  },
  {
    "text": "feature so any cast is one IP with",
    "start": "126930",
    "end": "129060"
  },
  {
    "text": "multiple targets this is great for us",
    "start": "129060",
    "end": "130979"
  },
  {
    "text": "because a lot of our clients will",
    "start": "130979",
    "end": "132700"
  },
  {
    "text": "cherry pick maybe IPS from our DNS",
    "start": "132700",
    "end": "134530"
  },
  {
    "text": "records and send all their traffic to",
    "start": "134530",
    "end": "137230"
  },
  {
    "text": "one IP and then tips over that load",
    "start": "137230",
    "end": "138730"
  },
  {
    "text": "balancer assigned yeah it makes it",
    "start": "138730",
    "end": "140230"
  },
  {
    "text": "really hard to spread things out right",
    "start": "140230",
    "end": "141400"
  },
  {
    "text": "so right so with a ga we have two IPS",
    "start": "141400",
    "end": "145090"
  },
  {
    "text": "for H a and they all go to the same",
    "start": "145090",
    "end": "146530"
  },
  {
    "text": "target group that's evenly weighted okay",
    "start": "146530",
    "end": "148390"
  },
  {
    "text": "so you start a global excite Arabia City",
    "start": "148390",
    "end": "150340"
  },
  {
    "text": "using any cast static IDs that allow you",
    "start": "150340",
    "end": "152350"
  },
  {
    "text": "to sort of flow traffic to different",
    "start": "152350",
    "end": "153700"
  },
  {
    "text": "sites so when you say that you know ICU",
    "start": "153700",
    "end": "155590"
  },
  {
    "text": "we have a lb global accelerator you know",
    "start": "155590",
    "end": "157420"
  },
  {
    "text": "walk me through this what's actually",
    "start": "157420",
    "end": "158380"
  },
  {
    "text": "running on this and how are you routing",
    "start": "158380",
    "end": "159910"
  },
  {
    "text": "the traffic sure so when we moved to the",
    "start": "159910",
    "end": "162190"
  },
  {
    "text": "cloud we forklifted our system it wasn't",
    "start": "162190",
    "end": "164769"
  },
  {
    "text": "designed to be a micro service and",
    "start": "164769",
    "end": "166569"
  },
  {
    "text": "containers okay so we run ec2 instances",
    "start": "166569",
    "end": "169390"
  },
  {
    "text": "that are equivalent to our physical",
    "start": "169390",
    "end": "170319"
  },
  {
    "text": "instances and optimized for the cloud",
    "start": "170319",
    "end": "172780"
  },
  {
    "text": "and those are running what type of",
    "start": "172780",
    "end": "174370"
  },
  {
    "text": "software what is it written in so we are",
    "start": "174370",
    "end": "176230"
  },
  {
    "text": "primarily a dotnet shop okay we have a",
    "start": "176230",
    "end": "177880"
  },
  {
    "text": "lot of c-sharp all our bidders our front",
    "start": "177880",
    "end": "179860"
  },
  {
    "text": "ends are actually dotnet applications",
    "start": "179860",
    "end": "181660"
  },
  {
    "text": "primarily written in C sharp right now",
    "start": "181660",
    "end": "183069"
  },
  {
    "text": "okay so a request comes in it hits your",
    "start": "183069",
    "end": "185290"
  },
  {
    "text": "bidder it hits the global accelerator",
    "start": "185290",
    "end": "186670"
  },
  {
    "text": "and then global saturated routes it to",
    "start": "186670",
    "end": "188140"
  },
  {
    "text": "the bidders running on ec2 is that right",
    "start": "188140",
    "end": "190120"
  },
  {
    "text": "that's right so we have two IPs out here",
    "start": "190120",
    "end": "192280"
  },
  {
    "text": "in a DNS record all the messaging",
    "start": "192280",
    "end": "194170"
  },
  {
    "text": "traffic our bid requests hit that IP",
    "start": "194170",
    "end": "195819"
  },
  {
    "text": "it'll get distributed to the global",
    "start": "195819",
    "end": "198280"
  },
  {
    "text": "accelerator this is a layer 4 appliance",
    "start": "198280",
    "end": "200320"
  },
  {
    "text": "in the backend yeah it WS magic and",
    "start": "200320",
    "end": "202570"
  },
  {
    "text": "it'll hit one of our bidders the bidder",
    "start": "202570",
    "end": "204250"
  },
  {
    "text": "is that I'm gonna respond back out with",
    "start": "204250",
    "end": "205660"
  },
  {
    "text": "a bid request and either that person",
    "start": "205660",
    "end": "206920"
  },
  {
    "text": "wins or lose them the the bid and that",
    "start": "206920",
    "end": "209590"
  },
  {
    "text": "gets this plan or it doesn't and that",
    "start": "209590",
    "end": "211150"
  },
  {
    "text": "you know when global seller is going to",
    "start": "211150",
    "end": "212440"
  },
  {
    "text": "easy to that that implies multiple",
    "start": "212440",
    "end": "214390"
  },
  {
    "text": "regions multiple sites that is acting as",
    "start": "214390",
    "end": "216700"
  },
  {
    "text": "a load balancer across multiple sites",
    "start": "216700",
    "end": "217900"
  },
  {
    "text": "correct so we have one global",
    "start": "217900",
    "end": "219609"
  },
  {
    "text": "accelerator for each site right now",
    "start": "219609",
    "end": "220870"
  },
  {
    "text": "yeah global accelerator can support",
    "start": "220870",
    "end": "223989"
  },
  {
    "text": "multiple instances but it can't",
    "start": "223989",
    "end": "226120"
  },
  {
    "text": "currently route to the correct instance",
    "start": "226120",
    "end": "227709"
  },
  {
    "text": "so our Tokyo bulb accelerator goes to",
    "start": "227709",
    "end": "230590"
  },
  {
    "text": "all our Tokyo instances ok great I see",
    "start": "230590",
    "end": "232870"
  },
  {
    "text": "you have some other components up here",
    "start": "232870",
    "end": "234160"
  },
  {
    "text": "too though you know you have a database",
    "start": "234160",
    "end": "235630"
  },
  {
    "text": "you have s3 tell us more about this part",
    "start": "235630",
    "end": "237609"
  },
  {
    "text": "of the architecture sure so historically",
    "start": "237609",
    "end": "239829"
  },
  {
    "text": "aerospike which is an in-memory low",
    "start": "239829",
    "end": "241660"
  },
  {
    "text": "latency high-volume type of database",
    "start": "241660",
    "end": "243010"
  },
  {
    "text": "where you're running aerospike here",
    "start": "243010",
    "end": "244420"
  },
  {
    "text": "right okay this is aerospike",
    "start": "244420",
    "end": "246790"
  },
  {
    "text": "we've needed these big four to use boxes",
    "start": "246790",
    "end": "249370"
  },
  {
    "text": "stuffed with nvme drives for low latency",
    "start": "249370",
    "end": "251380"
  },
  {
    "text": "and this is running on ec2 yes this is",
    "start": "251380",
    "end": "253420"
  },
  {
    "text": "now running on ec2 okay and the big",
    "start": "253420",
    "end": "255430"
  },
  {
    "text": "advantage is instead of wheeling in iraq",
    "start": "255430",
    "end": "257079"
  },
  {
    "text": "when we need to have capacity we just go",
    "start": "257079",
    "end": "258729"
  },
  {
    "text": "and spend up a few ec2 instances so it's",
    "start": "258729",
    "end": "260890"
  },
  {
    "text": "scaling much faster than we could in our",
    "start": "260890",
    "end": "262300"
  },
  {
    "text": "physical data centers so what's actually",
    "start": "262300",
    "end": "263800"
  },
  {
    "text": "in the air",
    "start": "263800",
    "end": "264620"
  },
  {
    "text": "spica database so when someone sets a",
    "start": "264620",
    "end": "266840"
  },
  {
    "start": "266000",
    "end": "359000"
  },
  {
    "text": "bid request in its for a targeted",
    "start": "266840",
    "end": "269180"
  },
  {
    "text": "advertisement so maybe you live within",
    "start": "269180",
    "end": "271250"
  },
  {
    "text": "10 miles of this restaurant we need to",
    "start": "271250",
    "end": "273560"
  },
  {
    "text": "know you've seen non-identifiable",
    "start": "273560",
    "end": "274910"
  },
  {
    "text": "personal information if you meet that",
    "start": "274910",
    "end": "277370"
  },
  {
    "text": "criteria so this database has that",
    "start": "277370",
    "end": "279380"
  },
  {
    "text": "information so this bidder here ec2 is",
    "start": "279380",
    "end": "281479"
  },
  {
    "text": "talking to their respective base right",
    "start": "281479",
    "end": "282860"
  },
  {
    "text": "and no one wants to wait for a load to",
    "start": "282860",
    "end": "284180"
  },
  {
    "text": "add so the ad to load so this needs to",
    "start": "284180",
    "end": "287060"
  },
  {
    "text": "respond very quickly yeah hence the",
    "start": "287060",
    "end": "288710"
  },
  {
    "text": "in-memory the very fast response is low",
    "start": "288710",
    "end": "290389"
  },
  {
    "text": "latency right what happens if you don't",
    "start": "290389",
    "end": "292669"
  },
  {
    "text": "meet your latency targets or your SLA",
    "start": "292669",
    "end": "294500"
  },
  {
    "text": "the bid gets dropped and we don't have",
    "start": "294500",
    "end": "296270"
  },
  {
    "text": "the business okay so it's really",
    "start": "296270",
    "end": "297500"
  },
  {
    "text": "important that you have low liens",
    "start": "297500",
    "end": "298669"
  },
  {
    "text": "because otherwise you lose the bit yeah",
    "start": "298669",
    "end": "300050"
  },
  {
    "text": "that 100 millisecond line is pretty hard",
    "start": "300050",
    "end": "302180"
  },
  {
    "text": "ok you also have s3 over here what's",
    "start": "302180",
    "end": "303949"
  },
  {
    "text": "going on there so the other big database",
    "start": "303949",
    "end": "306020"
  },
  {
    "text": "we run the stores petabytes of",
    "start": "306020",
    "end": "307190"
  },
  {
    "text": "information in AWS is based out of u.s.",
    "start": "307190",
    "end": "310160"
  },
  {
    "text": "East one and it's backed by s3 so it's",
    "start": "310160",
    "end": "312800"
  },
  {
    "text": "called Vertica and that's our long-term",
    "start": "312800",
    "end": "314510"
  },
  {
    "text": "storage database okay so Vertica backed",
    "start": "314510",
    "end": "316820"
  },
  {
    "text": "by history that's a new feature right",
    "start": "316820",
    "end": "317960"
  },
  {
    "text": "yeah it's a vertically on it recently",
    "start": "317960",
    "end": "319910"
  },
  {
    "text": "came out and it's great because when we",
    "start": "319910",
    "end": "321860"
  },
  {
    "text": "need to add capacity we don't need to",
    "start": "321860",
    "end": "323000"
  },
  {
    "text": "add drives we just add a new bucket and",
    "start": "323000",
    "end": "324560"
  },
  {
    "text": "we get instant storage okay well cool so",
    "start": "324560",
    "end": "326870"
  },
  {
    "text": "you have vertical on s3 holding",
    "start": "326870",
    "end": "328039"
  },
  {
    "text": "petabytes of data you said you have a",
    "start": "328039",
    "end": "329330"
  },
  {
    "text": "very low latency in memory database",
    "start": "329330",
    "end": "330970"
  },
  {
    "text": "aerospike running on ec2 you have your",
    "start": "330970",
    "end": "333770"
  },
  {
    "text": "bidders dotnet applications on ec2",
    "start": "333770",
    "end": "335780"
  },
  {
    "text": "auto-scaling I imagine yeah",
    "start": "335780",
    "end": "337400"
  },
  {
    "text": "forth and then you're using global",
    "start": "337400",
    "end": "338630"
  },
  {
    "text": "accelerator effectively as a way to",
    "start": "338630",
    "end": "340220"
  },
  {
    "text": "share your load across and act as a load",
    "start": "340220",
    "end": "342470"
  },
  {
    "text": "balancer and while keeping latency is",
    "start": "342470",
    "end": "344090"
  },
  {
    "text": "low and operating across multiple",
    "start": "344090",
    "end": "345380"
  },
  {
    "text": "regions right exactly it's a really",
    "start": "345380",
    "end": "347120"
  },
  {
    "text": "elegant architecture thanks for sharing",
    "start": "347120",
    "end": "348260"
  },
  {
    "text": "it with us",
    "start": "348260",
    "end": "348800"
  },
  {
    "text": "well thank you and thanks for watching",
    "start": "348800",
    "end": "350180"
  },
  {
    "text": "this is my architecture live",
    "start": "350180",
    "end": "353210"
  },
  {
    "text": "[Music]",
    "start": "353210",
    "end": "358220"
  }
]