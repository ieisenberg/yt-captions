[
  {
    "start": "0",
    "end": "42000"
  },
  {
    "text": "hi everyone thanks for coming I'm Sergey",
    "start": "530",
    "end": "4230"
  },
  {
    "text": "right I'm a development manager at",
    "start": "4230",
    "end": "5970"
  },
  {
    "text": "Amazon route 53 and I'll be telling you",
    "start": "5970",
    "end": "9330"
  },
  {
    "text": "about how to manage global traffic with",
    "start": "9330",
    "end": "11730"
  },
  {
    "text": "route 53 traffic flow we'll have time",
    "start": "11730",
    "end": "15509"
  },
  {
    "text": "for questions at the end",
    "start": "15509",
    "end": "18500"
  },
  {
    "text": "what are we going to talk about so",
    "start": "19250",
    "end": "22050"
  },
  {
    "text": "concepts defining what what traffic",
    "start": "22050",
    "end": "25740"
  },
  {
    "text": "management means I'll introduce you to",
    "start": "25740",
    "end": "28410"
  },
  {
    "text": "route 53 traffic flow and we'll go into",
    "start": "28410",
    "end": "31800"
  },
  {
    "text": "a pretty deep detail about what it looks",
    "start": "31800",
    "end": "34620"
  },
  {
    "text": "like how it works and we'll look at a",
    "start": "34620",
    "end": "37110"
  },
  {
    "text": "case study a real-world example so what",
    "start": "37110",
    "end": "44100"
  },
  {
    "start": "42000",
    "end": "42000"
  },
  {
    "text": "is traffic management it's really it's",
    "start": "44100",
    "end": "46710"
  },
  {
    "text": "the process of we're talking about the",
    "start": "46710",
    "end": "48930"
  },
  {
    "text": "process of routing clients to servers",
    "start": "48930",
    "end": "50969"
  },
  {
    "text": "and clients our end users or",
    "start": "50969",
    "end": "55280"
  },
  {
    "text": "programmatic clients they could be",
    "start": "55280",
    "end": "57719"
  },
  {
    "text": "external or internal just components of",
    "start": "57719",
    "end": "60809"
  },
  {
    "text": "your own systems and specifically about",
    "start": "60809",
    "end": "65640"
  },
  {
    "text": "the types of routing these are not",
    "start": "65640",
    "end": "68850"
  },
  {
    "text": "exclusive they can be combined but just",
    "start": "68850",
    "end": "71700"
  },
  {
    "text": "the concepts there's load balancing",
    "start": "71700",
    "end": "73530"
  },
  {
    "text": "that's the simplest form Network proxy",
    "start": "73530",
    "end": "76979"
  },
  {
    "text": "to servers service discovery takes a",
    "start": "76979",
    "end": "80390"
  },
  {
    "text": "client-side approach so clients learn a",
    "start": "80390",
    "end": "84570"
  },
  {
    "text": "set of endpoints and they make the",
    "start": "84570",
    "end": "86549"
  },
  {
    "text": "decision of where to connect to then you",
    "start": "86549",
    "end": "89970"
  },
  {
    "text": "have CDN that's a fully managed",
    "start": "89970",
    "end": "92400"
  },
  {
    "text": "distribution channel typically single",
    "start": "92400",
    "end": "95880"
  },
  {
    "text": "origin and the anest level that's what",
    "start": "95880",
    "end": "99090"
  },
  {
    "text": "I'll talk about that gives you more",
    "start": "99090",
    "end": "101220"
  },
  {
    "text": "flexibility than CDN typically and you",
    "start": "101220",
    "end": "104340"
  },
  {
    "text": "can have multiple origins with a DNS",
    "start": "104340",
    "end": "106860"
  },
  {
    "text": "routing to put things into perspective a",
    "start": "106860",
    "end": "111630"
  },
  {
    "text": "little bit so what are the some typical",
    "start": "111630",
    "end": "114170"
  },
  {
    "text": "applications the one typical progression",
    "start": "114170",
    "end": "117770"
  },
  {
    "text": "I'll show you how growing demand leads",
    "start": "117770",
    "end": "121320"
  },
  {
    "text": "to increased level of sophistication so",
    "start": "121320",
    "end": "123540"
  },
  {
    "text": "you can relate that your own",
    "start": "123540",
    "end": "125760"
  },
  {
    "text": "locations you start with a single server",
    "start": "125760",
    "end": "127620"
  },
  {
    "start": "126000",
    "end": "126000"
  },
  {
    "text": "and well maybe when your server did this",
    "start": "127620",
    "end": "131940"
  },
  {
    "text": "but today you're probably are using an",
    "start": "131940",
    "end": "136230"
  },
  {
    "text": "auto scaling group so at least your",
    "start": "136230",
    "end": "138030"
  },
  {
    "text": "instance gets replaced something happens",
    "start": "138030",
    "end": "140760"
  },
  {
    "text": "to it eventually though you want to be",
    "start": "140760",
    "end": "145110"
  },
  {
    "start": "142000",
    "end": "142000"
  },
  {
    "text": "able to support more load and you want",
    "start": "145110",
    "end": "147770"
  },
  {
    "text": "more manageability to be able to deploy",
    "start": "147770",
    "end": "151340"
  },
  {
    "text": "take instances out of service and so",
    "start": "151340",
    "end": "154500"
  },
  {
    "text": "forth so you can move to elastic load",
    "start": "154500",
    "end": "157050"
  },
  {
    "text": "balancing and that already looks better",
    "start": "157050",
    "end": "160470"
  },
  {
    "text": "and if you're outside of the AWS then",
    "start": "160470",
    "end": "165500"
  },
  {
    "text": "similar concepts apply ELB is elastic",
    "start": "165500",
    "end": "171660"
  },
  {
    "text": "but in the on-premise world you might be",
    "start": "171660",
    "end": "175290"
  },
  {
    "text": "growing beyond the single load balancer",
    "start": "175290",
    "end": "177209"
  },
  {
    "text": "and just managing multiple then the next",
    "start": "177209",
    "end": "181860"
  },
  {
    "text": "step is you might want to get a better",
    "start": "181860",
    "end": "185040"
  },
  {
    "text": "isolation model so higher availability",
    "start": "185040",
    "end": "187520"
  },
  {
    "text": "you go across availability zone and once",
    "start": "187520",
    "end": "192450"
  },
  {
    "text": "again with lb this is a pretty picture",
    "start": "192450",
    "end": "195420"
  },
  {
    "text": "it's easy to configure you can have",
    "start": "195420",
    "end": "198420"
  },
  {
    "text": "instances across your region different",
    "start": "198420",
    "end": "201690"
  },
  {
    "text": "zones outside of AWS similar concept",
    "start": "201690",
    "end": "204959"
  },
  {
    "text": "applies so more complicated and finally",
    "start": "204959",
    "end": "209790"
  },
  {
    "text": "we arrive at having a global service so",
    "start": "209790",
    "end": "212700"
  },
  {
    "text": "now you're serving a global user base",
    "start": "212700",
    "end": "215190"
  },
  {
    "text": "and these are probably multiple load",
    "start": "215190",
    "end": "218880"
  },
  {
    "text": "balancers and different regions and",
    "start": "218880",
    "end": "220970"
  },
  {
    "text": "you're optimizing for latency at this",
    "start": "220970",
    "end": "223470"
  },
  {
    "text": "point clients across the internet are",
    "start": "223470",
    "end": "226620"
  },
  {
    "text": "connecting to different regions and",
    "start": "226620",
    "end": "231080"
  },
  {
    "start": "230000",
    "end": "230000"
  },
  {
    "text": "that's where traffic management comes in",
    "start": "231080",
    "end": "233580"
  },
  {
    "text": "it's about serving global user base by",
    "start": "233580",
    "end": "237209"
  },
  {
    "text": "now it's pretty obvious to anybody on",
    "start": "237209",
    "end": "239370"
  },
  {
    "text": "the web or or mobile that you have to",
    "start": "239370",
    "end": "242160"
  },
  {
    "text": "get closer to users and latency is",
    "start": "242160",
    "end": "244380"
  },
  {
    "text": "really important and in the old days you",
    "start": "244380",
    "end": "247290"
  },
  {
    "text": "maybe would create separate stacks so",
    "start": "247290",
    "end": "250620"
  },
  {
    "text": "separate domain names may be separate",
    "start": "250620",
    "end": "253200"
  },
  {
    "text": "top-level domain",
    "start": "253200",
    "end": "254990"
  },
  {
    "text": "names for different regions and then you",
    "start": "254990",
    "end": "257390"
  },
  {
    "text": "get your clients either redirected or or",
    "start": "257390",
    "end": "260780"
  },
  {
    "text": "they just know to go to do their",
    "start": "260780",
    "end": "263090"
  },
  {
    "text": "countries website right but can DNS do",
    "start": "263090",
    "end": "267530"
  },
  {
    "text": "better and yeah it can I mean it can",
    "start": "267530",
    "end": "270050"
  },
  {
    "text": "take into consideration where people are",
    "start": "270050",
    "end": "271820"
  },
  {
    "text": "coming from and what networks are on so",
    "start": "271820",
    "end": "274010"
  },
  {
    "text": "this this could look better I know this",
    "start": "274010",
    "end": "278030"
  },
  {
    "start": "276000",
    "end": "276000"
  },
  {
    "text": "is a 300 level talk but I wanted to",
    "start": "278030",
    "end": "281450"
  },
  {
    "text": "really go into what the NSA is and so",
    "start": "281450",
    "end": "285500"
  },
  {
    "text": "what do those letters stand for is the",
    "start": "285500",
    "end": "288470"
  },
  {
    "text": "first question and I'm just just joking",
    "start": "288470",
    "end": "292160"
  },
  {
    "text": "don't be scared actually show of hands",
    "start": "292160",
    "end": "294560"
  },
  {
    "text": "who doesn't know what DNS is okay nobody",
    "start": "294560",
    "end": "298070"
  },
  {
    "text": "or maybe you're shy I get it there's",
    "start": "298070",
    "end": "301250"
  },
  {
    "text": "there's a great talk by a colleague of",
    "start": "301250",
    "end": "303320"
  },
  {
    "text": "mine you just missed it it was today but",
    "start": "303320",
    "end": "305300"
  },
  {
    "text": "video will be posted it's just a good",
    "start": "305300",
    "end": "307760"
  },
  {
    "text": "overview of DNS and the cloud and AWS",
    "start": "307760",
    "end": "313120"
  },
  {
    "start": "313000",
    "end": "313000"
  },
  {
    "text": "why are we talking about DNS for traffic",
    "start": "313120",
    "end": "315980"
  },
  {
    "text": "management what why is it so special",
    "start": "315980",
    "end": "319060"
  },
  {
    "text": "really the reason it's special is is the",
    "start": "319060",
    "end": "322700"
  },
  {
    "text": "point of entry to your service so we're",
    "start": "322700",
    "end": "325550"
  },
  {
    "text": "always talking about building",
    "start": "325550",
    "end": "327140"
  },
  {
    "text": "distributed apps availability zones and",
    "start": "327140",
    "end": "330860"
  },
  {
    "text": "so forth and just spreading but DNS is",
    "start": "330860",
    "end": "334070"
  },
  {
    "text": "the one global piece of infrastructure",
    "start": "334070",
    "end": "335660"
  },
  {
    "text": "that you have so it's in the position to",
    "start": "335660",
    "end": "338450"
  },
  {
    "text": "recognize geographical locations",
    "start": "338450",
    "end": "341710"
  },
  {
    "text": "recognized client networks and make",
    "start": "341710",
    "end": "344750"
  },
  {
    "text": "intelligent routing decisions based on",
    "start": "344750",
    "end": "346850"
  },
  {
    "text": "that let's look at the evolution of DNS",
    "start": "346850",
    "end": "352040"
  },
  {
    "start": "348000",
    "end": "348000"
  },
  {
    "text": "if what does DNS look like for a global",
    "start": "352040",
    "end": "354740"
  },
  {
    "text": "service in the beginning you have static",
    "start": "354740",
    "end": "358250"
  },
  {
    "text": "records so this is a DNS 1987 nothing",
    "start": "358250",
    "end": "363140"
  },
  {
    "text": "much to say just define a bunch of",
    "start": "363140",
    "end": "365150"
  },
  {
    "text": "records there's no really no way to",
    "start": "365150",
    "end": "368210"
  },
  {
    "text": "route anything right which gets us to",
    "start": "368210",
    "end": "372710"
  },
  {
    "text": "dynamic DNS and in dynamic DNS you can",
    "start": "372710",
    "end": "376550"
  },
  {
    "text": "serve different answers for the same",
    "start": "376550",
    "end": "379070"
  },
  {
    "text": "domain name to different users based on",
    "start": "379070",
    "end": "382070"
  },
  {
    "text": "some way you want to discriminate the",
    "start": "382070",
    "end": "384080"
  },
  {
    "text": "user",
    "start": "384080",
    "end": "384439"
  },
  {
    "text": "or distinguish among them and that's",
    "start": "384439",
    "end": "388219"
  },
  {
    "text": "great because that allows you to",
    "start": "388219",
    "end": "390619"
  },
  {
    "text": "optimize user experience but generally",
    "start": "390619",
    "end": "395239"
  },
  {
    "text": "hard to manage you get a ton of records",
    "start": "395239",
    "end": "397669"
  },
  {
    "text": "maybe that requires automation this",
    "start": "397669",
    "end": "400819"
  },
  {
    "text": "point you have to manage these records",
    "start": "400819",
    "end": "403729"
  },
  {
    "text": "individually you have to care about when",
    "start": "403729",
    "end": "407569"
  },
  {
    "text": "to update them update them together you",
    "start": "407569",
    "end": "410959"
  },
  {
    "text": "don't have history so forth so just hard",
    "start": "410959",
    "end": "413239"
  },
  {
    "text": "to manage which gets us to policy based",
    "start": "413239",
    "end": "417409"
  },
  {
    "text": "mode of thinking so instead of worrying",
    "start": "417409",
    "end": "420169"
  },
  {
    "text": "about individual records and what you're",
    "start": "420169",
    "end": "422839"
  },
  {
    "text": "trying to do just think high level so",
    "start": "422839",
    "end": "427039"
  },
  {
    "text": "what you're trying to accomplish and",
    "start": "427039",
    "end": "429550"
  },
  {
    "text": "have very low overhead in order to",
    "start": "429550",
    "end": "432649"
  },
  {
    "text": "express that in some way in the product",
    "start": "432649",
    "end": "435199"
  },
  {
    "text": "and implement it on the DNS level so let",
    "start": "435199",
    "end": "440209"
  },
  {
    "text": "me present you Amazon route 53 traffic",
    "start": "440209",
    "end": "442789"
  },
  {
    "text": "flow traffic flow is built around",
    "start": "442789",
    "end": "446449"
  },
  {
    "text": "traffic policies and policy is",
    "start": "446449",
    "end": "449659"
  },
  {
    "text": "subversion document it's composed of",
    "start": "449659",
    "end": "452449"
  },
  {
    "text": "rules and endpoints and versioning is",
    "start": "452449",
    "end": "456559"
  },
  {
    "text": "important because versioning is is",
    "start": "456559",
    "end": "458389"
  },
  {
    "text": "that's your audit trail as well as very",
    "start": "458389",
    "end": "462740"
  },
  {
    "text": "importantly a way to roll back or roll",
    "start": "462740",
    "end": "465740"
  },
  {
    "text": "forward changes and then traffic",
    "start": "465740",
    "end": "468769"
  },
  {
    "text": "policies are applied to actual domain",
    "start": "468769",
    "end": "471409"
  },
  {
    "text": "names so all those rules and endpoints",
    "start": "471409",
    "end": "475069"
  },
  {
    "text": "that were defined end up applying to a",
    "start": "475069",
    "end": "478069"
  },
  {
    "text": "domain name and being visible on DNS and",
    "start": "478069",
    "end": "482719"
  },
  {
    "text": "you can use the same traffic policy for",
    "start": "482719",
    "end": "485779"
  },
  {
    "text": "more than one domain name so again",
    "start": "485779",
    "end": "491389"
  },
  {
    "start": "490000",
    "end": "490000"
  },
  {
    "text": "terminology traffic policy that's rules",
    "start": "491389",
    "end": "494679"
  },
  {
    "text": "that are routing ten points traffic",
    "start": "494679",
    "end": "497779"
  },
  {
    "text": "policy record the main name with an",
    "start": "497779",
    "end": "500779"
  },
  {
    "text": "applied specific version of the traffic",
    "start": "500779",
    "end": "503329"
  },
  {
    "text": "policy let's go through a simple example",
    "start": "503329",
    "end": "507379"
  },
  {
    "start": "505000",
    "end": "505000"
  },
  {
    "text": "so I'm going to set up DNS routing for a",
    "start": "507379",
    "end": "511009"
  },
  {
    "text": "website that's hosted on ec2 and I'm",
    "start": "511009",
    "end": "515089"
  },
  {
    "text": "just assuming a bunch of things that I",
    "start": "515089",
    "end": "517340"
  },
  {
    "text": "already have a domain and I already have",
    "start": "517340",
    "end": "519590"
  },
  {
    "text": "resources the simple stuff so you'd go",
    "start": "519590",
    "end": "523490"
  },
  {
    "text": "to management console",
    "start": "523490",
    "end": "525860"
  },
  {
    "text": "route 53 there's a section traffic flow",
    "start": "525860",
    "end": "528710"
  },
  {
    "text": "and in traffic policies there's a way to",
    "start": "528710",
    "end": "532460"
  },
  {
    "text": "create one which would take you to the",
    "start": "532460",
    "end": "536470"
  },
  {
    "text": "editor and the editor allows you to",
    "start": "536470",
    "end": "539600"
  },
  {
    "text": "import the traffic policy if you're",
    "start": "539600",
    "end": "543080"
  },
  {
    "text": "sharing one or if you're building one",
    "start": "543080",
    "end": "545990"
  },
  {
    "text": "from scratch then you can just build it",
    "start": "545990",
    "end": "547640"
  },
  {
    "text": "inside the editor the first decision to",
    "start": "547640",
    "end": "550640"
  },
  {
    "text": "make is what is the DNS type and then",
    "start": "550640",
    "end": "554390"
  },
  {
    "text": "all the magic is actually in the body of",
    "start": "554390",
    "end": "557480"
  },
  {
    "text": "the policy itself so what can go into",
    "start": "557480",
    "end": "561440"
  },
  {
    "start": "559000",
    "end": "559000"
  },
  {
    "text": "the body ultimately you're going to get",
    "start": "561440",
    "end": "563450"
  },
  {
    "text": "two endpoints the types of endpoints are",
    "start": "563450",
    "end": "566630"
  },
  {
    "text": "either just low-level IP address or",
    "start": "566630",
    "end": "569480"
  },
  {
    "text": "cname somewhere else or more integrated",
    "start": "569480",
    "end": "573050"
  },
  {
    "text": "so there's support for lb classic or",
    "start": "573050",
    "end": "576740"
  },
  {
    "text": "application load balancers s3 website",
    "start": "576740",
    "end": "579650"
  },
  {
    "text": "CloudFront distribution elastic",
    "start": "579650",
    "end": "582380"
  },
  {
    "text": "beanstalk environments and if you use",
    "start": "582380",
    "end": "584690"
  },
  {
    "text": "any of those then you get health",
    "start": "584690",
    "end": "586340"
  },
  {
    "text": "information and you don't have to worry",
    "start": "586340",
    "end": "588590"
  },
  {
    "text": "about addresses or addresses changing",
    "start": "588590",
    "end": "590930"
  },
  {
    "text": "and so forth and a quick overview of",
    "start": "590930",
    "end": "596000"
  },
  {
    "start": "594000",
    "end": "594000"
  },
  {
    "text": "rules to connect endpoints we actually",
    "start": "596000",
    "end": "599150"
  },
  {
    "text": "use rules and we have failover there's",
    "start": "599150",
    "end": "602660"
  },
  {
    "text": "weighted round robin geolocation latency",
    "start": "602660",
    "end": "606080"
  },
  {
    "text": "and I'll actually go into each of these",
    "start": "606080",
    "end": "608690"
  },
  {
    "text": "later on let's continue with the example",
    "start": "608690",
    "end": "612800"
  },
  {
    "text": "now I went and actually added my",
    "start": "612800",
    "end": "615200"
  },
  {
    "text": "endpoint which is just a single ELB",
    "start": "615200",
    "end": "618800"
  },
  {
    "text": "that's hosting this fictitious website",
    "start": "618800",
    "end": "621890"
  },
  {
    "text": "and this this is now fully contained",
    "start": "621890",
    "end": "624500"
  },
  {
    "text": "policy then can be applied although it's",
    "start": "624500",
    "end": "627470"
  },
  {
    "text": "extremely simple so to apply it you",
    "start": "627470",
    "end": "631400"
  },
  {
    "text": "actually go and select the domain name",
    "start": "631400",
    "end": "635390"
  },
  {
    "text": "so I just type in dup dup dup in a",
    "start": "635390",
    "end": "638210"
  },
  {
    "text": "specific hosted zone and once applied it",
    "start": "638210",
    "end": "641540"
  },
  {
    "text": "becomes a this magical DNS record that",
    "start": "641540",
    "end": "646100"
  },
  {
    "text": "executes your policy any time somebody's",
    "start": "646100",
    "end": "648800"
  },
  {
    "text": "asking for it",
    "start": "648800",
    "end": "650120"
  },
  {
    "text": "and you can see here in this view a",
    "start": "650120",
    "end": "655620"
  },
  {
    "text": "summary of everything that's applied so",
    "start": "655620",
    "end": "659040"
  },
  {
    "text": "that's that's the name of the policy",
    "start": "659040",
    "end": "661140"
  },
  {
    "text": "that's the name of the record version",
    "start": "661140",
    "end": "663900"
  },
  {
    "text": "used is one so I want to go further with",
    "start": "663900",
    "end": "668910"
  },
  {
    "text": "this example but I'm gonna need to use",
    "start": "668910",
    "end": "671430"
  },
  {
    "text": "some rules so let me give you a quick",
    "start": "671430",
    "end": "673590"
  },
  {
    "text": "overview of the basic ones failover it's",
    "start": "673590",
    "end": "676710"
  },
  {
    "text": "pretty simple this is primary and",
    "start": "676710",
    "end": "679020"
  },
  {
    "text": "secondary so based on the health of",
    "start": "679020",
    "end": "681870"
  },
  {
    "text": "primary users either always go to the",
    "start": "681870",
    "end": "685140"
  },
  {
    "text": "primary path or if primary is out they",
    "start": "685140",
    "end": "688800"
  },
  {
    "text": "go to the secondary path and health",
    "start": "688800",
    "end": "691890"
  },
  {
    "text": "could be either and herded or explicitly",
    "start": "691890",
    "end": "694680"
  },
  {
    "text": "defined at every level and waited waited",
    "start": "694680",
    "end": "698490"
  },
  {
    "text": "this year round-robin across multiple",
    "start": "698490",
    "end": "700680"
  },
  {
    "text": "items which could be used for load",
    "start": "700680",
    "end": "702870"
  },
  {
    "text": "balancing the be use for just managing",
    "start": "702870",
    "end": "705810"
  },
  {
    "text": "fleet bringing bringing instances in and",
    "start": "705810",
    "end": "709410"
  },
  {
    "text": "out a be testing so forth so in my",
    "start": "709410",
    "end": "714960"
  },
  {
    "text": "example I've added that as the first",
    "start": "714960",
    "end": "717780"
  },
  {
    "text": "rule a failover rule and the primary is",
    "start": "717780",
    "end": "723000"
  },
  {
    "text": "pointing to the e lb that was the sole",
    "start": "723000",
    "end": "726660"
  },
  {
    "text": "end point before and I expanded this",
    "start": "726660",
    "end": "731430"
  },
  {
    "text": "this is actually selected by default but",
    "start": "731430",
    "end": "734550"
  },
  {
    "text": "I wanted to talk about it for a second",
    "start": "734550",
    "end": "736590"
  },
  {
    "text": "so that little check mark is saying that",
    "start": "736590",
    "end": "739080"
  },
  {
    "text": "the health information or the health",
    "start": "739080",
    "end": "741720"
  },
  {
    "text": "decision this level should be made",
    "start": "741720",
    "end": "744950"
  },
  {
    "text": "further down the flow which ultimately",
    "start": "744950",
    "end": "749070"
  },
  {
    "text": "in this example terminates at the lb and",
    "start": "749070",
    "end": "752010"
  },
  {
    "text": "LB provides its own health and secondary",
    "start": "752010",
    "end": "757170"
  },
  {
    "text": "is taking me to an f3 website which is",
    "start": "757170",
    "end": "761690"
  },
  {
    "text": "not great but better than nothing at",
    "start": "761690",
    "end": "765120"
  },
  {
    "text": "least I can say sorry or something so",
    "start": "765120",
    "end": "769650"
  },
  {
    "start": "769000",
    "end": "769000"
  },
  {
    "text": "once I've created this better version of",
    "start": "769650",
    "end": "772140"
  },
  {
    "text": "the policy it's time to apply it and",
    "start": "772140",
    "end": "775860"
  },
  {
    "text": "this is another important step that's",
    "start": "775860",
    "end": "779220"
  },
  {
    "text": "made easy by traffic flow",
    "start": "779220",
    "end": "780850"
  },
  {
    "text": "because I just go and edit the existing",
    "start": "780850",
    "end": "783279"
  },
  {
    "text": "record and I choose a different version",
    "start": "783279",
    "end": "786250"
  },
  {
    "text": "and I can apply it completely atomically",
    "start": "786250",
    "end": "790060"
  },
  {
    "text": "so users will never see any intermediate",
    "start": "790060",
    "end": "794230"
  },
  {
    "text": "changes they will switch from version",
    "start": "794230",
    "end": "797709"
  },
  {
    "text": "one to version two based on TTL",
    "start": "797709",
    "end": "800709"
  },
  {
    "text": "expiration or when they end up query and",
    "start": "800709",
    "end": "806670"
  },
  {
    "text": "that's that's the existing policy record",
    "start": "806670",
    "end": "812310"
  },
  {
    "text": "that I've created previously with",
    "start": "812310",
    "end": "814600"
  },
  {
    "text": "version one so in my example I didn't",
    "start": "814600",
    "end": "819670"
  },
  {
    "text": "really get into the more complex",
    "start": "819670",
    "end": "822250"
  },
  {
    "text": "scenarios and we'll look at one in the",
    "start": "822250",
    "end": "825940"
  },
  {
    "text": "case study so before we get there I",
    "start": "825940",
    "end": "828819"
  },
  {
    "text": "wanted to give you an overview the",
    "start": "828819",
    "end": "831060"
  },
  {
    "text": "geolocation or Jian rule that routes",
    "start": "831060",
    "end": "835089"
  },
  {
    "text": "traffic based on the user's location and",
    "start": "835089",
    "end": "838480"
  },
  {
    "text": "the way we reason about the location is",
    "start": "838480",
    "end": "840930"
  },
  {
    "text": "this tuple of continent country and",
    "start": "840930",
    "end": "844029"
  },
  {
    "text": "subdivision and it could be as specific",
    "start": "844029",
    "end": "848319"
  },
  {
    "text": "as subdivision which is something like",
    "start": "848319",
    "end": "850810"
  },
  {
    "text": "state within the US or it could be as",
    "start": "850810",
    "end": "854380"
  },
  {
    "text": "general as a continent which is",
    "start": "854380",
    "end": "856540"
  },
  {
    "text": "something like Europe and gia is used",
    "start": "856540",
    "end": "860769"
  },
  {
    "text": "for variety of scenarios you can have",
    "start": "860769",
    "end": "864459"
  },
  {
    "text": "endpoints with specialized content you",
    "start": "864459",
    "end": "867490"
  },
  {
    "text": "can use this as a strategy to balance",
    "start": "867490",
    "end": "870029"
  },
  {
    "text": "traffic globally between different data",
    "start": "870029",
    "end": "872439"
  },
  {
    "text": "centers different regions and you can",
    "start": "872439",
    "end": "876220"
  },
  {
    "text": "also in certain cases pre optimize your",
    "start": "876220",
    "end": "880300"
  },
  {
    "text": "network link if you're at that level and",
    "start": "880300",
    "end": "882399"
  },
  {
    "text": "you care about specific countries going",
    "start": "882399",
    "end": "885389"
  },
  {
    "text": "over specific transit and so forth that",
    "start": "885389",
    "end": "888339"
  },
  {
    "text": "you have set up so under the hood",
    "start": "888339",
    "end": "893050"
  },
  {
    "start": "891000",
    "end": "891000"
  },
  {
    "text": "how does geo actually work at the DNS",
    "start": "893050",
    "end": "895959"
  },
  {
    "text": "level first step is route 33 will",
    "start": "895959",
    "end": "899170"
  },
  {
    "text": "identify the request so who's who's",
    "start": "899170",
    "end": "902500"
  },
  {
    "text": "making the DNS request and this is what",
    "start": "902500",
    "end": "906279"
  },
  {
    "text": "we get is a DNS resolver address and if",
    "start": "906279",
    "end": "909970"
  },
  {
    "text": "the resolver supports it and supplies it",
    "start": "909970",
    "end": "912130"
  },
  {
    "text": "and we get the",
    "start": "912130",
    "end": "913630"
  },
  {
    "text": "zero client subnet and then we checked",
    "start": "913630",
    "end": "918880"
  },
  {
    "text": "the geo database for location and again",
    "start": "918880",
    "end": "922420"
  },
  {
    "text": "location is continent country of",
    "start": "922420",
    "end": "924070"
  },
  {
    "text": "subdivision and find the most specific",
    "start": "924070",
    "end": "927220"
  },
  {
    "text": "entry that was defined in the geo rule",
    "start": "927220",
    "end": "930630"
  },
  {
    "text": "most specific healthy entry I should say",
    "start": "930630",
    "end": "933400"
  },
  {
    "text": "and match the location to it so for",
    "start": "933400",
    "end": "938050"
  },
  {
    "text": "example if you've only had an item",
    "start": "938050",
    "end": "940150"
  },
  {
    "text": "defined for Europe but a client is",
    "start": "940150",
    "end": "943600"
  },
  {
    "text": "coming for France they'll still match",
    "start": "943600",
    "end": "945700"
  },
  {
    "text": "that provided there is healthy another",
    "start": "945700",
    "end": "950410"
  },
  {
    "start": "949000",
    "end": "949000"
  },
  {
    "text": "advance rule type is latency and this",
    "start": "950410",
    "end": "954430"
  },
  {
    "text": "simply routes users to the closest AWS",
    "start": "954430",
    "end": "958150"
  },
  {
    "text": "region based on actual network latency",
    "start": "958150",
    "end": "961120"
  },
  {
    "text": "which is does not always correlate with",
    "start": "961120",
    "end": "964270"
  },
  {
    "text": "geographical location and this is just a",
    "start": "964270",
    "end": "967540"
  },
  {
    "text": "good default choice for routing between",
    "start": "967540",
    "end": "969550"
  },
  {
    "text": "endpoints that are all in the regions so",
    "start": "969550",
    "end": "972520"
  },
  {
    "text": "it's good to optimize for latency if you",
    "start": "972520",
    "end": "975310"
  },
  {
    "text": "don't have other considerations how this",
    "start": "975310",
    "end": "978610"
  },
  {
    "text": "latency work first step is similar",
    "start": "978610",
    "end": "982570"
  },
  {
    "text": "identify the request then route 53 will",
    "start": "982570",
    "end": "986500"
  },
  {
    "text": "check its latency database for",
    "start": "986500",
    "end": "989790"
  },
  {
    "text": "preference order of all the regions for",
    "start": "989790",
    "end": "993490"
  },
  {
    "text": "that client and then go to the top",
    "start": "993490",
    "end": "996430"
  },
  {
    "text": "healthy choice among the items that",
    "start": "996430",
    "end": "998770"
  },
  {
    "text": "you've actually defined for your rule in",
    "start": "998770",
    "end": "1001200"
  },
  {
    "text": "your policy and if the closest endpoint",
    "start": "1001200",
    "end": "1005220"
  },
  {
    "text": "or the closest path in the traffic flow",
    "start": "1005220",
    "end": "1008940"
  },
  {
    "text": "policy is unhealthy it will go to the",
    "start": "1008940",
    "end": "1012090"
  },
  {
    "text": "next best choice where do we get the",
    "start": "1012090",
    "end": "1016590"
  },
  {
    "start": "1014000",
    "end": "1014000"
  },
  {
    "text": "latency layer from Amazon runs a",
    "start": "1016590",
    "end": "1020040"
  },
  {
    "text": "large-scale experimentation system so",
    "start": "1020040",
    "end": "1022830"
  },
  {
    "text": "we're using various web properties and",
    "start": "1022830",
    "end": "1025760"
  },
  {
    "text": "real end-users to measure latency to",
    "start": "1025760",
    "end": "1030329"
  },
  {
    "text": "different AWS regions then we relate",
    "start": "1030329",
    "end": "1034410"
  },
  {
    "text": "this latency data to the DNS resolvers",
    "start": "1034410",
    "end": "1037790"
  },
  {
    "text": "that users came through and the output",
    "start": "1037790",
    "end": "1042180"
  },
  {
    "text": "is this internal database which Maps",
    "start": "1042180",
    "end": "1044670"
  },
  {
    "text": "every IP address that we've seen",
    "start": "1044670",
    "end": "1047010"
  },
  {
    "text": "to this region preference vector of all",
    "start": "1047010",
    "end": "1050280"
  },
  {
    "text": "the regions that the vs has run T 3 also",
    "start": "1050280",
    "end": "1057420"
  },
  {
    "text": "provides this useful little tool for",
    "start": "1057420",
    "end": "1060840"
  },
  {
    "text": "reasoning about a distributed user base",
    "start": "1060840",
    "end": "1064160"
  },
  {
    "text": "this is simple what if testing so what",
    "start": "1064160",
    "end": "1068100"
  },
  {
    "text": "if a client comes from IP X what will",
    "start": "1068100",
    "end": "1072330"
  },
  {
    "text": "they see with my record this works for",
    "start": "1072330",
    "end": "1075570"
  },
  {
    "text": "traffic flow policy records or just",
    "start": "1075570",
    "end": "1079260"
  },
  {
    "text": "regular records and the easiest way to",
    "start": "1079260",
    "end": "1082770"
  },
  {
    "text": "get there is just in the route 53 hosted",
    "start": "1082770",
    "end": "1086220"
  },
  {
    "text": "zones view you can select the record",
    "start": "1086220",
    "end": "1089490"
  },
  {
    "start": "1087000",
    "end": "1087000"
  },
  {
    "text": "that you care to test and there's a test",
    "start": "1089490",
    "end": "1092760"
  },
  {
    "text": "record set button and obviously this is",
    "start": "1092760",
    "end": "1095370"
  },
  {
    "text": "in the API as well so now let's look at",
    "start": "1095370",
    "end": "1101730"
  },
  {
    "text": "a real world example of using traffic",
    "start": "1101730",
    "end": "1105060"
  },
  {
    "text": "flow it's probably no surprise that AWS",
    "start": "1105060",
    "end": "1110850"
  },
  {
    "text": "and I was on retail I highly",
    "start": "1110850",
    "end": "1113930"
  },
  {
    "text": "operationally focused organizations and",
    "start": "1113930",
    "end": "1117410"
  },
  {
    "text": "one thing that enabled us to have the",
    "start": "1117410",
    "end": "1120780"
  },
  {
    "text": "strong performance that we've had is",
    "start": "1120780",
    "end": "1123980"
  },
  {
    "text": "24/7 on-call and in order for operators",
    "start": "1123980",
    "end": "1128100"
  },
  {
    "text": "to be able to connect they use the VPN",
    "start": "1128100",
    "end": "1131450"
  },
  {
    "text": "that's used to support all of our",
    "start": "1131450",
    "end": "1133620"
  },
  {
    "text": "services and then the issue becomes how",
    "start": "1133620",
    "end": "1138060"
  },
  {
    "text": "to manage endpoints for end-users to be",
    "start": "1138060",
    "end": "1141510"
  },
  {
    "text": "able to connect to the VPN this whole",
    "start": "1141510",
    "end": "1143940"
  },
  {
    "text": "thing is a multi regional highly",
    "start": "1143940",
    "end": "1146910"
  },
  {
    "text": "available obviously service it's a good",
    "start": "1146910",
    "end": "1149790"
  },
  {
    "text": "example so the challenge legacy system",
    "start": "1149790",
    "end": "1155820"
  },
  {
    "start": "1152000",
    "end": "1152000"
  },
  {
    "text": "was built with a bunch of limitations",
    "start": "1155820",
    "end": "1159320"
  },
  {
    "text": "the main problem was that region",
    "start": "1159320",
    "end": "1163020"
  },
  {
    "text": "selection was done by end users",
    "start": "1163020",
    "end": "1164540"
  },
  {
    "text": "themselves sort of like that very old",
    "start": "1164540",
    "end": "1167970"
  },
  {
    "text": "example I made in an earlier slide and",
    "start": "1167970",
    "end": "1171060"
  },
  {
    "text": "this resulted in VPN servers that would",
    "start": "1171060",
    "end": "1174990"
  },
  {
    "text": "get overloaded",
    "start": "1174990",
    "end": "1176559"
  },
  {
    "text": "would become hotspots so they're more",
    "start": "1176559",
    "end": "1178600"
  },
  {
    "text": "likely to fail or just get slow and also",
    "start": "1178600",
    "end": "1185129"
  },
  {
    "text": "there was no way to handle false so",
    "start": "1185129",
    "end": "1188289"
  },
  {
    "text": "false had to be handled by clients",
    "start": "1188289",
    "end": "1190840"
  },
  {
    "text": "themselves to switch to a healthy server",
    "start": "1190840",
    "end": "1193360"
  },
  {
    "text": "from one that's failing and if you've",
    "start": "1193360",
    "end": "1196179"
  },
  {
    "text": "ever connected to a VPN and you know how",
    "start": "1196179",
    "end": "1198580"
  },
  {
    "text": "terrible of a user experience it could",
    "start": "1198580",
    "end": "1201039"
  },
  {
    "text": "be and how important responsiveness is",
    "start": "1201039",
    "end": "1205590"
  },
  {
    "text": "what did the VPN team do what what",
    "start": "1205799",
    "end": "1209799"
  },
  {
    "text": "they've done was they were able to model",
    "start": "1209799",
    "end": "1211960"
  },
  {
    "text": "the desired flow based on the available",
    "start": "1211960",
    "end": "1214659"
  },
  {
    "text": "endpoints that they had then take that",
    "start": "1214659",
    "end": "1217269"
  },
  {
    "text": "conceptual model and just straight put",
    "start": "1217269",
    "end": "1220539"
  },
  {
    "text": "it into a traffic policy their model was",
    "start": "1220539",
    "end": "1224619"
  },
  {
    "text": "built around this concept so first",
    "start": "1224619",
    "end": "1227470"
  },
  {
    "text": "there's differentiation based on users",
    "start": "1227470",
    "end": "1230259"
  },
  {
    "text": "country and by default the majority of",
    "start": "1230259",
    "end": "1233950"
  },
  {
    "text": "the worldwide traffic could just go to",
    "start": "1233950",
    "end": "1236110"
  },
  {
    "text": "one of the regions so can go to the",
    "start": "1236110",
    "end": "1238450"
  },
  {
    "text": "second stage which defines a rule for",
    "start": "1238450",
    "end": "1242409"
  },
  {
    "text": "each of the regions however there are",
    "start": "1242409",
    "end": "1245639"
  },
  {
    "text": "there's a shortlist of countries where",
    "start": "1245639",
    "end": "1248169"
  },
  {
    "text": "there isn't a region yet but that are",
    "start": "1248169",
    "end": "1251409"
  },
  {
    "text": "important for VPN connectivity and those",
    "start": "1251409",
    "end": "1254559"
  },
  {
    "text": "are defined separately as exceptions and",
    "start": "1254559",
    "end": "1258419"
  },
  {
    "text": "the last step is as a round-robin across",
    "start": "1258419",
    "end": "1262539"
  },
  {
    "text": "the actual VPN servers because each",
    "start": "1262539",
    "end": "1265210"
  },
  {
    "text": "location would have at least several",
    "start": "1265210",
    "end": "1267809"
  },
  {
    "text": "this is just a general good example of a",
    "start": "1267809",
    "end": "1271119"
  },
  {
    "text": "hybrid infrastructure working so it's",
    "start": "1271119",
    "end": "1273369"
  },
  {
    "text": "not completely in AWS so what does this",
    "start": "1273369",
    "end": "1277389"
  },
  {
    "text": "policy actually look like the first step",
    "start": "1277389",
    "end": "1281490"
  },
  {
    "text": "so it's again we're talking about before",
    "start": "1281490",
    "end": "1285240"
  },
  {
    "text": "addresses here first step is a",
    "start": "1285240",
    "end": "1287980"
  },
  {
    "text": "geolocation rule and it has a default",
    "start": "1287980",
    "end": "1291039"
  },
  {
    "text": "item which is going to take people to",
    "start": "1291039",
    "end": "1295210"
  },
  {
    "text": "the region selection and it has an item",
    "start": "1295210",
    "end": "1299350"
  },
  {
    "text": "for each of the other countries and",
    "start": "1299350",
    "end": "1302610"
  },
  {
    "text": "again we're just kicking the can down",
    "start": "1302610",
    "end": "1306009"
  },
  {
    "text": "the road and saying evaluate target",
    "start": "1306009",
    "end": "1308470"
  },
  {
    "text": "health that will be",
    "start": "1308470",
    "end": "1309690"
  },
  {
    "text": "later reagent selection is based on the",
    "start": "1309690",
    "end": "1314490"
  },
  {
    "start": "1311000",
    "end": "1311000"
  },
  {
    "text": "latency rule and this defines an item",
    "start": "1314490",
    "end": "1319470"
  },
  {
    "text": "for each of the regions because they're",
    "start": "1319470",
    "end": "1321659"
  },
  {
    "text": "widely deployed so each of the regions",
    "start": "1321659",
    "end": "1326990"
  },
  {
    "text": "is actually selected and takes you to",
    "start": "1326990",
    "end": "1332159"
  },
  {
    "text": "the right path which is the final step",
    "start": "1332159",
    "end": "1336929"
  },
  {
    "start": "1334000",
    "end": "1334000"
  },
  {
    "text": "server selection within the region or",
    "start": "1336929",
    "end": "1340139"
  },
  {
    "text": "within the country service or selection",
    "start": "1340139",
    "end": "1342929"
  },
  {
    "text": "is based on a weighted rule and a",
    "start": "1342929",
    "end": "1346049"
  },
  {
    "text": "weighted rule can account for different",
    "start": "1346049",
    "end": "1348419"
  },
  {
    "text": "sized hosts so there are a bunch of",
    "start": "1348419",
    "end": "1350970"
  },
  {
    "text": "different weights defined for each of",
    "start": "1350970",
    "end": "1353490"
  },
  {
    "text": "the items and each of the items",
    "start": "1353490",
    "end": "1356000"
  },
  {
    "text": "corresponds to one of the end points",
    "start": "1356000",
    "end": "1359330"
  },
  {
    "text": "looking closer at an end point that's",
    "start": "1359330",
    "end": "1363389"
  },
  {
    "start": "1360000",
    "end": "1360000"
  },
  {
    "text": "what goes into it there's the weight and",
    "start": "1363389",
    "end": "1365570"
  },
  {
    "text": "by the way in this example the weights",
    "start": "1365570",
    "end": "1367950"
  },
  {
    "text": "added up to a hundred they don't have to",
    "start": "1367950",
    "end": "1370740"
  },
  {
    "text": "it's just relative hundred it's easier",
    "start": "1370740",
    "end": "1373049"
  },
  {
    "text": "for humans to reason about and this",
    "start": "1373049",
    "end": "1377100"
  },
  {
    "text": "thing is different here we're actually",
    "start": "1377100",
    "end": "1380129"
  },
  {
    "text": "defining a health check at this point",
    "start": "1380129",
    "end": "1382409"
  },
  {
    "text": "and the reason is that further down this",
    "start": "1382409",
    "end": "1385230"
  },
  {
    "text": "flow there's only the end point and this",
    "start": "1385230",
    "end": "1387929"
  },
  {
    "text": "end point is a VPN server so it's it's",
    "start": "1387929",
    "end": "1392009"
  },
  {
    "text": "an external end point that doesn't come",
    "start": "1392009",
    "end": "1394500"
  },
  {
    "text": "with its own health check and AWS so you",
    "start": "1394500",
    "end": "1398309"
  },
  {
    "text": "have to create the health check for it",
    "start": "1398309",
    "end": "1400309"
  },
  {
    "text": "and when the health check is unhealthy",
    "start": "1400309",
    "end": "1404120"
  },
  {
    "text": "effectively the weight goes to zero so",
    "start": "1404120",
    "end": "1407059"
  },
  {
    "text": "this item is taken out of the set but",
    "start": "1407059",
    "end": "1410669"
  },
  {
    "text": "the weights are still in effect for",
    "start": "1410669",
    "end": "1414090"
  },
  {
    "text": "every other item finally end point",
    "start": "1414090",
    "end": "1418169"
  },
  {
    "text": "itself in this case is simply an AP",
    "start": "1418169",
    "end": "1420750"
  },
  {
    "text": "address to the server so benefits they",
    "start": "1420750",
    "end": "1427799"
  },
  {
    "text": "could account for different size holes",
    "start": "1427799",
    "end": "1430490"
  },
  {
    "text": "which means that lower capacity devices",
    "start": "1430490",
    "end": "1433740"
  },
  {
    "text": "are not overloaded and this improved the",
    "start": "1433740",
    "end": "1437429"
  },
  {
    "text": "amount of available bandwidth per user",
    "start": "1437429",
    "end": "1439740"
  },
  {
    "text": "and VPN as well which is great",
    "start": "1439740",
    "end": "1444259"
  },
  {
    "start": "1444000",
    "end": "1444000"
  },
  {
    "text": "for health checking the the benefit",
    "start": "1444420",
    "end": "1447340"
  },
  {
    "text": "that's that's brought is is quite",
    "start": "1447340",
    "end": "1451240"
  },
  {
    "text": "important too",
    "start": "1451240",
    "end": "1452260"
  },
  {
    "text": "because in the past a user would just",
    "start": "1452260",
    "end": "1454660"
  },
  {
    "text": "get an error and they would have to",
    "start": "1454660",
    "end": "1457540"
  },
  {
    "text": "retry they would have to choose a",
    "start": "1457540",
    "end": "1459280"
  },
  {
    "text": "different choice now they just get",
    "start": "1459280",
    "end": "1461500"
  },
  {
    "text": "connected to VPN and the rule will",
    "start": "1461500",
    "end": "1465700"
  },
  {
    "text": "actually also direct users to the",
    "start": "1465700",
    "end": "1467440"
  },
  {
    "text": "closest LC like I mentioned before so",
    "start": "1467440",
    "end": "1471220"
  },
  {
    "text": "when they try to establish a connection",
    "start": "1471220",
    "end": "1472920"
  },
  {
    "text": "they will get one it may not be the best",
    "start": "1472920",
    "end": "1475780"
  },
  {
    "text": "one if the best one is down but they",
    "start": "1475780",
    "end": "1477850"
  },
  {
    "text": "will get one and again you have to",
    "start": "1477850",
    "end": "1480030"
  },
  {
    "text": "manage your own health if it's a hybrid",
    "start": "1480030",
    "end": "1483160"
  },
  {
    "text": "scenario so let's take a deeper look at",
    "start": "1483160",
    "end": "1488350"
  },
  {
    "text": "failover for a minute since I mentioned",
    "start": "1488350",
    "end": "1491290"
  },
  {
    "text": "how important it is route 53 health",
    "start": "1491290",
    "end": "1494350"
  },
  {
    "text": "checks provide a predictable failover",
    "start": "1494350",
    "end": "1496930"
  },
  {
    "text": "window and by window I mean the time",
    "start": "1496930",
    "end": "1500770"
  },
  {
    "text": "between failure and the actual shift of",
    "start": "1500770",
    "end": "1505270"
  },
  {
    "text": "traffic away from that endpoint so the",
    "start": "1505270",
    "end": "1509320"
  },
  {
    "text": "window is has several components to it",
    "start": "1509320",
    "end": "1512440"
  },
  {
    "text": "first there's the detection piece is",
    "start": "1512440",
    "end": "1516000"
  },
  {
    "text": "based on the interval this is",
    "start": "1516000",
    "end": "1518350"
  },
  {
    "text": "configurable so it currently can choose",
    "start": "1518350",
    "end": "1520810"
  },
  {
    "text": "either 30 or 10 seconds so every 10",
    "start": "1520810",
    "end": "1524410"
  },
  {
    "text": "seconds there will be a health check",
    "start": "1524410",
    "end": "1526210"
  },
  {
    "text": "from each of the locations that we",
    "start": "1526210",
    "end": "1528370"
  },
  {
    "text": "health check from times the failure",
    "start": "1528370",
    "end": "1531520"
  },
  {
    "text": "threshold how many consecutive failures",
    "start": "1531520",
    "end": "1534610"
  },
  {
    "text": "you're willing to see before you",
    "start": "1534610",
    "end": "1536680"
  },
  {
    "text": "consider that endpoint down the minimum",
    "start": "1536680",
    "end": "1539950"
  },
  {
    "text": "is one then there's there's a bit of",
    "start": "1539950",
    "end": "1543870"
  },
  {
    "text": "just system overhead for aggregation",
    "start": "1543870",
    "end": "1546790"
  },
  {
    "text": "time we typically check from 16",
    "start": "1546790",
    "end": "1550990"
  },
  {
    "text": "different locations in the world so",
    "start": "1550990",
    "end": "1553320"
  },
  {
    "text": "there's there's a bit of aggregation and",
    "start": "1553320",
    "end": "1556530"
  },
  {
    "text": "finally and importantly the biggest",
    "start": "1556530",
    "end": "1559600"
  },
  {
    "text": "component typically is the record TTL",
    "start": "1559600",
    "end": "1562480"
  },
  {
    "text": "and 60 seconds is typical for the",
    "start": "1562480",
    "end": "1565570"
  },
  {
    "text": "dynamic domain names you can go lower",
    "start": "1565570",
    "end": "1569220"
  },
  {
    "text": "the LS resolvers don't always respect it",
    "start": "1569220",
    "end": "1572170"
  },
  {
    "text": "you get to a minimum of",
    "start": "1572170",
    "end": "1575789"
  },
  {
    "text": "seventy to ninety seconds depending",
    "start": "1575789",
    "end": "1578580"
  },
  {
    "text": "obviously on the interval and it's not",
    "start": "1578580",
    "end": "1581369"
  },
  {
    "text": "exact because like I said health",
    "start": "1581369",
    "end": "1584460"
  },
  {
    "text": "checking is done from multiple locations",
    "start": "1584460",
    "end": "1586649"
  },
  {
    "text": "and then those locations and up voting",
    "start": "1586649",
    "end": "1590519"
  },
  {
    "text": "between themselves to decide if the",
    "start": "1590519",
    "end": "1592830"
  },
  {
    "text": "outcome is healthy or not so a little",
    "start": "1592830",
    "end": "1596820"
  },
  {
    "text": "fuzzy and we talked about the failover",
    "start": "1596820",
    "end": "1600720"
  },
  {
    "start": "1598000",
    "end": "1598000"
  },
  {
    "text": "window but another thing to consider is",
    "start": "1600720",
    "end": "1604379"
  },
  {
    "text": "that you can avoid it altogether if you",
    "start": "1604379",
    "end": "1608729"
  },
  {
    "text": "have planned downtime and it's a better",
    "start": "1608729",
    "end": "1611009"
  },
  {
    "text": "idea to actually lap traffic drain and",
    "start": "1611009",
    "end": "1614099"
  },
  {
    "text": "that way you first of all avoid the",
    "start": "1614099",
    "end": "1617029"
  },
  {
    "text": "window and secondly you don't have to",
    "start": "1617029",
    "end": "1619979"
  },
  {
    "text": "deal with those non-conforming DNS",
    "start": "1619979",
    "end": "1621809"
  },
  {
    "text": "resolvers that may not be respecting the",
    "start": "1621809",
    "end": "1624570"
  },
  {
    "text": "TTL and they keep hitting the server",
    "start": "1624570",
    "end": "1626639"
  },
  {
    "text": "that's down for much longer than you",
    "start": "1626639",
    "end": "1628739"
  },
  {
    "text": "wanted them to and the steps to that",
    "start": "1628739",
    "end": "1631710"
  },
  {
    "text": "would be first you update the policy",
    "start": "1631710",
    "end": "1634409"
  },
  {
    "text": "record remove that end point from DNS",
    "start": "1634409",
    "end": "1636899"
  },
  {
    "text": "either wait it out or remove it",
    "start": "1636899",
    "end": "1639330"
  },
  {
    "text": "depending on what you want to do",
    "start": "1639330",
    "end": "1642289"
  },
  {
    "text": "obviously apply the new version then",
    "start": "1642289",
    "end": "1645960"
  },
  {
    "text": "wait for the server request metric to go",
    "start": "1645960",
    "end": "1648479"
  },
  {
    "text": "down to the level that you're",
    "start": "1648479",
    "end": "1649769"
  },
  {
    "text": "comfortable with and this will be a",
    "start": "1649769",
    "end": "1652940"
  },
  {
    "text": "server specific metric that that is at",
    "start": "1652940",
    "end": "1657269"
  },
  {
    "text": "the application level and then finally",
    "start": "1657269",
    "end": "1659940"
  },
  {
    "text": "you can deactivate the server and one",
    "start": "1659940",
    "end": "1664440"
  },
  {
    "text": "thing you may have noticed if you were",
    "start": "1664440",
    "end": "1666059"
  },
  {
    "text": "paying attention to the case study is",
    "start": "1666059",
    "end": "1668070"
  },
  {
    "text": "that with all this talk of availability",
    "start": "1668070",
    "end": "1671009"
  },
  {
    "text": "we actually created a bit of a circular",
    "start": "1671009",
    "end": "1673830"
  },
  {
    "text": "dependency so a reminder that when the",
    "start": "1673830",
    "end": "1678840"
  },
  {
    "text": "designing for high availability don't",
    "start": "1678840",
    "end": "1681509"
  },
  {
    "text": "forget a way to break out of the cycle",
    "start": "1681509",
    "end": "1683669"
  },
  {
    "text": "which the VPN team did because the the",
    "start": "1683669",
    "end": "1687359"
  },
  {
    "text": "client there's a way for it to",
    "start": "1687359",
    "end": "1689190"
  },
  {
    "text": "completely bypass route 53 so route 53",
    "start": "1689190",
    "end": "1693119"
  },
  {
    "text": "operators can can go and connect in a",
    "start": "1693119",
    "end": "1697349"
  },
  {
    "text": "direct way if they have to",
    "start": "1697349",
    "end": "1700729"
  },
  {
    "start": "1700000",
    "end": "1700000"
  },
  {
    "text": "and last but not least there is a",
    "start": "1701250",
    "end": "1705090"
  },
  {
    "text": "benefit of easier ongoing management so",
    "start": "1705090",
    "end": "1709549"
  },
  {
    "text": "management that you capabilities that",
    "start": "1709549",
    "end": "1712440"
  },
  {
    "text": "you get the traffic flow are such that",
    "start": "1712440",
    "end": "1715260"
  },
  {
    "text": "you can see the versions versions",
    "start": "1715260",
    "end": "1718890"
  },
  {
    "text": "themselves are immutable you always",
    "start": "1718890",
    "end": "1720840"
  },
  {
    "text": "create a new version when you add it so",
    "start": "1720840",
    "end": "1723270"
  },
  {
    "text": "there's always a history and you can",
    "start": "1723270",
    "end": "1727070"
  },
  {
    "text": "tell quickly which version is actually",
    "start": "1727070",
    "end": "1731100"
  },
  {
    "text": "currently applied you can roll back or",
    "start": "1731100",
    "end": "1733860"
  },
  {
    "text": "roll forward atomically to any other",
    "start": "1733860",
    "end": "1737850"
  },
  {
    "text": "different version and for the vdn team",
    "start": "1737850",
    "end": "1743159"
  },
  {
    "start": "1740000",
    "end": "1740000"
  },
  {
    "text": "this streamline they're scaling their",
    "start": "1743159",
    "end": "1745679"
  },
  {
    "text": "maintenance planning and execution and",
    "start": "1745679",
    "end": "1749030"
  },
  {
    "text": "perhaps more importantly eliminated",
    "start": "1749030",
    "end": "1752429"
  },
  {
    "text": "downtime for maintenance users don't see",
    "start": "1752429",
    "end": "1756419"
  },
  {
    "text": "impact when something happens to the",
    "start": "1756419",
    "end": "1759390"
  },
  {
    "text": "servers or servers come in or out so",
    "start": "1759390",
    "end": "1765770"
  },
  {
    "text": "thanks for listening as I mentioned",
    "start": "1765770",
    "end": "1768450"
  },
  {
    "text": "there are other related talks that will",
    "start": "1768450",
    "end": "1773340"
  },
  {
    "text": "actually tell you about the elbe and so",
    "start": "1773340",
    "end": "1776309"
  },
  {
    "text": "forth if you have a minute take this",
    "start": "1776309",
    "end": "1779820"
  },
  {
    "text": "simple survey and then find us in our",
    "start": "1779820",
    "end": "1782640"
  },
  {
    "text": "booth and get a t-shirt we would",
    "start": "1782640",
    "end": "1785520"
  },
  {
    "text": "appreciate that and with that we have",
    "start": "1785520",
    "end": "1790799"
  },
  {
    "text": "time for questions thanks again",
    "start": "1790799",
    "end": "1794630"
  },
  {
    "text": "you",
    "start": "1798340",
    "end": "1800400"
  }
]