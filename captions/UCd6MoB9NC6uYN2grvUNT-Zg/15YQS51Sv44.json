[
  {
    "start": "0",
    "end": "147000"
  },
  {
    "text": "oh and let me know if you can see my screen you should be able to okay",
    "start": "0",
    "end": "7410"
  },
  {
    "text": "awesome so essentially what we were doing last time is trying to finish the",
    "start": "7410",
    "end": "13049"
  },
  {
    "text": "booking process I'm gonna show you how the visually what is that the front end looks like right now after we done all",
    "start": "13049",
    "end": "19529"
  },
  {
    "text": "the work we've done for the previous episode and offline and then I will show you how we've done it where we failed",
    "start": "19529",
    "end": "26490"
  },
  {
    "text": "how we recovered and what we learned so every every Wednesday we have flights in",
    "start": "26490",
    "end": "33989"
  },
  {
    "text": "here if you always search for London Gatwick and Madrid there's nothing special about that not because I live in",
    "start": "33989",
    "end": "39270"
  },
  {
    "text": "London or because Madrid is dream just Kochi Wednesday and if you search for a flight",
    "start": "39270",
    "end": "45890"
  },
  {
    "text": "you should be able to see let me just do not disturb just in case just in case",
    "start": "45890",
    "end": "51829"
  },
  {
    "text": "you should be able to see a flight like this if you select a flight it will ask",
    "start": "51829",
    "end": "56850"
  },
  {
    "text": "you some details about your card payment how would you like to do that sort of thing so if I just do this and select for a",
    "start": "56850",
    "end": "65189"
  },
  {
    "text": "particular postcode it could be anything so that's why I see the autocomplete we're not doing any validation on that",
    "start": "65189",
    "end": "71159"
  },
  {
    "text": "because the card we are using is it's a fake card so just to this ayah has to be",
    "start": "71159",
    "end": "78869"
  },
  {
    "text": "something the feature and if we just say agree and pay this is the part we didn't",
    "start": "78869",
    "end": "85049"
  },
  {
    "text": "have before we're now doing a pre authorization charge we then kick off a step functions to create a new booking",
    "start": "85049",
    "end": "91829"
  },
  {
    "text": "for instance and then we send an email saying hey by the way we just got a new booking for you as you can see we just",
    "start": "91829",
    "end": "97439"
  },
  {
    "text": "got a new booking we could just go and drive around and see what the booking looks like that Simon by the way he did",
    "start": "97439",
    "end": "103950"
  },
  {
    "text": "some of the actually he did all the coding for the lawyer to serviced are we gonna show to that and I should be able",
    "start": "103950",
    "end": "110369"
  },
  {
    "text": "to cancel flight and do a check-in things like this awesome so basically if",
    "start": "110369",
    "end": "120240"
  },
  {
    "text": "I if I go now - let's go refresh just in case because I didn't add any futures on",
    "start": "120240",
    "end": "126030"
  },
  {
    "text": "the booking has to be confirmed so if I go right here now I should be able to see I have an",
    "start": "126030",
    "end": "131819"
  },
  {
    "text": "you booking confirmation in place but much the same isn't here let's go chew",
    "start": "131819",
    "end": "137489"
  },
  {
    "text": "let's go to step functions first that's where we we couldn't get it working and to show you how it looks now and how we",
    "start": "137489",
    "end": "145200"
  },
  {
    "text": "fixed it so all their process should go in book that new booking goes through a",
    "start": "145200",
    "end": "152450"
  },
  {
    "start": "147000",
    "end": "180000"
  },
  {
    "text": "somewhat big step functions and that generates an automatic ID for us the front end sends a call to strike first",
    "start": "152450",
    "end": "159959"
  },
  {
    "text": "and say do a pre-authorization on this card and if that works then it will take",
    "start": "159959",
    "end": "165780"
  },
  {
    "text": "a token and will send it over to app sync API and we'll say I want you to",
    "start": "165780",
    "end": "171870"
  },
  {
    "text": "cook off a new booking here's the payment token here's the customer details and here is the flight they're",
    "start": "171870",
    "end": "178439"
  },
  {
    "text": "trying to book so if we go this now you should be able to see a step function",
    "start": "178439",
    "end": "184739"
  },
  {
    "text": "that looks more or less like this so let me try to do a zoom here we go so this",
    "start": "184739",
    "end": "191969"
  },
  {
    "text": "looks all green which makes me so happy now this the last time we did it",
    "start": "191969",
    "end": "197970"
  },
  {
    "text": "remember they Alec yeah so what we're",
    "start": "197970",
    "end": "206310"
  },
  {
    "text": "gonna see now is all that is first arrows that you see on the right do everything that's green it means all of",
    "start": "206310",
    "end": "212009"
  },
  {
    "text": "the previous steps worked successfully if they didn't work they would lose this",
    "start": "212009",
    "end": "217680"
  },
  {
    "text": "round rounds I wouldn't say rounds round arrow but still you'll be able to see",
    "start": "217680",
    "end": "223319"
  },
  {
    "text": "that the arrow keeps going two steps should clean up this process for instance if he's not able to reserve a",
    "start": "223319",
    "end": "230189"
  },
  {
    "text": "flight it will just say well we cannot book your flight unfortunately that's life but if he was able to reserve the",
    "start": "230189",
    "end": "237540"
  },
  {
    "text": "flight let's say there was a seat allocation in place and it would go straight to reserve the booking if for",
    "start": "237540",
    "end": "242969"
  },
  {
    "text": "some reason you couldn't write to the dynamodb table or something else happening between he would try to cancel",
    "start": "242969",
    "end": "249840"
  },
  {
    "text": "the booking it would change that the items you cancelled and then you release the flight seat on and on and on what we",
    "start": "249840",
    "end": "258299"
  },
  {
    "text": "couldn't do right last time was the reserved flight was working so if I go back to",
    "start": "258299",
    "end": "264669"
  },
  {
    "text": "how do I remove the visual workflow here if I click in the reserved light don't",
    "start": "264669",
    "end": "272110"
  },
  {
    "text": "worry if you choose mal I'm trying to zoom in every step you click you should",
    "start": "272110",
    "end": "277300"
  },
  {
    "text": "be able to see the input so this is exactly what we received when we started",
    "start": "277300",
    "end": "283150"
  },
  {
    "text": "that that step functions workflow we got the flight we got customer ID the chart",
    "start": "283150",
    "end": "289389"
  },
  {
    "text": "I did the tables we need to change and when exactly was it was kicked off",
    "start": "289389",
    "end": "296729"
  },
  {
    "text": "exactly and the output it was where we had issues on the output it was actually",
    "start": "298469",
    "end": "305740"
  },
  {
    "text": "a empty dictionary right like I think it was something like this",
    "start": "305740",
    "end": "311460"
  },
  {
    "text": "right yeah exactly like this so how did we fix this so if you go to the PR every",
    "start": "333900",
    "end": "342510"
  },
  {
    "text": "between every episode we create a pull request and we make all the changes that we need to make in order to fulfill the",
    "start": "342510",
    "end": "348900"
  },
  {
    "text": "promise we made to you and by the way the reason we have don't have the video is just because my CPU is like 97% so",
    "start": "348900",
    "end": "356010"
  },
  {
    "text": "I'm trying to save as much as I can say only gonna hear our voices so hope you are ok with that",
    "start": "356010",
    "end": "361440"
  },
  {
    "text": "so in this PR we explains that the first issues we had were the JSON path were",
    "start": "361440",
    "end": "368100"
  },
  {
    "text": "not expanding and it was as silly as you see the table name and then the JSON",
    "start": "368100",
    "end": "375750"
  },
  {
    "text": "path itself that wouldn't that wouldn't resolve unless we had a dot dollar first",
    "start": "375750",
    "end": "381450"
  },
  {
    "text": "and then what we actually intended to do but then we has another issue where Alec",
    "start": "381450",
    "end": "388320"
  },
  {
    "text": "and I I think was Alec it was you Alec Slobodan and also Mike who would keep we",
    "start": "388320",
    "end": "395130"
  },
  {
    "text": "kept looking at the state's machine for like five minutes and then we just covered what it was after this dream but",
    "start": "395130",
    "end": "403140"
  },
  {
    "text": "essentially what we couldn't figure it out which took a little while was how would you take the initial input which",
    "start": "403140",
    "end": "410220"
  },
  {
    "text": "basically is here that you kick off the step machine how would you take the",
    "start": "410220",
    "end": "415290"
  },
  {
    "text": "original event and propagate to every step out of the chain and in some areas",
    "start": "415290",
    "end": "421980"
  },
  {
    "text": "in some states you want you append whatever you got as a result so that",
    "start": "421980",
    "end": "428010"
  },
  {
    "text": "wasn't straightforward we we actually also have a pull request for you to make sure you update the docs for this the",
    "start": "428010",
    "end": "435150"
  },
  {
    "text": "way you do this is sometimes you don't make any changes that you were to bring you back to the state machine so what if",
    "start": "435150",
    "end": "441780"
  },
  {
    "text": "you want you propagate you do a result path no that will automatically inject",
    "start": "441780",
    "end": "447450"
  },
  {
    "text": "the same one and go forward so that's how we kind of assaulted how does it",
    "start": "447450",
    "end": "454200"
  },
  {
    "text": "look like now if I go to files changed",
    "start": "454200",
    "end": "458720"
  },
  {
    "text": "you should be able to see a lot of stuff in here go ahead Alex",
    "start": "459560",
    "end": "465260"
  },
  {
    "text": "yeah perfect I'm gonna go over it very quickly all of this folder changes we made and Alec hello he has lots of",
    "start": "478520",
    "end": "485520"
  },
  {
    "text": "questions for me so I'm just going to show you how how this looks like before deployment and how all of these works",
    "start": "485520",
    "end": "491460"
  },
  {
    "text": "have changed so if I look for if I look",
    "start": "491460",
    "end": "496980"
  },
  {
    "start": "493000",
    "end": "590000"
  },
  {
    "text": "for results path very quickly oh maybe it's not gonna show because it's",
    "start": "496980",
    "end": "503160"
  },
  {
    "text": "actually mangled let me show up in the console so if I",
    "start": "503160",
    "end": "508860"
  },
  {
    "text": "scroll down here I know it's small I'm gonna zoom in white quickly and this is",
    "start": "508860",
    "end": "515729"
  },
  {
    "text": "what you see this is what this is what exactly was missing and now if I go if I",
    "start": "515729",
    "end": "522180"
  },
  {
    "text": "go over the reserved booking and I keep on going you're gonna find in some areas we have a key if we are reserving a",
    "start": "522180",
    "end": "530490"
  },
  {
    "text": "booking we need to generate a new booking identification it's not the booking reference it's a booking ID and",
    "start": "530490",
    "end": "536570"
  },
  {
    "text": "we're gonna need that in subsequent steps so we add that back to the main",
    "start": "536570",
    "end": "542640"
  },
  {
    "text": "state and that's how we we make it work it looks silly it looks really basic but it's something that can kind of a catch",
    "start": "542640",
    "end": "549270"
  },
  {
    "text": "you when you're trying to do prototyping really quickly right so what was next",
    "start": "549270",
    "end": "555690"
  },
  {
    "text": "so let's go back in here and show you how this evolves so we got all of this data in here but we don't have any",
    "start": "555690",
    "end": "561360"
  },
  {
    "text": "booking ID if you go to your reserved booking you will see that the input looks the same but the output now has a",
    "start": "561360",
    "end": "568140"
  },
  {
    "text": "booking ID and you can see we convert it from using DynamoDB integration to",
    "start": "568140",
    "end": "573990"
  },
  {
    "text": "lambda if we go to collect payment you",
    "start": "573990",
    "end": "579120"
  },
  {
    "text": "will also see that the collect payments with we added something called received",
    "start": "579120",
    "end": "585780"
  },
  {
    "text": "URL if I copy it and paste this you're gonna see something exactly what we were",
    "start": "585780",
    "end": "591900"
  },
  {
    "start": "590000",
    "end": "943000"
  },
  {
    "text": "we were looking to achieve as well it may take a little while to show on the stream but the idea is once you collect",
    "start": "591900",
    "end": "600450"
  },
  {
    "text": "payment you also get a receipt URL from strike which means you could automatically see who you charged and",
    "start": "600450",
    "end": "609180"
  },
  {
    "text": "any particular description what was the last word and this sort of thing okay",
    "start": "609180",
    "end": "625589"
  },
  {
    "text": "so so let me let me go back in there let",
    "start": "625589",
    "end": "631839"
  },
  {
    "text": "me try to say this so ideally I can hear",
    "start": "631839",
    "end": "637089"
  },
  {
    "text": "you just fine but that's just me right",
    "start": "637089",
    "end": "640709"
  },
  {
    "text": "yeah I'm actually capturing our audio so it should work just fine",
    "start": "645540",
    "end": "651029"
  },
  {
    "text": "so can you say a few words let me just see if I can hear you",
    "start": "651029",
    "end": "658110"
  },
  {
    "text": "yeah my CP is fine my city is only 80 percent which is awesome okay oh so I",
    "start": "668200",
    "end": "688550"
  },
  {
    "text": "think I know what it is so let's just do this and do this",
    "start": "688550",
    "end": "698410"
  },
  {
    "text": "my bad everyone I'm cleaning up a few things here I think I know what it is so",
    "start": "698410",
    "end": "705400"
  },
  {
    "text": "let's see why so I see I think it's",
    "start": "705820",
    "end": "723710"
  },
  {
    "text": "because up because your audio was being captured perfectly and there's not anymore so say a few words let's see if",
    "start": "723710",
    "end": "729800"
  },
  {
    "text": "I'm capturing that file",
    "start": "729800",
    "end": "732700"
  },
  {
    "text": "okay let me know if you can here than that now you should be because I'm",
    "start": "737940",
    "end": "743440"
  },
  {
    "text": "capturing the season audio if not then I",
    "start": "743440",
    "end": "749230"
  },
  {
    "text": "can do something",
    "start": "749230",
    "end": "752010"
  },
  {
    "text": "no you cannot here no problem so let me just switch everything I have configure that's gonna be all live production",
    "start": "762529",
    "end": "769560"
  },
  {
    "text": "which is quite fun so so let me just do",
    "start": "769560",
    "end": "775620"
  },
  {
    "text": "this real quick so I'm gonna change everything now to a sorter mode okay I",
    "start": "775620",
    "end": "783330"
  },
  {
    "text": "mean if I can hear you now",
    "start": "783330",
    "end": "786529"
  },
  {
    "text": "[Laughter] that's not it's not the start it's not",
    "start": "807950",
    "end": "815760"
  },
  {
    "text": "the start we wanted",
    "start": "815760",
    "end": "818720"
  },
  {
    "text": "I think I'd see what happened now so it was the speaker because I have a headset",
    "start": "828730",
    "end": "836040"
  },
  {
    "text": "okay try to say a few words and see if it works now",
    "start": "836310",
    "end": "841170"
  },
  {
    "text": "okay so you should you should be now",
    "start": "857630",
    "end": "862880"
  },
  {
    "text": "it's kind of lame actually that's you know what I'm just gonna remove this and",
    "start": "862880",
    "end": "869490"
  },
  {
    "text": "over and I'm just gonna try we down okay",
    "start": "869490",
    "end": "883620"
  },
  {
    "text": "so how's that how's that now okay so I",
    "start": "883620",
    "end": "893880"
  },
  {
    "text": "think I like oh I'm just gonna try to I'll increase your volume and see how that goes if it doesn't we're gonna continue with you on the chat only I'm",
    "start": "893880",
    "end": "900450"
  },
  {
    "text": "sorry for that so they're not seeing",
    "start": "900450",
    "end": "910500"
  },
  {
    "text": "your video just the audio alright so",
    "start": "910500",
    "end": "924750"
  },
  {
    "text": "let's let's continue then and see whatever we can do about it yeah",
    "start": "924750",
    "end": "931460"
  },
  {
    "text": "all right so the last things we were doing were I was showing to you the",
    "start": "931460",
    "end": "936510"
  },
  {
    "text": "receipt URL and you should be able to see on my screen and if I go back to the",
    "start": "936510",
    "end": "942780"
  },
  {
    "text": "step functions it should also be seen that a confirmed booking with the next step you that was what we received and",
    "start": "942780",
    "end": "949890"
  },
  {
    "start": "943000",
    "end": "1060000"
  },
  {
    "text": "we added a booking reference okay so this is the booking reference that",
    "start": "949890",
    "end": "955080"
  },
  {
    "text": "should appear in one of those bookings so let's go back in here and see cuz i",
    "start": "955080",
    "end": "960720"
  },
  {
    "text": "for some reason i have bookings for the same day she doesn't help so let's see",
    "start": "960720",
    "end": "967050"
  },
  {
    "text": "if if we can do that sort of thing actually the first one so you can see",
    "start": "967050",
    "end": "974850"
  },
  {
    "text": "that we have the booking reference like here i forgot she did removed simon toll",
    "start": "974850",
    "end": "980580"
  },
  {
    "text": "born from static to dynamic but that's fine because he helps so much so he",
    "start": "980580",
    "end": "986850"
  },
  {
    "text": "should be on front and center anyway it's our merchandise it is and",
    "start": "986850",
    "end": "996080"
  },
  {
    "text": "also that what the important piece is that it took me a while to get to learn this track dashboard that's all",
    "start": "996080",
    "end": "1002680"
  },
  {
    "text": "Alex work I don't nothing I just integrated things if I go to the stripe dashboard if I just do a refresh we were",
    "start": "1002680",
    "end": "1009520"
  },
  {
    "text": "quick and you're gonna be able to see customers and you also be seeing some of",
    "start": "1009520",
    "end": "1014530"
  },
  {
    "text": "those charge that we collected and also charge that we refunded based on on how",
    "start": "1014530",
    "end": "1022420"
  },
  {
    "text": "the step by step functions actually behaved I kind of assimilated a few issues for instance Ryan should have no",
    "start": "1022420",
    "end": "1029980"
  },
  {
    "text": "access should write into the table and it would automatically try to refund or add a payment that would be incorrect",
    "start": "1029980",
    "end": "1038350"
  },
  {
    "text": "that sort of thing so yeah so that's that's a bit like that i refresh cool",
    "start": "1038350",
    "end": "1049000"
  },
  {
    "text": "okay you was just refreshing it it took this time so for some reason is taking its time so forgive us for the technical",
    "start": "1049000",
    "end": "1056590"
  },
  {
    "text": "issues but we're gonna continue we're gonna be fine so and the last piece is",
    "start": "1056590",
    "end": "1062290"
  },
  {
    "start": "1060000",
    "end": "1137000"
  },
  {
    "text": "it's a notification of that booking so ideally we would use SES or SendGrid",
    "start": "1062290",
    "end": "1068710"
  },
  {
    "text": "or any other service that helps us send an email to the customer in html-based because there will be too much and",
    "start": "1068710",
    "end": "1075310"
  },
  {
    "text": "there's a lot to do and we we kind of skip that altogether and we're just using SNS and and making sure that we",
    "start": "1075310",
    "end": "1082780"
  },
  {
    "text": "can see the message coming through so as an as an example for instance i could just come up with a new email",
    "start": "1082780",
    "end": "1089350"
  },
  {
    "text": "address like I did in the first up is person second episode I could use this fake email subscribe to us and s topic",
    "start": "1089350",
    "end": "1095920"
  },
  {
    "text": "to show you we actually get an SMS message but that's not gonna help you understand the other pieces so I'm gonna",
    "start": "1095920",
    "end": "1102700"
  },
  {
    "text": "show you the more interesting pieces so we we now show you how we've gone from a",
    "start": "1102700",
    "end": "1110380"
  },
  {
    "text": "basic search of a flight to charge an authorization of that payment to book",
    "start": "1110380",
    "end": "1116500"
  },
  {
    "text": "the flight and then listing that flight all of this technicalities is in",
    "start": "1116500",
    "end": "1121910"
  },
  {
    "text": "a pull request you see the graph QR codes that call them makes the calls and",
    "start": "1121910",
    "end": "1126950"
  },
  {
    "text": "everything else if you have more specific questions being on the chat and I'm more than happy to bring up some of",
    "start": "1126950",
    "end": "1133070"
  },
  {
    "text": "the codes and then we can go through this next we we went from the very basic",
    "start": "1133070",
    "end": "1140020"
  },
  {
    "start": "1137000",
    "end": "1178000"
  },
  {
    "text": "builds front-end and build back into something way more complex so this is",
    "start": "1140020",
    "end": "1146060"
  },
  {
    "text": "how amplify console looks like right now amplifier console has a single build it",
    "start": "1146060",
    "end": "1151640"
  },
  {
    "text": "doesn't have multiple stages so the way we did it was to use the front end and",
    "start": "1151640",
    "end": "1157310"
  },
  {
    "text": "back end post build pre-built and all those hooks to get you a more complex scenario so when you look at provision",
    "start": "1157310",
    "end": "1164360"
  },
  {
    "text": "for instances it's the default stalling the docker container installing everything else who needs the back end",
    "start": "1164360",
    "end": "1170480"
  },
  {
    "text": "though it's installing pretty much all the services the booking service payment service and then the lawyer to service",
    "start": "1170480",
    "end": "1176660"
  },
  {
    "text": "as well so all of this stuff even installed in Python 3.6 waiting all these pieces because I don't want you to",
    "start": "1176660",
    "end": "1184100"
  },
  {
    "start": "1178000",
    "end": "1318000"
  },
  {
    "text": "read all of that beauty doesn't make sense I will show you what we have right now so let me just go to github real",
    "start": "1184100",
    "end": "1190520"
  },
  {
    "text": "quick and even go to my own branch which",
    "start": "1190520",
    "end": "1196760"
  },
  {
    "text": "is actually my fork and then in the meantime it shows I will show you quickly there's a fire that you should",
    "start": "1196760",
    "end": "1203450"
  },
  {
    "text": "have called amplify dot llamo okay here",
    "start": "1203450",
    "end": "1213530"
  },
  {
    "text": "we go so this is the file that creates all of this stuff for us it basically",
    "start": "1213530",
    "end": "1218900"
  },
  {
    "text": "has a pre built and built and post build which is almost similar to the way code",
    "start": "1218900",
    "end": "1224600"
  },
  {
    "text": "build us and if you're interested in doing a local experience of that from quick prototyping we've done a lot of",
    "start": "1224600",
    "end": "1231110"
  },
  {
    "text": "cool tricks that we didn't do a git bash to this report you're not overwhelming with information but if that sounds",
    "start": "1231110",
    "end": "1236960"
  },
  {
    "text": "something that will you be helpful to you being as the message on the chat or on twitter using the hashtag a diverse",
    "start": "1236960",
    "end": "1242570"
  },
  {
    "text": "wish list so we we use a makefile to simplify all those tabs so install",
    "start": "1242570",
    "end": "1250430"
  },
  {
    "text": "braiding system packages installed abre CLI some co bah-bah-bah and then we do a make deploy",
    "start": "1250430",
    "end": "1258289"
  },
  {
    "text": "that basically after extracting everything from the the app sync deployment and only amplify CLI",
    "start": "1258289",
    "end": "1265909"
  },
  {
    "text": "deployment we make the real meat or the veggie for vegetarian deployment of the",
    "start": "1265909",
    "end": "1271609"
  },
  {
    "text": "other services and obviously we take those outputs of those tags and because",
    "start": "1271609",
    "end": "1277159"
  },
  {
    "text": "front-end works differently you need to have a specific format as if you had an environment where we in UNIX so the",
    "start": "1277159",
    "end": "1284269"
  },
  {
    "text": "front-end would pick that up and you know exactly how to call the payment API otherwise it would have to hard code",
    "start": "1284269",
    "end": "1289879"
  },
  {
    "text": "everything and then obviously we install we build until the dependencies and",
    "start": "1289879",
    "end": "1296570"
  },
  {
    "text": "build and off we go by looking at this it looks simple but here's how how we",
    "start": "1296570",
    "end": "1303350"
  },
  {
    "text": "structure everything because the project got so big that the basic recommendations don't work so we have to",
    "start": "1303350",
    "end": "1310100"
  },
  {
    "text": "apply the best practices early in the industries which we were supposed to do in the next three episodes so this is",
    "start": "1310100",
    "end": "1318710"
  },
  {
    "start": "1318000",
    "end": "1342000"
  },
  {
    "text": "how my fork looks like the real project is actually under a there are samples so",
    "start": "1318710",
    "end": "1324529"
  },
  {
    "text": "I'm looking at my branch called twitch and once we open up here this is where I",
    "start": "1324529",
    "end": "1330950"
  },
  {
    "text": "like Alec helped a lot as well we separated the front end and back end three different folders as if we were",
    "start": "1330950",
    "end": "1336409"
  },
  {
    "text": "doing a mono repo right and then Alex",
    "start": "1336409",
    "end": "1343070"
  },
  {
    "start": "1342000",
    "end": "1474000"
  },
  {
    "text": "did all the work for payment so you can see the payment service has its",
    "start": "1343070",
    "end": "1348109"
  },
  {
    "text": "functions and he also has refund payments and he has a template this is",
    "start": "1348109",
    "end": "1355460"
  },
  {
    "text": "what he normally would see from the basic service written in Sam or if you're using service framework it",
    "start": "1355460",
    "end": "1361399"
  },
  {
    "text": "doesn't matter it would have your template here and then years in each of the individual functions doing only one",
    "start": "1361399",
    "end": "1367070"
  },
  {
    "text": "thing in their particular folder their code and their requirements the difference is Alec Alec",
    "start": "1367070",
    "end": "1374359"
  },
  {
    "text": "Simon and Mike we were we were all discussing how can we do prototyping quickly locally why why all this",
    "start": "1374359",
    "end": "1381320"
  },
  {
    "text": "complexity was being grown and grown so we do that in shifts in shift and she faces inside this folder we have event",
    "start": "1381320",
    "end": "1388820"
  },
  {
    "text": "adjacent which basically is what is the event that that particular function expects again Alec did the work of",
    "start": "1388820",
    "end": "1396860"
  },
  {
    "text": "actually getting the Charter D and making sure that would be collected so that's it that's the that's the contract",
    "start": "1396860",
    "end": "1402410"
  },
  {
    "text": "right yes same for return right exactly these two",
    "start": "1402410",
    "end": "1408650"
  },
  {
    "text": "functions were actually done by Mike work together on this interface between",
    "start": "1408650",
    "end": "1415030"
  },
  {
    "text": "these two tasks so the collect payment is a step function task which actually",
    "start": "1415030",
    "end": "1422240"
  },
  {
    "text": "creates charge or to actually mix up the payment from using stripe from your",
    "start": "1422240",
    "end": "1427760"
  },
  {
    "text": "account from the regatta raise funds and the refund payment actually refunds simply the payments in case there's an",
    "start": "1427760",
    "end": "1434480"
  },
  {
    "text": "error or in case that for example a seat is unavailable or something like that so in that case the refund payment is",
    "start": "1434480",
    "end": "1441260"
  },
  {
    "text": "called which calls the third party sour application service applications require",
    "start": "1441260",
    "end": "1446960"
  },
  {
    "text": "certification API lambda create strike charge and then you know basically what",
    "start": "1446960",
    "end": "1454580"
  },
  {
    "text": "what why why we've done it because there was a question I think hater right somebody asked you why yeah exactly",
    "start": "1454580",
    "end": "1461990"
  },
  {
    "text": "there wasn't Twitter Africa his surname was James I know it was a thread on quasar and using view Jas if you're here",
    "start": "1461990",
    "end": "1469760"
  },
  {
    "text": "let yourself be known yeah so the reason",
    "start": "1469760",
    "end": "1475490"
  },
  {
    "text": "why we're using SAR just very briefly is",
    "start": "1475490",
    "end": "1481059"
  },
  {
    "text": "booking company is airline companies they are outsourcing their payment or",
    "start": "1481810",
    "end": "1487310"
  },
  {
    "text": "payment gateway in sources like that so this is some irregular pieces used in sure you're gonna find out can in in",
    "start": "1487310",
    "end": "1493520"
  },
  {
    "text": "real life in general the reason why you should use sour applications is because",
    "start": "1493520",
    "end": "1500750"
  },
  {
    "text": "you don't want to watch you don't want to develop everything from scratch you want to actually focus on what's your",
    "start": "1500750",
    "end": "1506270"
  },
  {
    "text": "core business value and use their already pre-built components to actually drive more",
    "start": "1506270",
    "end": "1511789"
  },
  {
    "text": "business value in your you know your business your company or your product your building so in our case we just you",
    "start": "1511789",
    "end": "1518360"
  },
  {
    "text": "know use them on local source free sour component published on sales advocate",
    "start": "1518360",
    "end": "1525200"
  },
  {
    "text": "repository or you can easily like attach it and have the same kind of payment gate when you're in your app that was",
    "start": "1525200",
    "end": "1531200"
  },
  {
    "text": "requiring you to write everything from scratch you have it already present there so this is the reason why then",
    "start": "1531200",
    "end": "1536960"
  },
  {
    "text": "we've done it this way exactly from the front end perspective when you think of UJS or react obviously you want to think",
    "start": "1536960",
    "end": "1544250"
  },
  {
    "text": "of UJS only because it's the best framework but you know without the personal bias graph QL is awesome but",
    "start": "1544250",
    "end": "1552950"
  },
  {
    "start": "1551000",
    "end": "1619000"
  },
  {
    "text": "you don't want to is graph Cal for everything if you're not if whatever you're doing you are treating as a",
    "start": "1552950",
    "end": "1558440"
  },
  {
    "text": "resource it's not necessarily driving the UI to change or provide something more meaningful information all we're",
    "start": "1558440",
    "end": "1564799"
  },
  {
    "text": "saying is there hey we're charging you a pre-authorization and if doesn't see its perfect we're not adding elements to the",
    "start": "1564799",
    "end": "1571159"
  },
  {
    "text": "Dom or adding anything complex and besides like Alec just said most of the",
    "start": "1571159",
    "end": "1577309"
  },
  {
    "text": "time you're gonna see companies and enterprises already having a payment gateway in place so a API get win in",
    "start": "1577309",
    "end": "1583730"
  },
  {
    "text": "this case would actually wrap it up whatever payment get we use and whenever you change it just doesn't it doesn't",
    "start": "1583730",
    "end": "1591470"
  },
  {
    "text": "make any difference so inside in here as we deploy this stripe payment which using the SAR",
    "start": "1591470",
    "end": "1598179"
  },
  {
    "text": "integration with Sam we basically pass that pass along and this is how you can",
    "start": "1598179",
    "end": "1604039"
  },
  {
    "text": "get the output of us are out being deployed within the same template so",
    "start": "1604039",
    "end": "1609590"
  },
  {
    "text": "also perhaps to James hood one of the engineers are off one of the service so don't so mean so much work to make the",
    "start": "1609590",
    "end": "1616429"
  },
  {
    "text": "developer experience better for us and that continues pretty much the same",
    "start": "1616429",
    "end": "1621620"
  },
  {
    "text": "thing the only difference as your project start to get bigger and bigger is how would you have the booking with",
    "start": "1621620",
    "end": "1629450"
  },
  {
    "text": "the step functions receiving the lambda that you're supposed to call from the payments stack there are different",
    "start": "1629450",
    "end": "1636470"
  },
  {
    "text": "stacks that deployed and separately but still they have to talk to one another they have to know their values so",
    "start": "1636470",
    "end": "1641960"
  },
  {
    "text": "there's a number of ways you can do this you can do you can do with exports values but to my",
    "start": "1641960",
    "end": "1647860"
  },
  {
    "text": "humble opinion the most flexible way you can do is using SSM parameter are we",
    "start": "1647860",
    "end": "1653110"
  },
  {
    "text": "going to show gonna explain to you why but the way we do is if you have ever watched Chrisman's",
    "start": "1653110",
    "end": "1658840"
  },
  {
    "text": "or many other surveillance heroes talks when you say have a single Sam template and use a stage variable or environment",
    "start": "1658840",
    "end": "1667779"
  },
  {
    "text": "variable where you could have the same template being deployed into multiple accounts and they would just have",
    "start": "1667779",
    "end": "1674139"
  },
  {
    "text": "different names into it not necessarily hard-coded so the way we do is this is we don't have any names in",
    "start": "1674139",
    "end": "1681429"
  },
  {
    "text": "here that will automatically pick up the stage and also the name of them my stack",
    "start": "1681429",
    "end": "1686980"
  },
  {
    "text": "payment and in here if I go to service payments collect function slash the",
    "start": "1686980",
    "end": "1692950"
  },
  {
    "text": "stage I'm actually after could be def could be prod whatever I should be able",
    "start": "1692950",
    "end": "1698259"
  },
  {
    "text": "to pick that up how do I pick that up if I go back in here in booking we use that",
    "start": "1698259",
    "end": "1704289"
  },
  {
    "text": "so if I go should thank played in booking as you can see exactly the same",
    "start": "1704289",
    "end": "1709330"
  },
  {
    "text": "structure we have a local end of ours which I'm going to show you in a minute every function with its own event if its",
    "start": "1709330",
    "end": "1716230"
  },
  {
    "text": "own requirements and everything else if I go here this is where the magic",
    "start": "1716230",
    "end": "1721419"
  },
  {
    "start": "1718000",
    "end": "1777000"
  },
  {
    "text": "happens and the reason is flexible is you can use as a parameter and if you",
    "start": "1721419",
    "end": "1727299"
  },
  {
    "text": "don't have any dynamic value you can just pass a default here as a new property called default and pass the",
    "start": "1727299",
    "end": "1733840"
  },
  {
    "text": "exact path of the parameter and it will automatically autocomplete for you in our case that doesn't work because we",
    "start": "1733840",
    "end": "1741100"
  },
  {
    "text": "have a dynamic value which is the stage so I pick this stage here and I take",
    "start": "1741100",
    "end": "1746320"
  },
  {
    "text": "this take this and I pass that along to my step functions so if I go back in",
    "start": "1746320",
    "end": "1751899"
  },
  {
    "text": "here and I look up here you see that that is in that's the definition of my",
    "start": "1751899",
    "end": "1758559"
  },
  {
    "text": "step functions with the refund payment step which we actually take that and use it but then obviously the other question",
    "start": "1758559",
    "end": "1765970"
  },
  {
    "text": "will come up hang on a second you're not automatically populating the",
    "start": "1765970",
    "end": "1771190"
  },
  {
    "text": "path of the parameter how would you know what is the right path you're not adding anything there",
    "start": "1771190",
    "end": "1777559"
  },
  {
    "start": "1777000",
    "end": "1908000"
  },
  {
    "text": "until we have the next episodes where we going to introduce cdk and go even to a",
    "start": "1777559",
    "end": "1782940"
  },
  {
    "text": "better place we had to use something external into that and should control all these deployments and for that we",
    "start": "1782940",
    "end": "1790140"
  },
  {
    "text": "use a make file for now let's open up the make file and if I open up the make",
    "start": "1790140",
    "end": "1796890"
  },
  {
    "text": "file you're gonna see that into into the deployments booking what we actually do",
    "start": "1796890",
    "end": "1804870"
  },
  {
    "text": "is we pass this string which is actually the path of their parameter store and",
    "start": "1804870",
    "end": "1810539"
  },
  {
    "text": "then we pass the branch which is actually is the same as this stage these different variables in different places",
    "start": "1810539",
    "end": "1816710"
  },
  {
    "text": "so when we pass this if that was invalid if that never existed or if I deployed",
    "start": "1816710",
    "end": "1822539"
  },
  {
    "text": "at the wrong order my stack will already fail and he wouldn't kick off the deployment so that kind of gives you a",
    "start": "1822539",
    "end": "1828360"
  },
  {
    "text": "nice control in that sense there's a question from chat which says does the",
    "start": "1828360",
    "end": "1834929"
  },
  {
    "text": "makefile convert the cloud formation templates to Sam so simply the Sam is",
    "start": "1834929",
    "end": "1842549"
  },
  {
    "text": "just a little abstraction or a transformation so you're already using cloud formation unique file is just like",
    "start": "1842549",
    "end": "1848429"
  },
  {
    "text": "we are using this in this way of describing of actually defining these commands in a very step by step step by",
    "start": "1848429",
    "end": "1855750"
  },
  {
    "text": "step way to actually transform and up and deploy our our back in so it doesn't",
    "start": "1855750",
    "end": "1861409"
  },
  {
    "text": "convert to Sam it actually picks up centimes and converts them to native to",
    "start": "1861409",
    "end": "1868500"
  },
  {
    "text": "standard CloudFormation and then deploys exactly if you're if you're curious about that in more details what makes",
    "start": "1868500",
    "end": "1875100"
  },
  {
    "text": "something sar actually a Sam is if I go back and hit and look for the payment and looking",
    "start": "1875100",
    "end": "1880830"
  },
  {
    "text": "at the template IMO it looks pretty much like CloudFormation except this line",
    "start": "1880830",
    "end": "1886220"
  },
  {
    "text": "this line is what makes an ekala formation as Sam assembly plate and he",
    "start": "1886220",
    "end": "1892289"
  },
  {
    "text": "gives you this extra AWS column column service this is an abstraction on top of",
    "start": "1892289",
    "end": "1897929"
  },
  {
    "text": "the confirmation that essentially turns into a NASA stack and this turns into an",
    "start": "1897929",
    "end": "1903780"
  },
  {
    "text": "AWS column column lambda Coulomb column function right and the last trick of this is",
    "start": "1903780",
    "end": "1911140"
  },
  {
    "start": "1908000",
    "end": "2052000"
  },
  {
    "text": "having a local n VARs inside you each of those services you have and this",
    "start": "1911140",
    "end": "1916720"
  },
  {
    "text": "obviously could be its own get repo but because we're constrained of having a single repo we're kind of doing similar",
    "start": "1916720",
    "end": "1921880"
  },
  {
    "text": "to a mono repo without using learnline the proper tools to do it but this could very well just be a separate repo with",
    "start": "1921880",
    "end": "1928780"
  },
  {
    "text": "separate teams working on a local M VARs is is a format that Sam CLI expect when",
    "start": "1928780",
    "end": "1937180"
  },
  {
    "text": "you are trying to do local prototyping if you're coming from the service",
    "start": "1937180",
    "end": "1942850"
  },
  {
    "text": "framework you would see a Jeremy Daley plug-in called cloud sides which basically do something like this for Sam",
    "start": "1942850",
    "end": "1949930"
  },
  {
    "text": "you create that file manually which you basically say what is the logical name of that your function and what is the",
    "start": "1949930",
    "end": "1957760"
  },
  {
    "text": "what is the variable what is the environment variable that you're about to inject and what is the whether you",
    "start": "1957760",
    "end": "1963580"
  },
  {
    "text": "want it to be so let me let me show you in more let me open up that fire in a separate one so then you can see the",
    "start": "1963580",
    "end": "1971080"
  },
  {
    "text": "difference if we look up for confirmed booking yeah I'm using too much upload",
    "start": "1971080",
    "end": "1978370"
  },
  {
    "text": "my uploads frame is just going like children",
    "start": "1978370",
    "end": "1982830"
  },
  {
    "text": "yeah okay it's actually more of my CPU so if I go over here and oh that's",
    "start": "1985020",
    "end": "1992890"
  },
  {
    "text": "actually that's let me see go back here I have picked the wrong template let me",
    "start": "1992890",
    "end": "2000570"
  },
  {
    "text": "just go back in here and say payments",
    "start": "2000570",
    "end": "2005760"
  },
  {
    "text": "local and VARs because that will make it easier for you to understand all of this",
    "start": "2005760",
    "end": "2011100"
  },
  {
    "text": "by the way is boilerplate I'm interested in making this as a single command that you just to seam it in cents a minute -",
    "start": "2011100",
    "end": "2017520"
  },
  {
    "text": "- location and you have all those prototyping stuff I've done for you so",
    "start": "2017520",
    "end": "2022850"
  },
  {
    "text": "let's pick up one now collect payments",
    "start": "2022850",
    "end": "2027770"
  },
  {
    "text": "and I'm again looking at the wrong one",
    "start": "2028610",
    "end": "2033860"
  },
  {
    "text": "and it's a game so if I go to payment here it's not fun when your CPU is about",
    "start": "2034030",
    "end": "2040390"
  },
  {
    "text": "80% so 80% or 97% so bear with me on that one so let's select the right",
    "start": "2040390",
    "end": "2047320"
  },
  {
    "text": "template and now you see here the",
    "start": "2047320",
    "end": "2052628"
  },
  {
    "start": "2052000",
    "end": "2106000"
  },
  {
    "text": "environment variable that's exactly what e injects for you when you're doing local developments or winner I'd like to",
    "start": "2052629",
    "end": "2060040"
  },
  {
    "text": "say local prototyping because you want your functions to execute locally but your real resource is DynamoDB step",
    "start": "2060040",
    "end": "2066398"
  },
  {
    "text": "functions etc it's better to have the real service so that's how we achieve that the function itself runs locally",
    "start": "2066399",
    "end": "2073050"
  },
  {
    "text": "but the talk to payment API that happens using the Ryo API so instead of passing",
    "start": "2073050",
    "end": "2079510"
  },
  {
    "text": "this which is never going to be resolved locally we use that file just say to Sam hey Sam you see these environment",
    "start": "2079510",
    "end": "2086980"
  },
  {
    "text": "variables for this particular function called collec collect payment used his value instead I hope that's more than",
    "start": "2086980",
    "end": "2093760"
  },
  {
    "text": "clear okay there's no other questions we",
    "start": "2093760",
    "end": "2099430"
  },
  {
    "text": "can kick off and we can continue to the other pieces now what else have we done",
    "start": "2099430",
    "end": "2106530"
  },
  {
    "start": "2106000",
    "end": "2160000"
  },
  {
    "text": "one thing that was also asked was please don't use JavaScript like well I was I",
    "start": "2106530",
    "end": "2113490"
  },
  {
    "text": "was not a big of a fan of JavaScript before I started all of this but now I catch from front-end I kind of I am but",
    "start": "2113490",
    "end": "2120460"
  },
  {
    "text": "in the booking one you're gonna see some of these pieces is done in Python in the",
    "start": "2120460",
    "end": "2126880"
  },
  {
    "text": "catalog it's actually done in Python as well what Simon just did it now which",
    "start": "2126880",
    "end": "2133150"
  },
  {
    "text": "we're gonna hopefully going to cover the next minutes the lawyer to service is done in typescript but we could choose",
    "start": "2133150",
    "end": "2139630"
  },
  {
    "text": "you see what we see where I'm going I could choose any language I want we could just even dotnet in there that",
    "start": "2139630",
    "end": "2144640"
  },
  {
    "text": "does that that doesn't change the fact it's just an API that cause lambda so choose whatever language that works for",
    "start": "2144640",
    "end": "2150640"
  },
  {
    "text": "you if your company already knows that particular language so be it just make sure you are optimizing for startups and",
    "start": "2150640",
    "end": "2156010"
  },
  {
    "text": "make sure you optimize for lambda and yeah that works any-anything I miss I like that you may",
    "start": "2156010",
    "end": "2163510"
  },
  {
    "text": "want to well I think we've covered a lot so",
    "start": "2163510",
    "end": "2168850"
  },
  {
    "text": "people asked like why and when to use a parameter store that's that's something we covered we talked we talked about",
    "start": "2168850",
    "end": "2174940"
  },
  {
    "text": "stripe payment API I'm going to use a third-party component and we talked also",
    "start": "2174940",
    "end": "2180820"
  },
  {
    "text": "about stem functions how to be connect resolved the issue to the results path in the path and in the interpolation",
    "start": "2180820",
    "end": "2187300"
  },
  {
    "text": "step functions in general I think those were the majority of the questions that people had because we had that issues in",
    "start": "2187300",
    "end": "2194620"
  },
  {
    "text": "black in the land last stream with the you know things weren't working as",
    "start": "2194620",
    "end": "2199660"
  },
  {
    "text": "perfectly as we expected but I think that's all kind of and I don't have any other questions from my end",
    "start": "2199660",
    "end": "2205810"
  },
  {
    "text": "anybody else have please do ask yeah and that's a good point",
    "start": "2205810",
    "end": "2210990"
  },
  {
    "start": "2209000",
    "end": "2264000"
  },
  {
    "text": "why parameter store in addition to everything we told you about the way if it validates the parameter path and you",
    "start": "2210990",
    "end": "2218890"
  },
  {
    "text": "do an autocomplete and all that sort of thing if I go to a particular let's say I have a parameter which says the",
    "start": "2218890",
    "end": "2225520"
  },
  {
    "text": "booking SNS topic which we're going to use for the next service if I click in here you're gonna see I have the value",
    "start": "2225520",
    "end": "2231700"
  },
  {
    "text": "already here and I also have a history of how much that has changed the value",
    "start": "2231700",
    "end": "2237130"
  },
  {
    "text": "has changed the tags and I could also have an alias so you see there's a version one here I could also have an",
    "start": "2237130",
    "end": "2243220"
  },
  {
    "text": "alias and also say latest or stable or whatever in addition should just have as slash",
    "start": "2243220",
    "end": "2249520"
  },
  {
    "text": "switch is actually this stage you saw it before so the stage switch is for that",
    "start": "2249520",
    "end": "2254890"
  },
  {
    "text": "particular booking topic which could be dead pretty broad etc and yeah that's",
    "start": "2254890",
    "end": "2260380"
  },
  {
    "text": "that's pretty much it and why that makes sense one god shadow if you're using",
    "start": "2260380",
    "end": "2265840"
  },
  {
    "start": "2264000",
    "end": "2333000"
  },
  {
    "text": "this in production and you have lots of functions you want to do this if you click in settings there's gonna be a",
    "start": "2265840",
    "end": "2272140"
  },
  {
    "text": "parameter throughput which it basically increases the true put your TPS that you",
    "start": "2272140",
    "end": "2277810"
  },
  {
    "text": "can weave system parameter store one of the other cases for example for my",
    "start": "2277810",
    "end": "2283390"
  },
  {
    "text": "personal account is why I'm using parameter stories when you're building",
    "start": "2283390",
    "end": "2289270"
  },
  {
    "text": "an app and you just want to change a certain API call or certain API URL or",
    "start": "2289270",
    "end": "2294760"
  },
  {
    "text": "whatever you are you just put a version or something you don't want to redeploy your whole app",
    "start": "2294760",
    "end": "2300880"
  },
  {
    "text": "just to change one parameter you want to actually change just a parameter value",
    "start": "2300880",
    "end": "2306519"
  },
  {
    "text": "while using the same parameter already and just update the parameter value and you don't have to update your how you're",
    "start": "2306519",
    "end": "2312789"
  },
  {
    "text": "OLAP reducing the risk of your update failing or or reducing the the",
    "start": "2312789",
    "end": "2318690"
  },
  {
    "text": "possibility that maybe you were gonna change something else or something like that so in general yeah it's a it's a pretty",
    "start": "2318690",
    "end": "2328059"
  },
  {
    "text": "convenient and really really useful exactly so if we step out for a second",
    "start": "2328059",
    "end": "2335739"
  },
  {
    "start": "2333000",
    "end": "2405000"
  },
  {
    "text": "we kind of assured you kind of a recap we showed you how to use the airline that servers less have booked for the",
    "start": "2335739",
    "end": "2342609"
  },
  {
    "text": "flights always look for London Gatwick in Madrid for every Wednesday your flights gonna be there for you",
    "start": "2342609",
    "end": "2347619"
  },
  {
    "text": "pre-populated and we you just add a credit card for two for two for two unto",
    "start": "2347619",
    "end": "2353680"
  },
  {
    "text": "the end and that should work what's missing now is a bunch of thing so it's missing the real-time capabilities in",
    "start": "2353680",
    "end": "2359650"
  },
  {
    "text": "here which we could add items in a bonus episode if you like how to automatically",
    "start": "2359650",
    "end": "2364690"
  },
  {
    "text": "add a visual representation of to the user are you what are we doing this type",
    "start": "2364690",
    "end": "2371199"
  },
  {
    "text": "function or what is the step and she why really see my book in being confirmed we can do this using graphical",
    "start": "2371199",
    "end": "2376869"
  },
  {
    "text": "subscriptions inside step functions what's missing at the moment is this part here as you make",
    "start": "2376869",
    "end": "2383890"
  },
  {
    "text": "a booking you should be able to get points for this and you should be able to know what your tier is your loyalty",
    "start": "2383890",
    "end": "2389829"
  },
  {
    "text": "number and also how much further before you go to the next year it's",
    "start": "2389829",
    "end": "2395589"
  },
  {
    "text": "unlikely that we're gonna be able to cover everything now because we only have 15 minutes but I will show you that",
    "start": "2395589",
    "end": "2402219"
  },
  {
    "text": "we already pushed that to the branch the one that I was showing to you but what we need to do is you see this as an s",
    "start": "2402219",
    "end": "2409630"
  },
  {
    "text": "topic that we have we have a booking ness and s topic which was created as part of the deploy so every time the",
    "start": "2409630",
    "end": "2417099"
  },
  {
    "text": "step functions go through and it confirms that the booking happens in notify hey the booking has been paid and",
    "start": "2417099",
    "end": "2423130"
  },
  {
    "text": "has been confirmed and you should be able to get your points in real life it would wait have a",
    "start": "2423130",
    "end": "2429460"
  },
  {
    "text": "State and make sure the customer boards should a particular flight once they board then they should be what you get",
    "start": "2429460",
    "end": "2435520"
  },
  {
    "text": "therefore their points in this case we assume everyone is always super friendly everyone's honest they always pick up",
    "start": "2435520",
    "end": "2441490"
  },
  {
    "text": "the fly they don't miss anything there's no issues whatsoever the flight right",
    "start": "2441490",
    "end": "2447000"
  },
  {
    "text": "tell me about it tell me about I missed three last week so if I could show you this and this",
    "start": "2447000",
    "end": "2454060"
  },
  {
    "text": "topic what we need to do is in a sink we should be able to subscribe a lambda",
    "start": "2454060",
    "end": "2461170"
  },
  {
    "text": "function which we already did everything's automated already and that lambda function should be able to",
    "start": "2461170",
    "end": "2467830"
  },
  {
    "text": "subscribe to this topic every time we publish a message that function will automatically ingest their",
    "start": "2467830",
    "end": "2473770"
  },
  {
    "text": "loyalty points into a DynamoDB table that's what we need to do nothing that complicated but it would take time to",
    "start": "2473770",
    "end": "2480700"
  },
  {
    "text": "prototype that by hand so how would you publish a message let's try this so",
    "start": "2480700",
    "end": "2487470"
  },
  {
    "text": "we're gonna use JSON for now and then the function itself is gonna parse that ginseng and trying to do the work so I'm",
    "start": "2487470",
    "end": "2494530"
  },
  {
    "text": "gonna try that now and then I'm gonna work through the code that Simon wrote and then you should be able to have a",
    "start": "2494530",
    "end": "2499990"
  },
  {
    "text": "better idea on how this is working behind the scenes so if I go back to the",
    "start": "2499990",
    "end": "2506470"
  },
  {
    "text": "repo I don't always remember what is the contract so I'm gonna go back to loyalty",
    "start": "2506470",
    "end": "2512380"
  },
  {
    "text": "and the ingest is the function we want we want you go today",
    "start": "2512380",
    "end": "2517450"
  },
  {
    "text": "good to see exactly the same in events that I sent here and I'm gonna pass this",
    "start": "2517450",
    "end": "2522940"
  },
  {
    "text": "customer ID and this price if I copy this go back to SNS and I just I don't",
    "start": "2522940",
    "end": "2531099"
  },
  {
    "text": "think there's any validation in per se into the customer ID if there is is gonna fail so let's let's just try I'll",
    "start": "2531099",
    "end": "2538930"
  },
  {
    "text": "remove this string and say this was actually paid 100 euros and there's just",
    "start": "2538930",
    "end": "2546640"
  },
  {
    "text": "do something like this yeah hopefully it doesn't break your code Simon so we do",
    "start": "2546640",
    "end": "2552550"
  },
  {
    "text": "this as a Jason ish I did it should be JSON string file but let's see if that",
    "start": "2552550",
    "end": "2558430"
  },
  {
    "text": "works maybe that's we are all looking at you one thing that's really important at",
    "start": "2558430",
    "end": "2563960"
  },
  {
    "start": "2561000",
    "end": "2667000"
  },
  {
    "text": "scale which we're gonna do only offline is you you notice that I'm using the same booking topic to actually send an",
    "start": "2563960",
    "end": "2571910"
  },
  {
    "text": "image of the customer and the same time process the loyalty points it's fine if",
    "start": "2571910",
    "end": "2577700"
  },
  {
    "text": "I'm just testing it it's not fine if you're in production because the",
    "start": "2577700",
    "end": "2583040"
  },
  {
    "text": "customer wants to see a different message they don't want to see it is JSON blob in their email address so what",
    "start": "2583040",
    "end": "2588350"
  },
  {
    "text": "you do is you specify a message attribute and you say for instance",
    "start": "2588350",
    "end": "2593950"
  },
  {
    "text": "booking status if you will it could be anything and then you could say",
    "start": "2593950",
    "end": "2599860"
  },
  {
    "text": "confirmed what that means to you is you could have a every time you're",
    "start": "2599860",
    "end": "2607040"
  },
  {
    "text": "subscribing to a topic you could say I'm only interested in that particular message and props to dishonest team who",
    "start": "2607040",
    "end": "2613730"
  },
  {
    "text": "actually deliver that feature a few months ago so that would kind of a create a fork actually ask you what",
    "start": "2613730",
    "end": "2619970"
  },
  {
    "text": "consumers should receive at what payload at what particular rates so let's just",
    "start": "2619970",
    "end": "2626390"
  },
  {
    "text": "remove this and let's try to publish that message in the meantime that processes everything else let's go to",
    "start": "2626390",
    "end": "2631970"
  },
  {
    "text": "the code and show you what Simon did and if I don't understand what he did you can ask him directly on chat putting on",
    "start": "2631970",
    "end": "2639140"
  },
  {
    "text": "the stop spot Simon yeah so first things",
    "start": "2639140",
    "end": "2645620"
  },
  {
    "text": "first like I said the default is we gonna have the service name the template",
    "start": "2645620",
    "end": "2651800"
  },
  {
    "text": "and also the local inverse which is missing here so I can add later so we",
    "start": "2651800",
    "end": "2657830"
  },
  {
    "text": "add a new table called loyalty using paper requests we do the same thing again we add the parameter store",
    "start": "2657830",
    "end": "2665600"
  },
  {
    "text": "from the booking and then the ingest functions follows things something",
    "start": "2665600",
    "end": "2670910"
  },
  {
    "start": "2667000",
    "end": "2728000"
  },
  {
    "text": "different where is in the new note has 10 and we do some we're not using some",
    "start": "2670910",
    "end": "2676130"
  },
  {
    "text": "build here because some bill doesn't support typescript but we can use typescript you just build that into",
    "start": "2676130",
    "end": "2682130"
  },
  {
    "text": "JavaScript and it just works after and we also give permissions to that",
    "start": "2682130",
    "end": "2687380"
  },
  {
    "text": "particular table that we're trying to do and we listen again for that particular SNS message topic",
    "start": "2687380",
    "end": "2694130"
  },
  {
    "text": "however your fuchsia should be asking yourself well what is that gate function so someone did not only the SNS part of",
    "start": "2694130",
    "end": "2701660"
  },
  {
    "text": "ingesting something to dynamodb table he also had the idea of making loyalty are completely separate service and has its",
    "start": "2701660",
    "end": "2708920"
  },
  {
    "text": "own API gateway which we would have to integrate up sync to this afterwards as",
    "start": "2708920",
    "end": "2714019"
  },
  {
    "text": "well so every time you pass a path a customer ID that would give you the",
    "start": "2714019",
    "end": "2719569"
  },
  {
    "text": "points already calculated and the tier that we need from the front-end all that information that should be like this",
    "start": "2719569",
    "end": "2727509"
  },
  {
    "text": "make sense SNS topic for ingesting a new points calculated F points and HTTP",
    "start": "2727509",
    "end": "2734420"
  },
  {
    "start": "2728000",
    "end": "2832000"
  },
  {
    "text": "endpoint should know exactly what sort of information you want let's see let's",
    "start": "2734420",
    "end": "2740599"
  },
  {
    "text": "see if the message has went through yeah absolutely so so let's check the code",
    "start": "2740599",
    "end": "2746329"
  },
  {
    "text": "real quick and see what someone is doing so ingest dot TS I'm not a typescript",
    "start": "2746329",
    "end": "2753140"
  },
  {
    "text": "expert but we can kind of lean on very quickly yes so there's a bunch of",
    "start": "2753140",
    "end": "2758509"
  },
  {
    "text": "interfaces in here which is good because you can have a contract in here the result we want to",
    "start": "2758509",
    "end": "2764509"
  },
  {
    "text": "get the message and the loyalty optional the points its which is something I'm gonna reflect into graph",
    "start": "2764509",
    "end": "2771319"
  },
  {
    "text": "QL afterwards I get the idea of their loyalty tier the customer ID the point state and flag which means what's here",
    "start": "2771319",
    "end": "2778009"
  },
  {
    "text": "they are and also in case they are revoked expired or something that happens we take the SNS event and we",
    "start": "2778009",
    "end": "2785029"
  },
  {
    "text": "return a promise we do a basic check to see if the table is there if you're not obviously draw our first the records the",
    "start": "2785029",
    "end": "2792499"
  },
  {
    "text": "SNS message that JSON we take the customer ID the price and then we just",
    "start": "2792499",
    "end": "2798200"
  },
  {
    "text": "do a basic calculation instead where we actually don't do any calculation at all",
    "start": "2798200",
    "end": "2803359"
  },
  {
    "text": "we're just taking the price and just add that as a point we could do something more complex like calculate x plus the",
    "start": "2803359",
    "end": "2811279"
  },
  {
    "text": "tier they have and things like didn't have a multiplier on top and then basically someone does a our weight and",
    "start": "2811279",
    "end": "2817039"
  },
  {
    "text": "just to apply the output and add that as as an item let me just check if the",
    "start": "2817039",
    "end": "2823160"
  },
  {
    "text": "syntax is okay so it does a sink in here awaits and you're doing if I here which should work and return",
    "start": "2823160",
    "end": "2830130"
  },
  {
    "text": "loyalty and message okay all right so let's so let's go let's go to the lambda",
    "start": "2830130",
    "end": "2838289"
  },
  {
    "text": "fat lead on the service and we should be able to see that in the meantime we have",
    "start": "2838289",
    "end": "2843839"
  },
  {
    "text": "the DynamoDB loyalty table as well which if you remember well I actually have",
    "start": "2843839",
    "end": "2849720"
  },
  {
    "text": "multiple tables here I have the booking the booking the flight for each of my",
    "start": "2849720",
    "end": "2855180"
  },
  {
    "text": "kids repo environments and I have the new one which is the loyalty so ideally",
    "start": "2855180",
    "end": "2860609"
  },
  {
    "text": "I should have a new entering here and it doesn't seem like we have one storage it",
    "start": "2860609",
    "end": "2866789"
  },
  {
    "text": "doesn't sound like it worked so if I click in here no it doesn't post",
    "start": "2866789",
    "end": "2876119"
  },
  {
    "text": "it I think we did where is that so yeah it",
    "start": "2876119",
    "end": "2883200"
  },
  {
    "text": "says publish message and things like this so here's what I'm gonna do I'm gonna check the London logs real quick but I'm also gonna copy the events that",
    "start": "2883200",
    "end": "2891539"
  },
  {
    "text": "sam'l did and see if that that actually from the Alumni Council works I'm just",
    "start": "2891539",
    "end": "2899369"
  },
  {
    "start": "2898000",
    "end": "3119000"
  },
  {
    "text": "praying for my CPU to recover some some brief some here and there so if I go to",
    "start": "2899369",
    "end": "2905670"
  },
  {
    "text": "loyalty do a quick search I have an ingest function that's what we're after and that was modified fifty-seven",
    "start": "2905670",
    "end": "2911609"
  },
  {
    "text": "minutes ago we haven't enabled x-ray or any tracing capabilities that's part of",
    "start": "2911609",
    "end": "2916829"
  },
  {
    "text": "the the best practices piece now we're just prototyping it so if I go to",
    "start": "2916829",
    "end": "2923969"
  },
  {
    "text": "monitor I should be what you see logs that's what I'm after and then I want to",
    "start": "2923969",
    "end": "2933450"
  },
  {
    "text": "ingest that as an event and let's just",
    "start": "2933450",
    "end": "2939180"
  },
  {
    "text": "test this now so I want to test create a new event",
    "start": "2939180",
    "end": "2943700"
  },
  {
    "text": "my CPU fun is just going like why are you doing this with me why me well it's",
    "start": "2944869",
    "end": "2954300"
  },
  {
    "text": "alright okay let me just close a few tabs just because you know any any any memory safe",
    "start": "2954300",
    "end": "2963600"
  },
  {
    "text": "is a it's a good thing so it doesn't sound like we're gonna get much off of it",
    "start": "2963600",
    "end": "2970400"
  },
  {
    "text": "someone you are in the child what did what happen here he is I think he's",
    "start": "2970580",
    "end": "2978540"
  },
  {
    "text": "hiding you know yeah okay so hopefully come on I know you can't I know you",
    "start": "2978540",
    "end": "2985020"
  },
  {
    "text": "can't load its just say 97% of CPU is should work it sounds like I need a new",
    "start": "2985020",
    "end": "2991980"
  },
  {
    "text": "laptop now we hope it doesn't melt",
    "start": "2991980",
    "end": "2997590"
  },
  {
    "text": "during the dream yeah but looking at the code I don't see any issue it's just a",
    "start": "2997590",
    "end": "3004010"
  },
  {
    "text": "simple document named DB client spell",
    "start": "3004010",
    "end": "3010940"
  },
  {
    "text": "object yeah that should be fine the table name is here so it's not a panel",
    "start": "3010940",
    "end": "3015950"
  },
  {
    "text": "that's missing and the counsel is blank this is what Simon Says yeah I can see",
    "start": "3015950",
    "end": "3024020"
  },
  {
    "text": "this is steel so it's just my CPU not helping much so yeah maybe if I just try",
    "start": "3024020",
    "end": "3034400"
  },
  {
    "text": "cloud wash logs only",
    "start": "3034400",
    "end": "3039339"
  },
  {
    "text": "now let's try to do it might help us how about hey Logan is saying that it's",
    "start": "3040549",
    "end": "3049440"
  },
  {
    "text": "lagging pretty bad so there's something know yeah so I'm gonna stop here I think",
    "start": "3049440",
    "end": "3056759"
  },
  {
    "text": "I think my CPU just went to the roof and I don't think it's recovering anytime",
    "start": "3056759",
    "end": "3062519"
  },
  {
    "text": "soon I don't have any other pieces you yes how many people's actually I'm not having any problems so might be that",
    "start": "3062519",
    "end": "3068849"
  },
  {
    "text": "user yeah I'm pretty sure is my only because it's fine it's not I'm still",
    "start": "3068849",
    "end": "3073920"
  },
  {
    "text": "seeing your zoom I can completely hear you're fine video and everything's fine yeah okay do you wanna turn your video",
    "start": "3073920",
    "end": "3081930"
  },
  {
    "text": "off just so I can quickly yeah if that",
    "start": "3081930",
    "end": "3087359"
  },
  {
    "text": "works just so I can get some actual CPU let's see should be better yes okay we",
    "start": "3087359",
    "end": "3101819"
  },
  {
    "text": "got something so we got 440 thanks for turning you off your camera that's let's",
    "start": "3101819",
    "end": "3106859"
  },
  {
    "text": "have a quick look in here why does not happen so we are receiving the right event we can see customer ID and we can",
    "start": "3106859",
    "end": "3113999"
  },
  {
    "text": "see that visiting here yeah I don't see",
    "start": "3113999",
    "end": "3120329"
  },
  {
    "text": "any errors in here which doesn't make any sense so let's so let's try this then let's go back to the event or Jason",
    "start": "3120329",
    "end": "3129619"
  },
  {
    "text": "let's let's try to do that task directly using the lambda function in the meantime I'm gonna open up the console",
    "start": "3129619",
    "end": "3136829"
  },
  {
    "text": "leave it there and she was happy and I'm gonna try it she get the event dot Jason",
    "start": "3136829",
    "end": "3143940"
  },
  {
    "text": "right there so event Oh Jason Simon is",
    "start": "3143940",
    "end": "3149940"
  },
  {
    "text": "suggesting maybes permissions that might be the case but still it could it could probably throw an error yes yeah it",
    "start": "3149940",
    "end": "3158519"
  },
  {
    "start": "3158000",
    "end": "3223000"
  },
  {
    "text": "should it should cause an exception so maybe maybe there is the promise isn't",
    "start": "3158519",
    "end": "3164849"
  },
  {
    "text": "resolving maybe there's something else happening but let's try this from here",
    "start": "3164849",
    "end": "3170339"
  },
  {
    "text": "then we then we'll find out so let's go for loyalty again we should be able to see the ink just function maybe the runtime",
    "start": "3170339",
    "end": "3177870"
  },
  {
    "text": "no no somebody's asking you do you have an AWS Alfred workflows oh yeah so did this it is yeah so that's",
    "start": "3177870",
    "end": "3186810"
  },
  {
    "text": "what I do so I can show you in a bit what I can leave the comment afterwards so let's just say test loyalty and just",
    "start": "3186810",
    "end": "3196110"
  },
  {
    "text": "do this so past the customer ID just say Simon and price 100 maybe the price",
    "start": "3196110",
    "end": "3204180"
  },
  {
    "text": "maybe Simon was actually added some some really some code I would say this is",
    "start": "3204180",
    "end": "3209790"
  },
  {
    "text": " cheap no I'm not gonna calculate the price for you the points for you so let's just say great and we test from",
    "start": "3209790",
    "end": "3217230"
  },
  {
    "text": "the console and we get 1,000 or something that maybe that's that's the",
    "start": "3217230",
    "end": "3223440"
  },
  {
    "start": "3223000",
    "end": "3295000"
  },
  {
    "text": "problem so there are two problems here the promise so the callback isn't so that the event loop isn't actually right",
    "start": "3223440",
    "end": "3230640"
  },
  {
    "text": "the device need to look into this and that's why we're not seeing the error so",
    "start": "3230640",
    "end": "3235950"
  },
  {
    "text": "there's two issues here one is is the raise the promise is actually returning",
    "start": "3235950",
    "end": "3242430"
  },
  {
    "text": "we just need to fix this or maybe is an issue with the runtime and second is just a permission that that fund the SDS",
    "start": "3242430",
    "end": "3250260"
  },
  {
    "text": "assumes a role for that particular function and I'm trying to write into that table which I don't have permission",
    "start": "3250260",
    "end": "3257460"
  },
  {
    "text": "to yes so we have two minutes let me see if I can fix this real quick so what is",
    "start": "3257460",
    "end": "3263040"
  },
  {
    "text": "the I am role for this function so this",
    "start": "3263040",
    "end": "3268080"
  },
  {
    "text": "is the execution role I'm just gonna cheat and say you know what I trust in",
    "start": "3268080",
    "end": "3276600"
  },
  {
    "text": "Simon We Trust let's actually give permission cheese we trust that's so yeah it's just just having",
    "start": "3276600",
    "end": "3286650"
  },
  {
    "text": "that particular issue so Simon says he fixed it in the source I guess we can maybe pull that one maybe you could try",
    "start": "3286650",
    "end": "3294510"
  },
  {
    "text": "just to pull in I was thinking but we have two minutes left and my CPU isn't",
    "start": "3294510",
    "end": "3300000"
  },
  {
    "start": "3295000",
    "end": "3382000"
  },
  {
    "text": "actually being the most friendly one so here we go he only had it doesn't have permissions at all that's why yeah so let's just add a",
    "start": "3300000",
    "end": "3307630"
  },
  {
    "text": "dynamo real quick yeah that to policy and and add for access I I was going to",
    "start": "3307630",
    "end": "3314450"
  },
  {
    "text": "add super super table but okay that's fine so let's try this again actually",
    "start": "3314450",
    "end": "3321530"
  },
  {
    "text": "from here test that oops yeah try it again it works so let's try this from",
    "start": "3321530",
    "end": "3330920"
  },
  {
    "text": "the SNS just so I'm I'm 100% sure that's",
    "start": "3330920",
    "end": "3339020"
  },
  {
    "text": "the case I know I know that's why we call prototype and we don't know it'll",
    "start": "3339020",
    "end": "3344960"
  },
  {
    "text": "make that so let's just say less up and then I paid two hundred euros in a flight let's say that customer ID is",
    "start": "3344960",
    "end": "3352700"
  },
  {
    "text": "gonna show up cool so if we go to the booking table we refresh we have an ID and maybe the SNS",
    "start": "3352700",
    "end": "3363020"
  },
  {
    "text": "isn't working but at least we can see in here to one hundred points so ideally I should be able to see a two hundred",
    "start": "3363020",
    "end": "3368480"
  },
  {
    "text": "points but it works we have an issue with so you have two we have an issue with the permissions and we also have to",
    "start": "3368480",
    "end": "3375200"
  },
  {
    "text": "fix a possible possible issue with with the promising girl which is weird",
    "start": "3375200",
    "end": "3380750"
  },
  {
    "text": "because it works an event but it's good because now you can see that you know we",
    "start": "3380750",
    "end": "3385760"
  },
  {
    "text": "have a loyalty enabled by Simon thank you Sam where you can see that you know",
    "start": "3385760",
    "end": "3391370"
  },
  {
    "text": "if you book a flight and you know these Maya these mileage points can be not calculated into your into your loyalty",
    "start": "3391370",
    "end": "3398990"
  },
  {
    "text": "account exactly yeah I did it it should be a customer ID heat or something like this but we can fix all that later so",
    "start": "3398990",
    "end": "3406310"
  },
  {
    "text": "this is kind of a just to show you how we kind of do some of the prototyping ideally should be live coding but again",
    "start": "3406310",
    "end": "3411650"
  },
  {
    "text": "you get the point so once we make that booking we should be able to see that",
    "start": "3411650",
    "end": "3417860"
  },
  {
    "text": "over here and in the next episode we're gonna do the testing the unit test for",
    "start": "3417860",
    "end": "3423500"
  },
  {
    "text": "all that function as well and we're gonna be using just in a few of the things fill the bits and bolts and later",
    "start": "3423500",
    "end": "3430430"
  },
  {
    "text": "when that episode finishes I will do a PR and integrate that into future in the front end in the meantime we",
    "start": "3430430",
    "end": "3436309"
  },
  {
    "text": "fixed some little like permissions and things like this but yeah I think that's",
    "start": "3436309",
    "end": "3441999"
  },
  {
    "text": "someone asked me about the outfit right so it's something called a SS workflow I",
    "start": "3441999",
    "end": "3447819"
  },
  {
    "text": "I'm not sure if I added this in the pull request there was not a pull request that I did every in the first pull",
    "start": "3447819",
    "end": "3455059"
  },
  {
    "text": "request when you click enclosed I was adding every tools I'm using for development and Visual Studio extensions",
    "start": "3455059",
    "end": "3463039"
  },
  {
    "text": "which I'm not showing this episode and things like this but I think it was an episode two or three if it's not there",
    "start": "3463039",
    "end": "3468970"
  },
  {
    "text": "ping me on Twitter a tour lessa and we can shop from there thank you I",
    "start": "3468970",
    "end": "3477579"
  },
  {
    "text": "like thank you so much man let me just let me just like I'm little assistant",
    "start": "3477579",
    "end": "3483890"
  },
  {
    "text": "here at the moment no no no do you want to share your video real quick and then we can say bye bye",
    "start": "3483890",
    "end": "3490729"
  },
  {
    "text": "so yours so your things yeah exactly so yeah you're having a raid here at the",
    "start": "3490729",
    "end": "3500150"
  },
  {
    "text": "moment by the way you're in the chat just let you know what's up your gang a",
    "start": "3500150",
    "end": "3507319"
  },
  {
    "text": "raid in the chat an array of the chat oh okay yeah okay yeah I'm not be able to patch",
    "start": "3507319",
    "end": "3514309"
  },
  {
    "text": "your video again my CPU just went ballistic okay so I just want to say thank you for everyone and thanks for listening she",
    "start": "3514309",
    "end": "3521390"
  },
  {
    "text": "was that was really helpful thank you all and enjoy the rest of the day and next actually tomorrow tomorrow we have",
    "start": "3521390",
    "end": "3528229"
  },
  {
    "text": "the next episode and we gonna be we're gonna be showing you how all of that is",
    "start": "3528229",
    "end": "3534170"
  },
  {
    "text": "actually done and the testing pieces and we should be we should be good to go",
    "start": "3534170",
    "end": "3539630"
  },
  {
    "text": "I actually even realized I got the wrong yeah nevermind it's out so that everyone thank you for",
    "start": "3539630",
    "end": "3546589"
  },
  {
    "text": "watching once again and thanks for staying with us catch catch with us on Twitch and we see you tomorrow at 4:00",
    "start": "3546589",
    "end": "3553579"
  },
  {
    "text": "p.m. bond on time thank you",
    "start": "3553579",
    "end": "3557589"
  }
]