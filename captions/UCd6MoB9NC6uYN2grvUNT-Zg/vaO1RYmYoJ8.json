[
  {
    "text": "good afternoon my name is Aaron Armstrong I'm here with my colleague Jeff genteel and we are with the common",
    "start": "0",
    "end": "7560"
  },
  {
    "text": "application and today we're going to present on a project that we undertook",
    "start": "7560",
    "end": "13650"
  },
  {
    "text": "to improve the backup and restore capability we have for the servers that",
    "start": "13650",
    "end": "19710"
  },
  {
    "text": "we run in AWS",
    "start": "19710",
    "end": "23630"
  },
  {
    "text": "should be just a single click yep",
    "start": "29460",
    "end": "35989"
  },
  {
    "text": "alright so I'll start off with a little bit of background about us the common",
    "start": "40690",
    "end": "47500"
  },
  {
    "text": "application is a not-for-profit we've been in business for a little more than",
    "start": "47500",
    "end": "52780"
  },
  {
    "text": "40 years and we provide a platform for high school students to be able to",
    "start": "52780",
    "end": "58750"
  },
  {
    "text": "submit their college undergraduate college applications online we are a",
    "start": "58750",
    "end": "66070"
  },
  {
    "text": "membership association and currently we have more than 500 colleges that are",
    "start": "66070",
    "end": "72310"
  },
  {
    "text": "part of that membership and those colleges allow students to apply to",
    "start": "72310",
    "end": "77890"
  },
  {
    "text": "their institutions using the common app system so in terms of the scope of our",
    "start": "77890",
    "end": "84190"
  },
  {
    "text": "user base we have to primarily to primary user groups the first being the",
    "start": "84190",
    "end": "90130"
  },
  {
    "text": "students themselves the applicants and in our most recent season we had more",
    "start": "90130",
    "end": "95830"
  },
  {
    "text": "than 800,000 students who submitted a combined more than three and a half million application forms the second",
    "start": "95830",
    "end": "105160"
  },
  {
    "text": "primary user group is made up principally of high school counselors",
    "start": "105160",
    "end": "112270"
  },
  {
    "text": "and teachers who are submitting supporting academic data as well as",
    "start": "112270",
    "end": "118770"
  },
  {
    "text": "recommendations on the students behalves and in our recent season there we had a",
    "start": "118770",
    "end": "126610"
  },
  {
    "text": "little over a million users who submitted a combined total of more than 14 million electronic data forms so in",
    "start": "126610",
    "end": "138160"
  },
  {
    "text": "terms of our use of a wo AWS we run our entire infrastructure on AWS we don't",
    "start": "138160",
    "end": "145510"
  },
  {
    "text": "have any on-premise assets and we don't have any servers in any data center we",
    "start": "145510",
    "end": "152470"
  },
  {
    "text": "use most of the core infrastructure services that you're probably familiar with ec2 for virtual machines RDS for",
    "start": "152470",
    "end": "160000"
  },
  {
    "text": "relational database and dynamo for no sequel but we also use some of the",
    "start": "160000",
    "end": "165819"
  },
  {
    "text": "application services like simple workflow and simple queuing service",
    "start": "165819",
    "end": "173040"
  },
  {
    "text": "in terms of our team size we have seven engineers who work within the dev ops",
    "start": "173040",
    "end": "178620"
  },
  {
    "text": "team and they work in a larger technology team that's made up of about",
    "start": "178620",
    "end": "185069"
  },
  {
    "text": "35 people so we're actually just coming up on completing our second full year of",
    "start": "185069",
    "end": "192659"
  },
  {
    "text": "running our production workload in AWS and of course in our early days we were",
    "start": "192659",
    "end": "199470"
  },
  {
    "text": "focused just on understanding the capabilities and getting those capabilities to work with our",
    "start": "199470",
    "end": "205049"
  },
  {
    "text": "application system one of the nice things that you discover when you're working with AWS is how quickly you can",
    "start": "205049",
    "end": "212159"
  },
  {
    "text": "iterate with changes and ideas as they come to you and so with some full",
    "start": "212159",
    "end": "219659"
  },
  {
    "text": "operation under our belt during the course of the last six months we've really turned our attention on where we",
    "start": "219659",
    "end": "226019"
  },
  {
    "text": "can make improvements and revisit some of our previous decisions and approaches",
    "start": "226019",
    "end": "232489"
  },
  {
    "text": "looking for opportunities to have you know better processing efficiencies",
    "start": "232489",
    "end": "238879"
  },
  {
    "text": "taking advantage of automation in more ways particularly using the AWS api's",
    "start": "238879",
    "end": "245129"
  },
  {
    "text": "and reducing our overall cost footprint so it's kind of been in the context of",
    "start": "245129",
    "end": "252900"
  },
  {
    "text": "that mindset of continuous improvement that we had a specific project around",
    "start": "252900",
    "end": "258470"
  },
  {
    "text": "taking a look at our server backup and restore capabilities and so Jeff is",
    "start": "258470",
    "end": "264150"
  },
  {
    "text": "going to talk you through the details of that project and the improvements we were able to make Thank You Erin",
    "start": "264150",
    "end": "270139"
  },
  {
    "text": "everyone hear me okay perfect so before",
    "start": "270139",
    "end": "275370"
  },
  {
    "text": "I get started how many in here already have a backup and restore process that",
    "start": "275370",
    "end": "280979"
  },
  {
    "text": "you're using right now show fans perfect of those folks that have their hands up",
    "start": "280979",
    "end": "286560"
  },
  {
    "text": "how many are still doing it manually in not automating any portion of that wow nice nobody that's good you need me",
    "start": "286560",
    "end": "294150"
  },
  {
    "text": "leave me here anymore everyone so here's the agenda I have laid out for today talking about our story how you know how",
    "start": "294150",
    "end": "302550"
  },
  {
    "text": "we kind of went about things so what was the problem that we faced well it was mainly",
    "start": "302550",
    "end": "307860"
  },
  {
    "text": "you know we had backups we had some restore ability but it wasn't a honed process and really how we got to a more",
    "start": "307860",
    "end": "315749"
  },
  {
    "text": "formal backup process and a more formal restore ability process along the way documenting the entire process next I'm",
    "start": "315749",
    "end": "323849"
  },
  {
    "text": "going to show you what our ecosystem in life cycle looks like from instance to",
    "start": "323849",
    "end": "329219"
  },
  {
    "text": "backup to restore ability next I'm going to talk a little bit about where we want",
    "start": "329219",
    "end": "335009"
  },
  {
    "text": "it to be where we wanted to go as an organization and as a dev ops group kind of big picture ideas as we kind of go",
    "start": "335009",
    "end": "342389"
  },
  {
    "text": "through this entire backup and restore ability process what what was our perfect world scenario once we had that",
    "start": "342389",
    "end": "350819"
  },
  {
    "text": "kind of checklist of things that we wanted how do we go about completing those those tasks talk a little bit",
    "start": "350819",
    "end": "357839"
  },
  {
    "text": "about that what we looked at this this portion of the presentation when we talk",
    "start": "357839",
    "end": "362849"
  },
  {
    "text": "about the solution this is really the heart of the presentation where I really go through what exactly we're doing for",
    "start": "362849",
    "end": "368879"
  },
  {
    "text": "backups and what we're doing for restore ability I have a lot of nice screenshots it's it's not very technical in nature",
    "start": "368879",
    "end": "376409"
  },
  {
    "text": "but this really digs down into exactly what we're doing without showing you any code so kind of reflecting back on the",
    "start": "376409",
    "end": "386699"
  },
  {
    "text": "checklist that we had created from this step a couple steps above where we are today and what that looks like and how",
    "start": "386699",
    "end": "392339"
  },
  {
    "text": "we accomplished our goals to kind of",
    "start": "392339",
    "end": "397349"
  },
  {
    "text": "close the session how you could possibly leverage some of the things that that we",
    "start": "397349",
    "end": "402479"
  },
  {
    "text": "undertook and things that we implemented in just some of the other benefits using the AWS api's to help us since we",
    "start": "402479",
    "end": "409589"
  },
  {
    "text": "operate multiple AWS accounts in multiple regions and then I was talking",
    "start": "409589",
    "end": "415409"
  },
  {
    "text": "with Leo and apparently there hasn't been any time for questions at the end so if you do have any questions or you want to see me about anything Aaron and",
    "start": "415409",
    "end": "421319"
  },
  {
    "text": "I will stay after if you have any questions okay so the problem we face so",
    "start": "421319",
    "end": "427469"
  },
  {
    "text": "stepping back a little bit within our fleet of instances we really classify these as two different types long-lived",
    "start": "427469",
    "end": "435419"
  },
  {
    "text": "or static servers verse uh the the scalable server so auto scale servers the auto scale",
    "start": "435419",
    "end": "442200"
  },
  {
    "text": "servers are really the the machines that host our application the machines that",
    "start": "442200",
    "end": "447510"
  },
  {
    "text": "once you launch them we we assign code to them and they serve application traffic now these instances do not have",
    "start": "447510",
    "end": "455070"
  },
  {
    "text": "any data persistence so we don't need to back those up so we're really going to be talking about our static servers",
    "start": "455070",
    "end": "460710"
  },
  {
    "text": "static servers like NAT VPN ftp ldap if anyone uses ldap things like that and",
    "start": "460710",
    "end": "468920"
  },
  {
    "text": "again when you do backups the reason you have backups is so you can restore in",
    "start": "468920",
    "end": "474750"
  },
  {
    "text": "case something happens and that's really what we focus on really honing in our restore ability but as we got to our",
    "start": "474750",
    "end": "481350"
  },
  {
    "text": "restore process we really kind of figured that we need to go back and look at our our backup process as well and",
    "start": "481350",
    "end": "488000"
  },
  {
    "text": "the two things we looked at as kind of metrics for restore ability quickly",
    "start": "488000",
    "end": "493560"
  },
  {
    "text": "returning operation as fast as possible and retrieval of lost data hopefully there aren't any so what I'm going to be",
    "start": "493560",
    "end": "501960"
  },
  {
    "text": "explaining today is the example is going to be the our FTP site the reason is",
    "start": "501960",
    "end": "508530"
  },
  {
    "text": "because it hosts a hun hundreds of gigs of data it's used every day by our",
    "start": "508530",
    "end": "515070"
  },
  {
    "text": "members and there are hundreds of them so many many users use this every single day and since the data that is on this",
    "start": "515070",
    "end": "522450"
  },
  {
    "text": "ftp site is mission critical for our members its mission critical for us to make sure we don't lose any of their",
    "start": "522450",
    "end": "528210"
  },
  {
    "text": "data so here is what the the ecosystem",
    "start": "528210",
    "end": "533760"
  },
  {
    "text": "and lifecycle really looks like for us so starting at the very top we have our FTP site running running as normal down",
    "start": "533760",
    "end": "541770"
  },
  {
    "text": "below that run deck job does anybody use run decker have heard of run deck before show of hands so one just a few hand my",
    "start": "541770",
    "end": "549630"
  },
  {
    "text": "guys back there so run deck is an open-source job scheduler so what that",
    "start": "549630",
    "end": "555930"
  },
  {
    "text": "really means is if I write some powershell or some Python scripting I can create a run deck job put that code",
    "start": "555930",
    "end": "563160"
  },
  {
    "text": "into run deck and then anybody logging into our run deck you I can run it right",
    "start": "563160",
    "end": "568650"
  },
  {
    "text": "from that you I no sharing of code between colleague",
    "start": "568650",
    "end": "573690"
  },
  {
    "text": "not having to worry about you know libraries installed within Python or PowerShell it's all run all on one",
    "start": "573690",
    "end": "581250"
  },
  {
    "text": "platform and that is run deck and that's how we use it so we have a run deck job",
    "start": "581250",
    "end": "586470"
  },
  {
    "text": "that takes snapshots of our static servers that run deck job points at a",
    "start": "586470",
    "end": "591780"
  },
  {
    "text": "Python snapshot script in that that snapshot script gives us our snapshots",
    "start": "591780",
    "end": "596970"
  },
  {
    "text": "which live within our AWS console so now",
    "start": "596970",
    "end": "604470"
  },
  {
    "text": "let's say we're down to the very bottom our ftp somehow crashes in nobody can",
    "start": "604470",
    "end": "610110"
  },
  {
    "text": "get to it we can even RDP into it what do we do you know we've may have heard",
    "start": "610110",
    "end": "615540"
  },
  {
    "text": "from amazon that yeah that that piece of hardware crashed so we need to go ahead and restore that as soon as possible so",
    "start": "615540",
    "end": "622380"
  },
  {
    "text": "we use run deck again run deck hosts our restore ability script so that run deck",
    "start": "622380",
    "end": "629280"
  },
  {
    "text": "job points to that script and then it gets relaunched it's a brand new instance i'm going to show you a lot of",
    "start": "629280",
    "end": "635130"
  },
  {
    "text": "nice screen shots later on over the run deck UI and how that restore actually works and what the output output of our",
    "start": "635130",
    "end": "641160"
  },
  {
    "text": "restore script looks like so so don't worry about that i'm going to be going through all of that in a minute so we",
    "start": "641160",
    "end": "649080"
  },
  {
    "text": "really brainstormed as a group and an organization on what what we really wanted to achieve from this effort that",
    "start": "649080",
    "end": "656010"
  },
  {
    "text": "Aaron was talking about backups restore ability and here's what we came up with we wanted all of our static servers on",
    "start": "656010",
    "end": "662970"
  },
  {
    "text": "an automated schedule that way some whoa one of the DevOps guys didn't always have to go in and manually click create",
    "start": "662970",
    "end": "669300"
  },
  {
    "text": "snapshot or remember to do it because we all forget things so had to have them on an automated schedule and that's what we",
    "start": "669300",
    "end": "675540"
  },
  {
    "text": "use run deck for because in run deck you can create them on a you can run them at hockley you can run them every week",
    "start": "675540",
    "end": "680910"
  },
  {
    "text": "every day every hour however you want to do it much like a cron job if you're using cron jobs so this is a cron job",
    "start": "680910",
    "end": "686040"
  },
  {
    "text": "with a UI pretty much so rapid restore so when a server is down you want to",
    "start": "686040",
    "end": "691980"
  },
  {
    "text": "restore that as soon as possible with as little inconvenience to your users as possible a manual and scripted restore",
    "start": "691980",
    "end": "699810"
  },
  {
    "text": "option basically we wanted to do a manual at first just just in case you",
    "start": "699810",
    "end": "707280"
  },
  {
    "text": "know anybody on our team was unfamiliar with how the script works so we wanted to document that entire process have that",
    "start": "707280",
    "end": "715170"
  },
  {
    "text": "honed and then go for the scripting and the scripting is what I'm really going to be focusing on during this talk we",
    "start": "715170",
    "end": "721470"
  },
  {
    "text": "wanted to be able to add and remove servers over time within our organization we may spin up instances",
    "start": "721470",
    "end": "727410"
  },
  {
    "text": "you know much like run deck we know run deck is fairly new to us we wanted that",
    "start": "727410",
    "end": "732570"
  },
  {
    "text": "we as we consider a static server so we want to get that backed up so by our process we can certainly do that very",
    "start": "732570",
    "end": "740220"
  },
  {
    "text": "quickly and then lastly show of hands again manager manager director and above",
    "start": "740220",
    "end": "745769"
  },
  {
    "text": "q 2 raise your hand perfect i have some good stuff in here for you too because you guys don't necessarily know how to",
    "start": "745769",
    "end": "751890"
  },
  {
    "text": "make the sausage but you want to make sure the sausage is made so we have some stuff in here to show you as well so now",
    "start": "751890",
    "end": "759300"
  },
  {
    "text": "that we had our our list of things we wanted to accomplish how do we",
    "start": "759300",
    "end": "765060"
  },
  {
    "text": "accomplish them well there's always buying a third party piece of software we looked at something like sked lee",
    "start": "765060",
    "end": "771240"
  },
  {
    "text": "which is just a normal software as a service provider a a nice thing about",
    "start": "771240",
    "end": "777180"
  },
  {
    "text": "them is they were fairly cheap per operation and we could quickly implement them however we chose a different path",
    "start": "777180",
    "end": "785130"
  },
  {
    "text": "we chose to do this all on our own for the reasons you see up on screen so you",
    "start": "785130",
    "end": "791820"
  },
  {
    "text": "know our our group was really gaining expertise and PI expertise in Python and",
    "start": "791820",
    "end": "797510"
  },
  {
    "text": "bodo many people in here use Python and boto together show of hands just a few",
    "start": "797510",
    "end": "804420"
  },
  {
    "text": "okay so bodo is the the sdk for python to to get to the AWS api so that's just",
    "start": "804420",
    "end": "811890"
  },
  {
    "text": "the flavor that we chose within our group again we have a lot of different",
    "start": "811890",
    "end": "817920"
  },
  {
    "text": "systems that we manage we didn't want to have to remember another URL another",
    "start": "817920",
    "end": "823110"
  },
  {
    "text": "username and another password we have plenty of those already and again this was something that we could definitely take on on our own if we did it ro we",
    "start": "823110",
    "end": "832019"
  },
  {
    "text": "could tailor it to our specific needs so skiddley had a lot of different modules that we could have utilized but we had a",
    "start": "832019",
    "end": "839339"
  },
  {
    "text": "specific need in mind and we could certainly do that ourselves and being a not-for-profit as Erin said",
    "start": "839339",
    "end": "845230"
  },
  {
    "text": "in the beginning we are always trying to be as budget-conscious as possible so doing our own solution there was no net",
    "start": "845230",
    "end": "852280"
  },
  {
    "text": "new cost so probably resonates in here as well so this slide really acts as a",
    "start": "852280",
    "end": "858850"
  },
  {
    "text": "as a high level for the slides I'm going to be showing coming up next so as I",
    "start": "858850",
    "end": "865030"
  },
  {
    "text": "mentioned before our snapshot script is through Python the boto SDK and it's all",
    "start": "865030",
    "end": "871350"
  },
  {
    "text": "instance and snapshot based why is this good well this is great because our",
    "start": "871350",
    "end": "878470"
  },
  {
    "text": "Python script can be written once and we don't have to touch it to add and remove",
    "start": "878470",
    "end": "883840"
  },
  {
    "text": "servers that script looks at the instance tags to determine whether it",
    "start": "883840",
    "end": "890110"
  },
  {
    "text": "should be backed up daily weekly monthly or if it should be backed up at all so I'm going to show you some nice",
    "start": "890110",
    "end": "895240"
  },
  {
    "text": "screenshots there snapshot removal based on tags as well again part of that EBS",
    "start": "895240",
    "end": "901870"
  },
  {
    "text": "snapshot script the last portion of that it goes through a delete process again all based on tagging as your backups",
    "start": "901870",
    "end": "910030"
  },
  {
    "text": "accumulate you may not want a full year's worth of backups and you don't want to remember to go back in and",
    "start": "910030",
    "end": "915640"
  },
  {
    "text": "delete them because it's going to cost you money on the s3 a small amount of money but again you want to keep your",
    "start": "915640",
    "end": "920950"
  },
  {
    "text": "your AWS console as clean as possible in reduce your cost at the same time in the",
    "start": "920950",
    "end": "927040"
  },
  {
    "text": "push button restore process this this is really again the the heart of this presentation talking about restore",
    "start": "927040",
    "end": "933370"
  },
  {
    "text": "ability I have a lot of good stuff on that coming up so looking at our",
    "start": "933370",
    "end": "939880"
  },
  {
    "text": "instance tags this is just to give everybody context within the ec2 instances console within the AWS screen",
    "start": "939880",
    "end": "948570"
  },
  {
    "text": "zooming into that here are the tags that we have for our instances right here",
    "start": "948570",
    "end": "956560"
  },
  {
    "text": "this server type this is the main driver for that script that script the first",
    "start": "956560",
    "end": "961750"
  },
  {
    "text": "line it does is say get me a list of all this all the instances that have that tag grabs them all and puts them in a",
    "start": "961750",
    "end": "968290"
  },
  {
    "text": "list that that Python can then use from there and now that I have my list I determine if I need to take a",
    "start": "968290",
    "end": "974740"
  },
  {
    "text": "snapshot of it every single day whether its weekly weather its monthly for weekly we do every Sunday for monthly we",
    "start": "974740",
    "end": "981220"
  },
  {
    "text": "do the last Sunday of every month so we have we have instances ranging throughout and retention days how long",
    "start": "981220",
    "end": "988209"
  },
  {
    "text": "do we want to keep that snapshot around for typically our our processes any",
    "start": "988209",
    "end": "993220"
  },
  {
    "text": "daily we keep for 30 days weekly we will do for 90 and monthly we may do you know",
    "start": "993220",
    "end": "998950"
  },
  {
    "text": "a full year a quick addendum to this screenshot how many in here want to do",
    "start": "998950",
    "end": "1005459"
  },
  {
    "text": "backups hourly or every two or three or four hours anybody see a need for that perfect so we just recently went through",
    "start": "1005459",
    "end": "1012779"
  },
  {
    "text": "an update to this script to allow for that what we did was we repurposed this",
    "start": "1012779",
    "end": "1018600"
  },
  {
    "text": "tag right here and we put in a comma separated list of hours that we need to",
    "start": "1018600",
    "end": "1024449"
  },
  {
    "text": "back it up so for ftp if we wanted to back it up three times a day we could put in midnight six am-12 a.m. and when",
    "start": "1024449",
    "end": "1032280"
  },
  {
    "text": "that script and run deck runs every single hour it'll say hey when i when i parse out this comma separated list is",
    "start": "1032280",
    "end": "1038490"
  },
  {
    "text": "this hour in there if it is take a snapshot if not tell me I don't need a snapshot until two hours from now so",
    "start": "1038490",
    "end": "1045150"
  },
  {
    "text": "that's one quick thing that we did that I'm not showing on screen but again if you want to do it hourly you can go all",
    "start": "1045150",
    "end": "1050490"
  },
  {
    "text": "the way down to that so snapshot tags so once this script runs our snapshots are",
    "start": "1050490",
    "end": "1057690"
  },
  {
    "text": "created one key thing to note our ftp site has three volumes attached to it so",
    "start": "1057690",
    "end": "1062910"
  },
  {
    "text": "it creates three different volumes a 80 gig system drive in to one terabyte data",
    "start": "1062910",
    "end": "1069270"
  },
  {
    "text": "drives that's important for about to show you again all based on tagging so",
    "start": "1069270",
    "end": "1075720"
  },
  {
    "text": "the name we just we like to use the dot notation so it's the name of the instance snapshot your month date that",
    "start": "1075720",
    "end": "1082110"
  },
  {
    "text": "device is very important for us and it may be for you too if you're doing something similar when you have multiple",
    "start": "1082110",
    "end": "1088500"
  },
  {
    "text": "volumes on your instance and you restore or create from a snapshot how are you",
    "start": "1088500",
    "end": "1093809"
  },
  {
    "text": "going to know what volume to to attach that that new volume too well with our",
    "start": "1093809",
    "end": "1099600"
  },
  {
    "text": "scripting we put the device so just looking at this I know that this is a data volume not a system volume system",
    "start": "1099600",
    "end": "1106169"
  },
  {
    "text": "volume would be something like devs sha1 or whatever sda1 i believe it is so",
    "start": "1106169",
    "end": "1114150"
  },
  {
    "text": "looking at that that tells me and it tells the script as well so whether we're doing a manual restore or a",
    "start": "1114150",
    "end": "1119550"
  },
  {
    "text": "scripted restore somebody or the script knows exactly where to remount this volume looking at the instance type",
    "start": "1119550",
    "end": "1126600"
  },
  {
    "text": "right down below this is nice because we can restore that instance to the exact",
    "start": "1126600",
    "end": "1131640"
  },
  {
    "text": "same instance type that it came from that way we're not over or under what we",
    "start": "1131640",
    "end": "1137460"
  },
  {
    "text": "have we certainly don't want to create 2xl on a t2 micro that would be bad the",
    "start": "1137460",
    "end": "1144240"
  },
  {
    "text": "next 1i ops and volume type kind of go hand in hand again very similar to the instance type we want to know what type",
    "start": "1144240",
    "end": "1150900"
  },
  {
    "text": "of what type of volume this came from that way again this is a provision I ops",
    "start": "1150900",
    "end": "1156630"
  },
  {
    "text": "SSD drive with a thousand provisions we probably would not want to create a magnetic disk for this volume so that",
    "start": "1156630",
    "end": "1163590"
  },
  {
    "text": "tells us if we visually have to restore or the script exactly what to create",
    "start": "1163590",
    "end": "1169370"
  },
  {
    "text": "going down the location this just tells us where where the instance in the volumes were this managed by again much",
    "start": "1169370",
    "end": "1177420"
  },
  {
    "text": "like that server type key in static value on the instance this managed by is",
    "start": "1177420",
    "end": "1183750"
  },
  {
    "text": "the driver for our delete process so any snapshot that has that key value pair",
    "start": "1183750",
    "end": "1189720"
  },
  {
    "text": "create a list of them once we have a list of them of them we look at that retain until that retain until will tell",
    "start": "1189720",
    "end": "1197190"
  },
  {
    "text": "us exactly when that's going to be deleted up top here in the name you can see it was created on 66 since it was",
    "start": "1197190",
    "end": "1203670"
  },
  {
    "text": "daily has a 30-day value for retain days",
    "start": "1203670",
    "end": "1208980"
  },
  {
    "text": "it creates 76 so there's your full 30 days and then just source instance in",
    "start": "1208980",
    "end": "1215100"
  },
  {
    "text": "the volume ID we just put those in there just just to have them they're really not important for our scripting purposes",
    "start": "1215100",
    "end": "1220110"
  },
  {
    "text": "but since you can have 10 tags we used all 10 tags alright so that took care of",
    "start": "1220110",
    "end": "1226680"
  },
  {
    "text": "the backup and snapshot process moving forward we're going to be looking at the restore ability here is a screenshot of",
    "start": "1226680",
    "end": "1233880"
  },
  {
    "text": "what run deck looks like from there",
    "start": "1233880",
    "end": "1239430"
  },
  {
    "text": "we're really going to look at the main the main portion of the the UI within",
    "start": "1239430",
    "end": "1245190"
  },
  {
    "text": "run deck you can have variables in your script which are inputs within within run deck so at the very top here when",
    "start": "1245190",
    "end": "1253320"
  },
  {
    "text": "we're doing our restore we have a few of",
    "start": "1253320",
    "end": "1258450"
  },
  {
    "text": "these inputs here so this copying the copying security groups we have a true",
    "start": "1258450",
    "end": "1263610"
  },
  {
    "text": "false drop down so when we restore we can either attach the correct security",
    "start": "1263610",
    "end": "1269460"
  },
  {
    "text": "groups or we don't have to the main reason why you may not want to attach those security groups maybe you want",
    "start": "1269460",
    "end": "1276000"
  },
  {
    "text": "that instance to be created but you don't want to have any network traffic going to it you don't want it communicating to other devices or",
    "start": "1276000",
    "end": "1282870"
  },
  {
    "text": "instances within your network you wouldn't put any security groups on them so that's one reason why we have it",
    "start": "1282870",
    "end": "1289340"
  },
  {
    "text": "let's see the termination so what this will do whenever you launch an instance",
    "start": "1289340",
    "end": "1295950"
  },
  {
    "text": "if you set this to true the EBS volumes will also be deleted when you terminate",
    "start": "1295950",
    "end": "1301290"
  },
  {
    "text": "them when you terminate the instance or you could set it I think I reverse that",
    "start": "1301290",
    "end": "1307550"
  },
  {
    "text": "to leave on termination yeah so if it's true we delete the EBS volumes when you terminate the instance if you set at the",
    "start": "1308060",
    "end": "1315210"
  },
  {
    "text": "false when you terminate the instance those EBS volumes will persist just in case you do need them moving down this",
    "start": "1315210",
    "end": "1322440"
  },
  {
    "text": "is this is just the the drop-down of all of our static servers which ones we want to restore from there the snapshot date",
    "start": "1322440",
    "end": "1330630"
  },
  {
    "text": "at what date and time do we want to restore it from and then down below termination protection I recommend this",
    "start": "1330630",
    "end": "1337650"
  },
  {
    "text": "if you have static servers things that are going to be persistent all year long or however long your life cycles are",
    "start": "1337650",
    "end": "1343320"
  },
  {
    "text": "this prevents anybody from erroneously manually terminating or from your your",
    "start": "1343320",
    "end": "1348630"
  },
  {
    "text": "scripting calls to terminate the process scripting is great but sometimes it can really bite you that may be one of the",
    "start": "1348630",
    "end": "1353940"
  },
  {
    "text": "things if you do any termination through scripting and API calls that's probably something you wouldn't have enabled so",
    "start": "1353940",
    "end": "1360870"
  },
  {
    "text": "that's really the the run deck you I per se now once we created that job and we",
    "start": "1360870",
    "end": "1366960"
  },
  {
    "text": "restored this process we wanted to know what's what's a reasonable expectation that we could that a server would come",
    "start": "1366960",
    "end": "1373860"
  },
  {
    "text": "back up could it be 15 minutes well that kind of sounds okay 10 minutes sounded even better what about five minutes getting a",
    "start": "1373860",
    "end": "1382860"
  },
  {
    "text": "server from the ground up in five minutes and completely be back online that would have been great we were not expecting that so a minute and 35 second",
    "start": "1382860",
    "end": "1391710"
  },
  {
    "text": "restore time for a production FTP site that really astonished us and here is",
    "start": "1391710",
    "end": "1399000"
  },
  {
    "text": "the proof of that so from the very first time we run the script we create the",
    "start": "1399000",
    "end": "1404550"
  },
  {
    "text": "volumes in the very last portion we restart the instance as soon as that instance comes back up it's live so that",
    "start": "1404550",
    "end": "1411630"
  },
  {
    "text": "a minute 35 isn't from ground up in it and it can be hit with traffic that's",
    "start": "1411630",
    "end": "1416850"
  },
  {
    "text": "just all the different all the different layers that that script is going through so whatever it takes amazon to to",
    "start": "1416850",
    "end": "1423630"
  },
  {
    "text": "restart that instance and come back to a running status that's the true that's the true length of time that we would be",
    "start": "1423630",
    "end": "1429090"
  },
  {
    "text": "down but for this script to run it was a minute and 35 seconds so i apologize i",
    "start": "1429090",
    "end": "1434550"
  },
  {
    "text": "wasn't sure how big the screens where it may be better for you guys in the back to look at that but here is really what",
    "start": "1434550",
    "end": "1440640"
  },
  {
    "text": "we're doing in the script the first portion as soon as we run it we create the volumes that's that's great the",
    "start": "1440640",
    "end": "1447780"
  },
  {
    "text": "second portion is are we going to attach the security groups or not on this",
    "start": "1447780",
    "end": "1453210"
  },
  {
    "text": "script I didn't so what this says you can't read it it tells me the security group IDs was not added please make sure",
    "start": "1453210",
    "end": "1460500"
  },
  {
    "text": "you add these manually whenever you are ready the next portion is polling that",
    "start": "1460500",
    "end": "1466650"
  },
  {
    "text": "instance since the instance is now running if anybody has done any API calls you you really have to start",
    "start": "1466650",
    "end": "1473430"
  },
  {
    "text": "pulling your instance to get the correct status because you can't perform specific actions on that instance until",
    "start": "1473430",
    "end": "1479850"
  },
  {
    "text": "it's in a specific state so as you can see here it's starting and the status is pending pending pending the script waits",
    "start": "1479850",
    "end": "1486960"
  },
  {
    "text": "10 seconds for every single time every single poll waits 10 seconds as soon as it becomes in a running state that tells",
    "start": "1486960",
    "end": "1493140"
  },
  {
    "text": "me and tells the script okay I can now start doing whatever I need to to that instance so let's go ahead and add our",
    "start": "1493140",
    "end": "1499260"
  },
  {
    "text": "tags these are the same tags as we saw a few slides ago server type retention",
    "start": "1499260",
    "end": "1504300"
  },
  {
    "text": "days that sort of thing so let's add those termination protection will ahead an able that because that's what",
    "start": "1504300",
    "end": "1509720"
  },
  {
    "text": "we decided we wanted to have and now we need to stop the instance because we",
    "start": "1509720",
    "end": "1514790"
  },
  {
    "text": "need to detach the root volume you cannot detach a root volume when a system is running so you need to stop it",
    "start": "1514790",
    "end": "1521000"
  },
  {
    "text": "again you need to pull that instance until it's in a stopped state here you",
    "start": "1521000",
    "end": "1526430"
  },
  {
    "text": "can see it's running stopping stopping as soon as you get to stopped then we can perform or actions now that it",
    "start": "1526430",
    "end": "1533630"
  },
  {
    "text": "stopped we can detach the root volume and again the root volume has a status",
    "start": "1533630",
    "end": "1539300"
  },
  {
    "text": "as well so it's in use we pull it 10 seconds again until it's available and",
    "start": "1539300",
    "end": "1544460"
  },
  {
    "text": "it's in an available status once it's available it's completely it's completely removed from the instance",
    "start": "1544460",
    "end": "1550390"
  },
  {
    "text": "let's go ahead and attach the three volumes and again looking back at that that snapshot tag system that we have in",
    "start": "1550390",
    "end": "1557990"
  },
  {
    "text": "place we know exactly where to put each one of those so we're not putting a data volume on a system volume and whatnot",
    "start": "1557990",
    "end": "1564710"
  },
  {
    "text": "and then the very end it's deleting the original volume so I can save my boss some money on our budget that way it's",
    "start": "1564710",
    "end": "1571550"
  },
  {
    "text": "not just hanging around costing us money and restarting the instance so that's really what our our script does and",
    "start": "1571550",
    "end": "1577760"
  },
  {
    "text": "again it took them about a minute and 35 seconds so managers and directors this",
    "start": "1577760",
    "end": "1583940"
  },
  {
    "text": "is really geared towards you but again it's geared towards anybody this is a weekly report we have a python script",
    "start": "1583940",
    "end": "1590150"
  },
  {
    "text": "again running and run deck that shows us all of our backup schedules daily weekly",
    "start": "1590150",
    "end": "1595460"
  },
  {
    "text": "monthly hourly whatever all of our instances up here we have volume type",
    "start": "1595460",
    "end": "1600530"
  },
  {
    "text": "and size the expiration expiration is really pulled from retention days on that tag oldest snapshot how many days",
    "start": "1600530",
    "end": "1607580"
  },
  {
    "text": "do we go back last snapshot date and then the snapshot count why this is",
    "start": "1607580",
    "end": "1614210"
  },
  {
    "text": "really helpful came in very handy for us a quick story we were doing some I am",
    "start": "1614210",
    "end": "1619670"
  },
  {
    "text": "role and user permission updates using kind of like a lease permissions idea",
    "start": "1619670",
    "end": "1626270"
  },
  {
    "text": "and we inadvertently removed a role in privilege from the run deck user so when",
    "start": "1626270",
    "end": "1634370"
  },
  {
    "text": "Aaron got this report there were snapshots not showing up in here and we",
    "start": "1634370",
    "end": "1640280"
  },
  {
    "text": "kind of look back why and run deck some nice logging where you can see failed jobs and we look back and said",
    "start": "1640280",
    "end": "1645680"
  },
  {
    "text": "well we didn't have permissions so we were talking to some of the guys on the group said oh yeah we were doing some permission changes and we probably in de",
    "start": "1645680",
    "end": "1652550"
  },
  {
    "text": "ver tantly deleted so that's why this is very helpful again you know something that we have emailed to us every single",
    "start": "1652550",
    "end": "1659480"
  },
  {
    "text": "week it just helps us keep a keen eye on what actually is going on so where we",
    "start": "1659480",
    "end": "1666620"
  },
  {
    "text": "are now again this is the very same checklist as we went through before so all of our static servers are now on an",
    "start": "1666620",
    "end": "1673940"
  },
  {
    "text": "automated schedule through the use of tagging rapid restore normal operation",
    "start": "1673940",
    "end": "1679700"
  },
  {
    "text": "again I think that spoke for itself it really impressed us that we were able to do all of that in a minute and 35 seconds while maintaining a you know a",
    "start": "1679700",
    "end": "1686840"
  },
  {
    "text": "lot of different options whether we want to put in security groups take them out termination protection and all of that",
    "start": "1686840",
    "end": "1692780"
  },
  {
    "text": "stuff a manual inscripted restore option again I focused on the script adoption but the manual the manual restore option",
    "start": "1692780",
    "end": "1701120"
  },
  {
    "text": "really mirrors what we did in code however it's in a nice wiki document step by step with screen shots so if I'm",
    "start": "1701120",
    "end": "1708890"
  },
  {
    "text": "the one writing this code I know exactly how it works but if if I leave the company or I'm sick or something happens",
    "start": "1708890",
    "end": "1715550"
  },
  {
    "text": "to where I'm not called on to restore this instance and somebody and maybe that script doesn't work anymore maybe",
    "start": "1715550",
    "end": "1721040"
  },
  {
    "text": "maybe they changed the boto API or Python 2 version to version 3 no longer",
    "start": "1721040",
    "end": "1726290"
  },
  {
    "text": "works who knows we have a manual process step by step that was that has been vetted by somebody else in our",
    "start": "1726290",
    "end": "1731810"
  },
  {
    "text": "organization somebody other than myself if I wrote it that can go through and say yep that makes perfect sense on",
    "start": "1731810",
    "end": "1737510"
  },
  {
    "text": "exactly those steps that I need adding removing servers over time again all we",
    "start": "1737510",
    "end": "1742580"
  },
  {
    "text": "have to do is add those three tags to our instances in that Python script does not need to be touched it can run hourly",
    "start": "1742580",
    "end": "1748430"
  },
  {
    "text": "daily whatever does not need to be touched all you're doing anybody can do this in the in the the ec2 UI is just",
    "start": "1748430",
    "end": "1755060"
  },
  {
    "text": "updating those stacks you don't have to know code anything like that and again the monitoring and oversight that that",
    "start": "1755060",
    "end": "1761300"
  },
  {
    "text": "that table that i just showed really helped us and it could possibly help you too if you're not doing that currently",
    "start": "1761300",
    "end": "1768190"
  },
  {
    "text": "and maybe i should just skip the rest since everybody's always already doing those automated backups but you know",
    "start": "1768190",
    "end": "1775280"
  },
  {
    "text": "just just figuring out you know how to leverage what what I'm talking about you know if any of this made sense you maybe you",
    "start": "1775280",
    "end": "1781360"
  },
  {
    "text": "could pick and choose some of the things that I was talking about but really determine what your backup your backup",
    "start": "1781360",
    "end": "1786370"
  },
  {
    "text": "process looks like for us we're using the live snapshots what that means is the instances running we're taking",
    "start": "1786370",
    "end": "1792490"
  },
  {
    "text": "snapshots of a running instance there are some potential downsides to that there may be files in flight that when",
    "start": "1792490",
    "end": "1798940"
  },
  {
    "text": "that snapshot is taken you may not get that file or you know if you're running",
    "start": "1798940",
    "end": "1804340"
  },
  {
    "text": "Linux and you're running you know different demons on there one of our instances when we restored we could not",
    "start": "1804340",
    "end": "1811029"
  },
  {
    "text": "restore until we restart the service manually so the instance got brought up but no traffic was going to it we had",
    "start": "1811029",
    "end": "1817240"
  },
  {
    "text": "SSH into that machine restart the service manually and then it came back up that's not to say that's the case",
    "start": "1817240",
    "end": "1823269"
  },
  {
    "text": "every time ftp was perfectly fine the other restore ability testing that we done was perfectly fine this was just on",
    "start": "1823269",
    "end": "1829389"
  },
  {
    "text": "one of our ldap machines and again just something good when you're doing your arrest or ability testing to look for",
    "start": "1829389",
    "end": "1835799"
  },
  {
    "text": "stopping the instance and then snapshotting of course this is the best practice from Amazon so if you are able",
    "start": "1835799",
    "end": "1841510"
  },
  {
    "text": "to stop the instance take the snapshot that is your best bet it quiesce is the file system so it's completely stopped",
    "start": "1841510",
    "end": "1847330"
  },
  {
    "text": "you're not worrying about those files in flight again ftp we can't take down VPN",
    "start": "1847330",
    "end": "1853090"
  },
  {
    "text": "we can't take down those need to be 24-7 machines which is why we went to our live snapshot model in no snapshot maybe",
    "start": "1853090",
    "end": "1860320"
  },
  {
    "text": "you don't need snapshot maybe you're just using the native backups that the application houses you know ldap",
    "start": "1860320",
    "end": "1867100"
  },
  {
    "text": "certainly has one you can just take the native database backups and use that application to do all that and you don't",
    "start": "1867100",
    "end": "1872559"
  },
  {
    "text": "need any snapshots whatsoever but just some just some things to think of as you're going through this process yourselves and again determining which",
    "start": "1872559",
    "end": "1880240"
  },
  {
    "text": "one which servers you're really going to be backing up we we broke them out to say you know we have the scale out",
    "start": "1880240",
    "end": "1886809"
  },
  {
    "text": "server source are static servers we're only going to be backing up our static servers because our scale at servers",
    "start": "1886809",
    "end": "1891970"
  },
  {
    "text": "only house our code and then documenting the process we use something called",
    "start": "1891970",
    "end": "1897549"
  },
  {
    "text": "confluence to document our process it's just an entire week I see not against",
    "start": "1897549",
    "end": "1902590"
  },
  {
    "text": "how many use confluence in here nice so you know I'm talking about wonderful so yeah it's just it's just a really nice",
    "start": "1902590",
    "end": "1908740"
  },
  {
    "text": "wiki so all of this is documented in there in a format that our group agreed upon step",
    "start": "1908740",
    "end": "1914350"
  },
  {
    "text": "by step with the screen shots to the right of them and just some other",
    "start": "1914350",
    "end": "1919690"
  },
  {
    "text": "benefits so whenever we're creating our snapshots indoor am is copying those",
    "start": "1919690",
    "end": "1925029"
  },
  {
    "text": "across regions and across accounts we operate two different accounts production and development account so",
    "start": "1925029",
    "end": "1931570"
  },
  {
    "text": "our am eyes may need to go over to the dev side our snapshots may go over to the dev side but we also operate in",
    "start": "1931570",
    "end": "1937869"
  },
  {
    "text": "regions too so as a part of our backup strategy we also have a script running that copies from one region to another",
    "start": "1937869",
    "end": "1944769"
  },
  {
    "text": "so if if we have snapshots in our let's say West region if they do not exist",
    "start": "1944769",
    "end": "1950649"
  },
  {
    "text": "over in East copy them over so that runs alongside the EBS snapshots crib",
    "start": "1950649",
    "end": "1956639"
  },
  {
    "text": "incremental backups again with the snapshotting that Amazon does the very first snapshot takes the longest just",
    "start": "1956759",
    "end": "1963879"
  },
  {
    "text": "because you're backing up everything those subsequent backups are very very short or just because it's only changing",
    "start": "1963879",
    "end": "1970029"
  },
  {
    "text": "its only grabbing the blocks that have changed since your last snapshot that way you know for our example on ftp we",
    "start": "1970029",
    "end": "1976629"
  },
  {
    "text": "have you know two plus terabytes of data it's not too plus terabytes every single",
    "start": "1976629",
    "end": "1981700"
  },
  {
    "text": "time we're backing up that's good because it takes less time and it saves you less money on s3 because you're not",
    "start": "1981700",
    "end": "1987009"
  },
  {
    "text": "you don't have 4 plus terabytes you have a little over 2 plus terabytes that's",
    "start": "1987009",
    "end": "1993909"
  },
  {
    "text": "really all I have guys how much time do we have left wow nice so I can open up",
    "start": "1993909",
    "end": "2000450"
  },
  {
    "text": "here for questions yes sir",
    "start": "2000450",
    "end": "2004099"
  },
  {
    "text": "run deck we did we have many other uses",
    "start": "2007200",
    "end": "2017020"
  },
  {
    "text": "for run deck that you know whether it's fetching things from github throwing him",
    "start": "2017020",
    "end": "2023559"
  },
  {
    "text": "into run deck we just have a lot of other uses in you know using Python your run deck can do Python bash PowerShell",
    "start": "2023559",
    "end": "2030400"
  },
  {
    "text": "whatever but since we were comfortable using that that's really why we decided to go with run deck it was just very",
    "start": "2030400",
    "end": "2035800"
  },
  {
    "text": "very functional and with run deck you can send emails on success on start and",
    "start": "2035800",
    "end": "2040929"
  },
  {
    "text": "on failure so again another nice option that we had there good question yes sir",
    "start": "2040929",
    "end": "2047670"
  },
  {
    "text": "sure",
    "start": "2065190",
    "end": "2068190"
  },
  {
    "text": "22 now that's a good question i looked",
    "start": "2071720",
    "end": "2080310"
  },
  {
    "text": "into that as well i know they're there is scripting you can do for linux machines so you can quiesce the",
    "start": "2080310",
    "end": "2085679"
  },
  {
    "text": "filesystem take the snapshot and let that file system unfreeze so you can certainly do that it's very vague on if",
    "start": "2085680",
    "end": "2091860"
  },
  {
    "text": "you can do that with windows I was seeing some things where you could but now you can't I was reading some of the",
    "start": "2091860",
    "end": "2098190"
  },
  {
    "text": "community posts on AWS and some of the representatives from AWS said yeah we're",
    "start": "2098190",
    "end": "2103200"
  },
  {
    "text": "aware of that and we're certainly looking into doing something to allowing you to do that to make a more reliable",
    "start": "2103200",
    "end": "2108390"
  },
  {
    "text": "live snapshot process but again that's exactly one of the reasons that you have",
    "start": "2108390",
    "end": "2114180"
  },
  {
    "text": "to take into consideration of course",
    "start": "2114180",
    "end": "2121680"
  },
  {
    "text": "yeah I think I think that that's another reason why this scheme works out really",
    "start": "2121680",
    "end": "2127680"
  },
  {
    "text": "well we basically decided to mitigate that by saying we're going to be really aggressive with the frequency of our",
    "start": "2127680",
    "end": "2133560"
  },
  {
    "text": "backups good so you know we don't necessarily need to get back up every",
    "start": "2133560",
    "end": "2139080"
  },
  {
    "text": "day or a week for a particular server but recognizing exactly what you're talking about we're aggressive with the",
    "start": "2139080",
    "end": "2146160"
  },
  {
    "text": "backups in terms of the frequency and then number two we have kind of a manual",
    "start": "2146160",
    "end": "2151530"
  },
  {
    "text": "approach to periodically testing our restore ability",
    "start": "2151530",
    "end": "2156470"
  },
  {
    "text": "on the restore script yeah I mean we would see that in the the output of the",
    "start": "2163550",
    "end": "2169040"
  },
  {
    "text": "restore script itself in that case to Geoff's point we would probably try to do the restore manually see if that was",
    "start": "2169040",
    "end": "2175700"
  },
  {
    "text": "any more successful and then if that didn't work then we'd have to go back to another backup yep yes sir I'm sorry",
    "start": "2175700",
    "end": "2185330"
  },
  {
    "text": "couldn't hear you I don't know if I follow what do you mean by consistency",
    "start": "2185330",
    "end": "2192280"
  },
  {
    "text": "yeah yep the servers are the types of servers that we're managing with this",
    "start": "2208850",
    "end": "2214650"
  },
  {
    "text": "particular backup process doesn't play in there so you know we use dynamo for",
    "start": "2214650",
    "end": "2221550"
  },
  {
    "text": "no sequel use RDS for relational database and outside of those obviously",
    "start": "2221550",
    "end": "2227580"
  },
  {
    "text": "we're using the backup capability that's there but for the servers we're doing through this process we don't have that",
    "start": "2227580",
    "end": "2233430"
  },
  {
    "text": "oh you is one already yes sir sure so",
    "start": "2233430",
    "end": "2258720"
  },
  {
    "text": "for that process we wouldn't necessarily run that full restore script one of the",
    "start": "2258720",
    "end": "2264150"
  },
  {
    "text": "inputs that we have now within run deck we don't necessarily create that instance we may create the volumes",
    "start": "2264150",
    "end": "2269580"
  },
  {
    "text": "though and then we may assign those volumes to another instance and go in and see if those files are present and",
    "start": "2269580",
    "end": "2274770"
  },
  {
    "text": "we can manually copy them so the restore script doesn't dress that specific need the restore script really addresses if",
    "start": "2274770",
    "end": "2281190"
  },
  {
    "text": "it crashes if there's massive data loss to bring that up as fast as possible but a very good question you were first I'll",
    "start": "2281190",
    "end": "2288480"
  },
  {
    "text": "come right back to you",
    "start": "2288480",
    "end": "2291080"
  },
  {
    "text": "that I don't I don't that's certainly an AWS type question because when you're",
    "start": "2309060",
    "end": "2314350"
  },
  {
    "text": "taking these snapshots even though they're stored in the s3 you don't have access to that s3 bucket they're just in",
    "start": "2314350",
    "end": "2319510"
  },
  {
    "text": "the s3 so you when you're taking a snapshot you're not telling it which which bucket to be put into that's just",
    "start": "2319510",
    "end": "2326110"
  },
  {
    "text": "where they live yeah yeah you know",
    "start": "2326110",
    "end": "2337320"
  },
  {
    "text": "correct yeah so that's what i was getting back to whenever whenever you do the first so if we do a terabyte that",
    "start": "2341040",
    "end": "2347320"
  },
  {
    "text": "for a snapshot will be a terabyte but that second snapshot will just be the incremental correct correct yeah yes sir",
    "start": "2347320",
    "end": "2360810"
  },
  {
    "text": "so the different types of links we're using using a couple so ubuntu for for",
    "start": "2369110",
    "end": "2376040"
  },
  {
    "text": "certain machines centos for our ldap and",
    "start": "2376040",
    "end": "2381760"
  },
  {
    "text": "amazon linux for nat things like that",
    "start": "2382570",
    "end": "2388180"
  },
  {
    "text": "I'm not sure what we're really using yeah",
    "start": "2391180",
    "end": "2398080"
  },
  {
    "text": "gotcha",
    "start": "2426100",
    "end": "2429100"
  },
  {
    "text": "we have not the only thing that we encountered when we did a restore ldap one of our ldap machines uses centos i",
    "start": "2431710",
    "end": "2439960"
  },
  {
    "text": "want to say 5 version 5 guna so that could be one of the reasons why we had",
    "start": "2439960",
    "end": "2445869"
  },
  {
    "text": "the issue is when we did that restore ability the service was started but nothing could hit it so we had to",
    "start": "2445869",
    "end": "2452410"
  },
  {
    "text": "manually go in there through some work that one of our guys did there was a system file that got hung in a status",
    "start": "2452410",
    "end": "2458950"
  },
  {
    "text": "that could just not be it was started but it wasn't really serving idea so a manual restart of that kicked it right",
    "start": "2458950",
    "end": "2464380"
  },
  {
    "text": "into gear and it was working again yes sir so run deck actually runs on it on",
    "start": "2464380",
    "end": "2474820"
  },
  {
    "text": "its own instance so it's a package that you can download we run it on Linux I",
    "start": "2474820",
    "end": "2480130"
  },
  {
    "text": "don't know probably 12 or sent oz maybe amazon in the Amazon linux but it's a",
    "start": "2480130",
    "end": "2485830"
  },
  {
    "text": "linux distribution that you can download and install if if you're looking into",
    "start": "2485830",
    "end": "2491230"
  },
  {
    "text": "run deck you have the run deck master and then you can have multiple runners that actually run your job so if you",
    "start": "2491230",
    "end": "2496750"
  },
  {
    "text": "want to parse out your your python scripts to go to one runner your power shell that goes to another runner to",
    "start": "2496750",
    "end": "2503320"
  },
  {
    "text": "kind of have that separation in case some of your powershell fails or kills the system your powershell scripts will",
    "start": "2503320",
    "end": "2509050"
  },
  {
    "text": "still run as well we get correct yeah",
    "start": "2509050",
    "end": "2515740"
  },
  {
    "text": "whatever whatever their their native storages we use it we use it there we don't we don't have it no it's not we uh",
    "start": "2515740",
    "end": "2523780"
  },
  {
    "text": "we did some testing in performance measures to see the kind of spikes want to want to bigger job runs we sighs the",
    "start": "2523780",
    "end": "2530680"
  },
  {
    "text": "the instances appropriately and no long time but that's a really good question that's really one of the reasons why to",
    "start": "2530680",
    "end": "2536230"
  },
  {
    "text": "use a runner because that master houses all of your jobs and when you run it it",
    "start": "2536230",
    "end": "2541390"
  },
  {
    "text": "kicks that job off to a completely separate instance so if you're only running one job at a time that may not",
    "start": "2541390",
    "end": "2546760"
  },
  {
    "text": "that may not put a lot of weight on your master but when you click that job we have it set up so if it's you know bash",
    "start": "2546760",
    "end": "2552339"
  },
  {
    "text": "or Python it goes to a Linux runner and it runs on that separation so in essence",
    "start": "2552339",
    "end": "2558099"
  },
  {
    "text": "for run deck we have three instances running one master one windows runner in one Linux runner so that kind of",
    "start": "2558099",
    "end": "2564680"
  },
  {
    "text": "mitigate that as well yes sir so with",
    "start": "2564680",
    "end": "2579710"
  },
  {
    "text": "the common application we are not short on alarming I mean pagerduty cloud watch",
    "start": "2579710",
    "end": "2584770"
  },
  {
    "text": "different orchestration tools that we use we get alerts for all of that and it",
    "start": "2584770",
    "end": "2590990"
  },
  {
    "text": "was funny one of the things i was talking aaron and my guys about is what's the over/under on page or duty going off during one of our sessions so",
    "start": "2590990",
    "end": "2597530"
  },
  {
    "text": "but yeah we have many many levels of notifications to to let us know when a you know whether it's high latency high",
    "start": "2597530",
    "end": "2604520"
  },
  {
    "text": "cpu were alerted to that it will pop on one of our screens right behind us we can we can kind of investigate and kind",
    "start": "2604520",
    "end": "2611059"
  },
  {
    "text": "of go from there and look at the logs on there and kind of determine what we need to do way in the back sure so for ftp we",
    "start": "2611059",
    "end": "2629270"
  },
  {
    "text": "are on a 30-day a 30-day back up so that retention that retention days tag so 30",
    "start": "2629270",
    "end": "2635210"
  },
  {
    "text": "days we always have the most current 30 days and as soon as we get that that",
    "start": "2635210",
    "end": "2640849"
  },
  {
    "text": "deletion date that retained until date once that crosses the current date we remove it then the second question",
    "start": "2640849",
    "end": "2649089"
  },
  {
    "text": "yep sure that's interesting one of the",
    "start": "2654640",
    "end": "2666340"
  },
  {
    "text": "things I ran into was if I can try to remember this i received errors I what's",
    "start": "2666340",
    "end": "2674770"
  },
  {
    "text": "that correct in that comes into like a deleted status or something like that",
    "start": "2674770",
    "end": "2680740"
  },
  {
    "text": "yeah I ran into that I couldn't hear you",
    "start": "2680740",
    "end": "2686280"
  },
  {
    "text": "that's that's that's one way to do it yeah but we I found that out when we tried to restore it an instance with a I",
    "start": "2686280",
    "end": "2695280"
  },
  {
    "text": "believe a different vm manager so if you're done i really forget but I know",
    "start": "2695280",
    "end": "2700450"
  },
  {
    "text": "exactly what you're talking about I can't remember the specifics but it doesn't happen to us so we don't have to",
    "start": "2700450",
    "end": "2705820"
  },
  {
    "text": "restore very often we're at all but that's one of the things as I was doing my testing with writing these scripts is you know just to play around and that",
    "start": "2705820",
    "end": "2712960"
  },
  {
    "text": "was one of the things that I saw and I vaguely remember it dealing with using different I want to say different",
    "start": "2712960",
    "end": "2720250"
  },
  {
    "text": "distributions or different virtual machine types something around there",
    "start": "2720250",
    "end": "2726480"
  },
  {
    "text": "you're welcome all set again if you",
    "start": "2726480",
    "end": "2732040"
  },
  {
    "text": "didn't want to ask questions during this I will stay up here and wait for you guys if you have very specific questions thank you for attending",
    "start": "2732040",
    "end": "2738660"
  }
]