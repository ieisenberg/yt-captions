[
  {
    "start": "0",
    "end": "33000"
  },
  {
    "text": "welcome everyone who here has been personally impacted by a security event",
    "start": "140",
    "end": "6720"
  },
  {
    "text": "or a security issue in the past okay just what I thought and those of you who",
    "start": "6720",
    "end": "12660"
  },
  {
    "text": "didn't raise your hand you probably might want to go and search the internet for your personal data and maybe raise",
    "start": "12660",
    "end": "21570"
  },
  {
    "text": "your hand at the end of this session so my name is Ben Potter I'm the security lead for the well architected framework",
    "start": "21570",
    "end": "27840"
  },
  {
    "text": "based out of our Melbourne office in Australia if you haven't gotten the accent through already so this session",
    "start": "27840",
    "end": "34410"
  },
  {
    "start": "33000",
    "end": "87000"
  },
  {
    "text": "is about Incident Response and how we can automate I'll be starting off with how to start your journey even if you're",
    "start": "34410",
    "end": "41370"
  },
  {
    "text": "a fairly mature organization in terms of incident response processes perhaps",
    "start": "41370",
    "end": "46530"
  },
  {
    "text": "you're a financial institution or even if your startup I really hope you're gonna get something out of this session",
    "start": "46530",
    "end": "51920"
  },
  {
    "text": "we're then going to go through an insider threat based on authentication",
    "start": "51920",
    "end": "57870"
  },
  {
    "text": "issues and denies and then we're going to move on to an instance or ec2",
    "start": "57870",
    "end": "63270"
  },
  {
    "text": "instance incident response and how we can automate a forensic investigation on that this is quite a technical session I",
    "start": "63270",
    "end": "70710"
  },
  {
    "text": "have a lot of demo content so we're praying that the Internet is going to be working with us during this session",
    "start": "70710",
    "end": "77390"
  },
  {
    "text": "there is a lot of visuals so there's plenty of seats down the front so if you",
    "start": "77390",
    "end": "82590"
  },
  {
    "text": "are a bit of eyesight issues like myself please come down the front for the rest",
    "start": "82590",
    "end": "88439"
  },
  {
    "start": "87000",
    "end": "140000"
  },
  {
    "text": "of this session I'm going to be Bob I'm not going to be Ben let's put my security cap on yet so I've joined a",
    "start": "88439",
    "end": "96810"
  },
  {
    "text": "DevOps team as the lead security guy in this organization it's a marketing",
    "start": "96810",
    "end": "102479"
  },
  {
    "text": "organization we deal with a lot of customer data security is our number one priority my responsibilities as the",
    "start": "102479",
    "end": "110670"
  },
  {
    "text": "security lead in my tribe my DevOps team I need to beware of security events I",
    "start": "110670",
    "end": "117000"
  },
  {
    "text": "also need to put in preventative controls and also need to use automation",
    "start": "117000",
    "end": "123659"
  },
  {
    "text": "because there's only myself as the security lead of course I've got an escalation part that I can take",
    "start": "123659",
    "end": "129420"
  },
  {
    "text": "and go to the corporate security team but I need to be the owner of security",
    "start": "129420",
    "end": "135750"
  },
  {
    "text": "in fact everyone in my team is the owner of security I'm going to share with you",
    "start": "135750",
    "end": "142290"
  },
  {
    "start": "140000",
    "end": "181000"
  },
  {
    "text": "two interesting experiences and we recently had a team member leave on some",
    "start": "142290",
    "end": "149490"
  },
  {
    "text": "uneasy terms her name was Trudy could be treating the intruder okay I don't know",
    "start": "149490",
    "end": "154980"
  },
  {
    "text": "that so I'm going to share first how we can automatically respond to access",
    "start": "154980",
    "end": "160800"
  },
  {
    "text": "denied attempts through Identity and Access Management service and how we can",
    "start": "160800",
    "end": "165959"
  },
  {
    "text": "automate that and then secondly we'll be going through and I'll be sharing you a solution for automating the incident",
    "start": "165959",
    "end": "172410"
  },
  {
    "text": "response and forensics and this is all about automation code and the tools",
    "start": "172410",
    "end": "177620"
  },
  {
    "text": "based on open source tools that we're going to use where do we start I started",
    "start": "177620",
    "end": "186300"
  },
  {
    "start": "181000",
    "end": "221000"
  },
  {
    "text": "as Bob with the NIST security incident handling guide so this papers a little",
    "start": "186300",
    "end": "193050"
  },
  {
    "text": "old it doesn't even mention the word cloud once in it but it's a really good place to start in terms of how to",
    "start": "193050",
    "end": "200489"
  },
  {
    "text": "prepare your team what processes and procedures that you should be aligning to it also calls that they should",
    "start": "200489",
    "end": "207690"
  },
  {
    "text": "practice responding to an incident practice makes perfect right and as",
    "start": "207690",
    "end": "212730"
  },
  {
    "text": "everyone needs to be a security owner in your organization that echoes throughout the organization and you have a better",
    "start": "212730",
    "end": "219570"
  },
  {
    "text": "outcome in the end these are some of the resources that I used is Bob throughout",
    "start": "219570",
    "end": "225150"
  },
  {
    "start": "221000",
    "end": "324000"
  },
  {
    "text": "my journey as being the security lead so I started off with the AWS security",
    "start": "225150",
    "end": "230760"
  },
  {
    "text": "Center and that links through to the AWS compliance center as well there's a lot of great training material documentation",
    "start": "230760",
    "end": "238260"
  },
  {
    "text": "I then went on to the AWS well architected framework so it has not only",
    "start": "238260",
    "end": "245900"
  },
  {
    "text": "overarching but framework that allows me to better improve my architecture over",
    "start": "245900",
    "end": "252720"
  },
  {
    "text": "time it also has a security white paper we're the number of design principles that I'll show you shortly",
    "start": "252720",
    "end": "260160"
  },
  {
    "text": "finally on this I have a really good Ren vent presentation on incident response",
    "start": "260160",
    "end": "267069"
  },
  {
    "text": "in the cloud from the reinvent at last year also used a reinvent presentation",
    "start": "267069",
    "end": "278020"
  },
  {
    "text": "again at the top there from last year which was using lambda as the security",
    "start": "278020",
    "end": "283630"
  },
  {
    "text": "team so it's only me as the primary security guy so I need to use tools and",
    "start": "283630",
    "end": "289419"
  },
  {
    "text": "automation to help protect my organization I'm also going to be",
    "start": "289419",
    "end": "295180"
  },
  {
    "text": "demoing the open-source sleuth kit with the autopsy tool so this is file based",
    "start": "295180",
    "end": "300340"
  },
  {
    "text": "forensic analysis that's all open source out there and finally the last link",
    "start": "300340",
    "end": "306370"
  },
  {
    "text": "there is the AWS ir github project so there's many people that contribute to",
    "start": "306370",
    "end": "312130"
  },
  {
    "text": "that project and includes many tools including margarita shotgun and also how",
    "start": "312130",
    "end": "317889"
  },
  {
    "text": "to respond to access key compromise automatically as well it's a command line based tool so all the code from",
    "start": "317889",
    "end": "326139"
  },
  {
    "start": "324000",
    "end": "355000"
  },
  {
    "text": "this session that I'm gonna be showing you today is open source now on github I demoed it at the AWS Sydney some of the",
    "start": "326139",
    "end": "334570"
  },
  {
    "text": "few weeks ago there's a few little missing pieces in terms of what we'll be demoing with the memory based forensics",
    "start": "334570",
    "end": "341469"
  },
  {
    "text": "that will be coming soon there but for now you can take a photo off that check it out and I really love to hear",
    "start": "341469",
    "end": "347740"
  },
  {
    "text": "feedback on on this open source project",
    "start": "347740",
    "end": "352440"
  },
  {
    "start": "355000",
    "end": "448000"
  },
  {
    "text": "so as I mention that well architected framework has a number of security design principles the ones that are",
    "start": "356030",
    "end": "362900"
  },
  {
    "text": "going to apply to this session that I learned about and the best practices were automating security best practices",
    "start": "362900",
    "end": "371230"
  },
  {
    "text": "so again automation I'm going to be using lambda for that today and also preparing for security events so I need",
    "start": "371230",
    "end": "379070"
  },
  {
    "text": "to prepare before they happen instead of wait till after the fact and then it's too late and I really don't want my",
    "start": "379070",
    "end": "385970"
  },
  {
    "text": "organization to have that reputational brain damage that can occur so I did",
    "start": "385970",
    "end": "392600"
  },
  {
    "text": "consider running a honeypot to try and trap Trudy from coming in so I decided against it",
    "start": "392600",
    "end": "398180"
  },
  {
    "text": "I decided to use different indicators within my AWS accounts some of these",
    "start": "398180",
    "end": "404450"
  },
  {
    "text": "include the cloud trail so any access denied attempts in cloud trail I want to know about any access denied attempts to",
    "start": "404450",
    "end": "411860"
  },
  {
    "text": "s3 buckets because of course treaty has all that inside knowledge of what all my",
    "start": "411860",
    "end": "416930"
  },
  {
    "text": "bucket names are all the roles all of that I want to make a bet that she's gonna try and come in and I want to be",
    "start": "416930",
    "end": "423169"
  },
  {
    "text": "told when she does or when anyone does try to come into my a diverse environment and try and protect against",
    "start": "423169",
    "end": "429800"
  },
  {
    "text": "it and of course I want to know about abnormal behavior and guard judy the new",
    "start": "429800",
    "end": "435290"
  },
  {
    "text": "AWS service is going to help me detect that abnormal behavior as well is there an existing role or I am user in my",
    "start": "435290",
    "end": "442940"
  },
  {
    "text": "account that is doing something there's not normal for that user so what I did",
    "start": "442940",
    "end": "449600"
  },
  {
    "start": "448000",
    "end": "492000"
  },
  {
    "text": "when I started in the team I labeled all the security logging services that I can",
    "start": "449600",
    "end": "455510"
  },
  {
    "text": "in AWS saw it I already had cloud trail turn on of course so enabled guard duty I enabled all",
    "start": "455510",
    "end": "462280"
  },
  {
    "text": "application and system logs operating system logs going into the cloud watch",
    "start": "462280",
    "end": "469280"
  },
  {
    "text": "log service and also VPC flow logs we didn't have these previously",
    "start": "469280",
    "end": "474689"
  },
  {
    "text": "configured and they give me a really good overview of what's occurring in the environment also AWS config so it gives",
    "start": "474689",
    "end": "483150"
  },
  {
    "text": "me a snapshot over time of what resources have changed and who then linked in with cloud trail to tell me",
    "start": "483150",
    "end": "489270"
  },
  {
    "text": "who has changed over time so the insider treaty hey I'm gonna step through a",
    "start": "489270",
    "end": "498150"
  },
  {
    "start": "492000",
    "end": "532000"
  },
  {
    "text": "solution of how I'm going to detect treaty or any other adversary out there trying to get into my environment so",
    "start": "498150",
    "end": "505319"
  },
  {
    "text": "what I want is to be notified on any access denied attempts who has attempted",
    "start": "505319",
    "end": "511039"
  },
  {
    "text": "what and from where and what the user or role that was denied and also I want to",
    "start": "511039",
    "end": "518399"
  },
  {
    "text": "know who has actually modified that user or role in the past because again we're trying to we're thinking about an",
    "start": "518399",
    "end": "524310"
  },
  {
    "text": "insider threat here and I really want you guys to out there to think about how this can apply to your environment so",
    "start": "524310",
    "end": "532640"
  },
  {
    "start": "532000",
    "end": "576000"
  },
  {
    "text": "I'm going to step through the solution now so I have cloud trail triggers cloud",
    "start": "532640",
    "end": "539339"
  },
  {
    "text": "watch event that I'll step through shortly how that works I have an SMS",
    "start": "539339",
    "end": "545490"
  },
  {
    "text": "topic that SNS topic is listened to by a number of lambda functions I have access",
    "start": "545490",
    "end": "553230"
  },
  {
    "text": "denied responders who that also they get the history of the user or the role and",
    "start": "553230",
    "end": "558570"
  },
  {
    "text": "also the history of the user or role of the one that was actually denied then",
    "start": "558570",
    "end": "565350"
  },
  {
    "text": "I'll push to a single SNS topic that is listened to by our two lambda functions I can do Amazon chime or in the demo",
    "start": "565350",
    "end": "573089"
  },
  {
    "text": "I'll be using slack so I got this slack message once after",
    "start": "573089",
    "end": "580700"
  },
  {
    "start": "576000",
    "end": "785000"
  },
  {
    "text": "soon after configuring this actually so if we have a look at it at the top there we've got our account ID we've got",
    "start": "580700",
    "end": "588740"
  },
  {
    "text": "access denied for user truly - backdoor I probably should have seen that when I",
    "start": "588740",
    "end": "594380"
  },
  {
    "text": "went through the credential report everyone checks the credential report right yeah okay",
    "start": "594380",
    "end": "600670"
  },
  {
    "text": "it's a console login I've got the source IP address I've got the user agent as",
    "start": "600670",
    "end": "606140"
  },
  {
    "text": "well and I'm using a paid for who is service as well and I'm populating all",
    "start": "606140",
    "end": "613730"
  },
  {
    "text": "the Whois information from that particular IP address so I can tell what the country is the service provider the",
    "start": "613730",
    "end": "621800"
  },
  {
    "text": "actual geo location of real location the IP address so I can quickly determine if",
    "start": "621800",
    "end": "626870"
  },
  {
    "text": "it's tour or anonymizing VPN service and",
    "start": "626870",
    "end": "632030"
  },
  {
    "text": "also have the history down there for that particular user but I reckon we",
    "start": "632030",
    "end": "637640"
  },
  {
    "text": "should step into a demo",
    "start": "637640",
    "end": "640750"
  },
  {
    "text": "let's see how the Internet's working so as I mentioned we have cloud trail Logging's already configured we have",
    "start": "642920",
    "end": "649989"
  },
  {
    "text": "cloud watch event rules so I've got two rules here for this I've got an access",
    "start": "649989",
    "end": "655910"
  },
  {
    "text": "denied event and a you're not authorized event so if I drill down on that we can",
    "start": "655910",
    "end": "661819"
  },
  {
    "text": "see apologies I'm just going to zoom in there you can see here I'm looking for",
    "start": "661819",
    "end": "667970"
  },
  {
    "text": "error message of access denied or failed authentication and then my target is",
    "start": "667970",
    "end": "676879"
  },
  {
    "text": "that particular SNS topic so if we go to",
    "start": "676879",
    "end": "682600"
  },
  {
    "text": "lamda now I have a publish user trails history lambda function",
    "start": "682600",
    "end": "691419"
  },
  {
    "text": "and you can tell this is Python and I'll",
    "start": "696090",
    "end": "701370"
  },
  {
    "text": "just scroll down you can see I'm getting my IP geo data here and I'm doing my",
    "start": "701370",
    "end": "707550"
  },
  {
    "text": "cloud trail lookup history from here cloud trail event Jason loads cool right",
    "start": "707550",
    "end": "716930"
  },
  {
    "text": "so let's give it a go shall we did it uh just tryin treaties real use it and see",
    "start": "717610",
    "end": "725920"
  },
  {
    "text": "what it get from that gonna get an access denied unless I",
    "start": "725920",
    "end": "732100"
  },
  {
    "text": "happen to guess her password on a keyboard mash",
    "start": "732100",
    "end": "736440"
  },
  {
    "text": "there we go access denied and if I go through to slack there we go I have my",
    "start": "742120",
    "end": "749939"
  },
  {
    "text": "slack notification of my I am history of the actual I am user and the history of",
    "start": "749939",
    "end": "756970"
  },
  {
    "text": "who's performed the different actions over time on that user or the role of course and I've got my IP information",
    "start": "756970",
    "end": "769509"
  },
  {
    "text": "there as well at the moment of routing through Sydney when you write we're in London",
    "start": "769509",
    "end": "775740"
  },
  {
    "start": "785000",
    "end": "857000"
  },
  {
    "text": "so what I learned is Bob from that is what the automation that are put in place was really really good really",
    "start": "785800",
    "end": "792220"
  },
  {
    "text": "awesome it saved me so much time in having to trawl through cloud trail if I hadn't have configured that I wouldn't",
    "start": "792220",
    "end": "798309"
  },
  {
    "text": "have actually known that somebody was trying to make those access denied attempts on my account",
    "start": "798309",
    "end": "804480"
  },
  {
    "text": "also want to point out that I am users should only be allowed to assume roles",
    "start": "804480",
    "end": "809850"
  },
  {
    "text": "they shouldn't have any privilege directly assigned to them through policy",
    "start": "809850",
    "end": "815799"
  },
  {
    "text": "because with enforcing them to assume a role I can enforce multi-factor",
    "start": "815799",
    "end": "820899"
  },
  {
    "text": "authentication which is a good security practice I also want to think of how I can improve this over time is a simple",
    "start": "820899",
    "end": "828639"
  },
  {
    "text": "slack notification good enough should I put in more preventative controls to stop insider threats should I think",
    "start": "828639",
    "end": "837220"
  },
  {
    "text": "about better isolation of roles and alignment with security policy into what",
    "start": "837220",
    "end": "843850"
  },
  {
    "text": "that person's job role is yes yes I should and we pound our ex-employee",
    "start": "843850",
    "end": "849879"
  },
  {
    "text": "treaty logs have been sent off for further investigation by law enforcement",
    "start": "849879",
    "end": "855939"
  },
  {
    "text": "I want to share with you now the next chapter so this is how I am going to",
    "start": "855939",
    "end": "862899"
  },
  {
    "text": "respond to an ec2 instance that's been compromised that's been discovered by",
    "start": "862899",
    "end": "868360"
  },
  {
    "text": "guard duty but it could also be any other mechanism so anything that can",
    "start": "868360",
    "end": "873730"
  },
  {
    "text": "push an instance ID to an SNS topic so many of the partner tools out there can",
    "start": "873730",
    "end": "879970"
  },
  {
    "text": "do this of course or I can write my own scripts to push an instance ID to an SNS topic and then the rest is taken care of",
    "start": "879970",
    "end": "886509"
  },
  {
    "text": "for me so you to bear with me this solutions a little bit complicated so",
    "start": "886509",
    "end": "891910"
  },
  {
    "text": "I've got my SNS topic that listens to the instance ID I then going to verify",
    "start": "891910",
    "end": "897009"
  },
  {
    "text": "that instance ID is okay I don't want to pull out this instance from running if",
    "start": "897009",
    "end": "902169"
  },
  {
    "text": "it's the only one it's my critical production single point of failure server I think in a invoke a step",
    "start": "902169",
    "end": "908439"
  },
  {
    "text": "function and let's step through what that does so I'm going to remove from auto-scaling",
    "start": "908439",
    "end": "913480"
  },
  {
    "text": "I'm gonna snapshot any e yes attached volumes to that instance then going to record all the ec2",
    "start": "913480",
    "end": "920320"
  },
  {
    "text": "metadata so what the IP address details are that what am I it was launched with",
    "start": "920320",
    "end": "927210"
  },
  {
    "text": "subnets it's in all of that information I'm gonna apply tags that it's under investigation and then I'm gonna notify",
    "start": "927210",
    "end": "934570"
  },
  {
    "text": "through the slack channel to the entire tribe that this instance has been",
    "start": "934570",
    "end": "940030"
  },
  {
    "text": "compromised and that an investigation is going to automatically start I'm",
    "start": "940030",
    "end": "946120"
  },
  {
    "text": "thinking to isolate this instance by removing all existing security groups",
    "start": "946120",
    "end": "951280"
  },
  {
    "text": "and I'm going to attach an isolation security group which has no ingress and",
    "start": "951280",
    "end": "956560"
  },
  {
    "text": "no egress permissions the no egress permissions on this is incredibly important because with egress",
    "start": "956560",
    "end": "963280"
  },
  {
    "text": "permissions if it still had an ec2 role and anniversary had access to it then",
    "start": "963280",
    "end": "969700"
  },
  {
    "text": "they could do anything that that role allows them access to if they of course",
    "start": "969700",
    "end": "975610"
  },
  {
    "text": "had access to the AWS api's we're then going to create a clean room using",
    "start": "975610",
    "end": "981550"
  },
  {
    "text": "CloudFormation completely separate VPC and we're going to launch a forensic",
    "start": "981550",
    "end": "987160"
  },
  {
    "text": "investigation instance which has all the tools pre-built in an ami and we're",
    "start": "987160",
    "end": "992530"
  },
  {
    "text": "gonna run the basic forensics the demo that's up on github is only running file",
    "start": "992530",
    "end": "997780"
  },
  {
    "text": "based forensics and really is just a demo for deleted files but of course you",
    "start": "997780",
    "end": "1002910"
  },
  {
    "text": "can take it and extend it the code with what you what you want to do for your solution we're then going to generate a",
    "start": "1002910",
    "end": "1010860"
  },
  {
    "text": "report and it takes some you know five to ten minutes depending on the instance size and the volume is attached then",
    "start": "1010860",
    "end": "1017100"
  },
  {
    "text": "we're going to send that through to the slack Channel as well so if we recap we're isolating the instance so it's not",
    "start": "1017100",
    "end": "1023640"
  },
  {
    "text": "doing any damage but we're keeping it there in case we want to do further investigation so I'm not a forensic",
    "start": "1023640",
    "end": "1030510"
  },
  {
    "text": "expert but I want to leave it there in place in case somebody else wants to in",
    "start": "1030510",
    "end": "1035550"
  },
  {
    "text": "the future and of course law enforcement etc so I wake up one morning to this message",
    "start": "1035550",
    "end": "1042150"
  },
  {
    "text": "again soon after I put it in place we have the account idea at the top we have",
    "start": "1042150",
    "end": "1048000"
  },
  {
    "text": "the instance ID and the incidence has been isolated due to a finding of guard",
    "start": "1048000",
    "end": "1054540"
  },
  {
    "text": "duty and then we have just so the team's aware of what's going to happen next we've got the steps for what the step",
    "start": "1054540",
    "end": "1061290"
  },
  {
    "text": "function is going to perform and it will also give us a link to where the",
    "start": "1061290",
    "end": "1066690"
  },
  {
    "text": "information is in the s3 bucket so some minutes later I received this",
    "start": "1066690",
    "end": "1077309"
  },
  {
    "text": "again we've got the link to the bucket and if we look down the bottom there we have this is a deleted file report from",
    "start": "1077490",
    "end": "1084220"
  },
  {
    "text": "sleuth kit down the bottom there we've got a deleted file in user bin name hacked I",
    "start": "1084220",
    "end": "1090700"
  },
  {
    "text": "know it's pretty obvious but we could actually use this if we knew what the",
    "start": "1090700",
    "end": "1096400"
  },
  {
    "text": "file system contents were for the base ami we could actually do an automated diff between what good and normal looks",
    "start": "1096400",
    "end": "1103780"
  },
  {
    "text": "like in a trusted golden image in the AMI with what a potentially compromised",
    "start": "1103780",
    "end": "1109780"
  },
  {
    "text": "instance is right let's have a look how this is going to work",
    "start": "1109780",
    "end": "1116520"
  },
  {
    "text": "everyone can just stop your downloads on the internet that will be appreciated",
    "start": "1117990",
    "end": "1124170"
  },
  {
    "text": "[Music]",
    "start": "1124170",
    "end": "1127259"
  },
  {
    "text": "so we have our event here which triggers through from guard duty",
    "start": "1131650",
    "end": "1138250"
  },
  {
    "text": "it's a guard treat it can be configured with a cloud watch event to trigger off this whole step function that so I'm",
    "start": "1138250",
    "end": "1146410"
  },
  {
    "text": "going to manually execute the step function now passing at the instance ID normally this would be the SNS topic",
    "start": "1146410",
    "end": "1152830"
  },
  {
    "text": "that would actually do the trigger so we've got a started here and I'll just",
    "start": "1152830",
    "end": "1162700"
  },
  {
    "text": "drill down on the execution here",
    "start": "1162700",
    "end": "1166710"
  },
  {
    "text": "so we've got a capability in there to create a support ticket so if you have a ticketing system that you can you want",
    "start": "1170540",
    "end": "1177680"
  },
  {
    "text": "and integrate with just place your code into there we're gonna start isolating the incident at the instance wait for",
    "start": "1177680",
    "end": "1184190"
  },
  {
    "text": "that to be completed and then we're gonna alight the lote the security team",
    "start": "1184190",
    "end": "1190270"
  },
  {
    "text": "there we go we've got our alert here that the instance has been isolated and",
    "start": "1191320",
    "end": "1197450"
  },
  {
    "text": "we've got the real instance ID in there and we've also got this information here",
    "start": "1197450",
    "end": "1203000"
  },
  {
    "text": "so it's already being drained from the target group in the application load",
    "start": "1203000",
    "end": "1208940"
  },
  {
    "text": "balancer and this was step through preparing the instance for remediation",
    "start": "1208940",
    "end": "1215710"
  },
  {
    "text": "and starting that forensic instance in the clean room let's just see how we're",
    "start": "1215710",
    "end": "1225320"
  },
  {
    "text": "going yeah so the instance used to be have a",
    "start": "1225320",
    "end": "1231789"
  },
  {
    "text": "security group of of this particular name auto scaling group so if we just do",
    "start": "1231789",
    "end": "1237970"
  },
  {
    "text": "a refresh here",
    "start": "1237970",
    "end": "1240840"
  },
  {
    "text": "we can now see the isolated security groups already been applied we just did a refresh we drove down on that we have",
    "start": "1243800",
    "end": "1253590"
  },
  {
    "text": "no ingress or inbound permissions and we have no outbound or egress permissions",
    "start": "1253590",
    "end": "1259650"
  },
  {
    "text": "so this instance is basically isolated from any network activity",
    "start": "1259650",
    "end": "1266840"
  },
  {
    "text": "for go over 2v pcs now we have our incident response V PC we have our V PC",
    "start": "1273600",
    "end": "1287070"
  },
  {
    "text": "there we have our subnets there",
    "start": "1287070",
    "end": "1291799"
  },
  {
    "text": "just go back to that step function see how that one's going oh there we go",
    "start": "1294670",
    "end": "1300860"
  },
  {
    "text": "it's it's almost complete we're just waiting for that forensic instance to",
    "start": "1300860",
    "end": "1305900"
  },
  {
    "start": "1303000",
    "end": "1412000"
  },
  {
    "text": "boot up and then we'll start running those basic sleuth kit commands on it",
    "start": "1305900",
    "end": "1312190"
  },
  {
    "text": "we actually go over to",
    "start": "1327120",
    "end": "1331010"
  },
  {
    "text": "ec2 run commands we're using Systems",
    "start": "1332140",
    "end": "1337370"
  },
  {
    "text": "Manager to run the commands based on the Systems Manager agent on the forensic",
    "start": "1337370",
    "end": "1342860"
  },
  {
    "text": "instance right so that means I don't need to log into the forensic instance",
    "start": "1342860",
    "end": "1349960"
  },
  {
    "text": "this room is killing me",
    "start": "1358570",
    "end": "1362039"
  },
  {
    "text": "okay let's go step",
    "start": "1366410",
    "end": "1372190"
  },
  {
    "text": "and you can see here on the SSM activation job I've got my details here",
    "start": "1372190",
    "end": "1378790"
  },
  {
    "text": "in Jason and I've got my snapshot idea of the snapshot that was taken of the instance their availability zone etc I",
    "start": "1378790",
    "end": "1388350"
  },
  {
    "text": "have my forensics report instance ID and all that the case ID as well and that's",
    "start": "1390030",
    "end": "1397090"
  },
  {
    "text": "just the dummy case ID that I've passed through cool so it's all succeeded and",
    "start": "1397090",
    "end": "1403770"
  },
  {
    "text": "there we go where are we too many",
    "start": "1403770",
    "end": "1410080"
  },
  {
    "text": "notifications and there's my hacked file",
    "start": "1410080",
    "end": "1415150"
  },
  {
    "start": "1412000",
    "end": "1851000"
  },
  {
    "text": "there from the Select notification so this is just details of the latest",
    "start": "1415150",
    "end": "1420540"
  },
  {
    "text": "deleted files off the file system why I think this is relevant is anniversary",
    "start": "1420540",
    "end": "1426940"
  },
  {
    "text": "who does gain access to that instance will try if they do any file based",
    "start": "1426940",
    "end": "1432010"
  },
  {
    "text": "attacks or put any files or will maybe generate a log file or something like that I can get the deleted files back",
    "start": "1432010",
    "end": "1438580"
  },
  {
    "text": "from the snapshot I've taken using the sleuth kit I can also use the autopsy",
    "start": "1438580",
    "end": "1446230"
  },
  {
    "text": "tool which is part of sleuth kit it's got a nice graphical user interface",
    "start": "1446230",
    "end": "1451420"
  },
  {
    "text": "under windows to drill down and get more information",
    "start": "1451420",
    "end": "1456880"
  },
  {
    "text": "about this particular file system so I have here my victim duplicate of the",
    "start": "1456880",
    "end": "1465100"
  },
  {
    "text": "disk victim DD I can get all the deleted files through here as well and drill",
    "start": "1465100",
    "end": "1471400"
  },
  {
    "text": "down so I've got my visual representation I can create a timeline of everything that's occurred on the",
    "start": "1471400",
    "end": "1478659"
  },
  {
    "text": "file system both what's active and what's deleted but more importantly so this is the mechanism I can compare",
    "start": "1478659",
    "end": "1485200"
  },
  {
    "text": "against the golden image you know if this is an advanced persistent threat it might be very difficult to determine",
    "start": "1485200",
    "end": "1491530"
  },
  {
    "text": "what's going on but by comparing back to what the base ami is it's really really powerful",
    "start": "1491530",
    "end": "1497890"
  },
  {
    "text": "I can also import different hash sets here as well and compare against different hash sets out there for known",
    "start": "1497890",
    "end": "1504039"
  },
  {
    "text": "bad things that can be found on file systems",
    "start": "1504039",
    "end": "1509190"
  },
  {
    "text": "what I can also do is and not included in the github project yet I can also",
    "start": "1512390",
    "end": "1521350"
  },
  {
    "text": "take a memory dump and I've already taken a memory dump just do this example",
    "start": "1523150",
    "end": "1528470"
  },
  {
    "text": "of windows instance that I was investigating earlier yes I should have",
    "start": "1528470",
    "end": "1533750"
  },
  {
    "text": "put the security updates in there but these open-source tools can be a bit funny with the latest libraries and",
    "start": "1533750",
    "end": "1539780"
  },
  {
    "text": "modules in there so I'm using open source memory imager so I can use Linux",
    "start": "1539780",
    "end": "1548170"
  },
  {
    "text": "lime tool so I'm using open source",
    "start": "1548170",
    "end": "1553370"
  },
  {
    "text": "volatility memory forensics tool let me just zoom in there so these are all the",
    "start": "1553370",
    "end": "1559670"
  },
  {
    "text": "different commands I'll just scroll up to the top sorry guys so I can get out of memory from the",
    "start": "1559670",
    "end": "1565940"
  },
  {
    "text": "memory dump of the running instance whether it's Linux or Windows I can get processed lists I can get net stat",
    "start": "1565940",
    "end": "1573760"
  },
  {
    "text": "information I can even grab running executables out of the running memory",
    "start": "1573760",
    "end": "1579890"
  },
  {
    "text": "and then do further analysis on that or save to a file and run it through like anti-malware or something like that",
    "start": "1579890",
    "end": "1585790"
  },
  {
    "text": "incredibly powerful I'll just show you one I prepared",
    "start": "1585790",
    "end": "1592820"
  },
  {
    "text": "earlier",
    "start": "1592820",
    "end": "1595000"
  },
  {
    "text": "let's do a process list",
    "start": "1598340",
    "end": "1602859"
  },
  {
    "text": "so these are all the running processes on that instance at the time that I took",
    "start": "1603980",
    "end": "1609440"
  },
  {
    "text": "the memory dump so you can see I'm running PowerShell",
    "start": "1609440",
    "end": "1615660"
  },
  {
    "text": "etc and again I could compare this to the known good ami to determine where",
    "start": "1615660",
    "end": "1620820"
  },
  {
    "text": "I'm at at this point in time let's see what else I can do as this is a Windows",
    "start": "1620820",
    "end": "1628320"
  },
  {
    "text": "instance I could see what's on the clipboard I know this one takes a few",
    "start": "1628320",
    "end": "1634710"
  },
  {
    "text": "seconds so",
    "start": "1634710",
    "end": "1638539"
  },
  {
    "text": "so by doing this memory forensics and the file-based I can get a picture of",
    "start": "1641060",
    "end": "1646700"
  },
  {
    "text": "what's stored on disk and what's in memory so any advanced persistent",
    "start": "1646700",
    "end": "1651860"
  },
  {
    "text": "threats out there and there are some that don't record anything to disk I could get them out of memory by doing a",
    "start": "1651860",
    "end": "1658730"
  },
  {
    "text": "memory dump in the AWS by our tool that I had up earlier from github that",
    "start": "1658730",
    "end": "1665480"
  },
  {
    "text": "actually has a tool called margarita shotgun which automates the memory based",
    "start": "1665480",
    "end": "1671360"
  },
  {
    "text": "dump from Linux and automatically puts it into an s3 bucket as well and you can",
    "start": "1671360",
    "end": "1677870"
  },
  {
    "text": "see here my clipboard analysis has happened and somebody put get a London",
    "start": "1677870",
    "end": "1683750"
  },
  {
    "text": "on the clipboard hilarious",
    "start": "1683750",
    "end": "1689170"
  },
  {
    "text": "what else can I do",
    "start": "1689389",
    "end": "1692679"
  },
  {
    "text": "I can do a timeline er so this would give me a memory a",
    "start": "1694560",
    "end": "1700740"
  },
  {
    "text": "timeline of what's in memory or what has been in memory as well",
    "start": "1700740",
    "end": "1706159"
  },
  {
    "text": "just give that one a few moments",
    "start": "1708510",
    "end": "1712740"
  },
  {
    "text": "what that's doing that I just want to show you the lambda functions that we've got that back these step functions",
    "start": "1720020",
    "end": "1727360"
  },
  {
    "text": "to have my isolate instance here again",
    "start": "1733690",
    "end": "1740440"
  },
  {
    "text": "these all these lambda functions are part of the github project out there as well",
    "start": "1740440",
    "end": "1747090"
  },
  {
    "text": "here we go and again this is a Python and it's",
    "start": "1759820",
    "end": "1770550"
  },
  {
    "text": "simply looking at you'll be",
    "start": "1770550",
    "end": "1774230"
  },
  {
    "text": "let's go to the alb and just check that that instance is gone so I'm gonna check the target group and you can see I've",
    "start": "1775890",
    "end": "1783510"
  },
  {
    "text": "only got two instances in there I don't have one named victim so it's automatically taken that instance out of",
    "start": "1783510",
    "end": "1791010"
  },
  {
    "text": "the target group for the application load balancer so my instance is isolated",
    "start": "1791010",
    "end": "1797309"
  },
  {
    "text": "let me just check the tags on that shall we I should have known with the name of",
    "start": "1797309",
    "end": "1805169"
  },
  {
    "text": "victim fire that was going to be a victim so I have a key called is",
    "start": "1805169",
    "end": "1810299"
  },
  {
    "text": "isolated and the value is instance isolated there cool let's go back here",
    "start": "1810299",
    "end": "1819899"
  },
  {
    "text": "and this lot of mash is the memory timeline from the volatility tool so I",
    "start": "1819899",
    "end": "1827580"
  },
  {
    "text": "can go through and again I can do a diff or I can use this for further",
    "start": "1827580",
    "end": "1832769"
  },
  {
    "text": "investigation from a properly qualified forensic investigator",
    "start": "1832769",
    "end": "1838850"
  },
  {
    "start": "1851000",
    "end": "2016000"
  },
  {
    "text": "so what we just achieved was something went bump in the night in this case it",
    "start": "1852040",
    "end": "1858850"
  },
  {
    "text": "was guard duty detected it just really really cool but no human interaction was",
    "start": "1858850",
    "end": "1864190"
  },
  {
    "text": "needed so I didn't need to get out of bed it was actually automatically detected and not found when it was too",
    "start": "1864190",
    "end": "1871480"
  },
  {
    "text": "late and our business was in the news and I automatically got all that basic",
    "start": "1871480",
    "end": "1878170"
  },
  {
    "text": "forensic infant investigation information and also had the snapshot of",
    "start": "1878170",
    "end": "1883750"
  },
  {
    "text": "all the information that I could do further analysis or call in an expert if I needed to for once the security system",
    "start": "1883750",
    "end": "1890770"
  },
  {
    "text": "didn't break anything cool that's good I've got those checks in place and I have that mechanism to compare against",
    "start": "1890770",
    "end": "1898090"
  },
  {
    "text": "what good and bad is what I learned that incidents are always badly time timed",
    "start": "1898090",
    "end": "1905610"
  },
  {
    "text": "especially if you if you even know about them in the first place if you look at the statistics on advanced persistent",
    "start": "1905610",
    "end": "1912460"
  },
  {
    "text": "threats its many months on average that those adversaries are within an",
    "start": "1912460",
    "end": "1918940"
  },
  {
    "text": "environment before they're discovered security incidents can cause incredible",
    "start": "1918940",
    "end": "1924880"
  },
  {
    "text": "long-term damage no matter how simple they are for your organization you",
    "start": "1924880",
    "end": "1931750"
  },
  {
    "text": "absolutely need to prepare for an incident before it's too late awareness training and of course tools",
    "start": "1931750",
    "end": "1939190"
  },
  {
    "text": "like I've demoed today will put you in a good place to respond to an incident",
    "start": "1939190",
    "end": "1944410"
  },
  {
    "text": "it's not the end it's just the beginning so it's beginning of their journey and I",
    "start": "1944410",
    "end": "1949450"
  },
  {
    "text": "really recommend you practice through game days not just your security team responding to an incident but your",
    "start": "1949450",
    "end": "1955420"
  },
  {
    "text": "entire team that supports the application all the way up to the business owners c-level and of course if",
    "start": "1955420",
    "end": "1961690"
  },
  {
    "text": "you have a PR or marketing team as well involve them in the process everyone should be a security owner I always stay",
    "start": "1961690",
    "end": "1970840"
  },
  {
    "text": "up to date with not only the latest in the industry news and Twitter and etc out there but also keep an eye on the",
    "start": "1970840",
    "end": "1977770"
  },
  {
    "text": "AWS security blog because you never know what really cool stuff is out there there's a lot of these code",
    "start": "1977770",
    "end": "1983510"
  },
  {
    "text": "samples that come from time to time and in particular around incident response lambda functions to try and secure your",
    "start": "1983510",
    "end": "1990830"
  },
  {
    "text": "AWS environment so that's all I had for today I really hope you'll go to the",
    "start": "1990830",
    "end": "1997640"
  },
  {
    "text": "github project give it a go and also keep an eye on it in the coming months and I'm gonna head straight to the AWS",
    "start": "1997640",
    "end": "2005470"
  },
  {
    "text": "booth where I'll be available there for any questions but I thank you all for attending thank you",
    "start": "2005470",
    "end": "2011940"
  },
  {
    "text": "[Applause]",
    "start": "2011940",
    "end": "2018219"
  }
]