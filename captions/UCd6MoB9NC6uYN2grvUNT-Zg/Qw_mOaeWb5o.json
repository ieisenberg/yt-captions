[
  {
    "text": "well this is pretty cool there's a lot of you out here I think the room fits like 260 250 so it's pretty awesome um",
    "start": "1000",
    "end": "8960"
  },
  {
    "text": "my name is Matt Williams I'm the Evangelist at data dog and uh just kind of curious how many of you have uh heard",
    "start": "8960",
    "end": "16160"
  },
  {
    "text": "of data dog let's start there okay good having the huge Booth with uh big",
    "start": "16160",
    "end": "21320"
  },
  {
    "text": "monoliths and lights probably helps uh how many of you uh have gotten the demo okay cool yeah how many of you use",
    "start": "21320",
    "end": "29279"
  },
  {
    "text": "data dog awesome awesome uh what's next from there I can't think of any other",
    "start": "29279",
    "end": "35640"
  },
  {
    "text": "questions so um this session is monitoring strategies finding signal in",
    "start": "35640",
    "end": "41160"
  },
  {
    "text": "the noise very cool title I think the session is pretty cool as well uh but",
    "start": "41160",
    "end": "46840"
  },
  {
    "text": "for the um the for those of you who might not be familiar with what we do uh",
    "start": "46840",
    "end": "52120"
  },
  {
    "text": "this is not going to be a sales pitch but I do want to say what we are uh we're SAS space monitoring platform",
    "start": "52120",
    "end": "58480"
  },
  {
    "text": "basically the idea you load up a agent on each host and then we start giving you data about what's going on within",
    "start": "58480",
    "end": "64680"
  },
  {
    "text": "your environment and um the talk is talking about you know how uh how to",
    "start": "64680",
    "end": "71479"
  },
  {
    "text": "deal with all these metrics that you're collecting you're potentially collecting a lot of metrics you know we see this",
    "start": "71479",
    "end": "77080"
  },
  {
    "text": "because you know we're collecting a lot of metrics for all of our customers and",
    "start": "77080",
    "end": "82119"
  },
  {
    "text": "we used to use a figure in our in our talks um maybe four months ago that said we were bringing in about two billion",
    "start": "82119",
    "end": "88920"
  },
  {
    "text": "data points every day uh from all of our customers huge huge number um and I checked last night asked",
    "start": "88920",
    "end": "95200"
  },
  {
    "text": "some of the developers what's the current number and we looked it up and um right now the number is somewhere",
    "start": "95200",
    "end": "101479"
  },
  {
    "text": "around five or six million data points every minute which comes out to about",
    "start": "101479",
    "end": "107960"
  },
  {
    "text": "now last night probably wasn't in the right state to do a lot of math but it came out to about seven or so billion",
    "start": "107960",
    "end": "115240"
  },
  {
    "text": "data points a day which is wow huge amazing um so you know when now you",
    "start": "115240",
    "end": "121079"
  },
  {
    "text": "aren't dealing with s billion data points every day but you are dealing with perhaps thousands um or tens of",
    "start": "121079",
    "end": "127599"
  },
  {
    "text": "thousands and knowing what to look at and uh making sure that you don't get",
    "start": "127599",
    "end": "132879"
  },
  {
    "text": "hammered with alerts that don't make any sense or don't mean anything is is the goal of this session I want to make sure",
    "start": "132879",
    "end": "139000"
  },
  {
    "text": "that you uh maybe get down to just the few major alerts that really make sense",
    "start": "139000",
    "end": "144319"
  },
  {
    "text": "for your environment now I can't give you turn on this alert and this alert",
    "start": "144319",
    "end": "150000"
  },
  {
    "text": "and this alert and this alert and you're good and you're done and that's your Ops job is finished you have can move on",
    "start": "150000",
    "end": "155360"
  },
  {
    "text": "something else there's no way to do that uh because your environment is totally different than my environment is totally",
    "start": "155360",
    "end": "161480"
  },
  {
    "text": "different from the guy or girl next to you so you know there's no way to come up with you what is the the one thing to",
    "start": "161480",
    "end": "168879"
  },
  {
    "text": "do but at least I can give you uh some some guidance as to what to look at so",
    "start": "168879",
    "end": "174800"
  },
  {
    "text": "the way I like to start off is collecting data is cheap so grab all of it um not having it when you need it is",
    "start": "174800",
    "end": "181560"
  },
  {
    "text": "going to be really expensive now this is I don't want to say controversial but you know there's I guess there's two",
    "start": "181560",
    "end": "187200"
  },
  {
    "text": "major camps there's um there's the guys the the folks who say um collect everything and then there's the other",
    "start": "187200",
    "end": "193040"
  },
  {
    "text": "ones who say uh well only collect what you need and then when you're done with that stop collecting that and continue",
    "start": "193040",
    "end": "199319"
  },
  {
    "text": "on and then when there's a problem start collecting that thing and and then stop um because you know the the the having",
    "start": "199319",
    "end": "206080"
  },
  {
    "text": "the the storage to collect all this stuff is is expens potentially expensive but we we think the other way we think",
    "start": "206080",
    "end": "211519"
  },
  {
    "text": "you should collect everything um and again not having it when you need it is really expensive because chances are if",
    "start": "211519",
    "end": "217239"
  },
  {
    "text": "you uh turn on monitoring for whatever has the problem today um You probably",
    "start": "217239",
    "end": "222959"
  },
  {
    "text": "missed the thing that caused it right at the beginning maybe two days ago or two months ago um and being able to roll",
    "start": "222959",
    "end": "229000"
  },
  {
    "text": "back in time to the previous you know two months um to find out what what was",
    "start": "229000",
    "end": "234200"
  },
  {
    "text": "a series of events that uh came out to you know ended up in uh uh this uh disaster",
    "start": "234200",
    "end": "240400"
  },
  {
    "text": "um you know and if you don't collect you're not going to have that so I originally had a picture in here you",
    "start": "240400",
    "end": "247200"
  },
  {
    "text": "probably know what the picture is because you've seen it on the internet instrument all the things it had you know that that character with a yellow",
    "start": "247200",
    "end": "254680"
  },
  {
    "text": "know everybody knows that apparently there's a copyright on that and uh I shouldn't have included it but the AWS",
    "start": "254680",
    "end": "260799"
  },
  {
    "text": "said o That's you you got do you have rights for that they said no I don't have rights so I'm back to just text but",
    "start": "260799",
    "end": "267240"
  },
  {
    "text": "you can imagine um and the reason why this is uh um uh",
    "start": "267240",
    "end": "275919"
  },
  {
    "text": "complicated you know the we'd like to think of operational complexity you know that um the number of metrics that we're",
    "start": "275919",
    "end": "282199"
  },
  {
    "text": "having to collect and process through it's only going up and this is becoming more and more true as we start using",
    "start": "282199",
    "end": "288080"
  },
  {
    "text": "Docker as well um Docker you know we're a lot of us are using Docker um in our",
    "start": "288080",
    "end": "293400"
  },
  {
    "text": "environments and uh and we looked at um you know do is just one example but uh",
    "start": "293400",
    "end": "299120"
  },
  {
    "text": "we looked at of our customers and we looked at um you know who are the ones who are actually using Docker um and",
    "start": "299120",
    "end": "306440"
  },
  {
    "text": "then uh and then out of those how many containers are they are they running and how many hosts they have and we come up",
    "start": "306440",
    "end": "312840"
  },
  {
    "text": "with kind of average number of containers per host now it's not I don't know if this is totally",
    "start": "312840",
    "end": "319039"
  },
  {
    "text": "accurate because I mean there's some uh a lot of of our customers are just start kind of playing around with it and they",
    "start": "319039",
    "end": "324520"
  },
  {
    "text": "may have uh one host and they've got two or three containers just to see what what what's going on on and then we've",
    "start": "324520",
    "end": "330520"
  },
  {
    "text": "got other customers that have um thousands of hosts each with thousands of containers ending up with hundreds of",
    "start": "330520",
    "end": "337120"
  },
  {
    "text": "thousands of containers on on certain days um and so coming up with one number for average number is kind of tough but",
    "start": "337120",
    "end": "343720"
  },
  {
    "text": "right now the average is two which is actually when I when I asked about that",
    "start": "343720",
    "end": "349520"
  },
  {
    "text": "um I found out this uh couple days ago because last uh we did this kind of study a year ago and the number was five",
    "start": "349520",
    "end": "357560"
  },
  {
    "text": "so thought well wait are we using fewer containers no the the reason is uh",
    "start": "357560",
    "end": "363080"
  },
  {
    "text": "basically we've got far more customers that are using Docker um but a lot of",
    "start": "363080",
    "end": "368680"
  },
  {
    "text": "them are still just kind of in the evaluation stage so that's kind of brought the number now down we're going to have a blog post about this uh pretty",
    "start": "368680",
    "end": "375199"
  },
  {
    "text": "soon um about who's using Docker how are they using it what are they",
    "start": "375199",
    "end": "380520"
  },
  {
    "text": "monitoring um that is kind of weird sucking on that little thing so I'm going to pull out",
    "start": "380639",
    "end": "386919"
  },
  {
    "text": "model um so the the result is you end up with nend",
    "start": "386919",
    "end": "393800"
  },
  {
    "text": "times as many uh hosts that you need to manage and this affects you know pretty much the entire Ops flow you know from",
    "start": "393800",
    "end": "401440"
  },
  {
    "text": "provisioning and configuration and orchestration all the way down to what we care about at data dog which is",
    "start": "401440",
    "end": "409880"
  },
  {
    "text": "monitoring and that complexity just increases as uh number of things uh change number of things that you need to",
    "start": "409880",
    "end": "415800"
  },
  {
    "text": "measure increases and velocity of change so that is not moving on there we go um and",
    "start": "415800",
    "end": "422599"
  },
  {
    "text": "this uh uh velocity um or a number of things to measure uh basically we look",
    "start": "422599",
    "end": "427720"
  },
  {
    "text": "at um you know for every hosted machine every uh uh virtual machine that you have every instance you have you",
    "start": "427720",
    "end": "433680"
  },
  {
    "text": "probably have about 10 metrics that you're looking at just on the hosted uh on the on that virtual machine those are",
    "start": "433680",
    "end": "438759"
  },
  {
    "text": "probably 10 metrics are coming from cloudwatch and then there are the operating system you load up some OS",
    "start": "438759",
    "end": "445120"
  },
  {
    "text": "it's kind of a weird Echo isn't there that's uh no maybe not um then there's",
    "start": "445120",
    "end": "450319"
  },
  {
    "text": "some sort of operating system that's running on top of uh the virtual machine which is probably going to be Linux yeah",
    "start": "450319",
    "end": "455680"
  },
  {
    "text": "it could be windows but it's probably going to be Linux and you've probably got another 100 or so metrics there and then you've got n containers um so",
    "start": "455680",
    "end": "462879"
  },
  {
    "text": "you've probably got another 100 or so times n and then you end up with about 110 plus 100 time n um per virtual",
    "start": "462879",
    "end": "471720"
  },
  {
    "text": "machine and okay we can all multiply times two so 100 virtual machines ends",
    "start": "471720",
    "end": "477039"
  },
  {
    "text": "up with if we've got an average of two we end up with about 200 containers really hard math here and if we end up",
    "start": "477039",
    "end": "485080"
  },
  {
    "text": "we have 160 metrics per host with just a virtual machine we end up with about 310",
    "start": "485080",
    "end": "490120"
  },
  {
    "text": "metrics per host now usually I I've I've Incorporated some of these slides in other decks before um and usually when I",
    "start": "490120",
    "end": "497840"
  },
  {
    "text": "get to the slide there's always somebody who sends me an email saying your math is wrong no no no it's not wrong because",
    "start": "497840",
    "end": "505199"
  },
  {
    "text": "100 plus 100 * N 200 200 plus is 310 so",
    "start": "505199",
    "end": "510560"
  },
  {
    "text": "just have just in case there's one of you that was going to send me an email no my math is correct it's even easier",
    "start": "510560",
    "end": "516800"
  },
  {
    "text": "to do it two versus",
    "start": "516800",
    "end": "520279"
  },
  {
    "text": "five okay so if we have um that many metrics if we' got 100 virtual machines",
    "start": "521919",
    "end": "528080"
  },
  {
    "text": "now we're dealing with about 31,000 or more uh metrics overall that we're having to process through so you know",
    "start": "528080",
    "end": "534680"
  },
  {
    "text": "things just get really really complicated and and that's what we want to talk about I keep pressing this thing",
    "start": "534680",
    "end": "540880"
  },
  {
    "text": "so velocity of change is another uh factor and so you know uh physical boxes might have a lifetime of months or years",
    "start": "540880",
    "end": "550160"
  },
  {
    "text": "I know there's probably some server room that still has a IBM os2 box running somewhere um and uh then virtual",
    "start": "550160",
    "end": "557320"
  },
  {
    "text": "machines or instances probably have lifetimes of maybe months or days maybe",
    "start": "557320",
    "end": "562680"
  },
  {
    "text": "hours or minutes when you realize you did something stupid and shut it down and then but containers often have",
    "start": "562680",
    "end": "568000"
  },
  {
    "text": "lifetimes of minutes maybe hours maybe days but usually by then you're going to cycle it and bring it back up",
    "start": "568000",
    "end": "575079"
  },
  {
    "text": "again so how can you deal with all this stuff well the first thing the first the easiest thing to deal with that we like",
    "start": "575079",
    "end": "581399"
  },
  {
    "text": "to talk about is tagging um tags definitely make it easier to to manage the number of machines and um so with",
    "start": "581399",
    "end": "588480"
  },
  {
    "text": "tags tags allow you to um kind of basically make subsets of all your",
    "start": "588480",
    "end": "593600"
  },
  {
    "text": "machines you've got a thousand boxes you've got 10,000 boxes you want to create a subset um so you can ask",
    "start": "593600",
    "end": "599800"
  },
  {
    "text": "questions because a lot of your job is about asking these questions I want to know which uh containers have a resident",
    "start": "599800",
    "end": "605880"
  },
  {
    "text": "set size greater than or less than a gigabyte um but I only care about the",
    "start": "605880",
    "end": "611079"
  },
  {
    "text": "machines that are running the image web and are running in Region uswest 2 and",
    "start": "611079",
    "end": "616440"
  },
  {
    "text": "are on all on any of the azs um and they're running a instant size uh C3",
    "start": "616440",
    "end": "623200"
  },
  {
    "text": "XL and so I can uh start incorporating tags so I might assign a tag to every",
    "start": "623200",
    "end": "628600"
  },
  {
    "text": "single uh container and every uh host saying all the things that are running",
    "start": "628600",
    "end": "633760"
  },
  {
    "text": "the image web are going to have the tag image web all the things that are in uswest 2 have that uh tag all the azs",
    "start": "633760",
    "end": "641079"
  },
  {
    "text": "have their tags and all the instances that are C3 XLS have that particular tag",
    "start": "641079",
    "end": "646240"
  },
  {
    "text": "as well cool so now I can change the query",
    "start": "646240",
    "end": "653839"
  },
  {
    "text": "really easy because I've just created this small subset I've gone down from 10,000 down to maybe 10 machines and I",
    "start": "653839",
    "end": "659440"
  },
  {
    "text": "can change that query to say hey just give me all the machines that are using one and a half times the average",
    "start": "659440",
    "end": "665000"
  },
  {
    "text": "resident set size so um tagging by assigning these tags and and what's",
    "start": "665000",
    "end": "671040"
  },
  {
    "text": "really great about this is that um as I as I uh um uh add more machines add as",
    "start": "671040",
    "end": "677680"
  },
  {
    "text": "add more containers I don't have to change the query because the query already defines the tags and so all I",
    "start": "677680",
    "end": "684040"
  },
  {
    "text": "have to do is make sure that every container that gets added has the same the right tags for image web and uswest",
    "start": "684040",
    "end": "690360"
  },
  {
    "text": "2 and if I'm dealing with um you know the the the machines and then uh",
    "start": "690360",
    "end": "696120"
  },
  {
    "text": "containers that I'm bringing up on Amazon a lot of that those tags get put in there automatically because we do",
    "start": "696120",
    "end": "702160"
  },
  {
    "text": "that on the console um in uh on the AWS console and then get they get uh you",
    "start": "702160",
    "end": "707519"
  },
  {
    "text": "know inherited in in data dog so some of the tags that we could be",
    "start": "707519",
    "end": "713600"
  },
  {
    "text": "using uh include demo engine X or demo Docker you know I like to do a demo mat",
    "start": "713600",
    "end": "719240"
  },
  {
    "text": "demo that way I can see my demo machines rather than you know somebody else's demo machines or platform AWS because",
    "start": "719240",
    "end": "726800"
  },
  {
    "text": "some of us have to run on HP cloud and fusion uh sorry Azure or digital Ocean",
    "start": "726800",
    "end": "732519"
  },
  {
    "text": "or somebody else but most of us are going to be at least mostly on ad OBS because hey we're here at uh",
    "start": "732519",
    "end": "739240"
  },
  {
    "text": "reinvent so tags are great tags are awesome but they only help with part of",
    "start": "739240",
    "end": "745560"
  },
  {
    "text": "the problem they only help with subsetting the number of machines that we're looking at they don't really help with the idea of I've got 10,000 metrics",
    "start": "745560",
    "end": "753720"
  },
  {
    "text": "on every single machine which ones do I look at and so we looked at a lot of um",
    "start": "753720",
    "end": "760360"
  },
  {
    "text": "there's a lot of uh uh articles on the web and books out there and one there's one really great one from uh Brendan",
    "start": "760360",
    "end": "766279"
  },
  {
    "text": "Greg um I never remember the title system administr enterprise system administration something like that",
    "start": "766279",
    "end": "772639"
  },
  {
    "text": "really great uh book uh talks about um uh utilization uh saturation and errors",
    "start": "772639",
    "end": "778800"
  },
  {
    "text": "as a of grouping different uh metrics um there's some other guys have talked about uh um uh other ways to uh make",
    "start": "778800",
    "end": "787760"
  },
  {
    "text": "sure you create um alerts based on metrics that actually mean something and we've kind of looked at all these",
    "start": "787760",
    "end": "793440"
  },
  {
    "text": "different articles all these different books brought it all together to come up with kind of a simplified way of looking",
    "start": "793440",
    "end": "799720"
  },
  {
    "text": "at all of your metrics and so that's what we got here yeah okay um so we've got uh three",
    "start": "799720",
    "end": "808440"
  },
  {
    "text": "groups of of uh of things there are the work metrics the resource metrics and the",
    "start": "808440",
    "end": "814800"
  },
  {
    "text": "events so work metrics are things like throughput um how much work is getting",
    "start": "814800",
    "end": "820000"
  },
  {
    "text": "through uh the system how much uh uh requests per second uh queries uh process per second um uh things that H",
    "start": "820000",
    "end": "827519"
  },
  {
    "text": "that happen per second widgets that created success rate how many of those are successful errors how many of them",
    "start": "827519",
    "end": "833279"
  },
  {
    "text": "don't aren't successful performance overall performance uh of of that um uh",
    "start": "833279",
    "end": "839079"
  },
  {
    "text": "machine of that box of that application work metrics are the things that are the",
    "start": "839079",
    "end": "844440"
  },
  {
    "text": "most important everything else just adds context so the resource metrics add",
    "start": "844440",
    "end": "849959"
  },
  {
    "text": "context to those work metrics resource metrics include utilization you know CPU",
    "start": "849959",
    "end": "855399"
  },
  {
    "text": "utilization is one of those things that you know every vendor says okay here's CPU utilization even the simplest um you",
    "start": "855399",
    "end": "863639"
  },
  {
    "text": "know top looks at uh CPU utilization and it is pretty much the most worthless metric to look at because it doesn't",
    "start": "863639",
    "end": "870279"
  },
  {
    "text": "tell you anything it adds context to the work metrics but it doesn't tell you anything on its own if I see 90% CPU",
    "start": "870279",
    "end": "877759"
  },
  {
    "text": "utilization on my box so maybe it's supposed to be at 90% every day at 4",
    "start": "877759",
    "end": "883399"
  },
  {
    "text": "p.m. and at 5:00 P p.m. it drops down to zero or 10 and and that's just normal so",
    "start": "883399",
    "end": "888480"
  },
  {
    "text": "utilization on its own doesn't tell me anything I need that to use that in context with the throughput with the",
    "start": "888480",
    "end": "895519"
  },
  {
    "text": "success with the performance um same thing with saturation saturation is talking about Q's um so if uh U your",
    "start": "895519",
    "end": "903040"
  },
  {
    "text": "resource whatever that thing is is oversaturated there's probably going to be a que that gets built up um and",
    "start": "903040",
    "end": "909440"
  },
  {
    "text": "ideally you want that uh que to be always at zero sometimes it might creep up higher 0 1 2 34 or 10,000 but you",
    "start": "909440",
    "end": "917399"
  },
  {
    "text": "really want it to be at zero um but on its own that Q length that saturation",
    "start": "917399",
    "end": "923240"
  },
  {
    "text": "number doesn't really tell you much it's not until you put it in context with throughput with success and with",
    "start": "923240",
    "end": "928639"
  },
  {
    "text": "performance the same thing with um some some errors on the resource side and availability",
    "start": "928639",
    "end": "934480"
  },
  {
    "text": "and then there's the events events on their own don't tell you anything hey there was a code change hey there was a",
    "start": "934480",
    "end": "940440"
  },
  {
    "text": "a new version of the application was pushed out to the servers so what yeah",
    "start": "940440",
    "end": "945880"
  },
  {
    "text": "okay that's great we're moving we're uh progressing we're making changes and we're getting better but it doesn't tell",
    "start": "945880",
    "end": "951160"
  },
  {
    "text": "you anything it's only in support of some drast uh requests per second went down to all of a sudden went from you",
    "start": "951160",
    "end": "957560"
  },
  {
    "text": "know 100 requests per second down to zero in one second um and there just",
    "start": "957560",
    "end": "964040"
  },
  {
    "text": "happen to be a code change two seconds before that huh that it becomes a",
    "start": "964040",
    "end": "969319"
  },
  {
    "text": "valuable uh bit of information in the context of um that work metric",
    "start": "969319",
    "end": "975759"
  },
  {
    "text": "okay so given that that group of things uh we like to say alert liberally page",
    "start": "975759",
    "end": "983880"
  },
  {
    "text": "judiciously oh I actually said that right often I have to say anyway judiciously um so the idea here is we",
    "start": "983880",
    "end": "991240"
  },
  {
    "text": "should alert on everything not everything on a lot of stuff um everything that's uh you know that's",
    "start": "991240",
    "end": "996880"
  },
  {
    "text": "memorable anything that you want to be able to document because your alerting platform becomes kind of the",
    "start": "996880",
    "end": "1002399"
  },
  {
    "text": "documentation for uh your system overall system you get to see okay I don't have to look at huge dashboards um to",
    "start": "1002399",
    "end": "1010800"
  },
  {
    "text": "understand my performance over the last 10 days or 10 months I can look at my list of alerts that have fired each day",
    "start": "1010800",
    "end": "1017000"
  },
  {
    "text": "and I can see okay here's how things have gone but when I say alert I'm not",
    "start": "1017000",
    "end": "1022199"
  },
  {
    "text": "necessarily talking about notifications notifications I can add on to an alert but an alert on its own could just be",
    "start": "1022199",
    "end": "1029038"
  },
  {
    "text": "the documentation just a record of what's gone on alerts could also include",
    "start": "1029039",
    "end": "1034880"
  },
  {
    "text": "notifications and so some of those notifications might be just a maybe a low-level email or a adding to a chat to",
    "start": "1034880",
    "end": "1041678"
  },
  {
    "text": "a slack room or hipchat um just saying hey I deployed version two I deployed",
    "start": "1041679",
    "end": "1047480"
  },
  {
    "text": "version three whatever it is but then there's the really important stuff the key those key metrics that um",
    "start": "1047480",
    "end": "1053240"
  },
  {
    "text": "you know uh presentent uh number of uh request process per second drops down to",
    "start": "1053240",
    "end": "1058600"
  },
  {
    "text": "zero in one second you know this really steep drop that's something I want to get alerted as a page now when I say",
    "start": "1058600",
    "end": "1065360"
  },
  {
    "text": "page there are some people probably in the room that don't know what a pager is",
    "start": "1065360",
    "end": "1071440"
  },
  {
    "text": "so there were these little devices that people would carry often doctors uh the",
    "start": "1071440",
    "end": "1077320"
  },
  {
    "text": "people I knew who carried pagers tended to be the the drug dealers in my school but anyway there were also all sorts of",
    "start": "1077320",
    "end": "1083840"
  },
  {
    "text": "other people that would carry pagers and then you get a page and it says some number and you run to a pay phone and",
    "start": "1083840",
    "end": "1089640"
  },
  {
    "text": "you uh yeah okay payones let's uh I don't know I don't know how to explain",
    "start": "1089640",
    "end": "1095480"
  },
  {
    "text": "payones but um uh anyway so alerts uh pagers um yeah they've pretty much gone",
    "start": "1095480",
    "end": "1101440"
  },
  {
    "text": "away I think they might all the pager networks are gone there are some I think pag networks around hospitals but",
    "start": "1101440",
    "end": "1108280"
  },
  {
    "text": "they're pretty much all gone but so when I say page I'm talking about getting a text message or maybe some sort of high",
    "start": "1108280",
    "end": "1114679"
  },
  {
    "text": "priority email uh you know prioritize from the sender you",
    "start": "1114679",
    "end": "1120799"
  },
  {
    "text": "whatever so page judiciously on just the things that really matter and you should",
    "start": "1121120",
    "end": "1127600"
  },
  {
    "text": "be paging on symptoms what are those key work metrics um that you know request",
    "start": "1127600",
    "end": "1133000"
  },
  {
    "text": "per second uh drop connections all those key things that and be paging based on",
    "start": "1133000",
    "end": "1138120"
  },
  {
    "text": "that type of stuff so page on symptoms not on the causes okay so we created a nice little",
    "start": "1138120",
    "end": "1145840"
  },
  {
    "text": "graphic about this page on symptoms and the symptoms are the work metrics uh",
    "start": "1145840",
    "end": "1150960"
  },
  {
    "text": "investigate using Diagnostics uh and the Diagnostics include the work metrics and resource",
    "start": "1150960",
    "end": "1156600"
  },
  {
    "text": "metrics and event so you you look at those work metrics and you say Okay I I understand what's going on um but let me",
    "start": "1156600",
    "end": "1162960"
  },
  {
    "text": "use the uh work other work metrics other uh resource metrics and other events to add context to the overall picture so I",
    "start": "1162960",
    "end": "1170799"
  },
  {
    "text": "understand the full story but of course you know this is what I'm looking at right now is focused",
    "start": "1170799",
    "end": "1177480"
  },
  {
    "text": "on you know one application maybe engine X or postgress or reddis or vernish or",
    "start": "1177480",
    "end": "1183000"
  },
  {
    "text": "something else but these applications don't run in a vacuum they work together",
    "start": "1183000",
    "end": "1188559"
  },
  {
    "text": "they depend on each other so if I've got a postgress server or sorry an engine X server that is uh serving out my uh my",
    "start": "1188559",
    "end": "1195039"
  },
  {
    "text": "web application and um but some of that data comes from from a database and that",
    "start": "1195039",
    "end": "1200200"
  },
  {
    "text": "database is postgress and maybe some of it's cached maybe in reddis or something else now I've got dependencies that",
    "start": "1200200",
    "end": "1206240"
  },
  {
    "text": "engine X server has dependencies on all these other things and so we like to think you should be looking at those",
    "start": "1206240",
    "end": "1212320"
  },
  {
    "text": "work metrics looking at the resource metrics to get context and looking at the events again to add context and as",
    "start": "1212320",
    "end": "1218320"
  },
  {
    "text": "you start to realize oh actually there's no problem on engine X let's dig a little deeper and look at postgress okay",
    "start": "1218320",
    "end": "1224760"
  },
  {
    "text": "work metrics resource events okay and all good there let's dig deeper okay",
    "start": "1224760",
    "end": "1230000"
  },
  {
    "text": "maybe it's uh Docker um the docker host um okay work metrics resources advanc",
    "start": "1230000",
    "end": "1235880"
  },
  {
    "text": "okay everything's good there let's go deeper maybe the host OS uh Linux so look at work metrics and so forth so you",
    "start": "1235880",
    "end": "1242640"
  },
  {
    "text": "keep kind of going through this process and cycling down digging deeper and",
    "start": "1242640",
    "end": "1248000"
  },
  {
    "text": "deeper and so again that uh list of um metric of grouping of metrics we got",
    "start": "1248000",
    "end": "1254440"
  },
  {
    "text": "work metrics um work metrics includes um throughput uh success uh performance um",
    "start": "1254440",
    "end": "1263360"
  },
  {
    "text": "key errors resource metrics includes utilization so CPU utilization dis iio",
    "start": "1263360",
    "end": "1270159"
  },
  {
    "text": "uh other types of things like that saturation uh Q length for my databased Q length for not so much an engine I",
    "start": "1270159",
    "end": "1277320"
  },
  {
    "text": "mean engine X is designed to be to to uh process all those requests as they come in so they doesn't ever get to be a q",
    "start": "1277320",
    "end": "1284120"
  },
  {
    "text": "you can set up a q in enginex but uh usually it's never going to be uh much more than you know one or two um but uh",
    "start": "1284120",
    "end": "1291880"
  },
  {
    "text": "and so uh so it could be uh um the the engine xq um and then events which are",
    "start": "1291880",
    "end": "1298279"
  },
  {
    "text": "code changes alerts scaling events and so forth okay so let's look at some",
    "start": "1298279",
    "end": "1303720"
  },
  {
    "text": "examples the first thing is engine X now I do uh I've done uh I guess a couple",
    "start": "1303720",
    "end": "1308840"
  },
  {
    "text": "weeks ago is at engine X comp um and done a bunch of engine X related events so I engine X is the first thing that",
    "start": "1308840",
    "end": "1315120"
  },
  {
    "text": "always comes to mind in my demos because I spend a lot of time with engine X and so the work metrics that we deal",
    "start": "1315120",
    "end": "1320840"
  },
  {
    "text": "with with engine X are going to be request per second how many people are requesting my page or my site every",
    "start": "1320840",
    "end": "1327400"
  },
  {
    "text": "second um and uh and you know if this number goes up well maybe that's good",
    "start": "1327400",
    "end": "1334960"
  },
  {
    "text": "maybe it's bad I don't know and if it but if it drops maybe it's good or bad depends it depends on your context if it",
    "start": "1334960",
    "end": "1340760"
  },
  {
    "text": "drops pretty drastically it's probably bad but it doesn't necessarily mean",
    "start": "1340760",
    "end": "1345960"
  },
  {
    "text": "there's a problem on engine X it could mean that there's a problem somewhere further up um somewhere",
    "start": "1345960",
    "end": "1352159"
  },
  {
    "text": "between the web server and the outside world some router some box somewhere",
    "start": "1352159",
    "end": "1357679"
  },
  {
    "text": "networking box um there's drop connections um when the engine X server",
    "start": "1357679",
    "end": "1363320"
  },
  {
    "text": "just can't handle anything anything else it drops connections bad um generally",
    "start": "1363320",
    "end": "1368880"
  },
  {
    "text": "bad uh and so you shouldn't have more than you know whatever some you you need to come up with the number for you what",
    "start": "1368880",
    "end": "1375640"
  },
  {
    "text": "makes sense for you um is it any anything more than zero is bad or",
    "start": "1375640",
    "end": "1381039"
  },
  {
    "text": "anything more than 5% 10% depending on your environment uh work metrics for uh",
    "start": "1381039",
    "end": "1387799"
  },
  {
    "text": "continue to request time how long does it take to process every single request on average um we don't typically look at",
    "start": "1387799",
    "end": "1394279"
  },
  {
    "text": "every each individual request but as on an average uh what's the request time um",
    "start": "1394279",
    "end": "1400720"
  },
  {
    "text": "and then server error rate how many 500s 400s are coming up um from uh uh the",
    "start": "1400720",
    "end": "1406799"
  },
  {
    "text": "requests so was my uh engine X is processing",
    "start": "1406799",
    "end": "1412919"
  },
  {
    "text": "requests it gets really really busy over uh can't can't handle much more it starts hitting 500 errors uh maybe the",
    "start": "1412919",
    "end": "1420000"
  },
  {
    "text": "end user sees a white page maybe see they see an error um depends um and then",
    "start": "1420000",
    "end": "1425360"
  },
  {
    "text": "there's the resource metrics at context so it could be accepted connections active idle sometimes you'll see them as",
    "start": "1425360",
    "end": "1432880"
  },
  {
    "text": "uh Reading Writing or waiting actually it's the other way around waiting",
    "start": "1432880",
    "end": "1438039"
  },
  {
    "text": "reading and writing um and then there's events uh engine a got started okay cool",
    "start": "1438039",
    "end": "1443360"
  },
  {
    "text": "let's look at another example reddis um reddis in memory database uh the work metrics might be latency and",
    "start": "1443360",
    "end": "1449919"
  },
  {
    "text": "Ops per second hit rate resource metrics how much memory is being used and how",
    "start": "1449919",
    "end": "1455120"
  },
  {
    "text": "fragmented is the memory you know it's an all inmemory database and so uh you there's the size of the",
    "start": "1455120",
    "end": "1462760"
  },
  {
    "text": "database but that size in the database might not be the size taken up in memory because if the memory is fragmented if",
    "start": "1462760",
    "end": "1470679"
  },
  {
    "text": "it's anything greater the ratio is anything greater than one then chances are it's all over the place and taking",
    "start": "1470679",
    "end": "1475880"
  },
  {
    "text": "up a lot more space um as that Reddit database takes up more and more space and fills up all the memory you need to",
    "start": "1475880",
    "end": "1483279"
  },
  {
    "text": "get rid of some of the keys in that database and so you have a strategy for evicting Keys um and so getting notifi",
    "start": "1483279",
    "end": "1490679"
  },
  {
    "text": "or getting uh adding that metric about um uh evicted keys that things you keys",
    "start": "1490679",
    "end": "1496440"
  },
  {
    "text": "are getting evicted helps add cont text on their on its own it could be normal it could be normal that 10,000 Keys just",
    "start": "1496440",
    "end": "1503320"
  },
  {
    "text": "got dropped out but um uh you only know in context with the uh work",
    "start": "1503320",
    "end": "1510840"
  },
  {
    "text": "metrics another one is varnish um so some of us use it for uh caching um and",
    "start": "1511760",
    "end": "1519279"
  },
  {
    "text": "uh uh work metrics might be number of client requests backend failed connections resource metrics number of",
    "start": "1519279",
    "end": "1525799"
  },
  {
    "text": "sessions least recently used nuked objects and backend connections um now",
    "start": "1525799",
    "end": "1531399"
  },
  {
    "text": "these three examples actually come from blog posts that we've got on our website uh so you go to data do.com or datadog",
    "start": "1531399",
    "end": "1537480"
  },
  {
    "text": "hq.com I think it's data do.com as well um but you go to datadog hq.com",
    "start": "1537480",
    "end": "1542640"
  },
  {
    "text": "blog you'll see a couple about three blog posts for each one of these for engine X for reddis for varnish also for",
    "start": "1542640",
    "end": "1550360"
  },
  {
    "text": "Dynamo um for there's a few others uh where we go through you know what are",
    "start": "1550360",
    "end": "1555440"
  },
  {
    "text": "the metrics to look at how do you look at them um how do you uh uh collect those metrics because some of them",
    "start": "1555440",
    "end": "1561600"
  },
  {
    "text": "aren't as easy as uh you know some of them don't uh provide the metrics um out",
    "start": "1561600",
    "end": "1567919"
  },
  {
    "text": "of the box you have to do a little bit of extra work to get them so I want to switch into kind of a demo um except",
    "start": "1567919",
    "end": "1575360"
  },
  {
    "text": "it's not a live demo because um we've all experienced the network it's pretty",
    "start": "1575360",
    "end": "1580840"
  },
  {
    "text": "good but sometimes it goes away and I didn't want that to happen while I'm up here so I've got a bunch of screenshots",
    "start": "1580840",
    "end": "1588679"
  },
  {
    "text": "s uh first one we're going to talk about is engine X and engine X serving static files and so I've got this kind of test",
    "start": "1588679",
    "end": "1594760"
  },
  {
    "text": "environment where I've got an engine server and it's serving out four files um four super exciting files they happen",
    "start": "1594760",
    "end": "1601760"
  },
  {
    "text": "to be random uh randomly generated so DD you know uh to to Generate random",
    "start": "1601760",
    "end": "1607039"
  },
  {
    "text": "numbers in a file some of them are 64k 128k and so forth um and then uh I've I",
    "start": "1607039",
    "end": "1614080"
  },
  {
    "text": "jumped around between uh using uh uh Siege and wrk and sun and some others um",
    "start": "1614080",
    "end": "1620520"
  },
  {
    "text": "to just just try to pound on that server uh randomly choosing different URLs and um you know those key metrics",
    "start": "1620520",
    "end": "1628600"
  },
  {
    "text": "um could that we have from the article are drop connections um uh so actually I",
    "start": "1628600",
    "end": "1634559"
  },
  {
    "text": "didn't experience any drop connections with my low application so that's an empty uh graph right there but request",
    "start": "1634559",
    "end": "1639760"
  },
  {
    "text": "per second um we see that uh that increased at some point towards the right and then all of a sudden it",
    "start": "1639760",
    "end": "1645559"
  },
  {
    "text": "dropped now normally that would again be probably a bad thing or it would just be",
    "start": "1645559",
    "end": "1651480"
  },
  {
    "text": "that uh the um Amazon uh the the AWS Network failed on me for a brief second",
    "start": "1651480",
    "end": "1657600"
  },
  {
    "text": "and I came back up to uh start pounding again um server error rate and uh",
    "start": "1657600",
    "end": "1663519"
  },
  {
    "text": "request processing time so with server error rate we don't really I don't think we should you should care about uh you",
    "start": "1663519",
    "end": "1669720"
  },
  {
    "text": "know scalar value how many uh 500 errors or 400 errors but rather what percentage",
    "start": "1669720",
    "end": "1675519"
  },
  {
    "text": "of uh um overall connections result in a 500 error or 400 error um and then",
    "start": "1675519",
    "end": "1682720"
  },
  {
    "text": "request processing time how long does it take to process a request now those last two don't um come for free",
    "start": "1682720",
    "end": "1692399"
  },
  {
    "text": "uh if you're using engine X open source uh well if you're using engine X Plus um",
    "start": "1693640",
    "end": "1699120"
  },
  {
    "text": "then uh that's built into the uh you turn on this uh status uh page in engine",
    "start": "1699120",
    "end": "1704559"
  },
  {
    "text": "X but if you're using engine X open source you turn on on the sub status and",
    "start": "1704559",
    "end": "1710159"
  },
  {
    "text": "um you get a small subset of metrics and for server error rate and request",
    "start": "1710159",
    "end": "1715960"
  },
  {
    "text": "processing time you really have to uh shove that information into a log and then do some sort of log",
    "start": "1715960",
    "end": "1721519"
  },
  {
    "text": "parsing and so if you wanted to do that you would open up your engx configuration file create a log format",
    "start": "1721519",
    "end": "1728120"
  },
  {
    "text": "um and say I want to put in my status and my request time and then have some sort of uh log parsing",
    "start": "1728120",
    "end": "1736760"
  },
  {
    "text": "solution so that could be Dog stream which is part of the day-to dog agent um",
    "start": "1736760",
    "end": "1742480"
  },
  {
    "text": "but uh we actually prefer that uh people use Sumo logic or Splunk um uh or",
    "start": "1742480",
    "end": "1748519"
  },
  {
    "text": "there's a bunch of others out there a dog stream is great but it's kind of hard to work with um so the the other",
    "start": "1748519",
    "end": "1754720"
  },
  {
    "text": "guys do a really good job at uh uh processing those logs so once I've got that oh and then",
    "start": "1754720",
    "end": "1762360"
  },
  {
    "text": "some other metrics add value add context could be the connections so in the case of I've got the open source enginex um I",
    "start": "1762360",
    "end": "1769360"
  },
  {
    "text": "have uh engine X um waiting number of requests waiting uh or number of connections waiting number of uh uh",
    "start": "1769360",
    "end": "1775640"
  },
  {
    "text": "connections reading and then writing and then I've got the 400 errors and 500 errors you know the actual numbers",
    "start": "1775640",
    "end": "1782000"
  },
  {
    "text": "rather than percentage and then below that you know events events that are related to um to engine X in this case I",
    "start": "1782000",
    "end": "1789279"
  },
  {
    "text": "having to use ansible for deploying my application um which I think would uh",
    "start": "1789279",
    "end": "1795399"
  },
  {
    "text": "get me shot inside the company because so many like chef but I was using asol",
    "start": "1795399",
    "end": "1800840"
  },
  {
    "text": "um and uh so I add that for additional context to a lot of my",
    "start": "1800840",
    "end": "1806640"
  },
  {
    "text": "graphs and so here's what one of our dashboards could look like you know these are totally customizable and so",
    "start": "1806640",
    "end": "1812559"
  },
  {
    "text": "we're looking at uh number of connections either dropped uh wait read or write uh request per second uh",
    "start": "1812559",
    "end": "1820159"
  },
  {
    "text": "connections on each web server my 500 and 400 errors my average response time",
    "start": "1820159",
    "end": "1825760"
  },
  {
    "text": "and I'm also looking at CPU you know it doesn't have I don't have to only look at work metrics I'm looking at work metrics and the resource metrics and",
    "start": "1825760",
    "end": "1832600"
  },
  {
    "text": "some of them are resource metrics not only for this for engine X but resource metrics further down the line and if we",
    "start": "1832600",
    "end": "1840440"
  },
  {
    "text": "were able to look at the entire dashboard uh this might go on uh for a while actually for this demo one it's",
    "start": "1840440",
    "end": "1846360"
  },
  {
    "text": "it's right here but for a lot of the ones we that we use internally they fit on a uh you know really big screen",
    "start": "1846360",
    "end": "1852799"
  },
  {
    "text": "vertical screen and that just goes on and on and on um and uh so okay cool so",
    "start": "1852799",
    "end": "1858320"
  },
  {
    "text": "we're looking at um the dashboard and as we move on in time um we see that you know I'm starting to pound on the server",
    "start": "1858320",
    "end": "1864639"
  },
  {
    "text": "a bit adding more and more connections trying to increase the number of requests per second and everything's",
    "start": "1864639",
    "end": "1870200"
  },
  {
    "text": "going along it's it's processing it's cool everything's great um and then okay",
    "start": "1870200",
    "end": "1877000"
  },
  {
    "text": "and then and then I start getting 500 errors",
    "start": "1877000",
    "end": "1882919"
  },
  {
    "text": "so I got a little yellow bar way on the other side um that starts popping up",
    "start": "1882919",
    "end": "1888000"
  },
  {
    "text": "I've started feeding too many requests at my engine Xbox and I started getting 500 errors okay that's that's bad um",
    "start": "1888000",
    "end": "1896880"
  },
  {
    "text": "except before I was only look at looking at the total number of 500 errors not in",
    "start": "1896880",
    "end": "1902440"
  },
  {
    "text": "context with uh the total number of connections so I overlaid uh that percentage um so what percentage of all",
    "start": "1902440",
    "end": "1909320"
  },
  {
    "text": "my connections are resulting in 500 errors I see okay it's about 10% okay at first I was really really scared because",
    "start": "1909320",
    "end": "1915679"
  },
  {
    "text": "I saw this big number 505 100 errors oh it's only 10% maybe 10% is acceptable I",
    "start": "1915679",
    "end": "1922039"
  },
  {
    "text": "don't know maybe 8% maybe 5% depends on your environment maybe I just don't care about my users and uh you know they yeah",
    "start": "1922039",
    "end": "1929519"
  },
  {
    "text": "500 they're cool they'll press refresh um except if they press refresh",
    "start": "1929519",
    "end": "1935240"
  },
  {
    "text": "it's probably going to get even worse um and so they press refresh refresh refresh refresh like uh you know what",
    "start": "1935240",
    "end": "1941639"
  },
  {
    "text": "you do with the elevator press um and uh it just gets worse and worse and worse and worse and we go from 10% to 80% uh",
    "start": "1941639",
    "end": "1948799"
  },
  {
    "text": "pretty quickly and yeah it continues so okay so",
    "start": "1948799",
    "end": "1954399"
  },
  {
    "text": "time to tweak my files you know I was using uh initially that the standard configuration file that you find on like",
    "start": "1954399",
    "end": "1960840"
  },
  {
    "text": "80% of the web um and use that and that configuration file written by a",
    "start": "1960840",
    "end": "1967639"
  },
  {
    "text": "that doesn't know anything and so it doesn't it performs really poorly so I change it a bit and I start",
    "start": "1967639",
    "end": "1975559"
  },
  {
    "text": "uh pounding on it I'm getting a little bit better performance performance okay things are better but so I'm getting there but I need to keep",
    "start": "1975559",
    "end": "1982720"
  },
  {
    "text": "working on it and finally I do uh uh maybe recompile engine X to start using",
    "start": "1982720",
    "end": "1988039"
  },
  {
    "text": "uh uh threading turn on the aiio threads uh option configure thread options and",
    "start": "1988039",
    "end": "1994120"
  },
  {
    "text": "uh a lot of other things I can do to optimize my engine X server and I'm going from what was I before um about uh",
    "start": "1994120",
    "end": "2002000"
  },
  {
    "text": "100 or so requests per second um with a response time in the 20 seconds or so",
    "start": "2002000",
    "end": "2008720"
  },
  {
    "text": "and I go to about 400 requests per second and sometimes higher um down to",
    "start": "2008720",
    "end": "2015360"
  },
  {
    "text": "about 2 seconds just with a little bit of tweaking of that configuration file so that's cool I can keep watching this",
    "start": "2015360",
    "end": "2022799"
  },
  {
    "text": "make sure everything's going Welling the button and then all of a",
    "start": "2022799",
    "end": "2029240"
  },
  {
    "text": "sudden something happens I don't know there something maybe something there's a vertical line so there's something",
    "start": "2029240",
    "end": "2035760"
  },
  {
    "text": "just happened and things keep going processing along oh I can start getting",
    "start": "2035760",
    "end": "2041159"
  },
  {
    "text": "500 errors and so there I've got you know I'm looking at my work metric I see a 500 eror start popping up oh no it's",
    "start": "2041159",
    "end": "2048760"
  },
  {
    "text": "only. 3% but that's potentially going to turn into something much bigger and um I",
    "start": "2048760",
    "end": "2055520"
  },
  {
    "text": "start looking uh looking around other uh uh work metrics I don't really see anything that jumps out at me but I do",
    "start": "2055520",
    "end": "2061158"
  },
  {
    "text": "see that resource metric I see that vertical line um in data dog those vertical lines represent events so I can",
    "start": "2061159",
    "end": "2067720"
  },
  {
    "text": "I can pop open the events just by clicking on one of those vertical lines I can see okay anible just ran and um it",
    "start": "2067720",
    "end": "2074200"
  },
  {
    "text": "just somebody just did a upgrade um against my uh server and uh changed a",
    "start": "2074200",
    "end": "2080520"
  },
  {
    "text": "bunch of stuff changed a configuration file H what did they do who upgraded my",
    "start": "2080520",
    "end": "2086599"
  },
  {
    "text": "server what did they do so I go take a look at it and um uh find out what",
    "start": "2086599",
    "end": "2093358"
  },
  {
    "text": "they've done and uh it turns out they didn't understand what AO threads and got rid of it and I got back my old",
    "start": "2093359",
    "end": "2100800"
  },
  {
    "text": "server and pretty soon I start seeing more and more of these 500 errors and",
    "start": "2100800",
    "end": "2106440"
  },
  {
    "text": "that kind of sucks so at least now I understand a little bit more about how",
    "start": "2106440",
    "end": "2112800"
  },
  {
    "text": "to um uh how to go through my uh um you know what are the metrics that really",
    "start": "2112800",
    "end": "2118680"
  },
  {
    "text": "matter and what is a kind of normal number so I go back to the uh original",
    "start": "2118680",
    "end": "2124560"
  },
  {
    "text": "the the good configuration and I can start looking at that and saying okay well if I see more than uh five or more",
    "start": "2124560",
    "end": "2131040"
  },
  {
    "text": "than 10% or more than 5% 500 errors then I want to trigger an alert if I see more",
    "start": "2131040",
    "end": "2136440"
  },
  {
    "text": "than an alert that fires a a page um if I see more than 2% then maybe I fire an",
    "start": "2136440",
    "end": "2144119"
  },
  {
    "text": "alert that's only a notification if I see more than just one maybe I um fire an alert that doesn't actually send",
    "start": "2144119",
    "end": "2150280"
  },
  {
    "text": "anything it just records it within my uh alerts list cool okay and I continueed doing",
    "start": "2150280",
    "end": "2157359"
  },
  {
    "text": "that with with other metrics and now this is uh this is not you know you don't go to this step and then you're",
    "start": "2157359",
    "end": "2163800"
  },
  {
    "text": "done because you're going to keep realizing oh okay that wasn't quite good enough I need to change those values a",
    "start": "2163800",
    "end": "2169680"
  },
  {
    "text": "little bit more and so it's an iterative process that you go through now um uh if",
    "start": "2169680",
    "end": "2175319"
  },
  {
    "text": "we were uh just talking about data dog then uh the outlier detection is going to be really helpful in this for anomaly",
    "start": "2175319",
    "end": "2181640"
  },
  {
    "text": "detection but not really the the right place to talk about that talk about it in the booth um so next thing is engine",
    "start": "2181640",
    "end": "2189040"
  },
  {
    "text": "X and postgress so I've got another enginex server and um I uh loaded up a",
    "start": "2189040",
    "end": "2198880"
  },
  {
    "text": "um uh postgress and loaded up a a kind of a sample database um you know I",
    "start": "2199640",
    "end": "2204960"
  },
  {
    "text": "grabbed the uh dell DVD um database I don't know if people have played around with that um you can download this uh",
    "start": "2204960",
    "end": "2211240"
  },
  {
    "text": "thing um run uh some shell scripts and it generates a database of uh random",
    "start": "2211240",
    "end": "2216599"
  },
  {
    "text": "content about a DVD store um that people are purchasing DVDs um yes people",
    "start": "2216599",
    "end": "2222720"
  },
  {
    "text": "purchase DVDs in the Blockbuster days I guess this was really oh actually Blockbuster was Rand anyway um so engine",
    "start": "2222720",
    "end": "2229240"
  },
  {
    "text": "X and postest um so this thing is uh running this query it's doing a join um",
    "start": "2229240",
    "end": "2234520"
  },
  {
    "text": "grabbing lots of uh um uh uh rows about uh purchases of DVDs or maybe their",
    "start": "2234520",
    "end": "2240839"
  },
  {
    "text": "rentals of DVDs and um and then displaying them on a page and the first",
    "start": "2240839",
    "end": "2247079"
  },
  {
    "text": "version does it really stupidly but we might look at Key metrics and some key metrics we look at uh we haven't written",
    "start": "2247079",
    "end": "2253000"
  },
  {
    "text": "up this article so we're still kind of playing around with uh what the key metrics might be maybe it's uh commits and roll backs uh connections percent",
    "start": "2253000",
    "end": "2260160"
  },
  {
    "text": "dis usage percent dis usage kind of fits in a uh resource metric normally but we",
    "start": "2260160",
    "end": "2265839"
  },
  {
    "text": "pull it into the uh key metrics because you run out of dispase on a database",
    "start": "2265839",
    "end": "2271359"
  },
  {
    "text": "kind of hosed um so you want to make sure that doesn't happen um and uh so uh we we kind of elevated to a key metric",
    "start": "2271359",
    "end": "2279079"
  },
  {
    "text": "rows returned and fetched are also really key things to to watch um this happens to be our the way",
    "start": "2279079",
    "end": "2286040"
  },
  {
    "text": "we look at one of the ways we look at um uh postgress inside the company one of the our CTO looks at a a really big",
    "start": "2286040",
    "end": "2293000"
  },
  {
    "text": "dashboard every day um and uh this is the top right corner of it uh it'sot",
    "start": "2293000",
    "end": "2298440"
  },
  {
    "text": "includes a lot of other stuff elsewhere um and I blurred out a lot of stuff here but um we can see our uh how how we look",
    "start": "2298440",
    "end": "2306280"
  },
  {
    "text": "at um postgress initially you know just to get a high level how how healthy are things generally within our",
    "start": "2306280",
    "end": "2314440"
  },
  {
    "text": "environment um if you load up the standard dashboard you'll get something like",
    "start": "2314440",
    "end": "2319839"
  },
  {
    "text": "this but um I want to go back to my engine X example so I start off I start",
    "start": "2319839",
    "end": "2325599"
  },
  {
    "text": "pounding the server um and I load up my engine X you know I'm a web guy so I'm looking at engine X first um I get uh I",
    "start": "2325599",
    "end": "2333240"
  },
  {
    "text": "want to look at how my enginex server is performing I start looking at the uh work metrics um to try to understand get",
    "start": "2333240",
    "end": "2339800"
  },
  {
    "text": "a better idea of what's going on oh let me skip past that I didn't mean to show that anyway so",
    "start": "2339800",
    "end": "2346040"
  },
  {
    "text": "um uh oh so here's what my uh um uh SQL my my postgress database is doing",
    "start": "2346040",
    "end": "2351800"
  },
  {
    "text": "basically doing a join of all my products and Order lines um on prod ID",
    "start": "2351800",
    "end": "2357000"
  },
  {
    "text": "Okay cool so now I'm starting to look at my enginex uh server I see I start pounding the server everything's going",
    "start": "2357000",
    "end": "2363520"
  },
  {
    "text": "kind of well as request per second isn't that high it's kind of slow um and uh",
    "start": "2363520",
    "end": "2369960"
  },
  {
    "text": "CPU is going up um as I work through it oh 40% already at CPU um I wonder what",
    "start": "2369960",
    "end": "2375839"
  },
  {
    "text": "else is going on well I realized that I'm just passing on too many rows to the",
    "start": "2375839",
    "end": "2381079"
  },
  {
    "text": "to the web server let me go ahead and filter that down drop it down to only 5,000",
    "start": "2381079",
    "end": "2387040"
  },
  {
    "text": "rows and I do this by saying where um you know any of the prod IDs is in an",
    "start": "2387040",
    "end": "2392599"
  },
  {
    "text": "array of um of values you know this huge array of 5,000 numbers",
    "start": "2392599",
    "end": "2397920"
  },
  {
    "text": "and only show me those things okay so that I would think does better but it",
    "start": "2397920",
    "end": "2403200"
  },
  {
    "text": "actually uh starts to make performance a little worse so here I switched over to postgress I can see that my CPU is going",
    "start": "2403200",
    "end": "2410000"
  },
  {
    "text": "into like 80% um and uh um so okay this is not",
    "start": "2410000",
    "end": "2415200"
  },
  {
    "text": "working out and now I'm at 100% And as soon as I get to 100% switch it back over to engine X now normally if I was",
    "start": "2415200",
    "end": "2421560"
  },
  {
    "text": "doing this I'd have one application and I go engine X and postgress all on One dashboard we got a you limited screen",
    "start": "2421560",
    "end": "2428280"
  },
  {
    "text": "space here but now I'm looking at engine X and I see oh okay I'm getting 500 errors because my database is completely",
    "start": "2428280",
    "end": "2436480"
  },
  {
    "text": "uh uh saturated it's not responding getting 500 errors on the um on the engine X server and so I realized oh",
    "start": "2436480",
    "end": "2443680"
  },
  {
    "text": "there's actually a better way of doing that that query maybe that's the problem um so I update the query I happen to",
    "start": "2443680",
    "end": "2449640"
  },
  {
    "text": "find a a blog post on the dayg site that talks about how we um change the array",
    "start": "2449640",
    "end": "2455040"
  },
  {
    "text": "you know doing a wear prod ID is in an array change it to values um and it",
    "start": "2455040",
    "end": "2461760"
  },
  {
    "text": "results in a huge performance game um and fact I think we sold like a 100 100",
    "start": "2461760",
    "end": "2467280"
  },
  {
    "text": "time um uh performance enhancement and so okay that's better um I see my engine",
    "start": "2467280",
    "end": "2473680"
  },
  {
    "text": "X server is starting to uh use less CPU my um postgress server it was still turning for a while but it finally calms",
    "start": "2473680",
    "end": "2482079"
  },
  {
    "text": "down and it gets better so the process of building out this thing which kind of",
    "start": "2482079",
    "end": "2488119"
  },
  {
    "text": "reminds me you want to start monitoring really early on you want to start monitoring as you bring up that server",
    "start": "2488119",
    "end": "2494319"
  },
  {
    "text": "as you first bring up the server because you're going to be going through this process update you know deploying",
    "start": "2494319",
    "end": "2499480"
  },
  {
    "text": "something out making tweaks finding stupid things that you've done continue making tweaks and you want to make sure",
    "start": "2499480",
    "end": "2505359"
  },
  {
    "text": "that you've you're monitoring that whole thing the entire time because you want to make sure that these improvements you're making are actually improving",
    "start": "2505359",
    "end": "2511760"
  },
  {
    "text": "things um otherwise you don't know what's going on okay so at this this",
    "start": "2511760",
    "end": "2517400"
  },
  {
    "text": "point I can uh use my experience based on to to figure out okay the work metrics what are acceptable levels for",
    "start": "2517400",
    "end": "2524760"
  },
  {
    "text": "um rows fetched what are the acceptable levels for uh connections or change in number connections if it drops",
    "start": "2524760",
    "end": "2531560"
  },
  {
    "text": "precipitously um inserts updates what are the what are those acceptable values",
    "start": "2531560",
    "end": "2536920"
  },
  {
    "text": "um same thing with uh CPU usage or memory usage what are acceptable values and then constantly go through that",
    "start": "2536920",
    "end": "2543280"
  },
  {
    "text": "cycle and figure out now that you know what are the key metrics to look at what are the values to look at what are the",
    "start": "2543280",
    "end": "2548720"
  },
  {
    "text": "values to alert on create the alerts that are just a record um you know",
    "start": "2548720",
    "end": "2553960"
  },
  {
    "text": "perhaps uh um when CPU goes over a certain you know low number then create",
    "start": "2553960",
    "end": "2559040"
  },
  {
    "text": "a alert as a record as it gets higher create an alert as a um notification",
    "start": "2559040",
    "end": "2564599"
  },
  {
    "text": "adding into a chat room and then as it gets even higher um an alert as a uh as",
    "start": "2564599",
    "end": "2569880"
  },
  {
    "text": "a page because uh things are breaking so at this point let's switch back over to",
    "start": "2569880",
    "end": "2575160"
  },
  {
    "text": "that list of three things work back metrics throughput success error and performance resource metrics utilization",
    "start": "2575160",
    "end": "2583119"
  },
  {
    "text": "saturation error and availability and events code changes alerts and scaling events and the work metrics are what you",
    "start": "2583119",
    "end": "2590319"
  },
  {
    "text": "page on because they're the key metric that you need to focus on and the everything else it just helps you add",
    "start": "2590319",
    "end": "2597160"
  },
  {
    "text": "context to those work metrics investigate using Diagnostics which are the work metrics resource metrics and",
    "start": "2597160",
    "end": "2603720"
  },
  {
    "text": "events and then this is a iterative process you start at the top whatever the top means for you it might be engine",
    "start": "2603720",
    "end": "2610680"
  },
  {
    "text": "X it might be postgress it might be something else look at the work metrics look at the resources it events and dig",
    "start": "2610680",
    "end": "2616119"
  },
  {
    "text": "deeper dig deeper dig deeper until you finally understand the full story of what's going on and so now I'm about 15",
    "start": "2616119",
    "end": "2623079"
  },
  {
    "text": "minutes before the end of the session or before the end of the the 60 minutes and reached the end of the session so at",
    "start": "2623079",
    "end": "2630079"
  },
  {
    "text": "this point uh we can open up for questions",
    "start": "2630079",
    "end": "2635559"
  }
]