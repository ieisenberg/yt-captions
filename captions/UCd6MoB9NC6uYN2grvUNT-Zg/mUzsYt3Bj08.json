[
  {
    "start": "0",
    "end": "14000"
  },
  {
    "text": "so without further ado welcome this is getting started with dr. on AWS who here",
    "start": "30",
    "end": "5910"
  },
  {
    "text": "is new to docker whoo okay so that's why we have getting started sessions so we're gonna kick it",
    "start": "5910",
    "end": "12960"
  },
  {
    "text": "off so doctor 1 on 101 so what is docker docker is an open-source platform for",
    "start": "12960",
    "end": "19230"
  },
  {
    "start": "14000",
    "end": "14000"
  },
  {
    "text": "running distributed applications create something called a container so applications run it built in docker run",
    "start": "19230",
    "end": "25170"
  },
  {
    "text": "in these containers that you can build ship and run on your platform of choice so that might be easy s it might be",
    "start": "25170",
    "end": "32610"
  },
  {
    "text": "kubernetes it might be mezzos it might be something you built yourself and but you can build those containers and then",
    "start": "32610",
    "end": "37829"
  },
  {
    "text": "you can run them anywhere you'd like so docker containers are built from a series of instructions called a docker",
    "start": "37829",
    "end": "43649"
  },
  {
    "text": "file so to run a docker container locally we could follow some commands right so docker build app and then",
    "start": "43649",
    "end": "50940"
  },
  {
    "text": "docker run app and that's a really extra simplified version but basically the",
    "start": "50940",
    "end": "56100"
  },
  {
    "text": "docker file is a series of instructions right and it follows something like instruction argument so build or add X",
    "start": "56100",
    "end": "63719"
  },
  {
    "text": "copy X so very similar format it's the instruction and then what you're going",
    "start": "63719",
    "end": "69630"
  },
  {
    "text": "to do so we've covered a little bit about what these containers are but how can you start working with containers",
    "start": "69630",
    "end": "75330"
  },
  {
    "text": "and production on on AWS so the easiest way to do this Amazon ec2 container",
    "start": "75330",
    "end": "81450"
  },
  {
    "start": "78000",
    "end": "78000"
  },
  {
    "text": "service it's now elastic container service highly scalable high-performance container management system so what do",
    "start": "81450",
    "end": "88080"
  },
  {
    "text": "you need this for so containers are actually a lot of work so it used to be that the kind of the",
    "start": "88080",
    "end": "93960"
  },
  {
    "text": "traditional way of doing things was it was a monolith so I built my app it was",
    "start": "93960",
    "end": "99299"
  },
  {
    "text": "maybe all in one piece right it was all one repo it was whatever language I",
    "start": "99299",
    "end": "104880"
  },
  {
    "text": "built it in doesn't really matter but it was all kind of one piece it had a bunch of services my application basically had",
    "start": "104880",
    "end": "110670"
  },
  {
    "text": "a bunch of jobs it has served lots of functions it did lots of stuff what a",
    "start": "110670",
    "end": "116729"
  },
  {
    "text": "lot of people have been doing pretty recently is something called micro services so you've decomposed your monolith so it's now it's a bunch of",
    "start": "116729",
    "end": "123930"
  },
  {
    "text": "smaller services and that each have their own job so with that though as you",
    "start": "123930",
    "end": "129690"
  },
  {
    "text": "can imagine going from one piece so one single application served many functions too many separate",
    "start": "129690",
    "end": "136030"
  },
  {
    "text": "services that all served each hopefully one function there's some some heavy",
    "start": "136030",
    "end": "141400"
  },
  {
    "text": "lifting that goes along with that right so I used to scale one piece but now I have to scale",
    "start": "141400",
    "end": "146680"
  },
  {
    "text": "100 I used to deploy one piece and now I deploy 200 so there's lots more little",
    "start": "146680",
    "end": "153069"
  },
  {
    "text": "moving pieces that go into running these containers which makes sense because the containers are a lot more pieces also so",
    "start": "153069",
    "end": "159580"
  },
  {
    "text": "something like you see that like ECS is a is an orchestration platform so it helps you with a lot of these moving",
    "start": "159580",
    "end": "165790"
  },
  {
    "text": "pieces so how do you install and operate and scale all of these containers so",
    "start": "165790",
    "end": "171540"
  },
  {
    "text": "what does this mean kind of in practice so the first thing big thing is is cluster management so in ECS you have a",
    "start": "171540",
    "end": "178120"
  },
  {
    "text": "pool of resources so those are all easy two instances so how do I manage the",
    "start": "178120",
    "end": "184750"
  },
  {
    "text": "instances that belong to that cluster so how do I add new ones how do I take them away how do I update them when I have to",
    "start": "184750",
    "end": "191080"
  },
  {
    "text": "change something and then it there's container orchestration so all of those pieces how do I manage those little",
    "start": "191080",
    "end": "197739"
  },
  {
    "text": "boxes across my pool of compute resources how do i scale them how do i deploy them how do I fix them when",
    "start": "197739",
    "end": "204400"
  },
  {
    "text": "something's wrong how do I update them how do I make a change and then deep AWS integration and I think that deep AWS",
    "start": "204400",
    "end": "211510"
  },
  {
    "text": "integration is something that we have on a lot of slides but what does that actually mean and what that means is that so when I",
    "start": "211510",
    "end": "218230"
  },
  {
    "text": "first moved to GCS right so I had a monolith and it wasn't even that big right but I moved it over and I moved to",
    "start": "218230",
    "end": "224829"
  },
  {
    "text": "TECs and one of the first when I was looking at kind of what I wanted to move to one of my biggest things was that",
    "start": "224829",
    "end": "231370"
  },
  {
    "text": "there was a lot of new things for me with containers so it was already a pretty steep learning curve so I was a",
    "start": "231370",
    "end": "237639"
  },
  {
    "text": "DevOps engineer so how do I move from kind of managing my one giant piece to",
    "start": "237639",
    "end": "242889"
  },
  {
    "text": "managing lots of little pieces and that was already a lot for me to handle and I was a team of two so part of my",
    "start": "242889",
    "end": "249730"
  },
  {
    "text": "part of my criteria when I was looking for something else to handle these container so I decided that I wanted to move was how can I use the things that",
    "start": "249730",
    "end": "257590"
  },
  {
    "text": "I'm familiar with already so ec2 auto-scaling groups route 53 I wanted to",
    "start": "257590",
    "end": "263320"
  },
  {
    "text": "put things in s3 I wanted to be able to monitor with cloud watch and and that's really",
    "start": "263320",
    "end": "268539"
  },
  {
    "text": "what I mean with with deep AWS integration so the cloud watch work so I can use other AWS services to deploy to",
    "start": "268539",
    "end": "275590"
  },
  {
    "text": "log to monitor to scale to manage identity to handle security so that's what I consider with deep AWS",
    "start": "275590",
    "end": "282039"
  },
  {
    "text": "integration so how can I kind of outsource some of those other tasks that I needed to worry about when I'm",
    "start": "282039",
    "end": "287710"
  },
  {
    "text": "building a good app of containers how can i how can I get something else to help me so that I can focus on other",
    "start": "287710",
    "end": "292870"
  },
  {
    "text": "stuff like building my actual service so yes part of this right is that this is",
    "start": "292870",
    "end": "299979"
  },
  {
    "text": "my platform but I don't really want to have to manage the platform either I don't want to have to manage my containers and I don't want to have to",
    "start": "299979",
    "end": "305889"
  },
  {
    "text": "do anything with the platform so yes I don't install any agents or anything but I can use it to deploy to manage and to",
    "start": "305889",
    "end": "312699"
  },
  {
    "text": "scale my containers so that's three kind of three big tasks so we will we will",
    "start": "312699",
    "end": "319090"
  },
  {
    "text": "unpack kind of how I can do those tasks and how I can work with them with docker so this is what I just talked about I",
    "start": "319090",
    "end": "326289"
  },
  {
    "text": "went out of order so how does ECS map to traditional workloads so I added this",
    "start": "326289",
    "end": "334020"
  },
  {
    "start": "331000",
    "end": "331000"
  },
  {
    "text": "after it was most of the questions that I got afterwards was for a lot of people",
    "start": "334020",
    "end": "339190"
  },
  {
    "text": "this is really new so being able to do working with containers is pretty new",
    "start": "339190",
    "end": "344740"
  },
  {
    "text": "working with docker is pretty new so how does the ECS kind of map back to those",
    "start": "344740",
    "end": "350380"
  },
  {
    "text": "things that I'm familiar with so your first thing is an instance and that is just a regular ec2 box",
    "start": "350380",
    "end": "356409"
  },
  {
    "text": "so once you've registered that box to the cluster your tasks will run on that instance and a service is a layer that",
    "start": "356409",
    "end": "364270"
  },
  {
    "text": "manages and places a task and then a task is that container wrapper and configuration around a process and that",
    "start": "364270",
    "end": "371050"
  },
  {
    "text": "is by the way it's pretty much just what a container is it is a wrapper around a process so if you've written your",
    "start": "371050",
    "end": "376780"
  },
  {
    "text": "container properly there's there's maybe a couple processes but in general there's only one so it's running",
    "start": "376780",
    "end": "383710"
  },
  {
    "text": "application dot PI or it's doing entry point file SH so all it's really doing is it's doing",
    "start": "383710",
    "end": "390909"
  },
  {
    "text": "some setup and configuration and then running a process that is all the container is it's not really even",
    "start": "390909",
    "end": "396070"
  },
  {
    "text": "magical it's just a little box to process so what he says does is it",
    "start": "396070",
    "end": "401470"
  },
  {
    "text": "provides you that pool of cluster resources which is your instance it gives you a service which manages and",
    "start": "401470",
    "end": "407919"
  },
  {
    "text": "places the tasks for you which is important and we'll get back to that and then a task which is basically managing",
    "start": "407919",
    "end": "413050"
  },
  {
    "text": "those containers so in practice what this ends up being is I write my container locally right and from my",
    "start": "413050",
    "end": "420280"
  },
  {
    "text": "development environment that might be something like okay from container name install a couple",
    "start": "420280",
    "end": "428349"
  },
  {
    "text": "things move my coat over requirements dot text and then run my pet my app my",
    "start": "428349",
    "end": "435219"
  },
  {
    "text": "Python application so that's all that is that's a box I push it up maybe it goes to get hub maybe it goes to code build I",
    "start": "435219",
    "end": "440530"
  },
  {
    "text": "push it east yes and then what that isn't UCS is a task that container just",
    "start": "440530",
    "end": "445719"
  },
  {
    "text": "turned into a task and a service is what's letting me scale that task up and down and place it on a pool of instances",
    "start": "445719",
    "end": "452080"
  },
  {
    "text": "so just some easiest terms for what we're actually doing with those containers and what that map's back to",
    "start": "452080",
    "end": "457449"
  },
  {
    "text": "is all those things that we just talked about right so how do I deploy manage and and scale my containers that's what",
    "start": "457449",
    "end": "465159"
  },
  {
    "text": "that does so how does this actually work so this is my it's actually basically an",
    "start": "465159",
    "end": "470860"
  },
  {
    "start": "467000",
    "end": "467000"
  },
  {
    "text": "architecture diagram but it's shaped like a spaceship now which i think is better if i actually wish if all my all",
    "start": "470860",
    "end": "476680"
  },
  {
    "text": "my architecture diagrams for shaped like spaceships so in a real kind of architecture terms though we'd end up",
    "start": "476680",
    "end": "483460"
  },
  {
    "text": "with our are drawing for our load balancer at the top and then it would go to a cluster so and then all my cluster",
    "start": "483460",
    "end": "489610"
  },
  {
    "text": "is is a group of little little instances or spaceships but that's all it is so",
    "start": "489610",
    "end": "495909"
  },
  {
    "text": "it's a my load balancer is just directing the traffic to the instance to the the services in my cluster so it's",
    "start": "495909",
    "end": "502750"
  },
  {
    "text": "not it's a really simple I think kind of outline or something that's doing quite",
    "start": "502750",
    "end": "508330"
  },
  {
    "text": "a lot of work so but from a top-down all really is is kind of the same the same",
    "start": "508330",
    "end": "513880"
  },
  {
    "text": "ec2 structure that you're a lot of you are familiar with right is I have an auto scaling group and I have instances",
    "start": "513880",
    "end": "519610"
  },
  {
    "text": "in it only instead of just my instances I'm not directing traffic to the services themselves and what those lets",
    "start": "519610",
    "end": "526390"
  },
  {
    "text": "me do is it lets me break out my architecture so previously if I wanted to scale up or down",
    "start": "526390",
    "end": "532130"
  },
  {
    "text": "scale up the whole service which is every kind of job so even if we had one",
    "start": "532130",
    "end": "537470"
  },
  {
    "text": "piece that never got any traffic and one that got a ton of traffic I just scale the whole piece up and down",
    "start": "537470",
    "end": "542690"
  },
  {
    "text": "and now what I can do with micro services is that I can direct the traffic to the little individual pieces",
    "start": "542690",
    "end": "547930"
  },
  {
    "text": "so then I can scale with just the resources that it needs so I can scale",
    "start": "547930",
    "end": "553490"
  },
  {
    "text": "up just my messaging service and my admin UI doesn't need to scale or I can do the other way around",
    "start": "553490",
    "end": "559310"
  },
  {
    "text": "so it lets me be a lot more powerful and a lot more flexible so we're gonna break",
    "start": "559310",
    "end": "564530"
  },
  {
    "text": "this down so our load balancer and it used to be that it was just an e lb but",
    "start": "564530",
    "end": "569720"
  },
  {
    "text": "now it's an a lb so an application load balancer a network load balancer or our",
    "start": "569720",
    "end": "575150"
  },
  {
    "text": "load balancer classic it routes my traffic to the instances my cluster is more than one or more ec2 instances and",
    "start": "575150",
    "end": "582320"
  },
  {
    "text": "then each container instance runs one or more of my services and these control",
    "start": "582320",
    "end": "590060"
  },
  {
    "text": "two separate pieces right so a service is effectively controlling my deployments and in ECS terms that's",
    "start": "590060",
    "end": "596690"
  },
  {
    "text": "something like the number of copies that I want running of a task so if I have my web task I have web tasks one web task",
    "start": "596690",
    "end": "604610"
  },
  {
    "text": "two and every time that number increments it's a deployment so it's not only my deployment but it's the contents",
    "start": "604610",
    "end": "611780"
  },
  {
    "text": "of kind of my container and my tasks so my service is controlling that my service is also what does my registering",
    "start": "611780",
    "end": "618380"
  },
  {
    "start": "616000",
    "end": "616000"
  },
  {
    "text": "with my load bouncer so my load bouncer especially with an application load balancer right I can do path based",
    "start": "618380",
    "end": "624350"
  },
  {
    "text": "routing so slash web goes one place slash API goes to a different service so",
    "start": "624350",
    "end": "630050"
  },
  {
    "text": "my service is what registers the load balancer says here's my target group send traffic that looks like this to me",
    "start": "630050",
    "end": "636740"
  },
  {
    "text": "and then if I need to I write the rules so that that service is also saying I need more copies of you I need more",
    "start": "636740",
    "end": "643790"
  },
  {
    "text": "copies of you and then I need less copies so and you scale that up and down in response to other factors right so",
    "start": "643790",
    "end": "649700"
  },
  {
    "text": "cloud watch alarms probably so it's stuff like CPU or memory or the number of messages in a queue so a test",
    "start": "649700",
    "end": "656090"
  },
  {
    "text": "definition though controls kind of everything else so the container that you use the environment variables that",
    "start": "656090",
    "end": "662720"
  },
  {
    "text": "you you the resource allocation the logger it's pretty much everything else so your",
    "start": "662720",
    "end": "667850"
  },
  {
    "text": "service is controlling the number of copies and how it talks to the load bouncer so how it receives traffic and",
    "start": "667850",
    "end": "672889"
  },
  {
    "text": "then your task is kind of everything that makes it unique and when you look at how your architecture works with",
    "start": "672889",
    "end": "678649"
  },
  {
    "text": "containers versus a monolith is that we've made another shift to write so we've gone from managing a lot of stuff",
    "start": "678649",
    "end": "684589"
  },
  {
    "text": "at the instance layer and then just running your application on top of that to running a lot less at the instance",
    "start": "684589",
    "end": "690199"
  },
  {
    "text": "level and putting a lot more of the configuration in the container itself so this container basically is setting up",
    "start": "690199",
    "end": "696199"
  },
  {
    "text": "its own environment to execute your code in and then it's running its own code so everything that you suggest me at the",
    "start": "696199",
    "end": "702470"
  },
  {
    "text": "instance level and your application is now all wrapped up in that little container box and that lets us do some",
    "start": "702470",
    "end": "707630"
  },
  {
    "text": "really powerful stuff right because if you think about the kind of the development process now I can do that",
    "start": "707630",
    "end": "713449"
  },
  {
    "text": "from the beginning so my little bucks I can build locally I can run locally and",
    "start": "713449",
    "end": "719060"
  },
  {
    "text": "I can ship that same box from my development environment to a staging environment to a production environment",
    "start": "719060",
    "end": "725029"
  },
  {
    "text": "I can just ship that little box everywhere because it carries all of its configuration with it so it lets me do a",
    "start": "725029",
    "end": "730880"
  },
  {
    "text": "lot less on the actual instance that it's running on and keep everything just in its little container box so how can I",
    "start": "730880",
    "end": "737839"
  },
  {
    "text": "actually get started with with ECS so I want to build a cluster I want to actually build something I want to run",
    "start": "737839",
    "end": "743600"
  },
  {
    "text": "in production how can I do that so I've done a kind of a dual demo here",
    "start": "743600",
    "end": "750350"
  },
  {
    "start": "746000",
    "end": "746000"
  },
  {
    "text": "and it's not a real demo but you can do these things from two ways right so you can do it from the CLI or you can do it",
    "start": "750350",
    "end": "757399"
  },
  {
    "text": "from the console and I think everyone is like oh no the console but there's actually some really great stuff though",
    "start": "757399",
    "end": "763250"
  },
  {
    "text": "right so one is visual feedback so if you're just getting started with ECS and",
    "start": "763250",
    "end": "768589"
  },
  {
    "text": "these concepts are new to you you'll get some really nice visual feedback from doing something in the console that you won't get from the CLI",
    "start": "768589",
    "end": "774740"
  },
  {
    "text": "so an error message maybe you can there's some first-run wizards in there",
    "start": "774740",
    "end": "780199"
  },
  {
    "text": "that can be really helpful so if you're just starting out I recommend poking around there a little bit first because it will kind of help you kind of get",
    "start": "780199",
    "end": "786259"
  },
  {
    "text": "your feet under you but once you're kind of ready to get Rocking you use the the CLI there's actually two CL",
    "start": "786259",
    "end": "792710"
  },
  {
    "text": "is that work with UCS there's the regular CLI the AWS CLI and there's",
    "start": "792710",
    "end": "797990"
  },
  {
    "text": "another ECS CLI so you have a couple options there I'm gonna show you the actual CLI commands but there is no",
    "start": "797990",
    "end": "804800"
  },
  {
    "text": "shame in the console game so if you you're just looking to get started definitely start there first so how do I",
    "start": "804800",
    "end": "811910"
  },
  {
    "text": "create a cluster so there's a very specific kind of set of of instructions",
    "start": "811910",
    "end": "817250"
  },
  {
    "text": "here on this one right so probably so the way that I did this I guess when I",
    "start": "817250",
    "end": "822500"
  },
  {
    "text": "was getting started it is I kind of poked around with with docker so I figured out how to build and run my my",
    "start": "822500",
    "end": "830420"
  },
  {
    "text": "docker containers and I did that locally and then I can't really run ecs locally so I kind of did all my dog for research",
    "start": "830420",
    "end": "836990"
  },
  {
    "text": "first and then I went back up to AWS and I was poking around the ECS console trying to figure out how anything worked",
    "start": "836990",
    "end": "843110"
  },
  {
    "text": "and then the steps it turned out we're pretty important that you did them in the right order so they are in the right",
    "start": "843110",
    "end": "850280"
  },
  {
    "text": "order but you have to you have to have kind of the framework set up so that you",
    "start": "850280",
    "end": "855380"
  },
  {
    "text": "can deploy things really kind of smoothly so the way that I did it locally I built them up you create your",
    "start": "855380",
    "end": "860900"
  },
  {
    "text": "cluster first so you need to have a place where all of your services can live and we'll talk about why the order",
    "start": "860900",
    "end": "866540"
  },
  {
    "text": "is important so if I want to just get my cluster started I can call it create cluster I give it a name",
    "start": "866540",
    "end": "872450"
  },
  {
    "text": "since I'm creating it it's gonna return a bunch of information for me but none of that information is really helpful",
    "start": "872450",
    "end": "877670"
  },
  {
    "text": "other than it worked and it created a cluster but there's nothing in it but you can see where a lot of things will",
    "start": "877670",
    "end": "884030"
  },
  {
    "text": "be important later right so I see my cluster name I see that I have no instances running on it",
    "start": "884030",
    "end": "889340"
  },
  {
    "text": "I have pending tasks zero running tasks zero active services also zero but you",
    "start": "889340",
    "end": "896839"
  },
  {
    "text": "can see though that you know that you by running this call there's some information that's going to be pretty important for us later on right so after",
    "start": "896839",
    "end": "904790"
  },
  {
    "start": "904000",
    "end": "904000"
  },
  {
    "text": "I've created the cluster I had to create my task definition first and I think that that's a little counterintuitive",
    "start": "904790",
    "end": "909800"
  },
  {
    "text": "right because when we were talking about the different pieces of ECS we did a cluster and then service and then task",
    "start": "909800",
    "end": "917740"
  },
  {
    "text": "here is the gotcha here so I have to create my task definition first and then",
    "start": "917740",
    "end": "923050"
  },
  {
    "text": "I have to register to a service but I need to have the task definition created in order to start the service I can't",
    "start": "923050",
    "end": "930070"
  },
  {
    "text": "start a service with no test definition some things that I have found out through experience if you once you've",
    "start": "930070",
    "end": "936970"
  },
  {
    "text": "created some of this stuff you cannot undo it so you can I mean you can undo",
    "start": "936970",
    "end": "942070"
  },
  {
    "text": "can delete it but what you can't do is change where it's registered you can't change the load balancer that it's",
    "start": "942070",
    "end": "947410"
  },
  {
    "text": "registered to so take a second when you're doing some of this when you're choosing your names when you're",
    "start": "947410",
    "end": "953170"
  },
  {
    "text": "registering things because you can't always change them later so we had to create our task definition in first and",
    "start": "953170",
    "end": "959040"
  },
  {
    "text": "there's some there's some information here that we have to look at right because our test definition controls",
    "start": "959040",
    "end": "964180"
  },
  {
    "text": "just about everything about our service so from the container image that we're using to the resources that we give it",
    "start": "964180",
    "end": "969190"
  },
  {
    "text": "and a lot of this can be changed right so when I deploy my service again and again I can change the container",
    "start": "969190",
    "end": "974560"
  },
  {
    "text": "definition I can change some values in the test definition but have a thought when you're doing this when you've",
    "start": "974560",
    "end": "980320"
  },
  {
    "text": "created your container first you've kind of built it from the ground up so you've given it an image to look for you've",
    "start": "980320",
    "end": "986950"
  },
  {
    "text": "picked some resource things and you can go back and tweak these later but we have to run to start a Steffen ition first so the only thing that I really",
    "start": "986950",
    "end": "994900"
  },
  {
    "text": "only care about here is the container definition and that's where I'm getting my image and everything from so I had to",
    "start": "994900",
    "end": "1000720"
  },
  {
    "text": "choose that first and then I can call register task definition I can also give this a JSON file like everything else",
    "start": "1000720",
    "end": "1007230"
  },
  {
    "start": "1002000",
    "end": "1002000"
  },
  {
    "text": "AWS runs on JSON so I can register my task definition I'm giving it a family",
    "start": "1007230",
    "end": "1013290"
  },
  {
    "text": "and I'm giving it a container definition it's family is its group so in my case it's reinvent but what your family is is",
    "start": "1013290",
    "end": "1020640"
  },
  {
    "text": "basically the the group of tasks that it belongs to so it could be web could be",
    "start": "1020640",
    "end": "1025860"
  },
  {
    "text": "messaging could be API but I didn't reinvent because I many things but creatively naming things is it's not one",
    "start": "1025860",
    "end": "1032760"
  },
  {
    "text": "of them so that same call though serves a lot of purposes so when I call register task definition",
    "start": "1032760",
    "end": "1039140"
  },
  {
    "text": "that's also going to be how I handle my deploys so when you're doing this in an actual production environment right",
    "start": "1039140",
    "end": "1045089"
  },
  {
    "text": "we're probably not gonna do this by hand so your",
    "start": "1045090",
    "end": "1050590"
  },
  {
    "text": "not going to sit there who I'm gonna register my test definition you're probably doing that from your CI CD system so that same call that same",
    "start": "1050590",
    "end": "1057700"
  },
  {
    "text": "register call is how you deploy also so maybe how you deploy right is I would",
    "start": "1057700",
    "end": "1063789"
  },
  {
    "text": "create my test definition I update it through my CI CD system and then I would just pass it a new number so from 5 to 6",
    "start": "1063789",
    "end": "1071379"
  },
  {
    "text": "so the same call for everything I can either pass it a string or I can pass it the file but in general you would",
    "start": "1071379",
    "end": "1077769"
  },
  {
    "text": "probably be creating this programmatically you'd be updating your file programmatically you'd be generating a template somehow that you",
    "start": "1077769",
    "end": "1084730"
  },
  {
    "text": "could use to past your to your service you have to create your service now so",
    "start": "1084730",
    "end": "1090039"
  },
  {
    "start": "1088000",
    "end": "1088000"
  },
  {
    "text": "we've we've created our task definition we've registered it we're not doing anything with it and you have a couple",
    "start": "1090039",
    "end": "1095440"
  },
  {
    "text": "options here though because I can run that task definition just by itself so",
    "start": "1095440",
    "end": "1101350"
  },
  {
    "text": "you if you go to the ECS console you can just run tasks so if you have a good",
    "start": "1101350",
    "end": "1106779"
  },
  {
    "text": "example of this might be if I want to run a task in response to something else I can run I can just run my task it does",
    "start": "1106779",
    "end": "1113289"
  },
  {
    "text": "not need to be managed by a service but if it's a long-running it's basically if",
    "start": "1113289",
    "end": "1119440"
  },
  {
    "text": "it's a what I would consider a traditional service like a messaging service or a UI service something that",
    "start": "1119440",
    "end": "1124570"
  },
  {
    "text": "has a job they are often gonna be often gonna be running multiple copies that you always want that you always want it",
    "start": "1124570",
    "end": "1130869"
  },
  {
    "text": "running even if it's a different version so what I consider a traditional service I guess that's how you manage long",
    "start": "1130869",
    "end": "1136720"
  },
  {
    "text": "running tasks but that is not the only kind of task so you can run a task outside of a service but for your kind",
    "start": "1136720",
    "end": "1142600"
  },
  {
    "text": "of traditional like service jobs you'd probably want to manage it with the service so that you can scale and do",
    "start": "1142600",
    "end": "1148149"
  },
  {
    "text": "deployments and make sure that you always have a certain number of copies running but you don't need to do that you can also just call run tasks I'm",
    "start": "1148149",
    "end": "1155259"
  },
  {
    "text": "gonna use the tasks that we just created to create a service so you can name it",
    "start": "1155259",
    "end": "1160929"
  },
  {
    "text": "something I can call my service I'm starting it with a desired count though so my desired kennis - I always pretty",
    "start": "1160929",
    "end": "1167590"
  },
  {
    "text": "much want to have at least two there are not very many tasks that I would run less than two unless I was just getting",
    "start": "1167590",
    "end": "1173710"
  },
  {
    "text": "started or I was kind of if I was maybe starting it like a development environment or something like that I",
    "start": "1173710",
    "end": "1179350"
  },
  {
    "text": "might I might start with one but in general I want to always have two and that so my load balancer has at least two to",
    "start": "1179350",
    "end": "1186320"
  },
  {
    "text": "distribute copies between but you'll also be scaling that up we add a bunch",
    "start": "1186320",
    "end": "1191990"
  },
  {
    "text": "more parameters here at the same call so one of those might be placement strategy which we'll look at in a little bit and",
    "start": "1191990",
    "end": "1198320"
  },
  {
    "text": "then this is where I register with my ELB ELB and I'll be and this is what I said buy stuff that cannot be changed",
    "start": "1198320",
    "end": "1204620"
  },
  {
    "text": "so once I've registered my service to a specific load balancer I cannot change",
    "start": "1204620",
    "end": "1209750"
  },
  {
    "text": "that you have to go and back and recreate it that's also the same for family",
    "start": "1209750",
    "end": "1214970"
  },
  {
    "text": "so once I've created my family and I've read it straight to a family I don't get to change that either so just a couple",
    "start": "1214970",
    "end": "1220580"
  },
  {
    "text": "of things to note some of that information is immutable so don't go back and try to change it later but we",
    "start": "1220580",
    "end": "1226730"
  },
  {
    "text": "can dig into some of my other parameters so task placement policy so this is a",
    "start": "1226730",
    "end": "1232460"
  },
  {
    "start": "1229000",
    "end": "1229000"
  },
  {
    "text": "little bit newer and I was actually just talking about this in a in a chalk talk because someone said well I have special",
    "start": "1232460",
    "end": "1240289"
  },
  {
    "text": "custom instances and I've set them up in a special way but they're only for",
    "start": "1240289",
    "end": "1246200"
  },
  {
    "text": "specific tasks and that's pretty much what you can do here right so there's a couple ways things that I can do but I",
    "start": "1246200",
    "end": "1251870"
  },
  {
    "text": "call create service and I have a couple principles like I have a principle I",
    "start": "1251870",
    "end": "1257240"
  },
  {
    "text": "think for for ECS right and the first one and whatever orchestration till you end up using and the first one is that I",
    "start": "1257240",
    "end": "1263000"
  },
  {
    "text": "want to be able to customize things when I need to but if I don't want to",
    "start": "1263000",
    "end": "1268879"
  },
  {
    "text": "customize I want to know that I can rely on kind of a sensible default so that",
    "start": "1268879",
    "end": "1273919"
  },
  {
    "text": "someone else has done some research and chosen something that's going to work well for a lot of use cases so I think",
    "start": "1273919",
    "end": "1279830"
  },
  {
    "text": "that holds true for task placement policies too so if you do not choose anything you do not have to do this you",
    "start": "1279830",
    "end": "1286009"
  },
  {
    "text": "do not have to make a custom policy do you do not have to do strategies you don't have to do constraints you can do nothing and what nice es will do is it",
    "start": "1286009",
    "end": "1293899"
  },
  {
    "text": "will first check for hard constraints then it will place your tasks with the",
    "start": "1293899",
    "end": "1299240"
  },
  {
    "text": "on the instances that had the fewest number of running tasks balanced across availability zones so if I have a couple",
    "start": "1299240",
    "end": "1306080"
  },
  {
    "text": "instances running one has ten tasks one has two and they're both in different availability zones if they both meet the",
    "start": "1306080",
    "end": "1313639"
  },
  {
    "text": "kind of hard constraints ECS will place it on the moment fewest number of tasks so that's the",
    "start": "1313639",
    "end": "1319010"
  },
  {
    "text": "default behavior you can write custom ones so you have a couple different ones",
    "start": "1319010",
    "end": "1325700"
  },
  {
    "start": "1324000",
    "end": "1324000"
  },
  {
    "text": "so bin packing is pack them as closely together as possible so if I have two",
    "start": "1325700",
    "end": "1331910"
  },
  {
    "text": "hosts and I have one that has nothing on it and one that has a number of tasks and it just fits",
    "start": "1331910",
    "end": "1337130"
  },
  {
    "text": "ECS will choose the one where it just fits so you can use that to kind of use your resources as closely together as",
    "start": "1337130",
    "end": "1342920"
  },
  {
    "text": "possible I think that's really good for things like development environments to where",
    "start": "1342920",
    "end": "1348470"
  },
  {
    "text": "you want to run not so many hosts and not so much not so large of a host but",
    "start": "1348470",
    "end": "1355400"
  },
  {
    "text": "you can use that to kind of pack them until they're just full before you have to scale up and not another one you can",
    "start": "1355400",
    "end": "1361490"
  },
  {
    "text": "spread which means distribute them as evenly as possible you can do affinity which means groups of tasks so if I",
    "start": "1361490",
    "end": "1368150"
  },
  {
    "text": "always want my web app my web task with a messaging task I can make sure that they're deployed in pairs and this is",
    "start": "1368150",
    "end": "1375620"
  },
  {
    "text": "actually my favorite so it's distinct instance so it used to be when you first started with ECS right that you had some",
    "start": "1375620",
    "end": "1381770"
  },
  {
    "text": "things that you wanted to run in your hosts that didn't really belong as part",
    "start": "1381770",
    "end": "1386810"
  },
  {
    "text": "of a service so that might be like like I'd like a daemon right so something",
    "start": "1386810",
    "end": "1392900"
  },
  {
    "text": "that's going like a like monitoring or logging or something and you had to run that basically yourself so through ec2",
    "start": "1392900",
    "end": "1399500"
  },
  {
    "text": "user data or you had to go and start it yourself you couldn't really manage it through a service but what's cool though",
    "start": "1399500",
    "end": "1405590"
  },
  {
    "text": "is that you can use this tinct instance now and that will place one per host so",
    "start": "1405590",
    "end": "1410870"
  },
  {
    "text": "if I have like a messaging daemon like a container that I always want to run to collect logs I can make sure that",
    "start": "1410870",
    "end": "1416270"
  },
  {
    "text": "there's one and only one on each host that I've started as I Auto scale you",
    "start": "1416270",
    "end": "1421940"
  },
  {
    "start": "1421000",
    "end": "1421000"
  },
  {
    "text": "can also write some custom constraints so this is we're talking about a couple seconds ago that you have custom ways to",
    "start": "1421940",
    "end": "1428600"
  },
  {
    "text": "place things so I've maybe made an instance that's really I've customized it just from our workload I can filter",
    "start": "1428600",
    "end": "1435950"
  },
  {
    "text": "on that so that I can use them for just that kind of task so if I have like a",
    "start": "1435950",
    "end": "1441740"
  },
  {
    "text": "data task and I've set up a an instance type specifically for running my data workloads I can make sure that it's only",
    "start": "1441740",
    "end": "1448670"
  },
  {
    "text": "placed on those so what we didn't mention no it's kind of how these get applied right so you have your default one and",
    "start": "1448670",
    "end": "1455120"
  },
  {
    "text": "it's applied mostly the same way right it checks for hard constraints and then",
    "start": "1455120",
    "end": "1460400"
  },
  {
    "text": "it tries to hit your strategy and then it tries to hit your constraint so what I think is important here though is that",
    "start": "1460400",
    "end": "1466640"
  },
  {
    "text": "it used to be that you had three that you had three hard constraints so you had port you had memory and you had CPU",
    "start": "1466640",
    "end": "1473660"
  },
  {
    "text": "and poor CPU and memory are still there right I cannot have more CPU or more memory on",
    "start": "1473660",
    "end": "1480410"
  },
  {
    "start": "1474000",
    "end": "1474000"
  },
  {
    "text": "a box without getting a different box or doing something else but sometimes I can",
    "start": "1480410",
    "end": "1486410"
  },
  {
    "text": "get around the port constraint so if I had a web app and it was on 80 81 or",
    "start": "1486410",
    "end": "1491510"
  },
  {
    "text": "something what it used to be is that if I wanted to scale up my web app if I wanted to have another copy of 80 81 I'm",
    "start": "1491510",
    "end": "1499010"
  },
  {
    "text": "stuck I cannot make to 80 81 on the same box but what you can do now is that",
    "start": "1499010",
    "end": "1507520"
  },
  {
    "text": "instead of having to scale up just so that I had another port 8081 available to scale up my web app I can do",
    "start": "1507520",
    "end": "1514040"
  },
  {
    "text": "something called dynamic port mapping for the load balancer so I can give it a 0 as my host port and map that to my",
    "start": "1514040",
    "end": "1520460"
  },
  {
    "text": "container port and the alb will allocate that port for me which is effectively",
    "start": "1520460",
    "end": "1526340"
  },
  {
    "text": "moving one of my constraints so I can use my resources just a little bit more effectively alb I think is probably the",
    "start": "1526340",
    "end": "1534500"
  },
  {
    "text": "best choice for running things on East yes because port port allocation but",
    "start": "1534500",
    "end": "1539900"
  },
  {
    "text": "also has a path based routing so if I have slash web last messages slash API I",
    "start": "1539900",
    "end": "1545420"
  },
  {
    "text": "can handle those as target groups inside my alb rather than having 1 lb per",
    "start": "1545420",
    "end": "1551270"
  },
  {
    "text": "service I can use one a lb that handles multiple services and I can route my traffic that way you have options though",
    "start": "1551270",
    "end": "1557690"
  },
  {
    "text": "you have the classic you have a lb and you have network load bouncer that's actually really cool for things",
    "start": "1557690",
    "end": "1563210"
  },
  {
    "text": "like spiky traffic patterns where it used to be that you have to worry at your load balancer level about how your",
    "start": "1563210",
    "end": "1569870"
  },
  {
    "text": "how you would handle your traffic it was if it was really inconsistent you can do that with NLB now back to our little",
    "start": "1569870",
    "end": "1577270"
  },
  {
    "start": "1575000",
    "end": "1575000"
  },
  {
    "text": "deployment editing this service deploys and also scales so it sends out my new",
    "start": "1577270",
    "end": "1582830"
  },
  {
    "text": "revision but it also handles scaling also so it's the same call for pretty much everything I can use my",
    "start": "1582830",
    "end": "1588680"
  },
  {
    "text": "desired count to scale the service up and down or I can change the task definition to change the revision so",
    "start": "1588680",
    "end": "1594530"
  },
  {
    "text": "these are all effectively deployments so a scaling deployment and then also a Content deployment although this is",
    "start": "1594530",
    "end": "1601880"
  },
  {
    "start": "1599000",
    "end": "1599000"
  },
  {
    "text": "possible though from the console and the CLI this is probably something that you want to handle with auto scaling so it",
    "start": "1601880",
    "end": "1607130"
  },
  {
    "text": "means you're handling it in response to a different event so I add a rule that says okay if I have more than 85% CPU",
    "start": "1607130",
    "end": "1613340"
  },
  {
    "text": "scale this up if my queue length is over X messages scale it back up but then you",
    "start": "1613340",
    "end": "1618860"
  },
  {
    "text": "also have to scale back down so I probably don't want to just keep resources running if I don't need them",
    "start": "1618860",
    "end": "1624710"
  },
  {
    "text": "so for every auto scaling role you want to have the upper but then you also want to have the scaling down rule so that I",
    "start": "1624710",
    "end": "1631070"
  },
  {
    "text": "can scale back down where my traffic no longer warrants that then I had someone ask earlier there their rule wasn't",
    "start": "1631070",
    "end": "1638150"
  },
  {
    "text": "working and they scaled up at 85 at 85 percent of CPU but then also back down",
    "start": "1638150",
    "end": "1645230"
  },
  {
    "text": "again at 85 percent CPU and then so nothing happened and what you usually",
    "start": "1645230",
    "end": "1650840"
  },
  {
    "text": "want to do is you want to leave a little bit of a gap so I scale up at 85 percent maybe I don't scale down again until 75",
    "start": "1650840",
    "end": "1658070"
  },
  {
    "text": "percent so that way if my traffic is kind of spiky I'm not trying to scale up and down and then just kind of undoing",
    "start": "1658070",
    "end": "1665330"
  },
  {
    "text": "all my changes over and over again I scale up and then I get myself a little bit of wiggle room so I wait for the CPU",
    "start": "1665330",
    "end": "1671750"
  },
  {
    "text": "to go below a certain number before I scale back down again but so I'm that you want to handle with auto scaling and",
    "start": "1671750",
    "end": "1677510"
  },
  {
    "text": "you auto scale at two levels so you you do it at they at the task the service level and then you do it at the cluster",
    "start": "1677510",
    "end": "1683840"
  },
  {
    "text": "level as well so the service and the task is handling how that service itself scales and then the auto scaling group",
    "start": "1683840",
    "end": "1690370"
  },
  {
    "text": "is controlling your cluster resources so how do I add and take away more resources from my cluster so if the if",
    "start": "1690370",
    "end": "1698480"
  },
  {
    "text": "my total cluster resources goes below 85 percent or below ten percent that's",
    "start": "1698480",
    "end": "1703670"
  },
  {
    "text": "available add another instance to the cluster so that I have more places to place my new tasks and",
    "start": "1703670",
    "end": "1711220"
  },
  {
    "start": "1711000",
    "end": "1711000"
  },
  {
    "text": "that's fine not where you want to leave it though right so you can deploy this way you can start a new cluster you get",
    "start": "1711250",
    "end": "1717520"
  },
  {
    "text": "at a task you could add a service but there's more that goes into running a production infrastructure obviously than",
    "start": "1717520",
    "end": "1723070"
  },
  {
    "text": "just my little my little CLI demo you can query the cluster state and you can",
    "start": "1723070",
    "end": "1729580"
  },
  {
    "text": "but basically you end up emitting a lot of events so your clusters your services",
    "start": "1729580",
    "end": "1734650"
  },
  {
    "text": "they all emit events and you can consume those somewhere else so that you can learn from them you can monitor you can",
    "start": "1734650",
    "end": "1740650"
  },
  {
    "text": "log on that but I can consume these events through cloud watch so that I can both Auto scale but that I also can look",
    "start": "1740650",
    "end": "1746350"
  },
  {
    "text": "at the events to see okay well this deployment worked or this deployment",
    "start": "1746350",
    "end": "1751900"
  },
  {
    "text": "didn't so I can really keep track of that by consuming the the cluster events you can stream that whole thing into",
    "start": "1751900",
    "end": "1758950"
  },
  {
    "text": "into cloud watch which gets me pretty close to real-time updates about both the container instances and then also",
    "start": "1758950",
    "end": "1765640"
  },
  {
    "text": "the tits the state of all those tasks so what I would probably do with that is I would consume those events somewhere or",
    "start": "1765640",
    "end": "1771220"
  },
  {
    "text": "I would build something on top of that so I would build a schedule or I would monitor my cluster state or I would use",
    "start": "1771220",
    "end": "1777730"
  },
  {
    "text": "it with something like lambda so that I could take action then based on the events in my cluster so maybe I send a",
    "start": "1777730",
    "end": "1783429"
  },
  {
    "text": "notification when my cluster goes up or I want to let everyone know when a certain deployment has worked in like a",
    "start": "1783429",
    "end": "1789340"
  },
  {
    "text": "slack channel or something so I can do that by consuming those events but what",
    "start": "1789340",
    "end": "1794530"
  },
  {
    "text": "happens when I've set up my cluster so I have my cluster it's running but maybe I want to actually use something in",
    "start": "1794530",
    "end": "1800470"
  },
  {
    "text": "production so what do I do now the first thing I think is is monitoring",
    "start": "1800470",
    "end": "1805809"
  },
  {
    "start": "1803000",
    "end": "1803000"
  },
  {
    "text": "so how do I figure out what is happening with my cluster how do I know that I've allocated the right resources how do I",
    "start": "1805809",
    "end": "1811990"
  },
  {
    "text": "know that I've I'm getting the most out of my tasks and my service how do I know if something's wrong I think the easiest",
    "start": "1811990",
    "end": "1818320"
  },
  {
    "text": "way is probably to do it is with cloud watch so I can see the CPU for both my cluster but I can also see it at the",
    "start": "1818320",
    "end": "1824320"
  },
  {
    "text": "task and the service level and I would also mean really be consuming some of those events somewhere else to take action but I can also look and kind of",
    "start": "1824320",
    "end": "1831940"
  },
  {
    "text": "look at a well here's a snapshot of what my whole cluster looks like so on this",
    "start": "1831940",
    "end": "1837640"
  },
  {
    "text": "one you can see CPU and healthy host count so I might alarm on some of these but I could also be like okay well I",
    "start": "1837640",
    "end": "1843820"
  },
  {
    "text": "want to just go what my cluster looks like so I pop in and I can see it okay the CPU utilization is 15 percent 10 percent and",
    "start": "1843820",
    "end": "1852579"
  },
  {
    "text": "then also my healthy host count looks like this so you can get a lot of",
    "start": "1852579",
    "end": "1858190"
  },
  {
    "text": "metrics there you can add your own but you can basically see the whole state of the cluster the state of the service to",
    "start": "1858190",
    "end": "1863349"
  },
  {
    "text": "say to the task and then you can also consume those events somehow else so an example of that might be with Pedro Judi",
    "start": "1863349",
    "end": "1869709"
  },
  {
    "text": "if for example you're on call so you can consume the event with Pedro duty or another logging app so that you can you",
    "start": "1869709",
    "end": "1877239"
  },
  {
    "text": "can monitor your whole cluster you pick a logging driver and ECS so when we",
    "start": "1877239",
    "end": "1883089"
  },
  {
    "start": "1879000",
    "end": "1879000"
  },
  {
    "text": "talked about things that you could do it kind of the test definition level and you choose a logger",
    "start": "1883089",
    "end": "1888489"
  },
  {
    "text": "so donker gives you a lot of options AWS logs will go to cloud watch you have",
    "start": "1888489",
    "end": "1895659"
  },
  {
    "text": "other ones though too so you can go to a JSON file you can go to Journal D the",
    "start": "1895659",
    "end": "1900940"
  },
  {
    "text": "EECS agent github repo is open source so if you have something that you want to see so if you have your own favorite log",
    "start": "1900940",
    "end": "1907029"
  },
  {
    "text": "driver or sign that you've worked on or your own favorite open a PR and let us know on the github page and we look at",
    "start": "1907029",
    "end": "1914109"
  },
  {
    "text": "those also but you can add your own favorite log driver with the AWS logs one I can set the log group so that I",
    "start": "1914109",
    "end": "1921759"
  },
  {
    "text": "can sort it because I think probably the only thing worse than no logs is having like terabytes of unstructured logs and",
    "start": "1921759",
    "end": "1929079"
  },
  {
    "text": "then it's like well what do i what do I do if something actually goes wrong how can I use this so set of groups at a",
    "start": "1929079",
    "end": "1934929"
  },
  {
    "text": "region but use your own favorite log driver and I think the right answer for all of these right is what's going to",
    "start": "1934929",
    "end": "1940209"
  },
  {
    "text": "work for you what can you get the most insights from what can you what's gonna",
    "start": "1940209",
    "end": "1945399"
  },
  {
    "text": "be workable for you what's the way that you can look at it what's a way that's going to help you and your company kind",
    "start": "1945399",
    "end": "1950709"
  },
  {
    "text": "of get the most help you learn about your infrastructure and help you get insights into how you can make things",
    "start": "1950709",
    "end": "1955779"
  },
  {
    "text": "better and ends up looking something like this but I can pretty much have everything at",
    "start": "1955779",
    "end": "1961599"
  },
  {
    "text": "cloud watch I can label them I get times I'd end up sorting through them so this",
    "start": "1961599",
    "end": "1967389"
  },
  {
    "text": "is just a things I shove there but you could you could do a lot better than I did and I'm sorting them you probably",
    "start": "1967389",
    "end": "1974979"
  },
  {
    "start": "1974000",
    "end": "1974000"
  },
  {
    "text": "want to use a filter or Trek I've added custom metrics before so",
    "start": "1974979",
    "end": "1980420"
  },
  {
    "text": "that I could alert on them but a lot of the a lot of them are kind of fine with the with the stock version so on this",
    "start": "1980420",
    "end": "1988280"
  },
  {
    "text": "one I've added a custom one and then I can alert on that error so when I see a certain kind of error send it to pager",
    "start": "1988280",
    "end": "1994940"
  },
  {
    "text": "duty send it to my phone send it to my email definitely filter them though because",
    "start": "1994940",
    "end": "2000760"
  },
  {
    "text": "what's really not helpful is not only my unstructured log data but getting a bunch of getting a bunch of alerts so I",
    "start": "2000760",
    "end": "2007360"
  },
  {
    "text": "think anyone that's been on call is probably running into this but you have the alert that it wakes you up and then a two o'clock in the morning and you're",
    "start": "2007360",
    "end": "2013750"
  },
  {
    "text": "like well that can wait until tomorrow I think if it waked you up if it woke you",
    "start": "2013750",
    "end": "2018760"
  },
  {
    "text": "up you can't really wait until tomorrow so you need to make sure that not only are you logging not only are you learning not only are you monitoring but",
    "start": "2018760",
    "end": "2025630"
  },
  {
    "text": "you're doing that intelligently so if something wakes someone up and it's not urgent shouldn't have woken someone up",
    "start": "2025630",
    "end": "2031840"
  },
  {
    "text": "so make sure that you're kind of sorting you're using severity levels so that you're only you're alerting exactly what",
    "start": "2031840",
    "end": "2037870"
  },
  {
    "text": "you need at the right time that you need it so if something is just like a hey I might run out of disk space in two days",
    "start": "2037870",
    "end": "2043470"
  },
  {
    "text": "maybe make a warning so that people know that they need to take action soon but it's not an emergency yet something",
    "start": "2043470",
    "end": "2051490"
  },
  {
    "start": "2050000",
    "end": "2050000"
  },
  {
    "text": "really common that that I think everyone get asks is but what if how do I do service discovery and the recommendation",
    "start": "2051490",
    "end": "2059139"
  },
  {
    "text": "that I used to give was to do it through DNS records and we'll get to that in a second but I think actually alb is",
    "start": "2059140",
    "end": "2065679"
  },
  {
    "text": "probably easier now so I can pretty much pretty straightforwardly do this now",
    "start": "2065680",
    "end": "2071169"
  },
  {
    "text": "because I can route my content based on path as you talked about when we were looking at the load balancer but it",
    "start": "2071170",
    "end": "2077020"
  },
  {
    "text": "looks end up looking something like slash nothing goes to my made website",
    "start": "2077020",
    "end": "2082540"
  },
  {
    "text": "slash sign in goes to my log in service sascha api goes to my API and as I add",
    "start": "2082540",
    "end": "2088240"
  },
  {
    "text": "new tasks to that service they're registered to that same load balancer so that effectively is handling my service",
    "start": "2088240",
    "end": "2093730"
  },
  {
    "text": "discovery for things that are being routed to through the application load balancer that's not the only way I think",
    "start": "2093730",
    "end": "2100000"
  },
  {
    "text": "it's probably the easiest way it's kind of like service discovery but it's very",
    "start": "2100000",
    "end": "2105370"
  },
  {
    "text": "it's pretty seamless because all I'm really doing is I'm writing target groups then every time a new task comes since",
    "start": "2105370",
    "end": "2112130"
  },
  {
    "text": "it's through that service is registered to the load balancer you can also do",
    "start": "2112130",
    "end": "2117290"
  },
  {
    "text": "this as DNS so a way that I probably would have done in the past and I could still do it I use a cloud watch event",
    "start": "2117290",
    "end": "2123950"
  },
  {
    "text": "trigger something in lambda and that can add or remove her record in route 53 so",
    "start": "2123950",
    "end": "2129400"
  },
  {
    "text": "also pretty easy a little less easy probably than doing the load balancer but it's it's effectively the same thing",
    "start": "2129400",
    "end": "2136220"
  },
  {
    "text": "so I when I have a new a new task come up I add the I add the record in route 53",
    "start": "2136220",
    "end": "2143570"
  },
  {
    "text": "which works at the host level also so if I have a new host comes up and I need a record for it like I'm using an",
    "start": "2143570",
    "end": "2149660"
  },
  {
    "text": "allocation service I could do the same thing I could have a cloud watch event when a new host comes up runs a lamb to",
    "start": "2149660",
    "end": "2156410"
  },
  {
    "text": "handle or adds a new record in route 53 and then the same thing for if I remove one so a task is removed or host is",
    "start": "2156410",
    "end": "2163070"
  },
  {
    "text": "removed tribbles my event which triggers my lambda function which makes the change in and route 53 what about secrets so",
    "start": "2163070",
    "end": "2173920"
  },
  {
    "start": "2169000",
    "end": "2169000"
  },
  {
    "text": "there are different things different levels of secret I guess right and the kind of the textbook way is well I can",
    "start": "2173920",
    "end": "2181400"
  },
  {
    "text": "pass environment variables is in my task definition so my name and a value that's",
    "start": "2181400",
    "end": "2187970"
  },
  {
    "text": "not really that great if it's really sensitive though because if I just go to",
    "start": "2187970",
    "end": "2193040"
  },
  {
    "text": "the AWS console I can just see that which doesn't really doesn't really seem secret what that's great for is",
    "start": "2193040",
    "end": "2200180"
  },
  {
    "text": "something like passing an environment so production or staging and then looking up that value and an actual secret key",
    "start": "2200180",
    "end": "2207260"
  },
  {
    "text": "store somewhere else so example might be in parameter store so I can control",
    "start": "2207260",
    "end": "2214690"
  },
  {
    "start": "2210000",
    "end": "2210000"
  },
  {
    "text": "based on I am roles the tasks that can access which permission so I set my I am",
    "start": "2214690",
    "end": "2221330"
  },
  {
    "text": "role at my task level so it's bison effectively by service uses I am role I",
    "start": "2221330",
    "end": "2226820"
  },
  {
    "text": "have prod dot app or something and I can use those as my environment variables so",
    "start": "2226820",
    "end": "2233060"
  },
  {
    "text": "I can feed in the environment name but then I can only look up based on my I am role so that means that service a can",
    "start": "2233060",
    "end": "2239600"
  },
  {
    "text": "get something will service be can't service see can two things I think that's kind of a",
    "start": "2239600",
    "end": "2245160"
  },
  {
    "text": "principle to keep in mind when you're building containers in AWS also right or anywhere which is that you don't have to",
    "start": "2245160",
    "end": "2251009"
  },
  {
    "text": "manage everything at just the instance level anymore you can manage them at the task level so it used to be right that I",
    "start": "2251009",
    "end": "2257190"
  },
  {
    "text": "had an iamb roller and a security group for my instance and that was great but",
    "start": "2257190",
    "end": "2262619"
  },
  {
    "text": "it meant that any task on that instance had the same permissions they could do the same things and I don't necessarily",
    "start": "2262619",
    "end": "2267990"
  },
  {
    "text": "want that anymore so what I can do now is I can do everything at kind of the task in the service level so if I have a",
    "start": "2267990",
    "end": "2273539"
  },
  {
    "text": "messaging task my messaging service maybe can access DynamoDB and Kinesis",
    "start": "2273539",
    "end": "2279660"
  },
  {
    "text": "but not s3 but then I have a service that's like my photo service and that",
    "start": "2279660",
    "end": "2285089"
  },
  {
    "text": "can access s3 but it can access Kinesis and DynamoDB so you can control based on",
    "start": "2285089",
    "end": "2290460"
  },
  {
    "text": "the job of that service what it has access to and what it doesn't have access to now let's do be a lot more",
    "start": "2290460",
    "end": "2295710"
  },
  {
    "text": "secure right because you no longer have kind of one role for every service that can access all the same stuff you can",
    "start": "2295710",
    "end": "2303690"
  },
  {
    "start": "2303000",
    "end": "2303000"
  },
  {
    "text": "monitor performance with stuff like x-ray so what you can do is you can",
    "start": "2303690",
    "end": "2308700"
  },
  {
    "text": "trace the connections this way so this is my service map but what I can do is I",
    "start": "2308700",
    "end": "2314220"
  },
  {
    "start": "2314000",
    "end": "2314000"
  },
  {
    "text": "can dig into this so I can run traces so I can look at the latency the number of",
    "start": "2314220",
    "end": "2319980"
  },
  {
    "text": "the percent the response time I can't dig into that for kind of all of my calls so I can see okay well you know",
    "start": "2319980",
    "end": "2325769"
  },
  {
    "text": "this call to this service is kind of slow but or this call to this service is really fast and then once I've dug into",
    "start": "2325769",
    "end": "2332460"
  },
  {
    "text": "that I can see ok well this is where I should focus all my energy if I want to make my deployments faster um so you",
    "start": "2332460",
    "end": "2340019"
  },
  {
    "text": "have a lot of options out there for making sure that you're kind of getting the most out of your out of your deployments I am wrapping up here this",
    "start": "2340019",
    "end": "2350640"
  },
  {
    "text": "is on a live stream so we're probably going to do pretty limited questions out loud and also the room is kind of huge",
    "start": "2350640",
    "end": "2358609"
  },
  {
    "text": "so I'm gonna stand to this side to here and then to the side right here so if",
    "start": "2358609",
    "end": "2364230"
  },
  {
    "text": "anyone has any questions come and see me afterwards I'm happy to answer anything",
    "start": "2364230",
    "end": "2369390"
  },
  {
    "text": "I'll hang out for a while if not I've been told to give you guys a little bit of wiggle room to get to the next",
    "start": "2369390",
    "end": "2375059"
  },
  {
    "text": "session so that you can get a seat there also so I'll be standing right here if you have",
    "start": "2375059",
    "end": "2380119"
  },
  {
    "text": "any questions come and find me and if not enjoy your next session and enjoy the rest of reinvent [Applause]",
    "start": "2380119",
    "end": "2387789"
  }
]