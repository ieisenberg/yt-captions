[
  {
    "text": "okay uh thanks for coming everyone am i",
    "start": "2159",
    "end": "3919"
  },
  {
    "text": "am i the correct volume",
    "start": "3919",
    "end": "6560"
  },
  {
    "text": "i think so okay",
    "start": "6560",
    "end": "7919"
  },
  {
    "text": "my name is amin bartram",
    "start": "7919",
    "end": "10000"
  },
  {
    "text": "this is guillaume lucasano and we are",
    "start": "10000",
    "end": "12880"
  },
  {
    "text": "the technical co-founders of socialcam",
    "start": "12880",
    "end": "15920"
  },
  {
    "text": "our third co-founder michael is in the",
    "start": "15920",
    "end": "18080"
  },
  {
    "text": "audience there and our",
    "start": "18080",
    "end": "19520"
  },
  {
    "text": "two employees",
    "start": "19520",
    "end": "22080"
  },
  {
    "text": "so such a cam is an app and a website",
    "start": "22880",
    "end": "27279"
  },
  {
    "text": "for sharing video we make it uh really",
    "start": "27279",
    "end": "30000"
  },
  {
    "text": "easy to take a video on a smartphone",
    "start": "30000",
    "end": "32078"
  },
  {
    "text": "uh get it online to comment on videos",
    "start": "32079",
    "end": "34000"
  },
  {
    "text": "and to see the videos your friends are",
    "start": "34000",
    "end": "35360"
  },
  {
    "text": "taking we've been called uh twitter or",
    "start": "35360",
    "end": "37840"
  },
  {
    "text": "instagram",
    "start": "37840",
    "end": "39200"
  },
  {
    "text": "for video",
    "start": "39200",
    "end": "42360"
  },
  {
    "text": "uh yes i'm aman i work primarily on the",
    "start": "44960",
    "end": "48480"
  },
  {
    "text": "ios app and",
    "start": "48480",
    "end": "50559"
  },
  {
    "text": "the video uploading back end",
    "start": "50559",
    "end": "53840"
  },
  {
    "text": "and i used to own a cow named snorkman",
    "start": "53840",
    "end": "56399"
  },
  {
    "text": "in my youth",
    "start": "56399",
    "end": "59640"
  },
  {
    "text": "hi so i'm guillaum i arrived from france",
    "start": "59760",
    "end": "63199"
  },
  {
    "text": "about two years ago",
    "start": "63199",
    "end": "64799"
  },
  {
    "text": "and at socialcam i mostly do ruby and i",
    "start": "64799",
    "end": "67439"
  },
  {
    "text": "built the backend",
    "start": "67439",
    "end": "68960"
  },
  {
    "text": "which support the website and the api",
    "start": "68960",
    "end": "71200"
  },
  {
    "text": "for the app",
    "start": "71200",
    "end": "72400"
  },
  {
    "text": "that's mostly it",
    "start": "72400",
    "end": "75119"
  },
  {
    "text": "liquid malfunction",
    "start": "78400",
    "end": "81280"
  },
  {
    "text": "okay",
    "start": "82159",
    "end": "83360"
  },
  {
    "text": "great so",
    "start": "83360",
    "end": "85520"
  },
  {
    "text": "last april",
    "start": "85520",
    "end": "86960"
  },
  {
    "text": "we released an extremely effective",
    "start": "86960",
    "end": "89680"
  },
  {
    "text": "facebook integration and over the course",
    "start": "89680",
    "end": "92240"
  },
  {
    "text": "of a month",
    "start": "92240",
    "end": "93600"
  },
  {
    "text": "the monthly uniques",
    "start": "93600",
    "end": "95439"
  },
  {
    "text": "on our website",
    "start": "95439",
    "end": "97759"
  },
  {
    "text": "grew from 3 million to",
    "start": "97759",
    "end": "100360"
  },
  {
    "text": "120 million",
    "start": "100360",
    "end": "102320"
  },
  {
    "text": "uh during that time you and i were the",
    "start": "102320",
    "end": "104640"
  },
  {
    "text": "only engineers at social camps so we had",
    "start": "104640",
    "end": "106880"
  },
  {
    "text": "to",
    "start": "106880",
    "end": "107680"
  },
  {
    "text": "you know",
    "start": "107680",
    "end": "109200"
  },
  {
    "text": "do that pretty gargantuan scaling task",
    "start": "109200",
    "end": "111360"
  },
  {
    "text": "alone so what we're going to do here",
    "start": "111360",
    "end": "113520"
  },
  {
    "text": "today is uh go through the three",
    "start": "113520",
    "end": "117119"
  },
  {
    "text": "principal problems that we had to solve",
    "start": "117119",
    "end": "119520"
  },
  {
    "text": "uh you know during that those three",
    "start": "119520",
    "end": "121280"
  },
  {
    "text": "months that crazy growth and lay out uh",
    "start": "121280",
    "end": "124799"
  },
  {
    "text": "the the various solutions we we came up",
    "start": "124799",
    "end": "127119"
  },
  {
    "text": "for for each of those problems",
    "start": "127119",
    "end": "130160"
  },
  {
    "text": "uh so yeah so in in april we had just",
    "start": "131200",
    "end": "132879"
  },
  {
    "text": "finished y combinator",
    "start": "132879",
    "end": "134959"
  },
  {
    "text": "we were running",
    "start": "134959",
    "end": "136160"
  },
  {
    "text": "uh at that point on 15",
    "start": "136160",
    "end": "138560"
  },
  {
    "text": "fairly fairly cheap servers in a",
    "start": "138560",
    "end": "140000"
  },
  {
    "text": "co-location facility in south san",
    "start": "140000",
    "end": "141840"
  },
  {
    "text": "francisco uh simple rails stack uh",
    "start": "141840",
    "end": "145040"
  },
  {
    "text": "postgres that was our primary database",
    "start": "145040",
    "end": "147360"
  },
  {
    "text": "we had",
    "start": "147360",
    "end": "148319"
  },
  {
    "text": "video lists in in in just a little",
    "start": "148319",
    "end": "151120"
  },
  {
    "text": "bit faster keep them out of the of the",
    "start": "151120",
    "end": "152640"
  },
  {
    "text": "main database",
    "start": "152640",
    "end": "154840"
  },
  {
    "text": "and that architecture worked",
    "start": "154840",
    "end": "157680"
  },
  {
    "text": "well for our scale pre-facebook",
    "start": "157680",
    "end": "159519"
  },
  {
    "text": "integration we uh you know we'd raise",
    "start": "159519",
    "end": "161599"
  },
  {
    "text": "money we're going we're happy with",
    "start": "161599",
    "end": "162879"
  },
  {
    "text": "ourselves and then",
    "start": "162879",
    "end": "165280"
  },
  {
    "text": "we released facebook and",
    "start": "165280",
    "end": "168879"
  },
  {
    "text": "bam uh everything exploded",
    "start": "168879",
    "end": "171840"
  },
  {
    "text": "um",
    "start": "171840",
    "end": "172800"
  },
  {
    "text": "over the course of the first day we went",
    "start": "172800",
    "end": "174800"
  },
  {
    "text": "from 1 000 new users",
    "start": "174800",
    "end": "177760"
  },
  {
    "text": "an hour to 30 000 new users an hour",
    "start": "177760",
    "end": "180959"
  },
  {
    "text": "uh",
    "start": "180959",
    "end": "182720"
  },
  {
    "text": "we we pushed this live at at 3 p.m and",
    "start": "182720",
    "end": "185519"
  },
  {
    "text": "then we at 5 p.m we had a meeting to",
    "start": "185519",
    "end": "187599"
  },
  {
    "text": "talk about if we needed to buy more",
    "start": "187599",
    "end": "188720"
  },
  {
    "text": "servers and there's a two week process",
    "start": "188720",
    "end": "190159"
  },
  {
    "text": "buy more service but no data center to",
    "start": "190159",
    "end": "191360"
  },
  {
    "text": "support the load and you know by 7 pm",
    "start": "191360",
    "end": "195040"
  },
  {
    "text": "it was clear that",
    "start": "195040",
    "end": "197200"
  },
  {
    "text": "you know everything was going to be down",
    "start": "197200",
    "end": "199599"
  },
  {
    "text": "by nine if we didn't",
    "start": "199599",
    "end": "201360"
  },
  {
    "text": "fundamentally change something um",
    "start": "201360",
    "end": "204879"
  },
  {
    "text": "so the first the first problem the first",
    "start": "205760",
    "end": "206959"
  },
  {
    "text": "of our big scaling hurdles was",
    "start": "206959",
    "end": "209280"
  },
  {
    "text": "not enough cpu and gim's gonna talk",
    "start": "209280",
    "end": "211120"
  },
  {
    "text": "about it yeah",
    "start": "211120",
    "end": "213519"
  },
  {
    "text": "cool yeah so the first big problem we",
    "start": "213519",
    "end": "215519"
  },
  {
    "text": "encountered actually uh",
    "start": "215519",
    "end": "217840"
  },
  {
    "text": "that we didn't have enough cpu to like",
    "start": "217840",
    "end": "220319"
  },
  {
    "text": "process all the back-end requests the",
    "start": "220319",
    "end": "222640"
  },
  {
    "text": "website and the api and also the video",
    "start": "222640",
    "end": "225280"
  },
  {
    "text": "processing stuff",
    "start": "225280",
    "end": "226720"
  },
  {
    "text": "we were ingesting more videos and we",
    "start": "226720",
    "end": "228239"
  },
  {
    "text": "didn't have just not enough capacity to",
    "start": "228239",
    "end": "230560"
  },
  {
    "text": "treat all of that",
    "start": "230560",
    "end": "232720"
  },
  {
    "text": "so",
    "start": "232720",
    "end": "234560"
  },
  {
    "text": "immediately what we had to do as ammon",
    "start": "234560",
    "end": "236400"
  },
  {
    "text": "said is decide if we wanted more",
    "start": "236400",
    "end": "239200"
  },
  {
    "text": "other boxes or try to",
    "start": "239200",
    "end": "241680"
  },
  {
    "text": "do something and",
    "start": "241680",
    "end": "243040"
  },
  {
    "text": "move to aws obviously we didn't have",
    "start": "243040",
    "end": "245200"
  },
  {
    "text": "time to buy hardware",
    "start": "245200",
    "end": "248000"
  },
  {
    "text": "so the only option for us was to go on a",
    "start": "248000",
    "end": "250640"
  },
  {
    "text": "ws",
    "start": "250640",
    "end": "252239"
  },
  {
    "text": "but we were running fairly well in our",
    "start": "252239",
    "end": "255040"
  },
  {
    "text": "own collocation with 15 servers",
    "start": "255040",
    "end": "258000"
  },
  {
    "text": "we had our db and stuff and it was",
    "start": "258000",
    "end": "260479"
  },
  {
    "text": "kind of our problem to extend capacity",
    "start": "260479",
    "end": "263360"
  },
  {
    "text": "from our color and add capacity on aws",
    "start": "263360",
    "end": "266800"
  },
  {
    "text": "so we had to find a way",
    "start": "266800",
    "end": "268639"
  },
  {
    "text": "to communicate from aws to our database",
    "start": "268639",
    "end": "271440"
  },
  {
    "text": "in our caller because it was not open to",
    "start": "271440",
    "end": "274000"
  },
  {
    "text": "the world right it was for some security",
    "start": "274000",
    "end": "275759"
  },
  {
    "text": "reason it was blocked from the outside",
    "start": "275759",
    "end": "277600"
  },
  {
    "text": "world",
    "start": "277600",
    "end": "278639"
  },
  {
    "text": "so",
    "start": "278639",
    "end": "279919"
  },
  {
    "text": "first thing we tried in akish way it was",
    "start": "279919",
    "end": "283040"
  },
  {
    "text": "aman was",
    "start": "283040",
    "end": "284720"
  },
  {
    "text": "uh just pin up an instance and",
    "start": "284720",
    "end": "286800"
  },
  {
    "text": "started a bunch of",
    "start": "286800",
    "end": "288160"
  },
  {
    "text": "tuners to be able to redirect the",
    "start": "288160",
    "end": "290960"
  },
  {
    "text": "database port to an ssh port",
    "start": "290960",
    "end": "293520"
  },
  {
    "text": "and some crazy stuff happening there i",
    "start": "293520",
    "end": "296080"
  },
  {
    "text": "mean amanda was inside the terminal",
    "start": "296080",
    "end": "298880"
  },
  {
    "text": "launching stuff",
    "start": "298880",
    "end": "300560"
  },
  {
    "text": "it worked a little bit",
    "start": "300560",
    "end": "302639"
  },
  {
    "text": "but",
    "start": "302639",
    "end": "303840"
  },
  {
    "text": "pretty quickly it worked our entire",
    "start": "303840",
    "end": "305199"
  },
  {
    "text": "summer",
    "start": "305199",
    "end": "306160"
  },
  {
    "text": "there's a point where our entire video",
    "start": "306160",
    "end": "307759"
  },
  {
    "text": "encoding system was running in a whole",
    "start": "307759",
    "end": "309919"
  },
  {
    "text": "bunch of screen sessions on",
    "start": "309919",
    "end": "312160"
  },
  {
    "text": "adress instances communicating over the",
    "start": "312160",
    "end": "313919"
  },
  {
    "text": "spider web vested stage tunnels back to",
    "start": "313919",
    "end": "315600"
  },
  {
    "text": "our to our database",
    "start": "315600",
    "end": "317440"
  },
  {
    "text": "indeed but obviously this wasn't the",
    "start": "317440",
    "end": "319600"
  },
  {
    "text": "right solution",
    "start": "319600",
    "end": "320880"
  },
  {
    "text": "so we call out some friends some",
    "start": "320880",
    "end": "322960"
  },
  {
    "text": "administers that came out and helped us",
    "start": "322960",
    "end": "325440"
  },
  {
    "text": "set us set up set up the real solution",
    "start": "325440",
    "end": "328080"
  },
  {
    "text": "which was setting up a vpn",
    "start": "328080",
    "end": "330000"
  },
  {
    "text": "great we had our first vpn communication",
    "start": "330000",
    "end": "332400"
  },
  {
    "text": "was working the thing is",
    "start": "332400",
    "end": "334800"
  },
  {
    "text": "one or two day after we were already",
    "start": "334800",
    "end": "336560"
  },
  {
    "text": "maxing out the capacity of the vpn so we",
    "start": "336560",
    "end": "338720"
  },
  {
    "text": "had to add a second vpn and like a few",
    "start": "338720",
    "end": "341360"
  },
  {
    "text": "days after our third one and right now",
    "start": "341360",
    "end": "343280"
  },
  {
    "text": "we are",
    "start": "343280",
    "end": "344240"
  },
  {
    "text": "still running on three vpn to",
    "start": "344240",
    "end": "345759"
  },
  {
    "text": "communicate between our two",
    "start": "345759",
    "end": "347520"
  },
  {
    "text": "ws and alcohol",
    "start": "347520",
    "end": "350320"
  },
  {
    "text": "so",
    "start": "350320",
    "end": "351759"
  },
  {
    "text": "this was the first problem the first",
    "start": "351759",
    "end": "353600"
  },
  {
    "text": "solution was to add capacitor in ws",
    "start": "353600",
    "end": "356400"
  },
  {
    "text": "second thing we had to do and we had to",
    "start": "356400",
    "end": "359919"
  },
  {
    "text": "be extremely fast because we wanted the",
    "start": "359919",
    "end": "361600"
  },
  {
    "text": "site to be up to keep getting users",
    "start": "361600",
    "end": "364240"
  },
  {
    "text": "so",
    "start": "364240",
    "end": "365120"
  },
  {
    "text": "michael asked hey",
    "start": "365120",
    "end": "367120"
  },
  {
    "text": "what should we kill to be to keep",
    "start": "367120",
    "end": "368960"
  },
  {
    "text": "running and to keep uh get the site up",
    "start": "368960",
    "end": "371759"
  },
  {
    "text": "so we started to kill non-essential",
    "start": "371759",
    "end": "373280"
  },
  {
    "text": "feature activity feed comment on the",
    "start": "373280",
    "end": "375440"
  },
  {
    "text": "website",
    "start": "375440",
    "end": "376880"
  },
  {
    "text": "and even though there is also some geo",
    "start": "376880",
    "end": "379199"
  },
  {
    "text": "that wasn't necessary for us what we",
    "start": "379199",
    "end": "381360"
  },
  {
    "text": "were looking for is growth in the us",
    "start": "381360",
    "end": "383440"
  },
  {
    "text": "that was the most important thing to",
    "start": "383440",
    "end": "385039"
  },
  {
    "text": "keep up so we started to disable non-us",
    "start": "385039",
    "end": "387919"
  },
  {
    "text": "countries",
    "start": "387919",
    "end": "389600"
  },
  {
    "text": "and that night i mean that first day",
    "start": "389600",
    "end": "392080"
  },
  {
    "text": "kills kills switches got born we're born",
    "start": "392080",
    "end": "395440"
  },
  {
    "text": "basically",
    "start": "395440",
    "end": "396880"
  },
  {
    "text": "we quickly built a web interface to be",
    "start": "396880",
    "end": "399120"
  },
  {
    "text": "able to turn on enough features on our",
    "start": "399120",
    "end": "402080"
  },
  {
    "text": "back end by just sitting a flag in",
    "start": "402080",
    "end": "404080"
  },
  {
    "text": "memcache",
    "start": "404080",
    "end": "405280"
  },
  {
    "text": "and the thing is",
    "start": "405280",
    "end": "406880"
  },
  {
    "text": "uh as we built a web interface to do",
    "start": "406880",
    "end": "409039"
  },
  {
    "text": "that",
    "start": "409039",
    "end": "410240"
  },
  {
    "text": "you need to be careful if you do this",
    "start": "410240",
    "end": "411599"
  },
  {
    "text": "kind of stock because",
    "start": "411599",
    "end": "413520"
  },
  {
    "text": "if your site is getting done because a",
    "start": "413520",
    "end": "416160"
  },
  {
    "text": "feature is killing it",
    "start": "416160",
    "end": "417680"
  },
  {
    "text": "you cannot access the web interface to",
    "start": "417680",
    "end": "419199"
  },
  {
    "text": "kill that feature because your site is",
    "start": "419199",
    "end": "421039"
  },
  {
    "text": "done so you need a backup way to kill",
    "start": "421039",
    "end": "423360"
  },
  {
    "text": "stuff",
    "start": "423360",
    "end": "425199"
  },
  {
    "text": "um",
    "start": "425199",
    "end": "426479"
  },
  {
    "text": "that's not very interesting it's just we",
    "start": "426479",
    "end": "427919"
  },
  {
    "text": "killed our test suite and had to deploy",
    "start": "427919",
    "end": "430160"
  },
  {
    "text": "to our deploy system wasn't working",
    "start": "430160",
    "end": "431759"
  },
  {
    "text": "anymore because we had this crazy aws",
    "start": "431759",
    "end": "433759"
  },
  {
    "text": "and our own color",
    "start": "433759",
    "end": "435360"
  },
  {
    "text": "since all of that actually happened in",
    "start": "435360",
    "end": "437599"
  },
  {
    "text": "the first day",
    "start": "437599",
    "end": "439440"
  },
  {
    "text": "as a man said we pushed the stuff into",
    "start": "439440",
    "end": "441120"
  },
  {
    "text": "at 3 pm",
    "start": "441120",
    "end": "442319"
  },
  {
    "text": "88 everything was breaking we had to act",
    "start": "442319",
    "end": "444720"
  },
  {
    "text": "very quickly and react to that so",
    "start": "444720",
    "end": "449199"
  },
  {
    "text": "nine am in the morning we walked all",
    "start": "449199",
    "end": "450800"
  },
  {
    "text": "night pretty tired actually completely",
    "start": "450800",
    "end": "452960"
  },
  {
    "text": "exhausted",
    "start": "452960",
    "end": "454000"
  },
  {
    "text": "uh we decided to get back to",
    "start": "454000",
    "end": "456000"
  },
  {
    "text": "home have like two hours of sleep and",
    "start": "456000",
    "end": "458240"
  },
  {
    "text": "get back to work the day after the site",
    "start": "458240",
    "end": "460319"
  },
  {
    "text": "was up",
    "start": "460319",
    "end": "461759"
  },
  {
    "text": "but not extremely healthy with",
    "start": "461759",
    "end": "463840"
  },
  {
    "text": "features actually disabled",
    "start": "463840",
    "end": "465919"
  },
  {
    "text": "so we get back to work",
    "start": "465919",
    "end": "468319"
  },
  {
    "text": "and now that we have this new capacity",
    "start": "468319",
    "end": "470080"
  },
  {
    "text": "on aws we can take advantage of it",
    "start": "470080",
    "end": "473360"
  },
  {
    "text": "so",
    "start": "473360",
    "end": "474400"
  },
  {
    "text": "next solution is actually to create to",
    "start": "474400",
    "end": "476840"
  },
  {
    "text": "offload",
    "start": "476840",
    "end": "478560"
  },
  {
    "text": "some of the processing that we were",
    "start": "478560",
    "end": "480000"
  },
  {
    "text": "doing on the website or on the api",
    "start": "480000",
    "end": "481680"
  },
  {
    "text": "request",
    "start": "481680",
    "end": "482960"
  },
  {
    "text": "to move this to workers to be able to",
    "start": "482960",
    "end": "484879"
  },
  {
    "text": "get to increase the capacity of our",
    "start": "484879",
    "end": "487280"
  },
  {
    "text": "website and api",
    "start": "487280",
    "end": "489120"
  },
  {
    "text": "so we started to move a bunch of stuff",
    "start": "489120",
    "end": "491360"
  },
  {
    "text": "that was expensive expensive computation",
    "start": "491360",
    "end": "493440"
  },
  {
    "text": "to workers and we just like basically",
    "start": "493440",
    "end": "496080"
  },
  {
    "text": "created boxes that were just process",
    "start": "496080",
    "end": "499199"
  },
  {
    "text": "processing stuff in the background",
    "start": "499199",
    "end": "501199"
  },
  {
    "text": "and we had a pretty neat system that",
    "start": "501199",
    "end": "503360"
  },
  {
    "text": "basically we were able to",
    "start": "503360",
    "end": "505360"
  },
  {
    "text": "put a piece of code we were using the",
    "start": "505360",
    "end": "507039"
  },
  {
    "text": "same framework for everything so just to",
    "start": "507039",
    "end": "508639"
  },
  {
    "text": "put a piece of code that was running on",
    "start": "508639",
    "end": "511039"
  },
  {
    "text": "the website live just put it to this in",
    "start": "511039",
    "end": "513039"
  },
  {
    "text": "the worker and we were able to get a",
    "start": "513039",
    "end": "515440"
  },
  {
    "text": "synchronous",
    "start": "515440",
    "end": "516719"
  },
  {
    "text": "task running in the background pretty",
    "start": "516719",
    "end": "517919"
  },
  {
    "text": "fast and that was a huge help for us",
    "start": "517919",
    "end": "521120"
  },
  {
    "text": "and also very important actually we",
    "start": "521120",
    "end": "523839"
  },
  {
    "text": "added more monitoring to our stuff",
    "start": "523839",
    "end": "525920"
  },
  {
    "text": "because it was crucial for us to know",
    "start": "525920",
    "end": "528320"
  },
  {
    "text": "what was our current capacity and when",
    "start": "528320",
    "end": "530720"
  },
  {
    "text": "something was done we needed to do",
    "start": "530720",
    "end": "532839"
  },
  {
    "text": "immediately and",
    "start": "532839",
    "end": "535120"
  },
  {
    "text": "something you probably i mean you might",
    "start": "535120",
    "end": "536800"
  },
  {
    "text": "know but",
    "start": "536800",
    "end": "537920"
  },
  {
    "text": "aws actually has a bunch of limits that",
    "start": "537920",
    "end": "540720"
  },
  {
    "text": "you are going to hit if you have to",
    "start": "540720",
    "end": "542080"
  },
  {
    "text": "scale pretty quickly series limits on",
    "start": "542080",
    "end": "543920"
  },
  {
    "text": "the number of ec2 instances you can have",
    "start": "543920",
    "end": "545600"
  },
  {
    "text": "at the same time ebs volume ips",
    "start": "545600",
    "end": "548080"
  },
  {
    "text": "everything",
    "start": "548080",
    "end": "549200"
  },
  {
    "text": "so hopefully we got a great contact",
    "start": "549200",
    "end": "551360"
  },
  {
    "text": "idwas that was able to unlock",
    "start": "551360",
    "end": "554480"
  },
  {
    "text": "this limits pretty quickly",
    "start": "554480",
    "end": "556160"
  },
  {
    "text": "so we were able to scale",
    "start": "556160",
    "end": "558320"
  },
  {
    "text": "with that",
    "start": "558320",
    "end": "561560"
  },
  {
    "text": "great uh so the the second main problem",
    "start": "562640",
    "end": "565040"
  },
  {
    "text": "we encountered after uh",
    "start": "565040",
    "end": "567120"
  },
  {
    "text": "the you know not enough cpu was the",
    "start": "567120",
    "end": "568480"
  },
  {
    "text": "database uh so we had we had set up this",
    "start": "568480",
    "end": "571040"
  },
  {
    "text": "vpn that allowed us to in a in a",
    "start": "571040",
    "end": "574080"
  },
  {
    "text": "you know that we are taking our system",
    "start": "574080",
    "end": "575360"
  },
  {
    "text": "add boxes on aws and allow them to talk",
    "start": "575360",
    "end": "577200"
  },
  {
    "text": "to our existing databases and we could",
    "start": "577200",
    "end": "578480"
  },
  {
    "text": "you know scale out and get as much cpus",
    "start": "578480",
    "end": "579920"
  },
  {
    "text": "and needed that way but unfortunately",
    "start": "579920",
    "end": "582880"
  },
  {
    "text": "you know dbs don't work that way and so",
    "start": "582880",
    "end": "584560"
  },
  {
    "text": "we could not do the same thing with the",
    "start": "584560",
    "end": "587200"
  },
  {
    "text": "database",
    "start": "587200",
    "end": "588320"
  },
  {
    "text": "uh",
    "start": "588320",
    "end": "589600"
  },
  {
    "text": "so the",
    "start": "589600",
    "end": "592399"
  },
  {
    "text": "the first solution really",
    "start": "592399",
    "end": "594399"
  },
  {
    "text": "was an interesting side effect of how we",
    "start": "594399",
    "end": "596320"
  },
  {
    "text": "were running so we had moved most of our",
    "start": "596320",
    "end": "598800"
  },
  {
    "text": "app servers",
    "start": "598800",
    "end": "600160"
  },
  {
    "text": "onto the cloud onto amazon but just",
    "start": "600160",
    "end": "601600"
  },
  {
    "text": "because we didn't want to take the time",
    "start": "601600",
    "end": "602640"
  },
  {
    "text": "our database was still running on a box",
    "start": "602640",
    "end": "604240"
  },
  {
    "text": "like a physical server that we",
    "start": "604240",
    "end": "605120"
  },
  {
    "text": "controlled",
    "start": "605120",
    "end": "606399"
  },
  {
    "text": "and",
    "start": "606399",
    "end": "607600"
  },
  {
    "text": "this actually ended up being an",
    "start": "607600",
    "end": "608560"
  },
  {
    "text": "advantage because we were able to just",
    "start": "608560",
    "end": "610399"
  },
  {
    "text": "scale it up vertically you know far",
    "start": "610399",
    "end": "612399"
  },
  {
    "text": "beyond what's what's possible or easy on",
    "start": "612399",
    "end": "614320"
  },
  {
    "text": "a virtual server uh so",
    "start": "614320",
    "end": "616839"
  },
  {
    "text": "the first lesson was just to",
    "start": "616839",
    "end": "619920"
  },
  {
    "text": "you know buy",
    "start": "619920",
    "end": "621200"
  },
  {
    "text": "uh you know get get 96 gigs of memory",
    "start": "621200",
    "end": "623600"
  },
  {
    "text": "put it in the box and buy the",
    "start": "623600",
    "end": "626720"
  },
  {
    "text": "uh",
    "start": "626720",
    "end": "628079"
  },
  {
    "text": "biggest",
    "start": "628079",
    "end": "628959"
  },
  {
    "text": "fastest ssd drives that",
    "start": "628959",
    "end": "631920"
  },
  {
    "text": "money can buy",
    "start": "631920",
    "end": "634560"
  },
  {
    "text": "and a part of that of course was taking",
    "start": "634880",
    "end": "636720"
  },
  {
    "text": "the site down we did not have a good way",
    "start": "636720",
    "end": "638720"
  },
  {
    "text": "to",
    "start": "638720",
    "end": "639519"
  },
  {
    "text": "you know swap out drives and memory on",
    "start": "639519",
    "end": "641760"
  },
  {
    "text": "our main db without taking the site down",
    "start": "641760",
    "end": "644480"
  },
  {
    "text": "and i think it's good to note that",
    "start": "644480",
    "end": "646800"
  },
  {
    "text": "you know a startup",
    "start": "646800",
    "end": "648480"
  },
  {
    "text": "can afford to do that so when when when",
    "start": "648480",
    "end": "650560"
  },
  {
    "text": "you know ec2 goes down on the east coast",
    "start": "650560",
    "end": "652160"
  },
  {
    "text": "for a few hours it makes the front page",
    "start": "652160",
    "end": "653760"
  },
  {
    "text": "of the new york times and everyone",
    "start": "653760",
    "end": "655600"
  },
  {
    "text": "worries about the end of the cloud",
    "start": "655600",
    "end": "657040"
  },
  {
    "text": "computing if you're a startup",
    "start": "657040",
    "end": "659440"
  },
  {
    "text": "you know it's it's",
    "start": "659440",
    "end": "661920"
  },
  {
    "text": "being up on the terms of days that",
    "start": "661920",
    "end": "663279"
  },
  {
    "text": "matters you can in fact afford to take",
    "start": "663279",
    "end": "664800"
  },
  {
    "text": "your site down for three hours and you",
    "start": "664800",
    "end": "666800"
  },
  {
    "text": "know fix a problem and then break back a",
    "start": "666800",
    "end": "668480"
  },
  {
    "text": "line so",
    "start": "668480",
    "end": "669600"
  },
  {
    "text": "we",
    "start": "669600",
    "end": "670480"
  },
  {
    "text": "we did that",
    "start": "670480",
    "end": "673800"
  },
  {
    "text": "so the the second uh solution to the",
    "start": "674640",
    "end": "677839"
  },
  {
    "text": "database problem and you know the more",
    "start": "677839",
    "end": "679600"
  },
  {
    "text": "fundamental one was to build a caching",
    "start": "679600",
    "end": "682320"
  },
  {
    "text": "system",
    "start": "682320",
    "end": "684560"
  },
  {
    "text": "uh yes the purpose of caching is to",
    "start": "684560",
    "end": "687040"
  },
  {
    "text": "minimize the",
    "start": "687040",
    "end": "689040"
  },
  {
    "text": "number of requests that hit the back end",
    "start": "689040",
    "end": "690800"
  },
  {
    "text": "per user request to reduce load on app",
    "start": "690800",
    "end": "693120"
  },
  {
    "text": "servers",
    "start": "693120",
    "end": "695519"
  },
  {
    "text": "and there are some common techniques for",
    "start": "695680",
    "end": "697600"
  },
  {
    "text": "that static full page caching",
    "start": "697600",
    "end": "700880"
  },
  {
    "text": "server slide includes",
    "start": "700880",
    "end": "703040"
  },
  {
    "text": "ajax loading and fragment caching",
    "start": "703040",
    "end": "707279"
  },
  {
    "text": "so",
    "start": "707279",
    "end": "708079"
  },
  {
    "text": "socialcam is a very customized dynamic",
    "start": "708079",
    "end": "711120"
  },
  {
    "text": "site which means that every just about",
    "start": "711120",
    "end": "713360"
  },
  {
    "text": "every page on the site and every app",
    "start": "713360",
    "end": "714720"
  },
  {
    "text": "request is returning user specific",
    "start": "714720",
    "end": "717120"
  },
  {
    "text": "information",
    "start": "717120",
    "end": "718240"
  },
  {
    "text": "which means that sort of simple full",
    "start": "718240",
    "end": "719760"
  },
  {
    "text": "page static caching just taking the",
    "start": "719760",
    "end": "721760"
  },
  {
    "text": "result of your request and saving it",
    "start": "721760",
    "end": "723200"
  },
  {
    "text": "somewhere and serving out to multiple",
    "start": "723200",
    "end": "724320"
  },
  {
    "text": "users is impossible because we needed to",
    "start": "724320",
    "end": "728240"
  },
  {
    "text": "feed custom data to each request",
    "start": "728240",
    "end": "730399"
  },
  {
    "text": "and so",
    "start": "730399",
    "end": "731839"
  },
  {
    "text": "we had to use",
    "start": "731839",
    "end": "733279"
  },
  {
    "text": "the",
    "start": "733279",
    "end": "734079"
  },
  {
    "text": "uh some of these more advanced",
    "start": "734079",
    "end": "736000"
  },
  {
    "text": "techniques",
    "start": "736000",
    "end": "737519"
  },
  {
    "text": "and",
    "start": "737519",
    "end": "739760"
  },
  {
    "text": "we ended up",
    "start": "740000",
    "end": "741040"
  },
  {
    "text": "actually using all three of them and",
    "start": "741040",
    "end": "742639"
  },
  {
    "text": "it's",
    "start": "742639",
    "end": "743360"
  },
  {
    "text": "this wasn't we didn't really have a",
    "start": "743360",
    "end": "744720"
  },
  {
    "text": "meeting and you know design uh uh",
    "start": "744720",
    "end": "747519"
  },
  {
    "text": "overarching",
    "start": "747519",
    "end": "749120"
  },
  {
    "text": "excellent caching strategy all we did",
    "start": "749120",
    "end": "751200"
  },
  {
    "text": "was",
    "start": "751200",
    "end": "752720"
  },
  {
    "text": "wait until something was breaking you",
    "start": "752720",
    "end": "754399"
  },
  {
    "text": "know and then you know",
    "start": "754399",
    "end": "756000"
  },
  {
    "text": "the app server was breaking because",
    "start": "756000",
    "end": "757200"
  },
  {
    "text": "we're you know the the video requesting",
    "start": "757200",
    "end": "759360"
  },
  {
    "text": "too many video lists how can we",
    "start": "759360",
    "end": "761040"
  },
  {
    "text": "how can we add some caching to the video",
    "start": "761040",
    "end": "762399"
  },
  {
    "text": "list to you know lower the load and we",
    "start": "762399",
    "end": "764959"
  },
  {
    "text": "did that iteratively and we ended up",
    "start": "764959",
    "end": "766639"
  },
  {
    "text": "implementing",
    "start": "766639",
    "end": "767920"
  },
  {
    "text": "uh",
    "start": "767920",
    "end": "768959"
  },
  {
    "text": "a bunch of different systems",
    "start": "768959",
    "end": "771120"
  },
  {
    "text": "i think i think the most interesting and",
    "start": "771120",
    "end": "772320"
  },
  {
    "text": "one that was the biggest help uh was a",
    "start": "772320",
    "end": "776160"
  },
  {
    "text": "a templated caching system like server",
    "start": "776160",
    "end": "778320"
  },
  {
    "text": "side includes for our uh video list so",
    "start": "778320",
    "end": "780880"
  },
  {
    "text": "i'm going to go into that a little",
    "start": "780880",
    "end": "781839"
  },
  {
    "text": "detail here",
    "start": "781839",
    "end": "783360"
  },
  {
    "text": "so the way that worked",
    "start": "783360",
    "end": "784800"
  },
  {
    "text": "is",
    "start": "784800",
    "end": "787120"
  },
  {
    "text": "let's talk about the so the social cam",
    "start": "787120",
    "end": "788720"
  },
  {
    "text": "app contains a a popular video list it's",
    "start": "788720",
    "end": "791920"
  },
  {
    "text": "a list of just our you know the top",
    "start": "791920",
    "end": "793040"
  },
  {
    "text": "videos for the hour and that list is the",
    "start": "793040",
    "end": "795839"
  },
  {
    "text": "same for every user of the app and the",
    "start": "795839",
    "end": "797279"
  },
  {
    "text": "website",
    "start": "797279",
    "end": "798320"
  },
  {
    "text": "and so in principle it's an excellent",
    "start": "798320",
    "end": "800079"
  },
  {
    "text": "candidate for caching we could just",
    "start": "800079",
    "end": "801519"
  },
  {
    "text": "cache the result and serve it to",
    "start": "801519",
    "end": "802560"
  },
  {
    "text": "everybody",
    "start": "802560",
    "end": "803519"
  },
  {
    "text": "the problem is that there are a",
    "start": "803519",
    "end": "805600"
  },
  {
    "text": "few bits of custom information in that",
    "start": "805600",
    "end": "807680"
  },
  {
    "text": "request that are different for every",
    "start": "807680",
    "end": "809200"
  },
  {
    "text": "user and that and those are",
    "start": "809200",
    "end": "811440"
  },
  {
    "text": "we the app needs to know if the a user",
    "start": "811440",
    "end": "815120"
  },
  {
    "text": "has liked every single video so they can",
    "start": "815120",
    "end": "817360"
  },
  {
    "text": "decide it's going to display a like",
    "start": "817360",
    "end": "818560"
  },
  {
    "text": "button or an unlike button",
    "start": "818560",
    "end": "820399"
  },
  {
    "text": "next to the video in the app and it also",
    "start": "820399",
    "end": "822320"
  },
  {
    "text": "needs to know if the user is following",
    "start": "822320",
    "end": "825120"
  },
  {
    "text": "the creator of the video so the app can",
    "start": "825120",
    "end": "826639"
  },
  {
    "text": "decide if it's going to display a follow",
    "start": "826639",
    "end": "828079"
  },
  {
    "text": "button or an unfollow button next to",
    "start": "828079",
    "end": "829920"
  },
  {
    "text": "that next to the user uh in the app and",
    "start": "829920",
    "end": "832880"
  },
  {
    "text": "so that makes it hard to cache the",
    "start": "832880",
    "end": "834240"
  },
  {
    "text": "entire result so what we did was build a",
    "start": "834240",
    "end": "836959"
  },
  {
    "text": "system",
    "start": "836959",
    "end": "838320"
  },
  {
    "text": "where",
    "start": "838320",
    "end": "839279"
  },
  {
    "text": "we can basically insert little templates",
    "start": "839279",
    "end": "841920"
  },
  {
    "text": "the template with sort of flag values",
    "start": "841920",
    "end": "844240"
  },
  {
    "text": "into",
    "start": "844240",
    "end": "845760"
  },
  {
    "text": "the the the controller looks like the",
    "start": "845760",
    "end": "847440"
  },
  {
    "text": "controller generates where there should",
    "start": "847440",
    "end": "849760"
  },
  {
    "text": "be a boolean indicating you know if the",
    "start": "849760",
    "end": "851680"
  },
  {
    "text": "users like this value rather than",
    "start": "851680",
    "end": "853279"
  },
  {
    "text": "inserting a boolean true or false into",
    "start": "853279",
    "end": "854880"
  },
  {
    "text": "the result it inserts",
    "start": "854880",
    "end": "856959"
  },
  {
    "text": "a special flag that says something like",
    "start": "856959",
    "end": "859120"
  },
  {
    "text": "you know",
    "start": "859120",
    "end": "860000"
  },
  {
    "text": "follow status here let's say and you",
    "start": "860000",
    "end": "862079"
  },
  {
    "text": "know like stat is here then that result",
    "start": "862079",
    "end": "864079"
  },
  {
    "text": "is generated and that's cached heavily",
    "start": "864079",
    "end": "866000"
  },
  {
    "text": "you're cast for it can be cast for hours",
    "start": "866000",
    "end": "868079"
  },
  {
    "text": "and every time a user requests",
    "start": "868079",
    "end": "870880"
  },
  {
    "text": "that",
    "start": "870880",
    "end": "872160"
  },
  {
    "text": "video list there's just a simple regex",
    "start": "872160",
    "end": "874639"
  },
  {
    "text": "that",
    "start": "874639",
    "end": "875360"
  },
  {
    "text": "runs over the results and replaces each",
    "start": "875360",
    "end": "877519"
  },
  {
    "text": "of those you know",
    "start": "877519",
    "end": "879279"
  },
  {
    "text": "you know like value here you know follow",
    "start": "879279",
    "end": "881040"
  },
  {
    "text": "value here with the boolean that's",
    "start": "881040",
    "end": "883040"
  },
  {
    "text": "correct for that user so you take the",
    "start": "883040",
    "end": "885519"
  },
  {
    "text": "the complicated heavyweight process of",
    "start": "885519",
    "end": "887680"
  },
  {
    "text": "generating the feed and you cache all of",
    "start": "887680",
    "end": "889279"
  },
  {
    "text": "that and then you and then you do this",
    "start": "889279",
    "end": "890720"
  },
  {
    "text": "lightweight you know red deck search and",
    "start": "890720",
    "end": "892720"
  },
  {
    "text": "replace out of request",
    "start": "892720",
    "end": "896079"
  },
  {
    "text": "that was an extremely effective",
    "start": "896399",
    "end": "897519"
  },
  {
    "text": "technique for us",
    "start": "897519",
    "end": "900079"
  },
  {
    "text": "and we also make heavy use",
    "start": "901519",
    "end": "903519"
  },
  {
    "text": "of uh",
    "start": "903519",
    "end": "905120"
  },
  {
    "text": "fragment caching fragment caching you'd",
    "start": "905120",
    "end": "906720"
  },
  {
    "text": "be probably familiar with but it allows",
    "start": "906720",
    "end": "908399"
  },
  {
    "text": "you to break a web page into pieces and",
    "start": "908399",
    "end": "911600"
  },
  {
    "text": "set",
    "start": "911600",
    "end": "912480"
  },
  {
    "text": "different cache policies for each piece",
    "start": "912480",
    "end": "914160"
  },
  {
    "text": "so you can basically separate the",
    "start": "914160",
    "end": "917600"
  },
  {
    "text": "dynamic pieces with user data from the",
    "start": "917600",
    "end": "919120"
  },
  {
    "text": "rest of it it was very effective",
    "start": "919120",
    "end": "920959"
  },
  {
    "text": "definitely use it",
    "start": "920959",
    "end": "923600"
  },
  {
    "text": "and then the same same with ajax loading",
    "start": "923839",
    "end": "925120"
  },
  {
    "text": "so ajax loading uh all of the video",
    "start": "925120",
    "end": "927279"
  },
  {
    "text": "lists on social website are loaded uh in",
    "start": "927279",
    "end": "930000"
  },
  {
    "text": "ajax which basically just separates the",
    "start": "930000",
    "end": "932800"
  },
  {
    "text": "page request which can be cached from",
    "start": "932800",
    "end": "934720"
  },
  {
    "text": "the data custom data request which",
    "start": "934720",
    "end": "936959"
  },
  {
    "text": "cannot be cached and so you you get you",
    "start": "936959",
    "end": "939040"
  },
  {
    "text": "know",
    "start": "939040",
    "end": "940959"
  },
  {
    "text": "a big benefit there",
    "start": "940959",
    "end": "943759"
  },
  {
    "text": "uh cool so",
    "start": "944959",
    "end": "946560"
  },
  {
    "text": "uh those caching techniques were the",
    "start": "946560",
    "end": "948880"
  },
  {
    "text": "second solution to database problems but",
    "start": "948880",
    "end": "952480"
  },
  {
    "text": "that worked for a while but our load was",
    "start": "952480",
    "end": "953600"
  },
  {
    "text": "still going up and you know we were",
    "start": "953600",
    "end": "954959"
  },
  {
    "text": "still dying and so we had that we had to",
    "start": "954959",
    "end": "956399"
  },
  {
    "text": "dig a little bit deeper",
    "start": "956399",
    "end": "958000"
  },
  {
    "text": "and",
    "start": "958000",
    "end": "959040"
  },
  {
    "text": "we came up with a object caching",
    "start": "959040",
    "end": "961279"
  },
  {
    "text": "strategy so as the object caching is uh",
    "start": "961279",
    "end": "964399"
  },
  {
    "text": "attempt to reduce the number of database",
    "start": "964399",
    "end": "966160"
  },
  {
    "text": "hits per back back-end request and so",
    "start": "966160",
    "end": "968240"
  },
  {
    "text": "the idea is that you're going to",
    "start": "968240",
    "end": "970800"
  },
  {
    "text": "actually cache individual rows in the",
    "start": "970800",
    "end": "972320"
  },
  {
    "text": "database so if there's if there's a",
    "start": "972320",
    "end": "973839"
  },
  {
    "text": "popular video that's being requested",
    "start": "973839",
    "end": "975199"
  },
  {
    "text": "hundred times a second",
    "start": "975199",
    "end": "976639"
  },
  {
    "text": "you know it's not the video is not",
    "start": "976639",
    "end": "977759"
  },
  {
    "text": "changing it's all just reads and so only",
    "start": "977759",
    "end": "979920"
  },
  {
    "text": "one of those requests has to actually",
    "start": "979920",
    "end": "981279"
  },
  {
    "text": "hit the database",
    "start": "981279",
    "end": "982399"
  },
  {
    "text": "and the other 99 can hit some other much",
    "start": "982399",
    "end": "985920"
  },
  {
    "text": "faster system and system that can",
    "start": "985920",
    "end": "987839"
  },
  {
    "text": "probably scale horizontally more",
    "start": "987839",
    "end": "989279"
  },
  {
    "text": "effectively than database and so we",
    "start": "989279",
    "end": "990800"
  },
  {
    "text": "build a system where",
    "start": "990800",
    "end": "992560"
  },
  {
    "text": "all video end user objects",
    "start": "992560",
    "end": "995199"
  },
  {
    "text": "you know if you sort of built this we",
    "start": "995199",
    "end": "996959"
  },
  {
    "text": "insert this in between the application",
    "start": "996959",
    "end": "998320"
  },
  {
    "text": "and the database layer so that all video",
    "start": "998320",
    "end": "999759"
  },
  {
    "text": "and user objects can be copied from the",
    "start": "999759",
    "end": "1001600"
  },
  {
    "text": "database you know into a faster system",
    "start": "1001600",
    "end": "1003920"
  },
  {
    "text": "and we actually this we have this is",
    "start": "1003920",
    "end": "1005440"
  },
  {
    "text": "deployed extremely aggressively so video",
    "start": "1005440",
    "end": "1007519"
  },
  {
    "text": "and user objects until they're",
    "start": "1007519",
    "end": "1008959"
  },
  {
    "text": "invalidated it will be you know copied",
    "start": "1008959",
    "end": "1010880"
  },
  {
    "text": "out of database and served from a",
    "start": "1010880",
    "end": "1011920"
  },
  {
    "text": "different system for for you know for",
    "start": "1011920",
    "end": "1013680"
  },
  {
    "text": "hours it'll it'll it'll happily serve",
    "start": "1013680",
    "end": "1015519"
  },
  {
    "text": "the video from the you know from from",
    "start": "1015519",
    "end": "1017360"
  },
  {
    "text": "from the cache until",
    "start": "1017360",
    "end": "1019519"
  },
  {
    "text": "an action takes you know occurs which",
    "start": "1019519",
    "end": "1021040"
  },
  {
    "text": "has to invalidate that row uh",
    "start": "1021040",
    "end": "1024160"
  },
  {
    "text": "very effective",
    "start": "1024160",
    "end": "1026720"
  },
  {
    "text": "okay and i guess the uh the fourth",
    "start": "1027760",
    "end": "1030240"
  },
  {
    "text": "solution is memcache and game is going",
    "start": "1030240",
    "end": "1032000"
  },
  {
    "text": "to talk about that indeed so for all the",
    "start": "1032000",
    "end": "1034319"
  },
  {
    "text": "caching stuff that simon just talked",
    "start": "1034319",
    "end": "1035678"
  },
  {
    "text": "about we actually use memcache",
    "start": "1035679",
    "end": "1038480"
  },
  {
    "text": "to implement that so i bet all of you",
    "start": "1038480",
    "end": "1041280"
  },
  {
    "text": "already know memcache it's",
    "start": "1041280",
    "end": "1042959"
  },
  {
    "text": "just a huge caching caching solution",
    "start": "1042959",
    "end": "1045360"
  },
  {
    "text": "used by most of the big website in the",
    "start": "1045360",
    "end": "1047520"
  },
  {
    "text": "world",
    "start": "1047520",
    "end": "1048480"
  },
  {
    "text": "so",
    "start": "1048480",
    "end": "1049440"
  },
  {
    "text": "to be simple it's just a super fast",
    "start": "1049440",
    "end": "1051840"
  },
  {
    "text": "memory in key value store that basically",
    "start": "1051840",
    "end": "1054400"
  },
  {
    "text": "everything is stored in memory so it's",
    "start": "1054400",
    "end": "1056240"
  },
  {
    "text": "fast",
    "start": "1056240",
    "end": "1057760"
  },
  {
    "text": "and there is a few tricks we use to",
    "start": "1057760",
    "end": "1060000"
  },
  {
    "text": "actually optimize optimize or use the",
    "start": "1060000",
    "end": "1062400"
  },
  {
    "text": "usage of memcache",
    "start": "1062400",
    "end": "1065280"
  },
  {
    "text": "so the first thing is try to avoid",
    "start": "1065280",
    "end": "1067919"
  },
  {
    "text": "keys expiration because first of all",
    "start": "1067919",
    "end": "1070240"
  },
  {
    "text": "it's hard to know when we when you have",
    "start": "1070240",
    "end": "1071840"
  },
  {
    "text": "to expire your thing",
    "start": "1071840",
    "end": "1073440"
  },
  {
    "text": "and it's also slow to expire stuff so",
    "start": "1073440",
    "end": "1076400"
  },
  {
    "text": "try to just change the name of your keys",
    "start": "1076400",
    "end": "1078320"
  },
  {
    "text": "to get automatic expiration",
    "start": "1078320",
    "end": "1081760"
  },
  {
    "text": "then the thing is",
    "start": "1081760",
    "end": "1083440"
  },
  {
    "text": "as we are using object caching so we are",
    "start": "1083440",
    "end": "1085120"
  },
  {
    "text": "caching our user object video object",
    "start": "1085120",
    "end": "1086720"
  },
  {
    "text": "directly in memory",
    "start": "1086720",
    "end": "1088160"
  },
  {
    "text": "in memcache",
    "start": "1088160",
    "end": "1089840"
  },
  {
    "text": "we are able to efficiently retrieve",
    "start": "1089840",
    "end": "1092240"
  },
  {
    "text": "several users several video by just",
    "start": "1092240",
    "end": "1093919"
  },
  {
    "text": "using one request in memcache which is a",
    "start": "1093919",
    "end": "1096160"
  },
  {
    "text": "get multi",
    "start": "1096160",
    "end": "1097440"
  },
  {
    "text": "so just by giving a bunch of ids to",
    "start": "1097440",
    "end": "1099520"
  },
  {
    "text": "memcache we're able to retrieve a bunch",
    "start": "1099520",
    "end": "1102080"
  },
  {
    "text": "of video objects",
    "start": "1102080",
    "end": "1103440"
  },
  {
    "text": "and",
    "start": "1103440",
    "end": "1104160"
  },
  {
    "text": "if one is missing because it's not cache",
    "start": "1104160",
    "end": "1105919"
  },
  {
    "text": "we just do a request to the db and after",
    "start": "1105919",
    "end": "1108240"
  },
  {
    "text": "we store it to memcache this way this",
    "start": "1108240",
    "end": "1110400"
  },
  {
    "text": "was a huge help to load list of users",
    "start": "1110400",
    "end": "1113360"
  },
  {
    "text": "and videos",
    "start": "1113360",
    "end": "1115919"
  },
  {
    "text": "sorry for the slide power point",
    "start": "1116880",
    "end": "1120720"
  },
  {
    "text": "and the last thing actually we did to",
    "start": "1120720",
    "end": "1122880"
  },
  {
    "text": "optimize our memcache usage and that was",
    "start": "1122880",
    "end": "1125360"
  },
  {
    "text": "pretty huge for us",
    "start": "1125360",
    "end": "1126799"
  },
  {
    "text": "is to use compression and serialization",
    "start": "1126799",
    "end": "1129840"
  },
  {
    "text": "a different kind of sterilization of the",
    "start": "1129840",
    "end": "1131520"
  },
  {
    "text": "data we saw in memcache when it makes",
    "start": "1131520",
    "end": "1133039"
  },
  {
    "text": "sense",
    "start": "1133039",
    "end": "1134080"
  },
  {
    "text": "um",
    "start": "1134080",
    "end": "1135360"
  },
  {
    "text": "the big thing is compression",
    "start": "1135360",
    "end": "1137440"
  },
  {
    "text": "if you compress the data you store in",
    "start": "1137440",
    "end": "1138960"
  },
  {
    "text": "memcache first of all you save space in",
    "start": "1138960",
    "end": "1141200"
  },
  {
    "text": "your memcache because you can store more",
    "start": "1141200",
    "end": "1143039"
  },
  {
    "text": "stuff",
    "start": "1143039",
    "end": "1144000"
  },
  {
    "text": "and",
    "start": "1144000",
    "end": "1144960"
  },
  {
    "text": "when you look at what you can do in",
    "start": "1144960",
    "end": "1146480"
  },
  {
    "text": "compression today like by using snappy",
    "start": "1146480",
    "end": "1148480"
  },
  {
    "text": "which is made by google and it's a super",
    "start": "1148480",
    "end": "1150720"
  },
  {
    "text": "fast compression",
    "start": "1150720",
    "end": "1152400"
  },
  {
    "text": "algorithm",
    "start": "1152400",
    "end": "1154000"
  },
  {
    "text": "if there is a net twin if you compress",
    "start": "1154000",
    "end": "1155600"
  },
  {
    "text": "your data even if you lose some cpu time",
    "start": "1155600",
    "end": "1158640"
  },
  {
    "text": "here you're gonna you're gonna",
    "start": "1158640",
    "end": "1161520"
  },
  {
    "text": "win time on the network and it was huge",
    "start": "1161520",
    "end": "1164400"
  },
  {
    "text": "for us basically when you store a huge",
    "start": "1164400",
    "end": "1166160"
  },
  {
    "text": "piece of html instead of storing it like",
    "start": "1166160",
    "end": "1168080"
  },
  {
    "text": "this in memcache just compress it and",
    "start": "1168080",
    "end": "1169840"
  },
  {
    "text": "it's going to save a bunch of time",
    "start": "1169840",
    "end": "1172960"
  },
  {
    "text": "this was the cache and",
    "start": "1173120",
    "end": "1174960"
  },
  {
    "text": "so the third main problem we had at that",
    "start": "1174960",
    "end": "1177039"
  },
  {
    "text": "time",
    "start": "1177039",
    "end": "1179440"
  },
  {
    "text": "i think this was around where we our",
    "start": "1179440",
    "end": "1181200"
  },
  {
    "text": "rails back end was getting a billion",
    "start": "1181200",
    "end": "1183600"
  },
  {
    "text": "dynamic requests a week",
    "start": "1183600",
    "end": "1185360"
  },
  {
    "text": "it was so huge",
    "start": "1185360",
    "end": "1186799"
  },
  {
    "text": "and",
    "start": "1186799",
    "end": "1187600"
  },
  {
    "text": "all dbs started to break so we had",
    "start": "1187600",
    "end": "1190160"
  },
  {
    "text": "postgresql breaking and",
    "start": "1190160",
    "end": "1192480"
  },
  {
    "text": "also",
    "start": "1192480",
    "end": "1193919"
  },
  {
    "text": "work",
    "start": "1193919",
    "end": "1195760"
  },
  {
    "text": "at least for us wasn't killing",
    "start": "1195760",
    "end": "1198400"
  },
  {
    "text": "basically when you do a bunch of write",
    "start": "1198400",
    "end": "1200720"
  },
  {
    "text": "writes on dbr heavy on ios",
    "start": "1200720",
    "end": "1203200"
  },
  {
    "text": "and",
    "start": "1203200",
    "end": "1204159"
  },
  {
    "text": "ios is slow especially on a double us",
    "start": "1204159",
    "end": "1207440"
  },
  {
    "text": "even if it's getting better now with the",
    "start": "1207440",
    "end": "1208960"
  },
  {
    "text": "new ebs volume",
    "start": "1208960",
    "end": "1211919"
  },
  {
    "text": "so to replace to save us from this",
    "start": "1211919",
    "end": "1214880"
  },
  {
    "text": "terrible scaling issue we actually use",
    "start": "1214880",
    "end": "1217280"
  },
  {
    "text": "redis we replace most of our usage",
    "start": "1217280",
    "end": "1220080"
  },
  {
    "text": "by radius",
    "start": "1220080",
    "end": "1221919"
  },
  {
    "text": "release is pretty simple it's like",
    "start": "1221919",
    "end": "1223600"
  },
  {
    "text": "memcache",
    "start": "1223600",
    "end": "1224960"
  },
  {
    "text": "so everything is stored in memory but",
    "start": "1224960",
    "end": "1226799"
  },
  {
    "text": "it's actually add more data structures",
    "start": "1226799",
    "end": "1228960"
  },
  {
    "text": "than memcache can support like you can",
    "start": "1228960",
    "end": "1230880"
  },
  {
    "text": "store array dictionaries sets in radius",
    "start": "1230880",
    "end": "1234720"
  },
  {
    "text": "you can think about tradis as",
    "start": "1234720",
    "end": "1236960"
  },
  {
    "text": "a big shared memory that all your",
    "start": "1236960",
    "end": "1238559"
  },
  {
    "text": "process can interact with so you can do",
    "start": "1238559",
    "end": "1240880"
  },
  {
    "text": "fancy stuff with it",
    "start": "1240880",
    "end": "1243760"
  },
  {
    "text": "and a good a good example in how we use",
    "start": "1244000",
    "end": "1246080"
  },
  {
    "text": "radius",
    "start": "1246080",
    "end": "1247520"
  },
  {
    "text": "what's actually your video feed",
    "start": "1247520",
    "end": "1249520"
  },
  {
    "text": "the video feed is the",
    "start": "1249520",
    "end": "1251919"
  },
  {
    "text": "page when you open the app so you can",
    "start": "1251919",
    "end": "1253360"
  },
  {
    "text": "see the it's like twitter you see the",
    "start": "1253360",
    "end": "1254880"
  },
  {
    "text": "tweet of your people you follow with the",
    "start": "1254880",
    "end": "1257039"
  },
  {
    "text": "same thing you see the videos recently",
    "start": "1257039",
    "end": "1259520"
  },
  {
    "text": "created by the people you follow",
    "start": "1259520",
    "end": "1261520"
  },
  {
    "text": "so at the very beginning of social camp",
    "start": "1261520",
    "end": "1263520"
  },
  {
    "text": "it was simple we were generating this",
    "start": "1263520",
    "end": "1265600"
  },
  {
    "text": "list on the fly when you do a request",
    "start": "1265600",
    "end": "1268400"
  },
  {
    "text": "this works well when you follow 10",
    "start": "1268400",
    "end": "1269760"
  },
  {
    "text": "people 20 people but when you start",
    "start": "1269760",
    "end": "1271840"
  },
  {
    "text": "following 100 people a thousand people",
    "start": "1271840",
    "end": "1273919"
  },
  {
    "text": "this gets super slow especially because",
    "start": "1273919",
    "end": "1276400"
  },
  {
    "text": "the query is complex and there is a",
    "start": "1276400",
    "end": "1278720"
  },
  {
    "text": "bunch of joined in the query",
    "start": "1278720",
    "end": "1280559"
  },
  {
    "text": "this gets very slow so what we did at",
    "start": "1280559",
    "end": "1282240"
  },
  {
    "text": "that time is",
    "start": "1282240",
    "end": "1283440"
  },
  {
    "text": "we started to denormalize this query",
    "start": "1283440",
    "end": "1286240"
  },
  {
    "text": "using",
    "start": "1286240",
    "end": "1288000"
  },
  {
    "text": "so for each user we actually actually",
    "start": "1288000",
    "end": "1290799"
  },
  {
    "text": "build a feed for them in which",
    "start": "1290799",
    "end": "1293360"
  },
  {
    "text": "means",
    "start": "1293360",
    "end": "1294320"
  },
  {
    "text": "when someone they were following created",
    "start": "1294320",
    "end": "1296240"
  },
  {
    "text": "a video we were pushing this video",
    "start": "1296240",
    "end": "1298240"
  },
  {
    "text": "object in all of their feed",
    "start": "1298240",
    "end": "1300640"
  },
  {
    "text": "and it was extremely fast for read it",
    "start": "1300640",
    "end": "1302400"
  },
  {
    "text": "was more expensive on right when a video",
    "start": "1302400",
    "end": "1304799"
  },
  {
    "text": "create was created but after unload it",
    "start": "1304799",
    "end": "1306559"
  },
  {
    "text": "was super fast because you just have to",
    "start": "1306559",
    "end": "1308080"
  },
  {
    "text": "fetch",
    "start": "1308080",
    "end": "1309200"
  },
  {
    "text": "the feed of the user just by user id",
    "start": "1309200",
    "end": "1312400"
  },
  {
    "text": "this works well for our time and we",
    "start": "1312400",
    "end": "1314240"
  },
  {
    "text": "exploded it broke",
    "start": "1314240",
    "end": "1316159"
  },
  {
    "text": " broke um so the solution here was",
    "start": "1316159",
    "end": "1319919"
  },
  {
    "text": "actually to replace by radius",
    "start": "1319919",
    "end": "1323120"
  },
  {
    "text": "and",
    "start": "1323120",
    "end": "1324159"
  },
  {
    "text": "so we were still storing",
    "start": "1324159",
    "end": "1326159"
  },
  {
    "text": "sorry",
    "start": "1326159",
    "end": "1327120"
  },
  {
    "text": "the videos in in postgres",
    "start": "1327120",
    "end": "1329360"
  },
  {
    "text": "but we replaced these denormalization",
    "start": "1329360",
    "end": "1332240"
  },
  {
    "text": "that we were doing in with radius",
    "start": "1332240",
    "end": "1334880"
  },
  {
    "text": "so we are pushing all the feed in radius",
    "start": "1334880",
    "end": "1337280"
  },
  {
    "text": "and as it's in memory it's extremely",
    "start": "1337280",
    "end": "1339679"
  },
  {
    "text": "fast and to optimize that actually we",
    "start": "1339679",
    "end": "1341760"
  },
  {
    "text": "did we went further",
    "start": "1341760",
    "end": "1343600"
  },
  {
    "text": "and we instead of pushing the video to",
    "start": "1343600",
    "end": "1345440"
  },
  {
    "text": "everyone we actually started to push it",
    "start": "1345440",
    "end": "1347440"
  },
  {
    "text": "only to active users to reduce the load",
    "start": "1347440",
    "end": "1349600"
  },
  {
    "text": "at that time",
    "start": "1349600",
    "end": "1350720"
  },
  {
    "text": "and",
    "start": "1350720",
    "end": "1351679"
  },
  {
    "text": "as it's in radius and it's pretty fast",
    "start": "1351679",
    "end": "1353440"
  },
  {
    "text": "we can like to actually rebuild the feed",
    "start": "1353440",
    "end": "1356320"
  },
  {
    "text": "on the fly if you are not if you are not",
    "start": "1356320",
    "end": "1359120"
  },
  {
    "text": "an active user and you log in for after",
    "start": "1359120",
    "end": "1361200"
  },
  {
    "text": "a long time and your field is not built",
    "start": "1361200",
    "end": "1363200"
  },
  {
    "text": "we are actually going to take the last",
    "start": "1363200",
    "end": "1365360"
  },
  {
    "text": "video your follower or your people you",
    "start": "1365360",
    "end": "1367120"
  },
  {
    "text": "follow created push them into your feed",
    "start": "1367120",
    "end": "1369600"
  },
  {
    "text": "and after a trigger a background task",
    "start": "1369600",
    "end": "1371520"
  },
  {
    "text": "that's going to rebuild your feed",
    "start": "1371520",
    "end": "1373200"
  },
  {
    "text": "for all the videos which is a bigger",
    "start": "1373200",
    "end": "1376880"
  },
  {
    "text": "process so we can achieve fast feed by",
    "start": "1376880",
    "end": "1379360"
  },
  {
    "text": "using radius and",
    "start": "1379360",
    "end": "1381200"
  },
  {
    "text": "denomination",
    "start": "1381200",
    "end": "1383760"
  },
  {
    "text": "so",
    "start": "1383760",
    "end": "1384640"
  },
  {
    "text": " program was almost fixed by using",
    "start": "1384640",
    "end": "1386320"
  },
  {
    "text": "radius",
    "start": "1386320",
    "end": "1387440"
  },
  {
    "text": "but",
    "start": "1387440",
    "end": "1388480"
  },
  {
    "text": "still wasn't great",
    "start": "1388480",
    "end": "1390000"
  },
  {
    "text": "we were approaching a billion rows",
    "start": "1390000",
    "end": "1392080"
  },
  {
    "text": "stored in our progress",
    "start": "1392080",
    "end": "1394000"
  },
  {
    "text": "still on in our main data center in",
    "start": "1394000",
    "end": "1396240"
  },
  {
    "text": "alcohol and actually we're also running",
    "start": "1396240",
    "end": "1398320"
  },
  {
    "text": "out of space at that time you know db",
    "start": "1398320",
    "end": "1401360"
  },
  {
    "text": "it's like it's actually pretty bad to",
    "start": "1401360",
    "end": "1402880"
  },
  {
    "text": "run out of space in the db",
    "start": "1402880",
    "end": "1405200"
  },
  {
    "text": "so postgresql didn't take yet",
    "start": "1405200",
    "end": "1407200"
  },
  {
    "text": "obviously and what we did so the",
    "start": "1407200",
    "end": "1409360"
  },
  {
    "text": "solution to that was we started to kill",
    "start": "1409360",
    "end": "1412240"
  },
  {
    "text": "joints because joints are pretty heavy",
    "start": "1412240",
    "end": "1414159"
  },
  {
    "text": "queries",
    "start": "1414159",
    "end": "1415440"
  },
  {
    "text": "and when you get tables that are",
    "start": "1415440",
    "end": "1417440"
  },
  {
    "text": "containing 100 billions of millions of",
    "start": "1417440",
    "end": "1419440"
  },
  {
    "text": "words",
    "start": "1419440",
    "end": "1420400"
  },
  {
    "text": "it is extremely slow so we started to",
    "start": "1420400",
    "end": "1422000"
  },
  {
    "text": "kill this replacing them by small",
    "start": "1422000",
    "end": "1424080"
  },
  {
    "text": "queries we were doing in the application",
    "start": "1424080",
    "end": "1426240"
  },
  {
    "text": "small query were faster",
    "start": "1426240",
    "end": "1428480"
  },
  {
    "text": "and this actually",
    "start": "1428480",
    "end": "1430400"
  },
  {
    "text": "is leading us to the next solution which",
    "start": "1430400",
    "end": "1432559"
  },
  {
    "text": "was",
    "start": "1432559",
    "end": "1433760"
  },
  {
    "text": "moving",
    "start": "1433760",
    "end": "1434720"
  },
  {
    "text": "table from the main db to several other",
    "start": "1434720",
    "end": "1437760"
  },
  {
    "text": "dbs so we were able to just pin up dbs",
    "start": "1437760",
    "end": "1440559"
  },
  {
    "text": "on aws and move tables around we didn't",
    "start": "1440559",
    "end": "1443440"
  },
  {
    "text": "have any more dependencies with the join",
    "start": "1443440",
    "end": "1445120"
  },
  {
    "text": "so we are able to just move stuff around",
    "start": "1445120",
    "end": "1447279"
  },
  {
    "text": "and this helped us a term to reduce the",
    "start": "1447279",
    "end": "1448960"
  },
  {
    "text": "load on our main db",
    "start": "1448960",
    "end": "1451200"
  },
  {
    "text": "and",
    "start": "1451200",
    "end": "1452559"
  },
  {
    "text": "i know everything is saying it's bad to",
    "start": "1452559",
    "end": "1454240"
  },
  {
    "text": "like duplicate data in your db because",
    "start": "1454240",
    "end": "1456799"
  },
  {
    "text": "you don't do that but this is actually",
    "start": "1456799",
    "end": "1458640"
  },
  {
    "text": "we had to do it to kill the joints so",
    "start": "1458640",
    "end": "1461760"
  },
  {
    "text": "it helped a bunch",
    "start": "1461760",
    "end": "1463520"
  },
  {
    "text": "we had no choice we did it it was great",
    "start": "1463520",
    "end": "1466559"
  },
  {
    "text": "but still",
    "start": "1466559",
    "end": "1468480"
  },
  {
    "text": "we had like five six dbs running on",
    "start": "1468480",
    "end": "1470159"
  },
  {
    "text": "double us but still have a big issue",
    "start": "1470159",
    "end": "1472080"
  },
  {
    "text": "here we have users that start to have a",
    "start": "1472080",
    "end": "1475279"
  },
  {
    "text": "million followers",
    "start": "1475279",
    "end": "1476799"
  },
  {
    "text": "so our following table just",
    "start": "1476799",
    "end": "1479760"
  },
  {
    "text": "couldn't handle it",
    "start": "1479760",
    "end": "1481679"
  },
  {
    "text": "so",
    "start": "1481679",
    "end": "1483440"
  },
  {
    "text": "that time it was time to charge every",
    "start": "1483440",
    "end": "1485279"
  },
  {
    "text": "developer hate this time but",
    "start": "1485279",
    "end": "1487919"
  },
  {
    "text": "when the choice so sharling is actually",
    "start": "1487919",
    "end": "1490400"
  },
  {
    "text": "cutting the table into small pieces and",
    "start": "1490400",
    "end": "1492720"
  },
  {
    "text": "distribute the storage or the data",
    "start": "1492720",
    "end": "1495200"
  },
  {
    "text": "across several servers just to",
    "start": "1495200",
    "end": "1498799"
  },
  {
    "text": "move the load on different servers",
    "start": "1498960",
    "end": "1501360"
  },
  {
    "text": "and",
    "start": "1501360",
    "end": "1502799"
  },
  {
    "text": "you have an application logic in your",
    "start": "1502799",
    "end": "1505919"
  },
  {
    "text": "application to route the queries to the",
    "start": "1505919",
    "end": "1508240"
  },
  {
    "text": "right",
    "start": "1508240",
    "end": "1509200"
  },
  {
    "text": "database where the data is actually",
    "start": "1509200",
    "end": "1511360"
  },
  {
    "text": "stored",
    "start": "1511360",
    "end": "1512320"
  },
  {
    "text": "you can make this simple or pretty",
    "start": "1512320",
    "end": "1514159"
  },
  {
    "text": "complex like",
    "start": "1514159",
    "end": "1515360"
  },
  {
    "text": "you can do the charting by geo or",
    "start": "1515360",
    "end": "1517120"
  },
  {
    "text": "countries and we just decided to be",
    "start": "1517120",
    "end": "1519679"
  },
  {
    "text": "pretty simple we use the user id we",
    "start": "1519679",
    "end": "1522000"
  },
  {
    "text": "modulo it with the number of logical",
    "start": "1522000",
    "end": "1524000"
  },
  {
    "text": "chart we have",
    "start": "1524000",
    "end": "1525200"
  },
  {
    "text": "that's all and in the code it looks like",
    "start": "1525200",
    "end": "1527120"
  },
  {
    "text": "that we get the relation object we just",
    "start": "1527120",
    "end": "1529360"
  },
  {
    "text": "give the user id and this returns the",
    "start": "1529360",
    "end": "1531360"
  },
  {
    "text": "correct",
    "start": "1531360",
    "end": "1532559"
  },
  {
    "text": "database object to it and to get the",
    "start": "1532559",
    "end": "1534880"
  },
  {
    "text": "information of that relationship",
    "start": "1534880",
    "end": "1537200"
  },
  {
    "text": "and actually by doing this that way",
    "start": "1537200",
    "end": "1540799"
  },
  {
    "text": "damn",
    "start": "1541200",
    "end": "1543520"
  },
  {
    "text": "we we use the trick here",
    "start": "1543520",
    "end": "1545919"
  },
  {
    "text": "you know for our table we had like 100",
    "start": "1545919",
    "end": "1548080"
  },
  {
    "text": "millions were uh set so to move this to",
    "start": "1548080",
    "end": "1551360"
  },
  {
    "text": "our new shelling system",
    "start": "1551360",
    "end": "1553679"
  },
  {
    "text": "it will have take like hours so we",
    "start": "1553679",
    "end": "1556400"
  },
  {
    "text": "couldn't do that we couldn't afford to",
    "start": "1556400",
    "end": "1558320"
  },
  {
    "text": "take the site done at that time so what",
    "start": "1558320",
    "end": "1560320"
  },
  {
    "text": "we did is actually dynamically do a",
    "start": "1560320",
    "end": "1562880"
  },
  {
    "text": "migration over a week or two and just by",
    "start": "1562880",
    "end": "1565360"
  },
  {
    "text": "sitting a flag in radius radius again",
    "start": "1565360",
    "end": "1567200"
  },
  {
    "text": "we'll elaborate us",
    "start": "1567200",
    "end": "1569200"
  },
  {
    "text": "for each user we were selling a flag if",
    "start": "1569200",
    "end": "1570960"
  },
  {
    "text": "the user was integrated or not and if it",
    "start": "1570960",
    "end": "1572640"
  },
  {
    "text": "was migrated we were returning the new",
    "start": "1572640",
    "end": "1574080"
  },
  {
    "text": "sharing system and if it was not we are",
    "start": "1574080",
    "end": "1576000"
  },
  {
    "text": "using the old system",
    "start": "1576000",
    "end": "1577679"
  },
  {
    "text": "it helped us a bunch and we did it it",
    "start": "1577679",
    "end": "1580000"
  },
  {
    "text": "took two weeks but",
    "start": "1580000",
    "end": "1581440"
  },
  {
    "text": "we didn't have done time on that",
    "start": "1581440",
    "end": "1584720"
  },
  {
    "text": "that's it",
    "start": "1585039",
    "end": "1587519"
  },
  {
    "text": "cool so those are the main the three the",
    "start": "1588080",
    "end": "1590559"
  },
  {
    "text": "three problems we encountered how we",
    "start": "1590559",
    "end": "1591600"
  },
  {
    "text": "solve them and you know in the end",
    "start": "1591600",
    "end": "1594720"
  },
  {
    "text": "we survived",
    "start": "1594720",
    "end": "1596320"
  },
  {
    "text": "we managed to with only two engineers uh",
    "start": "1596320",
    "end": "1598559"
  },
  {
    "text": "you know go from",
    "start": "1598559",
    "end": "1600240"
  },
  {
    "text": "a system that was entirely not designed",
    "start": "1600240",
    "end": "1602559"
  },
  {
    "text": "to scale running on 15 servers to",
    "start": "1602559",
    "end": "1605600"
  },
  {
    "text": "a system i think we're pretty proud of",
    "start": "1605600",
    "end": "1606960"
  },
  {
    "text": "on on aws it's flexible it's it's",
    "start": "1606960",
    "end": "1608960"
  },
  {
    "text": "scalable we haven't had any major",
    "start": "1608960",
    "end": "1610840"
  },
  {
    "text": "downtime uh",
    "start": "1610840",
    "end": "1612000"
  },
  {
    "text": "in a few weeks",
    "start": "1612000",
    "end": "1614640"
  },
  {
    "text": "sorry and we did this uh",
    "start": "1615279",
    "end": "1618000"
  },
  {
    "text": "i think by by you know",
    "start": "1618000",
    "end": "1620640"
  },
  {
    "text": "by doing doing a few simple things um",
    "start": "1620640",
    "end": "1623039"
  },
  {
    "text": "first of course but making heavy use of",
    "start": "1623039",
    "end": "1626000"
  },
  {
    "text": "aws and open source",
    "start": "1626000",
    "end": "1628720"
  },
  {
    "text": "uh those open source products are",
    "start": "1628720",
    "end": "1630480"
  },
  {
    "text": "awesome it would have been completely",
    "start": "1630480",
    "end": "1632080"
  },
  {
    "text": "impossible to do this with only two",
    "start": "1632080",
    "end": "1633360"
  },
  {
    "text": "people if we had to",
    "start": "1633360",
    "end": "1635120"
  },
  {
    "text": "keep purchasing and racking servers",
    "start": "1635120",
    "end": "1638320"
  },
  {
    "text": "we did it by not fearing hacks and",
    "start": "1638320",
    "end": "1642320"
  },
  {
    "text": "not being afraid of",
    "start": "1642320",
    "end": "1644559"
  },
  {
    "text": "breaking things we",
    "start": "1644559",
    "end": "1646559"
  },
  {
    "text": "we pushed them pretty terrible we didn't",
    "start": "1646559",
    "end": "1648240"
  },
  {
    "text": "tell you about them but we pushed them",
    "start": "1648240",
    "end": "1649279"
  },
  {
    "text": "there were some pretty terrible bugs",
    "start": "1649279",
    "end": "1651440"
  },
  {
    "text": "because we were you know just writing",
    "start": "1651440",
    "end": "1652720"
  },
  {
    "text": "code live and pushing it to the servers",
    "start": "1652720",
    "end": "1654480"
  },
  {
    "text": "there was",
    "start": "1654480",
    "end": "1655440"
  },
  {
    "text": "a period of a couple hours doing this if",
    "start": "1655440",
    "end": "1656720"
  },
  {
    "text": "you try to log into social cam you would",
    "start": "1656720",
    "end": "1657919"
  },
  {
    "text": "log in successfully but you would be a",
    "start": "1657919",
    "end": "1660159"
  },
  {
    "text": "random user not not",
    "start": "1660159",
    "end": "1663039"
  },
  {
    "text": "about as bad a bug as you can you can",
    "start": "1663039",
    "end": "1664640"
  },
  {
    "text": "have but",
    "start": "1664640",
    "end": "1666159"
  },
  {
    "text": "you know it was live for two hours we",
    "start": "1666159",
    "end": "1667600"
  },
  {
    "text": "found it we fixed it and",
    "start": "1667600",
    "end": "1669600"
  },
  {
    "text": "the world in fact did not end no one",
    "start": "1669600",
    "end": "1670799"
  },
  {
    "text": "sued us so",
    "start": "1670799",
    "end": "1673200"
  },
  {
    "text": "yes",
    "start": "1673200",
    "end": "1674720"
  },
  {
    "text": "i think i think legal might not like",
    "start": "1674720",
    "end": "1676480"
  },
  {
    "text": "that statement um",
    "start": "1676480",
    "end": "1679120"
  },
  {
    "text": "we survived by turning off expensive",
    "start": "1679120",
    "end": "1681200"
  },
  {
    "text": "non-vital features uh",
    "start": "1681200",
    "end": "1683200"
  },
  {
    "text": "and you know turning off the rest of the",
    "start": "1683200",
    "end": "1684320"
  },
  {
    "text": "world that's there was",
    "start": "1684320",
    "end": "1686480"
  },
  {
    "text": "about a month when one of the five basic",
    "start": "1686480",
    "end": "1688720"
  },
  {
    "text": "tabs in social cam in the social map was",
    "start": "1688720",
    "end": "1690640"
  },
  {
    "text": "blank because we",
    "start": "1690640",
    "end": "1692080"
  },
  {
    "text": "it wasn't driving growth and we couldn't",
    "start": "1692080",
    "end": "1694320"
  },
  {
    "text": "afford to",
    "start": "1694320",
    "end": "1695440"
  },
  {
    "text": "run the server to compute it",
    "start": "1695440",
    "end": "1698320"
  },
  {
    "text": "um",
    "start": "1698320",
    "end": "1700559"
  },
  {
    "text": "uh we survived by uh calling help from",
    "start": "1702240",
    "end": "1704320"
  },
  {
    "text": "friends",
    "start": "1704320",
    "end": "1705360"
  },
  {
    "text": "most of the architecture ideas",
    "start": "1705360",
    "end": "1707279"
  },
  {
    "text": "you know we came from talking to people",
    "start": "1707279",
    "end": "1709520"
  },
  {
    "text": "smarter than us",
    "start": "1709520",
    "end": "1710880"
  },
  {
    "text": "definitely definitely do that",
    "start": "1710880",
    "end": "1714080"
  },
  {
    "text": "and i think most importantly we survived",
    "start": "1714960",
    "end": "1717520"
  },
  {
    "text": "by",
    "start": "1717520",
    "end": "1718640"
  },
  {
    "text": "uh by only fixing things that were",
    "start": "1718640",
    "end": "1720720"
  },
  {
    "text": "broken",
    "start": "1720720",
    "end": "1722960"
  },
  {
    "text": "game and i are not",
    "start": "1722960",
    "end": "1724559"
  },
  {
    "text": "super human engineers um",
    "start": "1724559",
    "end": "1726720"
  },
  {
    "text": "we",
    "start": "1726720",
    "end": "1727679"
  },
  {
    "text": "had no idea how to you know that first",
    "start": "1727679",
    "end": "1729440"
  },
  {
    "text": "night when everything was coming",
    "start": "1729440",
    "end": "1730640"
  },
  {
    "text": "crashing down we had no idea how to fix",
    "start": "1730640",
    "end": "1733039"
  },
  {
    "text": "anything and have you asked me the time",
    "start": "1733039",
    "end": "1734399"
  },
  {
    "text": "i would have predicted you know a week",
    "start": "1734399",
    "end": "1736960"
  },
  {
    "text": "of downtime before we could get",
    "start": "1736960",
    "end": "1737840"
  },
  {
    "text": "everything back back online but you know",
    "start": "1737840",
    "end": "1739679"
  },
  {
    "text": "we just",
    "start": "1739679",
    "end": "1740799"
  },
  {
    "text": "looked at what was broken and took the",
    "start": "1740799",
    "end": "1743360"
  },
  {
    "text": "the the shortest path to fixing that",
    "start": "1743360",
    "end": "1745760"
  },
  {
    "text": "component and then you know we",
    "start": "1745760",
    "end": "1748240"
  },
  {
    "text": "slept for two hours and did the same",
    "start": "1748240",
    "end": "1749279"
  },
  {
    "text": "thing again the next day",
    "start": "1749279",
    "end": "1750840"
  },
  {
    "text": "and you know",
    "start": "1750840",
    "end": "1752799"
  },
  {
    "text": "just following that that pattern of just",
    "start": "1752799",
    "end": "1755360"
  },
  {
    "text": "waiting for something to break fixing it",
    "start": "1755360",
    "end": "1757039"
  },
  {
    "text": "with the break fixing it ended up taking",
    "start": "1757039",
    "end": "1758799"
  },
  {
    "text": "us",
    "start": "1758799",
    "end": "1759440"
  },
  {
    "text": "from",
    "start": "1759440",
    "end": "1760720"
  },
  {
    "text": "our original system you know over the",
    "start": "1760720",
    "end": "1762000"
  },
  {
    "text": "course of a couple months to",
    "start": "1762000",
    "end": "1764000"
  },
  {
    "text": "you know the system we had today which",
    "start": "1764000",
    "end": "1766240"
  },
  {
    "text": "we're pretty proud of",
    "start": "1766240",
    "end": "1768960"
  },
  {
    "text": "any questions we appear to have been",
    "start": "1771440",
    "end": "1773520"
  },
  {
    "text": "killed by a robot in that slide",
    "start": "1773520",
    "end": "1777360"
  }
]