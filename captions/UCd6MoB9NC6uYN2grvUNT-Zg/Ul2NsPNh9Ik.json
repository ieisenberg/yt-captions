[
  {
    "text": "hey everybody Welcome day three of reinvent how's everybody doing good hey so my name is",
    "start": "1360",
    "end": "9800"
  },
  {
    "text": "Becky Weiss I am an AWS engineer back home in Virginia I work on Virtual",
    "start": "9800",
    "end": "15759"
  },
  {
    "text": "private Cloud VPC your virtual data center in the cloud so we're going to",
    "start": "15759",
    "end": "21640"
  },
  {
    "text": "talk about in this hour how to do networking in",
    "start": "21640",
    "end": "26720"
  },
  {
    "text": "AWS now as with everything in AWS you are here at reinvent representing a",
    "start": "26720",
    "end": "35680"
  },
  {
    "text": "very wide spectrum of background when it comes to networking on one end of the spectrum",
    "start": "35680",
    "end": "42800"
  },
  {
    "text": "are those of you who have deep experience in the realm of networking how many of you consider yourselves to",
    "start": "42800",
    "end": "48680"
  },
  {
    "text": "be networking people yeah a lot of you and those of you who have been deep in",
    "start": "48680",
    "end": "53800"
  },
  {
    "text": "this field you know that it's a lot of work this is a hard job right you need to be an expert in all the things that",
    "start": "53800",
    "end": "60600"
  },
  {
    "text": "make a network work routing firewalling basic Network Services like DNS you need",
    "start": "60600",
    "end": "66360"
  },
  {
    "text": "to be able to configure them so that they do what you intend and then there is the ongoing",
    "start": "66360",
    "end": "72080"
  },
  {
    "text": "forever tax of maintaining it right people love to blame the network right so you need to keep this thing working",
    "start": "72080",
    "end": "78640"
  },
  {
    "text": "all the time and they expect it to be working all the time so it is constant high maintenance High touch work to keep",
    "start": "78640",
    "end": "84720"
  },
  {
    "text": "it running and then at the end of the day after you have done all of that you",
    "start": "84720",
    "end": "90240"
  },
  {
    "text": "don't always have the visibility that you want is this network actually doing doing for you what you want it to do and",
    "start": "90240",
    "end": "98200"
  },
  {
    "text": "if you make a change what's going to happen so for those of you from this deep deep technical background in",
    "start": "98200",
    "end": "104520"
  },
  {
    "text": "networking you're going to find that VPC your network in AWS gives you a lot of these controls in",
    "start": "104520",
    "end": "112840"
  },
  {
    "text": "some cases more control but with a lot more flexibility a lot more visibility",
    "start": "112840",
    "end": "118560"
  },
  {
    "text": "and pretty close to zero maintenance so you get to have the control without the",
    "start": "118560",
    "end": "124719"
  },
  {
    "text": "drudgery now on the other end of the spectrum are those of you who the whole",
    "start": "124719",
    "end": "129920"
  },
  {
    "text": "reason you are in the cloud the whole reason you are in AWS that you're here at reinvent is networking is you need it",
    "start": "129920",
    "end": "137480"
  },
  {
    "text": "but it's not exactly the kind of thing you want to get too involved with right the way you provide value your business",
    "start": "137480",
    "end": "144360"
  },
  {
    "text": "provides value to your customers is not by networking it's by whatever you provide to them so yes yes you need",
    "start": "144360",
    "end": "150800"
  },
  {
    "text": "connectivity you need security but you don't want to spend a lot of time on that and VPC does this",
    "start": "150800",
    "end": "157519"
  },
  {
    "text": "heavy lifting for you and for those of you approaching networking in AWS from",
    "start": "157519",
    "end": "162800"
  },
  {
    "text": "this angle my goal here is in the first half of this talk in the first 25 minutes to",
    "start": "162800",
    "end": "169519"
  },
  {
    "text": "give you really everything you need to know to be productive with your network in AWS it really is that simple even if",
    "start": "169519",
    "end": "177319"
  },
  {
    "text": "you don't come from a networking background to get your basic connectivity and security now those of you who are here",
    "start": "177319",
    "end": "183840"
  },
  {
    "text": "who are experts in VPC you've been using it a long time you know all its features you know all it's ins and outs you've",
    "start": "183840",
    "end": "189519"
  },
  {
    "text": "come to the wrong place this is an introduction uh we're going to do kind of a grand tour of everything that VPC",
    "start": "189519",
    "end": "195799"
  },
  {
    "text": "has to offer you and I'm going to show you different places you can look for um",
    "start": "195799",
    "end": "201000"
  },
  {
    "text": "for places to kind of extend that knowledge after you go home so let's start at the",
    "start": "201000",
    "end": "206360"
  },
  {
    "text": "beginning ec2 elastic compute Cloud this is aw is virtual machines in the cloud",
    "start": "206360",
    "end": "212200"
  },
  {
    "text": "if you're an AWS it's very likely you're deploying applications on ec2 now of",
    "start": "212200",
    "end": "218120"
  },
  {
    "text": "course the ec2 is for elastic which means you're probably going to have multiple of these and elastic means",
    "start": "218120",
    "end": "224519"
  },
  {
    "text": "you're going to scale up as you need more you're going to scale down as you need less you know that's the whole promise of the of AWS here now of course",
    "start": "224519",
    "end": "232959"
  },
  {
    "text": "these are virtual machines they're not sitting under your desk so they're in our Network they're in our data centers",
    "start": "232959",
    "end": "238120"
  },
  {
    "text": "around the world they're in our network but the thing is in AWS they are in your",
    "start": "238120",
    "end": "243879"
  },
  {
    "text": "network they are in a VPC this is your network you own this network and you",
    "start": "243879",
    "end": "249120"
  },
  {
    "text": "control it so what are the kinds of things that a network does for you well IP addresses that's that's an important",
    "start": "249120",
    "end": "256840"
  },
  {
    "text": "part of a network so your VPC does that for you and gives you some control over that um you can divide up your networks",
    "start": "256840",
    "end": "263240"
  },
  {
    "text": "into different subn networks we'll talk later about what this means for building High availability applications because",
    "start": "263240",
    "end": "269840"
  },
  {
    "text": "that high availability is actually a very important feature of your VPC routing right your packets need to",
    "start": "269840",
    "end": "276560"
  },
  {
    "text": "go somewhere so your VPC does routing for you but in a way that's pretty easy to understand and know what's going",
    "start": "276560",
    "end": "283280"
  },
  {
    "text": "on all right so what are we going to do here what's our agenda here in the first half of this talk we're going to get",
    "start": "283280",
    "end": "290840"
  },
  {
    "text": "familiar with the basic anatomy of a VPC and the easiest way to learn about",
    "start": "290840",
    "end": "296199"
  },
  {
    "text": "this is with an example so we're going to walk through step by step we're going to set up kind of the most basic VPC",
    "start": "296199",
    "end": "302320"
  },
  {
    "text": "actually a VPC that will probably suit many of your needs just fine so we'll walk through a basic VPC setup step by",
    "start": "302320",
    "end": "309360"
  },
  {
    "text": "step that'll take us about 25 minutes and then you'll know everything you need to know and the second half of this is",
    "start": "309360",
    "end": "316400"
  },
  {
    "text": "the and Beyond part I'm going to show you all the other kind lots of other kinds of connectivity with VPC how your",
    "start": "316400",
    "end": "322600"
  },
  {
    "text": "VPC interplays with the rest of the AWS services so let's get started on this basic VPC and when I say basic the most",
    "start": "322600",
    "end": "330639"
  },
  {
    "text": "basic VPC out there is a VPC that has connectivity to the internet this is often what you want um and as a matter",
    "start": "330639",
    "end": "338160"
  },
  {
    "text": "of fact those of you who have accounts that you've created since 2013 you already have a VPC in your",
    "start": "338160",
    "end": "344360"
  },
  {
    "text": "account you may have seen it it's called a default VPC and it's set up pretty much exactly like we're about to do here",
    "start": "344360",
    "end": "350840"
  },
  {
    "text": "if it suits your needs you should use it but it still behooves you to understand its Anatomy so that you can make full",
    "start": "350840",
    "end": "357600"
  },
  {
    "text": "use of it to get all the connectivity and security features out of it that you need four easy steps here going to talk",
    "start": "357600",
    "end": "365000"
  },
  {
    "text": "about IP addresses we're going to talk about high availability and what your network in",
    "start": "365000",
    "end": "370599"
  },
  {
    "text": "AWS has to do with that we'll talk about routing because of course it's a network and then we'll talk about",
    "start": "370599",
    "end": "377479"
  },
  {
    "text": "security all right first a network needs IP addresses and in VPC you get to",
    "start": "377479",
    "end": "383039"
  },
  {
    "text": "choose it now a little refresher those of you from a networking background this notation is going to be old hat we use",
    "start": "383039",
    "end": "389639"
  },
  {
    "text": "this notation throughout the VPC product I'm going to use it throughout this talk if it's unfamiliar for if it's",
    "start": "389639",
    "end": "395680"
  },
  {
    "text": "unfamiliar to you this is cider notation CER stands for classless interdomain routing and it is a notation for ranges",
    "start": "395680",
    "end": "403720"
  },
  {
    "text": "of IP addresses so what you see here looks like an ipv4 address followed by a slash followed by a number and the way",
    "start": "403720",
    "end": "410479"
  },
  {
    "text": "to read that is you write out that IP address is a 32-bit number which it is",
    "start": "410479",
    "end": "416560"
  },
  {
    "text": "the slash6 means fix the high 16 bits and the low 16 bits can vary so in",
    "start": "416560",
    "end": "422759"
  },
  {
    "text": "English what you're looking at over here is 17231 something. something it's all of",
    "start": "422759",
    "end": "428479"
  },
  {
    "text": "the IP addresses in that range and you know what that's a good choice of",
    "start": "428479",
    "end": "433599"
  },
  {
    "text": "address for our VPC so let's choose that now how did I get there why did I you",
    "start": "433599",
    "end": "438680"
  },
  {
    "text": "have your choice of IP IP address range for your network so why did I choose this one well first of all those of you",
    "start": "438680",
    "end": "445800"
  },
  {
    "text": "familiar with this will notice that I chose an rfc1 1918 r range here RFC 1918",
    "start": "445800",
    "end": "452639"
  },
  {
    "text": "is an RFC that uh that reserves certain IP address ranges for use by private",
    "start": "452639",
    "end": "458720"
  },
  {
    "text": "networks and the p and VPC is a private Network I have a I have a private",
    "start": "458720",
    "end": "464039"
  },
  {
    "text": "Network here let me use privatel looking IP address ranges now you don't have to use an rfc1",
    "start": "464039",
    "end": "470360"
  },
  {
    "text": "1918 range but unless you have a really good reason not to I strongly recommend",
    "start": "470360",
    "end": "475639"
  },
  {
    "text": "that you do and the reason why is you'll just be following convention anybody who look who knows something about",
    "start": "475639",
    "end": "481639"
  },
  {
    "text": "networking looking at your IP addresses they'll see the I IP addresses they'll know these are addresses in a private",
    "start": "481639",
    "end": "488720"
  },
  {
    "text": "Network which is correct so follow convention if you can your life will probably be a lot",
    "start": "488720",
    "end": "494479"
  },
  {
    "text": "easier sl16 you get your choice of size for your VPC I chose sl16 which gives me",
    "start": "494479",
    "end": "501919"
  },
  {
    "text": "65,000 IP addresses to play with in my VPC now that might sound like a really",
    "start": "501919",
    "end": "507680"
  },
  {
    "text": "big number to you doesn't C anything to make it that big it might sound like a really big number you're might probably",
    "start": "507680",
    "end": "514039"
  },
  {
    "text": "not going to be using all those addresses though on behalf of AWS I sure hope you do um but the reason to make",
    "start": "514039",
    "end": "522200"
  },
  {
    "text": "your VPC nice and big from the get-go is it gives you plenty of space and",
    "start": "522200",
    "end": "527399"
  },
  {
    "text": "flexibility to grow in the future so you might be only running a couple resources a couple hosts in there to get started",
    "start": "527399",
    "end": "534720"
  },
  {
    "text": "that's fine this gives you the flexibility to grow and the only other thing to think about in the second half",
    "start": "534720",
    "end": "541600"
  },
  {
    "text": "of this talk we're going to be we're going to be looking at all of the other networks VPC gives you some good",
    "start": "541600",
    "end": "546920"
  },
  {
    "text": "connectivity features to connect to other networks you probably want to",
    "start": "546920",
    "end": "552519"
  },
  {
    "text": "avoid overlapping with those ranges if you can anticipate other networks that you might connect to so we've chosen an",
    "start": "552519",
    "end": "559720"
  },
  {
    "text": "IP address range we're going to have IP addresses next let's talk about subnets",
    "start": "559720",
    "end": "564920"
  },
  {
    "text": "or subnetworks now the reason why I bring this up is that this is very closely",
    "start": "564920",
    "end": "571200"
  },
  {
    "text": "related in AWS to high availability specifically giving you the tools to be",
    "start": "571200",
    "end": "577480"
  },
  {
    "text": "able to deploy High availability applications in AWS who here cares about high",
    "start": "577480",
    "end": "582760"
  },
  {
    "text": "availability yeah I sure do all right so your VPC lives in one of our 14 Global",
    "start": "582760",
    "end": "591880"
  },
  {
    "text": "regions your VPC is a regional Network for your resources in that region for",
    "start": "591880",
    "end": "597920"
  },
  {
    "text": "this example we'll use the region EU West one but similar is true in any of the other any of our other Global",
    "start": "597920",
    "end": "604880"
  },
  {
    "text": "regions so your VPC spans the entire region in",
    "start": "604880",
    "end": "610040"
  },
  {
    "text": "theory but each of our regions is divided into multiple availability zones",
    "start": "610040",
    "end": "618560"
  },
  {
    "text": "Dublin has three EU West 1 a 1B 1 C and what availability zones are why they",
    "start": "618560",
    "end": "624519"
  },
  {
    "text": "matter to you is availability zones are specifically designed by us",
    "start": "624519",
    "end": "629880"
  },
  {
    "text": "do have separate failure characteristics separate power separate Network",
    "start": "629880",
    "end": "635160"
  },
  {
    "text": "Geographic distance they are designed to fail separately from each other so that if you are looking to deploy a high",
    "start": "635160",
    "end": "642279"
  },
  {
    "text": "availability application your best practice here is to deploy across multiple availability zones so that if",
    "start": "642279",
    "end": "649800"
  },
  {
    "text": "when there's a problem in one your application is still working because you're deployed across the availability",
    "start": "649800",
    "end": "655320"
  },
  {
    "text": "zones that were not affected so bringing this back to a VPC",
    "start": "655320",
    "end": "660920"
  },
  {
    "text": "in my VPC I want it to span all of the availability zones in the region so I",
    "start": "660920",
    "end": "666959"
  },
  {
    "text": "can deploy highly available applications so here's how you do this with VPC a",
    "start": "666959",
    "end": "672360"
  },
  {
    "text": "subnet a sub Network in your VPC is a sub range of your IP address space into",
    "start": "672360",
    "end": "679160"
  },
  {
    "text": "which you can launch ec2 instances and other resources so I want to be able to",
    "start": "679160",
    "end": "685040"
  },
  {
    "text": "use all three availability zones in Dublin so I put a subnet in uh EU West",
    "start": "685040",
    "end": "690639"
  },
  {
    "text": "1A with addresses 17231 something EU West 1B 172 31.1 do",
    "start": "690639",
    "end": "699160"
  },
  {
    "text": "something and you get the picture I've got three subnets three places to launch my instances I can build a high",
    "start": "699160",
    "end": "705920"
  },
  {
    "text": "availability application on this so a couple more words on that um",
    "start": "705920",
    "end": "711200"
  },
  {
    "text": "remember we made a nice big VPC sl16 our subnets you'll notice were",
    "start": "711200",
    "end": "716560"
  },
  {
    "text": "quite a bit smaller they were sl24 um /24 gives you 251 IP addresses",
    "start": "716560",
    "end": "722240"
  },
  {
    "text": "to play with now those of you here who are really good at math you'll notice that I didn't say 256 which is what 2 to",
    "start": "722240",
    "end": "727959"
  },
  {
    "text": "the E is we reserve five IP addresses the low four and the high IP address out",
    "start": "727959",
    "end": "733240"
  },
  {
    "text": "of every subnet so your subnets are still you know depending on your point of view relatively big um you can always",
    "start": "733240",
    "end": "739639"
  },
  {
    "text": "create more subnets we've put one in each availability zone so that I can use all of my availability zones but one",
    "start": "739639",
    "end": "746600"
  },
  {
    "text": "thing to notice here this a best practice unless you have a reason to do otherwise make your VPC big and there's",
    "start": "746600",
    "end": "753480"
  },
  {
    "text": "plenty of blank space in my VPC around these subnets I can create more subnets later I've got plenty of blank space to",
    "start": "753480",
    "end": "760120"
  },
  {
    "text": "do that so this sl16 sl24 all the availability zones are ofc1 1918 ranges",
    "start": "760120",
    "end": "766959"
  },
  {
    "text": "this is sort of a best practice for setting up addressing and subnets in your VPC great we've got addresses but we",
    "start": "766959",
    "end": "773760"
  },
  {
    "text": "want to send packets right and this brings us to the core concept of the VPC the core concept of any network really",
    "start": "773760",
    "end": "780920"
  },
  {
    "text": "which is routing and routing in a VPC is done with a route table a route table in a",
    "start": "780920",
    "end": "787320"
  },
  {
    "text": "VPC is fairly easy to is easy to read it's a simple list of rules that explain packets trying to go to these",
    "start": "787320",
    "end": "794000"
  },
  {
    "text": "destinations need to be sent to that Gateway that's really all it says we'll",
    "start": "794000",
    "end": "799160"
  },
  {
    "text": "look at it on the next slide it's easy to read your VPC comes with what's called a default route table these are",
    "start": "799160",
    "end": "804800"
  },
  {
    "text": "the routes that apply to your entire network but and we'll talk about this in",
    "start": "804800",
    "end": "809880"
  },
  {
    "text": "the second half kind of more advanced uh half of this session you can override it on a subnet by subnet basis sometimes",
    "start": "809880",
    "end": "816639"
  },
  {
    "text": "you'll want to but let's go to that let's go to that default route table in my VPC and look at what it's made of",
    "start": "816639",
    "end": "823320"
  },
  {
    "text": "right now it came with just one rule this rule if you read it you can",
    "start": "823320",
    "end": "828639"
  },
  {
    "text": "probably make out what it's trying to say if a packet's going to 17231 2016 those are addresses in my",
    "start": "828639",
    "end": "836720"
  },
  {
    "text": "VPC then it should get routed local so we'll packet trying to go",
    "start": "836720",
    "end": "841759"
  },
  {
    "text": "somewhere and my VPC should get routed locally which makes sense now the way routing Works in a VPC if a packet's",
    "start": "841759",
    "end": "848560"
  },
  {
    "text": "trying to go somewhere and there's no rule that matches it there's no route that matches it then the packet has",
    "start": "848560",
    "end": "854920"
  },
  {
    "text": "nowhere to go and it gets dropped so right now think about what would happen if you",
    "start": "854920",
    "end": "862160"
  },
  {
    "text": "tried to send a packet to the internet right now well that internet address is going to be outside my rfc1 1918 range",
    "start": "862160",
    "end": "869759"
  },
  {
    "text": "there's no route for it the packet gets dropped this is a party in my VPC and nobody's invited I want to be able to",
    "start": "869759",
    "end": "876560"
  },
  {
    "text": "get packets to the Internet so what I need is something more I need an internet gateway a gateway to the",
    "start": "876560",
    "end": "883680"
  },
  {
    "text": "Internet so this is something you create you attach it to your VPC it's somewhere",
    "start": "883680",
    "end": "889120"
  },
  {
    "text": "you send packets when they're trying to go to the Internet that's all there is to it back to my route table I'm writing",
    "start": "889120",
    "end": "895680"
  },
  {
    "text": "a route here that says 0/0 that's cider notation for match everything it's a",
    "start": "895680",
    "end": "900759"
  },
  {
    "text": "default route 0/0 send it to the internet gateway now",
    "start": "900759",
    "end": "906639"
  },
  {
    "text": "the way routing Works in a VPC um you'll sometimes see these rules in different orders it doesn't matter the most",
    "start": "906639",
    "end": "912600"
  },
  {
    "text": "specific route that matches your packet is the one that applies so regardless of what order you see this if the packet's",
    "start": "912600",
    "end": "918680"
  },
  {
    "text": "going to your VPC it'll use the local route anywhere else to the internet gateway to the internet and that's all",
    "start": "918680",
    "end": "925360"
  },
  {
    "text": "there is to it of course you're sending packets to and from the internet so your next question is probably about okay",
    "start": "925360",
    "end": "932000"
  },
  {
    "text": "what are my tools for network security I don't want every packet from the internet there's a lot of stuff going on in the internet I don't want all of it",
    "start": "932000",
    "end": "939600"
  },
  {
    "text": "right we give you some very good very precise powerful but simple Tools in",
    "start": "939600",
    "end": "945279"
  },
  {
    "text": "your VPC to be able to control exactly what packets you can and cannot",
    "start": "945279",
    "end": "951040"
  },
  {
    "text": "receive there's two different concepts in VPC that help you do this network akles network access control lists and",
    "start": "951040",
    "end": "958040"
  },
  {
    "text": "security groups by far security groups are the most commonly used they're Pro you're almost",
    "start": "958040",
    "end": "963639"
  },
  {
    "text": "certainly going to be using security groups I'll cover Network accles first because um because they're they're a",
    "start": "963639",
    "end": "969639"
  },
  {
    "text": "little bit simpler they're a blunt tool um for those of you from a networking",
    "start": "969639",
    "end": "974800"
  },
  {
    "text": "background if you have stateless firewalls in your data center today network akles are the analog of that in",
    "start": "974800",
    "end": "981680"
  },
  {
    "text": "VPC it is um like the route table uh you got a default one for your VPC you can",
    "start": "981680",
    "end": "987880"
  },
  {
    "text": "override it on a subnet by subnet basis if you look at it this is what it comes with by default and I'm actually not",
    "start": "987880",
    "end": "994000"
  },
  {
    "text": "going to change this for my basic VPC here but if you look at it it reads a little bit like IP tables if you're",
    "start": "994000",
    "end": "1000680"
  },
  {
    "text": "familiar with that there's a set of rules they get applied in order as soon as your packet matches a rule that's",
    "start": "1000680",
    "end": "1006720"
  },
  {
    "text": "your verdict so if you look at what I have on these rules here you can see I'm going to allow all of the packets which",
    "start": "1006720",
    "end": "1013079"
  },
  {
    "text": "is what I want I'm not going to use Network akles here but you can and now you know about it there's a set of rules",
    "start": "1013079",
    "end": "1019240"
  },
  {
    "text": "for Ingress incoming packets there's a set of rules for egress outgoing outgoing packets these are stateless",
    "start": "1019240",
    "end": "1026000"
  },
  {
    "text": "which means that the you need to have an allow rule on both sides of the flow in order for your packet to get uh to and",
    "start": "1026000",
    "end": "1031798"
  },
  {
    "text": "from where it's going and now you know about these these are your blunt instruments for allowing or disallowing",
    "start": "1031799",
    "end": "1037839"
  },
  {
    "text": "certain ranges of addresses so we're allowing all traffic in here but I want to talk a little bit",
    "start": "1037839",
    "end": "1044240"
  },
  {
    "text": "more about security groups because every well architected application",
    "start": "1044240",
    "end": "1049799"
  },
  {
    "text": "in AWS invol has security groups kind of as part of the",
    "start": "1049799",
    "end": "1056799"
  },
  {
    "text": "architecture let me explain with an example I'm going to give you a very sort of simple um fasile example of an",
    "start": "1056799",
    "end": "1063760"
  },
  {
    "text": "application here let's say I have this application it's got some public facing web servers these web servers I want",
    "start": "1063760",
    "end": "1072000"
  },
  {
    "text": "them to I want everyone on the internet to be able to make HTTP requests to them",
    "start": "1072000",
    "end": "1077400"
  },
  {
    "text": "so I want them open to the internet on TCP Port 80 for HTTP requests because I",
    "start": "1077400",
    "end": "1083000"
  },
  {
    "text": "want everybody to hit my service now in the course of handling one of these requests these hosts will go turn around",
    "start": "1083000",
    "end": "1089360"
  },
  {
    "text": "make a requests to some kind of backend service that I'm running on these blue instances they're running some backend",
    "start": "1089360",
    "end": "1096280"
  },
  {
    "text": "service on some arbitrary Port let's say 2345 and they expect traffic from the",
    "start": "1096280",
    "end": "1103159"
  },
  {
    "text": "web servers but really no one else on no other ports so what did I just describe",
    "start": "1103159",
    "end": "1109799"
  },
  {
    "text": "here so I have two groups of instances as far as network security needs go",
    "start": "1109799",
    "end": "1115880"
  },
  {
    "text": "right I have the group of web servers so let's call that the web servers Security Group I have a group of backends let's",
    "start": "1115880",
    "end": "1122480"
  },
  {
    "text": "call it the backend Security Group and different rules should apply to them for the web servers I want to allow the web",
    "start": "1122480",
    "end": "1129000"
  },
  {
    "text": "traffic from everywhere and for the backends I only want to allow that other group so that's what I want to do in",
    "start": "1129000",
    "end": "1136039"
  },
  {
    "text": "English here's how you modif here's how you model that in a security group so",
    "start": "1136039",
    "end": "1141440"
  },
  {
    "text": "for the web servers you'll see that I have a rule here you can Pro you can probably understand what this rule is",
    "start": "1141440",
    "end": "1147679"
  },
  {
    "text": "trying to do HTTP traffic TCP Port 80 allow it from everywhere now I'm not",
    "start": "1147679",
    "end": "1153440"
  },
  {
    "text": "allowing other ports I'm not allowing other protocols I don't want the internet to have SSH access to my host",
    "start": "1153440",
    "end": "1160039"
  },
  {
    "text": "so I don't have Port 22 open here just Port 80 and these I'll mention that",
    "start": "1160039",
    "end": "1166840"
  },
  {
    "text": "these are unlike the network tackles for those of you from a networking background these are stateful rules and",
    "start": "1166840",
    "end": "1173640"
  },
  {
    "text": "what that means these are inbound rules you can also do outbound rules I'm not showing them they're less commonly used",
    "start": "1173640",
    "end": "1179760"
  },
  {
    "text": "um these are inbound rules and the security group rules govern what happens",
    "start": "1179760",
    "end": "1186360"
  },
  {
    "text": "to when someone tries to initiate the connection so when someone tries to initiate an HT a TCP Port 80 connection",
    "start": "1186360",
    "end": "1193799"
  },
  {
    "text": "to me these rules are stateful they track the connection the reply packet is allowed automatically I don't need a",
    "start": "1193799",
    "end": "1200080"
  },
  {
    "text": "rule specifically for the reply packet and that's usually what you want so these are about the sin packet of your",
    "start": "1200080",
    "end": "1205520"
  },
  {
    "text": "TCP connection um so this is doing what I want but let's go look at the back ends",
    "start": "1205520",
    "end": "1211080"
  },
  {
    "text": "because that one is that one's a little more interesting you notice here let's say 2345 is the port that my",
    "start": "1211080",
    "end": "1218000"
  },
  {
    "text": "application is running on you notice here in that Source field I don't have a range of IP addresses or a laundry list",
    "start": "1218000",
    "end": "1224200"
  },
  {
    "text": "of IP addresses I have another security group right and think about how flexible",
    "start": "1224200",
    "end": "1229880"
  },
  {
    "text": "this is right if you've ever tried to if you've ever tried to work with firewalls yourselves you know that you really have",
    "start": "1229880",
    "end": "1236640"
  },
  {
    "text": "two choices here you can either just allow a range and just cope with the fact that there are holes in that range that aren't don't act aren't actually",
    "start": "1236640",
    "end": "1243400"
  },
  {
    "text": "assigned to the host that you intend or you can try to manage some kind of laundry list of uh IP addresses that",
    "start": "1243400",
    "end": "1249640"
  },
  {
    "text": "you're going to allow in but that is some operational maintenance challenges right because you're going to be elastic",
    "start": "1249640",
    "end": "1255960"
  },
  {
    "text": "here those web servers are scaling up they're scaling down it's all these different hosts this is a zero",
    "start": "1255960",
    "end": "1261320"
  },
  {
    "text": "maintenance way to do that the right hosts if they're a member of the web serice Security Group they're allowed in",
    "start": "1261320",
    "end": "1267520"
  },
  {
    "text": "you're not keeping track of Who's Who and who's up and who's down and who just added a host this exactly expresses your",
    "start": "1267520",
    "end": "1276039"
  },
  {
    "text": "security intents in your in your VPC and you don't have to do any maintenance on",
    "start": "1276039",
    "end": "1281360"
  },
  {
    "text": "it so a few more words on security groups before we move on um follow how",
    "start": "1281360",
    "end": "1286799"
  },
  {
    "text": "many of you have heard of the principle of lease privilege it's a security concept it really means that you should it really means that you",
    "start": "1286799",
    "end": "1293400"
  },
  {
    "text": "should give access to who needs it and nobody else when you're thinking when you're architecting your application in",
    "start": "1293400",
    "end": "1299960"
  },
  {
    "text": "AWS think about who needs to talk to whom write your security groups that way",
    "start": "1299960",
    "end": "1305799"
  },
  {
    "text": "and don't give permission to anybody else and that's how you do follow the principle of least privilege on your",
    "start": "1305799",
    "end": "1311679"
  },
  {
    "text": "network using our using our zero maintenance tools to do that I showed",
    "start": "1311679",
    "end": "1316720"
  },
  {
    "text": "you inbound rules for security groups those are usually going to be what you use but if you are trying to limit if",
    "start": "1316720",
    "end": "1322760"
  },
  {
    "text": "you're trying to follow the principle of lease privilege and limit what kinds of connections your hosts can themselves",
    "start": "1322760",
    "end": "1329000"
  },
  {
    "text": "initiate you want to look at these outbound Security Group rules they work the same except in the other",
    "start": "1329000",
    "end": "1334240"
  },
  {
    "text": "direction and then finally um we're not going to talk about uh aws's identity",
    "start": "1334240",
    "end": "1340320"
  },
  {
    "text": "and access management I am service here today but it is definitely as you're architecting your secure applications on",
    "start": "1340320",
    "end": "1347279"
  },
  {
    "text": "AWS definitely look into the concept of IM roles IM roles are kind of a",
    "start": "1347279",
    "end": "1352480"
  },
  {
    "text": "credential list way to give your ec2 instances and other AWS",
    "start": "1352480",
    "end": "1358120"
  },
  {
    "text": "resources specifically scoped permissions for what they can do so your IM role is what your instance can do the",
    "start": "1358120",
    "end": "1365600"
  },
  {
    "text": "security group memberships is who it can talk to and you can see as you're thinking about Security in the cloud",
    "start": "1365600",
    "end": "1372320"
  },
  {
    "text": "these are going to be often going to find themselves in a one toone relationship what you can do and who you can talk to so that's just the tip as",
    "start": "1372320",
    "end": "1379039"
  },
  {
    "text": "you're trying as you're building your application you know with security baked in from the get-go which you should",
    "start": "1379039",
    "end": "1384520"
  },
  {
    "text": "do all right hey so if you have made it this far you know every you can go home and",
    "start": "1384520",
    "end": "1390880"
  },
  {
    "text": "you know everything you need to know to use your if you needed an Internet connected VPC in AWS you know everything",
    "start": "1390880",
    "end": "1397679"
  },
  {
    "text": "you need to know to be fully effective with it you can be secure you have the connectivity that you need and it's not",
    "start": "1397679",
    "end": "1403760"
  },
  {
    "text": "going to take a lot of work so if You' made it this far you've got the basics down",
    "start": "1403760",
    "end": "1408960"
  },
  {
    "text": "we're going to spend the rest of our time here though talking about additional Fe your VPC does a lot more",
    "start": "1408960",
    "end": "1415400"
  },
  {
    "text": "than what we just described I'm going to take you through some of these features I'm going to tell them I'm going to tell",
    "start": "1415400",
    "end": "1420559"
  },
  {
    "text": "you when in which cases these features might apply to you um and these will give you a lot of these are more",
    "start": "1420559",
    "end": "1426559"
  },
  {
    "text": "advanced concepts these will kind of give you pointers into where you can learn more after you go home or while",
    "start": "1426559",
    "end": "1432120"
  },
  {
    "text": "you're here this week even so let's go your your VPC there was Internet connected and you can build a",
    "start": "1432120",
    "end": "1438760"
  },
  {
    "text": "perfectly secure application using security groups on an Internet connected VPC that is 100% secure but sometimes",
    "start": "1438760",
    "end": "1445880"
  },
  {
    "text": "you have reasons to uh have connectivity Beyond or in addition to",
    "start": "1445880",
    "end": "1451400"
  },
  {
    "text": "internet connectivity so we're going to talk about a few ways of doing that first let's talk about restricting your",
    "start": "1451400",
    "end": "1457760"
  },
  {
    "text": "internet connectivity so go back to that application right we had web servers we",
    "start": "1457760",
    "end": "1464679"
  },
  {
    "text": "had backends they had different security needs they were in different security groups you should always do it that way",
    "start": "1464679",
    "end": "1471760"
  },
  {
    "text": "but some of you are some of you work in situations where you're either subject to a compliance regime that maybe",
    "start": "1471760",
    "end": "1479679"
  },
  {
    "text": "requires you to prove that some parts of your application are actually not routable from the internet so you need",
    "start": "1479679",
    "end": "1484720"
  },
  {
    "text": "to meet some sort of compliance requirement that way or you're just looking to take a belt suspenders and",
    "start": "1484720",
    "end": "1490600"
  },
  {
    "text": "Mitten Clips approach to security either way we give you a way to take parts of",
    "start": "1490600",
    "end": "1496279"
  },
  {
    "text": "your VPC or in fact all of your VPC off the internet so in addition to the",
    "start": "1496279",
    "end": "1501880"
  },
  {
    "text": "security groups which I'm not going to show you here let's go back to that concept of subnets let's put these hosts",
    "start": "1501880",
    "end": "1507720"
  },
  {
    "text": "in different subnets now as you remember the subnet lives in an availability zone so I'm really only showing you one",
    "start": "1507720",
    "end": "1514440"
  },
  {
    "text": "availability Zone here I should be showing you three copies of this but that's too much on the slide so I'm",
    "start": "1514440",
    "end": "1520159"
  },
  {
    "text": "going to put these in different subnets now that they're in different subnets I can put different route tables",
    "start": "1520159",
    "end": "1527559"
  },
  {
    "text": "on the different sub sub Nets up here I've got web servers I explicitly want these to be reachable to and from the",
    "start": "1527559",
    "end": "1533039"
  },
  {
    "text": "internet so let me put a route table on there that has a route to my internet gateway but over here the back",
    "start": "1533039",
    "end": "1541240"
  },
  {
    "text": "ends I don't actually have a reason for them to be communicating with the internet so why don't I put a route",
    "start": "1541240",
    "end": "1547679"
  },
  {
    "text": "table on them that has no route to the internet gateway our documentation will call this",
    "start": "1547679",
    "end": "1553720"
  },
  {
    "text": "a private subnet and a public subnet so you'll see those words I the word public subnet there's actually nothing public",
    "start": "1553720",
    "end": "1560480"
  },
  {
    "text": "about it security groups work if you are not allowing traffic from the Internet it's not going to get there but that is",
    "start": "1560480",
    "end": "1565840"
  },
  {
    "text": "what we call it so let me draw your private subnet and your public subnet",
    "start": "1565840",
    "end": "1570880"
  },
  {
    "text": "side by side here instead of one on top of the other so you know this is your setup here left-and side private subnet",
    "start": "1570880",
    "end": "1577559"
  },
  {
    "text": "no route to the internet right hand side public subnet route to the internet now you will often find yourselves in",
    "start": "1577559",
    "end": "1584240"
  },
  {
    "text": "situations where although that private subnet is private in the sense that you don't want it to have public IP",
    "start": "1584240",
    "end": "1590720"
  },
  {
    "text": "addresses you don't want the internet being able to reach it they do need some",
    "start": "1590720",
    "end": "1595760"
  },
  {
    "text": "outbound only internet access like you can imagine a host that needs to reach out to a yum repo to download an up to",
    "start": "1595760",
    "end": "1602559"
  },
  {
    "text": "download an update an update itself now the way you traditionally do this in networking is with a concept called",
    "start": "1602559",
    "end": "1608960"
  },
  {
    "text": "Network address translation natat you have some device that's doing connection",
    "start": "1608960",
    "end": "1614440"
  },
  {
    "text": "tracking that Nets everything behind one one or a few IP addresses and um and VPC",
    "start": "1614440",
    "end": "1622440"
  },
  {
    "text": "will and that is usually something that you have to manage and maintain VPC does this for you in a zero maintenance way",
    "start": "1622440",
    "end": "1629480"
  },
  {
    "text": "it's it's fairly simple it's called a Nat Gateway has the word Gateway so you should think",
    "start": "1629480",
    "end": "1634960"
  },
  {
    "text": "route and that's what it is if I want outbound only internet access from that",
    "start": "1634960",
    "end": "1640840"
  },
  {
    "text": "private subnet then I create a knack Gateway in my public subnet that's a knack Gateway it has a",
    "start": "1640840",
    "end": "1649200"
  },
  {
    "text": "single public IP address on it and I have a0z route a default route saying",
    "start": "1649200",
    "end": "1655279"
  },
  {
    "text": "that in the private subnet if I'm trying to send a packet to the internet what it's going to do that's my route what",
    "start": "1655279",
    "end": "1662600"
  },
  {
    "text": "it's going to do is it's going to get taken to The Knack Gateway it's going to get taken to The Knack Gateway it's going the S The",
    "start": "1662600",
    "end": "1669960"
  },
  {
    "text": "Source IP address is going to get Rewritten with that public IP address 54.1",
    "start": "1669960",
    "end": "1675000"
  },
  {
    "text": "16103 that's how Nat Works packets going to go where it needs to go the reply packet will come back and the net",
    "start": "1675000",
    "end": "1681279"
  },
  {
    "text": "Gateway has been tracking the connection for you so it's able to rewrite the destination IP address to wherever it's",
    "start": "1681279",
    "end": "1687080"
  },
  {
    "text": "supposed to go in the private subnet and all this is done for you now I've had customers ask me with",
    "start": "1687080",
    "end": "1693799"
  },
  {
    "text": "uh internet gateways with KN gateways with our other gateways what are these things are they routers is it a single",
    "start": "1693799",
    "end": "1700760"
  },
  {
    "text": "point of failure is it a thing no it's not a thing well it is a thing it's a highly available elastic managed thing",
    "start": "1700760",
    "end": "1708840"
  },
  {
    "text": "we manage it for you these gateways they are not single points of failure we manage these things for you they just",
    "start": "1708840",
    "end": "1715279"
  },
  {
    "text": "work and importantly they are not something that you need to worry about as you're thinking about the",
    "start": "1715279",
    "end": "1720679"
  },
  {
    "text": "availability of your application these are managed and they just work both The Knack Gateway and the internet",
    "start": "1720679",
    "end": "1727320"
  },
  {
    "text": "gateway Okay so we've restricted we have internet access from only the parts of our VPC that we want but you might have",
    "start": "1727320",
    "end": "1735559"
  },
  {
    "text": "multiple vpcs that need to communicate between each other and you don't necessarily want to put them on the",
    "start": "1735559",
    "end": "1741760"
  },
  {
    "text": "putting them on the Internet is one option but maybe you don't want to do that a common scenario here that that um",
    "start": "1741760",
    "end": "1748640"
  },
  {
    "text": "you know if you work for a larger Enterprise that's looking at having a several AWS accounts now you might be",
    "start": "1748640",
    "end": "1756200"
  },
  {
    "text": "you might be looking at several AWS accounts if for example you want different departments to get builds",
    "start": "1756200",
    "end": "1762080"
  },
  {
    "text": "separately for their AWS usage that's a common scenario different accounts means",
    "start": "1762080",
    "end": "1767240"
  },
  {
    "text": "different VPC but you but often it is often the case when you're in a situation like this",
    "start": "1767240",
    "end": "1773440"
  },
  {
    "text": "that there are some shared services across your Enterprise that different different departments need to get to",
    "start": "1773440",
    "end": "1779399"
  },
  {
    "text": "usually they're not it's not costeffective to replicate it into each and every VPC or not practical so you",
    "start": "1779399",
    "end": "1786000"
  },
  {
    "text": "want a network of shared services that you want all of these other networks to be able to reach privately and securely",
    "start": "1786000",
    "end": "1793000"
  },
  {
    "text": "so that's where VPC peering comes in VPC peering is two vpcs with nonoverlapping",
    "start": "1793000",
    "end": "1799320"
  },
  {
    "text": "IP address ranges that um that get",
    "start": "1799320",
    "end": "1804519"
  },
  {
    "text": "almost conjoined they have full network connectivity between the two vpcs now",
    "start": "1804519",
    "end": "1810880"
  },
  {
    "text": "this and one other thing that is uh one other thing that is supported by purered",
    "start": "1810880",
    "end": "1816200"
  },
  {
    "text": "vpcs is you remember how remember how you were able to use security groups security groups being a nice cloudy tool",
    "start": "1816200",
    "end": "1822679"
  },
  {
    "text": "for network security you'd have one Security Group allowing in a different Security Group this works across perings",
    "start": "1822679",
    "end": "1829559"
  },
  {
    "text": "as well so how you set up a peing just really quickly a peering doesn't exist",
    "start": "1829559",
    "end": "1835440"
  },
  {
    "text": "until both sides say okay to it so what so orange side will initiate the request",
    "start": "1835440",
    "end": "1840559"
  },
  {
    "text": "blue side will accept the request and then finally there's a peering but of",
    "start": "1840559",
    "end": "1845720"
  },
  {
    "text": "course your packets don't go anywhere without a route so let's go add that route PCX stands for peering connection",
    "start": "1845720",
    "end": "1852720"
  },
  {
    "text": "it's a Gateway so orange VPC when a packet's trying to get to 1055 live.",
    "start": "1852720",
    "end": "1858919"
  },
  {
    "text": "something it matches this route it goes to the Ping Gateway it goes to Blue VPC",
    "start": "1858919",
    "end": "1865120"
  },
  {
    "text": "and your security groups work now you're probably noticing that there's a route in this route table that",
    "start": "1865120",
    "end": "1870279"
  },
  {
    "text": "we haven't talked about yet and that's the one that says vgw virtual Gateway so let's talk about that one next um the",
    "start": "1870279",
    "end": "1877960"
  },
  {
    "text": "vgw the virtual Gateway is your tool for when you have a corporate data center on",
    "start": "1877960",
    "end": "1884120"
  },
  {
    "text": "premises Network that you need to connect securely and privately to your",
    "start": "1884120",
    "end": "1889480"
  },
  {
    "text": "VPC and I should mention as a point of history that this functionality being",
    "start": "1889480",
    "end": "1896320"
  },
  {
    "text": "able to connect your network in AWS to your on premises Network through a",
    "start": "1896320",
    "end": "1902600"
  },
  {
    "text": "private and secure connection was in fact the Genesis of the VPC product so",
    "start": "1902600",
    "end": "1907880"
  },
  {
    "text": "ec2 elastic compute cloud has existed since 2006 it existed before",
    "start": "1907880",
    "end": "1912960"
  },
  {
    "text": "VPC there was ec2 before there was VPC it still EX this today it's called",
    "start": "1912960",
    "end": "1918799"
  },
  {
    "text": "ec2 classic ec2 classic is ec2 without a VPC older accounts may still be uh older",
    "start": "1918799",
    "end": "1925000"
  },
  {
    "text": "accounts are are still using it what it is is it's ec2 without a VPC so you",
    "start": "1925000",
    "end": "1931200"
  },
  {
    "text": "launch your ec2 instance your ec2 instance isn't in a VPC it's in a flat",
    "start": "1931200",
    "end": "1937760"
  },
  {
    "text": "Network owned by us it's the ec2 classic Network it's on the 10 dot address range",
    "start": "1937760",
    "end": "1944880"
  },
  {
    "text": "so the network is ours so we give you your virtual machine we give give you a private IP a 10. private IP address you",
    "start": "1944880",
    "end": "1951440"
  },
  {
    "text": "get a choice between internet connectivity and internet connectivity so you get internet connectivity and um and you get security",
    "start": "1951440",
    "end": "1958440"
  },
  {
    "text": "groups but the network isn't yours right and as ec2 was getting going we had",
    "start": "1958440",
    "end": "1964279"
  },
  {
    "text": "Enterprise customers looking at it really wanting to migrate applications to it except for one problem their on",
    "start": "1964279",
    "end": "1971080"
  },
  {
    "text": "premises network was a t Dot and it conflicted with the ec2 classic Network in other words they wanted to control",
    "start": "1971080",
    "end": "1977840"
  },
  {
    "text": "control the network on both sides and that is where the VPC product was born now we've done a ton of stuff with it",
    "start": "1977840",
    "end": "1983240"
  },
  {
    "text": "since then but that's really where it came from so these two technologies virtual private Network and Direct",
    "start": "1983240",
    "end": "1989159"
  },
  {
    "text": "Connect are how you connect to an on- premises Network and it looks like this leftand side is on Prem right hand side",
    "start": "1989159",
    "end": "1995960"
  },
  {
    "text": "is AWS VPN these are two different services that achieve the same end",
    "start": "1995960",
    "end": "2002519"
  },
  {
    "text": "through different means I'm going to talk a little bit about VPN and just Concepts you need to know now this is a concept this is a",
    "start": "2002519",
    "end": "2009720"
  },
  {
    "text": "whole concept in and of itself we have several talks on it throughout throughout the week so I'm just going to",
    "start": "2009720",
    "end": "2014880"
  },
  {
    "text": "give you sort of the terminology things you need to know about if you're going to be trying to set up a VPN into your",
    "start": "2014880",
    "end": "2021000"
  },
  {
    "text": "VPC so in your on premises Network you're going to have something that we",
    "start": "2021000",
    "end": "2026080"
  },
  {
    "text": "call a customer Gateway this is a network device this is your own equipment that you run in your data",
    "start": "2026080",
    "end": "2032039"
  },
  {
    "text": "center that you manage with a static publicly routable IP address that you tell us",
    "start": "2032039",
    "end": "2038240"
  },
  {
    "text": "so that's so it's a VPN connection so you're going to get encrypted IPC tunnels that's your end of the",
    "start": "2038240",
    "end": "2044960"
  },
  {
    "text": "tunnels we have uh instructions in our documentation for setting up a wide variety of customer gateways um range of",
    "start": "2044960",
    "end": "2052560"
  },
  {
    "text": "vendors and models with detailed instructions for each but you set this up and what you get is a VPN connection",
    "start": "2052560",
    "end": "2061240"
  },
  {
    "text": "to our side which is the virtual Gateway the virtual Gateway is our end of the",
    "start": "2061240",
    "end": "2067320"
  },
  {
    "text": "VPN connection if you set it up correctly you get two encrypted IPC tunnels and as a point of interest um if",
    "start": "2067320",
    "end": "2076079"
  },
  {
    "text": "you're thinking about high availability on our side we terminate those two tunnels in two different availability",
    "start": "2076079",
    "end": "2082000"
  },
  {
    "text": "zones so that's us using our own high availability story in our Network to give you a highly available VPN",
    "start": "2082000",
    "end": "2090118"
  },
  {
    "text": "connection and um then the rest of this is done with the route in your VPC if",
    "start": "2090119",
    "end": "2096560"
  },
  {
    "text": "your packet is trying to get to your on- premisis range let's say it's 192.168 you have a route to the virtual",
    "start": "2096560",
    "end": "2104200"
  },
  {
    "text": "Gateway and it goes over the VPN to on-prem and that's th those are sort of",
    "start": "2104200",
    "end": "2110320"
  },
  {
    "text": "the basic concepts there's of course more to it than that um I mentioned VPN but there's also a WS Direct Connect and",
    "start": "2110320",
    "end": "2118560"
  },
  {
    "text": "really the difference between they they achieve the same end different means VPN goes over the internet and encrypted you",
    "start": "2118560",
    "end": "2124440"
  },
  {
    "text": "it's IPC it's encrypted over the Internet Direct Connect is what it sounds like it's a direct it's a direct",
    "start": "2124440",
    "end": "2130839"
  },
  {
    "text": "connection cable running from your equipment to ours in one of our many collocation centers around the world which one you use really depends",
    "start": "2130839",
    "end": "2138920"
  },
  {
    "text": "on your data transfer needs if you're going to be transferring a lot of data you're probably going to come out ahead",
    "start": "2138920",
    "end": "2144400"
  },
  {
    "text": "on cost with a direct connect um higher Port speeds lower per gig uh rate but",
    "start": "2144400",
    "end": "2150720"
  },
  {
    "text": "higher Port hour for VPN um the reverse is true if you're going to be if your",
    "start": "2150720",
    "end": "2157240"
  },
  {
    "text": "data transfer needs are relatively smaller you're probably more cost effective with a VPN NVC customers use",
    "start": "2157240",
    "end": "2164200"
  },
  {
    "text": "both with a direct connect with a redundant VPN for the highest availability for this",
    "start": "2164200",
    "end": "2169880"
  },
  {
    "text": "connection so we've gotten between your VPC and all kinds of other places and I want to spend what what time remains",
    "start": "2169880",
    "end": "2176119"
  },
  {
    "text": "here talking about how VPC interplays with the rest of AWS because I'm going",
    "start": "2176119",
    "end": "2181280"
  },
  {
    "text": "to go out on a limb here and guess that most of you are are not in AWS not in",
    "start": "2181280",
    "end": "2186760"
  },
  {
    "text": "reinvent to focus necessarily on networking you're using netk the network in AWS as",
    "start": "2186760",
    "end": "2192440"
  },
  {
    "text": "a means to an end you're here in AWS because of the breadth of services that we offer to you now your VPC interplays",
    "start": "2192440",
    "end": "2202000"
  },
  {
    "text": "with these services in some useful ways so I want to take you on a very quick tour of some of the some of the touch",
    "start": "2202000",
    "end": "2208680"
  },
  {
    "text": "points between VPC and other services that you may be using that you may be interested in",
    "start": "2208680",
    "end": "2213920"
  },
  {
    "text": "using well T some of AWS services in fact can run inside your VPC I'll tell",
    "start": "2213920",
    "end": "2219319"
  },
  {
    "text": "you about how that works we have a special setup a special Gateway for being able to reach Amazon S3 where your",
    "start": "2219319",
    "end": "2226079"
  },
  {
    "text": "data might be we let you take some control of DNS I'll show you how how you do that and we",
    "start": "2226079",
    "end": "2231839"
  },
  {
    "text": "also give you some great visibility tools and cloudwatch logs so let's get through let's let's go through these",
    "start": "2231839",
    "end": "2238079"
  },
  {
    "text": "Concepts um AWS services in your VPC you see that I have a bunch of AWS icons over here",
    "start": "2238079",
    "end": "2246040"
  },
  {
    "text": "there are there are several AWS services that in fact can run inside your VPC now",
    "start": "2246040",
    "end": "2253920"
  },
  {
    "text": "what do I mean by that I'm going to use RDS relational database Service as an",
    "start": "2253920",
    "end": "2259200"
  },
  {
    "text": "example here although there are multiple other AWS services that work this way application load balancer redshift",
    "start": "2259200",
    "end": "2265760"
  },
  {
    "text": "elasticache directory service lots of services work this way let's talk about",
    "start": "2265760",
    "end": "2271720"
  },
  {
    "text": "RDS when you set up an RDS database you'll notice that you get a chance to run it inside your",
    "start": "2271720",
    "end": "2278440"
  },
  {
    "text": "VPC and what that means is that your RDS database is actually running at an",
    "start": "2278440",
    "end": "2283839"
  },
  {
    "text": "address in your VPC now what does that mean that means",
    "start": "2283839",
    "end": "2288960"
  },
  {
    "text": "you get your network least priv least privilege tools your security groups and you can use them directly on your",
    "start": "2288960",
    "end": "2296720"
  },
  {
    "text": "database so for example I might have this security group of instances in my VPC that I intend to be able to reach",
    "start": "2296720",
    "end": "2302920"
  },
  {
    "text": "the database maybe the rest of my VPC doesn't need to reach the database I know exactly who is going to be talking",
    "start": "2302920",
    "end": "2308079"
  },
  {
    "text": "to the database so because the RDS database is in my VPC I get to put it in a security group",
    "start": "2308079",
    "end": "2315800"
  },
  {
    "text": "in my VPC and use the security tools in VPC to",
    "start": "2315800",
    "end": "2321839"
  },
  {
    "text": "allow one one of these security groups into the other this is exactly what I want in terms of",
    "start": "2321839",
    "end": "2327240"
  },
  {
    "text": "connectivity now when you set up an RDS database you'll get the uh you'll get the option to do a multi-az deployment",
    "start": "2327240",
    "end": "2334640"
  },
  {
    "text": "that's for high availability those of you who know something about datab bases you'll get a master database and a",
    "start": "2334640",
    "end": "2341240"
  },
  {
    "text": "standby so that if there's a problem with the master there can it can fail over to the other one uh rjs will use",
    "start": "2341240",
    "end": "2347920"
  },
  {
    "text": "availability zones to put the master and the standby in different availability zones uh for the reasons that you think",
    "start": "2347920",
    "end": "2354880"
  },
  {
    "text": "and what's great about this is they're both already in the right right security groups right if RDS needs to fail you",
    "start": "2354880",
    "end": "2362480"
  },
  {
    "text": "over to your standby your connectivity still works the way you've set the up",
    "start": "2362480",
    "end": "2367760"
  },
  {
    "text": "expresses exactly what kind of connectivity that you need and completely hands off it works another",
    "start": "2367760",
    "end": "2374280"
  },
  {
    "text": "thing I'll point out is when you run an RDS database in your VPC it'll come with a DNS name that works inside your VPC",
    "start": "2374280",
    "end": "2381640"
  },
  {
    "text": "that you'll that your instances will be able to reach it at and there are other AWS services that work this way I'll",
    "start": "2381640",
    "end": "2388079"
  },
  {
    "text": "show you as an example AWS Lambda how many of you here use lamba that's our it's it's a great service it's our",
    "start": "2388079",
    "end": "2393800"
  },
  {
    "text": "server list you know bring your code run functions in the cloud well Lambda",
    "start": "2393800",
    "end": "2399079"
  },
  {
    "text": "actually gives you the option to run in your VPC too so as those of you who are familiar with Lambda know that it's it's",
    "start": "2399079",
    "end": "2405440"
  },
  {
    "text": "a fairly simple setup you bring your code and Lambda runs it for you when you",
    "start": "2405440",
    "end": "2411119"
  },
  {
    "text": "run a Lambda in your VPC that code is running as is running inside your",
    "start": "2411119",
    "end": "2417240"
  },
  {
    "text": "network and what does that mean if you have your Lambda function in your VPC it",
    "start": "2417240",
    "end": "2422880"
  },
  {
    "text": "can be a member of a security group so you can give it access to exactly what it needs in your VPC without having to",
    "start": "2422880",
    "end": "2429200"
  },
  {
    "text": "put anything on the internet um yeah hey you know let's say it needs to query a database in your VPC no problem I set up",
    "start": "2429200",
    "end": "2435560"
  },
  {
    "text": "my security groups so that they work a few best practices here um AWS",
    "start": "2435560",
    "end": "2441480"
  },
  {
    "text": "Services you'll see when you're setting them up you'll see that they run in your VPC always think about security groups",
    "start": "2441480",
    "end": "2448200"
  },
  {
    "text": "when you they're part of your application and security groups should be part of your application so always use security groups with them and think",
    "start": "2448200",
    "end": "2455200"
  },
  {
    "text": "about exactly who should be able to access them on the network level and a lot of them will give you uh multi-",
    "start": "2455200",
    "end": "2461319"
  },
  {
    "text": "availability Zone uh options those are always the more High highly available ones you know it's always that it's",
    "start": "2461319",
    "end": "2467920"
  },
  {
    "text": "always that service using our networks's availability zones to give you the highest availability version of whatever",
    "start": "2467920",
    "end": "2474640"
  },
  {
    "text": "it is that you're doing with that service but S3 Amazon",
    "start": "2474640",
    "end": "2480000"
  },
  {
    "text": "S3 is a special case here and we have done something special here to give you",
    "start": "2480000",
    "end": "2487440"
  },
  {
    "text": "private and secure and lock down and least privilege access to your data in S3 here's a very common scenario you're",
    "start": "2487440",
    "end": "2495800"
  },
  {
    "text": "running an application in a VPC and your application's data which is part of your application is over there",
    "start": "2495800",
    "end": "2502480"
  },
  {
    "text": "in an S3 bucket or S3 buckets now S3 of course if you take the",
    "start": "2502480",
    "end": "2508119"
  },
  {
    "text": "DNS name s3. Amazon aws.com it resolves to a publicly routable IP address S3 is",
    "start": "2508119",
    "end": "2514319"
  },
  {
    "text": "on the internet so you know typically you you would have to put an internet gateway on your VPC and that's how you'd",
    "start": "2514319",
    "end": "2520319"
  },
  {
    "text": "get to your data in S3 but we've taken that kind of a step",
    "start": "2520319",
    "end": "2528640"
  },
  {
    "text": "further because let's say some parts of this VPC are private subnets you didn't want them to have a route to an internet",
    "start": "2528640",
    "end": "2534800"
  },
  {
    "text": "gateway but their data is nevertheless an S3 so what we've given you is a gateway that is specifically for S3 we",
    "start": "2534800",
    "end": "2543880"
  },
  {
    "text": "call this thing a VPC endpoint for S3 but what it really is is a gateway that",
    "start": "2543880",
    "end": "2549280"
  },
  {
    "text": "is you can see what you can see what this looks like it looks a little bit different than the other Gateway routes",
    "start": "2549280",
    "end": "2554720"
  },
  {
    "text": "in your route table but you can kind of Reason out what it's trying to do here if I'm trying to get to S3 the target's",
    "start": "2554720",
    "end": "2561640"
  },
  {
    "text": "going to be this VPC endpoint Gateway so it's a Gateway that's specifically to S3",
    "start": "2561640",
    "end": "2567240"
  },
  {
    "text": "no internet access needed and in fact some uh in fact some nice properties",
    "start": "2567240",
    "end": "2574000"
  },
  {
    "text": "here um your VPC end point for those of you familiar with I am",
    "start": "2574000",
    "end": "2579760"
  },
  {
    "text": "identity and access management the VPC endpoint itself can be given I am",
    "start": "2579760",
    "end": "2585559"
  },
  {
    "text": "policies that restrict what your VPC can do in S3 so if you want a restriction on",
    "start": "2585559",
    "end": "2591680"
  },
  {
    "text": "what your entire net what anybody in your network is allowed to do an S3 maybe you only want them to read and you don't want them to write maybe you want",
    "start": "2591680",
    "end": "2598359"
  },
  {
    "text": "to restrict them only to a particular bucket or a particular path in a bucket you can put policy on the VPC endpoint",
    "start": "2598359",
    "end": "2605200"
  },
  {
    "text": "to limit exactly what your VC can do in S3 and on the other side you can also",
    "start": "2605200",
    "end": "2612599"
  },
  {
    "text": "write I am policy on the S3 bucket now why would you do this you would do this",
    "start": "2612599",
    "end": "2619240"
  },
  {
    "text": "if you had an S3 bucket that would really belonged as part of the VPC so",
    "start": "2619240",
    "end": "2625040"
  },
  {
    "text": "you can make it so that only the VPC endpoint can reach this S3 bucket so",
    "start": "2625040",
    "end": "2630680"
  },
  {
    "text": "what you've done with this policy on both sides is you have your data in your S3 bucket it's really part of your",
    "start": "2630680",
    "end": "2636359"
  },
  {
    "text": "application you really want that bucket to be kind of part of your network and what you've done with this policy is",
    "start": "2636359",
    "end": "2642200"
  },
  {
    "text": "you've really brought your data almost into your VPC as part of your network so",
    "start": "2642200",
    "end": "2647400"
  },
  {
    "text": "this is the uh VPC endpoint for S3 now going back inside your network",
    "start": "2647400",
    "end": "2654440"
  },
  {
    "text": "one you know one very basic uh one very basic service of a network is domain",
    "start": "2654440",
    "end": "2661680"
  },
  {
    "text": "name resolution DNS now VPC does this for you there's",
    "start": "2661680",
    "end": "2666800"
  },
  {
    "text": "two options on the VPC to which you will probably say yes the first one is should Amazon do DNS resolution for you you can",
    "start": "2666800",
    "end": "2673599"
  },
  {
    "text": "run your own DNS in the VPC most of the vast majority of you won't will choose",
    "start": "2673599",
    "end": "2678640"
  },
  {
    "text": "to have us do it for you so we'll do DNS resolution for you also you generally want to say yes to this uh should your",
    "start": "2678640",
    "end": "2685599"
  },
  {
    "text": "ec2 instances get DNS names generated by AWS but if you do that you can actually",
    "start": "2685599",
    "end": "2693440"
  },
  {
    "text": "take and you're using Amazon provided DNS you actually get the keys to taking",
    "start": "2693440",
    "end": "2700240"
  },
  {
    "text": "even greater control of how DNS resolves DNS names resolve in your VPC without",
    "start": "2700240",
    "end": "2706359"
  },
  {
    "text": "operating a lick of DNS Machinery so what I'm showing you here is Route 53 Route 53 is Amazon's DNS service over in",
    "start": "2706359",
    "end": "2714920"
  },
  {
    "text": "Route 53 you can create something called a private hosted",
    "start": "2714920",
    "end": "2720000"
  },
  {
    "text": "Zone private hosted Zone lets you take over a Zone in your VPC here in this",
    "start": "2720000",
    "end": "2725520"
  },
  {
    "text": "example here I'm showing you demo hosted zone.org you don't have to own the domain I don't own that domain name you",
    "start": "2725520",
    "end": "2731240"
  },
  {
    "text": "can take over that domain name and be DNS God in your VPC you can see what I'm doing here I'm",
    "start": "2731240",
    "end": "2737640"
  },
  {
    "text": "creating an a record here so that example. Deemo hosted zone.org I'm telling it what it should resolve to",
    "start": "2737640",
    "end": "2743920"
  },
  {
    "text": "again I'm not operating a lick of DNS Machinery but I'm getting to create DNS records that work in my VPC and again",
    "start": "2743920",
    "end": "2751079"
  },
  {
    "text": "this is just something you turn off handsfree zero maintenance one final interplay with AWS",
    "start": "2751079",
    "end": "2758559"
  },
  {
    "text": "services that I want to point out is visibility right you know as an engineer being able to see the effects of what I",
    "start": "2758559",
    "end": "2764720"
  },
  {
    "text": "do is very very important to me and I'm going to guess that it's important to you too we have this feature of VPC it's",
    "start": "2764720",
    "end": "2772480"
  },
  {
    "text": "called VPC flow logs which if you turn it on and I'll show you how easy it is to turn it",
    "start": "2772480",
    "end": "2778119"
  },
  {
    "text": "on if you turn it on it gives you a full dump of all of the metadata so Source IP",
    "start": "2778119",
    "end": "2785520"
  },
  {
    "text": "and Port destination IP import protocol aggregated on a 10-minute basis",
    "start": "2785520",
    "end": "2790960"
  },
  {
    "text": "all of the data even all the data you're accepting and all of the data that you're security groups are rejecting all",
    "start": "2790960",
    "end": "2797160"
  },
  {
    "text": "of it in a in a single place that you can go and look at it now it is probably easy to think of",
    "start": "2797160",
    "end": "2805319"
  },
  {
    "text": "why you might want to do this there's troubleshooting there's debugging from a security perspective there's auditing",
    "start": "2805319",
    "end": "2811640"
  },
  {
    "text": "monitoring making sure the traffic is kind of what you expect there's all kinds of analysis that you can do on uh",
    "start": "2811640",
    "end": "2817760"
  },
  {
    "text": "on VPC flow logs and boy it's really easy to turn on in the VPC console",
    "start": "2817760",
    "end": "2823680"
  },
  {
    "text": "there's a button create flow log now those of you who've done something similar in a traditional",
    "start": "2823680",
    "end": "2829559"
  },
  {
    "text": "Network you know that you need something running on the host to collect the data you need something out there to aggregate it you need some sort of",
    "start": "2829559",
    "end": "2835800"
  },
  {
    "text": "system from which you can retrieve this information and analyze it this is pressing a button and you can see",
    "start": "2835800",
    "end": "2842200"
  },
  {
    "text": "everything that's going on in your VPC um and in fact let me show you what",
    "start": "2842200",
    "end": "2847760"
  },
  {
    "text": "you see if you turn on VPC flow logs just to give you an example of what you can get here um your eyes were probably",
    "start": "2847760",
    "end": "2854319"
  },
  {
    "text": "drawn to that one weren't they yeah we humans we we're interested in who gets rejected we don't care who gets accepted",
    "start": "2854319",
    "end": "2859800"
  },
  {
    "text": "right so over here um I've got it you see there's actually a lot of accept traffic here but I'm seeing that",
    "start": "2859800",
    "end": "2866480"
  },
  {
    "text": "um my security groups rejected something so what is this telling me okay it says",
    "start": "2866480",
    "end": "2872839"
  },
  {
    "text": "reject over here it's telling me that somebody is trying to hit my host on uh",
    "start": "2872839",
    "end": "2878040"
  },
  {
    "text": "UDP Port 53 many of you know that that's DNS somebody is trying to see if I'm running",
    "start": "2878040",
    "end": "2884119"
  },
  {
    "text": "a DNS server on this host which I'm not and my security groups do not allow this kind of traffic and that's why it got",
    "start": "2884119",
    "end": "2890200"
  },
  {
    "text": "rejected so who is this okay I can go do a reverse DNS on that IP address that's",
    "start": "2890200",
    "end": "2896280"
  },
  {
    "text": "who it is internet police. colia um and so you can see what you're",
    "start": "2896280",
    "end": "2901720"
  },
  {
    "text": "getting here right you can see what you're getting and you can see what you're not getting and for those of you",
    "start": "2901720",
    "end": "2906880"
  },
  {
    "text": "are curious if you're looking at the accept packets uh this is the pattern that you would see the flow lugs I'm",
    "start": "2906880",
    "end": "2912000"
  },
  {
    "text": "showing you here are from an ec2 instance that was sitting behind an application load balancer with an",
    "start": "2912000",
    "end": "2917800"
  },
  {
    "text": "application running on port 8080 so you can see that there's a lot of traffic between it and another address in my VPC",
    "start": "2917800",
    "end": "2924119"
  },
  {
    "text": "on port 8080 and that's legit right I want my load balancer to be able to hit this instance so that's correct traffic",
    "start": "2924119",
    "end": "2931760"
  },
  {
    "text": "my security groups are allowing it so you see a lot of accepts there",
    "start": "2931760",
    "end": "2936880"
  },
  {
    "text": "so to wrap up you know what have what have we just what have we just talked about in this last hour we've talked",
    "start": "2936880",
    "end": "2942760"
  },
  {
    "text": "about your network for your resources in AWS how you can how to do networking in",
    "start": "2942760",
    "end": "2948359"
  },
  {
    "text": "AWS we talked about high availability and availability zones and all of the AWS services that that applies to we",
    "start": "2948359",
    "end": "2955559"
  },
  {
    "text": "talked about security being able to being able to easily see and change who",
    "start": "2955559",
    "end": "2962880"
  },
  {
    "text": "can talk to whom in a very low maintenance way we talked to about being able to see everything that's going on",
    "start": "2962880",
    "end": "2968599"
  },
  {
    "text": "seeing the effect of these security groups with bpc flow logs we've also talked about all kinds",
    "start": "2968599",
    "end": "2974280"
  },
  {
    "text": "of connectivity most of you will be doing connectivity to the internet but there's also connectivity to your data",
    "start": "2974280",
    "end": "2980160"
  },
  {
    "text": "center with VPN and Direct Connect connectivity to other vpcs by way of VPC",
    "start": "2980160",
    "end": "2985400"
  },
  {
    "text": "peering connectivity to specifically to S3 with all the controls around that and",
    "start": "2985400",
    "end": "2990880"
  },
  {
    "text": "all of this is to give you a network that is visible flexible zero",
    "start": "2990880",
    "end": "2996720"
  },
  {
    "text": "maintenance and entirely under your control thank you very much uh we got",
    "start": "2996720",
    "end": "3001960"
  },
  {
    "text": "some evaluations here I would love if you fill those",
    "start": "3001960",
    "end": "3006400"
  },
  {
    "text": "out and a couple of other sessions um that I have called out here that are pertinent to networking if you are",
    "start": "3007480",
    "end": "3013720"
  },
  {
    "text": "curious all these things that I described if you're curious to get a look under the hood how this actually",
    "start": "3013720",
    "end": "3018920"
  },
  {
    "text": "works a little bit later today there's a talk net 401 another day another billion packets it's an advanced level talk but",
    "start": "3018920",
    "end": "3025520"
  },
  {
    "text": "we show you how all of this actually works okay thank you very much have a great rest of reinvent bye",
    "start": "3025520",
    "end": "3034240"
  }
]