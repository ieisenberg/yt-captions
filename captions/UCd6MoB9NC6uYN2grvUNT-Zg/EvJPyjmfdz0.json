[
  {
    "start": "0",
    "end": "197000"
  },
  {
    "text": "yes hi okay so morning everyone thanks very much for coming uh just uh we're going",
    "start": "1839",
    "end": "8440"
  },
  {
    "text": "to be talking about how we went from zero experience to 60 million player hours using Amazon web services with",
    "start": "8440",
    "end": "14519"
  },
  {
    "text": "actually very small team uh just to quickly introduce our company uh we work",
    "start": "14519",
    "end": "19680"
  },
  {
    "text": "for a company called Frontier we're based in Cambridge in the UK and we're an an independent video game developer",
    "start": "19680",
    "end": "25599"
  },
  {
    "text": "uh we've worked with Publishers uh for many many years a couple of decades actually uh to create PC and console",
    "start": "25599",
    "end": "32398"
  },
  {
    "text": "titles uh we've done this using our own engine so very much like Unreal Engine or krych engine um similar performance",
    "start": "32399",
    "end": "39239"
  },
  {
    "text": "to that uh 64-bit message based architecture we use it for all our rendering and I've got a great tools",
    "start": "39239",
    "end": "44760"
  },
  {
    "text": "framework for it um this is a screenshot from a launch title we did for uh",
    "start": "44760",
    "end": "49960"
  },
  {
    "text": "Microsoft for a game called connector which is a launch title for uh the connect system and you can see we can",
    "start": "49960",
    "end": "55320"
  },
  {
    "text": "aieve achieve AAA quality with it and produce system selling games uh but the real value in having our own technology",
    "start": "55320",
    "end": "61879"
  },
  {
    "text": "allows us to innovate in terms of gameplay because we truly believe that um you know it's the Innovative gameplay",
    "start": "61879",
    "end": "67400"
  },
  {
    "text": "that is the key to successful games uh however online gameplay experience that",
    "start": "67400",
    "end": "72799"
  },
  {
    "text": "we had up until a couple years ago was at literally zero um so we needed to over kind of",
    "start": "72799",
    "end": "79880"
  },
  {
    "text": "overcome that and we used a lot of Amazon web services help to do that uh and of course we'd also at the same time",
    "start": "79880",
    "end": "85200"
  },
  {
    "text": "noticed uh the opportunity for self-publishing and self-distributing game was particularly on the the",
    "start": "85200",
    "end": "92159"
  },
  {
    "text": "PC so taking a step back um where did our company start in the mid 1980s with",
    "start": "92159",
    "end": "97439"
  },
  {
    "text": "a gentl in the middle there David braen and his colleague Ian Bell wrote a game called Elite uh which is a",
    "start": "97439",
    "end": "103640"
  },
  {
    "text": "very famous game in its day um it was one of the very first 3D home computer",
    "start": "103640",
    "end": "108920"
  },
  {
    "text": "games and the very first what we will now call an open world game um so a game like GTA or Assassin's Creed this is the",
    "start": "108920",
    "end": "116039"
  },
  {
    "text": "very first one go anywhere do anything uh and as you can see you were in a a a line drawn Universe flying a spaceship",
    "start": "116039",
    "end": "123360"
  },
  {
    "text": "round uh in fact it was also the first game to use a technique called procedural generation and the massive uh",
    "start": "123360",
    "end": "129959"
  },
  {
    "text": "capacity of the computers of the day was the the computer it was launched on was a BBC micro and it actually had 22",
    "start": "129959",
    "end": "135599"
  },
  {
    "text": "kilobytes of ram so that's smaller than most emails we all received this morning uh and famously elite elite used every",
    "start": "135599",
    "end": "143800"
  },
  {
    "text": "literally every bit of that uh that memory to create this amazing Galaxy that people were essentially pretending",
    "start": "143800",
    "end": "150720"
  },
  {
    "text": "to be Han Solo in so they were they trading pirating um exploring around this this",
    "start": "150720",
    "end": "156239"
  },
  {
    "text": "galaxy so it's a game that we've always wanted to return to and there were a couple of sequels quite a while ago and",
    "start": "156239",
    "end": "162360"
  },
  {
    "text": "we definitely wanted to return to it in this uh in this Modern Age so we actually did a a Kickstarter um the real purpose of the",
    "start": "162360",
    "end": "170680"
  },
  {
    "text": "kickstarter yes money was great it was the highest Kickstarter as that was achieved at the time and and certainly",
    "start": "170680",
    "end": "176040"
  },
  {
    "text": "that was very useful funding but we put a lot more than than that amount to ourselves but it was also actually just",
    "start": "176040",
    "end": "181400"
  },
  {
    "text": "to to validate the the interest from people that that that were still there for the elite game and really",
    "start": "181400",
    "end": "187480"
  },
  {
    "text": "importantly to create a community of evangelist players for us during development and through to through to",
    "start": "187480",
    "end": "194239"
  },
  {
    "text": "launch so move on to our first boss level challenge okay so uh what we",
    "start": "194239",
    "end": "200840"
  },
  {
    "start": "197000",
    "end": "197000"
  },
  {
    "text": "really wanted to do was create a game that had the similar impact to Elite back in the day with today's GPU CPU",
    "start": "200840",
    "end": "207840"
  },
  {
    "text": "technology and of course Network connect ity and we want to make a massively multiplayer game and in fact uh DAV we",
    "start": "207840",
    "end": "215239"
  },
  {
    "text": "have a vision for this okay and this is the vision that we want to",
    "start": "215239",
    "end": "220120"
  },
  {
    "text": "[Music]",
    "start": "220970",
    "end": "232680"
  },
  {
    "text": "achieve welcome to a",
    "start": "236640",
    "end": "241760"
  },
  {
    "text": "[Music]",
    "start": "241760",
    "end": "246430"
  },
  {
    "text": "[Music]",
    "start": "249830",
    "end": "252959"
  },
  {
    "text": "[Music]",
    "start": "255750",
    "end": "258838"
  },
  {
    "text": "[Music]",
    "start": "262780",
    "end": "265990"
  },
  {
    "text": "[Music]",
    "start": "277570",
    "end": "282660"
  },
  {
    "text": "warning temperature critical",
    "start": "283039",
    "end": "287560"
  },
  {
    "text": "[Music]",
    "start": "316840",
    "end": "319930"
  },
  {
    "text": "[Music] first there was the game client written in our proprietary cob technology um and",
    "start": "332810",
    "end": "340360"
  },
  {
    "start": "335000",
    "end": "335000"
  },
  {
    "text": "that's great this needs to be multiplayer experience so we introduced another game client and they talk to each other using our in-house UDP",
    "start": "340360",
    "end": "347039"
  },
  {
    "text": "protocol it's it's a peer-to-peer protocol that's really fast and it carries all of the all of the momentto moment twitch gameplay traffic so we",
    "start": "347039",
    "end": "354720"
  },
  {
    "text": "have had another game client and they all established connections to each other and that they're all talking away but we need to tell people how they can",
    "start": "354720",
    "end": "361280"
  },
  {
    "text": "talk to each other and and when and indeed who to talk to so we have a shared game server we've called it Ed",
    "start": "361280",
    "end": "366400"
  },
  {
    "text": "server not not hugely imaginative but there we go so whenever people connect online they connect to the game server",
    "start": "366400",
    "end": "372240"
  },
  {
    "text": "the game server watches when they move around the Galaxy it um when they're about to get within visual range of each",
    "start": "372240",
    "end": "377960"
  },
  {
    "text": "other it t tells them to bring up the peer-to-peer connection they establish it and then off we go Ed serers pretty",
    "start": "377960",
    "end": "383880"
  },
  {
    "text": "fast we're we're pretty comfortable with its performance but sooner or later it gets full got so many players on it it can't really comfortably support anymore",
    "start": "383880",
    "end": "390840"
  },
  {
    "text": "so we needed to add another Ed server or two or dozens so we end up with um the",
    "start": "390840",
    "end": "398960"
  },
  {
    "text": "risk of having disjoint experiences this is supposed to be a joined up Galaxy after all so we introduced a shared",
    "start": "398960",
    "end": "404199"
  },
  {
    "text": "layer um a shared Galaxy if it were and obviously behind every shared Galaxy",
    "start": "404199",
    "end": "409319"
  },
  {
    "text": "there's a uh there's a successful set of shared data services uh so we've got Dynamo DB bit of IDs MySQL Amazon S3",
    "start": "409319",
    "end": "418520"
  },
  {
    "text": "reddis we love reddis quite like  to and we we wrap it all together",
    "start": "418520",
    "end": "424199"
  },
  {
    "text": "um using a PHP API that I'll talk about in some detail a bit later on and that's all deployed using Amazon's elastic",
    "start": "424199",
    "end": "430199"
  },
  {
    "text": "beant stalk but before we uh we get too carried away talking about some of the",
    "start": "430199",
    "end": "436199"
  },
  {
    "text": "uh the great tools and Technology rev used we need to take a step back and talk about some basic Network Services",
    "start": "436199",
    "end": "442520"
  },
  {
    "text": "so when the game clients are talking to our servers be Ed server or the shared Galaxy latency isn't so much of an issue",
    "start": "442520",
    "end": "449639"
  },
  {
    "text": "because it's a server request and we've designed it so that whilst it'd be nice to get it over and done within 50 milliseconds it's only really a problem",
    "start": "449639",
    "end": "456039"
  },
  {
    "text": "if it starts to take seconds rather than dozens of seconds but the peer-to-peer connections they carry all of the",
    "start": "456039",
    "end": "462800"
  },
  {
    "text": "network traffic of which ship's pointing which direction who's just fired a laser up who that sort of thing so latency is",
    "start": "462800",
    "end": "469280"
  },
  {
    "text": "very important there so we need to provide some services to make sure that people get a really good",
    "start": "469280",
    "end": "474680"
  },
  {
    "text": "experience and so we start off with our our game client and unfort they're",
    "start": "474680",
    "end": "479919"
  },
  {
    "text": "behind a firewall or they might behind a Nat restrictive router yay n yeah um so",
    "start": "479919",
    "end": "487879"
  },
  {
    "text": "uh in order to help um with UDP nap traval um we provide some basic Network",
    "start": "487879",
    "end": "493960"
  },
  {
    "text": "relay Services uh so we've built a package up uh based on Amazon minimal L Linux uh and we use uh an open source um",
    "start": "493960",
    "end": "502319"
  },
  {
    "text": "turn server which provide stun and Turn Services I won't talk about them in detail they're just Network basic",
    "start": "502319",
    "end": "507960"
  },
  {
    "text": "Services um and we host those in various availability",
    "start": "507960",
    "end": "513000"
  },
  {
    "text": "zones um but there's no point setting up Network relay servers just in one availability Zone because latency is",
    "start": "513000",
    "end": "519839"
  },
  {
    "text": "sensitive and if we've got two players in in Australia routing their Network traffic bya bya Dublin would perhaps not",
    "start": "519839",
    "end": "524959"
  },
  {
    "text": "give them the best experience so we've set up um clusters of these relay",
    "start": "524959",
    "end": "530720"
  },
  {
    "text": "servers around the world so the example here is we've got one in in Ireland we've got one in one in Australia we",
    "start": "530720",
    "end": "536560"
  },
  {
    "text": "have some others dotted around as well but we needed a mechan mechanism for Distributing players to the closest one",
    "start": "536560",
    "end": "541880"
  },
  {
    "text": "to them and that's closest on the internet not necessarily closest geographically so this was where Amazon",
    "start": "541880",
    "end": "547720"
  },
  {
    "text": "Route 53 came to the rescue it's a really simple little system but it's incredibly powerful latency based",
    "start": "547720",
    "end": "553120"
  },
  {
    "text": "routing whenever a one of our Network relay Services starts up it registers itself in Route 53 Route 53 knows where",
    "start": "553120",
    "end": "560440"
  },
  {
    "text": "that is on the internet and so when somebody comes along and says give me a turn server Route 53 says yeah have this",
    "start": "560440",
    "end": "566800"
  },
  {
    "text": "one it's closest to you but one one relay server isn't really going to quite quite be enough",
    "start": "566800",
    "end": "572519"
  },
  {
    "text": "because sooner or later we'd exhaust the network throughput of a single ec2 100 Megs gets us a lot of network relay but",
    "start": "572519",
    "end": "578920"
  },
  {
    "text": "we've got a few players as well so we published some load B some",
    "start": "578920",
    "end": "584800"
  },
  {
    "text": "load metrics up to cloudwatch for each individual cluster of network relay",
    "start": "584800",
    "end": "590480"
  },
  {
    "text": "servers straightforward cloudwatch alarm when the alarm gets triggered scales out another instance the uh launch",
    "start": "590480",
    "end": "597120"
  },
  {
    "text": "configuration fires up spawns up a new ec2 user data comes along bootstraps the process registers itself at Route 53",
    "start": "597120",
    "end": "603680"
  },
  {
    "text": "starts picking up the load so that's Network relay Services",
    "start": "603680",
    "end": "609839"
  },
  {
    "start": "607000",
    "end": "607000"
  },
  {
    "text": "out out of the way so the game servers themselves this is this is where the money lies this is this is really where",
    "start": "609839",
    "end": "615399"
  },
  {
    "text": "a lot of the uh the engineering went in so we'll start off with a core Basics",
    "start": "615399",
    "end": "620440"
  },
  {
    "text": "and then we'll build up layers of how we we automated this and we made it into a production environment so we started off",
    "start": "620440",
    "end": "626800"
  },
  {
    "text": "with a ec2 instance so far so straightforward as it happens we're using c3s but um it's for various",
    "start": "626800",
    "end": "634680"
  },
  {
    "text": "reasons so we have a build on there in this case it's uh it's EU server number",
    "start": "634680",
    "end": "640079"
  },
  {
    "text": "19 um but we needed a way to get the build onto this particular server so we",
    "start": "640079",
    "end": "645279"
  },
  {
    "text": "upload our bills to Amazon S3 um then we have a watchdog script whose job is to",
    "start": "645279",
    "end": "650760"
  },
  {
    "text": "sit there watching it's its bucket and its prefix saying well I I need to watch this one when we say all right release",
    "start": "650760",
    "end": "656720"
  },
  {
    "text": "this bill to this environment the Watchdog comes along says oh right take the build shut down the old server deploy the new build start it all back",
    "start": "656720",
    "end": "663160"
  },
  {
    "text": "up again the Watchdog also deals with identity uh we needed to make sure that our servers had no identity baked into",
    "start": "663160",
    "end": "670360"
  },
  {
    "text": "them they had to pick it up as they go so they also use ec2 tags we all like tags they're great um so that makes",
    "start": "670360",
    "end": "678040"
  },
  {
    "text": "calls to the ec2 management API just to go and fetch its tags go and describe the tags off the",
    "start": "678040",
    "end": "684639"
  },
  {
    "text": "go however servers have health they have loads they have certain performance character itics that we're really",
    "start": "684639",
    "end": "690040"
  },
  {
    "text": "interested in logging um we're developers we like logging all of the things all of the time um and sooner or",
    "start": "690040",
    "end": "695519"
  },
  {
    "text": "later we want to set up some rules based on some of those things so we watched some metrics it takes some performance",
    "start": "695519",
    "end": "701040"
  },
  {
    "text": "details and those get published up to Amazon cloudwatch so the graph that I've shown on the corner of the uh screen",
    "start": "701040",
    "end": "707160"
  },
  {
    "text": "shows the number of players on one particular server instance against the frames per second it's just just a load",
    "start": "707160",
    "end": "712839"
  },
  {
    "text": "average and we can see there a very clear relationship busy server is is relatively slow so",
    "start": "712839",
    "end": "719800"
  },
  {
    "text": "one of the really powerful and also quite simple features of cloudwatch is that it lets you aggregate metrics over",
    "start": "719800",
    "end": "725880"
  },
  {
    "text": "a whole dimension so if we've got all of the Ed servers from the EU cluster all",
    "start": "725880",
    "end": "731240"
  },
  {
    "text": "publishing to this EU metric then cloudwatch will just let us query a five minute moving mean of the average FPS",
    "start": "731240",
    "end": "738079"
  },
  {
    "text": "across the entire cluster when the average FPS gets a bit low well we'll we'll trigger an auto scale Out Create",
    "start": "738079",
    "end": "743519"
  },
  {
    "text": "some more new servers have have no load so that really fast brings the average back up again they pick up the load down",
    "start": "743519",
    "end": "749680"
  },
  {
    "text": "it's all really seamless and it just worked which was which was excellent so these Auto scaling rules they run for a",
    "start": "749680",
    "end": "756279"
  },
  {
    "text": "while and soon or L you would get a whole bunch of our game servers running up loads and loads of capacity then a",
    "start": "756279",
    "end": "762000"
  },
  {
    "text": "new player flies along goes well I I server please give me um so this is",
    "start": "762000",
    "end": "767279"
  },
  {
    "text": "where the shared API comes in this is this is really where the shared Galaxy starts to take form so the part of the",
    "start": "767279",
    "end": "774639"
  },
  {
    "text": "shared Galaxy API is a session directory players hold sessions open on Ed service",
    "start": "774639",
    "end": "781000"
  },
  {
    "text": "for various reasons and this just keeps track of of who's where and who's doing what so this player example here they're",
    "start": "781000",
    "end": "788399"
  },
  {
    "text": "they're from the United Kingdom in the which is on the EU continent so the EU region would be a best match for them",
    "start": "788399",
    "end": "794760"
  },
  {
    "text": "they're just traveled to the Barnard star star system and the player would quite like to meet other players who are also in that star system so we look up",
    "start": "794760",
    "end": "801480"
  },
  {
    "text": "in our database see that server E3 well that's got most of the players from the barard sty system sty system on it so",
    "start": "801480",
    "end": "807440"
  },
  {
    "text": "yeah we we'll give you that one so so far so good so our we have players",
    "start": "807440",
    "end": "816560"
  },
  {
    "start": "811000",
    "end": "811000"
  },
  {
    "text": "all over the world in all of the time zones that we found and then some but the average load it goes up and it goes",
    "start": "816560",
    "end": "823279"
  },
  {
    "text": "down over the course of a day so it's quite nice to be able to terminate some instances as well as just start them up and because we really really can't",
    "start": "823279",
    "end": "830639"
  },
  {
    "text": "terminate a server that somebody's busy using because nobody likes hyperspace to the main menu um we have to be very",
    "start": "830639",
    "end": "836079"
  },
  {
    "text": "careful to drain server connections before we terminate an instance and that means we need to have really really fine",
    "start": "836079",
    "end": "841240"
  },
  {
    "text": "control over exactly which instance gets terminated and when it really can't come as a surprise to",
    "start": "841240",
    "end": "846320"
  },
  {
    "text": "us so we made the decision to stack up servers fairly intelligently up to their",
    "start": "846320",
    "end": "852199"
  },
  {
    "text": "load capacities we we had an idea about how much um load an individual server can",
    "start": "852199",
    "end": "857519"
  },
  {
    "text": "support so the graph I'm about to show you there's one line for each um server",
    "start": "857519",
    "end": "864279"
  },
  {
    "text": "instance this is from ear on in our beta process last year so we have several do",
    "start": "864279",
    "end": "869480"
  },
  {
    "text": "Game servers at the moment and each line just shows us roughly how many players are on there and then you can see what happened when we switched over our load",
    "start": "869480",
    "end": "875560"
  },
  {
    "text": "balancer from just sharing the load evenly it's great for reliability but not so great for meeting other players in space and then we instantly started",
    "start": "875560",
    "end": "882800"
  },
  {
    "text": "stacking players up to the capacities and that gave people a really good matchmaking experience and it also gave",
    "start": "882800",
    "end": "888040"
  },
  {
    "text": "us a much much easier Target for terminating idle servers which really helps our low",
    "start": "888040",
    "end": "894639"
  },
  {
    "text": "balancing so architecture diagrams we've escaped so far without them but they they're uh they're useful they're great",
    "start": "894639",
    "end": "902040"
  },
  {
    "start": "895000",
    "end": "895000"
  },
  {
    "text": "so our shared um API it's written in PHP it's deployed using the elastic beant",
    "start": "902040",
    "end": "907199"
  },
  {
    "text": "stalk so all of the autoscaling magic that just comes with the beant stalk it's it's it's all there we're all using it we might have custom customized the",
    "start": "907199",
    "end": "914279"
  },
  {
    "text": "init script a little bit but yeah what can you do um but because it's an autoscaling group each individual web",
    "start": "914279",
    "end": "920880"
  },
  {
    "text": "server has to be considered disposable yes we use the instant storage quite a lot because it's really fast but we",
    "start": "920880",
    "end": "926240"
  },
  {
    "text": "can't store anything on there long term if it goes if that's storage goes away we can't we can't cry over it so we have",
    "start": "926240",
    "end": "931920"
  },
  {
    "text": "a whole bunch of shared data services for various different data types so the PHP talks Amazon S3 talks to Dynamo DB",
    "start": "931920",
    "end": "940120"
  },
  {
    "text": "bit of MC um running in RDS in a multi availability Zone and redis loads and",
    "start": "940120",
    "end": "946120"
  },
  {
    "text": "loads of reddis redis is great we also run our own mongodb cluster I'll come on to that shortly because that's that's",
    "start": "946120",
    "end": "952399"
  },
  {
    "text": "not a managed service we set that one up ourselves using ec2 instances but running a Galaxy it's not",
    "start": "952399",
    "end": "959360"
  },
  {
    "text": "all about running transactions yes there's an awful lot of uh of single point of Truth so that the API says yes",
    "start": "959360",
    "end": "964839"
  },
  {
    "text": "you're allowed to do that no you're not allowed to do that but there's also a certain amount of simulation that has to go on behind the scenes just to sync",
    "start": "964839",
    "end": "971000"
  },
  {
    "text": "things up and make it a really Dynamic Galaxy so we have a background processor this shares a lot of the code with the",
    "start": "971000",
    "end": "977040"
  },
  {
    "text": "PHP stack but because its workload is very very predictable um it just runs on",
    "start": "977040",
    "end": "982519"
  },
  {
    "text": "a single E2 instance off to the side somewhere has a couple of CPU calls and it just gets on with it so it shares the",
    "start": "982519",
    "end": "987920"
  },
  {
    "text": "code shares the data ser services but it doesn't run on the live bean stock now our plat our game is a",
    "start": "987920",
    "end": "994120"
  },
  {
    "text": "crossplatform release it runs on PC Mac and Xbox at the moment and the API tries",
    "start": "994120",
    "end": "999600"
  },
  {
    "text": "really hard to not care about what version of the game client it is it's just a restful https request so we have",
    "start": "999600",
    "end": "1005959"
  },
  {
    "text": "token based authentication every we web request comes in has some headers on it says yeah I I this is my identity this",
    "start": "1005959",
    "end": "1011880"
  },
  {
    "text": "is who I am um but because we don't trust our game clients because people like something for nothing we have to go",
    "start": "1011880",
    "end": "1017120"
  },
  {
    "text": "and check those claims so the um shared API also talks to external",
    "start": "1017120",
    "end": "1022319"
  },
  {
    "text": "authentication mechanisms both our own platform and Xbox",
    "start": "1022319",
    "end": "1027679"
  },
  {
    "text": "One so along the way we found a number of things that did go as we had imagined but there was a few things that took us",
    "start": "1027959",
    "end": "1033720"
  },
  {
    "start": "1028000",
    "end": "1028000"
  },
  {
    "text": "by surprise and so we thought we'd share them so it doesn't take you all by surprise so the first thing was when it",
    "start": "1033720",
    "end": "1039240"
  },
  {
    "text": "came to a straightforward thing starting up an ec2 terminating an ec2 we know exactly which one's going to close close",
    "start": "1039240",
    "end": "1045400"
  },
  {
    "text": "down right well it turns out not so much um an autoscaling group it seems really",
    "start": "1045400",
    "end": "1050440"
  },
  {
    "text": "straightforward and simple when you view it through the administration console but there's actually a whole bunch of worker processes behind the scenes that",
    "start": "1050440",
    "end": "1056520"
  },
  {
    "text": "are working really hard just to keep everything in tip toop condition one of those is availability Zone rebalancer if",
    "start": "1056520",
    "end": "1062880"
  },
  {
    "text": "it turns out that we've terminated loads of instances and Avail in availability Zone C then the rebalancer came along",
    "start": "1062880",
    "end": "1068840"
  },
  {
    "text": "terminated a few in a andb and sparked up a few more in C which was a bit inconvenient for the players using it at the time so whenever we create a new",
    "start": "1068840",
    "end": "1075799"
  },
  {
    "text": "autoscaling group we we we make sure we disable that particular background process and when we terminate an",
    "start": "1075799",
    "end": "1081840"
  },
  {
    "text": "instance we ask the autoscaler to terminate it for us that way it doesn't go and start it straight back up again when it notices we we a server",
    "start": "1081840",
    "end": "1089080"
  },
  {
    "text": "down I mentioned we used ec2 tags for the identity for our game servers um so",
    "start": "1089080",
    "end": "1094360"
  },
  {
    "text": "it turns out that when you have several dozen um Game servers all polling for tags every few minutes um there's a rate",
    "start": "1094360",
    "end": "1100159"
  },
  {
    "text": "limit on the uh ec2 API and you can lock yourself out of your own web admin console that wasn't so",
    "start": "1100159",
    "end": "1107520"
  },
  {
    "text": "great uh so so we worked around that one so we now have a cach of those tags around cating them dynamically every",
    "start": "1107520",
    "end": "1112919"
  },
  {
    "text": "time we we do it and we've also engineered it to fail so a request um times out we we just back off a little",
    "start": "1112919",
    "end": "1118360"
  },
  {
    "text": "bit wait a couple of seconds didn't work well we'll try a few seconds longer and and it's just just a lot more forgiving",
    "start": "1118360",
    "end": "1123400"
  },
  {
    "text": "so therefore when you lock yourself out your admin console Mash reload enough times you get it back in again we also used php's composer Li um",
    "start": "1123400",
    "end": "1131520"
  },
  {
    "text": "uh mechanism for all of our dependencies we have a number of libraries of our own those libraries may have dependencies those dependencies have dependencies for",
    "start": "1131520",
    "end": "1138840"
  },
  {
    "text": "ages we were um running composer at deploy time which was really great from a just a dynamic Agile development",
    "start": "1138840",
    "end": "1144600"
  },
  {
    "text": "experience but if it turns out that one one of those dependencies is on a server that's just gone for a cup of tea um",
    "start": "1144600",
    "end": "1150640"
  },
  {
    "text": "then you can be rolling out instances on the beant stalk and they they just not working so we host a cache of our PP PHP",
    "start": "1150640",
    "end": "1159080"
  },
  {
    "text": "composer um library on Amazon S3 and that turned out just work really well it's much",
    "start": "1159080",
    "end": "1164840"
  },
  {
    "text": "faster we also learned early on that it was great to store orchestration and configuration data in Source control",
    "start": "1164840",
    "end": "1171559"
  },
  {
    "text": "that not only does it save time so we humans are prone to error we we don't like clicking through checklists it's",
    "start": "1171559",
    "end": "1177200"
  },
  {
    "text": "not fun we've got computers to do that for us but it also speeds things up for Disaster Recovery plans you do all have",
    "start": "1177200",
    "end": "1182840"
  },
  {
    "text": "Disaster Recovery plans I'm assuming so when you run through them it's nice to be able to just do a subversion checkout",
    "start": "1182840",
    "end": "1189880"
  },
  {
    "text": "and there there comes your server environment and there's the code that plays into it and there's the data that plays into it hey Presto instant Galaxy",
    "start": "1189880",
    "end": "1196360"
  },
  {
    "text": "it wasn't that simple but we got there in the end so I've mentioned a whole bunch of different data services but I wanted to",
    "start": "1196360",
    "end": "1202200"
  },
  {
    "start": "1198000",
    "end": "1198000"
  },
  {
    "text": "mention a little bit about why we had a number of different data services so we started off with PHP and MySQL so far so",
    "start": "1202200",
    "end": "1208440"
  },
  {
    "text": "web development because myql it has has acid transactions we don't want to risk",
    "start": "1208440",
    "end": "1213960"
  },
  {
    "text": "players progress people really like to keep the credits they've earned they really like to stay alive so anything",
    "start": "1213960",
    "end": "1219440"
  },
  {
    "text": "that's relational where we have foreign keys that all goes into my scr and it's really good in high performance but some",
    "start": "1219440",
    "end": "1225039"
  },
  {
    "text": "of our our data such as how how do you describe a Starship what what modules have they installed how many how many",
    "start": "1225039",
    "end": "1230520"
  },
  {
    "text": "missiles have they got left in their in their missile pods that would be quite extensive to describe in MySQL so we",
    "start": "1230520",
    "end": "1236200"
  },
  {
    "text": "decided that a document store was a much better fit for that yes it's it's no SQL but we Ed mongod DB but that meant we",
    "start": "1236200",
    "end": "1243760"
  },
  {
    "text": "needed a mongod DB so we set up a mongod DB cluster or two or three or four on ec2 instances so",
    "start": "1243760",
    "end": "1251960"
  },
  {
    "start": "1247000",
    "end": "1247000"
  },
  {
    "text": "we use C3 nodes uh there's two reasons for that um the first is they got really good um kind of processor efficiency but",
    "start": "1251960",
    "end": "1258600"
  },
  {
    "text": "they've also got lots of instant storage and we like instant storage a lot but obviously we don't store anything we care about on it because that leads to",
    "start": "1258600",
    "end": "1264880"
  },
  {
    "text": "disappointment so at the moment we're using uh just a single EBS volume uh",
    "start": "1264880",
    "end": "1270919"
  },
  {
    "text": "general purpose so burst EO and for a while we were struggling with IO throughput we didn't want to go down the",
    "start": "1270919",
    "end": "1276799"
  },
  {
    "text": "provision iops route unless we really really had to but turns out that mongod db3 um 3.0 came along it just just hit",
    "start": "1276799",
    "end": "1284840"
  },
  {
    "text": "release quality just in time for us to use it and it has a new storage engine called wired tiger and that has built-in",
    "start": "1284840",
    "end": "1292080"
  },
  {
    "text": "compression which really really cut down on the amount of iops we were we were pushing out and that meant that the",
    "start": "1292080",
    "end": "1297360"
  },
  {
    "text": "bursty nature of general purpose SSD was perfect for us we found that uh the mongodb replica sets they just worked",
    "start": "1297360",
    "end": "1304360"
  },
  {
    "text": "out of the box set them up off the go replication multimaster choosing elections it all just works until the",
    "start": "1304360",
    "end": "1311080"
  },
  {
    "text": "primary dies and then we left with three availability zones now we're down to two and then we got two servers having a",
    "start": "1311080",
    "end": "1316320"
  },
  {
    "text": "vote they both voted for each other and you get two primaries and then then nobody wants that so",
    "start": "1316320",
    "end": "1322799"
  },
  {
    "text": "thankfully mongodb thought of that one and so there are as an Arbiter instance",
    "start": "1322799",
    "end": "1327919"
  },
  {
    "text": "it runs on a T1 micro runs nothing but  it's got no data storage in it and all it does is it helps out with",
    "start": "1327919",
    "end": "1333679"
  },
  {
    "text": "elections just so there's always an odd number it's really vital when you're running any sort of database cluster or or in fact any sort of",
    "start": "1333679",
    "end": "1340159"
  },
  {
    "text": "cluster we've tried a number of different backup strategies um and the one that's worked for us is to have an",
    "start": "1340159",
    "end": "1346360"
  },
  {
    "text": "actual secondary node that takes all of the replication traffic and stays completely up to date but it's marked as",
    "start": "1346360",
    "end": "1352320"
  },
  {
    "text": "hidden in the replica sect which means it never actually serves any production traffic so what that means that it's",
    "start": "1352320",
    "end": "1357600"
  },
  {
    "text": "always up to date until it comes to be backup time then we simply switch off mongod and back up from one EBS volume",
    "start": "1357600",
    "end": "1365520"
  },
  {
    "text": "to another so there's no IO contention that gives us a nice flat file that we can just upload to Amazon S3 start up",
    "start": "1365520",
    "end": "1370720"
  },
  {
    "text": " again the oplog plays back in and that's then back up to date ready for later",
    "start": "1370720",
    "end": "1376559"
  },
  {
    "text": "on we did have to EXP a little bit with the instance sizes that we used for the various nodes because as our",
    "start": "1376559",
    "end": "1382640"
  },
  {
    "text": "players wax and Wayne so did our databases and rather than just adding lots of replica sets and taking them away we discovered it's better to scale",
    "start": "1382640",
    "end": "1388720"
  },
  {
    "text": "up and back down again individual instances um but rather than breaking apart and rebuilding the uh replica set",
    "start": "1388720",
    "end": "1395640"
  },
  {
    "text": "every time we found it was really useful to set up some well-known names and then we'll just change the IP addresses of those so again Route 53 in internal it",
    "start": "1395640",
    "end": "1402760"
  },
  {
    "text": "just gave well-known names to keep replication working fine one final note on we had be a",
    "start": "1402760",
    "end": "1408840"
  },
  {
    "text": "little bit careful with the way that we set up our PHP code to be really careful for watching for timeouts so we've got a",
    "start": "1408840",
    "end": "1414880"
  },
  {
    "text": "distributed transaction where somebody spend some credits to buy a ship we don't want one half the transaction to work and the other to fail and the",
    "start": "1414880",
    "end": "1420799"
  },
  {
    "text": "player to be left with neither credits nor ship so we have to be careful to always roll back into the player favor let's spend a little bit of time",
    "start": "1420799",
    "end": "1426720"
  },
  {
    "text": "engineering for that so good job SMY",
    "start": "1426720",
    "end": "1433919"
  },
  {
    "start": "1428000",
    "end": "1428000"
  },
  {
    "text": "pants uh so we appears we have a multiplayer game well done uh so what we",
    "start": "1433919",
    "end": "1439400"
  },
  {
    "text": "really want to do is kind of set this game in a real onetoone sized Milky Way",
    "start": "1439400",
    "end": "1444760"
  },
  {
    "text": "galaxy because we want to really differentiate ourselves and yeah there's no point having kind of random madeup Galaxy want want to be real I want to be",
    "start": "1444760",
    "end": "1450600"
  },
  {
    "text": "compelled I want to be able to fly into the galactic core and see nothing but Stars around me I want to see everything",
    "start": "1450600",
    "end": "1456520"
  },
  {
    "text": "orbiting in a majestic Cosmic ballet Majestic Cosmic ballet okay and I've got a vision for that you''ll be pleased to",
    "start": "1456520",
    "end": "1462640"
  },
  {
    "text": "hear",
    "start": "1462640",
    "end": "1465640"
  },
  {
    "text": "[Music]",
    "start": "1476110",
    "end": "1486319"
  },
  {
    "text": "this is some time lapse photography from one of our players took in the game so you can see the Majestic Cosmic ballet",
    "start": "1492799",
    "end": "1497840"
  },
  {
    "text": "in action which is good news uh so the good news D is that I",
    "start": "1497840",
    "end": "1503120"
  },
  {
    "text": "actually know a little bit about uh Galactic formation and uh I know",
    "start": "1503120",
    "end": "1508919"
  },
  {
    "text": "everyone else here knows this but just a recap of Galactic formation 101 so we all know that",
    "start": "1508919",
    "end": "1514840"
  },
  {
    "text": "um you know the the G galaxies are formed from uh Interstellar gases that there's basically slight ripples in",
    "start": "1514840",
    "end": "1521279"
  },
  {
    "text": "terms of density and and features start to form and then microscopic kind of grainers of sand start to Clump together",
    "start": "1521279",
    "end": "1526799"
  },
  {
    "text": "and then gravity acts and these things such that they they start orbiting and colliding and whirling around each",
    "start": "1526799",
    "end": "1532559"
  },
  {
    "text": "other um you eventually get to a situation where all this is happening and the the young Stellar object at the",
    "start": "1532559",
    "end": "1537679"
  },
  {
    "text": "the start of this is is all the center of all this stuff is so um large it starts self compress and ignites um in",
    "start": "1537679",
    "end": "1544640"
  },
  {
    "text": "nuclear fusion resulting solar winds blow away all the non-bound uh gases uh",
    "start": "1544640",
    "end": "1550200"
  },
  {
    "text": "and you can see the kind of Shadows there are our shadows from from planetary objects and then obviously you",
    "start": "1550200",
    "end": "1556120"
  },
  {
    "text": "know millions of years past with all these things putting around each other colliding um sticking together in some",
    "start": "1556120",
    "end": "1561600"
  },
  {
    "text": "cases um and so on and also the other good news is that we know that there are about 160,000 observable Stars uh from",
    "start": "1561600",
    "end": "1569399"
  },
  {
    "text": "Earth so we can we can have all those for free from all the different uh star cataloges uh and also we can sample the",
    "start": "1569399",
    "end": "1576440"
  },
  {
    "text": "the mass density of the of the Galaxy as we know it and also what we know of the chemical composition of the Galaxy so um",
    "start": "1576440",
    "end": "1583760"
  },
  {
    "text": "so it should be pretty easy so over to you",
    "start": "1583760",
    "end": "1588440"
  },
  {
    "text": "so thankfully there were a great number of very clever developers back on our team back in Cambridge and some of them",
    "start": "1590360",
    "end": "1596000"
  },
  {
    "text": "have a great background in theoretical physics maths and so on so what we've got on screen here now is a",
    "start": "1596000",
    "end": "1602360"
  },
  {
    "text": "visualization in Excel from our Stell Forge simulation this is a it's a",
    "start": "1602360",
    "end": "1608080"
  },
  {
    "text": "consistent simulation that gives us a onetoone scale model of the Galaxy and this was a screenshot taken during some",
    "start": "1608080",
    "end": "1614200"
  },
  {
    "text": "early prototyping gave us really quick feedback and let us iterate quite quickly and it showing is that we're getting not just stars but we had we had",
    "start": "1614200",
    "end": "1621159"
  },
  {
    "text": "moons we had ring systems it was giving us binary star systems all the way",
    "start": "1621159",
    "end": "1626240"
  },
  {
    "text": "through through the Galaxy but this wasn't just oh you've got a star here and a moon here it was a really really",
    "start": "1626240",
    "end": "1631480"
  },
  {
    "text": "in-depth scientific simulation of the chemical composition of that so it also gave us things like how big is it what's the surface temperature what's the",
    "start": "1631480",
    "end": "1637640"
  },
  {
    "text": "atmosphere of that Moon um how how often how often are we likely to get volcanoes how deep is the sea going to be it's",
    "start": "1637640",
    "end": "1643520"
  },
  {
    "text": "we've got a really good um set of data to draw upon if we actually need to",
    "start": "1643520",
    "end": "1648679"
  },
  {
    "text": "uh and whilst Excel is all very well and good for uh the design team it's perhaps not so great for the end Gamers so this",
    "start": "1648679",
    "end": "1654200"
  },
  {
    "text": "is what it looks like when it's rendered in our in our system view uh which we were really quite happy",
    "start": "1654200",
    "end": "1661039"
  },
  {
    "text": "with so um this gives us a on toone scale view of the Galaxy but players like to go and do things in that Galaxy",
    "start": "1661039",
    "end": "1667960"
  },
  {
    "start": "1666000",
    "end": "1666000"
  },
  {
    "text": "and before we do that we need to talk a little bit about why we use different data um data stores I'll come on to this in a little bit building blocks we'll",
    "start": "1667960",
    "end": "1674080"
  },
  {
    "text": "use the building blocks so I mentioned ec2 SSD storage quite a bit so far and we like it a lot because it's really",
    "start": "1674080",
    "end": "1680159"
  },
  {
    "text": "fast it's not on the end of an ethernet connection it's as close to our virtual CPU as we're ever going to get so we use",
    "start": "1680159",
    "end": "1685600"
  },
  {
    "text": "that to hold on to copies of data that are not likely to change and are not likely to be different between individual web servers in that cluster",
    "start": "1685600",
    "end": "1692640"
  },
  {
    "text": "when we need a fast cach of things that might that have to be consistent so things that can change we fall back on",
    "start": "1692640",
    "end": "1697720"
  },
  {
    "text": "elasticache reddis as a straightforward caching mechanism we also use reddit's structure data services but I'll come on",
    "start": "1697720",
    "end": "1703240"
  },
  {
    "text": "to that later on my S and I've already talked about uh for data that changes is very very rarely but we read",
    "start": "1703240",
    "end": "1709919"
  },
  {
    "text": "quite often that's that's a great choice for Amazon S3 where eventual consistency is absolutely just fine with us and",
    "start": "1709919",
    "end": "1716440"
  },
  {
    "text": "finally when we want something to be really really consistent we ask our simulation code that will always give us the same answer every time but it costs",
    "start": "1716440",
    "end": "1723039"
  },
  {
    "text": "us a certain amount of CPU so it's it's an act of Last Resort even MySQL acts as a cach for Stella Forge with number of",
    "start": "1723039",
    "end": "1729399"
  },
  {
    "text": "rows in the database table one of the key tenants for keeping everything um really fast and responsive",
    "start": "1729399",
    "end": "1736320"
  },
  {
    "text": "was we're only going to store interesting data now this seems a little bit simple but to us something is interesting when a",
    "start": "1736320",
    "end": "1742480"
  },
  {
    "text": "player has interacted with it whether it's player progression nobody liks risking player progression or it's been",
    "start": "1742480",
    "end": "1747519"
  },
  {
    "text": "changed away from its default State and I'll come on to that default State because it's quite important to the way",
    "start": "1747519",
    "end": "1752600"
  },
  {
    "text": "that we've run our galaxy yeah sorry yeah is that better",
    "start": "1752600",
    "end": "1760760"
  },
  {
    "start": "1753000",
    "end": "1753000"
  },
  {
    "text": "better yes okay so um we have our massive multiplayer game we're now set in a a onetoone representation of the",
    "start": "1760760",
    "end": "1766519"
  },
  {
    "text": "Milky Way galaxy clearly I want my players to be able to do something in that Galaxy I want them to be able to",
    "start": "1766519",
    "end": "1771640"
  },
  {
    "text": "kind of explore find new star systems that have never been discovered before I want them to get credit for that Discovery in the game both in terms of",
    "start": "1771640",
    "end": "1778480"
  },
  {
    "text": "actually in-game credits and their name in lights in in the game as well um I",
    "start": "1778480",
    "end": "1783559"
  },
  {
    "text": "want them to be able to go between different star systems and trade things between different star systems perhaps uh yes selling buying food cheap in one",
    "start": "1783559",
    "end": "1791320"
  },
  {
    "text": "place taking to another place selling it for a profit and and so on and I I want this to be a dynamic Market I want a",
    "start": "1791320",
    "end": "1798320"
  },
  {
    "text": "Galactic wide commodity Market simulation so I want every trade that every player does to affect the price of",
    "start": "1798320",
    "end": "1806000"
  },
  {
    "text": "uh the commodity that they're trading and obviously I want them to be able to do something with that as well I want them to be out to be able to upgrade",
    "start": "1806000",
    "end": "1811480"
  },
  {
    "text": "their ship better engines better weapons new pirate paint job if they want for example or indeed new ships new fleets",
    "start": "1811480",
    "end": "1817640"
  },
  {
    "text": "of ships so expiration the data set that",
    "start": "1817640",
    "end": "1823080"
  },
  {
    "text": "just keeps on growing so I've mentioned that we've got 400 billion star systems",
    "start": "1823080",
    "end": "1828159"
  },
  {
    "text": "and we've got an ever increasing number of players that go that go flying around space so we need to keep track of which",
    "start": "1828159",
    "end": "1833440"
  },
  {
    "text": "star systems have they been to what have they discovered have they done a detailed Discovery scan of the atmosphere of the third Moon of Endor",
    "start": "1833440",
    "end": "1839320"
  },
  {
    "text": "there's any number of um combinations that give us just a data set that is",
    "start": "1839320",
    "end": "1844880"
  },
  {
    "text": "going to grow to the square of well the square but the multiplication of the number of star systems and the number of commanders but we can be fairly",
    "start": "1844880",
    "end": "1852440"
  },
  {
    "text": "confident about the number of reads and writes to that uh data set um because",
    "start": "1852440",
    "end": "1857480"
  },
  {
    "text": "that's depend on the number of players currently online right at that very second and so it's a perfect fit for Dynamo DB means that we can take a a",
    "start": "1857480",
    "end": "1865720"
  },
  {
    "text": "reasonbly straightforward document it's just just a list of bodies and we've got a just who it is who owns it and we put",
    "start": "1865720",
    "end": "1873679"
  },
  {
    "text": "it into Dynamo DB and it takes care of the storage scaling for us we did originally do this in and yes it",
    "start": "1873679",
    "end": "1879799"
  },
  {
    "text": "it got us got us to release day but eventually the scalability got too much and it was time to use Dynamo",
    "start": "1879799",
    "end": "1885360"
  },
  {
    "text": "properly for commanders that um we're lucky enough to go and discover a go and",
    "start": "1885360",
    "end": "1890559"
  },
  {
    "text": "scan a like a body or a star and then bring it back to civilized space and sell it they get credited with first",
    "start": "1890559",
    "end": "1896080"
  },
  {
    "text": "discovery bonus which means that their Commander name is forever written in lights in the galaxy and for that we use Amazon S3 somebody only ever gets first",
    "start": "1896080",
    "end": "1903240"
  },
  {
    "text": "discovery tags once when they do the selling and then when somebody else goes and visits that star system they just read what's already there so written",
    "start": "1903240",
    "end": "1910039"
  },
  {
    "text": "once Reddit back S3 perfect another building block that we",
    "start": "1910039",
    "end": "1916120"
  },
  {
    "text": "use is transactions we haven't talked about kind of data streams data flow and",
    "start": "1916120",
    "end": "1921600"
  },
  {
    "text": "our our game is no exception so when somebody comes along and performs a game action kills an NPC takes some profit",
    "start": "1921600",
    "end": "1927960"
  },
  {
    "text": "from a trade blasts a chunk off a an asteroid for mining um any one of those",
    "start": "1927960",
    "end": "1933080"
  },
  {
    "text": "actions can generate a number of individual um uh game events in our log and because the individual transaction",
    "start": "1933080",
    "end": "1939279"
  },
  {
    "text": "doesn't care about the consequences of that we've queue it up in Amazon sqs for for dealing with later we just need to",
    "start": "1939279",
    "end": "1945080"
  },
  {
    "text": "get that over and done with so that goes into the que then a background process is is watching that particular queue it",
    "start": "1945080",
    "end": "1951360"
  },
  {
    "text": "and then dispatches those into our one of our mongodb clusters for later analysis mongod DB as well as just being",
    "start": "1951360",
    "end": "1957559"
  },
  {
    "text": "a pure document store it also has a really powerful aggregations engine which lets us say I don't",
    "start": "1957559",
    "end": "1963720"
  },
  {
    "text": "know let's have a look at trade so we start off with our core simulation",
    "start": "1963720",
    "end": "1970880"
  },
  {
    "start": "1964000",
    "end": "1964000"
  },
  {
    "text": "um so we know using our Our Generation systems exactly how much um stock is uh",
    "start": "1970880",
    "end": "1978440"
  },
  {
    "text": "available in any given Market at any given point in time but that just gives us a default and players want to change",
    "start": "1978440",
    "end": "1983600"
  },
  {
    "text": "those defaults so that they can they can have interesting things happen so the way that we dealt with this again this is this is interesting data so we start",
    "start": "1983600",
    "end": "1990399"
  },
  {
    "text": "off with a thousand one player comes along and buys 200 units of fish and",
    "start": "1990399",
    "end": "1995600"
  },
  {
    "text": "then another player comes along and says how much fish have you got they need to see 800 but rather than storing a",
    "start": "1995600",
    "end": "2000639"
  },
  {
    "text": "database cell with 800 in it we actually store that as a multiplier of 0.8 so we take the default values and just start",
    "start": "2000639",
    "end": "2007440"
  },
  {
    "text": "putting modifies on top of it then over time the background simulation comes along restocks it a bit might be a water",
    "start": "2007440",
    "end": "2013159"
  },
  {
    "text": "world that's got high nitrogen atmosphere or whatever and that that means that fish get regenerated really",
    "start": "2013159",
    "end": "2018200"
  },
  {
    "text": "quickly and sooner or later the stock levels return to their defaults but rather than storing a multiplier of one",
    "start": "2018200",
    "end": "2024000"
  },
  {
    "text": "we delete it completely and it all relaxes back to its default State and this is how that works behind the scenes",
    "start": "2024000",
    "end": "2030120"
  },
  {
    "start": "2028000",
    "end": "2028000"
  },
  {
    "text": "so I mentioned that all transactions end up in our mongod DB cluster the background processor comes along every",
    "start": "2030120",
    "end": "2035760"
  },
  {
    "text": "few minutes and says give me a summary of everything that people have bought and sold at all the different markets around the Galaxy and then mongodb goes",
    "start": "2035760",
    "end": "2043440"
  },
  {
    "text": "away runs the aggregation comes back with a list of well we we' bought and sold all of these things the supply and",
    "start": "2043440",
    "end": "2049760"
  },
  {
    "text": "demand simulation takes the modifiers that are currently there runs it through the mill and comes out with a B comes up with a bunch of new modifiers and those",
    "start": "2049760",
    "end": "2056158"
  },
  {
    "text": "get stored for everybody else to come along and query and that gives us um nearly real time Supply supply and",
    "start": "2056159",
    "end": "2061679"
  },
  {
    "text": "demand mechanics that meant we didn't need to run a finance system the size of the Galaxy",
    "start": "2061679",
    "end": "2067878"
  },
  {
    "text": "so we also use those data for trade routs so um we know where everything",
    "start": "2069399",
    "end": "2075079"
  },
  {
    "text": "spawns in the Galaxy but a player is just looking at at a single view of it so we need to help people buy and sell",
    "start": "2075079",
    "end": "2080560"
  },
  {
    "text": "so we have trade rots in the game and again this is a background process runs once a day or so and it looks at who's",
    "start": "2080560",
    "end": "2086358"
  },
  {
    "text": "bought stuff and sold it where who made a profit okay well they've done that so we'll add that as a trade route and you",
    "start": "2086359",
    "end": "2092398"
  },
  {
    "text": "can imagine exactly how complicated this network looks when you have this many markets and this many commodities",
    "start": "2092399",
    "end": "2097680"
  },
  {
    "text": "business many players buying and selling things analytics we all like analytics",
    "start": "2097680",
    "end": "2104119"
  },
  {
    "start": "2101000",
    "end": "2101000"
  },
  {
    "text": "we'd like to be able to see what's going on behind the scenes and we use a product called Cabana I'm not going to dwell too much on it but we use it for",
    "start": "2104119",
    "end": "2110480"
  },
  {
    "text": "just obviously just looking at health checks just by staring at the shape of something over time you get a feel for whether it's happy or not it's a really",
    "start": "2110480",
    "end": "2117440"
  },
  {
    "text": "great tool for drilling down into into dimensions and summarizing data that is very much self-service rather than",
    "start": "2117440",
    "end": "2123440"
  },
  {
    "text": "pestering the the development team for can you just run us a report on this when you transer this question it's self-service tool that helps our support",
    "start": "2123440",
    "end": "2130000"
  },
  {
    "text": "QA design and even the development teams themselves K also lets us build",
    "start": "2130000",
    "end": "2135359"
  },
  {
    "text": "statistical distributions and I won't go into probability Theory here it's okay but it lets us see what are people",
    "start": "2135359",
    "end": "2141320"
  },
  {
    "text": "generally doing and it also lets us spot out lives when somebody's doing something that wasn't quite within the design",
    "start": "2141320",
    "end": "2146720"
  },
  {
    "text": "parameters and the way that this works is based on the same principle we have the transaction logs that I've already",
    "start": "2146720",
    "end": "2152200"
  },
  {
    "text": "mentioned those are going into sqs and this time we have a different set of Q dispatchers and those watch a different",
    "start": "2152200",
    "end": "2157800"
  },
  {
    "text": "que and those dispatch those into an on- premise elastic search cluster uh that we run and then we have kibana running",
    "start": "2157800",
    "end": "2164040"
  },
  {
    "text": "against it couple of versions of that have some custom reports and it's really fast really real time and it just keeps",
    "start": "2164040",
    "end": "2171200"
  },
  {
    "text": "roughly up to date with all the various logs so that's pretty cool",
    "start": "2171200",
    "end": "2176520"
  },
  {
    "start": "2174000",
    "end": "2174000"
  },
  {
    "text": "um just a break out of the the pointer head manager persona for a second um this is exactly how we actually",
    "start": "2176520",
    "end": "2182880"
  },
  {
    "text": "developed and rolled out our game because it was an early access game on PC we actually uh the development mirrored the risks as we perceive them",
    "start": "2182880",
    "end": "2189000"
  },
  {
    "text": "so our top risk actually wasn't any of the networking or the Galaxy or anything like it was how the ships felt to fly",
    "start": "2189000",
    "end": "2194359"
  },
  {
    "text": "because that's what people do on a a second byc basis in the game so our first very first release was the flight model of the game second release all the",
    "start": "2194359",
    "end": "2201839"
  },
  {
    "text": "networking multiplayer stuff third release all the Galaxy trade routs Etc started building up and over time we",
    "start": "2201839",
    "end": "2208079"
  },
  {
    "text": "increased the number of users on our servers from I think initially about 3,000 uh the very first build through to",
    "start": "2208079",
    "end": "2214440"
  },
  {
    "text": "about 200,000 are pre-release literally pre-release final tuning build had about 200,000 people working on it so back",
    "start": "2214440",
    "end": "2222040"
  },
  {
    "text": "into point a manager mode so we've got this fantastic Galaxy uh that's interactive people could do lots of things in it it's cool but uh and",
    "start": "2222040",
    "end": "2228319"
  },
  {
    "text": "although I do know that open world games are traditionally very difficult to tell stories in I really really want to tell",
    "start": "2228319",
    "end": "2234680"
  },
  {
    "text": "a story in this galaxy but I want it to be the a very player driven story so as well as uh blazing their own own trail",
    "start": "2234680",
    "end": "2241119"
  },
  {
    "text": "like H solo through all this stuff I want them to be able to like work together and the aggregate of what they",
    "start": "2241119",
    "end": "2247319"
  },
  {
    "text": "do to actually influence the fate of star system so if there's a perhaps put it into Civil War and we could perhaps change the control of who who is uh who",
    "start": "2247319",
    "end": "2254960"
  },
  {
    "text": "is controlling that at the moment also I want Community goals so I want something perhaps every week that our players",
    "start": "2254960",
    "end": "2260040"
  },
  {
    "text": "could all band together and do to achieve something to change the state of the Galaxy um and perhaps even people",
    "start": "2260040",
    "end": "2265839"
  },
  {
    "text": "want to oppose that as well which they'd be welcome to do and and finally I really want a kind of the Cinematic",
    "start": "2265839",
    "end": "2271319"
  },
  {
    "text": "experience I want players you know are understanding what the the overarching story in a very cinematic way is and",
    "start": "2271319",
    "end": "2278000"
  },
  {
    "text": "perhaps be able to influence the main players in that story and what their those players strategies and next moves",
    "start": "2278000",
    "end": "2284160"
  },
  {
    "text": "are okay absolutely so I've talked a little bit so far about how players have",
    "start": "2284160",
    "end": "2290040"
  },
  {
    "start": "2286000",
    "end": "2286000"
  },
  {
    "text": "their own actions and how they progress an individual Commander but we need to start bringing this together into a dynamic Galaxy and this is where the",
    "start": "2290040",
    "end": "2295880"
  },
  {
    "text": "political simulations come into play so again transaction logs and this time so",
    "start": "2295880",
    "end": "2301960"
  },
  {
    "text": "whenever a player goes they they might have assassinated a pirate lord or they might have made loads of profit selling",
    "start": "2301960",
    "end": "2307640"
  },
  {
    "text": "fish to this this mining Colony or they might be there might be evil they might be going out committing acts of piracy",
    "start": "2307640",
    "end": "2312880"
  },
  {
    "text": "around the Galaxy each of those actions has to have consequences for the political minor factions that are",
    "start": "2312880",
    "end": "2318839"
  },
  {
    "text": "affected by that either they were the victim or they were the the the uh the I don't know the person who benefited from",
    "start": "2318839",
    "end": "2324640"
  },
  {
    "text": "that mission so every player action starts to add changes to what we we",
    "start": "2324640",
    "end": "2331240"
  },
  {
    "text": "termed buckets which are stored in mongodb so here we might have advanced",
    "start": "2331240",
    "end": "2336319"
  },
  {
    "text": "one point along the State towards an e an economic boom or somebody might have lost a certain amount of influence in a",
    "start": "2336319",
    "end": "2342040"
  },
  {
    "text": "star system influence is kind of important so that gives us these buckets that are stored in and those are",
    "start": "2342040",
    "end": "2349000"
  },
  {
    "text": "one per faction so there's not very many about 100 thousand something like that",
    "start": "2349000",
    "end": "2354040"
  },
  {
    "text": "um and then our background processor comes along and this runs every day and",
    "start": "2354040",
    "end": "2359119"
  },
  {
    "text": "it reads in this is all this is a this is kind of a summary of all the player actions from a faction point of view",
    "start": "2359119",
    "end": "2364560"
  },
  {
    "text": "rather than a player point of view it then runs through simulation decides what the new value should be so it might say well you've made loads and loads of",
    "start": "2364560",
    "end": "2370680"
  },
  {
    "text": "profit so you go into a state of economic boom so prices prices come down stock levels go up it's all happy times",
    "start": "2370680",
    "end": "2376440"
  },
  {
    "text": "or it might be that um the the pirate faction has gained so much influence in",
    "start": "2376440",
    "end": "2381640"
  },
  {
    "text": "that star system it can challenge the current owners of that star system for for for control of it and then a",
    "start": "2381640",
    "end": "2387000"
  },
  {
    "text": "conflict might spawn at which point um the game servers pick up on this we start little conflict conflict zones",
    "start": "2387000",
    "end": "2393040"
  },
  {
    "text": "spawn in the Galaxy players come along they start shooting um the people of the the side they to oppose and influence",
    "start": "2393040",
    "end": "2398839"
  },
  {
    "text": "changes and sooner or later um a winner gets declared and to the winner go The Spoils of Victory and that can that can",
    "start": "2398839",
    "end": "2405640"
  },
  {
    "text": "sometimes flip control of the star system so if somebody wants to support the rule of Empire or kick the Empire out and and make it an independent",
    "start": "2405640",
    "end": "2412760"
  },
  {
    "text": "Freedom system then that will happen and the simulation just takes care of it taking that to the next level we",
    "start": "2412760",
    "end": "2419359"
  },
  {
    "text": "needed ways of focusing players on certain activities because um when players all arrive in the same area area",
    "start": "2419359",
    "end": "2425200"
  },
  {
    "text": "of space you often get some emergent gameplay but both from people trying to do this action and from people trying to oppose that action and you get some",
    "start": "2425200",
    "end": "2431200"
  },
  {
    "text": "really exciting um stories that happen so for that we use Community goals and the example here is pushing the",
    "start": "2431200",
    "end": "2437160"
  },
  {
    "text": "emperor's Dawn out of one particular star system so from a fundamental point of view its players doing an awfully",
    "start": "2437160",
    "end": "2442560"
  },
  {
    "text": "large amount of a single quantity of a single action and for that we use mycell",
    "start": "2442560",
    "end": "2448280"
  },
  {
    "text": "again because players have to have progression we can't risk that progression so we uh we need you to use",
    "start": "2448280",
    "end": "2454640"
  },
  {
    "text": "transactions for that but rather than melting holes in many many database sales with all those rights uh because we don't have so many Community girls",
    "start": "2454640",
    "end": "2461000"
  },
  {
    "text": "active at any point in time and players generally hand in batches of an action it generally works out all right but we",
    "start": "2461000",
    "end": "2468200"
  },
  {
    "text": "also needed to have leaderboards so the the person who did the most to kick the emper dawn out gets great gets many many",
    "start": "2468200",
    "end": "2475400"
  },
  {
    "text": "more rewards for their efforts than someone who just rocked up at the last minute and said yeah me too so for that",
    "start": "2475400",
    "end": "2480560"
  },
  {
    "text": "we use redit so leader boards realtime leader boards um that can be a bit of a pinch",
    "start": "2480560",
    "end": "2487319"
  },
  {
    "start": "2483000",
    "end": "2483000"
  },
  {
    "text": "Point especially when the data are being stored in MySQL but we double enter the data into redis reddis has a feature",
    "start": "2487319",
    "end": "2492400"
  },
  {
    "text": "called sorted sets I'm not going to go into go into it in a huge amount of detail but we already had this data structure available we just used it",
    "start": "2492400",
    "end": "2499480"
  },
  {
    "text": "realtime leader boards no extra charge if reddis goes away for whatever reason like on a memory we restart it bring up",
    "start": "2499480",
    "end": "2505000"
  },
  {
    "text": "a new node then the leader board is automatically re rebuilt either from the state of MySQL or from the snapshot that",
    "start": "2505000",
    "end": "2510960"
  },
  {
    "text": "we've left in Amazon S3 taking that to the next level once",
    "start": "2510960",
    "end": "2516599"
  },
  {
    "text": "again we have power play which is one of our major releases earlier on this year now this is where players support one of",
    "start": "2516599",
    "end": "2522680"
  },
  {
    "text": "10 powers in the Galaxy for a fight of dominion and control of of space and",
    "start": "2522680",
    "end": "2530000"
  },
  {
    "text": "this is a really really powerful game it's it really does give you concerted actions players rying for control said",
    "start": "2530000",
    "end": "2536680"
  },
  {
    "text": "no I want to expand into there and I'm going to oppose you expanding into there it's it's really",
    "start": "2536680",
    "end": "2542480"
  },
  {
    "text": "big and again because player uh player progress is involved we had use my scr",
    "start": "2542480",
    "end": "2547839"
  },
  {
    "text": "for this but in order to make it fair we couldn't make this a real time simulation because we needed to give",
    "start": "2547839",
    "end": "2553800"
  },
  {
    "text": "people a consistent playing field for that week uh because some people might only be able to play at certain times of",
    "start": "2553800",
    "end": "2560079"
  },
  {
    "text": "the week they might only be able to play at weekends or they can only play a Tuesday evening um so rather than trying to make this a realtime simulation",
    "start": "2560079",
    "end": "2565680"
  },
  {
    "text": "there's a weekly turn that runs as part of our weekly maintenance Cycle takes about 20 minutes every Thursday",
    "start": "2565680",
    "end": "2571359"
  },
  {
    "text": "morning okay so super cool so going back to the um start of the presentation you",
    "start": "2571359",
    "end": "2576480"
  },
  {
    "start": "2572000",
    "end": "2572000"
  },
  {
    "text": "you'd remember that we are kind of self-publishing this game on PC so we want an online store and a mechanism to",
    "start": "2576480",
    "end": "2583240"
  },
  {
    "text": "to uh distribute it to our players and you know over time we obviously want to sell extra products and obviously new",
    "start": "2583240",
    "end": "2589559"
  },
  {
    "text": "other um you know other games that we do over time uh as well um so can we have",
    "start": "2589559",
    "end": "2595119"
  },
  {
    "text": "that as well yes we can so the frontier platform so this is also running using",
    "start": "2595119",
    "end": "2601880"
  },
  {
    "text": "the elastic bean stock uh it's written in PHP and we use a number of Open Source Frameworks such as druple and d",
    "start": "2601880",
    "end": "2608280"
  },
  {
    "text": "uh it's stored using a a myc shared instance and this hosts our various online storefronts we have we have a",
    "start": "2608280",
    "end": "2613920"
  },
  {
    "text": "number of them integrated various payment gateways it's all all relatively straightforward e-commerce so a player",
    "start": "2613920",
    "end": "2620599"
  },
  {
    "text": "comes along buys the game and downloads the launcher the launcher is actually downloaded from S3 we we sign them URL",
    "start": "2620599",
    "end": "2626480"
  },
  {
    "text": "just for them they download the launcher that's specific for them and they log into it on their on their",
    "start": "2626480",
    "end": "2632079"
  },
  {
    "text": "computer the launcher then connects to our authentication servers uh which also been stalk different be stalk but",
    "start": "2632079",
    "end": "2638359"
  },
  {
    "text": "showing the same database and that tells us which products that particular user has authorized for that session so the",
    "start": "2638359",
    "end": "2644680"
  },
  {
    "text": "launcher then gets the list of products that they're entitled to might be the production game that might be one of our beta backers from kickstar and they",
    "start": "2644680",
    "end": "2650440"
  },
  {
    "text": "might be entitled to get a to use the the test servers as well uh so I mentioned many many minutes",
    "start": "2650440",
    "end": "2658240"
  },
  {
    "text": "ago that the game builds were stored in Amazon S3 and the same goes for the actual client bills that they get we have a manifest based system so people",
    "start": "2658240",
    "end": "2665160"
  },
  {
    "text": "um for small patches only need to download just the files that have changed rather than the full game client every time and that's distributed around",
    "start": "2665160",
    "end": "2672119"
  },
  {
    "text": "the world using Amazon cloudfront so that we're not blocked by S3's out Outward Bound bandwidth it gives people",
    "start": "2672119",
    "end": "2678280"
  },
  {
    "text": "a really consistent uh download experience especially if they're not the first person to have downloaded it since we released a certain",
    "start": "2678280",
    "end": "2684160"
  },
  {
    "text": "patch once the game client's downloaded off they go into space um doesn't quite",
    "start": "2684160",
    "end": "2689480"
  },
  {
    "text": "end there from the point of view of the of the platform and authentication mechanisms because the game servers themselves also check back with the",
    "start": "2689480",
    "end": "2696319"
  },
  {
    "text": "platform login service to find out has this person is this person entitled to this product were they one of our",
    "start": "2696319",
    "end": "2702160"
  },
  {
    "text": "Kickstarter backers and are entitled to one of the various reward tiers for that had they purchased some extra content",
    "start": "2702160",
    "end": "2707240"
  },
  {
    "text": "such as some paint jobs to really customize their own vessel we check and police that behind the scenes to verify people's",
    "start": "2707240",
    "end": "2713559"
  },
  {
    "text": "claims Okay cool so at this point I'm getting quite happy so we've got a multiplayer game that we're Distributing",
    "start": "2713559",
    "end": "2719240"
  },
  {
    "text": "online off our own website and doing really really well and then I'm sort of looking at different um audiences for",
    "start": "2719240",
    "end": "2724760"
  },
  {
    "text": "this try to expand the audience so I'm looking at different distribu channel so it would be awesome to have it on Steam for example uh still on PC uh and mac",
    "start": "2724760",
    "end": "2732400"
  },
  {
    "text": "and also different platforms as well as in game platforms love to have it an Xbox because we've got a great history",
    "start": "2732400",
    "end": "2738520"
  },
  {
    "text": "with uh with Xbox and so we we've integrated uh both those uh distribution",
    "start": "2738520",
    "end": "2745079"
  },
  {
    "text": "and e-commerce channels uh with our servers and as as we're going on to",
    "start": "2745079",
    "end": "2751480"
  },
  {
    "text": "console as well we need this is a a very uh rewards along play time the elite",
    "start": "2751480",
    "end": "2757920"
  },
  {
    "text": "dangerous there's a lot in there and we have very very high uh average uh play time for our players uh so for console",
    "start": "2757920",
    "end": "2765200"
  },
  {
    "text": "audience what we'd really like to do is add a mode of gameplay where we allow instant action player versus play action",
    "start": "2765200",
    "end": "2770520"
  },
  {
    "text": "but like kind of Call of Duty lobbies where you can just get in and start uh start fighting with people and I have a",
    "start": "2770520",
    "end": "2777440"
  },
  {
    "text": "vision for what we want to do with that the Federation welcomes you to CQC",
    "start": "2777440",
    "end": "2784280"
  },
  {
    "text": "closed quarter combat championship the games every pilot has a reason to",
    "start": "2784280",
    "end": "2793800"
  },
  {
    "text": "compete find your Fame test your",
    "start": "2794640",
    "end": "2799960"
  },
  {
    "text": "metal hone your skills become a champion",
    "start": "2799960",
    "end": "2807880"
  },
  {
    "text": "[Music]",
    "start": "2816080",
    "end": "2824630"
  },
  {
    "text": "[Music]",
    "start": "2830700",
    "end": "2833829"
  },
  {
    "start": "2837000",
    "end": "2837000"
  },
  {
    "text": "so CQC our instant action player versus player game which launched this week so",
    "start": "2837480",
    "end": "2843240"
  },
  {
    "text": "for platforms that support native matchmaking um such as Xbox we use that but for platforms that don't PC we had",
    "start": "2843240",
    "end": "2849960"
  },
  {
    "text": "to build our own and we needed a way of grouping people together some people might want to play with their friends",
    "start": "2849960",
    "end": "2855599"
  },
  {
    "text": "some the people might be on their own so we needed to group people into lobbies and from lobbies into into game sessions",
    "start": "2855599",
    "end": "2861520"
  },
  {
    "text": "and for that we needed to leverage all of our existing services to support that so build a Matchmaker they said how hard",
    "start": "2861520",
    "end": "2868240"
  },
  {
    "text": "could it be so using our our PHP shared API and a",
    "start": "2868240",
    "end": "2874960"
  },
  {
    "text": "feature in RIS um we built our very own Matchmaker so the the key here is redis",
    "start": "2874960",
    "end": "2880800"
  },
  {
    "text": "has a feature which is a blocking list pop doesn't sound very exciting but it means you get a lightweight fast",
    "start": "2880800",
    "end": "2887359"
  },
  {
    "text": "reliable queue for no extra charge it's all part of elastic has then our background processor comes",
    "start": "2887359",
    "end": "2893640"
  },
  {
    "text": "along see who's queued up who has said I want to sit in this queue I want to go and work in team Jo I want to play de",
    "start": "2893640",
    "end": "2899599"
  },
  {
    "text": "team death match or I want to play Capture the Flag comes along checks who's waiting checks all of the various background matchmaking mechanisms I",
    "start": "2899599",
    "end": "2906440"
  },
  {
    "text": "won't down on that that here and groups people up into lobbies and said right you look like a game have a",
    "start": "2906440",
    "end": "2912880"
  },
  {
    "text": "go and that then runs along and many many thousands of people have been through it yeah super cool so the one uh were",
    "start": "2912880",
    "end": "2921119"
  },
  {
    "start": "2918000",
    "end": "2918000"
  },
  {
    "text": "there Seasons so way back right the start of our development on Kickstarter we said to people that yeah we're going",
    "start": "2921119",
    "end": "2926240"
  },
  {
    "text": "to be doing this game but we're going to be continuing to evolve it and some of the major uh expansions of the game",
    "start": "2926240",
    "end": "2931520"
  },
  {
    "text": "would be paid for so I want a way of um being able to to essentially do a season",
    "start": "2931520",
    "end": "2936880"
  },
  {
    "text": "like a a sort of kind of AAA TV series like game of phones or something I I want that kind of seasonality and in",
    "start": "2936880",
    "end": "2943040"
  },
  {
    "text": "fact U you know I can feel the first the the second season of this coming on uh and I want that to be um you know we've",
    "start": "2943040",
    "end": "2950040"
  },
  {
    "text": "got this Stellar Forge which simulates the Galaxy but how about allowing our players to land on every planet uh in",
    "start": "2950040",
    "end": "2956000"
  },
  {
    "text": "the Galaxy uh and we want something to do for them down there so we want them to basically extend all the gameplay",
    "start": "2956000",
    "end": "2961799"
  },
  {
    "text": "that they can do in space down onto the planet surface so they can explore fight with each other trade things or find",
    "start": "2961799",
    "end": "2967400"
  },
  {
    "text": "things to trade um there should be fortifications on the on the uh the",
    "start": "2967400",
    "end": "2972640"
  },
  {
    "text": "planet surfaces for them to do they should be able to work in conjunction between ships they should be able to drive around the uh the surface of the",
    "start": "2972640",
    "end": "2978640"
  },
  {
    "text": "planets in vehicles if they want leave their spaceships behind um then perhaps they want to start later on in the",
    "start": "2978640",
    "end": "2984200"
  },
  {
    "text": "season they want to start uh playing with other players in multi crew being able to then be able to see what each other's players look like so player",
    "start": "2984200",
    "end": "2990599"
  },
  {
    "text": "characters in there uh crafting um loot based systems lots and lots of fantastic",
    "start": "2990599",
    "end": "2996400"
  },
  {
    "text": "things uh we'll need an in-game Marketplace as well for Less frictional uh in-game purchases as well and I've",
    "start": "2996400",
    "end": "3002319"
  },
  {
    "text": "got a a Visions for that which I'd like to share with you that for me",
    "start": "3002319",
    "end": "3009599"
  },
  {
    "text": "deine AG in preparation for",
    "start": "3026880",
    "end": "3030558"
  },
  {
    "text": "power we're coming in ready for Sky we're down to 86 M",
    "start": "3036160",
    "end": "3043720"
  },
  {
    "text": "second touchdown confirmed",
    "start": "3051160",
    "end": "3055640"
  },
  {
    "text": "so what you reckon that many Star systems that many planets we're going to need some more",
    "start": "3061960",
    "end": "3067480"
  },
  {
    "text": "servers okay thank you very much thank you everybody [Music]",
    "start": "3067480",
    "end": "3074090"
  }
]