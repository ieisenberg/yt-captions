[
  {
    "start": "0",
    "end": "45000"
  },
  {
    "text": "[Music] so if you saw my last talk this is the",
    "start": "5020",
    "end": "10710"
  },
  {
    "text": "same picture it is a cow flying through the sky and if there is a metaphor for",
    "start": "10710",
    "end": "16049"
  },
  {
    "text": "the cloud and development I think this has to be it because it is this like massive behemoth who comes up with this",
    "start": "16049",
    "end": "22080"
  },
  {
    "text": "it's amazing growing up with AWS we're namely we're an HR company if you also came to my",
    "start": "22080",
    "end": "28740"
  },
  {
    "text": "last talk you are familiar that I like alternate titles for talks and growing",
    "start": "28740",
    "end": "35190"
  },
  {
    "text": "up with AWS the alternate title I couldn't actually put this on the screen it was I wish I use Google Cloud but",
    "start": "35190",
    "end": "40680"
  },
  {
    "text": "that's uh that's for another another time namely we're in HR software as a",
    "start": "40680",
    "end": "46710"
  },
  {
    "start": "45000",
    "end": "78000"
  },
  {
    "text": "service company we specialize in payroll benefits human capital management so if you want to kind of connect to your",
    "start": "46710",
    "end": "53039"
  },
  {
    "text": "employees figure out goals performance review word all-in-one HR solution we started in 2011 and we are on that",
    "start": "53039",
    "end": "60780"
  },
  {
    "text": "phenomenal growth track of more customers more features that we're developing more complex infrastructure",
    "start": "60780",
    "end": "67049"
  },
  {
    "text": "we have more than 550 employees and were about a hundred and forty engineers and",
    "start": "67049",
    "end": "72180"
  },
  {
    "text": "like most high-growth companies we are hiring doing very interesting things with infrastructure we're going to talk about so this is a story of growth",
    "start": "72180",
    "end": "79350"
  },
  {
    "start": "78000",
    "end": "153000"
  },
  {
    "text": "namely started in 2011 it was four people working together and it was a",
    "start": "79350",
    "end": "87210"
  },
  {
    "text": "ruby on rails app you're banging out features really working kind of hard thinking about like will this be",
    "start": "87210",
    "end": "92820"
  },
  {
    "text": "successful you're running on AWS RDS you have your single ec2 instance there is",
    "start": "92820",
    "end": "97979"
  },
  {
    "text": "no automation whatsoever you're just copying and pasting stuff up maybe some you know pre get ops pre all of this",
    "start": "97979",
    "end": "105210"
  },
  {
    "text": "wonderful things and the next thing you know you're on this journey you are like growing you have more customers you have",
    "start": "105210",
    "end": "110850"
  },
  {
    "text": "more engineers they're adding more code things are getting a lot more complex you at one point decide to write your",
    "start": "110850",
    "end": "118290"
  },
  {
    "text": "own database I don't know who signed off on that luckily he did not make its way out into production you adopt kubernetes",
    "start": "118290",
    "end": "125909"
  },
  {
    "text": "for micro services you buy dotnet sequel server source code stack and then you",
    "start": "125909",
    "end": "132300"
  },
  {
    "text": "have this like wonderful that sodomy of Ruby on Rails engineers and c-sharp developers trying to work together which is absolutely fantastic",
    "start": "132300",
    "end": "138780"
  },
  {
    "text": "you decide to run east EO in production which still gives me nightmares who",
    "start": "138780",
    "end": "144120"
  },
  {
    "text": "signed off on that it was me and I cry myself to see that I cried myself to sleep every night but it's actually",
    "start": "144120",
    "end": "150480"
  },
  {
    "text": "working out pretty well for us finally finally but the most interesting growth story I think for us is our AWS payments",
    "start": "150480",
    "end": "157920"
  },
  {
    "start": "153000",
    "end": "306000"
  },
  {
    "text": "now I didn't actually sign off with legal so I couldn't put real numbers up here but I feel like if you're a",
    "start": "157920",
    "end": "163769"
  },
  {
    "text": "high-growth startup like this is kind of fairly typical now I didn't actually put bills because bills are not interesting",
    "start": "163769",
    "end": "169400"
  },
  {
    "text": "payments are more interesting and if you notice there's this gap here and I'm",
    "start": "169400",
    "end": "174959"
  },
  {
    "text": "like what happened there it turns out like in true starve a bland story from",
    "start": "174959",
    "end": "181319"
  },
  {
    "text": "2012 to 2016 we were paying on somebody's credit card and then they're",
    "start": "181319",
    "end": "186420"
  },
  {
    "text": "like you can't actually do that anymore and then they didn't figure out what to",
    "start": "186420",
    "end": "191430"
  },
  {
    "text": "do for three months now like luckily we kept running but yeah this was very interesting and then and it's like you",
    "start": "191430",
    "end": "198389"
  },
  {
    "text": "know that chaos story right but no it's like this is actually like very typical because it's like you're working really",
    "start": "198389",
    "end": "203400"
  },
  {
    "text": "hard you're doing something you have more engineers you know you're working you don't really kind of care you like heaven oops oh my god what what is going",
    "start": "203400",
    "end": "210180"
  },
  {
    "text": "on moment you try to stabilize and then you like hit more growth and then and then you kind of come back and you try",
    "start": "210180",
    "end": "215730"
  },
  {
    "text": "to readjust and at least here like this is because we're purchasing reserved instances so these are like amortized",
    "start": "215730",
    "end": "221160"
  },
  {
    "text": "costs that would have been much more interesting but like you know the funny thing that I have is like you know as you're growing you're building your",
    "start": "221160",
    "end": "227099"
  },
  {
    "text": "product but you also can't let your infrastructure get away from you right and the interesting conversations that I",
    "start": "227099",
    "end": "232410"
  },
  {
    "text": "have with like our CTO is do we stop what we're doing and deal with this or",
    "start": "232410",
    "end": "237510"
  },
  {
    "text": "like how much burn can you actually have and I think as we grow and we get smarter we learn a lot more we leverage",
    "start": "237510",
    "end": "243660"
  },
  {
    "text": "a lot more and that kind of helps us guide decisions and you know to kind of put things in perspective as well like",
    "start": "243660",
    "end": "250530"
  },
  {
    "text": "where we're at right now is about three and a half percent of our a our our which you know it's like rather high for",
    "start": "250530",
    "end": "257310"
  },
  {
    "text": "me but it's not like scary like our CFO hates it but our CTO doesn't and I think",
    "start": "257310",
    "end": "262530"
  },
  {
    "text": "that that's like a good a good heat wave of how well how well we're doing you know also like from 2012 to 2018 like Amazon",
    "start": "262530",
    "end": "270919"
  },
  {
    "text": "has also had an explosion of like new products in new growth so the options that we had available in 2011 when we",
    "start": "270919",
    "end": "277940"
  },
  {
    "text": "started and even when we know made major infrastructure changes in 2015 and 2016",
    "start": "277940",
    "end": "283460"
  },
  {
    "text": "are like quite different right like if we had lamda back in the day would we have used it and I'll talk about the",
    "start": "283460",
    "end": "290960"
  },
  {
    "text": "decisions we made like why we made them and then how you as an organization and specifically namely can kind of adopt to",
    "start": "290960",
    "end": "297139"
  },
  {
    "text": "a growing and maturing infrastructure landscape and then try to like leverage technology to help you develop quickly",
    "start": "297139",
    "end": "303500"
  },
  {
    "text": "and then also manage costs so what is like infrastructure look like I think that this is kind of how we view the",
    "start": "303500",
    "end": "310340"
  },
  {
    "start": "306000",
    "end": "348000"
  },
  {
    "text": "entire world so we have Environment Management that's kind of like how are we managing our infrastructure we use",
    "start": "310340",
    "end": "317419"
  },
  {
    "text": "AWS obviously and then try to leverage that as much as possible we have our run",
    "start": "317419",
    "end": "322550"
  },
  {
    "text": "time which is how are we actually running our code and the choices we made there are kubernetes docker app servers",
    "start": "322550",
    "end": "329150"
  },
  {
    "text": "you have configuration you have continuous integration continuous delivery how do I get my code after",
    "start": "329150",
    "end": "334220"
  },
  {
    "text": "production and then how are you operating this right and then across the entire stack you have observability how",
    "start": "334220",
    "end": "339470"
  },
  {
    "text": "do you know like are things working and then you have security and how do you like know that that things are secure",
    "start": "339470",
    "end": "345590"
  },
  {
    "text": "and then you have the right access controls in place and in terms of like choices that we made or that we've",
    "start": "345590",
    "end": "350659"
  },
  {
    "start": "348000",
    "end": "444000"
  },
  {
    "text": "evolved to this is the landscape that we're at right so we do heavily use terraform for managing what our",
    "start": "350659",
    "end": "357830"
  },
  {
    "text": "environments look like in our servers for like repeated code that we just learned you know AWS is our platform of choice",
    "start": "357830",
    "end": "363190"
  },
  {
    "text": "we use kubernetes plus Sto as our run time in terms of thinking about kind of",
    "start": "363190",
    "end": "368419"
  },
  {
    "text": "containers and and deploying code and how are we doing routing and interesting things kubernetes and octopus are our",
    "start": "368419",
    "end": "374330"
  },
  {
    "text": "configuration tool we use config maps and secrets pretty heavily Jenkins it is just so simple and it can do so much and",
    "start": "374330",
    "end": "381530"
  },
  {
    "text": "I think as engineers if you're like newer or you know you want to think about like up leveling there are three",
    "start": "381530",
    "end": "387500"
  },
  {
    "text": "things that I think that you should know get regex and Jenkins because if you master those three things you are",
    "start": "387500",
    "end": "394159"
  },
  {
    "text": "infective ly like unstoppable for continues to print out code to production and you will solve any",
    "start": "394159",
    "end": "399590"
  },
  {
    "text": "problem that any other engineering your organization has as to like how do I actually release this thing spinnaker cube CTL kubernetes",
    "start": "399590",
    "end": "407020"
  },
  {
    "text": "those are our control mechanisms for thinking about like how do we manage what versions are running and then on",
    "start": "407020",
    "end": "412940"
  },
  {
    "text": "the observability side you know there's no like one-stop-shop for this so we have signal FX is our metrics and",
    "start": "412940",
    "end": "420380"
  },
  {
    "text": "monitoring tool and we've actually been using that for tracing as well logs i/o is our hosted elk stack new relic for",
    "start": "420380",
    "end": "425840"
  },
  {
    "text": "APM and then a whole plethora of access controls that we've been leveraging in terms of identity access management our",
    "start": "425840",
    "end": "432980"
  },
  {
    "text": "back security we've been integrating with I am a lot more in our kubernetes cluster that I'll talk about in a bit",
    "start": "432980",
    "end": "438560"
  },
  {
    "text": "and then obviously VPN and secrets for actually accessing our production servers and the thing that I've also",
    "start": "438560",
    "end": "444740"
  },
  {
    "start": "444000",
    "end": "524000"
  },
  {
    "text": "embraced is in terms of these choices I just feel like there's never a right",
    "start": "444740",
    "end": "451160"
  },
  {
    "text": "answer right like you can go with kubernetes you can go with eks you can go with server lists you can go with API",
    "start": "451160",
    "end": "458060"
  },
  {
    "text": "gateway you can run on on docker swarm but like there's it's never going to be",
    "start": "458060",
    "end": "463640"
  },
  {
    "text": "a right answer and I feel like that there is a huge liberating experience that I had when you've just embraced the",
    "start": "463640",
    "end": "469160"
  },
  {
    "text": "fact that you can never be right there's only varying degrees of wrong and I think that that helps us think about the",
    "start": "469160",
    "end": "476180"
  },
  {
    "text": "now and how do we develop and leverage what we have so that we can move forward and then realize that things change",
    "start": "476180",
    "end": "482900"
  },
  {
    "text": "right we experiment we learn we decided then we repeat this process and so even",
    "start": "482900",
    "end": "488030"
  },
  {
    "text": "though that things like eks weren't available two years ago they're available now and can we use our past",
    "start": "488030",
    "end": "494780"
  },
  {
    "text": "experience do we have that automation in place to think that we can move to it and then maybe in two years from now we",
    "start": "494780",
    "end": "500300"
  },
  {
    "text": "actually are going to go all-in unserved or less or we're going to adapt it or we're going to feel like that's the right choice so thinking about the here",
    "start": "500300",
    "end": "506180"
  },
  {
    "text": "and now and thinking about automation and thinking about really getting that code to production is the most important",
    "start": "506180",
    "end": "511550"
  },
  {
    "text": "aspect and then as you go on you find like the most painful point that you have to deal with and then you focus on",
    "start": "511550",
    "end": "517610"
  },
  {
    "text": "that you improve that and then you move on to the next thing it's it's the classic agile agile methodology and",
    "start": "517610",
    "end": "523159"
  },
  {
    "text": "agile way so our namely infrastructure the way we're right now is we're only in a single region I do want to be multi",
    "start": "523160",
    "end": "529640"
  },
  {
    "start": "524000",
    "end": "589000"
  },
  {
    "text": "region that's kind of one of our wishlist items but for now we only exist in in ADA u.s. Virginia and one of the things that",
    "start": "529640",
    "end": "536210"
  },
  {
    "text": "we've adopted and leveraged our AWS accounts so we have a portal account that we manage all of our users in that",
    "start": "536210",
    "end": "542990"
  },
  {
    "text": "portal account has absolutely nothing in it but it's linked to all of our other accounts that have its own V PC or",
    "start": "542990",
    "end": "550040"
  },
  {
    "text": "virtual private cloud right so production is its own AWS account it has a special set of users who can access",
    "start": "550040",
    "end": "555680"
  },
  {
    "text": "that it has its own V PC we do the same thing for our staging environment in we have a special one for RIT and",
    "start": "555680",
    "end": "562610"
  },
  {
    "text": "operations sometimes we run kubernetes in these we also work with a lot of different cloud vendors and we give our",
    "start": "562610",
    "end": "569090"
  },
  {
    "text": "cloud vendors their own AWS account so that's how we run Kafka with confluent we actually have confluent manage",
    "start": "569090",
    "end": "575750"
  },
  {
    "text": "servers but we own the account we own the V PC and then we have a permission based mechanisms to talk to it and this",
    "start": "575750",
    "end": "581990"
  },
  {
    "text": "is like one of the first infrastructure aspects that we really started to leverage in terms of evolving our",
    "start": "581990",
    "end": "587000"
  },
  {
    "text": "topology so what is an environment look like right and and I think that one of the interesting things especially with",
    "start": "587000",
    "end": "592850"
  },
  {
    "start": "589000",
    "end": "670000"
  },
  {
    "text": "managing costs that I'm gonna dig into is like how did we learn about these things and what really bad mistakes did",
    "start": "592850",
    "end": "600020"
  },
  {
    "text": "we make that we have to fix later on so we have kubernetes that's kind of like the heart over a lot of our infrastructure we usually run with 15",
    "start": "600020",
    "end": "606920"
  },
  {
    "text": "workers there's three masters and five @cd nodes we have public elby's that",
    "start": "606920",
    "end": "612920"
  },
  {
    "text": "allow traffic from the outside to come into our V PC you need an internet gateway to send external traffic we have",
    "start": "612920",
    "end": "619790"
  },
  {
    "text": "our own ec2 servers for a variety of things we have jump boxes or Bastion hosts for special use cases and then the",
    "start": "619790",
    "end": "627080"
  },
  {
    "text": "topology is a whole plethora of like your AWS products so we have like a lot of ElastiCache way too much completely",
    "start": "627080",
    "end": "633710"
  },
  {
    "text": "over provision it's amazing we have a bunch of RDS because you know you just need a lot of databases we are moving to",
    "start": "633710",
    "end": "640850"
  },
  {
    "text": "aurorus or we're starting to leverage that a lot more you know again like a bunch of s3 for storing things like",
    "start": "640850",
    "end": "646340"
  },
  {
    "text": "backups and files and images cloud front for distribution no but this is like generally in and I think that when you",
    "start": "646340",
    "end": "652880"
  },
  {
    "text": "start off with with four or five engineers and a simple Ruby on Rails like this is much simpler when you have",
    "start": "652880",
    "end": "658040"
  },
  {
    "text": "a hundred and forty engineers and they're all trying to push out code this becomes kind of crazy and then what are",
    "start": "658040",
    "end": "664280"
  },
  {
    "text": "the cost controls that you allow and where to be access controls that you allow for people do to do different working so as a",
    "start": "664280",
    "end": "670460"
  },
  {
    "start": "670000",
    "end": "698000"
  },
  {
    "text": "concrete example of like really weird things we were spending 17,000 a month on our NAT gateway which was like",
    "start": "670460",
    "end": "677390"
  },
  {
    "text": "amazing to me not necessarily for the price but like we were sending out 380",
    "start": "677390",
    "end": "682550"
  },
  {
    "text": "terabytes a month of information on a site that gets like let's say a hundred QPS I'm like what is going on here how",
    "start": "682550",
    "end": "690440"
  },
  {
    "text": "they are we sending 380 terabytes a month on egress traffic like somebody",
    "start": "690440",
    "end": "695480"
  },
  {
    "text": "has to be running like a BitTorrent host and there's this thing called V PC endpoints right which if you don't know",
    "start": "695480",
    "end": "701450"
  },
  {
    "start": "698000",
    "end": "730000"
  },
  {
    "text": "about it I highly suggest you learn it what a VPC endpoint is is that it allows you to talk to let's say an s3 bucket on",
    "start": "701450",
    "end": "709580"
  },
  {
    "text": "your V PC so I can say that if I have to store a file like a docker container",
    "start": "709580",
    "end": "714890"
  },
  {
    "text": "image from my CI system in s3 I can do that with a 10/8 address and I don't",
    "start": "714890",
    "end": "722839"
  },
  {
    "text": "have to go out to mine at Gateway and I don't have to send 380 terabytes of data on the public Internet destroyed in s3",
    "start": "722839",
    "end": "729230"
  },
  {
    "text": "and I was like super excited because it's like yes we like save so much money we're down to $1,500 month on net with",
    "start": "729230",
    "end": "735230"
  },
  {
    "text": "33 terabytes we probably have like also 30 terabytes that we can still go here but like the only thing that made me",
    "start": "735230",
    "end": "741740"
  },
  {
    "text": "like I felt really good about this but then the only thing that made me feel like even worse was that we were spending so much money for so long and",
    "start": "741740",
    "end": "748070"
  },
  {
    "text": "it was just a config change because we didn't know any better and that's the price of knowledge kubernetes love",
    "start": "748070",
    "end": "753260"
  },
  {
    "start": "752000",
    "end": "777000"
  },
  {
    "text": "kubernetes we were running our own kubernetes clusters with Cube AWS that's an automation tool we tried cops cops",
    "start": "753260",
    "end": "759860"
  },
  {
    "text": "had a lot of in EU secrecy's when we tried it so we went back to Cuba AWS essentially you have five @cd servers",
    "start": "759860",
    "end": "767089"
  },
  {
    "text": "that's where state is stored you have these master nodes that do a lot of the work and then you have these workers where stuff runs and then Amazon comes",
    "start": "767089",
    "end": "774560"
  },
  {
    "text": "out with this wonderful thing called eks it's basically the same thing except you only have to worry about workers and",
    "start": "774560",
    "end": "780500"
  },
  {
    "start": "777000",
    "end": "851000"
  },
  {
    "text": "just like that you cut your server load almost in half and the interesting thing about eks and this kind of goes into",
    "start": "780500",
    "end": "787910"
  },
  {
    "text": "like leveraging the platform because I've kind of had like this interesting revelation where you want to be cloud",
    "start": "787910",
    "end": "793610"
  },
  {
    "text": "agnostic like kubernetes is great to be cloud agnostic but I think that that's actually a little bit wrong",
    "start": "793610",
    "end": "799630"
  },
  {
    "text": "you want to leverage it a little bit more right you really want to understand that platform that's available to you",
    "start": "799630",
    "end": "805060"
  },
  {
    "text": "and how you can leverage it and when I say better networking if you're not familiar with kubernetes it essentially",
    "start": "805060",
    "end": "810730"
  },
  {
    "text": "has this plug-in model where you can plug in the networking infrastructure so you as a provider like let's say Amazon",
    "start": "810730",
    "end": "817180"
  },
  {
    "text": "can describe how kubernetes should manage networking and eks did something",
    "start": "817180",
    "end": "822190"
  },
  {
    "text": "really cool where they mapped their elastic network interfaces these like",
    "start": "822190",
    "end": "827410"
  },
  {
    "text": "virtual network interfaces that plug directly into their their networking fabric and their VP sees into kubernetes",
    "start": "827410",
    "end": "835149"
  },
  {
    "text": "pods right so each pod on a host has its own elastic network interface with its",
    "start": "835149",
    "end": "840910"
  },
  {
    "text": "own IP that's like tied into their nitro system or whatever it's called but for an a tangible performance benefit just",
    "start": "840910",
    "end": "847899"
  },
  {
    "text": "by this one change not only do we not have to run a lot of other servers but we saw about like a 10% performance",
    "start": "847899",
    "end": "855220"
  },
  {
    "text": "increase in our inter service traffic so this is a graph that we have week over",
    "start": "855220",
    "end": "861880"
  },
  {
    "text": "week graph and the only change this is essentially our synthetic load generator that we're always using to like monitor",
    "start": "861880",
    "end": "867250"
  },
  {
    "text": "our services up it's basically making a request from one service to another service and it's tracking the median",
    "start": "867250",
    "end": "874269"
  },
  {
    "text": "times and the p95 times and this is a week over week graph so the purple line",
    "start": "874269",
    "end": "879399"
  },
  {
    "text": "was like before the change and then the grey line was exact same thing same",
    "start": "879399",
    "end": "884800"
  },
  {
    "text": "version of both of these apps just one was running on our old kubernetes",
    "start": "884800",
    "end": "890139"
  },
  {
    "text": "infrastructure and then now we're running on our new kubernetes infrastructure and also just like same",
    "start": "890139",
    "end": "896189"
  },
  {
    "text": "ec2 instance types right the we were use our fives still our fives like other are",
    "start": "896189",
    "end": "902380"
  },
  {
    "text": "fives this is just an eks change and we're getting like a much more improved p95 times of like almost a millisecond",
    "start": "902380",
    "end": "910600"
  },
  {
    "text": "and then about a half a millisecond on our median times and that's just like leveraging the platform and leveraging",
    "start": "910600",
    "end": "915939"
  },
  {
    "text": "the infrastructure and then knowing that it's kind of there but also like what do you get for free using these tools and",
    "start": "915939",
    "end": "921819"
  },
  {
    "text": "that's just like phenomenal for us so I'm gonna hand it off to my colleague riad who's our staff database engineer",
    "start": "921819",
    "end": "928240"
  },
  {
    "start": "925000",
    "end": "1048000"
  },
  {
    "text": "and he's going to talk a lot about the performance optimizations that we've made across the board with our store systems my name riad Amari I joined",
    "start": "928240",
    "end": "935170"
  },
  {
    "text": "namely three months ago I'm stuff engineer database so what they call the new DBA so we just here I just",
    "start": "935170",
    "end": "943090"
  },
  {
    "text": "want to show you how you have to think outside the box so it's not the old way how how you we have GB you have to go",
    "start": "943090",
    "end": "950980"
  },
  {
    "text": "through the sick world you have to see if there is a problem that's problem",
    "start": "950980",
    "end": "956350"
  },
  {
    "text": "so anyway I faced up with this problem with data our house we have an ec2",
    "start": "956350",
    "end": "962260"
  },
  {
    "text": "running good my second server terabytes of data we have everything set up",
    "start": "962260",
    "end": "969280"
  },
  {
    "text": "correctly tuned well query are running perfect on staging on the dev",
    "start": "969280",
    "end": "977020"
  },
  {
    "text": "environment but here we see as you can see here in the middle of the day we",
    "start": "977020",
    "end": "982390"
  },
  {
    "text": "face the IO concurrency issue and we had we had a lot of issue with latency and",
    "start": "982390",
    "end": "988210"
  },
  {
    "text": "customer cannot get their analytic on like right up to the second so after",
    "start": "988210",
    "end": "993790"
  },
  {
    "text": "after a while with we started to go to cloud watch hey what's the problem I saw we saw together that there is a",
    "start": "993790",
    "end": "1001380"
  },
  {
    "text": "problem in read and write i/o so why would we do that so after after couple",
    "start": "1001380",
    "end": "1008370"
  },
  {
    "text": "of research so we switch the EBS accuracy switches abs from from GB to",
    "start": "1008370",
    "end": "1015660"
  },
  {
    "text": "which is the regular SSD to Oh provision at I ops so as you can see during in one",
    "start": "1015660",
    "end": "1021950"
  },
  {
    "text": "like with no downtime as you can see everything is flat after that so you",
    "start": "1021950",
    "end": "1028380"
  },
  {
    "text": "solve your problem and you leverage Amazon services without the need on the old way hey maybe I need to change this",
    "start": "1028380",
    "end": "1036240"
  },
  {
    "text": "one and I build in the middle of the day query I need to test them so sometimes",
    "start": "1036240",
    "end": "1042839"
  },
  {
    "text": "you need to think outside the box another example which is we have a",
    "start": "1042839",
    "end": "1048000"
  },
  {
    "start": "1048000",
    "end": "1159000"
  },
  {
    "text": "mutable environment like you do we have a test we have dev environment so you",
    "start": "1048000",
    "end": "1054180"
  },
  {
    "text": "need the fresh data nightly to be pushed to to other environments so that you can",
    "start": "1054180",
    "end": "1059520"
  },
  {
    "text": "have accurate information where while you are building you are you are",
    "start": "1059520",
    "end": "1064950"
  },
  {
    "text": "developer so sometimes like you are thinking hey let me have a master nice-nice master",
    "start": "1064950",
    "end": "1073420"
  },
  {
    "text": "database as the RDS and okay I need to read replicas so I don't need to pay",
    "start": "1073420",
    "end": "1079120"
  },
  {
    "text": "that much let me put some sound something like simple like T to medium",
    "start": "1079120",
    "end": "1085900"
  },
  {
    "text": "with with the master so at the end you are company you have like two things",
    "start": "1085900",
    "end": "1091240"
  },
  {
    "text": "like master as Ferrari and the read replicas as the Toyota pyar I hope",
    "start": "1091240",
    "end": "1096550"
  },
  {
    "text": "there's no so anyway so one of the things as you can see here so when you",
    "start": "1096550",
    "end": "1103360"
  },
  {
    "text": "push down a couple of hundreds of gig of data during the night as you can see",
    "start": "1103360",
    "end": "1109000"
  },
  {
    "text": "look at the latency sometimes the latency between the master and the read replicas takes three to four hours so",
    "start": "1109000",
    "end": "1115990"
  },
  {
    "text": "that the read replicas can synchronize with the master and that's it will affect all other system now our other",
    "start": "1115990",
    "end": "1122830"
  },
  {
    "text": "pipelines that we have during the during the night so that the team so we have we",
    "start": "1122830",
    "end": "1128710"
  },
  {
    "text": "have offshore team of course so we have to have the system ready by 3:00 a.m. so",
    "start": "1128710",
    "end": "1134230"
  },
  {
    "text": "we cannot afford to head to have the read replica will be ready at 6 6 or 5 8",
    "start": "1134230",
    "end": "1139660"
  },
  {
    "text": "5 a.m. so again so leveraging the AI ops also the same so we pass from three",
    "start": "1139660",
    "end": "1148270"
  },
  {
    "text": "hours replication lag ooh almost none less than five minutes",
    "start": "1148270",
    "end": "1154270"
  },
  {
    "text": "so sometimes yes it's true you need to save money but sometimes you need to spend another thing that we try to do so",
    "start": "1154270",
    "end": "1161380"
  },
  {
    "start": "1159000",
    "end": "1198000"
  },
  {
    "text": "which is DB encryption so as you know so New York State requirement for the",
    "start": "1161380",
    "end": "1167230"
  },
  {
    "text": "encryption at rest want to an effect I think September 2018 or something like",
    "start": "1167230",
    "end": "1173020"
  },
  {
    "text": "that so we don't want to have KMS keys or everywhere so we have a master",
    "start": "1173020",
    "end": "1179350"
  },
  {
    "text": "account like Mike said so we have a master kms and it's distributed across",
    "start": "1179350",
    "end": "1185530"
  },
  {
    "text": "account so and with that we encrypt all our EC tools and RDS instances and we",
    "start": "1185530",
    "end": "1192070"
  },
  {
    "text": "are in process to make sure that we encrypt all the data in transit with all",
    "start": "1192070",
    "end": "1197170"
  },
  {
    "text": "these kms elastic cache we are have used of redis we have plus 50 plus instances",
    "start": "1197170",
    "end": "1205570"
  },
  {
    "start": "1198000",
    "end": "1262000"
  },
  {
    "text": "millions of keys one of the things also we try to do as I put it in this slide",
    "start": "1205570",
    "end": "1213610"
  },
  {
    "text": "so we try to use the charging with data partitioning because if you take Redis",
    "start": "1213610",
    "end": "1219520"
  },
  {
    "text": "as is it means an instance with the read replicas actually you are paying for the",
    "start": "1219520",
    "end": "1225370"
  },
  {
    "text": "read replicas just sitting there the instance it's good you are using it for read/write but the read replica is just",
    "start": "1225370",
    "end": "1232540"
  },
  {
    "text": "sitting there it's a failover you are not using it so for example for us we have we have a",
    "start": "1232540",
    "end": "1239440"
  },
  {
    "text": "couple of instances they have a couple of million but the your swap start to use though and you use the swap no more",
    "start": "1239440",
    "end": "1245530"
  },
  {
    "text": "cash so that's why we are transitioned from Redis instances to register cluster",
    "start": "1245530",
    "end": "1253360"
  },
  {
    "text": "so we will have better charging you can use the cluster entire lease or your",
    "start": "1253360",
    "end": "1258670"
  },
  {
    "text": "your read write across the board and the last thing of course we use terraform",
    "start": "1258670",
    "end": "1264640"
  },
  {
    "start": "1262000",
    "end": "1287000"
  },
  {
    "text": "with all what we showed you especially with the the database everything has to",
    "start": "1264640",
    "end": "1270280"
  },
  {
    "text": "be done automatically be automated so we are building our gr site so whatever we",
    "start": "1270280",
    "end": "1276820"
  },
  {
    "text": "provision as I ops or or or or RGS has to be automatically automatically done",
    "start": "1276820",
    "end": "1284560"
  },
  {
    "text": "in another another region in terms of like leveraging AWS and thinking about I think one of the most interesting things",
    "start": "1284560",
    "end": "1290710"
  },
  {
    "start": "1287000",
    "end": "1365000"
  },
  {
    "text": "that we in the industry talk about a lot is like lambda right and I think that we think about lambda in terms of the API",
    "start": "1290710",
    "end": "1296620"
  },
  {
    "text": "gateway and read/write requests but lambda I think is pretty interesting in the sense that it's getting this new",
    "start": "1296620",
    "end": "1302740"
  },
  {
    "text": "opportunity to think about things like scheduled jobs and like these one-off tasks and when you kind of combine it",
    "start": "1302740",
    "end": "1308470"
  },
  {
    "text": "and I think that this is the most interesting aspect of like AWS when you combine it with all of the different",
    "start": "1308470",
    "end": "1313840"
  },
  {
    "text": "mechanisms that you can invoke and call lambda functions it's a very powerful tool for automation and especially on",
    "start": "1313840",
    "end": "1320230"
  },
  {
    "text": "the DevOps front so this is one of the first in main use cases of lambda where",
    "start": "1320230",
    "end": "1325480"
  },
  {
    "text": "we were automating our nightly backup process with lambda previously these were like very obscure and like hard to",
    "start": "1325480",
    "end": "1332020"
  },
  {
    "text": "deal with jobs this lambda function was actually like written Ingo which allowed us to",
    "start": "1332020",
    "end": "1338090"
  },
  {
    "text": "get a lot of the type safety and testability that we wanted and it's triggered by a cloud watch event that",
    "start": "1338090",
    "end": "1344270"
  },
  {
    "text": "will invoke the lambda function at a particular time kick off this process and this is something that we are",
    "start": "1344270",
    "end": "1349340"
  },
  {
    "text": "leveraging a lot more in our infrastructure to easily manage and understand a lot of the automation that",
    "start": "1349340",
    "end": "1354830"
  },
  {
    "text": "we want to build especially in moving data from one account to another and then it's baked into the fabric of I am",
    "start": "1354830",
    "end": "1361550"
  },
  {
    "text": "and and the role based permission system that we want to achieve reserved instances a lot of this can kind of be",
    "start": "1361550",
    "end": "1367190"
  },
  {
    "text": "like a shot in the dark right like what instant size do I need let me just use like an m5 medium because that thinks",
    "start": "1367190",
    "end": "1372830"
  },
  {
    "text": "that that makes sense without actually having to do that due diligence and as we evolve our engineering organization and certainly as we leverage",
    "start": "1372830",
    "end": "1379010"
  },
  {
    "text": "observability a lot more instance sizing is the thing that comes to mind the most now we just happen to use eks so we get",
    "start": "1379010",
    "end": "1386630"
  },
  {
    "text": "a little bit more dynamic nature in terms of the CPU resources that we need but across the board whether it's how",
    "start": "1386630",
    "end": "1393860"
  },
  {
    "text": "are we configuring node pools on on eks or how are we dealing with RDS and ElastiCache sizing we're starting to",
    "start": "1393860",
    "end": "1400010"
  },
  {
    "text": "think a lot more and be more disciplined as in engineering to ensure that we're starting small but what we need and then",
    "start": "1400010",
    "end": "1407270"
  },
  {
    "text": "we have that automation and we have that that way of growing into our instances as we see fit one of the key elements I",
    "start": "1407270",
    "end": "1414170"
  },
  {
    "text": "think to is understanding what your infrastructure looks like so we're big fans of signal FX and then one of the",
    "start": "1414170",
    "end": "1420860"
  },
  {
    "text": "things that we did is we leveraged this tool is make sure that we have proper tag data on all of our instances so that",
    "start": "1420860",
    "end": "1426800"
  },
  {
    "text": "we could attribute what environment our ec2 nodes are what usage we've slated",
    "start": "1426800",
    "end": "1432340"
  },
  {
    "text": "potentially what team that we've built things like RDS databases for so that we have some amount of ownership and",
    "start": "1432340",
    "end": "1439280"
  },
  {
    "text": "understanding of like what were what we're doing and the thing that I love about signal effects and there's some other observability tools out there is",
    "start": "1439280",
    "end": "1446120"
  },
  {
    "text": "that it allows this like quick and easy multi-dimensional analysis so in this particular example I'm grouping by AWS",
    "start": "1446120",
    "end": "1453880"
  },
  {
    "text": "the name Lian tag that we applied to all of our instances I can filter on specific instances I can understand is",
    "start": "1453880",
    "end": "1461450"
  },
  {
    "text": "it CPU utilization that's an issue is it memory bound then as you can see like even though that we're a",
    "start": "1461450",
    "end": "1467100"
  },
  {
    "text": "but yellow and production I think that that's actually okay because it means that we're utilizing and we've size our",
    "start": "1467100",
    "end": "1472980"
  },
  {
    "text": "instances appropriately you know our lower environments are definitely over provisioned you know that's that's kind of okayed something",
    "start": "1472980",
    "end": "1478500"
  },
  {
    "text": "that we want to deal with but you know a little bit of yellow or even on the red side I think is that we're actually properly optimized and as we mature to",
    "start": "1478500",
    "end": "1486179"
  },
  {
    "text": "really think about tuning our auto scaling groups and one of the great things that kubernetes now offers on AWS",
    "start": "1486179",
    "end": "1492570"
  },
  {
    "text": "is this notion of vertical and horizontal pod auto scaling we can really like tune and optimize around",
    "start": "1492570",
    "end": "1497850"
  },
  {
    "text": "this around this number and help lower overall costs but just make sure that we're we're not necessarily overpaying",
    "start": "1497850",
    "end": "1505260"
  },
  {
    "text": "for what we don't need and in progressing our infrastructure ability so as I kind of like wrap up you know we",
    "start": "1505260",
    "end": "1511140"
  },
  {
    "start": "1509000",
    "end": "1752000"
  },
  {
    "text": "think about 2019 you know things that we're very curious about is the container evolution strategy for AWS",
    "start": "1511140",
    "end": "1518130"
  },
  {
    "text": "so we heard Fargate mentioned previously far gate is a way of running kind of",
    "start": "1518130",
    "end": "1524280"
  },
  {
    "text": "containers without having to worry about the underlying server sizing so with Fargate you say I want to run this",
    "start": "1524280",
    "end": "1532020"
  },
  {
    "text": "docker container give it to CPUs and 200 megabytes of memory or you know to 2",
    "start": "1532020",
    "end": "1539100"
  },
  {
    "text": "gigs of memory and then you're just provisioning you're just paying for that and one of the things that they do have",
    "start": "1539100",
    "end": "1544679"
  },
  {
    "text": "planned is the ability to effectively use the kubernetes api to launch Fargate",
    "start": "1544679",
    "end": "1551549"
  },
  {
    "text": "instances and i think that that's great and I think that's also shows a little bit the power of like the kubernetes ecosystem and the API that kubernetes",
    "start": "1551549",
    "end": "1558390"
  },
  {
    "text": "provides which is we don't necessarily need to worry about nodes anymore in terms of trying to map containers onto",
    "start": "1558390",
    "end": "1564960"
  },
  {
    "text": "nodes and you know should I use our 5x larges or should I use high compute is that we can do that at the pod level and",
    "start": "1564960",
    "end": "1572880"
  },
  {
    "text": "then have far gate manage that for us but not necessarily get you know quote-unquote locked in to the to the",
    "start": "1572880",
    "end": "1579299"
  },
  {
    "text": "whole far gate API right and it's like we may want to get locked into AWS",
    "start": "1579299",
    "end": "1584340"
  },
  {
    "text": "that's kind of inevitable but we can at least use these open source API s and these open source standards to make our",
    "start": "1584340",
    "end": "1589620"
  },
  {
    "text": "automation and to leverage the whole open source ecosystem around kubernetes a little bit easier transit gateway is",
    "start": "1589620",
    "end": "1595350"
  },
  {
    "text": "on something that's very interesting in terms of managing VP C's so",
    "start": "1595350",
    "end": "1600720"
  },
  {
    "text": "whereas you would have to worry a lot about routing tables and IP address rules and how am i stitching everything together transit gateway was released at",
    "start": "1600720",
    "end": "1609060"
  },
  {
    "text": "the latest AWS reinvent and that's kind of a better way of I think building out the",
    "start": "1609060",
    "end": "1614400"
  },
  {
    "text": "automation of the platform to make VPC traffic and intervie PC traffic work a little bit better",
    "start": "1614400",
    "end": "1619440"
  },
  {
    "text": "Aurora Postgres so we're big fans of Aurora we use Postgres unfortunately",
    "start": "1619440",
    "end": "1625140"
  },
  {
    "text": "Aurora Postgres is always like lagging behind Aurora my sequel so if you're choosing between these two as much as",
    "start": "1625140",
    "end": "1631680"
  },
  {
    "text": "you may love Postgres just go at their or a my sequel but that's kind of coming along and I think that moving to a multi",
    "start": "1631680",
    "end": "1637590"
  },
  {
    "text": "region strategy we it already is happening with Aurora my sequel when that goes with Postgres I think we're",
    "start": "1637590",
    "end": "1643860"
  },
  {
    "text": "gonna have a lot more opportunities for dealing with kind of distributed state management across regions and what that",
    "start": "1643860",
    "end": "1648930"
  },
  {
    "text": "means for how we we build and develop our apps you know lambda is something that I've always been somewhat skeptical",
    "start": "1648930",
    "end": "1654930"
  },
  {
    "text": "about it does have a great amount of advantages but there's an element that you have to learn for it in terms of how",
    "start": "1654930",
    "end": "1660960"
  },
  {
    "text": "am I dealing with I am permissioning how am i dealing with kind of config management where we've matured our",
    "start": "1660960",
    "end": "1666330"
  },
  {
    "text": "kubernetes ecosystem so much that's kind of like our easy default that doesn't mean that there isn't a benefit for",
    "start": "1666330",
    "end": "1671610"
  },
  {
    "text": "lambda but introducing that into our ecosystem in a way that makes sense it can be very beneficial ec2 optimizations",
    "start": "1671610",
    "end": "1677400"
  },
  {
    "text": "I think that there's always great stuff happening on the ec2 front and I think",
    "start": "1677400",
    "end": "1682800"
  },
  {
    "text": "that this is one element where using something like terraform becomes very important where can I easily create my",
    "start": "1682800",
    "end": "1689700"
  },
  {
    "text": "infrastructure on new instance types can I easily do a/b comparisons to know is it worth it for me to move to a",
    "start": "1689700",
    "end": "1695760"
  },
  {
    "text": "next-generation class or can I experiment with different instance sizes without having to click a lot of elements on a UI that may be ok you know",
    "start": "1695760",
    "end": "1703350"
  },
  {
    "text": "a five-person engineering organization or even a 10-person engineering organization but when you're at 140",
    "start": "1703350",
    "end": "1708720"
  },
  {
    "text": "engineers automation and infrastructure airs code is absolutely instrumental in the success for for moving at speed and",
    "start": "1708720",
    "end": "1715320"
  },
  {
    "text": "moving safely and then finally a better account management I think where we can",
    "start": "1715320",
    "end": "1721110"
  },
  {
    "text": "map roles and I think that the whole iam ecosystem is like one of those very",
    "start": "1721110",
    "end": "1726260"
  },
  {
    "text": "complex elements that if you can spend some time devoting to it when you're",
    "start": "1726260",
    "end": "1731910"
  },
  {
    "text": "ready as an organization you can really unlock a of the power of AWS and a lot of the",
    "start": "1731910",
    "end": "1736950"
  },
  {
    "text": "power of an engineer being able to do things quickly but also do it safely",
    "start": "1736950",
    "end": "1742170"
  },
  {
    "text": "and not do things like leaking out kind of privileged information or making sure that we have the right restrictions in",
    "start": "1742170",
    "end": "1748980"
  },
  {
    "text": "place and audit capabilities in place for who's accessing what so that's it I ended this with my last talk and I also",
    "start": "1748980",
    "end": "1754770"
  },
  {
    "start": "1752000",
    "end": "1832000"
  },
  {
    "text": "think that it's very important is like everything that we do is an investment we want to return on that investment and",
    "start": "1754770",
    "end": "1760770"
  },
  {
    "text": "we must build up on what we've done and so if you're spinning your wheels you know you're trying different things but you're not necessarily moving forward",
    "start": "1760770",
    "end": "1766380"
  },
  {
    "text": "that can be damaging and I also think again that you don't have to worry about making the right choice at the time I",
    "start": "1766380",
    "end": "1772380"
  },
  {
    "text": "think that what makes or breaks kind of organizations especially ones that are growing fast is do you have a mechanism",
    "start": "1772380",
    "end": "1777990"
  },
  {
    "text": "to evolve when you need to evolve right if you've locked yourself into something too much and you're not willing to like",
    "start": "1777990",
    "end": "1783960"
  },
  {
    "text": "take a breather or reevaluate is this worth my time and what is an investment that I need to make in something else or",
    "start": "1783960",
    "end": "1789810"
  },
  {
    "text": "have an evaluation process that's where I think that you could be left with something that becomes unmanageable and I think the thing that I'm most proud of",
    "start": "1789810",
    "end": "1796710"
  },
  {
    "text": "when I think about namely infrastructure and what we've done is we've embraced this like refactoring our infrastructure",
    "start": "1796710",
    "end": "1802740"
  },
  {
    "text": "the same way that we refactor our code right we're not stuck into any particular technology or way of doing",
    "start": "1802740",
    "end": "1809670"
  },
  {
    "text": "things we can evolve lambda and introduce that into our ecosystem we can move from managing our own kubernetes to",
    "start": "1809670",
    "end": "1815700"
  },
  {
    "text": "eks we can introduce sto as a layer on top of our infrastructure to help",
    "start": "1815700",
    "end": "1822590"
  },
  {
    "text": "and that's it thank you very much [Music] [Applause]",
    "start": "1823070",
    "end": "1828679"
  }
]