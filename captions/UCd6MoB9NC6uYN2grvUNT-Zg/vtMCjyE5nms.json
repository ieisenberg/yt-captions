[
  {
    "start": "0",
    "end": "30000"
  },
  {
    "text": "good afternoon I'm beetle also known as dawn Bailey I'm a security geek on the AWS security team my day job is",
    "start": "30",
    "end": "7350"
  },
  {
    "text": "protecting AWS customers their data and AWS itself and I'm Brian Wagner I'm with",
    "start": "7350",
    "end": "13290"
  },
  {
    "text": "AWS Financial Services and I am a security and compliance specialist which",
    "start": "13290",
    "end": "18359"
  },
  {
    "text": "is just like a fancy thing that says I help helping banks be secure in the cloud this is SEC 3 to 7",
    "start": "18359",
    "end": "25050"
  },
  {
    "text": "AWS security in your sleep and thanks for hanging out with Brian and I today",
    "start": "25050",
    "end": "30380"
  },
  {
    "start": "30000",
    "end": "30000"
  },
  {
    "text": "so here is what we will be geeking on we're going to talk about sleep for security geeks the Incident Response",
    "start": "30529",
    "end": "37620"
  },
  {
    "text": "workflow automation we will talk about a number of AWS services capabilities that",
    "start": "37620",
    "end": "42930"
  },
  {
    "text": "will actually help you make that happen we're gonna present a number of Incident Response workflow automation examples",
    "start": "42930",
    "end": "49710"
  },
  {
    "text": "we'll go from idea to code to actual execution we'll have a number of resources to further assist you in",
    "start": "49710",
    "end": "56789"
  },
  {
    "text": "getting that well-deserved sleep and of course we're going to have some demos we're gonna have some demos we want to",
    "start": "56789",
    "end": "62489"
  },
  {
    "text": "prove all that stuff to you want to show you how it works great let's get to it alright so for my first trick we'll go",
    "start": "62489",
    "end": "69390"
  },
  {
    "text": "over our first load judgment incident in terms of Incident Response so as we said",
    "start": "69390",
    "end": "75150"
  },
  {
    "text": "what happens when we turn off cloud trail well we have to turn it back on so in this case I've got a cloud trail right here on the console and we're just",
    "start": "75150",
    "end": "81930"
  },
  {
    "text": "gonna go ahead and turn it off are you sure you want to stop logging yes I do yes I am and I will in a matter of",
    "start": "81930",
    "end": "88380"
  },
  {
    "text": "seconds I'll have to refresh of course but in a matter of seconds we're gonna turn the cloud trail right back on right so part of that containment we're gonna",
    "start": "88380",
    "end": "94439"
  },
  {
    "text": "right away we're gonna contain the incident let me just do a quick refresh so cloud trail is already back on as you",
    "start": "94439",
    "end": "101520"
  },
  {
    "text": "can see and if we look at time frames here we might we might see it in cloud",
    "start": "101520",
    "end": "106920"
  },
  {
    "text": "once it's just in cloud trail rather let's have a look we're not gonna quite see it the timeline just yet it doesn't bubble up but it doesn't bubble up",
    "start": "106920",
    "end": "113850"
  },
  {
    "text": "bubble up to the visual log quite as quickly but the lesson learned here is the event actually does fire in real",
    "start": "113850",
    "end": "120030"
  },
  {
    "text": "time even though we're not looking at the stop logging call on the the screen right now in the event history that log",
    "start": "120030",
    "end": "126780"
  },
  {
    "text": "gets turned on with you know almost immediately again in sort of near real-time so just real quick we can even",
    "start": "126780",
    "end": "132540"
  },
  {
    "text": "do it one more time logging is on we're going to turn it off logging is off and just with a simple",
    "start": "132540",
    "end": "139500"
  },
  {
    "text": "refresh we're gonna see that it's already back on so incident contained",
    "start": "139500",
    "end": "145129"
  },
  {
    "text": "decision is made and we move on nice so here's a run book of what actually",
    "start": "145129",
    "end": "151950"
  },
  {
    "start": "149000",
    "end": "149000"
  },
  {
    "text": "happens when we're detecting AWS cloud trail as being turned off right we have an incident response run book for",
    "start": "151950",
    "end": "158459"
  },
  {
    "text": "dealing with that the first thing that we're doing is we're turning cloud trail back on we're going to gather event data",
    "start": "158459",
    "end": "165599"
  },
  {
    "text": "that's actually related to this event we'll also extract the principal the",
    "start": "165599",
    "end": "172200"
  },
  {
    "text": "date the time the source IP other event data will map that principle to a human",
    "start": "172200",
    "end": "178849"
  },
  {
    "text": "will look up the human contact info will use whatever internal mechanism we have within our organization whether it's an",
    "start": "178849",
    "end": "185640"
  },
  {
    "text": "LDAP query or a rolodex will contact that human will provide them with some",
    "start": "185640",
    "end": "190950"
  },
  {
    "text": "guidance and of course we'll offer them some support if there's something that they're trying to get done and they need us to explain it to them we're here to",
    "start": "190950",
    "end": "196470"
  },
  {
    "text": "help and then we're going to generate event summary information for later reporting now it's important to note",
    "start": "196470",
    "end": "203940"
  },
  {
    "text": "that we don't actually have to be awake for any of that to occur I suppose you could call this run booked something",
    "start": "203940",
    "end": "209760"
  },
  {
    "text": "fancy so that the auditors are impressed something like cloud environment logging integrity exception response workflow or",
    "start": "209760",
    "end": "217319"
  },
  {
    "text": "cloud trail off and that's bad yeah that's a better name that's a much better day clear I think will actually",
    "start": "217319",
    "end": "223049"
  },
  {
    "text": "go with that right so what are we doing so the first step is fixing the problem",
    "start": "223049",
    "end": "229019"
  },
  {
    "text": "right containment we want to get that containment that resolution is close to the time of the incident as possible so",
    "start": "229019",
    "end": "234720"
  },
  {
    "text": "you know those steps could be executed in certain order but we do want to prioritize the one that actually fixes",
    "start": "234720",
    "end": "241079"
  },
  {
    "text": "the problem so in this case it's very simple cloud trail is off return cloud trail back on and in this case I'm using",
    "start": "241079",
    "end": "247290"
  },
  {
    "text": "a lambda function written in lambda or sorry written in Python which just says cloud trail start logging in the get the",
    "start": "247290",
    "end": "253139"
  },
  {
    "text": "trail name so for the the next piece which is about gathering evidence actually those happen simultaneously",
    "start": "253139",
    "end": "258979"
  },
  {
    "text": "with cloud watch events when the actual cloud trail gets turned off and that API",
    "start": "258979",
    "end": "264419"
  },
  {
    "text": "call fires you're actually gonna get a wealth of information that comes out of that event so but the",
    "start": "264419",
    "end": "269789"
  },
  {
    "text": "event is the important thing here so to be able to sort of subscribe to cloud trail being turned off you'll see the",
    "start": "269789",
    "end": "275069"
  },
  {
    "text": "event pattern there that just is literally looking for that's that that stop logging call so what that gives you",
    "start": "275069",
    "end": "285449"
  },
  {
    "text": "when you do and it does fire that event is a wealth of information like I said so that is happening at the same time as",
    "start": "285449",
    "end": "291030"
  },
  {
    "text": "the actual we're going to turn cloud trail back on right so the the event that pumps into lambda that is gonna",
    "start": "291030",
    "end": "296729"
  },
  {
    "text": "turn that cloud trail back on has all this information and you get you know your name you get you get the name of",
    "start": "296729",
    "end": "303750"
  },
  {
    "text": "the trail rather because that is part of the input for the lambda function and in other things like who is doing it and",
    "start": "303750",
    "end": "309870"
  },
  {
    "text": "what time it was things like that so in this case in context of this particular run book that name is we're gonna we're",
    "start": "309870",
    "end": "315870"
  },
  {
    "text": "going to pull that into the into the lambda function to use it to start logging again so now we need to get more",
    "start": "315870",
    "end": "323819"
  },
  {
    "text": "information we need to extract extract the principal the day at the time the source and so on from the event data so",
    "start": "323819",
    "end": "328860"
  },
  {
    "text": "what we're going to use in this case with that contextual information from the event was we want to actually go",
    "start": "328860",
    "end": "334289"
  },
  {
    "text": "back into cloud trail the thing that is off now but it does have a record of itself being turned off so we're gonna",
    "start": "334289",
    "end": "340050"
  },
  {
    "text": "get some really cool information you can you know you get the principal you get the time you get the IP address you get",
    "start": "340050",
    "end": "345539"
  },
  {
    "text": "a lot more wealth of information and what's cool about that again we're not waking up for this all right I gave you",
    "start": "345539",
    "end": "351210"
  },
  {
    "text": "a screenshot here but you can programmatically filter for that information right from the lambda",
    "start": "351210",
    "end": "356879"
  },
  {
    "text": "function you just say give me the last event where the event name equals stop logging right and what the important",
    "start": "356879",
    "end": "362939"
  },
  {
    "text": "information we get to see from this is of the role who actually did it right it",
    "start": "362939",
    "end": "368460"
  },
  {
    "text": "does come with the event data sure but now we have to dig it another layer deeper a role some I am role was the",
    "start": "368460",
    "end": "374669"
  },
  {
    "text": "thing that turned it off so we needed to now we need to go back and figure out who it was that actually assumed the",
    "start": "374669",
    "end": "383069"
  },
  {
    "text": "role map the principle to a human so how do we do that in our sleep automatically well we need to go back to cloud trail",
    "start": "383069",
    "end": "389189"
  },
  {
    "text": "again for another filter what we want in the net filter there at the top is we want to see who assumed that role last",
    "start": "389189",
    "end": "396000"
  },
  {
    "text": "or at that time if you want to do a time boxed event you know if we're looking at this late or whatever but you want to see who that",
    "start": "396000",
    "end": "402990"
  },
  {
    "text": "was so now we've got that the event we've got the principal who in this case was a role and we've got the human map to that principle at this point still",
    "start": "402990",
    "end": "410370"
  },
  {
    "text": "haven't woken up yet by the way so let's look them up beetle propose a",
    "start": "410370",
    "end": "415560"
  },
  {
    "text": "really interesting solution if it was rolodex so unless you have like a bottle su built like an alexa query or",
    "start": "415560",
    "end": "421530"
  },
  {
    "text": "something to look up rolodex we're not gonna use rolodex we're actually going to probably do an LDAP query it just",
    "start": "421530",
    "end": "426630"
  },
  {
    "text": "seems much more practical at that point I agree yeah so now we gonna contact",
    "start": "426630",
    "end": "431640"
  },
  {
    "text": "them now we have their information we got to offer them support you know it was that was that an error did this",
    "start": "431640",
    "end": "437400"
  },
  {
    "text": "person to this human make a mistake by turning cloud trail off or was it something malicious so contacting them",
    "start": "437400",
    "end": "443250"
  },
  {
    "text": "and offer them guidance you might be actually alerting them and it happened in the first place and they didn't know it was a bad thing so it's it's not so",
    "start": "443250",
    "end": "449790"
  },
  {
    "text": "much you know hey you're fired it's more like there's a thing that happened we fixed it but you need to know about it",
    "start": "449790",
    "end": "454920"
  },
  {
    "text": "and then lastly we need a summary for ourselves for posterity and for you know",
    "start": "454920",
    "end": "460620"
  },
  {
    "text": "how did this happen in the first place did the the principle that had permission to do that should they have permission to do that so we need to know",
    "start": "460620",
    "end": "467100"
  },
  {
    "text": "about these things so that we can improve our security posture later on so",
    "start": "467100",
    "end": "472650"
  },
  {
    "text": "high level the automation is sort of an in this order and we're not sort of very literally in this order so gather the it",
    "start": "472650",
    "end": "479760"
  },
  {
    "text": "so from 1 to 7 to gather the event data turn it back on right which will of course again we want that to be closest",
    "start": "479760",
    "end": "486360"
  },
  {
    "text": "in the ordinal operation the order of operations to be as close to the front as possible extract the principle map",
    "start": "486360",
    "end": "493980"
  },
  {
    "text": "that principle to the human look up the human contact info contact the human and",
    "start": "493980",
    "end": "499980"
  },
  {
    "text": "then generate that report so all those align those capabilities that we're gonna do this in our sleep",
    "start": "499980",
    "end": "505230"
  },
  {
    "text": "API driven and aligned to the services there for each of those steps so who",
    "start": "505230",
    "end": "512070"
  },
  {
    "text": "here has been a security geek for more than a week right you've already seen",
    "start": "512070",
    "end": "517229"
  },
  {
    "text": "this nice incident response circle of life where we find out that something",
    "start": "517229",
    "end": "522360"
  },
  {
    "text": "happened and we want to establish control over the situation determine what's actually occurred make sure that",
    "start": "522360",
    "end": "528030"
  },
  {
    "text": "we're getting back to a known good state we investigate how it happened in the first place and ideally we're going to",
    "start": "528030",
    "end": "533250"
  },
  {
    "text": "put things and place that will prevent that thing from occurring again but nowhere in this",
    "start": "533250",
    "end": "538260"
  },
  {
    "text": "circle of life does it say sleep it that makes it sound like it's more like an",
    "start": "538260",
    "end": "543420"
  },
  {
    "text": "eye our hamster wheel right it's a it's a carnival ride maybe that somebody else chooses for you to ride and in the",
    "start": "543420",
    "end": "551100"
  },
  {
    "text": "middle of the night and also blindfolded correct so we do lose some sleep over",
    "start": "551100",
    "end": "558210"
  },
  {
    "start": "555000",
    "end": "555000"
  },
  {
    "text": "security but that should actually be the exception and not the rule security geeks require sleep and when I",
    "start": "558210",
    "end": "565830"
  },
  {
    "text": "say sleep I'm not just saying Z's right I'm not talking about snoozing certainly",
    "start": "565830",
    "end": "571890"
  },
  {
    "text": "not on the job although it's nice when we actually do get to really sleep what I'm talking about is time that's not",
    "start": "571890",
    "end": "577980"
  },
  {
    "text": "actively engaged in firefighting great this is the downtime that's necessary",
    "start": "577980",
    "end": "583170"
  },
  {
    "text": "for you to do a whole bunch of other things all the non-emergent security engineering stuff right whether it's",
    "start": "583170",
    "end": "590130"
  },
  {
    "text": "application security whether it's compliance related stuff whether it's threat intelligence and there's a lot of",
    "start": "590130",
    "end": "598080"
  },
  {
    "text": "inventing and building that you would like to do creation of new solutions for your team for your customers and you",
    "start": "598080",
    "end": "606120"
  },
  {
    "text": "don't do that in the middle of the night you need to do that when you have the downtime there's also a lot of learning",
    "start": "606120",
    "end": "612840"
  },
  {
    "text": "a lot of you come to events like this and you learn and you need time to",
    "start": "612840",
    "end": "619380"
  },
  {
    "text": "actually go and do that whether it's in training whether it's in attending conferences whether it's in researching",
    "start": "619380",
    "end": "625470"
  },
  {
    "text": "and then you take what you learn back to your team and you educate and that's",
    "start": "625470",
    "end": "631260"
  },
  {
    "text": "another non-emergent security engineering thing to do and then there's",
    "start": "631260",
    "end": "636420"
  },
  {
    "text": "non security stuff too right there is the real sleep that we would like to get we have other hobbies video games we'd",
    "start": "636420",
    "end": "643500"
  },
  {
    "text": "love to do that yes so why can't security geeks get sleep well the pager",
    "start": "643500",
    "end": "651900"
  },
  {
    "start": "646000",
    "end": "646000"
  },
  {
    "text": "keeps going off but why does the pager keep going off why are humans being",
    "start": "651900",
    "end": "657480"
  },
  {
    "text": "engaged to deal with Incident Response well most of the time mitigation",
    "start": "657480",
    "end": "663660"
  },
  {
    "text": "requires a human or investigation of the event requires a human or",
    "start": "663660",
    "end": "670720"
  },
  {
    "text": "analysis of all the surrounding data and correlating that to human activity requires a human or contacting a human",
    "start": "670720",
    "end": "679300"
  },
  {
    "text": "requires a human or writing a report for a human requires a human but in reality",
    "start": "679300",
    "end": "685390"
  },
  {
    "text": "a human probably isn't needed for all of those things all of the time so what",
    "start": "685390",
    "end": "692740"
  },
  {
    "text": "we're learning about today is how we can put AWS to work for us so that we can get some sleep automation of a various security-related",
    "start": "692740",
    "end": "700800"
  },
  {
    "start": "693000",
    "end": "693000"
  },
  {
    "text": "workflow is the key to actually getting that much deserved downtime the free",
    "start": "700800",
    "end": "706000"
  },
  {
    "text": "cycles that you need you need to look around and find the opportunities to",
    "start": "706000",
    "end": "713500"
  },
  {
    "text": "actually automate and an incident response there will be candidates that are right for automation you'll have to",
    "start": "713500",
    "end": "720820"
  },
  {
    "text": "ask them tough questions though to figure out what you will actually automate such as what are the hard",
    "start": "720820",
    "end": "727630"
  },
  {
    "text": "boundaries where we can act quickly are there opportunities where there's a binary decision a quick decision that we",
    "start": "727630",
    "end": "734440"
  },
  {
    "text": "can make based on a known policy that everybody believes in and we know is the right answer and we're going to go",
    "start": "734440",
    "end": "741220"
  },
  {
    "text": "forward with that can we make that decision quickly and can we have automation take care of it for us do we appropriately assess and",
    "start": "741220",
    "end": "750360"
  },
  {
    "text": "assign risk to all events when we see events come in and we look at them with",
    "start": "750360",
    "end": "757360"
  },
  {
    "text": "a human are we making the same decisions and the same assessments associated with",
    "start": "757360",
    "end": "762520"
  },
  {
    "text": "risk for those same events over and over and over could we start classifying those could we have playbooks where",
    "start": "762520",
    "end": "769870"
  },
  {
    "text": "automation classifies assesses risk assigns priority we have to ask another",
    "start": "769870",
    "end": "776770"
  },
  {
    "text": "question what value does a human bring to this particular workflow if I'm",
    "start": "776770",
    "end": "783790"
  },
  {
    "text": "sending an email to another person to tell them about an incident could that",
    "start": "783790",
    "end": "789460"
  },
  {
    "text": "have been done by a robot similarly can",
    "start": "789460",
    "end": "795850"
  },
  {
    "text": "i nuke the root cause instead am i developing a lot of Incident Response work",
    "start": "795850",
    "end": "801430"
  },
  {
    "text": "little automation to deal with an event that keeps happening where I should just figure out how to stop that event from",
    "start": "801430",
    "end": "807310"
  },
  {
    "text": "occurring in the first place that'll give us a lot more free cycles",
    "start": "807310",
    "end": "813240"
  },
  {
    "text": "the key thing to hear today is that you're going to have to automate",
    "start": "813300",
    "end": "819279"
  },
  {
    "text": "Incident Response anyway security agility mean time to recovery all of the",
    "start": "819279",
    "end": "826690"
  },
  {
    "text": "things that are going to help you increase your scale match the velocity of your business will require you to",
    "start": "826690",
    "end": "834070"
  },
  {
    "text": "invest in security automation so this all sounds pretty familiar if you've",
    "start": "834070",
    "end": "839680"
  },
  {
    "text": "been to re-invent before if you've been to one of our talks before these are things that we talked about and if you'd",
    "start": "839680",
    "end": "846339"
  },
  {
    "text": "like to learn more about some of the things we've automated in the past and some of the tips and tricks that we've given you can go on the youtubes and",
    "start": "846339",
    "end": "852910"
  },
  {
    "text": "find automating security event response in 2016 or force multiplying your",
    "start": "852910",
    "end": "859060"
  },
  {
    "text": "security team with Alexa last year and in those talks you'll learn more about",
    "start": "859060",
    "end": "864220"
  },
  {
    "text": "detection logging automation triggers rolling back to known-good States you'll",
    "start": "864220",
    "end": "869800"
  },
  {
    "text": "also learn about a number of prerequisites the vegetables that we like to talk about that you should be eating and making sure that you have in",
    "start": "869800",
    "end": "876190"
  },
  {
    "text": "place already before you go down the road of trying to automate a number of security related workflows so we're",
    "start": "876190",
    "end": "882580"
  },
  {
    "text": "gonna hit the highlights of some of that previous presentation and we'll also introduce some new stuff and using AWS",
    "start": "882580",
    "end": "891339"
  },
  {
    "text": "to automate and we have some really cool services that can help you automate and",
    "start": "891339",
    "end": "896440"
  },
  {
    "text": "I think we're the way to talk about this is yeah there are cool services but",
    "start": "896440",
    "end": "901660"
  },
  {
    "text": "there's also services that have cool features that can help help you along that automation story like guard duty",
    "start": "901660",
    "end": "908920"
  },
  {
    "text": "may see inspector these these kind of services are sort of more obvious but",
    "start": "908920",
    "end": "914440"
  },
  {
    "text": "this it's the Supplemental services around that so you you know you've got config for example when beetle talks",
    "start": "914440",
    "end": "919810"
  },
  {
    "text": "about restoring to last-known good well AWS config literally will tell you the history of the configuration of your",
    "start": "919810",
    "end": "925870"
  },
  {
    "text": "environment so that's a really great place to find your last known good of course lambda one of our favorite workhorses to actually execute most of",
    "start": "925870",
    "end": "932950"
  },
  {
    "text": "this automation but today what I want to kind of elevate that sort of that lambda discussion or the execution",
    "start": "932950",
    "end": "938290"
  },
  {
    "text": "side to a service that is called AWS step functions so just real quick I mean",
    "start": "938290",
    "end": "943509"
  },
  {
    "text": "these are not brand new step functions are not brand new but I'm introducing them I'm proposing that we introduce",
    "start": "943509",
    "end": "948699"
  },
  {
    "text": "them to an ir workflow so how many people today are already using step functions for other reasons or a IR as",
    "start": "948699",
    "end": "954910"
  },
  {
    "text": "well okay that's good yeah there's there's I kind of expected to see that number of hands it's a pretty popular",
    "start": "954910",
    "end": "960179"
  },
  {
    "text": "pretty popular service in Y right so the",
    "start": "960179",
    "end": "965199"
  },
  {
    "start": "964000",
    "end": "964000"
  },
  {
    "text": "definition like anything else in AWS is JSON is nice and structured you can even really finitely structure your your",
    "start": "965199",
    "end": "971949"
  },
  {
    "text": "state your state engine or your your step function they're sort of used interchangeably you can visualize it in",
    "start": "971949",
    "end": "978189"
  },
  {
    "text": "the console so you can see the actual output of that and the actual individual executions you can monitor and it like",
    "start": "978189",
    "end": "984579"
  },
  {
    "text": "it they light up you know green if they're successful right if they're not but you can actually see the flow as you",
    "start": "984579",
    "end": "990790"
  },
  {
    "text": "move through those step functions to execute those actions and what was the result you can see the inputs the outputs and you can jump right to the",
    "start": "990790",
    "end": "996759"
  },
  {
    "text": "logs and so on and so forth it's just it's a really cool it's a really cool way to organize the steps that we're",
    "start": "996759",
    "end": "1004049"
  },
  {
    "text": "talking about you know a way to execute or a way to structure your run book so",
    "start": "1004049",
    "end": "1010649"
  },
  {
    "text": "Beatle talks about eating your vegetables if this is your first time that may not be too familiar of a term",
    "start": "1010649",
    "end": "1017040"
  },
  {
    "start": "1011000",
    "end": "1011000"
  },
  {
    "text": "but it's really you to achieve automation you have to eat your vegetables you can't jump right to",
    "start": "1017040",
    "end": "1022470"
  },
  {
    "text": "dessert so what we're saying as far as vegetables go it's you know where does",
    "start": "1022470",
    "end": "1027750"
  },
  {
    "text": "that information come from what do you need to know in order to have an effective incident response plan so you",
    "start": "1027750",
    "end": "1033688"
  },
  {
    "text": "you know do you need environment specific or application specific logs in addition to cloud drill those you know",
    "start": "1033689",
    "end": "1040139"
  },
  {
    "text": "they can go into cloud watch logs if that's what you need do you have the role appropriate in your AWS environment",
    "start": "1040139",
    "end": "1046288"
  },
  {
    "text": "to be able to query for those logs or query for other information centralized",
    "start": "1046289",
    "end": "1052289"
  },
  {
    "text": "alerting where where else is that stuff being stored what else do you need to know what is the context around some of",
    "start": "1052289",
    "end": "1057330"
  },
  {
    "text": "these alerts and where to get it restoring and like backup or versioning if are you using",
    "start": "1057330",
    "end": "1063029"
  },
  {
    "text": "are you versioning off some of your resources or are you versioning CloudFormation that you need to go",
    "start": "1063029",
    "end": "1069040"
  },
  {
    "text": "understand whatever your backups are and if you need access to them in in order to restore to a last known good state",
    "start": "1069040",
    "end": "1075059"
  },
  {
    "text": "bucket logging is true as well that might be another source of information that is gonna be useful to decide to",
    "start": "1075059",
    "end": "1080830"
  },
  {
    "text": "make choices on how to do stuff pre-built ir environments this is a big one if part of your ir workflow involves",
    "start": "1080830",
    "end": "1087450"
  },
  {
    "text": "you know third party software or your own homegrown software or whatever that environment should be prepared it's like",
    "start": "1087450",
    "end": "1093580"
  },
  {
    "text": "a cleanroom you need to bring stuff to that environment or whatever the again whatever the the objective is and that",
    "start": "1093580",
    "end": "1100000"
  },
  {
    "text": "environment has to be there you don't construct that environment for the first time the first time you have an incident you're gonna want to have that there all",
    "start": "1100000",
    "end": "1105250"
  },
  {
    "text": "the time as well as the mechanism to get the bad thing over to that environment to be able to use it",
    "start": "1105250",
    "end": "1111010"
  },
  {
    "text": "run books you should you should have a plan right and that's what we're proposing we have the tools to allow you",
    "start": "1111010",
    "end": "1116890"
  },
  {
    "text": "to stitch together that plan to get more sleep and I think the most important one is practice practice practice that is",
    "start": "1116890",
    "end": "1123040"
  },
  {
    "text": "the most important vegetable it has the most most nutrients for you in this context absolutely and if you've been to",
    "start": "1123040",
    "end": "1129460"
  },
  {
    "text": "one of our presentations before you know that we're big proponents of practice in fact I think we coined this phrase yeah",
    "start": "1129460",
    "end": "1136600"
  },
  {
    "text": "and will happily say it together and have you say it with us there are two ways to get practices in",
    "start": "1136600",
    "end": "1142929"
  },
  {
    "text": "an incident response and you get to choose one good everybody to practice or",
    "start": "1142929",
    "end": "1149670"
  },
  {
    "text": "crazytown right and this is me at four o'clock in the morning waking up to a",
    "start": "1149670",
    "end": "1156040"
  },
  {
    "text": "page maybe it's you it we don't want crazytown and the way that we avoid that is essentially having the practice in",
    "start": "1156040",
    "end": "1162460"
  },
  {
    "text": "the first place having the vegetables that we've eaten having the pre-built ir environments yet making sure that we've",
    "start": "1162460",
    "end": "1168600"
  },
  {
    "text": "prepared for that type of event so again back to it was getting more",
    "start": "1168600",
    "end": "1175600"
  },
  {
    "text": "specific it's the most important thing about IR is knowing when you have an incident and so that means you have to",
    "start": "1175600",
    "end": "1181420"
  },
  {
    "text": "know where to look for incidents right so you need to know where to look so you you I always get asked what should okay",
    "start": "1181420",
    "end": "1187929"
  },
  {
    "text": "now I know where to look maybe but what should I be looking for right that's basically my rule is I look I don't know",
    "start": "1187929",
    "end": "1194980"
  },
  {
    "text": "you know specifically or your business objectives or your security objectives but I always say if you can get it into",
    "start": "1194980",
    "end": "1201790"
  },
  {
    "text": "cloud watch whatever it is whatever the information sources is an environment log app log doesn't matter if you can get it into",
    "start": "1201790",
    "end": "1208030"
  },
  {
    "text": "cloud watch and that is either logs events or even alarms like metrics actual the the metrics on resources then",
    "start": "1208030",
    "end": "1215290"
  },
  {
    "text": "you can you can detect it right that's the whole point of cloud watch that's literally the point of the service but I",
    "start": "1215290",
    "end": "1221140"
  },
  {
    "text": "think sometimes it's it's unclear as what can go into cloud watch and what you can do with it so because once it's",
    "start": "1221140",
    "end": "1227950"
  },
  {
    "text": "there you can do really cool stuff like trigger trigger state machines trigger lambda s and s there's a lot of other",
    "start": "1227950",
    "end": "1235090"
  },
  {
    "text": "things you can do once things are in cloud watch but the point is that that's a great place to a granade all this stuff Macy cloud trail guard duty s3 all",
    "start": "1235090",
    "end": "1243430"
  },
  {
    "text": "this stuff interact with each other flow logs on instance logs whatever it all flows through cloud watch if you let it",
    "start": "1243430",
    "end": "1249190"
  },
  {
    "text": "if you know how to how to do that and configure it so what can we do then once it's in the execution we go we've got",
    "start": "1249190",
    "end": "1254290"
  },
  {
    "text": "from where this information lives now you know we get it through this execution environment and then what what",
    "start": "1254290",
    "end": "1260920"
  },
  {
    "text": "do we do with it now what can your execution environment provide an advantage to automated IR it can go back",
    "start": "1260920",
    "end": "1266830"
  },
  {
    "text": "and do some of that reconnaissance right we saw in the last demo how we can map a role to a human right we have to go back",
    "start": "1266830",
    "end": "1273790"
  },
  {
    "text": "into cloud rail we need that execution if you know what to look for stop logging I just want to see the last time",
    "start": "1273790",
    "end": "1278800"
  },
  {
    "text": "stop logging was called in cloud trail that's a pretty easy query and then downstream you can do whatever you want",
    "start": "1278800",
    "end": "1285820"
  },
  {
    "text": "you want to alert you want to remediate do you do you want to do forensics like whatever you want to do you you've got",
    "start": "1285820",
    "end": "1292180"
  },
  {
    "text": "that that hamster wheel right you keep collecting the information and get as much as you need and and go forth and",
    "start": "1292180",
    "end": "1297190"
  },
  {
    "text": "secure it that's really the you know that's the end result of all this is to be able to contain that incident and so",
    "start": "1297190",
    "end": "1303790"
  },
  {
    "start": "1303000",
    "end": "1303000"
  },
  {
    "text": "there are a lot of a taboos Legos that we're talking about where you can leverage for security related workflow",
    "start": "1303790",
    "end": "1309010"
  },
  {
    "text": "automation and we're focusing on Incident Response today but we've talked about before taking an idea that you",
    "start": "1309010",
    "end": "1315460"
  },
  {
    "text": "have and actually getting it to reality right and using the platform to do that there are some questions that you can",
    "start": "1315460",
    "end": "1321820"
  },
  {
    "text": "ask that will help you that our decision support towards getting you from an idea",
    "start": "1321820",
    "end": "1327310"
  },
  {
    "text": "to code and to execution and we'll go through a number of those as we've talked about before such as what is my",
    "start": "1327310",
    "end": "1334090"
  },
  {
    "text": "express security objective and we're can I actually say what it is that I would like to accomplish and if I can't",
    "start": "1334090",
    "end": "1340360"
  },
  {
    "text": "I probably need to simplify that a bit is this configuration or behavior related because if I can tell the",
    "start": "1340360",
    "end": "1346899"
  },
  {
    "text": "difference between the two then I know which potential service I might use to support essentially this workflow",
    "start": "1346899",
    "end": "1352539"
  },
  {
    "text": "automation configuration related might be 80 bits config behavior related might be something associated with a cloud",
    "start": "1352539",
    "end": "1358360"
  },
  {
    "text": "watch alarm where's the data right what",
    "start": "1358360",
    "end": "1363460"
  },
  {
    "text": "data is gonna support this where does it live and do I actually have the ability to access it right do I have the",
    "start": "1363460",
    "end": "1370630"
  },
  {
    "text": "requisite ownership or visibility within the account where this this behavior might be occurring where the",
    "start": "1370630",
    "end": "1376269"
  },
  {
    "text": "configuration might have changed what are your performance requirements do you",
    "start": "1376269",
    "end": "1381279"
  },
  {
    "text": "need to accomplish something within near real-time fifteen minutes an hour the",
    "start": "1381279",
    "end": "1386740"
  },
  {
    "text": "day or is this something that we can delay until a monthly cycle is occurred",
    "start": "1386740",
    "end": "1392429"
  },
  {
    "text": "based on your performance requirements you'll choose different services and different types of streaming input or",
    "start": "1392429",
    "end": "1398669"
  },
  {
    "text": "static static data to support your workflow and again now that you've got",
    "start": "1398669",
    "end": "1406149"
  },
  {
    "text": "all of those things figured out you have to figure out how to actually program it right what are the other Legos that",
    "start": "1406149",
    "end": "1411639"
  },
  {
    "text": "you'll need to help support essentially getting this done and the languages that you'll need which SDK are you going to",
    "start": "1411639",
    "end": "1417190"
  },
  {
    "text": "use other questions to ask yourself particular to Incident Response and then",
    "start": "1417190",
    "end": "1422679"
  },
  {
    "text": "we're adding today am I done are there other rocks to turn over is",
    "start": "1422679",
    "end": "1429070"
  },
  {
    "text": "there another road to go down another thread to pull am I done and does a",
    "start": "1429070",
    "end": "1437139"
  },
  {
    "text": "human need to look at this and if a human does need to look at this",
    "start": "1437139",
    "end": "1442440"
  },
  {
    "text": "when is that is it now is it tomorrow these are questions that you have to ask",
    "start": "1442440",
    "end": "1448149"
  },
  {
    "text": "yourself that will help inform how you actually automate an incident response workflow so when we talk about",
    "start": "1448149",
    "end": "1454809"
  },
  {
    "text": "automating an incident response workflow and we're keeping those questions in mind we need to be relentless with the",
    "start": "1454809",
    "end": "1461799"
  },
  {
    "text": "automation we need to get to done and like all the other questions that we ask",
    "start": "1461799",
    "end": "1467799"
  },
  {
    "text": "before when we're pulling those threads when we're turning over rocks we need to understand is there is there something",
    "start": "1467799",
    "end": "1474010"
  },
  {
    "text": "else that I need to do and that sounds daunting at first right but you can",
    "start": "1474010",
    "end": "1479620"
  },
  {
    "text": "actually start with just one workflow something simple something binary so",
    "start": "1479620",
    "end": "1485889"
  },
  {
    "text": "from the moment of that event detection this simple event that you would like to automate the incident response for let's",
    "start": "1485889",
    "end": "1492010"
  },
  {
    "text": "start automating all the things the general things that you will do are get",
    "start": "1492010",
    "end": "1497529"
  },
  {
    "text": "back to a known good state get all the logs for the event pick out all of the",
    "start": "1497529",
    "end": "1502840"
  },
  {
    "text": "necessary values that who's the what's the wins and from where's make sure that you correlate those values to either",
    "start": "1502840",
    "end": "1509620"
  },
  {
    "text": "personnel or assets and there's a reason that we need to correlate those values to personnel or assets because based on",
    "start": "1509620",
    "end": "1518230"
  },
  {
    "text": "what we know about those personnel or those assets how precious they are to us",
    "start": "1518230",
    "end": "1524100"
  },
  {
    "text": "how familiar they are to us how production oriented they are to us will",
    "start": "1524100",
    "end": "1530289"
  },
  {
    "text": "allow us to perform analysis and assign priority from an assessed risk point and",
    "start": "1530289",
    "end": "1538049"
  },
  {
    "text": "then we'll engage the owners and will escalate if it's an individual that's",
    "start": "1538049",
    "end": "1544210"
  },
  {
    "text": "performing this action and we need to send them a note then we'll engage with them if it's something associated with a",
    "start": "1544210",
    "end": "1552179"
  },
  {
    "text": "service team or a dev team then we'll find somebody that's in that dev team",
    "start": "1552179",
    "end": "1557500"
  },
  {
    "text": "the manager of that dev team will look for a response response within a particular SLA and when we don't get",
    "start": "1557500",
    "end": "1564100"
  },
  {
    "text": "that response will escalate to another individual right a higher authority of course we need to summarize what it is",
    "start": "1564100",
    "end": "1570760"
  },
  {
    "text": "that we're getting done so we'll report whenever and to whom whomever is appropriate so if we go back and we look",
    "start": "1570760",
    "end": "1577750"
  },
  {
    "text": "at the first demo where cloud trail was turned off and we're responding to that",
    "start": "1577750",
    "end": "1583360"
  },
  {
    "text": "we did all of those things right we did all of the things of getting back to a",
    "start": "1583360",
    "end": "1589120"
  },
  {
    "text": "known good state getting the data that we needed extracting the relevant values mapping those to personnel into assets",
    "start": "1589120",
    "end": "1596350"
  },
  {
    "text": "looking up contact information contacting individuals escalating and generating report information",
    "start": "1596350",
    "end": "1604350"
  },
  {
    "text": "so yay for automation right now we can celebrate our robot overlords but maybe",
    "start": "1604350",
    "end": "1611019"
  },
  {
    "text": "not just yet if you were just starting on this journey of automating security-related",
    "start": "1611019",
    "end": "1617169"
  },
  {
    "text": "workflows and particularly Incident Response then tag you are still it you are the automation right now and so you",
    "start": "1617169",
    "end": "1624190"
  },
  {
    "text": "need to start figuring out where you're going to automate yourself out of that role you're early automation that you",
    "start": "1624190",
    "end": "1631720"
  },
  {
    "text": "devise you should probably still run that in a very supervised fashion so the",
    "start": "1631720",
    "end": "1637600"
  },
  {
    "text": "robots aren't in total control you need to keep an eye on things",
    "start": "1637600",
    "end": "1642990"
  },
  {
    "text": "anything that is a production concern with your automation production environments or high priority and so",
    "start": "1643830",
    "end": "1652659"
  },
  {
    "text": "they may still be page worthy for you you may not want to automate fully there you may want to escape out and actually",
    "start": "1652659",
    "end": "1658210"
  },
  {
    "text": "contact a human and so the escape valves that you have to escalate to humans",
    "start": "1658210",
    "end": "1664509"
  },
  {
    "text": "those are absolutely ok one thing to remember is that as you're actually",
    "start": "1664509",
    "end": "1670990"
  },
  {
    "text": "performing all of these events and you're summarizing this information you're creating reports within the",
    "start": "1670990",
    "end": "1676750"
  },
  {
    "text": "reports themselves you should have fast feedback loops these are hyperlinks and",
    "start": "1676750",
    "end": "1682929"
  },
  {
    "text": "or easy ways for the report reader to engage with that particular event drill",
    "start": "1682929",
    "end": "1688509"
  },
  {
    "text": "in get more information if they would like to know more because humans as",
    "start": "1688509",
    "end": "1694240"
  },
  {
    "text": "they're reading reports and particularly over time can see patterns that are not",
    "start": "1694240",
    "end": "1700179"
  },
  {
    "text": "as not as obvious potentially to others around us maybe not the robots and so if they",
    "start": "1700179",
    "end": "1706120"
  },
  {
    "text": "would like to drill down or they would like to ask a question about a particular event it should be easy to get access to the event related data and",
    "start": "1706120",
    "end": "1713860"
  },
  {
    "text": "to get more information things to keep in mind your automation will break more",
    "start": "1713860",
    "end": "1723639"
  },
  {
    "text": "complex events and automating those are the reward for your success here and it",
    "start": "1723639",
    "end": "1732549"
  },
  {
    "text": "looks like we're still going to have jobs for now so enough of this chitchat let's do it",
    "start": "1732549",
    "end": "1739110"
  },
  {
    "text": "let's get some more art let's get some more of these demos right absolutely okay great okay so in this one we're",
    "start": "1739110",
    "end": "1746370"
  },
  {
    "text": "gonna turn up the complexity a little bit we're gonna escalate the level of judgement to let's call it medium",
    "start": "1746370",
    "end": "1752340"
  },
  {
    "text": "judgement so put bucket policy as you said is not necessarily a bad thing it is if the policy itself is bad so I've",
    "start": "1752340",
    "end": "1759540"
  },
  {
    "text": "written a little script here that very simply puts an allow all principle star",
    "start": "1759540",
    "end": "1765510"
  },
  {
    "text": "so anybody to do a get object on the particular resource being described in some of the previous API calls so what",
    "start": "1765510",
    "end": "1772560"
  },
  {
    "text": "this is going to do it's going to add a statement for a statement on the",
    "start": "1772560",
    "end": "1778980"
  },
  {
    "text": "permissions policy the bucket policy to allow for the world to get it if we look",
    "start": "1778980",
    "end": "1784230"
  },
  {
    "text": "at the policy as it is right now there's some good things in here require HTTPS require encryption server s3 side",
    "start": "1784230",
    "end": "1791460"
  },
  {
    "text": "encryption and allow AWS config to write to it these are all this is the intended or the known good state so we're gonna",
    "start": "1791460",
    "end": "1799170"
  },
  {
    "text": "use this to get back to known good if something bad happens or if something undesirable happens via this so let's go",
    "start": "1799170",
    "end": "1805410"
  },
  {
    "text": "ahead and run the execution which will see the output of the new policy is",
    "start": "1805410",
    "end": "1811490"
  },
  {
    "text": "still the old you know encrypted poet require HTTPS allow config but also allow anybody to you know world access",
    "start": "1811490",
    "end": "1819150"
  },
  {
    "text": "to this bucket so if we refresh the bucket policy see how fast this thing",
    "start": "1819150",
    "end": "1824190"
  },
  {
    "text": "happens it's already fixed us but we're able to see the history of it through step functions so if we look at the",
    "start": "1824190",
    "end": "1831270"
  },
  {
    "text": "actual step function execution which ends up being triggered from the rule",
    "start": "1831270",
    "end": "1837000"
  },
  {
    "text": "that matches put bucket policy so put bucket policy happens we trigger the state function and let's have a look at",
    "start": "1837000",
    "end": "1842280"
  },
  {
    "text": "it right here if you look at the definition of the function you'll see it's pretty simple we're gonna check the",
    "start": "1842280",
    "end": "1847860"
  },
  {
    "text": "policy because we're gonna get the policy as part of that event it comes up in JSON we're gonna decide if that",
    "start": "1847860",
    "end": "1853230"
  },
  {
    "text": "policy is acceptable with the lambda function that does the does the check we're gonna if it is bad we're gonna get",
    "start": "1853230",
    "end": "1858660"
  },
  {
    "text": "that last bucket policy and then we're gonna apply it so in this case well",
    "start": "1858660",
    "end": "1864060"
  },
  {
    "text": "let's look at the execution now there's two of these back to back and I'll explain that in just a second but let look at the initial one green green",
    "start": "1864060",
    "end": "1869820"
  },
  {
    "text": "green green check the bucket policy let's look at if see if it's acceptable we're gonna see in the metadata here",
    "start": "1869820",
    "end": "1876779"
  },
  {
    "text": "you're gonna actually see the name of the bucket we're gonna see the policy we're gonna get the previous one we're gonna go get the previous bucket policy",
    "start": "1876779",
    "end": "1883380"
  },
  {
    "text": "or the last known good from AWS config we're actually we have a lambda function that's gonna query config and say with",
    "start": "1883380",
    "end": "1889649"
  },
  {
    "text": "this resource what was the last configuration because that was okay now what I what I really wanted to",
    "start": "1889649",
    "end": "1895620"
  },
  {
    "text": "demonstrate here as well as sort of the power of state machine and really the pivotal the ability for these workflows",
    "start": "1895620",
    "end": "1901919"
  },
  {
    "text": "to pivot so I have this function called is policy acceptable it's not a function at all it's actually if you look at the",
    "start": "1901919",
    "end": "1907559"
  },
  {
    "text": "code it's simply what we call a choice right it's not calling a lambda function we're actually making a choice based on",
    "start": "1907559",
    "end": "1913649"
  },
  {
    "text": "the actual JSON input to that step in the in the state machine because what",
    "start": "1913649",
    "end": "1918870"
  },
  {
    "text": "we're gonna see when we do put that last known good State guess what fires s3 put bucket policy",
    "start": "1918870",
    "end": "1925110"
  },
  {
    "text": "we're just doing another put so that means that event is going to fire so to kind of prove that our logic works let's",
    "start": "1925110",
    "end": "1930779"
  },
  {
    "text": "look at the subsequent state execution of that event what's really important",
    "start": "1930779",
    "end": "1935940"
  },
  {
    "text": "here is that is the policy acceptable yes it is it's our last known good it got there somehow therefore it is",
    "start": "1935940",
    "end": "1941010"
  },
  {
    "text": "acceptable but it is doing that check even as even with our automation it sort of verifies that the last known good is",
    "start": "1941010",
    "end": "1947309"
  },
  {
    "text": "still good based on our logic that we that we had before okay so we'll turn it",
    "start": "1947309",
    "end": "1953070"
  },
  {
    "text": "back over and we'll carry on so our next demo is looking at a service that we all",
    "start": "1953070",
    "end": "1961980"
  },
  {
    "text": "know and love s3 and looking for a change in a bucket policy now a change in a",
    "start": "1961980",
    "end": "1969450"
  },
  {
    "text": "bucket policy is not necessarily bad but we need to understand that change and we mean we might need to take action based",
    "start": "1969450",
    "end": "1975779"
  },
  {
    "text": "off of it and so an incident response runbook associated with this particular event",
    "start": "1975779",
    "end": "1981260"
  },
  {
    "text": "would be to understand what happened",
    "start": "1981260",
    "end": "1986630"
  },
  {
    "text": "evaluate the actual bucket policy make a decision based off of that if we need to",
    "start": "1986630",
    "end": "1992880"
  },
  {
    "text": "change back to a known good state get the last bucket policy restore that and then of course make sure that we're",
    "start": "1992880",
    "end": "1998429"
  },
  {
    "text": "doing the notifications necessary and again we don't actually need to wait GUP in order to perform any of this so",
    "start": "1998429",
    "end": "2008160"
  },
  {
    "text": "demo demo we're demoing I'm demoing this is the demo and we are done with the",
    "start": "2008160",
    "end": "2014250"
  },
  {
    "text": "demo right so really quick high-level",
    "start": "2014250",
    "end": "2020010"
  },
  {
    "text": "the steps are notified evaluate decide and in this case the point of the demo",
    "start": "2020010",
    "end": "2025470"
  },
  {
    "text": "is that it you know is to demonstrate what happens what it is bad because it would be pretty boring if it was just a good one and let it go we want to gather",
    "start": "2025470",
    "end": "2032940"
  },
  {
    "text": "the last known good restore and notify so how are we gonna do that we're gonna do that with step functions so step one",
    "start": "2032940",
    "end": "2040740"
  },
  {
    "text": "is that that information gathering phase right we have to know that it actually happens so what you're seeing here is",
    "start": "2040740",
    "end": "2046950"
  },
  {
    "text": "the event the cloud watch event rule that is that is that's firing the step",
    "start": "2046950",
    "end": "2053669"
  },
  {
    "text": "functions in the first place so if you look at the granularity of the event pattern right it's it's it's very",
    "start": "2053669",
    "end": "2059310"
  },
  {
    "text": "specific to that put bucket policy maybe I'm not interested in get bucket policy that's not an event for me that's not",
    "start": "2059310",
    "end": "2064379"
  },
  {
    "text": "interesting that it kind of answers that question when customers ask what should I be looking for well in this case",
    "start": "2064380",
    "end": "2069389"
  },
  {
    "text": "putting a bucket policy could depending on the results of that bucket policy change the posture of that bucket change",
    "start": "2069390",
    "end": "2075300"
  },
  {
    "text": "the access model of that bucket so that's something that might be interesting so and when to Beatles point",
    "start": "2075300",
    "end": "2081300"
  },
  {
    "text": "not all bucket policy puts are bad we need to know about it and we'll decide later if it's a bad thing but we do want",
    "start": "2081300",
    "end": "2088800"
  },
  {
    "text": "to raise awareness we want to put that bucket policy through our favorite workhorse which is lambda and it'll kick",
    "start": "2088800",
    "end": "2094710"
  },
  {
    "text": "off the rest of the run book as discussed so the part of that event is",
    "start": "2094710",
    "end": "2102030"
  },
  {
    "text": "the new policy if you remember from the last demo and the results of the last demo we see that the event that gets",
    "start": "2102030",
    "end": "2107700"
  },
  {
    "text": "sent over to whatever our target is in this case step functions actually has the bucket policy in json in the event",
    "start": "2107700",
    "end": "2115260"
  },
  {
    "text": "so we actually don't even have to go back and ask for that bucket policy straight away the first function will",
    "start": "2115260",
    "end": "2121350"
  },
  {
    "text": "actually be able to use the information to to start diving deep so the check in",
    "start": "2121350",
    "end": "2126750"
  },
  {
    "text": "this case is is pretty simple shown on the screen here it it takes the policy",
    "start": "2126750",
    "end": "2132420"
  },
  {
    "text": "in my function takes the policy in and it makes a check and it decides it gives us some output is it acceptable is the is the",
    "start": "2132420",
    "end": "2138600"
  },
  {
    "text": "key that I'm using that's gonna be important because it feeds it into the next step in the run book which is",
    "start": "2138600",
    "end": "2144690"
  },
  {
    "text": "decide write the the granularity of that particular lambda function it just makes",
    "start": "2144690",
    "end": "2150960"
  },
  {
    "text": "that quick decision and does yes or no and that's based on rules in this case the rule is if there is get and there is",
    "start": "2150960",
    "end": "2156960"
  },
  {
    "text": "a star and as for the access model and that's bad we don't want that to happen so we're gonna return is acceptable",
    "start": "2156960",
    "end": "2162900"
  },
  {
    "text": "false the power of step functions in this case is I don't have to write another lambda function to actually",
    "start": "2162900",
    "end": "2169140"
  },
  {
    "text": "decide what to do next I simply need to make that decision in feed that in a structured way in JSON in",
    "start": "2169140",
    "end": "2175140"
  },
  {
    "text": "this case to the next step and I can actually code up the next step to make that decision so now in this case",
    "start": "2175140",
    "end": "2182520"
  },
  {
    "text": "because the the put and the policy was not agreeable we need to go and restore",
    "start": "2182520",
    "end": "2188040"
  },
  {
    "text": "the last known good Beatle talks about about getting that last known good where does that come from where is the last",
    "start": "2188040",
    "end": "2194070"
  },
  {
    "text": "known good cloud trail it's a little bit easier because what's the last known good of off is on so it's really simple",
    "start": "2194070",
    "end": "2200190"
  },
  {
    "text": "when cloud trail is off we don't have to really ask about it we should just turn it back on but for resources like s3 buckets and",
    "start": "2200190",
    "end": "2206460"
  },
  {
    "text": "other AWS resources it's not that simple or it may not be that simple but with",
    "start": "2206460",
    "end": "2212400"
  },
  {
    "text": "AWS config it actually might be so this function all it uses is the the bucket",
    "start": "2212400",
    "end": "2218220"
  },
  {
    "text": "name right so if the function is get previous bucket policy notice the granularity or the atomic nature of that",
    "start": "2218220",
    "end": "2224130"
  },
  {
    "text": "function the on the screen you can see the next step is actually to restore it so I've separated out get in restore",
    "start": "2224130",
    "end": "2230240"
  },
  {
    "text": "right the the that lambda function there that's the entire thing it's only a few lines of code it's a it's got one job",
    "start": "2230240",
    "end": "2237000"
  },
  {
    "text": "you've got one job lemon to function which is to get that previous bucket policy and in this case it's gonna be",
    "start": "2237000",
    "end": "2242130"
  },
  {
    "text": "from config depending on the resource you might have to get it from somewhere else that's back to eating your vegetables we have to know where to find",
    "start": "2242130",
    "end": "2247770"
  },
  {
    "text": "it and all it does in just in the the state the automation state is it goes and gets it and it returns that JSON as",
    "start": "2247770",
    "end": "2255120"
  },
  {
    "text": "structured output for the next function to consume and it uses the the JSON",
    "start": "2255120",
    "end": "2260910"
  },
  {
    "text": "structure the object structure of bucket policy dot previous and that's arbitrary that's what I choose for it to be",
    "start": "2260910",
    "end": "2267510"
  },
  {
    "text": "because what we'll see in the next function I'm going to use that path to go to go get that last order to",
    "start": "2267510",
    "end": "2273420"
  },
  {
    "text": "go apply that last bucket policy so we're gonna use again a similar",
    "start": "2273420",
    "end": "2278789"
  },
  {
    "text": "convention to input/output processing to get the relevant info and again using a very atomic function which is simply to",
    "start": "2278789",
    "end": "2286619"
  },
  {
    "text": "put policy if you notice in that function it's again it's not put the previous policy it's just gonna take two",
    "start": "2286619",
    "end": "2292680"
  },
  {
    "text": "parameters give me the name of the bucket and give me the policy you want me to put that's it's only job it does",
    "start": "2292680",
    "end": "2298140"
  },
  {
    "text": "again we've already made the decisions outside of that function why would we keep why wouldn't we stitch it all in",
    "start": "2298140",
    "end": "2304230"
  },
  {
    "text": "together in one well I'm proposing at scale you might have that function that put bucket or that put policy rather",
    "start": "2304230",
    "end": "2310680"
  },
  {
    "text": "that might not have anything to do with your ir workflow it's a tool in your toolkit you might have some automation",
    "start": "2310680",
    "end": "2315690"
  },
  {
    "text": "on the development side that says well one I want to put a bucket policy I'm gonna give it the name of the bucket I'm gonna give it the policy and send it up",
    "start": "2315690",
    "end": "2321779"
  },
  {
    "text": "to that lambda so it's reusable atomic code and it this will work wonders for",
    "start": "2321779",
    "end": "2327059"
  },
  {
    "text": "scaling out your automation so again using similar conventions here I'm passing in this bucket object from one",
    "start": "2327059",
    "end": "2333210"
  },
  {
    "text": "from one step to the next and again all its gonna do is restore policy name which I've got our sorry bucket name",
    "start": "2333210",
    "end": "2339660"
  },
  {
    "text": "which I've got from the from the previous step and the previous bucket policy which I've also got there and that comes in one one input very simple",
    "start": "2339660",
    "end": "2346619"
  },
  {
    "text": "operation so what and we got that of course like I say from the from the",
    "start": "2346619",
    "end": "2352349"
  },
  {
    "text": "previous from the previous step beetle so that's one example of a workflow",
    "start": "2352349",
    "end": "2360569"
  },
  {
    "start": "2354000",
    "end": "2354000"
  },
  {
    "text": "where we're doing something a little bit more advanced than just an on or off",
    "start": "2360569",
    "end": "2366269"
  },
  {
    "text": "yeah right we've decided to do some evaluation assess risk potentially you",
    "start": "2366269",
    "end": "2371940"
  },
  {
    "text": "know make a decision based off of that perform an action get us back to a known good state but there's a little bit more judgment involved and in fact there's",
    "start": "2371940",
    "end": "2378930"
  },
  {
    "text": "probably a few more roads that we could go down a few more rocks that we could turn over threads that we could pull associated with that particular event",
    "start": "2378930",
    "end": "2386099"
  },
  {
    "text": "such as where was that event performed from right the IP address associated with that event might be something",
    "start": "2386099",
    "end": "2392339"
  },
  {
    "text": "interesting to go and pluck right and then actually perform an investigation so there could be things that we would",
    "start": "2392339",
    "end": "2398670"
  },
  {
    "text": "like to do in addition to just the main workflow right more workflows",
    "start": "2398670",
    "end": "2403740"
  },
  {
    "text": "and maybe more step functions so let's take an example of a login potentially",
    "start": "2403740",
    "end": "2410610"
  },
  {
    "text": "to a production environment right where we don't really want that to happen but",
    "start": "2410610",
    "end": "2415950"
  },
  {
    "text": "we may have a break glass in case of emergency opportunity for developers and",
    "start": "2415950",
    "end": "2421580"
  },
  {
    "text": "there may be a process where they are allowed to do that but it's a very heavily monitored very heavily",
    "start": "2421580",
    "end": "2427860"
  },
  {
    "text": "controlled process when we see that happen within a production environment",
    "start": "2427860",
    "end": "2433820"
  },
  {
    "text": "part of what we're doing to check and make sure that that is an authorized action is to get a number of bits of",
    "start": "2433820",
    "end": "2441390"
  },
  {
    "text": "information such as the user relevant data maybe even map it back to a known",
    "start": "2441390",
    "end": "2446610"
  },
  {
    "text": "an open ticket associated with an existing maintenance workflow and we",
    "start": "2446610",
    "end": "2452010"
  },
  {
    "text": "need to make a judgment call we need to figure out does this match our policy and are we ok with this actual action",
    "start": "2452010",
    "end": "2458190"
  },
  {
    "text": "and if it's not we're going to have to perform a number of actions in response to that such as terminating the actual",
    "start": "2458190",
    "end": "2463440"
  },
  {
    "text": "login session and we're concerned about that particular instance so we'll want",
    "start": "2463440",
    "end": "2468720"
  },
  {
    "text": "to isolate that and won't want to report that what are we done mmm there's other things to do here",
    "start": "2468720",
    "end": "2475020"
  },
  {
    "text": "right because once we've detected that this has occurred we want to get other information about that particular",
    "start": "2475020",
    "end": "2481020"
  },
  {
    "text": "instance right we want to pull logs from that whether it's associated with the",
    "start": "2481020",
    "end": "2486780"
  },
  {
    "text": "application or whether it's associated with surrounding actions in terms of maintenance we want to correlate all of",
    "start": "2486780",
    "end": "2492150"
  },
  {
    "text": "that data to other sources and we want to report those findings now are we done",
    "start": "2492150",
    "end": "2497160"
  },
  {
    "text": "after that I I think we might have more work to do right and appends yeah depending on what",
    "start": "2497160",
    "end": "2502230"
  },
  {
    "text": "we find we might have forensics to perform right we might need to take",
    "start": "2502230",
    "end": "2507869"
  },
  {
    "text": "volatile information from that instance we might want to gather information of record associated with what army it came",
    "start": "2507869",
    "end": "2514619"
  },
  {
    "text": "from we might want to create a snapshot associated with that environment we might want to investigate further and",
    "start": "2514619",
    "end": "2520890"
  },
  {
    "text": "again we'll have more findings you won't want to potentially take more actions on",
    "start": "2520890",
    "end": "2525960"
  },
  {
    "text": "those findings true so we might not be done but now we've got numbers of",
    "start": "2525960",
    "end": "2532170"
  },
  {
    "text": "workflows not just a workflow that we're following and we're chaining those together and were you",
    "start": "2532170",
    "end": "2537329"
  },
  {
    "text": "the outputs of different workflows to trigger other workflows right so we'll let's let's see that in action let's do",
    "start": "2537329",
    "end": "2544559"
  },
  {
    "text": "absolutely I'll show you how that works okay so for the next demo this is a this",
    "start": "2544559",
    "end": "2553920"
  },
  {
    "text": "is gonna be decoupling some of those procedures where we want to yet we want we want to get containment when there is",
    "start": "2553920",
    "end": "2559170"
  },
  {
    "text": "an incident in this case it's going to be logging into an ec2 instance when they probably shouldn't or at least not with the right user if it you know if it",
    "start": "2559170",
    "end": "2565319"
  },
  {
    "text": "doesn't match an emergency user username so we're gonna make that judgment call right away but we're also going to set",
    "start": "2565319",
    "end": "2572130"
  },
  {
    "text": "up for downstream activities right does it lead to further research does it lead to forensics does it lead to whatever the point is to",
    "start": "2572130",
    "end": "2579989"
  },
  {
    "text": "be able to stitch these things together rather than have the process be this monolith that you have to keep rewriting and rewriting every time you have a use",
    "start": "2579989",
    "end": "2585959"
  },
  {
    "text": "case to carry out through through being done with containing the incident so our first subject of that is the ez is an",
    "start": "2585959",
    "end": "2593039"
  },
  {
    "text": "ec2 instance I have one here already set up what's important is the security groups on it if we view the inbound",
    "start": "2593039",
    "end": "2598410"
  },
  {
    "text": "rules we're gonna see that we're allowed an interactive session so 22 on on Linux",
    "start": "2598410",
    "end": "2603479"
  },
  {
    "text": "Windows or Linux hosts and three three eight nine from from a Windows house but we're allowing access from anywhere as",
    "start": "2603479",
    "end": "2609509"
  },
  {
    "text": "so long as you have the key so we're gonna do that now let's go look at let's",
    "start": "2609509",
    "end": "2614549"
  },
  {
    "text": "go pull up my terminal SSH we already have the the IP address so we're gonna",
    "start": "2614549",
    "end": "2620910"
  },
  {
    "text": "SSH right into here this particular instance is configured to send its audit",
    "start": "2620910",
    "end": "2626039"
  },
  {
    "text": "dot log so VAR log audit slash audit log which records all the logins in this",
    "start": "2626039",
    "end": "2632099"
  },
  {
    "text": "case interactive session in that sending that instance is configured to send those to cloud watch logs so the alarm",
    "start": "2632099",
    "end": "2639390"
  },
  {
    "text": "or the metric I'm looking after here is the existence of a session login over an",
    "start": "2639390",
    "end": "2645180"
  },
  {
    "text": "interactive session as you can already see I don't know how much time had passed not much a few seconds we actually see a message intruder alert",
    "start": "2645180",
    "end": "2651269"
  },
  {
    "text": "terminating terminating your session that was fired from cloud watch rules a",
    "start": "2651269",
    "end": "2657449"
  },
  {
    "text": "sorry if fired from a metric filter on cloud watch logs that's looking for that event and what we're gonna see in the in",
    "start": "2657449",
    "end": "2665069"
  },
  {
    "text": "the step functions in the step functions execution here we're gonna see a couple",
    "start": "2665069",
    "end": "2670440"
  },
  {
    "text": "things we're the first thing we're gonna do is contain the in the instance terminate the session so there's no longer there",
    "start": "2670440",
    "end": "2675839"
  },
  {
    "text": "cut off access to that session so in the second step so first one is is an emergency user the thing you get with",
    "start": "2675839",
    "end": "2682200"
  },
  {
    "text": "that event that we found in the cloud watch logs is the user you get the IP at the time and things like that if I know",
    "start": "2682200",
    "end": "2688079"
  },
  {
    "text": "what my emergency user is let's say it's called you know emergency user let's say it's called break glass whatever the",
    "start": "2688079",
    "end": "2693599"
  },
  {
    "text": "case may be if that user name doesn't match my criteria I have a decision to make if it does match it we're good",
    "start": "2693599",
    "end": "2699089"
  },
  {
    "text": "because it's allowed if it doesn't in this case we need to kick them off and we need to isolate so step one decide if",
    "start": "2699089",
    "end": "2705420"
  },
  {
    "text": "it's an emergency user step two terminate the session step three isolate the instance what does that mean",
    "start": "2705420",
    "end": "2710760"
  },
  {
    "text": "well of course we don't want them to get back into the instance what's good what is the the benefit of kicking them off",
    "start": "2710760",
    "end": "2715800"
  },
  {
    "text": "if they can just get right back in so if you look at our console really quick a very simple action here is that when",
    "start": "2715800",
    "end": "2722670"
  },
  {
    "text": "we've now changed a security group automatically to isolate it and if we view the inbound rules it has none right",
    "start": "2722670",
    "end": "2728099"
  },
  {
    "text": "there's no more access to this box we've contained the incident if we do need to add access to this box for forensics or",
    "start": "2728099",
    "end": "2733680"
  },
  {
    "text": "whatever that's another process that's not a big deal we can do that so a build tag is an interim step to get to the",
    "start": "2733680",
    "end": "2740310"
  },
  {
    "text": "most important part of this which is tag instances so tag instances is not forensics that does not do any more",
    "start": "2740310",
    "end": "2747390"
  },
  {
    "text": "research the whole point of this is back to that concept of event inception cloud",
    "start": "2747390",
    "end": "2753480"
  },
  {
    "text": "watch rules you can write your art you know an arbitrary event and also subscribe to them so what I had what I",
    "start": "2753480",
    "end": "2760800"
  },
  {
    "text": "had the workflow here trigger off of is a an event called I'll show you right",
    "start": "2760800",
    "end": "2766109"
  },
  {
    "text": "here you can see it and the source ect dot login I made that up I made that up the it seems the succinct way of telling",
    "start": "2766109",
    "end": "2772650"
  },
  {
    "text": "me that the event that has happened here is that someone has logged in now just like the put bucket policy is that a bad thing I don't know we have to check wait",
    "start": "2772650",
    "end": "2779040"
  },
  {
    "text": "to make some decisions so we're just tagging come in so tagging here at the end all we did we said this is a bad",
    "start": "2779040",
    "end": "2784829"
  },
  {
    "text": "thing and now we're gonna tag the instance after we isolate it what benefit does that give us well tag",
    "start": "2784829",
    "end": "2790020"
  },
  {
    "text": "instance is an API call where the API API calls go cloud watch so we're gonna",
    "start": "2790020",
    "end": "2795690"
  },
  {
    "text": "actually look for the next rule in that stream is we're gonna look for something called tag instance and in this case it",
    "start": "2795690",
    "end": "2800940"
  },
  {
    "text": "tagged it with a couple of interesting pieces of information and those would be status isolated and",
    "start": "2800940",
    "end": "2808780"
  },
  {
    "text": "isolated reason suspicious login detected so over in this rule we're gonna see that login we're gonna do the",
    "start": "2808780",
    "end": "2815680"
  },
  {
    "text": "containment we're gonna do the tag and there's another rule that's gonna fire on me tagging that instance or the automation tagging that instance and",
    "start": "2815680",
    "end": "2822010"
  },
  {
    "text": "it's gonna be able to pull what those tags are and now that the event happened and go and figure them out if these tag is is something bad is",
    "start": "2822010",
    "end": "2829720"
  },
  {
    "text": "we're gonna take action downstream which again we're starting at the event just like the login and you have a workflow",
    "start": "2829720",
    "end": "2834940"
  },
  {
    "text": "so what do we do what is the workflow for when something is tagged as isolated is yeah what you're gonna do recon we're",
    "start": "2834940",
    "end": "2840040"
  },
  {
    "text": "gonna do forensics you might want to raise another one after recon that says ec2 dot forensics and that's a whole",
    "start": "2840040",
    "end": "2845230"
  },
  {
    "text": "other team that's gonna look after that and be able to process that but the whole the whole thing about cloud watch",
    "start": "2845230",
    "end": "2851500"
  },
  {
    "text": "rules especially as it relates to using leveraging the API the native AWS API is",
    "start": "2851500",
    "end": "2857170"
  },
  {
    "text": "for say tagged instance is that you can't hide from cloud trail because that's where these rules are firing off",
    "start": "2857170",
    "end": "2862660"
  },
  {
    "text": "of these cloud trail activities so get your you get your your workflow through",
    "start": "2862660",
    "end": "2868690"
  },
  {
    "text": "cloud watch and use the event system to build these really complex workflows and",
    "start": "2868690",
    "end": "2874090"
  },
  {
    "text": "ultimately stitch them together so you can automate until done done done ok so very intentionally with that demo",
    "start": "2874090",
    "end": "2881260"
  },
  {
    "start": "2878000",
    "end": "2878000"
  },
  {
    "text": "there's a lot of moving parts right we've we've seen sort of we're getting to make decisions we need to automate",
    "start": "2881260",
    "end": "2886300"
  },
  {
    "text": "and still done so we've intentionally broken up the the i/o workflow to",
    "start": "2886300",
    "end": "2891730"
  },
  {
    "text": "alcohol them instead of run book maybe pamphlets like just little pieces of the book right but the point is you do have",
    "start": "2891730",
    "end": "2898180"
  },
  {
    "text": "to stitch them together so we you know if you take the same concept I used as far as the granularity or the atomic",
    "start": "2898180",
    "end": "2904420"
  },
  {
    "text": "nature of those lambda functions from the second demo is to say you know just get the bucket policy what we know a",
    "start": "2904420",
    "end": "2910210"
  },
  {
    "text": "separate function forget and another one for put if you take that same concept and apply it here you can we're actually",
    "start": "2910210",
    "end": "2916600"
  },
  {
    "text": "talking about you know isolate an instance that's that's got a series of steps in it so each of those are atomic",
    "start": "2916600",
    "end": "2922570"
  },
  {
    "text": "but the actual run book for isolating an incident is also atomic so because it",
    "start": "2922570",
    "end": "2928120"
  },
  {
    "text": "for the same principle we what if you want to reuse it right the someone logging into an ec2 instance isn't the",
    "start": "2928120",
    "end": "2933550"
  },
  {
    "text": "only reason that you might want to trigger forensics so think about all the different things that might might result in a",
    "start": "2933550",
    "end": "2940000"
  },
  {
    "text": "forensic investigation that doesn't mean you have to write the write the code for a forensic investigation for absolutely",
    "start": "2940000",
    "end": "2945970"
  },
  {
    "text": "every single one of those you write at one time and you chain you stitch all this stuff together so remember what I",
    "start": "2945970",
    "end": "2953109"
  },
  {
    "text": "said before is once it's in cloud cloud watch you can Alert on it so if you go",
    "start": "2953109",
    "end": "2959230"
  },
  {
    "text": "back to the youtubes and look at one of our previous sessions I talked about this concept of event inception and that",
    "start": "2959230",
    "end": "2964810"
  },
  {
    "text": "is you know these these these services this is just a few sampling of the services these things already emit",
    "start": "2964810",
    "end": "2970960"
  },
  {
    "text": "things into cloud watch events these are events that you can today you can subscribe to I want to know when a you",
    "start": "2970960",
    "end": "2977619"
  },
  {
    "text": "know put bucket policy was called I want to know when and Internet gateway was attached to my V PC I want to know when",
    "start": "2977619",
    "end": "2984070"
  },
  {
    "text": "someone applies a policy to an iamb resource all of those things natively bubble up to cloud watch events all you",
    "start": "2984070",
    "end": "2991599"
  },
  {
    "text": "have to do is write the the rule to match it so what I'm proposing and sorry",
    "start": "2991599",
    "end": "2997810"
  },
  {
    "text": "yeah you write the rule to match it and you can trigger those downstream events right but where is the rule that says trigger trigger isolation or trigger",
    "start": "2997810",
    "end": "3005130"
  },
  {
    "text": "forensics that's that's custom logic that that is those are decisions that you have to make and tell the system how",
    "start": "3005130",
    "end": "3011760"
  },
  {
    "text": "to do it so the coolest part about cloud watch events is that's an API like any other and guess what you can create your",
    "start": "3011760",
    "end": "3018180"
  },
  {
    "text": "own events so you can you can bubble up your own events arbitrary or in this case not really arbitrary but related to",
    "start": "3018180",
    "end": "3024960"
  },
  {
    "text": "incident response by writing a custom structured event and then you can write a rule that matches that custom",
    "start": "3024960",
    "end": "3031560"
  },
  {
    "text": "structured event so that rule up here ECT dog in I made that up there's an",
    "start": "3031560",
    "end": "3037470"
  },
  {
    "text": "event I call ECT login is it's not called login bad or you know because we",
    "start": "3037470",
    "end": "3043080"
  },
  {
    "text": "don't know we have to make that choice very much so like to put bucket policy just because a user logged in doesn't",
    "start": "3043080",
    "end": "3048390"
  },
  {
    "text": "necessarily mean it's bad it just means that it happened and we have to make that decision so how do we make that",
    "start": "3048390",
    "end": "3056760"
  },
  {
    "start": "3054000",
    "end": "3054000"
  },
  {
    "text": "decision right my first on my step function my very first function is called is it is an emergency user so on",
    "start": "3056760",
    "end": "3064740"
  },
  {
    "text": "the event data that we're getting when the event actually fires it's being fired based on an EC",
    "start": "3064740",
    "end": "3070950"
  },
  {
    "text": "two instance log for the audit for the audit like log in trail so I'm actually",
    "start": "3070950",
    "end": "3076079"
  },
  {
    "text": "looking in cloud watch logs with a filter that says when this thing happens I want to raise this event this eg to",
    "start": "3076079",
    "end": "3083070"
  },
  {
    "text": "log in event with that event you do get the law the the actual line item that matched so in this case you're gonna get",
    "start": "3083070",
    "end": "3089400"
  },
  {
    "text": "a line from the audit log on the instance in that line you get the username so as soon as that thing",
    "start": "3089400",
    "end": "3096900"
  },
  {
    "text": "triggers as soon as that event triggers on that log in you immediately get the username and the IP that it came from",
    "start": "3096900",
    "end": "3102900"
  },
  {
    "text": "and as part of that log that's a pretty good start to make a decision if this",
    "start": "3102900",
    "end": "3107940"
  },
  {
    "text": "thing was bad so if there is a break glass user on the on that machine maybe",
    "start": "3107940",
    "end": "3113460"
  },
  {
    "text": "it has an exact user name that we're looking for that's the logic I applied here if it's not a certain user name if it's anything but that immediately let's",
    "start": "3113460",
    "end": "3121140"
  },
  {
    "text": "terminate this is a bad thing this is not intended behavior so the the user log in we decided if the in the event",
    "start": "3121140",
    "end": "3128280"
  },
  {
    "text": "data if it's okay if not in this case we're going to do the next step which is terminate the session as you saw on the",
    "start": "3128280",
    "end": "3134190"
  },
  {
    "text": "demo we're sitting there and we're interactive we've got the message and then it went unresponsive because it cut",
    "start": "3134190",
    "end": "3139380"
  },
  {
    "text": "off that session then we want to isolate we want to isolate the instance with a with a security group that has no no",
    "start": "3139380",
    "end": "3145980"
  },
  {
    "text": "rights so we don't want to want that user to be able to re-establish the session right we're gonna contain this thing right away so then what do we do",
    "start": "3145980",
    "end": "3154050"
  },
  {
    "text": "right so containment happens as fast as possible but then what do we do what do we have to do next well we have to get",
    "start": "3154050",
    "end": "3159210"
  },
  {
    "text": "more information right we have to pull logs we have to you know because we've already determined this thing was bad",
    "start": "3159210",
    "end": "3164220"
  },
  {
    "text": "but I've got it in a separate like run pamphlet again if I can coin that so how",
    "start": "3164220",
    "end": "3170910"
  },
  {
    "text": "do we connect those things together and also are we done do we need to do forensics well it depends on what we find in the research phase right that",
    "start": "3170910",
    "end": "3177329"
  },
  {
    "text": "happens downstream going back to one of the principles that we were talking about which is what are your performance",
    "start": "3177329",
    "end": "3183119"
  },
  {
    "text": "objectives does forensics have to be run immediately well no if we've contained the incident not necessarily that can be",
    "start": "3183119",
    "end": "3189540"
  },
  {
    "text": "an another process that maybe you're working on that automation maybe that's still human today well that's okay we've",
    "start": "3189540",
    "end": "3194550"
  },
  {
    "text": "automated down to containment and we can do that but we can also automate forensics so now I've got these three",
    "start": "3194550",
    "end": "3200250"
  },
  {
    "text": "separate processes and we're stitching them together with CLOB watch events so if you see we're on the diagram that",
    "start": "3200250",
    "end": "3207420"
  },
  {
    "text": "event is being emitted it's at a step on my very first workflow called tag instance so remember how I talked about",
    "start": "3207420",
    "end": "3213630"
  },
  {
    "text": "if you can get it into cloud watch you can alert on it so just like put bucket",
    "start": "3213630",
    "end": "3218970"
  },
  {
    "text": "policy just like user login tagging instances is not a bad thing right actually we encourage you to tag",
    "start": "3218970",
    "end": "3224880"
  },
  {
    "text": "instances we can build a lot of automation and a lot of really cool stuff around instance tags or resource",
    "start": "3224880",
    "end": "3229890"
  },
  {
    "text": "tags for that matter but in this case the action I took in my very first run",
    "start": "3229890",
    "end": "3235260"
  },
  {
    "text": "booklet was to tag the instance as is isolated right we did that after after",
    "start": "3235260",
    "end": "3241410"
  },
  {
    "text": "we contained the incident we terminate the session we isolate the instance and then we put a tag on it and says this instance is now isolated by the and then",
    "start": "3241410",
    "end": "3249060"
  },
  {
    "text": "we also give it a reason why right is OS login in this case so there's a cloud watch event behind that of a cloud watch",
    "start": "3249060",
    "end": "3255270"
  },
  {
    "text": "event rule behind that that says I want to listen every time a resource is tagger in this case an instance is tagged because then I can make a",
    "start": "3255270",
    "end": "3261840"
  },
  {
    "text": "decision what data do we have in order to make that decision well that's the tag where a status equals isolated if",
    "start": "3261840",
    "end": "3267930"
  },
  {
    "text": "that status equalled I don't know give me another another description if that status equal you know fuzzy or if that",
    "start": "3267930",
    "end": "3274320"
  },
  {
    "text": "status equals kitten we don't fight we can ignore that's not a bad thing you can call it it can call it kitten or",
    "start": "3274320",
    "end": "3280530"
  },
  {
    "text": "whatever you want so but in this case it says we've got an event oh and we've got some interesting information and that",
    "start": "3280530",
    "end": "3286410"
  },
  {
    "text": "says that this thing is isolated now what do I do that's how we triggered that event so that could theoretically trigger this",
    "start": "3286410",
    "end": "3293640"
  },
  {
    "text": "research phase so now we're gonna get we're gonna collect more information through a step function we're gonna go get the logs are going to go",
    "start": "3293640",
    "end": "3298860"
  },
  {
    "text": "these are structured logs we're gonna take information from those logs correlated with other logs we do what we have to do in the research phase but are",
    "start": "3298860",
    "end": "3305400"
  },
  {
    "text": "we done how do we automate until we're done cloud watch events my best friend we're gonna send a signal out to cloud",
    "start": "3305400",
    "end": "3311280"
  },
  {
    "text": "watch events that might trigger forensics and you can do that in a number of ways you can do ec2 dot",
    "start": "3311280",
    "end": "3316800"
  },
  {
    "text": "forensics if you want it's again this is entirely up to you that's the magic of all this stuff and then what after",
    "start": "3316800",
    "end": "3322950"
  },
  {
    "text": "forensics are we done who knows but the point is let's say you know you have you",
    "start": "3322950",
    "end": "3328050"
  },
  {
    "text": "your team is in control of forensics and whatever happens later is another team well if you can agree on the structure",
    "start": "3328050",
    "end": "3333060"
  },
  {
    "text": "of what that alert looks like your job as a forensics is is during the forensics or post",
    "start": "3333060",
    "end": "3338240"
  },
  {
    "text": "forensics phase is I've done my forensics and I've raised an event it's",
    "start": "3338240",
    "end": "3343430"
  },
  {
    "text": "up to that next team to consume that event and do something about it so that's how we're gonna chain together these processes that can be reused so",
    "start": "3343430",
    "end": "3350210"
  },
  {
    "text": "whatever is happening in the forensic side there's like I say there's tons of ways to invoke that if the forensics team was just looking for ICI to dot",
    "start": "3350210",
    "end": "3356870"
  },
  {
    "text": "forensics well then I think of all the different ways you can get there right it's it's it's whatever you want to do",
    "start": "3356870",
    "end": "3363260"
  },
  {
    "text": "as long as you agree on that structure so in this world of of separate run",
    "start": "3363260",
    "end": "3369890"
  },
  {
    "start": "3367000",
    "end": "3367000"
  },
  {
    "text": "books and and separate you know these these sort of these divided operations",
    "start": "3369890",
    "end": "3375230"
  },
  {
    "text": "how do we wrangle it all right we still need to know about it we still need to research it down we still need to learn",
    "start": "3375230",
    "end": "3380600"
  },
  {
    "text": "from every single one of these steps and we need to learn from it we need to improve our own security posture to make",
    "start": "3380600",
    "end": "3387050"
  },
  {
    "text": "sure those things don't happen again or take great measures to make sure those things don't happen again if we have to tie it all together hopefully we're",
    "start": "3387050",
    "end": "3394040"
  },
  {
    "text": "doing this with a security incident event management system or seam Sims II I don't know how to pronounce that hopefully one that has API driven so the",
    "start": "3394040",
    "end": "3401210"
  },
  {
    "text": "one I'm using here in in these examples is a product called incident pony from ephemeral systems and what I like about",
    "start": "3401210",
    "end": "3408410"
  },
  {
    "text": "that is it's API driven every one of these little atomic workflows every one of these little run booklets it can on",
    "start": "3408410",
    "end": "3415400"
  },
  {
    "text": "the notification phase in this case instead of notifying email here and in that over there it's sending an API call",
    "start": "3415400",
    "end": "3421820"
  },
  {
    "text": "to my seam and we were able to holistically see that end-to-end no matter if it's this process or that",
    "start": "3421820",
    "end": "3428060"
  },
  {
    "text": "process whether it's the login break glass or it's forensics you sending it up with an API call on these on this",
    "start": "3428060",
    "end": "3433850"
  },
  {
    "text": "automation on this automation driven workflow it can tell us the whole story at the end and we can actually track that thing to resolution we know how",
    "start": "3433850",
    "end": "3439910"
  },
  {
    "text": "that work even though these moving parts are all in different parts of vir of your strategy so you're not alone right",
    "start": "3439910",
    "end": "3447140"
  },
  {
    "text": "this you know all these different functions all these different ways to tie these things together you're not",
    "start": "3447140",
    "end": "3452630"
  },
  {
    "text": "alone we have a great partner space and technology partners that are very cloudy right they offer up those API is they",
    "start": "3452630",
    "end": "3459110"
  },
  {
    "text": "give you that top-level visibility that you can just throw so much information up there whether it's an event itself",
    "start": "3459110",
    "end": "3464720"
  },
  {
    "text": "and what bida was talking about is getting that access the information around the event itself",
    "start": "3464720",
    "end": "3470720"
  },
  {
    "text": "making that super-easy to be clicked or accessed right away these some of these products can actually do that so instead",
    "start": "3470720",
    "end": "3476270"
  },
  {
    "text": "of going back to you know s3 for the logs just take the log and pin it up there and throw it up there and it's all in one place for you so check those out",
    "start": "3476270",
    "end": "3483350"
  },
  {
    "text": "but you got to have a plan right which one of these do I use it depends on your plan and then if you're looking for open",
    "start": "3483350",
    "end": "3491420"
  },
  {
    "text": "source incident response solutions there are a number of those already available specific to AWS as well so AWS has a",
    "start": "3491420",
    "end": "3499400"
  },
  {
    "text": "number of security automations there's more that we're releasing this week that's right yeah that's right threat response is a good open source project",
    "start": "3499400",
    "end": "3505640"
  },
  {
    "text": "associated with forensics and AWS environments and automating that whether it's for one instance or ten instances",
    "start": "3505640",
    "end": "3512030"
  },
  {
    "text": "or a hundred instances at a time waser now has integration with AWS as well",
    "start": "3512030",
    "end": "3517880"
  },
  {
    "text": "we're supports AWS our customers have a number of open-source Incident Response",
    "start": "3517880",
    "end": "3523610"
  },
  {
    "text": "Solutions that they have published as well and those are available now if you look at cloud custodian from one of our",
    "start": "3523610",
    "end": "3529520"
  },
  {
    "text": "customers Capital One that's a great resource for you Fido and security monkey from Netflix a number of other",
    "start": "3529520",
    "end": "3536540"
  },
  {
    "text": "open source projects that are available and the Netflix security team absolute rockstars and they're putting out open",
    "start": "3536540",
    "end": "3542630"
  },
  {
    "text": "source code for you to help with security related stuff in your AWS environment and Airbnb has stream alert",
    "start": "3542630",
    "end": "3548780"
  },
  {
    "text": "which is another open source project associated with security and automating those workflows now if you're looking",
    "start": "3548780",
    "end": "3555440"
  },
  {
    "start": "3554000",
    "end": "3554000"
  },
  {
    "text": "for community or industry related resources check out first it's the organization organization for Incident",
    "start": "3555440",
    "end": "3561920"
  },
  {
    "text": "Response and they have whether it's online documentation as well as events",
    "start": "3561920",
    "end": "3567530"
  },
  {
    "text": "where they have training and AWS actually shows up at those events and we provide training at first first events",
    "start": "3567530",
    "end": "3573470"
  },
  {
    "text": "as well and then now there's documentation actually published cloud gov documentation and Incident Response",
    "start": "3573470",
    "end": "3580430"
  },
  {
    "text": "that actually speaks about or speaks to the cloud knowing that there are customers that are using cloud",
    "start": "3580430",
    "end": "3586910"
  },
  {
    "text": "environments and the Incident Response is not necessarily unachievable in those",
    "start": "3586910",
    "end": "3591980"
  },
  {
    "text": "environments it's just different yeah right and now we have documentation that actually speaks to that so check out",
    "start": "3591980",
    "end": "3597640"
  },
  {
    "text": "cloud gov and their documentation for security and incident response which now has a number of updates associated with",
    "start": "3597640",
    "end": "3603620"
  },
  {
    "text": "cloud we have documentation online already if you're looking for a starting place to",
    "start": "3603620",
    "end": "3610070"
  },
  {
    "text": "building a cloud specific incident response plan we've already published that for you and while we were",
    "start": "3610070",
    "end": "3615830"
  },
  {
    "text": "publishing it for our worldwide public sector customers it's certainly relevant for anybody else that's in the",
    "start": "3615830",
    "end": "3621830"
  },
  {
    "text": "commercial sector as well and if you stay tuned to that same security blog I'm gonna release some of this there's a",
    "start": "3621830",
    "end": "3628700"
  },
  {
    "text": "stilled version of this of this session or at least the code behind the concepts behind it on the security blog so keep keep a look out and we mentioned",
    "start": "3628700",
    "end": "3636250"
  },
  {
    "text": "previous presentations that we've provided those are on YouTube you can",
    "start": "3636250",
    "end": "3641480"
  },
  {
    "text": "search for incident response and AWS and you'll find a number of YouTube presentations where we've talked about security related automation if you're",
    "start": "3641480",
    "end": "3649670"
  },
  {
    "text": "looking for training and security operations and specific to an AWS environment we provide that now and so",
    "start": "3649670",
    "end": "3656510"
  },
  {
    "text": "you can go on to our website you can search for security operations on AWS and you can click and find where there",
    "start": "3656510",
    "end": "3662570"
  },
  {
    "text": "is training near you if you're not taking training here at reinvent speaking of interesting training at",
    "start": "3662570",
    "end": "3668480"
  },
  {
    "text": "reinvent which is a lot more fun than I think of than other training is our security gym our security Jam is a",
    "start": "3668480",
    "end": "3675290"
  },
  {
    "text": "defensive capture-the-flag event where you as an individual or with",
    "start": "3675290",
    "end": "3680600"
  },
  {
    "text": "teammates can compete against other people humans yes you have not just certain not just robots and even find",
    "start": "3680600",
    "end": "3687620"
  },
  {
    "text": "automated ways to solve a number of security related events in an AWS environment and you don't have to",
    "start": "3687620",
    "end": "3694580"
  },
  {
    "text": "actually be at the security gym that's right this year for the first time we were able to launch a virtual jam or a",
    "start": "3694580",
    "end": "3700370"
  },
  {
    "text": "virtual lounge so if you go to the Expo Center you can go to the AWS area you can actually get credentials for this",
    "start": "3700370",
    "end": "3707360"
  },
  {
    "text": "week and just do you actually do this at your leisure at your own time and then",
    "start": "3707360",
    "end": "3712550"
  },
  {
    "text": "through AWS professional services we can actually test your mettle like if you if you figured all this out and you say",
    "start": "3712550",
    "end": "3718580"
  },
  {
    "text": "yeah I hear what these guys are saying either I agree or I don't agree and here's my you know my solution you can",
    "start": "3718580",
    "end": "3724910"
  },
  {
    "text": "actually contract AWS professional services to come in and run game days to see how effective it really is and then",
    "start": "3724910",
    "end": "3731420"
  },
  {
    "text": "of course we always need to point out that support is your one-stop-shop for getting the help and assistance",
    "start": "3731420",
    "end": "3737900"
  },
  {
    "text": "you need associated with any events that you have within your a diverse environment feel free to reach out to support when you have a question whether",
    "start": "3737900",
    "end": "3744589"
  },
  {
    "text": "it's something that you've planned or something that's unplanned and you need some assistance supports going to help",
    "start": "3744589",
    "end": "3749720"
  },
  {
    "text": "you they have their run books to help you and if they don't have an answer for you in their run books they know who to escalate inside AWS particularly the aid",
    "start": "3749720",
    "end": "3757220"
  },
  {
    "text": "of a security team if it's a security related concern that you have and for other related talks check it out on so",
    "start": "3757220",
    "end": "3764539"
  },
  {
    "text": "on Tuesday we've got five new security automation so if you learned one or two news ones today you can go in one hour",
    "start": "3764539",
    "end": "3770359"
  },
  {
    "text": "learn five new security automations Wednesday you you can see how AWS lamda",
    "start": "3770359",
    "end": "3776450"
  },
  {
    "text": "is part of your security team alright so going back to the automation story very very effective and last on Thursday",
    "start": "3776450",
    "end": "3783640"
  },
  {
    "text": "Netflix right they are in like like beetle says describes them as sort of security rockstars they are indeed go",
    "start": "3783640",
    "end": "3789410"
  },
  {
    "text": "check out their session on forensics and and they do very very cloudy things with forensics and it'll sort of modernize",
    "start": "3789410",
    "end": "3795079"
  },
  {
    "text": "the way you think about forensics alright so summarizing the takeaways for you to go back and share with your team",
    "start": "3795079",
    "end": "3801200"
  },
  {
    "text": "security geeks can absolutely be heroes but they shouldn't have to be heroes all the time I have a cape automating",
    "start": "3801200",
    "end": "3808819"
  },
  {
    "text": "Incident Response workflows are going to free resources right so that you can perform some of those non-emergent yet",
    "start": "3808819",
    "end": "3815329"
  },
  {
    "text": "very important security engineering tasks eight of us capabilities are going to be the key to helping you create",
    "start": "3815329",
    "end": "3822049"
  },
  {
    "text": "end-to-end automation for those Incident Response workflows hopefully you've seen how to do that within this presentation",
    "start": "3822049",
    "end": "3828470"
  },
  {
    "text": "but make sure you go and look at all the other different things that we've talked about in previous presentations to help spark those ideas and remember start",
    "start": "3828470",
    "end": "3835910"
  },
  {
    "text": "small start simple iterate from there and make sure that you leverage our partner or open-source resources as well",
    "start": "3835910",
    "end": "3842480"
  },
  {
    "text": "as support to get you to the right place that you need to be so thanks a lot thanks everybody thank you",
    "start": "3842480",
    "end": "3850450"
  }
]