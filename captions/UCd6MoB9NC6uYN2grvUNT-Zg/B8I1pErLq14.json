[
  {
    "text": "all right hello twitch welcome back I hope you enjoyed that episode about",
    "start": "30",
    "end": "5100"
  },
  {
    "text": "DynamoDB and we have with us today on our databases deep dive show the amazing",
    "start": "5100",
    "end": "10230"
  },
  {
    "text": "Joe can you tell us your title and what you need of us I'm just average your average Joe name is Joseph I'd Zorich",
    "start": "10230",
    "end": "17340"
  },
  {
    "text": "I'm a product manager on document dB I also worked with some fun products like Dax and ElastiCache and a few other of",
    "start": "17340",
    "end": "24119"
  },
  {
    "text": "our database services you may not know this already but my real name is also Joseph is it really it is no what I had",
    "start": "24119",
    "end": "31260"
  },
  {
    "text": "to change it when I became a spy got it I'm just eating so we're gonna talk",
    "start": "31260",
    "end": "37050"
  },
  {
    "text": "today about document DB we have a couple questions as well it came in and I'll answer those at the end any questions",
    "start": "37050",
    "end": "43050"
  },
  {
    "text": "that you have going along here I will relate to Joe or I'll try and answer them myself but please try and keep chat",
    "start": "43050",
    "end": "49739"
  },
  {
    "text": "as interactive as possible this is your opportunity to talk to some of the the best minds at AWS who can answer a lot",
    "start": "49739",
    "end": "56610"
  },
  {
    "text": "of questions about everything from data modeling to you can make feature requests you know this is this is the",
    "start": "56610",
    "end": "62670"
  },
  {
    "text": "place in the time to get that you know virtual FaceTime with the the leaders",
    "start": "62670",
    "end": "67890"
  },
  {
    "text": "here at Amazon so thank you so much for coming on my pleasure I think we should kind of jump",
    "start": "67890",
    "end": "74400"
  },
  {
    "text": "into the before before we go into any slides you know one of the things that",
    "start": "74400",
    "end": "79530"
  },
  {
    "text": "we talked about in the first episode that we were here for was purpose-built databases and it's kind of",
    "start": "79530",
    "end": "85710"
  },
  {
    "text": "a term we keep using and keep driving and part of the reason for that is in 2019 you know the 300 different database",
    "start": "85710",
    "end": "92070"
  },
  {
    "text": "engines nobody knows what the right one to build and do stuff on is because we we basically you know have a different",
    "start": "92070",
    "end": "101159"
  },
  {
    "text": "set of criteria for modern applications than what we had for the 70s 80s and 90s and it's a whole new world now so you",
    "start": "101159",
    "end": "109259"
  },
  {
    "text": "have spoken a lot in the past about purpose-built databases where do you see document TV falling along that spectrum",
    "start": "109259",
    "end": "115610"
  },
  {
    "text": "yeah so I think you know we spent a lot of time talking with customers about you",
    "start": "115610",
    "end": "120990"
  },
  {
    "text": "know how they're building applications and you know what makes them productive what makes their application scalable",
    "start": "120990",
    "end": "127710"
  },
  {
    "text": "and flexible you know I think we see this there's this nice sweet spot",
    "start": "127710",
    "end": "134550"
  },
  {
    "text": "within the way that data is handled they knows and I'll use an analogy right so we kind of talked about purpose-built databases in general with sitting with a",
    "start": "134550",
    "end": "142239"
  },
  {
    "text": "very large car manufacturer the other week and we were talking about this concept they're like okay I kind of get",
    "start": "142239",
    "end": "147970"
  },
  {
    "text": "it I go well let me ask you this do you use the same engine for every make and model of your car certainly not no of",
    "start": "147970",
    "end": "154000"
  },
  {
    "text": "course not you know for this car we use X for these cars we use Y and we see the same thing with applications right they",
    "start": "154000",
    "end": "159940"
  },
  {
    "text": "don't use the same database engine for every single application so document DB fits into that area and you look at kind",
    "start": "159940",
    "end": "166420"
  },
  {
    "text": "of operational databases of relational and document key value that really makes you know JSON objects the first class",
    "start": "166420",
    "end": "172989"
  },
  {
    "text": "citizen the first class object of the database and why that matters and this kind of fun I was looking at Strava is",
    "start": "172989",
    "end": "178510"
  },
  {
    "text": "public API the other day the bike the bike and running yeah yeah the application so you can say like hey what",
    "start": "178510",
    "end": "184360"
  },
  {
    "text": "did my runs you know start and stop and you know what were the different segments and what are all the different fun things I do and it comes out in a",
    "start": "184360",
    "end": "190239"
  },
  {
    "text": "huge JSON object right and I look at that and I'm like okay cool I want to you know write that to document DB it",
    "start": "190239",
    "end": "196989"
  },
  {
    "text": "makes a really natural fit because it's already in JSON I want to persist that in the same format that I'm already",
    "start": "196989",
    "end": "202389"
  },
  {
    "text": "using it that the API already gives me between if I have to shred that and have to think about you know do I want to put",
    "start": "202389",
    "end": "209350"
  },
  {
    "text": "this in a relational database now I really have to think about schema and I have to think about what happens if",
    "start": "209350",
    "end": "214750"
  },
  {
    "text": "Strava yeah yeah you that that brings to mind a point that I think you made the",
    "start": "214750",
    "end": "220989"
  },
  {
    "text": "last time we had you on which is people wrote these huge complex ORM layers to basically deal with that translation",
    "start": "220989",
    "end": "227650"
  },
  {
    "text": "from JSON into X format you know maybe",
    "start": "227650",
    "end": "233200"
  },
  {
    "text": "it was mark logics XML back in you know 2007 but you know moving on from that",
    "start": "233200",
    "end": "238450"
  },
  {
    "text": "you have like your relational database and you're basically splitting up that's huge JSON object into a bunch of different tables and then having to",
    "start": "238450",
    "end": "245200"
  },
  {
    "text": "write another query on the other side when you want to query it and get the data back out and you you you kind of",
    "start": "245200",
    "end": "252579"
  },
  {
    "text": "made this cool set of animations that showed why we wanted to get rid of those ORM s and instead build something that",
    "start": "252579",
    "end": "259630"
  },
  {
    "text": "just naturally map so those JSON objects yeah you look at like how you know relational database started the",
    "start": "259630",
    "end": "265150"
  },
  {
    "text": "constrained resource was disk and IO and if you take that constraint away it might not be the way that you always",
    "start": "265150",
    "end": "270940"
  },
  {
    "text": "want to deal with data certainly there's still use cases and plenty of use cases for relational but when you you know",
    "start": "270940",
    "end": "276940"
  },
  {
    "text": "when the data is modeled in the application tier in objects or in JSON and you introduce you know hey I have to",
    "start": "276940",
    "end": "283450"
  },
  {
    "text": "shred this apart these hierarchical structures and complex you know it can be very complex documents into something",
    "start": "283450",
    "end": "288850"
  },
  {
    "text": "you know into rows and tables that are joined through primary foreign key primary foreign keys that's not",
    "start": "288850",
    "end": "294790"
  },
  {
    "text": "something you and I think about doing on a normal basis right that takes real work right table modelling in if you",
    "start": "294790",
    "end": "300280"
  },
  {
    "text": "would ask me friction ten years ago it was something that I thought about because that's this is a great point",
    "start": "300280",
    "end": "306400"
  },
  {
    "text": "because you didn't have too much in about option at that point right like it's one of those things where all of a",
    "start": "306400",
    "end": "311770"
  },
  {
    "text": "sudden you know people are like hey I think there's a better way of doing this right and I think we could you know hey why don't we just store the data as a",
    "start": "311770",
    "end": "317380"
  },
  {
    "text": "JSON object and remove this friction you know I think when Dwight Merriman and Eliot Horowitz were starting mommy-to-be",
    "start": "317380",
    "end": "323170"
  },
  {
    "text": "that was one of the things they were saying is they were coming over from double-click which was this big answering company that got bought by",
    "start": "323170",
    "end": "329110"
  },
  {
    "text": "Google and they were saying you know what's ridiculous is the fact that we are still doing application level",
    "start": "329110",
    "end": "334450"
  },
  {
    "text": "sharding and we're having to build out all of this nonsense for objects that don't really correspond to two",
    "start": "334450",
    "end": "340900"
  },
  {
    "text": "relational data structures and we have a quick question from the West here on",
    "start": "340900",
    "end": "347110"
  },
  {
    "text": "twitch that says it kind of I think you've covered this slightly which are what are the main differences between",
    "start": "347110",
    "end": "352900"
  },
  {
    "text": "document stores and key value stores sure so you know this very well because you did you dabble in them all the time",
    "start": "352900",
    "end": "359100"
  },
  {
    "text": "so when you look at it like a key value store one of the you know inherent so we",
    "start": "359100",
    "end": "364600"
  },
  {
    "text": "talked about like what's different what's the same so keep out your stories are really good when you know what the",
    "start": "364600",
    "end": "370030"
  },
  {
    "text": "use case are the access pattern is when you're starting to develop your application and the whole point of a key",
    "start": "370030",
    "end": "375220"
  },
  {
    "text": "value stores you can horizontally partition that data almost limitlessly right because you're basically saying",
    "start": "375220",
    "end": "381130"
  },
  {
    "text": "hey I have a partition key when you go into died all that DynamoDB that's the first thing you do is you pick a",
    "start": "381130",
    "end": "386320"
  },
  {
    "text": "partition key which is essentially saying hey I want to shard my data based on this key and because we're doing key",
    "start": "386320",
    "end": "392680"
  },
  {
    "text": "value lookups I can horizontally scale that basically forever yeah but when you do that you also make an",
    "start": "392680",
    "end": "398860"
  },
  {
    "text": "assumption about the way that you're gonna access that data no there's definitely secondary indexes and exist Saturn driven development that's right",
    "start": "398860",
    "end": "405010"
  },
  {
    "text": "this is actually a heck of a term because you really need to know that because if you're saying like hey my",
    "start": "405010",
    "end": "411010"
  },
  {
    "text": "primary key is X today but now I have a different access pattern or you know I want to use",
    "start": "411010",
    "end": "416940"
  },
  {
    "text": "you know I don't want to use that key anymore you need to rewrite the table and you need to rethink about a",
    "start": "416940",
    "end": "422710"
  },
  {
    "text": "different primary key your only choices of that pointer to create a new global secondary index or to create a new table and add those different access patterns",
    "start": "422710",
    "end": "429970"
  },
  {
    "text": "in where to start changing your application code really to be able to access those things whereas with a",
    "start": "429970",
    "end": "435670"
  },
  {
    "text": "document store you can roll in you'd be like DB ensure index on you know new",
    "start": "435670",
    "end": "440680"
  },
  {
    "text": "value and then you just start accessing it the same way and hopefully the query planner goes out chooses the right one give the information back yeah it's a",
    "start": "440680",
    "end": "447160"
  },
  {
    "text": "big difference of saying you know I think you have a lot more flexibility in a document database because Randall said",
    "start": "447160",
    "end": "452440"
  },
  {
    "text": "you have a query planner right and query planner can pick up multiple different indexes you can use different indexes",
    "start": "452440",
    "end": "458230"
  },
  {
    "text": "you can get rid of them you can create composite index multi key indexes you can you know index arrays or nested",
    "start": "458230",
    "end": "464650"
  },
  {
    "text": "documents you have a lot more flexibility to be able to change the way",
    "start": "464650",
    "end": "470020"
  },
  {
    "text": "or evolve the way that you access the data within your database and then you know the query planner can say hey I can",
    "start": "470020",
    "end": "475840"
  },
  {
    "text": "use multiple indexes to be able to answer very complex ad hoc queries and",
    "start": "475840",
    "end": "480970"
  },
  {
    "text": "do things like aggregations and counts and you know mens max averages and sums that I can't do on databases that are",
    "start": "480970",
    "end": "488530"
  },
  {
    "text": "just doing gets and ports and key value of them ranks that's awesome now we",
    "start": "488530",
    "end": "493660"
  },
  {
    "text": "built something called the Amazon document DB we can you walk us through it can you tell us about it and then",
    "start": "493660",
    "end": "500440"
  },
  {
    "text": "maybe could you go behind the scenes a little bit and tell us like how the storage layers working and all this",
    "start": "500440",
    "end": "506050"
  },
  {
    "text": "other cool stuff yeah I think so you know always working backwards from our customers I think what we you know what",
    "start": "506050",
    "end": "512650"
  },
  {
    "text": "we heard from customers is that hey we really love document databases but we really struggle with the code a few",
    "start": "512650",
    "end": "518050"
  },
  {
    "text": "things right and this is how we you know we always think about you know what are the customer pain points and we re",
    "start": "518050",
    "end": "523690"
  },
  {
    "text": "adding something that's gonna have value to our customers and we really look at this and say okay",
    "start": "523690",
    "end": "528880"
  },
  {
    "text": "well we have a lot of people self Hosting MongoDB on ec2 and they give us a lot of feedback over the years saying",
    "start": "528880",
    "end": "534550"
  },
  {
    "text": "I can't really struggle with managing I'm not an expert in database management I don't want to be right because that's",
    "start": "534550",
    "end": "540640"
  },
  {
    "text": "undifferentiated heavy lifting that I would like to shed and then the other thing we get left feedback on is is",
    "start": "540640",
    "end": "546760"
  },
  {
    "text": "scaling okay I really wish I could you know provision capacity a new replicate instance or increase my",
    "start": "546760",
    "end": "553690"
  },
  {
    "text": "replica sizes in minutes I don't want to do in days or weeks or have to think about a lot over time you know that's",
    "start": "553690",
    "end": "560290"
  },
  {
    "text": "right I want to do that in minutes because my business business changes in minutes and then we also had a lot of",
    "start": "560290",
    "end": "566140"
  },
  {
    "text": "thing about just high availability and be able to run it at scale right and once you get data to a certain size it",
    "start": "566140",
    "end": "572589"
  },
  {
    "text": "becomes very challenging you don't to be recovered from failures and be able to do replication very efficiently so we",
    "start": "572589",
    "end": "579400"
  },
  {
    "text": "looked at you know and even things just as trivial as backup you know we have a lot of customers just say hey my backups",
    "start": "579400",
    "end": "584920"
  },
  {
    "text": "a really expensive operation on the database that I'm running I would like to be able to take a snapshot on Tuesday",
    "start": "584920",
    "end": "590110"
  },
  {
    "text": "at you know 12:20 because we're gonna do a deployment at 2 o'clock but because",
    "start": "590110",
    "end": "595930"
  },
  {
    "text": "it's such an expensive database operation that's something I hired a plan and I have to start it we have that iron box exactly and it takes my",
    "start": "595930",
    "end": "603520"
  },
  {
    "text": "production database to a grinding halt and I can set up another replica but take some time to set up a replica and",
    "start": "603520",
    "end": "608589"
  },
  {
    "text": "it just becomes a lot of extra work I mean even when you're talking about snapshotting my previous career was",
    "start": "608589",
    "end": "614770"
  },
  {
    "text": "really kind of managing a bunch of these databases and I remember running it on I",
    "start": "614770",
    "end": "620290"
  },
  {
    "text": "three instances with the nvme or SSD storage and so we we basically raid zero",
    "start": "620290",
    "end": "625720"
  },
  {
    "text": "a couple of those together and then we'd say okay cool we're gonna we're gonna have our ec2 among GB fleet but then",
    "start": "625720",
    "end": "632080"
  },
  {
    "text": "when you wanted to copy the data onto a new replica it became this rsync hell of",
    "start": "632080",
    "end": "638230"
  },
  {
    "text": "like let me figure out how to grab the data files okay now I've grabbed the data files now I need to do RS not",
    "start": "638230",
    "end": "644380"
  },
  {
    "text": "initiate and get the thing talking from from node 1 into the new replica node and then maybe I wouldn't want it to",
    "start": "644380",
    "end": "650740"
  },
  {
    "text": "talk to master so I'd say okay sync from like this specific node which I know is in Norway and has like no traffic sorry",
    "start": "650740",
    "end": "657670"
  },
  {
    "text": "Norway not not it's not a lot of people there so it's like you go and that ones",
    "start": "657670",
    "end": "664000"
  },
  {
    "text": "has less traffic so yeah okay cool singing singing singing singing and then a day later you're like okay cool we're caught up I can promote this one to",
    "start": "664000",
    "end": "670630"
  },
  {
    "text": "master and now I can you know that was it was chaos it's work yeah yeah it's",
    "start": "670630",
    "end": "675970"
  },
  {
    "text": "work and you know if we see you know we have stories from customers that tell us you know they measure the amount of sync",
    "start": "675970",
    "end": "683230"
  },
  {
    "text": "time in calendar weeks you're kidding I don't measure my vacation in the amount of calendar weeks right I always that's",
    "start": "683230",
    "end": "690100"
  },
  {
    "text": "always right it's always so these are the things you know these are the pain points that we really took to heart when we thought about making you know",
    "start": "690100",
    "end": "697240"
  },
  {
    "text": "document dB and to really make this easier for our customers make it scalable fast and fully managed and of",
    "start": "697240",
    "end": "704680"
  },
  {
    "text": "course made at MongoDB compatible because customers love that mom would EB API it's really the de facto way to work",
    "start": "704680",
    "end": "709990"
  },
  {
    "text": "with with JSON documents it's a beautiful API I agree with that but I could be a little biased",
    "start": "709990",
    "end": "717060"
  },
  {
    "text": "best query language of all time it is very nice so you know we kind of look at",
    "start": "717060",
    "end": "723040"
  },
  {
    "text": "this and say okay well if we're gonna work backwards and we want to solve these problems how would we do it and I",
    "start": "723040",
    "end": "728560"
  },
  {
    "text": "think if you look at like traditional database architectures they really weren't built to run in the cloud right they're typically able to run on stuff",
    "start": "728560",
    "end": "735460"
  },
  {
    "text": "like this right on my laptop or your laptop or on a shared disk instance or on a server on premise and they really",
    "start": "735460",
    "end": "741670"
  },
  {
    "text": "weren't reimagining they really would imagine to run at scale right or at the economies of scale that a cloud can",
    "start": "741670",
    "end": "747790"
  },
  {
    "text": "offer so when we built document to be you really took that into heart and saying hey if we're gonna reimagine this for the cloud we're gonna build this on",
    "start": "747790",
    "end": "754089"
  },
  {
    "text": "AWS how do we think about this right what would we change things about the way that we architected the database to",
    "start": "754089",
    "end": "760060"
  },
  {
    "text": "provide higher flexibility and scale and make it you know much easier for for our",
    "start": "760060",
    "end": "765940"
  },
  {
    "text": "customers to use so let me fast forward a few slow let's let's look at this slide again yeah because it covers like",
    "start": "765940",
    "end": "772839"
  },
  {
    "text": "the the core you know these are the things that marketing wants us to talk about cuz oh I I have to be the very",
    "start": "772839",
    "end": "779800"
  },
  {
    "text": "good man once let's cover it all right let's do it so you know we look at this",
    "start": "779800",
    "end": "784870"
  },
  {
    "text": "we talk about we'll talk a little bit underneath the covers a little bit fast so document DB one of the things that we",
    "start": "784870",
    "end": "791200"
  },
  {
    "text": "that we did with it is we don't do full-page syncs across for replication",
    "start": "791200",
    "end": "796360"
  },
  {
    "text": "or even down to the storage layer right we only do vlogs basically only log rights and it's a much more efficient",
    "start": "796360",
    "end": "802779"
  },
  {
    "text": "way because usually you know one of the constrained resources on a database can be i/o right and how much I owe or network bandwidth if you're only writing",
    "start": "802779",
    "end": "810100"
  },
  {
    "text": "the changes you make to a database down to the storage layer you can reduce a significant amount of i/o and network",
    "start": "810100",
    "end": "816550"
  },
  {
    "text": "bandwidth that you're storing when the other things that we do with document.observe actually separate storage and compute as well this is a",
    "start": "816550",
    "end": "822610"
  },
  {
    "text": "very key architectural difference that we have that sounds like literally every new database that we're",
    "start": "822610",
    "end": "829300"
  },
  {
    "text": "building is following that paradigm there's a reason yeah there's a reason I think when you look at like what we've",
    "start": "829300",
    "end": "835600"
  },
  {
    "text": "learned from building distributed systems at AWS is you want to decouple things to them so the most that you can",
    "start": "835600",
    "end": "841690"
  },
  {
    "text": "that it makes sense and reasons why you can do that is is they can scale independently they can fail",
    "start": "841690",
    "end": "847450"
  },
  {
    "text": "independently and then we can also do things that can isolate those workloads",
    "start": "847450",
    "end": "852580"
  },
  {
    "text": "right and one of the nice things about document DB is well when you separate",
    "start": "852580",
    "end": "857650"
  },
  {
    "text": "storage and compute and you push a lot of the you know replication and durability down to the storage layer",
    "start": "857650",
    "end": "862990"
  },
  {
    "text": "well now the compute you pay for it doesn't have to do all that processing that it used to which frees it up to do",
    "start": "862990",
    "end": "868180"
  },
  {
    "text": "more work for your application and to your point this is an architectural",
    "start": "868180",
    "end": "873820"
  },
  {
    "text": "discussion that I'm seeing more and more not just with in our company but also",
    "start": "873820",
    "end": "879010"
  },
  {
    "text": "within customers so I'll go to a customer you talk about strongly coupled objects and this is this is a bit of a",
    "start": "879010",
    "end": "885220"
  },
  {
    "text": "tangent but here with me you talk about strongly coupled objects and there are issues and how you you advance those in",
    "start": "885220",
    "end": "894700"
  },
  {
    "text": "lockstep so one of the disadvantages of these strongly a couple of objects that isn't often a parent it's not just the",
    "start": "894700",
    "end": "900459"
  },
  {
    "text": "performance gain but it's also the the migration game so I have you know",
    "start": "900459",
    "end": "906420"
  },
  {
    "text": "an object stored in one location or an object stored in another location and I",
    "start": "906420",
    "end": "912130"
  },
  {
    "text": "can't migrate one system without also migrating the other system so it makes my deployments more complicated it",
    "start": "912130",
    "end": "917470"
  },
  {
    "text": "reduces the agility of these individual teams to iterate on their projects so I really like I'm seeing more and more",
    "start": "917470",
    "end": "923920"
  },
  {
    "text": "this idea of databases as a micro service as opposed to one monolithic and canonical store for the single source of",
    "start": "923920",
    "end": "929770"
  },
  {
    "text": "truth and the the more that I see that the more I'm convinced that as an",
    "start": "929770",
    "end": "935149"
  },
  {
    "text": "industry we're moving towards that pattern of databases as a micro service as opposed to these monolithic engines",
    "start": "935149",
    "end": "942139"
  },
  {
    "text": "that are supposed to serve our whole thing because that's how it used to be is like databases we're expensive so we spent all my money on one giant node and",
    "start": "942139",
    "end": "949549"
  },
  {
    "text": "when you decouple these different sections you kind of get you you get a",
    "start": "949549",
    "end": "955279"
  },
  {
    "text": "lot more flexibility not just in the in the performance realm but also in the dev lifecycle you know in the building",
    "start": "955279",
    "end": "961129"
  },
  {
    "text": "and deploying lifecycle yeah developers can then pick the the database that makes sense for them you know you might",
    "start": "961129",
    "end": "966709"
  },
  {
    "text": "have a set of micro services and one dev team picks Ruby on Rails and another one picks no js' make it still live as are",
    "start": "966709",
    "end": "972739"
  },
  {
    "text": "the two worst possible staff I'm gonna say they could pick those if they so",
    "start": "972739",
    "end": "978439"
  },
  {
    "text": "choose and they could pick a completely underlying database underneath the covers they don't have to normalize on",
    "start": "978439",
    "end": "983509"
  },
  {
    "text": "one particular technology I think that's where we see a lot of compromise happen an application design is you know one",
    "start": "983509",
    "end": "990229"
  },
  {
    "text": "cut we have one particular dev team either is sanction that everybody uses technology X and everybody has to",
    "start": "990229",
    "end": "996109"
  },
  {
    "text": "regress to that mean or you know the whole company is standardized on foo and when you get this ability to choose and",
    "start": "996109",
    "end": "1003519"
  },
  {
    "text": "people are empowered to use what they want to or what they know or what they're efficient with you get a lot more ownership and you get a lot faster",
    "start": "1003519",
    "end": "1009249"
  },
  {
    "text": "dev cycles versus you know doing crazy things like trying to build graph databases in an application to because",
    "start": "1009249",
    "end": "1014919"
  },
  {
    "text": "the database doesn't support it so we you know which is something we've done",
    "start": "1014919",
    "end": "1020609"
  },
  {
    "text": "alright yeah it's it's it's fast and scalable scalable one of the really",
    "start": "1020609",
    "end": "1027730"
  },
  {
    "text": "things that I is really useful for our customers this architecture I spend a lot of time on you know we have customer",
    "start": "1027730",
    "end": "1034688"
  },
  {
    "text": "calls talking about you know hey I'm just doing dev test how do I reduce costs well document DB because of this",
    "start": "1034689",
    "end": "1040779"
  },
  {
    "text": "the separation of storage and compute storage and durability are handled at",
    "start": "1040779",
    "end": "1046329"
  },
  {
    "text": "the at the storage layer right we always are gonna replicate your data six ways across three AZ's you only pay for one",
    "start": "1046329",
    "end": "1052450"
  },
  {
    "text": "copy but you can have one node two nodes or three nodes in a cluster and you",
    "start": "1052450",
    "end": "1057909"
  },
  {
    "text": "still you still have six way replicated data across three daisies and why this matters",
    "start": "1057909",
    "end": "1063340"
  },
  {
    "text": "is that you we don't have this attached disk so if you want to do just dev test you don't need a three node cluster you",
    "start": "1063340",
    "end": "1069220"
  },
  {
    "text": "just need a one note clock right right and you know you can actually delete all the notes from your cluster and your",
    "start": "1069220",
    "end": "1074710"
  },
  {
    "text": "storage still persists because of that separation so if you're going home on a weekend on a Friday it's like stop your",
    "start": "1074710",
    "end": "1080260"
  },
  {
    "text": "get away and exactly it's kind of similar to Aurora services it's very similar right you're the same concept",
    "start": "1080260",
    "end": "1086200"
  },
  {
    "text": "and like I will not get too much into the debate between what services but you think about that storage model it is",
    "start": "1086200",
    "end": "1092530"
  },
  {
    "text": "really the storage model really is service it Auto grows to 64 terabytes right when you create a cluster you",
    "start": "1092530",
    "end": "1098200"
  },
  {
    "text": "don't specify 300 gigs 500 gigs and then imagine we're running a company we have",
    "start": "1098200",
    "end": "1103450"
  },
  {
    "text": "to have Maps meeting every month don't look at how much storage we have right so we can say hey we need to provision a",
    "start": "1103450",
    "end": "1108550"
  },
  {
    "text": "next 100 gigs next month another tangent so in the past if you had to expand and",
    "start": "1108550",
    "end": "1114340"
  },
  {
    "text": "it'll be less volume and say it was a root volume the chaos that one went through was you would mount the volume",
    "start": "1114340",
    "end": "1120610"
  },
  {
    "text": "on another instance and then you would go and you would say okay I'm going to resize 2fs or or whatever he xt4 tool",
    "start": "1120610",
    "end": "1128920"
  },
  {
    "text": "whatever back-end you had and you would say okay grow this storage and the amount of times that we had to do that",
    "start": "1128920",
    "end": "1134140"
  },
  {
    "text": "because we assume you know when we first started an application at this company that I worked at Oh a hundred gigs we'll never have more than 100 great data and",
    "start": "1134140",
    "end": "1140970"
  },
  {
    "text": "yeah that was always the wrong assumption if you're successful you often very quickly have more data so",
    "start": "1140970",
    "end": "1146860"
  },
  {
    "text": "it's a good problem to have it is but it's not one that you want to manage no and 64 terabytes that's almost enough to hold all my selfies that would be almost",
    "start": "1146860",
    "end": "1153730"
  },
  {
    "text": "almost and the same thing with i/o you don't go",
    "start": "1153730",
    "end": "1158980"
  },
  {
    "text": "in and say like hey I need 300,000 provisioned I ops are 2500 or whatever the case may be it's pay-as-you-go right",
    "start": "1158980",
    "end": "1165760"
  },
  {
    "text": "so you pay-as-you-go storage you pay as you go with I ops so then you don't have to think about like under underutilized",
    "start": "1165760",
    "end": "1171580"
  },
  {
    "text": "capacity or lifting that that limit once a month so provides a really nice platform from scale even you can add",
    "start": "1171580",
    "end": "1178570"
  },
  {
    "text": "replicas independent of your data size in minutes yeah which is pretty amazing it's also really good for dev workloads",
    "start": "1178570",
    "end": "1184570"
  },
  {
    "text": "because if I want to work on a copy of my production data it's like one snapshot restore since the storage is",
    "start": "1184570",
    "end": "1189970"
  },
  {
    "text": "decoupled I like I have my node off in one land and then I say ok node in one land you know that separate VPC separate",
    "start": "1189970",
    "end": "1197400"
  },
  {
    "text": "everything from my other kind of production cluster let me try running my change on you let me try all the things",
    "start": "1197400",
    "end": "1204090"
  },
  {
    "text": "that I want to try on you and I don't have to worry about you know impacting prod at all that's right I'm so glad I",
    "start": "1204090",
    "end": "1210150"
  },
  {
    "text": "don't have paid your duty on my phone anymore never want to workouts again and then you're fully managed right so",
    "start": "1210150",
    "end": "1217470"
  },
  {
    "text": "that I think that takes on differentiated heavy lifting out of your hands and and puts it in our shoulders",
    "start": "1217470",
    "end": "1223170"
  },
  {
    "text": "which is where we want to be right that's what we want to that's our job that's that's our purpose is to make",
    "start": "1223170",
    "end": "1229410"
  },
  {
    "text": "that so you don't have to do hardware provisioning think about scaling you know patching security there's a lot of",
    "start": "1229410",
    "end": "1235560"
  },
  {
    "text": "things that we do behind the scenes to make your lives easier so the other",
    "start": "1235560",
    "end": "1241920"
  },
  {
    "text": "thing I think that's worth pointing out is that the the the compatibility layer is such that",
    "start": "1241920",
    "end": "1249720"
  },
  {
    "text": "you can use your existing mommy-to-be tools with no change like you're the only thing you're changing is a connection string that's right which",
    "start": "1249720",
    "end": "1256170"
  },
  {
    "text": "hopefully you're loading through Systems Manager parameter store or through an environment variable or or secrets",
    "start": "1256170",
    "end": "1262560"
  },
  {
    "text": "manager or something you don't really need secrets manager for a connection string but at least the credentials yeah",
    "start": "1262560",
    "end": "1267600"
  },
  {
    "text": "the credentials easily close that's right so document use MongoDB compatible when that means in practices you can use",
    "start": "1267600",
    "end": "1273450"
  },
  {
    "text": "the same SDKs drivers tools that used today on say MongoDB on ec2 and you can",
    "start": "1273450",
    "end": "1279390"
  },
  {
    "text": "use those against document DB by changing over the application string now in full disclosure and this is no secret",
    "start": "1279390",
    "end": "1285930"
  },
  {
    "text": "we don't support a hundred percent of the API today I am shocked we don't it's a pretty vast API it's an enormous API",
    "start": "1285930",
    "end": "1292560"
  },
  {
    "text": "so the approach that we've taken is we're very pragmatic about it you know we launched in January with with a",
    "start": "1292560",
    "end": "1299280"
  },
  {
    "text": "significant amount of functionality and then we've just been working backwards from our customers you know when and we'll continue to do that we've had to",
    "start": "1299280",
    "end": "1305990"
  },
  {
    "text": "two engine launches since then that I think we added 29 different api's operators aggregation stages and we'll",
    "start": "1305990",
    "end": "1313590"
  },
  {
    "text": "continue to do that we'll prioritize what people want the most and what people use and if folks don't use a particular operator we don't hear any",
    "start": "1313590",
    "end": "1320730"
  },
  {
    "text": "feedback on it then then we'll start innovating else in other places on behalf of our customers so what is the",
    "start": "1320730",
    "end": "1326890"
  },
  {
    "text": "current engine compatibility three six today three six okay six so three six has a lot of good features lots okay and",
    "start": "1326890",
    "end": "1332770"
  },
  {
    "text": "you know you you might know the question I'm about to ask cuz I think I asked you this all the time you know one of the",
    "start": "1332770",
    "end": "1338470"
  },
  {
    "text": "things that I would love to see is geo indexing so are you allowed to tell us any top-secret info about Molly we could",
    "start": "1338470",
    "end": "1345610"
  },
  {
    "text": "expect it I wish we could I'll just say that you know we get a lot of feedback from our customers on geo indexing and",
    "start": "1345610",
    "end": "1352150"
  },
  {
    "text": "the capabilities and things that can do to build applications I would and I'm missing that feature it's a very useful",
    "start": "1352150",
    "end": "1358510"
  },
  {
    "text": "feature I alright well we have you know let's take a side to the the twitch chat",
    "start": "1358510",
    "end": "1365830"
  },
  {
    "text": "for a little second here and then we'll come back over and maybe we can dive a little deeper on the storage engine until we replicate things and stuff like",
    "start": "1365830",
    "end": "1372100"
  },
  {
    "text": "that so we have a discussion going on between savage gen and Aerith and a couple other people and if",
    "start": "1372100",
    "end": "1380740"
  },
  {
    "text": "I could summarize it's you know having savage in is responding to a comment I made earlier about how the companies are",
    "start": "1380740",
    "end": "1388330"
  },
  {
    "text": "having more and more different micro service databases and the savage in is pointing out perhaps",
    "start": "1388330",
    "end": "1395230"
  },
  {
    "text": "correctly that when you need to join data across tables that can be cumbersome and I think you know the one",
    "start": "1395230",
    "end": "1402940"
  },
  {
    "text": "thing that I keep telling customers is figure out a way of representing the data such that a single API call can",
    "start": "1402940",
    "end": "1409870"
  },
  {
    "text": "return the most usable information so so a single query a single fetch a single get whatever can return the most usable",
    "start": "1409870",
    "end": "1416470"
  },
  {
    "text": "information that you're gonna render to your downstream users that's like that's been my philosophy and occasionally you",
    "start": "1416470",
    "end": "1422049"
  },
  {
    "text": "have to make some some adjustments there just for the purposes of scaling but if you can if you can return the whole page",
    "start": "1422049",
    "end": "1428620"
  },
  {
    "text": "in one database query you know you're solid if you need to talk to a bunch of different databases to do it so long as",
    "start": "1428620",
    "end": "1434559"
  },
  {
    "text": "you can do those requests in parallel and so long as they're you know scaling it the way they need to scale maybe you",
    "start": "1434559",
    "end": "1439870"
  },
  {
    "text": "throw an elastic cache or something in front of them you're you're getting what you need and another point about joining",
    "start": "1439870",
    "end": "1446230"
  },
  {
    "text": "between different databases is with Neptune which is graph database you have this thing called RDF I don't know what",
    "start": "1446230",
    "end": "1452230"
  },
  {
    "text": "RDF stands for I assume it's like reference data Frank I just mean that it it is a",
    "start": "1452230",
    "end": "1458400"
  },
  {
    "text": "XML insanity that allows you to take and this is an open standard that all these",
    "start": "1458400",
    "end": "1463830"
  },
  {
    "text": "different data stores use that let you store and join objects across databases using a single common schema and Neptune",
    "start": "1463830",
    "end": "1471480"
  },
  {
    "text": "supports that by default but you can also store already have objects and document TV or in DynamoDB or whatever",
    "start": "1471480",
    "end": "1477510"
  },
  {
    "text": "and you end up merging these by making those queries and using those single global unique identifiers and those global unique schemas so I've seen that",
    "start": "1477510",
    "end": "1484200"
  },
  {
    "text": "actually Siemens corporate technology is a company that went and deployed that in praat so they they use DynamoDB they use",
    "start": "1484200",
    "end": "1490980"
  },
  {
    "text": "Neptune they use like kind of a twenty other databases",
    "start": "1490980",
    "end": "1496290"
  },
  {
    "text": "and they use these little rdf schemas and tags to join them all in neptune to",
    "start": "1496290",
    "end": "1501900"
  },
  {
    "text": "run random queries and they're okay with the eventual consistency of like hey you know i I don't need this data to be up",
    "start": "1501900",
    "end": "1507570"
  },
  {
    "text": "to the date to the second so long as it's up to the date you know every ten seconds and that is what they used to",
    "start": "1507570",
    "end": "1514800"
  },
  {
    "text": "drive a lot of their predictive maintenance and their recommendations and and so I really do see this in praat",
    "start": "1514800",
    "end": "1519840"
  },
  {
    "text": "like I see this with a bunch of different customers when I go out and talk to them yeah we also see a lot of patterns of like folks you know also",
    "start": "1519840",
    "end": "1526230"
  },
  {
    "text": "combining you know using I don't know say you know DynamoDB and RDS is",
    "start": "1526230",
    "end": "1531840"
  },
  {
    "text": "operational data stories and then streaming some of that data to elasticsearch to be able to do kind of richer full-text queries",
    "start": "1531840",
    "end": "1539270"
  },
  {
    "text": "where they use multi you know it's not their operational database but you use something forward to do analytics or you",
    "start": "1539270",
    "end": "1545280"
  },
  {
    "text": "know had hot query troubleshooting outside of their operational database or even in the redshift and in like some",
    "start": "1545280",
    "end": "1552150"
  },
  {
    "text": "things you need that referential integrity for or maybe you don't actually need the referential integrity but the system is working and it's",
    "start": "1552150",
    "end": "1558480"
  },
  {
    "text": "stealing and it has been for ten years so why are we changing it you know there's if there's no if there's no data",
    "start": "1558480",
    "end": "1564690"
  },
  {
    "text": "pressure on you if there's no pressure saying like hey I need to go to a different data store then keep it",
    "start": "1564690",
    "end": "1570810"
  },
  {
    "text": "another one that works this is yes this is a great point I love that you brought this point okay because sometimes not",
    "start": "1570810",
    "end": "1576930"
  },
  {
    "text": "all decisions in databases are 100% rational right yeah sometimes like you",
    "start": "1576930",
    "end": "1582540"
  },
  {
    "text": "know hey like you joined a start-up your founder use my sequel everybody that team knows my sequel you have a bunch of run books that use my sequel it works",
    "start": "1582540",
    "end": "1589710"
  },
  {
    "text": "for your application should you rewrite it to you know document to be or dynamo or something else well not less there's",
    "start": "1589710",
    "end": "1596429"
  },
  {
    "text": "like a big ROI to do it if you're just doing it for the fashion then save yourself the time and innovate on behalf",
    "start": "1596429",
    "end": "1601679"
  },
  {
    "text": "of your customers but if you dedicate your business yeah exactly but if you're there and it's working then then you",
    "start": "1601679",
    "end": "1608009"
  },
  {
    "text": "know keep on it but if you're doing things were like every time you add data that performs if your queries now grows",
    "start": "1608009",
    "end": "1613409"
  },
  {
    "text": "linearly you know and then you start to have business problems then you know definitely think about it but just we",
    "start": "1613409",
    "end": "1619229"
  },
  {
    "text": "architected for the sake of the architect I think it's a common project when you have interns that you didn't get enough like",
    "start": "1619229",
    "end": "1627809"
  },
  {
    "text": "scope to what their project was then they finish it in two weeks I'm totally not speaking from experience here and",
    "start": "1627809",
    "end": "1633570"
  },
  {
    "text": "they're like hey figure out what it would be if we move to dynamodb and then occasionally they're like hey this would save us 16 million dollars a year and I",
    "start": "1633570",
    "end": "1640440"
  },
  {
    "text": "go and do that let's talk about the story didn't all right let me fast forward a few a few",
    "start": "1640440",
    "end": "1645599"
  },
  {
    "text": "pages all right so we kind of talked about this a little bit before like hey how",
    "start": "1645599",
    "end": "1651059"
  },
  {
    "text": "what would you do if you're gonna be architects database for the cloud you know from the things that we've learned",
    "start": "1651059",
    "end": "1656159"
  },
  {
    "text": "on the things that we know what would we do differently and we'll talk about each one of these right so we decouple",
    "start": "1656159",
    "end": "1661379"
  },
  {
    "text": "storage and compute write monolithic s-- they're challenging in databases because",
    "start": "1661379",
    "end": "1667109"
  },
  {
    "text": "of recovery time and scaling right when you have to do all that syncing of data all over the place it's a function it's",
    "start": "1667109",
    "end": "1673409"
  },
  {
    "text": "physics right it takes time to replicate all that data also distributing data and smaller",
    "start": "1673409",
    "end": "1679019"
  },
  {
    "text": "partitions if you will right instead of having like large you know one terabyte shared disks because if that thing fails",
    "start": "1679019",
    "end": "1685979"
  },
  {
    "text": "you got to copy over a terabyte of disk if you can reduce those into smaller sizes that really helped it mean time to",
    "start": "1685979",
    "end": "1692429"
  },
  {
    "text": "recovery and then increasing the replication size for data availability and durability so let's talk about each",
    "start": "1692429",
    "end": "1697619"
  },
  {
    "text": "one of these so would that maybe be essentially what we've did and I'm very simplifying this quite a bit now is",
    "start": "1697619",
    "end": "1703799"
  },
  {
    "text": "we've separated basically they're the API parsing query processor and in caching functionality of a database",
    "start": "1703799",
    "end": "1710190"
  },
  {
    "text": "engine into the compute where oops right that's your compute layer this is",
    "start": "1710190",
    "end": "1716159"
  },
  {
    "text": "basically what an instance does and then we've we've offloaded a log of the logging and replication into the storage",
    "start": "1716159",
    "end": "1723359"
  },
  {
    "text": "layer right and with then document DB parlance this would be your storage volume right so it actually takes a lot",
    "start": "1723359",
    "end": "1730080"
  },
  {
    "text": "of the work that used to happen at the database or the compute layer and puts it down into the storage layer again",
    "start": "1730080",
    "end": "1735840"
  },
  {
    "text": "frees it up to do more work for you and this allows each one of these layers to scale independently and decoupled from",
    "start": "1735840",
    "end": "1741720"
  },
  {
    "text": "each other this is more advanced than like min mapped files",
    "start": "1741720",
    "end": "1747770"
  },
  {
    "text": "it's it is it's real work like this is this is real work and a lot of smart",
    "start": "1747770",
    "end": "1755010"
  },
  {
    "text": "people work done a lot of this technology for many many years to make this possible so the other part is",
    "start": "1755010",
    "end": "1763280"
  },
  {
    "text": "so the other part is to distribute data into smaller partitions and and why that helps",
    "start": "1763280",
    "end": "1769190"
  },
  {
    "text": "it helps to be able to do things like mean time to recovery and we'll get to we'll get to a slide that talks about",
    "start": "1769190",
    "end": "1775410"
  },
  {
    "text": "that and then we also do you know partition the data across six six",
    "start": "1775410",
    "end": "1781549"
  },
  {
    "text": "partition the data across the storage volume replicated six ways across three AZ's so six different copies six",
    "start": "1781549",
    "end": "1788130"
  },
  {
    "text": "different copies and we act it by defaults with document DB so it's durable by default we act it after you",
    "start": "1788130",
    "end": "1793860"
  },
  {
    "text": "get back when you write four times right so you've already driven the majority has exact so when you have quorum of many",
    "start": "1793860",
    "end": "1801330"
  },
  {
    "text": "nodes have agreed that it's been written to disk or I guess journal or whatever then it acts and so I've done writes to",
    "start": "1801330",
    "end": "1810179"
  },
  {
    "text": "document DV and it actually responds in perfectly you know some ten millisecond",
    "start": "1810179",
    "end": "1815280"
  },
  {
    "text": "time frames that's right how how but it happens for you when you're only",
    "start": "1815280",
    "end": "1821669"
  },
  {
    "text": "writing but when you're only doing writes right you are slowly doing writes normally writing the the Delta the changes and then you have this storage",
    "start": "1821669",
    "end": "1827490"
  },
  {
    "text": "layer that does a lot of the heavy lifting for you in addition to the compute layer right",
    "start": "1827490",
    "end": "1833539"
  },
  {
    "text": "[Music] yeah you also distribute across the distributed storage lead as well",
    "start": "1836560",
    "end": "1843020"
  },
  {
    "text": "but the thing to note is it's by default right it's durable by default you don't have to do anything within your connection strings to be able to say hey",
    "start": "1843020",
    "end": "1849840"
  },
  {
    "text": "I want a durable right right because the thing you know we have to change things out the defaults then you know if you",
    "start": "1849840",
    "end": "1855789"
  },
  {
    "text": "don't change the default then sometimes you can get in trouble yeah so the mom you thought if I remember correctly and",
    "start": "1855789",
    "end": "1861309"
  },
  {
    "text": "it's been a while it's like right concern of acknowledge the the right to",
    "start": "1861309",
    "end": "1867639"
  },
  {
    "text": "journal across whatever note you're talking to it's not but you the thing",
    "start": "1867639",
    "end": "1872739"
  },
  {
    "text": "with the moment be connection strings or the mommy-to-be drivers as you can say okay I have a read concern of majority",
    "start": "1872739",
    "end": "1878259"
  },
  {
    "text": "and I have a write concerned majority which says I only want to read things that are consistent across in number of",
    "start": "1878259",
    "end": "1883869"
  },
  {
    "text": "nodes or I only want to write things that are consistent across an in number of nodes and when you have geographically distributed nodes like",
    "start": "1883869",
    "end": "1890349"
  },
  {
    "text": "say one in US east one one in u.s. west - and you're trying to talk between",
    "start": "1890349",
    "end": "1895479"
  },
  {
    "text": "those the latency can go up quite a bit you know like you that you can have hundred",
    "start": "1895479",
    "end": "1901239"
  },
  {
    "text": "millisecond squared plus of replication lag depending on your setup some normal Els right but it becomes cumbersome to",
    "start": "1901239",
    "end": "1909219"
  },
  {
    "text": "scale all of these different nodes with each other and they also have to be at least as big as the one with your",
    "start": "1909219",
    "end": "1915789"
  },
  {
    "text": "biggest traffic that's great you can't have out sized nodes because then they can't keep up with replication lag but",
    "start": "1915789",
    "end": "1920919"
  },
  {
    "text": "the way that this works is within a single AZ it's saying by the time you get an act from us there",
    "start": "1920919",
    "end": "1928089"
  },
  {
    "text": "are four different copies of your data stored so that protects you against this like n plus one failure that's right so",
    "start": "1928089",
    "end": "1933759"
  },
  {
    "text": "let's talk about that because that's that's important let me fast forward so when you think about recovering from",
    "start": "1933759",
    "end": "1939879"
  },
  {
    "text": "failure let's just imagine a really bad day in AWS land and this is your database right",
    "start": "1939879",
    "end": "1945669"
  },
  {
    "text": "so the green just remember just represent one copy of your data the orange represent a second copy of just say you know like one particular",
    "start": "1945669",
    "end": "1951940"
  },
  {
    "text": "document right so you have two different documents that are replicated six ways to cross a3 AZ's okay but let's just say",
    "start": "1951940",
    "end": "1958509"
  },
  {
    "text": "a really bad day in AWS line happens we lose an entire AZ right well in this",
    "start": "1958509",
    "end": "1964629"
  },
  {
    "text": "architecture with would like me to be whether you have one compute instance or seven your data is still you still have",
    "start": "1964629",
    "end": "1970629"
  },
  {
    "text": "four copies right so you still have a right quorum which is great and you still have read quorum right for",
    "start": "1970629",
    "end": "1976149"
  },
  {
    "text": "anything that you know above majority so you still have a fully accessible database even though you've lost an",
    "start": "1976149",
    "end": "1981700"
  },
  {
    "text": "entire easy that's pretty good yeah but but we can do that we can do that any C do that any C - right so but the",
    "start": "1981700",
    "end": "1988509"
  },
  {
    "text": "challenge comes in and saying just because an easy you know an AZ went down",
    "start": "1988509",
    "end": "1993580"
  },
  {
    "text": "there's not a nonzero probability that you could lose a storage node on a different easy and a different you know",
    "start": "1993580",
    "end": "1999700"
  },
  {
    "text": "everything fails all the time exactly everything fails all the time Warner I think has made this very clear to all of us now but I hope you keep repeating it",
    "start": "1999700",
    "end": "2006710"
  },
  {
    "text": "so let's just say this scenario happened at the same time this is like single little EBS volume failure in the ec2",
    "start": "2006710",
    "end": "2013170"
  },
  {
    "text": "model that's right exactly single easy goes down in single EBS volume another AC so in a traditional database if you",
    "start": "2013170",
    "end": "2019920"
  },
  {
    "text": "didn't have this you'd basically have lost two copies of data right you've ever lost two you lost one easy which",
    "start": "2019920",
    "end": "2026340"
  },
  {
    "text": "was one of your nodes and then you would have lost the second node right so then you would be down to a single instance",
    "start": "2026340",
    "end": "2032150"
  },
  {
    "text": "which is bad that's usually when that happens that's when you have scenarios of data loss and you have full write",
    "start": "2032150",
    "end": "2038910"
  },
  {
    "text": "unavailability and that is when my pager duty i'ma say start going off for your",
    "start": "2038910",
    "end": "2044940"
  },
  {
    "text": "birthday I think I'm gonna get you a subscription at Paige it's just was just last week so absolutely",
    "start": "2044940",
    "end": "2050120"
  },
  {
    "text": "no I deleted page of duty from my phone in 2016 and it is never coming back I",
    "start": "2050120",
    "end": "2055500"
  },
  {
    "text": "think I'll start a campaign on Twitter but so what is really nice about this a",
    "start": "2055500",
    "end": "2060540"
  },
  {
    "text": "document DB is that if you look at you know if you look at six cops across daisies we lost two cuz they z-value we",
    "start": "2060540",
    "end": "2066870"
  },
  {
    "text": "lost one because of the random node failure so we have three replicas of our data we can still read from the database but we can't write right because we",
    "start": "2066870",
    "end": "2073200"
  },
  {
    "text": "don't have a core Horomia so what really matters now is how fast can you recover right it's not so much the failure did",
    "start": "2073200",
    "end": "2080158"
  },
  {
    "text": "happen now let's mean time to recovery well if you have 10 gigabyte chunks and you have a 10 gigabyte link that's",
    "start": "2080159",
    "end": "2086070"
  },
  {
    "text": "second so it takes seconds to transfer that data over and then you're back to a right poram if that's 4 terabytes I",
    "start": "2086070",
    "end": "2092870"
  },
  {
    "text": "might take a really long time right but I think we have faster than 10 gang",
    "start": "2092870",
    "end": "2098940"
  },
  {
    "text": "lengths so it's even faster than 10 seconds oh then it's really fast right so yeah yeah exactly so you look at the",
    "start": "2098940",
    "end": "2104610"
  },
  {
    "text": "backplane and depending on what it is it's it's much quicker the mean time to recovery is much much faster than the",
    "start": "2104610",
    "end": "2110700"
  },
  {
    "text": "data smaller so that's what it helps to be able to partition data into smaller pieces and then you're back to right core and when that AZ comes back online",
    "start": "2110700",
    "end": "2117240"
  },
  {
    "text": "you might not even have know from your database perspective that it was down that all we do we throw things in the",
    "start": "2117240",
    "end": "2122670"
  },
  {
    "text": "logs if anything like this ever happened okay I've never actually experienced oh do we",
    "start": "2122670",
    "end": "2128280"
  },
  {
    "text": "zero - do we throw it back I don't know we don't think we'd ever throw this you would know that an instance went offline",
    "start": "2128280",
    "end": "2134370"
  },
  {
    "text": "but we you've never you know storage storage it would just and this is one of the beauties of a fully managed service",
    "start": "2134370",
    "end": "2139860"
  },
  {
    "text": "unless it affected either you read or write availability you would never know the difference we would just handle that",
    "start": "2139860",
    "end": "2145110"
  },
  {
    "text": "behind the scenes all right we're gonna do a brief interruption here to take some questions from Janet all right so a reverend q who is my friend Nolan from",
    "start": "2145110",
    "end": "2151980"
  },
  {
    "text": "New York City the greatest city in the world says Happy Birthday and also what resources",
    "start": "2151980",
    "end": "2158730"
  },
  {
    "text": "do you have to help get newbies up and running with document to be I think this could be a good resource because maybe",
    "start": "2158730",
    "end": "2163800"
  },
  {
    "text": "we could just show like how to provision a cluster and everything yeah let's do that so I'll let you get that set up and",
    "start": "2163800",
    "end": "2169590"
  },
  {
    "text": "then we'll do another question while that's going so pitch x3 and heiress to the these both",
    "start": "2169590",
    "end": "2178020"
  },
  {
    "text": "sound like elvish names so me govannen and Lord of the Rings nerd anyway they",
    "start": "2178020",
    "end": "2184500"
  },
  {
    "text": "point out perhaps interestingly this model looks a lot like the model on",
    "start": "2184500",
    "end": "2190230"
  },
  {
    "text": "Aurora alright so let's do that one first and we'll go through here so when you look",
    "start": "2190230",
    "end": "2196980"
  },
  {
    "text": "at a lot of the challenges that customers had on you know my sequel and regular Postgres sequel moving to the",
    "start": "2196980",
    "end": "2203400"
  },
  {
    "text": "cloud I think there's a lot of similar feedback on kind of monolithic database architectures and kind of the pain",
    "start": "2203400",
    "end": "2209550"
  },
  {
    "text": "points that people struggle with trying to self manage that so you know when it when it makes sense we definitely real",
    "start": "2209550",
    "end": "2215250"
  },
  {
    "text": "average you know architectural designs and technologies to be able to bring you know that that particularly capabilities",
    "start": "2215250",
    "end": "2221100"
  },
  {
    "text": "to customers so and yeah I see I've received a lot of different kind of",
    "start": "2221100",
    "end": "2226170"
  },
  {
    "text": "models being built onto that and then finally we have a question from",
    "start": "2226170",
    "end": "2231230"
  },
  {
    "text": "defy 45 which is you know off the top of your head what percentage of the manga",
    "start": "2231230",
    "end": "2236400"
  },
  {
    "text": "TV API is covered at this point I know we have a page that outlines that yeah I mean I think there's kind of two points",
    "start": "2236400",
    "end": "2241710"
  },
  {
    "text": "there's like the absolute number and count and then there's what folks actually use and a vast vast majority of what folks actually use we cover and I",
    "start": "2241710",
    "end": "2249330"
  },
  {
    "text": "and I get this feedback you know every day from the field from customers you know across all the folks that we deal",
    "start": "2249330",
    "end": "2255309"
  },
  {
    "text": "with and it's a vast vast majority and we're working right now to close the difference on the ones that people care",
    "start": "2255309",
    "end": "2261729"
  },
  {
    "text": "about all right I'm gonna piss the little limits page for you that's why and now maybe we can hop over to your",
    "start": "2261729",
    "end": "2267700"
  },
  {
    "text": "screen and we don't see provisioning a cluster so a reverence you can learn how to get started that's right and we also",
    "start": "2267700",
    "end": "2273969"
  },
  {
    "text": "have this in the documentation I also filmed like a little two-minute video of me going through this for you know folks",
    "start": "2273969",
    "end": "2279509"
  },
  {
    "text": "x1 another resource offline so within the AWS console we can go into document",
    "start": "2279509",
    "end": "2285009"
  },
  {
    "text": "DB and we find it there and very similar to other you know councils that we've dealt with in AWS I",
    "start": "2285009",
    "end": "2292089"
  },
  {
    "text": "have a couple of clusters that have already been created and I'm gonna create a cluster and just kind of in the",
    "start": "2292089",
    "end": "2298089"
  },
  {
    "text": "nouns and verbs of what within document d-beam cluster is essentially a namespace in a storage volume and then",
    "start": "2298089",
    "end": "2304779"
  },
  {
    "text": "within the cluster you're gonna also create instances right and that's really that separation of storage computer you",
    "start": "2304779",
    "end": "2309880"
  },
  {
    "text": "can't have a point point yeah so you can have a cluster that has zero instances or you can have a cluster there is 15",
    "start": "2309880",
    "end": "2315339"
  },
  {
    "text": "instances so this is so we'll go ahead and create one we'll kind of talk about some of the choices here so we now have",
    "start": "2315339",
    "end": "2322930"
  },
  {
    "text": "our five larges everywhere there are five instances everywhere which is great because there may be up to a hundred",
    "start": "2322930",
    "end": "2329440"
  },
  {
    "text": "percent better performance yeah I know borås same cost not a price reduction but we did a I mean technically that is",
    "start": "2329440",
    "end": "2337239"
  },
  {
    "text": "a price is getting way better no I we did a quick analysis a couple weeks ago",
    "start": "2337239",
    "end": "2342489"
  },
  {
    "text": "of the difference between r4 and r5 and it was it was like a hundred double improvement essentially that surprised",
    "start": "2342489",
    "end": "2349089"
  },
  {
    "text": "me because the processor are not that different it's just like I guess we added faster RAM or something I don't",
    "start": "2349089",
    "end": "2355210"
  },
  {
    "text": "know companies the other it's magic with so when you provision the cluster that you can predict the number of instances",
    "start": "2355210",
    "end": "2361900"
  },
  {
    "text": "you want if you don't have any instances you're not going to be able to query so at least we're gonna kind of make you have one instance and then you can",
    "start": "2361900",
    "end": "2369279"
  },
  {
    "text": "create a username write in a password and then we have some Advanced Settings",
    "start": "2369279",
    "end": "2377369"
  },
  {
    "text": "what's the password alright alright",
    "start": "2377369",
    "end": "2382900"
  },
  {
    "text": "so here's a couple of things I think about when you're creating a new cluster is there's this constants of VP C's and",
    "start": "2382900",
    "end": "2390230"
  },
  {
    "text": "security groups right and this is where we see a lot of questions around so it's good to clear it up because you know",
    "start": "2390230",
    "end": "2395450"
  },
  {
    "text": "security always gets in the way with usability but default won't provision a cluster within your own VPC your default",
    "start": "2395450",
    "end": "2402140"
  },
  {
    "text": "VP see you were welcome to change that right you can change it to a different VP see but when you go to connect to",
    "start": "2402140",
    "end": "2408020"
  },
  {
    "text": "your cluster you want to make sure that your client is in the same VPC right so you can do VPC peering or you can do SSH",
    "start": "2408020",
    "end": "2415099"
  },
  {
    "text": "tunneling but that that's a little bit more work right you can't do it but usually you want to put your your",
    "start": "2415099",
    "end": "2420950"
  },
  {
    "text": "instance especially for doing dev tests and getting started in the same VPC as the cluster that you're deploying SSH",
    "start": "2420950",
    "end": "2426380"
  },
  {
    "text": "tunnel isn't that much work it's like SSH - shell and then pour it in it we do have we do have that in our",
    "start": "2426380",
    "end": "2431869"
  },
  {
    "text": "documentation as a guide can you connect through anything like the system like can you connect through",
    "start": "2431869",
    "end": "2438829"
  },
  {
    "text": "the console at all there is a really cool service called Amazon Cloud 9 yeah",
    "start": "2438829",
    "end": "2444170"
  },
  {
    "text": "oh right that's right which provides in you know we see a lot in areas where",
    "start": "2444170",
    "end": "2449589"
  },
  {
    "text": "people say hey my company won't allow me to open a connection on port XYZ I need",
    "start": "2449589",
    "end": "2455410"
  },
  {
    "text": "console based experience so with the console or cloud 9 allows you do is get basically shell access in the console",
    "start": "2455410",
    "end": "2461690"
  },
  {
    "text": "and then you can install shell and then from the AWS accounts we'll be able to manage your query or poke around on",
    "start": "2461690",
    "end": "2468470"
  },
  {
    "text": "your database which is super useful and demos really well next time I come on the show I will demo that you shouldn't",
    "start": "2468470",
    "end": "2474740"
  },
  {
    "text": "remember that because I just wrote a tutorial so yeah it's really nice for an",
    "start": "2474740",
    "end": "2480920"
  },
  {
    "text": "in-browser query experience and there's really no better way to query then with the shell right it's really nice",
    "start": "2480920",
    "end": "2487010"
  },
  {
    "text": "alright so security groups is also important right what is a security group it's a firewall right it's basically",
    "start": "2487010",
    "end": "2492289"
  },
  {
    "text": "saying like hey for this cluster we create a firewall around it and then you can control what the inbound traffic is",
    "start": "2492289",
    "end": "2498079"
  },
  {
    "text": "and also what is the outbound traffic and security groups can be self referencing so you can add nodes that",
    "start": "2498079",
    "end": "2504230"
  },
  {
    "text": "are allowed to talk to each other by just adding yourself into that security group so that's what you do commonly and a lot of these UPC's is you'll say ok",
    "start": "2504230",
    "end": "2510740"
  },
  {
    "text": "any any node any instance it has this same security group on it is one that I'm not gonna allow to talk to the database that's right and this is",
    "start": "2510740",
    "end": "2517210"
  },
  {
    "text": "important because by default so we see that the the default port for document",
    "start": "2517210",
    "end": "2522550"
  },
  {
    "text": "DB is 2700 one seven if your security group doesn't allow inbound from you",
    "start": "2522550",
    "end": "2528160"
  },
  {
    "text": "know either say the same security group the same TV PC or on this particular port the firewall or group will block",
    "start": "2528160",
    "end": "2535660"
  },
  {
    "text": "access to that right that's an important point so depending on how you set up your security groups if you have a",
    "start": "2535660",
    "end": "2541660"
  },
  {
    "text": "timeout in your connection usually it's because you go allow in board on 2701 one twenty seven zero one seven all",
    "start": "2541660",
    "end": "2549430"
  },
  {
    "text": "right so few things encryption at rest and encryption in transit are enabled by default all right we might want to hold",
    "start": "2549430",
    "end": "2557590"
  },
  {
    "text": "off for just a second here I think we're having a technical issue waiting on our amazing amazing producer",
    "start": "2557590",
    "end": "2565870"
  },
  {
    "text": "in the back there to confirm if we are still streaming",
    "start": "2565870",
    "end": "2571560"
  },
  {
    "text": "so in the meantime before we convey any more of this delightfully interesting",
    "start": "2573810",
    "end": "2578980"
  },
  {
    "text": "content uh tell us what your favorite pet is if I",
    "start": "2578980",
    "end": "2585520"
  },
  {
    "text": "had a pet my favorite one I think it would be a monkey a monkey I think I'm a",
    "start": "2585520",
    "end": "2591850"
  },
  {
    "text": "chaos monkey not a chaos monkey I think alright okay so I think we're back okay I think",
    "start": "2591850",
    "end": "2598870"
  },
  {
    "text": "it's working again so we can continue sorry about that everybody not sure what when it happened don't worry so just going through the advanced site",
    "start": "2598870",
    "end": "2604540"
  },
  {
    "text": "encryption at rest encryption and transit or enabled by default you can turn those off but you have to do it not",
    "start": "2604540",
    "end": "2609730"
  },
  {
    "text": "us backup is enabled by default right so you're gonna get up days worth of point",
    "start": "2609730",
    "end": "2615340"
  },
  {
    "text": "in time restore backups essentially for free because we're gonna give you up to the size of your database so you were",
    "start": "2615340",
    "end": "2620440"
  },
  {
    "text": "300 gigabyte database for free for storage a month so what this is really is you can't even turn back off off",
    "start": "2620440",
    "end": "2626130"
  },
  {
    "text": "undocumented me you get one day we make you have one day at thumb because it's the right thing to do how far can you",
    "start": "2626130",
    "end": "2631900"
  },
  {
    "text": "extend it out to you again 35 days 35 days so you get 35 days a point in time restore capability nice",
    "start": "2631900",
    "end": "2638340"
  },
  {
    "text": "logs maintenance all the fun stuff and then we and then we create now I've",
    "start": "2638340",
    "end": "2643540"
  },
  {
    "text": "already cooked this turkey time so to speak so let's go ahead and look at a cluster we've already created",
    "start": "2643540",
    "end": "2650619"
  },
  {
    "text": "now this cluster has two instances right so they have these two instances",
    "start": "2650619",
    "end": "2657040"
  },
  {
    "text": "as a writer and a reader right I can delete them I can add more we're all good to go one of the things we do",
    "start": "2657040",
    "end": "2663190"
  },
  {
    "text": "within the console is we make it easy to connect right so we can take the shell connection string right and we can",
    "start": "2663190",
    "end": "2670300"
  },
  {
    "text": "go over to an ec2 instance ec2 instances in the same VDC do you have my security",
    "start": "2670300",
    "end": "2676630"
  },
  {
    "text": "groups are ready to go you have to do anything with like SSL or TLS or anything like that so we have two different we have two different options",
    "start": "2676630",
    "end": "2682900"
  },
  {
    "text": "right this is with TLS enabled or disabled wise choice right we can have it enabled or disabled we have",
    "start": "2682900",
    "end": "2690430"
  },
  {
    "text": "instructions on how to do that it's enabled by default and we also have examples on how to approach you know",
    "start": "2690430",
    "end": "2696010"
  },
  {
    "text": "connect programmatically from different languages c-sharp PHP using both TLS 90",
    "start": "2696010",
    "end": "2701349"
  },
  {
    "text": "LS why you keep throwing out these like terrible languages you said Ruby it you said Java Script you said PHP hey hey C",
    "start": "2701349",
    "end": "2709780"
  },
  {
    "text": "sharp there's only one language that we want to use here it's Python no no no we",
    "start": "2709780",
    "end": "2716020"
  },
  {
    "text": "won't do nothing implied touch me pretty soon we will yeah we I'm in PHP",
    "start": "2716020",
    "end": "2722609"
  },
  {
    "text": "400 let's move on to fighting words I will not",
    "start": "2722609",
    "end": "2727650"
  },
  {
    "text": "Python but I will purposely omit it for your purpose all right right so then we can connect",
    "start": "2727650",
    "end": "2733109"
  },
  {
    "text": "right and we can use the password hunter too",
    "start": "2733109",
    "end": "2738329"
  },
  {
    "text": "but we can get access to our database all right we can do a DB food insert",
    "start": "2738690",
    "end": "2746460"
  },
  {
    "text": "oops hello with a w",
    "start": "2747900",
    "end": "2753590"
  },
  {
    "text": "but wait we can insert the highway we can do we do that fine awesome OOP fat fingered",
    "start": "2753590",
    "end": "2762210"
  },
  {
    "text": "a right and so we can read and write to get areas all day so it looks just you know just looks like normal",
    "start": "2762210",
    "end": "2769640"
  },
  {
    "text": "so that's really quickly and how do you get started with document DB again we have a tutorial we have a video that I",
    "start": "2769640",
    "end": "2776040"
  },
  {
    "text": "shot we also have some troubleshooting steps in case you know your your clients in a different",
    "start": "2776040",
    "end": "2781100"
  },
  {
    "text": "you know V PC or you have a security group that's enabled",
    "start": "2781100",
    "end": "2786290"
  },
  {
    "text": "so I mean getting started is essentially provisioning sense connect to the",
    "start": "2786290",
    "end": "2791520"
  },
  {
    "text": "incident that's right I drove to the races okay let's pretty good just to give a reverent cue one more question",
    "start": "2791520",
    "end": "2798600"
  },
  {
    "text": "here what what other resources what's a good place to point someone at if they",
    "start": "2798600",
    "end": "2804480"
  },
  {
    "text": "want to get started a tutorial they can follow or something like that just the docs yeah the docs have the dots we",
    "start": "2804480",
    "end": "2809550"
  },
  {
    "text": "spend a lot of time on the docks you know is it's kind of a it's a large you",
    "start": "2809550",
    "end": "2814560"
  },
  {
    "text": "know it's a large source of information but we spend a lot of time also the docs have the ability to give feedback so something's not clear is something we",
    "start": "2814560",
    "end": "2820170"
  },
  {
    "text": "can improve in definitely give us feedback in the docs every time that happens I get a ticket that goes right to my inbox so if you want to say hi or",
    "start": "2820170",
    "end": "2827010"
  },
  {
    "text": "you want to get feedback that's a good way to do it all right so I'm just gonna check to see if we have any other",
    "start": "2827010",
    "end": "2832050"
  },
  {
    "text": "questions coming in from the stream nothing that's relevant to document DB you",
    "start": "2832050",
    "end": "2837800"
  },
  {
    "text": "all of you in twitch chat we've got about five minutes left I more than welcome all of your questions I'm gonna",
    "start": "2837800",
    "end": "2844290"
  },
  {
    "text": "throw a couple questions over here let's do it so let's say I want to run an",
    "start": "2844290",
    "end": "2851880"
  },
  {
    "text": "aggregation pipeline there is the storage layer and the storage layer is",
    "start": "2851880",
    "end": "2857760"
  },
  {
    "text": "separate from the compute layer so one of the things that we do navigations as we often will be joining disparate",
    "start": "2857760",
    "end": "2862800"
  },
  {
    "text": "collections or will be combining or searching disparate collections for some",
    "start": "2862800",
    "end": "2867870"
  },
  {
    "text": "value in one to some value in another which is really just another way of saying join but can we paralyze those",
    "start": "2867870",
    "end": "2875310"
  },
  {
    "text": "things out to the storage layer does it is it does it know that it can do that or is that is that an optimization that",
    "start": "2875310",
    "end": "2880940"
  },
  {
    "text": "isn't quite made so these are you know you know can you not tell yeah no I mean",
    "start": "2880940",
    "end": "2887550"
  },
  {
    "text": "in general so the way that like need to be works right now is we use you know we use obviously the memory within the",
    "start": "2887550",
    "end": "2893099"
  },
  {
    "text": "instance to be able to do you know pages and we also use local discs as well to be able to do sorting and different",
    "start": "2893099",
    "end": "2899550"
  },
  {
    "text": "things related to that working set but you guess you know what you're generally asking about is hey can we and this is",
    "start": "2899550",
    "end": "2905730"
  },
  {
    "text": "just a good general principle and databases anyways is can we push more of that functionality down into the database so we can put it closer to",
    "start": "2905730",
    "end": "2911910"
  },
  {
    "text": "where the data lives closer to where our agents this kind of reminds me if I do both yeah can you bring the compute",
    "start": "2911910",
    "end": "2919440"
  },
  {
    "text": "closer to the stories and we run our MapReduce jobs just entirely in one",
    "start": "2919440",
    "end": "2924630"
  },
  {
    "text": "database and those are always things that we're looking at it and adding and providing",
    "start": "2924630",
    "end": "2931140"
  },
  {
    "text": "you know a better experience faster performance is can be can we push that stuff further and further down into the",
    "start": "2931140",
    "end": "2936869"
  },
  {
    "text": "database and make it more efficient use the resources better so those are things that will absolutely be looking at it",
    "start": "2936869",
    "end": "2943290"
  },
  {
    "text": "and I think another kind of cool component is to figure out how you can do the different locking component",
    "start": "2943290",
    "end": "2949950"
  },
  {
    "text": "because I remember way back in the day of dealing with writing some of these storage engine components we had to",
    "start": "2949950",
    "end": "2956520"
  },
  {
    "text": "really think through the giant matrix of complicated locks that you would have to",
    "start": "2956520",
    "end": "2961980"
  },
  {
    "text": "acquire and unyk where I never want to do that again that's really I was reading a blog last",
    "start": "2961980",
    "end": "2969390"
  },
  {
    "text": "night on isolation and consistency levels and you know yeah it's definitely",
    "start": "2969390",
    "end": "2974490"
  },
  {
    "text": "complicated you know when you get into in the nitty-gritty and that's why safety felts are very important within databases",
    "start": "2974490",
    "end": "2981270"
  },
  {
    "text": "because a lot of people won't spend the time or don't think to spend the time to change a lot of the the defaults with",
    "start": "2981270",
    "end": "2987510"
  },
  {
    "text": "either with isolation or concurrency or or durability to get past what what the",
    "start": "2987510",
    "end": "2993119"
  },
  {
    "text": "default option is and then you only really learn about those things after something bad goes well since we're",
    "start": "2993119",
    "end": "2999330"
  },
  {
    "text": "public and and since this is gonna go out to the Internet and everyone's gonna see it I'm gonna add in one more time my",
    "start": "2999330",
    "end": "3005000"
  },
  {
    "text": "feature request for geo I'm sorry I'm sorry what you don't know is after the stream Joe is going to punch me in the",
    "start": "3005000",
    "end": "3010250"
  },
  {
    "text": "face I've been getting this feedback from Randall for a long time but I always noted definitely it's",
    "start": "3010250",
    "end": "3018350"
  },
  {
    "text": "something that we do get a lot of feedback from your customers rocker boo from the twitch stream says I second Geo",
    "start": "3018350",
    "end": "3023870"
  },
  {
    "text": "so you know motion is accepting motion accepted and stone",
    "start": "3023870",
    "end": "3029200"
  },
  {
    "text": "so I think we're gonna close out here cool and what I'll do is I'm gonna I'm gonna just give you the next schedule",
    "start": "3029200",
    "end": "3035240"
  },
  {
    "text": "for a couple weeks so next week we will be presenting live from Reimers which is",
    "start": "3035240",
    "end": "3043090"
  },
  {
    "text": "the giant conference that we're throwing in Vegas where there a bunch of actors and Jeff Bezos and all these other",
    "start": "3043090",
    "end": "3049760"
  },
  {
    "text": "people talking about robots and Mars and space exploration all this other stuff and we are gonna throw the database's",
    "start": "3049760",
    "end": "3055190"
  },
  {
    "text": "show from there so we also have in about one minute another show happening based",
    "start": "3055190",
    "end": "3063260"
  },
  {
    "text": "on the amazing painter bob ross is that his name yeah happy little trees so this",
    "start": "3063260",
    "end": "3069470"
  },
  {
    "text": "is gonna be happy little api's so you're gonna have this amazing little demo of",
    "start": "3069470",
    "end": "3074600"
  },
  {
    "text": "happy little API is coming up later and we're gonna kick it over to them and thank you so much for joining us yet",
    "start": "3074600",
    "end": "3080330"
  },
  {
    "text": "again we're gonna be back next week streamers thanks Joe appreciate it thanks I'll see you next time thank you",
    "start": "3080330",
    "end": "3086859"
  },
  {
    "text": "[Music]",
    "start": "3087760",
    "end": "3090709"
  }
]