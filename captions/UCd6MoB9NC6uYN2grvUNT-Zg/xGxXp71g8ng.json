[
  {
    "text": "hi everyone welcome um today we're going to present",
    "start": "1199",
    "end": "6720"
  },
  {
    "text": "a concept that you call the extreme availability or simply xa",
    "start": "6720",
    "end": "12559"
  },
  {
    "text": "we're going to see a lot of services we're going to see a lot of architectures based on",
    "start": "12559",
    "end": "17840"
  },
  {
    "text": "mainly on ec2 elb alaska beanstalk rds dynamodb",
    "start": "17840",
    "end": "24240"
  },
  {
    "text": "and route53 it's a lot of services so we won't have time to dive deep on all of them but",
    "start": "24240",
    "end": "30560"
  },
  {
    "text": "we'll provide some architectural guidance for you to starting achieving xa using these services",
    "start": "30560",
    "end": "37200"
  },
  {
    "text": "and by the way i am eduardo harai i managed aws solutions architecture team in latin america i'm",
    "start": "37200",
    "end": "43680"
  },
  {
    "text": "based out of sao paulo and my name is raul frias i'm a solutions architect architect also for",
    "start": "43680",
    "end": "49200"
  },
  {
    "text": "aws i'm based in mexico city so my name is andrea fartala i'm a cdo",
    "start": "49200",
    "end": "54640"
  },
  {
    "text": "chief digital officer of magazine louisa and i'm here to tell you guys how we migrate the our e-commerce platform to",
    "start": "54640",
    "end": "62000"
  },
  {
    "text": "the aws using the best practice of xa",
    "start": "62000",
    "end": "67360"
  },
  {
    "text": "and let's quickly walk through the agenda for today first i'm going to introduce the concept of extreme availability",
    "start": "67360",
    "end": "74240"
  },
  {
    "text": "and why you should consider it then i'm going to present some basic tenants for you to start achieving next",
    "start": "74240",
    "end": "79759"
  },
  {
    "text": "day then we're going to dive deep a little bit more in each of your most common application layers and how you can",
    "start": "79759",
    "end": "86320"
  },
  {
    "text": "achieve xa on them and finally we're going to close up with some final thoughts",
    "start": "86320",
    "end": "92560"
  },
  {
    "text": "and you know we we all know what our class are we all care about our application slas our infrastructure slas",
    "start": "93200",
    "end": "100479"
  },
  {
    "text": "they are all very important but if you have a failure you have a problem",
    "start": "100479",
    "end": "105600"
  },
  {
    "text": "and suddenly your website is down the slash they won't do a thing for you and suddenly",
    "start": "105600",
    "end": "111680"
  },
  {
    "text": "a lot of bad things can happen you see people tweeting about your your company saying bad things",
    "start": "111680",
    "end": "117840"
  },
  {
    "text": "your company might lose a lot of a lot of money financial problems",
    "start": "117840",
    "end": "123040"
  },
  {
    "text": "or your customer your branding can start being affected",
    "start": "123040",
    "end": "128600"
  },
  {
    "text": "and like our cto verner vogels always says everything fails all the time and that's really true",
    "start": "129119",
    "end": "136720"
  },
  {
    "text": "if you think about it your application is in danger of suffering a failure or a catastrophic thing all the time",
    "start": "136720",
    "end": "144959"
  },
  {
    "text": "and what happened is suddenly you are your users by the way who has never seen those air horse before you know",
    "start": "145440",
    "end": "151840"
  },
  {
    "text": "everybody has seen those we'll be back soon sorry the website's unavailable or simply uh oops you know",
    "start": "151840",
    "end": "158560"
  },
  {
    "text": "you see all these 500 errors codes which are terrible i've seen a lot of this",
    "start": "158560",
    "end": "163599"
  },
  {
    "text": "really so what happened so actually i have some examples",
    "start": "163599",
    "end": "168640"
  },
  {
    "text": "that are pretty cloudy area in magazine louise but before that i just wanted to",
    "start": "168640",
    "end": "174319"
  },
  {
    "text": "talk a little bit about magazine louise so first magazine is not a paper it's",
    "start": "174319",
    "end": "179519"
  },
  {
    "text": "just a old and fashion way that we call stars in portuguese",
    "start": "179519",
    "end": "184560"
  },
  {
    "text": "and magazine louise is one of the top retail chains in brazil and we operate more than 700 brick and",
    "start": "184560",
    "end": "191440"
  },
  {
    "text": "mortar stores in 16 estates and we have eight distribution centers",
    "start": "191440",
    "end": "198560"
  },
  {
    "text": "and a strong mutant strategy that while you have a commerce operation too",
    "start": "198560",
    "end": "204799"
  },
  {
    "text": "so i don't know if you guys are familiar about brazil brazil is a really big",
    "start": "204799",
    "end": "211920"
  },
  {
    "text": "country we have more the 200 million people living there and brazilians loves",
    "start": "211920",
    "end": "217840"
  },
  {
    "text": "to shop shop and that's why we just cop the black friday for us and the first edition",
    "start": "217840",
    "end": "225920"
  },
  {
    "text": "happened in 2012 in brazil and so i have to tell you guys we didn't",
    "start": "225920",
    "end": "231519"
  },
  {
    "text": "do a great job here's we have a user complain about",
    "start": "231519",
    "end": "238560"
  },
  {
    "text": "our sales in the social media and uh a lot of e-commerce",
    "start": "238560",
    "end": "243920"
  },
  {
    "text": "actually went down in the first hours of black friday in 2012.",
    "start": "243920",
    "end": "249200"
  },
  {
    "text": "another good example is a campaign called liquidation fantastic it's a",
    "start": "251120",
    "end": "256959"
  },
  {
    "text": "a huge clearance sales that happens in the beginning of the year in brazil and magazine is a really traditional about",
    "start": "256959",
    "end": "264160"
  },
  {
    "text": "this the the sales start like 20 years ago and 10 years ago we started",
    "start": "264160",
    "end": "270400"
  },
  {
    "text": "uh running this this campaign in the internet too so i think that i can just",
    "start": "270400",
    "end": "278400"
  },
  {
    "text": "just give some pictures about what happens in this campaign in brazil yeah i think if you imagine here in the u.s",
    "start": "278400",
    "end": "284479"
  },
  {
    "text": "when you have a let's say a large consumer education company that starts selling new products like mobile phones",
    "start": "284479",
    "end": "290800"
  },
  {
    "text": "and so on and you see those huge kills i think that's that's huge kills they happen in magazine luisa but probably",
    "start": "290800",
    "end": "297040"
  },
  {
    "text": "about 10 times worse and then everybody doesn't really kill they just stuck in front of the door and whenever the doors",
    "start": "297040",
    "end": "303120"
  },
  {
    "text": "open everybody just run crash the door and grab everything they can because literally whatever you grab you",
    "start": "303120",
    "end": "309280"
  },
  {
    "text": "can you go there and pay with 70 percent of the discounts so it's it's really huge and uh in respect of those guys",
    "start": "309280",
    "end": "315919"
  },
  {
    "text": "that just sleep in the front of the stores we just closed the website the website",
    "start": "315919",
    "end": "321039"
  },
  {
    "text": "one day before and we open after some hours that this clearance clears",
    "start": "321039",
    "end": "327199"
  },
  {
    "text": "sales uh it starts in the the fiscal stores and uh in 2012 i have the same as april",
    "start": "327199",
    "end": "333840"
  },
  {
    "text": "i think you guys can guess what happened here you have another reason complain",
    "start": "333840",
    "end": "339759"
  },
  {
    "text": "the social media that we have uh good products good price but the website went",
    "start": "339759",
    "end": "345600"
  },
  {
    "text": "down again so and uh it's not a really",
    "start": "345600",
    "end": "351520"
  },
  {
    "text": "huge negative impact for our branding but also for our revenue because",
    "start": "351520",
    "end": "357919"
  },
  {
    "text": "nowadays in in sales like this we reach a peak of 120 orders per minute so you can imagine",
    "start": "357919",
    "end": "365840"
  },
  {
    "text": "if you stay like an hour off on this kind of campaign",
    "start": "365840",
    "end": "373440"
  },
  {
    "text": "and to help you to protect from all these problems i want to present you the concept of",
    "start": "374880",
    "end": "380160"
  },
  {
    "text": "extreme availability and this will take your application to the next level of availability going",
    "start": "380160",
    "end": "386479"
  },
  {
    "text": "beyond the traditional high-value high availability concept that we are all used to it",
    "start": "386479",
    "end": "392240"
  },
  {
    "text": "and when we think about xa you should you should think about xa everywhere in every service every application layer",
    "start": "392240",
    "end": "399440"
  },
  {
    "text": "every strategy literally everything um even services that you don't own it",
    "start": "399440",
    "end": "405120"
  },
  {
    "text": "because it doesn't matter how much time and effort you put into your application if you",
    "start": "405120",
    "end": "410319"
  },
  {
    "text": "leave one single component and that fails your whole website will go down",
    "start": "410319",
    "end": "415360"
  },
  {
    "text": "and your whole reputation everything will just fail no matter how much hard you work you have done i think i think",
    "start": "415360",
    "end": "421360"
  },
  {
    "text": "andrea knows a little bit more about this right yeah so here again as a bad",
    "start": "421360",
    "end": "426639"
  },
  {
    "text": "example guy i promise it's the last one and uh here we have an example of how a small",
    "start": "426639",
    "end": "433759"
  },
  {
    "text": "failure can impact the entire application uh the in the past we just launched a",
    "start": "433759",
    "end": "439440"
  },
  {
    "text": "version of our e-commerce application with a bug not our wheel",
    "start": "439440",
    "end": "444479"
  },
  {
    "text": "and after some time our application just started getting crazy and as you guys",
    "start": "444479",
    "end": "449680"
  },
  {
    "text": "can see in this graph it's look like almost five hours to analyze and identify and send a bug fix to our",
    "start": "449680",
    "end": "457599"
  },
  {
    "text": "application and it's a what happens is a really tiny thing on",
    "start": "457599",
    "end": "462800"
  },
  {
    "text": "our cache layer and this impact is really really bad for us i heard you",
    "start": "462800",
    "end": "468720"
  },
  {
    "text": "were local you were caching locally is that true yeah i don't know why some genius guys decide to develop a local",
    "start": "468720",
    "end": "476319"
  },
  {
    "text": "cache layer in java in java yeah just to be clear",
    "start": "476319",
    "end": "482560"
  },
  {
    "text": "and after all those bad stories i'm sure we'll stop with them or maybe not i don't know",
    "start": "482720",
    "end": "488639"
  },
  {
    "text": "i'm going to present some basic tenants for you to start achieving extreme availability and the first one",
    "start": "488639",
    "end": "495039"
  },
  {
    "text": "aws has a global infrastructure 11 regions around the world",
    "start": "495039",
    "end": "500639"
  },
  {
    "text": "and you should leverage them you should start using them they are there for you right so think about serving part of your",
    "start": "500639",
    "end": "507280"
  },
  {
    "text": "application or part of your traffic to a different region instead of having everything in just one in one",
    "start": "507280",
    "end": "513680"
  },
  {
    "text": "single location so leverage our global presence and we just launched frankfurt region",
    "start": "513680",
    "end": "520240"
  },
  {
    "text": "two weeks ago isn't there in the map yet but it's total of 11 regions",
    "start": "520240",
    "end": "526240"
  },
  {
    "text": "second please consider extreme availability in the beginning not in the end",
    "start": "526240",
    "end": "531279"
  },
  {
    "text": "right in the beginning you have time you'll be thinking the best way to architect to design your application you",
    "start": "531279",
    "end": "536560"
  },
  {
    "text": "have more time more flexibility and that's when you can best think the best way to achieve x a",
    "start": "536560",
    "end": "543360"
  },
  {
    "text": "and third xa is not only about technical it impacts everything impacts how your developers do their stuff impacts your",
    "start": "543360",
    "end": "550640"
  },
  {
    "text": "people impacts how your testing impacts how you are collecting your requirements so",
    "start": "550640",
    "end": "555839"
  },
  {
    "text": "think about xa literally everywhere and this is very very important you know",
    "start": "555839",
    "end": "562720"
  },
  {
    "text": "be prepared for failures failures will come for sure like you say",
    "start": "562720",
    "end": "567839"
  },
  {
    "text": "in brazil failures are just like tax and death you are sure that they will come",
    "start": "567839",
    "end": "572880"
  },
  {
    "text": "so you need you need to prepare you need to be prepared for them not for the death but maybe for the failures",
    "start": "572880",
    "end": "579360"
  },
  {
    "text": "so think about the most common failures that happen application failure infrastructure player player your",
    "start": "579360",
    "end": "585600"
  },
  {
    "text": "website your web server going down or your database failing those are very common ones that you should be prepared",
    "start": "585600",
    "end": "591519"
  },
  {
    "text": "for them and there are there are also ones that are very very hard to diagnose who has",
    "start": "591519",
    "end": "596800"
  },
  {
    "text": "never had a suddenly a high latency in the network and took hours to find out what was the reason",
    "start": "596800",
    "end": "602160"
  },
  {
    "text": "so think about also these strange ones like network problems or even the very rare and unexpected",
    "start": "602160",
    "end": "609120"
  },
  {
    "text": "ones like cascade capacity failure which happens when your primary service fails your secondary gets the full load but",
    "start": "609120",
    "end": "616320"
  },
  {
    "text": "doesn't have the capacity to attain all the requests so end ups failing as well so think about every type of failure",
    "start": "616320",
    "end": "623279"
  },
  {
    "text": "that can happen and how you can protect from them and as part of that you should think",
    "start": "623279",
    "end": "629440"
  },
  {
    "text": "about graceful failure of each service and what that really means that for example if your primary service fails a",
    "start": "629440",
    "end": "636240"
  },
  {
    "text": "very complex service fails you should think about having maybe a simpler version of that service that maybe",
    "start": "636240",
    "end": "642399"
  },
  {
    "text": "provides static information or a more simple simpler algorithm so you don't",
    "start": "642399",
    "end": "647680"
  },
  {
    "text": "need to provide 100 accurate information to the user but you need to provide something so the user doesn't see all",
    "start": "647680",
    "end": "653600"
  },
  {
    "text": "those ugly error messages and to help you on that as well you",
    "start": "653600",
    "end": "659120"
  },
  {
    "text": "should think about micro service or anti-architecture and what that means is that we are evolving the concept of",
    "start": "659120",
    "end": "665519"
  },
  {
    "text": "service oriented architecture we are taking each service and break down into smaller independent units that are",
    "start": "665519",
    "end": "672399"
  },
  {
    "text": "self-contained and if they fail it's just a small portion that failed and all the other services can maybe call",
    "start": "672399",
    "end": "679360"
  },
  {
    "text": "a second tier service instead of calling the services which fail so that will help you to achieve extreme availability",
    "start": "679360",
    "end": "686560"
  },
  {
    "text": "and less and very important uh architect your availability according",
    "start": "686560",
    "end": "691600"
  },
  {
    "text": "to what your business needs not what we want because we always want more vrt guides when you build cool stuff you",
    "start": "691600",
    "end": "697760"
  },
  {
    "text": "know but think about what your business really need because there's clearly a trade-off every nine more of of",
    "start": "697760",
    "end": "703440"
  },
  {
    "text": "availability that you seek you increase costs and you increase complexity so think about what you",
    "start": "703440",
    "end": "710399"
  },
  {
    "text": "really need and starting getting from them from there xa is not for every",
    "start": "710399",
    "end": "715519"
  },
  {
    "text": "service or for every type of workload even high availability is not so think what is the best place or the best time",
    "start": "715519",
    "end": "722959"
  },
  {
    "text": "to start thinking about xa thanks",
    "start": "722959",
    "end": "728959"
  },
  {
    "text": "so with all these principles and tenants in mind how can aws help you",
    "start": "728959",
    "end": "735680"
  },
  {
    "text": "we want to talk to you how you can build xa into your different layers of your or of your typical web",
    "start": "735680",
    "end": "742320"
  },
  {
    "text": "application or your applications in aws and we'll start first with the front end",
    "start": "742320",
    "end": "747519"
  },
  {
    "text": "layer afterwards we're going to talk about a little bit more in the information layer",
    "start": "747519",
    "end": "753519"
  },
  {
    "text": "so what do we have usually uh as a highly available web application",
    "start": "753519",
    "end": "760880"
  },
  {
    "text": "in aws so we use a variety of services from the user perspective you have",
    "start": "760880",
    "end": "768320"
  },
  {
    "text": "amazon route 53 for managing your dns requests you configure health checks and you",
    "start": "768320",
    "end": "773920"
  },
  {
    "text": "configure the primary and a secondary failover record set a secondary to the amazon s3 static",
    "start": "773920",
    "end": "780639"
  },
  {
    "text": "website which is a very cool feature nobody not not many people know how to use it it's pretty easy to use",
    "start": "780639",
    "end": "787519"
  },
  {
    "text": "going into the region level you might have an elastic load balancer and you'll be with cross zone enabled uh",
    "start": "787519",
    "end": "795200"
  },
  {
    "text": "you're out of scaling group using a multi-ac architecture with ec2 instances and",
    "start": "795200",
    "end": "801279"
  },
  {
    "text": "this is only one region as stated before by eduardo",
    "start": "801279",
    "end": "806399"
  },
  {
    "text": "some of you might need to scale this to an extreme level using a multi-region deployment and",
    "start": "806399",
    "end": "812720"
  },
  {
    "text": "so let's raise the bar a little let's raise the bar to xa this is the aws way",
    "start": "812720",
    "end": "818720"
  },
  {
    "text": "and here we have it extreme available architecture in aws and i want to say",
    "start": "818720",
    "end": "824480"
  },
  {
    "text": "one thing route 53 rocks why here we have a multi-region deployment",
    "start": "824480",
    "end": "830560"
  },
  {
    "text": "with aws and route53 is our core enabler here we're using",
    "start": "830560",
    "end": "836320"
  },
  {
    "text": "a latency based routing in this case we could also use any of the other options that route53 has for us like",
    "start": "836320",
    "end": "842720"
  },
  {
    "text": "geo-based routing or weighted round robin differences response time",
    "start": "842720",
    "end": "848959"
  },
  {
    "text": "user location or a more or a balanced ratio between the regions that you might want to consider for for your deployment",
    "start": "848959",
    "end": "856240"
  },
  {
    "text": "and why why route53 is so cool well it's not only it's super cheap",
    "start": "856240",
    "end": "861600"
  },
  {
    "text": "it's very easy to use its propagation time is very low it's below one minute and we just recently",
    "start": "861600",
    "end": "868320"
  },
  {
    "text": "launched last week or a couple of weeks ago the private dns feature for our rav53 inside the vpcs",
    "start": "868320",
    "end": "874880"
  },
  {
    "text": "and also the integration with aws resources is super easy to use through the alias",
    "start": "874880",
    "end": "881440"
  },
  {
    "text": "record sets so as an example we wanted to show you what will happen",
    "start": "881440",
    "end": "888079"
  },
  {
    "text": "in the case of a region failure basically what would happen if we don't",
    "start": "888079",
    "end": "893199"
  },
  {
    "text": "care about the reason why that happened route 53 will handle all the traffic and",
    "start": "893199",
    "end": "898399"
  },
  {
    "text": "handle the situation all kinds of if you have your health checks configured you you will have all alarms and",
    "start": "898399",
    "end": "904959"
  },
  {
    "text": "notifications being sent but ralph 53 will start raid ra will start redirecting all your traffic to your",
    "start": "904959",
    "end": "912480"
  },
  {
    "text": "healthy region and uh basically uh we're back to nha right we're back to an",
    "start": "912480",
    "end": "920240"
  },
  {
    "text": "uh multi-ac deployment which is still pretty good and",
    "start": "920240",
    "end": "926639"
  },
  {
    "text": "just to clarify for some of you that might not know in a multi-ac architecture or our",
    "start": "926639",
    "end": "932639"
  },
  {
    "text": "availability zones are separated by very considerable distance in kilometers we're able to sustain fires floods in",
    "start": "932639",
    "end": "939600"
  },
  {
    "text": "the region and so that's that's still pretty good and",
    "start": "939600",
    "end": "945759"
  },
  {
    "text": "just another idea that we want to share with you with you not many users know this but i deliberately didn't mention",
    "start": "945759",
    "end": "953600"
  },
  {
    "text": "anything about content distribution but we could also use cloudfront for our static and dynamic content acceleration",
    "start": "953600",
    "end": "961519"
  },
  {
    "text": "and using the very same extremely available architecture as mentioned before",
    "start": "961519",
    "end": "966839"
  },
  {
    "text": "also cloudfront could benefit from this architecture as having our origin multi handle multiple origins",
    "start": "966839",
    "end": "974720"
  },
  {
    "text": "and having the pop location or the edge location fetch the origin content from the fastest region right so for example",
    "start": "974720",
    "end": "982320"
  },
  {
    "text": "a user a request from the east coast ideally will fetch their content from the u.s",
    "start": "982320",
    "end": "988560"
  },
  {
    "text": "east region for example so how do we get there",
    "start": "988560",
    "end": "994639"
  },
  {
    "text": "how can you guys do this as largo mentioned before in the third tenet this is not only about technology this is",
    "start": "994639",
    "end": "1001040"
  },
  {
    "text": "also about people and processes and there may there may be many ways you can",
    "start": "1001040",
    "end": "1006639"
  },
  {
    "text": "do this we thought of a couple of examples andre is going to talk about talked about a little bit how he's doing",
    "start": "1006639",
    "end": "1012880"
  },
  {
    "text": "it and first one example that we thought about you could use very fast aws elastic bean",
    "start": "1012880",
    "end": "1020160"
  },
  {
    "text": "stock very easy to use you basically you can basically deploy your application in",
    "start": "1020160",
    "end": "1025199"
  },
  {
    "text": "multiple regions and uh once you have your application deployed with elastic bean stock elastic bean stock will",
    "start": "1025199",
    "end": "1032000"
  },
  {
    "text": "create your url with from rav53 and then you you create nested record sets with",
    "start": "1032000",
    "end": "1038160"
  },
  {
    "text": "latency-based routing or geo-based routing whatever routing policy you want",
    "start": "1038160",
    "end": "1043280"
  },
  {
    "text": "and you you might have you might accomplish this front-end extremely available architecture another idea we had",
    "start": "1043280",
    "end": "1050880"
  },
  {
    "text": "the multi-region ami strategy very basic only using aws tools basically you have",
    "start": "1050880",
    "end": "1056480"
  },
  {
    "text": "an ami on your origin on the one region you copy this ami to another",
    "start": "1056480",
    "end": "1062320"
  },
  {
    "text": "region and once you have this process that we have we have since one year ago i think",
    "start": "1062320",
    "end": "1068320"
  },
  {
    "text": "you can create a new launch configuration with a new ami you can have your scale auto scaling",
    "start": "1068320",
    "end": "1073600"
  },
  {
    "text": "group live updated with the new launch configuration and then you can auto wait",
    "start": "1073600",
    "end": "1079200"
  },
  {
    "text": "for the scala policy to execute automatically or you can just execute it manually",
    "start": "1079200",
    "end": "1084559"
  },
  {
    "text": "um so for this uh i just want to show you a quick demo of how you might do this can",
    "start": "1084559",
    "end": "1090480"
  },
  {
    "text": "you help me guys which is thank you that was pretty fast",
    "start": "1090480",
    "end": "1095919"
  },
  {
    "text": "so i'm just going to follow some iam best practices here",
    "start": "1095919",
    "end": "1101440"
  },
  {
    "text": "here's my aws console login page for my iam account i'm going to use my iam user and",
    "start": "1101440",
    "end": "1108160"
  },
  {
    "text": "i have enabled my soft token for multi-factor authentication here",
    "start": "1108160",
    "end": "1113760"
  },
  {
    "text": "so here it is and okay",
    "start": "1113760",
    "end": "1119200"
  },
  {
    "text": "so i'm going to go here this is the aws console inside elastic bean stock this is what we have basically done i",
    "start": "1119200",
    "end": "1125840"
  },
  {
    "text": "have a i have made an application based in with net i know that some of you guys still",
    "start": "1125840",
    "end": "1132000"
  },
  {
    "text": "programming in visual studio we have a toolkit very easy to use it integrates pretty",
    "start": "1132000",
    "end": "1137520"
  },
  {
    "text": "cool and so here's the dashboard for elastic beanstalk you can see the health status",
    "start": "1137520",
    "end": "1143120"
  },
  {
    "text": "which version i'm running of my application the configuration hardware that it's running in in this case",
    "start": "1143120",
    "end": "1148960"
  },
  {
    "text": "windows server 2012. i don't need to care about that in elastic bean stock the recent events",
    "start": "1148960",
    "end": "1156480"
  },
  {
    "text": "and also there are some default configurations in elastic green stock you can modify this",
    "start": "1156480",
    "end": "1163520"
  },
  {
    "text": "like the number of scaling number of instances instances in your auto scaling group which policy you are",
    "start": "1163520",
    "end": "1170640"
  },
  {
    "text": "using to scale in and scale out instance types elastic load balancer configuration etc",
    "start": "1170640",
    "end": "1178080"
  },
  {
    "text": "so this is a url that the elastic beanstalk has done",
    "start": "1178080",
    "end": "1183600"
  },
  {
    "text": "for me and this is basically the application is very simple i'm just showing",
    "start": "1183600",
    "end": "1189440"
  },
  {
    "text": "in this case which region the application is running on and i'm using an rds database with a movie",
    "start": "1189440",
    "end": "1195919"
  },
  {
    "text": "movie database on the back end based on rds and",
    "start": "1195919",
    "end": "1200960"
  },
  {
    "text": "so we have here a couple of movies these guys the movies so don't judge",
    "start": "1200960",
    "end": "1207760"
  },
  {
    "text": "just to show you that we're using the same application in another region i'm just going to create another one which is arc",
    "start": "1207760",
    "end": "1213600"
  },
  {
    "text": "311 today",
    "start": "1213600",
    "end": "1218400"
  },
  {
    "text": "right which is deck right and pretty cheap",
    "start": "1218880",
    "end": "1225919"
  },
  {
    "text": "okay so here it is and i'm going to go basically to",
    "start": "1226480",
    "end": "1231919"
  },
  {
    "text": "we're running in usc's region i'm going to change my region to the u.s west i have deployed the very same application",
    "start": "1231919",
    "end": "1238080"
  },
  {
    "text": "over here so i just go to the new or the other url",
    "start": "1238080",
    "end": "1244159"
  },
  {
    "text": "and i will show you it's us west and it's here's the same movie right so",
    "start": "1244159",
    "end": "1250400"
  },
  {
    "text": "now we have the same application running in two different regions they're synchronized with the same information",
    "start": "1250400",
    "end": "1256880"
  },
  {
    "text": "and um i want to simulate a region failure right so there's some customers that have asked",
    "start": "1256880",
    "end": "1262880"
  },
  {
    "text": "us like how how can we do this uh so in this case what i'm gonna do is basically i'm gonna",
    "start": "1262880",
    "end": "1269440"
  },
  {
    "text": "modify the security group that it's associated with my load balancer and i'm gonna block traffic",
    "start": "1269440",
    "end": "1275120"
  },
  {
    "text": "what this will do well why don't you show route 53 before so show how we can configure how to three oh thanks yeah",
    "start": "1275120",
    "end": "1281520"
  },
  {
    "text": "sorry yeah thank you round 53 that's right okay we had our",
    "start": "1281520",
    "end": "1287120"
  },
  {
    "text": "both urls and i have created my domain here and",
    "start": "1287120",
    "end": "1292640"
  },
  {
    "text": "i have x architecture.info and i'm going to filter here i don't",
    "start": "1292640",
    "end": "1298080"
  },
  {
    "text": "know if you can see this okay i created two record sets that point to",
    "start": "1298080",
    "end": "1303440"
  },
  {
    "text": "different regions one that it's pointing to the east region and the other one that's pointing to the west region i'm using latency based",
    "start": "1303440",
    "end": "1310159"
  },
  {
    "text": "so and also i have a health check associated with all these record sets um i'm going to test it now i'm going to",
    "start": "1310159",
    "end": "1316240"
  },
  {
    "text": "close these two windows i'm going to test and see which one based on the latency which region",
    "start": "1316240",
    "end": "1322799"
  },
  {
    "text": "answers here in rain band so basically we have",
    "start": "1322799",
    "end": "1328000"
  },
  {
    "text": "us west answering with the base latency here right and now i'm going to simulate the region",
    "start": "1328000",
    "end": "1333840"
  },
  {
    "text": "fader so i'm going to go to to ec2 to my security group",
    "start": "1333840",
    "end": "1340880"
  },
  {
    "text": "in the west region which were there and the elastic bean stock has created a",
    "start": "1340880",
    "end": "1347840"
  },
  {
    "text": "couple of uh security groups here yeah",
    "start": "1347840",
    "end": "1353280"
  },
  {
    "text": "it's in u.s west yeah oh yeah yeah and",
    "start": "1353280",
    "end": "1360159"
  },
  {
    "text": "i believe this is it no here it is the load balancer",
    "start": "1360159",
    "end": "1365520"
  },
  {
    "text": "security coupe i'll just",
    "start": "1365520",
    "end": "1372400"
  },
  {
    "text": "so it's open i'm just practically deleting this so what will happen here um",
    "start": "1372400",
    "end": "1379280"
  },
  {
    "text": "basically the health checks that i have in route 53 which are right here i'm going to show them to you",
    "start": "1379280",
    "end": "1384400"
  },
  {
    "text": "will start failing and so i have configured two health checks",
    "start": "1384400",
    "end": "1389679"
  },
  {
    "text": "one for the west region and another for the east region the request interval for route 53 the",
    "start": "1389679",
    "end": "1395120"
  },
  {
    "text": "least that you can put it is in 10 for 10 seconds and a failure threshold of one",
    "start": "1395120",
    "end": "1401039"
  },
  {
    "text": "so the metrics here you can see the state of one it's up and healthy zero uh it's",
    "start": "1401039",
    "end": "1408400"
  },
  {
    "text": "off this is cloud watch so it might take a minute a whole minute for the graph to refresh but more than 10 seconds have",
    "start": "1408400",
    "end": "1415280"
  },
  {
    "text": "passed so i'm just refreshing the same url and uh hopefully this should be changing",
    "start": "1415280",
    "end": "1422240"
  },
  {
    "text": "now",
    "start": "1422240",
    "end": "1424480"
  },
  {
    "text": "i'm going to close it and open up the refresh again x arc",
    "start": "1428000",
    "end": "1433120"
  },
  {
    "text": "yeah there it is yeah this is a live demo you know how this is so now usc stats answered right",
    "start": "1439200",
    "end": "1445600"
  },
  {
    "text": "so we have a we had a very quick failover to the other region and uh",
    "start": "1445600",
    "end": "1451440"
  },
  {
    "text": "i'm going to switch back can you help us help me here to switch to the other screen",
    "start": "1451440",
    "end": "1457960"
  },
  {
    "text": "can you help me here please switch to the switch to the other computer",
    "start": "1460320",
    "end": "1465600"
  },
  {
    "text": "there we go so andre",
    "start": "1465600",
    "end": "1471200"
  },
  {
    "text": "here we have here a big picture uh can you explain us how you're doing your front end extremely available",
    "start": "1471200",
    "end": "1477120"
  },
  {
    "text": "multi-region architecture of course so when you decide to migrate the",
    "start": "1477120",
    "end": "1482240"
  },
  {
    "text": "e-commerce platform to aws we we just follow all the best surprises of extreme",
    "start": "1482240",
    "end": "1488720"
  },
  {
    "text": "availability too and uh we decided to run our application in multivision in an",
    "start": "1488720",
    "end": "1495520"
  },
  {
    "text": "active and passive way and with that we maintain the entire traffic",
    "start": "1495520",
    "end": "1502400"
  },
  {
    "text": "of our website in the south america when we have uh huge sales as i talked",
    "start": "1502400",
    "end": "1508640"
  },
  {
    "text": "before we just switch the modes to active active so we can just spread the",
    "start": "1508640",
    "end": "1514400"
  },
  {
    "text": "traffic between the both regions the south america east and u.s east",
    "start": "1514400",
    "end": "1520320"
  },
  {
    "text": "and uh we have this strange guy here the vernick varnish cache that does a really",
    "start": "1520320",
    "end": "1525520"
  },
  {
    "text": "good job with us to routing the traffic to our mobile application and we also",
    "start": "1525520",
    "end": "1531200"
  },
  {
    "text": "use the varnish routing to test some new versions of our application we can just",
    "start": "1531200",
    "end": "1537760"
  },
  {
    "text": "isolate the this version and send a porsche a portion of the traffic to this",
    "start": "1537760",
    "end": "1542799"
  },
  {
    "text": "this new version that we want to test and um with that",
    "start": "1542799",
    "end": "1548159"
  },
  {
    "text": "we can handle a lot of traffic when you have this kind of huge sales in brazil oh and",
    "start": "1548159",
    "end": "1554799"
  },
  {
    "text": "which routing policy are you using in route 53 so we decided to wait in holland paulus because with that we can",
    "start": "1554799",
    "end": "1561120"
  },
  {
    "text": "split the traffic and it helped us in the last year in the in the",
    "start": "1561120",
    "end": "1567240"
  },
  {
    "text": "2013 black friday edition because we actually send the the the most part of",
    "start": "1567240",
    "end": "1573440"
  },
  {
    "text": "our traffic to us east and allows more than 100 instances here and",
    "start": "1573440",
    "end": "1578559"
  },
  {
    "text": "it's it's a really good also to reduce investments because the instance is",
    "start": "1578559",
    "end": "1585039"
  },
  {
    "text": "cheaper here than in south america right and how are you handling the challenge of having your versions and your",
    "start": "1585039",
    "end": "1590960"
  },
  {
    "text": "configurations with the same version in different yeah so use the purpose to handle this",
    "start": "1590960",
    "end": "1596559"
  },
  {
    "text": "configuration and we just push the chains to the both regions",
    "start": "1596559",
    "end": "1601840"
  },
  {
    "text": "from using center repository wow great yeah that's great architecture",
    "start": "1601840",
    "end": "1606880"
  },
  {
    "text": "thank you andre and now let's move to the information layer and first i want to clarify something",
    "start": "1606880",
    "end": "1613760"
  },
  {
    "text": "here normally a lot of people would call it the database layer but if you think through it nowadays",
    "start": "1613760",
    "end": "1621120"
  },
  {
    "text": "this layer doesn't contain only your relational database but contains also your known relational database contains",
    "start": "1621120",
    "end": "1626640"
  },
  {
    "text": "your cache contains log files and contains configuration files so it contains a bunch of stuff that own all",
    "start": "1626640",
    "end": "1633679"
  },
  {
    "text": "the store information so we are calling here information layer and starting with high available",
    "start": "1633679",
    "end": "1639039"
  },
  {
    "text": "environment in aws if you're using amazon relational database service rds it's very simple you just turn the",
    "start": "1639039",
    "end": "1645200"
  },
  {
    "text": "muchaz flag on and what that does is it creates a standby replica in the other",
    "start": "1645200",
    "end": "1650320"
  },
  {
    "text": "az within the same region and if the master database fails they send by haplica is promoted to master and",
    "start": "1650320",
    "end": "1657120"
  },
  {
    "text": "assumes everything from there so it's very simple to to have it if you're using dynamodb or",
    "start": "1657120",
    "end": "1663600"
  },
  {
    "text": "s3 they have built-in built-in ha at the region level",
    "start": "1663600",
    "end": "1669279"
  },
  {
    "text": "but we're not happy with all that we want to raise the bar check say that's how aws lecture does we do that all the",
    "start": "1669279",
    "end": "1675360"
  },
  {
    "text": "time and to do that i would like to",
    "start": "1675360",
    "end": "1680480"
  },
  {
    "text": "say like raul says always uh amazon diaz really had got rocks why the rock",
    "start": "1680480",
    "end": "1686080"
  },
  {
    "text": "because with with this feature you can very easily create a hidden replica in a second region far away",
    "start": "1686080",
    "end": "1693919"
  },
  {
    "text": "or even going further further you can create the replica of a replica so you can have other",
    "start": "1693919",
    "end": "1699919"
  },
  {
    "text": "hapticas in other areas in the secondary region so that's a very powerful mechanism so you have your whole",
    "start": "1699919",
    "end": "1706480"
  },
  {
    "text": "information your whole database synchronized in at least two different regions",
    "start": "1706480",
    "end": "1712480"
  },
  {
    "text": "and in case your master database fails or that entirely fails the failover moves the standby to become",
    "start": "1712480",
    "end": "1718960"
  },
  {
    "text": "the new master that's simple but going a failure further let's say like this",
    "start": "1718960",
    "end": "1725520"
  },
  {
    "text": "uh if even this the second master fails you can promote one of the red hat",
    "start": "1725520",
    "end": "1730799"
  },
  {
    "text": "because you become the new master and then the other replicas will start being replicated from this new master so",
    "start": "1730799",
    "end": "1737200"
  },
  {
    "text": "this is a very powerful mechanism even if all your application in one entire z fails you should have your whole",
    "start": "1737200",
    "end": "1743679"
  },
  {
    "text": "information and your application can still be writing and reading from this new promoted master",
    "start": "1743679",
    "end": "1751240"
  },
  {
    "text": "can also use third-party tools like golden gate if you're using rds oracle or attunity for rds oracle sql",
    "start": "1752000",
    "end": "1760480"
  },
  {
    "text": "server or mysql but the concept is the same you can replicate your information",
    "start": "1760480",
    "end": "1766640"
  },
  {
    "text": "from true database from one database to the other database in another region",
    "start": "1766640",
    "end": "1772480"
  },
  {
    "text": "and if you're using dynamodb this week we launched a new feature called dynamodb streams and i will show",
    "start": "1772480",
    "end": "1779520"
  },
  {
    "text": "you later how this feature will help other ways you can achieve extreme availability in dynamodb you can run aws",
    "start": "1779520",
    "end": "1786240"
  },
  {
    "text": "data pipeline and copy the data from one region one table in one region to",
    "start": "1786240",
    "end": "1791360"
  },
  {
    "text": "the other table in another region from time to time or you can create your own solution replicating the information or writing",
    "start": "1791360",
    "end": "1797520"
  },
  {
    "text": "twice in database there are different ways to do that",
    "start": "1797520",
    "end": "1802159"
  },
  {
    "text": "and if you're using any other nosql database like cassandra and so on most of them they have an asynchronous",
    "start": "1802559",
    "end": "1808960"
  },
  {
    "text": "replication which you can turn uh in two different regions of course that's",
    "start": "1808960",
    "end": "1814080"
  },
  {
    "text": "there's a little bit more heart it's a little bit harder you need to manage the configuration manage the failure and so",
    "start": "1814080",
    "end": "1819360"
  },
  {
    "text": "on and let let's see how this dynamo db streams works so basically you have your",
    "start": "1819360",
    "end": "1825679"
  },
  {
    "text": "web application or your application reading and writing to dynamodb genome db",
    "start": "1825679",
    "end": "1831840"
  },
  {
    "text": "table if you activate the streams what will that do is every",
    "start": "1831840",
    "end": "1837360"
  },
  {
    "text": "write operation to a dynamo db table will be logged into a stream in a",
    "start": "1837360",
    "end": "1842640"
  },
  {
    "text": "strictly ordered and unique way and reading from that stream consuming from there you can create your own",
    "start": "1842640",
    "end": "1848960"
  },
  {
    "text": "application and for example populate another dynamodb in another region yeah so that's a very very",
    "start": "1848960",
    "end": "1856080"
  },
  {
    "text": "powerful mechanism so you can have a multi-region application or if you want to get one step further",
    "start": "1856080",
    "end": "1862320"
  },
  {
    "text": "you can even have a much master application or a much much strategy you can have your two dynamodb tables being",
    "start": "1862320",
    "end": "1869440"
  },
  {
    "text": "the masters and whatever there are your application you create that application can manage any conflict",
    "start": "1869440",
    "end": "1875519"
  },
  {
    "text": "and everything so it's a very powerful mechanism and as part of the launch we are open",
    "start": "1875519",
    "end": "1881360"
  },
  {
    "text": "sourcing a library that will facilitate you to start and write that application",
    "start": "1881360",
    "end": "1886880"
  },
  {
    "text": "application let's just look a little bit inside what does that application looks like",
    "start": "1886880",
    "end": "1894158"
  },
  {
    "text": "so first as part of of the new api uh we have a dynamodb streams client and that",
    "start": "1894880",
    "end": "1901200"
  },
  {
    "text": "will be used to connect into the streams you also have a dynamodb client",
    "start": "1901200",
    "end": "1908000"
  },
  {
    "text": "as usual for those used with our api and our sdks and that will be used",
    "start": "1908000",
    "end": "1913440"
  },
  {
    "text": "to connect to the secondary uh dynamodb table in the second region",
    "start": "1913440",
    "end": "1919600"
  },
  {
    "text": "and here uh as the dynamodb streams and the kindness stream they're very similar we can we",
    "start": "1919600",
    "end": "1926559"
  },
  {
    "text": "can use the same kinesis client library the kcl or you can use even the",
    "start": "1926559",
    "end": "1931840"
  },
  {
    "text": "dynamodb update streams api so you can use the kcl to connect into",
    "start": "1931840",
    "end": "1936880"
  },
  {
    "text": "the dynamodb streams and here we are we're passing all the parameters we are fetching maximum of 100 records at a",
    "start": "1936880",
    "end": "1942960"
  },
  {
    "text": "time we are creating a worker a kinases worker",
    "start": "1942960",
    "end": "1948640"
  },
  {
    "text": "passing our factory which i'll show you later and starting a new thread that we'll be consuming from from the stream",
    "start": "1948640",
    "end": "1957120"
  },
  {
    "text": "and here once we have all the information this streaming we are consuming from the stream as i showed before and now we are",
    "start": "1957279",
    "end": "1964480"
  },
  {
    "text": "going to start processing all the information which we are fetching all the logs which are fitting and for that",
    "start": "1964480",
    "end": "1969840"
  },
  {
    "text": "we created this hacker processor which implements one off in the interface of the kinesis to process information",
    "start": "1969840",
    "end": "1976559"
  },
  {
    "text": "that has one one of the methods you should is to process that information",
    "start": "1976559",
    "end": "1982000"
  },
  {
    "text": "and basically you receive a list of logs chains you know ordered way as i said",
    "start": "1982000",
    "end": "1987519"
  },
  {
    "text": "before and we're going to integrate over that list taking each item getting the object that is inside",
    "start": "1987519",
    "end": "1994720"
  },
  {
    "text": "and depending on the type of event if it's an insert or modify we'll take that",
    "start": "1994720",
    "end": "1999760"
  },
  {
    "text": "content and call dynamodb utility to put that same item into the secondary region",
    "start": "1999760",
    "end": "2005840"
  },
  {
    "text": "and same wise if if it were a delete event uh we would call the helper",
    "start": "2005840",
    "end": "2011440"
  },
  {
    "text": "to delete that item from the dynamodb table so in that way you have the two dynamometer tables synchronize same",
    "start": "2011440",
    "end": "2018399"
  },
  {
    "text": "information just using this feature called dynamodb streams",
    "start": "2018399",
    "end": "2024080"
  },
  {
    "text": "if you're using s3 and in case you don't have a lot of objects you can easily synchronize the content",
    "start": "2024240",
    "end": "2030480"
  },
  {
    "text": "between between two buckets with a very very simple command line call",
    "start": "2030480",
    "end": "2036000"
  },
  {
    "text": "is as simple as that right there are other ways to do that as well",
    "start": "2036000",
    "end": "2041600"
  },
  {
    "text": "and the failover you have to manage on the client side and andre can you tell us a little bit",
    "start": "2041600",
    "end": "2048320"
  },
  {
    "text": "more how does magazine louisa handles the architecture in the information layer of course so it it was really",
    "start": "2048320",
    "end": "2055200"
  },
  {
    "text": "tricky for us because as i said before we are a multi-channel strategy company",
    "start": "2055200",
    "end": "2060480"
  },
  {
    "text": "so uh with that we just share the back-offs between the",
    "start": "2060480",
    "end": "2065919"
  },
  {
    "text": "online offline operation and that brings a new challenge for us interest",
    "start": "2065919",
    "end": "2071200"
  },
  {
    "text": "challenge for us one of those is that the all the 700 plus stores are physically",
    "start": "2071200",
    "end": "2077760"
  },
  {
    "text": "connected to our legacy data center and there every",
    "start": "2077760",
    "end": "2082800"
  },
  {
    "text": "where we have our erp database of all the products information like price",
    "start": "2082800",
    "end": "2088480"
  },
  {
    "text": "inventory and so on and uh our e-commerce platform is running on",
    "start": "2088480",
    "end": "2093520"
  },
  {
    "text": "top of aws so what we did actually in this image you guys can see",
    "start": "2093520",
    "end": "2100720"
  },
  {
    "text": "an overview of a hybrid strategy to use cloud we have this collocation with our",
    "start": "2100720",
    "end": "2106960"
  },
  {
    "text": "erp database and the aws so we did a direct connect between them",
    "start": "2106960",
    "end": "2113680"
  },
  {
    "text": "and we just launched some video applications of sql server in the aws",
    "start": "2113680",
    "end": "2119280"
  },
  {
    "text": "and we started doing application data between this those uh database",
    "start": "2119280",
    "end": "2125440"
  },
  {
    "text": "and with that we we just use the same approach to",
    "start": "2125440",
    "end": "2131280"
  },
  {
    "text": "replicate data to us too but via a vpn okay that's interesting but i see that that",
    "start": "2131280",
    "end": "2138320"
  },
  {
    "text": "connection between the legacy data the legacy data center and aws in both regions they're very important because",
    "start": "2138320",
    "end": "2144320"
  },
  {
    "text": "of your replication yes so what happens in in the case that there's suddenly increase of latency or wars if that",
    "start": "2144320",
    "end": "2150800"
  },
  {
    "text": "connection just breaks and everything goes down so actually it's not a problem for us because when we have this problem",
    "start": "2150800",
    "end": "2157359"
  },
  {
    "text": "with connectivity uh we just develop our tether a solution to",
    "start": "2157359",
    "end": "2163280"
  },
  {
    "text": "send all the orders to amazon sqs and we have workers to consume this this",
    "start": "2163280",
    "end": "2170079"
  },
  {
    "text": "message so when we have the connectivity established again we just can consume the message and send the order to our",
    "start": "2170079",
    "end": "2177599"
  },
  {
    "text": "erp database okay that's cool and i'm looking to the picture and i see that you have",
    "start": "2177599",
    "end": "2183200"
  },
  {
    "text": "some no sql database i guess you handle the shopping cart information how do you handle the synchronization",
    "start": "2183200",
    "end": "2188880"
  },
  {
    "text": "between the shopping cart in the two aws regions so uh the mongodb is our",
    "start": "2188880",
    "end": "2194000"
  },
  {
    "text": "solution for nosql and it handles all the checkout flow and we just launched the",
    "start": "2194000",
    "end": "2201040"
  },
  {
    "text": "replica set in the both regions to maintain the application of the data and they have arbiters to decide",
    "start": "2201040",
    "end": "2208160"
  },
  {
    "text": "who's the master node and with that we can persist the the customer cards oh",
    "start": "2208160",
    "end": "2214079"
  },
  {
    "text": "that's great and one are thinking about moving that to dynamodb i actually have this in the roadmap okay",
    "start": "2214079",
    "end": "2220640"
  },
  {
    "text": "i'm looking forward to see that that's that's a i think that's a great user case and an awesome architecture",
    "start": "2220640",
    "end": "2226560"
  },
  {
    "text": "i'm sure a lot of customers we want to talk with you later so just to wrap up guys i think the key message today was really that you can",
    "start": "2226560",
    "end": "2233359"
  },
  {
    "text": "achieve an availability beyond the traditional high availability concept",
    "start": "2233359",
    "end": "2238720"
  },
  {
    "text": "and when you started doing that remember our basic tenants so remember to be leveraged aws global infrastructure uh",
    "start": "2238720",
    "end": "2246160"
  },
  {
    "text": "consider saying the beginning of your process not only in the end remembering it's not only a technical change",
    "start": "2246160",
    "end": "2253040"
  },
  {
    "text": "and very important be prepared for every type of failure and to help you on that thinking about graceful failure and to",
    "start": "2253040",
    "end": "2259599"
  },
  {
    "text": "implement a micro service certainty architecture and the most important nowadays you can activate your",
    "start": "2259599",
    "end": "2265920"
  },
  {
    "text": "availability according to what your business needs yeah so the availability is just another component that you",
    "start": "2265920",
    "end": "2271359"
  },
  {
    "text": "should think in your architecture so think about the best way to achieve what your business will need",
    "start": "2271359",
    "end": "2276960"
  },
  {
    "text": "so thank you guys for your time i hope you enjoyed the talk today and i hope you can start to use some of these xa",
    "start": "2276960",
    "end": "2282480"
  },
  {
    "text": "concepts thank you",
    "start": "2282480",
    "end": "2285838"
  }
]