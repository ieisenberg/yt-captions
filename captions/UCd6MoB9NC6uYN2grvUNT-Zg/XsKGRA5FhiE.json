[
  {
    "text": "hi",
    "start": "8000",
    "end": "8559"
  },
  {
    "text": "and welcome to getting started with",
    "start": "8559",
    "end": "9920"
  },
  {
    "text": "device shadows my name is dave malone",
    "start": "9920",
    "end": "12719"
  },
  {
    "text": "and i'm a solutions architect for aws",
    "start": "12719",
    "end": "14960"
  },
  {
    "text": "iot",
    "start": "14960",
    "end": "17359"
  },
  {
    "text": "with aws iot core you can create a",
    "start": "17359",
    "end": "20320"
  },
  {
    "text": "persistent",
    "start": "20320",
    "end": "21119"
  },
  {
    "text": "virtual version or device shadow of each",
    "start": "21119",
    "end": "24160"
  },
  {
    "text": "device that includes the device's latest",
    "start": "24160",
    "end": "26400"
  },
  {
    "text": "state",
    "start": "26400",
    "end": "27199"
  },
  {
    "text": "so that applications or other devices",
    "start": "27199",
    "end": "29599"
  },
  {
    "text": "can read messages and interact with the",
    "start": "29599",
    "end": "31599"
  },
  {
    "text": "device",
    "start": "31599",
    "end": "32640"
  },
  {
    "text": "the device shadow persists the last",
    "start": "32640",
    "end": "34719"
  },
  {
    "text": "reported state",
    "start": "34719",
    "end": "35840"
  },
  {
    "text": "and desired future state of each device",
    "start": "35840",
    "end": "38800"
  },
  {
    "text": "even when the device is offline",
    "start": "38800",
    "end": "41280"
  },
  {
    "text": "you can retrieve the last reported state",
    "start": "41280",
    "end": "43520"
  },
  {
    "text": "of a device",
    "start": "43520",
    "end": "44640"
  },
  {
    "text": "or set a desired future state through",
    "start": "44640",
    "end": "47920"
  },
  {
    "text": "the api",
    "start": "47920",
    "end": "49360"
  },
  {
    "text": "or using the rules engine the device",
    "start": "49360",
    "end": "52320"
  },
  {
    "text": "shadow makes it easier to build",
    "start": "52320",
    "end": "54000"
  },
  {
    "text": "applications",
    "start": "54000",
    "end": "55039"
  },
  {
    "text": "that interact with your devices by",
    "start": "55039",
    "end": "57039"
  },
  {
    "text": "providing always available",
    "start": "57039",
    "end": "59039"
  },
  {
    "text": "rest apis your application can set the",
    "start": "59039",
    "end": "62399"
  },
  {
    "text": "desired future state of a device",
    "start": "62399",
    "end": "64878"
  },
  {
    "text": "without accounting for the device's",
    "start": "64879",
    "end": "66720"
  },
  {
    "text": "current state",
    "start": "66720",
    "end": "67920"
  },
  {
    "text": "and command the device to make up any",
    "start": "67920",
    "end": "70840"
  },
  {
    "text": "difference",
    "start": "70840",
    "end": "72560"
  },
  {
    "text": "to follow along you'll want to have an",
    "start": "72560",
    "end": "74960"
  },
  {
    "text": "aws account",
    "start": "74960",
    "end": "76240"
  },
  {
    "text": "and at least one device registered in",
    "start": "76240",
    "end": "78640"
  },
  {
    "text": "the device registry",
    "start": "78640",
    "end": "81040"
  },
  {
    "text": "once you log into the aws console go to",
    "start": "81040",
    "end": "84240"
  },
  {
    "text": "the device management",
    "start": "84240",
    "end": "85680"
  },
  {
    "text": "portion of the aws iot console",
    "start": "85680",
    "end": "89920"
  },
  {
    "text": "in the things tab i can see the list of",
    "start": "91920",
    "end": "94640"
  },
  {
    "text": "my registered devices",
    "start": "94640",
    "end": "96640"
  },
  {
    "text": "if you've been following along some of",
    "start": "96640",
    "end": "99040"
  },
  {
    "text": "our other",
    "start": "99040",
    "end": "99759"
  },
  {
    "text": "getting started videos our demo scenario",
    "start": "99759",
    "end": "102799"
  },
  {
    "text": "is that we have an acme device",
    "start": "102799",
    "end": "104560"
  },
  {
    "text": "manufacturing company",
    "start": "104560",
    "end": "106240"
  },
  {
    "text": "and we are manufacturing smart",
    "start": "106240",
    "end": "107840"
  },
  {
    "text": "thermostats",
    "start": "107840",
    "end": "109280"
  },
  {
    "text": "and we have a thing registered called",
    "start": "109280",
    "end": "111759"
  },
  {
    "text": "thermostat 1.",
    "start": "111759",
    "end": "113680"
  },
  {
    "text": "we are building smart thermostats that",
    "start": "113680",
    "end": "115680"
  },
  {
    "text": "have temperature controls",
    "start": "115680",
    "end": "117119"
  },
  {
    "text": "on the thermostats themselves as well as",
    "start": "117119",
    "end": "119600"
  },
  {
    "text": "the ability to adjust temperature",
    "start": "119600",
    "end": "121280"
  },
  {
    "text": "settings",
    "start": "121280",
    "end": "122079"
  },
  {
    "text": "through a mobile application or via",
    "start": "122079",
    "end": "124799"
  },
  {
    "text": "alexa smart home skills",
    "start": "124799",
    "end": "127119"
  },
  {
    "text": "and we have temperature sensors that you",
    "start": "127119",
    "end": "130080"
  },
  {
    "text": "can place throughout your home or office",
    "start": "130080",
    "end": "132879"
  },
  {
    "text": "to begin with i'm going to go ahead and",
    "start": "132879",
    "end": "134800"
  },
  {
    "text": "click on thermostat 1.",
    "start": "134800",
    "end": "137920"
  },
  {
    "text": "within your thing view we're going to",
    "start": "137920",
    "end": "139840"
  },
  {
    "text": "click on shadows",
    "start": "139840",
    "end": "141280"
  },
  {
    "text": "in the thing navigation menu to begin",
    "start": "141280",
    "end": "144160"
  },
  {
    "text": "with",
    "start": "144160",
    "end": "144480"
  },
  {
    "text": "you'll notice that there are no shadows",
    "start": "144480",
    "end": "147200"
  },
  {
    "text": "we're going to start by creating a",
    "start": "147200",
    "end": "148879"
  },
  {
    "text": "classic shadow",
    "start": "148879",
    "end": "150160"
  },
  {
    "text": "by clicking the add a shadow link",
    "start": "150160",
    "end": "153440"
  },
  {
    "text": "to get started with a classic shadow",
    "start": "153440",
    "end": "155599"
  },
  {
    "text": "leave the name field blank",
    "start": "155599",
    "end": "158319"
  },
  {
    "text": "click the add button and you will now",
    "start": "158319",
    "end": "160800"
  },
  {
    "text": "see that we have a classic shadow",
    "start": "160800",
    "end": "164160"
  },
  {
    "text": "click on the ellipses and then click",
    "start": "164160",
    "end": "166640"
  },
  {
    "text": "view",
    "start": "166640",
    "end": "167200"
  },
  {
    "text": "to view and update the shadow document",
    "start": "167200",
    "end": "171519"
  },
  {
    "text": "when you do this you will see that there",
    "start": "171519",
    "end": "173599"
  },
  {
    "text": "are two parts of the shadow state",
    "start": "173599",
    "end": "175200"
  },
  {
    "text": "document",
    "start": "175200",
    "end": "176160"
  },
  {
    "text": "you have the desired state with nominal",
    "start": "176160",
    "end": "178800"
  },
  {
    "text": "attributes",
    "start": "178800",
    "end": "179760"
  },
  {
    "text": "and the reported state with nominal",
    "start": "179760",
    "end": "182840"
  },
  {
    "text": "attributes",
    "start": "182840",
    "end": "184080"
  },
  {
    "text": "we'll come back to the shadow state",
    "start": "184080",
    "end": "185680"
  },
  {
    "text": "document in just a moment",
    "start": "185680",
    "end": "187280"
  },
  {
    "text": "but the next thing we're going to do is",
    "start": "187280",
    "end": "189120"
  },
  {
    "text": "open up the",
    "start": "189120",
    "end": "190560"
  },
  {
    "text": "test portion of the aws iot console",
    "start": "190560",
    "end": "194159"
  },
  {
    "text": "to subscribe to topics to receive",
    "start": "194159",
    "end": "196400"
  },
  {
    "text": "communication between the device",
    "start": "196400",
    "end": "198239"
  },
  {
    "text": "and the device shadow",
    "start": "198239",
    "end": "201200"
  },
  {
    "text": "when updates are made to the shadow",
    "start": "204080",
    "end": "205920"
  },
  {
    "text": "state of each device",
    "start": "205920",
    "end": "207519"
  },
  {
    "text": "notifications are published on special",
    "start": "207519",
    "end": "209599"
  },
  {
    "text": "topics called",
    "start": "209599",
    "end": "210799"
  },
  {
    "text": "reserved topics",
    "start": "210799",
    "end": "213840"
  },
  {
    "text": "device shadows have a number of reserved",
    "start": "216560",
    "end": "218879"
  },
  {
    "text": "topics",
    "start": "218879",
    "end": "219840"
  },
  {
    "text": "that we can use to subscribe to for",
    "start": "219840",
    "end": "222000"
  },
  {
    "text": "specific updates",
    "start": "222000",
    "end": "223760"
  },
  {
    "text": "the first one we will subscribe to in",
    "start": "223760",
    "end": "226319"
  },
  {
    "text": "the update topic structure",
    "start": "226319",
    "end": "228159"
  },
  {
    "text": "is the delta topic",
    "start": "228159",
    "end": "231200"
  },
  {
    "text": "which will receive messages when there",
    "start": "234560",
    "end": "236400"
  },
  {
    "text": "is a difference between the desired",
    "start": "236400",
    "end": "238159"
  },
  {
    "text": "shadow state",
    "start": "238159",
    "end": "239200"
  },
  {
    "text": "and the reported shadow state go ahead",
    "start": "239200",
    "end": "241920"
  },
  {
    "text": "and enter",
    "start": "241920",
    "end": "242560"
  },
  {
    "text": "in this reserve topic structure and",
    "start": "242560",
    "end": "245040"
  },
  {
    "text": "click subscribe",
    "start": "245040",
    "end": "247519"
  },
  {
    "text": "to subscribe to additional topics on the",
    "start": "247519",
    "end": "250239"
  },
  {
    "text": "left hand side",
    "start": "250239",
    "end": "251360"
  },
  {
    "text": "click subscribe to a topic",
    "start": "251360",
    "end": "255680"
  },
  {
    "text": "this next next topic documents will give",
    "start": "255680",
    "end": "258720"
  },
  {
    "text": "us the entire document",
    "start": "258720",
    "end": "260400"
  },
  {
    "text": "so that we can see what state changes",
    "start": "260400",
    "end": "262720"
  },
  {
    "text": "have been made",
    "start": "262720",
    "end": "263440"
  },
  {
    "text": "across the entire shadow document",
    "start": "263440",
    "end": "269840"
  },
  {
    "text": "we're going to use a third and final",
    "start": "270320",
    "end": "272240"
  },
  {
    "text": "topic the accepted topic",
    "start": "272240",
    "end": "274720"
  },
  {
    "text": "to subscribe only when shadow state",
    "start": "274720",
    "end": "277199"
  },
  {
    "text": "changes have been accepted by the shadow",
    "start": "277199",
    "end": "280840"
  },
  {
    "text": "service",
    "start": "280840",
    "end": "283840"
  },
  {
    "text": "so now you should be subscribed to the",
    "start": "286720",
    "end": "289040"
  },
  {
    "text": "three reserve",
    "start": "289040",
    "end": "289919"
  },
  {
    "text": "topics and we'll come back here later to",
    "start": "289919",
    "end": "292240"
  },
  {
    "text": "see when messages come in through these",
    "start": "292240",
    "end": "294840"
  },
  {
    "text": "topics",
    "start": "294840",
    "end": "296320"
  },
  {
    "text": "when you build an iot application such",
    "start": "296320",
    "end": "299040"
  },
  {
    "text": "as a mobile application",
    "start": "299040",
    "end": "300720"
  },
  {
    "text": "to set a thermostat's desired",
    "start": "300720",
    "end": "302639"
  },
  {
    "text": "temperature",
    "start": "302639",
    "end": "304080"
  },
  {
    "text": "this would update the desired state",
    "start": "304080",
    "end": "306240"
  },
  {
    "text": "portion of the shadow document",
    "start": "306240",
    "end": "308400"
  },
  {
    "text": "possibly via the restful apis provided",
    "start": "308400",
    "end": "311199"
  },
  {
    "text": "for this service",
    "start": "311199",
    "end": "312960"
  },
  {
    "text": "when the desired state changes from the",
    "start": "312960",
    "end": "314720"
  },
  {
    "text": "reported state",
    "start": "314720",
    "end": "316080"
  },
  {
    "text": "this causes the shadow service to",
    "start": "316080",
    "end": "318000"
  },
  {
    "text": "compute a delta state",
    "start": "318000",
    "end": "320240"
  },
  {
    "text": "so let's go back to the device shadow",
    "start": "320240",
    "end": "322320"
  },
  {
    "text": "and i'll show you how it works",
    "start": "322320",
    "end": "324400"
  },
  {
    "text": "for example let's say the reported",
    "start": "324400",
    "end": "326960"
  },
  {
    "text": "temperature",
    "start": "326960",
    "end": "328000"
  },
  {
    "text": "of 75 degrees and you want to reduce the",
    "start": "328000",
    "end": "331840"
  },
  {
    "text": "desired temperature",
    "start": "331840",
    "end": "332960"
  },
  {
    "text": "to 73 degrees",
    "start": "332960",
    "end": "339840"
  },
  {
    "text": "when i click save you'll see that the",
    "start": "340479",
    "end": "342720"
  },
  {
    "text": "shadow state has updated",
    "start": "342720",
    "end": "344560"
  },
  {
    "text": "and it has now added a third section the",
    "start": "344560",
    "end": "346960"
  },
  {
    "text": "delta document",
    "start": "346960",
    "end": "349919"
  },
  {
    "text": "now we have the desired temperature of",
    "start": "350720",
    "end": "353199"
  },
  {
    "text": "73",
    "start": "353199",
    "end": "354400"
  },
  {
    "text": "the reported temperature of 75 and the",
    "start": "354400",
    "end": "357360"
  },
  {
    "text": "delta temperature",
    "start": "357360",
    "end": "358479"
  },
  {
    "text": "which shows the desired temperature this",
    "start": "358479",
    "end": "361039"
  },
  {
    "text": "tells the shadow service",
    "start": "361039",
    "end": "362560"
  },
  {
    "text": "that there has been a change to the",
    "start": "362560",
    "end": "364160"
  },
  {
    "text": "state and it has to act",
    "start": "364160",
    "end": "367840"
  },
  {
    "text": "going back to our test portion of the",
    "start": "368319",
    "end": "370319"
  },
  {
    "text": "console",
    "start": "370319",
    "end": "372800"
  },
  {
    "text": "we can see that there were messages that",
    "start": "374000",
    "end": "376720"
  },
  {
    "text": "came through",
    "start": "376720",
    "end": "377440"
  },
  {
    "text": "on the three topics that we subscribed",
    "start": "377440",
    "end": "379199"
  },
  {
    "text": "to when we look at our subscription",
    "start": "379199",
    "end": "381840"
  },
  {
    "text": "to the delta topic we see in the shadow",
    "start": "381840",
    "end": "384960"
  },
  {
    "text": "document that comes through",
    "start": "384960",
    "end": "386560"
  },
  {
    "text": "that there has been a change to a",
    "start": "386560",
    "end": "388479"
  },
  {
    "text": "desired state of 73 degrees",
    "start": "388479",
    "end": "390960"
  },
  {
    "text": "and a time stamp for when the value is",
    "start": "390960",
    "end": "392840"
  },
  {
    "text": "changed",
    "start": "392840",
    "end": "394880"
  },
  {
    "text": "this notifies the device to update its",
    "start": "394880",
    "end": "397840"
  },
  {
    "text": "local state",
    "start": "397840",
    "end": "399360"
  },
  {
    "text": "in turn the device would be expected to",
    "start": "399360",
    "end": "401680"
  },
  {
    "text": "turn around",
    "start": "401680",
    "end": "402560"
  },
  {
    "text": "and update the reported state once the",
    "start": "402560",
    "end": "405440"
  },
  {
    "text": "thermostat has acted on the command",
    "start": "405440",
    "end": "407680"
  },
  {
    "text": "it would update and provide a matched",
    "start": "407680",
    "end": "410000"
  },
  {
    "text": "value for temperature",
    "start": "410000",
    "end": "411599"
  },
  {
    "text": "which would clear out the delta portion",
    "start": "411599",
    "end": "413199"
  },
  {
    "text": "of the document",
    "start": "413199",
    "end": "414880"
  },
  {
    "text": "so that's how classic shadows work",
    "start": "414880",
    "end": "418800"
  },
  {
    "text": "now let's go back to our shadow list for",
    "start": "418800",
    "end": "421199"
  },
  {
    "text": "thermostat 1.",
    "start": "421199",
    "end": "424000"
  },
  {
    "text": "we have our classic shadow which",
    "start": "424960",
    "end": "426720"
  },
  {
    "text": "represents the state",
    "start": "426720",
    "end": "428080"
  },
  {
    "text": "and the commands that we want to send",
    "start": "428080",
    "end": "429759"
  },
  {
    "text": "down to the thermostat itself",
    "start": "429759",
    "end": "432000"
  },
  {
    "text": "now what about the other temperature",
    "start": "432000",
    "end": "433759"
  },
  {
    "text": "sensors that you have around the",
    "start": "433759",
    "end": "435120"
  },
  {
    "text": "building",
    "start": "435120",
    "end": "436080"
  },
  {
    "text": "how do those interact with our",
    "start": "436080",
    "end": "437599"
  },
  {
    "text": "thermostat we need to be able to keep",
    "start": "437599",
    "end": "439919"
  },
  {
    "text": "the state that we are reading",
    "start": "439919",
    "end": "441360"
  },
  {
    "text": "in as they periodically report their",
    "start": "441360",
    "end": "443440"
  },
  {
    "text": "temperature",
    "start": "443440",
    "end": "444800"
  },
  {
    "text": "this is where we use named shadows named",
    "start": "444800",
    "end": "447840"
  },
  {
    "text": "shadows",
    "start": "447840",
    "end": "448880"
  },
  {
    "text": "allow you to add multiple shadows to a",
    "start": "448880",
    "end": "451599"
  },
  {
    "text": "single thing",
    "start": "451599",
    "end": "452880"
  },
  {
    "text": "this is useful if your iot device has",
    "start": "452880",
    "end": "455280"
  },
  {
    "text": "multiple state data",
    "start": "455280",
    "end": "456720"
  },
  {
    "text": "such as user settings manufacturer",
    "start": "456720",
    "end": "458960"
  },
  {
    "text": "configuration",
    "start": "458960",
    "end": "460319"
  },
  {
    "text": "and operational status with name shadows",
    "start": "460319",
    "end": "463199"
  },
  {
    "text": "you can store",
    "start": "463199",
    "end": "464000"
  },
  {
    "text": "different device state data on different",
    "start": "464000",
    "end": "466400"
  },
  {
    "text": "shadows",
    "start": "466400",
    "end": "467680"
  },
  {
    "text": "in this case we're going to treat them",
    "start": "467680",
    "end": "469599"
  },
  {
    "text": "as shadows that belong to the peripheral",
    "start": "469599",
    "end": "471919"
  },
  {
    "text": "sensors",
    "start": "471919",
    "end": "472960"
  },
  {
    "text": "but because they are not the thermostat",
    "start": "472960",
    "end": "474960"
  },
  {
    "text": "themselves",
    "start": "474960",
    "end": "476080"
  },
  {
    "text": "we don't want them to set a desired",
    "start": "476080",
    "end": "478000"
  },
  {
    "text": "state these name shadows will just have",
    "start": "478000",
    "end": "480800"
  },
  {
    "text": "a reported state",
    "start": "480800",
    "end": "482479"
  },
  {
    "text": "to create a named shadow go ahead and",
    "start": "482479",
    "end": "485120"
  },
  {
    "text": "click",
    "start": "485120",
    "end": "485599"
  },
  {
    "text": "add a shadow at this time",
    "start": "485599",
    "end": "489039"
  },
  {
    "text": "add a name we'll use temperature sensor",
    "start": "489039",
    "end": "492639"
  },
  {
    "text": "1",
    "start": "492639",
    "end": "494960"
  },
  {
    "text": "as the name",
    "start": "496240",
    "end": "498879"
  },
  {
    "text": "note that you can't use spaces in the",
    "start": "501120",
    "end": "503039"
  },
  {
    "text": "names but you can use dashes or",
    "start": "503039",
    "end": "504879"
  },
  {
    "text": "underscores",
    "start": "504879",
    "end": "507840"
  },
  {
    "text": "named shadows behave similarly to",
    "start": "509680",
    "end": "512320"
  },
  {
    "text": "classic shadows",
    "start": "512320",
    "end": "515279"
  },
  {
    "text": "however unlike our classic shadows which",
    "start": "517519",
    "end": "520159"
  },
  {
    "text": "represents the thermostat state",
    "start": "520159",
    "end": "522320"
  },
  {
    "text": "for the thermostat itself these will",
    "start": "522320",
    "end": "524959"
  },
  {
    "text": "really only",
    "start": "524959",
    "end": "525920"
  },
  {
    "text": "need to maintain a reported state and",
    "start": "525920",
    "end": "528399"
  },
  {
    "text": "therefore",
    "start": "528399",
    "end": "529120"
  },
  {
    "text": "will not make use of the delta state",
    "start": "529120",
    "end": "533519"
  },
  {
    "text": "that's it these shadows behave just like",
    "start": "533519",
    "end": "535839"
  },
  {
    "text": "classic shadows that we walked through",
    "start": "535839",
    "end": "537600"
  },
  {
    "text": "previously",
    "start": "537600",
    "end": "540240"
  },
  {
    "text": "so in this demo we covered what shadows",
    "start": "541519",
    "end": "544480"
  },
  {
    "text": "are",
    "start": "544480",
    "end": "545200"
  },
  {
    "text": "how to create them how to subscribe to",
    "start": "545200",
    "end": "547600"
  },
  {
    "text": "shadow topics",
    "start": "547600",
    "end": "549360"
  },
  {
    "text": "we saw what actions take place when",
    "start": "549360",
    "end": "551440"
  },
  {
    "text": "there's a delta between the desired",
    "start": "551440",
    "end": "553040"
  },
  {
    "text": "state and the reported state",
    "start": "553040",
    "end": "554880"
  },
  {
    "text": "and finally how to create named shadows",
    "start": "554880",
    "end": "557760"
  },
  {
    "text": "to learn more about what you can do with",
    "start": "557760",
    "end": "559519"
  },
  {
    "text": "shadows",
    "start": "559519",
    "end": "560399"
  },
  {
    "text": "check out the device shadows section of",
    "start": "560399",
    "end": "562640"
  },
  {
    "text": "the aws",
    "start": "562640",
    "end": "563680"
  },
  {
    "text": "iot core developer documentation",
    "start": "563680",
    "end": "573040"
  }
]