[
  {
    "text": "it's a good morning everyone welcome to the session minutes to milliseconds my name is Steph Cyr I work as a chief",
    "start": "30",
    "end": "7319"
  },
  {
    "text": "Software Architect for cream cream is a right healing company based out of",
    "start": "7319",
    "end": "13650"
  },
  {
    "text": "Middle East born and bred in Middle East founded in 2012 and we have recently hit",
    "start": "13650",
    "end": "19740"
  },
  {
    "text": "the unicameral status a month back now",
    "start": "19740",
    "end": "24830"
  },
  {
    "text": "the reason we exist is to simplify and improve the lives of people and with an awesome organization that inspires and",
    "start": "24830",
    "end": "31500"
  },
  {
    "text": "we do that by by using the right healing platform and offering people safe and",
    "start": "31500",
    "end": "37980"
  },
  {
    "text": "clean and transportation in the region now before we dig into a solution let's",
    "start": "37980",
    "end": "45420"
  },
  {
    "text": "understand the region that we operate in the region that we are played in is a bit different from the mature West that",
    "start": "45420",
    "end": "52020"
  },
  {
    "text": "you see out here and a lot of procedures that we talk and a lot of technical decisions that we have to take were due",
    "start": "52020",
    "end": "58949"
  },
  {
    "text": "to this we are due to these ground conditions so the first first and",
    "start": "58949",
    "end": "64260"
  },
  {
    "text": "foremost infrastructure the public infrastructure is not existent over there and whatever there is is scrappy",
    "start": "64260",
    "end": "71400"
  },
  {
    "text": "and or people are stuck in traffic for hours some of the regions are security",
    "start": "71400",
    "end": "77040"
  },
  {
    "text": "challenged and in some of the eat in some of the cities estimating an ETA is a real challenge because intersections",
    "start": "77040",
    "end": "84689"
  },
  {
    "text": "are quite far apart and we need to high driving speeds if you miss an exit the ETA becomes or grows exponentially high",
    "start": "84689",
    "end": "92450"
  },
  {
    "text": "the last and most important factor social norms in some of the region that we are played in women cannot drive and",
    "start": "92450",
    "end": "98670"
  },
  {
    "text": "some of the cities that we operate in women cannot share right with men that reduces the number of the products that",
    "start": "98670",
    "end": "104340"
  },
  {
    "text": "we can offer to our customers we call our drivers who drive the cars in the",
    "start": "104340",
    "end": "111240"
  },
  {
    "text": "road captains this is and this is something that the word driver has a",
    "start": "111240",
    "end": "117570"
  },
  {
    "text": "negative connotation in the region that we are played in so we wanted to change that and we wanted them to feel as part",
    "start": "117570",
    "end": "124590"
  },
  {
    "text": "of the current family and we also want them to become entrepreneurs and expand the ecosystem by you know improving",
    "start": "124590",
    "end": "131310"
  },
  {
    "text": "their lives and by eventually over time making money to buy their own cars and running their own",
    "start": "131310",
    "end": "136530"
  },
  {
    "text": "fleets now let's just understand the right healing problem a little bit so",
    "start": "136530",
    "end": "143460"
  },
  {
    "text": "right healing problem has multiple has two personas captain and customers customized someone who wants to move",
    "start": "143460",
    "end": "150270"
  },
  {
    "text": "from A to B whereas a captain is someone who has a weaker we need a bus a car or",
    "start": "150270",
    "end": "156330"
  },
  {
    "text": "a doctor or a motorcycle and wants to put a service customers and make a",
    "start": "156330",
    "end": "162540"
  },
  {
    "text": "living now connecting the two together is a market is what we call marketplace",
    "start": "162540",
    "end": "168060"
  },
  {
    "text": "it's actually a Condit where we match customers with captain's now due to the",
    "start": "168060",
    "end": "173670"
  },
  {
    "text": "nature of our marketplace we have to take real-time decisions and that needs that actually requires us to build",
    "start": "173670",
    "end": "180150"
  },
  {
    "text": "systems that can support some millisecond lookups and fast computation now customers and captain's need to be",
    "start": "180150",
    "end": "188130"
  },
  {
    "text": "matched very quickly because in this day customers don't spend a lot of time on your app and the cost to switch is very",
    "start": "188130",
    "end": "194490"
  },
  {
    "text": "easy they can customers can change their mind hail a cab or worse move to competition now each",
    "start": "194490",
    "end": "202680"
  },
  {
    "text": "mom the market itself has three important aspects reliability mask quality and tracking reliability has",
    "start": "202680",
    "end": "210690"
  },
  {
    "text": "different meanings for as different meanings for different personas for customers it is the trust that they will be able to get a car anytime and",
    "start": "210690",
    "end": "217800"
  },
  {
    "text": "anywhere they need it for cause four Captains it is a trust that they will be able to use the platform to make a",
    "start": "217800",
    "end": "223110"
  },
  {
    "text": "living and you know improve their lives over time now mask quality is someone we",
    "start": "223110",
    "end": "229890"
  },
  {
    "text": "define it as a captain who can reach the customer in the shortest amount of time without it spending the least amount of",
    "start": "229890",
    "end": "236010"
  },
  {
    "text": "fuel so you need to pick the nearest captain to the customer tracking as I",
    "start": "236010",
    "end": "241140"
  },
  {
    "text": "said our region is a bit security challenged in so our customers require",
    "start": "241140",
    "end": "246900"
  },
  {
    "text": "the ability to track their eyes or track the rights of their loved ones if they share with them so this requires us to",
    "start": "246900",
    "end": "252420"
  },
  {
    "text": "ensure that we are able to track our captain's in a very real-time nation to to drive from that advantage now basics",
    "start": "252420",
    "end": "263039"
  },
  {
    "text": "connectivity on the side so when we started off captain's in the region are very high welcome from impoverished backgrounds so",
    "start": "263039",
    "end": "269160"
  },
  {
    "text": "they cannot afford these expensive Samsung Nexus devices now what results is they end up using low-end Android",
    "start": "269160",
    "end": "275970"
  },
  {
    "text": "devices and lower android devices keep your costs down by sacrificing on the GPS chip quality or CPU processing",
    "start": "275970",
    "end": "282600"
  },
  {
    "text": "itself now the bad GP these low-quality",
    "start": "282600",
    "end": "288030"
  },
  {
    "text": "GPS sensors you know add a lot of nice to a GPS readings which makes metering",
    "start": "288030",
    "end": "293070"
  },
  {
    "text": "and tracking really difficult you know we operate in a region where temperatures are normally between 46",
    "start": "293070",
    "end": "299730"
  },
  {
    "text": "degree centigrade to 56 degree centigrade in the summers that means these metal based phones some of these",
    "start": "299730",
    "end": "304770"
  },
  {
    "text": "manual based foods can heat a pretty quick and that affects the CPU and that in turn affects the performance of the",
    "start": "304770",
    "end": "311370"
  },
  {
    "text": "app running on the phones and the biggest disadvantage is that data is not",
    "start": "311370",
    "end": "317340"
  },
  {
    "text": "cheap in that region it's actually quite expensive very expensive to begin with and most captain's can only afford",
    "start": "317340",
    "end": "323070"
  },
  {
    "text": "something you know 1 GB per bun which highly limits the solution space that we",
    "start": "323070",
    "end": "329370"
  },
  {
    "text": "for our solutions number one we will like to then make solutions where the",
    "start": "329370",
    "end": "334740"
  },
  {
    "text": "services are non chatty that the devices and service are not communicating with each other frequently now these bad GPS",
    "start": "334740",
    "end": "343020"
  },
  {
    "text": "sensors also dictate that we use a functionality called something called snap tablet Google Offers it or Sarah",
    "start": "343020",
    "end": "349290"
  },
  {
    "text": "muffled so that requires us that we store some previous pings of a captain as well do you know reduce the noise",
    "start": "349290",
    "end": "355560"
  },
  {
    "text": "from the ping itself and get a more accurate location out of the mix so this",
    "start": "355560",
    "end": "360660"
  },
  {
    "text": "plays in the factor that how much data we have to store and how much data we have to crunch through to deliver a",
    "start": "360660",
    "end": "365729"
  },
  {
    "text": "compelling experience now we will guide",
    "start": "365729",
    "end": "371280"
  },
  {
    "text": "will walk you through a few takes that we take on the eventual solution and maybe start it off but before we go into",
    "start": "371280",
    "end": "376800"
  },
  {
    "text": "that let's define a few metrics that we measure the success of our solutions are",
    "start": "376800",
    "end": "381810"
  },
  {
    "text": "from ETA now India has two dimensions one the EPA that a customer sees when he",
    "start": "381810",
    "end": "388890"
  },
  {
    "text": "or she books a car or a requester right and the actual ETA that the customer",
    "start": "388890",
    "end": "394650"
  },
  {
    "text": "gets now to have a very high to have to deliver a very compelling cost",
    "start": "394650",
    "end": "400560"
  },
  {
    "text": "experience you need the delta between the two to be as small as possible because the data as small as possible",
    "start": "400560",
    "end": "406200"
  },
  {
    "text": "then the customer is getting what he sees which is a big advantage in the region where competition is a bit tough",
    "start": "406200",
    "end": "412230"
  },
  {
    "text": "as well now time to match the reason",
    "start": "412230",
    "end": "417240"
  },
  {
    "text": "it's because as I said customers would not spend a lot of time on your app so if your process to find a match takes",
    "start": "417240",
    "end": "424050"
  },
  {
    "text": "about minutes whereas a customer can only spend the three minutes will spend them about the maximum three minutes on",
    "start": "424050",
    "end": "429060"
  },
  {
    "text": "your app then you have wasted two minutes of their precious time just finding a captain and then making sure",
    "start": "429060",
    "end": "434340"
  },
  {
    "text": "that the captain wants to ride or not or you know can be matched with this captain after that the filters are not",
    "start": "434340",
    "end": "439410"
  },
  {
    "text": "so time you need to best make the best match is also very important tracking as",
    "start": "439410",
    "end": "445889"
  },
  {
    "text": "we said tracking in our region is very important so age of captain location plays a big part so when you're tracking",
    "start": "445889",
    "end": "452389"
  },
  {
    "text": "your ping that the location that you show or the customer sees of a captain",
    "start": "452389",
    "end": "457530"
  },
  {
    "text": "needs to be real-time it's - he needs to be as close to its physical location on",
    "start": "457530",
    "end": "462750"
  },
  {
    "text": "the network itself so let's say a captain ping three minutes I find connecting pings of captains every",
    "start": "462750",
    "end": "469800"
  },
  {
    "text": "minute then if I'm showing the customer captain spring the total duration ends up between three minutes from the ping",
    "start": "469800",
    "end": "475950"
  },
  {
    "text": "and what the customer sees so a customer is actually seeing may actually see a pain which is seamless all which does",
    "start": "475950",
    "end": "481110"
  },
  {
    "text": "not really work well in a security challenge region as well then ratio of",
    "start": "481110",
    "end": "486180"
  },
  {
    "text": "requests match this is how many people were requesting a ride and how many you",
    "start": "486180",
    "end": "491250"
  },
  {
    "text": "know requests we were able to serve now this also depends on the kind on the supply that we have on the network but",
    "start": "491250",
    "end": "497490"
  },
  {
    "text": "assuming that we have constant or enough supply to meet demand then this matrix",
    "start": "497490",
    "end": "502800"
  },
  {
    "text": "drives you know really will give you a really good insight on how the system or your algorithms are doing so we believe",
    "start": "502800",
    "end": "512130"
  },
  {
    "text": "in simplicity so when we started off we said let's how do we get captain's data on our network so we will use a simple",
    "start": "512130",
    "end": "520260"
  },
  {
    "text": "solution out there we had a captain app that sends pings in the JSON format to the server the server stores in my",
    "start": "520260",
    "end": "526140"
  },
  {
    "text": "sequence really simple easy to get off we were able to get it up and running in the days now before we go into",
    "start": "526140",
    "end": "534360"
  },
  {
    "text": "how the solution work for us let's just look at the scale when this happened so",
    "start": "534360",
    "end": "539640"
  },
  {
    "text": "we had about 19 cities 500,000 customers 9,000 captains and these cups and",
    "start": "539640",
    "end": "545910"
  },
  {
    "text": "captains were making 1 million ETA requests you know approximately 30 million things and 16 million lookups",
    "start": "545910",
    "end": "552560"
  },
  {
    "text": "now some of the issues that we faced while you know using the solution so",
    "start": "552560",
    "end": "558450"
  },
  {
    "text": "first and foremost we had we faced continuous deadlocks and performance",
    "start": "558450",
    "end": "564209"
  },
  {
    "text": "issues while using the solution so we had a table which stored a captain data and the captain last seen data together",
    "start": "564209",
    "end": "569880"
  },
  {
    "text": "so the coordinate now this row is a will always be updated by multiple",
    "start": "569880",
    "end": "575339"
  },
  {
    "text": "operational processes meaning the customers match in the last string different transactions are updating the",
    "start": "575339",
    "end": "580800"
  },
  {
    "text": "same row and my sequel has a weird thing that it locks it up so we ran into this",
    "start": "580800",
    "end": "586079"
  },
  {
    "text": "downward spiral way that you know with performance issues you will go into logs the application will start freeze and we",
    "start": "586079",
    "end": "592860"
  },
  {
    "text": "will suffer it downtime one of the important aspect that we found was we",
    "start": "592860",
    "end": "600000"
  },
  {
    "text": "started my sequel five point six we'd had no dissipation support which means that looking up nearby captain's was",
    "start": "600000",
    "end": "606180"
  },
  {
    "text": "non-trivial the reason it was because according it's",
    "start": "606180",
    "end": "611279"
  },
  {
    "text": "according it is that multi-dimensional value you can mean you know if you use a latitude longitude with my five point",
    "start": "611279",
    "end": "618570"
  },
  {
    "text": "six you have to you and you actually store it using two columns latitude and longitude and indexing them was a",
    "start": "618570",
    "end": "624870"
  },
  {
    "text": "problem and the only way you can look at me by captors who are using something what we call the have a sine formula by",
    "start": "624870",
    "end": "630180"
  },
  {
    "text": "calculating straight line distances spherical distances that made the lookups pretty pretty slow so in the end",
    "start": "630180",
    "end": "638339"
  },
  {
    "text": "for stability because of the issues that we're facing we had to reduce the number of things that we are getting each minute and we did use two one thing one",
    "start": "638339",
    "end": "645600"
  },
  {
    "text": "minute now all this affected over eight years and customer experience plus the",
    "start": "645600",
    "end": "651750"
  },
  {
    "text": "cost balloon in respect to what we were getting out of it because we were using over provision service to just to avoid",
    "start": "651750",
    "end": "657839"
  },
  {
    "text": "deadlocks by throwing a lot of CP power on top of it now",
    "start": "657839",
    "end": "664920"
  },
  {
    "text": "this is this graphs gives you some idea of what we were able to get that actually idea that we were seeing",
    "start": "664920",
    "end": "671010"
  },
  {
    "text": "captain customers was seeing was about eleven minutes promise ETA had have hired that between the two that time to match was about",
    "start": "671010",
    "end": "677970"
  },
  {
    "text": "three minutes when we started off now it worked for a bit but it was not a great solution now the most important aspect",
    "start": "677970",
    "end": "686790"
  },
  {
    "text": "we were only able to serve forty percent of the requests because customers will switch because we were taking a long",
    "start": "686790",
    "end": "692910"
  },
  {
    "text": "time in making that match plus because of the reliability issues that we had",
    "start": "692910",
    "end": "698250"
  },
  {
    "text": "with the system itself a lot of people just then use our services and that and",
    "start": "698250",
    "end": "704699"
  },
  {
    "text": "uptime was not very high now some things that we learn on the go the the market",
    "start": "704699",
    "end": "714089"
  },
  {
    "text": "that we operate in or the business that we use is highly volatile each government has its own set of",
    "start": "714089",
    "end": "719430"
  },
  {
    "text": "regulations each CD presents a different challenge out there so what you foremost need is an ability to modify or alter",
    "start": "719430",
    "end": "726149"
  },
  {
    "text": "your scheme at with where the high transaction table my sequel table altering the schema is not trivial you",
    "start": "726149",
    "end": "733140"
  },
  {
    "text": "will have to take a downtime or shut down your system to ensure to update those schemas and we wanted my ability",
    "start": "733140",
    "end": "739800"
  },
  {
    "text": "so we decided that we needed an ability to alter the subjects schema at will now",
    "start": "739800",
    "end": "744839"
  },
  {
    "text": "data is volatile a ping is relevant only for the next ping till the next thing",
    "start": "744839",
    "end": "749880"
  },
  {
    "text": "comes in so if you lose that thing after that then yeah it doesn't hurt us because we only need the most recent",
    "start": "749880",
    "end": "755579"
  },
  {
    "text": "location for dispatching purposes plus so as writing works and you will see a",
    "start": "755579",
    "end": "762329"
  },
  {
    "text": "spike in traffic in the morning rush hours or during the evening rush hour so you can see a lot what happens coming online a lot more customers requesting",
    "start": "762329",
    "end": "769890"
  },
  {
    "text": "rights and that is where we you know we knew that we need buffer to actually deal with this these spikes and to be",
    "start": "769890",
    "end": "776579"
  },
  {
    "text": "able to process all things accordingly second we needed a mechanism to",
    "start": "776579",
    "end": "782850"
  },
  {
    "text": "represent coordinates as a scale of value having them as a multi-dimensional value was limiting our solution space",
    "start": "782850",
    "end": "791600"
  },
  {
    "text": "these were some of the learnings will ever take one now while building the next stage of a",
    "start": "791600",
    "end": "798910"
  },
  {
    "text": "solution we decided a few things we are going to be schema-less because we are constantly changing so we wanted the",
    "start": "798910",
    "end": "805480"
  },
  {
    "text": "ability to change the scheme at well we wanted to use buffers that's why we said let's use sqs as buffers and then",
    "start": "805480",
    "end": "814480"
  },
  {
    "text": "DynamoDB so this offered us to store captains for a long time per system and we use elastic caches to store",
    "start": "814480",
    "end": "822730"
  },
  {
    "text": "captain pings in memory so that we can look them up and a faster way so my read",
    "start": "822730",
    "end": "829930"
  },
  {
    "text": "is Gladys has a unique architecture which results in more cleaner and more elegant coat with fewer lines plus it's",
    "start": "829930",
    "end": "836410"
  },
  {
    "text": "a lot free architecture and how dough runs it's single threaded that has some",
    "start": "836410",
    "end": "841570"
  },
  {
    "text": "issues on its own but yeah it's a pretty much lock free architecture that alleviates a lot of the problems that we",
    "start": "841570",
    "end": "848530"
  },
  {
    "text": "were getting with constant updates the same row by multiple transactions it has a very rich data set strains and sorted",
    "start": "848530",
    "end": "856030"
  },
  {
    "text": "sets you can use a lot of you can use sort it says to sort on the database level rather than on an application",
    "start": "856030",
    "end": "862270"
  },
  {
    "text": "level and data structures you know these are there are built in data structures that process data optimally you can use",
    "start": "862270",
    "end": "869920"
  },
  {
    "text": "a few more tricks like pipelining and primary replica configuration to speed up the performance of your application",
    "start": "869920",
    "end": "875560"
  },
  {
    "text": "if need be without actually expending more on the infrastructure or hardware",
    "start": "875560",
    "end": "882270"
  },
  {
    "text": "so why we chose elastication in-memory key value pair because our captain location lookups for key value",
    "start": "882570",
    "end": "889510"
  },
  {
    "text": "so given a captain they will always be one last scene so key value store and",
    "start": "889510",
    "end": "894760"
  },
  {
    "text": "has high performance you can look up millions and millions of records over a short amount of time delivering some",
    "start": "894760",
    "end": "900850"
  },
  {
    "text": "many second Layton sees that held us pretty much fully management so as he",
    "start": "900850",
    "end": "906070"
  },
  {
    "text": "said we were starting up and we wanted to spend more time on solving the business problems rather than handling",
    "start": "906070",
    "end": "912490"
  },
  {
    "text": "the infrastructure side of it so we are big fans of managed services and that's where we when we evaluated it we were",
    "start": "912490",
    "end": "920440"
  },
  {
    "text": "blown away by a lot of performances but it was highly available and reliable it offered a lot of things out of the box",
    "start": "920440",
    "end": "926200"
  },
  {
    "text": "that we didn't want to worry about at the time plus he was able to save a lot of development 25% of developers time when",
    "start": "926200",
    "end": "932639"
  },
  {
    "text": "building or rolling out solutions because yeah it's their launch a cluster and then let's solve the problem that we",
    "start": "932639",
    "end": "938250"
  },
  {
    "text": "want to really solve for the real time the real-world problem so that's this is",
    "start": "938250",
    "end": "945329"
  },
  {
    "text": "how we then build a solution we had a we had captain's apps and sending pings to",
    "start": "945329",
    "end": "951209"
  },
  {
    "text": "a nice to a cue which repair I processed by a worker a worker stored these things",
    "start": "951209",
    "end": "956940"
  },
  {
    "text": "in a class Redis cluster itself and to a DynamoDB as well so we but we what we",
    "start": "956940",
    "end": "963029"
  },
  {
    "text": "did one one thing is we have the enable Network we are trading about from out of",
    "start": "963029",
    "end": "968490"
  },
  {
    "text": "17 cities some cities are far bigger than other cities so we have dedicated",
    "start": "968490",
    "end": "974120"
  },
  {
    "text": "specific clusters for those capacities and countries and you know bunched all",
    "start": "974120",
    "end": "979380"
  },
  {
    "text": "the remaining two one so that's what ro w rest of the world so this is how our",
    "start": "979380",
    "end": "987839"
  },
  {
    "text": "data structures look like key deterministic key so that you can give in a captain ID you can easily compute",
    "start": "987839",
    "end": "994110"
  },
  {
    "text": "the key and then given the key you can easily get the data within a millisecond",
    "start": "994110",
    "end": "999440"
  },
  {
    "text": "now this is what we call very interesting so we said we wanted the",
    "start": "999440",
    "end": "1006440"
  },
  {
    "text": "primary problem that we wanted to solve for is finding the nearby captains and",
    "start": "1006440",
    "end": "1011589"
  },
  {
    "text": "just do that we identified that we have to represent coordinates as a scalar value there are a few standards out",
    "start": "1011589",
    "end": "1019010"
  },
  {
    "text": "there that you can use we went with your hash so geohash is a concept that can compress a string or the present ill",
    "start": "1019010",
    "end": "1026900"
  },
  {
    "text": "coordinate as a alphanumeric string it's and it also has its depth so you had an",
    "start": "1026900",
    "end": "1035630"
  },
  {
    "text": "q hash string can be at most 12 characters so at 12 character pings is the most granular level of a coordinate",
    "start": "1035630",
    "end": "1042918"
  },
  {
    "text": "and if you start removing characters from the end that you will get start getting a bounding box from that",
    "start": "1042919",
    "end": "1049790"
  },
  {
    "text": "coordinate upwards we went with five characters Zhu hash which means double a",
    "start": "1049790",
    "end": "1055010"
  },
  {
    "text": "a BB C which gives us a bounding box box of about 2.7 kilometers so",
    "start": "1055010",
    "end": "1061670"
  },
  {
    "text": "and the reason we did that because a lot of our dispatching algorithms the radius that we had defined we're about three kilometers himself so 2.7 was a very",
    "start": "1061670",
    "end": "1069110"
  },
  {
    "text": "good whatever it was very close to a business objective as well how we were dispatching really so what we said so a",
    "start": "1069110",
    "end": "1076160"
  },
  {
    "text": "captain ping comes in we get the coordinate convert into a Jew hash take the Jew hash Bureau five-day Jewish",
    "start": "1076160",
    "end": "1082549"
  },
  {
    "text": "group fine which cap which products that this captain can serve because we have some offerings like economy business",
    "start": "1082549",
    "end": "1088880"
  },
  {
    "text": "persons plus and then add this captain to all those sorted sets so the key",
    "start": "1088880",
    "end": "1095840"
  },
  {
    "text": "becomes very deterministic the customer side can also make this key computer ski the captain's I can also complete this",
    "start": "1095840",
    "end": "1101510"
  },
  {
    "text": "ski and we add the captain to this sort itself now sorta starts offering you an",
    "start": "1101510",
    "end": "1108010"
  },
  {
    "text": "attribute which you call score you can use it's a double value and we decided",
    "start": "1108010",
    "end": "1113059"
  },
  {
    "text": "to use the time stem then when the captain last ping as a score so what this offer is so when we wanted to see",
    "start": "1113059",
    "end": "1120740"
  },
  {
    "text": "all captain's within a new hash or within a location nearby a location and",
    "start": "1120740",
    "end": "1126500"
  },
  {
    "text": "we wanted all only captain's that have pinged within the last 30 seconds we just did a computation hey look up this",
    "start": "1126500",
    "end": "1132110"
  },
  {
    "text": "sorted set current times time minus 30 seconds all cap keys with the score",
    "start": "1132110",
    "end": "1137210"
  },
  {
    "text": "greater than this wizard returned a sort it said out of the box which was pretty good because we don't then have to go",
    "start": "1137210",
    "end": "1143750"
  },
  {
    "text": "through all the captains and sequentially all in parallel filter them out so now this captain was him in the",
    "start": "1143750",
    "end": "1151220"
  },
  {
    "text": "jus Hodge W a double a double BC and let's say anything next he moved to the",
    "start": "1151220",
    "end": "1156530"
  },
  {
    "text": "next two hash which was double a double V D so this is how he will move through different sorted set as an indexing in",
    "start": "1156530",
    "end": "1164270"
  },
  {
    "text": "an indexed fraction so we will remove it from the previous index and add him to the new index or the sorted set this is",
    "start": "1164270",
    "end": "1173900"
  },
  {
    "text": "how it our dispassion would look like so when we were dispatching we would dispatch in a grid of 3x3 which means",
    "start": "1173900",
    "end": "1181220"
  },
  {
    "text": "from any point a maximum area we covered was about nine kilometers and with you",
    "start": "1181220",
    "end": "1187100"
  },
  {
    "text": "harsh in the libraries out there it's very easy to compute the neighbors of it central geohash as well so let's say if",
    "start": "1187100",
    "end": "1193970"
  },
  {
    "text": "the customer is it's a green dark green spot and the internet green spots are eligible",
    "start": "1193970",
    "end": "1200990"
  },
  {
    "text": "captain's because they may be busier than the Rye or they may not be serving the same customer the product and all",
    "start": "1200990",
    "end": "1208039"
  },
  {
    "text": "the other greens may be eligible captain's so that we were able to get this list of Katniss in a very very",
    "start": "1208039",
    "end": "1214039"
  },
  {
    "text": "quick time maybe seconds and then you know then we can use that same in the",
    "start": "1214039",
    "end": "1219980"
  },
  {
    "text": "amount of time that we save we use the same time to apply additional filters by using or selling metrics as Google",
    "start": "1219980",
    "end": "1226190"
  },
  {
    "text": "services to get the best scatter that can reach a low customer the fastest not",
    "start": "1226190",
    "end": "1231950"
  },
  {
    "text": "distance price but time wise that we reach the customer the fastest now when",
    "start": "1231950",
    "end": "1238130"
  },
  {
    "text": "we when you build the solution I would scale was a bit different me when a lot more City is six million customers a lot",
    "start": "1238130",
    "end": "1246110"
  },
  {
    "text": "of an ETA request because people like to see with the nearest car is so in the region people compared with the nearest",
    "start": "1246110",
    "end": "1251870"
  },
  {
    "text": "captain is and go with the provider which is offering the nearest captain of the fastest captain now with this we",
    "start": "1251870",
    "end": "1260450"
  },
  {
    "text": "were able to reduce the time to match the ETA and and we were able to make",
    "start": "1260450",
    "end": "1267080"
  },
  {
    "text": "sure that the Delta between the promised city and the actuality is what's constant across time so this was pretty",
    "start": "1267080",
    "end": "1274280"
  },
  {
    "text": "much what we were hoping for reliability went up we were able to serve 86 per",
    "start": "1274280",
    "end": "1279710"
  },
  {
    "text": "turn on the request and beyond this point is actually then becomes a function of suppliers so the system or",
    "start": "1279710",
    "end": "1284720"
  },
  {
    "text": "algorithm was doing what it was what was asked of it to do uptime we we went to a",
    "start": "1284720",
    "end": "1292190"
  },
  {
    "text": "100 percent nearly 100% uptime because we were not facing logs and yeah this is",
    "start": "1292190",
    "end": "1299990"
  },
  {
    "text": "just an insight into how fast ever lookups are using our monitoring tools",
    "start": "1299990",
    "end": "1306158"
  },
  {
    "text": "now what this really meant is we were able to ping more frequently 15 seconds",
    "start": "1307059",
    "end": "1312830"
  },
  {
    "text": "every 15 seconds that for per minute improve it is because we were pinging so",
    "start": "1312830",
    "end": "1319220"
  },
  {
    "text": "nearby each other that's not too great the performance for snap to get increased because you had far more care",
    "start": "1319220",
    "end": "1325640"
  },
  {
    "text": "for more pings closer to each other the meant that it can reduce the noise out of those things pretty much well and we",
    "start": "1325640",
    "end": "1331790"
  },
  {
    "text": "were able to get an accuracy of even down to the lane level now it bends you",
    "start": "1331790",
    "end": "1337850"
  },
  {
    "text": "have a very accurate picture of where the captain is you can you know your algorithms can",
    "start": "1337850",
    "end": "1343040"
  },
  {
    "text": "then decide what the bamboo the best captain is because they have reduced the noise and in some of the cases we notice",
    "start": "1343040",
    "end": "1348320"
  },
  {
    "text": "the noise could be as much as one kilometers in the pings itself or the GPS coordinates itself side benefit",
    "start": "1348320",
    "end": "1355280"
  },
  {
    "text": "granular level tracking for customers improve because they can be the very high certainty they can know where the",
    "start": "1355280",
    "end": "1362090"
  },
  {
    "text": "captain is actually is the average age of the location that a customer was seen was down for 180 seconds to about 45",
    "start": "1362090",
    "end": "1368840"
  },
  {
    "text": "seconds that were the big rim because that's as close to real time as you can get but the most important thing that we",
    "start": "1368840",
    "end": "1375170"
  },
  {
    "text": "were able to do as we were able to save time while matching so previously we had",
    "start": "1375170",
    "end": "1382070"
  },
  {
    "text": "to look up across the database which cost which captains were near by using a straight line distance etc and then",
    "start": "1382070",
    "end": "1388820"
  },
  {
    "text": "filtering them Plus with this approach we you know since we were able to able to get a lot of captain's far quicker",
    "start": "1388820",
    "end": "1394880"
  },
  {
    "text": "and apply additional algorithms on them so we were able to reduce the time to",
    "start": "1394880",
    "end": "1400400"
  },
  {
    "text": "match about 15 seconds this was that after customer pressed and I get right it will take him about 15 seconds worst",
    "start": "1400400",
    "end": "1407840"
  },
  {
    "text": "case to get assigned to a captain that was a big one so let's look at whatever",
    "start": "1407840",
    "end": "1417920"
  },
  {
    "text": "stack was we are predominately Java company we use Springwood as a lot of framer because the ecosystem is pretty",
    "start": "1417920",
    "end": "1424790"
  },
  {
    "text": "rich and we deploy a majority for applications as elastic Beanstalk applications that so let's dig in into",
    "start": "1424790",
    "end": "1433970"
  },
  {
    "text": "some of how rad is what Redis offers internal so rare this how comes in three",
    "start": "1433970",
    "end": "1439160"
  },
  {
    "text": "major flavors standalone you just set up your own single send cluster and read it",
    "start": "1439160",
    "end": "1444380"
  },
  {
    "text": "as both for reads and writes climby replicas so it has it works the",
    "start": "1444380",
    "end": "1450110"
  },
  {
    "text": "same way database replication works today you have a primary node and then you have replica nodes that it's not",
    "start": "1450110",
    "end": "1455720"
  },
  {
    "text": "applique ting or of the best thing is that since this application is also built in memory it's quite fast",
    "start": "1455720",
    "end": "1461160"
  },
  {
    "text": "and in our time we have never experienced a lag or whatever lag we have noticed was in milliseconds so you",
    "start": "1461160",
    "end": "1468060"
  },
  {
    "text": "can discard that you like so it was pretty fast and you can scale out REITs",
    "start": "1468060",
    "end": "1473490"
  },
  {
    "text": "pretty quickly as well cluster readies now this is the only data source that I know of that offers",
    "start": "1473490",
    "end": "1479520"
  },
  {
    "text": "sharding out of the box and where you can shard with you know it does not",
    "start": "1479520",
    "end": "1485730"
  },
  {
    "text": "require your applications to know how your data is charted so it's application agnostic so that it offers a lot more",
    "start": "1485730",
    "end": "1492630"
  },
  {
    "text": "flexibility and a lot more advantage whether data sources so when you know",
    "start": "1492630",
    "end": "1501240"
  },
  {
    "text": "that's when you're setting this up a few things that you need we should always care take care of have multiple replicas",
    "start": "1501240",
    "end": "1508230"
  },
  {
    "text": "in your cluster in standalone mode works well for a lot of for some basic use",
    "start": "1508230",
    "end": "1513810"
  },
  {
    "text": "cases but for enterprise or a consumer application always go for the minimum as a primary priming and replica",
    "start": "1513810",
    "end": "1521490"
  },
  {
    "text": "configuration when you have multiple slaves in your cluster always configure a backup from your replica because if",
    "start": "1521490",
    "end": "1528660"
  },
  {
    "text": "you configure backups from your master it will take when the backup starts it will take down your master node for a",
    "start": "1528660",
    "end": "1534930"
  },
  {
    "text": "few minutes it will you know load all the data that's in memory and start backing it up and your node will",
    "start": "1534930",
    "end": "1541830"
  },
  {
    "text": "become unavailable for 2-3 minutes and if you are a constantly serving business",
    "start": "1541830",
    "end": "1547800"
  },
  {
    "text": "that may mean a downtime for some of your better critical processes if you're",
    "start": "1547800",
    "end": "1554130"
  },
  {
    "text": "using AWS elastic caching never connect directly to the master node always use",
    "start": "1554130",
    "end": "1559440"
  },
  {
    "text": "the endpoints that they have available because if you lower happens your",
    "start": "1559440",
    "end": "1565110"
  },
  {
    "text": "application would not need to be you know need to do not need to do anything it will happen behind the scenes and",
    "start": "1565110",
    "end": "1570930"
  },
  {
    "text": "things will still keep working but if you're working where if you're connecting directly to the master node",
    "start": "1570930",
    "end": "1577230"
  },
  {
    "text": "and writing directly the master node connecting to it and then if the failover happens then you might start",
    "start": "1577230",
    "end": "1584370"
  },
  {
    "text": "seeing that we are unable to write to a read-only replica set aside 30 percent",
    "start": "1584370",
    "end": "1590430"
  },
  {
    "text": "of your memory for a lot of Radice operations if you start when you know when you",
    "start": "1590430",
    "end": "1596360"
  },
  {
    "text": "start to take it back up it will take four take more time when it's going into recovery mode it will take more time and",
    "start": "1596360",
    "end": "1601880"
  },
  {
    "text": "eventually cause you down times as well",
    "start": "1601880",
    "end": "1606400"
  },
  {
    "text": "so scaling so with Redis in a single point of if you use single node it's a",
    "start": "1611620",
    "end": "1618410"
  },
  {
    "text": "single point of failure and you will never be able to scale out always remember that it's a single threaded",
    "start": "1618410",
    "end": "1623960"
  },
  {
    "text": "application so no matter how many cores your server has doesn't matter it's",
    "start": "1623960",
    "end": "1629330"
  },
  {
    "text": "single threaded it will knock max use one code so to read out to read scale up",
    "start": "1629330",
    "end": "1634910"
  },
  {
    "text": "we then the combination is you read from the slaves and write to the master",
    "start": "1634910",
    "end": "1641320"
  },
  {
    "text": "because the optical AG is non-existent it's virtually non-existent so you can",
    "start": "1641320",
    "end": "1646400"
  },
  {
    "text": "use that to your advantage and scale out your reads pretty much so what we did was we wrote our own library what it",
    "start": "1646400",
    "end": "1653270"
  },
  {
    "text": "does is configures out all the read and points or read notes in the slave and",
    "start": "1653270",
    "end": "1660910"
  },
  {
    "text": "connects our instances to you know divides the full application across all",
    "start": "1660910",
    "end": "1667280"
  },
  {
    "text": "the nodes so we use all the nodes the same amount of times so let's say our",
    "start": "1667280",
    "end": "1672800"
  },
  {
    "text": "instance or our application has 12 instances running in an elastic mean strong application and we have a Redis",
    "start": "1672800",
    "end": "1678590"
  },
  {
    "text": "cluster with four replicas so at max each cluster each replica will be",
    "start": "1678590",
    "end": "1684590"
  },
  {
    "text": "serving three instances at max so that scales out your read pretty much pretty",
    "start": "1684590",
    "end": "1690200"
  },
  {
    "text": "evenly and pretty well one thing that we learned over time in the hard way was",
    "start": "1690200",
    "end": "1695350"
  },
  {
    "text": "getting the most out of any Redis configuration or any hosting is choosing the right library we started with",
    "start": "1695350",
    "end": "1702260"
  },
  {
    "text": "jealous it was most basic library out there but it did not serve a more of a advanced to use cases choose the right",
    "start": "1702260",
    "end": "1711170"
  },
  {
    "text": "clients I mean that's pretty important so now we have still growing we we are",
    "start": "1711170",
    "end": "1718490"
  },
  {
    "text": "growing like crazy so we still need for the scaling so now we want we are",
    "start": "1718490",
    "end": "1724910"
  },
  {
    "text": "working on a few products that require us to ping more frequently now previously when a",
    "start": "1724910",
    "end": "1730280"
  },
  {
    "text": "caste captain started a right that captain's location we you know you",
    "start": "1730280",
    "end": "1735860"
  },
  {
    "text": "didn't need that data as fast as we needed when the captain was not in right because we don't when a captain is",
    "start": "1735860",
    "end": "1743150"
  },
  {
    "text": "assigned to a right it's basically I'm dispatchable for us you know unless and until that right finishes or the captain",
    "start": "1743150",
    "end": "1748190"
  },
  {
    "text": "is available back to it but we're working on a few products like pooling where the same captain can be masked too",
    "start": "1748190",
    "end": "1755210"
  },
  {
    "text": "and they're working as well but that means that even in right the number of the frequency of things will not go down",
    "start": "1755210",
    "end": "1761000"
  },
  {
    "text": "that means we'll be processing far more things even though maybe we serving",
    "start": "1761000",
    "end": "1766190"
  },
  {
    "text": "eighty-six percent of requests we're serving you know processing far more pings than usual plus the business",
    "start": "1766190",
    "end": "1773360"
  },
  {
    "text": "wanted to go to a very mini my new level of ping every five seconds that's big",
    "start": "1773360",
    "end": "1779060"
  },
  {
    "text": "ask because that suddenly increases the problems faced by 3x just by going to",
    "start": "1779060",
    "end": "1784820"
  },
  {
    "text": "five seconds because the reasoning behind was still that the gains that we",
    "start": "1784820",
    "end": "1789890"
  },
  {
    "text": "saw by going to fifteen seconds if you go to five seconds and use the last six or seven things when snap to grid and",
    "start": "1789890",
    "end": "1796160"
  },
  {
    "text": "the factors we will get a far a highly accurate location plus then maybe we can avoid using GPS and use something which",
    "start": "1796160",
    "end": "1803570"
  },
  {
    "text": "Android has called fuse locations which has a higher chance of noise but still works and worst conditions as well so",
    "start": "1803570",
    "end": "1810980"
  },
  {
    "text": "that's what we want to do now but other side we had far more capitals on the road itself more captain's reading",
    "start": "1810980",
    "end": "1818170"
  },
  {
    "text": "captain's data for tracking other purposes the business wanted the same",
    "start": "1818170",
    "end": "1823700"
  },
  {
    "text": "demand by performance in terms of promise TTS the Delta between ETA s time",
    "start": "1823700",
    "end": "1828770"
  },
  {
    "text": "two matches etc but as a technical side you wanted to ensure that all the rights",
    "start": "1828770",
    "end": "1833930"
  },
  {
    "text": "and reads a more balanced and we are using the we are getting the max out of the provisioning cost that we are",
    "start": "1833930",
    "end": "1839840"
  },
  {
    "text": "spending just a few numbers to see out",
    "start": "1839840",
    "end": "1845630"
  },
  {
    "text": "where we are now it is sitting is fifteen million customers half a million",
    "start": "1845630",
    "end": "1851180"
  },
  {
    "text": "captains these are active captain's actually the number of captain's maybe four are longer but these are active captain's on the network on the peak",
    "start": "1851180",
    "end": "1858440"
  },
  {
    "text": "time so we have 15 min it occurs because a lot of people now compare",
    "start": "1858440",
    "end": "1864940"
  },
  {
    "text": "businesses okay the competition is organized a captain military now you have a captain three",
    "start": "1864940",
    "end": "1872000"
  },
  {
    "text": "minutes away so you will see a lot more ETA requests a lot more things because",
    "start": "1872000",
    "end": "1878450"
  },
  {
    "text": "we are going to traitor very frequent things and a lot more low caps because",
    "start": "1878450",
    "end": "1884300"
  },
  {
    "text": "of the growth in business now we we did",
    "start": "1884300",
    "end": "1890780"
  },
  {
    "text": "a few problems problem solutions out there we looked at a few things",
    "start": "1890780",
    "end": "1897550"
  },
  {
    "text": "the primary sharding that we had we were separating me a dedicated few clusters for some big growth countries they",
    "start": "1897550",
    "end": "1905390"
  },
  {
    "text": "became a problem in themselves because they became so big that even at the country level they were not really",
    "start": "1905390",
    "end": "1911870"
  },
  {
    "text": "enough or not small enough for problem to solve for plus we were going in more",
    "start": "1911870",
    "end": "1916880"
  },
  {
    "text": "and more cities so maybe a country like Pakistan we have we have 16 cities we'll",
    "start": "1916880",
    "end": "1921890"
  },
  {
    "text": "have a lot more sorted or chew hash indexes versus a country like bearing in",
    "start": "1921890",
    "end": "1928130"
  },
  {
    "text": "which has just one city being served the problem was getting compounded with more",
    "start": "1928130",
    "end": "1933230"
  },
  {
    "text": "cities that we go in so we start looking at we just identified charting is the",
    "start": "1933230",
    "end": "1940250"
  },
  {
    "text": "way to go so how best should be shot should we go to a city level and have",
    "start": "1940250",
    "end": "1945680"
  },
  {
    "text": "single radish clusters ani city or zone level that work that would work out of",
    "start": "1945680",
    "end": "1950750"
  },
  {
    "text": "the box because we already had a platform that was working we just need to change configurations but the downside would have been that the",
    "start": "1950750",
    "end": "1957080"
  },
  {
    "text": "provisioning and management of those clusters will become a pain because 80 clusters 80 cities big cities like",
    "start": "1957080",
    "end": "1964490"
  },
  {
    "text": "Karachi Cairo there are multiple clusters in the city it will become a",
    "start": "1964490",
    "end": "1970150"
  },
  {
    "text": "provisioning and management nightmare over time so Redis with 3.0 PT has a",
    "start": "1970150",
    "end": "1977240"
  },
  {
    "text": "clustering mode",
    "start": "1977240",
    "end": "1979870"
  },
  {
    "text": "so a clustering mode is basically multiple primaries in one big cluster and you can char data across it so it",
    "start": "1984480",
    "end": "1993190"
  },
  {
    "text": "has slots has slots 19 $15.99 or 16 132 and it distributes you can distribute",
    "start": "1993190",
    "end": "1999399"
  },
  {
    "text": "them equally across different short different charts or you can set hey this chart and this number of slots is for",
    "start": "1999399",
    "end": "2005940"
  },
  {
    "text": "this shot this slots is this shot and depending on needs so it uses a CR CL",
    "start": "2005940",
    "end": "2012720"
  },
  {
    "text": "going them to convert your key into a hash slot and then sends it to the right",
    "start": "2012720",
    "end": "2017840"
  },
  {
    "text": "shot or timely now each family can have a lot of its own set of replicas and we",
    "start": "2017840",
    "end": "2025559"
  },
  {
    "text": "can have a lot of number of shots and plus the back biggest advantage it's still application agnostic so you don't",
    "start": "2025559",
    "end": "2031649"
  },
  {
    "text": "need to really change your application code per se and to take advantage of this that was a big man when you were",
    "start": "2031649",
    "end": "2038129"
  },
  {
    "text": "considering this so we went with this but when we started using it we ran into",
    "start": "2038129",
    "end": "2045360"
  },
  {
    "text": "a few performance issues as well because if you aren't using a shot and if you don't know so when you're looking up at",
    "start": "2045360",
    "end": "2051179"
  },
  {
    "text": "data for captain it will ask for all the shards in a cluster that do you have",
    "start": "2051179",
    "end": "2056608"
  },
  {
    "text": "this data or not now you can avoid that by using hash tags so what a hash tag",
    "start": "2056609",
    "end": "2063118"
  },
  {
    "text": "does is the text between the key it only translates this part into a CRC rather",
    "start": "2063119",
    "end": "2069240"
  },
  {
    "text": "than the full key so then basically you can use this technique to co-host a lot",
    "start": "2069240",
    "end": "2074429"
  },
  {
    "text": "of data that you require to be read together or has a very close association with each other it will offer you a lot",
    "start": "2074429",
    "end": "2082950"
  },
  {
    "text": "of advantages over performance in some cases because yeah so this is how our",
    "start": "2082950",
    "end": "2090240"
  },
  {
    "text": "solution looks like still the same things coming into a cue worker processing it but now instead of",
    "start": "2090240",
    "end": "2095970"
  },
  {
    "text": "a single clusters it's going into different sharded clusters Wow that's",
    "start": "2095970",
    "end": "2101640"
  },
  {
    "text": "how we were able to scale out different cost countries even if they were you know even if you added more and more",
    "start": "2101640",
    "end": "2107579"
  },
  {
    "text": "cities to the mix if he added more cities it's just adding more primary or more shots to that cluster to you know",
    "start": "2107579",
    "end": "2113760"
  },
  {
    "text": "have a scale of ASA so performance I'm inconsistent that was",
    "start": "2113760",
    "end": "2122100"
  },
  {
    "text": "the biggest advantage with minimalism violin with spending minimum amount of effort you were able to keep the same",
    "start": "2122100",
    "end": "2127470"
  },
  {
    "text": "performance that we were able to drive from the previous solution now so that",
    "start": "2127470",
    "end": "2135420"
  },
  {
    "text": "is it any questions [Applause]",
    "start": "2135420",
    "end": "2142949"
  }
]