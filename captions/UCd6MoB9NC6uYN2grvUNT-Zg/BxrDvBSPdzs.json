[
  {
    "text": "welcome everybody uh to reinvent uh welcome to las vegas this is actually my first time here uh i feel a little bit",
    "start": "1360",
    "end": "8639"
  },
  {
    "text": "like a fish out of water having grown up in seattle this is really dry so excuse",
    "start": "8639",
    "end": "13759"
  },
  {
    "text": "me if i you know have a dry throat or sound a little funny",
    "start": "13759",
    "end": "19119"
  },
  {
    "text": "my name is trevor rowe i work for amazon web services i'm on the tools and sdks",
    "start": "19119",
    "end": "24640"
  },
  {
    "text": "team i spend a lot of my time maintaining the aws sdk for ruby which some of you may",
    "start": "24640",
    "end": "31119"
  },
  {
    "text": "or may not have used and then i also well there's other things that i work on",
    "start": "31119",
    "end": "36239"
  },
  {
    "text": "there too but this is one of the projects i really enjoy the",
    "start": "36239",
    "end": "42559"
  },
  {
    "text": "working at amazon i came to amazon about two years ago it's been a lot of fun i've enjoyed my time there it's",
    "start": "42559",
    "end": "48800"
  },
  {
    "text": "challenging i took the job because i enjoyed ruby i enjoyed working with aws",
    "start": "48800",
    "end": "53920"
  },
  {
    "text": "and i felt i was a good fit i also feel like i'm uniquely qualified running a open source project is kind of",
    "start": "53920",
    "end": "61440"
  },
  {
    "text": "it's a lot of managing chaos and i'm actually well i say i'm uniquely qualified",
    "start": "61440",
    "end": "68080"
  },
  {
    "text": "because i'm the father of five so these are my kids the youngest is actually two weeks old",
    "start": "68080",
    "end": "74159"
  },
  {
    "text": "so and i'm really proud of them so they they all say hi",
    "start": "74159",
    "end": "80240"
  },
  {
    "text": "so let's go back to the presentation here oh",
    "start": "80240",
    "end": "86400"
  },
  {
    "text": "there's a little bit of lag okay so actually this was the picture i had included in my slides initially and uh",
    "start": "86400",
    "end": "93920"
  },
  {
    "text": "so obviously i've got an updated picture so the aws sdk gem it's available on",
    "start": "93920",
    "end": "99280"
  },
  {
    "text": "rubygems it's also available on github it's an open source project you're welcome to download it fork it",
    "start": "99280",
    "end": "105600"
  },
  {
    "text": "make any changes you want to it we gladly accept contributions pull requests at github",
    "start": "105600",
    "end": "112720"
  },
  {
    "text": "it's been out for a little over a year came out of june of 2011. at launch we did not support very many",
    "start": "112720",
    "end": "119439"
  },
  {
    "text": "services being a new sdk we're trying to uh just get our feet wet whoa goodness",
    "start": "119439",
    "end": "125200"
  },
  {
    "text": "that really just jumped ahead so initially it supported five different services you can see there what services",
    "start": "125200",
    "end": "131360"
  },
  {
    "text": "it supported then is not really important we now support quite a few more and even those listed under public",
    "start": "131360",
    "end": "138000"
  },
  {
    "text": "preview only amazon glacier is not released today so we're quick quickly",
    "start": "138000",
    "end": "143040"
  },
  {
    "text": "including uh additional support to the aws sdk",
    "start": "143040",
    "end": "149040"
  },
  {
    "text": "this little clicker kind of is lagging a bit so there you go that's right so oh my goodness",
    "start": "149680",
    "end": "157920"
  },
  {
    "text": "do you have another clicker this one is this is really frizzy okay well i'm just gonna have to make do so the aws sdk for",
    "start": "157920",
    "end": "164720"
  },
  {
    "text": "ruby is actually divided logically into two parts it has a low level client",
    "start": "164720",
    "end": "170319"
  },
  {
    "text": "interface i'm going to say low level but that's the that's the interface that maps directly to the service apis so for",
    "start": "170319",
    "end": "177120"
  },
  {
    "text": "every operation that ec2 provides there's one method on the client and then there is a higher level abstraction",
    "start": "177120",
    "end": "183680"
  },
  {
    "text": "it's a little thicker that provides a more ruby-esque experience when using it",
    "start": "183680",
    "end": "189280"
  },
  {
    "text": "so over here are the api docks i'm just going to show you down the side are all the services that it supports you you",
    "start": "189280",
    "end": "195760"
  },
  {
    "text": "can open up one of these and take a look this is the client class for ec2 and as",
    "start": "195760",
    "end": "200959"
  },
  {
    "text": "i mentioned there's a lot of operations there so if i wanted to see run instances",
    "start": "200959",
    "end": "206640"
  },
  {
    "text": "you can see this is the input documentation for that operation and this is what you get back",
    "start": "206640",
    "end": "212400"
  },
  {
    "text": "this is a this is great though because uh what using this sdk does is makes it really simple it's hash in hash out so",
    "start": "212400",
    "end": "219840"
  },
  {
    "text": "if i want to call run instances you pass in a hash of parameters and this documents you know placement",
    "start": "219840",
    "end": "226000"
  },
  {
    "text": "option is a hash with these keys and each of their types it lets you know what's required it gives you other type",
    "start": "226000",
    "end": "231680"
  },
  {
    "text": "information and then it tells you on the response object that you get back what the structure of that is and it gives",
    "start": "231680",
    "end": "236959"
  },
  {
    "text": "you nested types and whatnot on top of this foundational client class",
    "start": "236959",
    "end": "242640"
  },
  {
    "text": "each service has a number of higher level abstractions these abstractions map to resources in aws that you own so",
    "start": "242640",
    "end": "249680"
  },
  {
    "text": "in ec2 this might be instances which are collections of single instance objects",
    "start": "249680",
    "end": "255439"
  },
  {
    "text": "inside of s3 you can imagine the resources are buckets and objects uh versioned objects etc and these classes",
    "start": "255439",
    "end": "263040"
  },
  {
    "text": "provide a more fluent interface to the client but under the covers it's",
    "start": "263040",
    "end": "268320"
  },
  {
    "text": "just making client calls so let's drop into a terminal i have a little wrapper script is that a",
    "start": "268320",
    "end": "274320"
  },
  {
    "text": "decent enough size can you guys all see that okay so what this is this is just a wrap",
    "start": "274320",
    "end": "279759"
  },
  {
    "text": "around irb what it's done for me is loaded the aws sdk gem and then it has configured my",
    "start": "279759",
    "end": "286080"
  },
  {
    "text": "credentials so i'm not going to do that now to blow",
    "start": "286080",
    "end": "291199"
  },
  {
    "text": "away what it loaded from the environment for me but there's also a secret access key so if you were using it",
    "start": "291199",
    "end": "297600"
  },
  {
    "text": "you might do something like that once you've loaded your credentials and oh by the way i would highly recommend",
    "start": "297600",
    "end": "304080"
  },
  {
    "text": "anytime you build an app with aws please don't hard code your your security credentials in the in the application",
    "start": "304080",
    "end": "311680"
  },
  {
    "text": "load them from the environment if you're deploying your app to ec2 use the roles for instances",
    "start": "311680",
    "end": "318479"
  },
  {
    "text": "this is a security feature where you can have your credentials deployed to the role or to the instances in that role",
    "start": "318479",
    "end": "324639"
  },
  {
    "text": "and then the sdk will actually grab them from that metadata service for you so it's hands-off configuration so but",
    "start": "324639",
    "end": "331919"
  },
  {
    "text": "whenever possible don't ever put your credentials with your code so load them from a file whatever you need to do so",
    "start": "331919",
    "end": "338400"
  },
  {
    "text": "i've got my credentials in and i've also set up some logging so you can see what happens here but so let's start with s3",
    "start": "338400",
    "end": "345360"
  },
  {
    "text": "so this creates a new high level s3 object inside of that object there is a client",
    "start": "345360",
    "end": "353600"
  },
  {
    "text": "and the client has a number of operations",
    "start": "353600",
    "end": "359680"
  },
  {
    "text": "uh so these are the api calls you know put bucket get object head object delete",
    "start": "359680",
    "end": "364800"
  },
  {
    "text": "object all the different api operations are there so if i wanted to",
    "start": "364800",
    "end": "370319"
  },
  {
    "text": "call one of them it's simple as head object i have a bucket already here for this",
    "start": "370319",
    "end": "375360"
  },
  {
    "text": "demo and then the key that i want to head",
    "start": "375360",
    "end": "380880"
  },
  {
    "text": "head just gets me information about an object is hello.txt",
    "start": "380880",
    "end": "386360"
  },
  {
    "text": "and i'm just going to kind of pull this up so as you can see it returned a hash like object i say hash like because you",
    "start": "386720",
    "end": "393680"
  },
  {
    "text": "can access additional properties on this so besides doing things like version id",
    "start": "393680",
    "end": "400800"
  },
  {
    "text": "you can also do things like r dot http response",
    "start": "400800",
    "end": "407560"
  },
  {
    "text": "and there's the information from the raw http response so this is the client uh this is this is bare metal you can use",
    "start": "408000",
    "end": "415360"
  },
  {
    "text": "this if you want to get many objects out of s3 you have to you have to know how to paginate the api calls it doesn't do",
    "start": "415360",
    "end": "422319"
  },
  {
    "text": "anything fancy for you besides serialize and parse the responses but sometimes you need this so",
    "start": "422319",
    "end": "429520"
  },
  {
    "text": "you know don't disregard it why would you why would you need this well maybe the higher level abstraction",
    "start": "429520",
    "end": "435680"
  },
  {
    "text": "doesn't quite provide you the access that you need it doesn't do you know whatever",
    "start": "435680",
    "end": "441280"
  },
  {
    "text": "uh the higher level abstraction so i mentioned that you had a a more fluent interface",
    "start": "441280",
    "end": "447840"
  },
  {
    "text": "generally you get a collection by naming that collection so here's a buckets and if i can even name a bucket",
    "start": "447840",
    "end": "456720"
  },
  {
    "text": "so this is a versioned bucket in s3 notice there are no requests going down the wire i should say there are no",
    "start": "456800",
    "end": "462800"
  },
  {
    "text": "requests being sent in the background i can even reference an object in that",
    "start": "462800",
    "end": "468960"
  },
  {
    "text": "this is the object that i uh made a head call against previously and then on that",
    "start": "469039",
    "end": "474960"
  },
  {
    "text": "i can actually call head and then boom you can see that right here",
    "start": "474960",
    "end": "480720"
  },
  {
    "text": "it called head object so you can do other interesting things does anybody here in the audience know",
    "start": "480720",
    "end": "486319"
  },
  {
    "text": "how you would get the number of objects in a bucket",
    "start": "486319",
    "end": "491360"
  },
  {
    "text": "anybody like count the number of objects in a bucket well the short answer is s3",
    "start": "491360",
    "end": "496479"
  },
  {
    "text": "doesn't have an api call that that does it for you you need to know that well you have to list objects in batches of a",
    "start": "496479",
    "end": "502400"
  },
  {
    "text": "thousand over and over until you quit getting any back and then you just count the number of keys in each object so",
    "start": "502400",
    "end": "509440"
  },
  {
    "text": "let's do that so we'll go s3 dot bucket sub aws sdk and i'm going to do objects.count",
    "start": "509440",
    "end": "517719"
  },
  {
    "text": "so you can see here the higher level sdk is doing exactly what i would have needed to do but it knows how to",
    "start": "518800",
    "end": "525440"
  },
  {
    "text": "kind of intelligently do this this has been really helpful s3 recently added batch delete",
    "start": "525440",
    "end": "530959"
  },
  {
    "text": "uh and so there is a bucket dot i'm not going to call this bucket.deletebang this will",
    "start": "530959",
    "end": "537120"
  },
  {
    "text": "delete everything including the bucket okay notice the destructive bang method",
    "start": "537120",
    "end": "542399"
  },
  {
    "text": "but it knows how to list object versions a thousand at a time delete them a thousand at a time very efficiently and",
    "start": "542399",
    "end": "549519"
  },
  {
    "text": "when that delete batch was added we were able to silently just kind of put it in undercover and instead of deleting 3 400",
    "start": "549519",
    "end": "556080"
  },
  {
    "text": "objects one at a time now became three or four calls so that's the power of the high level",
    "start": "556080",
    "end": "562240"
  },
  {
    "text": "interface here um same thing with like ec2",
    "start": "562240",
    "end": "568880"
  },
  {
    "text": "ec2.client operations okay and with ec2 i can do",
    "start": "570680",
    "end": "575760"
  },
  {
    "text": "ec2.instances.map id",
    "start": "575760",
    "end": "581040"
  },
  {
    "text": "so i'm going to collect all of the ids of my running ec2 instances so and the same thing you're going to",
    "start": "581040",
    "end": "587120"
  },
  {
    "text": "notice there's a lot of patterns here the",
    "start": "587120",
    "end": "592160"
  },
  {
    "text": "get the status of that running instance it says i'm running so you're great so that's the kind of the the quick dive",
    "start": "593440",
    "end": "599600"
  },
  {
    "text": "now that's pretty interesting you kind of get you've gotten your feet",
    "start": "599600",
    "end": "605040"
  },
  {
    "text": "wet and you you see a little bit what the sdk works like but that's not nearly as interesting as building an",
    "start": "605040",
    "end": "611200"
  },
  {
    "text": "application so today we're going to do that we're going to build an application live i don't know if you're familiar with rails cast with ryan bates he kind",
    "start": "611200",
    "end": "618079"
  },
  {
    "text": "of his his formula is he talks about what he wants to do and then he does a 20-minute build a demo app well we're",
    "start": "618079",
    "end": "624640"
  },
  {
    "text": "going to do that live uh ryan bait style we're going to go ahead and use rails and scaffolding",
    "start": "624640",
    "end": "631120"
  },
  {
    "text": "so i spent a little time deciding what was the application i wanted something that used the aws sdk gem i wanted to",
    "start": "631120",
    "end": "637600"
  },
  {
    "text": "leverage at least three services uh and so you know since i like them so much i",
    "start": "637600",
    "end": "642959"
  },
  {
    "text": "figured you would to decide we'd build a meme generator site so",
    "start": "642959",
    "end": "648959"
  },
  {
    "text": "it's uh it's you know your standard image macro you have a an",
    "start": "649360",
    "end": "654560"
  },
  {
    "text": "image that you compose a top and or a bottom caption with and you you apply it",
    "start": "654560",
    "end": "659600"
  },
  {
    "text": "together i figured we could use uh well the services i came up with figured we'd",
    "start": "659600",
    "end": "664959"
  },
  {
    "text": "use dynamodb for our record storage we'd track all the uploaded or created memes there or the image macros then we would",
    "start": "664959",
    "end": "672880"
  },
  {
    "text": "store the the creations in s3 and then any successful site you need to",
    "start": "672880",
    "end": "678320"
  },
  {
    "text": "be able to share these creations with your friends and loved ones and enemies so we're going to use ses to share these",
    "start": "678320",
    "end": "684079"
  },
  {
    "text": "creations so um starting off with the technologies uh",
    "start": "684079",
    "end": "689760"
  },
  {
    "text": "you we're gonna use dynamodb but since we're building a rails application we want something that kind of plays",
    "start": "689760",
    "end": "696000"
  },
  {
    "text": "nicely with rails so dynamodb in the aws sdk jam is very much like the other services",
    "start": "696000",
    "end": "702399"
  },
  {
    "text": "there's a client it has operations like scan query put item delete item",
    "start": "702399",
    "end": "707600"
  },
  {
    "text": "describe tables it also has a thicker abstraction that allows you to do table.items create and",
    "start": "707600",
    "end": "713680"
  },
  {
    "text": "you just pass it a ruby hash and it serializes it and sends it down the wire it also has a third level which is why",
    "start": "713680",
    "end": "720000"
  },
  {
    "text": "i'm going to highlight it here called aws record it's very much like active record but it's built on top of a schema",
    "start": "720000",
    "end": "726800"
  },
  {
    "text": "list database it's a nosql database so with that introduction",
    "start": "726800",
    "end": "732320"
  },
  {
    "text": "uh actually let's let's go ahead and we're going to drop into the console and we're going to get started",
    "start": "732320",
    "end": "737760"
  },
  {
    "text": "so exit out of here",
    "start": "737760",
    "end": "743040"
  },
  {
    "text": "um i'm really creative with names so here you go",
    "start": "743040",
    "end": "750480"
  },
  {
    "text": "a little little humor for people who've been using rails for a long time",
    "start": "751360",
    "end": "758040"
  },
  {
    "text": "once this is done the first thing that i'm going to go ahead and do is modify my my gem file so the bundler can manage",
    "start": "760000",
    "end": "765839"
  },
  {
    "text": "my dependencies the first thing we need is the aws sdk",
    "start": "765839",
    "end": "772959"
  },
  {
    "text": "gem now i'm going to recommend expressing a fuzzy version dependency on",
    "start": "772959",
    "end": "778399"
  },
  {
    "text": "1.0 our plan is to not make backwards incompatible changes within the 1.0",
    "start": "778399",
    "end": "785600"
  },
  {
    "text": "major branch so right now the sdk is at 1.7 using the fuzzy tilde version you",
    "start": "785600",
    "end": "791440"
  },
  {
    "text": "will get 1.7 anything one point x you would get so that's my recommendation if",
    "start": "791440",
    "end": "797040"
  },
  {
    "text": "we release a 2.0 there's probably breaking changes and we're going to try really hard not to do",
    "start": "797040",
    "end": "802639"
  },
  {
    "text": "that so after that there is a meme gen",
    "start": "802639",
    "end": "808079"
  },
  {
    "text": "plug-in now this one has a funny require its meme generator does not match the name of its of its gem",
    "start": "808079",
    "end": "815760"
  },
  {
    "text": "and then bundle install i already have these on my box so it shouldn't go real fast",
    "start": "815760",
    "end": "822480"
  },
  {
    "text": "excuse me as i mentioned we're going to use scaffolding just to save on time",
    "start": "822480",
    "end": "829839"
  },
  {
    "text": "let's make an image macro class for the of our creations and uh and i'm i this this is kind of a fun",
    "start": "830560",
    "end": "837680"
  },
  {
    "text": "thing i'm going to use rails scaffolding to build the controllers the views even the model and i'm going to make just a",
    "start": "837680",
    "end": "843600"
  },
  {
    "text": "few tweaks to show how compatible aws record is with active record so we need",
    "start": "843600",
    "end": "849040"
  },
  {
    "text": "a top a meme which we'll just track that's the the base image and we need a top caption",
    "start": "849040",
    "end": "856959"
  },
  {
    "text": "also a string and a bottom caption",
    "start": "856959",
    "end": "861240"
  },
  {
    "text": "so there's our created model as i mentioned dynamodb is a schema-less",
    "start": "872240",
    "end": "877519"
  },
  {
    "text": "no sql database essentially and so",
    "start": "877519",
    "end": "882560"
  },
  {
    "text": "active record it deals with uh your relational database by describing the",
    "start": "882560",
    "end": "887600"
  },
  {
    "text": "table to see what columns exist well there's there's no such concept in in dynamodb so to work around this",
    "start": "887600",
    "end": "894880"
  },
  {
    "text": "you it's a declarative so you you would specify your top caption",
    "start": "894880",
    "end": "901360"
  },
  {
    "text": "your bottom caption and your meme",
    "start": "901600",
    "end": "906079"
  },
  {
    "text": "oh thank you i may not actually need this much now because i'm in my demo so",
    "start": "908240",
    "end": "914480"
  },
  {
    "text": "we're good um so now we've got our declarative things there are other types there are boolean",
    "start": "914480",
    "end": "920320"
  },
  {
    "text": "attributes integer attributes float attributes and what those are going to do is they're going to serialize them",
    "start": "920320",
    "end": "925440"
  },
  {
    "text": "intelligently into dynamo if dynamo doesn't have a native type for what you want to store it comes up with a you",
    "start": "925440",
    "end": "931519"
  },
  {
    "text": "know a useful you know for example boolean it stores it as a one or a zero so very",
    "start": "931519",
    "end": "936880"
  },
  {
    "text": "much like activerecord at this point uh let's open up our views",
    "start": "936880",
    "end": "943199"
  },
  {
    "text": "um oh thank you i i'll get back to that but",
    "start": "943199",
    "end": "948880"
  },
  {
    "text": "uh you're right i need to change that to aws record and i want to change this to a select",
    "start": "948880",
    "end": "956399"
  },
  {
    "text": "so the meme gen plug-in",
    "start": "957519",
    "end": "961360"
  },
  {
    "text": "gives me a list of the available memes to use as a source",
    "start": "963199",
    "end": "968920"
  },
  {
    "text": "thank you for that now aws record has multiple back ends before",
    "start": "970800",
    "end": "978720"
  },
  {
    "text": "dynamodb existed aws record only supported simpledb so this this works",
    "start": "978720",
    "end": "984480"
  },
  {
    "text": "with simpledb however i'm going to use the hash or hash model",
    "start": "984480",
    "end": "991199"
  },
  {
    "text": "so there's database record model and aws record hash model model is the the",
    "start": "991199",
    "end": "996800"
  },
  {
    "text": "legacy one that works on top of dynam or simpledb hash model works off top of",
    "start": "996800",
    "end": "1003199"
  },
  {
    "text": "dynamo i think i said that right so um so",
    "start": "1003199",
    "end": "1008800"
  },
  {
    "text": "yeah so app controllers image macros i'm not going to touch anything here so the",
    "start": "1008800",
    "end": "1014320"
  },
  {
    "text": "finders basically work the same way you can find by id you can uh",
    "start": "1014320",
    "end": "1019519"
  },
  {
    "text": "dot all things you can dot each there you know a number of different finders",
    "start": "1019519",
    "end": "1025839"
  },
  {
    "text": "interestingly you'll notice here i can if i open up app views image macros form",
    "start": "1026640",
    "end": "1034640"
  },
  {
    "text": "it says if image macros errors dot any so it also adheres to the same",
    "start": "1035600",
    "end": "1040798"
  },
  {
    "text": "errors interface validators we'll we'll play with that in a minute so i'm actually going to prepare to run this by",
    "start": "1040799",
    "end": "1046959"
  },
  {
    "text": "removing the public static index file and then editing the routes file",
    "start": "1046959",
    "end": "1054720"
  },
  {
    "text": "image macros index",
    "start": "1056640",
    "end": "1062640"
  },
  {
    "text": "and then just oh one other thing",
    "start": "1063039",
    "end": "1067840"
  },
  {
    "text": "you gotta do your migrations so this is where one of the notable differences are uh you don't create the table uh with",
    "start": "1068400",
    "end": "1075120"
  },
  {
    "text": "columns but you do need to create the table so it's image macro dot create table",
    "start": "1075120",
    "end": "1082320"
  },
  {
    "text": "and then you have to specify what your provisioned throughput is 10 and 5 puts you within the free tier",
    "start": "1082320",
    "end": "1088240"
  },
  {
    "text": "so you can play around with this but you can at any time you can take your image macro dynamodb table and you",
    "start": "1088240",
    "end": "1095280"
  },
  {
    "text": "can increase the provision throughput of it so you can get better performance that's you can think of this as kind of",
    "start": "1095280",
    "end": "1101360"
  },
  {
    "text": "read units per second and right units per second is what the 10 and 5 are",
    "start": "1101360",
    "end": "1106640"
  },
  {
    "text": "so now i'm actually going to rescue neil i creating a table can take a minute or",
    "start": "1106640",
    "end": "1113600"
  },
  {
    "text": "two and i didn't want to slow down the presentation",
    "start": "1113600",
    "end": "1117520"
  },
  {
    "text": "what's that uh it doesn't really matter active",
    "start": "1118799",
    "end": "1124320"
  },
  {
    "text": "record migration just gives me the change up and down so i don't have to touch that um",
    "start": "1124320",
    "end": "1130880"
  },
  {
    "text": "it it's really you could put arbitrary code inside of it but the migration is is what adds it into the i go up and go",
    "start": "1130880",
    "end": "1137280"
  },
  {
    "text": "down and here's my version number so um no necessary change there so i just rake",
    "start": "1137280",
    "end": "1142559"
  },
  {
    "text": "db migrate",
    "start": "1142559",
    "end": "1145520"
  },
  {
    "text": "and again i said it already exists so that's why i put in the rescue i would have gotten a table that already exists",
    "start": "1147919",
    "end": "1153120"
  },
  {
    "text": "error so at this point let's rails start the server",
    "start": "1153120",
    "end": "1159919"
  },
  {
    "text": "and i've got an open window here",
    "start": "1160320",
    "end": "1164759"
  },
  {
    "text": "there we go it's not real exciting there's only three properties",
    "start": "1166400",
    "end": "1171760"
  },
  {
    "text": "we're going to pick a dog and we're going to say top bottom i'm going to create the image macro as",
    "start": "1171760",
    "end": "1178320"
  },
  {
    "text": "you might expect it keeps track of that data uh if i drop back to my my terminal here there's",
    "start": "1178320",
    "end": "1184080"
  },
  {
    "text": "gonna be a lot of noise i didn't filter this out but there is",
    "start": "1184080",
    "end": "1189120"
  },
  {
    "text": "um all of my asset logging but if you come back here you can see that",
    "start": "1189120",
    "end": "1195919"
  },
  {
    "text": "there's my show action so here is my create so call to create passed in parameters and you can see that it tried",
    "start": "1196400",
    "end": "1203760"
  },
  {
    "text": "or it called dynamodb put item with all of that information so it went ahead and",
    "start": "1203760",
    "end": "1208880"
  },
  {
    "text": "graded me a unique uuid which is now my record id that's",
    "start": "1208880",
    "end": "1214400"
  },
  {
    "text": "automatically managed for me and there's the rest of my attributes",
    "start": "1214400",
    "end": "1219679"
  },
  {
    "text": "so that's not super interesting uh let's uh let's add a little bit of",
    "start": "1219840",
    "end": "1227279"
  },
  {
    "text": "let's add some validations so any good macro must have",
    "start": "1228720",
    "end": "1234960"
  },
  {
    "text": "an image",
    "start": "1234960",
    "end": "1237520"
  },
  {
    "text": "and we don't want people to break our application so let's set a maximum",
    "start": "1243679",
    "end": "1248880"
  },
  {
    "text": "length of the captions",
    "start": "1248880",
    "end": "1253759"
  },
  {
    "text": "there we go so these are the same validators it's worth noting though this hat expresses no dependency on active",
    "start": "1260480",
    "end": "1268320"
  },
  {
    "text": "model or active resource uh there are some interesting problems using those validators provided",
    "start": "1268320",
    "end": "1274720"
  },
  {
    "text": "there anecdotally they do not work with set attributes if i wanted to i could do",
    "start": "1274720",
    "end": "1281360"
  },
  {
    "text": "string attribute tags set true and now all of a sudden i'd have a",
    "start": "1281360",
    "end": "1288320"
  },
  {
    "text": "multi attribute so i can assign a set of tags to it and just kind of works but it's difficult to use the the",
    "start": "1288320",
    "end": "1294880"
  },
  {
    "text": "built-in rails validator methods on those because they're not set or multi-value aware so while these",
    "start": "1294880",
    "end": "1301360"
  },
  {
    "text": "are compatible they actually share no code which is as a byproduct you can use this in a sinatra",
    "start": "1301360",
    "end": "1307440"
  },
  {
    "text": "app and you're not loading active model and active resource so",
    "start": "1307440",
    "end": "1313039"
  },
  {
    "text": "and once we've got that we can uh go back to our application if i tried to oops",
    "start": "1313039",
    "end": "1321440"
  },
  {
    "text": "what did i do there",
    "start": "1321440",
    "end": "1324399"
  },
  {
    "text": "validates length of is it within",
    "start": "1328720",
    "end": "1334400"
  },
  {
    "text": "i apologize",
    "start": "1334400",
    "end": "1337360"
  },
  {
    "text": "there you go so if i was to blank that out and",
    "start": "1341760",
    "end": "1348880"
  },
  {
    "text": "put in a really long one i don't know if that's long enough yeah meme is not in the included list and top",
    "start": "1348880",
    "end": "1355440"
  },
  {
    "text": "caption is too long so just kind of dropping in work all right so um that's kind of the the",
    "start": "1355440",
    "end": "1361200"
  },
  {
    "text": "quick dynamo db you could do all this yourself using the the lower levels of the sdk using calls to put item but",
    "start": "1361200",
    "end": "1369039"
  },
  {
    "text": "this gets you all kinds of fun things it gets you dirty tracking so if you update only one property on a record it's going",
    "start": "1369039",
    "end": "1374960"
  },
  {
    "text": "to do a more efficient call to put and it's going to use less of your write operations",
    "start": "1374960",
    "end": "1380960"
  },
  {
    "text": "it's going to also provide you validations and a number of different things object",
    "start": "1380960",
    "end": "1387200"
  },
  {
    "text": "naming these work with the the rails routes and etc so let's",
    "start": "1387200",
    "end": "1393600"
  },
  {
    "text": "augment this a little bit by adding s3 support so we need to composite the",
    "start": "1393600",
    "end": "1398720"
  },
  {
    "text": "image and we need to persist it in a durable storage place s3 is a great",
    "start": "1398720",
    "end": "1403840"
  },
  {
    "text": "choice for this it is low-cost affordable durable storage if i'm running a fleet of my image macro",
    "start": "1403840",
    "end": "1411039"
  },
  {
    "text": "websites i don't have to worry about is that file on this server's disk or is it on that one or about making a you know a",
    "start": "1411039",
    "end": "1418320"
  },
  {
    "text": "shared drive for them to alt access s3 kind of solves that problem",
    "start": "1418320",
    "end": "1423440"
  },
  {
    "text": "so in order to do that we need to add in a couple hooks",
    "start": "1423440",
    "end": "1429200"
  },
  {
    "text": "now there are definitely room for improvement on this gem you'll notice i did not do after save before save",
    "start": "1429200",
    "end": "1436240"
  },
  {
    "text": "et cetera and so i'm just going to have to kind of",
    "start": "1436240",
    "end": "1441600"
  },
  {
    "text": "hook in to save so if it's valid then i want to create a",
    "start": "1441600",
    "end": "1448159"
  },
  {
    "text": "source is the meme so that i i'm not expecting you to know the meme generator uh plugin but meme generator",
    "start": "1448159",
    "end": "1456240"
  },
  {
    "text": "dot for the for the meme",
    "start": "1456240",
    "end": "1461760"
  },
  {
    "text": "and then we're going to actually generate it",
    "start": "1461760",
    "end": "1465679"
  },
  {
    "text": "with the top caption and the bottom",
    "start": "1469120",
    "end": "1474400"
  },
  {
    "text": "at this point now we've got the path or source is is actually a path to a file on disk that image and so i'm going to",
    "start": "1475520",
    "end": "1482799"
  },
  {
    "text": "just drop into s3 that bucket already exists you'd",
    "start": "1482799",
    "end": "1489200"
  },
  {
    "text": "normally create this bucket out of bounds in your application you wouldn't want to create it while your application was running",
    "start": "1489200",
    "end": "1494720"
  },
  {
    "text": "objects and i'm going to use the object's unique id to store it",
    "start": "1494720",
    "end": "1500760"
  },
  {
    "text": "and i just pass a reference to the file",
    "start": "1501279",
    "end": "1505840"
  },
  {
    "text": "now i have a delete down here good application cleans up after itself and so now i've i've got a little bit of",
    "start": "1506559",
    "end": "1512720"
  },
  {
    "text": "code that i want to share this path to an object so i'm going to just create a method",
    "start": "1512720",
    "end": "1520279"
  },
  {
    "text": "there we go",
    "start": "1529760",
    "end": "1532320"
  },
  {
    "text": "and now after we delete the record",
    "start": "1537279",
    "end": "1543159"
  },
  {
    "text": "and delete our object um this should work uh",
    "start": "1544799",
    "end": "1551919"
  },
  {
    "text": "it's not real helpful though if we can't figure out how to actually link to this image we created so we need another",
    "start": "1551919",
    "end": "1557520"
  },
  {
    "text": "helper method",
    "start": "1557520",
    "end": "1560240"
  },
  {
    "text": "so you've got a few choices here if i were to put public url okay so there's uh url4 so the default",
    "start": "1564159",
    "end": "1571679"
  },
  {
    "text": "behavior with any object you upload to s3 is to protect it so that nobody else can access it",
    "start": "1571679",
    "end": "1577200"
  },
  {
    "text": "and this this is fine we can go ahead and stick with that default behavior but that means when we want to link people",
    "start": "1577200",
    "end": "1582799"
  },
  {
    "text": "to it we have to give them a pre-signed url that's going to expire at some time and i would do this with url",
    "start": "1582799",
    "end": "1589200"
  },
  {
    "text": "for read i can pre-sign a put or a delete url also",
    "start": "1589200",
    "end": "1594320"
  },
  {
    "text": "and i can also specify how long it expires in in a number of seconds so that's good for one minute",
    "start": "1594320",
    "end": "1600799"
  },
  {
    "text": "uh but that's not usually is i mean a popular meme generator site you want people to link to images and they're",
    "start": "1600799",
    "end": "1606000"
  },
  {
    "text": "always accessible so i'm going to use its public url which will not work until i",
    "start": "1606000",
    "end": "1612640"
  },
  {
    "text": "specify that that file has a public read accol the ackle's an access",
    "start": "1612640",
    "end": "1619919"
  },
  {
    "text": "control list it's what you have public read private you know there are a number of canned accols these are all in the s3",
    "start": "1619919",
    "end": "1626880"
  },
  {
    "text": "documentation for right but this should make it so that my image is",
    "start": "1626880",
    "end": "1632000"
  },
  {
    "text": "available let's go add a link to view that image",
    "start": "1632000",
    "end": "1639158"
  },
  {
    "text": "now we don't want to bore people with text",
    "start": "1640240",
    "end": "1644679"
  },
  {
    "text": "and i think that's everything that we need to do let's uh let's give it a spin uh",
    "start": "1654640",
    "end": "1661600"
  },
  {
    "text": "go back we don't need to save those changes go ahead edit this",
    "start": "1661600",
    "end": "1669240"
  },
  {
    "text": "velociraptor i'm going to update the image macro that should be compositing and uploading it to s3 and there we go",
    "start": "1670919",
    "end": "1679039"
  },
  {
    "text": "so we have a functioning meme generator",
    "start": "1679039",
    "end": "1683840"
  },
  {
    "text": "so right now we're using s3 uh one of my favorite services uh and actually at the keynote today i don't know if y'all if",
    "start": "1685600",
    "end": "1691919"
  },
  {
    "text": "everybody caught this they reduced the prices by almost 25 across the board so",
    "start": "1691919",
    "end": "1697200"
  },
  {
    "text": "you know you gotta love it um if i wanted to take this a step further you know and i'm you",
    "start": "1697200",
    "end": "1702880"
  },
  {
    "text": "know i'm preparing myself to make my millions i might back this up again by using cloudfront uh i could you know",
    "start": "1702880",
    "end": "1710480"
  },
  {
    "text": "that would give me local distributions of my files all over the internet um so so there we go we got dynamodb and s3",
    "start": "1710480",
    "end": "1717760"
  },
  {
    "text": "so let's move on to the next part simple email service now why would i want to use simple email service couldn't i just",
    "start": "1717760",
    "end": "1722880"
  },
  {
    "text": "use sendmail well i'm going to deploy my application to s3 and i want to leverage the s3 or ec2 and i want to leverage the",
    "start": "1722880",
    "end": "1729520"
  },
  {
    "text": "aws ecosystem scs is a great tool for sending emails inexpensively it can deal with",
    "start": "1729520",
    "end": "1736320"
  },
  {
    "text": "attachments you can it can do all kinds of fun stuff some things you should be aware of when",
    "start": "1736320",
    "end": "1742000"
  },
  {
    "text": "using s3 let's bring up the console",
    "start": "1742000",
    "end": "1747440"
  },
  {
    "text": "service before when when you get your aws credentials set up before you can really",
    "start": "1751360",
    "end": "1757279"
  },
  {
    "text": "use ses you've got to verify some identities identities are domains that",
    "start": "1757279",
    "end": "1762720"
  },
  {
    "text": "you own or email addresses that you own if you verify a domain that allows you",
    "start": "1762720",
    "end": "1768000"
  },
  {
    "text": "to send emails to and from any email address within that domain or you can just like i don't own gmail so i",
    "start": "1768000",
    "end": "1775039"
  },
  {
    "text": "can verify reinventdemo gmail.com which i have done for this if you were",
    "start": "1775039",
    "end": "1781039"
  },
  {
    "text": "to do this yourself you just do identities dot create reinvent",
    "start": "1781039",
    "end": "1786799"
  },
  {
    "text": "demo at gmail.com now there's if i could spell right",
    "start": "1786799",
    "end": "1792840"
  },
  {
    "text": "ident oops",
    "start": "1792840",
    "end": "1796480"
  },
  {
    "text": "there we go and that went ahead and created an identity for me",
    "start": "1798960",
    "end": "1805120"
  },
  {
    "text": "not real exciting i were to go back here though you would see",
    "start": "1805120",
    "end": "1810559"
  },
  {
    "text": "momentarily aws would send me an email saying dear amazon ses customer can you spam",
    "start": "1810559",
    "end": "1817200"
  },
  {
    "text": "yourself and you say yes you can after you've been you know kind of",
    "start": "1817200",
    "end": "1822640"
  },
  {
    "text": "you've gone through your dev cycle what you're going to want to do is go on to the scs website and request production",
    "start": "1822640",
    "end": "1828240"
  },
  {
    "text": "access requesting production access then unlocks it so that you can send emails to anybody in the world but you are",
    "start": "1828240",
    "end": "1835039"
  },
  {
    "text": "still restricted on whom you send them from they still must be sent from verified identities and this helps cut",
    "start": "1835039",
    "end": "1840559"
  },
  {
    "text": "down on spam and there's some other interesting technologies there you can set up",
    "start": "1840559",
    "end": "1846399"
  },
  {
    "text": "sns topics that should be notified whenever sns is a simple notification service and",
    "start": "1846399",
    "end": "1853360"
  },
  {
    "text": "it sends notifications to sns that can email you can hit a web page can send an sms message anytime it receives spam",
    "start": "1853360",
    "end": "1861600"
  },
  {
    "text": "complaints or bounce notifications so that you can manage your mailing lists it's a really cool service there's also",
    "start": "1861600",
    "end": "1867840"
  },
  {
    "text": "some sandbox tools in there for testing so we've we've verified our identity",
    "start": "1867840",
    "end": "1873360"
  },
  {
    "text": "we're good to go so now we just need to scaffold generate a an action mailer piece so",
    "start": "1873360",
    "end": "1881360"
  },
  {
    "text": "we're going to do image macro or macro mailer let's give",
    "start": "1881760",
    "end": "1887279"
  },
  {
    "text": "it a different name and we're only going to have one method we're going to deliver macros",
    "start": "1887279",
    "end": "1894480"
  },
  {
    "text": "oops rails generate",
    "start": "1894480",
    "end": "1898398"
  },
  {
    "text": "the follies of doing a live demo",
    "start": "1900480",
    "end": "1905480"
  },
  {
    "text": "so uh for this demo i am only authorized to reinvent demo",
    "start": "1909200",
    "end": "1915000"
  },
  {
    "text": "gmail.com uh and i'm not gonna spend the time to to build a form where you can collect",
    "start": "1915000",
    "end": "1920320"
  },
  {
    "text": "your friend's email address and and send it to him for now i'm just going to hard code who we're sending it to",
    "start": "1920320",
    "end": "1927200"
  },
  {
    "text": "we're going to send it to reinventdemo what's that",
    "start": "1927840",
    "end": "1934559"
  },
  {
    "text": "oh thank you yep",
    "start": "1934559",
    "end": "1940240"
  },
  {
    "text": "in order to deliver macro we need an image macro and we're going to capture its url",
    "start": "1940240",
    "end": "1947799"
  },
  {
    "text": "um so this is pretty cool you could also we'll take this a step further because",
    "start": "1950240",
    "end": "1955360"
  },
  {
    "text": "uh you know that i mean this this is all that we need to do we can just send a",
    "start": "1955360",
    "end": "1960559"
  },
  {
    "text": "link to that image but uh in our next revolution on this we can we can attach it",
    "start": "1960559",
    "end": "1967039"
  },
  {
    "text": "next thing you need to do is configure rails to use action mailer",
    "start": "1967039",
    "end": "1972159"
  },
  {
    "text": "scs is pretty easy to use but you we want all the fun integration so we're going to configure",
    "start": "1972159",
    "end": "1978640"
  },
  {
    "text": "application config action mailer delivery method",
    "start": "1978640",
    "end": "1985600"
  },
  {
    "text": "this is what you know you normally would pass in here something like smtp or send",
    "start": "1985600",
    "end": "1990640"
  },
  {
    "text": "mail we're going to turn it up to 11.",
    "start": "1990640",
    "end": "1996399"
  },
  {
    "text": "amazon ses and this is going to load my credentials and use my",
    "start": "1996399",
    "end": "2001679"
  },
  {
    "text": "sdk that i've specified in the gem file and it's going to go ahead and send",
    "start": "2001679",
    "end": "2007519"
  },
  {
    "text": "email through ses so before we can actually test this we're going to have to add a controller",
    "start": "2007519",
    "end": "2013360"
  },
  {
    "text": "action that's actually going to trigger the delivery and then a link somewhere in our view so",
    "start": "2013360",
    "end": "2019840"
  },
  {
    "text": "much macros let's add it to the show page",
    "start": "2019840",
    "end": "2023919"
  },
  {
    "text": "email",
    "start": "2025039",
    "end": "2027518"
  },
  {
    "text": "we need to add a route for that",
    "start": "2030559",
    "end": "2033840"
  },
  {
    "text": "and i'm not going to deal with making a put action that would be more restful but for this demo we're just going to",
    "start": "2041679",
    "end": "2047120"
  },
  {
    "text": "stick with a get action and app controllers image macros",
    "start": "2047120",
    "end": "2054878"
  },
  {
    "text": "deaf email",
    "start": "2055679",
    "end": "2059078"
  },
  {
    "text": "so that's going to pass our image macro to the macro mailer it's going to trigger delivery then we're going to redirect back to the image macro show",
    "start": "2070639",
    "end": "2077599"
  },
  {
    "text": "page and we're going to notice email sent",
    "start": "2077599",
    "end": "2085200"
  },
  {
    "text": "oh thank you i'm gonna blame the bright lights",
    "start": "2087040",
    "end": "2092638"
  },
  {
    "text": "because you know so uh",
    "start": "2092639",
    "end": "2098480"
  },
  {
    "text": "nothing really really crazy here but i think we're ready to give it a spin so let's go ahead and load back",
    "start": "2098480",
    "end": "2105520"
  },
  {
    "text": "up that i think because we changed the app config we're gonna have to actually restart our rail server",
    "start": "2105520",
    "end": "2111760"
  },
  {
    "text": "it's in development mode but we still have to restart it and we're going to refresh that show",
    "start": "2111760",
    "end": "2117680"
  },
  {
    "text": "page and we have our email link",
    "start": "2117680",
    "end": "2124240"
  },
  {
    "text": "and you know what we didn't change our our email template so let's do that",
    "start": "2125119",
    "end": "2132640"
  },
  {
    "text": "use macro mailer",
    "start": "2132720",
    "end": "2137440"
  },
  {
    "text": "we have no right quit and actually",
    "start": "2140560",
    "end": "2148720"
  },
  {
    "text": "let's do this again we're going to go ahead and be cool",
    "start": "2148720",
    "end": "2154320"
  },
  {
    "text": "and send a html",
    "start": "2154320",
    "end": "2158119"
  },
  {
    "text": "email along with it",
    "start": "2161440",
    "end": "2164640"
  },
  {
    "text": "so we shouldn't have to restart for that let's try that again should come back say email sent",
    "start": "2167200",
    "end": "2173520"
  },
  {
    "text": "we have two emails waiting for us",
    "start": "2173520",
    "end": "2177040"
  },
  {
    "text": "there we go so this under the covers is just using the aws sdks",
    "start": "2178640",
    "end": "2184800"
  },
  {
    "text": "simple email service and then it has a method uh send email and you just pass it",
    "start": "2184800",
    "end": "2192400"
  },
  {
    "text": "text html recipients and it just kind of works and",
    "start": "2192400",
    "end": "2198720"
  },
  {
    "text": "all this has done is hooked into the rails action mailer interface to send it as a delivery method to to proxy that",
    "start": "2198720",
    "end": "2205599"
  },
  {
    "text": "through that method it also accepts the mail object so if you're using the mail gem in a sinatra application you can",
    "start": "2205599",
    "end": "2212079"
  },
  {
    "text": "just pass it a mail object and it will pull all the relevant information out of it and do that delivery for you",
    "start": "2212079",
    "end": "2219040"
  },
  {
    "text": "let's actually",
    "start": "2219040",
    "end": "2221599"
  },
  {
    "text": "let's spice this up a little bit this isn't as cool as it could be i mentioned earlier that we're going to want to add",
    "start": "2225599",
    "end": "2231200"
  },
  {
    "text": "the attachments and i can never remember how to do this there you go",
    "start": "2231200",
    "end": "2236800"
  },
  {
    "text": "attachments meme.jpg all of my memes are jpegs so",
    "start": "2236800",
    "end": "2244560"
  },
  {
    "text": "so what we're going to do here is we're going to actually attach the object in order to attach the object",
    "start": "2247280",
    "end": "2252800"
  },
  {
    "text": "we're going to have to read it back out of s3 so let's just do that we're going to do",
    "start": "2252800",
    "end": "2258320"
  },
  {
    "text": "i'm going to shorten this to macro macro.s3 object",
    "start": "2258320",
    "end": "2264880"
  },
  {
    "text": "that's the the helper method that gives us back our s3 object and we're just going to read it straight",
    "start": "2264880",
    "end": "2271040"
  },
  {
    "text": "out and that'll pull down its binary data into memory if these were large objects that would be a really bad idea you",
    "start": "2271040",
    "end": "2277599"
  },
  {
    "text": "would want to you could do something like this you",
    "start": "2277599",
    "end": "2282880"
  },
  {
    "text": "could do file.open some path to a file",
    "start": "2282880",
    "end": "2288800"
  },
  {
    "text": "for right binary do file i know i'm missing that piece there",
    "start": "2288960",
    "end": "2297000"
  },
  {
    "text": "and then you do file dot write well s3 object",
    "start": "2298079",
    "end": "2305520"
  },
  {
    "text": "dot read do chunk",
    "start": "2305520",
    "end": "2310200"
  },
  {
    "text": "and this would give you chunk reads you would probably open up a temp file the temp file would receive a chunk of you",
    "start": "2313200",
    "end": "2319280"
  },
  {
    "text": "know of data at a time and then you just pass the path to the temp file to the",
    "start": "2319280",
    "end": "2324560"
  },
  {
    "text": "uh to the attachment instead of the actual data but i know that these are relatively",
    "start": "2324560",
    "end": "2330480"
  },
  {
    "text": "small so you know what's 40k in memory once i've done that then",
    "start": "2330480",
    "end": "2336560"
  },
  {
    "text": "i need to actually modify my my views",
    "start": "2336560",
    "end": "2341838"
  },
  {
    "text": "and this now becomes attachments meme.jpg.url",
    "start": "2352839",
    "end": "2359960"
  },
  {
    "text": "i'm going to modify the html version of this let's give it a spin",
    "start": "2363440",
    "end": "2370880"
  },
  {
    "text": "send it one more time so we've got an extra call happening it's downloading it in the background",
    "start": "2370880",
    "end": "2377680"
  },
  {
    "text": "and sending it coming back over here should have a new one",
    "start": "2377680",
    "end": "2383520"
  },
  {
    "text": "there we go i did not have to you know show linked html images it's just part of the payload now as an attachment",
    "start": "2383520",
    "end": "2391680"
  },
  {
    "text": "so it works really nicely you can do some really fun things using",
    "start": "2391680",
    "end": "2396720"
  },
  {
    "text": "the database sdk for ruby but i know there's a question on every one of your minds and i'm surprised nobody has",
    "start": "2396720",
    "end": "2402960"
  },
  {
    "text": "yelled at me about it yet what about the tests",
    "start": "2402960",
    "end": "2408839"
  },
  {
    "text": "okay it's uh it can be an interesting challenge to test an sdk",
    "start": "2408839",
    "end": "2414560"
  },
  {
    "text": "um against a live service uh so there are a couple of helps",
    "start": "2414560",
    "end": "2420079"
  },
  {
    "text": "i'm gonna i'm kind of running shortish on time so i'm going to summarize these",
    "start": "2420079",
    "end": "2425200"
  },
  {
    "text": "uh three different ways there is the easiest and you know arguably one of the",
    "start": "2425200",
    "end": "2430960"
  },
  {
    "text": "the more powerful ones is use staging credentials so you have your aws account credentials you can very easily set up",
    "start": "2430960",
    "end": "2437680"
  },
  {
    "text": "another account you can even limit the scope of you know what the credentials that you're going to use for testing can do",
    "start": "2437680",
    "end": "2445119"
  },
  {
    "text": "but the benefit is it's going to be hitting a live service using a different account isolates your production data from your staging data they can't",
    "start": "2445119",
    "end": "2451359"
  },
  {
    "text": "interact you get real results high confidence it's very easy to do it's just different set of credentials",
    "start": "2451359",
    "end": "2457680"
  },
  {
    "text": "there are some cons it may cost you money if your testing does not fall within the aws free tier you're going to",
    "start": "2457680",
    "end": "2463359"
  },
  {
    "text": "incur charges it's going to be slower it's going to require an internet connection it's more difficult to do",
    "start": "2463359",
    "end": "2469040"
  },
  {
    "text": "when your developers on the bus so there's that approach there's something that a lot of people",
    "start": "2469040",
    "end": "2475440"
  },
  {
    "text": "don't know we use this very extensively to test our high level interface it's called aws.stub and i'm just going to",
    "start": "2475440",
    "end": "2481760"
  },
  {
    "text": "show you this real quick oh it's a stub bang",
    "start": "2481760",
    "end": "2488800"
  },
  {
    "text": "and now actually let's do a ec2",
    "start": "2488800",
    "end": "2495838"
  },
  {
    "text": "what's that oh thank you",
    "start": "2496240",
    "end": "2501040"
  },
  {
    "text": "is that showing up now all right ec2.client",
    "start": "2502319",
    "end": "2507440"
  },
  {
    "text": "dot describe instances now you remember i did this earlier and i think i had i",
    "start": "2507440",
    "end": "2512880"
  },
  {
    "text": "don't know it was like four i had 14 whatever instances running",
    "start": "2512880",
    "end": "2517920"
  },
  {
    "text": "boom came back reservation set is empty i have no running instances what this does",
    "start": "2517920",
    "end": "2522960"
  },
  {
    "text": "is it uses its knowledge of what the responses from aws should look like and it stubs them with empty responses so",
    "start": "2522960",
    "end": "2530160"
  },
  {
    "text": "things that should be arrays always come back as an empty array if it's a date it's now if it's a number",
    "start": "2530160",
    "end": "2536400"
  },
  {
    "text": "it's zero yes oh i'm sorry aws.stub that was uh",
    "start": "2536400",
    "end": "2543839"
  },
  {
    "text": "before so that configures my aws config to use a stubbed client and so there's",
    "start": "2543839",
    "end": "2549359"
  },
  {
    "text": "actually a description shipped with the sdk of each input and output what they should look like the short circuits the",
    "start": "2549359",
    "end": "2554960"
  },
  {
    "text": "whole http round trip and it just gives you an empty response now this isn't really useful if you need to make",
    "start": "2554960",
    "end": "2560800"
  },
  {
    "text": "stateful calls where you need to carry state from one to the other in that case you would end up doing things like ec2.client.stub",
    "start": "2560800",
    "end": "2568400"
  },
  {
    "text": "for you know describe instances",
    "start": "2568400",
    "end": "2574079"
  },
  {
    "text": "and this is going to return you the stub stub dot data sub reservation set",
    "start": "2574079",
    "end": "2583359"
  },
  {
    "text": "and i'm just going to change its type now when i call my describe instances",
    "start": "2583359",
    "end": "2588640"
  },
  {
    "text": "it returns my stub so you can create as many stubs as you want you can use your testing framework",
    "start": "2588640",
    "end": "2594400"
  },
  {
    "text": "to set up state of you know one call this i should get back five instances when i terminate one and i get back one",
    "start": "2594400",
    "end": "2601280"
  },
  {
    "text": "then the rest of your application can be tested you could load this data up from fixtures to stub with you know there's a",
    "start": "2601280",
    "end": "2607040"
  },
  {
    "text": "bunch of steps the next um",
    "start": "2607040",
    "end": "2612480"
  },
  {
    "text": "is that going to work the next one is uh using a gem like vcr",
    "start": "2613359",
    "end": "2621680"
  },
  {
    "text": "so aws sdk for ruby does use net http as its default http handler this makes it",
    "start": "2621680",
    "end": "2628319"
  },
  {
    "text": "very easy so i have a",
    "start": "2628319",
    "end": "2634440"
  },
  {
    "text": "a sample here before i run out of time that uses net http",
    "start": "2635520",
    "end": "2640560"
  },
  {
    "text": "um",
    "start": "2640560",
    "end": "2642880"
  },
  {
    "text": "thank you switching back and forth uh so and this is a bit of a contrived example but you'll notice i'm loading uh",
    "start": "2645760",
    "end": "2652400"
  },
  {
    "text": "database sdk test unit vcr and then logger just so you can see what's happening",
    "start": "2652400",
    "end": "2657839"
  },
  {
    "text": "um and i'm doing a whole bunch of things i'm",
    "start": "2657839",
    "end": "2663838"
  },
  {
    "text": "making a test call creating an item asserting that that item now has the attributes i created",
    "start": "2664800",
    "end": "2670480"
  },
  {
    "text": "and then i delete the item by wrapping this in vcr it's going to record my http requests and then it's going to save",
    "start": "2670480",
    "end": "2677680"
  },
  {
    "text": "those",
    "start": "2677680",
    "end": "2680000"
  },
  {
    "text": "inside of fixtures or wherever you point it to in this case the next time i run that test so if i",
    "start": "2683040",
    "end": "2689280"
  },
  {
    "text": "actually ruby",
    "start": "2689280",
    "end": "2692480"
  },
  {
    "text": "this should actually you know just once it loads i don't know why it's hanging right now",
    "start": "2695440",
    "end": "2704560"
  },
  {
    "text": "there we go",
    "start": "2704560",
    "end": "2707040"
  },
  {
    "text": "try it again and you'll notice that like it's the logger outputs things like delete item",
    "start": "2710240",
    "end": "2716560"
  },
  {
    "text": "took two milliseconds because there was no round trip http request it was stubbed so there it was",
    "start": "2716560",
    "end": "2722880"
  },
  {
    "text": "it was handled by vcr so those are some testing strategies for when you build your applications uh staging credentials",
    "start": "2722880",
    "end": "2730240"
  },
  {
    "text": "or using aws stub if you're using this gem or you can use something like vcr so",
    "start": "2730240",
    "end": "2735359"
  },
  {
    "text": "anyways this is the the aws sdk for ruby uh it's maintained by myself and lauren",
    "start": "2735359",
    "end": "2741920"
  },
  {
    "text": "seagal he's actually in the room i think he's over there everybody say hi he's a new aws member and he's super awesome so",
    "start": "2741920",
    "end": "2749599"
  },
  {
    "text": "if you see him shake his hand we're really excited to be working on this",
    "start": "2749599",
    "end": "2755200"
  },
  {
    "text": "it's um you know it's really fun to run an open source project",
    "start": "2755200",
    "end": "2761280"
  },
  {
    "text": "but what's next if you want to contribute we gladly accept contributions you'll notice in my demo i",
    "start": "2761280",
    "end": "2766560"
  },
  {
    "text": "had to manage uploading a file to s3 from aws record it would be cool to integrate that with paperclip",
    "start": "2766560",
    "end": "2773520"
  },
  {
    "text": "or to add active record like associations so that an image macro can have many comments",
    "start": "2773520",
    "end": "2780720"
  },
  {
    "text": "we can always thicken our abstractions by making more helper methods that do meaningful work",
    "start": "2780720",
    "end": "2786640"
  },
  {
    "text": "and then of course there's bug fixes you know i'm not ashamed to say it uh this is an old slide deck they didn't update",
    "start": "2786640",
    "end": "2792160"
  },
  {
    "text": "it but you can contact me on twitter uh on github or at the aws forms in the ruby",
    "start": "2792160",
    "end": "2799920"
  },
  {
    "text": "section you post anything there and i'll see it and i'm i'm generally really quick to respond so if you have questions feedback you can also open a",
    "start": "2799920",
    "end": "2807040"
  },
  {
    "text": "github issue or pull request and i try to stay on top of those so",
    "start": "2807040",
    "end": "2812319"
  },
  {
    "text": "does anybody have any questions",
    "start": "2812319",
    "end": "2816359"
  }
]