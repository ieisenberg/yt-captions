[
  {
    "start": "0",
    "end": "159000"
  },
  {
    "text": "all right good afternoon i'm don bailey and this is greg roth we're both security geeks for amazon web",
    "start": "3360",
    "end": "9519"
  },
  {
    "text": "services i'm part of the aws security team my day job is protecting customers in aws",
    "start": "9519",
    "end": "15120"
  },
  {
    "text": "itself and i lead and participate in a variety of our security engineering operations and threat intelligence efforts",
    "start": "15120",
    "end": "20800"
  },
  {
    "text": "and i'm with the identity and access management team we bring you identity and access management",
    "start": "20800",
    "end": "26000"
  },
  {
    "text": "multi-factor auth as well as are responsible for designing and operating a lot of the api authentication and authorization",
    "start": "26000",
    "end": "33440"
  },
  {
    "text": "within aws and apparently deity like voices as well",
    "start": "33440",
    "end": "39040"
  },
  {
    "text": "today we're going to be talking about intrusion detection in the cloud",
    "start": "40239",
    "end": "45840"
  },
  {
    "text": "so why should you care about this change management monitoring i like to think that's a good thing",
    "start": "48640",
    "end": "55280"
  },
  {
    "text": "perhaps you have moved from being a one-man show or a dev shop maybe you have multiple admins at this",
    "start": "55280",
    "end": "61280"
  },
  {
    "text": "point you have contractors you have interns",
    "start": "61280",
    "end": "67119"
  },
  {
    "text": "it's prudent for you to keep an eye on and be aware of changes in your aws environment now traditional intrusion detection",
    "start": "68479",
    "end": "74560"
  },
  {
    "text": "mechanisms largely host and network based they may not detect aws specific environment changes or be",
    "start": "74560",
    "end": "80880"
  },
  {
    "text": "positioned to do so they focus on things happening at the host level and the network level respectively",
    "start": "80880",
    "end": "86240"
  },
  {
    "text": "subsequently those mechanisms could miss key changes either because monitoring aws is not",
    "start": "86240",
    "end": "93520"
  },
  {
    "text": "their core competency or they're still playing catch up with their product or they simply do not or will not support",
    "start": "93520",
    "end": "99200"
  },
  {
    "text": "monitoring your aws environment now we've spent some people would say",
    "start": "99200",
    "end": "105600"
  },
  {
    "text": "wasted a lot of time trying to figure out what we're going to defend and it's important that we get a handle",
    "start": "105600",
    "end": "111520"
  },
  {
    "text": "on defending our aws environment and that entails understanding what's important about our",
    "start": "111520",
    "end": "116560"
  },
  {
    "text": "aws environment what we should be paying attention to it's key to architecting our defense",
    "start": "116560",
    "end": "122079"
  },
  {
    "text": "and then ultimately establishing controls so getting this done soon as opposed to",
    "start": "122079",
    "end": "127759"
  },
  {
    "text": "later it's probably a good idea and finally this should not come as a surprise to anybody as adversaries",
    "start": "127759",
    "end": "133280"
  },
  {
    "text": "attempt to improve their own capabilities they too realize the power and value of cloud computing want to",
    "start": "133280",
    "end": "142160"
  },
  {
    "text": "thwart the bad guys and you want to thwart their attempts to access your aws environment and obviously the capabilities that it",
    "start": "142160",
    "end": "149840"
  },
  {
    "text": "affords now what are we going to be covering today",
    "start": "154840",
    "end": "161760"
  },
  {
    "start": "159000",
    "end": "159000"
  },
  {
    "text": "so we're going to geek for a bit we're going to get some nomenclature out of the way we'll talk about traditional intrusion detection mechanisms systems",
    "start": "161760",
    "end": "168160"
  },
  {
    "text": "the nuance of detecting intrusions in your aws environment will dispel a couple myths regarding intrusion detection in aws",
    "start": "168160",
    "end": "174879"
  },
  {
    "text": "we'll identify a couple key architectures that you can use for traditional ids deployments",
    "start": "174879",
    "end": "180239"
  },
  {
    "text": "we'll talk about a few of our technology partners products as well next we'll discuss several aspects of",
    "start": "180239",
    "end": "185280"
  },
  {
    "text": "computer network intrusions that are universal and that you have to be aware of if you're going to be architecting for detecting intrusions",
    "start": "185280",
    "end": "192000"
  },
  {
    "text": "similarly similarly we'll make sure that you have additional aws specific prerequisite",
    "start": "192000",
    "end": "197599"
  },
  {
    "text": "knowledge point out how you should be leveraging a number of the security related features",
    "start": "197599",
    "end": "202800"
  },
  {
    "text": "that we have and then the meat of this talk and the fun stuff is going to be the description and demonstration of several aws",
    "start": "202800",
    "end": "208640"
  },
  {
    "text": "specific intrusion detection points and mechanisms that you could and should leverage for your for your",
    "start": "208640",
    "end": "214400"
  },
  {
    "text": "aws environment and to complement traditional ids deployments and finally we'll mention some important",
    "start": "214400",
    "end": "219519"
  },
  {
    "text": "security benefits and resources for aws customers we'll wrap it up and ideally we'll have enough time to take",
    "start": "219519",
    "end": "224799"
  },
  {
    "text": "some questions from you so let's get to it",
    "start": "224799",
    "end": "228959"
  },
  {
    "start": "231000",
    "end": "231000"
  },
  {
    "text": "i'm going to i'm going to predict that can you have your ids in your aws",
    "start": "232480",
    "end": "237519"
  },
  {
    "text": "yes that's the short answer but the longer answer involves evolving your understanding of what an",
    "start": "237519",
    "end": "243040"
  },
  {
    "text": "intrusion detection system is so what is an ids if we break that down in terms of an acronym",
    "start": "243040",
    "end": "248560"
  },
  {
    "text": "we have a system or a system of systems that monitors one or many aspects of our environment",
    "start": "248560",
    "end": "254159"
  },
  {
    "text": "alerting us to when an intrusion has occurred or is in process now your ids is for you not necessarily",
    "start": "254159",
    "end": "261519"
  },
  {
    "text": "the compliance guy it's there to help you combat threats in your environment whichever or wherever that environment may be",
    "start": "261519",
    "end": "268080"
  },
  {
    "text": "the ids that is designed for you and on your pr and in your on-premise environment takes advantages",
    "start": "268080",
    "end": "273199"
  },
  {
    "text": "of the features of that environment in many cases this is simplified to",
    "start": "273199",
    "end": "278400"
  },
  {
    "text": "finding a network choke point setting up a spanning port plugging in a",
    "start": "278400",
    "end": "283600"
  },
  {
    "text": "rackable stackable metal box that streams any number of different alerts",
    "start": "283600",
    "end": "289440"
  },
  {
    "text": "just as werner though regularly regularly tells us to eschew lift and shift architectures actually",
    "start": "290479",
    "end": "296479"
  },
  {
    "text": "take advantage of the aws environment re-architect our applications for the aws environment",
    "start": "296479",
    "end": "301520"
  },
  {
    "text": "we have to think about intrusion detection in the same manner we want to make sure that we're developing something that takes advantage of aws features",
    "start": "301520",
    "end": "308560"
  },
  {
    "text": "so if we take a step back and we understand what an ids is what it is for we can confidently say",
    "start": "308560",
    "end": "314479"
  },
  {
    "text": "that your ids for your aws environment may not look like a traditional intrusion detection",
    "start": "314479",
    "end": "320639"
  },
  {
    "text": "system and that's absolutely okay",
    "start": "320639",
    "end": "325840"
  },
  {
    "text": "so greg's going to talk to us a little bit about how an ids and aws is going to look different so you may be used to traditional ids's",
    "start": "329919",
    "end": "338160"
  },
  {
    "text": "they come in two primary flavors you've got your host-based intrusion detection systems",
    "start": "338160",
    "end": "343440"
  },
  {
    "text": "and then you have your network-based ones so host intrusion detection systems monitor",
    "start": "343440",
    "end": "349759"
  },
  {
    "text": "typically the state of a running os processes files on disk configuration",
    "start": "349759",
    "end": "355680"
  },
  {
    "text": "the network ones look at packets flows in and out of a network just as your host level ids doesn't look",
    "start": "355680",
    "end": "362240"
  },
  {
    "text": "anything like your network level ids when you're building an ids for cloud environment that too will look somewhat",
    "start": "362240",
    "end": "367919"
  },
  {
    "text": "different than what you're used to here you're going to look at things like the infrastructure configuration",
    "start": "367919",
    "end": "373520"
  },
  {
    "text": "to make sure that your application on top of that environment matches your expectations",
    "start": "373520",
    "end": "378960"
  },
  {
    "text": "you're also going to want to pay particular attention to the security controls within that environment",
    "start": "378960",
    "end": "385120"
  },
  {
    "text": "all right so when we look at a box and we know that we deploy an agent on a box to look for intrusion",
    "start": "388880",
    "end": "396639"
  },
  {
    "text": "detection events and if we plug something into the network in the spanning port and we're looking at packets on a",
    "start": "396639",
    "end": "402960"
  },
  {
    "text": "network what's the equivalent of essentially a spanning port within an aws environment so this is an overall diagram of what",
    "start": "402960",
    "end": "410000"
  },
  {
    "text": "your application might look like deployed on top of aws at the bottom you have the aws services",
    "start": "410000",
    "end": "416479"
  },
  {
    "text": "under the shared responsibility model we manage them we secure them you don't",
    "start": "416479",
    "end": "421759"
  },
  {
    "text": "have to worry about those on top of that you define configuration that is really the",
    "start": "421759",
    "end": "427120"
  },
  {
    "text": "architecture of your application on top of those services that's things like your ec2 security",
    "start": "427120",
    "end": "432880"
  },
  {
    "text": "groups your s3 buckets bin stock applications the definition of what your application looks like on top",
    "start": "432880",
    "end": "439120"
  },
  {
    "text": "of aws and then on top of that you may have resources like ec2 instances",
    "start": "439120",
    "end": "445039"
  },
  {
    "text": "s3 buckets or other components used by your application so your intru your traditional intrusion",
    "start": "445039",
    "end": "451840"
  },
  {
    "text": "detection system might run on your ec2 instances might monitor",
    "start": "451840",
    "end": "456880"
  },
  {
    "text": "flows in and out of your vpc but that's only part of the picture what we really want to talk to you today",
    "start": "456880",
    "end": "462319"
  },
  {
    "text": "about is monitoring and managing the overall configuration and definition of your application on",
    "start": "462319",
    "end": "468479"
  },
  {
    "text": "top of aws",
    "start": "468479",
    "end": "479840"
  },
  {
    "text": "all right so to be clear we're talking about something that is not a traditional ids not the same rackable",
    "start": "479840",
    "end": "485919"
  },
  {
    "text": "stackable network sniffing box that streams alerts night and day something that we've grown to love so much in our on-premise environments",
    "start": "485919",
    "end": "492639"
  },
  {
    "text": "the idea of an intrusion detection system in aws that breaks from tradition and instead",
    "start": "492639",
    "end": "498400"
  },
  {
    "text": "takes advantage of features in our aws environment that's different it's something that we need to become comfortable with but",
    "start": "498400",
    "end": "503919"
  },
  {
    "text": "evolving our understanding of what an ids for aws is does not mean that we have to go cold turkey on traditional intrusion",
    "start": "503919",
    "end": "510000"
  },
  {
    "text": "detection systems on the contrary traditional ids has its place in aws",
    "start": "510000",
    "end": "515360"
  },
  {
    "text": "if even simply for compliance's sake for example who here has attended this talk because",
    "start": "515360",
    "end": "521279"
  },
  {
    "text": "your compliance regime mandates that you do intrusion detection within whatever environment you're running a compute system",
    "start": "521279",
    "end": "528640"
  },
  {
    "text": "all right no worries we're not spending a lot of time talking about traditional ids but we're going to cover that",
    "start": "528640",
    "end": "534560"
  },
  {
    "text": "quickly",
    "start": "534560",
    "end": "536880"
  },
  {
    "start": "540000",
    "end": "540000"
  },
  {
    "text": "so for ids purists you can deploy any number of classic traditional intrusion detection systems",
    "start": "543519",
    "end": "549120"
  },
  {
    "text": "these metal boxes that you plug in inspecting all traffic flowing to and from your vpc",
    "start": "549120",
    "end": "555279"
  },
  {
    "text": "at your on-premise vpc endpoint so if we look at this diagram here we have our vpc",
    "start": "555279",
    "end": "562320"
  },
  {
    "text": "on our left we have our traditional data center on our right we have a termination of the vpc endpoint within",
    "start": "562320",
    "end": "567360"
  },
  {
    "text": "our data center we may have an internet uplink data center going to our upstream provider we absolutely have have the power the",
    "start": "567360",
    "end": "574880"
  },
  {
    "text": "technology to put a spanning port there sit off any number of metal boxes inspect that",
    "start": "574880",
    "end": "579920"
  },
  {
    "text": "traffic",
    "start": "579920",
    "end": "582320"
  },
  {
    "text": "similarly when you've configured vpc to leverage the internet connectivity of ec2 itself you can deploy an ids at a nat gateway",
    "start": "586240",
    "end": "593120"
  },
  {
    "text": "instance or you can do on instance monitoring with host-based intrusion detection systems",
    "start": "593120",
    "end": "605839"
  },
  {
    "text": "now whether it's on-premise monitoring at your vpc endpoint or you're doing something in the cloud with a vpc nat gateway or on",
    "start": "606720",
    "end": "613120"
  },
  {
    "text": "instance we have numerous aws technology partners a number of them are here at",
    "start": "613120",
    "end": "618320"
  },
  {
    "text": "reinvent you should visit their booths or you can go to the aws marketplace if you go to the aws marketplace in",
    "start": "618320",
    "end": "624399"
  },
  {
    "text": "particular aws.amazon.com forward slash marketplace you can find a number of these vendors with ready-made products",
    "start": "624399",
    "end": "630560"
  },
  {
    "text": "to deploy within your aws environment for traditional intrusion detection systems",
    "start": "630560",
    "end": "636240"
  },
  {
    "text": "but again that's traditional ids and what we're going to be talking about is something that's much broader something",
    "start": "639120",
    "end": "644720"
  },
  {
    "text": "that's more important for you in your aws environment and that's looking at that configuration layer",
    "start": "644720",
    "end": "651120"
  },
  {
    "text": "so we're going to discuss several phases of computer and network intrusions that are universal whether it's in your on-premise environment or it would be in",
    "start": "654720",
    "end": "661120"
  },
  {
    "text": "a cloud environment now our understanding here is what's going to help us focus our cloud-based intrusion detection efforts",
    "start": "661120",
    "end": "667680"
  },
  {
    "text": "now when we're dealing with an adversary he follows a school of root he has several different things he wants",
    "start": "667680",
    "end": "673360"
  },
  {
    "text": "to achieve he wants to gain access he wants to maintain access and he wants to steal stuff",
    "start": "673360",
    "end": "679360"
  },
  {
    "text": "from our understanding of how an attacker actually operates in those three phases we focus our",
    "start": "679360",
    "end": "685040"
  },
  {
    "text": "mechanisms allow us to detect intrusions for each of these phases within aws environment",
    "start": "685040",
    "end": "691279"
  },
  {
    "start": "696000",
    "end": "696000"
  },
  {
    "text": "all right so before we can begin with the school of root looking at the actual phases of an adversary as he attacks an",
    "start": "696959",
    "end": "702480"
  },
  {
    "text": "environment we want to actually look at prerequisites that we should be familiar with",
    "start": "702480",
    "end": "708079"
  },
  {
    "text": "and apply certainly before we start looking at cloud-based intrusion detection mechanisms so professor greg working on identity and",
    "start": "708079",
    "end": "715440"
  },
  {
    "text": "access management can you talk to us about a few of these prerequisites and what we should be doing before we start geeking on cloud",
    "start": "715440",
    "end": "720800"
  },
  {
    "text": "intrusion detection sure so intrusion detection is always done with respect to some",
    "start": "720800",
    "end": "726160"
  },
  {
    "text": "defined security perimeter that you seek to defend it is far easier when you have a well-defined perimeter",
    "start": "726160",
    "end": "732800"
  },
  {
    "text": "and proper configuration of an environment can define many things that could go wrong out of existence so there are a lot of",
    "start": "732800",
    "end": "740399"
  },
  {
    "text": "things to keep track of but overall you'll want to ensure that all of your components are running",
    "start": "740399",
    "end": "745920"
  },
  {
    "text": "as individual identities with the minimal set of permissions that they need to accomplish their objectives",
    "start": "745920",
    "end": "753200"
  },
  {
    "text": "rules for ec2 is highly recommended in that it will allow your code to run on ec2",
    "start": "753200",
    "end": "759839"
  },
  {
    "text": "with the permissions it needs we will deploy credentials for you we will rotate them every few hours a",
    "start": "759839",
    "end": "766160"
  },
  {
    "text": "lot of things that could go wrong around credential handling just go away we also recommend turning on mfa",
    "start": "766160",
    "end": "773920"
  },
  {
    "text": "which is multi-factor authentication for any privileged accounts within your environment",
    "start": "773920",
    "end": "779760"
  },
  {
    "text": "passwords are notoriously weak you do not want your environment to be vulnerable to the weakest password chosen by one of your",
    "start": "779760",
    "end": "786480"
  },
  {
    "text": "administrators s3 bucket logging is available and if",
    "start": "786480",
    "end": "792000"
  },
  {
    "text": "you are storing sensitive data in s3 we highly recommend that you configure it",
    "start": "792000",
    "end": "797120"
  },
  {
    "text": "that way you have detailed records of all access to that data we recommend the i am top 10 best",
    "start": "797120",
    "end": "804800"
  },
  {
    "text": "practices talk that was yesterday so you can catch the video of that we'll also be handing out",
    "start": "804800",
    "end": "810480"
  },
  {
    "text": "reference cards after the talk if you're interested but beyond those that we expect you may already be",
    "start": "810480",
    "end": "816079"
  },
  {
    "text": "familiar with there are three more building blocks that we want to talk about today",
    "start": "816079",
    "end": "821600"
  },
  {
    "text": "so the first is a security rule so if you're managing the security of",
    "start": "821600",
    "end": "827839"
  },
  {
    "text": "many aws accounts say you have multiple production stacks or you have",
    "start": "827839",
    "end": "834399"
  },
  {
    "text": "departmental accounts you're going to need access to each of those accounts to enable you to monitor its configuration",
    "start": "834399",
    "end": "840800"
  },
  {
    "text": "and security don't go set up a database of credentials that's one more target that you have to defend",
    "start": "840800",
    "end": "847040"
  },
  {
    "text": "instead create a security role in each of the accounts that enables your central security",
    "start": "847040",
    "end": "852639"
  },
  {
    "text": "function to monitor each of those accounts discover the configuration ensure that the security",
    "start": "852639",
    "end": "858720"
  },
  {
    "text": "controls are working the way you expect so we've got a link to the getting",
    "start": "858720",
    "end": "865680"
  },
  {
    "text": "started information on roles but let's dig in a little bit more since",
    "start": "865680",
    "end": "871199"
  },
  {
    "start": "871000",
    "end": "871000"
  },
  {
    "text": "we've been receiving feedback a lot of people are not familiar with roles so what's a role a role is a named i am",
    "start": "871199",
    "end": "877600"
  },
  {
    "text": "entity it is similar to a user except that it doesn't have credentials instead",
    "start": "877600",
    "end": "883920"
  },
  {
    "text": "of credentials it has a policy that policy controls who can use the associated permissions",
    "start": "883920",
    "end": "890079"
  },
  {
    "text": "so most places that you could create a user you can instead create a role and the name of the role isn't secret",
    "start": "890079",
    "end": "897279"
  },
  {
    "text": "you can freely distribute the name because the policy on it controls who can use it",
    "start": "897279",
    "end": "904000"
  },
  {
    "text": "so all right greg here was kind enough to create a security role",
    "start": "904000",
    "end": "913040"
  },
  {
    "start": "906000",
    "end": "906000"
  },
  {
    "text": "i'm gonna leave it up here for another five seconds to give you enough time to write it down",
    "start": "913040",
    "end": "918639"
  },
  {
    "text": "don't worry we're actually gonna make sure that we provide this after the talk we'll give you greg's email address and you can all ask him",
    "start": "918639",
    "end": "925519"
  },
  {
    "start": "925000",
    "end": "925000"
  },
  {
    "text": "no actually it's linked on the bottom of that slide seriously here's the url for this security role",
    "start": "925519",
    "end": "932480"
  },
  {
    "text": "greg can you explain a little bit more of what we're doing here sure so this is the s3 section of the policy",
    "start": "932480",
    "end": "938800"
  },
  {
    "text": "that we had up earlier and it's similar structure for each of the services and if you look at this it's granting",
    "start": "938800",
    "end": "946000"
  },
  {
    "text": "access to the s3 configuration apis that let you view the",
    "start": "946000",
    "end": "951519"
  },
  {
    "text": "security state view the bucket policy view the resources that exist but just",
    "start": "951519",
    "end": "956560"
  },
  {
    "text": "as importantly we told you earlier everything should run with least privilege well your security audit",
    "start": "956560",
    "end": "961920"
  },
  {
    "text": "function probably doesn't actually need to view the content that you're storing so you'll notice that we're not actually",
    "start": "961920",
    "end": "968480"
  },
  {
    "text": "granting access to the content itself just the security configuration i think next week we're releasing security role",
    "start": "968480",
    "end": "975120"
  },
  {
    "text": "as a service essentially greg just stays online all the time while we release new features and services and updates that security",
    "start": "975120",
    "end": "980839"
  },
  {
    "text": "rule so now demo time yeah",
    "start": "980839",
    "end": "987759"
  },
  {
    "text": "so greg here is going to actually show you uh setting up the security role within an aws account so i'm in the i am console here i'm",
    "start": "989759",
    "end": "997519"
  },
  {
    "text": "going to go into roles and i'll create a new role and let's call it",
    "start": "997519",
    "end": "1002959"
  },
  {
    "text": "sec audit 3 because i may or may not already have one",
    "start": "1002959",
    "end": "1008560"
  },
  {
    "text": "and then we're going to pick roll for cross account to access between accounts that we own",
    "start": "1008560",
    "end": "1016560"
  },
  {
    "text": "and then somewhere around here i have an account id",
    "start": "1016720",
    "end": "1022000"
  },
  {
    "text": "so this is again a public value it's the 12-digit id for the account that i'm",
    "start": "1023199",
    "end": "1028880"
  },
  {
    "text": "going to run my security monitoring from and i'm going to put in a custom policy",
    "start": "1028880",
    "end": "1034880"
  },
  {
    "text": "let me not retype that",
    "start": "1034880",
    "end": "1039839"
  },
  {
    "text": "and you can see that's the same policy that we had up create role",
    "start": "1051120",
    "end": "1058320"
  },
  {
    "text": "and now i have that role within the",
    "start": "1059200",
    "end": "1063039"
  },
  {
    "text": "account",
    "start": "1064840",
    "end": "1067840"
  },
  {
    "text": "so another thing that's a useful building block is right-wing storage",
    "start": "1074960",
    "end": "1080080"
  },
  {
    "text": "you might at some point in the past have actually when you built out a server written some",
    "start": "1080080",
    "end": "1085440"
  },
  {
    "text": "of the configuration metadata to a cd file hashes that sort of thing or some",
    "start": "1085440",
    "end": "1090480"
  },
  {
    "text": "other media that you can then mount read only to enable you to monitor changes and yet ensure that",
    "start": "1090480",
    "end": "1097200"
  },
  {
    "text": "those authoritative records for the correct configuration weren't altered so attaching cds is a bit of a pain when",
    "start": "1097200",
    "end": "1104480"
  },
  {
    "text": "you're dealing with ec2 so instead we're going to use s3 and there are a couple different ways that",
    "start": "1104480",
    "end": "1109919"
  },
  {
    "text": "we can configure s3 to support this abstraction of right one storage",
    "start": "1109919",
    "end": "1116720"
  },
  {
    "text": "so the first thing that we're going to do is we're going to turn on bucket versioning which ensures that when you overwrite an",
    "start": "1118640",
    "end": "1124799"
  },
  {
    "text": "object the previous version isn't modified and is still available we'll also turn on mfa delete to prevent",
    "start": "1124799",
    "end": "1132000"
  },
  {
    "text": "deletion of previous configuration information most of the things that we're going to write here are very small there's no",
    "start": "1132000",
    "end": "1138160"
  },
  {
    "text": "reason not to retain them indefinitely and then if you want to maximize the amount of security isolation that you",
    "start": "1138160",
    "end": "1144080"
  },
  {
    "start": "1143000",
    "end": "1143000"
  },
  {
    "text": "get create a second account put the authoritative records for",
    "start": "1144080",
    "end": "1149440"
  },
  {
    "text": "monitoring the state of your environment in that second account attach a bucket policy granting access",
    "start": "1149440",
    "end": "1155440"
  },
  {
    "text": "only to the put object apis so that you can ensure that even in the event of",
    "start": "1155440",
    "end": "1161919"
  },
  {
    "text": "any compromise to your production account you have authoritative records on the configuration",
    "start": "1161919",
    "end": "1168559"
  },
  {
    "text": "so this is a bucket policy that might do such a thing you can see",
    "start": "1168559",
    "end": "1174559"
  },
  {
    "text": "here it's an allow to some other account get object put object",
    "start": "1174559",
    "end": "1179840"
  },
  {
    "text": "just as important i'm not including access to any of the modification apis or anything to let you",
    "start": "1179840",
    "end": "1185679"
  },
  {
    "text": "muck with bucket versioning for those of you who haven't seen the versioning",
    "start": "1185679",
    "end": "1191039"
  },
  {
    "text": "ui before it's in the s3 console it's under bucket properties and you just have to select enabled",
    "start": "1191039",
    "end": "1198400"
  },
  {
    "text": "click ok and then your objects can't be modified you'll just get new versions so we've",
    "start": "1198400",
    "end": "1204880"
  },
  {
    "text": "got the security role as one we've got using actual right once storage or developing right one storage",
    "start": "1204880",
    "end": "1211280"
  },
  {
    "text": "with s3 and then our third oh yeah cloudtrail so for those of you who missed it in the",
    "start": "1211280",
    "end": "1216880"
  },
  {
    "text": "keynote or the session yesterday we announced that we're now giving you api level logs of",
    "start": "1216880",
    "end": "1222400"
  },
  {
    "text": "all actions taken in supported services just as we did with s3 bucket logging we'll stream",
    "start": "1222400",
    "end": "1228000"
  },
  {
    "text": "sets of these to your bucket so that you can see all the calls that have happened in your account these are delivered about every",
    "start": "1228000",
    "end": "1235120"
  },
  {
    "text": "five minutes i think the target is delivery within 15 minutes of the call you can configure sns notifications",
    "start": "1235120",
    "end": "1241760"
  },
  {
    "text": "every time we give you these it's currently supported in usc 1 and us west 2. these are the services",
    "start": "1241760",
    "end": "1249679"
  },
  {
    "text": "supported additionally if requests are made through a higher level service we'll show you that too",
    "start": "1249679",
    "end": "1257520"
  },
  {
    "start": "1258000",
    "end": "1258000"
  },
  {
    "text": "so turning it on just go into the console cloudtrail enable yes if you already configured right one",
    "start": "1258000",
    "end": "1265600"
  },
  {
    "text": "storage as we recommended earlier well send your logs there ensure that even if something goes wrong",
    "start": "1265600",
    "end": "1271200"
  },
  {
    "text": "no one can tamper with your logs of what happened just like you do off box logging with syslog for your hosts",
    "start": "1271200",
    "end": "1277840"
  },
  {
    "start": "1274000",
    "end": "1274000"
  },
  {
    "text": "do off account logging for your audit logs so what's in the logs we'll tell you who",
    "start": "1277840",
    "end": "1283120"
  },
  {
    "text": "made the api call when the call was made what the call was resources acted upon",
    "start": "1283120",
    "end": "1289520"
  },
  {
    "text": "where the call was made from don't yet tell you why the call was made",
    "start": "1289520",
    "end": "1295840"
  },
  {
    "text": "but you can usually ask the person who made it so here's an example of the identity",
    "start": "1296880",
    "end": "1303440"
  },
  {
    "text": "section for an item user you can see here that bob made this call and will give you additional details",
    "start": "1303440",
    "end": "1308960"
  },
  {
    "text": "like the access key id so that if you had a credential exposure you could",
    "start": "1308960",
    "end": "1314240"
  },
  {
    "text": "hone in on records created with the exposed credential this is an example of a federated user",
    "start": "1314240",
    "end": "1322240"
  },
  {
    "text": "and you can see here that in addition to the federated identity itself we'll also tell you the session issuer",
    "start": "1322240",
    "end": "1328720"
  },
  {
    "text": "which is the user that created that federated user this is what it looks like when the call",
    "start": "1328720",
    "end": "1335840"
  },
  {
    "text": "was wrapped through another aws service like elastic being stock",
    "start": "1335840",
    "end": "1341280"
  },
  {
    "text": "and then of course time stamp iso 8601 clocks are synchronized about what you'd",
    "start": "1342720",
    "end": "1349520"
  },
  {
    "text": "expect we'll give you the details on what",
    "start": "1349520",
    "end": "1355440"
  },
  {
    "start": "1352000",
    "end": "1352000"
  },
  {
    "text": "service was called what the change was what",
    "start": "1355440",
    "end": "1361039"
  },
  {
    "text": "resources were affected all right so now that we've gotten the",
    "start": "1361039",
    "end": "1366880"
  },
  {
    "text": "prerequisites out of the way we'll go back to the school of route we'll start talking about the phases an adversary",
    "start": "1366880",
    "end": "1372080"
  },
  {
    "text": "may be in when he's trying to gain access and or maintain access within aws",
    "start": "1372080",
    "end": "1377120"
  },
  {
    "text": "environment it turns out that the technology or the configuration variables that we'd like to look at to either one determine if somebody's",
    "start": "1377120",
    "end": "1384159"
  },
  {
    "text": "gained access or if they're trying to maintain access we can actually look at the same areas so where are we actually going to be",
    "start": "1384159",
    "end": "1391200"
  },
  {
    "text": "looking to find out where somebody's gaining access or maintaining access within an aws environment so again it's all about the security",
    "start": "1391200",
    "end": "1397200"
  },
  {
    "text": "perimeter if you're looking at a host that perimeter will be things like listening ports etsy password",
    "start": "1397200",
    "end": "1403280"
  },
  {
    "text": "entries pam config sshd config on your cloud environment it's all about",
    "start": "1403280",
    "end": "1409760"
  },
  {
    "text": "credentials that are used to access your resources as well as resources that may be accessible from outside your",
    "start": "1409760",
    "end": "1416000"
  },
  {
    "text": "account so there are a couple types of each and",
    "start": "1416000",
    "end": "1421440"
  },
  {
    "text": "let's dig in a little bit on credentials so we support login profiles which are",
    "start": "1421440",
    "end": "1426480"
  },
  {
    "start": "1423000",
    "end": "1423000"
  },
  {
    "text": "username password pairs used to access the management console we have access keys which",
    "start": "1426480",
    "end": "1432159"
  },
  {
    "text": "are hmac signing keys used to make api requests x509 certificates used for soap",
    "start": "1432159",
    "end": "1439440"
  },
  {
    "text": "cloudfront rsa keys as well as temporary security credentials these can be attached either to the root",
    "start": "1439440",
    "end": "1445600"
  },
  {
    "text": "account or to an im user within the account you'll want to know what credentials are out there with access to your account",
    "start": "1445600",
    "end": "1451600"
  },
  {
    "text": "that they're being managed properly and that new ones haven't been added that you didn't expect",
    "start": "1451600",
    "end": "1457679"
  },
  {
    "text": "so",
    "start": "1457679",
    "end": "1459840"
  },
  {
    "text": "i'm going to go through actually looking at the credentials attached to a user",
    "start": "1470480",
    "end": "1477360"
  },
  {
    "text": "so i'm again within the iem console loading up a user and we can see here under the",
    "start": "1477360",
    "end": "1485200"
  },
  {
    "text": "security credentials tab this user has two access keys doesn't have a password",
    "start": "1485200",
    "end": "1491760"
  },
  {
    "text": "doesn't have any x 509 cert and isn't using mfa which is expected because they",
    "start": "1491760",
    "end": "1496799"
  },
  {
    "text": "don't have a password one particular thing to pay attention to is whether a password gets created on a",
    "start": "1496799",
    "end": "1502159"
  },
  {
    "text": "user that you expect to be for programmatic use only so such as a web server yeah your web",
    "start": "1502159",
    "end": "1508080"
  },
  {
    "text": "server probably doesn't need a password it probably doesn't log into the management console",
    "start": "1508080",
    "end": "1515200"
  },
  {
    "start": "1514000",
    "end": "1514000"
  },
  {
    "text": "so beyond credentials most aws resources are only accessible within your account",
    "start": "1515200",
    "end": "1520880"
  },
  {
    "text": "there are some that can be configured to be publicly readable without any credentials",
    "start": "1520880",
    "end": "1526240"
  },
  {
    "text": "that's useful for example if you're intentionally hosting a website out of s3 on the other hand you want to ensure",
    "start": "1526240",
    "end": "1532480"
  },
  {
    "text": "that any data that you intend to keep private isn't configured for public access",
    "start": "1532480",
    "end": "1538320"
  },
  {
    "text": "additionally there are certain types of resources that can be configured to be shared with other accounts this is",
    "start": "1541120",
    "end": "1546720"
  },
  {
    "text": "typically done by attaching a resource level policy to that resource these are things like s3 bucket policies",
    "start": "1546720",
    "end": "1554080"
  },
  {
    "text": "sqsq policies sns topic policies and because these policies",
    "start": "1554080",
    "end": "1559440"
  },
  {
    "text": "control access to resources and can grant that access from outside of your account",
    "start": "1559440",
    "end": "1564480"
  },
  {
    "text": "they form part of the security perimeter of your account and therefore are something that you're going to want to monitor for changes",
    "start": "1564480",
    "end": "1572640"
  },
  {
    "text": "and if you want to actually check for cross account access so i'm going to go into the s3 console",
    "start": "1572640",
    "end": "1580080"
  },
  {
    "text": "and pull up a bucket here's a bucket pull up",
    "start": "1580320",
    "end": "1586640"
  },
  {
    "text": "the properties on that bucket and over here i'm going to edit the bucket policy",
    "start": "1586640",
    "end": "1592320"
  },
  {
    "text": "you can see here is an example of a policy attached to an s3 bucket",
    "start": "1592320",
    "end": "1599840"
  },
  {
    "text": "so we also talked about roles earlier we showed you how to use a role to enable",
    "start": "1600880",
    "end": "1606000"
  },
  {
    "text": "access so that your security audit function can have access to run certain apis within your account well",
    "start": "1606000",
    "end": "1612400"
  },
  {
    "text": "that's another thing that you're going to want to pay attention to and ensure that any roles that are configured that allow",
    "start": "1612400",
    "end": "1617679"
  },
  {
    "text": "some other account to do things inside your account actually represent authorized access",
    "start": "1617679",
    "end": "1626000"
  },
  {
    "text": "so going back to the i am console",
    "start": "1626000",
    "end": "1630720"
  },
  {
    "text": "sorry going back to the i am console i'm going to go into roles and let's pick a role",
    "start": "1634000",
    "end": "1641760"
  },
  {
    "text": "now let's look at the security audit role we created earlier trust relationship section and here you",
    "start": "1641760",
    "end": "1647919"
  },
  {
    "text": "can see the account we could also pull up the actual policy that governs access should",
    "start": "1647919",
    "end": "1654080"
  },
  {
    "text": "look familiar",
    "start": "1654080",
    "end": "1656799"
  },
  {
    "start": "1658000",
    "end": "1658000"
  },
  {
    "text": "so we've talked in a couple contexts about access policies our policy language is quite powerful",
    "start": "1659360",
    "end": "1666960"
  },
  {
    "text": "and there are many ways of representing elevated access within an account",
    "start": "1666960",
    "end": "1672159"
  },
  {
    "text": "so when you're looking at an access policy beyond thinking about what can be done",
    "start": "1672159",
    "end": "1677200"
  },
  {
    "text": "currently with the policy you should pay attention to the access that can be implicitly granted by the",
    "start": "1677200",
    "end": "1683039"
  },
  {
    "text": "policy so users that have access to call assorted identity and access management",
    "start": "1683039",
    "end": "1688240"
  },
  {
    "text": "apis can do things like reconfigure the security of your account and for example a user that can",
    "start": "1688240",
    "end": "1695840"
  },
  {
    "text": "update a policy can write whatever policy they want unless there are restrictions in place",
    "start": "1695840",
    "end": "1701200"
  },
  {
    "text": "or you know bob may not be an administrator but if he can reset the administrator's password well",
    "start": "1701200",
    "end": "1707360"
  },
  {
    "text": "he's an administrator there's a link on the slide to the policy simulator which",
    "start": "1707360",
    "end": "1712640"
  },
  {
    "text": "is a tool we released a few days ago to help you understand policies but now for the quick quiz",
    "start": "1712640",
    "end": "1717919"
  },
  {
    "text": "segment of this talk so we've got three policies up who here",
    "start": "1717919",
    "end": "1723200"
  },
  {
    "text": "thinks that policy a grants the user to which it's attached effectively full access to the account",
    "start": "1723200",
    "end": "1730880"
  },
  {
    "text": "one hand two hands okay who here thinks policy b grants full",
    "start": "1735440",
    "end": "1740880"
  },
  {
    "text": "access to the account",
    "start": "1740880",
    "end": "1743840"
  },
  {
    "text": "and how about policy c",
    "start": "1746799",
    "end": "1752080"
  },
  {
    "text": "okay yep all of them",
    "start": "1752080",
    "end": "1757440"
  },
  {
    "text": "so let's walk through each of them slowly so policy a first statement sns star",
    "start": "1757440",
    "end": "1764320"
  },
  {
    "text": "um wouldn't call that full access can work with notifications let's look at statement two action s3",
    "start": "1764320",
    "end": "1771120"
  },
  {
    "text": "star resource star okay s3 oh wait what's that",
    "start": "1771120",
    "end": "1776559"
  },
  {
    "text": "star after s3 star yep that's access to everything hmm funny the highly privileged",
    "start": "1776559",
    "end": "1784799"
  },
  {
    "text": "operation isn't at the top of the policy who would have thought policy b",
    "start": "1784799",
    "end": "1790880"
  },
  {
    "text": "so first statement again harmless in this case totally harmless not action star that doesn't do anything",
    "start": "1790880",
    "end": "1798399"
  },
  {
    "text": "second statement this user can put user policies on any user well what does that mean they can",
    "start": "1798399",
    "end": "1804320"
  },
  {
    "text": "rewrite their own policy to do whatever they want let's look at policy c so this one's a",
    "start": "1804320",
    "end": "1810320"
  },
  {
    "text": "little bit trickier this policy allows launching ec2 instances and allows passing any role in the",
    "start": "1810320",
    "end": "1817919"
  },
  {
    "text": "account to the ec2 instance so a user with this policy can launch an",
    "start": "1817919",
    "end": "1823200"
  },
  {
    "text": "instance that has credentials delivered for any role in the account it may or may not be full access",
    "start": "1823200",
    "end": "1829520"
  },
  {
    "text": "depending on the level of privilege associated with the most privileged role in the account",
    "start": "1829520",
    "end": "1834720"
  },
  {
    "text": "but just as you should think about ways that access could be elevated by someone with the access you also want",
    "start": "1834720",
    "end": "1840720"
  },
  {
    "text": "to think about how future changes to the configuration of the account might unintentionally increase privilege",
    "start": "1840720",
    "end": "1846799"
  },
  {
    "text": "so for the sake of audit i would consider the user with policy c to also be",
    "start": "1846799",
    "end": "1852159"
  },
  {
    "text": "fully privileged right craig that was a lot of stuff that",
    "start": "1852159",
    "end": "1857360"
  },
  {
    "text": "we're checking for we're diving into the management console we're clicking on users we're clicking on roles we're checking",
    "start": "1857360",
    "end": "1863440"
  },
  {
    "text": "for public public resources that's a lot of clicking how are we supposed to do that regularly i'm already tired",
    "start": "1863440",
    "end": "1870399"
  },
  {
    "text": "hitting refresh on the main page to see what features and services we're releasing so you can do effectively",
    "start": "1870399",
    "end": "1878000"
  },
  {
    "text": "everything you can do from the aws management console via either command line tools or via apis so you can script all of this",
    "start": "1878000",
    "end": "1886000"
  },
  {
    "text": "and we actually have example code here for how you might grab some of this data",
    "start": "1886000",
    "end": "1891440"
  },
  {
    "text": "there's also a link at the bottom of this slide to a sample script that'll monitor a lot of the things we're",
    "start": "1891440",
    "end": "1896720"
  },
  {
    "text": "talking about now so the code that hasn't loaded yet",
    "start": "1896720",
    "end": "1903919"
  },
  {
    "start": "1903000",
    "end": "1903000"
  },
  {
    "text": "walks you through enumerating as three bucket policies and you can see it pulls a list of buckets",
    "start": "1903919",
    "end": "1911760"
  },
  {
    "text": "for each bucket goes through pulls the policy we generally find it easiest to actually",
    "start": "1911760",
    "end": "1917440"
  },
  {
    "text": "output a hash of the policy instead of the policy itself so the script that we have down there",
    "start": "1917440",
    "end": "1923760"
  },
  {
    "text": "will actually just dump out a csv format list of a whole bunch of things that grant various levels of",
    "start": "1923760",
    "end": "1929279"
  },
  {
    "start": "1924000",
    "end": "1924000"
  },
  {
    "text": "access so that you can store it diff it that sort of thing here is the item user",
    "start": "1929279",
    "end": "1935279"
  },
  {
    "text": "section so again enumerate through all the users pull all the policies attached to each",
    "start": "1935279",
    "end": "1941919"
  },
  {
    "text": "user print them out and we'll do this for",
    "start": "1941919",
    "end": "1947440"
  },
  {
    "start": "1942000",
    "end": "1942000"
  },
  {
    "text": "users groups roles ec2 security groups dump it out flat",
    "start": "1947440",
    "end": "1954399"
  },
  {
    "text": "file write one storage diff it do this daily at least find changes make sure that the changes",
    "start": "1954399",
    "end": "1961600"
  },
  {
    "text": "you intend we recommend actually customizing this for your environment because each environment is different",
    "start": "1961600",
    "end": "1968000"
  },
  {
    "text": "there are things that you expect to change every day for example in my account the list of",
    "start": "1968000",
    "end": "1974159"
  },
  {
    "text": "instances in a particular security group is highly dynamic so that isn't something that i would necessarily",
    "start": "1974159",
    "end": "1980080"
  },
  {
    "text": "alert on changes but if my user policies change well that's interesting",
    "start": "1980080",
    "end": "1986720"
  },
  {
    "text": "so i actually show an example of this",
    "start": "1987600",
    "end": "1991840"
  },
  {
    "text": "so what we're going to do here is",
    "start": "1995840",
    "end": "2000240"
  },
  {
    "text": "can anyone actually see that okay",
    "start": "2001200",
    "end": "2006158"
  },
  {
    "text": "so i'm going to actually run this and this will iterate over pull out a",
    "start": "2010399",
    "end": "2016399"
  },
  {
    "text": "lot of the stuff that we talked about earlier and while that's running i have a",
    "start": "2016399",
    "end": "2022559"
  },
  {
    "text": "previous copy so i'm going to actually go in and oh actually i",
    "start": "2022559",
    "end": "2027840"
  },
  {
    "text": "created a roll so we should see that here so if i run this",
    "start": "2027840",
    "end": "2033840"
  },
  {
    "text": "redirect it to a file and then diff it against the previous result we should see exactly what changed in the account",
    "start": "2034399",
    "end": "2040480"
  },
  {
    "text": "let's let it run",
    "start": "2040480",
    "end": "2047840"
  },
  {
    "text": "sorry i can't really see the screen two and three what did i do two and two oh they're not",
    "start": "2055679",
    "end": "2062158"
  },
  {
    "text": "going to be different okay so here we can see that uh",
    "start": "2062159",
    "end": "2067760"
  },
  {
    "text": "a role was created it had a policy attached to it hashes of the policy so in this case we",
    "start": "2067760",
    "end": "2074720"
  },
  {
    "text": "could actually schedule this run it regularly and anytime we would actually see a diff or a change then that would be something for us to",
    "start": "2074720",
    "end": "2080720"
  },
  {
    "text": "use",
    "start": "2080720",
    "end": "2082960"
  },
  {
    "text": "so example usage for the script again use a user role",
    "start": "2087599",
    "end": "2095280"
  },
  {
    "text": "run this from a central account just keep a list of roles that you want to monitor rather than a list of",
    "start": "2095280",
    "end": "2100839"
  },
  {
    "text": "credentials",
    "start": "2100839",
    "end": "2103839"
  },
  {
    "text": "here's a bigger font some of the details so you can see here we've got buckets with and without policies",
    "start": "2106320",
    "end": "2113040"
  },
  {
    "text": "cues with and without policies",
    "start": "2113040",
    "end": "2117839"
  },
  {
    "text": "again bigger font on what an earlier diff looks like in this case a policy was added and a policy was",
    "start": "2118400",
    "end": "2124800"
  },
  {
    "text": "changed i can then go in and look at what the changes actually were",
    "start": "2124800",
    "end": "2131520"
  },
  {
    "text": "all right so we've talked about things that we need to have as prerequisites for cloud intrusion",
    "start": "2131520",
    "end": "2137040"
  },
  {
    "text": "detection we've talked about important places where an adversary may want to gain access or attempt to maintain access",
    "start": "2137040",
    "end": "2143760"
  },
  {
    "text": "we've talked about how to go and monitor those those particular areas determine whether or not there's been a change that we'd like to go and",
    "start": "2143760",
    "end": "2149359"
  },
  {
    "text": "investigate let's moving on to the next phase of our school of route our adversary wants to steal stuff and",
    "start": "2149359",
    "end": "2155280"
  },
  {
    "text": "when i say steal stuff what does that actually mean in the context of your aws environment what is the stuff how can we detect that",
    "start": "2155280",
    "end": "2162960"
  },
  {
    "text": "somebody is actually making off with it well an obvious candidate for the stuff is your data but there's",
    "start": "2162960",
    "end": "2169599"
  },
  {
    "text": "already s3 bucket logging we've given a shout out to that a non-obvious candidate for the stuff or",
    "start": "2169599",
    "end": "2174880"
  },
  {
    "text": "access to the aws resources themselves your actual compute your actual storage capabilities how can you actually detect",
    "start": "2174880",
    "end": "2181599"
  },
  {
    "text": "that somebody's making off with your resources i give you crazy detection",
    "start": "2181599",
    "end": "2188160"
  },
  {
    "text": "something that's a little bit out of the box but we've probably seen this before this is a text message that i got from",
    "start": "2188400",
    "end": "2194079"
  },
  {
    "text": "verizon on the fourth of the month when my bill is due at the 25th of the month",
    "start": "2194079",
    "end": "2201760"
  },
  {
    "text": "and that was a little interesting and after investigating this particular event",
    "start": "2201760",
    "end": "2208000"
  },
  {
    "text": "turns out that we were running uh streaming audio at home over lte as opposed to the local",
    "start": "2208000",
    "end": "2213440"
  },
  {
    "text": "told you he didn't do it and if we apply this same sort of",
    "start": "2213440",
    "end": "2218640"
  },
  {
    "text": "concept to our aws environment it absolutely makes sense there's a",
    "start": "2218640",
    "end": "2223760"
  },
  {
    "text": "certain amount of spend that we expect over time and when we see something that goes above",
    "start": "2223760",
    "end": "2230240"
  },
  {
    "text": "that expected level we'd like to alert on that we can tell that something is either",
    "start": "2230240",
    "end": "2235680"
  },
  {
    "text": "okay as it's below the actual spend level or it's something we want to go and",
    "start": "2235680",
    "end": "2240839"
  },
  {
    "text": "investigate and so aws actually provides billing alerts this is a strange intrusion",
    "start": "2240839",
    "end": "2248000"
  },
  {
    "start": "2244000",
    "end": "2244000"
  },
  {
    "text": "detection mechanism but it's absolutely sane there's no need to wait to the actual end of the month to become aware of",
    "start": "2248000",
    "end": "2253599"
  },
  {
    "text": "unexpected utilization what you want to do is establish a baseline of known good billing over time",
    "start": "2253599",
    "end": "2259200"
  },
  {
    "text": "set some thresholds for yourself overall or at specific periods you investigate these alerts trying to",
    "start": "2259200",
    "end": "2264960"
  },
  {
    "text": "determine root cause the simplest cloud intrusion detection mechanism and for a free tier accounts",
    "start": "2264960",
    "end": "2270240"
  },
  {
    "text": "it's actually free setup of 10 alarms and a thousand notifications standard usage standard usage charges after that",
    "start": "2270240",
    "end": "2278480"
  },
  {
    "text": "now before you can actually create an alarm associated with billing and estimated charges you have to enable monitoring",
    "start": "2281280",
    "end": "2286960"
  },
  {
    "text": "when you enable monitoring of your estimated charges this creates metric data that you can use to create the actual billing alarm",
    "start": "2286960",
    "end": "2293119"
  },
  {
    "text": "so it takes about 15 minutes before you can view billing data and create alarms using the amazon cloudwatch console",
    "start": "2293119",
    "end": "2299599"
  },
  {
    "text": "to enable monitoring of your estimated charges just log into your aws account under account activity in the monitor",
    "start": "2299599",
    "end": "2305440"
  },
  {
    "text": "your estimated charges box click enable now there is a wizard",
    "start": "2305440",
    "end": "2313040"
  },
  {
    "text": "for actually creating billing alerts in the amazon cloud watch console you can use command line interface as",
    "start": "2313040",
    "end": "2318480"
  },
  {
    "text": "well you can apply more than one action to an alarm you can set the alarm to be triggered",
    "start": "2318480",
    "end": "2324079"
  },
  {
    "text": "so that you receive an email notification for a specified service exceeding uh a certain amount you can create a",
    "start": "2324079",
    "end": "2330560"
  },
  {
    "text": "billing alarm under the create alarm wizard in in this example you can graph your your charges for amazon ec2 over the",
    "start": "2330560",
    "end": "2336160"
  },
  {
    "text": "last 14 days and then set an alarm that sends the email as soon as your charges exceed say 200",
    "start": "2336160",
    "end": "2342799"
  },
  {
    "text": "so the wizard actually is pretty simple under billing by service you select a service ec2 in this case",
    "start": "2346960",
    "end": "2352480"
  },
  {
    "text": "view its billing data in the little in the graph in the lower lower left pane you click next in the",
    "start": "2352480",
    "end": "2357760"
  },
  {
    "text": "navigation pane note there's several different ways that you can actually view billing data for your account so there's total estimated charges",
    "start": "2357760",
    "end": "2364320"
  },
  {
    "text": "there's buy service or there's buy linked account so for customers who have consolidated billing",
    "start": "2364320",
    "end": "2370240"
  },
  {
    "text": "you can actually use this as again a sort of security role that has an overview in terms of intrusion detection but",
    "start": "2370240",
    "end": "2376480"
  },
  {
    "text": "using billing alerts as a mechanism across all accounts",
    "start": "2376480",
    "end": "2382000"
  },
  {
    "text": "so it's fairly simple in the alarm threshold pane in the name box you create a name you create a description",
    "start": "2382000",
    "end": "2387040"
  },
  {
    "text": "and then under whenever charge is for in the drop down list you want to actually select the greater than or equal to sign",
    "start": "2387040",
    "end": "2393280"
  },
  {
    "text": "and then specify a dollar amount",
    "start": "2393280",
    "end": "2397839"
  },
  {
    "text": "you can set this to go to an sns topic and you can subscribe to the sns topic remember the sns will actually send out",
    "start": "2398880",
    "end": "2404960"
  },
  {
    "text": "confirmation emails that you actually have to confirm that you're going to actually subscribe to that sns topic it's important to go and actually",
    "start": "2404960",
    "end": "2410560"
  },
  {
    "text": "monitor the email address that you're going to be sending these alerts to",
    "start": "2410560",
    "end": "2415040"
  },
  {
    "text": "it's not like an ids console you can also use the you can also use",
    "start": "2417280",
    "end": "2422800"
  },
  {
    "start": "2421000",
    "end": "2421000"
  },
  {
    "text": "the command line interface this is an example of following a procedure that creates an alarm that will send an email message when your estimated",
    "start": "2422800",
    "end": "2429040"
  },
  {
    "text": "month-to-date charges for amazon ec2 exceed 200. and the same example is actually in our",
    "start": "2429040",
    "end": "2435119"
  },
  {
    "text": "documentation for the amazon cloudwatch cli",
    "start": "2435119",
    "end": "2440400"
  },
  {
    "start": "2442000",
    "end": "2442000"
  },
  {
    "text": "now assuming you anticipate you've got a thousand dollars a month that you're going to spend how could we actually set something up",
    "start": "2444319",
    "end": "2449599"
  },
  {
    "text": "that's a little bit more heads-up awareness for ourselves so we've got week one week two week three week four and we expect that we're",
    "start": "2449599",
    "end": "2455680"
  },
  {
    "text": "gonna hit a thousand dollars by the end of the month set it up in 250 increments",
    "start": "2455680",
    "end": "2460880"
  },
  {
    "text": "we'll set our we'll ladder a set of billing alerts for ourselves at 250 500 750 and 1000 and naturally as",
    "start": "2460880",
    "end": "2469680"
  },
  {
    "text": "as our billing increases over the month we're going to break through those thresholds",
    "start": "2469680",
    "end": "2475920"
  },
  {
    "text": "and ideally we're going to break through them at normal intervals and that's okay right when we see that",
    "start": "2476000",
    "end": "2481280"
  },
  {
    "text": "happening so we're getting the alerts but we may not actually go and investigate if we were expecting those charges at that particular point in time",
    "start": "2481280",
    "end": "2488240"
  },
  {
    "text": "and you could certainly set up a greater frequency than this and you can do some back-end logic to",
    "start": "2488240",
    "end": "2493280"
  },
  {
    "text": "actually determine whether or not you're going to you're going to set off the pagers",
    "start": "2493280",
    "end": "2498078"
  },
  {
    "start": "2494000",
    "end": "2494000"
  },
  {
    "text": "now earlier alerts are what are interesting so you get to day seven you're breaking through 250 no problems",
    "start": "2498560",
    "end": "2504160"
  },
  {
    "text": "you get the day nine you're breaking through 500 that might be something that you're interested in",
    "start": "2504160",
    "end": "2510960"
  },
  {
    "start": "2511000",
    "end": "2511000"
  },
  {
    "text": "more than one early alert or you're breaking through 250 500 750 remember",
    "start": "2511440",
    "end": "2518319"
  },
  {
    "text": "that alert that's right there that's something that you might want to go and look at",
    "start": "2518319",
    "end": "2523760"
  },
  {
    "text": "and you want to do this before the end of the month right",
    "start": "2523760",
    "end": "2527760"
  },
  {
    "text": "we have a good bit of documentation on this we have monitoring your aws charges and in addition to that we have the",
    "start": "2532880",
    "end": "2538000"
  },
  {
    "text": "command line interface for this we have examples for actually setting up billing alerts and using those as an intrusion",
    "start": "2538000",
    "end": "2543280"
  },
  {
    "text": "detection mechanism why we don't specifically call it out in that documentation i think is pretty natural",
    "start": "2543280",
    "end": "2550240"
  },
  {
    "start": "2550000",
    "end": "2550000"
  },
  {
    "text": "additionally if you want to get a little high speed create your own meter-based alerts you",
    "start": "2550240",
    "end": "2555359"
  },
  {
    "text": "can actually use programmatic access to billing data so access your billing data through an api pull it down it's in csv format",
    "start": "2555359",
    "end": "2562800"
  },
  {
    "text": "gives you greater detail with regards to your your usage and more importantly specific to regions",
    "start": "2562800",
    "end": "2568720"
  },
  {
    "text": "so let's say you have ec2 you know that you're running it in us east but you're not running it in eu",
    "start": "2568720",
    "end": "2574400"
  },
  {
    "text": "west and then you see a charge that's greater than zero and one of the regions that you know you're not running instances",
    "start": "2574400",
    "end": "2580160"
  },
  {
    "text": "that's probably something that you want to alert on",
    "start": "2580160",
    "end": "2583920"
  },
  {
    "start": "2585000",
    "end": "2585000"
  },
  {
    "text": "now while we've walked you through ensuring that your infrastructure is configured the way that you expect it to be",
    "start": "2587520",
    "end": "2592720"
  },
  {
    "text": "if that infrastructure includes ec2 instances you can obviously use the traditional approach in terms of host-based",
    "start": "2592720",
    "end": "2598800"
  },
  {
    "text": "and installing intrusion detection mechanisms on the actual host but you should also think about tactics",
    "start": "2598800",
    "end": "2604079"
  },
  {
    "text": "that you can use in the aws environment advantages in the aws environment at your disposal most importantly the",
    "start": "2604079",
    "end": "2610079"
  },
  {
    "text": "ability to rebuild frequently there's no reason to have long lived instances that build up croft",
    "start": "2610079",
    "end": "2615839"
  },
  {
    "text": "system rot things that'll make it much more difficult for you to investigate and determine what's actually happened rebuild your instances daily",
    "start": "2615839",
    "end": "2622319"
  },
  {
    "text": "and if anything does happen you have to go and investigate you've got a day's worth of information to have to go through as opposed to",
    "start": "2622319",
    "end": "2627760"
  },
  {
    "text": "months and months and months so use the advantage of the database environment",
    "start": "2627760",
    "end": "2632800"
  },
  {
    "text": "to actually create tactics that will make it more difficult for an adversary to maintain access within that environment it's",
    "start": "2632800",
    "end": "2638640"
  },
  {
    "text": "difficult for them to maintain access when the ec2 instance disappears",
    "start": "2638640",
    "end": "2643520"
  },
  {
    "start": "2647000",
    "end": "2647000"
  },
  {
    "text": "so greg and i we've instructed you on monitoring and defending your stuff we told you that you should do this and",
    "start": "2647680",
    "end": "2653359"
  },
  {
    "text": "that you should do that but that doesn't mean that we're lying down on the job beyond keeping an eye out for aws and",
    "start": "2653359",
    "end": "2659359"
  },
  {
    "text": "looking out for customers we actually do some regular checks that we perform on behalf of customers for their environments",
    "start": "2659359",
    "end": "2665680"
  },
  {
    "text": "those folks who are premium support customers also have access to trusted advisor this inspects your aws environment not",
    "start": "2665680",
    "end": "2672400"
  },
  {
    "text": "only telling you where you can save money but will also let you know when your security groups might be a bit more open than necessary for your applications",
    "start": "2672400",
    "end": "2678960"
  },
  {
    "text": "your bucket policies may allow a bit more access in than you would prefer or whether or not you're using mfa",
    "start": "2678960",
    "end": "2686640"
  },
  {
    "text": "here's an example of the trusted advisor dashboard and you'll notice that there's a",
    "start": "2687040",
    "end": "2692319"
  },
  {
    "text": "security tab if you actually click on that security tab you'll see a number of different checks that aws is performing",
    "start": "2692319",
    "end": "2697839"
  },
  {
    "text": "on your behalf so we'll check security groups for rules that allow unrestricted access to",
    "start": "2697839",
    "end": "2703280"
  },
  {
    "text": "specific ports we give you pretty simple green yellow red status we'll give you a green no issue detected",
    "start": "2703280",
    "end": "2709760"
  },
  {
    "text": "if access is allowed to port 80 25 443 things that are common for for your actual aws environment",
    "start": "2709760",
    "end": "2716720"
  },
  {
    "text": "when you want to allow those those access to those ports uh to the world but we'll give you a red action recommended if you have access to",
    "start": "2716720",
    "end": "2723280"
  },
  {
    "text": "port 2021 3306 for your database we'll give you a",
    "start": "2723280",
    "end": "2728319"
  },
  {
    "text": "yellow investigation recommended for other ports check we'll also check for your aws aws",
    "start": "2728319",
    "end": "2733520"
  },
  {
    "text": "identity use of aws identity access management we'll give you a yellow investigation",
    "start": "2733520",
    "end": "2739359"
  },
  {
    "text": "recommended when no im users groups or roles have been created for your account",
    "start": "2739359",
    "end": "2745040"
  },
  {
    "text": "then we'll check buckets in amazon s3 that have open permissions we'll give you a yellow if that bucket has list access for",
    "start": "2745040",
    "end": "2750800"
  },
  {
    "text": "everyone but we'll give you a red action recommended if a bucket has upload or",
    "start": "2750800",
    "end": "2756319"
  },
  {
    "text": "delete access for everyone we'll also check the root account warn",
    "start": "2756319",
    "end": "2762640"
  },
  {
    "text": "if multi-factor authentication is not enabled and we'll check your password policies too",
    "start": "2762640",
    "end": "2769680"
  },
  {
    "start": "2771000",
    "end": "2771000"
  },
  {
    "text": "now we've talked about a lot of things that you should be monitoring you're going to roll your own you might",
    "start": "2772640",
    "end": "2777839"
  },
  {
    "text": "have an ids that you're running that you're investigating alerts for uh you might set up billing alerts and",
    "start": "2777839",
    "end": "2783040"
  },
  {
    "text": "that brings something to your attention something that goes bump in the night and you don't know what to do with it",
    "start": "2783040",
    "end": "2789440"
  },
  {
    "text": "and you haven't figured out or you haven't defined essentially like a runbook for that particular thing do not hesitate to get in touch with us",
    "start": "2789440",
    "end": "2795040"
  },
  {
    "text": "contact us more specifically engage support support is actually your convenient first point of contact to",
    "start": "2795040",
    "end": "2800480"
  },
  {
    "text": "make us aware of your concerns whether they're associated with your aws account in general or their security related",
    "start": "2800480",
    "end": "2806400"
  },
  {
    "text": "more importantly if support cannot immediately address your concern they know who to engage and escalate to",
    "start": "2806400",
    "end": "2813119"
  },
  {
    "text": "internally at aws to help you figure things out they are specifically trained to actually escalate security concerns to",
    "start": "2813119",
    "end": "2819440"
  },
  {
    "text": "the aws security team so make sure you engage and utilize your support mechanisms",
    "start": "2819440",
    "end": "2826559"
  },
  {
    "start": "2829000",
    "end": "2829000"
  },
  {
    "text": "other resources that you have to be aware of the security the security blog at aws's blog",
    "start": "2829200",
    "end": "2836319"
  },
  {
    "text": "plenty of information regarding security best practices at the aws security center",
    "start": "2836640",
    "end": "2842240"
  },
  {
    "text": "and then of course if you have any security concerns specific to the aws platform that you'd like to report don't hesitate to contact us at the aws",
    "start": "2842240",
    "end": "2848880"
  },
  {
    "text": "security team aws security at amazon.com",
    "start": "2848880",
    "end": "2853680"
  },
  {
    "text": "now in addition to you may have seen it before the best practices or the overview of security",
    "start": "2854240",
    "end": "2860319"
  },
  {
    "start": "2856000",
    "end": "2856000"
  },
  {
    "text": "processes at aws security center this earlier this week we actually released a customer focused",
    "start": "2860319",
    "end": "2865760"
  },
  {
    "text": "security best practices white paper this is this is meant to help you design security infrastructure and",
    "start": "2865760",
    "end": "2871599"
  },
  {
    "text": "configuration for your aws environment it's high-level guidance for managing accounts managing os level access",
    "start": "2871599",
    "end": "2877760"
  },
  {
    "text": "securing your data but it also goes into managing security monitoring auditing alerting",
    "start": "2877760",
    "end": "2883280"
  },
  {
    "text": "incident response as well we also cover other topics such as ddos and we cover a number of different",
    "start": "2883280",
    "end": "2888800"
  },
  {
    "text": "things that you do within particular services to achieve certain security objectives",
    "start": "2888800",
    "end": "2894960"
  },
  {
    "text": "and that paper is available now so key takeaways beyond traditional ids",
    "start": "2895760",
    "end": "2902319"
  },
  {
    "start": "2897000",
    "end": "2897000"
  },
  {
    "text": "we've got cloud ids and it's going to look different than a traditional ids because it's",
    "start": "2902319",
    "end": "2908079"
  },
  {
    "text": "using leveraging environment variables in aws environment now we also provide a",
    "start": "2908079",
    "end": "2914480"
  },
  {
    "text": "variety of mechanisms and support that you should be leveraging to monitor your security controls the",
    "start": "2914480",
    "end": "2921599"
  },
  {
    "text": "big takeaway here is that we want you to experiment with this i want you to play with the actual features that we have here and we want",
    "start": "2921599",
    "end": "2927200"
  },
  {
    "text": "you to give us feedback tell us what you'd like to see you can see that cloudtrail is something that we've delivered for customers",
    "start": "2927200",
    "end": "2933440"
  },
  {
    "text": "and that's based on feedback the more that you give us feedback more that we're going to do things for",
    "start": "2933440",
    "end": "2940558"
  },
  {
    "text": "you and you should absolutely approach some of the partners that we have in the vendor area talk to them about incorporating some of",
    "start": "2940839",
    "end": "2947119"
  },
  {
    "start": "2946000",
    "end": "2946000"
  },
  {
    "text": "the ideas that we talked about today and their products such as you can leverage them directly from the marketplace",
    "start": "2947119",
    "end": "2952880"
  },
  {
    "text": "for those people that we're looking for those links again with regards to downloads we've got both the role policy for those",
    "start": "2952880",
    "end": "2959200"
  },
  {
    "text": "folks that want to create the security role for their account and then we've also got the script that",
    "start": "2959200",
    "end": "2964800"
  },
  {
    "text": "we'll actually go through and enumerate a number of different things greg will update it frequently as we add new services",
    "start": "2964800",
    "end": "2970960"
  },
  {
    "text": "i think it's already out of date based on the announcements yesterday",
    "start": "2970960",
    "end": "2975599"
  },
  {
    "text": "and with that i want to make sure i remind you guys to give us feedback on this presentation and we're happy to take questions from",
    "start": "2977599",
    "end": "2983119"
  },
  {
    "text": "people",
    "start": "2983119",
    "end": "2985599"
  }
]