[
  {
    "text": "[Music]",
    "start": "0",
    "end": "2240"
  },
  {
    "text": "hello everyone",
    "start": "2240",
    "end": "3199"
  },
  {
    "text": "my name is andy hopper and i'm a senior",
    "start": "3199",
    "end": "5200"
  },
  {
    "text": "solutions architect at amazon web",
    "start": "5200",
    "end": "6799"
  },
  {
    "text": "services",
    "start": "6799",
    "end": "7919"
  },
  {
    "text": "it can be awfully useful to have a way",
    "start": "7919",
    "end": "9599"
  },
  {
    "text": "to automatically install an application",
    "start": "9599",
    "end": "11440"
  },
  {
    "text": "on an ec2 instance",
    "start": "11440",
    "end": "13120"
  },
  {
    "text": "a good example would be rolling out of",
    "start": "13120",
    "end": "14799"
  },
  {
    "text": "line of business application across a",
    "start": "14799",
    "end": "16480"
  },
  {
    "text": "fleet of machines",
    "start": "16480",
    "end": "17440"
  },
  {
    "text": "and you don't want to have to wait for a",
    "start": "17440",
    "end": "18880"
  },
  {
    "text": "human being to connect to each machine",
    "start": "18880",
    "end": "20720"
  },
  {
    "text": "and install your software",
    "start": "20720",
    "end": "22640"
  },
  {
    "text": "in this video we're going to explore how",
    "start": "22640",
    "end": "24640"
  },
  {
    "text": "you can use a feature of aws systems",
    "start": "24640",
    "end": "26800"
  },
  {
    "text": "manager",
    "start": "26800",
    "end": "27359"
  },
  {
    "text": "called automation documents for those of",
    "start": "27359",
    "end": "30240"
  },
  {
    "text": "you who aren't familiar with systems",
    "start": "30240",
    "end": "31760"
  },
  {
    "text": "manager",
    "start": "31760",
    "end": "32398"
  },
  {
    "text": "it's an aws service that allows you to",
    "start": "32399",
    "end": "34399"
  },
  {
    "text": "group and manage resources",
    "start": "34399",
    "end": "35920"
  },
  {
    "text": "such as simple storage service or s3",
    "start": "35920",
    "end": "38480"
  },
  {
    "text": "buckets",
    "start": "38480",
    "end": "39200"
  },
  {
    "text": "relational database service or rds",
    "start": "39200",
    "end": "41520"
  },
  {
    "text": "servers",
    "start": "41520",
    "end": "42320"
  },
  {
    "text": "or elastic compute cloud or ec2",
    "start": "42320",
    "end": "44879"
  },
  {
    "text": "instances",
    "start": "44879",
    "end": "46160"
  },
  {
    "text": "in addition you can install the systems",
    "start": "46160",
    "end": "48160"
  },
  {
    "text": "manager agent on your own on-premises",
    "start": "48160",
    "end": "50160"
  },
  {
    "text": "machines to provide a consistent",
    "start": "50160",
    "end": "51760"
  },
  {
    "text": "management experience for both your aws",
    "start": "51760",
    "end": "53920"
  },
  {
    "text": "and non-aws resources as i mentioned",
    "start": "53920",
    "end": "57120"
  },
  {
    "text": "earlier",
    "start": "57120",
    "end": "57760"
  },
  {
    "text": "systems manager has a feature called",
    "start": "57760",
    "end": "59440"
  },
  {
    "text": "automation documents and what this is is",
    "start": "59440",
    "end": "61760"
  },
  {
    "text": "a way for you to create a sequence of",
    "start": "61760",
    "end": "63280"
  },
  {
    "text": "steps that will be executed to perform",
    "start": "63280",
    "end": "65040"
  },
  {
    "text": "management operations",
    "start": "65040",
    "end": "66960"
  },
  {
    "text": "these steps can be executing aws",
    "start": "66960",
    "end": "68880"
  },
  {
    "text": "commands to perform actions like",
    "start": "68880",
    "end": "70479"
  },
  {
    "text": "creating or modifying resources",
    "start": "70479",
    "end": "72479"
  },
  {
    "text": "executing scripts to evaluate complex",
    "start": "72479",
    "end": "74560"
  },
  {
    "text": "logic or customize the document flow",
    "start": "74560",
    "end": "76720"
  },
  {
    "text": "or even run shell commands on instances",
    "start": "76720",
    "end": "79200"
  },
  {
    "text": "in this video",
    "start": "79200",
    "end": "80080"
  },
  {
    "text": "we'll be taking advantage of some of",
    "start": "80080",
    "end": "81520"
  },
  {
    "text": "these features to install our",
    "start": "81520",
    "end": "82799"
  },
  {
    "text": "application",
    "start": "82799",
    "end": "84640"
  },
  {
    "text": "for the purposes of this video we're",
    "start": "84640",
    "end": "86320"
  },
  {
    "text": "going to focus on a windows use case",
    "start": "86320",
    "end": "88720"
  },
  {
    "text": "however the same set of tasks can be",
    "start": "88720",
    "end": "90799"
  },
  {
    "text": "performed on a linux box",
    "start": "90799",
    "end": "92320"
  },
  {
    "text": "you'll just be using a different syntax",
    "start": "92320",
    "end": "94079"
  },
  {
    "text": "for any shell commands you run",
    "start": "94079",
    "end": "96000"
  },
  {
    "text": "so let's get started what i have open",
    "start": "96000",
    "end": "98720"
  },
  {
    "text": "here in visual studio is an asp.net core",
    "start": "98720",
    "end": "101360"
  },
  {
    "text": "mvc",
    "start": "101360",
    "end": "101920"
  },
  {
    "text": "web application now i'd like to point",
    "start": "101920",
    "end": "104479"
  },
  {
    "text": "out that while this particular",
    "start": "104479",
    "end": "106000"
  },
  {
    "text": "application",
    "start": "106000",
    "end": "106720"
  },
  {
    "text": "is using the.net core runtime everything",
    "start": "106720",
    "end": "108960"
  },
  {
    "text": "i'll be describing in this video",
    "start": "108960",
    "end": "110399"
  },
  {
    "text": "applies to net framework applications as",
    "start": "110399",
    "end": "112560"
  },
  {
    "text": "well you're just going to be using a",
    "start": "112560",
    "end": "114159"
  },
  {
    "text": "different runtime for your application",
    "start": "114159",
    "end": "116799"
  },
  {
    "text": "by the way the source for this",
    "start": "116799",
    "end": "118240"
  },
  {
    "text": "application is publicly available in",
    "start": "118240",
    "end": "120000"
  },
  {
    "text": "github",
    "start": "120000",
    "end": "120560"
  },
  {
    "text": "so if you want to peek at the code for",
    "start": "120560",
    "end": "122159"
  },
  {
    "text": "this as well as some other videos i'll",
    "start": "122159",
    "end": "123759"
  },
  {
    "text": "be recording on deploying.net",
    "start": "123759",
    "end": "125520"
  },
  {
    "text": "applications",
    "start": "125520",
    "end": "126320"
  },
  {
    "text": "you can download it and try it out in",
    "start": "126320",
    "end": "127840"
  },
  {
    "text": "your own environment",
    "start": "127840",
    "end": "129440"
  },
  {
    "text": "okay back to our application i'd like",
    "start": "129440",
    "end": "132000"
  },
  {
    "text": "this application to be able to launch",
    "start": "132000",
    "end": "133440"
  },
  {
    "text": "automatically on boot and stay running",
    "start": "133440",
    "end": "135920"
  },
  {
    "text": "this is an ideal use case for windows",
    "start": "135920",
    "end": "137760"
  },
  {
    "text": "service so i've added the nuget package",
    "start": "137760",
    "end": "140080"
  },
  {
    "text": "that supports running a.net core",
    "start": "140080",
    "end": "141680"
  },
  {
    "text": "application as a windows service",
    "start": "141680",
    "end": "144000"
  },
  {
    "text": "so i've got my application i've got it",
    "start": "144000",
    "end": "146160"
  },
  {
    "text": "set up to run on boot",
    "start": "146160",
    "end": "147520"
  },
  {
    "text": "so now i just need to figure out how i'm",
    "start": "147520",
    "end": "149280"
  },
  {
    "text": "going to get this to automatically",
    "start": "149280",
    "end": "150560"
  },
  {
    "text": "install on my instances",
    "start": "150560",
    "end": "152560"
  },
  {
    "text": "before we start there's a few things we",
    "start": "152560",
    "end": "154480"
  },
  {
    "text": "need to have in place",
    "start": "154480",
    "end": "156080"
  },
  {
    "text": "in order for systems manager to be able",
    "start": "156080",
    "end": "158000"
  },
  {
    "text": "to execute automations on an instance",
    "start": "158000",
    "end": "160080"
  },
  {
    "text": "it needs to be able to interact with the",
    "start": "160080",
    "end": "162080"
  },
  {
    "text": "system's manager agent running on the",
    "start": "162080",
    "end": "163920"
  },
  {
    "text": "instance",
    "start": "163920",
    "end": "165120"
  },
  {
    "text": "if you're using an aws supplied image",
    "start": "165120",
    "end": "167120"
  },
  {
    "text": "this agent will already be installed but",
    "start": "167120",
    "end": "169280"
  },
  {
    "text": "it still needs permissions to call",
    "start": "169280",
    "end": "170640"
  },
  {
    "text": "systems manager apis for the agent to",
    "start": "170640",
    "end": "172800"
  },
  {
    "text": "interact with the systems manager",
    "start": "172800",
    "end": "174239"
  },
  {
    "text": "service",
    "start": "174239",
    "end": "175200"
  },
  {
    "text": "to do this you need to create something",
    "start": "175200",
    "end": "177040"
  },
  {
    "text": "called an instance profile",
    "start": "177040",
    "end": "178720"
  },
  {
    "text": "and attach a policy to this profile that",
    "start": "178720",
    "end": "180640"
  },
  {
    "text": "grants these permissions",
    "start": "180640",
    "end": "182640"
  },
  {
    "text": "to assist with this aws provides",
    "start": "182640",
    "end": "184959"
  },
  {
    "text": "something called a managed policy called",
    "start": "184959",
    "end": "186879"
  },
  {
    "text": "amazon ssm managed instance core",
    "start": "186879",
    "end": "190800"
  },
  {
    "text": "managed policies are identity and access",
    "start": "190800",
    "end": "193200"
  },
  {
    "text": "management or iam",
    "start": "193200",
    "end": "194879"
  },
  {
    "text": "policies that aws has already defined",
    "start": "194879",
    "end": "197599"
  },
  {
    "text": "and will maintain",
    "start": "197599",
    "end": "198560"
  },
  {
    "text": "in case any permissions need to change",
    "start": "198560",
    "end": "200159"
  },
  {
    "text": "in the future",
    "start": "200159",
    "end": "201680"
  },
  {
    "text": "anyway this amazon ssm managed instance",
    "start": "201680",
    "end": "204159"
  },
  {
    "text": "core policy",
    "start": "204159",
    "end": "205200"
  },
  {
    "text": "includes the permissions needed to allow",
    "start": "205200",
    "end": "207040"
  },
  {
    "text": "the agent on the instance to communicate",
    "start": "207040",
    "end": "209280"
  },
  {
    "text": "with systems manager",
    "start": "209280",
    "end": "210400"
  },
  {
    "text": "and likewise for systems manager to",
    "start": "210400",
    "end": "212159"
  },
  {
    "text": "perform actions using the agent",
    "start": "212159",
    "end": "214159"
  },
  {
    "text": "the last thing to be aware of is that",
    "start": "214159",
    "end": "215840"
  },
  {
    "text": "the agent needs to be able to reach the",
    "start": "215840",
    "end": "217599"
  },
  {
    "text": "system's manager service endpoints",
    "start": "217599",
    "end": "219519"
  },
  {
    "text": "so you'll either need to set up your vpc",
    "start": "219519",
    "end": "221680"
  },
  {
    "text": "with an internet gateway",
    "start": "221680",
    "end": "222959"
  },
  {
    "text": "and possibly nat gateways to provide",
    "start": "222959",
    "end": "225040"
  },
  {
    "text": "internet access to private subnets",
    "start": "225040",
    "end": "227120"
  },
  {
    "text": "or for vpcs that will not have internet",
    "start": "227120",
    "end": "229440"
  },
  {
    "text": "access you'll want to set up something",
    "start": "229440",
    "end": "230959"
  },
  {
    "text": "called a vpc",
    "start": "230959",
    "end": "232159"
  },
  {
    "text": "endpoint for a systems manager let's get",
    "start": "232159",
    "end": "234560"
  },
  {
    "text": "everything set up",
    "start": "234560",
    "end": "236159"
  },
  {
    "text": "first let's go ahead and set things up",
    "start": "236159",
    "end": "237840"
  },
  {
    "text": "so our agents will have permission to",
    "start": "237840",
    "end": "239360"
  },
  {
    "text": "interact with systems manager",
    "start": "239360",
    "end": "241200"
  },
  {
    "text": "to do this we're going to go to the",
    "start": "241200",
    "end": "242959"
  },
  {
    "text": "identity and access management console",
    "start": "242959",
    "end": "245680"
  },
  {
    "text": "we'll navigate to roles and we'll create",
    "start": "245680",
    "end": "248159"
  },
  {
    "text": "a role",
    "start": "248159",
    "end": "249680"
  },
  {
    "text": "we'll indicate that this is going to be",
    "start": "249680",
    "end": "250879"
  },
  {
    "text": "for an aws service and namely ec2",
    "start": "250879",
    "end": "253519"
  },
  {
    "text": "instances",
    "start": "253519",
    "end": "254799"
  },
  {
    "text": "and next we'll configure the permissions",
    "start": "254799",
    "end": "256799"
  },
  {
    "text": "that are going to be attached to this",
    "start": "256799",
    "end": "258000"
  },
  {
    "text": "role",
    "start": "258000",
    "end": "258720"
  },
  {
    "text": "so we'll add amazon ssm managed",
    "start": "258720",
    "end": "262079"
  },
  {
    "text": "instance core and we'll skip the tags",
    "start": "262079",
    "end": "266320"
  },
  {
    "text": "and just go to review and we'll give",
    "start": "266320",
    "end": "267600"
  },
  {
    "text": "this a name we'll call it",
    "start": "267600",
    "end": "268800"
  },
  {
    "text": "automation deployment demo",
    "start": "268800",
    "end": "272400"
  },
  {
    "text": "okay great we have our role",
    "start": "274720",
    "end": "278080"
  },
  {
    "text": "now let's launch our ec2 instance to do",
    "start": "278479",
    "end": "281040"
  },
  {
    "text": "this we'll go to services",
    "start": "281040",
    "end": "282720"
  },
  {
    "text": "we'll navigate to ec2",
    "start": "282720",
    "end": "286240"
  },
  {
    "text": "and then we'll click on the launch",
    "start": "286400",
    "end": "287440"
  },
  {
    "text": "instance button",
    "start": "287440",
    "end": "290160"
  },
  {
    "text": "now as i mentioned before we're going to",
    "start": "291120",
    "end": "292639"
  },
  {
    "text": "be working with windows",
    "start": "292639",
    "end": "294560"
  },
  {
    "text": "so i will search for windows amis i will",
    "start": "294560",
    "end": "297360"
  },
  {
    "text": "select windows server 2019",
    "start": "297360",
    "end": "299280"
  },
  {
    "text": "base and i'll stick with the default of",
    "start": "299280",
    "end": "301199"
  },
  {
    "text": "the t2 micro for the instant size",
    "start": "301199",
    "end": "304639"
  },
  {
    "text": "now for the purposes of this video we're",
    "start": "304639",
    "end": "306800"
  },
  {
    "text": "going to go ahead and use my default vpc",
    "start": "306800",
    "end": "308960"
  },
  {
    "text": "which gives me access to the public",
    "start": "308960",
    "end": "311120"
  },
  {
    "text": "internet",
    "start": "311120",
    "end": "312560"
  },
  {
    "text": "next what i'll do is for the iam role",
    "start": "312560",
    "end": "315360"
  },
  {
    "text": "i'll choose that automation deployment",
    "start": "315360",
    "end": "317120"
  },
  {
    "text": "demo role",
    "start": "317120",
    "end": "317919"
  },
  {
    "text": "that we created for the ec2 profile i'll",
    "start": "317919",
    "end": "321120"
  },
  {
    "text": "skip past the storage and the tags",
    "start": "321120",
    "end": "324560"
  },
  {
    "text": "and next i'll configure the security",
    "start": "324560",
    "end": "326160"
  },
  {
    "text": "group now in this case",
    "start": "326160",
    "end": "328240"
  },
  {
    "text": "since i'm going to have ssm manage this",
    "start": "328240",
    "end": "330560"
  },
  {
    "text": "instance i'm not going to bother",
    "start": "330560",
    "end": "332000"
  },
  {
    "text": "configuring rdp access for it",
    "start": "332000",
    "end": "334160"
  },
  {
    "text": "instead what i'll do is i'll select http",
    "start": "334160",
    "end": "336880"
  },
  {
    "text": "because i want to allow access",
    "start": "336880",
    "end": "338080"
  },
  {
    "text": "to my web application and i'll allow it",
    "start": "338080",
    "end": "340320"
  },
  {
    "text": "from the public internet",
    "start": "340320",
    "end": "341919"
  },
  {
    "text": "and i'll give this a name like",
    "start": "341919",
    "end": "343520"
  },
  {
    "text": "automation demo",
    "start": "343520",
    "end": "346160"
  },
  {
    "text": "sk",
    "start": "346160",
    "end": "348639"
  },
  {
    "text": "next we review everything that we've",
    "start": "349919",
    "end": "351199"
  },
  {
    "text": "chosen and we'll go ahead and launch",
    "start": "351199",
    "end": "353440"
  },
  {
    "text": "and again because i'm going to let ssm",
    "start": "353440",
    "end": "355520"
  },
  {
    "text": "manage this i don't intend to ever log",
    "start": "355520",
    "end": "357440"
  },
  {
    "text": "into this box so i'm going to go ahead",
    "start": "357440",
    "end": "359039"
  },
  {
    "text": "and say proceed without a key pair",
    "start": "359039",
    "end": "360880"
  },
  {
    "text": "and i'll check the check box saying i",
    "start": "360880",
    "end": "362800"
  },
  {
    "text": "acknowledge that i won't be able to",
    "start": "362800",
    "end": "364080"
  },
  {
    "text": "directly log into the machine",
    "start": "364080",
    "end": "367840"
  },
  {
    "text": "alright so my instance is now launching",
    "start": "369440",
    "end": "372160"
  },
  {
    "text": "let's move on to ssm to create our",
    "start": "372160",
    "end": "374000"
  },
  {
    "text": "automation document",
    "start": "374000",
    "end": "376319"
  },
  {
    "text": "so before we write our automation",
    "start": "376319",
    "end": "377759"
  },
  {
    "text": "document let's plan ahead",
    "start": "377759",
    "end": "379440"
  },
  {
    "text": "and consider the steps that i want my",
    "start": "379440",
    "end": "381199"
  },
  {
    "text": "automation document to perform",
    "start": "381199",
    "end": "383680"
  },
  {
    "text": "first i'd like for it to download and",
    "start": "383680",
    "end": "385520"
  },
  {
    "text": "install the asp.net core runtime if it's",
    "start": "385520",
    "end": "387919"
  },
  {
    "text": "not already on the box",
    "start": "387919",
    "end": "389919"
  },
  {
    "text": "then i'd like to download my application",
    "start": "389919",
    "end": "392400"
  },
  {
    "text": "i'd like to configure the application",
    "start": "392400",
    "end": "394080"
  },
  {
    "text": "to run as a service and finally i'll",
    "start": "394080",
    "end": "396400"
  },
  {
    "text": "ensure that my application is accessible",
    "start": "396400",
    "end": "398400"
  },
  {
    "text": "on the standard http port of 80.",
    "start": "398400",
    "end": "401759"
  },
  {
    "text": "now that we know what we want to do it's",
    "start": "401759",
    "end": "403600"
  },
  {
    "text": "time to create our automation document",
    "start": "403600",
    "end": "406319"
  },
  {
    "text": "so let's navigate to systems manager",
    "start": "406319",
    "end": "410240"
  },
  {
    "text": "and because i want to create an",
    "start": "412400",
    "end": "413520"
  },
  {
    "text": "automation document i'll scroll down to",
    "start": "413520",
    "end": "415360"
  },
  {
    "text": "the document section",
    "start": "415360",
    "end": "417919"
  },
  {
    "text": "and i'll click on create automation",
    "start": "417919",
    "end": "420960"
  },
  {
    "text": "it's going to prompt me for a name for",
    "start": "420960",
    "end": "422400"
  },
  {
    "text": "my automation document i'll call it",
    "start": "422400",
    "end": "424000"
  },
  {
    "text": "install",
    "start": "424000",
    "end": "424720"
  },
  {
    "text": "app server and next you'll notice",
    "start": "424720",
    "end": "427759"
  },
  {
    "text": "that you by default are placed in what's",
    "start": "427759",
    "end": "430080"
  },
  {
    "text": "called the document builder this is a",
    "start": "430080",
    "end": "431840"
  },
  {
    "text": "graphical user interface",
    "start": "431840",
    "end": "433599"
  },
  {
    "text": "that provides a human friendly",
    "start": "433599",
    "end": "434880"
  },
  {
    "text": "experience for defining your automation",
    "start": "434880",
    "end": "437360"
  },
  {
    "text": "document and the steps it needs",
    "start": "437360",
    "end": "439520"
  },
  {
    "text": "if you like you can move over to the",
    "start": "439520",
    "end": "441520"
  },
  {
    "text": "editor tab and it gives you a document",
    "start": "441520",
    "end": "443680"
  },
  {
    "text": "editor that you can",
    "start": "443680",
    "end": "444960"
  },
  {
    "text": "write either json or yaml to define your",
    "start": "444960",
    "end": "447840"
  },
  {
    "text": "document and its steps however for this",
    "start": "447840",
    "end": "450639"
  },
  {
    "text": "video",
    "start": "450639",
    "end": "451039"
  },
  {
    "text": "i'm going to go ahead and stick with the",
    "start": "451039",
    "end": "452000"
  },
  {
    "text": "builder experience",
    "start": "452000",
    "end": "454479"
  },
  {
    "text": "and i will modify the document",
    "start": "454479",
    "end": "456479"
  },
  {
    "text": "attributes with some markdown that",
    "start": "456479",
    "end": "457919"
  },
  {
    "text": "describes my document",
    "start": "457919",
    "end": "459919"
  },
  {
    "text": "now we'll want this document to work on",
    "start": "459919",
    "end": "462400"
  },
  {
    "text": "a set of ec2 instances",
    "start": "462400",
    "end": "464319"
  },
  {
    "text": "so what we'll do is we'll add an input",
    "start": "464319",
    "end": "466560"
  },
  {
    "text": "parameter and we'll call it instance",
    "start": "466560",
    "end": "468479"
  },
  {
    "text": "id and since this can be one or many",
    "start": "468479",
    "end": "471360"
  },
  {
    "text": "instance ids we'll make it a string list",
    "start": "471360",
    "end": "473840"
  },
  {
    "text": "and because this document is not going",
    "start": "473840",
    "end": "475680"
  },
  {
    "text": "to be able to function without getting",
    "start": "475680",
    "end": "477280"
  },
  {
    "text": "this instance id",
    "start": "477280",
    "end": "478639"
  },
  {
    "text": "we'll go ahead and make it a required",
    "start": "478639",
    "end": "480000"
  },
  {
    "text": "parameter",
    "start": "480000",
    "end": "481759"
  },
  {
    "text": "now it's time to define our steps",
    "start": "481759",
    "end": "484319"
  },
  {
    "text": "remember",
    "start": "484319",
    "end": "484960"
  },
  {
    "text": "that i want to install the.net core",
    "start": "484960",
    "end": "487120"
  },
  {
    "text": "runtime if it's not already present on",
    "start": "487120",
    "end": "488800"
  },
  {
    "text": "the box",
    "start": "488800",
    "end": "490400"
  },
  {
    "text": "however i'd like to skip the",
    "start": "490400",
    "end": "491599"
  },
  {
    "text": "installation if it's already on the box",
    "start": "491599",
    "end": "493599"
  },
  {
    "text": "so what i'm going to do is run a script",
    "start": "493599",
    "end": "495840"
  },
  {
    "text": "on the machine to detect what versions",
    "start": "495840",
    "end": "497759"
  },
  {
    "text": "of the runtime are present",
    "start": "497759",
    "end": "499440"
  },
  {
    "text": "so let's name this step get asp.net",
    "start": "499440",
    "end": "503199"
  },
  {
    "text": "runtime and for the action what i'm",
    "start": "503199",
    "end": "506400"
  },
  {
    "text": "going to do",
    "start": "506400",
    "end": "506960"
  },
  {
    "text": "is uh run a script on the box",
    "start": "506960",
    "end": "510000"
  },
  {
    "text": "now i actually prefer powershell so i'm",
    "start": "510000",
    "end": "513039"
  },
  {
    "text": "going to choose",
    "start": "513039",
    "end": "514800"
  },
  {
    "text": "run a command on a managed instance",
    "start": "514800",
    "end": "520320"
  },
  {
    "text": "and next it's going to ask me what",
    "start": "520320",
    "end": "522240"
  },
  {
    "text": "document name i'd like to run",
    "start": "522240",
    "end": "524880"
  },
  {
    "text": "now i happen to prefer powershell so i'm",
    "start": "524880",
    "end": "527440"
  },
  {
    "text": "going to choose the aws",
    "start": "527440",
    "end": "529600"
  },
  {
    "text": "run power shell script",
    "start": "529600",
    "end": "533200"
  },
  {
    "text": "document now what this wants is a list",
    "start": "533200",
    "end": "536720"
  },
  {
    "text": "of the instance ids that we're going to",
    "start": "536720",
    "end": "538800"
  },
  {
    "text": "use this document on and so what i'll do",
    "start": "538800",
    "end": "541360"
  },
  {
    "text": "is i'll supply",
    "start": "541360",
    "end": "542320"
  },
  {
    "text": "the instance id variable that we defined",
    "start": "542320",
    "end": "545200"
  },
  {
    "text": "in",
    "start": "545200",
    "end": "545600"
  },
  {
    "text": "our document and you'll notice i'm using",
    "start": "545600",
    "end": "547920"
  },
  {
    "text": "a special syntax",
    "start": "547920",
    "end": "549120"
  },
  {
    "text": "to evaluate this variable it looks like",
    "start": "549120",
    "end": "552080"
  },
  {
    "text": "mustache syntax or double curly braces",
    "start": "552080",
    "end": "554080"
  },
  {
    "text": "on either side of it",
    "start": "554080",
    "end": "555440"
  },
  {
    "text": "and what this is doing is telling ssm to",
    "start": "555440",
    "end": "558160"
  },
  {
    "text": "evaluate",
    "start": "558160",
    "end": "559040"
  },
  {
    "text": "the value of this variable to supply",
    "start": "559040",
    "end": "561279"
  },
  {
    "text": "this value",
    "start": "561279",
    "end": "563440"
  },
  {
    "text": "now the other thing this document is",
    "start": "563440",
    "end": "564880"
  },
  {
    "text": "going to want is the set of commands",
    "start": "564880",
    "end": "566800"
  },
  {
    "text": "that i'm going to send it",
    "start": "566800",
    "end": "568000"
  },
  {
    "text": "so what we'll do is we'll choose",
    "start": "568000",
    "end": "570080"
  },
  {
    "text": "parameters",
    "start": "570080",
    "end": "571120"
  },
  {
    "text": "and then what we're going to do is paste",
    "start": "571120",
    "end": "572959"
  },
  {
    "text": "the script that we're actually going to",
    "start": "572959",
    "end": "574320"
  },
  {
    "text": "run",
    "start": "574320",
    "end": "574720"
  },
  {
    "text": "on the machine i'm going to go ahead and",
    "start": "574720",
    "end": "576160"
  },
  {
    "text": "expand this up a little bit so we can",
    "start": "576160",
    "end": "577600"
  },
  {
    "text": "read the whole thing",
    "start": "577600",
    "end": "578800"
  },
  {
    "text": "and let's actually take a look at what",
    "start": "578800",
    "end": "580160"
  },
  {
    "text": "the script is doing",
    "start": "580160",
    "end": "581920"
  },
  {
    "text": "so first i'm telling it the name of the",
    "start": "581920",
    "end": "583920"
  },
  {
    "text": "dotnet executable that i'm looking for",
    "start": "583920",
    "end": "586000"
  },
  {
    "text": "and again remember we're looking for",
    "start": "586000",
    "end": "587600"
  },
  {
    "text": "net core so it's dotnet.exe",
    "start": "587600",
    "end": "590640"
  },
  {
    "text": "next if it actually finds the command on",
    "start": "590640",
    "end": "592959"
  },
  {
    "text": "the path",
    "start": "592959",
    "end": "593760"
  },
  {
    "text": "then it will actually execute the list",
    "start": "593760",
    "end": "596080"
  },
  {
    "text": "runtimes command to see what runtimes",
    "start": "596080",
    "end": "598160"
  },
  {
    "text": "are present on the machine",
    "start": "598160",
    "end": "599680"
  },
  {
    "text": "if it doesn't find anything it'll set it",
    "start": "599680",
    "end": "601360"
  },
  {
    "text": "as an empty set of",
    "start": "601360",
    "end": "602880"
  },
  {
    "text": "responses finally what we'll do",
    "start": "602880",
    "end": "606160"
  },
  {
    "text": "is we'll run a quick grep on this string",
    "start": "606160",
    "end": "609279"
  },
  {
    "text": "to find",
    "start": "609279",
    "end": "610240"
  },
  {
    "text": "the value of the asp.net core runtime",
    "start": "610240",
    "end": "613040"
  },
  {
    "text": "version",
    "start": "613040",
    "end": "614240"
  },
  {
    "text": "and then finally we'll return the value",
    "start": "614240",
    "end": "616880"
  },
  {
    "text": "of that",
    "start": "616880",
    "end": "617760"
  },
  {
    "text": "variable to the output of this command",
    "start": "617760",
    "end": "621760"
  },
  {
    "text": "now it's time to see if i need to",
    "start": "622240",
    "end": "623839"
  },
  {
    "text": "install the asp.net runtime",
    "start": "623839",
    "end": "626160"
  },
  {
    "text": "let's add a step and we'll call it",
    "start": "626160",
    "end": "630839"
  },
  {
    "text": "dependency check",
    "start": "630839",
    "end": "633680"
  },
  {
    "text": "and this time instead of running it on",
    "start": "633680",
    "end": "635360"
  },
  {
    "text": "the com on the instance we're actually",
    "start": "635360",
    "end": "636959"
  },
  {
    "text": "going to run it",
    "start": "636959",
    "end": "637760"
  },
  {
    "text": "within the document itself",
    "start": "637760",
    "end": "641680"
  },
  {
    "text": "for the inputs it's going to ask what",
    "start": "642560",
    "end": "644240"
  },
  {
    "text": "language i want to use and again i",
    "start": "644240",
    "end": "646000"
  },
  {
    "text": "prefer powershell so i'll choose",
    "start": "646000",
    "end": "647680"
  },
  {
    "text": "powershell core60",
    "start": "647680",
    "end": "649279"
  },
  {
    "text": "and next it's going to want the script",
    "start": "649279",
    "end": "651200"
  },
  {
    "text": "will actually execute",
    "start": "651200",
    "end": "652480"
  },
  {
    "text": "so let's take a look at what the",
    "start": "652480",
    "end": "654000"
  },
  {
    "text": "contents of this script are",
    "start": "654000",
    "end": "655760"
  },
  {
    "text": "so first i'm going to safely assume that",
    "start": "655760",
    "end": "658000"
  },
  {
    "text": "no matter what i'll install the runtime",
    "start": "658000",
    "end": "659920"
  },
  {
    "text": "you can do that even after the runtime's",
    "start": "659920",
    "end": "661519"
  },
  {
    "text": "been installed it just means the",
    "start": "661519",
    "end": "662720"
  },
  {
    "text": "document will take a little bit longer",
    "start": "662720",
    "end": "664079"
  },
  {
    "text": "to execute",
    "start": "664079",
    "end": "665680"
  },
  {
    "text": "next i'm setting a variable to the value",
    "start": "665680",
    "end": "669040"
  },
  {
    "text": "of the",
    "start": "669040",
    "end": "669680"
  },
  {
    "text": "net runtime i'd like to have installed",
    "start": "669680",
    "end": "671600"
  },
  {
    "text": "on the machine",
    "start": "671600",
    "end": "673120"
  },
  {
    "text": "and then next it's going to take an",
    "start": "673120",
    "end": "675440"
  },
  {
    "text": "input that tells it what the current",
    "start": "675440",
    "end": "677600"
  },
  {
    "text": "asp.net runtime is and we'll set this up",
    "start": "677600",
    "end": "680000"
  },
  {
    "text": "in just a moment",
    "start": "680000",
    "end": "681839"
  },
  {
    "text": "finally we'll do a quick comparison to",
    "start": "681839",
    "end": "683680"
  },
  {
    "text": "see whether or not the",
    "start": "683680",
    "end": "685040"
  },
  {
    "text": "installed runtime matches the you know",
    "start": "685040",
    "end": "687200"
  },
  {
    "text": "the actual version the runtime matches",
    "start": "687200",
    "end": "688640"
  },
  {
    "text": "our desired version",
    "start": "688640",
    "end": "689920"
  },
  {
    "text": "and then finally what we'll do is we'll",
    "start": "689920",
    "end": "691200"
  },
  {
    "text": "return a payload",
    "start": "691200",
    "end": "693200"
  },
  {
    "text": "that has a property on it called install",
    "start": "693200",
    "end": "695120"
  },
  {
    "text": "runtime which is the value",
    "start": "695120",
    "end": "696720"
  },
  {
    "text": "whether or not the version that's on the",
    "start": "696720",
    "end": "698399"
  },
  {
    "text": "box is greater than or equal to",
    "start": "698399",
    "end": "700640"
  },
  {
    "text": "the version that we desired now let's",
    "start": "700640",
    "end": "703519"
  },
  {
    "text": "give our script the data it needs",
    "start": "703519",
    "end": "705519"
  },
  {
    "text": "to do this we'll add an additional input",
    "start": "705519",
    "end": "708959"
  },
  {
    "text": "and in this case we'll supply value to",
    "start": "708959",
    "end": "711519"
  },
  {
    "text": "input payload",
    "start": "711519",
    "end": "712639"
  },
  {
    "text": "and if you see up here what we're",
    "start": "712639",
    "end": "713920"
  },
  {
    "text": "looking for is a value on input payload",
    "start": "713920",
    "end": "716560"
  },
  {
    "text": "that's named asp.net runtime version so",
    "start": "716560",
    "end": "719600"
  },
  {
    "text": "we'll go ahead and paste that in here",
    "start": "719600",
    "end": "721600"
  },
  {
    "text": "for the input value",
    "start": "721600",
    "end": "723040"
  },
  {
    "text": "and again you'll see that syntax and",
    "start": "723040",
    "end": "724959"
  },
  {
    "text": "what we're doing here",
    "start": "724959",
    "end": "726079"
  },
  {
    "text": "is we're evaluating the output of our",
    "start": "726079",
    "end": "728720"
  },
  {
    "text": "previous getasp.net runtime",
    "start": "728720",
    "end": "731040"
  },
  {
    "text": "step next let's define an output for",
    "start": "731040",
    "end": "733680"
  },
  {
    "text": "this step that we'll use to determine",
    "start": "733680",
    "end": "735360"
  },
  {
    "text": "whether the runtime needs to be",
    "start": "735360",
    "end": "736800"
  },
  {
    "text": "installed",
    "start": "736800",
    "end": "737920"
  },
  {
    "text": "as you see up here our script has a",
    "start": "737920",
    "end": "739680"
  },
  {
    "text": "return value that defines a property",
    "start": "739680",
    "end": "741680"
  },
  {
    "text": "named install runtime",
    "start": "741680",
    "end": "743279"
  },
  {
    "text": "we'll also use that name for our output",
    "start": "743279",
    "end": "745760"
  },
  {
    "text": "so we'll call it",
    "start": "745760",
    "end": "746800"
  },
  {
    "text": "install runtime the selector",
    "start": "746800",
    "end": "750000"
  },
  {
    "text": "is going to come out of that output",
    "start": "750000",
    "end": "751600"
  },
  {
    "text": "payload so if you recall",
    "start": "751600",
    "end": "753120"
  },
  {
    "text": "we have we're returning a structure that",
    "start": "753120",
    "end": "754639"
  },
  {
    "text": "has the install runtime property on it",
    "start": "754639",
    "end": "756880"
  },
  {
    "text": "so we'll have it do the dollar sign dot",
    "start": "756880",
    "end": "759120"
  },
  {
    "text": "payload dot install runtime",
    "start": "759120",
    "end": "761600"
  },
  {
    "text": "and then last we'll choose what the type",
    "start": "761600",
    "end": "763600"
  },
  {
    "text": "of this data is",
    "start": "763600",
    "end": "764959"
  },
  {
    "text": "now this is going to be a true false",
    "start": "764959",
    "end": "766399"
  },
  {
    "text": "value so i'm going to go ahead and",
    "start": "766399",
    "end": "768000"
  },
  {
    "text": "choose boolean here",
    "start": "768000",
    "end": "769440"
  },
  {
    "text": "so now let's use a neat feature of",
    "start": "769440",
    "end": "770959"
  },
  {
    "text": "automation documents documents support",
    "start": "770959",
    "end": "773360"
  },
  {
    "text": "the ability to conditionally execute",
    "start": "773360",
    "end": "775200"
  },
  {
    "text": "steps by jumping to a specified step",
    "start": "775200",
    "end": "778240"
  },
  {
    "text": "first let's add our step",
    "start": "778240",
    "end": "781519"
  },
  {
    "text": "we'll give it a name we'll call it",
    "start": "781519",
    "end": "782959"
  },
  {
    "text": "choose next",
    "start": "782959",
    "end": "786000"
  },
  {
    "text": "step we'll choose",
    "start": "786000",
    "end": "789200"
  },
  {
    "text": "run conditional automation steps",
    "start": "789200",
    "end": "793360"
  },
  {
    "text": "and then we'll paste our choices",
    "start": "793360",
    "end": "796639"
  },
  {
    "text": "and again i'll expand this a little bit",
    "start": "796959",
    "end": "798079"
  },
  {
    "text": "so we can take a look at what's going on",
    "start": "798079",
    "end": "800000"
  },
  {
    "text": "and you'll see what's going on here is",
    "start": "800000",
    "end": "802720"
  },
  {
    "text": "our next step will be set",
    "start": "802720",
    "end": "804160"
  },
  {
    "text": "to install application based on the",
    "start": "804160",
    "end": "807040"
  },
  {
    "text": "value",
    "start": "807040",
    "end": "807519"
  },
  {
    "text": "of our previous dependency check steps",
    "start": "807519",
    "end": "809920"
  },
  {
    "text": "output of install runtime",
    "start": "809920",
    "end": "812079"
  },
  {
    "text": "if the install runtime value is false",
    "start": "812079",
    "end": "814560"
  },
  {
    "text": "then we're going to go straight to",
    "start": "814560",
    "end": "815760"
  },
  {
    "text": "install",
    "start": "815760",
    "end": "816240"
  },
  {
    "text": "application now if we don't detect the",
    "start": "816240",
    "end": "819279"
  },
  {
    "text": "runtime we'll want to install it",
    "start": "819279",
    "end": "821040"
  },
  {
    "text": "so let's make that the default next step",
    "start": "821040",
    "end": "825120"
  },
  {
    "text": "and we'll have to go ahead and provide a",
    "start": "827279",
    "end": "829120"
  },
  {
    "text": "name for this so what we'll do",
    "start": "829120",
    "end": "831279"
  },
  {
    "text": "is we'll call it install asp.net",
    "start": "831279",
    "end": "834560"
  },
  {
    "text": "runtime and this will be a new step we",
    "start": "834560",
    "end": "836800"
  },
  {
    "text": "defined that actually runs a script that",
    "start": "836800",
    "end": "838639"
  },
  {
    "text": "installs",
    "start": "838639",
    "end": "839440"
  },
  {
    "text": "the dotnet runtime on the machine",
    "start": "839440",
    "end": "842720"
  },
  {
    "text": "so let's define the step to install the",
    "start": "842720",
    "end": "844560"
  },
  {
    "text": "runtime if it's needed",
    "start": "844560",
    "end": "846399"
  },
  {
    "text": "so we'll add a new step and to make sure",
    "start": "846399",
    "end": "849120"
  },
  {
    "text": "it matches our choice",
    "start": "849120",
    "end": "850240"
  },
  {
    "text": "step above we'll name it install asp.net",
    "start": "850240",
    "end": "853920"
  },
  {
    "text": "runtime and again this is going to be",
    "start": "853920",
    "end": "856480"
  },
  {
    "text": "running a command",
    "start": "856480",
    "end": "857920"
  },
  {
    "text": "on a managed instance and again because",
    "start": "857920",
    "end": "860800"
  },
  {
    "text": "i prefer powershell we'll do aws",
    "start": "860800",
    "end": "863120"
  },
  {
    "text": "run powershell",
    "start": "863120",
    "end": "866639"
  },
  {
    "text": "script and again it wants the instance",
    "start": "866639",
    "end": "870320"
  },
  {
    "text": "ids",
    "start": "870320",
    "end": "872800"
  },
  {
    "text": "and then we'll give it the commands as a",
    "start": "874480",
    "end": "877199"
  },
  {
    "text": "parameters input",
    "start": "877199",
    "end": "878639"
  },
  {
    "text": "so let's take a look at the script that",
    "start": "878639",
    "end": "880160"
  },
  {
    "text": "i have here",
    "start": "880160",
    "end": "885839"
  },
  {
    "text": "all right so what this does is first",
    "start": "887600",
    "end": "890320"
  },
  {
    "text": "ensures that there's a directory for the",
    "start": "890320",
    "end": "892639"
  },
  {
    "text": "dotnet runtime to be downloaded",
    "start": "892639",
    "end": "894800"
  },
  {
    "text": "then i'm actually invoking a web request",
    "start": "894800",
    "end": "897680"
  },
  {
    "text": "that will",
    "start": "897680",
    "end": "898480"
  },
  {
    "text": "call a url to download the latest",
    "start": "898480",
    "end": "900959"
  },
  {
    "text": "version of the runtime",
    "start": "900959",
    "end": "902079"
  },
  {
    "text": "now at the time of recording of this",
    "start": "902079",
    "end": "904240"
  },
  {
    "text": "script the most recent runtime was 3.1.6",
    "start": "904240",
    "end": "907680"
  },
  {
    "text": "if you decide that you'd like to build",
    "start": "907680",
    "end": "909199"
  },
  {
    "text": "this document yourself",
    "start": "909199",
    "end": "910880"
  },
  {
    "text": "there may be a more recent version on",
    "start": "910880",
    "end": "913279"
  },
  {
    "text": "the microsoft website for download",
    "start": "913279",
    "end": "916560"
  },
  {
    "text": "once i have that in place then i will",
    "start": "916560",
    "end": "918800"
  },
  {
    "text": "install",
    "start": "918800",
    "end": "919680"
  },
  {
    "text": "the asp.net runtime on the machine and",
    "start": "919680",
    "end": "922639"
  },
  {
    "text": "all i'm doing here is i'm using the",
    "start": "922639",
    "end": "923839"
  },
  {
    "text": "start process commandlet",
    "start": "923839",
    "end": "925199"
  },
  {
    "text": "and i'm just telling it to wait until",
    "start": "925199",
    "end": "927279"
  },
  {
    "text": "the the installation has completed",
    "start": "927279",
    "end": "929440"
  },
  {
    "text": "and then i'm just giving it a couple of",
    "start": "929440",
    "end": "930639"
  },
  {
    "text": "parameters to tell the runtime to",
    "start": "930639",
    "end": "932800"
  },
  {
    "text": "install",
    "start": "932800",
    "end": "933440"
  },
  {
    "text": "to do it without a without any user",
    "start": "933440",
    "end": "935199"
  },
  {
    "text": "interface because after all we're not",
    "start": "935199",
    "end": "936480"
  },
  {
    "text": "connected to the machine's desktop",
    "start": "936480",
    "end": "938320"
  },
  {
    "text": "and i also want to tell it to to not",
    "start": "938320",
    "end": "940000"
  },
  {
    "text": "restart the machine if it doesn't need",
    "start": "940000",
    "end": "941519"
  },
  {
    "text": "to",
    "start": "941519",
    "end": "943680"
  },
  {
    "text": "now since this is just executing a set",
    "start": "944480",
    "end": "946560"
  },
  {
    "text": "of commands we don't need to configure",
    "start": "946560",
    "end": "948560"
  },
  {
    "text": "any outputs",
    "start": "948560",
    "end": "950480"
  },
  {
    "text": "okay so now we've defined our step to",
    "start": "950480",
    "end": "952399"
  },
  {
    "text": "install the runtime if it wasn't",
    "start": "952399",
    "end": "954000"
  },
  {
    "text": "already installed now it's time to",
    "start": "954000",
    "end": "957680"
  },
  {
    "text": "define our last step which is going to",
    "start": "957680",
    "end": "959279"
  },
  {
    "text": "be the one that installs the application",
    "start": "959279",
    "end": "961839"
  },
  {
    "text": "we'll name it install application",
    "start": "961839",
    "end": "965279"
  },
  {
    "text": "again to match the choice block we had",
    "start": "965279",
    "end": "968000"
  },
  {
    "text": "above",
    "start": "968000",
    "end": "969040"
  },
  {
    "text": "and again this is going to be running a",
    "start": "969040",
    "end": "970480"
  },
  {
    "text": "command on a managed instance",
    "start": "970480",
    "end": "973120"
  },
  {
    "text": "again the inputs here are going to be",
    "start": "973120",
    "end": "977040"
  },
  {
    "text": "the aws run powershell script",
    "start": "977040",
    "end": "983839"
  },
  {
    "text": "and the instance ids again will be the",
    "start": "984079",
    "end": "986160"
  },
  {
    "text": "instance id",
    "start": "986160",
    "end": "988240"
  },
  {
    "text": "variable and then we'll paste our script",
    "start": "988240",
    "end": "990880"
  },
  {
    "text": "that actually performs the installation",
    "start": "990880",
    "end": "992480"
  },
  {
    "text": "as the parameters",
    "start": "992480",
    "end": "994160"
  },
  {
    "text": "so we'll go ahead and paste the",
    "start": "994160",
    "end": "995360"
  },
  {
    "text": "powershell script that does the",
    "start": "995360",
    "end": "997279"
  },
  {
    "text": "installation",
    "start": "997279",
    "end": "998079"
  },
  {
    "text": "and let's dissect what we're actually",
    "start": "998079",
    "end": "999680"
  },
  {
    "text": "doing here so",
    "start": "999680",
    "end": "1001199"
  },
  {
    "text": "first i'm going to check to see if the",
    "start": "1001199",
    "end": "1003519"
  },
  {
    "text": "service was already installed which",
    "start": "1003519",
    "end": "1005199"
  },
  {
    "text": "means i've run the script before on an",
    "start": "1005199",
    "end": "1006800"
  },
  {
    "text": "instance",
    "start": "1006800",
    "end": "1007600"
  },
  {
    "text": "i'll go ahead and stop the service so i",
    "start": "1007600",
    "end": "1009360"
  },
  {
    "text": "can update the code",
    "start": "1009360",
    "end": "1011279"
  },
  {
    "text": "next if i didn't already have a",
    "start": "1011279",
    "end": "1013759"
  },
  {
    "text": "directory to host my application server",
    "start": "1013759",
    "end": "1015759"
  },
  {
    "text": "code",
    "start": "1015759",
    "end": "1016240"
  },
  {
    "text": "i'll create it and if one already exists",
    "start": "1016240",
    "end": "1018320"
  },
  {
    "text": "i'll just go ahead and empty it out",
    "start": "1018320",
    "end": "1019839"
  },
  {
    "text": "because i'm going to be putting new code",
    "start": "1019839",
    "end": "1021519"
  },
  {
    "text": "in there next",
    "start": "1021519",
    "end": "1023199"
  },
  {
    "text": "i'll download the latest revision uh and",
    "start": "1023199",
    "end": "1025760"
  },
  {
    "text": "in my case what i've done is i've zipped",
    "start": "1025760",
    "end": "1027360"
  },
  {
    "text": "up the",
    "start": "1027360",
    "end": "1028079"
  },
  {
    "text": "output of my build and i've uploaded it",
    "start": "1028079",
    "end": "1030720"
  },
  {
    "text": "to an s3 bucket that i control",
    "start": "1030720",
    "end": "1033038"
  },
  {
    "text": "and then what i will do is expand the",
    "start": "1033039",
    "end": "1034880"
  },
  {
    "text": "zip file",
    "start": "1034880",
    "end": "1036079"
  },
  {
    "text": "and once i've expanded the zip file i",
    "start": "1036079",
    "end": "1038798"
  },
  {
    "text": "will register a service",
    "start": "1038799",
    "end": "1040240"
  },
  {
    "text": "if i didn't detect that a service had",
    "start": "1040240",
    "end": "1042240"
  },
  {
    "text": "already been set up on the machine",
    "start": "1042240",
    "end": "1045120"
  },
  {
    "text": "then i'll start the service and finally",
    "start": "1045120",
    "end": "1047360"
  },
  {
    "text": "i'll open up port 80",
    "start": "1047360",
    "end": "1048960"
  },
  {
    "text": "so i can allow the outside world to uh",
    "start": "1048960",
    "end": "1051039"
  },
  {
    "text": "to invoke http",
    "start": "1051039",
    "end": "1052559"
  },
  {
    "text": "port 80 on the machine and again",
    "start": "1052559",
    "end": "1056080"
  },
  {
    "text": "because this is just executing commands",
    "start": "1056080",
    "end": "1058480"
  },
  {
    "text": "on the box it's not going to have any",
    "start": "1058480",
    "end": "1060080"
  },
  {
    "text": "output",
    "start": "1060080",
    "end": "1060720"
  },
  {
    "text": "variables okay",
    "start": "1060720",
    "end": "1063919"
  },
  {
    "text": "so we've defined our document now let's",
    "start": "1063919",
    "end": "1066080"
  },
  {
    "text": "go ahead and create our automation",
    "start": "1066080",
    "end": "1069279"
  },
  {
    "text": "now let's run our new document we'll",
    "start": "1069840",
    "end": "1071840"
  },
  {
    "text": "click on automation",
    "start": "1071840",
    "end": "1074880"
  },
  {
    "text": "and we'll do execute automation we'll",
    "start": "1075679",
    "end": "1078720"
  },
  {
    "text": "choose the owned by me",
    "start": "1078720",
    "end": "1080080"
  },
  {
    "text": "tab and we'll see our new install app",
    "start": "1080080",
    "end": "1082880"
  },
  {
    "text": "server",
    "start": "1082880",
    "end": "1083840"
  },
  {
    "text": "we'll go ahead and click on that",
    "start": "1083840",
    "end": "1087600"
  },
  {
    "text": "and now it's going to ask for some",
    "start": "1087760",
    "end": "1090240"
  },
  {
    "text": "additional parameters",
    "start": "1090240",
    "end": "1091520"
  },
  {
    "text": "such as the instance id",
    "start": "1091520",
    "end": "1094559"
  },
  {
    "text": "now i happened to capture that instance",
    "start": "1094559",
    "end": "1096799"
  },
  {
    "text": "id when we created our instance earlier",
    "start": "1096799",
    "end": "1098559"
  },
  {
    "text": "so i'll go ahead and paste that into the",
    "start": "1098559",
    "end": "1100080"
  },
  {
    "text": "instance id box",
    "start": "1100080",
    "end": "1101520"
  },
  {
    "text": "and i'll click execute now rather than",
    "start": "1101520",
    "end": "1104960"
  },
  {
    "text": "make you sit and wait for the",
    "start": "1104960",
    "end": "1106559"
  },
  {
    "text": "entire document to finish executing i'm",
    "start": "1106559",
    "end": "1108720"
  },
  {
    "text": "going to use the magic of video editing",
    "start": "1108720",
    "end": "1110559"
  },
  {
    "text": "to",
    "start": "1110559",
    "end": "1110880"
  },
  {
    "text": "fast forward in time i'll see you on the",
    "start": "1110880",
    "end": "1113039"
  },
  {
    "text": "other side",
    "start": "1113039",
    "end": "1115519"
  },
  {
    "text": "all right so our application has",
    "start": "1116400",
    "end": "1118480"
  },
  {
    "text": "successfully installed on the machine",
    "start": "1118480",
    "end": "1120640"
  },
  {
    "text": "so let's actually go and verify for",
    "start": "1120640",
    "end": "1122559"
  },
  {
    "text": "ourselves that",
    "start": "1122559",
    "end": "1123919"
  },
  {
    "text": "the web application is up and running on",
    "start": "1123919",
    "end": "1125760"
  },
  {
    "text": "the box so let's navigate to ec2",
    "start": "1125760",
    "end": "1129039"
  },
  {
    "text": "and we'll look at our running instances",
    "start": "1129039",
    "end": "1131600"
  },
  {
    "text": "we'll paste our instance id into the",
    "start": "1131600",
    "end": "1133280"
  },
  {
    "text": "field here",
    "start": "1133280",
    "end": "1134960"
  },
  {
    "text": "and we've got the ipv4 public ip we'll",
    "start": "1134960",
    "end": "1137440"
  },
  {
    "text": "copy that to the clipboard",
    "start": "1137440",
    "end": "1139440"
  },
  {
    "text": "and we'll navigate to that page and what",
    "start": "1139440",
    "end": "1141919"
  },
  {
    "text": "oh we have our asp.net application up",
    "start": "1141919",
    "end": "1144720"
  },
  {
    "text": "and running on the machine without any",
    "start": "1144720",
    "end": "1146320"
  },
  {
    "text": "involvement from a human being",
    "start": "1146320",
    "end": "1148840"
  },
  {
    "text": "whatsoever",
    "start": "1148840",
    "end": "1150320"
  },
  {
    "text": "the last thing i just wanted to show was",
    "start": "1150320",
    "end": "1152880"
  },
  {
    "text": "let's say",
    "start": "1152880",
    "end": "1153600"
  },
  {
    "text": "we have already installed a version of",
    "start": "1153600",
    "end": "1155440"
  },
  {
    "text": "the application",
    "start": "1155440",
    "end": "1156720"
  },
  {
    "text": "which means we've got the asp.net",
    "start": "1156720",
    "end": "1158320"
  },
  {
    "text": "runtime already installed on the machine",
    "start": "1158320",
    "end": "1160640"
  },
  {
    "text": "let's verify that our conditional",
    "start": "1160640",
    "end": "1162080"
  },
  {
    "text": "execution step actually works the way we",
    "start": "1162080",
    "end": "1164000"
  },
  {
    "text": "expect it to we'll copy this instance id",
    "start": "1164000",
    "end": "1166559"
  },
  {
    "text": "one more time",
    "start": "1166559",
    "end": "1168240"
  },
  {
    "text": "we'll go back to automation",
    "start": "1168240",
    "end": "1171520"
  },
  {
    "text": "we will execute an automation we'll",
    "start": "1171520",
    "end": "1173840"
  },
  {
    "text": "choose unby me again",
    "start": "1173840",
    "end": "1179520"
  },
  {
    "text": "we'll paste our instance id oops back",
    "start": "1179520",
    "end": "1182160"
  },
  {
    "text": "into the window here",
    "start": "1182160",
    "end": "1184000"
  },
  {
    "text": "and we'll click on execute",
    "start": "1184000",
    "end": "1187360"
  },
  {
    "text": "and again i'm going to go ahead and skip",
    "start": "1187760",
    "end": "1189679"
  },
  {
    "text": "forward in time",
    "start": "1189679",
    "end": "1191120"
  },
  {
    "text": "just to save you some time watching this",
    "start": "1191120",
    "end": "1193440"
  },
  {
    "text": "video",
    "start": "1193440",
    "end": "1194480"
  },
  {
    "text": "and now our document has finished",
    "start": "1194480",
    "end": "1196240"
  },
  {
    "text": "execution but you'll notice",
    "start": "1196240",
    "end": "1197600"
  },
  {
    "text": "that it skipped the install asp.net",
    "start": "1197600",
    "end": "1200000"
  },
  {
    "text": "runtime",
    "start": "1200000",
    "end": "1201120"
  },
  {
    "text": "what this means is when it did the check",
    "start": "1201120",
    "end": "1204080"
  },
  {
    "text": "of the asp.net runtime versions and it",
    "start": "1204080",
    "end": "1206080"
  },
  {
    "text": "performed the dependency check",
    "start": "1206080",
    "end": "1207440"
  },
  {
    "text": "it determined that the asp.net runtime",
    "start": "1207440",
    "end": "1209600"
  },
  {
    "text": "was already present",
    "start": "1209600",
    "end": "1210960"
  },
  {
    "text": "and so when it got to the choose next",
    "start": "1210960",
    "end": "1212480"
  },
  {
    "text": "step block it jumped to the install",
    "start": "1212480",
    "end": "1214799"
  },
  {
    "text": "application step",
    "start": "1214799",
    "end": "1215679"
  },
  {
    "text": "rather than going to the install asp.net",
    "start": "1215679",
    "end": "1217600"
  },
  {
    "text": "runtime again",
    "start": "1217600",
    "end": "1218799"
  },
  {
    "text": "so again the very powerful way for you",
    "start": "1218799",
    "end": "1221440"
  },
  {
    "text": "to have conditional execution of steps",
    "start": "1221440",
    "end": "1223600"
  },
  {
    "text": "inside your document",
    "start": "1223600",
    "end": "1225039"
  },
  {
    "text": "so let's go over what we covered today",
    "start": "1225039",
    "end": "1227760"
  },
  {
    "text": "first",
    "start": "1227760",
    "end": "1228159"
  },
  {
    "text": "automation documents are a fantastic way",
    "start": "1228159",
    "end": "1230240"
  },
  {
    "text": "for you to automatically",
    "start": "1230240",
    "end": "1231679"
  },
  {
    "text": "execute either aws commands or even",
    "start": "1231679",
    "end": "1233919"
  },
  {
    "text": "scripts on your ec2 instances",
    "start": "1233919",
    "end": "1236480"
  },
  {
    "text": "you can write these automation documents",
    "start": "1236480",
    "end": "1238880"
  },
  {
    "text": "manually in the console",
    "start": "1238880",
    "end": "1240320"
  },
  {
    "text": "using the document builder or you can",
    "start": "1240320",
    "end": "1242080"
  },
  {
    "text": "use the json or yaml syntax in the",
    "start": "1242080",
    "end": "1244080"
  },
  {
    "text": "editor",
    "start": "1244080",
    "end": "1244880"
  },
  {
    "text": "or you can deploy them into your aws",
    "start": "1244880",
    "end": "1246960"
  },
  {
    "text": "account using cloudformation templates",
    "start": "1246960",
    "end": "1249600"
  },
  {
    "text": "and and as we saw here in today's video",
    "start": "1249600",
    "end": "1252480"
  },
  {
    "text": "the automation documents actually have a",
    "start": "1252480",
    "end": "1254320"
  },
  {
    "text": "wide range of capabilities",
    "start": "1254320",
    "end": "1255840"
  },
  {
    "text": "not only just executing scripts on ec2",
    "start": "1255840",
    "end": "1258640"
  },
  {
    "text": "instances",
    "start": "1258640",
    "end": "1259520"
  },
  {
    "text": "but you also have the ability to execute",
    "start": "1259520",
    "end": "1261520"
  },
  {
    "text": "scripts so you can have custom logic",
    "start": "1261520",
    "end": "1263520"
  },
  {
    "text": "inside your documents and you can also",
    "start": "1263520",
    "end": "1265440"
  },
  {
    "text": "do things like have branching",
    "start": "1265440",
    "end": "1266880"
  },
  {
    "text": "inside the document where you can skip",
    "start": "1266880",
    "end": "1268880"
  },
  {
    "text": "steps or jump to it to other steps",
    "start": "1268880",
    "end": "1271600"
  },
  {
    "text": "based on the execution results from",
    "start": "1271600",
    "end": "1274240"
  },
  {
    "text": "either",
    "start": "1274240",
    "end": "1274799"
  },
  {
    "text": "commands run on your ec2 instances or",
    "start": "1274799",
    "end": "1277600"
  },
  {
    "text": "from the execution of scripts inside the",
    "start": "1277600",
    "end": "1279360"
  },
  {
    "text": "automation documents",
    "start": "1279360",
    "end": "1282400"
  },
  {
    "text": "thank you very much for watching the",
    "start": "1282480",
    "end": "1283919"
  },
  {
    "text": "video again here is the github repo",
    "start": "1283919",
    "end": "1286080"
  },
  {
    "text": "that's got the deployment samples code",
    "start": "1286080",
    "end": "1288480"
  },
  {
    "text": "if you want to go ahead and deploy this",
    "start": "1288480",
    "end": "1290080"
  },
  {
    "text": "into your own account",
    "start": "1290080",
    "end": "1291679"
  },
  {
    "text": "thanks for watching and we can't wait to",
    "start": "1291679",
    "end": "1293360"
  },
  {
    "text": "see what you build on aws",
    "start": "1293360",
    "end": "1302480"
  }
]