[
  {
    "text": "good afternoon everybody thank you for joining us for this session my name is bliss Pelle I'm an enterprise",
    "start": "210",
    "end": "8099"
  },
  {
    "text": "support lead at AWS I work in our enterprise support organization have",
    "start": "8099",
    "end": "13139"
  },
  {
    "text": "been with AWS a couple of years and I also dabble in in mobile in everything mobile so what I would like to do today",
    "start": "13139",
    "end": "20550"
  },
  {
    "text": "is talk to everyone here about authentication and authorization",
    "start": "20550",
    "end": "26390"
  },
  {
    "text": "specifically when it has to do with Apps Sync it abuse app sync and Amazon",
    "start": "26390",
    "end": "32008"
  },
  {
    "text": "Cognito so what we're gonna do today is we're going to talk about identity authentication authorization we're gonna",
    "start": "32009",
    "end": "38820"
  },
  {
    "text": "talk about how those two things can work in conjunction with alw services like",
    "start": "38820",
    "end": "45390"
  },
  {
    "text": "Amazon kognito for identity and AWS appsync how can you secure your api's",
    "start": "45390",
    "end": "51539"
  },
  {
    "text": "how can you add some granular control to your api's as well so let's jump into it",
    "start": "51539",
    "end": "59640"
  },
  {
    "text": "so when you think about identity so most of the time you don't really think about",
    "start": "59640",
    "end": "64680"
  },
  {
    "text": "it this way but identity is really the first thing that your users when you're building a mobile app it's the first",
    "start": "64680",
    "end": "70830"
  },
  {
    "text": "things that your users really interact with right users come to your web page they either have to sign in and if they",
    "start": "70830",
    "end": "78299"
  },
  {
    "text": "don't have to sign in in some fashion in one way or another you still want to manage how your users access your api's",
    "start": "78299",
    "end": "87030"
  },
  {
    "text": "how to interact with your api's right so it's really mission-critical it can make or break your your application but when",
    "start": "87030",
    "end": "93960"
  },
  {
    "text": "we think about identity there's really a couple of things that that that means right a lot of time we just think about identity as we need to sign in but",
    "start": "93960",
    "end": "101400"
  },
  {
    "text": "identity really encompasses three different things you've got authentication right that's",
    "start": "101400",
    "end": "106649"
  },
  {
    "text": "kind of kind of basic right it jumps to mind when when you talk about that your users are gonna be neat to be able to",
    "start": "106649",
    "end": "113040"
  },
  {
    "text": "sign in right you need to be able to differentiate users but a lot of time when building modern apps today you also",
    "start": "113040",
    "end": "120119"
  },
  {
    "text": "need to think about things like Federation right everybody's been on these websites you go to a website and to give you an option to sign in with",
    "start": "120119",
    "end": "127079"
  },
  {
    "text": "your Facebook identity with your Google identity with a social identity people",
    "start": "127079",
    "end": "132390"
  },
  {
    "text": "don't always want to have to recreate passwords right that's what we have all these password management ass because we get so many",
    "start": "132390",
    "end": "138540"
  },
  {
    "text": "passwords so people want to avoid that Federation is big at the same time if you're dealing with enterprise companies",
    "start": "138540",
    "end": "144110"
  },
  {
    "text": "Federation is another thing that they want to use right if all everybody's heard about single sign-on being able to",
    "start": "144110",
    "end": "149519"
  },
  {
    "text": "access apps without having to sign on all the time and if you're on your corporate network or if you provide your",
    "start": "149519",
    "end": "155670"
  },
  {
    "text": "corporate identity those are things that you have to take into consideration when building applications then there's also",
    "start": "155670",
    "end": "163200"
  },
  {
    "text": "two authorization piece so you've identified you've authenticated a person",
    "start": "163200",
    "end": "168930"
  },
  {
    "text": "an identity a user the next step is what does that mean for your actual application what should that person be",
    "start": "168930",
    "end": "174840"
  },
  {
    "text": "allowed to access that's what we mean by authorization we want to make sure that the right set of data is access and",
    "start": "174840",
    "end": "181430"
  },
  {
    "text": "privileged data is protected right if you have an administrator that's",
    "start": "181430",
    "end": "186989"
  },
  {
    "text": "different from the regular day user you want to be able to authorize them in different ways right and I talked a",
    "start": "186989",
    "end": "192810"
  },
  {
    "text": "little bit about to fine grained access control right you may have a user and you want to use it to access a specific",
    "start": "192810",
    "end": "198590"
  },
  {
    "text": "subset of your resources right versus accessing another part of your",
    "start": "198590",
    "end": "204329"
  },
  {
    "text": "infrastructure a simple example is let's say I have a file system right I log in to a to a machine I should be",
    "start": "204329",
    "end": "211440"
  },
  {
    "text": "able to access my home folder somebody else should not be able to access my home folder but we want to be able to nuance that and to authorize to those",
    "start": "211440",
    "end": "218340"
  },
  {
    "text": "things and then the last thing is user management you're going to interact with",
    "start": "218340",
    "end": "224160"
  },
  {
    "text": "users you're storing that that data but you've got to manage it so you need an interface that's gonna let you manage",
    "start": "224160",
    "end": "230069"
  },
  {
    "text": "that easily what if you need to migrate your users what if you need to add some additional information about your users",
    "start": "230069",
    "end": "236700"
  },
  {
    "text": "how are you going to do that you need to be able to do that in a secure way as well and then you want to be able to monitor how these users are interacting",
    "start": "236700",
    "end": "244380"
  },
  {
    "text": "with your application now we say that identity is",
    "start": "244380",
    "end": "249780"
  },
  {
    "text": "mission-critical but what we don't always think about is that implementing",
    "start": "249780",
    "end": "255660"
  },
  {
    "text": "off into infrastructure is actually really difficult right if you think about the couple of things that I've",
    "start": "255660",
    "end": "261510"
  },
  {
    "text": "mentioned now if you think about what it would take to implement those things there's a there's a couple of",
    "start": "261510",
    "end": "267240"
  },
  {
    "text": "things and it's not something that's easy to do unless you've got to expertise right if we run down two",
    "start": "267240",
    "end": "272400"
  },
  {
    "text": "things the list of things that you need to do you need to develop a reliable user directory to manage identities",
    "start": "272400",
    "end": "278250"
  },
  {
    "text": "where are you storing this information is it secure who has access to it are",
    "start": "278250",
    "end": "283530"
  },
  {
    "text": "your users trusting you of their information what are you doing with it you need to be able to handle user and",
    "start": "283530",
    "end": "289710"
  },
  {
    "text": "data and passwords securely do you know how to manage passwords right is there",
    "start": "289710",
    "end": "294990"
  },
  {
    "text": "anything specific that needs to be done there then you need to be able to implement at scale so you may be",
    "start": "294990",
    "end": "300569"
  },
  {
    "text": "starting with an application and maybe you expect in a couple of hundreds of users you know some brand new",
    "start": "300569",
    "end": "306389"
  },
  {
    "text": "application what if your application goes viral what do you do then right how do you manage API access how do you make",
    "start": "306389",
    "end": "313800"
  },
  {
    "text": "a handle to scale how you do you handle the peak request do you need to do you",
    "start": "313800",
    "end": "322020"
  },
  {
    "text": "need to weigh building big or building small those are things that you need to think about and if you go major your",
    "start": "322020",
    "end": "327870"
  },
  {
    "text": "infrastructure needs to be able to scale with you then you want to prove you want to support to standard the standard the",
    "start": "327870",
    "end": "335310"
  },
  {
    "text": "regular standards that are used in this space things like Oh F to open ID sam'l right for Federation and the standards",
    "start": "335310",
    "end": "343500"
  },
  {
    "text": "keep on getting updated so when they're updated you get an update your implementation to meet the requirements",
    "start": "343500",
    "end": "349409"
  },
  {
    "text": "is that something that you want to take on take on as part of your application development you also need to support",
    "start": "349409",
    "end": "356699"
  },
  {
    "text": "multiple social identities I talked about Facebook Google but think these these things are really relevant into space and then federating with corporate",
    "start": "356699",
    "end": "363780"
  },
  {
    "text": "directories for business to business to business and other type of applications",
    "start": "363780",
    "end": "369900"
  },
  {
    "text": "so all of this is really difficult to do and when you're building an application you really want to get to rent ground",
    "start": "369900",
    "end": "375330"
  },
  {
    "text": "running you want to get started you're gonna have to make a decision what do you want to focus on do you want to focus on building your application or",
    "start": "375330",
    "end": "381659"
  },
  {
    "text": "you want to focus on identity because even though we say identity is mission-critical identity is hard it's",
    "start": "381659",
    "end": "388650"
  },
  {
    "text": "difficult to implement we don't really see identity as a differentiator right nobody comes to",
    "start": "388650",
    "end": "395430"
  },
  {
    "text": "your app and says oh wow they've got a pretty great login screen here that's not what people focus on it's not",
    "start": "395430",
    "end": "401410"
  },
  {
    "text": "gonna differentiate your app from another app into App Store that's why we have the Amazon cognitive service with",
    "start": "401410",
    "end": "409389"
  },
  {
    "text": "the Amazon kognito service you get a service that allows that handles identity management authorization and",
    "start": "409389",
    "end": "415389"
  },
  {
    "text": "authentication for you and what we really want to do is allow you and developers to focus on what is special",
    "start": "415389",
    "end": "421930"
  },
  {
    "text": "about your application focus on those killer features that's real that are really going to set your application",
    "start": "421930",
    "end": "428110"
  },
  {
    "text": "apart on the App Store on wherever your application resides and then let could",
    "start": "428110",
    "end": "434979"
  },
  {
    "text": "needle handle authentication and identity so what this could needle offer",
    "start": "434979",
    "end": "440320"
  },
  {
    "text": "you what does it offer out of the box well we talked about the manage user directory so it has that kognito can be",
    "start": "440320",
    "end": "447760"
  },
  {
    "text": "used as an identity provider if you want it to kognito can also provide a hosted",
    "start": "447760",
    "end": "453729"
  },
  {
    "text": "UI so if you don't if you're not a front-end developer if you're not if you",
    "start": "453729",
    "end": "459940"
  },
  {
    "text": "don't know do not know how to design front-end applications kognito can help you get started and provide a hosted UI",
    "start": "459940",
    "end": "466389"
  },
  {
    "text": "that you can customize easily to meet your theme the theme of your application and are the requirements that you have",
    "start": "466389",
    "end": "472720"
  },
  {
    "text": "it also supports a federation so you can federate easily towards with Google",
    "start": "472720",
    "end": "478120"
  },
  {
    "text": "Facebook Amazon IDs sam'l and Olaf Open",
    "start": "478120",
    "end": "484720"
  },
  {
    "text": "ID Connect canítö can also then it OBS credentials so that's really interesting",
    "start": "484720",
    "end": "489910"
  },
  {
    "text": "you can have your users receive temporary credentials to access your AWS",
    "start": "489910",
    "end": "495760"
  },
  {
    "text": "resources that's really interesting and of course we then support standard tokens I talked about open ID and oh of",
    "start": "495760",
    "end": "501880"
  },
  {
    "text": "two so Cognito after you've authenticated with Cognito it can return to you a set of tokens that you can then",
    "start": "501880",
    "end": "507940"
  },
  {
    "text": "use to access your own systems or to get authorization to access other systems so",
    "start": "507940",
    "end": "518370"
  },
  {
    "text": "when we look at Amazon kognito there's a couple of identity management scenarios",
    "start": "518370",
    "end": "523450"
  },
  {
    "text": "typical identity management scenarios that we see so let me go through them real quick the first thing that we see",
    "start": "523450",
    "end": "529120"
  },
  {
    "text": "is business-to-consumer right so that's the that's the typical application you're building you're building an application it's it's",
    "start": "529120",
    "end": "534579"
  },
  {
    "text": "for the mass public right we see it using that in that fashion and in the in this type of implementation you're",
    "start": "534579",
    "end": "542170"
  },
  {
    "text": "looking to do Federation with social identities and you're also looking to allow your users to log in directly to",
    "start": "542170",
    "end": "549339"
  },
  {
    "text": "the applicant to their application so they can create an account and log into the application we also see",
    "start": "549339",
    "end": "555519"
  },
  {
    "text": "business-to-business scenarios so this is a scenario where I create an application and I it's been",
    "start": "555519",
    "end": "563320"
  },
  {
    "text": "used by businesses maybe I sell them to application or something but they want",
    "start": "563320",
    "end": "568570"
  },
  {
    "text": "to be able to use this application without their users that they already managed without them having to sign in",
    "start": "568570",
    "end": "574959"
  },
  {
    "text": "again to this application and they want that to be controlled so Cognito can support that as well we also have the",
    "start": "574959",
    "end": "581589"
  },
  {
    "text": "business to employee so this is a setting where you within your organization you are building an",
    "start": "581589",
    "end": "587589"
  },
  {
    "text": "application to be used internally similar to the business to business but in this case you only have one",
    "start": "587589",
    "end": "593970"
  },
  {
    "text": "enterprise directory that you're yes that you're supporting it's only available for your internal organization",
    "start": "593970",
    "end": "599829"
  },
  {
    "text": "and then we have two iot scenarios we're seeing a lot more of these as IOT is",
    "start": "599829",
    "end": "605620"
  },
  {
    "text": "really expanding so you may have the situation where you have a lot of IOT devices they're using AWS credentials to",
    "start": "605620",
    "end": "612010"
  },
  {
    "text": "access your AWS resources but you also need to manage them and you manage them via could needle you get credentials to",
    "start": "612010",
    "end": "619899"
  },
  {
    "text": "access them via via Cognito so this is a prevalent use case that we're starting to see in the field as well now Cognito",
    "start": "619899",
    "end": "632730"
  },
  {
    "text": "when you use it if you use it as a to manage your identities we really want",
    "start": "632730",
    "end": "638230"
  },
  {
    "text": "you to be able to own all of the data that is that Cognito manages and we want",
    "start": "638230",
    "end": "645279"
  },
  {
    "text": "canítö to be able to ant handle comprehensive user flows meaning we",
    "start": "645279",
    "end": "650860"
  },
  {
    "text": "could needle is able to handle most of the interactions that people do when it comes to authentication and",
    "start": "650860",
    "end": "656260"
  },
  {
    "text": "authorization so Cognito supports sign up and sign in out of the box you don't have to do much to get started with that",
    "start": "656260",
    "end": "664180"
  },
  {
    "text": "it supports user profiles so users are able to retrieve their own profiles and they can modify their",
    "start": "664180",
    "end": "670300"
  },
  {
    "text": "profiles depending on how you set up your kognito user pool it supports forgot forgot password flow",
    "start": "670300",
    "end": "677320"
  },
  {
    "text": "as well so users can easily retrieve their password if they forget it you",
    "start": "677320",
    "end": "682720"
  },
  {
    "text": "don't have to implement that supports token-based authentication so we support Jason Cognito supports JSON web tokens",
    "start": "682720",
    "end": "690070"
  },
  {
    "text": "we vendors out after you authenticate we support email a phone number verification so this is really good when",
    "start": "690070",
    "end": "697210"
  },
  {
    "text": "you want to make sure that your users are actually real users when you want to have that second layer of verification",
    "start": "697210",
    "end": "702850"
  },
  {
    "text": "you can provide an email address or a phone number and kognito will make sure we'll take care of of handling to",
    "start": "702850",
    "end": "709090"
  },
  {
    "text": "verification we also support SMS multi-factor authentication so if you",
    "start": "709090",
    "end": "714400"
  },
  {
    "text": "want to have MSA a bit another layer of very verification every time a user",
    "start": "714400",
    "end": "719920"
  },
  {
    "text": "signs in that is also possible and in",
    "start": "719920",
    "end": "727470"
  },
  {
    "text": "addition to that supporting to user flows is good but we could Neto also",
    "start": "727470",
    "end": "732700"
  },
  {
    "text": "allows you to manage your user pools right so this is your data there are",
    "start": "732700",
    "end": "739480"
  },
  {
    "text": "your users kognito allows you to really take ownership of that data and manage it as needed so we support creating a",
    "start": "739480",
    "end": "748240"
  },
  {
    "text": "managing user pools you can create multiple user pools you don't have to to be limited to one we support defining",
    "start": "748240",
    "end": "755050"
  },
  {
    "text": "custom attributes so there's a standard set of attributes that we that we define but if you want your customers to be",
    "start": "755050",
    "end": "761230"
  },
  {
    "text": "able to store certain type of data associated with your attribute you can also define that we support per app",
    "start": "761230",
    "end": "770410"
  },
  {
    "text": "permissions so you can have a user pool that supports a different type of apps and you can segregate what user can",
    "start": "770410",
    "end": "776710"
  },
  {
    "text": "access what type of app and you can easily search your you for your users",
    "start": "776710",
    "end": "782920"
  },
  {
    "text": "whether you have hundreds of thousands of users and you can easily manage your users right so we want to death we want",
    "start": "782920",
    "end": "790450"
  },
  {
    "text": "users we want people that are using Cognito to be able to manage their data it's your data we want to make sure that",
    "start": "790450",
    "end": "796990"
  },
  {
    "text": "you can easily interact with it so I talked a little bit about to user flows to comprehensive user",
    "start": "796990",
    "end": "802580"
  },
  {
    "text": "flows that we have right so we allow users Cognito allows users to sign in sign up sign out retrieve their",
    "start": "802580",
    "end": "809300"
  },
  {
    "text": "information but we also allows you connected needle also allows you to customize the flows using lambda hooks",
    "start": "809300",
    "end": "816050"
  },
  {
    "text": "if you're not familiar with lambda lambda is our service service service",
    "start": "816050",
    "end": "821740"
  },
  {
    "text": "that allows you to create to deploy code as functions so you can hook up lambda",
    "start": "821740",
    "end": "828290"
  },
  {
    "text": "functions in these workflows to take specific actions when they are executed right so for example you can",
    "start": "828290",
    "end": "835520"
  },
  {
    "text": "define your specific authentication challenges let's say you want to ask or you want to specify a secret question",
    "start": "835520",
    "end": "841370"
  },
  {
    "text": "that changes every day and that your users should be able to answer before they access your application cândido",
    "start": "841370",
    "end": "847850"
  },
  {
    "text": "allows you to to do that we also allow you to plug in two authentication",
    "start": "847850",
    "end": "853160"
  },
  {
    "text": "reasons right so before we authenticate a user you can do a check and make sure that your business logic is is evaluated",
    "start": "853160",
    "end": "861080"
  },
  {
    "text": "before we return tokens you can also add additional claims to the tokens that are",
    "start": "861080",
    "end": "866660"
  },
  {
    "text": "returned if you want to dynamically add more information to the tokens that are returned we support Cognito supports",
    "start": "866660",
    "end": "874250"
  },
  {
    "text": "adding pre sign up hooks as well and post confirmation hooks so if you have",
    "start": "874250",
    "end": "880490"
  },
  {
    "text": "data a data database or data repository on your on-premise or somewhere else",
    "start": "880490",
    "end": "886730"
  },
  {
    "text": "that you want to update after somebody has signed up if there's special specific messaging that you want to send",
    "start": "886730",
    "end": "892490"
  },
  {
    "text": "out Cognito allows you to do that easily I talked a little bit about Java web",
    "start": "892490",
    "end": "900380"
  },
  {
    "text": "tokens that could needle returns so let me talk about a bit more about them here",
    "start": "900380",
    "end": "905900"
  },
  {
    "text": "so when you authenticate with kognito kognito if you success successfully authenticate kognito will return to you",
    "start": "905900",
    "end": "912290"
  },
  {
    "text": "a set of tokens typically it will return an access token and an identity token",
    "start": "912290",
    "end": "917780"
  },
  {
    "text": "these are job java web tokens if you're not familiar with Java web tokens Java",
    "start": "917780",
    "end": "923060"
  },
  {
    "text": "web tokens consist of a header data and a signature so the data part holds",
    "start": "923060",
    "end": "931070"
  },
  {
    "text": "information that specifies different things depending on what type of token it is if it's an access token",
    "start": "931070",
    "end": "938720"
  },
  {
    "text": "the access token can be used to authorize requests including kognito api's so for example if a user wants to",
    "start": "938720",
    "end": "945649"
  },
  {
    "text": "modify some user data that's stored in incognito they can submit the access",
    "start": "945649",
    "end": "950690"
  },
  {
    "text": "token to get author the authorization to change to update their data right so the",
    "start": "950690",
    "end": "956089"
  },
  {
    "text": "access token is going to include things like o of scopes and Cognito groups this token expires after an hour we also",
    "start": "956089",
    "end": "964040"
  },
  {
    "text": "provide an identity token not the identity identity token can be used to gain access to other api's you can use",
    "start": "964040",
    "end": "971000"
  },
  {
    "text": "it to authenticate towards other services in AWS that support it and we'll talk a little bit about that it",
    "start": "971000",
    "end": "977120"
  },
  {
    "text": "includes information about the user so it has user profile information attributes and kognito groups it also",
    "start": "977120",
    "end": "983930"
  },
  {
    "text": "expires after an hour the other thing that it provides is a refresh token token so this is just an open blob but",
    "start": "983930",
    "end": "990620"
  },
  {
    "text": "to refresh tokens allows you to allows users to reach receive new tokens",
    "start": "990620",
    "end": "996560"
  },
  {
    "text": "without having to sign in every single time so you get a refresh token it's",
    "start": "996560",
    "end": "1001690"
  },
  {
    "text": "cached on your browser and when your identity tokens and access token expires you can it is automatically resubmitted",
    "start": "1001690",
    "end": "1010120"
  },
  {
    "text": "so that you can get new tokens and this is all done securely so this is an",
    "start": "1010120",
    "end": "1016630"
  },
  {
    "text": "overview of Cognito but how does it integrate with AWS app sync if you if you've interacted with",
    "start": "1016630",
    "end": "1025959"
  },
  {
    "text": "AWS app sync before you've probably seen that we have several methods of authorization looking at them real quick",
    "start": "1025959",
    "end": "1033730"
  },
  {
    "text": "you can authenticate you can choose an authorization type consisting of an API",
    "start": "1033730",
    "end": "1039250"
  },
  {
    "text": "key so the API key helps you easily get started if you're building a demo if you're you know interacting with AB sync",
    "start": "1039250",
    "end": "1047230"
  },
  {
    "text": "for the first time and you want to get started quickly you can use that API key then we also support an open ID connect",
    "start": "1047230",
    "end": "1054040"
  },
  {
    "text": "so you can provide any type of IDP that you want to use to authenticate towards",
    "start": "1054040",
    "end": "1060870"
  },
  {
    "text": "Cognito and to verify your authorization and then we also support AWS Identity",
    "start": "1060870",
    "end": "1067030"
  },
  {
    "text": "and Access I am and we support Eggman Amazon could Neto use a pool so let's look at how",
    "start": "1067030",
    "end": "1075190"
  },
  {
    "text": "authorization works with kognito when you are using Amazon needle user pools",
    "start": "1075190",
    "end": "1083010"
  },
  {
    "text": "so this is the typical typical flow that you have you have a mobile application",
    "start": "1083010",
    "end": "1088140"
  },
  {
    "text": "you're interacting with Amazon Candido user pooled you're interacting with with AWS appsync so what happens when you",
    "start": "1088140",
    "end": "1094179"
  },
  {
    "text": "access a web application and you want to gain access to to app sync so the first",
    "start": "1094179",
    "end": "1099429"
  },
  {
    "text": "thing that happens is that you try to authenticate authentication is done towards Amazon Candido user pool you",
    "start": "1099429",
    "end": "1106929"
  },
  {
    "text": "send in your this is your typical web page of username and password you that information is securely sent to good",
    "start": "1106929",
    "end": "1114250"
  },
  {
    "text": "needle kognito validates the information and if you sign in successfully JWT",
    "start": "1114250",
    "end": "1119350"
  },
  {
    "text": "tokens or returned so this is the access key the access token the identity token",
    "start": "1119350",
    "end": "1124960"
  },
  {
    "text": "and to refresh token that we just looked at that is returned to your web",
    "start": "1124960",
    "end": "1132100"
  },
  {
    "text": "application so it's tech needle only interacts with your web application on on this interface when your application",
    "start": "1132100",
    "end": "1140169"
  },
  {
    "text": "gets that information it can then use the JWT token to identity token",
    "start": "1140169",
    "end": "1145210"
  },
  {
    "text": "specifically to to gain access to app sync and this is simply done by adding",
    "start": "1145210",
    "end": "1152049"
  },
  {
    "text": "the ID token as a header as an authorization header to the HTTP request",
    "start": "1152049",
    "end": "1157419"
  },
  {
    "text": "that is sent to app sync appsync gets",
    "start": "1157419",
    "end": "1162880"
  },
  {
    "text": "the identity token and validates the identity token right so it's not enough to just send a token app sync in the",
    "start": "1162880",
    "end": "1170350"
  },
  {
    "text": "back will validate this information with Cognito to make sure that token is actually",
    "start": "1170350",
    "end": "1175780"
  },
  {
    "text": "valid right so that every token consists of as I said a header a payload data",
    "start": "1175780",
    "end": "1182350"
  },
  {
    "text": "payload and a signature so appsync can talk into back in with could needle user pool to make sure that your signature is",
    "start": "1182350",
    "end": "1188860"
  },
  {
    "text": "actually valid and it does that by looking at the header - payload and",
    "start": "1188860",
    "end": "1193919"
  },
  {
    "text": "communicating with kognito to see if the signature that was included is actually valid if token is validated",
    "start": "1193919",
    "end": "1201610"
  },
  {
    "text": "you didn't get access to your data sources right so appsync interacts with",
    "start": "1201610",
    "end": "1206770"
  },
  {
    "text": "your data sources using your your resolvers how does it look when we use",
    "start": "1206770",
    "end": "1215910"
  },
  {
    "text": "Amazon canoodle identity pools with I am so the interaction is kind of similar",
    "start": "1215910",
    "end": "1223990"
  },
  {
    "text": "but a bit different so the first part is the same you've got to authenticate then Cognito",
    "start": "1223990",
    "end": "1231820"
  },
  {
    "text": "user pool returns GWT token the interesting part is that your application can then request AWS",
    "start": "1231820",
    "end": "1239860"
  },
  {
    "text": "credentials from Amazon committal identity pools right Amazon kognito",
    "start": "1239860",
    "end": "1246790"
  },
  {
    "text": "identity pools will do the same thing it will validate the ID token make sure that the ID token is valid contains the",
    "start": "1246790",
    "end": "1252910"
  },
  {
    "text": "right information and that it can then credentials back to their application when that is done temporary AWS",
    "start": "1252910",
    "end": "1260470"
  },
  {
    "text": "credentials are returned to your mobile application the mobile application can",
    "start": "1260470",
    "end": "1266440"
  },
  {
    "text": "then call the absent API by signing its request with it with the AWS credentials",
    "start": "1266440",
    "end": "1271990"
  },
  {
    "text": "that have been that have been returned so if you've interacted with AWS services you've probably heard of sig v4",
    "start": "1271990",
    "end": "1278380"
  },
  {
    "text": "that's what we're gonna do there we're gonna take your access token your session token and we're gonna use that",
    "start": "1278380",
    "end": "1284049"
  },
  {
    "text": "to actually sign to request when that request arrives at appsync appsync is",
    "start": "1284049",
    "end": "1291400"
  },
  {
    "text": "actually going to check with the IM service to make sure that request is valid was it properly signed does it",
    "start": "1291400",
    "end": "1299350"
  },
  {
    "text": "confirm conform with what should be expected so that is this check done with with I am and then at that point if",
    "start": "1299350",
    "end": "1307260"
  },
  {
    "text": "everything checks out you have access app sync accepts to request and you get",
    "start": "1307260",
    "end": "1314290"
  },
  {
    "text": "access to your resolvers so you have two different ways of accessing app sync you",
    "start": "1314290",
    "end": "1320919"
  },
  {
    "text": "can exit it access it with a java web token through canítö user pools and you can access it with your IM credentials",
    "start": "1320919",
    "end": "1327850"
  },
  {
    "text": "so you may ask yourself when should I use which method well it really depends",
    "start": "1327850",
    "end": "1334750"
  },
  {
    "text": "what you're building and how you're interacting with with appsync if you are interacting with the mobile application",
    "start": "1334750",
    "end": "1341860"
  },
  {
    "text": "and just want to get access to apps like Jeff and web token maybe maybe all that",
    "start": "1341860",
    "end": "1349000"
  },
  {
    "text": "you need but let's say you're building an application where your mobile application is interacting with appsync",
    "start": "1349000",
    "end": "1355150"
  },
  {
    "text": "but you also have back-end services that are act interacting with Abzug and those back-end services are using AWS",
    "start": "1355150",
    "end": "1361630"
  },
  {
    "text": "temperature credentials to access app sync at that point you're gonna have to configure your app sync API to use IM",
    "start": "1361630",
    "end": "1369340"
  },
  {
    "text": "credentials right so you can have your back-end services access app sync with",
    "start": "1369340",
    "end": "1375310"
  },
  {
    "text": "credentials and then with AWS credentials and then your mobile application can also access lab sync",
    "start": "1375310",
    "end": "1381730"
  },
  {
    "text": "with those credentials there's also a",
    "start": "1381730",
    "end": "1388780"
  },
  {
    "text": "couple of other advantages of using IM credentials so this is an overview and IM policy detail so this is a policy",
    "start": "1388780",
    "end": "1395680"
  },
  {
    "text": "that you would configure for your users to access apps 'ok so this is a standard",
    "start": "1395680",
    "end": "1400900"
  },
  {
    "text": "policy format for IM you have a statement here and the statement",
    "start": "1400900",
    "end": "1405910"
  },
  {
    "text": "actually dictates what a user can do so the effect of this statement is allow",
    "start": "1405910",
    "end": "1411280"
  },
  {
    "text": "meaning what we're gonna specify here should is allowed on this resource so",
    "start": "1411280",
    "end": "1416830"
  },
  {
    "text": "two actions that we specify or allowed for the resource to specific action that we're calling here is epson graph QL so",
    "start": "1416830",
    "end": "1424300"
  },
  {
    "text": "there are multiple actions that you can take against app sink but this is the only action action that you can take",
    "start": "1424300",
    "end": "1432310"
  },
  {
    "text": "when it comes to interacting with well let's say I have to use a plane interacting with the with the with the",
    "start": "1432310",
    "end": "1437740"
  },
  {
    "text": "API it's absent graph QL and then you can specify your resource so the",
    "start": "1437740",
    "end": "1443020"
  },
  {
    "text": "resource is a what we called an AR n amazon resource number and it specifies",
    "start": "1443020",
    "end": "1448720"
  },
  {
    "text": "specifically what you can access within the API so the way AR ends are written",
    "start": "1448720",
    "end": "1454960"
  },
  {
    "text": "is a fairly straightforward so we have AR n AWS appsync denotes the service",
    "start": "1454960",
    "end": "1460750"
  },
  {
    "text": "then we have to region us west to in this case then you have an account ID",
    "start": "1460750",
    "end": "1465850"
  },
  {
    "text": "this is a fictional account ID try to access it and then you have api's",
    "start": "1465850",
    "end": "1471680"
  },
  {
    "text": "and then you would have your graph QL API ID if you go to the console you can go into your settings of your API and",
    "start": "1471680",
    "end": "1479600"
  },
  {
    "text": "grab the API ID from there then you can specify what is available for access you",
    "start": "1479600",
    "end": "1485300"
  },
  {
    "text": "can specify the types so in this example we say types to query the query is one",
    "start": "1485300",
    "end": "1490760"
  },
  {
    "text": "of the basic types for your graphical schema and you can go all the way down",
    "start": "1490760",
    "end": "1496760"
  },
  {
    "text": "to the fields so you can say that in this query this user that is using this",
    "start": "1496760",
    "end": "1502130"
  },
  {
    "text": "policy can only access field one right so that's pretty granular so that's some",
    "start": "1502130",
    "end": "1508520"
  },
  {
    "text": "pretty granular control you could do the same thing on on a mute on the mutation type so let's say we have a mutation and",
    "start": "1508520",
    "end": "1515330"
  },
  {
    "text": "we have a create post field in term you tation using the I in policy we could",
    "start": "1515330",
    "end": "1521060"
  },
  {
    "text": "restrict users to accessing specific mutation fields within Abzug so that's",
    "start": "1521060",
    "end": "1529010"
  },
  {
    "text": "one way of implementing fine-grained access control now there are other ways",
    "start": "1529010",
    "end": "1538160"
  },
  {
    "text": "that you can also do this when I talk about fine-grained access control is really being able able to pinpoint",
    "start": "1538160",
    "end": "1543260"
  },
  {
    "text": "resources that we want our users to access versus other things one of the",
    "start": "1543260",
    "end": "1548570"
  },
  {
    "text": "things that we can do in app sync to implement find great confine great access control is to use the identity",
    "start": "1548570",
    "end": "1555470"
  },
  {
    "text": "information that is available at the resolver so when you use atom as Amazon",
    "start": "1555470",
    "end": "1562790"
  },
  {
    "text": "could needle user pool we talked about the JWT token the JWT token actually returns a whole payload that has a set",
    "start": "1562790",
    "end": "1571100"
  },
  {
    "text": "of information it'll have information that looks like this and this information is actually",
    "start": "1571100",
    "end": "1577610"
  },
  {
    "text": "available automatically at your resolver when you access the resolver and you've",
    "start": "1577610",
    "end": "1583460"
  },
  {
    "text": "you've requested access to the resolver using a JWT token so at the resolver",
    "start": "1583460",
    "end": "1590330"
  },
  {
    "text": "you'll have access to your subscriber ID to issuer to username to claims associated with the user to source IP",
    "start": "1590330",
    "end": "1598370"
  },
  {
    "text": "and to default authorization strategy this information does not need to be sent by two user so when you have a",
    "start": "1598370",
    "end": "1606740"
  },
  {
    "text": "query or a mutation you do not need to include this use this information in your in your request this is",
    "start": "1606740",
    "end": "1612920"
  },
  {
    "text": "automatically made available by appsync inter resolver and because it's made available based on the information that",
    "start": "1612920",
    "end": "1620450"
  },
  {
    "text": "Cognito says you have access to we can use it information to make real",
    "start": "1620450",
    "end": "1625690"
  },
  {
    "text": "authorization decisions right so we can use when we get to subscriber info to",
    "start": "1625690",
    "end": "1631370"
  },
  {
    "text": "sub information which is a ID that represents to user we can actually use",
    "start": "1631370",
    "end": "1636440"
  },
  {
    "text": "that pretty pretty confidently we know that this represents the user same thing",
    "start": "1636440",
    "end": "1641840"
  },
  {
    "text": "if we're using Amazon could needle identity pools and that and we're using IM credentials to access our our absent",
    "start": "1641840",
    "end": "1649070"
  },
  {
    "text": "API all of this information is made available at the resolver so we get account ID - a committal pool ID -",
    "start": "1649070",
    "end": "1656570"
  },
  {
    "text": "identity ID - source IP - username and to use aar n this is all information that is available into resolver you can",
    "start": "1656570",
    "end": "1664100"
  },
  {
    "text": "access this information if you're saving information and DynamoDB tables you can write this information to a dynamic DB",
    "start": "1664100",
    "end": "1670550"
  },
  {
    "text": "table so you can then make control decision based on on this information so",
    "start": "1670550",
    "end": "1678860"
  },
  {
    "text": "for example if you look at a typical flow right for fine-grained action access control you have your application",
    "start": "1678860",
    "end": "1686140"
  },
  {
    "text": "you get a token from kognito user pool and you use it in in your as an",
    "start": "1686140",
    "end": "1692060"
  },
  {
    "text": "authorization header into request that that is sent to - app sync right app",
    "start": "1692060",
    "end": "1698060"
  },
  {
    "text": "sync can then use this information to make conditional checks in your resolver right so should our user be able to",
    "start": "1698060",
    "end": "1705980"
  },
  {
    "text": "access certain type of a information should the user a be able to access this information well yes the user can access",
    "start": "1705980",
    "end": "1712940"
  },
  {
    "text": "to information if this data is actually tagged to user a and we'll see how that can be done using things like dynamo dB",
    "start": "1712940",
    "end": "1721780"
  },
  {
    "text": "so this is one way you can implement fine-grained access control yes question",
    "start": "1721780",
    "end": "1728710"
  },
  {
    "text": "well I think this is so the question is why are some companies reluctant to use",
    "start": "1734400",
    "end": "1739690"
  },
  {
    "text": "the public cloud so this is a question that really goes beyond just just app",
    "start": "1739690",
    "end": "1745570"
  },
  {
    "text": "sync right you would have to look at what is each company looking at the",
    "start": "1745570",
    "end": "1751059"
  },
  {
    "text": "public cloud is definitely secure we have a lot of companies a lot of financial companies that are used better",
    "start": "1751059",
    "end": "1756580"
  },
  {
    "text": "that are using total public cloud so I would say that it's not really that question is not really related to to",
    "start": "1756580",
    "end": "1763270"
  },
  {
    "text": "what what's going on here you would have to look at specific concerns that each company has right but credentials this",
    "start": "1763270",
    "end": "1771370"
  },
  {
    "text": "is more about just fine grained control within Apps Sync resolvers well you know",
    "start": "1771370",
    "end": "1784059"
  },
  {
    "text": "the other point that's being made is that it's it's a cultural issue why public financial companies don't want to",
    "start": "1784059",
    "end": "1789640"
  },
  {
    "text": "use the public cloud I think it's a it's a discussion that we could go into an in",
    "start": "1789640",
    "end": "1795340"
  },
  {
    "text": "a lot of a lot of death you would have to see you know the claims that are made and and other things but the public",
    "start": "1795340",
    "end": "1801760"
  },
  {
    "text": "cloud AWS is definitely secure right if you've interacted with AWS and AW",
    "start": "1801760",
    "end": "1807790"
  },
  {
    "text": "services security there's always our number-one concern that's why we were talking about Neto",
    "start": "1807790",
    "end": "1813070"
  },
  {
    "text": "and in implementing security here you know that's the number one concern and when we implement solutions like this",
    "start": "1813070",
    "end": "1819700"
  },
  {
    "text": "when we implement services we always look at security first right ok so maybe",
    "start": "1819700",
    "end": "1826480"
  },
  {
    "text": "what I want to do at this point is take a quick look at how this actually looks",
    "start": "1826480",
    "end": "1831910"
  },
  {
    "text": "right if we wanted to to launch an application and actually make use things",
    "start": "1831910",
    "end": "1837820"
  },
  {
    "text": "like could Neto use a pool so let me just show gonna get out of this view",
    "start": "1837820",
    "end": "1848920"
  },
  {
    "text": "real quick",
    "start": "1848920",
    "end": "1851280"
  },
  {
    "text": "okay let me show this really so I have an",
    "start": "1858660",
    "end": "1864420"
  },
  {
    "text": "application here that's that's running this is a very simple application it's a react application that I've created",
    "start": "1864420",
    "end": "1870510"
  },
  {
    "text": "using amplify I believe you've heard about empathy early earlier today and it",
    "start": "1870510",
    "end": "1876630"
  },
  {
    "text": "uses a graph QL app sing back-end so and again it's a react application I try to",
    "start": "1876630",
    "end": "1883500"
  },
  {
    "text": "access the application and I'm refreshing my screen here this is the",
    "start": "1883500",
    "end": "1888930"
  },
  {
    "text": "first thing I I see full disclosure I didn't implement this right this is",
    "start": "1888930",
    "end": "1894410"
  },
  {
    "text": "amplifies handiwork but let's say I want to access this application I've created",
    "start": "1894410",
    "end": "1899790"
  },
  {
    "text": "a user in my in my user pool and I'm going to sign it",
    "start": "1899790",
    "end": "1907790"
  },
  {
    "text": "ok incorrect username a password again I didn't implement this but I automatically get a response saying that",
    "start": "1908150",
    "end": "1915300"
  },
  {
    "text": "the username is not correct alright so",
    "start": "1915300",
    "end": "1924210"
  },
  {
    "text": "I'm logged in I get a simple this is a simple to-do app I get welcome back John",
    "start": "1924210",
    "end": "1931290"
  },
  {
    "text": "Doe name was John and Stella me that I can add a task I can add a task to get",
    "start": "1931290",
    "end": "1937200"
  },
  {
    "text": "started before I do that let me jump in here I printed out some information",
    "start": "1937200",
    "end": "1943350"
  },
  {
    "text": "about my kid Neto user session right so",
    "start": "1943350",
    "end": "1948480"
  },
  {
    "text": "I'm using Cognito to log into this application I talked about the fact that",
    "start": "1948480",
    "end": "1953970"
  },
  {
    "text": "after you've intent you authenticate you retrieve you are sent back some JWT",
    "start": "1953970",
    "end": "1959100"
  },
  {
    "text": "tokens you can actually print out that information well you can interact with the amplifi SDK authentication module to",
    "start": "1959100",
    "end": "1966510"
  },
  {
    "text": "get this information so I printed it out here so it's a continuous session I have",
    "start": "1966510",
    "end": "1975750"
  },
  {
    "text": "an access token an ID token and a refresh token I can actually drill into my access token Jade EBT token it has a",
    "start": "1975750",
    "end": "1983640"
  },
  {
    "text": "payload you see all of this information client ID even ID two authentication",
    "start": "1983640",
    "end": "1989280"
  },
  {
    "text": "time scope two issuer which is connected neither IDP",
    "start": "1989280",
    "end": "1995289"
  },
  {
    "text": "and to token use I can use this token for access I also have an ID token same",
    "start": "1995289",
    "end": "2002220"
  },
  {
    "text": "thing as a JWT token and here's the payload and to payload is actually just",
    "start": "2002220",
    "end": "2007710"
  },
  {
    "text": "decoded information from this string here let's say I copy this information I",
    "start": "2007710",
    "end": "2014580"
  },
  {
    "text": "can actually go to this website ginger JSON web tokens if you're not familiar",
    "start": "2014580",
    "end": "2020820"
  },
  {
    "text": "with it I would definitely bookmark it and you can explore this that at length but it's essentially a site that",
    "start": "2020820",
    "end": "2027119"
  },
  {
    "text": "introduces you to Java web tokens in and what they are I'm gonna just paste my",
    "start": "2027119",
    "end": "2034259"
  },
  {
    "text": "information here and so this is the content of the token this is base 64",
    "start": "2034259",
    "end": "2039359"
  },
  {
    "text": "encoded and I have a header you can easily make out two different parts",
    "start": "2039359",
    "end": "2044489"
  },
  {
    "text": "there's a header followed by a period full stop then there's a payload and",
    "start": "2044489",
    "end": "2051138"
  },
  {
    "text": "followed by a period and then there's a",
    "start": "2051139",
    "end": "2056760"
  },
  {
    "text": "signature and so what this page does is just decodes information and you see the header information it tells you how this",
    "start": "2056760",
    "end": "2062700"
  },
  {
    "text": "was encrypted and what key ID was used for this specific token and then you",
    "start": "2062700",
    "end": "2069750"
  },
  {
    "text": "have all of your payload information here so this is just following two standards fairly fairly easy to see",
    "start": "2069750",
    "end": "2077429"
  },
  {
    "text": "what's going on here and then you have your signature this is a signature you",
    "start": "2077429",
    "end": "2083549"
  },
  {
    "text": "could verify this in signature if you go to this is what kognito we're doing to back-end try to verify that the",
    "start": "2083549",
    "end": "2090089"
  },
  {
    "text": "signature that's included here actually matches the data that's included here that's how couldn't oh can knows that",
    "start": "2090089",
    "end": "2095790"
  },
  {
    "text": "information is actually correct but so that's that's what that is so if I come",
    "start": "2095790",
    "end": "2102359"
  },
  {
    "text": "back here I have my tokens so now let's say and it's saying that I don't have a",
    "start": "2102359",
    "end": "2110220"
  },
  {
    "text": "task right let me just take a look at my networking tab but you do see that we",
    "start": "2110220",
    "end": "2116520"
  },
  {
    "text": "made requests so if I go to graph QL this is a graphical request that was made you can kind of see what what",
    "start": "2116520",
    "end": "2125609"
  },
  {
    "text": "happened here we made a request to this URL this is two well of my my API I was trying to list",
    "start": "2125609",
    "end": "2131430"
  },
  {
    "text": "my to do's and if you look at the response I didn't get any items because I don't have anything in there what's",
    "start": "2131430",
    "end": "2138330"
  },
  {
    "text": "interesting is you can look at the request headers and you see that this authorization header it's essentially",
    "start": "2138330",
    "end": "2145050"
  },
  {
    "text": "just my token so we just included two token into into header and that was sent",
    "start": "2145050",
    "end": "2150210"
  },
  {
    "text": "and we get access to the API if I were to just take this by itself and let's",
    "start": "2150210",
    "end": "2160230"
  },
  {
    "text": "say try to access it it tells me errors unauthorized exception miss an",
    "start": "2160230",
    "end": "2165780"
  },
  {
    "text": "authorization header right so that's that's all that's going on here we're just adding our authorization header all",
    "start": "2165780",
    "end": "2171900"
  },
  {
    "text": "of that all of this is done over HTTP of course encrypted using TLS but the",
    "start": "2171900",
    "end": "2177300"
  },
  {
    "text": "heather is what gives us access to the to the API right so let's say I want to",
    "start": "2177300",
    "end": "2187710"
  },
  {
    "text": "address the task I add a task pops up",
    "start": "2187710",
    "end": "2196230"
  },
  {
    "text": "here you see the distant back-and-forth being done with kognito automatically",
    "start": "2196230",
    "end": "2202350"
  },
  {
    "text": "but then I have another request that's being sent here right create to-do I",
    "start": "2202350",
    "end": "2208050"
  },
  {
    "text": "created it I've got work to do and some more to do as as well",
    "start": "2208050",
    "end": "2214470"
  },
  {
    "text": "this is very simple very simple task but these are John's tasks right all I did",
    "start": "2214470",
    "end": "2220410"
  },
  {
    "text": "was create it you can see the content of my mutation request the variable is just",
    "start": "2220410",
    "end": "2226920"
  },
  {
    "text": "name work to do that's what I had here that's all they included work to do let",
    "start": "2226920",
    "end": "2232530"
  },
  {
    "text": "me go and sign into this application with another user just refresh this I'm not signed in so I don't have access to",
    "start": "2232530",
    "end": "2238830"
  },
  {
    "text": "it I have another user this is me this time around and I sign in now I come in",
    "start": "2238830",
    "end": "2247170"
  },
  {
    "text": "here I'm pulling all of the tasks but I'm not seeing tasks I'm not seeing",
    "start": "2247170",
    "end": "2252630"
  },
  {
    "text": "John's tasks right I can create",
    "start": "2252630",
    "end": "2258200"
  },
  {
    "text": "same deal if I come down here and you",
    "start": "2258670",
    "end": "2265900"
  },
  {
    "text": "look at my request my request was just pulling all of the list to do this but I've incorporated some authorization",
    "start": "2265900",
    "end": "2271900"
  },
  {
    "text": "around these requests to only allow the",
    "start": "2271900",
    "end": "2277450"
  },
  {
    "text": "specific users requests to be sent back so how is that actually actually done",
    "start": "2277450",
    "end": "2283059"
  },
  {
    "text": "right we can go into the console and take a look at our resolvers so I'm",
    "start": "2283059",
    "end": "2293140"
  },
  {
    "text": "gonna come here and this is gonna make",
    "start": "2293140",
    "end": "2298239"
  },
  {
    "text": "this big this is the schema it's a full of tasks I can go to my settings down",
    "start": "2298239",
    "end": "2303519"
  },
  {
    "text": "here you see this is the API to API ID it's set up with Amazon click needle",
    "start": "2303519",
    "end": "2309970"
  },
  {
    "text": "user pool and so what I did I just came down here I specify the region I",
    "start": "2309970",
    "end": "2315789"
  },
  {
    "text": "specified to user pool and the default action is to allow everything for this user pool specifically then I look at my",
    "start": "2315789",
    "end": "2326319"
  },
  {
    "text": "schema my schema is a pretty simple schema it was actually created using amplify to amplify CLI and to show you",
    "start": "2326319",
    "end": "2336819"
  },
  {
    "text": "what that looks like when I created my schema all I did was this I just said",
    "start": "2336819",
    "end": "2347499"
  },
  {
    "text": "this I said I want a schema with a to do and I want it I added this directives to",
    "start": "2347499",
    "end": "2355299"
  },
  {
    "text": "the schema I added a model directive which just says that I want to persist this in dynamodb and then I added an off",
    "start": "2355299",
    "end": "2363009"
  },
  {
    "text": "directive and to rule for this off directors just says allow to owner to",
    "start": "2363009",
    "end": "2368890"
  },
  {
    "text": "access this to do type which means that",
    "start": "2368890",
    "end": "2374259"
  },
  {
    "text": "the owner is Allah allowed to take a crud make crud operations against this",
    "start": "2374259",
    "end": "2379630"
  },
  {
    "text": "type so create write create read update delete only to owner of the task and do",
    "start": "2379630",
    "end": "2385539"
  },
  {
    "text": "that and when using emphathize CLI this",
    "start": "2385539",
    "end": "2391569"
  },
  {
    "text": "gets compiled if you look at what it",
    "start": "2391569",
    "end": "2396570"
  },
  {
    "text": "generates it's actually it's actually all this right but the cool thing about the CLI is that I don't really need to",
    "start": "2396570",
    "end": "2402480"
  },
  {
    "text": "worry about all of the all of this I can really just focus on what am I trying to",
    "start": "2402480",
    "end": "2408870"
  },
  {
    "text": "represent what am I trying to restrict access to what am I trying to interact with and not really deal with the finer",
    "start": "2408870",
    "end": "2416220"
  },
  {
    "text": "details of deploying or full scale graph QL schema and so we can look at",
    "start": "2416220",
    "end": "2424850"
  },
  {
    "text": "permutations so what I'm using is to create to do if I go into create to do",
    "start": "2424850",
    "end": "2433250"
  },
  {
    "text": "you can look at this ownership",
    "start": "2433250",
    "end": "2438720"
  },
  {
    "text": "information that's being done here so I told you that there was some information",
    "start": "2438720",
    "end": "2444120"
  },
  {
    "text": "that is available to you when you use good needle user pools this is available",
    "start": "2444120",
    "end": "2449280"
  },
  {
    "text": "in two identity object into context in app sink and we automatically get to",
    "start": "2449280",
    "end": "2454590"
  },
  {
    "text": "user name so when we try to create a mutation the first thing that is done is",
    "start": "2454590",
    "end": "2459870"
  },
  {
    "text": "we check to see is there a user name is that into identity and if not we just throw an error and we say this is not",
    "start": "2459870",
    "end": "2465570"
  },
  {
    "text": "authorized if there is we continue and what we're gonna do is we're gonna just add an owner field to this mutation so",
    "start": "2465570",
    "end": "2474270"
  },
  {
    "text": "we're persisting to owner information to our DynamoDB table and this is what is",
    "start": "2474270",
    "end": "2480330"
  },
  {
    "text": "going to associate the specific data set that we're writing to a specific user if",
    "start": "2480330",
    "end": "2487410"
  },
  {
    "text": "I go to my DynamoDB table associated with this resolver it's a to do table resolver",
    "start": "2487410",
    "end": "2493940"
  },
  {
    "text": "data source and I can get there by going to my data sources I have a to do table",
    "start": "2493940",
    "end": "2499440"
  },
  {
    "text": "I click on to do I could I come in to DynamoDB I click on items and I can see",
    "start": "2499440",
    "end": "2506580"
  },
  {
    "text": "that it inserted all of this information and here is what you see John John and bris right so - owner name",
    "start": "2506580",
    "end": "2514500"
  },
  {
    "text": "- owner user name is also associated with each data entry in this dynamodb",
    "start": "2514500",
    "end": "2520680"
  },
  {
    "text": "table and so one thing that you'll notice is that we're using this information but this is",
    "start": "2520680",
    "end": "2527910"
  },
  {
    "text": "not information that's provided by to user this is provided by the system this is verified information about the",
    "start": "2527910",
    "end": "2535500"
  },
  {
    "text": "owner that we can then use to make decisions decisions about what to write",
    "start": "2535500",
    "end": "2541770"
  },
  {
    "text": "and what to get access to so if I go back to the schema and I look at my query what I'm doing is listing - - duze",
    "start": "2541770",
    "end": "2551450"
  },
  {
    "text": "and if I look at the to do table so I'm",
    "start": "2551450",
    "end": "2557240"
  },
  {
    "text": "fetching all of the information this is a list it is a scan of the table and it's",
    "start": "2557240",
    "end": "2563520"
  },
  {
    "text": "fetching all of the information but before returning this information it's actually going to do a check it's going",
    "start": "2563520",
    "end": "2569910"
  },
  {
    "text": "to make sure that all of the owner fields of the data that is being which",
    "start": "2569910",
    "end": "2575100"
  },
  {
    "text": "returned matches the identity of the owner that's making two requests that way we only send back to information",
    "start": "2575100",
    "end": "2582600"
  },
  {
    "text": "that is specifically associated with the owner and that's one way that you can",
    "start": "2582600",
    "end": "2587880"
  },
  {
    "text": "use this information to actually make decisions about what to save what to",
    "start": "2587880",
    "end": "2594870"
  },
  {
    "text": "write and what to allow customers to read now if we want to look at how we",
    "start": "2594870",
    "end": "2605610"
  },
  {
    "text": "implemented all this this is a very simple example but there's two two key things that we looked at we looked at",
    "start": "2605610",
    "end": "2612980"
  },
  {
    "text": "authentication when you first access the website to application you don't have",
    "start": "2612980",
    "end": "2618600"
  },
  {
    "text": "access to it unless you're you've been you've signed in right and then after you've signed in you can use Java the",
    "start": "2618600",
    "end": "2626610"
  },
  {
    "text": "JWT tokens that are returned to actually get authorization to use your app sync",
    "start": "2626610",
    "end": "2632640"
  },
  {
    "text": "API then within the app sync API you can use that information to make decisions",
    "start": "2632640",
    "end": "2639090"
  },
  {
    "text": "about what a user can actually how a user actually writes data and what",
    "start": "2639090",
    "end": "2644790"
  },
  {
    "text": "information a user can actually retrieve from the resolvers so we can take a",
    "start": "2644790",
    "end": "2651120"
  },
  {
    "text": "quick look at how this was put together",
    "start": "2651120",
    "end": "2657050"
  },
  {
    "text": "as I mentioned two applications is fairly simple one of the things you what we did to get started with this if",
    "start": "2657310",
    "end": "2665440"
  },
  {
    "text": "you're going to write for example a react application there's a couple of basic things that you want to do you",
    "start": "2665440",
    "end": "2671710"
  },
  {
    "text": "want to import and amplify and off you probably talked about this today and two off module for input amplify we have our",
    "start": "2671710",
    "end": "2678670"
  },
  {
    "text": "AWS mobile settings that we import where we're importing this high high order",
    "start": "2678670",
    "end": "2685840"
  },
  {
    "text": "component from react this is the width Authenticator and this with",
    "start": "2685840",
    "end": "2691810"
  },
  {
    "text": "Authenticator we can wrap our application with this component as you",
    "start": "2691810",
    "end": "2697810"
  },
  {
    "text": "see here and when we wrap our application with this component it's going to ensure that we only get access",
    "start": "2697810",
    "end": "2704020"
  },
  {
    "text": "to our application after a user has signed in if a user has not signed in it's going to show the Sign In screen",
    "start": "2704020",
    "end": "2710920"
  },
  {
    "text": "right so that's what we did we did there",
    "start": "2710920",
    "end": "2716460"
  },
  {
    "text": "another thing to look at so this is a",
    "start": "2716460",
    "end": "2721810"
  },
  {
    "text": "react application and we're using the component did mount so this function is called every time the application is",
    "start": "2721810",
    "end": "2729130"
  },
  {
    "text": "mounted and so the first time the application is mounted I can use the off module to get to current session",
    "start": "2729130",
    "end": "2734530"
  },
  {
    "text": "information from from kognito this is an",
    "start": "2734530",
    "end": "2739540"
  },
  {
    "text": "a synchronous call so we have it in a sink a wait set up and went to",
    "start": "2739540",
    "end": "2744640"
  },
  {
    "text": "information is returned we just said save it to the state then because we're",
    "start": "2744640",
    "end": "2749890"
  },
  {
    "text": "doing a render any time the state is info is updated a render is trigger a rerender is triggered and then we print",
    "start": "2749890",
    "end": "2757030"
  },
  {
    "text": "we print out the session information so this is essentially two majority of",
    "start": "2757030",
    "end": "2762880"
  },
  {
    "text": "what's going on here and then if you remember I had to welcome back message well we're just checking here to see if",
    "start": "2762880",
    "end": "2769000"
  },
  {
    "text": "the session has been set we're getting to session from the state on this line and if the session has been set we just",
    "start": "2769000",
    "end": "2777280"
  },
  {
    "text": "print out this this welcome back message we go into the session we look at the ID token we check the payload and then",
    "start": "2777280",
    "end": "2784630"
  },
  {
    "text": "within to payload object we return the value of the Cognito you",
    "start": "2784630",
    "end": "2790070"
  },
  {
    "text": "name key that's it fairly simple so to implement the sign in/sign up I really",
    "start": "2790070",
    "end": "2795350"
  },
  {
    "text": "didn't have to do anything right this is one of the best tools that we have in our in our toolkit really if you want to",
    "start": "2795350",
    "end": "2802880"
  },
  {
    "text": "implement an app an application just put your application around with",
    "start": "2802880",
    "end": "2808820"
  },
  {
    "text": "Authenticator and you're ready to go you don't really need to know anything about implementing off this is something",
    "start": "2808820",
    "end": "2816170"
  },
  {
    "text": "that's implemented by our team it's secure it's using to clean needle API right then when we want to set up our",
    "start": "2816170",
    "end": "2825710"
  },
  {
    "text": "client to talk with with the App Singh back-end fairly simple we just call the",
    "start": "2825710",
    "end": "2833270"
  },
  {
    "text": "AWS app sink constructor and we pass it information about our app sink back in",
    "start": "2833270",
    "end": "2838940"
  },
  {
    "text": "the URL to region and then for off we specify to JWT token and here we're",
    "start": "2838940",
    "end": "2845570"
  },
  {
    "text": "using this pretty nifty formula here again we're calling off the current",
    "start": "2845570",
    "end": "2851090"
  },
  {
    "text": "session this is the same thing that we were doing below we call it in oh wait and then we get the ID token and then we",
    "start": "2851090",
    "end": "2857630"
  },
  {
    "text": "get to JWT token and that our app sync api is going to automatically insert",
    "start": "2857630",
    "end": "2863030"
  },
  {
    "text": "that into request as an authorization header so that is also done for you you don't need to do anything specific about",
    "start": "2863030",
    "end": "2869810"
  },
  {
    "text": "that yes question so it depends on on",
    "start": "2869810",
    "end": "2876320"
  },
  {
    "text": "how things are set up for app sync we use the ID token so I think the token can be used for authorization in our",
    "start": "2876320",
    "end": "2883790"
  },
  {
    "text": "case the access token if you were to use if you could use it if you wanted to do",
    "start": "2883790",
    "end": "2888820"
  },
  {
    "text": "authentication towards another system or if you wanted to use it to gain access",
    "start": "2888820",
    "end": "2894920"
  },
  {
    "text": "to good needle itself to the comedo user pool to modify your attributes so",
    "start": "2894920",
    "end": "2900290"
  },
  {
    "text": "they're used for two different things they are similar but they are used for two different things the access token has scope information oh of scope",
    "start": "2900290",
    "end": "2907160"
  },
  {
    "text": "information that you can so this type of information that's returned for example if you're going to use Facebook right to",
    "start": "2907160",
    "end": "2914360"
  },
  {
    "text": "authenticate Facebook will return to you scope information it actually tells you this kind of the scope of access that a",
    "start": "2914360",
    "end": "2920630"
  },
  {
    "text": "user has and then you can use that to make to get access to different different",
    "start": "2920630",
    "end": "2925849"
  },
  {
    "text": "parts limited parts the ID token has information about the user and then has attributes of the user pool but it",
    "start": "2925849",
    "end": "2934160"
  },
  {
    "text": "doesn't have scope information right and similarly the access token doesn't have all of the user information so they're",
    "start": "2934160",
    "end": "2940309"
  },
  {
    "text": "useful for different types of access",
    "start": "2940309",
    "end": "2943990"
  },
  {
    "text": "okay we get back here so this was an",
    "start": "2945520",
    "end": "2957020"
  },
  {
    "text": "example on how to get started with amplify I highly recommend using amplify",
    "start": "2957020",
    "end": "2962930"
  },
  {
    "text": "if you want to get started it was a very simple project all I did was used to amplify CLI to create this I really",
    "start": "2962930",
    "end": "2969950"
  },
  {
    "text": "didn't put much much information in it and I created that very simple schema that that you saw right and then for my",
    "start": "2969950",
    "end": "2978950"
  },
  {
    "text": "command line I can simply call to amplify push to push all of all of my",
    "start": "2978950",
    "end": "2985089"
  },
  {
    "text": "information then this is one of the",
    "start": "2985089",
    "end": "2990140"
  },
  {
    "text": "things that we looked at so if I want to add off with amplify I would simply call",
    "start": "2990140",
    "end": "2996020"
  },
  {
    "text": "amplify add off in my project and this is the typical setup that you would have",
    "start": "2996020",
    "end": "3003630"
  },
  {
    "text": "and then to interact with appsync this is also I talk about these as two four",
    "start": "3009200",
    "end": "3014359"
  },
  {
    "text": "easy steps to get started with with appsync and amplify is is to follow this pattern yeah question we so today the",
    "start": "3014359",
    "end": "3026809"
  },
  {
    "text": "question is do we have examples of this on github we definitely have a to do example on github we have an event example and",
    "start": "3026809",
    "end": "3036290"
  },
  {
    "text": "github the easy thing to do is if you go into the absent console and I'll actually just show you this you can",
    "start": "3036290",
    "end": "3042920"
  },
  {
    "text": "easily get started just by going to the console because we we allow you to just",
    "start": "3042920",
    "end": "3049579"
  },
  {
    "text": "launch so let me go here okay sorry cuz",
    "start": "3049579",
    "end": "3060859"
  },
  {
    "text": "I can't see the screen here",
    "start": "3060859",
    "end": "3064269"
  },
  {
    "text": "okay so if you go to if you want to",
    "start": "3072590",
    "end": "3079040"
  },
  {
    "text": "create an API you can use our create wizard and then you have a couple of",
    "start": "3079040",
    "end": "3085010"
  },
  {
    "text": "apps so you have this event app that you can get started you have a task app this is a very simple task app similar to",
    "start": "3085010",
    "end": "3091040"
  },
  {
    "text": "this you have a chat app actually wrote this one and we will if you're gonna be",
    "start": "3091040",
    "end": "3098240"
  },
  {
    "text": "here tomorrow we'll be doing a lab on now to actually put this together from scratch but then you can read you can",
    "start": "3098240",
    "end": "3106040"
  },
  {
    "text": "click this here come to the samples it tells you specifically what to do you can come down here this is acting chat",
    "start": "3106040",
    "end": "3112670"
  },
  {
    "text": "app starter tells you specifically how to get started so yes so this is to",
    "start": "3112670",
    "end": "3120110"
  },
  {
    "text": "quickly to get started come in and use the API to cool the console the cool",
    "start": "3120110",
    "end": "3125990"
  },
  {
    "text": "thing about this is that it will actually deploy all of the resources for you so just with one click it will deploy everything you need and then you",
    "start": "3125990",
    "end": "3131690"
  },
  {
    "text": "can enter easily interact with it okay",
    "start": "3131690",
    "end": "3139220"
  },
  {
    "text": "so just to wrap up if you're gonna use app sync with good needle and you want",
    "start": "3139220",
    "end": "3144530"
  },
  {
    "text": "to use and you want to easily get started these are the four easy steps to configure app sync the first thing you",
    "start": "3144530",
    "end": "3151430"
  },
  {
    "text": "want to do you want to import your modules there's some key modules to import import apps AWS app sync it",
    "start": "3151430",
    "end": "3158600"
  },
  {
    "text": "obvious AB sync react and your AWS exports right this is your configuration information the second thing you want to",
    "start": "3158600",
    "end": "3164720"
  },
  {
    "text": "do is configure the client you can look at our at our blogs and our information on how to do this but you essentially",
    "start": "3164720",
    "end": "3171350"
  },
  {
    "text": "call to a Tobias Epson client you specify to you to URL to region and to",
    "start": "3171350",
    "end": "3176360"
  },
  {
    "text": "authentication the third thing to do if you're going to do advanced kind of complex handling you can specify your",
    "start": "3176360",
    "end": "3184730"
  },
  {
    "text": "complex object credentials this is essentially specifying two credentials to access or other a Tobias is services",
    "start": "3184730",
    "end": "3191990"
  },
  {
    "text": "directly like s3 that require AWS credentials and if you're going to interact with graph QL interfaces and",
    "start": "3191990",
    "end": "3200000"
  },
  {
    "text": "graph query world unions there's also some additional configuration that you have to do 90% of the time you don't have to do",
    "start": "3200000",
    "end": "3206890"
  },
  {
    "text": "this but this is kind of some advanced configuration then finally step number four you want to wrap your application",
    "start": "3206890",
    "end": "3213730"
  },
  {
    "text": "in this high higher-order component which is with Authenticator so if you",
    "start": "3213730",
    "end": "3219340"
  },
  {
    "text": "look at the steps you want to make the client available to the provider you want to load app data from the storage",
    "start": "3219340",
    "end": "3226030"
  },
  {
    "text": "this is to rehydrate call you want to launch your app when it's ready this is step step C and then you want to make",
    "start": "3226030",
    "end": "3234250"
  },
  {
    "text": "sure that you require authentication by wrapping it in two with Authenticator",
    "start": "3234250",
    "end": "3239320"
  },
  {
    "text": "follow those four steps and you're ready to go with a secure API with",
    "start": "3239320",
    "end": "3244690"
  },
  {
    "text": "authorization step 2 set up and with sign in/sign up configured for your for your application",
    "start": "3244690",
    "end": "3252540"
  },
  {
    "text": "all right that's really all I had today I think we cover we covered quite a",
    "start": "3252540",
    "end": "3257680"
  },
  {
    "text": "quite a bit we covered identity authentication authorization and accessing your absolute apps in API",
    "start": "3257680",
    "end": "3263680"
  },
  {
    "text": "using kognito either could veto user pool or kognito identity pools with IAM",
    "start": "3263680",
    "end": "3269440"
  },
  {
    "text": "credentials so hopefully I hope this was a this was some good information and",
    "start": "3269440",
    "end": "3275950"
  },
  {
    "text": "that you learned learn quite a bit so thank you are there any questions about",
    "start": "3275950",
    "end": "3281200"
  },
  {
    "text": "the content anything questions that you have yeah",
    "start": "3281200",
    "end": "3287160"
  },
  {
    "text": "you received yeah yes yes it will be the",
    "start": "3296170",
    "end": "3305750"
  },
  {
    "text": "same okay so the question is if you do social sign in with Facebook or with",
    "start": "3305750",
    "end": "3312470"
  },
  {
    "text": "Google or something else do you receive the same type of tokens and the answer is yes you will receive a nicer access",
    "start": "3312470",
    "end": "3318110"
  },
  {
    "text": "token and identity token and a refresh token",
    "start": "3318110",
    "end": "3322810"
  },
  {
    "text": "yes and so one of the other question the follow-up question is is the logic the",
    "start": "3324220",
    "end": "3329240"
  },
  {
    "text": "same and essentially yes the logic is the same and that's why Camila is a very",
    "start": "3329240",
    "end": "3334250"
  },
  {
    "text": "deep service but if you if you if you notice we didn't pay attention to what's going on beyond incognito there's a lot",
    "start": "3334250",
    "end": "3341390"
  },
  {
    "text": "of different flows that can happen behind kognito if you're doing sam'l or Federation or other type of set ups but",
    "start": "3341390",
    "end": "3349400"
  },
  {
    "text": "that what happens there doesn't impact how you're going to access your API so different flows depending on if you're",
    "start": "3349400",
    "end": "3356510"
  },
  {
    "text": "doing business to business business to come to consumer or business enterprise but to access to app sync that is the",
    "start": "3356510",
    "end": "3362570"
  },
  {
    "text": "same that remains the same after authentication has been done yeah sure",
    "start": "3362570",
    "end": "3374109"
  },
  {
    "text": "bye-bye roll so the question is when I showed DynamoDB table and the resolver",
    "start": "3396270",
    "end": "3402580"
  },
  {
    "text": "we were doing authorization based on the user name and the question is whether or",
    "start": "3402580",
    "end": "3410230"
  },
  {
    "text": "not we can use the roll what so what type of roll are you thinking about yes yes you so so yes so",
    "start": "3410230",
    "end": "3422290"
  },
  {
    "text": "you so I showed you one example but you can also do an authorization based on",
    "start": "3422290",
    "end": "3428680"
  },
  {
    "text": "groups so you the users can be part of different groups or you know like you",
    "start": "3428680",
    "end": "3435880"
  },
  {
    "text": "could have an admin group or you can have developer groups you can have used as part of these different groups right",
    "start": "3435880",
    "end": "3441220"
  },
  {
    "text": "the group information is also available in your resolver so you could also say",
    "start": "3441220",
    "end": "3447150"
  },
  {
    "text": "you can also direct your resolver to say only let members of this group access",
    "start": "3447150",
    "end": "3453130"
  },
  {
    "text": "this information that is that is also possible",
    "start": "3453130",
    "end": "3457320"
  },
  {
    "text": "well yeah so so the question is where could you do it with an actual role like",
    "start": "3467900",
    "end": "3473329"
  },
  {
    "text": "an IM role maybe but it really depends to what how you're mapping your your",
    "start": "3473329",
    "end": "3478970"
  },
  {
    "text": "attributes if the question is like it could it be more specific role it depends - how are you your mapping your attributes you could map your attributes",
    "start": "3478970",
    "end": "3485569"
  },
  {
    "text": "to group name to groups or you could use your custom attributes you could specify these roles in a custom attribute and",
    "start": "3485569",
    "end": "3491390"
  },
  {
    "text": "then use those as well so the key thing is that the information is available and",
    "start": "3491390",
    "end": "3496400"
  },
  {
    "text": "you can you can definitely use it for conditional checks and to make",
    "start": "3496400",
    "end": "3501880"
  },
  {
    "text": "authorization decisions so yes you can do that then if you want to use I am",
    "start": "3501880",
    "end": "3507799"
  },
  {
    "text": "roles because with I am rules you have policies you could specify under policy",
    "start": "3507799",
    "end": "3514180"
  },
  {
    "text": "only grant access to this specific field in a mutation or inert in a query right",
    "start": "3514180",
    "end": "3521420"
  },
  {
    "text": "you could also do that",
    "start": "3521420",
    "end": "3524950"
  },
  {
    "text": "so the question is are the user pool kind of secure and segregated their",
    "start": "3536190",
    "end": "3542680"
  },
  {
    "text": "answer is yes so each user pool is independent you can create multiple",
    "start": "3542680",
    "end": "3548140"
  },
  {
    "text": "applications within a user pool you can specify who has access to the different applications but yes they are a user",
    "start": "3548140",
    "end": "3554109"
  },
  {
    "text": "pool is a is an isolated secure entity it has no relationship with other with",
    "start": "3554109",
    "end": "3561400"
  },
  {
    "text": "other user pools so it we do not support",
    "start": "3561400",
    "end": "3567579"
  },
  {
    "text": "that functionality right now we have mechanisms that you could use to migrate",
    "start": "3567579",
    "end": "3572759"
  },
  {
    "text": "users but we do not have a push button export user pool at this moment so you",
    "start": "3572759",
    "end": "3586269"
  },
  {
    "text": "can use so the question is how could you migrate well you could use things like with like your lambda hooks so that",
    "start": "3586269",
    "end": "3592299"
  },
  {
    "text": "every time somebody signs in you catch that information and you migrate them to",
    "start": "3592299",
    "end": "3598259"
  },
  {
    "text": "to another you know data source or to another idea type identity pool if you",
    "start": "3598259",
    "end": "3605170"
  },
  {
    "text": "wanted to do that so that's that's right now that that may be a bit of a limitation but we've added these custom",
    "start": "3605170",
    "end": "3612670"
  },
  {
    "text": "hooks I talked about the lambda hooks that's that's part of the reason we added those so that on sign in and sign",
    "start": "3612670",
    "end": "3617890"
  },
  {
    "text": "up you can actually catch that information and",
    "start": "3617890",
    "end": "3622769"
  },
  {
    "text": "so the question if you if you currently have a directory of users no there's",
    "start": "3630430",
    "end": "3636190"
  },
  {
    "text": "currently no way to export those users",
    "start": "3636190",
    "end": "3642039"
  },
  {
    "text": "there are hacks yes",
    "start": "3643089",
    "end": "3646869"
  },
  {
    "text": "and any other questions yes",
    "start": "3683640",
    "end": "3688730"
  },
  {
    "text": "so with active the question is how do you integrate authentication when you have to do it with active directory",
    "start": "3694170",
    "end": "3699499"
  },
  {
    "text": "using Candido user pool you can you can specify your your different IDPs you can",
    "start": "3699499",
    "end": "3707549"
  },
  {
    "text": "go into the console we have an integration for that you essentially specify two IDP information specified",
    "start": "3707549",
    "end": "3716720"
  },
  {
    "text": "sign in return token because we're going to redirect you to a specific URL you",
    "start": "3716720",
    "end": "3721920"
  },
  {
    "text": "specify a URL that user should be redirected back to and same thing for sign out so we have a we have a whole",
    "start": "3721920",
    "end": "3728759"
  },
  {
    "text": "flow on how to on how to set that up any",
    "start": "3728759",
    "end": "3737670"
  },
  {
    "text": "other questions",
    "start": "3737670",
    "end": "3740749"
  },
  {
    "text": "yes sure sure yeah okay awesome everybody I think we're going to wrap it",
    "start": "3742849",
    "end": "3749220"
  },
  {
    "text": "up here thank you for joining",
    "start": "3749220",
    "end": "3753380"
  }
]