[
  {
    "start": "0",
    "end": "120000"
  },
  {
    "text": "so the part of the business that I work in is called digital marketing as opposed to the kind of a sexy Photoshop",
    "start": "30",
    "end": "6240"
  },
  {
    "text": "and Lightroom in the graphics part of of Adobe Digital Marketing more specific",
    "start": "6240",
    "end": "12389"
  },
  {
    "text": "to web analytics reach most of our customers or retail customers we have",
    "start": "12389",
    "end": "17460"
  },
  {
    "text": "about 55,000 physical boxes spread across 2030 geographical sites we're",
    "start": "17460",
    "end": "22769"
  },
  {
    "text": "trying to condense that a little bit and we have a collection of about 20 administrative teams that's 20 sysadmin",
    "start": "22769",
    "end": "28859"
  },
  {
    "text": "sre teams whatever you'd like to call them spread across the globe each managing their own products we have",
    "start": "28859",
    "end": "35250"
  },
  {
    "text": "pretty much any technology you can think of but we're mostly a Linux UNIX shop",
    "start": "35250",
    "end": "40790"
  },
  {
    "text": "monitoring tool set at least network monitoring is got pretty much everything you can think",
    "start": "40790",
    "end": "46649"
  },
  {
    "text": "of we got some NetFlow collections full packet capture we've got IDs yeah if you can think of it we've we've",
    "start": "46649",
    "end": "53309"
  },
  {
    "text": "probably got it running somewhere so our security monitoring team",
    "start": "53309",
    "end": "58879"
  },
  {
    "text": "so security monitoring in Adobe kind of works too in two ways there's the security engineering team the team that",
    "start": "58879",
    "end": "65430"
  },
  {
    "text": "I'm a part of this responsible for setting up and maintaining running the systems that collect the data",
    "start": "65430",
    "end": "71270"
  },
  {
    "text": "we define what security notables are which is a set of conditions which is",
    "start": "71270",
    "end": "76830"
  },
  {
    "text": "satisfied creates a notable that is action and investigated",
    "start": "76830",
    "end": "82439"
  },
  {
    "text": "by a human and we work with the internal audit team to gauge compliance of these all of these host systems platforms that",
    "start": "82439",
    "end": "91140"
  },
  {
    "text": "are maintained by these 20 administrative teams as security notables or security events are created",
    "start": "91140",
    "end": "97020"
  },
  {
    "text": "they go over to our security operations team who does the analysis on them they also hunt through the data kind of more",
    "start": "97020",
    "end": "103079"
  },
  {
    "text": "freeform hunting they investigate possible incidents or anything that's been passed over to us from somewhere",
    "start": "103079",
    "end": "110100"
  },
  {
    "text": "else within the organization or a third party and they also take part in its in",
    "start": "110100",
    "end": "115110"
  },
  {
    "text": "response work",
    "start": "115110",
    "end": "117649"
  },
  {
    "start": "120000",
    "end": "180000"
  },
  {
    "text": "so do this you can you can use Splunk to manager environments and what Splunk is",
    "start": "121130",
    "end": "126180"
  },
  {
    "text": "is it's a data platform it allows you to collect data and rich it at collection",
    "start": "126180",
    "end": "132209"
  },
  {
    "text": "time or enrich it with field extractions at search time so it deals with structured and unstructured data and you can it's",
    "start": "132209",
    "end": "139130"
  },
  {
    "text": "very flexible and how you can manipulate the data and also which I'll show you in",
    "start": "139130",
    "end": "144320"
  },
  {
    "text": "the app we can do a lot of cross data correlation you can actually take config data and overlay it with cloud watch",
    "start": "144320",
    "end": "150290"
  },
  {
    "text": "data and even security data to get a really rich experience because you can link all of those different data sources",
    "start": "150290",
    "end": "156080"
  },
  {
    "text": "together flunk'd also has a really good reporting and alerting system so you can",
    "start": "156080",
    "end": "161180"
  },
  {
    "text": "send executive dashboards and also alert into like ticketing systems for resolution how we integrate with AWS is",
    "start": "161180",
    "end": "168320"
  },
  {
    "text": "we actually collect all the major data sources for AWS and and then with our",
    "start": "168320",
    "end": "174650"
  },
  {
    "text": "app and add-on and then you can do all of this different data munging with it as well so",
    "start": "174650",
    "end": "181030"
  },
  {
    "text": "the digital marketing is largely a compromised of a handful of acquisitions some of it has been grown organically",
    "start": "181300",
    "end": "187760"
  },
  {
    "text": "like new products that have been built out from within but a lot of them have been acquired externally several of",
    "start": "187760",
    "end": "194180"
  },
  {
    "text": "these were already in in AWS when we purchased them others have been rear connected over the past couple of years",
    "start": "194180",
    "end": "200840"
  },
  {
    "text": "and the teams have elected to move into AWS we have a lot of AWS accounts",
    "start": "200840",
    "end": "206920"
  },
  {
    "text": "thousands and thousands of instances across over 200 AWS accounts and we were",
    "start": "206920",
    "end": "212930"
  },
  {
    "text": "we determined that we didn't have the data available in these environments when we needed to do any kind of",
    "start": "212930",
    "end": "218600"
  },
  {
    "text": "security investigation so we get some third-party notification or realize that something looked a little funny and we'd",
    "start": "218600",
    "end": "224450"
  },
  {
    "text": "realized we didn't have the data to dig in and determine if something was going wrong there we also didn't have the",
    "start": "224450",
    "end": "230269"
  },
  {
    "text": "ability to make assertions to our compliance team that everything was hunky-dory and was set up the way it",
    "start": "230269",
    "end": "235280"
  },
  {
    "text": "should be so our management gives us a mandate that we needed to fix this we needed to figure out what visibility we could get",
    "start": "235280",
    "end": "241850"
  },
  {
    "text": "for security monitoring in AWS we needed to collect that data and we needed to",
    "start": "241850",
    "end": "248060"
  },
  {
    "text": "make it as as inexpensive as we were able to and we needed to have almost",
    "start": "248060",
    "end": "253160"
  },
  {
    "text": "like no possible way of impacting operations if you want to lose reputation as a security team in your",
    "start": "253160",
    "end": "258859"
  },
  {
    "text": "organization impact operations you're pretty guaranteed like lose funding with respect it makes it life a lot more",
    "start": "258859",
    "end": "264710"
  },
  {
    "text": "difficult so a little bit of con next round what a security incident looks like in AWS there's basically three",
    "start": "264710",
    "end": "270080"
  },
  {
    "start": "265000",
    "end": "360000"
  },
  {
    "text": "families infrastructure impact this is where a bad actor is using normal access to your",
    "start": "270080",
    "end": "278060"
  },
  {
    "text": "application to impact it negatively that's usually going to be something like a DDoS where they're just exceeding",
    "start": "278060",
    "end": "283610"
  },
  {
    "text": "the amount they're exceeding they're using your services in such a way that makes it so",
    "start": "283610",
    "end": "289190"
  },
  {
    "text": "that your services are incapable of providing services to other users",
    "start": "289190",
    "end": "294490"
  },
  {
    "text": "next is host compromised so this is your garden-variety application next application",
    "start": "294490",
    "end": "300620"
  },
  {
    "text": "vulnerability being exploited so you have either some service that was not supposed to be public facing and advertently get public facing or you",
    "start": "300620",
    "end": "308210"
  },
  {
    "text": "have a vulnerability in a web application that's exploited a baddie pops a web shell put something on your box installs persistence and they're",
    "start": "308210",
    "end": "315319"
  },
  {
    "text": "able to do something on that host next is very specific to to cloud",
    "start": "315319",
    "end": "321110"
  },
  {
    "text": "deployments where you have an account compromised and this is where the the body is interacting with your cloud",
    "start": "321110",
    "end": "326690"
  },
  {
    "text": "provider with AWS as an authenticated AWS user so that means that they have",
    "start": "326690",
    "end": "331729"
  },
  {
    "text": "managed to get a hold of a user's AWS console username and password",
    "start": "331729",
    "end": "337880"
  },
  {
    "text": "or they got access to an API key somehow either through a compromised dev machine",
    "start": "337880",
    "end": "343880"
  },
  {
    "text": "or somebody accidentally pushed something with your API key to get that can by far be the most damaging of",
    "start": "343880",
    "end": "352389"
  },
  {
    "text": "compromises that you can run into an AWS obviously depending on what permissions that account has",
    "start": "352389",
    "end": "358780"
  },
  {
    "text": "so we had some initial goals that we put together when we had the requirements for",
    "start": "358780",
    "end": "365539"
  },
  {
    "start": "360000",
    "end": "430000"
  },
  {
    "text": "management we also had some things that we wanted to do to make lives easier on ourselves we wanted to identify and collected data",
    "start": "365539",
    "end": "371870"
  },
  {
    "text": "we wanted to do the analysis of that data the same way that we were doing it for our on-premise monitoring so we",
    "start": "371870",
    "end": "377300"
  },
  {
    "text": "wanted to collect the data in this Blunk we wanted to generate notables off of that and have that action by our",
    "start": "377300",
    "end": "382610"
  },
  {
    "text": "security operations team we did not want to split out our monitoring into two different places because then we'd have",
    "start": "382610",
    "end": "388849"
  },
  {
    "text": "to train our analysts on a whole new set of technologies have them log in to some other console we'd have to pipe all of",
    "start": "388849",
    "end": "395240"
  },
  {
    "text": "our threat intelligence and like it was just too much of a mess to try and do this collection and monitoring in",
    "start": "395240",
    "end": "400729"
  },
  {
    "text": "multiple places so we want to have it in one place to minimize operations in fact we did not want to create hundreds and",
    "start": "400729",
    "end": "407659"
  },
  {
    "text": "hundreds of I am users across these these AWS accounts we didn't want to",
    "start": "407659",
    "end": "413180"
  },
  {
    "text": "have any monitoring in line so no risk to services through potential traffic disruption and we wanted to make it very",
    "start": "413180",
    "end": "419659"
  },
  {
    "text": "very easy to set up since we more specifically I was probably going to have to do this 200 plus times I didn't",
    "start": "419659",
    "end": "426590"
  },
  {
    "text": "want to spend the next three years deploying this so quick to set up",
    "start": "426590",
    "end": "432310"
  },
  {
    "start": "430000",
    "end": "500000"
  },
  {
    "text": "so to monitor your AWS environment that AWS offers a bunch of different services",
    "start": "432310",
    "end": "437659"
  },
  {
    "text": "they have cloud trail which allows YouTube monitor API activity and gives",
    "start": "437659",
    "end": "443000"
  },
  {
    "text": "you user logs they've trusted advisor which is a paid service which allows you to manager helps you to manage your",
    "start": "443000",
    "end": "448849"
  },
  {
    "text": "account and best practices gives you lots of advice on ways to remediate issues that you may have they have a AWS",
    "start": "448849",
    "end": "455180"
  },
  {
    "text": "config which allows you to see all of the changes that are happening in your account and and track those as well as",
    "start": "455180",
    "end": "461029"
  },
  {
    "text": "track the inventory within your environment they have a newer system that's called",
    "start": "461029",
    "end": "466969"
  },
  {
    "text": "VPC flow logs which is equivalent of firewall rules for like Amazon instances and that allows you to see authorized",
    "start": "466969",
    "end": "473389"
  },
  {
    "text": "activity and unauthorized activity that are trying to get through your firewall they also have a key management and",
    "start": "473389",
    "end": "479389"
  },
  {
    "text": "access system which is I am stuff that the sky was talking about and they also",
    "start": "479389",
    "end": "485000"
  },
  {
    "text": "have ELB logs which allow you to see all the activity that's coming through your environment the great thing about this",
    "start": "485000",
    "end": "490520"
  },
  {
    "text": "is the way that they log all of this stuff is in JSON format which is really easy for Splunk to it consume and then",
    "start": "490520",
    "end": "497000"
  },
  {
    "text": "also you know pivot on on the key values one quick",
    "start": "497000",
    "end": "503029"
  },
  {
    "start": "500000",
    "end": "595000"
  },
  {
    "text": "clarification on the VPC flow logs is that in addition to giving you firewall like rules where things are accepted or",
    "start": "503029",
    "end": "508759"
  },
  {
    "text": "denied it will also give you any interaction between en is between",
    "start": "508759",
    "end": "514279"
  },
  {
    "text": "network interfaces within your V PC so you're not only getting traffic into or out of your perimeter you're also",
    "start": "514279",
    "end": "520190"
  },
  {
    "text": "getting traffic within your network so the first thing that we discovered as",
    "start": "520190",
    "end": "525440"
  },
  {
    "text": "I started doing my research to figure out how to make this easy on myself was I am roles versus users I am you can",
    "start": "525440",
    "end": "532579"
  },
  {
    "text": "create users which is usually present an entity they have have a name they have",
    "start": "532579",
    "end": "537800"
  },
  {
    "text": "API keys that will need to be rotated you can also have roles and the",
    "start": "537800",
    "end": "543529"
  },
  {
    "text": "distinction between a user and a role is that a role does not have a credential rather than authenticating directly to a",
    "start": "543529",
    "end": "549769"
  },
  {
    "text": "role a role permits some other entity they're termed principles like a",
    "start": "549769",
    "end": "557389"
  },
  {
    "text": "different user a different role potentially an IP address to assume that role and gain the privileges of that",
    "start": "557389",
    "end": "563899"
  },
  {
    "text": "role so if I am on Takei 'td to a user in a different AWS account and a role",
    "start": "563899",
    "end": "569870"
  },
  {
    "text": "has been set up to allow me to assume that role I can then request temporary tokens into the",
    "start": "569870",
    "end": "576800"
  },
  {
    "text": "assumed into the other account and take actions on that account without actually owning and maintaining and rotating API",
    "start": "576800",
    "end": "583519"
  },
  {
    "text": "keys so it's a pretty elegant way of",
    "start": "583519",
    "end": "589060"
  },
  {
    "text": "setting up access without requiring keys",
    "start": "589089",
    "end": "594490"
  },
  {
    "text": "how do you mean okay so a few more AWS services I imagine most of the people in",
    "start": "595149",
    "end": "600199"
  },
  {
    "text": "this room are probably already familiar with this but as they come into play with how we do our collection I'm going to review them very briefly s3 is file",
    "start": "600199",
    "end": "607370"
  },
  {
    "text": "an object storage you put an object up like a document you pull it back down lambda you can run your functions",
    "start": "607370",
    "end": "614180"
  },
  {
    "text": "scripts whatever you'd like as code without instances and the back end they're basically spinning up a temporary container for you dropping",
    "start": "614180",
    "end": "620209"
  },
  {
    "text": "your script in there executing it and then turning it back down most of the lambda work that I've done",
    "start": "620209",
    "end": "626060"
  },
  {
    "text": "is in Python so as we talk more about how we're using lambda here those are mostly Python functions Amazon Kinesis",
    "start": "626060",
    "end": "633529"
  },
  {
    "text": "is used for scaled data streaming cloud watch logs is the AWS service for aggregating logs from",
    "start": "633529",
    "end": "641000"
  },
  {
    "text": "your instances and from a few other services VPC flows are delivered initially to cloud watch logs",
    "start": "641000",
    "end": "647019"
  },
  {
    "text": "SNS notification services allows you to send a message to the SNS endpoint which",
    "start": "647019",
    "end": "652399"
  },
  {
    "text": "is then replicated to any any other services that are subscribed to that notification service to that topic",
    "start": "652399",
    "end": "659410"
  },
  {
    "text": "dynamodb is a no SQL database we largely are using that in this situation for",
    "start": "659410",
    "end": "664880"
  },
  {
    "text": "configuration store so collection plumbing most of the data",
    "start": "664880",
    "end": "670820"
  },
  {
    "start": "665000",
    "end": "720000"
  },
  {
    "text": "sources that we wanted to collect can be delivered automatically basically to an s3 bucket",
    "start": "670820",
    "end": "677080"
  },
  {
    "text": "most of them you can set up one l1 s3 bucket and collect it globally for",
    "start": "677080",
    "end": "683930"
  },
  {
    "text": "example config and cloud trail and trusted it well config and cloud trail can both be set up to deliver",
    "start": "683930",
    "end": "690670"
  },
  {
    "text": "globally to a single L to a single s3 bucket eeob you do have to set up a",
    "start": "690670",
    "end": "696649"
  },
  {
    "text": "different s3 bucket in each region that has to be local to the local to the ELB",
    "start": "696649",
    "end": "702170"
  },
  {
    "text": "that is delivering those logs or generating those logs and trusted adviser results and config",
    "start": "702170",
    "end": "709520"
  },
  {
    "text": "parsed are another two bucket two buckets that we met use to make life a little bit easier on ourselves when it",
    "start": "709520",
    "end": "715580"
  },
  {
    "text": "comes to Splunk ingest so VPC flows",
    "start": "715580",
    "end": "722290"
  },
  {
    "start": "720000",
    "end": "870000"
  },
  {
    "text": "we to collect VPC flows you need a Kinesis stream in the region you're collecting the flows from and you set up",
    "start": "722290",
    "end": "729620"
  },
  {
    "text": "a cloud wash log destination in that account so jumping to a more graphical",
    "start": "729620",
    "end": "734959"
  },
  {
    "text": "representation of what this looks like the delivery cloud trail can config our both set up",
    "start": "734959",
    "end": "741500"
  },
  {
    "text": "can be set up to deliver to an s3 bucket that is in a different AWS account as",
    "start": "741500",
    "end": "746870"
  },
  {
    "text": "long as the permissions on those s3 buckets are set up to permit AWS to deliver those logs VOB access logs",
    "start": "746870",
    "end": "753380"
  },
  {
    "text": "delivers from the EOB are generated from the EOB is delivered by the EOB log",
    "start": "753380",
    "end": "758810"
  },
  {
    "text": "service to an s3 bucket in the same region VPC flow logs are a little bit trickier",
    "start": "758810",
    "end": "765140"
  },
  {
    "text": "on the monitored account you have to set up what is called a you set up a cloud watch logs group and instruct the VPC to",
    "start": "765140",
    "end": "773600"
  },
  {
    "text": "deliver those logs to that logs group and you then set up a subscription filter on the logs group to replicate",
    "start": "773600",
    "end": "779420"
  },
  {
    "text": "any events that hit that log group across to the other AWS accounts cloud watch logs destination",
    "start": "779420",
    "end": "786640"
  },
  {
    "text": "this is where your filtering can happen there's not a ton of filtering there may",
    "start": "786640",
    "end": "792500"
  },
  {
    "text": "be some there's there's some filtering options you can basically set it up to send messages for a given set of IPS you",
    "start": "792500",
    "end": "799190"
  },
  {
    "text": "can set it up to send messages four accepts or denies so if you're only interested in collecting some subset of",
    "start": "799190",
    "end": "806390"
  },
  {
    "text": "your VPC flows this is probably where you would put that filter in place those logs hit the cloud watch logs",
    "start": "806390",
    "end": "813110"
  },
  {
    "text": "destination in my account in the aggregation account this is not the account that the the data is being",
    "start": "813110",
    "end": "819200"
  },
  {
    "text": "generated from its forwarded into it and then those are sent into Kinesis",
    "start": "819200",
    "end": "825040"
  },
  {
    "text": "yeah so VPC flow logs the cloud watch logs to cloud watch log destination to",
    "start": "825040",
    "end": "830840"
  },
  {
    "text": "Kinesis the other two don't have a way of automating that delivery for I am mostly",
    "start": "830840",
    "end": "838520"
  },
  {
    "text": "the credential reports is what we're collecting and the trusted adviser results which we were fresh daily you",
    "start": "838520",
    "end": "844490"
  },
  {
    "text": "can't set those up to say I want this every day please send it to me so we have a lambda function that assumes the",
    "start": "844490",
    "end": "850460"
  },
  {
    "text": "role that we create in the other account request the report to be generated to trees the report and then manually",
    "start": "850460",
    "end": "856070"
  },
  {
    "text": "stores that in the US three bucket so the other cloud trail config and cloud watch are automatically delivered on",
    "start": "856070",
    "end": "862430"
  },
  {
    "text": "regular basis I am credential report and trusted advisor requires some kind of trigger to generate report generate",
    "start": "862430",
    "end": "869000"
  },
  {
    "text": "retrieve and store those that data so that's how the things are delivered",
    "start": "869000",
    "end": "875500"
  },
  {
    "start": "870000",
    "end": "1055000"
  },
  {
    "text": "but it still takes a little bit of work to actually set up that delivery so we've created a cloud formation template",
    "start": "875500",
    "end": "882110"
  },
  {
    "text": "it's actually a pretty simple cloud formation template it does not touch any of ec2 all it does is it takes a couple",
    "start": "882110",
    "end": "887990"
  },
  {
    "text": "of inputs when you create a cloud formation template you can specify parameters that are handed in to the",
    "start": "887990",
    "end": "893630"
  },
  {
    "text": "template we use a friendly name so that the people that are setting this up have",
    "start": "893630",
    "end": "899840"
  },
  {
    "text": "an idea of what each AWS account is used for we have a dirac you do is track through",
    "start": "899840",
    "end": "906710"
  },
  {
    "text": "JIRA so when we have something that happens in an AWS account we have a",
    "start": "906710",
    "end": "911720"
  },
  {
    "text": "contact point where you have that JIRA Q to know who to escalate to and we have a description so that if that year q",
    "start": "911720",
    "end": "917570"
  },
  {
    "text": "manages a handful of different AWS accounts they can have some idea of what",
    "start": "917570",
    "end": "922670"
  },
  {
    "text": "the AWS account is used for without needing to like figure out okay that ID",
    "start": "922670",
    "end": "927950"
  },
  {
    "text": "log into that I log into that account what's going on in this account oh it's it's the stage environment for or",
    "start": "927950",
    "end": "933650"
  },
  {
    "text": "whatever product I'm doing over here the description makes it a lot easier to track which account is used for what",
    "start": "933650",
    "end": "941350"
  },
  {
    "text": "the resources that it creates are the a config roll and a flow logs roll these",
    "start": "941350",
    "end": "946970"
  },
  {
    "text": "two are used by AWS to deliver or to retrieve generate and deliver the logs",
    "start": "946970",
    "end": "952460"
  },
  {
    "text": "into the account so as a security team we do not use the configure flow logs roll",
    "start": "952460",
    "end": "958180"
  },
  {
    "text": "we also create a security engineering roll this roll is that hatch actually",
    "start": "958180",
    "end": "963740"
  },
  {
    "text": "has pretty limited permissions it has read to most of the services it has the ability to",
    "start": "963740",
    "end": "969940"
  },
  {
    "text": "modify ELB attributes to turn on lb yield the access log delivery it has the",
    "start": "969940",
    "end": "976280"
  },
  {
    "text": "ability to turn on and off of EPC flow logs to do config snapshots for tree of",
    "start": "976280",
    "end": "981440"
  },
  {
    "text": "trusted adviser handful of other things most of the teams that we've worked with and deploying this have felt pretty",
    "start": "981440",
    "end": "986450"
  },
  {
    "text": "comfortable with giving us these permissions as their it doesn't include anything that could impact it can",
    "start": "986450",
    "end": "991550"
  },
  {
    "text": "significantly impact what they're doing we'll talk a little bit more about that later so as cloud formation is finished",
    "start": "991550",
    "end": "998690"
  },
  {
    "text": "we excuse me when we're setting up cloud formation to deploy we also give it an SNS topic just to send notifications of",
    "start": "998690",
    "end": "1005440"
  },
  {
    "text": "stack completion to so as each one of these resources is starts to be created",
    "start": "1005440",
    "end": "1011080"
  },
  {
    "text": "cloud formation sends a message to me to my SNS topic saying I'm starting to",
    "start": "1011080",
    "end": "1016780"
  },
  {
    "text": "create this role now this role now this role I'm all done when I receive that I'm all done message I fire off a lambda",
    "start": "1016780",
    "end": "1023590"
  },
  {
    "text": "function that uses the newly created role jumps in uses that role to jump",
    "start": "1023590",
    "end": "1028870"
  },
  {
    "text": "into the newly registered account grabs the outputs and inputs of this cloud formation deployment and then puts that",
    "start": "1028870",
    "end": "1035110"
  },
  {
    "text": "into a dynamo DB registration a registration item so that makes it so that whenever anybody runs this",
    "start": "1035110",
    "end": "1040420"
  },
  {
    "text": "CloudFormation template as long as they specify the destination the notification aren't for the SNS topic I get an idea",
    "start": "1040420",
    "end": "1046390"
  },
  {
    "text": "of who has deployed my role what the name of that role is and just the JIRA",
    "start": "1046390",
    "end": "1051820"
  },
  {
    "text": "queue in the description for the account if you haven't used cloud formation it's",
    "start": "1051820",
    "end": "1058000"
  },
  {
    "start": "1055000",
    "end": "1085000"
  },
  {
    "text": "very very simple when it'll prompt you for a stack name",
    "start": "1058000",
    "end": "1063310"
  },
  {
    "text": "which for us we don't care that's entirely for the account that's being registered to track which which stack is",
    "start": "1063310",
    "end": "1069250"
  },
  {
    "text": "this so most of them are naming it something like the information security monitoring stack or something along those lines",
    "start": "1069250",
    "end": "1075190"
  },
  {
    "text": "they're also prompted at this point for the name the jerk you and then what",
    "start": "1075190",
    "end": "1080230"
  },
  {
    "text": "types of what what environment phase there and dev stage abroad",
    "start": "1080230",
    "end": "1085530"
  },
  {
    "start": "1085000",
    "end": "1295000"
  },
  {
    "text": "so once we have that roll in place we have a handful of lambda functions that",
    "start": "1085530",
    "end": "1090670"
  },
  {
    "text": "operate on a trigger most of these triggers are everyday because that's to find enough granularity for us to",
    "start": "1090670",
    "end": "1095830"
  },
  {
    "text": "enforce them some of them are every six hours if we feel like we need less space between the times we're",
    "start": "1095830",
    "end": "1102700"
  },
  {
    "text": "collecting data if there's things that are a little more dynamic change more often most of the functions are also split",
    "start": "1102700",
    "end": "1108760"
  },
  {
    "text": "into two functions if you use lambda you may have noticed that there's a maximum execution time of five minutes if you're",
    "start": "1108760",
    "end": "1115809"
  },
  {
    "text": "trying to do something across five 50 or 100 AWS accounts almost no matter how",
    "start": "1115809",
    "end": "1121419"
  },
  {
    "text": "trivial it is it could take you about five minutes just to assume the role and get the API key and do something small",
    "start": "1121419",
    "end": "1127270"
  },
  {
    "text": "and simple so to avoid any time out problems we've split this into two functions one is a distributor function",
    "start": "1127270",
    "end": "1132910"
  },
  {
    "text": "that basically retrieves the list of roles from DynamoDB and then hands each",
    "start": "1132910",
    "end": "1138160"
  },
  {
    "text": "of those roles off to a handler function so distributor function collects all the roles has two an asynchronous handler",
    "start": "1138160",
    "end": "1145150"
  },
  {
    "text": "function which actually is the one that does the work the handler function takes the role hits the STS service retrieves",
    "start": "1145150",
    "end": "1151570"
  },
  {
    "text": "those temporary credentials that it's able to through the role reaches out to dynamodb to determine if",
    "start": "1151570",
    "end": "1157600"
  },
  {
    "text": "there are any exception exceptions set for this account for config this is rare it's unusual",
    "start": "1157600",
    "end": "1165040"
  },
  {
    "text": "that their config is a small enough amount of data that collecting it every",
    "start": "1165040",
    "end": "1170770"
  },
  {
    "text": "day from every account isn't painful and that you're not sending a ton of data",
    "start": "1170770",
    "end": "1176530"
  },
  {
    "text": "into Splunk that you're going to be paying more for hardware or licensing so config is not a problem with ELB",
    "start": "1176530",
    "end": "1182470"
  },
  {
    "text": "access logs and VPC flow logs those volumes can be massive right now we're collecting somewhere between two and a",
    "start": "1182470",
    "end": "1189010"
  },
  {
    "text": "half and three terabytes a day a vo the access logs and VPC flow logs some of those some of that's after trimming out",
    "start": "1189010",
    "end": "1195700"
  },
  {
    "text": "a bunch of e-l B's and VP C's that didn't make sense for us to collect so there are some situations where you",
    "start": "1195700",
    "end": "1201530"
  },
  {
    "text": "will want to put an exception in your configuration management in dynamo configuration management but your dynamo",
    "start": "1201530",
    "end": "1207770"
  },
  {
    "text": "DB configuration to say if it's this ELB or this V PC just leave it off don't",
    "start": "1207770",
    "end": "1213290"
  },
  {
    "text": "send that to me please I will drown for config it's easy just collect it",
    "start": "1213290",
    "end": "1219380"
  },
  {
    "text": "it's relatively cheap if you're just doing snapshots so the handler takes",
    "start": "1219380",
    "end": "1225680"
  },
  {
    "text": "those temporary credentials jumps into the other account sets up config enables it creates a config recorder",
    "start": "1225680",
    "end": "1232040"
  },
  {
    "text": "sets a config delivery channel and then specifies the frequency that you want these snapshots delivered I think we do",
    "start": "1232040",
    "end": "1238760"
  },
  {
    "text": "every four hours config then from that point on we'll every four hours deliver a snapshot",
    "start": "1238760",
    "end": "1244840"
  },
  {
    "text": "depending on how you have it configured from either one region or every region to your s3 bucket",
    "start": "1244840",
    "end": "1250930"
  },
  {
    "text": "we trigger this every day this lambda function is set off every day so for",
    "start": "1250930",
    "end": "1256130"
  },
  {
    "text": "some reason config is disabled in a region within 24 hour excuse me what yeah within 24 hours it is reenable than",
    "start": "1256130",
    "end": "1262940"
  },
  {
    "text": "those config snapshots start coming in again for scheduled retrieval and storage like for",
    "start": "1262940",
    "end": "1268520"
  },
  {
    "text": "trusted advisor and I am credential reports the first part looks a lot the same distributor function gets the role",
    "start": "1268520",
    "end": "1274430"
  },
  {
    "text": "has to a handler function retrieves temporary credentials but it will assume those credentials generate the report",
    "start": "1274430",
    "end": "1281680"
  },
  {
    "text": "pull for a little bit to make sure that the report is finished then retrieve it and then store that into s3 rather than",
    "start": "1281680",
    "end": "1288290"
  },
  {
    "text": "waiting for the service to deliver it into s3 itself so dashboards and analysis",
    "start": "1288290",
    "end": "1295900"
  },
  {
    "start": "1295000",
    "end": "1420000"
  },
  {
    "text": "initially so we use this plug add-on for Amazon Web Services which Randy is gonna speak a little bit more about in a",
    "start": "1295900",
    "end": "1301940"
  },
  {
    "text": "couple minutes it has inputs for tons of different AWS services which he'll speak",
    "start": "1301940",
    "end": "1308570"
  },
  {
    "text": "about as well we only use the s3 input the reason for that is that we are",
    "start": "1308570",
    "end": "1316310"
  },
  {
    "text": "aggregating all of our logs into s3 buckets before sent pulling them into Splunk if you only have a handful of",
    "start": "1316310",
    "end": "1322460"
  },
  {
    "text": "accounts it's not too bad to set up these inputs for each accounts as they come online you'd be setting up one for gob in each",
    "start": "1322460",
    "end": "1329990"
  },
  {
    "text": "region one for cloud trail one for view PC flow r14 VPC flows in each region and",
    "start": "1329990",
    "end": "1336110"
  },
  {
    "text": "perhaps a handful of others it comes to about I think 14 inputs for a per",
    "start": "1336110",
    "end": "1341240"
  },
  {
    "text": "account for us that wasn't in a scale well we would be handling thousands and thousands of spunk input stanzas",
    "start": "1341240",
    "end": "1349450"
  },
  {
    "text": "which wasn't practical for us for just AWS monitoring by aggregating them all",
    "start": "1349450",
    "end": "1356990"
  },
  {
    "text": "into one AWS account into those s3 and Kinesis then you can set up 26 inputs",
    "start": "1356990",
    "end": "1362120"
  },
  {
    "text": "and regardless of how many AWS accounts you spin up you never have to add additional additional inputs",
    "start": "1362120",
    "end": "1368380"
  },
  {
    "text": "the one caveat to that is if your volume is so high that you need to split what",
    "start": "1368380",
    "end": "1373790"
  },
  {
    "text": "you're ingesting into multiple Splunk indexers then you may need to put those into different s3 buckets have one",
    "start": "1373790",
    "end": "1381130"
  },
  {
    "text": "have one index or pull from one bucket and the other pull from the other batch of",
    "start": "1381130",
    "end": "1386390"
  },
  {
    "text": "buckets so you can scale horizontally this is slightly dated information there",
    "start": "1386390",
    "end": "1393950"
  },
  {
    "text": "used to be two separate apps one to collect from most AWS services and",
    "start": "1393950",
    "end": "1398990"
  },
  {
    "text": "another a pose I believe a community supported app to pull in the canoe --ss your VPC flow logs from Kinesis",
    "start": "1398990",
    "end": "1406090"
  },
  {
    "text": "the the Splunk AWS ta team has done a great job and",
    "start": "1406090",
    "end": "1411770"
  },
  {
    "text": "they've integrated the Kinesis input into their TA so you should be able to be fine just with the one ta",
    "start": "1411770",
    "end": "1419860"
  },
  {
    "start": "1420000",
    "end": "1545000"
  },
  {
    "text": "so once you have the data in Splunk you still want to be able to do your data enrichment and parsing so most of the",
    "start": "1420700",
    "end": "1427640"
  },
  {
    "text": "data is in JSON which spunk parses just fine you can basically send any kind of JSON",
    "start": "1427640",
    "end": "1433940"
  },
  {
    "text": "data into Splunk and as long as it's not nested too far down and using arrays and there's a couple caveats weird things",
    "start": "1433940",
    "end": "1439820"
  },
  {
    "text": "you can do with that but if it's a straight json dictionary it parses very very easily",
    "start": "1439820",
    "end": "1444880"
  },
  {
    "text": "we use the HTTP event collector which is a it's a wet it's a basically an API",
    "start": "1444880",
    "end": "1450950"
  },
  {
    "text": "that you can use to send events directly into Splunk so we collect the DynamoDB registrations and submit that so we",
    "start": "1450950",
    "end": "1457460"
  },
  {
    "text": "always have an up-to-date idea of what accounts are registered what do we have monitored and who do they belong to as I",
    "start": "1457460",
    "end": "1464210"
  },
  {
    "text": "look up in our in our spawn employment and we have automatic lookups on each source type so as we see an event in",
    "start": "1464210",
    "end": "1469680"
  },
  {
    "text": "Splunk we can hit the expand this event and we can tell who it belongs to what",
    "start": "1469680",
    "end": "1474900"
  },
  {
    "text": "the JIRA queue is the account description all that kind of stuff these source types also tagged into the",
    "start": "1474900",
    "end": "1483570"
  },
  {
    "text": "enterprise security data models which makes some of our correlation searches that we've set up",
    "start": "1483570",
    "end": "1489060"
  },
  {
    "text": "for other monitoring tools work right out of the box so about two or three days after I had set up some of our",
    "start": "1489060",
    "end": "1495870"
  },
  {
    "text": "initial accounts I got a call from our sock saying that asking what this data was coming from AWS that was triggering",
    "start": "1495870",
    "end": "1501930"
  },
  {
    "text": "on our threat intelligence I had no idea that that was gonna happen I just set up the ingest had it used the",
    "start": "1501930",
    "end": "1508290"
  },
  {
    "text": "source type the provided by the key a and like it was it was working pretty much out of the box it was awesome it",
    "start": "1508290",
    "end": "1513780"
  },
  {
    "text": "was kind of startling but it was awesome this also is slightly dated we now have",
    "start": "1513780",
    "end": "1520160"
  },
  {
    "text": "57 AWS accounts that we've on-boarded with this and just actually I think we",
    "start": "1520160",
    "end": "1527070"
  },
  {
    "text": "have closer to like fifty five hundred eight instances running right now and pushing now closer to three terabytes a",
    "start": "1527070",
    "end": "1534150"
  },
  {
    "text": "day that we're ingesting one heavy forwarder is handling it at this point if you're familiar with",
    "start": "1534150",
    "end": "1539970"
  },
  {
    "text": "Splunk it's a pretty beefy heavy forwarder but it's doing the job",
    "start": "1539970",
    "end": "1546290"
  },
  {
    "start": "1545000",
    "end": "1580000"
  },
  {
    "text": "so we've created a handful of dashboards to give us context when we're doing an investigation or if we're just trying to",
    "start": "1546290",
    "end": "1552390"
  },
  {
    "text": "idea of what an account is used for so this is a Splunk dashboard that's been generated off of the config data it",
    "start": "1552390",
    "end": "1558780"
  },
  {
    "text": "shows us the name of the account the account ID which I've truncated here the",
    "start": "1558780",
    "end": "1563790"
  },
  {
    "text": "JIRA queue that escalations would go to a few high-level compliance issues for us whether or not cam and clamp which",
    "start": "1563790",
    "end": "1570270"
  },
  {
    "text": "are basically authentication of federated authentication mechanisms for us what",
    "start": "1570270",
    "end": "1577050"
  },
  {
    "text": "users are in the account if there have been any failed console logins",
    "start": "1577050",
    "end": "1582320"
  },
  {
    "start": "1580000",
    "end": "1655000"
  },
  {
    "text": "so once we have configured credential reports and some of the other data we can then automate a lot of our",
    "start": "1582320",
    "end": "1587880"
  },
  {
    "text": "compliance checks so if we want to make sure that no instances are in our",
    "start": "1587880",
    "end": "1593610"
  },
  {
    "text": "outside of a V PC we want to make sure that nobody's using ec2 classic we can do that very easily by saying all right",
    "start": "1593610",
    "end": "1599679"
  },
  {
    "text": "config data give me everything that's an ec2 instance that does not have a V PC a relationship and",
    "start": "1599679",
    "end": "1605820"
  },
  {
    "text": "if an account has that Implanon V PC instance then trigger this compliance",
    "start": "1605820",
    "end": "1612250"
  },
  {
    "text": "alarm and we had this we have this report off to our compliance team every",
    "start": "1612250",
    "end": "1617799"
  },
  {
    "text": "day so as compliance is trying to determine who they need to work with to fix things they can use this this sheet",
    "start": "1617799",
    "end": "1624850"
  },
  {
    "text": "that's dynamically and automatically generated for them to tell ok within the last 24 hours this is what each of these",
    "start": "1624850",
    "end": "1631030"
  },
  {
    "text": "accounts had set up with that was good or bad let's see",
    "start": "1631030",
    "end": "1637290"
  },
  {
    "text": "yep so we've basically go through our Adobe AWS minimum bar which is a set of",
    "start": "1637290",
    "end": "1642730"
  },
  {
    "text": "requirements our compliance team is made and we we turn each of those like verbal",
    "start": "1642730",
    "end": "1648580"
  },
  {
    "text": "requirements into a Splunk query that can be used to determine whether or not an account is in compliance",
    "start": "1648580",
    "end": "1654809"
  },
  {
    "text": "resource lookups is actually a lot more useful than I thought it was going to be since you're aggregating everything into",
    "start": "1654809",
    "end": "1661630"
  },
  {
    "start": "1655000",
    "end": "1695000"
  },
  {
    "text": "one place you can take an IP address and use the Splunk freeform search to find",
    "start": "1661630",
    "end": "1667630"
  },
  {
    "text": "what I eat what instance that's associated with what account its associated with who owns it",
    "start": "1667630",
    "end": "1674700"
  },
  {
    "text": "basically any kind of identifier so if you get an email your abuse team gets an email from Amazon saying hey this IP",
    "start": "1674700",
    "end": "1682150"
  },
  {
    "text": "address or this instance is doing bad stuff you can turn to turn to your deployment",
    "start": "1682150",
    "end": "1688240"
  },
  {
    "text": "here put in the IP address of the instance ID and very quickly get context around what that instance is and what",
    "start": "1688240",
    "end": "1694210"
  },
  {
    "text": "who owns it so some example enterprise security correlation rules that we're using",
    "start": "1694210",
    "end": "1700390"
  },
  {
    "text": "console logins from outside of your organization's IP space this may or may not be of interest to you maybe you have",
    "start": "1700390",
    "end": "1706299"
  },
  {
    "text": "a lot of people that are working remotely and it's difficult to manage that IP space for us we have a pretty good grasp",
    "start": "1706299",
    "end": "1714190"
  },
  {
    "text": "on where people should be doing their administration work from we require we recommend that our all of our devs and",
    "start": "1714190",
    "end": "1721299"
  },
  {
    "text": "our operations people VPN through Adobe to access their their console so logins",
    "start": "1721299",
    "end": "1729040"
  },
  {
    "text": "from outside the organization's IP space this could be indicative of a console password that has gotten out",
    "start": "1729040",
    "end": "1734749"
  },
  {
    "text": "in the wild flows to or from threat actors so this could be hosts communicating with a command and control",
    "start": "1734749",
    "end": "1740059"
  },
  {
    "text": "server instance increased by a certain percentage within 24 hours this one's been hard",
    "start": "1740059",
    "end": "1745690"
  },
  {
    "text": "so if your if your console is compromised then a couple things that some thread actors are going to do is",
    "start": "1745690",
    "end": "1753679"
  },
  {
    "text": "going to be spin up instances to participate into dot in a denial of service or if they're maybe more",
    "start": "1753679",
    "end": "1759470"
  },
  {
    "text": "financially motivated they may spin up a bunch of instances and start chewing on like Bitcoin buyers",
    "start": "1759470",
    "end": "1764769"
  },
  {
    "text": "but it's it's usually instance oriented they're usually either after data or",
    "start": "1764769",
    "end": "1770090"
  },
  {
    "text": "they're after the instances that they can charge to your credit card am i sharing to non organisational AWS",
    "start": "1770090",
    "end": "1777619"
  },
  {
    "text": "accounts so we did a penetration test the team that I'm on a while ago in",
    "start": "1777619",
    "end": "1783379"
  },
  {
    "text": "which we had compromised in AWS account we got the root credentials to that",
    "start": "1783379",
    "end": "1789080"
  },
  {
    "text": "account but we weren't able to assess H into any of the running instances but we wanted the data that they had on their",
    "start": "1789080",
    "end": "1795350"
  },
  {
    "text": "custom like their their internal am eyes so we took the ami we shared it to another AWS account and then we shared",
    "start": "1795350",
    "end": "1803600"
  },
  {
    "text": "it to another AWS account and spun it up there so that it would be a little bit more operationally safe there were less",
    "start": "1803600",
    "end": "1809330"
  },
  {
    "text": "likely to notice that we had shared an ami to a different account than if we had spun up the ami in the same account",
    "start": "1809330",
    "end": "1815480"
  },
  {
    "text": "and they noticed a new ec2 instance as the instance that was running TLB access logs to give you visibility",
    "start": "1815480",
    "end": "1821419"
  },
  {
    "text": "into the user agent and the URI of requests that are made to your application there are some signatures",
    "start": "1821419",
    "end": "1828440"
  },
  {
    "text": "that you could apply to that obviously there's a lot of objective injection opportunities other than",
    "start": "1828440",
    "end": "1833840"
  },
  {
    "text": "through the user agent or the URI but if you're looking for something like shell shock that's that's typically a",
    "start": "1833840",
    "end": "1839119"
  },
  {
    "text": "relatively durable reliable way of finding those attempts usually those are going to come to the user agent",
    "start": "1839119",
    "end": "1845769"
  },
  {
    "text": "another correlation search that we have set up is multiple service API denies for a single API key within a short",
    "start": "1845799",
    "end": "1851509"
  },
  {
    "text": "amount of time is anyone in the room familiar with nimbostratus it's a cloud that is a cloud it's also a",
    "start": "1851509",
    "end": "1860149"
  },
  {
    "text": "tool that was released a block out a couple of years ago it's a permissions enumeration tool so if you get an 8 TI",
    "start": "1860149",
    "end": "1865930"
  },
  {
    "text": "ki and you don't know what account it's to and you don't know what permissions it has and it doesn't have permissions",
    "start": "1865930",
    "end": "1870970"
  },
  {
    "text": "to IAM to enumerate its own permissions you can use nimbostratus to chew through",
    "start": "1870970",
    "end": "1876730"
  },
  {
    "text": "a bunch of common calls and see whether or not it fails on those calls so if you",
    "start": "1876730",
    "end": "1882700"
  },
  {
    "text": "have a user setup that does not have permissions to deploy ec2 instances in a couple of different regions or it's only",
    "start": "1882700",
    "end": "1890410"
  },
  {
    "text": "able to maybe had a couple subnets or something then when they go through and try and",
    "start": "1890410",
    "end": "1896710"
  },
  {
    "text": "run this permissions enumeration tool it's going to throw a lot of failures usually you'll see that you can't see",
    "start": "1896710",
    "end": "1902350"
  },
  {
    "text": "this sometimes in a dev account where they're trying out some new things but usually in an Operations account where things are well tuned and and the roles",
    "start": "1902350",
    "end": "1909880"
  },
  {
    "text": "are ideally automatically generated and permit and the permissions are automatically generated you shouldn't be",
    "start": "1909880",
    "end": "1915850"
  },
  {
    "text": "running into a lot of API denies so in production accounts multiple service multiple API denies can be a useful",
    "start": "1915850",
    "end": "1921940"
  },
  {
    "text": "indicator so a few things that can go wrong when you're setting this up is a the Kinesis",
    "start": "1921940",
    "end": "1928270"
  },
  {
    "start": "1923000",
    "end": "2015000"
  },
  {
    "text": "modular input this is less relevant now that the kinesin put is available within the Splunk ta",
    "start": "1928270",
    "end": "1934290"
  },
  {
    "text": "the modular input is a Java it's a job executable that can chew up a lot of",
    "start": "1934290",
    "end": "1939550"
  },
  {
    "text": "memory so you'll probably want to want to increase that memory allocation when",
    "start": "1939550",
    "end": "1945130"
  },
  {
    "text": "you're when you're doing the export excuse me when you're setting that up config snapshots these things are",
    "start": "1945130",
    "end": "1950170"
  },
  {
    "text": "massive if you're running a couple hundred instances you're easily going to be pushing a",
    "start": "1950170",
    "end": "1956250"
  },
  {
    "text": "500k or a megabyte which is a lot of text and is difficult to parse through",
    "start": "1956250",
    "end": "1962530"
  },
  {
    "text": "if you're looking at it and Splunk so we actually have a another lambda function",
    "start": "1962530",
    "end": "1968410"
  },
  {
    "text": "that has triggered off with a put object into s3 that will split that up into individual resources so rather than",
    "start": "1968410",
    "end": "1974080"
  },
  {
    "text": "having one massive JSON array of resources we take the account ID you put",
    "start": "1974080",
    "end": "1979600"
  },
  {
    "text": "it into each resource and then send that into Splunk as its own event makes it a lot easier to parse through oh",
    "start": "1979600",
    "end": "1987090"
  },
  {
    "text": "one other hint that I'll put here is VPC flows can get expensive because there's",
    "start": "1987090",
    "end": "1993370"
  },
  {
    "text": "a 50 cent $0.50 per gigabyte push into CloudWatch logs",
    "start": "1993370",
    "end": "1998400"
  },
  {
    "text": "your mileage will definitely vary but we found that you're likely to pay between 1 and 3% of your EC to spend depending",
    "start": "1998400",
    "end": "2005570"
  },
  {
    "text": "on how much on how network communicate how network heavy your your workloads are but 1 to 3% seems to be a good rule",
    "start": "2005570",
    "end": "2013130"
  },
  {
    "text": "of thumb AWS hints the EOB permission so the role",
    "start": "2013130",
    "end": "2019940"
  },
  {
    "start": "2015000",
    "end": "2082000"
  },
  {
    "text": "has to have the permissions to modify attributes to turn on ELB access logs you do however get a couple of",
    "start": "2019940",
    "end": "2027830"
  },
  {
    "text": "permissions that you probably don't want I believe those are connection draining and crosses out and load balancing",
    "start": "2027830",
    "end": "2035350"
  },
  {
    "text": "so since there's no permit no way to limit those permissions you kind of just have to have a gentlemen's agreement",
    "start": "2035350",
    "end": "2041150"
  },
  {
    "text": "with your product teams that I have these permissions but pinky promise I won't use them all I'm gonna do is call",
    "start": "2041150",
    "end": "2047060"
  },
  {
    "text": "modify attributes you'll want to keep an eye on your capacity the things we've run into is dynamo DB read capacity and",
    "start": "2047060",
    "end": "2053060"
  },
  {
    "text": "the Kinesis shard usage unfortunately those are both relatively easy to to modify after the resources",
    "start": "2053060",
    "end": "2059450"
  },
  {
    "text": "have been created as you're looking at cloud trail not every action in cloud trail is a human started action a",
    "start": "2059450",
    "end": "2068200"
  },
  {
    "text": "couple of things that have caught us when generating when creating our rules have been auto scaling actions which AWS",
    "start": "2068200",
    "end": "2074360"
  },
  {
    "text": "calls for you and elastic MapReduce so you may want to create suppressions on those two those two",
    "start": "2074360",
    "end": "2081320"
  },
  {
    "text": "services so where we're at right now we have about 57 accounts that are unrolled",
    "start": "2081320",
    "end": "2086540"
  },
  {
    "text": "pushing three terabytes a day we haven't broken any accounts yet we've made a couple people a little upset about",
    "start": "2086540",
    "end": "2093040"
  },
  {
    "text": "making them pay a little bit more in some of their cloud watch logs spend but",
    "start": "2093040",
    "end": "2098210"
  },
  {
    "text": "we haven't interrupted operations whatsoever we found some more data sources Amazon inspector and config",
    "start": "2098210",
    "end": "2104330"
  },
  {
    "text": "rules are both really interesting data sources that I'd like to start collecting and starting to work at",
    "start": "2104330",
    "end": "2110210"
  },
  {
    "text": "collecting those aggregating them across all of our accounts but not quite there yet we've been automating our AWS security",
    "start": "2110210",
    "end": "2116750"
  },
  {
    "text": "policy audit so as auditors or our own compliance internal audit team comes to",
    "start": "2116750",
    "end": "2122300"
  },
  {
    "text": "us and says hey you're supposed to be doing this across all accounts if we haven't already created a rule to",
    "start": "2122300",
    "end": "2127640"
  },
  {
    "text": "determine that within two hours or so we can create a new rule all of our AWS accounts and confidently tell audit",
    "start": "2127640",
    "end": "2134680"
  },
  {
    "text": "whether or not we're compliant to that requirement written a handful of correlation rules",
    "start": "2134680",
    "end": "2141099"
  },
  {
    "text": "which I've spoken about and we have our gear we've automated our JIRA ticketing for remediation so as high profile",
    "start": "2141099",
    "end": "2148450"
  },
  {
    "text": "compliance issues come up we have those set up with alerts that will automatically create a JIRA queue as you're a typic JIRA ticket into the",
    "start": "2148450",
    "end": "2155560"
  },
  {
    "text": "appropriate queue which takes a little bit of time off of our off of our",
    "start": "2155560",
    "end": "2161470"
  },
  {
    "text": "compliance team hmm so that's awesome stuff for for data",
    "start": "2161470",
    "end": "2169000"
  },
  {
    "start": "2163000",
    "end": "2191000"
  },
  {
    "text": "collection and security our goal first Blunk is to collect all data from Amazon",
    "start": "2169000",
    "end": "2174190"
  },
  {
    "text": "and help you get actionable and actionable insights from that data and",
    "start": "2174190",
    "end": "2179740"
  },
  {
    "text": "like you said they they connected a JIRA ticketing system we have out of box",
    "start": "2179740",
    "end": "2186160"
  },
  {
    "text": "connections for things like ServiceNow and things like that so you can find an issue and then remediate it",
    "start": "2186160",
    "end": "2191460"
  },
  {
    "start": "2191000",
    "end": "2207000"
  },
  {
    "text": "so I just wanted to say Splunk inand amazon have a really good relationship Andy Jesse and Doug merit our CEO",
    "start": "2191460",
    "end": "2199000"
  },
  {
    "text": "actually had a video where we talked about the integrations between Splunk and Amazon and and what that means to",
    "start": "2199000",
    "end": "2205599"
  },
  {
    "text": "our customers also we have three personas that we do in the app along with security we actually go after",
    "start": "2205599",
    "end": "2211660"
  },
  {
    "start": "2207000",
    "end": "2227000"
  },
  {
    "text": "operational and kind of DevOps experiences and we're even a customer of the app we used it to manage our spend",
    "start": "2211660",
    "end": "2218920"
  },
  {
    "text": "in our accounts so I'll show you a little bit about that in my demo but you can stop by our booth and and hear about",
    "start": "2218920",
    "end": "2224470"
  },
  {
    "text": "these customers then and their success stories as well so here's a chart of all",
    "start": "2224470",
    "end": "2229869"
  },
  {
    "text": "kinds of things that you could do with the app out of the box the things that that",
    "start": "2229869",
    "end": "2235240"
  },
  {
    "text": "Scott was talking about were customizations that were done specifically for the way he uses AWS we've we see the app as a really good",
    "start": "2235240",
    "end": "2242170"
  },
  {
    "text": "way to get you started and kind of start monitoring your account but half of the dashboards that we use internally to",
    "start": "2242170",
    "end": "2248740"
  },
  {
    "text": "manage our services are customized and so once you have the data in you can do all kinds of cool customization here is",
    "start": "2248740",
    "end": "2255609"
  },
  {
    "text": "a scenario where your HR director comes to you it tells you that you know Joe",
    "start": "2255609",
    "end": "2260830"
  },
  {
    "text": "has been let go if you have the data and Splunk you can notify them if any actions are taken here's a really simple",
    "start": "2260830",
    "end": "2267080"
  },
  {
    "text": "alert that you can create that'll actually help you alert if anyone actually try if Joe tries to access",
    "start": "2267080",
    "end": "2273859"
  },
  {
    "text": "anything after he's been termed so it's really easy once the data is there",
    "start": "2273859",
    "end": "2279670"
  },
  {
    "start": "2279000",
    "end": "2293000"
  },
  {
    "text": "here's another one where the CFO comes to you and says you need to reduce the amount of spend that you have we find",
    "start": "2279670",
    "end": "2285740"
  },
  {
    "text": "that a lot of engineers leave their machines running over the weekend because it's easier than starting it",
    "start": "2285740",
    "end": "2291890"
  },
  {
    "text": "back up later so what we did internally was we saved 40% of the spend in our development accounts by just shutting",
    "start": "2291890",
    "end": "2297380"
  },
  {
    "start": "2293000",
    "end": "2305000"
  },
  {
    "text": "things down on the weekends and and it was really successful for us internally",
    "start": "2297380",
    "end": "2304840"
  },
  {
    "start": "2305000",
    "end": "2327000"
  },
  {
    "text": "here's a common experience here your engineer it loves",
    "start": "2305109",
    "end": "2310130"
  },
  {
    "text": "to script everything so they spin up millions of instances without any tags or anything you've no idea where",
    "start": "2310130",
    "end": "2316369"
  },
  {
    "text": "anything is or what's going on it's really easy to go in with Splunk search",
    "start": "2316369",
    "end": "2321440"
  },
  {
    "text": "for those untagged ec2 instances and then even pivot the data to create really nice dashboards so here's here's",
    "start": "2321440",
    "end": "2329150"
  },
  {
    "start": "2327000",
    "end": "2350000"
  },
  {
    "text": "a know tag name on your on your instances so you can actually go and see",
    "start": "2329150",
    "end": "2334849"
  },
  {
    "text": "this stuff visually and I also have a demo I'd like to show you of",
    "start": "2334849",
    "end": "2339940"
  },
  {
    "text": "live demos are always fun let's see how this goes",
    "start": "2339940",
    "end": "2345550"
  },
  {
    "start": "2350000",
    "end": "2394000"
  },
  {
    "text": "so here is our overview dashboard one of the awesome things about this AWS app is that you can after you get all the data",
    "start": "2350890",
    "end": "2358300"
  },
  {
    "text": "in this Blonk you can sort things you can you can see here that you have",
    "start": "2358300",
    "end": "2364540"
  },
  {
    "text": "multiple accounts we don't have one demo account in here right now but if you have a list of accounts you can see all",
    "start": "2364540",
    "end": "2369880"
  },
  {
    "text": "of those accounts in one place the other value here is you can put multiple regions here so all the regions that you",
    "start": "2369880",
    "end": "2375160"
  },
  {
    "text": "actually have data in can be all shown in one place or you can filter it by region so you don't have to open up a",
    "start": "2375160",
    "end": "2380380"
  },
  {
    "text": "bunch of tabs like you do in Amazon when you're actually looking at all of that data we also have the ability to pivot",
    "start": "2380380",
    "end": "2385960"
  },
  {
    "text": "things with tags so using the key value pairs you can actually put in here if you tagged all your instances for a",
    "start": "2385960",
    "end": "2391750"
  },
  {
    "text": "certain service you can see what the cost of that service is so for security data you can you can do things like I",
    "start": "2391750",
    "end": "2397960"
  },
  {
    "start": "2394000",
    "end": "2404000"
  },
  {
    "text": "see I have 109 failures in config so I can actually",
    "start": "2397960",
    "end": "2404050"
  },
  {
    "start": "2404000",
    "end": "2426000"
  },
  {
    "text": "drill into that and it takes you into a deeper dashboard so that you can look at what the resource activity where did all",
    "start": "2404050",
    "end": "2409780"
  },
  {
    "text": "of those errors come from it actually Pripet populates the dashboard with all of your delete incidences shows what you",
    "start": "2409780",
    "end": "2417490"
  },
  {
    "text": "can rollover and see when those things happened you can see who actually you",
    "start": "2417490",
    "end": "2422590"
  },
  {
    "text": "know what what instances the actions were taken on the other cool thing is you can just",
    "start": "2422590",
    "end": "2427780"
  },
  {
    "text": "keep you know changing these things to see all of the different things that are happening in your account we have a lot",
    "start": "2427780",
    "end": "2433330"
  },
  {
    "text": "of different security dashboards you can see there's a bunch here I think the really interesting ones are things like",
    "start": "2433330",
    "end": "2439420"
  },
  {
    "text": "key pairs this is a really good example of where you can see when your account has been compromised your first things",
    "start": "2439420",
    "end": "2445840"
  },
  {
    "text": "going to happen in your account is you're going to see a bunch of key pairs get deleted and a bunch of new ones get created because people are then going to",
    "start": "2445840",
    "end": "2452170"
  },
  {
    "text": "do bit mining and things like that with your instances so this gives you the ability to see at a really high level",
    "start": "2452170",
    "end": "2457930"
  },
  {
    "text": "across a bunch of accounts how that how that is happening what actions are happening in your account also the",
    "start": "2457930",
    "end": "2464440"
  },
  {
    "text": "activities that I was talking about before or you can actually see the information about what you know console",
    "start": "2464440",
    "end": "2471370"
  },
  {
    "start": "2468000",
    "end": "2504000"
  },
  {
    "text": "logins are happening you can actually track all the user activities in your account not necessarily the things that are happening with keys but things that",
    "start": "2471370",
    "end": "2477250"
  },
  {
    "text": "are actually happening at the console level so this gives you a really good eye and because all the data here is time series",
    "start": "2477250",
    "end": "2483430"
  },
  {
    "text": "you have a an audit trail of what's happened in your account if you keep this data for an entire year you go to",
    "start": "2483430",
    "end": "2489940"
  },
  {
    "text": "term and engineer you can actually see what they did over the time that they were you know working in your environments so it gives you a really",
    "start": "2489940",
    "end": "2496630"
  },
  {
    "text": "good audit trail so you can keep track of everything that's happening in your account one of the things that that",
    "start": "2496630",
    "end": "2501820"
  },
  {
    "text": "Scott was talking about was VPC flow logs they're a wealth of information yes",
    "start": "2501820",
    "end": "2506890"
  },
  {
    "text": "they're large data source but when you collect this data you can track authorized and unauthorized actions that",
    "start": "2506890",
    "end": "2512350"
  },
  {
    "text": "are happening in your account you can drill into things like IP addresses that are connected and see possible port",
    "start": "2512350",
    "end": "2519010"
  },
  {
    "text": "sniffing activities or all of the denials that have happened between two IP addresses so you can see if",
    "start": "2519010",
    "end": "2524560"
  },
  {
    "text": "somebody's trying to crack open your machines you can see where where your traffic is coming from there's a there's",
    "start": "2524560",
    "end": "2531010"
  },
  {
    "text": "a wealth of information that you can get from from VPC security isn't the only thing we do here",
    "start": "2531010",
    "end": "2536680"
  },
  {
    "start": "2536000",
    "end": "2646000"
  },
  {
    "text": "we also do operational data so this is actually this is a topology that's built",
    "start": "2536680",
    "end": "2542020"
  },
  {
    "text": "off of config data and so this is really rich you know Scott was talking about how they break all of their config data",
    "start": "2542020",
    "end": "2549130"
  },
  {
    "text": "apart because it's it's hard to manage those snapshots and all the events that are happening we actually are giving you",
    "start": "2549130",
    "end": "2555910"
  },
  {
    "text": "the ability to one see all of this in a visual way so you can see machines that",
    "start": "2555910",
    "end": "2561280"
  },
  {
    "text": "are stopped and started you can see what happened at that actual point when when an action was taken but you can also",
    "start": "2561280",
    "end": "2566680"
  },
  {
    "text": "drill in and see like that specific instance how much did I pay for that instance last month how much",
    "start": "2566680",
    "end": "2572430"
  },
  {
    "text": "how much did I you know send through CR how much CPU",
    "start": "2572430",
    "end": "2578380"
  },
  {
    "text": "utilization did I have how many high ops were was I using on the regular basis and you can actually drill in and see",
    "start": "2578380",
    "end": "2584050"
  },
  {
    "text": "these specific things for this instance it's really good for actually debugging things in your account it gives you a",
    "start": "2584050",
    "end": "2591640"
  },
  {
    "text": "good visual way and the way we rep the way we organize all of the stuff in this and this dashboard is that the most",
    "start": "2591640",
    "end": "2598510"
  },
  {
    "text": "important things are at the center so your V PC is the center point then your subnet and then your instance is and",
    "start": "2598510",
    "end": "2605320"
  },
  {
    "text": "because all this data is relational you can actually see by clicking on an instance all of this relationship data",
    "start": "2605320",
    "end": "2612430"
  },
  {
    "text": "so it gives you a tree of how all of your disease are connected together",
    "start": "2612430",
    "end": "2617920"
  },
  {
    "text": "this is really valuable for for users that are trying to figure out and debug things",
    "start": "2617920",
    "end": "2623579"
  },
  {
    "text": "we also have a concept of overlays so you can do things like if you use configural as an inspector for for",
    "start": "2623579",
    "end": "2629650"
  },
  {
    "text": "compliance you can actually drill into those things and see what-what configure",
    "start": "2629650",
    "end": "2636190"
  },
  {
    "text": "roles and inspector insights that you've had for that specific instance this gives you a chance to go in and and remediate something if you have an issue",
    "start": "2636190",
    "end": "2642670"
  },
  {
    "text": "there other things that a lot of things that people really like with this dashboard is the fact that you can play back",
    "start": "2642670",
    "end": "2649000"
  },
  {
    "start": "2646000",
    "end": "2682000"
  },
  {
    "text": "everything that's happened a lot of times people will use this when they spin up a new environment and then tear",
    "start": "2649000",
    "end": "2654549"
  },
  {
    "text": "down an old environment and you can get an executive summary of what's happened while",
    "start": "2654549",
    "end": "2660420"
  },
  {
    "text": "during that during those configured config changes and you can see it's it's",
    "start": "2660420",
    "end": "2666430"
  },
  {
    "text": "showing you the config changes that happened and like like Scott said there's a lot of a lot of different",
    "start": "2666430",
    "end": "2672430"
  },
  {
    "text": "things that happen during those snapshot changes that you can then go back and drill into the cloud trail data and see",
    "start": "2672430",
    "end": "2677440"
  },
  {
    "text": "who did it when they did it gives you a wealth of information also from this dashboard because you can",
    "start": "2677440",
    "end": "2685299"
  },
  {
    "start": "2682000",
    "end": "2698000"
  },
  {
    "text": "sort it by multiple accounts multiple regions and even sort with tags you can see things that are maybe services",
    "start": "2685299",
    "end": "2691869"
  },
  {
    "text": "running across accounts this visibility is hard to get with other Amazon services",
    "start": "2691869",
    "end": "2697230"
  },
  {
    "text": "we even have this this concept of insights so we help you manage your",
    "start": "2697230",
    "end": "2703359"
  },
  {
    "start": "2698000",
    "end": "2731000"
  },
  {
    "text": "account better so by clicking on and one of these insights it will tell you that this instance is under it's over",
    "start": "2703359",
    "end": "2709900"
  },
  {
    "text": "utilized its usual eyes more than 90% so what you should probably do is take this",
    "start": "2709900",
    "end": "2715510"
  },
  {
    "text": "instance and make it a bigger ec2 instance so that you improve the user experience on that instance and by",
    "start": "2715510",
    "end": "2722079"
  },
  {
    "text": "accepting and denying these insights it will actually hone the algorithm for",
    "start": "2722079",
    "end": "2728760"
  },
  {
    "text": "for the recommendations for you because all the data in Splunk is time-series we",
    "start": "2728760",
    "end": "2734260"
  },
  {
    "start": "2731000",
    "end": "2764000"
  },
  {
    "text": "also have the ability to correlate a bunch of different data sources here's config and inspector data",
    "start": "2734260",
    "end": "2742150"
  },
  {
    "text": "which and then lay it out in a timeline so for compliance reasons if you want to know when that instance was started you",
    "start": "2742150",
    "end": "2747849"
  },
  {
    "text": "want to know who started it you want to know other updates that were happened to the resources it allows you to visually",
    "start": "2747849",
    "end": "2753520"
  },
  {
    "text": "see one instance and the entire lifecycle of that instance so there's a bunch of stuff in the AWS",
    "start": "2753520",
    "end": "2759550"
  },
  {
    "text": "app I'm going to not show you any more today because we're running out of time",
    "start": "2759550",
    "end": "2764860"
  },
  {
    "start": "2764000",
    "end": "2771000"
  },
  {
    "text": "but if you stop by our booth",
    "start": "2764860",
    "end": "2768090"
  },
  {
    "text": "if you stop by our booth 206 you can get more information in a demo from our team",
    "start": "2769950",
    "end": "2775960"
  },
  {
    "start": "2771000",
    "end": "2801000"
  },
  {
    "text": "about the AWS app also we're offering the AWS app on Splunk light at the marketplace and that's for six months",
    "start": "2775960",
    "end": "2782710"
  },
  {
    "text": "for free so you can go try it out in the marketplace and try for yourself in your own account",
    "start": "2782710",
    "end": "2791250"
  },
  {
    "text": "thank you guys give any questions and and thanks for having us",
    "start": "2791250",
    "end": "2797670"
  }
]