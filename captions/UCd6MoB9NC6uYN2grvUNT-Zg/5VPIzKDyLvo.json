[
  {
    "start": "0",
    "end": "34000"
  },
  {
    "text": "hi twitch and welcome back we're here",
    "start": "79",
    "end": "2790"
  },
  {
    "text": "live on twitch TV / AWS I'm Abby fuller",
    "start": "2790",
    "end": "6150"
  },
  {
    "text": "I'm joined by Claire Liguori who is a",
    "start": "6150",
    "end": "8040"
  },
  {
    "text": "principal engineer on the containers",
    "start": "8040",
    "end": "9809"
  },
  {
    "text": "team here at AWS Claire thanks for",
    "start": "9809",
    "end": "12150"
  },
  {
    "text": "joining us thanks I'm excited to be here",
    "start": "12150",
    "end": "13710"
  },
  {
    "text": "I'm excited for you to be here too so I",
    "start": "13710",
    "end": "16590"
  },
  {
    "text": "know that we've had we're talking about",
    "start": "16590",
    "end": "18210"
  },
  {
    "text": "dev tools today and we've had quite a",
    "start": "18210",
    "end": "19710"
  },
  {
    "text": "few kind of a collection of",
    "start": "19710",
    "end": "21600"
  },
  {
    "text": "announcements in the last few days for",
    "start": "21600",
    "end": "23760"
  },
  {
    "text": "dev tools can you tell us a little bit",
    "start": "23760",
    "end": "25859"
  },
  {
    "text": "about what's launched recently yeah so",
    "start": "25859",
    "end": "28019"
  },
  {
    "text": "two things that we've launched this year",
    "start": "28019",
    "end": "29400"
  },
  {
    "text": "specifically for containers users is one",
    "start": "29400",
    "end": "33030"
  },
  {
    "text": "blue/green deployments for ECS using",
    "start": "33030",
    "end": "35670"
  },
  {
    "start": "34000",
    "end": "306000"
  },
  {
    "text": "code deploy and to triggering your code",
    "start": "35670",
    "end": "38700"
  },
  {
    "text": "pipeline pipelines using a docker image",
    "start": "38700",
    "end": "41340"
  },
  {
    "text": "stored in ECR the elastic container",
    "start": "41340",
    "end": "43680"
  },
  {
    "text": "registry and I believe that you have",
    "start": "43680",
    "end": "46379"
  },
  {
    "text": "actually a set of demos for us I have a",
    "start": "46379",
    "end": "49230"
  },
  {
    "text": "set of demos so I came to show-and-tell",
    "start": "49230",
    "end": "51149"
  },
  {
    "text": "I'm ready so we can switch to my",
    "start": "51149",
    "end": "54480"
  },
  {
    "text": "computer you look at clear screen there",
    "start": "54480",
    "end": "56879"
  },
  {
    "text": "we go so I came up with a sample",
    "start": "56879",
    "end": "59460"
  },
  {
    "text": "application that I'm going to deploy to",
    "start": "59460",
    "end": "61260"
  },
  {
    "text": "today this is reinvent trivia calm so we",
    "start": "61260",
    "end": "65400"
  },
  {
    "text": "have a list of reinvent trivia here but",
    "start": "65400",
    "end": "69360"
  },
  {
    "text": "one of the problems here is I actually",
    "start": "69360",
    "end": "70560"
  },
  {
    "text": "have an answer that's wrong so Gavin",
    "start": "70560",
    "end": "74280"
  },
  {
    "text": "each ifox it is definitely your Fossum",
    "start": "74280",
    "end": "76530"
  },
  {
    "text": "how many talk dogs are scheduled for",
    "start": "76530",
    "end": "78810"
  },
  {
    "text": "reinvent 2018 592 as it turns out I",
    "start": "78810",
    "end": "82770"
  },
  {
    "text": "checked the schedule today and it's a",
    "start": "82770",
    "end": "84930"
  },
  {
    "text": "bit higher we've been adding chalk talks",
    "start": "84930",
    "end": "87390"
  },
  {
    "text": "like crazy so we are going to deploy a",
    "start": "87390",
    "end": "91439"
  },
  {
    "text": "change updating this number okay to make",
    "start": "91439",
    "end": "93780"
  },
  {
    "text": "sure people can get this answer right so",
    "start": "93780",
    "end": "96900"
  },
  {
    "text": "this site is driven by a service that's",
    "start": "96900",
    "end": "99390"
  },
  {
    "text": "running in Fargate it's a simple REST",
    "start": "99390",
    "end": "101670"
  },
  {
    "text": "API that's serving up these questions",
    "start": "101670",
    "end": "103590"
  },
  {
    "text": "and answers and then this is my service",
    "start": "103590",
    "end": "107579"
  },
  {
    "text": "that's running in Fargate so one of the",
    "start": "107579",
    "end": "110759"
  },
  {
    "text": "things you can see is I have a load",
    "start": "110759",
    "end": "112049"
  },
  {
    "text": "balancer in front of it it's highly",
    "start": "112049",
    "end": "115860"
  },
  {
    "text": "available it's got three different tasks",
    "start": "115860",
    "end": "118170"
  },
  {
    "text": "running but one of the things that I've",
    "start": "118170",
    "end": "120840"
  },
  {
    "text": "set up here is Bluegreen deployments",
    "start": "120840",
    "end": "122729"
  },
  {
    "text": "with code deploy",
    "start": "122729",
    "end": "124280"
  },
  {
    "text": "so we can see that the type here is",
    "start": "124280",
    "end": "126290"
  },
  {
    "text": "Bluegreen I also have my docker images",
    "start": "126290",
    "end": "131690"
  },
  {
    "text": "stored in ECR for this repository for",
    "start": "131690",
    "end": "133910"
  },
  {
    "text": "this service and you can see I've been",
    "start": "133910",
    "end": "136280"
  },
  {
    "text": "doing a lot of builds as I've been",
    "start": "136280",
    "end": "137660"
  },
  {
    "text": "getting ready for reinvent this week so",
    "start": "137660",
    "end": "141110"
  },
  {
    "text": "the way to set up Bluegreen deployments",
    "start": "141110",
    "end": "143060"
  },
  {
    "text": "with Co deploy is we make it really easy",
    "start": "143060",
    "end": "145459"
  },
  {
    "text": "in the ECS console to come down and",
    "start": "145459",
    "end": "148190"
  },
  {
    "text": "select Bluegreen deployment powered by",
    "start": "148190",
    "end": "150140"
  },
  {
    "text": "code deploy and that will walk you",
    "start": "150140",
    "end": "151910"
  },
  {
    "text": "through setting up your service for this",
    "start": "151910",
    "end": "153590"
  },
  {
    "text": "can we recap really quickly for those of",
    "start": "153590",
    "end": "155660"
  },
  {
    "text": "us that don't know what a Bluegreen",
    "start": "155660",
    "end": "156739"
  },
  {
    "text": "deployment is yeah absolutely so a",
    "start": "156739",
    "end": "159020"
  },
  {
    "text": "Bluegreen deployment is where a new",
    "start": "159020",
    "end": "161470"
  },
  {
    "text": "green fleet of tasks starts up in",
    "start": "161470",
    "end": "165020"
  },
  {
    "text": "parallel to the tasks that are already",
    "start": "165020",
    "end": "166730"
  },
  {
    "text": "taking live traffic which is the blue",
    "start": "166730",
    "end": "168470"
  },
  {
    "text": "fleet and then once all of those tasks",
    "start": "168470",
    "end": "171050"
  },
  {
    "text": "are set up Co deploy is going to do a",
    "start": "171050",
    "end": "173000"
  },
  {
    "text": "traffic shift at the load balancer level",
    "start": "173000",
    "end": "174920"
  },
  {
    "text": "so that's going to take seconds to do",
    "start": "174920",
    "end": "176810"
  },
  {
    "text": "and then at that point",
    "start": "176810",
    "end": "178820"
  },
  {
    "text": "rolling back happens within seconds as",
    "start": "178820",
    "end": "181190"
  },
  {
    "text": "well because the blue fleet is gonna",
    "start": "181190",
    "end": "182690"
  },
  {
    "text": "stay around for a little bit so there's",
    "start": "182690",
    "end": "184940"
  },
  {
    "text": "a lot of great deployment safety",
    "start": "184940",
    "end": "186560"
  },
  {
    "text": "features here that code deploy brings",
    "start": "186560",
    "end": "188140"
  },
  {
    "text": "one is alarm monitoring automatically so",
    "start": "188140",
    "end": "191480"
  },
  {
    "text": "it'll automatically roll back your",
    "start": "191480",
    "end": "193250"
  },
  {
    "text": "deployment if any of your cloud watch",
    "start": "193250",
    "end": "195080"
  },
  {
    "text": "alarms go in to alarm the other is",
    "start": "195080",
    "end": "197600"
  },
  {
    "text": "validation hooks which I'll show letting",
    "start": "197600",
    "end": "200330"
  },
  {
    "text": "you test out your application in that",
    "start": "200330",
    "end": "202880"
  },
  {
    "text": "green fleet before live traffic actually",
    "start": "202880",
    "end": "205489"
  },
  {
    "text": "hits it make sure it's all good and then",
    "start": "205489",
    "end": "209230"
  },
  {
    "text": "finally is this really fast roll back",
    "start": "209230",
    "end": "211880"
  },
  {
    "text": "rolling back within seconds because it's",
    "start": "211880",
    "end": "213680"
  },
  {
    "text": "happening as a traffic shift at the load",
    "start": "213680",
    "end": "215600"
  },
  {
    "text": "balancer level we're talking about",
    "start": "215600",
    "end": "218000"
  },
  {
    "text": "ECS in containers for Bluegreen",
    "start": "218000",
    "end": "220070"
  },
  {
    "text": "deployment but there's also other other",
    "start": "220070",
    "end": "221780"
  },
  {
    "text": "targets that you can have for falootin",
    "start": "221780",
    "end": "223310"
  },
  {
    "text": "point yeah absolutely so code deploy",
    "start": "223310",
    "end": "225170"
  },
  {
    "text": "also supports Bluegreen deployments for",
    "start": "225170",
    "end": "227269"
  },
  {
    "text": "ec2 instances and then it supports blue",
    "start": "227269",
    "end": "230269"
  },
  {
    "text": "green and canary deployments for a",
    "start": "230269",
    "end": "232130"
  },
  {
    "text": "Tobias lambda lambda friend of trick us",
    "start": "232130",
    "end": "240410"
  },
  {
    "text": "under on to lambda this is payback for",
    "start": "240410",
    "end": "242780"
  },
  {
    "text": "Timbre",
    "start": "242780",
    "end": "243410"
  },
  {
    "text": "right you were up here with me with Tim",
    "start": "243410",
    "end": "245269"
  },
  {
    "text": "and Tim and I server l'espace may or may",
    "start": "245269",
    "end": "248420"
  },
  {
    "text": "not be a biased panel for you",
    "start": "248420",
    "end": "250700"
  },
  {
    "text": "yeah yes it's fun let me take you",
    "start": "250700",
    "end": "252950"
  },
  {
    "text": "through the code deploy set up for",
    "start": "252950",
    "end": "254870"
  },
  {
    "text": "Bluegreen deployments with containers",
    "start": "254870",
    "end": "256450"
  },
  {
    "text": "this is after I've gone through that ECS",
    "start": "256450",
    "end": "259430"
  },
  {
    "text": "wizard and the ECS console it sets up",
    "start": "259430",
    "end": "262010"
  },
  {
    "text": "this deployment group for me I've got",
    "start": "262010",
    "end": "263780"
  },
  {
    "text": "the Amazon ECS compute platform and then",
    "start": "263780",
    "end": "267919"
  },
  {
    "text": "one of the things I have here is this",
    "start": "267919",
    "end": "269960"
  },
  {
    "text": "Tesla sinner iron so this is how you're",
    "start": "269960",
    "end": "272450"
  },
  {
    "text": "able to test out your green fleet before",
    "start": "272450",
    "end": "275150"
  },
  {
    "text": "you actually shift over production",
    "start": "275150",
    "end": "277340"
  },
  {
    "text": "traffic from the production listener and",
    "start": "277340",
    "end": "280060"
  },
  {
    "text": "then down here I have a whole bunch of",
    "start": "280060",
    "end": "282410"
  },
  {
    "text": "clutch alarms like looking at the five",
    "start": "282410",
    "end": "285500"
  },
  {
    "text": "hundreds that are coming out of my",
    "start": "285500",
    "end": "286610"
  },
  {
    "text": "service looking at unhealthy hosts in my",
    "start": "286610",
    "end": "289010"
  },
  {
    "text": "Fargate service if anything goes into",
    "start": "289010",
    "end": "291380"
  },
  {
    "text": "alarm it'll automatically roll back not",
    "start": "291380",
    "end": "295460"
  },
  {
    "text": "to interrupt but we've got a question",
    "start": "295460",
    "end": "297080"
  },
  {
    "text": "from the stream I think it's a good",
    "start": "297080",
    "end": "299780"
  },
  {
    "text": "clarifying question they're not sure",
    "start": "299780",
    "end": "303470"
  },
  {
    "text": "what code deploy is it's not a new",
    "start": "303470",
    "end": "305479"
  },
  {
    "text": "service it's not a new service yeah so",
    "start": "305479",
    "end": "307700"
  },
  {
    "start": "306000",
    "end": "564000"
  },
  {
    "text": "crew deploy is a fully managed",
    "start": "307700",
    "end": "309919"
  },
  {
    "text": "deployment service on AWS it will deploy",
    "start": "309919",
    "end": "313370"
  },
  {
    "text": "to now ezs but also ec2 and lambda right",
    "start": "313370",
    "end": "317410"
  },
  {
    "text": "so I've been talking about some of these",
    "start": "317410",
    "end": "319880"
  },
  {
    "text": "safety features let me walk you through",
    "start": "319880",
    "end": "321500"
  },
  {
    "text": "a really quick kind of flip chart here",
    "start": "321500",
    "end": "323570"
  },
  {
    "text": "to show you what this looks like when",
    "start": "323570",
    "end": "325340"
  },
  {
    "text": "you actually deploy with code deploy and",
    "start": "325340",
    "end": "328280"
  },
  {
    "text": "a Bluegreen deployment so this is kind",
    "start": "328280",
    "end": "331340"
  },
  {
    "text": "of the setup you would normally have",
    "start": "331340",
    "end": "332539"
  },
  {
    "text": "with a Fargate service you have a bunch",
    "start": "332539",
    "end": "334669"
  },
  {
    "text": "of tasks running your v1 code in your",
    "start": "334669",
    "end": "337550"
  },
  {
    "text": "Fargate service and you've got a target",
    "start": "337550",
    "end": "339410"
  },
  {
    "text": "group and you're probably serving up a",
    "start": "339410",
    "end": "341720"
  },
  {
    "text": "traffic on something like port 80 with",
    "start": "341720",
    "end": "343760"
  },
  {
    "text": "your application load balancer so to get",
    "start": "343760",
    "end": "346669"
  },
  {
    "text": "set up you set a new test traffic",
    "start": "346669",
    "end": "349220"
  },
  {
    "text": "listener on a different port doesn't",
    "start": "349220",
    "end": "351440"
  },
  {
    "text": "matter",
    "start": "351440",
    "end": "351680"
  },
  {
    "text": "I chose port 9000 and then a second",
    "start": "351680",
    "end": "354349"
  },
  {
    "text": "target group so in order to be able to",
    "start": "354349",
    "end": "356960"
  },
  {
    "text": "test your new green fleet with your new",
    "start": "356960",
    "end": "359750"
  },
  {
    "text": "code you code deploy is going to hook",
    "start": "359750",
    "end": "363410"
  },
  {
    "text": "that up to the target group for you and",
    "start": "363410",
    "end": "365510"
  },
  {
    "text": "then set it to the traffic listener for",
    "start": "365510",
    "end": "368210"
  },
  {
    "text": "testing so at this point you get the",
    "start": "368210",
    "end": "370520"
  },
  {
    "text": "option to",
    "start": "370520",
    "end": "371589"
  },
  {
    "text": "integration tests or just a simple curl",
    "start": "371589",
    "end": "373929"
  },
  {
    "text": "to that port 9000 to make sure that you",
    "start": "373929",
    "end": "376449"
  },
  {
    "text": "get all of the responses you expect",
    "start": "376449",
    "end": "378129"
  },
  {
    "text": "hopefully a status code 200 and then",
    "start": "378129",
    "end": "381759"
  },
  {
    "text": "once that's done code deploy is going to",
    "start": "381759",
    "end": "383919"
  },
  {
    "text": "flip the production traffic listener",
    "start": "383919",
    "end": "385989"
  },
  {
    "text": "over to that new target group 22 your",
    "start": "385989",
    "end": "388449"
  },
  {
    "text": "new green tasks and now a hundred",
    "start": "388449",
    "end": "390969"
  },
  {
    "text": "percent of prod traffic is going there",
    "start": "390969",
    "end": "392979"
  },
  {
    "text": "and zero is going to the blue tasks at",
    "start": "392979",
    "end": "395769"
  },
  {
    "text": "this point you get the option to do a",
    "start": "395769",
    "end": "398079"
  },
  {
    "text": "wait time so you can do a couple of",
    "start": "398079",
    "end": "399639"
  },
  {
    "text": "minutes or even multiple hours and so",
    "start": "399639",
    "end": "402879"
  },
  {
    "text": "one of the things you can do is have",
    "start": "402879",
    "end": "404769"
  },
  {
    "text": "code deploy automatically rollback at",
    "start": "404769",
    "end": "406479"
  },
  {
    "text": "this point within seconds to flip a",
    "start": "406479",
    "end": "409029"
  },
  {
    "text": "hundred percent of the prod traffic back",
    "start": "409029",
    "end": "410619"
  },
  {
    "text": "to those blue tasks but then once you're",
    "start": "410619",
    "end": "413589"
  },
  {
    "text": "happy faregates going to drain those",
    "start": "413589",
    "end": "415659"
  },
  {
    "text": "blue tasks and now you're just left with",
    "start": "415659",
    "end": "417729"
  },
  {
    "text": "your new code in production and that's a",
    "start": "417729",
    "end": "421149"
  },
  {
    "text": "safety feature for a lot of people - is",
    "start": "421149",
    "end": "423399"
  },
  {
    "text": "a huge safety feature especially if",
    "start": "423399",
    "end": "425199"
  },
  {
    "text": "you're using continuous deployment",
    "start": "425199",
    "end": "426189"
  },
  {
    "text": "because typically the last time that a",
    "start": "426189",
    "end": "428919"
  },
  {
    "text": "person looks at the code is going to be",
    "start": "428919",
    "end": "430899"
  },
  {
    "text": "when you check it into a source code",
    "start": "430899",
    "end": "432159"
  },
  {
    "text": "repository so it's really great to kind",
    "start": "432159",
    "end": "434409"
  },
  {
    "text": "of limit the impact on production of any",
    "start": "434409",
    "end": "436509"
  },
  {
    "text": "bugs getting out by doing all that",
    "start": "436509",
    "end": "438339"
  },
  {
    "text": "monitoring and rollbacks",
    "start": "438339",
    "end": "440219"
  },
  {
    "text": "so this is just an example of a lambda",
    "start": "440219",
    "end": "443169"
  },
  {
    "text": "function that I wrote for that",
    "start": "443169",
    "end": "444339"
  },
  {
    "text": "validation hook all that it's doing is",
    "start": "444339",
    "end": "446829"
  },
  {
    "text": "making a sample request to the target",
    "start": "446829",
    "end": "449679"
  },
  {
    "text": "endpoint on port 9000 and then checking",
    "start": "449679",
    "end": "452469"
  },
  {
    "text": "for that response code to be 200 I love",
    "start": "452469",
    "end": "456159"
  },
  {
    "text": "the async await by the way thank you",
    "start": "456159",
    "end": "458829"
  },
  {
    "text": "thank you I'm the JavaScript expert now",
    "start": "458829",
    "end": "461349"
  },
  {
    "text": "after writing this i if you're dropping",
    "start": "461349",
    "end": "464949"
  },
  {
    "text": "a single way I agree with you sister so",
    "start": "464949",
    "end": "467079"
  },
  {
    "text": "now what I want to do is show you some",
    "start": "467079",
    "end": "469629"
  },
  {
    "text": "of the files that I use to deploy to",
    "start": "469629",
    "end": "472959"
  },
  {
    "text": "code deploy one is of course the task",
    "start": "472959",
    "end": "475719"
  },
  {
    "text": "definition if you're an existing ecs",
    "start": "475719",
    "end": "477759"
  },
  {
    "text": "customer you're pretty familiar with",
    "start": "477759",
    "end": "479109"
  },
  {
    "text": "this here I have the port mappings for",
    "start": "479109",
    "end": "481929"
  },
  {
    "text": "my container and then I have an image",
    "start": "481929",
    "end": "483999"
  },
  {
    "text": "placeholder right now and I went ahead",
    "start": "483999",
    "end": "487119"
  },
  {
    "text": "and filled that in with a recent build",
    "start": "487119",
    "end": "489609"
  },
  {
    "text": "that I did fixing that chalk talk count",
    "start": "489609",
    "end": "491649"
  },
  {
    "text": "and then finally I have an app spec so",
    "start": "491649",
    "end": "495189"
  },
  {
    "text": "if you're not familiar with code deploy",
    "start": "495189",
    "end": "496569"
  },
  {
    "text": "app spec is what defines what you're",
    "start": "496569",
    "end": "499479"
  },
  {
    "text": "going to deploy via code deploy and so",
    "start": "499479",
    "end": "502329"
  },
  {
    "text": "here we have an e CS",
    "start": "502329",
    "end": "503660"
  },
  {
    "text": "of us I have a placeholder here for task",
    "start": "503660",
    "end": "506540"
  },
  {
    "text": "definition because I'm going to need to",
    "start": "506540",
    "end": "508400"
  },
  {
    "text": "register that task definition and add it",
    "start": "508400",
    "end": "510620"
  },
  {
    "text": "to my app spec and then I also have the",
    "start": "510620",
    "end": "514219"
  },
  {
    "text": "hook that I want to run to make sure",
    "start": "514220",
    "end": "516050"
  },
  {
    "text": "that everything in that green fleet is",
    "start": "516050",
    "end": "517640"
  },
  {
    "text": "is returning what I expect so let's go",
    "start": "517640",
    "end": "522320"
  },
  {
    "text": "ahead and deploy a do a manual",
    "start": "522320",
    "end": "526010"
  },
  {
    "text": "deployment of that task definition that",
    "start": "526010",
    "end": "528050"
  },
  {
    "text": "I have here locally and the app spec",
    "start": "528050",
    "end": "530240"
  },
  {
    "text": "that I just showed you and this is a",
    "start": "530240",
    "end": "532340"
  },
  {
    "text": "brand new command in the AWS CLI makes",
    "start": "532340",
    "end": "535550"
  },
  {
    "text": "it really really easy to create a manual",
    "start": "535550",
    "end": "538490"
  },
  {
    "text": "deployment or if you're doing scripting",
    "start": "538490",
    "end": "540290"
  },
  {
    "text": "like in Jenkins you can use this in your",
    "start": "540290",
    "end": "542090"
  },
  {
    "text": "Jenkins file so there's a couple of",
    "start": "542090",
    "end": "544940"
  },
  {
    "text": "things that it's doing here one is",
    "start": "544940",
    "end": "546530"
  },
  {
    "text": "registering that task definition that I",
    "start": "546530",
    "end": "548210"
  },
  {
    "text": "have locally then what it does is take",
    "start": "548210",
    "end": "551150"
  },
  {
    "text": "this unique task definition ID and",
    "start": "551150",
    "end": "554590"
  },
  {
    "text": "replaces it into my app spec replacing",
    "start": "554590",
    "end": "558830"
  },
  {
    "text": "this task folder this placeholder here",
    "start": "558830",
    "end": "560650"
  },
  {
    "text": "and now it's waiting for that deployment",
    "start": "560650",
    "end": "562940"
  },
  {
    "text": "to succeed so if we go back to a code",
    "start": "562940",
    "end": "566150"
  },
  {
    "start": "564000",
    "end": "656000"
  },
  {
    "text": "deploy console we can see the full",
    "start": "566150",
    "end": "569600"
  },
  {
    "text": "deployment history here so you can see",
    "start": "569600",
    "end": "571400"
  },
  {
    "text": "all of the deployments that I've been",
    "start": "571400",
    "end": "572690"
  },
  {
    "text": "doing to both ECS and lambda and then",
    "start": "572690",
    "end": "577250"
  },
  {
    "text": "let's take a look at this deployment",
    "start": "577250",
    "end": "578570"
  },
  {
    "text": "we're doing two UCS so one of the things",
    "start": "578570",
    "end": "583130"
  },
  {
    "text": "that I really like is that it's showing",
    "start": "583130",
    "end": "584840"
  },
  {
    "text": "me exactly what Co deploy is doing it's",
    "start": "584840",
    "end": "587150"
  },
  {
    "text": "showing me that my original set of tasks",
    "start": "587150",
    "end": "589970"
  },
  {
    "text": "running my v1 code is currently still",
    "start": "589970",
    "end": "592790"
  },
  {
    "text": "getting all of the production traffic so",
    "start": "592790",
    "end": "595280"
  },
  {
    "text": "if i refresh this page i'm still getting",
    "start": "595280",
    "end": "597650"
  },
  {
    "text": "that v1 code and currently what it's",
    "start": "597650",
    "end": "601130"
  },
  {
    "text": "doing is spinning up that replacement",
    "start": "601130",
    "end": "603080"
  },
  {
    "text": "task set so if we look at the UCS",
    "start": "603080",
    "end": "607040"
  },
  {
    "text": "console for this one of the things we're",
    "start": "607040",
    "end": "609560"
  },
  {
    "text": "going to see in that deployments tab in",
    "start": "609560",
    "end": "611390"
  },
  {
    "text": "the EECS console is that there's now a",
    "start": "611390",
    "end": "614150"
  },
  {
    "text": "deployment in progress and I can see",
    "start": "614150",
    "end": "616760"
  },
  {
    "text": "what it's doing so one of the things",
    "start": "616760",
    "end": "619070"
  },
  {
    "text": "that it's doing is spinning up the same",
    "start": "619070",
    "end": "620960"
  },
  {
    "text": "amount of tasks that I had in my",
    "start": "620960",
    "end": "622730"
  },
  {
    "text": "original task set",
    "start": "622730",
    "end": "625620"
  },
  {
    "text": "and then Co deploy will once that's all",
    "start": "625620",
    "end": "627870"
  },
  {
    "text": "spun up could deploy we'll do the shift",
    "start": "627870",
    "end": "630660"
  },
  {
    "text": "at the at the load balancer so one of",
    "start": "630660",
    "end": "636839"
  },
  {
    "text": "the things I can also see down here is",
    "start": "636839",
    "end": "638640"
  },
  {
    "text": "what the app spec looks like once at AWS",
    "start": "638640",
    "end": "641850"
  },
  {
    "text": "CLI command replace everything so it",
    "start": "641850",
    "end": "644490"
  },
  {
    "text": "replace that task definition placeholder",
    "start": "644490",
    "end": "647070"
  },
  {
    "text": "with that unique number that it just",
    "start": "647070",
    "end": "649320"
  },
  {
    "text": "registered",
    "start": "649320",
    "end": "651860"
  },
  {
    "text": "and then I can also see all the",
    "start": "656370",
    "end": "658110"
  },
  {
    "text": "deployment lifecycle events so at each",
    "start": "658110",
    "end": "660569"
  },
  {
    "text": "one of these events I can actually run a",
    "start": "660569",
    "end": "663050"
  },
  {
    "text": "validation hook here I've chosen to do",
    "start": "663050",
    "end": "666329"
  },
  {
    "text": "pre traffic so before after it allows",
    "start": "666329",
    "end": "668970"
  },
  {
    "text": "the test traffic but before it starts",
    "start": "668970",
    "end": "671370"
  },
  {
    "text": "allowing the production traffic so what",
    "start": "671370",
    "end": "676079"
  },
  {
    "text": "we just saw is that it just updated the",
    "start": "676079",
    "end": "677910"
  },
  {
    "text": "test traffic route setup and then now",
    "start": "677910",
    "end": "680790"
  },
  {
    "text": "it's routed my production traffic to the",
    "start": "680790",
    "end": "682709"
  },
  {
    "text": "replacement task set now it's giving me",
    "start": "682709",
    "end": "685920"
  },
  {
    "text": "a weight of one minute so this is",
    "start": "685920",
    "end": "688050"
  },
  {
    "text": "something that I configured right now",
    "start": "688050",
    "end": "689999"
  },
  {
    "text": "it's checking all of my cloud watch",
    "start": "689999",
    "end": "691319"
  },
  {
    "text": "alarms well any traffic that's coming in",
    "start": "691319",
    "end": "693749"
  },
  {
    "text": "right now to reinvent trivia comm is",
    "start": "693749",
    "end": "696379"
  },
  {
    "text": "going through the new code so we can go",
    "start": "696379",
    "end": "699779"
  },
  {
    "text": "over here let's refresh this and let's",
    "start": "699779",
    "end": "703980"
  },
  {
    "text": "look at this question that we're fixing",
    "start": "703980",
    "end": "705949"
  },
  {
    "text": "okay so six hundred and forty four a lot",
    "start": "705949",
    "end": "709199"
  },
  {
    "text": "more chalk talks than we originally",
    "start": "709199",
    "end": "710699"
  },
  {
    "text": "planned for I think when we wrote these",
    "start": "710699",
    "end": "712889"
  },
  {
    "text": "questions together Abby I apologize for",
    "start": "712889",
    "end": "716040"
  },
  {
    "text": "for for making you have to deploy",
    "start": "716040",
    "end": "718740"
  },
  {
    "text": "another update to your app I didn't look",
    "start": "718740",
    "end": "721559"
  },
  {
    "text": "it up we get this great opportunity to",
    "start": "721559",
    "end": "723990"
  },
  {
    "text": "comment about it so this is still",
    "start": "723990",
    "end": "728819"
  },
  {
    "start": "727000",
    "end": "1164000"
  },
  {
    "text": "waiting for one minute to to check if we",
    "start": "728819",
    "end": "733079"
  },
  {
    "text": "need to roll back it's checking all my",
    "start": "733079",
    "end": "734550"
  },
  {
    "text": "alarms so while this is happening are",
    "start": "734550",
    "end": "736800"
  },
  {
    "text": "there any more questions on the stream",
    "start": "736800",
    "end": "739350"
  },
  {
    "text": "taking a look check back in with Alan",
    "start": "739350",
    "end": "742079"
  },
  {
    "text": "Michael yeah too many yet but it's",
    "start": "742079",
    "end": "746699"
  },
  {
    "text": "generally kind of questions surrounding",
    "start": "746699",
    "end": "748550"
  },
  {
    "text": "what what part of the application",
    "start": "748550",
    "end": "750839"
  },
  {
    "text": "development lifecycle does code to fully",
    "start": "750839",
    "end": "753029"
  },
  {
    "text": "fit into is it comparable to this",
    "start": "753029",
    "end": "754860"
  },
  {
    "text": "product or that product so to answer",
    "start": "754860",
    "end": "758699"
  },
  {
    "text": "that let me show you a pipeline where",
    "start": "758699",
    "end": "760769"
  },
  {
    "text": "I'm using continuous deployment and so",
    "start": "760769",
    "end": "763709"
  },
  {
    "text": "one of the places where crew deploy fits",
    "start": "763709",
    "end": "765720"
  },
  {
    "text": "into is inside of your pipeline using",
    "start": "765720",
    "end": "768899"
  },
  {
    "text": "the Amazon ECS blue-green powered by",
    "start": "768899",
    "end": "771749"
  },
  {
    "text": "code deploy this is a new action in code",
    "start": "771749",
    "end": "774509"
  },
  {
    "text": "pipeline so this is where maybe in your",
    "start": "774509",
    "end": "777120"
  },
  {
    "text": "staging environment like your test",
    "start": "777120",
    "end": "778709"
  },
  {
    "text": "environment and then in your production",
    "start": "778709",
    "end": "780899"
  },
  {
    "text": "stage this is where you would use code",
    "start": "780899",
    "end": "782879"
  },
  {
    "text": "deploy to really safely roll out changes",
    "start": "782879",
    "end": "785549"
  },
  {
    "text": "to your production",
    "start": "785549",
    "end": "787270"
  },
  {
    "text": "so I'm actually going to start a another",
    "start": "787270",
    "end": "790810"
  },
  {
    "text": "deployment this same change has been",
    "start": "790810",
    "end": "794260"
  },
  {
    "text": "flowing through my pipeline from github",
    "start": "794260",
    "end": "796270"
  },
  {
    "text": "so I'm going to enable this I just",
    "start": "796270",
    "end": "798430"
  },
  {
    "text": "disabled it for the demo so I'll enable",
    "start": "798430",
    "end": "803410"
  },
  {
    "text": "this and then in just a few seconds the",
    "start": "803410",
    "end": "805390"
  },
  {
    "text": "deployment with ECS will start up and so",
    "start": "805390",
    "end": "808330"
  },
  {
    "text": "since I'm using continuous delivery one",
    "start": "808330",
    "end": "811480"
  },
  {
    "text": "of the things that could pipeline does",
    "start": "811480",
    "end": "812950"
  },
  {
    "text": "for me is automatically checks my github",
    "start": "812950",
    "end": "815560"
  },
  {
    "text": "source and then everything flows through",
    "start": "815560",
    "end": "818590"
  },
  {
    "text": "the build stage the staging environment",
    "start": "818590",
    "end": "821170"
  },
  {
    "text": "that I have set up with code deploy and",
    "start": "821170",
    "end": "823270"
  },
  {
    "text": "then now it is deploying to my",
    "start": "823270",
    "end": "825280"
  },
  {
    "text": "production environment automatically so",
    "start": "825280",
    "end": "828070"
  },
  {
    "text": "I didn't really have to do anything I",
    "start": "828070",
    "end": "829690"
  },
  {
    "text": "didn't have to do a manual deployment or",
    "start": "829690",
    "end": "831430"
  },
  {
    "text": "anything as soon as I checked in the",
    "start": "831430",
    "end": "833050"
  },
  {
    "text": "code it can flow through my pipeline and",
    "start": "833050",
    "end": "837340"
  },
  {
    "text": "I like that it references kind of all",
    "start": "837340",
    "end": "838900"
  },
  {
    "text": "the different stages to write so it's",
    "start": "838900",
    "end": "840550"
  },
  {
    "text": "linking you back out to the to the",
    "start": "840550",
    "end": "842200"
  },
  {
    "text": "commit and and github it's showing you",
    "start": "842200",
    "end": "844030"
  },
  {
    "text": "the source that you got from UCR so all",
    "start": "844030",
    "end": "845680"
  },
  {
    "text": "kinds of the stages as you go through",
    "start": "845680",
    "end": "847570"
  },
  {
    "text": "this whole pipeline process they're all",
    "start": "847570",
    "end": "849460"
  },
  {
    "text": "linked there for you so if you're trying",
    "start": "849460",
    "end": "850630"
  },
  {
    "text": "to debug something you can go all the",
    "start": "850630",
    "end": "852100"
  },
  {
    "text": "way back and say okay well it's this",
    "start": "852100",
    "end": "853480"
  },
  {
    "text": "commit that did that exactly and so you",
    "start": "853480",
    "end": "855430"
  },
  {
    "text": "actually called out one of our new",
    "start": "855430",
    "end": "857470"
  },
  {
    "text": "features which is the easier source",
    "start": "857470",
    "end": "859450"
  },
  {
    "text": "action so I can show you that here at",
    "start": "859450",
    "end": "862300"
  },
  {
    "text": "the top what a coincidence what a",
    "start": "862300",
    "end": "864070"
  },
  {
    "text": "coincidence it's not only checking my",
    "start": "864070",
    "end": "866890"
  },
  {
    "text": "source code repository but also one of",
    "start": "866890",
    "end": "869290"
  },
  {
    "text": "the things I have is a base image in my",
    "start": "869290",
    "end": "871690"
  },
  {
    "text": "ECR repository so I have a custom Alpine",
    "start": "871690",
    "end": "876700"
  },
  {
    "text": "nodejs base image with some other stuff",
    "start": "876700",
    "end": "879460"
  },
  {
    "text": "layered in there like an updated NPM and",
    "start": "879460",
    "end": "882340"
  },
  {
    "text": "then I have a doc generation tool that's",
    "start": "882340",
    "end": "884650"
  },
  {
    "text": "in there and so as soon as that image",
    "start": "884650",
    "end": "887620"
  },
  {
    "text": "gets pushed into ECR its gonna pick up",
    "start": "887620",
    "end": "891040"
  },
  {
    "text": "what that image ID is this is the same",
    "start": "891040",
    "end": "893440"
  },
  {
    "text": "thing you would see if you did docker",
    "start": "893440",
    "end": "895510"
  },
  {
    "text": "images command locally this is that",
    "start": "895510",
    "end": "897400"
  },
  {
    "text": "image ID and then it flows into the",
    "start": "897400",
    "end": "900310"
  },
  {
    "text": "build and here in the build I can now",
    "start": "900310",
    "end": "902260"
  },
  {
    "text": "use this new base image that I have with",
    "start": "902260",
    "end": "904690"
  },
  {
    "text": "updated dependencies or updated nodejs",
    "start": "904690",
    "end": "907210"
  },
  {
    "text": "and build my new application image so",
    "start": "907210",
    "end": "910540"
  },
  {
    "text": "the actual image that's feeding this API",
    "start": "910540",
    "end": "912910"
  },
  {
    "text": "service and that all flues flows all the",
    "start": "912910",
    "end": "917770"
  },
  {
    "text": "way through my pipeline into",
    "start": "917770",
    "end": "919580"
  },
  {
    "text": "reduction so this latest build that I",
    "start": "919580",
    "end": "921710"
  },
  {
    "text": "did of the image flows through there so",
    "start": "921710",
    "end": "924860"
  },
  {
    "text": "this is the example docker file that I'm",
    "start": "924860",
    "end": "927380"
  },
  {
    "text": "using for my base again it's just node",
    "start": "927380",
    "end": "929840"
  },
  {
    "text": "and a couple of different dependencies",
    "start": "929840",
    "end": "931640"
  },
  {
    "text": "in there so it's not too complex and",
    "start": "931640",
    "end": "933650"
  },
  {
    "text": "then I'm pulling from that base image",
    "start": "933650",
    "end": "936440"
  },
  {
    "text": "here in my main docker file and then",
    "start": "936440",
    "end": "940160"
  },
  {
    "text": "this is an example here of a base image",
    "start": "940160",
    "end": "943550"
  },
  {
    "text": "pipeline that I could set up so here is",
    "start": "943550",
    "end": "945860"
  },
  {
    "text": "just source and build I don't want to",
    "start": "945860",
    "end": "947660"
  },
  {
    "text": "deploy this image directly so as soon as",
    "start": "947660",
    "end": "950960"
  },
  {
    "text": "this one finishes building then that's",
    "start": "950960",
    "end": "954440"
  },
  {
    "text": "going to automatically trigger this",
    "start": "954440",
    "end": "955970"
  },
  {
    "text": "pipeline and we'll see a new image ID",
    "start": "955970",
    "end": "958100"
  },
  {
    "text": "flowing through the pipeline I'm a big",
    "start": "958100",
    "end": "960860"
  },
  {
    "text": "fan too of the I like the progress bar",
    "start": "960860",
    "end": "962960"
  },
  {
    "text": "on this page know that I can kind of see",
    "start": "962960",
    "end": "965000"
  },
  {
    "text": "without without having to like look at a",
    "start": "965000",
    "end": "967160"
  },
  {
    "text": "bunch of output that things are things",
    "start": "967160",
    "end": "969500"
  },
  {
    "text": "are building things are deploying things",
    "start": "969500",
    "end": "971000"
  },
  {
    "text": "are happening yeah but it's like a",
    "start": "971000",
    "end": "972530"
  },
  {
    "text": "little bit more visual yeah so one of",
    "start": "972530",
    "end": "975290"
  },
  {
    "text": "the things that I want to brag a little",
    "start": "975290",
    "end": "977480"
  },
  {
    "text": "bit about it some of the performance",
    "start": "977480",
    "end": "980000"
  },
  {
    "text": "improvements that's been made to code",
    "start": "980000",
    "end": "981350"
  },
  {
    "text": "pipeline so there was a total remarket",
    "start": "981350",
    "end": "984200"
  },
  {
    "text": "textured this year which is super",
    "start": "984200",
    "end": "985550"
  },
  {
    "text": "exciting",
    "start": "985550",
    "end": "986630"
  },
  {
    "text": "to move to a more event based model and",
    "start": "986630",
    "end": "989000"
  },
  {
    "text": "so these different transitions are now",
    "start": "989000",
    "end": "991460"
  },
  {
    "text": "happening in seconds whereas before they",
    "start": "991460",
    "end": "993560"
  },
  {
    "text": "could happen between 30 and 60 seconds",
    "start": "993560",
    "end": "996580"
  },
  {
    "text": "we're going live studio audience which",
    "start": "996580",
    "end": "1001960"
  },
  {
    "text": "is just Gabe and you can see the actual",
    "start": "1001960",
    "end": "1007180"
  },
  {
    "text": "output yeah so this is the actual output",
    "start": "1007180",
    "end": "1009010"
  },
  {
    "text": "for that bill so we can see it pulling",
    "start": "1009010",
    "end": "1011530"
  },
  {
    "text": "that node image from docker hub layering",
    "start": "1011530",
    "end": "1015460"
  },
  {
    "text": "in my eight dependencies and then it",
    "start": "1015460",
    "end": "1018160"
  },
  {
    "text": "looks like this build is finished let's",
    "start": "1018160",
    "end": "1021190"
  },
  {
    "text": "see",
    "start": "1021190",
    "end": "1022800"
  },
  {
    "text": "super prep by the way that you've used",
    "start": "1022800",
    "end": "1024640"
  },
  {
    "text": "Alpine and that was a very nice minimal",
    "start": "1024640",
    "end": "1027730"
  },
  {
    "text": "dog you always want all of your best",
    "start": "1027730",
    "end": "1030970"
  },
  {
    "text": "practices a V religiously this is going",
    "start": "1030970",
    "end": "1036430"
  },
  {
    "text": "to clear out a question around this this",
    "start": "1036430",
    "end": "1037990"
  },
  {
    "text": "is for building off of a base image you",
    "start": "1037990",
    "end": "1040689"
  },
  {
    "text": "mentioned right and it triggers pipeline",
    "start": "1040690",
    "end": "1042610"
  },
  {
    "text": "off of that you can you can also do a",
    "start": "1042610",
    "end": "1045010"
  },
  {
    "text": "nested built step inside the docker",
    "start": "1045010",
    "end": "1046750"
  },
  {
    "text": "image file",
    "start": "1046750",
    "end": "1049060"
  },
  {
    "text": "what would be the trade-offs there what",
    "start": "1049060",
    "end": "1050440"
  },
  {
    "text": "why would you do one or the other can",
    "start": "1050440",
    "end": "1052090"
  },
  {
    "text": "you kind of talk to that maybe do you",
    "start": "1052090",
    "end": "1054160"
  },
  {
    "text": "mean more about like multistage build",
    "start": "1054160",
    "end": "1055870"
  },
  {
    "text": "yeah yeah I really like multistage",
    "start": "1055870",
    "end": "1058450"
  },
  {
    "text": "builds I'm actually using that here in",
    "start": "1058450",
    "end": "1061510"
  },
  {
    "text": "my main one no not in this one different",
    "start": "1061510",
    "end": "1064510"
  },
  {
    "text": "different demo application sure yeah",
    "start": "1064510",
    "end": "1066880"
  },
  {
    "text": "put you on the spot one of the things i",
    "start": "1066880",
    "end": "1068470"
  },
  {
    "text": "like which abby talked a lot about",
    "start": "1068470",
    "end": "1070150"
  },
  {
    "text": "actually is most too much too much is",
    "start": "1070150",
    "end": "1074190"
  },
  {
    "text": "you know looking at how minimal your",
    "start": "1074190",
    "end": "1076900"
  },
  {
    "text": "image can be so things like test",
    "start": "1076900",
    "end": "1079630"
  },
  {
    "text": "dependencies for running unit tests can",
    "start": "1079630",
    "end": "1082180"
  },
  {
    "text": "be put into that first base right build",
    "start": "1082180",
    "end": "1085120"
  },
  {
    "text": "and then you don't have to copy them",
    "start": "1085120",
    "end": "1086710"
  },
  {
    "text": "into your release image and that just",
    "start": "1086710",
    "end": "1088600"
  },
  {
    "text": "makes it pulling a lot faster because",
    "start": "1088600",
    "end": "1090250"
  },
  {
    "text": "you pull the image a lot faster right so",
    "start": "1090250",
    "end": "1093670"
  },
  {
    "text": "your pipeline goes faster so that's been",
    "start": "1093670",
    "end": "1096100"
  },
  {
    "text": "really great for some of my applications",
    "start": "1096100",
    "end": "1098860"
  },
  {
    "text": "plus you don't want to ruin all of these",
    "start": "1098860",
    "end": "1100720"
  },
  {
    "text": "nice performance improvements in code",
    "start": "1100720",
    "end": "1102760"
  },
  {
    "text": "pipeline by trying to push a giant four",
    "start": "1102760",
    "end": "1105760"
  },
  {
    "text": "gigabyte image that everything so one of",
    "start": "1105760",
    "end": "1110080"
  },
  {
    "text": "the things we saw that built finished of",
    "start": "1110080",
    "end": "1112150"
  },
  {
    "text": "that base image and so now we have a new",
    "start": "1112150",
    "end": "1114370"
  },
  {
    "text": "image ID flowing through the pipeline",
    "start": "1114370",
    "end": "1116110"
  },
  {
    "text": "and I've got a new build running for my",
    "start": "1116110",
    "end": "1118420"
  },
  {
    "text": "application image so I was really easy",
    "start": "1118420",
    "end": "1121740"
  },
  {
    "text": "and that was pretty snappy to like very",
    "start": "1121740",
    "end": "1124420"
  },
  {
    "text": "snappy yeah you you identified a change",
    "start": "1124420",
    "end": "1126460"
  },
  {
    "text": "you change the you change the image then",
    "start": "1126460",
    "end": "1129070"
  },
  {
    "text": "you push it up and then code pipeline",
    "start": "1129070",
    "end": "1130570"
  },
  {
    "text": "has kind of handled everything else yeah",
    "start": "1130570",
    "end": "1132340"
  },
  {
    "text": "actually the project was called snappy",
    "start": "1132340",
    "end": "1134560"
  },
  {
    "text": "pipelines really yeah I actually didn't",
    "start": "1134560",
    "end": "1137440"
  },
  {
    "text": "know yet very I didn't even walk myself",
    "start": "1137440",
    "end": "1139330"
  },
  {
    "text": "into that joke I genuinely didn't know",
    "start": "1139330",
    "end": "1142200"
  },
  {
    "text": "okay oh I'm super proud of myself okay",
    "start": "1142200",
    "end": "1154450"
  },
  {
    "text": "well we are just about out of time",
    "start": "1154450",
    "end": "1155610"
  },
  {
    "text": "thanks to Clara for joining us and we",
    "start": "1155610",
    "end": "1158740"
  },
  {
    "text": "will see you back in just a couple",
    "start": "1158740",
    "end": "1160240"
  },
  {
    "text": "minutes on twitch.tv slash AWS thanks so",
    "start": "1160240",
    "end": "1163510"
  },
  {
    "text": "much",
    "start": "1163510",
    "end": "1165570"
  }
]