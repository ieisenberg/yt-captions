[
  {
    "start": "0",
    "end": "77000"
  },
  {
    "text": "this is a 300 level course we will be going deeper this does assume you have some degree of technical knowledge about",
    "start": "0",
    "end": "6180"
  },
  {
    "text": "AWS in general and some knowledge of cloud trail is helpful let's take a",
    "start": "6180",
    "end": "11370"
  },
  {
    "text": "minute to understand where everyone in the crowd is at as far as your knowledge of cloud trail how many folks here have",
    "start": "11370",
    "end": "18210"
  },
  {
    "text": "actually used AWS cloud trail before for any purposes now how many people have",
    "start": "18210",
    "end": "26670"
  },
  {
    "text": "actually looked at a cloud trail event directly themselves okay good so we have",
    "start": "26670",
    "end": "33630"
  },
  {
    "text": "a good mix of experience in the room today well we will be going deeper I'm",
    "start": "33630",
    "end": "38940"
  },
  {
    "text": "going to start off because there are some people who may not be familiar we're gonna spend a few slides just talking about what cloud trail is how",
    "start": "38940",
    "end": "45030"
  },
  {
    "text": "it's positioned in the management tools suite of products and we'll talk a little bit about fundamental ideas of",
    "start": "45030",
    "end": "51449"
  },
  {
    "text": "cloud trail this should take about 10 minutes then we'll get into deeper concepts now we'll skip a couple of our",
    "start": "51449",
    "end": "58440"
  },
  {
    "text": "typical high-level discussions today because we do have a lot of content to cover so we will skip the discussions of",
    "start": "58440",
    "end": "65518"
  },
  {
    "text": "what operational health are what are personal what security is and what compliance are I mean make the",
    "start": "65519",
    "end": "70740"
  },
  {
    "text": "assumptions you know why these things are important to your company so one",
    "start": "70740",
    "end": "79650"
  },
  {
    "start": "77000",
    "end": "134000"
  },
  {
    "text": "thing I forgot to mention we do have two new features to discuss today we also have two demos and in the course of this",
    "start": "79650",
    "end": "86820"
  },
  {
    "text": "session we will talk about how you can simplify your compliance story how you can improve your operational",
    "start": "86820",
    "end": "92070"
  },
  {
    "text": "troubleshooting activities and how you can improve your security posture so",
    "start": "92070",
    "end": "98460"
  },
  {
    "text": "we'll start off by taking a look at a cloud trail features specifically then we'll get into how to secure your event",
    "start": "98460",
    "end": "104399"
  },
  {
    "text": "logs how to set them up best practices and recommendations for that we'll also take a look at two use cases contrived",
    "start": "104399",
    "end": "110670"
  },
  {
    "text": "examples of how you can explore cloud trail events to derive insights into your account and then we'll talk about",
    "start": "110670",
    "end": "116700"
  },
  {
    "text": "some more advanced topics like monitoring an automated response workflows now we are having a bit of an",
    "start": "116700",
    "end": "126270"
  },
  {
    "text": "issue with a session timer here so you may see some variation now how fast we go through this please pardon us as we",
    "start": "126270",
    "end": "132209"
  },
  {
    "text": "work the process here so let's talk about the",
    "start": "132209",
    "end": "137489"
  },
  {
    "start": "134000",
    "end": "274000"
  },
  {
    "text": "product suite that in which cloud trail is home and this is the AWS management tools product suite so AWS gives you a",
    "start": "137489",
    "end": "145379"
  },
  {
    "text": "set of management tools which enable you to programmatically automate provision and monitor every component of your",
    "start": "145379",
    "end": "153090"
  },
  {
    "text": "environments and when you use these tools you can maintain control in your accounts without sacrificing development",
    "start": "153090",
    "end": "160739"
  },
  {
    "text": "velocity now these tools are integrated with each other and they're also integrated with every aspect of the AWS",
    "start": "160739",
    "end": "168030"
  },
  {
    "text": "platform there are four categories of tools and let's touch briefly on each one of these if you're not familiar with",
    "start": "168030",
    "end": "175230"
  },
  {
    "text": "each of these I would highly suggest you get to know them because whenever you have something you need to do in your",
    "start": "175230",
    "end": "180510"
  },
  {
    "text": "accounts which requires management these are the first places you should start we have cloud formation which allows you to",
    "start": "180510",
    "end": "186720"
  },
  {
    "text": "author a simple text template describing the resources in your accounts you can use the template to provision resources",
    "start": "186720",
    "end": "194099"
  },
  {
    "text": "in a safe way with a transactional field we have service catalog which allows you",
    "start": "194099",
    "end": "199470"
  },
  {
    "text": "to safely deploy applications to your accounts and this could be anything from images to full application architectures",
    "start": "199470",
    "end": "207569"
  },
  {
    "text": "there's also opsworks which is a configuration service and this takes care of hosting and scaling chef and",
    "start": "207569",
    "end": "214139"
  },
  {
    "text": "puppet servers on your behalf from monitoring we have cloud watch cloud",
    "start": "214139",
    "end": "219269"
  },
  {
    "text": "watch enables you to monitor your systems and it does this by providing metrics which you can monitor and also",
    "start": "219269",
    "end": "225479"
  },
  {
    "text": "allowing you to define alerts for notifications when there are problems you can also use it to respond in",
    "start": "225479",
    "end": "230609"
  },
  {
    "text": "real-time to events and then operations and compliance management we have cloud trail which is what we'll discuss today",
    "start": "230609",
    "end": "236879"
  },
  {
    "text": "more the Sinhala allows you to capture information from across your accounts and gain insights we also have config",
    "start": "236879",
    "end": "243659"
  },
  {
    "text": "which enables you to look at configuration of your resources in your accounts and maintain awareness and inventory and finally we have Systems",
    "start": "243659",
    "end": "251849"
  },
  {
    "text": "Manager Systems Manager enables you to view and monitor your resources and it also gives you the ability to automate",
    "start": "251849",
    "end": "257729"
  },
  {
    "text": "some common tasks like patch management and state management so that's a brief introduction to a very broad number of",
    "start": "257729",
    "end": "264389"
  },
  {
    "text": "services and we won't go further today on this please do make sure you're aware of all these all these tools together if",
    "start": "264389",
    "end": "269670"
  },
  {
    "text": "you use them together can give you control of every aspect of your AWS accounts so now let's dive into cloud",
    "start": "269670",
    "end": "277110"
  },
  {
    "start": "274000",
    "end": "361000"
  },
  {
    "text": "trail specifically cloud trail is a service which enables compliance governance operational auditing and risk",
    "start": "277110",
    "end": "284220"
  },
  {
    "text": "auditing in your accounts and it does this by helping you track activity across teams users services accounts and",
    "start": "284220",
    "end": "292350"
  },
  {
    "text": "even across your entire organization now I had a conversation earlier this",
    "start": "292350",
    "end": "297600"
  },
  {
    "text": "week with a gentleman in our booth and he indicated that we need to be a little bit crisper about defining activity so",
    "start": "297600",
    "end": "303300"
  },
  {
    "text": "for our purposes today and our discussion will define activity in the account as public API activity in AWS",
    "start": "303300",
    "end": "311010"
  },
  {
    "text": "that's public AWS API activity so I'm gonna use the word activity a lot that's what I mean cloud trail is integrated",
    "start": "311010",
    "end": "317340"
  },
  {
    "text": "with the vast majority of services in AWS it collects information from these services every time the public API is",
    "start": "317340",
    "end": "323820"
  },
  {
    "text": "called in it brings these into a central location where you can view and control the information it contains it's easy to",
    "start": "323820",
    "end": "331830"
  },
  {
    "text": "set up it's very easy to configure and we give you a set of tools that you can use to interact with the event logs the",
    "start": "331830",
    "end": "339930"
  },
  {
    "text": "other thing is since this is managed by AWS you don't have to worry about coverage as AWS continues to evolve and",
    "start": "339930",
    "end": "345900"
  },
  {
    "text": "new services are added with new features AWS adds support and cloud trail for each of these new things",
    "start": "345900",
    "end": "352730"
  },
  {
    "text": "now if you're familiar with cloud trail you may have noticed that I mentioned organizations so I have some good news",
    "start": "352730",
    "end": "358770"
  },
  {
    "text": "to share with you on that topic and we'll get to that shortly so last in this segment let's talk about",
    "start": "358770",
    "end": "365610"
  },
  {
    "start": "361000",
    "end": "467000"
  },
  {
    "text": "a couple of use cases that cloud trail can enable for you and the first is simplifying your compliance work flows",
    "start": "365610",
    "end": "372080"
  },
  {
    "text": "because cloud trail pulls all this information into one single location it makes it much easier for you to prove",
    "start": "372080",
    "end": "377610"
  },
  {
    "text": "that you are compliant if you are subject to regulatory regulations like HIPAA or PCI you can very quickly",
    "start": "377610",
    "end": "385110"
  },
  {
    "text": "demonstrate everything that's happened in your account and it doesn't take much work to consolidate this information it's also useful because all of the",
    "start": "385110",
    "end": "392490"
  },
  {
    "text": "information presented by cloud trail is at a single level of granularity you can",
    "start": "392490",
    "end": "397919"
  },
  {
    "text": "also enhance your security analysis one of the hardest parts of a security analysis sometimes is just establishing",
    "start": "397919",
    "end": "403560"
  },
  {
    "text": "what real usage patterns look like how our customer how are your users really using their accounts with cloud trail",
    "start": "403560",
    "end": "409350"
  },
  {
    "text": "it's very easy to just jump in and you can slice and dice the information however you want you can aggregate it by",
    "start": "409350",
    "end": "415169"
  },
  {
    "text": "region you can look at specific users it becomes very easy to establish whether or not the usage patterns in your",
    "start": "415169",
    "end": "421770"
  },
  {
    "text": "account have any security risks associated with them you can also monitor data exfiltration risks cloud",
    "start": "421770",
    "end": "428520"
  },
  {
    "text": "trail enables you to carefully monitor at the object level what is happening with objects and s3 buckets so if you",
    "start": "428520",
    "end": "434820"
  },
  {
    "text": "have particular areas where you're concerned about data exfiltration you can monitor these closely and you can also react automatically to close data",
    "start": "434820",
    "end": "442140"
  },
  {
    "text": "exfiltration risks and finally performing operational troubleshooting",
    "start": "442140",
    "end": "447540"
  },
  {
    "text": "is just much easier with cloud trail you can dive into specific sequences of events and when you don't really know",
    "start": "447540",
    "end": "452940"
  },
  {
    "text": "what the root cause of a problem is cloud trail is a great place to start to help you quickly get to a hypothesis and",
    "start": "452940",
    "end": "458340"
  },
  {
    "text": "this will help reduce your mean time to resolution so these are a few examples of the use cases cloud trail can help",
    "start": "458340",
    "end": "465120"
  },
  {
    "text": "you with just to get your mind started so that's it for just understanding you",
    "start": "465120",
    "end": "471900"
  },
  {
    "text": "know the layout of the environment the product suite that are available in cloud trail and what it is let's take four slides and we'll talk",
    "start": "471900",
    "end": "478650"
  },
  {
    "text": "about the basic features of cloud trail and understand some terminology that we'll be using throughout our discussion",
    "start": "478650",
    "end": "485460"
  },
  {
    "text": "today let's talk about cloud trail events so events are the fundamental",
    "start": "485460",
    "end": "490620"
  },
  {
    "start": "486000",
    "end": "547000"
  },
  {
    "text": "unit of useful information that cloud trail provides to you an event corresponds to a single invocation of a",
    "start": "490620",
    "end": "497340"
  },
  {
    "text": "public AWS API and it contains not only the name of the event but a lot of the context information about the invocation",
    "start": "497340",
    "end": "504270"
  },
  {
    "text": "of the API this includes the caller the source of the call the request and",
    "start": "504270",
    "end": "509940"
  },
  {
    "text": "response information and all this enables you to determine who made the call at what time the call was made and",
    "start": "509940",
    "end": "516300"
  },
  {
    "text": "to debug in to why various aspects of the information passed you and received from the call cloud trail gathers",
    "start": "516300",
    "end": "524130"
  },
  {
    "text": "information from over a hundred and thirty AWS services at present and our that list continues to grow a cloud",
    "start": "524130",
    "end": "530730"
  },
  {
    "text": "trail also automatically collects this activity there's nothing you really have to do other than just setting up the initial configuration and",
    "start": "530730",
    "end": "536660"
  },
  {
    "text": "once all this information is pulled from these individual services it's brought into a central location so you can",
    "start": "536660",
    "end": "542400"
  },
  {
    "text": "access it and use this as a single source of truth so that's what an event",
    "start": "542400",
    "end": "549870"
  },
  {
    "start": "547000",
    "end": "629000"
  },
  {
    "text": "is now there are different types of events there's two main types of events that we categorize two different ways and this is very important for our",
    "start": "549870",
    "end": "556020"
  },
  {
    "text": "discussion today so keep in mind the differentiation between management events and dates these are the two types",
    "start": "556020",
    "end": "561660"
  },
  {
    "text": "of events we support management events correspond to activities using AWS api's",
    "start": "561660",
    "end": "567420"
  },
  {
    "text": "which control resources in your account you can think of things like creating an ec2 instance or deleting an RDS instance",
    "start": "567420",
    "end": "574820"
  },
  {
    "text": "these are usually relatively infrequent compared to data events data events are",
    "start": "574820",
    "end": "580170"
  },
  {
    "text": "finer drain actions things like interacting with the individual objects or say executing a specific lambda function much higher volume this is",
    "start": "580170",
    "end": "587280"
  },
  {
    "text": "something like reading from a specific object in an s3 bucket now because these",
    "start": "587280",
    "end": "593070"
  },
  {
    "text": "have different of typical volumes associated with them we'll treat them differently when we think about how to design our cloud trail setup also each",
    "start": "593070",
    "end": "601380"
  },
  {
    "text": "event either management events or data events can be categorized as either a read event or a write event and this is",
    "start": "601380",
    "end": "607860"
  },
  {
    "text": "also important for data volume purposes a read event doesn't materially alter anything in any way something like a",
    "start": "607860",
    "end": "613260"
  },
  {
    "text": "describe instances when you're interacting with ec2 whereas a right event obviously something like an",
    "start": "613260",
    "end": "618270"
  },
  {
    "text": "updating an RDS instance so read events are much more frequent than write events typically and data events are much more",
    "start": "618270",
    "end": "625350"
  },
  {
    "text": "common than management or much more frequent than management events typically so let's talk about how these",
    "start": "625350",
    "end": "631860"
  },
  {
    "start": "629000",
    "end": "704000"
  },
  {
    "text": "events come to you we deliver events we capture - s3 buckets of your choice you",
    "start": "631860",
    "end": "637800"
  },
  {
    "text": "can see you can specify any s3 bucket you want and you can use this to bring information from multiple accounts into",
    "start": "637800",
    "end": "643890"
  },
  {
    "text": "a single location you can also opt in to delivering events - cloud watch logs and",
    "start": "643890",
    "end": "649230"
  },
  {
    "text": "this is important because there's a number of cloud watch features which we'll explore today which are enabled by doing so now a note about our collection",
    "start": "649230",
    "end": "658200"
  },
  {
    "text": "are our delivery speed typically at present you'll see that from the time an",
    "start": "658200",
    "end": "663390"
  },
  {
    "text": "API is about to the time when a cloud trail event is livered is usually about is less than",
    "start": "663390",
    "end": "668610"
  },
  {
    "text": "five minutes our 99th percentile or our effective worst case is about 15 minutes",
    "start": "668610",
    "end": "674399"
  },
  {
    "text": "now that is changed recently for some services we've increased the speed that this these events get delivered in for",
    "start": "674399",
    "end": "681269"
  },
  {
    "text": "these services and you'll see them delivered in under 30 seconds with a 99th percentile of 5 minutes now this is",
    "start": "681269",
    "end": "687989"
  },
  {
    "text": "important for folks who are building notifications on top of cloud trail because that affects how rapidly you can",
    "start": "687989",
    "end": "693179"
  },
  {
    "text": "become aware of information that is sourced on cloud trail I can tell you",
    "start": "693179",
    "end": "698670"
  },
  {
    "text": "also that the number of services that have received this upgraded integration has increased recently so we understand",
    "start": "698670",
    "end": "707129"
  },
  {
    "text": "now what events are we understand the mechanics of how they're delivered to you for consumption now how do you control it and that's where we come we",
    "start": "707129",
    "end": "713730"
  },
  {
    "text": "talk about the concept of a trail a trail is a configuration object which you create using either the CLI the API",
    "start": "713730",
    "end": "720779"
  },
  {
    "text": "or the console it's a very easy process to create these it's quite user friendly",
    "start": "720779",
    "end": "725910"
  },
  {
    "text": "and it enables you to define a specific set of events that you want captured and delivered to a specific location and you",
    "start": "725910",
    "end": "732929"
  },
  {
    "text": "can also have more than one trail this is important for thinking about different use cases we'll talk more in",
    "start": "732929",
    "end": "738239"
  },
  {
    "text": "detail about why having multiple data sets can be very advantageous for you ok",
    "start": "738239",
    "end": "748439"
  },
  {
    "start": "746000",
    "end": "772000"
  },
  {
    "text": "so that's kind of our foundational discussion we understand now what events are and understand that they're pulled",
    "start": "748439",
    "end": "754199"
  },
  {
    "text": "from multiple services we understand that they're delivered to you in s3 buckets and optionally to cloud watch logs groups we understand that you can",
    "start": "754199",
    "end": "760649"
  },
  {
    "text": "configure a trail to control what cloud trail does now let's talk about some best practices about how to set these",
    "start": "760649",
    "end": "767309"
  },
  {
    "text": "trails up to enable yourself to maximize cloud trail potential before we get into",
    "start": "767309",
    "end": "775169"
  },
  {
    "start": "772000",
    "end": "872000"
  },
  {
    "text": "this it's important to think about your design one of the problems with cloud trail is that if you if you make certain",
    "start": "775169",
    "end": "782549"
  },
  {
    "text": "decisions and then later in the future regret them there's no way to go back in time and change your configuration and",
    "start": "782549",
    "end": "788939"
  },
  {
    "text": "capture information you missed so it's important to think upfront how are you going to use cloud trail who is going to",
    "start": "788939",
    "end": "795269"
  },
  {
    "text": "consume your data what are they going to do with it because it will significantly affect what you how you set up your your trails do you have multiple teams",
    "start": "795269",
    "end": "802649"
  },
  {
    "text": "can they see the same information is it okay for the for everyone to see all of",
    "start": "802649",
    "end": "807820"
  },
  {
    "text": "the cloud trail information emitted by every account usually the answer to that is no you need to think about how you're",
    "start": "807820",
    "end": "813160"
  },
  {
    "text": "going to partition that and I'll show you how to do that you also need to think about what types of information you need and this is",
    "start": "813160",
    "end": "818410"
  },
  {
    "text": "where event volume starts becoming important if you have a compliance scenario where you want to just store",
    "start": "818410",
    "end": "823810"
  },
  {
    "text": "everything and archive it that can generate quite a bit of data but if you want to use that same data set to drive",
    "start": "823810",
    "end": "829600"
  },
  {
    "text": "an actual application workflow the volume that data may choke it so you can when you think about the volume of data",
    "start": "829600",
    "end": "836019"
  },
  {
    "text": "you're using you can architect your system for the smallest data set possible this makes you more resilient to scale as you continue to grow you",
    "start": "836019",
    "end": "844149"
  },
  {
    "text": "also need to think about where you want your events delivered are you okay with a centralized source of truth across your entire company or do you want to",
    "start": "844149",
    "end": "850269"
  },
  {
    "text": "partition things by different divisions due to security concerns this is the time to think about this and finally",
    "start": "850269",
    "end": "855790"
  },
  {
    "text": "think about what regions you want to be in I'm going to make the argument for you that cloud trail is actually a",
    "start": "855790",
    "end": "861790"
  },
  {
    "text": "security backplane and you should think about it from a security perspective not a pure compliance perspective in this",
    "start": "861790",
    "end": "867610"
  },
  {
    "text": "case it's important to think about putting it in all the different regions that you have available so if all of",
    "start": "867610",
    "end": "875709"
  },
  {
    "start": "872000",
    "end": "1076000"
  },
  {
    "text": "this sounds good and you say that's that's wonderful but where do I start we do have a set of recommendations for",
    "start": "875709",
    "end": "882250"
  },
  {
    "text": "you and this is this is accumulated from talking to customers again and again seeing what works for some companies",
    "start": "882250",
    "end": "888399"
  },
  {
    "text": "what doesn't this may not be the perfect recommendation for you but it's a good place to start your thinking and the",
    "start": "888399",
    "end": "894040"
  },
  {
    "text": "first thing we recommend is you create a trail in each account which captures all management events including read and",
    "start": "894040",
    "end": "899890"
  },
  {
    "text": "write events and this is your compliance backplane this is your record of everything that's happened in your",
    "start": "899890",
    "end": "905260"
  },
  {
    "text": "account you can use it for multiple things you can even use it when you're doing operational debugging then we",
    "start": "905260",
    "end": "910630"
  },
  {
    "text": "recommend you create an additional trail for use cases which have specific requirements one thing that comes up a",
    "start": "910630",
    "end": "916870"
  },
  {
    "text": "lot is people like to create a secondary trail that captures only write events for management events because that makes",
    "start": "916870",
    "end": "922510"
  },
  {
    "text": "it very easy when they're doing operational troubleshooting to go through and just look through them individually and not have to filter out",
    "start": "922510",
    "end": "928029"
  },
  {
    "text": "a bunch of noisy read events that they may not care about in that scenario you also may have two different teams",
    "start": "928029",
    "end": "934149"
  },
  {
    "text": "that have different needs that are changing you can have two different trails one for each team and then you",
    "start": "934149",
    "end": "939459"
  },
  {
    "text": "can give them each control over the data that's being logged and they can control it independently so these are some",
    "start": "939459",
    "end": "944740"
  },
  {
    "text": "examples of use cases where you might want to have multiple trails also we",
    "start": "944740",
    "end": "950050"
  },
  {
    "text": "recommend that you do use a centralized delivery location for events as I mentioned you can partition this but we",
    "start": "950050",
    "end": "955870"
  },
  {
    "text": "find that most customers get the most benefit about from having a single location where they have a single source",
    "start": "955870",
    "end": "961450"
  },
  {
    "text": "of truth for cloud trail events next you need to think about your bucket policy",
    "start": "961450",
    "end": "967390"
  },
  {
    "text": "who gets access to what if you're delivering all of your events into a single bucket we we break it out into a",
    "start": "967390",
    "end": "975310"
  },
  {
    "text": "folder structure that allows you to give different people access to different subsets that folder structure is broken",
    "start": "975310",
    "end": "981100"
  },
  {
    "text": "down by account ID and it's also broken down by trail if you configure a prefix",
    "start": "981100",
    "end": "986290"
  },
  {
    "text": "in the trail so you can literally control who gets access to the output of which trail in which account and it's up",
    "start": "986290",
    "end": "993310"
  },
  {
    "text": "to you to decide how you want to partition it but we do recommend that you set it up explicitly and that you don't just give everyone access to",
    "start": "993310",
    "end": "999190"
  },
  {
    "text": "everything next it's a good idea to",
    "start": "999190",
    "end": "1004410"
  },
  {
    "text": "actively monitor data exfiltration and critical function usage for s3 buckets",
    "start": "1004410",
    "end": "1009839"
  },
  {
    "text": "and lambda functions which are critical for your business we do not recommend that you just enable it for everything",
    "start": "1009839",
    "end": "1015959"
  },
  {
    "text": "by default you should look at your s3 buckets and say which ones of my buckets have things that are critical to my",
    "start": "1015959",
    "end": "1021990"
  },
  {
    "text": "business mission-critical information or at high risk of data exfiltration same thing with your lambda functions which",
    "start": "1021990",
    "end": "1028260"
  },
  {
    "text": "things are so dangerous to execute that I really can't have this floating around unmonitored and then you can turn on",
    "start": "1028260",
    "end": "1035459"
  },
  {
    "text": "data events for these so you can track activity and that will also set you up to build automated remediation workflows",
    "start": "1035459",
    "end": "1041280"
  },
  {
    "text": "or even notifications on top of this so with all that you now have a pretty good",
    "start": "1041280",
    "end": "1047130"
  },
  {
    "text": "set up if you follow these steps you'll have a really good understanding of what's going on your system I would recommend that you then let it run for a",
    "start": "1047130",
    "end": "1054360"
  },
  {
    "text": "couple of days or a week and then spend some time getting to know your activity patterns and this is probably one of the",
    "start": "1054360",
    "end": "1061260"
  },
  {
    "text": "most overlooked things we see when people are dealing with cloud trail is that people never stop and take the",
    "start": "1061260",
    "end": "1066890"
  },
  {
    "text": "time to get into it and figure out what's actually happening in their accounts you can learn a lot you're almost guaranteed to see - you're almost",
    "start": "1066890",
    "end": "1073250"
  },
  {
    "text": "guaranteed to learn some follow up questions and you'll need to act on all",
    "start": "1073250",
    "end": "1084530"
  },
  {
    "start": "1076000",
    "end": "1188000"
  },
  {
    "text": "so now that we've talked about how to set up your your event logging system",
    "start": "1084530",
    "end": "1090020"
  },
  {
    "text": "let's talk about some mistakes that we see people making again and again and these are less it's less important about",
    "start": "1090020",
    "end": "1095240"
  },
  {
    "text": "the specific mistakes it's more important to think about the thinking let's take a look at a couple of",
    "start": "1095240",
    "end": "1100550"
  },
  {
    "text": "examples one thing we hear a lot is people just turn on cloud trail in the areas where they have stacks deployed",
    "start": "1100550",
    "end": "1106460"
  },
  {
    "text": "they say hey I'm logging at all the important regions then a malicious user logs and launches an internal attack",
    "start": "1106460",
    "end": "1113210"
  },
  {
    "text": "from an unused region and they have absolutely no visibility into what happened so again start to think about",
    "start": "1113210",
    "end": "1119300"
  },
  {
    "text": "Kyle trail is not only just a compliance tool but something that you can use for security and for forensics for going in",
    "start": "1119300",
    "end": "1125000"
  },
  {
    "text": "and determining what happened retrospectively and even for setting up monitoring and remediation in which case you need to think about all the possible",
    "start": "1125000",
    "end": "1131900"
  },
  {
    "text": "places attack vectors could come from and that's why we recommend you set it up in all regions another thing we hear a lot is people",
    "start": "1131900",
    "end": "1139130"
  },
  {
    "text": "saying hey I don't need all the events cloud trail produces tons of data that's too much for me I don't need that and so",
    "start": "1139130",
    "end": "1145280"
  },
  {
    "text": "they captured just right events but there are things you can learn from write of their read events for example you can determine whether or not",
    "start": "1145280",
    "end": "1151400"
  },
  {
    "text": "somebody's probing your resources looking for Reis weaknesses you can learn if employees are exercising due",
    "start": "1151400",
    "end": "1157340"
  },
  {
    "text": "diligence when they make a change and that caused an operational outage so you need to think again about the broader",
    "start": "1157340",
    "end": "1163670"
  },
  {
    "text": "picture about what you can do with cloud trail before you try to do early optimization on the data set size so",
    "start": "1163670",
    "end": "1170270"
  },
  {
    "text": "just some tips to think about make sure that you think through some of your planning assumptions before you implement them because again Cloud Trail",
    "start": "1170270",
    "end": "1176420"
  },
  {
    "text": "once you've started logging if you later go back and wish that you can see those events they're not necessarily available",
    "start": "1176420",
    "end": "1184420"
  },
  {
    "text": "so next let's talk about securing your events it's important to secure your",
    "start": "1184420",
    "end": "1191060"
  },
  {
    "text": "event logs because they provide you a layer of protection from malicious users event logs are not just the ability to",
    "start": "1191060",
    "end": "1198350"
  },
  {
    "text": "die - what happened if you're challenged from a compliance perspective you want to be able to go in and catch people who",
    "start": "1198350",
    "end": "1203670"
  },
  {
    "text": "are doing things on purpose or even to determine if something was accidental and understand where it came from I'll",
    "start": "1203670",
    "end": "1208710"
  },
  {
    "text": "show you a situation where this is very easy but you need to make sure that people can't go in and wipe your event",
    "start": "1208710",
    "end": "1214980"
  },
  {
    "text": "logs clean this is a very common attack pattern somebody goes in they want to internally damage an account the first",
    "start": "1214980",
    "end": "1221370"
  },
  {
    "text": "thing I want to do is make sure no one can track what they've done so they'll go in and they'll try to wipe out the cloud trail event logs so what we will",
    "start": "1221370",
    "end": "1227940"
  },
  {
    "text": "do is we will talk about four steps that you can take that will make it very difficult for anyone to interfere with",
    "start": "1227940",
    "end": "1235740"
  },
  {
    "text": "cloud trails ability to log events in your in your accounts so the first",
    "start": "1235740",
    "end": "1243660"
  },
  {
    "start": "1241000",
    "end": "1363000"
  },
  {
    "text": "recommendation we have is to turn on log file validation this is a feature available in cloud trail which causes",
    "start": "1243660",
    "end": "1250200"
  },
  {
    "text": "cloud trail to create a hash of every log file it delivers to you it collects these hashes and puts them in a file and",
    "start": "1250200",
    "end": "1257100"
  },
  {
    "text": "it periodically delivers this to you into your delivery destinations in a different folder cloud trail digitally",
    "start": "1257100",
    "end": "1263670"
  },
  {
    "text": "signs this digest file so that you can tell if it's been tampered with with",
    "start": "1263670",
    "end": "1268980"
  },
  {
    "text": "these things in place you have a very strong chain of ownership that will allow you to tell whether or not anyone",
    "start": "1268980",
    "end": "1274980"
  },
  {
    "text": "has materially modified the event logs in any way and this includes deleting any of it you can tell completeness and whether",
    "start": "1274980",
    "end": "1281550"
  },
  {
    "text": "it's in its original form now if you find this is the case you don't need to",
    "start": "1281550",
    "end": "1286950"
  },
  {
    "text": "have building a remediation strategy you can contact AWS support and indicate that you have had your cloud trail event",
    "start": "1286950",
    "end": "1293220"
  },
  {
    "text": "logs compromised and we can regenerate them for you so you don't need to worry about not only building your remediation strategy",
    "start": "1293220",
    "end": "1299160"
  },
  {
    "text": "here but what your security posture would look like to keep that segregated",
    "start": "1299160",
    "end": "1304490"
  },
  {
    "text": "next we recommend you use your own kms key this adds another barrier to",
    "start": "1304490",
    "end": "1311000"
  },
  {
    "text": "malicious users in that in order to access your event logs they would need to have decrypt permissions on that key",
    "start": "1311000",
    "end": "1317000"
  },
  {
    "text": "also we recommend that you enable access logging for s3 buckets where cloud trail",
    "start": "1317000",
    "end": "1322980"
  },
  {
    "text": "event logs are delivered and this makes it hard for anyone to even try to access the event logs without being tracked",
    "start": "1322980",
    "end": "1328770"
  },
  {
    "text": "this will allow you to see if people even try and they don't have ax to get an access denied this is an",
    "start": "1328770",
    "end": "1333820"
  },
  {
    "text": "additional level of protection against probing and finally turn on multi-factor",
    "start": "1333820",
    "end": "1339400"
  },
  {
    "text": "authentication for s3 buckets where a tub is cloud trail data is stored this yet again makes it harder for an",
    "start": "1339400",
    "end": "1346240"
  },
  {
    "text": "attacker to attack your event logs without revealing their identity now if",
    "start": "1346240",
    "end": "1351460"
  },
  {
    "text": "you follow these steps you will have a strong defense against people interfering with your event logs and",
    "start": "1351460",
    "end": "1356800"
  },
  {
    "text": "this will start to form a good security backplane that you can use for establishing accountability in your",
    "start": "1356800",
    "end": "1362080"
  },
  {
    "text": "accounts now because we're thinking about cloud trail from a security",
    "start": "1362080",
    "end": "1368080"
  },
  {
    "start": "1363000",
    "end": "1411000"
  },
  {
    "text": "perspective we need to change our way of thinking and remember that every security system is only as strong as its",
    "start": "1368080",
    "end": "1374440"
  },
  {
    "text": "weakest link and one thing we see problems with a lot is people secure their event logs but then they don't",
    "start": "1374440",
    "end": "1379690"
  },
  {
    "text": "think carefully about how they're deploying cloud trail so you need to think about your strategy from a security perspective do you want to take",
    "start": "1379690",
    "end": "1385930"
  },
  {
    "text": "a manual process this is easy it's the fastest ramp up but it's also prone to human error you can use an automated",
    "start": "1385930",
    "end": "1392980"
  },
  {
    "text": "process a little bit more investment upfront but less prone to human error once you figure out your approach you",
    "start": "1392980",
    "end": "1400000"
  },
  {
    "text": "need to make sure that all the appropriate policies are set up for cloud trail the s3 buckets and the cloud",
    "start": "1400000",
    "end": "1405910"
  },
  {
    "text": "watch logs groups to make things are button down we recommend you do this in a way that's repeatable and maintainable",
    "start": "1405910",
    "end": "1412230"
  },
  {
    "start": "1411000",
    "end": "1518000"
  },
  {
    "text": "now on that topic it is my pleasure to introduce a new component of cloud trail",
    "start": "1412230",
    "end": "1417610"
  },
  {
    "text": "which is organizational trails historically whenever you defined a trail it only applied to the account in",
    "start": "1417610",
    "end": "1424210"
  },
  {
    "text": "which it was defined you had the option to decide whether or not applied in a specific region or all regions we now",
    "start": "1424210",
    "end": "1430150"
  },
  {
    "text": "give you the ability to create a trail in one account and apply it across all the accounts in an AWS organization this",
    "start": "1430150",
    "end": "1438160"
  },
  {
    "text": "is accomplished by defining the trail in the organization master account and it's",
    "start": "1438160",
    "end": "1443410"
  },
  {
    "text": "the same experience you have in defining trails so it's very intuitive when you define a trail in an organization master",
    "start": "1443410",
    "end": "1449710"
  },
  {
    "text": "account and indicate it's an organizational trail cloud trail will copy the trail definition to all the",
    "start": "1449710",
    "end": "1455140"
  },
  {
    "text": "accounts in the organization automatically cloud Jail takes care of all the heavy lifting of configuring",
    "start": "1455140",
    "end": "1461800"
  },
  {
    "text": "roles making sure everything's set up and keeping everything in sync across the so you have a single point of control in",
    "start": "1461800",
    "end": "1467890"
  },
  {
    "text": "the master account now there are a couple of benefits to this and the first",
    "start": "1467890",
    "end": "1473050"
  },
  {
    "text": "of which is as a result of the way this is implemented you cannot make changes to the copies of the trail that are",
    "start": "1473050",
    "end": "1479770"
  },
  {
    "text": "present in a member account from the member account the only place you can make changes to an organizational trail",
    "start": "1479770",
    "end": "1484810"
  },
  {
    "text": "is from the organization master account this reduces the surface area both for",
    "start": "1484810",
    "end": "1490060"
  },
  {
    "text": "errors and malicious attacks because another things some malicious users like to do is actually just turn off the",
    "start": "1490060",
    "end": "1495760"
  },
  {
    "text": "cloud trail do their thing and then turn it back on that becomes much harder now another benefit here is that cloud trail",
    "start": "1495760",
    "end": "1502270"
  },
  {
    "text": "listens for changes to the organization so if you add accounts to your organization cloud trail will intercept",
    "start": "1502270",
    "end": "1508690"
  },
  {
    "text": "and immediately configure an organizational trail in new member accounts for every organizational trail",
    "start": "1508690",
    "end": "1514060"
  },
  {
    "text": "that's defined in the organization master account and I've been shopping",
    "start": "1514060",
    "end": "1521080"
  },
  {
    "start": "1518000",
    "end": "1568000"
  },
  {
    "text": "this around with some customers they indicated to me this is somewhat of a game changer so I really want to drive home how easy this is this is the AWS",
    "start": "1521080",
    "end": "1527920"
  },
  {
    "text": "cloud trail or the native this cloud trail console we won't go into detail about what's happening here but you can",
    "start": "1527920",
    "end": "1533830"
  },
  {
    "text": "see different types of information you specify when creating a trail like the trail name the different types of events",
    "start": "1533830",
    "end": "1540100"
  },
  {
    "text": "you might want but if you look at the red arrow that's really all you have to do to specify that something's an",
    "start": "1540100",
    "end": "1545290"
  },
  {
    "text": "organization trail just opt in say yes and cloud trail does the rest it's all automatic one thing I forgot to mention",
    "start": "1545290",
    "end": "1550900"
  },
  {
    "text": "is organization trails always share the same delivery destination so you get that same centralized source of truth",
    "start": "1550900",
    "end": "1557020"
  },
  {
    "text": "for all the delivered events across the accounts by default and do remember that",
    "start": "1557020",
    "end": "1562810"
  },
  {
    "text": "in order to do this you need to actually create the trail in the organization master account so next let's talk about",
    "start": "1562810",
    "end": "1571600"
  },
  {
    "start": "1568000",
    "end": "1653000"
  },
  {
    "text": "maintaining awareness of costs cloud trail can encourage charges it does not always we have a non charge tier and we",
    "start": "1571600",
    "end": "1578260"
  },
  {
    "text": "have a charge tier if you are not incurring charges you may want to protect yourself to make sure that",
    "start": "1578260",
    "end": "1583990"
  },
  {
    "text": "nobody accidentally starts incurring charges if you are incurring charges you want to make sure that there's not a",
    "start": "1583990",
    "end": "1589540"
  },
  {
    "text": "sudden spike in charges that you're not aware of for this we recommend that you use AWS budgets using AWS budgets is",
    "start": "1589540",
    "end": "1596200"
  },
  {
    "text": "very easy to set up a budget for cloud trail on that each billing cycle will set a certain",
    "start": "1596200",
    "end": "1601270"
  },
  {
    "text": "maximum amount that's expected if the amount that's in charge by cloud trail ever either exceeds that or is forecast",
    "start": "1601270",
    "end": "1608710"
  },
  {
    "text": "to exceed that you'll receive a notification if you set your threshold correctly you can get into a situation",
    "start": "1608710",
    "end": "1615940"
  },
  {
    "text": "where if there is a problem or a change there can be almost negligible financial",
    "start": "1615940",
    "end": "1621550"
  },
  {
    "text": "impact you can still be aware of it and proactively take care of it so this allows you to cheat identify changes in",
    "start": "1621550",
    "end": "1628420"
  },
  {
    "text": "trends it can be a result of someone say you're not incurring charges someone doing something that does start",
    "start": "1628420",
    "end": "1634240"
  },
  {
    "text": "incurring charges it can also capture changes that are result in changes and configurations from unrelated services",
    "start": "1634240",
    "end": "1640810"
  },
  {
    "text": "we'll talk in a little bit about how changing other services can change your event volume and by consequence can",
    "start": "1640810",
    "end": "1647920"
  },
  {
    "text": "change the volume of data you see and the charges you see if you are paying for cloud trail and again just to give",
    "start": "1647920",
    "end": "1655780"
  },
  {
    "start": "1653000",
    "end": "1705000"
  },
  {
    "text": "you some idea of how easy this is this is the AWS budgets console and you can see it the first arrow that you can just",
    "start": "1655780",
    "end": "1661510"
  },
  {
    "text": "simply into it you can enter the budgeted amount you have simple you just define whatever you want you can also at",
    "start": "1661510",
    "end": "1666640"
  },
  {
    "text": "the third arrow see your historical time series information about the costs incurred so you can use that to",
    "start": "1666640",
    "end": "1672280"
  },
  {
    "text": "calibrate what you think would be a good hypothesis for a starting point also at the second arrow notice you can just",
    "start": "1672280",
    "end": "1678250"
  },
  {
    "text": "easily select which service you want to use as part of your budget you can use",
    "start": "1678250",
    "end": "1683740"
  },
  {
    "text": "cloud in this case I've selected cloud trail only but you can select multiple services and this is good not only for",
    "start": "1683740",
    "end": "1689410"
  },
  {
    "text": "cloud trail but this is broadly useful for a number of services so please do check this out there's a lot of protection you can build for yourself",
    "start": "1689410",
    "end": "1695830"
  },
  {
    "text": "I've heard several cases where customers come to us and if they had this setup it would save them a great deal of pain so",
    "start": "1695830",
    "end": "1702040"
  },
  {
    "text": "please look at this very carefully so we",
    "start": "1702040",
    "end": "1707950"
  },
  {
    "start": "1705000",
    "end": "1745000"
  },
  {
    "text": "are about halfway through let's take a quick break and just rehash what we've talked about we looked at management",
    "start": "1707950",
    "end": "1714460"
  },
  {
    "text": "tools all up we looked at all the different services briefly that are in that space we looked at cloud trail what",
    "start": "1714460",
    "end": "1720190"
  },
  {
    "text": "it is we looked at some foundational information about cloud trail and the kinds of things that can do we set up a",
    "start": "1720190",
    "end": "1727000"
  },
  {
    "text": "secure foundation for tracking and exploring activity and we also explored how to maintain awareness of cost and I",
    "start": "1727000",
    "end": "1733120"
  },
  {
    "text": "will again because I talk to customers frequently and because they come to me a lot when there's a problem I cannot",
    "start": "1733120",
    "end": "1738580"
  },
  {
    "text": "overemphasize how important it is to make sure you maintain awareness of cost across your services so now that we",
    "start": "1738580",
    "end": "1748000"
  },
  {
    "text": "understand a little bit about cloud for me or cloud trail and some of the ways to configure it let's talk about how we",
    "start": "1748000",
    "end": "1754750"
  },
  {
    "text": "can actually use it in order to do this we're going to take two slides and we're gonna just look briefly at what an event",
    "start": "1754750",
    "end": "1762220"
  },
  {
    "start": "1756000",
    "end": "1881000"
  },
  {
    "text": "looks like for you folks who haven't seen this cloud trail events are JSON documents so they're very human readable",
    "start": "1762220",
    "end": "1768280"
  },
  {
    "text": "and they're exposed in a standardized format all the information is exposed as attributes and they contain information",
    "start": "1768280",
    "end": "1774790"
  },
  {
    "text": "like the source identity the look at the calling party that called the API and",
    "start": "1774790",
    "end": "1780220"
  },
  {
    "text": "the information about the request and the responses that was sent to and received from the API you can use a lot",
    "start": "1780220",
    "end": "1787390"
  },
  {
    "text": "of this information for debugging and you can also use it to establish accountability let's dive into two areas",
    "start": "1787390",
    "end": "1795400"
  },
  {
    "text": "here where we have more complex objects the source identity contains a lot of additional information you can tell not",
    "start": "1795400",
    "end": "1801040"
  },
  {
    "text": "only the principal and the arn of the the identity that was invoking the call but you can tell other things like",
    "start": "1801040",
    "end": "1807640"
  },
  {
    "text": "whether or not that particular identity was MFA authenticated at the time of the call you can also determine if this was",
    "start": "1807640",
    "end": "1814000"
  },
  {
    "text": "executed as an assumed role and if so you can correlate back to other events",
    "start": "1814000",
    "end": "1819490"
  },
  {
    "text": "and determine which user actually assumed the role before making the call and this is a good thing to think about",
    "start": "1819490",
    "end": "1825340"
  },
  {
    "text": "also when you start thinking about establishing what the usage patterns are in your account you can use cloud trail",
    "start": "1825340",
    "end": "1830919"
  },
  {
    "text": "to determine how people are using assumed roles which is typically a security risk also the requests in the",
    "start": "1830919",
    "end": "1837700"
  },
  {
    "text": "response information there you can just see some examples when you get into debugging operational issues this is",
    "start": "1837700",
    "end": "1842710"
  },
  {
    "text": "useful especially when you're doing things where you need to identify specific instances one of the things I",
    "start": "1842710",
    "end": "1848440"
  },
  {
    "text": "use this for a lot is pulling out the instance idea of ec2 instances when I'm doing things with ec2 instances that I",
    "start": "1848440",
    "end": "1854919"
  },
  {
    "text": "need to debug so again I'm providing this to you not so much so that you",
    "start": "1854919",
    "end": "1860559"
  },
  {
    "text": "would parse all this information more to whet your appetite understand that there's a wealth of information in the",
    "start": "1860559",
    "end": "1866409"
  },
  {
    "text": "cloud trail events and do explore this on your own time and take a look at the information that's available I can almost guarantee you if",
    "start": "1866409",
    "end": "1873110"
  },
  {
    "text": "you look in detail it will change how you use cloud trail because you'll realize there are use cases based on the",
    "start": "1873110",
    "end": "1879020"
  },
  {
    "text": "information that's in these events so now let's talk about the tools that we",
    "start": "1879020",
    "end": "1884539"
  },
  {
    "start": "1881000",
    "end": "1977000"
  },
  {
    "text": "can use to access cloud trail events out-of-the-box cloud trail provides you a set of search and browse tools which",
    "start": "1884539",
    "end": "1891410"
  },
  {
    "text": "you can use to access the lesson 90 days of management events let's take a quick",
    "start": "1891410",
    "end": "1896840"
  },
  {
    "text": "aside and discuss that point when you turn on cloud trail all right I'm sorry excuse me when you create an account we",
    "start": "1896840",
    "end": "1903049"
  },
  {
    "text": "turn on cloud trail for you automatically and we keep of private copy of the last 90 days of management",
    "start": "1903049",
    "end": "1909440"
  },
  {
    "text": "events by default this does not cost you anything and you can use these tools to access that data if you want more than",
    "start": "1909440",
    "end": "1916730"
  },
  {
    "text": "this 90 days you need to set up a trail to deliver to an s3 bucket but if you're",
    "start": "1916730",
    "end": "1921740"
  },
  {
    "text": "looking just in this particular slice of time at management events this applies only to management events you can use",
    "start": "1921740",
    "end": "1927590"
  },
  {
    "text": "the event history in the AWS console this will allow you to browse through your events and it will also allow you",
    "start": "1927590",
    "end": "1934039"
  },
  {
    "text": "to apply a single filter that filter can help you find specific events or look for specific sequences of events and it",
    "start": "1934039",
    "end": "1942049"
  },
  {
    "text": "can also be used to specify a specific time range some of the examples of the",
    "start": "1942049",
    "end": "1947419"
  },
  {
    "text": "types of options we have for filters include filtering by event name or filtering by the resource that was",
    "start": "1947419",
    "end": "1952850"
  },
  {
    "text": "affected by a particular API call we also have the look of events command in the CLI which has similar functionality",
    "start": "1952850",
    "end": "1958580"
  },
  {
    "text": "and also the look of events action in the API these are good tools to get started if you're just poking around or",
    "start": "1958580",
    "end": "1965690"
  },
  {
    "text": "you have a real quick action you need to perform that's need to take the action",
    "start": "1965690",
    "end": "1971299"
  },
  {
    "text": "against management events so if you want something more complicated or excuse me if you want something more powerful",
    "start": "1971299",
    "end": "1976750"
  },
  {
    "text": "performing more complex queries we've integrated cloud trail with amazon athena now amazon athena is an",
    "start": "1976750",
    "end": "1984679"
  },
  {
    "start": "1977000",
    "end": "2044000"
  },
  {
    "text": "interactive query service that allows you to query against datasets using standard sequel now through this",
    "start": "1984679",
    "end": "1991370"
  },
  {
    "text": "integration it's very easy for you to select a cloud trail event log and import it into athena as a snapshot",
    "start": "1991370",
    "end": "2000010"
  },
  {
    "text": "Athena will populate one of their tables with this and you can perform ad hoc queries of your choice against this data",
    "start": "2000010",
    "end": "2006190"
  },
  {
    "text": "set in the in the Athena table and we've simplified this for you to the point where it's literally just a few clicks",
    "start": "2006190",
    "end": "2012070"
  },
  {
    "text": "of the console for folks who are familiar with Amazon Athena using this",
    "start": "2012070",
    "end": "2017620"
  },
  {
    "text": "integration you do not need to define a schema we take care of that for you so it's literally just a few clicks with",
    "start": "2017620",
    "end": "2023799"
  },
  {
    "text": "this integration you can perform much more complex queries you can perform multi attribute searches you can even do",
    "start": "2023799",
    "end": "2030010"
  },
  {
    "text": "advanced things like building time series views of your event log data and this is where we expect people to go",
    "start": "2030010",
    "end": "2036460"
  },
  {
    "text": "when you're doing more detailed security analysis like looking at behavioral patterns all up across your accounts and",
    "start": "2036460",
    "end": "2041830"
  },
  {
    "text": "doing formal analysis now if you're looking for something that's a little",
    "start": "2041830",
    "end": "2047110"
  },
  {
    "start": "2044000",
    "end": "2118000"
  },
  {
    "text": "bit in between maybe not maybe a broader scope than the out of box tools and",
    "start": "2047110",
    "end": "2052868"
  },
  {
    "text": "maybe not so not not not as complicated as something as a full sequel implementation or something that",
    "start": "2052869",
    "end": "2058929"
  },
  {
    "text": "operates against live data the cloud watch team announced a new feature a couple of days ago which is very useful",
    "start": "2058929",
    "end": "2065080"
  },
  {
    "text": "for exploring cloud trail events and this is cloud watch logs insights it's very useful for lightweight queries it",
    "start": "2065080",
    "end": "2071858"
  },
  {
    "text": "provides you with a simplified query language that's reminiscent of a stripped down version of sequel with",
    "start": "2071859",
    "end": "2077530"
  },
  {
    "text": "some concepts from command-line utilities integrated it's very easy I'm",
    "start": "2077530",
    "end": "2083648"
  },
  {
    "text": "a product manager I'm not a technical person I learned this query language in 20 minutes flat with almost no help I'm",
    "start": "2083649",
    "end": "2089260"
  },
  {
    "text": "sure there won't be any problems for anyone with this you can do simple or",
    "start": "2089260",
    "end": "2094570"
  },
  {
    "text": "complex searches you can execute them in seconds you can author queries and you",
    "start": "2094570",
    "end": "2099880"
  },
  {
    "text": "can elaborate on them which allows you to do iterative queries and allow you to slice through your cloud trail event",
    "start": "2099880",
    "end": "2106480"
  },
  {
    "text": "logs iteratively and this also supports",
    "start": "2106480",
    "end": "2112570"
  },
  {
    "text": "a set of data aggregation commands so you can summarize information across your accounts so we've looked now at how",
    "start": "2112570",
    "end": "2121810"
  },
  {
    "start": "2118000",
    "end": "2237000"
  },
  {
    "text": "to access cloud trail event data our next step then would be to say well how",
    "start": "2121810",
    "end": "2127210"
  },
  {
    "text": "can we take this information and do real work that's really useful to our businesses",
    "start": "2127210",
    "end": "2132880"
  },
  {
    "text": "so I have a set of demos or two demos specifically that I will show you about",
    "start": "2132880",
    "end": "2138310"
  },
  {
    "text": "how to actually use cloud trail event data and we're going to use them first to understand usage patterns in the",
    "start": "2138310",
    "end": "2144520"
  },
  {
    "text": "account to support security analysis and then we'll look at a contrived example of how to explore an operational",
    "start": "2144520",
    "end": "2151480"
  },
  {
    "text": "troubleshooting situation before we dive",
    "start": "2151480",
    "end": "2156910"
  },
  {
    "text": "into the demos let's talk about this general space if I am looking at a new account with cloud trail I can perform a",
    "start": "2156910",
    "end": "2164050"
  },
  {
    "text": "variety of analysis very very quickly I can baseline my I am user activity I can",
    "start": "2164050",
    "end": "2169540"
  },
  {
    "text": "find out quickly who my top users are I can find out what they're doing I can find out which users are using which",
    "start": "2169540",
    "end": "2174550"
  },
  {
    "text": "services I can find out what my top services are I can find out specific sequences of behavior that are happening",
    "start": "2174550",
    "end": "2181030"
  },
  {
    "text": "for users of interest I can also profile my use of assumed roles these are just a few examples there's also the ability to",
    "start": "2181030",
    "end": "2188290"
  },
  {
    "text": "look at console Lite sign-in patterns and even understand the source IP address distribution for access to your",
    "start": "2188290",
    "end": "2194380"
  },
  {
    "text": "account the list goes on and on and on one thing that's very interesting is",
    "start": "2194380",
    "end": "2199600"
  },
  {
    "text": "that you can actually use this to very quickly investigate a suspicious user activity pattern maybe hopefully you'll",
    "start": "2199600",
    "end": "2206680"
  },
  {
    "text": "never be in a situation where you have to deal with an internal bad actor but if you do or if you have someone whose",
    "start": "2206680",
    "end": "2211690"
  },
  {
    "text": "accounts being compromised and you need to just quickly check what does this person been doing you can check in",
    "start": "2211690",
    "end": "2216940"
  },
  {
    "text": "seconds without with cloud trail and we'll actually take a look at this scenario right now please give me one",
    "start": "2216940",
    "end": "2227290"
  },
  {
    "text": "moment well I switch accounts here",
    "start": "2227290",
    "end": "2231809"
  },
  {
    "start": "2237000",
    "end": "2329000"
  },
  {
    "text": "okay so in this demo we're gonna use cloud watch logs insights I'll give you",
    "start": "2237950",
    "end": "2244140"
  },
  {
    "text": "a quick introduction to this interface I'm personally madly in love with this interface but that's just my opinion",
    "start": "2244140",
    "end": "2249980"
  },
  {
    "text": "at the very top there you can see actually let me highlight this for you you can see that you can select the",
    "start": "2249980",
    "end": "2255720"
  },
  {
    "text": "cloud watch logs group that you are pulling information from that's important if you're using multiple trails that deliver two different logs",
    "start": "2255720",
    "end": "2261960"
  },
  {
    "text": "you can select time ranges quickly that you want to look for and here you can specify this custom query language which",
    "start": "2261960",
    "end": "2268470"
  },
  {
    "text": "is very simplified we won't talk about this language specifically right now but for your information you can see I'm",
    "start": "2268470",
    "end": "2274680"
  },
  {
    "text": "using a command called stats and that basically does the same thing as a sequel group by a statement you can see",
    "start": "2274680",
    "end": "2281190"
  },
  {
    "text": "also that I'm dripping by AWS region so below this you see that cloud cloud",
    "start": "2281190",
    "end": "2287309"
  },
  {
    "text": "watch emits a time series chart for you by default and below that you can see",
    "start": "2287309",
    "end": "2292859"
  },
  {
    "text": "the query results so what I've done here is I've just simply in a very short query I've said show me the count of",
    "start": "2292859",
    "end": "2299339"
  },
  {
    "text": "activity aggregated by a two base region so I can see in what regions I have activity now in this contrived example",
    "start": "2299339",
    "end": "2306990"
  },
  {
    "text": "I'm working for a company where I expect activity to be focused in a few regions specifically in Europe and also in the",
    "start": "2306990",
    "end": "2315089"
  },
  {
    "text": "United States and I see that that is indeed the case I have activity in use central one an activity in US East one",
    "start": "2315089",
    "end": "2321990"
  },
  {
    "text": "but I also see that there's quite a bit of activity in other regions as well and I want to understand what that is we'll",
    "start": "2321990",
    "end": "2327660"
  },
  {
    "text": "come back to that so next let's say I want to just drill into a specific",
    "start": "2327660",
    "end": "2334160"
  },
  {
    "start": "2329000",
    "end": "2379000"
  },
  {
    "text": "region it's as easy as just adding a filter and changing my aggregation to event source now I'm looking at this by",
    "start": "2334160",
    "end": "2340680"
  },
  {
    "text": "service ok so now I can see all my services listed in that region I can see their call volume per service I can see",
    "start": "2340680",
    "end": "2347190"
  },
  {
    "text": "that s3 is my top service immediately to see the kinds of insights with almost no effort I'm just accumulating here s3 is",
    "start": "2347190",
    "end": "2353849"
  },
  {
    "text": "my Thai ec2 is also want to mess up and I go down and continue to look and I see ok these all make sense in this",
    "start": "2353849",
    "end": "2360180"
  },
  {
    "text": "contrived example I notice that number 14 is redshift and let's just say that we have a company policy that we're not",
    "start": "2360180",
    "end": "2365730"
  },
  {
    "text": "using redshift I'm immediately concerned that someone's use redshift using the same strategy I can",
    "start": "2365730",
    "end": "2371280"
  },
  {
    "text": "drill down and look at who's using redshift what the call flows are I can find the users that are using it and I",
    "start": "2371280",
    "end": "2377250"
  },
  {
    "text": "can connect with them and understand what's going on so let's say I want to take this a level further and I'm going",
    "start": "2377250",
    "end": "2384900"
  },
  {
    "start": "2379000",
    "end": "2526000"
  },
  {
    "text": "to dive in and I want to understand the users who are using using my account so",
    "start": "2384900",
    "end": "2391710"
  },
  {
    "text": "again I just add another filter criteria I changed my a grinning to B by event",
    "start": "2391710",
    "end": "2396720"
  },
  {
    "text": "name and user identity and I can immediately see the api's that are being called and the users who are calling",
    "start": "2396720",
    "end": "2402750"
  },
  {
    "text": "them along with the information about how frequently this is happening may seem a little bit intimidating at first",
    "start": "2402750",
    "end": "2408990"
  },
  {
    "text": "to look at these queries but if you spend 10 minutes with this you'll be able to pivot through this stuff very quickly and you can see right away that",
    "start": "2408990",
    "end": "2415619"
  },
  {
    "text": "I have an IT support user who is one of my top active people you can also see that it stands out very clearly that I",
    "start": "2415619",
    "end": "2420810"
  },
  {
    "text": "have a finance user who is executing ec2 activity and that concerns me and I",
    "start": "2420810",
    "end": "2427980"
  },
  {
    "text": "forgot to mention that I've also pivoted this by ec2 usage specifically so at line number eight there are the finance",
    "start": "2427980",
    "end": "2433440"
  },
  {
    "text": "user who is using API as an ec2 that concerns me now I have a follow-up I need to talk to this user and understand",
    "start": "2433440",
    "end": "2439859"
  },
  {
    "text": "why they're actually using this because I don't believe anybody in the finance team should be creating or using easy-to",
    "start": "2439859",
    "end": "2444869"
  },
  {
    "text": "instances directly so here we're building a very basic understanding of",
    "start": "2444869",
    "end": "2449880"
  },
  {
    "text": "how we can start at the top and just peel the onion look back and explore our",
    "start": "2449880",
    "end": "2455130"
  },
  {
    "text": "accounts and gain insight upon insight you can go as deep as you want with this we're building an exploration graph as",
    "start": "2455130",
    "end": "2460440"
  },
  {
    "text": "an example of going a different route if we go back to our original query here",
    "start": "2460440",
    "end": "2465540"
  },
  {
    "text": "let's say that we want to figure out what's actually going on in these regions where we believe there should be no activity I can alter my query again",
    "start": "2465540",
    "end": "2473910"
  },
  {
    "text": "to just look at that specific region and I see that there is a single user who is performing something related to ec2 it",
    "start": "2473910",
    "end": "2482069"
  },
  {
    "text": "looks like he's created an ec2 instance and he's manipulating it and you'll notice here that you can't",
    "start": "2482069",
    "end": "2487470"
  },
  {
    "text": "see the information about who created it and that's because I turned on logging after this user created this instance",
    "start": "2487470",
    "end": "2494910"
  },
  {
    "text": "this is the problem you'll kind of reel run into if you don't set up your your trails proactively before usage starts",
    "start": "2494910",
    "end": "2501089"
  },
  {
    "text": "to occur see something like this and you'll say okay I know there is a problem but I don't necessarily have all the information so think about that in this",
    "start": "2501089",
    "end": "2508440"
  },
  {
    "text": "case I see it's a product manager who is creating things that using ec2 in a region that's not supposed to that",
    "start": "2508440",
    "end": "2514740"
  },
  {
    "text": "sounds like a process issue to me so I can connect with this user and I can say what are you doing in this region why are you doing this this doesn't make any",
    "start": "2514740",
    "end": "2520650"
  },
  {
    "text": "sense so that's a really rudimentary",
    "start": "2520650",
    "end": "2532680"
  },
  {
    "start": "2526000",
    "end": "2554000"
  },
  {
    "text": "example of how you can start to explore information in your account you'll notice how easy it is to look at things across services and that's because of",
    "start": "2532680",
    "end": "2539700"
  },
  {
    "text": "cloud trails design where everything is reported for each event as a single schema that's consistent across all",
    "start": "2539700",
    "end": "2545490"
  },
  {
    "text": "services the only service specific variations you get are the request and response information in individual",
    "start": "2545490",
    "end": "2552180"
  },
  {
    "text": "events and that's useful for debugging now let's pivot this a different way completely let's look at it from the",
    "start": "2552180",
    "end": "2559140"
  },
  {
    "start": "2554000",
    "end": "2603000"
  },
  {
    "text": "other end of the spectrum where we're saying I have an operational problem I'm going to use a contrived example again",
    "start": "2559140",
    "end": "2564240"
  },
  {
    "text": "how can we go through diagnosing this problem so let's think about diagnosing operational problems all up if you've",
    "start": "2564240",
    "end": "2570030"
  },
  {
    "text": "done a good job of establishing an operational baseline in your accounts and you're familiar with the activity",
    "start": "2570030",
    "end": "2576330"
  },
  {
    "text": "patterns using cloud trail it's very easy to identify trends or changes which",
    "start": "2576330",
    "end": "2582000"
  },
  {
    "text": "are unusual you can understand differences in an event volume you can",
    "start": "2582000",
    "end": "2587040"
  },
  {
    "text": "understand differences in error code patterns coming back from API implications you can also drill into",
    "start": "2587040",
    "end": "2592890"
  },
  {
    "text": "areas of interest where things look unusual and stuff and go to a really fine grained or fine degree of detail",
    "start": "2592890",
    "end": "2598950"
  },
  {
    "text": "understanding exactly what's causing changes in the call volume patterns so",
    "start": "2598950",
    "end": "2604770"
  },
  {
    "start": "2603000",
    "end": "2705000"
  },
  {
    "text": "the best way to explore this is to take a look at an example so let's take a look at a situation that I've contrived",
    "start": "2604770",
    "end": "2611369"
  },
  {
    "text": "in this case I'm going to pretend that I am a I'm a company or I'm a operation",
    "start": "2611369",
    "end": "2619320"
  },
  {
    "text": "manager at a company and I've just received a notification that there's been an operational outage someone suspects that a particular ec2 instance",
    "start": "2619320",
    "end": "2627240"
  },
  {
    "text": "I has been has failed in some way",
    "start": "2627240",
    "end": "2633170"
  },
  {
    "text": "and when people went in to understand what was wrong they noticed that it seemed to be running so now I have this",
    "start": "2633190",
    "end": "2638500"
  },
  {
    "text": "report that there was a transient failure I'm concerned there may be an intermittent outage I may be looking at a large-scale event of some kind I need",
    "start": "2638500",
    "end": "2645280"
  },
  {
    "text": "to understand what happened fast so the first thing I'm going to do is I'm going",
    "start": "2645280",
    "end": "2650770"
  },
  {
    "text": "to go into cloud trail and I'm just going to look at everything that's happened in my account in that period of",
    "start": "2650770",
    "end": "2657099"
  },
  {
    "text": "time now if you have sharp eyes you may notice that I'm looking at a different log group here and this goes back to the",
    "start": "2657099",
    "end": "2664839"
  },
  {
    "text": "statements we discussed about why it makes sense to set up different trails for different reasons you'll notice that",
    "start": "2664839",
    "end": "2671200"
  },
  {
    "text": "I'm just listing all of the information that happened in this account and it's fairly digestible and that's because",
    "start": "2671200",
    "end": "2676329"
  },
  {
    "text": "this is coming from a different trail it's coming from a trail that's set up to capture only write to management",
    "start": "2676329",
    "end": "2681760"
  },
  {
    "text": "events therefore in a fairly small period of time I'm likely to have a digestible piece of information that I",
    "start": "2681760",
    "end": "2687700"
  },
  {
    "text": "can just scan so let's do that let's look through here and we can see a variety of different types of activity",
    "start": "2687700",
    "end": "2693640"
  },
  {
    "text": "we can see every bucket activity we can see some activity interacting with ec2 instances and right away we see",
    "start": "2693640",
    "end": "2700030"
  },
  {
    "text": "something of interest we see right here that there's a call to stop instances now cloud watch logs insights does does",
    "start": "2700030",
    "end": "2710560"
  },
  {
    "start": "2705000",
    "end": "2721000"
  },
  {
    "text": "the work of actually parsing the log data and showing it to you in a view you can explore here in fact the column on",
    "start": "2710560",
    "end": "2716260"
  },
  {
    "text": "the right there you can see all the fields that they've discovered and you'll recognize those from the event schema so as we look through this",
    "start": "2716260",
    "end": "2723220"
  },
  {
    "text": "particular event we can see that it is in fact looking at the request whisperer a meters the same instance ID we heard",
    "start": "2723220",
    "end": "2730180"
  },
  {
    "text": "about so now we know that this is not a critical problem we know that this",
    "start": "2730180",
    "end": "2735730"
  },
  {
    "text": "outage is caused by someone going in and explicitly stopping an instance so we know we can downgrade our levels of",
    "start": "2735730",
    "end": "2741819"
  },
  {
    "text": "concern and when we look at the information about who actually executed it we see that this was again a product",
    "start": "2741819",
    "end": "2748030"
  },
  {
    "text": "manager so I'm again wondering why product managers are roaming around in",
    "start": "2748030",
    "end": "2753520"
  },
  {
    "text": "my accounts creating easy to instances and stopping them so my next question is show me everything that the see has just",
    "start": "2753520",
    "end": "2759430"
  },
  {
    "text": "been doing I can make a very simple query which simply spans the last week",
    "start": "2759430",
    "end": "2765250"
  },
  {
    "text": "and aggregate or doesn't aggragate selects all the information for this particular user",
    "start": "2765250",
    "end": "2770410"
  },
  {
    "text": "stepping through I can see everything they've been up to and one simple view it's that easy and I can see as I step",
    "start": "2770410",
    "end": "2775749"
  },
  {
    "text": "through that there's some activity related to managing ec2 instances and then I see that they've created some",
    "start": "2775749",
    "end": "2782469"
  },
  {
    "text": "instances and immediately stopped the instances afterwards so when I look into this I can see that the instances they",
    "start": "2782469",
    "end": "2789130"
  },
  {
    "text": "created looking at the instance ID this is a different instance so thinking",
    "start": "2789130",
    "end": "2796420"
  },
  {
    "start": "2792000",
    "end": "2869000"
  },
  {
    "text": "about this putting on my thinking cap I say I have a someone who logged in created an ec2 instance and then stopped",
    "start": "2796420",
    "end": "2802539"
  },
  {
    "text": "a different instance and this sounds like human error sounds like somebody made a mistake so I want to see what",
    "start": "2802539",
    "end": "2810430"
  },
  {
    "text": "else they've done I look they've done some other things with s3 and then look they logged back in later and they",
    "start": "2810430",
    "end": "2816219"
  },
  {
    "text": "started an instance out of the blue so I go in here and I look at this start instance call and I see that looking at",
    "start": "2816219",
    "end": "2823089"
  },
  {
    "text": "the instance ID this is in fact the instance in question so I can go through",
    "start": "2823089",
    "end": "2828309"
  },
  {
    "text": "this is two queries I can go through this in three minutes I went from zero knowledge worried about a LS c2 looking",
    "start": "2828309",
    "end": "2835329"
  },
  {
    "text": "at this and realizing I have a human error and not only that I have somebody who made a mistake realized his mistake logged back in and fixed it and didn't",
    "start": "2835329",
    "end": "2842469"
  },
  {
    "text": "tell the operations crew so I now go to this user and we have a wonderful conversation we have a conversation",
    "start": "2842469",
    "end": "2849130"
  },
  {
    "text": "about what's appropriate to do an account so we also have a conversation about processes but I accomplished all of this in two minutes so again these",
    "start": "2849130",
    "end": "2856329"
  },
  {
    "text": "are contrived examples they're not meant to reflect real-world situations they're more just to kind of give you an idea",
    "start": "2856329",
    "end": "2861519"
  },
  {
    "text": "the kinds of things that you can do with cloud trail the kinds of insights that you can glean when you explore cloud",
    "start": "2861519",
    "end": "2867039"
  },
  {
    "text": "trail events",
    "start": "2867039",
    "end": "2869640"
  },
  {
    "start": "2869000",
    "end": "2981000"
  },
  {
    "text": "okay so we talked about how to explore cloud trail events we also talked about using them for diagnosing operational",
    "start": "2874110",
    "end": "2880140"
  },
  {
    "text": "failures let's get into some more advanced use cases now it's one thing to diagnose the origin of an operational",
    "start": "2880140",
    "end": "2886440"
  },
  {
    "text": "problem it's another thing to be notified immediately we want to be notified in every case where there's an",
    "start": "2886440",
    "end": "2891840"
  },
  {
    "text": "operational problem as soon as possible in order to minimize the surface area for damage to customers or business",
    "start": "2891840",
    "end": "2898530"
  },
  {
    "text": "interests cloud trail is because it is a very broad coverage area covering so",
    "start": "2898530",
    "end": "2905250"
  },
  {
    "text": "many different services it is a great source of information to drive monitoring activities and we provide",
    "start": "2905250",
    "end": "2911310"
  },
  {
    "text": "out-of-the-box two different ways that you can perform monitoring using integration with cloud watch and integration with AWS config and you can",
    "start": "2911310",
    "end": "2918510"
  },
  {
    "text": "choose what it makes sense for you using cloud watch and assuming that you have",
    "start": "2918510",
    "end": "2924180"
  },
  {
    "text": "put your is configured your trails to deliver events to cloud watch logs you can set up cloud watch metrics on these",
    "start": "2924180",
    "end": "2930780"
  },
  {
    "text": "logs and then create cloud watch alarms on the metrics what this will allow you to do is did detect any unusual changes",
    "start": "2930780",
    "end": "2937680"
  },
  {
    "text": "in event volume changes in error code characteristics changes in particular",
    "start": "2937680",
    "end": "2942870"
  },
  {
    "text": "users API usage basically any way you can filter cloud trail event information",
    "start": "2942870",
    "end": "2947970"
  },
  {
    "text": "through a cloud trail setup or a configuration you can set up alarm specific to these things",
    "start": "2947970",
    "end": "2953250"
  },
  {
    "text": "and when an alarm is tripped it sends you a notification now if you are more interested in receiving if you're more",
    "start": "2953250",
    "end": "2961500"
  },
  {
    "text": "interested in looking at things from a configuration perspective we also support integration with AWS config and",
    "start": "2961500",
    "end": "2966780"
  },
  {
    "text": "this using this if you've turned this on a nativist config anytime our resource",
    "start": "2966780",
    "end": "2972360"
  },
  {
    "text": "has changed config will listen for the cloud trail information about this and automatically inspect resources which",
    "start": "2972360",
    "end": "2978180"
  },
  {
    "text": "have changed and notify you if it's important now because we're talking",
    "start": "2978180",
    "end": "2983490"
  },
  {
    "start": "2981000",
    "end": "3027000"
  },
  {
    "text": "about monitoring I do want to make mention of both guard duty and macey we're not going to talk about these at length because of time constraints but",
    "start": "2983490",
    "end": "2990210"
  },
  {
    "text": "cloud trail goes very broad across AWS services but these services focus more",
    "start": "2990210",
    "end": "2996660"
  },
  {
    "text": "on the security aspect of things and they bring a great deal of domain knowledge into detecting threat vectors",
    "start": "2996660",
    "end": "3002810"
  },
  {
    "text": "and they bring a lot of progressive knowledge as new threat vectors emerged so if you're concerned about these areas",
    "start": "3002810",
    "end": "3009470"
  },
  {
    "text": "I would suggest you take a look at these services to see if they're right for your company now we talked about",
    "start": "3009470",
    "end": "3017600"
  },
  {
    "text": "receiving notifications whenever there is a problem the next best thing would",
    "start": "3017600",
    "end": "3022700"
  },
  {
    "text": "be to actually fix them and you can do this with cloud trail using integration",
    "start": "3022700",
    "end": "3027830"
  },
  {
    "start": "3027000",
    "end": "3068000"
  },
  {
    "text": "with cloud watch events every event that comes through cloud trail is also sent",
    "start": "3027830",
    "end": "3033140"
  },
  {
    "text": "to cloud watch events and as a result you can set up custom remediation lambda",
    "start": "3033140",
    "end": "3038390"
  },
  {
    "text": "functions which process the cloud trail events you can build your own remediation solutions based on criteria",
    "start": "3038390",
    "end": "3044600"
  },
  {
    "text": "of your choice and really what you do in those functions is up to you the sky's the limit if you can do it from lambda",
    "start": "3044600",
    "end": "3050090"
  },
  {
    "text": "you can do it as a remediation function so when these events come in you can filter them you can determine if there's",
    "start": "3050090",
    "end": "3056000"
  },
  {
    "text": "specific changes in call volume that are a problem you could determine if an action is not compliant with policy and",
    "start": "3056000",
    "end": "3061580"
  },
  {
    "text": "you can use AWS api's even to automatically fix the problem so let's",
    "start": "3061580",
    "end": "3066590"
  },
  {
    "text": "look at a couple of use cases here let's look at a hypothetical data data",
    "start": "3066590",
    "end": "3072740"
  },
  {
    "start": "3068000",
    "end": "3139000"
  },
  {
    "text": "exfiltration scenario that we're gonna automatically remediate in this situation I have the company that set up",
    "start": "3072740",
    "end": "3078650"
  },
  {
    "text": "a lambda function to watch my s3 buckets it's gonna watch for changes in the access control lists or Ackles and if",
    "start": "3078650",
    "end": "3085850"
  },
  {
    "text": "they're not conform it to plot come to policy they're gonna automatically revert them so I had the bad actor an",
    "start": "3085850",
    "end": "3090920"
  },
  {
    "text": "internal disgruntled user who says they want to change the access policy on a particular s3 object and let the whole",
    "start": "3090920",
    "end": "3098180"
  },
  {
    "text": "world know just to disclose some data for who knows what reason so when they go to do this this sends a notification",
    "start": "3098180",
    "end": "3105230"
  },
  {
    "text": "through cloud trail in the form of an event that gets delivered to cloud watch events and this in turn invokes the",
    "start": "3105230",
    "end": "3111440"
  },
  {
    "text": "custom remediation function in the company the function detects that this is a non-compliant action and",
    "start": "3111440",
    "end": "3117470"
  },
  {
    "text": "immediately calls an s3 function to revert the change and we've seen remediation actions like this execute in",
    "start": "3117470",
    "end": "3124700"
  },
  {
    "text": "seconds so it greatly reduces the timeframe in which data exfiltration risks occur if you've set something like",
    "start": "3124700",
    "end": "3130700"
  },
  {
    "text": "this up you could do this for s3 buckets you can also do this for lambda",
    "start": "3130700",
    "end": "3136430"
  },
  {
    "text": "functions so let's take a look at an example in the lambda function the protecting in this case let's look at a",
    "start": "3136430",
    "end": "3142140"
  },
  {
    "start": "3139000",
    "end": "3211000"
  },
  {
    "text": "different situation I have a developer who's become very excited about some changes he made and he goes to deploy",
    "start": "3142140",
    "end": "3148380"
  },
  {
    "text": "his function and test it and accidentally logs into a production environment when he goes to play with",
    "start": "3148380",
    "end": "3157020"
  },
  {
    "text": "this lambda function it sends a cloud trail event which again goes through cloud cloud trail excuse me goes through",
    "start": "3157020",
    "end": "3162300"
  },
  {
    "text": "cloud watch events and executes a custom remediation function this function is",
    "start": "3162300",
    "end": "3167880"
  },
  {
    "text": "guarding lambda functions and making sure that lambda functions in this category only get executed by service",
    "start": "3167880",
    "end": "3173340"
  },
  {
    "text": "principles having understood that this is now an invalid permission change to",
    "start": "3173340",
    "end": "3178620"
  },
  {
    "text": "this lambda function the custom remediation function built by this company is able to immediately change",
    "start": "3178620",
    "end": "3184560"
  },
  {
    "text": "the permissions on the lambda function back to limit the amount of damage that can be caused by using this function in",
    "start": "3184560",
    "end": "3190110"
  },
  {
    "text": "an uncontrolled way it could also do something like send an email to a central compliance Authority or even",
    "start": "3190110",
    "end": "3196500"
  },
  {
    "text": "send an email to the developer saying hey what are you doing you're in the production environment and this is not allowed and this is a good example of",
    "start": "3196500",
    "end": "3203550"
  },
  {
    "text": "how you can also build protections into your accounts to help protect you against human error which is becoming a",
    "start": "3203550",
    "end": "3209610"
  },
  {
    "text": "more and more important idea so we've covered a variety of topics today we've",
    "start": "3209610",
    "end": "3216210"
  },
  {
    "start": "3211000",
    "end": "3237000"
  },
  {
    "text": "talked about how to look at cloud trail events we've talked about how to get at",
    "start": "3216210",
    "end": "3221310"
  },
  {
    "text": "the directly at the data use it for a variety of use cases I would like to highlight that there are some",
    "start": "3221310",
    "end": "3226830"
  },
  {
    "text": "third-party products that are doing some pretty amazing things with Cloud trail which give you additional value everything you've seen that we've done",
    "start": "3226830",
    "end": "3232770"
  },
  {
    "text": "here can be done by any tool which understands cloud trail not necessarily our first party tools so just due to",
    "start": "3232770",
    "end": "3239430"
  },
  {
    "start": "3237000",
    "end": "3274000"
  },
  {
    "text": "time constraints we won't go into the details of any of the the partners that are building applications to use cloud",
    "start": "3239430",
    "end": "3244740"
  },
  {
    "text": "trail but I would recommend that you take a look at some of these partners and understand their offerings we've seen a variety of interesting things",
    "start": "3244740",
    "end": "3251220"
  },
  {
    "text": "from custom solutions to complex queries to aggregated views of operationally",
    "start": "3251220",
    "end": "3256830"
  },
  {
    "text": "important data if we saw one in one case or combining VPC flow logs with cloud trail data which is very interesting",
    "start": "3256830",
    "end": "3263330"
  },
  {
    "text": "we've also seen cases where people have built applications that automate a lot of the security analysis work that you",
    "start": "3263330",
    "end": "3269580"
  },
  {
    "text": "might need to do in your account and this just makes your life easier so please do check out our partners our last major topic to cover today will",
    "start": "3269580",
    "end": "3277200"
  },
  {
    "start": "3274000",
    "end": "3360000"
  },
  {
    "text": "be cloud trails pricing model and this is extremely important cloud trail can be a charged feature and our pricing",
    "start": "3277200",
    "end": "3283980"
  },
  {
    "text": "model is to charge based on the number of events that are delivered as well as the number of times they're delivered",
    "start": "3283980",
    "end": "3290070"
  },
  {
    "text": "and the second part is where it needs some scrutiny you can think of each trail as a delivery action so if you",
    "start": "3290070",
    "end": "3296100"
  },
  {
    "text": "have three trails you would consider that every event that comes in would be delivered three times that's not strictly true because it depends on the",
    "start": "3296100",
    "end": "3301980"
  },
  {
    "text": "filters but you can think of it that way so for management events we charge $2",
    "start": "3301980",
    "end": "3307770"
  },
  {
    "text": "for every 100,000 deliveries the caveat with management events is that the first delivery is not charged so you can set",
    "start": "3307770",
    "end": "3314610"
  },
  {
    "text": "up a trail in an account that has no trail so it captures all management events and you will not be charged many",
    "start": "3314610",
    "end": "3320190"
  },
  {
    "text": "of our customers in the bucket where that's how they approach this if you set up a second or a third or fourth trail",
    "start": "3320190",
    "end": "3325890"
  },
  {
    "text": "those additional trails will be charged in $2 per hundred thousand events for management events data events are",
    "start": "3325890",
    "end": "3332940"
  },
  {
    "text": "charged at ten cents per 100 thousand events and we had to get creative in how we did this because of the difference of event volume between management events",
    "start": "3332940",
    "end": "3339360"
  },
  {
    "text": "and data events so we actually built a whole new architecture that we can run at a lower cost for data events so",
    "start": "3339360",
    "end": "3344520"
  },
  {
    "text": "they're charged lower but there is no free tier for data events so please do keep this in mind make sure you're aware",
    "start": "3344520",
    "end": "3350550"
  },
  {
    "text": "of this make sure your organization is aware of this so there's no accidental to encourage charges for people setting up trails in situations which would",
    "start": "3350550",
    "end": "3357390"
  },
  {
    "text": "incur charges now we just have a few",
    "start": "3357390",
    "end": "3363240"
  },
  {
    "start": "3360000",
    "end": "3463000"
  },
  {
    "text": "minutes left so let's go ahead and start to wind down I personally have collected some suggestions based on the conversations I've had with customers",
    "start": "3363240",
    "end": "3369600"
  },
  {
    "text": "and I want to share three things with you first so we talked about be aware of",
    "start": "3369600",
    "end": "3375150"
  },
  {
    "text": "when people are creating secondary trails in your account if you ever have more than one trail just be aware of the",
    "start": "3375150",
    "end": "3380730"
  },
  {
    "text": "pricing model make sure everyone that's involved with it is under understands the cost implications there are many",
    "start": "3380730",
    "end": "3385890"
  },
  {
    "text": "good reasons to do this just make sure that you're doing it on purpose the second is when you change",
    "start": "3385890",
    "end": "3391980"
  },
  {
    "text": "configurations of some services which are completely unrelated to cloud trail you can cause changes in cloud trail",
    "start": "3391980",
    "end": "3397710"
  },
  {
    "text": "event volume a good example of this would be say you're using a service that has an encryption option you go and you",
    "start": "3397710",
    "end": "3404550"
  },
  {
    "text": "turn on encryption if that's integrated with kms that can cause a significant increase in the amount of events that KMS events",
    "start": "3404550",
    "end": "3411840"
  },
  {
    "text": "amidst a cloud trail this can increase the size of your data set and also increase your costs so both of these",
    "start": "3411840",
    "end": "3418380"
  },
  {
    "text": "first two points a really good way to defend against this is again use AWS budgets to make sure you maintain a very",
    "start": "3418380",
    "end": "3423780"
  },
  {
    "text": "tight awareness of your costs you don't have to watch them all the time you'll have the notifications there to tell you",
    "start": "3423780",
    "end": "3429270"
  },
  {
    "text": "quickly if there is a problem and finally beware beware beware of lambda",
    "start": "3429270",
    "end": "3434550"
  },
  {
    "text": "infinite loops if you're writing custom remediation workflows if you write a lambda function that responds to a",
    "start": "3434550",
    "end": "3440790"
  },
  {
    "text": "particular cloud trail event by calling an API which causes the same event to be emitted you're going to create an",
    "start": "3440790",
    "end": "3447360"
  },
  {
    "text": "infinite loop and that will spin out of control at an unbelievable speed and you can't incur unwanted charges there so be",
    "start": "3447360",
    "end": "3455730"
  },
  {
    "text": "aware of that that's something that's very easy to mitigate it's really a question of just development discipline and awareness it's actually quite easy",
    "start": "3455730",
    "end": "3461460"
  },
  {
    "text": "people just need to know about it all right let's quickly rehash what we cover today we took a survey of the",
    "start": "3461460",
    "end": "3468000"
  },
  {
    "start": "3463000",
    "end": "3495000"
  },
  {
    "text": "cloud trail features we set up a secure foundation friend a secure backplane for maintaining awareness in your account we",
    "start": "3468000",
    "end": "3474180"
  },
  {
    "text": "talked about managing costs we also learned how to explore events with the different tools available and we performed some sample security",
    "start": "3474180",
    "end": "3481230"
  },
  {
    "text": "analysis and operational troubleshooting we talked about how to implement active monitoring and we also covered",
    "start": "3481230",
    "end": "3487290"
  },
  {
    "text": "automating response workflows and finally we discussed third party tools and actually one thing we didn't include",
    "start": "3487290",
    "end": "3492330"
  },
  {
    "text": "here was our pricing model so please do",
    "start": "3492330",
    "end": "3497700"
  },
  {
    "start": "3495000",
    "end": "3517000"
  },
  {
    "text": "remember to fill out the session survey in your mobile app this is very important to us for making sure that we",
    "start": "3497700",
    "end": "3503490"
  },
  {
    "text": "deliver focused content for you guys in subsequent public engagements other than",
    "start": "3503490",
    "end": "3508980"
  },
  {
    "text": "that thank you very much for joining me it's been a pleasure speaking with you please enjoy the rest of reinvent and",
    "start": "3508980",
    "end": "3514530"
  },
  {
    "text": "please enjoy the party tonight [Applause]",
    "start": "3514530",
    "end": "3519190"
  }
]