[
  {
    "start": "0",
    "end": "30000"
  },
  {
    "text": "[Music]",
    "start": "50",
    "end": "1010"
  },
  {
    "text": "[Applause]",
    "start": "1010",
    "end": "4088"
  },
  {
    "text": "[Music]",
    "start": "4960",
    "end": "11689"
  },
  {
    "text": "hello",
    "start": "11840",
    "end": "12799"
  },
  {
    "text": "i'm tanmay a cloud support engineer here",
    "start": "12799",
    "end": "15920"
  },
  {
    "text": "at the aws office in dublin",
    "start": "15920",
    "end": "18960"
  },
  {
    "text": "today i am going to show you how to",
    "start": "18960",
    "end": "21199"
  },
  {
    "text": "troubleshoot issues when connecting to",
    "start": "21199",
    "end": "23439"
  },
  {
    "text": "an amazon elastic compute cloud instance",
    "start": "23439",
    "end": "26480"
  },
  {
    "text": "using ec2 instance connect",
    "start": "26480",
    "end": "28880"
  },
  {
    "text": "let's get started",
    "start": "28880",
    "end": "31519"
  },
  {
    "start": "30000",
    "end": "105000"
  },
  {
    "text": "when you try to login to an ec2 instance",
    "start": "31519",
    "end": "34800"
  },
  {
    "text": "using ec2 instance connect you might",
    "start": "34800",
    "end": "37200"
  },
  {
    "text": "experience the following error message",
    "start": "37200",
    "end": "40160"
  },
  {
    "text": "there was a problem setting up the",
    "start": "40160",
    "end": "42160"
  },
  {
    "text": "instance connection",
    "start": "42160",
    "end": "43840"
  },
  {
    "text": "login field if this instance has just",
    "start": "43840",
    "end": "46559"
  },
  {
    "text": "started up try again in a minute or two",
    "start": "46559",
    "end": "51039"
  },
  {
    "text": "in this video i'm going to show you four",
    "start": "51039",
    "end": "54000"
  },
  {
    "text": "troubleshooting steps",
    "start": "54000",
    "end": "55680"
  },
  {
    "text": "for when you see this message",
    "start": "55680",
    "end": "59120"
  },
  {
    "text": "verify that ec2 instance connect",
    "start": "59120",
    "end": "61440"
  },
  {
    "text": "supports your instance linux",
    "start": "61440",
    "end": "63680"
  },
  {
    "text": "distribution",
    "start": "63680",
    "end": "64878"
  },
  {
    "text": "verify that your supported instance has",
    "start": "64879",
    "end": "67760"
  },
  {
    "text": "the ec2 instance connect package",
    "start": "67760",
    "end": "70000"
  },
  {
    "text": "installed",
    "start": "70000",
    "end": "71360"
  },
  {
    "text": "verify that the aws identity and access",
    "start": "71360",
    "end": "74479"
  },
  {
    "text": "management user trying to use ec2",
    "start": "74479",
    "end": "77040"
  },
  {
    "text": "instance connect has permissions to push",
    "start": "77040",
    "end": "80159"
  },
  {
    "text": "the public key to the instance",
    "start": "80159",
    "end": "82880"
  },
  {
    "text": "verify that the instance security group",
    "start": "82880",
    "end": "85119"
  },
  {
    "text": "rules list ec2 instance connect ips",
    "start": "85119",
    "end": "90640"
  },
  {
    "text": "before we begin",
    "start": "90640",
    "end": "92240"
  },
  {
    "text": "note that because you cannot connect to",
    "start": "92240",
    "end": "95119"
  },
  {
    "text": "the instance by using ec2 instance",
    "start": "95119",
    "end": "97759"
  },
  {
    "text": "connect",
    "start": "97759",
    "end": "98799"
  },
  {
    "text": "you must make sure that you can connect",
    "start": "98799",
    "end": "101200"
  },
  {
    "text": "to the instance by using ssh",
    "start": "101200",
    "end": "105119"
  },
  {
    "start": "105000",
    "end": "140000"
  },
  {
    "text": "step 1",
    "start": "105119",
    "end": "106399"
  },
  {
    "text": "first check if the instance is using the",
    "start": "106399",
    "end": "109520"
  },
  {
    "text": "supported linux os distribution",
    "start": "109520",
    "end": "113040"
  },
  {
    "text": "ec2 instance connect is only supported",
    "start": "113040",
    "end": "115920"
  },
  {
    "text": "on any version of amazon linux 2",
    "start": "115920",
    "end": "119280"
  },
  {
    "text": "or on ubuntu 16 and later versions",
    "start": "119280",
    "end": "124640"
  },
  {
    "text": "you can check the os distribution by",
    "start": "124640",
    "end": "127840"
  },
  {
    "text": "connecting to the instance using ssh",
    "start": "127840",
    "end": "131200"
  },
  {
    "text": "and then entering the following command",
    "start": "131200",
    "end": "134400"
  },
  {
    "text": "in this example",
    "start": "134400",
    "end": "135920"
  },
  {
    "text": "my instance has ubuntu as its os",
    "start": "135920",
    "end": "139040"
  },
  {
    "text": "distribution",
    "start": "139040",
    "end": "141599"
  },
  {
    "start": "140000",
    "end": "189000"
  },
  {
    "text": "step 2",
    "start": "141599",
    "end": "143040"
  },
  {
    "text": "verify that the supported instance is",
    "start": "143040",
    "end": "146080"
  },
  {
    "text": "installed with ec2 instance connect",
    "start": "146080",
    "end": "148560"
  },
  {
    "text": "package",
    "start": "148560",
    "end": "150080"
  },
  {
    "text": "to verify or install ec2 instance",
    "start": "150080",
    "end": "153120"
  },
  {
    "text": "connect package enter the following",
    "start": "153120",
    "end": "155599"
  },
  {
    "text": "command",
    "start": "155599",
    "end": "157280"
  },
  {
    "text": "the command for amazon linux 2",
    "start": "157280",
    "end": "160080"
  },
  {
    "text": "is sudo yum install ec2 instance connect",
    "start": "160080",
    "end": "164959"
  },
  {
    "text": "and the command for ubuntu",
    "start": "164959",
    "end": "167360"
  },
  {
    "text": "is sudo apt install ec2 instance connect",
    "start": "167360",
    "end": "171519"
  },
  {
    "text": "because i am using ubuntu",
    "start": "171519",
    "end": "173840"
  },
  {
    "text": "i ran the app command to install the",
    "start": "173840",
    "end": "176319"
  },
  {
    "text": "package",
    "start": "176319",
    "end": "178480"
  },
  {
    "text": "step 3",
    "start": "178480",
    "end": "180000"
  },
  {
    "text": "verify that the i am user trying to use",
    "start": "180000",
    "end": "182800"
  },
  {
    "text": "ec2 instance connect has permission to",
    "start": "182800",
    "end": "185840"
  },
  {
    "text": "push the public key to the instance",
    "start": "185840",
    "end": "189120"
  },
  {
    "start": "189000",
    "end": "319000"
  },
  {
    "text": "go to the aws management console",
    "start": "189120",
    "end": "192480"
  },
  {
    "text": "and navigate to the im console",
    "start": "192480",
    "end": "197200"
  },
  {
    "text": "go to users",
    "start": "197200",
    "end": "199519"
  },
  {
    "text": "and then",
    "start": "199519",
    "end": "200560"
  },
  {
    "text": "choose the user that you want to use for",
    "start": "200560",
    "end": "204000"
  },
  {
    "text": "easy to instance connect",
    "start": "204000",
    "end": "207120"
  },
  {
    "text": "check the attached policies in",
    "start": "207120",
    "end": "209200"
  },
  {
    "text": "permissions tab",
    "start": "209200",
    "end": "211120"
  },
  {
    "text": "there should be policy attached with",
    "start": "211120",
    "end": "214879"
  },
  {
    "text": "action",
    "start": "214879",
    "end": "216000"
  },
  {
    "text": "ec2 instance connect send ssh public key",
    "start": "216000",
    "end": "221599"
  },
  {
    "text": "in addition to that",
    "start": "221599",
    "end": "223440"
  },
  {
    "text": "this action should be allowed on the",
    "start": "223440",
    "end": "226400"
  },
  {
    "text": "desired instance",
    "start": "226400",
    "end": "228239"
  },
  {
    "text": "that you want to connect to",
    "start": "228239",
    "end": "231280"
  },
  {
    "text": "if not",
    "start": "231280",
    "end": "232480"
  },
  {
    "text": "you can create a policy",
    "start": "232480",
    "end": "235040"
  },
  {
    "text": "for that go to policies",
    "start": "235040",
    "end": "238480"
  },
  {
    "text": "choose create policy",
    "start": "238480",
    "end": "241360"
  },
  {
    "text": "i have already made a json snippet to",
    "start": "241360",
    "end": "244319"
  },
  {
    "text": "enter",
    "start": "244319",
    "end": "245680"
  },
  {
    "text": "for more information refer to the",
    "start": "245680",
    "end": "248879"
  },
  {
    "text": "associated knowledge center article",
    "start": "248879",
    "end": "253200"
  },
  {
    "text": "make sure to enter the region",
    "start": "253200",
    "end": "256160"
  },
  {
    "text": "account id",
    "start": "256160",
    "end": "257519"
  },
  {
    "text": "and resource id",
    "start": "257519",
    "end": "259199"
  },
  {
    "text": "into these fields",
    "start": "259199",
    "end": "261280"
  },
  {
    "text": "make sure to enter the correct os user",
    "start": "261280",
    "end": "265040"
  },
  {
    "text": "as well",
    "start": "265040",
    "end": "267040"
  },
  {
    "text": "choose next tag",
    "start": "267040",
    "end": "269360"
  },
  {
    "text": "followed by next review",
    "start": "269360",
    "end": "272000"
  },
  {
    "text": "name the policy",
    "start": "272000",
    "end": "274240"
  },
  {
    "text": "and then choose create policy",
    "start": "274240",
    "end": "278080"
  },
  {
    "text": "then go to users and choose the user to",
    "start": "278080",
    "end": "281919"
  },
  {
    "text": "use for ec2 instance connect",
    "start": "281919",
    "end": "285600"
  },
  {
    "text": "then choose add permissions",
    "start": "285600",
    "end": "289199"
  },
  {
    "text": "select attach existing policies directly",
    "start": "289199",
    "end": "292880"
  },
  {
    "text": "and search for",
    "start": "292880",
    "end": "294400"
  },
  {
    "text": "the policy that you just created",
    "start": "294400",
    "end": "297840"
  },
  {
    "text": "select the policy and choose",
    "start": "297840",
    "end": "300639"
  },
  {
    "text": "next review",
    "start": "300639",
    "end": "303520"
  },
  {
    "text": "then choose add permissions",
    "start": "303680",
    "end": "306880"
  },
  {
    "text": "this is how you can add permissions to",
    "start": "306880",
    "end": "310080"
  },
  {
    "text": "the user you are using",
    "start": "310080",
    "end": "312000"
  },
  {
    "text": "for ec2 instance connect",
    "start": "312000",
    "end": "315759"
  },
  {
    "text": "then step 4",
    "start": "315759",
    "end": "317680"
  },
  {
    "text": "for browser-based ec2 instance connect",
    "start": "317680",
    "end": "320960"
  },
  {
    "start": "319000",
    "end": "461000"
  },
  {
    "text": "verify that the instance security group",
    "start": "320960",
    "end": "323520"
  },
  {
    "text": "inbound rules",
    "start": "323520",
    "end": "325120"
  },
  {
    "text": "allow ec2 instance connect access",
    "start": "325120",
    "end": "328240"
  },
  {
    "text": "to ssh on tcp port 22.",
    "start": "328240",
    "end": "333199"
  },
  {
    "text": "please note in the following commands",
    "start": "333199",
    "end": "336400"
  },
  {
    "text": "replace us east 1",
    "start": "336400",
    "end": "338800"
  },
  {
    "text": "with the aws region of your instance",
    "start": "338800",
    "end": "343120"
  },
  {
    "text": "to find the aws ip address range for ec2",
    "start": "343120",
    "end": "346800"
  },
  {
    "text": "instance connect in a specific region",
    "start": "346800",
    "end": "350000"
  },
  {
    "text": "use",
    "start": "350000",
    "end": "350800"
  },
  {
    "text": "the following command in linux",
    "start": "350800",
    "end": "354560"
  },
  {
    "text": "note your linux environment",
    "start": "354560",
    "end": "357600"
  },
  {
    "text": "should have curl and jq packages",
    "start": "357600",
    "end": "360479"
  },
  {
    "text": "installed to run this command",
    "start": "360479",
    "end": "363919"
  },
  {
    "text": "if you are using windows powershell for",
    "start": "364000",
    "end": "366319"
  },
  {
    "text": "aws",
    "start": "366319",
    "end": "367919"
  },
  {
    "text": "use the following command",
    "start": "367919",
    "end": "370000"
  },
  {
    "text": "to get the aws ip address range for ec2",
    "start": "370000",
    "end": "373919"
  },
  {
    "text": "instance connect in a specific region",
    "start": "373919",
    "end": "378400"
  },
  {
    "text": "then",
    "start": "378400",
    "end": "379440"
  },
  {
    "text": "go to the aws management console",
    "start": "379440",
    "end": "382560"
  },
  {
    "text": "and navigate to the ec2 console",
    "start": "382560",
    "end": "386960"
  },
  {
    "text": "go to the instances",
    "start": "386960",
    "end": "389840"
  },
  {
    "text": "select the instance to connect to by",
    "start": "389840",
    "end": "393039"
  },
  {
    "text": "using ec2 instance connect",
    "start": "393039",
    "end": "395680"
  },
  {
    "text": "and then choose the security tab",
    "start": "395680",
    "end": "399600"
  },
  {
    "text": "choose the security group id",
    "start": "399600",
    "end": "402319"
  },
  {
    "text": "to check details for the security group",
    "start": "402319",
    "end": "405919"
  },
  {
    "text": "verify that the ip address range",
    "start": "405919",
    "end": "408800"
  },
  {
    "text": "written by the curl command references",
    "start": "408800",
    "end": "411199"
  },
  {
    "text": "port 22",
    "start": "411199",
    "end": "413919"
  },
  {
    "text": "if not",
    "start": "413919",
    "end": "415039"
  },
  {
    "text": "choose edit inbound rules",
    "start": "415039",
    "end": "418560"
  },
  {
    "text": "then",
    "start": "418560",
    "end": "419360"
  },
  {
    "text": "choose add rule to add a rule for type",
    "start": "419360",
    "end": "422720"
  },
  {
    "text": "tcp",
    "start": "422720",
    "end": "424000"
  },
  {
    "text": "port 22",
    "start": "424000",
    "end": "425840"
  },
  {
    "text": "with the source as the ip range returned",
    "start": "425840",
    "end": "428720"
  },
  {
    "text": "by the curl command",
    "start": "428720",
    "end": "431680"
  },
  {
    "text": "go ahead and choose save rules",
    "start": "431680",
    "end": "435360"
  },
  {
    "text": "in addition to these points",
    "start": "435360",
    "end": "437759"
  },
  {
    "text": "browser-based ec2 instance connect is",
    "start": "437759",
    "end": "440639"
  },
  {
    "text": "supported only when the instance has",
    "start": "440639",
    "end": "443199"
  },
  {
    "text": "public ip",
    "start": "443199",
    "end": "445520"
  },
  {
    "text": "if the instance doesn't have a public ip",
    "start": "445520",
    "end": "448880"
  },
  {
    "text": "then you can connect to the instance",
    "start": "448880",
    "end": "451360"
  },
  {
    "text": "by using ec2 instance connect command",
    "start": "451360",
    "end": "454319"
  },
  {
    "text": "line interface",
    "start": "454319",
    "end": "455919"
  },
  {
    "text": "from a machine within the same virtual",
    "start": "455919",
    "end": "458479"
  },
  {
    "text": "private cloud",
    "start": "458479",
    "end": "461360"
  },
  {
    "start": "461000",
    "end": "533000"
  },
  {
    "text": "to configure ec2 instance connect",
    "start": "461360",
    "end": "463440"
  },
  {
    "text": "command line interface",
    "start": "463440",
    "end": "465840"
  },
  {
    "text": "connect to any instance within vpc",
    "start": "465840",
    "end": "469039"
  },
  {
    "text": "using ssh",
    "start": "469039",
    "end": "471840"
  },
  {
    "text": "in this video i am using amazon linux2",
    "start": "471840",
    "end": "476800"
  },
  {
    "text": "install python 3",
    "start": "476879",
    "end": "478800"
  },
  {
    "text": "using the command",
    "start": "478800",
    "end": "480800"
  },
  {
    "text": "sudo m installed hyphen y python 37",
    "start": "480800",
    "end": "486638"
  },
  {
    "text": "then install pip",
    "start": "487680",
    "end": "489599"
  },
  {
    "text": "by using this command",
    "start": "489599",
    "end": "493479"
  },
  {
    "text": "install ec2 instance connect cli",
    "start": "495440",
    "end": "498400"
  },
  {
    "text": "using pip3 install ec2 instance connect",
    "start": "498400",
    "end": "502400"
  },
  {
    "text": "cli",
    "start": "502400",
    "end": "504879"
  },
  {
    "text": "finally try to connect to the instance",
    "start": "504879",
    "end": "507759"
  },
  {
    "text": "by entering the following command",
    "start": "507759",
    "end": "510879"
  },
  {
    "text": "because i am connecting to my ubuntu",
    "start": "510879",
    "end": "513200"
  },
  {
    "text": "instance",
    "start": "513200",
    "end": "514320"
  },
  {
    "text": "the command looks like this",
    "start": "514320",
    "end": "517680"
  },
  {
    "text": "note",
    "start": "517839",
    "end": "518719"
  },
  {
    "text": "make sure you are using the correct user",
    "start": "518719",
    "end": "521919"
  },
  {
    "text": "instance id and region in this command",
    "start": "521919",
    "end": "526080"
  },
  {
    "text": "for example",
    "start": "526080",
    "end": "527600"
  },
  {
    "text": "for amazon linux 2 you can use the user",
    "start": "527600",
    "end": "531200"
  },
  {
    "text": "ec2 user",
    "start": "531200",
    "end": "533600"
  },
  {
    "start": "533000",
    "end": "558000"
  },
  {
    "text": "now you know how to troubleshoot issues",
    "start": "533600",
    "end": "536160"
  },
  {
    "text": "regarding ec2 instance connect while",
    "start": "536160",
    "end": "538720"
  },
  {
    "text": "connecting to an ec2 instance",
    "start": "538720",
    "end": "542080"
  },
  {
    "text": "thanks for watching",
    "start": "542080",
    "end": "543519"
  },
  {
    "text": "and happy cloud computing from all of us",
    "start": "543519",
    "end": "546640"
  },
  {
    "text": "here at aws",
    "start": "546640",
    "end": "548410"
  },
  {
    "text": "[Music]",
    "start": "548410",
    "end": "549450"
  },
  {
    "text": "[Applause]",
    "start": "549450",
    "end": "551210"
  },
  {
    "text": "[Music]",
    "start": "551210",
    "end": "554369"
  },
  {
    "text": "[Music]",
    "start": "556410",
    "end": "559589"
  }
]