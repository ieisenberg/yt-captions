[
  {
    "start": "0",
    "end": "179000"
  },
  {
    "text": "good afternoon uh my name is Ryan Park",
    "start": "280",
    "end": "2399"
  },
  {
    "text": "and I handle technical operations at",
    "start": "2399",
    "end": "4680"
  },
  {
    "text": "Pinterest uh I'm going to be talking",
    "start": "4680",
    "end": "6879"
  },
  {
    "text": "today about uh some of the principles",
    "start": "6879",
    "end": "8760"
  },
  {
    "text": "behind our architecture and some of the",
    "start": "8760",
    "end": "10400"
  },
  {
    "text": "ways that that's enabled us to take",
    "start": "10400",
    "end": "12000"
  },
  {
    "text": "advantage of of uh some of the features",
    "start": "12000",
    "end": "14240"
  },
  {
    "text": "that make the cloud unique and it's a",
    "start": "14240",
    "end": "16760"
  },
  {
    "text": "similar but much extended and expanded",
    "start": "16760",
    "end": "18920"
  },
  {
    "text": "version of some of the same things I was",
    "start": "18920",
    "end": "20720"
  },
  {
    "text": "talking about in the keynote this",
    "start": "20720",
    "end": "22160"
  },
  {
    "text": "morning if you saw the couple minutes",
    "start": "22160",
    "end": "23640"
  },
  {
    "text": "that I was uh on stage there so it'll be",
    "start": "23640",
    "end": "25760"
  },
  {
    "text": "around some of those same themes and and",
    "start": "25760",
    "end": "27199"
  },
  {
    "text": "a few more and plenty of time for",
    "start": "27199",
    "end": "28760"
  },
  {
    "text": "questions and everything if you uh um to",
    "start": "28760",
    "end": "31720"
  },
  {
    "text": "go into more detail on things that you",
    "start": "31720",
    "end": "33239"
  },
  {
    "text": "may be interested in so Pinterest is a",
    "start": "33239",
    "end": "36000"
  },
  {
    "text": "virtual pinboard a place to collect all",
    "start": "36000",
    "end": "38120"
  },
  {
    "text": "the things you find on the web that",
    "start": "38120",
    "end": "39600"
  },
  {
    "text": "interest and inspire you and you can",
    "start": "39600",
    "end": "41800"
  },
  {
    "text": "create boards based on uh topics that",
    "start": "41800",
    "end": "43920"
  },
  {
    "text": "you choose and then categorize them uh",
    "start": "43920",
    "end": "47360"
  },
  {
    "text": "uh however you want and then follow",
    "start": "47360",
    "end": "48760"
  },
  {
    "text": "people that share your interests and",
    "start": "48760",
    "end": "50600"
  },
  {
    "text": "your taste and follow friends of yours",
    "start": "50600",
    "end": "52359"
  },
  {
    "text": "and people you know outside the web and",
    "start": "52359",
    "end": "54640"
  },
  {
    "text": "when you're following the boards and",
    "start": "54640",
    "end": "55960"
  },
  {
    "text": "people that interest you Pinterest is",
    "start": "55960",
    "end": "57559"
  },
  {
    "text": "like a personalized catalog that shows",
    "start": "57559",
    "end": "59480"
  },
  {
    "text": "content directly tailored to your",
    "start": "59480",
    "end": "61640"
  },
  {
    "text": "interest and your Inspirations uh in the",
    "start": "61640",
    "end": "64080"
  },
  {
    "text": "summer we released a iPhone and or iPad",
    "start": "64080",
    "end": "66840"
  },
  {
    "text": "and Android apps for the first time and",
    "start": "66840",
    "end": "69040"
  },
  {
    "text": "we've been growing consistently very",
    "start": "69040",
    "end": "71240"
  },
  {
    "text": "very rapidly for the last year and a",
    "start": "71240",
    "end": "72920"
  },
  {
    "text": "half or more uh we're a very young",
    "start": "72920",
    "end": "74360"
  },
  {
    "text": "company and uh we've been fortunate",
    "start": "74360",
    "end": "76400"
  },
  {
    "text": "enough to grow very quickly but that's",
    "start": "76400",
    "end": "78720"
  },
  {
    "text": "obviously meant there's been a number of",
    "start": "78720",
    "end": "80560"
  },
  {
    "text": "scaling issues along the way so a little",
    "start": "80560",
    "end": "83119"
  },
  {
    "text": "bit about our technical architecture uh",
    "start": "83119",
    "end": "85640"
  },
  {
    "text": "we our main py our main code base is a",
    "start": "85640",
    "end": "87799"
  },
  {
    "text": "python web application and we started uh",
    "start": "87799",
    "end": "90479"
  },
  {
    "text": "using the jeno web framework but uh over",
    "start": "90479",
    "end": "93159"
  },
  {
    "text": "time we've replaced a lot of pieces of",
    "start": "93159",
    "end": "94799"
  },
  {
    "text": "that as our needs have become",
    "start": "94799",
    "end": "96000"
  },
  {
    "text": "increasingly specialized and our scale",
    "start": "96000",
    "end": "97960"
  },
  {
    "text": "has grown much much larger uh we have",
    "start": "97960",
    "end": "101640"
  },
  {
    "text": "replaced kind of a monolithic web",
    "start": "101640",
    "end": "103360"
  },
  {
    "text": "application with a Ser uh service",
    "start": "103360",
    "end": "105719"
  },
  {
    "text": "oriented architecture with a series of",
    "start": "105719",
    "end": "107399"
  },
  {
    "text": "internal web services and those web",
    "start": "107399",
    "end": "109640"
  },
  {
    "text": "services talk to backend uh databases",
    "start": "109640",
    "end": "111960"
  },
  {
    "text": "that are running my SQL as well as",
    "start": "111960",
    "end": "114280"
  },
  {
    "text": "caches running mcash and reddis which is",
    "start": "114280",
    "end": "116799"
  },
  {
    "text": "an in-memory database that has uh great",
    "start": "116799",
    "end": "120119"
  },
  {
    "text": "support for data uh data structures like",
    "start": "120119",
    "end": "123079"
  },
  {
    "text": "lists and sets and things like that so",
    "start": "123079",
    "end": "125479"
  },
  {
    "text": "the web application itself also talks",
    "start": "125479",
    "end": "127079"
  },
  {
    "text": "directly to mcash because in order to uh",
    "start": "127079",
    "end": "130080"
  },
  {
    "text": "move in order for things to to go",
    "start": "130080",
    "end": "132040"
  },
  {
    "text": "quickly enough it helps for the",
    "start": "132040",
    "end": "133480"
  },
  {
    "text": "application itself to talk directly to",
    "start": "133480",
    "end": "135280"
  },
  {
    "text": "the cache as well but we try and now do",
    "start": "135280",
    "end": "137599"
  },
  {
    "text": "more of the data access and things",
    "start": "137599",
    "end": "139360"
  },
  {
    "text": "through these stateless internal uh web",
    "start": "139360",
    "end": "141680"
  },
  {
    "text": "services that we've decoupled from our",
    "start": "141680",
    "end": "143440"
  },
  {
    "text": "main",
    "start": "143440",
    "end": "144720"
  },
  {
    "text": "application and the servers for this are",
    "start": "144720",
    "end": "147080"
  },
  {
    "text": "all virtual instances on Amazon ec2 we",
    "start": "147080",
    "end": "149519"
  },
  {
    "text": "don't any physical hardware and we're",
    "start": "149519",
    "end": "151560"
  },
  {
    "text": "generally not using some of Amazon's",
    "start": "151560",
    "end": "153400"
  },
  {
    "text": "more Advanced Services like RDS or or",
    "start": "153400",
    "end": "155519"
  },
  {
    "text": "elasticache we um have built a lot of",
    "start": "155519",
    "end": "157640"
  },
  {
    "text": "Competency in in running these ourselves",
    "start": "157640",
    "end": "159640"
  },
  {
    "text": "and it for us at least we felt that",
    "start": "159640",
    "end": "161640"
  },
  {
    "text": "having that competency uh is important",
    "start": "161640",
    "end": "163840"
  },
  {
    "text": "making sure that that we really",
    "start": "163840",
    "end": "165360"
  },
  {
    "text": "understand the technical underpinnings",
    "start": "165360",
    "end": "166519"
  },
  {
    "text": "of what's going on in our servers behind",
    "start": "166519",
    "end": "168440"
  },
  {
    "text": "the scenes uh but obviously if we were",
    "start": "168440",
    "end": "171400"
  },
  {
    "text": "starting in with a real small team a lot",
    "start": "171400",
    "end": "173159"
  },
  {
    "text": "of the services that Amazon offers are",
    "start": "173159",
    "end": "175000"
  },
  {
    "text": "are very valuable as well so a number of",
    "start": "175000",
    "end": "178400"
  },
  {
    "text": "architectural principles that we we've",
    "start": "178400",
    "end": "180400"
  },
  {
    "start": "179000",
    "end": "179000"
  },
  {
    "text": "uh that that have sort of guided how we",
    "start": "180400",
    "end": "182720"
  },
  {
    "text": "built our python application and built",
    "start": "182720",
    "end": "184680"
  },
  {
    "text": "this whole framework uh at one time we",
    "start": "184680",
    "end": "187040"
  },
  {
    "text": "were using mongod DB and Mease and",
    "start": "187040",
    "end": "190200"
  },
  {
    "text": "Cassandra and elastic search and redis",
    "start": "190200",
    "end": "193200"
  },
  {
    "text": "and MySQL and mcash all at the same time",
    "start": "193200",
    "end": "196440"
  },
  {
    "text": "and we realized that that just wasn't",
    "start": "196440",
    "end": "198000"
  },
  {
    "text": "going to work that there's too many",
    "start": "198000",
    "end": "199560"
  },
  {
    "text": "intricate details of each of those",
    "start": "199560",
    "end": "200959"
  },
  {
    "text": "systems to to manage and to understand",
    "start": "200959",
    "end": "203120"
  },
  {
    "text": "in order to run them well and so we",
    "start": "203120",
    "end": "205120"
  },
  {
    "text": "really went back to basics and ended up",
    "start": "205120",
    "end": "207680"
  },
  {
    "text": "uh standardizing on mcash and SQL and",
    "start": "207680",
    "end": "210439"
  },
  {
    "text": "reddis all of which have really strong",
    "start": "210439",
    "end": "212799"
  },
  {
    "text": "Community Support all of which are very",
    "start": "212799",
    "end": "214920"
  },
  {
    "text": "mature uh there's plenty of people out",
    "start": "214920",
    "end": "217280"
  },
  {
    "text": "there using these Technologies and uh",
    "start": "217280",
    "end": "220159"
  },
  {
    "text": "with especially with with mcash and",
    "start": "220159",
    "end": "222120"
  },
  {
    "text": "MySQL when we hire new Engineers they're",
    "start": "222120",
    "end": "224280"
  },
  {
    "text": "most likely to to know these",
    "start": "224280",
    "end": "225840"
  },
  {
    "text": "Technologies already uh they've probably",
    "start": "225840",
    "end": "227879"
  },
  {
    "text": "written code that interacts with a mySQL",
    "start": "227879",
    "end": "229760"
  },
  {
    "text": "database or that uh uses mcache to to do",
    "start": "229760",
    "end": "232799"
  },
  {
    "text": "caching and things so it helps a lot",
    "start": "232799",
    "end": "234799"
  },
  {
    "text": "with the learning curve of of getting",
    "start": "234799",
    "end": "236200"
  },
  {
    "text": "new people up to speed uh and our",
    "start": "236200",
    "end": "239280"
  },
  {
    "text": "original design had a lot of fixed",
    "start": "239280",
    "end": "241720"
  },
  {
    "text": "configuration that was easy that was",
    "start": "241720",
    "end": "243799"
  },
  {
    "text": "very difficult to change so the original",
    "start": "243799",
    "end": "245959"
  },
  {
    "text": "design had us using engine X proxying to",
    "start": "245959",
    "end": "248680"
  },
  {
    "text": "ha proxy proxying to some app servers",
    "start": "248680",
    "end": "251280"
  },
  {
    "text": "and things like that and those",
    "start": "251280",
    "end": "252560"
  },
  {
    "text": "Technologies are really solid but",
    "start": "252560",
    "end": "254599"
  },
  {
    "text": "they're very difficult to make",
    "start": "254599",
    "end": "256000"
  },
  {
    "text": "configuration changes on the Fly you",
    "start": "256000",
    "end": "257560"
  },
  {
    "text": "have to update the ha proxy config file",
    "start": "257560",
    "end": "259959"
  },
  {
    "text": "and restart ha proxy or reload engine X",
    "start": "259959",
    "end": "262440"
  },
  {
    "text": "and and that's really difficult to do if",
    "start": "262440",
    "end": "264120"
  },
  {
    "text": "you're uh bringing new servers into the",
    "start": "264120",
    "end": "266280"
  },
  {
    "text": "pool or taking them out of the pool uh",
    "start": "266280",
    "end": "268360"
  },
  {
    "text": "we also kept lists of of like our reddis",
    "start": "268360",
    "end": "270840"
  },
  {
    "text": "servers and our mcash servers in the",
    "start": "270840",
    "end": "273320"
  },
  {
    "text": "python settings file the settings.py of",
    "start": "273320",
    "end": "275639"
  },
  {
    "text": "of the Django application which is kind",
    "start": "275639",
    "end": "277160"
  },
  {
    "text": "of the typical jeno way to do that but",
    "start": "277160",
    "end": "279840"
  },
  {
    "text": "doesn't give a lot of flexibility and",
    "start": "279840",
    "end": "281320"
  },
  {
    "text": "when you're running dozens of mcash",
    "start": "281320",
    "end": "283160"
  },
  {
    "text": "servers you find that they tend to CR",
    "start": "283160",
    "end": "285360"
  },
  {
    "text": "one of them tends to crash more often",
    "start": "285360",
    "end": "287600"
  },
  {
    "text": "than you'd think so we've moved to a",
    "start": "287600",
    "end": "290000"
  },
  {
    "text": "much more Dynamic configuration",
    "start": "290000",
    "end": "291440"
  },
  {
    "text": "Arrangement and we use uh elastic load",
    "start": "291440",
    "end": "294440"
  },
  {
    "text": "balancer to dynamically direct traffic",
    "start": "294440",
    "end": "296840"
  },
  {
    "text": "to our front end and we use Apache",
    "start": "296840",
    "end": "298720"
  },
  {
    "text": "zookeeper to those backend uh internal",
    "start": "298720",
    "end": "301320"
  },
  {
    "text": "services so uh Apache zookeeper is a",
    "start": "301320",
    "end": "305360"
  },
  {
    "text": "configuration service that allows us to",
    "start": "305360",
    "end": "307720"
  },
  {
    "text": "dynamically make changes to our",
    "start": "307720",
    "end": "309039"
  },
  {
    "text": "applications config and then the the",
    "start": "309039",
    "end": "311639"
  },
  {
    "text": "application will receive notices when",
    "start": "311639",
    "end": "313520"
  },
  {
    "text": "that change happens and it can reload",
    "start": "313520",
    "end": "315400"
  },
  {
    "text": "its config or reestablish connections to",
    "start": "315400",
    "end": "317680"
  },
  {
    "text": "databases or uh caches or things like",
    "start": "317680",
    "end": "320520"
  },
  {
    "text": "that and uh it allows us to make changes",
    "start": "320520",
    "end": "323840"
  },
  {
    "text": "to the cluster configuration very",
    "start": "323840",
    "end": "325240"
  },
  {
    "text": "quickly so when we bring up a new server",
    "start": "325240",
    "end": "327600"
  },
  {
    "text": "in a in one of those uh service tools",
    "start": "327600",
    "end": "330319"
  },
  {
    "text": "that server registers itself with Apache",
    "start": "330319",
    "end": "332319"
  },
  {
    "text": "zookeeper and then if we shut it down or",
    "start": "332319",
    "end": "334400"
  },
  {
    "text": "it gets terminated by Amazon or it just",
    "start": "334400",
    "end": "336120"
  },
  {
    "text": "starts it loses connectivity or",
    "start": "336120",
    "end": "337560"
  },
  {
    "text": "something the uh server will",
    "start": "337560",
    "end": "339759"
  },
  {
    "text": "automatically be taken out of the pool",
    "start": "339759",
    "end": "341520"
  },
  {
    "text": "and your traffic will be redistributed",
    "start": "341520",
    "end": "343039"
  },
  {
    "text": "to the other servers and the same the",
    "start": "343039",
    "end": "345240"
  },
  {
    "text": "same basic uh principle is how elb works",
    "start": "345240",
    "end": "348160"
  },
  {
    "text": "as well with elastic load balancer",
    "start": "348160",
    "end": "350280"
  },
  {
    "text": "traffic is balanced across all the web",
    "start": "350280",
    "end": "352039"
  },
  {
    "text": "servers in our pool whether we're",
    "start": "352039",
    "end": "353479"
  },
  {
    "text": "running one of them or 100 and in",
    "start": "353479",
    "end": "356919"
  },
  {
    "text": "because we have this flexibility to make",
    "start": "356919",
    "end": "358800"
  },
  {
    "text": "configuration changes as quickly we can",
    "start": "358800",
    "end": "361120"
  },
  {
    "text": "resolve our emergencies better and we",
    "start": "361120",
    "end": "362720"
  },
  {
    "text": "also can make that configuration change",
    "start": "362720",
    "end": "364680"
  },
  {
    "text": "part of our standard",
    "start": "364680",
    "end": "366280"
  },
  {
    "text": "practice so another principle",
    "start": "366280",
    "end": "368919"
  },
  {
    "text": "scalability uh every layer of our system",
    "start": "368919",
    "end": "371080"
  },
  {
    "text": "is designed to scale independently of",
    "start": "371080",
    "end": "372720"
  },
  {
    "text": "each other and so by decoupling our",
    "start": "372720",
    "end": "374759"
  },
  {
    "text": "application into more service oriented",
    "start": "374759",
    "end": "377120"
  },
  {
    "text": "approach we can take the pieces that",
    "start": "377120",
    "end": "378880"
  },
  {
    "text": "really need to scale up and only scale",
    "start": "378880",
    "end": "381919"
  },
  {
    "text": "those while leaving others alone so if",
    "start": "381919",
    "end": "383880"
  },
  {
    "text": "one particular area of the Python",
    "start": "383880",
    "end": "385440"
  },
  {
    "text": "application needs a lot more resources",
    "start": "385440",
    "end": "387080"
  },
  {
    "text": "we can we can give it those resources or",
    "start": "387080",
    "end": "389280"
  },
  {
    "text": "if my SQL database needs a lot more uh",
    "start": "389280",
    "end": "392560"
  },
  {
    "text": "uh IO or needs more capacity we have the",
    "start": "392560",
    "end": "395360"
  },
  {
    "text": "ability to do that as well we broke our",
    "start": "395360",
    "end": "397680"
  },
  {
    "text": "data we used a sharting technique for",
    "start": "397680",
    "end": "399520"
  },
  {
    "text": "our database so we've broken our",
    "start": "399520",
    "end": "400720"
  },
  {
    "text": "database tables into uh 4,000 small",
    "start": "400720",
    "end": "403440"
  },
  {
    "text": "pieces and each of those pieces each of",
    "start": "403440",
    "end": "405319"
  },
  {
    "text": "those uh is a is a separate physical",
    "start": "405319",
    "end": "407440"
  },
  {
    "text": "database in the MySQL world so it's a",
    "start": "407440",
    "end": "409400"
  },
  {
    "text": "separate um uh a SE separate table space",
    "start": "409400",
    "end": "412639"
  },
  {
    "text": "and and the ability to uh interact with",
    "start": "412639",
    "end": "415199"
  },
  {
    "text": "that independently of the rest and we've",
    "start": "415199",
    "end": "417199"
  },
  {
    "text": "taken all the joins and uh really",
    "start": "417199",
    "end": "419759"
  },
  {
    "text": "complex sequel out of our application",
    "start": "419759",
    "end": "421440"
  },
  {
    "text": "for performance reasons but what that",
    "start": "421440",
    "end": "423039"
  },
  {
    "text": "means is that since we split it up into",
    "start": "423039",
    "end": "424919"
  },
  {
    "text": "so many small pieces um we can split",
    "start": "424919",
    "end": "427199"
  },
  {
    "text": "those across how many other servers we",
    "start": "427199",
    "end": "428800"
  },
  {
    "text": "need and so we started when we started",
    "start": "428800",
    "end": "430759"
  },
  {
    "text": "that task we had eight database servers",
    "start": "430759",
    "end": "432919"
  },
  {
    "text": "uh We've split that to to 16 and 32 and",
    "start": "432919",
    "end": "436160"
  },
  {
    "text": "even 64 um and only recently have we",
    "start": "436160",
    "end": "438960"
  },
  {
    "text": "started consolidating those as Amazon",
    "start": "438960",
    "end": "440759"
  },
  {
    "text": "launched their SSD instances so by",
    "start": "440759",
    "end": "443240"
  },
  {
    "text": "having these uh many small pieces it",
    "start": "443240",
    "end": "445479"
  },
  {
    "text": "enables us to uh scale this out as as",
    "start": "445479",
    "end": "448199"
  },
  {
    "text": "much as we need and it took a lot of",
    "start": "448199",
    "end": "449560"
  },
  {
    "text": "effort to have a layer in place where we",
    "start": "449560",
    "end": "451599"
  },
  {
    "text": "could write to the data that way and to",
    "start": "451599",
    "end": "453400"
  },
  {
    "text": "remove those those joins and things but",
    "start": "453400",
    "end": "455400"
  },
  {
    "text": "it was really important given the scale",
    "start": "455400",
    "end": "457599"
  },
  {
    "text": "that we had been seeing and and the",
    "start": "457599",
    "end": "459240"
  },
  {
    "text": "level of of use that we really the level",
    "start": "459240",
    "end": "461039"
  },
  {
    "text": "of traffic that we were expecting to see",
    "start": "461039",
    "end": "462319"
  },
  {
    "text": "in the",
    "start": "462319",
    "end": "464560"
  },
  {
    "text": "future and finally we record a ton of",
    "start": "465560",
    "end": "467960"
  },
  {
    "text": "data about the performance of our",
    "start": "467960",
    "end": "469319"
  },
  {
    "text": "application and about the infrastructure",
    "start": "469319",
    "end": "470919"
  },
  {
    "text": "services that power our application so",
    "start": "470919",
    "end": "473479"
  },
  {
    "text": "we use ganglia to record infrastructure",
    "start": "473479",
    "end": "475319"
  },
  {
    "text": "metrics and we use statsd and graphite",
    "start": "475319",
    "end": "478720"
  },
  {
    "text": "to record more application Level",
    "start": "478720",
    "end": "481000"
  },
  {
    "text": "metrics and together these help us",
    "start": "481000",
    "end": "483120"
  },
  {
    "text": "identify patterns in the way that the",
    "start": "483120",
    "end": "484520"
  },
  {
    "text": "site is used and patterns in the way",
    "start": "484520",
    "end": "486680"
  },
  {
    "text": "that uh the infrastructure powering it",
    "start": "486680",
    "end": "489319"
  },
  {
    "text": "uh is what what that's seeing as well",
    "start": "489319",
    "end": "491039"
  },
  {
    "text": "and it helps us make smart choices about",
    "start": "491039",
    "end": "492960"
  },
  {
    "text": "the infrastructure that we need to power",
    "start": "492960",
    "end": "494800"
  },
  {
    "text": "the site so when I joined Pinterest",
    "start": "494800",
    "end": "497280"
  },
  {
    "text": "about a year ago we were growing",
    "start": "497280",
    "end": "498720"
  },
  {
    "text": "exponentially and so were our costs and",
    "start": "498720",
    "end": "500919"
  },
  {
    "text": "it was tough to know whether we were",
    "start": "500919",
    "end": "502039"
  },
  {
    "text": "just spending more because we were",
    "start": "502039",
    "end": "503280"
  },
  {
    "text": "growing or whether we were getting less",
    "start": "503280",
    "end": "504840"
  },
  {
    "text": "efficient so one of the first things I",
    "start": "504840",
    "end": "506720"
  },
  {
    "text": "did was was make this model",
    "start": "506720",
    "end": "508479"
  },
  {
    "start": "507000",
    "end": "507000"
  },
  {
    "text": "understanding our operational costs and",
    "start": "508479",
    "end": "510159"
  },
  {
    "text": "this data is all just uh made up for",
    "start": "510159",
    "end": "512159"
  },
  {
    "text": "this presentation but it's categorized",
    "start": "512159",
    "end": "514200"
  },
  {
    "text": "the same way we took the services that",
    "start": "514200",
    "end": "516320"
  },
  {
    "text": "we're using with Amazon and have broken",
    "start": "516320",
    "end": "518399"
  },
  {
    "text": "that down into uh buckets like storage",
    "start": "518399",
    "end": "521159"
  },
  {
    "text": "compute email and so on and it looks uh",
    "start": "521159",
    "end": "524920"
  },
  {
    "text": "basically like this at the bottom we've",
    "start": "524920",
    "end": "527160"
  },
  {
    "text": "calculated efficiency metrics so that",
    "start": "527160",
    "end": "529360"
  },
  {
    "text": "cost may be cost per user or cost per uh",
    "start": "529360",
    "end": "533200"
  },
  {
    "text": "per page view or cost per sale or per",
    "start": "533200",
    "end": "535800"
  },
  {
    "text": "order if your application is more like",
    "start": "535800",
    "end": "537839"
  },
  {
    "text": "e-commerce and being able to tie that",
    "start": "537839",
    "end": "540600"
  },
  {
    "text": "cost to our business metrics and to the",
    "start": "540600",
    "end": "543120"
  },
  {
    "text": "what it is that our business is trying",
    "start": "543120",
    "end": "544399"
  },
  {
    "text": "to drive helps us identify if we're",
    "start": "544399",
    "end": "546279"
  },
  {
    "text": "getting more efficient or less efficient",
    "start": "546279",
    "end": "548600"
  },
  {
    "text": "and uh that helps us normalize this data",
    "start": "548600",
    "end": "552000"
  },
  {
    "text": "and really understand that given the",
    "start": "552000",
    "end": "553839"
  },
  {
    "text": "rapid growth that we see so if you're",
    "start": "553839",
    "end": "555480"
  },
  {
    "text": "moving a lot of services to the cloud or",
    "start": "555480",
    "end": "557760"
  },
  {
    "text": "your a new startup that's growing very",
    "start": "557760",
    "end": "559720"
  },
  {
    "text": "quickly uh finding ways that you can",
    "start": "559720",
    "end": "562079"
  },
  {
    "text": "identify really is it getting more",
    "start": "562079",
    "end": "563640"
  },
  {
    "text": "efficient or is it just a result uh is",
    "start": "563640",
    "end": "565839"
  },
  {
    "text": "it is the cost growing as a result of",
    "start": "565839",
    "end": "567519"
  },
  {
    "text": "using the cloud more or is it growing as",
    "start": "567519",
    "end": "569640"
  },
  {
    "text": "a result of uh your of of for some other",
    "start": "569640",
    "end": "573760"
  },
  {
    "text": "reason that maybe that you need to to",
    "start": "573760",
    "end": "575440"
  },
  {
    "text": "work on uh this kind of thing will help",
    "start": "575440",
    "end": "577399"
  },
  {
    "text": "will help with that a lot so by",
    "start": "577399",
    "end": "580720"
  },
  {
    "text": "categorizing it into into different",
    "start": "580720",
    "end": "582360"
  },
  {
    "text": "buckets like storage and compute we can",
    "start": "582360",
    "end": "584279"
  },
  {
    "text": "see which categories are are growing the",
    "start": "584279",
    "end": "586000"
  },
  {
    "text": "fastest as well and that helps really",
    "start": "586000",
    "end": "587839"
  },
  {
    "text": "identify where engineering effort is",
    "start": "587839",
    "end": "589440"
  },
  {
    "text": "needed to uh move things uh to make",
    "start": "589440",
    "end": "592120"
  },
  {
    "text": "things uh more efficient and in our case",
    "start": "592120",
    "end": "595760"
  },
  {
    "text": "uh ec2 expense was growing the fastest",
    "start": "595760",
    "end": "597640"
  },
  {
    "text": "the computer expense was growing the",
    "start": "597640",
    "end": "598920"
  },
  {
    "text": "fastest so that one made the most most",
    "start": "598920",
    "end": "601440"
  },
  {
    "text": "sense for us to optimize uh you can also",
    "start": "601440",
    "end": "603680"
  },
  {
    "text": "look at your vendors this way and your",
    "start": "603680",
    "end": "605920"
  },
  {
    "text": "Finance people often will do that in",
    "start": "605920",
    "end": "607440"
  },
  {
    "text": "determining which ones to try and",
    "start": "607440",
    "end": "608720"
  },
  {
    "text": "renegotiate contracts with and things",
    "start": "608720",
    "end": "610440"
  },
  {
    "text": "like",
    "start": "610440",
    "end": "611200"
  },
  {
    "text": "that so given that uh ec2 expense was",
    "start": "611200",
    "end": "614320"
  },
  {
    "start": "614000",
    "end": "614000"
  },
  {
    "text": "growing so quickly that one was the most",
    "start": "614320",
    "end": "616240"
  },
  {
    "text": "important one to get under control and",
    "start": "616240",
    "end": "618320"
  },
  {
    "text": "this is usually the case for many",
    "start": "618320",
    "end": "619880"
  },
  {
    "text": "companies and and most startups because",
    "start": "619880",
    "end": "622200"
  },
  {
    "text": "that's where sort of all your your core",
    "start": "622200",
    "end": "624040"
  },
  {
    "text": "processing lives and and you may be",
    "start": "624040",
    "end": "625600"
  },
  {
    "text": "using some of the auxiliary services but",
    "start": "625600",
    "end": "627399"
  },
  {
    "text": "a lot of times you're really taking",
    "start": "627399",
    "end": "629040"
  },
  {
    "text": "heavy use making heavy use of ec2 so",
    "start": "629040",
    "end": "631680"
  },
  {
    "text": "during the first few months I was there",
    "start": "631680",
    "end": "633079"
  },
  {
    "text": "we took advantage of of three main ec2",
    "start": "633079",
    "end": "635320"
  },
  {
    "text": "features that help keep that cost under",
    "start": "635320",
    "end": "637320"
  },
  {
    "text": "control and I'll walk you through how we",
    "start": "637320",
    "end": "639079"
  },
  {
    "text": "did",
    "start": "639079",
    "end": "641279"
  },
  {
    "text": "this so ec2s reserved instances are a",
    "start": "641440",
    "end": "644560"
  },
  {
    "start": "643000",
    "end": "643000"
  },
  {
    "text": "way of prepaying for instance hours and",
    "start": "644560",
    "end": "646920"
  },
  {
    "text": "when you buy a reserve instance you",
    "start": "646920",
    "end": "648399"
  },
  {
    "text": "spend a bit of money up front in",
    "start": "648399",
    "end": "649839"
  },
  {
    "text": "exchange for a big discount in the",
    "start": "649839",
    "end": "651279"
  },
  {
    "text": "hourly fee if you know that you're going",
    "start": "651279",
    "end": "653279"
  },
  {
    "text": "to need an instance for 1 to 3 years",
    "start": "653279",
    "end": "655760"
  },
  {
    "text": "then reserved instances are a lot",
    "start": "655760",
    "end": "657200"
  },
  {
    "text": "cheaper than paying by the hour so can",
    "start": "657200",
    "end": "659519"
  },
  {
    "text": "reserve for one year which has a a lower",
    "start": "659519",
    "end": "661519"
  },
  {
    "text": "upfront cost but has to be renewed after",
    "start": "661519",
    "end": "663959"
  },
  {
    "text": "each year if you want to keep using that",
    "start": "663959",
    "end": "665440"
  },
  {
    "text": "instance or you can reserve for three",
    "start": "665440",
    "end": "667440"
  },
  {
    "text": "years which um has a much greater",
    "start": "667440",
    "end": "669639"
  },
  {
    "text": "upfront cost but a much greater net",
    "start": "669639",
    "end": "671519"
  },
  {
    "text": "savings the one-year reservations will",
    "start": "671519",
    "end": "673560"
  },
  {
    "text": "save you somewhere around 40% off the",
    "start": "673560",
    "end": "675920"
  },
  {
    "text": "cost of paying by the hour and the",
    "start": "675920",
    "end": "677760"
  },
  {
    "text": "threeyear reservations will save as much",
    "start": "677760",
    "end": "679519"
  },
  {
    "text": "as 70% so it's really a big difference a",
    "start": "679519",
    "end": "682639"
  },
  {
    "text": "really good deal now the downside is",
    "start": "682639",
    "end": "685360"
  },
  {
    "text": "that the reservation locks you into",
    "start": "685360",
    "end": "686959"
  },
  {
    "text": "certain class of instances and things So",
    "start": "686959",
    "end": "689720"
  },
  {
    "text": "when you buy a reservation it's for a",
    "start": "689720",
    "end": "691279"
  },
  {
    "text": "specific instance size in a specific",
    "start": "691279",
    "end": "693639"
  },
  {
    "text": "region uh in a specific availability",
    "start": "693639",
    "end": "696279"
  },
  {
    "text": "Zone in that region so you might buy a",
    "start": "696279",
    "end": "698639"
  },
  {
    "text": "uh M1 large reserved instance in the US",
    "start": "698639",
    "end": "701480"
  },
  {
    "text": "East 1A uh availability Zone and if you",
    "start": "701480",
    "end": "704800"
  },
  {
    "text": "launch a large instance in the US East",
    "start": "704800",
    "end": "707240"
  },
  {
    "text": "1A after that you'll get the much",
    "start": "707240",
    "end": "708880"
  },
  {
    "text": "cheaper hourly pricing but if you need",
    "start": "708880",
    "end": "710360"
  },
  {
    "text": "to move to a different zone or a",
    "start": "710360",
    "end": "711760"
  },
  {
    "text": "different region or different sizes then",
    "start": "711760",
    "end": "714079"
  },
  {
    "text": "then uh you're not going to get the",
    "start": "714079",
    "end": "715399"
  },
  {
    "text": "hourly pricing that you've kind of",
    "start": "715399",
    "end": "716600"
  },
  {
    "text": "already prepaid for so the",
    "start": "716600",
    "end": "720480"
  },
  {
    "text": "uh one of the biggest misconceptions",
    "start": "720480",
    "end": "722880"
  },
  {
    "text": "that that I've heard about reserved",
    "start": "722880",
    "end": "724240"
  },
  {
    "text": "instances is sort of a notion that you",
    "start": "724240",
    "end": "726200"
  },
  {
    "text": "have to after you buy the reserved",
    "start": "726200",
    "end": "728079"
  },
  {
    "text": "instance like migrate your data to that",
    "start": "728079",
    "end": "729920"
  },
  {
    "text": "or or take your existing instances and",
    "start": "729920",
    "end": "731800"
  },
  {
    "text": "shut them down and replace them with",
    "start": "731800",
    "end": "733120"
  },
  {
    "text": "reserved instances or something and",
    "start": "733120",
    "end": "734800"
  },
  {
    "text": "that's just not how the reserved",
    "start": "734800",
    "end": "736639"
  },
  {
    "text": "instances work it's really all about a",
    "start": "736639",
    "end": "738279"
  },
  {
    "text": "billing method if you buy 10 reserved",
    "start": "738279",
    "end": "740880"
  },
  {
    "text": "instances then you get preferred pricing",
    "start": "740880",
    "end": "742880"
  },
  {
    "text": "on the hourly rate on 10 instances",
    "start": "742880",
    "end": "744760"
  },
  {
    "text": "whether they're ones that you launched",
    "start": "744760",
    "end": "746120"
  },
  {
    "text": "two years ago or they're ones that you",
    "start": "746120",
    "end": "748040"
  },
  {
    "text": "launch next week or anything like that",
    "start": "748040",
    "end": "750399"
  },
  {
    "text": "um but if you launch in a different",
    "start": "750399",
    "end": "751560"
  },
  {
    "text": "availability zone or or something like",
    "start": "751560",
    "end": "753480"
  },
  {
    "text": "that then you still have to pay the full",
    "start": "753480",
    "end": "755240"
  },
  {
    "text": "price so uh Amazon did uh release a new",
    "start": "755240",
    "end": "759560"
  },
  {
    "text": "feature earlier this year called the",
    "start": "759560",
    "end": "760959"
  },
  {
    "text": "reserved instance Marketplace which",
    "start": "760959",
    "end": "762560"
  },
  {
    "text": "helps kind of alleviate some of that",
    "start": "762560",
    "end": "764560"
  },
  {
    "text": "risk it allows people to sell back uh",
    "start": "764560",
    "end": "766800"
  },
  {
    "text": "the reserved instances that they've",
    "start": "766800",
    "end": "768199"
  },
  {
    "text": "bought if there's some time left on them",
    "start": "768199",
    "end": "769839"
  },
  {
    "text": "and they just decide they don't want",
    "start": "769839",
    "end": "771199"
  },
  {
    "text": "that anymore maybe they want larger",
    "start": "771199",
    "end": "772560"
  },
  {
    "text": "instances or they want to move to a",
    "start": "772560",
    "end": "774320"
  },
  {
    "text": "different region uh the marketplace",
    "start": "774320",
    "end": "776079"
  },
  {
    "text": "hasn't been around very long so it's",
    "start": "776079",
    "end": "777639"
  },
  {
    "text": "tough to know what the pricing is going",
    "start": "777639",
    "end": "779440"
  },
  {
    "text": "to be like and sort of how liquid that's",
    "start": "779440",
    "end": "780920"
  },
  {
    "text": "going to be whether whether people want",
    "start": "780920",
    "end": "782519"
  },
  {
    "text": "to buy instances that may have six",
    "start": "782519",
    "end": "784440"
  },
  {
    "text": "months left on them or nine months left",
    "start": "784440",
    "end": "786040"
  },
  {
    "text": "on them but it's definitely an option",
    "start": "786040",
    "end": "787880"
  },
  {
    "text": "that helps uh drive down some of the",
    "start": "787880",
    "end": "789720"
  },
  {
    "text": "risk involved in in the uh reserved",
    "start": "789720",
    "end": "792079"
  },
  {
    "text": "instance",
    "start": "792079",
    "end": "793079"
  },
  {
    "text": "purchasing So when you buy reserved",
    "start": "793079",
    "end": "795000"
  },
  {
    "text": "instances you have an option of buying",
    "start": "795000",
    "end": "796760"
  },
  {
    "text": "heavy medium or light instances and the",
    "start": "796760",
    "end": "799279"
  },
  {
    "start": "797000",
    "end": "797000"
  },
  {
    "text": "heavy instance requires a bigger upfront",
    "start": "799279",
    "end": "801040"
  },
  {
    "text": "payment but then has much lower hourly",
    "start": "801040",
    "end": "803160"
  },
  {
    "text": "cost and the light instance is the",
    "start": "803160",
    "end": "805160"
  },
  {
    "text": "lowest upfront payment the lowest risk B",
    "start": "805160",
    "end": "807440"
  },
  {
    "text": "Financial Risk basically but then has a",
    "start": "807440",
    "end": "809360"
  },
  {
    "text": "higher upfront cost so they're all a lot",
    "start": "809360",
    "end": "811720"
  },
  {
    "text": "cheaper than paying by the hour but uh",
    "start": "811720",
    "end": "814279"
  },
  {
    "text": "if you're running something 24 hours a",
    "start": "814279",
    "end": "816079"
  },
  {
    "text": "day uh if it's your databases or your",
    "start": "816079",
    "end": "817760"
  },
  {
    "text": "caches or things that that are just",
    "start": "817760",
    "end": "819120"
  },
  {
    "text": "running all the time then the heavy",
    "start": "819120",
    "end": "821320"
  },
  {
    "text": "reserved instances make the most sense",
    "start": "821320",
    "end": "822839"
  },
  {
    "text": "for that if you're running it just a few",
    "start": "822839",
    "end": "824639"
  },
  {
    "text": "hours a day or a couple of days a week",
    "start": "824639",
    "end": "826399"
  },
  {
    "text": "if you see traffic patterns like a",
    "start": "826399",
    "end": "828680"
  },
  {
    "text": "website that gets a lot of traffic on",
    "start": "828680",
    "end": "830199"
  },
  {
    "text": "weekends or something then using light",
    "start": "830199",
    "end": "832160"
  },
  {
    "text": "reserved instances for for some of that",
    "start": "832160",
    "end": "834320"
  },
  {
    "text": "traffic uh often helps out and the",
    "start": "834320",
    "end": "836759"
  },
  {
    "text": "medium is kind of there's only a couple",
    "start": "836759",
    "end": "839519"
  },
  {
    "text": "like 18 to 19 hours a day where the",
    "start": "839519",
    "end": "841519"
  },
  {
    "text": "medium is actually cheaper than the",
    "start": "841519",
    "end": "843639"
  },
  {
    "text": "others but if you don't have the cash to",
    "start": "843639",
    "end": "846720"
  },
  {
    "text": "spend on the heavy or something then if",
    "start": "846720",
    "end": "848560"
  },
  {
    "text": "you are running on on 24 hours a day",
    "start": "848560",
    "end": "851000"
  },
  {
    "text": "medium buying the medium UPF front is a",
    "start": "851000",
    "end": "853040"
  },
  {
    "text": "much lower expense up front and it's",
    "start": "853040",
    "end": "854639"
  },
  {
    "text": "still better than not doing anything at",
    "start": "854639",
    "end": "858120"
  },
  {
    "text": "all so we also use ec2s Auto scaling to",
    "start": "858360",
    "end": "861480"
  },
  {
    "text": "provision the right number of servers to",
    "start": "861480",
    "end": "863079"
  },
  {
    "text": "handle the traffic that we expect at",
    "start": "863079",
    "end": "864800"
  },
  {
    "text": "each hour of the day and because most of",
    "start": "864800",
    "end": "867120"
  },
  {
    "start": "865000",
    "end": "865000"
  },
  {
    "text": "our users our pinners are in the United",
    "start": "867120",
    "end": "869160"
  },
  {
    "text": "States we find that our traffic Peaks",
    "start": "869160",
    "end": "871160"
  },
  {
    "text": "around uh 6:00 p.m. to midnight our time",
    "start": "871160",
    "end": "874079"
  },
  {
    "text": "and that then it uh goes way down late",
    "start": "874079",
    "end": "876320"
  },
  {
    "text": "at night and so when I took this graph",
    "start": "876320",
    "end": "878680"
  },
  {
    "text": "we needed about 80 web servers to handle",
    "start": "878680",
    "end": "880560"
  },
  {
    "text": "that Peak traffic but we were wasting",
    "start": "880560",
    "end": "882519"
  },
  {
    "text": "the the uh instances that we didn't need",
    "start": "882519",
    "end": "885160"
  },
  {
    "text": "during the late at night and and during",
    "start": "885160",
    "end": "887120"
  },
  {
    "text": "the morning so we've implemented ec2s",
    "start": "887120",
    "end": "889279"
  },
  {
    "text": "Auto scaling which allows us to uh uh",
    "start": "889279",
    "end": "892759"
  },
  {
    "text": "cut the number of servers we're running",
    "start": "892759",
    "end": "894320"
  },
  {
    "text": "on average by about 21% and since you",
    "start": "894320",
    "end": "897079"
  },
  {
    "text": "pay for your ec2 servers by the hour it",
    "start": "897079",
    "end": "899040"
  },
  {
    "text": "helps cut your expenses by up to 21% as",
    "start": "899040",
    "end": "902120"
  },
  {
    "text": "well and it ties our cost structure more",
    "start": "902120",
    "end": "904279"
  },
  {
    "text": "directly to the business to the amount",
    "start": "904279",
    "end": "906000"
  },
  {
    "text": "of traffic this that we're supporting",
    "start": "906000",
    "end": "907440"
  },
  {
    "text": "the number of users that are online at",
    "start": "907440",
    "end": "908959"
  },
  {
    "text": "any time so of course this only works",
    "start": "908959",
    "end": "911040"
  },
  {
    "text": "for the flexible stateless Services the",
    "start": "911040",
    "end": "913440"
  },
  {
    "text": "databases and caches and things have to",
    "start": "913440",
    "end": "915240"
  },
  {
    "text": "be online 24/7 and that's often a a big",
    "start": "915240",
    "end": "917560"
  },
  {
    "text": "chunk of your expense but web servers",
    "start": "917560",
    "end": "919480"
  },
  {
    "text": "and those internal service layers are",
    "start": "919480",
    "end": "921000"
  },
  {
    "text": "are more and more of of uh our expense",
    "start": "921000",
    "end": "923839"
  },
  {
    "text": "over",
    "start": "923839",
    "end": "924639"
  },
  {
    "text": "time so in order to take advantage of",
    "start": "924639",
    "end": "927800"
  },
  {
    "text": "this kind of thing you need a a",
    "start": "927800",
    "end": "929440"
  },
  {
    "text": "stateless flexible architecture what",
    "start": "929440",
    "end": "932120"
  },
  {
    "text": "might be called like a cloud compatible",
    "start": "932120",
    "end": "933920"
  },
  {
    "text": "architecture and in particular a couple",
    "start": "933920",
    "end": "936120"
  },
  {
    "text": "of pieces there um automatic service",
    "start": "936120",
    "end": "938720"
  },
  {
    "text": "Discovery is important so as I mentioned",
    "start": "938720",
    "end": "940600"
  },
  {
    "text": "we use zookeeper and elastic load",
    "start": "940600",
    "end": "942959"
  },
  {
    "text": "balancer for that kind of thing so that",
    "start": "942959",
    "end": "944600"
  },
  {
    "text": "when servers come up they register",
    "start": "944600",
    "end": "946360"
  },
  {
    "text": "themselves and they uh and traffic's",
    "start": "946360",
    "end": "948160"
  },
  {
    "text": "directed to them and when they go down",
    "start": "948160",
    "end": "950079"
  },
  {
    "text": "they they get deregistered or traffic is",
    "start": "950079",
    "end": "952319"
  },
  {
    "text": "is taken away from them uh the other",
    "start": "952319",
    "end": "955199"
  },
  {
    "text": "piece that's really important is",
    "start": "955199",
    "end": "956319"
  },
  {
    "text": "automating your instance configuration",
    "start": "956319",
    "end": "958319"
  },
  {
    "text": "if you have to into an instance and do",
    "start": "958319",
    "end": "959959"
  },
  {
    "text": "any kind of configuration then if you're",
    "start": "959959",
    "end": "961600"
  },
  {
    "text": "launching 20 of them a day and shutting",
    "start": "961600",
    "end": "963120"
  },
  {
    "text": "them down at night you're just going to",
    "start": "963120",
    "end": "964160"
  },
  {
    "text": "spend all your time doing that so we one",
    "start": "964160",
    "end": "967399"
  },
  {
    "text": "option is to use custom Amis for your",
    "start": "967399",
    "end": "969759"
  },
  {
    "text": "web server that's configured exactly",
    "start": "969759",
    "end": "971440"
  },
  {
    "text": "right or for a a service layer that's",
    "start": "971440",
    "end": "973279"
  },
  {
    "text": "that's configured just right uh another",
    "start": "973279",
    "end": "975480"
  },
  {
    "text": "option that's that we've found has",
    "start": "975480",
    "end": "976600"
  },
  {
    "text": "worked better is using configuration",
    "start": "976600",
    "end": "978040"
  },
  {
    "text": "management tools like puppet or Chef we",
    "start": "978040",
    "end": "980680"
  },
  {
    "text": "use puppet for a lot of that and so we",
    "start": "980680",
    "end": "982360"
  },
  {
    "text": "have one Ami um that that's for all of",
    "start": "982360",
    "end": "984839"
  },
  {
    "text": "our systems but when they launch the",
    "start": "984839",
    "end": "987000"
  },
  {
    "text": "tags and the other description fields on",
    "start": "987000",
    "end": "988720"
  },
  {
    "text": "the on the instance help it determine uh",
    "start": "988720",
    "end": "991519"
  },
  {
    "text": "help it get a configuration from the",
    "start": "991519",
    "end": "993079"
  },
  {
    "text": "central puppet",
    "start": "993079",
    "end": "994560"
  },
  {
    "text": "server so ec2 offers two ways to",
    "start": "994560",
    "end": "997199"
  },
  {
    "text": "configure your autoscaling groups you",
    "start": "997199",
    "end": "999120"
  },
  {
    "text": "can scale automatically and dynamically",
    "start": "999120",
    "end": "1001040"
  },
  {
    "text": "based on metrics that you define in",
    "start": "1001040",
    "end": "1002600"
  },
  {
    "text": "cloudwatch or scale by schedule and we",
    "start": "1002600",
    "end": "1005600"
  },
  {
    "text": "don't really trust the cloudwatch",
    "start": "1005600",
    "end": "1007519"
  },
  {
    "text": "metrics in our case we our application",
    "start": "1007519",
    "end": "1009759"
  },
  {
    "text": "for reasons sort of uh because of of",
    "start": "1009759",
    "end": "1013160"
  },
  {
    "text": "inefficiencies in our application I",
    "start": "1013160",
    "end": "1014880"
  },
  {
    "text": "don't know that the the metrics",
    "start": "1014880",
    "end": "1016120"
  },
  {
    "text": "necessarily about CPU usage or network",
    "start": "1016120",
    "end": "1018120"
  },
  {
    "text": "usage quite Define um how uh quite",
    "start": "1018120",
    "end": "1022680"
  },
  {
    "text": "represent how much uh server capacity we",
    "start": "1022680",
    "end": "1025240"
  },
  {
    "text": "need at any time but uh so we do it just",
    "start": "1025240",
    "end": "1027798"
  },
  {
    "text": "by out just by time and that still is",
    "start": "1027799",
    "end": "1029640"
  },
  {
    "text": "able to work well for us because we have",
    "start": "1029640",
    "end": "1031280"
  },
  {
    "text": "pretty predictable traffic patterns if",
    "start": "1031280",
    "end": "1033360"
  },
  {
    "text": "you if you have similar predictable",
    "start": "1033360",
    "end": "1035520"
  },
  {
    "text": "schedules and things then then that",
    "start": "1035520",
    "end": "1037120"
  },
  {
    "text": "should uh work well for you as well and",
    "start": "1037120",
    "end": "1039038"
  },
  {
    "text": "when using Autos scaling you determine",
    "start": "1039039",
    "end": "1040720"
  },
  {
    "text": "the parameters for all this so the",
    "start": "1040720",
    "end": "1042079"
  },
  {
    "text": "minimum and maximum number of servers",
    "start": "1042079",
    "end": "1044160"
  },
  {
    "text": "you want running at once for example the",
    "start": "1044160",
    "end": "1046520"
  },
  {
    "text": "and uh or the schedule that you set and",
    "start": "1046520",
    "end": "1048480"
  },
  {
    "text": "the auto scale group won't go over or",
    "start": "1048480",
    "end": "1050760"
  },
  {
    "text": "under what you said so let's go through",
    "start": "1050760",
    "end": "1052880"
  },
  {
    "text": "an example of setting up Auto scaling",
    "start": "1052880",
    "end": "1054679"
  },
  {
    "text": "using the command line",
    "start": "1054679",
    "end": "1056240"
  },
  {
    "text": "toolkit the first step is to create a",
    "start": "1056240",
    "end": "1058760"
  },
  {
    "text": "launch config and this is sort of a conf",
    "start": "1058760",
    "end": "1061799"
  },
  {
    "text": "uh information about how you want the",
    "start": "1061799",
    "end": "1064360"
  },
  {
    "text": "instances that it launches to be",
    "start": "1064360",
    "end": "1066160"
  },
  {
    "text": "configured so it's what kind of instance",
    "start": "1066160",
    "end": "1068520"
  },
  {
    "text": "to be brought up like in this case M1",
    "start": "1068520",
    "end": "1070480"
  },
  {
    "text": "large and it's what uh image what Ami",
    "start": "1070480",
    "end": "1074120"
  },
  {
    "text": "you want to be used for that instance",
    "start": "1074120",
    "end": "1075840"
  },
  {
    "text": "and things and this launch config is is",
    "start": "1075840",
    "end": "1077960"
  },
  {
    "text": "decoupled from the the actual Autos",
    "start": "1077960",
    "end": "1079640"
  },
  {
    "text": "skill group so if you have many Autos",
    "start": "1079640",
    "end": "1081480"
  },
  {
    "text": "skill groups maybe one for a web server",
    "start": "1081480",
    "end": "1083520"
  },
  {
    "text": "layer and one for mail servers and one",
    "start": "1083520",
    "end": "1085360"
  },
  {
    "text": "for other internal Services uh you can",
    "start": "1085360",
    "end": "1088240"
  },
  {
    "text": "share one launch config between all",
    "start": "1088240",
    "end": "1090240"
  },
  {
    "text": "those or you can uh have different",
    "start": "1090240",
    "end": "1092360"
  },
  {
    "text": "launch configs if you have like",
    "start": "1092360",
    "end": "1093600"
  },
  {
    "text": "different Amis for each group the Second",
    "start": "1093600",
    "end": "1096320"
  },
  {
    "text": "Step then is to create the each",
    "start": "1096320",
    "end": "1097880"
  },
  {
    "text": "autoscaling group and in this example",
    "start": "1097880",
    "end": "1100039"
  },
  {
    "text": "we're creating one called Web group that",
    "start": "1100039",
    "end": "1102200"
  },
  {
    "text": "uses that web config launch config and",
    "start": "1102200",
    "end": "1104840"
  },
  {
    "text": "is defined to be in one availability",
    "start": "1104840",
    "end": "1106520"
  },
  {
    "text": "Zone with a certain number of minimum a",
    "start": "1106520",
    "end": "1108480"
  },
  {
    "text": "certain minimum and a certain maximum",
    "start": "1108480",
    "end": "1110440"
  },
  {
    "text": "and it won't go outside what you choose",
    "start": "1110440",
    "end": "1112200"
  },
  {
    "text": "there uh these basic parameters then are",
    "start": "1112200",
    "end": "1114480"
  },
  {
    "text": "are used to uh uh are used for the",
    "start": "1114480",
    "end": "1117799"
  },
  {
    "text": "autoscaling for it to uh for for each",
    "start": "1117799",
    "end": "1121360"
  },
  {
    "text": "group so so you set up these parameters",
    "start": "1121360",
    "end": "1123280"
  },
  {
    "text": "for each kind of server you have and",
    "start": "1123280",
    "end": "1125360"
  },
  {
    "text": "they will uh and then the group will the",
    "start": "1125360",
    "end": "1128280"
  },
  {
    "text": "autoscaling system in in ec2 will make",
    "start": "1128280",
    "end": "1131240"
  },
  {
    "text": "sure that that it uh follows these",
    "start": "1131240",
    "end": "1132960"
  },
  {
    "text": "parameters and the third step then is to",
    "start": "1132960",
    "end": "1135080"
  },
  {
    "text": "add your scheduled actions so the",
    "start": "1135080",
    "end": "1137400"
  },
  {
    "text": "command line lets do it with a chronik",
    "start": "1137400",
    "end": "1139960"
  },
  {
    "text": "syntax and in this example we're scaling",
    "start": "1139960",
    "end": "1143159"
  },
  {
    "text": "down to two instances at 6:00 every day",
    "start": "1143159",
    "end": "1146360"
  },
  {
    "text": "UTC time which is uh 1000 p.m. Pacific",
    "start": "1146360",
    "end": "1149520"
  },
  {
    "text": "and then scaling up to five instances at",
    "start": "1149520",
    "end": "1151840"
  },
  {
    "text": "1,400 UTC time or 600 a.m. Pacific and",
    "start": "1151840",
    "end": "1156000"
  },
  {
    "text": "so and the star star star means that it",
    "start": "1156000",
    "end": "1158200"
  },
  {
    "text": "runs this schedule daily um it's similar",
    "start": "1158200",
    "end": "1160799"
  },
  {
    "text": "to how you would set up cron jobs on any",
    "start": "1160799",
    "end": "1162480"
  },
  {
    "text": "kind of Unix server and uh given our",
    "start": "1162480",
    "end": "1164880"
  },
  {
    "text": "traffic patterns this kind of daily",
    "start": "1164880",
    "end": "1166440"
  },
  {
    "text": "Cadence is the kind of uh system that we",
    "start": "1166440",
    "end": "1169159"
  },
  {
    "text": "use but of course if your system if your",
    "start": "1169159",
    "end": "1171480"
  },
  {
    "text": "site gets a lot more traffic during",
    "start": "1171480",
    "end": "1172919"
  },
  {
    "text": "business hours or on weekdays or",
    "start": "1172919",
    "end": "1175200"
  },
  {
    "text": "something then then uh you can set up",
    "start": "1175200",
    "end": "1177039"
  },
  {
    "text": "the schedule however you'd",
    "start": "1177039",
    "end": "1179360"
  },
  {
    "text": "like and finally we use spot instances",
    "start": "1179360",
    "end": "1181960"
  },
  {
    "start": "1181000",
    "end": "1181000"
  },
  {
    "text": "to drive our cost down even further so",
    "start": "1181960",
    "end": "1184080"
  },
  {
    "text": "spot instances are another pricing",
    "start": "1184080",
    "end": "1185840"
  },
  {
    "text": "mechanism the instances themselves are",
    "start": "1185840",
    "end": "1188240"
  },
  {
    "text": "identical to the normal instances you'd",
    "start": "1188240",
    "end": "1189840"
  },
  {
    "text": "launch normally but when you launch them",
    "start": "1189840",
    "end": "1192320"
  },
  {
    "text": "you bid a specific price for them and",
    "start": "1192320",
    "end": "1194679"
  },
  {
    "text": "Amazon then takes all those bids and",
    "start": "1194679",
    "end": "1196120"
  },
  {
    "text": "determines a market price and if the",
    "start": "1196120",
    "end": "1197960"
  },
  {
    "text": "market price is below what you've bid",
    "start": "1197960",
    "end": "1200000"
  },
  {
    "text": "then uh you'll uh then you'll get an",
    "start": "1200000",
    "end": "1202720"
  },
  {
    "text": "instance you'll get a set of instances",
    "start": "1202720",
    "end": "1204320"
  },
  {
    "text": "at the market price it's it's like the",
    "start": "1204320",
    "end": "1206240"
  },
  {
    "text": "the Dutch auctions on eBay where you",
    "start": "1206240",
    "end": "1208080"
  },
  {
    "text": "only pay the most that everyone's paying",
    "start": "1208080",
    "end": "1210600"
  },
  {
    "text": "the same amount and that that amount is",
    "start": "1210600",
    "end": "1212240"
  },
  {
    "text": "based on uh bids but some people may bid",
    "start": "1212240",
    "end": "1214559"
  },
  {
    "text": "way above to make sure that they always",
    "start": "1214559",
    "end": "1216600"
  },
  {
    "text": "are going to get instances uh at a price",
    "start": "1216600",
    "end": "1219559"
  },
  {
    "text": "up to what they're willing to pay um so",
    "start": "1219559",
    "end": "1224080"
  },
  {
    "text": "the prices uh have been really good for",
    "start": "1224080",
    "end": "1226360"
  },
  {
    "text": "the last few months or so capacity has",
    "start": "1226360",
    "end": "1227919"
  },
  {
    "text": "been really strongly available and as a",
    "start": "1227919",
    "end": "1230080"
  },
  {
    "text": "result it's a savings of 80 to 90% off",
    "start": "1230080",
    "end": "1232760"
  },
  {
    "text": "the um standard instance prices so this",
    "start": "1232760",
    "end": "1235880"
  },
  {
    "text": "is a really big savings that said there",
    "start": "1235880",
    "end": "1238159"
  },
  {
    "text": "are a couple of downsides uh spot",
    "start": "1238159",
    "end": "1240240"
  },
  {
    "text": "instances do take longer to launch",
    "start": "1240240",
    "end": "1241960"
  },
  {
    "text": "because Amazon has to figure out where",
    "start": "1241960",
    "end": "1243600"
  },
  {
    "text": "your bid falls into the uh market price",
    "start": "1243600",
    "end": "1246200"
  },
  {
    "text": "and it just ends up taking a few minutes",
    "start": "1246200",
    "end": "1248559"
  },
  {
    "text": "or or up to an hour even to launch them",
    "start": "1248559",
    "end": "1250559"
  },
  {
    "text": "sometimes even when they do have a lot",
    "start": "1250559",
    "end": "1251880"
  },
  {
    "text": "of capacity and they also can be",
    "start": "1251880",
    "end": "1253960"
  },
  {
    "text": "terminated at any time if there are",
    "start": "1253960",
    "end": "1255919"
  },
  {
    "text": "capacity constraints so we hit spot",
    "start": "1255919",
    "end": "1258600"
  },
  {
    "text": "capacity issues maybe once a month or so",
    "start": "1258600",
    "end": "1261400"
  },
  {
    "text": "uh in order to make sure that we always",
    "start": "1261400",
    "end": "1263520"
  },
  {
    "text": "have the right number of web servers and",
    "start": "1263520",
    "end": "1265440"
  },
  {
    "text": "and application servers running we uh",
    "start": "1265440",
    "end": "1268320"
  },
  {
    "text": "have a watchdog process that runs and",
    "start": "1268320",
    "end": "1270679"
  },
  {
    "text": "checks to see how many uh how many",
    "start": "1270679",
    "end": "1272840"
  },
  {
    "text": "instances are running right now in each",
    "start": "1272840",
    "end": "1274279"
  },
  {
    "text": "of our autoscale uh groups and then",
    "start": "1274279",
    "end": "1276880"
  },
  {
    "text": "we'll spin up more on demand instances",
    "start": "1276880",
    "end": "1278720"
  },
  {
    "text": "if there aren't enough spot instances",
    "start": "1278720",
    "end": "1280600"
  },
  {
    "text": "available and we'll spin down instances",
    "start": "1280600",
    "end": "1282480"
  },
  {
    "text": "if we're we find that we're running too",
    "start": "1282480",
    "end": "1283799"
  },
  {
    "text": "many like if the spot instances are uh",
    "start": "1283799",
    "end": "1286679"
  },
  {
    "text": "uh if spot instance availability is",
    "start": "1286679",
    "end": "1288559"
  },
  {
    "text": "suddenly becomes a lot better and and it",
    "start": "1288559",
    "end": "1290080"
  },
  {
    "text": "ends up launching a lot of ones that we",
    "start": "1290080",
    "end": "1291400"
  },
  {
    "text": "had requested earlier so The Upfront",
    "start": "1291400",
    "end": "1293440"
  },
  {
    "text": "though is massive savings I mean the",
    "start": "1293440",
    "end": "1294799"
  },
  {
    "text": "pricing is better than what you get for",
    "start": "1294799",
    "end": "1296559"
  },
  {
    "text": "ouris often and there's no commitment",
    "start": "1296559",
    "end": "1298400"
  },
  {
    "text": "and no upfront payment so if you can",
    "start": "1298400",
    "end": "1300200"
  },
  {
    "text": "design your system to be independently",
    "start": "1300200",
    "end": "1302360"
  },
  {
    "text": "scalable and be flexible and and and",
    "start": "1302360",
    "end": "1305279"
  },
  {
    "text": "have these changes kind of happening",
    "start": "1305279",
    "end": "1307039"
  },
  {
    "text": "behind the scenes pretty often then this",
    "start": "1307039",
    "end": "1309480"
  },
  {
    "text": "will help you a lot so let's look see",
    "start": "1309480",
    "end": "1312640"
  },
  {
    "text": "how these features work together to",
    "start": "1312640",
    "end": "1314000"
  },
  {
    "text": "reduce the number of servers that we're",
    "start": "1314000",
    "end": "1315679"
  },
  {
    "text": "running and help keep our overall Bill",
    "start": "1315679",
    "end": "1317240"
  },
  {
    "text": "pretty reasonable when I made this",
    "start": "1317240",
    "end": "1319440"
  },
  {
    "text": "presentation um and when I made some of",
    "start": "1319440",
    "end": "1321200"
  },
  {
    "text": "these graphs we were running about 80",
    "start": "1321200",
    "end": "1322799"
  },
  {
    "text": "servers to power our uh main web our",
    "start": "1322799",
    "end": "1325840"
  },
  {
    "text": "main web application and we needed this",
    "start": "1325840",
    "end": "1327799"
  },
  {
    "text": "much to handle afternoon and evenings",
    "start": "1327799",
    "end": "1329600"
  },
  {
    "text": "but we didn't need this much in the",
    "start": "1329600",
    "end": "1330679"
  },
  {
    "text": "evening in the late at night and early",
    "start": "1330679",
    "end": "1332640"
  },
  {
    "text": "in the morning so the first thing we did",
    "start": "1332640",
    "end": "1334559"
  },
  {
    "text": "was Implement Auto scaling and this",
    "start": "1334559",
    "end": "1335919"
  },
  {
    "text": "saved us about 20 21% um by running",
    "start": "1335919",
    "end": "1339720"
  },
  {
    "text": "instances for 20 21% less time over",
    "start": "1339720",
    "end": "1342919"
  },
  {
    "text": "average uh the second then we added the",
    "start": "1342919",
    "end": "1345440"
  },
  {
    "text": "reserved instances and so we use a",
    "start": "1345440",
    "end": "1348080"
  },
  {
    "start": "1346000",
    "end": "1346000"
  },
  {
    "text": "Baseline",
    "start": "1348080",
    "end": "1349080"
  },
  {
    "text": "capacity of heavy reserved instances",
    "start": "1349080",
    "end": "1351080"
  },
  {
    "text": "that are running 24 hours a day we",
    "start": "1351080",
    "end": "1352960"
  },
  {
    "text": "supplement that with light reserved",
    "start": "1352960",
    "end": "1355039"
  },
  {
    "text": "instances for the ones that are running",
    "start": "1355039",
    "end": "1356799"
  },
  {
    "text": "15 17 hours a day and then after that we",
    "start": "1356799",
    "end": "1360840"
  },
  {
    "text": "replace the on demand instances with",
    "start": "1360840",
    "end": "1362440"
  },
  {
    "text": "spot instances most of the time and",
    "start": "1362440",
    "end": "1364880"
  },
  {
    "text": "obviously when spot instances aren't",
    "start": "1364880",
    "end": "1366559"
  },
  {
    "text": "available it will fall back to the on",
    "start": "1366559",
    "end": "1368480"
  },
  {
    "text": "demand but most of the time it's able to",
    "start": "1368480",
    "end": "1370840"
  },
  {
    "text": "use spot to to replace the on",
    "start": "1370840",
    "end": "1373480"
  },
  {
    "text": "demand and as a result the cost savings",
    "start": "1373480",
    "end": "1376960"
  },
  {
    "text": "are even are even greater so with auto",
    "start": "1376960",
    "end": "1379279"
  },
  {
    "text": "scaling we save the the 21% because",
    "start": "1379279",
    "end": "1381880"
  },
  {
    "text": "you're paying by the hour the the",
    "start": "1381880",
    "end": "1384039"
  },
  {
    "text": "reserved instances end up being a lot",
    "start": "1384039",
    "end": "1385679"
  },
  {
    "text": "cheaper than the on demand instances so",
    "start": "1385679",
    "end": "1388320"
  },
  {
    "text": "that saves us even more um and we happen",
    "start": "1388320",
    "end": "1391080"
  },
  {
    "text": "to use the one-year reserved instances",
    "start": "1391080",
    "end": "1393159"
  },
  {
    "text": "just because we'd like the flexibility",
    "start": "1393159",
    "end": "1395360"
  },
  {
    "text": "but you can buy the threeyear RIS which",
    "start": "1395360",
    "end": "1397279"
  },
  {
    "text": "would actually save us even more than",
    "start": "1397279",
    "end": "1398720"
  },
  {
    "text": "what's listed here and then with spot",
    "start": "1398720",
    "end": "1401360"
  },
  {
    "start": "1401000",
    "end": "1401000"
  },
  {
    "text": "instances because they're so much",
    "start": "1401360",
    "end": "1402760"
  },
  {
    "text": "cheaper right now we uh save even more",
    "start": "1402760",
    "end": "1405559"
  },
  {
    "text": "on that and so uh it ends up that our",
    "start": "1405559",
    "end": "1409320"
  },
  {
    "text": "average cost Falls from about $54 an",
    "start": "1409320",
    "end": "1411880"
  },
  {
    "text": "hour to under $20 an hour or from $1,200",
    "start": "1411880",
    "end": "1415240"
  },
  {
    "text": "a day to run this cluster to uh under",
    "start": "1415240",
    "end": "1417520"
  },
  {
    "text": "$400 a day so uh this is all possible",
    "start": "1417520",
    "end": "1422720"
  },
  {
    "text": "because we are uh designing with this",
    "start": "1422720",
    "end": "1424720"
  },
  {
    "text": "Cloud compatible architecture in mind",
    "start": "1424720",
    "end": "1426840"
  },
  {
    "text": "the reserved instances work for any kind",
    "start": "1426840",
    "end": "1428559"
  },
  {
    "text": "of service there anything that's up uh",
    "start": "1428559",
    "end": "1430720"
  },
  {
    "text": "even if you're up 24 hours a day that's",
    "start": "1430720",
    "end": "1432559"
  },
  {
    "text": "there are reserved instances perfect for",
    "start": "1432559",
    "end": "1434200"
  },
  {
    "text": "that but the uh spot instances and the",
    "start": "1434200",
    "end": "1436880"
  },
  {
    "text": "auto scaling really require an",
    "start": "1436880",
    "end": "1438279"
  },
  {
    "text": "understand understanding of your",
    "start": "1438279",
    "end": "1439080"
  },
  {
    "text": "application and understanding of your",
    "start": "1439080",
    "end": "1440799"
  },
  {
    "text": "usage patterns and and measurement of",
    "start": "1440799",
    "end": "1442520"
  },
  {
    "text": "that they require application software",
    "start": "1442520",
    "end": "1444279"
  },
  {
    "text": "designed to scale and shrink and they",
    "start": "1444279",
    "end": "1446039"
  },
  {
    "text": "require flexibility in operational",
    "start": "1446039",
    "end": "1447799"
  },
  {
    "text": "configuration but if you do design your",
    "start": "1447799",
    "end": "1449760"
  },
  {
    "text": "service with those kind of things in",
    "start": "1449760",
    "end": "1451200"
  },
  {
    "text": "mind then there's a great payoff here so",
    "start": "1451200",
    "end": "1453919"
  },
  {
    "text": "if this kind of stuff interests you we'd",
    "start": "1453919",
    "end": "1455320"
  },
  {
    "text": "love to hear from you and we're always",
    "start": "1455320",
    "end": "1456960"
  },
  {
    "text": "looking for engineers infrastructure",
    "start": "1456960",
    "end": "1458760"
  },
  {
    "text": "people who are uh familiar with Building",
    "start": "1458760",
    "end": "1460799"
  },
  {
    "text": "Systems in the cloud so with that I have",
    "start": "1460799",
    "end": "1463320"
  },
  {
    "text": "uh time for questions and",
    "start": "1463320",
    "end": "1466559"
  }
]