[
  {
    "start": "0",
    "end": "83000"
  },
  {
    "text": "good morning everybody welcome to the last day of reinvent i'm glad so many of you made",
    "start": "1199",
    "end": "7040"
  },
  {
    "text": "the maybe sometimes tough decision to to get out of bed and come here this morning so thank you for coming here",
    "start": "7040",
    "end": "13040"
  },
  {
    "text": "today to to talk about the relational database service and take a deeper dive uh under the covers of of what RDS has",
    "start": "13040",
    "end": "19920"
  },
  {
    "text": "to offer my name is Scott Ward i'm a solution architect uh at AWS i work on the partner team um based out of Seattle",
    "start": "19920",
    "end": "27279"
  },
  {
    "text": "and I'm going to be joined here throughout the day by Katie Singh who's also a solution architect on the partner team and and based out of San",
    "start": "27279",
    "end": "35000"
  },
  {
    "text": "Francisco quick uh poll from the audience who here today is running RDS",
    "start": "35000",
    "end": "41040"
  },
  {
    "text": "using RDS okay who here today is running a relational database but on",
    "start": "41040",
    "end": "46920"
  },
  {
    "text": "EC2 okay and then who's looking to to migrate to RDS whether you're on EC2 or",
    "start": "46920",
    "end": "52239"
  },
  {
    "text": "not on EC2 in like the next 12 months okay cool i think we've got some content",
    "start": "52239",
    "end": "58160"
  },
  {
    "text": "in this presentation that's going to apply to to all three of those scenarios to kind of help you uh better understand",
    "start": "58160",
    "end": "63520"
  },
  {
    "text": "what RDS can can do and some of the ways that you can leverage and use RDS as a service we will um leave some time for",
    "start": "63520",
    "end": "71040"
  },
  {
    "text": "Q&A here today and if we if we burn through that time we'll happily stand down here and continue to answer further",
    "start": "71040",
    "end": "76560"
  },
  {
    "text": "questions at the end of the session",
    "start": "76560",
    "end": "80000"
  },
  {
    "start": "83000",
    "end": "83000"
  },
  {
    "text": "cool so this is a deep dive so we don't need to spend a lot of time on on the value prop of RDS but just very quickly",
    "start": "83119",
    "end": "89119"
  },
  {
    "text": "that there's no infrastructure management with RDS we take care of of ordering and managing the infrastructure",
    "start": "89119",
    "end": "95119"
  },
  {
    "text": "for that rds is very cost effective because it runs with a for the database instance with a pay as you go model and",
    "start": "95119",
    "end": "101840"
  },
  {
    "text": "you only pay for the amount of storage that you actually provision if you're using thirdparty applications",
    "start": "101840",
    "end": "107680"
  },
  {
    "text": "or or or if you've built your own custom applications that are using a relational database there's a very good chance that",
    "start": "107680",
    "end": "113119"
  },
  {
    "text": "they will continue to work against a database running on RDS you get instant provisioning with RDS so when you want a",
    "start": "113119",
    "end": "120799"
  },
  {
    "text": "new database with a few clicks of a button or or a command line call you have a database up and running and ready",
    "start": "120799",
    "end": "126240"
  },
  {
    "text": "for you to log into in just a few minutes and you can scale up and scale down with RDS you can resize your",
    "start": "126240",
    "end": "132080"
  },
  {
    "text": "database instance to get a appropriate configuration of of CPU and memory and",
    "start": "132080",
    "end": "137680"
  },
  {
    "text": "you don't have to worry about going and finding more infrastructure to support those scaling",
    "start": "137680",
    "end": "143200"
  },
  {
    "start": "143000",
    "end": "143000"
  },
  {
    "text": "efforts now RDS is a managed service so there are some trade-offs that go with",
    "start": "143239",
    "end": "148480"
  },
  {
    "text": "that managed service it's got a fully managed host and operating system so so the good thing is you don't have to burn",
    "start": "148480",
    "end": "155280"
  },
  {
    "text": "operational effort to actually manage those components but what it means is there that you know you don't get access",
    "start": "155280",
    "end": "161840"
  },
  {
    "text": "to that host operating system we we control that access so you're going to have some limited ability to maybe",
    "start": "161840",
    "end": "167400"
  },
  {
    "text": "modify configuration settings that you would normally go to the operating system and modify yourself and that may",
    "start": "167400",
    "end": "173680"
  },
  {
    "text": "mean that there's some some functions or or key functionality in the database that that maybe isn't available to you",
    "start": "173680",
    "end": "179200"
  },
  {
    "text": "we're working to bridge those gaps still uh as a service but but pay attention to those and make sure you look at those if",
    "start": "179200",
    "end": "184400"
  },
  {
    "text": "if you're just moving to RDS and then the storage is also fully managed with RDS once again you don't have the",
    "start": "184400",
    "end": "190879"
  },
  {
    "text": "operational um burden of having to deal with monitoring and and managing the",
    "start": "190879",
    "end": "196360"
  },
  {
    "text": "storage but because it's fully managed there's some limits if you're using Aurora you get 64 tabytes of storage",
    "start": "196360",
    "end": "202959"
  },
  {
    "text": "pretty good it could amount with Microsoft SQL Server you can have up to four terabytes of storage and with the",
    "start": "202959",
    "end": "209440"
  },
  {
    "text": "remaining engines you can have up to six terabytes of storage so what that means is that growing your database is a",
    "start": "209440",
    "end": "215440"
  },
  {
    "text": "process you have to make some decisions about how much storage you're going to provision and then you have to make some",
    "start": "215440",
    "end": "220640"
  },
  {
    "text": "decisions about when you're going to provision more storage and if you get to the end and you you've used up all the",
    "start": "220640",
    "end": "226239"
  },
  {
    "text": "storage available you have to make some more decisions about am I going to delete data am I going to archive data",
    "start": "226239",
    "end": "231840"
  },
  {
    "text": "do I need to come up with a sharding strategy in order to to create another database and continue to have enough storage available to support my",
    "start": "231840",
    "end": "238560"
  },
  {
    "text": "application this is a view of of all the RDS engines",
    "start": "238560",
    "end": "245200"
  },
  {
    "start": "242000",
    "end": "242000"
  },
  {
    "text": "that are that are out there today so on the commercial side we have Oracle and Microsoft SQL Server open source MySQL",
    "start": "245200",
    "end": "251040"
  },
  {
    "text": "Postgress and MariaB and then the cloudnative category we have Amazon Aurora which is supporting MySQL and now",
    "start": "251040",
    "end": "257440"
  },
  {
    "text": "as of Wednesday the Postgress uh version of Aurora as well who here is like really excited to get their hands on the",
    "start": "257440",
    "end": "264400"
  },
  {
    "text": "Postgress uh side yeah having done this talk several times throughout the year",
    "start": "264400",
    "end": "270400"
  },
  {
    "text": "like that is a very common question we got from customers it backs up a lot of what Andy said so very excited to see",
    "start": "270400",
    "end": "276080"
  },
  {
    "text": "what people can do with that when they get their hands on it",
    "start": "276080",
    "end": "281800"
  },
  {
    "text": "so security is a top priority at AWS and we take a lot of pride and we put make",
    "start": "282240",
    "end": "289280"
  },
  {
    "text": "it really job zero to ensure that our customers are are operating in as safe and secure an environment as possible",
    "start": "289280",
    "end": "296240"
  },
  {
    "text": "and so with that in mind there's a lot of different things you can do security-wise when it comes to RDS to",
    "start": "296240",
    "end": "301600"
  },
  {
    "text": "make sure that you're operating with the right security profile for you it starts out with a networking",
    "start": "301600",
    "end": "307680"
  },
  {
    "start": "306000",
    "end": "306000"
  },
  {
    "text": "that's uh tied to your database so as many of you know you know we have a virtual private cloud and when you",
    "start": "307680",
    "end": "313440"
  },
  {
    "text": "launch an RDS instance that that instance launches inside a virtual private cloud and with a virtual private",
    "start": "313440",
    "end": "318800"
  },
  {
    "text": "cloud you can define your own private network address space with inside the AWS cloud you can also carve that up",
    "start": "318800",
    "end": "325840"
  },
  {
    "text": "even further into different subnetss across different availability zones so when you've got your database up and",
    "start": "325840",
    "end": "332320"
  },
  {
    "text": "running and it's running inside your virtual private cloud lots of different ways that you can manage connectivity and control access into your database",
    "start": "332320",
    "end": "340000"
  },
  {
    "text": "you have AWS Direct Connect which will allow you to allow you to connect your your on-remise data center with an AWS",
    "start": "340000",
    "end": "346000"
  },
  {
    "text": "region for for a high-speed uh throughput you can create a VPN connection to have a secure tunnel",
    "start": "346000",
    "end": "352880"
  },
  {
    "text": "between your virtual private cloud and your data center or your corporate offices you could peer multiple VPCs",
    "start": "352880",
    "end": "359280"
  },
  {
    "text": "together either within an AWS account or cross different accounts so if you've got different databases or different",
    "start": "359280",
    "end": "364720"
  },
  {
    "text": "applications in other VPCs you can peer them with a VPC that's maybe hosting an RDS instance and still be able to access",
    "start": "364720",
    "end": "371800"
  },
  {
    "text": "them you have routing rules where you can define and decide how traffic's routed in your VPC and you can attach an",
    "start": "371800",
    "end": "378319"
  },
  {
    "text": "internet gateway to it to actually allow your database to have to be able to reach the the public internet if it needs",
    "start": "378319",
    "end": "384759"
  },
  {
    "text": "to building on that and going a step lower we have security groups around",
    "start": "384759",
    "end": "390240"
  },
  {
    "start": "385000",
    "end": "385000"
  },
  {
    "text": "your databases so this is a a virtual firewall around your database it's it's uh very similar to what we have in EC2",
    "start": "390240",
    "end": "397199"
  },
  {
    "text": "and it gives you the ability to define inbound and outbound traffic rules as far as what is allowed into your",
    "start": "397199",
    "end": "402639"
  },
  {
    "text": "database and what is allowed out and you can define that at the protocol the port and the source level and with the source",
    "start": "402639",
    "end": "409440"
  },
  {
    "text": "level you have a fair amount of flexibility you can define a single IP address you can define a range of IP",
    "start": "409440",
    "end": "414560"
  },
  {
    "text": "addresses or you could actually define another security group as the source so if you're running a multi-tiered",
    "start": "414560",
    "end": "421759"
  },
  {
    "text": "architecture with the database uh as part of that you can actually define the source as a security group of the tier",
    "start": "421759",
    "end": "429120"
  },
  {
    "text": "above your database that actually needs to talk to your database and so it allows you to to ensure that that the",
    "start": "429120",
    "end": "435440"
  },
  {
    "text": "components that need to talk to the database can but that other components or other users can't circumn your",
    "start": "435440",
    "end": "441199"
  },
  {
    "text": "security rules as far as uh how you actually want your database to be",
    "start": "441199",
    "end": "447120"
  },
  {
    "text": "accessed aws offers identity and access management as a service to control",
    "start": "447240",
    "end": "452479"
  },
  {
    "text": "access and permissions within your AWS account against the AWS services you're using and RDS is one of those services",
    "start": "452479",
    "end": "459759"
  },
  {
    "text": "you can certainly use AM against one of the key things to call out here though is that AM doesn't control who can log",
    "start": "459759",
    "end": "467440"
  },
  {
    "text": "in to your database you still need to focus on using the grants functionality that exists uh within your database",
    "start": "467440",
    "end": "474560"
  },
  {
    "text": "engine to define users and their passwords and and what access those users or the applications have within",
    "start": "474560",
    "end": "480960"
  },
  {
    "text": "your database identity and access management is going to control what you can do against the actual RDS service so",
    "start": "480960",
    "end": "488000"
  },
  {
    "text": "defining who can create a database who can modify the configuration of a",
    "start": "488000",
    "end": "493520"
  },
  {
    "text": "database as far as the service goes or or or delete a database from the RDS service and one of the cool things with",
    "start": "493520",
    "end": "499919"
  },
  {
    "text": "that is that besides monitoring you know controlling those types of permissions",
    "start": "499919",
    "end": "504960"
  },
  {
    "text": "if you're using tags on your RDS instance you can actually define access policies that that go down to the tag",
    "start": "504960",
    "end": "510479"
  },
  {
    "text": "level so if you want to say that a U support person can only maybe modify",
    "start": "510479",
    "end": "516240"
  },
  {
    "text": "development databases versus production databases you can actually go that fine grain of your policies around how you",
    "start": "516240",
    "end": "522560"
  },
  {
    "text": "you use and how people access the RDS service in your account",
    "start": "522560",
    "end": "529399"
  },
  {
    "start": "529000",
    "end": "529000"
  },
  {
    "text": "one of the reasons that people are so concerned or or focused on security when it comes to running on AWS is that they",
    "start": "529920",
    "end": "536399"
  },
  {
    "text": "have compliance needs that they need to meet so we have lots of different customers across the enterprise the the",
    "start": "536399",
    "end": "542720"
  },
  {
    "text": "public sector and the startup space who are operating in industries that require",
    "start": "542720",
    "end": "548480"
  },
  {
    "text": "that they meet certain requirements in order to be certified as as running you",
    "start": "548480",
    "end": "553519"
  },
  {
    "text": "know being allowed to run for that particular industry so what AWS has done is we've gone and we've worked with",
    "start": "553519",
    "end": "559920"
  },
  {
    "text": "these thirdparty organizations that you see here on the slide and we work with them to help them understand the RDS",
    "start": "559920",
    "end": "565600"
  },
  {
    "text": "service and make sure that it is running uh and meets or even potentially exceeds the requirements they have uh around how",
    "start": "565600",
    "end": "573360"
  },
  {
    "text": "the service needs to be operated and how it needs to be secured uh against their requirements and so what that means is",
    "start": "573360",
    "end": "579680"
  },
  {
    "text": "that you as a customer have the ability to run your applications on top of RDS",
    "start": "579680",
    "end": "585200"
  },
  {
    "text": "and achieve a compliance certification it doesn't mean that you don't have any responsibilities though your security",
    "start": "585200",
    "end": "591839"
  },
  {
    "text": "professionals they don't have to worry about the infrastructure and the RDS service but they still need to focus their time on your applications and",
    "start": "591839",
    "end": "599040"
  },
  {
    "text": "making sure that they're still compliant and they meet the requirements of the organization that that you're working with and you're then able to take the",
    "start": "599040",
    "end": "606640"
  },
  {
    "text": "thirdparty attestations that we can provide around how RDS is meeting the requirements of a particular compliance",
    "start": "606640",
    "end": "612880"
  },
  {
    "text": "organization you can marry that up with your audit findings from your application and have a complete view to",
    "start": "612880",
    "end": "618240"
  },
  {
    "text": "show that you are fully compliant with the industry uh or the organization that you're you're operating",
    "start": "618240",
    "end": "623959"
  },
  {
    "text": "against this is a view of of of what we have for compliance for each of the database engines today uh with the",
    "start": "623959",
    "end": "630640"
  },
  {
    "text": "newest one being uh Aurora having HIPPA BAA and Postgress SQL having HIPPA BAA",
    "start": "630640",
    "end": "636240"
  },
  {
    "text": "that was announced on Tuesday one clarification here the Aurora one currently only applies to the MySQL",
    "start": "636240",
    "end": "642800"
  },
  {
    "text": "compatible Aurora it does not apply to the Postgress Aurora yet uh and we're",
    "start": "642800",
    "end": "647839"
  },
  {
    "text": "are you know we're working to bridge the gap with all these engines to to help grow this list of compliance bodies that",
    "start": "647839",
    "end": "653360"
  },
  {
    "text": "that all the engines uh cover so over time you should expect to see this list to grow",
    "start": "653360",
    "end": "660600"
  },
  {
    "text": "some of these compliance organizations have requirements around protection and encryption of data some of them say that",
    "start": "661120",
    "end": "666959"
  },
  {
    "text": "you actually have to have your data encrypted in transit so with RDS you can actually enable SSL for all the RDS",
    "start": "666959",
    "end": "672880"
  },
  {
    "text": "engines to ensure that you have your data encrypted coming into and out of the database uh to help ensure that",
    "start": "672880",
    "end": "679360"
  },
  {
    "text": "you're meeting compliance requirements whether they be internal or external internal to ensure that your data is protected while it's in transit",
    "start": "679360",
    "end": "688279"
  },
  {
    "text": "another common thing that we see both for for internal and external compliance requirements is is the need to have data",
    "start": "688959",
    "end": "695360"
  },
  {
    "text": "protected and encrypted at rest so in general whenever possible at AWS we",
    "start": "695360",
    "end": "700640"
  },
  {
    "text": "recommend that customers encrypt their data wherever they can to help increase and secure uh their data and RDS",
    "start": "700640",
    "end": "707279"
  },
  {
    "text": "provides you a couple different ways that you can actually go through and implement this protection",
    "start": "707279",
    "end": "713279"
  },
  {
    "start": "713000",
    "end": "713000"
  },
  {
    "text": "if you're using Oracle or or SQL Server and you want to use or are using transparent data encryption you can",
    "start": "713279",
    "end": "719600"
  },
  {
    "text": "actually take and implement that functionality on an RDS database on the Oracle side you get the",
    "start": "719600",
    "end": "726079"
  },
  {
    "text": "extra ability to actually take and store your keys in a cloud HSM module as opposed to uh just sitting there on the",
    "start": "726079",
    "end": "732880"
  },
  {
    "text": "database server so if you have some requirements or or would like to use an HSM as part of your implementation you",
    "start": "732880",
    "end": "738959"
  },
  {
    "text": "can do that with the Oracle implementation then for all the engines that that RDS",
    "start": "738959",
    "end": "745040"
  },
  {
    "text": "supports you can also implement at rest encryption using the AWS key management service so the key management service is",
    "start": "745040",
    "end": "751839"
  },
  {
    "text": "an AWS managed service that takes care of all of the scalability durability",
    "start": "751839",
    "end": "757399"
  },
  {
    "text": "reliability key rotation key deletion key creation that you might expect from",
    "start": "757399",
    "end": "762880"
  },
  {
    "text": "from a normal key management service and it allows you to focus on building your applications and integrating with the",
    "start": "762880",
    "end": "768880"
  },
  {
    "text": "database without having to uh invest all the operational overhead and design of",
    "start": "768880",
    "end": "774000"
  },
  {
    "text": "actually creating your own key management service it gives you protection in RDS",
    "start": "774000",
    "end": "779839"
  },
  {
    "text": "of the underlying storage that's holding your database or data uh it also actually provides protection for the",
    "start": "779839",
    "end": "787120"
  },
  {
    "text": "automated backups that RDS gives you for the read replicas that you can implement with RDS and for the snapshots that you",
    "start": "787120",
    "end": "794320"
  },
  {
    "text": "might create against your database those will also all be encrypted kms uses industry standard AES",
    "start": "794320",
    "end": "800680"
  },
  {
    "text": "256-bit encryption and turning on and enabling encryption within RDS using KMS is very",
    "start": "800680",
    "end": "807440"
  },
  {
    "text": "straightforward when you're uh in the management console there's one drop down that's uh enable encryption you choose",
    "start": "807440",
    "end": "812880"
  },
  {
    "text": "yes or no if you choose yes and you do nothing else the RDS service will create",
    "start": "812880",
    "end": "818800"
  },
  {
    "text": "a service key in your account with key management service and that key is tied",
    "start": "818800",
    "end": "824560"
  },
  {
    "text": "and owned by your account it is not uh does not live in another AWS account it's not owned by somebody else it is",
    "start": "824560",
    "end": "830480"
  },
  {
    "text": "tied to your account you have full ownership of it that key is then used to vend up data keys that are used to",
    "start": "830480",
    "end": "837279"
  },
  {
    "text": "encrypt and protect your databases and each database would get its own data key so each database would running be",
    "start": "837279",
    "end": "842639"
  },
  {
    "text": "running with its own encryption key when you go in and you launch a",
    "start": "842639",
    "end": "847680"
  },
  {
    "text": "database instance here's what happens is the the RDS service is going to stand up and and create the actual database",
    "start": "847680",
    "end": "853360"
  },
  {
    "text": "instance it's going to see that you've enabled key management and encryption it's going to reach out to the KMS",
    "start": "853360",
    "end": "859360"
  },
  {
    "text": "service and say \"Hey I'd like to use this key.\" KMS is going to verify that that database actually has permission to",
    "start": "859360",
    "end": "866720"
  },
  {
    "text": "use that master key when it verifies that and it and it's all good it will then back a data key to the RDS service",
    "start": "866720",
    "end": "874720"
  },
  {
    "text": "it will store that key in memory the database instance and it will then use that key to to encrypt and decrypt your",
    "start": "874720",
    "end": "881079"
  },
  {
    "text": "data as you are using the database an important thing to call out here is that I talked about the the the service key",
    "start": "881079",
    "end": "888240"
  },
  {
    "text": "that you get in KMS if you want to actually use a different key you can actually either use KMS to create your",
    "start": "888240",
    "end": "894639"
  },
  {
    "text": "own master key or if you have a key that you've been using you can actually import that key into KMS and you can",
    "start": "894639",
    "end": "901600"
  },
  {
    "text": "actually choose to use those keys instead of the service key if you'd like to when you're encrypting your",
    "start": "901600",
    "end": "907720"
  },
  {
    "text": "database so I talked about how you know how how it is when you actually enable encryption this is a screenshot of the",
    "start": "907720",
    "end": "913519"
  },
  {
    "start": "908000",
    "end": "908000"
  },
  {
    "text": "management console in the in the upper right you can see there's just that dropdown of the yes option for enabling",
    "start": "913519",
    "end": "919160"
  },
  {
    "text": "encryption the default there once again that AWSRDS that's the uh service specific",
    "start": "919160",
    "end": "925000"
  },
  {
    "text": "key or you can enter the Amazon resource name of a different key that you'd like to use that's in your account for",
    "start": "925000",
    "end": "931560"
  },
  {
    "text": "encryption it's also very straightforward to actually enable this at the command line if you're doing some automation around how you create your",
    "start": "931560",
    "end": "938079"
  },
  {
    "text": "databases so there's one extra parameter called storage encrypted that one will use the default service key and if you",
    "start": "938079",
    "end": "945760"
  },
  {
    "text": "want to use a specific key you you use the storage encrypted option along with the key ID of the key that you'd like to",
    "start": "945760",
    "end": "951920"
  },
  {
    "text": "use from KMS so when you're using RDS and KMS",
    "start": "951920",
    "end": "958399"
  },
  {
    "text": "together there's a couple of uh hints that I'd like to make sure you're aware of you can only encrypt when you",
    "start": "958399",
    "end": "964000"
  },
  {
    "text": "actually create a new database so if the database is already up and running you can't actually just turn encryption on",
    "start": "964000",
    "end": "969759"
  },
  {
    "text": "and once the database is on up and running and you have encryption turned on you can't turn encryption off your",
    "start": "969759",
    "end": "975600"
  },
  {
    "text": "master and your read replica must be encrypted and the RDS service actually takes care of that for you so if you've",
    "start": "975600",
    "end": "980639"
  },
  {
    "text": "already encrypted your master database and you go and create another read replica it the service will automatically enable encryption for that",
    "start": "980639",
    "end": "986959"
  },
  {
    "text": "read replica as well if you have any unencrypted snapshot shot sitting around you can",
    "start": "986959",
    "end": "992639"
  },
  {
    "text": "actually use them to create encrypted databases so if you have an Aurora snapshot that's unencrypted when you use",
    "start": "992639",
    "end": "999120"
  },
  {
    "text": "that snapshot to create a new database cluster there's actually now an option to choose that you want that database",
    "start": "999120",
    "end": "1004959"
  },
  {
    "text": "encrypted and you can provide the right key that you want to use and you now have an encrypted Aurora database if you",
    "start": "1004959",
    "end": "1010240"
  },
  {
    "text": "have a snapshot that's unencrypted for any of the other engines you can actually take that snapshot use the copy",
    "start": "1010240",
    "end": "1016160"
  },
  {
    "text": "snapshot functionality and during that copy process you can actually choose that you want to have encryption for",
    "start": "1016160",
    "end": "1022000"
  },
  {
    "text": "that new snapshot choose the key you want to use and then you can take that new snapshot to actually launch a new",
    "start": "1022000",
    "end": "1027760"
  },
  {
    "text": "database instance you now have a encrypted database running as well you currently can't take a MySQL encrypted",
    "start": "1027760",
    "end": "1034640"
  },
  {
    "text": "snapshot and use it to create an Aurora instance and you can't use an Aurora encrypted snapshot to create a MySQL",
    "start": "1034640",
    "end": "1040160"
  },
  {
    "text": "instance in RDS and you can't take any encrypted snapshots and copy them to an",
    "start": "1040160",
    "end": "1045199"
  },
  {
    "text": "different AWS region right now and we can't um you can't do any read replica rep um in other regions if you're using",
    "start": "1045199",
    "end": "1052240"
  },
  {
    "text": "an encrypted snap an encrypted database at this point that's a very common ask from our customers to be able to solve",
    "start": "1052240",
    "end": "1057600"
  },
  {
    "text": "the product teams I'm sure are are working on that and trying to find uh the right way to make that",
    "start": "1057600",
    "end": "1062760"
  },
  {
    "text": "possible with that I'd like to hand it over to KD for just a little bit uh and I'll be back a little",
    "start": "1062760",
    "end": "1069360"
  },
  {
    "text": "later thank you Scott",
    "start": "1072120",
    "end": "1076520"
  },
  {
    "text": "so monitoring your database to see how it's performing to track some key",
    "start": "1079760",
    "end": "1085799"
  },
  {
    "text": "metrics to know that these key metrics are within bound to get notified if some",
    "start": "1085799",
    "end": "1090960"
  },
  {
    "text": "of these metrics get out of bound and hopefully to automate if something bad",
    "start": "1090960",
    "end": "1096000"
  },
  {
    "text": "happens because these metrics are out of bound are all critical parts of managing a database",
    "start": "1096000",
    "end": "1101440"
  },
  {
    "text": "these metrics are also important in Aurora for uh in in RDS for scaling operations as well so let's look at some",
    "start": "1101440",
    "end": "1108240"
  },
  {
    "text": "of the metrics and monitoring lead features that RDS offers to you for anyone that is using",
    "start": "1108240",
    "end": "1115480"
  },
  {
    "start": "1111000",
    "end": "1111000"
  },
  {
    "text": "RDS we offer to you around 15 to 18 different metrics the number of metrics",
    "start": "1115480",
    "end": "1121120"
  },
  {
    "text": "depends on the database instance size that you're using rds passes all the",
    "start": "1121120",
    "end": "1126480"
  },
  {
    "text": "information required for this matrix uh to the Amazon cloudatch service and once",
    "start": "1126480",
    "end": "1131679"
  },
  {
    "text": "it's with cloudatch you are able to review these matrix from the monitoring tab within RDS console from within the",
    "start": "1131679",
    "end": "1139280"
  },
  {
    "text": "cloudatch console itself or through cloudatch APIs you get these inter these metrics",
    "start": "1139280",
    "end": "1145440"
  },
  {
    "text": "at one minute intervals uh you get these inter these metrics in a nice graphical format you can see single graphs",
    "start": "1145440",
    "end": "1152400"
  },
  {
    "text": "multiple graphs or you can use the Cloudatch APIs to bring all this data into your own logging and monitoring",
    "start": "1152400",
    "end": "1159320"
  },
  {
    "text": "tools when you get this metric you also have the ability to set up Cloudatch alarms what that means is you set up",
    "start": "1159320",
    "end": "1166480"
  },
  {
    "text": "thresholds on these metrics that are meaningful to you if the threshold is exceeded because of any reason you'll",
    "start": "1166480",
    "end": "1174160"
  },
  {
    "text": "get notified and you can use services like Amazon SNS to take automated actions in case the threshold is",
    "start": "1174160",
    "end": "1181120"
  },
  {
    "text": "exceeded as well when it comes to monitoring your databases there might be a lot of",
    "start": "1181120",
    "end": "1188960"
  },
  {
    "start": "1183000",
    "end": "1183000"
  },
  {
    "text": "metrics at the host and operating system level that you might want to track and monitor in RDS you are you don't have",
    "start": "1188960",
    "end": "1196640"
  },
  {
    "text": "the ability to log into the host you don't have access to the uh to the host operating system as well so to provide",
    "start": "1196640",
    "end": "1203919"
  },
  {
    "text": "you insights related to uh to the host and the host operating system we offer",
    "start": "1203919",
    "end": "1209039"
  },
  {
    "text": "enhanced monitoring enhanced monitoring provides you about 50 additional metrics",
    "start": "1209039",
    "end": "1214640"
  },
  {
    "text": "that you can track they are also provided to you via cloudatch uh you can",
    "start": "1214640",
    "end": "1220000"
  },
  {
    "text": "choose the latency at which these enhanced monitoring metrics are provided to you default is 60 seconds but you can",
    "start": "1220000",
    "end": "1226320"
  },
  {
    "text": "make it as small as 1 second if you want with enhanced monitoring some of the things that you're able to get to are",
    "start": "1226320",
    "end": "1232799"
  },
  {
    "text": "things like free memory used memory uh amount of file system that we have",
    "start": "1232799",
    "end": "1237919"
  },
  {
    "text": "already ended up using as well so you might be wondering what's the difference between the basic",
    "start": "1237919",
    "end": "1245120"
  },
  {
    "text": "monitoring the standard monitoring and enhanced monitoring why are they different",
    "start": "1245120",
    "end": "1250159"
  },
  {
    "text": "to provide to you the standard monitoring metrics hypervisor is used whatever the hypervisor is able to see",
    "start": "1250159",
    "end": "1257280"
  },
  {
    "text": "is whatever is offered to you uh via the standard monitoring but hypervisor is not able to",
    "start": "1257280",
    "end": "1263360"
  },
  {
    "text": "get to all the information in the host and the host operating system it has a limited functionality so to provide",
    "start": "1263360",
    "end": "1268960"
  },
  {
    "text": "enhanced monitoring metrics we actually run a lightweight agent on the host itself the host which is hosting your",
    "start": "1268960",
    "end": "1275280"
  },
  {
    "text": "RDS instance and this agent is able to collect all the information and provide",
    "start": "1275280",
    "end": "1280400"
  },
  {
    "text": "it to enhanced monitoring which we provided to you along with the uh Postgress SQL",
    "start": "1280400",
    "end": "1288000"
  },
  {
    "text": "edition of Aurora we are also announcing a new monitoring feature within RDS",
    "start": "1288000",
    "end": "1294080"
  },
  {
    "text": "which is called performance insights the goal of performance insights is to",
    "start": "1294080",
    "end": "1299360"
  },
  {
    "text": "provide customers with a intuitive graphical interface that helps them",
    "start": "1299360",
    "end": "1304640"
  },
  {
    "text": "determine where the performance bottleneck lie and where they should",
    "start": "1304640",
    "end": "1309919"
  },
  {
    "text": "take some action a lot of u detailed information",
    "start": "1309919",
    "end": "1315280"
  },
  {
    "text": "is is gathered by lightweight mechanism and we offer this information to you for",
    "start": "1315280",
    "end": "1320880"
  },
  {
    "text": "up to the last 35 uh days uh so it's difficult to see this uh graph right",
    "start": "1320880",
    "end": "1326960"
  },
  {
    "text": "here but uh the act if you the y-axis on this graph is the CPU load and the and",
    "start": "1326960",
    "end": "1334320"
  },
  {
    "text": "the orange and the blue lines you see are SQL queries so looking at this graph you can quickly narrow down the areas",
    "start": "1334320",
    "end": "1341600"
  },
  {
    "text": "where the performance bottlenecks are and review which SQL statements are actually causing all that bottleneck so",
    "start": "1341600",
    "end": "1347360"
  },
  {
    "text": "now you are quickly able to determine that and and you have the ability to act on that after that",
    "start": "1347360",
    "end": "1353120"
  },
  {
    "text": "this would be a free free feature it's going to get rolled uh rolled out in phases throughout 2017 started with the",
    "start": "1353120",
    "end": "1359760"
  },
  {
    "text": "postgress edition of",
    "start": "1359760",
    "end": "1362880"
  },
  {
    "text": "Aurora when we are designing an application it's an application stack we",
    "start": "1365080",
    "end": "1370159"
  },
  {
    "text": "have to make sure that each layer or each tier in that application stack is highly available otherwise the complete",
    "start": "1370159",
    "end": "1377120"
  },
  {
    "text": "application will not be highly available for example if you design the application portion to be HA but the",
    "start": "1377120",
    "end": "1383280"
  },
  {
    "text": "database is not you'll still see a downtime in case something bad happens with the database",
    "start": "1383280",
    "end": "1390120"
  },
  {
    "text": "u so when we talk about high availability with RDS we are talking about the",
    "start": "1390120",
    "end": "1395559"
  },
  {
    "text": "ability for you to fail over in case something bad happens with your primary",
    "start": "1395559",
    "end": "1400640"
  },
  {
    "text": "instance or the ability for you to use another database instance in case something bad happens with the primary",
    "start": "1400640",
    "end": "1406720"
  },
  {
    "text": "instance so there are a few features that RDS offers uh for high availability",
    "start": "1406720",
    "end": "1411840"
  },
  {
    "text": "let's look at them let's start with something simple let's say that you are launching a new",
    "start": "1411840",
    "end": "1418159"
  },
  {
    "text": "RDS instance uh you choose the region you want to work in uh you choose the VPC where you want to deploy this RDS",
    "start": "1418159",
    "end": "1425360"
  },
  {
    "text": "instance in case you are using a single a configuration uh you'll choose the",
    "start": "1425360",
    "end": "1430559"
  },
  {
    "text": "availability zone point to the subnet where you want to launch it and then you are able to uh launch your RDS instance",
    "start": "1430559",
    "end": "1437520"
  },
  {
    "text": "in a single availability zone configuration now this configuration is just fine if you're taking the tires",
    "start": "1437520",
    "end": "1442960"
  },
  {
    "text": "you're testing things out uh developing something for example but when it comes to running production uh databases the",
    "start": "1442960",
    "end": "1451600"
  },
  {
    "start": "1448000",
    "end": "1448000"
  },
  {
    "text": "best practice is to configure your RDS instance in a multi-AZ configuration",
    "start": "1451600",
    "end": "1458240"
  },
  {
    "text": "when you launch a new RDS instance in a multi-AZ configuration or you modify an",
    "start": "1458240",
    "end": "1463279"
  },
  {
    "text": "existing single A RDS instance into multi-AZ what RDS does is it launches a",
    "start": "1463279",
    "end": "1471960"
  },
  {
    "text": "standby replica of your primary instance in a different availability zone within the same region and after launching it",
    "start": "1471960",
    "end": "1479679"
  },
  {
    "text": "it's going to synchronously replicate data between your primary node and your standby node so it is this is",
    "start": "1479679",
    "end": "1487200"
  },
  {
    "text": "synchronous which means that any transactions are are simultaneously provided to both the primary as well as",
    "start": "1487200",
    "end": "1494679"
  },
  {
    "text": "the standby one of the key features this multi-AZ configuration provides to you it it",
    "start": "1494679",
    "end": "1501520"
  },
  {
    "text": "gives you higher durability higher availability but it also gives you gives RDS the ability to provide to you",
    "start": "1501520",
    "end": "1507760"
  },
  {
    "text": "automated failover in case there is something wrong with the primary database in",
    "start": "1507760",
    "end": "1513840"
  },
  {
    "text": "instance whether at the compute layer or at the storage layer or the primary availability zone has any issues or",
    "start": "1513840",
    "end": "1520559"
  },
  {
    "text": "there is network connectivity issue to that primary a RDS will automatically flail it over to",
    "start": "1520559",
    "end": "1527559"
  },
  {
    "text": "the to the standby and promote it to be the new master to do this failover which",
    "start": "1527559",
    "end": "1533840"
  },
  {
    "text": "is automated the CNAME record of your of your master instance the DB endpoint is",
    "start": "1533840",
    "end": "1540240"
  },
  {
    "text": "flipped over to the standby and then that standby is is promoted so this DNS",
    "start": "1540240",
    "end": "1545600"
  },
  {
    "text": "failover typically takes anywhere from 30 seconds to 2 minutes uh to happen um",
    "start": "1545600",
    "end": "1551520"
  },
  {
    "text": "one of the uh cool features is that all of this is automated uh since the endpoint itself does not change you",
    "start": "1551520",
    "end": "1557919"
  },
  {
    "text": "don't have to make any changes uh to your applications as soon as the standby",
    "start": "1557919",
    "end": "1563440"
  },
  {
    "text": "is promoted it can keep using uh the database just like it was",
    "start": "1563440",
    "end": "1569919"
  },
  {
    "text": "using another related concept is that of aility",
    "start": "1570840",
    "end": "1576080"
  },
  {
    "text": "in case your primary database has uh performance issues",
    "start": "1576080",
    "end": "1581279"
  },
  {
    "text": "because there are a lot of reads and writes happening to scale the read capability",
    "start": "1581279",
    "end": "1586640"
  },
  {
    "text": "of your you can actually do two things one is you can just scale up your primary database uh you just get a",
    "start": "1586640",
    "end": "1592960"
  },
  {
    "text": "bigger RDS instance but you can also scale out uh the read capability of your",
    "start": "1592960",
    "end": "1599120"
  },
  {
    "text": "database by launching more read replicas and then the read portions of your applications can point to these read",
    "start": "1599120",
    "end": "1605360"
  },
  {
    "text": "replicas and the master is offloaded with the work of just just doing read transactions so it helps you scale the",
    "start": "1605360",
    "end": "1611919"
  },
  {
    "text": "performance of your database with the MySQL Mariab Postgress",
    "start": "1611919",
    "end": "1617440"
  },
  {
    "text": "and Aurora database engines you can launch these read replicas within the",
    "start": "1617440",
    "end": "1622640"
  },
  {
    "text": "region or across regions as well now if you're launching across regions that",
    "start": "1622640",
    "end": "1628559"
  },
  {
    "text": "gives you a couple of cool capabilities the first is that if you have a globally distributed application if your reads",
    "start": "1628559",
    "end": "1635679"
  },
  {
    "text": "are are local or closer to where your application is sitting the performance is going to be better and the other cool",
    "start": "1635679",
    "end": "1641600"
  },
  {
    "text": "feature is that it's a good tool for you to have when you're designing disaster recovery type solutions because these",
    "start": "1641600",
    "end": "1647120"
  },
  {
    "text": "read replicas can also be u used to fail over and and become a master as well you",
    "start": "1647120",
    "end": "1653440"
  },
  {
    "text": "can get masters out of these aurora is designed differently um",
    "start": "1653440",
    "end": "1660400"
  },
  {
    "start": "1656000",
    "end": "1656000"
  },
  {
    "text": "so I'm going to spend a couple of minutes talking about how HA works with Aurora aurora uses decoupling and",
    "start": "1660400",
    "end": "1667640"
  },
  {
    "text": "serviceoriented architecture techniques to break out database functionality into",
    "start": "1667640",
    "end": "1672880"
  },
  {
    "text": "different smaller services logging and uh storage in Aurora is a different",
    "start": "1672880",
    "end": "1679120"
  },
  {
    "text": "service caching is another service i'm not going to get into caching right here going to just talk about the storage",
    "start": "1679120",
    "end": "1684799"
  },
  {
    "text": "tier here within Aurora storage is handled by six different storage nodes",
    "start": "1684799",
    "end": "1690960"
  },
  {
    "text": "these six different storage nodes are across three different availability zones in a region so you get a lot a lot",
    "start": "1690960",
    "end": "1697520"
  },
  {
    "text": "more uh durability and availability this way and these six different storage",
    "start": "1697520",
    "end": "1702960"
  },
  {
    "text": "nodes are on a peer-to-peer gossip network and they talk to each other to come up to speed and they use a quorum",
    "start": "1702960",
    "end": "1710240"
  },
  {
    "text": "system if four of these six storage nodes says that they acknowledge a right then the right is committed uh so this",
    "start": "1710240",
    "end": "1716880"
  },
  {
    "text": "makes Aurora performance very fast another cool feature here is that these storage nodes continuously and",
    "start": "1716880",
    "end": "1723279"
  },
  {
    "text": "incrementally back up your data to S3 and S3 as we know is designed for 11 lines of durability the key thing here",
    "start": "1723279",
    "end": "1730240"
  },
  {
    "text": "is continuously and incrementally you don't have to",
    "start": "1730240",
    "end": "1737039"
  },
  {
    "text": "schedule you don't have to uh schedule these backups at all and at the database",
    "start": "1737399",
    "end": "1742880"
  },
  {
    "text": "tier within Aurora you can spin up to 15 different read replicas these different",
    "start": "1742880",
    "end": "1748960"
  },
  {
    "text": "15 different read replicas can be in different availability zones in this example I'm showing three A's one is the",
    "start": "1748960",
    "end": "1754880"
  },
  {
    "text": "primary node or the master node and then we have two different read replicas the cool thing about these read",
    "start": "1754880",
    "end": "1761360"
  },
  {
    "text": "replicas is that they offload read uh load from your database just like in in",
    "start": "1761360",
    "end": "1766640"
  },
  {
    "text": "other RDS database engines but these read replicas are also failover targets",
    "start": "1766640",
    "end": "1771840"
  },
  {
    "text": "one of these read replicas can be promoted to be the master or any of these can be promoted to be the master",
    "start": "1771840",
    "end": "1778480"
  },
  {
    "text": "in case something bad happens with the master node now which one is going to get promoted depends on the priority you",
    "start": "1778480",
    "end": "1784559"
  },
  {
    "text": "assign and these read replicas can be of different sizes these can be different size instances so you can choose if my",
    "start": "1784559",
    "end": "1790720"
  },
  {
    "text": "master running in a Z A goes down promote my read replica sitting in a Z3",
    "start": "1790720",
    "end": "1797360"
  },
  {
    "text": "which is the same size to be the new master so and this uh failover is quite fast as",
    "start": "1797360",
    "end": "1804039"
  },
  {
    "text": "well with that uh I'm going to hand it over to Scott and I'll be back to uh at",
    "start": "1804039",
    "end": "1809279"
  },
  {
    "text": "then to conclude this presentation",
    "start": "1809279",
    "end": "1813159"
  },
  {
    "text": "great thank you so scaling your database to to keep up with demand uh is an",
    "start": "1815120",
    "end": "1822320"
  },
  {
    "text": "important part of of operating your overall application or your workload and",
    "start": "1822320",
    "end": "1828000"
  },
  {
    "text": "as you if you recall on one of the earlier slides I talked about the you know one of the key value props of RDS",
    "start": "1828000",
    "end": "1834240"
  },
  {
    "text": "is the ability to actually be able to to to scale up and scale down actually quite easily so I'm going to dive a",
    "start": "1834240",
    "end": "1840640"
  },
  {
    "text": "little bit deeper into what are some of the things you can do around scaling when it comes to",
    "start": "1840640",
    "end": "1847759"
  },
  {
    "start": "1849000",
    "end": "1849000"
  },
  {
    "text": "RDS so why why would we scale why do people want to scale first natural one is just being",
    "start": "1849159",
    "end": "1856320"
  },
  {
    "text": "able to handle changes in load over time being able to handle a higher load or",
    "start": "1856320",
    "end": "1863120"
  },
  {
    "text": "even lower load to ensure that you're able to provide the proper level of service to your internal or external",
    "start": "1863120",
    "end": "1869440"
  },
  {
    "text": "customers and also be able to control costs you you want to be able to just",
    "start": "1869440",
    "end": "1874559"
  },
  {
    "text": "naturally grow over time maybe you you want to launch a database to support an application that you're you're having in",
    "start": "1874559",
    "end": "1881080"
  },
  {
    "text": "beta and then you gradually roll it out to more users whether it be internal or external and that's going to naturally",
    "start": "1881080",
    "end": "1887120"
  },
  {
    "text": "drive more usage on your database and you're going to want to grow it up but maybe you don't want to provision and pay for the the largest database you",
    "start": "1887120",
    "end": "1893679"
  },
  {
    "text": "think you'll need right at the very start and then another note on",
    "start": "1893679",
    "end": "1899600"
  },
  {
    "text": "controlling costs you know all of this has kind of a a supporting your users and controlling costs aspect to it but",
    "start": "1899600",
    "end": "1905760"
  },
  {
    "text": "what if you could actually have the ability to if you have a database let's",
    "start": "1905760",
    "end": "1910799"
  },
  {
    "text": "say it's very heavily used Monday through Friday and on the weekends it's it's hardly ever used at all uh it's way",
    "start": "1910799",
    "end": "1917600"
  },
  {
    "text": "overprovisioned for the weekends another interesting idea around controlling costs when it comes to",
    "start": "1917600",
    "end": "1923120"
  },
  {
    "text": "scaling is what if I could actually take my database and scale it down Friday night to a minimum size that's",
    "start": "1923120",
    "end": "1930159"
  },
  {
    "text": "appropriate for the weekend so the database is still up and and it can be accessed if needed but I'm not having to pay for this this way overprovisioned",
    "start": "1930159",
    "end": "1937120"
  },
  {
    "text": "database during the weekend and then I could scale it up Monday morning before everybody comes in uh and have the",
    "start": "1937120",
    "end": "1942880"
  },
  {
    "text": "database happen up and running at at the size that's necessary uh for the for the weekday and I've been able to kind of",
    "start": "1942880",
    "end": "1949519"
  },
  {
    "text": "use the scaling process to actually help control my costs a little bit while still being able to provide the right",
    "start": "1949519",
    "end": "1954720"
  },
  {
    "text": "level of service to my end users so when you're on RDS there's a",
    "start": "1954720",
    "end": "1960960"
  },
  {
    "start": "1958000",
    "end": "1958000"
  },
  {
    "text": "few different things that you can scale one is the master database instance",
    "start": "1960960",
    "end": "1966000"
  },
  {
    "text": "itself and you can scale that vertically you can make it bigger or smaller changing the uh the amount of CPU and",
    "start": "1966000",
    "end": "1972880"
  },
  {
    "text": "memory that you're using for that database you can also scale your read replicas you can once again scale them",
    "start": "1972880",
    "end": "1979120"
  },
  {
    "text": "vertically to get them bigger or smaller but you can also do some horizontal scaling with your read replicas you can",
    "start": "1979120",
    "end": "1984720"
  },
  {
    "text": "actually add more read replicas to your to work with your",
    "start": "1984720",
    "end": "1990240"
  },
  {
    "text": "master database if you need to if you're getting a lot of demand on your read",
    "start": "1990240",
    "end": "1995399"
  },
  {
    "text": "replicas you can also do some scaling with the storage that's provided on RDS now the thing to keep in mind this is",
    "start": "1995399",
    "end": "2002240"
  },
  {
    "text": "not uh there's not as much flexibility that comes with the storage scaling as you might see with the read replicas of",
    "start": "2002240",
    "end": "2007840"
  },
  {
    "text": "the database instance uh and it takes time you can actually provision a certain amount of storage on RDS for for",
    "start": "2007840",
    "end": "2014640"
  },
  {
    "text": "all the non- Aurora engines and then watch that and you can you can scale and add more storage over time to your",
    "start": "2014640",
    "end": "2021919"
  },
  {
    "text": "database so you're only paying for what you need as you need it but that process can take up to 24 hours for the RDS",
    "start": "2021919",
    "end": "2027840"
  },
  {
    "text": "service to actually get the new amount of storage provisioned and you may see a",
    "start": "2027840",
    "end": "2032960"
  },
  {
    "text": "little bit of performance impact on your database while that's happening you can also scale up and down the IOPS that you",
    "start": "2032960",
    "end": "2039600"
  },
  {
    "text": "have provisioned to your database if you're using provisioned IOPS storage but once again that that requires a",
    "start": "2039600",
    "end": "2045440"
  },
  {
    "text": "little thought and planning around when you'd want to do it and it takes time for the RDS service to actually",
    "start": "2045440",
    "end": "2050480"
  },
  {
    "text": "implement that uh and get it to the levels that you need so it can be done but you need to have a little bit more",
    "start": "2050480",
    "end": "2056000"
  },
  {
    "text": "planning and patience when it comes to scaling around the storage katie mentioned a few minutes",
    "start": "2056000",
    "end": "2063040"
  },
  {
    "text": "ago about the the read replicas that Aurora offers and in the last couple months Aurora's offered has released a",
    "start": "2063040",
    "end": "2069280"
  },
  {
    "text": "very cool feature called read replica endpoints so prior to this with each read replica that you created in Aurora",
    "start": "2069280",
    "end": "2076079"
  },
  {
    "text": "you would have a separate endpoint for all of those read replicas so if you had 15 read replicas as part of your",
    "start": "2076079",
    "end": "2083040"
  },
  {
    "text": "cluster you'd have 15 different endpoints that you need to manage and make sure that you're getting out to the",
    "start": "2083040",
    "end": "2088158"
  },
  {
    "text": "right people and know who has access to those endpoints so with read replica endpoints with your Aurora cluster now",
    "start": "2088159",
    "end": "2094800"
  },
  {
    "text": "you get one readonly endpoint that covers all of your read replicas so if you have one read replica you have 15",
    "start": "2094800",
    "end": "2101200"
  },
  {
    "text": "it's the same endpoint if you've used you know elastic load balancing in EC2 it's a very similar concept so now you",
    "start": "2101200",
    "end": "2108240"
  },
  {
    "text": "have the ability to scale your read replicas to to meet demand scale them",
    "start": "2108240",
    "end": "2113359"
  },
  {
    "text": "vertically or horizontally while never having to worry about dishing out or or or reclaiming endpoints from end users",
    "start": "2113359",
    "end": "2121440"
  },
  {
    "text": "or applications who are using your read replica for your",
    "start": "2121440",
    "end": "2127760"
  },
  {
    "text": "database scaling's got just a few steps that go with it and we're going to focus on the master database instance in this",
    "start": "2127960",
    "end": "2134640"
  },
  {
    "start": "2128000",
    "end": "2128000"
  },
  {
    "text": "case but this is just some screenshots from the management console if you're going to make a scaling a sizing change",
    "start": "2134640",
    "end": "2140000"
  },
  {
    "text": "to your database go to the instance actions options choose the modify option choose the new database",
    "start": "2140000",
    "end": "2147200"
  },
  {
    "text": "instance size that you want and then at the very bottom of the screen there's",
    "start": "2147200",
    "end": "2152560"
  },
  {
    "text": "this apply immediately check box if you don't check that the RDS service will do",
    "start": "2152560",
    "end": "2158720"
  },
  {
    "text": "the modification but it will do it during your scheduled maintenance window that you've defined for your RDS",
    "start": "2158720",
    "end": "2165560"
  },
  {
    "text": "instance i've I've missed this before and I've sat there watching waiting for it to switch to modified it never",
    "start": "2165560",
    "end": "2171560"
  },
  {
    "text": "does if you want that change to happen right away make sure you're checking that apply immediately option and the",
    "start": "2171560",
    "end": "2177839"
  },
  {
    "text": "RDS service will start the modifications as soon as you commit this uh commit this change",
    "start": "2177839",
    "end": "2184640"
  },
  {
    "start": "2184000",
    "end": "2184000"
  },
  {
    "text": "so we talk about scaling let's walk through what happens when you're running a single",
    "start": "2184640",
    "end": "2190560"
  },
  {
    "text": "availability zone or or a multi- availability zone configuration so if you're running single availability zone",
    "start": "2190560",
    "end": "2195920"
  },
  {
    "text": "and you decide that you want to resize your master database instance you've done all the work you've checked apply",
    "start": "2195920",
    "end": "2202200"
  },
  {
    "text": "immediately the RDS service is actually going to take the existing database out",
    "start": "2202200",
    "end": "2207520"
  },
  {
    "text": "of service and then resize it and during that period of time you will",
    "start": "2207520",
    "end": "2214640"
  },
  {
    "text": "not be able to use the DNS endpoint that comes with your RDS instance to be able to connect to your master database it",
    "start": "2214640",
    "end": "2220079"
  },
  {
    "text": "will not be accessible again until the RDS service has completed resizing your database and bringing it back",
    "start": "2220079",
    "end": "2225880"
  },
  {
    "text": "online this is a screenshot of an example of the events that the RDS service sends during that period of time",
    "start": "2225880",
    "end": "2232000"
  },
  {
    "text": "you can see there's about a 3 to six minute window where my uh my database was was unavailable and inaccessible to",
    "start": "2232000",
    "end": "2237920"
  },
  {
    "text": "me during that scaling operation so that may be acceptable depending on your situation but if you've got something",
    "start": "2237920",
    "end": "2242960"
  },
  {
    "text": "that needs to to be available a little bit more that that may not be suitable for you if you're running in the multi",
    "start": "2242960",
    "end": "2250079"
  },
  {
    "text": "availability zone configuration some some cool stuff happens when you decide to resize your database",
    "start": "2250079",
    "end": "2256440"
  },
  {
    "text": "instance the RDS service is first going to actually go work on that standby database it's not going to touch the master database yet so you're at this",
    "start": "2256440",
    "end": "2263200"
  },
  {
    "text": "point still able to receive connections and people can access your database",
    "start": "2263200",
    "end": "2268800"
  },
  {
    "text": "it'll resize that standby database and it will then flip that standby database to be your master database and it will",
    "start": "2268800",
    "end": "2276320"
  },
  {
    "text": "repoint the DNS records to point to your new resized master",
    "start": "2276320",
    "end": "2282200"
  },
  {
    "text": "database and at that point it will then resize what was the master database to",
    "start": "2282200",
    "end": "2287520"
  },
  {
    "text": "match the the size that you you've chosen and turn that master database into the standby database so you're",
    "start": "2287520",
    "end": "2293119"
  },
  {
    "text": "still running in that multi-AZ configuration and you're sized uh at the level that you need to be for both your",
    "start": "2293119",
    "end": "2298240"
  },
  {
    "text": "master and your standby these are the events that that RDS records and sends when you're uh",
    "start": "2298240",
    "end": "2304800"
  },
  {
    "text": "scaling uh or resizing a multi-AZ database and you can see here that it's done been doing a bunch of work before",
    "start": "2304800",
    "end": "2310880"
  },
  {
    "text": "it even actually goes and does the the multi-AZ failover so in total with the with just this DNS failover you've got",
    "start": "2310880",
    "end": "2317839"
  },
  {
    "text": "about a 30 to 60 second window where where your DNS entries may be cached before they uh they recycle so your",
    "start": "2317839",
    "end": "2324560"
  },
  {
    "text": "applications are going to need to be a little bit tolerant you know need to either fail gracefully or or retry those",
    "start": "2324560",
    "end": "2330079"
  },
  {
    "text": "transactions during that short window when when your DNS failover is happening",
    "start": "2330079",
    "end": "2336280"
  },
  {
    "start": "2335000",
    "end": "2335000"
  },
  {
    "text": "so now that we we've figured out okay there are ways that we can scale uh different things on RDS we can start",
    "start": "2336880",
    "end": "2343200"
  },
  {
    "text": "thinking about what we can do around maybe automation for some of that scaling so the top example here is I",
    "start": "2343200",
    "end": "2350000"
  },
  {
    "text": "have is just an example of of using the the command line interface for RDS calling the modify DB",
    "start": "2350000",
    "end": "2356599"
  },
  {
    "text": "instance command action i'm setting the DB instance class to what I want it to",
    "start": "2356599",
    "end": "2362240"
  },
  {
    "text": "be and I'm setting the apply immediately option as a parameter into that command line",
    "start": "2362240",
    "end": "2367560"
  },
  {
    "text": "call now if you remember back to my example a few slides ago where I talked about being able to resize my database",
    "start": "2367560",
    "end": "2375680"
  },
  {
    "text": "based on a schedule based on usage patterns that I'm seeing where I'm very heavily used on the weekends or weekdays",
    "start": "2375680",
    "end": "2380880"
  },
  {
    "text": "and hardly used at all on the weekends we can actually now start looking at taking that you know that CLI example or",
    "start": "2380880",
    "end": "2387359"
  },
  {
    "text": "or if you use the SDK that's fine as well in my example I put those into two different scripts the scripts are the",
    "start": "2387359",
    "end": "2394560"
  },
  {
    "text": "same the only thing that's the only thing that's different between the two scripts is the the size of the database instance so I've got a simple cron job",
    "start": "2394560",
    "end": "2401040"
  },
  {
    "text": "that runs at 8:00 on Friday to call a script to scale down my RDS instance and",
    "start": "2401040",
    "end": "2406400"
  },
  {
    "text": "I've got a script that run another chron job that runs at four o'clock in the morning on Monday to scale my RDS instance back up to the size that's",
    "start": "2406400",
    "end": "2412960"
  },
  {
    "text": "needed to support my weekday operations and now I have some automated scaling happen around my database to allow me to",
    "start": "2412960",
    "end": "2420160"
  },
  {
    "text": "be able to control costs in more of a hands-off way can even take that a step further",
    "start": "2420160",
    "end": "2426640"
  },
  {
    "text": "for scheduling um using AWS Lambda which is our our our event driven service",
    "start": "2426640",
    "end": "2432800"
  },
  {
    "text": "lambda gives you the ability to actually schedule your Lambda functions so that they run you know very similar to cron",
    "start": "2432800",
    "end": "2438480"
  },
  {
    "text": "at a particular period of time so in this example I've written some small Python code to once again call the",
    "start": "2438480",
    "end": "2444000"
  },
  {
    "text": "modify DB instance API give it a specific instance that I want to change",
    "start": "2444000",
    "end": "2450400"
  },
  {
    "text": "which size I want it to be and and set the apply immediately again and then I scheduled that in AWS Lambda to run at",
    "start": "2450400",
    "end": "2456800"
  },
  {
    "text": "8:00 on Friday and 4 a.m on Monday two different basically the same script the only thing that changes is the is the",
    "start": "2456800",
    "end": "2462640"
  },
  {
    "text": "size of the DB instance and I now don't even need a server to support running cron to be able to have my automated",
    "start": "2462640",
    "end": "2468560"
  },
  {
    "text": "scaling happen going even further than than",
    "start": "2468560",
    "end": "2474319"
  },
  {
    "text": "scheduling my scaling I can actually now start looking at using metrics that RDS",
    "start": "2474319",
    "end": "2479599"
  },
  {
    "text": "makes available to me to do some more metrics based scaling so as Katie mentioned earlier RDS sends uh many",
    "start": "2479599",
    "end": "2486480"
  },
  {
    "text": "metrics into Cloudatch you can uh create alarms in cloudatch based on thresholds those when",
    "start": "2486480",
    "end": "2493520"
  },
  {
    "text": "those alarms are breached you can send the notification about that alarm to the AWS simple notification service to a",
    "start": "2493520",
    "end": "2500480"
  },
  {
    "text": "particular topic and then you know that topic you can subscribe various things i can have",
    "start": "2500480",
    "end": "2505599"
  },
  {
    "text": "it send an email i could have have it call an HTTPS service but you can also subscribe a lambda function to an SNS",
    "start": "2505599",
    "end": "2512720"
  },
  {
    "text": "topic and what that gives me the ability to do now is actually be able to take action based on the alerts that are",
    "start": "2512720",
    "end": "2519760"
  },
  {
    "text": "coming off of my metrics for the RDS service so this is another example it's",
    "start": "2519760",
    "end": "2525200"
  },
  {
    "text": "extension of the Python code I showed you earlier this has been uh set up to actually pull the information out of an",
    "start": "2525200",
    "end": "2532000"
  },
  {
    "text": "SNS notification that's coming from Cloudatch pull out the name of the database instance and then modify that",
    "start": "2532000",
    "end": "2538720"
  },
  {
    "text": "database instance to a different size now this is a very simple example if you",
    "start": "2538720",
    "end": "2543760"
  },
  {
    "text": "were using this for production you'd obviously add in the things that matter to you and you might also do some stuff around figuring out what's the current",
    "start": "2543760",
    "end": "2550480"
  },
  {
    "text": "database instance size and then choosing to step it up one uh if you're resizing or or or maybe putting a block that says",
    "start": "2550480",
    "end": "2557040"
  },
  {
    "text": "I'm not going to resize past this so that we can actually maybe dig a bit deeper",
    "start": "2557040",
    "end": "2562319"
  },
  {
    "text": "and this you know we've been talking about the database master instance but this same approach can be applied to",
    "start": "2562319",
    "end": "2568560"
  },
  {
    "text": "storage layer based on the metrics you're getting off of the storage layer or to your read replicas based on the",
    "start": "2568560",
    "end": "2574560"
  },
  {
    "text": "metrics you're getting on your read replicas you can use all of this to be able to do vertical scaling or horizontal scaling for your read",
    "start": "2574560",
    "end": "2580560"
  },
  {
    "text": "replicas as well so a lot of cool things that exist when it comes to building more automation when it around scaling",
    "start": "2580560",
    "end": "2587599"
  },
  {
    "text": "of your RDS instances and with that I will hand it back over to",
    "start": "2587599",
    "end": "2594960"
  },
  {
    "text": "Katie thank you",
    "start": "2597560",
    "end": "2600960"
  },
  {
    "text": "Scott ability to take reliable backups to deal with issues like data corruption",
    "start": "2605960",
    "end": "2612160"
  },
  {
    "text": "disaster recovery and to create other database instances and is an important part of running and managing any",
    "start": "2612160",
    "end": "2617280"
  },
  {
    "text": "database so let's dive deeper into this topic let's start with automated",
    "start": "2617280",
    "end": "2623240"
  },
  {
    "start": "2622000",
    "end": "2622000"
  },
  {
    "text": "backups automated backups are scheduled one time a day and you can these are",
    "start": "2623240",
    "end": "2628960"
  },
  {
    "text": "managed by the RDS service itself you can specify the preferred backup window and during that preferred backup window",
    "start": "2628960",
    "end": "2635680"
  },
  {
    "text": "the whole RDS instance the whole instance is backed up uh these are",
    "start": "2635680",
    "end": "2641640"
  },
  {
    "text": "uh by default the retention period for a automated backup is 1 day but you can",
    "start": "2641640",
    "end": "2647680"
  },
  {
    "text": "configure it to be up to 35 days to meet your uh needs the way it's done in in MySQL",
    "start": "2647680",
    "end": "2656000"
  },
  {
    "text": "Postgress Maria Oracle and SQL Server is is different than how it's done in Aurora for Aurora as I was mentioning",
    "start": "2656000",
    "end": "2662720"
  },
  {
    "text": "earlier uh Aurora is designed differently you don't have to schedule backups there is no preferred backup",
    "start": "2662720",
    "end": "2668319"
  },
  {
    "text": "window at all backups in Aurora are automatic they are continuous and they are incremental and",
    "start": "2668319",
    "end": "2674240"
  },
  {
    "text": "they are in S3 so it's much more easy to deal with backups in Aurora let's look at",
    "start": "2674240",
    "end": "2681319"
  },
  {
    "start": "2681000",
    "end": "2681000"
  },
  {
    "text": "um what steps are followed when automated backups happen now this is for",
    "start": "2681319",
    "end": "2686400"
  },
  {
    "text": "all the engines except Aurora so every day during your backup window the storage volume in your RDS instance is",
    "start": "2686400",
    "end": "2693599"
  },
  {
    "text": "backed up and if you're using a multi-AZ configuration the backup is taken from",
    "start": "2693599",
    "end": "2699119"
  },
  {
    "text": "the standby instance so that the the performance is not impacted along with",
    "start": "2699119",
    "end": "2705599"
  },
  {
    "text": "the storage instance to restore your database you also need the transaction log so 5 minutes of transaction logs are",
    "start": "2705599",
    "end": "2712000"
  },
  {
    "text": "also backed up the storage volume backup time along",
    "start": "2712000",
    "end": "2717920"
  },
  {
    "text": "with the transaction log time give you the latest restorable time for your uh",
    "start": "2717920",
    "end": "2723440"
  },
  {
    "text": "for your RDS instance and you have the ability to restore your database to any",
    "start": "2723440",
    "end": "2730800"
  },
  {
    "start": "2727000",
    "end": "2727000"
  },
  {
    "text": "second you choose within that restorable time show of hands how many of you have had to restore a",
    "start": "2730800",
    "end": "2737800"
  },
  {
    "text": "database i see some unlucky people here how many of you found it to be a pleasant experience",
    "start": "2737800",
    "end": "2744720"
  },
  {
    "text": "oh wow we have some brave people also well it it's it's not fun uh and but RDS",
    "start": "2744720",
    "end": "2750720"
  },
  {
    "text": "makes it much more convenient for you to restore from your backups uh you just",
    "start": "2750720",
    "end": "2756000"
  },
  {
    "text": "have to point it to the from within the latest uh restore period you point it to",
    "start": "2756000",
    "end": "2762000"
  },
  {
    "text": "the last point in time where you want to restore to and restoring your RDS",
    "start": "2762000",
    "end": "2767040"
  },
  {
    "text": "instance is similar to creating a new instance in in in the sense that you have to do some of the same",
    "start": "2767040",
    "end": "2773079"
  },
  {
    "text": "configuration like you would do if you were launching a new instance an important uh best practice",
    "start": "2773079",
    "end": "2780480"
  },
  {
    "text": "from from this particular feature is that you can actually restore to a smaller instance which is very useful if",
    "start": "2780480",
    "end": "2786960"
  },
  {
    "text": "you are just testing your backups we should all test our backups as you know we have seen earlier in the year some",
    "start": "2786960",
    "end": "2792319"
  },
  {
    "text": "bad things happen when the DR strategy is not tested even within big companies loop when you are just restoring for",
    "start": "2792319",
    "end": "2799760"
  },
  {
    "text": "testing purposes use a smaller instance when you are restoring from a backup just to give that RDS instance to a dev",
    "start": "2799760",
    "end": "2807079"
  },
  {
    "text": "team for for working with it you can restore to a smaller instance but if you are restoring to replace your production",
    "start": "2807079",
    "end": "2814079"
  },
  {
    "text": "database instance then you will probably restore to a similar size and similar configuration like your primary database",
    "start": "2814079",
    "end": "2820800"
  },
  {
    "text": "instance that you have another option for you is to use",
    "start": "2820800",
    "end": "2826440"
  },
  {
    "start": "2822000",
    "end": "2822000"
  },
  {
    "text": "snapshots snapshots are manual in nature you can take snapshots at any given time",
    "start": "2826440",
    "end": "2833200"
  },
  {
    "text": "uh and they are backed up to S3 you can also restore from snapshots and create new instances as well",
    "start": "2833200",
    "end": "2839880"
  },
  {
    "text": "u one of the key features here is that you have more flexibility into how much the duration",
    "start": "2839880",
    "end": "2846720"
  },
  {
    "text": "of retention and the retention period is not limited to 35 days and you can keep them beyond 35 days as",
    "start": "2846720",
    "end": "2853960"
  },
  {
    "text": "well and the last topic I want to talk about is migrating to AWS there are",
    "start": "2853960",
    "end": "2860040"
  },
  {
    "text": "several tools and services that AWS provides AWS partners provide and and",
    "start": "2860040",
    "end": "2866160"
  },
  {
    "text": "there are a lot of cool uh tools in the open source community as well that make it easy for you to migrate to RDS i'll",
    "start": "2866160",
    "end": "2872960"
  },
  {
    "text": "give you a couple of examples and talk about two of the services Amazon offers the first example I want to talk about",
    "start": "2872960",
    "end": "2879440"
  },
  {
    "text": "is migrating from MySQL which is running onrem in this case and migrating from",
    "start": "2879440",
    "end": "2886240"
  },
  {
    "text": "that into a target Amazon Aurora RD Amazon Aurora instance within the RDS",
    "start": "2886240",
    "end": "2893480"
  },
  {
    "text": "family in this case you can use MySQL dump you know this is my SQL we're",
    "start": "2893480",
    "end": "2899359"
  },
  {
    "text": "talking about so the utilities work rds is no different uh and use the MySQL dump facility to dump and then import",
    "start": "2899359",
    "end": "2905680"
  },
  {
    "text": "the data in but some studies claim that if you use uh Perona extra backup which",
    "start": "2905680",
    "end": "2911280"
  },
  {
    "text": "which is a free open-source tool uh they found it to be 20 times faster it's hot",
    "start": "2911280",
    "end": "2916400"
  },
  {
    "text": "backup of your database there is compression built in and it's incremental so if you use the Precona",
    "start": "2916400",
    "end": "2923040"
  },
  {
    "text": "extra backup tool to create a backup file of your database you can then bring that file over the wire into S3",
    "start": "2923040",
    "end": "2930960"
  },
  {
    "text": "uh you can speed that transfer up by using the transfer acceleration feature within S3 uh and you can also use",
    "start": "2930960",
    "end": "2937520"
  },
  {
    "text": "multi-art uploads uh which will chunk up your file and try to upload those parts in in parallel and then stew them back",
    "start": "2937520",
    "end": "2944720"
  },
  {
    "text": "then stitch them back in within S3 that's also helpful if we have a file",
    "start": "2944720",
    "end": "2950240"
  },
  {
    "text": "which is more than five terabyte in size because that's the object size in S3 but if you have if you're dealing with",
    "start": "2950240",
    "end": "2956319"
  },
  {
    "text": "large backup files say several terabytes then you can also consider the AWS import",
    "start": "2956319",
    "end": "2962680"
  },
  {
    "text": "export snowball appliance you put your data in snowball ship it to us we'll",
    "start": "2962680",
    "end": "2967920"
  },
  {
    "text": "bring that data into S3 now once the data is in S3 creating a Aurora cluster",
    "start": "2967920",
    "end": "2974880"
  },
  {
    "text": "from it is just a click away you point it to the S3 bucket where that data is",
    "start": "2974880",
    "end": "2980640"
  },
  {
    "text": "sitting and Aurora cluster is generated from that so it makes the migration path quite",
    "start": "2980640",
    "end": "2985960"
  },
  {
    "text": "easy the other example I want to talk about is SQL server uh database",
    "start": "2985960",
    "end": "2991640"
  },
  {
    "text": "migration uh into RDS and in this case we are going to use the native uh backup",
    "start": "2991640",
    "end": "2998640"
  },
  {
    "text": "restore functionality within SQL server that functionality give you gives you dotback files you again bring those",
    "start": "2998640",
    "end": "3005839"
  },
  {
    "text": "dotback files into S3 uh using snowball or using multipart upload transfer",
    "start": "3005839",
    "end": "3012319"
  },
  {
    "text": "acceleration the whole thing and once it is in S3 from the command prompt you can",
    "start": "3012319",
    "end": "3019680"
  },
  {
    "text": "just bring that data into SQL server a cool thing here if you notice is that",
    "start": "3019680",
    "end": "3024720"
  },
  {
    "text": "the arrows are birectional so you can use this method to migrate data into or",
    "start": "3024720",
    "end": "3030079"
  },
  {
    "text": "out of the cloud",
    "start": "3030079",
    "end": "3033559"
  },
  {
    "text": "aws database migration service was announced at reinvent last year made GA",
    "start": "3035359",
    "end": "3040880"
  },
  {
    "text": "March of this year and since that time it has u done more than 14,000 different",
    "start": "3040880",
    "end": "3047119"
  },
  {
    "text": "database migrations one of the cool features of this migration service is that it supports heterogeneous targets",
    "start": "3047119",
    "end": "3055040"
  },
  {
    "text": "for example you can migrate from Oracle to Postgress SQL engine of RDS or you",
    "start": "3055040",
    "end": "3060880"
  },
  {
    "text": "can have homogeneous MySQL to MySQL as well when you set up database migration",
    "start": "3060880",
    "end": "3066400"
  },
  {
    "text": "service it's going to you point to to your uh source database to your target database and it does the work of",
    "start": "3066400",
    "end": "3072640"
  },
  {
    "text": "migration uh for you and after that migration is done it keeps the two databases in sync so that you can choose",
    "start": "3072640",
    "end": "3078720"
  },
  {
    "text": "the appropriate cut over time to move over to your target database",
    "start": "3078720",
    "end": "3084920"
  },
  {
    "text": "when we are dealing with heterogeneous migrations such that your uh database",
    "start": "3085920",
    "end": "3091200"
  },
  {
    "text": "engine in the source is different than database engine at the target the database objects do not translate",
    "start": "3091200",
    "end": "3098160"
  },
  {
    "text": "directly i'm talking about stored procedures uh schemas tables indexes DML",
    "start": "3098160",
    "end": "3105440"
  },
  {
    "text": "constructs etc they need to be converted from one engine to another aws schema",
    "start": "3105440",
    "end": "3111200"
  },
  {
    "text": "conversion tool is helps with that it's a it's a development environment you",
    "start": "3111200",
    "end": "3116720"
  },
  {
    "text": "download it to your desktop and it you point it to the schema and it's going to help you convert it to the target schema",
    "start": "3116720",
    "end": "3123520"
  },
  {
    "text": "uh it's not going to be 100% successful all the time but for the portions in the schema it's not able to convert it's",
    "start": "3123520",
    "end": "3129359"
  },
  {
    "text": "going to highlight them and it's going to give you suggestions on how you might migrate it so it helps you reduce the",
    "start": "3129359",
    "end": "3135599"
  },
  {
    "text": "overall time it takes to do your migrations as well so with that uh I would like to thank",
    "start": "3135599",
    "end": "3144160"
  },
  {
    "text": "you for your time and Scott and I would be happy to answer any questions in my time",
    "start": "3144160",
    "end": "3151090"
  },
  {
    "text": "[Applause]",
    "start": "3151090",
    "end": "3153869"
  }
]