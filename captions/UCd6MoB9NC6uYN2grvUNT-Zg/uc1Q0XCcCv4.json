[
  {
    "text": "good afternoon I'm Don Bailey I'm a principal security geek on the ADA by a security team and my day job is",
    "start": "30",
    "end": "6299"
  },
  {
    "text": "protecting a Tobias customers and AWS itself I'm Josh Dueck security geek and road",
    "start": "6299",
    "end": "11400"
  },
  {
    "text": "warrior with AWS professional services helping customers achieve their own security objectives on AWS this is sect",
    "start": "11400",
    "end": "18029"
  },
  {
    "text": "308 we are wrangling security events in the cloud so what to expect from this session will be giving a tactical",
    "start": "18029",
    "end": "26250"
  },
  {
    "text": "follow-on to our previous year's talks on intrusion detection and Incident Response for AWS customers will be",
    "start": "26250",
    "end": "31619"
  },
  {
    "text": "discussing example security events to monitor for and also how to handle those within your AWS environment these",
    "start": "31619",
    "end": "37739"
  },
  {
    "text": "examples are meant to spark ideas for increasing your own security agility with an AWS so we're going to point out",
    "start": "37739",
    "end": "44190"
  },
  {
    "text": "a few AWS mechanisms and resources for you to leverage but you have to keep in mind that there may be one more than one",
    "start": "44190",
    "end": "50550"
  },
  {
    "text": "way to catch a cat burglar so reinvent as necessary now as mentioned this talk",
    "start": "50550",
    "end": "55800"
  },
  {
    "text": "is going to build upon a couple previous talks on I'm going to summarize those quickly and last year's intrusion",
    "start": "55800",
    "end": "61289"
  },
  {
    "text": "detection in the cloud we introduced the concept of AWS specific traditional intrusion detection but not so",
    "start": "61289",
    "end": "67320"
  },
  {
    "text": "traditional because it's applied to a diverse environments and we suggested prerequisite AWS knowledge and",
    "start": "67320",
    "end": "72630"
  },
  {
    "text": "configuration for an AWS specific intrusion detection system and introduced key concepts like security",
    "start": "72630",
    "end": "77850"
  },
  {
    "text": "roles as well as write-once storage for immutable logs we also talked about key",
    "start": "77850",
    "end": "83250"
  },
  {
    "text": "services to leverage for building your own AWS specific intrusion detection system pointing out that there were AWS",
    "start": "83250",
    "end": "88890"
  },
  {
    "text": "specific events that you should monitor for and non-obvious behaviors that you should monitor for as well now in last",
    "start": "88890",
    "end": "96150"
  },
  {
    "text": "year's Incident Response in the cloud we encourage you to make sure that your existing ir process takes into account",
    "start": "96150",
    "end": "101640"
  },
  {
    "text": "your AWS environment we suggested more prerequisite knowledge and we discussed mechanisms and tactics for mitigating",
    "start": "101640",
    "end": "107909"
  },
  {
    "text": "and investigating AWS specific security related events now for example we talked about interns leaking your AWS credits",
    "start": "107909",
    "end": "116159"
  },
  {
    "text": "to or credentials to the internet and how to resource you know people around",
    "start": "116159",
    "end": "121530"
  },
  {
    "text": "you to adjust your iam policies to constrain certain things after the fact and exposure we also provided",
    "start": "121530",
    "end": "127290"
  },
  {
    "text": "step-by-step instructions for performing traditional Incident Response but within the a diverse environment like live",
    "start": "127290",
    "end": "133080"
  },
  {
    "text": "memory cap from an ec2 instance and analyzing that for particular activities now if you",
    "start": "133080",
    "end": "138120"
  },
  {
    "text": "missed either intrusion detection in the cloud or incident response in the cloud then all you need to do is go to youtube",
    "start": "138120",
    "end": "143640"
  },
  {
    "text": "and search for intrusion detection in the cloud or incident response in the cloud so what are we talking about with",
    "start": "143640",
    "end": "149340"
  },
  {
    "text": "wrangling security events in the clouds sure today's talk is an in-depth discussion and demonstration about",
    "start": "149340",
    "end": "154680"
  },
  {
    "text": "security event response we're gonna be talking about the types of security events to prepare for how to go from",
    "start": "154680",
    "end": "159900"
  },
  {
    "text": "detection to recovery of an event how to investigate an event and use that information to help protect from the",
    "start": "159900",
    "end": "166680"
  },
  {
    "text": "same event recurring we're gonna reinforce this with some demonstrations using the alias management console the",
    "start": "166680",
    "end": "172950"
  },
  {
    "text": "CLI and SDKs and highlight particularly helpful and powerful services and features of AWS now when we're talking",
    "start": "172950",
    "end": "182070"
  },
  {
    "text": "about events within a AWS environment and security related events that we",
    "start": "182070",
    "end": "187200"
  },
  {
    "text": "would like to pay attention to those might be configuration changes that can impair us from detecting or",
    "start": "187200",
    "end": "192239"
  },
  {
    "text": "understanding events in the first place naturally those could also be activities that are inconsistent with our",
    "start": "192239",
    "end": "197280"
  },
  {
    "text": "expectations or that violate explicitly policy that we might have resources that",
    "start": "197280",
    "end": "202620"
  },
  {
    "text": "are unexpectedly no longer available or maybe some resources that have suddenly become more available than we want it in",
    "start": "202620",
    "end": "208590"
  },
  {
    "text": "the first place it's important to point out that there may not be a commercial product that you can actually plug in",
    "start": "208590",
    "end": "214110"
  },
  {
    "text": "simply turn on and that will detect all the events of concern for you and your a device environment so you should take a",
    "start": "214110",
    "end": "220560"
  },
  {
    "text": "careful look at your a diverse environment look at your operations within AWS and develop custom event",
    "start": "220560",
    "end": "225780"
  },
  {
    "text": "detection signatures to maintain awareness and trigger the actual appropriate response now if you've been",
    "start": "225780",
    "end": "233070"
  },
  {
    "text": "a security geek for less than a week there's a good chance that you have seen something that looks like this it's a",
    "start": "233070",
    "end": "238950"
  },
  {
    "text": "security event process workflow circle of life Simba usually in textbooks the protect part",
    "start": "238950",
    "end": "244950"
  },
  {
    "text": "comes first and the security goodness flowchart mantra thingy which is completely disconnected from the real",
    "start": "244950",
    "end": "250620"
  },
  {
    "text": "world if this is your second week on the job as a security Gig then there's a good chance you are facing something",
    "start": "250620",
    "end": "255930"
  },
  {
    "text": "that looks more like this when there's a breakdown as far as protect is concerned",
    "start": "255930",
    "end": "261419"
  },
  {
    "text": "we wind up wrangling a security event and so we're essentially left with having to detect what happen",
    "start": "261419",
    "end": "267370"
  },
  {
    "text": "recover from that particular event let's see if we can go back to the previous slide there we go the tech would happen",
    "start": "267370",
    "end": "273760"
  },
  {
    "text": "recover from that particular event investigate what the root cause was and then once we've actually investigated",
    "start": "273760",
    "end": "279220"
  },
  {
    "text": "that then we'll know what we need to do to protect from it in the future so Josh",
    "start": "279220",
    "end": "284979"
  },
  {
    "text": "when we're talking to security geeks what gets them excited about using AWS to deal with the flow chart that we just",
    "start": "284979",
    "end": "291130"
  },
  {
    "text": "talked about sure well the ability to use the CLI or SDK with an AWS to programmatically",
    "start": "291130",
    "end": "296620"
  },
  {
    "text": "interact with our API is very empowering for security professionals with simple API calls we can get an inventory within",
    "start": "296620",
    "end": "304090"
  },
  {
    "text": "AWS and what's happening to it and how it is changing within our accounts leveraging these services you can start",
    "start": "304090",
    "end": "310060"
  },
  {
    "text": "to build your own detection and learning mechanisms and even begin to automatically respond to events so",
    "start": "310060",
    "end": "315789"
  },
  {
    "text": "building automatic response lets you sleep peacefully when something goes bump in the night so in order to proceed",
    "start": "315789",
    "end": "325750"
  },
  {
    "text": "through this talk we're going to be focusing on cloud trail and if you're not familiar with Quattro it's a service that records AWS API calls for your",
    "start": "325750",
    "end": "332950"
  },
  {
    "text": "account it delivers log files to you so if you take one thing away from this talk make sure that you turn the cloud trail on and all your regions so real quick let's",
    "start": "332950",
    "end": "341650"
  },
  {
    "text": "take a look in the EOS console and determine where to turn clouds are on so when you log in the console your",
    "start": "341650",
    "end": "347229"
  },
  {
    "text": "presenting services but under your management management tools you're gonna find cloud shell so let's go ahead and",
    "start": "347229",
    "end": "353590"
  },
  {
    "text": "click on that if this is the first time you're looking at it you're gonna be presented with this page go ahead and",
    "start": "353590",
    "end": "358720"
  },
  {
    "text": "click on get started now you're gonna need to choose a name for the trail as well as the Amazon s3 bucket and what",
    "start": "358720",
    "end": "365470"
  },
  {
    "text": "you want the service to store the logs once we do that additionally we can click on the advanced button there here",
    "start": "365470",
    "end": "372550"
  },
  {
    "text": "on the advanced pane it lets us configure an Amazon SMS notification when files are delivered this is a particularly useful if you want",
    "start": "372550",
    "end": "378970"
  },
  {
    "text": "something to be triggered whenever a new log file is ready rather than having to continuously pull for new log files so",
    "start": "378970",
    "end": "386410"
  },
  {
    "text": "let's dive a little bit further into cloud shell cloud show events specifically culantro event is a record",
    "start": "386410",
    "end": "391630"
  },
  {
    "text": "in JSON format format that contains information about requests for resources in your account and so the this provides",
    "start": "391630",
    "end": "399400"
  },
  {
    "text": "or describe what service was accessed what action was performed parameters for that action as well so",
    "start": "399400",
    "end": "407730"
  },
  {
    "text": "let's take a look at a quick example of a cloud trill event record if we scan over the areas that I've highlighted in",
    "start": "407730",
    "end": "412950"
  },
  {
    "text": "white here you'll notice that the I am user named Alice made this request and specifically back in March 2015 she made",
    "start": "412950",
    "end": "420570"
  },
  {
    "text": "the create user API call to the IAM service from the IP address that we're going to be referring to throughout this",
    "start": "420570",
    "end": "426450"
  },
  {
    "text": "talk is 55 deaf 55 55 55 additionally we noticed that she created",
    "start": "426450",
    "end": "432900"
  },
  {
    "text": "the user Bob now once you've actually turned cloud trail on then you're going",
    "start": "432900",
    "end": "438540"
  },
  {
    "text": "to notice when you're looking at your cloud trail configuration page that cloud trail is on if you turn cloud",
    "start": "438540",
    "end": "447750"
  },
  {
    "text": "trail off you are going to be presented with a pop-up dialog asking are you sure you want to stop logging assuming you",
    "start": "447750",
    "end": "456210"
  },
  {
    "text": "click continue you're going to notice that cloud trail is off speaking from",
    "start": "456210",
    "end": "462750"
  },
  {
    "text": "the perspective of a security geek it's probably a good idea to know if and when cloud trail is actually turned off but",
    "start": "462750",
    "end": "468450"
  },
  {
    "text": "I'd like to not have to visit every cloud trail configuration page to figure that out so Josh is there a way that we",
    "start": "468450",
    "end": "474450"
  },
  {
    "text": "can do this programmatically sure there is with Quattro turn on you actually get a record of the API requests that turn",
    "start": "474450",
    "end": "481470"
  },
  {
    "text": "cloud trail off and so here's what that API request would look like you'll notice highlighted in white the stop logging API request was made to the",
    "start": "481470",
    "end": "488370"
  },
  {
    "text": "cloud shell service specifically in the US west to region so I prefer as I was",
    "start": "488370",
    "end": "494880"
  },
  {
    "text": "mentioned to be alerted to this change without having to check cloud trail continuously every five minutes of my life we could do that by using cloud",
    "start": "494880",
    "end": "501690"
  },
  {
    "text": "watch logs so cloud watch laws is a service that lets us monitor an alarm for specific phrases values or patterns so if we go",
    "start": "501690",
    "end": "509850"
  },
  {
    "text": "back to our previous example in cloud shell and the management console then go ahead and click on configure under cloud",
    "start": "509850",
    "end": "515039"
  },
  {
    "text": "slugs and then after choosing a new or existing how much logs log group we can go ahead and click",
    "start": "515040",
    "end": "520650"
  },
  {
    "text": "configure and then on this page we're going to be accepting the necessary roles and permissions so cloud trail can",
    "start": "520650",
    "end": "527490"
  },
  {
    "text": "actually deliver the events to cloud watch logs",
    "start": "527490",
    "end": "531590"
  },
  {
    "text": "so if you click on this blue link here this will actually take you into cloud formation and set up a number of metric",
    "start": "532590",
    "end": "538980"
  },
  {
    "text": "filters and alarms within cloud watch for some basic security and network related API calls so if you're a",
    "start": "538980",
    "end": "547050"
  },
  {
    "text": "go-getter though and you want to manipulate this and add some additional API calls for services that might not be",
    "start": "547050",
    "end": "552720"
  },
  {
    "text": "already included in it you can certainly do that if you click the URL down here at the bottom it'll take you to a",
    "start": "552720",
    "end": "558630"
  },
  {
    "text": "documentation page that explains the cloud formation template and so you can then download it edit it and add",
    "start": "558630",
    "end": "565170"
  },
  {
    "text": "additional API calls for investigation so if we look at this event that were",
    "start": "565170",
    "end": "571290"
  },
  {
    "text": "talking about where someone would turn in cloud trail off we can go ahead and open up that CloudFormation template and you'll be presented with something like",
    "start": "571290",
    "end": "577320"
  },
  {
    "text": "this this is a AWS cloud watch metric filter the stuffs defined within a cloud",
    "start": "577320",
    "end": "583830"
  },
  {
    "text": "formation template in JSON format the important thing to notice is what I've highlighted in white here I'm specifically filtering cloud relevant",
    "start": "583830",
    "end": "590100"
  },
  {
    "text": "records for the event name of stop logging I can then use this metric in combination with an alarm to send me a",
    "start": "590100",
    "end": "597480"
  },
  {
    "text": "notification whenever it's detected and so here's what that alarm would look like I'm specifically requesting for the",
    "start": "597480",
    "end": "603450"
  },
  {
    "text": "metric name of cloud roll event count in the previous slide and you'll notice at the bottom I'm saying if the threshold",
    "start": "603450",
    "end": "609450"
  },
  {
    "text": "is one within a 300 second period then I want to be notified let's assume it did",
    "start": "609450",
    "end": "616890"
  },
  {
    "text": "happen and you detected it and somebody turned cloud roll off what would you do now oh you're gonna turn it back on it's",
    "start": "616890",
    "end": "622589"
  },
  {
    "text": "pretty simple to do this is a little switch at the top right you click it it's back on",
    "start": "622589",
    "end": "628040"
  },
  {
    "text": "but let's investigate as cloud shell will log the event stop logging we can see who made the request to do this so",
    "start": "630630",
    "end": "636270"
  },
  {
    "text": "if we pull up the cloud trail vamp we can see the I end user named re-invent sec 308 was the individual who made this",
    "start": "636270",
    "end": "642600"
  },
  {
    "text": "request and that the request originated from our known IP address so now that we",
    "start": "642600",
    "end": "649260"
  },
  {
    "text": "know what happened and that it was performed for a demo how could we protect this from happening in the future",
    "start": "649260",
    "end": "654270"
  },
  {
    "text": "well we could simply add an IM policy to rin groups or roles in order to deny",
    "start": "654270",
    "end": "659880"
  },
  {
    "text": "permissions we don't want our users to have so in this case I want to block myself for turning cloud trail off or actually",
    "start": "659880",
    "end": "666480"
  },
  {
    "text": "being able to delete the trails to begin with and yes we can actually use the cloud trails api to turn cloud trail",
    "start": "666480",
    "end": "671580"
  },
  {
    "text": "back on we don't actually have to go in and click buttons to do it so that's a great example of a feature within a",
    "start": "671580",
    "end": "678150"
  },
  {
    "text": "nativist environment that we would like to stay aware of and make sure that it stays on we'd like to know when it it's",
    "start": "678150",
    "end": "683910"
  },
  {
    "text": "often we also need to know how to go back and remediate that another AWS security related feature that we'd like",
    "start": "683910",
    "end": "689430"
  },
  {
    "text": "to pay attention to and make sure that it's staying on would be multi-factor authentication or what we like to call",
    "start": "689430",
    "end": "695010"
  },
  {
    "text": "MFA so multi-factor authentication if you're not familiar with it requires unique authentication codes for access",
    "start": "695010",
    "end": "701250"
  },
  {
    "text": "to AWS websites of services you can either have a my little hardware token or a virtual MFA device you enter these",
    "start": "701250",
    "end": "709380"
  },
  {
    "text": "codes manually when you're logging into the ada bus management console they accompany your login or you can have",
    "start": "709380",
    "end": "714510"
  },
  {
    "text": "those codes accompany an API request in a programmatic fashion and if you have to configure that you do it through the",
    "start": "714510",
    "end": "720600"
  },
  {
    "text": "identity access management portion of AWS if you go into the management console and you look under security and",
    "start": "720600",
    "end": "727620"
  },
  {
    "text": "identity you'll find identity access management if you look at the actual users within there you'll find in this",
    "start": "727620",
    "end": "733680"
  },
  {
    "text": "case a test user and if you want to find where to configure MFA you'll have to scroll down a little bit you'll get to",
    "start": "733680",
    "end": "740220"
  },
  {
    "text": "manage MFA devices at manage MFA devices if you click on that you will be presented with either choosing a virtual",
    "start": "740220",
    "end": "746070"
  },
  {
    "text": "MFA device or a hardware MFA device so if you're familiar with virtual MFA devices such as the AWS multi-factor",
    "start": "746070",
    "end": "753270"
  },
  {
    "text": "authentication app or Google Authenticator or of--they then you can use one of those as your virtual MFA",
    "start": "753270",
    "end": "758880"
  },
  {
    "text": "device and choosing that you'll have to make sure that you have that software pre-installed you can then scan a QR",
    "start": "758880",
    "end": "764880"
  },
  {
    "text": "code that will bootstrap that actual authentication and then entering in two sequential codes will actually get that",
    "start": "764880",
    "end": "771120"
  },
  {
    "text": "MFA activated and it'll be presented with a nice little screen that says it's activated and now when we go back and look at that actual user will see that",
    "start": "771120",
    "end": "778020"
  },
  {
    "text": "multi-factor authentication is enabled for that particular user but you can click on manage MFA device again and",
    "start": "778020",
    "end": "784560"
  },
  {
    "text": "you'll be presented with some options here which include deactivating MFA and if you decide that you're going to",
    "start": "784560",
    "end": "790860"
  },
  {
    "text": "deactivate MFA then it's going to deactivate anything",
    "start": "790860",
    "end": "796500"
  },
  {
    "text": "it would be nice if we could look for events that would indicate that somebody has deactivated mfa and we can we can do",
    "start": "796500",
    "end": "803370"
  },
  {
    "text": "that through cloud trails so if we go through cloud trail and look at the actual API call associated with that we're looking for deactivate MFA device",
    "start": "803370",
    "end": "810060"
  },
  {
    "text": "as the actual event that has occurred and we can find that in actual cloud trail record deactivate MFA device this",
    "start": "810060",
    "end": "815940"
  },
  {
    "text": "is what it would look like notice the event deactivate MFA device so the",
    "start": "815940",
    "end": "822480"
  },
  {
    "text": "question would be how do we automatically detect that event well if we circle back to our previous example using cloud formation we can set up a",
    "start": "822480",
    "end": "829170"
  },
  {
    "text": "metric filter to detect the deactivate MFA device API call and then combine",
    "start": "829170",
    "end": "834240"
  },
  {
    "text": "this with the clutch alarm we would be notified of the event through email or text or something so let's assume it",
    "start": "834240",
    "end": "841830"
  },
  {
    "text": "does happen what is our course of action to recover from the event well we could simply force the user to reconfigure their MFA device but we'll need to",
    "start": "841830",
    "end": "848580"
  },
  {
    "text": "investigate to find out who to contact so if we go back to our previous example with the cloud trove record it tells us",
    "start": "848580",
    "end": "855960"
  },
  {
    "text": "when the event happened and the source IP address is our known IP address which is good and then we notice that the user",
    "start": "855960",
    "end": "862350"
  },
  {
    "text": "Bob was the one who deactivate his account so when you go talk to Bob but how can we force individuals to use",
    "start": "862350",
    "end": "868740"
  },
  {
    "text": "their MFA devices or how can we protect this from happening in the future we actually have a blog article specifically talking about that subject",
    "start": "868740",
    "end": "875940"
  },
  {
    "text": "so check it out determine if it's appropriate for your environment it'll also show you how to set up policies to",
    "start": "875940",
    "end": "881700"
  },
  {
    "text": "make sure users can reactivate their MFA device so that's two examples of looking",
    "start": "881700",
    "end": "887550"
  },
  {
    "text": "at our a device environment specifically security related features making sure that they stay on making sure that if",
    "start": "887550",
    "end": "893130"
  },
  {
    "text": "they are turned off we're aware of it and we can go back and actually remediate that but when we're looking at",
    "start": "893130",
    "end": "898620"
  },
  {
    "text": "an innate and AWS environment we're not just concerned about the configuration and certainly not just of the security",
    "start": "898620",
    "end": "903810"
  },
  {
    "text": "features we're also concerned about data that's within the account one of the places that we like to store data s3 so",
    "start": "903810",
    "end": "909630"
  },
  {
    "text": "if we look at an s3 configuration for an account and we look in there and say",
    "start": "909630",
    "end": "915270"
  },
  {
    "text": "like a particular bucket in this case we're looking at the reinvent 2015 SEC 308 bucket we'll have in this case a few",
    "start": "915270",
    "end": "921480"
  },
  {
    "text": "folders one of them happens to be prod which might stand for I don't know production and then of",
    "start": "921480",
    "end": "927170"
  },
  {
    "text": "course if we look in the production folder there happens to be an important file it's important because it says important txt if we look at the",
    "start": "927170",
    "end": "936440"
  },
  {
    "text": "properties of that bucket we want to make sure that there are certain security best practices configured right such as logging you want to have it s3",
    "start": "936440",
    "end": "943790"
  },
  {
    "text": "bucket logging turned on that's pretty simple to do we specify where we would like to actually store log associated",
    "start": "943790",
    "end": "948950"
  },
  {
    "text": "with our s3 bucket we also want to turn on object versioning if you're not familiar with s3 object versioning we",
    "start": "948950",
    "end": "956089"
  },
  {
    "text": "talked about this last year it's the ability to actually have versions of files kept such that if somebody accidentally deletes or overwrites a",
    "start": "956089",
    "end": "962959"
  },
  {
    "text": "file you have a version of that file to restore from and we'll keep those back",
    "start": "962959",
    "end": "967970"
  },
  {
    "text": "any number of different versions as you continue to overwrite and certainly if you accidentally delete it's nice to have that version available turning that",
    "start": "967970",
    "end": "975140"
  },
  {
    "text": "on fairly simple you go into the bucket configuration bucket properties and enable versioning we're going to let you",
    "start": "975140",
    "end": "981589"
  },
  {
    "text": "know that we're storing extra versions which is extra bits which will incur additional costs such as those bits do",
    "start": "981589",
    "end": "987500"
  },
  {
    "text": "and once you've enabled versioning you're going to see that this bucket has versioning turned on now we've turned on",
    "start": "987500",
    "end": "994400"
  },
  {
    "text": "bucket logging and we turned on bucket versioning and that's good I would like to know when that important txt file",
    "start": "994400",
    "end": "1001839"
  },
  {
    "text": "goes away and do I have to continuously review my logs in order to determine that important txt is no longer there",
    "start": "1001839",
    "end": "1008529"
  },
  {
    "text": "and I need to actually restore from a version no we can actually enable notifications for s3 events that might",
    "start": "1008529",
    "end": "1014380"
  },
  {
    "text": "concern us so Amazon s3 notification feature enables you to receive notifications when certain events happen",
    "start": "1014380",
    "end": "1020620"
  },
  {
    "text": "within that bucket to enable those you're first going to have to add a notification configuration identifying",
    "start": "1020620",
    "end": "1026890"
  },
  {
    "text": "the events that you are actually concerned about that might be removing an object we can do that by going into",
    "start": "1026890",
    "end": "1033938"
  },
  {
    "text": "the bucket configuration or the bucket properties excuse me and selecting events and we can configure the type of",
    "start": "1033939",
    "end": "1040270"
  },
  {
    "text": "event that we would like to look for in this case we are looking for object removed we can also specify a prefix so",
    "start": "1040270",
    "end": "1047410"
  },
  {
    "text": "in this case we're looking for anything that's going to be removed from the prod folder and then we're going to configure",
    "start": "1047410",
    "end": "1054610"
  },
  {
    "text": "an SNS topic that we would like the events to actually go to so anytime and is removed from the prod folder please",
    "start": "1054610",
    "end": "1060370"
  },
  {
    "text": "send a notification to in this case the s3 delete events SNS topic and we can",
    "start": "1060370",
    "end": "1068620"
  },
  {
    "text": "name that event in this case prod object deletion if we go into the actual SNS",
    "start": "1068620",
    "end": "1073990"
  },
  {
    "text": "topic we can configure that topic to have subscriptions to it right and maybe you a subscription to that could be I",
    "start": "1073990",
    "end": "1079870"
  },
  {
    "text": "don't know an email address that is security underscore team at your company comm such that if somebody actually goes",
    "start": "1079870",
    "end": "1088179"
  },
  {
    "text": "into that bucket right clicks on the object deletes the object it's not going to exist in the bucket anymore right",
    "start": "1088179",
    "end": "1095190"
  },
  {
    "text": "however the security team is going to be aware of it because they've really they've actually received a notification via email telling them that hey",
    "start": "1095190",
    "end": "1101440"
  },
  {
    "text": "important txt no longer exists within the bucket now recovering from that an",
    "start": "1101440",
    "end": "1109120"
  },
  {
    "text": "object deletion you just restore from a deleted file from a previous version right we turned on bucket logging right",
    "start": "1109120",
    "end": "1115269"
  },
  {
    "text": "so we know that something's actually occurred within the bucket we've got versioning turned on so now we can actually restore from a previous version",
    "start": "1115269",
    "end": "1121720"
  },
  {
    "text": "you can do that through the management console it's just a couple clicks away you can also do that the command-line interface or an API using the copy",
    "start": "1121720",
    "end": "1128710"
  },
  {
    "text": "object request now if you've enabled versioning after you've actually put objects within a",
    "start": "1128710",
    "end": "1134470"
  },
  {
    "text": "bucket the version ID is going to be listed as no that's okay you can still specify null as an actual version to",
    "start": "1134470",
    "end": "1140200"
  },
  {
    "text": "restore from now where do we actually find the versions so that we can restore",
    "start": "1140200",
    "end": "1146200"
  },
  {
    "text": "from them if you go back into the bucket you'll see that there's a button up",
    "start": "1146200",
    "end": "1151240"
  },
  {
    "text": "there that says versions hide or show let's click show and sure enough our deleted versions are still there and we",
    "start": "1151240",
    "end": "1157840"
  },
  {
    "text": "can restore from those we'd restore through the management console we can download a deleted version and we can",
    "start": "1157840",
    "end": "1162970"
  },
  {
    "text": "upload it back into the bucket and now our important txt file is still there we",
    "start": "1162970",
    "end": "1169330"
  },
  {
    "text": "can do that programmatically we list object versions so that we can actually see the versions of previous files then",
    "start": "1169330",
    "end": "1175840"
  },
  {
    "text": "we can use the copy object we can use the copy object the best three API to actually specify the restoral of that",
    "start": "1175840",
    "end": "1183070"
  },
  {
    "text": "particular version notice here it's specifying the copy source as a URL with",
    "start": "1183070",
    "end": "1189220"
  },
  {
    "text": "the version ID and in this case specified now if we don't have versioning turned",
    "start": "1189220",
    "end": "1195839"
  },
  {
    "text": "on within the prod bucket or a prod folder of a particular bucket but we may have backup copies of files within",
    "start": "1195839",
    "end": "1201659"
  },
  {
    "text": "another bucket bucket then we can still restore from backup files certainly and of course within that backup folder we",
    "start": "1201659",
    "end": "1208589"
  },
  {
    "text": "would also have logging and versioning turned on and it's just another copy source command or copy object command",
    "start": "1208589",
    "end": "1215219"
  },
  {
    "text": "excuse me now investigating the actual deletion event right within the actual",
    "start": "1215219",
    "end": "1222599"
  },
  {
    "text": "event notification that we received is the source IP of where it came from as well as the principle associated with",
    "start": "1222599",
    "end": "1228419"
  },
  {
    "text": "that particular requests and so then we can use that to actually go and",
    "start": "1228419",
    "end": "1234089"
  },
  {
    "text": "investigate potentially talk to the intern to decided he was going to delete important txt now if we want to protect",
    "start": "1234089",
    "end": "1242249"
  },
  {
    "text": "from this action occurring in the future other than deleting the the intern then",
    "start": "1242249",
    "end": "1247889"
  },
  {
    "text": "we're going to use bucket versioning right just turning on bucket versioning that's a great feature that will protect",
    "start": "1247889",
    "end": "1253830"
  },
  {
    "text": "from inadvertent deletes or overwrites of objects and engines if you want to consider additional protective measures",
    "start": "1253830",
    "end": "1261059"
  },
  {
    "text": "look at the actual policies associated with credentials that have the ability to access s3 buckets right you can",
    "start": "1261059",
    "end": "1267330"
  },
  {
    "text": "specifically disallow the s3 object removal capability and then if you want",
    "start": "1267330",
    "end": "1272429"
  },
  {
    "text": "even better protection for those objects that you're truly concerned about and that should never be deleted you can use",
    "start": "1272429",
    "end": "1278609"
  },
  {
    "text": "an additional layer of protection using MFA delete which means you're going to have to generate a code and accompany it",
    "start": "1278609",
    "end": "1283950"
  },
  {
    "text": "with an API request to delete an object there will be no inadvertent deletion at that point great so let's look at",
    "start": "1283950",
    "end": "1292859"
  },
  {
    "text": "another example of a security event that some customers are concerned about they would prefer to know someone who's",
    "start": "1292859",
    "end": "1298529"
  },
  {
    "text": "logging into their AWS account from an unknown IP address so you'll notice here I'm going back again to the cloud",
    "start": "1298529",
    "end": "1304950"
  },
  {
    "text": "formation template just as before and we can configure a new filter pattern so in this scenario I'm making a filter",
    "start": "1304950",
    "end": "1310679"
  },
  {
    "text": "pattern for the console log and event and specifically I'm also looking for the known IP address for our office",
    "start": "1310679",
    "end": "1316169"
  },
  {
    "text": "within a subnet so if we do get an alert and we detect the login anomaly",
    "start": "1316169",
    "end": "1322690"
  },
  {
    "text": "well once you recover as quick as possible one option we have is to configure a no lion policy to deny all",
    "start": "1322690",
    "end": "1329860"
  },
  {
    "text": "permissions to the user and the policy would look something like this but we'll",
    "start": "1329860",
    "end": "1336910"
  },
  {
    "text": "want to investigate a little bit further the console login record will tell us the source IP and the user but will want to determine if that user made any",
    "start": "1336910",
    "end": "1343270"
  },
  {
    "text": "changes after they logged in so we'll need to go through cloud trail looking for that principal or a user and see if",
    "start": "1343270",
    "end": "1348970"
  },
  {
    "text": "anything else happened after the original console login but going forward you can certainly protect yourself and",
    "start": "1348970",
    "end": "1355960"
  },
  {
    "text": "the future using I am conditional statements so applying a condition statement for the source IP address you",
    "start": "1355960",
    "end": "1362650"
  },
  {
    "text": "can configure that for groups or roles as necessary in order to restrict access",
    "start": "1362650",
    "end": "1369300"
  },
  {
    "text": "great so an additional area of concern for customers within an AWS account is",
    "start": "1369600",
    "end": "1375220"
  },
  {
    "text": "the launch of instances within security groups that are completely open to the Internet and what is an open security",
    "start": "1375220",
    "end": "1381730"
  },
  {
    "text": "group again if we're allowing the entire internet to access all ports and protocols on an ec2 instance that's",
    "start": "1381730",
    "end": "1388300"
  },
  {
    "text": "probably not a good idea in the case of a web server it's likely okay that we allow the entire internet",
    "start": "1388300",
    "end": "1394810"
  },
  {
    "text": "to access or 80 or 443 but not all of the other ports on that web server now",
    "start": "1394810",
    "end": "1400570"
  },
  {
    "text": "your policy might vary so in the case of administrative access remote in an administrative access to ec2 instances",
    "start": "1400570",
    "end": "1407310"
  },
  {
    "text": "you might say that it's okay for anybody on the planet to be able to SSH to your ec2 instance you may also say and I",
    "start": "1407310",
    "end": "1415450"
  },
  {
    "text": "would recommend that only people that are coming from IP address ranges associated with your organization to be",
    "start": "1415450",
    "end": "1420760"
  },
  {
    "text": "able to access remotely and administer your ec2 instances the point here is",
    "start": "1420760",
    "end": "1426250"
  },
  {
    "text": "that creation and change within security groups should be low in velocity this",
    "start": "1426250",
    "end": "1431740"
  },
  {
    "text": "should not be something that's changing very quickly within your environment specifically with resources that you are",
    "start": "1431740",
    "end": "1436750"
  },
  {
    "text": "very concerned about and will remain static for some time so you should be able to monitor these types of changes",
    "start": "1436750",
    "end": "1442510"
  },
  {
    "text": "and we have an actual service that allows you to do that a tibias config will perform resource inventory it will also give you",
    "start": "1442510",
    "end": "1449320"
  },
  {
    "text": "configuration history and it will notify you on configuration changes for the things that you're concerned",
    "start": "1449320",
    "end": "1454590"
  },
  {
    "text": "so it discovers your existing a dovish resources you can export the inventory of those AWS resources all the",
    "start": "1454590",
    "end": "1461070"
  },
  {
    "text": "configuration details associated with that it's great to present to auditors security geeks should absolutely love",
    "start": "1461070",
    "end": "1466499"
  },
  {
    "text": "Atos config and I do if we want to find 80s config it's within management tools",
    "start": "1466499",
    "end": "1473100"
  },
  {
    "text": "clicking on there you'll be presented with this if you haven't started now start now and you can start to select",
    "start": "1473100",
    "end": "1478830"
  },
  {
    "text": "the types of resources that you would like to record configuration changes for in this case we can select security",
    "start": "1478830",
    "end": "1485249"
  },
  {
    "text": "group and now AWS config is going to monitor our security groups for any",
    "start": "1485249",
    "end": "1491220"
  },
  {
    "text": "changes we can have logs delivered to an",
    "start": "1491220",
    "end": "1496440"
  },
  {
    "text": "s3 bucket of our choosing and we can also have notification of configuration changes sent to an SMS topic now a tub",
    "start": "1496440",
    "end": "1507840"
  },
  {
    "text": "is config is going to need permissions in order to read the environment understand the resources that are there",
    "start": "1507840",
    "end": "1513240"
  },
  {
    "text": "and actually deposit logs and send notifications so you're going to have to allow that and once you've done all of",
    "start": "1513240",
    "end": "1520409"
  },
  {
    "text": "that configuration you will find out that recording is on now how do we",
    "start": "1520409",
    "end": "1526499"
  },
  {
    "text": "actually detect an open security group event within our a diverse environment well we subscribe a degrees config to",
    "start": "1526499",
    "end": "1534269"
  },
  {
    "text": "the notification topic and we filter notifications for creation of any",
    "start": "1534269",
    "end": "1539580"
  },
  {
    "text": "security groups that would be concerning to us so you could use your email application to create filters or alerts",
    "start": "1539580",
    "end": "1546419"
  },
  {
    "text": "for things such as security group and create you can go a little bit deeper and look for things that are associated",
    "start": "1546419",
    "end": "1552269"
  },
  {
    "text": "just with the security group and more importantly port ranges or IP ranges",
    "start": "1552269",
    "end": "1559169"
  },
  {
    "text": "that are concerning to you and anytime that there are changes within your a",
    "start": "1559169",
    "end": "1565110"
  },
  {
    "text": "Davis environment specific to security groups you'll get a notification and detecting in this case an open security",
    "start": "1565110",
    "end": "1571559"
  },
  {
    "text": "group event is as simple as looking for the IP protocol as negative one which translates to any and looking for the IP",
    "start": "1571559",
    "end": "1577860"
  },
  {
    "text": "range as zero all trains in it translating to Internet now how do we",
    "start": "1577860",
    "end": "1584309"
  },
  {
    "text": "recover from an open security group event well if you're responding soon enough to an open security group event the and and",
    "start": "1584309",
    "end": "1591289"
  },
  {
    "text": "the actual creation of that security group if there are no instances that are launched already within that security group then you can just simply delete",
    "start": "1591289",
    "end": "1598070"
  },
  {
    "text": "the actual security group otherwise if there are running instances already associated with that security group you",
    "start": "1598070",
    "end": "1603950"
  },
  {
    "text": "will have to move or assign those running instances to another security group then you can delete the offending",
    "start": "1603950",
    "end": "1609289"
  },
  {
    "text": "security group now that new security group might be a security group that has no ingress or egress associated with it",
    "start": "1609289",
    "end": "1615710"
  },
  {
    "text": "now if the change event that occurred that allows internet access to all the",
    "start": "1615710",
    "end": "1622549"
  },
  {
    "text": "ec2 instances within that security group happens to be associated with the default security group you cannot delete the default security group however you",
    "start": "1622549",
    "end": "1629929"
  },
  {
    "text": "can change the rules associated with default security group and that might be adding no rules so we can do this",
    "start": "1629929",
    "end": "1638869"
  },
  {
    "text": "through ec2 management console click on security groups look at the offending",
    "start": "1638869",
    "end": "1644450"
  },
  {
    "text": "security group right-click delete security group pretty easy we can also do this through the command line",
    "start": "1644450",
    "end": "1650269"
  },
  {
    "text": "interface ec2 deletes security group make sure that you specify no dry run that means it's actually going to occur",
    "start": "1650269",
    "end": "1658359"
  },
  {
    "text": "now if we're investigating this we'll look at the actual a device config change notification we're going to note",
    "start": "1658359",
    "end": "1664009"
  },
  {
    "text": "the time the action the security group ID and then we need to correlate that principle and source IP associated with",
    "start": "1664009",
    "end": "1671659"
  },
  {
    "text": "the API call that will be an alias cloud trail and if possible you want to actually talk to the person who perform",
    "start": "1671659",
    "end": "1677600"
  },
  {
    "text": "that actual event and understand their intent did they actually mean to open up a security group to the entire world for",
    "start": "1677600",
    "end": "1682940"
  },
  {
    "text": "that particular ec2 instance maybe it's an unexplained event and it's an external act or it's potentially",
    "start": "1682940",
    "end": "1688850"
  },
  {
    "text": "malicious in any case the way that we're going to protect from this is to appropriately constrain or deactivate",
    "start": "1688850",
    "end": "1694580"
  },
  {
    "text": "the Associated credentials if we need to security group changes and particularly",
    "start": "1694580",
    "end": "1699710"
  },
  {
    "text": "those that are within production they're not going to be very frequent and so you should maintain a high level of vigilance here great so we've looked at",
    "start": "1699710",
    "end": "1709009"
  },
  {
    "text": "several security events so far we have one last one unapproved AMS and so this",
    "start": "1709009",
    "end": "1716029"
  },
  {
    "text": "is a concern for a number of customers but just real quick to recap ami is a Amazon machine image and",
    "start": "1716029",
    "end": "1722820"
  },
  {
    "text": "there's a number of places that you can use them or get them from so a public AMI or from the marketplace or you can",
    "start": "1722820",
    "end": "1730440"
  },
  {
    "text": "have your own private AMI but these are used to launch ec2 instances and so some customers will choose to have an",
    "start": "1730440",
    "end": "1736890"
  },
  {
    "text": "approved AMI and then they harden them sometimes it's referred to as a golden ami but these",
    "start": "1736890",
    "end": "1742230"
  },
  {
    "text": "are used to launch approved ec2 instances within their account so we would like to be able to detect if an ec2 instance is launched",
    "start": "1742230",
    "end": "1750360"
  },
  {
    "text": "using an ami that's not been hardened and approved with Mediacom and so the",
    "start": "1750360",
    "end": "1755790"
  },
  {
    "text": "question is how you compare launched ec2 instances against a whitelist as the",
    "start": "1755790",
    "end": "1761070"
  },
  {
    "text": "whitelist could be rather long so it might not be useful to use cloud washes in the example we were doing previously",
    "start": "1761070",
    "end": "1766290"
  },
  {
    "text": "so what is the best method to do this and this is where lambda comes in so AWS",
    "start": "1766290",
    "end": "1771930"
  },
  {
    "text": "lambda is a service that runs your code in response to events it'll automatically manage compute resources",
    "start": "1771930",
    "end": "1778230"
  },
  {
    "text": "on your behalf and you can create new and interesting back-end services that are automatically triggered based on",
    "start": "1778230",
    "end": "1783780"
  },
  {
    "text": "custom requests so in this case for this example we're gonna be using lambda and we're gonna read collateral events",
    "start": "1783780",
    "end": "1789390"
  },
  {
    "text": "within lambda and be able to trigger responses based on that so this is some",
    "start": "1789390",
    "end": "1794910"
  },
  {
    "text": "nodejs code above this I would be detecting and comparing against a whitelist but in this case I want to",
    "start": "1794910",
    "end": "1800610"
  },
  {
    "text": "recover so once I've detected ec2 instances that are launched from",
    "start": "1800610",
    "end": "1805770"
  },
  {
    "text": "unapproved AM eyes I would gather those put them in an array and pass that array there to the bottom to the ec2 terminate",
    "start": "1805770",
    "end": "1812820"
  },
  {
    "text": "instances function within the node.js SDK and then I'm able to terminate the",
    "start": "1812820",
    "end": "1818580"
  },
  {
    "text": "instances that are not approved or were launched from unapproved AM eyes so we",
    "start": "1818580",
    "end": "1825330"
  },
  {
    "text": "can investigate a little bit further if we look through the cloud trail logs we going to determine who launched the instance and where the request came from",
    "start": "1825330",
    "end": "1831780"
  },
  {
    "text": "what sudden that was it being launched into you could have lambda send you the notification so you have all these details it could say hey Ida terminated",
    "start": "1831780",
    "end": "1839760"
  },
  {
    "text": "this instance but here's the details if you want to investigate a little bit further but if you want to protect",
    "start": "1839760",
    "end": "1846090"
  },
  {
    "text": "yourself from this event happening going forward in the future you could certainly do so you would just need to add it can dish",
    "start": "1846090",
    "end": "1851640"
  },
  {
    "text": "statement in your IM policies that explicitly define which a.m. eyes the users allowed to launch from and this is",
    "start": "1851640",
    "end": "1858300"
  },
  {
    "text": "the run instances api call within the ec2 service so what Josh just introduced",
    "start": "1858300",
    "end": "1864990"
  },
  {
    "text": "is the idea of automating incident response we're actually using one of our services in this case lamda to evaluate",
    "start": "1864990",
    "end": "1871770"
  },
  {
    "text": "an event and then trigger a response based on that and most if not all of the pieces that you need in order to automate incident response exist in",
    "start": "1871770",
    "end": "1878640"
  },
  {
    "text": "Amazon Web Services so automated incident response is going to give your security team greater agility we're",
    "start": "1878640",
    "end": "1883950"
  },
  {
    "text": "dealing with these types of events and that means you're going to go from detecting an event to actually protecting from that programmatically",
    "start": "1883950",
    "end": "1890730"
  },
  {
    "text": "within your a Dobis environment we're talking about lamb defying your incident response absolutely so we can use lambda",
    "start": "1890730",
    "end": "1898650"
  },
  {
    "text": "to automate the incident response that we've been talking about previously so if we circle back to the first example",
    "start": "1898650",
    "end": "1903810"
  },
  {
    "text": "of a security event that we were talking about for someone stopping the cloud trail logs in this case we're detecting",
    "start": "1903810",
    "end": "1911040"
  },
  {
    "text": "or we're using nodejs the SDK to detect the stop logging event to the cloud",
    "start": "1911040",
    "end": "1916410"
  },
  {
    "text": "trail service and in this case after we make that detection if my matching",
    "start": "1916410",
    "end": "1922350"
  },
  {
    "text": "records length was greater than or equal to one I can call the cloud service to initiate the start logging API event",
    "start": "1922350",
    "end": "1929750"
  },
  {
    "text": "this way I can turn cloud shot back on let's see here so I'll show you what",
    "start": "1929750",
    "end": "1936030"
  },
  {
    "text": "this looks like this entire talk I've had a short demo script running in my account doing some bad things basically",
    "start": "1936030",
    "end": "1944100"
  },
  {
    "text": "turning off cloud trail and launching unapproved instances so if I flip over here and refresh you can see that the",
    "start": "1944100",
    "end": "1951870"
  },
  {
    "text": "demo user is consistently making API calls to run instances with unapproved",
    "start": "1951870",
    "end": "1957540"
  },
  {
    "text": "a.m. ice and it's also trying to turn off my cloud role but shortly thereafter AWS lambdas service will terminate the",
    "start": "1957540",
    "end": "1964470"
  },
  {
    "text": "incidents as well as turn cloud trail back on and this has been reassuring repeatedly throughout my account this entire talk",
    "start": "1964470",
    "end": "1971929"
  },
  {
    "text": "so let's take a look at a flow diagram and how this works we're going to configure a TRS cloud shell just send",
    "start": "1975030",
    "end": "1980100"
  },
  {
    "text": "the logs to Amazon s3 bucket and then we want Amazon s3 to send event notifications to the Amazon SNS service",
    "start": "1980100",
    "end": "1986940"
  },
  {
    "text": "whenever our new log is deposited in the bucket so that SNS topic can have multiple lanes of subscribers and then",
    "start": "1986940",
    "end": "1993660"
  },
  {
    "text": "we can or each of those subscribers or individual lambda functions and then they can check and react to different",
    "start": "1993660",
    "end": "1999390"
  },
  {
    "text": "things and this allows us to build new automatic response functions within lambda separately and be able to",
    "start": "1999390",
    "end": "2005150"
  },
  {
    "text": "troubleshoot and make sure we get it working so to be able to create that fan of multiple lambda subscribers",
    "start": "2005150",
    "end": "2012230"
  },
  {
    "text": "there's actually a blog article on our website you can check it out it's by John Stamper solution architects with AWS but basically there's too quickly",
    "start": "2012230",
    "end": "2018950"
  },
  {
    "text": "run through the steps that are heavily detailed out in that blog article first step is we're gonna turn cloud for long",
    "start": "2018950",
    "end": "2024830"
  },
  {
    "text": "obviously and then we're gonna create an SMS topic we're gonna update that topic policy to allow the event notifications",
    "start": "2024830",
    "end": "2031580"
  },
  {
    "text": "from your s3 bucket and then we're going to configure the s3 bucket actually send those event notifications to the topic",
    "start": "2031580",
    "end": "2037210"
  },
  {
    "text": "after we do that we can create a I am role for the lambda function it will need permissions to be able to turn",
    "start": "2037210",
    "end": "2043130"
  },
  {
    "text": "Cloud trail on or terminate the instances that are unapproved and then we can actually start writing the lambda",
    "start": "2043130",
    "end": "2048320"
  },
  {
    "text": "functions and process the SMS messages and process the cloud show logs that were passing to it so the question would",
    "start": "2048320",
    "end": "2056330"
  },
  {
    "text": "be what can you automatically respond to you actually all the previous examples we talked about with a very manual process of responding to the events and",
    "start": "2056330",
    "end": "2063050"
  },
  {
    "text": "recovering we can actually automate all of this so here's just a screenshot of",
    "start": "2063050",
    "end": "2068628"
  },
  {
    "text": "multiple lambda functions that are defined that they're each processing Cloud trail logs looking for security",
    "start": "2068629",
    "end": "2074090"
  },
  {
    "text": "anomalies or events so here's an example of a script that we have in lambda",
    "start": "2074090",
    "end": "2079970"
  },
  {
    "text": "that's actually looking for particular events associated with s3 object removals making sure that we ingest the",
    "start": "2079970",
    "end": "2086388"
  },
  {
    "text": "bucket name the actual key ID and then using that as a mechanism to perform the copy object requests on our behalf",
    "start": "2086389",
    "end": "2091940"
  },
  {
    "text": "literally this moves so fast that as you delete the file lambda puts the file back in the bucket you cannot do an LS",
    "start": "2091940",
    "end": "2098870"
  },
  {
    "text": "faster than lambda actually puts the object back in the bucket for you makes it difficult to delete files",
    "start": "2098870",
    "end": "2105490"
  },
  {
    "text": "we're also doing automated automation Incident Response for open security groups in this case we're chaining a lot",
    "start": "2105500",
    "end": "2111720"
  },
  {
    "text": "of things that we're looking for in the case of create a security group that is of IP protocol NE and has a range that",
    "start": "2111720",
    "end": "2118650"
  },
  {
    "text": "we're not too crazy about and we automatically delete that security group makes it difficult to create open",
    "start": "2118650",
    "end": "2124619"
  },
  {
    "text": "security groups so what we're talking",
    "start": "2124619",
    "end": "2129869"
  },
  {
    "text": "about is automating Incident Response and we're talking about getting under the hood and looking at lambda as a",
    "start": "2129869",
    "end": "2135690"
  },
  {
    "text": "mechanism for doing that it would be great for people that aren't necessarily interested in getting under the hood to",
    "start": "2135690",
    "end": "2141510"
  },
  {
    "text": "actually have something that might do this for them and was a lot easier for them to work with and it turns out that",
    "start": "2141510",
    "end": "2146880"
  },
  {
    "text": "we've released some new features specifically eight of us config rules that allows you to do a lot of automated",
    "start": "2146880",
    "end": "2152100"
  },
  {
    "text": "incident response so AWS config rules extends a TOS config with a powerful rule system you can use existing rules",
    "start": "2152100",
    "end": "2158700"
  },
  {
    "text": "from AWS we have a few recommendations some ideas we have partners that will be developing those as well and then you",
    "start": "2158700",
    "end": "2165060"
  },
  {
    "text": "can also create your own custom rules which we've given you some examples on how to do that if you want to find out more about a Debus config rules and how",
    "start": "2165060",
    "end": "2171359"
  },
  {
    "text": "to use that as an automated incident response mechanism use checkout sec 314 which will be tomorrow and i believe",
    "start": "2171359",
    "end": "2177030"
  },
  {
    "text": "another another offering of that on friday as well jeff bars put up a blog",
    "start": "2177030",
    "end": "2182880"
  },
  {
    "text": "post specifically about a device config rules and using that for understanding and dynamically checking for any number",
    "start": "2182880",
    "end": "2189359"
  },
  {
    "text": "of different compliance and security concerns within your a device environment now you might have these",
    "start": "2189359",
    "end": "2197040"
  },
  {
    "text": "capabilities and you might have these scripts and you might even automate some of it but it's important to understand",
    "start": "2197040",
    "end": "2202050"
  },
  {
    "text": "how you're going to interact with that within your security team and practice makes perfect when you're doing that we",
    "start": "2202050",
    "end": "2207480"
  },
  {
    "text": "recommend having Incident Response gamedays and if you're not necessarily ready for Incident Response gamedays",
    "start": "2207480",
    "end": "2213030"
  },
  {
    "text": "then maybe tabletop exercises and if you'd like to learn more about how to actually harden your architecture with",
    "start": "2213030",
    "end": "2218430"
  },
  {
    "text": "security incident response simulations then you seen you should see John Miller's talk SEC 316 in addition to",
    "start": "2218430",
    "end": "2226859"
  },
  {
    "text": "that we actually have partners another external resource for Incident Response support for example and here to talk",
    "start": "2226859",
    "end": "2233369"
  },
  {
    "text": "about directly supporting a diverse customer incident response needs is Jonathan poling for Dell SecureWorks my on I'm good all",
    "start": "2233369",
    "end": "2245880"
  },
  {
    "text": "right thanks Don I appreciate it so I'm Jonathan poling I'm a principal consultant with Dell SecureWorks and so",
    "start": "2245880",
    "end": "2252690"
  },
  {
    "text": "we've heard about security events and you know moving in the cloud and manage in the cloud and operate in the cloud but what does Incident Response and",
    "start": "2252690",
    "end": "2257700"
  },
  {
    "text": "forensics look like in the cloud so has anyone done Incident Response in the cloud no a few people have you fully",
    "start": "2257700",
    "end": "2263550"
  },
  {
    "text": "investigated an incident from start to finish within the cloud or just kind of said and I restarted it and it was done",
    "start": "2263550",
    "end": "2269400"
  },
  {
    "text": "yeah so so can anyone say of the few the raise their hand that you know conclusively I missed nothing that was",
    "start": "2269400",
    "end": "2276390"
  },
  {
    "text": "offered with an AWS that could have helped assist with millions in a response engagement right yeah okay well",
    "start": "2276390",
    "end": "2282420"
  },
  {
    "text": "if yes then maybe we can talk after for a job so what I'm gonna provide here is just kind of an IR a quick quick case",
    "start": "2282420",
    "end": "2288180"
  },
  {
    "text": "study ir case example whereas ir looked like within the cloud was forensic look likely in the cloud how can AWS",
    "start": "2288180",
    "end": "2293220"
  },
  {
    "text": "facilitate incident response and for instance in the cloud and also a sort of wish list so when we respond things that",
    "start": "2293220",
    "end": "2298740"
  },
  {
    "text": "we'd love for you to have prepared or already done by the time we respond and then at the end how to contact us and so forth so so we had a customer contact us",
    "start": "2298740",
    "end": "2308280"
  },
  {
    "text": "that's a provider of cloud-based collaboration software you probably know I mean if anyone in here was not using",
    "start": "2308280",
    "end": "2313950"
  },
  {
    "text": "least one of their products I'd be surprised so we start with the typical kind of incident response scenario high",
    "start": "2313950",
    "end": "2318990"
  },
  {
    "text": "CPU usage on some web facing servers they went and investigated it found that there was a bunch of unauthorized logins",
    "start": "2318990",
    "end": "2325349"
  },
  {
    "text": "from external IP addresses with supposedly compromised credentials right basic Incident Response forensic stuff",
    "start": "2325349",
    "end": "2331140"
  },
  {
    "text": "well here's how it kind of changes so the threat actors using AWS using those",
    "start": "2331140",
    "end": "2336150"
  },
  {
    "text": "compromised credentials got into the infrastructure and we're actually propagating and moving laterally and doing a bunch of things very quickly",
    "start": "2336150",
    "end": "2342089"
  },
  {
    "text": "within AWS right so we responded to perform digital forensics on their web apps their",
    "start": "2342089",
    "end": "2347310"
  },
  {
    "text": "instances and snapshots their cloud trail logs which they had enabled and collecting and some suspected on-premise",
    "start": "2347310",
    "end": "2354240"
  },
  {
    "text": "systems so next slide so what does the response look like how does this differ",
    "start": "2354240",
    "end": "2359490"
  },
  {
    "text": "really in the cloud so from our perspective in our VPC in our infrastructure we launched some ec2 instances within our own VPC and we",
    "start": "2359490",
    "end": "2366690"
  },
  {
    "text": "create an s3 data bucket for data sharing back and forth using I am we were also",
    "start": "2366690",
    "end": "2372359"
  },
  {
    "text": "able to acquire snapshots of the affected customers ec2 instances transfer those snapshots to our s3",
    "start": "2372359",
    "end": "2378569"
  },
  {
    "text": "bucket for analysis and receive access to their cloud trail logs so we could start checking those out so using some",
    "start": "2378569",
    "end": "2384180"
  },
  {
    "text": "very rapidly deployed forensic tool sets you know you all know how quickly it you can set up infrastructure in AWS we were",
    "start": "2384180",
    "end": "2391200"
  },
  {
    "text": "able to look at the file systems you know just as you would for incident response and forensics in the cloud and we also checked out their a.m. eyes what",
    "start": "2391200",
    "end": "2397200"
  },
  {
    "text": "were these instances built upon is there anything bad happening there and also their cloud trail logs we provide a lot more insight than just the OS layer",
    "start": "2397200",
    "end": "2403140"
  },
  {
    "text": "provides more insight into what was happening amongst all these resources as well so doing this we provided really comprehensive analysis of the incident",
    "start": "2403140",
    "end": "2409710"
  },
  {
    "text": "that affected their AWS resources as a whole so so what does AWS offer us",
    "start": "2409710",
    "end": "2415829"
  },
  {
    "text": "what's what's really the takeaway here so it drastically reduces the amount of time between initial identification and",
    "start": "2415829",
    "end": "2421079"
  },
  {
    "text": "engagement to analysis right so security event data can be rapidly acquired staged and ready for analysis with an",
    "start": "2421079",
    "end": "2427079"
  },
  {
    "text": "AWS we're not talking contact us ship the hard drive did FedEx does it arrive",
    "start": "2427079",
    "end": "2432839"
  },
  {
    "text": "on time did they pump the package to your door there's no worrying about that right take a snapshot share it with us we have access to that data appropriate",
    "start": "2432839",
    "end": "2439200"
  },
  {
    "text": "access can also be quickly granted to us to assist through iam so if you're having an issue give us an IM role we",
    "start": "2439200",
    "end": "2445470"
  },
  {
    "text": "can log into the console we can help you do whatever you need to do and so the ability to collaborate on configuration activities directly with an AWS really",
    "start": "2445470",
    "end": "2452670"
  },
  {
    "text": "minimizes troubleshooting time as well so if we we say we need some logs and you know and it's like well what type of",
    "start": "2452670",
    "end": "2458250"
  },
  {
    "text": "log what does it look like you know is just the right type of log force uploaded to the s3 budget I can check it out in a few minutes there's no no uploading to an SFTP server it's not",
    "start": "2458250",
    "end": "2464940"
  },
  {
    "text": "getting caught an email it's not wondering how do we do this how do we exchange this securely it's all there right so it creates a very effective",
    "start": "2464940",
    "end": "2471029"
  },
  {
    "text": "environment for sharing these I our resources and performing AWS women cloud so versus traditional IR this really",
    "start": "2471029",
    "end": "2477950"
  },
  {
    "text": "maximizes the amount you can do in a short amount of time so we're doing a lot more in a lot less time and when",
    "start": "2477950",
    "end": "2483809"
  },
  {
    "text": "you're hiring a consulting practice like ours or anyone else time is money right so less time equates",
    "start": "2483809",
    "end": "2489930"
  },
  {
    "text": "to not just more not just more effective and efficient response we're talking about a lot of cost savings to the",
    "start": "2489930",
    "end": "2495329"
  },
  {
    "text": "company as a whole so moving on to our wish list so what would we want you to have prepared what can you have prepared",
    "start": "2495329",
    "end": "2501540"
  },
  {
    "text": "for us to really help us maximize our efficiency and effectiveness so take snapshots of the affected instances",
    "start": "2501540",
    "end": "2506850"
  },
  {
    "text": "right super easy click a button one and done collect network and instance metadata so what's happening and in your environment",
    "start": "2506850",
    "end": "2513240"
  },
  {
    "text": "you know if you're using AWS config it took a snapshot what's changed between now and then create a restricted access VPC security group or separate AWS",
    "start": "2513240",
    "end": "2521100"
  },
  {
    "text": "account to kind of sequester things if you have a restricted security group something's affected just move it in it's sequestered until we can get to it",
    "start": "2521100",
    "end": "2527490"
  },
  {
    "text": "right be ready to create temporary users and credentials by I am and then again that's for temporary access for us to",
    "start": "2527490",
    "end": "2533280"
  },
  {
    "text": "come in and talk with your resources to collect the data we need or just help you guys through some of the stuff so enable and centralize cloud trail and",
    "start": "2533280",
    "end": "2539910"
  },
  {
    "text": "cloud watch logs you're seeing a recurring theme here hopefully by now with those things very easy and last but",
    "start": "2539910",
    "end": "2545580"
  },
  {
    "text": "certainly not least dedicated s3 bucket for sharing these artifacts again that much much has a much greater effect on",
    "start": "2545580",
    "end": "2552420"
  },
  {
    "text": "facilitating that access and making us able to respond more quickly and see that stuff and much more real time so",
    "start": "2552420",
    "end": "2559200"
  },
  {
    "text": "moving on so here's just how to contact us you know it's we've bent the same",
    "start": "2559200",
    "end": "2564330"
  },
  {
    "text": "number and same website for a while but by directly partnering with AWS this has",
    "start": "2564330",
    "end": "2570450"
  },
  {
    "text": "greatly facilitated our ability to perform IR on forensics just as we've always been able to do but now within",
    "start": "2570450",
    "end": "2575730"
  },
  {
    "text": "the AWS cloud so please come visit us at our booth 446 we are next to docker so",
    "start": "2575730",
    "end": "2582000"
  },
  {
    "text": "if you can just see past the critical mass of people waiting for t-shirts we are just on the other side of that also",
    "start": "2582000",
    "end": "2588180"
  },
  {
    "text": "flag me down there's much more I had to talk about but really a short time slot here I love talk about it I'm passionate",
    "start": "2588180",
    "end": "2593190"
  },
  {
    "text": "about it and so are we and so I'm looking forward to talking with you guys about it appreciate it thank you",
    "start": "2593190",
    "end": "2599390"
  },
  {
    "text": "now we really appreciate any bus partners like Dell SecureWorks helping us meet our customer security objectives",
    "start": "2602900",
    "end": "2608729"
  },
  {
    "text": "it's pretty cool I should also point out that Dell SecureWorks can also be found in the ADA business marketplace so if",
    "start": "2608729",
    "end": "2615119"
  },
  {
    "text": "you search for incident response in the eight abyss marketplace you'll be presented with their offering as well as other eight of us partners that are",
    "start": "2615119",
    "end": "2620939"
  },
  {
    "text": "ready to help customers with wrangling security events we're gonna go over some resources some old some new our ADA mr.",
    "start": "2620939",
    "end": "2628169"
  },
  {
    "text": "security best practices white paper available for download as always helps people understand what they should be",
    "start": "2628169",
    "end": "2633179"
  },
  {
    "text": "doing within their 80s account certainly covering everything from how to configure things but also covers things",
    "start": "2633179",
    "end": "2638759"
  },
  {
    "text": "such as auditing alerting and incident response new happens to be our security",
    "start": "2638759",
    "end": "2644669"
  },
  {
    "text": "training so not just actually teaching you about fundamentals in AWS security but also sect DevOps so actually how to",
    "start": "2644669",
    "end": "2651269"
  },
  {
    "text": "have a team that is more familiar with and ready to basically perform security actions within an AWS environment",
    "start": "2651269",
    "end": "2657919"
  },
  {
    "text": "external resources include obviously the sans reading room on Incident Response first is a good organization for",
    "start": "2657919",
    "end": "2663539"
  },
  {
    "text": "incident responders and then cert has plenty of documentation with regards to Incident Response and management",
    "start": "2663539",
    "end": "2669619"
  },
  {
    "text": "some newer external resources Incident Response tools and frameworks for people that are doing it at scale so Mozilla",
    "start": "2669619",
    "end": "2675749"
  },
  {
    "text": "has released their Mozilla investigator which is a really good example of an incident response mechanism at scale and",
    "start": "2675749",
    "end": "2680789"
  },
  {
    "text": "the Netflix has started providing an open-source mechanism to perform automated Incident Response at scale",
    "start": "2680789",
    "end": "2686939"
  },
  {
    "text": "fully integrated defense operations or what's called Fido there are definitely",
    "start": "2686939",
    "end": "2693029"
  },
  {
    "text": "some other talks that you should be checking out this week certainly sec 403 which we'll go deeper into looking for",
    "start": "2693029",
    "end": "2698339"
  },
  {
    "text": "security events using apache spark in amazon amazon EMR architecting for",
    "start": "2698339",
    "end": "2704519"
  },
  {
    "text": "end-to-end security in the enterprise is a great talk and if you missed any of these live they will be available on",
    "start": "2704519",
    "end": "2709709"
  },
  {
    "text": "youtube just like this talk and don't forget last year's intrusion detection in the cloud and incident response in",
    "start": "2709709",
    "end": "2714779"
  },
  {
    "text": "the cloud that are already on youtube if something goes bump in the night you don't know who to call you don't have a",
    "start": "2714779",
    "end": "2720239"
  },
  {
    "text": "call list already created you can always call a TA bit of support eight of a support is your one-stop-shop for 80 of",
    "start": "2720239",
    "end": "2726089"
  },
  {
    "text": "us customers any concerns including those that are security related and if a.w support cannot immediately address",
    "start": "2726089",
    "end": "2731699"
  },
  {
    "text": "your concern they will escalate internally to the appropriate technical that will include AWS security if we're",
    "start": "2731699",
    "end": "2738770"
  },
  {
    "text": "talking about a bit of security our own resources we have the A to B of security blog check it out as well as the aid of a security centre plenty of resources",
    "start": "2738770",
    "end": "2744830"
  },
  {
    "text": "there you can always email us AWS - security at amazon.com so in summary you",
    "start": "2744830",
    "end": "2752240"
  },
  {
    "text": "can achieve security agility on AWS probably a little bit more than you can in some other environments if you have",
    "start": "2752240",
    "end": "2759050"
  },
  {
    "text": "certain threats that you're concerned about or certain policies that you would like to make sure enforced you shoulda",
    "start": "2759050",
    "end": "2764090"
  },
  {
    "text": "numerate those and then start creating signatures as well as detection mechanisms for those we talked about automating Incident Response and you've",
    "start": "2764090",
    "end": "2770840"
  },
  {
    "text": "got the tools available to you to do that on AWS as well as new services that will give you easy ways to do it such as",
    "start": "2770840",
    "end": "2776570"
  },
  {
    "text": "AWS config rules remember that there's two ways that you're going to get practice in Incident Response you get to",
    "start": "2776570",
    "end": "2782780"
  },
  {
    "text": "choose one of those ways we and our partners are here to help so give us a",
    "start": "2782780",
    "end": "2788540"
  },
  {
    "text": "call if you need to hey remember to complete your evaluations if you'd like to see more about incident response",
    "start": "2788540",
    "end": "2793880"
  },
  {
    "text": "particularly training in that particular regard where where it comes to sec DevOps give us some feedback let us know",
    "start": "2793880",
    "end": "2799490"
  },
  {
    "text": "and we'll see what we can deliver for you thanks",
    "start": "2799490",
    "end": "2803770"
  }
]