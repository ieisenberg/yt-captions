[
  {
    "start": "0",
    "end": "30000"
  },
  {
    "text": "[Music]",
    "start": "650",
    "end": "1010"
  },
  {
    "text": "[Applause]",
    "start": "1010",
    "end": "4088"
  },
  {
    "text": "[Music]",
    "start": "4960",
    "end": "11679"
  },
  {
    "text": "hello i am nabanita a cloud support",
    "start": "12000",
    "end": "14639"
  },
  {
    "text": "engineer here at the aws office in",
    "start": "14639",
    "end": "17279"
  },
  {
    "text": "dallas",
    "start": "17279",
    "end": "18560"
  },
  {
    "text": "today i am going to show you how to",
    "start": "18560",
    "end": "20640"
  },
  {
    "text": "troubleshoot invalid permissions on",
    "start": "20640",
    "end": "23039"
  },
  {
    "text": "lambda function errors from api gateway",
    "start": "23039",
    "end": "25840"
  },
  {
    "text": "rest apis",
    "start": "25840",
    "end": "27599"
  },
  {
    "text": "let's get started",
    "start": "27599",
    "end": "29359"
  },
  {
    "text": "when trying to invoke an api gateway api",
    "start": "29359",
    "end": "32800"
  },
  {
    "start": "30000",
    "end": "65000"
  },
  {
    "text": "integrated with an aws lambda function",
    "start": "32800",
    "end": "36000"
  },
  {
    "text": "or with a lambda authorizer api gateway",
    "start": "36000",
    "end": "39680"
  },
  {
    "text": "returns the error invalid permissions on",
    "start": "39680",
    "end": "42480"
  },
  {
    "text": "lambda function if the required",
    "start": "42480",
    "end": "44320"
  },
  {
    "text": "permissions aren't granted let's walk",
    "start": "44320",
    "end": "46800"
  },
  {
    "text": "through how to add the lambda invoke",
    "start": "46800",
    "end": "48960"
  },
  {
    "text": "permissions using the api gateway",
    "start": "48960",
    "end": "51120"
  },
  {
    "text": "console aws command line interface and",
    "start": "51120",
    "end": "54640"
  },
  {
    "text": "aws cloud formation template",
    "start": "54640",
    "end": "57120"
  },
  {
    "text": "to add lambda invoke permission to a",
    "start": "57120",
    "end": "59600"
  },
  {
    "text": "rest api with the lambda integration",
    "start": "59600",
    "end": "62239"
  },
  {
    "text": "using the api gateway console follow",
    "start": "62239",
    "end": "64960"
  },
  {
    "text": "these steps after logging in to the aws",
    "start": "64960",
    "end": "68880"
  },
  {
    "start": "65000",
    "end": "128000"
  },
  {
    "text": "management console navigate to the api",
    "start": "68880",
    "end": "72000"
  },
  {
    "text": "gateway console",
    "start": "72000",
    "end": "73520"
  },
  {
    "text": "then select",
    "start": "73520",
    "end": "74799"
  },
  {
    "text": "the api's pane and choose the name of",
    "start": "74799",
    "end": "77680"
  },
  {
    "text": "your rest api on the resources pane",
    "start": "77680",
    "end": "80720"
  },
  {
    "text": "choose the configured http method on the",
    "start": "80720",
    "end": "83600"
  },
  {
    "text": "method execution pane choose integration",
    "start": "83600",
    "end": "86799"
  },
  {
    "text": "request",
    "start": "86799",
    "end": "88080"
  },
  {
    "text": "for integration type choose lambda",
    "start": "88080",
    "end": "90560"
  },
  {
    "text": "function expand the lambda region",
    "start": "90560",
    "end": "92960"
  },
  {
    "text": "drop-down list",
    "start": "92960",
    "end": "94320"
  },
  {
    "text": "then choose the aws region that your",
    "start": "94320",
    "end": "97200"
  },
  {
    "text": "lambda function is in",
    "start": "97200",
    "end": "99280"
  },
  {
    "text": "choose the lambda function drop-down",
    "start": "99280",
    "end": "101280"
  },
  {
    "text": "list then choose the name of your lambda",
    "start": "101280",
    "end": "104159"
  },
  {
    "text": "function",
    "start": "104159",
    "end": "105119"
  },
  {
    "text": "a prompt appears that gives you the",
    "start": "105119",
    "end": "107520"
  },
  {
    "text": "option to add permission to lambda",
    "start": "107520",
    "end": "109840"
  },
  {
    "text": "function choose ok",
    "start": "109840",
    "end": "112000"
  },
  {
    "text": "then choose deploy api to add the lambda",
    "start": "112000",
    "end": "115439"
  },
  {
    "text": "invoke permission to your api",
    "start": "115439",
    "end": "119439"
  },
  {
    "text": "to add lambda invoke permission to a",
    "start": "122159",
    "end": "124960"
  },
  {
    "text": "rest api with a lambda integration using",
    "start": "124960",
    "end": "128560"
  },
  {
    "start": "128000",
    "end": "153000"
  },
  {
    "text": "a cloud formation template follow these",
    "start": "128560",
    "end": "130879"
  },
  {
    "text": "steps first add the code snippet to your",
    "start": "130879",
    "end": "134239"
  },
  {
    "text": "cloud formation template replace api id",
    "start": "134239",
    "end": "137760"
  },
  {
    "text": "with your api id replace the function",
    "start": "137760",
    "end": "140560"
  },
  {
    "text": "name value with the name of your lambda",
    "start": "140560",
    "end": "143200"
  },
  {
    "text": "function replace the source arn value",
    "start": "143200",
    "end": "146239"
  },
  {
    "text": "with your api source amazon resource",
    "start": "146239",
    "end": "148959"
  },
  {
    "text": "name arn",
    "start": "148959",
    "end": "150640"
  },
  {
    "text": "to add lambda invoke permission to a",
    "start": "150640",
    "end": "153040"
  },
  {
    "start": "153000",
    "end": "189000"
  },
  {
    "text": "rest api with a lambda integration using",
    "start": "153040",
    "end": "155920"
  },
  {
    "text": "the aws cli follow these steps run the",
    "start": "155920",
    "end": "159200"
  },
  {
    "text": "add permission aws cli command",
    "start": "159200",
    "end": "162239"
  },
  {
    "text": "replace the function name value with the",
    "start": "162239",
    "end": "165040"
  },
  {
    "text": "name of your lambda function",
    "start": "165040",
    "end": "167120"
  },
  {
    "text": "replace the source arn value with the",
    "start": "167120",
    "end": "169840"
  },
  {
    "text": "source arn of your api replace the",
    "start": "169840",
    "end": "173040"
  },
  {
    "text": "statement id value with the statement",
    "start": "173040",
    "end": "175680"
  },
  {
    "text": "identifier that differentiates the",
    "start": "175680",
    "end": "178000"
  },
  {
    "text": "statement from others in the same policy",
    "start": "178000",
    "end": "182920"
  },
  {
    "text": "to add lambda invoke permission to a",
    "start": "186480",
    "end": "189280"
  },
  {
    "start": "189000",
    "end": "315000"
  },
  {
    "text": "rest api with a lambda authorizer using",
    "start": "189280",
    "end": "192159"
  },
  {
    "text": "the api gateway console follow these",
    "start": "192159",
    "end": "194800"
  },
  {
    "text": "steps first create an aws identity and",
    "start": "194800",
    "end": "198480"
  },
  {
    "text": "access management role for api gateway",
    "start": "198480",
    "end": "201680"
  },
  {
    "text": "for this from the aws management console",
    "start": "201680",
    "end": "205360"
  },
  {
    "text": "navigate to the im console in the",
    "start": "205360",
    "end": "208000"
  },
  {
    "text": "navigation pane of the im console choose",
    "start": "208000",
    "end": "211440"
  },
  {
    "text": "roles and then choose create rule",
    "start": "211440",
    "end": "214640"
  },
  {
    "text": "for select trusted entity choose aws",
    "start": "214640",
    "end": "218000"
  },
  {
    "text": "service",
    "start": "218000",
    "end": "218959"
  },
  {
    "text": "choose api gateway from the drop down",
    "start": "218959",
    "end": "221360"
  },
  {
    "text": "list",
    "start": "221360",
    "end": "223680"
  },
  {
    "text": "choose next twice",
    "start": "225360",
    "end": "228879"
  },
  {
    "text": "enter a name for the role",
    "start": "231840",
    "end": "235280"
  },
  {
    "text": "choose create role",
    "start": "237599",
    "end": "241400"
  },
  {
    "text": "open the rule",
    "start": "242480",
    "end": "245360"
  },
  {
    "text": "choose on add permissions and then",
    "start": "246400",
    "end": "248640"
  },
  {
    "text": "choose create inline policy",
    "start": "248640",
    "end": "251519"
  },
  {
    "text": "choose lambda for service",
    "start": "251519",
    "end": "255720"
  },
  {
    "text": "invoke function for action",
    "start": "257120",
    "end": "260720"
  },
  {
    "text": "all resources for resources",
    "start": "263680",
    "end": "266639"
  },
  {
    "text": "choose review policy",
    "start": "266639",
    "end": "269600"
  },
  {
    "text": "add a name to the policy",
    "start": "269600",
    "end": "272720"
  },
  {
    "text": "and then choose create policy",
    "start": "272720",
    "end": "276400"
  },
  {
    "text": "copy the iam role arden to your",
    "start": "276560",
    "end": "279520"
  },
  {
    "text": "clipboard navigate",
    "start": "279520",
    "end": "283319"
  },
  {
    "text": "to apis pane choose the name of your",
    "start": "283759",
    "end": "286400"
  },
  {
    "text": "rest api on the authorizers pane",
    "start": "286400",
    "end": "289360"
  },
  {
    "text": "choose the configured lambda authorizer",
    "start": "289360",
    "end": "291759"
  },
  {
    "text": "then choose edit for lambda invoke role",
    "start": "291759",
    "end": "295120"
  },
  {
    "text": "enter the im role arn that you copied to",
    "start": "295120",
    "end": "298160"
  },
  {
    "text": "your clipboard choose save",
    "start": "298160",
    "end": "302240"
  },
  {
    "text": "then choose deploy api",
    "start": "305520",
    "end": "310120"
  },
  {
    "text": "to add lambda invoke permission to a",
    "start": "313520",
    "end": "316080"
  },
  {
    "start": "315000",
    "end": "347000"
  },
  {
    "text": "rest api with a lambda authorizer using",
    "start": "316080",
    "end": "318960"
  },
  {
    "text": "a cloud formation template add the code",
    "start": "318960",
    "end": "321280"
  },
  {
    "text": "snippet to your cloud formation template",
    "start": "321280",
    "end": "325840"
  },
  {
    "text": "replace api id with your api id",
    "start": "328800",
    "end": "332639"
  },
  {
    "text": "replace the function value with the name",
    "start": "332639",
    "end": "335280"
  },
  {
    "text": "of your lambda function",
    "start": "335280",
    "end": "337120"
  },
  {
    "text": "replace auth id with your lambda",
    "start": "337120",
    "end": "339840"
  },
  {
    "text": "authorizer's authorizer id",
    "start": "339840",
    "end": "342479"
  },
  {
    "text": "to add lambda invoke permission to a",
    "start": "342479",
    "end": "344800"
  },
  {
    "text": "rest api with a lambda authorizer using",
    "start": "344800",
    "end": "348320"
  },
  {
    "start": "347000",
    "end": "388000"
  },
  {
    "text": "the aws cli run the add permission aws",
    "start": "348320",
    "end": "352080"
  },
  {
    "text": "cli command replace the function name",
    "start": "352080",
    "end": "355039"
  },
  {
    "text": "value with the name of your lambda",
    "start": "355039",
    "end": "356960"
  },
  {
    "text": "function",
    "start": "356960",
    "end": "358639"
  },
  {
    "text": "replace the source arn value with the",
    "start": "358639",
    "end": "361360"
  },
  {
    "text": "source arn of your api",
    "start": "361360",
    "end": "364479"
  },
  {
    "text": "replace the statement id value with a",
    "start": "364479",
    "end": "366960"
  },
  {
    "text": "statement identifier that differentiates",
    "start": "366960",
    "end": "369520"
  },
  {
    "text": "the statement from others in the same",
    "start": "369520",
    "end": "371600"
  },
  {
    "text": "policy",
    "start": "371600",
    "end": "374080"
  },
  {
    "text": "so now you know how to grant the right",
    "start": "379039",
    "end": "381440"
  },
  {
    "text": "permissions to api gateway api when it",
    "start": "381440",
    "end": "384160"
  },
  {
    "text": "returns an invalid permissions on lambda",
    "start": "384160",
    "end": "387120"
  },
  {
    "text": "function error thanks for watching and",
    "start": "387120",
    "end": "389520"
  },
  {
    "start": "388000",
    "end": "404000"
  },
  {
    "text": "happy cloud computing from all of us",
    "start": "389520",
    "end": "391440"
  },
  {
    "text": "here at aws",
    "start": "391440",
    "end": "393780"
  },
  {
    "text": "[Applause]",
    "start": "393780",
    "end": "395590"
  },
  {
    "text": "[Music]",
    "start": "395590",
    "end": "398710"
  },
  {
    "text": "[Music]",
    "start": "400740",
    "end": "403949"
  }
]