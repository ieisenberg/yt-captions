[
  {
    "start": "0",
    "end": "381000"
  },
  {
    "text": "foreign",
    "start": "0",
    "end": "3000"
  },
  {
    "text": "I'm a senior Tam at AWS and I'm based out of Philadelphia Pennsylvania welcome",
    "start": "7880",
    "end": "13019"
  },
  {
    "text": "to AWS support you where AWS support experts provide tips to optimize performance in the cloud lower costs and",
    "start": "13019",
    "end": "19740"
  },
  {
    "text": "provides you with the best practices and design considerations joining me today are kellyanne Ankit and Louis from AWS",
    "start": "19740",
    "end": "27539"
  },
  {
    "text": "support can you give us all a quick introduction definitely hi everyone I'm myself Kalyan janaki I'm a senior at Big",
    "start": "27539",
    "end": "34020"
  },
  {
    "text": "Data and analytics specialist from AWS Enterprise support day in day out I work",
    "start": "34020",
    "end": "39180"
  },
  {
    "text": "helping customers with the big data services like EMR glue Athena msk and ensure they're following best practices",
    "start": "39180",
    "end": "45960"
  },
  {
    "text": "and optimizing their operations in Cloud I would go ahead to to you to introduce himself",
    "start": "45960",
    "end": "52140"
  },
  {
    "text": "cool everyone my name is Louis I'm in the same team as both Ankit and Kalyan",
    "start": "52140",
    "end": "57239"
  },
  {
    "text": "I'm a big data and analytics specialist also on a day-to-day basis helping customers out on achieving operational",
    "start": "57239",
    "end": "64140"
  },
  {
    "text": "excellence on their streaming platforms and also some data warehouse in using Amazon redshift",
    "start": "64140",
    "end": "70680"
  },
  {
    "text": "it's cool hello everyone I'm Ankit I'm working",
    "start": "70680",
    "end": "75960"
  },
  {
    "text": "with AWS based out of Berlin my background is in big data and Engineering thanks for joining us",
    "start": "75960",
    "end": "82560"
  },
  {
    "text": "thanks guys today we'll be introducing you to msk Amazon managed streaming uh",
    "start": "82560",
    "end": "87960"
  },
  {
    "text": "for Apache Kafka uh wolf specifically focuses focus on the operational best",
    "start": "87960",
    "end": "93360"
  },
  {
    "text": "practices around msk before we get into the details a quick note to the attendees online use the chat window on",
    "start": "93360",
    "end": "99659"
  },
  {
    "text": "the right hand side of your screen to let us know where you're joining us from today and share your thoughts and questions throughout the episode we look",
    "start": "99659",
    "end": "106680"
  },
  {
    "text": "forward to hearing from you we'll also provide a link to the survey so if you'd like to let us know how we did please",
    "start": "106680",
    "end": "112200"
  },
  {
    "text": "click on the link and leave us your feedback kellyanne this is a an area I don't have a lot of experience in so can",
    "start": "112200",
    "end": "118680"
  },
  {
    "text": "you start us off no problem Stephen firstly I really want to stress their",
    "start": "118680",
    "end": "123720"
  },
  {
    "text": "thanks for letting customers know who are on the show to keep cushion we are ready to answer any questions that you",
    "start": "123720",
    "end": "129599"
  },
  {
    "text": "might have love to answer those questions so let's go with the equity agenda we're going to start up a session to talk",
    "start": "129599",
    "end": "135599"
  },
  {
    "text": "about what's Kafka and how can mskid help for Kafka users and then we're going to touch the best practices",
    "start": "135599",
    "end": "141420"
  },
  {
    "text": "sections like right sizing your Kafka clusters Security based practices monitoring performance and cost",
    "start": "141420",
    "end": "147840"
  },
  {
    "text": "optimization and we're gonna have a Super 8 section for qna but we'd love to",
    "start": "147840",
    "end": "153000"
  },
  {
    "text": "hear your questions over chat and answer them whenever we want to immediately as they appear on the chat",
    "start": "153000",
    "end": "160319"
  },
  {
    "text": "so let's before we get into session let's start with a very quick introduction about Apache Kafka Ankit do",
    "start": "160319",
    "end": "167040"
  },
  {
    "text": "you want to take some time and talk what's an Apache of guys yes you can learn um Apache Kafka is an open source",
    "start": "167040",
    "end": "174959"
  },
  {
    "text": "distributed streaming platform with three uh core capabilities publish And",
    "start": "174959",
    "end": "182580"
  },
  {
    "text": "subscribe stream of the youth records store store records in more fault or",
    "start": "182580",
    "end": "188099"
  },
  {
    "text": "rent V process the record as they occurred widely used for the asynchronous",
    "start": "188099",
    "end": "195060"
  },
  {
    "text": "processing of the events and it can be found out to the Thousand number of consumers without actually impacting the",
    "start": "195060",
    "end": "202379"
  },
  {
    "text": "underneath performance a common use cases or real-time analytics transaction and",
    "start": "202379",
    "end": "210300"
  },
  {
    "text": "event sourcing messaging and microservices in which you can use",
    "start": "210300",
    "end": "215760"
  },
  {
    "text": "Apache Kafka as in messaging queue and publish messages to messaging queue And subscribe the messages from messaging",
    "start": "215760",
    "end": "222959"
  },
  {
    "text": "queue and it can work as a synchronous way then we have use cases streaming ETL",
    "start": "222959",
    "end": "229260"
  },
  {
    "text": "and Matrix and log aggregation and it can we easily connect with the different",
    "start": "229260",
    "end": "235019"
  },
  {
    "text": "sources and destinations like databases data warehouses and we have this data",
    "start": "235019",
    "end": "243420"
  },
  {
    "text": "leak and nosql databases thank you Ankit as Ankit said the Kafka",
    "start": "243420",
    "end": "249299"
  },
  {
    "text": "has become very much like a de facto standard in many Enterprises as an Enterprise messaging bus right so what",
    "start": "249299",
    "end": "255720"
  },
  {
    "text": "are the use case that have been displayed here on the screen they are it's not limited to that right the use cases are very abundant it's just that",
    "start": "255720",
    "end": "262500"
  },
  {
    "text": "we cannot fit everything on the screen here so as we see the rapid adoption of Kafka let's talk about what are the",
    "start": "262500",
    "end": "268919"
  },
  {
    "text": "challenges challenges of operating an Apache Kafka right as Ankit said Kafka is a distributed system means you are",
    "start": "268919",
    "end": "275400"
  },
  {
    "text": "that it's a is a system that's distributed across multiple servers so as coming to any distributed system the",
    "start": "275400",
    "end": "281580"
  },
  {
    "text": "setup is very difficult and the scaling is very tricky right so because you need to maintain so that your nodes are up",
    "start": "281580",
    "end": "288600"
  },
  {
    "text": "and run so you need to take care of the high availability so that one of your node goes down you need to ensure the",
    "start": "288600",
    "end": "293759"
  },
  {
    "text": "bringing of the node right and then Kafka alone cannot solve all your",
    "start": "293759",
    "end": "299100"
  },
  {
    "text": "business problems right you need a producer to send message you need a consumers to consume from you need",
    "start": "299100",
    "end": "304560"
  },
  {
    "text": "authentication authorization you need Enterprise grade security right and then managing such kind of complex",
    "start": "304560",
    "end": "311340"
  },
  {
    "text": "distributed system is not easy and it comes with so much of expensive to maintain it right you need a very deep",
    "start": "311340",
    "end": "317160"
  },
  {
    "text": "expertise of site reliability Engineers to manage a big distributed Apache Kafka",
    "start": "317160",
    "end": "322979"
  },
  {
    "text": "cluster looking at all these challenges AWS actually introduced a man is steaming",
    "start": "322979",
    "end": "328560"
  },
  {
    "text": "foreign so basically what does Amazon msk does for you so Amazon msk is a managed",
    "start": "328560",
    "end": "335880"
  },
  {
    "text": "streaming for open source Apache Kafka which is with a few clicks on the AWS console you will have an msk cluster",
    "start": "335880",
    "end": "342360"
  },
  {
    "text": "ready so it takes automatically provisions and configures the infrastructure for you so that your",
    "start": "342360",
    "end": "348780"
  },
  {
    "text": "teams can concentrate on shipping the products and streaming applications or whatever it is cost to the market and",
    "start": "348780",
    "end": "355320"
  },
  {
    "text": "AWS takes care of the responsibility of managing your cluster infrastructure right it ensures it follows all the",
    "start": "355320",
    "end": "362820"
  },
  {
    "text": "typical best practices like ensuring the broker node is being replaced ensuring providing you an options to secure your",
    "start": "362820",
    "end": "369419"
  },
  {
    "text": "customers with all possible secure configurations and we are using completely open source so the MS the",
    "start": "369419",
    "end": "376740"
  },
  {
    "text": "Kafka cluster you get as part of Amazon msk is fully compatible with open source",
    "start": "376740",
    "end": "382979"
  },
  {
    "start": "381000",
    "end": "976000"
  },
  {
    "text": "so sorry Kelly so if I'm if I'm following correctly like it really what",
    "start": "382979",
    "end": "390060"
  },
  {
    "text": "we're doing is and it does seem like and I've looked at some of this before for me at least it's a very complex thing to",
    "start": "390060",
    "end": "395220"
  },
  {
    "text": "set up and get running so it looks like we really just take a lot of that complexity and work it right out and",
    "start": "395220",
    "end": "401220"
  },
  {
    "text": "then you can just click the button almost and deploy it and really just focus on what you want to develop what",
    "start": "401220",
    "end": "407340"
  },
  {
    "text": "you need to deploy here on this this exactly right so if you don't have msk you need to let's take example of cloud",
    "start": "407340",
    "end": "413460"
  },
  {
    "text": "right you need to manage those cc2 instances you need to patch them you need to upgrade the software you need to",
    "start": "413460",
    "end": "419220"
  },
  {
    "text": "monitor the health of those instances and so that bring back the instances one of the instances go down there's so much",
    "start": "419220",
    "end": "424979"
  },
  {
    "text": "of complexity right and msk is pretty much removing all that complexity for our customers right so with so so msk is",
    "start": "424979",
    "end": "432360"
  },
  {
    "text": "taking care of that all customer needs to is to bring up the cluster create the topics and deploy their applications",
    "start": "432360",
    "end": "437699"
  },
  {
    "text": "right so so now that msk is providing this",
    "start": "437699",
    "end": "442979"
  },
  {
    "text": "service to customers let's talk about what are a few best practices they need to follow before they move into",
    "start": "442979",
    "end": "449039"
  },
  {
    "text": "production or after they move into production uh for Kafka applications using Amazon msk right",
    "start": "449039",
    "end": "454680"
  },
  {
    "text": "the first best practice is that we want to talk today is Right sizing your MSP cluster right even before you go into",
    "start": "454680",
    "end": "460860"
  },
  {
    "text": "production we would want you to right size your cluster right so when you're when you right size your cluster you",
    "start": "460860",
    "end": "466979"
  },
  {
    "text": "might be eliminating a lot of future challenges either in the way you don't over provision your cluster or you don't",
    "start": "466979",
    "end": "472979"
  },
  {
    "text": "underproach in your cluster so that you provision it according to your expected workload so that uh you don't face any",
    "start": "472979",
    "end": "479699"
  },
  {
    "text": "adverse issues when you go to production does that but there is still an element",
    "start": "479699",
    "end": "485639"
  },
  {
    "text": "of automatic scaling that can happen right yeah it's not about automatic scaling it's we have two different",
    "start": "485639",
    "end": "490979"
  },
  {
    "text": "Services here thanks for bringing that question Stephen right so within an msk we have two different services msk",
    "start": "490979",
    "end": "496380"
  },
  {
    "text": "serverless and msk provision right with msk provision we customers are expected to launch a cluster with a fixed set of",
    "start": "496380",
    "end": "503580"
  },
  {
    "text": "broker nodes and they can scale up the cluster and scale down the cluster with a single click on a console okay but",
    "start": "503580",
    "end": "510000"
  },
  {
    "text": "it's not automatic right so if if you are having a workload where you expect very very very ranging throughput over a",
    "start": "510000",
    "end": "516959"
  },
  {
    "text": "day we do have a service msk serverless where in which it can scale up and scale on automatically and you don't have to",
    "start": "516959",
    "end": "523159"
  },
  {
    "text": "manually scale the cluster there so msk serverless would be the answer for your question",
    "start": "523159",
    "end": "528440"
  },
  {
    "text": "so you could actually start if you don't know what this is going to look like what the shape is of the workload then",
    "start": "528440",
    "end": "535620"
  },
  {
    "text": "you could start with serverless yes run it for a while figure it out and then move to more provisioned if you want to",
    "start": "535620",
    "end": "541080"
  },
  {
    "text": "get a little more granular exactly exactly right and we also see a huge number of customers who are actually",
    "start": "541080",
    "end": "547260"
  },
  {
    "text": "migrating to msk from their on-prem or self-managed Kafka clusters right so this might be a very suitable session",
    "start": "547260",
    "end": "553560"
  },
  {
    "text": "for them because they're already operating Kafka they know uh how to up how to use Kafka and how to design those",
    "start": "553560",
    "end": "559980"
  },
  {
    "text": "topics and internals but they need some information on the best practices with respect to msk basically yeah so so now",
    "start": "559980",
    "end": "567540"
  },
  {
    "text": "that we speak about right sizing I've provided a link on the documentation so it this link is this link is also part",
    "start": "567540",
    "end": "573240"
  },
  {
    "text": "of AWS msk best practice documentation where we created a worksheet for you I'm gonna share my screen here which",
    "start": "573240",
    "end": "579720"
  },
  {
    "text": "provides the worksheet so basically in this Excel sheet that I'm sharing on my screen uh this has been designed by AWS",
    "start": "579720",
    "end": "586860"
  },
  {
    "text": "experts to give you a ballpark figure so you may have to give an inputs like uh what because Kafka being a streaming",
    "start": "586860",
    "end": "594060"
  },
  {
    "text": "service where in which you are providing lot of input data and consuming data throughput plays a significant role",
    "start": "594060",
    "end": "599519"
  },
  {
    "text": "right so you might have to enter the were some of the inputs like what is your injection rate how much you want to",
    "start": "599519",
    "end": "604800"
  },
  {
    "text": "put data and what is your replication factor of your topics right and what what is your retention period by",
    "start": "604800",
    "end": "610560"
  },
  {
    "text": "entering few few parameters here it's gonna give you the details about what",
    "start": "610560",
    "end": "615600"
  },
  {
    "text": "would be the right cluster for you to choose right so for examples that have provided here this Excel sheet is going",
    "start": "615600",
    "end": "621600"
  },
  {
    "text": "to give you that m5x large instance type with a six Brokers would be a right choice for my use case right so I would",
    "start": "621600",
    "end": "628320"
  },
  {
    "text": "want all customers to utilize this sheet to get a ballpark figure to right size",
    "start": "628320",
    "end": "633360"
  },
  {
    "text": "this their clusters so there could be still some nuances here and there but yes this disk will place as a first role",
    "start": "633360",
    "end": "640260"
  },
  {
    "text": "giving you a good very good Ballpark and what how do you right size your cluster I'm going back to on my slides another",
    "start": "640260",
    "end": "647220"
  },
  {
    "text": "important resources that I wanted to provide customers and right sizing is this good blog that we published right",
    "start": "647220",
    "end": "653399"
  },
  {
    "text": "so Kafka being a distributed system with so much of data replication data in and",
    "start": "653399",
    "end": "658440"
  },
  {
    "text": "data out happening as you can see it's nothing but a bunch of broker servers communicating between them and also",
    "start": "658440",
    "end": "664500"
  },
  {
    "text": "messages coming in and messages going out right for if you have a very high throughput",
    "start": "664500",
    "end": "670560"
  },
  {
    "text": "use cases so how do you calculate what would be the rights how do you right size the",
    "start": "670560",
    "end": "675899"
  },
  {
    "text": "cluster is using the formula that displayed on the slide right so we would be also be providing the link that on",
    "start": "675899",
    "end": "681540"
  },
  {
    "text": "the slide on the chat here for the what would be the this is a detailed block with a GitHub link to how you can do a",
    "start": "681540",
    "end": "688920"
  },
  {
    "text": "performance testing to optimize the sizing of your cluster based upon the throughput requirements so generally the",
    "start": "688920",
    "end": "695760"
  },
  {
    "text": "throughput heating limits for Kafka cluster would come would be either a storage limits or EPS Network because",
    "start": "695760",
    "end": "701940"
  },
  {
    "text": "msk is utilizing an ec2 and EBS it's using EBS storage underlying so so the",
    "start": "701940",
    "end": "707820"
  },
  {
    "text": "throughput that you get is Max based upon the storage throughput the EPS Network throughput and finally the EC to",
    "start": "707820",
    "end": "715140"
  },
  {
    "text": "network report the network capacity depends upon yep sorry okay so this is",
    "start": "715140",
    "end": "721079"
  },
  {
    "text": "gonna that blog post will help kind of outline how to put the right figures in this math because this is exact match",
    "start": "721079",
    "end": "727140"
  },
  {
    "text": "for me yeah there's so much of math I understand it gets complex that's the reason I I put the link there so the",
    "start": "727140",
    "end": "733140"
  },
  {
    "text": "link this this entire formula and right sizing itself could become a one hour long session right so yeah that's the",
    "start": "733140",
    "end": "740040"
  },
  {
    "text": "reason it if do this is if you have only extremely extreme High throughput use",
    "start": "740040",
    "end": "745200"
  },
  {
    "text": "cases but otherwise initial first step is the using those Excel sheet because it's very simple and straightforward",
    "start": "745200",
    "end": "751200"
  },
  {
    "text": "otherwise you can use the more detailed and comprehensive this block is actually a comprehensive resource on how to",
    "start": "751200",
    "end": "757500"
  },
  {
    "text": "optimize your right sizing cluster based upon your throughput yeah I would like customers to spend time both on the the",
    "start": "757500",
    "end": "764220"
  },
  {
    "text": "sizing sheet we gave previously and also this blog before they moved to production and right size their clusters",
    "start": "764220",
    "end": "771800"
  },
  {
    "text": "and the next big next best practice following on right sizing is choosing the right number of partitions right so",
    "start": "772320",
    "end": "780060"
  },
  {
    "text": "msk comes with some limits on the maximum number of partitions you can have per broker instance",
    "start": "780060",
    "end": "786660"
  },
  {
    "text": "based upon the type of instance type right the table here is displayed shows",
    "start": "786660",
    "end": "793019"
  },
  {
    "text": "number of the limit for each the limit of number of partitions partitions are like a physical units of your messaging",
    "start": "793019",
    "end": "800040"
  },
  {
    "text": "system in the Kafka and there is a limit on based upon the instance type right so yep go ahead so with the the partitions",
    "start": "800040",
    "end": "807180"
  },
  {
    "text": "in in some people may not it's including myself be familiar with some of the like",
    "start": "807180",
    "end": "812760"
  },
  {
    "text": "what would be a typical way to partition this or why would you you know in those",
    "start": "812760",
    "end": "818399"
  },
  {
    "text": "in that messaging how what's typically something people would use it's a basic unit of me is in Kafka is typically a",
    "start": "818399",
    "end": "825600"
  },
  {
    "text": "topic right a topic is consists of multiple partitions okay so partition is a factor of scalability",
    "start": "825600",
    "end": "833279"
  },
  {
    "text": "uh in Kafka right the more partitions you have the more scalability you get right because uh your number of",
    "start": "833279",
    "end": "840899"
  },
  {
    "text": "partitions are distributed basically your topic is distributed based upon number of partitions right but top",
    "start": "840899",
    "end": "847139"
  },
  {
    "text": "number of partitions is also a limiting factor because the too many number of partitions create issues like slow slow",
    "start": "847139",
    "end": "854459"
  },
  {
    "text": "broker restart time okay slow maintenance issues and failover takes lot of time that's the reason we have",
    "start": "854459",
    "end": "860760"
  },
  {
    "text": "provided the limits based upon the instance capacity type and often we see",
    "start": "860760",
    "end": "866160"
  },
  {
    "text": "some issue with customers is the some of the customers they don't follow a right strategy to choose the number of",
    "start": "866160",
    "end": "872220"
  },
  {
    "text": "partitions per topic right so we want them to follow a good strategy there are there is no single straightforward",
    "start": "872220",
    "end": "878220"
  },
  {
    "text": "strategy to follow choosing right number of partitions it is depending upon their throughput right",
    "start": "878220",
    "end": "883620"
  },
  {
    "text": "so you might have a organization with so many events like customer create event and customer purchase event right",
    "start": "883620",
    "end": "889920"
  },
  {
    "text": "depending upon the type of the event and the throughput requirements design the partitions accordingly without going",
    "start": "889920",
    "end": "896940"
  },
  {
    "text": "with the default number of partitions for every topic that you create right so that so in that case that example like",
    "start": "896940",
    "end": "903120"
  },
  {
    "text": "customer create that would be a topic yeah and then based upon how much you're getting how many of those requests and",
    "start": "903120",
    "end": "908820"
  },
  {
    "text": "things you're getting then you're going to determine the number of partitions yes but you could have too much of a good thing and make too many partitions",
    "start": "908820",
    "end": "915480"
  },
  {
    "text": "and and impact your performance as well exactly right so you so you it's not",
    "start": "915480",
    "end": "920820"
  },
  {
    "text": "about performance impact it's about like you are limiting the number of topics because we have a hard limit on number",
    "start": "920820",
    "end": "926160"
  },
  {
    "text": "of partitions you can have based upon the instance type uh you met uh you did",
    "start": "926160",
    "end": "931680"
  },
  {
    "text": "that limits number of topics you can use your cluster it's like underutilized right if you're really creating too many",
    "start": "931680",
    "end": "937560"
  },
  {
    "text": "partitions for for lower throughput requirements it's like you are you are",
    "start": "937560",
    "end": "942899"
  },
  {
    "text": "making the cluster underutilized basically yeah so these are the three factors that you",
    "start": "942899",
    "end": "949199"
  },
  {
    "text": "considered before like right sizing your cluster and also right sizing your partitions and number of topics before",
    "start": "949199",
    "end": "955440"
  },
  {
    "text": "move on to a production right and then we go on to the next topic here another next best practice is about securing",
    "start": "955440",
    "end": "961800"
  },
  {
    "text": "your msk clusters and kids we want to do you want to talk about how to secure msk a yes Korean security is our highest",
    "start": "961800",
    "end": "969959"
  },
  {
    "text": "high prior highest priority at AWS and msk security is categorized into four",
    "start": "969959",
    "end": "977399"
  },
  {
    "start": "976000",
    "end": "1639000"
  },
  {
    "text": "parts encryption authentication authorization and last we have Network",
    "start": "977399",
    "end": "983160"
  },
  {
    "text": "level security encryption we have encryption at rest and encryption in transit encryption at",
    "start": "983160",
    "end": "990660"
  },
  {
    "text": "rest it uses KMS key to encrypt that data by default is enabled encryption in",
    "start": "990660",
    "end": "998399"
  },
  {
    "text": "transit is uses TLS 1.2 that's a transport layer security protocol that's",
    "start": "998399",
    "end": "1004880"
  },
  {
    "text": "extended version of SSL there's two level of encryption resupports here in",
    "start": "1004880",
    "end": "1010759"
  },
  {
    "text": "msk and then we have authentication first one we have unauthenticated if you",
    "start": "1010759",
    "end": "1016639"
  },
  {
    "text": "don't want to enable authentication then you can use unauthenticated for development or test environment and then",
    "start": "1016639",
    "end": "1023899"
  },
  {
    "text": "we have IM and mutual TDS TLS and sasl scrm I am support both authentication",
    "start": "1023899",
    "end": "1032720"
  },
  {
    "text": "and authorization and is free of cost and easy to use you can just you just",
    "start": "1032720",
    "end": "1038480"
  },
  {
    "text": "need to Define set of json-based policies and in which provide all of the",
    "start": "1038480",
    "end": "1044240"
  },
  {
    "text": "resources to details and it can be easily used with the other AWS services",
    "start": "1044240",
    "end": "1049580"
  },
  {
    "text": "and it only supports the Java client and the clients who support IM",
    "start": "1049580",
    "end": "1055160"
  },
  {
    "text": "Mutual TLS is a transport layer security protocol it uses transfer data security",
    "start": "1055160",
    "end": "1060620"
  },
  {
    "text": "protocol to authenticate and underneath its users ACM that's the AWS certificate",
    "start": "1060620",
    "end": "1067000"
  },
  {
    "text": "manager and this uses private PCA basically private certificate authority",
    "start": "1067000",
    "end": "1074720"
  },
  {
    "text": "to authorize a particular certificate best use case if you are migrating your",
    "start": "1074720",
    "end": "1081500"
  },
  {
    "text": "existing Kafka workload from on-prem to AWS then if it is already there this 10",
    "start": "1081500",
    "end": "1088460"
  },
  {
    "text": "is just like lift and shift then what we have sasl scrm",
    "start": "1088460",
    "end": "1094280"
  },
  {
    "text": "ah it uses underneath it stores basically the credits and it uses sha",
    "start": "1094280",
    "end": "1101660"
  },
  {
    "text": "512 hashing algorithm to has that particular credentials and move in",
    "start": "1101660",
    "end": "1108320"
  },
  {
    "text": "transit and there are few limitations of it like you can only store 1000 number",
    "start": "1108320",
    "end": "1113720"
  },
  {
    "text": "of users credentials in it and it is the best case uh if you have something like",
    "start": "1113720",
    "end": "1121400"
  },
  {
    "text": "if you are moving your particular client application from one machine to another machine then every time you don't need",
    "start": "1121400",
    "end": "1127820"
  },
  {
    "text": "to change your credentials so all of the Cadence you'll get stored into",
    "start": "1127820",
    "end": "1133360"
  },
  {
    "text": "AWS secret manager uh let me quickly bring my screen yes",
    "start": "1133360",
    "end": "1139580"
  },
  {
    "text": "sir yeah can you um for for that is there also I assume then we they could",
    "start": "1139580",
    "end": "1145280"
  },
  {
    "text": "use a certificate manager to manage these as well yes so as I said right Stephen uh you thanks for bringing this",
    "start": "1145280",
    "end": "1151820"
  },
  {
    "text": "point because this gives me an opportunity to to tell customers how we are making it so easy with the msk right",
    "start": "1151820",
    "end": "1158539"
  },
  {
    "text": "so look at the deeper integration with other AWS ecosystem right if they choose Mutual TLS authentication it's tightly",
    "start": "1158539",
    "end": "1166340"
  },
  {
    "text": "integrated with ACM right they don't need a separate service for certificate management so msk directly works with uh",
    "start": "1166340",
    "end": "1172340"
  },
  {
    "text": "AWS ACM for Mutual tier list right and if they want to use the sassel scram password-based authentication we are",
    "start": "1172340",
    "end": "1179059"
  },
  {
    "text": "tightly integrated with AWS Secrets manager they don't need another secure system to store their passwords right so",
    "start": "1179059",
    "end": "1185000"
  },
  {
    "text": "they so the essay the sasl or scram that's really from that's another",
    "start": "1185000",
    "end": "1190220"
  },
  {
    "text": "mechanism for managing those secrets and and scram is a method of Authentication okay",
    "start": "1190220",
    "end": "1197179"
  },
  {
    "text": "it's authentication mechanism which uses it username password base and model so the username and passwords that you want",
    "start": "1197179",
    "end": "1203720"
  },
  {
    "text": "cluster to use would be saved in AWS Secrets manager so basically Kafka underlying makes use of Secrets manager",
    "start": "1203720",
    "end": "1211100"
  },
  {
    "text": "to to use so that when whenever an user enters the credentials they are queried",
    "start": "1211100",
    "end": "1216620"
  },
  {
    "text": "against secret manager to test them okay go ahead you can share your screen",
    "start": "1216620",
    "end": "1222380"
  },
  {
    "text": "uh you want to show how to how different options there yeah and",
    "start": "1222380",
    "end": "1227720"
  },
  {
    "text": "um thanks for bringing that up I guess we do have a question um coming in here from uh just just one",
    "start": "1227720",
    "end": "1236299"
  },
  {
    "text": "underscore uh what's the the best method recommended to authenticate with the",
    "start": "1236299",
    "end": "1241400"
  },
  {
    "text": "cluster so there is no such thing as best method here thanks for firstly thanks for asking that question we love",
    "start": "1241400",
    "end": "1247520"
  },
  {
    "text": "questions from customers there's no just the best method here so we just want to provide so many options I would tell an",
    "start": "1247520",
    "end": "1253700"
  },
  {
    "text": "advantage of one more other right Ankit you can pitching if you are interested anytime it's just that uh the advantage",
    "start": "1253700",
    "end": "1259580"
  },
  {
    "text": "of IAM is generally we see many customers who migrate to msk the all the",
    "start": "1259580",
    "end": "1264860"
  },
  {
    "text": "external applications like producer applications or consumer applications we you we see them being deployed in other",
    "start": "1264860",
    "end": "1270980"
  },
  {
    "text": "AWS services like ec2 or forget container right so if your application",
    "start": "1270980",
    "end": "1276559"
  },
  {
    "text": "is directly we see them very flexible for them to use IAM authentication right they don't have to manage in ACM",
    "start": "1276559",
    "end": "1283280"
  },
  {
    "text": "certificates they don't have to share passwords as with any customers who are using AWS the IM is simple and",
    "start": "1283280",
    "end": "1289760"
  },
  {
    "text": "straightforward you go ahead create a policy and it just works both right so",
    "start": "1289760",
    "end": "1295039"
  },
  {
    "text": "so for the sake of flexibility if your applications are already running in AWS and they're all the clients based upon",
    "start": "1295039",
    "end": "1301100"
  },
  {
    "text": "Java IM is highly suggested but if you already have invested in your on-premise",
    "start": "1301100",
    "end": "1306500"
  },
  {
    "text": "or like you are trying to migrate your on-prem cluster where you're already using Mutual TLS or",
    "start": "1306500",
    "end": "1311900"
  },
  {
    "text": "Sasol scrap you can you can automatically use the same thing so so you may not have a best method but",
    "start": "1311900",
    "end": "1319520"
  },
  {
    "text": "you've got a favorite you've got my favorite is IAM my favorite is IAM if as long as customers using Java",
    "start": "1319520",
    "end": "1325700"
  },
  {
    "text": "applications within an AWS yeah yeah my my favorite is ims2 because what's the",
    "start": "1325700",
    "end": "1331220"
  },
  {
    "text": "best part of it is actually stores all of the details that you perform at the top of the cluster and that you get",
    "start": "1331220",
    "end": "1337580"
  },
  {
    "text": "inside cloudtrail yes so you get a better auditing all of the details like yeah",
    "start": "1337580",
    "end": "1343960"
  },
  {
    "text": "as Ankit was explaining you right so if you use IAM it takes care of both authentication and authorization but if",
    "start": "1343960",
    "end": "1350659"
  },
  {
    "text": "you're going for Mutual TLS or sasile scram you would need again an ACLS management for authorization because",
    "start": "1350659",
    "end": "1356900"
  },
  {
    "text": "those methods are only helping you for Authentication yeah extra cost also involved for this",
    "start": "1356900",
    "end": "1363860"
  },
  {
    "text": "Mutual DLS when you use Mutual DLS for certificate manager",
    "start": "1363860",
    "end": "1369140"
  },
  {
    "text": "um approximate 400 USD you need to pay for one month so IM is free to use as",
    "start": "1369140",
    "end": "1375200"
  },
  {
    "text": "well yeah I think you should you should start creating cluster and show the options yeah yeah as you as you're going",
    "start": "1375200",
    "end": "1381380"
  },
  {
    "text": "through that and and I guess these these options same options apply whether it's serverless or the provisioned models",
    "start": "1381380",
    "end": "1387860"
  },
  {
    "text": "right no this this one we are talking only about provision we're not application yeah",
    "start": "1387860",
    "end": "1393980"
  },
  {
    "text": "uh serverless is all again totally a different thing we can have definitely another session to talk about msk server",
    "start": "1393980",
    "end": "1399559"
  },
  {
    "text": "let's see yeah let's get started um I just selected custom create and",
    "start": "1399559",
    "end": "1405500"
  },
  {
    "text": "then provided a cluster name that's a democritster one here we have two awesome cluster type I selected the",
    "start": "1405500",
    "end": "1412100"
  },
  {
    "text": "previous provision fund then uh Kafka version 2.8.1 that's the this I'm using",
    "start": "1412100",
    "end": "1419860"
  },
  {
    "text": "uh number of joons we have three then brokerage one",
    "start": "1419860",
    "end": "1425059"
  },
  {
    "text": "uh ABS volume um that's a 100 gigs",
    "start": "1425059",
    "end": "1430520"
  },
  {
    "text": "then if you have any uh configurations you can provide I'm moving with the default one",
    "start": "1430520",
    "end": "1436820"
  },
  {
    "text": "here dedicated VPC",
    "start": "1436820",
    "end": "1442299"
  },
  {
    "text": "availability shown then we have private subnet",
    "start": "1442480",
    "end": "1449380"
  },
  {
    "text": "private subnet for June 3. here I'm reviewing default Security",
    "start": "1454220",
    "end": "1460880"
  },
  {
    "text": "Group and going to select dedicated Security Group for my msk",
    "start": "1460880",
    "end": "1468440"
  },
  {
    "text": "cluster then we have all of these options security option so here as as I said like when you use",
    "start": "1468440",
    "end": "1476960"
  },
  {
    "text": "this TLS you you can use AWS private CE for the certificates and sasl scrm and",
    "start": "1476960",
    "end": "1486820"
  },
  {
    "text": "image and best part of it you can use multiple",
    "start": "1486820",
    "end": "1492520"
  },
  {
    "text": "authentication method so in the end what it will do it will provide you different port numbers to access cluster",
    "start": "1492520",
    "end": "1499820"
  },
  {
    "text": "and moving to encryption uh here we have TLS encryption encryption at rest you if",
    "start": "1499820",
    "end": "1507080"
  },
  {
    "text": "you don't provide it will automatically select this one and then you can use",
    "start": "1507080",
    "end": "1513158"
  },
  {
    "text": "yeah so this is how you can create cluster I think um just one thing I want",
    "start": "1517760",
    "end": "1523159"
  },
  {
    "text": "to mention there as well um that with Ms Sky it also supports styrofoam and so you can do um like",
    "start": "1523159",
    "end": "1531020"
  },
  {
    "text": "proper inference code for it and obviously you can use the cloud formation as well and Kelly and I",
    "start": "1531020",
    "end": "1536179"
  },
  {
    "text": "believe the cdk is also supported for um for Ms go as well yep I think so",
    "start": "1536179",
    "end": "1541880"
  },
  {
    "text": "so I think that's that's the demo to display the different security configurations that you have on options I think we'll go back onto the slide",
    "start": "1541880",
    "end": "1548299"
  },
  {
    "text": "deck here uh so as uh Ankit spoke two types of like we first spoke to you about data",
    "start": "1548299",
    "end": "1554720"
  },
  {
    "text": "security so your data is secured in transit and rest then we gave you different options for user security",
    "start": "1554720",
    "end": "1560120"
  },
  {
    "text": "right for both authentication and authorization and the next part of security is your network security so msk",
    "start": "1560120",
    "end": "1566600"
  },
  {
    "text": "cluster can be launched inside your separate VPC so you can have it uh running it in your private subnets and",
    "start": "1566600",
    "end": "1573380"
  },
  {
    "text": "you can completely control the security by using the security group basically uh so you can only allow the",
    "start": "1573380",
    "end": "1582200"
  },
  {
    "text": "security the security group to connections only from your producer and consumer applications",
    "start": "1582200",
    "end": "1587840"
  },
  {
    "text": "so it looks like we have a question yes we do",
    "start": "1587840",
    "end": "1593960"
  },
  {
    "text": "um from uh Zone Autumn uh do you have terraform modules only for the Brokers",
    "start": "1593960",
    "end": "1600740"
  },
  {
    "text": "or also for the topics in Kafka users uh thank you for asking that question yeah",
    "start": "1600740",
    "end": "1606020"
  },
  {
    "text": "so currently uh we have cut off our modules only for the infrastructure not for the internal applications so you",
    "start": "1606020",
    "end": "1612500"
  },
  {
    "text": "still have to use Kafka apis to create topics and users the terraform support currently provides you to create the msk",
    "start": "1612500",
    "end": "1619220"
  },
  {
    "text": "infrastructure thanks for the question though so now that so now that we spoke about as a",
    "start": "1619220",
    "end": "1626360"
  },
  {
    "text": "first step right size your cluster second step what is called secure your cluster after",
    "start": "1626360",
    "end": "1631460"
  },
  {
    "text": "you right sized and secure deploy start deploying your workloads the next thing we're going to talk about is monitoring",
    "start": "1631460",
    "end": "1637820"
  },
  {
    "text": "your cluster right now that you've deployed your applications it's very important you need to Monitor and we",
    "start": "1637820",
    "end": "1642860"
  },
  {
    "start": "1639000",
    "end": "2813000"
  },
  {
    "text": "have our expert Lui who is going to talking about talk about best practices with monitoring cool thank you kellyanne",
    "start": "1642860",
    "end": "1649580"
  },
  {
    "text": "um yeah so when it comes to monitoring workloads and stuff I can get quite crazy obsessive with diving into the",
    "start": "1649580",
    "end": "1654980"
  },
  {
    "text": "into the metrics and stuff like that um so when it comes to Kafka so this we've got quite a few approaches",
    "start": "1654980",
    "end": "1661880"
  },
  {
    "text": "how you can start the monitoring so you can go with the AWS native approach",
    "start": "1661880",
    "end": "1666919"
  },
  {
    "text": "using cloudwatch which can include the metrics on the three levels you are used to when looking at this Matrix we're",
    "start": "1666919",
    "end": "1672860"
  },
  {
    "text": "looking at the broker level the topic level and condition level one important note there is if you want deeper level",
    "start": "1672860",
    "end": "1679880"
  },
  {
    "text": "of insights on the topic and partition level it will cost you extra just something to be aware of but there are",
    "start": "1679880",
    "end": "1685940"
  },
  {
    "text": "some metrics out of the box already free of charge that you can use um so I would say when to use cloudwatch",
    "start": "1685940",
    "end": "1693320"
  },
  {
    "text": "um if you are already using cloudwatch for most of your workloads and you just want a simple quick out of the box top",
    "start": "1693320",
    "end": "1699679"
  },
  {
    "text": "of monitoring solution then it can definitely be much easier to set up um then the other option is",
    "start": "1699679",
    "end": "1706340"
  },
  {
    "text": "um it's open monitoring so open monitoring uh is basically Kafka uses open monitoring with Prometheus which is",
    "start": "1706340",
    "end": "1713419"
  },
  {
    "text": "the popular dumb theories monitoring system that I believe many customers are familiar with and",
    "start": "1713419",
    "end": "1720020"
  },
  {
    "text": "the cool thing about the open monitoring pieces is if you if your existing monitoring stack is already compatible",
    "start": "1720020",
    "end": "1726260"
  },
  {
    "text": "with Prometheus or you or also using um existing third-party providers such",
    "start": "1726260",
    "end": "1732559"
  },
  {
    "text": "as your lenses data doc New Relic and all those um double third parties then you can",
    "start": "1732559",
    "end": "1737900"
  },
  {
    "text": "also um yeah then it's probably easier to integrate Kafka with open monitoring for",
    "start": "1737900",
    "end": "1744080"
  },
  {
    "text": "your existing stack as well a couple things there it's probably good",
    "start": "1744080",
    "end": "1751880"
  },
  {
    "text": "to start especially if you don't know everything you want to monitor start with the the what's provided by default",
    "start": "1751880",
    "end": "1757700"
  },
  {
    "text": "and and go from there right to kind of try things out and and get a sense before turning on everything I know some",
    "start": "1757700",
    "end": "1764779"
  },
  {
    "text": "some teams like to just turn everything on and and take all these metrics and then you don't know where to go yeah and",
    "start": "1764779",
    "end": "1771200"
  },
  {
    "text": "the assessment would that we go with those default metrics and also broker Matrix in the initially and then",
    "start": "1771200",
    "end": "1778340"
  },
  {
    "text": "as you progress then you can start thinking about enabling per topic and per partition metrics yeah",
    "start": "1778340",
    "end": "1785299"
  },
  {
    "text": "Godly cool yeah and just one final piece on this also um you can stream your Kafka broker",
    "start": "1785299",
    "end": "1792799"
  },
  {
    "text": "locks as well to other destinations um so you can stream it to your Cloud watch logs you can put it into Amazon S3",
    "start": "1792799",
    "end": "1799580"
  },
  {
    "text": "where you can run any type of Analytics tool that integrates with a jdbc type of",
    "start": "1799580",
    "end": "1805159"
  },
  {
    "text": "travel so on the HP bucket or the other API calls or you can assume it to open",
    "start": "1805159",
    "end": "1810500"
  },
  {
    "text": "search as well and you can use Kinesis files for this so if you've got some operation analytics you can use open",
    "start": "1810500",
    "end": "1816380"
  },
  {
    "text": "search um on the slot digitals as well so we have a question yeah Zone Autumn",
    "start": "1816380",
    "end": "1821539"
  },
  {
    "text": "asks uh can you define custom metrics um yes yes so no what what I wanted to",
    "start": "1821539",
    "end": "1828440"
  },
  {
    "text": "say about the custom metric pieces um how just to understand the question you can like say for example in Cloud",
    "start": "1828440",
    "end": "1835460"
  },
  {
    "text": "what you can define something called metric math where you can combine some metrics to create your own and when you",
    "start": "1835460",
    "end": "1841580"
  },
  {
    "text": "have like Pro um Prometheus for example you can do the similar thing and I'm gonna quickly give you example like on",
    "start": "1841580",
    "end": "1847880"
  },
  {
    "text": "CPU usage so when you look at CPU usage in Kafka there's usually two Matrix we recommend you need to keep an eye on and",
    "start": "1847880",
    "end": "1854299"
  },
  {
    "text": "I'm going to cover more on the monitoring details in a bit but basically you want to keep an eye on your user CPU usage and your system CPU",
    "start": "1854299",
    "end": "1862880"
  },
  {
    "text": "usage and one way to create a custom metric is basically you can create some math just to add those together as an",
    "start": "1862880",
    "end": "1868940"
  },
  {
    "text": "Aggregate and then you can yeah and then you can monitor that so to be able to",
    "start": "1868940",
    "end": "1874039"
  },
  {
    "text": "dive deep into the answer what uh for the question of custom metrics all the metrics that come for you if you are",
    "start": "1874039",
    "end": "1879799"
  },
  {
    "text": "selecting Cloud watch by default msk provides you a set of metrics okay that",
    "start": "1879799",
    "end": "1885140"
  },
  {
    "text": "cannot be changed but if you're using open monitoring for promoters you're gonna get all the jmx Matrix right Kafka",
    "start": "1885140",
    "end": "1891740"
  },
  {
    "text": "is a Java based system you're going to get all the jmx metrics that the typical open source Kafka provides to you but",
    "start": "1891740",
    "end": "1898039"
  },
  {
    "text": "you cannot customize the Kafka or you cannot provide any custom thing custom jar file there to export additional",
    "start": "1898039",
    "end": "1903919"
  },
  {
    "text": "metrics so basically you're gonna get all jmx Matrix provided as so you couldn't instrument the",
    "start": "1903919",
    "end": "1909140"
  },
  {
    "text": "application to kind of have your own metric that you're you're you're passing along no no you've gone to that but yeah",
    "start": "1909140",
    "end": "1915380"
  },
  {
    "text": "as mentioned before if there's some type of flexibility you need for some custom then you can do your own math on using",
    "start": "1915380",
    "end": "1922640"
  },
  {
    "text": "what's there ready to create a third type of metric cool also we would love to understand uh",
    "start": "1922640",
    "end": "1929659"
  },
  {
    "text": "Zone Autumn we love to understand what kind of custom metric you are looking for we would like to take it over to my",
    "start": "1929659",
    "end": "1935000"
  },
  {
    "text": "service team if it looks like a good requirement and put it as a feature request yeah yeah we can do that go",
    "start": "1935000",
    "end": "1941179"
  },
  {
    "text": "ahead Louis cool yeah so now I want to say yeah so now we're going to move on to monitoring and just look at some of",
    "start": "1941179",
    "end": "1946700"
  },
  {
    "text": "the important metrics um so Kafka can be a bit of a vast ecosystem and there are loads of metrics",
    "start": "1946700",
    "end": "1954020"
  },
  {
    "text": "if you go to the official Apache Kafka docs as well you will see there's tons of metrics these important ones I just",
    "start": "1954020",
    "end": "1960919"
  },
  {
    "text": "want to try and cover today with you because these are also the most common um Matrix we also recommend you start",
    "start": "1960919",
    "end": "1968299"
  },
  {
    "text": "with because they can definitely help you investigate a lot of um performance",
    "start": "1968299",
    "end": "1973399"
  },
  {
    "text": "related to any type of Kafka workload um Matrix you often and just to try and",
    "start": "1973399",
    "end": "1980480"
  },
  {
    "text": "simplify it to get a better understanding of these metrics we try to break it up into three primary categories so on the left you have your",
    "start": "1980480",
    "end": "1987080"
  },
  {
    "text": "program treats and then on the right you've got your producer and your consumer Matrix and I'm just gonna I've",
    "start": "1987080",
    "end": "1994159"
  },
  {
    "text": "actually created a small POC my end I'm just going to start sharing my screen",
    "start": "1994159",
    "end": "1999679"
  },
  {
    "text": "with using open monitoring um and before I dive into some of this Matrix um Stephen if you could share a",
    "start": "1999679",
    "end": "2007720"
  },
  {
    "text": "link to the to the um customers um about our open monitoring blog so I",
    "start": "2007720",
    "end": "2014500"
  },
  {
    "text": "spent quite a few a bit of time of creating this um this dashboard and three days ago or so we launched a Blog with everything",
    "start": "2014500",
    "end": "2021640"
  },
  {
    "text": "pre-built in made um so you could actually if you go to that blog there's Cloud machine",
    "start": "2021640",
    "end": "2026799"
  },
  {
    "text": "templates there's um ready-made grafana dashboards for your msk cluster which gives you pretty",
    "start": "2026799",
    "end": "2032679"
  },
  {
    "text": "much exactly what you're looking at here a full Suite of all the monetary metrics you need",
    "start": "2032679",
    "end": "2037720"
  },
  {
    "text": "cool um so let me just go back to some of the metrics and say why is it important so if I just scroll a bit down to the CPU",
    "start": "2037720",
    "end": "2044799"
  },
  {
    "text": "usage here so usually when you look at the CPUs you try to kafka's primary bottleneck is",
    "start": "2044799",
    "end": "2051760"
  },
  {
    "text": "mostly memory related and for example even when you even use",
    "start": "2051760",
    "end": "2056919"
  },
  {
    "text": "compression when compression is enabled such as gzip or so your CPU is still not",
    "start": "2056919",
    "end": "2062800"
  },
  {
    "text": "really the performance problem so therefore when you see spikes in CPU",
    "start": "2062800",
    "end": "2067898"
  },
  {
    "text": "utilization it's always a good thing to keep an eye on that and a good threshold we have seen across",
    "start": "2067899",
    "end": "2074618"
  },
  {
    "text": "many customers that that this worked fairly well and now it's already dependent on the workload is if you set",
    "start": "2074619",
    "end": "2081480"
  },
  {
    "text": "alarms so your CPU usage won't exceed like a 60 percent or so for the",
    "start": "2081480",
    "end": "2087158"
  },
  {
    "text": "threshold so um yeah just taking a taking a step back first",
    "start": "2087159",
    "end": "2092618"
  },
  {
    "text": "um with the the metrics I guess so Zone Autumn once is asking uh they saw the",
    "start": "2092619",
    "end": "2098140"
  },
  {
    "text": "controller account metric there does msk use a separate zookeeper cluster under the hood or does it use a post Kafka 3-0",
    "start": "2098140",
    "end": "2104980"
  },
  {
    "text": "broker uh controller cluster msk uses a separate to keep our cluster for each msk and that's included as part of your",
    "start": "2104980",
    "end": "2111520"
  },
  {
    "text": "msk pricing yes we take that's one of the advantages right Kafka needs zookeeper in the past or like I know we",
    "start": "2111520",
    "end": "2118180"
  },
  {
    "text": "have a new version of Kafka where you doesn't need zookeeper but currently yes msk doesn't support the newer one so",
    "start": "2118180",
    "end": "2124180"
  },
  {
    "text": "currently we support uh msk all all versions of msk comes with a separate",
    "start": "2124180",
    "end": "2129220"
  },
  {
    "text": "zookeeper cluster maintained on behalf of you but eventually we'll we'll come up and and support that as well we'll",
    "start": "2129220",
    "end": "2135760"
  },
  {
    "text": "have to look for the service team update on that yeah okay um the question I had there uh Louis with your your metric and the that stood",
    "start": "2135760",
    "end": "2143320"
  },
  {
    "text": "out to me operationally um that percentage seems pretty low as a as a threshold so",
    "start": "2143320",
    "end": "2151000"
  },
  {
    "text": "um I guess is that is that going what's that kind of going back to at least for me from an operation standpoint yes",
    "start": "2151000",
    "end": "2159060"
  },
  {
    "text": "loving his cluster and not putting yeah so um yeah yeah sure I'll quick",
    "start": "2159060",
    "end": "2166060"
  },
  {
    "text": "quick disconnect that so um so as mentioned before so the 60 is something we we fairly come and see",
    "start": "2166060",
    "end": "2173020"
  },
  {
    "text": "which works pretty well and um so so taking a lot over that 60 is a",
    "start": "2173020",
    "end": "2179200"
  },
  {
    "text": "really good inter um it's a really good approach to try and just be on top of things to make sure your cluster is operating healthy",
    "start": "2179200",
    "end": "2185920"
  },
  {
    "text": "and Carl um and kalian can also talk talk a bit about",
    "start": "2185920",
    "end": "2191020"
  },
  {
    "text": "um more about that but one of the key things around the 60 is also Imagine you've got three Brokers right imagine",
    "start": "2191020",
    "end": "2197859"
  },
  {
    "text": "one of them fails now your other two Brokers need to do a lot of processing to make up for that so if your all your",
    "start": "2197859",
    "end": "2205180"
  },
  {
    "text": "brokers who are already on the 80 or so and one fails and now two use needs to work extra hard then you'll see the",
    "start": "2205180",
    "end": "2212200"
  },
  {
    "text": "utilizations can be really high so 60 is what we saw it's just a safe way of um",
    "start": "2212200",
    "end": "2218200"
  },
  {
    "text": "of of um working with um but yeah just a quick",
    "start": "2218200",
    "end": "2224940"
  },
  {
    "text": "can you talk through a bit about some of the areas customers could potentially investigate if they see high CPU usage",
    "start": "2225720",
    "end": "2232119"
  },
  {
    "text": "yeah definitely Louis right as I said uh monitoring CPU is important as you said you really brought in very important",
    "start": "2232119",
    "end": "2238900"
  },
  {
    "text": "topic about balancing the cluster right Kafka being a distributed system we want you to have a well-balanced load across",
    "start": "2238900",
    "end": "2246280"
  },
  {
    "text": "your Kafka cluster right and Louis clearly explained you why you need 60 because in a distributed system you need",
    "start": "2246280",
    "end": "2253119"
  },
  {
    "text": "an AZ level high availability and if one of the AZ goes the rest of the broker",
    "start": "2253119",
    "end": "2258160"
  },
  {
    "text": "nodes in other is he needs to handle that load after third easy right that's why we we come up with that kind of",
    "start": "2258160",
    "end": "2264400"
  },
  {
    "text": "number but you need to always take care of it based upon your different workload coming back to the Louise question of",
    "start": "2264400",
    "end": "2270760"
  },
  {
    "text": "what are few things that could have CPU impact is if you see high CPU some of the common issues that we see is about",
    "start": "2270760",
    "end": "2277119"
  },
  {
    "text": "customer implementing compression of the broker side instead of client side right if you are yes you should compress the",
    "start": "2277119",
    "end": "2282820"
  },
  {
    "text": "message just we love it because you save so much on the storage side if you compress but compression is a CPU",
    "start": "2282820",
    "end": "2288339"
  },
  {
    "text": "intensive operation and you can you can do it at the producer side instead of putting that load on the broker right",
    "start": "2288339",
    "end": "2293560"
  },
  {
    "text": "another one of the common issues that we see in production with customers spiking CPU is the connection management right",
    "start": "2293560",
    "end": "2301060"
  },
  {
    "text": "if they are using any third-party client applications and if that library is not",
    "start": "2301060",
    "end": "2306400"
  },
  {
    "text": "patched and they have issues with TCP uh recently as I was working with a customer who was using a fully and bit",
    "start": "2306400",
    "end": "2312400"
  },
  {
    "text": "to send the logs to Kafka right the fluid bit had an issue I don't remember the version unfortunately where we have",
    "start": "2312400",
    "end": "2318579"
  },
  {
    "text": "to patch it where it was constantly doing a TCP purging right so it was not maintaining the standard TCP connections",
    "start": "2318579",
    "end": "2325420"
  },
  {
    "text": "and there was so much of TCP Chun so too much of TCP churn can hit CPU and yeah",
    "start": "2325420",
    "end": "2330880"
  },
  {
    "text": "so we want you to monitor that in in that we've got uh Stu Montana uh wants",
    "start": "2330880",
    "end": "2337480"
  },
  {
    "text": "to know Louis if they're struggling with this CPU scaling events would it be a good use case for serverless",
    "start": "2337480",
    "end": "2344880"
  },
  {
    "text": "that's a good question so if you are struggling with this CPU that's what I said right CPU scaling events generally",
    "start": "2346859",
    "end": "2352839"
  },
  {
    "text": "happen you need to see what as as Lewis clearly initially said Kafka is not CPU intensive typically application right so",
    "start": "2352839",
    "end": "2360160"
  },
  {
    "text": "you are you um serverless is mostly helping you for the",
    "start": "2360160",
    "end": "2365619"
  },
  {
    "text": "sake of throughput wherein which for for eight hours on your business you're gonna pump 100 mb per second and during",
    "start": "2365619",
    "end": "2371380"
  },
  {
    "text": "a non-business hours you're going to pump 5 mb per second right but if it's msk provision you need to always",
    "start": "2371380",
    "end": "2376900"
  },
  {
    "text": "provision the cluster for 100 Mbps but if it's msk serverless you are charged only based upon your throughput that's",
    "start": "2376900",
    "end": "2382900"
  },
  {
    "text": "where it plays a bigger role so I think for for Stu Montana it's if they're having issues with the CPU scaling that",
    "start": "2382900",
    "end": "2390220"
  },
  {
    "text": "that's something that probably needs more investigation yes yeah it's it's going to be more of a",
    "start": "2390220",
    "end": "2395440"
  },
  {
    "text": "troubleshooting type of exercise and understanding the use case and some big events or something that's causing it",
    "start": "2395440",
    "end": "2401320"
  },
  {
    "text": "but I think also um the msk serverless when you start considering between provision and",
    "start": "2401320",
    "end": "2407440"
  },
  {
    "text": "servers obviously that goes completely based on not use usually your CPU topper",
    "start": "2407440",
    "end": "2412540"
  },
  {
    "text": "skating but rather the use case you're dealing with um if it's on a more adult type of on-demand type of basis or so on but as",
    "start": "2412540",
    "end": "2419740"
  },
  {
    "text": "Kyle mentioned before I'm not going to go to depth and do that because it's a complete top topic on its own but thanks",
    "start": "2419740",
    "end": "2424960"
  },
  {
    "text": "for that question if your CPU is an issue it's not about",
    "start": "2424960",
    "end": "2430060"
  },
  {
    "text": "msk serverless won't be the direct answer you need to investigate the issue yeah",
    "start": "2430060",
    "end": "2435280"
  },
  {
    "text": "cool and yeah and also um Kafka what Kafka also do it because",
    "start": "2435280",
    "end": "2441760"
  },
  {
    "text": "it um deals with all these logs and such and on and and did um and the bites",
    "start": "2441760",
    "end": "2447820"
  },
  {
    "text": "anybody out of all these messages it was sits persists all the states are um to disk so obviously measuring disk usage",
    "start": "2447820",
    "end": "2455079"
  },
  {
    "text": "is also fairly important metric and we've seen a lot of customers run into any disk space issues on the Kafka",
    "start": "2455079",
    "end": "2461140"
  },
  {
    "text": "clusters as well this was quite a really common issue we have seen and some of the thresholds around the storage space",
    "start": "2461140",
    "end": "2467500"
  },
  {
    "text": "stuff I think also what we seem to work fairly well is if you look at if if you",
    "start": "2467500",
    "end": "2472599"
  },
  {
    "text": "set alarms when your storage is exceeding about 85 or so and um and just looking at these metrics",
    "start": "2472599",
    "end": "2480640"
  },
  {
    "text": "here like I said there's a fairly low workload so most of all these ones are 94 still disk space available but let's",
    "start": "2480640",
    "end": "2488380"
  },
  {
    "text": "just show you that you can definitely try and keep an eye on across all these things and when you look at the blog",
    "start": "2488380",
    "end": "2493420"
  },
  {
    "text": "post with those dashboards it will pretty much be set up for you um but I've also got a question for you",
    "start": "2493420",
    "end": "2499119"
  },
  {
    "text": "kellyanne on the on the desktop sort of thing so I know with some of the customers you've worked with as well",
    "start": "2499119",
    "end": "2504280"
  },
  {
    "text": "when they had some desk issues and stuff there are some good mitigation methods around this as well can you walk me",
    "start": "2504280",
    "end": "2510280"
  },
  {
    "text": "through a few to try and avoid disk space issues surely so if at all we take",
    "start": "2510280",
    "end": "2516160"
  },
  {
    "text": "top five issues customers face with like the customer unnoticed and suddenly face in production that we see one of them in",
    "start": "2516160",
    "end": "2523359"
  },
  {
    "text": "the top five is this the the disk space hitting hundred percent right as you say",
    "start": "2523359",
    "end": "2528400"
  },
  {
    "text": "Kafka could be as a streaming system if he's like sending so much of data in so",
    "start": "2528400",
    "end": "2533859"
  },
  {
    "text": "so the moment the disk hits 100 so it's got it going to have an side effects on",
    "start": "2533859",
    "end": "2539260"
  },
  {
    "text": "your Kafka cluster that's why we so there's something that you can mitigate is AWS msk provides you an option to",
    "start": "2539260",
    "end": "2546460"
  },
  {
    "text": "Auto scale your storage right because the so that you can have a cloud watch alarm and Implement that auto scaling of",
    "start": "2546460",
    "end": "2552339"
  },
  {
    "text": "underlying EBS volume so whenever you're hitting your threshold right as Lewis was suggesting a 85 could be good",
    "start": "2552339",
    "end": "2559240"
  },
  {
    "text": "threshold or it's it's not about a one number right you can have your your you",
    "start": "2559240",
    "end": "2564339"
  },
  {
    "text": "can choose your threshold based upon type of the workload you might get right and second thing you might have to think",
    "start": "2564339",
    "end": "2569800"
  },
  {
    "text": "about also is are you choosing a right retention period for your cluster right so the default retention period is seven",
    "start": "2569800",
    "end": "2576339"
  },
  {
    "text": "days but do you really need seven days of data to be saved on the cluster right because uh currently uh AWS msk can the",
    "start": "2576339",
    "end": "2584859"
  },
  {
    "text": "storage can only be scaled out but it cannot be scaled in so once you scale out it's gonna stay there forever so uh",
    "start": "2584859",
    "end": "2592960"
  },
  {
    "text": "one retention choosing a right retention period is also gonna help you uh with not hitting this hundred percent of",
    "start": "2592960",
    "end": "2599560"
  },
  {
    "text": "storage and keep keep scaling the storage forever if so if you wanted to",
    "start": "2599560",
    "end": "2604960"
  },
  {
    "text": "to keep that around but not necessarily you'd offload that to somewhere else right if you needed that to keep that that",
    "start": "2604960",
    "end": "2612099"
  },
  {
    "text": "data or that storage exactly yeah sure",
    "start": "2612099",
    "end": "2617500"
  },
  {
    "text": "um yeah just some other metrics you just want to go through I know just a bit mindful of the time so I'll try my best to get through some of these Matrix so",
    "start": "2617500",
    "end": "2625119"
  },
  {
    "text": "another one um which is also fairly important um as mentioned before Kafka is quite",
    "start": "2625119",
    "end": "2633400"
  },
  {
    "text": "um it's usually performance bottleneck by memory so um so one of the key things to",
    "start": "2633400",
    "end": "2639280"
  },
  {
    "text": "measure in Kafka as well is the heat memory of the garbage collection metric that's definitely saw something to be",
    "start": "2639280",
    "end": "2645940"
  },
  {
    "text": "aware of and also thresholds recommendations around this piece is",
    "start": "2645940",
    "end": "2651339"
  },
  {
    "text": "also setting alarms when something is exceeding 60 again not a very hard requirement there but",
    "start": "2651339",
    "end": "2659740"
  },
  {
    "text": "just a good a good threshold to work with and then finally just all looking",
    "start": "2659740",
    "end": "2664780"
  },
  {
    "text": "at some of the networking aspects and so so the goal of Kafka Brokers as you know",
    "start": "2664780",
    "end": "2670180"
  },
  {
    "text": "is together and move all these vast amounts of data for processing right if you've got millions of data points it",
    "start": "2670180",
    "end": "2675339"
  },
  {
    "text": "can be a source for very high Network traffic so just one thing to to keep in",
    "start": "2675339",
    "end": "2681540"
  },
  {
    "text": "consideration is always trying to monitor the network activity of your Brokers as well two common key metrics",
    "start": "2681540",
    "end": "2688119"
  },
  {
    "text": "that you can which is a great way to actually cross-reference as well is the network request rates and the network",
    "start": "2688119",
    "end": "2694839"
  },
  {
    "text": "error rate Network request rate is your actual number of network requests per second that can actually help you",
    "start": "2694839",
    "end": "2701260"
  },
  {
    "text": "determine if you need to scale the number of Brokers or not so that can really help with the sizing part of it and also if you have any latency issues",
    "start": "2701260",
    "end": "2709060"
  },
  {
    "text": "um so but so if you see on your network requests you have got some a decrease in",
    "start": "2709060",
    "end": "2715060"
  },
  {
    "text": "a lot of your throughput but you've got an increase of your error rate on the right then that could help indicate if",
    "start": "2715060",
    "end": "2721780"
  },
  {
    "text": "you actually need to scale up your data consumers or if there's specific Network requests that's giving errors I'm just",
    "start": "2721780",
    "end": "2728319"
  },
  {
    "text": "showing a high overview of the network errors but you can have specific um finer Grain on the network level where",
    "start": "2728319",
    "end": "2735819"
  },
  {
    "text": "it's packet loss or specific request start having some issues and just one",
    "start": "2735819",
    "end": "2741940"
  },
  {
    "text": "there's quite a few I'm just going to spend one more um just the active control account if I just scroll to the",
    "start": "2741940",
    "end": "2747520"
  },
  {
    "text": "top part of our level top of Matrix so your active controller so the first",
    "start": "2747520",
    "end": "2752560"
  },
  {
    "text": "broker in your calculator boot is automatically the controller and there can only be one",
    "start": "2752560",
    "end": "2758760"
  },
  {
    "text": "so the controller in your class is basically responsible for maintaining the list of your partition leaders and",
    "start": "2758760",
    "end": "2765520"
  },
  {
    "text": "also coordinating leadership transitions in the event your partition needed becomes unavailable so just looking at",
    "start": "2765520",
    "end": "2772720"
  },
  {
    "text": "this graph you can see there's only one controller this broker three is the one that's been looking traveling all the",
    "start": "2772720",
    "end": "2778240"
  },
  {
    "text": "others of the followers um yeah but I hope this is useful I'll",
    "start": "2778240",
    "end": "2783940"
  },
  {
    "text": "pass it back to you again thank you so we'll go back to our SlideShare now so now that we talked",
    "start": "2783940",
    "end": "2789460"
  },
  {
    "text": "about best practice best practices with monitoring next thing we're gonna see is",
    "start": "2789460",
    "end": "2796180"
  },
  {
    "text": "cost optimization right we would love our customer to optimize their costs right we want them to optimize their",
    "start": "2796180",
    "end": "2803200"
  },
  {
    "text": "workload and don't pay for um as a cloud you have to optimize and then you don't have to pay for something that is not of",
    "start": "2803200",
    "end": "2810280"
  },
  {
    "text": "your use right so right sizing your cluster is very important next thing is",
    "start": "2810280",
    "end": "2815760"
  },
  {
    "start": "2813000",
    "end": "2978000"
  },
  {
    "text": "uh you can use cruise control for partition management right so Kafka",
    "start": "2815760",
    "end": "2821500"
  },
  {
    "text": "being a high heavy throughput systems we want your cluster to be well balanced so your entire load is well distributed",
    "start": "2821500",
    "end": "2828760"
  },
  {
    "text": "across all your broker nodes if you think your customer is going out of control and you want some automation",
    "start": "2828760",
    "end": "2833859"
  },
  {
    "text": "there yes Cruise the open source project lose control is it completely Works uh",
    "start": "2833859",
    "end": "2839920"
  },
  {
    "text": "as is with it as with typical open source Kafka and you can deploy it and use it for sake of your partition",
    "start": "2839920",
    "end": "2845380"
  },
  {
    "text": "management and then some surprising cost customers would get is even though msk provides",
    "start": "2845380",
    "end": "2852880"
  },
  {
    "text": "you no charges for the data transfer between the broker nodes there is some data transfer costs for the consumers",
    "start": "2852880",
    "end": "2859839"
  },
  {
    "text": "that are consuming from your data right so when consumers are consuming your data out of your Kafka clusters there",
    "start": "2859839",
    "end": "2865480"
  },
  {
    "text": "will be data transfer charts and Kafka being a throughput-based system is definitely comes up with a good number",
    "start": "2865480",
    "end": "2871800"
  },
  {
    "text": "and we have from Kafka to 2.4 onwards open source there is a feature called",
    "start": "2871800",
    "end": "2876880"
  },
  {
    "text": "rack aware replication selector right if you are choosing a A Min in sync replica",
    "start": "2876880",
    "end": "2884260"
  },
  {
    "text": "is greater than two or you have always an in-sync replica where in which your consumer is can directly fetch the",
    "start": "2884260",
    "end": "2892300"
  },
  {
    "text": "message from the in-sync replica instead of leader partition right so it it would",
    "start": "2892300",
    "end": "2897819"
  },
  {
    "text": "try to fetch the data from an in-sync replica that is within the same AC instead of leader that might be in",
    "start": "2897819",
    "end": "2904420"
  },
  {
    "text": "totally different AZ so that govern providing a huge amount of saving in your data transfer cost because uh when",
    "start": "2904420",
    "end": "2912400"
  },
  {
    "text": "you enable this rack of a replica selector the consumer would pick from the replica selector the Instinct",
    "start": "2912400",
    "end": "2917859"
  },
  {
    "text": "replica within the same availability zone right so these are some of the options available to you to optimize",
    "start": "2917859",
    "end": "2923500"
  },
  {
    "text": "your cost with msk and as I said right if your workload is not constant and you",
    "start": "2923500",
    "end": "2929260"
  },
  {
    "text": "have very variable kind of workload and uh you don't have an expertise on the partition management then we do have a",
    "start": "2929260",
    "end": "2936520"
  },
  {
    "text": "service msk serverless which would provide you so many more options there and we can definitely have a session on",
    "start": "2936520",
    "end": "2942400"
  },
  {
    "text": "msk serverless as we see more interest from the audience here so that stands for ends the session for",
    "start": "2942400",
    "end": "2948160"
  },
  {
    "text": "today where we where we discussed about so many best practices about right sizing securing monitoring and cost",
    "start": "2948160",
    "end": "2953560"
  },
  {
    "text": "optimization thanks for attending the session and we'll be happy to answer any more questions that come up on the chat",
    "start": "2953560",
    "end": "2959800"
  },
  {
    "text": "here yeah great thanks a lot of a lot of really",
    "start": "2959800",
    "end": "2964960"
  },
  {
    "text": "good information I know I learned some things today with this um if anybody else I'm not seeing any",
    "start": "2964960",
    "end": "2970240"
  },
  {
    "text": "other questions in the chat at this time um so I don't know it do do either of",
    "start": "2970240",
    "end": "2975460"
  },
  {
    "text": "you kind of have any closing last minute recommendations uh or or things you want",
    "start": "2975460",
    "end": "2982720"
  },
  {
    "start": "2978000",
    "end": "3150000"
  },
  {
    "text": "to share that we didn't get out uh before we uh wrap up today yeah I think",
    "start": "2982720",
    "end": "2988599"
  },
  {
    "text": "um I yeah I've just got one like I said I can get a bit um passionate around the monitoring stuff and um on workloads but",
    "start": "2988599",
    "end": "2995380"
  },
  {
    "text": "all I'm what I've seen is a lot of times when you're in trouble and you need to start firefighting and stuff if you",
    "start": "2995380",
    "end": "3001560"
  },
  {
    "text": "don't have the right observability it's gonna be chaos for me it's always",
    "start": "3001560",
    "end": "3007079"
  },
  {
    "text": "important just to make sure you've got all the right visibility even if you don't have to have all the metrics and",
    "start": "3007079",
    "end": "3013079"
  },
  {
    "text": "stuff advice just have the basics in place because it will really help guide you it's really important",
    "start": "3013079",
    "end": "3018119"
  },
  {
    "text": "um yeah there are few other Kafka level metrics Kafka level best practices we couldn't",
    "start": "3018119",
    "end": "3023940"
  },
  {
    "text": "get time to discuss something like ensure uh your topic uh your age",
    "start": "3023940",
    "end": "3029160"
  },
  {
    "text": "partition replication factor is three near production and always have that mean in sync replica is rf-1",
    "start": "3029160",
    "end": "3035480"
  },
  {
    "text": "and uh there is sometimes we see customers don't choose something like",
    "start": "3035480",
    "end": "3042359"
  },
  {
    "text": "um uh uh unclean leader election this is one of the important ways when you have",
    "start": "3042359",
    "end": "3047579"
  },
  {
    "text": "an unclean redirection you need to know the side effect of that right so if you have a very critical data you should not",
    "start": "3047579",
    "end": "3053640"
  },
  {
    "text": "enable that unclean the election because when broker goes into maintenance uh there could be some data loss so there",
    "start": "3053640",
    "end": "3060599"
  },
  {
    "text": "are a few Kafka level best practices uh probably you might still need to follow um yes we can have some some other",
    "start": "3060599",
    "end": "3066300"
  },
  {
    "text": "session or talk about it and update our documentation and and we also cover a lot of that in our in our public",
    "start": "3066300",
    "end": "3071819"
  },
  {
    "text": "documentation as well exactly yeah so they can check that out there cool great thank you uh for this today",
    "start": "3071819",
    "end": "3079559"
  },
  {
    "text": "um so everyone today we looked at the operational best practices for Amazon managed streaming for Apache Kafka",
    "start": "3079559",
    "end": "3088619"
  },
  {
    "text": "um quite the mouthful um if there's any questions that we didn't answer today uh you can post your",
    "start": "3088619",
    "end": "3094319"
  },
  {
    "text": "questions over on repost.aws where one of our experts uh our community would be",
    "start": "3094319",
    "end": "3099420"
  },
  {
    "text": "provide you with an answer to your question um and it could even become a topic for one of our future shows here so if you",
    "start": "3099420",
    "end": "3106020"
  },
  {
    "text": "have feedback for us please check the chat box on the right for a link to our survey or you can email us at AWS",
    "start": "3106020",
    "end": "3112619"
  },
  {
    "text": "supports you at amazon.com we want to hear from you tell us what else you would like to see on the show",
    "start": "3112619",
    "end": "3119400"
  },
  {
    "text": "um thanks again for taking the time today uh for sharing all this with us some really good information so thanks",
    "start": "3119400",
    "end": "3126180"
  },
  {
    "text": "for joining us at AWS supports you and happy cloud computing thank you thank you everyone thank you",
    "start": "3126180",
    "end": "3134540"
  },
  {
    "text": "[Music]",
    "start": "3137490",
    "end": "3142940"
  }
]