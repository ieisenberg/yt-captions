[
  {
    "text": "my name is Christian I'm with sumo logic I started a company together with my buddy Kumar in",
    "start": "760",
    "end": "6640"
  },
  {
    "text": "2010 I'm the CTO over there it's at sumic we are doing cloud-based basically",
    "start": "6640",
    "end": "13240"
  },
  {
    "text": "lock management I was previously a server guy and a Chief Architect at a company",
    "start": "13240",
    "end": "18840"
  },
  {
    "text": "called arite uh from 2001 on uh onwards and up until",
    "start": "18840",
    "end": "24920"
  },
  {
    "text": "2010 at arite we also dealt with logs we dealt with logs for security",
    "start": "24920",
    "end": "31640"
  },
  {
    "text": "aret was a security information and event management system the point here is more most most",
    "start": "31640",
    "end": "38200"
  },
  {
    "text": "mostly around hey most of my professional career in software anyways",
    "start": "38200",
    "end": "44079"
  },
  {
    "text": "I've spent dealing with Logs with machine",
    "start": "44079",
    "end": "49600"
  },
  {
    "text": "data and so I've been around the block a couple of times but times are changing arite was ultimately in late",
    "start": "50800",
    "end": "58920"
  },
  {
    "text": "2010 sold to HP HP paid a nice little premium on top",
    "start": "58920",
    "end": "65600"
  },
  {
    "text": "of the going the price on the street so thank you very much HP I got a nice car out of",
    "start": "65600",
    "end": "70799"
  },
  {
    "text": "it and then I see this that must have been sometime last",
    "start": "70799",
    "end": "77119"
  },
  {
    "text": "year and you know what that tells you is that I'm a dirty liberal and you know I look at NPR tweets no actually it's",
    "start": "77119",
    "end": "83479"
  },
  {
    "text": "about HP so this showed up in my tweet stream and in a couple of minutes later",
    "start": "83479",
    "end": "90320"
  },
  {
    "text": "this showed up the point here is that things really",
    "start": "90320",
    "end": "96640"
  },
  {
    "text": "are changing we're going to talk about a couple of things that we have",
    "start": "96640",
    "end": "102159"
  },
  {
    "text": "changed while building a lock management lock analytics machine data",
    "start": "102159",
    "end": "109000"
  },
  {
    "text": "analytics service so here's the agenda for today it's a full hour so I'm going to be rambling you know until you guys",
    "start": "109000",
    "end": "116799"
  },
  {
    "text": "flee the room or until we get kicked out um I'm going to start talk a little bit",
    "start": "116799",
    "end": "122079"
  },
  {
    "text": "about locks what is that lock thing then I'm going to talk a little bit about why we actually went and built this service",
    "start": "122079",
    "end": "129679"
  },
  {
    "text": "we talk about the architecture of the service and then I thought I'm going to talk a little bit about what we are doing because hey it's in the cloud and",
    "start": "129679",
    "end": "135519"
  },
  {
    "text": "all of that around automation because it's a very big part and a big change to",
    "start": "135519",
    "end": "141080"
  },
  {
    "text": "how we've built stuff before I'm talking about a couple more things and then ultimately we're going",
    "start": "141080",
    "end": "146319"
  },
  {
    "text": "to wrap up and uh I'll have two MBA slides so introduction to logs and logging",
    "start": "146319",
    "end": "153560"
  },
  {
    "text": "actually one thing before we get into this um it is quite possible that my",
    "start": "153560",
    "end": "159519"
  },
  {
    "text": "voice is going to cut out at some point uh fortunately picked up while traveling some sort of buck last week and my",
    "start": "159519",
    "end": "166360"
  },
  {
    "text": "throat is not in good condition so I have um I have tea with honey here and",
    "start": "166360",
    "end": "173680"
  },
  {
    "text": "you know these things so I hope I don't have to take them anyways so maybe if my voice cuts out it's better for you",
    "start": "173680",
    "end": "179360"
  },
  {
    "text": "anyways so we'll see what is machine data well I said logs you know talking about log management but really sort of",
    "start": "179360",
    "end": "185760"
  },
  {
    "text": "the term that has developed in the last couple of years is machine data so what is machine data I'll you know not going",
    "start": "185760",
    "end": "192480"
  },
  {
    "text": "to read that back to you you can read it yourself it's really about machine generated data versus you know human",
    "start": "192480",
    "end": "198799"
  },
  {
    "text": "generated data you know so here's a fun little pop",
    "start": "198799",
    "end": "204720"
  },
  {
    "text": "quiz monach and abadi based on those definitions who do you think think is",
    "start": "204720",
    "end": "210680"
  },
  {
    "text": "the academic anyways so this is a topic that",
    "start": "210680",
    "end": "215920"
  },
  {
    "text": "data people are talking about this is a new kind it's not really new at all but it's it's data that is now coming into",
    "start": "215920",
    "end": "221640"
  },
  {
    "text": "the spotlight again what are examples of machine",
    "start": "221640",
    "end": "227159"
  },
  {
    "text": "data well basically logs all the stuff that your you know computer and your network kind of spits out other",
    "start": "227159",
    "end": "233720"
  },
  {
    "text": "things you know satellite and Telemetry data there's good uses for it and and",
    "start": "233720",
    "end": "239760"
  },
  {
    "text": "then there's better uses for it like Espionage location data IID chips you",
    "start": "239760",
    "end": "244920"
  },
  {
    "text": "know container ships moving around stuff all of that producers data various",
    "start": "244920",
    "end": "250959"
  },
  {
    "text": "sensors medical devices actually so machine data is you know becoming more",
    "start": "250959",
    "end": "256280"
  },
  {
    "text": "popular and the spotlight is being shown on it even more so than just when it you know just to the loog subset under the context of the internet",
    "start": "256280",
    "end": "263360"
  },
  {
    "text": "of things and everything's connected and everything is speding out information right so anyways so that's machine data",
    "start": "263360",
    "end": "269320"
  },
  {
    "text": "l BLS are a kind of machine data you know given that we are at this",
    "start": "269320",
    "end": "274919"
  },
  {
    "text": "conference I think I don't really have to explain you know that I think you should",
    "start": "274919",
    "end": "280160"
  },
  {
    "text": "have probably coming into this room you should have a general notion of what a log is I have some examples as well",
    "start": "280160",
    "end": "285400"
  },
  {
    "text": "we're talking about these little like bits and pieces of text you know little poems that programmers write to",
    "start": "285400",
    "end": "291479"
  },
  {
    "text": "themselves you know in debug statements uh and they can",
    "start": "291479",
    "end": "296919"
  },
  {
    "text": "actually be quite useful if you can manage them because there's a lot of information that that you won't",
    "start": "296919",
    "end": "302680"
  },
  {
    "text": "get from metrics and other things like that so this is how my screen looks",
    "start": "302680",
    "end": "309639"
  },
  {
    "text": "sometimes we have a you know very decentralized you know uh multicluster system so anyways you know those are all",
    "start": "309639",
    "end": "319280"
  },
  {
    "text": "logs and they won't go away they go all right another way of putting it there is",
    "start": "320000",
    "end": "325600"
  },
  {
    "text": "a lot of information in logs we have used the analogy of",
    "start": "325600",
    "end": "333560"
  },
  {
    "text": "Twitter so it's basically like Twitter for your infrastructure just you know think about all of your little machines",
    "start": "333560",
    "end": "339120"
  },
  {
    "text": "are sitting there in their racks and it's getting hot and maybe you know the other guy is an you know you",
    "start": "339120",
    "end": "344800"
  },
  {
    "text": "know you know three switches down and so forth so things go and basically talk constantly",
    "start": "344800",
    "end": "350639"
  },
  {
    "text": "about how they're feeling and you know Lo another way to look at log analytics is it's almost like sentiment analysis",
    "start": "350639",
    "end": "357720"
  },
  {
    "text": "for machines the point is that you have this data already it's basically free your",
    "start": "357720",
    "end": "363800"
  },
  {
    "text": "applications your infrastructure your networks they will spit this information at you so you can either Let It Drop to",
    "start": "363800",
    "end": "370120"
  },
  {
    "text": "the floor or you can take this data and it has a tremendous",
    "start": "370120",
    "end": "376240"
  },
  {
    "text": "value and get the use out of that so don't forget to manage and analyze your",
    "start": "376240",
    "end": "382280"
  },
  {
    "text": "logs otherwise Catzilla will sync your ships right so we're running",
    "start": "382280",
    "end": "388039"
  },
  {
    "text": "infrastructure that's really we don't want that how does a lock look like I'm",
    "start": "388039",
    "end": "393199"
  },
  {
    "text": "going to run through this real quick this is just a sample lock um from one of our systems of course there's a time stamp",
    "start": "393199",
    "end": "399960"
  },
  {
    "text": "in there if you're responsible for logging in your company please",
    "start": "399960",
    "end": "406360"
  },
  {
    "text": "put the time zone there because otherwise we don't know what time it was over there when the damn thing happened",
    "start": "406360",
    "end": "414120"
  },
  {
    "text": "okay log level you know that's from sis log you know info debug errow one that kind of stuff",
    "start": "414120",
    "end": "420360"
  },
  {
    "text": "what we like to do as we run an application that sort of runs on many different machines you know in the AWS",
    "start": "420360",
    "end": "425520"
  },
  {
    "text": "Cloud we like to put a nice human readable host name in there that can help later with the analytics so we know",
    "start": "425520",
    "end": "431599"
  },
  {
    "text": "this is the the first uh front end note in this particular",
    "start": "431599",
    "end": "436800"
  },
  {
    "text": "case you know if you can put a little code location there so people can if they look at the logs later on you know",
    "start": "439039",
    "end": "445120"
  },
  {
    "text": "find a piece of code that actually generated it",
    "start": "445120",
    "end": "450680"
  },
  {
    "text": "the other thing that we found very interesting and that we're actually doing across the entire system is put an",
    "start": "450680",
    "end": "455759"
  },
  {
    "text": "authentication context in there so usually what happens if you build systems today you have these multi-tier",
    "start": "455759",
    "end": "461879"
  },
  {
    "text": "sort of things where there's some request coming in and then there's some orchestration going on and we talk to",
    "start": "461879",
    "end": "467759"
  },
  {
    "text": "you know some other backend system that gets you some piece of the data and then you talk to yet another backend system maybe with the result of that and then",
    "start": "467759",
    "end": "473080"
  },
  {
    "text": "that goes and talks to another guy and so these requests basically span all the layers multiple tiers of your",
    "start": "473080",
    "end": "479840"
  },
  {
    "text": "application and you know in between you make RPC calls or you use messaging or whatever um it's fairly",
    "start": "479840",
    "end": "488000"
  },
  {
    "text": "easy to keep around some sort of contextual information just stick it in a hashmap or something about who actually made the",
    "start": "488000",
    "end": "496400"
  },
  {
    "text": "call coming into the system initially so which user it was maybe you have a user ID in there so that kind of stuff and",
    "start": "496400",
    "end": "502319"
  },
  {
    "text": "then when you call into the deeper layers of your application where well now I could just make the call but I",
    "start": "502319",
    "end": "507560"
  },
  {
    "text": "then don't know anymore on whose behalf that call happened and then that can be uh very unpleasant later if you need to",
    "start": "507560",
    "end": "513518"
  },
  {
    "text": "pill pull this all out and put it back together so put your authentication context there that has helped us a",
    "start": "513519",
    "end": "519320"
  },
  {
    "text": "lot and then the rest of it you know use some sort of key value pair format you",
    "start": "519320",
    "end": "524839"
  },
  {
    "text": "know don't write high C I mean they're funny but like you know if something really goes down and you need to",
    "start": "524839",
    "end": "530519"
  },
  {
    "text": "decipher what went on then you know it that gets old pretty quickly um",
    "start": "530519",
    "end": "535839"
  },
  {
    "text": "long-standing discussion what kind of format should I use for that can somebody please write a standardized",
    "start": "535839",
    "end": "541160"
  },
  {
    "text": "format for that yes people keep trying you know just look at those mailing lists it's it's it's intentionally good",
    "start": "541160",
    "end": "547200"
  },
  {
    "text": "but it's very very hard to get right so this is actually something you know this is in fact I actually used a lock that I",
    "start": "547200",
    "end": "553279"
  },
  {
    "text": "wrote myself so so I have a fair bosy value pair uh syntax here we have also",
    "start": "553279",
    "end": "558519"
  },
  {
    "text": "now started to use Jon a lot so it's pretty easy to make and it's also fairly human readable you know if you",
    "start": "558519",
    "end": "565360"
  },
  {
    "text": "absolutely want to you can put XML in your locks but I will think less of",
    "start": "565360",
    "end": "571880"
  },
  {
    "text": "you most tools whether it's ours or the other players in the space will have a",
    "start": "571880",
    "end": "578040"
  },
  {
    "text": "way to sort of figure out the key value pairs automatically so you don't have to be super precise there it doesn't have to be all RFC",
    "start": "578040",
    "end": "584399"
  },
  {
    "text": "based okay so now we have seen like on a very low level what does a look what does a lock look",
    "start": "584399",
    "end": "590800"
  },
  {
    "text": "like what are some use cases that we find interesting availability in",
    "start": "590800",
    "end": "597320"
  },
  {
    "text": "performance clearly you're running some sort of system it's got to stay up and uh if it actually you know goes",
    "start": "597320",
    "end": "605240"
  },
  {
    "text": "down then you need to find out quickly you want to make sure that your requests are processing in time and so forth right and yeah you know you can look at",
    "start": "605240",
    "end": "612000"
  },
  {
    "text": "your web server you know maybe you have some Metric instrumentation there but often the problems are deeper in the back end and these things are not",
    "start": "612000",
    "end": "618640"
  },
  {
    "text": "usually there's no sort of new common way to get metrix out of that so just put it in the logs and use a log",
    "start": "618640",
    "end": "623800"
  },
  {
    "text": "Analytics tool to pull that back out the point here is that if your goes down",
    "start": "623800",
    "end": "629880"
  },
  {
    "text": "or your doesn't perform good you are losing money and if you're responsible for running that stuff and",
    "start": "629880",
    "end": "636360"
  },
  {
    "text": "the company is keeping if company keeps on losing money then you will be out of a job",
    "start": "636360",
    "end": "643200"
  },
  {
    "text": "eventually another use case we find very interesting application",
    "start": "643200",
    "end": "648279"
  },
  {
    "text": "release even before you release an application you have staging environments get the visibility look at",
    "start": "648399",
    "end": "653519"
  },
  {
    "text": "what's actually going on push new code figure out hey what exceptions are in there",
    "start": "653519",
    "end": "660079"
  },
  {
    "text": "you previously we had like one little web server and then we just looked at the arrow lock and that was all there is but today we're building these large",
    "start": "660079",
    "end": "665519"
  },
  {
    "text": "distributed applications so get everything into one place and take a look at it before you",
    "start": "665519",
    "end": "671399"
  },
  {
    "text": "ship it before you push it to production if you do a deploy look at what happened before try",
    "start": "671399",
    "end": "678519"
  },
  {
    "text": "to find a way to sort of quickly find a you know Baseline of your of your behavior count of Arrow by",
    "start": "678519",
    "end": "685560"
  },
  {
    "text": "module you know for example there's some very simple things that you can do run that again after deploy see what",
    "start": "685560",
    "end": "692920"
  },
  {
    "text": "changed you will often times uh be quite surprised and then of course security and",
    "start": "692920",
    "end": "700959"
  },
  {
    "text": "compliance most compliance regulations have a um uh a part in them that talks about",
    "start": "701120",
    "end": "707800"
  },
  {
    "text": "hey you need to put all the stuff in one you need to put all your locks in one place we want to see who locked into your systems you need to know that need",
    "start": "707800",
    "end": "713800"
  },
  {
    "text": "do these kinds of analysis so that was that's the security use case again that is um you know there's",
    "start": "713800",
    "end": "720839"
  },
  {
    "text": "literally people going to jail if you don't do that quick proof points you know across",
    "start": "720839",
    "end": "726440"
  },
  {
    "text": "these um across these uh uh use cases we can actually help people we've helped",
    "start": "726440",
    "end": "732079"
  },
  {
    "text": "people like API ink Mobility you know saving about half a million dollars annually in in you know",
    "start": "732079",
    "end": "740279"
  },
  {
    "text": "in not spending time in a war room but using a you know centralized way of looking at their",
    "start": "740279",
    "end": "745680"
  },
  {
    "text": "logs and so forth so here's an interesting observation that",
    "start": "745680",
    "end": "752360"
  },
  {
    "text": "we've made over the years machine data and logs is actually or are actually Big",
    "start": "752360",
    "end": "760880"
  },
  {
    "text": "Data volume velocity and variety are all there we said at some points when you",
    "start": "760880",
    "end": "767360"
  },
  {
    "text": "know after having a couple of pintes locks are the original Big",
    "start": "767360",
    "end": "772760"
  },
  {
    "text": "Data our system just our system alone generates about a terabyte of locks per",
    "start": "772959",
    "end": "778040"
  },
  {
    "text": "week we have customers that generate a terabyte of locks per",
    "start": "778040",
    "end": "784160"
  },
  {
    "text": "day so I mean if that's not a lot of data then I don't know what it is and it's more data every day obviously so",
    "start": "784160",
    "end": "789959"
  },
  {
    "text": "today and then uh you know that that grows very quickly um machine data acqu in real time and it's time stamped so",
    "start": "789959",
    "end": "797839"
  },
  {
    "text": "you know you need to be able to pick it off the Wii as quickly as you can there's no point in processing it tomorrow and finally the variety bit is",
    "start": "797839",
    "end": "804560"
  },
  {
    "text": "hey it's actually unstructured or you know for those of you are who are a little bit more it's actually poorly",
    "start": "804560",
    "end": "810480"
  },
  {
    "text": "structured there's the fact is that logs actually have a structure whatever the guy thought that actually wrote The Log",
    "start": "810480",
    "end": "815839"
  },
  {
    "text": "line that's the structure but you know every lo line usually has a different structure and Hance poly structure that's a term that's coming up um these",
    "start": "815839",
    "end": "822760"
  },
  {
    "text": "days so why are we building this",
    "start": "822760",
    "end": "828120"
  },
  {
    "text": "service because we need to evolve we need to evolve and we need",
    "start": "828120",
    "end": "836040"
  },
  {
    "text": "to deal with the fact that that when we are dealing with locks and machine data",
    "start": "836040",
    "end": "842199"
  },
  {
    "text": "we actually have a big data problem and the Legacy products fall short on that having a software and handing it",
    "start": "842199",
    "end": "849279"
  },
  {
    "text": "over and expecting you to scale it on your own leaves you with the hard",
    "start": "849279",
    "end": "856079"
  },
  {
    "text": "part so I'm going to not not actually going to you know go through these all in detail I mean we have enough sales",
    "start": "857639",
    "end": "862959"
  },
  {
    "text": "guys running around at the uh at at the booth that will tell you this in excruciatingly in excruciating detail",
    "start": "862959",
    "end": "869000"
  },
  {
    "text": "there is a lot of Truth to that we see this with all the customers that we're working on um the whole idea of put",
    "start": "869000",
    "end": "875120"
  },
  {
    "text": "putting the stuff on Prem and letting customers scale it themselves there's just too much data it's hard to sell",
    "start": "875120",
    "end": "880440"
  },
  {
    "text": "clusters to people letting people cluster your own software if your commercial vendor is really",
    "start": "880440",
    "end": "886800"
  },
  {
    "text": "hard so we built this company on top of AWS from the very",
    "start": "887600",
    "end": "893560"
  },
  {
    "text": "beginning at some point uh you know Kumar my co-founder and I we we went to",
    "start": "893560",
    "end": "899000"
  },
  {
    "text": "Vera talk at Stanford in 2008 some of you weren't even born back then and maybe the first parking lot",
    "start": "899000",
    "end": "906880"
  },
  {
    "text": "discussion about sort of this sort of you know hey what does this mean you know for us happened like literally that",
    "start": "906880",
    "end": "914920"
  },
  {
    "text": "day we walked out of there realizing that what AWS did and it hasn't really changed and",
    "start": "914920",
    "end": "922040"
  },
  {
    "text": "it's still the core point for me when why I like this thing so much it is a",
    "start": "922040",
    "end": "927279"
  },
  {
    "text": "data center as an API I'm a software guy I don't know I know nothing about data",
    "start": "927279",
    "end": "933079"
  },
  {
    "text": "centers but if I have an API then I can you know that feels a little bit more comfortable massive power up you know",
    "start": "933079",
    "end": "940120"
  },
  {
    "text": "we're just a bunch of deaths right build a large scalable system ha haa bunch of game boys probably no you need willp",
    "start": "940120",
    "end": "946959"
  },
  {
    "text": "power and AWS gives us that we are entering an existing",
    "start": "946959",
    "end": "952800"
  },
  {
    "text": "Market Market is proven we have to go in there and we have to grow fast there's",
    "start": "952800",
    "end": "958759"
  },
  {
    "text": "there's there's competition some of it is pretty big we have to both catch up and differentiate at the same time we really",
    "start": "958759",
    "end": "965360"
  },
  {
    "text": "have to build the product very quickly and we're dealing with big data so people will send us a lot of data so we",
    "start": "965360",
    "end": "970519"
  },
  {
    "text": "have to be able to scale it quickly and we now not actually have to",
    "start": "970519",
    "end": "975959"
  },
  {
    "text": "only scale to how much data a single customer is sending us but we this is a multitenant system obviously we have to",
    "start": "975959",
    "end": "982279"
  },
  {
    "text": "build it so that it scales to all customers so elasticity you know quick",
    "start": "982279",
    "end": "987480"
  },
  {
    "text": "turnaround you know being able to bring up a you know staging deployment you know with a bunch of API calls all of",
    "start": "987480",
    "end": "993079"
  },
  {
    "text": "that that really makes a big difference for us makes a big difference for our",
    "start": "993079",
    "end": "999040"
  },
  {
    "text": "agility to build a good product very quickly and then you know of course the",
    "start": "999040",
    "end": "1004279"
  },
  {
    "text": "data is important there's compliance issues and so forth and if you've ever tried to architect for a Sim or some",
    "start": "1004279",
    "end": "1009720"
  },
  {
    "text": "other kind of lock management system an ha or even drr solution then I mean it's just a pain in the ass basically it's",
    "start": "1009720",
    "end": "1016160"
  },
  {
    "text": "very expensive you know you're going to get all your hair is going to fall out previously these Solutions were built",
    "start": "1016160",
    "end": "1022759"
  },
  {
    "text": "such that there was a couple of machines that were like sitting there pulling out all the information from your on-prem",
    "start": "1022759",
    "end": "1028640"
  },
  {
    "text": "staff sitting in your data center everything went into some sort of Sero Appliance lot of additional",
    "start": "1028640",
    "end": "1034640"
  },
  {
    "text": "infrastructure that you needed to put there what we're doing today is well it's just one system it's in the cloud",
    "start": "1034640",
    "end": "1041558"
  },
  {
    "text": "and all we all we need to do is make sure that the data comes to",
    "start": "1041559",
    "end": "1046438"
  },
  {
    "text": "us how did we build the system what is the architecture of the system now that we've hopefully made clear why we went",
    "start": "1047160",
    "end": "1053520"
  },
  {
    "text": "with AWS our development",
    "start": "1053520",
    "end": "1058799"
  },
  {
    "text": "approach we decided to use Scala we're Java guys we got bored of java so we were like hey why not better the company",
    "start": "1058799",
    "end": "1065200"
  },
  {
    "text": "on a totally new language you know you should definitely do that too the idea is it is a big distributed",
    "start": "1065200",
    "end": "1074679"
  },
  {
    "text": "system so let's make it so that it's modular let's make make it so that you know the functionality that belongs",
    "start": "1074679",
    "end": "1080360"
  },
  {
    "text": "together goes together into a module cohesive low coupling between the modules in our case we use Maven there's",
    "start": "1080360",
    "end": "1087200"
  },
  {
    "text": "many opinions on it it works with a little bit of pain layer those modules into",
    "start": "1087200",
    "end": "1092520"
  },
  {
    "text": "applications share underneath ultimately build out applications applications have very",
    "start": "1092520",
    "end": "1097559"
  },
  {
    "text": "narrow um responsibilities link them together we are messaging our",
    "start": "1097559",
    "end": "1103559"
  },
  {
    "text": "RPC basically build an internal service oriented architecture",
    "start": "1103559",
    "end": "1110320"
  },
  {
    "text": "here are the basic concerns that our system has to deal with we have the data ingestion part and we have the data",
    "start": "1112440",
    "end": "1118360"
  },
  {
    "text": "analysis part and there's this interesting thing that's sort of in between which we call continuous queries",
    "start": "1118360",
    "end": "1124720"
  },
  {
    "text": "where you know it's really not that separated you know the data comes out and then the results update automatically so that's why I put it in",
    "start": "1124720",
    "end": "1130400"
  },
  {
    "text": "the middle these concerns on our and map two clusters",
    "start": "1130400",
    "end": "1136880"
  },
  {
    "text": "this is our internal language that we are using I just talked about the fact that",
    "start": "1136880",
    "end": "1143120"
  },
  {
    "text": "everything's modulized and we kind of layer the modules and out pops a bunch of applications each one of these",
    "start": "1143120",
    "end": "1148679"
  },
  {
    "text": "applications gets deployed many times as part of the same cluster so it's basically scaleout uh architecture but",
    "start": "1148679",
    "end": "1155240"
  },
  {
    "text": "not just once it's like on each layer everything's deployed across",
    "start": "1155240",
    "end": "1161400"
  },
  {
    "text": "multiple um instances yeah well that we could have probably figured out ourselves um",
    "start": "1161400",
    "end": "1168320"
  },
  {
    "text": "availability zones which just split it out the instances within one cluster are",
    "start": "1168320",
    "end": "1173600"
  },
  {
    "text": "mostly oblivious of each other they receive requests from the upstream and respond to them or they talk to",
    "start": "1173600",
    "end": "1179480"
  },
  {
    "text": "something on the downstream and we use both messaging where it makes sense where we don't necessarily need to get a",
    "start": "1179480",
    "end": "1184760"
  },
  {
    "text": "reply immediately we also use RPC here's how the ingestion path looks",
    "start": "1184760",
    "end": "1193000"
  },
  {
    "text": "like there's this Cloud thing and then the requests come to us",
    "start": "1193000",
    "end": "1198559"
  },
  {
    "text": "you know they get received by a thing that's called receiver we uh we had this company that",
    "start": "1198559",
    "end": "1205159"
  },
  {
    "text": "that knows how to make names make the names for all of us the naming company you know about those never mind",
    "start": "1205159",
    "end": "1211360"
  },
  {
    "text": "um the receiver takes all the information from The Wire and batches it up puts it on a bus and then sends it to",
    "start": "1211360",
    "end": "1217360"
  },
  {
    "text": "these other three currently three processing systems quick drill down into the individual",
    "start": "1217360",
    "end": "1222960"
  },
  {
    "text": "guys the receiver is essentially an htps endpoint that sits behind",
    "start": "1222960",
    "end": "1230159"
  },
  {
    "text": "elb the data comes to us in an in a in a in a compressed fashion because you know locks are basically asky data so you can",
    "start": "1230440",
    "end": "1237400"
  },
  {
    "text": "compress it 1 to 10 easily and you should because it's it's it's it's saving you",
    "start": "1237400",
    "end": "1244320"
  },
  {
    "text": "bandwidth so we decompress and then we do something that's very interesting and uh you know actually not that easy we",
    "start": "1244320",
    "end": "1250799"
  },
  {
    "text": "try to figure out what the time stamp is in the message a lock message without a time stamp is actually not that",
    "start": "1250799",
    "end": "1256919"
  },
  {
    "text": "useful so so we have a multiple you know ways of doing that there's a little bit of machine learning going on but there's",
    "start": "1256919",
    "end": "1262039"
  },
  {
    "text": "also ways for us to Simply Supply patterns and so over time you know we've seen a lot of different time St patterns",
    "start": "1262039",
    "end": "1267720"
  },
  {
    "text": "and whenever we see one that you know neither the inference could catch uh you know nor we had a pattern for then we",
    "start": "1267720",
    "end": "1273440"
  },
  {
    "text": "simply add that we then aggregate the individual messages that are coming from the",
    "start": "1273440",
    "end": "1278760"
  },
  {
    "text": "collectors per customer into blocks and then those blocks get flushed",
    "start": "1278760",
    "end": "1285000"
  },
  {
    "text": "to a message bus where then there is more stuff going on on the other end then we act back to the collector so all",
    "start": "1285000",
    "end": "1290720"
  },
  {
    "text": "of that has to happen pretty quickly so the receivers are to some",
    "start": "1290720",
    "end": "1296159"
  },
  {
    "text": "degree stateful but this is there's no state in there that couldn't be recovered which is why I'm using this sort of funky language State fly",
    "start": "1296159",
    "end": "1302480"
  },
  {
    "text": "stateless I need to find a better term for that but anyways that gives you the idea you know there are many many many",
    "start": "1302480",
    "end": "1308720"
  },
  {
    "text": "of those receivers sitting all like peacefully next to each other getting the data from The Wire and you know doing what it says on the",
    "start": "1308720",
    "end": "1315039"
  },
  {
    "text": "slide and if you remember the picture earlier stuff gets onto the bus and then we send",
    "start": "1315039",
    "end": "1321640"
  },
  {
    "text": "it there's basically three consumers for each block of data the first one is Rel is relatively simple it's called raw it",
    "start": "1321640",
    "end": "1329200"
  },
  {
    "text": "processes the raw messages again uh you know very creative naming we encrypt the message blocks we",
    "start": "1329200",
    "end": "1337320"
  },
  {
    "text": "use a different key for every customer for every day and then we put it into",
    "start": "1337320",
    "end": "1342799"
  },
  {
    "text": "S3 the block has an ID that's the key name in the S3",
    "start": "1342799",
    "end": "1349039"
  },
  {
    "text": "bucket and um then we act back to the message bus and update the metadata system so we",
    "start": "1349039",
    "end": "1356360"
  },
  {
    "text": "can actually find this data later on again if you want us to we can also give you a copy of that block as CSV we just",
    "start": "1356360",
    "end": "1363120"
  },
  {
    "text": "added it recently so the raw thing is basically fully stateless so that's just scales out really",
    "start": "1363120",
    "end": "1369559"
  },
  {
    "text": "nicely index is an interesting one this is where the full text indexing happens one of the things that these types of",
    "start": "1369559",
    "end": "1375200"
  },
  {
    "text": "systems do is they take in all the aski data you know sh it up uh and index it",
    "start": "1375200",
    "end": "1380880"
  },
  {
    "text": "full text index it's like Google almost right um and this is actually one way",
    "start": "1380880",
    "end": "1387200"
  },
  {
    "text": "that you get back at your data there's some search box and you start typing and the data comes back so what happens here",
    "start": "1387200",
    "end": "1392600"
  },
  {
    "text": "again we receive from the message bus then we cash it to this temporarily",
    "start": "1392600",
    "end": "1398120"
  },
  {
    "text": "and act back so at that point we know we have it received properly and then you",
    "start": "1398120",
    "end": "1403200"
  },
  {
    "text": "know over over a small window of time we add the message block individual",
    "start": "1403200",
    "end": "1408440"
  },
  {
    "text": "messages to a Lucine index uh when it comes to search um especially if you're already a",
    "start": "1408440",
    "end": "1414159"
  },
  {
    "text": "jvm platform guy then you know Lucine really works really well Lucine doesn't do",
    "start": "1414159",
    "end": "1420120"
  },
  {
    "text": "anything like distributed like real- time updates and so forth but uh you know that's where we come in anyways underneath it",
    "start": "1420120",
    "end": "1426279"
  },
  {
    "text": "Lucine um couple of interesting things there is that you have to deal with very with wildly varying time stamps the",
    "start": "1426279",
    "end": "1433679"
  },
  {
    "text": "problem is that you cannot actually trust the time stamp that's in the message itself well you can par it but then that doesn't necessarily mean it's",
    "start": "1433679",
    "end": "1440200"
  },
  {
    "text": "the right time stamp machines are notoriously putting time stamps into locks that are either in",
    "start": "1440200",
    "end": "1447440"
  },
  {
    "text": "1969 or somewhere in 2040 or somewhere in between completely by completely",
    "start": "1447440",
    "end": "1452960"
  },
  {
    "text": "random they're almost never exact um because we later on have to find the index charts for for searches",
    "start": "1452960",
    "end": "1460159"
  },
  {
    "text": "that go across different uh you know time ranges we cannot Bunch too many messages with too many varying time",
    "start": "1460159",
    "end": "1466679"
  },
  {
    "text": "stamps into one chart because then you know the actual overall time range that gets spanned by that Shard is too big",
    "start": "1466679",
    "end": "1472520"
  },
  {
    "text": "and then we need to bring back too much data just to answer every query so there's a bunch of really interesting things going on there um to figure out",
    "start": "1472520",
    "end": "1479919"
  },
  {
    "text": "you know how many index sharts do I actually need to make uh and you know based on the time",
    "start": "1479919",
    "end": "1485600"
  },
  {
    "text": "stamps that I'm getting then we flush the sharts to S3 we like S3 because once it's there it really never goes away",
    "start": "1485600",
    "end": "1491799"
  },
  {
    "text": "writing to S3 is very fast reading it back from S3 is very fast as well then we update the meta data",
    "start": "1491799",
    "end": "1498039"
  },
  {
    "text": "database so we can find these index sharts later for this customer this one is is stateful cach to disk before acing",
    "start": "1498039",
    "end": "1505960"
  },
  {
    "text": "back uh and then you know if the note goes away you know we have we still have the dis we bring up a new Noe attach the",
    "start": "1505960",
    "end": "1511480"
  },
  {
    "text": "dis and everything just continues so the other thing that's in between is there the third one is",
    "start": "1511480",
    "end": "1517799"
  },
  {
    "text": "continu called continuous query it's basically a streaming query engine this is a real time query engine if you",
    "start": "1517799",
    "end": "1523600"
  },
  {
    "text": "want the data goes in there's a number of ques that are running some sort of",
    "start": "1523600",
    "end": "1528640"
  },
  {
    "text": "aggregation you know count by your module you know this type of error whatever as we are shooting the messages",
    "start": "1528640",
    "end": "1536520"
  },
  {
    "text": "through the continuous qu engine these results will basically update in real time and then on the product side you",
    "start": "1536520",
    "end": "1542799"
  },
  {
    "text": "can see that in the dashboard so that's very cool um notable things about this one is",
    "start": "1542799",
    "end": "1547840"
  },
  {
    "text": "that well you know it's all in line um and the state of the queries because these",
    "start": "1547840",
    "end": "1554320"
  },
  {
    "text": "queries are obviously stateful if you Le them if you lose the machine that has all the state in memory for like 100 or",
    "start": "1554320",
    "end": "1559919"
  },
  {
    "text": "150 or maybe a th000 queries but then that's really not that cool right because you know now you lost",
    "start": "1559919",
    "end": "1566000"
  },
  {
    "text": "all that sort of you know intermediate data so we do um you know we do a sort of a you know checkpoint recovery",
    "start": "1566000",
    "end": "1571080"
  },
  {
    "text": "mechanism there and the checkpoints or the snapshots actually go uh into S3 as",
    "start": "1571080",
    "end": "1577039"
  },
  {
    "text": "well the analytics path again is driven from S3 we had a query engine there's",
    "start": "1577039",
    "end": "1582480"
  },
  {
    "text": "this thing called service there which provides our API layer that's what thei talks to and that's also what you talk",
    "start": "1582480",
    "end": "1588080"
  },
  {
    "text": "to if you use R API CQ is continuous query again we already talked about that that one sort",
    "start": "1588080",
    "end": "1593279"
  },
  {
    "text": "of sits on both sides uh it talks to S3 if it has to recover snapshot so that's mostly a um an availability",
    "start": "1593279",
    "end": "1600600"
  },
  {
    "text": "thing the quar engine is interesting it's a fully distributed streaming query engine so every query",
    "start": "1600600",
    "end": "1606960"
  },
  {
    "text": "that you do is essentially a replay of old data in fact it's actually the same engine that drives the CQ thing that's",
    "start": "1606960",
    "end": "1613240"
  },
  {
    "text": "something that we're very proud of um probably matters to exactly two people in the world world but like we",
    "start": "1613240",
    "end": "1618440"
  },
  {
    "text": "really proud of that um what happens is that your queries",
    "start": "1618440",
    "end": "1624880"
  },
  {
    "text": "start with a search expression like you would in you know search in Google that selects which messages you",
    "start": "1624880",
    "end": "1632080"
  },
  {
    "text": "then want to further process and so you can sort of pipe these operators together and they can do",
    "start": "1632080",
    "end": "1638240"
  },
  {
    "text": "extractions they can do aggregations and so forth so we use search to find the",
    "start": "1638240",
    "end": "1643480"
  },
  {
    "text": "messages we go through you know this uh you know search layer find all the indexes that uh that match the time r",
    "start": "1643480",
    "end": "1650279"
  },
  {
    "text": "that you gave us find all the messages that match and then we push them through a pipeline of operators and these",
    "start": "1650279",
    "end": "1656640"
  },
  {
    "text": "operators are um made based on you know what you told us when you wrote the query with what's in between the",
    "start": "1656640",
    "end": "1663279"
  },
  {
    "text": "pipes there's two stages the first stage will simply do you know one to one one message in",
    "start": "1663279",
    "end": "1669200"
  },
  {
    "text": "one message out or basically you know just transform the message that's flowing through add fields to",
    "start": "1669200",
    "end": "1674640"
  },
  {
    "text": "it that kind of stuff and then the second stage is aggregation and aggregation is where you start counting and when you start counting that's",
    "start": "1674640",
    "end": "1680480"
  },
  {
    "text": "really when the analytics start so that's very interesting as well uh some very interesting concerns St around you",
    "start": "1680480",
    "end": "1686480"
  },
  {
    "text": "know how much of the aggregation do you actually keep in memory versus FX pull to dis and so forth because you obviously want this to be really fast so",
    "start": "1686480",
    "end": "1693399"
  },
  {
    "text": "uh that uh there's a bunch of very interesting sort of Uris stics that work there and then we present the result",
    "start": "1693399",
    "end": "1700320"
  },
  {
    "text": "back to the UI and the reason why this is a streaming query engine and it's push paced is that at any given point in",
    "start": "1700320",
    "end": "1707039"
  },
  {
    "text": "time we have the intermediate results available so we basically flush the whole thing every couple of seconds at",
    "start": "1707039",
    "end": "1712880"
  },
  {
    "text": "which point we have an intermediate result even if we have not covered the entire query time range yet so that's",
    "start": "1712880",
    "end": "1718360"
  },
  {
    "text": "different than a classic database query which is usually pool based and you don't get intermediate",
    "start": "1718360",
    "end": "1723799"
  },
  {
    "text": "results so this is sort of the architecture of the system those are some of the more interesting components that are in there and then there's",
    "start": "1723799",
    "end": "1729200"
  },
  {
    "text": "obviously a bunch of other stuff going on you know keeping multi tendency information and so forth which is really not worth talking about it's just a just",
    "start": "1729200",
    "end": "1735480"
  },
  {
    "text": "a freaking database basically one thing that we thought was very",
    "start": "1735480",
    "end": "1744200"
  },
  {
    "text": "important as developers building a service that sort",
    "start": "1744880",
    "end": "1750679"
  },
  {
    "text": "of runs in a data center even though it's through an API this thing has to be",
    "start": "1750679",
    "end": "1758518"
  },
  {
    "text": "automated we really want to make sure that we can go from checkin you know to you know rebuild of",
    "start": "1759799",
    "end": "1765880"
  },
  {
    "text": "the entire thing all the modules the applications to staging deploy and to a",
    "start": "1765880",
    "end": "1771120"
  },
  {
    "text": "couple of other integration deploys more or less in a push button fashion again we don't do anything that",
    "start": "1771120",
    "end": "1778080"
  },
  {
    "text": "you're probably not doing either it's just like that's what we're doing you know we don't actually we can't do it any other way because you know I can't",
    "start": "1778080",
    "end": "1784760"
  },
  {
    "text": "talk to my it guy and say hey can you put this CD ROM into this server and reload the",
    "start": "1784760",
    "end": "1790240"
  },
  {
    "text": "application I have no server I have no CD ROMs and I have no it",
    "start": "1790240",
    "end": "1795720"
  },
  {
    "text": "guy so you know all I can do is write code right so guess what I do I write",
    "start": "1795720",
    "end": "1802399"
  },
  {
    "text": "code we write code in order to automate the entire system deploy and then also",
    "start": "1802399",
    "end": "1807799"
  },
  {
    "text": "the maintenance of the system so we're going to talk about that a little bit more what we are doing is we basically",
    "start": "1807799",
    "end": "1813679"
  },
  {
    "text": "have a couple of you know stages you know night is the nightly one and then stack is stage and long is the longevity",
    "start": "1813679",
    "end": "1819200"
  },
  {
    "text": "one which turned out to be the second stage and we are short on characters so",
    "start": "1819200",
    "end": "1824279"
  },
  {
    "text": "all of them can only have four characters that's why they look so funky I don't who came up with that idea well",
    "start": "1824279",
    "end": "1829720"
  },
  {
    "text": "I know who it was it was jeon but um anyways the Germans are taking over I tell you",
    "start": "1829720",
    "end": "1836480"
  },
  {
    "text": "um all of this is automated but then there is also QA so this does not mean",
    "start": "1836480",
    "end": "1842440"
  },
  {
    "text": "that I'm going to check in code and it's going to go to production without having you know at least like one stage of verification that has humans involved in",
    "start": "1842440",
    "end": "1848640"
  },
  {
    "text": "it as well we could do that but we",
    "start": "1848640",
    "end": "1852760"
  },
  {
    "text": "don't the auto automation enabled scalability for us it really has to be 100% just don't do it",
    "start": "1855840",
    "end": "1862840"
  },
  {
    "text": "otherwise the number of your deployment scows you don't just have Brad it's not just that box under your you know under",
    "start": "1862840",
    "end": "1869880"
  },
  {
    "text": "your desk that's running the entire thing you know you know you have staging you have nightly releases you know maybe",
    "start": "1869880",
    "end": "1875279"
  },
  {
    "text": "you have partner integration things those those things if you're set up to automate the entire thing then you know you will be",
    "start": "1875279",
    "end": "1881799"
  },
  {
    "text": "able to scale you will be able to do multiple versions of your own service",
    "start": "1881799",
    "end": "1888080"
  },
  {
    "text": "for different purposes and you know if somebody calls up and says hey I'm in Europe and uh I can't deal with the fact",
    "start": "1888080",
    "end": "1893760"
  },
  {
    "text": "that you know all the data goes to the US then you'll say yay Amazon is in",
    "start": "1893760",
    "end": "1899039"
  },
  {
    "text": "Europe as well and you just push a button and the whole thing comes up in Dublin and then the Europeans think",
    "start": "1899039",
    "end": "1905159"
  },
  {
    "text": "they're safe the other thing that scales is your",
    "start": "1905159",
    "end": "1913360"
  },
  {
    "text": "deployments themselves what's in the deployment grows it's a scale out system the more customers more load more",
    "start": "1913360",
    "end": "1919440"
  },
  {
    "text": "instances more volumes more everything you know you can go and do",
    "start": "1919440",
    "end": "1924519"
  },
  {
    "text": "this manually to the AWS console for a day or two and then the",
    "start": "1924519",
    "end": "1930159"
  },
  {
    "text": "rest of the you know 10 years that it takes to get your pum company uh successful you simply can't do that so",
    "start": "1930159",
    "end": "1935880"
  },
  {
    "text": "it has to be automated some",
    "start": "1935880",
    "end": "1942120"
  },
  {
    "text": "statistics we have these four deployments that are sort of there's the production deployment and then there's staging deployments that lead to",
    "start": "1942120",
    "end": "1948159"
  },
  {
    "text": "production they're running constantly and in our case every developer can actually make its own",
    "start": "1948159",
    "end": "1953519"
  },
  {
    "text": "deployment they can make their own little Sumo if you want um you know through the use of a",
    "start": "1953519",
    "end": "1959360"
  },
  {
    "text": "tool that I'm going to describe further down in the slide each deployment has about 20",
    "start": "1959360",
    "end": "1965000"
  },
  {
    "text": "clusters remember the Clusters are these things that you know run multiple instances of the applications the applications are made up of modules blah",
    "start": "1965000",
    "end": "1971120"
  },
  {
    "text": "blah blah these are the way these are the different concerns I showed you a couple of the concerns but then there's obviously a couple more you know no",
    "start": "1971120",
    "end": "1977159"
  },
  {
    "text": "management concerns around that we have hundreds of instances in production I think we are actually in",
    "start": "1977159",
    "end": "1982799"
  },
  {
    "text": "the thousands if we look at across all the deployments we can bring up the whole thing if the gods are with us in about",
    "start": "1982799",
    "end": "1989880"
  },
  {
    "text": "10 minutes and we can restart hundreds of those components on",
    "start": "1989880",
    "end": "1996799"
  },
  {
    "text": "those different instances if we don't have to shut down the instances first if we just want to you know push new code",
    "start": "1996799",
    "end": "2002720"
  },
  {
    "text": "for example for you know a quick update for Deo deployment in less than 4 minutes to do a full rolling thing of",
    "start": "2002720",
    "end": "2008159"
  },
  {
    "text": "everything and the way that we do this is we wrote ourselves a tool guess what we're developers we ended up writing ourselves",
    "start": "2008159",
    "end": "2015080"
  },
  {
    "text": "the tool and this one is also it has a great name it's very easy to pronounce it's called Dell",
    "start": "2015080",
    "end": "2022639"
  },
  {
    "text": "dsh we started in 2010 this was around the time at least from what I can remember that people",
    "start": "2022639",
    "end": "2028799"
  },
  {
    "text": "started pulling you know getting really interested in things like puppet and Chef we looked at it and we decided that",
    "start": "2028799",
    "end": "2035720"
  },
  {
    "text": "the fact that this is probably different today so but back then it was like Hey you know my recipes constantly break",
    "start": "2035720",
    "end": "2041440"
  },
  {
    "text": "when I deploy them because it's a  scripting language and there's no compiler uh and then you deploy this",
    "start": "2041440",
    "end": "2046960"
  },
  {
    "text": "and the thing that sits over there is trying to make everything happen it poent as they say um well there's a typo",
    "start": "2046960",
    "end": "2053638"
  },
  {
    "text": "in your in your in your Ruby thing and then what do you do I'm pretty sure they fixed this in the meantime anyways for us that didn't seem",
    "start": "2053639",
    "end": "2060000"
  },
  {
    "text": "right we spend about two hours trying it it failed too often and you know you know we usually do you know that's the",
    "start": "2060000",
    "end": "2065358"
  },
  {
    "text": "amount of research we do before we make decision right um so we basically said hey come on we a bunch of coders we can",
    "start": "2065359",
    "end": "2070520"
  },
  {
    "text": "write our own tool right we can do this better and I still think that was actually not the worst idea um probably would consider this you know doing this",
    "start": "2070520",
    "end": "2077638"
  },
  {
    "text": "again because we can just hook out a whole bunch of different things in there but there's a lower layer that deals with like interacting with all the apis",
    "start": "2077639",
    "end": "2084040"
  },
  {
    "text": "that Amazon provides and other things that you probably can give that to another tool but the point is that we",
    "start": "2084040",
    "end": "2089599"
  },
  {
    "text": "have this and we have been developing this and there are people like they and they out developing on this tool for you",
    "start": "2089599",
    "end": "2095079"
  },
  {
    "text": "know for the last three and a half years",
    "start": "2095079",
    "end": "2098879"
  },
  {
    "text": "it's modelbased and it's scriptable and it's written in scolar here's a screenshot this is a",
    "start": "2102440",
    "end": "2108160"
  },
  {
    "text": "command line tool so this is a very sexy screenshot I'm sorry about that the whole thing takes about 10 minutes to",
    "start": "2108160",
    "end": "2113800"
  },
  {
    "text": "bring up the entire deployment I figured it was not worth demoing that I don't know maybe you guys need a",
    "start": "2113800",
    "end": "2119839"
  },
  {
    "text": "PO Brak or something but um so you know I'll leave it I'll leave it with the with the screenshot what this means is",
    "start": "2119839",
    "end": "2125680"
  },
  {
    "text": "that you know I can go and up D du Dell and I can basically go and look at",
    "start": "2125680",
    "end": "2133000"
  },
  {
    "text": "hey how does my production deployment look like there's a bunch of commands built into that like hey what instances are",
    "start": "2133000",
    "end": "2138720"
  },
  {
    "text": "running and so forth I can go to my you know personal deployment I can bring it down I can start it back up again all",
    "start": "2138720",
    "end": "2145280"
  },
  {
    "text": "through this tool tool is based on a Model the model",
    "start": "2145280",
    "end": "2151040"
  },
  {
    "text": "contains various Concepts such a deployment there can be multiple of those the Clusters we already talked",
    "start": "2151040",
    "end": "2156880"
  },
  {
    "text": "about various AWS resources and it's also trying to sort of make human readable uh names for the",
    "start": "2156880",
    "end": "2163280"
  },
  {
    "text": "individual uh instances and you know other infrastructure bits so uh that is actually really nice so so we don't have",
    "start": "2163280",
    "end": "2169800"
  },
  {
    "text": "to we can actually say hey this is the broad index five which in our in our world means that's the machine that does",
    "start": "2169800",
    "end": "2175800"
  },
  {
    "text": "indexes in production and you know this number five of I don't know",
    "start": "2175800",
    "end": "2181680"
  },
  {
    "text": "hundreds just for giggles it's actually",
    "start": "2184720",
    "end": "2190000"
  },
  {
    "text": "XML oh boy um you know don't use that for locks",
    "start": "2190000",
    "end": "2197000"
  },
  {
    "text": "please simple object model as you can see a role is really a cluster if you are actually in this",
    "start": "2197000",
    "end": "2203920"
  },
  {
    "text": "cluster what what should your instance size be what Ami to use and what assemblies are supposed to",
    "start": "2203920",
    "end": "2211119"
  },
  {
    "text": "run there the assemblies that's our term for application I don't know we couldn't call it app we had to call it assembly but that just means",
    "start": "2211119",
    "end": "2217280"
  },
  {
    "text": "basically something that runs our code and you can see this basically says if you are uh one of the sueper nodes then",
    "start": "2217280",
    "end": "2223400"
  },
  {
    "text": "these are all the things you need to be running and I'm also going to put a bunch of properties onto your uh you",
    "start": "2223400",
    "end": "2229920"
  },
  {
    "text": "know onto your file system and I Source them properly so you can have access to them like you know memory settings and so forth so that's actually pretty",
    "start": "2229920",
    "end": "2237760"
  },
  {
    "text": "nifty that's the model and then there are multiple deployments each deployment is then cut",
    "start": "2239640",
    "end": "2246760"
  },
  {
    "text": "customized by a simple properties file so it's just like the like think of the model as a base",
    "start": "2246760",
    "end": "2253280"
  },
  {
    "text": "class and then you s just instantiate that like a subass and you say hey this is the actual name of the",
    "start": "2253280",
    "end": "2260160"
  },
  {
    "text": "um of the deployment um and there's ways of saying hey you know my front end roll",
    "start": "2260160",
    "end": "2266359"
  },
  {
    "text": "or front end cluster should have two nodes in this particular case this is the development one um you know how much",
    "start": "2266359",
    "end": "2272079"
  },
  {
    "text": "diss should I assign to it and so forth and based on this we're basically then you know baking the entire deployment",
    "start": "2272079",
    "end": "2278160"
  },
  {
    "text": "and the way that we're doing that is we're doing it in a differential",
    "start": "2278160",
    "end": "2284240"
  },
  {
    "text": "fashion because it needs to be pretty quick we first find what the existing resources are we use taging wherever",
    "start": "2284240",
    "end": "2291880"
  },
  {
    "text": "it's available using the AWS resources so our taxs are you know named in a particular way so we can find out hey",
    "start": "2291880",
    "end": "2297920"
  },
  {
    "text": "you know we go to this AWS account we list everything that has that attack and we can find hey these are my indexes in",
    "start": "2297920",
    "end": "2303599"
  },
  {
    "text": "index boxes or frontend boxes in production there are a couple of things where tagging is not an option such as",
    "start": "2303599",
    "end": "2309160"
  },
  {
    "text": "security groups and there's some um I am stuff that doesn't have tax support yet",
    "start": "2309160",
    "end": "2314560"
  },
  {
    "text": "so there we just get away with basic um just the naming scheme and prefixes and then we go",
    "start": "2314560",
    "end": "2321880"
  },
  {
    "text": "about you know fixing the differences in the model so we started missing",
    "start": "2321880",
    "end": "2328079"
  },
  {
    "text": "instances making very very you know different changes if there's Security Group missing and so forth the tool knows how to do all of",
    "start": "2328079",
    "end": "2335359"
  },
  {
    "text": "that have has some safeguards buil in it never deletes",
    "start": "2335359",
    "end": "2341720"
  },
  {
    "text": "anything um here's an example of TAC usage that's actually a somewhat more elaborate one so TXS are basically these",
    "start": "2343359",
    "end": "2351400"
  },
  {
    "text": "key value pairs this is one instance we just pull that back out in fact what",
    "start": "2351400",
    "end": "2356720"
  },
  {
    "text": "we're talking about here is we're actually talking about a um EBS volume",
    "start": "2356720",
    "end": "2362240"
  },
  {
    "text": "that's attached as part of an lvm set volume set to one of the instances that that captures our metadata store that is",
    "start": "2362240",
    "end": "2368720"
  },
  {
    "text": "basically our metadata store so you can see we've kind of we're pretty a b time putting the tax in there so we know when",
    "start": "2368720",
    "end": "2374280"
  },
  {
    "text": "we look at what's actually running um even if we just use the AWS API to basically do mini",
    "start": "2374280",
    "end": "2380640"
  },
  {
    "text": "cmdb um you know we have all of this information in there and the tool then knows based on this what's missing and",
    "start": "2380640",
    "end": "2386560"
  },
  {
    "text": "what it has to do and we make this fast by parallelizing that's really important I",
    "start": "2386560",
    "end": "2392839"
  },
  {
    "text": "mean you can build this and it's going to take you know you know a year in it's going to take 2 hours to complete so we",
    "start": "2392839",
    "end": "2398560"
  },
  {
    "text": "basically do all of the things that we can do in parallel in parallel and we know also how to do rolling restarts um",
    "start": "2398560",
    "end": "2406160"
  },
  {
    "text": "that's also important so I said previously that the tool support scripting and um you know there's no",
    "start": "2406160",
    "end": "2413520"
  },
  {
    "text": "fancy model with barriers involved and so forth we basically just tell the tool you know what to do and which things can",
    "start": "2413520",
    "end": "2420040"
  },
  {
    "text": "happen in parallel and if there's changes we just update the script so if you look at the you know restart Dash",
    "start": "2420040",
    "end": "2426760"
  },
  {
    "text": "p25 of orc service and all of these guys up you know halfway down you know that basically means you know do a rolling",
    "start": "2426760",
    "end": "2434000"
  },
  {
    "text": "restart of 25% of the nodes so always keep 75% of them running right that's a",
    "start": "2434000",
    "end": "2440119"
  },
  {
    "text": "rolling restart um and there's other ways of expressing that we can say hey sometimes",
    "start": "2440119",
    "end": "2445760"
  },
  {
    "text": "we know uh you know go in a fixed number so basically always bring down two bring down two bring down two and so forth so",
    "start": "2445760",
    "end": "2451640"
  },
  {
    "text": "that has actually turned out to be very uh very very efficient so what that",
    "start": "2451640",
    "end": "2456839"
  },
  {
    "text": "means is that it's actually fast enough for development I can actually you know compile changes locally and push them",
    "start": "2456839",
    "end": "2462560"
  },
  {
    "text": "you know bounc but needs to be bounced in my development deployment in a fairly short amount of time so there nothing's",
    "start": "2462560",
    "end": "2469359"
  },
  {
    "text": "happening that doesn't absolutely have to happen so that took definitely a while to get to and it really helps that",
    "start": "2469359",
    "end": "2474960"
  },
  {
    "text": "we have a model that applies directly to us we don't have to deal with somebody's generic model so that's probably another",
    "start": "2474960",
    "end": "2480560"
  },
  {
    "text": "reason for why you know doing some some of your own work in this regard is useful",
    "start": "2480560",
    "end": "2488240"
  },
  {
    "text": "oh well and then you know some some usual tricks like you know keep hashes around and you know don't keep downloading stuff over and over again or",
    "start": "2488319",
    "end": "2494200"
  },
  {
    "text": "uploading over and over again if you already know it's there only upload the change chars if you have to you know",
    "start": "2494200",
    "end": "2500599"
  },
  {
    "text": "update something you know we use Maven though that means that you know pretty much every assembly depends on the internet that can get pretty nasty if",
    "start": "2500599",
    "end": "2506560"
  },
  {
    "text": "you don't add some smarts to it and then we want to make it reliable as well so no good if you have",
    "start": "2506560",
    "end": "2512760"
  },
  {
    "text": "a cool tool that can do all of these things and then half the time it runs into some Corner case and braks um that",
    "start": "2512760",
    "end": "2518359"
  },
  {
    "text": "leaves you uh very frustrated so a couple of there's a couple of prerequisite checks that are",
    "start": "2518359",
    "end": "2524280"
  },
  {
    "text": "built in for example we want to make you know we want to put something in a product account and our AWS account",
    "start": "2524280",
    "end": "2530040"
  },
  {
    "text": "itself simply has no it's not provision to add more instances to it you know you always have to call them and say Hey I",
    "start": "2530040",
    "end": "2535280"
  },
  {
    "text": "want another couple of hundred that kind of stuff so we do that and then of",
    "start": "2535280",
    "end": "2540720"
  },
  {
    "text": "course you check IM permissions and so forth try to do that before you actually run any of the other tasks so if there's",
    "start": "2540720",
    "end": "2547760"
  },
  {
    "text": "anything that you already know that can fail check that first you know fail early",
    "start": "2547760",
    "end": "2554200"
  },
  {
    "text": "basically you know and then there are things like hey we are running out of M1 larches in in one of the availability zones and so forth so it has this all",
    "start": "2554200",
    "end": "2561160"
  },
  {
    "text": "built in uh this is sort of the experience that we made initially didn't have these prerequisite checks all of",
    "start": "2561160",
    "end": "2567160"
  },
  {
    "text": "these things that it does now that I mentioned on the slide I think are things that we like literally ran",
    "start": "2567160",
    "end": "2573960"
  },
  {
    "text": "into I love that last one eventual consistency in AWS it's really cool you",
    "start": "2574800",
    "end": "2580720"
  },
  {
    "text": "tax something and then you query for the tax and you don't get that thing back so what do you do well you just spin you do",
    "start": "2580720",
    "end": "2586000"
  },
  {
    "text": "it over and over and over and over and over again until it comes back eventually so that's",
    "start": "2586000",
    "end": "2591720"
  },
  {
    "text": "great security is a huge topic and then it's actually one that we can do an entire hour just just just on that topic",
    "start": "2593119",
    "end": "2599520"
  },
  {
    "text": "but we basically use different AWS accounts the developer accounts obviously not as sensitive as the",
    "start": "2599520",
    "end": "2604720"
  },
  {
    "text": "production accounts this is all encapsulated um credentials are you know on you know safe USB sticks passport",
    "start": "2604720",
    "end": "2611520"
  },
  {
    "text": "protected and so forth we use minimal policies in IM am best practices basically security groups are actually",
    "start": "2611520",
    "end": "2618160"
  },
  {
    "text": "baked into the model these machines as they talk to each other as part of the cluster like Upstream Downstream the way",
    "start": "2618160",
    "end": "2623960"
  },
  {
    "text": "that the security groups are set up are as narrow as possible so they basically know only these other clusters are allowed to talk to them only on those",
    "start": "2623960",
    "end": "2630319"
  },
  {
    "text": "ports so that's definitely useful and I would recommend you do that as well",
    "start": "2630319",
    "end": "2636880"
  },
  {
    "text": "if you find out that there's something that can go wrong add the",
    "start": "2636880",
    "end": "2642319"
  },
  {
    "text": "safeguards um if there's anything that actually",
    "start": "2642319",
    "end": "2648359"
  },
  {
    "text": "changes state to the wor such as deleting something ask first and don't just ask",
    "start": "2648359",
    "end": "2655040"
  },
  {
    "text": "for a yes with the yes being the default and the guy can just hit enter these things happen at 3:00 in the",
    "start": "2655040",
    "end": "2662400"
  },
  {
    "text": "morning and uh you know the very person who wrote The Tool once like blew away an entire",
    "start": "2662400",
    "end": "2668760"
  },
  {
    "text": "development like actually the last stage deployment blew away all the EBS volumes for that with a fat",
    "start": "2668760",
    "end": "2675920"
  },
  {
    "text": "finger and so then we added basically a challenge you need to basically type in",
    "start": "2675920",
    "end": "2681119"
  },
  {
    "text": "the name of the deployment in which context you're currently running before actually making breaking changes like",
    "start": "2681119",
    "end": "2686160"
  },
  {
    "text": "deletes and so forth again sounds obvious after the fact and of course you cannot shut down",
    "start": "2686160",
    "end": "2692960"
  },
  {
    "text": "Brad without having you know some some some really some really insane kind of level of",
    "start": "2692960",
    "end": "2698599"
  },
  {
    "text": "privileges um couple of other good things we're doing there we actually generate bunch",
    "start": "2698599",
    "end": "2704440"
  },
  {
    "text": "of SSH config with the with the nice names for the machines and the various deployments so we don't have to like constantly copy and paste these weird",
    "start": "2704440",
    "end": "2710880"
  },
  {
    "text": "Amazon DNS names into shells and so forth and finally make it affordable developers",
    "start": "2710880",
    "end": "2718599"
  },
  {
    "text": "can spin up their own deployment so guess what happens they spin up their own deployments guess",
    "start": "2718599",
    "end": "2725040"
  },
  {
    "text": "what happens at night they go home guess what happens to the deployments they still",
    "start": "2725040",
    "end": "2731720"
  },
  {
    "text": "run so we wrote this thing that's called the Crim Reaper which is probably obvious what it does",
    "start": "2733319",
    "end": "2739920"
  },
  {
    "text": "um it'll shut your ass down basically that is really useful I mean",
    "start": "2739920",
    "end": "2745400"
  },
  {
    "text": "you're saving real money some of our investors are in the audience and I can see them",
    "start": "2745400",
    "end": "2751800"
  },
  {
    "text": "laughing um so we do that you really have to um couple of",
    "start": "2751800",
    "end": "2757920"
  },
  {
    "text": "pitfalls something that we have actually still a little bit to go is we use a base Ami plus a scripted installation on",
    "start": "2757920",
    "end": "2763440"
  },
  {
    "text": "top of it so the auto scaling is not really working too well for us of course we like the idea that we can you know",
    "start": "2763440",
    "end": "2769000"
  },
  {
    "text": "quickly spin the system in development um but",
    "start": "2769000",
    "end": "2774359"
  },
  {
    "text": "uh you know we probably should go with a full baked Ami for production anyways security updates Security Group updates",
    "start": "2774359",
    "end": "2781440"
  },
  {
    "text": "if you're still on the old stack if you're not in VPC Security Group updates which we do a lot",
    "start": "2781440",
    "end": "2786680"
  },
  {
    "text": "they will potentially kill existing TCP connections if you're wondering why your rpcs randomly start failing then that's",
    "start": "2786680",
    "end": "2794119"
  },
  {
    "text": "why uh that is a hard earned lesson actually um of course there's the VPC",
    "start": "2794119",
    "end": "2799960"
  },
  {
    "text": "stack as well which is better parm can cost damp Peds if your configuration data is in um in in Dynamo DP and you",
    "start": "2799960",
    "end": "2807680"
  },
  {
    "text": "you know you have read provision relatively low because who needs the read configuration and then you spin up",
    "start": "2807680",
    "end": "2813160"
  },
  {
    "text": "an entire production deployment or you roll one over and suddenly 500 people need to read configuration and guess what happens you don't have enough read",
    "start": "2813160",
    "end": "2820640"
  },
  {
    "text": "provision and then everything comes gr to a hall and there's also something about the tagging API we use the tagging",
    "start": "2820640",
    "end": "2826400"
  },
  {
    "text": "so heavily that we constantly hit the API limit so you need to back off on those kinds of",
    "start": "2826400",
    "end": "2831880"
  },
  {
    "text": "things all right so we're getting pretty close to the top of the hour well I have about 8 minutes left so I'm going to",
    "start": "2831880",
    "end": "2837079"
  },
  {
    "text": "talk a little bit faster than usual what we do is there's all of these",
    "start": "2837079",
    "end": "2844440"
  },
  {
    "text": "clusters they all have these individual applications and they all need to know about each other who should I be talking to you know where's the you know you",
    "start": "2844440",
    "end": "2850960"
  },
  {
    "text": "know where's where's my AWS endpoint for that where's S3 you know where is my Downstream guy where's my message BS the",
    "start": "2850960",
    "end": "2857680"
  },
  {
    "text": "idea has always been that we start the individual application and the only parameter that",
    "start": "2857680",
    "end": "2862800"
  },
  {
    "text": "it gets is a host name in fact it's actually three host names but like let's just say for the for the sake of",
    "start": "2862800",
    "end": "2868160"
  },
  {
    "text": "Simplicity it just point it to a place where it can discover its configuration",
    "start": "2868160",
    "end": "2873680"
  },
  {
    "text": "and we use suer for that and we we have this concept called a service registry wrapped around",
    "start": "2873680",
    "end": "2878800"
  },
  {
    "text": "it all of our applications link against the client Side Library that encapsulates Sue keeper and there's notion of a service registry which where",
    "start": "2878800",
    "end": "2885520"
  },
  {
    "text": "we have different types of services usually what happens is you say hey I want service X and then you'll come back",
    "start": "2885520",
    "end": "2891359"
  },
  {
    "text": "and give you an IP address and a port number depending on the type sometimes there's other things but then the call actually knows what to do with",
    "start": "2891359",
    "end": "2897760"
  },
  {
    "text": "that and we do that for our own stuff for third party services such as a message bus but also if we need to talk",
    "start": "2897760",
    "end": "2903720"
  },
  {
    "text": "to elastic cash or or things like that one other one other thing that we",
    "start": "2903720",
    "end": "2909520"
  },
  {
    "text": "found that I thought was really interesting because you go into this and you say let's build a biggest freaking system we can build it's going to scale",
    "start": "2909520",
    "end": "2916040"
  },
  {
    "text": "horizontally from here all the way over to Tokyo and then you do",
    "start": "2916040",
    "end": "2922720"
  },
  {
    "text": "that and it doesn't work because now if you don't do it",
    "start": "2922720",
    "end": "2930000"
  },
  {
    "text": "right everywhere where you split load all of your customers will be evenly",
    "start": "2930000",
    "end": "2935040"
  },
  {
    "text": "split across cost all notes and all notes at all time so let's say these are all my",
    "start": "2935040",
    "end": "2941880"
  },
  {
    "text": "indexers this is my first customer oh cool you know I can scale",
    "start": "2941880",
    "end": "2947400"
  },
  {
    "text": "horizontally I'm just going to put part of the workload for every customer on every",
    "start": "2947400",
    "end": "2953520"
  },
  {
    "text": "note same I do for the second customer and so forth so we have only eight customers",
    "start": "2953520",
    "end": "2960440"
  },
  {
    "text": "day ago I said it anyways um so all of your customers get partitioned to be on",
    "start": "2960440",
    "end": "2965880"
  },
  {
    "text": "all of your instances that's great right I mean that's how we build software these days you know scale horizontally or",
    "start": "2965880",
    "end": "2971880"
  },
  {
    "text": "die this has very very bad side effects none of these nodes will get enough",
    "start": "2971880",
    "end": "2977240"
  },
  {
    "text": "looat for any given customer at least in a lot of our use cases that it can actually you know get",
    "start": "2977240",
    "end": "2984079"
  },
  {
    "text": "to critical mass if you think about building index sharts or so or something along those lines you know well you got",
    "start": "2984079",
    "end": "2990520"
  },
  {
    "text": "like three messages over here five messages over there you get too many shards and they have nothing in them",
    "start": "2990520",
    "end": "2996480"
  },
  {
    "text": "very bad so what you need to do is we call this internally P customer",
    "start": "2996480",
    "end": "3002760"
  },
  {
    "text": "partitioning more load of each customer to a smaller number of nodes so in this case you know",
    "start": "3003440",
    "end": "3009880"
  },
  {
    "text": "let's say we have customer one in terms of throughput four notes we find can completely you know make happen what",
    "start": "3009880",
    "end": "3016400"
  },
  {
    "text": "needs to happen for this particular customer so we'll just put them on four notes customer two we put on six notes because he's sending more data or",
    "start": "3016400",
    "end": "3023119"
  },
  {
    "text": "whatever and and so forth right so instead of having everything scale across everything sometimes scaling a",
    "start": "3023119",
    "end": "3030119"
  },
  {
    "text": "little bit less is actually more performant again this is another one",
    "start": "3030119",
    "end": "3036119"
  },
  {
    "text": "that looks extremely obviously in hindsight but you know you need to make these mistakes sometimes to figure it us",
    "start": "3036119",
    "end": "3043680"
  },
  {
    "text": "out how this P actually works underneath you can guys you can come and ask me later I'm running a little bit out of",
    "start": "3043680",
    "end": "3050200"
  },
  {
    "text": "time use random prefixes for key names in in in Amazon S3 Solutions architect",
    "start": "3050200",
    "end": "3056839"
  },
  {
    "text": "told us this over and over again ultimately we did it and it actually improved performance couple of other",
    "start": "3056839",
    "end": "3062319"
  },
  {
    "text": "things around S3 if you using SV amazon.com like a lot of libraries actually do by default then it can",
    "start": "3062319",
    "end": "3069920"
  },
  {
    "text": "actually go to Virginia or Pacific Northwest I don't know why but that's what it",
    "start": "3069920",
    "end": "3076160"
  },
  {
    "text": "is if you want to stay in Virginia and you don't want to have to go across the internet every time you access a bucket",
    "start": "3076160",
    "end": "3081760"
  },
  {
    "text": "or something in that bucket you know coming out of Seattle or whatever it is another a very simple tip but it really",
    "start": "3081760",
    "end": "3088040"
  },
  {
    "text": "changes things you know use the explicit Earl we find in",
    "start": "3088040",
    "end": "3094200"
  },
  {
    "text": "general that rate zero makes EBS faster we get pretty good uh we get",
    "start": "3094200",
    "end": "3100799"
  },
  {
    "text": "pretty good we have we made good experiences with lvm so I can recommend that snapshotting EPS volume sounds",
    "start": "3100799",
    "end": "3108280"
  },
  {
    "text": "really cool until you until you do it on a one minute basis and you find that it",
    "start": "3108280",
    "end": "3113799"
  },
  {
    "text": "completely destroys the performance well kind of obvious again in hindsight right like we are the kind of people we like",
    "start": "3113799",
    "end": "3119000"
  },
  {
    "text": "always do things and then we get hit in the face and we're like oh that was a bad idea um snapshots do not always finish within",
    "start": "3119000",
    "end": "3127359"
  },
  {
    "text": "one minute so if you snapshot every minute guess what happens you're never going to be able to access the",
    "start": "3127359",
    "end": "3133839"
  },
  {
    "text": "data so that's not right so you got to deal with that that was a interesting",
    "start": "3133839",
    "end": "3139319"
  },
  {
    "text": "one cost and business value I'm going to skip over that you need to make sure that if you expose some that you know",
    "start": "3139319",
    "end": "3146040"
  },
  {
    "text": "works in the way that AWS Works which is which is beautiful on demand extremely powerful if you let your developers just",
    "start": "3146040",
    "end": "3152960"
  },
  {
    "text": "go after it they will incur a lot of cost so this Reaper stuff it's really",
    "start": "3152960",
    "end": "3160359"
  },
  {
    "text": "important you really need to do that look at cloudability you know look at these other companies that are doing cost monitoring you know or raise",
    "start": "3160359",
    "end": "3166960"
  },
  {
    "text": "another round it might be easier sometimes not always elasticity is again something",
    "start": "3166960",
    "end": "3174599"
  },
  {
    "text": "that is great in principle but it's not necessarily an arbitrary need often time often times is",
    "start": "3174599",
    "end": "3181760"
  },
  {
    "text": "again like we like the horizontal scalability often times your system has a baseline load look at the Baseline",
    "start": "3181760",
    "end": "3187839"
  },
  {
    "text": "load try to figure out over a while what's the moving average how much how much computer do you actually need and",
    "start": "3187839",
    "end": "3194319"
  },
  {
    "text": "then go and buy the RIS again that sounds easier than it is",
    "start": "3194319",
    "end": "3199480"
  },
  {
    "text": "it just went through this it's easy to put that on a slide",
    "start": "3199480",
    "end": "3204599"
  },
  {
    "text": "but you have to do it you will save money and that's good okay one more last",
    "start": "3204599",
    "end": "3209680"
  },
  {
    "text": "thing this came up in the keynote there's this thing now called Amazon cloud trail which will give you",
    "start": "3209680",
    "end": "3215880"
  },
  {
    "text": "locks for the Amazon AWS API calls and dumps them into an S3 bucket it's",
    "start": "3215880",
    "end": "3221640"
  },
  {
    "text": "beautiful lots of use cases operational debugging you know who turned off that server Security in",
    "start": "3221640",
    "end": "3228720"
  },
  {
    "text": "compliance guess what we can read from S3 we can put all of that data into our beautiful product and we can um we can",
    "start": "3228720",
    "end": "3237240"
  },
  {
    "text": "provide really great analysis like you know where are the people that actually",
    "start": "3237240",
    "end": "3242640"
  },
  {
    "text": "are accessing your resources in AWS that's pretty cool and other good things like that we",
    "start": "3242640",
    "end": "3249760"
  },
  {
    "text": "were actually part of the security kote this morning if you guys have more questions around that please come and ask me and uh that's it thank you very",
    "start": "3249760",
    "end": "3257759"
  },
  {
    "text": "much",
    "start": "3262720",
    "end": "3265720"
  }
]