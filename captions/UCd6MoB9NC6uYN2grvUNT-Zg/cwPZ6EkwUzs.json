[
  {
    "start": "0",
    "end": "214000"
  },
  {
    "text": "welcome it's good to see such a big crowd here um it's been a fun conference for me to be at just because I've been",
    "start": "3600",
    "end": "9120"
  },
  {
    "text": "around cloud computing for a number of years and nothing makes it real more than seeing lots and lots and lots and",
    "start": "9120",
    "end": "14960"
  },
  {
    "text": "lots and lots and lots of users so it's been a fun week for me I've been through in my career three major transitions I'm",
    "start": "14960",
    "end": "23279"
  },
  {
    "text": "we went from Main frames to to you know risk-based processors running Unix we",
    "start": "23279",
    "end": "29240"
  },
  {
    "text": "went through another transition from risk-based processors running Unix to x86 based processors and across each one",
    "start": "29240",
    "end": "36239"
  },
  {
    "text": "of these transitions you get the same thing happening over and over again no customer says Hey I want to have to",
    "start": "36239",
    "end": "41840"
  },
  {
    "text": "learn everything from scratch and I want to re I want to rewrite my app stack to run on a different architecture nobody",
    "start": "41840",
    "end": "47440"
  },
  {
    "text": "ever does that but the value equation was so damn good you just have to do it you just simply have to do it you're",
    "start": "47440",
    "end": "52600"
  },
  {
    "text": "crazy if you stay in the past cloud computing is in common with that we're seeing the same thing we're seeing the",
    "start": "52600",
    "end": "59399"
  },
  {
    "text": "same transition but there's one big difference and that is the speed with which this transition is happening is",
    "start": "59399",
    "end": "66080"
  },
  {
    "text": "phenomenal uh I had you know I expected a quarter of the number of people here I'm super excited by how fast this is",
    "start": "66080",
    "end": "73119"
  },
  {
    "text": "happening and I think what's what's really cool about this is when things are happening this fast it opens up huge",
    "start": "73119",
    "end": "80759"
  },
  {
    "text": "opportunities for Innovation and so we've all got we all have to learn more we all have um possibilities to do new",
    "start": "80759",
    "end": "87960"
  },
  {
    "text": "apps new um there's there's new new ways of doing things I kind of love it what I'm going to talk about today is",
    "start": "87960",
    "end": "94799"
  },
  {
    "text": "actually it's interesting thing years ago before I was involved with cloud computing I was involved with very very",
    "start": "94799",
    "end": "100360"
  },
  {
    "text": "high-scale Computing this is when you're running applications there are tens or even hundreds of thousands of of of",
    "start": "100360",
    "end": "106000"
  },
  {
    "text": "servers and ye years and years and years ago I wrote down a set of best practices",
    "start": "106000",
    "end": "111479"
  },
  {
    "text": "on how you get those services to run day after day such as they're never down if",
    "start": "111479",
    "end": "116640"
  },
  {
    "text": "you've gone to amazon.com you would be surprised if was up you would be absolutely surprised if you go to Google",
    "start": "116640",
    "end": "122840"
  },
  {
    "text": "you'd be surprised if it was up it's just these sites run like clockwork and",
    "start": "122840",
    "end": "128239"
  },
  {
    "text": "the reason why I wanted to present this material today is not because you're running sites that are tens or hundreds",
    "start": "128239",
    "end": "133599"
  },
  {
    "text": "of thousands of servers although some of you may indeed be doing that it's because one thing's changed that's that",
    "start": "133599",
    "end": "140280"
  },
  {
    "text": "wasn't possible before it used to be that the techniques that I'm going to describe today were only possible if you",
    "start": "140280",
    "end": "146040"
  },
  {
    "text": "were running many data centers worldwide tens of thousands of servers and what's",
    "start": "146040",
    "end": "152120"
  },
  {
    "text": "changed is that's possible today at an incredibly low scale because of the tools that ews makes available and so",
    "start": "152120",
    "end": "160120"
  },
  {
    "text": "I'm going to weave a pretty simple story where if you do honestly on the order of",
    "start": "160120",
    "end": "166040"
  },
  {
    "text": "seven or eight things you get an incredibly reliable result where you would be amazed if it ever went down and",
    "start": "166040",
    "end": "174680"
  },
  {
    "text": "it's embarrassingly simple it does require fa focus and it it does require",
    "start": "174680",
    "end": "180640"
  },
  {
    "text": "um you know commitment to actually get it done but it works and so let me let",
    "start": "180640",
    "end": "186200"
  },
  {
    "text": "me weave that out um I'll start with I'll start with talking about the",
    "start": "186200",
    "end": "191680"
  },
  {
    "text": "techniques I'll give you a couple example I'll give you a couple example",
    "start": "191680",
    "end": "197040"
  },
  {
    "text": "failures from one from industry and run from Amazon just to show you some of the",
    "start": "197040",
    "end": "202560"
  },
  {
    "text": "things that can happen and then keep the app model in mind as I go through these failures and you'll say hey we would",
    "start": "202560",
    "end": "207720"
  },
  {
    "text": "have ridden through that that would have been fine and then we'll close",
    "start": "207720",
    "end": "213400"
  },
  {
    "text": "up first of all I wanted to talk a little bit about just the facts the the",
    "start": "213760",
    "end": "219840"
  },
  {
    "start": "214000",
    "end": "360000"
  },
  {
    "text": "the I you know when I said to you it really only takes seven or eight techniques to really get a reliable site",
    "start": "219840",
    "end": "226200"
  },
  {
    "text": "the biggest enemy of doing that is well you know things don't fail that often",
    "start": "226200",
    "end": "231239"
  },
  {
    "text": "it's super hard to invest Engineering in something that doesn't really happen that often I mean when it does happen",
    "start": "231239",
    "end": "237400"
  },
  {
    "text": "you read about it but it doesn't happen enough that you feel motivated and so mostly the reason why there's people",
    "start": "237400",
    "end": "244280"
  },
  {
    "text": "applications have issues is because they're underinvested because there aren't enough faults so let me remind you let's look at how faults how common",
    "start": "244280",
    "end": "251879"
  },
  {
    "text": "faults really are so the dis Drive World we've got four to six% failure rate in",
    "start": "251879",
    "end": "257359"
  },
  {
    "text": "the server World we've got on the order 2 to 4% annual failure rate that seems",
    "start": "257359",
    "end": "263840"
  },
  {
    "text": "you know it's reasonable number if you translate that to meantime to failure between failures 3 years you know the",
    "start": "263840",
    "end": "270320"
  },
  {
    "text": "center of of the server number if you take the center of the server number that's 292,000 hours between failures it's like",
    "start": "270320",
    "end": "279479"
  },
  {
    "text": "why would I waste any time protecting against a failure that's going to happen once every 33 years it's incredibly",
    "start": "279479",
    "end": "287160"
  },
  {
    "text": "boring I've got work to do why would I spend time on that but if you take a",
    "start": "287160",
    "end": "293600"
  },
  {
    "text": "64,000 server data center this is a the the high end of a midsize data center",
    "start": "293600",
    "end": "298960"
  },
  {
    "text": "it's a good size data center 64,000 servers if you would look at that and you say well actually you know that",
    "start": "298960",
    "end": "305320"
  },
  {
    "text": "would be five servers failing every day 17 discs failing every day probably independent systems so we're talking",
    "start": "305320",
    "end": "311960"
  },
  {
    "text": "upwards of 23 failures every day in that Center 23 every day light Clockwork",
    "start": "311960",
    "end": "319000"
  },
  {
    "text": "never never a change failure is inevitable and actually surprisingly",
    "start": "319000",
    "end": "325280"
  },
  {
    "text": "common so it is worth investing in if you have scale and this applies to infrastructure at",
    "start": "325280",
    "end": "331880"
  },
  {
    "text": "all levels it applies to servers and there's so many of them we all kind of buy the server numbers it applies to",
    "start": "331880",
    "end": "339120"
  },
  {
    "text": "disc there's way more discs we buy the disc numbers but it also applies to switch gear cooling plants um um power",
    "start": "339120",
    "end": "347039"
  },
  {
    "text": "distribution units it replies across the board the less of the pieces of",
    "start": "347039",
    "end": "352440"
  },
  {
    "text": "equipment there are the less common The Faults Are and the less people tend to protect against them because you don't",
    "start": "352440",
    "end": "358360"
  },
  {
    "text": "hear about as many faults so let me let me show you a little bit on scale before we dive into techniques",
    "start": "358360",
    "end": "364680"
  },
  {
    "text": "partly because scale drives home the point and it's and some of these numbers are just fun they're just kind of fun to",
    "start": "364680",
    "end": "371280"
  },
  {
    "text": "review so this is the one that I originally put this together a couple years ago and the idea behind this",
    "start": "371280",
    "end": "377639"
  },
  {
    "text": "number was I wanted to find a way to talk about the growth rate of Amazon and we're a little stingy sometimes in",
    "start": "377639",
    "end": "384000"
  },
  {
    "text": "releasing numbers and how we're doing and things like that we don't always want to talk about it and it's mostly a",
    "start": "384000",
    "end": "389639"
  },
  {
    "text": "good thing that we don't Focus internally I think it's a good thing but we wanted some way to talk a little bit about some of the growth because we want",
    "start": "389639",
    "end": "395520"
  },
  {
    "text": "you to understand this really is a big thing this industry is big and um it's a",
    "start": "395520",
    "end": "401080"
  },
  {
    "text": "good time to jump on board and so the scaling number I originally put together is I said well I wonder how frequently I",
    "start": "401080",
    "end": "407319"
  },
  {
    "text": "I first got I first got to know Amazon in the year 2000 I said how frequently do we deploy enough infrastructure to",
    "start": "407319",
    "end": "413199"
  },
  {
    "text": "support Amazon the year 2000 did the math it was every day",
    "start": "413199",
    "end": "420400"
  },
  {
    "text": "like it seemed impossible we we checked it every possible way nobody believed me",
    "start": "420400",
    "end": "425800"
  },
  {
    "text": "everyone's checked this number and in fact it's been updated now so to instead of being it's faster than every day",
    "start": "425800",
    "end": "431919"
  },
  {
    "text": "we're saying it turns out every day we deploy enough equipment to support Amazon in 2003 when it was a",
    "start": "431919",
    "end": "439120"
  },
  {
    "text": "$5.2 billion business this is a phenomenally big Enterprise it's an e-commerce site it's all built on",
    "start": "439120",
    "end": "446240"
  },
  {
    "text": "Computing Hardware that's the rate we're rolling gear out think about that number forget about the Innovation forget about",
    "start": "446240",
    "end": "452120"
  },
  {
    "text": "new products forget about the the release rate just think about getting gear from original design manufacturers",
    "start": "452120",
    "end": "459720"
  },
  {
    "text": "through the logistics Channel onto the shipping dock delivered into the rais floor data center make sure there's",
    "start": "459720",
    "end": "466759"
  },
  {
    "text": "power available make sure there's networking available and get it online every day that's supposed to be the easy",
    "start": "466759",
    "end": "472800"
  },
  {
    "text": "stuff and even that is is actually kind of a big number let's look at a couple",
    "start": "472800",
    "end": "479240"
  },
  {
    "text": "more data points I remember when I started working in storage I love storage database was where I where I got",
    "start": "479240",
    "end": "484800"
  },
  {
    "text": "started back in the early days and a big storage array was three racks wide",
    "start": "484800",
    "end": "492680"
  },
  {
    "text": "upwards of a thousand discs it's a big this is a very expensive storage area network think about this one trillion",
    "start": "492680",
    "end": "501039"
  },
  {
    "text": "objects in S3 if if it weren't distributed all over the world and you were to pile it all in one data center",
    "start": "501039",
    "end": "507440"
  },
  {
    "text": "wouldn't come close to fitting you've got football field rooms one after another and and you could not fit S3 in",
    "start": "507440",
    "end": "514919"
  },
  {
    "text": "in that facility wouldn't fit it's phenomenally big numbers these are numbers that I always like to pride",
    "start": "514919",
    "end": "520919"
  },
  {
    "text": "myself I think I get scale I don't get these numbers these are this is this is scale here's one more here's one more we",
    "start": "520919",
    "end": "527959"
  },
  {
    "text": "released this number um a little bit earlier in the year it was Pro probably not even noticeable by some but there's",
    "start": "527959",
    "end": "535120"
  },
  {
    "text": "couple things are interesting one is we have we have we have regions in nine",
    "start": "535120",
    "end": "540600"
  },
  {
    "text": "parts of the world so we've now got the world reasonably well covered if you each region has multiple availability",
    "start": "540600",
    "end": "546920"
  },
  {
    "text": "zones availability zones are one or more one or more data center in the v in the",
    "start": "546920",
    "end": "554079"
  },
  {
    "text": "Virginia area in in Us East we have over 10 Data Centers of the size that I",
    "start": "554079",
    "end": "560920"
  },
  {
    "text": "described to you earlier so that gives you an idea that is the biggest but that",
    "start": "560920",
    "end": "566160"
  },
  {
    "text": "gives you an idea this is reasonably big scale okay let's look at some of these",
    "start": "566160",
    "end": "571760"
  },
  {
    "start": "570000",
    "end": "676000"
  },
  {
    "text": "techniques I told you about everyone in the planet knows this and if you don't know it I think if you think about it",
    "start": "571760",
    "end": "578160"
  },
  {
    "text": "you kind of agree if you want fifth n if you want the fifth n you must run in in",
    "start": "578160",
    "end": "584600"
  },
  {
    "text": "multiple buildings you got to run in multiple buildings and people that sell",
    "start": "584600",
    "end": "589920"
  },
  {
    "text": "data center space for a living talk a lot about availability four-way redundancy um triple redundancy um and",
    "start": "589920",
    "end": "598000"
  },
  {
    "text": "but the truth is the industry's been around for a long time the high value",
    "start": "598000",
    "end": "603240"
  },
  {
    "text": "applications all run multiple building they all do every Financial app runs multiple buildings and the reason is",
    "start": "603240",
    "end": "609120"
  },
  {
    "text": "they need 59 it's the only way to get it so we all agree on that point where we don't agree is how to do it so let's",
    "start": "609120",
    "end": "615680"
  },
  {
    "text": "look at what the industry does what the industry does is when you have first of all you use two data centers that's",
    "start": "615680",
    "end": "621880"
  },
  {
    "text": "that's that's the first standard and you put one on one coast and you put one somewhere close to the other coast",
    "start": "621880",
    "end": "628279"
  },
  {
    "text": "that's the way it's done and if you think about it that's awesome what are the chances that the earthquake would",
    "start": "628279",
    "end": "634279"
  },
  {
    "text": "hit both sides of the country at the same time what are the chances the fire would spread from LA to New York I mean",
    "start": "634279",
    "end": "639680"
  },
  {
    "text": "it's just it's not going to happen so so that's the way it's done and almost everyone does it this",
    "start": "639680",
    "end": "645920"
  },
  {
    "text": "way but Amazon doesn't and so I want to show you why the first test for this it looks",
    "start": "645920",
    "end": "653200"
  },
  {
    "text": "great the first test for this is would you be willing to pull the plug",
    "start": "653200",
    "end": "659360"
  },
  {
    "text": "in other words would you disconnect one of those data centers and the answer is always are you",
    "start": "659360",
    "end": "665959"
  },
  {
    "text": "insane never in my wildest dreams and I claim it's because it doesn't work that",
    "start": "665959",
    "end": "671959"
  },
  {
    "text": "this form of redundancy really doesn't work let's let's look at what's wrong with it well here's the biggest problem when",
    "start": "671959",
    "end": "679160"
  },
  {
    "start": "676000",
    "end": "859000"
  },
  {
    "text": "you commit a transaction to ssds you're you're running in the tp50 case 1 millisecond maybe 2 milliseconds in the",
    "start": "679160",
    "end": "686399"
  },
  {
    "text": "outliers heading for 10 milliseconds if you were to synchronously update between LA and New York that's 74 milliseconds",
    "start": "686399",
    "end": "694040"
  },
  {
    "text": "you're touching tens of pieces of networking gear along the way if one of them is overloaded just one you drop a",
    "start": "694040",
    "end": "700920"
  },
  {
    "text": "packet if you drop a packet your 200 milliseconds gone again you're a third of a second by the time you get that",
    "start": "700920",
    "end": "706959"
  },
  {
    "text": "packet round trip in that case even if you don't drop a packet it's still um",
    "start": "706959",
    "end": "712880"
  },
  {
    "text": "you know 74 milliseconds that's a lot of time you can't you can't run synchronous between it just doesn't work Nobody Does",
    "start": "712880",
    "end": "718839"
  },
  {
    "text": "it it just cannot be done it's unreasonable it's too slow you can't write a performance application I mean a",
    "start": "718839",
    "end": "725000"
  },
  {
    "text": "disc drive a disc drive which nobody's using behind databases anymore can do a 13 a a poor disc drive can do 13",
    "start": "725000",
    "end": "732440"
  },
  {
    "text": "millisecond uh random seeks and so this is this is not a practical number so what everyone does is they run async",
    "start": "732440",
    "end": "738839"
  },
  {
    "text": "fine and it looks good because hey I'll commit to this to this La facility and then very rapidly I'll be sending over",
    "start": "738839",
    "end": "745480"
  },
  {
    "text": "to New York right just right there all the transactions they're they're almost arriving in in real time and that's what",
    "start": "745480",
    "end": "751000"
  },
  {
    "text": "what could be better than that but here's the challenge if you have a failure what do you",
    "start": "751000",
    "end": "756320"
  },
  {
    "text": "do it's hard to call because if you fail over to La you just lost a bunch of",
    "start": "756320",
    "end": "762240"
  },
  {
    "text": "transactions because as much as you hoped they were that you got them across um there's just a there's a small tail",
    "start": "762240",
    "end": "768639"
  },
  {
    "text": "that can't ship fast enough because you're shipping asynchronously so you either lose transactions that's not so",
    "start": "768639",
    "end": "773680"
  },
  {
    "text": "good it's not going to end the business none of these businesses only have one record there's audit logs tracks all",
    "start": "773680",
    "end": "779839"
  },
  {
    "text": "over the place but it will take human beings 3 weeks to recover and get the system back to play to to to being",
    "start": "779839",
    "end": "785480"
  },
  {
    "text": "consistent and in the meantime the customers get may get you know incomplete results missing missing",
    "start": "785480",
    "end": "791120"
  },
  {
    "text": "transactions until that gets corrected so it's not lost data it's just painful so you lose transactions is one model",
    "start": "791120",
    "end": "798399"
  },
  {
    "text": "the second model is you lose availability you're not failing over that's a tough call you don't make",
    "start": "798399",
    "end": "803600"
  },
  {
    "text": "junior folks don't make that call so what you do is you call all the senior Engineers on the team they get on the phone at the same time it took 20",
    "start": "803600",
    "end": "809920"
  },
  {
    "text": "minutes to get them together they say how long is it going to be down for everyone says I don't think it'd be down long it's never been down longer than an",
    "start": "809920",
    "end": "815560"
  },
  {
    "text": "hour and so we speculate it's better not to fail over because it's not going to be down for long well we're we're",
    "start": "815560",
    "end": "822240"
  },
  {
    "text": "optimistic folks and it probably is going to be down for longer than an hour because if it's a big high-scale site if",
    "start": "822240",
    "end": "827279"
  },
  {
    "text": "it really is down something's wrong and So eventually well it'll get failed over it'll probably be down for two hours by",
    "start": "827279",
    "end": "833440"
  },
  {
    "text": "the time that it's done and then you pay the 3-e price of get things back over time that's why people won't pull the plug that is a nasty place to be in you",
    "start": "833440",
    "end": "840639"
  },
  {
    "text": "don't want to be there I've been on those calls um I get paid to be right and those calls are terrible they're",
    "start": "840639",
    "end": "847440"
  },
  {
    "text": "just terrible because you you can't be right I mean honestly it's it's so hard to know what what the right answer is so",
    "start": "847440",
    "end": "854480"
  },
  {
    "text": "this model makes for unhappy customers and it makes for unhappy Engineers second thing wrong with it is",
    "start": "854480",
    "end": "861079"
  },
  {
    "start": "859000",
    "end": "964000"
  },
  {
    "text": "it's fragile and the reason it's fragile is you're running all of your transactions against one cluster and",
    "start": "861079",
    "end": "866959"
  },
  {
    "text": "there's another cluster on the other side of the country that you can't fail over to because well you can but you really hope you don't",
    "start": "866959",
    "end": "873320"
  },
  {
    "text": "for the reasons I just described which means that's that cluster is not exercised and what that means is maybe",
    "start": "873320",
    "end": "879000"
  },
  {
    "text": "the load balancer has different acles on it maybe the network is under contention and that system doesn't have the",
    "start": "879000",
    "end": "884120"
  },
  {
    "text": "capacity to support the load anymore even though it did last week maybe the server software is a different version",
    "start": "884120",
    "end": "890120"
  },
  {
    "text": "level maybe the the the sign on database is is is is is is it at a different",
    "start": "890120",
    "end": "895839"
  },
  {
    "text": "level um maybe there's a latent Hardware error that wasn't seen until loads hit",
    "start": "895839",
    "end": "901160"
  },
  {
    "text": "hits this model of running active passive doesn't work you need to have the load against both systems all the",
    "start": "901160",
    "end": "906759"
  },
  {
    "text": "time if you're not running it it won't work that's the first thing wrong with it second thing wrong with it is two-way redundancy is expensive and the reason",
    "start": "906759",
    "end": "913680"
  },
  {
    "text": "it's expensive is what's the maximum capacity that you can run at in steady state you know 50% and that's insane and",
    "start": "913680",
    "end": "920800"
  },
  {
    "text": "nobody runs at 50% because it means if you fail over you'll be running at 100% And if you're running at 100% you probably aren't running I mean it's just",
    "start": "920800",
    "end": "927279"
  },
  {
    "text": "you won't run that high so it wastes huge amount of resources you'd really rather be on a three-way redundancy",
    "start": "927279",
    "end": "932720"
  },
  {
    "text": "model or higher but a three-way redundancy model I describe the complexity of of synchronously updating",
    "start": "932720",
    "end": "940319"
  },
  {
    "text": "um of replicating software across a network well if you're running three-way there's more networking gear you're",
    "start": "940319",
    "end": "946680"
  },
  {
    "text": "exposed to more possible faults the likelihood of them being inconsistent goes up yet again it's kind of expensive",
    "start": "946680",
    "end": "953480"
  },
  {
    "text": "because you have to have three facilities it just doesn't scale very well and so the model usually is practiced to synchronous redundancy and",
    "start": "953480",
    "end": "960639"
  },
  {
    "text": "you get all of these issues let's look at what I think is the right way to do this the Amazon model and this is",
    "start": "960639",
    "end": "966639"
  },
  {
    "start": "964000",
    "end": "1077000"
  },
  {
    "text": "originally done at amazon.com but it be becomes available in AWS as well and it's tools that you can use to solve",
    "start": "966639",
    "end": "973759"
  },
  {
    "text": "that problem in a very different way the tools use the tools that we make available are instead of using regions",
    "start": "973759",
    "end": "980399"
  },
  {
    "text": "as a d as an overloaded concept where regions most people use regions for two reasons one to be close to customers",
    "start": "980399",
    "end": "989199"
  },
  {
    "text": "two to get availability and so it means that it's an overloaded concept it doesn't it means that it doesn't do one",
    "start": "989199",
    "end": "995480"
  },
  {
    "text": "of those things well we separate them we say listen choose the region to be close to your customers to be to be close to",
    "start": "995480",
    "end": "1002199"
  },
  {
    "text": "the data or to meet jurisdictional requirements maybe you run in multiple regions if you have multiple constraints",
    "start": "1002199",
    "end": "1008800"
  },
  {
    "text": "on your system choose it for the right reason choose it for that reason now you have a region now within a region we",
    "start": "1008800",
    "end": "1013920"
  },
  {
    "text": "need to give you reliability what's the way what's the way you get the fifth nine",
    "start": "1013920",
    "end": "1019959"
  },
  {
    "text": "multiple buildings so we put multiple buildings inside the same region and it turns out you can have them a long way",
    "start": "1019959",
    "end": "1026280"
  },
  {
    "text": "apart you can have them tens of miles apart such that fire doesn't spread",
    "start": "1026280",
    "end": "1031760"
  },
  {
    "text": "different Power unrelated cooling systems you can get them very independent but if they're only tens of",
    "start": "1031760",
    "end": "1038000"
  },
  {
    "text": "miles apart that means they're a couple milliseconds apart like a millisecond well if they're that close that's faster",
    "start": "1038000",
    "end": "1045000"
  },
  {
    "text": "than an SSD I can commit synchronously wow life's different now now when you",
    "start": "1045000",
    "end": "1051919"
  },
  {
    "text": "commit you commit to three data centers all those problems just go away because you're committing to three data centers",
    "start": "1051919",
    "end": "1058480"
  },
  {
    "text": "if you lose one what happens nothing you have two copies instead of three would",
    "start": "1058480",
    "end": "1063679"
  },
  {
    "text": "you have the courage to pull the plug absolutely absolutely and in fact I'll show you that's what we do you",
    "start": "1063679",
    "end": "1070559"
  },
  {
    "text": "absolutely would pull the plug and that's the proof that it actually works",
    "start": "1070559",
    "end": "1077440"
  },
  {
    "start": "1077000",
    "end": "1845000"
  },
  {
    "text": "okay Dave Patterson happens to be in the crowd Dave Patterson was one of the inventors of recovery Orting Computing",
    "start": "1077440",
    "end": "1083799"
  },
  {
    "text": "it turns out that technique is really really simple it's deceptively simple",
    "start": "1083799",
    "end": "1089559"
  },
  {
    "text": "and it works now I'm going to describe it in its simplest form and I'm I'm going to lie slightly and then I'll come",
    "start": "1089559",
    "end": "1095080"
  },
  {
    "text": "back and Patch it up so in its simplest form if you have a software system that's not working something's wrong",
    "start": "1095080",
    "end": "1102200"
  },
  {
    "text": "well first of all how do you know well if you do not have a well- monitored site it's never going to be reliable so",
    "start": "1102200",
    "end": "1108039"
  },
  {
    "text": "let's assume we get well monitored really well monitored if the system's not healthy you know it and so what you",
    "start": "1108039",
    "end": "1114799"
  },
  {
    "text": "do is if it's if it's faulty restart it if it's still faulty reboot it if it's",
    "start": "1114799",
    "end": "1120280"
  },
  {
    "text": "still faulty reimage it if it's still faulty replace it and you know that is",
    "start": "1120280",
    "end": "1125440"
  },
  {
    "text": "how big systems like search work well you can do this in in ec2 and you know",
    "start": "1125440",
    "end": "1131240"
  },
  {
    "text": "replacing a server is start a new instance I mean you can do all of those operations is it a good idea to do that",
    "start": "1131240",
    "end": "1138520"
  },
  {
    "text": "well it is because you can automate it does it solve every problem well no there's in fact there's in fact a couple",
    "start": "1138520",
    "end": "1143960"
  },
  {
    "text": "problems it it will there's one problem it won't solve and there's another class of problems where it will really make it",
    "start": "1143960",
    "end": "1149120"
  },
  {
    "text": "will really make it a it will be a bad problem it shouldn't be done and here's a here's the definition so a couple",
    "start": "1149120",
    "end": "1155600"
  },
  {
    "text": "definitions and we'll talk about the two problems heisen bug was a word um a definition originally introduced by Jim",
    "start": "1155600",
    "end": "1161679"
  },
  {
    "text": "Gray and what it means is there are a class of bugs that are if you give an",
    "start": "1161679",
    "end": "1167080"
  },
  {
    "text": "input to a software system it fults under certain circumstances but mostly",
    "start": "1167080",
    "end": "1172679"
  },
  {
    "text": "it doesn't that same input a 100 times later works fine what The Faults Are is",
    "start": "1172679",
    "end": "1178200"
  },
  {
    "text": "maybe maybe if this input comes in at the same time you're serving a network interrupt at the same time you're",
    "start": "1178200",
    "end": "1183720"
  },
  {
    "text": "running over 85% load at the same time there's a backup operation going on then it falls but otherwise it doesn't the",
    "start": "1183720",
    "end": "1190480"
  },
  {
    "text": "reason why Jim called it a heisen bug is these bugs are deadly if you instrument the system you disturb the timing just",
    "start": "1190480",
    "end": "1197000"
  },
  {
    "text": "enough they will run beautifully it will absolutely never fa and so they're the most frustrating bugs in the world Bruce",
    "start": "1197000",
    "end": "1204440"
  },
  {
    "text": "Lindsay came up with with bore bug as the as a Converse of that and the bore bug is you give it an input it gives you",
    "start": "1204440",
    "end": "1210400"
  },
  {
    "text": "a bad answer you give it the same input again still gives you the bad answer it's always going to do that and a bore",
    "start": "1210400",
    "end": "1215559"
  },
  {
    "text": "buug would be a terrible would be handled very poorly using this technique",
    "start": "1215559",
    "end": "1220600"
  },
  {
    "text": "because if you give it an input we restart that server it'll land on this server it will will restart that server",
    "start": "1220600",
    "end": "1226760"
  },
  {
    "text": "it'll land on this one the whole Fleet will be down that would be a disaster so you need to avoid that but turns out",
    "start": "1226760",
    "end": "1233559"
  },
  {
    "text": "we're very good at testing systems and making sure bore bugs are are out of them it's the heisen bugs that are killers and so it it's good at solving",
    "start": "1233559",
    "end": "1241320"
  },
  {
    "text": "the problems that we're less good at at resolving before you go into production which is a nice thing and there's some",
    "start": "1241320",
    "end": "1248080"
  },
  {
    "text": "techniques to protect against this the technique to protect against it is don't let the automata do more than a junior",
    "start": "1248080",
    "end": "1255360"
  },
  {
    "text": "engineer would be allowed if someone called me up right now and said listen I want to restart a server I yeah sure",
    "start": "1255360",
    "end": "1261080"
  },
  {
    "text": "fine if someone right now called me and Saidi want to restart 60% of their capacity no let's let's look let's look",
    "start": "1261080",
    "end": "1269200"
  },
  {
    "text": "deeper not going to happen and so same thing with the automa is don't let it do big things let it do small things and",
    "start": "1269200",
    "end": "1275799"
  },
  {
    "text": "what the beauty of this is 80% of the problems are small things and so most of the load goes away and you're taking",
    "start": "1275799",
    "end": "1282400"
  },
  {
    "text": "away all the boring problems Engineers hate boring problems if you give someone a hundred boring problems every day my",
    "start": "1282400",
    "end": "1289080"
  },
  {
    "text": "rule of thumb is about boat one in five will have an unintended consequence",
    "start": "1289080",
    "end": "1294440"
  },
  {
    "text": "they're bored it's terrible work about one time in five something will happen sometimes it's a nit sometimes they",
    "start": "1294440",
    "end": "1300440"
  },
  {
    "text": "forgot to close the bug properly sometimes it's big like the entire data center goes down I mean unintended",
    "start": "1300440",
    "end": "1305919"
  },
  {
    "text": "consequences you don't know it's just stuff happens so don't give people boring work this knocks off the boring",
    "start": "1305919",
    "end": "1311159"
  },
  {
    "text": "work they do the hard work give them hard problems people love hard problems makes their job more fulfilling and if",
    "start": "1311159",
    "end": "1316480"
  },
  {
    "text": "it's different every time you don't go in H what's going on this time you know you can't okay good technique here's",
    "start": "1316480",
    "end": "1323559"
  },
  {
    "text": "another one that I fell in love with I I love this another a characteristic of software systems that I haven't",
    "start": "1323559",
    "end": "1329120"
  },
  {
    "text": "addressed yet but it's a characteristic that's that's common to every one of them show me a system that doesn't do",
    "start": "1329120",
    "end": "1334240"
  },
  {
    "text": "this I haven't seen it yet and that is I've told you how to deal with certain classes of bugs but there's",
    "start": "1334240",
    "end": "1340039"
  },
  {
    "text": "another class that's load dependent and most systems you give it input it it gives you an answer you give it a lot",
    "start": "1340039",
    "end": "1346240"
  },
  {
    "text": "more input slows down slightly you give it a bit more more input slows down a little bit more again and then there's this Cliff where it goes Super",
    "start": "1346240",
    "end": "1353200"
  },
  {
    "text": "exponential it just it you know maybe the system starts paging thing it just suddenly dramatically slows down and you",
    "start": "1353200",
    "end": "1360360"
  },
  {
    "text": "have to stay away from those Cliffs because that's that's the next thing to being just just not delivering results at all and you you can't really know",
    "start": "1360360",
    "end": "1366640"
  },
  {
    "text": "where that is unless you test for it and so what do you do you test for it well you don't want to test for it on the",
    "start": "1366640",
    "end": "1373000"
  },
  {
    "text": "entire fleet because if all of your servers go down at once that's unfortunate you don't want to do that",
    "start": "1373000",
    "end": "1379159"
  },
  {
    "text": "on the other hand you don't want to test out of production because you can't trust the result and so what you do is",
    "start": "1379159",
    "end": "1385120"
  },
  {
    "text": "you put way more load upwards of 2x the load on one server in the fleet and what",
    "start": "1385120",
    "end": "1390559"
  },
  {
    "text": "that does is well the fleet's pumping and going up and load and down and load and up and load you've got one server",
    "start": "1390559",
    "end": "1396919"
  },
  {
    "text": "that's that's going up and load and down load faster or higher and what it means is it finds the problems first the",
    "start": "1396919",
    "end": "1402559"
  },
  {
    "text": "moment you find a problem you can now hold the system below that load you now know where the limit is you say well",
    "start": "1402559",
    "end": "1408720"
  },
  {
    "text": "once I've done that why don't I why would I keep doing the test well the reason the software systems change all the time and you'll keep adding features",
    "start": "1408720",
    "end": "1415159"
  },
  {
    "text": "and it will get worse and you'll think the ceiling's here and it will actually be here and you will have a bad day it's",
    "start": "1415159",
    "end": "1420840"
  },
  {
    "text": "just there's no way to know it's coming and so because this is always running you always know where the limit is well what do you do when you hit the limit",
    "start": "1420840",
    "end": "1426799"
  },
  {
    "text": "you're you're sort of screwed you you okay I hit the limit what what should I do well there's things you can do in",
    "start": "1426799",
    "end": "1432159"
  },
  {
    "text": "fact there's a lot you can do the first thing you can do is every system has",
    "start": "1432159",
    "end": "1437440"
  },
  {
    "text": "some non-customer task every systems maybe reindexing maybe you're Gathering",
    "start": "1437440",
    "end": "1443360"
  },
  {
    "text": "statistics um there's things going on that customers aren't waiting for and so if you're smart you can say okay I can",
    "start": "1443360",
    "end": "1449840"
  },
  {
    "text": "shut that off and in fact you can shut it off automatically it's super easy to write administrative task to check a",
    "start": "1449840",
    "end": "1455039"
  },
  {
    "text": "flag to see if if if you've got a problem right now and so if if if you",
    "start": "1455039",
    "end": "1460080"
  },
  {
    "text": "set that flag all the administrative task Shed off that's a beautiful thing because that actually can take away quite a bit of load that actually can",
    "start": "1460080",
    "end": "1467080"
  },
  {
    "text": "usually that will that will solve the problem if that doesn't solve the problem the next level of protection is what I call",
    "start": "1467080",
    "end": "1473200"
  },
  {
    "text": "degraded operations mode and every engineer I've ever worked with says it oh well yeah sure other other apps could",
    "start": "1473200",
    "end": "1479720"
  },
  {
    "text": "have degraded operations mode but my app does such important stuff there's no just I other do it or you don't and so",
    "start": "1479720",
    "end": "1486919"
  },
  {
    "text": "so what is you know you many people say well I don't know what integraded operations mode would be for me I'll",
    "start": "1486919",
    "end": "1491960"
  },
  {
    "text": "give you a couple examples in search the internet's full of like I think 25",
    "start": "1491960",
    "end": "1497520"
  },
  {
    "text": "billion um possible uh possible uh addresses out there Pages index but it",
    "start": "1497520",
    "end": "1504640"
  },
  {
    "text": "turns out the vast majority of search results are the front 5 billion and and so simply one degraded operations mode",
    "start": "1504640",
    "end": "1511840"
  },
  {
    "text": "is only give answers from the front 5 billion hardly anyone will ever notice",
    "start": "1511840",
    "end": "1517640"
  },
  {
    "text": "that you didn't show the tail the load just dramatically fell no customer knows you're in trouble and and you you ride",
    "start": "1517640",
    "end": "1524039"
  },
  {
    "text": "through and what would have happened is the whole Fleet would have fallen so much better place I ran an email team",
    "start": "1524039",
    "end": "1530039"
  },
  {
    "text": "and the email team said okay sure it works to search but that's an easy app I anyone can do search I I deliver email",
    "start": "1530039",
    "end": "1535840"
  },
  {
    "text": "and and there's just you either do or you don't I mean there's no way to of course there is absolutely is on a on a",
    "start": "1535840",
    "end": "1542720"
  },
  {
    "text": "great day the internet um mail is 80% of Internet mail is Spam and on a bad day",
    "start": "1542720",
    "end": "1549960"
  },
  {
    "text": "98% is Spam so what do you do you don't deliver spam it means all the mail goes",
    "start": "1549960",
    "end": "1555520"
  },
  {
    "text": "through really fast and a couple pieces of email very small number that you",
    "start": "1555520",
    "end": "1561039"
  },
  {
    "text": "misdiagnosed a Spam got delivered later that is a beautiful degraded operations",
    "start": "1561039",
    "end": "1566360"
  },
  {
    "text": "mode we implemented it and the problems went from almost daily to never ju I I",
    "start": "1566360",
    "end": "1571559"
  },
  {
    "text": "just never got complaints and we weren't doing anything better we just we just exploited a a characteristic of the",
    "start": "1571559",
    "end": "1578000"
  },
  {
    "text": "workload so these are hard to find but you but they're but they're all there final one is admission control good of",
    "start": "1578000",
    "end": "1583559"
  },
  {
    "text": "the many you just don't let more customers in if if if the system's going to fall over",
    "start": "1583559",
    "end": "1589480"
  },
  {
    "text": "another another related concept is this happened to the messenger system and",
    "start": "1589480",
    "end": "1595960"
  },
  {
    "text": "it's a good lesson and that is most systems have a more expensive um when",
    "start": "1595960",
    "end": "1601799"
  },
  {
    "text": "you first interact with a system it's more expensive than J than than steady state operation and by that I mean in",
    "start": "1601799",
    "end": "1608039"
  },
  {
    "text": "messenger the example was logging in is actually 10x more expensive than trading messages sort of makes sense okay so",
    "start": "1608039",
    "end": "1615799"
  },
  {
    "text": "what's that mean well if fault happened once that actually took down the messenger Fleet",
    "start": "1615799",
    "end": "1620960"
  },
  {
    "text": "for a very brief moment in time very very brief and tens of millions of people jumped right back on and logged",
    "start": "1620960",
    "end": "1627720"
  },
  {
    "text": "on and it fell over and tens of millions of people jumped right back on and it",
    "start": "1627720",
    "end": "1632760"
  },
  {
    "text": "fell over and tens of millions of people jump back on and it fell over and and turns out customers that want to send",
    "start": "1632760",
    "end": "1639559"
  },
  {
    "text": "messages are very persistent and so it stayed down for a long time and the",
    "start": "1639559",
    "end": "1645279"
  },
  {
    "text": "trick on this one is useful for two reasons one is you have admission control on bringing the system back up",
    "start": "1645279",
    "end": "1650720"
  },
  {
    "text": "and there's two reasons you like to do that one is you avoid the problem I just described and the second reason is if",
    "start": "1650720",
    "end": "1655960"
  },
  {
    "text": "you're uncertain that you've really got a problem under control it's super good to be able to bring one customer in and",
    "start": "1655960",
    "end": "1662679"
  },
  {
    "text": "watch and then bring 10 in and then bring a thousand in and see how it see how the the system deals with it and so",
    "start": "1662679",
    "end": "1669279"
  },
  {
    "text": "it's useful for two reasons last one this is one where it's is unique to to to AWS anytime somebody",
    "start": "1669279",
    "end": "1678320"
  },
  {
    "text": "has redundancy of course they have all the servers they don't have a failure and say okay I'm having a failure I'm",
    "start": "1678320",
    "end": "1684000"
  },
  {
    "text": "going to go and buy a bunch of computers bunch of servers to to back the system up you already have them of course it be crazy but because you can acquire",
    "start": "1684000",
    "end": "1690799"
  },
  {
    "text": "resources so quickly in ews there's a temptation to say well what I'll do is when I have a failure I'll go require",
    "start": "1690799",
    "end": "1697080"
  },
  {
    "text": "acquire the resources because you get them so fast it's just as good it's not just as good you really want to have all",
    "start": "1697080",
    "end": "1703519"
  },
  {
    "text": "the resources that you need every EBS system every ec2 system have all all the resources there and ready and what that",
    "start": "1703519",
    "end": "1710159"
  },
  {
    "text": "and the reason for it is getting resources is wildly more more expensive",
    "start": "1710159",
    "end": "1715679"
  },
  {
    "text": "and and and it's harder from an implementation perspective than than just having the resources available to",
    "start": "1715679",
    "end": "1721399"
  },
  {
    "text": "you and so during a fall when many customers could be many customers are going to get resources at the same time",
    "start": "1721399",
    "end": "1727440"
  },
  {
    "text": "you it's more likely to expose you'll get exposed to to Resource contention at that point and that will slow down your",
    "start": "1727440",
    "end": "1733760"
  },
  {
    "text": "failover and so the the this is tempting and it's it's very very unwise to not",
    "start": "1733760",
    "end": "1739159"
  },
  {
    "text": "have the resources ready and if you do that makes a huge difference and most many problems I've seen you could have",
    "start": "1739159",
    "end": "1745519"
  },
  {
    "text": "been rid ridden through without impact would had the resources been been there for sure so strongly",
    "start": "1745519",
    "end": "1752279"
  },
  {
    "text": "recommended here's a couple techniques that that I think are super interesting um basically you'll hear a common theme",
    "start": "1752279",
    "end": "1758559"
  },
  {
    "text": "for me and that is if you don't test it it won't work that's that's the common theme well you got to test some",
    "start": "1758559",
    "end": "1764559"
  },
  {
    "text": "production because no test system has sufficient Fidelity they're just not realistic enough and they never can be",
    "start": "1764559",
    "end": "1770399"
  },
  {
    "text": "and so in this in this example what Amazon does is it actually shuts down all of the capacity in one data center",
    "start": "1770399",
    "end": "1776360"
  },
  {
    "text": "just shuts it off and and this is amazon.com not aw not AWS and and the reason for it is they want to make sure",
    "start": "1776360",
    "end": "1782760"
  },
  {
    "text": "that that that they can do it and the only way you can make sure you can do it is you do it and it's super hard to get started on this for the reasons I said",
    "start": "1782760",
    "end": "1789720"
  },
  {
    "text": "can I pull the plug um it's it takes courage to do this",
    "start": "1789720",
    "end": "1794880"
  },
  {
    "text": "and you want to do it in the center of the day Netflix does the same thing or similar it's it's a better thing called the Kos monkey where they're constantly",
    "start": "1794880",
    "end": "1801760"
  },
  {
    "text": "introduced um bugs into the system they're failing servers they're they're failing messages and and it's it's super",
    "start": "1801760",
    "end": "1808159"
  },
  {
    "text": "Tod do and the reasoning behind it is faults are common enough that you have to protect against them but unfort well",
    "start": "1808159",
    "end": "1815120"
  },
  {
    "text": "unfortunately they're not common enough that that you get to test them enough and so if if you if you only get to to",
    "start": "1815120",
    "end": "1822600"
  },
  {
    "text": "exercise your error code after there's been a fault then you get to do postmortem after postmortem after post",
    "start": "1822600",
    "end": "1828360"
  },
  {
    "text": "figuring out how to get everything right and in 10 years it'll all be right but your customers aren't happy for 10 years",
    "start": "1828360",
    "end": "1834039"
  },
  {
    "text": "it's not a good deal and so this is a way to get the pro product right right away and you get to choose when your",
    "start": "1834039",
    "end": "1839640"
  },
  {
    "text": "failures happen you can choose them right in the middle of the day when all the engineers are there it's unbeatable I love this okay let me give you a couple",
    "start": "1839640",
    "end": "1846880"
  },
  {
    "start": "1845000",
    "end": "2110000"
  },
  {
    "text": "example failure modes just for fun and just to test out the theories that I've",
    "start": "1846880",
    "end": "1852440"
  },
  {
    "text": "been giving so you can say how would would that have worked here's one I've taken the names",
    "start": "1852440",
    "end": "1857720"
  },
  {
    "text": "off this because I I feel for the person that wrote the postmortem I've written a few in my life they're hard to write",
    "start": "1857720",
    "end": "1863320"
  },
  {
    "text": "this one was written by the heart from the heart pardon me um uh I I have um I",
    "start": "1863320",
    "end": "1868559"
  },
  {
    "text": "know what it's like what they've done is they run in one data center but it's an awesome data center it's a 59 data",
    "start": "1868559",
    "end": "1875840"
  },
  {
    "text": "center it's quadruple redundant it's goldplated this is an awesome Data",
    "start": "1875840",
    "end": "1881320"
  },
  {
    "text": "Center and so they've really span and this person's upset he say the cause of the outage was an Abrupt failure in in",
    "start": "1881320",
    "end": "1888000"
  },
  {
    "text": "our state-of-the-art data center facility the problem was not just that the power failure happens the problem",
    "start": "1888000",
    "end": "1894480"
  },
  {
    "text": "was it happened abruptly with no warning whatsoever and all of our equipment went",
    "start": "1894480",
    "end": "1900919"
  },
  {
    "text": "down at once so",
    "start": "1900919",
    "end": "1906120"
  },
  {
    "text": "disappointing I've Been There It Is Well you you know what's going on here if you have a power failure there's warning",
    "start": "1906120",
    "end": "1912279"
  },
  {
    "text": "there is warning servers will run for 12 to 16 milliseconds at full load and at",
    "start": "1912279",
    "end": "1918480"
  },
  {
    "text": "light load some of them will run for 50 to 80",
    "start": "1918480",
    "end": "1922840"
  },
  {
    "text": "milliseconds it's not a great warning but it's morning second thing wrong with this is",
    "start": "1923840",
    "end": "1930559"
  },
  {
    "text": "it doesn't work I mean it's single data center redundancy you've got to use multiple buildings and so it's a tough",
    "start": "1930559",
    "end": "1936600"
  },
  {
    "text": "lesson you have to talk to your customers about things that you hate talking to them about and I I you know I",
    "start": "1936600",
    "end": "1942279"
  },
  {
    "text": "get it let's look at a power distribution system this is this is this is how a power distribution system works",
    "start": "1942279",
    "end": "1949000"
  },
  {
    "text": "this is how all data center Works Data Centers work at a high level utilities deliver High Voltage in North America",
    "start": "1949000",
    "end": "1955200"
  },
  {
    "text": "it's typically hundreds of thousands over 100,000 volts in this case it's 110,000 volts delivered to a substation",
    "start": "1955200",
    "end": "1962720"
  },
  {
    "text": "substation um takes it down to Mid voltage 127 132 this particular facility",
    "start": "1962720",
    "end": "1968559"
  },
  {
    "text": "is 13,500 volts which is brought onto the pre premises of the data center it",
    "start": "1968559",
    "end": "1973799"
  },
  {
    "text": "stepped down to 483 phase and then delivered into the building this is",
    "start": "1973799",
    "end": "1978919"
  },
  {
    "text": "almost every Center I've ever been involved with has that in common in the building you'll have a programmable",
    "start": "1978919",
    "end": "1984240"
  },
  {
    "text": "logic controller that's that is sold by the switch gear manufacturer it's essentially a small embedded computer",
    "start": "1984240",
    "end": "1990279"
  },
  {
    "text": "that controls two Breakers the generator breaker and the utility breaker and its job is is is is is is is manifold the",
    "start": "1990279",
    "end": "1997799"
  },
  {
    "text": "first job is never let both of them be powered generator and utility at the same time because they're not in phase",
    "start": "1997799",
    "end": "2003679"
  },
  {
    "text": "and explosive things happen second job is it track everything and it makes sure",
    "start": "2003679",
    "end": "2010519"
  },
  {
    "text": "that if it's a problem the generator gets started switches over to it and does all the things it's supposed to do",
    "start": "2010519",
    "end": "2016039"
  },
  {
    "text": "the reason why I chose this problem is I'm going to show you a fault that exists in every piece of Swit sheare",
    "start": "2016039",
    "end": "2023279"
  },
  {
    "text": "that's sold to my knowledge it's it's the same in all of them and because we run an extraordinary scale we get",
    "start": "2023279",
    "end": "2029360"
  },
  {
    "text": "exposed to we get exposed to more opportunities to see these things and so the fold I'm about to show you has",
    "start": "2029360",
    "end": "2034639"
  },
  {
    "text": "happened twice so I'll tell you what you know what happened happens but because it's so insanely rare it it's it's this",
    "start": "2034639",
    "end": "2042399"
  },
  {
    "text": "is the way all gear gets sold it's kind of fun that's why I liked it well it like it actually I little frustrating at",
    "start": "2042399",
    "end": "2047480"
  },
  {
    "text": "the time okay so what happened in this particular instance that happened in August of last year is an is the mid",
    "start": "2047480",
    "end": "2053878"
  },
  {
    "text": "voltage Transformer 10 million watt Transformer exploded and it exploded in",
    "start": "2053879",
    "end": "2059280"
  },
  {
    "text": "a nasty nasty nasty way and it sent a very large Spike down um through the",
    "start": "2059280",
    "end": "2065000"
  },
  {
    "text": "system down to the utility breaker the nasty Spike was interpreted by the program logic controller as a direct",
    "start": "2065000",
    "end": "2071040"
  },
  {
    "text": "short inside the data center because that's what what delivered that huge Spike of current and so because there's",
    "start": "2071040",
    "end": "2076919"
  },
  {
    "text": "a direct short inside the data center if they bring the generator online the",
    "start": "2076919",
    "end": "2082480"
  },
  {
    "text": "generator will hit that direct short it will probably destroy the generator generators are order three4 of a million",
    "start": "2082480",
    "end": "2088760"
  },
  {
    "text": "dollars a crack these are awesome big V16 4,000 horsepower wonders they're",
    "start": "2088760",
    "end": "2094839"
  },
  {
    "text": "truly a great thing um but they're very expensive ensive and so what these folks do is they programed the system to not",
    "start": "2094839",
    "end": "2101960"
  },
  {
    "text": "expose that 3/4 of a million dollar piece of equipment to a potentially nasty event that it will not make it",
    "start": "2101960",
    "end": "2109440"
  },
  {
    "text": "through that's not our goal that's not our goal but that you understand what goes on is there will be lawsuits it",
    "start": "2109440",
    "end": "2116079"
  },
  {
    "text": "will be messy a little people people upset and so um the that's the logic and",
    "start": "2116079",
    "end": "2121200"
  },
  {
    "text": "so what happened in this case is the start signal got sent out to the generator the generator started up fine",
    "start": "2121200",
    "end": "2127040"
  },
  {
    "text": "the plc will never close the generator breaker because bad things could happen to the generator so when we arrive at",
    "start": "2127040",
    "end": "2132599"
  },
  {
    "text": "the facility it's idling the generator's happy and idling the um unfortunately",
    "start": "2132599",
    "end": "2138400"
  },
  {
    "text": "when we I was there by fluke um we we were at a different facility we arrived",
    "start": "2138400",
    "end": "2145160"
  },
  {
    "text": "just as the servers were starting to come down because the UPS had discharged took us took us about 14 or 15 minutes",
    "start": "2145160",
    "end": "2152040"
  },
  {
    "text": "to get there from another facility um super annoying super annoying I could",
    "start": "2152040",
    "end": "2157280"
  },
  {
    "start": "2155000",
    "end": "2231000"
  },
  {
    "text": "have written one of those one of those more detailed it it it happened all at [Music]",
    "start": "2157280",
    "end": "2164789"
  },
  {
    "text": "once yeah so so the fix in this one's obvious because we get exposed to this",
    "start": "2165240",
    "end": "2171079"
  },
  {
    "text": "and we know what's going on we we have multiple switch gear providers they all do the same thing we have gone through",
    "start": "2171079",
    "end": "2176560"
  },
  {
    "text": "the PLC programming on all of them and and we do code reviews on all of our switch gear now and we change this",
    "start": "2176560",
    "end": "2183880"
  },
  {
    "text": "because that's not our goal our goal is the likelihood of their being a direct short in the data center that wasn't",
    "start": "2183880",
    "end": "2189720"
  },
  {
    "text": "already protected by a breaker is very very low the odds of that generator being hurt are incredibly low and when",
    "start": "2189720",
    "end": "2197040"
  },
  {
    "text": "we weigh off the value of the customer server running versus the value of that potential to hurt that 3/4 million",
    "start": "2197040",
    "end": "2203680"
  },
  {
    "text": "dollar generator super obvious what the right answer is and the only I mean I think everybody I think many people would come to the same conclusion but",
    "start": "2203680",
    "end": "2210000"
  },
  {
    "text": "the problem is they don't know how do you know you buy a piece of switch gear you don't know that it's full of software you don't know what the software does and unless you actually",
    "start": "2210000",
    "end": "2216680"
  },
  {
    "text": "have people that are willing to have their appropriate skills auditing someone else's software is super hard to",
    "start": "2216680",
    "end": "2222520"
  },
  {
    "text": "do and most of the switch gear manufacturers would never show it to you anyway I mean so it's just hard to do at smaller scales so that's what we did on",
    "start": "2222520",
    "end": "2229280"
  },
  {
    "text": "that one let's look at some infrastructure application lessons well the first one",
    "start": "2229280",
    "end": "2236119"
  },
  {
    "start": "2231000",
    "end": "2331000"
  },
  {
    "text": "is multi-az is the absolutely the only redundancy model that that um rides",
    "start": "2236119",
    "end": "2244200"
  },
  {
    "text": "through allows testing um allows you to exploit your redundancy I",
    "start": "2244200",
    "end": "2250200"
  },
  {
    "text": "mean I just I love this model super excited by it and one of the cool things I think about AWS is because we're big",
    "start": "2250200",
    "end": "2256880"
  },
  {
    "text": "enough that we can we can offer many many data centers many availability zones inside a single region it means",
    "start": "2256880",
    "end": "2263000"
  },
  {
    "text": "that that this technique is available to every person in this room I think that's that's a cool thing that wasn't possible",
    "start": "2263000",
    "end": "2268839"
  },
  {
    "text": "before I told you about the switch gear it's now program to our own specs um Network resiliency and",
    "start": "2268839",
    "end": "2276000"
  },
  {
    "text": "redundancy um I didn't mention this but two is my least favorite number I guess",
    "start": "2276000",
    "end": "2281079"
  },
  {
    "text": "one might be but two is a terrible number and the and the reason two is is is a is a terrible number is if you have",
    "start": "2281079",
    "end": "2287880"
  },
  {
    "text": "one piece of equipment down for maintenance or you have a fault the other one's just as likely to fail when",
    "start": "2287880",
    "end": "2294520"
  },
  {
    "text": "this one's failing I mean it's it's it's it's a um you're exposed to the risk either way you will get multiple faults",
    "start": "2294520",
    "end": "2300839"
  },
  {
    "text": "occasionally happening on two redundant pieces or you have one piece of gear down for maintenance while the and the",
    "start": "2300839",
    "end": "2306200"
  },
  {
    "text": "other one will fail at the same time I hate two it's super easy um it's almost easier to run um and greater than two",
    "start": "2306200",
    "end": "2313280"
  },
  {
    "text": "than it is two in the network I mean having two huge really expensive core",
    "start": "2313280",
    "end": "2318440"
  },
  {
    "text": "routers or a small number of medium scale routers like eight um it's it's",
    "start": "2318440",
    "end": "2324800"
  },
  {
    "text": "it's it's cheaper even it's it's kind of ironic that that's the way a lot of systems get",
    "start": "2324800",
    "end": "2331280"
  },
  {
    "text": "built okay one last Point um if you're interested in if you're interested in in",
    "start": "2331280",
    "end": "2337680"
  },
  {
    "text": "in reading more and getting into more detail on this I've written down every one of these tricks a few years ago in",
    "start": "2337680",
    "end": "2343200"
  },
  {
    "text": "that paper at the bottom of the screen the only one that's not covered is is multi multi- availability zones within a",
    "start": "2343200",
    "end": "2351119"
  },
  {
    "text": "region and the reason it's not covered is I didn't really understand the model then I mean it's this is I haven't seen",
    "start": "2351119",
    "end": "2358920"
  },
  {
    "text": "that I hadn't seen that model done at scale before and so that's not there but everything else is there so if you're",
    "start": "2358920",
    "end": "2364960"
  },
  {
    "text": "interested in digging deeper feel free to do it um I've appreciated I've appreciated having a chance to talk to",
    "start": "2364960",
    "end": "2370160"
  },
  {
    "text": "you a little bit about this and if you do have questions um I'd love to I'd love to field",
    "start": "2370160",
    "end": "2375920"
  },
  {
    "text": "them any questions at all thank you",
    "start": "2375920",
    "end": "2382400"
  },
  {
    "text": "[Music] [Applause]",
    "start": "2383810",
    "end": "2388649"
  }
]