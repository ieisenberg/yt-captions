[
  {
    "start": "0",
    "end": "82000"
  },
  {
    "text": "hello everybody can y'all hear me okay mic on cool welcome to reinvent is this how many",
    "start": "1790",
    "end": "9630"
  },
  {
    "text": "people's first session is this today how many people just got in and registered this morning okay a few people well",
    "start": "9630",
    "end": "15150"
  },
  {
    "text": "welcome to to reinvent 2017 I hope your first session for the rest of you was was productive and informative this",
    "start": "15150",
    "end": "21630"
  },
  {
    "text": "session is going to be using AWS lamda as a security team my name is Andrew Baird I'm a Solutions Architect out of",
    "start": "21630",
    "end": "27840"
  },
  {
    "text": "our Atlanta office for AWS joined by a colleague of mine Brittany will be speaking at the latter half of the",
    "start": "27840",
    "end": "33120"
  },
  {
    "text": "presentation the two of us work together in Atlanta with some of our larger customers to help them design their",
    "start": "33120",
    "end": "39420"
  },
  {
    "text": "architectures on AWS to follow best practices large companies like you know many of y'all's in the audience are",
    "start": "39420",
    "end": "45210"
  },
  {
    "text": "probably very security conscious so security is a great topic conversation and each of us has a development",
    "start": "45210",
    "end": "50550"
  },
  {
    "text": "background so as soon as AWS lambda was released by AWS a few years ago and as",
    "start": "50550",
    "end": "55559"
  },
  {
    "text": "it's grown and it's a number of events sources and its capabilities the ways in which security teams can leverage lambda",
    "start": "55559",
    "end": "62250"
  },
  {
    "text": "has just you know grown significantly so we see a lot of different security teams take advantage of lambda as a way to you",
    "start": "62250",
    "end": "68909"
  },
  {
    "text": "know revolutionize and modernize their security practices and the point of the presentation today is to kind of help",
    "start": "68909",
    "end": "74100"
  },
  {
    "text": "the folks in the room to kind of join that wave and understand a lot of the different ways you can you can utilize lambda as a security team so the topics",
    "start": "74100",
    "end": "81659"
  },
  {
    "text": "that we're going to go over today we're going to give you an overview of different security topics kind of the",
    "start": "81659",
    "end": "88579"
  },
  {
    "start": "82000",
    "end": "116000"
  },
  {
    "text": "reasons of why we think lambda fits into the security team responsibilities so",
    "start": "88579",
    "end": "93869"
  },
  {
    "text": "well some of the benefits that it brings that will be a you know specific value to security teams and then we're going",
    "start": "93869",
    "end": "99750"
  },
  {
    "text": "to talk about three different areas of security we're going to talk about auditing we're gonna talk about monitoring we're gonna talk about remediation and the ways in which lambda",
    "start": "99750",
    "end": "106170"
  },
  {
    "text": "can fit into those three different pillars of your security team operations and and how you know different",
    "start": "106170",
    "end": "112890"
  },
  {
    "text": "architecture patterns and a demo with each of those four for how lambda can be leveraged so security engineering",
    "start": "112890",
    "end": "118670"
  },
  {
    "start": "116000",
    "end": "248000"
  },
  {
    "text": "typically in the past has been you know in the legacy models have been very",
    "start": "118670",
    "end": "124110"
  },
  {
    "text": "focused on documents spreadsheets policy documents documenting you know the different IT controls that your",
    "start": "124110",
    "end": "129420"
  },
  {
    "text": "applications have to adhere to different processes that teams need to follow in order to gain approval to make",
    "start": "129420",
    "end": "134980"
  },
  {
    "text": "changes a very policy focus very document focused and as we've gone into",
    "start": "134980",
    "end": "141070"
  },
  {
    "text": "kind of more modern practices as your architectures and your infrastructures have you know been built to a different",
    "start": "141070",
    "end": "147100"
  },
  {
    "text": "scale the amount of elasticity that's you know your applications are capable of taking advantage of security",
    "start": "147100",
    "end": "153550"
  },
  {
    "text": "engineering has become part of development there's a lot of development activities that need to take place as part of security so there's been a lot",
    "start": "153550",
    "end": "160000"
  },
  {
    "text": "of work that probably a lot of folks in the room here have done over the past few years to take their security policy",
    "start": "160000",
    "end": "165580"
  },
  {
    "text": "documents whatever compliance frameworks your organization Maps to and create systems write code use tools to make",
    "start": "165580",
    "end": "173200"
  },
  {
    "text": "sure that the the the software that your teams are building that your organization is using is following and",
    "start": "173200",
    "end": "178570"
  },
  {
    "text": "hearing - all the policies you have set so there's been a transition of documents - to code and artifacts now",
    "start": "178570",
    "end": "186010"
  },
  {
    "text": "the whole point of the security engineering organization is to make sure that the data that your company is",
    "start": "186010",
    "end": "191110"
  },
  {
    "text": "storing on behalf of your customers that the the systems that your teams are building are built in a secure way that",
    "start": "191110",
    "end": "196959"
  },
  {
    "text": "the data of those customers is safe and the way in which a lot of this is achieved is through building systems",
    "start": "196959",
    "end": "202959"
  },
  {
    "text": "that introduce server based infrastructure so there's the possibility that as you continue to",
    "start": "202959",
    "end": "208570"
  },
  {
    "text": "build more and more systems to monitor and enforce the policy of your",
    "start": "208570",
    "end": "215440"
  },
  {
    "text": "organization you're also you know at the same time introducing more and more systems that both have to be patched have to be paid for have to be monitored",
    "start": "215440",
    "end": "221860"
  },
  {
    "text": "have to be protected a lot of different customers that are building with the server based solutions and their",
    "start": "221860",
    "end": "227110"
  },
  {
    "text": "approach to security are introducing a lot of components that become very attractive targets - you know malicious attacks so wouldn't it be a great thing",
    "start": "227110",
    "end": "235299"
  },
  {
    "text": "if you could kind of achieve the same goals that you're pursuing with writing code and building systems to enforce",
    "start": "235299",
    "end": "241239"
  },
  {
    "text": "your policies without having to worry about any of the the different burdens that servers introduce into your",
    "start": "241239",
    "end": "246790"
  },
  {
    "text": "architecture so that's where lambda comes in now so there's no infrastructure to manage and all the things that come with not managing",
    "start": "246790",
    "end": "253090"
  },
  {
    "start": "248000",
    "end": "342000"
  },
  {
    "text": "infrastructure all those benefits I was alluding to not having to not having to patch those servers not having to",
    "start": "253090",
    "end": "258459"
  },
  {
    "text": "operationalize you know all the processes around the servers not having to provision them not having to pay for them when they're not being used you're",
    "start": "258459",
    "end": "264550"
  },
  {
    "text": "only paying for what you you sell a lot of different cases the security software that you're deploying on your server based infrastructure",
    "start": "264550",
    "end": "270160"
  },
  {
    "text": "could require some pretty hefty compute mcurtin require some pretty heavy licensing within the within the",
    "start": "270160",
    "end": "275620"
  },
  {
    "text": "operating system so the idea that you could achieve the same type of policy enforcement and security operations",
    "start": "275620",
    "end": "282130"
  },
  {
    "text": "through something like lambda where you're you're not paying for any idle compute time can be a really big you",
    "start": "282130",
    "end": "287860"
  },
  {
    "text": "know cost reduction driver for your security organization the last benefit",
    "start": "287860",
    "end": "293260"
  },
  {
    "text": "bring your own code so you got the the concept of still working with the modern",
    "start": "293260",
    "end": "298660"
  },
  {
    "text": "you know high-level programming languages that there's a ton of best practices a lot of tools that you know",
    "start": "298660",
    "end": "305410"
  },
  {
    "text": "natively work with those languages you can still bring your own code build your own logic and force your own policies through that code with lambda there's",
    "start": "305410",
    "end": "312280"
  },
  {
    "text": "not too many restrictions at all for the type of you know handlers you're gonna build the type of logic you're gonna",
    "start": "312280",
    "end": "317710"
  },
  {
    "text": "write inside of lambda so really flexible to achieve whatever logic your security enforcement requirements are",
    "start": "317710",
    "end": "323550"
  },
  {
    "text": "all of the benefits around not managing infrastructure a lot of time security teams you know don't have the large",
    "start": "323550",
    "end": "330100"
  },
  {
    "text": "operational budgets that your business application teams have so being able to reduce that operational burden it could be a big work-life balance when for your",
    "start": "330100",
    "end": "336490"
  },
  {
    "text": "security team and all the cost-effectiveness of not having to pay for ongoing server time is a huge benefit too so really high level just in",
    "start": "336490",
    "end": "344290"
  },
  {
    "start": "342000",
    "end": "428000"
  },
  {
    "text": "case there's folks in the rooms who in the room who haven't haven't used lambda yet the tip kind of generalized",
    "start": "344290",
    "end": "350470"
  },
  {
    "text": "architecture that lambda sits within looks like this and so lambda is at the center there and you'll create what's called a function and a lambda function",
    "start": "350470",
    "end": "357220"
  },
  {
    "text": "contains all the code the logic that you've written and anytime that lambda function runs whichever whatever code",
    "start": "357220",
    "end": "363070"
  },
  {
    "text": "you've uploaded to the function will execute the way in which that code is executed is defined by the event sources",
    "start": "363070",
    "end": "368860"
  },
  {
    "text": "so there's a few dozen different event sources that are available on AWS today and it's a it's an area of the services that continues to grow so it could be as",
    "start": "368860",
    "end": "376240"
  },
  {
    "text": "changes are occurring in your environment and maybe it's you know data arriving in an s3 bucket maybe it's a new bucket that was created changes to a",
    "start": "376240",
    "end": "382630"
  },
  {
    "text": "security group all of those things can translate through one service or another into an event that can be sent to your",
    "start": "382630",
    "end": "389710"
  },
  {
    "text": "lambda function and trigger an invocation so you once you've configured the code you've written and created a lambda",
    "start": "389710",
    "end": "395680"
  },
  {
    "text": "function and define what its triggers are as event sources that lambda function will run anytime",
    "start": "395680",
    "end": "401050"
  },
  {
    "text": "those events have occurred within the environment and then your lambda function is free to reach out to any other services that it needs to so again",
    "start": "401050",
    "end": "408310"
  },
  {
    "text": "it's your code you've got you know free control over the over the runtime environment for whatever language you've",
    "start": "408310",
    "end": "413770"
  },
  {
    "text": "written your function in so whatever your function needs to do to check compliance requirements - you know",
    "start": "413770",
    "end": "419290"
  },
  {
    "text": "remediation figuration changes they've deemed aren't compliant to monitor the environment and audit it your lambda",
    "start": "419290",
    "end": "425169"
  },
  {
    "text": "function and the code you write is free to do those things okay so I'm gonna kick it off with our first demo so this",
    "start": "425169",
    "end": "432880"
  },
  {
    "start": "428000",
    "end": "447000"
  },
  {
    "text": "is just gonna be a hypothetical situation typical developer that might exist within the organization maybe it's",
    "start": "432880",
    "end": "438490"
  },
  {
    "text": "maybe it's you and an administrator who you know runs into a couple roadblocks and cut some corners so I'm gonna switch",
    "start": "438490",
    "end": "445900"
  },
  {
    "text": "over to my laptop here so I as a developer I have a reason whatever that",
    "start": "445900",
    "end": "451120"
  },
  {
    "start": "447000",
    "end": "646000"
  },
  {
    "text": "reason maybe I need to debug something and up in a production database I have admin credentials within this",
    "start": "451120",
    "end": "456820"
  },
  {
    "text": "account and so I'm gonna try and log into my bastion host we've got a bastion host great security practice I'm not",
    "start": "456820",
    "end": "461860"
  },
  {
    "text": "gonna directly connect to a database in production from my laptop so we're gonna go through a bastion host so I'm gonna",
    "start": "461860",
    "end": "467530"
  },
  {
    "text": "go in and open my terminal here and try",
    "start": "467530",
    "end": "474729"
  },
  {
    "text": "and connect to it and it's gonna hang okay right we have good security policies my bastion host hasn't",
    "start": "474729",
    "end": "480850"
  },
  {
    "text": "whitelist of my IP address let me back out of here get into the console find my security group for the bastion and",
    "start": "480850",
    "end": "487030"
  },
  {
    "text": "whitelist my specific IP address so let's go through that step and I as an",
    "start": "487030",
    "end": "492160"
  },
  {
    "text": "administrator I'm already kind of like this is taking more time than it should so I'm beginning to you know think about",
    "start": "492160",
    "end": "497740"
  },
  {
    "text": "my deadlines and how I have a meeting in 15 minutes so let's add a rule it's",
    "start": "497740",
    "end": "503110"
  },
  {
    "text": "going to be an ssh rule okay port 22 we're gonna grab my IP address we're",
    "start": "503110",
    "end": "510160"
  },
  {
    "text": "gonna save it alright let's get back into the terminal here try again all",
    "start": "510160",
    "end": "519280"
  },
  {
    "text": "right ran cool okay now let's do connect to my sequel database let's enter the",
    "start": "519280",
    "end": "525220"
  },
  {
    "text": "password oh it's hanging another security group I need to update it okay",
    "start": "525220",
    "end": "531100"
  },
  {
    "text": "that's a let's back out of here so I need to make sure now I'm talking about production database I'm in the",
    "start": "531100",
    "end": "536380"
  },
  {
    "text": "Bastion I think I need to go into the RDS security group let's uh update it",
    "start": "536380",
    "end": "542050"
  },
  {
    "text": "I'm gonna add a rule to my sequel port",
    "start": "542050",
    "end": "547620"
  },
  {
    "text": "just that's this aging it just so I didn't have to remember the elastic IP yeah question was what else is that",
    "start": "552150",
    "end": "559450"
  },
  {
    "text": "script doing so it's just just retaining the SSH so I'm gonna save it and you know what I",
    "start": "559450",
    "end": "564880"
  },
  {
    "text": "don't want to have to come back here just in case I forget how this whole thing works I'm gonna edit this security",
    "start": "564880",
    "end": "570520"
  },
  {
    "text": "group and it's just for a minute here I'm gonna go back and and you know don't",
    "start": "570520",
    "end": "576280"
  },
  {
    "text": "tell anybody I'm just gonna open this up to the world just for a minute I'm gonna",
    "start": "576280",
    "end": "581350"
  },
  {
    "text": "change it don't worry I'm gonna change it back and then we're gonna get back here to my terminal and to my password",
    "start": "581350",
    "end": "589560"
  },
  {
    "text": "and to the wrong password let me enter it again and I'm in okay I'm in my",
    "start": "589560",
    "end": "598330"
  },
  {
    "text": "database now you can say oh you know I'll show my tables remember semicolon databases okay I",
    "start": "598330",
    "end": "608530"
  },
  {
    "text": "meant alright so now I gotta run to my meeting and you know come back to this and remember probably and the rest of my",
    "start": "608530",
    "end": "614080"
  },
  {
    "text": "day that I just opened production database open to the world so let's hope that I remember that but you know not",
    "start": "614080",
    "end": "619840"
  },
  {
    "text": "necessarily a malicious attempt to do anything within the account but developers that have accessed that maybe",
    "start": "619840",
    "end": "625090"
  },
  {
    "text": "aren't aware of all the changes that are making very you know possible that they could miss configure something and you",
    "start": "625090",
    "end": "630790"
  },
  {
    "text": "know without being a malicious actor left a door open so let's jump back into",
    "start": "630790",
    "end": "635860"
  },
  {
    "text": "our presentation all right all right so",
    "start": "635860",
    "end": "642430"
  },
  {
    "text": "now we're going to talk about the three different pillars we're gonna start with auditing so forget that you know I left",
    "start": "642430",
    "end": "648490"
  },
  {
    "start": "646000",
    "end": "714000"
  },
  {
    "text": "the door wide open that's probably gonna be fine for now you know just just assume it's okay so typical goals when",
    "start": "648490",
    "end": "654580"
  },
  {
    "text": "teams are auditing these are the questions that we'd hear teams typically want to answer when they went out at their environment they want to know",
    "start": "654580",
    "end": "660190"
  },
  {
    "text": "what's the state of my environment right now they want to know whatever state it's then wanted to last change they",
    "start": "660190",
    "end": "665800"
  },
  {
    "text": "want to know who changed it if there's a question I have about the state that it's in and how it got there who made that state",
    "start": "665800",
    "end": "671200"
  },
  {
    "text": "change and then how can I trust this record of State how can I know that what's being reported to me as a state",
    "start": "671200",
    "end": "677080"
  },
  {
    "text": "actually reflects what's implemented in reality and that the types of mechanisms that companies usually you know pursue",
    "start": "677080",
    "end": "684339"
  },
  {
    "text": "and implement in order to answer those questions are listed here you know they they generate a lot of logs they archive",
    "start": "684339",
    "end": "689620"
  },
  {
    "text": "them so that they can triage them and look at you know changes that are made through the logs they've got some type of change management database that lists",
    "start": "689620",
    "end": "696070"
  },
  {
    "text": "all the configuration information for their details in their environment they have some type of process that ensures",
    "start": "696070",
    "end": "701260"
  },
  {
    "text": "the only people that are making changes they get reflected in the CMDB were approved as part of a process and then",
    "start": "701260",
    "end": "707380"
  },
  {
    "text": "there's a lot of really tight access control the type of people that can make changes to the environment are very tightly you know restricted it's a",
    "start": "707380",
    "end": "712750"
  },
  {
    "text": "select group of people okay at the center of all of those things is this",
    "start": "712750",
    "end": "718029"
  },
  {
    "start": "714000",
    "end": "951000"
  },
  {
    "text": "this presence of audit logs so within that old type of model where it's very",
    "start": "718029",
    "end": "724269"
  },
  {
    "text": "policy driven a policy document driven and a lot of process and around who when",
    "start": "724269",
    "end": "729790"
  },
  {
    "text": "your team members are allowed to make changes and a lot of Approval around those change we see customers that were",
    "start": "729790",
    "end": "734980"
  },
  {
    "text": "able to be you know mildly successful having audit logs that you know fit those top three bullet points that you",
    "start": "734980",
    "end": "741610"
  },
  {
    "text": "know they're the outputs of some you know ticketing system internally that's capturing the requests for what the",
    "start": "741610",
    "end": "747220"
  },
  {
    "text": "change to the environment was and that's treated like an audit log changes that are made out of band when an operational",
    "start": "747220",
    "end": "753310"
  },
  {
    "text": "issue happens people can kind of cut through the process and leave inaccuracies within their environment and there's a lot of customers that like",
    "start": "753310",
    "end": "759790"
  },
  {
    "text": "to capture everything all of the details and data that's you know changing within their environment when it's time to go",
    "start": "759790",
    "end": "764980"
  },
  {
    "text": "through an audit and understand if their environment is compliant against whatever framework they're being held",
    "start": "764980",
    "end": "770350"
  },
  {
    "text": "against there's a lot of noise they have to sift through there's a ton of different data and what auto logs should",
    "start": "770350",
    "end": "775600"
  },
  {
    "text": "really get down to B is is these things they should be immutable whenever these logs are generated they should you",
    "start": "775600",
    "end": "780670"
  },
  {
    "text": "should know and have confidence that those logs can never be changed they should be coupled with reality so the",
    "start": "780670",
    "end": "785980"
  },
  {
    "text": "changes that are occurring within your environment they should be the things creating the artifacts that are logged they should not be part of a process",
    "start": "785980",
    "end": "792519"
  },
  {
    "text": "output documented and and in a literal document it should have been triggered",
    "start": "792519",
    "end": "797680"
  },
  {
    "text": "out of something that occurred with the environment itself and they should be compliance focused so if you're",
    "start": "797680",
    "end": "803040"
  },
  {
    "text": "actually playing planning for an audit your organization gets audited whether it be internally by a team or against",
    "start": "803040",
    "end": "808410"
  },
  {
    "text": "against the framework it's a great idea to make sure that all of your audit logs are you know sifted through so that when",
    "start": "808410",
    "end": "813870"
  },
  {
    "text": "it comes time to you know go through an attestation that you have a very condensed set of you know condense",
    "start": "813870",
    "end": "820830"
  },
  {
    "text": "testimony that you're really you know achieving your compliance from the audit logs because there's not a lot of noise",
    "start": "820830",
    "end": "826920"
  },
  {
    "text": "there so the reason why the typical process kind of falls short now if you create audit logs in the way it's it if",
    "start": "826920",
    "end": "833100"
  },
  {
    "text": "this is a process that sounds familiar it probably isn't going to scale very well so you have security engineer who",
    "start": "833100",
    "end": "838290"
  },
  {
    "text": "needs the audit the environment and they need to answer the question what's changed does anything changed in my environment since I last looked and if",
    "start": "838290",
    "end": "845100"
  },
  {
    "text": "the answer that question is no then then you're kind of doing it wrong so you're",
    "start": "845100",
    "end": "850590"
  },
  {
    "text": "doing it wrong in a couple different ways and this is a reference to an old text-based adventure game where you couldn't really you know adventure in",
    "start": "850590",
    "end": "856620"
  },
  {
    "text": "the dark and if you tried this you know fantastical beasts would would you know you would meet your demise so if you're",
    "start": "856620",
    "end": "862920"
  },
  {
    "text": "checking your environment so frequently in AWS that changes aren't occurring between those checks either means one",
    "start": "862920",
    "end": "868680"
  },
  {
    "text": "you're spending too much manual time reviewing your environment or two you're not letting your team's take advantage of all the agility and elasticity",
    "start": "868680",
    "end": "875130"
  },
  {
    "text": "that's that AWS enables for them so realistically it's going to look more like this if your teams are able to take",
    "start": "875130",
    "end": "880680"
  },
  {
    "text": "advantage of the features that would give them something changed and what changed everything probably changed all",
    "start": "880680",
    "end": "888180"
  },
  {
    "text": "of the things can change in your environment between two different checks so if you want to really revolutionize the way that you're gonna you know",
    "start": "888180",
    "end": "894660"
  },
  {
    "text": "perform auditing activities within your account it should be a process that that more typically looks like this and",
    "start": "894660",
    "end": "899880"
  },
  {
    "text": "rather than having a person exists at the front of this question you've got software you've got code you've got a lambda function that's going to execute",
    "start": "899880",
    "end": "908220"
  },
  {
    "text": "and answer these questions within its code and be an extension of the decision-making processes that your team",
    "start": "908220",
    "end": "913350"
  },
  {
    "text": "has so as a change occurs we're going to evaluate is the change of just the card meet the compliance requirements that",
    "start": "913350",
    "end": "919500"
  },
  {
    "text": "we've set forth for our organization if the answer is if the answer is yes then",
    "start": "919500",
    "end": "925380"
  },
  {
    "text": "the changes come if something changed and it's applicable to our compliance framework and it's compliant let's just",
    "start": "925380",
    "end": "931410"
  },
  {
    "text": "archive it if the change that just occurred is not compliant something happened and you need to take action with that that means",
    "start": "931410",
    "end": "937490"
  },
  {
    "text": "alert somebody whether it means to mark that resources not compliant whether it's you know wake somebody up in the",
    "start": "937490",
    "end": "943490"
  },
  {
    "text": "middle the night because the security issue may have just happened all of these things and questions can be answered and and address through code",
    "start": "943490",
    "end": "950829"
  },
  {
    "text": "alright so the different services that allow you to perform these auditing activities and write those lambda",
    "start": "950829",
    "end": "956060"
  },
  {
    "text": "functions that have that type of you know that type of state machine and answer those questions so first AWS",
    "start": "956060",
    "end": "962209"
  },
  {
    "text": "cloud trail and cloud watch logs and configuring from big rules and I'll kind of step through them in a second these",
    "start": "962209",
    "end": "968029"
  },
  {
    "text": "slides will be available to you so don't worry if I skip through a photo before you take a picture so cloud trail is is your audit log of",
    "start": "968029",
    "end": "975320"
  },
  {
    "start": "971000",
    "end": "991000"
  },
  {
    "text": "all of your AWS activity for all the for all the services that are supported by the service any API calls that are made",
    "start": "975320",
    "end": "981320"
  },
  {
    "text": "there will be an event trail of all of those calls that occur so that you can see all of the events that happen over",
    "start": "981320",
    "end": "987560"
  },
  {
    "text": "time all the way PAP i-- calls that have been made cloud watch logs is a service",
    "start": "987560",
    "end": "994579"
  },
  {
    "start": "991000",
    "end": "1023000"
  },
  {
    "text": "where you either your application logs you can forward to the service or there's a number of different aw service logs that natively outport logged data",
    "start": "994579",
    "end": "1002110"
  },
  {
    "text": "to cloud watch logs where you can create a subscription to a lambda function and have all of those logs be processed by",
    "start": "1002110",
    "end": "1008019"
  },
  {
    "text": "lambda function you right so as those logs are processed you can evaluate each log statement if anything suspicious",
    "start": "1008019",
    "end": "1013510"
  },
  {
    "text": "happens in particular exception may be an access denied those kind of things you'll be able to create a cloud watch",
    "start": "1013510",
    "end": "1019750"
  },
  {
    "text": "logs subscription from a lambda function to to evaluate those things AWS config is a little bit analogous to",
    "start": "1019750",
    "end": "1028209"
  },
  {
    "start": "1023000",
    "end": "1138000"
  },
  {
    "text": "a change management database on AWS but because of the scale and the elasticity that you work with on top of AWS it's",
    "start": "1028209",
    "end": "1034480"
  },
  {
    "text": "it's got the ability to show you all of the changes that occurred to a particular resource that's been",
    "start": "1034480",
    "end": "1039490"
  },
  {
    "text": "discovered by the sort of service over time and as those changes occur and not only will it record the configuration",
    "start": "1039490",
    "end": "1045308"
  },
  {
    "text": "changes but you can also trigger what are called config rules and those configure oles themselves will be lambda functions and those lambda functions can",
    "start": "1045309",
    "end": "1052510"
  },
  {
    "text": "look at the configuration change that's just occurred to a resource and decide if it's compliant or not so that change",
    "start": "1052510",
    "end": "1057760"
  },
  {
    "text": "could be somebody's updated necessary bucket policy somebody's launched a new ec2 instance and you're not sure if the",
    "start": "1057760",
    "end": "1063880"
  },
  {
    "text": "tag matches your standards some of created a volume and it should be encrypted and you can evaluate its",
    "start": "1063880",
    "end": "1069160"
  },
  {
    "text": "configuration to see if it's encrypted so configures a service that you can plug in to retrieve all of the resource",
    "start": "1069160",
    "end": "1075610"
  },
  {
    "text": "and configuration changes that are happening within your account and as those changes occur automatically trigger a lambda function that you've",
    "start": "1075610",
    "end": "1081760"
  },
  {
    "text": "written to evaluate that change and whether you're in an organization where your account has you know thousands upon",
    "start": "1081760",
    "end": "1087250"
  },
  {
    "text": "thousands of configuration changes a day or an account where maybe it's for you",
    "start": "1087250",
    "end": "1092380"
  },
  {
    "text": "know personal use or it's a smaller business or it's the type of configuration where its mission critically important to your business",
    "start": "1092380",
    "end": "1097930"
  },
  {
    "text": "like the policy for an s3 bucket that contains you know private customer",
    "start": "1097930",
    "end": "1103030"
  },
  {
    "text": "information but the policy for it should not change very often so whether it's",
    "start": "1103030",
    "end": "1108130"
  },
  {
    "text": "either one of those two states you'll get a lot of benefit from using lambda because either will scale to the level that you need regardless of how",
    "start": "1108130",
    "end": "1114760"
  },
  {
    "text": "frequently those changes are occurring or you're not going to be paying for idle compute time even though you've written a rule that's gonna let you know",
    "start": "1114760",
    "end": "1120640"
  },
  {
    "text": "anytime somebody's change that mission-critical s3 buckets policy it may never run and you're never going to pay for that lambda function unless it",
    "start": "1120640",
    "end": "1127000"
  },
  {
    "text": "does unless that configuration does change so really really compelling scaling mechanism here and",
    "start": "1127000",
    "end": "1133510"
  },
  {
    "text": "cost-effective cost effectiveness when using lambda for this type of architecture and the last one for",
    "start": "1133510",
    "end": "1140200"
  },
  {
    "text": "auditing that's become really popular really popular for a lot of different",
    "start": "1140200",
    "end": "1145690"
  },
  {
    "text": "security teams on AWS is using lambda as the auditor itself is to deploy this kind of architecture where you as a",
    "start": "1145690",
    "end": "1151600"
  },
  {
    "text": "security team own your own account and it has Federation credentials Federation writes in to all of the other",
    "start": "1151600",
    "end": "1157630"
  },
  {
    "text": "applications accounts within your organization that lambda function will",
    "start": "1157630",
    "end": "1162640"
  },
  {
    "text": "you know one by one through the security token service api's get AWS credentials",
    "start": "1162640",
    "end": "1168580"
  },
  {
    "text": "to those accounts and then call API is within that account to describe resources to remediate you know",
    "start": "1168580",
    "end": "1173920"
  },
  {
    "text": "configurations as needed and that lambda function is you know code that's fully written by you and owned by you and",
    "start": "1173920",
    "end": "1179800"
  },
  {
    "text": "you've got free rein over all of those other application accounts within your organization so they don't need to worry",
    "start": "1179800",
    "end": "1185470"
  },
  {
    "text": "about deploying your code or maintaining it within their own accounts you operate within your own account with rights to",
    "start": "1185470",
    "end": "1190540"
  },
  {
    "text": "federated into their accounts so this is a really popular model okay all right demo let's jump into it so let's get",
    "start": "1190540",
    "end": "1196930"
  },
  {
    "start": "1194000",
    "end": "1202000"
  },
  {
    "text": "back to I'm back from my meeting and let's jump here see what's occurred so this demo",
    "start": "1196930",
    "end": "1205660"
  },
  {
    "start": "1202000",
    "end": "1217000"
  },
  {
    "text": "architecture I just had on the screen is going to show you the security group changes you watched me make and I've set",
    "start": "1205660",
    "end": "1210670"
  },
  {
    "text": "up a config rule in the background so if I go to the config service I've defined",
    "start": "1210670",
    "end": "1218410"
  },
  {
    "start": "1217000",
    "end": "1351000"
  },
  {
    "text": "specific policies that have said there's only one specific IP address or one security group that I'm allowing my",
    "start": "1218410",
    "end": "1225340"
  },
  {
    "text": "security group to be open to for that database if I see that production database have a security group change",
    "start": "1225340",
    "end": "1230890"
  },
  {
    "text": "that allows access to any other security group other than its application tier I'm going to mark it not compliant so",
    "start": "1230890",
    "end": "1237340"
  },
  {
    "text": "within the config service I've got a rule created it's called whitelist of my sequel security group and what I've configured",
    "start": "1237340",
    "end": "1243640"
  },
  {
    "text": "here is config lets me narrow down the scope of my configuration change",
    "start": "1243640",
    "end": "1248830"
  },
  {
    "text": "triggers down to the specific resource that I care about so I'm going to",
    "start": "1248830",
    "end": "1254020"
  },
  {
    "text": "trigger this lambda function to run anytime a resource of type security group experiences a change but",
    "start": "1254020",
    "end": "1260170"
  },
  {
    "text": "specifically only for security groups that match the specific identifier so that's a security group resource identifier for on that that database of",
    "start": "1260170",
    "end": "1267610"
  },
  {
    "text": "security group I've got a couple parameters here I've listed the port that I care about and this is the",
    "start": "1267610",
    "end": "1273430"
  },
  {
    "text": "approved security group it's application tier they're going to be sent to a lambda function that I've written and the lambda function is going to get the",
    "start": "1273430",
    "end": "1280000"
  },
  {
    "text": "configuration for that security group evaluate its new state and then market compliant are not compliant so it makes",
    "start": "1280000",
    "end": "1285430"
  },
  {
    "text": "a callback to the config service and declares a compliant or not compliant so in this case I made a change that was clearly not compliant so now as a",
    "start": "1285430",
    "end": "1292300"
  },
  {
    "text": "security team if I wanted to see the state of the environment today I would could come to the config service and notice that hey there's a security group",
    "start": "1292300",
    "end": "1298120"
  },
  {
    "text": "that's not compliant right now I better take a look at it and even though that feels like you know there's a manual",
    "start": "1298120",
    "end": "1304300"
  },
  {
    "text": "process there you don't have to stop there you don't have to just mark it as not compliant configured as a service",
    "start": "1304300",
    "end": "1309610"
  },
  {
    "text": "also lets you create a push all the configuration changes to SMS topic so if you want to utilize us and that's topics",
    "start": "1309610",
    "end": "1315970"
  },
  {
    "text": "as a place where you continue to do more processing against configuration updates that have happened if you'd like SMS to",
    "start": "1315970",
    "end": "1321280"
  },
  {
    "text": "send you emails if you like that lambda function config role to perform some other action rather than just mark a",
    "start": "1321280",
    "end": "1326890"
  },
  {
    "text": "non-compliant you'll be able to do that so one example of using lambda within",
    "start": "1326890",
    "end": "1332020"
  },
  {
    "text": "another service that's security focused to to mark changes that have occurred as",
    "start": "1332020",
    "end": "1337210"
  },
  {
    "text": "not compliant okay all right let's jump",
    "start": "1337210",
    "end": "1343150"
  },
  {
    "text": "back to the presentation all right that",
    "start": "1343150",
    "end": "1349750"
  },
  {
    "text": "was the demo all right so recap on auditing so remember that there's two",
    "start": "1349750",
    "end": "1356080"
  },
  {
    "start": "1351000",
    "end": "1485000"
  },
  {
    "text": "services that are really mission-critical whenever you want to be able to audit your AWS environment and you should have them enabled in every",
    "start": "1356080",
    "end": "1361450"
  },
  {
    "text": "region in every account that's the best practice we recommend and that's cloud trail and config if you want to be able",
    "start": "1361450",
    "end": "1367300"
  },
  {
    "text": "to you know at the time of triage go into either one of those services and see real changes that have occurred",
    "start": "1367300",
    "end": "1372400"
  },
  {
    "text": "you're gonna need to have those services enabled and all of the other services that generate logs we have cloud watch",
    "start": "1372400",
    "end": "1379780"
  },
  {
    "text": "locks capabilities to have those logs be sent to cloud watch so it's really important that you subscribe to those",
    "start": "1379780",
    "end": "1385750"
  },
  {
    "text": "service logs with cloud with cloud watch logs and create lambda functions to consume them and do whatever interesting",
    "start": "1385750",
    "end": "1391270"
  },
  {
    "text": "actions you'd like to perform within cloud watch logs although the logs that do generate it's",
    "start": "1391270",
    "end": "1396430"
  },
  {
    "text": "important that you per system there's really cool capabilities in Glacier where you can write once to ensure that nobody's got the ability to affect that",
    "start": "1396430",
    "end": "1402760"
  },
  {
    "text": "data once it's been written great for audit logs as three obviously ice bucket policies where you're able to ensure",
    "start": "1402760",
    "end": "1409090"
  },
  {
    "text": "that nobody has has write permissions other than whatever is you know the the role that's assigned to your lambda function that's actually performing the",
    "start": "1409090",
    "end": "1415270"
  },
  {
    "text": "rights to a particular to a particular bucket so setting up your policy setting up your your lifecycle rules within s3",
    "start": "1415270",
    "end": "1421720"
  },
  {
    "text": "to make sure that nobody's able to change your audit logs once they're",
    "start": "1421720",
    "end": "1426970"
  },
  {
    "text": "stored and the big key here is to take all the audit logs that are generated all the different log sources between",
    "start": "1426970",
    "end": "1432280"
  },
  {
    "text": "your applications between the AWS services and services like config and cloud trail is they have them play an",
    "start": "1432280",
    "end": "1438490"
  },
  {
    "text": "active role within your environment don't just treat them as something that gets retained and archived for some",
    "start": "1438490",
    "end": "1443980"
  },
  {
    "text": "later operational manual process make them be an active input into an event-driven decision for your security",
    "start": "1443980",
    "end": "1449860"
  },
  {
    "text": "team because that's what's gonna let you scale and that's what's gonna let your policy scale inside an environment on",
    "start": "1449860",
    "end": "1455140"
  },
  {
    "text": "top of AWS that's going to be elastically changing 24 by 7 and rather than having to wake up potentially in",
    "start": "1455140",
    "end": "1461380"
  },
  {
    "text": "the middle of the night when those changes occur just let that code make decisions for you at 3:03 in the morning and you can you can sleep easy",
    "start": "1461380",
    "end": "1467380"
  },
  {
    "text": "so last bonus we're gonna call out Capital One has a great open source project that really follows what I've",
    "start": "1467380",
    "end": "1473680"
  },
  {
    "text": "kind of described here for you know security best practices using Lam that's called cloud custodian so take a look at",
    "start": "1473680",
    "end": "1479440"
  },
  {
    "text": "that project they made available if you if you want to stand on the shoulders of others that's a great project and a great place to start all right thank you",
    "start": "1479440",
    "end": "1490290"
  },
  {
    "text": "so I'm Brittany and we're gonna spend the second half of this talk talking about how you can use lambda to help",
    "start": "1490290",
    "end": "1497890"
  },
  {
    "text": "with your security security monitoring as well as your security remediation so",
    "start": "1497890",
    "end": "1504810"
  },
  {
    "start": "1504000",
    "end": "1608000"
  },
  {
    "text": "everybody today probably has a sock that suck consists a lot of tools mostly",
    "start": "1504810",
    "end": "1512710"
  },
  {
    "text": "their cloning through a bunch of logs trying to find that needle in the haystack that's really important to your",
    "start": "1512710",
    "end": "1517750"
  },
  {
    "text": "organization and they're trying to figure out what's important to your organization but without a lot of",
    "start": "1517750",
    "end": "1524950"
  },
  {
    "text": "context for your business or your infrastructure right and you probably have a bunch of people watching those",
    "start": "1524950",
    "end": "1530590"
  },
  {
    "text": "screens waiting for that needle in the haystack to pop up one of the the biggest problems one of the biggest",
    "start": "1530590",
    "end": "1535960"
  },
  {
    "text": "concerns we hear today is just this information overload all this data that you have to to comb through as a",
    "start": "1535960",
    "end": "1542110"
  },
  {
    "text": "security team and what are you really getting out of this right like how much insight are you really obtaining from",
    "start": "1542110",
    "end": "1549910"
  },
  {
    "text": "all of these false positives that are probably driven by these logs and these alerts that your security team is now",
    "start": "1549910",
    "end": "1556210"
  },
  {
    "text": "spending up to try and go figure out is that really something I need to worry about is it not something I need to worry about and as you start to look at",
    "start": "1556210",
    "end": "1563860"
  },
  {
    "text": "AWS and that the scale and the speed at which people will be able to use the infrastructure it starts to become an",
    "start": "1563860",
    "end": "1570070"
  },
  {
    "text": "automated kind of thing that you have to automate your security monitoring you can't wait for oh you know you used to",
    "start": "1570070",
    "end": "1577420"
  },
  {
    "text": "be somebody racked and sacked it and there's a very manual process to kind of get that into your monitoring tools and",
    "start": "1577420",
    "end": "1582730"
  },
  {
    "text": "now it has to be an automated way and you have to have automation setup so",
    "start": "1582730",
    "end": "1588250"
  },
  {
    "text": "that you can see win infrastructure changes and you can see all those changes and lambda can help you do that",
    "start": "1588250",
    "end": "1594880"
  },
  {
    "text": "and we're going to look at some of the security monitoring tools that we provide in a tour bus and how lambda can help you filter out",
    "start": "1594880",
    "end": "1602110"
  },
  {
    "text": "some of the noise and get the information that's that's going to be important to your organization so before",
    "start": "1602110",
    "end": "1609490"
  },
  {
    "text": "we dive into the integration points with each each of these services we're going to just really quick touch on the",
    "start": "1609490",
    "end": "1615940"
  },
  {
    "text": "services that are going to be important to most security teams so a lot of these Andrew already touched on so I'll keep",
    "start": "1615940",
    "end": "1622240"
  },
  {
    "text": "it brief we have Amazon Cloud Watch so everybody should be familiar with that right it's",
    "start": "1622240",
    "end": "1627430"
  },
  {
    "text": "what allows you to monitor your resources in AWS part of Amazon Cloud watches Amazon Cloud watch logs so as",
    "start": "1627430",
    "end": "1634690"
  },
  {
    "text": "Andrew already mentioned cloud watch logs allow you to allows you to aggregate and filter log data that could be log data from your applications it",
    "start": "1634690",
    "end": "1641620"
  },
  {
    "text": "could be log data from your servers it could be other log data that we'll also look at in a minute and there's also",
    "start": "1641620",
    "end": "1648340"
  },
  {
    "text": "Amazon Cloud watch events so again he already touched on this but cloud watch events allows you to get event-driven",
    "start": "1648340",
    "end": "1653860"
  },
  {
    "text": "notifications of changes that are happening to your a device resources and you can react to those via Lamba next we",
    "start": "1653860",
    "end": "1661060"
  },
  {
    "text": "have cloud trail so again that's your audit trail for any API calls that are happening within your ad of a simpler",
    "start": "1661060",
    "end": "1666820"
  },
  {
    "text": "structure and the last one on that first row is vpz flow logs so VPC flow logs",
    "start": "1666820",
    "end": "1673360"
  },
  {
    "text": "gives you and gives you kind of like a net flow type log that shows you accept",
    "start": "1673360",
    "end": "1679930"
  },
  {
    "text": "and reject traffic happening within your VPC right so if traffic has been",
    "start": "1679930",
    "end": "1685330"
  },
  {
    "text": "accepted or rejected to a particularly ni and elastic network interface within your V PC it will show you that log with",
    "start": "1685330",
    "end": "1692050"
  },
  {
    "text": "him V PC flow logs and so you can determine was that you know was that",
    "start": "1692050",
    "end": "1697540"
  },
  {
    "text": "rejected based on an Akal that I have set up or a security group that I have set up etc lastly at the bottom is",
    "start": "1697540",
    "end": "1704380"
  },
  {
    "text": "Amazon Macey it's a new service some people may be familiar with it some may not be it came out a little bit earlier",
    "start": "1704380",
    "end": "1712330"
  },
  {
    "text": "this year it's a really powerful service if you haven't looked at it I definitely suggest taking a look and we'll dive",
    "start": "1712330",
    "end": "1719140"
  },
  {
    "text": "into it a little bit more in in a minute but essentially what it gives you is it's a security monitoring service that",
    "start": "1719140",
    "end": "1726420"
  },
  {
    "text": "uses machine learning and it combines not only user access patterns to your",
    "start": "1726420",
    "end": "1731740"
  },
  {
    "text": "data but it combines that with a data classification of that data so an understanding of how critical that data",
    "start": "1731740",
    "end": "1738250"
  },
  {
    "text": "is to your business so that it's only alerting you on things that are really important data that's really important",
    "start": "1738250",
    "end": "1745240"
  },
  {
    "text": "to your business that's being accessed in an anomalous way so it helps to kind of filter out some of that noise so if",
    "start": "1745240",
    "end": "1754090"
  },
  {
    "start": "1752000",
    "end": "1822000"
  },
  {
    "text": "we start to look at some of the integration patterns for each of these services and how lambda can be used with each of them with cloud watch events and",
    "start": "1754090",
    "end": "1760840"
  },
  {
    "text": "cloud watch logs we already kind of mentioned that those can kick off lambda functions too that are based on either",
    "start": "1760840",
    "end": "1768580"
  },
  {
    "text": "the events or the logs coming in right and those lambda functions today you could just for them directly to your",
    "start": "1768580",
    "end": "1775030"
  },
  {
    "text": "monitoring tools that you currently have but again that just kind of adds to the noise that you already have it adds to",
    "start": "1775030",
    "end": "1780550"
  },
  {
    "text": "the data crush that you're already experiencing so with lambda again it's just code right but it's code that you",
    "start": "1780550",
    "end": "1786940"
  },
  {
    "text": "write you who know your infrastructure you who know your business you're able to write this code and with this code",
    "start": "1786940",
    "end": "1792580"
  },
  {
    "text": "you can add context to the logs that you're getting or the events that you're getting you can add you can also filter",
    "start": "1792580",
    "end": "1799750"
  },
  {
    "text": "stuff out right so besides the context that context could be I know my",
    "start": "1799750",
    "end": "1804760"
  },
  {
    "text": "corporate IP range and so for anything within this corporate IP range I don't care about that as cool you don't have",
    "start": "1804760",
    "end": "1810670"
  },
  {
    "text": "to you don't have to alert on that you can filter that out right you could also call out to other Atos api's and get",
    "start": "1810670",
    "end": "1818560"
  },
  {
    "text": "more information on the event that occurred so similarly with cloud trail",
    "start": "1818560",
    "end": "1825040"
  },
  {
    "start": "1822000",
    "end": "1855000"
  },
  {
    "text": "cloud trail logs get delivered to an s3 bucket and you can kick off a lambda",
    "start": "1825040",
    "end": "1831460"
  },
  {
    "text": "function when a new object lands in an s3 bucket so in a new a new delivery of",
    "start": "1831460",
    "end": "1836770"
  },
  {
    "text": "cloud cloud trail logs gets delivered to s3 then that can invoke a lambda function and that lambda function can",
    "start": "1836770",
    "end": "1842350"
  },
  {
    "text": "then inspect those logs it can add context to those logs it can filter them",
    "start": "1842350",
    "end": "1847660"
  },
  {
    "text": "etc and then forward on what's important to your existing sock tools",
    "start": "1847660",
    "end": "1853289"
  },
  {
    "start": "1855000",
    "end": "1883000"
  },
  {
    "text": "next again simile is VPC flow logs so VPC flow logs you can set up to go to a",
    "start": "1856160",
    "end": "1862940"
  },
  {
    "text": "cloud watch logs log stream and then from there you set up a subscription for",
    "start": "1862940",
    "end": "1868280"
  },
  {
    "text": "that log stream and that log stream subscription can go to a nativist lambda function which again can add context and",
    "start": "1868280",
    "end": "1875180"
  },
  {
    "text": "filter and will actually demo some of this in just a minute and some of the context that you might want to add to",
    "start": "1875180",
    "end": "1881000"
  },
  {
    "text": "your VPC flow logs and lastly we have Macy so I already kind of touched on",
    "start": "1881000",
    "end": "1887000"
  },
  {
    "start": "1883000",
    "end": "1966000"
  },
  {
    "text": "this but to just kind of dive into this a little bit more there's really two pieces to Macy and the first is the",
    "start": "1887000",
    "end": "1893000"
  },
  {
    "text": "natural language processing so given access that you grant to the Macy service it will look at your s3 data and",
    "start": "1893000",
    "end": "1900950"
  },
  {
    "text": "actually classify that data so if there's PII data in your s3 bucket it",
    "start": "1900950",
    "end": "1906080"
  },
  {
    "text": "will be able to classify that and understand that that's PII data it's very important to you and it will",
    "start": "1906080",
    "end": "1911990"
  },
  {
    "text": "obviously it will classify that as very business critical to your to your business and then it combines that",
    "start": "1911990",
    "end": "1919100"
  },
  {
    "text": "information about the classification of that data with information about how",
    "start": "1919100",
    "end": "1924770"
  },
  {
    "text": "that data is accessed so it's not just how one particular user is accessing it",
    "start": "1924770",
    "end": "1930320"
  },
  {
    "text": "it actually starts to build up groups of users and it starts to understand who are similar users who are like users and",
    "start": "1930320",
    "end": "1936950"
  },
  {
    "text": "if one user starts acting an ominous enum anomalously anomalously outside of",
    "start": "1936950",
    "end": "1945830"
  },
  {
    "text": "the the normal group that they're in on data that's very critical to your business then it will alert you and it",
    "start": "1945830",
    "end": "1952970"
  },
  {
    "text": "has different different levels of alerts right so very critical for if they're",
    "start": "1952970",
    "end": "1958820"
  },
  {
    "text": "doing it against critical business data versus a lower level alert if it's against data that's not as critical and",
    "start": "1958820",
    "end": "1966400"
  },
  {
    "start": "1966000",
    "end": "2010000"
  },
  {
    "text": "again you can Ford any alerts that come out of the Macy service so you can Ford to cloud watch events and to lamda and",
    "start": "1966400",
    "end": "1973250"
  },
  {
    "text": "then obviously to your stock tools but additionally Amazon Macy comes with its own dashboard that you can also use as",
    "start": "1973250",
    "end": "1980510"
  },
  {
    "text": "well so a really really cool dashboard that actually lets you drill into the different types of data that are being",
    "start": "1980510",
    "end": "1986930"
  },
  {
    "text": "stored in s3 the different types of users so if you see up there on the right you have you have different types of users",
    "start": "1986930",
    "end": "1993860"
  },
  {
    "text": "and the different api's calls that they're making it'll actually map them against against the map as well so you",
    "start": "1993860",
    "end": "2004390"
  },
  {
    "text": "can see like where the calls are coming from and things okay so I mentioned a",
    "start": "2004390",
    "end": "2013929"
  },
  {
    "start": "2010000",
    "end": "2218000"
  },
  {
    "text": "few minutes ago that we're going to look at how you could add context to some of your VPC flow logs and and what you",
    "start": "2013929",
    "end": "2019270"
  },
  {
    "text": "might want to use lambda for so in the previous one I showed you that you know",
    "start": "2019270",
    "end": "2024850"
  },
  {
    "text": "VPC flogs can go into Amazon CloudWatch logs from their lambda and then to your sock tools in this demo we're going to",
    "start": "2024850",
    "end": "2031870"
  },
  {
    "text": "use Amazon Elastic search with Cubana that sits on top of it as kind of a stand-in replacement for what you would",
    "start": "2031870",
    "end": "2038500"
  },
  {
    "text": "consider your sock tools has a really nice visualization and dashboard so let",
    "start": "2038500",
    "end": "2045730"
  },
  {
    "text": "me pop over to my laptop here",
    "start": "2045730",
    "end": "2052230"
  },
  {
    "text": "all right oh that's fun",
    "start": "2056630",
    "end": "2065679"
  },
  {
    "text": "okay so let me back up for a second and kind of show you how I got in here so I",
    "start": "2066320",
    "end": "2072658"
  },
  {
    "text": "have my I have my cloud watch logs here and from here I click on my V PC flow logs logs stream that I've created so",
    "start": "2072659",
    "end": "2080460"
  },
  {
    "text": "within that BBC flow log or within that cloud watch log stream I have I have",
    "start": "2080460",
    "end": "2086250"
  },
  {
    "text": "different log streams for each of the en eyes that it's been monitoring and so if I click on one of these an eyes and I",
    "start": "2086250",
    "end": "2095010"
  },
  {
    "text": "can see all the different you can see all the different accepts and rejects and all the different view PC flow logs",
    "start": "2095010",
    "end": "2100320"
  },
  {
    "text": "that are coming in here and I'll expand one of these just so you can see what it consists of it it's it's pretty",
    "start": "2100320",
    "end": "2105900"
  },
  {
    "text": "bare-bones right so it's got the en I it's got a source IP a destination IP it's got source port destination port",
    "start": "2105900",
    "end": "2112940"
  },
  {
    "text": "etc but besides that you don't have a lot of additional information so what",
    "start": "2112940",
    "end": "2119430"
  },
  {
    "text": "we've done here is we've actually utilized lambda to help decorate these logs to make additional calls out to see",
    "start": "2119430",
    "end": "2127740"
  },
  {
    "text": "what security groups are associated with that en I where is that IP coming from",
    "start": "2127740",
    "end": "2133020"
  },
  {
    "text": "that actually made that call and so you can see over here on the right I have a",
    "start": "2133020",
    "end": "2139890"
  },
  {
    "text": "bunch of different people some people from Russia decided to try to get into my instance some people from Poland I've",
    "start": "2139890",
    "end": "2146910"
  },
  {
    "text": "tried to access my instance etc right and if you scroll down here and look at",
    "start": "2146910",
    "end": "2152790"
  },
  {
    "text": "one of these individual logs this is what's actually being passed into elasticsearch and again elasticsearch is",
    "start": "2152790",
    "end": "2161220"
  },
  {
    "text": "a stand-in for your stock tool so this is what could be passed into your stock tool or any additional data that you",
    "start": "2161220",
    "end": "2166440"
  },
  {
    "text": "wanted to to add and decorate that log with you could pass in and you could",
    "start": "2166440",
    "end": "2172530"
  },
  {
    "text": "also again filter out so it was only getting the stuff that's really important to you so you can see here",
    "start": "2172530",
    "end": "2178290"
  },
  {
    "text": "that we've added in not only the security group IDs if there were multiple security groups associated with",
    "start": "2178290",
    "end": "2184800"
  },
  {
    "text": "the instance that would have all of those listed out there but you can also see that it's done a look-up on the IP",
    "start": "2184800",
    "end": "2190440"
  },
  {
    "text": "to see where it's coming from etc so just a really quick demo to kind",
    "start": "2190440",
    "end": "2197609"
  },
  {
    "text": "of show you what some of the past abilities are for how you can add",
    "start": "2197609",
    "end": "2203130"
  },
  {
    "text": "contacts and and kind of decorate some of your logs that are being generated",
    "start": "2203130",
    "end": "2209730"
  },
  {
    "text": "out of the ADA PL services to make more use out of them and send them to your existing Sauk tools",
    "start": "2209730",
    "end": "2217430"
  },
  {
    "start": "2218000",
    "end": "2252000"
  },
  {
    "text": "so just to recap monitoring we provide a lot of different tools right that",
    "start": "2219049",
    "end": "2225029"
  },
  {
    "text": "doesn't mean you have to abandon the current tools that you're using the current Sauk tools that all your operations people are already familiar",
    "start": "2225029",
    "end": "2230549"
  },
  {
    "text": "with and used to seeing you can utilize lamda to take that data and pass what's",
    "start": "2230549",
    "end": "2236640"
  },
  {
    "text": "important on to your on to your operations users and then also make sure",
    "start": "2236640",
    "end": "2242460"
  },
  {
    "text": "that you're passing on the data that's important right so don't add to the the",
    "start": "2242460",
    "end": "2247799"
  },
  {
    "text": "influx of data that they're having to look through and comb through all right",
    "start": "2247799",
    "end": "2253289"
  },
  {
    "start": "2252000",
    "end": "2279000"
  },
  {
    "text": "so next is remediation I think we all know what remediation means right it means fixing what's broken",
    "start": "2253289",
    "end": "2259430"
  },
  {
    "text": "it also means getting that text animal denied and trying to not trip over a",
    "start": "2259430",
    "end": "2266700"
  },
  {
    "text": "million things as you find your computer and not wake somebody else in the house off and then you're trying to fix it and",
    "start": "2266700",
    "end": "2273869"
  },
  {
    "text": "you're trying to fix it really fast but this doesn't work any more with anything",
    "start": "2273869",
    "end": "2280500"
  },
  {
    "start": "2279000",
    "end": "2307000"
  },
  {
    "text": "less not only the scale and speed that you're going to be working with does that not work but it also becomes really",
    "start": "2280500",
    "end": "2286200"
  },
  {
    "text": "really costly for that to be such a manual process that you're having to get people out of bed every time an alert",
    "start": "2286200",
    "end": "2291690"
  },
  {
    "text": "goes off but also the rate at which attacks happen today just makes this not",
    "start": "2291690",
    "end": "2300480"
  },
  {
    "text": "feasible to be a manual process anymore and it means that remediation has to be something that you're automating now so",
    "start": "2300480",
    "end": "2309210"
  },
  {
    "start": "2307000",
    "end": "2408000"
  },
  {
    "text": "we've already talked about kind of how you can funnel things from these different services through to lamda so",
    "start": "2309210",
    "end": "2315930"
  },
  {
    "text": "we've talked about how VPC flow logs can go to Amazon CloudWatch logs how Macy",
    "start": "2315930",
    "end": "2321690"
  },
  {
    "text": "can go to cloud watch events we've talked about how cloud trail and config and cloud watch all can generate or can",
    "start": "2321690",
    "end": "2331140"
  },
  {
    "text": "invoke lamda and make a lambda function be created not-great invoked and from there we've",
    "start": "2331140",
    "end": "2338999"
  },
  {
    "text": "talked about how you can use that lambda function to do auditing to do monitoring",
    "start": "2338999",
    "end": "2344309"
  },
  {
    "text": "etc but one of the things you can also do and Andrew mentioned this is you can also do remediation so you can also have",
    "start": "2344309",
    "end": "2351479"
  },
  {
    "text": "that lambda function make changes to your infrastructure it can call other",
    "start": "2351479",
    "end": "2357779"
  },
  {
    "text": "AWS api's it can make calls to change what was just changed to undo the",
    "start": "2357779",
    "end": "2363779"
  },
  {
    "text": "changes that were just made if you disagree with them right and again that's all going to be based on your business rules and your infrastructure",
    "start": "2363779",
    "end": "2371749"
  },
  {
    "text": "one of the other things we haven't touched on but if you're not familiar with it it also feeds into cloud",
    "start": "2371749",
    "end": "2377699"
  },
  {
    "text": "watching can also be utilized in the same manner as our ADA boys laugh service so it's our Web Application Firewall any any rules that you set up",
    "start": "2377699",
    "end": "2385589"
  },
  {
    "text": "within the laugh service generate metrics within Amazon Cloud Watch and via those metrics you can set up alarms",
    "start": "2385589",
    "end": "2391469"
  },
  {
    "text": "so that if if a rule passes an alarm threshold then you can you can have a",
    "start": "2391469",
    "end": "2397349"
  },
  {
    "text": "kickoff a lambda function so that you can do you could do remediation or you",
    "start": "2397349",
    "end": "2402479"
  },
  {
    "text": "could actually call to make a change to your laughable if you wanted to so what",
    "start": "2402479",
    "end": "2410279"
  },
  {
    "start": "2408000",
    "end": "2422000"
  },
  {
    "text": "if the problem doesn't lie in an ADA dress API though a lot of times remediation means logging into a host",
    "start": "2410279",
    "end": "2415380"
  },
  {
    "text": "running some scripts making some changes so how do you do that and how you do that with lambda one of the ways you can",
    "start": "2415380",
    "end": "2423390"
  },
  {
    "start": "2422000",
    "end": "2489000"
  },
  {
    "text": "do that is with what we call ec2 substance manager and it has a feature called run command and run command",
    "start": "2423390",
    "end": "2429689"
  },
  {
    "text": "actually allows you to execute scripts on a host and it can execute scripts on one to many hosts so if there's multiple",
    "start": "2429689",
    "end": "2436529"
  },
  {
    "text": "hosts that you want to execute the script on it can it can execute it on all of those ec2 instances but it",
    "start": "2436529",
    "end": "2444479"
  },
  {
    "text": "doesn't require any need to SSH or RDP into the host you don't have to give",
    "start": "2444479",
    "end": "2450539"
  },
  {
    "text": "your operations people access to your production instances so we always talk about removing access to those",
    "start": "2450539",
    "end": "2457019"
  },
  {
    "text": "production instances right which obviously in our by doctor demo that bad",
    "start": "2457019",
    "end": "2462150"
  },
  {
    "text": "Andrew we didn't practice what we preach right but one of the ways that you can you can",
    "start": "2462150",
    "end": "2470000"
  },
  {
    "text": "do this is by using run command and by making sure that you're removing that",
    "start": "2470000",
    "end": "2475910"
  },
  {
    "text": "access and putting all those scripts that they're going to run anyways you usually know what scripts are going to",
    "start": "2475910",
    "end": "2481190"
  },
  {
    "text": "run and what what commands they're going to run you can put those in in scripts and then have them run via run command",
    "start": "2481190",
    "end": "2489250"
  },
  {
    "text": "one of the things though that comes up is lambda can run for a five minute time",
    "start": "2489940",
    "end": "2495200"
  },
  {
    "text": "period right and what happens if you're a mediation either it's going to take a",
    "start": "2495200",
    "end": "2501349"
  },
  {
    "text": "little longer than that or perhaps it's just a bunch of different steps you know the the concept behind lambda is there",
    "start": "2501349",
    "end": "2508280"
  },
  {
    "text": "they're microservices they're their functions right they should they should do their function they should do it well you don't want to cram too much into a",
    "start": "2508280",
    "end": "2516109"
  },
  {
    "text": "single function so what if you have to be a Remini in order to remediate what",
    "start": "2516109",
    "end": "2521210"
  },
  {
    "text": "if you have to run multiple functions and you need to string those together that's where it arrests step functions",
    "start": "2521210",
    "end": "2526790"
  },
  {
    "text": "comes in so with step functions you can actually coordinate the calling of different lambda functions and what this",
    "start": "2526790",
    "end": "2534320"
  },
  {
    "start": "2533000",
    "end": "2578000"
  },
  {
    "text": "looks like so it's really easy JSON code that you define to say call this step",
    "start": "2534320",
    "end": "2539630"
  },
  {
    "text": "then call this one then call this one and the step can be can be lambda functions you can also do them in",
    "start": "2539630",
    "end": "2545960"
  },
  {
    "text": "parallel so if you have steps in your remediation that can be done in parallel or you want to make branching decisions",
    "start": "2545960",
    "end": "2552050"
  },
  {
    "text": "based on based on your state data you can do that as well and one of the really cool things about it that most",
    "start": "2552050",
    "end": "2558260"
  },
  {
    "text": "security organizations really like is that it also gives you a really nice audit log and a really nice",
    "start": "2558260",
    "end": "2564460"
  },
  {
    "text": "visualization in the console that you see over there on the right of everything that happened in your",
    "start": "2564460",
    "end": "2569630"
  },
  {
    "text": "execution so you can see exactly what succeeded exactly what failed you get the input and output to every single",
    "start": "2569630",
    "end": "2575240"
  },
  {
    "text": "step as well as to the state machine so",
    "start": "2575240",
    "end": "2581380"
  },
  {
    "start": "2578000",
    "end": "2721000"
  },
  {
    "text": "for our demo architecture here we're going to take a look back at the the",
    "start": "2581380",
    "end": "2587300"
  },
  {
    "text": "beginning bad actor demo that we did at the beginning and see what that security",
    "start": "2587300",
    "end": "2592730"
  },
  {
    "text": "group looks like that Andrew opened up to the world",
    "start": "2592730",
    "end": "2597250"
  },
  {
    "text": "okay so if I come over here and look at",
    "start": "2604440",
    "end": "2609470"
  },
  {
    "text": "the RDS security group you'll see that",
    "start": "2609470",
    "end": "2615030"
  },
  {
    "text": "the web servers there and the bastion host is there but the from anywhere is now gone so just in case anybody has",
    "start": "2615030",
    "end": "2625380"
  },
  {
    "text": "amnesia and doesn't remember we'll open it back up I'm going to show you our",
    "start": "2625380",
    "end": "2633870"
  },
  {
    "text": "setup that we have here so within cloud watch we set up a cloud watch event rule",
    "start": "2633870",
    "end": "2639390"
  },
  {
    "text": "and within that rule it's listening to all API calls that happen for ec2 and I",
    "start": "2639390",
    "end": "2647700"
  },
  {
    "text": "have a lambda subscribe to that rule and so that lambda gets executed for any ec2",
    "start": "2647700",
    "end": "2653550"
  },
  {
    "text": "events that come through via cloud watch events and that lambda function it's",
    "start": "2653550",
    "end": "2659280"
  },
  {
    "text": "pretty simple it goes through and says am i authorizing a security ingress and",
    "start": "2659280",
    "end": "2664640"
  },
  {
    "text": "if it's authorizing security ingress from anywhere it removes it and revokes",
    "start": "2664640",
    "end": "2670260"
  },
  {
    "text": "it so if we go back here and I refresh you can see that that security group is",
    "start": "2670260",
    "end": "2677730"
  },
  {
    "text": "now gone so it's pretty heavy-handed example but there's not many things that",
    "start": "2677730",
    "end": "2685320"
  },
  {
    "text": "you would want to allow to be opened up to anywhere right and so there's rules",
    "start": "2685320",
    "end": "2691230"
  },
  {
    "text": "like that that you probably have within your organization that only you know that you can code and really simple",
    "start": "2691230",
    "end": "2698400"
  },
  {
    "text": "lambda functions we're talking under a hundred lines of code here that are applied to your account and can be",
    "start": "2698400",
    "end": "2706560"
  },
  {
    "text": "utilized and can be utilized within your account for your infrastructure for your business for what makes sense for you",
    "start": "2706560",
    "end": "2714710"
  },
  {
    "text": "okay so that was the demo",
    "start": "2716540",
    "end": "2722750"
  },
  {
    "start": "2721000",
    "end": "2795000"
  },
  {
    "text": "so just to recap for remediation with",
    "start": "2722750",
    "end": "2729050"
  },
  {
    "text": "AWS you definitely want to be automating your remediation you want to take out as much manual processes as you can you",
    "start": "2729050",
    "end": "2736490"
  },
  {
    "text": "want to make sure you're removing access to your operational production instances",
    "start": "2736490",
    "end": "2742070"
  },
  {
    "text": "right so make sure that you're using run command for any kind of access that your operations people may need and then",
    "start": "2742070",
    "end": "2748250"
  },
  {
    "text": "finally if you have multiple steps involved for remediation then take a look at step functions for coordinating",
    "start": "2748250",
    "end": "2754550"
  },
  {
    "text": "those and you know I didn't mention it on the step functions page but one of the things you can do as well as you can",
    "start": "2754550",
    "end": "2760160"
  },
  {
    "text": "string them together but step functions also allows you to do error handling so if there's some kind of failure within",
    "start": "2760160",
    "end": "2767180"
  },
  {
    "text": "your lambda function you can have it you can have it kick off a different lambda",
    "start": "2767180",
    "end": "2772490"
  },
  {
    "text": "function that could actually alert someone to come and manually look at it so you could try to do your automated",
    "start": "2772490",
    "end": "2778340"
  },
  {
    "text": "remediation first and then if that doesn't work then you can bring in bring in the big guns right so thank you for",
    "start": "2778340",
    "end": "2788030"
  },
  {
    "text": "coming out today please remember to fill out your evaluations [Applause]",
    "start": "2788030",
    "end": "2795639"
  }
]