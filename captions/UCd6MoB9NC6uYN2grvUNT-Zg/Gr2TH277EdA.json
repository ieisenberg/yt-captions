[
  {
    "text": "welcome everyone this session is called best practices for orchestrating your",
    "start": "1790",
    "end": "8429"
  },
  {
    "text": "AWS lambda workloads and hopefully you actually read the abstract and you saw",
    "start": "8429",
    "end": "14549"
  },
  {
    "text": "that I'm gonna be talking a lot about lambda and I'm going to be talking about step functions now I did a talk last",
    "start": "14549",
    "end": "22529"
  },
  {
    "text": "year about lambda and it was really popular a lot of people were there and really pretty exciting and and it was",
    "start": "22529",
    "end": "31800"
  },
  {
    "text": "yeah the new hotness and I feel that there were some things that lambda couldn't why not I couldn't",
    "start": "31800",
    "end": "38460"
  },
  {
    "text": "do I don't want to say that that would annoy an Amazon but there were some things that were a little harder to do",
    "start": "38460",
    "end": "43980"
  },
  {
    "text": "with lambda and now we can do them thankfully with step functions and I'm really really excited about them so I'm",
    "start": "43980",
    "end": "51059"
  },
  {
    "text": "going to get right into it and talk about step function are you ready here",
    "start": "51059",
    "end": "56820"
  },
  {
    "text": "we go okay so about eight weeks ago two months ago my wife and I we took a",
    "start": "56820",
    "end": "63660"
  },
  {
    "text": "vacation it was amazing here we are up on the bridge looking back at the Ponte",
    "start": "63660",
    "end": "70140"
  },
  {
    "text": "Vecchio in Florence were over the Arno River I was staying with some friends at a friend's apartment and it was just",
    "start": "70140",
    "end": "77100"
  },
  {
    "text": "amazing the way that weather was perfect is so wonderful yeah I'm a big fan of",
    "start": "77100",
    "end": "82860"
  },
  {
    "text": "Wistia but that's not that's irrelevant because the selfie is totally relevant",
    "start": "82860",
    "end": "87979"
  },
  {
    "text": "and after the Florence we drove on out to Tuscany and we stayed at this lovely",
    "start": "87979",
    "end": "94820"
  },
  {
    "text": "agriturismo in a little town called century or kedgeree or said something",
    "start": "94820",
    "end": "99930"
  },
  {
    "text": "like that near a slightly smaller slightly less small town called Pacioli now if you look in the guidebooks these",
    "start": "99930",
    "end": "106710"
  },
  {
    "text": "areas are not in the guidebooks so there were no tourists and it was amazing it",
    "start": "106710",
    "end": "112380"
  },
  {
    "text": "was so peaceful it was so lovely and in fact I've been doing a lot of traveling over the years I got a lot of stamps in",
    "start": "112380",
    "end": "119880"
  },
  {
    "text": "my passport I've been to a lot of countries but this trip you know you",
    "start": "119880",
    "end": "127200"
  },
  {
    "text": "look at all the trips I've been on this trip to Italy with my wife was different",
    "start": "127200",
    "end": "133740"
  },
  {
    "text": "because I made a promise to my wife I said okay yeah okay sure sure you know",
    "start": "133740",
    "end": "139210"
  },
  {
    "text": "when you make a promise your wife like a few months before is like no problem yeah sure I can do that",
    "start": "139210",
    "end": "145090"
  },
  {
    "text": "I'm gonna leave my laptop at a home yeah I could do that no problem that's gonna be easy leave my laptop at home I'm",
    "start": "145090",
    "end": "151060"
  },
  {
    "text": "gonna enjoy the vacation I'm gonna focus on you it's gonna be wonderful I'm not gonna be hunched over the laptop",
    "start": "151060",
    "end": "157510"
  },
  {
    "text": "not that I would ever do that on vacation because I've had a laptop for a",
    "start": "157510",
    "end": "164200"
  },
  {
    "text": "long time you know I had my first laptop in nineteen let's see I went to college in 1988 I went up to Florida State",
    "start": "164200",
    "end": "169660"
  },
  {
    "text": "University with my Toshiba t1000 80 88 powered processor it was amazing and",
    "start": "169660",
    "end": "176680"
  },
  {
    "text": "ever since then I pretty much every trip I've gone on I've had a laptop but this time I'm gonna be different no laptop",
    "start": "176680",
    "end": "184060"
  },
  {
    "text": "okay no big deal who needs a laptop when they're enjoying Tuscany well I have it",
    "start": "184060",
    "end": "192640"
  },
  {
    "text": "became a bit of a problem because a little bit of a technology decision I had made somewhat recently you know",
    "start": "192640",
    "end": "199750"
  },
  {
    "text": "updating my blog has been you know on my new year's resolutions list you know I'd",
    "start": "199750",
    "end": "205000"
  },
  {
    "text": "say my new year's resolution this year is going to be to update my blog more often this year and last year and the",
    "start": "205000",
    "end": "212230"
  },
  {
    "text": "year before and the year before that and the year before and it's like for the last 15 years I've had this goal of",
    "start": "212230",
    "end": "217390"
  },
  {
    "text": "updating my blog more often and you can see here's my blog right now the last post was November 1st and",
    "start": "217390",
    "end": "223209"
  },
  {
    "text": "within like five posts were back in 2015 obviously I'm not doing very good on my",
    "start": "223209",
    "end": "229900"
  },
  {
    "text": "New Year's resolution so I mentioned that I made a technology change so I",
    "start": "229900",
    "end": "237100"
  },
  {
    "text": "used to run my blog on WordPress on a digitalocean droplet but I decided for",
    "start": "237100",
    "end": "243760"
  },
  {
    "text": "some reason that I wanted to migrate to Hugh go on at the time I was using Serge",
    "start": "243760",
    "end": "250390"
  },
  {
    "text": "and then later I moved to gatsby j/s and hosting on s3 now Hugo and Gatsby are",
    "start": "250390",
    "end": "258190"
  },
  {
    "text": "pretty amazing tools I at the moment I'm really enjoying working with Gatsby",
    "start": "258190",
    "end": "263640"
  },
  {
    "text": "because their static site generators now with WordPress you work",
    "start": "263640",
    "end": "269690"
  },
  {
    "text": "on your development machine to make some tweaks to your website you push that up to your server whether it's some Colo or",
    "start": "269690",
    "end": "278000"
  },
  {
    "text": "on this on an ec2 or maybe WP engine or something like that a user comes to view your website",
    "start": "278000",
    "end": "285200"
  },
  {
    "text": "they make a request and you know a process is for a little while maybe not that quick maybe it's that quick I don't",
    "start": "285200",
    "end": "291260"
  },
  {
    "text": "know my server it wasn't that quick it so processes for a while and turns and",
    "start": "291260",
    "end": "296360"
  },
  {
    "text": "and returns an answer with a static site generator you know I'm still going to be",
    "start": "296360",
    "end": "302090"
  },
  {
    "text": "working on my site locally but when I come I do a compile stage so my computer",
    "start": "302090",
    "end": "308000"
  },
  {
    "text": "works kind of hard converting my markdown files to static HTML and",
    "start": "308000",
    "end": "314390"
  },
  {
    "text": "JavaScript and and pushes it up to the server and then when a user comes in",
    "start": "314390",
    "end": "321110"
  },
  {
    "text": "makes a request and they get their answer super quick it's like blazing fast and you know goodbye pretty much",
    "start": "321110",
    "end": "328790"
  },
  {
    "text": "your you've got a minimal security footprint it's it's really great now I",
    "start": "328790",
    "end": "336280"
  },
  {
    "text": "mentioned that if this was a bit of a problem because I'm really not a laptop",
    "start": "336280",
    "end": "342230"
  },
  {
    "text": "and I did have my iPad but at the moment there are no static site generators for",
    "start": "342230",
    "end": "347450"
  },
  {
    "text": "my iPad at least gasper like I can't figure out how to get that to work so this is a bit of a problem now I could",
    "start": "347450",
    "end": "354430"
  },
  {
    "text": "you know buy any or pay for an ec2 instance and put you know all the logic",
    "start": "354430",
    "end": "360110"
  },
  {
    "text": "up there and and run that remotely but now well you've seen how often I update my blog now I'm paying for an ec2",
    "start": "360110",
    "end": "366350"
  },
  {
    "text": "instance for you know five minutes every three years that's not really that",
    "start": "366350",
    "end": "372500"
  },
  {
    "text": "useful so server list seemed like the perfect solution for me and in fact I was wondering okay what is the demo I'm",
    "start": "372500",
    "end": "379160"
  },
  {
    "text": "going to show at reinvent two months ago and then I said thought this is my demo",
    "start": "379160",
    "end": "384530"
  },
  {
    "text": "this is my demo oh my god it's going to be amazing hopefully so here's my demo",
    "start": "384530",
    "end": "393200"
  },
  {
    "text": "here I'm going to be talking about step functions and the context of to step functions that are building my site",
    "start": "393200",
    "end": "399840"
  },
  {
    "text": "and they are building it live in fact I am live blogging this session right now",
    "start": "399840",
    "end": "406620"
  },
  {
    "text": "if you go to that website SF dot techno evangelist calm you are going to see a",
    "start": "406620",
    "end": "413310"
  },
  {
    "text": "live view of this website now how am I doing this well if you notice way over",
    "start": "413310",
    "end": "419520"
  },
  {
    "text": "here in the on this side there's a one of the seats is empty okay there's a",
    "start": "419520",
    "end": "425850"
  },
  {
    "text": "couple other seats are empty but there's one seat that's empty that's got my little tripod on it and a Raspberry Pi",
    "start": "425850",
    "end": "430890"
  },
  {
    "text": "and Orion Raspberry Pi is taking photos every 30 seconds of that slide area and",
    "start": "430890",
    "end": "436560"
  },
  {
    "text": "every 30 seconds it's uploading that via API gateway to s3 and then it's handing",
    "start": "436560",
    "end": "442830"
  },
  {
    "text": "it off to a service called visor I advise on a I've already uploaded 6,000",
    "start": "442830",
    "end": "449070"
  },
  {
    "text": "images of all my slides and different orientations with different backgrounds so that it does its hole machining",
    "start": "449070",
    "end": "454919"
  },
  {
    "text": "machine learning magic of stuff on it and so now it's able to recognize which slide I'm on automatically and and then",
    "start": "454919",
    "end": "464520"
  },
  {
    "text": "it lets Lanvin know about that and the next lambda goes and grabs my notes from",
    "start": "464520",
    "end": "470790"
  },
  {
    "text": "a DynamoDB pulls that back in creates a markdown file in s3 triggers off a build",
    "start": "470790",
    "end": "477870"
  },
  {
    "text": "in code build to pull my latest gas PJs site out of code commit into code bill",
    "start": "477870",
    "end": "485130"
  },
  {
    "text": "does the bill it pushes that out to s3 and I'm doing that all live as we're",
    "start": "485130",
    "end": "490470"
  },
  {
    "text": "talking and it looks like it's kind of working sweet okay so my name is Matt Williams",
    "start": "490470",
    "end": "499770"
  },
  {
    "text": "I'm an evangelist at data dawg and you can reach me on Twitter at techno",
    "start": "499770",
    "end": "505140"
  },
  {
    "text": "evangelists or you can send me an email at Matt W at Tech Data dog.com stated",
    "start": "505140",
    "end": "510630"
  },
  {
    "text": "I'll get Q comm sorry anybody else here in the room from Boston okay did any of",
    "start": "510630",
    "end": "519210"
  },
  {
    "text": "you attend DevOps days Boston ok cool then you have seen me before because I",
    "start": "519210",
    "end": "524490"
  },
  {
    "text": "was up on stage disappeared introducing you all to the what we were going to be doing because I was one of the organizers that we're looking forward to",
    "start": "524490",
    "end": "530700"
  },
  {
    "text": "next year it's going to be awesome hopefully going to attend that as well I work for",
    "start": "530700",
    "end": "535880"
  },
  {
    "text": "a great company called data dog hopefully you know about data dog how many of you know who data dog is yes",
    "start": "535880",
    "end": "544060"
  },
  {
    "text": "probably because you've seen the amazing booth in the Venetian or the a pretty amazing booth here in the Aria as well",
    "start": "544060",
    "end": "550279"
  },
  {
    "text": "so we're a SAS based monitoring and analyze analytics firm we do infrastructure monitoring so we're",
    "start": "550279",
    "end": "556399"
  },
  {
    "text": "collecting all your metrics about all your stuff and we do APM and we do logs and we have this open source agent and",
    "start": "556399",
    "end": "563000"
  },
  {
    "text": "we're collecting trillions of data points every day from all of our customers if you haven't had a chance to",
    "start": "563000",
    "end": "571430"
  },
  {
    "text": "visit our booths it's totally worth going to booth 109 in the Aria pretty much as soon as you walk in and then",
    "start": "571430",
    "end": "578269"
  },
  {
    "text": "booth 1021 in the Venetian and it's the one really huge one with like and uh",
    "start": "578269",
    "end": "584980"
  },
  {
    "text": "what is it a hexagon yeah of a video display is hanging above the it's just",
    "start": "584980",
    "end": "592519"
  },
  {
    "text": "gorgeous it brings tears to my eyes anyway we are hiring so if you're looking for a job we are totally hiring and we're the better place to go okay",
    "start": "592519",
    "end": "599690"
  },
  {
    "text": "cool um let's move on so last year I mentioned that I talked",
    "start": "599690",
    "end": "606350"
  },
  {
    "text": "about lambda and this was actually the room I talked in it was really cool it was built for fan of the Opera oh my god",
    "start": "606350",
    "end": "611899"
  },
  {
    "text": "it was beautiful I looked I talked about lambda and you know it was really a great session and",
    "start": "611899",
    "end": "618649"
  },
  {
    "text": "yeah this is the photo I mentioned before if you look really closely it looks like everyone's asleep this was",
    "start": "618649",
    "end": "625130"
  },
  {
    "text": "before the session started they weren't really asleep for my talk it was awesome now in that talk I showed something like",
    "start": "625130",
    "end": "631160"
  },
  {
    "text": "this so I showed you know I talked about the migration from physical boxes to virtual machines onto AWS instances onto",
    "start": "631160",
    "end": "637550"
  },
  {
    "text": "containers and on to lambda mentioning lambda is this potential holy grail it's",
    "start": "637550",
    "end": "642920"
  },
  {
    "text": "going to be amazing there were some things I said that looking back probably not the they're",
    "start": "642920",
    "end": "652459"
  },
  {
    "text": "not exactly the best best practices because you know you look at this well",
    "start": "652459",
    "end": "659449"
  },
  {
    "text": "let me go over some of the basics you know it'll be as lambda one of the problems here it's not the same as easy",
    "start": "659449",
    "end": "665930"
  },
  {
    "text": "to look at that diagram at super simple five boxes it makes it look like lambda",
    "start": "665930",
    "end": "671220"
  },
  {
    "text": "and an EC - they're like the same right it's not the same as EC - it's not the",
    "start": "671220",
    "end": "677580"
  },
  {
    "text": "same as an application you can't have all of your application in your lambda in one lambda function applications are",
    "start": "677580",
    "end": "685290"
  },
  {
    "text": "complicated and lambdas should respect that little nagging thing called the",
    "start": "685290",
    "end": "690780"
  },
  {
    "text": "single responsibility principle you know every you know in case you're not familiar with it go breathe Wikipedia",
    "start": "690780",
    "end": "696420"
  },
  {
    "text": "article you know every method every function and everything should do one thing one thing and let something else",
    "start": "696420",
    "end": "702300"
  },
  {
    "text": "do the next thing essentially so my diagram my five box diagram maybe should",
    "start": "702300",
    "end": "709950"
  },
  {
    "text": "have looked more like this where I replace you know containers or instances",
    "start": "709950",
    "end": "715170"
  },
  {
    "text": "with a bazillion lambdas or in that a bazillion but a lot of lambdas there",
    "start": "715170",
    "end": "720870"
  },
  {
    "text": "were a lot of other things we learned over the last year we learned you know serverless is a lot about automation you know I've seen so many blog posts about",
    "start": "720870",
    "end": "727230"
  },
  {
    "text": "surplice is about automation and DevOps automation and other things we learned",
    "start": "727230",
    "end": "732270"
  },
  {
    "text": "that server list is about event-driven computing then we kind of knew that already but we really it really got",
    "start": "732270",
    "end": "739860"
  },
  {
    "text": "drilled into us you know it's about event-driven computing scalability is",
    "start": "739860",
    "end": "745380"
  },
  {
    "text": "different again we kind of knew this but we really got to learn it it's like",
    "start": "745380",
    "end": "750420"
  },
  {
    "text": "scalability is really different you got to think about it differently you got to you know move make sure you're doing",
    "start": "750420",
    "end": "756390"
  },
  {
    "text": "that single responsibility principle with your lambdas and let them automatically scale as jobs come in so",
    "start": "756390",
    "end": "765090"
  },
  {
    "text": "we can create a lot of server list functions quite a lot a lot of lambdas but how do you orchestrate them how do",
    "start": "765090",
    "end": "772860"
  },
  {
    "text": "you get them to work together how do you get ok this thing runs then then I wanted to run that thing and then I wanted to run that thing how do I get",
    "start": "772860",
    "end": "779490"
  },
  {
    "text": "that to all works together well there",
    "start": "779490",
    "end": "784710"
  },
  {
    "text": "have been a lot of solutions for this a lot of blog posts a lot of sessions you know I've seen some great sessions from",
    "start": "784710",
    "end": "789840"
  },
  {
    "text": "last reinvent and a lot of AWS what are the code summits around the world",
    "start": "789840",
    "end": "795980"
  },
  {
    "text": "talking about an event queue or event or message queue word database as a traffic cop and so I've",
    "start": "795980",
    "end": "802810"
  },
  {
    "text": "seen plenty of examples of using Amazon because the Kinesis for that as that traffic cop or using sqs as that traffic",
    "start": "802810",
    "end": "810580"
  },
  {
    "text": "cop or even Amazon deep dynamodb as that traffic cop you know something that's you know a lambda does its thing and",
    "start": "810580",
    "end": "817570"
  },
  {
    "text": "reports back to say Kinesis and then the next lambda looks at Canisius okay I'm gonna move forward and it hands it back",
    "start": "817570",
    "end": "823959"
  },
  {
    "text": "to Kinesis so is that that message bus it's that event queue that's dealing",
    "start": "823959",
    "end": "829089"
  },
  {
    "text": "with getting all these things to work together and probably the best example I've ever seen has been this so guy",
    "start": "829089",
    "end": "836800"
  },
  {
    "text": "named Rob rule is the one I've mostly seen on stage at different summits from",
    "start": "836800",
    "end": "842260"
  },
  {
    "text": "Nordstrom talking about hello retail and this was an amazing example in fact you can go up to github and go to that repo",
    "start": "842260",
    "end": "849550"
  },
  {
    "text": "and try this out yourself build it yourself and the example is that it your",
    "start": "849550",
    "end": "856890"
  },
  {
    "text": "product manager is going to upload a product and then photographers are notified and they upload photos and it",
    "start": "856890",
    "end": "863230"
  },
  {
    "text": "automatically just shows up on the website it's really really cool how they do this and they're really good at",
    "start": "863230",
    "end": "870700"
  },
  {
    "text": "making really pretty diagrams I try this I cannot make a diagram that looks like",
    "start": "870700",
    "end": "876850"
  },
  {
    "text": "that I've never been able to do that you know I am usually stuck with what I get from AWS in my land list",
    "start": "876850",
    "end": "884290"
  },
  {
    "text": "you know I I've got this list of lambdas and I've got to figure out try to remember in my head okay the first one",
    "start": "884290",
    "end": "890110"
  },
  {
    "text": "is related to the fourth one and the second one is different and that third one I don't even know what that is so",
    "start": "890110",
    "end": "896649"
  },
  {
    "text": "and and some of these are updated 11 months ago four months ago last month this was actually yeah this is a this is",
    "start": "896649",
    "end": "905140"
  },
  {
    "text": "not the way it looks now now it's I mean in my account it looks a little bit better but still it's a lot of dummy",
    "start": "905140",
    "end": "911800"
  },
  {
    "text": "stuff so now enter AWS step functions",
    "start": "911800",
    "end": "917380"
  },
  {
    "text": "step functions makes that holy grail I talked about really the holy grail that",
    "start": "917380",
    "end": "922570"
  },
  {
    "text": "I'm excited about so the in my demo last year I did a image conversion kind of example and in",
    "start": "922570",
    "end": "930730"
  },
  {
    "text": "fact it was one of the samples I had tweaked that I had found online",
    "start": "930730",
    "end": "936160"
  },
  {
    "text": "but I was doing so much in one lambda function you know I was downloading the image I was converting it over to four",
    "start": "936160",
    "end": "942830"
  },
  {
    "text": "different sizes and then two JPEGs and you know but it was all in one lambda function and that was kind of a silly",
    "start": "942830",
    "end": "949070"
  },
  {
    "text": "way of doing it I really should have broken it out into multiple lambda does it do one thing and one thing only and",
    "start": "949070",
    "end": "955790"
  },
  {
    "text": "then handoff to the other but I didn't want to have to think about that that message bus or event queue or database",
    "start": "955790",
    "end": "961580"
  },
  {
    "text": "in the middle and so step functions really solves that there's still a",
    "start": "961580",
    "end": "967460"
  },
  {
    "text": "little confusing when setting it up for the first time but there once you get over that hump these things are really",
    "start": "967460",
    "end": "973970"
  },
  {
    "text": "really cool now a step function essentially is a state machine now",
    "start": "973970",
    "end": "981380"
  },
  {
    "text": "what's a state machine oh by the way I'm",
    "start": "981380",
    "end": "988130"
  },
  {
    "text": "looking at my sf doc technomancers com it's keeping up it's actually showing the right notes yes so what is the state",
    "start": "988130",
    "end": "997160"
  },
  {
    "text": "machine or a state machine you know that there are lots of textbooks definitions",
    "start": "997160",
    "end": "1004300"
  },
  {
    "text": "of what a state machine is but I've worked for a lot of companies where we've had things that we've called state machines and things we've called",
    "start": "1004300",
    "end": "1010660"
  },
  {
    "text": "workflows and things that our customers call a state machine versus a workflow you know it's we see that term it's a",
    "start": "1010660",
    "end": "1017110"
  },
  {
    "text": "lot of vendors out there you know I worked for a company called team plate and we had a product called team plate really creative and it was this amazing",
    "start": "1017110",
    "end": "1024520"
  },
  {
    "text": "workflow solution out of Calgary Canada this is a number of years ago got bought out by a company called Open Text got",
    "start": "1024520",
    "end": "1031360"
  },
  {
    "text": "bailed out by well no and then when I was at Open Text there were probably eight or nine different workflows being",
    "start": "1031360",
    "end": "1037720"
  },
  {
    "text": "sold workflows and state machines and they look at different marketing literature it's a workflow it's a state machine so but essentially just think of",
    "start": "1037720",
    "end": "1045280"
  },
  {
    "text": "a state machine as kind of a workflow but a little bit more focus on the event-driven nature so event-driven",
    "start": "1045280",
    "end": "1051820"
  },
  {
    "text": "workflow simple way of thinking about it but what about simple workflows service",
    "start": "1051820",
    "end": "1058560"
  },
  {
    "text": "Amazon's got this simple simple workflow service what's up with that do I do I",
    "start": "1058560",
    "end": "1064570"
  },
  {
    "text": "stop using that well you if you read the any of the articles and/or couple days ago I was in a session with some of the",
    "start": "1064570",
    "end": "1072360"
  },
  {
    "text": "PM's four that were involved with lambda and step functions like no not if you've",
    "start": "1072360",
    "end": "1077580"
  },
  {
    "text": "got if you're using simple workflow servers keep using it it's not going away just keep going",
    "start": "1077580",
    "end": "1083490"
  },
  {
    "text": "do your thing no no big deal but if you're starting new yeah I totally go with step functions there's some things",
    "start": "1083490",
    "end": "1091020"
  },
  {
    "text": "that simple workflow service doesn't or that step functions don't support that simple workflow service does but they're",
    "start": "1091020",
    "end": "1097740"
  },
  {
    "text": "pretty minimal but pretty minimal unless that's the one thing that you really care about but um you know it's for the",
    "start": "1097740",
    "end": "1105390"
  },
  {
    "text": "most part you can you're pretty good with going with step functions so let's",
    "start": "1105390",
    "end": "1111179"
  },
  {
    "text": "talk about some concepts about step functions I already talked about state machine you can kind of think of when",
    "start": "1111179",
    "end": "1117960"
  },
  {
    "text": "you upload a step function when you create a step function you're basically creating a template and then you're",
    "start": "1117960",
    "end": "1123390"
  },
  {
    "text": "instantiate mplet and those instantiation Zork old executions now a state machine is made up of multiple",
    "start": "1123390",
    "end": "1129510"
  },
  {
    "text": "states and the states we've got about seven states listed their task choice",
    "start": "1129510",
    "end": "1134610"
  },
  {
    "text": "succeed fail pass waitlet in parallel and when it goes from one task to the",
    "start": "1134610",
    "end": "1139770"
  },
  {
    "text": "next task or one task to a choice that is called a transition so you define",
    "start": "1139770",
    "end": "1145290"
  },
  {
    "text": "your state machine with the Amazon States language and and when you do that",
    "start": "1145290",
    "end": "1152760"
  },
  {
    "text": "and then upload it either through the CLI or use the web interface or however",
    "start": "1152760",
    "end": "1157770"
  },
  {
    "text": "you're using it a diagram will be generated from that and you'll get to see what stupid mistakes you've made and",
    "start": "1157770",
    "end": "1164910"
  },
  {
    "text": "then go and fix it so that's really great so let's talk about some of those",
    "start": "1164910",
    "end": "1170130"
  },
  {
    "text": "states first off we've got a task a task is basically launching a lambda or it",
    "start": "1170130",
    "end": "1175890"
  },
  {
    "text": "could also be triggering an activity so what's an activity a lambda is easy you know it's just gonna trigger off a",
    "start": "1175890",
    "end": "1181590"
  },
  {
    "text": "lambda and do whatever the lambda does an activity is you've got some other process that's in on an ec2 instance or",
    "start": "1181590",
    "end": "1189419"
  },
  {
    "text": "a physical box and then you've got a worker process that just says calls back to the step function m4r says hey you got any work for me hey",
    "start": "1189419",
    "end": "1196559"
  },
  {
    "text": "you got any work for me hey you got any work for me and finally it has some work because a task with an activity defined in it has",
    "start": "1196559",
    "end": "1203400"
  },
  {
    "text": "triggered and and then and then the activity is run on there and passes the",
    "start": "1203400",
    "end": "1210299"
  },
  {
    "text": "information back to the state machine there's a bunch of other things that we can define wait so we can define a type",
    "start": "1210299",
    "end": "1216150"
  },
  {
    "text": "a type is going to be task and a resource is going to be the AR n for",
    "start": "1216150",
    "end": "1221429"
  },
  {
    "text": "that task for that lambda or for that activity and we've also got result path input path and output path these are",
    "start": "1221429",
    "end": "1227520"
  },
  {
    "text": "going to let you modify the JSON input and output from each task I've got a",
    "start": "1227520",
    "end": "1233940"
  },
  {
    "text": "retry and catch in case you want to you know you want to catch errors in your in your lambda function or your in your",
    "start": "1233940",
    "end": "1240980"
  },
  {
    "text": "activity and also you want to retry maybe you want to retry this lambda if it didn't work the first time reach I we",
    "start": "1240980",
    "end": "1246750"
  },
  {
    "text": "tried to try a few times and oh and then you've got to have either a next or an",
    "start": "1246750",
    "end": "1251760"
  },
  {
    "text": "end in there either end equals true because it's the end or next equals",
    "start": "1251760",
    "end": "1256799"
  },
  {
    "text": "whatever the next state is going to be so here's a simple simple super simple",
    "start": "1256799",
    "end": "1262830"
  },
  {
    "text": "example we've got a state machine that starts at the task and so it then we",
    "start": "1262830",
    "end": "1270750"
  },
  {
    "text": "give a list of states the first one being the task and it's a type task and",
    "start": "1270750",
    "end": "1275850"
  },
  {
    "text": "we give it a resource of a RN and then end is true okay simple one-step state",
    "start": "1275850",
    "end": "1282000"
  },
  {
    "text": "machine let's look at a choice choices are great because now your statements",
    "start": "1282000",
    "end": "1287159"
  },
  {
    "text": "your state does something it spits out some variable into the JSON output and",
    "start": "1287159",
    "end": "1293789"
  },
  {
    "text": "then it said you know maybe that that thing is true or false now you can have a choice that says if true go that way",
    "start": "1293789",
    "end": "1300450"
  },
  {
    "text": "if false go that way so you define a type equals choice and then choices you have a list of the",
    "start": "1300450",
    "end": "1306390"
  },
  {
    "text": "choices and you can define a default but the other things like next and in common and the path stuff is all the same as",
    "start": "1306390",
    "end": "1312900"
  },
  {
    "text": "what we solve for tasks so here's an example of that we've got a choice it's",
    "start": "1312900",
    "end": "1318179"
  },
  {
    "text": "a type choice here are the choices available and the first one is if foo equals one then go with first ask if foo",
    "start": "1318179",
    "end": "1324270"
  },
  {
    "text": "equals to go with this tack number two really really easy then we have succeed",
    "start": "1324270",
    "end": "1330480"
  },
  {
    "text": "bail these are basically and endpoints with a success and a fail so",
    "start": "1330480",
    "end": "1336310"
  },
  {
    "text": "here's an example is it positive if it's positive then end with the success if it's negative and with a fail really",
    "start": "1336310",
    "end": "1343510"
  },
  {
    "text": "really simple move on to a pass pass is great it just kind of just passes",
    "start": "1343510",
    "end": "1349450"
  },
  {
    "text": "through just let stick just go through this is great for when you're building out your step function initially and you",
    "start": "1349450",
    "end": "1355900"
  },
  {
    "text": "just want to you know scope it out but not actually build anything or you want",
    "start": "1355900",
    "end": "1361330"
  },
  {
    "text": "to have have it pass through but you want to insert additional stuff into your JSON output from the previous one",
    "start": "1361330",
    "end": "1368110"
  },
  {
    "text": "and before it goes into the next one so that's really useful another useful one oh we've got a little example of pass my",
    "start": "1368110",
    "end": "1375730"
  },
  {
    "text": "max left so in this case we're going to",
    "start": "1375730",
    "end": "1380910"
  },
  {
    "text": "run first task and when it's done go to a pass and it's just going to insert wow",
    "start": "1380910",
    "end": "1389050"
  },
  {
    "text": "this was exciting into extra detail in the result in the resulting JSON we have",
    "start": "1389050",
    "end": "1395380"
  },
  {
    "text": "weight weight is something I've been using in my step function because you know building outs you know I've got to",
    "start": "1395380",
    "end": "1401680"
  },
  {
    "text": "two major builds that happen in my step functions first off I've got the build of gasps PJs it does a build and it",
    "start": "1401680",
    "end": "1408040"
  },
  {
    "text": "takes about 90 seconds to do that build the other build I have is if I make changes to my docker file then I have",
    "start": "1408040",
    "end": "1414610"
  },
  {
    "text": "code build build a new docker image and push that into ECS and that takes more like three minutes or four minutes and I",
    "start": "1414610",
    "end": "1421810"
  },
  {
    "text": "don't want to just sit wait so I have it do its thing and then I run await wait",
    "start": "1421810",
    "end": "1427570"
  },
  {
    "text": "for 20 seconds and then check was it done nope okay go back is it done nope okay",
    "start": "1427570",
    "end": "1432760"
  },
  {
    "text": "go back so that's really useful for me and so here's an example of waiting",
    "start": "1432760",
    "end": "1438870"
  },
  {
    "text": "we're waiting for a timestamp path so",
    "start": "1438870",
    "end": "1446200"
  },
  {
    "text": "timestamp path means you know maybe the previous state specified a timestamp in",
    "start": "1446200",
    "end": "1451990"
  },
  {
    "text": "the in the JSON output and you know maybe the timestamp path is sometime",
    "start": "1451990",
    "end": "1458380"
  },
  {
    "text": "maybe in the next 10 minutes we're gonna wait for at that times time to happen and then move on to the next step",
    "start": "1458380",
    "end": "1464940"
  },
  {
    "text": "I think this is the last one this is parallel if I want to have you know",
    "start": "1464940",
    "end": "1471330"
  },
  {
    "text": "after my one task I want it to do two or three or four or five or a bunch of things all at the same time and when all",
    "start": "1471330",
    "end": "1478140"
  },
  {
    "text": "of those are done all those paths are done come back and continue with the next state so here's a simple example of",
    "start": "1478140",
    "end": "1484200"
  },
  {
    "text": "that we've got parallel next is final state so next after the parallel is done",
    "start": "1484200",
    "end": "1491250"
  },
  {
    "text": "is going to go to final state and we start at left brain and so if it's",
    "start": "1491250",
    "end": "1497299"
  },
  {
    "text": "you've start at left brain wait for two seconds and go on to sequence and then right brain pass and go on to visualize",
    "start": "1497299",
    "end": "1503160"
  },
  {
    "text": "so both the left brain and right brain are going to be processed at the same time and when both are done when both",
    "start": "1503160",
    "end": "1509340"
  },
  {
    "text": "sequence and visualize are done then we move on to final state so there's a lot",
    "start": "1509340",
    "end": "1514620"
  },
  {
    "text": "of so that's like the basics of set functions really you know there's not really a lot to it okay there's a little",
    "start": "1514620",
    "end": "1520200"
  },
  {
    "text": "bit more to it if you read the docs but there's no it's pretty easy to get started with but when using it you know",
    "start": "1520200",
    "end": "1529890"
  },
  {
    "text": "you're you're defining your states in the Amazon States language and you have",
    "start": "1529890",
    "end": "1535110"
  },
  {
    "text": "to refer to the a RN in different lambdas which you have to go into lambda and set up those lambdas and then you",
    "start": "1535110",
    "end": "1541169"
  },
  {
    "text": "got to set up your I am roles so let's go over here and and do that and oh I got to set up cloud formation so let's",
    "start": "1541169",
    "end": "1547740"
  },
  {
    "text": "go over here and do that is there's a lot of moving parts a lot of things I need to do I don't want to do it I don't",
    "start": "1547740",
    "end": "1553770"
  },
  {
    "text": "think about it so I like to use a tool to help me and I'm using serverless serverless framework is great for that",
    "start": "1553770",
    "end": "1561150"
  },
  {
    "text": "and it's got a add-on called serverless step functions which makes it really easy to build step functions kind of",
    "start": "1561150",
    "end": "1569100"
  },
  {
    "text": "based on the name and so I'm using servlets framework and it's fantastic",
    "start": "1569100",
    "end": "1574250"
  },
  {
    "text": "that one of the benefits of the serverless framework is I can define everything in one file I can find my I",
    "start": "1574250",
    "end": "1579690"
  },
  {
    "text": "am role statements I can define my lambda function handlers I can define my lambda function triggers my step",
    "start": "1579690",
    "end": "1585030"
  },
  {
    "text": "function States my CloudFormation for everything else that step that serverless framework doesn't support yet",
    "start": "1585030",
    "end": "1591030"
  },
  {
    "text": "I can just throw in the cloud formation template inside my Serb list Yama file",
    "start": "1591030",
    "end": "1597130"
  },
  {
    "text": "so let me talk a little bit about my demo here are the products that are the",
    "start": "1597130",
    "end": "1603820"
  },
  {
    "text": "things that are using now okay when somebody does a demo I think the golden rule is keep it",
    "start": "1603820",
    "end": "1609789"
  },
  {
    "text": "simple so I try to keep it simple I try to think okay how can I do this simplest way possible with the minimum number of",
    "start": "1609789",
    "end": "1616000"
  },
  {
    "text": "products and I ended up with this list it's a little bit more complicated than I expected but we've got code commit",
    "start": "1616000",
    "end": "1623830"
  },
  {
    "text": "code commit is my repository it's basically a get repo I've got s3 you know all know what s3 is",
    "start": "1623830",
    "end": "1631030"
  },
  {
    "text": "I got step functions because this is a step functions talk I got lambda because it's also a lambda",
    "start": "1631030",
    "end": "1638200"
  },
  {
    "text": "talk I've got cloud formation because I there were some things that server list doesn't support I am because I'm dealing",
    "start": "1638200",
    "end": "1644770"
  },
  {
    "text": "with roles ECR ECS repository because i need to create a image that mike is",
    "start": "1644770",
    "end": "1651520"
  },
  {
    "text": "going to build my gatsby website I'm using gasps PJs because it's awesome I'm",
    "start": "1651520",
    "end": "1656590"
  },
  {
    "text": "using dynamo DB because it's storing all my notes for my slides which you're reading on SF techno evangelists calm",
    "start": "1656590",
    "end": "1662860"
  },
  {
    "text": "it's also got kind of a bookmark of Here I am I'm at this slide right now in case",
    "start": "1662860",
    "end": "1669460"
  },
  {
    "text": "you know if I see the same slide over and over and over again hopefully it's not publishing the same",
    "start": "1669460",
    "end": "1674470"
  },
  {
    "text": "picture over and over and over again I spent a little time on that but um I've also got cloud front an api gateway and",
    "start": "1674470",
    "end": "1681130"
  },
  {
    "text": "code build code build is amazing this amazing tool for building out the using",
    "start": "1681130",
    "end": "1686919"
  },
  {
    "text": "those docker images to build out my gatsby site basically you know it's a",
    "start": "1686919",
    "end": "1692200"
  },
  {
    "text": "way of running ECS by the minute before we had Fargate",
    "start": "1692200",
    "end": "1697900"
  },
  {
    "text": "a couple days ago and we've got SNS so all a lot of neat things being used here",
    "start": "1697900",
    "end": "1705250"
  },
  {
    "text": "so again try to keep it simple yeah totally says take a look at my serb list at yama file so in my surplus CMO file there's a",
    "start": "1705250",
    "end": "1713440"
  },
  {
    "text": "bunch of things here first off I give it a name I gave it a nice name because I've inserted this way mat W reinvent",
    "start": "1713440",
    "end": "1720970"
  },
  {
    "text": "2017 so people know whose it is and it's for reinvent 2017 so I know what it is",
    "start": "1720970",
    "end": "1726460"
  },
  {
    "text": "because I'm gonna forget in a few weeks and it's building a website I'm using a few plugins I'm using",
    "start": "1726460",
    "end": "1731840"
  },
  {
    "text": "pseudos parameters pseudo parameters is great for being able to use basically kind of like CloudFormation",
    "start": "1731840",
    "end": "1738370"
  },
  {
    "text": "variables inside my entire service yamo file server step functions because it's",
    "start": "1738370",
    "end": "1745790"
  },
  {
    "text": "a step functions talk and then serverless web pack because i wanted to use the new cool hotness in javascript",
    "start": "1745790",
    "end": "1753260"
  },
  {
    "text": "because as you know no lambda supports nodejs 6.10 oh yeah and i want to use",
    "start": "1753260",
    "end": "1760940"
  },
  {
    "text": "async/await i want to use other things that I can't use yet so I'm using webpack too and",
    "start": "1760940",
    "end": "1765980"
  },
  {
    "text": "babble to compile that down to something that node.js 6.10 will work with and",
    "start": "1765980",
    "end": "1771730"
  },
  {
    "text": "then I'm giving I'm also giving a custom value of reinvent 2017 website that I'm",
    "start": "1771730",
    "end": "1777860"
  },
  {
    "text": "going to use elsewhere in my surplus yamo file so continued you have to give",
    "start": "1777860",
    "end": "1783410"
  },
  {
    "text": "it a provider now the provider here is AWS because hey we're at an AWS event but it there are other providers that",
    "start": "1783410",
    "end": "1791030"
  },
  {
    "text": "you could put in there potentially there's a runtime of nodejs 6.10 and a stage and region and then I give it some",
    "start": "1791030",
    "end": "1797150"
  },
  {
    "text": "I am we rolled statements these aren't these are not all the roll statements are in there just a few that fit on the slide I need",
    "start": "1797150",
    "end": "1803720"
  },
  {
    "text": "to make sure that my lambda can start so when I define when I create my when I",
    "start": "1803720",
    "end": "1809780"
  },
  {
    "text": "run sls deploy it's gonna create a roll that's gonna do everything and now i",
    "start": "1809780",
    "end": "1816500"
  },
  {
    "text": "have to give it that roll access and so the first one is I'm giving that roll",
    "start": "1816500",
    "end": "1821720"
  },
  {
    "text": "access to start my state machine and I give it my actual state machine back so",
    "start": "1821720",
    "end": "1827179"
  },
  {
    "text": "that that resource that's actually one of the magic little variables that are given to you with the service - step -",
    "start": "1827179",
    "end": "1833360"
  },
  {
    "text": "functions plug-in I don't get how it works but it does and then I want to",
    "start": "1833360",
    "end": "1839540"
  },
  {
    "text": "allow it access to my code commit repo so I give it access to the code MIT and those dollars or pound sign",
    "start": "1839540",
    "end": "1845900"
  },
  {
    "text": "AWS colon colon account ID those are the server lists pseudo parameters that are",
    "start": "1845900",
    "end": "1851300"
  },
  {
    "text": "that I use and then I go in and define functions so these are not all the",
    "start": "1851300",
    "end": "1857390"
  },
  {
    "text": "functions suite is still working awesome",
    "start": "1857390",
    "end": "1861550"
  },
  {
    "text": "these aren't all the functions but there's some of them so build site is one of my functions and it's got as",
    "start": "1862940",
    "end": "1869130"
  },
  {
    "text": "being the handler as handler duck-billed what changed handler that what change and so forth but my step function",
    "start": "1869130",
    "end": "1876029"
  },
  {
    "text": "actually gets initiated by another lambda called start step function really creative names and that has an event of",
    "start": "1876029",
    "end": "1883830"
  },
  {
    "text": "an SNS so it's waiting for that SMS message to show up and when it does is gonna trigger my state machine and then",
    "start": "1883830",
    "end": "1893100"
  },
  {
    "text": "I define my step function so there's a bunch of hierarchies at the top that they're there for some reason",
    "start": "1893100",
    "end": "1898440"
  },
  {
    "text": "but then I define my the name of my state machine I called up my state machine because that's a lovely name for a state machine and then it's gonna",
    "start": "1898440",
    "end": "1904980"
  },
  {
    "text": "start at what changed so what change is a type of task and I have to give it a resource and so I give it the resource",
    "start": "1904980",
    "end": "1911700"
  },
  {
    "text": "again well those pseudo parameters in there and then after this one is going to move on to build docker or not and so",
    "start": "1911700",
    "end": "1919049"
  },
  {
    "text": "at this point I'm going to switch over to a little bit of a demo and I'm going",
    "start": "1919049",
    "end": "1924630"
  },
  {
    "text": "to press the right button number three oh that worked",
    "start": "1924630",
    "end": "1929850"
  },
  {
    "text": "sweet okay and so we've got my SF techno evangelist comm site over here it's I've",
    "start": "1929850",
    "end": "1937889"
  },
  {
    "text": "got a little plugin that's or extension that's updating the site every 30 seconds or so so I'll press refresh and",
    "start": "1937889",
    "end": "1944130"
  },
  {
    "text": "over here on the right side really really small all right let's let's fix",
    "start": "1944130",
    "end": "1949860"
  },
  {
    "text": "that oh really really big okay",
    "start": "1949860",
    "end": "1955529"
  },
  {
    "text": "it is it is 303 p.m. just to prove that",
    "start": "1955529",
    "end": "1964470"
  },
  {
    "text": "it is 303 p.m. and it is I never now",
    "start": "1964470",
    "end": "1974510"
  },
  {
    "text": "paste that in and let's get rid of that line and that's all good to go",
    "start": "1974510",
    "end": "1982250"
  },
  {
    "text": "let's as an amazing commit message okay",
    "start": "1982250",
    "end": "1988889"
  },
  {
    "text": "cool all your commit messages are that useful right okay and then",
    "start": "1988889",
    "end": "1995309"
  },
  {
    "text": "over to my website and get push and hopefully this is all going to work",
    "start": "1995309",
    "end": "2001899"
  },
  {
    "text": "Ethernet it's awesome because I have an Ethernet cable and you don't sorry okay",
    "start": "2001899",
    "end": "2009019"
  },
  {
    "text": "so that's up and hopefully pretty soon we're going to see all this Oh reload",
    "start": "2009019",
    "end": "2016628"
  },
  {
    "text": "okay reload okay cool here's my state machines and I want to",
    "start": "2018820",
    "end": "2025070"
  },
  {
    "text": "go to not live blogger but to reload to",
    "start": "2025070",
    "end": "2033789"
  },
  {
    "text": "my state machine so I've got a state machine that's running here's the one that's running right now so basically",
    "start": "2033789",
    "end": "2041299"
  },
  {
    "text": "there's a few things I've already shown you and a little bit bigger but it",
    "start": "2041299",
    "end": "2046820"
  },
  {
    "text": "skipped over a section of billdocker because I don't need it to build a docker container because all I did was update a single webpage and then I have",
    "start": "2046820",
    "end": "2053868"
  },
  {
    "text": "it build the site and so build site is just going to build the gasps PJs",
    "start": "2053869",
    "end": "2059148"
  },
  {
    "text": "website let's zoom in a bit there so I move around here there we go so now it's",
    "start": "2059149",
    "end": "2065358"
  },
  {
    "text": "on build site it's actually on wait for build so it's waiting for like 20 seconds and then going to is a built yet",
    "start": "2065359",
    "end": "2071270"
  },
  {
    "text": "and if it is or if it's not then cycle back is it built yet and why did I",
    "start": "2071270",
    "end": "2078290"
  },
  {
    "text": "choose 20 seconds and it's gonna take a minute half whoa if I chose a minute and a half and it takes a minute and a half",
    "start": "2078290",
    "end": "2083450"
  },
  {
    "text": "and one second now I've gotta wait for three minutes so wait for 20 seconds makes sense Oh looks like it's done and so I should be",
    "start": "2083450",
    "end": "2090440"
  },
  {
    "text": "able to go to SF techno evangelist refresh the page okay well what I would",
    "start": "2090440",
    "end": "2102349"
  },
  {
    "text": "have seen there oh okay it's three oh look at that look at that let's zoom in its 303 p.m. and I'm doing a late demo",
    "start": "2102349",
    "end": "2109160"
  },
  {
    "text": "whoa sweet okay cool so we saw a little",
    "start": "2109160",
    "end": "2115130"
  },
  {
    "text": "bit about actually doing one nope I gotta move back over to HDMI one I hope",
    "start": "2115130",
    "end": "2121720"
  },
  {
    "text": "yes so what did I just do there I'm committed to a code commit and that",
    "start": "2121720",
    "end": "2128819"
  },
  {
    "text": "triggered off SNS which I had a lambda waiting for and that lambda then ran so",
    "start": "2128819",
    "end": "2137530"
  },
  {
    "text": "I my definition in my service animal file for start step function I said",
    "start": "2137530",
    "end": "2143260"
  },
  {
    "text": "there's a handler its handler that start step function it's waiting for an SNS",
    "start": "2143260",
    "end": "2148690"
  },
  {
    "text": "message and I've given it an environment variable so the actual step start step",
    "start": "2148690",
    "end": "2154089"
  },
  {
    "text": "function function I didn't want to give you all the code because there's a lot of stuff in there so I give you as like pseudocode it's basically just getting",
    "start": "2154089",
    "end": "2161559"
  },
  {
    "text": "the step function a RN from service it's getting the SNS details and it's",
    "start": "2161559",
    "end": "2168309"
  },
  {
    "text": "starting a step function execution pretty easy and that step function is going to be this one and basically that",
    "start": "2168309",
    "end": "2175990"
  },
  {
    "text": "set function is saying what changed in the repo so it does a diff if it's talker related so it's dockerfile",
    "start": "2175990",
    "end": "2182829"
  },
  {
    "text": "or my build spec yeah mo or a few other files then tell code Bill to build that",
    "start": "2182829",
    "end": "2188410"
  },
  {
    "text": "docker image so builds a docker image and waits for it and then checks if it's",
    "start": "2188410",
    "end": "2193599"
  },
  {
    "text": "done ways for it checks if it's done wait for it finally it's done and then it pushes that to the ECS repo when",
    "start": "2193599",
    "end": "2200619"
  },
  {
    "text": "that's is done then it can go ahead and build the docker build the website using that new docker image or the old docker",
    "start": "2200619",
    "end": "2206680"
  },
  {
    "text": "image if it didn't have to update one and then wait for it wait for it wait for it and then send Matt Matt and SMS",
    "start": "2206680",
    "end": "2212040"
  },
  {
    "text": "now I guess I've turned off my ringer because I am getting a thousand SMS",
    "start": "2212040",
    "end": "2218950"
  },
  {
    "text": "messages as we go through this so yeah thankfully I turn that off but my wrist",
    "start": "2218950",
    "end": "2224049"
  },
  {
    "text": "is keeps buzzing because every 30 seconds I'm getting a notice saying I built it I built it I built it so maybe",
    "start": "2224049",
    "end": "2234430"
  },
  {
    "text": "that wasn't the best decision for a demo okay so it's sending at Matt and SMS great so let's take a look at so this is",
    "start": "2234430",
    "end": "2244329"
  },
  {
    "text": "kind of the interface that you use when working with set functions the way you're doing some debugging you'll go in here you can click on info to see some",
    "start": "2244329",
    "end": "2252040"
  },
  {
    "text": "information about that particular task or that particular state if there's any exceptions you'll see that in the except",
    "start": "2252040",
    "end": "2258370"
  },
  {
    "text": "and tab input shows you what's going in what the Jason is that's going into that task and output is going to show you the",
    "start": "2258370",
    "end": "2266890"
  },
  {
    "text": "output so the input is the SNS message ID a commit ID and for some reason I",
    "start": "2266890",
    "end": "2273250"
  },
  {
    "text": "threw branch in there because I thought it might be useful and I ended up not using it in my service yam oh my what",
    "start": "2273250",
    "end": "2280840"
  },
  {
    "text": "changed function or task it's I have a resource and next is going to be build",
    "start": "2280840",
    "end": "2287830"
  },
  {
    "text": "docker or not figure out if I need to build docker or not and I also have throw in a free retries because I was",
    "start": "2287830",
    "end": "2294460"
  },
  {
    "text": "having some sort of weird issue and so I just have a retry a few times about four times waiting every three seconds and",
    "start": "2294460",
    "end": "2300940"
  },
  {
    "text": "usually the second time around it just works so the pseudocode for what changed",
    "start": "2300940",
    "end": "2306250"
  },
  {
    "text": "it says get the commit of the triggered step function get the previous commit what's different between those two and",
    "start": "2306250",
    "end": "2312370"
  },
  {
    "text": "if it was docker related then set has docker to true otherwise set has docker to false again do one thing do one thing",
    "start": "2312370",
    "end": "2319540"
  },
  {
    "text": "and that's it in yourself and your Landis so that's my one thing it's doing it's what changed and so that hands it",
    "start": "2319540",
    "end": "2326560"
  },
  {
    "text": "off to the next state and so it's just has set has docker is true and so now",
    "start": "2326560",
    "end": "2334390"
  },
  {
    "text": "it's gonna go to build docker billdocker or not it's a choice that choice the choices available are if has docker is",
    "start": "2334390",
    "end": "2341890"
  },
  {
    "text": "true go to build docker if has docker is false go to build site pretty simple",
    "start": "2341890",
    "end": "2347170"
  },
  {
    "text": "stuff so build docker is a task it's a lambda function and it's going",
    "start": "2347170",
    "end": "2353260"
  },
  {
    "text": "after it this is done it's gonna go on to wait for docker build so build docker",
    "start": "2353260",
    "end": "2358660"
  },
  {
    "text": "all it does is start the code build to build my doctor image really really simple and now as I'm building this the",
    "start": "2358660",
    "end": "2369850"
  },
  {
    "text": "first time you know I see that it kind of works but it fails because I didn't have the right",
    "start": "2369850",
    "end": "2375580"
  },
  {
    "text": "I am role permission so I go back into the service animal file add one more permission oh that didn't work I had one",
    "start": "2375580",
    "end": "2382780"
  },
  {
    "text": "more permission so this is how my kind of workflow going through this was you",
    "start": "2382780",
    "end": "2388840"
  },
  {
    "text": "know I had an idea I put it in a bunch of passes to kind of build out the flow replace them with",
    "start": "2388840",
    "end": "2395300"
  },
  {
    "text": "lambdas and as I needed more permissions go into I am roles to add those permissions so it triggers off a code",
    "start": "2395300",
    "end": "2404120"
  },
  {
    "text": "build now code build the way code build works is it you have to give it a docker",
    "start": "2404120",
    "end": "2410630"
  },
  {
    "text": "image now that talker image can live on docker hub it can live on ECS it can live on your own repos that",
    "start": "2410630",
    "end": "2417410"
  },
  {
    "text": "you've got dr. repose or Dr Hubbs that you've got so you push that in and that",
    "start": "2417410",
    "end": "2423740"
  },
  {
    "text": "builds that are creates that docker machine and then you pass it a build Spector yeah Mille and the build Spector",
    "start": "2423740",
    "end": "2430010"
  },
  {
    "text": "Yama file is just this list of things you want it to do and so for my build",
    "start": "2430010",
    "end": "2435020"
  },
  {
    "text": "spec yamo is do a bunch of docker stuff at the beginning I log in to Amazon ECR and then build my docker image do my",
    "start": "2435020",
    "end": "2442850"
  },
  {
    "text": "tagging when you build a docker image and you're gonna post it up to ECS it tells you what exactly what things you",
    "start": "2442850",
    "end": "2448670"
  },
  {
    "text": "need to do to tag it and then push my docker image image up to ECS great so",
    "start": "2448670",
    "end": "2456350"
  },
  {
    "text": "then I go to wait for dr. build it's just a type of wait I'm gonna wait for 20 seconds and next thing is is the",
    "start": "2456350",
    "end": "2462530"
  },
  {
    "text": "container built or not where is the container built so is the container built it's a type of task it's a lambda",
    "start": "2462530",
    "end": "2467600"
  },
  {
    "text": "and it's gonna move on to container built or not and all at their input I",
    "start": "2467600",
    "end": "2472850"
  },
  {
    "text": "give it a container build ID so that I can go know where to go to find out is this build done yet and is the container",
    "start": "2472850",
    "end": "2480500"
  },
  {
    "text": "built just says get the build info from code build and check if it's done it's",
    "start": "2480500",
    "end": "2486050"
  },
  {
    "text": "really really simple and if it's done then spit out done done equals true so the output",
    "start": "2486050",
    "end": "2492140"
  },
  {
    "text": "container build done is true now it can move on to the choice and then yeah",
    "start": "2492140",
    "end": "2499580"
  },
  {
    "text": "container built or not as container build done is true then move on to build site container build done false move on",
    "start": "2499580",
    "end": "2505940"
  },
  {
    "text": "to move back to wait for docker build really really all these things are really simple because you do one thing",
    "start": "2505940",
    "end": "2511670"
  },
  {
    "text": "you do one thing over and over again my build spec yamo for my gatsby site a",
    "start": "2511670",
    "end": "2519080"
  },
  {
    "text": "little bit different because i don't need to build a docker image I'm just",
    "start": "2519080",
    "end": "2524240"
  },
  {
    "text": "AWS s3 sync from my kind of roll site pages that's where so I'm generating",
    "start": "2524240",
    "end": "2530160"
  },
  {
    "text": "these markdown files based on those images that are created by that Raspberry Pi and sticking them in raw",
    "start": "2530160",
    "end": "2535500"
  },
  {
    "text": "site pages I'm just synchronizing that back over to source posts and then build",
    "start": "2535500",
    "end": "2541109"
  },
  {
    "text": "my Gatsby site and and then do a sync back to the bucket that is actually my",
    "start": "2541109",
    "end": "2546869"
  },
  {
    "text": "website so here's kind of a view of that",
    "start": "2546869",
    "end": "2552900"
  },
  {
    "text": "same workflow that my Raspberry Pi is doing that picture is my Raspberry Pi in my hotel room which okay it looks like a",
    "start": "2552900",
    "end": "2561059"
  },
  {
    "text": "kind of like a person but it's a Raspberry Pi and again I'm one of the",
    "start": "2561059",
    "end": "2566309"
  },
  {
    "text": "magic things in there is that going to vici I really really super useful service again I uploaded about 6,000",
    "start": "2566309",
    "end": "2574260"
  },
  {
    "text": "images with different rotations because I wasn't sure what this room was gonna look like and that and then it takes",
    "start": "2574260",
    "end": "2581460"
  },
  {
    "text": "like five hours to process it and then after that every time I submit a new",
    "start": "2581460",
    "end": "2586500"
  },
  {
    "text": "image it just takes like a hundred milliseconds to return back with okay it's slide three and you've gets there's",
    "start": "2586500",
    "end": "2592859"
  },
  {
    "text": "a 99% chance at slide 3 or there's a 2% chance its slide 15 in which case it's",
    "start": "2592859",
    "end": "2599700"
  },
  {
    "text": "not slide 15 because it doesn't know what it is now it's not perfect if",
    "start": "2599700",
    "end": "2605099"
  },
  {
    "text": "you've looked at the site you'll see that sometimes it has no idea what page I'm on in which case the title is just",
    "start": "2605099",
    "end": "2611579"
  },
  {
    "text": "live blog update ideally I would have done this two or three days after the",
    "start": "2611579",
    "end": "2618029"
  },
  {
    "text": "announcement of the when there like a recognition OCR service just a day or",
    "start": "2618029",
    "end": "2623760"
  },
  {
    "text": "two ago I would have updated my demo because I live on the white outside I would have updated my demo to also",
    "start": "2623760",
    "end": "2630089"
  },
  {
    "text": "include some OCR data - you know verify if it doesn't know which one it is maybe I can do a secondary verify with",
    "start": "2630089",
    "end": "2637049"
  },
  {
    "text": "that with that recognition service and then moved on to dine mode to grab my",
    "start": "2637049",
    "end": "2643380"
  },
  {
    "text": "notes and moves on to code build ok so I've talked about step functions",
    "start": "2643380",
    "end": "2648809"
  },
  {
    "text": "and oh by the way I work for this company called data dog and data dog we do monitoring so I thought let me just",
    "start": "2648809",
    "end": "2655440"
  },
  {
    "text": "throw in a couple slides about how do we do monitoring of all this stuff well we we",
    "start": "2655440",
    "end": "2661410"
  },
  {
    "text": "do monitoring in two ways first off there's the cloud watch metrics from cloud watch metrics we're collecting a",
    "start": "2661410",
    "end": "2667260"
  },
  {
    "text": "lot of data about lambda the the lambda execution times and how many failures",
    "start": "2667260",
    "end": "2672570"
  },
  {
    "text": "there were how many you know other thing you know there's like seven or so metrics that we're collecting there and",
    "start": "2672570",
    "end": "2678960"
  },
  {
    "text": "we're collecting similar functions are similar metrics from from step functions",
    "start": "2678960",
    "end": "2684470"
  },
  {
    "text": "but then we can also do custom metrics so with custom metrics basically where",
    "start": "2684470",
    "end": "2691610"
  },
  {
    "text": "you in your lambda function you're writing aligned to the log file if",
    "start": "2691610",
    "end": "2697920"
  },
  {
    "text": "you're using nodejs it's gonna be consistent so at log if using Python it's gonna be print I think it's some",
    "start": "2697920",
    "end": "2704820"
  },
  {
    "text": "monitoring string and that monitoring string just looks like monitoring all in caps followed by a pipe character",
    "start": "2704820",
    "end": "2710340"
  },
  {
    "text": "followed by time since the UNIX epoch a",
    "start": "2710340",
    "end": "2715730"
  },
  {
    "text": "value whether it's a count or a few other options there give it a metric",
    "start": "2716780",
    "end": "2723360"
  },
  {
    "text": "name any name you like and some tags because data dog at data dog we rely on",
    "start": "2723360",
    "end": "2729690"
  },
  {
    "text": "tags for a lot of the way that you create dashboards and such so spit out",
    "start": "2729690",
    "end": "2735630"
  },
  {
    "text": "that monstering line and so what are the lambda metrics here the metrics that we grab from cloud watch lambda duration",
    "start": "2735630",
    "end": "2743970"
  },
  {
    "text": "min max some errors invocation throttles an iterator age and then here are the",
    "start": "2743970",
    "end": "2749280"
  },
  {
    "text": "set function metrics there's a bunch more so we'll collect all those and of",
    "start": "2749280",
    "end": "2754500"
  },
  {
    "text": "course you know we're collecting this data I forget every 15 seconds or so and",
    "start": "2754500",
    "end": "2760070"
  },
  {
    "text": "we're keeping that data at you know you could also send data to us through the API and we're gonna keep it at that",
    "start": "2760070",
    "end": "2765990"
  },
  {
    "text": "granularity for 15 months but so we're gonna keep that data for a long time so",
    "start": "2765990",
    "end": "2771330"
  },
  {
    "text": "you can figure out you know are you doing better today than you were 15 months ago or twelve months ago so",
    "start": "2771330",
    "end": "2777570"
  },
  {
    "text": "hopefully you're making a steady progress up and making things better and better so that's a little bit about",
    "start": "2777570",
    "end": "2783900"
  },
  {
    "text": "monitoring and the next slide is my",
    "start": "2783900",
    "end": "2789270"
  },
  {
    "text": "summary because we're at the end of this session now I've got a QR code for those the cool kids in the audience",
    "start": "2789270",
    "end": "2796730"
  },
  {
    "text": "and that cute QR code is going to the same URL as this repos repo on github and it's the source",
    "start": "2796730",
    "end": "2805470"
  },
  {
    "text": "code for the two surplice step functions as well as some little utilities I",
    "start": "2805470",
    "end": "2811440"
  },
  {
    "text": "needed to basically reset dynamo back to zero because I'm on the I'm starting my",
    "start": "2811440",
    "end": "2816480"
  },
  {
    "text": "session again or pushing some bogus images and real images up there so so I don't always have to have a Raspberry Pi",
    "start": "2816480",
    "end": "2822359"
  },
  {
    "text": "running and a bunch of other little things that were useful for me it is a",
    "start": "2822359",
    "end": "2827630"
  },
  {
    "text": "demo it's there's no there was there's no responsible if you do something bad",
    "start": "2827630",
    "end": "2834559"
  },
  {
    "text": "but there's I the next thing I need to",
    "start": "2834559",
    "end": "2841769"
  },
  {
    "text": "do as soon as this session is done I'm gonna rise from documentation so that you know what any of that does so I need",
    "start": "2841769",
    "end": "2847259"
  },
  {
    "text": "to do that still but in summary step functions make a WS lambda orchestration",
    "start": "2847259",
    "end": "2852420"
  },
  {
    "text": "really really easy hopefully you can see that you know lambda was the new hotness last year I think step functions should",
    "start": "2852420",
    "end": "2858900"
  },
  {
    "text": "be the new hotness this year it is super cool I am really excited about it I am really excited about potentially having",
    "start": "2858900",
    "end": "2866789"
  },
  {
    "text": "one less excuse not to update my blog more than every you know or you know 15",
    "start": "2866789",
    "end": "2872609"
  },
  {
    "text": "months next thing lambda and step functions can be a super interesting part of your infrastructure and you",
    "start": "2872609",
    "end": "2878489"
  },
  {
    "text": "should definitely monitor your lambda functions and everything else in your own infrastructure whether using data",
    "start": "2878489",
    "end": "2883559"
  },
  {
    "text": "dog or somebody else you should totally monitor to ensure peak performance as you move forward thank you so much my",
    "start": "2883559",
    "end": "2890849"
  },
  {
    "text": "name again is Matt Williams I can be reached on twitter at techno evangelists and I work at data dog come visit us in",
    "start": "2890849",
    "end": "2896489"
  },
  {
    "text": "the data dog booth thanks a lot [Applause]",
    "start": "2896489",
    "end": "2905550"
  }
]