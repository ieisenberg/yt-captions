[
  {
    "start": "0",
    "end": "36000"
  },
  {
    "text": "ready whoo okay um",
    "start": "8389",
    "end": "16590"
  },
  {
    "text": "welcome to the second-to-last deep dive today or I guess are it's our last service deep dive and then the last",
    "start": "16590",
    "end": "22410"
  },
  {
    "text": "session after this we'll be on advanced container scheduling and management just in case you weren't sleeping enough at",
    "start": "22410",
    "end": "28529"
  },
  {
    "text": "4:30 buckle up so this is a deep dive on AWS",
    "start": "28529",
    "end": "33870"
  },
  {
    "text": "for our gate we spoke about it this morning in the State of the Union Paul mentioned a couple times in the deep",
    "start": "33870",
    "end": "39540"
  },
  {
    "start": "36000",
    "end": "71000"
  },
  {
    "text": "dives on ECS KS big for our gate difference not actually",
    "start": "39540",
    "end": "45030"
  },
  {
    "text": "a service it's the underlying technology that's going to power both Fargate mode",
    "start": "45030",
    "end": "50640"
  },
  {
    "text": "for easy s and coming soon ish Fargate mode for eks so this is the part we",
    "start": "50640",
    "end": "57719"
  },
  {
    "text": "talked about this morning that means you don't manage the underlying cluster infrastructure you just do everything at",
    "start": "57719",
    "end": "63239"
  },
  {
    "text": "the container level so that means via the task definition or the kubernetes pod sometime",
    "start": "63239",
    "end": "68820"
  },
  {
    "text": "soonish what does Fargate mean so practically speaking means you don't do",
    "start": "68820",
    "end": "76320"
  },
  {
    "start": "71000",
    "end": "87000"
  },
  {
    "text": "the scaling or the setup or the resource allocation you just pass it your your definition so your task definition your",
    "start": "76320",
    "end": "83070"
  },
  {
    "text": "pod and then Fargate handles all the other pieces why Fargate and if you've",
    "start": "83070",
    "end": "90390"
  },
  {
    "start": "87000",
    "end": "115000"
  },
  {
    "text": "if you've run containers in production yourself you can probably answer this question for me which is that running",
    "start": "90390",
    "end": "98610"
  },
  {
    "text": "one container is really easy and running one container with kubernetes or with docker or just just dock or an",
    "start": "98610",
    "end": "104759"
  },
  {
    "text": "orchestration tool or with ECS and been there done that wrote the medium post and said",
    "start": "104759",
    "end": "110729"
  },
  {
    "text": "containers are so easy yet on what everyone's talking about why does everyone need kubernetes running lots of",
    "start": "110729",
    "end": "116159"
  },
  {
    "start": "115000",
    "end": "153000"
  },
  {
    "text": "containers though is really difficult and all the problems that you have in scaling and running a micro servo no",
    "start": "116159",
    "end": "122070"
  },
  {
    "text": "less is compounded by 10 20 50 a hundred times when you're running running",
    "start": "122070",
    "end": "128489"
  },
  {
    "text": "containers and especially in production that's a ton of work right so high availability",
    "start": "128489",
    "end": "133870"
  },
  {
    "text": "resiliency making sure that your latency is okay making sure that your response times are okay making sure that you're",
    "start": "133870",
    "end": "139280"
  },
  {
    "text": "managing your resources and your scheduling properly and those are all",
    "start": "139280",
    "end": "144650"
  },
  {
    "text": "things that become extra important in your production system but that's where your handle your capacity so you",
    "start": "144650",
    "end": "150290"
  },
  {
    "text": "probably have X number or more containers there using an SES got us",
    "start": "150290",
    "end": "155840"
  },
  {
    "text": "part of the way so it made it easier so it removed well for docker on ec2 you're",
    "start": "155840",
    "end": "162379"
  },
  {
    "text": "responsible for a lot more of this so if you wanted to run just docker with no orchestration engine you'd be",
    "start": "162379",
    "end": "167690"
  },
  {
    "text": "responsible for writing some sort of custom logic that figured out okay well when do I need more of this service when",
    "start": "167690",
    "end": "173269"
  },
  {
    "text": "do I need less of it out of my pool of 50 instances which one do i allocate",
    "start": "173269",
    "end": "178639"
  },
  {
    "text": "this task to there's a ton of work there that a lot of people don't want to do themselves so ECS took over a couple",
    "start": "178639",
    "end": "184609"
  },
  {
    "text": "parts of this so the scheduling and the orchestration basically so how do I manage my cluster resources how do I",
    "start": "184609",
    "end": "190280"
  },
  {
    "text": "place the containers on top of that but it's not totally hands-off so you can",
    "start": "190280",
    "end": "196400"
  },
  {
    "text": "still write play some policies you'd still define your task definition your resource constraints your networking your security groups your policies your",
    "start": "196400",
    "end": "203750"
  },
  {
    "text": "roles those are all things that you are responsible for and ECS so it got you part of the way but it didn't get you to",
    "start": "203750",
    "end": "209930"
  },
  {
    "text": "a place where your hands off and you could just write about containers to run containers so forget is here to just",
    "start": "209930",
    "end": "217459"
  },
  {
    "start": "215000",
    "end": "231000"
  },
  {
    "text": "enable you to focus on the application so just at the container level just to the task level nothing else so you're",
    "start": "217459",
    "end": "224419"
  },
  {
    "text": "responsible only for defining your container and the resources that you want to give your service and then everything else is on Fargate and I",
    "start": "224419",
    "end": "231229"
  },
  {
    "start": "231000",
    "end": "261000"
  },
  {
    "text": "think the best description that I've seen of this is someone asks you for a sandwich they're not asking you to put",
    "start": "231229",
    "end": "237229"
  },
  {
    "text": "them in charge of a global sandwich the district's chain they just want a sandwich so with Fargate it's just the sandwich",
    "start": "237229",
    "end": "243769"
  },
  {
    "text": "so no one has to be in charge of just deploying an orchestration and management and service discovery it's",
    "start": "243769",
    "end": "250940"
  },
  {
    "text": "just there because ultimately all you really wanted was your workload all you wanted was your job your container you",
    "start": "250940",
    "end": "256159"
  },
  {
    "text": "didn't care about all the logistics that went into that you just wanted your  sandwich so sorry we got a",
    "start": "256159",
    "end": "265550"
  },
  {
    "start": "261000",
    "end": "318000"
  },
  {
    "text": "little pg-13 for a second there I probably would have done that knocked",
    "start": "265550",
    "end": "271520"
  },
  {
    "text": "out like - it really makes my point I think some carefully chosen obscenities so this is a little bit more what it",
    "start": "271520",
    "end": "279020"
  },
  {
    "text": "ends up looking like between ECS and Fargate so in this one things that you're responsible for so the EECS agent running docker itself",
    "start": "279020",
    "end": "285979"
  },
  {
    "text": "picking the right AMI and with Fargate that bottom layer is removed so you're responsible for just the contents of",
    "start": "285979",
    "end": "292550"
  },
  {
    "text": "those boxes and how big the boxes are and nothing else so what does that look",
    "start": "292550",
    "end": "298520"
  },
  {
    "text": "like in practice so this is should be a familiar screenshot at this point because Paul also used it and he took the other path so what does it look like",
    "start": "298520",
    "end": "306620"
  },
  {
    "text": "for our gate is it does not look any different all you're doing is choosing a different launch type so instead of",
    "start": "306620",
    "end": "312889"
  },
  {
    "text": "choosing easy - I'm choosing far gate a couple caveats but we'll start off with",
    "start": "312889",
    "end": "319250"
  },
  {
    "start": "318000",
    "end": "356000"
  },
  {
    "text": "some similarities so the first one is that both ECS and far gate use the same schema so they both take a task",
    "start": "319250",
    "end": "325460"
  },
  {
    "text": "definition as an input the task definition looks exactly the same its AWS so it's just a big pile of JSON so",
    "start": "325460",
    "end": "334000"
  },
  {
    "text": "those happiness task definitions are not the same and that is the API is that you",
    "start": "334000",
    "end": "339500"
  },
  {
    "text": "can use to launch and manage those containers are also the same all you're changing is the launch type for some of",
    "start": "339500",
    "end": "344510"
  },
  {
    "text": "you you might be changing the network mode if you were not previously looking at something like AWS PPC and there's a",
    "start": "344510",
    "end": "351169"
  },
  {
    "text": "big reason for this right so one of them is easy migration so you can run a hybrid cluster so I can have both easy",
    "start": "351169",
    "end": "357770"
  },
  {
    "start": "356000",
    "end": "435000"
  },
  {
    "text": "two tasks and Fargate tasks coexisting in the same cluster so that's part of it",
    "start": "357770",
    "end": "363110"
  },
  {
    "text": "and the other part is that I should be able to switch back and forth so if I start off as we had a nice question",
    "start": "363110",
    "end": "368690"
  },
  {
    "text": "earlier if I start off in the beginning with using far gate and I decide hey actually I want to control something on",
    "start": "368690",
    "end": "375020"
  },
  {
    "text": "my cluster I want to run some sort of demon scheduler I want to install a package myself you can just switch your",
    "start": "375020",
    "end": "381139"
  },
  {
    "text": "launch type back and you can go from far gate to ec2 so you can switch back and forth a",
    "start": "381139",
    "end": "386860"
  },
  {
    "text": "really common question around kind of the initial state is a far gate to is what happens if I'm not all the way",
    "start": "386860",
    "end": "393500"
  },
  {
    "text": "there so what happens if I still find myself in a situation where I need to exec into the container that I'm running to either",
    "start": "393500",
    "end": "400430"
  },
  {
    "text": "to debug or to perform an operation or run some sort of command and the answer is in Fargate you don't but if you're in",
    "start": "400430",
    "end": "409220"
  },
  {
    "text": "a position where you might need to be doing that what I would suggest doing is is some kind of flag so you can flip",
    "start": "409220",
    "end": "414890"
  },
  {
    "text": "back and forth between easy to type and Fargate type so if you if you were like oh well you know I have a persistent",
    "start": "414890",
    "end": "420260"
  },
  {
    "text": "problem with the container and I'd really like to run in there and run and then run something or unsought package",
    "start": "420260",
    "end": "426410"
  },
  {
    "text": "you can flip back and forth in to you is easy to type where you can executor the container like you would have before so",
    "start": "426410",
    "end": "434570"
  },
  {
    "text": "we said that they share the same the same schema which is a task definition so what's exactly as a task definition",
    "start": "434570",
    "end": "441200"
  },
  {
    "start": "435000",
    "end": "514000"
  },
  {
    "text": "if you're just joining us in the case of Fargate it's kind of everything right so",
    "start": "441200",
    "end": "447710"
  },
  {
    "text": "it's an immutable document it describes everything that there is to know about your container so it contains a container definition which is some",
    "start": "447710",
    "end": "454760"
  },
  {
    "text": "resources and the URL that you get your image from so a docker hub URL or an",
    "start": "454760",
    "end": "460850"
  },
  {
    "text": "amazon ECR registry URL all containers that belong to the same task are",
    "start": "460850",
    "end": "466340"
  },
  {
    "text": "co-located on the same host you can have up to ten per the same task and you",
    "start": "466340",
    "end": "471860"
  },
  {
    "text": "identify it by a family and version so web app one web app two messaging app",
    "start": "471860",
    "end": "477440"
  },
  {
    "text": "ten you cannot change the test definition itself once you've created the version so you effectively version",
    "start": "477440",
    "end": "484610"
  },
  {
    "text": "your application by adding new revisions of the task definition so if I want to change my CPU from 1024 to 2048 I would",
    "start": "484610",
    "end": "494720"
  },
  {
    "text": "do that by creating a new revision of the task definition and then I would let ECS handle the deployment so draining",
    "start": "494720",
    "end": "500510"
  },
  {
    "text": "the connections off the old version of my task and then rolling those connections over on to the new version a",
    "start": "500510",
    "end": "505990"
  },
  {
    "text": "couple things that are required you must have the name and the image URL and in the case of for gate you must have some",
    "start": "505990",
    "end": "512300"
  },
  {
    "text": "resources they're primitives beyond just the task definition are shared with the",
    "start": "512300",
    "end": "518000"
  },
  {
    "text": "ec2 type launch types so something like V PC you have to run far get into V PC",
    "start": "518000",
    "end": "523669"
  },
  {
    "text": "there's no option you can use I am policies in cloud watch so a lot of the same kind of primitives",
    "start": "523669",
    "end": "530230"
  },
  {
    "text": "that are that are around an ECE in the ec2 type which I keep trying to call ECS but really they're always yes a lot",
    "start": "530230",
    "end": "537130"
  },
  {
    "text": "of acronyms a lot of ease those primitives are all the same so you use the V PC the same way the security",
    "start": "537130",
    "end": "543730"
  },
  {
    "text": "groups the same way cloud watch I am policies the same way workflow",
    "start": "543730",
    "end": "548920"
  },
  {
    "start": "548000",
    "end": "637000"
  },
  {
    "text": "looks a little bit different there's in for gated so just like each gases frankly it's a little hard to demo",
    "start": "548920",
    "end": "554260"
  },
  {
    "text": "because part of the whole point of forget is that you don't do a lot of stuff anymore so it used to be that I could just do",
    "start": "554260",
    "end": "560230"
  },
  {
    "text": "like a cool demo and be like look at how good I am I can make docker containers and I can put the money CCS and now it's like well",
    "start": "560230",
    "end": "566080"
  },
  {
    "text": "not anymore so it's the world's most anti-climatic demo but the the flow",
    "start": "566080",
    "end": "571510"
  },
  {
    "text": "looks something like this right so I build my container image which is the same as it used to be locally so I work",
    "start": "571510",
    "end": "576580"
  },
  {
    "text": "locally as a developer I I add some packages I expose a port I copy over",
    "start": "576580",
    "end": "583270"
  },
  {
    "text": "some source code from somewhere else I choose my Orchestrator so right now you",
    "start": "583270",
    "end": "589030"
  },
  {
    "text": "only have one choice and it's CCS but coming soon sometime in the future",
    "start": "589030",
    "end": "595150"
  },
  {
    "text": "same with kubernetes so at that point in the future I could then choose one Orchestrator or over the other so type e",
    "start": "595150",
    "end": "601900"
  },
  {
    "text": "CS or type kubernetes and you call this defining your application but this is literally just",
    "start": "601900",
    "end": "608230"
  },
  {
    "text": "the task definition or the crew Nettie's pod so I drop that in I say this is the resources that it needs and here's my",
    "start": "608230",
    "end": "613690"
  },
  {
    "text": "definition and then Fargate does the rest so that's the new kind of",
    "start": "613690",
    "end": "619240"
  },
  {
    "text": "deployment and development process with Fargate by design not super different",
    "start": "619240",
    "end": "624700"
  },
  {
    "text": "from the ECS process you're just missing a whole bunch of different steps so I don't have to do quite so many of the",
    "start": "624700",
    "end": "632160"
  },
  {
    "text": "connecting different pieces all I really need to do is to find my container for",
    "start": "632160",
    "end": "637750"
  },
  {
    "text": "the world's most popular question how do I know what I should use for gate versus",
    "start": "637750",
    "end": "642760"
  },
  {
    "text": "ec2 mode we had a bunch of these questions both after the State of the",
    "start": "642760",
    "end": "647890"
  },
  {
    "text": "Union and during the State of the Union so I'll give some some higher-level advice I realized that everyone is very",
    "start": "647890",
    "end": "654130"
  },
  {
    "text": "tired of us all saying depends on your workload but we say it for a reason because the way the reason that I use",
    "start": "654130",
    "end": "660459"
  },
  {
    "text": "for gait is not the same as why Paul might use for gait it's not the same as why you might use kubernetes on ec2 so",
    "start": "660459",
    "end": "666819"
  },
  {
    "text": "it depends on your workload it depends on what you can maintain and scale and what works best for your process some",
    "start": "666819",
    "end": "673480"
  },
  {
    "text": "words of advice I think between far gate and ec2 mode for Fargate if you have a",
    "start": "673480",
    "end": "678819"
  },
  {
    "start": "674000",
    "end": "741000"
  },
  {
    "text": "task definition and some idea about resource usage and you're not doing",
    "start": "678819",
    "end": "683829"
  },
  {
    "text": "anything else beyond that so of all of your configuration is fine inside the the container and task definition then",
    "start": "683829",
    "end": "690819"
  },
  {
    "text": "you're fine with far gate and I actually recommend far gate is a really nice starting point if you're doing anything",
    "start": "690819",
    "end": "697119"
  },
  {
    "text": "else so installing a daemon SSH into the host exactly into the container running",
    "start": "697119",
    "end": "703600"
  },
  {
    "text": "everything that needs like advanced Linux capabilities perhaps for gate is not the right point",
    "start": "703600",
    "end": "709480"
  },
  {
    "text": "for you to start at so there are some trade-offs by going back and forth right so by far gate by passing on more more",
    "start": "709480",
    "end": "716559"
  },
  {
    "text": "of the management responsibilities to AWS for things like high availability and deployments I lose a little bit of",
    "start": "716559",
    "end": "722980"
  },
  {
    "text": "control over things like being able to install my own packages on the host so if you're if you're doing any sort of",
    "start": "722980",
    "end": "730149"
  },
  {
    "text": "customization maybe start with you so yes if everything can be defined for your application and just the container",
    "start": "730149",
    "end": "736389"
  },
  {
    "text": "and task definition then Fargate would be a good place to start so we're gonna",
    "start": "736389",
    "end": "742089"
  },
  {
    "text": "look at resource usage in Fargate because i'm determined to have the most exciting afternoon for you all possible",
    "start": "742089",
    "end": "748379"
  },
  {
    "text": "because it's one of the only things left beyond the task definition that really",
    "start": "748379",
    "end": "753399"
  },
  {
    "text": "controls your workload and Fargate so we're gonna look at that if you're not totally bored to death don't worry our",
    "start": "753399",
    "end": "761079"
  },
  {
    "text": "last session is 400-level and since everyone has been asking me so many delightful questions about",
    "start": "761079",
    "end": "766449"
  },
  {
    "text": "networking I added some slides so so compute and we",
    "start": "766449",
    "end": "773199"
  },
  {
    "start": "773000",
    "end": "884000"
  },
  {
    "text": "compute resources in Fargate a little bit different it's a sliding scale now instead of kind of a free-for-all and",
    "start": "773199",
    "end": "779949"
  },
  {
    "text": "what you can choose the scale is on the next slide before anyone raises their hand I choose my CPU I choose my memory",
    "start": "779949",
    "end": "786819"
  },
  {
    "text": "I have both task level resources and level resources so a task level resource",
    "start": "786819",
    "end": "791830"
  },
  {
    "text": "would be the total CPU in memory shared across all containers that are part of that task that is required and I can",
    "start": "791830",
    "end": "798910"
  },
  {
    "text": "also within that set container level resources so a use case for this before anyone says well why do I need to",
    "start": "798910",
    "end": "805480"
  },
  {
    "text": "separate memory fields the person that came up to me afterwards and said I have",
    "start": "805480",
    "end": "810700"
  },
  {
    "text": "one container that steals on my memory you my friend you are why there's that other field so so not all containers",
    "start": "810700",
    "end": "820180"
  },
  {
    "text": "consume resources responsibly or in the same way so if you have a container that is a memory hog or likes to steal up all",
    "start": "820180",
    "end": "827920"
  },
  {
    "text": "the available CPU that is why you have that second level field so those continue level ones define how you share",
    "start": "827920",
    "end": "834970"
  },
  {
    "text": "resources between the all the containers that belong to the task and just that",
    "start": "834970",
    "end": "840430"
  },
  {
    "text": "specific container so I could pursue if you've ever seen the error message and ECS it says task X has been killed for",
    "start": "840430",
    "end": "846880"
  },
  {
    "text": "memory usage that's why it hit a hard limit and was killed for not acting responsibly and you could ignore that",
    "start": "846880",
    "end": "854410"
  },
  {
    "text": "error technically by just continuing to let it restart restart restart until it eats up all the memory and is killed or",
    "start": "854410",
    "end": "860140"
  },
  {
    "text": "you could give it a new limit or you could fix the error that was causing it",
    "start": "860140",
    "end": "865180"
  },
  {
    "text": "to eat up all the memory so many paths Padawans that that one is a choice for you guys in the following session we",
    "start": "865180",
    "end": "873940"
  },
  {
    "text": "will look a little bit more closely on how containers share resources back and forth and how how I know when to set a",
    "start": "873940",
    "end": "881440"
  },
  {
    "text": "hard limit versus a soft limit so I have a little bit of that in here now but not",
    "start": "881440",
    "end": "886660"
  },
  {
    "start": "884000",
    "end": "889000"
  },
  {
    "text": "too much so this is the chart that I promised so this is how you do resource configuration and Fargate you have a",
    "start": "886660",
    "end": "891670"
  },
  {
    "start": "889000",
    "end": "942000"
  },
  {
    "text": "couple of choices and by a couple I mean 50 but I did not list all 50 on this",
    "start": "891670",
    "end": "897430"
  },
  {
    "text": "document but you get a sliding scale basically of CPU to memory so someone",
    "start": "897430",
    "end": "904720"
  },
  {
    "text": "asked me in Helsinki after this could I see arete eclis give it an infinite",
    "start": "904720",
    "end": "910240"
  },
  {
    "text": "amount of resources because it's not my cluster and the answer is no not",
    "start": "910240",
    "end": "915520"
  },
  {
    "text": "infinite or you'd probably get a call from someone it ate it but you ask being",
    "start": "915520",
    "end": "920589"
  },
  {
    "text": "like do you know maybe not maybe not so much but pretty generous so you can get up pretty high",
    "start": "920589",
    "end": "927310"
  },
  {
    "text": "you can allocate a fair amount of resources to these containers the top",
    "start": "927310",
    "end": "932860"
  },
  {
    "text": "level would be 4096 for CPU and then up to 30 gigabytes of memory so pretty",
    "start": "932860",
    "end": "939700"
  },
  {
    "text": "generous not infinite guy in Helsinki so container CPU sharing so I promise that",
    "start": "939700",
    "end": "945520"
  },
  {
    "start": "942000",
    "end": "989000"
  },
  {
    "text": "I only have like two pages on this even though I think it's really cool so task CPU is a hard limit it cannot have more",
    "start": "945520",
    "end": "952510"
  },
  {
    "text": "CPU than that they cannot exceed that hard container CPU is optional so you",
    "start": "952510",
    "end": "958270"
  },
  {
    "text": "remember how we have the tasks in the container task is what's shared container is optional but also by",
    "start": "958270",
    "end": "966880"
  },
  {
    "text": "default your containers will share everything that's allocated to the task so will be equally distributed between",
    "start": "966880",
    "end": "972820"
  },
  {
    "text": "all the containers have belong to the task I think in set container CPU to control that sharing so I could say that",
    "start": "972820",
    "end": "980410"
  },
  {
    "text": "my greedy application gets a larger percentage of the CPU than a really lightweight application that maybe adds",
    "start": "980410",
    "end": "986800"
  },
  {
    "text": "things to a queue same basic principles for memory so task memory again is a",
    "start": "986800",
    "end": "992650"
  },
  {
    "text": "hard limit my task cannot have exceed the amount of memory that I have allotted to it",
    "start": "992650",
    "end": "997720"
  },
  {
    "text": "container level ones are optional and a really frequently asked question also is how do I know which instance type to",
    "start": "997720",
    "end": "1003750"
  },
  {
    "text": "choose and how do I know that I've allocated the right resources for for my task here for my container this is a bad",
    "start": "1003750",
    "end": "1011640"
  },
  {
    "text": "answer I guess but I generally start with the default assuming that someone",
    "start": "1011640",
    "end": "1016890"
  },
  {
    "text": "at AWS has put more research into this and I would care to do but then a lot of",
    "start": "1016890",
    "end": "1022680"
  },
  {
    "text": "it depends on you watching your application so you logging things you looking at metrics to see if your",
    "start": "1022680",
    "end": "1027990"
  },
  {
    "text": "container is getting so maybe you have an alert on the ECS agent logs for a",
    "start": "1027990",
    "end": "1033240"
  },
  {
    "text": "message that says that that task was killed from memory usage so that's something you need to pay attention to",
    "start": "1033240",
    "end": "1038459"
  },
  {
    "text": "because you can get a lot of performance increases from kind of tuning how much",
    "start": "1038460",
    "end": "1043560"
  },
  {
    "text": "memory and CPU you allocate you can just use the defaults though so if you do not",
    "start": "1043560",
    "end": "1049500"
  },
  {
    "text": "know the answer it is okay to not know the answer and you can use the defaults and you can just adjust",
    "start": "1049500",
    "end": "1055240"
  },
  {
    "text": "as you as you see fit also if you know that you have a really lightweight container so like a proxy that all it's",
    "start": "1055240",
    "end": "1061390"
  },
  {
    "text": "really doing is sending requests other places maybe you know ok you know what I don't really need to allocate much resources to this and so you could drop",
    "start": "1061390",
    "end": "1068710"
  },
  {
    "text": "them a little bit but you're always required to have a number for tasks for",
    "start": "1068710",
    "end": "1074440"
  },
  {
    "text": "the CPU and the memory that's the hard limit and then you can set soft limits which changes how they share memory",
    "start": "1074440",
    "end": "1080410"
  },
  {
    "text": "between themselves moving on a little bit from resource usage platform version",
    "start": "1080410",
    "end": "1087130"
  },
  {
    "start": "1082000",
    "end": "1187000"
  },
  {
    "text": "so with Fargate obviously it's a managed service which means that you need to have a little bit of control about",
    "start": "1087130",
    "end": "1092770"
  },
  {
    "text": "whether we upgrade you or not to a different platform version so passing the platform version argument if you you",
    "start": "1092770",
    "end": "1098770"
  },
  {
    "text": "can pin a version and we will not upgrade you until you change the pin value or you can leave it blank and we",
    "start": "1098770",
    "end": "1104559"
  },
  {
    "text": "will upgrade as we come out with new platform versions so if you're running a",
    "start": "1104559",
    "end": "1109870"
  },
  {
    "text": "production system that perhaps is dependent on a certain platform version",
    "start": "1109870",
    "end": "1115179"
  },
  {
    "text": "pin pin the version number so that we do not automatically upgrade you will will",
    "start": "1115179",
    "end": "1121690"
  },
  {
    "text": "automatically send those upgrades out as you release new ones but the platform version itself refers to the runtime in",
    "start": "1121690",
    "end": "1128410"
  },
  {
    "text": "which your containers are being executed so the environment on those cluster hosts that you don't control anymore",
    "start": "1128410",
    "end": "1134200"
  },
  {
    "text": "that your containers are being executed in yes I do not know exactly but I'm",
    "start": "1134200",
    "end": "1143530"
  },
  {
    "text": "gonna guess it's gonna be like eks where we support a couple previous ones a number to be determined and I also",
    "start": "1143530",
    "end": "1150640"
  },
  {
    "text": "depends I assume it's for most services I think it depends a lot on how people are using it like if you look at usage",
    "start": "1150640",
    "end": "1157690"
  },
  {
    "text": "numbers and no one ever is using more than two versions back I imagine that we'd focus more on supporting newer",
    "start": "1157690",
    "end": "1163870"
  },
  {
    "text": "versions rather than supporting additional older ones but it's usually at least a couple but not too far back",
    "start": "1163870",
    "end": "1173380"
  },
  {
    "text": "if that makes sense because at some point you have to upgrade just it's a way of life",
    "start": "1173380",
    "end": "1180480"
  },
  {
    "text": "so let's talk about networking baby I put in jokes to make networking fun is",
    "start": "1180480",
    "end": "1189190"
  },
  {
    "start": "1187000",
    "end": "1288000"
  },
  {
    "text": "it working I'll ask you again in ten slides and we'll see if anyone still thinks",
    "start": "1189190",
    "end": "1195009"
  },
  {
    "text": "networking is fun we're gonna try to make it kind of fun because I added some",
    "start": "1195009",
    "end": "1200080"
  },
  {
    "text": "of these because in between every single session we've had today there have been at least four or five networking",
    "start": "1200080",
    "end": "1205389"
  },
  {
    "text": "questions so now we're gonna have networking 101 and everyone will learn the answers to these questions and then",
    "start": "1205389",
    "end": "1211299"
  },
  {
    "text": "you can ask me something different ready so since we're talking about far",
    "start": "1211299",
    "end": "1216429"
  },
  {
    "text": "gate and the front gate deep dive I started off with three things that you cannot do in Fargate because I'm helpful",
    "start": "1216429",
    "end": "1222039"
  },
  {
    "text": "so these are the three original docker networking types there are many like it",
    "start": "1222039",
    "end": "1227200"
  },
  {
    "text": "but these ones are mine first one is bridge that is the default it's called docker zero if you're",
    "start": "1227200",
    "end": "1235480"
  },
  {
    "text": "someone from hacker news it says there's a different way to pronounce this I don't care I'm gonna say doctor zero",
    "start": "1235480",
    "end": "1241559"
  },
  {
    "text": "this is the default behavior so for ECS it is also the default behavior for standard docker just with",
    "start": "1241559",
    "end": "1248409"
  },
  {
    "text": "no orchestration system this is a default behavior this means the containers on the same network communicate with each other via",
    "start": "1248409",
    "end": "1254110"
  },
  {
    "text": "IP address does not get you automatic service discovery if you want to connect",
    "start": "1254110",
    "end": "1259120"
  },
  {
    "text": "your containers you can use link I know that I have three hyphens in there it's because PowerPoint insists that I want",
    "start": "1259120",
    "end": "1264519"
  },
  {
    "text": "only one - when in fact I want to so now there's three so now no one's winning but at least it's not one giant line",
    "start": "1264519",
    "end": "1272429"
  },
  {
    "text": "none there is no network interface attached it is only local loopback which I will explain very shortly host means",
    "start": "1272429",
    "end": "1280720"
  },
  {
    "text": "that I map directly to the host network so network settings inside the container are a direct equivalent to network",
    "start": "1280720",
    "end": "1286899"
  },
  {
    "text": "settings on the host more networking to answer frequently asked questions both",
    "start": "1286899",
    "end": "1292509"
  },
  {
    "start": "1288000",
    "end": "1376000"
  },
  {
    "text": "on my Twitter feed and in this room yes you can create your own bridge networks no I will not be covering it in this",
    "start": "1292509",
    "end": "1299350"
  },
  {
    "text": "topic if you're interested in learning how to create your own bridge networks I will send you some very cool links if",
    "start": "1299350",
    "end": "1304539"
  },
  {
    "text": "you find that interesting if you're looking to learn more about overlay networks which I know that Paul",
    "start": "1304539",
    "end": "1310119"
  },
  {
    "text": "mentioned it is more commonly talked about in the text of kubernetes so something like",
    "start": "1310119",
    "end": "1315730"
  },
  {
    "text": "console or docker swarm I'm also not covering this but when the slides go out",
    "start": "1315730",
    "end": "1320740"
  },
  {
    "text": "I did a link for some info from the the console team that talks a little bit",
    "start": "1320740",
    "end": "1325960"
  },
  {
    "text": "about about what overlay networking is if you're looking to figure out how your",
    "start": "1325960",
    "end": "1331330"
  },
  {
    "text": "containers communicate or in some cases are failing to communicate with each other I actually highly recommend the docker",
    "start": "1331330",
    "end": "1338200"
  },
  {
    "text": "documentation so networking is worth a whole many many conversations of its own",
    "start": "1338200",
    "end": "1343900"
  },
  {
    "text": "so this isn't an exhaustive primer on networking this is just the basics that you know a little bit about what we're",
    "start": "1343900",
    "end": "1349720"
  },
  {
    "text": "talking about when we say what kind of networking type something is using so if",
    "start": "1349720",
    "end": "1355120"
  },
  {
    "text": "you're looking for a deep dive on inner inner container communication or more on these networking types the darker",
    "start": "1355120",
    "end": "1362410"
  },
  {
    "text": "documentation has also answered a lot of questions on networking because that's everyone's favorite docker topic is but",
    "start": "1362410",
    "end": "1368110"
  },
  {
    "text": "how do my containers talk to each other so start there if you're looking for more information please feel free to",
    "start": "1368110",
    "end": "1373870"
  },
  {
    "text": "tweet me because I would love to talk about it for our purposes though for talking about things like ECS and",
    "start": "1373870",
    "end": "1380140"
  },
  {
    "start": "1376000",
    "end": "1399000"
  },
  {
    "text": "Fargate there's two kinds of networking that we care about so the first one is container or local networking and the",
    "start": "1380140",
    "end": "1385300"
  },
  {
    "text": "second one is internal networking so you can sorry that's what I said",
    "start": "1385300",
    "end": "1392320"
  },
  {
    "text": "did I not say that oh it's fine you guys knew what I met it's on the slides so",
    "start": "1392320",
    "end": "1398230"
  },
  {
    "text": "the first one is how do containers communicate with each other so on the same network so on a single ec2 instance",
    "start": "1398230",
    "end": "1405420"
  },
  {
    "start": "1399000",
    "end": "1424000"
  },
  {
    "text": "two components could communicate via local the loopback interface so this is",
    "start": "1405420",
    "end": "1411520"
  },
  {
    "text": "how it would work on just a standard ec2 instance without docker also is I have two separate processes running they can",
    "start": "1411520",
    "end": "1417700"
  },
  {
    "text": "communicate via the loopback interface those let's processes communicate directly again this is not an exhaustive",
    "start": "1417700",
    "end": "1426160"
  },
  {
    "start": "1424000",
    "end": "1499000"
  },
  {
    "text": "primer on networking so if you would like to add that there are many more things that you can do with the loopback interface please tell Paul",
    "start": "1426160",
    "end": "1435030"
  },
  {
    "text": "after this after this brief commercial interruption and external networking is",
    "start": "1435030",
    "end": "1440309"
  },
  {
    "text": "probably what comes up more commonly for us though which is how do I communicate with services that are not part of my",
    "start": "1440309",
    "end": "1446309"
  },
  {
    "text": "same task or to external services so in a lot of cases this means that our traffic is being routed through a V PC I",
    "start": "1446309",
    "end": "1453020"
  },
  {
    "text": "launched tasks into subnets subnets define traffic through things called",
    "start": "1453020",
    "end": "1458789"
  },
  {
    "text": "routing tables if you're falling asleep yet it's because a lot of you if you're a software engineer might have not done",
    "start": "1458789",
    "end": "1464280"
  },
  {
    "text": "this before not created your own V PC if you're an ops engineer you've probably a lot of clothes up in quality time with",
    "start": "1464280",
    "end": "1470610"
  },
  {
    "text": "the V PC console so you know all about routing tables and two types of subnets",
    "start": "1470610",
    "end": "1476370"
  },
  {
    "text": "though which is important for the following public means there's an Internet gateway attached private no",
    "start": "1476370",
    "end": "1482490"
  },
  {
    "text": "internet gateway you communicate through an app so that's network address translation these you don't need to know",
    "start": "1482490",
    "end": "1489780"
  },
  {
    "text": "about networking though to use ECS and Fargate I'm telling you so that you can make an informed decision when you know",
    "start": "1489780",
    "end": "1495870"
  },
  {
    "text": "that when Paul mentions that there's a bunch of different networking types or when we mentioned that Fargate only uses",
    "start": "1495870",
    "end": "1502020"
  },
  {
    "start": "1499000",
    "end": "1563000"
  },
  {
    "text": "AWS PPC and not the previous networking types I want you to know at least a",
    "start": "1502020",
    "end": "1507630"
  },
  {
    "text": "little bit about what that means so what is a what's the difference between a public and a private subnet why do",
    "start": "1507630",
    "end": "1513450"
  },
  {
    "text": "private subnets need not gateways that's attached and public's have internet gateways so if you're planning on",
    "start": "1513450",
    "end": "1520830"
  },
  {
    "text": "running this in production and you're the one that's responsible for it please please please do more research than just",
    "start": "1520830",
    "end": "1526140"
  },
  {
    "text": "this but hopefully we answered some of the very basic questions on how you can use this yourself",
    "start": "1526140",
    "end": "1532250"
  },
  {
    "text": "AWS VPC so this is the new networking type that we've been talking about all day this is your only your only option",
    "start": "1532250",
    "end": "1540630"
  },
  {
    "text": "for Fargate so if you want a different networking type other than AWS VPC you need to use ECS or I guess kubernetes",
    "start": "1540630",
    "end": "1547850"
  },
  {
    "text": "but that was Paul's talk so you have to use AWS VPC that means that each task",
    "start": "1547850",
    "end": "1553799"
  },
  {
    "text": "has its own eni that's allocated through us you do not have to do it by default it receives a private IP you can also",
    "start": "1553799",
    "end": "1560700"
  },
  {
    "text": "allocate a public IP so containers that are used that are launched as part of",
    "start": "1560700",
    "end": "1566370"
  },
  {
    "start": "1563000",
    "end": "1596000"
  },
  {
    "text": "that same ask so remember you can have up to 10 container definitions in the same task they can use that local loopback this is",
    "start": "1566370",
    "end": "1574350"
  },
  {
    "text": "jet lag is hard then you can use the local loopback interface which is what I just talked about a couple slides ago so",
    "start": "1574350",
    "end": "1580770"
  },
  {
    "text": "they can communicate to each other the same way with an en I allocation comes",
    "start": "1580770",
    "end": "1585810"
  },
  {
    "text": "to private IP and I are at the task level though so how do I control how",
    "start": "1585810",
    "end": "1591480"
  },
  {
    "text": "containers that are not part of the same task communicate a little bit of a",
    "start": "1591480",
    "end": "1596670"
  },
  {
    "start": "1596000",
    "end": "1622000"
  },
  {
    "text": "process here on how the VPC integration works so this is the process that I just",
    "start": "1596670",
    "end": "1602460"
  },
  {
    "text": "said though right so we create the en I we allocate it from the subnet that you're launching your task into we",
    "start": "1602460",
    "end": "1609450"
  },
  {
    "text": "attach the en I for you and then that task now has an Associated private IP you can control inbound and outbound",
    "start": "1609450",
    "end": "1616590"
  },
  {
    "text": "traffic via security groups the same way that you would for any other type of container infrastructure I have a slide",
    "start": "1616590",
    "end": "1624900"
  },
  {
    "start": "1622000",
    "end": "1653000"
  },
  {
    "text": "addressing this in a little bit where we're looking at this literally the same screenshot and I will show you why but",
    "start": "1624900",
    "end": "1630260"
  },
  {
    "text": "you have to run Fargate in a VPC you have no other option there is nothing",
    "start": "1630260",
    "end": "1636060"
  },
  {
    "text": "there is no other road forward above you PC you can pass in its own configuration I know that some of you have tried the",
    "start": "1636060",
    "end": "1642390"
  },
  {
    "text": "far gate getting started wizard which does not let you add your own VPC that's",
    "start": "1642390",
    "end": "1647970"
  },
  {
    "text": "just a getting started wizard for learning so definitely in real life use your own VPC why do we care about Ian's",
    "start": "1647970",
    "end": "1655860"
  },
  {
    "start": "1653000",
    "end": "1696000"
  },
  {
    "text": "eyes why do I keep talking about them Ian's eyes and fog gate are what control internet access so at ASCII and AI",
    "start": "1655860",
    "end": "1662070"
  },
  {
    "text": "controls the network access both to and from your task so also things like image",
    "start": "1662070",
    "end": "1667080"
  },
  {
    "text": "pull so from ECR or and other registry or pushing logs to cloud watch to push",
    "start": "1667080",
    "end": "1673650"
  },
  {
    "text": "logs and pull images you must have outbound internet access even if your application does not need a pond",
    "start": "1673650",
    "end": "1679320"
  },
  {
    "text": "Internet access so you can either do this with a private task without bound access or a public",
    "start": "1679320",
    "end": "1684630"
  },
  {
    "text": "task that has both in Met and outbound so only allowing outbound means that it will accept no requests in inbound and",
    "start": "1684630",
    "end": "1691410"
  },
  {
    "text": "outbound means it will both emit data and also accept incoming requests if you",
    "start": "1691410",
    "end": "1697530"
  },
  {
    "start": "1696000",
    "end": "1714000"
  },
  {
    "text": "are more of a picture person this is what local networking looks like so they communicate via the shared ni",
    "start": "1697530",
    "end": "1704960"
  },
  {
    "text": "because it's two containers that are part of the same task and then public and private IP I waited for you you're",
    "start": "1704960",
    "end": "1713539"
  },
  {
    "text": "welcome this one is a little bit more complicated showing non-local networking",
    "start": "1713539",
    "end": "1720649"
  },
  {
    "start": "1714000",
    "end": "1741000"
  },
  {
    "text": "so both public and private so you'll see that my public has a public subnet and",
    "start": "1720649",
    "end": "1727490"
  },
  {
    "text": "then my private subnet my private subnet is communicating through the NAT gateway so I accept my outbound traffic through",
    "start": "1727490",
    "end": "1734149"
  },
  {
    "text": "the not gateway that one only has a private IP but might have an Internet gateway in front of my public subnet",
    "start": "1734149",
    "end": "1741549"
  },
  {
    "start": "1741000",
    "end": "1762000"
  },
  {
    "text": "this is a little bit of a bigger and better picture of what this might look like from the from the top but you guys",
    "start": "1741549",
    "end": "1750830"
  },
  {
    "text": "learn just learned all of these all of these concepts it is not important necessarily to be able to parrot them",
    "start": "1750830",
    "end": "1756770"
  },
  {
    "text": "all back or to know exactly all the differences the the main takeaway really is that for Fargate only AWS VPC if you",
    "start": "1756770",
    "end": "1766250"
  },
  {
    "text": "find yourself limited by AWS PPC or you're not you don't the behavior doesn't work for you look into the",
    "start": "1766250",
    "end": "1773299"
  },
  {
    "text": "different networking modes for Fargate if you're looking to do anything different I included a couple of links",
    "start": "1773299",
    "end": "1778370"
  },
  {
    "text": "if you would like to learn more about this so the first one is a whole post on just how AWS PPC works in Fargate and",
    "start": "1778370",
    "end": "1786500"
  },
  {
    "text": "then the second one is talking about a more general view of networking for ECS",
    "start": "1786500",
    "end": "1792730"
  },
  {
    "text": "permissions and access so I do all the cool things today obviously exciting",
    "start": "1792730",
    "end": "1799250"
  },
  {
    "text": "topics so we're gonna cover this at a really high level because I think most of you already know this but three kinds",
    "start": "1799250",
    "end": "1806870"
  },
  {
    "text": "of permissions here so cluster permission it's a kind of a people permission so who can launch or perform",
    "start": "1806870",
    "end": "1814399"
  },
  {
    "text": "actions with tasks in your cluster an application permission what can your application containers actually perform",
    "start": "1814399",
    "end": "1819950"
  },
  {
    "text": "and then what we've called housekeeping permissions which is a really friendly way of saying AWS permissions so how do",
    "start": "1819950",
    "end": "1826429"
  },
  {
    "text": "we pull images from ECR or push locks the cloud watch or create me and eyes and your subnets on your behalf so three",
    "start": "1826429",
    "end": "1833840"
  },
  {
    "text": "types and cholesterol level permissions like everything else in AWS are controlled by",
    "start": "1833840",
    "end": "1839060"
  },
  {
    "start": "1834000",
    "end": "1845000"
  },
  {
    "text": "policies you can write an ion policy for a user or a role that lets you take an action in the specific cluster or you",
    "start": "1839060",
    "end": "1846440"
  },
  {
    "start": "1845000",
    "end": "1857000"
  },
  {
    "text": "can write application permissions and those are your kind of your meteor permissions so what can your services",
    "start": "1846440",
    "end": "1852260"
  },
  {
    "text": "actually do what other services can they interact with housekeeping we just",
    "start": "1852260",
    "end": "1858590"
  },
  {
    "start": "1857000",
    "end": "1875000"
  },
  {
    "text": "talked about that a couple different categories so either the the ones that we do to execute on your behalf so to",
    "start": "1858590",
    "end": "1863600"
  },
  {
    "text": "pull an image or a for an exit for example a service role which would let you do something like create subnets or",
    "start": "1863600",
    "end": "1870800"
  },
  {
    "text": "register targets to your load balancer you were just learning that also because",
    "start": "1870800",
    "end": "1877700"
  },
  {
    "start": "1875000",
    "end": "1883000"
  },
  {
    "text": "I just put in another summary but if you're reading the slides at home that's the high-level view of which one does",
    "start": "1877700",
    "end": "1883790"
  },
  {
    "start": "1883000",
    "end": "1939000"
  },
  {
    "text": "which so a couple of fun facts so featuring biggie just making sure",
    "start": "1883790",
    "end": "1891500"
  },
  {
    "text": "everyone's still still awake storage so these are some kind of frequently asked",
    "start": "1891500",
    "end": "1896960"
  },
  {
    "text": "questions so storage on forget is backed by EBS file system space that you get",
    "start": "1896960",
    "end": "1902720"
  },
  {
    "text": "for your container file system 10 gigabytes hmm it's a a limit I'm any you",
    "start": "1902720",
    "end": "1911240"
  },
  {
    "text": "can ask support if you want or an increase but well there L limits are",
    "start": "1911240",
    "end": "1917150"
  },
  {
    "text": "soft limits if you ask enough I think as",
    "start": "1917150",
    "end": "1925580"
  },
  {
    "text": "far as I know that is the default limit I'm not sure what the process would be right now for getting it increased but I",
    "start": "1925580",
    "end": "1932000"
  },
  {
    "text": "assume that it's one of the ones that is still a very new service so it could",
    "start": "1932000",
    "end": "1937070"
  },
  {
    "text": "change it at any point I've already answered this a couple of times but if you're following along at home and you",
    "start": "1937070",
    "end": "1943970"
  },
  {
    "start": "1939000",
    "end": "1950000"
  },
  {
    "text": "run into the same problem which is why do all of my clusters look the same they're hybrid a lot of people have used",
    "start": "1943970",
    "end": "1952670"
  },
  {
    "start": "1950000",
    "end": "1977000"
  },
  {
    "text": "the wizard and have come up to me and say but it's so unsafe because I where can I use my own VPC does that mean that",
    "start": "1952670",
    "end": "1959480"
  },
  {
    "text": "AWS manages the VPC for me the answer is no but in the in the the Fargate getting",
    "start": "1959480",
    "end": "1966440"
  },
  {
    "text": "started wizard it's like here's how far gate concepts work wizard so in that wizard it does create the V",
    "start": "1966440",
    "end": "1972679"
  },
  {
    "text": "PC for you in real production life for far gate you can pass in a V PC",
    "start": "1972679",
    "end": "1978679"
  },
  {
    "start": "1977000",
    "end": "1990000"
  },
  {
    "text": "configuration so you need at least a couple availability zones as multiple subnets in order to distribute traffic",
    "start": "1978679",
    "end": "1983929"
  },
  {
    "text": "properly but you absolutely positively can use and pass in your own V PC",
    "start": "1983929",
    "end": "1990489"
  },
  {
    "start": "1990000",
    "end": "2024000"
  },
  {
    "text": "someone asked me about this after the State of the Union but how do you isolate between your resources and",
    "start": "1990489",
    "end": "1997669"
  },
  {
    "text": "everyone else's resources and Fargate because you're not managing infrastructure anymore it's at the",
    "start": "1997669",
    "end": "2002950"
  },
  {
    "text": "cluster level so everything is defined at the cluster level so anything that's in that cluster it's in that cluster",
    "start": "2002950",
    "end": "2008649"
  },
  {
    "text": "anything outside of that cluster is isolated from the contents of that cluster so the logical architecture",
    "start": "2008649",
    "end": "2014409"
  },
  {
    "text": "choice for a lot of people so far has been I have a production cluster or a staging cluster a testing cluster",
    "start": "2014409",
    "end": "2020109"
  },
  {
    "text": "development cluster that fits really nicely I think with with the with the isolation model here which is that",
    "start": "2020109",
    "end": "2026289"
  },
  {
    "start": "2024000",
    "end": "2032000"
  },
  {
    "text": "everything in the cluster only ever sees things in that in that cluster we'll",
    "start": "2026289",
    "end": "2032919"
  },
  {
    "start": "2032000",
    "end": "2064000"
  },
  {
    "text": "talk a little bit more about load balancers later for Fargate though you do not have the choice to use ELB",
    "start": "2032919",
    "end": "2039580"
  },
  {
    "text": "classic anymore you only have a lb or n lb I just said",
    "start": "2039580",
    "end": "2046029"
  },
  {
    "text": "these but at least two subnets in two different availability zones and you",
    "start": "2046029",
    "end": "2051669"
  },
  {
    "text": "have to use the IP address target type not the instance target type so just",
    "start": "2051669",
    "end": "2057700"
  },
  {
    "text": "some now you knows and for when you you get start with this yourself and a",
    "start": "2057700",
    "end": "2064529"
  },
  {
    "start": "2064000",
    "end": "2153000"
  },
  {
    "text": "couple different CL eyes so we have the AWS CLI which is the everyone knows everyone",
    "start": "2064529",
    "end": "2070929"
  },
  {
    "text": "uses it it's pretty it's the same one that's shared for many AWS services so I can use it for lambda or API gateway or",
    "start": "2070929",
    "end": "2078220"
  },
  {
    "text": "ec2 so same CLI open sourced includes most AWS services I put some links in",
    "start": "2078220",
    "end": "2084158"
  },
  {
    "text": "and for some reason you haven't heard of it and for ecs there's also a second official CLI that's ECS CLI that's the",
    "start": "2084159",
    "end": "2092260"
  },
  {
    "text": "one that supports in a lot of cases docker compose files only works obviously with ECS and Fargate not",
    "start": "2092260",
    "end": "2098589"
  },
  {
    "text": "everything else so you in a lot of cases use docker compose files which has been a really popular",
    "start": "2098589",
    "end": "2104150"
  },
  {
    "text": "request but you can't use them from the main AWS CLI only the either UCS CLI",
    "start": "2104150",
    "end": "2109880"
  },
  {
    "text": "which I realize is confusing because you call it with AWS ECS and this one is just easiest so fun fact some good",
    "start": "2109880",
    "end": "2118430"
  },
  {
    "text": "unofficial options so the one that I'm about to show you is far gate CLI and that's made by a guy named John Pagnotta",
    "start": "2118430",
    "end": "2125050"
  },
  {
    "text": "that one's just for Fargate it's really nice feels a lot like how I want my frog",
    "start": "2125050",
    "end": "2131030"
  },
  {
    "text": "great experience to feel like so actually a lot like the docker command so like tasks run like Fargate tasks run",
    "start": "2131030",
    "end": "2137840"
  },
  {
    "text": "far gate service run they're also cold brew CLI so there's a lot of really nice open-source third-party tools for",
    "start": "2137840",
    "end": "2145250"
  },
  {
    "text": "working with these kind of container setups so if the AWS CLI does not float",
    "start": "2145250",
    "end": "2150500"
  },
  {
    "text": "your boat that's fine too so I'm gonna try to switch windows here which I've",
    "start": "2150500",
    "end": "2156350"
  },
  {
    "text": "been told may or may not work so whoo",
    "start": "2156350",
    "end": "2162730"
  },
  {
    "text": "fingers crossed okay so the wizard that I'm talking about oops oh it didn't switch windows",
    "start": "2162730",
    "end": "2171069"
  },
  {
    "text": "hate this game",
    "start": "2177280",
    "end": "2180210"
  },
  {
    "text": "I'm gonna cancel the demo soon we're just gonna do Q&A does that work",
    "start": "2184240",
    "end": "2190930"
  },
  {
    "text": "okay so just some words of words of thoughts here so from the you get to far",
    "start": "2190930",
    "end": "2198640"
  },
  {
    "text": "gate from the same place and the ec2 console that you see s console that you get to regular ECS right so you'll see",
    "start": "2198640",
    "end": "2204730"
  },
  {
    "text": "that I have a bunch of demo consoles that's not helpful at all so this is how",
    "start": "2204730",
    "end": "2217900"
  },
  {
    "text": "you can tell that they're hybrid right so within that same cluster I have far gate test running IVC two tests running",
    "start": "2217900",
    "end": "2223270"
  },
  {
    "text": "they run in the same place I start them the same way the wizard that everyone has been talking about too much",
    "start": "2223270",
    "end": "2229920"
  },
  {
    "text": "consternation okay",
    "start": "2229920",
    "end": "2237990"
  },
  {
    "text": "well this is a fun game but does anyone have any questions yes in the back can I",
    "start": "2237990",
    "end": "2255940"
  },
  {
    "text": "use to build my hybrid cluster windows container and Linux currently",
    "start": "2255940",
    "end": "2263680"
  },
  {
    "start": "2263000",
    "end": "2762000"
  },
  {
    "text": "not with Windows you can do ec2 and far gate type tasks not the first request",
    "start": "2263680",
    "end": "2269950"
  },
  {
    "text": "that I've heard for for Windows though so I will I will pass that on you can",
    "start": "2269950",
    "end": "2277210"
  },
  {
    "text": "have a hybrid cluster with Windows and ec2 Linux windows on ec2 mode Fargate",
    "start": "2277210",
    "end": "2282880"
  },
  {
    "text": "today is a linux Oni",
    "start": "2282880",
    "end": "2286289"
  },
  {
    "text": "night will any of the back before I go",
    "start": "2292120",
    "end": "2297860"
  },
  {
    "text": "to the front but no that's cheating Paul no nobody won at the front now I need",
    "start": "2297860",
    "end": "2307880"
  },
  {
    "text": "someone in the back though okay after after this yeah is there any strategy in",
    "start": "2307880",
    "end": "2313430"
  },
  {
    "text": "order to keep hot lasers in forget where we're going to deploy our tasks we'll",
    "start": "2313430",
    "end": "2319490"
  },
  {
    "text": "always reuse the same underlying instances - for the running is asking for gate yeah so the question was about",
    "start": "2319490",
    "end": "2327890"
  },
  {
    "text": "the the infrastructure behind the scenes with for gate and how that works how its provisioned etc and the provisioning",
    "start": "2327890",
    "end": "2335510"
  },
  {
    "text": "time so today when you want to deploy a container into Fargo there's a spin up",
    "start": "2335510",
    "end": "2340550"
  },
  {
    "text": "time for around 40 seconds roughly while that infrastructure et cetera is",
    "start": "2340550",
    "end": "2345860"
  },
  {
    "text": "prepared and bought up for you et cetera there so that is something we're looking",
    "start": "2345860",
    "end": "2351350"
  },
  {
    "text": "to optimize ultimately with Fargate we want that to be an optimization task for",
    "start": "2351350",
    "end": "2356660"
  },
  {
    "text": "AWS that shouldn't be something you want to have to worry about like do I need to hop provision things do I need to pre",
    "start": "2356660",
    "end": "2362750"
  },
  {
    "text": "warm things like that whole conversation is the complete opposite of where we want to be with far gate to be honest so",
    "start": "2362750",
    "end": "2368870"
  },
  {
    "text": "those are controls that probably won't be exposed but will be an optimization",
    "start": "2368870",
    "end": "2373970"
  },
  {
    "text": "task for us right to best optimize that pool I would say that from using it the",
    "start": "2373970",
    "end": "2379400"
  },
  {
    "text": "only noticeable like start up warming up time the difference between our game",
    "start": "2379400",
    "end": "2385160"
  },
  {
    "text": "mode and ec2 is that original one that Paul mentioned like that it takes us a couple seconds longer but it actually",
    "start": "2385160",
    "end": "2391160"
  },
  {
    "text": "when you time it it feels like it looks like it takes longer because I'm not doing any of the thing but it actually",
    "start": "2391160",
    "end": "2396500"
  },
  {
    "text": "takes much less time than it previously it took me to click all the buttons so",
    "start": "2396500",
    "end": "2402099"
  },
  {
    "text": "we don't make any guarantees about the infrastructure it's going to land on there that may change as we optimize so",
    "start": "2406039",
    "end": "2416609"
  },
  {
    "text": "it's a networking question um if I want to take a closer look at the data flow would I be able to logically expose the",
    "start": "2416609",
    "end": "2423569"
  },
  {
    "text": "the NI can I tap the possible so you can see the Eni and you can you can get the",
    "start": "2423569",
    "end": "2432539"
  },
  {
    "text": "IP address associated with the Eni so from the Fargate section of the console you should be able to find out how to",
    "start": "2432539",
    "end": "2440819"
  },
  {
    "text": "communicate with the Eni whatever networking which craft you'd like to do to tap the Eni so not all of it will be",
    "start": "2440819",
    "end": "2449069"
  },
  {
    "text": "yes you you can't do network taps with VP season II and I like you can't have",
    "start": "2449069",
    "end": "2454380"
  },
  {
    "text": "the equipment of a spam port AWS VPC just doesn't support that construct so while you can see the en I in your",
    "start": "2454380",
    "end": "2461160"
  },
  {
    "text": "account etc you're not going to be able to like dual homed that Eni and split the traffic off send it in two places",
    "start": "2461160",
    "end": "2467190"
  },
  {
    "text": "etc there you can use things like VPC flow log so so VPC flow logs is when you",
    "start": "2467190",
    "end": "2474210"
  },
  {
    "text": "turn it on for your V PC you're gonna get logs showing all the packets where they want whether they were accepted or",
    "start": "2474210",
    "end": "2479220"
  },
  {
    "text": "denied at a security group level loads of metadata about the packet like the size the source destination port IP",
    "start": "2479220",
    "end": "2485069"
  },
  {
    "text": "address blah blah blah the main thing you don't get with VPC flow logs is the actual packet contents itself you get",
    "start": "2485069",
    "end": "2490829"
  },
  {
    "text": "them a metadata but not the packet contents so that would be my go-to for diagnosing network flows there and",
    "start": "2490829",
    "end": "2496319"
  },
  {
    "text": "there's a whole load of example visualization tools and you know elasticsearch dashboards and stuff",
    "start": "2496319",
    "end": "2501809"
  },
  {
    "text": "Cabana dashboards that you can spin up out of the box that work with VPC flow looks I think flan sure you're on the answer right so you do have visibility",
    "start": "2501809",
    "end": "2508140"
  },
  {
    "text": "into it so you can't you can't see the en I it's not like a secret you and I that you can't see anything so you can't",
    "start": "2508140",
    "end": "2514410"
  },
  {
    "text": "see like the address of it and you can see the en I itself but I think if you're looking for actual contents I don't think there is another option",
    "start": "2514410",
    "end": "2520529"
  },
  {
    "text": "other than flow logs yeah if you find another option other than floor dogs",
    "start": "2520529",
    "end": "2526230"
  },
  {
    "text": "though like you could maybe like a cycle container or something that accesses the",
    "start": "2526230",
    "end": "2532349"
  },
  {
    "text": "same ip just look at the traffic before it made it out and just assume that",
    "start": "2532349",
    "end": "2539280"
  },
  {
    "text": "everything going going through the instance before it actually leaves the instance you could expect it that way or",
    "start": "2539280",
    "end": "2545400"
  },
  {
    "text": "just flip the task mode right and flip it so it runs on ec2 have one host in your ec2 cluster that you're using just",
    "start": "2545400",
    "end": "2551580"
  },
  {
    "text": "for diagnostics and debugging so take that same container rerun it within ec2 and have one of them running in ec2 and",
    "start": "2551580",
    "end": "2558300"
  },
  {
    "text": "then you can TCP dump or whatever you want to do like to your heart's content I actually think hybrid clusters are way",
    "start": "2558300",
    "end": "2564420"
  },
  {
    "text": "way cooler than the name suggests because you can get like the best benefits of like some things being",
    "start": "2564420",
    "end": "2570600"
  },
  {
    "text": "totally managed that you just passed a container definition but then you can keep some things like you don't have to",
    "start": "2570600",
    "end": "2577260"
  },
  {
    "text": "pick one or the other like then you can you can keep an ec2 mode run open for extra debugging or extra cool stuff",
    "start": "2577260",
    "end": "2584130"
  },
  {
    "text": "where you're trying to change like the Linux capabilities or flags they're like the underlying infrastructure so it's",
    "start": "2584130",
    "end": "2589140"
  },
  {
    "text": "actually kind of cool you guys have to consider everything something similar to",
    "start": "2589140",
    "end": "2595620"
  },
  {
    "text": "a ruku where when you try to assess h into that box it will exact a copy of it so right now we don't have access to",
    "start": "2595620",
    "end": "2601260"
  },
  {
    "text": "forget to run exec so something similar to the behavior of miroku where you commit run a new fork of that",
    "start": "2601260",
    "end": "2607680"
  },
  {
    "text": "environment and we can change so when you do that on Heroku does that copy",
    "start": "2607680",
    "end": "2614280"
  },
  {
    "text": "like the member or it does it just rerun that in another place it reruns it so you can do that today right weird",
    "start": "2614280",
    "end": "2620430"
  },
  {
    "text": "Vulgate you can if you rerun it on ec2 right so I think that would be the",
    "start": "2620430",
    "end": "2627390"
  },
  {
    "text": "Heroku similarity on so they're like it's it's the equivalent of taking something just running it on ec2 they're",
    "start": "2627390",
    "end": "2634290"
  },
  {
    "text": "in the same cluster and a separate but related note there has been some talk around working on a more interactive way",
    "start": "2634290",
    "end": "2642060"
  },
  {
    "text": "of debugging containers so I'm not sure exactly what it would look like or what kind of timeline we're looking at but",
    "start": "2642060",
    "end": "2648150"
  },
  {
    "text": "it's been a not uncommon request as for people even if it's not exactly into the containers but some some easier way to",
    "start": "2648150",
    "end": "2656630"
  },
  {
    "text": "inspect the process that's currently running on it even if you're given no actual access but to see be able to see",
    "start": "2656630",
    "end": "2663120"
  },
  {
    "text": "oh actually this is what's running on the container so not sure what would look like but it's something that the team has been talking about why is it",
    "start": "2663120",
    "end": "2669900"
  },
  {
    "text": "called fog a don't say this one the actual story I",
    "start": "2669900",
    "end": "2680460"
  },
  {
    "text": "believe it's a joke well yeah isn't it",
    "start": "2680460",
    "end": "2686980"
  },
  {
    "text": "um are we actually saying that though I don't know well what we can't say",
    "start": "2686980",
    "end": "2695290"
  },
  {
    "text": "definitely is there's a lot of theming around like Star Trek and other space",
    "start": "2695290",
    "end": "2700630"
  },
  {
    "text": "related programs and stuff around the",
    "start": "2700630",
    "end": "2706240"
  },
  {
    "text": "AWS container services a lot of the code names and stuff are based around that sort of thing so big fan space basically",
    "start": "2706240",
    "end": "2714010"
  },
  {
    "text": "because space anyone else especially",
    "start": "2714010",
    "end": "2721990"
  },
  {
    "text": "anyone in the back I need the exercise is fine okay so I believe we have a",
    "start": "2721990",
    "end": "2729010"
  },
  {
    "text": "right now we have a we have a 30-minute break that's scheduled and if I was",
    "start": "2729010",
    "end": "2734320"
  },
  {
    "text": "seeing properly it looks like they had snack trolleys it just went that way so if you're into that sort of thing I",
    "start": "2734320",
    "end": "2740980"
  },
  {
    "text": "think there might be snack time out there also Paul and I will hang out to answer questions for another couple minutes after this and then if you're",
    "start": "2740980",
    "end": "2748450"
  },
  {
    "text": "feeling frisky we'll be talking about advanced scheduling and resource management right after the break",
    "start": "2748450",
    "end": "2755730"
  }
]