[
  {
    "text": "hi and welcome to episode three of build your own video on-demand platform I am",
    "start": "4610",
    "end": "10139"
  },
  {
    "text": "Sean ray from Amazon Web Services and with me today I'm Rob car I'm also from Amazon Web Services and I'm one of the",
    "start": "10139",
    "end": "15809"
  },
  {
    "text": "media and entertainment specialists and today in episode 3 we're going to discuss playback and how the content",
    "start": "15809",
    "end": "21300"
  },
  {
    "text": "gets from your provider and onto your playback device Rob is a specialist in",
    "start": "21300",
    "end": "26700"
  },
  {
    "text": "this area and he's going to talk us through the architecture he has on the board sure so the architecture that we",
    "start": "26700",
    "end": "32430"
  },
  {
    "text": "see on the board really is dedicated to providing a world-class user experience",
    "start": "32430",
    "end": "37469"
  },
  {
    "text": "and allowing the user to discover the content to search for content to see",
    "start": "37469",
    "end": "42870"
  },
  {
    "text": "metadata about the content so that's you know things like the actors that are within the film's or the series that",
    "start": "42870",
    "end": "49409"
  },
  {
    "text": "we're going to be showing it's allowing them to have recommendations provided to them so what do we think this user might",
    "start": "49409",
    "end": "56129"
  },
  {
    "text": "want to see and it's about delivering that experience in a way that's really really fast and really resilient you",
    "start": "56129",
    "end": "63269"
  },
  {
    "text": "know and robust to failure because we know that as soon as users start to receive a slow experience or they start",
    "start": "63269",
    "end": "69840"
  },
  {
    "text": "to see things like images not loading they're really you know stops users from using the service and getting out the",
    "start": "69840",
    "end": "75570"
  },
  {
    "text": "credit card ok and I'm noticing your architecture up here you have AWS wife as one of the services that's not really",
    "start": "75570",
    "end": "81630"
  },
  {
    "text": "a service you know a security service that expect to see in this architecture can you talk me through that sure so content security is really really",
    "start": "81630",
    "end": "89189"
  },
  {
    "text": "important it's you know we have rights holders that have provided the content",
    "start": "89189",
    "end": "94560"
  },
  {
    "text": "terse that we are then providing to users and making sure that remains secure is really really important and so",
    "start": "94560",
    "end": "101189"
  },
  {
    "text": "the security throughout this entire chain that you see on the board it has to be as secure as we can make it and",
    "start": "101189",
    "end": "107009"
  },
  {
    "text": "what really is the front door to that piece so this is where we can stop things like the OWASP top ten list of",
    "start": "107009",
    "end": "114929"
  },
  {
    "text": "vulnerabilities it's where we can do things like blocking specific IPs or specific IP ranges and we can respond to",
    "start": "114929",
    "end": "123240"
  },
  {
    "text": "threats that we see you know lower down in the tiers automatically or manually okay and notice you know past a cloud",
    "start": "123240",
    "end": "131430"
  },
  {
    "text": "front and where you're doing the the CDN you're actually getting into API gateway what are we actually hosting in this",
    "start": "131430",
    "end": "137220"
  },
  {
    "text": "area here so if you think about the the user with their devices at the top so that",
    "start": "137220",
    "end": "143450"
  },
  {
    "text": "might be companion devices like their phones it might be connected televisions it might be you know native websites on",
    "start": "143450",
    "end": "149780"
  },
  {
    "text": "laptops or on desktop computers this is the architecture which is dedicated to",
    "start": "149780",
    "end": "155540"
  },
  {
    "text": "providing that user experience so if you think about any of the common video-on-demand services that you would",
    "start": "155540",
    "end": "161600"
  },
  {
    "text": "have used you'll be pretty used to seeing you know bars or ribbons which have different pieces of content within",
    "start": "161600",
    "end": "167750"
  },
  {
    "text": "them that you can scroll across usually in different categories usually based on recommendations that are made to you and",
    "start": "167750",
    "end": "173690"
  },
  {
    "text": "so if you think about when the user is browsing on their device here if they're using a mobile application it's going to",
    "start": "173690",
    "end": "180739"
  },
  {
    "text": "be talking to a P is that we host and and that really is where API gateway and",
    "start": "180739",
    "end": "186230"
  },
  {
    "text": "lambda come in to providing data back to those devices okay so and you know I",
    "start": "186230",
    "end": "193670"
  },
  {
    "text": "guess one of the things that our users really want to see you know we're into episode three now and the idea is that",
    "start": "193670",
    "end": "199040"
  },
  {
    "text": "we can you know show I guess the user journey through so could you draw out I guess the user journey through this particular playback architecture yeah",
    "start": "199040",
    "end": "206420"
  },
  {
    "text": "absolutely so the first touch point is we've already discussed it is wife and that goes hand-in-hand with cloud front you",
    "start": "206420",
    "end": "212269"
  },
  {
    "text": "know these two are linked together so the device is actually going to be connecting to a cloud front edge",
    "start": "212269",
    "end": "219920"
  },
  {
    "text": "location and this is where content can be cached so if you think about providing that first-class user",
    "start": "219920",
    "end": "225920"
  },
  {
    "text": "experience that I mentioned earlier if we're loading images we want them to load really really fast we want that to",
    "start": "225920",
    "end": "231110"
  },
  {
    "text": "be really snappy we can cache that content in cloud front near to the user to deliver that first-class experience",
    "start": "231110",
    "end": "238209"
  },
  {
    "text": "and we can also block you know spurious actors or malicious actors sorry using",
    "start": "238209",
    "end": "244130"
  },
  {
    "text": "laughs at that point it also allows us to drop you know 99% of a you know other",
    "start": "244130",
    "end": "249170"
  },
  {
    "text": "attacks that we might see out there things like UDP reflection can all be blocked here before it gets into the lower tiers you talked about our content",
    "start": "249170",
    "end": "255950"
  },
  {
    "text": "being served out close to your users you know how do we do something like you know one of the things that we see in",
    "start": "255950",
    "end": "261229"
  },
  {
    "text": "content providers I guess is our geo IP restriction and making sure that content is only available in your country how is",
    "start": "261229",
    "end": "267080"
  },
  {
    "text": "that you know achieved at this tier or is it further down in your architecture yeah absolutely so there's a number of options there and content providers you",
    "start": "267080",
    "end": "274580"
  },
  {
    "text": "know as you mention there will mandate or provide in the rights agreement where you are allowed to show that content now",
    "start": "274580",
    "end": "281390"
  },
  {
    "text": "we might not want to block it at CloudFront we actually could do that using lambda at the edge but that isn't",
    "start": "281390",
    "end": "287750"
  },
  {
    "text": "typically the way that we would approach this typically we want to apply apply some business logic you know to that",
    "start": "287750",
    "end": "293750"
  },
  {
    "text": "users location so client can tell us which country we it believes that user is located within and we can pick up",
    "start": "293750",
    "end": "300560"
  },
  {
    "text": "that information further down the chain within our business logic in lambda to make sense of that okay so we took",
    "start": "300560",
    "end": "307010"
  },
  {
    "text": "through a geolocation in cloud front what patient's you know very important to our media streaming now can you talk",
    "start": "307010",
    "end": "313669"
  },
  {
    "text": "through the other functionality that cloud fronts providing um so cloud front has the capability to split inbound",
    "start": "313669",
    "end": "319970"
  },
  {
    "text": "requests based on path to different origins and that's really important for the architecture that we're showing here a simple example of that would be that",
    "start": "319970",
    "end": "327860"
  },
  {
    "text": "if we have image requests we don't want to dedicate compute time you notice to serving those images back to the user we",
    "start": "327860",
    "end": "334580"
  },
  {
    "text": "want them to be served directly from s3 so they will have pre processed when we ingested that content and we can just",
    "start": "334580",
    "end": "341060"
  },
  {
    "text": "serve them straight out of the s3 bucket here and obviously we want to cash them in cloud front which means cloud front sat in front of that s3 bucket so what",
    "start": "341060",
    "end": "348169"
  },
  {
    "text": "happens is is when a request comes in for forward slash images cloud front",
    "start": "348169",
    "end": "353510"
  },
  {
    "text": "uses rules which direct that request down to s3 and the first time that that",
    "start": "353510",
    "end": "360530"
  },
  {
    "text": "image is retrieved it comes back up into cloud front and it can be cached there so that any subsequent requests from",
    "start": "360530",
    "end": "366409"
  },
  {
    "text": "other users will be served you know much much quicker because it doesn't have to come all the way back to the origin the",
    "start": "366409",
    "end": "372860"
  },
  {
    "text": "other half of that is that requests from users devices so their mobile phones when they need to make calls to login or",
    "start": "372860",
    "end": "379520"
  },
  {
    "text": "to search content or to browse the catalog will need to be directed to an interactive a dynamic origin and that's",
    "start": "379520",
    "end": "386270"
  },
  {
    "text": "API gateway so those requests will come down here and that's really kind of the",
    "start": "386270",
    "end": "392210"
  },
  {
    "text": "crux of what we use in cloud front for in this architecture is caching and making that decision in between the two",
    "start": "392210",
    "end": "398690"
  },
  {
    "text": "different origins okay and then I noticed underneath a API gateway you've actually got these LAN",
    "start": "398690",
    "end": "404180"
  },
  {
    "text": "functions and step functions in the middle as well can you talk through this business logic layer sure so so we're",
    "start": "404180",
    "end": "410449"
  },
  {
    "text": "actually representing a number of different functions here in lambda a really simple example would be something",
    "start": "410449",
    "end": "416990"
  },
  {
    "text": "like logging and profile creation so when the user first comes to the service they're obviously going to need a crew",
    "start": "416990",
    "end": "423169"
  },
  {
    "text": "to create a profile we've gone with a micro-services style approach here where the logic to create the profile will be",
    "start": "423169",
    "end": "431090"
  },
  {
    "text": "contained within a single lambda function an api gateway can wrap that request to create the profile to the",
    "start": "431090",
    "end": "438110"
  },
  {
    "text": "relevant lambda function that's going to achieve that outcome with that business logic inside it and then respond",
    "start": "438110",
    "end": "446270"
  },
  {
    "text": "appropriately to the user inside of here you're going to have all your business logic so determining you know is the",
    "start": "446270",
    "end": "451880"
  },
  {
    "text": "user in a location where we allow them to sign up we might process their credit",
    "start": "451880",
    "end": "457940"
  },
  {
    "text": "card details or store them because you can build fully PCI compliant architectures with API gateway a lambda",
    "start": "457940",
    "end": "463099"
  },
  {
    "text": "and we're obviously going to need to store some information about the user now to do that we've chosen DynamoDB and",
    "start": "463099",
    "end": "470539"
  },
  {
    "text": "that's a really fast no sequel store which is going to allow us to store",
    "start": "470539",
    "end": "476270"
  },
  {
    "text": "information about users it's going to also allow us to store all the other types of information that we need to",
    "start": "476270",
    "end": "481490"
  },
  {
    "text": "hold in order to create the whole service so information about our content about our assets about the rights that",
    "start": "481490",
    "end": "488000"
  },
  {
    "text": "we have for those assets but let's continue with the user profile creation so what's going to happen is that",
    "start": "488000",
    "end": "493970"
  },
  {
    "text": "request comes in through a cloud front through API gateway to the business logic the profile is created assuming",
    "start": "493970",
    "end": "499940"
  },
  {
    "text": "that all of the tests within the business logic pass it's created within the user profile table here within",
    "start": "499940",
    "end": "506300"
  },
  {
    "text": "dynamodb and then the response comes back from lambda through API gateway to",
    "start": "506300",
    "end": "512000"
  },
  {
    "text": "cloud front to that end user and obviously that type of request were not going to keishon CloudFront but we still",
    "start": "512000",
    "end": "517250"
  },
  {
    "text": "do benefit from having cloud front in front of our API for dynamic requests it will still speed up their user",
    "start": "517250",
    "end": "523310"
  },
  {
    "text": "experience which is we've talked about it's very very important yeah latency is definitely important in those types of",
    "start": "523310",
    "end": "528680"
  },
  {
    "text": "interactions and I noticed that you have step functions in the middle which is really an orchestration service what are",
    "start": "528680",
    "end": "533930"
  },
  {
    "text": "you using to orchestrate in this flow and why important hmm so so the example that we just talked about was a synchronous",
    "start": "533930",
    "end": "540680"
  },
  {
    "text": "interaction the user crude hits the button to create the profile on their device it flows through the business",
    "start": "540680",
    "end": "546980"
  },
  {
    "text": "logic the information is stored and then the response is routed directly to the user but let's say that we were creating",
    "start": "546980",
    "end": "553040"
  },
  {
    "text": "a subscription vaad service or a transactional vod's service where you pay for individual pieces of content we're going to need to process payments",
    "start": "553040",
    "end": "560410"
  },
  {
    "text": "now that very very often is not a synchronous operation so let's say that",
    "start": "560410",
    "end": "565610"
  },
  {
    "text": "the user wants to watch the latest and greatest piece of content and they're paying for that on a transactional basis and we need to take a payment of say",
    "start": "565610",
    "end": "572420"
  },
  {
    "text": "five dollars from that user they make the request through a api gateway again it comes into a different lambda",
    "start": "572420",
    "end": "578180"
  },
  {
    "text": "function which is the function related to processing payment but this time we put some information in dynamo into the",
    "start": "578180",
    "end": "585260"
  },
  {
    "text": "the payments table to say we've started the payment and then we start the step function which will actually handle the",
    "start": "585260",
    "end": "590960"
  },
  {
    "text": "process into the bank or the payment transaction processing service and interacting with that service in",
    "start": "590960",
    "end": "597590"
  },
  {
    "text": "multiple steps handling the state between those steps retrying if it needs",
    "start": "597590",
    "end": "602660"
  },
  {
    "text": "to retry and finally receiving a response from the bank which says yes or",
    "start": "602660",
    "end": "608300"
  },
  {
    "text": "no payment accepted or declined and so that's effectively triggered the step",
    "start": "608300",
    "end": "614960"
  },
  {
    "text": "function is triggered from that initial lambda function but the step function itself will involve or sorry will invoke",
    "start": "614960",
    "end": "621170"
  },
  {
    "text": "multiple lambda functions along the way to achieve those individual steps okay I mean that's really important something",
    "start": "621170",
    "end": "626570"
  },
  {
    "text": "like payments needs to be idempotent lambda is actually a state stateless stateless service so you need somewhere",
    "start": "626570",
    "end": "631790"
  },
  {
    "text": "else to store state so you can use step functions to take a stateless you know asynchronous function and put it into",
    "start": "631790",
    "end": "637640"
  },
  {
    "text": "big mate idempotent for subscriptions for payments and for these other types of third party api's so it's a good part",
    "start": "637640",
    "end": "644540"
  },
  {
    "text": "of the architecture and something that you know it's kind of an advanced use case for service so one of the other",
    "start": "644540",
    "end": "651080"
  },
  {
    "text": "things that we see in in content creation and media really is DRM so",
    "start": "651080",
    "end": "656210"
  },
  {
    "text": "digital rights management you know studios are very worried about you know who's viewing their content how you're storing it you know what locations how",
    "start": "656210",
    "end": "663710"
  },
  {
    "text": "are you a cheating DRM with with this set up yeah so rights management as a",
    "start": "663710",
    "end": "669200"
  },
  {
    "text": "Const is incredibly important to the studios and rightly so they want to make sure that they're the content is protected",
    "start": "669200",
    "end": "676690"
  },
  {
    "text": "now there are a number of different vendors out there for DRM solutions I'm",
    "start": "676690",
    "end": "682310"
  },
  {
    "text": "not going to name them all here but there are at least three common types and that you might want to interact with",
    "start": "682310",
    "end": "687410"
  },
  {
    "text": "now for all of those types the license issuing software and the encryption software does not run or is not capable",
    "start": "687410",
    "end": "693770"
  },
  {
    "text": "currently of running inside of AWS lambda so what we need to do is when the",
    "start": "693770",
    "end": "700040"
  },
  {
    "text": "user actually initiates the playback they're going to route that request again to the common pathway that we've",
    "start": "700040",
    "end": "705950"
  },
  {
    "text": "seen and they're going to hit a lambda function which is responsible for playback and as part of that lambda",
    "start": "705950",
    "end": "712190"
  },
  {
    "text": "function we're going to need it to acquire a license for that piece of content and for that users device",
    "start": "712190",
    "end": "718190"
  },
  {
    "text": "because it will supply a specific fingerprint and we will supply a license back to that user that allows them to",
    "start": "718190",
    "end": "724070"
  },
  {
    "text": "play the content under the terms of the rights that we have so that DRM license that you receive might determine can you",
    "start": "724070",
    "end": "731180"
  },
  {
    "text": "play the asset offline can you play it more than once and can you do things",
    "start": "731180",
    "end": "736460"
  },
  {
    "text": "like play it after a certain date or before a certain date so this lambda function needs to acquire the license",
    "start": "736460",
    "end": "742490"
  },
  {
    "text": "and the way that we've represented that in this architecture is to run the licensing servers on a load balanced and",
    "start": "742490",
    "end": "748040"
  },
  {
    "text": "auto scale fleet of ec2 instances so the playback request will be initiated the",
    "start": "748040",
    "end": "754790"
  },
  {
    "text": "lambda function will call the licensing service the key material that allows us",
    "start": "754790",
    "end": "760880"
  },
  {
    "text": "to decrypt that asset so the core key material of which the license is",
    "start": "760880",
    "end": "768410"
  },
  {
    "text": "effectively a sub key might be stored in cloud HSM or it may just be stored",
    "start": "768410",
    "end": "773810"
  },
  {
    "text": "within these licensing hosts depending on the solution that you're using yes so some of our audience might not be",
    "start": "773810",
    "end": "779420"
  },
  {
    "text": "familiar with HSM can you talk through what i hate's sm is you know what kind of function it actually provides in this",
    "start": "779420",
    "end": "784670"
  },
  {
    "text": "architecture absolutely so HSM is a hardware security module and this is a tamper-proof hardware device that can securely store",
    "start": "784670",
    "end": "792560"
  },
  {
    "text": "the key material within that device and it's you know incredibly resistant to",
    "start": "792560",
    "end": "798500"
  },
  {
    "text": "tampering to software attacks to you know even being pulled apart if if the case on that machine is opened",
    "start": "798500",
    "end": "805720"
  },
  {
    "text": "those keys will be wiped from the device and they're no longer available and that can be built you know in a highly",
    "start": "805720",
    "end": "811329"
  },
  {
    "text": "available shared key state architecture where you can share the keys between them so you're not just relying upon a",
    "start": "811329",
    "end": "818200"
  },
  {
    "text": "single device and we've turned that into a managed service so the newer version of Clara HSM allows you to do that very",
    "start": "818200",
    "end": "826449"
  },
  {
    "text": "very easy and simply we've taken the headache out of managing those physical hardware devices and managing the key",
    "start": "826449",
    "end": "832360"
  },
  {
    "text": "material within them okay and I guess you know this is very much the playback from the you know downstream provider",
    "start": "832360",
    "end": "839139"
  },
  {
    "text": "side so you know what kind of things we'll need to think about in the player and making the player smart you know and",
    "start": "839139",
    "end": "846579"
  },
  {
    "text": "how did we cover that so that is probably one of the hottest topics in",
    "start": "846579",
    "end": "851980"
  },
  {
    "text": "recent times for this type of solution as we've talked about already that user",
    "start": "851980",
    "end": "857589"
  },
  {
    "text": "experience is really really critical so from the time that the user hits play to",
    "start": "857589",
    "end": "863500"
  },
  {
    "text": "the time that that first frame appears on their device and it starts playing the introduction you know or the the",
    "start": "863500",
    "end": "870459"
  },
  {
    "text": "ident for that particular content provider that time is really really important we need to make it as low as possible",
    "start": "870459",
    "end": "875800"
  },
  {
    "text": "now the assets themselves the video assets are going to be stored in s3 or",
    "start": "875800",
    "end": "881380"
  },
  {
    "text": "they may be stored in another origin service they're going to usually have a CDN in front of them sometimes that will",
    "start": "881380",
    "end": "887230"
  },
  {
    "text": "be multiple CDN so to make sure that you get the best experience for all of your",
    "start": "887230",
    "end": "893320"
  },
  {
    "text": "users in all of the different geographies you might employ a multi CDN strategy and that this really leads back",
    "start": "893320",
    "end": "900130"
  },
  {
    "text": "to the original question you asked which is what kind of smarts would you have in your player well if you've got multiple CD ends and your user is out there in",
    "start": "900130",
    "end": "908140"
  },
  {
    "text": "the sticks in the middle of nowhere this business logic down here cannot really",
    "start": "908140",
    "end": "913269"
  },
  {
    "text": "you know make a good determination on what the best CDN for that user to choose might be so this is where the",
    "start": "913269",
    "end": "918910"
  },
  {
    "text": "player smarts become really important it's critical that your player knows you know which CD ends are configured and",
    "start": "918910",
    "end": "925029"
  },
  {
    "text": "for that particular geography or for that particular user even it might take",
    "start": "925029",
    "end": "930550"
  },
  {
    "text": "into account whether you have committed to have a specific amount of data to be transferred by each CDN",
    "start": "930550",
    "end": "936700"
  },
  {
    "text": "might take that into the mix when it's choosing CD ends but ultimately it's going to come down to performance so the",
    "start": "936700",
    "end": "941890"
  },
  {
    "text": "player up here might test can I get you know the fastest possible response from cloud from the best possible bandwidth can I get that from",
    "start": "941890",
    "end": "948670"
  },
  {
    "text": "another CDN and it's going to use that sort of deterministic logic inside of",
    "start": "948670",
    "end": "954010"
  },
  {
    "text": "the player to make that decision okay and I noticed you've got some dynamo",
    "start": "954010",
    "end": "959620"
  },
  {
    "text": "down here that isn't kind of plugged in what was that part of your architecture yeah so this is to represent the fact",
    "start": "959620",
    "end": "965830"
  },
  {
    "text": "that that within dynamo we're not just going to store everything in one table that will be crazy we have multiple different data types here so we have the",
    "start": "965830",
    "end": "973660"
  },
  {
    "text": "user profile service that we talked about but if we relate this to what we just talked about the actual playback",
    "start": "973660",
    "end": "979870"
  },
  {
    "text": "initiation we might have a table that stores the location or the name of assets so different devices need",
    "start": "979870",
    "end": "986230"
  },
  {
    "text": "different asset types they might need different packaging they might need different resolutions and we could store",
    "start": "986230",
    "end": "992050"
  },
  {
    "text": "that in an asset table that says you know for an iOS device pick this",
    "start": "992050",
    "end": "997150"
  },
  {
    "text": "particular packaging for a tablet pick a different resolution to what you might have on a connected TV and so we're",
    "start": "997150",
    "end": "1003390"
  },
  {
    "text": "going to have multiple tables down here that store those multiple different data sets another example might be for you",
    "start": "1003390",
    "end": "1011790"
  },
  {
    "text": "know the rights that we hold for a particular asset and we'd store all of those separately okay so we've talked",
    "start": "1011790",
    "end": "1018330"
  },
  {
    "text": "through the user journey we have iOS Android and other devices that can access we're using where for our",
    "start": "1018330",
    "end": "1024360"
  },
  {
    "text": "security at the front one thing you know around malicious actors might be something like our rate limiting can you",
    "start": "1024360",
    "end": "1030240"
  },
  {
    "text": "achieve that with the wife and and you know is that something you've implemented in this architecture yes so it's actually one of the native",
    "start": "1030240",
    "end": "1036180"
  },
  {
    "text": "capabilities of API gateway and we would probably look to implement it here first and at the point that you know that",
    "start": "1036180",
    "end": "1043770"
  },
  {
    "text": "becomes ineffective or the request rate becomes overwhelming what we might do",
    "start": "1043770",
    "end": "1049500"
  },
  {
    "text": "then is use automated rules either through a lambda function or some other linking to implement a wife rule up here",
    "start": "1049500",
    "end": "1055440"
  },
  {
    "text": "that blocks that IP address or that particular user set of credentials at",
    "start": "1055440",
    "end": "1060540"
  },
  {
    "text": "the edge rather than allowing them to come down to API gateway one important part we haven't talked about here is",
    "start": "1060540",
    "end": "1066090"
  },
  {
    "text": "authentication of users I noticed that we don't actually have anything drawn on the ball can you talk through how we're going to",
    "start": "1066090",
    "end": "1071430"
  },
  {
    "text": "attend a cater user through this workflow yeah so there are obviously multiple choices out there but the one",
    "start": "1071430",
    "end": "1077250"
  },
  {
    "text": "that we would probably most likely use for this architecture is kognito now kognito has native integrations with api",
    "start": "1077250",
    "end": "1084570"
  },
  {
    "text": "gateway which would allow you to quite easily make use of something like",
    "start": "1084570",
    "end": "1090230"
  },
  {
    "text": "Cognito user pools which can store obviously the user name and password but",
    "start": "1090230",
    "end": "1095820"
  },
  {
    "text": "also other metadata about the user so there you know profile data such as",
    "start": "1095820",
    "end": "1101820"
  },
  {
    "text": "their address or their date of birth things like that it will also handle",
    "start": "1101820",
    "end": "1107150"
  },
  {
    "text": "some of the really common tasks like password resets for example that you",
    "start": "1107150",
    "end": "1112620"
  },
  {
    "text": "just don't want to spend time building business logic for and that's as I said has a native integration with API",
    "start": "1112620",
    "end": "1119010"
  },
  {
    "text": "gateway but you can also access it further down here inside of your",
    "start": "1119010",
    "end": "1124140"
  },
  {
    "text": "business logic or using custom authorizers inside of API gateway okay",
    "start": "1124140",
    "end": "1129150"
  },
  {
    "text": "and it's also a very important part of collecting metrics on your users as such as playback you know things like which",
    "start": "1129150",
    "end": "1134910"
  },
  {
    "text": "bit rate the user is using so that we can use that and in a future episode we're actually going to talk about how you put some smarts into those players",
    "start": "1134910",
    "end": "1141450"
  },
  {
    "text": "to use those metrics thanks Rob that is episode 3 of video on demand playback thank you for watching and stay",
    "start": "1141450",
    "end": "1148530"
  },
  {
    "text": "tuned for episode 4",
    "start": "1148530",
    "end": "1151640"
  },
  {
    "text": "hi and welcome to episode 4 of build your own video on demand this episode is",
    "start": "1155250",
    "end": "1160630"
  },
  {
    "text": "about search and recommendation I am Sean from AWS and with me hi I'm Steve Sharkey I'm machine learning specialist",
    "start": "1160630",
    "end": "1167740"
  },
  {
    "text": "with AWS ok in episode 3 we talked about",
    "start": "1167740",
    "end": "1173169"
  },
  {
    "text": "putting our user profile and a metadata into stores like DynamoDB and today what",
    "start": "1173169",
    "end": "1178210"
  },
  {
    "text": "we're going to discuss is search and recommendation how do we get those recommendations and the search functionality up to the customer Steve",
    "start": "1178210",
    "end": "1185080"
  },
  {
    "text": "we've have our dynamo here in is our central piece as well as s3 can you talk through you know how you would provide",
    "start": "1185080",
    "end": "1190899"
  },
  {
    "text": "search to our users great so yeah so starting with that search component we would obviously look at what existing",
    "start": "1190899",
    "end": "1197860"
  },
  {
    "text": "metadata we have it's all been provided to us we have some manual information perhaps some genre information that's",
    "start": "1197860",
    "end": "1204279"
  },
  {
    "text": "been populated about those particular media files we actually want to augment that information we want to use some",
    "start": "1204279",
    "end": "1210159"
  },
  {
    "text": "machine intelligence to do so so first because it is video then obviously we're talking about the",
    "start": "1210159",
    "end": "1215890"
  },
  {
    "text": "ability to use computer vision so we actually have a service called Amazon recognition that will allow us to",
    "start": "1215890",
    "end": "1222039"
  },
  {
    "text": "extract metadata about the images as well as the video itself that's been",
    "start": "1222039",
    "end": "1227140"
  },
  {
    "text": "stored in s3 so using perhaps image if we have any kind of screen caps or",
    "start": "1227140",
    "end": "1233409"
  },
  {
    "text": "anything that's coming out of the video we're able to obtain object and scene detection we're able to identify",
    "start": "1233409",
    "end": "1239760"
  },
  {
    "text": "celebrities we can identify very important people that basically match",
    "start": "1239760",
    "end": "1245679"
  },
  {
    "text": "against a known set of users we can identify all these individuals and start",
    "start": "1245679",
    "end": "1250990"
  },
  {
    "text": "to populate that with that augmented information second we can use recognition video to scan those video",
    "start": "1250990",
    "end": "1258700"
  },
  {
    "text": "files and do the same thing as before but also we can identify motion context",
    "start": "1258700",
    "end": "1264360"
  },
  {
    "text": "so motion context would be things like the verbs so the ability to see what is",
    "start": "1264360",
    "end": "1270490"
  },
  {
    "text": "actually happening inside the scene okay have you got an example of like a verb detection that might be common yeah so",
    "start": "1270490",
    "end": "1277240"
  },
  {
    "text": "you can imagine if you have a typical image recognition you'd identify a man laying on the ground and you identify",
    "start": "1277240",
    "end": "1283480"
  },
  {
    "text": "him standing you would be missing that component which happened between those frames so the idea is that person is fell that",
    "start": "1283480",
    "end": "1290889"
  },
  {
    "text": "would be identified as part of that motion context okay and so when you're talking about image as well I guess this",
    "start": "1290889",
    "end": "1296529"
  },
  {
    "text": "will allow us to do things like you know actors who are not necessarily the title actors who are put in the original",
    "start": "1296529",
    "end": "1302649"
  },
  {
    "text": "metadata you know some of the actual cast and crew where people will be able to search like down into these deeper",
    "start": "1302649",
    "end": "1307809"
  },
  {
    "text": "layers right right exactly so and then you catalog all that information you append that additional metadata and now",
    "start": "1307809",
    "end": "1314200"
  },
  {
    "text": "you have the additional search functionality to be able to search on particular actors other pieces of",
    "start": "1314200",
    "end": "1321190"
  },
  {
    "text": "content about the objects about the scenes that occurred within that video okay and you know the way that I guess",
    "start": "1321190",
    "end": "1327909"
  },
  {
    "text": "recognition works and the image and the video detection I use this calling that to find this metadata or do you say this",
    "start": "1327909",
    "end": "1334809"
  },
  {
    "text": "is some kind of offline job that runs and populates so so obviously it's all",
    "start": "1334809",
    "end": "1339970"
  },
  {
    "text": "it can be real-time it can be batch as well so the option is that if you do have a live video stream you can",
    "start": "1339970",
    "end": "1345549"
  },
  {
    "text": "actually capture all that information directly most cases for this particular use case you actually already have the",
    "start": "1345549",
    "end": "1352419"
  },
  {
    "text": "pre-populated video and in the s3 store and you can trigger an action which essentially can be part of a batch",
    "start": "1352419",
    "end": "1357970"
  },
  {
    "text": "process to capture all that data ok another important part about you know",
    "start": "1357970",
    "end": "1363070"
  },
  {
    "text": "video playback and video on demand is things like translation and things like closed caption and and those types of",
    "start": "1363070",
    "end": "1369129"
  },
  {
    "text": "what what sort of services do you have in in that realm so of course we often",
    "start": "1369129",
    "end": "1374229"
  },
  {
    "text": "have audio along with the video so the idea is that you can use something like Amazon transcribe to be able to extract",
    "start": "1374229",
    "end": "1380529"
  },
  {
    "text": "the audio and identify the particular text so within that the idea is it's",
    "start": "1380529",
    "end": "1386229"
  },
  {
    "text": "multi-language capability you'd be able to identify essentially what is happening inside the scene based on text",
    "start": "1386229",
    "end": "1393039"
  },
  {
    "text": "so it actually provides punctuation provides a number of different languages",
    "start": "1393039",
    "end": "1399820"
  },
  {
    "text": "as mentioned before and you can essentially then take that text and gathering more meaning from that text so",
    "start": "1399820",
    "end": "1406779"
  },
  {
    "text": "a service like Amazon comprehend allows you to mine inside that and identify key phrases the entities that are described",
    "start": "1406779",
    "end": "1414220"
  },
  {
    "text": "inside that text as well as sentiment analysis and identify the underlying language it supports up to 100 different",
    "start": "1414220",
    "end": "1421850"
  },
  {
    "text": "just so from there if you want to do localization of that content you're able",
    "start": "1421850",
    "end": "1426980"
  },
  {
    "text": "to then do translate services which supports up to 12 different language pairs to be able to translate that to",
    "start": "1426980",
    "end": "1433250"
  },
  {
    "text": "the particular users native language okay and you know transcription I guess",
    "start": "1433250",
    "end": "1438289"
  },
  {
    "text": "is is kind of a an art form in you know whether you're actually transcribing the text right what happens if you know I do",
    "start": "1438289",
    "end": "1444919"
  },
  {
    "text": "want to use kind of an automated pipeline here for things like closed captioning but you know there are some things that are maybe you know specific",
    "start": "1444919",
    "end": "1452299"
  },
  {
    "text": "words they use that they've invented in the movie that I really real words these types of things you know how is that going to work in this and and is there a",
    "start": "1452299",
    "end": "1458690"
  },
  {
    "text": "way that we can short-circuit that yeah so you did there support for custom lexicon so again if there's industry",
    "start": "1458690",
    "end": "1464240"
  },
  {
    "text": "jargon that's involved or there's particular names that are trademarks or something that's not actually well-known",
    "start": "1464240",
    "end": "1469700"
  },
  {
    "text": "as a given given text it actually has support for those as well so you can",
    "start": "1469700",
    "end": "1475130"
  },
  {
    "text": "actually feed it a custom lexicon yeah and I guess on top of that the other functionality that that we provide with",
    "start": "1475130",
    "end": "1481520"
  },
  {
    "text": "transcribe is that it actually gives you a confidence score for each word so for instance you could you could go in and",
    "start": "1481520",
    "end": "1487549"
  },
  {
    "text": "get someone manually to up the confidence of those particular words for the ones that you were missing so that",
    "start": "1487549",
    "end": "1493100"
  },
  {
    "text": "you wouldn't have to do the whole the whole closed captioning that's a great point Shawn because also most of the transcription services are manually",
    "start": "1493100",
    "end": "1499370"
  },
  {
    "text": "performed and things like identifying exactly when a word occurs is very difficult to do with those services so",
    "start": "1499370",
    "end": "1506030"
  },
  {
    "text": "you actually do receive not just a confidence score but you actually receive the exact timestamp when that word was identified inside the audio",
    "start": "1506030",
    "end": "1512679"
  },
  {
    "text": "okay so you you've created all this content you've essentially augmented all",
    "start": "1512679",
    "end": "1517760"
  },
  {
    "text": "the data about that content and that obviously helps the users to be able to search and identify content that's",
    "start": "1517760",
    "end": "1523250"
  },
  {
    "text": "relevant to them but the next step as you know is going to be about recommendations it's not enough just to",
    "start": "1523250",
    "end": "1528860"
  },
  {
    "text": "simply have a database is searchable it's now you receive 10,000 responses to that search the key is basically",
    "start": "1528860",
    "end": "1535880"
  },
  {
    "text": "presenting to those users relevant results and identify content that they would be actually desiring to have an",
    "start": "1535880",
    "end": "1543590"
  },
  {
    "text": "affinity with so so obviously we've we've performed that content we have it",
    "start": "1543590",
    "end": "1548750"
  },
  {
    "text": "stored in s3 now the next question is where we go with that we have the",
    "start": "1548750",
    "end": "1553850"
  },
  {
    "text": "ability to mine that and from about the users and about the content to identify similarities so you can think",
    "start": "1553850",
    "end": "1560750"
  },
  {
    "text": "about when you think about user recommendations we can identify similarities of the users or we could",
    "start": "1560750",
    "end": "1566929"
  },
  {
    "text": "identify based on similar products that they purchased in the past or they've they've watched in the past and",
    "start": "1566929",
    "end": "1572210"
  },
  {
    "text": "identified an affinity for that particular type of product then you'd be",
    "start": "1572210",
    "end": "1577250"
  },
  {
    "text": "able to recommend for them similar items okay and I see that there's a couple of workflows under here under s3 and and",
    "start": "1577250",
    "end": "1583940"
  },
  {
    "text": "also up in the brain can you talk through I guess how that works in you know we've now got search we've got 10,000 results",
    "start": "1583940",
    "end": "1589070"
  },
  {
    "text": "I don't want 10,000 results I want I'm a user I want to see what I want to see so",
    "start": "1589070",
    "end": "1594350"
  },
  {
    "text": "precisely so obviously we need to apply some machine learning to that this isn't",
    "start": "1594350",
    "end": "1600140"
  },
  {
    "text": "as simple as some of these API driven machine learning services the machine intelligence that we derive with into",
    "start": "1600140",
    "end": "1606050"
  },
  {
    "text": "these different services we want to do something a bit more meaningful so the idea is that the first step typically",
    "start": "1606050",
    "end": "1611780"
  },
  {
    "text": "for recommendation engines is to identify clustering of users clustering of products as well but it's not",
    "start": "1611780",
    "end": "1617840"
  },
  {
    "text": "products looking for users it's often users looking for products so we need to think about how do we identify",
    "start": "1617840",
    "end": "1623500"
  },
  {
    "text": "similarities between users and certainly if you think about a cold start scenario",
    "start": "1623500",
    "end": "1628790"
  },
  {
    "text": "where the user isn't just first come to the website you may be obtaining information about demographics you may",
    "start": "1628790",
    "end": "1634070"
  },
  {
    "text": "have clickstream data social networking information we would use all of that mine everything that we can about that",
    "start": "1634070",
    "end": "1640040"
  },
  {
    "text": "individual to try to identify them and make the make a clustering to identify them as part of a general group so",
    "start": "1640040",
    "end": "1647450"
  },
  {
    "text": "something like sage maker basically can do that process but it's actually three different modules inside Sage paper okay",
    "start": "1647450",
    "end": "1654590"
  },
  {
    "text": "so we start with the idea that there's a notebook interface so a lot of data",
    "start": "1654590",
    "end": "1660530"
  },
  {
    "text": "scientists use notebooks in order to be able to interact with the data and do data exploration so the idea is that",
    "start": "1660530",
    "end": "1666260"
  },
  {
    "text": "they would pull the data from s3 which would be that user data that's perhaps started in dynamodb but essentially was",
    "start": "1666260",
    "end": "1673090"
  },
  {
    "text": "explored and directly stored back to s3 for training and once they've identified",
    "start": "1673090",
    "end": "1679240"
  },
  {
    "text": "meaningful correlations and identified features that are meaningful to the experience of the user and",
    "start": "1679240",
    "end": "1685340"
  },
  {
    "text": "recommendations then they are able to process that for training so for instance for a typical clustering",
    "start": "1685340",
    "end": "1691580"
  },
  {
    "text": "scenario perhaps they're choosing k-means clustering within sage maker and they're able to perform that machine",
    "start": "1691580",
    "end": "1697309"
  },
  {
    "text": "learning training based off of the data inside s3 so now they can run that and they only pay for the amount of seconds",
    "start": "1697309",
    "end": "1704210"
  },
  {
    "text": "of compute that's required for doing that training and then as an output from that it stores it back to s3 storing the",
    "start": "1704210",
    "end": "1711050"
  },
  {
    "text": "model which is actually then later used by Sage maker as a third part which is the inference so it provides you the",
    "start": "1711050",
    "end": "1718070"
  },
  {
    "text": "ability to have a container that runs that model and provides then the interface from the user back to Sage",
    "start": "1718070",
    "end": "1725540"
  },
  {
    "text": "maker to allow you to identify those individuals as being part of a particular cluster okay so one important",
    "start": "1725540",
    "end": "1732110"
  },
  {
    "text": "point I guess you pointed out here is you actually train the model on the data beforehand and then you're just",
    "start": "1732110",
    "end": "1737780"
  },
  {
    "text": "providing inference so you call up and say hey I'm a user I want a recommendation and so you've actually",
    "start": "1737780",
    "end": "1743000"
  },
  {
    "text": "trained the model it's not like you're turning all the CPU the user is waiting you know we talked about in episode three about latency is the most",
    "start": "1743000",
    "end": "1749240"
  },
  {
    "text": "important thing and so what were what we're doing here is really training this offline so all we're doing is getting an",
    "start": "1749240",
    "end": "1754790"
  },
  {
    "text": "answer absolutely so as you said Shawn you're often having to do that training over and over again",
    "start": "1754790",
    "end": "1759950"
  },
  {
    "text": "as you discover more ground truth the idea is that as we get more user information the more that we understand",
    "start": "1759950",
    "end": "1765559"
  },
  {
    "text": "those users as a whole and able so we identify that we run those on batch processes we basically do that training",
    "start": "1765559",
    "end": "1772370"
  },
  {
    "text": "and we continue to iterate and develop new models so to your point you often",
    "start": "1772370",
    "end": "1777830"
  },
  {
    "text": "need to have actually several models you'll have one that's the most recent as well as one that's running in",
    "start": "1777830",
    "end": "1783140"
  },
  {
    "text": "production so you need a way of switching those models so there's support for a/b testing within Sage",
    "start": "1783140",
    "end": "1788270"
  },
  {
    "text": "maker end points where you can now host both models and you can actually see the performance of the new model versus the",
    "start": "1788270",
    "end": "1793490"
  },
  {
    "text": "old model and identify is this a more successful model and therefore switch that to the main production model that's",
    "start": "1793490",
    "end": "1800030"
  },
  {
    "text": "an important point I never really thought about running multiple models in production and I guess as you iterate over time and you learn more about your",
    "start": "1800030",
    "end": "1805910"
  },
  {
    "text": "cohort you actually tuned it so that you're actually running multiple different versions absolutely I guess from now we've been talking really about",
    "start": "1805910",
    "end": "1812179"
  },
  {
    "text": "the backend data stores and how they interact can you talk through how the user kind of comes into this scenario yeah so",
    "start": "1812179",
    "end": "1818630"
  },
  {
    "text": "users would often be accessing that through API gateway we drawn earlier with API gateway and and the idea of",
    "start": "1818630",
    "end": "1825110"
  },
  {
    "text": "CloudFront distribution those pieces are still there we just abstracted those for the purpose of discussion the machine intelligence",
    "start": "1825110",
    "end": "1831850"
  },
  {
    "text": "portion so the idea is that they would be accessing often an API gateway that would make sure that your rate-limiting",
    "start": "1831850",
    "end": "1837620"
  },
  {
    "text": "that you're supporting the security model and assuring that users aren't having unfettered access to this",
    "start": "1837620",
    "end": "1843769"
  },
  {
    "text": "endpoint which is hosted by sage maker so you can build any business logic you wish you could have lambda functions",
    "start": "1843769",
    "end": "1849380"
  },
  {
    "text": "happening here you could have step functions whatever orchestration required but this is just",
    "start": "1849380",
    "end": "1854600"
  },
  {
    "text": "one part of that overall story right because when you think about recommendations you have to present those on screen for the user you have to",
    "start": "1854600",
    "end": "1860720"
  },
  {
    "text": "identify and what context do you provide that so it's still part of your overall web architecture okay so we've talked",
    "start": "1860720",
    "end": "1867139"
  },
  {
    "text": "through the data stores and how they provide the data into the AI services so that we can train the models and and do",
    "start": "1867139",
    "end": "1872389"
  },
  {
    "text": "recommendations how about the user journey in this workflow yeah so users will continue to access things like the",
    "start": "1872389",
    "end": "1878269"
  },
  {
    "text": "dynamodb store through lambda architecture there also be able to connect back to a stage maker which",
    "start": "1878269",
    "end": "1884929"
  },
  {
    "text": "essentially is connecting them back to the original stage maker endpoints so that flow of control and that amount of",
    "start": "1884929",
    "end": "1891950"
  },
  {
    "text": "data bubbling up to the user will be through the same mechanisms as before with the augmentation that we've now",
    "start": "1891950",
    "end": "1897529"
  },
  {
    "text": "added sage maker to that formula okay so here we're orchestrating with API gateway we as step functions with these",
    "start": "1897529",
    "end": "1904490"
  },
  {
    "text": "types of things so that we can call out to recommendations okay and then I guess",
    "start": "1904490",
    "end": "1909500"
  },
  {
    "text": "one other thing you know we talked before about k-means clustering right and that's one way to get a cohort and",
    "start": "1909500",
    "end": "1914600"
  },
  {
    "text": "to understand you know who to recommend to but sage maker provides a number of other algorithms do you think any would",
    "start": "1914600",
    "end": "1921260"
  },
  {
    "text": "be no useful for search and recommendation yeah absolutely so clustering is the most naive approach",
    "start": "1921260",
    "end": "1926779"
  },
  {
    "text": "to obtaining some kind of result and it's a great first step but the reality is that there's many more sophisticated",
    "start": "1926779",
    "end": "1933139"
  },
  {
    "text": "methods and one of those particular that sage maker offers is factorization machines and from factorization machines",
    "start": "1933139",
    "end": "1939740"
  },
  {
    "text": "you're able to do matrix factorization so put simply it's the idea that once we identify affinity or similarity between",
    "start": "1939740",
    "end": "1945950"
  },
  {
    "text": "these users I want to understand why is it that you share the similar affinity",
    "start": "1945950",
    "end": "1950990"
  },
  {
    "text": "as I do with the particular movie the idea is to suss out what are the underlying factor so those are called latent factors and",
    "start": "1950990",
    "end": "1957950"
  },
  {
    "text": "something like factorization machine allows you to identify what those factors are and then from that you can",
    "start": "1957950",
    "end": "1963740"
  },
  {
    "text": "now calculate a wealth of other options in terms of producing recommendations to the user okay and how many in total I",
    "start": "1963740",
    "end": "1970850"
  },
  {
    "text": "guess do we provide in Sage maker yeah so that's so those two are k-means as well as factorization machines are part",
    "start": "1970850",
    "end": "1976700"
  },
  {
    "text": "of sage makers built-in algorithms we have 13 different algorithms covering a number of different use cases like",
    "start": "1976700",
    "end": "1982309"
  },
  {
    "text": "linear regression etc but bear in mind that if customers come with tensorflow or MX net and they want to run on sage",
    "start": "1982309",
    "end": "1989149"
  },
  {
    "text": "maker that's supported as a full api and as well as they can run their own custom containers if they're running something",
    "start": "1989149",
    "end": "1994909"
  },
  {
    "text": "like Sai kit some other different approaches if they want to run our they can actually run it also inside this",
    "start": "1994909",
    "end": "2000909"
  },
  {
    "text": "infrastructure for Sage maker well so basically even once we go through this kind of basic architecture of getting",
    "start": "2000909",
    "end": "2007120"
  },
  {
    "text": "someone up and running then they can also you know keep iterating bring their own technology and make it much more",
    "start": "2007120",
    "end": "2012669"
  },
  {
    "text": "advanced yeah that's exactly it so the idea is that data scientists whatever they may be doing today developers if",
    "start": "2012669",
    "end": "2018909"
  },
  {
    "text": "they have no background in data science they actually have a lot of different options within Sage Maker to solve their",
    "start": "2018909",
    "end": "2024250"
  },
  {
    "text": "business problems thanks for coming in today Steve that was episode four a build-your-own video on demand architecture in episode 5 we'll explore",
    "start": "2024250",
    "end": "2031779"
  },
  {
    "text": "smart players",
    "start": "2031779",
    "end": "2034559"
  }
]