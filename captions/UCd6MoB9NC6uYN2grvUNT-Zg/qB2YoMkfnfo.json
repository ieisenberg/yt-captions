[
  {
    "start": "0",
    "end": "17000"
  },
  {
    "text": "(upbeat music)",
    "start": "161",
    "end": "2744"
  },
  {
    "text": "- [Instructor] Before we get started,",
    "start": "6740",
    "end": "8330"
  },
  {
    "text": "we'll need two things.",
    "start": "8330",
    "end": "9760"
  },
  {
    "text": "Firstly, a subscription\nto a Redshift data product",
    "start": "9760",
    "end": "13090"
  },
  {
    "text": "in AWS Data Exchange",
    "start": "13090",
    "end": "15250"
  },
  {
    "text": "and secondly, a Redshift cluster.",
    "start": "15250",
    "end": "18090"
  },
  {
    "start": "17000",
    "end": "86000"
  },
  {
    "text": "If we select the navigation bar",
    "start": "18090",
    "end": "20590"
  },
  {
    "text": "here on the left,",
    "start": "20590",
    "end": "22260"
  },
  {
    "text": "we can see an option\nto browser the catalog.",
    "start": "22260",
    "end": "25390"
  },
  {
    "text": "And here in Refine results,",
    "start": "25390",
    "end": "28140"
  },
  {
    "text": "you move halfway down the page,",
    "start": "28140",
    "end": "29539"
  },
  {
    "text": "we can select the filter",
    "start": "29540",
    "end": "31000"
  },
  {
    "text": "for data available\nthrough Amazon Redshift.",
    "start": "31000",
    "end": "34680"
  },
  {
    "text": "Today, we'll use the first dataset,",
    "start": "34680",
    "end": "37100"
  },
  {
    "text": "the Worldwide Event Attendance,",
    "start": "37100",
    "end": "39219"
  },
  {
    "text": "so that you can repeat\nthe exercise yourself",
    "start": "39220",
    "end": "41680"
  },
  {
    "text": "and get comfortable with\nthe overall process.",
    "start": "41680",
    "end": "44530"
  },
  {
    "text": "As you can see by the green\nbanner at the top of the page,",
    "start": "44530",
    "end": "48000"
  },
  {
    "text": "I've already subscribed to this product.",
    "start": "48000",
    "end": "50720"
  },
  {
    "text": "If you wish to subscribe,",
    "start": "50720",
    "end": "52210"
  },
  {
    "text": "you can click the orange button\nthat would usually be here,",
    "start": "52210",
    "end": "55660"
  },
  {
    "text": "Continue to subscribe to\nsubscribe to the product.",
    "start": "55660",
    "end": "59090"
  },
  {
    "text": "Once you have subscribed,",
    "start": "59090",
    "end": "60880"
  },
  {
    "text": "you'll then the product",
    "start": "60880",
    "end": "62130"
  },
  {
    "text": "available in your Entitled\ndata section of the console.",
    "start": "62130",
    "end": "66253"
  },
  {
    "text": "As you can see,",
    "start": "67240",
    "end": "68350"
  },
  {
    "text": "I have the Worldwide\nEvent Attendance product",
    "start": "68350",
    "end": "71510"
  },
  {
    "text": "just here at the bottom of my list.",
    "start": "71510",
    "end": "74050"
  },
  {
    "text": "Now that we have a data\nexchange product available",
    "start": "74050",
    "end": "77130"
  },
  {
    "text": "that we can share with new or\nexisting Redshift clusters,",
    "start": "77130",
    "end": "81180"
  },
  {
    "text": "let's move across to the Redshift service",
    "start": "81180",
    "end": "83660"
  },
  {
    "text": "and see that in action.",
    "start": "83660",
    "end": "85093"
  },
  {
    "start": "86000",
    "end": "188000"
  },
  {
    "text": "I have a few demo clusters available,",
    "start": "86760",
    "end": "89000"
  },
  {
    "text": "but we'll create a new\ncluster for today's task",
    "start": "89000",
    "end": "92450"
  },
  {
    "text": "so that we can discuss",
    "start": "92450",
    "end": "93939"
  },
  {
    "text": "a few of the configuration requirements.",
    "start": "93940",
    "end": "97170"
  },
  {
    "text": "If we select Create Cluster,",
    "start": "97170",
    "end": "99979"
  },
  {
    "text": "we can provide that cluster with a name.",
    "start": "99980",
    "end": "102377"
  },
  {
    "text": "We'll choose the node type",
    "start": "103480",
    "end": "105470"
  },
  {
    "text": "and for this example,",
    "start": "105470",
    "end": "106530"
  },
  {
    "text": "we'll use an RA3.xlplus.",
    "start": "106530",
    "end": "109810"
  },
  {
    "text": "And you should note that data sharing",
    "start": "109810",
    "end": "112030"
  },
  {
    "text": "with AWS Data Exchange",
    "start": "112030",
    "end": "114570"
  },
  {
    "text": "only works with the RA3 node types.",
    "start": "114570",
    "end": "116909"
  },
  {
    "text": "You can't use the DC2s.",
    "start": "116910",
    "end": "118393"
  },
  {
    "text": "We'll just select the minimum\namount of nodes, two node,",
    "start": "120210",
    "end": "123233"
  },
  {
    "text": "and then we'll move down\nto the configuration.",
    "start": "124870",
    "end": "127770"
  },
  {
    "text": "We'll let Redshift\nautogenerate our password",
    "start": "127770",
    "end": "130459"
  },
  {
    "text": "and we will change some of\nthese additional configurations.",
    "start": "131380",
    "end": "135510"
  },
  {
    "text": "Firstly, we'll open the\ndatabase configuration",
    "start": "135510",
    "end": "138680"
  },
  {
    "text": "and we will turn on encryption",
    "start": "139530",
    "end": "141530"
  },
  {
    "text": "using the AWS Key Management Service",
    "start": "141530",
    "end": "145040"
  },
  {
    "text": "and the default Redshift key.",
    "start": "145040",
    "end": "147739"
  },
  {
    "text": "Once we've done that,",
    "start": "147740",
    "end": "149020"
  },
  {
    "text": "we can click Create Cluster.",
    "start": "149020",
    "end": "151003"
  },
  {
    "text": "That will take a short time to confirm",
    "start": "153560",
    "end": "156040"
  },
  {
    "text": "and you should see a blue\nbanner at the top of the page",
    "start": "156040",
    "end": "158269"
  },
  {
    "text": "stating that the cluster is being created.",
    "start": "158270",
    "end": "161210"
  },
  {
    "text": "I'll return in a second",
    "start": "161210",
    "end": "162440"
  },
  {
    "text": "and show you what we've\ncreated as you can now.",
    "start": "162440",
    "end": "165160"
  },
  {
    "text": "See, my RA2.explus\ntwo-node Redshift cluster",
    "start": "165160",
    "end": "169940"
  },
  {
    "text": "has now been created",
    "start": "169940",
    "end": "171430"
  },
  {
    "text": "and is available for use.",
    "start": "171430",
    "end": "174379"
  },
  {
    "text": "Now that it's available for use,",
    "start": "174380",
    "end": "176540"
  },
  {
    "text": "we should think about how we can use",
    "start": "176540",
    "end": "178709"
  },
  {
    "text": "our datashare from AWS Data Exchange.",
    "start": "178710",
    "end": "182470"
  },
  {
    "text": "If we select datashares that you can see",
    "start": "182470",
    "end": "185030"
  },
  {
    "text": "over here on the left\nin the navigation bar,",
    "start": "185030",
    "end": "187423"
  },
  {
    "text": "you can now see the\ndatashares that you have",
    "start": "188480",
    "end": "191290"
  },
  {
    "text": "from within your account,",
    "start": "191290",
    "end": "192540"
  },
  {
    "text": "from secondary or other accounts,",
    "start": "193610",
    "end": "196460"
  },
  {
    "text": "and any subscriptions that you might have.",
    "start": "196460",
    "end": "199050"
  },
  {
    "text": "And as you can see,",
    "start": "199050",
    "end": "200050"
  },
  {
    "text": "we have our Worldwide Event\ntest data subscription",
    "start": "200050",
    "end": "203660"
  },
  {
    "text": "now visible in Redshift.",
    "start": "203660",
    "end": "205760"
  },
  {
    "text": "To bring that data into\nthe Redshift cluster",
    "start": "205760",
    "end": "208310"
  },
  {
    "text": "and begin working with it,",
    "start": "208310",
    "end": "209670"
  },
  {
    "text": "we will use the Redshift query editor.",
    "start": "209670",
    "end": "212310"
  },
  {
    "text": "And today, we'll use version\ntwo of the query editor.",
    "start": "212310",
    "end": "215773"
  },
  {
    "text": "To connect to your cluster,",
    "start": "217360",
    "end": "218950"
  },
  {
    "text": "click on the cluster name on the left.",
    "start": "218950",
    "end": "221180"
  },
  {
    "text": "As you can see here, redshift-cluster-1.",
    "start": "221180",
    "end": "224170"
  },
  {
    "text": "You should see a blue banner\nestablishing connection.",
    "start": "224170",
    "end": "227770"
  },
  {
    "text": "You can then run queries\nagainst your cluster.",
    "start": "227770",
    "end": "230830"
  },
  {
    "text": "For example, here I'm asking the cluster",
    "start": "230830",
    "end": "234210"
  },
  {
    "text": "to show the datashares\nwhich are available.",
    "start": "234210",
    "end": "237370"
  },
  {
    "text": "We run that query.",
    "start": "237370",
    "end": "238532"
  },
  {
    "text": "You can now see the Worldwide\nEvent test datashare",
    "start": "239810",
    "end": "243640"
  },
  {
    "text": "which is available from AWS Data Exchange",
    "start": "243640",
    "end": "247120"
  },
  {
    "text": "as an inbound datashare,",
    "start": "247120",
    "end": "249409"
  },
  {
    "text": "and it provides the producer account",
    "start": "249410",
    "end": "252070"
  },
  {
    "text": "and the producer namespace information.",
    "start": "252070",
    "end": "254500"
  },
  {
    "text": "And we'll use that in a second",
    "start": "254500",
    "end": "255830"
  },
  {
    "text": "to describe the datashare\nwith another simple command.",
    "start": "255830",
    "end": "259443"
  },
  {
    "text": "Here we're going to ask the cluster",
    "start": "260310",
    "end": "262330"
  },
  {
    "text": "to describe the datashare",
    "start": "262330",
    "end": "264110"
  },
  {
    "text": "and we'll provide the datashare name,",
    "start": "264110",
    "end": "266639"
  },
  {
    "text": "and then we'll provide the AWS account ID",
    "start": "266640",
    "end": "269610"
  },
  {
    "text": "and the namespace that you\nfound in the previous query",
    "start": "269610",
    "end": "272990"
  },
  {
    "text": "from the producer account",
    "start": "272990",
    "end": "274147"
  },
  {
    "text": "and the producer namespace.",
    "start": "274147",
    "end": "275753"
  },
  {
    "text": "If we highlight that query,",
    "start": "276770",
    "end": "278090"
  },
  {
    "text": "we can click Run",
    "start": "278090",
    "end": "280010"
  },
  {
    "text": "and you will see the\ncontent of the datashare",
    "start": "280010",
    "end": "282980"
  },
  {
    "text": "at the bottom of the screen",
    "start": "282980",
    "end": "285080"
  },
  {
    "text": "such as the different tables",
    "start": "285080",
    "end": "287000"
  },
  {
    "text": "and the schemas that are\nincluded within that product.",
    "start": "287000",
    "end": "290300"
  },
  {
    "text": "To create a database from our product,",
    "start": "290300",
    "end": "293280"
  },
  {
    "text": "we can add another statement,",
    "start": "293280",
    "end": "296170"
  },
  {
    "text": "this time to create a database",
    "start": "296170",
    "end": "298480"
  },
  {
    "text": "and here we'll provide a database name.",
    "start": "298480",
    "end": "301130"
  },
  {
    "text": "We're going to create\nit from our datashare",
    "start": "301130",
    "end": "304120"
  },
  {
    "text": "and we provide our datashare name.",
    "start": "304120",
    "end": "306380"
  },
  {
    "text": "And then finally we\nprovide our AWS account ID",
    "start": "306380",
    "end": "309280"
  },
  {
    "text": "and our namespace again\nto identify the resources",
    "start": "309280",
    "end": "313720"
  },
  {
    "text": "it's going to be created from.",
    "start": "313720",
    "end": "315610"
  },
  {
    "text": "We'll highlight that\nstatement and click Run.",
    "start": "315610",
    "end": "318163"
  },
  {
    "text": "And if successful, you should see",
    "start": "319690",
    "end": "321250"
  },
  {
    "text": "a query respond at the bottom of the page.",
    "start": "321250",
    "end": "324350"
  },
  {
    "text": "As an administrator, I could",
    "start": "324350",
    "end": "326120"
  },
  {
    "text": "begin conducting queries immediately,",
    "start": "326120",
    "end": "329120"
  },
  {
    "text": "but you may need to provide access",
    "start": "329120",
    "end": "331850"
  },
  {
    "text": "to these particular databases.",
    "start": "331850",
    "end": "334810"
  },
  {
    "text": "So using simple Grant Usage\nstatements on the database,",
    "start": "334810",
    "end": "339330"
  },
  {
    "text": "you can grant access to individual users",
    "start": "339330",
    "end": "341599"
  },
  {
    "text": "or groups as you can see on the screen.",
    "start": "341600",
    "end": "344860"
  },
  {
    "text": "With our first datashare query,",
    "start": "344860",
    "end": "347389"
  },
  {
    "text": "let's check out the size\nof one of our tables",
    "start": "347390",
    "end": "350300"
  },
  {
    "text": "with a simple Select Count statement,",
    "start": "350300",
    "end": "353879"
  },
  {
    "text": "and here we're looking to count",
    "start": "353880",
    "end": "356500"
  },
  {
    "text": "the number of records in the\nsales table, a simple query.",
    "start": "356500",
    "end": "360570"
  },
  {
    "text": "We'll run that query",
    "start": "360570",
    "end": "362450"
  },
  {
    "text": "and you can see at the foot of the page",
    "start": "362450",
    "end": "365510"
  },
  {
    "text": "that we have over 170,000 records",
    "start": "368870",
    "end": "371643"
  },
  {
    "text": "in our shared dataset\nfrom AWS Data Exchange.",
    "start": "372710",
    "end": "377293"
  },
  {
    "text": "From here our analysts",
    "start": "380260",
    "end": "382070"
  },
  {
    "text": "will likely wish to create aggregate views",
    "start": "382070",
    "end": "385630"
  },
  {
    "text": "and other tables so that our consumers",
    "start": "385630",
    "end": "388550"
  },
  {
    "text": "can have query performant views",
    "start": "388550",
    "end": "391440"
  },
  {
    "text": "across different aspects of this data.",
    "start": "391440",
    "end": "394280"
  },
  {
    "text": "In this example, we will create a table,",
    "start": "394280",
    "end": "397680"
  },
  {
    "text": "a new table called Event Aggregate",
    "start": "397680",
    "end": "399770"
  },
  {
    "text": "and we'll create that from our\nexisting datashare database.",
    "start": "399770",
    "end": "403483"
  },
  {
    "text": "Let's run that query.",
    "start": "404390",
    "end": "405543"
  },
  {
    "text": "Once that table has been created,",
    "start": "407490",
    "end": "410740"
  },
  {
    "text": "we'll be able to run simple\nselect stars across that table",
    "start": "410740",
    "end": "414970"
  },
  {
    "text": "locally with reduced performance overhead",
    "start": "414970",
    "end": "417750"
  },
  {
    "text": "without needing to run the original query",
    "start": "417750",
    "end": "420390"
  },
  {
    "text": "to generate that data.",
    "start": "420390",
    "end": "421913"
  },
  {
    "text": "And that'll mean our consumers",
    "start": "423500",
    "end": "424930"
  },
  {
    "text": "will have faster access to this data.",
    "start": "424930",
    "end": "427323"
  },
  {
    "text": "To combine this data with our own data,",
    "start": "428780",
    "end": "432150"
  },
  {
    "text": "we could use the COPY command to load data",
    "start": "432150",
    "end": "435470"
  },
  {
    "text": "from Amazon S3 into the cluster",
    "start": "435470",
    "end": "438160"
  },
  {
    "text": "and join that data with this new data.",
    "start": "438160",
    "end": "441660"
  },
  {
    "text": "Alternatively, we could\nuse Redshift Spectrum",
    "start": "441660",
    "end": "445350"
  },
  {
    "text": "to ingest our existing Glue catalog",
    "start": "445350",
    "end": "448900"
  },
  {
    "text": "and conduct joins across data",
    "start": "448900",
    "end": "450759"
  },
  {
    "text": "that's held within an existing data lake.",
    "start": "450760",
    "end": "454113"
  },
  {
    "text": "In the background, I've associated",
    "start": "455010",
    "end": "456720"
  },
  {
    "text": "an IAM Redshift Spectrum\nrole with my cluster.",
    "start": "457569",
    "end": "461520"
  },
  {
    "text": "So if I want to create a new data catalog,",
    "start": "461520",
    "end": "466220"
  },
  {
    "text": "an external schema from\nmy Glue data catalog,",
    "start": "466220",
    "end": "470420"
  },
  {
    "text": "I can use the Create\nExternal Schema command",
    "start": "470420",
    "end": "474030"
  },
  {
    "text": "and the IM role that I have",
    "start": "474030",
    "end": "476130"
  },
  {
    "text": "associated with my Redshift cluster",
    "start": "476130",
    "end": "479200"
  },
  {
    "text": "to create an external schema.",
    "start": "479200",
    "end": "481600"
  },
  {
    "text": "And that external schema\nwill allow me to query",
    "start": "481600",
    "end": "485810"
  },
  {
    "text": "and join data within that external catalog",
    "start": "485810",
    "end": "489220"
  },
  {
    "text": "with the data that I've brought in",
    "start": "489220",
    "end": "491740"
  },
  {
    "text": "from my AWS Data Exchange datashare.",
    "start": "491740",
    "end": "495590"
  },
  {
    "text": "In this final query of the demo,",
    "start": "495590",
    "end": "498090"
  },
  {
    "text": "I'm going to join my\nData Exchange data sets",
    "start": "498090",
    "end": "502040"
  },
  {
    "text": "with an existing dataset\nfrom my Flue catalog.",
    "start": "502040",
    "end": "505943"
  },
  {
    "text": "In the query, I will aggregate data",
    "start": "509880",
    "end": "513590"
  },
  {
    "text": "from the event, venue, and sales tables",
    "start": "513590",
    "end": "516909"
  },
  {
    "text": "and I'll aggregate it at the state level,",
    "start": "516910",
    "end": "520300"
  },
  {
    "text": "highlighting how much\nincome we've made by state.",
    "start": "520300",
    "end": "523820"
  },
  {
    "text": "But I'll pull in the data from\nmy external Spectrum schema",
    "start": "523820",
    "end": "528170"
  },
  {
    "text": "and that includes census data.",
    "start": "529280",
    "end": "531500"
  },
  {
    "text": "So here I'll be able to\nunderstand at the state level",
    "start": "531500",
    "end": "534960"
  },
  {
    "text": "the population of the individual state",
    "start": "534960",
    "end": "537460"
  },
  {
    "text": "and the population density,",
    "start": "537460",
    "end": "539470"
  },
  {
    "text": "and hopefully that will help me understand",
    "start": "539470",
    "end": "541500"
  },
  {
    "text": "a little bit more about\nthese individual events",
    "start": "541500",
    "end": "544740"
  },
  {
    "text": "and how maybe profitable they are.",
    "start": "544740",
    "end": "547940"
  },
  {
    "text": "So let's run that query.",
    "start": "547940",
    "end": "549533"
  },
  {
    "text": "So you've seen how quick and easy it is",
    "start": "555040",
    "end": "557880"
  },
  {
    "text": "to start joining, sharing,",
    "start": "557880",
    "end": "560300"
  },
  {
    "text": "and aggregating data on the AWS platform.",
    "start": "560300",
    "end": "563980"
  },
  {
    "text": "The next step I would suggest",
    "start": "563980",
    "end": "565639"
  },
  {
    "text": "is to go and explore the\nAWS Data Exchange catalog.",
    "start": "565640",
    "end": "570300"
  },
  {
    "text": "Find some datasets that\nyou can join for yourself",
    "start": "570300",
    "end": "573700"
  },
  {
    "text": "and begin thinking about\nhow you can use this data.",
    "start": "573700",
    "end": "576333"
  }
]