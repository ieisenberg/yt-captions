[
  {
    "start": "0",
    "end": "66000"
  },
  {
    "text": "well thank you everybody for joining us this is when 307 security security best",
    "start": "30",
    "end": "5370"
  },
  {
    "text": "practices for Microsoft workloads my name is Mark Shaw kovitch and I am with AWS professional services I'd like to",
    "start": "5370",
    "end": "11910"
  },
  {
    "text": "introduce you to my peer and my co-presenter maneuver Pandey who is a partner solution architect with AWS",
    "start": "11910",
    "end": "18210"
  },
  {
    "text": "partner team so I'd like to provide some guidance and kind of navigation of what",
    "start": "18210",
    "end": "25410"
  },
  {
    "text": "we're going to be talking about for the next hour or so here and so what we're going to do is we're going to provide you an overall holistic approach and an",
    "start": "25410",
    "end": "32250"
  },
  {
    "text": "overview to security from information systems that we have here from there",
    "start": "32250",
    "end": "37410"
  },
  {
    "text": "what we're going to do is we'll drill down a level and we'll show you some of the AWS native services and features",
    "start": "37410",
    "end": "44489"
  },
  {
    "text": "that can be applied against that framework that we're going to showcase for you here we'll talk about some",
    "start": "44489",
    "end": "50250"
  },
  {
    "text": "monitoring and logging as well we'll try to bring this home for you with a couple of show and tells actually demos for",
    "start": "50250",
    "end": "56640"
  },
  {
    "text": "this hopefully those will help you get the point across and we're gonna sprinkle in some general guidance for",
    "start": "56640",
    "end": "62340"
  },
  {
    "text": "best practices as we go throughout the session so with that let's talk about",
    "start": "62340",
    "end": "68700"
  },
  {
    "start": "66000",
    "end": "393000"
  },
  {
    "text": "this high-level overview and end-to-end security so what we've done here is",
    "start": "68700",
    "end": "73830"
  },
  {
    "text": "we've actually selected a number of mechanisms and controls that could be",
    "start": "73830",
    "end": "80159"
  },
  {
    "text": "used as security safeguards as well as security safeguards in order to minimize",
    "start": "80159",
    "end": "86130"
  },
  {
    "text": "the risk to your systems now when you look at these I actually there were six",
    "start": "86130",
    "end": "91530"
  },
  {
    "text": "pillars but I actually grouped these into two sets of three and these are ones that renew and I had actually come",
    "start": "91530",
    "end": "96659"
  },
  {
    "text": "up with for this discussion so on the left side here your left we have the",
    "start": "96659",
    "end": "103259"
  },
  {
    "text": "three met which I consider the mechanisms in terms of identity infrastructure and data protection the",
    "start": "103259",
    "end": "110189"
  },
  {
    "text": "preventative detective corrective are the controls that were going to be talking about so from the identity perspective what we're talking about is",
    "start": "110189",
    "end": "116790"
  },
  {
    "text": "is the access into your systems right the provisioning and the deep provisioning of users and accounts to",
    "start": "116790",
    "end": "123600"
  },
  {
    "text": "get into your systems how to manage those and and how to allow access into",
    "start": "123600",
    "end": "128970"
  },
  {
    "text": "the systems that you want we mobile move over to infrastructure security how to protect your environment",
    "start": "128970",
    "end": "134530"
  },
  {
    "text": "inside so from an AWS perspective talking about protecting your instances talking about protecting your network",
    "start": "134530",
    "end": "140260"
  },
  {
    "text": "whether it's knackles or security groups things like that and then data",
    "start": "140260",
    "end": "145720"
  },
  {
    "text": "protection how to prevent unauthorized access to your data and as important is",
    "start": "145720",
    "end": "151120"
  },
  {
    "text": "how to provide the appropriate access as intended to the users that you need or the applications that you need so let's",
    "start": "151120",
    "end": "159730"
  },
  {
    "text": "spend a little time on the controls so these controls actually controls can be",
    "start": "159730",
    "end": "167620"
  },
  {
    "text": "categorized by the criteria by which they're defined so for example they can",
    "start": "167620",
    "end": "175060"
  },
  {
    "text": "be defined by their nature and by their nature what I mean is they can be physical controls so something like a",
    "start": "175060",
    "end": "182109"
  },
  {
    "text": "room that your Bastion hosts or locked in so that's a physical control we can talk about procedural controls so",
    "start": "182109",
    "end": "188440"
  },
  {
    "text": "something like management oversight security and awareness training as well as incident response could be classified",
    "start": "188440",
    "end": "194829"
  },
  {
    "text": "in that again that's part of the nature on next week technical controls as we",
    "start": "194829",
    "end": "201310"
  },
  {
    "text": "talked about identity so providing access into your systems talk about providing antivirus software in your",
    "start": "201310",
    "end": "207519"
  },
  {
    "text": "systems you can talk about putting firewalls in there which are technical and then of course we have legal",
    "start": "207519",
    "end": "213519"
  },
  {
    "text": "controls compliance controls and/or regulatory controls an example of that is privacy another example of controls",
    "start": "213519",
    "end": "221169"
  },
  {
    "text": "can actually go along the lines of we talked about with information security and there what we're talking about is",
    "start": "221169",
    "end": "227620"
  },
  {
    "text": "the people the technology and the processes that are involved or the operations and then they're categorized",
    "start": "227620",
    "end": "233859"
  },
  {
    "text": "into confidentiality integrity and availability for the context of our",
    "start": "233859",
    "end": "240069"
  },
  {
    "text": "discussion what we decided to do who is we going to take a time-based approach to this so what we're looking at is",
    "start": "240069",
    "end": "245859"
  },
  {
    "text": "actually a representative detective and corrective controls from this so when",
    "start": "245859",
    "end": "251139"
  },
  {
    "text": "you look at a time base this is really about prior to an incident during an incident and after an incident what",
    "start": "251139",
    "end": "256870"
  },
  {
    "text": "happens and when we look at the preventative controls again identity comes in before an incident occurs",
    "start": "256870",
    "end": "263130"
  },
  {
    "text": "you can take measures to ensure that you can counteract something so you probably policies for access you can provide",
    "start": "263130",
    "end": "270720"
  },
  {
    "text": "appropriate groups that you're gonna put in there authentication mechanisms",
    "start": "270720",
    "end": "276240"
  },
  {
    "text": "things like multi-factor authentication detective controls are the ones that actually occur during an incident what",
    "start": "276240",
    "end": "283380"
  },
  {
    "text": "do you do when an incident occurs and the response that you take from that so you pick up the incident you categorize",
    "start": "283380",
    "end": "289710"
  },
  {
    "text": "the incident and you determine what you're gonna do with that incident so for example you may shut down ports you",
    "start": "289710",
    "end": "295620"
  },
  {
    "text": "may just log it you may run some scripts for it and then we move over to their",
    "start": "295620",
    "end": "300840"
  },
  {
    "text": "corrective controls and the corrective controls are what do you do after to maintain business operations and how",
    "start": "300840",
    "end": "307020"
  },
  {
    "text": "quickly you can do that as well as minimizing any type of system impact you have from any of the incidents that have",
    "start": "307020",
    "end": "313350"
  },
  {
    "text": "occurred and what I like to think about also is a feedback loop from the",
    "start": "313350",
    "end": "318510"
  },
  {
    "text": "corrective controls to preventative so something did occur and you've got to take that corrective control that you",
    "start": "318510",
    "end": "323820"
  },
  {
    "text": "can actually feed that back and take care of it preventative controls so if the incident occurs again you've already",
    "start": "323820",
    "end": "329070"
  },
  {
    "text": "got it covered so with that that's going to be the",
    "start": "329070",
    "end": "334770"
  },
  {
    "text": "focus of what we're talking about here and what we did was also mapped out AWS native services and features below each",
    "start": "334770",
    "end": "341940"
  },
  {
    "text": "of these pillars that we fund map to each of these areas here now given that we only have about an hour less than an",
    "start": "341940",
    "end": "349050"
  },
  {
    "text": "hour for these we can't go through the approximately 28 services that are here so we boil these down to four pillars",
    "start": "349050",
    "end": "358230"
  },
  {
    "text": "that we want to talk about and approximately eight of these here so I don't want to have to read you can see",
    "start": "358230",
    "end": "363930"
  },
  {
    "text": "them yourself I'll be talking about AWS manage myself Active Directory AWS single sign-on we'll talk systems",
    "start": "363930",
    "end": "370350"
  },
  {
    "text": "manager inspector and things like that now I do want to showcase that the icons",
    "start": "370350",
    "end": "376470"
  },
  {
    "text": "that you see up here are going to help us navigate through this presentation as well what I mean by that is when we're",
    "start": "376470",
    "end": "382560"
  },
  {
    "text": "talking about infrastructure security you'll see that emblem up at the top right corner so you know exactly where",
    "start": "382560",
    "end": "387960"
  },
  {
    "text": "we're talking about we start with identity we'll have that badge up there as well so with that",
    "start": "387960",
    "end": "394999"
  },
  {
    "start": "393000",
    "end": "516000"
  },
  {
    "text": "let's start with securing identities I think everybody knows about Microsoft",
    "start": "394999",
    "end": "401419"
  },
  {
    "text": "Active Directory and what we have is AWS directory services for Microsoft Active",
    "start": "401419",
    "end": "407869"
  },
  {
    "text": "Directory also we refer to this as AWS managed Microsoft Active Directory what",
    "start": "407869",
    "end": "415249"
  },
  {
    "text": "we do is we provide Active Directory as a managed service to you this is inherently Windows Server 2012",
    "start": "415249",
    "end": "423619"
  },
  {
    "text": "r2 that we provide as a managed service this is absolutely Microsoft's directory",
    "start": "423619",
    "end": "429649"
  },
  {
    "text": "service they run for Identity and Access Management they provide the service where you can provision the provision",
    "start": "429649",
    "end": "434809"
  },
  {
    "text": "users you can manage your users you can apply groups you can plug group policies to do that exactly what we're doing",
    "start": "434809",
    "end": "441139"
  },
  {
    "text": "except we're managing it for you making sure that it's available that it's reliable updates are taken for you are",
    "start": "441139",
    "end": "447349"
  },
  {
    "text": "done for you and and we handle all of that stuff on the domain controllers so you can handle the administrative",
    "start": "447349",
    "end": "452569"
  },
  {
    "text": "portion of your users and your groups and security aspects of your security principles as well so there are two",
    "start": "452569",
    "end": "461239"
  },
  {
    "text": "editions that are available for this standard and enterprise depends on the instance that's used really and so the",
    "start": "461239",
    "end": "466969"
  },
  {
    "text": "standard will go up to about 5,000 employees and the enterprise version will go up to about a hundred thousand",
    "start": "466969",
    "end": "472429"
  },
  {
    "text": "employees for you okay and we could see the AWS manage my croissant of directory",
    "start": "472429",
    "end": "477499"
  },
  {
    "text": "actually has a native integration with some of the AWS services Microsoft sequel server instances and is on RDS",
    "start": "477499",
    "end": "484059"
  },
  {
    "text": "Amazon ec2 AWS workspaces as well for completeness I wanted to mention Active",
    "start": "484059",
    "end": "490759"
  },
  {
    "text": "Directory connector this is actually a proxy service so you have a Active Directory on-prem or your on-prem Active",
    "start": "490759",
    "end": "497659"
  },
  {
    "text": "Directory and you'd like to Matt access the AWS console you can actually use Haidee connector as the LDAP proxy to",
    "start": "497659",
    "end": "504529"
  },
  {
    "text": "that so you knew the authentication through that we won't be talking about simple ad simple ad again for",
    "start": "504529",
    "end": "509989"
  },
  {
    "text": "completeness is basically samba but I just wanted to highlight it there for you so what are we talking about that",
    "start": "509989",
    "end": "517909"
  },
  {
    "start": "516000",
    "end": "634000"
  },
  {
    "text": "bikes with active tracked at that high level in the security session so the way that we invoke this is when you set up",
    "start": "517909",
    "end": "525019"
  },
  {
    "text": "the manage directory for yourselves you get minimum of two domain controllers in separate separate availability zones we",
    "start": "525019",
    "end": "534410"
  },
  {
    "text": "provide a security group now you don't get the DC's you cannot access these domain controllers you get network",
    "start": "534410",
    "end": "539870"
  },
  {
    "text": "interfaces within your V PC that you can access and what we do is we apply security groups to those to those",
    "start": "539870",
    "end": "547640"
  },
  {
    "text": "ionizers lacked elastic network interfaces those the only communication",
    "start": "547640",
    "end": "553670"
  },
  {
    "text": "that's allowed is communication that is required by Active Directory in and out",
    "start": "553670",
    "end": "558800"
  },
  {
    "text": "of those en is that bridge the gap from our control plane in the back to your V PC",
    "start": "558800",
    "end": "564200"
  },
  {
    "text": "excuse me this is inaccessible from the",
    "start": "564200",
    "end": "570140"
  },
  {
    "text": "internet if you want to get to your directory you have to be within your V PC to do that that's why you typically",
    "start": "570140",
    "end": "576680"
  },
  {
    "text": "need a bastion host to get in there or any other systems to get in through your V PC to that even if you change it",
    "start": "576680",
    "end": "582620"
  },
  {
    "text": "routing tables if you play around with the network adapter if you set up a NAT gateway you cannot get to those DC's you",
    "start": "582620",
    "end": "589730"
  },
  {
    "text": "have to do it through a Remote Desktop gateway or use server tools for our set tools something like that excuse me now you",
    "start": "589730",
    "end": "598700"
  },
  {
    "text": "can modify the security group rules and you can make them more restricted right now they're open everywhere so they're",
    "start": "598700",
    "end": "605510"
  },
  {
    "text": "open to fully so 0 dot 0 dot 0 slash 32 so you can actually restrict that down",
    "start": "605510",
    "end": "611390"
  },
  {
    "text": "so anything that communicates mm-hmm as well as you can restrict the destination",
    "start": "611390",
    "end": "616580"
  },
  {
    "text": "addresses that DC's can communicate with excuse me was that something bad for lunch",
    "start": "616580",
    "end": "622870"
  },
  {
    "text": "that's like yep",
    "start": "627790",
    "end": "631360"
  },
  {
    "start": "634000",
    "end": "843000"
  },
  {
    "text": "so just moving on to AWS SSO single sign-on service what is it basically",
    "start": "634680",
    "end": "642310"
  },
  {
    "text": "it's a cloud-based single sign-on service that we provide you can centrally manage access to multiple AWS accounts and cloud",
    "start": "642310",
    "end": "649420"
  },
  {
    "text": "applications so from the diagram you can see that we can do multiple AWS accounts you go out to any cloud based",
    "start": "649420",
    "end": "655360"
  },
  {
    "text": "applications Dropbox office 365 and you can base it on users in your Active Directory you can connect the SSO to",
    "start": "655360",
    "end": "663279"
  },
  {
    "text": "your on-premises Active Directory use the security principles there this way you really don't have security",
    "start": "663279",
    "end": "668889"
  },
  {
    "text": "principles sprawl where you have to actually have your security or users inside AWS for example and also have",
    "start": "668889",
    "end": "675820"
  },
  {
    "text": "them in Active Directory so what you can do is as we're talking about automatic AWS CLI console access and permissions",
    "start": "675820",
    "end": "682389"
  },
  {
    "text": "based on the group if you set up a group in Active Directory and you place your",
    "start": "682389",
    "end": "688420"
  },
  {
    "text": "users in that group and you set up the roles on the AWS side matching that",
    "start": "688420",
    "end": "693550"
  },
  {
    "text": "group the sam'l assertion will capture that and it'll actually provision the users for the right permission sets that",
    "start": "693550",
    "end": "699519"
  },
  {
    "text": "you have so for example developers that are in a test environment in an Active",
    "start": "699519",
    "end": "704620"
  },
  {
    "text": "Directory group you provision them into that group when they get into AWS with single sign-on they have the right",
    "start": "704620",
    "end": "710260"
  },
  {
    "text": "permissions just to do their work that they're provisioned for so we can also",
    "start": "710260",
    "end": "719560"
  },
  {
    "text": "provide order and access multiple AWS accounts for this it's a decorated with third-party tools",
    "start": "719560",
    "end": "724720"
  },
  {
    "text": "like Splunk sumo logic um the other thing that was just released recently was SSO supports its own directory so",
    "start": "724720",
    "end": "731470"
  },
  {
    "text": "you can actually create your own users and groups in SSO and you can actually provision them for application access as",
    "start": "731470",
    "end": "738040"
  },
  {
    "text": "we have excuse me as we have this so again what we're gonna be doing here is",
    "start": "738040",
    "end": "744569"
  },
  {
    "text": "providing a demo for this and what I'd like to do I want to explain to demo we",
    "start": "744959",
    "end": "750699"
  },
  {
    "text": "tried to keep it very simple because this might get sometimes demos get a little convoluted so we're going to be",
    "start": "750699",
    "end": "756550"
  },
  {
    "text": "doing what the diagram here shows is we set up an on-premises active directory or pseudo active directory which we have",
    "start": "756550",
    "end": "763000"
  },
  {
    "text": "on an ec2 instance so we're not using managed act directory we stir it up on ec2 we",
    "start": "763000",
    "end": "768720"
  },
  {
    "text": "created a user inside that group we've coupled AWS single sign-on using ad",
    "start": "768720",
    "end": "775350"
  },
  {
    "text": "connector to that directory and we're going to show you that we can keep a user that's not provisioned we've",
    "start": "775350",
    "end": "781380"
  },
  {
    "text": "disabled that account that cannot get into for example Dropbox or using or AWS we will enable that user and it will",
    "start": "781380",
    "end": "788610"
  },
  {
    "text": "provide you the access so we can show that you can provision a user into the cloud and you can do this at scale if",
    "start": "788610",
    "end": "793830"
  },
  {
    "text": "you want with various mechanisms whether it's scripts or however you might do that so I think everybody will",
    "start": "793830",
    "end": "799770"
  },
  {
    "text": "understand that so why don't I get to demo excuse me my voice is building here",
    "start": "799770",
    "end": "806090"
  },
  {
    "text": "oh great logged off",
    "start": "814520",
    "end": "819310"
  },
  {
    "text": "awesome work so let me just take you through this and",
    "start": "827900",
    "end": "833130"
  },
  {
    "text": "unfortunately have to put my glasses on",
    "start": "833130",
    "end": "837300"
  },
  {
    "text": "instead of the autism so what you can see here is we set up the SSO already for you and so this is going to be",
    "start": "842790",
    "end": "849510"
  },
  {
    "start": "843000",
    "end": "1183000"
  },
  {
    "text": "actually the link that we're using SSO and that is over here so that's gonna be",
    "start": "849510",
    "end": "855150"
  },
  {
    "text": "our sign-on page that's going to take us into AWS console for a user that that's provision for that as well as a",
    "start": "855150",
    "end": "861480"
  },
  {
    "text": "cloud-based application and this really takes just minutes to set up the",
    "start": "861480",
    "end": "866610"
  },
  {
    "text": "directory service that we're using here you can see we're going to be connecting into this account yeah that's a domain",
    "start": "866610",
    "end": "872610"
  },
  {
    "text": "controller the 166 address that you have there so we're going to cut go directly into that why they buy the ad connector",
    "start": "872610",
    "end": "881690"
  },
  {
    "text": "so what we did was we created a jump box",
    "start": "881690",
    "end": "887160"
  },
  {
    "text": "or a bastion host that's what's in orange here so we're rd paying into this bastion host and then you could see the",
    "start": "887160",
    "end": "893460"
  },
  {
    "text": "other RDP session from the bastion host which is the screen in black that we're going directly into the domain",
    "start": "893460",
    "end": "898980"
  },
  {
    "text": "controller now again if this was a managed Active Directory all you'd have to do is actually use our set tools",
    "start": "898980",
    "end": "904380"
  },
  {
    "text": "remote server administration tools to actually get in there but for the purposes of a demo it should work out",
    "start": "904380",
    "end": "909720"
  },
  {
    "text": "fine so you can see here that we're on",
    "start": "909720",
    "end": "916980"
  },
  {
    "text": "the on-prem dotnet domain controller or domain here and again we're gonna",
    "start": "916980",
    "end": "926070"
  },
  {
    "text": "provide this user here simply in this user group and you see user SSO that's",
    "start": "926070",
    "end": "933810"
  },
  {
    "text": "what we're gonna be testing with and you can see the little down arrow that means it's disabled and we can kind of prove that with it says enable account see so",
    "start": "933810",
    "end": "940440"
  },
  {
    "text": "what kind of sudo stating that this is a non provisioned user yet at this time so",
    "start": "940440",
    "end": "946710"
  },
  {
    "text": "if we go in and we go to our other screen here and we try to log in with",
    "start": "946710",
    "end": "953730"
  },
  {
    "text": "that user and this is the password that's there I can type it in Cherie we get an authentication failure that the",
    "start": "953730",
    "end": "959250"
  },
  {
    "text": "account is disabled or doesn't exist if I put in another account here you know two to two and we try to do that it's",
    "start": "959250",
    "end": "965910"
  },
  {
    "text": "gonna just not do anything again there we go so let's go back",
    "start": "965910",
    "end": "972630"
  },
  {
    "text": "we'll enable that user",
    "start": "972630",
    "end": "976410"
  },
  {
    "text": "okay which kind of represents that we edit a user we provisioned the user there and",
    "start": "982970",
    "end": "988550"
  },
  {
    "text": "we put them into a group that'll be accessed there when you'll take those samples assertions to get in to AWS and",
    "start": "988550",
    "end": "996380"
  },
  {
    "text": "let me get back here I really like refreshing the page we have our user s s",
    "start": "996380",
    "end": "1003070"
  },
  {
    "text": "so no sleight of hand I'm leaving that password there and so now you can see",
    "start": "1003070",
    "end": "1011140"
  },
  {
    "text": "that we have now you can have a whole list of applications and things that are going here so we just want the demo that you go into the AWS account so that",
    "start": "1011140",
    "end": "1018190"
  },
  {
    "text": "sam'l assertions gonna take ad groups that user is a member of that are mapped to roles inside of AWS so you can just",
    "start": "1018190",
    "end": "1025240"
  },
  {
    "text": "manage that user on that Active Directory side whether it's your on-prem user I'm sorry your on-prem directory",
    "start": "1025240",
    "end": "1030850"
  },
  {
    "text": "manager Active Directory that we're managing for you or an ec2 instance of",
    "start": "1030850",
    "end": "1036459"
  },
  {
    "text": "that directory so they're going to come in to that user and we select the Dropbox just to show you a cloud-based application that you can get into so",
    "start": "1036459",
    "end": "1044170"
  },
  {
    "text": "let's just get into Dropbox first we click that user and so you can show you",
    "start": "1044170",
    "end": "1051280"
  },
  {
    "text": "can see that we're there we didn't set up an enterprise account with Dropbox so we just wanted to show you that we can actually get in there to give you that",
    "start": "1051280",
    "end": "1059169"
  },
  {
    "text": "access and then we get into AWS accounts checking the time here you can see that",
    "start": "1059169",
    "end": "1065770"
  },
  {
    "text": "we have the user here now if there were more roles associated with that user you'll see the them drop down here that",
    "start": "1065770",
    "end": "1072160"
  },
  {
    "text": "you can select and you get administrative access kind of click that little break there and now we're getting",
    "start": "1072160",
    "end": "1078820"
  },
  {
    "text": "into the AWS console and again the user that's getting into AWS is in Active",
    "start": "1078820",
    "end": "1084340"
  },
  {
    "text": "Directory somewhere else and it's being provisioned up through SSO that they can come in they can do their work based on",
    "start": "1084340",
    "end": "1090010"
  },
  {
    "text": "the permission sets and rules that they were given inside of AWS as well now to",
    "start": "1090010",
    "end": "1096460"
  },
  {
    "text": "drive that point home let's just go back",
    "start": "1096460",
    "end": "1102580"
  },
  {
    "text": "here I'm going to deep provision that user",
    "start": "1102580",
    "end": "1107520"
  },
  {
    "text": "and will disable let's let's just say an employee left and you how to get rid of that employee and you can do this at",
    "start": "1109880",
    "end": "1115590"
  },
  {
    "text": "scale with whatever mechanisms that you do this in your environment so again",
    "start": "1115590",
    "end": "1120870"
  },
  {
    "text": "that user is disabled here we'll do a refresh on this then we look to sign in",
    "start": "1120870",
    "end": "1128880"
  },
  {
    "text": "and again can't get in so it's automatic so and if you have a list of cloud-based",
    "start": "1128880",
    "end": "1135000"
  },
  {
    "text": "applications if you have Salesforce up there things like that you can do this across the board for all them so all",
    "start": "1135000",
    "end": "1140340"
  },
  {
    "text": "your users have this single sign access based on a user identity that's inside of Active Directory ok and this way you",
    "start": "1140340",
    "end": "1147240"
  },
  {
    "text": "don't get users sprawl you don't have to manage users in AWS you don't have to you know you can manage them in one place so with that my part of the",
    "start": "1147240",
    "end": "1158030"
  },
  {
    "text": "speaking is done and I'm gonna hand this over let me turn this back what's in the",
    "start": "1158030",
    "end": "1164970"
  },
  {
    "text": "new is going to take you from here",
    "start": "1164970",
    "end": "1169010"
  },
  {
    "text": "there you go thank you well let me just disconnect here fantastic",
    "start": "1176860",
    "end": "1184120"
  },
  {
    "start": "1183000",
    "end": "1522000"
  },
  {
    "text": "good afternoon and welcome again to win 307 my name is manu depandi I'm a senior",
    "start": "1184120",
    "end": "1191120"
  },
  {
    "text": "Solutions Architect and part of the AWS partner team that focuses on running",
    "start": "1191120",
    "end": "1196430"
  },
  {
    "text": "Microsoft cloud Microsoft platform workloads I need a new ass mark and I",
    "start": "1196430",
    "end": "1201500"
  },
  {
    "text": "realize we are probably the only two people standing in your way of getting a beer or going into pub crawl",
    "start": "1201500",
    "end": "1207560"
  },
  {
    "text": "so Hui promise we'll get you out of here on time and I have about 40 minutes left",
    "start": "1207560",
    "end": "1213110"
  },
  {
    "text": "in this session so I'm probably gonna end up using all 40 minutes so mark and I will hang around after the session and",
    "start": "1213110",
    "end": "1219050"
  },
  {
    "text": "if you guys have any questions we are happy to answer them app at the talk here wonderful so let's get started here",
    "start": "1219050",
    "end": "1227270"
  },
  {
    "text": "I want to quickly bring your attention to the top right hand corner as Mark mentioned so we are now in the",
    "start": "1227270",
    "end": "1233750"
  },
  {
    "text": "infrastructure security section of the talk and I want to talk about a service called A to B a Systems Manager it's",
    "start": "1233750",
    "end": "1240290"
  },
  {
    "text": "been around for a while albeit under different names used to be called simple Systems Manager ec2",
    "start": "1240290",
    "end": "1245600"
  },
  {
    "text": "Systems Manager but in its current form today it is made about seven different actions or seven different features or",
    "start": "1245600",
    "end": "1252470"
  },
  {
    "text": "capabilities if you will however you want to look at those and the most recent addition to that AWS systems",
    "start": "1252470",
    "end": "1259160"
  },
  {
    "text": "manager portfolio is the distributor action that was added less than 10 days or about two weeks ago so we are gonna",
    "start": "1259160",
    "end": "1266390"
  },
  {
    "text": "focus our talk on the left-hand side of the screen here but I'm gonna probably",
    "start": "1266390",
    "end": "1273530"
  },
  {
    "text": "be touching on state manager maintenance windows and automation here and there",
    "start": "1273530",
    "end": "1280220"
  },
  {
    "text": "but the primary focus here is just session manager run command and patch",
    "start": "1280220",
    "end": "1285950"
  },
  {
    "text": "manager just a quick show of hands how many of you guys today actually are using systems manager aw Systems Manager",
    "start": "1285950",
    "end": "1294190"
  },
  {
    "text": "okay maybe about I want to say about five to ten percent of the room uses it",
    "start": "1294190",
    "end": "1300410"
  },
  {
    "text": "so hopefully by the time you guys walk away from this maybe you guys will look",
    "start": "1300410",
    "end": "1305600"
  },
  {
    "text": "at this as a use full service to go you know put it to use for your windows workloads all right",
    "start": "1305600",
    "end": "1311510"
  },
  {
    "text": "cool so let's get started with session manager so I want to talk about three important points about session manager",
    "start": "1311510",
    "end": "1316670"
  },
  {
    "text": "that makes it so important for the security of your Windows workloads the first reason I want to talk about is",
    "start": "1316670",
    "end": "1323410"
  },
  {
    "text": "when you if you decide to use session manager to connect to an ec2 instance then you don't have to create or",
    "start": "1323410",
    "end": "1330890"
  },
  {
    "text": "distribute public and private key pairs so when I say connect to an ec2 instance from session manager what I mean by that",
    "start": "1330890",
    "end": "1337670"
  },
  {
    "text": "is connecting to a Windows instance be a PowerShell command line interface that's",
    "start": "1337670",
    "end": "1343190"
  },
  {
    "text": "what session manager does today right so when you do that you don't need to distribute any of your keys to your",
    "start": "1343190",
    "end": "1349190"
  },
  {
    "text": "users your users can come to session manager and then they can jump onto any Windows instance they want to in that",
    "start": "1349190",
    "end": "1354950"
  },
  {
    "text": "account right so that's the first go in point there the second point I want to",
    "start": "1354950",
    "end": "1360140"
  },
  {
    "text": "talk about is session manager access to it is controlled by AWS Identity and",
    "start": "1360140",
    "end": "1366050"
  },
  {
    "text": "Access Management Service so if you decide to use session manager by using",
    "start": "1366050",
    "end": "1371360"
  },
  {
    "text": "AWS I am you can actually control and manage in one central location access to",
    "start": "1371360",
    "end": "1378050"
  },
  {
    "text": "any specific instances that your users or groups of users have access to",
    "start": "1378050",
    "end": "1383570"
  },
  {
    "text": "meaning you could control the access of your users by creating I am users and",
    "start": "1383570",
    "end": "1388940"
  },
  {
    "text": "policies so they can only log in to a certain Windows instance and not log into other instances and it doesn't stop",
    "start": "1388940",
    "end": "1395420"
  },
  {
    "text": "there the the other point here is when you actually create access or give access to these users these use you can",
    "start": "1395420",
    "end": "1402710"
  },
  {
    "text": "control the SSM API endpoints or the API calls these users can make to these",
    "start": "1402710",
    "end": "1408380"
  },
  {
    "text": "Windows instances again the API endpoints are still under SSM meaning simple Systems Manager but it's a alw",
    "start": "1408380",
    "end": "1414470"
  },
  {
    "text": "Systems Manager right so that's the second point the third point here is it's actually",
    "start": "1414470",
    "end": "1420080"
  },
  {
    "text": "the pool you know the cool point and I think it's a really important point here is as the diagram here shows a user",
    "start": "1420080",
    "end": "1427220"
  },
  {
    "text": "comes in has ayane permissions to use session manager gets on session manager",
    "start": "1427220",
    "end": "1432470"
  },
  {
    "text": "and actually has access to an ec2 instance and goes into an ec2 instance but if you see that ec2 instance can be",
    "start": "1432470",
    "end": "1439130"
  },
  {
    "text": "complete lockdown from a security group standpoint meaning you don't have to have any inbound rules to that security",
    "start": "1439130",
    "end": "1445919"
  },
  {
    "text": "group associated with that ec2 windows instance so it's like completely lockdown so from that standpoint you are",
    "start": "1445919",
    "end": "1453270"
  },
  {
    "text": "actually reducing the attack surface of your windows instances therefore it minimizes your threat landscape this",
    "start": "1453270",
    "end": "1459870"
  },
  {
    "text": "particular windows instance is actually exposed - right so to drive this point home I have a live demo that we are",
    "start": "1459870",
    "end": "1466620"
  },
  {
    "text": "gonna do I'll try to in the interest of time I'll try to talk and I'll tell you what the demo is all about so basically",
    "start": "1466620",
    "end": "1472380"
  },
  {
    "text": "what I'm about to do is I'm gonna log in to my OBS console I'm gonna show you randomly pick an ec2 instance I'm gonna",
    "start": "1472380",
    "end": "1478559"
  },
  {
    "text": "show you the security group associated with that instance has no rules at all and then I'm gonna jump into session",
    "start": "1478559",
    "end": "1484799"
  },
  {
    "text": "manager and then we're gonna connect it to that instance alright so let's do that demo",
    "start": "1484799",
    "end": "1491960"
  },
  {
    "text": "flip you go to this yeah there you go",
    "start": "1500190",
    "end": "1507430"
  },
  {
    "text": "so mark remember we were talking about live demo God prayers you can start them",
    "start": "1510600",
    "end": "1517289"
  },
  {
    "text": "now what not were answered mature barriers and mark promised that he'll do",
    "start": "1517289",
    "end": "1522509"
  },
  {
    "start": "1522000",
    "end": "1827000"
  },
  {
    "text": "tap-dance while I'm trying to get things going so all right so we are in now so",
    "start": "1522509",
    "end": "1530880"
  },
  {
    "text": "I'm gonna log in so this is my AWS console and you know so let me refresh",
    "start": "1530880",
    "end": "1539190"
  },
  {
    "text": "here just to make sure it doesn't timeout of course it has timed out so",
    "start": "1539190",
    "end": "1545399"
  },
  {
    "text": "let's get back in so we're in the Northern Virginia region that doesn't matter but I have to randomly pick an instance",
    "start": "1545399",
    "end": "1551190"
  },
  {
    "text": "but I'm not gonna disappoint that instance so I'm gonna definitely pick that instance all right so obviously any",
    "start": "1551190",
    "end": "1559230"
  },
  {
    "text": "instance you launched must have at least one security group associated with that so let's look at that group Oh the group",
    "start": "1559230",
    "end": "1565169"
  },
  {
    "text": "says SG with no rules but you guys are not gonna believe me right so let's do this so I'm looking at view and bound",
    "start": "1565169",
    "end": "1572129"
  },
  {
    "text": "rules no inbound rules so I'm actually gonna hit that security group right there that's the group and absolutely no",
    "start": "1572129",
    "end": "1579750"
  },
  {
    "text": "inbound rules right and if we go back real quick I wanted to point out another",
    "start": "1579750",
    "end": "1585649"
  },
  {
    "text": "fact here this instance just has a private IP address absolutely no public",
    "start": "1585649",
    "end": "1593039"
  },
  {
    "text": "IP addresses and also this instance happens to be inside of a private subnet meaning it doesn't have a direct route",
    "start": "1593039",
    "end": "1599549"
  },
  {
    "text": "from the internet it has a route through the internet through an ad gateway that's how this instance is set up all",
    "start": "1599549",
    "end": "1604740"
  },
  {
    "text": "right so now I'm gonna jump to systems manager console which is where session",
    "start": "1604740",
    "end": "1610080"
  },
  {
    "text": "manager lives so I'm gonna try and open this in a new tab because all other tabs must have timed out and let's go to",
    "start": "1610080",
    "end": "1615960"
  },
  {
    "text": "systems manager right and here session manager on the left-hand side let's click on it and you're gonna see a blank",
    "start": "1615960",
    "end": "1622379"
  },
  {
    "text": "page open up and there's gonna be a button if the demo gods really answered Marc's prayers looks like we are halfway",
    "start": "1622379",
    "end": "1630210"
  },
  {
    "text": "through so we you're gonna hit a hit start session here and then it's going to pull up a bunch of sessions that you",
    "start": "1630210",
    "end": "1635580"
  },
  {
    "text": "could potentially start so these are basically called managed instances that are within the systems manager console so I'm going to again not disappoint",
    "start": "1635580",
    "end": "1642240"
  },
  {
    "text": "that instance looks like it's airing out already so let's refresh again maybe give it about",
    "start": "1642240",
    "end": "1648559"
  },
  {
    "text": "30 seconds and if it doesn't work we'll move on but I'm gonna try and take that",
    "start": "1648559",
    "end": "1653719"
  },
  {
    "text": "and click start instance right so this is gonna basically take you into that particular instance if you see the",
    "start": "1653719",
    "end": "1660289"
  },
  {
    "text": "instance ID it's ending in 2 5 8 3 and if you go back here that instance ID",
    "start": "1660289",
    "end": "1666080"
  },
  {
    "text": "should be 253 so we are logged in to that particular instance right and now",
    "start": "1666080",
    "end": "1671409"
  },
  {
    "text": "so some of you might be thinking maybe a Systems Manager session manager really",
    "start": "1671409",
    "end": "1676639"
  },
  {
    "text": "using Windows remote management or a service that runs under the name win RM so I'm gonna go ahead and see if when",
    "start": "1676639",
    "end": "1682190"
  },
  {
    "text": "autumn is running so let's look at yet service and the name of the service is",
    "start": "1682190",
    "end": "1687799"
  },
  {
    "text": "win RM and I'm just tabbing it and then it automatically picks it up so it's actually full interactive mode right and",
    "start": "1687799",
    "end": "1694669"
  },
  {
    "text": "it looks like the service is running so what I'll do is I'll actually stop this service right and let's make sure this",
    "start": "1694669",
    "end": "1703309"
  },
  {
    "text": "service is actually stopped now when RM runs on TCP port 5985 so I'm",
    "start": "1703309",
    "end": "1708979"
  },
  {
    "text": "gonna do a quick check to see if there is anything else running on 5985 5 9 8 5",
    "start": "1708979",
    "end": "1718419"
  },
  {
    "text": "it's empty but I'm still connected to that particular instance right so just",
    "start": "1718419",
    "end": "1724190"
  },
  {
    "text": "to prove a point here I'm gonna terminate this session and I'm gonna get back in to the same session to show that there's no win RM even running on that",
    "start": "1724190",
    "end": "1730789"
  },
  {
    "text": "particular service on the particular instance but I'm gonna go ahead and start that session and I'll still be",
    "start": "1730789",
    "end": "1735950"
  },
  {
    "text": "able to get back into that instance so",
    "start": "1735950",
    "end": "1744320"
  },
  {
    "text": "we are back in and if you go look at get service name win RM it stopped right so",
    "start": "1744320",
    "end": "1755149"
  },
  {
    "text": "so what is what is really happening here is systems manager actually has an agent",
    "start": "1755149",
    "end": "1761059"
  },
  {
    "text": "called an SS m - user agent that's actually running on all of these Windows instances so how did it get on there so",
    "start": "1761059",
    "end": "1767899"
  },
  {
    "text": "if you installed or if you hydrator of urine if you brought up on Windows instance based off of an army that was",
    "start": "1767899",
    "end": "1773779"
  },
  {
    "text": "released after November of 2016 those SSM user-agent were automatically added to",
    "start": "1773779",
    "end": "1780690"
  },
  {
    "text": "those windows instance am is right so this particular SSM user by default it",
    "start": "1780690",
    "end": "1787440"
  },
  {
    "text": "goes gets added into the local administrators group of this particular instance or any windows instance and",
    "start": "1787440",
    "end": "1793649"
  },
  {
    "text": "that is what the SSM service is actually talking to and getting all of that stuff back to you in the console so if you go",
    "start": "1793649",
    "end": "1799950"
  },
  {
    "text": "look up the local group here administrator's you should be able to",
    "start": "1799950",
    "end": "1808649"
  },
  {
    "text": "see that as a semi user - user in there in its members members so of course you can you can take this and put it into a",
    "start": "1808649",
    "end": "1814710"
  },
  {
    "text": "different group but the default behavior is it's gonna be there so this this is the end of the demo here so I'm gonna",
    "start": "1814710",
    "end": "1820649"
  },
  {
    "text": "switch back to my slide real quick so I",
    "start": "1820649",
    "end": "1826860"
  },
  {
    "text": "wanna go back here so if you the one more thing I want to point out you see that SSM endpoint that is an optional",
    "start": "1826860",
    "end": "1833669"
  },
  {
    "start": "1827000",
    "end": "1867000"
  },
  {
    "text": "endpoint meaning it is a private endpoint you can create within your VPC and basically SSM will talk through or",
    "start": "1833669",
    "end": "1840899"
  },
  {
    "text": "your VP see ec2 instances will talk through that conduit that you have established in your VP see back to the",
    "start": "1840899",
    "end": "1846480"
  },
  {
    "text": "SSM service that way none of your traffic that exits out of your ec2 windows instances get out in the public",
    "start": "1846480",
    "end": "1852179"
  },
  {
    "text": "it's actually in the it's still on Amazon backbone but it's only private backbone right so you can actually detach your igw and lock you all of your",
    "start": "1852179",
    "end": "1859559"
  },
  {
    "text": "instances very safely and very securely inside of a PC if you decide to use session manager cool so that brings up",
    "start": "1859559",
    "end": "1867990"
  },
  {
    "start": "1867000",
    "end": "2070000"
  },
  {
    "text": "to something called run command again it's an action or it's a capability it's",
    "start": "1867990",
    "end": "1873269"
  },
  {
    "text": "a feature of session manager right so run command actually has been around for",
    "start": "1873269",
    "end": "1878429"
  },
  {
    "text": "a while right so run command basically has two major talking points going for",
    "start": "1878429",
    "end": "1885779"
  },
  {
    "text": "it from a Windows security standpoint the first point is basically run the way",
    "start": "1885779",
    "end": "1892620"
  },
  {
    "text": "run command works actually lends itself to great security practice for running Windows instances the reason why I say",
    "start": "1892620",
    "end": "1899009"
  },
  {
    "text": "that is run command uses something called a document and that's what I call",
    "start": "1899009",
    "end": "1904320"
  },
  {
    "text": "it a curator document I call it a curator document because documents are written by you or you can",
    "start": "1904320",
    "end": "1910830"
  },
  {
    "text": "use a default document that is already published to you in your account by Amazon Web Services right so it uses",
    "start": "1910830",
    "end": "1916770"
  },
  {
    "text": "this document what is this document this document is it's just a bunch of commands right you can go put the",
    "start": "1916770",
    "end": "1922380"
  },
  {
    "text": "netstat command I put put it in you can take that command you can wrap it up into a document and that is the only way",
    "start": "1922380",
    "end": "1928320"
  },
  {
    "text": "this run command is going to execute what is this do because this is a curated list and because this is a",
    "start": "1928320",
    "end": "1933480"
  },
  {
    "text": "vetted list that you created and put it in your own account none of your systems engineers are ops engineers or whoever",
    "start": "1933480",
    "end": "1939630"
  },
  {
    "text": "that is managing these instances the the first of all they don't have access to your ec2 instances second of all when",
    "start": "1939630",
    "end": "1945840"
  },
  {
    "text": "they are trying to install something they have to go through this curated list of documents right so you control",
    "start": "1945840",
    "end": "1951210"
  },
  {
    "text": "what they get to do when they get to do on what instance this they get to do",
    "start": "1951210",
    "end": "1956520"
  },
  {
    "text": "right this is pretty powerful feature right and I don't want to get into the details of how many doc you how many",
    "start": "1956520",
    "end": "1962850"
  },
  {
    "text": "kinds of documents are there but just understand there is a document called command document that command document",
    "start": "1962850",
    "end": "1968520"
  },
  {
    "text": "gets to go with the run command and state machine state manager the second",
    "start": "1968520",
    "end": "1975390"
  },
  {
    "text": "point I said two major points the second point is out you know if you look at the right hand side of the screen",
    "start": "1975390",
    "end": "1981450"
  },
  {
    "text": "the output options so you means you you rolled up a bunch of commands into a bunch of documents and now you have sent",
    "start": "1981450",
    "end": "1988710"
  },
  {
    "text": "it out to execute against in with those instances what happens to the output right so you've got a number of choices",
    "start": "1988710",
    "end": "1995309"
  },
  {
    "text": "there so the first choice of course is you can look at it from A to B as counsel you won't get the full console",
    "start": "1995309",
    "end": "2000890"
  },
  {
    "text": "output but you will get a few lines and you will see if the command exterior or not that's one option right the second option of course you",
    "start": "2000890",
    "end": "2006470"
  },
  {
    "text": "can send it to s3 that's very powerful because now you know what commands you executed against these instances and",
    "start": "2006470",
    "end": "2011720"
  },
  {
    "text": "what really happened to those commands after it got executed in you in those instances that is saved for our purposes",
    "start": "2011720",
    "end": "2017780"
  },
  {
    "text": "and that is saved for historical records and compliance reasons right so that's perfect right the third option of course",
    "start": "2017780",
    "end": "2024380"
  },
  {
    "text": "you can add you know you can do this all together in one execution the third option is by using AWS simple",
    "start": "2024380",
    "end": "2032419"
  },
  {
    "text": "notification service or SMS you can actually get notified maybe you want to get notified if the commands really",
    "start": "2032419",
    "end": "2037790"
  },
  {
    "text": "completed or maybe the commands time or maybe the commands are in progress maybe you want to alert an ops team to",
    "start": "2037790",
    "end": "2043220"
  },
  {
    "text": "say that this particular installation is complete right so SNS endpoints and of",
    "start": "2043220",
    "end": "2048589"
  },
  {
    "text": "course the last point is you can send it into cloud watch as well so those are the top two points why run",
    "start": "2048589",
    "end": "2057378"
  },
  {
    "text": "command also lends itself to great security practice for Windows instances running on AWS cool so let's move to the",
    "start": "2057379",
    "end": "2070220"
  },
  {
    "start": "2070000",
    "end": "2247000"
  },
  {
    "text": "next slide so we spoke about session manager we spoke about run command of",
    "start": "2070220",
    "end": "2075349"
  },
  {
    "text": "course run commands been around for a while session manager is I believe 2 or 3 months old fairly new service or",
    "start": "2075349",
    "end": "2081500"
  },
  {
    "text": "fairly new feature of a service so when do you use run command reverses when do you use session manager you know right",
    "start": "2081500",
    "end": "2088849"
  },
  {
    "text": "tool for the right job session man the first rule of thumb is if you're trying to execute commands across a fleet of",
    "start": "2088849",
    "end": "2096500"
  },
  {
    "text": "Windows instances then your your tool of choice is run command I want to touch 50",
    "start": "2096500",
    "end": "2101690"
  },
  {
    "text": "instances I want to touch 100 instances I want to touch thousands of instances I want to run this particular whatever",
    "start": "2101690",
    "end": "2108589"
  },
  {
    "text": "command maybe I want to run a patch or I want to install an application like docker across 50 instances for this particular",
    "start": "2108589",
    "end": "2115099"
  },
  {
    "text": "application then go to run command when will you use session manager if you're trying to log into a box a Windows",
    "start": "2115099",
    "end": "2122089"
  },
  {
    "text": "instance and if you're trying to dive deep into troubleshooting something or maybe the CPU spiked and you want to see",
    "start": "2122089",
    "end": "2128660"
  },
  {
    "text": "why this process is chewing up so much CPU or so much memory you want to troubleshoot you want to do a deeper and",
    "start": "2128660",
    "end": "2134450"
  },
  {
    "text": "out analysis on a single instance you use session manager all right the second",
    "start": "2134450",
    "end": "2140660"
  },
  {
    "text": "point there on the right hand side again session manager of course gives you a full interactive mode color coded errors",
    "start": "2140660",
    "end": "2145730"
  },
  {
    "text": "you know you tab it you get you know you pick up service names and commandlets and etc on all of those things you don't",
    "start": "2145730",
    "end": "2152030"
  },
  {
    "text": "get to do that in run command and to the left hand side if you see there are two",
    "start": "2152030",
    "end": "2158210"
  },
  {
    "text": "things that work in favor for run command when you're comparing it against session session manager you can use",
    "start": "2158210",
    "end": "2165109"
  },
  {
    "text": "concurrency control and you can use error control what do you mean by concurrency control right so when you're",
    "start": "2165109",
    "end": "2170750"
  },
  {
    "text": "executing a command you can you can set a threshold for concurrency either an absolute number",
    "start": "2170750",
    "end": "2176450"
  },
  {
    "text": "let's say you're executing against ten instances you can say five at a time or you can say you know 50% right in either",
    "start": "2176450",
    "end": "2183440"
  },
  {
    "text": "case it'll basically go and choose five instances and the way it actually chooses those instances are actually",
    "start": "2183440",
    "end": "2188630"
  },
  {
    "text": "interesting interesting in the sense that it goes and executes this this particular command on one instance and",
    "start": "2188630",
    "end": "2194660"
  },
  {
    "text": "then increases is two and then goes exponentially for a ten until you hit that threshold concurrency threshold so",
    "start": "2194660",
    "end": "2201560"
  },
  {
    "text": "basically it's how fast do you want these commands to be executed so concurrency if you're in executing",
    "start": "2201560",
    "end": "2207890"
  },
  {
    "text": "against a large number of ec2 instances obviously you're gonna set a very high threshold error control very similar",
    "start": "2207890",
    "end": "2214310"
  },
  {
    "text": "you're going to use error control to say when do you want to stop executing these commands because of errors right so if",
    "start": "2214310",
    "end": "2222470"
  },
  {
    "text": "you set your error control to zero the very first time it encounters an error it stops executing your commands that's",
    "start": "2222470",
    "end": "2229430"
  },
  {
    "text": "it right and same thing you can use absolute numbers and you can use a percentage of the ec2 instances that",
    "start": "2229430",
    "end": "2236000"
  },
  {
    "text": "you're trying to touch so those are the few basic differences between the two",
    "start": "2236000",
    "end": "2242510"
  },
  {
    "text": "and when to use session versus run command all right now we get to talk",
    "start": "2242510",
    "end": "2249140"
  },
  {
    "start": "2247000",
    "end": "2502000"
  },
  {
    "text": "about the very exciting topic of patch management if if there are systems",
    "start": "2249140",
    "end": "2255410"
  },
  {
    "text": "engineers or patch engineers in the room everyone will tell you it is not a glamorous task it is a very mundane task",
    "start": "2255410",
    "end": "2264290"
  },
  {
    "text": "but that has to happen like clockwork routinely right failing to do so you",
    "start": "2264290",
    "end": "2269660"
  },
  {
    "text": "will sooner or later have overarching security implications that's how important patch manager is right or",
    "start": "2269660",
    "end": "2276020"
  },
  {
    "text": "that's how important patching is so in this in this in this slide I really want",
    "start": "2276020",
    "end": "2281840"
  },
  {
    "text": "to introduce something called a patch manager another action or another capability of Systems Manager that you",
    "start": "2281840",
    "end": "2289340"
  },
  {
    "text": "can potentially use to push Windows operating system related security",
    "start": "2289340",
    "end": "2295010"
  },
  {
    "text": "patches and updates it's a really super easy tool to use and it's fairly",
    "start": "2295010",
    "end": "2300890"
  },
  {
    "text": "effective when you use patch manager the reason why I say that is if you have already started using Systems",
    "start": "2300890",
    "end": "2306420"
  },
  {
    "text": "Manager you've already met most of the prereqs you only have three things to set up to start using path manager here",
    "start": "2306420",
    "end": "2312990"
  },
  {
    "text": "the first thing of course is a path manager supported operating system the good news here is patch manager supports",
    "start": "2312990",
    "end": "2318960"
  },
  {
    "text": "Windows 2003 all the way up to Windows 2016 are two versions included right so",
    "start": "2318960",
    "end": "2324180"
  },
  {
    "text": "all of your Windows operating system versions are covered the second thing you need is something called a",
    "start": "2324180",
    "end": "2329220"
  },
  {
    "text": "maintenance window because when you're applying patches sometimes it reboots sometimes CPUs get locked up so you need",
    "start": "2329220",
    "end": "2334920"
  },
  {
    "text": "a maintenance window how do you actually create a maintenance window maybe you've guessed it already you use a service or",
    "start": "2334920",
    "end": "2340859"
  },
  {
    "text": "a feature called maintenance windows right so you would basically go to maintenance windows setup a maintenance",
    "start": "2340859",
    "end": "2346560"
  },
  {
    "text": "window and you basically pick the right operating system and the third thing you need is actually a patch baseline and a",
    "start": "2346560",
    "end": "2353220"
  },
  {
    "text": "patch group patch baseline is basically all the patches you want to install or all the patches you want to reject so",
    "start": "2353220",
    "end": "2360329"
  },
  {
    "text": "you can do that based off of KB articles or you can go and pick all critical important whatever you want to do or you",
    "start": "2360329",
    "end": "2366839"
  },
  {
    "text": "can even do that based off of Microsoft Security Bulletin IDs as well right so",
    "start": "2366839",
    "end": "2372630"
  },
  {
    "text": "you can use that and you put all of this together you need a patch group which is a group of ec2 instances that you want",
    "start": "2372630",
    "end": "2378599"
  },
  {
    "text": "to push these patches to right so those are the three things you need patch manager here uses Microsoft's WCS scan",
    "start": "2378599",
    "end": "2386280"
  },
  {
    "text": "to dot cabinet files so if you go look at it it says WCS Sen to that cab which",
    "start": "2386280",
    "end": "2391770"
  },
  {
    "text": "is a cabinet file and that cabinet file is maintained in every single AWS region",
    "start": "2391770",
    "end": "2397170"
  },
  {
    "text": "independently of each other and they refreshed it at least once again independently of the regions that they",
    "start": "2397170",
    "end": "2403770"
  },
  {
    "text": "are in so that's what it uses to pull up all of your security patches and then you can push it into your windows",
    "start": "2403770",
    "end": "2409800"
  },
  {
    "text": "instances and I added state manager and",
    "start": "2409800",
    "end": "2415800"
  },
  {
    "text": "I've added run command the reason why I added that was state manager you could set up a policy document called policy",
    "start": "2415800",
    "end": "2422849"
  },
  {
    "text": "document what it basically does is it will basically enforce a certain policy for example if you want to let's say if",
    "start": "2422849",
    "end": "2429810"
  },
  {
    "text": "you want to take a software inventory of all the software applications installed in your windows",
    "start": "2429810",
    "end": "2435000"
  },
  {
    "text": "in stickler windows instance you would probably go to H key local machine software and you would basically look at",
    "start": "2435000",
    "end": "2441960"
  },
  {
    "text": "what's there right so the state machine actually has a policy that relax me go monitor all of this and tell you what",
    "start": "2441960",
    "end": "2447420"
  },
  {
    "text": "software is actually installed and maybe you want to patch that of course you can send it to run command and you can you",
    "start": "2447420",
    "end": "2452700"
  },
  {
    "text": "can basically keep that cycle you know going for you when you're trying to management those instances and about a",
    "start": "2452700",
    "end": "2460080"
  },
  {
    "text": "week old or maybe ten days old state managers natively integrates with PowerShell DSC what that really means is",
    "start": "2460080",
    "end": "2465930"
  },
  {
    "text": "power shall be AC has 800 community driven community contributed PowerShell",
    "start": "2465930",
    "end": "2471720"
  },
  {
    "text": "DAC scripts in there you can dip into any of those 800 scripts and you can pull it into state manager and have that",
    "start": "2471720",
    "end": "2478470"
  },
  {
    "text": "do something for you so you don't have to you don't have to start from scratch or write anything there's lots of stuff",
    "start": "2478470",
    "end": "2484110"
  },
  {
    "text": "available to you already cool so I don't",
    "start": "2484110",
    "end": "2495210"
  },
  {
    "text": "really have a Systems Manager demo but I can show you a Systems Manager demo",
    "start": "2495210",
    "end": "2500330"
  },
  {
    "text": "let's let's quickly show a Systems Manager demo here I'll swap to the screen so we are basically looking at",
    "start": "2500330",
    "end": "2508910"
  },
  {
    "start": "2502000",
    "end": "2572000"
  },
  {
    "text": "you know multiple these are these seven actions I was talking about right we spoke about run session and patch",
    "start": "2508910",
    "end": "2515190"
  },
  {
    "text": "manager of course briefly touched on maintenance windows and state manager well here's the documents I was talking",
    "start": "2515190",
    "end": "2521460"
  },
  {
    "text": "about you go into these documents section and you see a bunch of documents that are actually over 90 documents in",
    "start": "2521460",
    "end": "2527400"
  },
  {
    "text": "there so you don't have to go create any of these documents and these documents are specifically written in Yammer and Yammer or JSON right but if you go look",
    "start": "2527400",
    "end": "2536160"
  },
  {
    "text": "at it there's a different kinds of documents in there so if you go do command document types you'll actually see command and automation and policy",
    "start": "2536160",
    "end": "2542970"
  },
  {
    "text": "command goes with run command and state manager policy goes with state manager automation goes with automation manager",
    "start": "2542970",
    "end": "2549870"
  },
  {
    "text": "but if you see there is no distributor policy that's actually coming so eventually you'll see a distributor",
    "start": "2549870",
    "end": "2554910"
  },
  {
    "text": "policy in there as well that will let you you know use distributor action from State Systems Manager with that set",
    "start": "2554910",
    "end": "2562230"
  },
  {
    "text": "we'll dive into our next slides that was my quick demo of",
    "start": "2562230",
    "end": "2567530"
  },
  {
    "text": "manager I don't know yet oh yeah I don't think they updated the slides all right",
    "start": "2567530",
    "end": "2573140"
  },
  {
    "start": "2572000",
    "end": "2770000"
  },
  {
    "text": "cool so vulnerability management so now you've got sessions sessions manager",
    "start": "2573140",
    "end": "2578570"
  },
  {
    "text": "going for you you have completely lock your windows instances down you're using sessions manager to log into it or",
    "start": "2578570",
    "end": "2583580"
  },
  {
    "text": "you're using it to do whatever you want to do with your windows instances you have run command to touch multiple ec2",
    "start": "2583580",
    "end": "2589130"
  },
  {
    "text": "instances you've got past manager going for you into this windows ecosystem where you're actually patching it and",
    "start": "2589130",
    "end": "2595190"
  },
  {
    "text": "you're doing software inventory control and all of that good stuff right now most typical enterprise applications",
    "start": "2595190",
    "end": "2601310"
  },
  {
    "text": "that run on Windows environment have multiple third parties or multiple KB's multiple patches multiple services that",
    "start": "2601310",
    "end": "2608900"
  },
  {
    "text": "make up that operating system you know you know are inside of that enterprise application and what ends up happening",
    "start": "2608900",
    "end": "2616130"
  },
  {
    "text": "when you run a application for three years or two years or five years or ten years lots of vulnerabilities publicly",
    "start": "2616130",
    "end": "2623150"
  },
  {
    "text": "known vulnerabilities that got introduced kind of creep into these enterprise applications they are in",
    "start": "2623150",
    "end": "2628760"
  },
  {
    "text": "there but the enterprise applications people running them are blissfully unaware or maybe they it's hard too hard",
    "start": "2628760",
    "end": "2634670"
  },
  {
    "text": "for them to deal with it so they can really deal with it in a very efficient fashion and this is where Amazon inspector comes into play right",
    "start": "2634670",
    "end": "2641170"
  },
  {
    "text": "Amazon inspector is an agent driven assessment rule packages is a bunch of",
    "start": "2641170",
    "end": "2648050"
  },
  {
    "text": "assessment that you do across all of your Windows environment to see where you stand in terms of industry standard",
    "start": "2648050",
    "end": "2655610"
  },
  {
    "text": "benchmarks or industry publicly known vulnerabilities that have been advertised for that have been recorded",
    "start": "2655610",
    "end": "2662180"
  },
  {
    "text": "and put up in you know common vulnerabilities and exposures CVE that is run by might or org or do you want to",
    "start": "2662180",
    "end": "2669110"
  },
  {
    "text": "do center for internet securities benchmark where do I stand from this benchmark what is my standard deviation",
    "start": "2669110",
    "end": "2674600"
  },
  {
    "text": "of this Windows environment when I compare it to the CIS benchmark that's what Amazon inspector really tries to do",
    "start": "2674600",
    "end": "2680930"
  },
  {
    "text": "so there are five total packages or five total assessment rules packages that are",
    "start": "2680930",
    "end": "2687230"
  },
  {
    "text": "inside of Amazon inspector SS service out of those five four of those packages are applicable to Windows right there's",
    "start": "2687230",
    "end": "2693890"
  },
  {
    "text": "one package that is not applicable to Windows operating system before of them are applicable to Windows operating system out of those four three",
    "start": "2693890",
    "end": "2701390"
  },
  {
    "text": "those are agent driven meaning you need an Amazon inspector agent to be installed on your windows incident and",
    "start": "2701390",
    "end": "2707000"
  },
  {
    "text": "of course you know how to do that now you would go do a run command and there is already a command that goes in",
    "start": "2707000",
    "end": "2712010"
  },
  {
    "text": "installs Amazon inspector on multiple ec2 instances right so that's how you would do that but the important point",
    "start": "2712010",
    "end": "2718640"
  },
  {
    "text": "the diagram at the bottom of the slide there the important point I want to really drive here is Amazon inspector",
    "start": "2718640",
    "end": "2724310"
  },
  {
    "text": "allows you to get this vulnerability management into your development and deployment lifecycle what does that mean",
    "start": "2724310",
    "end": "2731240"
  },
  {
    "text": "usually you you you stood up a Windows environment you put it into production now you're worried about you know",
    "start": "2731240",
    "end": "2737690"
  },
  {
    "text": "vulnerability management because it's a really an afterthought but Amazon inspector lets you actually go hard on",
    "start": "2737690",
    "end": "2743360"
  },
  {
    "text": "your a.m. eyes when they are created supplied or give those ham eyes to your developers and their entire development",
    "start": "2743360",
    "end": "2750620"
  },
  {
    "text": "or entire development happens on hardened ami so it actually gets built into your development lifecycle it's a",
    "start": "2750620",
    "end": "2756590"
  },
  {
    "text": "one-time effort you create that golden ami you put Amazon inspector into that equation outcomes fantastic you know",
    "start": "2756590",
    "end": "2764450"
  },
  {
    "text": "a.m. eyes that are hardened from an Amazon inspector perspective so I spoke",
    "start": "2764450",
    "end": "2771140"
  },
  {
    "start": "2770000",
    "end": "2885000"
  },
  {
    "text": "about four packages I mentioned three of those one is the CVE common vulnerability n exposures one is this",
    "start": "2771140",
    "end": "2777410"
  },
  {
    "text": "Center for Internet Security benchmark and the third one is runtime behavior analysis insecure ports like telnet or",
    "start": "2777410",
    "end": "2783980"
  },
  {
    "text": "maybe you have three three eight nine open to the world all of those things will be bubbled up when you run those assessment the fourth one is the newest",
    "start": "2783980",
    "end": "2790940"
  },
  {
    "text": "one and this fourth one is actually agentless you don't need any agent to run on your windows instances to gather",
    "start": "2790940",
    "end": "2796640"
  },
  {
    "text": "insights but this is not about hardening your a.m. eyes this is about hardening",
    "start": "2796640",
    "end": "2801890"
  },
  {
    "text": "your network security right so this what it does is it runs across your network and then based on automated reasoning",
    "start": "2801890",
    "end": "2809090"
  },
  {
    "text": "what that really means is if there was an instance and had a publicly routable IP attached to that instance what it",
    "start": "2809090",
    "end": "2815360"
  },
  {
    "text": "will do is it will analyze every single fact surrounding that particular instance does it have a security group",
    "start": "2815360",
    "end": "2820550"
  },
  {
    "text": "rule that is permissive enough to run traffic into this IP does it have a natural that is permissive they said I",
    "start": "2820550",
    "end": "2826670"
  },
  {
    "text": "have an IG W this is the routing proper and then makes a decision based on all of those data points it's actually",
    "start": "2826670",
    "end": "2832430"
  },
  {
    "text": "that's it sees in your network makes a recommendation saying hey this particular instance has four three three",
    "start": "2832430",
    "end": "2838900"
  },
  {
    "text": "eight nine open has a public IP and has an Internet gateway and routing works so",
    "start": "2838900",
    "end": "2844060"
  },
  {
    "text": "this in this particular instance will actually be available on the internet right based on that finding you go do",
    "start": "2844060",
    "end": "2849820"
  },
  {
    "text": "something about it think about it right you put you you design this VPC you put a bunch of windows instances one week",
    "start": "2849820",
    "end": "2856720"
  },
  {
    "text": "ago and then someone released something in there now that environment is completely changed or three months later",
    "start": "2856720",
    "end": "2861880"
  },
  {
    "text": "six months later when you run this assessment you actually go make sure the configuration drift for your network",
    "start": "2861880",
    "end": "2867970"
  },
  {
    "text": "configuration in terms of security has not happened and if it has happened you catch it does that make sense cool and",
    "start": "2867970",
    "end": "2876730"
  },
  {
    "text": "this is agentless and this is I think it was released about I want to say 20 days ago cool so",
    "start": "2876730",
    "end": "2887340"
  },
  {
    "start": "2885000",
    "end": "3068000"
  },
  {
    "text": "we just left the infrastructure security section of our talk again if you see up",
    "start": "2887340",
    "end": "2893920"
  },
  {
    "text": "top right hand corner you will see we are now in the detective controls section of the talk right so detective",
    "start": "2893920",
    "end": "2901390"
  },
  {
    "text": "controls is necessary because of the reason in reality every every systems",
    "start": "2901390",
    "end": "2908770"
  },
  {
    "text": "engineer every security engineer always wants wants to prevent from something",
    "start": "2908770",
    "end": "2914230"
  },
  {
    "text": "happening before it becomes a security incident or a security event for them but ideally you know in real world it",
    "start": "2914230",
    "end": "2921369"
  },
  {
    "text": "doesn't happen right so things happen but when they happen your at least want to be notified that something happens so",
    "start": "2921369",
    "end": "2927700"
  },
  {
    "text": "you can actually go do some action to prevent or mitigate against that particular security incident that just",
    "start": "2927700",
    "end": "2933400"
  },
  {
    "text": "happened right and this is where detective controls really come into play and you know I put up cloud watch there",
    "start": "2933400",
    "end": "2939280"
  },
  {
    "text": "because cloud watch is the native AWS service for gathering logs and",
    "start": "2939280",
    "end": "2944290"
  },
  {
    "text": "monitoring right and cloud watch integrates with all kinds of Windows logs you can have is law sequel logs",
    "start": "2944290",
    "end": "2950800"
  },
  {
    "text": "perfmon logs windows event logs VPC flow logs because you're running on a beam of",
    "start": "2950800",
    "end": "2957070"
  },
  {
    "text": "a PC in AWS all of these logs can be pushed into cloud watch right once you",
    "start": "2957070",
    "end": "2962590"
  },
  {
    "text": "receive all of those logs in cloud watch you've got a bunch of tracks you can take what do I really want to do with",
    "start": "2962590",
    "end": "2967990"
  },
  {
    "text": "the with these logs now right I've got CPU logs I thought you know sequel is spiking whatever logs right so the top",
    "start": "2967990",
    "end": "2975130"
  },
  {
    "text": "three tracks right there are four tracks really but I'm going to talk about three important tracks here the top one of course send it to s3 write it to Glee",
    "start": "2975130",
    "end": "2982359"
  },
  {
    "text": "you know glacier after a while if god audit compliance historical records all of those covered legal everything",
    "start": "2982359",
    "end": "2988630"
  },
  {
    "text": "discovered if you come to the middle you've got auto scaling and oftentimes auto scaling is thought of to be an",
    "start": "2988630",
    "end": "2996310"
  },
  {
    "text": "availability and performance combination to scale up and catch your traffic it is",
    "start": "2996310",
    "end": "3001650"
  },
  {
    "text": "true but auto scaling is never thought of as your first line of defense when",
    "start": "3001650",
    "end": "3006690"
  },
  {
    "text": "you're being ddosed right that's what you want to you that's what you want to do you want to scale out and you want to",
    "start": "3006690",
    "end": "3011820"
  },
  {
    "text": "be able to catch you're not fixing any vulnerabilities there the whoever is DDoS in you is going up and that vulnerability but at least you're",
    "start": "3011820",
    "end": "3018390"
  },
  {
    "text": "scaling out and catching that it gets your security engineers the valuable 10",
    "start": "3018390",
    "end": "3023430"
  },
  {
    "text": "minutes or 15 minutes when they're when you're under volumetric attacks which are up to almost 39 or 40 minutes now",
    "start": "3023430",
    "end": "3030090"
  },
  {
    "text": "right so you have to be able to withstand that 40 minutes and how do you do that you're getting blocks and you're",
    "start": "3030090",
    "end": "3035130"
  },
  {
    "text": "doing something about it in auto scaling using cloud watch logs right and the",
    "start": "3035130",
    "end": "3040290"
  },
  {
    "text": "third option here I'm gonna I'm gonna pause for a second here and talk about",
    "start": "3040290",
    "end": "3046290"
  },
  {
    "text": "it maybe in very brief terms because we've got couple slides towards the end of this deck where we talk about config",
    "start": "3046290",
    "end": "3052650"
  },
  {
    "text": "config rules and lambda but basically it is you know you can take those logs and",
    "start": "3052650",
    "end": "3057690"
  },
  {
    "text": "you can do something actionable in an automated fashion that's what configurable does we'll talk",
    "start": "3057690",
    "end": "3062790"
  },
  {
    "text": "about it in detail and about in about five minutes or so I want to talk about",
    "start": "3062790",
    "end": "3069840"
  },
  {
    "start": "3068000",
    "end": "3117000"
  },
  {
    "text": "another service that sits squarely in the detective control space relatively",
    "start": "3069840",
    "end": "3074970"
  },
  {
    "text": "new service but been around for almost a year if I'm if I remember correctly it's called Amazon bar duty think of this as",
    "start": "3074970",
    "end": "3081690"
  },
  {
    "text": "a threat intelligence based intrusion detection service right so this is",
    "start": "3081690",
    "end": "3087630"
  },
  {
    "text": "basically not enabled on your Windows ec2 instances this is enabled at your",
    "start": "3087630",
    "end": "3092970"
  },
  {
    "text": "AWS account level right and you can enable it across multiple accounts and you can get insights delivered to this",
    "start": "3092970",
    "end": "3098970"
  },
  {
    "text": "particular Amazon our duty console absolutely no agents to install no devices to setup no port",
    "start": "3098970",
    "end": "3107000"
  },
  {
    "text": "monitors none of that stuff you just go do a few clicks and then you're basically up and running and Amazon",
    "start": "3107000",
    "end": "3112700"
  },
  {
    "text": "guard duty starts working for you gathering all those insights from within your account so how does it really",
    "start": "3112700",
    "end": "3118369"
  },
  {
    "start": "3117000",
    "end": "3182000"
  },
  {
    "text": "gather those insights what does it really look at and what does it really do right so it looks at three major logs",
    "start": "3118369",
    "end": "3124609"
  },
  {
    "text": "or it looks at three major logs from your account so the first one is vbc",
    "start": "3124609",
    "end": "3129680"
  },
  {
    "text": "logs flow logs it looks at it even if you haven't enabled vbc flow logs it'll automatically pick up those from under",
    "start": "3129680",
    "end": "3135410"
  },
  {
    "text": "the covers and it'll analyze that second one is the cloud watch trail event cloud cloud trail events log and it'll look at",
    "start": "3135410",
    "end": "3142609"
  },
  {
    "text": "that and of course the DNS locks that are all generated from within your AWS account it looks at all of these logs",
    "start": "3142609",
    "end": "3149330"
  },
  {
    "text": "and it compares it to the threat intelligence that a dubious security has",
    "start": "3149330",
    "end": "3154609"
  },
  {
    "text": "built upon running multiple regions across across the globe so basically if there is a malicious IP actor out there",
    "start": "3154609",
    "end": "3162140"
  },
  {
    "text": "and Romania doing something or somewhere in the globe they know that particular IP address is up to no good and they can",
    "start": "3162140",
    "end": "3168650"
  },
  {
    "text": "use that and see oh I'm seeing the same IP here being spoofed and used here so maybe that is that intelligent where",
    "start": "3168650",
    "end": "3175220"
  },
  {
    "text": "reasoning is done by Amazon guard duty and it basically bubbles it up for you right so if you look at it here it",
    "start": "3175220",
    "end": "3185510"
  },
  {
    "start": "3182000",
    "end": "3212000"
  },
  {
    "text": "basically caught a port three three eight nine open to the world and in Windows instance and someone from Latvia",
    "start": "3185510",
    "end": "3190910"
  },
  {
    "text": "was trying to do a brute force attack on it right that's what it does and basically does okay it basically says oh",
    "start": "3190910",
    "end": "3196520"
  },
  {
    "text": "yes someone's trying to attack you you may want to do something about it right it is Intel intrusion detection service",
    "start": "3196520",
    "end": "3203510"
  },
  {
    "text": "it doesn't do anything for you doesn't prevent you but it basically detects it for you so that you can go do something",
    "start": "3203510",
    "end": "3208609"
  },
  {
    "text": "about it cool so that's Amazon guard duty and this happened right someone",
    "start": "3208609",
    "end": "3215150"
  },
  {
    "start": "3212000",
    "end": "3241000"
  },
  {
    "text": "open it up it may not be three three eight nine it could be 14 33 it could be three three or six it could be 25",
    "start": "3215150",
    "end": "3220970"
  },
  {
    "text": "it could be 22 it could be anything this happens a lot right you're you're trying",
    "start": "3220970",
    "end": "3226040"
  },
  {
    "text": "to go 500 miles an hour you're trying to set up something because you have to meet deadlines and you can't connect to it so you just open it up to the world",
    "start": "3226040",
    "end": "3232130"
  },
  {
    "text": "so can quickly connect to it or do something or you and in a different inadvertently do it or you maliciously do with two within a company right so",
    "start": "3232130",
    "end": "3239910"
  },
  {
    "text": "what do you do when this happens you can do if you're running on AWS you can do",
    "start": "3239910",
    "end": "3244920"
  },
  {
    "start": "3241000",
    "end": "3282000"
  },
  {
    "text": "two things right you can either say oh this happened I'm gonna send an email using config rule I'm gonna wake an ops",
    "start": "3244920",
    "end": "3251220"
  },
  {
    "text": "guy and the offs guy is gonna go deal with it right he's not gonna like you but that's what you know that you know",
    "start": "3251220",
    "end": "3257250"
  },
  {
    "text": "you can do that happens or you could what you could do is you can actually go",
    "start": "3257250",
    "end": "3262710"
  },
  {
    "text": "write a PowerShell script in lambda so that is new right you couldn't write",
    "start": "3262710",
    "end": "3267810"
  },
  {
    "text": "PowerShell before you can now take your regular powershell that you use every day go put a script and go publish it",
    "start": "3267810",
    "end": "3274950"
  },
  {
    "text": "with lambda and go do something about that maybe you know that security incident that just happened so lambda is",
    "start": "3274950",
    "end": "3281280"
  },
  {
    "text": "the answer for this write lambda already has integration with config rules when I",
    "start": "3281280",
    "end": "3286530"
  },
  {
    "start": "3282000",
    "end": "3366000"
  },
  {
    "text": "wrote this slide there are about 60 rules built in but now there are about 80 so it's already out today right there",
    "start": "3286530",
    "end": "3293880"
  },
  {
    "text": "are 80 rules so you don't have to write anything new but if you want to start something new and PowerShell you can go definitely do that right go write this",
    "start": "3293880",
    "end": "3301040"
  },
  {
    "text": "lambda function to either go delete that security group rule or maybe you want to",
    "start": "3301040",
    "end": "3306690"
  },
  {
    "text": "use that lambda function to go do something in layer 7 right I'm seeing this IP hitting me you know maybe",
    "start": "3306690",
    "end": "3314250"
  },
  {
    "text": "something like a rape control right it's hitting me like no human can hit hit at layer 7 like you cannot hit a certain",
    "start": "3314250",
    "end": "3321060"
  },
  {
    "text": "endpoint in a certain speed if you're a human only robots can do that right so if you see I piece like that you can",
    "start": "3321060",
    "end": "3326910"
  },
  {
    "text": "automatically take that IP and basically block that IP at layer 7 right so graph",
    "start": "3326910",
    "end": "3333060"
  },
  {
    "text": "can do that lambda helps to do that right so that's one of the things and the that example screenshot over there",
    "start": "3333060",
    "end": "3340740"
  },
  {
    "text": "is actually from the AWS console you can see that there is already a script written I'm not sure where maybe in",
    "start": "3340740",
    "end": "3347940"
  },
  {
    "text": "node.js I'm not sure what it's written in but basically you can do that it doesn't really ten ething but it basically says these are the quotes if",
    "start": "3347940",
    "end": "3353670"
  },
  {
    "text": "they come up if you go open these ports up to 0 dot 0 dot 0 slash 0 to the",
    "start": "3353670",
    "end": "3358800"
  },
  {
    "text": "public internet it'll basically tell you that hey these ports are open go do something right",
    "start": "3358800",
    "end": "3363930"
  },
  {
    "text": "to show this I've got a lambda PowerShell demo that I'm gonna do I'm",
    "start": "3363930",
    "end": "3370590"
  },
  {
    "start": "3366000",
    "end": "3390000"
  },
  {
    "text": "gonna try and talk and do this demo so we are not running out of time here and",
    "start": "3370590",
    "end": "3376260"
  },
  {
    "text": "I'm keeping you away from beer and popcorn Pub Crawl right you're just minutes away okay all",
    "start": "3376260",
    "end": "3384930"
  },
  {
    "text": "right cool so so I walk everything's set up but let me show you the code that I",
    "start": "3384930",
    "end": "3390120"
  },
  {
    "start": "3390000",
    "end": "3600000"
  },
  {
    "text": "have that's it as simple as that that's the power of PowerShell it's very",
    "start": "3390120",
    "end": "3395400"
  },
  {
    "text": "simple you can actually write this in like four lines but you know I wanted to make it look pretty so I've put a bunch",
    "start": "3395400",
    "end": "3400440"
  },
  {
    "text": "of comments and stuff but what I'm really doing there is I've got a bunch of ports taking it in a list it's",
    "start": "3400440",
    "end": "3406980"
  },
  {
    "text": "basically you can add how many other ports you want and whatever ports you want I didn't put three three eight nine",
    "start": "3406980",
    "end": "3411990"
  },
  {
    "text": "but you can put three three eight nine you can put whatever ports in there and I've defined a range it's basically the public internet and I've defined a",
    "start": "3411990",
    "end": "3418410"
  },
  {
    "text": "protocol if it's TCP and anytime I see any of those ports open to that range in",
    "start": "3418410",
    "end": "3423720"
  },
  {
    "text": "that protocol I want to delete it that's all I want to do right so I'm gonna take this the name of the function is multi",
    "start": "3423720",
    "end": "3430200"
  },
  {
    "text": "port delete that's what I called it I'm gonna take this and I'm gonna run it in PowerShell and publish it to lambda so",
    "start": "3430200",
    "end": "3436620"
  },
  {
    "text": "what I'm gonna do is you want to start your power sale all right so this is",
    "start": "3436620",
    "end": "3442050"
  },
  {
    "text": "PowerShell core by the way this is not power so your regular power so so this is PS core which means which is where",
    "start": "3442050",
    "end": "3448080"
  },
  {
    "text": "Microsoft is trying to take their power sell product to write so this works across all platforms if you're a Mac",
    "start": "3448080",
    "end": "3453720"
  },
  {
    "text": "user you can run it Linux you can run in Windows of course you can run it right so the only difference you will see between PowerShell and PowerShell chorus",
    "start": "3453720",
    "end": "3461130"
  },
  {
    "text": "when when this when the console opens up you will see this being run as PWS H",
    "start": "3461130",
    "end": "3468500"
  },
  {
    "text": "versus Power Cell dot exe right that's the difference p WS p WS H is basically",
    "start": "3468500",
    "end": "3474510"
  },
  {
    "text": "PS core PowerShell is PowerShell dot exe cool so one thing you have to do is you",
    "start": "3474510",
    "end": "3480060"
  },
  {
    "text": "have to install the lambda module once you have installed the lambda module you have to actually import that lambda",
    "start": "3480060",
    "end": "3485100"
  },
  {
    "text": "module so that's what I'm gonna do import a u.s. lambda PS core module I'm",
    "start": "3485100",
    "end": "3491550"
  },
  {
    "text": "gonna hit that and once it's done it's fairly simple from that point you're gonna do a publish",
    "start": "3491550",
    "end": "3497750"
  },
  {
    "text": "aw s lambda parasail lambda and then you're going to give it the script path right where your",
    "start": "3497770",
    "end": "3505670"
  },
  {
    "text": "script really lives my script lives in users my username and under a folder",
    "start": "3505670",
    "end": "3512270"
  },
  {
    "text": "called lambda scripts and I call it multi-port delete dot ps1 it's a power",
    "start": "3512270",
    "end": "3519500"
  },
  {
    "text": "so and the next thing you want to do is you want to give the name of the lambda function this is the name of the lambda",
    "start": "3519500",
    "end": "3524930"
  },
  {
    "text": "function so I'm gonna call it reinvent live demo and then I'm gonna specify a",
    "start": "3524930",
    "end": "3531650"
  },
  {
    "text": "region I'm gonna choose u.s. West two because we are geographically and DNS",
    "start": "3531650",
    "end": "3537680"
  },
  {
    "text": "because of DNS proximity which is Oregon Portland Oregon I'm gonna choose that and that's the reason I'm defining and",
    "start": "3537680",
    "end": "3543650"
  },
  {
    "text": "I'm gonna hit enter and then you're basically gonna start doing its thing and start publishing it it's gonna stop for a for a couple seconds here in about",
    "start": "3543650",
    "end": "3551090"
  },
  {
    "text": "20 seconds because I didn't specify a role so it's gonna want to know what role do you want me to use but while",
    "start": "3551090",
    "end": "3556790"
  },
  {
    "text": "that's going I want to get back into my console and I want to set up something I want to go to my first I want to go to",
    "start": "3556790",
    "end": "3563710"
  },
  {
    "text": "the Oregon region which is us West two and what I'm gonna do is I'm gonna go to",
    "start": "3563710",
    "end": "3569180"
  },
  {
    "text": "V PC and I'm gonna set up a dummy security group that you can basically see this lambda function in action right",
    "start": "3569180",
    "end": "3576470"
  },
  {
    "text": "so go to security group and I'm gonna create a new security group and then I'm gonna put reinvent demo from stage right",
    "start": "3576470",
    "end": "3590110"
  },
  {
    "text": "hope this works all right got 20 seconds 20 seconds here",
    "start": "3591730",
    "end": "3597920"
  },
  {
    "text": "right and I'm gonna put it in a random V PC I've got a builder session so I'm gonna put it in the random EPC that got",
    "start": "3597920",
    "end": "3603350"
  },
  {
    "text": "created and now I'm gonna look for that particular easy to sorry particular",
    "start": "3603350",
    "end": "3609440"
  },
  {
    "text": "security group here it is the description says hope it works so we know it is correct so now I'm gonna go",
    "start": "3609440",
    "end": "3615590"
  },
  {
    "text": "to add a rule right let's if you guys remember I had pool 25 and then I'm gonna do a 0-0 I'm gonna copy this oops",
    "start": "3615590",
    "end": "3627910"
  },
  {
    "text": "there you go right",
    "start": "3629040",
    "end": "3635010"
  },
  {
    "text": "okay I'm fat fingering - way too much now okay alright let's go add one two",
    "start": "3637130",
    "end": "3643200"
  },
  {
    "text": "three four rules good enough I think we had three 3:06 we had 1433 and think we",
    "start": "3643200",
    "end": "3652560"
  },
  {
    "text": "had 135 we had 1521 Oracle right I'm gonna put this in and then I'm gonna",
    "start": "3652560",
    "end": "3661170"
  },
  {
    "text": "save this and I'm gonna come back to it right now let's go look at the lambda function what happened there right so",
    "start": "3661170",
    "end": "3666590"
  },
  {
    "text": "looks like it already took it because maybe I ran it before yep it took it so",
    "start": "3666590",
    "end": "3676350"
  },
  {
    "text": "let's go look at the lambda function in uswest",
    "start": "3676350",
    "end": "3682530"
  },
  {
    "text": "- and sorry I should I opened it up in a",
    "start": "3682530",
    "end": "3689310"
  },
  {
    "text": "new tab but I forgot so just to show you I'm gonna go back to the security group here that we created just to show you",
    "start": "3689310",
    "end": "3697290"
  },
  {
    "text": "all of those rules that we created",
    "start": "3697290",
    "end": "3700910"
  },
  {
    "text": "so these are the rules they are in there right all of them in there now come to lambda and then just doing a quick",
    "start": "3705260",
    "end": "3713330"
  },
  {
    "text": "refresh there is a live demo it was published about two minutes ago so you know it's fresh so you click on it and",
    "start": "3713330",
    "end": "3718910"
  },
  {
    "text": "basically you can go test right when you go test the for the first time it's gonna ask for input right you can just",
    "start": "3718910",
    "end": "3725450"
  },
  {
    "text": "there's no input in this lambda function you can just go leave it default the JSON file click create save it as no",
    "start": "3725450",
    "end": "3731270"
  },
  {
    "text": "input and it's saved there forever so you can just keep using the no input go ahead and click test and it's gonna take",
    "start": "3731270",
    "end": "3737540"
  },
  {
    "text": "a little bit of time you know what cold start and of course firecracker is out now but it's gonna take maybe about a",
    "start": "3737540",
    "end": "3742820"
  },
  {
    "text": "few seconds here to execute that lamda command and lambda function and then",
    "start": "3742820",
    "end": "3748070"
  },
  {
    "text": "it's gonna go look across all of the AWS all of this uswest region to see if if",
    "start": "3748070",
    "end": "3754130"
  },
  {
    "text": "it found anything so it looks like it executed correctly and it says it found four TCP ports open and it deleted for",
    "start": "3754130",
    "end": "3761270"
  },
  {
    "text": "TCP ports in that particular and it deleted in this hope this works security",
    "start": "3761270",
    "end": "3766970"
  },
  {
    "text": "group now if you go back there it's still there what if you hit refresh it",
    "start": "3766970",
    "end": "3772160"
  },
  {
    "text": "should disappear right so that's a pretty simple lambda function that you",
    "start": "3772160",
    "end": "3777830"
  },
  {
    "text": "can write in PowerShell now that's the point I want to drive you don't have to be worried about I hope to learn Python I have to learn no no js' if you're a",
    "start": "3777830",
    "end": "3784430"
  },
  {
    "text": "Windows guy you know power sales start using it right so last slide here just",
    "start": "3784430",
    "end": "3790430"
  },
  {
    "text": "bit of an eye chart but I want to drive this point home every single slide mark",
    "start": "3790430",
    "end": "3796250"
  },
  {
    "text": "and I put together or we're basically with Windows operating system in our mind right that's what we did right so",
    "start": "3796250",
    "end": "3802640"
  },
  {
    "text": "we wanted to throw everything that we have an AWS today that you can natively integrate and use to run your Windows",
    "start": "3802640",
    "end": "3809930"
  },
  {
    "text": "workloads and that's what we did starting all the way at the bottom we didn't talk about some of these things but those are you know this is a level",
    "start": "3809930",
    "end": "3815330"
  },
  {
    "text": "300 talk so we figured you know security groups and you know knackles and how they work but systems manager amazon",
    "start": "3815330",
    "end": "3822350"
  },
  {
    "text": "inspector if he can if he can push it into your deployment and you know development life lifecycle that's wonderful",
    "start": "3822350",
    "end": "3827780"
  },
  {
    "text": "and of course securing identities is what mark talked about in terms of you know using Active Directory and managing",
    "start": "3827780",
    "end": "3834109"
  },
  {
    "text": "that user identity lifecycle where it exist right you don't have to create a brand-new set of users for AWS and you",
    "start": "3834109",
    "end": "3840869"
  },
  {
    "text": "know try to manage their Genesis decommissioning all of the lifecycle of that particularly user identity lives",
    "start": "3840869",
    "end": "3846300"
  },
  {
    "text": "right there and Active Directory right so with that said I want to wrap up with",
    "start": "3846300",
    "end": "3852330"
  },
  {
    "text": "this slide Windows is a first-class citizen on AWS right so that that is one",
    "start": "3852330",
    "end": "3858599"
  },
  {
    "text": "thing that we want to really leave you with so if you're running Windows instances definitely use all of these",
    "start": "3858599",
    "end": "3864150"
  },
  {
    "text": "services that sit around Windows instances within AWS so you can be",
    "start": "3864150",
    "end": "3869520"
  },
  {
    "text": "secure and you can be very scalable and highly available as well with that say thank you so much for picking us over",
    "start": "3869520",
    "end": "3875580"
  },
  {
    "text": "beer and pub crawl certainly appreciate it one last point",
    "start": "3875580",
    "end": "3880980"
  },
  {
    "text": "if you have a few minutes few seconds please do the eval from your app we",
    "start": "3880980",
    "end": "3887760"
  },
  {
    "text": "truly value your feedback and thank you and again there's a security workshop",
    "start": "3887760",
    "end": "3894240"
  },
  {
    "text": "that you can go to some Windows specific it is sect 333 37 our one workshop at",
    "start": "3894240",
    "end": "3902609"
  },
  {
    "text": "6:15 to 8:30 venetian fourth floor Lando 4205 so please visit them if I don't",
    "start": "3902609",
    "end": "3910290"
  },
  {
    "text": "want to go to pub crawl thank you yes",
    "start": "3910290",
    "end": "3914810"
  }
]