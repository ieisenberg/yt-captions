[
  {
    "text": "good afternoon and welcome to creating your virtual data center VPC fundamentals and connectivity",
    "start": "80",
    "end": "6799"
  },
  {
    "text": "options make sure my pointer is working here my name is Brett hullman I'm a manager of solutions architecture at",
    "start": "6799",
    "end": "13080"
  },
  {
    "text": "Amazon web services you should be here to learn more about VPC and building out your virtual data center on Amazon um",
    "start": "13080",
    "end": "19840"
  },
  {
    "text": "today we're going to Define all the components of VPC um how they fit together and dive",
    "start": "19840",
    "end": "25199"
  },
  {
    "text": "into 15 best practices and things you should consider when building out a VPC on Amazon web services so uh just in FYI",
    "start": "25199",
    "end": "31840"
  },
  {
    "text": "um this talk does go into networking a bit it's not super deep but being a little Network Savvy um important so um",
    "start": "31840",
    "end": "38719"
  },
  {
    "text": "just wanted to give you that heads up before we get started all right so here's the agenda",
    "start": "38719",
    "end": "44440"
  },
  {
    "text": "we're going to talk first about what is Amazon virtual private Cloud then we're going to dive into some of the high level use cases you might use VPC for um",
    "start": "44440",
    "end": "52399"
  },
  {
    "text": "then we're going to go through the basics um all the different components how they fit together in relevant architectures and then we're going to",
    "start": "52399",
    "end": "58960"
  },
  {
    "text": "dive into the 15 best practices and design considerations you might want to use um for VPC so um I'll also uh tip",
    "start": "58960",
    "end": "66520"
  },
  {
    "text": "you off the next talk in here is also on Virtual private Cloud it's kind of a good add-on to this one so um it'll go into some of the more advanced topics",
    "start": "66520",
    "end": "73080"
  },
  {
    "text": "after this one so what is Amazon virtual private Cloud you know really it's a it's a",
    "start": "73080",
    "end": "80840"
  },
  {
    "text": "private space you can build apps and services on AWS or maybe it's a set of softwar defined networking tools that",
    "start": "80840",
    "end": "87159"
  },
  {
    "text": "allow you to build out your own network footprint in the cloud um but you know most simply put it's",
    "start": "87159",
    "end": "93119"
  },
  {
    "text": "really a virtual data center on ews and not only is it a virtual data center on ews it's also a virtual data center that",
    "start": "93119",
    "end": "99200"
  },
  {
    "text": "spans multiple physical data centers on Amazon web services so so really underneath the covers it's a highly",
    "start": "99200",
    "end": "104600"
  },
  {
    "text": "available data center um on top of on top of Amazon web services in the cloud",
    "start": "104600",
    "end": "109960"
  },
  {
    "text": "so let's talk about what some common use cases are for VPC and um first off let's talk about a",
    "start": "109960",
    "end": "118280"
  },
  {
    "text": "public web application so you know any public web app can be run in your VPC and all your servers can be made",
    "start": "118280",
    "end": "124079"
  },
  {
    "text": "publicly available so um here's an example um you've got a web stack running inside of your VPC as you can",
    "start": "124079",
    "end": "130160"
  },
  {
    "text": "see there and you've got something called an internet gateway which actually opens that VPC up to the Internet you've got your user who's",
    "start": "130160",
    "end": "136519"
  },
  {
    "text": "coming in through that internet gateway and they also might be getting static assets out of off of our CDN and out of um S3 which might be the origin for that",
    "start": "136519",
    "end": "143280"
  },
  {
    "text": "CDN so this would be a good example of a public web app inside of Amazon web services at a high level and we're going",
    "start": "143280",
    "end": "148440"
  },
  {
    "text": "to get into more detail as we go on totally private web applications with no",
    "start": "148440",
    "end": "154040"
  },
  {
    "text": "public access to any resources um externally from the Internet is also another really good um you know common",
    "start": "154040",
    "end": "161800"
  },
  {
    "text": "use case for VPC so here you've got a user sitting in a corporate data center connecting over VPN to their Amazon VPC",
    "start": "161800",
    "end": "168519"
  },
  {
    "text": "and hitting their web server instances maybe running a private um internal company web app so this is another great",
    "start": "168519",
    "end": "174800"
  },
  {
    "text": "use case for bpc a virtual data center on Amazon web services or adding another data center",
    "start": "174800",
    "end": "180440"
  },
  {
    "text": "to your already um data you know Big Data Center footprint would be another use case you can build that virtual data",
    "start": "180440",
    "end": "185920"
  },
  {
    "text": "center on an AWS and and um this shows kind of a hybrid scenario here um as you",
    "start": "185920",
    "end": "191080"
  },
  {
    "text": "can see you can replicate directory services or run directory services in the cloud extend your data center footprint um store keys for encryption",
    "start": "191080",
    "end": "198200"
  },
  {
    "text": "both on Prem and in your Cloud HSM inside of your VPC um you can also push backups to",
    "start": "198200",
    "end": "203879"
  },
  {
    "text": "aws's expandable storage options in the cloud and you can also run on premise hybrid and Cloud only apps so um you",
    "start": "203879",
    "end": "212599"
  },
  {
    "text": "know this would be a good highle example of that the last example I have before we move on to the next section is",
    "start": "212599",
    "end": "218400"
  },
  {
    "text": "disaster recovery so um we have four different Disaster Recovery scenarios if you've ever seen um our Disaster",
    "start": "218400",
    "end": "225080"
  },
  {
    "text": "Recovery white paper it's a good white paper to take a look at it talks about four different scenarios uh backup and",
    "start": "225080",
    "end": "230959"
  },
  {
    "text": "restore pilot light warm standby and multi- sight active active um so this is",
    "start": "230959",
    "end": "236680"
  },
  {
    "text": "an example of uh the pilot light scenario here basically what we're doing is we're we're running a web stack over",
    "start": "236680",
    "end": "242400"
  },
  {
    "text": "in the data center um we've gone and we've cloned that and created images of web servers and app servers that are",
    "start": "242400",
    "end": "248360"
  },
  {
    "text": "just the same running over on ec2 and Amazon web services we've left them in a stopped State and what we're doing is",
    "start": "248360",
    "end": "254280"
  },
  {
    "text": "we're replicating our database across the VPN over to a database that's running on ec2 in Amazon web services so",
    "start": "254280",
    "end": "261239"
  },
  {
    "text": "now we've got our data um replicated to Amazon web services in the case of an outage what we're going to do is we're",
    "start": "261239",
    "end": "267080"
  },
  {
    "text": "going to rehydrate these server tiers um start these servers and maybe SC scale them out horizontally on both the web",
    "start": "267080",
    "end": "273680"
  },
  {
    "text": "and the app tier we're going to maybe stop and restart the database tier so we now change this the size of the database",
    "start": "273680",
    "end": "279360"
  },
  {
    "text": "we may have been on a very small database size now we're going to grow it to a very large database size um to handle our prod load and then we're",
    "start": "279360",
    "end": "284680"
  },
  {
    "text": "going to repoint our DNS for your RTO and RPO this might be a really good solution maybe you want more",
    "start": "284680",
    "end": "290120"
  },
  {
    "text": "of a warmer or hot standby type solution as well so anyway take a look at the white paper so",
    "start": "290120",
    "end": "296080"
  },
  {
    "text": "um yeah hopefully hopefully this doesn't look like your data center um and hopefully it never will be again",
    "start": "296080",
    "end": "302639"
  },
  {
    "text": "if you use VPC so everything is taggable and queriable Via API you'll never have",
    "start": "302639",
    "end": "307840"
  },
  {
    "text": "to inventory something like this um or even a neat data center for that matter it's still a large job to inventory your",
    "start": "307840",
    "end": "312960"
  },
  {
    "text": "data center so everything inside of AWS is taggable inside of VPC so you can actually tag it with things that are",
    "start": "312960",
    "end": "318919"
  },
  {
    "text": "specific to your project or your business unit or whatever it might be then you can query those things so you can actually discover what your",
    "start": "318919",
    "end": "324319"
  },
  {
    "text": "resources are very easily we offered some you know announced some new services today that actually might make",
    "start": "324319",
    "end": "329400"
  },
  {
    "text": "that easier so moving on um here are all the components of VC um we're going to dive",
    "start": "329400",
    "end": "336800"
  },
  {
    "text": "into each one of these so let's just Dive Right In um so VPC this is really your virtual data center on Amazon web",
    "start": "336800",
    "end": "343240"
  },
  {
    "text": "services um you start by defining a cider block of ips um that Define your",
    "start": "343240",
    "end": "348600"
  },
  {
    "text": "network typically it's going to be rfc1 1918 space um so a VPC is a virtual data",
    "start": "348600",
    "end": "355720"
  },
  {
    "text": "center that can span multiple azs like I mentioned before so so really this is an ha Data Center in a sense and um when",
    "start": "355720",
    "end": "361880"
  },
  {
    "text": "you create a new account today there's something called a default VPC out there and um you automatically get this",
    "start": "361880",
    "end": "367319"
  },
  {
    "text": "default VPC um we create that for you as you know part of your account creation",
    "start": "367319",
    "end": "372479"
  },
  {
    "text": "so what this really is is um when you're launching an ec2 instance and you don't Target it for a specific VPC or a",
    "start": "372479",
    "end": "379280"
  },
  {
    "text": "specific subnet um an untargeted launch in a sense um it's going to go into this default VPC and this default VPC makes",
    "start": "379280",
    "end": "386759"
  },
  {
    "text": "available to you A lot of the things that were available in the old ec2 classic world but you get to take advantage of a lot of the new um",
    "start": "386759",
    "end": "392160"
  },
  {
    "text": "features that are in VPC there's a lot of advanced networking features that aren't available in the old ec2 classic world",
    "start": "392160",
    "end": "398639"
  },
  {
    "text": "so a subnet is a range of ips in your VPC and you can divide up your overall",
    "start": "398639",
    "end": "404080"
  },
  {
    "text": "VPC into multiple subnets for different uses and purposes we're going to talk more about what those different uses and purposes are um a subnet lives inside of",
    "start": "404080",
    "end": "411759"
  },
  {
    "text": "an availability Zone um it can provide you can provide security at the subnet level um with AAL we're going to talk",
    "start": "411759",
    "end": "417240"
  },
  {
    "text": "about AAL more and what AAL should be used for versus security groups um also each subnet can be routed differently as",
    "start": "417240",
    "end": "422800"
  },
  {
    "text": "well so you can pick how you route a subnet which gateways you specify is allow allowing egress from and so on um",
    "start": "422800",
    "end": "429160"
  },
  {
    "text": "and then going back to default VPC each default VPC we create has a default Subnet in each availability Zone in your",
    "start": "429160",
    "end": "435919"
  },
  {
    "text": "account with a route to the internet gateway which makes that that particular subnet for that default VPC publicly",
    "start": "435919",
    "end": "441639"
  },
  {
    "text": "available if you launch instances into it you give them public IPS they're now publicly available",
    "start": "441639",
    "end": "447400"
  },
  {
    "text": "instances all right internet gateway enables your instances to connect to the internet through the Amazon Network Edge",
    "start": "447520",
    "end": "453919"
  },
  {
    "text": "so um this allows you to hit public API endpoints or um things such as S3 public",
    "start": "453919",
    "end": "461440"
  },
  {
    "text": "internet whatever it might be Dynamo DB sqs um so so you need an internet gateway to actually make that possible",
    "start": "461440",
    "end": "467400"
  },
  {
    "text": "um and inside of the default VPC there's always that internet gateway um the subnet that we Define is the default",
    "start": "467400",
    "end": "472840"
  },
  {
    "text": "subnet again has a default route to the internet gateway so you can always go out and hit things from that default VPC",
    "start": "472840",
    "end": "477879"
  },
  {
    "text": "if you're using that as opposed to building out your own VPC the virtual private Gateway is a",
    "start": "477879",
    "end": "484680"
  },
  {
    "text": "logical construct and this represents the VPN endpoint in the AWS VPC to terminate your VPN",
    "start": "484680",
    "end": "490879"
  },
  {
    "text": "connections so it's also the endp point for Direct Connect connections as well we're going to talk more about Direct Connect and what you might do with",
    "start": "490879",
    "end": "496440"
  },
  {
    "text": "Direct Connect later in the talk um so um one note without an internet gateway or a virtual private Gateway can you get",
    "start": "496440",
    "end": "503400"
  },
  {
    "text": "into your VPC what do you think probably not no no access can't come in privately",
    "start": "503400",
    "end": "509520"
  },
  {
    "text": "can't come in publicly so um so here's an example of that um your customer",
    "start": "509520",
    "end": "515159"
  },
  {
    "text": "Gateway is your endpoint on your end that actually terminates the VPN connections or the direct connect on",
    "start": "515159",
    "end": "520479"
  },
  {
    "text": "your end and um typically going to be a router firewall um and you know you can see the VPN connection extensor from the",
    "start": "520479",
    "end": "526600"
  },
  {
    "text": "customer gateway to the VPN Gateway um by default every subnet can talk to",
    "start": "526600",
    "end": "532000"
  },
  {
    "text": "every other subnet inside of a VPC so this is enabled by a virtual router that sits in a start topology between all",
    "start": "532000",
    "end": "537080"
  },
  {
    "text": "your subnets to get to this router the the VPC DHCP service hands out A1",
    "start": "537080",
    "end": "543079"
  },
  {
    "text": "default gateway in every sl24 subnet um so that you can actually you know um",
    "start": "543079",
    "end": "548920"
  },
  {
    "text": "Talk between all the vpcs um that's how you get up that's the default gateway the one address in each VPC or in each",
    "start": "548920",
    "end": "554560"
  },
  {
    "text": "subnet excuse me and this would be an example of that start topology so all these instances can talk between all",
    "start": "554560",
    "end": "559920"
  },
  {
    "text": "these different subnets barring any security groups oracles that prevent that a route table is a set of rules or",
    "start": "559920",
    "end": "567680"
  },
  {
    "text": "routes that are used to determine where where to Network traffic based upon IP prefix um so each Subnet in a VPC must",
    "start": "567680",
    "end": "574040"
  },
  {
    "text": "be associated with at least one route table um the route table contains rules for what gateways you can go out to and",
    "start": "574040",
    "end": "581000"
  },
  {
    "text": "you can you can apply this route table to many subnets as well so here's an example of a a route table with a local",
    "start": "581000",
    "end": "588160"
  },
  {
    "text": "route every route table has a local route which says the subnets and the VPC can talk to each other it and then in",
    "start": "588160",
    "end": "594079"
  },
  {
    "text": "this one we've also got a default Route 0.0.0.0 Z route that it says hey any",
    "start": "594079",
    "end": "600200"
  },
  {
    "text": "route that's not further specified above um send all that traffic out the internet out to the internet through the",
    "start": "600200",
    "end": "605279"
  },
  {
    "text": "internet gateway so I can hit the internet through that or the API endpoints and um here's an example both",
    "start": "605279",
    "end": "610720"
  },
  {
    "text": "my subnets have routes out to the internet gateway and can hit the AWS public API endpoints or the public",
    "start": "610720",
    "end": "616000"
  },
  {
    "text": "internet VPN connection we've talked about that quite a bit already um here's an example of a VPN connection between",
    "start": "616000",
    "end": "621360"
  },
  {
    "text": "the VPN Gateway and the customer Gateway um an elastic IP is a static IP address",
    "start": "621360",
    "end": "626399"
  },
  {
    "text": "that's associated to your account um when you release the address from an instance it still sits in your account",
    "start": "626399",
    "end": "631519"
  },
  {
    "text": "you can assign it to another instance in the same region that's pretty handy if you want to um do high availability",
    "start": "631519",
    "end": "636839"
  },
  {
    "text": "between availability zones and you have got an instance um it's got an IP address running and you want to go and move it to another instance running in a",
    "start": "636839",
    "end": "642839"
  },
  {
    "text": "different data center you can do that without updating DNS you're you're good to go um an elastic network interface is",
    "start": "642839",
    "end": "649760"
  },
  {
    "text": "an interface that allows you to do that but so an interface has to live with inside of a subnet so an eni is a",
    "start": "649760",
    "end": "656160"
  },
  {
    "text": "virtual interface that can you can attach to an instance in a VPC um there's the ethernet zero interface",
    "start": "656160",
    "end": "661760"
  },
  {
    "text": "which is the default interface but you can always attach an Ethernet one interface or further interfaces and those are actually movable between",
    "start": "661760",
    "end": "667760"
  },
  {
    "text": "instances inside of a subnet so um you know there's a bunch of good use cases we're going to talk about later in the",
    "start": "667760",
    "end": "672839"
  },
  {
    "text": "talk around moving I around um but essentially an eni consists of your Mac address your private IP and if you have",
    "start": "672839",
    "end": "678440"
  },
  {
    "text": "a public IP your public IP as well all right network network AOL or",
    "start": "678440",
    "end": "685160"
  },
  {
    "text": "network access control lists um essentially these are an opt optional layer of security that acts as a",
    "start": "685160",
    "end": "690519"
  },
  {
    "text": "firewall around your subnets they really control the Ingress and egress policies for a particular subnet and it's a",
    "start": "690519",
    "end": "696240"
  },
  {
    "text": "numbered list of rules that we evaluate in order starting with the lowest numbered rule to determine how traffic",
    "start": "696240",
    "end": "701760"
  },
  {
    "text": "ingresses and egresses a particular Network or subnet so we're the next we're going to talk about security groups this is at the subet level or the",
    "start": "701760",
    "end": "708480"
  },
  {
    "text": "network level and these are stateless rules so when you apply these rules you got to apply them both to inbound and",
    "start": "708480",
    "end": "714320"
  },
  {
    "text": "outbound um as opposed to security groups which we'll talk about next",
    "start": "714320",
    "end": "719680"
  },
  {
    "text": "so Security Group um acts as a firewall around your ec2 instances and it controls inbound and upbound traffic as",
    "start": "719680",
    "end": "725440"
  },
  {
    "text": "well when you launch an instance in a VPC you can assign up to five security groups and security groups act at the",
    "start": "725440",
    "end": "731720"
  },
  {
    "text": "instance level um not the subnet level they're stateful meaning if I open up Port 80 and 443 I'm going to allow a",
    "start": "731720",
    "end": "738240"
  },
  {
    "text": "stateful response for my web server even if those ports aren't available so um security groups are stateful um you",
    "start": "738240",
    "end": "744480"
  },
  {
    "text": "always have at least one around an instance and you got a Max of five so let's talk about some of the",
    "start": "744480",
    "end": "750079"
  },
  {
    "text": "security controls that exist inside of a VPC so first off you got a CER block",
    "start": "750079",
    "end": "755600"
  },
  {
    "text": "that you define in this case it's going to be the 10.16 then we're going to subnet that out and split that into two subnets the",
    "start": "755600",
    "end": "763079"
  },
  {
    "text": "10.1.0 or the 10.1.1 sl24 and the 101104 as you can see in the example",
    "start": "763079",
    "end": "769920"
  },
  {
    "text": "then we're going to go and apply akles if we choose which are the Ingress eess policies that wrap around that Network",
    "start": "769920",
    "end": "775760"
  },
  {
    "text": "then we're going to go assign route tables the route the the subnet on the left the 1.1 has an egress to the",
    "start": "775760",
    "end": "781120"
  },
  {
    "text": "internet gateway the subnet on the right has an egress to the VPN gateway then lastly we're going to go launch",
    "start": "781120",
    "end": "786880"
  },
  {
    "text": "instances and the instances live in particular subnets and you know they're going to be wrapped by security groups",
    "start": "786880",
    "end": "792639"
  },
  {
    "text": "which again are stateful all right so let's let's look",
    "start": "792639",
    "end": "797839"
  },
  {
    "text": "at an overview of VPC so so here we got your customer Network on the right internet on the left and in the center",
    "start": "797839",
    "end": "803360"
  },
  {
    "text": "we got our VPC and we've got what we're calling a public subnet and routing for a public subnet on the left a private",
    "start": "803360",
    "end": "808639"
  },
  {
    "text": "subnet on the right right and what makes the left a public subnet is going to be um both the routes to the internet",
    "start": "808639",
    "end": "814839"
  },
  {
    "text": "gateway and the public IPS that are assigned to the instances what makes the right a private subnet is the fact that we've got a route back to our corporate",
    "start": "814839",
    "end": "821120"
  },
  {
    "text": "data center all the the servers only have private IPS and and lastly we did add something called a natat route um",
    "start": "821120",
    "end": "828000"
  },
  {
    "text": "which is a default route on the on the bottom of that route table on the right and that basically states that all those",
    "start": "828000",
    "end": "833279"
  },
  {
    "text": "servers actually can get internet access through what through a natat instance that's running in the public subnet that",
    "start": "833279",
    "end": "838320"
  },
  {
    "text": "does Portage Dr translation and allows my my servers to go out and make a stateful request to the internet and get a stateful response almost like your",
    "start": "838320",
    "end": "844920"
  },
  {
    "text": "laptop behind a firewall in your own corporate land environment or something like that so so this would be a good VPC",
    "start": "844920",
    "end": "850800"
  },
  {
    "text": "over or a good overview of a little hybrid architecture inside a VPC okay so now let's change gears and",
    "start": "850800",
    "end": "858360"
  },
  {
    "text": "actually go into some of the best practices and things you should consider when building out your virtual private",
    "start": "858360",
    "end": "863399"
  },
  {
    "text": "Cloud on Amazon web services so first off um think about the controls and processes you put around config changes",
    "start": "863399",
    "end": "870480"
  },
  {
    "text": "to routers switches and any network components you might have um in your data centers and that same approach",
    "start": "870480",
    "end": "875639"
  },
  {
    "text": "should exist here um you want to use identity and access management to create",
    "start": "875639",
    "end": "880920"
  },
  {
    "text": "a VPC admin group and only permission this group to any of the high blast radius Epi calls such as these these",
    "start": "880920",
    "end": "887120"
  },
  {
    "text": "things that are you know all the deletes and so on all the updates and deletes and um make the people that own this you",
    "start": "887120",
    "end": "893560"
  },
  {
    "text": "know a small group and make that a small and responsible group and then add these seven delete calls or or these seven",
    "start": "893560",
    "end": "899800"
  },
  {
    "text": "delete calls now on here actually support ec2 resource based permissions we're going to talk a bunch more about that coming up but needless to say what",
    "start": "899800",
    "end": "905920"
  },
  {
    "text": "that means is I can say hey I tagged this particular VPC as my Dev VPC and",
    "start": "905920",
    "end": "912600"
  },
  {
    "text": "maybe I'll only allow a particular user to delete items in something that's tagged as my Dev VPC so I've got the",
    "start": "912600",
    "end": "918040"
  },
  {
    "text": "ability to do things at the resource level um and and that's what resource-based permissions are we're going to talk more about",
    "start": "918040",
    "end": "924240"
  },
  {
    "text": "that okay so plan your IP space before creating it this is really important",
    "start": "924240",
    "end": "929600"
  },
  {
    "text": "first consider the IP space you use on Prem in your own data centers your own corporate land environments and so on",
    "start": "929600",
    "end": "936279"
  },
  {
    "text": "you probably don't want to collide on that IP space if you want to join your data center on Amazon with your your own",
    "start": "936279",
    "end": "941639"
  },
  {
    "text": "physical data centers you probably don't want IP space that overlaps otherwise that's going to cause some confusion you're going to have to Gat things and",
    "start": "941639",
    "end": "946920"
  },
  {
    "text": "so on so so make sure you you plan your IP space accordingly next think about what future expansion will do to your IP",
    "start": "946920",
    "end": "953199"
  },
  {
    "text": "space let's say you're going to build an app across two availability zones but maybe in the future that app's going to",
    "start": "953199",
    "end": "958319"
  },
  {
    "text": "be really scalable app and you might want it to span three availability zones make sure that your IP space you plan and your VPC can grow into that um",
    "start": "958319",
    "end": "966040"
  },
  {
    "text": "because you can't change your CER block once you pick it in a VPC um so always have an even",
    "start": "966040",
    "end": "971319"
  },
  {
    "text": "distribution of Ip space across availability zones as well remember subnets live across AES if I'm going to have 10 subnets in one a I should",
    "start": "971319",
    "end": "977279"
  },
  {
    "text": "probably have 10 subnets in the other if I'm going to have a third I probably need to have another 10 subnets to scale across um subnet design is also very",
    "start": "977279",
    "end": "984920"
  },
  {
    "text": "important we're going to talk about that next but um some customers have very large L Dynamic application workloads",
    "start": "984920",
    "end": "991079"
  },
  {
    "text": "with thousands of servers thousands and thousands of servers in a large subnet right others you know um smaller subnets",
    "start": "991079",
    "end": "999199"
  },
  {
    "text": "maybe SL 24s that better fit their um you know uh um application tiers",
    "start": "999199",
    "end": "1005440"
  },
  {
    "text": "something like that might be appropriate so um think about think about those types of things when you pick your IP space how how big it needs to be how you",
    "start": "1005440",
    "end": "1011639"
  },
  {
    "text": "want to subnet we're going to talk more about subnetting on the next slide here so digging a little deep deeper into",
    "start": "1011639",
    "end": "1018399"
  },
  {
    "text": "subnet planning um first subnets are single a so you know plan accordingly um",
    "start": "1018399",
    "end": "1024319"
  },
  {
    "text": "and then plan accordingly you know based upon how many subnets you plan on using later as well um integration with",
    "start": "1024319",
    "end": "1030240"
  },
  {
    "text": "on-prem networks is important as well you may have different rules for for which app tiers you want to be able to",
    "start": "1030240",
    "end": "1036640"
  },
  {
    "text": "talk back to your on-prem network so that might be another reason you need a subnet right you do routing based rules",
    "start": "1036640",
    "end": "1042678"
  },
  {
    "text": "at the subnet level so if I'm going to do routing based rules at the subnet level I might want to subnet things that can talk to um my on-prem Network versus",
    "start": "1042679",
    "end": "1050080"
  },
  {
    "text": "things that can't or or maybe certain areas of my on-prem can talk to certain subnets but",
    "start": "1050080",
    "end": "1056120"
  },
  {
    "text": "other areas can talk to other subnets you know it's however you lay it out you need to think about those types of things in advance you also might be",
    "start": "1056120",
    "end": "1062520"
  },
  {
    "text": "doing subnet level access control with AAL and if you're going to apply that maybe some workloads are going to",
    "start": "1062520",
    "end": "1068039"
  },
  {
    "text": "respond well to those Ackles and others won't so um you know that might be another reason to sub that out and it",
    "start": "1068039",
    "end": "1073960"
  },
  {
    "text": "lastly if you want to peer your vpcs together you you may want to have",
    "start": "1073960",
    "end": "1079360"
  },
  {
    "text": "certain subnets that can talk across the peering link and others that can't and if you couple all your servers together",
    "start": "1079360",
    "end": "1084960"
  },
  {
    "text": "in a single subnet how are you going to differentiate them by by single IP addresses that's not going to work that's not very scalable so so maybe if",
    "start": "1084960",
    "end": "1091720"
  },
  {
    "text": "I want multiple vpcs talking to each other across VPC peering which we're going to talk about later um I might",
    "start": "1091720",
    "end": "1098159"
  },
  {
    "text": "want to submit for that reason as well Network accles versus security groups so let's talk about network",
    "start": "1098159",
    "end": "1105440"
  },
  {
    "text": "security and um you know talk about these two concepts together um so you're probably familiar with security groups",
    "start": "1105440",
    "end": "1111760"
  },
  {
    "text": "you know I think if you guys have used ec2 you've used security groups not everybody's used Ackles how do these two",
    "start": "1111760",
    "end": "1117440"
  },
  {
    "text": "differ well primarily um you know knackles are an order-based set of rules",
    "start": "1117440",
    "end": "1123640"
  },
  {
    "text": "processed in order you want to put your most commonly matched rules at the top of your knle list um they're stateless",
    "start": "1123640",
    "end": "1129720"
  },
  {
    "text": "so you have to specify both Ingress and egress rules um security groups are stateful um so again if we've got Port",
    "start": "1129720",
    "end": "1136760"
  },
  {
    "text": "80 and Port 443 that are inbound I'm going to allow a stateful response on the outbound from the Emeral ports for",
    "start": "1136760",
    "end": "1142960"
  },
  {
    "text": "my web server I don't need to specify those so um what do you use Eckles for",
    "start": "1142960",
    "end": "1152080"
  },
  {
    "text": "well you know I mean there's a variety of use cases you could use them for I would think of them though as enforcing a baseline security policy such as the",
    "start": "1152080",
    "end": "1158520"
  },
  {
    "text": "example here no FTP net bios or SMTP shall erress this subnet um you know",
    "start": "1158520",
    "end": "1164559"
  },
  {
    "text": "catch all for holes in instant security groups this is something you know where you can can have a segregation of",
    "start": "1164559",
    "end": "1169640"
  },
  {
    "text": "security concerns between the app teams who are building their applications with certain ports open and the network security organization who might might",
    "start": "1169640",
    "end": "1175720"
  },
  {
    "text": "say things like you know I don't ever want to allow these things to happen out of this network or this is a database",
    "start": "1175720",
    "end": "1181159"
  },
  {
    "text": "subnet and I only want traffic in of this type from these particular IP ranges you know you can you can you can",
    "start": "1181159",
    "end": "1186840"
  },
  {
    "text": "be very granular but you only get a Max of 20 rules this isn't an infinite set of rules so you know if you're going to",
    "start": "1186840",
    "end": "1192559"
  },
  {
    "text": "use them use them wisely you know a lot of people are used to only using security groups and that's okay but if you want to separate those concerns you",
    "start": "1192559",
    "end": "1198520"
  },
  {
    "text": "want to put some baseline Security in around certain networks this is the way to do",
    "start": "1198520",
    "end": "1203760"
  },
  {
    "text": "that all right so every subnet must have an Associated route table and you can't",
    "start": "1203760",
    "end": "1209120"
  },
  {
    "text": "specify a route table when you create a subnet so every starting every every subnet you create starts out assigned to",
    "start": "1209120",
    "end": "1215360"
  },
  {
    "text": "the main route table and it's only after creation that you can edit that route table and change it to a different",
    "start": "1215360",
    "end": "1220880"
  },
  {
    "text": "routing table so so you go into the subnet you say I want to change the routing tables well for that reason",
    "start": "1220880",
    "end": "1226240"
  },
  {
    "text": "leave the main routing table as it is with only the default local route and you won't have to worry about a new",
    "start": "1226240",
    "end": "1231480"
  },
  {
    "text": "subnet being given a route to something it shouldn't have a route to right you know you create a new a new subnet and",
    "start": "1231480",
    "end": "1237200"
  },
  {
    "text": "all of a sudden it's got to Route out to the public internet and maybe routes back to my my corporate data center as well and you know I didn't really think",
    "start": "1237200",
    "end": "1243360"
  },
  {
    "text": "about that wow or I didn't edit this the the route table um I forgot to do that if you leave it as the main route you",
    "start": "1243360",
    "end": "1249039"
  },
  {
    "text": "know the main leave the main route table alone that won't that issue won't happen so all right so",
    "start": "1249039",
    "end": "1255720"
  },
  {
    "text": "um enhanced networking in VPC so only the the VPC stack supports enhanced networking capabilities um ec2 supports",
    "start": "1255720",
    "end": "1263400"
  },
  {
    "text": "something called srov or single root IO virtualization and this basically enables higher packet throughput um",
    "start": "1263400",
    "end": "1270400"
  },
  {
    "text": "higher performance lower latency lower Jitter and so on um on your instances and that this is supported across a lot",
    "start": "1270400",
    "end": "1276640"
  },
  {
    "text": "of the new instance types the C3 the I2 the R3 and other instance types um and",
    "start": "1276640",
    "end": "1281760"
  },
  {
    "text": "uh if they're launched from the hbm Ami and so if you use Amazon Linux the",
    "start": "1281760",
    "end": "1287120"
  },
  {
    "text": "Amazon Linux Ami um with these instance Types on the hvm Ami the driver in configuration's already done it's",
    "start": "1287120",
    "end": "1293039"
  },
  {
    "text": "already set up to do that um this is supported however on other Linux um flavors as well and even on windows",
    "start": "1293039",
    "end": "1301360"
  },
  {
    "text": "so um we already discussed Enis a little bit but um take advantage of these in",
    "start": "1301360",
    "end": "1306559"
  },
  {
    "text": "your VPC there's a couple really cool use cases for these um first the ability to create something called a dual homed",
    "start": "1306559",
    "end": "1312799"
  },
  {
    "text": "instance um this allows you to have your an instance in two different subnets so so let's say um I might put an instance",
    "start": "1312799",
    "end": "1319840"
  },
  {
    "text": "in two subnets and one of the subnets might have access to the public internet and maybe the other one sits back on my",
    "start": "1319840",
    "end": "1324960"
  },
  {
    "text": "management Network so I could I could go and have separate rules separate AAL um two different interfaces and and dual",
    "start": "1324960",
    "end": "1331720"
  },
  {
    "text": "home that instance um I can also have multiple interfaces on a particular instance so with multiple IPS let's say",
    "start": "1331720",
    "end": "1338919"
  },
  {
    "text": "I'm running an instance and I need a ton of IP addresses a ton of public IPS on that well one interface can only handle",
    "start": "1338919",
    "end": "1344000"
  },
  {
    "text": "a certain number of ips but I can add multiple interfaces and actually add multiple IPS to each interface and then",
    "start": "1344000",
    "end": "1349440"
  },
  {
    "text": "I can grow the number of ips I can have across that instance overall lastly um we're going to talk",
    "start": "1349440",
    "end": "1355240"
  },
  {
    "text": "about something called poor mans High availability or that's my name for it maybe not the best name but um we'll",
    "start": "1355240",
    "end": "1360600"
  },
  {
    "text": "talk about that on the next slide here so what is the floating interface pattern or Poor Man's ha um let's say",
    "start": "1360600",
    "end": "1367880"
  },
  {
    "text": "you've got a legacy application or you're running a virtual Appliance in your VPC um or you've got something that",
    "start": "1367880",
    "end": "1374840"
  },
  {
    "text": "that is running and it can only vertically scale it can't horizontally scale out you know it's not this cloudified application it only can run",
    "start": "1374840",
    "end": "1381600"
  },
  {
    "text": "on a single single server for whatever reason it is right um well you know I've",
    "start": "1381600",
    "end": "1387120"
  },
  {
    "text": "got the ability to um spin this up and attach an Ethernet one interface to this instance um as an eii and that ethernet",
    "start": "1387120",
    "end": "1394679"
  },
  {
    "text": "one eii can be moved with private address public IP address and Mac all to",
    "start": "1394679",
    "end": "1400159"
  },
  {
    "text": "another instance running in the same subnet so so let's say I've got an um an outage scenario where that instance goes",
    "start": "1400159",
    "end": "1405840"
  },
  {
    "text": "down I could have a warm hot standby sitting in that same subnet or even a cold standby that I might boot it might",
    "start": "1405840",
    "end": "1411520"
  },
  {
    "text": "be a stopped instance but it's ready to go and I boot it and then um attach that interface I don't have to update any DNS",
    "start": "1411520",
    "end": "1417360"
  },
  {
    "text": "I'm up and running so you know I mean it it's poor man's High availability right you know you you could even use",
    "start": "1417360",
    "end": "1423520"
  },
  {
    "text": "cloudwatch alarms to signal that that instance went down have a script that knows how to assign that eni to the next",
    "start": "1423520",
    "end": "1428679"
  },
  {
    "text": "instance upon receiving that alarm so you could have a little admin server that's watching that and actually goes",
    "start": "1428679",
    "end": "1433960"
  },
  {
    "text": "and makes that assignment so so you could do this pretty rapidly and have a small downtime um for something it's used to running on a single server so",
    "start": "1433960",
    "end": "1440240"
  },
  {
    "text": "you know it's not like a horizontally scaled application where you know you lose an instance Auto scaling kills it",
    "start": "1440240",
    "end": "1445400"
  },
  {
    "text": "you'll be stop setting traffic to it I mean you don't have that option on a single server but this is a pretty good pattern for for ha as as is the EIP if",
    "start": "1445400",
    "end": "1453360"
  },
  {
    "text": "you want to do it across availability Zone all right so um tag everything you",
    "start": "1453360",
    "end": "1461640"
  },
  {
    "text": "know um really good really good advice um you know use tags that answer",
    "start": "1461640",
    "end": "1467559"
  },
  {
    "text": "questions about your world or your organization decide on a schema early and stick to it you know and build tags",
    "start": "1467559",
    "end": "1473720"
  },
  {
    "text": "around that I'm going to give you an example on the next slide um and then IM control who can modify and create tags",
    "start": "1473720",
    "end": "1480760"
  },
  {
    "text": "so that people can't edit tags so they've got access so they get access to things they shouldn't um remember we have e ec2 resource based permissions",
    "start": "1480760",
    "end": "1487000"
  },
  {
    "text": "that that allow us to actually limit who can you know access resources based on tags so um remember also that",
    "start": "1487000",
    "end": "1493480"
  },
  {
    "text": "everything's queriable via tag so I might want to query based on business unit or project ID or whatever might be",
    "start": "1493480",
    "end": "1498919"
  },
  {
    "text": "so um everything's quable via tag so that's important as well talked about resource pie permissions we'll talk",
    "start": "1498919",
    "end": "1504399"
  },
  {
    "text": "about that more also you can parse billing items you can you can parse parse billing on um tags so you can",
    "start": "1504399",
    "end": "1511360"
  },
  {
    "text": "actually pivot your data you can actually download have your all your your billing data push to S3 with the tags on it and then you can actually",
    "start": "1511360",
    "end": "1517440"
  },
  {
    "text": "pivot that data I andan there are also you know vendor tools out there or third party tools out there that allow you to do this um that allow you to go some",
    "start": "1517440",
    "end": "1523840"
  },
  {
    "text": "things up based on tag ID so you can go do chargeback and things like that",
    "start": "1523840",
    "end": "1528960"
  },
  {
    "text": "so here' be an example of tagging you know this is just some basic tags I put on my VPC but this these can go on subnets and all sorts of resources um",
    "start": "1528960",
    "end": "1535679"
  },
  {
    "text": "but I you know I named my my uh VPC um uh you know said the business units core",
    "start": "1535679",
    "end": "1542279"
  },
  {
    "text": "engineering my environments production my project IDE is 1 2 3 456 if I wanted to go and find out at the end of the the",
    "start": "1542279",
    "end": "1548840"
  },
  {
    "text": "the month all the things that were 1 2 3 4 56 I could go pull all the ec2 instances all the EBS in you know",
    "start": "1548840",
    "end": "1554520"
  },
  {
    "text": "charges and all that stuff and sum it up and again do chargeback and further I can actually you know do some ec2",
    "start": "1554520",
    "end": "1559960"
  },
  {
    "text": "resource based permissions on that as well which leads me to my next set of",
    "start": "1559960",
    "end": "1565279"
  },
  {
    "text": "slides use IM to Define and enforce a vpc's operational state so um you can",
    "start": "1565279",
    "end": "1571120"
  },
  {
    "text": "build security into IM users roles and groups at the resource level this list is always growing of services that",
    "start": "1571120",
    "end": "1576360"
  },
  {
    "text": "accommodate that and resources that in the ec2 pool that that accommodate that it's pretty close to being pervasive at",
    "start": "1576360",
    "end": "1582559"
  },
  {
    "text": "this point um but you know an example easy to run instance API call supports",
    "start": "1582559",
    "end": "1587880"
  },
  {
    "text": "research level permissions um around a wide variety of controls and you know you can specify exactly what can be",
    "start": "1587880",
    "end": "1594080"
  },
  {
    "text": "launched where using these permissions so some examples would be um I've got a Dev IM group and you can only launch it",
    "start": "1594080",
    "end": "1601440"
  },
  {
    "text": "that can only launch instances into the tagged environment equal Dev VPC or you",
    "start": "1601440",
    "end": "1606559"
  },
  {
    "text": "know some something similar for prod maybe I can only launch things with a an Ami labeled prod or tagged as PR in my",
    "start": "1606559",
    "end": "1613240"
  },
  {
    "text": "prod VPC so I can I can build rule sets like that around or policies around that and then attach those to to users groups",
    "start": "1613240",
    "end": "1619640"
  },
  {
    "text": "or roles inside of IM am and here would be an example of such a policy here um",
    "start": "1619640",
    "end": "1627120"
  },
  {
    "text": "this policy um locks things down to um users um only being able to launch",
    "start": "1627120",
    "end": "1633360"
  },
  {
    "text": "things in a particular subnet with a particular Security Group so maybe my my security team help me Define my security",
    "start": "1633360",
    "end": "1639720"
  },
  {
    "text": "policies my security groups I lock down controls over who can access those and edit those and then I give my users",
    "start": "1639720",
    "end": "1645600"
  },
  {
    "text": "access to only launch in a particular Subnet in prod with a particular Security Group and I may even have a",
    "start": "1645600",
    "end": "1650640"
  },
  {
    "text": "particular army or I may even have an army that's tagged as prod Army like we talked about in the last slide so um",
    "start": "1650640",
    "end": "1658000"
  },
  {
    "text": "there's a good article it's called demystifying ECT resource level permissions there's a link to it on here",
    "start": "1658000",
    "end": "1663200"
  },
  {
    "text": "these slides will be made available um after reinvent so you can find that link and if you just um Google that that",
    "start": "1663200",
    "end": "1669519"
  },
  {
    "text": "you'll find that you'll find the article okay so um how do I access the",
    "start": "1669519",
    "end": "1676440"
  },
  {
    "text": "inter internet for my VPC or how do I access public endpoints like S3 for my VPC um so there's a few things",
    "start": "1676440",
    "end": "1684159"
  },
  {
    "text": "first you know should I back haul through my own corporate Network out my own corporate firewall to get to you",
    "start": "1684159",
    "end": "1689679"
  },
  {
    "text": "know things like S3 or or to um the public internet maybe we'll talk a little more about that um we'll also",
    "start": "1689679",
    "end": "1695480"
  },
  {
    "text": "talk about public route with a public IP using Gat and then making Gat highly available and scaling out your Gat is",
    "start": "1695480",
    "end": "1701880"
  },
  {
    "text": "something in all in the back of the room is going to talk about in the session after this so I'd recommend you stick around that'll be a very good session as",
    "start": "1701880",
    "end": "1707880"
  },
  {
    "text": "well uh so first off do you want to do",
    "start": "1707880",
    "end": "1713240"
  },
  {
    "text": "this so this would be back hauling through your own firewall at your own VP or your own corporate data center and",
    "start": "1713240",
    "end": "1719279"
  },
  {
    "text": "you know I just wanted to call out you know the use case so let's say your your corporate data center is in Chicago and",
    "start": "1719279",
    "end": "1724960"
  },
  {
    "text": "your VPC is in US West Oregon and um you've got 50 milliseconds across your",
    "start": "1724960",
    "end": "1730159"
  },
  {
    "text": "VPN on average um and you want to go put and get things out of S3 quite often um",
    "start": "1730159",
    "end": "1735399"
  },
  {
    "text": "your your your your apps need to get grab files out of s 3 you got to go all the way back through your own corporate",
    "start": "1735399",
    "end": "1740679"
  },
  {
    "text": "firewall 50 milliseconds then probably 50 or 60 milliseconds across the internet back to S3 then 50 or 60",
    "start": "1740679",
    "end": "1746679"
  },
  {
    "text": "milliseconds back and then 50 milliseconds back to your instances you're talking about 220 milliseconds",
    "start": "1746679",
    "end": "1751880"
  },
  {
    "text": "let's say you're doing a lot of traffic back and forth to to S3 is that a good is that a good",
    "start": "1751880",
    "end": "1757080"
  },
  {
    "text": "pattern probably not you know I would say you know you might be hogging your internet connection as well I mean why",
    "start": "1757080",
    "end": "1762880"
  },
  {
    "text": "not use aws's internet connection inside of an a it's free you know I mean better better p there so um you know a lot of",
    "start": "1762880",
    "end": "1770000"
  },
  {
    "text": "people at first don't want to necessarily open up their VPC to the public internet they may have security concerns they may not be vetted yet you",
    "start": "1770000",
    "end": "1775440"
  },
  {
    "text": "know with their security teams so this might be the where you start but this is probably not your endgame that would be",
    "start": "1775440",
    "end": "1780679"
  },
  {
    "text": "my my thought so I really like this pattern I actually tell all my customers",
    "start": "1780679",
    "end": "1786000"
  },
  {
    "text": "this is a great place to start um you know especially if you're doing a lot of traffic back and forth to um S3 which is",
    "start": "1786000",
    "end": "1792519"
  },
  {
    "text": "a very common use case I mean applications are putting things putting objects in S3 getting things out of 3",
    "start": "1792519",
    "end": "1798640"
  },
  {
    "text": "processing things in S3 and putting them back you know especially if you're doing big data inside of your VPC I mean you're going to be going back and forth",
    "start": "1798640",
    "end": "1803799"
  },
  {
    "text": "a lot and you might say well I'm going to define a public route for my my Subnet out to the public internet I'm",
    "start": "1803799",
    "end": "1809000"
  },
  {
    "text": "going to give all my instances public IPS wow I don't want to do that that's crazy well um it's not really that crazy",
    "start": "1809000",
    "end": "1816360"
  },
  {
    "text": "you know really if you think about this with security groups I can say I don't want any inbound access to my instances",
    "start": "1816360",
    "end": "1821799"
  },
  {
    "text": "in there I can lock down my security groups so nobody can edit those then when I launch instances I can force people to use that Security Group I sign",
    "start": "1821799",
    "end": "1828159"
  },
  {
    "text": "a public IP and now nothing can reach my instance because there's no inbound access allowed through my firewall but",
    "start": "1828159",
    "end": "1834559"
  },
  {
    "text": "I'm allowing outbound access to S3 with a stateful response so you know quite",
    "start": "1834559",
    "end": "1839799"
  },
  {
    "text": "safe actually right and you know this is this is a common thing that people are concerned with but this is actually a really good pattern so anyway here's an",
    "start": "1839799",
    "end": "1846320"
  },
  {
    "text": "example of that um the other one that people use quite often is Nat a network address translation so in this case I've",
    "start": "1846320",
    "end": "1853120"
  },
  {
    "text": "got instances in private subnets and I don't want to expose these to an internet connection um how do I",
    "start": "1853120",
    "end": "1858519"
  },
  {
    "text": "accomplish this so you know you find the Ami to deploy an ad instance you launch it in a subnet that has access with a",
    "start": "1858519",
    "end": "1864919"
  },
  {
    "text": "route to the internet gateway you assign an EIP an elastic IP address or a public IP address then you disable Source",
    "start": "1864919",
    "end": "1871639"
  },
  {
    "text": "destination checking what does that mean what that means is I'm disabling the check that requires that ec2 instance to",
    "start": "1871639",
    "end": "1878360"
  },
  {
    "text": "check that it's the destination of a packet in the case of aat I want to send my packets up to the internet theat is",
    "start": "1878360",
    "end": "1884399"
  },
  {
    "text": "not the endpoint so I disable that checking so the net doesn't like like throw an air hey I'm not the destination of that packet something's wrong here um",
    "start": "1884399",
    "end": "1891080"
  },
  {
    "text": "so I've got the ability to to to um disable that on the N instance and then um after that I create a default route",
    "start": "1891080",
    "end": "1897840"
  },
  {
    "text": "for my from my private subnet to the NAD instance and now all my instances can do a stateful request through the NAD",
    "start": "1897840",
    "end": "1903480"
  },
  {
    "text": "instance out to the internet and get a state for response but none of those instances are publicly addressable and further I can go take my net and say I",
    "start": "1903480",
    "end": "1910600"
  },
  {
    "text": "don't want any inbound traffic allowed from the internet to my natat so again I doing what I did in the last talk or in the last slide and then lastly let's say",
    "start": "1910600",
    "end": "1918240"
  },
  {
    "text": "I'm only using the Gat for updating patches and things like that um maybe I",
    "start": "1918240",
    "end": "1924000"
  },
  {
    "text": "just turn the natat off in between patching you know uh I could do that as well and then I've got nothing coming in",
    "start": "1924000",
    "end": "1929279"
  },
  {
    "text": "through the public internet into my VPC um while I'm not patching and then if I want to patch I go start the N up let it",
    "start": "1929279",
    "end": "1934600"
  },
  {
    "text": "boot I can go hit the You Know download patches and so on um and you know it's good it's a good pattern so um yanal is",
    "start": "1934600",
    "end": "1941760"
  },
  {
    "text": "going to talk much more about how to make this highly available um in the next talk and he's also going to talk more about how you scale out in that so",
    "start": "1941760",
    "end": "1948080"
  },
  {
    "text": "let's say you're running something in your private tier you don't want to have access to the public internet and you want to be able to scale out that that",
    "start": "1948080",
    "end": "1953600"
  },
  {
    "text": "tier so it can actually do massive throughput to things like S3 that's going to be something in the next",
    "start": "1953600",
    "end": "1959360"
  },
  {
    "text": "talk so how do I connect my VPC to my own data centers you know one of the keys to running a hybrid app and hybrid",
    "start": "1959360",
    "end": "1966200"
  },
  {
    "text": "architecture is having private connectivity um to your VPC so how do you do this um vpn's typically the way",
    "start": "1966200",
    "end": "1972240"
  },
  {
    "text": "to start um you're going to start with redundant IPC tunnels um this supports bgp and static",
    "start": "1972240",
    "end": "1978840"
  },
  {
    "text": "routing and you can actually set up redundant customer gateways so um you know essentially that's going to allow",
    "start": "1978840",
    "end": "1984240"
  },
  {
    "text": "you to have a a redundant Gateway on your end of the connection so um let's take a look at that so this would be a",
    "start": "1984240",
    "end": "1989320"
  },
  {
    "text": "single VPN connection here and notice that it actually has access to both availability",
    "start": "1989320",
    "end": "1994600"
  },
  {
    "text": "zones so um essentially you're not actually tying up a VPN connection to one a you're actually tying it into the",
    "start": "1994600",
    "end": "2000200"
  },
  {
    "text": "region and that region now has the ability to talk to all the different availability zones in the region so over",
    "start": "2000200",
    "end": "2005720"
  },
  {
    "text": "that VPN your your data center can talk to all the AES um and you can also have multiple VPN connections so this is a",
    "start": "2005720",
    "end": "2011600"
  },
  {
    "text": "great pattern as well each of your your each each of your data centers has access to the VPC as well and now you're",
    "start": "2011600",
    "end": "2017799"
  },
  {
    "text": "not bringing everything across your own private Network and through a single VPN connection no bottlenecks less choke points single point of failure issues",
    "start": "2017799",
    "end": "2025279"
  },
  {
    "text": "and all that so so this would be another use case so what does it really look like this would be an example of um",
    "start": "2025279",
    "end": "2033000"
  },
  {
    "text": "redundant Tunnels for your VPN connection um so we have two VPN endpoints in each region and you will",
    "start": "2033000",
    "end": "2039880"
  },
  {
    "text": "terminate tunnels to each one of those VPN end points and we always recommend use a bgp capable device so when",
    "start": "2039880",
    "end": "2046039"
  },
  {
    "text": "possible so um you can use static but bgp capable when possible and that offers you the ability to detect failure",
    "start": "2046039",
    "end": "2052560"
  },
  {
    "text": "and fail over from tunnel one and tunnel two quite easily um you know devices that don't support bgp some of them",
    "start": "2052560",
    "end": "2058158"
  },
  {
    "text": "support Health checking and some you know things like that but that's really going to come down to the device manufacturer and so on so um this would",
    "start": "2058159",
    "end": "2064720"
  },
  {
    "text": "be an example of um redundant tunnels so that if tunnel one goes down you fail over to Tunnel two and your application",
    "start": "2064720",
    "end": "2070599"
  },
  {
    "text": "is still able to talk back and forth um you also have the ability to run redundant customer gateways um you can",
    "start": "2070599",
    "end": "2077599"
  },
  {
    "text": "run these redundant gateways in your own network environment with dual customer gateways using a protocol like vrrp or",
    "start": "2077599",
    "end": "2083839"
  },
  {
    "text": "hsrp um which provides a default or a tolerant default gateway on your end and",
    "start": "2083839",
    "end": "2088960"
  },
  {
    "text": "then of course you'd use bgp to choose tunnels back and forth or provide routes to AWS as to the the tunnel preferences",
    "start": "2088960",
    "end": "2095320"
  },
  {
    "text": "and so on from each router on our end so um this would be an example of redundant customer",
    "start": "2095320",
    "end": "2101800"
  },
  {
    "text": "gateways so how many how many vpcs do you need um this topic is going to be",
    "start": "2101800",
    "end": "2107640"
  },
  {
    "text": "covered in depth in the next talk so I'm just going to touch on a few um points here you know maybe you've got distinct",
    "start": "2107640",
    "end": "2113040"
  },
  {
    "text": "application Stacks with little or no dependencies and you want to put them in separate vpcs um you know ec2 resource",
    "start": "2113040",
    "end": "2119119"
  },
  {
    "text": "based permissions doesn't segregate everything so you know maybe there are some reasons why um you want to um put",
    "start": "2119119",
    "end": "2124480"
  },
  {
    "text": "things in different vpcs and potentially different accounts um you know um potentially you want to have your your",
    "start": "2124480",
    "end": "2130280"
  },
  {
    "text": "public apps running in a different you know VPC or different account than another set of private apps um you know",
    "start": "2130280",
    "end": "2136320"
  },
  {
    "text": "limit blast radius those sorts of things so um many different reasons why you might want to actually have multiple",
    "start": "2136320",
    "end": "2142240"
  },
  {
    "text": "vpcs and multiple accounts and you all is going to touch on different use cases for that in the next",
    "start": "2142240",
    "end": "2147599"
  },
  {
    "text": "Talk use peering to connect your vpcs together so if I've got multiple vpcs how do these vpcs talk to each other um",
    "start": "2147599",
    "end": "2155079"
  },
  {
    "text": "you know not too long ago you would have done that with you know either SSL search between the vpcs through the public internet gateway or via VPN",
    "start": "2155079",
    "end": "2162480"
  },
  {
    "text": "connections between your vpcs but you don't have to do that anymore now you can actually use VPC peering and it",
    "start": "2162480",
    "end": "2169040"
  },
  {
    "text": "allows you to peer vpcs within the same region they don't have to be in the same account you can have different accounts",
    "start": "2169040",
    "end": "2174640"
  },
  {
    "text": "and um one thing the IP spaces cannot overlap they've got to be different IP spaces you set up the ping connection",
    "start": "2174640",
    "end": "2180079"
  },
  {
    "text": "between vpcs one VPC does a request the other one accepts it then you need to open up routes so the two can talk to",
    "start": "2180079",
    "end": "2186000"
  },
  {
    "text": "each other over the pering connection and lastly you want to actually make sure your security groups don't block",
    "start": "2186000",
    "end": "2191400"
  },
  {
    "text": "that traffic on either end and now you can talk over those over that peering link and there's no bottle no no",
    "start": "2191400",
    "end": "2196520"
  },
  {
    "text": "bottlenecks no single points of failure um so this is a a great architecture for talking between VPC you can talk at at",
    "start": "2196520",
    "end": "2202240"
  },
  {
    "text": "high bandwidth between these so at some point um you might look",
    "start": "2202240",
    "end": "2208960"
  },
  {
    "text": "at production prod sorry productionizing your apps inside of AWS or moving large",
    "start": "2208960",
    "end": "2214400"
  },
  {
    "text": "amounts of data back and forth and you you need to move to that next level so you know here's where Direct Connect comes in you actually um can use a",
    "start": "2214400",
    "end": "2221760"
  },
  {
    "text": "private network connection that bypasses the public internet some kind of a private circuit um that actually links",
    "start": "2221760",
    "end": "2226839"
  },
  {
    "text": "your data center up with AWS so many reasons why customers choose to use Direct Connect could be you know Network",
    "start": "2226839",
    "end": "2232560"
  },
  {
    "text": "latency Jitter better performance more consistent performance um or potentially",
    "start": "2232560",
    "end": "2237680"
  },
  {
    "text": "cost and we'll talk more about costs coming up there are also two different scenarios there's the direct connect",
    "start": "2237680",
    "end": "2243319"
  },
  {
    "text": "from Colo to direct connect pop site so let's say you're Colo and a direct connect pop um how does that work well",
    "start": "2243319",
    "end": "2249119"
  },
  {
    "text": "what what happens essentially you go and order a port in our Direct Connect um console 1 gig or 10 gig you get Loa CFA",
    "start": "2249119",
    "end": "2256800"
  },
  {
    "text": "back from us in 72 hours within 72 hours what that is that's a letter of authorization for Carrier facility",
    "start": "2256800",
    "end": "2263240"
  },
  {
    "text": "assignment what that means is we're giving you the authority to cross connect to us on specific ports we provisioned for you in our cage so you",
    "start": "2263240",
    "end": "2269760"
  },
  {
    "text": "take that you order the cross connect from your provider and you give them that Lo CFA which authorizes them to make a cross connect on your behalf to",
    "start": "2269760",
    "end": "2276520"
  },
  {
    "text": "AWS in a particular cage where we're located in that prop site um that would be scenario one scenario two you're in a",
    "start": "2276520",
    "end": "2282760"
  },
  {
    "text": "remote site and in this case um again you order the port you know the port and the portal um for the region you want 1",
    "start": "2282760",
    "end": "2289760"
  },
  {
    "text": "gig or 10 gig then you go order a circuit with one of our um with a telecom provider preferably one of our partners and um you order the circuit",
    "start": "2289760",
    "end": "2297359"
  },
  {
    "text": "and you give them that Loa CFA again that authorizes them to order the cross connect on your behalf if you are not",
    "start": "2297359",
    "end": "2303280"
  },
  {
    "text": "colled at the direct connect pop sites you cannot order the co the the cross connect on on your own you actually have",
    "start": "2303280",
    "end": "2309119"
  },
  {
    "text": "to do it through the provider the provider needs to order that for you so it's a common um misconception or mistake you know don't make that mistake",
    "start": "2309119",
    "end": "2316359"
  },
  {
    "text": "um provide the Lo CFA to your provider and they they will extend the circuit all the way to",
    "start": "2316359",
    "end": "2321800"
  },
  {
    "text": "AWS lastly you might wonder how how would cost be lower with Direct Connect",
    "start": "2321800",
    "end": "2327040"
  },
  {
    "text": "um I got to order a port I got to order a circuit I'm paying data out charges well there's a Delta between data out",
    "start": "2327040",
    "end": "2332760"
  },
  {
    "text": "over the internet from AWS and data out over direct connect if you come with your own circuit to us you're not using using our internet connection it's",
    "start": "2332760",
    "end": "2338880"
  },
  {
    "text": "cheaper so that Delta you know over terabytes of data per month you know eventually there's a break even point",
    "start": "2338880",
    "end": "2344599"
  },
  {
    "text": "where you actually have paid for your circuit your port and you're actually saving money and getting better Network performance with Direct Connect so um we",
    "start": "2344599",
    "end": "2351800"
  },
  {
    "text": "have many Direct Connect pops we just launched super switch supernap 8 in Las Vegas on Monday and um so there are 14",
    "start": "2351800",
    "end": "2359280"
  },
  {
    "text": "pops worldwide different pops take you to different primary regions um as you can see on the left or on the right",
    "start": "2359280",
    "end": "2366280"
  },
  {
    "text": "excuse me um what that means is that that's that's the region where where this pop gives you private connectivity",
    "start": "2366280",
    "end": "2372359"
  },
  {
    "text": "to your VPC with a VLAN a private VLAN that you can extend over that physical circuit um to the particular VPC or vpcs",
    "start": "2372359",
    "end": "2379200"
  },
  {
    "text": "in your region um you can always in the US hit other AWS regions publicly over",
    "start": "2379200",
    "end": "2384240"
  },
  {
    "text": "our public transit backbone but you cannot extend a VLAN privately you could do a VPN connection across that AWS",
    "start": "2384240",
    "end": "2391160"
  },
  {
    "text": "public transit backbone but you can't do a private VLAN um as we're going to talk about in the coming slides so",
    "start": "2391160",
    "end": "2398880"
  },
  {
    "text": "we also have many Direct Connect partners and just I wanted to dispose of a myth here as well um you don't have to use a partner to get to AWS um any",
    "start": "2398880",
    "end": "2406599"
  },
  {
    "text": "Telecom provider that can provide the right requirements on your your your network circuit um can get you to AWS if",
    "start": "2406599",
    "end": "2412359"
  },
  {
    "text": "they can get you from your your your direct connect or the direct connect pop to your data center and they can build you a 1 gig or 10 gig circuit you know",
    "start": "2412359",
    "end": "2418960"
  },
  {
    "text": "you can order Direct Connect from them the the thing is they might not understand the process how lo CFA Works",
    "start": "2418960",
    "end": "2424040"
  },
  {
    "text": "how you extend the circuit to the AWS Colo um or cage and so sometimes there can be a little bit more confusion so",
    "start": "2424040",
    "end": "2429720"
  },
  {
    "text": "that's why it's good to use a partner but you know if you're if you're trying to add AWS VPC to your MLS ipvpn Network",
    "start": "2429720",
    "end": "2437400"
  },
  {
    "text": "and it's not one of our partners I mean you know there's good reason to to you know use somebody else so",
    "start": "2437400",
    "end": "2443520"
  },
  {
    "text": "um wanted to talk about a couple different types of direct connect hosted versus dedicated so I've been talking to",
    "start": "2443520",
    "end": "2449240"
  },
  {
    "text": "you about dedicated Direct Connect here and there's also this other type of direct connect called hosted Direct Connect and um this is where you know",
    "start": "2449240",
    "end": "2456200"
  },
  {
    "text": "like the dedicated is where you order the 1 gig or 10 gig Port from us and then you know you order a circuit that's extended to that Port um with hosted",
    "start": "2456200",
    "end": "2462960"
  },
  {
    "text": "you've got Telecom carriers or Partners there's a couple of Partners out there that are doing this right now today that um have already gone and built out",
    "start": "2462960",
    "end": "2469760"
  },
  {
    "text": "networks to all the different AWS Direct Connect pops and they've bought big ports from us and what simply what",
    "start": "2469760",
    "end": "2475880"
  },
  {
    "text": "you're doing is you're buying a a ethernet circuit from them and you're having them extend that to through one of their ports logically into the AWS",
    "start": "2475880",
    "end": "2482200"
  },
  {
    "text": "Cloud that's essentially what hosted is and what's nice about it is you can start at a 50 megabit per second circuit",
    "start": "2482200",
    "end": "2488200"
  },
  {
    "text": "and scale that all the way up to 500 megabits per second so you can you can increment that circuit and order it in 50 50 megabit per second increments so",
    "start": "2488200",
    "end": "2495400"
  },
  {
    "text": "you don't have to start at one gig um and and it's hosted it's all taken care of for",
    "start": "2495400",
    "end": "2500440"
  },
  {
    "text": "you um there's also many different types of direct connect just point too Direct Connect um things like wavelengths",
    "start": "2500440",
    "end": "2507720"
  },
  {
    "text": "private lines ethernet virtual private line there's also things like full mesh ipvpn or vpls over NLS these",
    "start": "2507720",
    "end": "2514839"
  },
  {
    "text": "Technologies also are available for Direct Connect termination so um here's some examples um you know why would you",
    "start": "2514839",
    "end": "2521000"
  },
  {
    "text": "want to use one over the other well point to point you know let's say you're moving massive amounts of data back and forth from your data center to Amazon",
    "start": "2521000",
    "end": "2526920"
  },
  {
    "text": "web services VPC or something like that um you know you know Point too circuit's going to be great it's the best bang for",
    "start": "2526920",
    "end": "2532280"
  },
  {
    "text": "your buck in terms of cost per bit um you're going to get the most data movement from it and so on MLS or ipvpn",
    "start": "2532280",
    "end": "2538599"
  },
  {
    "text": "costs quite a bit more per bit but let's say you've got 100 sites on your network and they all want to talk to private",
    "start": "2538599",
    "end": "2543640"
  },
  {
    "text": "apps that are running in AWS do you want to backhaul them through your corporate data center or do you want them all to",
    "start": "2543640",
    "end": "2548680"
  },
  {
    "text": "talk over your your you know qos um you know based ipvpn Network out to AWS you",
    "start": "2548680",
    "end": "2554559"
  },
  {
    "text": "know might be might be a better a better topology for you or a better Network architecture for you um and I can also",
    "start": "2554559",
    "end": "2559960"
  },
  {
    "text": "see hybrid scenarios where you might have a point-to-point from your data center you might have uh an ipvpn",
    "start": "2559960",
    "end": "2565599"
  },
  {
    "text": "circuit you know going out that all all your private app connectivity goes over for all your your lands sites and then",
    "start": "2565599",
    "end": "2570800"
  },
  {
    "text": "lastly one might use the other one for backup all right so there's also some",
    "start": "2570800",
    "end": "2576720"
  },
  {
    "text": "simpli that can be achieved with using Direct Connect so instead of running multiple VPN connections over over the",
    "start": "2576720",
    "end": "2582880"
  },
  {
    "text": "public internet to each VPC Direct Connect could be used to consolidate connections um and you know like you can",
    "start": "2582880",
    "end": "2588599"
  },
  {
    "text": "see over over this physical connection here we've got um five um private",
    "start": "2588599",
    "end": "2594720"
  },
  {
    "text": "virtual interfaces and one public virtual interface going out to the AWS public endpoint so so um so I have",
    "start": "2594720",
    "end": "2601040"
  },
  {
    "text": "consoled what would have been four VPN connections down into one physical trunk and vlans running out um to each one of",
    "start": "2601040",
    "end": "2608000"
  },
  {
    "text": "my vpcs that have extended out to the VPN Gateway um so there's some simplification can be done there as",
    "start": "2608000",
    "end": "2614359"
  },
  {
    "text": "well all right so um last Point here um use AWS Marketplace for networking and",
    "start": "2614359",
    "end": "2621240"
  },
  {
    "text": "security software needs so um there are many software vendors and Hardware",
    "start": "2621240",
    "end": "2626599"
  },
  {
    "text": "vendors that have gone and created images with their best practices baked into that image out in our Marketplace",
    "start": "2626599",
    "end": "2632119"
  },
  {
    "text": "um many networking vendors I actually did a search here on firewall and you can see um you know you a variety of",
    "start": "2632119",
    "end": "2637640"
  },
  {
    "text": "firewall vendors that are available with their software baked into an image that can run on ec2 and the marketplace gives",
    "start": "2637640",
    "end": "2643400"
  },
  {
    "text": "you the ability to launch these one click and pay by the hour for that software um and there's many different",
    "start": "2643400",
    "end": "2649000"
  },
  {
    "text": "types of software out there web application firewalls um intrusion detection and prevention um Cloud",
    "start": "2649000",
    "end": "2654440"
  },
  {
    "text": "routers and all sorts of other applications bi analytics you name it sap Hana so check out what's available",
    "start": "2654440",
    "end": "2660440"
  },
  {
    "text": "out in the marketplace um I wanted to leave you with a couple other sessions to attend so um coming up in here is",
    "start": "2660440",
    "end": "2666440"
  },
  {
    "text": "from 1 to men evolving VPC design and um multi VPC",
    "start": "2666440",
    "end": "2671680"
  },
  {
    "text": "architectures um ha um scaling outat and many other Advanced topics are going to",
    "start": "2671680",
    "end": "2676920"
  },
  {
    "text": "be in that session so this is kind of the warm-up for that session um also uh tomorrow um another counter part of mine",
    "start": "2676920",
    "end": "2683680"
  },
  {
    "text": "Steve Morad is going to be offering something called Black Belt networking for the cloud ninja which is going to talk about Network Automation and",
    "start": "2683680",
    "end": "2689079"
  },
  {
    "text": "advanced tagging patterns um cross region peering manipulating IPS multicast overlapping networks network",
    "start": "2689079",
    "end": "2695720"
  },
  {
    "text": "monitoring and more so um that'd be another good session to talk you to attend tomorrow at 11:00 a.m. and thanks",
    "start": "2695720",
    "end": "2703200"
  },
  {
    "text": "everyone for coming I really appreciate your attendance don't forget to provide feedback that's important to all of us",
    "start": "2703200",
    "end": "2708559"
  },
  {
    "text": "thanks again thanks",
    "start": "2708559",
    "end": "2715960"
  }
]