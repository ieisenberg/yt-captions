[
  {
    "text": "hello everyone in this lesson I'm going to teach you how you can create a trust relationship between your on premise",
    "start": "760",
    "end": "7520"
  },
  {
    "text": "active directory and the cloud act directory my name is shant atanaya and I'm a partner solution architect at",
    "start": "7520",
    "end": "13960"
  },
  {
    "text": "Amazon web services in the first part of the presentation I'm going to tell you how",
    "start": "13960",
    "end": "19400"
  },
  {
    "text": "you can create your lab setup and configure your network uh then I'm going to walk you through the uh configuration",
    "start": "19400",
    "end": "26599"
  },
  {
    "text": "that you need to make in your Cloud environment uh how you can create a managed active directory in the cloud uh",
    "start": "26599",
    "end": "34320"
  },
  {
    "text": "then I'm going to walk you through the uh configuration that you need to make on your on premise active directory and",
    "start": "34320",
    "end": "40160"
  },
  {
    "text": "how you can create a trust relationship between on premise ad and Cloud active",
    "start": "40160",
    "end": "45280"
  },
  {
    "text": "directory uh finally I'm going to uh walk you through a testing scenario where a user in the cloud act directory",
    "start": "45280",
    "end": "52719"
  },
  {
    "text": "accessing Assets in the on premise active directory and uh case where uh",
    "start": "52719",
    "end": "58600"
  },
  {
    "text": "user in the on premise active directory accessing Assets in Cloud active directory so let's get",
    "start": "58600",
    "end": "66479"
  },
  {
    "text": "started I'm going to describe you how the network setup looks like um in the",
    "start": "68200",
    "end": "73680"
  },
  {
    "text": "first case uh we have this um fictional company the famous fictional company that we use to describe Microsoft",
    "start": "73680",
    "end": "80520"
  },
  {
    "text": "related Technologies called contoso.com Uh set up in uh uh an address space",
    "start": "80520",
    "end": "87400"
  },
  {
    "text": "called 192168 16 so this network represents your",
    "start": "87400",
    "end": "93680"
  },
  {
    "text": "corporate data center and in this corporate data center uh in this network I have uh put uh one domain controller",
    "start": "93680",
    "end": "101680"
  },
  {
    "text": "with the IP address 1921 68110 so this represents your cooperate",
    "start": "101680",
    "end": "107119"
  },
  {
    "text": "data center in the cloud site uh we have this fictional company called fabric",
    "start": "107119",
    "end": "112399"
  },
  {
    "text": "cam.com it's also another famous fictional company that we use to describe Microsoft Technologies um so",
    "start": "112399",
    "end": "120280"
  },
  {
    "text": "here we have uh set up a virtual private Cloud VPC with the address space 10",
    "start": "120280",
    "end": "127479"
  },
  {
    "text": "000016 and in this VPC we have set up two availability SS marked in Orange",
    "start": "127479",
    "end": "132760"
  },
  {
    "text": "dotted lines uh and uh in one availability on I have set up a managed",
    "start": "132760",
    "end": "138120"
  },
  {
    "text": "version of Microsoft active directory and in the second uh subnet over here I",
    "start": "138120",
    "end": "144680"
  },
  {
    "text": "have set up another managed version of the domain controller uh in this subnet",
    "start": "144680",
    "end": "151400"
  },
  {
    "text": "uh and in the third subnet I have created an ec2 instance what I'm going",
    "start": "151400",
    "end": "156640"
  },
  {
    "text": "to do is to domain join this E2 instance into uh into the fabric.com uh domain",
    "start": "156640",
    "end": "164800"
  },
  {
    "text": "which is kept in these two domain controllers uh these two domain controllers are in designed in a highly",
    "start": "164800",
    "end": "171360"
  },
  {
    "text": "available uh fashion uh so that one fails the other is available uh of",
    "start": "171360",
    "end": "176480"
  },
  {
    "text": "course before we are going to create trust between Fabric and and contoso.com uh we need to have Network traffic",
    "start": "176480",
    "end": "183840"
  },
  {
    "text": "flowing between these two networks uh you can do it through uh VPN connection",
    "start": "183840",
    "end": "189400"
  },
  {
    "text": "or um if you want to establish it with a FAS connection you can use uh uh one of",
    "start": "189400",
    "end": "196120"
  },
  {
    "text": "our call location partners and establish a direct connect between um cloud and",
    "start": "196120",
    "end": "201360"
  },
  {
    "text": "your un premise network if you are going to do this one in a cloud environment like what I'm doing right now uh you can",
    "start": "201360",
    "end": "207799"
  },
  {
    "text": "also create uh two VPC uh one to represent fabric.com and another to",
    "start": "207799",
    "end": "213080"
  },
  {
    "text": "represent contoso.com and then create a VPC peering connection between these two",
    "start": "213080",
    "end": "218400"
  },
  {
    "text": "networks so that you can create um some kind of a uh Network traffic uh to flow",
    "start": "218400",
    "end": "225680"
  },
  {
    "text": "between these two networks um the best way to try this one is to set up a VPN",
    "start": "225680",
    "end": "231080"
  },
  {
    "text": "uh connection if you like um so that's about the network setup um and hope you",
    "start": "231080",
    "end": "237239"
  },
  {
    "text": "get an idea so go through this network diagram in the coming section you need to refer",
    "start": "237239",
    "end": "242360"
  },
  {
    "text": "to this uh to know how I'm going to install different software and establish the trust between these two uh uh",
    "start": "242360",
    "end": "251439"
  },
  {
    "text": "domains I have created one uh VPC called faam uh with the cider 10",
    "start": "252280",
    "end": "260560"
  },
  {
    "text": "006 and uh it has four subnets uh that's goes like 1 2 3 4 uh",
    "start": "260759",
    "end": "269240"
  },
  {
    "text": "and the first first two are private and the the other two are public so if you",
    "start": "269240",
    "end": "274360"
  },
  {
    "text": "look at the uh routing table uh you can find that the uh they all can route",
    "start": "274360",
    "end": "280960"
  },
  {
    "text": "between these two side block right um",
    "start": "280960",
    "end": "286759"
  },
  {
    "text": "106 and 1 1921 16806 um so this is the on premise uh",
    "start": "286759",
    "end": "294680"
  },
  {
    "text": "the side block and this is the cloud side block so they all can route in",
    "start": "294680",
    "end": "299880"
  },
  {
    "text": "between uh the um on premise and the cloud I'm in my um directory Service uh",
    "start": "299880",
    "end": "308840"
  },
  {
    "text": "section of the AWS console I click here and uh I'm going to create a new",
    "start": "308840",
    "end": "314720"
  },
  {
    "text": "Microsoft managed active directory so I click here uh I'm going to name this uh",
    "start": "314720",
    "end": "321080"
  },
  {
    "text": "domain as fabric cam uh fabric",
    "start": "321080",
    "end": "327280"
  },
  {
    "text": "cam.com uh this one also fabri cam uh I'm going to put a",
    "start": "327280",
    "end": "335120"
  },
  {
    "text": "password um so this is the domain for uh fabric",
    "start": "337000",
    "end": "344319"
  },
  {
    "text": "cam.com uh the VPC I'm going to select is this um Fab cam",
    "start": "344319",
    "end": "350199"
  },
  {
    "text": "VPC um and I'm going to uh select the subnet the two private",
    "start": "350199",
    "end": "356160"
  },
  {
    "text": "subnets uh private one and private two",
    "start": "356160",
    "end": "361639"
  },
  {
    "text": "so the side block for that one is 101 024",
    "start": "364240",
    "end": "369520"
  },
  {
    "text": "10224 so next step is to create it uh create Microsoft ad it will take some",
    "start": "369520",
    "end": "376080"
  },
  {
    "text": "time to create this uh active directory and after that I'll come back and then",
    "start": "376080",
    "end": "381800"
  },
  {
    "text": "pause the video for a while and then showcase what other setup that you need to make so I'm in my uh AWS console for the",
    "start": "381800",
    "end": "390400"
  },
  {
    "text": "um active directory um so after a while the uh active directory the manage",
    "start": "390400",
    "end": "395440"
  },
  {
    "text": "active directory uh is created uh if you go to the properties you can see that um the vpc's fabric Cam and it's the active",
    "start": "395440",
    "end": "402360"
  },
  {
    "text": "directory domain controllers are put in two uh subnets um if I go into this uh",
    "start": "402360",
    "end": "409400"
  },
  {
    "text": "you can find the DNS address of the two uh domain controllers that uh were",
    "start": "409400",
    "end": "415400"
  },
  {
    "text": "provisioned so we need to take a note of these two uh because uh we'll be setting",
    "start": "415400",
    "end": "421160"
  },
  {
    "text": "up our VPC to use these DNS uh addresses to resolve it uh the DNS all the",
    "start": "421160",
    "end": "428080"
  },
  {
    "text": "machines that have been provisioned to uh the VPC when the managed version of the",
    "start": "428080",
    "end": "434560"
  },
  {
    "text": "active directory is created uh it is given an ID called directory",
    "start": "434560",
    "end": "440240"
  },
  {
    "text": "ID uh there are two machines being provisioned here uh with these two",
    "start": "440240",
    "end": "446319"
  },
  {
    "text": "addresses and they they are putting into a special security group that starts with this ID so what I'm going to do is",
    "start": "446319",
    "end": "453160"
  },
  {
    "text": "to go to go to my ec2 uh console and then search for the security",
    "start": "453160",
    "end": "458319"
  },
  {
    "text": "groups and then search for this special ID",
    "start": "458319",
    "end": "463400"
  },
  {
    "text": "um so this Security Group is the security group of the two active",
    "start": "463400",
    "end": "470280"
  },
  {
    "text": "directory controllers that were created at part of as part of this um uh",
    "start": "470280",
    "end": "477720"
  },
  {
    "text": "provisioning of the manage directories uh I need to set up some inbound rules",
    "start": "477720",
    "end": "482800"
  },
  {
    "text": "um so these are very specific that Target the um uh the VPC that we created uh you can",
    "start": "482800",
    "end": "491360"
  },
  {
    "text": "go into details and provision the exact uh uh the port ranges uh to the on",
    "start": "491360",
    "end": "497800"
  },
  {
    "text": "premises one uh that's good but because of this this is a demo I'm going to",
    "start": "497800",
    "end": "503319"
  },
  {
    "text": "allow um some traffic uh pretty much all the traffic from the net nwork 10",
    "start": "503319",
    "end": "511440"
  },
  {
    "text": "0 and I'm going to add another uh rule that allows all traffic between my on",
    "start": "511440",
    "end": "518399"
  },
  {
    "text": "premises uh 192168",
    "start": "518399",
    "end": "524399"
  },
  {
    "text": "0.016 right um so you need to have the traffic between the um active directory",
    "start": "524920",
    "end": "531000"
  },
  {
    "text": "controllers and the on premises Network um this is a demo and that's why pretty",
    "start": "531000",
    "end": "537519"
  },
  {
    "text": "much opening up all the traffic uh but there's a best practice guide that tells you what exact ports that you need to",
    "start": "537519",
    "end": "543760"
  },
  {
    "text": "open and what uh traffics that you are allowed in between the active directory",
    "start": "543760",
    "end": "548800"
  },
  {
    "text": "uh and the other networks for the moment we just set it up because it makes our life easy uh click",
    "start": "548800",
    "end": "555240"
  },
  {
    "text": "save um so we have set up the uh outbound rules sorry inbound rules uh",
    "start": "555240",
    "end": "562160"
  },
  {
    "text": "but if you look at the outbound rules you can pretty much see that uh the uh the traffic is only from the security",
    "start": "562160",
    "end": "569040"
  },
  {
    "text": "groups right destination only for these security groups um what I'm going to do is to edit this and then add a rule",
    "start": "569040",
    "end": "576320"
  },
  {
    "text": "saying that I pretty much can send traffic to anywhere all",
    "start": "576320",
    "end": "581560"
  },
  {
    "text": "right um uh I'm going to spin up a new I2",
    "start": "581560",
    "end": "589160"
  },
  {
    "text": "instance um let's uh call it uh one",
    "start": "589160",
    "end": "595360"
  },
  {
    "text": "let's say to too large because it'll make the machine bit faster uh I'm going to select the fabric C I'm",
    "start": "595360",
    "end": "602959"
  },
  {
    "text": "going to launch it in the public one subnet autosign that's fine domain join",
    "start": "602959",
    "end": "609560"
  },
  {
    "text": "I can domain join directly from here uh but I'm going to Showcase you some uh",
    "start": "609560",
    "end": "616519"
  },
  {
    "text": "how you can do it manually once this U uh machine is U uh already in the subnet",
    "start": "616519",
    "end": "623839"
  },
  {
    "text": "so for the moment I'm not going to domain join I'm just going to leave it as it is um so shut down is fine at",
    "start": "623839",
    "end": "630959"
  },
  {
    "text": "storage uh next security groups um I'll select",
    "start": "630959",
    "end": "638079"
  },
  {
    "text": "um uh something like this uh that allows traffic between all the two networks",
    "start": "638079",
    "end": "643959"
  },
  {
    "text": "plus uh RDP connection to uh from uh anywhere so and",
    "start": "643959",
    "end": "651279"
  },
  {
    "text": "launch uh select my Keir um it'll take some time for it to",
    "start": "651279",
    "end": "658079"
  },
  {
    "text": "start and um so my uh instance is starting and um",
    "start": "658079",
    "end": "665120"
  },
  {
    "text": "I'll pause this video for a while and then come back when it started my instance has started and I",
    "start": "665120",
    "end": "672320"
  },
  {
    "text": "just name it as client one what I'm going to do is to connecting to this uh vbc uh to this uh ec2",
    "start": "672320",
    "end": "680120"
  },
  {
    "text": "instance so this is the uh client machine that I'm going to domain join",
    "start": "680120",
    "end": "685560"
  },
  {
    "text": "into my uh managed activ",
    "start": "685560",
    "end": "691160"
  },
  {
    "text": "um so we have this machine already in place uh let's try to First do some",
    "start": "691160",
    "end": "698320"
  },
  {
    "text": "uh uh checks uh the first check I need to do is whether I can connect into these uh",
    "start": "698320",
    "end": "705920"
  },
  {
    "text": "DNS addresses right uh so if I pin uh so this is one of the active",
    "start": "705920",
    "end": "714120"
  },
  {
    "text": "directory DC um so you can get the pin reply from that and you can ping to the other also",
    "start": "714120",
    "end": "721240"
  },
  {
    "text": "um so these are the two addresses that I got from the uh active directory manage",
    "start": "722360",
    "end": "730000"
  },
  {
    "text": "active directory page right so this is the fabric cam.com domain controller that I created so so far so good uh you",
    "start": "730000",
    "end": "737000"
  },
  {
    "text": "can find that they are working uh but there's one more thing I need to do and that's to check uh uh what's the DNS",
    "start": "737000",
    "end": "745600"
  },
  {
    "text": "server that this one is using so if I click ip config all you can find that as of now the domain name server that it's",
    "start": "745600",
    "end": "753519"
  },
  {
    "text": "using is 102 so this is the Amazon provider",
    "start": "753519",
    "end": "758920"
  },
  {
    "text": "default DNS server what we need to do is to um instead of using this uh DNS",
    "start": "758920",
    "end": "766839"
  },
  {
    "text": "server I need to use the DNS server provided by my uh active directory that",
    "start": "766839",
    "end": "771880"
  },
  {
    "text": "I created so this active directory uh has uh the DNS its own DNS",
    "start": "771880",
    "end": "778760"
  },
  {
    "text": "server uh we need to set up our VPC to use uh the fabric cam.com DNS servers instead",
    "start": "778760",
    "end": "786279"
  },
  {
    "text": "of Amazon provided default uh VPC so I'm going to take a note of these two DNS",
    "start": "786279",
    "end": "792079"
  },
  {
    "text": "addresses um and I'm going to my VPC manager and uh I'm going to select the",
    "start": "792079",
    "end": "798800"
  },
  {
    "text": "fabric cam as of now um it uses this default um uh DH uh uh DHCP option set",
    "start": "798800",
    "end": "806880"
  },
  {
    "text": "um I'm create I'm going to create a new DHCP your option set um and I'm going to call it uh",
    "start": "806880",
    "end": "814079"
  },
  {
    "text": "fabrican uh domain name is fabric cam.com uh domain name servers are these",
    "start": "814079",
    "end": "821199"
  },
  {
    "text": "two ntp server you can put maybe one of these doesn't matter actually um bio so",
    "start": "821199",
    "end": "829800"
  },
  {
    "text": "same not type is to uh create",
    "start": "829800",
    "end": "834720"
  },
  {
    "text": "yes so uh I need to associate this uh fabric cam U uh DHCP option set with the",
    "start": "835800",
    "end": "844399"
  },
  {
    "text": "uh VPC uh this U uh this fabric cam VPC all",
    "start": "844399",
    "end": "854279"
  },
  {
    "text": "right uh what I'm going to do is to right click and then set the uh edit",
    "start": "854279",
    "end": "861199"
  },
  {
    "text": "DHCP option set um associate with this fabric cam.com one um yeah so far so",
    "start": "861199",
    "end": "868560"
  },
  {
    "text": "good and also you need to select DNS resolution you need to",
    "start": "868560",
    "end": "874440"
  },
  {
    "text": "disable it um so far so good um I'm going to my uh development uh the the",
    "start": "874440",
    "end": "882480"
  },
  {
    "text": "ec2 instance that I spin uped uh I'm going to say ip config flash",
    "start": "882480",
    "end": "888399"
  },
  {
    "text": "DNS um so it's all good so ip config all sorry ip config",
    "start": "888399",
    "end": "896880"
  },
  {
    "text": "all um you can see that that uh the DNS servers are now coming from the active",
    "start": "896880",
    "end": "904000"
  },
  {
    "text": "directory instead of the default Amazon provided uh um DNS uh just to let you know uh it",
    "start": "904000",
    "end": "912320"
  },
  {
    "text": "took some time for this to detect these two DNS servers um because this is a",
    "start": "912320",
    "end": "918160"
  },
  {
    "text": "video recording I just U uh pause and U let some time for DNS to uh",
    "start": "918160",
    "end": "926440"
  },
  {
    "text": "propagate um so we are now in a good uh",
    "start": "926560",
    "end": "931759"
  },
  {
    "text": "uh situation to understand like uh how we can domain join this machine um so if",
    "start": "931759",
    "end": "938560"
  },
  {
    "text": "I say something like um ping Feb fabri",
    "start": "938560",
    "end": "944560"
  },
  {
    "text": "cam.com so I'm getting a reply from one of the active directory uh controller or",
    "start": "944560",
    "end": "949920"
  },
  {
    "text": "the one of the DNS server one of the manage DNS server that got provision as",
    "start": "949920",
    "end": "955560"
  },
  {
    "text": "part of Microsoft active directory provision uh so I'm going to domain join this uh",
    "start": "955560",
    "end": "962639"
  },
  {
    "text": "just select this go to properties advanced settings computer name change",
    "start": "962639",
    "end": "968279"
  },
  {
    "text": "so right now it's in the work group uh let me call this machine as client one",
    "start": "968279",
    "end": "973480"
  },
  {
    "text": "uh the domain I want to join is fabric",
    "start": "973480",
    "end": "978680"
  },
  {
    "text": "cam.com um it'll take some time to uh do the",
    "start": "979399",
    "end": "986399"
  },
  {
    "text": "communication if you are lucky we will get the prompt to enter our domain admin password so let say uh the name is fabri",
    "start": "986399",
    "end": "995759"
  },
  {
    "text": "cam.com uh I think it's",
    "start": "995759",
    "end": "999720"
  },
  {
    "text": "admin yeah so we are now domain join so what I'm going to do is to restart this",
    "start": "1004399",
    "end": "1010639"
  },
  {
    "text": "machine um restart now and then come back again uh with the new domain join",
    "start": "1010639",
    "end": "1016800"
  },
  {
    "text": "account my client one is so I'm going to remote desktop into that so but this",
    "start": "1016800",
    "end": "1023120"
  },
  {
    "text": "time with fabric cam.com admin account uh connect um the password",
    "start": "1023120",
    "end": "1031039"
  },
  {
    "text": "is on yep so now I'm logged in with um",
    "start": "1031520",
    "end": "1038240"
  },
  {
    "text": "fabric cam.com admin account into this uh new ec2 instance that I spin",
    "start": "1038240",
    "end": "1043798"
  },
  {
    "text": "up I'm in my ec2 uh instance um uh what",
    "start": "1043799",
    "end": "1049000"
  },
  {
    "text": "I'm going to do is to check who am I so you can see that uh I'm in fact coming",
    "start": "1049000",
    "end": "1054120"
  },
  {
    "text": "from Feb cam.com uh uh domain uh I'm going to",
    "start": "1054120",
    "end": "1059240"
  },
  {
    "text": "start the Ser manager and install some tools um uh Ro based F installation what",
    "start": "1059240",
    "end": "1065360"
  },
  {
    "text": "I'm going to do is to install the um active directory management Remote Management tools um so if you go",
    "start": "1065360",
    "end": "1073360"
  },
  {
    "text": "into uh remote server Administration tools uh you can select the remote",
    "start": "1073360",
    "end": "1081039"
  },
  {
    "text": "addtive tools for the active directory and for the DNS server",
    "start": "1081039",
    "end": "1086720"
  },
  {
    "text": "right um this is good um click",
    "start": "1086720",
    "end": "1092400"
  },
  {
    "text": "next and then install so the tool installation is done",
    "start": "1092400",
    "end": "1099559"
  },
  {
    "text": "uh if you go into your tools you can find some new tools been installed uh if I go into activ directory users and",
    "start": "1099559",
    "end": "1105840"
  },
  {
    "text": "computers uh so this is the fabric cam domain I have my computers and users in",
    "start": "1105840",
    "end": "1112000"
  },
  {
    "text": "this organization unit just to recap and summarize what we have done so far what we had done was uh",
    "start": "1112000",
    "end": "1119320"
  },
  {
    "text": "creating the assets related to this fabric cam.com uh we created the vpcs we",
    "start": "1119320",
    "end": "1124400"
  },
  {
    "text": "uh set up the uh subnets and then we put two managed version of the uh domain",
    "start": "1124400",
    "end": "1131520"
  },
  {
    "text": "controllers into uh these two uh subnets um and also we domain join this",
    "start": "1131520",
    "end": "1137679"
  },
  {
    "text": "ec2 instance into fabric cam.com domain uh we set up DHCP option sets so uh this",
    "start": "1137679",
    "end": "1144440"
  },
  {
    "text": "easy to instance instead of using Amazon provided DNS it uses windows or active",
    "start": "1144440",
    "end": "1150559"
  },
  {
    "text": "directory provided uh DNS servers so when it searches for DNS servers it uses",
    "start": "1150559",
    "end": "1155919"
  },
  {
    "text": "fabric cam.com um as its servers uh what I'm going to do next is",
    "start": "1155919",
    "end": "1161520"
  },
  {
    "text": "to create this contoso.com and then uh showcase you how you can establish the",
    "start": "1161520",
    "end": "1166919"
  },
  {
    "text": "trust between fabric cam.com and contoso.com I'm in one of the uh contoso.com machine",
    "start": "1166919",
    "end": "1176360"
  },
  {
    "text": "uh with some active directory tools being installed um so if I go here and then type who am I",
    "start": "1176360",
    "end": "1183919"
  },
  {
    "text": "um who am I uh you can see that it's actually from contoso.com all right um",
    "start": "1183919",
    "end": "1191240"
  },
  {
    "text": "so I'm going to do some pin test uh so the domain controllers of fabric cam.com are this so just to check whether they",
    "start": "1191240",
    "end": "1199240"
  },
  {
    "text": "are actually reachable and working uh make sure that you have these firewall",
    "start": "1199240",
    "end": "1206039"
  },
  {
    "text": "settings open up in your amazon.com Amazon",
    "start": "1206039",
    "end": "1212720"
  },
  {
    "text": "vpcs um so we'll ping the second DC in",
    "start": "1212720",
    "end": "1217919"
  },
  {
    "text": "fabri cam.com uh that's all good uh let's try to um pin uh one of the ec2",
    "start": "1217919",
    "end": "1227880"
  },
  {
    "text": "instance that I started in fabric.com so if I ping it um interestingly you don't get any",
    "start": "1227880",
    "end": "1235280"
  },
  {
    "text": "pin request because the Windows Firewall is blocking it so what you need to do is",
    "start": "1235280",
    "end": "1240720"
  },
  {
    "text": "to go to your uh uh the fabric cam.com so here I'm in my Fabric cam.com and",
    "start": "1240720",
    "end": "1247640"
  },
  {
    "text": "this is the machine that I'm trying to pin into make sure that you enable the",
    "start": "1247640",
    "end": "1252919"
  },
  {
    "text": "ICP ping request so just enable this",
    "start": "1252919",
    "end": "1258159"
  },
  {
    "text": "apply outbound also just enable the pin you're not supposed to do it but you can just",
    "start": "1258159",
    "end": "1264400"
  },
  {
    "text": "use it for any debugging purpose if you need all right so all good um so I'm",
    "start": "1264400",
    "end": "1269919"
  },
  {
    "text": "going again into my uh uh contoso.com and check whether this machine is",
    "start": "1269919",
    "end": "1278200"
  },
  {
    "text": "reachable yeah so so my connections are working fine uh the next step is to set",
    "start": "1279640",
    "end": "1286799"
  },
  {
    "text": "up the DNS configuration a in contoso.com so what I'm going to do is",
    "start": "1286799",
    "end": "1291960"
  },
  {
    "text": "to go here and then click tools um select the DNS configuration um so I'm in my dc1 of",
    "start": "1291960",
    "end": "1299640"
  },
  {
    "text": "contoso.com I need to create a conditional forwarders to so that um uh",
    "start": "1299640",
    "end": "1307640"
  },
  {
    "text": "this U contoso.com domain knows when it has request for fabric.com which DNS",
    "start": "1307640",
    "end": "1315480"
  },
  {
    "text": "servers to use right so for examp example if I try to Ping uh fabri",
    "start": "1315480",
    "end": "1323919"
  },
  {
    "text": "cam.com uh it doesn't know how to resolve it okay um so what I'm going to do is to",
    "start": "1323919",
    "end": "1332440"
  },
  {
    "text": "create a new conditional forward and let's call it fabri cam.com and I'm going to add these two",
    "start": "1332440",
    "end": "1340320"
  },
  {
    "text": "uh DNS addresses so one is that the other one",
    "start": "1340320",
    "end": "1347240"
  },
  {
    "text": "is this",
    "start": "1347240",
    "end": "1350480"
  },
  {
    "text": "um there's an error you are getting here just ignore it for a while and click",
    "start": "1362600",
    "end": "1368200"
  },
  {
    "text": "okay so you have the fabric cam.com done so I'm going to say ip",
    "start": "1368200",
    "end": "1374799"
  },
  {
    "text": "config flash DNS uh uh you cannot execute it unless",
    "start": "1374799",
    "end": "1380279"
  },
  {
    "text": "you run this command as an administrator so I'm going to start my command prompt as an",
    "start": "1380279",
    "end": "1387158"
  },
  {
    "text": "administrator um",
    "start": "1388799",
    "end": "1394080"
  },
  {
    "text": "flashiness um so let's try to Ping fabri",
    "start": "1394080",
    "end": "1399520"
  },
  {
    "text": "cam.com and now you can find that you get a reply uh from one of the active",
    "start": "1399520",
    "end": "1406679"
  },
  {
    "text": "directory uh or one of the DNS servers in fabric cam.com it's actually got the reply from this DNS server so the",
    "start": "1406679",
    "end": "1414720"
  },
  {
    "text": "conditional forwarders are set up correctly uh the next thing we need to do is to create a trust between um uh",
    "start": "1414720",
    "end": "1424480"
  },
  {
    "text": "contoso.com and fabric cam.com uh so you first need to initiate it from your on premise s uh so I'm",
    "start": "1424480",
    "end": "1432279"
  },
  {
    "text": "going to do is to go to um active directory domain and Trust",
    "start": "1432279",
    "end": "1440000"
  },
  {
    "text": "so here you can find my contoso.com as of now there are no any other domains",
    "start": "1440000",
    "end": "1445600"
  },
  {
    "text": "here in a real Enterprise scenario you'll find like different subdomains or other companies that you have merged",
    "start": "1445600",
    "end": "1452600"
  },
  {
    "text": "with um so I'm going to go for the properties go to the trust and I'm going",
    "start": "1452600",
    "end": "1458120"
  },
  {
    "text": "to create a new trust um and I'm going to make it let's say uh uh fabric cam.com",
    "start": "1458120",
    "end": "1468720"
  },
  {
    "text": "uh trust okay um it's going to be a forest level",
    "start": "1468720",
    "end": "1473880"
  },
  {
    "text": "trust uh it's going to be a two-way trust so that both parties TR trust each other uh depending on your scenario you",
    "start": "1473880",
    "end": "1480720"
  },
  {
    "text": "can set up how you want it um",
    "start": "1480720",
    "end": "1485640"
  },
  {
    "text": "and uh create the trust for the following this domain only so for the moment you just select this one uh",
    "start": "1485760",
    "end": "1492760"
  },
  {
    "text": "Forest wide authentication is what we want uh so this is a password that I",
    "start": "1492760",
    "end": "1498760"
  },
  {
    "text": "need to set up so that when I um provision this in the fabric cam.com",
    "start": "1498760",
    "end": "1504799"
  },
  {
    "text": "site I can use the same password so I'm going to give us some password into this",
    "start": "1504799",
    "end": "1509840"
  },
  {
    "text": "hopefully it's complexity is strong enough and click next click next click",
    "start": "1509840",
    "end": "1518320"
  },
  {
    "text": "next uh no do not confirm the outgoing trust for the moment do not confirm the",
    "start": "1518320",
    "end": "1524600"
  },
  {
    "text": "incoming trust that's fine click finish",
    "start": "1524600",
    "end": "1529720"
  },
  {
    "text": "uh these are the things that I don't want at the",
    "start": "1529840",
    "end": "1534960"
  },
  {
    "text": "moment so you have the two uh fra cam.com um uh trust that I have created",
    "start": "1544679",
    "end": "1551960"
  },
  {
    "text": "in our contoso.com uh uh domain um so this is good",
    "start": "1551960",
    "end": "1560240"
  },
  {
    "text": "right um but we now need to set up our",
    "start": "1560840",
    "end": "1567880"
  },
  {
    "text": "directory Services again uh what we need to do is to go to",
    "start": "1567880",
    "end": "1574960"
  },
  {
    "text": "the trust relationship so we send a trust relationship to this domain controller um what we need to do is to",
    "start": "1574960",
    "end": "1581720"
  },
  {
    "text": "create a new trust relationship from here uh the remote domain name should be",
    "start": "1581720",
    "end": "1588720"
  },
  {
    "text": "uh contoso contoso.com trust password that I put",
    "start": "1588720",
    "end": "1596840"
  },
  {
    "text": "before uh it's going to be a two-way trust so this is the conditional folder",
    "start": "1597000",
    "end": "1603279"
  },
  {
    "text": "that I need to set up so this address has to be one of the domain controller name uh address of your on premise uh uh",
    "start": "1603279",
    "end": "1611320"
  },
  {
    "text": "DC so uh this is my on Prem D so if I",
    "start": "1611320",
    "end": "1619960"
  },
  {
    "text": "look at it here you can find the IP address of this one is 192168 uh 1.10 so that's the IP address",
    "start": "1619960",
    "end": "1627880"
  },
  {
    "text": "I'm going to put 19268 1.10 if you have multiple domain",
    "start": "1627880",
    "end": "1634960"
  },
  {
    "text": "controllers you can add multiple domain controllers uh as of now I just have one",
    "start": "1634960",
    "end": "1640399"
  },
  {
    "text": "DC so I just adding it here so if everything goes",
    "start": "1640399",
    "end": "1646320"
  },
  {
    "text": "well uh now it's creating the trust relationship if everything goes well",
    "start": "1646720",
    "end": "1652320"
  },
  {
    "text": "this will be in active State shortly so it'll take some time for this trust to be uh",
    "start": "1652320",
    "end": "1658520"
  },
  {
    "text": "validated so I'm going to pause the video for a while and then come back again so I'm going to Showcase you uh",
    "start": "1658520",
    "end": "1666320"
  },
  {
    "text": "one common problem that you'll say you'll face when you try to create the structur relationship so in this case",
    "start": "1666320",
    "end": "1673240"
  },
  {
    "text": "I'm going to Showcase like it showed that uh the trust relationship created",
    "start": "1673240",
    "end": "1678559"
  },
  {
    "text": "failed and it gives you an error message the remote domain contoso.com is not",
    "start": "1678559",
    "end": "1683880"
  },
  {
    "text": "reachable uh please ensure your security group settings are correct and your conditional forwarders is configured",
    "start": "1683880",
    "end": "1689320"
  },
  {
    "text": "properly right um so this happens usually when the uh Cloud active",
    "start": "1689320",
    "end": "1697440"
  },
  {
    "text": "directory cannot communicate with your on premise uh uh actual directory uh or",
    "start": "1697440",
    "end": "1704200"
  },
  {
    "text": "it can be because uh uh the DNS resolution fails that it cannot locate",
    "start": "1704200",
    "end": "1711279"
  },
  {
    "text": "where the on premise AC director is uh it can be due to some security uh uh uh",
    "start": "1711279",
    "end": "1719320"
  },
  {
    "text": "issue for example if you have firewalls set up in your uh on premise uh",
    "start": "1719320",
    "end": "1725080"
  },
  {
    "text": "environment which prevents uh any communication or trust creation from",
    "start": "1725080",
    "end": "1730399"
  },
  {
    "text": "outside parties uh so there can be a lot of reasons um so we need to go and then",
    "start": "1730399",
    "end": "1736159"
  },
  {
    "text": "check why this happen happens uh so the areas that I'm been looking for is",
    "start": "1736159",
    "end": "1741320"
  },
  {
    "text": "usually my firewall settings both in U uh in the cloud uh there are different",
    "start": "1741320",
    "end": "1747799"
  },
  {
    "text": "layers of firewalls you have uh you have security groups you have",
    "start": "1747799",
    "end": "1752919"
  },
  {
    "text": "uh uh uh the network uh Access Control list you have Windows firewalls in the",
    "start": "1752919",
    "end": "1759640"
  },
  {
    "text": "on premise size also you may have some different Hardware control firewalls or software control firewalls so you need",
    "start": "1759640",
    "end": "1765559"
  },
  {
    "text": "to check uh whether this connection can",
    "start": "1765559",
    "end": "1771039"
  },
  {
    "text": "happen uh I'm going to do some uh debugging like to understand what exactly uh happened or to identify",
    "start": "1772320",
    "end": "1780799"
  },
  {
    "text": "whether I can isolate the problem so I'm going to the DNS um so I type the uh DNS",
    "start": "1780799",
    "end": "1787080"
  },
  {
    "text": "uh so the IP address of one of the um um domain controllers uh in the cloud",
    "start": "1787080",
    "end": "1794960"
  },
  {
    "text": "right and it has created this uh the conditional folder called",
    "start": "1794960",
    "end": "1800720"
  },
  {
    "text": "contoso.com uh with the correct IP address so it's good um let's say I go",
    "start": "1800720",
    "end": "1808320"
  },
  {
    "text": "into U uh the DNS uh just close everything",
    "start": "1808320",
    "end": "1815440"
  },
  {
    "text": "and uh we'll add new connect to a new DNS server um",
    "start": "1815440",
    "end": "1821799"
  },
  {
    "text": "so let's select this one 12 n um the following",
    "start": "1821799",
    "end": "1830240"
  },
  {
    "text": "one um so there also you will find that it is been pointed correctly uh",
    "start": "1830240",
    "end": "1836840"
  },
  {
    "text": "sometimes this connection fails because this DNS propagation doesn't happen in",
    "start": "1836840",
    "end": "1842880"
  },
  {
    "text": "timely manner so just to make sure let's uh type contoso.com",
    "start": "1842880",
    "end": "1848440"
  },
  {
    "text": "also yeah so just to let you know that this is not the uh uh managed um active",
    "start": "1848440",
    "end": "1856000"
  },
  {
    "text": "directory machine this is one of the client machine that is uh",
    "start": "1856000",
    "end": "1861720"
  },
  {
    "text": "uh uh that I I'm using at the moment",
    "start": "1861720",
    "end": "1868639"
  },
  {
    "text": "um so you can see that the IP address of this machine is not uh uh the the the",
    "start": "1868639",
    "end": "1876399"
  },
  {
    "text": "one of the activate domains the of course these machines we cannot connect because they are managed um so uh you",
    "start": "1876399",
    "end": "1884320"
  },
  {
    "text": "cannot uh log into them as a remote desktop administrator for example",
    "start": "1884320",
    "end": "1889600"
  },
  {
    "text": "um so so far so good I can't identify any problem except any firewalls that",
    "start": "1889600",
    "end": "1895720"
  },
  {
    "text": "may be blocking it um so let's try to go and create it maybe that this fail",
    "start": "1895720",
    "end": "1900880"
  },
  {
    "text": "because there was some uh problem in creating the",
    "start": "1900880",
    "end": "1906320"
  },
  {
    "text": "um um because there are some delays in network communication so let's create the trust relationship again in this",
    "start": "1906320",
    "end": "1913000"
  },
  {
    "text": "case I'm going to say again contoso.com contoso",
    "start": "1913000",
    "end": "1919120"
  },
  {
    "text": "uh password is it's going to be a two-way",
    "start": "1919279",
    "end": "1927960"
  },
  {
    "text": "trust so conditional forward already found it which is good so you click",
    "start": "1930279",
    "end": "1937200"
  },
  {
    "text": "add let's check whether it will succeed this",
    "start": "1938519",
    "end": "1943960"
  },
  {
    "text": "time so uh this time it was successful um so you can find that the status is",
    "start": "1945840",
    "end": "1952200"
  },
  {
    "text": "verified which means that the trust is now established um usually I guess what",
    "start": "1952200",
    "end": "1957399"
  },
  {
    "text": "happens is um when it creates the conditional forward it takes some time for it to detect like what DNS servers",
    "start": "1957399",
    "end": "1964720"
  },
  {
    "text": "it should use to resolve um these uh uh the names uh so when you create for the",
    "start": "1964720",
    "end": "1971639"
  },
  {
    "text": "next time usually uh it succeed uh make sure that your firewalls are not blocking any uh communication with the",
    "start": "1971639",
    "end": "1979080"
  },
  {
    "text": "cloud and the uh on premise uh data center on my left side I have a a",
    "start": "1979080",
    "end": "1987120"
  },
  {
    "text": "machine from fabric cam.com and my right side you have one from contoso.com so if",
    "start": "1987120",
    "end": "1992720"
  },
  {
    "text": "I go to the server manager um and uh I select the um active",
    "start": "1992720",
    "end": "2000039"
  },
  {
    "text": "directed domain and Trust over here uh domain and Trust uh you can find that",
    "start": "2000039",
    "end": "2006840"
  },
  {
    "text": "the newly created created trust is already there so this is what I created from AWS Management console right so",
    "start": "2006840",
    "end": "2014279"
  },
  {
    "text": "that uh trust is established um so we need to test whether it will work or not",
    "start": "2014279",
    "end": "2019600"
  },
  {
    "text": "so if I go into activity users and computers um I'm going to create let's",
    "start": "2019600",
    "end": "2026880"
  },
  {
    "text": "say a new uh group right so let's call The Domain local group uh called Finance",
    "start": "2026880",
    "end": "2034519"
  },
  {
    "text": "right uh it can be on a different organization unit but doesn't matter uh I'm also going to create a new uh",
    "start": "2034519",
    "end": "2043080"
  },
  {
    "text": "user uh let's call it um",
    "start": "2043080",
    "end": "2048760"
  },
  {
    "text": "John um so this one his name is John",
    "start": "2048760",
    "end": "2054118"
  },
  {
    "text": "um name John right uh password never expires we just",
    "start": "2054119",
    "end": "2060599"
  },
  {
    "text": "give a um this some fake password it doesn't",
    "start": "2060599",
    "end": "2066440"
  },
  {
    "text": "matter um",
    "start": "2066440",
    "end": "2069720"
  },
  {
    "text": "so I have the John U and also a group called Finance right so here I'm in my",
    "start": "2077000",
    "end": "2083158"
  },
  {
    "text": "contoso.com domain uh I'm going I already created a user called Kate and a",
    "start": "2083159",
    "end": "2089960"
  },
  {
    "text": "group called HR guys right um let's try whether we can add U John uh from fabric",
    "start": "2089960",
    "end": "2098160"
  },
  {
    "text": "cam into uh HR guys in contoso.com so if",
    "start": "2098160",
    "end": "2103560"
  },
  {
    "text": "you can add this user so if you look at this this is the domain local uh ID",
    "start": "2103560",
    "end": "2108599"
  },
  {
    "text": "group um members so this is coming from a a",
    "start": "2108599",
    "end": "2116160"
  },
  {
    "text": "domain that uh is no longer existing and that's why I remove it so let's add uh one um so if I click here where to",
    "start": "2116160",
    "end": "2124520"
  },
  {
    "text": "locate it you can find that it already shows that cam.com exist so I can say",
    "start": "2124520",
    "end": "2130160"
  },
  {
    "text": "yeah fabric cam.com click okay and I'm going to search for somebody called",
    "start": "2130160",
    "end": "2136160"
  },
  {
    "text": "John so that's good click okay so then now the John from fabric cam.com is in",
    "start": "2137800",
    "end": "2145440"
  },
  {
    "text": "one of the active D group of the um contoso.com so let's try whether we can",
    "start": "2145440",
    "end": "2151839"
  },
  {
    "text": "add uh to the finance somebody from contoso.com right uh um so if I open",
    "start": "2151839",
    "end": "2159040"
  },
  {
    "text": "this group members add uh instead of fabric cam.com this time I need to",
    "start": "2159040",
    "end": "2164079"
  },
  {
    "text": "search it from contoso.com uh so let's say the name is",
    "start": "2164079",
    "end": "2169280"
  },
  {
    "text": "Kate right so now Kate from contoso.com is now part of the finance team of uh",
    "start": "2169280",
    "end": "2177079"
  },
  {
    "text": "fabric.com so in this way that the users can interact of course uh you will then",
    "start": "2177079",
    "end": "2182640"
  },
  {
    "text": "you can give for example folder permissions so if I take this machine um so let's say I'm going to share a folder",
    "start": "2182640",
    "end": "2189000"
  },
  {
    "text": "let's say uh important uh let's say this is something",
    "start": "2189000",
    "end": "2194400"
  },
  {
    "text": "like a finance docs right um so I can say for example um uh properties I can",
    "start": "2194400",
    "end": "2203920"
  },
  {
    "text": "share uh maybe with the group or um so I can I can say",
    "start": "2203920",
    "end": "2211960"
  },
  {
    "text": "Finance um so that's the group you can give it or you can even give",
    "start": "2212800",
    "end": "2218720"
  },
  {
    "text": "Kate Kate is not available on fabric cam.com which is correct so I need to look at at contoso.com so the Kate is",
    "start": "2218720",
    "end": "2225640"
  },
  {
    "text": "there right so I can share with for example read write permission the kit there can see this uh",
    "start": "2225640",
    "end": "2233440"
  },
  {
    "text": "uh folder if if she logs into her machine so that's uh the trust",
    "start": "2233440",
    "end": "2239520"
  },
  {
    "text": "relationship um so we created um two domains uh contoso.com and fabric.com",
    "start": "2239520",
    "end": "2247599"
  },
  {
    "text": "and established a trust relationship between them so the contoso the fabric cam.com is in the cloud and the",
    "start": "2247599",
    "end": "2254760"
  },
  {
    "text": "contoso.com is on uh is an on premise active directory that concludes the",
    "start": "2254760",
    "end": "2261760"
  },
  {
    "text": "presentation hope you enjoy it have a nice day thank you",
    "start": "2261760",
    "end": "2267800"
  }
]