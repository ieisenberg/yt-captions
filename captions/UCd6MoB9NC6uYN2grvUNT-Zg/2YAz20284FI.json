[
  {
    "start": "0",
    "end": "50000"
  },
  {
    "text": "all right good evening everyone let's go ahead and get started thanks everybody for coming out this evening and delaying",
    "start": "0",
    "end": "7020"
  },
  {
    "text": "your trip to the beer garden or whatever your evening plans are oh let's get our",
    "start": "7020",
    "end": "14490"
  },
  {
    "text": "slides going here so I'm Nick Benson I'm a software development manager for Amazon Prime video",
    "start": "14490",
    "end": "20840"
  },
  {
    "text": "I'm here with Chaitanya xalapa Kerr and Harrison Clement to my colleagues we're",
    "start": "20840",
    "end": "26730"
  },
  {
    "text": "gonna speak to you this evening about the partnership between Amazon Prime video and Amazon CloudFront",
    "start": "26730",
    "end": "32758"
  },
  {
    "text": "it's been working the two teams have been working closely together for several years and we want to share with",
    "start": "32759",
    "end": "38969"
  },
  {
    "text": "you basically some of our learnings and hopefully some stories that will be",
    "start": "38969",
    "end": "44430"
  },
  {
    "text": "helpful for you guys as you go off and build your own applications so to give",
    "start": "44430",
    "end": "51030"
  },
  {
    "start": "50000",
    "end": "50000"
  },
  {
    "text": "you just kind of an overview of what we're gonna cover tonight first off I'm gonna go into a little bit of detail about Prime video the prime video",
    "start": "51030",
    "end": "57960"
  },
  {
    "text": "business case how we use cloud front what our key objectives are in",
    "start": "57960",
    "end": "63059"
  },
  {
    "text": "partnering with a double with Amazon Cloud Front and then we have actually five examples or five sort of case",
    "start": "63059",
    "end": "69869"
  },
  {
    "text": "studies that we'll go into a little bit more detail where we talk about various AWS tools and strategies that we have",
    "start": "69869",
    "end": "76229"
  },
  {
    "text": "made use of in different situations over those I think most examples over the past year but that's some some",
    "start": "76229",
    "end": "82979"
  },
  {
    "text": "interesting things to chat about there and then last but not least I will just wrap it up before we get going I do want",
    "start": "82979",
    "end": "91350"
  },
  {
    "text": "to mention to you all that the slides from this deck will be available on the SlideShare after the talk and within the",
    "start": "91350",
    "end": "97890"
  },
  {
    "text": "next couple of days the talk will also be on YouTube so if you see any designs or you know interesting call-outs that",
    "start": "97890",
    "end": "103649"
  },
  {
    "text": "you want to make note of for later it'll be available so Amazon Prime video we",
    "start": "103649",
    "end": "111210"
  },
  {
    "text": "are a key part of the prime experience with well over a hundred million Prime",
    "start": "111210",
    "end": "116280"
  },
  {
    "text": "customers globally these days a prime video were all about premium video so we",
    "start": "116280",
    "end": "123149"
  },
  {
    "text": "you know we take it really seriously that folks our folks are kind enough to invite us into their living rooms and",
    "start": "123149",
    "end": "130229"
  },
  {
    "text": "what we're all about is delivering the best possible video streaming experience that we can",
    "start": "130229",
    "end": "136020"
  },
  {
    "text": "for our customers we're available globally which presents you know its",
    "start": "136020",
    "end": "142860"
  },
  {
    "text": "unique challenges as we deal with everything from the ultra speedy networks you know in the big cities in",
    "start": "142860",
    "end": "149010"
  },
  {
    "text": "the US and in Asia to emerging internet infrastructure in places like India Africa and Latin America and then also",
    "start": "149010",
    "end": "159510"
  },
  {
    "text": "we we deal with quite a large number of devices by last count several thousand different device types",
    "start": "159510",
    "end": "165630"
  },
  {
    "text": "everything from you know your mobile phones to embedded TVs to video gaming",
    "start": "165630",
    "end": "172080"
  },
  {
    "text": "consoles so really what we're all about is maximizing content on being on you",
    "start": "172080",
    "end": "177630"
  },
  {
    "text": "know your devices wherever you are and whenever you want to watch and as I mentioned before you know being present",
    "start": "177630",
    "end": "184080"
  },
  {
    "text": "and being available for customers also means you know dealing with a lot of different different networks and",
    "start": "184080",
    "end": "190050"
  },
  {
    "text": "different streaming conditions so as we you know as we basically confront this",
    "start": "190050",
    "end": "197670"
  },
  {
    "text": "diversity of devices of networks and even really of customer preferences it",
    "start": "197670",
    "end": "203610"
  },
  {
    "text": "becomes really important for us to anticipate what customers are going to",
    "start": "203610",
    "end": "209519"
  },
  {
    "text": "want or what's going to make a great experience for customers and then basically make the right trade-offs to",
    "start": "209519",
    "end": "214670"
  },
  {
    "text": "produce the optimal experience for those customers so when we think about",
    "start": "214670",
    "end": "219720"
  },
  {
    "text": "trade-offs we like to sort of map that out across four dimensions the first of",
    "start": "219720",
    "end": "225510"
  },
  {
    "text": "those is what we call reliability so this is going to be propensity of a session to re buffer so the dreaded you",
    "start": "225510",
    "end": "231959"
  },
  {
    "text": "know red spinner that folks see from time to time and all the in the same category would be preman premature",
    "start": "231959",
    "end": "238739"
  },
  {
    "text": "termination of session playback you know if you if your app were to crash we'd be kicked back to the to the main streaming",
    "start": "238739",
    "end": "244950"
  },
  {
    "text": "screen of your video app we'd call that a fatal error and that's actually you know in our taxonomy the worst thing that can happen in a streaming session",
    "start": "244950",
    "end": "251930"
  },
  {
    "text": "secondly we're concerned about video quality and this is going to be you know are you receiving Ultra High Definition",
    "start": "251930",
    "end": "259430"
  },
  {
    "text": "HDR or are you getting dancing pixels on your big-screen TV obviously the latter",
    "start": "259430",
    "end": "265260"
  },
  {
    "text": "is not a good thing and something that we need to be sure that we're avoiding playback start time is something that we",
    "start": "265260",
    "end": "271419"
  },
  {
    "text": "consider so when folks click play we want them to instantly be immersed in",
    "start": "271419",
    "end": "277360"
  },
  {
    "text": "the streaming experience and there's a trade-off there as we need to download the video and have it ready on the",
    "start": "277360",
    "end": "282639"
  },
  {
    "text": "device before we can actually start playback and then last but not least this is a new trade-off that we're",
    "start": "282639",
    "end": "289419"
  },
  {
    "text": "dealing with right now which is time behind live as we take on projects like Thursday Night Football we did US Open",
    "start": "289419",
    "end": "296740"
  },
  {
    "text": "in the UK recently we're doing Ultimate Fighting every month what we want to be",
    "start": "296740",
    "end": "302889"
  },
  {
    "text": "really cognizant of is the fact that you know we want our customers to learn about you know the knockout punch or the",
    "start": "302889",
    "end": "308770"
  },
  {
    "text": "winning touchdown from our service and not from Twitter I'm not from the voices of their neighbor neighbors echoing down",
    "start": "308770",
    "end": "315130"
  },
  {
    "text": "the street and again this this factors into this trade-off calculus as you know",
    "start": "315130",
    "end": "321300"
  },
  {
    "text": "the further we are the closer we are behind live the less video we have buffering makes me the last video we",
    "start": "321300",
    "end": "327430"
  },
  {
    "text": "have buffered meaning we have the left less tolerance to any sort of streaming or network disruptions",
    "start": "327430",
    "end": "334500"
  },
  {
    "text": "so as we rationalize these trade-offs and as we work to optimize and customize",
    "start": "334500",
    "end": "340150"
  },
  {
    "text": "the streaming experience for customers we use what we call it Amazon a virtuous cycle or flywheel so the idea here is we",
    "start": "340150",
    "end": "347889"
  },
  {
    "text": "basically have a closed-loop system where first we deliver video to customers we collect all sorts of",
    "start": "347889",
    "end": "353740"
  },
  {
    "text": "interesting and from information and telemetry about how the customer is engaging with the service what network",
    "start": "353740",
    "end": "359919"
  },
  {
    "text": "streaming conditions are like what the performance of playback is like for that customer and then you know how that",
    "start": "359919",
    "end": "365830"
  },
  {
    "text": "customer reacts to the streaming experience we feed that into a system where we perform analytics in the case",
    "start": "365830",
    "end": "373030"
  },
  {
    "text": "of CBN's we will actually use this information to determine what the best",
    "start": "373030",
    "end": "379050"
  },
  {
    "text": "CDN is for any given customer so while we partner very closely with AWS cloud",
    "start": "379050",
    "end": "385300"
  },
  {
    "text": "front we actually work with a variety of different CD ends and we have set up basically what we like to call a free",
    "start": "385300",
    "end": "391479"
  },
  {
    "text": "market economy of CBN competition where CD ends compete with each other exclusively on performance so no web",
    "start": "391479",
    "end": "398139"
  },
  {
    "text": "that attention to cloud front they basically they we obviously partner very closely with them but they're working to just just",
    "start": "398139",
    "end": "405100"
  },
  {
    "text": "like all of our other CD ends to maximize performance on this data we use to figure out you know by location and",
    "start": "405100",
    "end": "412000"
  },
  {
    "text": "device how we're gonna divvy that traffic up similarly we will use this data to inform the balance of trade-offs",
    "start": "412000",
    "end": "419860"
  },
  {
    "text": "in the slide I showed you before where as you know do we if we have a really fast internet connection we want to lean",
    "start": "419860",
    "end": "425380"
  },
  {
    "text": "in and show lots of HD if we have a spotty internet connection want to quickly downshift quality or want to",
    "start": "425380",
    "end": "431980"
  },
  {
    "text": "buffer more upfront solute can reduce the chances of a buffer for customers that's where the optimized stuff comes in and then basically just complete that",
    "start": "431980",
    "end": "439630"
  },
  {
    "text": "cycle indefinitely so that's sort of a",
    "start": "439630",
    "end": "444669"
  },
  {
    "text": "high level of what we're about what are you know what our objectives are in delivering video to customers and to go",
    "start": "444669",
    "end": "452380"
  },
  {
    "text": "into some more details of some of the technical challenges we're facing I'm",
    "start": "452380",
    "end": "457690"
  },
  {
    "text": "gonna hand the mic off to my colleague Harrison here thanks Nick that seems",
    "start": "457690",
    "end": "467680"
  },
  {
    "text": "like we could all come in sit crisscross applesauce in the front here but thanks",
    "start": "467680",
    "end": "473110"
  },
  {
    "text": "for coming out so as Nick was saying we have a lot of traffic that we we have to",
    "start": "473110",
    "end": "478419"
  },
  {
    "text": "manage this is kind of give you a picture picture of what that looks like you know because we have a large and",
    "start": "478419",
    "end": "485380"
  },
  {
    "text": "growing customer base Tanvi and actually measured us at almost 8 percent of downstream traffic traffic",
    "start": "485380",
    "end": "491770"
  },
  {
    "text": "in the Americas that is a lot of traffic in the U it's about six percent and one",
    "start": "491770",
    "end": "499570"
  },
  {
    "text": "of our key challenges you can see by this graph which is basically a single day of traffic in the u.s. we don't get",
    "start": "499570",
    "end": "509560"
  },
  {
    "text": "all this traffic at the same time unfortunately I can't show you real",
    "start": "509560",
    "end": "514750"
  },
  {
    "text": "numbers on what the peak is but you're welcome to look at the San vine report",
    "start": "514750",
    "end": "520740"
  },
  {
    "text": "it's a you know this percentage of all traffic and and they might have like a",
    "start": "520740",
    "end": "526540"
  },
  {
    "text": "total in there so you might be able to figure it out so we have to deal with this peak everything that we talked",
    "start": "526540",
    "end": "533470"
  },
  {
    "text": "about in terms of capacity with our CDN partners and as",
    "start": "533470",
    "end": "540740"
  },
  {
    "text": "well as our services really is focused on meeting or being provisioned to",
    "start": "540740",
    "end": "546890"
  },
  {
    "text": "handle that that peak peak load so to give you an example of what that might",
    "start": "546890",
    "end": "554480"
  },
  {
    "start": "549000",
    "end": "549000"
  },
  {
    "text": "look like over day over day we've got that graph on the Left showing our daily",
    "start": "554480",
    "end": "562400"
  },
  {
    "text": "Peaks but what's interesting here is I've also added our Thursday Night Football traffic to these graphs as you",
    "start": "562400",
    "end": "569480"
  },
  {
    "text": "can see it's a significant ad and so we have to partner knowing you know what",
    "start": "569480",
    "end": "575120"
  },
  {
    "text": "what our business is putting out there we have to partner with our CDN to help",
    "start": "575120",
    "end": "580760"
  },
  {
    "text": "give them a heads up and maybe reserve capacity for special instances like",
    "start": "580760",
    "end": "586880"
  },
  {
    "text": "there's an errand football on the right we see each dot representing a day of",
    "start": "586880",
    "end": "593930"
  },
  {
    "text": "traffic we have weekly peaks to that the the middle week is times with our Jack",
    "start": "593930",
    "end": "603020"
  },
  {
    "text": "Ryan release which is a video-on-demand release for a popular serious virus so",
    "start": "603020",
    "end": "608110"
  },
  {
    "text": "what's important though is that we keep in contact with our CDN partners so they",
    "start": "608110",
    "end": "613580"
  },
  {
    "text": "don't throttle our traffic and catania we'll talk a little bit more about how",
    "start": "613580",
    "end": "618650"
  },
  {
    "text": "cloud fraud manages that traffic but we don't want to get our load shed by any of our CDN partners and so ensuring that",
    "start": "618650",
    "end": "627410"
  },
  {
    "text": "they're they have a heads up like I said you know we're generating so much",
    "start": "627410",
    "end": "632510"
  },
  {
    "text": "traffic that you know a significant ad like what you see with Thursday Night Football",
    "start": "632510",
    "end": "637850"
  },
  {
    "text": "that's even more traffic than would typically be experienced by by our CDN",
    "start": "637850",
    "end": "643400"
  },
  {
    "text": "so we work with them very tightly on this and and luckily they don't throttle us so you know why why do we work with",
    "start": "643400",
    "end": "655790"
  },
  {
    "text": "so many CD ends like Nick said they sort of compete in a free market economy for",
    "start": "655790",
    "end": "661670"
  },
  {
    "text": "performance but we also consider a single CDN to be a",
    "start": "661670",
    "end": "666899"
  },
  {
    "text": "a single point of failure so we don't we won't want to put that out on our",
    "start": "666899",
    "end": "672240"
  },
  {
    "text": "customers so we we we work with cloud front to be the best but we also have",
    "start": "672240",
    "end": "680129"
  },
  {
    "text": "other CDN partners that are extremely valuable so one of the things that they",
    "start": "680129",
    "end": "685709"
  },
  {
    "text": "do is not only do they catch our assets our video assets very large files",
    "start": "685709",
    "end": "690779"
  },
  {
    "text": "they're close to our customers that way you know latency isn't as big of a",
    "start": "690779",
    "end": "696660"
  },
  {
    "text": "factor when they pull it down their device they can actually use their effective bandwidth throughput to their",
    "start": "696660",
    "end": "702929"
  },
  {
    "text": "device so that's good we also want to protect the AWS border by not having all",
    "start": "702929",
    "end": "710459"
  },
  {
    "text": "of this content coming out of there and stacking and cast streams so caching is",
    "start": "710459",
    "end": "715679"
  },
  {
    "text": "super important we consider it a a performance thing but also a protection",
    "start": "715679",
    "end": "722009"
  },
  {
    "text": "thing for our services some of the ways that we leverage caching at cloud front",
    "start": "722009",
    "end": "728339"
  },
  {
    "text": "and other CDNs is we've developed a mid tier for our our live traffic and with",
    "start": "728339",
    "end": "734970"
  },
  {
    "text": "cloud front they taught me we'll get in a little bit about their regional edge cash that that",
    "start": "734970",
    "end": "741139"
  },
  {
    "text": "they build in an average distribution but the mid tier will do things like",
    "start": "741139",
    "end": "747720"
  },
  {
    "text": "collapsing the requests it will aggregate cash across you know different different requesters it could be they",
    "start": "747720",
    "end": "755220"
  },
  {
    "text": "pops or different CD ends we try to minimize the cash key inputs so that you",
    "start": "755220",
    "end": "760829"
  },
  {
    "text": "know those requests coming in I'll hit the same cached object that's really important as helps us reduce our cash",
    "start": "760829",
    "end": "767699"
  },
  {
    "text": "space and then with platform we're able to use a special set of distributions to catch our long tail content as our",
    "start": "767699",
    "end": "775230"
  },
  {
    "text": "content that's not quite as popular but it still needs to be cached so that not all of that content is pulled from",
    "start": "775230",
    "end": "780929"
  },
  {
    "text": "origin so the on top of that we also have services that are really important for protection",
    "start": "780929",
    "end": "786809"
  },
  {
    "text": "one of our key services is a service that dynamically customizes manifests",
    "start": "786809",
    "end": "794040"
  },
  {
    "text": "which are like the table of contents or index for any streaming video we will",
    "start": "794040",
    "end": "800670"
  },
  {
    "text": "will thin out bit rates we will sometimes add in pre-rolls into the content or we might have",
    "start": "800670",
    "end": "808260"
  },
  {
    "text": "certain optimizations to to get the best performance out of different CD ends but",
    "start": "808260",
    "end": "813930"
  },
  {
    "text": "we want to make these cashable so these are these are sitting at the edge and that's reduced our scale that we need to",
    "start": "813930",
    "end": "822270"
  },
  {
    "text": "provision for at our service layer which really helps we're also looking at",
    "start": "822270",
    "end": "827810"
  },
  {
    "text": "experimenting with or we've been experimenting with using lambda and other other compute to ensure that you",
    "start": "827810",
    "end": "836820"
  },
  {
    "text": "know we can handle more more and more requests at the edge and reduce our our load into our core services even more so",
    "start": "836820",
    "end": "845100"
  },
  {
    "text": "we're looking at doing that with our manifest service as well as stitching in",
    "start": "845100",
    "end": "850650"
  },
  {
    "text": "some ads or pre rolls in the content at the edge as well so um titania how do",
    "start": "850650",
    "end": "858240"
  },
  {
    "text": "you guys actually manage all this thanks Alison so to handle prime videos scale",
    "start": "858240",
    "end": "866940"
  },
  {
    "start": "865000",
    "end": "865000"
  },
  {
    "text": "of traffic a cloud front has a global presence of pops or you know point of",
    "start": "866940",
    "end": "873120"
  },
  {
    "text": "presence for short so this basically consists of two types of locations one",
    "start": "873120",
    "end": "879360"
  },
  {
    "text": "is the actual edge locations which are close to the viewer and have a cache these are used to have a low latency",
    "start": "879360",
    "end": "888240"
  },
  {
    "text": "connection to the viewer and do the connection termination right there so that like TCP handshake or TLS handshake",
    "start": "888240",
    "end": "896430"
  },
  {
    "text": "time is minimized now we have numerous locations of this type all over the",
    "start": "896430",
    "end": "903870"
  },
  {
    "text": "world however when you know the content is not",
    "start": "903870",
    "end": "909090"
  },
  {
    "text": "present at an edge locations cache you know it's a cache miss that then has to go back to the origin but given that you",
    "start": "909090",
    "end": "916410"
  },
  {
    "text": "know CloudFront has a growing footprint you know just in the past year like at",
    "start": "916410",
    "end": "921600"
  },
  {
    "text": "reinvent 2017 on the same slide I had a hundred paths so and today we've gone to",
    "start": "921600",
    "end": "928920"
  },
  {
    "text": "150 so with that increase you know we don't and increased load on your origins so",
    "start": "928920",
    "end": "936500"
  },
  {
    "text": "that's the reason that we have a mid tier cache layer called original edge cache which helps by basically funneling",
    "start": "936500",
    "end": "945470"
  },
  {
    "text": "the requests to these nearby regional edge caches and then going on to your",
    "start": "945470",
    "end": "950570"
  },
  {
    "text": "locations sorry going on to your origins so these regional caches have a much",
    "start": "950570",
    "end": "957290"
  },
  {
    "text": "larger cache width than any single edge location and that helps protect your",
    "start": "957290",
    "end": "963410"
  },
  {
    "text": "origins plus as well as cache more and more of a content so there are you know",
    "start": "963410",
    "end": "971050"
  },
  {
    "text": "there's all of this infrastructure in place but what happens with the actual requests that clients send so there are",
    "start": "971050",
    "end": "979340"
  },
  {
    "start": "979000",
    "end": "979000"
  },
  {
    "text": "two you know stages of this so first is the DNS resolution which determines",
    "start": "979340",
    "end": "985550"
  },
  {
    "text": "which edge location you reach out to or rather a viewer or a client device",
    "start": "985550",
    "end": "990920"
  },
  {
    "text": "reaches out to so when a DNS resolution happens for either a CloudFront",
    "start": "990920",
    "end": "997130"
  },
  {
    "text": "distribution name or a cname that you've associated with the distribution so",
    "start": "997130",
    "end": "1003520"
  },
  {
    "text": "CloudFront performs or in you know the vast majority of cases latency based",
    "start": "1003520",
    "end": "1009220"
  },
  {
    "text": "routing what does this mean well so CloudFront collects latency",
    "start": "1009220",
    "end": "1015220"
  },
  {
    "text": "measurements from thousands of viewer networks and this helps us determine you",
    "start": "1015220",
    "end": "1020980"
  },
  {
    "text": "know what is the best pop in terms of latency for that viewer and also you",
    "start": "1020980",
    "end": "1028750"
  },
  {
    "text": "know how much load that that's being brought on by like by viewers behind",
    "start": "1028750",
    "end": "1035290"
  },
  {
    "text": "that network so these factors along with the capacity of the pop itself tells us",
    "start": "1035290",
    "end": "1043750"
  },
  {
    "text": "hey you know which is the best possible location to rather traffic and you know",
    "start": "1043750",
    "end": "1048850"
  },
  {
    "text": "once these calculations are done we are able to you know predict what is the",
    "start": "1048850",
    "end": "1054070"
  },
  {
    "text": "load on these education and then direct the request there so all of this helps",
    "start": "1054070",
    "end": "1061240"
  },
  {
    "text": "us give a you know really good understanding of what is the steady-state load and",
    "start": "1061240",
    "end": "1066870"
  },
  {
    "text": "you know this even accounts for variances you know during the week where",
    "start": "1066870",
    "end": "1072919"
  },
  {
    "text": "evening times you know are more popular like in the case of prime video or for",
    "start": "1072919",
    "end": "1079440"
  },
  {
    "text": "other download traffic it might be overnight now for a lot of events the",
    "start": "1079440",
    "end": "1086460"
  },
  {
    "text": "exact nature of the traffic can be unpredictable and even when we know that",
    "start": "1086460",
    "end": "1093629"
  },
  {
    "text": "there are big events coming we see large",
    "start": "1093629",
    "end": "1098759"
  },
  {
    "text": "increases in traffic which need to be handled and this is a very fast increase like like in the case of Thursday Night",
    "start": "1098759",
    "end": "1104669"
  },
  {
    "text": "Football or even in the case of prime or original releases so to handle this type",
    "start": "1104669",
    "end": "1111269"
  },
  {
    "text": "of traffic CloudFront has you know a fast reacting flash crowd detector and",
    "start": "1111269",
    "end": "1117119"
  },
  {
    "text": "flash crowd is really this fast-growing surge of traffic so you can see an",
    "start": "1117119",
    "end": "1122279"
  },
  {
    "text": "example there which is basically you know a Thursday night football game where the traffic increased about",
    "start": "1122279",
    "end": "1130230"
  },
  {
    "text": "attacks in a really short span of time you can also see the nice little dip",
    "start": "1130230",
    "end": "1135899"
  },
  {
    "text": "when folks have taken a break for half time but that picks back up and then we",
    "start": "1135899",
    "end": "1143039"
  },
  {
    "text": "see the traffic going down so balancing this traffic out on edge locations is",
    "start": "1143039",
    "end": "1148379"
  },
  {
    "text": "really important to ensure a good level of performance for the clients now even",
    "start": "1148379",
    "end": "1154230"
  },
  {
    "text": "you know with with balancing the traffic across various pops there might be",
    "start": "1154230",
    "end": "1159779"
  },
  {
    "text": "specific networks or links which might be overloaded so CloudFront even detects this congestion and routes around it",
    "start": "1159779",
    "end": "1168440"
  },
  {
    "text": "lastly you know in addition to surges in legitimate traffic we may also see",
    "start": "1168440",
    "end": "1176100"
  },
  {
    "text": "surges in malicious traffic which is d losses so cloud front has various",
    "start": "1176100",
    "end": "1181139"
  },
  {
    "text": "mechanisms that automatically deals like detects and mitigates these as well you",
    "start": "1181139",
    "end": "1189059"
  },
  {
    "text": "know plus there are additional eight of these products and so on like shield",
    "start": "1189059",
    "end": "1194789"
  },
  {
    "text": "which which can you know which you can use to enhance this protection further",
    "start": "1194789",
    "end": "1200720"
  },
  {
    "text": "now with this in place once an IP has been handed out to an edge location the",
    "start": "1200720",
    "end": "1208290"
  },
  {
    "text": "you know client device uses that and reaches that education so these",
    "start": "1208290",
    "end": "1215100"
  },
  {
    "text": "education also have you know they have keyless termination and their support",
    "start": "1215100",
    "end": "1220440"
  },
  {
    "text": "for things like HTTP to to service the viewer request now to ensure that",
    "start": "1220440",
    "end": "1227960"
  },
  {
    "text": "there's a consistent level of performance for you know different viewers requests in different types of",
    "start": "1227960",
    "end": "1233700"
  },
  {
    "text": "content we have load balancing for the various servers that are present and so",
    "start": "1233700",
    "end": "1242040"
  },
  {
    "text": "this helped us avoid any hot spots you know with regard to popular objects or",
    "start": "1242040",
    "end": "1247290"
  },
  {
    "text": "just right around any bad host due to bad hardware or any other reasons",
    "start": "1247290",
    "end": "1255050"
  },
  {
    "text": "now to ensure that that there's not a lot of time taken up each time to set up",
    "start": "1255050",
    "end": "1261780"
  },
  {
    "text": "connections CloudFront also supports persistent connections and this is really useful like you even in the video",
    "start": "1261780",
    "end": "1268920"
  },
  {
    "text": "streaming case where you don't want the connection to be set up for every single chunk that's requested so CloudFront",
    "start": "1268920",
    "end": "1277080"
  },
  {
    "text": "supports persistent connections on the viewer side as well as on the origin side and for the objects themselves you",
    "start": "1277080",
    "end": "1285720"
  },
  {
    "text": "know you can have the full or the partial object requests where there's a certain optimization for partial object",
    "start": "1285720",
    "end": "1293580"
  },
  {
    "text": "requests so that we reduce the origin load now one interesting case here is",
    "start": "1293580",
    "end": "1299460"
  },
  {
    "text": "the collapse forwarding which means when there are you know lots of concurrent requests for the same object you don't",
    "start": "1299460",
    "end": "1307620"
  },
  {
    "text": "want all that load to be seen on the origin server so CloudFront basically",
    "start": "1307620",
    "end": "1313710"
  },
  {
    "text": "collapses those requests and sends a single upstream request from a cache server so what what you see here is that",
    "start": "1313710",
    "end": "1322670"
  },
  {
    "text": "collapsing is happening both at the edge location and the region edge cache so it's a sort of funneling effect where",
    "start": "1322670",
    "end": "1329690"
  },
  {
    "text": "the edge location will send one or few requests to the nice cash and with multiple education",
    "start": "1329690",
    "end": "1336910"
  },
  {
    "text": "contacting the reason I'd cash even the requests are even collapsed there so you see fewer requests on the origin",
    "start": "1336910",
    "end": "1344110"
  },
  {
    "text": "side lastly with throttling again to",
    "start": "1344110",
    "end": "1349510"
  },
  {
    "text": "ensure that there's fair use of resources CloudFront also implements",
    "start": "1349510",
    "end": "1355210"
  },
  {
    "text": "hotlink so that you know all customers are using their fair share of resources",
    "start": "1355210",
    "end": "1360370"
  },
  {
    "text": "and are able to get a good level of performance now what's the result of all",
    "start": "1360370",
    "end": "1367360"
  },
  {
    "text": "those mechanisms well we've been able to grow our hand designed with primary",
    "start": "1367360",
    "end": "1372760"
  },
  {
    "text": "gears traffic so you can see over the past couple of years we've grown significantly you know over 6x the",
    "start": "1372760",
    "end": "1379450"
  },
  {
    "text": "growth and interestingly that peak that you see is the chakra and release that",
    "start": "1379450",
    "end": "1386590"
  },
  {
    "text": "harrison mentioned earlier so you can see there's you know spike in us in",
    "start": "1386590",
    "end": "1392080"
  },
  {
    "text": "traffic week over week and for instance this was one release that we spoke about",
    "start": "1392080",
    "end": "1397510"
  },
  {
    "text": "but there's a lot more that Prime ability actually delivers so what is",
    "start": "1397510",
    "end": "1402850"
  },
  {
    "text": "primary to actually have you know have in all this traffic Harrison",
    "start": "1402850",
    "end": "1409049"
  },
  {
    "text": "you feel okay yeah so why all this traffic besides the number of customers",
    "start": "1415350",
    "end": "1422350"
  },
  {
    "text": "we also have the largest catalog available that's not a boastful",
    "start": "1422350",
    "end": "1429670"
  },
  {
    "start": "1426000",
    "end": "1426000"
  },
  {
    "text": "statement it's just a fact and we want to make sure that all of this content is",
    "start": "1429670",
    "end": "1436110"
  },
  {
    "text": "available to whomever wants to watch it so what does that look like from our",
    "start": "1436110",
    "end": "1443260"
  },
  {
    "text": "catalog versus what people want to watch here is the curve that shows our",
    "start": "1443260",
    "end": "1449670"
  },
  {
    "text": "popularity over our percent catalog viewed in a three-day window so this is",
    "start": "1449670",
    "end": "1457300"
  },
  {
    "text": "pretty interesting so this is just three days but 90% of the streams in that",
    "start": "1457300",
    "end": "1464590"
  },
  {
    "text": "three-day period really only hit 12% of part of our viewed catalog so you can",
    "start": "1464590",
    "end": "1472060"
  },
  {
    "text": "see that's kind of you know I can make this go even further but you know that that's a very that slope is forever",
    "start": "1472060",
    "end": "1480340"
  },
  {
    "text": "decreasing at 60% of streams that's less",
    "start": "1480340",
    "end": "1486250"
  },
  {
    "text": "than 2% of our catalog so we have some really popular content the rest is longtail but it's still at",
    "start": "1486250",
    "end": "1493690"
  },
  {
    "text": "2% is a significant chunk so we can't have that longtail be just origin traffic we have",
    "start": "1493690",
    "end": "1503620"
  },
  {
    "text": "to cache that as well so how do we do it",
    "start": "1503620",
    "end": "1508840"
  },
  {
    "start": "1507000",
    "end": "1507000"
  },
  {
    "text": "do this well like I mentioned our catalog is huge you can you can get many",
    "start": "1508840",
    "end": "1514450"
  },
  {
    "text": "offerings through subscriptions that would be you know different channels you can watch your HBO through Prime video",
    "start": "1514450",
    "end": "1521650"
  },
  {
    "text": "for example and we offer many channels you can there's Steve odd which is I'm",
    "start": "1521650",
    "end": "1528700"
  },
  {
    "text": "sure everyone's kind of done this they you know look see if something is freeing one of their streaming services",
    "start": "1528700",
    "end": "1535650"
  },
  {
    "text": "if it's not you know might be available for rent or purchase through out through",
    "start": "1535650",
    "end": "1540910"
  },
  {
    "text": "Prime we also have a self-published platform where people can can make",
    "start": "1540910",
    "end": "1546190"
  },
  {
    "text": "content and submit it so it creates a very very large catalog then for each of those titles we have to",
    "start": "1546190",
    "end": "1551620"
  },
  {
    "text": "we have to encode that right so encoding we need to optimize for every device",
    "start": "1551620",
    "end": "1559000"
  },
  {
    "text": "that's out there and you know we we support a large range some of the devices are really old some are brand",
    "start": "1559000",
    "end": "1566080"
  },
  {
    "text": "new they have different capabilities so we have to make sure our end codes can handle all of those cases so we have we",
    "start": "1566080",
    "end": "1576070"
  },
  {
    "text": "support three packages package types so if you're familiar with video streaming",
    "start": "1576070",
    "end": "1582060"
  },
  {
    "text": "video streaming today is done through different package types we use Microsoft",
    "start": "1582060",
    "end": "1589150"
  },
  {
    "text": "Smooth Streaming Apple HLS and MPEG - we",
    "start": "1589150",
    "end": "1594190"
  },
  {
    "text": "also have progressive download through mp4 so with those package formats",
    "start": "1594190",
    "end": "1601620"
  },
  {
    "text": "defining the protocols that we use then we also support up to 22 languages for a",
    "start": "1601620",
    "end": "1607270"
  },
  {
    "text": "global content so for one video that can be about 300 files that's that's a lot a",
    "start": "1607270",
    "end": "1615190"
  },
  {
    "text": "lot of data just for one single title and through you know you have a lot of options to get different titles so from",
    "start": "1615190",
    "end": "1622330"
  },
  {
    "text": "here CD ends can't cash all that content at the edge just due to the the",
    "start": "1622330",
    "end": "1628240"
  },
  {
    "text": "realities of disk space you know they they can only provision so much you know",
    "start": "1628240",
    "end": "1634330"
  },
  {
    "text": "they can't have exabyte storage you know embedded in every exchange and ISP out",
    "start": "1634330",
    "end": "1640690"
  },
  {
    "text": "there so we have to we have to come up with creative solutions to deal with",
    "start": "1640690",
    "end": "1646180"
  },
  {
    "text": "this problem so one of our main strategies here we like to split our",
    "start": "1646180",
    "end": "1652240"
  },
  {
    "text": "catalog into what we call shards if you're familiar with with databases you",
    "start": "1652240",
    "end": "1658240"
  },
  {
    "text": "know similar concept it's a horizontal slice of our catalog each shard so how",
    "start": "1658240",
    "end": "1665620"
  },
  {
    "text": "do we actually split this we have a couple couple main strategies here we",
    "start": "1665620",
    "end": "1671830"
  },
  {
    "text": "can do it by popularity which real which we used with cloud front that way we can",
    "start": "1671830",
    "end": "1677440"
  },
  {
    "text": "ensure that our popular content is vended on very highly distributed edges that are close to customers",
    "start": "1677440",
    "end": "1684600"
  },
  {
    "text": "not as much space on those guys so we like to put our long tail on a separate",
    "start": "1684600",
    "end": "1691440"
  },
  {
    "text": "set of distributions that are maybe a little bit less distributed but still pretty close to customers and and they",
    "start": "1691440",
    "end": "1697860"
  },
  {
    "text": "can store a whole lot of data so that that really helps other strategies you can we also employ strategies of",
    "start": "1697860",
    "end": "1705860"
  },
  {
    "text": "sharding consistent hashing based on the manifest URL like I was saying when you",
    "start": "1705860",
    "end": "1712020"
  },
  {
    "text": "go to play a title you get a manifest here's how you get every single fragment in the title and and so like the URL for",
    "start": "1712020",
    "end": "1720360"
  },
  {
    "text": "that manifest was really huge and we can actually hash that and say you know this",
    "start": "1720360",
    "end": "1725549"
  },
  {
    "text": "key space goes to this shard etc and split that up so we the the benefit of",
    "start": "1725549",
    "end": "1734100"
  },
  {
    "text": "using this charting strategy is titania was talking about how the requests",
    "start": "1734100",
    "end": "1739799"
  },
  {
    "text": "actually gets to the pop when your device actually wants to pool data from any of those CDN edges you know it",
    "start": "1739799",
    "end": "1747539"
  },
  {
    "text": "doesn't know how how to connect to those edges you you have to resolve the",
    "start": "1747539",
    "end": "1753539"
  },
  {
    "text": "hostname you know we usually think of DNS this is really basic thing but in",
    "start": "1753539",
    "end": "1760020"
  },
  {
    "text": "the CD ends case it's really amazing what they do but the beauty here is that",
    "start": "1760020",
    "end": "1765030"
  },
  {
    "text": "if we are able to split the catalog into different shards and reference to East",
    "start": "1765030",
    "end": "1770039"
  },
  {
    "text": "shard by their own hostname that on CDN side they can actually control the",
    "start": "1770039",
    "end": "1775470"
  },
  {
    "text": "resolution so that it only resolves to the IPS for the edges that actually have that content so that that's a easy way to",
    "start": "1775470",
    "end": "1784640"
  },
  {
    "text": "leverage their DNS capabilities to empower them to cache a larger",
    "start": "1784640",
    "end": "1793169"
  },
  {
    "text": "percentage of a very wide catalogue so",
    "start": "1793169",
    "end": "1798990"
  },
  {
    "text": "what does that look like at the edge so at the edge what we actually see is",
    "start": "1798990",
    "end": "1807000"
  },
  {
    "text": "the fraction of content that is being requested by all of those devices now",
    "start": "1807000",
    "end": "1813299"
  },
  {
    "text": "when those devices make requests with you know the different HTTP adaptive streaming formats that Hardison",
    "start": "1813299",
    "end": "1820380"
  },
  {
    "text": "mentioned so we see each media chunk being requested as individual HTTP",
    "start": "1820380",
    "end": "1826860"
  },
  {
    "text": "requests now during the course of playback a video player can also switch",
    "start": "1826860",
    "end": "1833130"
  },
  {
    "text": "representations and that could you know depend on user choices right you know",
    "start": "1833130",
    "end": "1838770"
  },
  {
    "text": "and maybe in terms of languages or that they want to listen to differently",
    "start": "1838770",
    "end": "1844140"
  },
  {
    "text": "or the video player is taking into consideration Network conditions to",
    "start": "1844140",
    "end": "1850500"
  },
  {
    "text": "determine what bitrate it needs to be displayed at the current time so this",
    "start": "1850500",
    "end": "1856980"
  },
  {
    "text": "means that the different HTTP requests that actually come to CloudFront can",
    "start": "1856980",
    "end": "1862950"
  },
  {
    "text": "vary in size as well as popularity so when what this graph is actually showing",
    "start": "1862950",
    "end": "1870630"
  },
  {
    "text": "is the actual demand profile of for prime media seen over a day and kind of",
    "start": "1870630",
    "end": "1878010"
  },
  {
    "text": "gives the shape of you know how much this space is required to give with",
    "start": "1878010",
    "end": "1884580"
  },
  {
    "text": "deserve a given amount of requests bytes or Network bytes as we say and so this",
    "start": "1884580",
    "end": "1893340"
  },
  {
    "text": "demand curve you know is affected by how many variants are there of of the",
    "start": "1893340",
    "end": "1900750"
  },
  {
    "text": "different titles that are present as well as what is actually requested by the different players in in terms of the",
    "start": "1900750",
    "end": "1907620"
  },
  {
    "text": "manifest that is handed out to them so beyond the requests themselves there are",
    "start": "1907620",
    "end": "1915270"
  },
  {
    "text": "also some configurations that can be set on distributions to improve the performance so to start with different",
    "start": "1915270",
    "end": "1924210"
  },
  {
    "start": "1921000",
    "end": "1921000"
  },
  {
    "text": "types of objects are valid for different periods of time so like a you know",
    "start": "1924210",
    "end": "1930510"
  },
  {
    "text": "recorded video is valid you know pretty much for a really long time so you and we set it to the maximum TTL for",
    "start": "1930510",
    "end": "1938159"
  },
  {
    "text": "cloud phone that's a year on the other hand you can have short-lived manifest",
    "start": "1938159",
    "end": "1943380"
  },
  {
    "text": "for example you know that is live streaming manifest which need to be refreshed every few seconds so you said",
    "start": "1943380",
    "end": "1951570"
  },
  {
    "text": "the short TTL on the order of a few seconds for such objects and lastly you might have dynamic objects which you",
    "start": "1951570",
    "end": "1958940"
  },
  {
    "text": "know even for zero TTL object which you don't want to be casual it is useful to",
    "start": "1958940",
    "end": "1966360"
  },
  {
    "text": "set a zero TTL or so that it can take advantage of creatures like request",
    "start": "1966360",
    "end": "1971639"
  },
  {
    "text": "collapsing to reduce the origin load now",
    "start": "1971639",
    "end": "1976970"
  },
  {
    "text": "for each of these different types of objects there can be variants in which",
    "start": "1976970",
    "end": "1983070"
  },
  {
    "text": "which take into consideration some of the request characteristics like headers or cookies or query strings and you can",
    "start": "1983070",
    "end": "1990960"
  },
  {
    "text": "either you use all of it or a subset of it or none of it so and depending on the",
    "start": "1990960",
    "end": "1999360"
  },
  {
    "text": "use case there is that can affect the cache hit rate of of your distributions",
    "start": "1999360",
    "end": "2004850"
  },
  {
    "text": "so it's important to eliminate the ones that don't need to be a part of the",
    "start": "2004850",
    "end": "2009919"
  },
  {
    "text": "cache key and in addition to you know just caching the objects themselves",
    "start": "2009919",
    "end": "2016510"
  },
  {
    "text": "CloudFront although also allows caching of arrows and this is really comes back",
    "start": "2016510",
    "end": "2021649"
  },
  {
    "text": "to the point of protecting origin resources so you can customize the TTL for this errors as well and CloudFront",
    "start": "2021649",
    "end": "2029090"
  },
  {
    "text": "can serve stale content in case the origin is unreachable on the origin side",
    "start": "2029090",
    "end": "2036200"
  },
  {
    "text": "you know there are also a couple of other settings in terms of timeouts and something we just announced last week",
    "start": "2036200",
    "end": "2043580"
  },
  {
    "text": "was origin failover so you can set up two origins for a cache behavior and so",
    "start": "2043580",
    "end": "2050000"
  },
  {
    "text": "in case one of them returns an error or fails Clarke and CloudFront can reach",
    "start": "2050000",
    "end": "2055490"
  },
  {
    "text": "out to the other origin that's configured now so this is a bunch of",
    "start": "2055490",
    "end": "2062868"
  },
  {
    "text": "configurations which can vary depending on the exact nature of traffic",
    "start": "2062869",
    "end": "2068050"
  },
  {
    "text": "being sold so Primedia uses a number of",
    "start": "2068050",
    "end": "2073540"
  },
  {
    "text": "these features to start with this configuration you know can be set at you",
    "start": "2073540",
    "end": "2082090"
  },
  {
    "start": "2075000",
    "end": "2075000"
  },
  {
    "text": "know starting at different levels of complexity so many customers start at",
    "start": "2082090",
    "end": "2088720"
  },
  {
    "text": "the AWS console where you can set you know create distributions you know",
    "start": "2088720",
    "end": "2096070"
  },
  {
    "text": "created validations set error caching details and so on and also view some",
    "start": "2096070",
    "end": "2102360"
  },
  {
    "text": "data about your distributions in terms of metrics or reports to to make the",
    "start": "2102360",
    "end": "2110080"
  },
  {
    "text": "task of this you know repeatedly either changing configuration or dating it in a",
    "start": "2110080",
    "end": "2115800"
  },
  {
    "text": "programmer programmatic manner so AWS also has tools like the aw CLI and then",
    "start": "2115800",
    "end": "2123970"
  },
  {
    "text": "you can also utilize shroud formation templates to you know bring up AWS resources and then taking it to the next",
    "start": "2123970",
    "end": "2132010"
  },
  {
    "text": "level the whole pipeline can be automated where you take a bunch of",
    "start": "2132010",
    "end": "2138790"
  },
  {
    "text": "template configurations and are able to bring up the required resources using the SDK or you know code build or code",
    "start": "2138790",
    "end": "2145570"
  },
  {
    "text": "deploy tools so you know given this outline how does prime video really",
    "start": "2145570",
    "end": "2153340"
  },
  {
    "text": "utilize this to serve the various configurations yes so obviously we try",
    "start": "2153340",
    "end": "2162610"
  },
  {
    "text": "to automate as much as we can we're not too proud to use the console you know if",
    "start": "2162610",
    "end": "2169120"
  },
  {
    "text": "we have to but I will show you kind of",
    "start": "2169120",
    "end": "2175330"
  },
  {
    "text": "what what we've been up to lately and what's been keeping us busy all of these",
    "start": "2175330",
    "end": "2180520"
  },
  {
    "text": "touch delivery in some way so we have to like cheat on you said we're creating",
    "start": "2180520",
    "end": "2186240"
  },
  {
    "text": "hundreds thousands of distributions I'm going to focus on a particular",
    "start": "2186240",
    "end": "2192330"
  },
  {
    "text": "particular example and this is our live delivery at scale we've created a",
    "start": "2192330",
    "end": "2198640"
  },
  {
    "text": "platform for Publishing live events and and then connecting the customer to deliver the",
    "start": "2198640",
    "end": "2205810"
  },
  {
    "text": "stream this this required you know and then automation all the way through and",
    "start": "2205810",
    "end": "2213690"
  },
  {
    "text": "cloud fronts capabilities that Catania mention really came in handy for this",
    "start": "2213690",
    "end": "2219160"
  },
  {
    "text": "one and I'll explain and I should also",
    "start": "2219160",
    "end": "2224740"
  },
  {
    "start": "2221000",
    "end": "2221000"
  },
  {
    "text": "add that you know we this is just one example but we used everything that that",
    "start": "2224740",
    "end": "2230340"
  },
  {
    "text": "Chaitanya mentioned you know Amazon CloudFront enables a lot of services to",
    "start": "2230340",
    "end": "2238690"
  },
  {
    "text": "stand up and modify distributions we use cloud formation as well",
    "start": "2238690",
    "end": "2245020"
  },
  {
    "text": "we'll use the CLI sometimes we also we also use terraform so but in this",
    "start": "2245020",
    "end": "2252460"
  },
  {
    "text": "example we we had a kind of a special case where we sort of had variable",
    "start": "2252460",
    "end": "2259950"
  },
  {
    "text": "variability in the configurations that we didn't want to have to deal with in a manual way at all so we have this",
    "start": "2259950",
    "end": "2266890"
  },
  {
    "text": "publishing system that we are able to get a notification from with the",
    "start": "2266890",
    "end": "2274720"
  },
  {
    "text": "specific parameters of the publishing outputs we we were able to get that",
    "start": "2274720",
    "end": "2280870"
  },
  {
    "text": "notification through Amazon SNS that goes right into an sqs queue if any of",
    "start": "2280870",
    "end": "2287140"
  },
  {
    "text": "you have worked on with these tools it's a very standard workflow super helpful",
    "start": "2287140",
    "end": "2293020"
  },
  {
    "text": "especially in this case because from there we could just simply kick off a",
    "start": "2293020",
    "end": "2298840"
  },
  {
    "text": "lambda because you can trigger a lambda from sqs super super handy that lambda",
    "start": "2298840",
    "end": "2304270"
  },
  {
    "text": "then just goes and pulls out a configuration template that that we're",
    "start": "2304270",
    "end": "2309340"
  },
  {
    "text": "storing in s3 gets certificate information certificate of info from",
    "start": "2309340",
    "end": "2314950"
  },
  {
    "text": "certificate manager and keeps track of all this build state in dynamo DB which",
    "start": "2314950",
    "end": "2322180"
  },
  {
    "text": "is really handy and actually saved us when there was a there was an issue had to deal with so that that's super",
    "start": "2322180",
    "end": "2329410"
  },
  {
    "text": "straightforward and anybody can build this with with tools that are available and in this case we're able to build the",
    "start": "2329410",
    "end": "2336210"
  },
  {
    "text": "distribution and the route 53 record that points to it and that way clients",
    "start": "2336210",
    "end": "2342869"
  },
  {
    "text": "could could talk to media tailor elemental media tailor and you know this",
    "start": "2342869",
    "end": "2348779"
  },
  {
    "text": "it came in handy and we've built many distributions the important thing here",
    "start": "2348779",
    "end": "2354329"
  },
  {
    "text": "is that were also monitoring failure cases so in case we don't build it",
    "start": "2354329",
    "end": "2359910"
  },
  {
    "text": "correctly or something something goes wrong we're able to monitor that with cloud watch and get nice alarms so at",
    "start": "2359910",
    "end": "2370140"
  },
  {
    "text": "the end of the day what we're after is to deliver a quality streaming",
    "start": "2370140",
    "end": "2375539"
  },
  {
    "text": "experience for our customers that's our main focus and so the first part of that",
    "start": "2375539",
    "end": "2381630"
  },
  {
    "start": "2379000",
    "end": "2379000"
  },
  {
    "text": "we we have to protect you know not just the services at Amazon but we want to",
    "start": "2381630",
    "end": "2389730"
  },
  {
    "text": "protect our our customers from the",
    "start": "2389730",
    "end": "2395640"
  },
  {
    "text": "internet and all the fun interesting things that the internet provides it being shared finite resource with no",
    "start": "2395640",
    "end": "2402210"
  },
  {
    "text": "central authority designed by humans things break all the time so accepting",
    "start": "2402210",
    "end": "2407519"
  },
  {
    "text": "that fact and dealing with it is hugely important to us so we've enabled client",
    "start": "2407519",
    "end": "2413489"
  },
  {
    "text": "failover on all of our devices too you know fail two different delivery paths that could mean different CD ends it",
    "start": "2413489",
    "end": "2420989"
  },
  {
    "text": "could mean different origins and other other components of delivery we also",
    "start": "2420989",
    "end": "2428039"
  },
  {
    "text": "have other intelligence built on our client Nick sort of alluded to some of it earlier but part of our optimization",
    "start": "2428039",
    "end": "2434759"
  },
  {
    "text": "is that we are able to tune the adaptive bitrate heuristic on the device so that",
    "start": "2434759",
    "end": "2441869"
  },
  {
    "text": "has more intelligence to change bit rates when it when it needs to and and",
    "start": "2441869",
    "end": "2448140"
  },
  {
    "text": "get a really good experience for our customers and has huge huge impact but what we'll focus here is our CDN",
    "start": "2448140",
    "end": "2455039"
  },
  {
    "text": "selection some CD ends have more capacity at certain s ends and pops than",
    "start": "2455039",
    "end": "2461819"
  },
  {
    "text": "others some CD ends don't have peering with with a customer ISP so you know that",
    "start": "2461819",
    "end": "2469640"
  },
  {
    "text": "traffic goes over transit is that is that something we want maybe this other CDN has peering with that ISP and maybe",
    "start": "2469640",
    "end": "2478010"
  },
  {
    "text": "maybe that deliver a better better experience for a customer so the point is that we don't want to go around and",
    "start": "2478010",
    "end": "2483859"
  },
  {
    "text": "you know take manual measurements on what the that capacity is or any other",
    "start": "2483859",
    "end": "2492220"
  },
  {
    "text": "component that might affect a CDN performance in a given set of conditions",
    "start": "2492220",
    "end": "2498849"
  },
  {
    "text": "so we've built something to do this automatically and what we're doing we",
    "start": "2498849",
    "end": "2504319"
  },
  {
    "text": "are measuring CDN performance and I'll get into what constitutes CDN performance and then we're assigning",
    "start": "2504319",
    "end": "2511220"
  },
  {
    "text": "weights to each CDN in a given segment to make sure that that CDN is is used",
    "start": "2511220",
    "end": "2518540"
  },
  {
    "text": "the most in that segment so this",
    "start": "2518540",
    "end": "2525230"
  },
  {
    "start": "2523000",
    "end": "2523000"
  },
  {
    "text": "requires the measurement part of the virtuous cycle that Nick mentioned we",
    "start": "2525230",
    "end": "2531859"
  },
  {
    "text": "need to quantify user experience as best we can the way that we're doing this is",
    "start": "2531859",
    "end": "2537920"
  },
  {
    "text": "we are gathering all this data from device devices that tell us raw data",
    "start": "2537920",
    "end": "2543440"
  },
  {
    "text": "about what's going on you know is there a spinner did playback start did it stop did it",
    "start": "2543440",
    "end": "2551869"
  },
  {
    "text": "user ask for it to stop when it stopped you know we we're getting all of this data at DDoS scale actually it's Hugh",
    "start": "2551869",
    "end": "2559220"
  },
  {
    "text": "it's a huge amount of data so we have to take that raw data and convert it into",
    "start": "2559220",
    "end": "2564799"
  },
  {
    "text": "meaningful metrics or KPIs that help us quantify what the experience is so we",
    "start": "2564799",
    "end": "2572480"
  },
  {
    "text": "have a fitness function defined and you know we keep trying to make it better",
    "start": "2572480",
    "end": "2577849"
  },
  {
    "text": "but you know it will calculate what the QoS score is and that's what we're",
    "start": "2577849",
    "end": "2584329"
  },
  {
    "text": "calling a quality service score for a segment with a given CDN what's a",
    "start": "2584329",
    "end": "2590930"
  },
  {
    "text": "segment a segment is just say a piece of our customer base",
    "start": "2590930",
    "end": "2598410"
  },
  {
    "text": "defined by three main dimensions what device type are they using you know a an",
    "start": "2598410",
    "end": "2605680"
  },
  {
    "text": "old smart TV might be a very different experience given the same everything",
    "start": "2605680",
    "end": "2611770"
  },
  {
    "text": "else then then say like a the latest iPad or something so we have to factor",
    "start": "2611770",
    "end": "2618490"
  },
  {
    "text": "that in we also have to factor in the ASN and customer location so what",
    "start": "2618490",
    "end": "2624910"
  },
  {
    "text": "network are they on and where are they so we have thousands of segments out",
    "start": "2624910",
    "end": "2629980"
  },
  {
    "text": "there that were constantly comparing CD ends it's a fair comparison because we believe that we've isolated all the",
    "start": "2629980",
    "end": "2636340"
  },
  {
    "text": "variables sort of control for all the variables that might affect performance that are outside of the CDN so to do",
    "start": "2636340",
    "end": "2647410"
  },
  {
    "start": "2645000",
    "end": "2645000"
  },
  {
    "text": "this we've built a pretty large pipeline it starts with our stream processor this",
    "start": "2647410",
    "end": "2655900"
  },
  {
    "text": "is a a service that our our our data platform teams built that basically is",
    "start": "2655900",
    "end": "2662320"
  },
  {
    "text": "scooping up all that data or getting all that data from all the devices and parking it in s3 for us and this data is",
    "start": "2662320",
    "end": "2669390"
  },
  {
    "text": "session segmented data so every session that's out there you know that session",
    "start": "2669390",
    "end": "2675310"
  },
  {
    "text": "is is you know has unique data in in our stream processor output so then we have",
    "start": "2675310",
    "end": "2682810"
  },
  {
    "text": "an ec2 fleet to take that data filter",
    "start": "2682810",
    "end": "2687820"
  },
  {
    "text": "out the bad data and then throw it to Kinesis analytics which is really",
    "start": "2687820",
    "end": "2694690"
  },
  {
    "text": "helpful because the session data which is when a customer is watching a title",
    "start": "2694690",
    "end": "2701160"
  },
  {
    "text": "we're not as interested in that as we are into segment data because the whole",
    "start": "2701160",
    "end": "2707380"
  },
  {
    "text": "purpose here is comparing CD ends so we're able to aggregate this data into segments using Kinesis analytics from",
    "start": "2707380",
    "end": "2717460"
  },
  {
    "text": "there we've we've we're using dynamodb to have three main tables these",
    "start": "2717460",
    "end": "2723550"
  },
  {
    "text": "are different time window based tables that where we're looking at 5-minute data",
    "start": "2723550",
    "end": "2728869"
  },
  {
    "text": "we're looking at 15-minute data we're looking at our data because things happen on different scale you know there",
    "start": "2728869",
    "end": "2736219"
  },
  {
    "text": "might be in a femoral issue that lasts 5 minutes the steady state though is",
    "start": "2736219",
    "end": "2744469"
  },
  {
    "text": "better represented in an hour so how do you wait those and that's part",
    "start": "2744469",
    "end": "2749690"
  },
  {
    "text": "of our fitness function for figuring out what which CD ends are the best so we",
    "start": "2749690",
    "end": "2756950"
  },
  {
    "text": "take that data we break it up into different segments from Kinesis",
    "start": "2756950",
    "end": "2762440"
  },
  {
    "text": "analytics store in dynamo and then we have a consumer that is pulling that",
    "start": "2762440",
    "end": "2768769"
  },
  {
    "text": "data this is an ec2 and computing that into the metrics or KPIs that I",
    "start": "2768769",
    "end": "2775309"
  },
  {
    "text": "mentioned earlier so we're getting things like you know what's the latency",
    "start": "2775309",
    "end": "2782739"
  },
  {
    "text": "but what is the buffer rate and we're we're putting that into another set of",
    "start": "2782739",
    "end": "2790099"
  },
  {
    "text": "temporal tables that luckily we're using that same notification and SQS workflow",
    "start": "2790099",
    "end": "2796969"
  },
  {
    "text": "again once once that metric data is actually computed and in these other",
    "start": "2796969",
    "end": "2802489"
  },
  {
    "text": "tables we're able to pool that from another UC to fleet to actually make decisions the decisions are really part",
    "start": "2802489",
    "end": "2810019"
  },
  {
    "text": "of probably the core part of our algorithm you know how do we shift traffic and when you know it has to do",
    "start": "2810019",
    "end": "2817430"
  },
  {
    "text": "with you know how do we how do we weight different metrics against each other and",
    "start": "2817430",
    "end": "2822729"
  },
  {
    "text": "you know what is the aggressiveness that will shift traffic all of that is really",
    "start": "2822729",
    "end": "2829819"
  },
  {
    "text": "the the biggest part of our pipeline here where we're triggering that on a",
    "start": "2829819",
    "end": "2836509"
  },
  {
    "text": "regular cadence using a lambda and you know that lambda it can be triggered by",
    "start": "2836509",
    "end": "2843079"
  },
  {
    "text": "a cloud watch that's generally how you trigger time-based lambda executions that lambda will then have the the data",
    "start": "2843079",
    "end": "2852339"
  },
  {
    "text": "pulled from this this fleet that's actually computing the decisions and",
    "start": "2852339",
    "end": "2858559"
  },
  {
    "text": "then we we we throw the weights into another table once there's in there we we generate a new policy",
    "start": "2858559",
    "end": "2864990"
  },
  {
    "text": "again kicked off by lambda and write that into s3 and why do we do that it's",
    "start": "2864990",
    "end": "2871860"
  },
  {
    "text": "there in s3 because we have another service that at URL vending time so this",
    "start": "2871860",
    "end": "2878040"
  },
  {
    "text": "when I was talking about that manifest URL earlier when a customer goes to play a title you know they need that manifest",
    "start": "2878040",
    "end": "2884160"
  },
  {
    "text": "URL to to kick things off there's a whole series of events that happen when",
    "start": "2884160",
    "end": "2890040"
  },
  {
    "text": "when they when they go to get that manifest URL including referencing this",
    "start": "2890040",
    "end": "2895500"
  },
  {
    "text": "policy that's written into s3 and and Bill from this whole pipeline to say",
    "start": "2895500",
    "end": "2900570"
  },
  {
    "text": "like okay you're in this segment we want to probablistic aliy send you to the CDN",
    "start": "2900570",
    "end": "2906030"
  },
  {
    "text": "first this CDN second etc so with that",
    "start": "2906030",
    "end": "2913800"
  },
  {
    "start": "2910000",
    "end": "2910000"
  },
  {
    "text": "and other strategies you know we're we're working with cloud front to make them better and in fact it's really",
    "start": "2913800",
    "end": "2920430"
  },
  {
    "text": "useful when we see our balancer making decisions that are awarding cloud front",
    "start": "2920430",
    "end": "2925680"
  },
  {
    "text": "less traffic so just visually here's a case where we have our 0d buffer rate",
    "start": "2925680",
    "end": "2932210"
  },
  {
    "text": "actually looking real bad and cloud front is losing traffic the measure of traffic there is you know those pink",
    "start": "2932210",
    "end": "2940200"
  },
  {
    "text": "steps and so you know this is something that we wanted to to make better we knew",
    "start": "2940200",
    "end": "2945240"
  },
  {
    "text": "that something was like legitimately wrong so you know we told cloud front and how did you guys actually fix this",
    "start": "2945240",
    "end": "2953180"
  },
  {
    "text": "yeah so I think based on what Hardison",
    "start": "2953180",
    "end": "2958200"
  },
  {
    "text": "said that we look at different segments so the first step was to look at the segment and look at what factors play",
    "start": "2958200",
    "end": "2965730"
  },
  {
    "text": "into this so looking at in ensuring that we have network capacity to be able to",
    "start": "2965730",
    "end": "2971040"
  },
  {
    "text": "handle this traffic and ensuring that there were no congestion xand ruling out those factors so in this instance we",
    "start": "2971040",
    "end": "2978750"
  },
  {
    "text": "were able to rule out that it was not any provider related or any network",
    "start": "2978750",
    "end": "2985020"
  },
  {
    "text": "layer related issues and that led us to looking further into the server side",
    "start": "2985020",
    "end": "2992430"
  },
  {
    "text": "metrics and server performance so what we found out behind the scenes was",
    "start": "2992430",
    "end": "2997700"
  },
  {
    "text": "in in many cases we were being quite",
    "start": "2997700",
    "end": "3003410"
  },
  {
    "text": "cautious about handling popular objects are dealing with any hot pots and tons",
    "start": "3003410",
    "end": "3009260"
  },
  {
    "text": "of silver Lord and over time you know we had increased performance of the",
    "start": "3009260",
    "end": "3014750"
  },
  {
    "text": "different servers so in using system",
    "start": "3014750",
    "end": "3020119"
  },
  {
    "text": "cleaning parameters or improving our caching policies so that means that we",
    "start": "3020119",
    "end": "3025520"
  },
  {
    "text": "did not have to be as cautious for the load balancing factors and once we were",
    "start": "3025520",
    "end": "3031069"
  },
  {
    "text": "able to tune that further we could improve the experience for the devices",
    "start": "3031069",
    "end": "3038089"
  },
  {
    "text": "and you know reduce the rebuff Ariat significantly and that in this case",
    "start": "3038089",
    "end": "3043609"
  },
  {
    "text": "allowed us to win traffic so you can see week four onwards you know we were able",
    "start": "3043609",
    "end": "3048710"
  },
  {
    "text": "to win traffic in the segment now to you",
    "start": "3048710",
    "end": "3055520"
  },
  {
    "text": "know help us narrow down on this issue you know not only were the client side matrix useful but Primedia also used a",
    "start": "3055520",
    "end": "3062180"
  },
  {
    "text": "number of server-side matrix that Clutton provides so what are what are",
    "start": "3062180",
    "end": "3068599"
  },
  {
    "start": "3067000",
    "end": "3067000"
  },
  {
    "text": "really these metrics and these are available for every platform distribution to start with Claire pfann",
    "start": "3068599",
    "end": "3074990"
  },
  {
    "text": "publishes metrics to cloud watch which includes you know metrics on requests or",
    "start": "3074990",
    "end": "3082910"
  },
  {
    "text": "bytes or errors now these are published near real-time so they can be used to",
    "start": "3082910",
    "end": "3090260"
  },
  {
    "text": "understand the operational health of your CloudFront distributions for a",
    "start": "3090260",
    "end": "3096140"
  },
  {
    "text": "slightly longer term view CloudFront also publishes reports which give an",
    "start": "3096140",
    "end": "3102740"
  },
  {
    "text": "idea of the usage of the distributions in again you know requests and bytes",
    "start": "3102740",
    "end": "3107990"
  },
  {
    "text": "which are like the basic parts of serving traffic but also some more",
    "start": "3107990",
    "end": "3115010"
  },
  {
    "text": "higher cardinality data like what are the popular objects or browsers that are accessing your distributions as well as",
    "start": "3115010",
    "end": "3122030"
  },
  {
    "text": "what is the exact you know HTTP status codes so these are available in",
    "start": "3122030",
    "end": "3128620"
  },
  {
    "text": "in the console and you know some of the report you can even export to CSV and",
    "start": "3128620",
    "end": "3133770"
  },
  {
    "text": "play around that in your own tools so this gives a pretty good high level",
    "start": "3133770",
    "end": "3140260"
  },
  {
    "text": "perspective but you know for the case that we covered we had to go deeper into",
    "start": "3140260",
    "end": "3145930"
  },
  {
    "text": "understanding you know what is the server performance seen from the devices",
    "start": "3145930",
    "end": "3151680"
  },
  {
    "text": "so torrent also publishes request logs and so these these logs are gathered",
    "start": "3151680",
    "end": "3159760"
  },
  {
    "start": "3152000",
    "end": "3152000"
  },
  {
    "text": "from all the edge locations and then publish to your s3 bucket so that's an",
    "start": "3159760",
    "end": "3165070"
  },
  {
    "text": "example of a request request log line and that indicates you know where the",
    "start": "3165070",
    "end": "3171820"
  },
  {
    "text": "request was served how long it took to serve for which object it was and you",
    "start": "3171820",
    "end": "3177220"
  },
  {
    "text": "know there's a there's a bunch of information there which is described by the fields one of the key ones",
    "start": "3177220",
    "end": "3183940"
  },
  {
    "text": "highlighted there is the ex edge request ID which uniquely identifies a request",
    "start": "3183940",
    "end": "3189820"
  },
  {
    "text": "so you know in case you have to recharge the cloud front for further deep dive",
    "start": "3189820",
    "end": "3197800"
  },
  {
    "text": "into this you know having those request IDs definitely helps us pull up even more",
    "start": "3197800",
    "end": "3203200"
  },
  {
    "text": "information on the server side so given the scale of lots of customers like",
    "start": "3203200",
    "end": "3211450"
  },
  {
    "text": "prime video there can be lots and lots of logs so it's it's probably tedious to",
    "start": "3211450",
    "end": "3217870"
  },
  {
    "text": "go through all of them and it helps to have a tool like Amazon Athena for",
    "start": "3217870",
    "end": "3223240"
  },
  {
    "text": "instance this is just one tool but many partners also have build tools to take",
    "start": "3223240",
    "end": "3229390"
  },
  {
    "text": "these logs and digest them and create nice dashboards whether that can be in",
    "start": "3229390",
    "end": "3235630"
  },
  {
    "text": "Amazon quick site or in any other partner tools so this can help narrow",
    "start": "3235630",
    "end": "3243010"
  },
  {
    "text": "down on a which requests for errors or which requests you know saw a higher",
    "start": "3243010",
    "end": "3249250"
  },
  {
    "text": "amount of time taken and can allow you to slice and dice the data by which edge",
    "start": "3249250",
    "end": "3255220"
  },
  {
    "text": "locations are sowed a specific type of clients as well so with all of this",
    "start": "3255220",
    "end": "3262290"
  },
  {
    "text": "the main focus is to improve customer experience and tell our friend is happy",
    "start": "3262290",
    "end": "3267970"
  },
  {
    "text": "to provide as much data and you know take this to improve customer experience",
    "start": "3267970",
    "end": "3274360"
  },
  {
    "text": "and ensure the highest quality of video delivery that's possible",
    "start": "3274360",
    "end": "3279780"
  },
  {
    "text": "so with that I'll just hand it back to Nick to wrap it all up for us thanks ray",
    "start": "3279780",
    "end": "3289030"
  },
  {
    "text": "Tanya so just to kind of close things out here so our core takeaways from the",
    "start": "3289030",
    "end": "3295480"
  },
  {
    "start": "3292000",
    "end": "3292000"
  },
  {
    "text": "talk here number one is you know just want to re-emphasize the importance of taking",
    "start": "3295480",
    "end": "3301300"
  },
  {
    "text": "the time to just understand your customers understand your traffic base I think that you know really digging in",
    "start": "3301300",
    "end": "3308590"
  },
  {
    "text": "understanding both traffic profile as well as you know the nature of the content that you're serving at least in",
    "start": "3308590",
    "end": "3313990"
  },
  {
    "text": "our case that's really served as well separately I think you know taking the time to understand the variety of",
    "start": "3313990",
    "end": "3320080"
  },
  {
    "text": "different tools and techniques that are available for you know standing up",
    "start": "3320080",
    "end": "3325990"
  },
  {
    "text": "distribution standing up different AWS components and managing these different workflows you'd be amazed with you know",
    "start": "3325990",
    "end": "3333430"
  },
  {
    "text": "how something seemingly as simple as standing up a CDN configuration can",
    "start": "3333430",
    "end": "3338530"
  },
  {
    "text": "become part of you know very complicated workflow depending on your use case and",
    "start": "3338530",
    "end": "3343710"
  },
  {
    "text": "AWS the different tools that we've been able to use has made this very straightforward for us enable us to ship",
    "start": "3343710",
    "end": "3349420"
  },
  {
    "text": "products in timeframes we wouldn't otherwise have been able to meet and",
    "start": "3349420",
    "end": "3354760"
  },
  {
    "text": "then last but not least I think you know just the rich metrics that are available",
    "start": "3354760",
    "end": "3360370"
  },
  {
    "text": "from cloud front especially the the logs those have been real lifesavers for us a",
    "start": "3360370",
    "end": "3365800"
  },
  {
    "text": "prime video just to understand you know how our service is performing how you know how customers are interacting with",
    "start": "3365800",
    "end": "3372880"
  },
  {
    "text": "our service I think you know it's sort of an overlooked resource I think and",
    "start": "3372880",
    "end": "3377980"
  },
  {
    "text": "you know we highly encourage you guys as you're building applications to you know",
    "start": "3377980",
    "end": "3382990"
  },
  {
    "text": "take advantage of take advantage of these resources so that concludes our",
    "start": "3382990",
    "end": "3388480"
  },
  {
    "start": "3387000",
    "end": "3387000"
  },
  {
    "text": "talk for this evening we've listed down a few talks related to this session I",
    "start": "3388480",
    "end": "3394330"
  },
  {
    "text": "think a couple of these at least are over a third one here workflows with Amazon CloudFront that's tomorrow we",
    "start": "3394330",
    "end": "3402010"
  },
  {
    "text": "should I believe be available on video as well you can get the slides off the website",
    "start": "3402010",
    "end": "3407289"
  },
  {
    "text": "yeah these there's relevant to we'll be in talking about today highly encourage you to check those up and then last but",
    "start": "3407289",
    "end": "3415359"
  },
  {
    "text": "not least we will be hanging around for the next few minutes happy to answer any",
    "start": "3415359",
    "end": "3420760"
  },
  {
    "text": "questions you guys have if you want to just kind of you know come up after we're done here and then finally please take your time",
    "start": "3420760",
    "end": "3427390"
  },
  {
    "text": "to fill out the survey we scrutinize these results really carefully and we",
    "start": "3427390",
    "end": "3432460"
  },
  {
    "text": "use them to you know figure out what sorts of talks are gonna give next year so they go for coming and have a great",
    "start": "3432460",
    "end": "3439869"
  },
  {
    "text": "night [Applause]",
    "start": "3439869",
    "end": "3444820"
  }
]