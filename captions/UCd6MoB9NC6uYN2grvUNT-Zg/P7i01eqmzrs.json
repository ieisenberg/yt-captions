[
  {
    "text": "hey welcome to coding with Sam my name is Brian and I'm Rory I'm a developer advocate here at AWS and I'm a software",
    "start": "5319",
    "end": "11880"
  },
  {
    "text": "engineer on AWS Lambda today Rory is actually going to take us through building out a cicd pipeline with Sam",
    "start": "11880",
    "end": "17000"
  },
  {
    "text": "and AWS Lambda is that correct that's correct what we're actually going to present to you today is a demo that I",
    "start": "17000",
    "end": "23279"
  },
  {
    "text": "gave at reinvent 2016 uh specifically at the presentation of what's new with AWS",
    "start": "23279",
    "end": "28920"
  },
  {
    "text": "Lambda and what we're going to kind of solve today with this demo is the question that customers ask a lot which",
    "start": "28920",
    "end": "35800"
  },
  {
    "text": "is how do I do continuous delivery continuous integration with AWS Lambda and we're going to show you like we made",
    "start": "35800",
    "end": "42320"
  },
  {
    "text": "this demo to show a very simple example of it but it can easily be extended to additional services and we've open",
    "start": "42320",
    "end": "48600"
  },
  {
    "text": "sourced this today so you are able to follow along with us in this video uh you can take this download it make",
    "start": "48600",
    "end": "54280"
  },
  {
    "text": "changes on your own and be able to use it any way you see F cool so",
    "start": "54280",
    "end": "60280"
  },
  {
    "text": "let's go through the different parts of this uh what do we need for this project we've set it separated into three",
    "start": "60280",
    "end": "66080"
  },
  {
    "text": "specific components we have the website the website is going to be our static website hosted on S3 um that's going to",
    "start": "66080",
    "end": "73560"
  },
  {
    "text": "display that's going to show us the big money business here and we'll get to what that looks like and what we're",
    "start": "73560",
    "end": "78680"
  },
  {
    "text": "going to do with that in a bit but mostly what that's going to be is just to show the results of our Lambda",
    "start": "78680",
    "end": "83759"
  },
  {
    "text": "function uh the next one is our API and our API that is our Sam template uh",
    "start": "83759",
    "end": "90159"
  },
  {
    "text": "Lambda function API creation like that's the the big heart of this project right",
    "start": "90159",
    "end": "95520"
  },
  {
    "text": "here um showing how you create something uh with all these different servess properties in like a really simple way",
    "start": "95520",
    "end": "102799"
  },
  {
    "text": "and the final part is the pipeline and that's the glue that connects everything together it has the pipeline it has the",
    "start": "102799",
    "end": "109159"
  },
  {
    "text": "code build so you actually build your function uh it creates your um API",
    "start": "109159",
    "end": "115000"
  },
  {
    "text": "Gateway stages all this together inside uh this last component so let's go",
    "start": "115000",
    "end": "120520"
  },
  {
    "text": "through the website uh we have the website directory",
    "start": "120520",
    "end": "125880"
  },
  {
    "text": "we have four main components which you go over here we have the index file which is just a basic index file for",
    "start": "125880",
    "end": "131200"
  },
  {
    "text": "your website app.js that's JavaScript that actually shows and displays the little Sam which we're going to show you",
    "start": "131200",
    "end": "138360"
  },
  {
    "text": "in a second and here is our friend Sam Sam is this friendly little squirrel",
    "start": "138360",
    "end": "144760"
  },
  {
    "text": "here and he's going to take us on a bit of Adventure uh through this project and we'll see more of him later Sam loves a",
    "start": "144760",
    "end": "150519"
  },
  {
    "text": "good Adventure I know he has a good time that's for sure he had a great time at reinvent I will tell you that and then",
    "start": "150519",
    "end": "156840"
  },
  {
    "text": "finally we have the website yaml and this is a cloud information template uh that we're going to use to create this",
    "start": "156840",
    "end": "162400"
  },
  {
    "text": "static website so let's launch this stack awesome so what Rory is doing now is he",
    "start": "162400",
    "end": "169560"
  },
  {
    "text": "just went ahead and clicked on the launch stack option directly from the GitHub repository which has now taken",
    "start": "169560",
    "end": "175280"
  },
  {
    "text": "him directly into his AWS console perfect I'm going to going to create my",
    "start": "175280",
    "end": "180920"
  },
  {
    "text": "stack I'm going to give it a a quick name here let's call it uh serverless",
    "start": "180920",
    "end": "187159"
  },
  {
    "text": "website that's good enough sounds good to me sounds great right and we're going to go here and we're going to click next",
    "start": "187159",
    "end": "194319"
  },
  {
    "text": "and create this project so Rory what's happening in the background right now so",
    "start": "194319",
    "end": "199799"
  },
  {
    "text": "for this one is actually really simple this one's just going to create for you uh an S3 bucket and create the correct",
    "start": "199799",
    "end": "206239"
  },
  {
    "text": "uh properties on the bucket so that you can basically anyone can call get on the objects inside the buckets um just like",
    "start": "206239",
    "end": "213480"
  },
  {
    "text": "the standard way you would create a S3 static website uh once we get to the",
    "start": "213480",
    "end": "218599"
  },
  {
    "text": "pipeline we'll be seeing more complicated logic where that does more of like creating roles and permissions",
    "start": "218599",
    "end": "223760"
  },
  {
    "text": "and also different stages of a pipeline um but for this one it literally is just creating an S3 bucket and some",
    "start": "223760",
    "end": "229560"
  },
  {
    "text": "permissions on it great so we're done and we'll and we'll go ahead and link to some other articles on um creating",
    "start": "229560",
    "end": "236000"
  },
  {
    "text": "static S3 websites for people who aren't fully aware of how those work but for now we'll go ahead and move on to the next step yeah so afterwards we have",
    "start": "236000",
    "end": "244519"
  },
  {
    "text": "this website here we can take a look at the stack that was created it we actually have uh if we go to the outputs",
    "start": "244519",
    "end": "251599"
  },
  {
    "text": "as part of this where are we here we are uh one of them is the website",
    "start": "251599",
    "end": "259079"
  },
  {
    "text": "URL and we're going to take this website URL and if we go to that in our browser",
    "start": "259079",
    "end": "264560"
  },
  {
    "text": "we can see right now there's nothing we haven't put anything to the bucket but it's created it's running um but as I",
    "start": "264560",
    "end": "271039"
  },
  {
    "text": "said there's nothing there so this shows us at this point that the S3 bucket exists but there's no content so we're",
    "start": "271039",
    "end": "276360"
  },
  {
    "text": "getting a 404 so we have to make that part all right all right let's do that so the next stop is there's a script",
    "start": "276360",
    "end": "281880"
  },
  {
    "text": "called upload website. sh um that's inside this repository you just run this",
    "start": "281880",
    "end": "288120"
  },
  {
    "text": "and it will you pass in the bucket name which is what was created and we will it will upload all the content and when you",
    "start": "288120",
    "end": "293759"
  },
  {
    "text": "refresh the page you will see well we let's see what we see I don't want to let's see what happens do and show me",
    "start": "293759",
    "end": "300520"
  },
  {
    "text": "so we're going to go into my repo here and as I show you here there's a",
    "start": "300520",
    "end": "306199"
  },
  {
    "text": "file called upload website and hopefully you already remembered what he named his S3 bucket I did not you whoops don't",
    "start": "306199",
    "end": "314360"
  },
  {
    "text": "worry I have it just over here so I'm not too far away so this is what's useful about the cloud formation stack",
    "start": "314360",
    "end": "320160"
  },
  {
    "text": "we have these output variables and we can go back and go ahead and get the bucket name exactly so I have that I",
    "start": "320160",
    "end": "325919"
  },
  {
    "text": "have my sh upload websites run the script this is going to upload all the",
    "start": "325919",
    "end": "331199"
  },
  {
    "text": "files into there and if I go back to that website that was previously not found we should he Sam floating around",
    "start": "331199",
    "end": "339840"
  },
  {
    "text": "he is enjoying space he's having a great time is that space or where where is he",
    "start": "339840",
    "end": "345840"
  },
  {
    "text": "purple space purple space purple space very different than regular it's like sub space yeah you know there's",
    "start": "345840",
    "end": "351360"
  },
  {
    "text": "different colors of space the one you see is like dark space this isible light versus invisible light exactly um so Sam",
    "start": "351360",
    "end": "358400"
  },
  {
    "text": "just going to float around right now he's pretty lonely this is what was happening at re event he was there he was having a good time but he was all",
    "start": "358400",
    "end": "364039"
  },
  {
    "text": "alone and the point of this project is to give Sam some friends he likes to",
    "start": "364039",
    "end": "369199"
  },
  {
    "text": "party he was at reent um and you just need to make him have a better time",
    "start": "369199",
    "end": "375039"
  },
  {
    "text": "let's let's show them how to do that let's show you guys how to do that so step two the",
    "start": "375039",
    "end": "381400"
  },
  {
    "text": "API the API is as I said kind of the heart of what we're trying to show here",
    "start": "381400",
    "end": "388240"
  },
  {
    "text": "it is has the s function where defined with our sam. yaml uh this is",
    "start": "388240",
    "end": "394840"
  },
  {
    "text": "essentially a Sam template file that is used to create our API Gateway resource and our Lambda function and hook them up",
    "start": "394840",
    "end": "401400"
  },
  {
    "text": "together so that API Gateway when you call that endpoint invokes your function for you",
    "start": "401400",
    "end": "408280"
  },
  {
    "text": "uh we have this package.json because I'm using nodejs 4.3 for my language here we're using that to Define which",
    "start": "408280",
    "end": "414720"
  },
  {
    "text": "packages I need built into my uh my Lambda function we got my index.js which",
    "start": "414720",
    "end": "420639"
  },
  {
    "text": "is my actual Lambda function code I have a build spec file and this is used by",
    "start": "420639",
    "end": "426039"
  },
  {
    "text": "code build uh to actually tell it what steps to run uh inside the building",
    "start": "426039",
    "end": "432120"
  },
  {
    "text": "stage and then this beta. Json is specifically we're uh basically it's a cloud formation staging file so we're",
    "start": "432120",
    "end": "438319"
  },
  {
    "text": "using this to say in the beta stage of my cloud for in the beta stage of my",
    "start": "438319",
    "end": "444120"
  },
  {
    "text": "pipeline input these parameters into my cloud formation template so so at the",
    "start": "444120",
    "end": "450479"
  },
  {
    "text": "end of this pipeline um Rory will go ahead and show you specifically what the",
    "start": "450479",
    "end": "455919"
  },
  {
    "text": "actual Lambda functions doing but for now he's going to continue walking through the actual process of getting",
    "start": "455919",
    "end": "461479"
  },
  {
    "text": "this built out I'm going to take a quick moment I'm not sure if this important to the podcast but it got really dark in",
    "start": "461479",
    "end": "467800"
  },
  {
    "text": "this room really quickly yes all of a sudden the lights turned out and Rory and I are sitting in complete darkness I",
    "start": "467800",
    "end": "475159"
  },
  {
    "text": "am lounging very comfortably but Brian is sitting on the floor trying to find",
    "start": "475159",
    "end": "480240"
  },
  {
    "text": "the light switch all right so as Brian tries to find the light switch let's go and take",
    "start": "480240",
    "end": "485759"
  },
  {
    "text": "a look what we need to do so we have these files it's already in the app directory if you want to take a look at what it's doing specifically I recommend",
    "start": "485759",
    "end": "493000"
  },
  {
    "text": "um going to the readme and going to these files and seeing what's going on um but we're going to actually create a",
    "start": "493000",
    "end": "498639"
  },
  {
    "text": "new GitHub repo uh place the files from this API directory into that repo and",
    "start": "498639",
    "end": "503919"
  },
  {
    "text": "we'll be using that repo in a little bit so let's do those steps so we're going",
    "start": "503919",
    "end": "508960"
  },
  {
    "text": "to go to the top I'm just in GitHub I'm going to create a new",
    "start": "508960",
    "end": "514159"
  },
  {
    "text": "repository I'm going to call this repository uh server",
    "start": "514159",
    "end": "519440"
  },
  {
    "text": "lless Sam and then we're going to go and create this",
    "start": "519440",
    "end": "527040"
  },
  {
    "text": "repository so all done I now have my I can get clone do all sorts of fun stuff",
    "start": "527720",
    "end": "533880"
  },
  {
    "text": "with this so now you have a brand new empty GitHub repository repository and",
    "start": "533880",
    "end": "539560"
  },
  {
    "text": "this can also be done in code commit or any other private GitHub repository yeah it's very true so you",
    "start": "539560",
    "end": "547000"
  },
  {
    "text": "know what I'm just going to use this here this create a new repository on the command line so we're going to do this",
    "start": "547000",
    "end": "554200"
  },
  {
    "text": "here I'm going to go out of my original directory create one called",
    "start": "554200",
    "end": "561000"
  },
  {
    "text": "serverless Sam",
    "start": "561000",
    "end": "567000"
  },
  {
    "text": "oh there we go too many serverless programs two serverless two serverless",
    "start": "567680",
    "end": "573519"
  },
  {
    "text": "no such thing no such thing so I'm gonna run all these commands it gave me it's going to pull it",
    "start": "573519",
    "end": "579320"
  },
  {
    "text": "down and here I am I got a little read me I already pushed those changes if I refresh this page let's go to get a be",
    "start": "579320",
    "end": "585560"
  },
  {
    "text": "there great and now I'm going to add the API directory files to here so",
    "start": "585560",
    "end": "592399"
  },
  {
    "text": "we're going to copy uh we're going to go to AWS API and",
    "start": "592399",
    "end": "599160"
  },
  {
    "text": "we're we're going to pass them to serverless Sam so we can see here we've add the",
    "start": "599160",
    "end": "605920"
  },
  {
    "text": "directory if we go and list the files in that directory we can see they're all there",
    "start": "605920",
    "end": "611120"
  },
  {
    "text": "still so let's go and actually we're going to need to add these first let's commit these",
    "start": "611120",
    "end": "617240"
  },
  {
    "text": "changes all right so now let's actually push these files so Rory's pushing these",
    "start": "617240",
    "end": "622839"
  },
  {
    "text": "files up to his new GitHub repository you didn't have to say it like that you could have said that a little bit more",
    "start": "622839",
    "end": "628640"
  },
  {
    "text": "friendly just sort clear uh now if we look at my repo uh we can see that I have all the",
    "start": "628640",
    "end": "636160"
  },
  {
    "text": "files I have the beta. Json the build spec my Lambda function my saml do yaml",
    "start": "636160",
    "end": "641440"
  },
  {
    "text": "everything I need for this function and this is all I need to get my serverless",
    "start": "641440",
    "end": "647880"
  },
  {
    "text": "Sam application running based off of the code correct awesome okay so next things",
    "start": "647880",
    "end": "654959"
  },
  {
    "text": "next let's go to our old pipeline our old friendly",
    "start": "654959",
    "end": "661880"
  },
  {
    "text": "pipeline so what is this pipeline GNA do",
    "start": "661880",
    "end": "666920"
  },
  {
    "text": "as Brian aply pointed out this is also step three and yes this is step three Brian thank you for reminding me the",
    "start": "666920",
    "end": "674040"
  },
  {
    "text": "pipeline is going to have uh a whole bunch of components I have them listed here I'll give go over them in a second",
    "start": "674040",
    "end": "681079"
  },
  {
    "text": "but it's essentially going to be the part that glues your application and your development and your testing all",
    "start": "681079",
    "end": "687040"
  },
  {
    "text": "together so we're going to have an S3 bucket that basically is used by code",
    "start": "687040",
    "end": "693399"
  },
  {
    "text": "build code pipeline to store and pass around your deployment artifacts we have",
    "start": "693399",
    "end": "701160"
  },
  {
    "text": "code build which will actually take your code uh run your build commands on your",
    "start": "701160",
    "end": "708760"
  },
  {
    "text": "repo and give you an output the next part is code pipelines as I said which is the part that brings it all together",
    "start": "708760",
    "end": "716279"
  },
  {
    "text": "then there's a bunch of IM roles and policies that we need to make this all happen behind the scenes so let's go",
    "start": "716279",
    "end": "723959"
  },
  {
    "text": "ahead and create this pipeline uh what do you think Brian you know I could use a bit more enthusiasm you know someone you know",
    "start": "723959",
    "end": "730800"
  },
  {
    "text": "you're heading all these podcasts screencasts can need some more enthusiasm out of you for me to click",
    "start": "730800",
    "end": "736480"
  },
  {
    "text": "this button I'm trying I'm trying go ahead and click that button for me all right I'll click this button so we're going to go here same",
    "start": "736480",
    "end": "742680"
  },
  {
    "text": "screen as before when we were doing the static website this is the cloud formation create stack screen that is",
    "start": "742680",
    "end": "748920"
  },
  {
    "text": "correct correct and we go here click next it gives us all of these wonderful",
    "start": "748920",
    "end": "757360"
  },
  {
    "text": "parameters that we can fill in and uh basically we're going to",
    "start": "757360",
    "end": "764079"
  },
  {
    "text": "create this stack for us so let's give it a name we're going to call this the",
    "start": "764079",
    "end": "770000"
  },
  {
    "text": "serverless pipeline what should our application name be",
    "start": "770000",
    "end": "776040"
  },
  {
    "text": "Brian Sam around the world Sam around around the world that's beautiful thank",
    "start": "776040",
    "end": "782760"
  },
  {
    "text": "you I do I do uh have a minor in uh creativity oh is that what that is yeah",
    "start": "782760",
    "end": "790480"
  },
  {
    "text": "okay uh the next part we need to put is our GitHub repo name which is in my case",
    "start": "790480",
    "end": "796519"
  },
  {
    "text": "serverless Sam and my GitHub token so this is the ooth token you need from",
    "start": "796519",
    "end": "801760"
  },
  {
    "text": "GitHub uh I'm going to grab one right now you needed to have essentially be able to read these repos and we're going",
    "start": "801760",
    "end": "809240"
  },
  {
    "text": "to use that so I'm going to go to mine you go to github.com SL settings SL",
    "start": "809240",
    "end": "817199"
  },
  {
    "text": "tokens going to generate a new token uh going to call it um let's call",
    "start": "817199",
    "end": "823360"
  },
  {
    "text": "it serverless easy enough to remember and I",
    "start": "823360",
    "end": "828480"
  },
  {
    "text": "need the repo hook uh I'm going to generate a token",
    "start": "828480",
    "end": "833759"
  },
  {
    "text": "you can see my token right now but don't think you can use this token cuz I'm definitely revoking it as soon as this",
    "start": "833759",
    "end": "839279"
  },
  {
    "text": "is done I'm looking at you Brian he might forget I I trust the people listening but I don't trust Brian I'm",
    "start": "839279",
    "end": "847480"
  },
  {
    "text": "already using it right now on my other computer all right so we're going to keep going here I've put in my token I'm",
    "start": "847480",
    "end": "852800"
  },
  {
    "text": "going to click next I'm going to go through the screens here telling me um",
    "start": "852800",
    "end": "858600"
  },
  {
    "text": "everything I need to know about what I'm creating I'm going to acknowledge that I am wants to create I am resources",
    "start": "858600",
    "end": "863959"
  },
  {
    "text": "because I definitely wanted to and let's click that create button",
    "start": "863959",
    "end": "870639"
  },
  {
    "text": "now just like we had for the serverless website we're going to see this pipeline",
    "start": "870639",
    "end": "876160"
  },
  {
    "text": "being built for us what do you think Brian yeah so at this point Rory is sitting on the cloud",
    "start": "876160",
    "end": "882360"
  },
  {
    "text": "formation screen and we are waiting for his stack to finish creating uh if R",
    "start": "882360",
    "end": "887600"
  },
  {
    "text": "goes and clicks on one of those Stacks we can actually see the events that are",
    "start": "887600",
    "end": "893120"
  },
  {
    "text": "happening so in this stack this is the master stack it's going to create first",
    "start": "893120",
    "end": "898480"
  },
  {
    "text": "the roles you need to uh do all the pipeline funny business that we talked",
    "start": "898480",
    "end": "904199"
  },
  {
    "text": "about and then the second stack is going to be uh the actual pipeline resources",
    "start": "904199",
    "end": "909519"
  },
  {
    "text": "so if we go into here here we go oh it's already done that's why Rory",
    "start": "909519",
    "end": "916880"
  },
  {
    "text": "had his filters turned on so if we go into here we can see it's building the role specific for cloud",
    "start": "916880",
    "end": "923720"
  },
  {
    "text": "formation code build code pipeline um and it's adding these policies over over",
    "start": "923720",
    "end": "929279"
  },
  {
    "text": "here so everything we need for our Pipeline and this stack is relatively small so the time to create should be",
    "start": "929279",
    "end": "936079"
  },
  {
    "text": "pretty quick like we're essentially done already uh it's just this last one just has to wrap everything up but if I now",
    "start": "936079",
    "end": "942480"
  },
  {
    "text": "go to code pipeline I can see that here is my Sam around the world pipeline I know careful",
    "start": "942480",
    "end": "949000"
  },
  {
    "text": "Brian this is a very small room I can only go so far away from you is the Sam actually going to go all the way around",
    "start": "949000",
    "end": "955079"
  },
  {
    "text": "the world let's find out I don't know it's not what it's supposed to do so maybe uh so the first thing it's",
    "start": "955079",
    "end": "961639"
  },
  {
    "text": "doing is you can see here at the top going to circle this with my mouse is it",
    "start": "961639",
    "end": "968319"
  },
  {
    "text": "has successfully hooked up to my GitHub repo it has noticed that there is new",
    "start": "968319",
    "end": "974959"
  },
  {
    "text": "code in it looking at the latest commit The Next Step it's going to do is take this code it's going to run my build",
    "start": "974959",
    "end": "981199"
  },
  {
    "text": "step which I've defined um I've in our uh code pipeline uh creation I told it a",
    "start": "981199",
    "end": "991360"
  },
  {
    "text": "uh build container type to use because this is a nodejs application I'm using a node build container and has uh npm",
    "start": "991360",
    "end": "999279"
  },
  {
    "text": "installed to pull down my packages uh we're going to run this it's going to create my build artifact which",
    "start": "999279",
    "end": "1005639"
  },
  {
    "text": "we'll then use in the later Parts here in the deploy stage where we'll be using Cloud information to create a change set",
    "start": "1005639",
    "end": "1012319"
  },
  {
    "text": "and execute this change set so we'll see as we go through this we're going to create our API Gateway stages H it up",
    "start": "1012319",
    "end": "1019199"
  },
  {
    "text": "with Lambda do all sorts of awesome stuff great yeah so this is while this is happening uh I think what will be",
    "start": "1019199",
    "end": "1026319"
  },
  {
    "text": "really interesting to see if we go back to my pipeline or the code",
    "start": "1026319",
    "end": "1031959"
  },
  {
    "text": "itself is what is happening in the API and how did this what is like what is",
    "start": "1032319",
    "end": "1038199"
  },
  {
    "text": "happening to this build spec so this is all my build spec does I have uh some environment",
    "start": "1038199",
    "end": "1045720"
  },
  {
    "text": "variables here and these are related to you can just have input that you put and Define",
    "start": "1045720",
    "end": "1051600"
  },
  {
    "text": "here um what we are using is we have two commands that I'm running and we're",
    "start": "1051600",
    "end": "1057440"
  },
  {
    "text": "going to run npm install and that will take my you know just a regular npm install look at my package.json file see",
    "start": "1057440",
    "end": "1064480"
  },
  {
    "text": "what uh requirements I need and then download those files from an mpm repo put them in the node modules path and",
    "start": "1064480",
    "end": "1071240"
  },
  {
    "text": "kind of do everything it needs to do just as like it would in your own computer and the next step is this cloud formation package which is that new uh",
    "start": "1071240",
    "end": "1079840"
  },
  {
    "text": "um command that we released with Sam that takes your saml yaml which is what I apply call my",
    "start": "1079840",
    "end": "1087679"
  },
  {
    "text": "Sam template it just rings off the tongue Bri it very eloquent thank you I am a poet",
    "start": "1087679",
    "end": "1094360"
  },
  {
    "text": "in a previous life ah yes uh so it takes your Sam o yaml your Sam template um an",
    "start": "1094360",
    "end": "1101200"
  },
  {
    "text": "S3 bucket where it will store the result and it outputs you you give it an output",
    "start": "1101200",
    "end": "1108080"
  },
  {
    "text": "file so I've told it to give my post Sam yaml because you know it's post it's not Sam anymore it's cloud formation that's",
    "start": "1108080",
    "end": "1114120"
  },
  {
    "text": "what Sam does uh and then in my artifacts I'm I'm telling it to pass out this postam yaml and this beta. Json and",
    "start": "1114120",
    "end": "1122640"
  },
  {
    "text": "what what behind the scenes this will do is it will take my little uh Sam template it will expand it",
    "start": "1122640",
    "end": "1130280"
  },
  {
    "text": "out into a cloud formation valid cloud formation and uh essentially be passed",
    "start": "1130280",
    "end": "1136799"
  },
  {
    "text": "to the next stage where it will run with the CH create change set and the execute change set cool so let's go back to my",
    "start": "1136799",
    "end": "1143240"
  },
  {
    "text": "pipeline so looks like we got some building going on here so if we go into the build",
    "start": "1143240",
    "end": "1149120"
  },
  {
    "text": "step we can see that it succeeded and we can even see the logs here uh that's",
    "start": "1149120",
    "end": "1155960"
  },
  {
    "text": "super handy as we can see here right now we can see that it's running this step",
    "start": "1155960",
    "end": "1161200"
  },
  {
    "text": "that I was telling you about is uploading the build artifact and it's going to run execute the following",
    "start": "1161200",
    "end": "1166480"
  },
  {
    "text": "command it tells you it succeeded it gives you any error information oh you can even see that MTM is warning me",
    "start": "1166480",
    "end": "1172720"
  },
  {
    "text": "about a specific file or I was missing my license file on my package. Json I'm sorry",
    "start": "1172720",
    "end": "1178000"
  },
  {
    "text": "Brian what I'm sorry well next time I'll get it for",
    "start": "1178000",
    "end": "1184400"
  },
  {
    "text": "sure so now that's done it's going to do the next step right here the create",
    "start": "1184400",
    "end": "1190159"
  },
  {
    "text": "change set this is just a standard cloud formation create change set um execute",
    "start": "1190159",
    "end": "1197080"
  },
  {
    "text": "change set so this is deploy your actual Lambda function in your API Gateway that",
    "start": "1197080",
    "end": "1202400"
  },
  {
    "text": "is correct great that is correct so we'll see that happening in a minut and if we jump over to the cloud formation",
    "start": "1202400",
    "end": "1208440"
  },
  {
    "text": "window yeah sure why not let's go to it so here's our chain set and it's",
    "start": "1208440",
    "end": "1214320"
  },
  {
    "text": "already complete already complete we have the different API stages we have",
    "start": "1214320",
    "end": "1220080"
  },
  {
    "text": "the different permissions and roles that it needs like everything you would need to have a good time with cloud formation",
    "start": "1220080",
    "end": "1227400"
  },
  {
    "text": "perfect yeah so let's go back to here we can see it succeeded the create change",
    "start": "1227400",
    "end": "1233760"
  },
  {
    "text": "set the next thing that's going to happen is we're going to run the next step of the deploy which is the execute",
    "start": "1233760",
    "end": "1239760"
  },
  {
    "text": "change set that should take not too much time and in fact we can probably even go",
    "start": "1239760",
    "end": "1245520"
  },
  {
    "text": "right now to API",
    "start": "1245520",
    "end": "1249200"
  },
  {
    "text": "Gateway in fact we cannot go yet to API giveway it will take a second to do this part of it",
    "start": "1252280",
    "end": "1260480"
  },
  {
    "text": "as with all demos sometimes things take a little bit longer than they should oh look if I",
    "start": "1260600",
    "end": "1266799"
  },
  {
    "text": "just waited a little bit longer yeah so this is the stack that it created uh we",
    "start": "1266799",
    "end": "1271919"
  },
  {
    "text": "can see here it's creating the different resources so it's creating this role for me it's creating the function it is",
    "start": "1271919",
    "end": "1278440"
  },
  {
    "text": "creating the API and now it's creating the different deployment steps for that so while that's running I what I will do",
    "start": "1278440",
    "end": "1285600"
  },
  {
    "text": "now is I will go over to Lambda like how you took advantage of",
    "start": "1285600",
    "end": "1292600"
  },
  {
    "text": "the nice new filter option very easy to get around I find things when I just",
    "start": "1292600",
    "end": "1298480"
  },
  {
    "text": "remember what it's called yeah I easier to then parse everything hopefully you don't forget what lambda's called I",
    "start": "1298480",
    "end": "1304039"
  },
  {
    "text": "hopefully not uh and so here we are here is my function here's what I had basically",
    "start": "1304039",
    "end": "1311440"
  },
  {
    "text": "used my code pipeline to deploy and run through it's everything that is uh I had",
    "start": "1311440",
    "end": "1316720"
  },
  {
    "text": "defined previously I have my environment variables that I had shown you before uh",
    "start": "1316720",
    "end": "1323240"
  },
  {
    "text": "and we pass those in for a s multipler which you can find out more detep tables of what that does in the code and and",
    "start": "1323240",
    "end": "1330080"
  },
  {
    "text": "code pipeline did all this for you you didn't you never went into the Lambda console you never used the Lambda CLI n",
    "start": "1330080",
    "end": "1336440"
  },
  {
    "text": "it just took your code straight from GitHub and automatically deployed it to Lambda and apad Gateway for you you say",
    "start": "1336440",
    "end": "1343480"
  },
  {
    "text": "like that it kind of sounds like magic Brian kind of sounds like magic we sprinkle a little bit of Magic on top of things it makes them better and now you",
    "start": "1343480",
    "end": "1349960"
  },
  {
    "text": "learn the secret sauce of how Lambda and API we work together we just sprinkle dust magic dust all over the place and",
    "start": "1349960",
    "end": "1357320"
  },
  {
    "text": "we get these great features it's amazing um so let's go to my Sam around the world server which is what we were",
    "start": "1357320",
    "end": "1364039"
  },
  {
    "text": "talking about before let's find an endpoint let's find an actual endpoint for us to use so",
    "start": "1364039",
    "end": "1370960"
  },
  {
    "text": "we're just going to use the prod endpoint this should be all I need just invoke this if I go to this URL",
    "start": "1370960",
    "end": "1379320"
  },
  {
    "text": "and that is exactly one we did it that's it fixed it we're so good at this awesome so this",
    "start": "1379320",
    "end": "1387600"
  },
  {
    "text": "is not so just so we're clear this isn't everything that this is shows us that it's working we're not done we're not done this isn't an it this is it looks",
    "start": "1387600",
    "end": "1394799"
  },
  {
    "text": "good sure it looks good but we'll was confirmed at this point that APA Gateway",
    "start": "1394799",
    "end": "1400320"
  },
  {
    "text": "is successfully talking to your Lambda function AP Gateway is talking to your Lambda function all this was done",
    "start": "1400320",
    "end": "1406080"
  },
  {
    "text": "without us going to any of the consoles besides cloud formation we had our code",
    "start": "1406080",
    "end": "1411400"
  },
  {
    "text": "in our own repo it connected it read the changes and we're going to see in a second us updating this functions so",
    "start": "1411400",
    "end": "1418520"
  },
  {
    "text": "that when we make a change we're going to see it deployed perfect and that's awesome and the output will be something",
    "start": "1418520",
    "end": "1425640"
  },
  {
    "text": "fun and exciting hopefully fun and exciting fun and exciting all right so",
    "start": "1425640",
    "end": "1430679"
  },
  {
    "text": "there's one last thing we need to do here for environment variables you can see here um where we want to allow cores",
    "start": "1430679",
    "end": "1438039"
  },
  {
    "text": "essentially uh for our function and we have a definition of an explain what is going",
    "start": "1438039",
    "end": "1443679"
  },
  {
    "text": "on inside here uh inside our application as well so we're just going to take the",
    "start": "1443679",
    "end": "1449720"
  },
  {
    "text": "URL from our S3 bucket Sam's friendly",
    "start": "1449720",
    "end": "1455000"
  },
  {
    "text": "farm and we're going to set that as the environment variable over here so our website can call it super",
    "start": "1455000",
    "end": "1462840"
  },
  {
    "text": "simple great great how do you like those new environment variables oh man so good",
    "start": "1462840",
    "end": "1469640"
  },
  {
    "text": "so good um yeah uh they definitely worked really hard to get this out and",
    "start": "1469640",
    "end": "1475320"
  },
  {
    "text": "it turned out really well so and honestly like this when I was at reinvent in December environment",
    "start": "1475320",
    "end": "1481039"
  },
  {
    "text": "variables or were probably one of the things the customers like were so excited about the",
    "start": "1481039",
    "end": "1486520"
  },
  {
    "text": "most we had just released it probably about two three weeks prior to that uh so there's a lot of excitement around",
    "start": "1486520",
    "end": "1492720"
  },
  {
    "text": "that I'm still excited about it to be honest so we have the next thing we're",
    "start": "1492720",
    "end": "1497960"
  },
  {
    "text": "going to do do is we're going to update that function right let's go to our other repo the one",
    "start": "1497960",
    "end": "1507120"
  },
  {
    "text": "that we that we created earlier yeah all right so I'm going to go to my repo and",
    "start": "1507120",
    "end": "1514279"
  },
  {
    "text": "I'm going to go to my index uh. JS",
    "start": "1514279",
    "end": "1519399"
  },
  {
    "text": "file uh so we're going to make a change to this here and the main change we're",
    "start": "1519399",
    "end": "1525880"
  },
  {
    "text": "going to do is we're going to change this far Sam counts what is that VAR doing that is an excellent question",
    "start": "1525880",
    "end": "1533760"
  },
  {
    "text": "Brian I have no idea no I do I do so I wrote this uh so what this does is if we",
    "start": "1533760",
    "end": "1542360"
  },
  {
    "text": "go back to our Sam website here yep Sam's all alone he's there one of them",
    "start": "1542360",
    "end": "1548159"
  },
  {
    "text": "there's no one there beside me I'm guessing that that there's no one is the number of",
    "start": "1548159",
    "end": "1554360"
  },
  {
    "text": "Sams we see on the screen you're right you're right yeah that's right did I spoil the you did so we're going to edit",
    "start": "1554360",
    "end": "1560200"
  },
  {
    "text": "this uh inside GitHub make it easier I'm going to let's try it let's",
    "start": "1560200",
    "end": "1567440"
  },
  {
    "text": "do 15 15 all right a lot of Sams if this is too many Sams oh my god let's commit",
    "start": "1567440",
    "end": "1574080"
  },
  {
    "text": "these changes make 15",
    "start": "1574080",
    "end": "1579399"
  },
  {
    "text": "Sams here perfect so now what we're going to do we",
    "start": "1579399",
    "end": "1585320"
  },
  {
    "text": "committed this change so what what should happen if you were thinking of go check the code pipeline oh that's a good",
    "start": "1585320",
    "end": "1591279"
  },
  {
    "text": "idea Brian let's go check our code pipeline because if we go back if we",
    "start": "1591279",
    "end": "1597720"
  },
  {
    "text": "think back to what we talked about before c pipeline is already talking my GitHub repository yep you should pick up",
    "start": "1597720",
    "end": "1604159"
  },
  {
    "text": "this change say this looks different something something about this is different and there we go and there we",
    "start": "1604159",
    "end": "1611080"
  },
  {
    "text": "go it's picking up a change that we'll see the steps around it going in a second so if we drop back to",
    "start": "1611080",
    "end": "1618919"
  },
  {
    "text": "to say I'm floating around yeah and talk a little bit more",
    "start": "1618919",
    "end": "1625679"
  },
  {
    "text": "about why the continuous deployment is useful for this type of situation let's do that but give me one",
    "start": "1625679",
    "end": "1632480"
  },
  {
    "text": "more Che second and then we'll get to that uh there's one last thing we need",
    "start": "1632480",
    "end": "1637720"
  },
  {
    "text": "to change here and it's only minor and the reason we're changing this so if you",
    "start": "1637720",
    "end": "1642919"
  },
  {
    "text": "go to the website and specifically um the app.js file this is",
    "start": "1642919",
    "end": "1649640"
  },
  {
    "text": "the file that updates the number of Sams you see on the screen and this line",
    "start": "1649640",
    "end": "1655200"
  },
  {
    "text": "right here is where we need to put that URL that we created for the API Gateway so that's the only place inside",
    "start": "1655200",
    "end": "1663000"
  },
  {
    "text": "this file we need to change so we're going to make a change and do that upload website we're going to run that",
    "start": "1663000",
    "end": "1669399"
  },
  {
    "text": "exact same script St site back3 that is correct so let's quickly do that [Music]",
    "start": "1669399",
    "end": "1676000"
  },
  {
    "text": "change we're going to go into and you're just going to put your API Gateway URL in there correct that is",
    "start": "1676000",
    "end": "1683600"
  },
  {
    "text": "correct and I'm going to try and not embarrass myself with my Vim Fu",
    "start": "1683600",
    "end": "1688840"
  },
  {
    "text": "here awesome so I got insert API Gateway URL here I'm going to go back to CU I've",
    "start": "1688840",
    "end": "1694200"
  },
  {
    "text": "completely forgotten what my end point is I know you told me Brian never forget never forget and I definitely forgot so",
    "start": "1694200",
    "end": "1701480"
  },
  {
    "text": "let's go to API Gateway go to my Sam around the world",
    "start": "1701480",
    "end": "1708679"
  },
  {
    "text": "demo go to my prod stage get this fantastic URL",
    "start": "1708679",
    "end": "1717320"
  },
  {
    "text": "perfect update here going to go all the way to that change",
    "start": "1717320",
    "end": "1723880"
  },
  {
    "text": "that boom did I impress you Brian with my shoo nice oh thank",
    "start": "1723880",
    "end": "1730159"
  },
  {
    "text": "God I was very nervous there all right so the next step is we're just going to run the same thing we did before right",
    "start": "1730159",
    "end": "1736279"
  },
  {
    "text": "so I actually have that in my history the sh upload so that way I don't have",
    "start": "1736279",
    "end": "1742440"
  },
  {
    "text": "to remember that bucket because I also forgot that bucket name so it's uploaded we can even if we",
    "start": "1742440",
    "end": "1751240"
  },
  {
    "text": "refresh the page it should look the same it should function the same but in the background it is now calling our API and",
    "start": "1751240",
    "end": "1757960"
  },
  {
    "text": "how can we verify that uh so we can either wait for the pipeline to deploy mhm the other option",
    "start": "1757960",
    "end": "1765320"
  },
  {
    "text": "is we can go if we want to get really technical we can inspect it why don't we just see where the pipeline's at let's take a look at the pipeline so I think",
    "start": "1765320",
    "end": "1772159"
  },
  {
    "text": "you actually asked a question before Brian do you mind re asking that question I did the question that I asked",
    "start": "1772159",
    "end": "1777919"
  },
  {
    "text": "was why is continuous deployment useful in a situation like",
    "start": "1777919",
    "end": "1783960"
  },
  {
    "text": "this oh what a trick question no uh continuous deployment is is important in",
    "start": "1783960",
    "end": "1789880"
  },
  {
    "text": "these just in general because it it makes you be able to iterate faster right the you can make changes you can",
    "start": "1789880",
    "end": "1798080"
  },
  {
    "text": "kind of work on uh Concepts and ideas and you can see them and like test them",
    "start": "1798080",
    "end": "1803919"
  },
  {
    "text": "really fast and that's the main thing behind this you don't have to do manual deployments you you you are safe in in",
    "start": "1803919",
    "end": "1810519"
  },
  {
    "text": "in what you do and you have a process that makes the automation better uh and there goes the lights again and now Rory",
    "start": "1810519",
    "end": "1818000"
  },
  {
    "text": "and are sitting in the dark and now that it's dark out again let us talk again",
    "start": "1818000",
    "end": "1823080"
  },
  {
    "text": "how how does cicd make you feel Brian well I would feel better about it if we",
    "start": "1823080",
    "end": "1829360"
  },
  {
    "text": "had better continuous integration for the lights motion detection in this room unfortunately that's not hooked up to",
    "start": "1829360",
    "end": "1836399"
  },
  {
    "text": "any of these things no um so yeah back to why it's important it allows you to be more agile it makes it so that you",
    "start": "1836399",
    "end": "1845039"
  },
  {
    "text": "have a pattern that everyone is able to do consistently and you know that if you",
    "start": "1845039",
    "end": "1850440"
  },
  {
    "text": "follow this pattern um you'll be able to get good code out there and make changes quickly where we at right now in our",
    "start": "1850440",
    "end": "1856880"
  },
  {
    "text": "current code pipeline we're just about to execute that change set oh oh my goodness oh my gracious so we should go",
    "start": "1856880",
    "end": "1863519"
  },
  {
    "text": "right back to this page because we don't want to miss a changing that's it going to change dynamically for us huh how",
    "start": "1863519",
    "end": "1868559"
  },
  {
    "text": "often is it checking that endpoint today I didn't I didn't pay attention to your",
    "start": "1868559",
    "end": "1873919"
  },
  {
    "text": "code some period of seconds something greater than one something greater than",
    "start": "1873919",
    "end": "1879320"
  },
  {
    "text": "one less yeah it's it's about 10 seconds I think so roughly every 10 we'll just",
    "start": "1879320",
    "end": "1885120"
  },
  {
    "text": "assume that it says 10 seconds roughly every 10 seconds it's hitting your API Gateway end point",
    "start": "1885120",
    "end": "1891360"
  },
  {
    "text": "which is hitting your Lambda function and returning a number in this situation",
    "start": "1891360",
    "end": "1896960"
  },
  {
    "text": "currently it's one cuz we see one Lovely Sam in purple space just the loveliest",
    "start": "1896960",
    "end": "1902399"
  },
  {
    "text": "of Sams loveliest of Sams uh I'm pretty sure hopefully soon Sam should have",
    "start": "1902399",
    "end": "1907799"
  },
  {
    "text": "friends yes he should so if we go here we're just now doing our execute change",
    "start": "1907799",
    "end": "1913399"
  },
  {
    "text": "set we can see you should be able to see the execute details in a second if you want to open it up",
    "start": "1913399",
    "end": "1918600"
  },
  {
    "text": "let's take a look while that runs we can see",
    "start": "1918600",
    "end": "1924320"
  },
  {
    "text": "here it's still oh we're doing the chain set we did the creating we should be",
    "start": "1924320",
    "end": "1929559"
  },
  {
    "text": "good so let's go back to our pipeline here it succeeded we should see the",
    "start": "1929559",
    "end": "1934720"
  },
  {
    "text": "change in a second and what is definitely the first time I'm doing this if we watch the screen now we will see",
    "start": "1934720",
    "end": "1941679"
  },
  {
    "text": "Sam half friend pop up hey Sams I'm not going to count because I actually like",
    "start": "1941679",
    "end": "1948200"
  },
  {
    "text": "technically can't count but there's probably 15 does that make it harder to be an engineer it makes it a problem for",
    "start": "1948200",
    "end": "1954880"
  },
  {
    "text": "sure thankfully I don't deal with anything physical do I really I I do not",
    "start": "1954880",
    "end": "1960840"
  },
  {
    "text": "I thankfully all I do is I like I stand at a computer and I slap the keyboard for a while hoping something comes out",
    "start": "1960840",
    "end": "1966760"
  },
  {
    "text": "usually it's weird squirrels so at this point like 80% of the time so at this point we went through all three steps in",
    "start": "1966760",
    "end": "1974120"
  },
  {
    "text": "the GitHub repository which were creating two stacks yep creating our own repository pushing our Sam code which in",
    "start": "1974120",
    "end": "1983320"
  },
  {
    "text": "this term is actual Sam code because we're seeing Sam's on the stre Sam I told you so we've pushed that code to a",
    "start": "1983320",
    "end": "1990960"
  },
  {
    "text": "repository the code pipeline has detected that change in the repository pulled it down run a build process in",
    "start": "1990960",
    "end": "1998519"
  },
  {
    "text": "code build done an npm install installed any modules uploaded the function to",
    "start": "1998519",
    "end": "2005039"
  },
  {
    "text": "Lambda and created your API Gateway and then we've pushed a final change to",
    "start": "2005039",
    "end": "2010440"
  },
  {
    "text": "change the number of squirrels from one to 15 hopefully that's a pretty good",
    "start": "2010440",
    "end": "2016039"
  },
  {
    "text": "recap it looks it sounds like you were paying attention Brian now there's one more thing there's one there's one more",
    "start": "2016039",
    "end": "2022440"
  },
  {
    "text": "thing uh that I would like to show you okay and this is a little surprise oh so",
    "start": "2022440",
    "end": "2027600"
  },
  {
    "text": "remember that Sam multiplier I told you about I kind of hinted at earlier yeah let's uh let's really turn this up oh",
    "start": "2027600",
    "end": "2034360"
  },
  {
    "text": "environment variables let's let's see what happens to make this 100 so instead of pushing a",
    "start": "2034360",
    "end": "2040799"
  },
  {
    "text": "change to GA we're going to change the environment variable this time yes so we're going to MIM make more of what you",
    "start": "2040799",
    "end": "2046559"
  },
  {
    "text": "would do in kind of like an operational configuration way you wouldn't this is something you would use maybe for",
    "start": "2046559",
    "end": "2052200"
  },
  {
    "text": "defining like a region or something you have in a configuration file um but for this example I'm going to use this to",
    "start": "2052200",
    "end": "2058040"
  },
  {
    "text": "turn up the party okay perfect let's see what happens so let's go back here we've saved it oh my gosh now oh my gosh it's",
    "start": "2058040",
    "end": "2064560"
  },
  {
    "text": "getting a little crazy we're this is going to I think crash my computer I think this is what happens with Scrolls",
    "start": "2064560",
    "end": "2070358"
  },
  {
    "text": "in real life I something like this and this reminds me a lot of reinvent um oh trying to walk down the hallway yeah",
    "start": "2070359",
    "end": "2076720"
  },
  {
    "text": "basically yes that's amazing and then if you go back and change the multiplier what do you want me to change",
    "start": "2076720",
    "end": "2083358"
  },
  {
    "text": "it to just one sure change that to one let's bring this under control this is",
    "start": "2083359",
    "end": "2089560"
  },
  {
    "text": "like the Sunday of or the Friday of reinvent after the party where people",
    "start": "2089560",
    "end": "2095280"
  },
  {
    "text": "are slowly and disapp so we'll see this starting to",
    "start": "2095280",
    "end": "2102680"
  },
  {
    "text": "Essen and there we go 15 little samies awesome that looks great can you go ahead and recap what you've done for us",
    "start": "2102680",
    "end": "2108520"
  },
  {
    "text": "today so far Rory sure thing Brian uh we have our Lambda function and API Gateway",
    "start": "2108520",
    "end": "2114160"
  },
  {
    "text": "defined inside our code repository we have code Pipeline and coill to take that and deploy and build changes we",
    "start": "2114160",
    "end": "2121040"
  },
  {
    "text": "have Cloud information to actually create the resources and deploy the code changes and we have our static website",
    "start": "2121040",
    "end": "2127359"
  },
  {
    "text": "on 3 which has our fantastic little Sam squirrels awesome thanks for taking the",
    "start": "2127359",
    "end": "2133000"
  },
  {
    "text": "time today to show us that great cicd demo Rory thanks for having me Brian",
    "start": "2133000",
    "end": "2139520"
  }
]