[
  {
    "start": "0",
    "end": "118000"
  },
  {
    "text": "okay so I've got a hard act to follow that talk on genomics was actually very",
    "start": "30",
    "end": "5970"
  },
  {
    "text": "interesting mine is a demo so it's demo time most the time we're going to be spending during this talk is actually launching a",
    "start": "5970",
    "end": "12630"
  },
  {
    "text": "cluster so imagine you're researcher you want to run a larger job but you don't",
    "start": "12630",
    "end": "19980"
  },
  {
    "text": "have the resources or maybe the queues in your university or labs cluster is is",
    "start": "19980",
    "end": "26849"
  },
  {
    "text": "days or weeks and for your job so what we're gonna do today is see what it will",
    "start": "26849",
    "end": "32820"
  },
  {
    "text": "take to launch a roughly thousand node cluster or thousand core sorry thought I",
    "start": "32820",
    "end": "40500"
  },
  {
    "text": "was in core cluster on AWS it's actually a fairly easy process there are many",
    "start": "40500",
    "end": "45629"
  },
  {
    "text": "ways to do this we have a lot of partners who have their own methods what",
    "start": "45629",
    "end": "51210"
  },
  {
    "text": "I'm going to show is something called AWS parallel cluster which is a new service that we launched a little less",
    "start": "51210",
    "end": "58079"
  },
  {
    "text": "than a year ago that makes launching a cluster actually fairly easy involves a",
    "start": "58079",
    "end": "63870"
  },
  {
    "text": "configuration script which I'm going to show you it involves a simple command line launch which I'll show you and then",
    "start": "63870",
    "end": "71040"
  },
  {
    "text": "we'll we're going to launch a cluster what I'm going to do is launch the cluster in a way where we get the head",
    "start": "71040",
    "end": "77189"
  },
  {
    "text": "node which is the primary way we access the cluster with no compute nodes",
    "start": "77189",
    "end": "82320"
  },
  {
    "text": "because we don't want to pay for compute nodes until we need them then I'm gonna launch a job a very simple job that's",
    "start": "82320",
    "end": "89880"
  },
  {
    "text": "going to launch my compute nodes as I need them and then when it terminates",
    "start": "89880",
    "end": "96750"
  },
  {
    "text": "they will disappear with AWS of course you only pay for what you use and",
    "start": "96750",
    "end": "101820"
  },
  {
    "text": "therefore it's nice to have your compute nodes launched and then disappear and",
    "start": "101820",
    "end": "108600"
  },
  {
    "text": "only appear when you need them so with that let me go to my demo ok so I've got",
    "start": "108600",
    "end": "120840"
  },
  {
    "start": "118000",
    "end": "146000"
  },
  {
    "text": "a PC for those of you that use Mac's this is a little bit easier because you've got native Linux in the background for me it's a little more",
    "start": "120840",
    "end": "128069"
  },
  {
    "text": "complicated because I'm on a PC running Windows so I have to have some sort of emulator you can use PowerShell if you're brave",
    "start": "128069",
    "end": "134870"
  },
  {
    "text": "enough or you can use some sort of Linux interpreter I'm using git bash you can",
    "start": "134870",
    "end": "142160"
  },
  {
    "text": "use just about anything I've created a script so I'm just going to go quickly start that script this is about 30 lines",
    "start": "142160",
    "end": "149209"
  },
  {
    "start": "146000",
    "end": "173000"
  },
  {
    "text": "of code it's not very complicated we're gonna go through this after I start launching the cluster because it'll take",
    "start": "149209",
    "end": "155959"
  },
  {
    "text": "about five six minutes for the cluster to launch and we'll go through this and talk about what's in there and it's",
    "start": "155959",
    "end": "162320"
  },
  {
    "text": "actually not that difficult of course for those who've never seen a script before maybe it's a little challenging",
    "start": "162320",
    "end": "167540"
  },
  {
    "text": "but it's fairly straightforward and let me but let me go to the window where",
    "start": "167540",
    "end": "172730"
  },
  {
    "text": "we're going to launch our cluster so I'm going to do p cluster oops and I've got",
    "start": "172730",
    "end": "179720"
  },
  {
    "start": "173000",
    "end": "208000"
  },
  {
    "text": "to call it it or I'm going to do create that's my first thing I'm gonna call it a name let's call it Canberra and I've",
    "start": "179720",
    "end": "188390"
  },
  {
    "text": "got a config file which oops now you can",
    "start": "188390",
    "end": "193820"
  },
  {
    "text": "see how great a type I'm that type of typist I am that's probably our number one thing that gets in the way of our",
    "start": "193820",
    "end": "200480"
  },
  {
    "text": "progress and then I called my config file Canberra how original okay so this",
    "start": "200480",
    "end": "209660"
  },
  {
    "start": "208000",
    "end": "238000"
  },
  {
    "text": "is going to now start creating my cluster will take a little while probably about six minutes basically",
    "start": "209660",
    "end": "216440"
  },
  {
    "text": "we've got little elves that go and get all our parts for us and put them together and create a computer but",
    "start": "216440",
    "end": "223420"
  },
  {
    "text": "basically what's happening is we're launching our system we're creating our file system we're doing all this and it",
    "start": "223420",
    "end": "229790"
  },
  {
    "text": "takes a little while just like it takes a little while to boot your your laptop so let me just go over to my config file",
    "start": "229790",
    "end": "237860"
  },
  {
    "text": "and let's go through this in the next five minutes you just talk about what some of these things are okay the first",
    "start": "237860",
    "end": "245480"
  },
  {
    "start": "238000",
    "end": "302000"
  },
  {
    "text": "four lines pretty easy it's just some global stuff it says let's check and make sure we have the current version of",
    "start": "245480",
    "end": "251480"
  },
  {
    "text": "parallel cluster it's pretty simple sanity it actually goes through the file and says do you have any typos that's",
    "start": "251480",
    "end": "259549"
  },
  {
    "text": "kind of nice because if you just saw how many typos I had in that one line that's a very useful thing and then for my",
    "start": "259549",
    "end": "265880"
  },
  {
    "text": "mr. template this is based on something called cloud formation we have a template to Sabaton back to this is",
    "start": "265880",
    "end": "271700"
  },
  {
    "text": "about 4,000 lines of JSON code which you don't have to deal with fortunately but I'm just gonna use the default there's",
    "start": "271700",
    "end": "277910"
  },
  {
    "text": "no reason I don't have any special circumstances here in the region I'm",
    "start": "277910",
    "end": "284060"
  },
  {
    "text": "doing this in Sidney I did this for the first time last night in my hotel room because I'm based in London so I usually",
    "start": "284060",
    "end": "291140"
  },
  {
    "text": "use one of the European sites so I thought I better make sure this actually works in Sidney it does so I'm using a",
    "start": "291140",
    "end": "299200"
  },
  {
    "text": "region of the Sydney region now I get to the basic design of my cluster okay so",
    "start": "299200",
    "end": "308780"
  },
  {
    "start": "302000",
    "end": "394000"
  },
  {
    "text": "this we're launching a real compute cluster which is going to give us about",
    "start": "308780",
    "end": "315230"
  },
  {
    "text": "a thousand cores of skylake Intel skylake processors the first thing I",
    "start": "315230",
    "end": "321290"
  },
  {
    "text": "need is I need to give it an SSH key this is my name of my key pair any system you have will if you have SSH",
    "start": "321290",
    "end": "328730"
  },
  {
    "text": "we'll need to keep air how many of you slurm I don't even know what slurm is",
    "start": "328730",
    "end": "333820"
  },
  {
    "text": "okay a fair number of you it's a scheduler two job scheduler you might",
    "start": "333820",
    "end": "338990"
  },
  {
    "text": "think why do I need a scheduler if I have my own cluster I don't need to schedule anything well actually the",
    "start": "338990",
    "end": "344180"
  },
  {
    "text": "scheduler does some things that are nice for us like it manages the all the different nodes and so we still use a",
    "start": "344180",
    "end": "351380"
  },
  {
    "text": "scheduler even though we're not really putting in it we don't really have a queue per se we're not submitting jobs",
    "start": "351380",
    "end": "357740"
  },
  {
    "text": "to a queue the scheduler really is just helping us manage the multiple nodes we",
    "start": "357740",
    "end": "363560"
  },
  {
    "text": "can do that ourselves but that's just too hard so I'm just gonna use slurm which is very popular in the research community so it's lerm is a scheduler I",
    "start": "363560",
    "end": "371680"
  },
  {
    "text": "have a post install script the post install script is a bash file that does",
    "start": "371680",
    "end": "379130"
  },
  {
    "text": "the the final set up of my my cluster and it can be pretty complicated it can",
    "start": "379130",
    "end": "384830"
  },
  {
    "text": "install software it can do all sorts of things in my case all stewing is copying over two files which we'll see when we",
    "start": "384830",
    "end": "391070"
  },
  {
    "text": "when that cluster is complete I have some settings that I'll go down this is",
    "start": "391070",
    "end": "399020"
  },
  {
    "start": "394000",
    "end": "486000"
  },
  {
    "text": "just pointers I'll go down and show what those are in a minute compute instance type week for",
    "start": "399020",
    "end": "405249"
  },
  {
    "text": "those of you in you know in the research field you probably are familiar with a node we use the term instance and",
    "start": "405249",
    "end": "412209"
  },
  {
    "text": "instance is essentially a type of of compute node in this case I'm using a",
    "start": "412209",
    "end": "418270"
  },
  {
    "text": "c-- 518 extra large that means that it's a a node that has 36 skylake cores and i",
    "start": "418270",
    "end": "428429"
  },
  {
    "text": "can't remember exactly how much ram it has but it's a our you can are you can",
    "start": "428429",
    "end": "435519"
  },
  {
    "text": "basically our c series of instance types have about 4 gig per core the neat thing",
    "start": "435519",
    "end": "442240"
  },
  {
    "text": "here is just by changing this one line of our compute instance type we can change the essence of our core we can",
    "start": "442240",
    "end": "448089"
  },
  {
    "text": "actually have high memory nodes with it have up to 16 gigabytes per core we can",
    "start": "448089",
    "end": "456639"
  },
  {
    "text": "change from we can use our super fast clock speed RZ 1d we can have local",
    "start": "456639",
    "end": "463419"
  },
  {
    "text": "disks we can do all sorts of things just by changing that one line of code our master instance type this can be",
    "start": "463419",
    "end": "469990"
  },
  {
    "text": "different it doesn't have to be the same in this case I've got a Broadwell machine with eight cores this is a",
    "start": "469990",
    "end": "477279"
  },
  {
    "text": "little bit smaller I don't need anything I want something to compile fast but it doesn't have to run as fast or it",
    "start": "477279",
    "end": "483519"
  },
  {
    "text": "doesn't have to execute as fast next line cluster type I can do",
    "start": "483519",
    "end": "489009"
  },
  {
    "start": "486000",
    "end": "573000"
  },
  {
    "text": "on-demand which means I'm going to get it right now cost more I could do spot",
    "start": "489009",
    "end": "494409"
  },
  {
    "text": "which means that I get lower pricing up to 70 percent savings or as much as 70",
    "start": "494409",
    "end": "500589"
  },
  {
    "text": "percent to 90 percent actually for some instance type savings on the cost by using spot the problem of spot is our",
    "start": "500589",
    "end": "507129"
  },
  {
    "text": "excess capacity if there is an excess capacity you might not get that that",
    "start": "507129",
    "end": "512219"
  },
  {
    "text": "availability right now when you do a an",
    "start": "512219",
    "end": "517990"
  },
  {
    "text": "HPC job many of the tightly coupled schemes like when computation fluid dynamics require that there's a low",
    "start": "517990",
    "end": "526300"
  },
  {
    "text": "latency between so you don't want one node to be across",
    "start": "526300",
    "end": "531610"
  },
  {
    "text": "the data center you want them all in a certain group so we choose to have something called a placement group",
    "start": "531610",
    "end": "537390"
  },
  {
    "text": "dynamic means that as my is I add compute nodes it's going to dynamically",
    "start": "537390",
    "end": "543040"
  },
  {
    "text": "allocate them in proximity to each other okay I can specify the size of the",
    "start": "543040",
    "end": "551220"
  },
  {
    "text": "essentially the disks that reside on each node so this is going to include things like the local operating system",
    "start": "551220",
    "end": "557500"
  },
  {
    "text": "if you want to put data on each node you can do that I'm just going to have the operating system so I just have 20 20",
    "start": "557500",
    "end": "565120"
  },
  {
    "text": "gigabytes the master route volume size 256 gigabytes so that's not my hard disk",
    "start": "565120",
    "end": "570790"
  },
  {
    "text": "on my laptop kind of the initial queue size that's how many compute cores I",
    "start": "570790",
    "end": "577270"
  },
  {
    "start": "573000",
    "end": "641000"
  },
  {
    "text": "want to start with zero I don't really want any right now because I'm going to talk a little bit",
    "start": "577270",
    "end": "582370"
  },
  {
    "text": "so and we're gonna watch them launch I'm gonna put the maximum queue size of 28 I",
    "start": "582370",
    "end": "587920"
  },
  {
    "text": "did that just because I didn't want to have too many for this demo 28 will give me one thousand and eight cores and",
    "start": "587920",
    "end": "594160"
  },
  {
    "text": "we're gonna use them all I want to I don't want to maintain the initial size",
    "start": "594160",
    "end": "600100"
  },
  {
    "text": "I could make this a a cluster with a certain set of nodes it stays that size",
    "start": "600100",
    "end": "606580"
  },
  {
    "text": "forever or as long as I have that cluster out but I'm gonna let this be dynamic we have something called auto",
    "start": "606580",
    "end": "612730"
  },
  {
    "text": "scaling it will auto scale so supposing I'm a researcher and tomorrow I want a",
    "start": "612730",
    "end": "617910"
  },
  {
    "text": "thousand cores but but Friday or Thursday I only want 500 cores I don't",
    "start": "617910",
    "end": "624790"
  },
  {
    "text": "want to have 500 course sitting idle so I can this will expand and contract as",
    "start": "624790",
    "end": "630460"
  },
  {
    "text": "needed but it will always go down to zero when I'm not using it so when I go home at night and I'm not running",
    "start": "630460",
    "end": "636610"
  },
  {
    "text": "anything it goes down to zero so I'm not paying for any compute nodes I when we",
    "start": "636610",
    "end": "643450"
  },
  {
    "start": "641000",
    "end": "710000"
  },
  {
    "text": "do this this last line here extra JSON is a little cryptic but many times we do",
    "start": "643450",
    "end": "650710"
  },
  {
    "text": "tightly coupled codes we want to turn off something called hyper-threading intel has so much parallelism in their",
    "start": "650710",
    "end": "657360"
  },
  {
    "text": "CPUs that they actually filter they actually send two threads of work",
    "start": "657360",
    "end": "662620"
  },
  {
    "text": "through a single CPU but because we're doing normally doing computation in HPC",
    "start": "662620",
    "end": "668920"
  },
  {
    "text": "where we're using the same parts of that CPU the to actually conflict with each",
    "start": "668920",
    "end": "673930"
  },
  {
    "text": "other so we turn off hyper-threading and only have one one job per one thread per",
    "start": "673930",
    "end": "680980"
  },
  {
    "text": "CPU I mentioned the pointers these pointers basically tell me where I'm",
    "start": "680980",
    "end": "686350"
  },
  {
    "text": "going to put this where in my virtual world I'm going to set this in terms of a V PC a virtual personal cloud that's",
    "start": "686350",
    "end": "693610"
  },
  {
    "text": "the idea that says this is mine this is my space and then I'm subnet within that",
    "start": "693610",
    "end": "699220"
  },
  {
    "text": "which tells me what availability zone and tomorrow when I talk I'll talk a",
    "start": "699220",
    "end": "704860"
  },
  {
    "text": "little about availability zones you might hear that elsewhere I don't want to go into that detail today finally how",
    "start": "704860",
    "end": "711819"
  },
  {
    "text": "big a disk do I want how what type of disk do I want or storage system in this",
    "start": "711819",
    "end": "718329"
  },
  {
    "text": "case I'm going to use an EBS or a block file system I'm going to give it a name code it's going to have 128 gigabytes",
    "start": "718329",
    "end": "726730"
  },
  {
    "text": "this is just a demo I didn't really need that much I could make this up to 12 terabytes if I wanted in this particular",
    "start": "726730",
    "end": "734800"
  },
  {
    "text": "case oh it's also going to be SSD an SSD disk I could make a shared file system",
    "start": "734800",
    "end": "745089"
  },
  {
    "text": "we have fsx for lustre so that's a shared file system where all the compute nodes will share in this particular case",
    "start": "745089",
    "end": "751240"
  },
  {
    "text": "has just served off the head node these is the kind of thing I can change very easily with just a couple lines of",
    "start": "751240",
    "end": "756850"
  },
  {
    "text": "script so if I want to do fi sex I would just launch that and instead of having EBS volume I would do an fi sex volume",
    "start": "756850",
    "end": "764110"
  },
  {
    "text": "very simple okay that's the script and that's the most complicated part of this",
    "start": "764110",
    "end": "769959"
  },
  {
    "text": "and and if you're like me and a scrappy scientist you just borrow someone else's and you make a few changes and you go",
    "start": "769959",
    "end": "775959"
  },
  {
    "text": "and that's and that's basically all you need to do so let's see where my cluster is okay it's completed our cluster is",
    "start": "775959",
    "end": "783459"
  },
  {
    "start": "779000",
    "end": "835000"
  },
  {
    "text": "launched I have a master public IP address which is right here I have a",
    "start": "783459",
    "end": "791620"
  },
  {
    "text": "private eye P address I'm gonna go quickly to the console and we're going to look at ec2",
    "start": "791620",
    "end": "799850"
  },
  {
    "text": "are gonna see this because I want to show you what I have right now running in Sydney so this is our console it",
    "start": "799850",
    "end": "806900"
  },
  {
    "text": "tells me I have an AR 4.4 extra-large arse bite is one of our larger memory",
    "start": "806900",
    "end": "813890"
  },
  {
    "text": "procore instances it's based on the Broadwell technology it's it's run",
    "start": "813890",
    "end": "821690"
  },
  {
    "text": "through its checks what I want here is the IP address the IP address of course",
    "start": "821690",
    "end": "827990"
  },
  {
    "text": "was here also the public IP address now I'm gonna go and I'm gonna log in I'm an SSH into this that's don't need that if",
    "start": "827990",
    "end": "836810"
  },
  {
    "start": "835000",
    "end": "871000"
  },
  {
    "text": "again if you're on a linux box or a Mac this is easy I just type SSH and a command line I'm using mobile UX term",
    "start": "836810",
    "end": "844040"
  },
  {
    "text": "because I'm on a PC means there's a little bit extra step so I'm going to copy in my my remote host I'm an ec2",
    "start": "844040",
    "end": "854180"
  },
  {
    "text": "user so that's my username here and now",
    "start": "854180",
    "end": "859220"
  },
  {
    "text": "I have to give it my key pair remember",
    "start": "859220",
    "end": "864230"
  },
  {
    "text": "it was Canberra sitting here and I'm",
    "start": "864230",
    "end": "871310"
  },
  {
    "start": "871000",
    "end": "1007000"
  },
  {
    "text": "logged onto the head node okay I can do some updates there's a it's telling me that there's some security patches I",
    "start": "871310",
    "end": "878510"
  },
  {
    "text": "might want normally AWS is continually updating our background operating system",
    "start": "878510",
    "end": "885800"
  },
  {
    "text": "but we can't keep up with everything so you can do it yourself I'm not going to bother because I'm just gonna have this",
    "start": "885800",
    "end": "891970"
  },
  {
    "text": "running slowly okay the to tie the two files I uploaded HelloWorld dot C a C",
    "start": "891970",
    "end": "900440"
  },
  {
    "text": "file and then run dot Sh run is just a script that's going to run that so the",
    "start": "900440",
    "end": "905960"
  },
  {
    "text": "first thing I want to do is I'm going to compile this so I'm on the head node so I'm going to compile my hello world file",
    "start": "905960",
    "end": "918459"
  },
  {
    "text": "oops",
    "start": "919500",
    "end": "922500"
  },
  {
    "text": "hmm oops MPIC see what am I doing wrong",
    "start": "930300",
    "end": "937120"
  },
  {
    "text": "here - oh yes that should be that should",
    "start": "937120",
    "end": "942580"
  },
  {
    "text": "be okay it's always gonna be something that's gonna be more than P i okay it's there",
    "start": "942580",
    "end": "956620"
  },
  {
    "text": "MPIC see I'm gonna just type it in case",
    "start": "956620",
    "end": "963339"
  },
  {
    "text": "I blew it",
    "start": "963339",
    "end": "965790"
  },
  {
    "text": "oops I need a show",
    "start": "970520",
    "end": "974170"
  },
  {
    "text": "no such file or directory oh did I just",
    "start": "988460",
    "end": "995390"
  },
  {
    "text": "delete that all right delete it what did I do geez okay well you know when something can go",
    "start": "995390",
    "end": "1009550"
  },
  {
    "start": "1007000",
    "end": "1047000"
  },
  {
    "text": "wrong it you know it's like it's amazing what you can do here okay so I'm gonna",
    "start": "1009550",
    "end": "1015460"
  },
  {
    "text": "copy that fortunately I have my scripts there right ready for me and at some",
    "start": "1015460",
    "end": "1026199"
  },
  {
    "text": "point I'll figure out how did I delete that okay that took a little while",
    "start": "1026200",
    "end": "1034270"
  },
  {
    "text": "because that's files based over in London okay well that little glitch apologies I",
    "start": "1034270",
    "end": "1045189"
  },
  {
    "text": "don't know why how I deleted that okay so now I have my little compiled code I",
    "start": "1045190",
    "end": "1050530"
  },
  {
    "start": "1047000",
    "end": "1100000"
  },
  {
    "text": "am going to run so I'm gonna let's look at s info okay s info tells me have no",
    "start": "1050530",
    "end": "1058030"
  },
  {
    "text": "compute nodes so running this file right now means that it's going to have to go",
    "start": "1058030",
    "end": "1063220"
  },
  {
    "text": "find those compute nodes so I'm gonna run I'm gonna s batch - n 1008 so I'm",
    "start": "1063220",
    "end": "1073510"
  },
  {
    "text": "gonna do this on one thousand and eight cores that's a maximum that I've told my cluster I could launch and then run dot",
    "start": "1073510",
    "end": "1080950"
  },
  {
    "text": "Sh okay so it's submitted that I'm gonna go back to the console really quickly and",
    "start": "1080950",
    "end": "1086860"
  },
  {
    "text": "we're going to look at what happens here now I see that my master node is still",
    "start": "1086860",
    "end": "1092890"
  },
  {
    "text": "running but I have nothing else I'm gonna refresh and I hope this doesn't",
    "start": "1092890",
    "end": "1098770"
  },
  {
    "text": "take too long I timed it last night there we go and you'll notice that I've just added ten more compute nodes",
    "start": "1098770",
    "end": "1104680"
  },
  {
    "start": "1100000",
    "end": "1194000"
  },
  {
    "text": "they're pending they're starting to launch because it says oh I need a thousand and eight cores I only have",
    "start": "1104680",
    "end": "1110470"
  },
  {
    "text": "none right now and so it's starting to launch them and as i refresh it will it",
    "start": "1110470",
    "end": "1118090"
  },
  {
    "text": "it we throttle a little bit because you don't want someone going and asking for a million cores all at once by the way",
    "start": "1118090",
    "end": "1125690"
  },
  {
    "text": "we I have had a colleague launch 1.3 million cores in our spare capacity in",
    "start": "1125690",
    "end": "1132410"
  },
  {
    "text": "London so the amount you can get a sort of astronomical this is actually small as thousand cores okay it's launched",
    "start": "1132410",
    "end": "1141080"
  },
  {
    "text": "another 10 so this throttling prevents someone from just going and hosing the",
    "start": "1141080",
    "end": "1146570"
  },
  {
    "text": "system so I'd we do 10 at a time I've just launched 10 more when I get to 29",
    "start": "1146570",
    "end": "1153590"
  },
  {
    "text": "since I've launched 28 I'll I'll be done that'll take a little little while you'll notice that these are all",
    "start": "1153590",
    "end": "1159700"
  },
  {
    "text": "initializing they're running but they're initializing ok so it's just kind of",
    "start": "1159700",
    "end": "1165710"
  },
  {
    "text": "like booting basically ok and now it's grab that last the last few ok so we",
    "start": "1165710",
    "end": "1172610"
  },
  {
    "text": "have to wait a little while imagine each one of these little compute nodes is booting up just like you turn down here",
    "start": "1172610",
    "end": "1178190"
  },
  {
    "text": "your laptop so it'll take oh it'll take a couple of minutes they all have to go",
    "start": "1178190",
    "end": "1184970"
  },
  {
    "text": "through their boot sequence and you know load up what they need load up MPI so what this little example",
    "start": "1184970",
    "end": "1195800"
  },
  {
    "start": "1194000",
    "end": "1249000"
  },
  {
    "text": "that I'm doing is pretty simple all it's going to do is submit a job that's going to go to each core and say hello world",
    "start": "1195800",
    "end": "1203380"
  },
  {
    "text": "ok so we're gonna see hello world 1008 times very exciting but I still",
    "start": "1203380",
    "end": "1210350"
  },
  {
    "text": "have not found the right simulation that I can do and a half an hour demo that",
    "start": "1210350",
    "end": "1215390"
  },
  {
    "text": "would actually solve the world's problems or solve the weather patterns over over Australia you know we run",
    "start": "1215390",
    "end": "1221920"
  },
  {
    "text": "weather codes like wor from Cosmo we run CFD codes like open foam fluent and many",
    "start": "1221920",
    "end": "1229610"
  },
  {
    "text": "others unfortunately those demos take a little bit longer to run so I just do",
    "start": "1229610",
    "end": "1235580"
  },
  {
    "text": "hello world so you can kind of so you can see what's going on ok so they're",
    "start": "1235580",
    "end": "1242030"
  },
  {
    "text": "still initializing many of them are still initializing let's see if any are up finished yet no not quite if I go",
    "start": "1242030",
    "end": "1250100"
  },
  {
    "text": "back to this I can do s info and it still says zero nodes because the",
    "start": "1250100",
    "end": "1256690"
  },
  {
    "text": "notes have not come online but in a couple of minute or so we'll start seeing that nodes will start coming",
    "start": "1256690",
    "end": "1262659"
  },
  {
    "text": "online this is taking a lot longer than",
    "start": "1262659",
    "end": "1268450"
  },
  {
    "text": "did last night in my hotel room oops okay",
    "start": "1268450",
    "end": "1273869"
  },
  {
    "text": "they've okay so they've booted now slurm is going to its it regularly checks this",
    "start": "1273869",
    "end": "1280539"
  },
  {
    "text": "is actually something that's different than an on-prem facility because nodes come and go slurm has to continually",
    "start": "1280539",
    "end": "1286779"
  },
  {
    "text": "check and see who's around well let's see what it's finding okay so now it's found eleven of the nodes of course as",
    "start": "1286779",
    "end": "1295899"
  },
  {
    "text": "soon as gets twenty-eight of the nodes it's done it will run the job the jobs gonna be very fast cuz all it's going to",
    "start": "1295899",
    "end": "1301330"
  },
  {
    "text": "do is say hello world and it's done",
    "start": "1301330",
    "end": "1305489"
  },
  {
    "text": "again because some of them came up a little bit later they'll take a little bit longer but",
    "start": "1308460",
    "end": "1314820"
  },
  {
    "text": "go back and look and see more and more coming up slurms gonna slowly find them",
    "start": "1321510",
    "end": "1330799"
  },
  {
    "text": "25 okay just need to last four nodes and and my",
    "start": "1331549",
    "end": "1337950"
  },
  {
    "text": "code will run obviously this isn't",
    "start": "1337950",
    "end": "1345330"
  },
  {
    "text": "terribly efficient if all you want to do is run a script that runs a thousand and eight hello worlds but if you're running a",
    "start": "1345330",
    "end": "1353809"
  },
  {
    "text": "long you know three hour job this is not a bad way to go",
    "start": "1353809",
    "end": "1359690"
  },
  {
    "text": "twenty-eight okay so now it's probably run I can look at my output file I've got a slurm dot out so let's just look",
    "start": "1359690",
    "end": "1366990"
  },
  {
    "start": "1360000",
    "end": "1409000"
  },
  {
    "text": "at that see what it says and it's very exciting oh it's told me that all these different",
    "start": "1366990",
    "end": "1374450"
  },
  {
    "text": "nodes have checked in actually this is unusual it's unusual because they're a numerical",
    "start": "1374450",
    "end": "1381419"
  },
  {
    "text": "order usually they're kind of randomized I mean they do oh here you've got one in zero and one",
    "start": "1381419",
    "end": "1387210"
  },
  {
    "text": "down here but you know basically the nodes come up in each core sends its",
    "start": "1387210",
    "end": "1392610"
  },
  {
    "text": "signal hello world it's done it it now has completed the job and that",
    "start": "1392610",
    "end": "1399150"
  },
  {
    "text": "core then is available for something else okay but you know take my word for",
    "start": "1399150",
    "end": "1404220"
  },
  {
    "text": "it to the south thousand and eight hello worlds here very exciting okay so",
    "start": "1404220",
    "end": "1411080"
  },
  {
    "text": "now what's gonna happen is those compute nodes are going to stay up for a certain",
    "start": "1411080",
    "end": "1416250"
  },
  {
    "text": "amount of time that I've specified the default is ten minutes so I didn't change that so we're not going to wait",
    "start": "1416250",
    "end": "1421440"
  },
  {
    "text": "around and watch them disappear it takes we're not going to wait ten minutes but",
    "start": "1421440",
    "end": "1426900"
  },
  {
    "text": "if I'd set it to a lower time one minute for example then in a minute from now we would start seeing all those course",
    "start": "1426900",
    "end": "1433140"
  },
  {
    "text": "start or all those nodes start turning off shutting off so we've only paid for what we've used many researchers are",
    "start": "1433140",
    "end": "1442230"
  },
  {
    "text": "starting to use this and it's it actually is what really is the number one reason people save money is because",
    "start": "1442230",
    "end": "1450000"
  },
  {
    "text": "you don't have to figure out how you're going to provision your cluster ahead of time in this half-hour",
    "start": "1450000",
    "end": "1458450"
  },
  {
    "text": "we have launched a cluster from scratch and gone up two thousand eight course as I said my colleague in London has",
    "start": "1458450",
    "end": "1464510"
  },
  {
    "text": "launched 1.3 million course they're not all the same type as they are here were",
    "start": "1464510",
    "end": "1469880"
  },
  {
    "text": "their skylake processors but the amount you can get is flexible",
    "start": "1469880",
    "end": "1477710"
  },
  {
    "text": "if you tomorrow you only want or on launch 10 cores that's easy just launch",
    "start": "1477710",
    "end": "1483110"
  },
  {
    "text": "10 cores and since you're only paying for your user saving money you don't have to go buy a massive cluster to",
    "start": "1483110",
    "end": "1489260"
  },
  {
    "text": "support your research when you don't know how many cores you're gonna need you don't know how to provision ahead of",
    "start": "1489260",
    "end": "1495800"
  },
  {
    "text": "time and how many people are going to use it the neat thing about this is I've got this script and if I want to run two jobs and they take let's say a day I",
    "start": "1495800",
    "end": "1504650"
  },
  {
    "text": "don't have to wait and submit the next one tomorrow I can actually launch two clusters I can launch 2,000 course",
    "start": "1504650",
    "end": "1512450"
  },
  {
    "text": "clusters side by side and run them both simultaneously and instead of waiting two days for my results I get them both",
    "start": "1512450",
    "end": "1518210"
  },
  {
    "text": "in one day so we've got a customer tlg",
    "start": "1518210",
    "end": "1524660"
  },
  {
    "text": "aerospace who does CFD calculations they used to have to schedule on their own Prem cluster their workload so that a",
    "start": "1524660",
    "end": "1531110"
  },
  {
    "text": "week it took about a week and then the second week they would do the analysis now they launch it overnight do all of",
    "start": "1531110",
    "end": "1537890"
  },
  {
    "text": "the runs simultaneously launching multiple clusters get the results and by",
    "start": "1537890",
    "end": "1543710"
  },
  {
    "text": "Tuesday morning if they launch Monday by Tuesday morning they've got their results and they have arrested we'd analyse its it sped up their workload",
    "start": "1543710",
    "end": "1550630"
  },
  {
    "text": "because you only pay for what you use it doesn't matter if you do them all at once or you do them serially so you might as",
    "start": "1550630",
    "end": "1558560"
  },
  {
    "text": "well do more than once and get them get them completed okay so I just have a few",
    "start": "1558560",
    "end": "1564110"
  },
  {
    "start": "1561000",
    "end": "1629000"
  },
  {
    "text": "minutes left what I need to do now is shut down my cluster because I don't",
    "start": "1564110",
    "end": "1569690"
  },
  {
    "text": "want to pay for it I'm not paying for it Jeff's paying for it okay so I'm gonna",
    "start": "1569690",
    "end": "1576560"
  },
  {
    "text": "peak cluster delete",
    "start": "1576560",
    "end": "1581710"
  },
  {
    "text": "oops Gambhir uh",
    "start": "1582440",
    "end": "1587809"
  },
  {
    "text": "and it will start deleting cluster and I can go and very quickly I can start",
    "start": "1590179",
    "end": "1597119"
  },
  {
    "text": "looking at my my compute notes will start shutting down and I'll see them",
    "start": "1597119",
    "end": "1603200"
  },
  {
    "text": "disappearing I hope no one wanted me to run some other simulation because it's too late now not that I had anything",
    "start": "1603200",
    "end": "1610679"
  },
  {
    "text": "prepared okay so while this is shutting down just a",
    "start": "1610679",
    "end": "1615899"
  },
  {
    "text": "curious we have about three minutes for Q&A I think so does anyone have any questions",
    "start": "1615899",
    "end": "1621529"
  },
  {
    "text": "yep",
    "start": "1621529",
    "end": "1624529"
  },
  {
    "text": "yes so so if you were to say I want my initial number of compute nodes to be 10",
    "start": "1628610",
    "end": "1634519"
  },
  {
    "start": "1629000",
    "end": "1704000"
  },
  {
    "text": "so it launches and it launches 10 and and that's a normal thing to do actually if you don't want to wait and have them",
    "start": "1634519",
    "end": "1640370"
  },
  {
    "text": "come up later they can initially or you can have a 10 nodes if you don't use",
    "start": "1640370",
    "end": "1647000"
  },
  {
    "text": "them then they start disappearing I do a lot that happened a lot to meet with customers because I'd sit there with a",
    "start": "1647000",
    "end": "1652880"
  },
  {
    "text": "customer and you'd launch 10 and you say show them the 10 nodes are there and how great you know now let's use them and",
    "start": "1652880",
    "end": "1658309"
  },
  {
    "text": "then you sit and chat for a little while and all of a sudden 10 minutes later it's like oh my god they're disappearing so I tend to just start with 0 you can",
    "start": "1658309",
    "end": "1666950"
  },
  {
    "text": "start with whatever you want but they will disappear and that is ok now we can see them shutting down that is a a",
    "start": "1666950",
    "end": "1673639"
  },
  {
    "text": "parameter you can set you can say how long do you want it to last you if you have a bunch of jobs you know that",
    "start": "1673639",
    "end": "1679970"
  },
  {
    "text": "they're gonna come serially and maybe half an hour part you could set that to 30 minutes and they'll stay up for 30 minutes sometimes you want to look at a",
    "start": "1679970",
    "end": "1687980"
  },
  {
    "text": "result and say you know kind of decide if what you want to do next change your",
    "start": "1687980",
    "end": "1693260"
  },
  {
    "text": "input parameters and submit another job sometimes that takes a little longer so you can set that for that time for",
    "start": "1693260",
    "end": "1699470"
  },
  {
    "text": "whatever you want yep what is the interconnect so that's good",
    "start": "1699470",
    "end": "1706430"
  },
  {
    "start": "1704000",
    "end": "1849000"
  },
  {
    "text": "question because we've done a lot of work with our interconnect most",
    "start": "1706430",
    "end": "1712430"
  },
  {
    "text": "researchers believe that you have to have InfiniBand if you don't have to band you don't have a good cluster most",
    "start": "1712430",
    "end": "1721810"
  },
  {
    "text": "workloads are actually the latency is memory bound so about eighty percent",
    "start": "1721810",
    "end": "1727700"
  },
  {
    "text": "eighty ninety percent or memory bound for those workloads we do really well even without our high performance our",
    "start": "1727700",
    "end": "1737210"
  },
  {
    "text": "high performance Network we have a choice I don't have it I didn't set it up here but we have something called EF",
    "start": "1737210",
    "end": "1743300"
  },
  {
    "text": "a elastic fabric adapter which halves our latency and we have found that with",
    "start": "1743300",
    "end": "1750860"
  },
  {
    "text": "many workloads computational fluid dynamics in particular we actually compete very favorably with on-prem",
    "start": "1750860",
    "end": "1757400"
  },
  {
    "text": "craze and so forth I I just did a benchmark with cosmo",
    "start": "1757400",
    "end": "1763460"
  },
  {
    "text": "where we compete quite well with with a supercomputer quite favorably and by",
    "start": "1763460",
    "end": "1769760"
  },
  {
    "text": "favorably I mean there's one I can't talk about what who the customer is",
    "start": "1769760",
    "end": "1775040"
  },
  {
    "text": "right now but we did some work with a customer and compared to Archer which is the UK supercomputer system",
    "start": "1775040",
    "end": "1782930"
  },
  {
    "text": "it's a cray and it's a little bit older admittedly but we were half the speed in",
    "start": "1782930",
    "end": "1791120"
  },
  {
    "text": "other words we were twice the performance and even out scaling out to 2,000 cores we were still over 30%",
    "start": "1791120",
    "end": "1798560"
  },
  {
    "text": "faster than the Cray and that's with our faster actually that was without our",
    "start": "1798560",
    "end": "1803960"
  },
  {
    "text": "faster internet we haven't even tested our fasted interconnect yet on that but",
    "start": "1803960",
    "end": "1809650"
  },
  {
    "text": "that's we like to think about what does the workload do as opposed to what you",
    "start": "1809650",
    "end": "1814910"
  },
  {
    "text": "know what's the the the network speed because the network speed is only one",
    "start": "1814910",
    "end": "1821030"
  },
  {
    "text": "indicator of how things are going to run and we really like to look at the workload admittedly there are K our",
    "start": "1821030",
    "end": "1827030"
  },
  {
    "text": "workloads that that aren't as good on AWS quantum mechanics type workloads",
    "start": "1827030",
    "end": "1832940"
  },
  {
    "text": "that are you have a lot of data dependency across all nodes don't scale out to 2,000 cores for",
    "start": "1832940",
    "end": "1839130"
  },
  {
    "text": "example as well on AWS as they might on a on a machine with InfiniBand yeah okay",
    "start": "1839130",
    "end": "1851429"
  },
  {
    "start": "1849000",
    "end": "1924000"
  },
  {
    "text": "so our fastest are our highest bandwidth network is a hundred gigabit per second",
    "start": "1851429",
    "end": "1857250"
  },
  {
    "text": "okay and you get that with our c5n an m5 and no sorry a p3n right now just those",
    "start": "1857250",
    "end": "1865080"
  },
  {
    "text": "two but we're gonna extend it to other families other so that's 100 Giga ekend",
    "start": "1865080",
    "end": "1871519"
  },
  {
    "text": "you know each type of node will have a",
    "start": "1871519",
    "end": "1876870"
  },
  {
    "text": "different maximum so for example I think our m5 s now are 25 gigabit per second",
    "start": "1876870",
    "end": "1884510"
  },
  {
    "text": "but you know the one thing I always say is AWS is not standing still you know",
    "start": "1884510",
    "end": "1890490"
  },
  {
    "text": "where our networks are getting faster and faster it's also I should also add",
    "start": "1890490",
    "end": "1895799"
  },
  {
    "text": "that our network is different than most than what people have experienced before when they've run clusters and that it's",
    "start": "1895799",
    "end": "1901139"
  },
  {
    "text": "a point-to-point network as opposed to a a backbone type network and that",
    "start": "1901139",
    "end": "1906330"
  },
  {
    "text": "actually speeds up communication because nodes can talk to each other as opposed to going across a backbone where you're",
    "start": "1906330",
    "end": "1912630"
  },
  {
    "text": "your own noisy neighbor any other",
    "start": "1912630",
    "end": "1917940"
  },
  {
    "text": "questions ok well I'm I'm two minutes over so I think that's probably good timing",
    "start": "1917940",
    "end": "1926600"
  }
]