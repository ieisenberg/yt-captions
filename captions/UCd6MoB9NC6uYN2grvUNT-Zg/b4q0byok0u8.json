[
  {
    "start": "0",
    "end": "44000"
  },
  {
    "text": "alright hey everybody my name is Starr Hernandez I am director of systems",
    "start": "30",
    "end": "6509"
  },
  {
    "text": "engineering for Linden Lab welcome to the talk I'm also associate board member of women who code so shout out to the",
    "start": "6509",
    "end": "12059"
  },
  {
    "text": "ladies I saw come into the audience all three of you it's always a fun time at reinvent right so here I'm here to talk",
    "start": "12059",
    "end": "19740"
  },
  {
    "text": "about that my team I'm basically here to brag about all the really amazing things",
    "start": "19740",
    "end": "25050"
  },
  {
    "text": "they've been working on for the past year and a half what we've been working on is trying to support our new virtual",
    "start": "25050",
    "end": "31260"
  },
  {
    "text": "reality platform projects ansar sans are still pretty new a lot of people haven't heard about it so I thought I'd give you",
    "start": "31260",
    "end": "36630"
  },
  {
    "text": "a little teaser as to what it is and just pretend right now you're wearing an",
    "start": "36630",
    "end": "42690"
  },
  {
    "text": "oculus [Music]",
    "start": "42690",
    "end": "48700"
  },
  {
    "start": "44000",
    "end": "83000"
  },
  {
    "text": "[Music]",
    "start": "52920",
    "end": "56029"
  },
  {
    "text": "[Music]",
    "start": "60070",
    "end": "63460"
  },
  {
    "text": "[Music]",
    "start": "65990",
    "end": "69020"
  },
  {
    "text": "darn those auto replays that is projects answer if you're not familiar with",
    "start": "79740",
    "end": "86710"
  },
  {
    "start": "83000",
    "end": "157000"
  },
  {
    "text": "linden lab many people aren't we're historically known as the creators of Second Life was originally launched in",
    "start": "86710",
    "end": "92860"
  },
  {
    "text": "2003 and you may not be aware this but it's still running strong by all the usual measures in high-tech industry it",
    "start": "92860",
    "end": "99580"
  },
  {
    "text": "has been a ridiculous success it's the original virtual experience it's built almost entirely with user-generated",
    "start": "99580",
    "end": "105760"
  },
  {
    "text": "content and 13 years later still has anywhere from three-quarters of a million to a million monthly average",
    "start": "105760",
    "end": "111760"
  },
  {
    "text": "users and last year's virtual in world economy generated almost half a billion dollars in US currency production",
    "start": "111760",
    "end": "120550"
  },
  {
    "text": "infrastructures developed fairly organically over time runs in a traditional data center a lot of things",
    "start": "120550",
    "end": "126730"
  },
  {
    "text": "were engineered down to the bare metal to take advantage of obscure machine level optimizations particularly around graphics traditional layer 2 layer 3",
    "start": "126730",
    "end": "133780"
  },
  {
    "text": "network architecture that got kind of ugly over the years and we have been using AWS where it makes sense we got",
    "start": "133780",
    "end": "139870"
  },
  {
    "text": "into s3 around 2008 which I believe is about when it went production we had",
    "start": "139870",
    "end": "145360"
  },
  {
    "text": "some early attempts at front-end services in AWS eventually added some production services such as blocks world",
    "start": "145360",
    "end": "150550"
  },
  {
    "text": "our mobile product and some Second Life user profile services which are also native u.s. double-aught or as I like to",
    "start": "150550",
    "end": "159910"
  },
  {
    "text": "say the double knots the double naty's lots of new features clamp crammed into",
    "start": "159910",
    "end": "166270"
  },
  {
    "text": "each release because the lead times were so long developers thought oh it's going to be two months before I get my next",
    "start": "166270",
    "end": "171520"
  },
  {
    "text": "chance which means they come in hot which means our QA team which does not have a lot of automation to work with is scrambling that's no good",
    "start": "171520",
    "end": "178110"
  },
  {
    "text": "crazy huge databases started in a variety of different ways enormous",
    "start": "178110",
    "end": "183280"
  },
  {
    "text": "clusters of primaries and secondaries to ensure replication and data robustness we do have a record for our largest",
    "start": "183280",
    "end": "190690"
  },
  {
    "text": "database when we lose the primary we can rotate that sucker in 45 minutes down",
    "start": "190690",
    "end": "195850"
  },
  {
    "text": "from 3 hours welcome to 2002 golden images we our",
    "start": "195850",
    "end": "201970"
  },
  {
    "text": "builds are fairly complicated we actually started a configuration management system called PGI predated",
    "start": "201970",
    "end": "207700"
  },
  {
    "text": "chef chef wasn't yet I think we were hoping to open-source it but that fell through so we build the Debian packages that we",
    "start": "207700",
    "end": "214060"
  },
  {
    "text": "need we build the app on top of that we generate a new golden image Debian virtual machine that we then throw on",
    "start": "214060",
    "end": "220390"
  },
  {
    "text": "our hardware it takes hours and there is tons of duplicated work among the",
    "start": "220390",
    "end": "225550"
  },
  {
    "text": "different builds so that's no good I mean it works but it's no good anymore",
    "start": "225550",
    "end": "231480"
  },
  {
    "start": "228000",
    "end": "269000"
  },
  {
    "text": "sansar is a new platform it's still in our development technically but we do have open beta you can go to sansaar",
    "start": "231480",
    "end": "236890"
  },
  {
    "text": "comm and sign up it allows again users to generate and share their own content",
    "start": "236890",
    "end": "243730"
  },
  {
    "text": "via social BR experiences and because it's a totally new product from a",
    "start": "243730",
    "end": "249370"
  },
  {
    "text": "development and production operations support standpoint we got to start over so we want to try and build a",
    "start": "249370",
    "end": "254650"
  },
  {
    "text": "best-of-breed solution that includes not only whole toy tests worth of cool not too cool new technology but also blends",
    "start": "254650",
    "end": "261700"
  },
  {
    "text": "in over a decade's worth of experience of what worked and really didn't work for Second Life when it comes to user-generated content a virtual world",
    "start": "261700",
    "end": "269640"
  },
  {
    "start": "269000",
    "end": "487000"
  },
  {
    "text": "so here were our main goals hopefully they seem somewhat simple",
    "start": "269640",
    "end": "276160"
  },
  {
    "text": "they're not but we tried",
    "start": "276160",
    "end": "280110"
  },
  {
    "text": "first of all do the systems engineers or the developers need to try something out we should be able to spin up a nice",
    "start": "281320",
    "end": "286419"
  },
  {
    "text": "stack of instances off in a corner where they can't hurt anybody and go to town right now this is a very involved",
    "start": "286419",
    "end": "292180"
  },
  {
    "text": "process involving logging a support ticket which gets generated to a systems engineer who goes and talks to its it",
    "start": "292180",
    "end": "298540"
  },
  {
    "text": "takes hours like most game platforms second life like most getting a florida",
    "start": "298540",
    "end": "305500"
  },
  {
    "text": "second my van seems to have at least one jerk to cut trying to cause trouble or one system that's act being funny we're",
    "start": "305500",
    "end": "312460"
  },
  {
    "text": "very well practiced at handling that sort of thing and providing round-the-clock care and feeding but we don't want that for sansar we have to",
    "start": "312460",
    "end": "319390"
  },
  {
    "text": "lower our maintenance costs second life had historically 24/7 NOC plus systems",
    "start": "319390",
    "end": "325630"
  },
  {
    "text": "engineers to escalate to on-call plus a concierge support team plus the developers and a real screaming",
    "start": "325630",
    "end": "331810"
  },
  {
    "text": "emergency that's dozens of people the operational cost of that is way too high so we want to fix that for sansaar the",
    "start": "331810",
    "end": "338110"
  },
  {
    "text": "goal is to leverage every trick we can find enable us in that environment third party solutions included so that",
    "start": "338110",
    "end": "345370"
  },
  {
    "text": "we can augment ourselves as far as what the operational expectations are going",
    "start": "345370",
    "end": "350530"
  },
  {
    "text": "to be and automate the self recovery as much as possible I don't want to have to do a 45-minute database rotate that",
    "start": "350530",
    "end": "356380"
  },
  {
    "text": "takes six engineers right we don't wanna do that anymore and if all else fails we",
    "start": "356380",
    "end": "362350"
  },
  {
    "text": "need have a really good super awesome alerting system that tells us hey stuff just broke we also want to get out of",
    "start": "362350",
    "end": "369040"
  },
  {
    "text": "the business of the long manual release process if a code commit passes a pull request and some form of automated",
    "start": "369040",
    "end": "375130"
  },
  {
    "text": "criteria ship it we don't want to take weeks we want to take hours security and",
    "start": "375130",
    "end": "382210"
  },
  {
    "text": "it's evil brother compliance so for",
    "start": "382210",
    "end": "388210"
  },
  {
    "text": "those of you who deal with games that have in-app purchases that's sort of analogous to what we have got to deal",
    "start": "388210",
    "end": "395050"
  },
  {
    "text": "with your own form of PCI compliance to handle those credit card transactions perhaps that sort of thing",
    "start": "395050",
    "end": "400630"
  },
  {
    "text": "and we have the additional headache which is you can buy in to our virtual platform but you can also cash back out",
    "start": "400630",
    "end": "406510"
  },
  {
    "text": "of it so we're subject to banking regulations in fact back in the day they used to people used to try and use",
    "start": "406510",
    "end": "411970"
  },
  {
    "text": "Second Life to launder money no lie they can't do that anymore so and if you are",
    "start": "411970",
    "end": "418330"
  },
  {
    "text": "familiar with PCI compliance you know there's a time line as soon as a risk has been identified you're on the clock for how fast you turn it around so much",
    "start": "418330",
    "end": "425650"
  },
  {
    "text": "like a bug fix or a security hole in our application that could impact our residents we also have to turn around",
    "start": "425650",
    "end": "431080"
  },
  {
    "text": "and make sure we keep our compliance so they let us keep using credit cards so we need a fast turnaround time on security deployments nothing gets the",
    "start": "431080",
    "end": "438310"
  },
  {
    "text": "government going like money and identity right so we have to be aware of that in AWS we can find them a prayer of doing",
    "start": "438310",
    "end": "444820"
  },
  {
    "text": "this in a way that's not super painful because right now it's super painful self-healing like I mentioned I can't",
    "start": "444820",
    "end": "451870"
  },
  {
    "text": "spend all of the resource engineering time that we have historically had to do for second life on sansar we want to",
    "start": "451870",
    "end": "457210"
  },
  {
    "text": "make that thing just tight so we need all those tools and the rapid ramp up and down of infrastructure and product",
    "start": "457210",
    "end": "463510"
  },
  {
    "text": "we'll get more on that but this this primarily is taking the fear out of big spikes you get a big spike of users for",
    "start": "463510",
    "end": "471099"
  },
  {
    "text": "some reason in physical data center this is tough in AWS this should be trivial",
    "start": "471099",
    "end": "477000"
  },
  {
    "text": "so here goes the first one it sounds so",
    "start": "477000",
    "end": "482320"
  },
  {
    "text": "simple but it encompasses kind of the most critical aspect of the architecture",
    "start": "482320",
    "end": "488010"
  },
  {
    "text": "as my systems architect likes to say all of our edges are bleeding and they do",
    "start": "488010",
    "end": "494560"
  },
  {
    "text": "they do bleed but for us it's truly been a good thing to be as cutting edge as possible but a long history of this sort",
    "start": "494560",
    "end": "501190"
  },
  {
    "text": "of thing particularly but now we're particularly fond but not exclusively so of open source projects we like to get",
    "start": "501190",
    "end": "507280"
  },
  {
    "text": "in the code we've sent pull requests back to a variety of maintainer some of them even get accepted stream processors is one",
    "start": "507280",
    "end": "516580"
  },
  {
    "text": "example we went to monitor AMA a couple years ago and we saw Rob Miller's talk on hecka it was like wow that's really",
    "start": "516580",
    "end": "522370"
  },
  {
    "text": "cool we came back and we shoved that puppy in it took a work I think about a week and a half actually that's not that",
    "start": "522370",
    "end": "528310"
  },
  {
    "text": "much if you think about it and it resulted in a cleaner imitation of what we had was like yay that's a win but",
    "start": "528310",
    "end": "535089"
  },
  {
    "text": "then because open-source projects will do this to you suddenly HECO was no longer the shiny and it was deprecated",
    "start": "535089",
    "end": "541060"
  },
  {
    "text": "now everybody has to switch to hindsight like oh I didn't have to do that right now but we did it we had designed in",
    "start": "541060",
    "end": "548770"
  },
  {
    "text": "such a way that it was as simple as possible and it's actually a lot more lightweight and robust than and faster",
    "start": "548770",
    "end": "554170"
  },
  {
    "text": "than hecka so another win won we weren't planning on having to do but we got it so keep bleeding those edges",
    "start": "554170",
    "end": "562860"
  },
  {
    "start": "562000",
    "end": "774000"
  },
  {
    "text": "orchestration we have tried everything with orchestration early prototypes",
    "start": "562860",
    "end": "568330"
  },
  {
    "text": "around May sews and kubernetes we eventually settled on docker containers",
    "start": "568330",
    "end": "573520"
  },
  {
    "text": "managed via dr. swarm we were on swarm for a while and we sent a lot of bug",
    "start": "573520",
    "end": "579880"
  },
  {
    "text": "fixes back up to them and and they took quite a few of them we have a developer and in particular that at Linden Lab if",
    "start": "579880",
    "end": "585790"
  },
  {
    "text": "you do something cool we give you love and at the end of the quarter that turns into money it's usually about two bucks of love we gave him a lot of love that",
    "start": "585790",
    "end": "592660"
  },
  {
    "text": "quarter I think he took his wife out to Napa or something but we found ourselves",
    "start": "592660",
    "end": "597850"
  },
  {
    "text": "having more bad days than good ones even with some smart guy like this trying to fix it as we went so when our AWS",
    "start": "597850",
    "end": "604480"
  },
  {
    "text": "account rep called us and said hey we got this new thing called ECS you want to get the beta or like yes please and a couple",
    "start": "604480",
    "end": "611220"
  },
  {
    "text": "of months later we're like take our money and we haven't looked back we run into the occasional brick wall I mean",
    "start": "611220",
    "end": "617490"
  },
  {
    "text": "early adoption you always get that the ugliest one was there was an annoying memory leak in an early version of the",
    "start": "617490",
    "end": "623580"
  },
  {
    "text": "agent and we thought that our zookeeper cluster had fallen over that was a couple of hours of banging our heads",
    "start": "623580",
    "end": "628920"
  },
  {
    "text": "against the wall and but you know we don't hold grudges and I'll tell you why in a little bit",
    "start": "628920",
    "end": "634130"
  },
  {
    "text": "it's it's been a solid solution other than that so overall the takeaway is doing the bleeding-edge thing while it",
    "start": "634130",
    "end": "641070"
  },
  {
    "text": "can be painful and lead to unexpected changes ultimately we win in the long run actually even in the mid run",
    "start": "641070",
    "end": "647310"
  },
  {
    "text": "sometimes even in the short run so we're gonna keep doing that even if sometimes we bang our heads into the brick and now",
    "start": "647310",
    "end": "654990"
  },
  {
    "text": "I have a little funny story about why we forget any of this let me let me just",
    "start": "654990",
    "end": "660420"
  },
  {
    "text": "say that one thing we're really good at doing at the lab is breaking things we're really good at that",
    "start": "660420",
    "end": "668840"
  },
  {
    "text": "so like with ECS we were also early adopters of s3 back around 2008 like I",
    "start": "669800",
    "end": "675450"
  },
  {
    "text": "said as part of that adoption we were attempting to migrate somewhere in the vicinity of five hundred terabytes of",
    "start": "675450",
    "end": "681660"
  },
  {
    "text": "data from our network appliances in the data center up to the new buckets and us East which at the time I think was the",
    "start": "681660",
    "end": "687420"
  },
  {
    "text": "only real region and it's only our production data let's just shove it up there no problem right not to worry from",
    "start": "687420",
    "end": "693480"
  },
  {
    "text": "ministry perspective was actually just fine but on our side we we accidentally broke the s3 name node conventions in",
    "start": "693480",
    "end": "701130"
  },
  {
    "text": "our upload script which in turn caused the upload to block s3 politely sent back an error saying ah doesn't work",
    "start": "701130",
    "end": "709730"
  },
  {
    "text": "when we got the error codes where we had a little bit of a whoopsie as many of you know you're doing a big data",
    "start": "709730",
    "end": "715890"
  },
  {
    "text": "transfer you'll put in an exponential back-off this is something that allows your code to say ah this big",
    "start": "715890",
    "end": "722400"
  },
  {
    "text": "transmission of data failed okay let's wait a bit and we'll try it again and we did that we had that we had smart people",
    "start": "722400",
    "end": "729600"
  },
  {
    "text": "but for some mysterious reason we accidentally set the number to that back off to zero which means we sent the data",
    "start": "729600",
    "end": "738380"
  },
  {
    "text": "s3 said go away and we immediately tried again because at the lab errors often mean try",
    "start": "738380",
    "end": "744780"
  },
  {
    "text": "harder as the old joke goes so in any case after a while our operations manager at the time got this very",
    "start": "744780",
    "end": "750570"
  },
  {
    "text": "frantic phone call for some poor engineer at Amazon saying whatever you're doing for the love of all that is holy please stop we were tossing s3 out",
    "start": "750570",
    "end": "758550"
  },
  {
    "text": "of commission so for all of you who use s3 and are very pleased with the",
    "start": "758550",
    "end": "764130"
  },
  {
    "text": "robustness of the platform you're welcome I am pretty sure a whole lot of idiot proofing was put into the system",
    "start": "764130",
    "end": "769980"
  },
  {
    "text": "after that little experience and they forgave us so let's just love everywhere",
    "start": "769980",
    "end": "777770"
  },
  {
    "start": "774000",
    "end": "941000"
  },
  {
    "text": "okay so still on the topic of rapid prototyping we want to be able to safely try things right and in as close to the",
    "start": "777770",
    "end": "784410"
  },
  {
    "text": "production environment as possible there's nothing more horrible to hear from the developer that what do they say",
    "start": "784410",
    "end": "789960"
  },
  {
    "text": "it works on my machine alright we don't want to hear that I'm also in charge of",
    "start": "789960",
    "end": "795330"
  },
  {
    "text": "the build team they hear that a lot too it compiles on my machine so the model model to replicate in our environments",
    "start": "795330",
    "end": "801810"
  },
  {
    "text": "is as close to production as possible and to achieve the rapid prototyping and also taking advantage of all these",
    "start": "801810",
    "end": "807360"
  },
  {
    "text": "bleeding edge investigations that we're doing we have to protect the overall system from from the blood so when",
    "start": "807360",
    "end": "813540"
  },
  {
    "text": "things get swapped around we want to make sure we don't accidentally break things previously we had a flat data",
    "start": "813540",
    "end": "818790"
  },
  {
    "text": "center network that was kind of fun it's still kind of fun our security people hate it and over time because of that",
    "start": "818790",
    "end": "826470"
  },
  {
    "text": "the developers felt wrap felt trapped to the earth fell victim to the trap of expediency oh I can talk to that",
    "start": "826470",
    "end": "833760"
  },
  {
    "text": "database through that endpoint or that restful api or that I can invoke my",
    "start": "833760",
    "end": "839820"
  },
  {
    "text": "sequel and just talk to it or write so now we've got a database that has seven or eight different types of mechanisms",
    "start": "839820",
    "end": "845520"
  },
  {
    "text": "which means it's incredibly hard to upgrade let alone replace so that was a major aspect in how we designed the B",
    "start": "845520",
    "end": "852000"
  },
  {
    "text": "pcs isolate the data store enforce single entry as much as possible and",
    "start": "852000",
    "end": "858300"
  },
  {
    "text": "they and B pcs weren't out when we first got into AWS when they came out again early adoption let's get in there we",
    "start": "858300",
    "end": "864780"
  },
  {
    "text": "need to be able to take advantage of this stuff so we're all about the iron rolls in addition to the security groups we'll talk a little bit more about that",
    "start": "864780",
    "end": "870320"
  },
  {
    "text": "it's been an evolving process right I always find those bleeding edges",
    "start": "870320",
    "end": "875420"
  },
  {
    "text": "overall in this picture what we're seeing is the back end over here on the",
    "start": "875420",
    "end": "881160"
  },
  {
    "text": "Left these services have access to the individual P pcs on the right but",
    "start": "881160",
    "end": "887340"
  },
  {
    "text": "through a tightly controlled access point access so the internet only goes through these authenticated connections",
    "start": "887340",
    "end": "893040"
  },
  {
    "text": "the network ACLs will permit only expected traffic and that includes expected traffic from other services",
    "start": "893040",
    "end": "900210"
  },
  {
    "text": "within our cluster again we're trying to make that sure the developers are playing nice the front end services in",
    "start": "900210",
    "end": "909060"
  },
  {
    "text": "these varied V pcs only have access to each other through public interfaces or",
    "start": "909060",
    "end": "914880"
  },
  {
    "text": "any elbe so instead of a flat network where almost everything can talk to almost everything else we technically",
    "start": "914880",
    "end": "920580"
  },
  {
    "text": "enforce our access policies rather than hope a particular standard is adhere to through honor system because developers",
    "start": "920580",
    "end": "926670"
  },
  {
    "text": "are in a hurry and they're really going to forget generously they're going to forget monitoring needs so from my",
    "start": "926670",
    "end": "935430"
  },
  {
    "text": "perspective this is the most important one right I'm director of systems engineers this is this is where I live",
    "start": "935430",
    "end": "942319"
  },
  {
    "start": "941000",
    "end": "1080000"
  },
  {
    "text": "and we spent a lot of time this is a crazy slide I apologize I tried cleaning up as much as possible we spent a lot of",
    "start": "942440",
    "end": "948870"
  },
  {
    "text": "time thinking about how to do this when I left you'll see we have a standard ECS",
    "start": "948870",
    "end": "954510"
  },
  {
    "text": "cluster image and this is not the right slide okay I apologize I had color",
    "start": "954510",
    "end": "960720"
  },
  {
    "text": "coding improved on on a more recent version so on our ACS cluster image we have our Debian ami from which the ec2",
    "start": "960720",
    "end": "969180"
  },
  {
    "text": "is generated we also have our base container infrastructure as you can see OS and container that's yeah sorry about",
    "start": "969180",
    "end": "975780"
  },
  {
    "text": "the typo so depending on whether or not you're the underlying operating system or the container you'll go into some",
    "start": "975780",
    "end": "981330"
  },
  {
    "text": "level of streaming all right ultimately you can see it was hecka now hindsight",
    "start": "981330",
    "end": "986940"
  },
  {
    "text": "we go through of EPC peer into our mm a stack which is in a whole different environment into Kafka aggregation from",
    "start": "986940",
    "end": "994710"
  },
  {
    "text": "there we go into hindsight consumers that do fun things and then generate it",
    "start": "994710",
    "end": "999720"
  },
  {
    "text": "out into a variety of locations so from a systems engineering perspective we as",
    "start": "999720",
    "end": "1006350"
  },
  {
    "text": "much as possible have structured data if any of you know charity majors she has really funny quotes about not using",
    "start": "1006350",
    "end": "1012290"
  },
  {
    "text": "structured data I won't repeat them here because we're polite but our structured data goes into influx DB and then",
    "start": "1012290",
    "end": "1017750"
  },
  {
    "text": "sitting on top of that is Griffin ax which actually has a pretty decent interface logs which we don't like lives",
    "start": "1017750",
    "end": "1024290"
  },
  {
    "text": "but logs are kind of a thing that we have to support that goes into elasticsearch and has Kabana at the moment sitting on top of it we're also",
    "start": "1024290",
    "end": "1030530"
  },
  {
    "text": "looking at other third-party solutions around that again keeping it bleeding edge always be willing to try things we",
    "start": "1030530",
    "end": "1036410"
  },
  {
    "text": "use sensu for the actual alerting it does passive and active we output our",
    "start": "1036410",
    "end": "1043430"
  },
  {
    "text": "stuff to pager duty and slack and if we need to review the sense of alerts we can look at it you Chua it's actually",
    "start": "1043430",
    "end": "1050180"
  },
  {
    "text": "pretty cool when you log into our infrastructure of EPC it sits behind Google authentication so it's wide open",
    "start": "1050180",
    "end": "1056030"
  },
  {
    "text": "really easy to get to and we have a wealth of information at our hands that",
    "start": "1056030",
    "end": "1061460"
  },
  {
    "text": "in previous infrastructures you often would have to log in directly to the individual host to see continuous",
    "start": "1061460",
    "end": "1071150"
  },
  {
    "text": "delivery and deployment still maintaining securities again security is an important thing for us it instructs a",
    "start": "1071150",
    "end": "1077000"
  },
  {
    "text": "lot of what we do another crazy slide so",
    "start": "1077000",
    "end": "1084170"
  },
  {
    "start": "1080000",
    "end": "1260000"
  },
  {
    "text": "we have two parts of the pipeline the pipeline is sort of this meta existence that we use to describe the overall",
    "start": "1084170",
    "end": "1090440"
  },
  {
    "text": "process by which we go from developer to user so the first part is the built",
    "start": "1090440",
    "end": "1095590"
  },
  {
    "text": "starting with the right side you'll see here it generates our base am i upon",
    "start": "1095590",
    "end": "1102440"
  },
  {
    "text": "which our containers will rest there's a base image config in a repository so",
    "start": "1102440",
    "end": "1107930"
  },
  {
    "text": "we're really an infrastructure as code we use bootstrap BC to generate the image we use Packer to overlay things",
    "start": "1107930",
    "end": "1114410"
  },
  {
    "text": "like our authentication mechanism security hardening other types of things and all the things necessary to play",
    "start": "1114410",
    "end": "1120800"
  },
  {
    "text": "nice with ECS clusters what we get to that point loaded up into where it needs to be for a Mis to reside and away we go",
    "start": "1120800",
    "end": "1129560"
  },
  {
    "text": "and this again this is also where we deal with security because usually it comes in is like a Debian security alert",
    "start": "1129560",
    "end": "1136040"
  },
  {
    "text": "or some other form of CDE we have to get on them right away so response is",
    "start": "1136040",
    "end": "1141110"
  },
  {
    "text": "usually grabbed but take that upgraded package of whatever it is check it in to our config",
    "start": "1141110",
    "end": "1146940"
  },
  {
    "text": "we're on the pipeline Wham we haven't updated am I ready for testing on the",
    "start": "1146940",
    "end": "1153690"
  },
  {
    "text": "Left we have our container builds again starting infrastructures code we've got to get hub repo we use bash brew to",
    "start": "1153690",
    "end": "1161100"
  },
  {
    "text": "generate the container I'm sorry yes bash brew builds there's so many pieces",
    "start": "1161100",
    "end": "1167940"
  },
  {
    "text": "to the pipeline I'm just a lowly director so bash brew generates the base container then we have some scripted",
    "start": "1167940",
    "end": "1174300"
  },
  {
    "text": "plugins to do some congregation of the application that's built other things that the application might need Apache",
    "start": "1174300",
    "end": "1180420"
  },
  {
    "text": "nginx that sort of stuff adds that into our own hosted registry but using the",
    "start": "1180420",
    "end": "1188340"
  },
  {
    "text": "ECS api interface okay we also have some metadata for each individual bill that",
    "start": "1188340",
    "end": "1194340"
  },
  {
    "text": "goes into and has three bucket talked about that enough couple of slides we're not using ECR because at the moment",
    "start": "1194340",
    "end": "1199830"
  },
  {
    "text": "we're fine with what we've got but we are keeping an eye on it because we don't know what features that might benefit us in the future right so keep",
    "start": "1199830",
    "end": "1206670"
  },
  {
    "text": "it loose every one of these pieces is relatively plug-and-play it wouldn't take more than a week to replace any of them I'm guessing at",
    "start": "1206670",
    "end": "1213090"
  },
  {
    "text": "least that's what my engineers keep telling me there's another area where we've had to do a course correction",
    "start": "1213090",
    "end": "1218550"
  },
  {
    "text": "actually so the section where it says it's the scripted plugins we're using the Jenkins interface we were a little",
    "start": "1218550",
    "end": "1223830"
  },
  {
    "text": "groovy code to handle the container repackaging because we were using drone",
    "start": "1223830",
    "end": "1228930"
  },
  {
    "text": "all of our stuffs in github drone talks to github it's great except the drone II see the drone agents were failing all",
    "start": "1228930",
    "end": "1235590"
  },
  {
    "text": "over the place we'd have to restart them all the time it was causing us a lot of headaches or like a fine ditch it will write our own for now maybe the drone",
    "start": "1235590",
    "end": "1242190"
  },
  {
    "text": "will be fixed in six months maybe there will be another solution that we can use maybe we'll use an AWS solution we're",
    "start": "1242190",
    "end": "1247590"
  },
  {
    "text": "gonna wait and see play it by ear alright more goals security self-healing",
    "start": "1247590",
    "end": "1255000"
  },
  {
    "text": "rapid ramp up and wrap it down ramp down is critical you wanna you want to not",
    "start": "1255000",
    "end": "1262710"
  },
  {
    "start": "1260000",
    "end": "1433000"
  },
  {
    "text": "have to spend the money on the troughs physical Hardware you're spending money on the troughs so here's the second part",
    "start": "1262710",
    "end": "1268620"
  },
  {
    "text": "of the pipeline this is this is where we're cooking with gas deploys",
    "start": "1268620",
    "end": "1273760"
  },
  {
    "text": "at the bottom you'll see our repo holding our CloudFormation templates",
    "start": "1273760",
    "end": "1278880"
  },
  {
    "text": "there those are then dynamically generated into into a cloud formation JSON using troposphere and we have a",
    "start": "1278880",
    "end": "1286840"
  },
  {
    "text": "rapper script that does all the interesting things around that there's all sorts of useful information in this process",
    "start": "1286840",
    "end": "1292210"
  },
  {
    "text": "I am roles that we're going to use for the cluster security groups for the individual instances etc etc it passes",
    "start": "1292210",
    "end": "1298840"
  },
  {
    "text": "all of that information as a recipe to AWS which and then turn--turn cooks up a",
    "start": "1298840",
    "end": "1304600"
  },
  {
    "text": "launch config which is referenced to are pretty new ami that we built on the previous slide as well as setting up the",
    "start": "1304600",
    "end": "1313450"
  },
  {
    "text": "auto scaling groups that you see there the auto scaling group is built-in with the config that it needs so it knows",
    "start": "1313450",
    "end": "1318940"
  },
  {
    "text": "which ECS cluster images it wants all",
    "start": "1318940",
    "end": "1324220"
  },
  {
    "text": "comes together it's a little bit a little bit goofy once that mad scramble of creation settles down the completed",
    "start": "1324220",
    "end": "1329980"
  },
  {
    "text": "auto scaling group launches the instance or instances based on the initial config and now those instances are ready to",
    "start": "1329980",
    "end": "1335440"
  },
  {
    "text": "receive what's going on up top so the app containers go through their own deploy process the place kicked off so",
    "start": "1335440",
    "end": "1342160"
  },
  {
    "text": "developer has checked in some bug fix whatever and based on the parameters",
    "start": "1342160",
    "end": "1347440"
  },
  {
    "text": "pass through the script it grabs necessary data from s3 that metadata they were talking about here app deploy",
    "start": "1347440",
    "end": "1353530"
  },
  {
    "text": "info could be anything this is basically",
    "start": "1353530",
    "end": "1359740"
  },
  {
    "text": "the product level at this point from a systems engineering perspective we don't have to care what it is so this includes",
    "start": "1359740",
    "end": "1366460"
  },
  {
    "text": "which container to pull from the docker registry it sets up the ECS task definitions as well as the EECS service",
    "start": "1366460",
    "end": "1372010"
  },
  {
    "text": "that will use them the auto scale ec2 instances that we set up below are ready to receive them we search for them by",
    "start": "1372010",
    "end": "1378790"
  },
  {
    "text": "tag we start flinging out containers based on the service definition and away we go we have in running products all",
    "start": "1378790",
    "end": "1385570"
  },
  {
    "text": "this again is done in a Jenkins pipeline that's really lightweight we use the blue ocean interface and the pipeline",
    "start": "1385570",
    "end": "1391600"
  },
  {
    "text": "plugin and it's super simple I always tell people if I can't understand it it's too complicated and if you're hit",
    "start": "1391600",
    "end": "1398260"
  },
  {
    "text": "by a bus and it's too complicated we're up a creek keep it simple for our",
    "start": "1398260",
    "end": "1404080"
  },
  {
    "text": "services that are doing all this in an automated fashion different parts of our product are in different",
    "start": "1404080",
    "end": "1409380"
  },
  {
    "text": "areas of development as far as where they're at from a development process perspective one team in particular is",
    "start": "1409380",
    "end": "1415120"
  },
  {
    "text": "truth is doing true continuous deployment they have multiple deploys to production every day and it turns around",
    "start": "1415120",
    "end": "1421540"
  },
  {
    "text": "in about 10 minutes and about six of those minutes are testing that's that's",
    "start": "1421540",
    "end": "1427870"
  },
  {
    "text": "the goal we want everything to be as good as that way sansaar image call it",
    "start": "1427870",
    "end": "1437049"
  },
  {
    "start": "1433000",
    "end": "1635000"
  },
  {
    "text": "out direct from the product so scale scale is hard to scale changes there is",
    "start": "1437049",
    "end": "1445419"
  },
  {
    "text": "no there is no linear curve it's it's all over the place right and way back",
    "start": "1445419",
    "end": "1451900"
  },
  {
    "text": "when there was an episode of CSI in New York that involved Second Life and because of that there is going to be in",
    "start": "1451900",
    "end": "1458559"
  },
  {
    "text": "it really there was second life in the episode you can go look it up and because of that there was going to be CSI related content added for fans to go",
    "start": "1458559",
    "end": "1465549"
  },
  {
    "text": "log into Second Life and play with help solve the mystery if you will and based on the producers projections of what",
    "start": "1465549",
    "end": "1471820"
  },
  {
    "text": "percentage of viewers were going to turn around into people who are gonna log into Second Life we were looking at having to potentially support a",
    "start": "1471820",
    "end": "1477610"
  },
  {
    "text": "concurrency spike that was worth about two and a half racks worth of hardware in the data center that's if you don't",
    "start": "1477610",
    "end": "1484299"
  },
  {
    "text": "know that what that it translates to that's a lot of hardware even assuming",
    "start": "1484299",
    "end": "1490270"
  },
  {
    "text": "that you can scram will come up with that harder which by the way for a small company is almost impossible to do maybe",
    "start": "1490270",
    "end": "1495460"
  },
  {
    "text": "you have to buy it and now what do you do with all this extra hardware they don't need any more great how many episodes of CSI New York or they're",
    "start": "1495460",
    "end": "1501070"
  },
  {
    "text": "gonna be right this is a terrible scenario I don't want this scenario so for sansar what we want for all intents",
    "start": "1501070",
    "end": "1506679"
  },
  {
    "text": "and purposes is this is push button I don't even want to have to care about it I shouldn't have to know other than to",
    "start": "1506679",
    "end": "1512350"
  },
  {
    "text": "pay the bill at the end of the month if you want to do some big capacity planning thing you're doing an online",
    "start": "1512350",
    "end": "1517570"
  },
  {
    "text": "rock concert or who knows you know prepping for Burning Man go bank up your",
    "start": "1517570",
    "end": "1524169"
  },
  {
    "text": "scale have your regions be ready for a thousand consumers I don't want to care",
    "start": "1524169",
    "end": "1530220"
  },
  {
    "text": "so we need to build the tools that will allow them to do that right this pick is an early example the",
    "start": "1530220",
    "end": "1536500"
  },
  {
    "text": "loot interactive which is a digital content creator company I think based out of New York they partnered",
    "start": "1536500",
    "end": "1542450"
  },
  {
    "text": "with NASA to create the Apollo museum experience and they used sansar to do it",
    "start": "1542450",
    "end": "1548780"
  },
  {
    "text": "even though Stan sir at the time was still Alfa we hadn't even released beta yet but you've got a holographic Buzz",
    "start": "1548780",
    "end": "1554929"
  },
  {
    "text": "Aldrin giving you a guided tour through all of these amazing space vehicles it's built to scale let me tell you when you",
    "start": "1554929",
    "end": "1562130"
  },
  {
    "text": "can log in this answer now and if you have an oculus or a vive and you go look at this thing that's Saturn five rocket I really hurt my neck trying to look at",
    "start": "1562130",
    "end": "1569660"
  },
  {
    "text": "that thing it's huge and Buzz Aldrin that was really awesome I enjoyed that so my point is scale we",
    "start": "1569660",
    "end": "1577580"
  },
  {
    "text": "all sat there nervously like okay when's the launcher Buzz Aldrin was actually gonna be at the launch we weren't there that was over in New York or something",
    "start": "1577580",
    "end": "1584140"
  },
  {
    "text": "he was there and they were all there putting the ring on him and there's all these like luminaries that are gonna go",
    "start": "1584140",
    "end": "1590390"
  },
  {
    "text": "see this virtual Apollo museum and we're like we're watching bur fauna okay oh",
    "start": "1590390",
    "end": "1597200"
  },
  {
    "text": "it's good oh it's good look okay concurrency is a concern she is way up",
    "start": "1597200",
    "end": "1602419"
  },
  {
    "text": "how's the system's doing it's fine it's fine it's fine I'm going home now this is great that's what I want for sansaar",
    "start": "1602419",
    "end": "1609650"
  },
  {
    "text": "I want that to be true for ten thousand for a hundred thousand I think it will be I think we're on the right track for",
    "start": "1609650",
    "end": "1614660"
  },
  {
    "text": "that oh and by the way I mean this this",
    "start": "1614660",
    "end": "1622010"
  },
  {
    "text": "involves not only the graphics but video audio walkthroughs occlusion this was",
    "start": "1622010",
    "end": "1629000"
  },
  {
    "text": "actually a really complicated region and we're already supporting it because it's so easy to spin up the hardware that we",
    "start": "1629000",
    "end": "1634730"
  },
  {
    "text": "need so since our the sensor itself uses",
    "start": "1634730",
    "end": "1641600"
  },
  {
    "text": "ECS directly it's not just the underlying production infrastructure and the reason for this is because it's easy",
    "start": "1641600",
    "end": "1646940"
  },
  {
    "text": "I always tell my engineers why are you implementing this convinced",
    "start": "1646940",
    "end": "1653059"
  },
  {
    "text": "me that we need to implement this because I'm sure there's a solution out there we can use of course my developers",
    "start": "1653059",
    "end": "1658610"
  },
  {
    "text": "they actually go out and find stuff so the sands our back-end server team realized that they could leverage",
    "start": "1658610",
    "end": "1664190"
  },
  {
    "text": "ECS API to augment what they needed for how you get to an individual region",
    "start": "1664190",
    "end": "1672730"
  },
  {
    "text": "and that's just one of many there's also the webstore you know where you can go buy things because there's a client-side",
    "start": "1673590",
    "end": "1679350"
  },
  {
    "text": "application that actually does a little rendering I don't care about the client-side application other than it's fun to use but the backend services this",
    "start": "1679350",
    "end": "1685590"
  },
  {
    "text": "is really cool I wanted to talk to you a little bit about this here's the atlas so you log onto sansar and you see this",
    "start": "1685590",
    "end": "1692460"
  },
  {
    "start": "1688000",
    "end": "1702000"
  },
  {
    "text": "collection of places you can go visit right you hit visit and all of a sudden a whole bunch of things are happening",
    "start": "1692460",
    "end": "1698340"
  },
  {
    "text": "under the cover but still in the application layer so it's not just",
    "start": "1698340",
    "end": "1706740"
  },
  {
    "text": "simply a matter of setting up an auto scale group from my perspective and systems is just an auto scale group do we have enough harder to support the",
    "start": "1706740",
    "end": "1712110"
  },
  {
    "text": "load in this case each sensor experience is generated on the fly as need dictates",
    "start": "1712110",
    "end": "1718710"
  },
  {
    "text": "and it's unique and it corresponds to an individual container and it can hold a",
    "start": "1718710",
    "end": "1724860"
  },
  {
    "text": "certain number of users so you select experience the region conductor which is sansaar code has a look to determine",
    "start": "1724860",
    "end": "1731010"
  },
  {
    "text": "whether or not that experience is already running if not it fires up the correct container we have those ECS cluster ec2 instances waiting so firing",
    "start": "1731010",
    "end": "1738630"
  },
  {
    "text": "up the container takes seconds from the user perspective it's glorious so if the",
    "start": "1738630",
    "end": "1745380"
  },
  {
    "text": "region's already running it's even faster network time the region conductor checks are mostly based on Redis cache",
    "start": "1745380",
    "end": "1751470"
  },
  {
    "text": "or even ECS directly on whether or not something is up and live and ready to receive users routed to it Redis is",
    "start": "1751470",
    "end": "1758580"
  },
  {
    "text": "populated by log watch which goes through SNS which goes to Kafka because everything goes through Kafka which goes",
    "start": "1758580",
    "end": "1763860"
  },
  {
    "text": "to read us along the way lamda gets to poke to add or remove services as",
    "start": "1763860",
    "end": "1769320"
  },
  {
    "text": "instructed depending on the policies around that cluster and this is what I talking about you scale up you scale",
    "start": "1769320",
    "end": "1775140"
  },
  {
    "text": "down to me down as important I have to write the POS so from a business",
    "start": "1775140",
    "end": "1781230"
  },
  {
    "text": "perspective nobody's in the scene that seam goes down in Second Life nobody's in a scene that scene is going right",
    "start": "1781230",
    "end": "1787230"
  },
  {
    "text": "along eating Colo rent and power and HVAC and all the other things we have to pay for so down scaling is critical but",
    "start": "1787230",
    "end": "1794760"
  },
  {
    "text": "we have to be smart about how we do it and frankly it's we're honestly we're still working on that heuristic because",
    "start": "1794760",
    "end": "1799770"
  },
  {
    "text": "maybe it's a super-popular region and just because somebody's out now five minutes later statistically maybe they'd",
    "start": "1799770",
    "end": "1805290"
  },
  {
    "text": "come back so we don't want to shut it down right because we want to maintain high speed so we'll figure this one out and",
    "start": "1805290",
    "end": "1813780"
  },
  {
    "text": "we don't want to stop it just eliminating the unused container because what does that actually buy us we don't pay for containers we pay for the",
    "start": "1813780",
    "end": "1819600"
  },
  {
    "text": "instances right so what we want is the number of scenes or that reduce to start",
    "start": "1819600",
    "end": "1825299"
  },
  {
    "text": "thinking about reducing the size of the overall cluster because then we start saving the money so maybe we're like oh we're going to have a plan maintenance",
    "start": "1825299",
    "end": "1832020"
  },
  {
    "text": "for 30 seconds and we're going to switch you over to this host right so we want to be smart about how we maximize our",
    "start": "1832020",
    "end": "1837780"
  },
  {
    "text": "value for the services the resources that we're consuming so imagine if one",
    "start": "1837780",
    "end": "1843090"
  },
  {
    "text": "region server technically has four active scenes and three of the scenes shut down we're now paying for a full",
    "start": "1843090",
    "end": "1849270"
  },
  {
    "text": "ec2 instance for one scene and get them out of there move them around so I",
    "start": "1849270",
    "end": "1854790"
  },
  {
    "text": "suspect this will take probably the longest of all of the things that we do to figure out another place we're using",
    "start": "1854790",
    "end": "1861000"
  },
  {
    "start": "1859000",
    "end": "1933000"
  },
  {
    "text": "lambda force and SARS in our store so here are some of the things these are all user generated there's some really",
    "start": "1861000",
    "end": "1867929"
  },
  {
    "text": "crazy talented people that are playing around in Sansa right now so they up and",
    "start": "1867929",
    "end": "1872970"
  },
  {
    "text": "hold upload an image which represents what they're going to have in their storefront that image upload triggers an",
    "start": "1872970",
    "end": "1879630"
  },
  {
    "text": "s3 object created trigger that kicks off the lambda function that then goes through and turns it into thumbnails of",
    "start": "1879630",
    "end": "1886200"
  },
  {
    "text": "various sizes so that depending on resolution and other types of things you can see the image the original version",
    "start": "1886200",
    "end": "1892710"
  },
  {
    "text": "of the equivalent functionality that we had in Second Life was an old perl script using imagemagick so an image",
    "start": "1892710",
    "end": "1902309"
  },
  {
    "text": "magic is still probably the single greatest source of security fire drills in high-tech industry so this new way of",
    "start": "1902309",
    "end": "1907950"
  },
  {
    "text": "doing things to me is kind of like going from eating ants and grubs and the trees to sitting down at Bouchon for the price",
    "start": "1907950",
    "end": "1914820"
  },
  {
    "text": "fix meal I mean I get chills at how simple this is now and because it's lambda the currency that we use in",
    "start": "1914820",
    "end": "1923760"
  },
  {
    "text": "sansar is called a sansar dollar and there's an exchange rate between it and US dollars in second life that's Linden",
    "start": "1923760",
    "end": "1930570"
  },
  {
    "text": "dollars to u.s. dollars speaking of second life",
    "start": "1930570",
    "end": "1936330"
  },
  {
    "start": "1933000",
    "end": "2038000"
  },
  {
    "text": "we're gonna try and retrofit an old friend I have a data center it's an Arizona it has a lot of old",
    "start": "1936330",
    "end": "1943290"
  },
  {
    "text": "hardware in it so I have to think I'm responsible for paying these bills is it",
    "start": "1943290",
    "end": "1949590"
  },
  {
    "text": "going to be more cost-effective for me to spend the half-million 3/4 a million",
    "start": "1949590",
    "end": "1954870"
  },
  {
    "text": "million dollars to upgrade the hardware and buy the new network switches and all the other things and because we're",
    "start": "1954870",
    "end": "1960930"
  },
  {
    "text": "buying new hardware we're probably gonna have to buy a new racks and that means we're gonna have to lay new fiber and that's a lot of money I work for a small",
    "start": "1960930",
    "end": "1968340"
  },
  {
    "text": "company my boss doesn't like that idea like hey we're still making a lot of money we want to keep this thing going",
    "start": "1968340",
    "end": "1975390"
  },
  {
    "text": "as long as possible so we are actually going to try and retrofit second-life a 13 year old data center design product",
    "start": "1975390",
    "end": "1982410"
  },
  {
    "text": "into AWS we're going to containerize it we're going to have to figure out how to",
    "start": "1982410",
    "end": "1988680"
  },
  {
    "text": "solve the fact that there's eight different ways to access a single database but we're already working on it",
    "start": "1988680",
    "end": "1994350"
  },
  {
    "text": "we've already found our bleeding edges there's a really cool new product called proxy sequel we think we'll be able to",
    "start": "1994350",
    "end": "1999930"
  },
  {
    "text": "fake a lot of those connections where it makes looks like you have eight different connections in the database but actually you have one right we're",
    "start": "1999930",
    "end": "2007940"
  },
  {
    "text": "looking at things so for Second Life we'll probably go in using an ec2 instance with a my sequel image on it",
    "start": "2007940",
    "end": "2014320"
  },
  {
    "text": "we're using kind of old version of my sequel right now database upgrades are hard eventually we want to get an RDS",
    "start": "2014320",
    "end": "2019520"
  },
  {
    "text": "the answer is already an RDS but eventually we want to get that in Aurora because of scalability always lots of",
    "start": "2019520",
    "end": "2026420"
  },
  {
    "text": "options always bleeding edges so hopefully next year we'll be talking we'll be back to talk about how this",
    "start": "2026420",
    "end": "2032600"
  },
  {
    "text": "migration went and we'll be running a thirteen-year-old product on a brand new cloud yeah how hard can it be",
    "start": "2032600",
    "end": "2039770"
  },
  {
    "text": "like I said exciting technical that the flat network to be pcs oh this is a good",
    "start": "2039770",
    "end": "2045230"
  },
  {
    "text": "one assumptions around proximity as it relates to latency sensitivity we have things that are so sensitive that if",
    "start": "2045230",
    "end": "2052040"
  },
  {
    "text": "they're in separate racks they don't work and we haven't fixed them yet because we haven't had to well we have to fix them now Oh in the last one third",
    "start": "2052040",
    "end": "2059000"
  },
  {
    "text": "party Second Life viewers the single most popular Second Life viewer is not one that we control that's good and bad",
    "start": "2059000",
    "end": "2065510"
  },
  {
    "text": "it's great because we have an engaged user audience and it's bad because thing ever dies so when we move this",
    "start": "2065510",
    "end": "2071240"
  },
  {
    "text": "thing we have to make sure we don't break stuff but I have a really smart team and I think they're gonna pull it off in the meantime go play with Sansar",
    "start": "2071240",
    "end": "2079100"
  },
  {
    "text": "it's pretty fun now any questions",
    "start": "2079100",
    "end": "2084730"
  }
]