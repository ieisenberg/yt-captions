[
  {
    "start": "0",
    "end": "75000"
  },
  {
    "text": "right which universe glad you are here to join us for our second episode of",
    "start": "0",
    "end": "5509"
  },
  {
    "text": "building happy little api's you may not know me really well but there there are a couple things that will help you out",
    "start": "5509",
    "end": "11550"
  },
  {
    "text": "when I hold up one finger and I say second I mean second sometimes that's confusing those are the rules this is",
    "start": "11550",
    "end": "16590"
  },
  {
    "text": "any number I want it to be that'll help you out there's more rules but we'll cover that later first let me introduce",
    "start": "16590",
    "end": "22260"
  },
  {
    "text": "over here to my right here mr. George mouth George tell us by yourself this is",
    "start": "22260",
    "end": "27779"
  },
  {
    "text": "my co-host hi everyone my name is George I am a service specialist AWS and I",
    "start": "27779",
    "end": "34649"
  },
  {
    "text": "helped our customers build all kinds of service solutions excellent and George",
    "start": "34649",
    "end": "40440"
  },
  {
    "text": "is a rock star at API gateways gonna be helping us out today so what we're gonna",
    "start": "40440",
    "end": "45780"
  },
  {
    "text": "do today is we're gonna be talking the game like I said this is the second episode of building happy little api's we want to help you stay calm",
    "start": "45780",
    "end": "52440"
  },
  {
    "text": "we want to help you stay peaceful I'm gonna help you build the api's and conquer the world happy believe you guys so today we're",
    "start": "52440",
    "end": "59850"
  },
  {
    "text": "gonna be starting out with one of the most common use cases that we see but really just a small small percentage of",
    "start": "59850",
    "end": "68400"
  },
  {
    "text": "the power of API gateway but today we're going to be building a REST API we're calling this no rest for the weary and",
    "start": "68400",
    "end": "76320"
  },
  {
    "start": "75000",
    "end": "155000"
  },
  {
    "text": "so before we get started with that though I want to kind of introduce you to see him and if you've never heard of",
    "start": "76320",
    "end": "83520"
  },
  {
    "text": "seen him this is going to be you know it's a really powerful tool it's the service application model and we're",
    "start": "83520",
    "end": "89700"
  },
  {
    "text": "going to be using Sam today to build out to build out an application model or I'm",
    "start": "89700",
    "end": "95970"
  },
  {
    "text": "sorry to build out our APA gateway in the last episode we talked about the different ways you can use a CLI you can",
    "start": "95970",
    "end": "102600"
  },
  {
    "text": "use Sam like we're showing here you can use the console you can use CloudFormation and you can use swagger",
    "start": "102600",
    "end": "109680"
  },
  {
    "text": "today we're going to use Sam because it integrates well with the other services that we're going to be bringing up like",
    "start": "109680",
    "end": "115649"
  },
  {
    "text": "lambda so let's jump in a little bit just give you a quick overview of sin and what it does so the first thing to",
    "start": "115649",
    "end": "123270"
  },
  {
    "text": "note is is Sam as an A to B us CloudFormation extension Optima for service and as specialist service",
    "start": "123270",
    "end": "130619"
  },
  {
    "text": "resource types as functions API as you can see that that help you build surplus",
    "start": "130619",
    "end": "136410"
  },
  {
    "text": "resources faster it supports anything you need to be asked CloudFormation and so so if you",
    "start": "136410",
    "end": "142290"
  },
  {
    "text": "use something CloudFormation you can go right into sam and it has an open specification and you can see that",
    "start": "142290",
    "end": "148020"
  },
  {
    "text": "as a link their service force us playing Sam there so to get an idea here you",
    "start": "148020",
    "end": "155459"
  },
  {
    "start": "155000",
    "end": "228000"
  },
  {
    "text": "could use a lot of the same power that are that are CloudFormation you know they're the CloudFormation uses it can",
    "start": "155459",
    "end": "161940"
  },
  {
    "text": "mix in other nuns same CloudFormation s3 Kinesis things like that sports use of",
    "start": "161940",
    "end": "167280"
  },
  {
    "text": "parameters mapping and you can use like the important value that because",
    "start": "167280",
    "end": "173450"
  },
  {
    "text": "transform and then you can use a yamo or json and virtual chopin's be curious to",
    "start": "173450",
    "end": "181170"
  },
  {
    "text": "know or maybe that was gonna build a",
    "start": "181170",
    "end": "195000"
  },
  {
    "text": "function and a tenant table and really interesting here is that it's a much",
    "start": "195000",
    "end": "200850"
  },
  {
    "text": "shorter amount of code or lines used here in sam taking it using normal",
    "start": "200850",
    "end": "206459"
  },
  {
    "text": "CloudFormation and so the way this breaks down is you have the top part and so it's very important the transform",
    "start": "206459",
    "end": "212760"
  },
  {
    "text": "that says you know this this cloud formation of this has to go there transform and then there's mental",
    "start": "212760",
    "end": "218220"
  },
  {
    "text": "resources to build a function and the last resource is going to build the table so you kind of get this idea of",
    "start": "218220",
    "end": "224579"
  },
  {
    "text": "sam and how it works so what ends up is this template over here becomes your",
    "start": "224579",
    "end": "230280"
  },
  {
    "text": "architecture so it's it's it's truly infrastructure as code so that's a",
    "start": "230280",
    "end": "236100"
  },
  {
    "text": "really high-level overview of sam and how it works if you don't you see him I really would",
    "start": "236100",
    "end": "242160"
  },
  {
    "text": "encourage you to dig into it it's a great way of modifying",
    "start": "242160",
    "end": "247200"
  },
  {
    "text": "Jordan what do you think you can throw in there yeah I think Sam is a really cool tool to get started really quickly",
    "start": "247200",
    "end": "254010"
  },
  {
    "text": "and not have to handle a lot of the little details about cloud formation",
    "start": "254010",
    "end": "261030"
  },
  {
    "text": "yeah what we're showing here is most of the same templating there's also a partner to it the same CLI which we're",
    "start": "261030",
    "end": "267390"
  },
  {
    "text": "going to be using quite a bit you'll be showing that off let's talk about the",
    "start": "267390",
    "end": "272460"
  },
  {
    "text": "architecture that we're gonna do now I want to reiterate as we go through the",
    "start": "272460",
    "end": "277800"
  },
  {
    "text": "next 12 episodes this is the second of 13 so we have 12 more episodes we're gonna start with like I said building",
    "start": "277800",
    "end": "283890"
  },
  {
    "text": "REST API and we're going to get more and more maybe complexes of the right word but we're gonna show more more how API",
    "start": "283890",
    "end": "290880"
  },
  {
    "text": "gate we can handle everything regarding to api's and so today we're going to kind of set that base and kind of",
    "start": "290880",
    "end": "297630"
  },
  {
    "text": "explain again the most common use case so one was coming use cases which is the",
    "start": "297630",
    "end": "302820"
  },
  {
    "text": "rest endpoint I've also heard it as an HTTP transfer or you know proxy",
    "start": "302820",
    "end": "308910"
  },
  {
    "text": "different things like that so our architecture is really simple so you think about this architecture it's",
    "start": "308910",
    "end": "314460"
  },
  {
    "start": "310000",
    "end": "337000"
  },
  {
    "text": "literally two services right now number one we're going to use Amazon API gateway because it wouldn't make sense",
    "start": "314460",
    "end": "320280"
  },
  {
    "text": "to talk about ends on the Gateway with that Amazon API gateway number two we're gonna use a lambda function and then",
    "start": "320280",
    "end": "327960"
  },
  {
    "text": "really any client can hit these and so at this point I'm gonna turn it over to",
    "start": "327960",
    "end": "333960"
  },
  {
    "text": "George and George is gonna be showing some code and walking through exactly",
    "start": "333960",
    "end": "339570"
  },
  {
    "start": "337000",
    "end": "352000"
  },
  {
    "text": "what this looks like and give you a demonstration all right",
    "start": "339570",
    "end": "345350"
  },
  {
    "text": "periodically cool so I'm gonna share my screen and flip over to my visual studio",
    "start": "345350",
    "end": "356310"
  },
  {
    "start": "352000",
    "end": "375000"
  },
  {
    "text": "code so visual studio code is actually my favorite IDE for building serverless",
    "start": "356310",
    "end": "363240"
  },
  {
    "text": "applications it's a very lightweight IDE has a lot of cool plugins so if I type",
    "start": "363240",
    "end": "369870"
  },
  {
    "text": "on the bottom here and I type Sam I already have Sam installed so the Sam",
    "start": "369870",
    "end": "377190"
  },
  {
    "start": "375000",
    "end": "385000"
  },
  {
    "text": "CLI is giving me some information about how I can use the CLI so the first thing",
    "start": "377190",
    "end": "383970"
  },
  {
    "text": "I want to do to start a new project is do Sam and knit and salmon it will bootstrap my application and give me all",
    "start": "383970",
    "end": "390900"
  },
  {
    "start": "385000",
    "end": "405000"
  },
  {
    "text": "the basics in order to run a Sam application locally so when I do this on the left here we can see that",
    "start": "390900",
    "end": "397349"
  },
  {
    "text": "a directory called Sam hat is auto-generated and we automatically get",
    "start": "397349",
    "end": "402899"
  },
  {
    "text": "a template that llamo file and this template IMO file is exactly what Eric was mentioning earlier it defines a",
    "start": "402899",
    "end": "410159"
  },
  {
    "start": "405000",
    "end": "430000"
  },
  {
    "text": "simple lambda function and we can tell it's a lambda function because it's type a WS : surveillance : function and this",
    "start": "410159",
    "end": "418199"
  },
  {
    "text": "function is actually using a node J s 8.10 runtime so we could have used",
    "start": "418199",
    "end": "424439"
  },
  {
    "text": "Python we could have used any one of our other supported programming languages for lambda and what's important here is",
    "start": "424439",
    "end": "430679"
  },
  {
    "start": "430000",
    "end": "453000"
  },
  {
    "text": "this land of function is is wired up automatically to receive an HTTP rest",
    "start": "430679",
    "end": "438449"
  },
  {
    "text": "request from api gateway endpoint and that path is going to live on slash hello I'm gonna be responding to a get",
    "start": "438449",
    "end": "446129"
  },
  {
    "text": "method so this could be this method could be any standard HTTP method but this is going to be a get method now if",
    "start": "446129",
    "end": "453269"
  },
  {
    "start": "453000",
    "end": "483000"
  },
  {
    "text": "I open up my hello world directory this is where my application is implemented and my Sam template is telling us that",
    "start": "453269",
    "end": "459839"
  },
  {
    "text": "we have a handler method so the handler method is the entry point to my lambda function so it's gonna be in a file",
    "start": "459839",
    "end": "466349"
  },
  {
    "text": "called app and in inside app is gonna be a function name called lambda handler so",
    "start": "466349",
    "end": "472740"
  },
  {
    "text": "if I open up that file here on the Left fjs I see a function called lambda",
    "start": "472740",
    "end": "478860"
  },
  {
    "text": "Handler and this is where execution will begin for my lambda function and if we",
    "start": "478860",
    "end": "484139"
  },
  {
    "start": "483000",
    "end": "515000"
  },
  {
    "text": "look at this application is very simple it requires a simple package called Axios and all its gonna do is basically",
    "start": "484139",
    "end": "492029"
  },
  {
    "text": "reach out to Axios and then get my IP address so it's very simple and then",
    "start": "492029",
    "end": "497339"
  },
  {
    "text": "it's going to construct a response with a status code of 200 so an HTTP 200 okay",
    "start": "497339",
    "end": "503399"
  },
  {
    "text": "and then the body is gonna say a simple message of hello world along with the IP",
    "start": "503399",
    "end": "508439"
  },
  {
    "text": "address of my current machine making that request so it's a pretty simple",
    "start": "508439",
    "end": "515459"
  },
  {
    "start": "515000",
    "end": "543000"
  },
  {
    "text": "application in order to run this I need to use another command called Sam build so Sam build will actually zip and",
    "start": "515459",
    "end": "522990"
  },
  {
    "text": "compile all of my deployment artifacts and give me another directory so you'll see an",
    "start": "522990",
    "end": "528180"
  },
  {
    "text": "the directories show up hey George looks like you need to go into that directory oh sorry",
    "start": "528180",
    "end": "533850"
  },
  {
    "text": "yep so I'm in the wrong directory so I need a CD in - Sam - app and then do my",
    "start": "533850",
    "end": "540480"
  },
  {
    "text": "Sam build okay so now Sam build is running in about ten seconds we'll have",
    "start": "540480",
    "end": "546839"
  },
  {
    "text": "a fully compiled and ready to go application underneath this folder called dot AWS Sam right so in order to",
    "start": "546839",
    "end": "556320"
  },
  {
    "text": "invoke my function I'm gonna run a couple commands so I have a little cheat sheet here the first thing we have to do",
    "start": "556320",
    "end": "563190"
  },
  {
    "text": "is run this command Sam local generate event so Sam local is our local",
    "start": "563190",
    "end": "569850"
  },
  {
    "text": "implementation of lamda and API gateway so the generate event parameter",
    "start": "569850",
    "end": "576290"
  },
  {
    "text": "generates a mock event source that will be hooked up and allows you to pass it",
    "start": "576290",
    "end": "582300"
  },
  {
    "text": "to your lambda function so I'm actually going to generate an API gateway event type and write it to a file called event",
    "start": "582300",
    "end": "590399"
  },
  {
    "text": "JSON so I'll do that and I get another file called event JSON and this is the",
    "start": "590399",
    "end": "596160"
  },
  {
    "start": "592000",
    "end": "618000"
  },
  {
    "text": "exact HTTP event that will be passed into my lambda function so it's got a",
    "start": "596160",
    "end": "601890"
  },
  {
    "text": "couple things on it it's got a request context attribute it's got some query string parameters a bunch of montt",
    "start": "601890",
    "end": "608610"
  },
  {
    "text": "headers and the HTTP method that's going to be used as well as the path that",
    "start": "608610",
    "end": "615959"
  },
  {
    "text": "we're going to use to invoke this function so in order to invoke this function I'll run another command",
    "start": "615959",
    "end": "621050"
  },
  {
    "start": "618000",
    "end": "646000"
  },
  {
    "text": "samp which is also a Sam local command so Sam local invoke is what's gonna",
    "start": "621050",
    "end": "627480"
  },
  {
    "text": "invoke my function locally on my machine so I want to invoke a function called hello world function and that name of",
    "start": "627480",
    "end": "634770"
  },
  {
    "text": "that function is tied to the name that I give it in my Sam template and then I",
    "start": "634770",
    "end": "639839"
  },
  {
    "text": "want to pass it one parameter which is my event parameter so event JSON and hit",
    "start": "639839",
    "end": "645120"
  },
  {
    "text": "enter so this is gonna spin up that local docker container and execute my lambda function so once I did that was",
    "start": "645120",
    "end": "652550"
  },
  {
    "start": "646000",
    "end": "697000"
  },
  {
    "text": "simple don't you hear sorry I was getting around so when you run it with",
    "start": "652550",
    "end": "658140"
  },
  {
    "text": "this so you run that in both is it reaching out to EWS at all no not at all so this is actually running",
    "start": "658140",
    "end": "664110"
  },
  {
    "text": "everything locally on my laptop using a docker image that's downloaded and installed so it looks just like lambda",
    "start": "664110",
    "end": "670410"
  },
  {
    "text": "so you can have a really powerful dev environment without ever uploading to AWS right and that's a really good",
    "start": "670410",
    "end": "677970"
  },
  {
    "text": "clarification to make I think sometimes people get hung up on all right when I'm running this when is it calling out to",
    "start": "677970",
    "end": "683430"
  },
  {
    "text": "AWS when is it running locally and for the lambda part of this you can you can involve other resources for testing",
    "start": "683430",
    "end": "689610"
  },
  {
    "text": "things like that but when we're running at that API gateway and lambda locally",
    "start": "689610",
    "end": "695600"
  },
  {
    "text": "exactly yep so let's take a look at some of these outputs in green now the three",
    "start": "695600",
    "end": "701760"
  },
  {
    "start": "697000",
    "end": "745000"
  },
  {
    "text": "most important lines in a lambda function are going to be just start end and report line so start is just like it",
    "start": "701760",
    "end": "707310"
  },
  {
    "text": "sounds is where your function began and end is also where your function ends but the report line tells us a couple",
    "start": "707310",
    "end": "712710"
  },
  {
    "text": "metrics about how long my function took to run so 280 milliseconds in this case",
    "start": "712710",
    "end": "718080"
  },
  {
    "text": "and also the memory used so this function ran took about thirty three",
    "start": "718080",
    "end": "723270"
  },
  {
    "text": "megabytes to run so down here is actually the log output for what",
    "start": "723270",
    "end": "728370"
  },
  {
    "text": "happened within my function execution so we see here that it has a body that's just saying message hello world and then",
    "start": "728370",
    "end": "735330"
  },
  {
    "text": "it's returning the location so 72 dot 21.1 90 6.65 is the local IP address",
    "start": "735330",
    "end": "741480"
  },
  {
    "text": "that my machine is currently on so what we just did was invoke and lambda",
    "start": "741480",
    "end": "747360"
  },
  {
    "start": "745000",
    "end": "764000"
  },
  {
    "text": "function locally on my machine but what I want to do is run API gateway locally",
    "start": "747360",
    "end": "752730"
  },
  {
    "text": "as well because I want to test my resources locally so to do that there's another command called Sam local start",
    "start": "752730",
    "end": "761790"
  },
  {
    "text": "API so Sam local start API will bootstrap everything and run a local",
    "start": "761790",
    "end": "768810"
  },
  {
    "start": "764000",
    "end": "792000"
  },
  {
    "text": "instance of API anyway and what we'll see here is that we now have the function that Nate can Gateway mounted",
    "start": "768810",
    "end": "774960"
  },
  {
    "text": "on localhost so 127 dot 0 0 1 and then this has a path hello world and that",
    "start": "774960",
    "end": "781200"
  },
  {
    "text": "path is exposed because we defined it here in this in the template that yamo file I could've defined that path to be",
    "start": "781200",
    "end": "787500"
  },
  {
    "text": "anything but in this case is it's a hello world path so if I click on this",
    "start": "787500",
    "end": "793350"
  },
  {
    "start": "792000",
    "end": "815000"
  },
  {
    "text": "it'll bring me to my browser which will automatically invoke my function so this",
    "start": "793350",
    "end": "799769"
  },
  {
    "text": "is my browser's performing an HTTP GET request here and I'm seeing an internal",
    "start": "799769",
    "end": "805019"
  },
  {
    "text": "server error so the reason I'm seeing this right now is because my function actually took longer than the maximum",
    "start": "805019",
    "end": "811230"
  },
  {
    "text": "duration to run that I'll allow this function to execute in so down up at the",
    "start": "811230",
    "end": "816630"
  },
  {
    "start": "815000",
    "end": "830000"
  },
  {
    "text": "top here on lines 9 through 11 you can define some global attributes on things",
    "start": "816630",
    "end": "822509"
  },
  {
    "text": "like timeout and environment variables those types of things so by default you every land of function has a",
    "start": "822509",
    "end": "827819"
  },
  {
    "text": "three-second timeout so I'm gonna boost this to 10 seconds and rerun this so did",
    "start": "827819",
    "end": "834990"
  },
  {
    "text": "we run this I need to do a Sam build again and then a Sam local start API so",
    "start": "834990",
    "end": "846389"
  },
  {
    "text": "this gives my function a little more time to run and gives it the timeout a little bit of extra time to perform the",
    "start": "846389",
    "end": "852899"
  },
  {
    "text": "actual request so same thing here I'm gonna click on the hosted hello world",
    "start": "852899",
    "end": "858300"
  },
  {
    "start": "854000",
    "end": "874000"
  },
  {
    "text": "path and this time we should see a IP",
    "start": "858300",
    "end": "863819"
  },
  {
    "text": "address come back which is an execution from my browser invoking an HTTP GET",
    "start": "863819",
    "end": "871350"
  },
  {
    "text": "request against my lambda function so yeah now so what you're seeing here is I have a plug-in installed that's making",
    "start": "871350",
    "end": "878819"
  },
  {
    "start": "874000",
    "end": "888000"
  },
  {
    "text": "the JSON data pretty printed so this is a message of a hello world with the",
    "start": "878819",
    "end": "884490"
  },
  {
    "text": "location of you know my IP address 72 229 I'm gonna jump in real quick here we have some questions on why that's",
    "start": "884490",
    "end": "890639"
  },
  {
    "start": "888000",
    "end": "910000"
  },
  {
    "text": "taking so long one of the things that I point out is this is making an API call out to a",
    "start": "890639",
    "end": "896490"
  },
  {
    "text": "service that responds with the public IP and so the delay is not the local",
    "start": "896490",
    "end": "902010"
  },
  {
    "text": "machine it is the it is the actual API call and end the matter of how fast that",
    "start": "902010",
    "end": "908010"
  },
  {
    "text": "service is and so in georgia's right in looking okay time out we're timing out",
    "start": "908010",
    "end": "913769"
  },
  {
    "start": "910000",
    "end": "939000"
  },
  {
    "text": "pretty soon I would encourage you guys next on the next episode of May 14th we're gonna be talking about how do you",
    "start": "913769",
    "end": "919740"
  },
  {
    "text": "find these kinds of things using you know logging and tree seeing an x-ray and different things",
    "start": "919740",
    "end": "925830"
  },
  {
    "text": "like that but to answer a question we're seeing on why does it take so long it's it's not George's fault is really cool",
    "start": "925830",
    "end": "935490"
  },
  {
    "text": "thanks thanks for the explanation so all right now if I go back to my visual",
    "start": "935490",
    "end": "942360"
  },
  {
    "start": "939000",
    "end": "962000"
  },
  {
    "text": "studio code environment and I look at",
    "start": "942360",
    "end": "947730"
  },
  {
    "text": "this this environment here we can see a couple of things in here we can see the",
    "start": "947730",
    "end": "953100"
  },
  {
    "text": "land of functions that that have been running and how long the execution took so in this case it took three thousand",
    "start": "953100",
    "end": "958350"
  },
  {
    "text": "eight hundred and ninety nine milliseconds right so the next thing",
    "start": "958350",
    "end": "964020"
  },
  {
    "start": "962000",
    "end": "975000"
  },
  {
    "text": "we're gonna do is we were actually gonna shut this down and implement the weather",
    "start": "964020",
    "end": "973140"
  },
  {
    "text": "service that Eric talks about now our weather service is going to be implemented in the Java JavaScript",
    "start": "973140",
    "end": "980540"
  },
  {
    "start": "975000",
    "end": "997000"
  },
  {
    "text": "lambda function here so remember this this code here is a stubbed piece of",
    "start": "980540",
    "end": "988140"
  },
  {
    "text": "code built by Sam and knit so I want to get rid of this code and then paste in something that I've already written that",
    "start": "988140",
    "end": "993600"
  },
  {
    "text": "will perform my weather API so I have a little piece of code here I'm just gonna",
    "start": "993600",
    "end": "999810"
  },
  {
    "text": "copy all of this code from my cheat sheet and I will replace the default",
    "start": "999810",
    "end": "1006800"
  },
  {
    "text": "code here and then we'll take a look at what this code is actually doing so all right so the first thing I do on line 43",
    "start": "1006800",
    "end": "1014960"
  },
  {
    "text": "is I'm creating a conditions array and this conditions array is simply just all",
    "start": "1014960",
    "end": "1021140"
  },
  {
    "text": "possible weather conditions in text format so clear partly cloudy light rain",
    "start": "1021140",
    "end": "1027170"
  },
  {
    "text": "thunderstorm overcast those types of things so mylanta function on line 50 is",
    "start": "1027170",
    "end": "1033459"
  },
  {
    "text": "going to grab the zip code from a query string parameter so event dot query",
    "start": "1033460",
    "end": "1041030"
  },
  {
    "text": "string parameter zip so it's gonna look for a zip parameter on the HTTP request",
    "start": "1041030",
    "end": "1046880"
  },
  {
    "text": "and then it's doing a little bit of error checking if you can't find that parameter or throw an error and then in",
    "start": "1046880",
    "end": "1052880"
  },
  {
    "text": "on line line 57 will generate a random temperature reading from 0 to 1 and then finally we'll construct the",
    "start": "1052880",
    "end": "1059419"
  },
  {
    "text": "response that's gonna go back out to the HTTP caller so in that case I will send",
    "start": "1059419",
    "end": "1065299"
  },
  {
    "text": "a status ok 200 okay and then I'm gonna create the body so the body is just gonna be one of those conditions one of",
    "start": "1065299",
    "end": "1071570"
  },
  {
    "text": "those random conditions so we're not actually hitting a weather API here we're just mocking and stubbing out",
    "start": "1071570",
    "end": "1078460"
  },
  {
    "text": "possible weather conditions and then one of the later episodes will actually perform this in real time so the body",
    "start": "1078460",
    "end": "1084950"
  },
  {
    "text": "consists of two attributes conditions and the the current temperature and the temperature remember is gonna be a",
    "start": "1084950",
    "end": "1090830"
  },
  {
    "text": "random number generated using you know 0 to 100 so oh well I'm gonna save this",
    "start": "1090830",
    "end": "1100010"
  },
  {
    "start": "1096000",
    "end": "1135000"
  },
  {
    "text": "real quick and hey Georgia I'm gonna throw in real quick here do you have",
    "start": "1100010",
    "end": "1105620"
  },
  {
    "text": "your weather examples back on the app yes okay second you have the weather so",
    "start": "1105620",
    "end": "1113870"
  },
  {
    "text": "there's some complaint that those are better weather than what they're seeing in Seattle so just just to throw this",
    "start": "1113870",
    "end": "1120889"
  },
  {
    "text": "out this may not be exactly accurate and I wouldn't plan your picnics based on what you see here yeah okay so we can",
    "start": "1120889",
    "end": "1128450"
  },
  {
    "text": "easily add you know Seattle weather conditions here and do the array and see what happens but okay so I want to flip",
    "start": "1128450",
    "end": "1137000"
  },
  {
    "start": "1135000",
    "end": "1282000"
  },
  {
    "text": "to my template that yamo file and I actually want to make a couple changes here because we're not we're no longer",
    "start": "1137000",
    "end": "1142970"
  },
  {
    "text": "doing a hollow world function we're doing get weather condition so instead of this path that says hello world I",
    "start": "1142970",
    "end": "1149179"
  },
  {
    "text": "want to say get weather so when I do that my HTTP request needs to be against",
    "start": "1149179",
    "end": "1155539"
  },
  {
    "text": "get whether or not hello so I'm also gonna change this out down here get weather and at this point I'm",
    "start": "1155539",
    "end": "1163730"
  },
  {
    "text": "ready to go so I'm going to do its Sam build and Sam build remember we'll take",
    "start": "1163730",
    "end": "1172760"
  },
  {
    "text": "my source code create a copy and then compile and write make and ready to deploy so same thing I can do Sam local",
    "start": "1172760",
    "end": "1180289"
  },
  {
    "text": "start API and then it's in a bootstrap my API gateway instance as well as my",
    "start": "1180289",
    "end": "1187970"
  },
  {
    "text": "land of and now notice that this is a little bit different here we have a slash get",
    "start": "1187970",
    "end": "1193620"
  },
  {
    "text": "weather Pat because my template yam will file changed so if I click on this this will bring me to my browser and we're no",
    "start": "1193620",
    "end": "1200910"
  },
  {
    "text": "longer making that random HTTP call to an IP service instead we're hitting my land of function that's gonna perform",
    "start": "1200910",
    "end": "1206810"
  },
  {
    "text": "this mock weather location so I actually",
    "start": "1206810",
    "end": "1211830"
  },
  {
    "text": "see an error here location not found and I'm expecting this because I'm not passing in a zip code so if we go back",
    "start": "1211830",
    "end": "1219570"
  },
  {
    "text": "and look at my source code here go to my apt at Jas we're looking for a zip code and then if zip code is null throw an",
    "start": "1219570",
    "end": "1227220"
  },
  {
    "text": "error and if an error has been thrown I have a catch block here that we turn to status code a 404 not found and location",
    "start": "1227220",
    "end": "1234990"
  },
  {
    "text": "not found for the error message so that's why we're seeing that here so if I actually pass in some data that's that",
    "start": "1234990",
    "end": "1241410"
  },
  {
    "text": "is valid and hit enter here zip equals to 0 171 and then this will hit my",
    "start": "1241410",
    "end": "1248850"
  },
  {
    "text": "lambda function and then randomize some mock weather data so let's see this in",
    "start": "1248850",
    "end": "1254970"
  },
  {
    "text": "action here so it's telling me that my zip code into zero one seven one is",
    "start": "1254970",
    "end": "1260970"
  },
  {
    "text": "thunderstorm and 67 degrees now if I change this yeah it's actually uh somewhat accurate here",
    "start": "1260970",
    "end": "1268980"
  },
  {
    "text": "but if I change this to nine oh two one oh we should see a different set of weather conditions fully randomized by",
    "start": "1268980",
    "end": "1276000"
  },
  {
    "text": "my mock lambda function so let's see now",
    "start": "1276000",
    "end": "1282470"
  },
  {
    "start": "1282000",
    "end": "1313000"
  },
  {
    "text": "what you're seeing here is a pretty print of a JSON it actually got returned so if I go over to the raw data",
    "start": "1282470",
    "end": "1290520"
  },
  {
    "text": "this is the real JSON that was returned and and this browser plug-in is just doing the parsing and making it easy to",
    "start": "1290520",
    "end": "1296910"
  },
  {
    "text": "read so when I put in a new zip I got clear weather conditions are clear and it's 28 degrees so I hope it's not 28",
    "start": "1296910",
    "end": "1303930"
  },
  {
    "text": "degrees over in a 902 I know it's somewhere in California right so yeah",
    "start": "1303930",
    "end": "1310550"
  },
  {
    "text": "okay so at this point we've implemented our mock mock weather API service and",
    "start": "1310550",
    "end": "1319430"
  },
  {
    "text": "everything goes local everything machine so what I want to do now is I",
    "start": "1319430",
    "end": "1325980"
  },
  {
    "text": "want to deploy this application out to out AWS so in order to do that George",
    "start": "1325980",
    "end": "1334559"
  },
  {
    "text": "can you collapse your sidebar my eyes are old can you make your text a little",
    "start": "1334559",
    "end": "1340330"
  },
  {
    "text": "bigger oh yeah sure thank you make it a",
    "start": "1340330",
    "end": "1345400"
  },
  {
    "text": "little bigger okay yeah in the browser specifically oh yes thank you",
    "start": "1345400",
    "end": "1351309"
  },
  {
    "text": "sorry I guess housekeeping for Erick's old eyes yep",
    "start": "1351309",
    "end": "1357660"
  },
  {
    "text": "okay so let me start a this terminal kind of messed up on me because I change",
    "start": "1358679",
    "end": "1364809"
  },
  {
    "text": "the you blame me for that aren't you yeah the visual interface here so okay",
    "start": "1364809",
    "end": "1377740"
  },
  {
    "text": "so I'm ready to deploy this application so we're gonna do a Sam package and Sam",
    "start": "1377740",
    "end": "1384970"
  },
  {
    "start": "1379000",
    "end": "1426000"
  },
  {
    "text": "package is a conformation alias so if you're familiar with CloudFormation",
    "start": "1384970",
    "end": "1390150"
  },
  {
    "text": "package will zip and create a deployment package that will go out to confirmation",
    "start": "1390150",
    "end": "1397300"
  },
  {
    "text": "to deploy my entire application and at the - - s3 bucket actually shows the",
    "start": "1397300",
    "end": "1404700"
  },
  {
    "text": "it's where I want my deployment artifact to live so this is actually gonna put my",
    "start": "1404700",
    "end": "1409900"
  },
  {
    "text": "zip file that's created by this the CLI command into gmail temp files and then",
    "start": "1409900",
    "end": "1415809"
  },
  {
    "text": "it's gonna return to me a file called package that llamo and package that llamo is the deployment artifact that's",
    "start": "1415809",
    "end": "1422110"
  },
  {
    "text": "ready to go and ready to be executed by confirmation so the next command I'm",
    "start": "1422110",
    "end": "1427630"
  },
  {
    "start": "1426000",
    "end": "1471000"
  },
  {
    "text": "gonna run is Sam deploy so Sam deploy",
    "start": "1427630",
    "end": "1432640"
  },
  {
    "text": "will take that package that llamo file and then deploy that entire artifact according to my my specifications so I",
    "start": "1432640",
    "end": "1440740"
  },
  {
    "text": "give it a stack name called demo - stack and this is just a stack name that confirmation will create and reference",
    "start": "1440740",
    "end": "1447580"
  },
  {
    "text": "you can choose any stacking that you want and then I have a final - tasks",
    "start": "1447580",
    "end": "1452650"
  },
  {
    "text": "capabilities flag and this one is anytime I want to create I am rolls I",
    "start": "1452650",
    "end": "1458590"
  },
  {
    "text": "have to tell confirmation that I'm allowing it to create these rolls so when I do this this will actually",
    "start": "1458590",
    "end": "1464620"
  },
  {
    "text": "execute and deploy a confirmation stack that will contain my entire application",
    "start": "1464620",
    "end": "1469980"
  },
  {
    "text": "so while we're waiting for this can we go back to the template let me ask a couple of questions on that and point",
    "start": "1469980",
    "end": "1476200"
  },
  {
    "start": "1471000",
    "end": "1511000"
  },
  {
    "text": "out some things so when you say rolls where where does",
    "start": "1476200",
    "end": "1481240"
  },
  {
    "text": "the roll being created in this template yeah good question so if you notice here",
    "start": "1481240",
    "end": "1486280"
  },
  {
    "text": "under the resources section we're creating a lambda function and that's it so behind the scenes Sam will",
    "start": "1486280",
    "end": "1494380"
  },
  {
    "text": "automatically create your I am role for that function on your behalf so you",
    "start": "1494380",
    "end": "1499720"
  },
  {
    "text": "don't have to specify that here now if you want to modify the default permissions you'll have to you have to modify the policies that get attached to",
    "start": "1499720",
    "end": "1506860"
  },
  {
    "text": "the role so by default everything is generated for you so what do you know",
    "start": "1506860",
    "end": "1512770"
  },
  {
    "start": "1511000",
    "end": "1537000"
  },
  {
    "text": "that there's what the default permissions are yeah default permissions are gonna do a couple things it's gonna",
    "start": "1512770",
    "end": "1519370"
  },
  {
    "text": "allow you to execute the function it's going to allow you to log to cloud watch logs and that's basically it okay and",
    "start": "1519370",
    "end": "1527110"
  },
  {
    "text": "with the attachment of the events is he giving is it going entitled that to the lambda yes okay cool so now we see here",
    "start": "1527110",
    "end": "1538360"
  },
  {
    "text": "waiting for change had to be created and this is really just polling confirmations for updates and we finally",
    "start": "1538360",
    "end": "1543520"
  },
  {
    "text": "see it successfully created and updated stack so I'm gonna go back to my cloud",
    "start": "1543520",
    "end": "1552130"
  },
  {
    "text": "formation console and we should see a stack in here that says demo stack so my",
    "start": "1552130",
    "end": "1557590"
  },
  {
    "text": "first stack here demo stack I'll click into this and there's a couple of tabs up here the one that I'm interested in",
    "start": "1557590",
    "end": "1563559"
  },
  {
    "text": "is gonna be the resources tab so the resources tab shows me all of the different resources that were created by",
    "start": "1563559",
    "end": "1570070"
  },
  {
    "start": "1567000",
    "end": "1594000"
  },
  {
    "text": "this CloudFormation stack so number one we see a lambda function called hello world function I'll go ahead and load",
    "start": "1570070",
    "end": "1576880"
  },
  {
    "text": "that up and I also see a REST API here server this REST API so I'll go that up",
    "start": "1576880",
    "end": "1582789"
  },
  {
    "text": "as well and then here this is the role that Eric was talking about so Sam",
    "start": "1582789",
    "end": "1588610"
  },
  {
    "text": "automatically created this role for me that has those default permissions on it so if I go",
    "start": "1588610",
    "end": "1594940"
  },
  {
    "start": "1594000",
    "end": "1618000"
  },
  {
    "text": "look at my land of function the Stano function tells me that it belongs to the CloudFormation demo stack and if I look",
    "start": "1594940",
    "end": "1602650"
  },
  {
    "text": "at the code down below this looks exactly like the weather application that we implemented so this is deployed",
    "start": "1602650",
    "end": "1608680"
  },
  {
    "text": "from my local Sam project up to conformation and now belongs in lambda",
    "start": "1608680",
    "end": "1614050"
  },
  {
    "text": "so yeah so this is actually a fully",
    "start": "1614050",
    "end": "1620110"
  },
  {
    "start": "1618000",
    "end": "1635000"
  },
  {
    "text": "functional IDE sitting right here and you can it has everything from syntax",
    "start": "1620110",
    "end": "1626140"
  },
  {
    "text": "highlighting to dock completion and you can edit this just in line and then save",
    "start": "1626140",
    "end": "1631270"
  },
  {
    "text": "and test right here very simple to do yeah cool so the second resource that I",
    "start": "1631270",
    "end": "1636760"
  },
  {
    "start": "1635000",
    "end": "1663000"
  },
  {
    "text": "opened up was my API gateway resource and we named it demo stack so demo stack",
    "start": "1636760",
    "end": "1643470"
  },
  {
    "text": "has a class yet whether as a path as a resource so my resource responds to a",
    "start": "1643470",
    "end": "1649570"
  },
  {
    "text": "get and if I open this up we see that the integration request is currently a lambda proxy so if I go over to if I run",
    "start": "1649570",
    "end": "1660910"
  },
  {
    "text": "this as a test I can actually execute this locally right here through my",
    "start": "1660910",
    "end": "1666400"
  },
  {
    "start": "1663000",
    "end": "1698000"
  },
  {
    "text": "browser right so I click test and then I give it a query string of zip code equals to zero one seven one and then I",
    "start": "1666400",
    "end": "1674080"
  },
  {
    "text": "scroll down and hit test and then this will actually invoke my land of function and give me you know that lock whether",
    "start": "1674080",
    "end": "1679900"
  },
  {
    "text": "that set a weather data and to be clear you're not you said test is locally but",
    "start": "1679900",
    "end": "1685390"
  },
  {
    "text": "locally means when you're running here that's running on AWS resources yeah yeah all right so this is actually now",
    "start": "1685390",
    "end": "1692350"
  },
  {
    "text": "executing live in AWS so I can I can actually show you how that works by",
    "start": "1692350",
    "end": "1699010"
  },
  {
    "start": "1698000",
    "end": "1748000"
  },
  {
    "text": "going over to my stages section opening up my production stage and then I get",
    "start": "1699010",
    "end": "1704200"
  },
  {
    "text": "this URL here so this is actually a live URL that any one of you could hit in",
    "start": "1704200",
    "end": "1709780"
  },
  {
    "text": "your browsers and test this application so I'll click on this and it's telling",
    "start": "1709780",
    "end": "1715750"
  },
  {
    "text": "me missing authentication token that's because I have not specified the correct",
    "start": "1715750",
    "end": "1720790"
  },
  {
    "text": "path so the path is get weather and then now it's gonna say location I",
    "start": "1720790",
    "end": "1726040"
  },
  {
    "text": "found because I need to specify that zip code so question mark zip code equal to",
    "start": "1726040",
    "end": "1731770"
  },
  {
    "text": "0 1 7 1 so this is actually a live execution all the way from my browser making a get request to API gateway",
    "start": "1731770",
    "end": "1739210"
  },
  {
    "text": "which forwards it to my land of function using a proxy integration and then my lambda function generating that mock",
    "start": "1739210",
    "end": "1745740"
  },
  {
    "text": "response back to me and that was that was fast yeah very fast showed you the developer",
    "start": "1745740",
    "end": "1757270"
  },
  {
    "start": "1748000",
    "end": "2087000"
  },
  {
    "text": "calibre he knows the errors before they even happen all right so back to you",
    "start": "1757270",
    "end": "1767230"
  },
  {
    "text": "Eric okay so so here's a question I have for you when we did this you build this",
    "start": "1767230",
    "end": "1773260"
  },
  {
    "text": "out I'm gonna bring this back over to me here you build this this application but",
    "start": "1773260",
    "end": "1781000"
  },
  {
    "text": "it was a proxy okay so one of the things that we get a lot of questions on is is",
    "start": "1781000",
    "end": "1787600"
  },
  {
    "text": "what said it was sort of proxy in an integration what is a proxy what is an integration and what I can't lay it out",
    "start": "1787600",
    "end": "1793450"
  },
  {
    "text": "pretty simply but I think it's it's one of the most challenging things that people deal with when they're wondering",
    "start": "1793450",
    "end": "1799450"
  },
  {
    "text": "about how how does this work so let's let's look at this so we look at a proxy",
    "start": "1799450",
    "end": "1805440"
  },
  {
    "text": "when your client requests when a client makes a request and requests has a certain shape and that's defined by the",
    "start": "1805440",
    "end": "1812350"
  },
  {
    "text": "climate right and so it hits API gateway and all the EPI gateway is gonna do is",
    "start": "1812350",
    "end": "1818470"
  },
  {
    "text": "it's going to wrap this request in a wrapper that has some contextual information about the request you know",
    "start": "1818470",
    "end": "1825280"
  },
  {
    "text": "other than the request itself it's metadata around the request but other than that it's not gonna do anything to",
    "start": "1825280",
    "end": "1832059"
  },
  {
    "text": "the request it's just gonna push it right through to whatever service we have on the backend and we I didn't put",
    "start": "1832059",
    "end": "1839740"
  },
  {
    "text": "a service here because it could be an any number of services and one one of the misnomers about",
    "start": "1839740",
    "end": "1846090"
  },
  {
    "text": "API gateway as it has to connect to a lambda but that's actually not true and I'm not even sure misnomer was the right",
    "start": "1846090",
    "end": "1852659"
  },
  {
    "text": "word but I'm gonna stick with it at the moment but what you can connect gateway as a proxy to a lot of different things",
    "start": "1852659",
    "end": "1859440"
  },
  {
    "text": "or as an integration actually to other services so in the proxy the request is",
    "start": "1859440",
    "end": "1865470"
  },
  {
    "text": "passed through directly without modifying and other than a wrapper in",
    "start": "1865470",
    "end": "1870659"
  },
  {
    "text": "the response from whatever services behind it it's gonna it's not gonna do",
    "start": "1870659",
    "end": "1876389"
  },
  {
    "text": "anything to the response it's not gonna do custom airing it's not gonna do any modification it's not gonna model the",
    "start": "1876389",
    "end": "1883440"
  },
  {
    "text": "data in any way it's just gonna pass it right back out so this would really be that idea of kind of an HTTP bridge",
    "start": "1883440",
    "end": "1891289"
  },
  {
    "text": "however when we talk about integrations this is this do you think about that",
    "start": "1891289",
    "end": "1896700"
  },
  {
    "text": "word is we're gonna integrate and do more here and so let's talk about how that works so when a request is made to",
    "start": "1896700",
    "end": "1902970"
  },
  {
    "text": "API gateway there is the velocity template language that is used and it",
    "start": "1902970",
    "end": "1908879"
  },
  {
    "text": "can modify the request that requests to look very different on the back side of",
    "start": "1908879",
    "end": "1913980"
  },
  {
    "text": "API gateway than it does on the front okay so we can change so a great example",
    "start": "1913980",
    "end": "1919169"
  },
  {
    "text": "of this is let's say I have a club I have a signed API that we're running and",
    "start": "1919169",
    "end": "1924929"
  },
  {
    "text": "we want to change how they're updated but we don't want our clients to know we need our clients to just continue",
    "start": "1924929",
    "end": "1931350"
  },
  {
    "text": "cruising along okay so what we're able to do is take a request in the old format that the client sends modify it",
    "start": "1931350",
    "end": "1939359"
  },
  {
    "text": "using DTL and then push that request to the service behind and as you'll see in",
    "start": "1939359",
    "end": "1946350"
  },
  {
    "text": "a few minutes coming back we can remodel to be to look",
    "start": "1946350",
    "end": "1951600"
  },
  {
    "text": "you know in a certain shape of that request should be coming back to the clan and with the velocity templating",
    "start": "1951600",
    "end": "1958049"
  },
  {
    "text": "language I mean there's it is there's some conditions you put in there's logic there's a lot of different things also",
    "start": "1958049",
    "end": "1964019"
  },
  {
    "text": "at the integration level you're able to you know look at you know",
    "start": "1964019",
    "end": "1969300"
  },
  {
    "text": "looked at the template or the request coming in and you can model that as far as does it match a certain model no",
    "start": "1969300",
    "end": "1975750"
  },
  {
    "text": "extraordin does it have a certain you can validate that data coming in as well",
    "start": "1975750",
    "end": "1981990"
  },
  {
    "text": "as modifiers so when you look at the request I'm sorry the response it's the",
    "start": "1981990",
    "end": "1987150"
  },
  {
    "text": "same thing so the response is sent back from the service behind API gateway it",
    "start": "1987150",
    "end": "1992820"
  },
  {
    "text": "goes to the velocity templating and it you you get a response that could look",
    "start": "1992820",
    "end": "1998190"
  },
  {
    "text": "somewhat the same or not the same at all and then it's so that's pretty much how",
    "start": "1998190",
    "end": "2005150"
  },
  {
    "text": "if you think about this is how the difference to proxy and integration can",
    "start": "2005150",
    "end": "2011900"
  },
  {
    "text": "be explained Jose what I'm ask you to do is can you change what we've got from",
    "start": "2011900",
    "end": "2017450"
  },
  {
    "text": "from a proxy into an integration yeah absolutely let me take member the screen and show",
    "start": "2017450",
    "end": "2023660"
  },
  {
    "text": "you how that's done so many code yeah all right so okay so I'm actually back",
    "start": "2023660",
    "end": "2035990"
  },
  {
    "text": "on my API gateway console so I've clicked on the get HTTP method for my",
    "start": "2035990",
    "end": "2044210"
  },
  {
    "text": "give weather resource and remember notice here we have the integration",
    "start": "2044210",
    "end": "2049669"
  },
  {
    "text": "request set up to be lambda proxy so just like Eric said what the land of proxy you you don't have the option to",
    "start": "2049669",
    "end": "2057320"
  },
  {
    "text": "manipulate the payload that goes into your back-end so if I want to manipulate the payload I'm going to click into",
    "start": "2057320",
    "end": "2063889"
  },
  {
    "text": "integration request here and this is where I can see all the possible integration types so land of",
    "start": "2063890",
    "end": "2069679"
  },
  {
    "text": "functions HTTP any hard-coded mock response any aww service and a VPC link",
    "start": "2069679",
    "end": "2075919"
  },
  {
    "text": "so a VPC link is one of those cases where you want to execute a private resource within your VPC but notice this",
    "start": "2075919",
    "end": "2083300"
  },
  {
    "text": "this is checked here use Landa proxy integration so if i want to make this a",
    "start": "2083300",
    "end": "2088490"
  },
  {
    "start": "2087000",
    "end": "2113000"
  },
  {
    "text": "non proxy i all i have to do is uncheck this and this little pop-up box is just confirming that i do want to make this",
    "start": "2088490",
    "end": "2095330"
  },
  {
    "text": "change click OK click OK again and in just a couple seconds we'll have flipped",
    "start": "2095330",
    "end": "2101570"
  },
  {
    "text": "this from a proxy to proxy and when I do that notice on the bottom we have a few more options that",
    "start": "2101570",
    "end": "2108440"
  },
  {
    "text": "are available now the most important piece here is mapping templates so a mapping template it's where I have to",
    "start": "2108440",
    "end": "2114890"
  },
  {
    "start": "2113000",
    "end": "2151000"
  },
  {
    "text": "create a velocity template so if you're familiar with VTL templating is it's JSON JavaScript notation so I need to",
    "start": "2114890",
    "end": "2123859"
  },
  {
    "text": "create a mapping template that's going to tell a a gateway what kind of payload to push to my lambo function so I'll add",
    "start": "2123859",
    "end": "2130430"
  },
  {
    "text": "a template and for the content type I'm gonna choose application JSON click the",
    "start": "2130430",
    "end": "2138200"
  },
  {
    "text": "little checkbox to confirm and click yes here and at this point I have an empty",
    "start": "2138200",
    "end": "2144109"
  },
  {
    "text": "box so here I can create any JSON template that's gonna be pushed to my lambda function but right out of the box",
    "start": "2144109",
    "end": "2151550"
  },
  {
    "start": "2151000",
    "end": "2181000"
  },
  {
    "text": "API gateway gives me a really cool option is just a method request pass-through so if I click on this it'll",
    "start": "2151550",
    "end": "2158450"
  },
  {
    "text": "give me a pre generated velocity template that will basically capture",
    "start": "2158450",
    "end": "2164660"
  },
  {
    "text": "everything in the request and send it to my lambda function so you expand that",
    "start": "2164660",
    "end": "2170150"
  },
  {
    "text": "window so we can see a little X right",
    "start": "2170150",
    "end": "2176030"
  },
  {
    "text": "there yeah yeah that'd be great yeah so",
    "start": "2176030",
    "end": "2181520"
  },
  {
    "start": "2181000",
    "end": "2212000"
  },
  {
    "text": "this script is creating a couple different JSON attributes right so it's gonna create stuff like the parameters",
    "start": "2181520",
    "end": "2188330"
  },
  {
    "text": "it's gonna create the stage variables also give me a context object that I can",
    "start": "2188330",
    "end": "2194210"
  },
  {
    "text": "parse through if I need it which is going to contain all kinds of information about who invoked my API and",
    "start": "2194210",
    "end": "2201380"
  },
  {
    "text": "then basically take this information and pass it down and I'll and a function",
    "start": "2201380",
    "end": "2207490"
  },
  {
    "text": "cool so I'm gonna make the screen a little smaller so we can see what we're doing here so when you make that change",
    "start": "2207490",
    "end": "2212869"
  },
  {
    "text": "you have to remember to save here so I'll click Save scroll back up to the top go back to my my primary authoring",
    "start": "2212869",
    "end": "2221359"
  },
  {
    "text": "pane here the next step we have to do is notice that the method response has also",
    "start": "2221359",
    "end": "2227030"
  },
  {
    "text": "changed now we actually have to determine what kind of HTTP status code",
    "start": "2227030",
    "end": "2233210"
  },
  {
    "text": "is sent back to our invoker so before our proxy we'll pass through whatever status code",
    "start": "2233210",
    "end": "2239690"
  },
  {
    "text": "that our back-end sent out so now I am I have to click on this and add a response of 200 so this is just a standard 200",
    "start": "2239690",
    "end": "2247310"
  },
  {
    "text": "okay if I were building a real application I definitely would want to add other status codes that represent",
    "start": "2247310",
    "end": "2253580"
  },
  {
    "text": "different error codes for my app so first up each option right exactly yeah",
    "start": "2253580",
    "end": "2259040"
  },
  {
    "text": "I would add 400 500 is anything that matches my application okay cool cool so",
    "start": "2259040",
    "end": "2265340"
  },
  {
    "start": "2264000",
    "end": "2284000"
  },
  {
    "text": "go back here now we're pretty much ready to test so I'm gonna click test right here and in the query string box I'll",
    "start": "2265340",
    "end": "2272510"
  },
  {
    "text": "I'll pass in the same parameter zip code equals to zero 171 and this little test",
    "start": "2272510",
    "end": "2279170"
  },
  {
    "text": "button I'll click test here and I'm",
    "start": "2279170",
    "end": "2284240"
  },
  {
    "start": "2284000",
    "end": "2322000"
  },
  {
    "text": "actually getting an error so it says status quo 404 a body error and location not found so if we look down here into",
    "start": "2284240",
    "end": "2293420"
  },
  {
    "text": "logs this kind of will give me an idea of why that error is occurring so this",
    "start": "2293420",
    "end": "2299840"
  },
  {
    "text": "is the execution log and this is actually going to show me the requests that went to my back-end so it sent a",
    "start": "2299840",
    "end": "2306710"
  },
  {
    "text": "request that had a JSON body a parameters a path a curry string and a bunch of these contacts parameters so",
    "start": "2306710",
    "end": "2313850"
  },
  {
    "text": "notice we have we have a query string attribute with a zip code of 2-0 171 so",
    "start": "2313850",
    "end": "2322730"
  },
  {
    "start": "2322000",
    "end": "2397000"
  },
  {
    "text": "if I go over to my lambda function my code is looking for event dot query",
    "start": "2322730",
    "end": "2327770"
  },
  {
    "text": "string parameters and that's not really the right location so I need to edit my",
    "start": "2327770",
    "end": "2333200"
  },
  {
    "text": "application to look for the right JSON path to be able to parse the correct zip so I'm gonna comment line 49 out I'll",
    "start": "2333200",
    "end": "2341990"
  },
  {
    "text": "copy it and then I'll put in a new piece of code here and instead of doing event",
    "start": "2341990",
    "end": "2347690"
  },
  {
    "text": "on query string parameters I'll do the event at paths parameters dot zip and and and notice I'm editing directly in",
    "start": "2347690",
    "end": "2355460"
  },
  {
    "text": "the land of console here so I'm able to hit save and immediately this will",
    "start": "2355460",
    "end": "2361130"
  },
  {
    "text": "update my lambda function that's a good",
    "start": "2361130",
    "end": "2366470"
  },
  {
    "text": "question live editing like this is really quick and really kind of not",
    "start": "2366470",
    "end": "2372880"
  },
  {
    "text": "recommended for production use cases so these cases yeah so you should probably",
    "start": "2372880",
    "end": "2380109"
  },
  {
    "text": "be going through a full-blown CI CD cycle with code reviews and check-ins if you're doing actual code that gets",
    "start": "2380109",
    "end": "2386740"
  },
  {
    "text": "pushed to production but for simplicity this is kind of like rogue live editing here goal so now lion fifty has our",
    "start": "2386740",
    "end": "2399700"
  },
  {
    "start": "2397000",
    "end": "2461000"
  },
  {
    "text": "updated code zip we're gonna pull it from the pack parameters object we'll go",
    "start": "2399700",
    "end": "2405339"
  },
  {
    "text": "back to API gateway and go back to here",
    "start": "2405339",
    "end": "2411130"
  },
  {
    "text": "and then click test so I got a location",
    "start": "2411130",
    "end": "2416319"
  },
  {
    "text": "error not found why is that happening",
    "start": "2416319",
    "end": "2421980"
  },
  {
    "text": "[Music] anybody know why that's happening I",
    "start": "2424120",
    "end": "2429990"
  },
  {
    "text": "missed a year so I'm getting error location not found just one of those",
    "start": "2429990",
    "end": "2438250"
  },
  {
    "text": "where you know the answer already I do not actually know the answer okay interesting all right looking at that",
    "start": "2438250",
    "end": "2448470"
  },
  {
    "text": "what about did you save you just you",
    "start": "2450119",
    "end": "2456040"
  },
  {
    "text": "check your BLTs your velocity so looking",
    "start": "2456040",
    "end": "2462040"
  },
  {
    "start": "2461000",
    "end": "2537000"
  },
  {
    "text": "in here basically let me flip back here",
    "start": "2462040",
    "end": "2467700"
  },
  {
    "text": "we're pulling event that pad parameters that's it right right so we're not pad",
    "start": "2468660",
    "end": "2478180"
  },
  {
    "text": "for an interview that's wrong we're not path forever yeah yeah that's correct",
    "start": "2478180",
    "end": "2483450"
  },
  {
    "text": "we probably want to pull zip equals the events dot path does it right now it's",
    "start": "2483450",
    "end": "2494410"
  },
  {
    "text": "in the it's in the query parameter I think your stream core yeah Chris trim",
    "start": "2494410",
    "end": "2500440"
  },
  {
    "text": "yep so of course that's it save and let's test that again",
    "start": "2500440",
    "end": "2507170"
  },
  {
    "text": "so a test a still gaining location I found hmm yeah let's look at that so",
    "start": "2507170",
    "end": "2517880"
  },
  {
    "text": "it's path query string query string now is it that dot path backwards string",
    "start": "2517880",
    "end": "2524770"
  },
  {
    "text": "Rams grams yeah event that params of Chris being that",
    "start": "2524770",
    "end": "2530690"
  },
  {
    "text": "zip it save again and click test right",
    "start": "2530690",
    "end": "2535880"
  },
  {
    "text": "here so we're still getting location that found that's okay all right well",
    "start": "2535880",
    "end": "2541880"
  },
  {
    "start": "2537000",
    "end": "2553000"
  },
  {
    "text": "here let me do I'm gonna jump out if you want to look at that real quick and I'll gonna talk through the same stuff or do",
    "start": "2541880",
    "end": "2548480"
  },
  {
    "text": "you want to continue on what you're doing or not same stuff but any gracious and stuff I think we're gonna flip to a",
    "start": "2548480",
    "end": "2556210"
  },
  {
    "start": "2553000",
    "end": "2617000"
  },
  {
    "text": "different requirement right instead of using query parameters but here's my OCD",
    "start": "2556210",
    "end": "2568520"
  },
  {
    "text": "okay so a guy I am a I'm sorry I'm not a query",
    "start": "2568520",
    "end": "2577210"
  },
  {
    "text": "parameter I like that I think it's cleaner can you do path parameters",
    "start": "2577210",
    "end": "2583310"
  },
  {
    "text": "inside of inside sangamore inside of api gateway rather than using query string",
    "start": "2583310",
    "end": "2589460"
  },
  {
    "text": "parameters yeah definitely so if our requirements change and we no longer",
    "start": "2589460",
    "end": "2594710"
  },
  {
    "text": "want to pull the zip code from a query string and we want to pull it from a",
    "start": "2594710",
    "end": "2600560"
  },
  {
    "text": "path a change is pretty simple to do so why don't I flip back to my local",
    "start": "2600560",
    "end": "2608330"
  },
  {
    "text": "development environment and show you how that's done and you're not sharing any more that I see so you should yeah okay",
    "start": "2608330",
    "end": "2616180"
  },
  {
    "text": "cool so here I meant I'm gonna make a couple of changes so the change I'm",
    "start": "2616180",
    "end": "2624560"
  },
  {
    "start": "2617000",
    "end": "2734000"
  },
  {
    "text": "going to make is I will go to my application code and sorry I'm gonna go",
    "start": "2624560",
    "end": "2632600"
  },
  {
    "text": "to my my template yamo and instead of my get weather here I'm gonna",
    "start": "2632600",
    "end": "2638809"
  },
  {
    "text": "attach a / zip so a / zip with curly",
    "start": "2638809",
    "end": "2645140"
  },
  {
    "text": "braces around it indicates in the path that this is going to be a pack parameter that's gonna be passed down to",
    "start": "2645140",
    "end": "2652700"
  },
  {
    "text": "my lambda function within the event object nice so make a save real quick right here and",
    "start": "2652700",
    "end": "2662529"
  },
  {
    "text": "flip back to my application code and this is where we have to make this change on line 50 so instead of",
    "start": "2662529",
    "end": "2670640"
  },
  {
    "text": "capturing from query string parameters I'll capture from path parameters and",
    "start": "2670640",
    "end": "2676759"
  },
  {
    "text": "I'll still capture the same parameter dot zip right so hit save here and now I",
    "start": "2676759",
    "end": "2682849"
  },
  {
    "text": "updated my code and my template so I have to do a SAM build again so when I",
    "start": "2682849",
    "end": "2687950"
  },
  {
    "text": "do a SAM build down below my terminal it's gonna go through the process of regenerating all the dependencies and",
    "start": "2687950",
    "end": "2694880"
  },
  {
    "text": "zipping and pushing all the artifacts into my dot aw a SAM folder and now I'm",
    "start": "2694880",
    "end": "2702259"
  },
  {
    "text": "ready to do Sam local start API so this",
    "start": "2702259",
    "end": "2707359"
  },
  {
    "text": "again will boot everything API gateway and lambda run it locally and now we kind of see a little bit of a difference",
    "start": "2707359",
    "end": "2713269"
  },
  {
    "text": "here we see a slash get weather and but this time we see a curly brace zip so",
    "start": "2713269",
    "end": "2719930"
  },
  {
    "text": "this represents a path parameter that I'm going to expect instead of a a",
    "start": "2719930",
    "end": "2725079"
  },
  {
    "text": "instead of a query string parameter so in here instead of doing a query string I'll do two zero one seven one and so",
    "start": "2725079",
    "end": "2734089"
  },
  {
    "start": "2734000",
    "end": "2818000"
  },
  {
    "text": "this we can't see you browser you can't see my browser so just seeing the code",
    "start": "2734089",
    "end": "2741079"
  },
  {
    "text": "still let's let me try to reshare know",
    "start": "2741079",
    "end": "2746720"
  },
  {
    "text": "when you shared you might just share the screen so the window instead of screen okay there we go",
    "start": "2746720",
    "end": "2753249"
  },
  {
    "text": "can we see now all right let me rerun that so get weather if I were to leave",
    "start": "2753249",
    "end": "2758359"
  },
  {
    "text": "the this off it would say missing authentication token and this is just our default error message when something",
    "start": "2758359",
    "end": "2764660"
  },
  {
    "text": "in the request path is incorrect so if I were to say / 2 0 1 7 1 instead of a question mark",
    "start": "2764660",
    "end": "2773180"
  },
  {
    "text": "zip equals to 0 1 71 this will invoke my application passed down the parameter",
    "start": "2773180",
    "end": "2779540"
  },
  {
    "text": "using a path parameter set up a zip parameter so the code is executing the same we're just pulling the information",
    "start": "2779540",
    "end": "2785740"
  },
  {
    "text": "differently from a different source I'm a different HTTP parameter let's see",
    "start": "2785740",
    "end": "2791300"
  },
  {
    "text": "my personal opinions I think Thomas cleaner that looks great so you can do path parameters or Twitter stream",
    "start": "2791300",
    "end": "2796760"
  },
  {
    "text": "Kramer's can you mix them sure you could mix them if you want to yeah it gets",
    "start": "2796760",
    "end": "2801860"
  },
  {
    "text": "complicated but you can you have the option of mixing them okay and we'll be",
    "start": "2801860",
    "end": "2806990"
  },
  {
    "text": "talking about later on when you're doing parameters and pretty string or path parameters on cashing those and caching",
    "start": "2806990",
    "end": "2814450"
  },
  {
    "text": "strategies on to make those work so talk",
    "start": "2814450",
    "end": "2820700"
  },
  {
    "start": "2818000",
    "end": "3059000"
  },
  {
    "text": "about one of the things kind of going back to the the whole proxy versus integration I know we had some problems",
    "start": "2820700",
    "end": "2826540"
  },
  {
    "text": "fixing the code live coding is always funds the risk you take but one of the things is we updated that through we",
    "start": "2826540",
    "end": "2836000"
  },
  {
    "text": "updated it through through the console we didn't do it Sam but I want to show that that's still something you can do",
    "start": "2836000",
    "end": "2842180"
  },
  {
    "text": "through Sam and I'm George I won't you know quick test you on to building that",
    "start": "2842180",
    "end": "2847460"
  },
  {
    "text": "out but look like if I were to build this out Sam and it's really not you",
    "start": "2847460",
    "end": "2854630"
  },
  {
    "text": "know it's not a big change so if we go back to the very beginning of the session we have this hello world function that was generated and yeah it",
    "start": "2854630",
    "end": "2862430"
  },
  {
    "text": "is known it is a node AB and you'll see",
    "start": "2862430",
    "end": "2867560"
  },
  {
    "text": "in here under the events we have the hello world event it's an API type and properties path hello and the method",
    "start": "2867560",
    "end": "2874040"
  },
  {
    "text": "get' in order to change that so that we could do a proxy because this I'm sorry we can do an integration there's a",
    "start": "2874040",
    "end": "2881660"
  },
  {
    "text": "couple steps but just so you know anytime you do it this way it will always be a proxy okay if you want to do",
    "start": "2881660",
    "end": "2888590"
  },
  {
    "text": "an integration then it would look something like this where two things first of all we add a separate API into",
    "start": "2888590",
    "end": "2895670"
  },
  {
    "text": "this so we're going to do a separate API as a resource and normally in the template some people oh but I want everybody to",
    "start": "2895670",
    "end": "2900980"
  },
  {
    "text": "be able to see this and so we did separate API again it's an EWS and this",
    "start": "2900980",
    "end": "2906859"
  },
  {
    "text": "is one of these surplus resources and properties all I have to pass on a stage",
    "start": "2906859",
    "end": "2912200"
  },
  {
    "text": "name and a definition URI and that definition URI can be a link to a file like a file path or it can be an s3",
    "start": "2912200",
    "end": "2919700"
  },
  {
    "text": "location the second thing we need to do is under the properties we're going to",
    "start": "2919700",
    "end": "2924950"
  },
  {
    "text": "run an ad a REST API ID because we still need that event to happen okay we still",
    "start": "2924950",
    "end": "2930770"
  },
  {
    "text": "want that event to trigger the function so we keep this event but we add we add",
    "start": "2930770",
    "end": "2936619"
  },
  {
    "text": "an API ID so it knows okay use this API and so you can see the changes there you",
    "start": "2936619",
    "end": "2942079"
  },
  {
    "text": "can also if you want to get crazy instead of linking so this definition URI which is the last line on the right",
    "start": "2942079",
    "end": "2949010"
  },
  {
    "text": "side instead of linking to a file you can actually do a definition body right",
    "start": "2949010",
    "end": "2956329"
  },
  {
    "text": "inside of this and so you and do definition body and then you would have a and this happens to be Gamal this also",
    "start": "2956329",
    "end": "2963559"
  },
  {
    "text": "works in JSON and you can define your API gateway through that it's let",
    "start": "2963559",
    "end": "2969770"
  },
  {
    "text": "obviously you know with an integration you have a lot more flexibility and you start really being able to take",
    "start": "2969770",
    "end": "2976010"
  },
  {
    "text": "advantage of of how to do these and one of the things that Jordan we didn't seem",
    "start": "2976010",
    "end": "2982039"
  },
  {
    "text": "Sisto is when you build out like let's say we take george's integration and we",
    "start": "2982039",
    "end": "2987069"
  },
  {
    "text": "said we want to get a hold of that swagger well we mentioned this episode",
    "start": "2987069",
    "end": "2992270"
  },
  {
    "text": "one you can export either open API or swagger template",
    "start": "2992270",
    "end": "2997760"
  },
  {
    "text": "right out of API gateway so one of the tricks that I tend to do is I'll build",
    "start": "2997760",
    "end": "3003420"
  },
  {
    "text": "look like through through the console and I build up maybe the authorization",
    "start": "3003420",
    "end": "3008680"
  },
  {
    "text": "and the different things that I wanted to have and then I'll export that swagger template now you may ask you",
    "start": "3008680",
    "end": "3015250"
  },
  {
    "text": "something why would you do that you know if you've got it built you've got a build yeah but I like infrastructures",
    "start": "3015250",
    "end": "3020890"
  },
  {
    "text": "code and I'd like to be able to move it around if I need to or copy it or edited in a versioned manner so what I can do",
    "start": "3020890",
    "end": "3028550"
  },
  {
    "text": "is I take that I put it in here either at my definition body or most likely I'll import it from from a swagger file",
    "start": "3028550",
    "end": "3034430"
  },
  {
    "text": "and then you that's built it out rather than having to build that whole swagger",
    "start": "3034430",
    "end": "3039620"
  },
  {
    "text": "template from from you know zero you can you can export right out of API gateway",
    "start": "3039620",
    "end": "3045950"
  },
  {
    "text": "and then use it as a definition and then you can modify that as you go it's a great way to start out yeah so why don't",
    "start": "3045950",
    "end": "3055580"
  },
  {
    "text": "we take a look at it really quickly how to do that okay so I'm gonna share my",
    "start": "3055580",
    "end": "3060650"
  },
  {
    "text": "screen again and so I've clicked into my",
    "start": "3060650",
    "end": "3066740"
  },
  {
    "text": "deployed API gateway API and I've clicked into the stages section and I'm",
    "start": "3066740",
    "end": "3072410"
  },
  {
    "text": "using my production stage so notice we've got an Evoque you are all right here that any one of you could go and",
    "start": "3072410",
    "end": "3078740"
  },
  {
    "text": "test but then I have a bunch of tabs here and one of the tabs is an export",
    "start": "3078740",
    "end": "3084290"
  },
  {
    "text": "tab and I can export this using either swagger or open API 3 definition and I",
    "start": "3084290",
    "end": "3091340"
  },
  {
    "text": "can choose JSON or yam all so I don't we had that little debate of who likes json who like yamo but I'm gonna go with",
    "start": "3091340",
    "end": "3099140"
  },
  {
    "text": "llamo so I'll click on llamo and it downloads that file to my local machine but also gives me a preview right here",
    "start": "3099140",
    "end": "3106600"
  },
  {
    "text": "so right in line this is a swagger 2.0 template and zoom in a little bit for",
    "start": "3106600",
    "end": "3112430"
  },
  {
    "text": "you notice here that it defines pretty much everything about this API it",
    "start": "3112430",
    "end": "3118280"
  },
  {
    "text": "defines that there's a single path slash get weather we have weather it will respond to a to a get mace gtp method",
    "start": "3118280",
    "end": "3125630"
  },
  {
    "text": "request and then down here we're just telling the swagger template is telling",
    "start": "3125630",
    "end": "3132160"
  },
  {
    "text": "telling us that the innovation backend is going to be a lambda function you know and the function is represented by",
    "start": "3132160",
    "end": "3137780"
  },
  {
    "text": "this this long arm right here so when I have a lot of different integrations or",
    "start": "3137780",
    "end": "3143990"
  },
  {
    "text": "I'm working with different different developers the idea is to create your your API is and document them using",
    "start": "3143990",
    "end": "3151190"
  },
  {
    "text": "swagger templates or open API that way you can source control version control code review and do all of the things",
    "start": "3151190",
    "end": "3157880"
  },
  {
    "text": "that there development process would go through yeah yeah I agree if you're curious",
    "start": "3157880",
    "end": "3163740"
  },
  {
    "start": "3162000",
    "end": "3271000"
  },
  {
    "text": "about the difference between Swagger and open API and that conversation I encourage you to go back and watch our first episode where Alan tan talks",
    "start": "3163740",
    "end": "3170700"
  },
  {
    "text": "through that it's a pretty straightforward okay well we're almost",
    "start": "3170700",
    "end": "3176070"
  },
  {
    "text": "out of time so one of them are using I encourage you guys the next session we're going to be doing is on May 14th",
    "start": "3176070",
    "end": "3182340"
  },
  {
    "text": "and Bob cake will be doing me if you like my beard really just a goatee you're gonna love Bob's is his I'm",
    "start": "3182340",
    "end": "3189210"
  },
  {
    "text": "jealous he is one of our gateway experts as well and we're gonna be tired by the",
    "start": "3189210",
    "end": "3195750"
  },
  {
    "text": "all-seeing eye over Amazon API gateway and really what that means is how do we",
    "start": "3195750",
    "end": "3201150"
  },
  {
    "text": "demonstrate how do we monitor how do we log how do we debug and so some great",
    "start": "3201150",
    "end": "3207000"
  },
  {
    "text": "tips on on finding bottlenecking on finding failing butts that you know what we were just dealing with earlier how do",
    "start": "3207000",
    "end": "3213180"
  },
  {
    "text": "you find those errors how do you remediate those errors how do you how do you avoid them next time so I encourage",
    "start": "3213180",
    "end": "3218280"
  },
  {
    "text": "you to join us on May 14th again 1 p.m. Pacific time looking forward to it if",
    "start": "3218280",
    "end": "3224100"
  },
  {
    "text": "you want to know more you're gonna follow or even maybe we'll post the solution to what was there I encourage",
    "start": "3224100",
    "end": "3230130"
  },
  {
    "text": "you follow a TV to eat eat I can't even say etj geek that's my Twitter handle",
    "start": "3230130",
    "end": "3235440"
  },
  {
    "text": "and George you want to tell yours you're learners out there yeah my twitter handle is just my name George mal so",
    "start": "3235440",
    "end": "3242580"
  },
  {
    "text": "feel free to tweet us let us know what you think any questions send them our way with that guys we're out until next",
    "start": "3242580",
    "end": "3249780"
  },
  {
    "text": "time I appreciate it stay calm stay peaceful API on",
    "start": "3249780",
    "end": "3255140"
  },
  {
    "text": "[Music]",
    "start": "3255140",
    "end": "3258650"
  },
  {
    "text": "[Music] [Applause]",
    "start": "3262750",
    "end": "3266800"
  },
  {
    "text": "[Music] you",
    "start": "3268520",
    "end": "3272270"
  }
]