[
  {
    "start": "0",
    "end": "24000"
  },
  {
    "text": "[Music]",
    "start": "130",
    "end": "1130"
  },
  {
    "text": "[Applause]",
    "start": "1130",
    "end": "3170"
  },
  {
    "text": "[Music]",
    "start": "3170",
    "end": "6279"
  },
  {
    "text": "hello I'm Si a cloud support engineer",
    "start": "7919",
    "end": "10160"
  },
  {
    "text": "here at AWS office in Sydney Today I'm",
    "start": "10160",
    "end": "13200"
  },
  {
    "text": "going to show you how to resolve KMS",
    "start": "13200",
    "end": "15519"
  },
  {
    "text": "access denied exception errors from AWS",
    "start": "15519",
    "end": "18400"
  },
  {
    "text": "Lambda Let's get started",
    "start": "18400",
    "end": "21199"
  },
  {
    "text": "The first step to resolve a KMS access",
    "start": "21199",
    "end": "23840"
  },
  {
    "text": "deny exception error from adaps lambda",
    "start": "23840",
    "end": "26640"
  },
  {
    "start": "24000",
    "end": "72000"
  },
  {
    "text": "is to identify the exact error message",
    "start": "26640",
    "end": "29760"
  },
  {
    "text": "Here's other types of errors you can",
    "start": "29760",
    "end": "32000"
  },
  {
    "text": "receive when AWSK management service is",
    "start": "32000",
    "end": "34800"
  },
  {
    "text": "involved in your lambda",
    "start": "34800",
    "end": "36600"
  },
  {
    "text": "function Let's start with how to",
    "start": "36600",
    "end": "38800"
  },
  {
    "text": "troubleshoot the error KMS exception",
    "start": "38800",
    "end": "41520"
  },
  {
    "text": "unrecognized client exception care",
    "start": "41520",
    "end": "43600"
  },
  {
    "text": "message This error usually occurs when",
    "start": "43600",
    "end": "45920"
  },
  {
    "text": "you delete or recruit your lambda",
    "start": "45920",
    "end": "48000"
  },
  {
    "text": "function row with the same name and your",
    "start": "48000",
    "end": "50399"
  },
  {
    "text": "lambda functions is configured to use",
    "start": "50399",
    "end": "52399"
  },
  {
    "text": "the same row In this case the rows",
    "start": "52399",
    "end": "55600"
  },
  {
    "text": "remain the same However the principle ID",
    "start": "55600",
    "end": "58320"
  },
  {
    "text": "changes for the execution row and the",
    "start": "58320",
    "end": "60800"
  },
  {
    "text": "AWS KMS doesn't recognize the principle",
    "start": "60800",
    "end": "64080"
  },
  {
    "text": "To resolve this issue you must reset the",
    "start": "64080",
    "end": "66880"
  },
  {
    "text": "AWS KMS grant for the functions",
    "start": "66880",
    "end": "69200"
  },
  {
    "text": "execution",
    "start": "69200",
    "end": "70280"
  },
  {
    "text": "row Sign into the AWS management console",
    "start": "70280",
    "end": "74159"
  },
  {
    "start": "72000",
    "end": "185000"
  },
  {
    "text": "and then navigate to the Lambda",
    "start": "74159",
    "end": "76920"
  },
  {
    "text": "console Choose the AWS region where the",
    "start": "76920",
    "end": "79840"
  },
  {
    "text": "following Lambda function is located I'm",
    "start": "79840",
    "end": "82400"
  },
  {
    "text": "going to select Apex source",
    "start": "82400",
    "end": "85400"
  },
  {
    "text": "X2 The pages should all lambda functions",
    "start": "85400",
    "end": "88400"
  },
  {
    "text": "in this AWS account for the selected",
    "start": "88400",
    "end": "90840"
  },
  {
    "text": "region Select the following Lambda",
    "start": "90840",
    "end": "94200"
  },
  {
    "text": "function Choose the configuration tab",
    "start": "94200",
    "end": "96720"
  },
  {
    "text": "and then choose the permission tab On",
    "start": "96720",
    "end": "98960"
  },
  {
    "text": "the permission tab you can find the",
    "start": "98960",
    "end": "100880"
  },
  {
    "text": "current Lambda functions execution row",
    "start": "100880",
    "end": "103200"
  },
  {
    "text": "Note the row's",
    "start": "103200",
    "end": "104759"
  },
  {
    "text": "name Choose edit and then choose an",
    "start": "104759",
    "end": "107759"
  },
  {
    "text": "existing row from drop-own list to",
    "start": "107759",
    "end": "110079"
  },
  {
    "text": "update the functions execution row to a",
    "start": "110079",
    "end": "112799"
  },
  {
    "text": "different temporary",
    "start": "112799",
    "end": "115880"
  },
  {
    "text": "value Then choose edit again to reset",
    "start": "115880",
    "end": "118960"
  },
  {
    "text": "the functions execution row to original",
    "start": "118960",
    "end": "121759"
  },
  {
    "text": "execution row",
    "start": "121759",
    "end": "125479"
  },
  {
    "text": "You can also update the functions AWS",
    "start": "126719",
    "end": "129119"
  },
  {
    "text": "KMSK to a different temporary value to",
    "start": "129119",
    "end": "132160"
  },
  {
    "text": "reset the AWS KMS",
    "start": "132160",
    "end": "135000"
  },
  {
    "text": "ground Choose the Lambda console and",
    "start": "135000",
    "end": "137680"
  },
  {
    "text": "then choose the following Lambda",
    "start": "137680",
    "end": "139560"
  },
  {
    "text": "function Choose the configuration tab",
    "start": "139560",
    "end": "142239"
  },
  {
    "text": "and then choose the environment",
    "start": "142239",
    "end": "144160"
  },
  {
    "text": "variables tab",
    "start": "144160",
    "end": "146959"
  },
  {
    "text": "Choose edit and then expand encryption",
    "start": "146959",
    "end": "149599"
  },
  {
    "text": "configuration to find the current AWS",
    "start": "149599",
    "end": "152160"
  },
  {
    "text": "KMSK that's used to encrypt your",
    "start": "152160",
    "end": "154720"
  },
  {
    "text": "functions environment variables Note the",
    "start": "154720",
    "end": "157599"
  },
  {
    "text": "case",
    "start": "157599",
    "end": "159920"
  },
  {
    "text": "a choose a different temporary AWS",
    "start": "161800",
    "end": "165640"
  },
  {
    "text": "KMSK I'm going to choose the default",
    "start": "165640",
    "end": "168760"
  },
  {
    "text": "AWS/ Lambda to use the default lambda",
    "start": "168760",
    "end": "171920"
  },
  {
    "text": "service",
    "start": "171920",
    "end": "173400"
  },
  {
    "text": "K truth at and then update the functions",
    "start": "173400",
    "end": "176800"
  },
  {
    "text": "AWS KMSK to the original AWS",
    "start": "176800",
    "end": "181840"
  },
  {
    "text": "KMSK Now let's troubleshoot the error",
    "start": "184120",
    "end": "187120"
  },
  {
    "start": "185000",
    "end": "271000"
  },
  {
    "text": "KMS exception access deny exception KMS",
    "start": "187120",
    "end": "190640"
  },
  {
    "text": "message This error usually occurs when",
    "start": "190640",
    "end": "193120"
  },
  {
    "text": "your Lambda function execution role",
    "start": "193120",
    "end": "195360"
  },
  {
    "text": "doesn't have the required permissions to",
    "start": "195360",
    "end": "197360"
  },
  {
    "text": "perform the KMS decrypt API action on",
    "start": "197360",
    "end": "200879"
  },
  {
    "text": "functions KMSK To resolve this issue add",
    "start": "200879",
    "end": "204560"
  },
  {
    "text": "the appropriate policy statement to your",
    "start": "204560",
    "end": "206959"
  },
  {
    "text": "Lambda functions execution row Sign into",
    "start": "206959",
    "end": "209440"
  },
  {
    "text": "the AWS management console and then",
    "start": "209440",
    "end": "211760"
  },
  {
    "text": "navigate to the Lambda console Choose",
    "start": "211760",
    "end": "214720"
  },
  {
    "text": "the region where the following Lambda",
    "start": "214720",
    "end": "216799"
  },
  {
    "text": "function is located I'm going to select",
    "start": "216799",
    "end": "219280"
  },
  {
    "text": "APEC southeast 2 The page show all",
    "start": "219280",
    "end": "222879"
  },
  {
    "text": "Lambda functions in this account for the",
    "start": "222879",
    "end": "225120"
  },
  {
    "text": "selected region Select the following",
    "start": "225120",
    "end": "227200"
  },
  {
    "text": "Lambda function Choose the configuration",
    "start": "227200",
    "end": "230000"
  },
  {
    "text": "tab and then choose the environment",
    "start": "230000",
    "end": "232239"
  },
  {
    "text": "variables tab Note the case AI Choose",
    "start": "232239",
    "end": "236080"
  },
  {
    "text": "the configuration tab and then choose",
    "start": "236080",
    "end": "238640"
  },
  {
    "text": "the permission",
    "start": "238640",
    "end": "240040"
  },
  {
    "text": "tab On the permission tab find the",
    "start": "240040",
    "end": "242879"
  },
  {
    "text": "current Lambda functions execution row",
    "start": "242879",
    "end": "245599"
  },
  {
    "text": "Choose the row name to navigate to the",
    "start": "245599",
    "end": "247760"
  },
  {
    "text": "IM console Choose the row to navigate to",
    "start": "247760",
    "end": "250959"
  },
  {
    "text": "the IM console",
    "start": "250959",
    "end": "253360"
  },
  {
    "text": "add this policy statement to the IM row",
    "start": "253360",
    "end": "256320"
  },
  {
    "text": "that you use for your Lambda function",
    "start": "256320",
    "end": "258720"
  },
  {
    "text": "I'm going to modify the existing policy",
    "start": "258720",
    "end": "261440"
  },
  {
    "text": "to allow my Lambda function to use a",
    "start": "261440",
    "end": "263720"
  },
  {
    "text": "specific PMSK to decrypt environment",
    "start": "263720",
    "end": "269199"
  },
  {
    "text": "variables Next let's troubleshoot the",
    "start": "270440",
    "end": "272960"
  },
  {
    "start": "271000",
    "end": "318000"
  },
  {
    "text": "error you are not authorized to perform",
    "start": "272960",
    "end": "275759"
  },
  {
    "text": "This error usually occurs when the IM",
    "start": "275759",
    "end": "278080"
  },
  {
    "text": "user you are currently logging in as",
    "start": "278080",
    "end": "280160"
  },
  {
    "text": "doesn't have the one of the required",
    "start": "280160",
    "end": "282000"
  },
  {
    "text": "permissions to access the AWS KMSK",
    "start": "282000",
    "end": "285120"
  },
  {
    "text": "that's used to encrypt your functions",
    "start": "285120",
    "end": "287440"
  },
  {
    "text": "environment variables To resolve this",
    "start": "287440",
    "end": "290320"
  },
  {
    "text": "type of errors you must contact your AWS",
    "start": "290320",
    "end": "293280"
  },
  {
    "text": "administrator to verify that your IM",
    "start": "293280",
    "end": "296080"
  },
  {
    "text": "user or row has the required permission",
    "start": "296080",
    "end": "298320"
  },
  {
    "text": "to perform the list analysis create",
    "start": "298320",
    "end": "301040"
  },
  {
    "text": "grant encrypt and decrypt AWS KMS API",
    "start": "301040",
    "end": "305160"
  },
  {
    "text": "actions This example policy shows the",
    "start": "305160",
    "end": "308080"
  },
  {
    "text": "required permission for an IM user or",
    "start": "308080",
    "end": "310560"
  },
  {
    "text": "set up encryption on environment",
    "start": "310560",
    "end": "312720"
  },
  {
    "text": "variables when creating or modifying a",
    "start": "312720",
    "end": "315199"
  },
  {
    "text": "lambda function",
    "start": "315199",
    "end": "317840"
  },
  {
    "text": "Finally we are going to troubleshoot the",
    "start": "317840",
    "end": "320000"
  },
  {
    "start": "318000",
    "end": "380000"
  },
  {
    "text": "error access to KMS is not allowed This",
    "start": "320000",
    "end": "323520"
  },
  {
    "text": "error usually occurs when the Lambda",
    "start": "323520",
    "end": "325360"
  },
  {
    "text": "function execution role doesn't have the",
    "start": "325360",
    "end": "327440"
  },
  {
    "text": "required permissions to perform the KMS",
    "start": "327440",
    "end": "330320"
  },
  {
    "text": "decrypt API actions on AWS KMSK that's",
    "start": "330320",
    "end": "334320"
  },
  {
    "text": "used to encrypt the AWS secrets manager",
    "start": "334320",
    "end": "337400"
  },
  {
    "text": "secret If the secret is encrypted with a",
    "start": "337400",
    "end": "340880"
  },
  {
    "text": "custom managed KMSK instead of the AWS",
    "start": "340880",
    "end": "344560"
  },
  {
    "text": "managed service K then the execution",
    "start": "344560",
    "end": "347280"
  },
  {
    "text": "role must include the KMS decrypt",
    "start": "347280",
    "end": "350000"
  },
  {
    "text": "permissions for the",
    "start": "350000",
    "end": "351560"
  },
  {
    "text": "KMSK To resolve the issue make sure that",
    "start": "351560",
    "end": "354479"
  },
  {
    "text": "your IM user audio has the required",
    "start": "354479",
    "end": "357120"
  },
  {
    "text": "permissions to cause the decrypt and",
    "start": "357120",
    "end": "359199"
  },
  {
    "text": "generate data K AWS KMS API actions This",
    "start": "359199",
    "end": "364000"
  },
  {
    "text": "example policy shows the required",
    "start": "364000",
    "end": "365759"
  },
  {
    "text": "permissions required to use AWS secrets",
    "start": "365759",
    "end": "368560"
  },
  {
    "text": "manager secrets in AWS Lambda function",
    "start": "368560",
    "end": "371680"
  },
  {
    "text": "So now you know how to resolve KMS",
    "start": "371680",
    "end": "374080"
  },
  {
    "text": "access denied exception errors from AWS",
    "start": "374080",
    "end": "378360"
  },
  {
    "text": "Lambda Thanks for watching and happy",
    "start": "378360",
    "end": "380880"
  },
  {
    "start": "380000",
    "end": "395000"
  },
  {
    "text": "cloud computing from all of us here at",
    "start": "380880",
    "end": "383039"
  },
  {
    "text": "AWS",
    "start": "383039",
    "end": "384710"
  },
  {
    "text": "[Applause]",
    "start": "384710",
    "end": "386770"
  },
  {
    "text": "[Music]",
    "start": "386770",
    "end": "389949"
  }
]