[
  {
    "text": "[Music]",
    "start": "400",
    "end": "6480"
  },
  {
    "text": "[Music]",
    "start": "8620",
    "end": "11990"
  },
  {
    "text": "hi i am jeevana a cloud support engineer",
    "start": "12080",
    "end": "14559"
  },
  {
    "text": "here at the aws office in dallas today",
    "start": "14559",
    "end": "17600"
  },
  {
    "text": "i'm going to show you how users can",
    "start": "17600",
    "end": "19680"
  },
  {
    "text": "download from and upload to an amazon",
    "start": "19680",
    "end": "22320"
  },
  {
    "text": "simple storage service bucket that has",
    "start": "22320",
    "end": "24560"
  },
  {
    "text": "the default encryption using aws key",
    "start": "24560",
    "end": "27359"
  },
  {
    "text": "management service key let's get started",
    "start": "27359",
    "end": "30720"
  },
  {
    "text": "let's see how this works if the aws",
    "start": "30720",
    "end": "33120"
  },
  {
    "text": "identity and access management user and",
    "start": "33120",
    "end": "35440"
  },
  {
    "text": "the aws kms key belong to the same",
    "start": "35440",
    "end": "37840"
  },
  {
    "text": "account after logging in to the aws",
    "start": "37840",
    "end": "40800"
  },
  {
    "text": "management console navigate to the aws",
    "start": "40800",
    "end": "43280"
  },
  {
    "text": "kms console",
    "start": "43280",
    "end": "44960"
  },
  {
    "text": "make sure that you are searching for the",
    "start": "44960",
    "end": "46559"
  },
  {
    "text": "key in the appropriate region",
    "start": "46559",
    "end": "48719"
  },
  {
    "text": "you can search for the key by entering",
    "start": "48719",
    "end": "50399"
  },
  {
    "text": "the alias into the search filter then",
    "start": "50399",
    "end": "52719"
  },
  {
    "text": "select the aws kms key that you use to",
    "start": "52719",
    "end": "55600"
  },
  {
    "text": "encrypt the s3 bucket under customer",
    "start": "55600",
    "end": "57840"
  },
  {
    "text": "managed keys",
    "start": "57840",
    "end": "60640"
  },
  {
    "text": "view the keys policy document using",
    "start": "61039",
    "end": "63520"
  },
  {
    "text": "policy view verify whether the aws kms",
    "start": "63520",
    "end": "66799"
  },
  {
    "text": "key grants your ian user permissions for",
    "start": "66799",
    "end": "69520"
  },
  {
    "text": "the kms generate data key and kms",
    "start": "69520",
    "end": "71840"
  },
  {
    "text": "decrypt apis at minimum",
    "start": "71840",
    "end": "74240"
  },
  {
    "text": "here you can see that the im user user 1",
    "start": "74240",
    "end": "77439"
  },
  {
    "text": "is granted generate data key and decrypt",
    "start": "77439",
    "end": "80000"
  },
  {
    "text": "permissions",
    "start": "80000",
    "end": "81200"
  },
  {
    "text": "now navigate to the im console",
    "start": "81200",
    "end": "84479"
  },
  {
    "text": "choose users and select the iam user",
    "start": "84479",
    "end": "88000"
  },
  {
    "text": "here you can see i have selected user1",
    "start": "88000",
    "end": "91439"
  },
  {
    "text": "make sure that the user has s3 get",
    "start": "91439",
    "end": "94000"
  },
  {
    "text": "object and s3 put object permissions",
    "start": "94000",
    "end": "96479"
  },
  {
    "text": "over the resource with the amazon",
    "start": "96479",
    "end": "98400"
  },
  {
    "text": "resource name for the bucket with a",
    "start": "98400",
    "end": "100240"
  },
  {
    "text": "wildcard character to indicate the",
    "start": "100240",
    "end": "102479"
  },
  {
    "text": "objects in the bucket now navigate to",
    "start": "102479",
    "end": "104960"
  },
  {
    "text": "the s3 console and choose your bucket",
    "start": "104960",
    "end": "109280"
  },
  {
    "text": "under permissions tab make sure that",
    "start": "111600",
    "end": "113759"
  },
  {
    "text": "there are no explicit deny statements in",
    "start": "113759",
    "end": "115840"
  },
  {
    "text": "the bucket policy that contradict the",
    "start": "115840",
    "end": "117840"
  },
  {
    "text": "user policy open the aws command line",
    "start": "117840",
    "end": "120880"
  },
  {
    "text": "interface and make sure you're using the",
    "start": "120880",
    "end": "122880"
  },
  {
    "text": "correct user credentials by running the",
    "start": "122880",
    "end": "125040"
  },
  {
    "text": "following command",
    "start": "125040",
    "end": "126560"
  },
  {
    "text": "here you can see that i'm using my user1",
    "start": "126560",
    "end": "129599"
  },
  {
    "text": "credentials",
    "start": "129599",
    "end": "131039"
  },
  {
    "text": "now the user1 will be able to upload",
    "start": "131039",
    "end": "133440"
  },
  {
    "text": "files to the bucket using the following",
    "start": "133440",
    "end": "135680"
  },
  {
    "text": "command",
    "start": "135680",
    "end": "136959"
  },
  {
    "text": "i am giving my bucket name the key name",
    "start": "136959",
    "end": "139280"
  },
  {
    "text": "that should appear on the bucket and the",
    "start": "139280",
    "end": "141120"
  },
  {
    "text": "file name in my system for the bucket",
    "start": "141120",
    "end": "143440"
  },
  {
    "text": "key and body parameters respectively we",
    "start": "143440",
    "end": "146480"
  },
  {
    "text": "will see the output with the object",
    "start": "146480",
    "end": "148400"
  },
  {
    "text": "entity tag and the aws kms key used for",
    "start": "148400",
    "end": "151599"
  },
  {
    "text": "encryption now download the files using",
    "start": "151599",
    "end": "154319"
  },
  {
    "text": "the following command we will see the",
    "start": "154319",
    "end": "156640"
  },
  {
    "text": "output with the object entity tag and",
    "start": "156640",
    "end": "158800"
  },
  {
    "text": "the aws kms key used for encryption here",
    "start": "158800",
    "end": "162400"
  },
  {
    "text": "i am giving my bucket name",
    "start": "162400",
    "end": "164319"
  },
  {
    "text": "the object key that i want to download",
    "start": "164319",
    "end": "166239"
  },
  {
    "text": "for the bucket the key parameters and",
    "start": "166239",
    "end": "168800"
  },
  {
    "text": "file name downloaded to my system will",
    "start": "168800",
    "end": "170800"
  },
  {
    "text": "be test1.csv",
    "start": "170800",
    "end": "173120"
  },
  {
    "text": "you can test if the object is downloaded",
    "start": "173120",
    "end": "175360"
  },
  {
    "text": "to your system by running the following",
    "start": "175360",
    "end": "177040"
  },
  {
    "text": "command",
    "start": "177040",
    "end": "178159"
  },
  {
    "text": "here we can see the downloaded file",
    "start": "178159",
    "end": "180319"
  },
  {
    "text": "test1.csv",
    "start": "180319",
    "end": "182239"
  },
  {
    "text": "now let's see how this works if the iam",
    "start": "182239",
    "end": "185040"
  },
  {
    "text": "user is in a different account than the",
    "start": "185040",
    "end": "187280"
  },
  {
    "text": "aws kms key and the s3 bucket",
    "start": "187280",
    "end": "190800"
  },
  {
    "text": "let's say im user is in account a and",
    "start": "190800",
    "end": "193440"
  },
  {
    "text": "the aws kms key and s3 bucket are in",
    "start": "193440",
    "end": "196480"
  },
  {
    "text": "account b log in to the aws management",
    "start": "196480",
    "end": "199760"
  },
  {
    "text": "console of account b and then navigate",
    "start": "199760",
    "end": "202080"
  },
  {
    "text": "to the aws kms console",
    "start": "202080",
    "end": "204640"
  },
  {
    "text": "select the aws kms key that you use to",
    "start": "204640",
    "end": "207519"
  },
  {
    "text": "encrypt the s3 bucket under customer",
    "start": "207519",
    "end": "209680"
  },
  {
    "text": "managed keys it's important to note that",
    "start": "209680",
    "end": "212720"
  },
  {
    "text": "you can give cross account access only",
    "start": "212720",
    "end": "214879"
  },
  {
    "text": "for a customer managed kms key and not",
    "start": "214879",
    "end": "217360"
  },
  {
    "text": "for aws managed kms key because",
    "start": "217360",
    "end": "220560"
  },
  {
    "text": "you cannot edit the policy of an aws",
    "start": "220560",
    "end": "222959"
  },
  {
    "text": "managed kms key",
    "start": "222959",
    "end": "225040"
  },
  {
    "text": "view the keys policy document using",
    "start": "225040",
    "end": "227360"
  },
  {
    "text": "policy view and verify whether the ian",
    "start": "227360",
    "end": "230000"
  },
  {
    "text": "user in account 1 is granted decrypt and",
    "start": "230000",
    "end": "233360"
  },
  {
    "text": "generate data key permissions in the key",
    "start": "233360",
    "end": "235519"
  },
  {
    "text": "policy",
    "start": "235519",
    "end": "236640"
  },
  {
    "text": "here you can see that my aws kms key has",
    "start": "236640",
    "end": "239680"
  },
  {
    "text": "granted the required permissions to the",
    "start": "239680",
    "end": "241599"
  },
  {
    "text": "iem user",
    "start": "241599",
    "end": "243920"
  },
  {
    "text": "now navigate to s3 console",
    "start": "243920",
    "end": "246720"
  },
  {
    "text": "and choose your bucket",
    "start": "246720",
    "end": "249760"
  },
  {
    "text": "hover over to the permissions tab and",
    "start": "251360",
    "end": "253519"
  },
  {
    "text": "update your bucket policy to grant",
    "start": "253519",
    "end": "255920"
  },
  {
    "text": "access to the ian user",
    "start": "255920",
    "end": "258000"
  },
  {
    "text": "for cross-account scenarios consider",
    "start": "258000",
    "end": "260479"
  },
  {
    "text": "granting s3 put object acl permissions",
    "start": "260479",
    "end": "263440"
  },
  {
    "text": "so that the ian user can upload an",
    "start": "263440",
    "end": "265680"
  },
  {
    "text": "object",
    "start": "265680",
    "end": "266880"
  },
  {
    "text": "then grant the buckets account full",
    "start": "266880",
    "end": "269360"
  },
  {
    "text": "control of the object",
    "start": "269360",
    "end": "271199"
  },
  {
    "text": "additionally consider granting",
    "start": "271199",
    "end": "273120"
  },
  {
    "text": "permissions s3 list bucket which is",
    "start": "273120",
    "end": "275759"
  },
  {
    "text": "required for running any recursive copy",
    "start": "275759",
    "end": "278240"
  },
  {
    "text": "operations",
    "start": "278240",
    "end": "279440"
  },
  {
    "text": "you can use a policy that's similar to",
    "start": "279440",
    "end": "281520"
  },
  {
    "text": "the following",
    "start": "281520",
    "end": "283280"
  },
  {
    "text": "now open the iam console from the",
    "start": "283280",
    "end": "285840"
  },
  {
    "text": "account a that the user belongs to",
    "start": "285840",
    "end": "288960"
  },
  {
    "text": "add an iem policy to the user that",
    "start": "288960",
    "end": "291280"
  },
  {
    "text": "grants permission to upload and download",
    "start": "291280",
    "end": "293840"
  },
  {
    "text": "from the bucket also be sure to add aws",
    "start": "293840",
    "end": "297360"
  },
  {
    "text": "kms decrypt and generate data key",
    "start": "297360",
    "end": "299520"
  },
  {
    "text": "permissions",
    "start": "299520",
    "end": "300960"
  },
  {
    "text": "the policy should look like this",
    "start": "300960",
    "end": "303440"
  },
  {
    "text": "switching to the command line interface",
    "start": "303440",
    "end": "305199"
  },
  {
    "text": "now now the user will be able to upload",
    "start": "305199",
    "end": "308160"
  },
  {
    "text": "objects to the bucket using the aws",
    "start": "308160",
    "end": "310800"
  },
  {
    "text": "serialize",
    "start": "310800",
    "end": "312720"
  },
  {
    "text": "download the objects from the bucket",
    "start": "312720",
    "end": "314720"
  },
  {
    "text": "using the following command",
    "start": "314720",
    "end": "317039"
  },
  {
    "text": "now i am checking my downloaded file",
    "start": "317039",
    "end": "319520"
  },
  {
    "text": "using the command",
    "start": "319520",
    "end": "321440"
  },
  {
    "text": "here you can see the downloaded file",
    "start": "321440",
    "end": "324160"
  },
  {
    "text": "testdo.csv",
    "start": "324160",
    "end": "326720"
  },
  {
    "text": "so now you know how to allow users to",
    "start": "326720",
    "end": "329199"
  },
  {
    "text": "download objects from and upload objects",
    "start": "329199",
    "end": "331759"
  },
  {
    "text": "to the encrypted bucket thanks for",
    "start": "331759",
    "end": "334080"
  },
  {
    "text": "watching and happy cloud computing from",
    "start": "334080",
    "end": "336479"
  },
  {
    "text": "all of us here at aws",
    "start": "336479",
    "end": "338520"
  },
  {
    "text": "[Music]",
    "start": "338520",
    "end": "344729"
  }
]