[
  {
    "start": "0",
    "end": "10000"
  },
  {
    "text": "hi everyone today i'll be covering a",
    "start": "80",
    "end": "2320"
  },
  {
    "text": "feature of amazon emr which is now",
    "start": "2320",
    "end": "4000"
  },
  {
    "text": "generally available",
    "start": "4000",
    "end": "5200"
  },
  {
    "text": "for using mmr with targeted on-demand",
    "start": "5200",
    "end": "7120"
  },
  {
    "text": "capacity reservations",
    "start": "7120",
    "end": "8480"
  },
  {
    "text": "or targeted odcrs i'll start by",
    "start": "8480",
    "end": "11360"
  },
  {
    "start": "10000",
    "end": "28000"
  },
  {
    "text": "reviewing the problem statement which",
    "start": "11360",
    "end": "12960"
  },
  {
    "text": "led to emr building this feature i",
    "start": "12960",
    "end": "15280"
  },
  {
    "text": "review the steps to take in aws to use",
    "start": "15280",
    "end": "17199"
  },
  {
    "text": "targeted odcrs with emr",
    "start": "17199",
    "end": "19520"
  },
  {
    "text": "i'll talk about the capacity allocation",
    "start": "19520",
    "end": "21199"
  },
  {
    "text": "logic that emr uses with targeted ovcrs",
    "start": "21199",
    "end": "24240"
  },
  {
    "text": "i'll walk through two example use cases",
    "start": "24240",
    "end": "26000"
  },
  {
    "text": "then i'll do a quick demo to show it in",
    "start": "26000",
    "end": "27599"
  },
  {
    "text": "action",
    "start": "27599",
    "end": "29439"
  },
  {
    "text": "customers use odcrs to for better",
    "start": "29439",
    "end": "32398"
  },
  {
    "text": "capacity assurance",
    "start": "32399",
    "end": "33520"
  },
  {
    "text": "especially for workloads with tesla las",
    "start": "33520",
    "end": "36160"
  },
  {
    "text": "by creating capacity reservations",
    "start": "36160",
    "end": "38160"
  },
  {
    "text": "you ensure that you always have access",
    "start": "38160",
    "end": "39520"
  },
  {
    "text": "to ec2 capacity when you need it for as",
    "start": "39520",
    "end": "41680"
  },
  {
    "text": "long as you need it",
    "start": "41680",
    "end": "42879"
  },
  {
    "text": "you can create capacity reservations at",
    "start": "42879",
    "end": "44879"
  },
  {
    "text": "any time without entering into a one",
    "start": "44879",
    "end": "46879"
  },
  {
    "text": "year or three year term commitment",
    "start": "46879",
    "end": "48960"
  },
  {
    "text": "and the capacity is available",
    "start": "48960",
    "end": "50320"
  },
  {
    "text": "immediately",
    "start": "50320",
    "end": "52079"
  },
  {
    "text": "billing starts as soon as the capacity",
    "start": "52079",
    "end": "53600"
  },
  {
    "text": "is provisioned and the capacity",
    "start": "53600",
    "end": "55120"
  },
  {
    "text": "reservation enters into an active state",
    "start": "55120",
    "end": "57520"
  },
  {
    "text": "when you no longer need it you can just",
    "start": "57520",
    "end": "59280"
  },
  {
    "text": "simply cancel the capacity reservation",
    "start": "59280",
    "end": "61280"
  },
  {
    "text": "to stop incurring any charges",
    "start": "61280",
    "end": "64158"
  },
  {
    "text": "odcrs can be either open or targeted if",
    "start": "64159",
    "end": "67119"
  },
  {
    "text": "the capacity reservation is open",
    "start": "67119",
    "end": "69200"
  },
  {
    "text": "new instances and existing instances",
    "start": "69200",
    "end": "71280"
  },
  {
    "text": "which have matching attributes",
    "start": "71280",
    "end": "72960"
  },
  {
    "text": "automatically run using the capacity of",
    "start": "72960",
    "end": "75119"
  },
  {
    "text": "the capacity reservation",
    "start": "75119",
    "end": "77040"
  },
  {
    "text": "so in an emr cluster if it's launched",
    "start": "77040",
    "end": "79920"
  },
  {
    "text": "matching",
    "start": "79920",
    "end": "80560"
  },
  {
    "text": "the attributes like operating system",
    "start": "80560",
    "end": "82479"
  },
  {
    "text": "instance type and availability zone",
    "start": "82479",
    "end": "84320"
  },
  {
    "text": "within the open odcr it uses capacity",
    "start": "84320",
    "end": "87280"
  },
  {
    "text": "from that odcr first",
    "start": "87280",
    "end": "89600"
  },
  {
    "text": "so if the capacity reservation is",
    "start": "89600",
    "end": "91520"
  },
  {
    "text": "targeted instances must specifically",
    "start": "91520",
    "end": "93680"
  },
  {
    "text": "target it",
    "start": "93680",
    "end": "94320"
  },
  {
    "text": "in order to run with that reserve",
    "start": "94320",
    "end": "96240"
  },
  {
    "text": "capacity so now generally available",
    "start": "96240",
    "end": "98640"
  },
  {
    "text": "amazon emr has built support for",
    "start": "98640",
    "end": "100320"
  },
  {
    "text": "specifically targeting a targeted odcr",
    "start": "100320",
    "end": "103600"
  },
  {
    "start": "102000",
    "end": "177000"
  },
  {
    "text": "so why was this built so until support",
    "start": "103600",
    "end": "105920"
  },
  {
    "text": "for targeted odcrs",
    "start": "105920",
    "end": "107680"
  },
  {
    "text": "amr could only use openodcrs which was",
    "start": "107680",
    "end": "109920"
  },
  {
    "text": "done by launching instances",
    "start": "109920",
    "end": "111280"
  },
  {
    "text": "matching the attributes that i had",
    "start": "111280",
    "end": "112640"
  },
  {
    "text": "mentioned before so",
    "start": "112640",
    "end": "114320"
  },
  {
    "text": "if you have multiple workloads using the",
    "start": "114320",
    "end": "116719"
  },
  {
    "text": "same attributes",
    "start": "116719",
    "end": "117680"
  },
  {
    "text": "in the same aws account and regions such",
    "start": "117680",
    "end": "119840"
  },
  {
    "text": "as multiple concurrent emr clusters",
    "start": "119840",
    "end": "122000"
  },
  {
    "text": "they would both use the same open odcr",
    "start": "122000",
    "end": "124640"
  },
  {
    "text": "so if",
    "start": "124640",
    "end": "125439"
  },
  {
    "text": "one cluster required a higher quality of",
    "start": "125439",
    "end": "127600"
  },
  {
    "text": "service on the other",
    "start": "127600",
    "end": "128800"
  },
  {
    "text": "say it has a stricter sla customers",
    "start": "128800",
    "end": "131520"
  },
  {
    "text": "needed to",
    "start": "131520",
    "end": "132080"
  },
  {
    "text": "get creative and and how you're",
    "start": "132080",
    "end": "133520"
  },
  {
    "text": "launching uh resources within your aws",
    "start": "133520",
    "end": "135920"
  },
  {
    "text": "account",
    "start": "135920",
    "end": "137200"
  },
  {
    "text": "so in order to make sure certain odcrs",
    "start": "137200",
    "end": "140160"
  },
  {
    "text": "are",
    "start": "140160",
    "end": "140480"
  },
  {
    "text": "only used by specific emr workloads",
    "start": "140480",
    "end": "142720"
  },
  {
    "text": "customers ask for a way to specifically",
    "start": "142720",
    "end": "145200"
  },
  {
    "text": "specifically specify the targeted odcr",
    "start": "145200",
    "end": "148720"
  },
  {
    "text": "when launching the emr clusters",
    "start": "148720",
    "end": "151840"
  },
  {
    "text": "and also from a user experience",
    "start": "151840",
    "end": "153200"
  },
  {
    "text": "perspective customers wanted to ensure",
    "start": "153200",
    "end": "155680"
  },
  {
    "text": "that if they request more instances than",
    "start": "155680",
    "end": "157680"
  },
  {
    "text": "specified in the targeted odcr",
    "start": "157680",
    "end": "159920"
  },
  {
    "text": "they can fall back to on-demand ec2",
    "start": "159920",
    "end": "161840"
  },
  {
    "text": "instances that are in the same az",
    "start": "161840",
    "end": "165599"
  },
  {
    "text": "and because of these customer feature",
    "start": "165599",
    "end": "167360"
  },
  {
    "text": "requests uh amazon emr",
    "start": "167360",
    "end": "169280"
  },
  {
    "text": "instance fleets now supports customers",
    "start": "169280",
    "end": "171519"
  },
  {
    "text": "specifying targeted odcrs",
    "start": "171519",
    "end": "173760"
  },
  {
    "text": "along with the flag to use capacity",
    "start": "173760",
    "end": "175440"
  },
  {
    "text": "reservations first",
    "start": "175440",
    "end": "178480"
  },
  {
    "start": "177000",
    "end": "213000"
  },
  {
    "text": "using emr with targeted odcr is really a",
    "start": "178640",
    "end": "181200"
  },
  {
    "text": "three-step process",
    "start": "181200",
    "end": "182879"
  },
  {
    "text": "and the first thing you need to do is",
    "start": "182879",
    "end": "184239"
  },
  {
    "text": "actually add the required permissions to",
    "start": "184239",
    "end": "186480"
  },
  {
    "text": "the emr service role as a prerequisite",
    "start": "186480",
    "end": "189840"
  },
  {
    "text": "the emr service rule requires the five",
    "start": "189840",
    "end": "191920"
  },
  {
    "text": "permissions specified on this slide",
    "start": "191920",
    "end": "194319"
  },
  {
    "text": "and ec2 supports scoping access down to",
    "start": "194319",
    "end": "197519"
  },
  {
    "text": "a specific capacity reservation id in",
    "start": "197519",
    "end": "200080"
  },
  {
    "text": "the im policy statements resource value",
    "start": "200080",
    "end": "202800"
  },
  {
    "text": "likewise the aws resource groups team",
    "start": "202800",
    "end": "206080"
  },
  {
    "text": "supports scoping down to a specific",
    "start": "206080",
    "end": "208560"
  },
  {
    "text": "resource group name",
    "start": "208560",
    "end": "209920"
  },
  {
    "text": "for the resource value and the i am",
    "start": "209920",
    "end": "211599"
  },
  {
    "text": "policy statement",
    "start": "211599",
    "end": "214239"
  },
  {
    "start": "213000",
    "end": "276000"
  },
  {
    "text": "and step two is to create the targeted",
    "start": "214239",
    "end": "216159"
  },
  {
    "text": "wcr the resource group and then you",
    "start": "216159",
    "end": "218400"
  },
  {
    "text": "associate them",
    "start": "218400",
    "end": "220000"
  },
  {
    "text": "in the resource groups grouped resources",
    "start": "220000",
    "end": "223440"
  },
  {
    "text": "and third you create your emr cluster",
    "start": "223440",
    "end": "226000"
  },
  {
    "text": "with the following configurations",
    "start": "226000",
    "end": "228080"
  },
  {
    "text": "so emr's allocation strategy feature is",
    "start": "228080",
    "end": "230480"
  },
  {
    "text": "available in emr",
    "start": "230480",
    "end": "231840"
  },
  {
    "text": "version 5.12.1 and later",
    "start": "231840",
    "end": "235360"
  },
  {
    "text": "it optimizes the allocation of instance",
    "start": "235360",
    "end": "237920"
  },
  {
    "text": "fleet capacity",
    "start": "237920",
    "end": "239040"
  },
  {
    "text": "and lets you choose a target strategy",
    "start": "239040",
    "end": "241519"
  },
  {
    "text": "for each cluster node",
    "start": "241519",
    "end": "243439"
  },
  {
    "text": "on-demand instances use a lowest price",
    "start": "243439",
    "end": "245920"
  },
  {
    "text": "strategy",
    "start": "245920",
    "end": "246879"
  },
  {
    "text": "which launches the lowest priced",
    "start": "246879",
    "end": "249599"
  },
  {
    "text": "instance first",
    "start": "249599",
    "end": "250959"
  },
  {
    "text": "and the allocation strategy option also",
    "start": "250959",
    "end": "253360"
  },
  {
    "text": "lets you specify up to 15",
    "start": "253360",
    "end": "254959"
  },
  {
    "text": "ec2 instance types per task node when",
    "start": "254959",
    "end": "257280"
  },
  {
    "text": "creating your cluster as opposed to the",
    "start": "257280",
    "end": "258959"
  },
  {
    "text": "five maximum allowed by the default emr",
    "start": "258959",
    "end": "260959"
  },
  {
    "text": "cluster instance fleet configuration",
    "start": "260959",
    "end": "263680"
  },
  {
    "text": "you also want to specify the service",
    "start": "263680",
    "end": "265120"
  },
  {
    "text": "rule from step one and you want to",
    "start": "265120",
    "end": "266880"
  },
  {
    "text": "specify the orange",
    "start": "266880",
    "end": "268400"
  },
  {
    "text": "of the resource group from step two and",
    "start": "268400",
    "end": "271280"
  },
  {
    "text": "then you'll need",
    "start": "271280",
    "end": "272080"
  },
  {
    "text": "to use the use capacity reservation",
    "start": "272080",
    "end": "274320"
  },
  {
    "text": "first instance fleet option",
    "start": "274320",
    "end": "277199"
  },
  {
    "start": "276000",
    "end": "311000"
  },
  {
    "text": "so for a more visual review of what we",
    "start": "277199",
    "end": "279680"
  },
  {
    "text": "just talked about",
    "start": "279680",
    "end": "280880"
  },
  {
    "text": "first starting on the right side of this",
    "start": "280880",
    "end": "282720"
  },
  {
    "text": "we have uh the im policy that we're",
    "start": "282720",
    "end": "285040"
  },
  {
    "text": "creating and attaching to the emr",
    "start": "285040",
    "end": "286560"
  },
  {
    "text": "service role",
    "start": "286560",
    "end": "287680"
  },
  {
    "text": "second on the on the left-most side we",
    "start": "287680",
    "end": "290320"
  },
  {
    "text": "create the capacity reservation",
    "start": "290320",
    "end": "292160"
  },
  {
    "text": "the resource group then do an",
    "start": "292160",
    "end": "293600"
  },
  {
    "text": "association between the two",
    "start": "293600",
    "end": "295520"
  },
  {
    "text": "once associated the ecg capacity",
    "start": "295520",
    "end": "298160"
  },
  {
    "text": "reservation will be in the group",
    "start": "298160",
    "end": "299440"
  },
  {
    "text": "resources",
    "start": "299440",
    "end": "300800"
  },
  {
    "text": "then when you're creating your emr",
    "start": "300800",
    "end": "302800"
  },
  {
    "text": "cluster you have to specify your im role",
    "start": "302800",
    "end": "305280"
  },
  {
    "text": "that you have there",
    "start": "305280",
    "end": "306400"
  },
  {
    "text": "the resource group and then the use",
    "start": "306400",
    "end": "308639"
  },
  {
    "text": "capacity reservation first argument",
    "start": "308639",
    "end": "312560"
  },
  {
    "start": "311000",
    "end": "400000"
  },
  {
    "text": "so i'm now going to cover the capacity",
    "start": "313360",
    "end": "316000"
  },
  {
    "text": "allocation logic",
    "start": "316000",
    "end": "317120"
  },
  {
    "text": "that emr uses when working with targeted",
    "start": "317120",
    "end": "319520"
  },
  {
    "text": "odcr",
    "start": "319520",
    "end": "320400"
  },
  {
    "text": "starting with the core nodes because the",
    "start": "320400",
    "end": "322000"
  },
  {
    "text": "chord node allocation determines the",
    "start": "322000",
    "end": "323600"
  },
  {
    "text": "availability zone or ac",
    "start": "323600",
    "end": "325360"
  },
  {
    "text": "for all instances within that emr",
    "start": "325360",
    "end": "327120"
  },
  {
    "text": "cluster so once the",
    "start": "327120",
    "end": "328960"
  },
  {
    "text": "core node capacity is acquired emr locks",
    "start": "328960",
    "end": "331919"
  },
  {
    "text": "in the az",
    "start": "331919",
    "end": "332720"
  },
  {
    "text": "for your cluster in here i mentioned",
    "start": "332720",
    "end": "335919"
  },
  {
    "text": "instance pulse",
    "start": "335919",
    "end": "336800"
  },
  {
    "text": "which emr defines as the instance type",
    "start": "336800",
    "end": "339280"
  },
  {
    "text": "az combination",
    "start": "339280",
    "end": "340560"
  },
  {
    "text": "which are determined by the the instance",
    "start": "340560",
    "end": "342720"
  },
  {
    "text": "types in your fleet configuration",
    "start": "342720",
    "end": "344479"
  },
  {
    "text": "and the subnet that you specify",
    "start": "344479",
    "end": "347840"
  },
  {
    "text": "when the use capacity reservation first",
    "start": "347840",
    "end": "350240"
  },
  {
    "text": "option",
    "start": "350240",
    "end": "350880"
  },
  {
    "text": "is chosen alongside the targeted odcrs",
    "start": "350880",
    "end": "353360"
  },
  {
    "text": "when emr is allocating capacity for core",
    "start": "353360",
    "end": "355680"
  },
  {
    "text": "nodes",
    "start": "355680",
    "end": "356319"
  },
  {
    "text": "emr evaluates all the targeted odcr",
    "start": "356319",
    "end": "359360"
  },
  {
    "text": "instance pools first",
    "start": "359360",
    "end": "360960"
  },
  {
    "text": "ordered by the lowest price emr",
    "start": "360960",
    "end": "364000"
  },
  {
    "text": "will first try to find the instance",
    "start": "364000",
    "end": "365840"
  },
  {
    "text": "types with unused targeted odcrs that",
    "start": "365840",
    "end": "368319"
  },
  {
    "text": "can fulfill the request",
    "start": "368319",
    "end": "369840"
  },
  {
    "text": "for all of the core nodes emr will then",
    "start": "369840",
    "end": "374000"
  },
  {
    "text": "launch the core nodes into those togeth",
    "start": "374000",
    "end": "376479"
  },
  {
    "text": "the targeted",
    "start": "376479",
    "end": "377360"
  },
  {
    "text": "odcrs with that single instance type if",
    "start": "377360",
    "end": "380479"
  },
  {
    "text": "a targeted",
    "start": "380479",
    "end": "381199"
  },
  {
    "text": "odcr instance pool has the capacity",
    "start": "381199",
    "end": "384319"
  },
  {
    "text": "if none of the instance pools meet the",
    "start": "384319",
    "end": "386000"
  },
  {
    "text": "criteria emr will fall back to launch",
    "start": "386000",
    "end": "388240"
  },
  {
    "text": "the core nodes into the on-demand",
    "start": "388240",
    "end": "389759"
  },
  {
    "text": "instance pools",
    "start": "389759",
    "end": "390639"
  },
  {
    "text": "sorted by the lowest price instance",
    "start": "390639",
    "end": "392840"
  },
  {
    "text": "first and",
    "start": "392840",
    "end": "394960"
  },
  {
    "text": "it will use the targeted odcr instances",
    "start": "394960",
    "end": "397520"
  },
  {
    "text": "if available for that instance type",
    "start": "397520",
    "end": "401039"
  },
  {
    "start": "400000",
    "end": "455000"
  },
  {
    "text": "so that was the logic for the core nodes",
    "start": "401039",
    "end": "402880"
  },
  {
    "text": "and now i'll cover the master and task",
    "start": "402880",
    "end": "404400"
  },
  {
    "text": "node provisioning",
    "start": "404400",
    "end": "405520"
  },
  {
    "text": "which also applies to resize operations",
    "start": "405520",
    "end": "408560"
  },
  {
    "text": "once the core capacity is acquired emr",
    "start": "408560",
    "end": "411120"
  },
  {
    "text": "locks onto that az",
    "start": "411120",
    "end": "412720"
  },
  {
    "text": "and attempts to provision the master and",
    "start": "412720",
    "end": "414560"
  },
  {
    "text": "task nodes within that locked az",
    "start": "414560",
    "end": "418160"
  },
  {
    "text": "since the aaz has been determined emr",
    "start": "418160",
    "end": "421199"
  },
  {
    "text": "will be evaluating instance pools within",
    "start": "421199",
    "end": "422960"
  },
  {
    "text": "that az so first",
    "start": "422960",
    "end": "424639"
  },
  {
    "text": "uh emr will evaluate all of the instance",
    "start": "424639",
    "end": "426800"
  },
  {
    "text": "pools with targeted odcrs",
    "start": "426800",
    "end": "429520"
  },
  {
    "text": "specified in that request ordered by the",
    "start": "429520",
    "end": "431520"
  },
  {
    "text": "lowest price first",
    "start": "431520",
    "end": "433599"
  },
  {
    "text": "then from the ordered list emr will try",
    "start": "433599",
    "end": "435759"
  },
  {
    "text": "to launch as much capacity as possible",
    "start": "435759",
    "end": "438319"
  },
  {
    "text": "from the unused targeted odcrs of each",
    "start": "438319",
    "end": "440880"
  },
  {
    "text": "instance pool",
    "start": "440880",
    "end": "442000"
  },
  {
    "text": "until the request is fulfilled",
    "start": "442000",
    "end": "445039"
  },
  {
    "text": "lastly if the unused targeted odcrs",
    "start": "445039",
    "end": "447680"
  },
  {
    "text": "don't fulfill the request yet",
    "start": "447680",
    "end": "449360"
  },
  {
    "text": "emr will continue to launch the",
    "start": "449360",
    "end": "450800"
  },
  {
    "text": "remaining capacity into on-demand",
    "start": "450800",
    "end": "452720"
  },
  {
    "text": "instance pools",
    "start": "452720",
    "end": "453599"
  },
  {
    "text": "in the lowest priced order",
    "start": "453599",
    "end": "456800"
  },
  {
    "text": "so that was a lot of text so let's look",
    "start": "457039",
    "end": "459280"
  },
  {
    "text": "at a few use cases to better understand",
    "start": "459280",
    "end": "461280"
  },
  {
    "text": "this behavior",
    "start": "461280",
    "end": "462639"
  },
  {
    "text": "in this use case your account has 1000",
    "start": "462639",
    "end": "465680"
  },
  {
    "text": "unused instances in the targeted",
    "start": "465680",
    "end": "467680"
  },
  {
    "text": "odcr for the r5 extra large instance",
    "start": "467680",
    "end": "470800"
  },
  {
    "text": "type",
    "start": "470800",
    "end": "471280"
  },
  {
    "text": "in usc 1a and you have chosen the use",
    "start": "471280",
    "end": "474080"
  },
  {
    "text": "capacity reservation first option",
    "start": "474080",
    "end": "476400"
  },
  {
    "text": "you specify three instance types in your",
    "start": "476400",
    "end": "478000"
  },
  {
    "text": "request so you have the r5 extra large",
    "start": "478000",
    "end": "479919"
  },
  {
    "text": "c5 extra large and",
    "start": "479919",
    "end": "481199"
  },
  {
    "text": "m5 extra large which are all specified",
    "start": "481199",
    "end": "483199"
  },
  {
    "text": "there",
    "start": "483199",
    "end": "484240"
  },
  {
    "text": "and c and m costs less than r in this",
    "start": "484240",
    "end": "486560"
  },
  {
    "text": "example",
    "start": "486560",
    "end": "487440"
  },
  {
    "text": "but c and m don't have targeted oc crs",
    "start": "487440",
    "end": "490000"
  },
  {
    "text": "and only r",
    "start": "490000",
    "end": "490960"
  },
  {
    "text": "does you requested a capacity of",
    "start": "490960",
    "end": "494160"
  },
  {
    "text": "100 instances for core nodes and 100",
    "start": "494160",
    "end": "497199"
  },
  {
    "text": "instances for task nodes",
    "start": "497199",
    "end": "499199"
  },
  {
    "text": "so what this looks like whenever you're",
    "start": "499199",
    "end": "500560"
  },
  {
    "text": "provisioning is emr will fulfill all the",
    "start": "500560",
    "end": "503360"
  },
  {
    "text": "core nodes with",
    "start": "503360",
    "end": "504240"
  },
  {
    "text": "r5 extra large since your account has",
    "start": "504240",
    "end": "507280"
  },
  {
    "text": "enough unused targeted odcr for the r5",
    "start": "507280",
    "end": "509840"
  },
  {
    "text": "extra large",
    "start": "509840",
    "end": "510720"
  },
  {
    "text": "so at the end of this operation you'll",
    "start": "510720",
    "end": "512399"
  },
  {
    "text": "have 900 unused targeted odcr instances",
    "start": "512399",
    "end": "515279"
  },
  {
    "text": "in your account and it doesn't use any",
    "start": "515279",
    "end": "517919"
  },
  {
    "text": "of the c5s or m5s",
    "start": "517919",
    "end": "520159"
  },
  {
    "text": "and since you have more r5 in the odcr",
    "start": "520159",
    "end": "523839"
  },
  {
    "text": "than you requested it doesn't use any of",
    "start": "523839",
    "end": "526000"
  },
  {
    "text": "the on demand instances",
    "start": "526000",
    "end": "529040"
  },
  {
    "text": "during task fleet provisioning the az is",
    "start": "529040",
    "end": "532640"
  },
  {
    "text": "locked",
    "start": "532640",
    "end": "533120"
  },
  {
    "text": "to usc 1a emr will try to launch",
    "start": "533120",
    "end": "536720"
  },
  {
    "text": "as much capacity as possible from the",
    "start": "536720",
    "end": "539279"
  },
  {
    "text": "unused targeted odcrs of each instance",
    "start": "539279",
    "end": "541680"
  },
  {
    "text": "pool",
    "start": "541680",
    "end": "542320"
  },
  {
    "text": "until the request is fulfilled so in",
    "start": "542320",
    "end": "544480"
  },
  {
    "text": "this case",
    "start": "544480",
    "end": "545839"
  },
  {
    "text": "the test nodes will be provisioned using",
    "start": "545839",
    "end": "547839"
  },
  {
    "text": "100 r5 extra large",
    "start": "547839",
    "end": "550000"
  },
  {
    "text": "from from the remaining 900 unused r5",
    "start": "550000",
    "end": "553279"
  },
  {
    "text": "extra large in the account",
    "start": "553279",
    "end": "555040"
  },
  {
    "text": "at the end of the operation you'll have",
    "start": "555040",
    "end": "556959"
  },
  {
    "text": "800 unused targeted odcrs in your",
    "start": "556959",
    "end": "559279"
  },
  {
    "text": "account",
    "start": "559279",
    "end": "560000"
  },
  {
    "text": "and overall in this use case the cluster",
    "start": "560000",
    "end": "562720"
  },
  {
    "text": "will get provisioned with 100",
    "start": "562720",
    "end": "564320"
  },
  {
    "text": "r5 extra large for core nodes and 100 r5",
    "start": "564320",
    "end": "566880"
  },
  {
    "text": "extra large for task fleets",
    "start": "566880",
    "end": "569760"
  },
  {
    "text": "at the end of the provisioning workflow",
    "start": "569760",
    "end": "571519"
  },
  {
    "text": "you'll have 800 unused targeted odcr",
    "start": "571519",
    "end": "574000"
  },
  {
    "text": "instances",
    "start": "574000",
    "end": "574720"
  },
  {
    "text": "for r5 extra-large so that was a very",
    "start": "574720",
    "end": "577600"
  },
  {
    "text": "simple example",
    "start": "577600",
    "end": "579040"
  },
  {
    "text": "in the second example use case your",
    "start": "579040",
    "end": "580640"
  },
  {
    "text": "account has 10 unused targeted adcr",
    "start": "580640",
    "end": "583120"
  },
  {
    "text": "instances",
    "start": "583120",
    "end": "583920"
  },
  {
    "text": "for each of the three instance types in",
    "start": "583920",
    "end": "585680"
  },
  {
    "text": "usc 1a",
    "start": "585680",
    "end": "587360"
  },
  {
    "text": "and you've chosen the use capacity",
    "start": "587360",
    "end": "589440"
  },
  {
    "text": "reservation first option",
    "start": "589440",
    "end": "591839"
  },
  {
    "text": "you specified three instance types in",
    "start": "591839",
    "end": "594080"
  },
  {
    "text": "your request and again you requested a",
    "start": "594080",
    "end": "595920"
  },
  {
    "text": "capacity of 100 units for core and 100",
    "start": "595920",
    "end": "598240"
  },
  {
    "text": "for",
    "start": "598240",
    "end": "598560"
  },
  {
    "text": "task nodes so for the sake of this",
    "start": "598560",
    "end": "601040"
  },
  {
    "text": "example",
    "start": "601040",
    "end": "601600"
  },
  {
    "text": "c is the lowest cost then comes m then r",
    "start": "601600",
    "end": "604320"
  },
  {
    "text": "is the highest cost",
    "start": "604320",
    "end": "607120"
  },
  {
    "text": "during provisioning of their requested",
    "start": "607120",
    "end": "608959"
  },
  {
    "text": "capacity for 100 core nodes",
    "start": "608959",
    "end": "610959"
  },
  {
    "text": "emr will attempt attempt to fulfill",
    "start": "610959",
    "end": "614000"
  },
  {
    "text": "all the core nodes with a single",
    "start": "614000",
    "end": "615680"
  },
  {
    "text": "instance type from the unused",
    "start": "615680",
    "end": "617519"
  },
  {
    "text": "targeted wcrs as the unused targeted or",
    "start": "617519",
    "end": "621279"
  },
  {
    "text": "dcrs",
    "start": "621279",
    "end": "622079"
  },
  {
    "text": "for any instance type is not sufficient",
    "start": "622079",
    "end": "624959"
  },
  {
    "text": "emr will fall back to",
    "start": "624959",
    "end": "626560"
  },
  {
    "text": "provisioning the core nodes with",
    "start": "626560",
    "end": "627839"
  },
  {
    "text": "on-demand capacity so",
    "start": "627839",
    "end": "629839"
  },
  {
    "text": "emr will sort the instance pools based",
    "start": "629839",
    "end": "632240"
  },
  {
    "text": "on the lowest price",
    "start": "632240",
    "end": "633600"
  },
  {
    "text": "and since c5 extra large is the lowest",
    "start": "633600",
    "end": "635920"
  },
  {
    "text": "price and has",
    "start": "635920",
    "end": "637120"
  },
  {
    "text": "greater than or equal to 100 on-demand",
    "start": "637120",
    "end": "639200"
  },
  {
    "text": "nodes available in usc 1a",
    "start": "639200",
    "end": "641440"
  },
  {
    "text": "emr will fulfill all of the 100 core",
    "start": "641440",
    "end": "643760"
  },
  {
    "text": "nodes using c5 extra large",
    "start": "643760",
    "end": "646240"
  },
  {
    "text": "since 10 of these instances are already",
    "start": "646240",
    "end": "648880"
  },
  {
    "text": "reserved in that account",
    "start": "648880",
    "end": "650240"
  },
  {
    "text": "emr and ec2 will honor that so",
    "start": "650240",
    "end": "653360"
  },
  {
    "text": "the launch count in targeted odcrs is is",
    "start": "653360",
    "end": "656399"
  },
  {
    "text": "10",
    "start": "656399",
    "end": "657279"
  },
  {
    "text": "and the launch count and on demand is",
    "start": "657279",
    "end": "659040"
  },
  {
    "text": "90. so",
    "start": "659040",
    "end": "660800"
  },
  {
    "text": "at the end of the quarter node",
    "start": "660800",
    "end": "662800"
  },
  {
    "text": "provisioning",
    "start": "662800",
    "end": "664079"
  },
  {
    "text": "the account will have targeted odcrs for",
    "start": "664079",
    "end": "666880"
  },
  {
    "text": "10",
    "start": "666880",
    "end": "667200"
  },
  {
    "text": "unused and 5 extra large and 10 unused",
    "start": "667200",
    "end": "669680"
  },
  {
    "text": "r5 extra large because the core nodes",
    "start": "669680",
    "end": "671600"
  },
  {
    "text": "are all deployed with the same instance",
    "start": "671600",
    "end": "673279"
  },
  {
    "text": "type",
    "start": "673279",
    "end": "675680"
  },
  {
    "text": "during task fleet provisioning of the",
    "start": "675680",
    "end": "677920"
  },
  {
    "text": "requested capacity of 100 task nodes",
    "start": "677920",
    "end": "680240"
  },
  {
    "text": "the az is still locked to usc 1a",
    "start": "680240",
    "end": "684959"
  },
  {
    "text": "here emr will try to launch as much",
    "start": "684959",
    "end": "687440"
  },
  {
    "text": "capacity as possible from the unused",
    "start": "687440",
    "end": "689279"
  },
  {
    "text": "targeted odcrs",
    "start": "689279",
    "end": "690800"
  },
  {
    "text": "of each instance pool until the request",
    "start": "690800",
    "end": "693040"
  },
  {
    "text": "is fulfilled",
    "start": "693040",
    "end": "694240"
  },
  {
    "text": "so in this case emr will launch 10 m5",
    "start": "694240",
    "end": "697519"
  },
  {
    "text": "extra large",
    "start": "697519",
    "end": "698399"
  },
  {
    "text": "using its unused targeted odcr followed",
    "start": "698399",
    "end": "701200"
  },
  {
    "text": "by",
    "start": "701200",
    "end": "701600"
  },
  {
    "text": "10 r5 extra large using its unused",
    "start": "701600",
    "end": "704880"
  },
  {
    "text": "targeted",
    "start": "704880",
    "end": "706079"
  },
  {
    "text": "odcrs and then it will fill the",
    "start": "706079",
    "end": "708720"
  },
  {
    "text": "remaining part of the task nodes using",
    "start": "708720",
    "end": "710800"
  },
  {
    "text": "on-demand instances",
    "start": "710800",
    "end": "712240"
  },
  {
    "text": "based on the lowest cost so since c5",
    "start": "712240",
    "end": "715120"
  },
  {
    "text": "extra-large",
    "start": "715120",
    "end": "716240"
  },
  {
    "text": "is the lowest price and has greater than",
    "start": "716240",
    "end": "718800"
  },
  {
    "text": "or equal to",
    "start": "718800",
    "end": "719680"
  },
  {
    "text": "80 on-demand instances available in usc",
    "start": "719680",
    "end": "722399"
  },
  {
    "text": "1a",
    "start": "722399",
    "end": "723279"
  },
  {
    "text": "it uses 80 on-demand c5 extra-large",
    "start": "723279",
    "end": "725600"
  },
  {
    "text": "instances after it uses",
    "start": "725600",
    "end": "727200"
  },
  {
    "text": "10 and 10 from the m5 and the r5 so at",
    "start": "727200",
    "end": "730079"
  },
  {
    "text": "the end of the",
    "start": "730079",
    "end": "730880"
  },
  {
    "text": "task node provisioning the account will",
    "start": "730880",
    "end": "732880"
  },
  {
    "text": "have zero unused targeted odcr capacity",
    "start": "732880",
    "end": "735519"
  },
  {
    "text": "for all three instance types",
    "start": "735519",
    "end": "737519"
  },
  {
    "text": "and the task fleet will launch with 10",
    "start": "737519",
    "end": "740560"
  },
  {
    "text": "m5 extra large using target editor dcr",
    "start": "740560",
    "end": "744160"
  },
  {
    "text": "10 r5 extra-large using targeted odcr",
    "start": "744160",
    "end": "747360"
  },
  {
    "text": "and adc5 extra-large using on-demand",
    "start": "747360",
    "end": "749839"
  },
  {
    "text": "instances",
    "start": "749839",
    "end": "750959"
  },
  {
    "text": "so overall in this use case the cluster",
    "start": "750959",
    "end": "754240"
  },
  {
    "text": "will get provisioned with 100 instances",
    "start": "754240",
    "end": "756560"
  },
  {
    "text": "for core fleets using 10 from targeted",
    "start": "756560",
    "end": "759680"
  },
  {
    "text": "odcr and 90 from on-demand for c5",
    "start": "759680",
    "end": "762880"
  },
  {
    "text": "extra-large instances which is depicted",
    "start": "762880",
    "end": "765760"
  },
  {
    "text": "on the left side",
    "start": "765760",
    "end": "767040"
  },
  {
    "text": "and 100 instances for task fleets which",
    "start": "767040",
    "end": "769680"
  },
  {
    "text": "has",
    "start": "769680",
    "end": "770480"
  },
  {
    "text": "80 from on demand for c5 extra large",
    "start": "770480",
    "end": "773839"
  },
  {
    "text": "10 from targeted odcr for m5 extra large",
    "start": "773839",
    "end": "777200"
  },
  {
    "text": "and 10 from targeted acr for r5 extra",
    "start": "777200",
    "end": "779920"
  },
  {
    "text": "large",
    "start": "779920",
    "end": "780639"
  },
  {
    "text": "and at the end of the provisioning",
    "start": "780639",
    "end": "782320"
  },
  {
    "text": "workflow you'll have zero",
    "start": "782320",
    "end": "783920"
  },
  {
    "text": "unused targeted odcr instances within",
    "start": "783920",
    "end": "786399"
  },
  {
    "text": "your account",
    "start": "786399",
    "end": "788959"
  },
  {
    "start": "787000",
    "end": "793000"
  },
  {
    "text": "so with all of that said i'm going to go",
    "start": "790000",
    "end": "792240"
  },
  {
    "text": "over to a demo",
    "start": "792240",
    "end": "795040"
  },
  {
    "start": "793000",
    "end": "824000"
  },
  {
    "text": "to start the demo first i'll provision a",
    "start": "795040",
    "end": "796880"
  },
  {
    "text": "few required resources",
    "start": "796880",
    "end": "798320"
  },
  {
    "text": "and to do that you can run through the",
    "start": "798320",
    "end": "800240"
  },
  {
    "text": "prerequisites however you want or",
    "start": "800240",
    "end": "801920"
  },
  {
    "text": "through whatever means your organization",
    "start": "801920",
    "end": "803519"
  },
  {
    "text": "allows for this example i'm using aws",
    "start": "803519",
    "end": "805839"
  },
  {
    "text": "cloud shell and that's a browser-based",
    "start": "805839",
    "end": "807440"
  },
  {
    "text": "shell which is pre-authenticated using",
    "start": "807440",
    "end": "809120"
  },
  {
    "text": "your aws console credentials and it has",
    "start": "809120",
    "end": "811120"
  },
  {
    "text": "a lot of common tools pre-installed that",
    "start": "811120",
    "end": "812800"
  },
  {
    "text": "you need i'm just using the aws command",
    "start": "812800",
    "end": "815279"
  },
  {
    "text": "line interface so",
    "start": "815279",
    "end": "817120"
  },
  {
    "text": "to go through a few commands to set up",
    "start": "817120",
    "end": "818880"
  },
  {
    "text": "our targeted odcr",
    "start": "818880",
    "end": "820560"
  },
  {
    "text": "so the first thing we want to do is",
    "start": "820560",
    "end": "822880"
  },
  {
    "text": "actually create the capacity reservation",
    "start": "822880",
    "end": "825360"
  },
  {
    "start": "824000",
    "end": "857000"
  },
  {
    "text": "so here i'm going to do some copy paste",
    "start": "825360",
    "end": "827600"
  },
  {
    "text": "action",
    "start": "827600",
    "end": "828399"
  },
  {
    "text": "and paste it in here we have a trailing",
    "start": "828399",
    "end": "830240"
  },
  {
    "text": "line break so it will execute",
    "start": "830240",
    "end": "832639"
  },
  {
    "text": "once we hit the paste button but we're",
    "start": "832639",
    "end": "834399"
  },
  {
    "text": "doing an aws ec2 create capacity",
    "start": "834399",
    "end": "836480"
  },
  {
    "text": "reservation",
    "start": "836480",
    "end": "837519"
  },
  {
    "text": "we're specifying one instance site which",
    "start": "837519",
    "end": "839360"
  },
  {
    "text": "is the r5 extra large",
    "start": "839360",
    "end": "841360"
  },
  {
    "text": "uh instance count is five instances",
    "start": "841360",
    "end": "844480"
  },
  {
    "text": "uh instance match criteria is targeted",
    "start": "844480",
    "end": "846560"
  },
  {
    "text": "that's where it could be targeted or",
    "start": "846560",
    "end": "848079"
  },
  {
    "text": "open",
    "start": "848079",
    "end": "849120"
  },
  {
    "text": "uh instance platform is linux or unix",
    "start": "849120",
    "end": "851680"
  },
  {
    "text": "which is the uh",
    "start": "851680",
    "end": "852720"
  },
  {
    "text": "what emr uses and then we're specifying",
    "start": "852720",
    "end": "855040"
  },
  {
    "text": "a specific availability zone which is",
    "start": "855040",
    "end": "856880"
  },
  {
    "text": "usc 1a so",
    "start": "856880",
    "end": "858320"
  },
  {
    "start": "857000",
    "end": "984000"
  },
  {
    "text": "we'll paste this in there and we'll",
    "start": "858320",
    "end": "861040"
  },
  {
    "text": "actually have to capture",
    "start": "861040",
    "end": "862240"
  },
  {
    "text": "this arm here because what we're going",
    "start": "862240",
    "end": "865839"
  },
  {
    "text": "to want to do is pass this in",
    "start": "865839",
    "end": "867760"
  },
  {
    "text": "whenever we're associating the capacity",
    "start": "867760",
    "end": "870079"
  },
  {
    "text": "reservation to the resource group",
    "start": "870079",
    "end": "873680"
  },
  {
    "text": "so pasting that back into my text file",
    "start": "873680",
    "end": "876240"
  },
  {
    "text": "here",
    "start": "876240",
    "end": "877440"
  },
  {
    "text": "and the next thing we'll want to do is",
    "start": "877440",
    "end": "878800"
  },
  {
    "text": "actually create the resource group",
    "start": "878800",
    "end": "880880"
  },
  {
    "text": "so um",
    "start": "880880",
    "end": "885120"
  },
  {
    "text": "pasting that into here as well so we're",
    "start": "885120",
    "end": "888079"
  },
  {
    "text": "doing in aws resource groups create",
    "start": "888079",
    "end": "890240"
  },
  {
    "text": "group",
    "start": "890240",
    "end": "891279"
  },
  {
    "text": "we're naming it demo capacity",
    "start": "891279",
    "end": "893120"
  },
  {
    "text": "reservation group or cr group",
    "start": "893120",
    "end": "895519"
  },
  {
    "text": "and we'll paste this in there as well",
    "start": "895519",
    "end": "897839"
  },
  {
    "text": "and we'll get the rn because we'll",
    "start": "897839",
    "end": "899360"
  },
  {
    "text": "actually want to paste",
    "start": "899360",
    "end": "900480"
  },
  {
    "text": "this into",
    "start": "900480",
    "end": "903360"
  },
  {
    "text": "to our java code",
    "start": "904320",
    "end": "907360"
  },
  {
    "text": "so um pasting that into my text file",
    "start": "911760",
    "end": "915680"
  },
  {
    "text": "and now the next thing we want to do",
    "start": "915680",
    "end": "918399"
  },
  {
    "text": "which",
    "start": "918399",
    "end": "919920"
  },
  {
    "text": "is associate the two and that's with the",
    "start": "919920",
    "end": "923440"
  },
  {
    "text": "arn that i had mentioned that we want to",
    "start": "923440",
    "end": "924800"
  },
  {
    "text": "save before the output from our first",
    "start": "924800",
    "end": "926480"
  },
  {
    "text": "command",
    "start": "926480",
    "end": "928720"
  },
  {
    "text": "and so i pasted the command itself i'm",
    "start": "928720",
    "end": "931920"
  },
  {
    "text": "getting the resource id now",
    "start": "931920",
    "end": "934480"
  },
  {
    "text": "and we have a trial and command or",
    "start": "934480",
    "end": "937600"
  },
  {
    "text": "trialing line break as well so resource",
    "start": "937600",
    "end": "939519"
  },
  {
    "text": "group group resources we specify the",
    "start": "939519",
    "end": "942480"
  },
  {
    "text": "the democr group here and then we",
    "start": "942480",
    "end": "944800"
  },
  {
    "text": "specify the resource iron which is the",
    "start": "944800",
    "end": "946639"
  },
  {
    "text": "capacity reservation",
    "start": "946639",
    "end": "948480"
  },
  {
    "text": "we then paste that in and we can see a",
    "start": "948480",
    "end": "951360"
  },
  {
    "text": "list of turns",
    "start": "951360",
    "end": "952240"
  },
  {
    "text": "and we see that this capacity",
    "start": "952240",
    "end": "954160"
  },
  {
    "text": "reservation",
    "start": "954160",
    "end": "955279"
  },
  {
    "text": "succeeded in being associated with the",
    "start": "955279",
    "end": "957600"
  },
  {
    "text": "democr group",
    "start": "957600",
    "end": "959600"
  },
  {
    "text": "so next before we go into like the java",
    "start": "959600",
    "end": "961920"
  },
  {
    "text": "sdk code for",
    "start": "961920",
    "end": "963199"
  },
  {
    "text": "starting up our clusters using the",
    "start": "963199",
    "end": "964560"
  },
  {
    "text": "targeted odcr i want to show that i am",
    "start": "964560",
    "end": "966560"
  },
  {
    "text": "policy that we've mentioned before",
    "start": "966560",
    "end": "969519"
  },
  {
    "text": "so here we can see the five actions that",
    "start": "969519",
    "end": "972639"
  },
  {
    "text": "we're required to",
    "start": "972639",
    "end": "973920"
  },
  {
    "text": "provide access to so you can see it",
    "start": "973920",
    "end": "977040"
  },
  {
    "text": "it needs ec2 permissions to create a",
    "start": "977040",
    "end": "979519"
  },
  {
    "text": "launch template version",
    "start": "979519",
    "end": "980959"
  },
  {
    "text": "delete and describe as well but the one",
    "start": "980959",
    "end": "984240"
  },
  {
    "start": "984000",
    "end": "1011000"
  },
  {
    "text": "thing that i do want to call out and the",
    "start": "984240",
    "end": "986000"
  },
  {
    "text": "action resources and conditions key",
    "start": "986000",
    "end": "987839"
  },
  {
    "text": "documentation is pretty well done",
    "start": "987839",
    "end": "990560"
  },
  {
    "text": "for the resource group permission that",
    "start": "990560",
    "end": "992720"
  },
  {
    "text": "we have to provide we can actually",
    "start": "992720",
    "end": "994639"
  },
  {
    "text": "lock down to the group resource so if we",
    "start": "994639",
    "end": "998320"
  },
  {
    "text": "want to scope down the im policy",
    "start": "998320",
    "end": "1000399"
  },
  {
    "text": "we can say all right we're going to say",
    "start": "1000399",
    "end": "1003120"
  },
  {
    "text": "the",
    "start": "1003120",
    "end": "1003680"
  },
  {
    "text": "specific barn of the group name",
    "start": "1003680",
    "end": "1006800"
  },
  {
    "text": "that we have and lessen those",
    "start": "1006800",
    "end": "1008959"
  },
  {
    "text": "permissions so that",
    "start": "1008959",
    "end": "1010000"
  },
  {
    "text": "it's least privileged and we don't have",
    "start": "1010000",
    "end": "1012160"
  },
  {
    "start": "1011000",
    "end": "1219000"
  },
  {
    "text": "a star in the resource",
    "start": "1012160",
    "end": "1014560"
  },
  {
    "text": "and similarly with the amazon ec2",
    "start": "1014560",
    "end": "1018560"
  },
  {
    "text": "permissions that we're providing we can",
    "start": "1018560",
    "end": "1020079"
  },
  {
    "text": "specify the capacity reservation as well",
    "start": "1020079",
    "end": "1023680"
  },
  {
    "text": "and so now getting into the code itself",
    "start": "1023680",
    "end": "1027678"
  },
  {
    "text": "i'm gonna minimize this for now",
    "start": "1027679",
    "end": "1031918"
  },
  {
    "text": "um what we actually have here uh",
    "start": "1032319",
    "end": "1035678"
  },
  {
    "text": "so we have the the importing of the",
    "start": "1035679",
    "end": "1039120"
  },
  {
    "text": "aws sdk things that we'll need and i",
    "start": "1039120",
    "end": "1041918"
  },
  {
    "text": "mentioned",
    "start": "1041919",
    "end": "1042558"
  },
  {
    "text": "copying the resource group on but",
    "start": "1042559",
    "end": "1046240"
  },
  {
    "text": "actually when you delete them and create",
    "start": "1046240",
    "end": "1047918"
  },
  {
    "text": "them they actually have the same arm",
    "start": "1047919",
    "end": "1050400"
  },
  {
    "text": "so i don't have to replace that here but",
    "start": "1050400",
    "end": "1053520"
  },
  {
    "text": "specifying that as a variable",
    "start": "1053520",
    "end": "1055600"
  },
  {
    "text": "we have the region usc s1 and we have",
    "start": "1055600",
    "end": "1057760"
  },
  {
    "text": "the subnet that we're deploying our emr",
    "start": "1057760",
    "end": "1059360"
  },
  {
    "text": "cluster into",
    "start": "1059360",
    "end": "1060640"
  },
  {
    "text": "and then after we instantiate the emr",
    "start": "1060640",
    "end": "1062960"
  },
  {
    "text": "client",
    "start": "1062960",
    "end": "1063679"
  },
  {
    "text": "that's where the fun begins to happen so",
    "start": "1063679",
    "end": "1066160"
  },
  {
    "text": "uh",
    "start": "1066160",
    "end": "1066960"
  },
  {
    "text": "the following three methods are kind of",
    "start": "1066960",
    "end": "1069200"
  },
  {
    "text": "what's used to define your emr cluster",
    "start": "1069200",
    "end": "1071840"
  },
  {
    "text": "and your instance fleet configuration so",
    "start": "1071840",
    "end": "1075200"
  },
  {
    "text": "uh mentioned in the powerpoint right we",
    "start": "1075200",
    "end": "1077039"
  },
  {
    "text": "had the use capacity reservations first",
    "start": "1077039",
    "end": "1079440"
  },
  {
    "text": "flag",
    "start": "1079440",
    "end": "1080080"
  },
  {
    "text": "as the usage strategy and so that's",
    "start": "1080080",
    "end": "1083360"
  },
  {
    "text": "where we specify this",
    "start": "1083360",
    "end": "1085520"
  },
  {
    "text": "and then we we pass the targeted odcr",
    "start": "1085520",
    "end": "1088000"
  },
  {
    "text": "option",
    "start": "1088000",
    "end": "1089120"
  },
  {
    "text": "into the odcr specification",
    "start": "1089120",
    "end": "1092880"
  },
  {
    "text": "and here we can see you know we're using",
    "start": "1092880",
    "end": "1095120"
  },
  {
    "text": "the lowest priced",
    "start": "1095120",
    "end": "1096240"
  },
  {
    "text": "allocation strategy like we had talked",
    "start": "1096240",
    "end": "1097919"
  },
  {
    "text": "about and",
    "start": "1097919",
    "end": "1099600"
  },
  {
    "text": "we're then passing in you know that",
    "start": "1099600",
    "end": "1101520"
  },
  {
    "text": "we're using the capacity reservations",
    "start": "1101520",
    "end": "1103200"
  },
  {
    "text": "first",
    "start": "1103200",
    "end": "1103760"
  },
  {
    "text": "and the resource group on that we have",
    "start": "1103760",
    "end": "1105600"
  },
  {
    "text": "here",
    "start": "1105600",
    "end": "1107039"
  },
  {
    "text": "and lastly we have the launch",
    "start": "1107039",
    "end": "1108240"
  },
  {
    "text": "specifications where we're just simply",
    "start": "1108240",
    "end": "1109919"
  },
  {
    "text": "passing in the",
    "start": "1109919",
    "end": "1111039"
  },
  {
    "text": "odcr specification which has everything",
    "start": "1111039",
    "end": "1113360"
  },
  {
    "text": "in the methods above",
    "start": "1113360",
    "end": "1115440"
  },
  {
    "text": "the next thing that we want to do is",
    "start": "1115440",
    "end": "1117200"
  },
  {
    "text": "have the instance type config",
    "start": "1117200",
    "end": "1118720"
  },
  {
    "text": "for the the different fleets that we'll",
    "start": "1118720",
    "end": "1121600"
  },
  {
    "text": "be having here so",
    "start": "1121600",
    "end": "1123039"
  },
  {
    "text": "um here we just specify for the main",
    "start": "1123039",
    "end": "1125440"
  },
  {
    "text": "core and task nodes",
    "start": "1125440",
    "end": "1127039"
  },
  {
    "text": "uh that we're going to have r5 uh extra",
    "start": "1127039",
    "end": "1129520"
  },
  {
    "text": "large",
    "start": "1129520",
    "end": "1131840"
  },
  {
    "text": "and then for the uh master fleet",
    "start": "1132000",
    "end": "1136320"
  },
  {
    "text": "and core fleet and task fleet we're",
    "start": "1136320",
    "end": "1139440"
  },
  {
    "text": "passing in the launch specifications for",
    "start": "1139440",
    "end": "1141440"
  },
  {
    "text": "each of those",
    "start": "1141440",
    "end": "1142960"
  },
  {
    "text": "and uh passing in the instance type",
    "start": "1142960",
    "end": "1145280"
  },
  {
    "text": "config for",
    "start": "1145280",
    "end": "1146240"
  },
  {
    "text": "task core and main and here's actually",
    "start": "1146240",
    "end": "1149280"
  },
  {
    "text": "we're specifying the number of instances",
    "start": "1149280",
    "end": "1151440"
  },
  {
    "text": "that we're deploying so in our case",
    "start": "1151440",
    "end": "1153360"
  },
  {
    "text": "uh we're just deploying four instances",
    "start": "1153360",
    "end": "1155360"
  },
  {
    "text": "so the core nodes will be deployed first",
    "start": "1155360",
    "end": "1157600"
  },
  {
    "text": "so there's two of those",
    "start": "1157600",
    "end": "1159200"
  },
  {
    "text": "and then we have one of master and one",
    "start": "1159200",
    "end": "1161280"
  },
  {
    "text": "of task as well",
    "start": "1161280",
    "end": "1163440"
  },
  {
    "text": "the next two things that we do we're",
    "start": "1163440",
    "end": "1165120"
  },
  {
    "text": "defining our job configuration",
    "start": "1165120",
    "end": "1167120"
  },
  {
    "text": "so here we're saying the instance fleets",
    "start": "1167120",
    "end": "1169919"
  },
  {
    "text": "that we",
    "start": "1169919",
    "end": "1170880"
  },
  {
    "text": "defined above we specify the subnet here",
    "start": "1170880",
    "end": "1174160"
  },
  {
    "text": "as well as right now we're saying keep",
    "start": "1174160",
    "end": "1176400"
  },
  {
    "text": "job flow alive when no steps because",
    "start": "1176400",
    "end": "1178000"
  },
  {
    "text": "we're not passing in any steps",
    "start": "1178000",
    "end": "1179440"
  },
  {
    "text": "this is just purely for the sake of the",
    "start": "1179440",
    "end": "1181600"
  },
  {
    "text": "example of showing how it's using the",
    "start": "1181600",
    "end": "1183120"
  },
  {
    "text": "ec2 instances",
    "start": "1183120",
    "end": "1185600"
  },
  {
    "text": "and then lastly we we have the",
    "start": "1185600",
    "end": "1188400"
  },
  {
    "text": "definition of the job request",
    "start": "1188400",
    "end": "1190799"
  },
  {
    "text": "so um here we we specify name",
    "start": "1190799",
    "end": "1195039"
  },
  {
    "text": "we're specifying the service rule which",
    "start": "1195039",
    "end": "1197039"
  },
  {
    "text": "is the rule where we added the",
    "start": "1197039",
    "end": "1198960"
  },
  {
    "text": "policy that i just showed a minute ago",
    "start": "1198960",
    "end": "1202799"
  },
  {
    "text": "and then the job flow instances config",
    "start": "1202799",
    "end": "1204799"
  },
  {
    "text": "as well",
    "start": "1204799",
    "end": "1206400"
  },
  {
    "text": "and lastly we're actually you know",
    "start": "1206400",
    "end": "1208799"
  },
  {
    "text": "executing against the api and saying",
    "start": "1208799",
    "end": "1210720"
  },
  {
    "text": "here's our drop flow request and then",
    "start": "1210720",
    "end": "1212400"
  },
  {
    "text": "i'll put in that job flow id",
    "start": "1212400",
    "end": "1214320"
  },
  {
    "text": "so here i will run the application",
    "start": "1214320",
    "end": "1220720"
  },
  {
    "start": "1219000",
    "end": "1345000"
  },
  {
    "text": "so the application ran and we can see",
    "start": "1220720",
    "end": "1223600"
  },
  {
    "text": "that the emr cluster is starting",
    "start": "1223600",
    "end": "1226480"
  },
  {
    "text": "and if we click in to this we can see",
    "start": "1226480",
    "end": "1230000"
  },
  {
    "text": "that the core nodes that will have two",
    "start": "1230000",
    "end": "1233039"
  },
  {
    "text": "units",
    "start": "1233039",
    "end": "1234080"
  },
  {
    "text": "task it'll have one master it will have",
    "start": "1234080",
    "end": "1236240"
  },
  {
    "text": "one",
    "start": "1236240",
    "end": "1238480"
  },
  {
    "text": "and then now i've run this a few times",
    "start": "1238640",
    "end": "1241600"
  },
  {
    "text": "so",
    "start": "1241600",
    "end": "1242159"
  },
  {
    "text": "ignore some of the noise here but if we",
    "start": "1242159",
    "end": "1244159"
  },
  {
    "text": "go to active",
    "start": "1244159",
    "end": "1245440"
  },
  {
    "text": "we can see three of five quantity is",
    "start": "1245440",
    "end": "1247760"
  },
  {
    "text": "still available meaning the task nodes",
    "start": "1247760",
    "end": "1249440"
  },
  {
    "text": "have deployed first",
    "start": "1249440",
    "end": "1251520"
  },
  {
    "text": "since there were two of those and",
    "start": "1251520",
    "end": "1255120"
  },
  {
    "text": "as time goes on it'll go down and",
    "start": "1255120",
    "end": "1257520"
  },
  {
    "text": "eventually we'll have one of five",
    "start": "1257520",
    "end": "1258960"
  },
  {
    "text": "available",
    "start": "1258960",
    "end": "1259679"
  },
  {
    "text": "in in the case of what we're testing",
    "start": "1259679",
    "end": "1262720"
  },
  {
    "text": "so if we go to aws resource groups",
    "start": "1262720",
    "end": "1264880"
  },
  {
    "text": "console we can see",
    "start": "1264880",
    "end": "1266240"
  },
  {
    "text": "the demo cr group and if we click into",
    "start": "1266240",
    "end": "1268640"
  },
  {
    "text": "that we can see",
    "start": "1268640",
    "end": "1270000"
  },
  {
    "text": "the group resources which includes the",
    "start": "1270000",
    "end": "1273919"
  },
  {
    "text": "capacity reservation resource which",
    "start": "1273919",
    "end": "1276480"
  },
  {
    "text": "takes us back to",
    "start": "1276480",
    "end": "1277760"
  },
  {
    "text": "viewing the capacity reservation that's",
    "start": "1277760",
    "end": "1279840"
  },
  {
    "text": "in this tab",
    "start": "1279840",
    "end": "1282640"
  },
  {
    "text": "okay so after a few minutes we came back",
    "start": "1282640",
    "end": "1285440"
  },
  {
    "text": "into the console",
    "start": "1285440",
    "end": "1287440"
  },
  {
    "text": "what we can see is that we have",
    "start": "1287440",
    "end": "1290080"
  },
  {
    "text": "masternodes",
    "start": "1290080",
    "end": "1291360"
  },
  {
    "text": "core nodes and task nodes uh all are",
    "start": "1291360",
    "end": "1293840"
  },
  {
    "text": "successfully running",
    "start": "1293840",
    "end": "1295039"
  },
  {
    "text": "we have four units in total and so",
    "start": "1295039",
    "end": "1298720"
  },
  {
    "text": "if we go over to capacity reservations",
    "start": "1298720",
    "end": "1301440"
  },
  {
    "text": "we",
    "start": "1301440",
    "end": "1301840"
  },
  {
    "text": "we can see that it's a targeted capacity",
    "start": "1301840",
    "end": "1304080"
  },
  {
    "text": "reservation and there's one of five",
    "start": "1304080",
    "end": "1305679"
  },
  {
    "text": "available meaning we're using four",
    "start": "1305679",
    "end": "1307440"
  },
  {
    "text": "out of the five within the targeted odcr",
    "start": "1307440",
    "end": "1310400"
  },
  {
    "text": "so",
    "start": "1310400",
    "end": "1310720"
  },
  {
    "text": "our emr uh job is successfully",
    "start": "1310720",
    "end": "1314320"
  },
  {
    "text": "using the on-demand capacity reservation",
    "start": "1314320",
    "end": "1318240"
  },
  {
    "text": "and as a result of that we can say all",
    "start": "1318240",
    "end": "1320720"
  },
  {
    "text": "right we need",
    "start": "1320720",
    "end": "1321520"
  },
  {
    "text": "a particular instance type a a large",
    "start": "1321520",
    "end": "1324000"
  },
  {
    "text": "amount for",
    "start": "1324000",
    "end": "1325039"
  },
  {
    "text": "one particular job that's sla bound and",
    "start": "1325039",
    "end": "1327919"
  },
  {
    "text": "we can now say",
    "start": "1327919",
    "end": "1329280"
  },
  {
    "text": "that our job is successfully using that",
    "start": "1329280",
    "end": "1331520"
  },
  {
    "text": "odcr",
    "start": "1331520",
    "end": "1332480"
  },
  {
    "text": "that we've created for it so i hope this",
    "start": "1332480",
    "end": "1334960"
  },
  {
    "text": "was helpful",
    "start": "1334960",
    "end": "1335679"
  },
  {
    "text": "but this is how you use targeted odcr",
    "start": "1335679",
    "end": "1338080"
  },
  {
    "text": "with amazon emr",
    "start": "1338080",
    "end": "1340000"
  },
  {
    "text": "thank you",
    "start": "1340000",
    "end": "1347360"
  }
]