[
  {
    "start": "0",
    "end": "175000"
  },
  {
    "text": "[Music] we're gonna get ready to kick off the",
    "start": "5020",
    "end": "10139"
  },
  {
    "text": "final presentation of the day here and I believe me when I tell you we've saved",
    "start": "10139",
    "end": "16800"
  },
  {
    "text": "the best for last I think this is going to be super cool we've got Ian and Ryan here from ban",
    "start": "16800",
    "end": "23220"
  },
  {
    "text": "branch metrics and they're going to talk about scaling their business and how",
    "start": "23220",
    "end": "29310"
  },
  {
    "text": "when they were faced with that hockey stick growth that we all hope for how they were able to achieve that using",
    "start": "29310",
    "end": "35640"
  },
  {
    "text": "dynamodb and so with that I'm gonna get out of the way and let these guys do",
    "start": "35640",
    "end": "41250"
  },
  {
    "text": "their thing all right thanks everybody for having us today we're gonna be talking about",
    "start": "41250",
    "end": "46980"
  },
  {
    "text": "scaling from zero to billions on DynamoDB and I'll talk a little bit more",
    "start": "46980",
    "end": "52620"
  },
  {
    "text": "about what I mean by that just to go over what we're gonna cover a high level",
    "start": "52620",
    "end": "58020"
  },
  {
    "text": "of what branch is I think the context of our company and our product is very relevant to the talk about dynamo we're",
    "start": "58020",
    "end": "64920"
  },
  {
    "text": "gonna talk about our scaling challenges with some nice music in the background as well thank you very much for that is",
    "start": "64920",
    "end": "73350"
  },
  {
    "text": "this coming from my machine all right cool well I'll keep talking over the music as long as you don't mind",
    "start": "73350",
    "end": "79759"
  },
  {
    "text": "we're gonna talk a little bit about applications of dynamo at high production scale and since we've been",
    "start": "79759",
    "end": "86939"
  },
  {
    "text": "using dynamo and production for a year we're going to talk about some of the lessons learned from there and some key",
    "start": "86939",
    "end": "92430"
  },
  {
    "text": "takeaways as well ideally we're gonna try to do all of the QA at the end so we left some time at the end but feel free",
    "start": "92430",
    "end": "99150"
  },
  {
    "text": "to queue them up cool so just at a high level because I know there's a pretty",
    "start": "99150",
    "end": "104670"
  },
  {
    "text": "diverse audience here a summary of the key takeaways and the messages that we're gonna try to leave for you four",
    "start": "104670",
    "end": "110850"
  },
  {
    "text": "founders and CTOs we're gonna talk about some of the evaluation frameworks that we use to actually make some of these",
    "start": "110850",
    "end": "117090"
  },
  {
    "text": "technical decisions whether you're a one-person startup or a 300 person startup choosing a data store like",
    "start": "117090",
    "end": "123450"
  },
  {
    "text": "dynamo is a extremely critical decision so we're going to talk through the decision process that we made through",
    "start": "123450",
    "end": "129090"
  },
  {
    "text": "that if you're an engineer a developer just hacking on AWS you're gonna get introduced exposed to",
    "start": "129090",
    "end": "135720"
  },
  {
    "text": "dynamodb maybe get some ideas and then play around with it later on and for everybody else branch has been a crazy",
    "start": "135720",
    "end": "143090"
  },
  {
    "text": "wild ride of a startup you'll learn a little bit of the lessons about what we've experienced they're cool yet just",
    "start": "143090",
    "end": "151560"
  },
  {
    "text": "quick about myself I'm the director of engineering at branch I've been with branch for about four years the company",
    "start": "151560",
    "end": "156870"
  },
  {
    "text": "is only five years old so I've seen a lot of craziness prior to branch I was managing some of the ads and analytics",
    "start": "156870",
    "end": "162720"
  },
  {
    "text": "teams at Twitter and with me today is Ryan he's on our platform engineering team and he did a lot of the hard work",
    "start": "162720",
    "end": "170280"
  },
  {
    "text": "heavy lifting here so when it gets to the technical details I'm gonna hand it over to him all right so just a few",
    "start": "170280",
    "end": "178709"
  },
  {
    "start": "175000",
    "end": "220000"
  },
  {
    "text": "slides about branch the company as I mentioned we were founded in 2014 we",
    "start": "178709",
    "end": "185010"
  },
  {
    "text": "have about 250 employees worldwide about 65 engineers right now and I'll talk",
    "start": "185010",
    "end": "191880"
  },
  {
    "text": "about the product in a minute but we have about 45,000 apps using our core platform right now we're located down in",
    "start": "191880",
    "end": "198600"
  },
  {
    "text": "Redwood City so we just took a lift up here a couple minutes ago but we have 12",
    "start": "198600",
    "end": "203640"
  },
  {
    "text": "offices around the world and we've been using AWS since day one right now we",
    "start": "203640",
    "end": "208980"
  },
  {
    "text": "have about a thousand instances deployed across two different regions so we've seen a lot of crazy growth over five",
    "start": "208980",
    "end": "216120"
  },
  {
    "text": "years both organizationally and from an infrastructure perspective if you've",
    "start": "216120",
    "end": "221790"
  },
  {
    "start": "220000",
    "end": "250000"
  },
  {
    "text": "never heard of branch our core vision and our mission is to solve the mobile",
    "start": "221790",
    "end": "227970"
  },
  {
    "text": "deep-linking an attribution problem create a seamless experience across mobile web native apps",
    "start": "227970",
    "end": "233970"
  },
  {
    "text": "iOS and Android and really try to make linking as simple as it was back in the",
    "start": "233970",
    "end": "239100"
  },
  {
    "text": "web days so if you've ever clicked on a link and it opened an app that you actually already had installed and",
    "start": "239100",
    "end": "245040"
  },
  {
    "text": "actually went to the place you were expecting it to go there's a good chance that that was branch in the background",
    "start": "245040",
    "end": "250700"
  },
  {
    "start": "250000",
    "end": "305000"
  },
  {
    "text": "so about the links these links appear in",
    "start": "250700",
    "end": "255900"
  },
  {
    "text": "all sorts of different channels whether it's ads referrals social email",
    "start": "255900",
    "end": "261560"
  },
  {
    "text": "marketing campaigns or just organic links on mobile web sites these branch",
    "start": "261560",
    "end": "267240"
  },
  {
    "text": "links are everywhere around the web and this is really setting the context for the scalability challenges that we had and",
    "start": "267240",
    "end": "273810"
  },
  {
    "text": "just a couple you know a smattering of logos some of the biggest companies and",
    "start": "273810",
    "end": "279450"
  },
  {
    "text": "apps in the world are relying on our infrastructure for their linking so when we talk about scale and when we",
    "start": "279450",
    "end": "285420"
  },
  {
    "text": "talk about availability and reliability we're not just talking about in the context of our infrastructure we're",
    "start": "285420",
    "end": "291450"
  },
  {
    "text": "talking about in the infrastructure of companies like twitch like Amazon all of these big names are relying on our",
    "start": "291450",
    "end": "297330"
  },
  {
    "text": "infrastructure right now I think this is streamed on Twitch so hopefully there was a link that was shared and I hope that that link opened and there's",
    "start": "297330",
    "end": "303570"
  },
  {
    "text": "several viewers online across all right so let's talk about these scaling",
    "start": "303570",
    "end": "308730"
  },
  {
    "text": "challenges so what is in a link you know we've seen millions and millions of",
    "start": "308730",
    "end": "315060"
  },
  {
    "text": "links on the internet for years they're really really simple I took the screenshot this morning from",
    "start": "315060",
    "end": "320370"
  },
  {
    "text": "the reddit homepage but it really is composed of just a domain and the",
    "start": "320370",
    "end": "326520"
  },
  {
    "text": "resource that you're trying to reference this is a branch link reddit app dot link and they have branch links",
    "start": "326520",
    "end": "332550"
  },
  {
    "text": "throughout their mobile web homepage because one of their objectives like many of our customers is to get a",
    "start": "332550",
    "end": "337680"
  },
  {
    "text": "customers from the mobile web into the native app and again as I mentioned branch solves this problem and makes",
    "start": "337680",
    "end": "344580"
  },
  {
    "text": "this a seamless experience but like Reddit like many of our other customers they're creating millions and millions",
    "start": "344580",
    "end": "351090"
  },
  {
    "text": "of links on a day to day basis so we're gonna rewind back to 2017 and that's",
    "start": "351090",
    "end": "356640"
  },
  {
    "text": "when we first started evaluating dynamo back in 2017 we had about 4.5 billion",
    "start": "356640",
    "end": "363180"
  },
  {
    "text": "transactions coming into our platform per day we've seen our customers create about 40 billion links in the short",
    "start": "363180",
    "end": "370560"
  },
  {
    "text": "three four year time period that our company had been created over a hundred",
    "start": "370560",
    "end": "376020"
  },
  {
    "text": "million links were being clicked on every day whether it was the home page of Reddit home page of Airbnb or one of",
    "start": "376020",
    "end": "382200"
  },
  {
    "text": "our many other customers and our customers were generating about a hundred million new links per day as",
    "start": "382200",
    "end": "388440"
  },
  {
    "text": "well all the while we were maintaining a success rate of 99.99 and also a very",
    "start": "388440",
    "end": "395880"
  },
  {
    "text": "low latency you know roughly 250 milliseconds up to 99% so we had billions of links we had",
    "start": "395880",
    "end": "402600"
  },
  {
    "text": "hundreds of millions of people clicking on them and we had an expectation that this would scale forever and that it",
    "start": "402600",
    "end": "407970"
  },
  {
    "text": "would be fast and reliable from an architecture perspective at the time we",
    "start": "407970",
    "end": "413880"
  },
  {
    "start": "410000",
    "end": "503000"
  },
  {
    "text": "were using a lot of ec2 instances in",
    "start": "413880",
    "end": "418950"
  },
  {
    "text": "particular we were using a lot of i2 ATEC cells at the time this was like a pretty big and beefy instance we were",
    "start": "418950",
    "end": "425070"
  },
  {
    "text": "using RDS and I believe in database week this week they covered a lot about introductory to RDS we were using",
    "start": "425070",
    "end": "430830"
  },
  {
    "text": "Postgres specifically we'd solve some of our scaling challenges by sharding Postgres databases and we were using",
    "start": "430830",
    "end": "439290"
  },
  {
    "text": "aerospike as a key value database which is a very high performance low latency",
    "start": "439290",
    "end": "444840"
  },
  {
    "text": "clustered key value database and a little bit of Redis and lastly our infrastructure was starting to evolve to",
    "start": "444840",
    "end": "452040"
  },
  {
    "text": "the typical micro services or service-oriented architecture that a lot of companies in this phase go through",
    "start": "452040",
    "end": "457560"
  },
  {
    "text": "and we'll talk a little bit about that later on as well but not just scaling",
    "start": "457560",
    "end": "463890"
  },
  {
    "text": "the infrastructure we had a lot of organizational scaling challenges too on this factored into our decision-making",
    "start": "463890",
    "end": "469920"
  },
  {
    "text": "so we only had about 30 engineers keeping this entire platform online we",
    "start": "469920",
    "end": "475860"
  },
  {
    "text": "had very limited engineering time for core platform investments you know at",
    "start": "475860",
    "end": "481650"
  },
  {
    "text": "this key growth phase of our company we were three years old product market fit is crucial building new features",
    "start": "481650",
    "end": "488340"
  },
  {
    "text": "iterating on features onboarding new customers was priority number one and when you have 30 engineers it's hard to",
    "start": "488340",
    "end": "494940"
  },
  {
    "text": "justify re-engineering a datastore or swapping out the database so this is one of the biggest challenges that I face as",
    "start": "494940",
    "end": "500880"
  },
  {
    "text": "the engineering director at the time so what was that immediate problem right so",
    "start": "500880",
    "end": "508560"
  },
  {
    "start": "503000",
    "end": "546000"
  },
  {
    "text": "it's 2017 the platforms coming along costs were climbing operational burden",
    "start": "508560",
    "end": "517440"
  },
  {
    "text": "was mounting we had a very small ops team we had a database that was growing by hundreds of millions of records per",
    "start": "517440",
    "end": "523800"
  },
  {
    "text": "day and we had an organic growth of a hundred percent year-over-year and we",
    "start": "523800",
    "end": "529560"
  },
  {
    "text": "weren't expecting that to slow down anytime soon so we were there quickly approaching a cliff where we",
    "start": "529560",
    "end": "535600"
  },
  {
    "text": "knew that we would run out of capacity no matter how much money we threw at the problem and we knew that we were gonna",
    "start": "535600",
    "end": "540610"
  },
  {
    "text": "have to solve this problem it wasn't gonna take a week it wasn't gonna take a month we had to plan now so some of the",
    "start": "540610",
    "end": "550300"
  },
  {
    "start": "546000",
    "end": "611000"
  },
  {
    "text": "business requirements that we were faced with this solution could incur zero",
    "start": "550300",
    "end": "560020"
  },
  {
    "text": "downtime we couldn't tell forty thousand customers that their links and their integration was going to break for six",
    "start": "560020",
    "end": "566980"
  },
  {
    "text": "months while we swapped at the data store we couldn't change the product or",
    "start": "566980",
    "end": "572230"
  },
  {
    "text": "the API contracts because these integrations were life they were deployed we had to offer the same SLA",
    "start": "572230",
    "end": "579400"
  },
  {
    "text": "that we were already offering to our customers namely low latency high availability and the cost for whatever",
    "start": "579400",
    "end": "588880"
  },
  {
    "text": "solution we moved to needed to be ideally an order of magnitude cheaper than what we were currently deployed on",
    "start": "588880",
    "end": "595780"
  },
  {
    "text": "if I proposed the solution that was 50% cheaper given the cost to actually implement it it wouldn't necessarily",
    "start": "595780",
    "end": "601710"
  },
  {
    "text": "justify if it was 30% cheaper maybe 60% cheaper still not necessarily the case I",
    "start": "601710",
    "end": "608230"
  },
  {
    "text": "was looking for something that was going to be an order of magnitude cheaper all right so now we get into the technical",
    "start": "608230",
    "end": "614380"
  },
  {
    "start": "611000",
    "end": "650000"
  },
  {
    "text": "requirements so this is kind of money the engineering team came in the first and foremost requirement was minimal",
    "start": "614380",
    "end": "620080"
  },
  {
    "text": "DevOps overhead we had kind of one engineer that was dedicated like working with Herrera spy cluster and I was",
    "start": "620080",
    "end": "626080"
  },
  {
    "text": "taking all almost all of his time so that was what something we were looking for something we wouldn't have to pay attention to",
    "start": "626080",
    "end": "633060"
  },
  {
    "text": "also scalability was important so as the Ian mentioned the 100 percent you know your your growth was something we had to",
    "start": "633250",
    "end": "639100"
  },
  {
    "text": "prepare for reliability and durability of standard things we require we require from a database like we can't have",
    "start": "639100",
    "end": "645340"
  },
  {
    "text": "downtime and we can't have have links disappearing so those are important to us as well so our specific use case with",
    "start": "645340",
    "end": "653950"
  },
  {
    "start": "650000",
    "end": "720000"
  },
  {
    "text": "links there there are a few caveats so really what we really cared about was",
    "start": "653950",
    "end": "659020"
  },
  {
    "text": "Reid's reason to be lightning-fast because that was the latency that the customers is exposed to so when you",
    "start": "659020",
    "end": "664240"
  },
  {
    "text": "click a link you get redirected that's that's a read we have to read that link and figure out oh how do we how to redirect you so that",
    "start": "664240",
    "end": "670480"
  },
  {
    "text": "was something we were looking for random access was important because any link could be collect at any time we can't",
    "start": "670480",
    "end": "675880"
  },
  {
    "text": "have like Soul links and fast links we needed a simple key value data set",
    "start": "675880",
    "end": "681400"
  },
  {
    "text": "because that's how our data was structured already so we needed to stay in kind of the same structure our",
    "start": "681400",
    "end": "687220"
  },
  {
    "text": "objects were kind of a fixed size roughly so links were around 1k each we",
    "start": "687220",
    "end": "692590"
  },
  {
    "text": "had some outliers but majority them were around one caves just redirection data in a couple of other IDs in there",
    "start": "692590",
    "end": "698880"
  },
  {
    "text": "updates were very infrequent so rights were less important to us not that they were just completely not important they",
    "start": "698880",
    "end": "705760"
  },
  {
    "text": "were just we could incur some latency there we weren't that worried about slower rights and we didn't have a need",
    "start": "705760",
    "end": "712900"
  },
  {
    "text": "to do any like scans or range queries on links because they were just keyed by one ID so Ryan mentioned a lot of the",
    "start": "712900",
    "end": "723310"
  },
  {
    "text": "specific challenges that we faced and I wanted to call it out because it was",
    "start": "723310",
    "end": "728550"
  },
  {
    "text": "super important to our decision-making on how and why we picked this particular tool every company in every use case is",
    "start": "728550",
    "end": "735580"
  },
  {
    "text": "going to be different we spent a lot of time figuring out what criteria were actually important for us and then we",
    "start": "735580",
    "end": "741610"
  },
  {
    "text": "add we have to actually start evaluating well what are our options so we created an evaluation framework a matrix to",
    "start": "741610",
    "end": "748210"
  },
  {
    "text": "determine what data store are we actually going to move to some of the dimensions that we actually measured this against were things like is this",
    "start": "748210",
    "end": "754450"
  },
  {
    "text": "open source is there an open source community around it what is the community support look like what's the",
    "start": "754450",
    "end": "760450"
  },
  {
    "text": "consistency model the database things like what language support does it have we have a lot of JVM based services in",
    "start": "760450",
    "end": "767410"
  },
  {
    "text": "our infrastructure what was the existing expertise within our small engineering organization was there a path to multi",
    "start": "767410",
    "end": "775600"
  },
  {
    "text": "region multi data centers and things like secondary indexes efficient scans",
    "start": "775600",
    "end": "781089"
  },
  {
    "text": "and again maintainability there's a lot of options out there we evaluated a lot",
    "start": "781089",
    "end": "788260"
  },
  {
    "text": "of them this is just a short list of the databases that we actually looked at we",
    "start": "788260",
    "end": "793360"
  },
  {
    "text": "didn't like do a POC and deploy every single one of these this would have been a little bit crazy but we evaluated a",
    "start": "793360",
    "end": "800080"
  },
  {
    "text": "lot of options because we wanted to make sure that we were making the right choice this was a huge decision this was",
    "start": "800080",
    "end": "805630"
  },
  {
    "text": "a company make-or-break decision so we didn't take the decision lightly in fact",
    "start": "805630",
    "end": "812230"
  },
  {
    "start": "810000",
    "end": "870000"
  },
  {
    "text": "one of the decisions that we considered and I've seen a lot of small startups at",
    "start": "812230",
    "end": "817570"
  },
  {
    "text": "our size or even bigger consider we considered building our own key value database that was backed by dynamo and",
    "start": "817570",
    "end": "825040"
  },
  {
    "text": "s3 when we looked at those optimization function criterias we explored the idea",
    "start": "825040",
    "end": "831490"
  },
  {
    "text": "of what would be the database to be the absolute cheapest possible to store hundreds of billions of links so we",
    "start": "831490",
    "end": "838150"
  },
  {
    "text": "whipped up a design and we came up with this very interesting multi-tiered cascading aging out data into s3 IAS 3",
    "start": "838150",
    "end": "846940"
  },
  {
    "text": "and then glacier and then we can store you know infinite links in there and it would cost us like 50 bucks a month",
    "start": "846940",
    "end": "852730"
  },
  {
    "text": "that's great but it was like really really complex and the idea of having nine different s3 tables and a dynamo",
    "start": "852730",
    "end": "860260"
  },
  {
    "text": "table and a Java interface and then you know Ops has to expire data every month was not super palatable to anybody in",
    "start": "860260",
    "end": "866980"
  },
  {
    "text": "the organization we didn't do that and",
    "start": "866980",
    "end": "871990"
  },
  {
    "text": "this is kind of a snapshot of what as we were nearing the end of the decision process looked like where we had to",
    "start": "871990",
    "end": "878560"
  },
  {
    "text": "measure up all of our options and then say okay well what is the most likely success criteria here we could keep our",
    "start": "878560",
    "end": "886540"
  },
  {
    "text": "current data store and then keep throwing logs on the fire we could build our own which i think is the column that",
    "start": "886540",
    "end": "892420"
  },
  {
    "text": "has the most X's and we quickly dismissed that idea there was a lot of really great key value database",
    "start": "892420",
    "end": "897700"
  },
  {
    "text": "solutions out there that we could have moved to and deployed but dynamodb seemed like a very palatable option you",
    "start": "897700",
    "end": "905680"
  },
  {
    "text": "know we didn't have the domain expertise so there was a risk there and moving to any kind of new technology inherently",
    "start": "905680",
    "end": "911860"
  },
  {
    "text": "introduces some risks which we acknowledged but embraced so again for",
    "start": "911860",
    "end": "919930"
  },
  {
    "text": "me this was a crucial decision this was potentially a billion-dollar decision we",
    "start": "919930",
    "end": "929530"
  },
  {
    "text": "didn't have that much time to make the choice because we knew it was going to take a lot of work she executes and we really had one shot",
    "start": "929530",
    "end": "937270"
  },
  {
    "text": "at this I think that this was for me one of the hardest decisions that I had to",
    "start": "937270",
    "end": "943330"
  },
  {
    "text": "help support and get the support of the team for in my role and I'm glad that it",
    "start": "943330",
    "end": "950590"
  },
  {
    "text": "worked out otherwise I probably wouldn't be here speaking about it but of course you know we're sharing some of these",
    "start": "950590",
    "end": "955780"
  },
  {
    "text": "lessons with you all today but yeah we had one shot and we said let's do this let's move to DynamoDB let's give this a",
    "start": "955780",
    "end": "962200"
  },
  {
    "text": "shot Ryan's going to talk about what that journey looked like yep so I kind of just walk you through our like process",
    "start": "962200",
    "end": "969430"
  },
  {
    "text": "of creating a table and integrating to integrating it into an application and show you how easy it was for us",
    "start": "969430",
    "end": "974920"
  },
  {
    "text": "considering like we had zero experience with dynamo beforehand so first let's",
    "start": "974920",
    "end": "980320"
  },
  {
    "text": "just dive into what dynamo DB is it's Amazon's managed fully managed key value",
    "start": "980320",
    "end": "985960"
  },
  {
    "text": "store and had a bunch of features that we were really looking for so Auto Scone was a big one so I mentioned we didn't want to look at",
    "start": "985960",
    "end": "991870"
  },
  {
    "text": "it ever and that's what all's going kind of allows us to should allow us to do TTL were nice because we like we have a",
    "start": "991870",
    "end": "998980"
  },
  {
    "text": "future where we expire links so this would make make that really really easy we don't have to like manually TTL them",
    "start": "998980",
    "end": "1004350"
  },
  {
    "text": "ourselves putting time recovery predictable cost growth those are features that a lot of databases have",
    "start": "1004350",
    "end": "1010620"
  },
  {
    "text": "but for a predictable cost growth dynamodb has like a like a cost predictor and it shows you the price as",
    "start": "1010620",
    "end": "1016290"
  },
  {
    "text": "soon as you enter your requested resources on the site so that was really nice and increasingly integrated caching",
    "start": "1016290",
    "end": "1023220"
  },
  {
    "text": "and I'm observability something I'll get into later on so this star graph shows",
    "start": "1023220",
    "end": "1029490"
  },
  {
    "start": "1026000",
    "end": "1134000"
  },
  {
    "text": "our initial schema so pre dynamo it's what you really need to get from this",
    "start": "1029490",
    "end": "1035280"
  },
  {
    "text": "diagram is that is that we our links were keyed by link ID so I showed in a",
    "start": "1035280",
    "end": "1040410"
  },
  {
    "text": "previous slide links are composed of a domain and an alias and in most cases that Elias is an encoded link ID so we",
    "start": "1040410",
    "end": "1047130"
  },
  {
    "text": "just decode that ID and look up the link by ID we also have a feature where you can have like vanity links where the",
    "start": "1047130",
    "end": "1053280"
  },
  {
    "text": "alias is like a custom string so you can have your domain slash like foo and that would be a Banerjee link because you got",
    "start": "1053280",
    "end": "1058800"
  },
  {
    "text": "to pick the string that the link is aliased by so for link lookups our",
    "start": "1058800",
    "end": "1064260"
  },
  {
    "text": "primary index was link ID so when we had a Elias Lincoln we need to resolve it we had to like do two hops because we had a",
    "start": "1064260",
    "end": "1071070"
  },
  {
    "text": "secondary index of Linc Elias to link ID but what we realized is that we could",
    "start": "1071070",
    "end": "1076320"
  },
  {
    "text": "have we could drastically simplify this flow by just having links keyed by",
    "start": "1076320",
    "end": "1082010"
  },
  {
    "text": "domain plus Elias because even those encoded link ID links there still look",
    "start": "1082010",
    "end": "1088110"
  },
  {
    "text": "up a bull by domain plus Elias because it just got the alias in this case as an encoded link ID so if we go into the",
    "start": "1088110",
    "end": "1094590"
  },
  {
    "text": "next slide you can kind of see our dynamo architecture that we kind of inverted the indices so now instead of",
    "start": "1094590",
    "end": "1100440"
  },
  {
    "text": "link ID being the primary index domain plus aliases so this is really great",
    "start": "1100440",
    "end": "1106440"
  },
  {
    "text": "because our Margay Shinto Dan will gave us opportunity to make this change and optimize our read path significantly so",
    "start": "1106440",
    "end": "1112620"
  },
  {
    "text": "instead for a majority of links we all need to do one hop and for those cases where we still needed to do link ID",
    "start": "1112620",
    "end": "1117750"
  },
  {
    "text": "lookups but for kind of like internal use cases for the most part they require",
    "start": "1117750",
    "end": "1123390"
  },
  {
    "text": "two hops but we were willing to make that sacrifice because it wasn't affecting our customers in most cases our customers would see increased",
    "start": "1123390",
    "end": "1130020"
  },
  {
    "text": "performance because all links resolution wise should take only one lookup so this",
    "start": "1130020",
    "end": "1136230"
  },
  {
    "start": "1134000",
    "end": "1154000"
  },
  {
    "text": "is just the create table UI just to show how simple it is to create a table in dynamo dB you just specify the table",
    "start": "1136230",
    "end": "1142170"
  },
  {
    "text": "name and the attribute for your primary key and you could create and it already comes with a bunch of great features out",
    "start": "1142170",
    "end": "1147810"
  },
  {
    "text": "of the box like auto scaling encryption at rest which is great for compliance",
    "start": "1147810",
    "end": "1153410"
  },
  {
    "text": "yeah so in our application when like defining",
    "start": "1153950",
    "end": "1160200"
  },
  {
    "start": "1154000",
    "end": "1194000"
  },
  {
    "text": "the schema you don't define the Daniel schema when you create the table you define it in your application so this is",
    "start": "1160200",
    "end": "1165270"
  },
  {
    "text": "kind of a lot of stuff einer schema is code so this is the Java version of that you can kind of see that all we really",
    "start": "1165270",
    "end": "1170790"
  },
  {
    "text": "had to do was take our link class which is like this link item class and add the annotations provided to us by the",
    "start": "1170790",
    "end": "1176850"
  },
  {
    "text": "dynamodb library in Java so all these like at that number DB attribute with",
    "start": "1176850",
    "end": "1182250"
  },
  {
    "text": "the attribute name it just mapping up an attribute in a class to a given Dino to",
    "start": "1182250",
    "end": "1188310"
  },
  {
    "text": "be a column so like app ID would be a and data in this case would be J so",
    "start": "1188310",
    "end": "1196800"
  },
  {
    "start": "1194000",
    "end": "1247000"
  },
  {
    "text": "another thing that we have that we use a lot was the dynamo DB console UI allows you to get items in through the UI and see the",
    "start": "1196800",
    "end": "1206370"
  },
  {
    "text": "objects directly without having to quit yourself so this was really useful because there's a lot of people with like you don't need to write scripts you",
    "start": "1206370",
    "end": "1212670"
  },
  {
    "text": "don't need people that were not technical we're able to go into the console and view links directly in their",
    "start": "1212670",
    "end": "1218460"
  },
  {
    "text": "raw form so this is an example of a simplified raw link so these are not all the fields but we just mocked one up and",
    "start": "1218460",
    "end": "1224730"
  },
  {
    "text": "people could go in and edit links directly so for instance if we got a ticket in for some like a link deletion",
    "start": "1224730",
    "end": "1230610"
  },
  {
    "text": "or something similar you wouldn't need someone technical to do that you could just go into the UI look at the link see",
    "start": "1230610",
    "end": "1236400"
  },
  {
    "text": "what exactly is wrong with it and modify it without any code at all so this was a",
    "start": "1236400",
    "end": "1242220"
  },
  {
    "text": "really nice feature that we used a lot especially when we were debugging during our migration and and this is an example",
    "start": "1242220",
    "end": "1249270"
  },
  {
    "start": "1247000",
    "end": "1291000"
  },
  {
    "text": "of using the Java client library that Amazon provides it's really really simple so it's that put on it's put on",
    "start": "1249270",
    "end": "1256080"
  },
  {
    "text": "request as a class that you can put an item onto and another nice feature was condition expressions which address",
    "start": "1256080",
    "end": "1262290"
  },
  {
    "text": "conditional rights and that attribute not exists expression specimen means",
    "start": "1262290",
    "end": "1267360"
  },
  {
    "text": "that the write would fail if that key exists so U is the primary key and if the specified you in the item exists the",
    "start": "1267360",
    "end": "1274320"
  },
  {
    "text": "write would fail so this can get a lot more complex like for instance for expiring links you can specify that the",
    "start": "1274320",
    "end": "1280380"
  },
  {
    "text": "expiry on a link is less than the current time and do expiring links that way and it's a feature that we leveraged",
    "start": "1280380",
    "end": "1288210"
  },
  {
    "text": "a lot for a lot of our like linking features so before we get into the migration something that I'd like to",
    "start": "1288210",
    "end": "1295050"
  },
  {
    "start": "1291000",
    "end": "1405000"
  },
  {
    "text": "highlight is like how having a service-oriented architecture allowed us to do this migration or a lot smoothly",
    "start": "1295050",
    "end": "1301860"
  },
  {
    "text": "than it should have been so at branch we kind of have a",
    "start": "1301860",
    "end": "1306870"
  },
  {
    "text": "separation of concerns where we have lower level services that product services consume so we have a link",
    "start": "1306870",
    "end": "1313050"
  },
  {
    "text": "service that all it does is it it's a dump service that serves links it lets you create links read links and that's",
    "start": "1313050",
    "end": "1318780"
  },
  {
    "text": "it and other services call this call link service to retrieve links or modify",
    "start": "1318780",
    "end": "1324360"
  },
  {
    "text": "links and stuff like that so it's kind of a data access layer so what this",
    "start": "1324360",
    "end": "1329670"
  },
  {
    "text": "allows us to do in the migration was make a change in one service and iterate on that one service quickly",
    "start": "1329670",
    "end": "1334900"
  },
  {
    "text": "without like having to make changes anywhere else so for upstream consumers is transparent they didn't even know the",
    "start": "1334900",
    "end": "1340720"
  },
  {
    "text": "database was changing under them so that made it really really easy for us in our team to do this migration without like",
    "start": "1340720",
    "end": "1346960"
  },
  {
    "text": "upsetting anyone yeah I'll also call out that organizationally again this was three",
    "start": "1346960",
    "end": "1354070"
  },
  {
    "text": "years into our fast-growing company's history this separation of concerns the",
    "start": "1354070",
    "end": "1360010"
  },
  {
    "text": "architectural patterns that we started seeing in our infrastructure of course mirrored the organizational structure",
    "start": "1360010",
    "end": "1366400"
  },
  {
    "text": "that was building it and it was crucial that our product and engineering teams",
    "start": "1366400",
    "end": "1371410"
  },
  {
    "text": "were executing and delivering on new features and not being distracted necessarily by these core scalability",
    "start": "1371410",
    "end": "1378070"
  },
  {
    "text": "challenges similarly below this dotted line we had our platform and infrastructure team that of course was",
    "start": "1378070",
    "end": "1384010"
  },
  {
    "text": "very interested and wanted to support the product development but we had them focus on these core scalability",
    "start": "1384010",
    "end": "1390100"
  },
  {
    "text": "challenges both teams are executing in parallel again it was a 30-person team and we were shipping a ton of features",
    "start": "1390100",
    "end": "1396700"
  },
  {
    "text": "every week but this both SOA architectural pattern as well as organizational split allowed us to",
    "start": "1396700",
    "end": "1403210"
  },
  {
    "text": "achieve both of these goals so for the migration the main requirement was we",
    "start": "1403210",
    "end": "1410170"
  },
  {
    "start": "1405000",
    "end": "1590000"
  },
  {
    "text": "need to do it live and so we as you said earlier we couldn't have any downtime for links it just wasn't acceptable so",
    "start": "1410170",
    "end": "1417000"
  },
  {
    "text": "we need to at the same time while links are being sorted out of our old datastore ensure that our new datastore",
    "start": "1417000",
    "end": "1423760"
  },
  {
    "text": "was working and nothing was broken before we cut it off so the way we did",
    "start": "1423760",
    "end": "1429280"
  },
  {
    "text": "this was kind of a three-stage approach first we started off with dual rights where and our link service we wrote",
    "start": "1429280",
    "end": "1435220"
  },
  {
    "text": "links when they would would have been written normally to both data stores so we wrote it to our old data store and",
    "start": "1435220",
    "end": "1440830"
  },
  {
    "text": "dynamodb and we didn't serve any links from Dino TV so this allowed us to do like a lot of early debugging and kind",
    "start": "1440830",
    "end": "1447970"
  },
  {
    "text": "of POC dynamo because it was getting our full production write traffic without any consequences to us because it was",
    "start": "1447970",
    "end": "1453640"
  },
  {
    "text": "happening asynchronously so that was a really big boon for us we found a lot of",
    "start": "1453640",
    "end": "1459160"
  },
  {
    "text": "issues during this time and fixed a lot of bugs but without doing rights I think it would have been a lot worse if the if",
    "start": "1459160",
    "end": "1467290"
  },
  {
    "text": "we had issues writing links so after do rights we also started to do dual reads which meant that once uma",
    "start": "1467290",
    "end": "1474200"
  },
  {
    "text": "tried to resolve a link we would try to find it in dynamo if we didn't or if something went wrong we would still have",
    "start": "1474200",
    "end": "1479960"
  },
  {
    "text": "the opportunity to fall back to our old data store which was still there and still being used as normal so in the",
    "start": "1479960",
    "end": "1485899"
  },
  {
    "text": "next slide we kind of go through the timeline so in the red you can kind of",
    "start": "1485899",
    "end": "1491570"
  },
  {
    "text": "see our old data store and how we started off with dual rights first with our full production to K bytes per second traffic and after the direct was",
    "start": "1491570",
    "end": "1498799"
  },
  {
    "text": "turned on it provided us with like kind of a hard time like a point in time at",
    "start": "1498799",
    "end": "1503929"
  },
  {
    "text": "which we only need to migrate links before that point because links after that point should have been migrated through the normal production write",
    "start": "1503929",
    "end": "1509960"
  },
  {
    "text": "process if nothing went wrong so once the write started we start to focus on",
    "start": "1509960",
    "end": "1516110"
  },
  {
    "text": "the migration which in later side you'll kind of you'll see how much work that",
    "start": "1516110",
    "end": "1521480"
  },
  {
    "text": "Turk but once the migration was in place we were able to start do reads in the middle of it because we should we had a",
    "start": "1521480",
    "end": "1528860"
  },
  {
    "text": "metric that was able to track what percentage of links we successfully served from the news8 earth or being",
    "start": "1528860",
    "end": "1534169"
  },
  {
    "text": "dynamo and it gave us a really good really good insight into like how far",
    "start": "1534169",
    "end": "1539179"
  },
  {
    "text": "along the migration was because as that metric trended up 200% we could tell like oh how do we have all the links",
    "start": "1539179",
    "end": "1545090"
  },
  {
    "text": "like our links actually working from DynamoDB or not yeah and as Ryan",
    "start": "1545090",
    "end": "1551720"
  },
  {
    "text": "mentioned this dual read do a right path allowed us to POC a new data store at",
    "start": "1551720",
    "end": "1558169"
  },
  {
    "text": "effectively whatever percentage of production traffic we wanted we were able to POC the right path which again",
    "start": "1558169",
    "end": "1563720"
  },
  {
    "text": "at the time was about two thousand rights per second and we were able to POC the read path due latency",
    "start": "1563720",
    "end": "1571340"
  },
  {
    "text": "evaluations to figure out what what kind of scalability metrics we can see again",
    "start": "1571340",
    "end": "1576529"
  },
  {
    "text": "it was about 2,000 reads per second on the dynamo side and all the while in parallel while we were doing the dual",
    "start": "1576529",
    "end": "1582619"
  },
  {
    "text": "reads and the dual writes we were simultaneously migrating 40 billion links from one data store to another so",
    "start": "1582619",
    "end": "1591080"
  },
  {
    "start": "1590000",
    "end": "1684000"
  },
  {
    "text": "yeah so this is this is kind of like one of my favorite graphs it shows the migration process so so the blue the",
    "start": "1591080",
    "end": "1598759"
  },
  {
    "text": "blue line is kind of the red capacity we have so and that MOU specify how much",
    "start": "1598759",
    "end": "1604190"
  },
  {
    "text": "capacity you want and you pay for that and the orange line is kind of how much is actually being used so in an ideal",
    "start": "1604190",
    "end": "1610430"
  },
  {
    "text": "world you would use a hundred percent of what you provision because you're paying for it anyway so you can kind of see",
    "start": "1610430",
    "end": "1615830"
  },
  {
    "text": "here that steady-state low constant level is the production traffic of 2000 rights per second and these like huge",
    "start": "1615830",
    "end": "1623330"
  },
  {
    "text": "spikes up to like almost 100k or the migration taking place and the fact that",
    "start": "1623330",
    "end": "1628370"
  },
  {
    "text": "we can do this it was really amazing to kind of our team because we were able to scale up and down like 50x with no",
    "start": "1628370",
    "end": "1635420"
  },
  {
    "text": "questions asked so this allowed us to migrate at our own pace and like if we",
    "start": "1635420",
    "end": "1640910"
  },
  {
    "text": "were to do this with another data store our ops team would have to scale up the new data store and 50x in order for us",
    "start": "1640910",
    "end": "1648170"
  },
  {
    "text": "to complete the migration in the same amount of time and as Ian mentioned many times time was kind of an important",
    "start": "1648170",
    "end": "1653870"
  },
  {
    "text": "factor here we need to get off the old data store as fast as possible and dynamo gave us the way to do that with",
    "start": "1653870",
    "end": "1659840"
  },
  {
    "text": "auto scaling yeah this is also a cool graph it's this is the percentage stored",
    "start": "1659840",
    "end": "1665600"
  },
  {
    "text": "from the new data store near that near the tail end of the migration so you kind of see it's at like 98 percent and",
    "start": "1665600",
    "end": "1670790"
  },
  {
    "text": "it's turning all the way up to almost one and this is kind of when we call it quits were like yeah it's good enough",
    "start": "1670790",
    "end": "1676490"
  },
  {
    "text": "five five nines it's higher than our service our sr so we had all the links",
    "start": "1676490",
    "end": "1684340"
  },
  {
    "start": "1684000",
    "end": "1729000"
  },
  {
    "text": "so now getting into the DevOps part dynamodb this was really easy to set up",
    "start": "1684430",
    "end": "1690200"
  },
  {
    "text": "they have cloud watch and alerting built in so we kind of got a lot of that for free and this graph at the bottom is kind of",
    "start": "1690200",
    "end": "1698240"
  },
  {
    "text": "our our traffic now it's it's so the orange line again is provisioned and or and the blue is consumed and we set a",
    "start": "1698240",
    "end": "1704540"
  },
  {
    "text": "buffer of like 30% so we always want to be over-provision 30% to like handle any insane spikes in traffic because it does",
    "start": "1704540",
    "end": "1710750"
  },
  {
    "text": "take a few minutes to scale up and down at when the traffic changes so you can see if our traffic is very sinusoidal",
    "start": "1710750",
    "end": "1716990"
  },
  {
    "text": "and it really helps up with cost wise and also like just ops wise because when",
    "start": "1716990",
    "end": "1722360"
  },
  {
    "text": "there is a person traffic usually we don't even know because dynamo scales it up goes up itself so much so quickly so",
    "start": "1722360",
    "end": "1731300"
  },
  {
    "start": "1729000",
    "end": "1810000"
  },
  {
    "text": "another useful tool that dynamo provides is which is kind of its integrated caching",
    "start": "1731300",
    "end": "1737600"
  },
  {
    "text": "solution so at the beginning I mentioned that links we care about link read",
    "start": "1737600",
    "end": "1742669"
  },
  {
    "text": "latency that's kind of the customer evaded facing latency and another interesting pattern that links have is",
    "start": "1742669",
    "end": "1749419"
  },
  {
    "text": "that there are usually very few hot links so like when someone runs an ad campaign or like some link it's popular",
    "start": "1749419",
    "end": "1755750"
  },
  {
    "text": "and reddit an individual link gets a lot of clicks so caching seems was an",
    "start": "1755750",
    "end": "1761659"
  },
  {
    "text": "obvious solution for this and Dax made it so easy to add to dynamo so to add",
    "start": "1761659",
    "end": "1766820"
  },
  {
    "text": "Dax to it through our dynamo DB was it was almost a one-click process but the main benefit of it was that our code",
    "start": "1766820",
    "end": "1772190"
  },
  {
    "text": "didn't change at all you just swap out the jar it's fully dynamic the DAX is fully DynamoDB compatible and it just",
    "start": "1772190",
    "end": "1779000"
  },
  {
    "text": "just work so it also provided a couple other benefits like multi AZ so you can",
    "start": "1779000",
    "end": "1784010"
  },
  {
    "text": "see like the access nodes can run multiple AZ's which gives you kind of",
    "start": "1784010",
    "end": "1789380"
  },
  {
    "text": "better uptime and reliability and that graph on the right is our cache hit rate so roughly like 80% of links right now",
    "start": "1789380",
    "end": "1796940"
  },
  {
    "text": "are being served from Dax which makes them faster because it's being served from in an in-memory cache and cheaper",
    "start": "1796940",
    "end": "1803539"
  },
  {
    "text": "for us because we don't pay for that read capacity would have otherwise had to pay for because we're not touching the dynamodb directly and these are just",
    "start": "1803539",
    "end": "1812210"
  },
  {
    "start": "1810000",
    "end": "1892000"
  },
  {
    "text": "a couple additional features that 10lb DynamoDB provide some Krypton at rest really good for compliance we kind of",
    "start": "1812210",
    "end": "1818690"
  },
  {
    "text": "got that for free when they released it putting time backups something that we don't use it but we're planning on using",
    "start": "1818690",
    "end": "1825080"
  },
  {
    "text": "so that just in case something bad happens to our link DB and mean to restore to a previous version and global",
    "start": "1825080",
    "end": "1831380"
  },
  {
    "text": "tables and secondary indexes most features we don't take advantage of yet but it may be useful in the future just",
    "start": "1831380",
    "end": "1839330"
  },
  {
    "text": "a couple metrics from our production link database we use directly from the",
    "start": "1839330",
    "end": "1844700"
  },
  {
    "text": "DB are served usually within three milliseconds as a 95th writes at five milliseconds cache treats from Dax we",
    "start": "1844700",
    "end": "1850640"
  },
  {
    "text": "don't have hard metrics on this we just know is faster than one millisecond so that was that's really good considering",
    "start": "1850640",
    "end": "1857030"
  },
  {
    "text": "that's what the users experience from the database we have 60 terabytes of links and 75 billion objects so roughly",
    "start": "1857030",
    "end": "1864470"
  },
  {
    "text": "1k maybe a little bit less per link on average and the scale ups we like the fact that",
    "start": "1864470",
    "end": "1870970"
  },
  {
    "text": "it can scale up up to 50 X in minutes was just amazing to us and it's",
    "start": "1870970",
    "end": "1877510"
  },
  {
    "text": "something like if you contact Amazon like during the migration you can actually ask them to scale up even like",
    "start": "1877510",
    "end": "1883270"
  },
  {
    "text": "more or faster so it was nice to have that option too in case we need to do some sort of like a large scan or our",
    "start": "1883270",
    "end": "1888280"
  },
  {
    "text": "data or some analytics the option is there all right so one year later so",
    "start": "1888280",
    "end": "1896910"
  },
  {
    "start": "1892000",
    "end": "2019000"
  },
  {
    "text": "currently we actually don't really think that much of that that much about our link database on the platform team it",
    "start": "1896910",
    "end": "1902890"
  },
  {
    "text": "kind of just it just works so it's one of the few databases that in application",
    "start": "1902890",
    "end": "1908380"
  },
  {
    "text": "team owns because we don't have to do anything so we're happy to own it it doesn't have we haven't had any",
    "start": "1908380",
    "end": "1913780"
  },
  {
    "text": "incidents there are latency spikes occasionally very occasionally but majority of time those are mitigated by",
    "start": "1913780",
    "end": "1919390"
  },
  {
    "text": "having Dax there so even though the DV see the spike in latency customers don't see it because it's the links are cached",
    "start": "1919390",
    "end": "1926580"
  },
  {
    "text": "yeah so you know we we try to lay out a huge section for lessons learned a year",
    "start": "1926580",
    "end": "1932860"
  },
  {
    "text": "later we completed the migration I think this week one year ago and the reality",
    "start": "1932860",
    "end": "1939070"
  },
  {
    "text": "was as Ryan mentioned we barely ever touched dynamo somewhat ironic for a",
    "start": "1939070",
    "end": "1944650"
  },
  {
    "text": "tech talk today on dynamo DB but after we concluded the migration we were very",
    "start": "1944650",
    "end": "1950110"
  },
  {
    "text": "fortunate to barely ever need to get involved like we love dynamo dynamos working but we basically never need to",
    "start": "1950110",
    "end": "1957430"
  },
  {
    "text": "think about dynamo which has been awesome and from a success criteria perspective as we mentioned at the",
    "start": "1957430",
    "end": "1963970"
  },
  {
    "text": "beginning little to no ops oversight was one of our requirements and a year later",
    "start": "1963970",
    "end": "1970930"
  },
  {
    "text": "that's exactly what we got when we need to make improvements when we need to iterate on it we dive in but when we",
    "start": "1970930",
    "end": "1977380"
  },
  {
    "text": "need to continue throwing production traffic at it it just works and it just scales and I think that that is everything that you could ask for in a",
    "start": "1977380",
    "end": "1983590"
  },
  {
    "text": "manager database one year later I think one of the biggest takeaways for me is the simplified cost modeling so again as",
    "start": "1983590",
    "end": "1991720"
  },
  {
    "text": "you're growing and scaling your company how you think about optics and capex is",
    "start": "1991720",
    "end": "1997000"
  },
  {
    "text": "crucial and I'll talk a little bit about TCO and how to calculate cost of a data store but",
    "start": "1997000",
    "end": "2002350"
  },
  {
    "text": "because we move this entire cost center into dynamo it appears as basically one",
    "start": "2002350",
    "end": "2007630"
  },
  {
    "text": "line item on your AWS bill which from my perspective is great it makes my life",
    "start": "2007630",
    "end": "2012850"
  },
  {
    "text": "and my job a lot easier even if it's not a opps or an application-level kind of benefit so I'm gonna walk",
    "start": "2012850",
    "end": "2020770"
  },
  {
    "start": "2019000",
    "end": "2081000"
  },
  {
    "text": "through some of the key takeaways that we learn from this experience we talked a little bit about how we got there the",
    "start": "2020770",
    "end": "2027040"
  },
  {
    "text": "journey we took as well as some of the technical considerations I think having",
    "start": "2027040",
    "end": "2033820"
  },
  {
    "text": "this clear evaluation framework for how to make a technology choice is crucial it is very easy to get distracted by all",
    "start": "2033820",
    "end": "2042280"
  },
  {
    "text": "of the options out there and perhaps pick a technology whether it's a database or maybe a compute for them",
    "start": "2042280",
    "end": "2047680"
  },
  {
    "text": "that is really not relevant to your your problem Ryan spent a lot of time talking",
    "start": "2047680",
    "end": "2053408"
  },
  {
    "text": "about the very specific nuances of how we use links what we needed what we",
    "start": "2053409",
    "end": "2058419"
  },
  {
    "text": "didn't need you know I saw a few people taking notes that's great but unless you're also making a mobile deep linking",
    "start": "2058419",
    "end": "2065110"
  },
  {
    "text": "an attribution company and if you are let's talk afterwards but unless you're making that exact use case your use case",
    "start": "2065110",
    "end": "2070510"
  },
  {
    "text": "will be different so we had to enumerate what our important criteria were and that's how we made a very objective",
    "start": "2070510",
    "end": "2076590"
  },
  {
    "text": "non-emotional decision on this technology choice we talked about",
    "start": "2076590",
    "end": "2082120"
  },
  {
    "start": "2081000",
    "end": "2123000"
  },
  {
    "text": "separation of concerns both architectural II and organizationally even at a small growing startup I",
    "start": "2082120",
    "end": "2090128"
  },
  {
    "text": "thought that ensuring we invested in the core scalability of our infrastructure as well as enabling the product team to",
    "start": "2090129",
    "end": "2097148"
  },
  {
    "text": "continue to ship and iterate that early in our company stage was pretty life-or-death because I think back to",
    "start": "2097149",
    "end": "2103980"
  },
  {
    "text": "2017 if I had told the product and ends team stop what you're building for the next six months because we're all hands",
    "start": "2103980",
    "end": "2110500"
  },
  {
    "text": "on deck migrating this data store as a early-stage startup that would have been like near death that would have been a",
    "start": "2110500",
    "end": "2117520"
  },
  {
    "text": "disaster and we were able to avoid that particular pitfall don't over engineer",
    "start": "2117520",
    "end": "2125590"
  },
  {
    "start": "2123000",
    "end": "2172000"
  },
  {
    "text": "your solutions I intentionally shared that diagram of one of the options that we considered I personally find database",
    "start": "2125590",
    "end": "2133570"
  },
  {
    "text": "design and scalability very interesting and I would love to design my own key value database but I",
    "start": "2133570",
    "end": "2140110"
  },
  {
    "text": "think the stakes were high time was tough as tempting as it was to ask Ryan",
    "start": "2140110",
    "end": "2147190"
  },
  {
    "text": "hey your job for the next six months is to build something better than you know one of the 50 key value stores that I",
    "start": "2147190",
    "end": "2153550"
  },
  {
    "text": "enumerated I think that would have been a terrible decision on my part I probably wouldn't have been standing here right now and speaking to",
    "start": "2153550",
    "end": "2160060"
  },
  {
    "text": "you about our journey but you know there's a lot of simplicity and picking",
    "start": "2160060",
    "end": "2166180"
  },
  {
    "text": "a tool like dynamo and this is one of the choices that we made so the true TCO",
    "start": "2166180",
    "end": "2174460"
  },
  {
    "start": "2172000",
    "end": "2225000"
  },
  {
    "text": "or the total cost of ownership and this is usually one of the cost evaluation frameworks that you're going to use when",
    "start": "2174460",
    "end": "2179920"
  },
  {
    "text": "you're picking a piece of technology has a lot of hidden costs it would have been very convenient for me to just say okay",
    "start": "2179920",
    "end": "2185620"
  },
  {
    "text": "the cost of option one is how much ec2 hardware I'm going to need in order to",
    "start": "2185620",
    "end": "2191290"
  },
  {
    "text": "deploy it but the reality when you're doing this ad comparison is how much ec2",
    "start": "2191290",
    "end": "2196420"
  },
  {
    "text": "hardware do you need how much EBS and disk volumes do you need what's the data transfer in and out of that zone or that",
    "start": "2196420",
    "end": "2202450"
  },
  {
    "text": "network what are the salaries of the engineers that are going to build it maintain it and support it are you gonna",
    "start": "2202450",
    "end": "2208510"
  },
  {
    "text": "be using any particular enterprise software that might require licensing and of course as I mentioned earlier",
    "start": "2208510",
    "end": "2214750"
  },
  {
    "text": "what's the opportunity cost your company when you're building this new database or maintaining a new database when you",
    "start": "2214750",
    "end": "2220900"
  },
  {
    "text": "should be shipping and building new features I referenced the billing of",
    "start": "2220900",
    "end": "2227670"
  },
  {
    "start": "2225000",
    "end": "2271000"
  },
  {
    "text": "dynamo and it simplified the cost modeling for us the cost modeling tool",
    "start": "2227670",
    "end": "2232900"
  },
  {
    "text": "that we used when we planned this out mirrored exactly what we ended up seeing when we went full-scale production when",
    "start": "2232900",
    "end": "2238630"
  },
  {
    "text": "we did the migration we knew there was going to be bursts of high volume of throughput and that's the you know the",
    "start": "2238630",
    "end": "2244330"
  },
  {
    "text": "cost that we saw now that we're at production scale and it's smooth and humming along it's very very predictable",
    "start": "2244330",
    "end": "2249730"
  },
  {
    "text": "and again depending on how big your deployment is on Amazon right now if it's like one page I'm very envious of",
    "start": "2249730",
    "end": "2256720"
  },
  {
    "text": "you but if you're operating at our scale your AWS bill might be you know a nice long hundred page novel but seeing a one",
    "start": "2256720",
    "end": "2263560"
  },
  {
    "text": "line item of dynamo storage makes again my life easier in Cosmo a lot easier don't move",
    "start": "2263560",
    "end": "2272360"
  },
  {
    "start": "2271000",
    "end": "2344000"
  },
  {
    "text": "everything at once you know this talk about dynamo a lot of it was about migrations I've seen a lot of companies",
    "start": "2272360",
    "end": "2279860"
  },
  {
    "text": "fall into the pitfall of saying we're moving to a new data store and the first thing they do is plan out how they're",
    "start": "2279860",
    "end": "2286550"
  },
  {
    "text": "gonna move everything we have a ton of different data models within our infrastructure links as Ryan spent the",
    "start": "2286550",
    "end": "2293630"
  },
  {
    "text": "the talk discussing was just one of them as a start-up again our data model in",
    "start": "2293630",
    "end": "2299300"
  },
  {
    "text": "our schema was constantly evolving as we started to see product market fit certain data models and certain schemas",
    "start": "2299300",
    "end": "2306320"
  },
  {
    "text": "started to converge - this is clearly how links are gonna work today and this is probably how they're going to work in",
    "start": "2306320",
    "end": "2311780"
  },
  {
    "text": "a few years from now so this was the clear candidate that we chose to move into a new data store and it was you",
    "start": "2311780",
    "end": "2318290"
  },
  {
    "text": "know it was very convenient it was a very seamless process as we discussed but if we had tried to pick a data store",
    "start": "2318290",
    "end": "2325220"
  },
  {
    "text": "that would have fit every single data model that we had it would have been near impossible and we would have had",
    "start": "2325220",
    "end": "2331070"
  },
  {
    "text": "option paralysis we wouldn't have made a decision and of course that would have been pretty terrible so you know don't",
    "start": "2331070",
    "end": "2337130"
  },
  {
    "text": "move everything at once pick what you actually need to move pick what's important for your company and then a",
    "start": "2337130",
    "end": "2344960"
  },
  {
    "start": "2344000",
    "end": "2378000"
  },
  {
    "text": "planning I've gotten different heuristics from different founders and CTOs about big technology shifts and it's not",
    "start": "2344960",
    "end": "2351860"
  },
  {
    "text": "just isolated to data migrations these projects are gonna take six plus months",
    "start": "2351860",
    "end": "2357650"
  },
  {
    "text": "so you have to plan accordingly it seems like you know even something like what",
    "start": "2357650",
    "end": "2364550"
  },
  {
    "text": "Ryan described was very painless it was very seamless but it isn't just the",
    "start": "2364550",
    "end": "2369560"
  },
  {
    "text": "development time I think I mean how many Sprint's are how long did you actually spend coding and integrating it you just",
    "start": "2369560",
    "end": "2375230"
  },
  {
    "text": "stopped doing sprints they're just like we're doing in danville again this week yeah yeah so the the coding part in the",
    "start": "2375230",
    "end": "2380330"
  },
  {
    "start": "2378000",
    "end": "2443000"
  },
  {
    "text": "development part was actually pretty straightforward but the evaluation the cost modeling the migration the testing",
    "start": "2380330",
    "end": "2387170"
  },
  {
    "text": "and validation and then of course making sure that things scaled and hummed along so when it baked into production this",
    "start": "2387170",
    "end": "2393950"
  },
  {
    "text": "was over about a six month period so it's not going to happen overnight maybe if you're at a",
    "start": "2393950",
    "end": "2400580"
  },
  {
    "text": "smaller-scale and you're able to pull an all-nighter on a weekend and swap out your database like great but if you",
    "start": "2400580",
    "end": "2406190"
  },
  {
    "text": "don't have that luxury or if you don't have the luxury of telling your customers hey we're gonna be down for a couple days just chill while we kind of",
    "start": "2406190",
    "end": "2412700"
  },
  {
    "text": "swap out in the data store you you have to plan accordingly I shared a graph a very scary graph",
    "start": "2412700",
    "end": "2418700"
  },
  {
    "text": "earlier on usually up in to the right is the graph that all startups want to see but when that's a cost function or when",
    "start": "2418700",
    "end": "2425450"
  },
  {
    "text": "that's a capacity function and you have a clear red line and you can you know just eyeball on the chart okay in five",
    "start": "2425450",
    "end": "2431540"
  },
  {
    "text": "months we're gonna hit a brick wall maybe it'll be too late so I think that we made this decision barely at the last",
    "start": "2431540",
    "end": "2438830"
  },
  {
    "text": "minute but we got it done and we got it in there and then the last takeaway",
    "start": "2438830",
    "end": "2444080"
  },
  {
    "start": "2443000",
    "end": "2524000"
  },
  {
    "text": "before we go to questions in hyper growth mode realistically the ideal",
    "start": "2444080",
    "end": "2450440"
  },
  {
    "text": "technology solution might only last you two years and this might seem",
    "start": "2450440",
    "end": "2455660"
  },
  {
    "text": "counterintuitive because when we're about to migrate off one data store to another ideally you'd say let's never do",
    "start": "2455660",
    "end": "2461840"
  },
  {
    "text": "this again but the reality is it's impossible to predict what our use case is gonna be as",
    "start": "2461840",
    "end": "2466970"
  },
  {
    "text": "we're growing at an exponential rate I'm hoping you know year later we don't see",
    "start": "2466970",
    "end": "2472070"
  },
  {
    "text": "any reason why we're gonna have to change this but as you evaluate some of these technology decisions avoid the",
    "start": "2472070",
    "end": "2478340"
  },
  {
    "text": "pitfall of saying I'm gonna build and design something and I'm never gonna have to look at it again because the reality is a month later you might get a",
    "start": "2478340",
    "end": "2485360"
  },
  {
    "text": "new customer that completely violates or breaks all of the principles or assumptions that you originally had or",
    "start": "2485360",
    "end": "2490550"
  },
  {
    "text": "maybe a year and a half later that huge massive project that you invested in that was this golden perfect data store",
    "start": "2490550",
    "end": "2497630"
  },
  {
    "text": "or compute framework or MVC framework or whatever it was the customers didn't end",
    "start": "2497630",
    "end": "2503360"
  },
  {
    "text": "up using that product and they used something else and that investment was kind of a waste so at this growth phase",
    "start": "2503360",
    "end": "2511010"
  },
  {
    "text": "be very pragmatic that the solution that you are building it needs to get you through the next couple years but you",
    "start": "2511010",
    "end": "2517940"
  },
  {
    "text": "know you're gonna have to reevaluate these decisions every year or every other year cool so I hope that you got",
    "start": "2517940",
    "end": "2525650"
  },
  {
    "start": "2524000",
    "end": "2587000"
  },
  {
    "text": "an overview of how our company scaled how we use dynamo the talk was entitled",
    "start": "2525650",
    "end": "2531800"
  },
  {
    "text": "scaling from zero to billions because it covered both the zero traffic when we first",
    "start": "2531800",
    "end": "2536900"
  },
  {
    "text": "started to the billions of links and clicks and transactions that were serving today we're a five year old",
    "start": "2536900",
    "end": "2543500"
  },
  {
    "text": "company we're down in Redwood City we're very fortunate to have gone through this whole experience and if you have any",
    "start": "2543500",
    "end": "2550250"
  },
  {
    "text": "questions we'd be happy to take them now and of course my one obligatory slide if",
    "start": "2550250",
    "end": "2555290"
  },
  {
    "text": "this stuff is interesting to you and you want to help us out we're actively hiring feel free to give me an email or",
    "start": "2555290",
    "end": "2561290"
  },
  {
    "text": "come talk to me later on but thank you everybody this is this has been great so thank you",
    "start": "2561290",
    "end": "2566930"
  },
  {
    "text": "very much cool yeah so we'll go to",
    "start": "2566930",
    "end": "2572870"
  },
  {
    "text": "questions yeah sure so I'll repeat the",
    "start": "2572870",
    "end": "2588890"
  },
  {
    "start": "2587000",
    "end": "2759000"
  },
  {
    "text": "question for the stream viewers first question and let me know if I miss mischaracterize ed one was what was the",
    "start": "2588890",
    "end": "2595430"
  },
  {
    "text": "beginning to end timeframe for this migration second question was was there any downtime so I was when we were",
    "start": "2595430",
    "end": "2602450"
  },
  {
    "text": "preparing these slides we saw technical specs that dated back to early 2017 so",
    "start": "2602450",
    "end": "2608120"
  },
  {
    "text": "we were talking about it for a while but waiting for the right time to actually execute on it I think when we finally",
    "start": "2608120",
    "end": "2613550"
  },
  {
    "text": "made the decision to write the first line of code or set up that first dinamo",
    "start": "2613550",
    "end": "2618980"
  },
  {
    "text": "database to when we showed that we had five or six or seven nines of accuracy I",
    "start": "2618980",
    "end": "2624170"
  },
  {
    "text": "want to say it was about six to seven months and then something like that five to six yeah and a large chunk of that",
    "start": "2624170",
    "end": "2631400"
  },
  {
    "text": "was just the data validation because we didn't want to just turn it off until we were confident that everything was there",
    "start": "2631400",
    "end": "2636890"
  },
  {
    "text": "so first line of code - we were no longer writing - or thinking about our",
    "start": "2636890",
    "end": "2642320"
  },
  {
    "text": "old data store believe was around six to seven months the amount of time we actually spent coding and updating our",
    "start": "2642320",
    "end": "2648590"
  },
  {
    "text": "clients was probably in the order of weeks maybe a bit less but writing tooling and writing jobs that can lift",
    "start": "2648590",
    "end": "2654830"
  },
  {
    "text": "and move billions of records from one place to another takes a lot of time as well second question was was there any",
    "start": "2654830",
    "end": "2661190"
  },
  {
    "text": "downtime no I would have been very upset if there was any downtime our customers would have been upset",
    "start": "2661190",
    "end": "2667430"
  },
  {
    "text": "cuz we had that read dual read dual write mode we did have a very safe fallback mechanism but again one of the",
    "start": "2667430",
    "end": "2674150"
  },
  {
    "text": "criterias that I laid out at the beginning of this project was like no downtime and we were able to satisfy",
    "start": "2674150",
    "end": "2679400"
  },
  {
    "text": "that yeah thank you",
    "start": "2679400",
    "end": "2683470"
  },
  {
    "text": "sure I'll repeat the question and this one so the question was during the migration when we were hitting it with",
    "start": "2697539",
    "end": "2704509"
  },
  {
    "text": "like hundred thousand rights per second how did we handle throttles how did we handle retries and any errors upon right",
    "start": "2704509",
    "end": "2711699"
  },
  {
    "text": "yeah so the way we did this was because we had that metric to show like the ninety nine nine like how much was being",
    "start": "2711699",
    "end": "2717829"
  },
  {
    "text": "started to have dyno Adibi we also had a mechanism to determine like which links were missing so like every couple of",
    "start": "2717829",
    "end": "2724189"
  },
  {
    "text": "days like there are else would happen right like occasionally and when we did find missing links our application would",
    "start": "2724189",
    "end": "2730640"
  },
  {
    "text": "log them and we'd a great them and then migrate those links so over and over again till we got them all so it wasn't",
    "start": "2730640",
    "end": "2737779"
  },
  {
    "text": "an ideal solution but it worked for the time frame there definitely be a way to",
    "start": "2737779",
    "end": "2743749"
  },
  {
    "text": "mitigate those throttles like for instance I think during that time it dynamodb was a bit newer and the sorrows",
    "start": "2743749",
    "end": "2749119"
  },
  {
    "text": "were a lot more like a lot worse now we barely see any in production which is",
    "start": "2749119",
    "end": "2754669"
  },
  {
    "text": "which I think they've that has definitely been fixed so these D straddles yeah the other component was",
    "start": "2754669",
    "end": "2760999"
  },
  {
    "text": "that when we were doing our regular right volume at let's say two to three thousand rights per second that was the",
    "start": "2760999",
    "end": "2767359"
  },
  {
    "text": "provision capacity that we had and then when we knew we were going to crank up the migration we I think we called that",
    "start": "2767359",
    "end": "2774009"
  },
  {
    "text": "AWS and say hey can we bump it up to like 200,000 provision you know rights",
    "start": "2774009",
    "end": "2780529"
  },
  {
    "text": "and they were like okay and then we just like let it rip so the throttles are really supposed to come",
    "start": "2780529",
    "end": "2785569"
  },
  {
    "text": "when you are going over your reserve capacity so we were able to scale up like by order of magnitudes to order of",
    "start": "2785569",
    "end": "2791749"
  },
  {
    "text": "magnitudes just blast it and then scale it back down yeah question over here",
    "start": "2791749",
    "end": "2799959"
  },
  {
    "text": "sure",
    "start": "2800019",
    "end": "2803019"
  },
  {
    "text": "yep sure so the question was you know",
    "start": "2805950",
    "end": "2820750"
  },
  {
    "text": "what did we move what kind of data started we moved from before in dynamo second question was how did we make sure",
    "start": "2820750",
    "end": "2826510"
  },
  {
    "text": "all the data was there so the first one was we were using a key value database",
    "start": "2826510",
    "end": "2831760"
  },
  {
    "text": "it was a distributed key-value data store it was a combination of a little",
    "start": "2831760",
    "end": "2836890"
  },
  {
    "text": "bit of Postgres we were using aerospike which is a clustered key value database that we were managing and a little bit",
    "start": "2836890",
    "end": "2843520"
  },
  {
    "text": "of Redis and then we moved it into dynamo the second question around how did we know we moved everything we had a",
    "start": "2843520",
    "end": "2849610"
  },
  {
    "text": "lot of different evaluation criteria what it boiled down to for us was on the read path what was the success rate of",
    "start": "2849610",
    "end": "2856900"
  },
  {
    "text": "us finding the link that the customer was looking for and we would track when",
    "start": "2856900",
    "end": "2862570"
  },
  {
    "text": "we started we would try to read it from the primary we would try to read it from dynamo and when we had nothing in",
    "start": "2862570",
    "end": "2867850"
  },
  {
    "text": "dynamite was zero percent success rate and then over the migration that inched up and eventually near the end of the",
    "start": "2867850",
    "end": "2873490"
  },
  {
    "text": "migration when we hit 99.9999% accuracy we said that we were confident with the",
    "start": "2873490",
    "end": "2880420"
  },
  {
    "text": "the migration",
    "start": "2880420",
    "end": "2883170"
  },
  {
    "text": "yeah so again the question was like we didn't have the requirement that we had",
    "start": "2891319",
    "end": "2897270"
  },
  {
    "text": "like let's say a hundred nines of accuracy the nature of our data and again this was one of the unique use",
    "start": "2897270",
    "end": "2904200"
  },
  {
    "text": "cases for us that we benefited from was well we treat links as absolutely",
    "start": "2904200",
    "end": "2909810"
  },
  {
    "text": "crucial for our product offering our product also has intelligent defaults so if there was let's say one out of the 50",
    "start": "2909810",
    "end": "2916859"
  },
  {
    "text": "billion links missing the link would default to you know the company's home",
    "start": "2916859",
    "end": "2921960"
  },
  {
    "text": "page or a default redirect because we had that fail back mechanism and it wasn't say let's say you know ledger",
    "start": "2921960",
    "end": "2929849"
  },
  {
    "text": "records on a you know like for a Bitcoin company or you know bank records which",
    "start": "2929849",
    "end": "2935160"
  },
  {
    "text": "are crucial this was a constraint that we were able to relax and that's also why when we hit seven nines of accuracy",
    "start": "2935160",
    "end": "2941670"
  },
  {
    "text": "I was confident moving on additionally in our application when we did do the dual reads we actually did have some",
    "start": "2941670",
    "end": "2947849"
  },
  {
    "text": "logic where we took hashes of linked data and compared to them and if they were different well log this why is it different and we were to find a lot of",
    "start": "2947849",
    "end": "2954480"
  },
  {
    "text": "bugs like that but we still do not need like every single individual",
    "start": "2954480",
    "end": "2960230"
  },
  {
    "text": "yep yep sure sure yeah yes so the",
    "start": "2970869",
    "end": "2988819"
  },
  {
    "text": "question was do we ever have the use cases where we do need to do slicing and dicing again the the particular use case",
    "start": "2988819",
    "end": "2996319"
  },
  {
    "text": "we were solving was for that readwrite path for our online service we do have a lot of analytics and metrics and",
    "start": "2996319",
    "end": "3003039"
  },
  {
    "text": "different data stores for those types of use cases separately from dynamo yeah we didn't try to like re architect and",
    "start": "3003039",
    "end": "3009640"
  },
  {
    "text": "re-engineer a relational database in on top of dynamo that would have been a bit",
    "start": "3009640",
    "end": "3015519"
  },
  {
    "text": "of a over engineering problem cool any other questions from the audience one at",
    "start": "3015519",
    "end": "3021249"
  },
  {
    "text": "the back yeah question was when we",
    "start": "3021249",
    "end": "3027400"
  },
  {
    "text": "contacted AWS to increase our throughput did it impact cost it did but as we had",
    "start": "3027400",
    "end": "3033069"
  },
  {
    "text": "expected because of the nature of how provisioned capacity works we said we",
    "start": "3033069",
    "end": "3038890"
  },
  {
    "text": "want this much capacity in Amazon enabled it or you can automatically set it up and that's effectively what you're",
    "start": "3038890",
    "end": "3044920"
  },
  {
    "text": "getting billed against and then we use that capacity and the second we were done with our migrations we scaled it",
    "start": "3044920",
    "end": "3050259"
  },
  {
    "text": "back down so our current run rate is like gives us 30% Headroom because that works for our traffic pattern but when",
    "start": "3050259",
    "end": "3056650"
  },
  {
    "text": "we reached out to Amazon we knew that ok this is gonna take you know this is gonna cost some money but",
    "start": "3056650",
    "end": "3061719"
  },
  {
    "text": "that was that was that was part of the plan yeah so one of the main benefits of reaching out to them was it skills up faster",
    "start": "3061719",
    "end": "3067900"
  },
  {
    "text": "otherwise it will take like a couple hours I think to scale to that rate but contacting them just makes it go faster but you still have to pay for the",
    "start": "3067900",
    "end": "3073929"
  },
  {
    "text": "capacity yep",
    "start": "3073929",
    "end": "3079109"
  },
  {
    "text": "yeah so the question is we did this huge evaluation what technology came in",
    "start": "3081970",
    "end": "3087109"
  },
  {
    "text": "second or third place I would say that staying on our current infrastructure",
    "start": "3087109",
    "end": "3093019"
  },
  {
    "text": "was one of the highest contenders and I think that would be the case for a lot of companies that are deciding should we move and that was about forecasting out",
    "start": "3093019",
    "end": "3101079"
  },
  {
    "text": "what is the next two years look like from a cost perspective that probably",
    "start": "3101079",
    "end": "3106940"
  },
  {
    "text": "would have been number two I'd say number three we were really close to",
    "start": "3106940",
    "end": "3113779"
  },
  {
    "text": "building our own key value database and I'm really glad that we didn't maybe it would have been a really interesting Tech Talk at a different conference but",
    "start": "3113779",
    "end": "3120999"
  },
  {
    "text": "that was a possibility and to be fair that was the original plan was to build",
    "start": "3120999",
    "end": "3127700"
  },
  {
    "text": "it on top of s3 because we wanted to spend like a thousand dollars a month for everything that could have worked I",
    "start": "3127700",
    "end": "3133489"
  },
  {
    "text": "think our latency would have been a lot higher but other than that you know we had a lot of experience doing sharded",
    "start": "3133489",
    "end": "3139400"
  },
  {
    "text": "Postgres so that would have been an option but but I think that when we did",
    "start": "3139400",
    "end": "3144410"
  },
  {
    "text": "this evaluation it was a pretty clear contender for us cool we have a few more",
    "start": "3144410",
    "end": "3152690"
  },
  {
    "text": "minutes yep",
    "start": "3152690",
    "end": "3155349"
  },
  {
    "text": "yeah so the question was about the data lifecycle for this particular migration",
    "start": "3169530",
    "end": "3175120"
  },
  {
    "text": "and just to clarify do you mean given how the product expectations work is there are do we have the ability to",
    "start": "3175120",
    "end": "3182230"
  },
  {
    "text": "retire certain data sets or delete certain data set is that is that the question got it yeah so yeah we actually",
    "start": "3182230",
    "end": "3193150"
  },
  {
    "text": "and when we were evaluating our options we tried to figure out well what are different ways that we can tear the data",
    "start": "3193150",
    "end": "3199450"
  },
  {
    "text": "because perhaps somebody that clicks on a link or creates a link today like three years from now they're probably",
    "start": "3199450",
    "end": "3204730"
  },
  {
    "text": "not going to click it again but we've made the promise that should they want to do it we're gonna we're gonna have that for them it was a factor that we",
    "start": "3204730",
    "end": "3212830"
  },
  {
    "text": "considered but when we modelled out the actual core storage cost of dynamo it was one of those problems that we said",
    "start": "3212830",
    "end": "3218560"
  },
  {
    "text": "we're gonna actually solve this problem at a later time so our table has grown immensely dynamo is scaled horizontally",
    "start": "3218560",
    "end": "3224830"
  },
  {
    "text": "our costs have grown but at a very manageable pace I do think about that a",
    "start": "3224830",
    "end": "3229930"
  },
  {
    "text": "lot because it bugs me that we might have a aging piece of data that's sitting relatively hot in a very you",
    "start": "3229930",
    "end": "3237010"
  },
  {
    "text": "know high-end database but from a cost perspective and from the priorities of everything else our company is working",
    "start": "3237010",
    "end": "3242860"
  },
  {
    "text": "on I said we'll we'll revisit this problem at another time yeah but now I'm",
    "start": "3242860",
    "end": "3248380"
  },
  {
    "text": "thinking about it again I'll probably go home and like well what if we what if we aged out the data into s3 and you know",
    "start": "3248380",
    "end": "3254530"
  },
  {
    "text": "dynamo streams and all of these other oceans they show you sure yeah but no we",
    "start": "3254530",
    "end": "3259900"
  },
  {
    "text": "didn't do that yet yes",
    "start": "3259900",
    "end": "3264210"
  },
  {
    "text": "for dynamo specifically so the question",
    "start": "3266920",
    "end": "3273050"
  },
  {
    "text": "was are we thinking about switching to on-demand for a capacity perspective to",
    "start": "3273050",
    "end": "3278770"
  },
  {
    "text": "to potentially optimize our billing and our cost is that correct yeah so this is",
    "start": "3278770",
    "end": "3285830"
  },
  {
    "text": "something I think we've looked into recently if you only became aware of it like couple weeks ago I think and at the",
    "start": "3285830",
    "end": "3292280"
  },
  {
    "text": "moment I think that our provision capacity is still cheaper because on-demand will is really good for spike",
    "start": "3292280",
    "end": "3297320"
  },
  {
    "text": "uber clothes and ours ours are just so predictable that auto scaling works really well right now yeah yeah so just",
    "start": "3297320",
    "end": "3306620"
  },
  {
    "text": "to add a bit more context there and I'm not an expert on the on-demand billing but the model of doing provision",
    "start": "3306620",
    "end": "3312860"
  },
  {
    "text": "capacity where you say this is how much I want whether you use or not you're gonna get billed for it and then automatically scale up as I need it and",
    "start": "3312860",
    "end": "3319690"
  },
  {
    "text": "you get billed at one rate and then the on-demand says just bill me for exactly what I use so that capacity equation you",
    "start": "3319690",
    "end": "3328070"
  },
  {
    "text": "know you don't have to worry about but the billing is a little bit higher because they're doing a bit more work for you because our traffic pattern is",
    "start": "3328070",
    "end": "3334760"
  },
  {
    "text": "so kind of like it's the sinusoidal wave of the internet it's like the pulse of the Internet we're able to pretty easily",
    "start": "3334760",
    "end": "3341030"
  },
  {
    "text": "predict what we need to provision at and I think 30% 40% Headroom for most",
    "start": "3341030",
    "end": "3346700"
  },
  {
    "text": "services is actually pretty low but because we can predict our traffic so so well it works just fine for us",
    "start": "3346700",
    "end": "3355000"
  },
  {
    "text": "sure yep",
    "start": "3367290",
    "end": "3371310"
  },
  {
    "text": "sure cool so first question was just you know you're we were learning about",
    "start": "3379140",
    "end": "3384420"
  },
  {
    "text": "dynamo today is there a different underlying store that's being leveraged second one was what are the multi region",
    "start": "3384420",
    "end": "3392009"
  },
  {
    "text": "capabilities of this so for the first one dynamo is the core storage so the data is stored in dynamo dB",
    "start": "3392009",
    "end": "3398039"
  },
  {
    "text": "yeah and I'm sure there'd be an Amazon engineer or dynamo engineer that can tell you a little bit more about what's",
    "start": "3398039",
    "end": "3403170"
  },
  {
    "text": "going on under the hood there but that was again one of our criteria was like we want this opaque black box to",
    "start": "3403170",
    "end": "3409680"
  },
  {
    "text": "warehouse all of our core hot link data and that worked perfectly yeah we have a data Lake and we have a big data store",
    "start": "3409680",
    "end": "3415890"
  },
  {
    "text": "for different types of operations but for this particular use case the links go into dynamo DB and they're stored",
    "start": "3415890",
    "end": "3422130"
  },
  {
    "text": "somewhere in a datacenter in Northern California or whichever region where we're deployed in the second question on",
    "start": "3422130",
    "end": "3428759"
  },
  {
    "text": "the regional support are our implementation did not take advantage of",
    "start": "3428759",
    "end": "3434489"
  },
  {
    "text": "a feature that they have called global tables where you do have globally synced multi-region support for dynamo so you",
    "start": "3434489",
    "end": "3441690"
  },
  {
    "text": "could do a write and it would automatically replicate to all regions it was not a use case that we had at the time although it's a nice capability",
    "start": "3441690",
    "end": "3448650"
  },
  {
    "text": "that is good that it's mostly like a couple clicks away from enabling it is eventual consistent replication but yeah",
    "start": "3448650",
    "end": "3455009"
  },
  {
    "text": "something we are considering cool and I think we have like one more question before these guys yank us off the stage",
    "start": "3455009",
    "end": "3461849"
  },
  {
    "text": "yeah",
    "start": "3461849",
    "end": "3464480"
  },
  {
    "text": "the question was because we mentioned a lot of different data stores do we only put links in dynamo dB we over the last",
    "start": "3472960",
    "end": "3480640"
  },
  {
    "text": "year have introduced a couple more use cases for dynamo believe we're using",
    "start": "3480640",
    "end": "3485740"
  },
  {
    "text": "dynamo also for some some of our like outer gateway layer rate-limiting we use",
    "start": "3485740",
    "end": "3493360"
  },
  {
    "text": "it we also use dynamo internally for some of our crypto cryptographic key",
    "start": "3493360",
    "end": "3500020"
  },
  {
    "text": "session management but that's like for an internal use case our user data is stored in other data stores like",
    "start": "3500020",
    "end": "3506470"
  },
  {
    "text": "Postgres like air spike which is still like a hyper efficient fast performant key value store but yeah it's it's a mix",
    "start": "3506470",
    "end": "3513520"
  },
  {
    "text": "of data stores and that one slide that I'll emphasize where I said don't move everything it was very tempting to say",
    "start": "3513520",
    "end": "3519430"
  },
  {
    "text": "like let's go all in and put everything in there but it wouldn't have made any sense for us yeah so the question was",
    "start": "3519430",
    "end": "3530230"
  },
  {
    "text": "what was the sighting factor of what did go in and what didn't it was really about what what core business object was",
    "start": "3530230",
    "end": "3538810"
  },
  {
    "text": "scaling at a rate that wasn't manageable given the current implementation and",
    "start": "3538810",
    "end": "3544500"
  },
  {
    "text": "what core business object did we feel confident we could predict what the schema what the needs were two years out",
    "start": "3544500",
    "end": "3551470"
  },
  {
    "text": "and it was honed in on this one particular data set and given the service-oriented architecture that we'd",
    "start": "3551470",
    "end": "3557110"
  },
  {
    "text": "moved to it made it pretty easy for us to actually execute on this plan without having to like mangle every service and",
    "start": "3557110",
    "end": "3564190"
  },
  {
    "text": "every piece of code in arms the structure yeah so our core user table was still in Postgres you know we didn't",
    "start": "3564190",
    "end": "3570430"
  },
  {
    "text": "have to touch our big data pipeline it was just this one data set it's good to go and let's move it out",
    "start": "3570430",
    "end": "3576870"
  },
  {
    "text": "right cool so last question was is everything in AWS right now our whole deployment is in",
    "start": "3582880",
    "end": "3589430"
  },
  {
    "text": "AWS yeah cool so I think that's time and we're gonna hang out afterwards if you",
    "start": "3589430",
    "end": "3595070"
  },
  {
    "text": "want to talk about this stuff or anything else but again thank you everybody for your time [Applause]",
    "start": "3595070",
    "end": "3604099"
  }
]