[
  {
    "start": "0",
    "end": "88000"
  },
  {
    "text": "hey everybody welcome to security automation using a Buist management tools I'm well st. Clair I'm a senior",
    "start": "30",
    "end": "6000"
  },
  {
    "text": "Solutions Architect with AWS covering public sector customers I've been with AWS for about three and a half years and",
    "start": "6000",
    "end": "12179"
  },
  {
    "text": "this is my fourth public sector summit so welcome I'm excited to talk to you",
    "start": "12179",
    "end": "17640"
  },
  {
    "text": "guys today about how to kick off some automation processes in your environment using our set of automation tool or",
    "start": "17640",
    "end": "23460"
  },
  {
    "text": "management tools this is a pretty broad topic and I've tried to condense it down to 50 minutes and get as many demos in",
    "start": "23460",
    "end": "31320"
  },
  {
    "text": "as possible console walkthrough so you can actually see how these services are you know configured how they you know come together so I'm just going to go",
    "start": "31320",
    "end": "38640"
  },
  {
    "text": "ahead and get started so on the agenda today I'm just going to talk about you know at first how to classify workloads",
    "start": "38640",
    "end": "45780"
  },
  {
    "text": "and defined controls really quickly then I'm going to go into some information on how to provision in baseline your",
    "start": "45780",
    "end": "51329"
  },
  {
    "text": "environments you in particularly in a multi account environment how do I you know ensure each one has a you know security baseline how do I provision",
    "start": "51329",
    "end": "57539"
  },
  {
    "text": "that automatically then we're going to securing and monitoring the properties",
    "start": "57539",
    "end": "62879"
  },
  {
    "text": "of your actual eight of us environment yourself then I'm going to talk a little bit about how to secure and monitor your",
    "start": "62879",
    "end": "68520"
  },
  {
    "text": "workloads using some new AWS services and then finally talk about how to respond and automatically remediate",
    "start": "68520",
    "end": "74659"
  },
  {
    "text": "conditions in your AWS environment so if you do have an something that falls out of compliance or something that's you",
    "start": "74659",
    "end": "80340"
  },
  {
    "text": "know not in line with what you want how do I remediate that automatically so",
    "start": "80340",
    "end": "86280"
  },
  {
    "text": "let's start with classifying your workloads so I like to think about different familiar with the federal",
    "start": "86280",
    "end": "91320"
  },
  {
    "start": "88000",
    "end": "88000"
  },
  {
    "text": "compliance framework so you you know this is a similar concept you know think of two axes for the impact of your work",
    "start": "91320",
    "end": "99450"
  },
  {
    "text": "Lord you know on one end you have your confidentiality and the other end availability you know these workloads could be individual applications they",
    "start": "99450",
    "end": "105840"
  },
  {
    "text": "could be individual developer environments you know I'm going to advocate for this as sort of the boundary for your AWS accounts what you",
    "start": "105840",
    "end": "113909"
  },
  {
    "text": "want to do is you want to classify these based on you know their impacts they're down on your lower left you have individual dev test you know maybe as",
    "start": "113909",
    "end": "121619"
  },
  {
    "text": "you go up in availability risk you get things like low risk apps or team dev test environments you know up here high",
    "start": "121619",
    "end": "128099"
  },
  {
    "text": "availability web stuff but not necessarily high confidentiality you know and then sort of",
    "start": "128099",
    "end": "133530"
  },
  {
    "text": "down on the right you have you know analytics on sensitive data moving up to sensitive internal applications and you",
    "start": "133530",
    "end": "140370"
  },
  {
    "text": "have your critical applications that need to share sensitive data but potentially with external stakeholders so you can break this down into you know",
    "start": "140370",
    "end": "147540"
  },
  {
    "text": "as you know a few is three or four quadrants you can break this down into nine quadrants but the you know key",
    "start": "147540",
    "end": "153060"
  },
  {
    "start": "152000",
    "end": "152000"
  },
  {
    "text": "concept is obviously that controls are additive right you know if ice you know have a set of security controls that I have to you",
    "start": "153060",
    "end": "158819"
  },
  {
    "text": "know build on you know I'm going to define how I want to implement those in terms of you know coding configuration",
    "start": "158819",
    "end": "163890"
  },
  {
    "text": "and in a low-risk environment I might just have a handful of essential controls that's going to build up into",
    "start": "163890",
    "end": "169769"
  },
  {
    "text": "my you know medium risk environments and then further on into my medium high and",
    "start": "169769",
    "end": "174780"
  },
  {
    "text": "high environments so you know the work that you do at the lower levels you know helps build your you know repertoire of",
    "start": "174780",
    "end": "180450"
  },
  {
    "text": "controls repertoire of tools etc you know as you start moving you know more",
    "start": "180450",
    "end": "185610"
  },
  {
    "text": "and more sensitive more and more critical workloads into the cloud I like",
    "start": "185610",
    "end": "191040"
  },
  {
    "start": "190000",
    "end": "190000"
  },
  {
    "text": "using AWS accounts as impact in workload boundaries you know this is a something that's really been enabled with AWS",
    "start": "191040",
    "end": "196650"
  },
  {
    "text": "organizations which I'm going to talk about in a little bit but this is it abus account is obviously the highest",
    "start": "196650",
    "end": "202079"
  },
  {
    "text": "level of isolation between resources in within the environment if I create an account you create an account those",
    "start": "202079",
    "end": "208320"
  },
  {
    "text": "environments are separate you know if you create two accounts they're as separate as you want them to be until you you know explicitly set up trust",
    "start": "208320",
    "end": "214530"
  },
  {
    "text": "relationships or exclusively set up network peering relationships between those accounts so as you're sort of",
    "start": "214530",
    "end": "219690"
  },
  {
    "text": "identifying workloads to move out of an existing infrastructure you know think about how I can break those down into",
    "start": "219690",
    "end": "225000"
  },
  {
    "text": "AWS accounts you don't want to necessarily get to fine you know what you know the database is in one account",
    "start": "225000",
    "end": "230370"
  },
  {
    "text": "and the web server is in another account but you don't want to get to course either you know there's no reason to have a single massive account that has",
    "start": "230370",
    "end": "235980"
  },
  {
    "text": "all of your medium or you know all of your high workloads in it you want to take advantage of that isolation when you can so let's talk about how you",
    "start": "235980",
    "end": "244440"
  },
  {
    "text": "provision in baseline those environments once you actually you know you know get up and running so interest organizations",
    "start": "244440",
    "end": "251010"
  },
  {
    "start": "250000",
    "end": "250000"
  },
  {
    "text": "is some newer functionality that allows you do have policy based management for",
    "start": "251010",
    "end": "256979"
  },
  {
    "text": "multiple way to be rest accounts I can create a single master account and then create new a DBS you know child accounts",
    "start": "256979",
    "end": "262409"
  },
  {
    "text": "under that using the organization's API or the console I can organize accounts into groups organizational units and that I can",
    "start": "262409",
    "end": "268740"
  },
  {
    "text": "apply policies that apply to each one of those groups you know so if I want to restrict the services that are available for example I can do that within a you",
    "start": "268740",
    "end": "275430"
  },
  {
    "text": "know individual sub unit now obviously I can also consolidate the bills for all my accounts in my organization and use a",
    "start": "275430",
    "end": "281639"
  },
  {
    "text": "single payment method so if I look at the lifecycle of a native US account you",
    "start": "281639",
    "end": "286650"
  },
  {
    "start": "284000",
    "end": "284000"
  },
  {
    "text": "know I'm gonna start with my master account I'm going to identify a need to create a new account you know maybe",
    "start": "286650",
    "end": "291780"
  },
  {
    "text": "that's a developer that you need to do have test environment maybe this is a team that's you know wants to host their",
    "start": "291780",
    "end": "297419"
  },
  {
    "text": "you know continuous integration pipeline maybe it's a you know production account for a new service I'm going to you know",
    "start": "297419",
    "end": "303539"
  },
  {
    "text": "provide some sort of questionnaire or single point of entry to determine you know classification security risk you know inheriting this account I'm",
    "start": "303539",
    "end": "310919"
  },
  {
    "text": "going to provision that you know automatically using the organization's API apply a security baseline to that in",
    "start": "310919",
    "end": "316710"
  },
  {
    "text": "accordance with the classification that we've determined and then as part of that monitored respond to you know",
    "start": "316710",
    "end": "323099"
  },
  {
    "text": "incidents in that account using the you know implement implementations of the controls we've defined and also",
    "start": "323099",
    "end": "329279"
  },
  {
    "text": "periodically review and re baseline you know I should have a database or spreadsheet of who owns which accounts",
    "start": "329279",
    "end": "335069"
  },
  {
    "text": "if someone leaves obviously someone else needs to take that account over and I should be periodically you know asking",
    "start": "335069",
    "end": "340319"
  },
  {
    "text": "them to read a test to what's in that account making sure that stuff stays in compliance and if the account is no letter needed it's closed so what's in a",
    "start": "340319",
    "end": "348029"
  },
  {
    "start": "347000",
    "end": "347000"
  },
  {
    "text": "security baseline for a new account maybe was cloud trail audit logging for",
    "start": "348029",
    "end": "353219"
  },
  {
    "text": "a Davis API calls is critical I didn't need an access management configuration you know things like roles and manage",
    "start": "353219",
    "end": "359939"
  },
  {
    "text": "policies you know determine the access permissions that people have in those accounts and you trust relationships to identity providers etc any of us config",
    "start": "359939",
    "end": "368729"
  },
  {
    "text": "so this is going to allow us to create config rules any this cloud watch you talk a little bit of watch events to",
    "start": "368729",
    "end": "374939"
  },
  {
    "text": "configure URLs later on and any VPC configurations you know and additionally",
    "start": "374939",
    "end": "381449"
  },
  {
    "text": "anything like flow logs so typically we what we would use and if you were in chucks talk last session",
    "start": "381449",
    "end": "387240"
  },
  {
    "text": "you've got the deep dive on cloud formation but cloud formation is how you would template out and get deploy these",
    "start": "387240",
    "end": "392849"
  },
  {
    "text": "security baselines all right confirmation is a service that provides a common language for describing provisioning all your",
    "start": "392849",
    "end": "398909"
  },
  {
    "text": "infrastructure resources you create a template you're using JSON or Gamal you can you know either deploy",
    "start": "398909",
    "end": "406979"
  },
  {
    "text": "that template all at once or you know this is the preferred workload now is to use change sets to you know create an",
    "start": "406979",
    "end": "412020"
  },
  {
    "text": "individual change saturd or TIFF and then deploy that into a stack you know once this templates been deployed it's",
    "start": "412020",
    "end": "417720"
  },
  {
    "text": "realized into a stack and see all those resources belong to the stack there's",
    "start": "417720",
    "end": "424139"
  },
  {
    "start": "422000",
    "end": "422000"
  },
  {
    "text": "two ways to distribute standardized configurations and CloudFormation in a new environment like this you could",
    "start": "424139",
    "end": "430290"
  },
  {
    "text": "obviously deploy them manually but you in a multi account environment you want some way to automate that so you know",
    "start": "430290",
    "end": "437100"
  },
  {
    "text": "first is confirmation stack sets this is what I like to call the push model I and the master account create a you know a",
    "start": "437100",
    "end": "444780"
  },
  {
    "text": "set of templates or template that you know defines the baseline configurations for a particular classification level",
    "start": "444780",
    "end": "449970"
  },
  {
    "text": "and I can actually go through and push all of that you'll push those templates directly to the regions I want in the",
    "start": "449970",
    "end": "455190"
  },
  {
    "text": "accounts I define another way to do this is maybe a poll model maybe I have a",
    "start": "455190",
    "end": "460530"
  },
  {
    "text": "library of you know approved templates particular workloads you know maybe if someone creates an account they don't",
    "start": "460530",
    "end": "465780"
  },
  {
    "text": "they won't necessarily need a virtual network they can pull that when they when they need it or maybe they you know",
    "start": "465780",
    "end": "472440"
  },
  {
    "text": "I have a standardized configuration for a lamp stack or another application and here you can use a TPS Service Catalog",
    "start": "472440",
    "end": "478830"
  },
  {
    "text": "to do something very similar I can you know define the templates in the master account I can you know create products",
    "start": "478830",
    "end": "484770"
  },
  {
    "text": "out of them in service catalogs lingo delegate the permissions who's allowed to access them and then those end users",
    "start": "484770",
    "end": "491310"
  },
  {
    "text": "can pull them so I have a quick demo to",
    "start": "491310",
    "end": "496349"
  },
  {
    "text": "talk about how to create new accounts in your organization and baseline them using it vs stack sets so I'm just going",
    "start": "496349",
    "end": "506639"
  },
  {
    "text": "to navigate here to the cloud formation console go ahead and create a stack in",
    "start": "506639",
    "end": "512370"
  },
  {
    "text": "my master account the sec i'm creating my master account is simply just to create s3 buckets and this is going to",
    "start": "512370",
    "end": "519000"
  },
  {
    "text": "be where I'm going to collect cloud trail logs and configuration snapshots for all my child accounts so this is",
    "start": "519000",
    "end": "524459"
  },
  {
    "text": "just sort of a prerequisite have a little movie magic here to speed up the process but all this is we're doing",
    "start": "524459",
    "end": "531120"
  },
  {
    "text": "really is creating those two s3 buckets now I'm going to go into a Tobias organisations this is my master account",
    "start": "531120",
    "end": "537600"
  },
  {
    "text": "so I'm going to create my organisation for the first time enable all features if you have a you know legacy",
    "start": "537600",
    "end": "544470"
  },
  {
    "text": "consolidated billing account this would be a step you have to go through get a",
    "start": "544470",
    "end": "549870"
  },
  {
    "text": "hit add account to create a new account I'm going to create two accounts in my new organization just to demonstrate",
    "start": "549870",
    "end": "555630"
  },
  {
    "text": "some multi account deployment functionality I'm using the console here",
    "start": "555630",
    "end": "563190"
  },
  {
    "text": "but this is also something that you would you know almost certainly want to automate using the command line or the API depending on what your own you know",
    "start": "563190",
    "end": "570600"
  },
  {
    "text": "service fulfillment practices are now if the console is convenient but it is and",
    "start": "570600",
    "end": "576270"
  },
  {
    "text": "it's a great way to explore the api's and get used to it but this is something I definitely like to make part of a workflow your integrated with maybe your",
    "start": "576270",
    "end": "583410"
  },
  {
    "text": "ITSM or you know help us six ticketing system you know whatever process would be most appropriate to onboard users so",
    "start": "583410",
    "end": "592440"
  },
  {
    "text": "I've created my - you know child accounts here and I'm going to organize them into record their account numbers",
    "start": "592440",
    "end": "599730"
  },
  {
    "text": "obviously this is something where you want to make sure that this is you know being cross-referenced in a database who",
    "start": "599730",
    "end": "604800"
  },
  {
    "text": "owns this account you know if the email adjusts you know email address changes and I'm gonna",
    "start": "604800",
    "end": "609990"
  },
  {
    "text": "organize that into oh you called security baseline just go ahead and move",
    "start": "609990",
    "end": "616140"
  },
  {
    "text": "them up here",
    "start": "616140",
    "end": "618740"
  },
  {
    "text": "you know obviously like similar directories you could you know get as fine or as granular as you want you know different apartments teams I'm gonna",
    "start": "624130",
    "end": "632740"
  },
  {
    "text": "record the O you because I'm gonna want it later or the O UID there so I'm going",
    "start": "632740",
    "end": "641020"
  },
  {
    "text": "to go to CloudFormation because I want to deploy a baseline template to these accounts the gonna change my context",
    "start": "641020",
    "end": "647560"
  },
  {
    "text": "here to stack sets from the main stacks configuration the template of deploying is fairly straightforward all I'm doing is just making sure that cloud trail is",
    "start": "647560",
    "end": "653800"
  },
  {
    "text": "turned on in the destination accounts and that configures turn on the destination accounts and that they are reporting those logs and the snapshots",
    "start": "653800",
    "end": "661330"
  },
  {
    "text": "back to the master account so this is the name of my stack set so the config",
    "start": "661330",
    "end": "668920"
  },
  {
    "text": "delivery frequency to one hour and then this is just the names of the buckets I created as part of that confirmation",
    "start": "668920",
    "end": "674800"
  },
  {
    "text": "template the first step it so this is actually me to pause the sewer you can",
    "start": "674800",
    "end": "682030"
  },
  {
    "text": "specify the accounts you're deploying the stack set to in this case I'm actually to deploy the stacks based on",
    "start": "682030",
    "end": "687160"
  },
  {
    "text": "the organizational unit so I don't need to you know add up all the account numbers or you know import that manually all I have to do is specify the oh you",
    "start": "687160",
    "end": "694420"
  },
  {
    "text": "of the account of the ID of the oh you I just created again I'm just gonna deploy",
    "start": "694420",
    "end": "700390"
  },
  {
    "text": "this tall in just make sure I'm capturing all configuration occurring in all regions I've created a role to you",
    "start": "700390",
    "end": "708790"
  },
  {
    "text": "know deploy those stacks out that cloud formation will assume and then the role it will be assuming in the target account is the one that was created with",
    "start": "708790",
    "end": "714820"
  },
  {
    "text": "the organization",
    "start": "714820",
    "end": "717420"
  },
  {
    "text": "so now we can see you know these are all the basically the templates that will be deployed I have two accounts here across",
    "start": "724500",
    "end": "730980"
  },
  {
    "text": "all of our regions here so they're all status outdated you know we haven't deployed the templates yet and again",
    "start": "730980",
    "end": "737430"
  },
  {
    "text": "through a little bit of Hollywood magic we will start to see these templates get deployed you know across all of our",
    "start": "737430",
    "end": "744180"
  },
  {
    "text": "regions worldwide and so now once this finishes I'm gonna see see what's",
    "start": "744180",
    "end": "759210"
  },
  {
    "text": "happened so we're gonna go over at s3 and what we should notice is that we want to have data from all regions yet you know because this you know took a",
    "start": "759210",
    "end": "764880"
  },
  {
    "text": "while to deploy but we will it should be able to see that the cloud trail bucket is you know starting to aggregate cloud",
    "start": "764880",
    "end": "771510"
  },
  {
    "text": "trail and audit logs from you know all of our accounts in all of our regions so you can see here the cloud trail is created you know its initial login trees",
    "start": "771510",
    "end": "778470"
  },
  {
    "text": "and your first couple accounts and we're also going to make sure that the same is the same for config",
    "start": "778470",
    "end": "785120"
  },
  {
    "text": "all right",
    "start": "797649",
    "end": "800519"
  },
  {
    "text": "so we provisioned in baselined our interview this environments but I haven't talked a little bit about what cloud trail and config actually are so",
    "start": "806860",
    "end": "813560"
  },
  {
    "text": "cloud trail is the very most basic of security controls you want to deploy this is going to be an audit log of all",
    "start": "813560",
    "end": "821270"
  },
  {
    "text": "of your API history so this is actions taken through the console through the SDKs through the command-line tools this",
    "start": "821270",
    "end": "827600"
  },
  {
    "text": "is an audit log of you know what's happening in your accounts and you know something that's gonna be critical just for monitoring you know who's using what",
    "start": "827600",
    "end": "833540"
  },
  {
    "text": "as well as for security incident response cloud trail can record to an s3",
    "start": "833540",
    "end": "838880"
  },
  {
    "text": "bucket in the India count it's configured in or it can be pushed out to a bucket in a different account which is",
    "start": "838880",
    "end": "844550"
  },
  {
    "text": "what we were doing in that demo so use cases for cloud trail obviously",
    "start": "844550",
    "end": "849980"
  },
  {
    "start": "847000",
    "end": "847000"
  },
  {
    "text": "compliance controls gain visibility into I am user activity you know you might be",
    "start": "849980",
    "end": "855590"
  },
  {
    "text": "able to push this into a log analysis system so you can you know arm on things like you know people logging in doing",
    "start": "855590",
    "end": "860600"
  },
  {
    "text": "things about hours stuff like that maybe you want to detect access to api's or",
    "start": "860600",
    "end": "867610"
  },
  {
    "text": "you know data from you know IP addresses you know I know which IP addresses you",
    "start": "867610",
    "end": "873260"
  },
  {
    "text": "know users should be using if they're logged in from the corporate network if I see stuff that's you know outside that if I see stuff from other countries you",
    "start": "873260",
    "end": "879650"
  },
  {
    "text": "know that stuff that's automatically suspicious or you know more mundane Lee",
    "start": "879650",
    "end": "884750"
  },
  {
    "text": "you know I need to troubleshoot misconfigured permissions or applications you know there's obviously a lot of access control and abuse and",
    "start": "884750",
    "end": "890360"
  },
  {
    "text": "you want to make sure that you know when you're troubleshooting you can go in and see oh I was denied because you know this rule did not have the correct",
    "start": "890360",
    "end": "895970"
  },
  {
    "text": "policy its second best practices you want to make this as part of your",
    "start": "895970",
    "end": "901520"
  },
  {
    "start": "898000",
    "end": "898000"
  },
  {
    "text": "security baseline you want to make sure that you're aggregating events from all regions and that you're logging to a single s3 bucket in a central account",
    "start": "901520",
    "end": "907850"
  },
  {
    "text": "this means that you know you know an individual sub-account it's compromised that you you're not you know putting the",
    "start": "907850",
    "end": "914870"
  },
  {
    "text": "log data at risk use a DBMS encryption to encrypt that log data validate I you",
    "start": "914870",
    "end": "921530"
  },
  {
    "text": "know have validation enabled so that you can go through and validate that and then log both both management and data",
    "start": "921530",
    "end": "926870"
  },
  {
    "text": "events so management events or things like API calls and data events or things you know like s3 access logs you can",
    "start": "926870",
    "end": "936980"
  },
  {
    "text": "integrate with cloud watch logs to create drive metrics so what this means is you know in addition to just consuming the files out",
    "start": "936980",
    "end": "943399"
  },
  {
    "text": "of s3 you can push that to cloud watch logs which gives you some functionality in terms of being able to you know",
    "start": "943399",
    "end": "949279"
  },
  {
    "text": "filter and search as well as to you know say I want to pluck this field out and create a metric out of it you know so",
    "start": "949279",
    "end": "954350"
  },
  {
    "text": "how many times is this API being calls they'd be if this API is being called you know you know once and if I've been",
    "start": "954350",
    "end": "960470"
  },
  {
    "text": "a period I can you know alarm on that built in without having to you know build the parsing myself and use cloud",
    "start": "960470",
    "end": "967700"
  },
  {
    "text": "watch events to report high-value events to ticketing your chat system so if you are using slack or HipChat or something",
    "start": "967700",
    "end": "973279"
  },
  {
    "text": "like that you can create cloud watch events that are listening to cloud trail events and then push that right into",
    "start": "973279",
    "end": "979880"
  },
  {
    "text": "chat which is good for just you know day-to-day visibility next thing we",
    "start": "979880",
    "end": "985250"
  },
  {
    "text": "configured was called a TBS config so config is that continuous recording and continuous assessment service if cloud",
    "start": "985250",
    "end": "991160"
  },
  {
    "text": "trail is what's logging logging what was done config is logging what is you know it's creating snapshots of the current",
    "start": "991160",
    "end": "997820"
  },
  {
    "text": "state of your configured resources so you need both of them you know you could try to reconstruct the current state of",
    "start": "997820",
    "end": "1003459"
  },
  {
    "text": "an environment from just the cloud trail logs but it'd be kind of messy but configured to you is a you know an",
    "start": "1003459",
    "end": "1008620"
  },
  {
    "text": "actual snapshot of the configuration changes that you made to your AWS resources you know this is done in term",
    "start": "1008620",
    "end": "1014290"
  },
  {
    "text": "in a machine readable JSON file but you",
    "start": "1014290",
    "end": "1021220"
  },
  {
    "text": "can also you know take action on that by setting config rules that determines whether or not environment is",
    "start": "1021220",
    "end": "1027760"
  },
  {
    "text": "in or out of compliance based on the state of that configuration snapshot so",
    "start": "1027760",
    "end": "1033760"
  },
  {
    "text": "as resources change in your environment you know a TBS config is you know",
    "start": "1033760",
    "end": "1038800"
  },
  {
    "text": "monitoring them andean gets notified and from there you're getting these configuration snapshot files these",
    "start": "1038800",
    "end": "1044140"
  },
  {
    "text": "configuration snapshot files are super useful particularly in terms of you know what you can do with them in with a log",
    "start": "1044140",
    "end": "1050140"
  },
  {
    "text": "aggregation system this is going to contain things like you know the all the instances in my environment what are",
    "start": "1050140",
    "end": "1055150"
  },
  {
    "text": "their IP addresses what security groups firewall rules so they have one thing I've seen customers set up is I want to",
    "start": "1055150",
    "end": "1061030"
  },
  {
    "text": "turn this into a search you know push this into my log search index so I can pull out all the IP addresses I know I own so that when I'm searching through",
    "start": "1061030",
    "end": "1067570"
  },
  {
    "text": "my logs they can exclude them or you know see if they're turning up in weird",
    "start": "1067570",
    "end": "1072580"
  },
  {
    "text": "places if from their anybod scan figural x' can you know parse those snapshots and",
    "start": "1072580",
    "end": "1078100"
  },
  {
    "text": "return some sort of compliant state or you can push them in dataview SS 3 for",
    "start": "1078100",
    "end": "1083109"
  },
  {
    "text": "like I said it additional outside analysis config rules allows you to",
    "start": "1083109",
    "end": "1090220"
  },
  {
    "start": "1087000",
    "end": "1087000"
  },
  {
    "text": "create rules which define your reflected desired state for the environment and then alert when those change so you can",
    "start": "1090220",
    "end": "1096369"
  },
  {
    "text": "choose from built-in rules which I'll demonstrate in a moment or write your own using AWS lambda you know these are",
    "start": "1096369",
    "end": "1102639"
  },
  {
    "text": "you know things as simple as or my EBS volumes encrypted do I have that three buckets open to the public you know is",
    "start": "1102639",
    "end": "1107889"
  },
  {
    "text": "there outdated software running on my instances using Systems Manager you know are my RDS instances being backed up",
    "start": "1107889",
    "end": "1113470"
  },
  {
    "text": "what's the age of my oldest snapshot and you can you know take that and improve so there a red green status on whether or not my environment is in compliance",
    "start": "1113470",
    "end": "1121559"
  },
  {
    "start": "1121000",
    "end": "1121000"
  },
  {
    "text": "it this is a newer feature you can add and you can also aggregate rule compliance for multiple accounts in",
    "start": "1121559",
    "end": "1126759"
  },
  {
    "text": "multiple regions and see that on a single dashboard so you can see that this environment is in a little bit of trouble looks like a few rules are in",
    "start": "1126759",
    "end": "1133570"
  },
  {
    "text": "compliance but for the most part things are out of compliance best practices",
    "start": "1133570",
    "end": "1139889"
  },
  {
    "start": "1138000",
    "end": "1138000"
  },
  {
    "text": "again same as Claude trail deliver config snapshots to a single s3 bucket parse out key information resource IPS",
    "start": "1139889",
    "end": "1147220"
  },
  {
    "text": "host names Omni IDs yeah this is going to give you information of what the you know what might the current state of my",
    "start": "1147220",
    "end": "1153519"
  },
  {
    "text": "environment is and then use CloudFormation and stack sets to automate the configuration and deployment so let me go and show you my",
    "start": "1153519",
    "end": "1167649"
  },
  {
    "text": "second demo so in this case the first template that we deploy deployed cloud",
    "start": "1167649",
    "end": "1173499"
  },
  {
    "text": "trail configuration config configuration but it also deployed a config rule that determines that reports whether or not",
    "start": "1173499",
    "end": "1179950"
  },
  {
    "text": "can cloud trails configure it in the target environment so we're going to do now is set up aggregation so I can",
    "start": "1179950",
    "end": "1185109"
  },
  {
    "text": "observe the compliant status of my you know different accounts so here in the config dashboard I'm going to go to",
    "start": "1185109",
    "end": "1193059"
  },
  {
    "text": "aggregators gonna hit add aggregator here to create",
    "start": "1193059",
    "end": "1200460"
  },
  {
    "text": "a new aggregator again I'm in the master account you up here in the upper right hand corner we're gonna give cloud",
    "start": "1200460",
    "end": "1209010"
  },
  {
    "text": "config permission to real replicate data from that source account we're gonna name our aggregator and again I don't",
    "start": "1209010",
    "end": "1216600"
  },
  {
    "text": "need to enumerate each one of my accounts I have the owe you that I created earlier so I'm just gonna pull",
    "start": "1216600",
    "end": "1221730"
  },
  {
    "text": "everything in for my organization I'm just going to create a role that allows config to get that data from",
    "start": "1221730",
    "end": "1227549"
  },
  {
    "text": "organizations sort of delegating that permission and we're gonna pull stuff in",
    "start": "1227549",
    "end": "1235260"
  },
  {
    "text": "from all regions",
    "start": "1235260",
    "end": "1237769"
  },
  {
    "text": "so again this is going to start pulling and data from our other accounts have a little bit of editing magic here we can",
    "start": "1254400",
    "end": "1260130"
  },
  {
    "text": "see that we now have two rules in compliance you know these are the cloud trailers present rules and both the",
    "start": "1260130",
    "end": "1265140"
  },
  {
    "text": "child accounts we created now I'm gonna",
    "start": "1265140",
    "end": "1271590"
  },
  {
    "text": "go into one of my child accounts you can",
    "start": "1271590",
    "end": "1278130"
  },
  {
    "text": "see that we have that one rule and you go into rules I'm gonna create a rule so",
    "start": "1278130",
    "end": "1283350"
  },
  {
    "text": "in this case I was looking for something that was relatively straightforward to demo this is the selection of the built",
    "start": "1283350",
    "end": "1288360"
  },
  {
    "text": "in rules again you're not limited to these we have a repository of custom rules and github and you can obviously",
    "start": "1288360",
    "end": "1293820"
  },
  {
    "text": "write your own and so I'm just gonna create a rule that says you know the",
    "start": "1293820",
    "end": "1299700"
  },
  {
    "text": "instance type you know in our account should just be teaching micro you know this is you know we're pretty budget",
    "start": "1299700",
    "end": "1306570"
  },
  {
    "text": "constrained organization this quarter you want to make sure that you know people aren't using bigger instances than they need to be so we're going to",
    "start": "1306570",
    "end": "1313500"
  },
  {
    "text": "go through and start that the rule is gonna be evaluating that's gonna tell me I don't actually have any ec2 instances",
    "start": "1313500",
    "end": "1318870"
  },
  {
    "text": "which is you know which is what I expect I'm gonna go through the create in ec2",
    "start": "1318870",
    "end": "1324660"
  },
  {
    "text": "instance that is non-compliance we're",
    "start": "1324660",
    "end": "1329880"
  },
  {
    "text": "gonna see here that in launch instances you know someone's feeling a little like",
    "start": "1329880",
    "end": "1339360"
  },
  {
    "text": "a teaching micro isn't quite enough we're gonna want to teach you small go",
    "start": "1339360",
    "end": "1344550"
  },
  {
    "text": "ahead and wait for that to create",
    "start": "1344550",
    "end": "1347750"
  },
  {
    "text": "reload right we're running so going back to config we can see that going into our",
    "start": "1357850",
    "end": "1369549"
  },
  {
    "text": "rules we're still seeing you're still seeing that the one rule is you know",
    "start": "1369549",
    "end": "1375610"
  },
  {
    "text": "it's present so let me go over to my my rule setting reload we can we now see",
    "start": "1375610",
    "end": "1384910"
  },
  {
    "text": "that there's one non-compliant resource under desired instance type you know we've created a small rather than a",
    "start": "1384910",
    "end": "1389950"
  },
  {
    "text": "micro I'm gonna go back to my master",
    "start": "1389950",
    "end": "1395169"
  },
  {
    "text": "account here and see that this data has been pushed up and aggregated we also",
    "start": "1395169",
    "end": "1404169"
  },
  {
    "text": "see here this is just an artifact of the demo they can fig rolls for all of our other AWS all the other regions in our",
    "start": "1404169",
    "end": "1410530"
  },
  {
    "text": "child accounts have now feel fully aggregated so we have you know two rules per eye rather two accounts and then",
    "start": "1410530",
    "end": "1419020"
  },
  {
    "text": "there's a config rule in each one of the regions that's specifying that cloud trail is active in that region so that's why the amount of in compliance rules in",
    "start": "1419020",
    "end": "1426100"
  },
  {
    "text": "compliance rules has shot up but we now see our one non-compliant rule for our desired instance type",
    "start": "1426100",
    "end": "1432809"
  },
  {
    "text": "let me talk about securing and monitoring your actual workloads I needed us so there's a couple things I'm",
    "start": "1438800",
    "end": "1444890"
  },
  {
    "start": "1442000",
    "end": "1442000"
  },
  {
    "text": "going to talk about here Systems Manager is allows you to at centralize your operational data from your actual",
    "start": "1444890",
    "end": "1450380"
  },
  {
    "text": "instances running themselves so you know on your instances we have a few images",
    "start": "1450380",
    "end": "1455390"
  },
  {
    "text": "that have the systems manager agent built in this would be our Windows instances as well as our Amazon Linux",
    "start": "1455390",
    "end": "1460550"
  },
  {
    "text": "instances and what this agent does it allows you to you know plug into the",
    "start": "1460550",
    "end": "1466580"
  },
  {
    "text": "management functionality in AWS and what you can do there is you know define and",
    "start": "1466580",
    "end": "1471590"
  },
  {
    "text": "maintain you know a desired state of you know not just the resources in AWS but",
    "start": "1471590",
    "end": "1476840"
  },
  {
    "text": "the resources running you know quote unquote above the hypervisor you know in the ec2 instances you control you can",
    "start": "1476840",
    "end": "1483559"
  },
  {
    "text": "take inventory so I can you know at once I have the agent installed on each one of these instances I can inventory",
    "start": "1483559",
    "end": "1489500"
  },
  {
    "text": "what's running on these instances you know see if I'm seeing old versions of software you know new software I haven't",
    "start": "1489500",
    "end": "1496160"
  },
  {
    "text": "seen before you know think sort of management tools like that as well as managing to update patches you know I",
    "start": "1496160",
    "end": "1503420"
  },
  {
    "text": "can select in a deploy operating system you know patch baseline I can you know enforce a policy of what my you know how",
    "start": "1503420",
    "end": "1510230"
  },
  {
    "text": "long I want to wait after a patch is released before I roll it out to my entire fleet and I can actually use Systems Manager to run commands on those",
    "start": "1510230",
    "end": "1515960"
  },
  {
    "text": "instances that have the agent installed to update that to the appropriate patch baseline I'm unfortunately we're a",
    "start": "1515960",
    "end": "1522470"
  },
  {
    "text": "little short on time today and I'm not fully doing Systems Manager justice so definitely check that out later",
    "start": "1522470",
    "end": "1529960"
  },
  {
    "start": "1529000",
    "end": "1529000"
  },
  {
    "text": "next thing I talk about is a new new feature we have for a new product we have called into a secrets manager so if",
    "start": "1530030",
    "end": "1537260"
  },
  {
    "text": "you've ever deployed or managed it managed your applications in production the question is what do I do with all the secrets that this application has",
    "start": "1537260",
    "end": "1543700"
  },
  {
    "text": "you know an AWS you know we can provide ec2 key or us keys directly to any c2",
    "start": "1543700",
    "end": "1550100"
  },
  {
    "text": "instance using instance profiles but you often have other other secrets and other resources as well things like database",
    "start": "1550100",
    "end": "1556220"
  },
  {
    "text": "passwords things like API keys to other services you know maybe even things like",
    "start": "1556220",
    "end": "1561500"
  },
  {
    "text": "encryption keys or you know certificates so you don't want to put those in the",
    "start": "1561500",
    "end": "1566840"
  },
  {
    "text": "configuration you don't want to put those in your you don't want to put those in your source repository and you want to be able to audit insuk",
    "start": "1566840",
    "end": "1572640"
  },
  {
    "text": "and make sure that you know end-users are you know your engineers aren't seeing them they're not being compromised and you also want to rotate",
    "start": "1572640",
    "end": "1578910"
  },
  {
    "text": "them so what secrets manager do it does is provide a full set of functionality for the lifecycle of a secret you know",
    "start": "1578910",
    "end": "1585360"
  },
  {
    "text": "from you know provisioning it to rotating it to delivering it to your applications and providing full visibility within that process you know",
    "start": "1585360",
    "end": "1592440"
  },
  {
    "text": "add spine green access controls based on identity and access management manage credential rotation which I'm going to",
    "start": "1592440",
    "end": "1598950"
  },
  {
    "text": "demonstrate in a second and then built an integration with Amazon RDS so if you're using Amazon RDS you can use",
    "start": "1598950",
    "end": "1604320"
  },
  {
    "text": "secrets manager today to deliver secrets to your application and automatically you'll automatically rotate them so I'm",
    "start": "1604320",
    "end": "1612660"
  },
  {
    "text": "going to demo that so what if what I've",
    "start": "1612660",
    "end": "1622380"
  },
  {
    "text": "set up here is I have a a a couple hosts in a V PC and then within that V PC I",
    "start": "1622380",
    "end": "1628620"
  },
  {
    "text": "have an RDS instance RDS PostgreSQL instance that's brand new I've just created it with a master user and that",
    "start": "1628620",
    "end": "1634920"
  },
  {
    "text": "master user's credential is changed me obviously that is not a desired configuration so I'm going to you know",
    "start": "1634920",
    "end": "1644280"
  },
  {
    "text": "set up the master user's password in secrets manager so here I'm just gonna set the endpoint of my database you know",
    "start": "1644280",
    "end": "1653970"
  },
  {
    "text": "put the password in an environment variable not not a very good password and then just you know setup the piece",
    "start": "1653970",
    "end": "1662250"
  },
  {
    "text": "equal command to just connect to the shell really quickly you can amusing the command line here but this is equally",
    "start": "1662250",
    "end": "1667860"
  },
  {
    "text": "applicable to your application you'll see in a second that there'll be sample code for the IDPs SDKs you know if I'm",
    "start": "1667860",
    "end": "1673530"
  },
  {
    "text": "using a job application c-sharp Python narrowed so you can see that the password has changed me I can log into",
    "start": "1673530",
    "end": "1679110"
  },
  {
    "text": "the shell that's gross so let's go ahead and enroll this secret into secrets manager just gonna go into",
    "start": "1679110",
    "end": "1686670"
  },
  {
    "text": "the console and hit store and your secret first option here's credentials",
    "start": "1686670",
    "end": "1693210"
  },
  {
    "text": "for an RDS database although if I had other types of Secrets I could do that here again password has changed me we're",
    "start": "1693210",
    "end": "1701100"
  },
  {
    "text": "gonna select the kms key that we'd like to use this could be I'm just gonna use the default here but this could be a kms",
    "start": "1701100",
    "end": "1706140"
  },
  {
    "text": "key maybe you've imported using you know custom key material you know and all the",
    "start": "1706140",
    "end": "1711600"
  },
  {
    "text": "all the normal you know features of you know came at supply here and they create",
    "start": "1711600",
    "end": "1717990"
  },
  {
    "text": "a secret named PG / master user this is just the password for a master user the",
    "start": "1717990",
    "end": "1725730"
  },
  {
    "text": "namespace and slashes can be helpful in permissions so we're going to do is I want to automatically rotate this you",
    "start": "1725730",
    "end": "1733409"
  },
  {
    "text": "know I can select an interval of rotation you know from the drop down here or create a custom one it's a demo we're gonna have a pretty aggressive",
    "start": "1733409",
    "end": "1739110"
  },
  {
    "text": "rotation schedule seven days and I can choose whether I want to use this secret to rotate itself or do I want to rotate",
    "start": "1739110",
    "end": "1746070"
  },
  {
    "text": "this using a different credential right like if I have in this case I'm storing the master user so I'm going to use its",
    "start": "1746070",
    "end": "1751350"
  },
  {
    "text": "own password to rotate it",
    "start": "1751350",
    "end": "1754970"
  },
  {
    "text": "so we're going to go through check this would this is the just going through here this is some sample code just",
    "start": "1761710",
    "end": "1768160"
  },
  {
    "text": "showing you how you would retrieve the secret from the SDK do you a depending on which environment you're using you're not limited to those four languages this",
    "start": "1768160",
    "end": "1774760"
  },
  {
    "text": "works with any of our SDKs so we've",
    "start": "1774760",
    "end": "1780940"
  },
  {
    "text": "created the secret and it's going to actually set up and rotate the secret",
    "start": "1780940",
    "end": "1785950"
  },
  {
    "text": "now and so what this is actually doing under the hood is it's actually deployed",
    "start": "1785950",
    "end": "1792700"
  },
  {
    "text": "a CloudFormation template from our repository that creates a lambda",
    "start": "1792700",
    "end": "1798730"
  },
  {
    "text": "function that sits inside the DPC of your database and you know performs the",
    "start": "1798730",
    "end": "1805810"
  },
  {
    "text": "rotation using that lambda function so you can you know take a look at that line of function you'll base your own code off of that too to rotate this but",
    "start": "1805810",
    "end": "1813010"
  },
  {
    "text": "there's no magic here you know there's no privileged pathway that we've we've created to you know connect to your",
    "start": "1813010",
    "end": "1818140"
  },
  {
    "text": "database and set the password for arbitrary users you can reset the master user using the RDS API but for other",
    "start": "1818140",
    "end": "1823840"
  },
  {
    "text": "database users we you know you know this is all you know this is all within the environment this is all some of you",
    "start": "1823840",
    "end": "1830140"
  },
  {
    "text": "control this is all something that gives you visibility we can see that in the lambda function has been invoked by",
    "start": "1830140",
    "end": "1835630"
  },
  {
    "text": "secrets manager it's been invoked once there are no errors so hopefully our secret has been rotated you can see here",
    "start": "1835630",
    "end": "1847840"
  },
  {
    "text": "the network it inherited the network configuration from your database so this is the tooth these are the two subnets from the database subnet group and this",
    "start": "1847840",
    "end": "1855190"
  },
  {
    "text": "is the security group from the from the database so you need to make sure that the security group the database has can",
    "start": "1855190",
    "end": "1862030"
  },
  {
    "text": "connect to itself so it says we your",
    "start": "1862030",
    "end": "1867940"
  },
  {
    "text": "secrets been stored so I'm going to try to connect to database with change me",
    "start": "1867940",
    "end": "1874030"
  },
  {
    "text": "it's not going to work so now I'm going to try to retrieve the secret from",
    "start": "1874030",
    "end": "1880420"
  },
  {
    "text": "secrets manager and pass that into the P sequel command to see if that's going to work we may have forgotten to do",
    "start": "1880420",
    "end": "1887350"
  },
  {
    "text": "something so this year I'm just like you know",
    "start": "1887350",
    "end": "1894620"
  },
  {
    "text": "where we set the password before I'm just calling out using the sub shell to the 80s command line again this little",
    "start": "1894620",
    "end": "1901340"
  },
  {
    "text": "gross you'd want to use the SDK you'd want to use your application but you know it's a demo outside this is going",
    "start": "1901340",
    "end": "1911000"
  },
  {
    "text": "to return a block of JSON so I'm actually going to parse the password out of the JSON block that the secrets manager command live returns so this is",
    "start": "1911000",
    "end": "1919550"
  },
  {
    "text": "not dumped critical just you know how I implemented it",
    "start": "1919550",
    "end": "1923919"
  },
  {
    "text": "and this is our master user or connect",
    "start": "1933120",
    "end": "1938220"
  },
  {
    "text": "Postgres database and so we're actually not actually not set up permissions yet",
    "start": "1938220",
    "end": "1943500"
  },
  {
    "text": "so you know we noticed that there are you'll find green access controls here",
    "start": "1943500",
    "end": "1949140"
  },
  {
    "text": "we need to make sure that the instance that I'm connecting to has no access to the instance profile that can connect to",
    "start": "1949140",
    "end": "1954570"
  },
  {
    "text": "this so I'm just gonna go in edit my policy for this host real quick going in",
    "start": "1954570",
    "end": "1967470"
  },
  {
    "text": "and update the permissions here just to show you what a policy looks like that allows secrets access so here we've you",
    "start": "1967470",
    "end": "1974760"
  },
  {
    "text": "know set up a secret to set up the resources here for a pre-existing secret",
    "start": "1974760",
    "end": "1980060"
  },
  {
    "text": "but I've given it a different name so I'm just gonna go to the editor and change it to the correct one you'll",
    "start": "1980060",
    "end": "1988230"
  },
  {
    "text": "notice that 6 X 6 question marks on the back end that's a wild card for the for",
    "start": "1988230",
    "end": "1994530"
  },
  {
    "text": "the resource name that secrets manager will create you know once you give it that you know sort of slash limited path",
    "start": "1994530",
    "end": "2000770"
  },
  {
    "text": "name it's also going to post pend a little hex string to it and that's to",
    "start": "2000770",
    "end": "2007610"
  },
  {
    "text": "preserve the uniqueness of the AR n between maybe different instantiations",
    "start": "2007610",
    "end": "2012920"
  },
  {
    "text": "of the same secret name so if you I delete a secret and it comes back I don't necessarily want to allow the you",
    "start": "2012920",
    "end": "2020510"
  },
  {
    "text": "know permissions on it so if I want to be very precise about what secret I'm allowed you I can include the the",
    "start": "2020510",
    "end": "2025670"
  },
  {
    "text": "literal hex string there in this case I don't care if there's any secret in my account that has that name I'm gonna keep it so that's what the question",
    "start": "2025670",
    "end": "2031700"
  },
  {
    "text": "marks are if I put a star there it would allow any arbitrary text after that so this is just to constrain it a little",
    "start": "2031700",
    "end": "2037010"
  },
  {
    "text": "bit more that's why I've reconnected I'm your access has been allowed and so I'm just",
    "start": "2037010",
    "end": "2043010"
  },
  {
    "text": "gonna create a database and we're going to create a new sub user demo user a",
    "start": "2043010",
    "end": "2048040"
  },
  {
    "text": "demo user also has a very poor choice of password just gonna grant privileges to",
    "start": "2048040",
    "end": "2053540"
  },
  {
    "text": "that demo user on our demo database",
    "start": "2053540",
    "end": "2056830"
  },
  {
    "text": "so good what I'm going to do this time in secrets manager is in the first case we created a secret that was rotate that",
    "start": "2068030",
    "end": "2074870"
  },
  {
    "text": "was rotating itself using its own credentials in this case I'm going to rotate demo user's password using master",
    "start": "2074870",
    "end": "2081138"
  },
  {
    "text": "users credential because I you know want to make sure that you know we have the",
    "start": "2081139",
    "end": "2088908"
  },
  {
    "text": "correct audit you know we're recording it with the right user so again it's",
    "start": "2088909",
    "end": "2097640"
  },
  {
    "text": "very similar process again we're going",
    "start": "2097640",
    "end": "2102920"
  },
  {
    "text": "to rotate this automatically just get three days so this case I'm going to",
    "start": "2102920",
    "end": "2109040"
  },
  {
    "text": "rather than using the secret itself I'm going to use the secret I've previously stored with secrets manager",
    "start": "2109040",
    "end": "2115840"
  },
  {
    "text": "again same sample code and so this is gonna be slightly different because",
    "start": "2126920",
    "end": "2132170"
  },
  {
    "text": "we've deployed the lambda function but we've not fully permissioned the lambda",
    "start": "2132170",
    "end": "2137599"
  },
  {
    "text": "function to access the the source secret so we actually need to for security reasons go through and explicitly grant",
    "start": "2137599",
    "end": "2143480"
  },
  {
    "text": "permission to the master users credential to that lambda function that's all we're gonna do real quick here so you just click on role there to",
    "start": "2143480",
    "end": "2153349"
  },
  {
    "text": "breathe drop your right to the IM console",
    "start": "2153349",
    "end": "2157180"
  },
  {
    "text": "at that policy I'm just gonna fast forward this we're doing here is we're",
    "start": "2168250",
    "end": "2175480"
  },
  {
    "text": "adding get secret value to our master user if you the policy update it now",
    "start": "2175480",
    "end": "2186609"
  },
  {
    "text": "we're going to now that we've set the permission we're going to rotate that credential",
    "start": "2186609",
    "end": "2190950"
  },
  {
    "text": "and now we can connect as the demo user using the freshly rotated credential so",
    "start": "2198410",
    "end": "2204470"
  },
  {
    "text": "that secrets manager so we've talked",
    "start": "2204470",
    "end": "2209600"
  },
  {
    "text": "about we how do i baseline and provision new accounts how do I monitor my you know eight of us configurations you know",
    "start": "2209600",
    "end": "2216590"
  },
  {
    "text": "what are some of the tools I have to monitor and secure my workloads how do they respond and remediate so let's say",
    "start": "2216590",
    "end": "2222200"
  },
  {
    "text": "that I in my config environment you know it's something has come out of configuration what can I do just besides",
    "start": "2222200",
    "end": "2227780"
  },
  {
    "text": "emailing me and paging me right I get enough emails and pages already so you in some cases you may actually be able",
    "start": "2227780",
    "end": "2233120"
  },
  {
    "text": "to automatically take remediation actions my favorite example of this is",
    "start": "2233120",
    "end": "2238990"
  },
  {
    "text": "logging there's a lot of different resources enable us that need to have logging turned on as three buckets",
    "start": "2238990",
    "end": "2245770"
  },
  {
    "text": "excuse me as three buckets are one elastic load balancers cloud front distributions",
    "start": "2245770",
    "end": "2251920"
  },
  {
    "text": "there's a lot of different services that throw off logs and in most cases you need to go through and turn that on manually because it could be high-volume",
    "start": "2251920",
    "end": "2258230"
  },
  {
    "text": "you know we don't assume you don't necessarily want to pay for it if you're no care so we're gonna use cloud watch",
    "start": "2258230",
    "end": "2263270"
  },
  {
    "text": "events so what cloud watch events does is you know it gets information from different able us services of events",
    "start": "2263270",
    "end": "2269240"
  },
  {
    "text": "that have occurred you know this isn't this is sort of different from configuration changes this is more about you know wind things when things happen",
    "start": "2269240",
    "end": "2276700"
  },
  {
    "text": "you can also use cloud watch to manage scheduled events so this is very similar",
    "start": "2276700",
    "end": "2282110"
  },
  {
    "text": "to cron and then I create event filter pattern so I can say like I want to pick",
    "start": "2282110",
    "end": "2287600"
  },
  {
    "text": "up on all you know ec2 state changes or I want to pick up on you know everything from this timer that I've sat in this",
    "start": "2287600",
    "end": "2294200"
  },
  {
    "text": "case we're gonna you know pick up on win a configuration resource or config resource has gone out of compliance and",
    "start": "2294200",
    "end": "2300890"
  },
  {
    "text": "then I specify an event target you know again this could be something as simple as an SMS topic to send me a page it",
    "start": "2300890",
    "end": "2306950"
  },
  {
    "text": "could be a lambda function it could be a particularly c2 action I want to take you know when I get this action reboot",
    "start": "2306950",
    "end": "2313070"
  },
  {
    "text": "this instance you know hold you know did a whole set of things and services that",
    "start": "2313070",
    "end": "2319670"
  },
  {
    "start": "2315000",
    "end": "2315000"
  },
  {
    "text": "it integrates with maybe I want to kick off a step functions workflow maybe I want to create a queue message get",
    "start": "2319670",
    "end": "2326210"
  },
  {
    "text": "things like elastic container service or abs patch maybe I want to kick off a build so this is sort of an all-purpose",
    "start": "2326210",
    "end": "2332450"
  },
  {
    "text": "event publish and subscribe system for platform events in this case I'm going",
    "start": "2332450",
    "end": "2338450"
  },
  {
    "text": "to you know and agree with or rather and rather new targets of a Systems Manager a diverse inspector intimate sources",
    "start": "2338450",
    "end": "2347630"
  },
  {
    "start": "2346000",
    "end": "2346000"
  },
  {
    "text": "this would be things like API calls scheduled events and then service events",
    "start": "2347630",
    "end": "2352640"
  },
  {
    "text": "there's a wide variety of our maybe of services that we integrate with things like as I mentioned ec2 is like auto",
    "start": "2352640",
    "end": "2361970"
  },
  {
    "text": "scaling maybe I want to be notified when my cluster scales up and down no but in this time you're mostly concerned about",
    "start": "2361970",
    "end": "2367730"
  },
  {
    "text": "you know how do i how do I handle configuration resources so let me demo",
    "start": "2367730",
    "end": "2375710"
  },
  {
    "text": "that",
    "start": "2375710",
    "end": "2377950"
  },
  {
    "text": "so ruefully I'm just gonna go into I am here and I like to show this for you",
    "start": "2389470",
    "end": "2394690"
  },
  {
    "text": "know housekeeping you and so that when you try this on your own you understand we know what the policies and permissions are in this case we're going",
    "start": "2394690",
    "end": "2403360"
  },
  {
    "text": "to allow lamda we're going to create a a policy that allows lamda to assume a",
    "start": "2403360",
    "end": "2409420"
  },
  {
    "text": "assume a role in a different account in order to modify the configuration in that account so in this case you know if",
    "start": "2409420",
    "end": "2415480"
  },
  {
    "text": "we create an s3 bucket in another account we want to make sure that you know if that bucket does not have",
    "start": "2415480",
    "end": "2420880"
  },
  {
    "text": "logging configured that we can go into that account and turn logging on this is",
    "start": "2420880",
    "end": "2426040"
  },
  {
    "text": "very similar to what we were doing with cloud formation but I'm just going to create a role that allows lamda to",
    "start": "2426040",
    "end": "2431770"
  },
  {
    "text": "assume the roles and my child accounts",
    "start": "2431770",
    "end": "2435360"
  },
  {
    "text": "rather creative policy I'm going to create the role this case we're gonna",
    "start": "2449040",
    "end": "2456720"
  },
  {
    "text": "have a lambda function so we've already",
    "start": "2456720",
    "end": "2462120"
  },
  {
    "text": "created the policy you're just gonna select that as well as the lambda basic execution role if you're less familiar with lambda what the basic execution",
    "start": "2462120",
    "end": "2468810"
  },
  {
    "text": "role does is basically to is just allow the lambda function to write to cloud watch logs so this is something that all lambda functions have to have and we're",
    "start": "2468810",
    "end": "2476460"
  },
  {
    "text": "just going to call this lambda remediation role now I'm gonna set up",
    "start": "2476460",
    "end": "2484740"
  },
  {
    "text": "the function to go in and turn logging on on my s3 buckets so going in I'm",
    "start": "2484740",
    "end": "2490200"
  },
  {
    "text": "going to create a function in this case we have a new example code in the blue",
    "start": "2490200",
    "end": "2497310"
  },
  {
    "text": "in the application repository but I'm just going to do a copy-paste some example code here we've already created",
    "start": "2497310",
    "end": "2506130"
  },
  {
    "text": "our role so we're just going to choose the lambda remediation role hitting create function it's going to drop us",
    "start": "2506130",
    "end": "2512160"
  },
  {
    "text": "down into the code editor",
    "start": "2512160",
    "end": "2515030"
  },
  {
    "text": "so this a it's just to walk through the code a little bit you know we're creating a client for the security token",
    "start": "2523309",
    "end": "2529909"
  },
  {
    "text": "service this is going to allow us to pivot to your great gig credentials for the child account we want to operate in",
    "start": "2529909",
    "end": "2534919"
  },
  {
    "text": "and this is gonna parse out the the message we're getting from config so in this case if config is telling us that",
    "start": "2534919",
    "end": "2542059"
  },
  {
    "text": "we've received a notice because our environment is now compliant we don't care oh we care about if it's not compliant",
    "start": "2542059",
    "end": "2547809"
  },
  {
    "text": "we're going to assume the role in the destination account and then we're gonna",
    "start": "2547809",
    "end": "2552829"
  },
  {
    "text": "take that role and we're just here we're just taking the credentials from that we got from the API called we're using that",
    "start": "2552829",
    "end": "2558319"
  },
  {
    "text": "to create a session for the SDK on the down here at the bottom is our actual",
    "start": "2558319",
    "end": "2563689"
  },
  {
    "text": "API call we're just gonna call put bucket logging on s3 so we're gonna hit save so the next thing we need to do is",
    "start": "2563689",
    "end": "2575929"
  },
  {
    "text": "actually go through go into cloud watch and you'll create the create the rule so",
    "start": "2575929",
    "end": "2581900"
  },
  {
    "text": "in our parent account we're gonna do this in two places first we're gonna create the and event bus which is going",
    "start": "2581900",
    "end": "2588109"
  },
  {
    "text": "to allow the child account to publish events to the parent account this case I'm just gonna let everyone you know write permissions to this although you",
    "start": "2588109",
    "end": "2594079"
  },
  {
    "text": "can specify accounts all right specifically and now we're",
    "start": "2594079",
    "end": "2600439"
  },
  {
    "text": "gonna create the rule that actually triggers on you know triggers on a",
    "start": "2600439",
    "end": "2605919"
  },
  {
    "text": "compliance failure and invokes the way into function to to remediate it so in",
    "start": "2605919",
    "end": "2611539"
  },
  {
    "text": "this case we're you know choosing from service it's a configurable compliance change this is a special event to",
    "start": "2611539",
    "end": "2617779"
  },
  {
    "text": "service and I'm going to I only trigger or only you know pick up on on this",
    "start": "2617779",
    "end": "2624049"
  },
  {
    "text": "event if it matches s3 bucket logging enables so here's our event pattern if you think of an event bus as you know",
    "start": "2624049",
    "end": "2630589"
  },
  {
    "text": "every single event in the system passes through it this is just you know defining which of those events we catch on and then we're going to invoke a",
    "start": "2630589",
    "end": "2636799"
  },
  {
    "text": "lambda function that our immediate ice three bucket logging function it's gonna give this a name",
    "start": "2636799",
    "end": "2643929"
  },
  {
    "text": "and so this is just doing one thing but you could all you could you know catch as many different events as you wanted",
    "start": "2660710",
    "end": "2665930"
  },
  {
    "text": "to here you could catch all events you know maybe I have a pretty complicated function that handles a wide variety of different things I'm just using bucket",
    "start": "2665930",
    "end": "2672619"
  },
  {
    "text": "logging as an example so we're going to pivot to our child account you know up",
    "start": "2672619",
    "end": "2677660"
  },
  {
    "text": "here notice that on the the red bubble there and this is almost exactly the",
    "start": "2677660",
    "end": "2683059"
  },
  {
    "text": "same configuration we're going through we're you know creating the event pattern here at the bottom account again",
    "start": "2683059",
    "end": "2688940"
  },
  {
    "text": "we're forwarding only the s3 bucket logging a table to vent but here on the",
    "start": "2688940",
    "end": "2694760"
  },
  {
    "text": "target instead of the lambda function because you know this is our child account now we're going to forward this event to the parent account one thing I",
    "start": "2694760",
    "end": "2701690"
  },
  {
    "text": "could do rather than making this specific is just forward all events to the parent account it's going to be all events for a service to the parent",
    "start": "2701690",
    "end": "2707809"
  },
  {
    "text": "account there's no reason this has to be you know as specific as the one in the parent account and again I'm doing this",
    "start": "2707809",
    "end": "2716690"
  },
  {
    "text": "in the console but this is something that you could and not just good but should automate using CloudFormation in your baseline",
    "start": "2716690",
    "end": "2723579"
  },
  {
    "text": "so now in my child account still I haven't actually created the rule I wish to target on so I'm going to create that",
    "start": "2734819",
    "end": "2740880"
  },
  {
    "text": "in config",
    "start": "2740880",
    "end": "2743328"
  },
  {
    "text": "you're gonna can I can't scope this rule down but I'm just going to apply this salt buckets go through I'll let the",
    "start": "2751000",
    "end": "2759430"
  },
  {
    "text": "rule about you wait here so right now the we have one s3 bucket for the logs",
    "start": "2759430",
    "end": "2764920"
  },
  {
    "text": "but it's it's already logging so it's compliant so we're to go ahead and create a non compliant resource and see what happens I'm gonna head over to s3",
    "start": "2764920",
    "end": "2772150"
  },
  {
    "text": "in my child account I'm going to create",
    "start": "2772150",
    "end": "2780520"
  },
  {
    "text": "a new bucket just give it a name example bucket and purposefully not going to set",
    "start": "2780520",
    "end": "2786610"
  },
  {
    "text": "up any other you know configuration on this bucket it will be private by default but it won't have logging on by",
    "start": "2786610",
    "end": "2792070"
  },
  {
    "text": "default which is what we care about so I do have the chance to turn it on here and I'm not gonna hit next",
    "start": "2792070",
    "end": "2800250"
  },
  {
    "text": "so our bucket has been created I'm gonna head on back over to config again a",
    "start": "2800250",
    "end": "2810220"
  },
  {
    "text": "little bit of Hollywood here I'm exaggerating the by a couple minutes the speed at which this takes place so we",
    "start": "2810220",
    "end": "2817720"
  },
  {
    "text": "can now see that we have a non-compliant resource that's three bucket logging has been enabled or s3 bucket bucket has",
    "start": "2817720",
    "end": "2823210"
  },
  {
    "text": "been created that is non-compliant so this is an important point here that within the config console we can",
    "start": "2823210",
    "end": "2829120"
  },
  {
    "text": "actually pinpoint the resource that was non-compliant it doesn't just tell us that the environment was out of compliance it tells us the environment",
    "start": "2829120",
    "end": "2835480"
  },
  {
    "text": "is out of compliance because this resource is out of compliance but what",
    "start": "2835480",
    "end": "2840520"
  },
  {
    "text": "this is done is we've triggered this and this is sending it this has sent a message on the cloud watch events using",
    "start": "2840520",
    "end": "2846760"
  },
  {
    "text": "cloud watch events it's been picked up by the filter in the child account and it republished that to the cloud watch",
    "start": "2846760",
    "end": "2853090"
  },
  {
    "text": "event bus in the parent account and the cloud watch event bus and the parent account has a rule that invoked a lambda",
    "start": "2853090",
    "end": "2858520"
  },
  {
    "text": "function that should be again assuming the rollback into the child account to turn logging back arm alright so let's",
    "start": "2858520",
    "end": "2863920"
  },
  {
    "text": "see if it worked we're gonna go up head over to s3",
    "start": "2863920",
    "end": "2876120"
  },
  {
    "text": "take a look at the configuration for example bucket head over to properties",
    "start": "2877970",
    "end": "2883130"
  },
  {
    "text": "looks like it hasn't been turned on yet give it a second give it another second",
    "start": "2883130",
    "end": "2893660"
  },
  {
    "text": "we see the server access logging has been enabled by the random function we created in the parent account so what",
    "start": "2894560",
    "end": "2901200"
  },
  {
    "text": "does that mean it means that our config resource our config rule should be back in compliance and again this is",
    "start": "2901200",
    "end": "2909480"
  },
  {
    "text": "something that you can do I mean this is a pretty mundane use case and I like it cuz it's easy to follow but this could be anything this could be things like",
    "start": "2909480",
    "end": "2915540"
  },
  {
    "text": "firewall rules - I have ports open I could choose to you know automatically",
    "start": "2915540",
    "end": "2920610"
  },
  {
    "text": "you know close gaps in the firewall if this happens you know I could you know",
    "start": "2920610",
    "end": "2925710"
  },
  {
    "text": "if something is really out of compliance I could shut down instances like it's sort of be as aggressive or as light as I wanted to in terms of compliance we",
    "start": "2925710",
    "end": "2931920"
  },
  {
    "text": "can see here that the the rules been re-evaluated and our resource is compliant",
    "start": "2931920",
    "end": "2938330"
  },
  {
    "text": "so again just to recap with a couple seconds left abbs config it because",
    "start": "2952610",
    "end": "2960080"
  },
  {
    "text": "config regression ABS config rules there's a lot of great tools management",
    "start": "2960080",
    "end": "2966530"
  },
  {
    "text": "tools out there that help you you know get the status of all your child accounts you know bring them into",
    "start": "2966530",
    "end": "2971750"
  },
  {
    "text": "compliance automatically get notified about them if you have any questions I'd you know check out the AWS website and",
    "start": "2971750",
    "end": "2977800"
  },
  {
    "text": "take a look at the management tools and just a couple seconds left so thank you very much [Applause]",
    "start": "2977800",
    "end": "2986320"
  }
]