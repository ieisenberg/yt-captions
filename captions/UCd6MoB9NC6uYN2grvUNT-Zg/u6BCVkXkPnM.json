[
  {
    "text": "all right welcome everyone anyone that cannot hear me",
    "start": "1370",
    "end": "7370"
  },
  {
    "text": "great excellent let's get started so",
    "start": "7370",
    "end": "11960"
  },
  {
    "text": "this session I truly believe if you take the learnings from it it could actually",
    "start": "12440",
    "end": "17760"
  },
  {
    "text": "save your job or even your organization I've been in cybersecurity and architecture for a long time and I think",
    "start": "17760",
    "end": "24330"
  },
  {
    "text": "everything's good in hindsight right this is the hindsight session take what you learn today actually action it and",
    "start": "24330",
    "end": "31260"
  },
  {
    "text": "if you already know what I'm going to present then try and iterate on it and then share it back for the community",
    "start": "31260",
    "end": "36600"
  },
  {
    "text": "through open source projects so that's my challenge to you all today going to be going through an introduction to the",
    "start": "36600",
    "end": "42750"
  },
  {
    "text": "well architected framework then we're going to move on to the five areas of security in the well architected",
    "start": "42750",
    "end": "48899"
  },
  {
    "text": "framework now I've been guilty many times and putting incident response last in every presentation so now I've got it",
    "start": "48899",
    "end": "55320"
  },
  {
    "text": "first right so we're gonna do Incident Response first and it should be front of your mind as well and then we'll move on",
    "start": "55320",
    "end": "61680"
  },
  {
    "text": "through detection and identity and access management the other areas so the three key links that you need to",
    "start": "61680",
    "end": "70290"
  },
  {
    "text": "know for today in this session you're welcome to take a photo is the first link is the main homepage for well",
    "start": "70290",
    "end": "76619"
  },
  {
    "text": "architected framework the second is a web version of all the white papers and",
    "start": "76619",
    "end": "82380"
  },
  {
    "text": "they're frequently updated with little tweaks and and updates over the time we also have well architected labs website",
    "start": "82380",
    "end": "89549"
  },
  {
    "text": "which is that one which is also stored in github in the well architected labs github repo this is being in the github",
    "start": "89549",
    "end": "97470"
  },
  {
    "text": "it's open source so it's very simple hands-on labs from introductory through",
    "start": "97470",
    "end": "102930"
  },
  {
    "text": "to advanced topics so you can actually learn hands-on and if you have any feedback you can easily do a pull",
    "start": "102930",
    "end": "108659"
  },
  {
    "text": "request or submit an issue you can get hub for us to really appreciate that feedback",
    "start": "108659",
    "end": "113899"
  },
  {
    "text": "so like to ask the question are you well architected there's five pillars of well",
    "start": "113899",
    "end": "120630"
  },
  {
    "text": "architected we start off with operational excellence it's really good to know what your business priorities",
    "start": "120630",
    "end": "126750"
  },
  {
    "text": "are and how you operate your workload and when I say workload I mean a group",
    "start": "126750",
    "end": "132420"
  },
  {
    "text": "of applications that delivers a business value right so it might be your ERP",
    "start": "132420",
    "end": "137540"
  },
  {
    "text": "system is a workload which compromises of many different applications and Suites",
    "start": "137540",
    "end": "142780"
  },
  {
    "text": "then we move on to the most important pillar which is security we move through",
    "start": "142780",
    "end": "150520"
  },
  {
    "text": "reliability performance efficiency and finally cost optimization so these are the five pillars that make",
    "start": "150520",
    "end": "157580"
  },
  {
    "text": "up the well architected framework bit of history so started off in 2012 there's",
    "start": "157580",
    "end": "163850"
  },
  {
    "text": "just a conversation with our customers they're architects had it was are you well architected so what do you mean by",
    "start": "163850",
    "end": "169910"
  },
  {
    "text": "that well that's whiteboard it up we took all these learnings from working with customers and develop the framework",
    "start": "169910",
    "end": "175280"
  },
  {
    "text": "over time really proud that we launched our first self-service tool in the AWS",
    "start": "175280",
    "end": "181310"
  },
  {
    "text": "console last late last year at reinvent conference so you can now use the tool to evaluate your architecture you can",
    "start": "181310",
    "end": "188810"
  },
  {
    "text": "evaluate it even in the design phase it's all the way through to production and continue to iterate and improve the",
    "start": "188810",
    "end": "196280"
  },
  {
    "text": "best practices that you're following also last year and 2017 we're at least",
    "start": "196280",
    "end": "202010"
  },
  {
    "text": "partners so partners specialized accredited partners can go in and do a",
    "start": "202010",
    "end": "207470"
  },
  {
    "text": "review with you and help you with the remediation efforts so the partners the individual is all Pro certified and have",
    "start": "207470",
    "end": "214730"
  },
  {
    "text": "been on our specialists training so they can absolutely help you with that",
    "start": "214730",
    "end": "219850"
  },
  {
    "text": "so we think about well architected to help you build and deploy faster lower",
    "start": "219850",
    "end": "225620"
  },
  {
    "text": "mitigate risks and so on but it's really about delivering the business value so",
    "start": "225620",
    "end": "231050"
  },
  {
    "text": "again we've tied back to operational excellence what is the value that you are delivering in this particular work",
    "start": "231050",
    "end": "236480"
  },
  {
    "text": "life this suite of applications they're well architect at all we're",
    "start": "236480",
    "end": "242530"
  },
  {
    "text": "building out multiple regions globally we recently launched Sydney if you haven't told my accent I'd love the",
    "start": "242530",
    "end": "249230"
  },
  {
    "text": "Sydney region plots you can use it as learning tool so even if you use the tool just as learning you might try out",
    "start": "249230",
    "end": "256489"
  },
  {
    "text": "say the security pillar that's fine as long as you're getting something out of it it is free to use in the console",
    "start": "256489",
    "end": "264370"
  },
  {
    "text": "so what should you do first I often get customers that say ok Ben I've done it",
    "start": "264580",
    "end": "269630"
  },
  {
    "text": "well I could take the review I've got lots of high risk issues insecurities like where do I start I don't have all",
    "start": "269630",
    "end": "275750"
  },
  {
    "text": "the time in the world to go and fix it so start with identity and access management so if you are having shared",
    "start": "275750",
    "end": "281930"
  },
  {
    "text": "root credentials everywhere obviously that's something that you want to fix first so from that move on to using",
    "start": "281930",
    "end": "287990"
  },
  {
    "text": "automation so I put automation next here because you can use automation to do everything else well technically you can",
    "start": "287990",
    "end": "295039"
  },
  {
    "text": "actually use automation to create the Identity and Access Management things but using automation there moving on to",
    "start": "295039",
    "end": "301910"
  },
  {
    "text": "Detective controls so have you turned on Guardian cloud trail and all those detective services then being prepared",
    "start": "301910",
    "end": "308810"
  },
  {
    "text": "for an incident yes I put it last now but you should actually get identity access management right first so these",
    "start": "308810",
    "end": "315710"
  },
  {
    "text": "are the four critical things and the order in which I recommend you do them",
    "start": "315710",
    "end": "321280"
  },
  {
    "text": "we have a number of design principles for security for well architected so",
    "start": "321930",
    "end": "327610"
  },
  {
    "text": "starting off with Identity and Access Management and finishing off with being prepared for an incident that is",
    "start": "327610",
    "end": "332770"
  },
  {
    "text": "Incident Response probably one of the most critical ones besides automation is",
    "start": "332770",
    "end": "339270"
  },
  {
    "text": "keeping people away from data you don't want administrators or end users of",
    "start": "339270",
    "end": "345159"
  },
  {
    "text": "business users to directly gain access to data because people make mistakes and",
    "start": "345159",
    "end": "350590"
  },
  {
    "text": "people are going to do something wrong with that data they could corrupt it they could delete it or they could share",
    "start": "350590",
    "end": "357099"
  },
  {
    "text": "it outside your organization unintentionally so it's really critical to keep people away from data and later",
    "start": "357099",
    "end": "363610"
  },
  {
    "text": "on in this session I'll have some insights on how you can do that so this is actually a true story once I",
    "start": "363610",
    "end": "371199"
  },
  {
    "text": "was handed a wordpress site and I was told to secure it and it was on in AWS",
    "start": "371199",
    "end": "377500"
  },
  {
    "text": "and a V PC so what I'm going to do throughout this session is build upon this sample",
    "start": "377500",
    "end": "383050"
  },
  {
    "text": "architecture so you can see I've simply got a single ec2 instance I've got a custom API backed by lambda I'm using",
    "start": "383050",
    "end": "390969"
  },
  {
    "text": "EFS for storage for the WordPress site and I'm using some fundamental services",
    "start": "390969",
    "end": "396520"
  },
  {
    "text": "like SNS for notifications and s3 for storage of the content data so what I'm",
    "start": "396520",
    "end": "403599"
  },
  {
    "text": "going to do is build out this throughout and I'm going to score it I'm gonna rate",
    "start": "403599",
    "end": "409719"
  },
  {
    "text": "it based on the questions the 11 security questions in the world architected pillar and these represent",
    "start": "409719",
    "end": "416139"
  },
  {
    "text": "these red boxes here represent the critical issues for each of the questions and you can see I've I've done",
    "start": "416139",
    "end": "422949"
  },
  {
    "text": "a review and I'm completely red I don't have I'm not following any best practices I have a lot of critical",
    "start": "422949",
    "end": "429699"
  },
  {
    "text": "issues that I need to go in and remediate so let's start off with the incident response first",
    "start": "429699",
    "end": "436080"
  },
  {
    "text": "you can use guard duty as a really easy starting point so god judy has a number of findings and",
    "start": "436080",
    "end": "441919"
  },
  {
    "text": "these findings automatically get data from the data sources see the data",
    "start": "441919",
    "end": "448110"
  },
  {
    "text": "sources include VPC DNS logs flow logs and cloud trail you don't actually need",
    "start": "448110",
    "end": "453539"
  },
  {
    "text": "to go and configure these logging sources guard duty will do that for you consume the data and give you actionable",
    "start": "453539",
    "end": "459240"
  },
  {
    "text": "insights so that things findings that you can go in action and you know there's a high probability they're not",
    "start": "459240",
    "end": "465990"
  },
  {
    "text": "gonna be a false positive if they're gonna be real Bitcoin mining is a big one it will detect Bitcoin mining based",
    "start": "465990",
    "end": "472590"
  },
  {
    "text": "on the DNS logs and the DNS requests and the VPC flow logs so I'd recommend if",
    "start": "472590",
    "end": "478169"
  },
  {
    "text": "you haven't already tried guard duty turn it on there's a free 30-day trial see how it works for you but don't just",
    "start": "478169",
    "end": "484110"
  },
  {
    "text": "turn it on an able alerting so actually get the alerts that affiants otherwise you're gonna have to log into the",
    "start": "484110",
    "end": "489569"
  },
  {
    "text": "console and go and consume them so we've got a new incident response",
    "start": "489569",
    "end": "496379"
  },
  {
    "text": "guide that's linked to at the bottom they're really really good information and insights that was just released last",
    "start": "496379",
    "end": "502440"
  },
  {
    "text": "month so if you pair up guard duty with its findings playbooks or run books some",
    "start": "502440",
    "end": "509400"
  },
  {
    "text": "people call it as well and in partners practice Incident Response for in-game",
    "start": "509400",
    "end": "515250"
  },
  {
    "text": "days it can be very very powerful I've saved a lot of sleep from doing this in",
    "start": "515250",
    "end": "520380"
  },
  {
    "text": "the past and helped a number of customers with with this over the years so that be my recommendation",
    "start": "520380",
    "end": "526579"
  },
  {
    "text": "play books so you can think of play books as just a rough guidance of what you should",
    "start": "526579",
    "end": "533070"
  },
  {
    "text": "do in certain scenarios for incidents as a place to run book which is a really",
    "start": "533070",
    "end": "538800"
  },
  {
    "text": "rigid predefined list of actions or a different scenario so play books is more",
    "start": "538800",
    "end": "544649"
  },
  {
    "text": "loose run books is more tight that's how that's how we define it anyway",
    "start": "544649",
    "end": "550310"
  },
  {
    "text": "play book can be really really simple so this is a markdown example it's very",
    "start": "550310",
    "end": "555839"
  },
  {
    "text": "basic it's missing a lot of info but you get the headings it's in markdown so being a markdown means you can store it",
    "start": "555839",
    "end": "563420"
  },
  {
    "text": "in your source code repository and version when your source code changes",
    "start": "563420",
    "end": "568980"
  },
  {
    "text": "when you information templates your infrastructure as code changes so then you can start to think about hooks so",
    "start": "568980",
    "end": "576300"
  },
  {
    "text": "somebody's changed or added a security group in is that security group or security groups referenced by this",
    "start": "576300",
    "end": "582630"
  },
  {
    "text": "playbook and then do I need to go in and update the playbook should I failed the build in my code pipeline because",
    "start": "582630",
    "end": "589470"
  },
  {
    "text": "somebody hasn't gone and touched the playbook after the main major changes to the code or the infrastructure so this",
    "start": "589470",
    "end": "596010"
  },
  {
    "text": "is a very powerful I like to store run books there instead of in a wiki because you always forget where you put them in",
    "start": "596010",
    "end": "602040"
  },
  {
    "text": "a wiki even though they have great indexes game days really really important to",
    "start": "602040",
    "end": "608970"
  },
  {
    "text": "practice Incident Response unfortunately many people just don't have the time but",
    "start": "608970",
    "end": "614580"
  },
  {
    "text": "if you can carve out a few hours if you're lucky enough to be able to do a full day say every month you can pick",
    "start": "614580",
    "end": "620460"
  },
  {
    "text": "the guard duty findings that are most relevant for you and your workload and run through them create a little run",
    "start": "620460",
    "end": "627300"
  },
  {
    "text": "book or playbook and they're just practicing and practice them openly in the team as you mature that over time",
    "start": "627300",
    "end": "633630"
  },
  {
    "text": "you can think about going to if you're large enough going to a full red team blue team or doing it unscheduled so",
    "start": "633630",
    "end": "641640"
  },
  {
    "text": "having a finding pop up in guard duty or whatever you might be using instead of",
    "start": "641640",
    "end": "646950"
  },
  {
    "text": "and then how the team responds to that and the other team doesn't know that somebody is actually doing that so you",
    "start": "646950",
    "end": "652920"
  },
  {
    "text": "can then continuously evolve that over time more importantly have fun so make it a",
    "start": "652920",
    "end": "658770"
  },
  {
    "text": "fun event the first one you might have a little prize for who creates the best-run book or who finds the threat in",
    "start": "658770",
    "end": "665070"
  },
  {
    "text": "the shortest amount of time so make a bit of a game make it fun and everyone will enjoy it a lot more",
    "start": "665070",
    "end": "673640"
  },
  {
    "text": "right so we're going to build instant response in an architecture diagram there's gonna be a bit tricky but we've",
    "start": "678690",
    "end": "684870"
  },
  {
    "text": "got guard duty on is our detective control we've then got Incident Response playbooks we don't need them all we can",
    "start": "684870",
    "end": "691980"
  },
  {
    "text": "just iterate start with a couple that are most likely for our scenarios they're gonna have two lengths so we can",
    "start": "691980",
    "end": "698279"
  },
  {
    "text": "talk to the number of partners out there in the solution hall or we can look online there's many open-source tool",
    "start": "698279",
    "end": "703649"
  },
  {
    "text": "kits that can help you with instant response on AWS and the applications",
    "start": "703649",
    "end": "709050"
  },
  {
    "text": "that you use also if you look in our labs and I'll be demoing it shortly we've got some guidance in there as well",
    "start": "709050",
    "end": "715230"
  },
  {
    "text": "pre provisioned access is a big thing for Incident Response if you have a security team or individuals that look",
    "start": "715230",
    "end": "721769"
  },
  {
    "text": "after security do they already have access even if it's only read-only into all your accounts if you rang them up",
    "start": "721769",
    "end": "728490"
  },
  {
    "text": "can they immediately respond to something or do you have to go in and Cureton them access and that can be very",
    "start": "728490",
    "end": "734040"
  },
  {
    "text": "tricky in certain circumstances so being prepared and practicing and having that",
    "start": "734040",
    "end": "739829"
  },
  {
    "text": "pre provisioned access and those tools that are ready to go is critical it's all of that hindsight right if you had",
    "start": "739829",
    "end": "745980"
  },
  {
    "text": "this all in hindsight you'd be a lot better off so now the final question of well",
    "start": "745980",
    "end": "751380"
  },
  {
    "text": "architected number eleven is actually an instant response now I've gone through and I've schooled myself raining myself",
    "start": "751380",
    "end": "757620"
  },
  {
    "text": "and I don't have any critical issues now that I've done these things",
    "start": "757620",
    "end": "763759"
  },
  {
    "text": "so let's go to a demo",
    "start": "764750",
    "end": "768550"
  },
  {
    "text": "excellent so this is the well architected labs website and links to",
    "start": "772620",
    "end": "778860"
  },
  {
    "text": "the github repo at the top there so if I scroll down",
    "start": "778860",
    "end": "785000"
  },
  {
    "text": "so we've got levelling level 100 200 300 level 300 instant response",
    "start": "785000",
    "end": "791839"
  },
  {
    "text": "so this is going to give me some sample commands to use apologies I'm scrolling fast that I can",
    "start": "791839",
    "end": "799800"
  },
  {
    "text": "use with the console or the CLI and what we've got so far is using cloud watch",
    "start": "799800",
    "end": "805800"
  },
  {
    "text": "logs and VPC flow logs so what I'm going to do I",
    "start": "805800",
    "end": "811670"
  },
  {
    "text": "can look at I am access denied attempts who's trying to get access to what inside my account I can simply copy and",
    "start": "811670",
    "end": "819210"
  },
  {
    "text": "paste this into a cloud watch logs events console let's just run this here",
    "start": "819210",
    "end": "825150"
  },
  {
    "text": "yes it is one I prepared earlier so you can see here this gives me a list",
    "start": "825150",
    "end": "832350"
  },
  {
    "text": "of all the users and roles that have been recently created and I'll just set my set of customized to two days",
    "start": "832350",
    "end": "838650"
  },
  {
    "text": "relative here so I can see Shaun Mackey DS being",
    "start": "838650",
    "end": "844440"
  },
  {
    "text": "created and anniversary has been created okay it's a",
    "start": "844440",
    "end": "849839"
  },
  {
    "text": "demo right that not always going to be cool themselves adversary and I've got a roll called AWS role hiding",
    "start": "849839",
    "end": "858589"
  },
  {
    "text": "so as you know a lot of AWS built-in roles start with AWS so what better",
    "start": "858589",
    "end": "864839"
  },
  {
    "text": "place to hide a role than calling it something starting with AWS so you need to be aware of that and know actually",
    "start": "864839",
    "end": "871650"
  },
  {
    "text": "know what's going on inside and that goes back to our design principles of using automation so using automation to",
    "start": "871650",
    "end": "878730"
  },
  {
    "text": "work out what is going on in your accounts in your environment so good use",
    "start": "878730",
    "end": "883830"
  },
  {
    "text": "our own and I got source IP addresses that were used and the time",
    "start": "883830",
    "end": "889070"
  },
  {
    "text": "so fight sheet now go to another one I prepared earlier I can plug in an access key in this field so we're filtering the",
    "start": "889070",
    "end": "896970"
  },
  {
    "text": "cloud watch log group for cloud trail using an access key ID of that and now",
    "start": "896970",
    "end": "902400"
  },
  {
    "text": "I've got my different events that this is created so it's actually created a bucket",
    "start": "902400",
    "end": "910800"
  },
  {
    "text": "and if we drill down the created bucket is called hahaha you will never find me",
    "start": "911310",
    "end": "920100"
  },
  {
    "text": "so you can see if you have these different pre-canned like scenarios and",
    "start": "920100",
    "end": "926860"
  },
  {
    "text": "of course you can automate this you can go in and find a lot of insights any",
    "start": "926860",
    "end": "934029"
  },
  {
    "text": "workload screen resolution and from VPC flow logs",
    "start": "934029",
    "end": "941620"
  },
  {
    "text": "I can then find access denied attempts and a good one to look for in",
    "start": "941620",
    "end": "947009"
  },
  {
    "text": "VPC flow logs is has a something inside the VPC tried to get to something else",
    "start": "947009",
    "end": "953889"
  },
  {
    "text": "inside the V PC and being denied so that could be an application server trying to",
    "start": "953889",
    "end": "959500"
  },
  {
    "text": "access a database and it doesn't have the correct traditional security group to allow that so that could be an",
    "start": "959500",
    "end": "965889"
  },
  {
    "text": "indicator that an adversary's got hold of the say it's an ec2 instance and is trying to get to a different database",
    "start": "965889",
    "end": "972189"
  },
  {
    "text": "we're trying to do recon within that environment and try and find out what's going on",
    "start": "972189",
    "end": "978779"
  },
  {
    "text": "right our Dean Ian access management so I'm not going to go through all the",
    "start": "983380",
    "end": "988900"
  },
  {
    "text": "in the workings of Identity and Access Management we've got some really awesome sessions this week and they'll be up on",
    "start": "988900",
    "end": "993940"
  },
  {
    "text": "YouTube of course for watching at home but what I am going to say is just some tips they should look at so were the",
    "start": "993940",
    "end": "1000750"
  },
  {
    "text": "lots of large customers with like hundreds of AWS accounts even thousands and using Federation with traditional",
    "start": "1000750",
    "end": "1008730"
  },
  {
    "text": "mesh methods can get quite tricky there's a little trick that we had in a blog post a couple of years ago and the",
    "start": "1008730",
    "end": "1014310"
  },
  {
    "text": "links down the bottom he's using this scenario is Active Directory so you can actually use",
    "start": "1014310",
    "end": "1020510"
  },
  {
    "text": "parameters on the individual user and then restrict based on those parameters",
    "start": "1020510",
    "end": "1026459"
  },
  {
    "text": "in the user custom so you see here we've got the user",
    "start": "1026460",
    "end": "1033290"
  },
  {
    "text": "URL so we're using the URL field which is build into Active Directory and we can build out a comma separate value",
    "start": "1033290",
    "end": "1039780"
  },
  {
    "text": "list of the accounts and you can use wildcards in this as well so you can",
    "start": "1039780",
    "end": "1044790"
  },
  {
    "text": "have user or this could be on a group level of Active Directory and then do star dev so if it's in the list of dev",
    "start": "1044790",
    "end": "1052800"
  },
  {
    "text": "accounts star dev then they're granted access to it so do check out the blog post there's a lot more information how",
    "start": "1052800",
    "end": "1059250"
  },
  {
    "text": "to do to do that also if you're not using Federation and want to find out more especially single sign-on is a",
    "start": "1059250",
    "end": "1066330"
  },
  {
    "text": "really awesome new service go and check out the Federation link down the bottom there's a whole page dedicated to",
    "start": "1066330",
    "end": "1071730"
  },
  {
    "text": "Federation on that permission boundaries who's using",
    "start": "1071730",
    "end": "1077190"
  },
  {
    "text": "permission boundaries already not many okay so permission boundaries",
    "start": "1077190",
    "end": "1083400"
  },
  {
    "text": "is a fairly new feature one of my favorite features that's come out recently it allows you to create an administrator",
    "start": "1083400",
    "end": "1090960"
  },
  {
    "text": "so you can have say a role that is allowed to delegate permission for",
    "start": "1090960",
    "end": "1097020"
  },
  {
    "text": "another role right so the scenario I'll just build this out here so the scenario is I'm an administrator",
    "start": "1097020",
    "end": "1105270"
  },
  {
    "text": "and I want my development team to run their own land of functions create them but with that they need to be able to",
    "start": "1105270",
    "end": "1111900"
  },
  {
    "text": "create roles and manage policies in our dealing and access management and before permission boundaries that",
    "start": "1111900",
    "end": "1119250"
  },
  {
    "text": "was a little tricky whereas now I can give them a role that they can use and they can go off and create their own",
    "start": "1119250",
    "end": "1126170"
  },
  {
    "text": "their own permissions their own roles their own policies they can do anything",
    "start": "1126170",
    "end": "1131880"
  },
  {
    "text": "in those policies but they must have a permission boundary attached if that",
    "start": "1131880",
    "end": "1137100"
  },
  {
    "text": "permission boundary is not attached though not allowed to create the role and of course that permission boundary",
    "start": "1137100",
    "end": "1142650"
  },
  {
    "text": "then contains what that role can do based on that policy so I've then now",
    "start": "1142650",
    "end": "1148620"
  },
  {
    "text": "bounded the role and I've now allowed my developers to go off and do things",
    "start": "1148620",
    "end": "1153630"
  },
  {
    "text": "freely not constrain them and I don't have to pre provision all the roles and manage policies for him so incredibly",
    "start": "1153630",
    "end": "1160380"
  },
  {
    "text": "powerful awesome new feature automation so um we talked a lot about",
    "start": "1160380",
    "end": "1168240"
  },
  {
    "text": "automation what should you do with automation and ident in Access Management can be a bit tricky so if",
    "start": "1168240",
    "end": "1173640"
  },
  {
    "text": "you've turned on Federation and you were using users and groups built-in go and clean up all those users and groups you",
    "start": "1173640",
    "end": "1180240"
  },
  {
    "text": "probably don't need them anymore you should also go an order preferably using a tool that we've got that is in the",
    "start": "1180240",
    "end": "1188340"
  },
  {
    "text": "labs that goes and does daily report emails",
    "start": "1188340",
    "end": "1195060"
  },
  {
    "text": "your daily report of the unused users and unused access keys and you set the",
    "start": "1195060",
    "end": "1200610"
  },
  {
    "text": "date time that date stamp so 90 days now we're going to give you this report so you can go in and go in manually or",
    "start": "1200610",
    "end": "1208230"
  },
  {
    "text": "automatically go and disable those users or the access keys and of course the best practice would be to use Federation",
    "start": "1208230",
    "end": "1214800"
  },
  {
    "text": "and using Federation with the security token service or STS and not use access",
    "start": "1214800",
    "end": "1221340"
  },
  {
    "text": "keys at all you also can remove the people that have",
    "start": "1221340",
    "end": "1226710"
  },
  {
    "text": "left the organisation so whether they're on long service leave all they've left if you can tie this in with the Hat your",
    "start": "1226710",
    "end": "1232740"
  },
  {
    "text": "HR system with your identity and access management system you can automate those people being removed and of course",
    "start": "1232740",
    "end": "1239430"
  },
  {
    "text": "people might leave abruptly your organization so you really want to get in there quick and disable their access",
    "start": "1239430",
    "end": "1245670"
  },
  {
    "text": "if you had lots of different accounts with different IM users that can be very difficult to do so you want to",
    "start": "1245670",
    "end": "1250980"
  },
  {
    "text": "centralize that and then really automate it all and of course constantly reduce permissions so you can use access",
    "start": "1250980",
    "end": "1257700"
  },
  {
    "text": "advisor in the client console to go in and have a look and you'll see a list of the permissions that a user or role or",
    "start": "1257700",
    "end": "1263760"
  },
  {
    "text": "group adds then you can limit and lock down over time so you want to get that lease privileged access in their",
    "start": "1263760",
    "end": "1271130"
  },
  {
    "text": "common pattern I see with customers is you know and a common question is kind",
    "start": "1271130",
    "end": "1276840"
  },
  {
    "text": "of roll assumed another roll well yes so in this scenario I've got a lambda",
    "start": "1276840",
    "end": "1282210"
  },
  {
    "text": "function which has to have a roll attached so I can do things in this case we're going to use the lambda function",
    "start": "1282210",
    "end": "1288720"
  },
  {
    "text": "to assume another roll in a different account and then in the same land of",
    "start": "1288720",
    "end": "1294000"
  },
  {
    "text": "function we're going to go and do something in this case it's signing and s3 URL and that's the code for it so",
    "start": "1294000",
    "end": "1301620"
  },
  {
    "text": "we've actually got a lab coming soon for this so if you check back in there on the labs page we'll give you a bit of a",
    "start": "1301620",
    "end": "1306660"
  },
  {
    "text": "how-to besides trying to type in this manually from this slide deck",
    "start": "1306660",
    "end": "1312230"
  },
  {
    "text": "so if we go through now we've got a single instance can now have a roll",
    "start": "1313010",
    "end": "1319380"
  },
  {
    "text": "attached to the instance so that's gonna automatically go credentials I don't need a hard code anything don't need any",
    "start": "1319380",
    "end": "1325950"
  },
  {
    "text": "access keys on it it will automatically get the credentials for that for that particular role that's attached we're",
    "start": "1325950",
    "end": "1332309"
  },
  {
    "text": "using organizations to centrally manage multiple accounts and apply service",
    "start": "1332309",
    "end": "1338370"
  },
  {
    "text": "control policies in the organization so if we had a development account we can",
    "start": "1338370",
    "end": "1343770"
  },
  {
    "text": "restrict exactly what that development account can do and in what region and who can access it so it can get really",
    "start": "1343770",
    "end": "1349950"
  },
  {
    "text": "really granular with new resource based scps now of course we're using Identity",
    "start": "1349950",
    "end": "1355380"
  },
  {
    "text": "and Access Management and the best practices that I've mentioned can use single sign-on and",
    "start": "1355380",
    "end": "1360950"
  },
  {
    "text": "one of the best practices in well architected is enforcing MFA so don't",
    "start": "1360950",
    "end": "1366059"
  },
  {
    "text": "just enable them a favorite enforce it if using Federation this enforcement must be any Federation provider don't",
    "start": "1366059",
    "end": "1372960"
  },
  {
    "text": "allow people to log in unless they've got an MFA token or a UB key or some other way and of course I'm sure you've",
    "start": "1372960",
    "end": "1379710"
  },
  {
    "text": "all read the news you'd be very wary of SMS based multi-factor authentication there's a number of limitations and it",
    "start": "1379710",
    "end": "1387049"
  },
  {
    "text": "shall we say for using built-in AM users and groups to force MFA you can only",
    "start": "1387049",
    "end": "1395570"
  },
  {
    "text": "allow that user to assume a list of roles and in those roles you set the",
    "start": "1395570",
    "end": "1400879"
  },
  {
    "text": "trust policy than it must have MFA in that session assumption so then the only",
    "start": "1400879",
    "end": "1409100"
  },
  {
    "text": "way that that user can do anything is to assume a role with the MFA so you can",
    "start": "1409100",
    "end": "1415489"
  },
  {
    "text": "significantly improve the security using inbuilt users that way",
    "start": "1415489",
    "end": "1420649"
  },
  {
    "text": "secrets manager is a fairly new service as well secrets manager in the demo further on integrates with",
    "start": "1420649",
    "end": "1428559"
  },
  {
    "text": "kms for storing the secrets as well as relational database service RDS and more",
    "start": "1428559",
    "end": "1435919"
  },
  {
    "text": "and I've got that in the demo coming up so it means that if we do need long-lived credentials like a database",
    "start": "1435919",
    "end": "1442429"
  },
  {
    "text": "password Aurora or my sequel or something like that means we can safely store that in the secrets manager and",
    "start": "1442429",
    "end": "1449539"
  },
  {
    "text": "automate the rotation and nobody needs to store it nobody needs to put it on in any code anyway",
    "start": "1449539",
    "end": "1455830"
  },
  {
    "text": "so now I've gone through the scoring and the first three questions are online dating and access management and I now",
    "start": "1455830",
    "end": "1462049"
  },
  {
    "text": "have no critical issues in that",
    "start": "1462049",
    "end": "1465518"
  },
  {
    "text": "I've also turned on a number of management tools just for good luck so",
    "start": "1470130",
    "end": "1475980"
  },
  {
    "text": "we're using CloudFormation so we can build everything in cloud formation infrastructure its code using Systems",
    "start": "1475980",
    "end": "1482760"
  },
  {
    "text": "Manager so Systems Manager is going to help manage the ec2 instance it's also going to replace SSH so I don't need SSH",
    "start": "1482760",
    "end": "1492090"
  },
  {
    "text": "on this at all I can automate everything through Systems Manager and it gives my design principle keeping people away",
    "start": "1492090",
    "end": "1498690"
  },
  {
    "text": "from data and the system using AWS code services I can also store all the",
    "start": "1498690",
    "end": "1505020"
  },
  {
    "text": "infrastructure and the code in in the different services of course you don't have to use the AWS code services you",
    "start": "1505020",
    "end": "1512789"
  },
  {
    "text": "can use your own open source or partner based tools whatever you like as long as you're meeting the requirement of using",
    "start": "1512789",
    "end": "1518340"
  },
  {
    "text": "the automation and the tools and cloud watch with cloud watch events can help you do a lot of the response as well and",
    "start": "1518340",
    "end": "1525780"
  },
  {
    "text": "I'll show that shortly detective controls",
    "start": "1525780",
    "end": "1531860"
  },
  {
    "text": "here's automation again we can use cloud formation to turn on all the detective",
    "start": "1532340",
    "end": "1537900"
  },
  {
    "text": "controls for us and I know a lot of customers that do this as the baseline",
    "start": "1537900",
    "end": "1542909"
  },
  {
    "text": "for when they create a new AWS account and there's a lot of new features coming",
    "start": "1542909",
    "end": "1548640"
  },
  {
    "text": "in different services that are going to help you out with this as well so starting off with cloud formation by the",
    "start": "1548640",
    "end": "1554700"
  },
  {
    "text": "way how to do this and the example code the CloudFormation template is all on the lab link that's down the bottom",
    "start": "1554700",
    "end": "1560850"
  },
  {
    "text": "which is off the main lab page so we're going to configure cloud trail we should",
    "start": "1560850",
    "end": "1566130"
  },
  {
    "text": "also additionally configure alerts so what highly privileged API actions do I",
    "start": "1566130",
    "end": "1572730"
  },
  {
    "text": "want to know about what is interesting for me we're also going to configure guard duty",
    "start": "1572730",
    "end": "1578669"
  },
  {
    "text": "so guard duty is a simple tip box turn on but with this CloudFormation template",
    "start": "1578669",
    "end": "1584400"
  },
  {
    "text": "we're also going to enable email alerting so we're going to get an email of the alert it's not a pretty email but",
    "start": "1584400",
    "end": "1590580"
  },
  {
    "text": "it's a start then we're going to enable config so config service restore the history of",
    "start": "1590580",
    "end": "1597419"
  },
  {
    "text": "the configuration of the particular items versus cloud trail where it was store the API requests and all the",
    "start": "1597419",
    "end": "1603830"
  },
  {
    "text": "details surrounding that particular action additionally we want to think about",
    "start": "1603830",
    "end": "1609169"
  },
  {
    "text": "config rules so config rules can determine the state of a particular",
    "start": "1609169",
    "end": "1615110"
  },
  {
    "text": "resource is that EBS volume encrypted no okay that goes against the EBS",
    "start": "1615110",
    "end": "1621169"
  },
  {
    "text": "encryption rule that I've got and I need to take an action on that taking that action we can now do through",
    "start": "1621169",
    "end": "1628370"
  },
  {
    "text": "the new auto remediate feature of config rolls which is linked to there down the bottom also if you're wanting to build",
    "start": "1628370",
    "end": "1635720"
  },
  {
    "text": "your own rules there's a new resource development kit as well also on the link",
    "start": "1635720",
    "end": "1640970"
  },
  {
    "text": "up there so I've mentioned email for alerts a lot email is actually really bad because how",
    "start": "1640970",
    "end": "1648139"
  },
  {
    "text": "are you securing your email system you know who administers that is it out sourced do you trust your entire",
    "start": "1648139",
    "end": "1655070"
  },
  {
    "text": "business on your email system probably not so the key is to get visibility",
    "start": "1655070",
    "end": "1660559"
  },
  {
    "text": "really really quickly I know I read my emails like once a day that's all I do but if you had a messaging system so",
    "start": "1660559",
    "end": "1668779"
  },
  {
    "text": "whatever your favorite chat app is if you had those insights from God you and",
    "start": "1668779",
    "end": "1674090"
  },
  {
    "text": "cloud trail and configure rules coming straight through and your whole team worked on that all day every day then",
    "start": "1674090",
    "end": "1680179"
  },
  {
    "text": "they're gonna take immediate action and everyone gets visibility you can at been on working on this now or don't worry",
    "start": "1680179",
    "end": "1687860"
  },
  {
    "text": "that was me oops sorry and you can get immediate insight rather than seeing their email the next day and oh no",
    "start": "1687860",
    "end": "1695379"
  },
  {
    "text": "I've got a customer that uses chat BOTS to do everything so they never log on to",
    "start": "1695409",
    "end": "1700549"
  },
  {
    "text": "their accounts EWS accounts these chat BOTS which they maintain through a code pipe or pipeline and they do all their",
    "start": "1700549",
    "end": "1706789"
  },
  {
    "text": "changes through chat BOTS so I'm not saying that's the right thing to do it's just a one example of a customer doing",
    "start": "1706789",
    "end": "1712730"
  },
  {
    "text": "it and they've got a lot out of it also paging so how are you gonna escalate",
    "start": "1712730",
    "end": "1717789"
  },
  {
    "text": "these alerts into a paging system what if it is actually midnight or 3 a.m. and",
    "start": "1717789",
    "end": "1723409"
  },
  {
    "text": "somebody needs to take action and of course there's many partners that integrate with these different services",
    "start": "1723409",
    "end": "1729230"
  },
  {
    "text": "that can automate the paging and automate the escalation of the pages",
    "start": "1729230",
    "end": "1734679"
  },
  {
    "text": "who has done a threat model before awesome excellent great threat modeling",
    "start": "1736120",
    "end": "1743270"
  },
  {
    "text": "is really important because you need to know what your threats are you need to know what to look out for",
    "start": "1743270",
    "end": "1749260"
  },
  {
    "text": "so every threat has a mum it's a method opportunity and a motive",
    "start": "1749260",
    "end": "1755830"
  },
  {
    "text": "when creating your threat model and I'm not gonna go into it any more detail you need to circle back work out based on",
    "start": "1755830",
    "end": "1763820"
  },
  {
    "text": "your different threats have you got the appropriate detective and preventative controls in place and continue that for",
    "start": "1763820",
    "end": "1770360"
  },
  {
    "text": "circle once you've created the threat model",
    "start": "1770360",
    "end": "1776140"
  },
  {
    "text": "what should you look for so being prepared so actually setting",
    "start": "1777440",
    "end": "1783530"
  },
  {
    "text": "thresholds on different alerts not just enabling the logging and monitoring and alerting but actually setting thresholds",
    "start": "1783530",
    "end": "1790120"
  },
  {
    "text": "using automation so that's using automation to respond and automation to",
    "start": "1790120",
    "end": "1795920"
  },
  {
    "text": "investigate can you have something that automatically investigates a DDoS attack",
    "start": "1795920",
    "end": "1801110"
  },
  {
    "text": "and mitigates a different say a certain user agent or IP address that is doing a",
    "start": "1801110",
    "end": "1808490"
  },
  {
    "text": "DDoS attack against you yes you can and I'll go to solution and I'm going to show you for that later and diving deep",
    "start": "1808490",
    "end": "1815260"
  },
  {
    "text": "very important that you're being prepared you have the tools available you've practiced them that you can dive",
    "start": "1815260",
    "end": "1821150"
  },
  {
    "text": "deep on insiders so insiders can be both",
    "start": "1821150",
    "end": "1826880"
  },
  {
    "text": "intentional or unintentional so I could accidentally do something and cause the",
    "start": "1826880",
    "end": "1832430"
  },
  {
    "text": "same consequence as somebody maliciously doing something wrong so things to look",
    "start": "1832430",
    "end": "1838220"
  },
  {
    "text": "out for when detecting an insider is have you actually lost any visibility so",
    "start": "1838220",
    "end": "1843320"
  },
  {
    "text": "have you actually lost any logging or monitoring or metrics has somebody just modified the dashboard accidentally and",
    "start": "1843320",
    "end": "1850460"
  },
  {
    "text": "then something happens something bad happens so you'll be aware of that transfer of data so it might be a team",
    "start": "1850460",
    "end": "1856910"
  },
  {
    "text": "at individuals laptop or their individual themself how much data they're they're transferring out are",
    "start": "1856910",
    "end": "1862370"
  },
  {
    "text": "they transferring out your customer database or all your secrets so you need to have those controls in place to be",
    "start": "1862370",
    "end": "1867650"
  },
  {
    "text": "able to text that unused resources so if you have",
    "start": "1867650",
    "end": "1873110"
  },
  {
    "text": "especially a contractor that may be contract may be expiring maybe they're",
    "start": "1873110",
    "end": "1878240"
  },
  {
    "text": "not that happy have they actually planted something somewhere and it's not necessarily in AWS have they planted",
    "start": "1878240",
    "end": "1884930"
  },
  {
    "text": "something somewhere that they can go back like a back door either in the code or in the infrastructure so I have a",
    "start": "1884930",
    "end": "1891470"
  },
  {
    "text": "think about that as well and how do you detect that you need to know exactly what you've created right",
    "start": "1891470",
    "end": "1897820"
  },
  {
    "text": "going back to cloud formation you can do a diff on what's in the cloud formation and using the tags and what has been",
    "start": "1897820",
    "end": "1905390"
  },
  {
    "text": "created manually so knowing that manual versus automated creation and of course the social aspects has",
    "start": "1905390",
    "end": "1913660"
  },
  {
    "text": "that person over in the corner there being you know disconnected and disgruntled and sick every day",
    "start": "1913660",
    "end": "1919680"
  },
  {
    "text": "reconnaissance is really important to look out for so DNS reconnaissance guard",
    "start": "1919680",
    "end": "1925600"
  },
  {
    "text": "duty we'll look at the V PC level of DNS flow DNS logs within your V PC if you're",
    "start": "1925600",
    "end": "1932380"
  },
  {
    "text": "using route 53 for DNS then you can enable logging and get the insights from those query logs so that you can start",
    "start": "1932380",
    "end": "1939670"
  },
  {
    "text": "to detect different patterns at certain countries doing queries of",
    "start": "1939670",
    "end": "1946020"
  },
  {
    "text": "unknown or non resolvable addresses so you might have admin dot how many people",
    "start": "1946020",
    "end": "1953650"
  },
  {
    "text": "are requesting admin dot of your domain and that is a sign of people doing reconnaissance then you can tie it back",
    "start": "1953650",
    "end": "1959860"
  },
  {
    "text": "the country the ASN like what the service provider is is that a VPN",
    "start": "1959860",
    "end": "1965260"
  },
  {
    "text": "provider that's doing that then you can then cross-reference those logs and those requests with other systems had a",
    "start": "1965260",
    "end": "1973210"
  },
  {
    "text": "customer that did it with their badging system and their call center so they",
    "start": "1973210",
    "end": "1978850"
  },
  {
    "text": "found there was a particular country that was doing recon on them and that particular country was regularly calling",
    "start": "1978850",
    "end": "1984460"
  },
  {
    "text": "their call center they brought back the call center call logs and they're trying social engineering attacks",
    "start": "1984460",
    "end": "1991590"
  },
  {
    "text": "so they've got these multifaceted attacks that are going on so it's incredibly important to get that whole",
    "start": "1991590",
    "end": "1998020"
  },
  {
    "text": "the whole big picture of what's going on not just the AWS environment but wider than that",
    "start": "1998020",
    "end": "2004639"
  },
  {
    "text": "so who thinks they're ready to detect a credential stuffing attack today I",
    "start": "2006110",
    "end": "2011360"
  },
  {
    "text": "think sort of 1 2 3 yeah it's really",
    "start": "2011360",
    "end": "2016500"
  },
  {
    "text": "difficult because this is an example cloud front log this could be a",
    "start": "2016500",
    "end": "2022560"
  },
  {
    "text": "credential stuffing attack you don't know firstly they're using an ipv6 address so it can be hard to pin down",
    "start": "2022560",
    "end": "2029100"
  },
  {
    "text": "and they could be millions of addresses in this single service provider so they've been using that method can be",
    "start": "2029100",
    "end": "2035130"
  },
  {
    "text": "hard also it's a legitimate request so you can see it's a 200 which is a ok",
    "start": "2035130",
    "end": "2041190"
  },
  {
    "text": "response HTTP and it's to the login page so you don't know if the requester",
    "start": "2041190",
    "end": "2046500"
  },
  {
    "text": "succeeded at the application level or if it has not because this is just the cloud front log but if you're going just",
    "start": "2046500",
    "end": "2052530"
  },
  {
    "text": "on this it's not enough what else can you do we can build an application level metric",
    "start": "2052530",
    "end": "2059120"
  },
  {
    "text": "that can detect the login success and reporter over time so normally login",
    "start": "2059120",
    "end": "2064470"
  },
  {
    "text": "success is over 90% and then one day past midnight or towards midnight that",
    "start": "2064470",
    "end": "2070320"
  },
  {
    "text": "login success starts to drop off the all legitimate requests to the login page",
    "start": "2070320",
    "end": "2075408"
  },
  {
    "text": "but they're using a password tool that uses known passwords and they're",
    "start": "2075409",
    "end": "2082260"
  },
  {
    "text": "guessing an account ID or maybe they're actually a proper customer and they're using a customer account ID they're",
    "start": "2082260",
    "end": "2087690"
  },
  {
    "text": "going through and they're trying that password database until they try they actually get a correct password",
    "start": "2087690",
    "end": "2094580"
  },
  {
    "text": "with a correct username and the ramifications can be quite large so this",
    "start": "2094580",
    "end": "2101640"
  },
  {
    "text": "is a really good example of how you can credit detect a credential stuffing attack it's not the only one that's just",
    "start": "2101640",
    "end": "2107100"
  },
  {
    "text": "a good example so at the application layer want to",
    "start": "2107100",
    "end": "2112320"
  },
  {
    "text": "really challenge you and what you'd do to put in place so having a captive portal and there's many out there can",
    "start": "2112320",
    "end": "2119100"
  },
  {
    "text": "help using browser-based fingerprints can help but a lot have",
    "start": "2119100",
    "end": "2125220"
  },
  {
    "text": "circumvented that so they're very limited using multi-factor authentication it's a",
    "start": "2125220",
    "end": "2130740"
  },
  {
    "text": "number of financial institutions out there that allow for MFA many do not",
    "start": "2130740",
    "end": "2136580"
  },
  {
    "text": "enforce MFA right so you can only do a transaction",
    "start": "2136580",
    "end": "2142410"
  },
  {
    "text": "if that session that you've logged in as for your internet banking has multi-factor authentication turned on",
    "start": "2142410",
    "end": "2147930"
  },
  {
    "text": "and of course SMS authentication is not good enough for that so I really",
    "start": "2147930",
    "end": "2153839"
  },
  {
    "text": "challenge you to think about how you can improve the security of your application and this of course can apply to the",
    "start": "2153839",
    "end": "2160410"
  },
  {
    "text": "administration side of things so the AWS console itself partners so I know there's a few",
    "start": "2160410",
    "end": "2166890"
  },
  {
    "text": "partners that presenting and they're outside in the hall that can detect this and detect bad BOTS and all those bad",
    "start": "2166890",
    "end": "2172890"
  },
  {
    "text": "things out there and they can do a lot better than you and I can so I do go and check out those partners",
    "start": "2172890",
    "end": "2180018"
  },
  {
    "text": "there's also Troy hunt created many years ago have I been point",
    "start": "2183560",
    "end": "2189220"
  },
  {
    "text": "so he gets knowledge of these different password dumps and",
    "start": "2189220",
    "end": "2194320"
  },
  {
    "text": "allows them to be indexable and has an API so you can actually go and use the API and",
    "start": "2194320",
    "end": "2200860"
  },
  {
    "text": "check if those passwords that your users are using have actually been in a",
    "start": "2200860",
    "end": "2206600"
  },
  {
    "text": "password dump are your users using the same password from something else from social media or something and that has",
    "start": "2206600",
    "end": "2213200"
  },
  {
    "text": "been compromised in the past so there's another way of doing that and",
    "start": "2213200",
    "end": "2218770"
  },
  {
    "text": "there's over half a million half a million index passwords and they're half",
    "start": "2218770",
    "end": "2224690"
  },
  {
    "text": "a million unique passwords that are in that and they're not just password 1 2 3",
    "start": "2224690",
    "end": "2230980"
  },
  {
    "text": "so you want to continuously evaluate what you're doing you can use the CIS",
    "start": "2230980",
    "end": "2236590"
  },
  {
    "text": "benchmark and there's a really good QuickStart on this",
    "start": "2236590",
    "end": "2241760"
  },
  {
    "text": "so the CIS benchmark does tie in with some of the best practices in well architected and you can go and deploy",
    "start": "2241760",
    "end": "2248510"
  },
  {
    "text": "these configure offs quite easily and then simply see the non-compliant resources user must not have associated",
    "start": "2248510",
    "end": "2255710"
  },
  {
    "text": "policies ok user must have MFA enabled I've got one non-compliant user that doesn't have MFA enabled I could then",
    "start": "2255710",
    "end": "2262910"
  },
  {
    "text": "customize the remediation action go an email that user go and disable that user",
    "start": "2262910",
    "end": "2268760"
  },
  {
    "text": "from logging into the console or limit the scope of their policy so it's really really powerful and the CIS one is a",
    "start": "2268760",
    "end": "2275480"
  },
  {
    "text": "really good way of getting started with the config rules so what have we got on now we've got V",
    "start": "2275480",
    "end": "2281810"
  },
  {
    "text": "PC flight logs on so for good detection guard duty cloud trail config and cloud",
    "start": "2281810",
    "end": "2287180"
  },
  {
    "text": "watch so we've enabled all that using that detective controls template and of course we can add on partners to enrich",
    "start": "2287180",
    "end": "2293120"
  },
  {
    "text": "in that and we've thought about our threat model as well and how that ties in with all of this",
    "start": "2293120",
    "end": "2298450"
  },
  {
    "text": "so we score getting a bit more green we're getting those critical issues ticked off as we go along so",
    "start": "2298450",
    "end": "2305590"
  },
  {
    "text": "let's move on to infrastructure protection now there's going to be a big section so last year at reinvent we",
    "start": "2305590",
    "end": "2312650"
  },
  {
    "text": "launched a transit gateway as a new feature for the V PC zero one of our customers presented",
    "start": "2312650",
    "end": "2319000"
  },
  {
    "text": "example architecture on using a single V PC for ingress",
    "start": "2319000",
    "end": "2325030"
  },
  {
    "text": "services so they can put in their security services in a single V PC and scale it across hundreds of accounts so",
    "start": "2325030",
    "end": "2332030"
  },
  {
    "text": "you can centralize the Web Application Firewall they're using in the VP C VPN and a software-defined way and so",
    "start": "2332030",
    "end": "2340940"
  },
  {
    "text": "you can do that all in a centralized account and use the transit gateway to share it across multiple different",
    "start": "2340940",
    "end": "2346430"
  },
  {
    "text": "accounts that means those other accounts there's other VP C's don't actually need",
    "start": "2346430",
    "end": "2351530"
  },
  {
    "text": "to handle the traffic directly they only allow traffic from this security ingress",
    "start": "2351530",
    "end": "2357260"
  },
  {
    "text": "V PC on the way out on the right hand side we also want to be wary of title boss and",
    "start": "2357260",
    "end": "2364339"
  },
  {
    "text": "what's going on so we can put in URL filtering proxying data loss prevention",
    "start": "2364339",
    "end": "2369700"
  },
  {
    "text": "techniques in an egress VPC and change all the routes of the other V pcs to",
    "start": "2369700",
    "end": "2375859"
  },
  {
    "text": "only route to the Internet through that one and transit gateway is the glue that allows this I love it it's not for",
    "start": "2375859",
    "end": "2383690"
  },
  {
    "text": "everyone if you're running hundreds of V pcs and accounts even thousands this may be the solution for you",
    "start": "2383690",
    "end": "2391270"
  },
  {
    "text": "V PC sharing as anyone using V PC Cherie couple awesome great so it's really",
    "start": "2392079",
    "end": "2400190"
  },
  {
    "text": "powerful but it has particular use cases so if you had multiple different teams",
    "start": "2400190",
    "end": "2405380"
  },
  {
    "text": "that you wanted to share a V PC it's that's where it really plays in it's really really powerful for so you can",
    "start": "2405380",
    "end": "2411770"
  },
  {
    "text": "have you set an owner of the V PC and they do their things to set up the V PC",
    "start": "2411770",
    "end": "2417280"
  },
  {
    "text": "then you can share the subnets and of course you want to share more than one subnet because you want to run across",
    "start": "2417280",
    "end": "2423079"
  },
  {
    "text": "multiple availability zones you can share those subnets with a different application team or a different owner so",
    "start": "2423079",
    "end": "2429859"
  },
  {
    "text": "then you start to get the segregation between the identity and who owns the account and the V PC and the actual V PC",
    "start": "2429859",
    "end": "2436970"
  },
  {
    "text": "itself you can do this across account but it must be within the same AWS organization so it's one thing to think",
    "start": "2436970",
    "end": "2444020"
  },
  {
    "text": "about automating protection so this is a",
    "start": "2444020",
    "end": "2450750"
  },
  {
    "text": "solution that's available on the link down the bottom that you can build out it's all built using cloud formation of",
    "start": "2450750",
    "end": "2456090"
  },
  {
    "text": "course we start off we've got the Web Application Firewall we're enabling logging so back supports logging using",
    "start": "2456090",
    "end": "2463800"
  },
  {
    "text": "connexxus firehose and we're also got logging in the cloud front and the application load balancer",
    "start": "2463800",
    "end": "2468859"
  },
  {
    "text": "we're then going to analyze those logs using Athena and lambda",
    "start": "2468859",
    "end": "2475250"
  },
  {
    "text": "taking those logs we can detect HTTP flood attacks right and this can be",
    "start": "2475250",
    "end": "2481230"
  },
  {
    "text": "either in cloud front or application load balancer and automatically block those IPS that are conducting those",
    "start": "2481230",
    "end": "2487920"
  },
  {
    "text": "flood attacks we can also detect the scanners and probes so those bad bots that go out",
    "start": "2487920",
    "end": "2494400"
  },
  {
    "text": "there and try and do bad things and we can customize that and of course this is an example so you can go off and modify",
    "start": "2494400",
    "end": "2501420"
  },
  {
    "text": "it to suit your requirements as well we're also doing cloud watch events to",
    "start": "2501420",
    "end": "2507270"
  },
  {
    "text": "trigger a lambda to go and download the latest IP reputation lists and we can",
    "start": "2507270",
    "end": "2512400"
  },
  {
    "text": "then update the IP blacklist rules to automatically block those bad IP",
    "start": "2512400",
    "end": "2517770"
  },
  {
    "text": "addresses from those open source reputation lists or plug in your own reputation list there as well and",
    "start": "2517770",
    "end": "2523580"
  },
  {
    "text": "finally API gateway can be configured with a hidden URL on the page or pages so a",
    "start": "2523580",
    "end": "2531960"
  },
  {
    "text": "normal browser when you're browsing the website won't find this URL but a bot wheel and this URL hooks into a lambda",
    "start": "2531960",
    "end": "2540089"
  },
  {
    "text": "function that automatically blocks that bad bot so they won't know little trick",
    "start": "2540089",
    "end": "2546540"
  },
  {
    "text": "I've used in the past it stuffs around with search engine optimization but it's really good for security in cloud front",
    "start": "2546540",
    "end": "2553050"
  },
  {
    "text": "you can customize the HTTP response so instead of somebody does a page request",
    "start": "2553050",
    "end": "2559619"
  },
  {
    "text": "and they get a 404 why can't be found instead of giving him a 404 give them a",
    "start": "2559619",
    "end": "2564810"
  },
  {
    "text": "200 with a custom sorry page and the bots will find they'll get a 200 and",
    "start": "2564810",
    "end": "2570599"
  },
  {
    "text": "they'll just keep trying I'll keep trying and we'll keep trying and keep trying it's no badness for you because",
    "start": "2570599",
    "end": "2575820"
  },
  {
    "text": "you've got the cake story page in cloud front and it does even heat your application layer and the bots then have",
    "start": "2575820",
    "end": "2582530"
  },
  {
    "text": "to do either get really smart or do manual intervention to try and work out",
    "start": "2582530",
    "end": "2589130"
  },
  {
    "text": "and do reconnaissance on your application so it's a little trick of lamb",
    "start": "2589130",
    "end": "2594550"
  },
  {
    "text": "talling what tools can we use infrastructure protection there's many I",
    "start": "2594610",
    "end": "2599840"
  },
  {
    "text": "want to cover some of the not so known ones and not so known areas like source",
    "start": "2599840",
    "end": "2606440"
  },
  {
    "text": "code and dependency checking so I was open web application security project",
    "start": "2606440",
    "end": "2611630"
  },
  {
    "text": "has a number of awesome projects out there and our source code their dependency check tool so if you're using",
    "start": "2611630",
    "end": "2618680"
  },
  {
    "text": "open source tools like Jenkins for your code build pipelines that can plug-in with Jenkins and detect those security",
    "start": "2618680",
    "end": "2626420"
  },
  {
    "text": "issues that are being found in at the code layer NPM is no package manager now supports",
    "start": "2626420",
    "end": "2633140"
  },
  {
    "text": "auditing and automated fixing on the command line so it's really powerful to go in there just an example using node",
    "start": "2633140",
    "end": "2639580"
  },
  {
    "text": "retired is as similar functionality whose fuzzing",
    "start": "2639580",
    "end": "2645370"
  },
  {
    "text": "anyone fuzz yeah excellent so fuzzing is of course the ability to",
    "start": "2645370",
    "end": "2651520"
  },
  {
    "text": "go in and try different things in an application",
    "start": "2651520",
    "end": "2656860"
  },
  {
    "text": "so if you take a scenario of you get a web form well that web form except now",
    "start": "2656860",
    "end": "2662660"
  },
  {
    "text": "form requests will have except XML or HTML in the user name field will it",
    "start": "2662660",
    "end": "2669140"
  },
  {
    "text": "accept sequel injection and or type attacks in in this part so it's about",
    "start": "2669140",
    "end": "2674480"
  },
  {
    "text": "trying to break an application by using malformed requests essentially at the network or application layer a number of",
    "start": "2674480",
    "end": "2682100"
  },
  {
    "text": "different fuzzing tools so the American fuzzy lop is actually fuzzing tool that other security tools use right so",
    "start": "2682100",
    "end": "2689720"
  },
  {
    "text": "they've actually got a trophy case on their website on other security tools that they've discovered vulnerabilities",
    "start": "2689720",
    "end": "2695930"
  },
  {
    "text": "we're using the American fuzzy lot so I thought that was pretty cool it can be",
    "start": "2695930",
    "end": "2702320"
  },
  {
    "text": "quite complex but I encourage you all to at least look at fuzzing and you can help improve the security using",
    "start": "2702320",
    "end": "2709630"
  },
  {
    "text": "that in your applications there's also the Z which is the Ross project again",
    "start": "2709630",
    "end": "2715780"
  },
  {
    "text": "Zed attack proxy this is a Windows application it's really easy to install and get started",
    "start": "2715780",
    "end": "2721990"
  },
  {
    "text": "has a really good spider so it goes in and it will just spider out an entire",
    "start": "2721990",
    "end": "2727630"
  },
  {
    "text": "website you can set the depth and all that customize it it can also automatically go and try a sequel",
    "start": "2727630",
    "end": "2734109"
  },
  {
    "text": "injection for you as well it's a completely open source but it's extensible through an API so you can",
    "start": "2734109",
    "end": "2740590"
  },
  {
    "text": "actually go in plug this into your code pipeline and automate this into your build so somebody checks in code or",
    "start": "2740590",
    "end": "2747220"
  },
  {
    "text": "CloudFormation template you can automate the detection and do the diff on the last scan to the current scan so it's",
    "start": "2747220",
    "end": "2754840"
  },
  {
    "text": "really really powerful there's many different open source and partner products that can do this I just thought",
    "start": "2754840",
    "end": "2760630"
  },
  {
    "text": "was a good example to get started early so let's build out this architecture now",
    "start": "2760630",
    "end": "2766960"
  },
  {
    "text": "so we've got route 53 we've turn the logging of course the route 53 we've got",
    "start": "2766960",
    "end": "2772570"
  },
  {
    "text": "cloud front which hooks in with the Web Application Firewall so I've now got a",
    "start": "2772570",
    "end": "2777700"
  },
  {
    "text": "perimeter of threat protection at the edge so I don't need to scale out my",
    "start": "2777700",
    "end": "2782770"
  },
  {
    "text": "application in the V PC this is all handled at the edge I've turned on the",
    "start": "2782770",
    "end": "2787840"
  },
  {
    "text": "automated solution for detecting the bad BOTS and that as well we're then going to chop up the V PC now",
    "start": "2787840",
    "end": "2795090"
  },
  {
    "text": "it's gonna get a bit complicated so get a bear with me we're gonna have a load balancer tear in a separate subnet layer",
    "start": "2795090",
    "end": "2802690"
  },
  {
    "text": "so only the load balancers are in that subnet this has its own route table and",
    "start": "2802690",
    "end": "2808510"
  },
  {
    "text": "its own network ACL this is why we put the load balancers in there because this is the only layer that should be",
    "start": "2808510",
    "end": "2815440"
  },
  {
    "text": "accepting traffic from the internet and the Knakal reflects that that is a network access control list at the",
    "start": "2815440",
    "end": "2822460"
  },
  {
    "text": "subnet layer the next layer down is the shared services layer this is where we have our",
    "start": "2822460",
    "end": "2829390"
  },
  {
    "text": "nat gateways so the NAT gateway will only allow outbound traffic we use it",
    "start": "2829390",
    "end": "2834790"
  },
  {
    "text": "for updates to the instances because we running WordPress we need to update it we need to update all the libraries and",
    "start": "2834790",
    "end": "2841180"
  },
  {
    "text": "that on there as well and we do that through the nat gateway what this means",
    "start": "2841180",
    "end": "2846670"
  },
  {
    "text": "is these instances which now run in an application layer don't need direct",
    "start": "2846670",
    "end": "2852160"
  },
  {
    "text": "access to the Internet they get the Internet through the NAT gateway and of",
    "start": "2852160",
    "end": "2857380"
  },
  {
    "text": "course we could replace this if we had multiple V pcs multiple accounts with the transit gateway so we can plug the",
    "start": "2857380",
    "end": "2863830"
  },
  {
    "text": "transit gateway solution in here that I showed before",
    "start": "2863830",
    "end": "2868470"
  },
  {
    "text": "it also means we can easily turn off the routing at the application layer to the",
    "start": "2868920",
    "end": "2874390"
  },
  {
    "text": "Internet so if I was doing my updates in code like if I was pre building an",
    "start": "2874390",
    "end": "2880390"
  },
  {
    "text": "Amazon machine image pre patching WordPress doing all that all that stuff I could actually build that port plug it",
    "start": "2880390",
    "end": "2887560"
  },
  {
    "text": "into the application layer and it doesn't need any internet access at all it also means I can get really granular",
    "start": "2887560",
    "end": "2894430"
  },
  {
    "text": "on the network ACLs and I have done in this example so of course we've now",
    "start": "2894430",
    "end": "2899560"
  },
  {
    "text": "auto-scaling it so we've got a reliability and performance best practices in here as well so we're auto-scaling we've got a customized",
    "start": "2899560",
    "end": "2906550"
  },
  {
    "text": "machine image and we're using VPC endpoints so the application doesn't",
    "start": "2906550",
    "end": "2911800"
  },
  {
    "text": "need a route outside to the Internet to get to s3 to get to secrets manager to",
    "start": "2911800",
    "end": "2917230"
  },
  {
    "text": "get to kms and we're also using data based here so",
    "start": "2917230",
    "end": "2922780"
  },
  {
    "text": "we're using Amazon Aurora and we access Amazon Aurora three endpoints at the",
    "start": "2922780",
    "end": "2927820"
  },
  {
    "text": "database layer right so you can see we've got those four separate tiers now and each has",
    "start": "2927820",
    "end": "2934750"
  },
  {
    "text": "their own network a CO and route table so we can get really really granular on what they can access and we can easily",
    "start": "2934750",
    "end": "2941470"
  },
  {
    "text": "lock down and tie down and of course replace so if we had this as a template we can then repeat this solution for",
    "start": "2941470",
    "end": "2948100"
  },
  {
    "text": "many different applications and the CloudFormation template could be customizable through the use of",
    "start": "2948100",
    "end": "2953560"
  },
  {
    "text": "parameters and we can go from there",
    "start": "2953560",
    "end": "2958980"
  },
  {
    "text": "we also should use Amazon inspector or a partner tool that does similar so we can",
    "start": "2958980",
    "end": "2964450"
  },
  {
    "text": "detect for vulnerabilities CVS using Amazon inspector we can automate",
    "start": "2964450",
    "end": "2970960"
  },
  {
    "text": "that and using security hub as well to getting that high top layer visibility",
    "start": "2970960",
    "end": "2976569"
  },
  {
    "text": "of what's going on inside you can see now I'm getting more grained",
    "start": "2976569",
    "end": "2981849"
  },
  {
    "text": "I'm getting away from all these high risk critical issues inside this application",
    "start": "2981849",
    "end": "2988380"
  },
  {
    "text": "if only there was some example CloudFormation template that did the V PC layer and the ec2 layer for me there",
    "start": "2988380",
    "end": "2996910"
  },
  {
    "text": "it is there's not every single best practice built into that just because it would",
    "start": "2996910",
    "end": "3003510"
  },
  {
    "text": "take a lot of customization just for WordPress we want to make it relevant for many",
    "start": "3003510",
    "end": "3009599"
  },
  {
    "text": "different applications for example WordPress stores its password in a file",
    "start": "3009599",
    "end": "3015230"
  },
  {
    "text": "so in this example we're actually using WordPress and we're using secrets manager on the command line to grab the",
    "start": "3015230",
    "end": "3022740"
  },
  {
    "text": "password from secret manager API directly and plug that into the file and",
    "start": "3022740",
    "end": "3028020"
  },
  {
    "text": "of course storing a password in a file is not a best practice however that's the constraint that we need to deal with",
    "start": "3028020",
    "end": "3034170"
  },
  {
    "text": "for this example data protection",
    "start": "3034170",
    "end": "3040109"
  },
  {
    "text": "keeping people away from Dada how do you do it well in the first case do you actually",
    "start": "3040109",
    "end": "3046390"
  },
  {
    "text": "need to store the data do you need that healthcare data from your customers from 20 years ago maybe maybe not do you",
    "start": "3046390",
    "end": "3054219"
  },
  {
    "text": "actually need to store in the first place then do you need to grant anyone access to that permission maybe you have",
    "start": "3054219",
    "end": "3061199"
  },
  {
    "text": "archives of data do you need to grant access to those archives from many years ago",
    "start": "3061199",
    "end": "3066989"
  },
  {
    "text": "you might not need to so start thinking about how you can either eliminate the",
    "start": "3066989",
    "end": "3072130"
  },
  {
    "text": "data completely or reduce the access to it then encrypting masking tokenization",
    "start": "3072130",
    "end": "3078999"
  },
  {
    "text": "comes into it and also isolation as let's drill down to that a bit we can",
    "start": "3078999",
    "end": "3084069"
  },
  {
    "text": "use different AWS accounts within my organization to store different levels",
    "start": "3084069",
    "end": "3090309"
  },
  {
    "text": "of data so if I've got a health workload maybe HIPAA compliant PCI workload I",
    "start": "3090309",
    "end": "3096369"
  },
  {
    "text": "don't want to have them in the same account because there are different levels of data classification for",
    "start": "3096369",
    "end": "3101559"
  },
  {
    "text": "different users so I can store them in different AWS accounts so that's a really good way of isolating it then I",
    "start": "3101559",
    "end": "3108579"
  },
  {
    "text": "get the best value of my roles and my role based access control on that",
    "start": "3108579",
    "end": "3113699"
  },
  {
    "text": "also what I can think about is what I like to call a data bunker so if you",
    "start": "3113699",
    "end": "3119229"
  },
  {
    "text": "have your most critical critical data maybe it's your cloud trail logs maybe",
    "start": "3119229",
    "end": "3124569"
  },
  {
    "text": "it's other snapshots of your data and you're at a point where you may be",
    "start": "3124569",
    "end": "3130809"
  },
  {
    "text": "paranoid battery's operating in your environment and this may not be for everyone you could actually create an",
    "start": "3130809",
    "end": "3137109"
  },
  {
    "text": "account outside of your organization and that account outside of your",
    "start": "3137109",
    "end": "3143140"
  },
  {
    "text": "organization is never touched that gets a one-way copy of your critical data",
    "start": "3143140",
    "end": "3149140"
  },
  {
    "text": "maybe a cloud trail logs maybe it's shared snapshots and other s3 data you",
    "start": "3149140",
    "end": "3154689"
  },
  {
    "text": "can't touch that nobody ever logs into it nobody has credentials on that maybe so there's one pattern that I've seen",
    "start": "3154689",
    "end": "3161049"
  },
  {
    "text": "some customers do where it does meet their requirements but it",
    "start": "3161049",
    "end": "3166630"
  },
  {
    "text": "may not be for everyone different tolling so if we're building",
    "start": "3166630",
    "end": "3173499"
  },
  {
    "text": "infrastructure using cloud formation suddenly everyone that's building the",
    "start": "3173499",
    "end": "3178749"
  },
  {
    "text": "infrastructure doesn't need access to the console maybe that you give them read-only access to be able to check and",
    "start": "3178749",
    "end": "3185259"
  },
  {
    "text": "see what they've done and visualize it but they actually they don't need that direct access they just need to commit",
    "start": "3185259",
    "end": "3192099"
  },
  {
    "text": "the code and then the code pipeline will go and do the actual build and testing",
    "start": "3192099",
    "end": "3197619"
  },
  {
    "text": "for us and there's we've actually got to workshop this week on how to do this and there's lots of great examples on",
    "start": "3197619",
    "end": "3203529"
  },
  {
    "text": "different links on the AWS websites systems manager as well so the example",
    "start": "3203529",
    "end": "3211269"
  },
  {
    "text": "code that I showed before for WordPress that example doesn't have SSH enabled so there's no SSH there's no security group",
    "start": "3211269",
    "end": "3218019"
  },
  {
    "text": "allowing SSH you do it all through Systems Manager we do that because we can get fine-grained access to what",
    "start": "3218019",
    "end": "3224680"
  },
  {
    "text": "commands we're doing SSH if once I allow SSH you've allowed any command they've",
    "start": "3224680",
    "end": "3231339"
  },
  {
    "text": "got root they can do anything on that instance the Systems Manager we can control the documents individually that",
    "start": "3231339",
    "end": "3237849"
  },
  {
    "text": "are run and we can predefined those documents we can create them in cloud formation and we can get that really granular control over that and as I",
    "start": "3237849",
    "end": "3246789"
  },
  {
    "text": "mentioned before a lot of operations is code so CloudFormation they're using partner tools the idea is you want a",
    "start": "3246789",
    "end": "3254499"
  },
  {
    "text": "developer or an administrator to commit code whether it's application or infrastructure and of course all the",
    "start": "3254499",
    "end": "3261220"
  },
  {
    "text": "detection or the remediation can all be code you want to version control in",
    "start": "3261220",
    "end": "3266289"
  },
  {
    "text": "source code repository and you want it all automatically delivered out wider",
    "start": "3266289",
    "end": "3273058"
  },
  {
    "text": "data exfiltration it started off back in the good old days it was only host based so you'd have an",
    "start": "3274170",
    "end": "3282340"
  },
  {
    "text": "agent that runs on your servers and it would detect if somebody's trying to",
    "start": "3282340",
    "end": "3287349"
  },
  {
    "text": "copy data out it could have also been water marked on your documents so a PDF",
    "start": "3287349",
    "end": "3293590"
  },
  {
    "text": "watermarking maybe and you can detect that watermark as it goes through your email server because somebody's emailed",
    "start": "3293590",
    "end": "3298900"
  },
  {
    "text": "that out",
    "start": "3298900",
    "end": "3301589"
  },
  {
    "text": "now we've got software as a service providers what access are you giving to",
    "start": "3304050",
    "end": "3310020"
  },
  {
    "text": "your data and to your AWS environment to your software as a service providers do",
    "start": "3310020",
    "end": "3315390"
  },
  {
    "text": "you trust them what's their policies have you done your due diligence so just",
    "start": "3315390",
    "end": "3320400"
  },
  {
    "text": "be aware of that different partners different partners that you would cooperate with it may be external",
    "start": "3320400",
    "end": "3326280"
  },
  {
    "text": "entities that do your outsource to and what they have access to and applying",
    "start": "3326280",
    "end": "3332130"
  },
  {
    "text": "all these principles that we've gone through today to those partners DNS",
    "start": "3332130",
    "end": "3337790"
  },
  {
    "text": "DNS is actually there's a lot of attacks that can actually exfiltrate data",
    "start": "3337790",
    "end": "3343350"
  },
  {
    "text": "through DNS requests using text records that are very common out there so how do",
    "start": "3343350",
    "end": "3349230"
  },
  {
    "text": "you actually detect the exfiltration of data through DNS gadgety can help you",
    "start": "3349230",
    "end": "3354630"
  },
  {
    "text": "with that but again it goes back to your threat model are you looking at advanced persistent threats they gonna be looking",
    "start": "3354630",
    "end": "3361080"
  },
  {
    "text": "at state actors do you need to protect against them and how do you test them now that you know of there is Dennis",
    "start": "3361080",
    "end": "3367620"
  },
  {
    "text": "exfiltration you can use your internet search engine of your favorite and go",
    "start": "3367620",
    "end": "3372930"
  },
  {
    "text": "and find what their different attack vectors are and how you mitigate against that and you'll find those vais elation",
    "start": "3372930",
    "end": "3378780"
  },
  {
    "text": "techniques that I had before it would definitely help you with that logging so you can log anything in any",
    "start": "3378780",
    "end": "3387300"
  },
  {
    "text": "log you want if you had a developer that accidentally or maliciously",
    "start": "3387300",
    "end": "3392360"
  },
  {
    "text": "unable to lambda2 log something they shouldn't maybe it is dealing with",
    "start": "3392360",
    "end": "3397410"
  },
  {
    "text": "healthcare data and it has the decryption keys it could actually log",
    "start": "3397410",
    "end": "3402620"
  },
  {
    "text": "into a cloud watch log or some other logging system that actually might be sensitive data that that's logging so be",
    "start": "3402620",
    "end": "3409710"
  },
  {
    "text": "really really careful and go in and check what data you're logging and again you can use cloud watch events and other",
    "start": "3409710",
    "end": "3415650"
  },
  {
    "text": "tools to go in and check what you're actually logging look for a payment card ID hash or a social security number hash",
    "start": "3415650",
    "end": "3422970"
  },
  {
    "text": "in your logs so I'd really recommend you do that",
    "start": "3422970",
    "end": "3429410"
  },
  {
    "text": "automating data leaks or detection of data leaks so first you need to know",
    "start": "3429930",
    "end": "3435039"
  },
  {
    "text": "where is your data stored what services are using for logs it's not just about",
    "start": "3435039",
    "end": "3440950"
  },
  {
    "text": "s3 anymore so there's many different AWS services you might be using a software",
    "start": "3440950",
    "end": "3446349"
  },
  {
    "text": "as a service partner as well where is your data stored and what is being stored how are you categorizing it",
    "start": "3446349",
    "end": "3452940"
  },
  {
    "text": "with AWS you use Cloud trail and look at interesting API calls so a really",
    "start": "3452940",
    "end": "3459519"
  },
  {
    "text": "interesting API call for s3 is pre signed URLs so you can generate these",
    "start": "3459519",
    "end": "3465039"
  },
  {
    "text": "URLs anyone who has that URL you can get to that object that is an incredibly",
    "start": "3465039",
    "end": "3470259"
  },
  {
    "text": "powerful API action that you should be very aware of so if we wind back to our chat history if I have that in a chat",
    "start": "3470259",
    "end": "3479109"
  },
  {
    "text": "that goes to the team that's responsible they can act on it and they know that they've created that sign URL they know",
    "start": "3479109",
    "end": "3484809"
  },
  {
    "text": "that their the application has created that sign URL they know what's going on send it to an email it will go on",
    "start": "3484809",
    "end": "3491170"
  },
  {
    "text": "somebody's inbox and get forgotten about so it's really important to know what's going on and be aware of those",
    "start": "3491170",
    "end": "3496839"
  },
  {
    "text": "interesting API calls and it's also the the",
    "start": "3496839",
    "end": "3503700"
  },
  {
    "text": "splitting up from what the normal is maybe there's a particular user agent or IP or even a VPC that accesses s3 and",
    "start": "3503700",
    "end": "3512230"
  },
  {
    "text": "you can get that all through the logs speaking of s3 access logs we can",
    "start": "3512230",
    "end": "3518829"
  },
  {
    "text": "actually customize the log information that goes into s3 so here I've got an example cut down of",
    "start": "3518829",
    "end": "3525910"
  },
  {
    "text": "an s3 access log to my example bucket my puppy photo I can put query string so I'm using code",
    "start": "3525910",
    "end": "3534430"
  },
  {
    "text": "so X - it has to start with X - and the code here and an example so I can treat",
    "start": "3534430",
    "end": "3540099"
  },
  {
    "text": "this like a key value pair I don't want to store sensitive data here but I could",
    "start": "3540099",
    "end": "3545559"
  },
  {
    "text": "actually have a code for a data classification level so I won't say data",
    "start": "3545559",
    "end": "3550720"
  },
  {
    "text": "classification equals top secret here because I don't want everyone to point to the top secret stuff I could have",
    "start": "3550720",
    "end": "3557200"
  },
  {
    "text": "code equals and it could be a project ID or some sort of code thing that you've got this is also goes into the access",
    "start": "3557200",
    "end": "3564970"
  },
  {
    "text": "logs for s3 so then I can go through the access logs using a tool and find out",
    "start": "3564970",
    "end": "3571720"
  },
  {
    "text": "who hasn't supplied that where was that from and then I can get a good map of",
    "start": "3571720",
    "end": "3577270"
  },
  {
    "text": "who's doing what and where from when and who's supplying these required or optional parameters on the on the",
    "start": "3577270",
    "end": "3584320"
  },
  {
    "text": "request little tip the cloud trail log that the",
    "start": "3584320",
    "end": "3590020"
  },
  {
    "text": "cloud trail that logs the s3 events does not log access denied' attempts we're",
    "start": "3590020",
    "end": "3596320"
  },
  {
    "text": "certainly not last time I checked so if you want access denied attempts you have to enable the s3 logs in the s3 service",
    "start": "3596320",
    "end": "3603790"
  },
  {
    "text": "itself pointing to another s3 bucket ok this is my new favorite feature I",
    "start": "3603790",
    "end": "3611380"
  },
  {
    "text": "take back the permission boundary 1 sorry Bridget",
    "start": "3611380",
    "end": "3616470"
  },
  {
    "text": "EBS encryption by default using a predefined kms encryption key this is",
    "start": "3616470",
    "end": "3623620"
  },
  {
    "text": "very very new out and it is awesome so I do need to go and update the lab",
    "start": "3623620",
    "end": "3630010"
  },
  {
    "text": "that we have for the WordPress example that's really really powerful and of course there is no additional cost or",
    "start": "3630010",
    "end": "3636880"
  },
  {
    "text": "overhead with encrypting the EBS volumes except for the cost of the encryption",
    "start": "3636880",
    "end": "3642010"
  },
  {
    "text": "key really really powerful feature and of",
    "start": "3642010",
    "end": "3647080"
  },
  {
    "text": "course DynamoDB is also encrypted by default now and you can go in and supply or specify the kms key that you want to",
    "start": "3647080",
    "end": "3654220"
  },
  {
    "text": "use for that the encryption SDK it's available in the",
    "start": "3654220",
    "end": "3661800"
  },
  {
    "text": "documents we have a good example down there on how to cache encryption keys and we can also add an encryption",
    "start": "3661800",
    "end": "3668520"
  },
  {
    "text": "context so this encryption context will",
    "start": "3668520",
    "end": "3673700"
  },
  {
    "text": "when I supply the encryption context when I'm doing an encryption operation I then need to supply that same context",
    "start": "3673700",
    "end": "3680820"
  },
  {
    "text": "which is a key value pair doing the decrypt so this is all clear text and logs than that but it's an additional",
    "start": "3680820",
    "end": "3686850"
  },
  {
    "text": "level that I can put on it",
    "start": "3686850",
    "end": "3690530"
  },
  {
    "text": "right so let's build it out so we've got certificate manager on cloud front",
    "start": "3691940",
    "end": "3697380"
  },
  {
    "text": "application layer balancer we've got our DLP optional DMP if we need it and then",
    "start": "3697380",
    "end": "3703860"
  },
  {
    "text": "we're encrypting our volumes for the instances and for Aurora and now",
    "start": "3703860",
    "end": "3710450"
  },
  {
    "text": "I'm all green I have no critical issues anymore so I encourage you all to take action so",
    "start": "3710450",
    "end": "3717690"
  },
  {
    "text": "go and play with the well architected tool is free it's in the console even if you just do the security pillar use it",
    "start": "3717690",
    "end": "3723930"
  },
  {
    "text": "as a tool use it in the design phase so when you first whiteboarding that application idea have them in your head",
    "start": "3723930",
    "end": "3729570"
  },
  {
    "text": "go through it and then continue to iterate as you go along and the final links which you all know do check out",
    "start": "3729570",
    "end": "3736200"
  },
  {
    "text": "the solutions page some really really great solutions up there that tell you how to build things and",
    "start": "3736200",
    "end": "3742490"
  },
  {
    "text": "thank you everyone [Applause]",
    "start": "3742490",
    "end": "3752650"
  }
]