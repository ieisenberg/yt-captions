[
  {
    "text": "hello run in this lesson we are going to learn how you can integrate Microsoft",
    "start": "530",
    "end": "5879"
  },
  {
    "text": "Europe's tools like Visual Studio Team Foundation server or TFS or we chose to",
    "start": "5879",
    "end": "12179"
  },
  {
    "text": "do a team services which we call VST s with AWS CloudFormation my name is Sri",
    "start": "12179",
    "end": "17850"
  },
  {
    "text": "Manta Tanaka and I'm a partner solution architect at Amazon Web Services so",
    "start": "17850",
    "end": "24029"
  },
  {
    "text": "what's the agenda today I'm going to give a very quick introduction into AWS CloudFormation I'm going to tell you",
    "start": "24029",
    "end": "30060"
  },
  {
    "text": "what you can learn from that what you can do with it and then I'm going to do",
    "start": "30060",
    "end": "35070"
  },
  {
    "text": "a simple demo that will illustrate how you can integrate AWS CloudFormation with team we shall show you a team",
    "start": "35070",
    "end": "42840"
  },
  {
    "text": "services in the next iteration I'm going to use some PowerShell commands to",
    "start": "42840",
    "end": "47940"
  },
  {
    "text": "integrate cloud formation with Team Foundation server so in this part of the",
    "start": "47940",
    "end": "57239"
  },
  {
    "text": "lesson I'm going to give you a very quick introduction into AWS CloudFormation AWS CloudFormation itself is a very",
    "start": "57239",
    "end": "63960"
  },
  {
    "text": "complex subject you can spend days learning it but I'm going to teach you today is the absolute necessities that",
    "start": "63960",
    "end": "71100"
  },
  {
    "text": "you need to know when you go through this demonstration so what is cloud",
    "start": "71100",
    "end": "78119"
  },
  {
    "text": "formation confirmation is nothing more than one big JSON document so you can",
    "start": "78119",
    "end": "84000"
  },
  {
    "text": "use this JSON document to describe your infrastructure set you can use it to describe your network stack you can use",
    "start": "84000",
    "end": "90990"
  },
  {
    "text": "it to describe your ec2 instances your security configuration you can include",
    "start": "90990",
    "end": "96329"
  },
  {
    "text": "PowerShell scripts in that so this one document can describe everything that",
    "start": "96329",
    "end": "101700"
  },
  {
    "text": "you want to provision very complex infrastructure there is a cloud formation engine that will go and and",
    "start": "101700",
    "end": "108689"
  },
  {
    "text": "investigate this here's a document and it can then orchestrate the content described in this year's a document in",
    "start": "108689",
    "end": "116399"
  },
  {
    "text": "AWS platform it does with what we call something called a stack right I will",
    "start": "116399",
    "end": "122969"
  },
  {
    "text": "come to this concept of stack later so stack is nothing more than a layer of infrastructure right",
    "start": "122969",
    "end": "130729"
  },
  {
    "text": "so how does it looks like so cloud formation is as I said it's one being",
    "start": "130729",
    "end": "135920"
  },
  {
    "text": "just a document you have different sections to describe different aspect of the cloud formation of course you have",
    "start": "135920",
    "end": "142640"
  },
  {
    "text": "something called a description where you can give hey this cloud formation template is supposed to provision a",
    "start": "142640",
    "end": "147920"
  },
  {
    "text": "highly available SQL Server cluster or you can say this CloudFormation template",
    "start": "147920",
    "end": "153260"
  },
  {
    "text": "is there to deploy my complete web infrastructure then you have a section",
    "start": "153260",
    "end": "161870"
  },
  {
    "text": "called resources this is where you describe different resources that this cloud formation will provision inside",
    "start": "161870",
    "end": "169130"
  },
  {
    "text": "AWS is everything is a resource so your ec2 instances your images your network",
    "start": "169130",
    "end": "174590"
  },
  {
    "text": "your civility groups they are all resources so each resource has a type you see - it's a resource type network",
    "start": "174590",
    "end": "182540"
  },
  {
    "text": "access control is a resource type and depending on the resource type you have different properties for the host",
    "start": "182540",
    "end": "188959"
  },
  {
    "text": "resource type for example if you consider so this is how you describe it",
    "start": "188959",
    "end": "194799"
  },
  {
    "text": "let's take an example so here you have an ec2 instance of course the type is",
    "start": "194799",
    "end": "200450"
  },
  {
    "text": "ec2 instance so if you want to probably shown this ec2 instance what are the parameters you want to know so here you",
    "start": "200450",
    "end": "206690"
  },
  {
    "text": "want to describe the availability so on that this is it will be deployed and you",
    "start": "206690",
    "end": "213140"
  },
  {
    "text": "also you want to tell which image ID you want provision right so that's a very simple way to like describe a resource",
    "start": "213140",
    "end": "220400"
  },
  {
    "text": "so when the transformation engine reads this and interprets it it knows like we",
    "start": "220400",
    "end": "225590"
  },
  {
    "text": "are to provision this ec2 instance of course you have a section called parameters where you can instead of hard",
    "start": "225590",
    "end": "233510"
  },
  {
    "text": "corn in the values in your template you can parameterize them right so here you",
    "start": "233510",
    "end": "239000"
  },
  {
    "text": "can describe some parameters an example would be hey I want to have this ec2",
    "start": "239000",
    "end": "245780"
  },
  {
    "text": "instance instance type as a parameter right you can describe it as a string the default value is due to micro and",
    "start": "245780",
    "end": "252950"
  },
  {
    "text": "here you can describe the allowed values you can also use regular expressions if",
    "start": "252950",
    "end": "258680"
  },
  {
    "text": "you want to do some validation across Europe meters okay so this is an example like",
    "start": "258680",
    "end": "264740"
  },
  {
    "text": "once you create a parameter like instance type parameter you can refer it instead of hard-coding the instance type",
    "start": "264740",
    "end": "270740"
  },
  {
    "text": "here you can refer to these parameters with this kind of RF attribute so this",
    "start": "270740",
    "end": "278210"
  },
  {
    "text": "is the look and feel of a cloud formation template you may be wondering hey Shree this is a",
    "start": "278210",
    "end": "283640"
  },
  {
    "text": "very complicated document the answer is yes but there's a ways to simplify it",
    "start": "283640",
    "end": "289490"
  },
  {
    "text": "the reason why you find like a lot of content in this just document is because",
    "start": "289490",
    "end": "294620"
  },
  {
    "text": "you specify your network security groups your PowerShell commands so everything",
    "start": "294620",
    "end": "300320"
  },
  {
    "text": "that you want to provision in the infrastructure you specify in this document the good thing about",
    "start": "300320",
    "end": "305690"
  },
  {
    "text": "maintaining your infrastructure cord is that you can version you in infrastructure so if you leave the",
    "start": "305690",
    "end": "312830"
  },
  {
    "text": "company somebody else can for example provision the same infrastructure consistently across your AWS account so",
    "start": "312830",
    "end": "322040"
  },
  {
    "text": "the other advantage of maintaining your infrastructure is that instead of keeping run books right this",
    "start": "322040",
    "end": "330020"
  },
  {
    "text": "infrastructure you can provision without errors like for example if you have a run book that describes ok go here click",
    "start": "330020",
    "end": "337010"
  },
  {
    "text": "it install this execute this PowerShell command the problem is you don't know whether the humans execute that run book",
    "start": "337010",
    "end": "344480"
  },
  {
    "text": "correctly but if you describe your infrastructure or the activities that you are doing in the infrastructure as a",
    "start": "344480",
    "end": "349610"
  },
  {
    "text": "code that Vantage is that it's already documented and you can consistently",
    "start": "349610",
    "end": "355040"
  },
  {
    "text": "execute it to get a consistent environment so you can for example produce use this cloud formation",
    "start": "355040",
    "end": "361160"
  },
  {
    "text": "template to create a production environment and you can use the same cloud formation template to spin up your",
    "start": "361160",
    "end": "367580"
  },
  {
    "text": "development environment I so that's the advantage so if this finds very calm if you find this very",
    "start": "367580",
    "end": "373470"
  },
  {
    "text": "complicated there are ways to simplify it the easiest way is that you create different stacks for example this is the",
    "start": "373470",
    "end": "381510"
  },
  {
    "text": "green one over here like you can think of it as the network stack that provision the network with all the best",
    "start": "381510",
    "end": "387990"
  },
  {
    "text": "practices in place so once you standardize that that stack the other",
    "start": "387990",
    "end": "393240"
  },
  {
    "text": "stack can rely on that for example on top of the network stack I'm going to create the active directory stack so on",
    "start": "393240",
    "end": "399780"
  },
  {
    "text": "top of the active directory stack I'm going to create the SQL Server stack so once you create this code there's no",
    "start": "399780",
    "end": "406980"
  },
  {
    "text": "need of manually going the end and clicking or executing commands to create",
    "start": "406980",
    "end": "412410"
  },
  {
    "text": "these infrastructure artifacts right so you can simplify this for example this",
    "start": "412410",
    "end": "418290"
  },
  {
    "text": "master stack can output certain parameters which ad stack will use for",
    "start": "418290",
    "end": "423300"
  },
  {
    "text": "example once you create a network this this will output the network address space that the actual rate to domain",
    "start": "423300",
    "end": "430320"
  },
  {
    "text": "controllers can use to provision these servers right so this is an easy way to",
    "start": "430320",
    "end": "436650"
  },
  {
    "text": "simplify a complex CloudFormation template so the next part of this",
    "start": "436650",
    "end": "443160"
  },
  {
    "text": "demonstration what I'm going to do is to give you a quick demo of how you can",
    "start": "443160",
    "end": "448320"
  },
  {
    "text": "create some infrastructure components with the Microsoft tools hopefully on",
    "start": "448320",
    "end": "453360"
  },
  {
    "text": "the previous section you get a rough idea of what cloud formation is so in this section I'm going to solidify with",
    "start": "453360",
    "end": "458670"
  },
  {
    "text": "an example and then showcase you how you can provision a simple Network stack with Visual Studio and a build like TFS",
    "start": "458670",
    "end": "467580"
  },
  {
    "text": "obvious SDS and then promotion this infrastructure asset to AWS environment",
    "start": "467580",
    "end": "476150"
  },
  {
    "text": "so how is the design going to look like so we have the AWS CloudFormation we are",
    "start": "476150",
    "end": "483030"
  },
  {
    "text": "going to bring Visual Studio and TFS or Team Foundation server or VST s or which",
    "start": "483030",
    "end": "489570"
  },
  {
    "text": "was to do a team services and then we are going to integrate all these components right that's what we are",
    "start": "489570",
    "end": "495930"
  },
  {
    "text": "going to do so the architecture is very simple we have the visual studio and the one",
    "start": "495930",
    "end": "503300"
  },
  {
    "text": "pictures document inside that we will use TFS to build this project and as",
    "start": "503300",
    "end": "510080"
  },
  {
    "text": "part of this build project that EFS built agent will call the AWS",
    "start": "510080",
    "end": "515570"
  },
  {
    "text": "CloudFormation and then confirmation will provision the simple infrastructure so in our case we are going to probably",
    "start": "515570",
    "end": "522260"
  },
  {
    "text": "shown virtual private cloud or VPC and a subnet with 10010 or 24 am now in my",
    "start": "522260",
    "end": "535820"
  },
  {
    "text": "visual studio and in this visual studio project I have this cloud formation template so I have defined it as a",
    "start": "535820",
    "end": "543230"
  },
  {
    "text": "network template so how did I create this solution once you install your AWS plugin for",
    "start": "543230",
    "end": "551300"
  },
  {
    "text": "visual studio you get these nice tools and some project templates so what I did was I created a new solution I go and",
    "start": "551300",
    "end": "558770"
  },
  {
    "text": "new project and then I created a cloud formation template so on the AWS you can",
    "start": "558770",
    "end": "563810"
  },
  {
    "text": "find project type called AWS CloudFormation template project even if you don't use that you can still create",
    "start": "563810",
    "end": "571400"
  },
  {
    "text": "a JSON document and then build it with TFS but it's nice to have this solution",
    "start": "571400",
    "end": "578750"
  },
  {
    "text": "type or the project type on your shoes to your bidding because it gives you intelligence support alright so if I",
    "start": "578750",
    "end": "585440"
  },
  {
    "text": "investigate this network dot template it's actually a JSON document you can find that it has several sections",
    "start": "585440",
    "end": "591320"
  },
  {
    "text": "alright I have a sections for resources in one of the resource that I'm going to",
    "start": "591320",
    "end": "597530"
  },
  {
    "text": "provision is a VPC so I describe it as a VP ci4 a vp c of course you want to know",
    "start": "597530",
    "end": "604220"
  },
  {
    "text": "which I'd just paste that this VP's is going to get provisioned and the tenancy and so on right and inside this V PC I'm",
    "start": "604220",
    "end": "612380"
  },
  {
    "text": "going to provision a subnet right of course it's going to be of type easy to submit this address space which",
    "start": "612380",
    "end": "619220"
  },
  {
    "text": "availability so on that I'm going to deploy it and the VP CID",
    "start": "619220",
    "end": "624339"
  },
  {
    "text": "is going to be this BBC right so this is a very simple cloud formation template",
    "start": "624339",
    "end": "629769"
  },
  {
    "text": "that I want proposition so this is the set up in the project so let's go and",
    "start": "629769",
    "end": "635529"
  },
  {
    "text": "then check how I have configured my VSDs to probably show in this template to AWS",
    "start": "635529",
    "end": "644730"
  },
  {
    "text": "so I'm now in my visual studio team services project so I have already",
    "start": "648839",
    "end": "655600"
  },
  {
    "text": "created a project called my beaver app and there I have defined a new built",
    "start": "655600",
    "end": "661389"
  },
  {
    "text": "definition so how to create a new build definition is you go to build and releases and then you create a new build",
    "start": "661389",
    "end": "666970"
  },
  {
    "text": "definition right of course you can create start from the empty process and",
    "start": "666970",
    "end": "672819"
  },
  {
    "text": "then you can add like different to build steps right I have already added these",
    "start": "672819",
    "end": "678670"
  },
  {
    "text": "build steps so that you can have an idea how I can figure it so if I go into the",
    "start": "678670",
    "end": "685870"
  },
  {
    "text": "build definition you can find that I already executed some builds let's go",
    "start": "685870",
    "end": "692800"
  },
  {
    "text": "and edit this and I had added the two",
    "start": "692800",
    "end": "698350"
  },
  {
    "text": "tasks to deploy my CloudFormation template to AWS of course the first step is that I need to get the content from",
    "start": "698350",
    "end": "705370"
  },
  {
    "text": "the source repository so once I get them into my source repository I'm going to",
    "start": "705370",
    "end": "710410"
  },
  {
    "text": "execute this AWS CloudFormation create update stack if you go into add tasks",
    "start": "710410",
    "end": "718170"
  },
  {
    "text": "you can find that there are a lot of items that you can get from AWS marketplace right so one of these items",
    "start": "718170",
    "end": "725589"
  },
  {
    "text": "is VSDs tools for AWS integration right so how all any install it and that's why",
    "start": "725589",
    "end": "732519"
  },
  {
    "text": "you can find that there are a lot of plugins like executable you see Ally AWS",
    "start": "732519",
    "end": "739839"
  },
  {
    "text": "CloudFormation delete stack you have tasks to deploy elastic Beanstalk",
    "start": "739839",
    "end": "745779"
  },
  {
    "text": "application tasks to deploy the AWS lambda or net core project another task",
    "start": "745779",
    "end": "751720"
  },
  {
    "text": "to invoke a lambda function another task to upload history documents and so on right so in this",
    "start": "751720",
    "end": "759660"
  },
  {
    "text": "case I'm going to use this thing called AWS CloudFormation create/update stack",
    "start": "759660",
    "end": "767220"
  },
  {
    "text": "and I have configured it to execute my CloudFormation template so how did I do",
    "start": "767220",
    "end": "773130"
  },
  {
    "text": "that so I of course gave it a name I added the AWS credentials so this has to",
    "start": "773130",
    "end": "778620"
  },
  {
    "text": "be a user that have permissions to execute this cloud formation stack so",
    "start": "778620",
    "end": "784530"
  },
  {
    "text": "what I did was I went to my am user I created a new user and I gave it a name",
    "start": "784530",
    "end": "792930"
  },
  {
    "text": "let's say VSDs user all right we have it",
    "start": "792930",
    "end": "798900"
  },
  {
    "text": "idea with the programmatic access I correct next permission I added the",
    "start": "798900",
    "end": "805190"
  },
  {
    "text": "permissions to execute cloud formation templates example I can go and then",
    "start": "805190",
    "end": "811950"
  },
  {
    "text": "check for 12 formation all right oh I can do some administrative access",
    "start": "811950",
    "end": "818970"
  },
  {
    "text": "to execute it right so I created the user I got the secret and secret access",
    "start": "818970",
    "end": "824190"
  },
  {
    "text": "key and access code and I create a new user from here all right and then I",
    "start": "824190",
    "end": "831450"
  },
  {
    "text": "added the access key and secret access key and I got this VSDs user right the",
    "start": "831450",
    "end": "838890"
  },
  {
    "text": "stack name is this is what cloud formation will use to identify execution",
    "start": "838890",
    "end": "844710"
  },
  {
    "text": "of this CloudFormation template and then I point into my network doc template so",
    "start": "844710",
    "end": "850530"
  },
  {
    "text": "I browse into my project and inside my project I have this the JSON document network template alright so far so good",
    "start": "850530",
    "end": "858170"
  },
  {
    "text": "so I want to also make sure that if there's any error happens during the deployment of this network I need to",
    "start": "858170",
    "end": "864420"
  },
  {
    "text": "roll back all the changes that I have made so that's the setup in the VST s ID so having done that let's see how we can",
    "start": "864420",
    "end": "872460"
  },
  {
    "text": "provision these changes into cloud formation right at the moment this is",
    "start": "872460",
    "end": "879720"
  },
  {
    "text": "what I have let's make some small modification into this and then deploy",
    "start": "879720",
    "end": "885030"
  },
  {
    "text": "this so let's say it's one so I'm going to",
    "start": "885030",
    "end": "890660"
  },
  {
    "text": "make these changes and then committing to TFS all right before that let's try",
    "start": "890660",
    "end": "897410"
  },
  {
    "text": "to find like how my cloud formation stack looks like at the moment so as of",
    "start": "897410",
    "end": "905509"
  },
  {
    "text": "now there's no any stack called Beaver Hall right if I go into my VP C V PC you",
    "start": "905509",
    "end": "919279"
  },
  {
    "text": "can find that I don't have a V PC called the beaver home right so if I go into my",
    "start": "919279",
    "end": "924319"
  },
  {
    "text": "V pcs you don't have one called Beaver homes if I go into my subnets there's no",
    "start": "924319",
    "end": "932059"
  },
  {
    "text": "any subnet related to the B bottom of course you need to if you don't have the V PC you cannot have any subnets on that",
    "start": "932059",
    "end": "939230"
  },
  {
    "text": "right so what I'm going to do now is to execute this checking that one to the",
    "start": "939230",
    "end": "944839"
  },
  {
    "text": "source control system let's say version 1 and I'm going to commit that and push",
    "start": "944839",
    "end": "952639"
  },
  {
    "text": "it so as part of this process what will happen is the VSDs will start a build",
    "start": "952639",
    "end": "959600"
  },
  {
    "text": "process so it already started a build",
    "start": "959600",
    "end": "966069"
  },
  {
    "text": "it's going to initialize the agent and it's then going to execute this command",
    "start": "967680",
    "end": "974580"
  },
  {
    "text": "right so this is the execution results",
    "start": "974580",
    "end": "981180"
  },
  {
    "text": "so if I go into this build you can find",
    "start": "981180",
    "end": "989310"
  },
  {
    "text": "that it's executing that creation stack so as part of this creation stack what",
    "start": "989310",
    "end": "994529"
  },
  {
    "text": "will happen is if you go into the cloud formation you can find that it started",
    "start": "994529",
    "end": "1004070"
  },
  {
    "text": "provisioning some tax for this you can find the beaver home is in provisioning",
    "start": "1004070",
    "end": "1010089"
  },
  {
    "text": "so it will go there and then create the VP C's in my location so after a while",
    "start": "1010089",
    "end": "1015860"
  },
  {
    "text": "you will be able to see that beaver home appear in here so you can find that the beaver home resource has already been",
    "start": "1015860",
    "end": "1022040"
  },
  {
    "text": "provisioned and if you go into the tags you can find that it's actually created",
    "start": "1022040",
    "end": "1027500"
  },
  {
    "text": "as part of this cloud formation stack ID right let's see what is the progress of",
    "start": "1027500",
    "end": "1033199"
  },
  {
    "text": "this so the creation is completed if I go into that you can find that what resources it provisioned I can find that",
    "start": "1033199",
    "end": "1041209"
  },
  {
    "text": "it promised on this VPC right with this ID so if I search it you can find that",
    "start": "1041209",
    "end": "1046730"
  },
  {
    "text": "we busy being provisioned and also it has permission one subnet over here right so if we search it you can find",
    "start": "1046730",
    "end": "1055929"
  },
  {
    "text": "this submit has been provision so this is how you maintain your infrastructure",
    "start": "1055929",
    "end": "1061010"
  },
  {
    "text": "as a code so now your source code has this cord already in place so if you",
    "start": "1061010",
    "end": "1067429"
  },
  {
    "text": "want to make modification it's easy and somebody else can publish in the same infrastructure in the future let's make",
    "start": "1067429",
    "end": "1074390"
  },
  {
    "text": "some modification into this and then see how it will impact the changes so let's say the your requirements changes in a",
    "start": "1074390",
    "end": "1081559"
  },
  {
    "text": "way that you want to add another subnet into your network so what I'm going to do here I'm going to copy this and I'm",
    "start": "1081559",
    "end": "1088010"
  },
  {
    "text": "going to add the new subnet right so let's call it something - I think I",
    "start": "1088010",
    "end": "1095059"
  },
  {
    "text": "copied it in the wrong place it should be this one so this is the",
    "start": "1095059",
    "end": "1103389"
  },
  {
    "text": "first submit so I'm going to create the second sub it's similar to the ad but",
    "start": "1103389",
    "end": "1109539"
  },
  {
    "text": "the only difference is I'm going to put that submit into a different availability zone and I'm going to give",
    "start": "1109539",
    "end": "1115029"
  },
  {
    "text": "it a different address space right so far so good so let's go there and then publish on",
    "start": "1115029",
    "end": "1121389"
  },
  {
    "text": "this one so in this case I'm going to commit it so let's scare this is the version two of my infrastructure right and I'm going",
    "start": "1121389",
    "end": "1132639"
  },
  {
    "text": "to commit that push right so it'll go down then again start the build process",
    "start": "1132639",
    "end": "1138759"
  },
  {
    "text": "so if I go into TFS you can find that it will started build process as part of",
    "start": "1138759",
    "end": "1148720"
  },
  {
    "text": "this build it will go there and then provision the so it's looking for an agent",
    "start": "1148720",
    "end": "1154049"
  },
  {
    "text": "alright and so right now I'm using a hosted agent you can use different",
    "start": "1154049",
    "end": "1160059"
  },
  {
    "text": "regions if you like you're going to provision it so let's go into my AWS cloud formation and then check what",
    "start": "1160059",
    "end": "1165759"
  },
  {
    "text": "happens so I'm go to stacks you can find that it's updated in progress so it",
    "start": "1165759",
    "end": "1173950"
  },
  {
    "text": "knows like which resources it provision which resources that it needs to update which resources in can avoid updating so",
    "start": "1173950",
    "end": "1181090"
  },
  {
    "text": "the previous resources won't get deleted so if I go into this one so the update",
    "start": "1181090",
    "end": "1186940"
  },
  {
    "text": "is complete and I'm go into the details of this right you can find that update",
    "start": "1186940",
    "end": "1193960"
  },
  {
    "text": "complete if I go into that you can find what happened right what resources it has provision so if I go into resources that",
    "start": "1193960",
    "end": "1200499"
  },
  {
    "text": "is a provision you can find the submit to has been provisioned right so if I go",
    "start": "1200499",
    "end": "1206169"
  },
  {
    "text": "and investigate these the subnets you can find that under this if i refresh it",
    "start": "1206169",
    "end": "1213700"
  },
  {
    "text": "you will find like two subnets sorry you can find for example Beaver Hall you",
    "start": "1213700",
    "end": "1221830"
  },
  {
    "text": "can find that two subnets has been created right you can decommission a",
    "start": "1221830",
    "end": "1228070"
  },
  {
    "text": "network also in the same way let's say in the future you realize that you don't want this subnet right so I'm going to",
    "start": "1228070",
    "end": "1234190"
  },
  {
    "text": "remove it and then make the changes let's build it to make sure that it",
    "start": "1234190",
    "end": "1240820"
  },
  {
    "text": "doesn't have any syntax errors that's good so I'm going to commit this version",
    "start": "1240820",
    "end": "1247110"
  },
  {
    "text": "3 of my infrastructure right so I'm going to commit it so again it will get",
    "start": "1247110",
    "end": "1252909"
  },
  {
    "text": "built and then deploy the changes into the AWS so let's go into my stacks so if",
    "start": "1252909",
    "end": "1260710"
  },
  {
    "text": "you look at the stack you can find that it's a quickly ability one I think TF is",
    "start": "1260710",
    "end": "1268090"
  },
  {
    "text": "still building after a while it will start the update process let's see",
    "start": "1268090",
    "end": "1274200"
  },
  {
    "text": "what's the status of TFS still building",
    "start": "1274200",
    "end": "1279580"
  },
  {
    "text": "it so it's now started the updating",
    "start": "1279580",
    "end": "1284799"
  },
  {
    "text": "stack part let's see whether it has started it",
    "start": "1284799",
    "end": "1290220"
  },
  {
    "text": "it may be waiting for an agent to come live so it found an agent it's executed",
    "start": "1306840",
    "end": "1312730"
  },
  {
    "text": "it let's try to find this yep so the",
    "start": "1312730",
    "end": "1322420"
  },
  {
    "text": "update is completed let's go into V PC so the V PC is there for the subnets",
    "start": "1322420",
    "end": "1328390"
  },
  {
    "text": "let's check whether it has updated the subnets let's refresh it so you can find that it has only one subnet available",
    "start": "1328390",
    "end": "1334299"
  },
  {
    "text": "now right if I go into CloudFormation template and then go into detail you can",
    "start": "1334299",
    "end": "1339640"
  },
  {
    "text": "find the resources section there's only one subnet now and as part of the previous execution you can find the",
    "start": "1339640",
    "end": "1345820"
  },
  {
    "text": "delete has been done and it did it at this object so that's how you can",
    "start": "1345820",
    "end": "1351250"
  },
  {
    "text": "integrate Visual Studio TFS with AWS",
    "start": "1351250",
    "end": "1358179"
  },
  {
    "text": "CloudFormation you don't necessarily need TFS to deploy cloud formation",
    "start": "1358179",
    "end": "1365860"
  },
  {
    "text": "templates you can do it with command line you can do it PowerShell or alternatively you can do it from the",
    "start": "1365860",
    "end": "1371620"
  },
  {
    "text": "visual studio itself so example if you go and select the cloud formation template you can say deploy to AWS",
    "start": "1371620",
    "end": "1377590"
  },
  {
    "text": "CloudFormation that's one way to deploy it so if I click it I can say what's the",
    "start": "1377590",
    "end": "1382870"
  },
  {
    "text": "name of the stack what's the user that I'm going to connect into AWS and I can",
    "start": "1382870",
    "end": "1388240"
  },
  {
    "text": "go on X next next and then deploy it but I used to build server so that you get a",
    "start": "1388240",
    "end": "1394030"
  },
  {
    "text": "feeling of how you can integrate these tools in a proper CI CD pipeline I'm now",
    "start": "1394030",
    "end": "1403330"
  },
  {
    "text": "in my visual studio in this presentation I'm going to shock su is instead of",
    "start": "1403330",
    "end": "1408940"
  },
  {
    "text": "using some predefined plugins how you can do the same with PowerShell",
    "start": "1408940",
    "end": "1414610"
  },
  {
    "text": "PowerShell is very powerful because that gives you more fine-grained control of what you can do with route formation so",
    "start": "1414610",
    "end": "1421960"
  },
  {
    "text": "in this project I have added a new PowerShell script right so this",
    "start": "1421960",
    "end": "1427630"
  },
  {
    "text": "PowerShell script is a very simple one it uses AWS PowerShell commands to",
    "start": "1427630",
    "end": "1434290"
  },
  {
    "text": "provision a CloudFormation template so what I do is I accept a few parameters",
    "start": "1434290",
    "end": "1439370"
  },
  {
    "text": "template path and then the first thing I do is I read the content of that JSON",
    "start": "1439370",
    "end": "1445549"
  },
  {
    "text": "document and then I test whether that JSON document is correctly formatted if it is correctly formatted I go for the",
    "start": "1445549",
    "end": "1453169"
  },
  {
    "text": "next step I check whether the eyes stack already existing with the given name if",
    "start": "1453169",
    "end": "1458600"
  },
  {
    "text": "the I saw one already existing then only thing I need to do is to update the CFM stack if it does not exist then I need",
    "start": "1458600",
    "end": "1465649"
  },
  {
    "text": "to create a new CFN stack right I then give it the resource type that it can",
    "start": "1465649",
    "end": "1470899"
  },
  {
    "text": "provision all right in this case I'm going to say all the resources if you want to limit like what kind of",
    "start": "1470899",
    "end": "1476389"
  },
  {
    "text": "resources that you can provision you can specify it here then I'm going to give",
    "start": "1476389",
    "end": "1481850"
  },
  {
    "text": "you the template body so the template body is the content and this content I",
    "start": "1481850",
    "end": "1487100"
  },
  {
    "text": "read it from this this part over here right so I'm going to pass this template",
    "start": "1487100",
    "end": "1493850"
  },
  {
    "text": "part and then the stack name as parameters to this script and in from",
    "start": "1493850",
    "end": "1499789"
  },
  {
    "text": "the TFS and I'll showcase you how to do that okay so I'm good I can create a one",
    "start": "1499789",
    "end": "1504950"
  },
  {
    "text": "and I give on FEA what we're going to do so no Adi nuetral back it's all stuck is this contain bodies knees and I'm also",
    "start": "1504950",
    "end": "1512330"
  },
  {
    "text": "going to give a timeout so if this template does not execute within these minutes it will roll back update also",
    "start": "1512330",
    "end": "1519679"
  },
  {
    "text": "the same like what kind of resources that I'm supposed I can update give the template body and erection of course I",
    "start": "1519679",
    "end": "1526129"
  },
  {
    "text": "saw into the continuum ok so that's a very simple pop-out script so to use",
    "start": "1526129",
    "end": "1531830"
  },
  {
    "text": "this script what I have done was now I'm in my TFS or the Team Foundation so",
    "start": "1531830",
    "end": "1537350"
  },
  {
    "text": "that's on-premise hosted machine the reason why I'm having this one panel hosted machine is that my build server",
    "start": "1537350",
    "end": "1544879"
  },
  {
    "text": "has to have these commands available right so the easiest ways that you have",
    "start": "1544879",
    "end": "1551840"
  },
  {
    "text": "a built a Junt that can with these tools installed so what I did was my built",
    "start": "1551840",
    "end": "1558499"
  },
  {
    "text": "agent I install these AWS powershell commandlets so that it recognizes these",
    "start": "1558499",
    "end": "1564799"
  },
  {
    "text": "commands so if I go in to mine the build definition right you can find that if I",
    "start": "1564799",
    "end": "1572480"
  },
  {
    "text": "edit it so instead of adding a task to execute the cloud formation template",
    "start": "1572480",
    "end": "1579770"
  },
  {
    "text": "what I did was I added a few couple of PowerShell script right so this will",
    "start": "1579770",
    "end": "1585260"
  },
  {
    "text": "just print the Fallen items because I want to know like what's the location of the path then I execute this PowerShell",
    "start": "1585260",
    "end": "1592490"
  },
  {
    "text": "command or the partial script in my solution in this case it's going to be deployed up this one that I just showed",
    "start": "1592490",
    "end": "1598490"
  },
  {
    "text": "you a moment ago so I then pass this arguments stack name is the stack name",
    "start": "1598490",
    "end": "1604190"
  },
  {
    "text": "and the template part is this one so you may be wondering like where this name came from so this is something I have",
    "start": "1604190",
    "end": "1611210"
  },
  {
    "text": "define as variables here so at the time of deployment I can actually change it",
    "start": "1611210",
    "end": "1616790"
  },
  {
    "text": "to a different name if I want alright so you can for example create a stack for Beaver home you can create another stack",
    "start": "1616790",
    "end": "1623240"
  },
  {
    "text": "with a different name of course the template part I pass it with this name",
    "start": "1623240",
    "end": "1628730"
  },
  {
    "text": "you may be wondering what are these dollar signs so these are actually TFS",
    "start": "1628730",
    "end": "1634190"
  },
  {
    "text": "build parameters so you can have your custom parameter like the one that I showed before or you can use building",
    "start": "1634190",
    "end": "1640730"
  },
  {
    "text": "types like this right so this one used a repository part that you will download as part of this download process over",
    "start": "1640730",
    "end": "1648440"
  },
  {
    "text": "here right so it's also the same I can for example go there and then execute",
    "start": "1648440",
    "end": "1654410"
  },
  {
    "text": "this command so let's make some modification to our existing view home so if you look at my Beaver home",
    "start": "1654410",
    "end": "1661400"
  },
  {
    "text": "application you can find that it's there it's updated and the resources it has",
    "start": "1661400",
    "end": "1666650"
  },
  {
    "text": "provision includes only one subnet so like before if I go there and then add a",
    "start": "1666650",
    "end": "1672440"
  },
  {
    "text": "new subnet right so let's add this subject to like before all what I need to do is to",
    "start": "1672440",
    "end": "1679970"
  },
  {
    "text": "put come on and then let's say let's call it let's say instead of like submit",
    "start": "1679970",
    "end": "1685400"
  },
  {
    "text": "to two for example recruiting to be so",
    "start": "1685400",
    "end": "1692990"
  },
  {
    "text": "so far so good so I'm going to commit this one into TFS did you know of",
    "start": "1692990",
    "end": "1701410"
  },
  {
    "text": "mission commit so good so it would kick start the deployment like before so if I",
    "start": "1701410",
    "end": "1707960"
  },
  {
    "text": "go into my builds and recess so it started a build you can find it over here so it's building this solution now",
    "start": "1707960",
    "end": "1717020"
  },
  {
    "text": "it's executing this PowerShell commands so instead of using the plugins I'm just",
    "start": "1717020",
    "end": "1722690"
  },
  {
    "text": "using raw PowerShell commands to do that right so testing the template so was",
    "start": "1722690",
    "end": "1728060"
  },
  {
    "text": "good so if there's any no syntax errors it will code and then update the syntax",
    "start": "1728060",
    "end": "1734180"
  },
  {
    "text": "right if I go into my cloud formation stack lets me look at this so it's now",
    "start": "1734180",
    "end": "1741620"
  },
  {
    "text": "update in progress after a while it will become green say create complete right",
    "start": "1741620",
    "end": "1751270"
  },
  {
    "text": "so let's check what happens still propositioning you can find that",
    "start": "1751270",
    "end": "1757460"
  },
  {
    "text": "previously there was only one subnet and after this one is complete you will get two subnets so update is complete so let",
    "start": "1757460",
    "end": "1763430"
  },
  {
    "text": "me refresh this so you have two subnets now alright",
    "start": "1763430",
    "end": "1768790"
  },
  {
    "text": "it's like before the only difference is I use PowerShell commands the important",
    "start": "1768790",
    "end": "1774020"
  },
  {
    "text": "thing to remember is that my build agent has to have access to execute these",
    "start": "1774020",
    "end": "1781270"
  },
  {
    "text": "cloud formation templates so what I did was I set up and easy to instance as my",
    "start": "1781270",
    "end": "1786740"
  },
  {
    "text": "built agent right so if you look at my running instances you can find that I",
    "start": "1786740",
    "end": "1793460"
  },
  {
    "text": "have setup built agent so this is the built agent with all the AWS plug PowerShell commands and tools",
    "start": "1793460",
    "end": "1801300"
  },
  {
    "text": "and TFS installed right and in this built agent I have installed all the",
    "start": "1801300",
    "end": "1809190"
  },
  {
    "text": "tools that I want and also it belongs to a security group called LF build server",
    "start": "1809190",
    "end": "1814320"
  },
  {
    "text": "right so here I have given the permissions that I want this build server to have right so if I go into",
    "start": "1814320",
    "end": "1821190"
  },
  {
    "text": "this you can find like all the inbound and outbound rules that's fine if I go into the role of this right which is the",
    "start": "1821190",
    "end": "1830250"
  },
  {
    "text": "LF build server here's when I give the permissions to different AWS resources that I want this server to access all",
    "start": "1830250",
    "end": "1837420"
  },
  {
    "text": "right so example this is a build server that I use for different build purposes so",
    "start": "1837420",
    "end": "1843570"
  },
  {
    "text": "let's call it a life bill itself and let's investigate the pipe so it has a",
    "start": "1843570",
    "end": "1850890"
  },
  {
    "text": "s3 fuel access code deploy fuel axis elastic Beanstalk full access so I give",
    "start": "1850890",
    "end": "1856110"
  },
  {
    "text": "some permissions for that so that it can execute these commands on behalf of me right so that's how the setup is",
    "start": "1856110",
    "end": "1865020"
  },
  {
    "text": "configured so that you have no idea like how this whole setup is worth right hope",
    "start": "1865020",
    "end": "1874680"
  },
  {
    "text": "you got a good understanding of how you can integrate Microsoft tools with AWS CloudFormation thank you",
    "start": "1874680",
    "end": "1880920"
  },
  {
    "text": "have a nice day",
    "start": "1880920",
    "end": "1883820"
  }
]