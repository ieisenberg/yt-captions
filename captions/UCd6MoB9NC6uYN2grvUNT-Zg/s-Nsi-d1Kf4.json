[
  {
    "text": "Peggy 18 [Music]",
    "start": "0",
    "end": "6050"
  },
  {
    "text": "[Music]",
    "start": "10540",
    "end": "13690"
  },
  {
    "text": "[Music]",
    "start": "18220",
    "end": "29500"
  },
  {
    "text": "that's supposed to happen No [Music]",
    "start": "33020",
    "end": "39998"
  },
  {
    "text": "[Music]",
    "start": "44590",
    "end": "47799"
  },
  {
    "text": "[Music]",
    "start": "74000",
    "end": "77170"
  },
  {
    "text": "Oh",
    "start": "82120",
    "end": "84120"
  },
  {
    "text": "the stars",
    "start": "92130",
    "end": "95430"
  },
  {
    "text": "[Music]",
    "start": "103690",
    "end": "115439"
  },
  {
    "text": "[Music]",
    "start": "129960",
    "end": "135839"
  },
  {
    "text": "[Applause]",
    "start": "136280",
    "end": "143409"
  },
  {
    "text": "hi good afternoon I'm Stefanie Fogg software engineering manager at PlayStation and part of the community's",
    "start": "146480",
    "end": "152970"
  },
  {
    "text": "team hi I'm swathi Samardzija I'm the senior manager for DevOps and I'm Amy Chae",
    "start": "152970",
    "end": "158640"
  },
  {
    "text": "senior solutions delivery manager for the Sony teams located within the US and working at AWS so we know that it's",
    "start": "158640",
    "end": "168239"
  },
  {
    "text": "fairly late in the afternoon how many of you are waiting to go to happy hour after this so we appreciate",
    "start": "168239",
    "end": "176069"
  },
  {
    "text": "having you here we know that you're probably here because you're considering going multi region in your architecture",
    "start": "176069",
    "end": "182519"
  },
  {
    "text": "if you aren't already using multi or multi-region architecture your reasons",
    "start": "182519",
    "end": "188760"
  },
  {
    "text": "might be numerous for using multi region architecture maybe you're considering",
    "start": "188760",
    "end": "194280"
  },
  {
    "text": "lowering the latency within your systems maybe you're thinking about data regulations maybe you've just heard",
    "start": "194280",
    "end": "201720"
  },
  {
    "text": "about multi region and you thought that it was the right thing to do whatever",
    "start": "201720",
    "end": "206910"
  },
  {
    "text": "your reasons we're here today to help you go Mota region at the end of this",
    "start": "206910",
    "end": "213000"
  },
  {
    "text": "session we want you to be able to apply some of the best practices of implementing the multi region",
    "start": "213000",
    "end": "218819"
  },
  {
    "text": "architecture so that you can continue to scale out your business we're gonna",
    "start": "218819",
    "end": "226049"
  },
  {
    "text": "cover some fundamental questions regarding whether or not you need and want to go Mota region and what are the",
    "start": "226049",
    "end": "234479"
  },
  {
    "text": "building blocks for going multi-region Sony Playstation will be covering those",
    "start": "234479",
    "end": "241229"
  },
  {
    "text": "same questions as they went on their journey to using the motor region architecture so to answer the first",
    "start": "241229",
    "end": "251159"
  },
  {
    "text": "question of whether or not you actually need multi-region you probably want to know what Moe tyree Jian means to AWS",
    "start": "251159",
    "end": "258479"
  },
  {
    "text": "and the answer is we want to provide the building blocks for your companies",
    "start": "258479",
    "end": "264810"
  },
  {
    "text": "finition of Mota region at Amazon we start with the customers first and we",
    "start": "264810",
    "end": "270270"
  },
  {
    "text": "work backwards we provide a global network with 44 availability zones",
    "start": "270270",
    "end": "276419"
  },
  {
    "text": "distributed across 16 regions and we're still scaling out this enables you to",
    "start": "276419",
    "end": "282419"
  },
  {
    "text": "build yours architecture to meet your customers needs wherever they're located",
    "start": "282419",
    "end": "288060"
  },
  {
    "text": "globally and then we provide you the building blocks that you need to build the motor region architecture do you",
    "start": "288060",
    "end": "296490"
  },
  {
    "text": "need to go multi-region generally the answers that comes out to this comes",
    "start": "296490",
    "end": "302130"
  },
  {
    "text": "from three various buckets they fall into wanting to lower latency to a",
    "start": "302130",
    "end": "308310"
  },
  {
    "text": "subset of customers these are ideal for customers who have applications that",
    "start": "308310",
    "end": "315260"
  },
  {
    "text": "allow for eventual consistency or applications that can be operated",
    "start": "315260",
    "end": "320750"
  },
  {
    "text": "separately like online stores or delivering dynamic content or perhaps",
    "start": "320750",
    "end": "327870"
  },
  {
    "text": "some of you in this room are concerned about legal and regulatory compliance",
    "start": "327870",
    "end": "332900"
  },
  {
    "text": "data sovereignty is a hot topic some of you might even be working on the EU's",
    "start": "332900",
    "end": "338970"
  },
  {
    "text": "general data protection regulation or the gdpr which is due in May 2018 but",
    "start": "338970",
    "end": "347010"
  },
  {
    "text": "the largest bucket for the reasons for going multi region is for the business continuity and disaster recovery",
    "start": "347010",
    "end": "353430"
  },
  {
    "text": "planning you want to ensure that you keep all the essentials aspects of a",
    "start": "353430",
    "end": "358590"
  },
  {
    "text": "business functioning despite a disruptive event that occurs you",
    "start": "358590",
    "end": "364020"
  },
  {
    "text": "understand that having a degraded performance is better than a system",
    "start": "364020",
    "end": "369900"
  },
  {
    "text": "failure so we know that stuff breaks all the",
    "start": "369900",
    "end": "375180"
  },
  {
    "text": "time but rarely in multiple places at the same time resiliency is critical to",
    "start": "375180",
    "end": "384240"
  },
  {
    "text": "the quality service to your end-users but it's also complex like security it",
    "start": "384240",
    "end": "390570"
  },
  {
    "text": "can't be bolt on at the end like an afterthought it has to be built into your architecture",
    "start": "390570",
    "end": "396720"
  },
  {
    "text": "to be an end-to-end discipline it's also a key cost driver how many sites do you",
    "start": "396720",
    "end": "402990"
  },
  {
    "text": "need how many regions how many copies of the data do you need to upgrade your",
    "start": "402990",
    "end": "408300"
  },
  {
    "text": "applications do you have to consider training other personnel these are all",
    "start": "408300",
    "end": "413880"
  },
  {
    "text": "investments you have to make into your systems and into your people as you're scaling out your architecture resiliency",
    "start": "413880",
    "end": "421950"
  },
  {
    "text": "in the cloud doesn't have to be like traditional IT but you do want to meet the business objectives that you have",
    "start": "421950",
    "end": "429150"
  },
  {
    "text": "traditional IT in meeting the availability in the recovery times there",
    "start": "429150",
    "end": "434190"
  },
  {
    "text": "are better ways to provide continuity in the cloud so you should use them when",
    "start": "434190",
    "end": "441900"
  },
  {
    "text": "you're discussing business continuity you might hear a lot of acronyms mean time to recovery mean time between",
    "start": "441900",
    "end": "449010"
  },
  {
    "text": "failure recovery time objective recovery point objectives you might have heard of",
    "start": "449010",
    "end": "455790"
  },
  {
    "text": "these metrics or maybe this is the first time that you've heard of them and you're seeing them and we're not really",
    "start": "455790",
    "end": "461430"
  },
  {
    "text": "here to talk about the metrics around them you're here to hear about multi-region architecture so in a",
    "start": "461430",
    "end": "467100"
  },
  {
    "text": "nutshell what those acronyms mean is that you're talking about the trade-offs",
    "start": "467100",
    "end": "472650"
  },
  {
    "text": "that your businesses can afford between the data loss and the sliding scale to",
    "start": "472650",
    "end": "479100"
  },
  {
    "text": "the recovery time from a outage as you weigh out these different areas",
    "start": "479100",
    "end": "484919"
  },
  {
    "text": "you're gonna optimize on one and the other one won't degrade a little bit and so the conversation that you should be",
    "start": "484919",
    "end": "490950"
  },
  {
    "text": "having with your teams is where on the scale you want to be the data loss - the",
    "start": "490950",
    "end": "496890"
  },
  {
    "text": "downtime and the answer to this question is different for every single business",
    "start": "496890",
    "end": "502050"
  },
  {
    "text": "and so it's always important to have these discussions to understand the trade-offs and the cost to implement",
    "start": "502050",
    "end": "508800"
  },
  {
    "text": "around them do you want to go multi-region and it's a question you",
    "start": "508800",
    "end": "517110"
  },
  {
    "text": "really want to ask yourself even if you're deciding that you what needs to",
    "start": "517110",
    "end": "522150"
  },
  {
    "text": "go motor a region because there's still challenges around going motor region if you're trying to solve",
    "start": "522150",
    "end": "529440"
  },
  {
    "text": "agency issues by going motor region you needed to understand even with the best",
    "start": "529440",
    "end": "534470"
  },
  {
    "text": "engineering that we have today we still haven't solved the physics problem of taking bits from one region transfer it",
    "start": "534470",
    "end": "543300"
  },
  {
    "text": "over fiber optics to another region there will always be some inherent",
    "start": "543300",
    "end": "548520"
  },
  {
    "text": "latency when you're sending data from one place to another so that's something",
    "start": "548520",
    "end": "554610"
  },
  {
    "text": "you want to consider as you build out your motor region discussions you might",
    "start": "554610",
    "end": "560370"
  },
  {
    "text": "have defects swept onto the rug that you're you may or may not be aware of I",
    "start": "560370",
    "end": "566420"
  },
  {
    "text": "don't know about you but sometimes when I'm on a website or I'm using an",
    "start": "566420",
    "end": "572070"
  },
  {
    "text": "application and something goes wrong and I get frustrated or something annoys me",
    "start": "572070",
    "end": "577170"
  },
  {
    "text": "but it doesn't annoy me enough to call or log a complaint or send in a defect",
    "start": "577170",
    "end": "584250"
  },
  {
    "text": "request or gonna send in that trouble ticket with the ops team or you might",
    "start": "584250",
    "end": "589320"
  },
  {
    "text": "have an issue that your development team or your ops team have that you're not",
    "start": "589320",
    "end": "596640"
  },
  {
    "text": "aware of they may have been stained up into the middle of the night trying to meet that deadline and they have to",
    "start": "596640",
    "end": "602310"
  },
  {
    "text": "gather some spaghetti code and they didn't tell you about it or maybe you're aware of it and your teams didn't think",
    "start": "602310",
    "end": "608430"
  },
  {
    "text": "it was that important when you scale out your architecture you might potentially",
    "start": "608430",
    "end": "613830"
  },
  {
    "text": "be scaling out the problems that you hid under the rug so you probably want to pick up that rug look underneath and",
    "start": "613830",
    "end": "620340"
  },
  {
    "text": "clean it out a little bit and finally most customers aren't actually testing",
    "start": "620340",
    "end": "627450"
  },
  {
    "text": "for catastrophic failure modes or if they are they're not testing for them",
    "start": "627450",
    "end": "633330"
  },
  {
    "text": "appropriately it's difficult to go through a disaster recovery test you",
    "start": "633330",
    "end": "638820"
  },
  {
    "text": "have to get the resources you have to set aside the time and it impacts your development time and your business time",
    "start": "638820",
    "end": "644880"
  },
  {
    "text": "it's an it's another investment that you need a bake and you have to have well established run books when you're going",
    "start": "644880",
    "end": "651630"
  },
  {
    "text": "through these scenarios if you haven't proven it out for a multi availability zone",
    "start": "651630",
    "end": "657620"
  },
  {
    "text": "scenario it's going to become even more complicated when you're building it out for multi region if you haven't tested",
    "start": "657620",
    "end": "664880"
  },
  {
    "text": "it properly and you haven't taken these three things into consideration going to",
    "start": "664880",
    "end": "670010"
  },
  {
    "text": "a multi region architecture or having an active-active disaster recovery is more",
    "start": "670010",
    "end": "675980"
  },
  {
    "text": "likely to cause downtime then provide the raziel a seat there you're looking for an AWS we talked about having four",
    "start": "675980",
    "end": "685700"
  },
  {
    "text": "different strategies for disaster recovery at the coldest end of the scale",
    "start": "685700",
    "end": "690740"
  },
  {
    "text": "we have the backup in the store where most traditional IT companies are aware of you take your data you store it on a",
    "start": "690740",
    "end": "698360"
  },
  {
    "text": "tape you put it in another location when something happens you have to call",
    "start": "698360",
    "end": "703760"
  },
  {
    "text": "someone get them to turn that server back on and warm up the systems bring up",
    "start": "703760",
    "end": "708920"
  },
  {
    "text": "the data and it may or may not be in sync with whatever you had last you move",
    "start": "708920",
    "end": "714680"
  },
  {
    "text": "a little bit warmer and you have the pilot light that gas light that you keep up just a little bit and this is where",
    "start": "714680",
    "end": "721610"
  },
  {
    "text": "you've identified those business critical core elements of your systems that you want to always keep running in",
    "start": "721610",
    "end": "728870"
  },
  {
    "text": "the cloud and potentially in another region this way you always have",
    "start": "728870",
    "end": "734180"
  },
  {
    "text": "something going so if there's another failure going on another catastrophe a disaster you'd have your business",
    "start": "734180",
    "end": "741560"
  },
  {
    "text": "critical core elements running and you can quickly scale it up to production mode within a matter of minutes after",
    "start": "741560",
    "end": "749480"
  },
  {
    "text": "that you have the warm standby this is a scaled-down version of your production",
    "start": "749480",
    "end": "755089"
  },
  {
    "text": "environment and is running your business critical applications and another region",
    "start": "755089",
    "end": "761029"
  },
  {
    "text": "somewhere and you are running your dev and test environment and probably",
    "start": "761029",
    "end": "766490"
  },
  {
    "text": "asynchronous copying your data between the different regions and so on the disaster comes it's even faster to",
    "start": "766490",
    "end": "773270"
  },
  {
    "text": "deploy and scale up to production and finally most of you are probably wanting to talk about it's a multi-site multi",
    "start": "773270",
    "end": "781160"
  },
  {
    "text": "region up chin where you have the active active scenario you have a full",
    "start": "781160",
    "end": "786350"
  },
  {
    "text": "replication of your architecture between multiple sites you're",
    "start": "786350",
    "end": "791589"
  },
  {
    "text": "simultaneously synchronizing your data between the regions and load balancing your applications across the various",
    "start": "791589",
    "end": "798190"
  },
  {
    "text": "regions that you have so if you've determined that you need multi-region",
    "start": "798190",
    "end": "804730"
  },
  {
    "text": "architecture or that you possibly need it in a few years maybe 2019 and you're",
    "start": "804730",
    "end": "810519"
  },
  {
    "text": "willing to accept the complexity and the cost for going multi region then here",
    "start": "810519",
    "end": "816339"
  },
  {
    "text": "are some of the building blocks that ADA base provides for the multi region architecture you always want to consider",
    "start": "816339",
    "end": "823870"
  },
  {
    "text": "your full stack when you're talking about your architecture so at AWS we start with your VP see you have your",
    "start": "823870",
    "end": "832269"
  },
  {
    "text": "region's obviously since we're talking a multi region and you want to follow the best practice of having multiple Easy's",
    "start": "832269",
    "end": "838870"
  },
  {
    "text": "within each region connect all of your AC's and your regions using a scale go",
    "start": "838870",
    "end": "844720"
  },
  {
    "text": "dns route 53 and connect the network using Direct Connect and cloud front at",
    "start": "844720",
    "end": "851050"
  },
  {
    "text": "your computer a year of your armies and your containers that can be copied",
    "start": "851050",
    "end": "856089"
  },
  {
    "text": "across the regions and your data layer you can have your s3 objects your",
    "start": "856089",
    "end": "862329"
  },
  {
    "text": "databases like RDS DynamoDB redshift all have an cross region replication insure",
    "start": "862329",
    "end": "872230"
  },
  {
    "text": "load balancing across at the access layer with your classic load balancers",
    "start": "872230",
    "end": "877779"
  },
  {
    "text": "your lap stick load balancers your network your applications because you",
    "start": "877779",
    "end": "883329"
  },
  {
    "text": "want to ensure that all your regions are performing optimally and with your",
    "start": "883329",
    "end": "890380"
  },
  {
    "text": "regions you have to consider the fact that you're monitoring and your logging will change so you also want to utilize",
    "start": "890380",
    "end": "897130"
  },
  {
    "text": "your cloud watch for the logging and use confirmations to deploy your various",
    "start": "897130",
    "end": "904329"
  },
  {
    "text": "scenarios across in a uniform fashion",
    "start": "904329",
    "end": "909180"
  },
  {
    "text": "make sure that your components are loosely coupled as you examine your architectural stack one of the many",
    "start": "910230",
    "end": "917620"
  },
  {
    "text": "challenges we face as architects and developers or managers is that you want to make sure",
    "start": "917620",
    "end": "923210"
  },
  {
    "text": "your applications are distributed we are tasked to address the scalability the",
    "start": "923210",
    "end": "929750"
  },
  {
    "text": "fault tolerance and the high availability of our applications how do",
    "start": "929750",
    "end": "935360"
  },
  {
    "text": "you accomplish loose coupling you want to build independent component and you want to decouple the and the",
    "start": "935360",
    "end": "943400"
  },
  {
    "text": "interactions use common interfaces or common API or open-source to connect",
    "start": "943400",
    "end": "951140"
  },
  {
    "text": "your components together and use messaging in your architectural patterns",
    "start": "951140",
    "end": "957580"
  },
  {
    "text": "messaging enables decoupling it's reliable its durable and fault tolerant",
    "start": "957580",
    "end": "963680"
  },
  {
    "text": "delivery of messages which enables the focus on logical decomposition of your",
    "start": "963680",
    "end": "969200"
  },
  {
    "text": "systems and increases the autonomy of the components at AWS we provide a",
    "start": "969200",
    "end": "976190"
  },
  {
    "text": "couple services around messaging Amazon simple notification services or SNS it's",
    "start": "976190",
    "end": "983240"
  },
  {
    "text": "reliable all your messages are stored",
    "start": "983240",
    "end": "988430"
  },
  {
    "text": "redundantly across multiple servers and data centers it's scalable applications",
    "start": "988430",
    "end": "995660"
  },
  {
    "text": "can publish an unlimited number of messages at any time and it's simple in",
    "start": "995660",
    "end": "1001450"
  },
  {
    "text": "most cases you can get started with SNS using just three api's create topic",
    "start": "1001450",
    "end": "1009090"
  },
  {
    "text": "subscribe and publish the other main messaging component we",
    "start": "1009090",
    "end": "1016570"
  },
  {
    "text": "have is Amazon simple queuing service or sqs like SNS it's redundant across",
    "start": "1016570",
    "end": "1023530"
  },
  {
    "text": "multiple AZ's in each region and there are multiple copies of each of the",
    "start": "1023530",
    "end": "1029740"
  },
  {
    "text": "messages stored across the multiple AZ's and the messages are stored up to 14",
    "start": "1029740",
    "end": "1035410"
  },
  {
    "text": "days due to the distributed architecture sqs scales without any pre provisioning",
    "start": "1035410",
    "end": "1043300"
  },
  {
    "text": "which means it scales up or scales down on demand without you having to",
    "start": "1043300",
    "end": "1048820"
  },
  {
    "text": "constantly monitor it and it also helps you main the cost of the performance so now what",
    "start": "1048820",
    "end": "1058470"
  },
  {
    "text": "all of this sounds great you've had those discussions you need multi-region",
    "start": "1058470",
    "end": "1064929"
  },
  {
    "text": "architecture you did your homework you had those difficult discussions around all the acronyms oops and you",
    "start": "1064929",
    "end": "1071169"
  },
  {
    "text": "want multi-region architecture you understand the building blocks now you",
    "start": "1071169",
    "end": "1077320"
  },
  {
    "text": "want to dig deeper and you want to go and build the motor region architecture swathi and Stephanie will walk you",
    "start": "1077320",
    "end": "1084700"
  },
  {
    "text": "through Sony PlayStation's journey to the motor region architecture and how",
    "start": "1084700",
    "end": "1089860"
  },
  {
    "text": "they answer their questions on the way in their journey swathi let's get",
    "start": "1089860",
    "end": "1097210"
  },
  {
    "text": "started thank you Amy and good afternoon everyone before we get into get started",
    "start": "1097210",
    "end": "1102850"
  },
  {
    "text": "with talking about a multi region journey let me just give it a little bit information on who we are and what what",
    "start": "1102850",
    "end": "1110110"
  },
  {
    "text": "we do what services to be in do we support so we are a platform and services team in San Francisco and we",
    "start": "1110110",
    "end": "1118120"
  },
  {
    "text": "support 80 blessed applications micro services across PlayStation so some of",
    "start": "1118120",
    "end": "1123880"
  },
  {
    "text": "the highlights some of the highlights services that I have here are what's new when you log on to your console your",
    "start": "1123880",
    "end": "1130570"
  },
  {
    "text": "store catalog card check out your multiplayer and finally your communities which is one of the main topics we are",
    "start": "1130570",
    "end": "1137410"
  },
  {
    "text": "going to talk about today so we began this journey of being multi-region with all our micro services almost an year",
    "start": "1137410",
    "end": "1144400"
  },
  {
    "text": "and a half ago and the reason why we are talking about communities this time is",
    "start": "1144400",
    "end": "1149410"
  },
  {
    "text": "this is one of the complex services that we had which we successfully made it",
    "start": "1149410",
    "end": "1154809"
  },
  {
    "text": "multi-region a month and a half ago so that's the reason why we are talking about this we still have a lot of",
    "start": "1154809",
    "end": "1160900"
  },
  {
    "text": "services that we talked about in our last talks on how we how we made that possible so a year and a half ago this",
    "start": "1160900",
    "end": "1169419"
  },
  {
    "text": "is where we began so as Amy said that you first have to make the decision do you really have to be multi region or",
    "start": "1169419",
    "end": "1175360"
  },
  {
    "text": "not so the answer was yes we want to be multi region and the next steps were what does it mean multi region to us so",
    "start": "1175360",
    "end": "1182830"
  },
  {
    "text": "you cannot have a blanket statement of 100% of all application gonna fall into this category but at",
    "start": "1182830",
    "end": "1188410"
  },
  {
    "text": "least for your 80% of your use cases we wanted to make sure we have a definition",
    "start": "1188410",
    "end": "1193720"
  },
  {
    "text": "on what does multi-region mean to us so from our perspective we wanted to make sure that when we say the application is",
    "start": "1193720",
    "end": "1201190"
  },
  {
    "text": "on multiple regions that means we should be able to handle our instance failures",
    "start": "1201190",
    "end": "1206350"
  },
  {
    "text": "any of our zone failures even multiple song failures and also our region",
    "start": "1206350",
    "end": "1211960"
  },
  {
    "text": "failures so what it means to us is we should be able to route the users first",
    "start": "1211960",
    "end": "1218290"
  },
  {
    "text": "and diagnose issue later so what this definition comes a lot of questions how",
    "start": "1218290",
    "end": "1225430"
  },
  {
    "text": "do questions when you say this is what we want to define for every single application is how are you going to make",
    "start": "1225430",
    "end": "1231610"
  },
  {
    "text": "sure your architecture infrastructure for your architecture is is supporting",
    "start": "1231610",
    "end": "1237400"
  },
  {
    "text": "multiple regions how are you going to make sure every application that you want to pick and want to be multi-region",
    "start": "1237400",
    "end": "1243970"
  },
  {
    "text": "how you're going to make sure you're have architected in a certain way where it is in not just two regions but you",
    "start": "1243970",
    "end": "1249730"
  },
  {
    "text": "are scaling up to more than two to three regions as you go along and test test",
    "start": "1249730",
    "end": "1256510"
  },
  {
    "text": "out a new region application performance so your our applications are running on",
    "start": "1256510",
    "end": "1261550"
  },
  {
    "text": "on single region for five plus years so it does have a good performance now you",
    "start": "1261550",
    "end": "1266830"
  },
  {
    "text": "have to ensure when you are going to multiple regions how are you going to make sure the performance is the same",
    "start": "1266830",
    "end": "1271990"
  },
  {
    "text": "how are you going to make sure you are able to load test on the new region before you route any traffic and how are",
    "start": "1271990",
    "end": "1278350"
  },
  {
    "text": "you going to finally enable your multi region without no downtime so we cannot ask our customers that hey we are gonna",
    "start": "1278350",
    "end": "1285160"
  },
  {
    "text": "be down for two hours and come back up again after we are multi region for our application it's not going to work for",
    "start": "1285160",
    "end": "1290680"
  },
  {
    "text": "us right so for those reasons we four throughout this so throughout this",
    "start": "1290680",
    "end": "1295750"
  },
  {
    "text": "presentation we are going to walk through each and every question and we're gonna make sure that we answer the",
    "start": "1295750",
    "end": "1301360"
  },
  {
    "text": "questions and share the experience and also the failures and successes with you guys so you can take home some of the",
    "start": "1301360",
    "end": "1307030"
  },
  {
    "text": "lessons learned so the first thing how are you going to architect your infrastructure for my litigation so you",
    "start": "1307030",
    "end": "1313780"
  },
  {
    "text": "already have a single region that you have you have your infrastructure set up but think about if you have",
    "start": "1313780",
    "end": "1319720"
  },
  {
    "text": "five years ago how much of a tech debt that you have and how much you have thought through now we have so much more",
    "start": "1319720",
    "end": "1325570"
  },
  {
    "text": "experience when you are getting started right so you want to talk about what is that puzzle that I want to solve for my",
    "start": "1325570",
    "end": "1333159"
  },
  {
    "text": "infrastructure so that comes under the scope of infrastructure as service so",
    "start": "1333159",
    "end": "1338200"
  },
  {
    "text": "you want to define what falls into that category before you even pick a tool so the picking of picking the tool or",
    "start": "1338200",
    "end": "1345159"
  },
  {
    "text": "picking a third party or you want to do in-house is there is a later on question but the first thing is what is the scope",
    "start": "1345159",
    "end": "1350890"
  },
  {
    "text": "that falls into this category so that we can automate your infrastructure so from our perspective it was our new accounts",
    "start": "1350890",
    "end": "1357340"
  },
  {
    "text": "are we pcs are subnets load balancers are security groups and any security",
    "start": "1357340",
    "end": "1362500"
  },
  {
    "text": "policies that PlayStation has were part of our infrastructure and we wanted to",
    "start": "1362500",
    "end": "1368380"
  },
  {
    "text": "extract the infrastructure and then later on we wanted to make sure that we pick a tool which actually helps us out",
    "start": "1368380",
    "end": "1375669"
  },
  {
    "text": "to also track version control and also make sure that we can go back a version so now with this information you can",
    "start": "1375669",
    "end": "1382960"
  },
  {
    "text": "either pick terraform to do this or you can go with managed services if you don't have people to support those",
    "start": "1382960",
    "end": "1388390"
  },
  {
    "text": "versions so once you have built your infrastructure layer so the next",
    "start": "1388390",
    "end": "1394210"
  },
  {
    "text": "question that we went through and tried to answer was how are we gonna route these users how are we going to route",
    "start": "1394210",
    "end": "1400990"
  },
  {
    "text": "live users so as you know PlayStation has 60 million users active users right",
    "start": "1400990",
    "end": "1406270"
  },
  {
    "text": "and you want to make sure not even one user should have any issues when when we are doing this transition so the first",
    "start": "1406270",
    "end": "1413200"
  },
  {
    "text": "thing first was user affinity we wanted to make sure when we are sending the user to a particular region the the user",
    "start": "1413200",
    "end": "1420070"
  },
  {
    "text": "has that sticky session at once the session expires we don't want user to go bounce back and forth right so we wanted",
    "start": "1420070",
    "end": "1426820"
  },
  {
    "text": "to make sure that the user has a particular region that is assigned to him unless there is a disaster the",
    "start": "1426820",
    "end": "1433030"
  },
  {
    "text": "second thing is minimize downtime so whatever we want to pick the main thing",
    "start": "1433030",
    "end": "1438039"
  },
  {
    "text": "was we want we should be able to route users to a healthy region in in seconds",
    "start": "1438039",
    "end": "1443620"
  },
  {
    "text": "in less than two seconds that's basically what our goal was and we not",
    "start": "1443620",
    "end": "1449169"
  },
  {
    "text": "all the applications falls into this category where you can just say yeah I'm just gonna move the traffic and",
    "start": "1449169",
    "end": "1454429"
  },
  {
    "text": "things will just work out right some of the obligations are heavily cached so with that comes your percentage based",
    "start": "1454429",
    "end": "1461809"
  },
  {
    "text": "routing so if you are if not you're a deeper if your application is not part of your eighty percent use case if it is",
    "start": "1461809",
    "end": "1468529"
  },
  {
    "text": "that twenty percent which needs extra rules your tools should be able to do that so you should be able to just route",
    "start": "1468529",
    "end": "1476149"
  },
  {
    "text": "ten percent at a time so that you are able to warm up that cash on another region before you are successfully on",
    "start": "1476149",
    "end": "1482239"
  },
  {
    "text": "two regions or three regions and test before you go live so whichever tool you",
    "start": "1482239",
    "end": "1488419"
  },
  {
    "text": "are using the main thing is you should be able to have a staging environment where you're able to test and confirm",
    "start": "1488419",
    "end": "1494330"
  },
  {
    "text": "that yes I'm able to hit that application and I don't have any issues finally from a multi region routing",
    "start": "1494330",
    "end": "1500419"
  },
  {
    "text": "rules along with hostname based routing we also had to consider path based routing because of our micro services so",
    "start": "1500419",
    "end": "1507200"
  },
  {
    "text": "our up because we we made sure that the services are independent to itself so from a routing perspective whatever",
    "start": "1507200",
    "end": "1513619"
  },
  {
    "text": "tools we wanted to pick was that so either you go with again you go with route 53 or you give a go with GTM it's",
    "start": "1513619",
    "end": "1519889"
  },
  {
    "text": "it's it depends the the scope of the routing is the main thing for you to",
    "start": "1519889",
    "end": "1525379"
  },
  {
    "text": "pick that tool so once we had the routing in place the next thing we move",
    "start": "1525379",
    "end": "1531440"
  },
  {
    "text": "down was we need to make sure we have our monitoring and logging set up on another region before any of our",
    "start": "1531440",
    "end": "1538940"
  },
  {
    "text": "applications can start testing their apps so the region we have we made sure that we have region specific monitoring",
    "start": "1538940",
    "end": "1545899"
  },
  {
    "text": "and logging where you can just keep it local and you can make sure that it's it's on each region and in case of",
    "start": "1545899",
    "end": "1552139"
  },
  {
    "text": "failures we also want it to send the data over to another region if if there",
    "start": "1552139",
    "end": "1557210"
  },
  {
    "text": "is that if there is a problem with your login you at least have that replication going on the monitoring tools that are",
    "start": "1557210",
    "end": "1563840"
  },
  {
    "text": "connecting like your visualize your visualization layer was something we",
    "start": "1563840",
    "end": "1569299"
  },
  {
    "text": "wanted to keep it on one region and also keep it together so even if you have two",
    "start": "1569299",
    "end": "1574369"
  },
  {
    "text": "to three regions your visualization - it's pretty much on the same region and",
    "start": "1574369",
    "end": "1579940"
  },
  {
    "text": "finally make sure you are not monitoring your your pipeline using this",
    "start": "1579940",
    "end": "1586060"
  },
  {
    "text": "day monitoring tools that you have today in that way you will never get any alerts because your monitoring tool is",
    "start": "1586060",
    "end": "1591370"
  },
  {
    "text": "down and your monitoring with the same tools that you have so with the baseline",
    "start": "1591370",
    "end": "1596500"
  },
  {
    "text": "of building this whole block together now once we had all these things in",
    "start": "1596500",
    "end": "1601660"
  },
  {
    "text": "three to four months define and actually we were ready for the applications to come in and start start doing the",
    "start": "1601660",
    "end": "1608320"
  },
  {
    "text": "experiments start actually testing out their application and start to see if we need anything more for an application to",
    "start": "1608320",
    "end": "1613720"
  },
  {
    "text": "go live and with that I would like to I would like to call in Stephanie to talk about communities in specific Thank You",
    "start": "1613720",
    "end": "1624220"
  },
  {
    "text": "Swati so what is community's grip on PlayStation is a way for our users to",
    "start": "1624220",
    "end": "1630130"
  },
  {
    "text": "self organize around their common interest it's a place for them to connect with each other share content",
    "start": "1630130",
    "end": "1637810"
  },
  {
    "text": "and play games together it was launched about two years ago and today we have",
    "start": "1637810",
    "end": "1644290"
  },
  {
    "text": "millions of communities on our network today and thousands of users using this feature every minute so let's take a",
    "start": "1644290",
    "end": "1652150"
  },
  {
    "text": "quick look on how a typical committee would look like on a ps4 console most of",
    "start": "1652150",
    "end": "1660310"
  },
  {
    "text": "our user like to create a committees around their favorite game they can customize their profile with a profile",
    "start": "1660310",
    "end": "1666250"
  },
  {
    "text": "picture or background picture they can join ongoing game sessions or parties or",
    "start": "1666250",
    "end": "1672580"
  },
  {
    "text": "watch a live game broadcast from other members of the communities they can also",
    "start": "1672580",
    "end": "1677920"
  },
  {
    "text": "talk to other members of a community they can trash talk they can share screen shot they can also share their",
    "start": "1677920",
    "end": "1683410"
  },
  {
    "text": "favorites wallpaper from their favorite game or they can schedule gameplay ahead",
    "start": "1683410",
    "end": "1689170"
  },
  {
    "text": "of time maybe they need some help with the big boss battle or maybe they want to do a raid in Destiny to this weekend",
    "start": "1689170",
    "end": "1696070"
  },
  {
    "text": "these are all the things that you can do in committees on playstation and each of",
    "start": "1696070",
    "end": "1702310"
  },
  {
    "text": "these features segments are powered by a number of micro services behind the",
    "start": "1702310",
    "end": "1707440"
  },
  {
    "text": "scene so when we talk about multi region",
    "start": "1707440",
    "end": "1712870"
  },
  {
    "text": "for communities we would know that we are have a lot of support from A to B us already we have the foundation",
    "start": "1712870",
    "end": "1719080"
  },
  {
    "text": "from infrastructure we know we can do logging properly we can monitor we can",
    "start": "1719080",
    "end": "1724330"
  },
  {
    "text": "route traffic properly so is it as easy as just replicate our technical stack",
    "start": "1724330",
    "end": "1729909"
  },
  {
    "text": "and just deployed in new region and voila it's usually not that simple and",
    "start": "1729909",
    "end": "1735580"
  },
  {
    "text": "we actually took a step back and ask ourselves some questions to start does",
    "start": "1735580",
    "end": "1742750"
  },
  {
    "text": "our data need to be in sync in all regions for committees our answer is yes",
    "start": "1742750",
    "end": "1748570"
  },
  {
    "text": "as they can be a user or a committee owner if I've made an update to my",
    "start": "1748570",
    "end": "1754480"
  },
  {
    "text": "community I want everyone in the world to see it not just a user in my particular region and how soon should",
    "start": "1754480",
    "end": "1762309"
  },
  {
    "text": "they see this change from a user's perspective of course ideally real-time",
    "start": "1762309",
    "end": "1767350"
  },
  {
    "text": "like right now when I make a change in my community I don't want to wait five minutes or 10 minutes for other people",
    "start": "1767350",
    "end": "1773380"
  },
  {
    "text": "to see it I want to join their parties right away I want to watch that broadcast so now that we know we need",
    "start": "1773380",
    "end": "1779169"
  },
  {
    "text": "our data to be in sync across our region the next question is the ask does our",
    "start": "1779169",
    "end": "1785110"
  },
  {
    "text": "entire technical stack already support this is everything ready to go multi",
    "start": "1785110",
    "end": "1790120"
  },
  {
    "text": "region and then after that how do you perform a seamless rollout when you go",
    "start": "1790120",
    "end": "1796269"
  },
  {
    "text": "from a single to multiple region so let's dive right into our technical",
    "start": "1796269",
    "end": "1802179"
  },
  {
    "text": "stack these are the four major technology components that we use in",
    "start": "1802179",
    "end": "1807490"
  },
  {
    "text": "committees group some of these we know our multi region ready not just because",
    "start": "1807490",
    "end": "1813760"
  },
  {
    "text": "the documentation tells us that they do it's because it's been tested and validated by some of our other micro",
    "start": "1813760",
    "end": "1820600"
  },
  {
    "text": "services on the network we know it works there will be Couchbase and cassandra",
    "start": "1820600",
    "end": "1826510"
  },
  {
    "text": "and then for some other technology the document does say is support multi",
    "start": "1826510",
    "end": "1832299"
  },
  {
    "text": "region in the latest version and they'd also they could also be supporting",
    "start": "1832299",
    "end": "1838299"
  },
  {
    "text": "passive active setup however we haven't really tested it in our network that",
    "start": "1838299",
    "end": "1843850"
  },
  {
    "text": "would be the case was Sola cloud and zookeeper and finally in committees we",
    "start": "1843850",
    "end": "1849700"
  },
  {
    "text": "also use AWS elastic ash Redis we use it for both caching and some persistent storage as well and we",
    "start": "1849700",
    "end": "1858550"
  },
  {
    "text": "know that it does not have a multi region ready solution so this is really",
    "start": "1858550",
    "end": "1863980"
  },
  {
    "text": "our first and biggest challenge our database layer just is not entirely",
    "start": "1863980",
    "end": "1869410"
  },
  {
    "text": "ready so we're gonna focus be focusing on this in the next few slides so when",
    "start": "1869410",
    "end": "1878710"
  },
  {
    "text": "one of your technology component does not support multi region you really only have two options one is create your own",
    "start": "1878710",
    "end": "1885940"
  },
  {
    "text": "homegrown solution which of course come with its own baggage the second option",
    "start": "1885940",
    "end": "1891310"
  },
  {
    "text": "is to migrate and basically migrating your data from one technology to another",
    "start": "1891310",
    "end": "1897100"
  },
  {
    "text": "that is already supporting multi region so in order to make that decision we",
    "start": "1897100",
    "end": "1902530"
  },
  {
    "text": "want to look at how our micro services are actually interacting with all these components looks simple enough",
    "start": "1902530",
    "end": "1910780"
  },
  {
    "text": "everything interacts with everything so",
    "start": "1910780",
    "end": "1916810"
  },
  {
    "text": "that was a dilemma there's no obvious answer to this either way we go is going to be a lot of",
    "start": "1916810",
    "end": "1922630"
  },
  {
    "text": "work and a lot of refactoring so after a",
    "start": "1922630",
    "end": "1928300"
  },
  {
    "text": "very healthy amount of debate amount engineers and many many meetings and",
    "start": "1928300",
    "end": "1935080"
  },
  {
    "text": "also design meetings without VPS and directors we decided to consolidate our",
    "start": "1935080",
    "end": "1941650"
  },
  {
    "text": "technical stack we decided to migrate all of our data out of bettors in into",
    "start": "1941650",
    "end": "1946990"
  },
  {
    "text": "Couchbase there are a few reasons for this like I said it's going to be a lot of work either way so the amount of work",
    "start": "1946990",
    "end": "1953830"
  },
  {
    "text": "was really not a factor for our consideration but by removing one of the",
    "start": "1953830",
    "end": "1959200"
  },
  {
    "text": "intent one of their database cluster we have a lot less operational overhead is",
    "start": "1959200",
    "end": "1964420"
  },
  {
    "text": "one less thing we have to monitor and operate and keep it running at all times cost savings that's a huge one that's a",
    "start": "1964420",
    "end": "1973030"
  },
  {
    "text": "huge win for us storing more data in Couchbase cost a",
    "start": "1973030",
    "end": "1979390"
  },
  {
    "text": "lot less than keeping the entire register and also this is also a great",
    "start": "1979390",
    "end": "1986510"
  },
  {
    "text": "opportunity for us to pay some technical debt by removing our entire and entire",
    "start": "1986510",
    "end": "1992300"
  },
  {
    "text": "database technology we were able to use we were able to clean up a lot of our code removing a lot of dowels removing a",
    "start": "1992300",
    "end": "2000190"
  },
  {
    "text": "lot of libraries and dependency at the same time so now that we know we have to",
    "start": "2000190",
    "end": "2005380"
  },
  {
    "text": "migrate data on production how this is",
    "start": "2005380",
    "end": "2011650"
  },
  {
    "text": "you know you're trying to basically trying to sneak on a train going full-speed",
    "start": "2011650",
    "end": "2017410"
  },
  {
    "text": "and hoping nobody wouldn't notice you we don't want to have any service impact",
    "start": "2017410",
    "end": "2023710"
  },
  {
    "text": "our user at least minimal impact usually data migration is a multiple step",
    "start": "2023710",
    "end": "2029470"
  },
  {
    "text": "process you're going to be routing a lot of read/write traffic you're going to",
    "start": "2029470",
    "end": "2034510"
  },
  {
    "text": "have to react very quickly and it's critical that you can make changes very quickly between each step so we start",
    "start": "2034510",
    "end": "2042310"
  },
  {
    "text": "looking at what we can with what we already have today that might be able to support this in our technical stack",
    "start": "2042310",
    "end": "2047770"
  },
  {
    "text": "feature switches everyone has it right we want to be able to very quickly turn",
    "start": "2047770",
    "end": "2054190"
  },
  {
    "text": "on and off features maybe for a/b testing or maybe oh there's a bug with this really risky feature we want to",
    "start": "2054190",
    "end": "2060460"
  },
  {
    "text": "turn off right away in our case our most simplest form of feature switches are a",
    "start": "2060460",
    "end": "2066070"
  },
  {
    "text": "file based configuration usually it involves someone maybe go on the bus",
    "start": "2066070",
    "end": "2071590"
  },
  {
    "text": "manually updating a property file if it's a really critical bug or you want",
    "start": "2071590",
    "end": "2077470"
  },
  {
    "text": "to deploy a new artifact with a new change but usually require a either a deployment or server restart so this is",
    "start": "2077470",
    "end": "2085300"
  },
  {
    "text": "not really fast enough in a data migration scenario so we're looking for",
    "start": "2085300",
    "end": "2091628"
  },
  {
    "text": "a way to augment our feature switch and we found Netflix our cares library to be",
    "start": "2091629",
    "end": "2097120"
  },
  {
    "text": "super helpful in this situation our case supports many sources of configuration",
    "start": "2097120",
    "end": "2104190"
  },
  {
    "text": "it can be a database call it can be a REST API call or it could be just be a",
    "start": "2104190",
    "end": "2110410"
  },
  {
    "text": "file and in our case because we already have a simple file based configuration",
    "start": "2110410",
    "end": "2115570"
  },
  {
    "text": "system it was very easy for us to plug s3 bucket right in the middle every",
    "start": "2115570",
    "end": "2122050"
  },
  {
    "text": "time we want to make a feature switch we will just upload a new file onto the s3 bucket and our service will grab all all",
    "start": "2122050",
    "end": "2129520"
  },
  {
    "text": "of the instances of our service will be up be able to update this property in near real-time so let's run through our",
    "start": "2129520",
    "end": "2138400"
  },
  {
    "text": "migration step with the help of these switches step by step so step one we're",
    "start": "2138400",
    "end": "2144850"
  },
  {
    "text": "going to run the migration process in the background we you're moving data",
    "start": "2144850",
    "end": "2150100"
  },
  {
    "text": "from one database to another you could probably you probably transforming your data as well and notice that we're",
    "start": "2150100",
    "end": "2156160"
  },
  {
    "text": "writing our live updates to both the old and the new technology here and you're",
    "start": "2156160",
    "end": "2161560"
  },
  {
    "text": "continuing to serve your live traffic from the o stack so at this point it should not have any service impacts to a",
    "start": "2161560",
    "end": "2168220"
  },
  {
    "text": "user because you're still reading and writing to your own stack and in addition you're also moving some data",
    "start": "2168220",
    "end": "2173770"
  },
  {
    "text": "and writing some new data to your new stack at the same time and step two once",
    "start": "2173770",
    "end": "2181330"
  },
  {
    "text": "your migration process is complete you want to test and validate your data on",
    "start": "2181330",
    "end": "2186610"
  },
  {
    "text": "your new database as much as you can in the background this is really the best time for you to verify your data from",
    "start": "2186610",
    "end": "2193360"
  },
  {
    "text": "the database because the user is not seeing anything yet you have a lot of time or as much time as you need to fix",
    "start": "2193360",
    "end": "2200110"
  },
  {
    "text": "any problem that you found maybe it's some data inconsistency and we're still",
    "start": "2200110",
    "end": "2207130"
  },
  {
    "text": "serving our traffic from the o stack at this point so there should not be again no user impact and once you're really",
    "start": "2207130",
    "end": "2217120"
  },
  {
    "text": "confident with your testing on your in the data in your database let's try switching your live service to",
    "start": "2217120",
    "end": "2224410"
  },
  {
    "text": "read from the new stack so notice that we have turned off the reading from your old database and now you're reading from",
    "start": "2224410",
    "end": "2230140"
  },
  {
    "text": "a new database entirely at this point you should run even more testing because",
    "start": "2230140",
    "end": "2235270"
  },
  {
    "text": "now your life hopefully you have some sort of automation test suite that you can run from your surface point of view",
    "start": "2235270",
    "end": "2241060"
  },
  {
    "text": "and you'd absolutely do not want to stop do writing in this process because that",
    "start": "2241060",
    "end": "2246400"
  },
  {
    "text": "is your fallback strategy once you stop writing there's no going back",
    "start": "2246400",
    "end": "2251980"
  },
  {
    "text": "and once you're truly truly ready you",
    "start": "2251980",
    "end": "2257240"
  },
  {
    "text": "can stop writing to your o stack all together now you should be good to go you're actually migrated all your data",
    "start": "2257240",
    "end": "2262970"
  },
  {
    "text": "and your serving data and your new technology stack and you would also be",
    "start": "2262970",
    "end": "2269840"
  },
  {
    "text": "able to decommission your o stack and save a lot of money at the same time so here's some lessons learned that we have",
    "start": "2269840",
    "end": "2276710"
  },
  {
    "text": "with this task when you're making a lot of temporary or intermediate step",
    "start": "2276710",
    "end": "2282530"
  },
  {
    "text": "changes it's much better to do it in with feature switches overko change but",
    "start": "2282530",
    "end": "2290000"
  },
  {
    "text": "should do it dynamically at runtime without any server restart is even better because in this data migration",
    "start": "2290000",
    "end": "2296660"
  },
  {
    "text": "scenario reaction time is critical you don't want to wait for a server restart or redeployment and if you're using this",
    "start": "2296660",
    "end": "2306410"
  },
  {
    "text": "duo right technique I can't stress this enough do not stop writing to your o stack until you're 100% sure because once you",
    "start": "2306410",
    "end": "2314510"
  },
  {
    "text": "stop writing there's no going back that is the point of no return and when 100%",
    "start": "2314510",
    "end": "2321710"
  },
  {
    "text": "sure is still wait an extra week before you decommission that cluster now that",
    "start": "2321710",
    "end": "2330950"
  },
  {
    "text": "we have tackle the database layer challenge let's move on to your communities search you can discover",
    "start": "2330950",
    "end": "2339680"
  },
  {
    "text": "kemi's that you want to join for them specifically maybe a game titles or p4",
    "start": "2339680",
    "end": "2344690"
  },
  {
    "text": "language or p4 time zone and I'm gonna invite Swati back up here to talk about",
    "start": "2344690",
    "end": "2349970"
  },
  {
    "text": "our solar cloud replication strategy oh the vendor having the documentation",
    "start": "2349970",
    "end": "2355490"
  },
  {
    "text": "right to do this to do the replication so before we even before we even get",
    "start": "2355490",
    "end": "2361880"
  },
  {
    "text": "into solar cloud replication we again wanted to see or do we really need",
    "start": "2361880",
    "end": "2366950"
  },
  {
    "text": "search to be on multiple regions yes the answer is yes we want to make sure the user is able to search the same",
    "start": "2366950",
    "end": "2373810"
  },
  {
    "text": "consistent data regardless of which region he is part of and do we even need",
    "start": "2373810",
    "end": "2379880"
  },
  {
    "text": "to be active active or is active standby okay the reason there is active standby is because solar cloud documentation says",
    "start": "2379880",
    "end": "2387300"
  },
  {
    "text": "they support active standby so the answer is we are okay as long as the reads are active active you're your",
    "start": "2387300",
    "end": "2395070"
  },
  {
    "text": "rights your updates your ads deletes everything can be served from one region which was fine with us as long as we can",
    "start": "2395070",
    "end": "2403380"
  },
  {
    "text": "recover if there is any issue in 10 to 15 minutes for our rights and finally do",
    "start": "2403380",
    "end": "2409859"
  },
  {
    "text": "you will we have any user impact if one region goes down if the user is able to",
    "start": "2409859",
    "end": "2414960"
  },
  {
    "text": "read from any region there is no problem we can totally use that so let's just",
    "start": "2414960",
    "end": "2419970"
  },
  {
    "text": "write jump right into what is out of box that was provided given that based on",
    "start": "2419970",
    "end": "2426810"
  },
  {
    "text": "the documentation so your primary solar cloud data center will be handing your",
    "start": "2426810",
    "end": "2432270"
  },
  {
    "text": "rights your secondary is gonna do all the reads and finally your data will be",
    "start": "2432270",
    "end": "2437310"
  },
  {
    "text": "replicated that whatever is you're just writing to the primary data center data center right so you're just you are you",
    "start": "2437310",
    "end": "2444000"
  },
  {
    "text": "should be able to replicate all the data documents that you're writing it to the one data center to all your target your",
    "start": "2444000",
    "end": "2449940"
  },
  {
    "text": "secondary data centers that you have so which we went right in and we started",
    "start": "2449940",
    "end": "2455940"
  },
  {
    "text": "with saying with our current architecture this is how it looks like right it's pretty easy where you can see",
    "start": "2455940",
    "end": "2461550"
  },
  {
    "text": "your zookeeper talking to your solar and your applications are connected to your zookeeper so we were on we were on a Phi",
    "start": "2461550",
    "end": "2469950"
  },
  {
    "text": "dot X version and the replication is only supported if you upgrade it to six",
    "start": "2469950",
    "end": "2475400"
  },
  {
    "text": "so we jump right down and we started to see how we can do an upgrade a smooth",
    "start": "2475400",
    "end": "2481350"
  },
  {
    "text": "upgrade so we started doing our upgrades for the solar cloud for communities to be at six star techs and then once we",
    "start": "2481350",
    "end": "2487950"
  },
  {
    "text": "had that once we upgraded that then we actually had two clusters set up on both",
    "start": "2487950",
    "end": "2493890"
  },
  {
    "text": "the regions to to try to see if we can if we can replicate whatever is written",
    "start": "2493890",
    "end": "2499650"
  },
  {
    "text": "in the documentation right so we created this both the solar cloud clusters and the zookeeper on a public servant and",
    "start": "2499650",
    "end": "2506190"
  },
  {
    "text": "the solar was first connected to the zookeeper where you all the host name",
    "start": "2506190",
    "end": "2512070"
  },
  {
    "text": "host address information the zookeeper can talk to on from both the to the primary data center and then we",
    "start": "2512070",
    "end": "2519190"
  },
  {
    "text": "were we started doing the replication between both the solar and it should work right totally it should work so the",
    "start": "2519190",
    "end": "2526480"
  },
  {
    "text": "problems that we ran into were the first thing was the the connection that you",
    "start": "2526480",
    "end": "2532150"
  },
  {
    "text": "see from solar - zookeeper doesn't support SSL so that was a big no-no from a security perspective the second thing",
    "start": "2532150",
    "end": "2539079"
  },
  {
    "text": "that I have a charged marked as a challenge was when we started doing replication we we came to know that",
    "start": "2539079",
    "end": "2547029"
  },
  {
    "text": "output at that particular time we came to know that you cannot copy the",
    "start": "2547029",
    "end": "2552279"
  },
  {
    "text": "existing documents you can only start replication from the time you start your application from that time stamp not",
    "start": "2552279",
    "end": "2558940"
  },
  {
    "text": "before not any time before that what it means to others now you don't you are anticipating more",
    "start": "2558940",
    "end": "2565660"
  },
  {
    "text": "than an hour of an outage when if you have to copy all the data that all the indexes that you have on a primary to a",
    "start": "2565660",
    "end": "2572559"
  },
  {
    "text": "secondary to make the secondary data center your your primary so you are you",
    "start": "2572559",
    "end": "2577599"
  },
  {
    "text": "have not you have increased that time so much that we cannot no longer we can no longer use that solution for us to be",
    "start": "2577599",
    "end": "2585190"
  },
  {
    "text": "even even for us to be considering active standby and again the last but not the least was you have to maintain",
    "start": "2585190",
    "end": "2591190"
  },
  {
    "text": "the same number of shots regardless of how many regions that you go to so the first two were the first two were the",
    "start": "2591190",
    "end": "2597880"
  },
  {
    "text": "main reasons why we didn't we didn't use the we didn't use the solution what",
    "start": "2597880",
    "end": "2603160"
  },
  {
    "text": "solar cloud was providing so the next basic thing well people jump into is hey",
    "start": "2603160",
    "end": "2608319"
  },
  {
    "text": "you can use Kafka in front of it and you can totally do that application right so",
    "start": "2608319",
    "end": "2613380"
  },
  {
    "text": "you can keep the solar whichever version it is and you can put Kafka on top of it",
    "start": "2613380",
    "end": "2618819"
  },
  {
    "text": "and you can do your application it should work magically right as you grow",
    "start": "2618819",
    "end": "2624940"
  },
  {
    "text": "into more and more regions you will have more and more operational overhead so you are now talking about if you have a",
    "start": "2624940",
    "end": "2631569"
  },
  {
    "text": "problem you have to look at solar cloud zookeeper Kafka and Kafka zookeeper and you have to keep Kafka separate just to",
    "start": "2631569",
    "end": "2638259"
  },
  {
    "text": "make sure that it's dedicated to your solar cloud application it's not it's not serving all the other purposes right",
    "start": "2638259",
    "end": "2645039"
  },
  {
    "text": "so the challenges from that perspective were of course operational overhead you you are maintaining way too much once",
    "start": "2645039",
    "end": "2651130"
  },
  {
    "text": "you go live and more failure points when you are trying to diagnose an issue it'll take forever for you to figure out",
    "start": "2651130",
    "end": "2657640"
  },
  {
    "text": "where the problem is as you go to more than two regions and it's expensive you're adding Kafka in front of solar",
    "start": "2657640",
    "end": "2663730"
  },
  {
    "text": "Club right so this is how our situation was we already had two meetings and we",
    "start": "2663730",
    "end": "2669760"
  },
  {
    "text": "are back to stage one on whatever what are we gonna do so within within so within community",
    "start": "2669760",
    "end": "2677980"
  },
  {
    "text": "search we are using SQS for data sync so",
    "start": "2677980",
    "end": "2683130"
  },
  {
    "text": "what we were thinking was we are anyways using sqs on one region why can't we",
    "start": "2683130",
    "end": "2688600"
  },
  {
    "text": "keep solar on each region and we are not source of truth for for that data",
    "start": "2688600",
    "end": "2694060"
  },
  {
    "text": "anyways so why don't we just rely on sqs and SQS is gonna do all the data all the",
    "start": "2694060",
    "end": "2699970"
  },
  {
    "text": "car all the messaging to each and every solar cluster and in that way you don't",
    "start": "2699970",
    "end": "2706150"
  },
  {
    "text": "have to rely on Kafka or if people you guys are using Kinesis you don't have to rely on Vinicius right nothing like that",
    "start": "2706150",
    "end": "2711880"
  },
  {
    "text": "and you can just use whatever we have today so the reason why we stick with sqs is pretty reliable and we've been",
    "start": "2711880",
    "end": "2718869"
  },
  {
    "text": "using from two years the day one when communities actually went live so with this then let me hand it back to",
    "start": "2718869",
    "end": "2724990"
  },
  {
    "text": "Stefanie to talk about community search using his Q s so loose coupling set your",
    "start": "2724990",
    "end": "2731770"
  },
  {
    "text": "free as Amy mentioned earlier this is a principle that we had in mind when we designed can we research this is a",
    "start": "2731770",
    "end": "2738609"
  },
  {
    "text": "high-level diagram of the data flow when an updates come in a user come in and",
    "start": "2738609",
    "end": "2745180"
  },
  {
    "text": "update their communities our service will send a message downstream to an SQS",
    "start": "2745180",
    "end": "2751300"
  },
  {
    "text": "then a separate component an indexer would consume this message and process",
    "start": "2751300",
    "end": "2756430"
  },
  {
    "text": "it and go back and tell sola cloud hey please create a new solar document or",
    "start": "2756430",
    "end": "2761830"
  },
  {
    "text": "update an existing solar document and for a case when a user comes in a search",
    "start": "2761830",
    "end": "2767980"
  },
  {
    "text": "for a particular community our service will issue a query child solar cloud in",
    "start": "2767980",
    "end": "2773470"
  },
  {
    "text": "the back in the backend so we mentioned that we want to keep",
    "start": "2773470",
    "end": "2778900"
  },
  {
    "text": "search local in each region so what does it look like it's really simple it's almost just",
    "start": "2778900",
    "end": "2786790"
  },
  {
    "text": "a duplicated tax stack over to the new region and everything you see here is",
    "start": "2786790",
    "end": "2792940"
  },
  {
    "text": "fairly easy to stand up from an operation and deployment point of view you basically deploy your service",
    "start": "2792940",
    "end": "2799180"
  },
  {
    "text": "artifact you stand up a sqs in AWS and",
    "start": "2799180",
    "end": "2804640"
  },
  {
    "text": "you have a solar cloud cluster but the thing that's really missing here is you",
    "start": "2804640",
    "end": "2811720"
  },
  {
    "text": "have a solar cloud cluster but you don't have an index so this is actually not a",
    "start": "2811720",
    "end": "2817839"
  },
  {
    "text": "motor region specific problem this is the same problem when you launch a",
    "start": "2817839",
    "end": "2823000"
  },
  {
    "text": "search feature after your product goes live which is the case for communities we actually launched a search feature",
    "start": "2823000",
    "end": "2829809"
  },
  {
    "text": "about six months after apps kameez was launched and by that's hi we already",
    "start": "2829809",
    "end": "2835030"
  },
  {
    "text": "have a lot of communities created on production and we have to go back and recreate our index from scratch before",
    "start": "2835030",
    "end": "2841150"
  },
  {
    "text": "we launch the search feature so we go back and look at actually how did we do",
    "start": "2841150",
    "end": "2847359"
  },
  {
    "text": "it Before we jump into how do we do mount our region let's look at how to even",
    "start": "2847359",
    "end": "2852579"
  },
  {
    "text": "create an index even in a single region scenario we are the source of truth we",
    "start": "2852579",
    "end": "2859480"
  },
  {
    "text": "have all the communities data so it's really easy for us to it's just array through all of them and create our",
    "start": "2859480",
    "end": "2864790"
  },
  {
    "text": "indexes so in this case we're going to create a temporary component a reindex tting service and we're going to set up",
    "start": "2864790",
    "end": "2872230"
  },
  {
    "text": "a temporary sqs just for this purpose with the indexer and the way that is",
    "start": "2872230",
    "end": "2878589"
  },
  {
    "text": "loosely couple is out actually almost required no code change in the indexer levels the re-indexing service will just",
    "start": "2878589",
    "end": "2885940"
  },
  {
    "text": "go through our entire database and iterate through each role for each community and it sent a message",
    "start": "2885940",
    "end": "2892270"
  },
  {
    "text": "downstream to say hey I have just created a new community and an indexer would tell solar cloud to create a new",
    "start": "2892270",
    "end": "2898180"
  },
  {
    "text": "solar document let's see how we can apply this very same technique in a",
    "start": "2898180",
    "end": "2903490"
  },
  {
    "text": "multi region index replication scenario",
    "start": "2903490",
    "end": "2908490"
  },
  {
    "text": "region one is our live region nothing changed in region two we have not",
    "start": "2908700",
    "end": "2913750"
  },
  {
    "text": "started serving any customer yet so we're not going to deploy a house user-facing community service just yet",
    "start": "2913750",
    "end": "2920140"
  },
  {
    "text": "you have the same SQS created just like region 1 the same indexer you have your",
    "start": "2920140",
    "end": "2925330"
  },
  {
    "text": "brand new solar cloud cluster with an empty index and we're gonna plug in the",
    "start": "2925330",
    "end": "2932590"
  },
  {
    "text": "temporary components that just talked about re-indexing component and a temporary sqs just for index creation",
    "start": "2932590",
    "end": "2939580"
  },
  {
    "text": "purpose now remember when you're doing this index creation you have live",
    "start": "2939580",
    "end": "2946240"
  },
  {
    "text": "updates coming in all the time in region 1 people are constantly updating in the communities so I want to keep those",
    "start": "2946240",
    "end": "2955270"
  },
  {
    "text": "updates but you cannot process them yet because you don't even have an index in",
    "start": "2955270",
    "end": "2961240"
  },
  {
    "text": "region 2 we're going to use the same mechanism our feature switch to pause",
    "start": "2961240",
    "end": "2968680"
  },
  {
    "text": "our consumption from the in from the index update sqs so that we can hang on",
    "start": "2968680",
    "end": "2973750"
  },
  {
    "text": "to those updates until we're ready to process them and you go ahead and start",
    "start": "2973750",
    "end": "2980410"
  },
  {
    "text": "processing the index creation coming in from the re indexing service and you",
    "start": "2980410",
    "end": "2990190"
  },
  {
    "text": "notice that region 1 that's where all the lives query and search queries are still being served so there's no user",
    "start": "2990190",
    "end": "2996580"
  },
  {
    "text": "impact at this point user wouldn't even know that you're doing this behind the scene at some point you're we indexing",
    "start": "2996580",
    "end": "3006360"
  },
  {
    "text": "would be completed and you want to stop processing the index creation messages",
    "start": "3006360",
    "end": "3013610"
  },
  {
    "text": "there might be a few left over message that you have not consumed in this process but that is actually ok because",
    "start": "3013610",
    "end": "3020010"
  },
  {
    "text": "the same updates are actually coming in in region 1 as well you just haven't caught up with them yet so let's go",
    "start": "3020010",
    "end": "3025830"
  },
  {
    "text": "ahead and start processing those live updates message now remember if your re-indexing process is gonna take a",
    "start": "3025830",
    "end": "3033090"
  },
  {
    "text": "while you can be holding on to a lot of update message coming in from your live environment you want to make sure that",
    "start": "3033090",
    "end": "3039660"
  },
  {
    "text": "your retention period on that sqs is long enough to hold on to those messages",
    "start": "3039660",
    "end": "3045440"
  },
  {
    "text": "so eventually your indexer will catch up with a consumer of the live updates and now you have a",
    "start": "3045440",
    "end": "3051780"
  },
  {
    "text": "full and ready index in region two and that is also being constantly updated",
    "start": "3051780",
    "end": "3056970"
  },
  {
    "text": "from live traffic at this point you're ready to serve live customer so remember",
    "start": "3056970",
    "end": "3065760"
  },
  {
    "text": "that even though we want to keep our search local in each region our search result has to be consistent across the",
    "start": "3065760",
    "end": "3073680"
  },
  {
    "text": "globe that means that doesn't matter where the user is coming in from where",
    "start": "3073680",
    "end": "3078960"
  },
  {
    "text": "they make an update the update has to be written to all the region they're active in your system so that's why there's a",
    "start": "3078960",
    "end": "3085440"
  },
  {
    "text": "cross region sqs right in this case so this looks fairly simple and you have",
    "start": "3085440",
    "end": "3091050"
  },
  {
    "text": "two regions you're just you know crisscrossing to two regions with two sqs endpoint what if you have three or",
    "start": "3091050",
    "end": "3101900"
  },
  {
    "text": "five you started your lab coat clutter or actually I hope that you don't",
    "start": "3101900",
    "end": "3108030"
  },
  {
    "text": "introduce any ko clutter in this case hopefully just a configuration for you but eventually you'll probably end up",
    "start": "3108030",
    "end": "3114300"
  },
  {
    "text": "with six or eight or ten different sqs endpoint that you have to take care of this is really starting to get messy so",
    "start": "3114300",
    "end": "3121589"
  },
  {
    "text": "we were looking for a way to clean this up a little bit and extract us a little further we introduced SNS on top of SQS",
    "start": "3121589",
    "end": "3134000"
  },
  {
    "text": "now we're able to publish all our update message to a single SNS topic only and",
    "start": "3134000",
    "end": "3140970"
  },
  {
    "text": "then downstream we can subscribe from this topic from any region and any",
    "start": "3140970",
    "end": "3146130"
  },
  {
    "text": "number of regions that we want and all the subscription is managed by AWS",
    "start": "3146130",
    "end": "3151650"
  },
  {
    "text": "console or in eight of us API there's little to no code change when you want",
    "start": "3151650",
    "end": "3157109"
  },
  {
    "text": "to expand to a new region with all the loose coupling in between our components",
    "start": "3157109",
    "end": "3164280"
  },
  {
    "text": "and all the messaging mechanism we were really able to iterate through our design experiment with things on",
    "start": "3164280",
    "end": "3170760"
  },
  {
    "text": "production very quickly so Swati",
    "start": "3170760",
    "end": "3176130"
  },
  {
    "text": "mentioned our solar cloud multi region journey was not without challenge we",
    "start": "3176130",
    "end": "3181830"
  },
  {
    "text": "actually have do it three times until we have arrived at a successful solution using SQS and",
    "start": "3181830",
    "end": "3189220"
  },
  {
    "text": "each of the experiment requires us to create entire new index we direct a lot",
    "start": "3189220",
    "end": "3197030"
  },
  {
    "text": "of read and write and when the experiment fail when we start noticing problem with our solo six select cloud",
    "start": "3197030",
    "end": "3203810"
  },
  {
    "text": "six solution we need to very quickly fall back to our existing region and our existing cluster basically failing back",
    "start": "3203810",
    "end": "3210740"
  },
  {
    "text": "to a single region solution but we were able to do this with very very little",
    "start": "3210740",
    "end": "3215960"
  },
  {
    "text": "code change with SNS sqs and other a dynamic switches actually most of them",
    "start": "3215960",
    "end": "3221030"
  },
  {
    "text": "just required a dynamic switch operation so these are the two probably the top",
    "start": "3221030",
    "end": "3227810"
  },
  {
    "text": "two challenge that we have with kameez Multi multi region and this project took",
    "start": "3227810",
    "end": "3233359"
  },
  {
    "text": "us almost a year to complete and we've been multi region on production for almost two months now so before we wrap",
    "start": "3233359",
    "end": "3242030"
  },
  {
    "text": "up this session we would like to share a few more lessons learn from our overall journey always test it doesn't matter",
    "start": "3242030",
    "end": "3254900"
  },
  {
    "text": "what a documentation tells you you need to always test your replication strategy",
    "start": "3254900",
    "end": "3260119"
  },
  {
    "text": "does it work and does it work for your use case in particular caching caching",
    "start": "3260119",
    "end": "3270410"
  },
  {
    "text": "is probably what the hardest problem in computer science after an what to name your variables if you don't have if you",
    "start": "3270410",
    "end": "3279260"
  },
  {
    "text": "don't want you have a multi region solution for your caching layer which I",
    "start": "3279260",
    "end": "3284450"
  },
  {
    "text": "would recommend against you need to make sure that when you're deploying to your new region you need to warm up your",
    "start": "3284450",
    "end": "3290359"
  },
  {
    "text": "cache because you be you be you may be the first one to be using a shared cache",
    "start": "3290359",
    "end": "3295520"
  },
  {
    "text": "layer and you'll be started you'll be starting with a completely CO cache an",
    "start": "3295520",
    "end": "3302530"
  },
  {
    "text": "after you go multi region usually problems don't show up right away in fact usually show up after about two",
    "start": "3302530",
    "end": "3310160"
  },
  {
    "text": "weeks or three weeks so please wait at least a month before you have that",
    "start": "3310160",
    "end": "3316280"
  },
  {
    "text": "epic party does to celebrate a success so before you take that leap into your",
    "start": "3316280",
    "end": "3324140"
  },
  {
    "text": "multi region journey remember to have those questions and discussions was your",
    "start": "3324140",
    "end": "3329180"
  },
  {
    "text": "team do you need multi region and do you want moto region architecture do you",
    "start": "3329180",
    "end": "3334610"
  },
  {
    "text": "want to deal with the complexity and the cost around it and if so do you",
    "start": "3334610",
    "end": "3340160"
  },
  {
    "text": "understand and know how to put together those building blocks so make sure you",
    "start": "3340160",
    "end": "3345350"
  },
  {
    "text": "are architecting your infrastructure for more than two regions as you are going to reuse all the all the components that",
    "start": "3345350",
    "end": "3351950"
  },
  {
    "text": "you are building yeah and once you have a good foundation from the building walls and infrastructure as you test an",
    "start": "3351950",
    "end": "3358340"
  },
  {
    "text": "experiment on production make sure you always have a fallback strategy before",
    "start": "3358340",
    "end": "3363860"
  },
  {
    "text": "you take the big leap and thank you very much this is it for us thank you",
    "start": "3363860",
    "end": "3368990"
  },
  {
    "text": "[Applause]",
    "start": "3368990",
    "end": "3375590"
  }
]