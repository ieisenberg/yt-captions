[
  {
    "text": "so thank you for being here thank you for spending the time I know it's late I'm gonna try to keep it fun I'm gonna",
    "start": "30",
    "end": "6120"
  },
  {
    "text": "try to keep it exciting for all of you who are like should I stay to the end my favorite most favorite policy that",
    "start": "6120",
    "end": "13650"
  },
  {
    "text": "I've been wanting to share with customers for a really long time is at the end and it's really cool so you can",
    "start": "13650",
    "end": "23039"
  },
  {
    "text": "also watch on YouTube you later but let's try to get to the end my name is Bridget Johnson I'm a senior manager of",
    "start": "23039",
    "end": "29519"
  },
  {
    "text": "product management in AWS identity I mainly work on I am identity and access",
    "start": "29519",
    "end": "34950"
  },
  {
    "text": "management and secrets manager and today we're gonna talk about policies and permissions this is what today looks",
    "start": "34950",
    "end": "42300"
  },
  {
    "text": "like I'm actually going to go really fast through the policy language this is",
    "start": "42300",
    "end": "49770"
  },
  {
    "text": "a little bit higher level course so I'm just gonna cover some basics that I'm gonna use why because I've already given",
    "start": "49770",
    "end": "56760"
  },
  {
    "text": "a lot of details in previous talks documentation blog post etc and I want",
    "start": "56760",
    "end": "61829"
  },
  {
    "text": "to get to those use cases because those use cases are probably where you need the most help so I'm gonna recap the",
    "start": "61829",
    "end": "68340"
  },
  {
    "text": "policy language really quickly then as AWS has grown we have offered more policy types and I want to talk about",
    "start": "68340",
    "end": "75270"
  },
  {
    "text": "what those do what are the use cases and how they all work together there will be some quiz answer question answers that I",
    "start": "75270",
    "end": "82830"
  },
  {
    "text": "want you to be prepared for and then at the end we're gonna go through a deep",
    "start": "82830",
    "end": "88080"
  },
  {
    "text": "dive on specific use cases so how many of you manage more than one AWS account",
    "start": "88080",
    "end": "94340"
  },
  {
    "text": "yes good on you and it's hard right and",
    "start": "94340",
    "end": "99840"
  },
  {
    "text": "so we want to be able to show you how to create guardrails in your account so we'll do that then we're gonna talk",
    "start": "99840",
    "end": "105479"
  },
  {
    "text": "about controlling access to specific regions that was big one this year for a lot of our customers and then",
    "start": "105479",
    "end": "111750"
  },
  {
    "text": "we're gonna talk about two new features first permission boundaries that's how to enable developers to create rules",
    "start": "111750",
    "end": "117540"
  },
  {
    "text": "safely and then we'll go into tag based permissions and then I'll show you my favorite policy so let's get started oh",
    "start": "117540",
    "end": "125329"
  },
  {
    "text": "one more call-out I know this already happened at the top but I wanted to call",
    "start": "125329",
    "end": "130530"
  },
  {
    "text": "out the session we work a lot with the automated reasoning group at Amazon in AWS and",
    "start": "130530",
    "end": "136769"
  },
  {
    "text": "they do a lot of fantastic things with Policy Analysis so I definitely check that out on YouTube later and then",
    "start": "136769",
    "end": "143010"
  },
  {
    "text": "tomorrow Vanguard is a customer that has been using permission boundaries in production at scale for their developers",
    "start": "143010",
    "end": "150060"
  },
  {
    "text": "and I really I they have a great use case and something very applicable to what we hear from a lot of customers so",
    "start": "150060",
    "end": "156329"
  },
  {
    "text": "take a look at their talk it's gonna be quite interesting recap of I in policy",
    "start": "156329",
    "end": "162629"
  },
  {
    "text": "language who here has never seen a policy in AWS you got the right audience",
    "start": "162629",
    "end": "171769"
  },
  {
    "text": "so what are ion policies what's the structure and what's the evaluation rule",
    "start": "171769",
    "end": "178170"
  },
  {
    "text": "and then I'm gonna try something new on you and this is a way that we talk about permission and policy internally and",
    "start": "178170",
    "end": "184819"
  },
  {
    "text": "this is the first time I'm going to share with you a little bit externally and I want to see if it sticks because",
    "start": "184819",
    "end": "189870"
  },
  {
    "text": "it usually does when we talk about policy evaluation inside AWS so this is",
    "start": "189870",
    "end": "197160"
  },
  {
    "text": "pretty simple what our policies the first part is your job right you do the",
    "start": "197160",
    "end": "203760"
  },
  {
    "text": "defining you get to say who should have access to what and you do that by writing policy the second part is my job",
    "start": "203760",
    "end": "212280"
  },
  {
    "text": "not really my job personally but AWS is job all right and we do the evaluation",
    "start": "212280",
    "end": "218160"
  },
  {
    "text": "for every AWS request that comes in we evaluate can this person call this",
    "start": "218160",
    "end": "223500"
  },
  {
    "text": "action on this resource on this time of day from the source IP etc and that's",
    "start": "223500",
    "end": "228629"
  },
  {
    "text": "our job okay so you combine those two together and you have access control in AWS and",
    "start": "228629",
    "end": "235590"
  },
  {
    "text": "that's what we're all about here today so what does a policy look like we",
    "start": "235590",
    "end": "243449"
  },
  {
    "text": "talked about the PARCC model and so we have principal action resource and",
    "start": "243449",
    "end": "248609"
  },
  {
    "text": "condition and this obviously comes after in effect which is going to be allow or deny the principal you may not see very",
    "start": "248609",
    "end": "255660"
  },
  {
    "text": "often why may you not see it very often mainly because you're attaching policies",
    "start": "255660",
    "end": "261930"
  },
  {
    "text": "to principles and I am user or anion wool which means that we know the principle and you don't have to",
    "start": "261930",
    "end": "268180"
  },
  {
    "text": "suspect have to specify it now when you're using like a bucket policy which you attach to a resource then you",
    "start": "268180",
    "end": "275380"
  },
  {
    "text": "actually are going to want to specify the principle which is the who so principle is the entity that is allowed",
    "start": "275380",
    "end": "281650"
  },
  {
    "text": "access action is the type of access that is allowed or denied turns out there's",
    "start": "281650",
    "end": "289030"
  },
  {
    "text": "over 4,000 actions in AWS I counted one by one just kidding",
    "start": "289030",
    "end": "295050"
  },
  {
    "text": "resource is the Amazon resource name we use Arne's you've probably all seen an arm before to specify which action can",
    "start": "295050",
    "end": "302919"
  },
  {
    "text": "act on which resource and then finally condition under what conditions is this true I was looking around at our",
    "start": "302919",
    "end": "309840"
  },
  {
    "text": "conditions out there there are some very powerful conditions you can talk about tags is MFA enabled what subnet are you",
    "start": "309840",
    "end": "317410"
  },
  {
    "text": "trying to launch this instance in etc um so take a look there's a lot of things",
    "start": "317410",
    "end": "323229"
  },
  {
    "text": "you can do here all right policy enforcement so this is how we think",
    "start": "323229",
    "end": "330400"
  },
  {
    "text": "about it first and foremost we start at deny I need you all to remember this",
    "start": "330400",
    "end": "336760"
  },
  {
    "text": "because when you're trying to debug permissions if there is not an allow that matches it will be denied we do",
    "start": "336760",
    "end": "343240"
  },
  {
    "text": "this to be secure by default so if you don't have an allow you started denying then we evaluate all applicable policies",
    "start": "343240",
    "end": "350410"
  },
  {
    "text": "this includes policies at the organization policies on I am user and",
    "start": "350410",
    "end": "355450"
  },
  {
    "text": "role policies on the resource and even policies in the session itself and we say is there an explicit deny what",
    "start": "355450",
    "end": "363460"
  },
  {
    "text": "happens if there's an explicit deny meaning you as the person who's the admin said I do not want to allow",
    "start": "363460",
    "end": "369970"
  },
  {
    "text": "anybody at this access denied thank you I heard in the back whose loud",
    "start": "369970",
    "end": "376210"
  },
  {
    "text": "awesome alright then we say is there an allow and if there is what happens we",
    "start": "376210",
    "end": "383500"
  },
  {
    "text": "get allow that's exactly right you all are kind of awake it's good what happens if there's not an allow yes",
    "start": "383500",
    "end": "391450"
  },
  {
    "text": "that's it we go back to our original dist right um so this is really important",
    "start": "391450",
    "end": "398320"
  },
  {
    "text": "because the allow must match alright so this is a different way of thinking about it and might help you understand",
    "start": "398320",
    "end": "405160"
  },
  {
    "text": "policy evaluation just a little bit more so at the end of the day when there's an",
    "start": "405160",
    "end": "410380"
  },
  {
    "text": "allowed or denied decision that's at the bottom middle you have a request and you",
    "start": "410380",
    "end": "416110"
  },
  {
    "text": "make a request to AWS and that request says I'm trying to perform this action on this resource at this time of day",
    "start": "416110",
    "end": "423220"
  },
  {
    "text": "from this source IP I've authenticated with MFA and I'm passing in a few parameters those are things that you",
    "start": "423220",
    "end": "430150"
  },
  {
    "text": "pass in in to your request and then there are some other things that AWS might populate as well it might populate",
    "start": "430150",
    "end": "437200"
  },
  {
    "text": "the tags on the resources or anything like that right so that's their context okay that's part one the other part is",
    "start": "437200",
    "end": "444640"
  },
  {
    "text": "your job that we talked about earlier you define the policies all right so you might be asking what the heck is in the",
    "start": "444640",
    "end": "451210"
  },
  {
    "text": "middle some people think it's crazy foo they call me up Bridgette what is going on I don't understand this some people",
    "start": "451210",
    "end": "458860"
  },
  {
    "text": "think it's an alien definitely had things like this you know keep in mind I",
    "start": "458860",
    "end": "464260"
  },
  {
    "text": "was limited to the images that they let me put on PowerPoint so that's where we're at some people think it's me that",
    "start": "464260",
    "end": "470950"
  },
  {
    "text": "I was cloned and I actually allow or deny every little action it turns out",
    "start": "470950",
    "end": "477100"
  },
  {
    "text": "there's a lot of actions in AWS per second but really it's just matching",
    "start": "477100",
    "end": "482640"
  },
  {
    "text": "okay and so instead of when you run into the problem of I don't know why it's",
    "start": "482640",
    "end": "489040"
  },
  {
    "text": "denied I don't know why I don't have access ask yourself a question what's not matching okay so is it the action",
    "start": "489040",
    "end": "496180"
  },
  {
    "text": "that's not matching is it the resource that's not matching do I have some condition that for some reason I didn't",
    "start": "496180",
    "end": "501820"
  },
  {
    "text": "pass in the right parameter and that condition is being checked and it's not matching so at the end of the day that's",
    "start": "501820",
    "end": "507610"
  },
  {
    "text": "all we're doing is we're saying does the context that's coming in match an allows statement that has been defined in a",
    "start": "507610",
    "end": "513969"
  },
  {
    "text": "policy all right there are multiple",
    "start": "513970",
    "end": "520900"
  },
  {
    "text": "types of policies in AWS but they all use the same policy language so first",
    "start": "520900",
    "end": "527770"
  },
  {
    "text": "inform so we have AWS organizations that allows you to group your accounts and then",
    "start": "527770",
    "end": "534370"
  },
  {
    "text": "there's a lot of integrations that are happening and more on the way so cloud trail etc but the cool one is",
    "start": "534370",
    "end": "541090"
  },
  {
    "text": "service control policies and I just talked to an instructor who's back there and he teaches service control policies",
    "start": "541090",
    "end": "547330"
  },
  {
    "text": "and I thought that was really cool um and you want to use service control policies to put guardrails on your",
    "start": "547330",
    "end": "553540"
  },
  {
    "text": "account so you might disable a service or a specific action here I want to call",
    "start": "553540",
    "end": "559060"
  },
  {
    "text": "out that service control policies do not grant access you may or may not know",
    "start": "559060",
    "end": "565300"
  },
  {
    "text": "this but by default every organization starts with an allow startup star policy",
    "start": "565300",
    "end": "570970"
  },
  {
    "text": "that does not mean that all entities in your organization have full access to everything",
    "start": "570970",
    "end": "576400"
  },
  {
    "text": "it simply means there are no guardrails and only rely on the I M permissions",
    "start": "576400",
    "end": "581770"
  },
  {
    "text": "within the account to control access so the I M permissions you have two parts",
    "start": "581770",
    "end": "587470"
  },
  {
    "text": "you have permission policies the permission policies are what you know today inline policies manage policies",
    "start": "587470",
    "end": "593440"
  },
  {
    "text": "these actually give the access go allow go launch instances go create buckets go",
    "start": "593440",
    "end": "599530"
  },
  {
    "text": "out objects all that sir stuff then recently this year we have permission boundaries permission boundaries say hey",
    "start": "599530",
    "end": "607150"
  },
  {
    "text": "forgiven principle we have a maximum permission set so this is gonna allow",
    "start": "607150",
    "end": "613180"
  },
  {
    "text": "developers to create roles with only a certain maximum permission which means they can't escalate their privileges",
    "start": "613180",
    "end": "620760"
  },
  {
    "text": "next you actually STS that's when you call assume role you get a session you",
    "start": "620760",
    "end": "626710"
  },
  {
    "text": "can actually pass in a scope down policy for sessions so where do we see customers using this we see it using it",
    "start": "626710",
    "end": "633490"
  },
  {
    "text": "when they're making on-the-fly decision per session so I've seen we have",
    "start": "633490",
    "end": "639310"
  },
  {
    "text": "customers who manage a bunch of other accounts for everyone else and they may have a support team and they'll have a federation broker right before they get",
    "start": "639310",
    "end": "645940"
  },
  {
    "text": "into AWS that says oh this is an s3 support case okay well scope the policy",
    "start": "645940",
    "end": "651010"
  },
  {
    "text": "down from this general role to actually just s3 and you also have",
    "start": "651010",
    "end": "657280"
  },
  {
    "text": "AWS services have policy who's ever edited a bucket policy yes that is a resource-based policy and",
    "start": "657280",
    "end": "664240"
  },
  {
    "text": "that allows direct cross account access and you see that a lot and then also V",
    "start": "664240",
    "end": "669790"
  },
  {
    "text": "PCM point policies that you can control who gets in who uses the endpoint and",
    "start": "669790",
    "end": "674980"
  },
  {
    "text": "what they can do through it alright so this is I want to talk about permission",
    "start": "674980",
    "end": "680710"
  },
  {
    "text": "boundaries just because it's new this year I'm gonna cover it a couple times because I really wanted to sink in it's",
    "start": "680710",
    "end": "686230"
  },
  {
    "text": "a very powerful tool and I am so allows you to scale and delegate your permission management to developer",
    "start": "686230",
    "end": "692530"
  },
  {
    "text": "safely it controls the maximum permissions that employee can grant so I'm going to talk about a developer his",
    "start": "692530",
    "end": "699310"
  },
  {
    "text": "name's Casey he's my brother I like to say he's a little unruly and tries to break the rules and do some crazy things",
    "start": "699310",
    "end": "705520"
  },
  {
    "text": "so he can control his access turns out he's pretty smart and has several security clearances so he's",
    "start": "705520",
    "end": "711700"
  },
  {
    "text": "actually not that unruly but we'll use him today so you can imagine say hey Casey you can create roles but you can",
    "start": "711700",
    "end": "718240"
  },
  {
    "text": "only create the roles with this maximum permission set so even if Casey were to a star an admin policy to that role that",
    "start": "718240",
    "end": "726460"
  },
  {
    "text": "he creates it will not work as admin it'll only get the effective permissions which is in the middle of the permission",
    "start": "726460",
    "end": "733720"
  },
  {
    "text": "boundary and the ion policy and we're gonna do demos of this and that's pretty",
    "start": "733720",
    "end": "740110"
  },
  {
    "text": "cool actually all right so this is fun how do all these policies work together",
    "start": "740110",
    "end": "746640"
  },
  {
    "text": "so here's the logic first you need the service control policy to be allowed and",
    "start": "746640",
    "end": "752620"
  },
  {
    "text": "if you are within an account you need either I am to say yes or resource based",
    "start": "752620",
    "end": "758590"
  },
  {
    "text": "policies to say yes there's different behavior within an account and across",
    "start": "758590",
    "end": "763900"
  },
  {
    "text": "account and really what this comes down to is trust at the end of the day you",
    "start": "763900",
    "end": "769090"
  },
  {
    "text": "trust your own account and you don't trust other accounts by default and so if you're trying to access a different",
    "start": "769090",
    "end": "775780"
  },
  {
    "text": "account you need both sides you need to count a to say hey I trust you account B and you need to count B to say hey I",
    "start": "775780",
    "end": "781750"
  },
  {
    "text": "trust you account a I like to call it the trust hug right you gotta get both sides around okay so this is how it",
    "start": "781750",
    "end": "789490"
  },
  {
    "text": "operates within an account so you need iron policies if you're using permission boundary",
    "start": "789490",
    "end": "794950"
  },
  {
    "text": "the permission must be allowed in the boundary and it must be allowed in the permission policy if you pass down the",
    "start": "794950",
    "end": "800860"
  },
  {
    "text": "scope down policy it must also be allowed in there if you're not using permission boundary you can just do it",
    "start": "800860",
    "end": "806649"
  },
  {
    "text": "on the permission policy and same thing with the scope down if you're not using it it doesn't matter so we're going to",
    "start": "806649",
    "end": "813040"
  },
  {
    "text": "test your knowledge of this I took away the logic so let's imagine I have a service control policy with allow s3 put",
    "start": "813040",
    "end": "820839"
  },
  {
    "text": "object in just an eye on policy would just allow s3 put object what is my",
    "start": "820839",
    "end": "826600"
  },
  {
    "text": "answer allowed or denied allowed awesome",
    "start": "826600",
    "end": "831690"
  },
  {
    "text": "all right well change it up a little bit so I'm gonna put a permission boundary on and I'm gonna say only allow a/c to",
    "start": "831690",
    "end": "839350"
  },
  {
    "text": "read what's my answer denied oh this room got smart all right next one I only",
    "start": "839350",
    "end": "848649"
  },
  {
    "text": "have allow s3 put object on the resource policy like on a bucket policy what's",
    "start": "848649",
    "end": "854260"
  },
  {
    "text": "the answer oh good all right",
    "start": "854260",
    "end": "860250"
  },
  {
    "text": "crazy Casey dropped that CP got access to the master account deleted it by accident what's our answer deny good job",
    "start": "861899",
    "end": "872579"
  },
  {
    "text": "all right now we're across accounts so we have account a and account B pretty",
    "start": "872579",
    "end": "877810"
  },
  {
    "text": "simple the only thing that happens here is let's imagine the principles are in account a and the resources in account B",
    "start": "877810",
    "end": "884579"
  },
  {
    "text": "both sides now have to say yes and allow okay so what's our answer here we have",
    "start": "884579",
    "end": "894670"
  },
  {
    "text": "SCP that says allow and only an eye on policy deny right why because the",
    "start": "894670",
    "end": "902740"
  },
  {
    "text": "resource based policy doesn't have it across accounts we add it here what happens awesome",
    "start": "902740",
    "end": "908470"
  },
  {
    "text": "yes now you love my animations I spend like a whole plane ride to London doing",
    "start": "908470",
    "end": "915190"
  },
  {
    "text": "those all right so thank you all for participating that was I got all the right answers from the audience I love",
    "start": "915190",
    "end": "921250"
  },
  {
    "text": "that now we're gonna go into specific use cases well because you showed up",
    "start": "921250",
    "end": "928750"
  },
  {
    "text": "today tonight at 7:00 p.m. instead of going to the pub crawl you all just got a new job congratulations",
    "start": "928750",
    "end": "936070"
  },
  {
    "text": "I realize that this might be a promotion for some of you and it might be a",
    "start": "936070",
    "end": "941560"
  },
  {
    "text": "demotion for others but you are now the lead of a central security team at any",
    "start": "941560",
    "end": "946750"
  },
  {
    "text": "company of your choosing how about that and your first mission your first day on the job which is gonna be the next 43",
    "start": "946750",
    "end": "953740"
  },
  {
    "text": "minutes of this talk is to prevent developers from reverting settings in",
    "start": "953740",
    "end": "959140"
  },
  {
    "text": "your AWS accounts and on board to new teams so the rest of the talk is gonna",
    "start": "959140",
    "end": "965350"
  },
  {
    "text": "work like this I'm gonna present you four challenges we have a fifth one at the end but I'm gonna present you four",
    "start": "965350",
    "end": "971380"
  },
  {
    "text": "challenges and as I go through the four challenges I want you either write down or mentally think about what tool are",
    "start": "971380",
    "end": "979480"
  },
  {
    "text": "you going to use to complete that challenge and then we're actually gonna go through it and we're gonna see policy",
    "start": "979480",
    "end": "985240"
  },
  {
    "text": "and you're gonna see some really nerdy policies all right to give you a little",
    "start": "985240",
    "end": "991630"
  },
  {
    "text": "background this is your organization you have a master account you have 200 years unicorns and zombies how did I come up",
    "start": "991630",
    "end": "999310"
  },
  {
    "text": "with that name I messaged some co-workers and that's what we came up with I guess that's what we talk a lot",
    "start": "999310",
    "end": "1004800"
  },
  {
    "text": "about you have a production account in a development count in each for today's example I'm actually mainly gonna use",
    "start": "1004800",
    "end": "1011130"
  },
  {
    "text": "the development count for unicorns I realize a lot of you are managing organizations that are a lot larger than",
    "start": "1011130",
    "end": "1018390"
  },
  {
    "text": "this well I can only make you a policy master in 42 minutes so we're gonna keep it small for right now these are the",
    "start": "1018390",
    "end": "1028438"
  },
  {
    "text": "services you're using you have Amazon ec2 to run workloads lambda for service",
    "start": "1028439",
    "end": "1034020"
  },
  {
    "text": "applications secrets manager at a store and rotate your secrets and s3 for",
    "start": "1034020",
    "end": "1039150"
  },
  {
    "text": "content objects I realize most of you are gonna be using more than these throughout your AWS environments but",
    "start": "1039150",
    "end": "1045569"
  },
  {
    "text": "we'll stick with for for now situation number one your team has gone through",
    "start": "1045569",
    "end": "1052890"
  },
  {
    "text": "and set up cloud trail for all your accounts and your company also requires your users to authenticate with existing",
    "start": "1052890",
    "end": "1059910"
  },
  {
    "text": "identity providers you don't run wind so you don't need directory services you",
    "start": "1059910",
    "end": "1065010"
  },
  {
    "text": "don't want to create any other IM users that's your challenge number one so you need to ensure that developers can't",
    "start": "1065010",
    "end": "1070920"
  },
  {
    "text": "turn off cloud trail create users or use directory services alright that's your",
    "start": "1070920",
    "end": "1076950"
  },
  {
    "text": "first challenge take a mental note of what you would use number two you've",
    "start": "1076950",
    "end": "1083100"
  },
  {
    "text": "learned that you can trust your development team to create resources so KC's allowed to launch some instances",
    "start": "1083100",
    "end": "1088500"
  },
  {
    "text": "create some secrets maybe add some objects s3 but you are terrified of",
    "start": "1088500",
    "end": "1095510"
  },
  {
    "text": "creating resources in unapproved regions this was a big one this year right and so your challenge is to ensure that",
    "start": "1095510",
    "end": "1103050"
  },
  {
    "text": "developers can only create resources in approved regions and by the way if you",
    "start": "1103050",
    "end": "1108420"
  },
  {
    "text": "can choose or no if you can determine or predict what I am going to say is the",
    "start": "1108420",
    "end": "1113670"
  },
  {
    "text": "approved region in this example then brownie points do you put it on Twitter or something like that and tell me",
    "start": "1113670",
    "end": "1121170"
  },
  {
    "text": "afterwards we'll see if you can predict okay number three this is new this year",
    "start": "1121170",
    "end": "1128870"
  },
  {
    "text": "you and your developers know their stuff they can create rolls you don't have to",
    "start": "1128870",
    "end": "1133980"
  },
  {
    "text": "be the bottleneck getting more creating every single roll for every single lambda function for every single ec2",
    "start": "1133980",
    "end": "1138990"
  },
  {
    "text": "instance out there so you want to allow them to do that but you want to make",
    "start": "1138990",
    "end": "1144360"
  },
  {
    "text": "sure that they don't create a bunch of admin roles and just go all crazy in your environment all right",
    "start": "1144360",
    "end": "1150840"
  },
  {
    "text": "so write down what tool you're gonna use for that I've talked about all these tools by the way previously and then",
    "start": "1150840",
    "end": "1158870"
  },
  {
    "text": "finally you have the unicorn team and it got split into two projects the dorky",
    "start": "1158870",
    "end": "1165000"
  },
  {
    "text": "unicorns and the sneaky unicorns how did I come up with dorky and sneaky turns out I read reddit and we launched I am",
    "start": "1165000",
    "end": "1171870"
  },
  {
    "text": "tags and I'm reading as we launched I'm reading the reddit thread and somebody goes great now I can tag my co-workers",
    "start": "1171870",
    "end": "1178890"
  },
  {
    "text": "dorky and I just thought it was hilarious so that's how we got the name and so your challenge is to update your",
    "start": "1178890",
    "end": "1186060"
  },
  {
    "text": "permissions within an account to make sure they don't step on each other's toes so you want unicorns to only be",
    "start": "1186060",
    "end": "1192120"
  },
  {
    "text": "able to create and manage to their own resources with their projects all right now I'm gonna quiz",
    "start": "1192120",
    "end": "1199730"
  },
  {
    "text": "you so to set guard rails across account what tool are you gonna use did somebody",
    "start": "1199730",
    "end": "1206780"
  },
  {
    "text": "say SCP because that's the right answer you were not loud enough control",
    "start": "1206780",
    "end": "1213950"
  },
  {
    "text": "creation of resources to specific regions what are you gonna use not",
    "start": "1213950",
    "end": "1221780"
  },
  {
    "text": "boundaries it's just going to be a simple permission policy enabled",
    "start": "1221780",
    "end": "1227240"
  },
  {
    "text": "developers to create rules safely boundaries yes that was louder awesome and then finally",
    "start": "1227240",
    "end": "1234830"
  },
  {
    "text": "use tags to scale permission management that's also just gonna be a permission",
    "start": "1234830",
    "end": "1240230"
  },
  {
    "text": "policy all right here we go so this is",
    "start": "1240230",
    "end": "1245570"
  },
  {
    "text": "where I'm gonna start demoing stuff I'm gonna be flopping back and forth between I'm conselho command line you name it",
    "start": "1245570",
    "end": "1251800"
  },
  {
    "text": "first ensure developers cannot turn off cloud trail create I'm users or directory service I'm gonna use a",
    "start": "1251800",
    "end": "1258260"
  },
  {
    "text": "service control policy the pro tip here is rely on denies statements when",
    "start": "1258260",
    "end": "1263390"
  },
  {
    "text": "restricting access access by default there's an allow startup star for all SCPs",
    "start": "1263390",
    "end": "1268580"
  },
  {
    "text": "it's a lot easier to basically say hey deny these actions than it is allow a",
    "start": "1268580",
    "end": "1276650"
  },
  {
    "text": "bunch of stuff in whitelist one AWS is constantly launching new services and so",
    "start": "1276650",
    "end": "1283070"
  },
  {
    "text": "you want to be able to move quickly and just put deny on what you don't want and also it's a lot easier to understand and",
    "start": "1283070",
    "end": "1289190"
  },
  {
    "text": "so it reduces some blast radius in case you get it wrong hopefully you won't so",
    "start": "1289190",
    "end": "1296630"
  },
  {
    "text": "this is what the SCP looks like I'm gonna say deny directory service I am create user and stop logging cloud",
    "start": "1296630",
    "end": "1304700"
  },
  {
    "text": "trial stop logging I'm in a demo so first I'm gonna show you the SCP and",
    "start": "1304700",
    "end": "1310510"
  },
  {
    "text": "then I'm going to try to create an IM user I'm gonna try to stop cloud trail",
    "start": "1310510",
    "end": "1315679"
  },
  {
    "text": "and I'm gonna try to list roles and we'll see hopefully my guardrail is",
    "start": "1315679",
    "end": "1322220"
  },
  {
    "text": "anybody from Montana in here No okay my channel is a great state this is",
    "start": "1322220",
    "end": "1327879"
  },
  {
    "text": "going to the Sun Road and I was really happy for guardrails when I was driving on that road I don't know if anybody's",
    "start": "1327879",
    "end": "1333489"
  },
  {
    "text": "driven it I was like oh thank you so let's get started all right I'll try to",
    "start": "1333489",
    "end": "1340840"
  },
  {
    "text": "not I'm gonna give you some context of my demoing",
    "start": "1340840",
    "end": "1345869"
  },
  {
    "text": "white-skinned is my master account in chrome and I'm gonna just pop around an",
    "start": "1345869",
    "end": "1352210"
  },
  {
    "text": "organization's console for you dark skin on where are we on chrome is gonna be an",
    "start": "1352210",
    "end": "1362230"
  },
  {
    "text": "admin in my unicorns dev account this is where I'm just gonna show you a bunch of stuff and then Firefox will actually be",
    "start": "1362230",
    "end": "1370419"
  },
  {
    "text": "the developer and I assume different roles for each challenge so let's go",
    "start": "1370419",
    "end": "1375549"
  },
  {
    "text": "back I am in my master account you can see all of my all of my accounts here",
    "start": "1375549",
    "end": "1382659"
  },
  {
    "text": "and I can do it in the tree view I have my two OU's I have attached the deny",
    "start": "1382659",
    "end": "1391179"
  },
  {
    "text": "unapproved action policy to the root of my account and if you go into this it's",
    "start": "1391179",
    "end": "1396399"
  },
  {
    "text": "the exact same policy that I showed you on the screen but I will prove it to you there we go",
    "start": "1396399",
    "end": "1402340"
  },
  {
    "text": "okay so now I am gonna work on the command line hopefully you can all see",
    "start": "1402340",
    "end": "1407980"
  },
  {
    "text": "it I think that's big enough and I'm gonna work as a admin user so I have",
    "start": "1407980",
    "end": "1413019"
  },
  {
    "text": "startup star on me in the dev account and you know what I'm just gonna show that to you because I want to so this is",
    "start": "1413019",
    "end": "1420940"
  },
  {
    "text": "the role that I'm going to use for the next few commands so you can see here",
    "start": "1420940",
    "end": "1426850"
  },
  {
    "text": "that's my setup I'm gonna try to create a user and I'm using challenge number one admin I've set up all my roles here",
    "start": "1426850",
    "end": "1434619"
  },
  {
    "text": "so you can just know that I'm trying to be an admin so what's gonna happen when I run this command I'm gonna try I'm an",
    "start": "1434619",
    "end": "1444309"
  },
  {
    "text": "admin user I have create I'm gonna try to create a user what's gonna happen deny why my SCP okay that didn't work",
    "start": "1444309",
    "end": "1454200"
  },
  {
    "text": "that's good right I don't want people creating users all right I'm gonna try to turn off this",
    "start": "1454200",
    "end": "1460720"
  },
  {
    "text": "trail reinvent challenge number one trail what's gonna happen right because",
    "start": "1460720",
    "end": "1467800"
  },
  {
    "text": "my SCP okay now I'm just gonna try to list roles I want to see the roles in my account what will happen louder",
    "start": "1467800",
    "end": "1476910"
  },
  {
    "text": "allow why because it wasn't in my SCP which is good I want people to be able",
    "start": "1476910",
    "end": "1483310"
  },
  {
    "text": "to list roles and there's all my roles and my account pretty cool huh so be thinking about",
    "start": "1483310",
    "end": "1490510"
  },
  {
    "text": "what you want to put up there these are things you never want people to try or",
    "start": "1490510",
    "end": "1496630"
  },
  {
    "text": "to do in your environment next challenge ensure your developers can create",
    "start": "1496630",
    "end": "1503650"
  },
  {
    "text": "resources but only in approved regions protip here use the requested region AWS",
    "start": "1503650",
    "end": "1510400"
  },
  {
    "text": "condition will go through the policy but I want to call it one thing here is for",
    "start": "1510400",
    "end": "1516430"
  },
  {
    "text": "this condition key it works for all services that are in a region and that's most of our services there are some",
    "start": "1516430",
    "end": "1522280"
  },
  {
    "text": "services that have global elements to them for example I am is Global s3 list",
    "start": "1522280",
    "end": "1528160"
  },
  {
    "text": "all my buckets that action is gonna be a global action so you have to account for",
    "start": "1528160",
    "end": "1533290"
  },
  {
    "text": "those but it's very few and far between so this is what the policy looks like I say alright you can use secrets manager",
    "start": "1533290",
    "end": "1540310"
  },
  {
    "text": "lambda I called out a couple s3 actions just to keep the policy short and what",
    "start": "1540310",
    "end": "1545350"
  },
  {
    "text": "region did I pick west coast best coast",
    "start": "1545350",
    "end": "1550630"
  },
  {
    "text": "come on team use need some beers or something so that",
    "start": "1550630",
    "end": "1556810"
  },
  {
    "text": "if anybody predicted that go for good job for you but um that's what it looks like and then you're probably wondering",
    "start": "1556810",
    "end": "1562960"
  },
  {
    "text": "about ec2 I call it ec2 separately just because I wanted to talk to the fact",
    "start": "1562960",
    "end": "1568810"
  },
  {
    "text": "that easy to run instances which is your create allows you to authorize against a",
    "start": "1568810",
    "end": "1573970"
  },
  {
    "text": "ton of different resources and parameters and so these are all the ones",
    "start": "1573970",
    "end": "1579010"
  },
  {
    "text": "that they actually do and so you can specify which subnet which instance all that sort of stuff but today I just",
    "start": "1579010",
    "end": "1585820"
  },
  {
    "text": "threw on a condition hey if you're gonna launch an instance you have to do it in the West Coast West Coast West Coast well at",
    "start": "1585820",
    "end": "1592289"
  },
  {
    "text": "least two regions in the West Coast alright let's Oh and then I allowed all",
    "start": "1592289",
    "end": "1598440"
  },
  {
    "text": "the reads and lists as star I don't care if you can list objects in other",
    "start": "1598440",
    "end": "1604530"
  },
  {
    "text": "accounts or in other regions no big deal okay so this is what we're gonna do as",
    "start": "1604530",
    "end": "1611700"
  },
  {
    "text": "the demo I'm going to try to create a secret using secrets manager in the West",
    "start": "1611700",
    "end": "1616770"
  },
  {
    "text": "Region beautiful Mount Rainier there and then I'm gonna try to create one in London love London was there a few weeks",
    "start": "1616770",
    "end": "1623520"
  },
  {
    "text": "ago great city had some amazing cocktails so nothing bad on London just for an example we're gonna not create",
    "start": "1623520",
    "end": "1630659"
  },
  {
    "text": "secrets there alright so what I'm gonna do is I'm Casey I am going to assume",
    "start": "1630659",
    "end": "1639960"
  },
  {
    "text": "role into this other role the challenge - and the challenge to role simply has",
    "start": "1639960",
    "end": "1647220"
  },
  {
    "text": "what I showed you on the slides but I",
    "start": "1647220",
    "end": "1653789"
  },
  {
    "text": "will prove it to you just so you don't think I'm working any policy voodoo so I",
    "start": "1653789",
    "end": "1659789"
  },
  {
    "text": "have the region restriction here it's the same policy I don't know if you can",
    "start": "1659789",
    "end": "1664980"
  },
  {
    "text": "see that it's pretty light same thing here all the run instances stuff and and",
    "start": "1664980",
    "end": "1672510"
  },
  {
    "text": "then the only other thing I added was past role and this was so I could actually test launching ec2 instances or",
    "start": "1672510",
    "end": "1679200"
  },
  {
    "text": "some lambda functions all right so I'm gonna go to secrets manager you notice",
    "start": "1679200",
    "end": "1685590"
  },
  {
    "text": "that I was in Oregon which is a West Coast I'm gonna try to store a new secret I'm gonna pick an arbitrary",
    "start": "1685590",
    "end": "1692039"
  },
  {
    "text": "secret here and then I'm gonna say reinvent is awesome I think I have to",
    "start": "1692039",
    "end": "1699750"
  },
  {
    "text": "actually say day two because I have a secret already name that no click Next",
    "start": "1699750",
    "end": "1704850"
  },
  {
    "text": "and then I'll say my test secret Tuesday",
    "start": "1704850",
    "end": "1712669"
  },
  {
    "text": "storing my secret and I'll just click Next I'm not gonna",
    "start": "1712669",
    "end": "1720460"
  },
  {
    "text": "enable rotation just because arbitrary here's the code I can use if I wanted to",
    "start": "1720460",
    "end": "1725620"
  },
  {
    "text": "retrieve that secret over and over again and I'm allowed to pretty cool right",
    "start": "1725620",
    "end": "1731250"
  },
  {
    "text": "what's gonna happen when I try to do the same thing in London correct so I will",
    "start": "1731250",
    "end": "1737980"
  },
  {
    "text": "show you this it's kind of interesting because you go to London and like I can't even list the secrets so I kind of",
    "start": "1737980",
    "end": "1743320"
  },
  {
    "text": "know that I'm not gonna be able to store it but I'll show you anyway all right",
    "start": "1743320",
    "end": "1749280"
  },
  {
    "text": "will do Pub Crawl missing hey y'all could know",
    "start": "1749280",
    "end": "1762640"
  },
  {
    "text": "I'm missing beer all right and I don't",
    "start": "1762640",
    "end": "1768850"
  },
  {
    "text": "have permission to even enable rotation I'm gonna try to go through I'll try to store it and what's gonna happen fail",
    "start": "1768850",
    "end": "1776169"
  },
  {
    "text": "I had secrets manager star with just that one condition and I cannot create a",
    "start": "1776169",
    "end": "1782169"
  },
  {
    "text": "secret in another region worked you know I can see my notes there we go alright",
    "start": "1782169",
    "end": "1790659"
  },
  {
    "text": "so those two they're pretty good they're pretty you probably all could have done that without my help next one this is my",
    "start": "1790659",
    "end": "1799240"
  },
  {
    "text": "favorite alright so you trust Casey you think he can create his own permissions",
    "start": "1799240",
    "end": "1806080"
  },
  {
    "text": "his own roles to pass into lambda and now you want to just make sure that he doesn't escalate his own privileges he",
    "start": "1806080",
    "end": "1811570"
  },
  {
    "text": "could get lazy or maybe he went on the pub crawl and just didn't know what he was doing after he got home but anyway",
    "start": "1811570",
    "end": "1817480"
  },
  {
    "text": "so the pro tip here is you want to constrain Casey using permission",
    "start": "1817480",
    "end": "1823390"
  },
  {
    "text": "boundaries but you also want to constrain Casey to his own little world and the way to do that is by using",
    "start": "1823390",
    "end": "1828929"
  },
  {
    "text": "either paths and roles or just a naming prefix so today I'm going to do the naming prefix so here are the four parts",
    "start": "1828929",
    "end": "1837490"
  },
  {
    "text": "you need to think about when using permission boundaries first is you need to allow create manage policies this is",
    "start": "1837490",
    "end": "1843970"
  },
  {
    "text": "not a dangerous action you can allow Casey to create all the Manas policies he wants no big deal",
    "start": "1843970",
    "end": "1850410"
  },
  {
    "text": "next is you want to allow create role but only with a specific permission",
    "start": "1850410",
    "end": "1855490"
  },
  {
    "text": "boundary you can think of a permission boundary as a as a setting on a roll or an attribute on a roll and so Casey you",
    "start": "1855490",
    "end": "1863770"
  },
  {
    "text": "can create roles with this naming prefix but hey only with this boundary so that",
    "start": "1863770",
    "end": "1869680"
  },
  {
    "text": "means Casey creates a role with a boundary and then you say oh by the way you can attach manage policies the ones",
    "start": "1869680",
    "end": "1875380"
  },
  {
    "text": "you created at the top there but you can only attach policies to a roll with that",
    "start": "1875380",
    "end": "1880630"
  },
  {
    "text": "boundary meaning he can't just go attach policies to any role in the account and then finally you want to say okay now",
    "start": "1880630",
    "end": "1887380"
  },
  {
    "text": "that you've created your roll that rule has the permissions that you want it to you can pass rolls into lambda or ec2 so",
    "start": "1887380",
    "end": "1895450"
  },
  {
    "text": "this is how the policy looks so first I'm gonna say okay you can create policy",
    "start": "1895450",
    "end": "1901690"
  },
  {
    "text": "and policy versions but only if it starts with unicorns this is me constraining Casey to his little world",
    "start": "1901690",
    "end": "1907090"
  },
  {
    "text": "of unicorns that sounds kind of funny actually next you want to say all right",
    "start": "1907090",
    "end": "1913840"
  },
  {
    "text": "allow create roll but only with a boundary but oh hey also allow attach",
    "start": "1913840",
    "end": "1919900"
  },
  {
    "text": "and detach manage policies but also with that boundary so whenever I say but only",
    "start": "1919900",
    "end": "1924990"
  },
  {
    "text": "that usually screams condition and anytime you're saying oh I want to do",
    "start": "1924990",
    "end": "1930790"
  },
  {
    "text": "this but only screams condition so due condition so you see here I say create",
    "start": "1930790",
    "end": "1937120"
  },
  {
    "text": "roll and then I have a condition string equals and I have a pointer to a",
    "start": "1937120",
    "end": "1942280"
  },
  {
    "text": "managed policy that manage policy is the same manage policy I used in challenge",
    "start": "1942280",
    "end": "1947950"
  },
  {
    "text": "two that provides the region restriction so even if I attach star dot star to",
    "start": "1947950",
    "end": "1953260"
  },
  {
    "text": "this new roll I'm creating it will be it will not be allowed to go create a secret in the London region why because",
    "start": "1953260",
    "end": "1959950"
  },
  {
    "text": "the permission boundary just doesn't allow it and then the resource you just constrain based on the naming convention",
    "start": "1959950",
    "end": "1966430"
  },
  {
    "text": "hey you have to operate in your unicorns world this is how the flow works because",
    "start": "1966430",
    "end": "1974110"
  },
  {
    "text": "there's this little dance between admin and developer that needs to happen to get this up and running so here's what",
    "start": "1974110",
    "end": "1979150"
  },
  {
    "text": "the dance looks like admin me creates a maximum permission in my",
    "start": "1979150",
    "end": "1985480"
  },
  {
    "text": "case this is the region restriction that we just went through so pink policy matters number 2 developer I'm going to",
    "start": "1985480",
    "end": "1993760"
  },
  {
    "text": "call on somebody maybe did one of you who's a developer you get to go create a wall but only with the maximum",
    "start": "1993760",
    "end": "2000600"
  },
  {
    "text": "permission so I'm going to allow that that's me again I'm gonna say hey you in",
    "start": "2000600",
    "end": "2006480"
  },
  {
    "text": "the audience you can go create roles with only this maximum permission then the developer that's you creates the",
    "start": "2006480",
    "end": "2013470"
  },
  {
    "text": "role passes in the pink policy and then whatever green policy you want and this",
    "start": "2013470",
    "end": "2019230"
  },
  {
    "text": "could be a scope down version of what's in the pink policy and then finally you",
    "start": "2019230",
    "end": "2025920"
  },
  {
    "text": "as the developer pass it to lambda so what I'm gonna do for this demo is I'm gonna show you what it's like for the",
    "start": "2025920",
    "end": "2032250"
  },
  {
    "text": "developer to create a role with a boundary and then I'm gonna do that thing that they do on cooking shows were they like have it all set up already so",
    "start": "2032250",
    "end": "2039210"
  },
  {
    "text": "that I can just slide it in we're not gonna do lambda I'm actually gonna do some s3 work from the command line but",
    "start": "2039210",
    "end": "2045390"
  },
  {
    "text": "that role will have a permission boundary then you'll see what it's like here we go do you all want to see the",
    "start": "2045390",
    "end": "2054960"
  },
  {
    "text": "policy do you want me to prove to you the policies somebody said sure okay that made me really excited thank you",
    "start": "2054960",
    "end": "2061230"
  },
  {
    "text": "for for wanting to see my policies so what I did for challenge number three is the same exact thing I have the region",
    "start": "2061230",
    "end": "2068820"
  },
  {
    "text": "restriction so I can't go create resources anywhere else and then I just added what I just showed you so this is",
    "start": "2068820",
    "end": "2075300"
  },
  {
    "text": "the allow create role with the naming and the permission boundary and then the",
    "start": "2075300",
    "end": "2080760"
  },
  {
    "text": "naming convention for create policy I also put some I am like get role conditions in there just they can",
    "start": "2080760",
    "end": "2087120"
  },
  {
    "text": "navigate the console and then I added the pass world permissions as well all",
    "start": "2087120",
    "end": "2092820"
  },
  {
    "text": "right so I'm gonna be Casey I'm gonna switch into challenge number three here",
    "start": "2092820",
    "end": "2102330"
  },
  {
    "text": "I'm gonna go to I am why someone try to create a role okay so I'm gonna roles",
    "start": "2102330",
    "end": "2108960"
  },
  {
    "text": "and I create a rule and I went to be for lambda they",
    "start": "2108960",
    "end": "2114040"
  },
  {
    "text": "permission next I'm gonna click a permission and oh I just needed to read and write some objects s3 I want to show",
    "start": "2114040",
    "end": "2121600"
  },
  {
    "text": "you this policy this is a very general s3 policy it has no region restriction",
    "start": "2121600",
    "end": "2127480"
  },
  {
    "text": "on it whatsoever just says put get object from anywhere okay so I'm going",
    "start": "2127480",
    "end": "2132940"
  },
  {
    "text": "to create Ryung to create this role and when to have some read and write okay go",
    "start": "2132940",
    "end": "2138580"
  },
  {
    "text": "next don't need to tag it I'm going to name it and try to make this fast this",
    "start": "2138580",
    "end": "2146590"
  },
  {
    "text": "unicorns project because Bridgette told me I had to name it with unicorn so I'm gonna do that here we go and then I'm",
    "start": "2146590",
    "end": "2153910"
  },
  {
    "text": "trying to create this for my lambda functions what's gonna happen when I",
    "start": "2153910",
    "end": "2158920"
  },
  {
    "text": "press this button I heard it I just need",
    "start": "2158920",
    "end": "2164710"
  },
  {
    "text": "a louder denied all right let's show does not work I don't have access",
    "start": "2164710",
    "end": "2171610"
  },
  {
    "text": "why don't have access Oh Bridget told me something about that that permission boundary thing okay so I go back",
    "start": "2171610",
    "end": "2177870"
  },
  {
    "text": "permission boundaries hmm which one okay I'm going to use the permission boundary",
    "start": "2177870",
    "end": "2183640"
  },
  {
    "text": "that seems like a good idea and Oh regions that's a big thing this year so I'll type regions up there it is what's",
    "start": "2183640",
    "end": "2194650"
  },
  {
    "text": "my answer Wow and there's my roll if if",
    "start": "2194650",
    "end": "2203830"
  },
  {
    "text": "Casey had tried to pass in a different permission boundary it wouldn't have",
    "start": "2203830",
    "end": "2209050"
  },
  {
    "text": "worked either I could have tested that as well all right so this is when I'm actually going to show you a roll that I",
    "start": "2209050",
    "end": "2216040"
  },
  {
    "text": "already have set up just because I wanted to have everything on the command line ready for you all so you don't have",
    "start": "2216040",
    "end": "2221050"
  },
  {
    "text": "to watch me do some configuration and this is unicorns with boundary so you",
    "start": "2221050",
    "end": "2228250"
  },
  {
    "text": "can see here that's what I created this is the same thing I have the region restrictions and this general s3",
    "start": "2228250",
    "end": "2234790"
  },
  {
    "text": "read/write so what I'm gonna try to do is I'm going to use the command line and",
    "start": "2234790",
    "end": "2239920"
  },
  {
    "text": "I am going to try to oh I wanted to show you one more thing I have two buckets",
    "start": "2239920",
    "end": "2247250"
  },
  {
    "text": "let's go here in the account one is",
    "start": "2247250",
    "end": "2254750"
  },
  {
    "text": "going to be in the West Coast and one will be in London so I have the fail and I have the success and so I'm going to",
    "start": "2254750",
    "end": "2261770"
  },
  {
    "text": "use the command line and if you can see it I'm gonna try to put object in the success bucket which is in the West in",
    "start": "2261770",
    "end": "2268430"
  },
  {
    "text": "the West Coast and Oregon and I'm gonna try to upload a picture of my horse what",
    "start": "2268430",
    "end": "2276349"
  },
  {
    "text": "will happen its name success so you all better get this one right okay it works",
    "start": "2276349",
    "end": "2284300"
  },
  {
    "text": "but remember I gave that role just general s3 access I should be able to",
    "start": "2284300",
    "end": "2289310"
  },
  {
    "text": "put this object but what's preventing it is the permission boundary or not preventing it this what's allowing it is",
    "start": "2289310",
    "end": "2295070"
  },
  {
    "text": "also the permission boundary and then here we're going to fail I'll try to get to my London bucket and what will happen",
    "start": "2295070",
    "end": "2302480"
  },
  {
    "text": "will get denied access and why because that permission boundary is preventing",
    "start": "2302480",
    "end": "2307790"
  },
  {
    "text": "me from making any call outside of the US West regions alright and then we can",
    "start": "2307790",
    "end": "2315770"
  },
  {
    "text": "just show you pickles because he's cute pretty cool right so that means you can",
    "start": "2315770",
    "end": "2322940"
  },
  {
    "text": "allow this is extremely popular feature because that means you can allow your",
    "start": "2322940",
    "end": "2328730"
  },
  {
    "text": "developers to move quickly you can allow them to create roles for all of their applications and you don't have to watch",
    "start": "2328730",
    "end": "2335150"
  },
  {
    "text": "over them you don't have to approve them each time you can just set a boundary and let them go free all right we're",
    "start": "2335150",
    "end": "2343640"
  },
  {
    "text": "getting close challenge number four so you're still in the same account but the",
    "start": "2343640",
    "end": "2349640"
  },
  {
    "text": "unicorns broke into two different teams dorky and sneaky and they need to manage",
    "start": "2349640",
    "end": "2354710"
  },
  {
    "text": "their own resources and how many people has heard oh I just don't want them stepping on each other's toes",
    "start": "2354710",
    "end": "2360080"
  },
  {
    "text": "I hear this lot I hate feet and I always hear people talk about toes no nobody",
    "start": "2360080",
    "end": "2365839"
  },
  {
    "text": "said I don't want the team stepping on each other's toes okay maybe a little bit alright well I hear it all the time",
    "start": "2365839",
    "end": "2371390"
  },
  {
    "text": "is the product manager fry and so we're going to use tags for this use case and",
    "start": "2371390",
    "end": "2376650"
  },
  {
    "text": "one thing I want you to consider there's a lot more tag based access control happening in AWS and it's extremely",
    "start": "2376650",
    "end": "2383369"
  },
  {
    "text": "powerful it helps you scale your permission management but you need to be careful about what tags you use for",
    "start": "2383369",
    "end": "2389400"
  },
  {
    "text": "authorization why because if you don't control those tags and if people can tag with them or not then somebody could",
    "start": "2389400",
    "end": "2396450"
  },
  {
    "text": "change a tag and automatically get access so be careful about those tags and protect them and we're going to show",
    "start": "2396450",
    "end": "2401700"
  },
  {
    "text": "you how to do that today so three parts for tag based access control one is you need to say ok users",
    "start": "2401700",
    "end": "2409619"
  },
  {
    "text": "you can create tags or better you must tag this resource with this tag when you",
    "start": "2409619",
    "end": "2418049"
  },
  {
    "text": "are creating resources for this you're going to use the request tag ok there",
    "start": "2418049",
    "end": "2424619"
  },
  {
    "text": "were a request tag condition key this is different than the resource tag so next",
    "start": "2424619",
    "end": "2430770"
  },
  {
    "text": "you want to say hey control which existing resources and values developers",
    "start": "2430770",
    "end": "2436440"
  },
  {
    "text": "can tag with so they can modify tags and in this example we'll say ok for all the",
    "start": "2436440",
    "end": "2442440"
  },
  {
    "text": "instances you can change the name name tag you can call it name equals great",
    "start": "2442440",
    "end": "2448349"
  },
  {
    "text": "name equals funny whatever but the project tag must always be dorky and oh wait you can only change the name values",
    "start": "2448349",
    "end": "2455160"
  },
  {
    "text": "on anything that's already tagged project or key and when you create something new this is the first point",
    "start": "2455160",
    "end": "2461190"
  },
  {
    "text": "you must tag it with project equals door key and then finally ok now you've",
    "start": "2461190",
    "end": "2466380"
  },
  {
    "text": "launched everything you've created everything and it already has tags all right now you can manage those resources",
    "start": "2466380",
    "end": "2472559"
  },
  {
    "text": "you can stop and start those instances with that tag so I'm gonna say this again request tag is always the tag you",
    "start": "2472559",
    "end": "2479579"
  },
  {
    "text": "are requesting it is the new tag resource tag is the tag that exists on",
    "start": "2479579",
    "end": "2485369"
  },
  {
    "text": "the resource it is the existing tag so if you're running into some policy foo",
    "start": "2485369",
    "end": "2491640"
  },
  {
    "text": "with tag based access control ask yourself the question do I have the right condition this is what the policy",
    "start": "2491640",
    "end": "2499500"
  },
  {
    "text": "looks like so first I have the run instances which we've already talked about the only thing I removed here is",
    "start": "2499500",
    "end": "2505500"
  },
  {
    "text": "the instance resource why cuz I'm going to control how people label the instance resource using tags",
    "start": "2505500",
    "end": "2512040"
  },
  {
    "text": "and then I say okay KC you can create tags you can create them on anything cuz",
    "start": "2512040",
    "end": "2519510"
  },
  {
    "text": "you're creating new resources but only when you call run instances this is the first permission this is gonna allow KC",
    "start": "2519510",
    "end": "2525780"
  },
  {
    "text": "to create new resources with tags alright but when you call run instances",
    "start": "2525780",
    "end": "2533280"
  },
  {
    "text": "and you're launching an instance type which is that resource right there you",
    "start": "2533280",
    "end": "2539010"
  },
  {
    "text": "must so the part that says you must tag",
    "start": "2539010",
    "end": "2545040"
  },
  {
    "text": "with a project tag that's that string equals request tag project equals door key and then it also must be in the same",
    "start": "2545040",
    "end": "2552330"
  },
  {
    "text": "region now I'm gonna let you pass in other tag keys and values but for all",
    "start": "2552330",
    "end": "2559230"
  },
  {
    "text": "the tag keys that you pass in it must be project or name you don't get to tag",
    "start": "2559230",
    "end": "2565140"
  },
  {
    "text": "with anything else you pass in description doesn't work if you pass in Brigitte is awesome",
    "start": "2565140",
    "end": "2570450"
  },
  {
    "text": "doesn't work right and so that's that condition that says for all values for",
    "start": "2570450",
    "end": "2576510"
  },
  {
    "text": "all the tags that I pass in when I call run instances they must all be in that list if they're not in that list I will",
    "start": "2576510",
    "end": "2582930"
  },
  {
    "text": "get denied access I'm gonna let that sink in a little bit okay so the next",
    "start": "2582930",
    "end": "2592140"
  },
  {
    "text": "one is saying you've launched your instances they have appropriate tags on",
    "start": "2592140",
    "end": "2597150"
  },
  {
    "text": "them but I want you you can change the name tag like I want you to be able to modify some of the tags you can't you",
    "start": "2597150",
    "end": "2603060"
  },
  {
    "text": "just can't modify the project tag so here we go you're allowed to create tags but you can only do it on resources that",
    "start": "2603060",
    "end": "2610020"
  },
  {
    "text": "are already tagged that's that resource tag so that's already tagged project",
    "start": "2610020",
    "end": "2615090"
  },
  {
    "text": "equals door key and oh wait for all the tag keys that you pass in they must be",
    "start": "2615090",
    "end": "2620160"
  },
  {
    "text": "in this list so you can only pass in project or name and if you pass in project it must also be door key okay",
    "start": "2620160",
    "end": "2627480"
  },
  {
    "text": "and the reason I did this was sometimes you might want to manage multiple projects so maybe it's a list it's dorky",
    "start": "2627480",
    "end": "2633450"
  },
  {
    "text": "and sneaky and funny or whatever you want but this basically says hey KC you",
    "start": "2633450",
    "end": "2640500"
  },
  {
    "text": "can tag anything any one of your project resources with nametag and I don't care what you do with it and then finally we have the",
    "start": "2640500",
    "end": "2649349"
  },
  {
    "text": "last one where you say all right I want you to start and stop instances but you can only start and stop your own",
    "start": "2649349",
    "end": "2655500"
  },
  {
    "text": "instances right you can't go turn off people on the Sneaky's team instance and",
    "start": "2655500",
    "end": "2661230"
  },
  {
    "text": "so that's where we use the resource tag why because the resource tag is the existing tag on the resource so you have",
    "start": "2661230",
    "end": "2668130"
  },
  {
    "text": "a bunch of instances they're tagged appropriately and then you can create these general rules based off of it this",
    "start": "2668130",
    "end": "2675150"
  },
  {
    "text": "is what I'm gonna do day I'm gonna launch instances for project equals door key I'm gonna try to launch an instance",
    "start": "2675150",
    "end": "2680910"
  },
  {
    "text": "with project equals sneaky because you know I want to launch a bunch of instances and put it in their cost center I'm gonna modify tags on existing",
    "start": "2680910",
    "end": "2689010"
  },
  {
    "text": "instances play around with that a little bit for you and then I'm gonna manage existing instances start and stop mainly",
    "start": "2689010",
    "end": "2695550"
  },
  {
    "text": "you're already and if you want to call out a command we probably have time to",
    "start": "2695550",
    "end": "2701190"
  },
  {
    "text": "go through that all right so I'm gonna go into challenge number four you all",
    "start": "2701190",
    "end": "2706800"
  },
  {
    "text": "can probably see that I have challenge number five and I do want to show you",
    "start": "2706800",
    "end": "2712670"
  },
  {
    "text": "the challenge number five that I have",
    "start": "2713599",
    "end": "2719060"
  },
  {
    "text": "not five four I'm four ok so the only",
    "start": "2719060",
    "end": "2724500"
  },
  {
    "text": "thing that I have different is I have the door key unicorn project this is the",
    "start": "2724500",
    "end": "2730410"
  },
  {
    "text": "same policy that I just showed you okay I have all the ec2 in the region I have",
    "start": "2730410",
    "end": "2736700"
  },
  {
    "text": "okay you must have all these tag keys I have you can create tags during run",
    "start": "2736700",
    "end": "2743250"
  },
  {
    "text": "instances and you can create your own tags for existing resources and then the",
    "start": "2743250",
    "end": "2748589"
  },
  {
    "text": "only other thing I passed in was this general read-only access just so I can navigate around the ec2 console a little",
    "start": "2748589",
    "end": "2754080"
  },
  {
    "text": "bit alright so I am Casey I don't no",
    "start": "2754080",
    "end": "2761160"
  },
  {
    "text": "longer have access to I am I'm gonna go to the right region here couldn't have",
    "start": "2761160",
    "end": "2767849"
  },
  {
    "text": "gone to London wouldn't have worked",
    "start": "2767849",
    "end": "2771200"
  },
  {
    "text": "oh I picked the wrong one you all need to correct me on this stuff",
    "start": "2773030",
    "end": "2779180"
  },
  {
    "text": "you're not awake Oregon okay so I have",
    "start": "2779180",
    "end": "2786110"
  },
  {
    "text": "an existing resource and it's project equals dorky I'll move this up a little bit for you and I'm gonna try to launch",
    "start": "2786110",
    "end": "2795170"
  },
  {
    "text": "more like this will work yeah all right we'll just show the good case all right",
    "start": "2795170",
    "end": "2803900"
  },
  {
    "text": "that worked great view instances now I have project equals sneaky I'm gonna try",
    "start": "2803900",
    "end": "2811370"
  },
  {
    "text": "to launch more like this will work",
    "start": "2811370",
    "end": "2817000"
  },
  {
    "text": "doesn't work fail if you actually decode that it would tell you why all right so I'm gonna say hey I okay",
    "start": "2819760",
    "end": "2833090"
  },
  {
    "text": "I'm in the dorky project will work okay",
    "start": "2833090",
    "end": "2840950"
  },
  {
    "text": "let's try it I think you're wrong cuz I am awesome nope fail again what do I need to do do",
    "start": "2840950",
    "end": "2850400"
  },
  {
    "text": "you want me to change its name oops try to type that that's good I like the way",
    "start": "2850400",
    "end": "2857390"
  },
  {
    "text": "you called that out will work",
    "start": "2857390",
    "end": "2861130"
  },
  {
    "text": "there you go pretty cool all right what else do you want me to do I'll try to",
    "start": "2864590",
    "end": "2872580"
  },
  {
    "text": "stop this other instance here try to stop it",
    "start": "2872580",
    "end": "2878340"
  },
  {
    "text": "yeah no it doesn't work",
    "start": "2878340",
    "end": "2883410"
  },
  {
    "text": "all right I'm gonna try to give it a name tag also doesn't work this is the",
    "start": "2883410",
    "end": "2893550"
  },
  {
    "text": "get into like this ether of error message so you can play around with it",
    "start": "2893550",
    "end": "2899280"
  },
  {
    "text": "but essentially it's gonna make you launch things with the right tag it's gonna only let you change the name on",
    "start": "2899280",
    "end": "2906000"
  },
  {
    "text": "your own resources and then it's only gonna let you manage your own stuff",
    "start": "2906000",
    "end": "2911900"
  },
  {
    "text": "pretty cool right it gets cooler so",
    "start": "2911900",
    "end": "2920480"
  },
  {
    "text": "challenge number 5 what happened oh I",
    "start": "2922370",
    "end": "2928520"
  },
  {
    "text": "don't know ooh we're having some technical difficulties",
    "start": "2928520",
    "end": "2936230"
  },
  {
    "text": "let's try to escape Oh resume slide show",
    "start": "2939760",
    "end": "2945600"
  },
  {
    "text": "[Music] up there we go okay bonus challenge so",
    "start": "2951250",
    "end": "2957220"
  },
  {
    "text": "who knew that you can now tag I am users and roles few people raised their hand",
    "start": "2957220",
    "end": "2963490"
  },
  {
    "text": "okay oh and I think my managers in the back who just wave um alright so yes you",
    "start": "2963490",
    "end": "2970869"
  },
  {
    "text": "can now tag I am users and roles this is cool you can tag your users dorky if you",
    "start": "2970869",
    "end": "2978100"
  },
  {
    "text": "want you can tag your roles cool if you want you can also say hey you can only do stuff to users and roles tagged with",
    "start": "2978100",
    "end": "2985270"
  },
  {
    "text": "this tag great what's even more cool is you can use that tag as a variable on the right hand",
    "start": "2985270",
    "end": "2993430"
  },
  {
    "text": "side of your policy so you can now say hey KC you must tag resources with your project",
    "start": "2993430",
    "end": "2999940"
  },
  {
    "text": "tag so what does that mean you can create one general policy and just do",
    "start": "2999940",
    "end": "3005280"
  },
  {
    "text": "tag matching you don't have to have a separate policy for door-key you don't have to have a separate policy for",
    "start": "3005280",
    "end": "3011100"
  },
  {
    "text": "sneaky you can do whatever you want and that thing in yellow is gold literally",
    "start": "3011100",
    "end": "3016710"
  },
  {
    "text": "gold no just kidding it helps you use that tag value in a lot of different",
    "start": "3016710",
    "end": "3023070"
  },
  {
    "text": "places so I just talked to a customer today and they're using it in s3 as a in",
    "start": "3023070",
    "end": "3028200"
  },
  {
    "text": "their s3 prefix right so they've named things and then they're putting the tag",
    "start": "3028200",
    "end": "3033300"
  },
  {
    "text": "on a role and they can put that in the policy to grant access very granular access in s3 so I'm gonna show you what",
    "start": "3033300",
    "end": "3040619"
  },
  {
    "text": "this looks like and all I did was find replace so the same policy and I just",
    "start": "3040619",
    "end": "3045810"
  },
  {
    "text": "changed or key to your project tag so now we have the same thing we have hey",
    "start": "3045810",
    "end": "3051300"
  },
  {
    "text": "you can launch instances you pass in project or name but I require you to",
    "start": "3051300",
    "end": "3057510"
  },
  {
    "text": "pass in your project tag same here you can create tags but you can only create",
    "start": "3057510",
    "end": "3065190"
  },
  {
    "text": "tags on existing resources that have your project tag and oh wait if you pass",
    "start": "3065190",
    "end": "3072510"
  },
  {
    "text": "in a proud tag it must also be your project tag and then finally you can only manage",
    "start": "3072510",
    "end": "3078870"
  },
  {
    "text": "instances with your project tag I am excited to see what you all do with this",
    "start": "3078870",
    "end": "3084480"
  },
  {
    "text": "but for right now I am going to show you it live and we will see what it looks",
    "start": "3084480",
    "end": "3091920"
  },
  {
    "text": "like oh that's my next slide oops I just dropped that okay so I'm",
    "start": "3091920",
    "end": "3097110"
  },
  {
    "text": "gonna go over into challenge number five and I'm gonna show you it here cuz y'all",
    "start": "3097110",
    "end": "3105120"
  },
  {
    "text": "want to see my rolls and I want to call out something I just called this policy",
    "start": "3105120",
    "end": "3111330"
  },
  {
    "text": "that I created it's the same permissions roll tag project access and I did that on purpose because it really is just a",
    "start": "3111330",
    "end": "3119190"
  },
  {
    "text": "very general policy which I called out I don't have any door key in here I don't",
    "start": "3119190",
    "end": "3124800"
  },
  {
    "text": "have any let's see go down here did you hear is it I don't have any sneaky in here but what I do have is",
    "start": "3124800",
    "end": "3132000"
  },
  {
    "text": "this tag and I have project equals sneaky and I'm actually gonna change it",
    "start": "3132000",
    "end": "3138180"
  },
  {
    "text": "to door key just because that's and then we'll go back to sneaky I guess I didn't",
    "start": "3138180",
    "end": "3144900"
  },
  {
    "text": "change for my last demo alright so now I'm Casey and I'm going to try to launch",
    "start": "3144900",
    "end": "3153030"
  },
  {
    "text": "more like this will work yes should work",
    "start": "3153030",
    "end": "3161630"
  },
  {
    "text": "there you go now I'm going to try to do",
    "start": "3161630",
    "end": "3167490"
  },
  {
    "text": "some sneaky work let's see we launched a lot of turkey instances in the last",
    "start": "3167490",
    "end": "3173310"
  },
  {
    "text": "minute all right launch more like this what's our answer",
    "start": "3173310",
    "end": "3178400"
  },
  {
    "text": "alright so I am not going to change the tag here where am I going to change it",
    "start": "3180410",
    "end": "3186960"
  },
  {
    "text": "I'm actually going to change it over here oops",
    "start": "3186960",
    "end": "3193010"
  },
  {
    "text": "so this is the tag on the roll and I just turned Casey from dorky to sneaky",
    "start": "3195110",
    "end": "3201390"
  },
  {
    "text": "just like that one tag value and now I'm gonna go back to I'm going to show you",
    "start": "3201390",
    "end": "3210540"
  },
  {
    "text": "the tag just so we all level set here project equals sneaky what's our answer",
    "start": "3210540",
    "end": "3217490"
  },
  {
    "text": "happiness so cool right so what this allows you to do is it allows you to",
    "start": "3220850",
    "end": "3228350"
  },
  {
    "text": "create general policies based on tag value and then just have a bunch of roles that you tag and then you're just",
    "start": "3228350",
    "end": "3236280"
  },
  {
    "text": "matching that's all you're doing we talked about earlier you're just matching it's pretty amazing I'm really",
    "start": "3236280",
    "end": "3242610"
  },
  {
    "text": "excited to see what you all do with this so if you do something cool with putting the project tag in a policy in a",
    "start": "3242610",
    "end": "3248070"
  },
  {
    "text": "condition whether it's an s3 prefix or matching another tag please share it with the world put on Twitter I look",
    "start": "3248070",
    "end": "3254100"
  },
  {
    "text": "there the forums is a great place I'll be really excited to see that thank you all for coming",
    "start": "3254100",
    "end": "3259590"
  },
  {
    "text": "umm these are the things I didn't get to that I would love to have get to if I had another few minutes so principle org",
    "start": "3259590",
    "end": "3265710"
  },
  {
    "text": "ID is a condition you can use it in a resource based policy such as a bucket policy you can say hey deny everyone",
    "start": "3265710",
    "end": "3272490"
  },
  {
    "text": "unless they're from my principle in my organization pretty cool but if you",
    "start": "3272490",
    "end": "3278340"
  },
  {
    "text": "don't do that one thing you should do is turn on the new bucket control features for lockdown in s3 prevents your public",
    "start": "3278340",
    "end": "3286350"
  },
  {
    "text": "bucket access and then second service specific permission documentation who's",
    "start": "3286350",
    "end": "3291840"
  },
  {
    "text": "used the policy editor right okay so you'll see a bunch of selection of",
    "start": "3291840",
    "end": "3297390"
  },
  {
    "text": "actions and resources and what conditions that same information is available to in our documentation it's",
    "start": "3297390",
    "end": "3303330"
  },
  {
    "text": "really easy to navigate and explore so please hit up the actions resources and",
    "start": "3303330",
    "end": "3308400"
  },
  {
    "text": "condition keys for AWS services it's it's my go-to when I'm trying to figure",
    "start": "3308400",
    "end": "3313650"
  },
  {
    "text": "out what permissions I have available to me thank you very much for your time",
    "start": "3313650",
    "end": "3319380"
  },
  {
    "text": "today I really appreciate you all staying all the way almost till 8 o'clock I hope you enjoy your evening go",
    "start": "3319380",
    "end": "3325800"
  },
  {
    "text": "get yourself a beer glass of wine and thank you for learning about policies and please don't forget",
    "start": "3325800",
    "end": "3330810"
  },
  {
    "text": "to fill out your evaluations [Applause]",
    "start": "3330810",
    "end": "3336959"
  }
]