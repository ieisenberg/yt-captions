[
  {
    "start": "0",
    "end": "82000"
  },
  {
    "text": "hello and welcome to the next episode in the amazon personalized deep dive series in this episode we will be looking at",
    "start": "3040",
    "end": "9360"
  },
  {
    "text": "how to get recommendations from the models you create and personalize and some patterns for integrating recommendations into your application",
    "start": "9360",
    "end": "16320"
  },
  {
    "text": "my name is james jory i'm an ai solutions architect with aws and i will be leading you through this episode",
    "start": "16320",
    "end": "23680"
  },
  {
    "text": "before jumping into the topic for this episode i wanted to quickly recap where we are in the video series",
    "start": "23840",
    "end": "29279"
  },
  {
    "text": "we've broken up the series into four areas that generally map to the developer journey with the service",
    "start": "29279",
    "end": "34559"
  },
  {
    "text": "the series dives progressively deeper on topics ranging from how to prepare and manage your data for personalize",
    "start": "34559",
    "end": "40960"
  },
  {
    "text": "how to select and configure the appropriate recipes or algorithms for your use cases how to train models",
    "start": "40960",
    "end": "47039"
  },
  {
    "text": "how to retrieve recommendations from your models to integrate them into your application and how to operationalize personalized",
    "start": "47039",
    "end": "53520"
  },
  {
    "text": "for production if you're just getting started with personalize we recommend starting with the introduction video",
    "start": "53520",
    "end": "59520"
  },
  {
    "text": "and watching the series in order in this episode we will be focusing on",
    "start": "59520",
    "end": "65360"
  },
  {
    "text": "the topic of inference inference is the machine learning term for asking a model to make a prediction",
    "start": "65360",
    "end": "71520"
  },
  {
    "text": "in the case of personalized this is where we get recommendations from the solution or more specifically the solution",
    "start": "71520",
    "end": "76799"
  },
  {
    "text": "version you created based on your data so with that let's dive in",
    "start": "76799",
    "end": "83758"
  },
  {
    "start": "82000",
    "end": "306000"
  },
  {
    "text": "there are two general approaches to getting recommendations from personalize real-time recommendations are best",
    "start": "84479",
    "end": "90159"
  },
  {
    "text": "combined with interactive user experiences such as pages on your website or views in your mobile application",
    "start": "90159",
    "end": "96400"
  },
  {
    "text": "where users are browsing and interacting with content the apis used to get recommendations in",
    "start": "96400",
    "end": "102479"
  },
  {
    "text": "real time are transactional in nature meaning they're typically called in response to some sort of user activity",
    "start": "102479",
    "end": "108560"
  },
  {
    "text": "in your application there are two real-time apis get recommendations and get personalized ranking the one you",
    "start": "108560",
    "end": "115759"
  },
  {
    "text": "call depends on the underlying use case and the recipe that you chose for that use case",
    "start": "115759",
    "end": "121200"
  },
  {
    "text": "we will go into more detail on these apis in this episode the real-time apis are synchronous low",
    "start": "121200",
    "end": "128000"
  },
  {
    "text": "latency and auto-scaling this means they follow the request response model are designed to be",
    "start": "128000",
    "end": "133760"
  },
  {
    "text": "integrated as part of the flow of rendering your user experiences and will adapt to the traffic patterns",
    "start": "133760",
    "end": "138879"
  },
  {
    "text": "of your application by auto-scaling resources as needed",
    "start": "138879",
    "end": "143840"
  },
  {
    "text": "the runtime requirements are implemented in what's called a personalized campaign",
    "start": "144000",
    "end": "149120"
  },
  {
    "text": "you create a campaign for each solution or model that you train",
    "start": "149120",
    "end": "154079"
  },
  {
    "text": "the real-time apis also have the ability to adapt recommendations to meet your users changing interests and intent this is",
    "start": "154160",
    "end": "161040"
  },
  {
    "text": "only supported for the user personalization personalized ranking and the legacy hr and n recipes",
    "start": "161040",
    "end": "166720"
  },
  {
    "text": "and you must stream new interactions into an event tracker to enable this behavior in cases where the current",
    "start": "166720",
    "end": "173840"
  },
  {
    "text": "context of the user influences their behavior you can provide relevant context information in your api call to help",
    "start": "173840",
    "end": "180239"
  },
  {
    "text": "personalize make even more relevant recommendations for example if your users engage with",
    "start": "180239",
    "end": "186159"
  },
  {
    "text": "content differently say when they're using your mobile app versus your desktop app you can provide the user's current",
    "start": "186159",
    "end": "192080"
  },
  {
    "text": "device as context we'll talk more about event trackers in a moment",
    "start": "192080",
    "end": "199680"
  },
  {
    "text": "finally the real-time apis support filters which allow you to combine business rules with recommendations to create multiple user experiences from",
    "start": "199680",
    "end": "206560"
  },
  {
    "text": "the same campaign we will be covering filters in more detail in a subsequent episode",
    "start": "206560",
    "end": "213840"
  },
  {
    "text": "batch recommendations are an alternative to real-time recommendations that allow you to retrieve multiple recommendations from personalized at",
    "start": "214319",
    "end": "220879"
  },
  {
    "text": "once batch recommendations are a great match when you have downstream batch pipelines",
    "start": "220879",
    "end": "227360"
  },
  {
    "text": "such as email marketing campaigns where you want to target a large number of users with messages",
    "start": "227360",
    "end": "232640"
  },
  {
    "text": "that include personalized recommendations you can also use batch recommendations when you want to cache recommendations",
    "start": "232640",
    "end": "238640"
  },
  {
    "text": "in a separate data store the api for batch recommendations involves preparing an input file in json",
    "start": "238640",
    "end": "245439"
  },
  {
    "text": "format that includes all of the users or items for which you want recommendations",
    "start": "245439",
    "end": "250560"
  },
  {
    "text": "defining an output location in s3 where the results should be saved and then creating a batch inference job to",
    "start": "250560",
    "end": "256239"
  },
  {
    "text": "produce the recommendations this means that batch recommendations",
    "start": "256239",
    "end": "261359"
  },
  {
    "text": "process is asynchronous in other words you create the job and then you have to wait for it to complete",
    "start": "261359",
    "end": "268320"
  },
  {
    "text": "since battery recommendations run against a solution version a personalized campaign is not required",
    "start": "268320",
    "end": "274080"
  },
  {
    "text": "this will allow you to avoid the cost of a campaign if you don't need the solution for a real-time use case as well",
    "start": "274080",
    "end": "282240"
  },
  {
    "text": "now it should go without saying that batch recommendations are point in time meaning that they don't adapt to",
    "start": "282240",
    "end": "287440"
  },
  {
    "text": "real-time user behavior this means that you have to retrain your model to incorporate learnings from new",
    "start": "287440",
    "end": "292639"
  },
  {
    "text": "interactions before running your batch jobs lastly batch recommendations also",
    "start": "292639",
    "end": "298880"
  },
  {
    "text": "support filters just like real-time recommendations next let's dive a little bit deeper into",
    "start": "298880",
    "end": "305120"
  },
  {
    "text": "both of these approaches so we'll start by taking a closer look",
    "start": "305120",
    "end": "311039"
  },
  {
    "start": "306000",
    "end": "473000"
  },
  {
    "text": "at real-time recommendations and a high-level diagram of how the various personalized components work together and with your",
    "start": "311039",
    "end": "317280"
  },
  {
    "text": "application you start with creating a data set group schemas and data sets representing your",
    "start": "317280",
    "end": "323440"
  },
  {
    "text": "items interactions and user data these steps were covered in detail in the data related episodes in this series",
    "start": "323440",
    "end": "330720"
  },
  {
    "text": "so be sure to check out those episodes if these are new concepts for you after importing your data selecting the",
    "start": "330720",
    "end": "336800"
  },
  {
    "text": "recipe matching your use case and creating a solution you train a model by creating a solution version",
    "start": "336800",
    "end": "343280"
  },
  {
    "text": "this process is covered in more detail in the training related episodes at this point you're ready to create a",
    "start": "343280",
    "end": "348720"
  },
  {
    "text": "campaign campaigns are created using the create campaign api",
    "start": "348720",
    "end": "354160"
  },
  {
    "text": "you will create a campaign for every solution version that you wish to use for real-time recommendations",
    "start": "354160",
    "end": "359280"
  },
  {
    "text": "so in this case we're just showing a single solution version and a single campaign if you were building out multiple",
    "start": "359280",
    "end": "365039"
  },
  {
    "text": "personalization use cases with different recipes you could create multiple solution versions and multiple",
    "start": "365039",
    "end": "370800"
  },
  {
    "text": "campaigns from the same data sets now once you have a campaign you can integrate calls",
    "start": "370800",
    "end": "376960"
  },
  {
    "text": "to the campaign in your application this is where calls to the get recommendations and get personalized",
    "start": "376960",
    "end": "383280"
  },
  {
    "text": "ranking apis are made to retrieve those recommendations now in the previous slide i mentioned",
    "start": "383280",
    "end": "389120"
  },
  {
    "text": "that real-time recommendations support the ability to adapt to each of your users evolving in interest",
    "start": "389120",
    "end": "396000"
  },
  {
    "text": "this is supported by creating an event tracker in personalize an event tracker provides an endpoint",
    "start": "396000",
    "end": "402400"
  },
  {
    "text": "that allows you to stream interactions that occur in your application back to personalize the put events api",
    "start": "402400",
    "end": "409120"
  },
  {
    "text": "is how you do this aws provides the amplify framework that can be integrated into your web and",
    "start": "409120",
    "end": "415120"
  },
  {
    "text": "mobile apps to make this easier it's also quite common to use a customer data platform such as segment",
    "start": "415120",
    "end": "421280"
  },
  {
    "text": "which has an integration with personalize to stream events directly to the event tracker in your aws",
    "start": "421280",
    "end": "426800"
  },
  {
    "text": "environment the event tracker performs two primary functions",
    "start": "426800",
    "end": "433520"
  },
  {
    "text": "first it persists all streamed interactions so that they will be incorporated into",
    "start": "433520",
    "end": "439039"
  },
  {
    "text": "future retrainings of your models it also influences any active campaigns",
    "start": "439039",
    "end": "444400"
  },
  {
    "text": "in the same data set group so that future recommendations for the same user will adapt to that user's",
    "start": "444400",
    "end": "449680"
  },
  {
    "text": "current interest this is also how personalized cold starts new users so when a new user hits your site",
    "start": "449680",
    "end": "456400"
  },
  {
    "text": "personalize will recommend popular items after you stream in an event or two",
    "start": "456400",
    "end": "461440"
  },
  {
    "text": "personalize will immediately start adjusting recommendations we've covered a lot of theory and",
    "start": "461440",
    "end": "467599"
  },
  {
    "text": "concepts on this slide so let's switch over to a demo to see how it all works in action",
    "start": "467599",
    "end": "478000"
  },
  {
    "start": "473000",
    "end": "537000"
  },
  {
    "text": "all right here we are in the aws console looking at the amazon personalized service page",
    "start": "478000",
    "end": "483520"
  },
  {
    "text": "this is the dashboard for the movie lens poc data set group and this is the",
    "start": "483520",
    "end": "489919"
  },
  {
    "text": "same data set group that was used in the mapping your data and the use cases where you trained your",
    "start": "489919",
    "end": "495599"
  },
  {
    "text": "models and so we won't repeat the work that was done in those videos but just to kind of show you where we left off there",
    "start": "495599",
    "end": "502000"
  },
  {
    "text": "is we have the two data sets one for the interactions that represents users engaging with movies",
    "start": "502000",
    "end": "509039"
  },
  {
    "text": "and then the items data set which has information about the movies in the data set the training",
    "start": "509039",
    "end": "516159"
  },
  {
    "text": "episode also trained three solutions across the core three core use cases of personalize and",
    "start": "516159",
    "end": "522479"
  },
  {
    "text": "so let's take a quick look and see what we have here so for the user personalization recipe our solution we have",
    "start": "522479",
    "end": "528640"
  },
  {
    "text": "that was trained with the user personalization recipe we have a solution version which is a trained",
    "start": "528640",
    "end": "533839"
  },
  {
    "text": "model for this solution when we go over to campaigns though we",
    "start": "533839",
    "end": "539200"
  },
  {
    "start": "537000",
    "end": "761000"
  },
  {
    "text": "see that we do not have any campaigns yet for the solution versions in this data set group",
    "start": "539200",
    "end": "545040"
  },
  {
    "text": "so what we'll do here is we'll create campaigns for each of our three solutions",
    "start": "545040",
    "end": "550959"
  },
  {
    "text": "start with the user personalization and i'm going to you'll see that i'm naming the campaigns the same as the solutions",
    "start": "558080",
    "end": "565360"
  },
  {
    "text": "and i'm just doing that to make it easy to to connect the two together so um just",
    "start": "565360",
    "end": "571760"
  },
  {
    "text": "just purely for ease of following the demo the solution version is if you had",
    "start": "571760",
    "end": "577360"
  },
  {
    "text": "multiple versions here so if you were going through doing multiple trainings of the same solution you would have multiple versions here",
    "start": "577360",
    "end": "584080"
  },
  {
    "text": "we just have one in this case so we'll just pick the one there now the minimum provision transactions",
    "start": "584080",
    "end": "589440"
  },
  {
    "text": "per second is a really important field when you are considering the properly",
    "start": "589440",
    "end": "594959"
  },
  {
    "text": "provisioning your campaigns and so what this number represents is you're telling personalize i want",
    "start": "594959",
    "end": "601440"
  },
  {
    "text": "personalized to support this as my baseline or my low water mark for",
    "start": "601440",
    "end": "606720"
  },
  {
    "text": "request volume that i expect to send to this particular campaign so you want to set this value as low as",
    "start": "606720",
    "end": "613040"
  },
  {
    "text": "possible based on what your low water mark is one is the smallest value",
    "start": "613040",
    "end": "618240"
  },
  {
    "text": "and by setting this at a low value you're essentially letting personalized do the auto scaling for you so personalize will scale up the",
    "start": "618240",
    "end": "625120"
  },
  {
    "text": "resources as volume increases and then scale back down because you're charged based on the",
    "start": "625120",
    "end": "631519"
  },
  {
    "text": "maximum of either your actual volume or this minimum provision tps",
    "start": "631519",
    "end": "636640"
  },
  {
    "text": "you want to make sure that you're not over first in your campaign so that you're not paying for resources you're not using",
    "start": "636640",
    "end": "642079"
  },
  {
    "text": "so we're going to leave it at one for all three of our campaigns and we also have a another section down",
    "start": "642079",
    "end": "648560"
  },
  {
    "text": "here that's campaign configuration and we're only seeing this because",
    "start": "648560",
    "end": "653600"
  },
  {
    "text": "this particular solution was created with the user personalization recipe",
    "start": "653600",
    "end": "658640"
  },
  {
    "text": "this recipe has a special algorithm that will allow you to balance",
    "start": "658640",
    "end": "664720"
  },
  {
    "text": "exploration with exploitation of recommendations in your campaign and exploration is",
    "start": "664720",
    "end": "670480"
  },
  {
    "text": "where you can recommend items that are either new or introduced in your catalog or items that don't you don't have a lot",
    "start": "670480",
    "end": "676959"
  },
  {
    "text": "of interaction data for and so it's a great way to expose your users to cold items or new items",
    "start": "676959",
    "end": "683360"
  },
  {
    "text": "more frequently so that personalize can learn from the interest of those new items you control how much exploration this",
    "start": "683360",
    "end": "690160"
  },
  {
    "text": "campaign will do by moving essentially moving the slider to the right is saying i want a",
    "start": "690160",
    "end": "695360"
  },
  {
    "text": "more heavily weighted exploration or all the way to the left which means no exploration so with no exploration",
    "start": "695360",
    "end": "702880"
  },
  {
    "text": "you're essentially relying on the relevant recommendations that come from the underlying model",
    "start": "702880",
    "end": "708560"
  },
  {
    "text": "so we'll go ahead and set this back at the default which is 0.3 which is essentially a a modest level of",
    "start": "708560",
    "end": "715200"
  },
  {
    "text": "exploration you have another field here related to exploration which is the item age cutoff and this controls",
    "start": "715200",
    "end": "723519"
  },
  {
    "text": "how old your items are from an interaction perspective that will be considered cold so the larger number here is the more",
    "start": "723519",
    "end": "730800"
  },
  {
    "text": "items that will be considered cold and the more they will be included in exploration so we'll leave",
    "start": "730800",
    "end": "736079"
  },
  {
    "text": "it at the default of 30 days and go ahead and create this campaign so what we've done here",
    "start": "736079",
    "end": "741680"
  },
  {
    "text": "is we've initiated the process of creating a campaign in the background at this point we can't get any",
    "start": "741680",
    "end": "747519"
  },
  {
    "text": "recommendations from this campaign because it's not an inactive status and so it can take",
    "start": "747519",
    "end": "752639"
  },
  {
    "text": "between 10 and 15 minutes for a campaign to get to an active status and then once",
    "start": "752639",
    "end": "757680"
  },
  {
    "text": "it's active we can start making calls against it so while we're waiting for this one to",
    "start": "757680",
    "end": "762720"
  },
  {
    "start": "761000",
    "end": "802000"
  },
  {
    "text": "complete let's go ahead and create campaigns for our other two solutions",
    "start": "762720",
    "end": "773040"
  },
  {
    "text": "we'll do sims next there's only one solution version there",
    "start": "773040",
    "end": "778399"
  },
  {
    "text": "and we'll keep them in tps at one as",
    "start": "778399",
    "end": "782480"
  },
  {
    "text": "well",
    "start": "784839",
    "end": "787839"
  },
  {
    "text": "okay so when we go back over to the campaigns page here we see that these three campaigns are",
    "start": "802399",
    "end": "807920"
  },
  {
    "text": "either currently being created or they're pending to be created so we'll go ahead and pause here and",
    "start": "807920",
    "end": "812959"
  },
  {
    "text": "wait for these campaigns to finish creating and then we'll come back and start making some get recommendation",
    "start": "812959",
    "end": "818000"
  },
  {
    "text": "calls against them all right we're back and it looks like our three campaigns have been",
    "start": "818000",
    "end": "824240"
  },
  {
    "text": "successfully created so let's go through and see how we can get recommendations from these campaigns",
    "start": "824240",
    "end": "829920"
  },
  {
    "text": "right in the console and then i'll switch to some coding samples to see how you can use the personalized sdk to get",
    "start": "829920",
    "end": "836240"
  },
  {
    "text": "recommendations so we'll start with the sims campaign first with sims if you recall it's given an",
    "start": "836240",
    "end": "842560"
  },
  {
    "text": "item it'll recommend similar items so i'm going to go ahead and put in an item that i know is in the movie",
    "start": "842560",
    "end": "848160"
  },
  {
    "text": "lens data set we're going to leave filter blank for now since we're covering that in depth in a subsequent video in the",
    "start": "848160",
    "end": "854839"
  },
  {
    "text": "series what we get back is a list of items that are similar to item 589 we also get back a",
    "start": "854839",
    "end": "861920"
  },
  {
    "text": "recommendation id which we'll talk more about that in another video that talks about modeling",
    "start": "861920",
    "end": "866959"
  },
  {
    "text": "on impression data and then scores are blank for sims and so we don't get scores for",
    "start": "866959",
    "end": "873120"
  },
  {
    "text": "uh sims campaigns but we do for the others so we'll talk about the score column for those other",
    "start": "873120",
    "end": "878480"
  },
  {
    "text": "campaigns next we'll look at the user personalization campaign",
    "start": "878480",
    "end": "884800"
  },
  {
    "text": "so this one is backed by the user personalization recipe and what we need to input here is a user",
    "start": "884800",
    "end": "891199"
  },
  {
    "text": "id and we'll leave filter at none and you can also provide",
    "start": "891199",
    "end": "897199"
  },
  {
    "text": "context information so if you recall from earlier context can be any information that",
    "start": "897199",
    "end": "904240"
  },
  {
    "text": "helps that affects the behavior of your users and their recommendations so the example is maybe they interact with",
    "start": "904240",
    "end": "911680"
  },
  {
    "text": "content differently when they're say on a mobile device versus your desktop application and so you can provide their",
    "start": "911680",
    "end": "918240"
  },
  {
    "text": "current form factor as context and personalize will alter the recommendations based on",
    "start": "918240",
    "end": "923760"
  },
  {
    "text": "that that context some other examples might include time of day weather",
    "start": "923760",
    "end": "929519"
  },
  {
    "text": "the user's current location anything that's contextual to the interaction",
    "start": "929519",
    "end": "934880"
  },
  {
    "text": "okay so we see we get back a recommendation id just as before a list of items that are recommended for",
    "start": "936880",
    "end": "942000"
  },
  {
    "text": "this user the score values here is this is a floating point number",
    "start": "942000",
    "end": "947279"
  },
  {
    "text": "between 0 and 1.0 and the values for it for this particular",
    "start": "947279",
    "end": "953440"
  },
  {
    "text": "campaign and these these recipes and this for this use case are based on a score of all items across",
    "start": "953440",
    "end": "960399"
  },
  {
    "text": "your entire items data set so the more items you have in your data set the smaller the absolute values of your",
    "start": "960399",
    "end": "966800"
  },
  {
    "text": "scores are going to be but if you added all of them up across your whole data set they would add up to 1.0",
    "start": "966800",
    "end": "972480"
  },
  {
    "text": "so it's important not to read too much into the absolute value of the scores for the user personalization use case",
    "start": "972480",
    "end": "979199"
  },
  {
    "text": "but instead use them as uh relative to each other within the same recommendations response so to get a",
    "start": "979199",
    "end": "987040"
  },
  {
    "text": "sense for how strong some of these items are versus in relevance versus the others",
    "start": "987040",
    "end": "996560"
  },
  {
    "text": "and the last campaign is re-ranking so re-ranking is given a user",
    "start": "996560",
    "end": "1001680"
  },
  {
    "text": "and a list of item ids the campaign will re-rank them",
    "start": "1001680",
    "end": "1010320"
  },
  {
    "text": "and so we see those five items have been re-ranked in a different order the score is a little bit different here",
    "start": "1010320",
    "end": "1015360"
  },
  {
    "text": "though the score for uh personalized ranking it will actually these five",
    "start": "1015360",
    "end": "1020959"
  },
  {
    "text": "scores will add up to 1.0 so the scope of the scoring for personalized",
    "start": "1020959",
    "end": "1026400"
  },
  {
    "text": "ranking is just this this particular response not across your entire items data set so it's just an important difference to",
    "start": "1026400",
    "end": "1032720"
  },
  {
    "text": "keep in mind there so since these item ids that we've seen in these responses aren't very",
    "start": "1032720",
    "end": "1037760"
  },
  {
    "text": "meaningful they don't really tell us a whole lot about what's being recommended i'd like to switch over to showing you",
    "start": "1037760",
    "end": "1043438"
  },
  {
    "start": "1041000",
    "end": "1452000"
  },
  {
    "text": "some coding samples that will hopefully make these responses a little more meaningful to you and so we'll provide",
    "start": "1043439",
    "end": "1050400"
  },
  {
    "text": "all this code with the videos so that you can spend more time looking and running this code yourself",
    "start": "1050400",
    "end": "1056320"
  },
  {
    "text": "if you'd like so there's some python scripts here this is written in python you can use any language supported by the aws",
    "start": "1056320",
    "end": "1063520"
  },
  {
    "text": "sdk so the these three python scripts will exercise the three different campaigns",
    "start": "1063520",
    "end": "1069840"
  },
  {
    "text": "and uh what we're using as input here for data is i've downloaded the interaction csv",
    "start": "1069840",
    "end": "1076480"
  },
  {
    "text": "which was used to train the model so these are all the interactions for all users across the the movies the",
    "start": "1076480",
    "end": "1082320"
  },
  {
    "text": "time stamp and the event type if you want to know more about this data set go back to this episode on",
    "start": "1082320",
    "end": "1089039"
  },
  {
    "text": "mapping your data and then there's the movie csv which came with movie lens",
    "start": "1089039",
    "end": "1094320"
  },
  {
    "text": "that has all the movie ids or title and their genres so we're going to use this to look up",
    "start": "1094320",
    "end": "1099440"
  },
  {
    "text": "those ids to display more meaningful movie titles in our responses",
    "start": "1099440",
    "end": "1106000"
  },
  {
    "text": "so we'll start with the user personalization and uh you can pass on this script",
    "start": "1106000",
    "end": "1114000"
  },
  {
    "text": "here um let me just show you the important bits here is this function here is what is actually calling the get recommendations",
    "start": "1114000",
    "end": "1121039"
  },
  {
    "text": "call on personalized runtime and so that is the client for interfacing with personalized campaigns",
    "start": "1121039",
    "end": "1128320"
  },
  {
    "text": "we're passing the campaign arn the user id and how many results we want back and",
    "start": "1128320",
    "end": "1134080"
  },
  {
    "text": "then we're looking up the movie titles and just putting them into a pandas data frame so that we can display them uh in a more um",
    "start": "1134080",
    "end": "1142080"
  },
  {
    "text": "uh intuitive and meaningful way so you pass the campaign iron on the command line to the script",
    "start": "1142080",
    "end": "1148160"
  },
  {
    "text": "you can optionally pass a user id or if you don't pacify pass a user id it will look up a random",
    "start": "1148160",
    "end": "1154000"
  },
  {
    "text": "user from the data set we're going to get the interactions for",
    "start": "1154000",
    "end": "1159200"
  },
  {
    "text": "this user and these are all the interactions from the csv for this user and then we'll",
    "start": "1159200",
    "end": "1164880"
  },
  {
    "text": "isolate the top genres across all those interactions to get a sense for what is this user interested in in",
    "start": "1164880",
    "end": "1171039"
  },
  {
    "text": "movies then we'll get actually get recommendations from personalize and we'll see how those recommendations",
    "start": "1171039",
    "end": "1176640"
  },
  {
    "text": "stack up against the popular genres for the interactions of this user and",
    "start": "1176640",
    "end": "1181840"
  },
  {
    "text": "then we'll compare those the top genres in the recommendations against the user's interactions and",
    "start": "1181840",
    "end": "1187360"
  },
  {
    "text": "hopefully see a pattern in the recommendations so let's go ahead and run this script here",
    "start": "1187360",
    "end": "1194240"
  },
  {
    "text": "all right so we loaded the movies we loaded the interactions i didn't provide a user id so it",
    "start": "1197600",
    "end": "1202640"
  },
  {
    "text": "randomly selected user id 207 from the interactions data set and here's a sampling of",
    "start": "1202640",
    "end": "1209039"
  },
  {
    "text": "the last 20 interactions for this user and we can see the genres over here",
    "start": "1209039",
    "end": "1215280"
  },
  {
    "text": "more interesting information is these are the top genres for this user based on their interactions so um",
    "start": "1215280",
    "end": "1222000"
  },
  {
    "text": "not a whole lot of interactions i'm interested in thrillers drama and adventure",
    "start": "1222000",
    "end": "1228480"
  },
  {
    "text": "so we'll see how the recommendations stack up so here's the recommendations for this user",
    "start": "1228480",
    "end": "1233600"
  },
  {
    "text": "you can see the movie titles and then the genres over here",
    "start": "1233600",
    "end": "1238240"
  },
  {
    "text": "then the script will take those top genres from up up above and then isolate the top genres from the",
    "start": "1238960",
    "end": "1244559"
  },
  {
    "text": "recommendations and display them side by side so we should see some some correlation between the two",
    "start": "1244559",
    "end": "1250880"
  },
  {
    "text": "not a lot of interactions for this user so we don't have a lot of data to go on but um their interactions indicated they",
    "start": "1250880",
    "end": "1257200"
  },
  {
    "text": "were interested in thrillers dramas and adventure so we see drama adventure action",
    "start": "1257200",
    "end": "1263360"
  },
  {
    "text": "we see sci-fi is up here a little bit higher than in the interactions but again we didn't have a lot to go on",
    "start": "1263360",
    "end": "1269600"
  },
  {
    "text": "let's go ahead and run it again for it'll select a different user this time",
    "start": "1269600",
    "end": "1274960"
  },
  {
    "text": "and so this user has quite a bit more interaction so they're very interested in action comedy and adventure so let's",
    "start": "1275760",
    "end": "1282640"
  },
  {
    "text": "see how that that came out so uh here's the recommendations comedy action thriller adventure so the",
    "start": "1282640",
    "end": "1290559"
  },
  {
    "text": "recommendations are much better for this user because we have more historical data",
    "start": "1290559",
    "end": "1296400"
  },
  {
    "text": "now let's look at the sims script here so this script is you pass in an item id",
    "start": "1297679",
    "end": "1303280"
  },
  {
    "text": "and it will look up similar items and then display the movie titles so go ahead and run this one",
    "start": "1303280",
    "end": "1311120"
  },
  {
    "text": "all right so here's that 589 that i showed you in the console which is terminator 2 judgement day it's from the action and",
    "start": "1314880",
    "end": "1322480"
  },
  {
    "text": "sci-fi genres and so the similar items to terminator 2 judgment day for based on",
    "start": "1322480",
    "end": "1328240"
  },
  {
    "text": "these interactions jurassic park braveheart the first terminator fugitive speed",
    "start": "1328240",
    "end": "1334320"
  },
  {
    "text": "crimson tide goldeneye so definitely we have a lot of action here we have",
    "start": "1334320",
    "end": "1340320"
  },
  {
    "text": "some sci-fi in these recommendations so they seem to be pretty good similar item recommendations",
    "start": "1340320",
    "end": "1347840"
  },
  {
    "text": "the last script does the personalized ranking and so with this script you can pass in",
    "start": "1348159",
    "end": "1355039"
  },
  {
    "text": "a user id and or it will randomly find a user id and it will randomly select",
    "start": "1355039",
    "end": "1360640"
  },
  {
    "text": "20 items to re-rank then it will call let's look at the main function here so",
    "start": "1360640",
    "end": "1366640"
  },
  {
    "text": "we'll call the get personalized ranking api so it's different than get recommendations",
    "start": "1366640",
    "end": "1372159"
  },
  {
    "text": "pass the campaign the user id and then a list of ids to re-rank we'll look up the movies",
    "start": "1372159",
    "end": "1378640"
  },
  {
    "text": "and see what the results are",
    "start": "1378640",
    "end": "1389840"
  },
  {
    "text": "all right so these are the 20 item ids that were randomly selected uh here's the list of them so they're",
    "start": "1395679",
    "end": "1402320"
  },
  {
    "text": "unranked at this point and we'll call based on this user we'll get a sense for what this user is",
    "start": "1402320",
    "end": "1408240"
  },
  {
    "text": "interested in so this user is very interested in comedy drama and action",
    "start": "1408240",
    "end": "1417039"
  },
  {
    "text": "so let's look at the re-ranked items here so comedy romance drama",
    "start": "1417039",
    "end": "1425039"
  },
  {
    "text": "then we'll compare the unranked movies to the re-ranked movies",
    "start": "1427600",
    "end": "1432960"
  },
  {
    "text": "and see that we have a difference in order so we've had some re-ranking here that are personalized as",
    "start": "1432960",
    "end": "1438080"
  },
  {
    "text": "modifying the order of these or re-ranking these items based on this user's interest",
    "start": "1438080",
    "end": "1443440"
  },
  {
    "text": "so i hope that gave you a good sense for how you can use the different campaigns and how the different apis work we'll",
    "start": "1443440",
    "end": "1449679"
  },
  {
    "text": "switch now to look at batch recommendations all right so we just finished looking at",
    "start": "1449679",
    "end": "1456000"
  },
  {
    "start": "1452000",
    "end": "1519000"
  },
  {
    "text": "how real-time recommendations work with personalize now let's turn our attention to batch recommendations",
    "start": "1456000",
    "end": "1462080"
  },
  {
    "text": "we'll walk through a similar diagrams before where you start with your data set group and your data sets",
    "start": "1462080",
    "end": "1467840"
  },
  {
    "text": "and then you train a model by creating a solution version at this point you're ready to create your batch inference job now notice that",
    "start": "1467840",
    "end": "1474480"
  },
  {
    "text": "we only need a solution version here and not a campaign before you can create your batch job",
    "start": "1474480",
    "end": "1479600"
  },
  {
    "text": "though you need to create an input file this file is in json format and includes all of the user ids or in the case of",
    "start": "1479600",
    "end": "1486480"
  },
  {
    "text": "sims your item ids that you wish to retrieve recommendations for",
    "start": "1486480",
    "end": "1491600"
  },
  {
    "text": "you create your batch job passing a reference to your input file and the solution version as well as some other parameters that",
    "start": "1491600",
    "end": "1497279"
  },
  {
    "text": "we'll look at in a moment in a demo the batch job starts in the background and processes your input file",
    "start": "1497279",
    "end": "1504000"
  },
  {
    "text": "an output file also in json format is written back to s3 at the location you specify when you create your job",
    "start": "1504000",
    "end": "1511039"
  },
  {
    "text": "once the job is finished you can process the output file in any downstream batch processing such as email marketing",
    "start": "1511039",
    "end": "1516880"
  },
  {
    "text": "campaigns that we discussed earlier now let's take a quick look at how batch",
    "start": "1516880",
    "end": "1522799"
  },
  {
    "start": "1519000",
    "end": "2023000"
  },
  {
    "text": "recommendations work in action okay here we are back in the aws console in the",
    "start": "1522799",
    "end": "1528240"
  },
  {
    "text": "amazon personalize service page and we're back in our same data set group",
    "start": "1528240",
    "end": "1533679"
  },
  {
    "text": "and we're under the batch inference jobs menu option so creating",
    "start": "1533679",
    "end": "1538960"
  },
  {
    "text": "a batch inference job there's several input parameters including the batch job name but we need",
    "start": "1538960",
    "end": "1545520"
  },
  {
    "text": "to provide a service role that personalize will assume to be able to access our s3 bucket",
    "start": "1545520",
    "end": "1551440"
  },
  {
    "text": "and then we'll provide a solution solution version the location over input file and where to",
    "start": "1551440",
    "end": "1556559"
  },
  {
    "text": "write the results so before we can create this job we need to set up some of these requirements so",
    "start": "1556559",
    "end": "1562799"
  },
  {
    "text": "let's start by creating the s3 bucket that will need to store our",
    "start": "1562799",
    "end": "1567919"
  },
  {
    "text": "input file so i have some information i have some imrols and",
    "start": "1567919",
    "end": "1573360"
  },
  {
    "text": "the bucket names already defined here so i'm just going to grab these for my clipboard and go ahead and create a bucket",
    "start": "1573360",
    "end": "1580720"
  },
  {
    "text": "with this name accept all the defaults",
    "start": "1580720",
    "end": "1588000"
  },
  {
    "text": "all right so our buckets created now we need to set bucket permissions to set a bucket policy that will allow",
    "start": "1590960",
    "end": "1597520"
  },
  {
    "text": "personalize to access this bucket and perform the actions that it needs so we'll go down to bucket policy",
    "start": "1597520",
    "end": "1604960"
  },
  {
    "text": "and edit and i have a bucket policy already prepared here so the json is ready to go",
    "start": "1604960",
    "end": "1613840"
  },
  {
    "text": "so what we're doing here is we're allowing the personalized service to be able to access this bucket and",
    "start": "1614400",
    "end": "1620559"
  },
  {
    "text": "being able to get objects list objects in the bucket as well as put objects that's where the output file",
    "start": "1620559",
    "end": "1627039"
  },
  {
    "text": "is going to be written so let's go ahead and save the bucket policy",
    "start": "1627039",
    "end": "1633600"
  },
  {
    "text": "all right so our bucket is set up now we need to create that role that will allow personalize to be able",
    "start": "1634000",
    "end": "1640159"
  },
  {
    "text": "to access the bucket assume that role and be able to access the bucket so go ahead and create a role it's",
    "start": "1640159",
    "end": "1647360"
  },
  {
    "text": "going to be for the personalized service",
    "start": "1647360",
    "end": "1654240"
  },
  {
    "text": "then we will create a policy",
    "start": "1654240",
    "end": "1657840"
  },
  {
    "text": "and i have a policy already written down here",
    "start": "1660399",
    "end": "1664720"
  },
  {
    "text": "that looks very similar to the bucket policy so let's review",
    "start": "1667440",
    "end": "1673760"
  },
  {
    "text": "that so basically the same actions um against the the bucket here and uh this will allow this role to be",
    "start": "1673760",
    "end": "1680480"
  },
  {
    "text": "able to access the the s3 bucket so let's go ahead and save this policy",
    "start": "1680480",
    "end": "1687840"
  },
  {
    "text": "go get our name convenience",
    "start": "1691360",
    "end": "1697840"
  },
  {
    "text": "all right so our policy has been created so now let's attach it to our role",
    "start": "1708080",
    "end": "1713679"
  },
  {
    "text": "refresh tags review",
    "start": "1722840",
    "end": "1738559"
  },
  {
    "text": "okay great now our roll has been created so let's go ahead and grab the while we're",
    "start": "1738559",
    "end": "1744000"
  },
  {
    "text": "here we'll grab the arn on the clipboard for this roll come back over to",
    "start": "1744000",
    "end": "1749520"
  },
  {
    "text": "our batch job and we will go ahead and",
    "start": "1749520",
    "end": "1754559"
  },
  {
    "text": "paste that arn in there all right so let's give our",
    "start": "1754559",
    "end": "1762080"
  },
  {
    "text": "job a name",
    "start": "1762080",
    "end": "1767840"
  },
  {
    "text": "we're going to use the user personalization pick the solution version there's only one here we'll take the default of 25",
    "start": "1772159",
    "end": "1780000"
  },
  {
    "text": "recommendations we can set um the exploration here so uh the exploration weight we'll",
    "start": "1780000",
    "end": "1786880"
  },
  {
    "text": "leave these at the defaults now we need to get our input data location so we haven't created an input",
    "start": "1786880",
    "end": "1793600"
  },
  {
    "text": "file i have a script that can be used to create the",
    "start": "1793600",
    "end": "1799120"
  },
  {
    "text": "batch input file and so i won't spend too much time looking at the code here but essentially you can pass in a user id or",
    "start": "1799120",
    "end": "1807600"
  },
  {
    "text": "it will randomly select a user id out of the data set and it will create the file so let's go ahead and run this script",
    "start": "1807600",
    "end": "1815279"
  },
  {
    "text": "we pass the bucket name because it's going to create the create the file and upload it to the bucket",
    "start": "1816240",
    "end": "1821760"
  },
  {
    "text": "so here's our bucket name on the url we're doing the user personalization use case so let's go ahead and run this",
    "start": "1821760",
    "end": "1829919"
  },
  {
    "text": "okay and here's the input file that was created by the script so let's take a look at that it's just a series of single json",
    "start": "1832799",
    "end": "1839440"
  },
  {
    "text": "documents that are separated on individual lines where the input is the user id so it",
    "start": "1839440",
    "end": "1846480"
  },
  {
    "text": "the script randomly picked 50 user ids and built this input file and it uploaded it",
    "start": "1846480",
    "end": "1853039"
  },
  {
    "text": "to the s3 bucket so we'll go over to back over to s3",
    "start": "1853039",
    "end": "1859518"
  },
  {
    "text": "and we see that there's an input folder here and here's our file okay so let's go",
    "start": "1860480",
    "end": "1866880"
  },
  {
    "text": "ahead and grab the path for that file",
    "start": "1866880",
    "end": "1872559"
  },
  {
    "text": "and then for the output path we're just going to instead of the input directory or folder",
    "start": "1877600",
    "end": "1883440"
  },
  {
    "text": "we will write it to output and so you need a trailing slash there so this is the location where the output",
    "start": "1883440",
    "end": "1888799"
  },
  {
    "text": "file is going to be placed we'll go ahead and create our batch job",
    "start": "1888799",
    "end": "1893919"
  },
  {
    "text": "and our batch job is create pending and so it's going to take some time for personalize to provision",
    "start": "1893919",
    "end": "1899360"
  },
  {
    "text": "the resources to process our file and so there's a certain amount of fixed overhead with every batch job to be able",
    "start": "1899360",
    "end": "1905760"
  },
  {
    "text": "to provision those resources so it doesn't matter really how small or big your file there's always going to be that overhead",
    "start": "1905760",
    "end": "1911440"
  },
  {
    "text": "and then it will process your file rather quickly at that point so at this point we'll pause and wait",
    "start": "1911440",
    "end": "1916640"
  },
  {
    "text": "for this job to complete and then we'll look at the output all right it looks like our batch",
    "start": "1916640",
    "end": "1921760"
  },
  {
    "text": "inference job is now complete its status is this transition to active let's go over to",
    "start": "1921760",
    "end": "1927039"
  },
  {
    "text": "s3 and look at the in the output location that we specified so if you recall when we created our job",
    "start": "1927039",
    "end": "1933039"
  },
  {
    "text": "we told personalize to put the output file in the output directory here in this folder",
    "start": "1933039",
    "end": "1939360"
  },
  {
    "text": "and sure enough we have an output file in here so let's download this file and take a look at it",
    "start": "1939360",
    "end": "1948399"
  },
  {
    "text": "of course you could do all of these things using the sdk rather than the console i'm going to",
    "start": "1948399",
    "end": "1955440"
  },
  {
    "text": "save it right into the location of that python project that we looked at earlier",
    "start": "1955440",
    "end": "1963279"
  },
  {
    "text": "all right so if you recall this is our input file here and we have the user id and the value for",
    "start": "1963279",
    "end": "1968960"
  },
  {
    "text": "each user we randomly selected 50 users in this input file here's the output file that i just",
    "start": "1968960",
    "end": "1975360"
  },
  {
    "text": "downloaded here and you can see there's a single json document for each line just like the",
    "start": "1975360",
    "end": "1981200"
  },
  {
    "text": "input file but the format's a little bit different so the personalize has echoed back the",
    "start": "1981200",
    "end": "1987120"
  },
  {
    "text": "input value that we sent in and then there's a new output document here with recommended",
    "start": "1987120",
    "end": "1993279"
  },
  {
    "text": "items so we can see the list of the recommended item ids and then we also have the scores for",
    "start": "1993279",
    "end": "2000159"
  },
  {
    "text": "that correspond to each recommended item id and then you can",
    "start": "2000159",
    "end": "2005200"
  },
  {
    "text": "process this file by reading in each line so it's aligned in a limited file of json documents",
    "start": "2005200",
    "end": "2010799"
  },
  {
    "text": "and process each document and incorporate that into your downstream batch processes",
    "start": "2010799",
    "end": "2018159"
  },
  {
    "text": "so with that we'll end the demo on batch recommendations and wrap up the episode before closing out this",
    "start": "2018159",
    "end": "2024559"
  },
  {
    "start": "2023000",
    "end": "2101000"
  },
  {
    "text": "episode i wanted to remind you of the other resources available for working with personalize",
    "start": "2024559",
    "end": "2029919"
  },
  {
    "text": "the personalized developer documentation includes detailed information on how to use personalized and the",
    "start": "2029919",
    "end": "2034960"
  },
  {
    "text": "personalized apis we also regularly publish blog posts that go into detail on new features",
    "start": "2034960",
    "end": "2041440"
  },
  {
    "text": "customer examples and integration patterns since sometimes it's helpful to see",
    "start": "2041440",
    "end": "2046480"
  },
  {
    "text": "sample code on how to implement a feature or build an integration we have several resources available on",
    "start": "2046480",
    "end": "2051679"
  },
  {
    "text": "github that will walk you through using a feature or deploying a reference architecture finally we have some complete end-to-end",
    "start": "2051679",
    "end": "2058240"
  },
  {
    "text": "demos such as the retail demo store that you can deploy into your aws account to see how full stack",
    "start": "2058240",
    "end": "2064000"
  },
  {
    "text": "integration with personalized can be built since aws is constantly adding new",
    "start": "2064000",
    "end": "2069040"
  },
  {
    "text": "features and improvements to personalize periodically checking back to the latest developer documentation updates",
    "start": "2069040",
    "end": "2075118"
  },
  {
    "text": "the personalized blog and the github resources is a great way to stay current with the service",
    "start": "2075119",
    "end": "2081839"
  },
  {
    "text": "so with that i'll wrap up i hope this episode gave you a good sense of how to get recommendations from personalized",
    "start": "2082079",
    "end": "2087118"
  },
  {
    "text": "for both real-time and batch use cases please join us for upcoming episodes where we will dive deeper into other",
    "start": "2087119",
    "end": "2093280"
  },
  {
    "text": "topics related to personalize",
    "start": "2093280",
    "end": "2103040"
  }
]