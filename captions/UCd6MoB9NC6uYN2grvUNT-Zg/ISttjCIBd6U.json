[
  {
    "text": "[Music]",
    "start": "0",
    "end": "2159"
  },
  {
    "text": "hello everyone",
    "start": "2159",
    "end": "3439"
  },
  {
    "text": "my name is andy hopper and i'm a senior",
    "start": "3439",
    "end": "5440"
  },
  {
    "text": "solutions architect at amazon web",
    "start": "5440",
    "end": "7040"
  },
  {
    "text": "services",
    "start": "7040",
    "end": "8720"
  },
  {
    "text": "a frequent use case for customers",
    "start": "8720",
    "end": "10160"
  },
  {
    "text": "running elastic compute cloud or ec2",
    "start": "10160",
    "end": "12559"
  },
  {
    "text": "instances is to have a way to",
    "start": "12559",
    "end": "14400"
  },
  {
    "text": "automatically install applications on",
    "start": "14400",
    "end": "16080"
  },
  {
    "text": "these instances",
    "start": "16080",
    "end": "17279"
  },
  {
    "text": "for example you may have a cicd pipeline",
    "start": "17279",
    "end": "19840"
  },
  {
    "text": "that builds your code",
    "start": "19840",
    "end": "20880"
  },
  {
    "text": "and you'd like to have the latest",
    "start": "20880",
    "end": "22160"
  },
  {
    "text": "version of your application deployed",
    "start": "22160",
    "end": "23920"
  },
  {
    "text": "after the build completes in this video",
    "start": "23920",
    "end": "26560"
  },
  {
    "text": "we're going to explore how you can use",
    "start": "26560",
    "end": "28240"
  },
  {
    "text": "one of aws's devops services named aws",
    "start": "28240",
    "end": "31439"
  },
  {
    "text": "code deploy",
    "start": "31439",
    "end": "32640"
  },
  {
    "text": "now for those of you who aren't familiar",
    "start": "32640",
    "end": "34480"
  },
  {
    "text": "with the service",
    "start": "34480",
    "end": "35680"
  },
  {
    "text": "it's a way for you to have software",
    "start": "35680",
    "end": "38079"
  },
  {
    "text": "automatically installed",
    "start": "38079",
    "end": "39280"
  },
  {
    "text": "on ec2 instances elastic container",
    "start": "39280",
    "end": "41840"
  },
  {
    "text": "service or ecs",
    "start": "41840",
    "end": "43280"
  },
  {
    "text": "services or even aws lambda",
    "start": "43280",
    "end": "46320"
  },
  {
    "text": "for the purposes of this video we're",
    "start": "46320",
    "end": "48160"
  },
  {
    "text": "going to focus on a windows use case",
    "start": "48160",
    "end": "50000"
  },
  {
    "text": "running on ec2",
    "start": "50000",
    "end": "51680"
  },
  {
    "text": "however if you're interested in",
    "start": "51680",
    "end": "53360"
  },
  {
    "text": "performing similar steps on other os's",
    "start": "53360",
    "end": "55360"
  },
  {
    "text": "or platforms",
    "start": "55360",
    "end": "56399"
  },
  {
    "text": "you can learn more from the aws",
    "start": "56399",
    "end": "58160"
  },
  {
    "text": "documentation on code deploy",
    "start": "58160",
    "end": "60320"
  },
  {
    "text": "so let's get started what i have open",
    "start": "60320",
    "end": "63680"
  },
  {
    "text": "here in visual studio",
    "start": "63680",
    "end": "64878"
  },
  {
    "text": "is an asp.net core mvc web application",
    "start": "64879",
    "end": "68400"
  },
  {
    "text": "now i'd like to point out that while",
    "start": "68400",
    "end": "70159"
  },
  {
    "text": "this particular application",
    "start": "70159",
    "end": "71680"
  },
  {
    "text": "is using the.net core runtime everything",
    "start": "71680",
    "end": "73920"
  },
  {
    "text": "i'll be describing in this video",
    "start": "73920",
    "end": "75439"
  },
  {
    "text": "applies to net framework applications as",
    "start": "75439",
    "end": "77600"
  },
  {
    "text": "well you're just going to be using a",
    "start": "77600",
    "end": "79200"
  },
  {
    "text": "different runtime for your application",
    "start": "79200",
    "end": "81759"
  },
  {
    "text": "by the way the source for this",
    "start": "81759",
    "end": "83360"
  },
  {
    "text": "application is publicly available in",
    "start": "83360",
    "end": "85119"
  },
  {
    "text": "github",
    "start": "85119",
    "end": "85680"
  },
  {
    "text": "so if you want to peek at the code for",
    "start": "85680",
    "end": "87280"
  },
  {
    "text": "this as well as some other videos i'll",
    "start": "87280",
    "end": "88880"
  },
  {
    "text": "be recording on deploying.net",
    "start": "88880",
    "end": "90560"
  },
  {
    "text": "applications",
    "start": "90560",
    "end": "91439"
  },
  {
    "text": "you can download it and try it out in",
    "start": "91439",
    "end": "92960"
  },
  {
    "text": "your own environment",
    "start": "92960",
    "end": "95040"
  },
  {
    "text": "okay back to our application i'd like",
    "start": "95040",
    "end": "97600"
  },
  {
    "text": "this application to be able to launch",
    "start": "97600",
    "end": "99119"
  },
  {
    "text": "automatically on boot and stay running",
    "start": "99119",
    "end": "101520"
  },
  {
    "text": "this is an ideal use case for a windows",
    "start": "101520",
    "end": "103439"
  },
  {
    "text": "service",
    "start": "103439",
    "end": "104000"
  },
  {
    "text": "so i've added the nuget package that",
    "start": "104000",
    "end": "105840"
  },
  {
    "text": "supports running a.net core application",
    "start": "105840",
    "end": "107840"
  },
  {
    "text": "as a windows service",
    "start": "107840",
    "end": "109680"
  },
  {
    "text": "so i've got my application i've got it",
    "start": "109680",
    "end": "111840"
  },
  {
    "text": "set up to run on boot",
    "start": "111840",
    "end": "113119"
  },
  {
    "text": "so now i just need to figure out how i'm",
    "start": "113119",
    "end": "114880"
  },
  {
    "text": "going to get this to automatically",
    "start": "114880",
    "end": "116240"
  },
  {
    "text": "install on my instances",
    "start": "116240",
    "end": "118079"
  },
  {
    "text": "before i can have my applications",
    "start": "118079",
    "end": "119680"
  },
  {
    "text": "installed on my ec2 instances",
    "start": "119680",
    "end": "121520"
  },
  {
    "text": "i'll need to fulfill a few prerequisites",
    "start": "121520",
    "end": "124159"
  },
  {
    "text": "first",
    "start": "124159",
    "end": "124719"
  },
  {
    "text": "i'll need to have the code deploy agent",
    "start": "124719",
    "end": "126479"
  },
  {
    "text": "installed on my ec2 instances",
    "start": "126479",
    "end": "128479"
  },
  {
    "text": "this agent is what actually performs the",
    "start": "128479",
    "end": "130560"
  },
  {
    "text": "installation on these instances",
    "start": "130560",
    "end": "133040"
  },
  {
    "text": "next code deploys an aws service and",
    "start": "133040",
    "end": "135360"
  },
  {
    "text": "like any other aws service you need to",
    "start": "135360",
    "end": "137440"
  },
  {
    "text": "ensure that you have permissions to call",
    "start": "137440",
    "end": "139120"
  },
  {
    "text": "it",
    "start": "139120",
    "end": "139760"
  },
  {
    "text": "so i'll define an ec2 instance profile",
    "start": "139760",
    "end": "142480"
  },
  {
    "text": "and i'm going to attach a managed policy",
    "start": "142480",
    "end": "144640"
  },
  {
    "text": "named amazon ec2 role for aws code",
    "start": "144640",
    "end": "147360"
  },
  {
    "text": "deploy",
    "start": "147360",
    "end": "148800"
  },
  {
    "text": "finally i'll need to make sure that the",
    "start": "148800",
    "end": "151040"
  },
  {
    "text": "ec2 instances i'm going to have my",
    "start": "151040",
    "end": "152800"
  },
  {
    "text": "applications installed on",
    "start": "152800",
    "end": "154480"
  },
  {
    "text": "have access to the public endpoints for",
    "start": "154480",
    "end": "156560"
  },
  {
    "text": "code deploy and s3",
    "start": "156560",
    "end": "158319"
  },
  {
    "text": "to do this i need to ensure that the vpc",
    "start": "158319",
    "end": "160319"
  },
  {
    "text": "my instances are launched into have an",
    "start": "160319",
    "end": "162480"
  },
  {
    "text": "internet gateway attached",
    "start": "162480",
    "end": "163840"
  },
  {
    "text": "and if i put those instances in a",
    "start": "163840",
    "end": "165360"
  },
  {
    "text": "private subnet they'll need to have",
    "start": "165360",
    "end": "167120"
  },
  {
    "text": "access to a nat gateway that will give",
    "start": "167120",
    "end": "168959"
  },
  {
    "text": "them access to the outside world",
    "start": "168959",
    "end": "171200"
  },
  {
    "text": "so let's go ahead and get things set up",
    "start": "171200",
    "end": "173440"
  },
  {
    "text": "first i'll go ahead and create the ec2",
    "start": "173440",
    "end": "175280"
  },
  {
    "text": "profile",
    "start": "175280",
    "end": "176239"
  },
  {
    "text": "i'll go to the identity and access",
    "start": "176239",
    "end": "177840"
  },
  {
    "text": "management console i'll go to roles",
    "start": "177840",
    "end": "180400"
  },
  {
    "text": "and i'm going to create a role in this",
    "start": "180400",
    "end": "183040"
  },
  {
    "text": "case to make an ec2 profile",
    "start": "183040",
    "end": "184560"
  },
  {
    "text": "we'll pick ec2 for the use case",
    "start": "184560",
    "end": "188159"
  },
  {
    "text": "and now it's time for me to attach",
    "start": "188159",
    "end": "189440"
  },
  {
    "text": "policies now as i mentioned we have",
    "start": "189440",
    "end": "192480"
  },
  {
    "text": "a managed policy for code deploy and so",
    "start": "192480",
    "end": "195440"
  },
  {
    "text": "i'm going to go ahead and check the",
    "start": "195440",
    "end": "196560"
  },
  {
    "text": "amazon ec2 role for aws code deploy",
    "start": "196560",
    "end": "200080"
  },
  {
    "text": "i'll skip past the tags and i'll give it",
    "start": "200080",
    "end": "202800"
  },
  {
    "text": "a name",
    "start": "202800",
    "end": "205120"
  },
  {
    "text": "core demo",
    "start": "205120",
    "end": "208400"
  },
  {
    "text": "and i'll leave the description as the",
    "start": "208400",
    "end": "210840"
  },
  {
    "text": "default",
    "start": "210840",
    "end": "213440"
  },
  {
    "text": "okay great okay we have our ec2 instance",
    "start": "213440",
    "end": "216400"
  },
  {
    "text": "profile",
    "start": "216400",
    "end": "217120"
  },
  {
    "text": "now it's time for us to go ahead and",
    "start": "217120",
    "end": "218319"
  },
  {
    "text": "create a load balancer to serve up",
    "start": "218319",
    "end": "219680"
  },
  {
    "text": "traffic from our application",
    "start": "219680",
    "end": "221440"
  },
  {
    "text": "so i'll navigate to ec2 and i'll scroll",
    "start": "221440",
    "end": "225360"
  },
  {
    "text": "down to load balancers",
    "start": "225360",
    "end": "227840"
  },
  {
    "text": "and let's create a new load balancer",
    "start": "227840",
    "end": "231680"
  },
  {
    "text": "in this case i'll go ahead and use an",
    "start": "231680",
    "end": "233280"
  },
  {
    "text": "application load balancer to serve up my",
    "start": "233280",
    "end": "235360"
  },
  {
    "text": "traffic",
    "start": "235360",
    "end": "236560"
  },
  {
    "text": "so it'll want a name asp.net core demo",
    "start": "236560",
    "end": "240560"
  },
  {
    "text": "it'll be an internet facing load",
    "start": "240560",
    "end": "241840"
  },
  {
    "text": "balancer and it'll serve traffic up on",
    "start": "241840",
    "end": "243599"
  },
  {
    "text": "port 80.",
    "start": "243599",
    "end": "245120"
  },
  {
    "text": "next it wants to know what availability",
    "start": "245120",
    "end": "247120"
  },
  {
    "text": "zones and subnets",
    "start": "247120",
    "end": "248159"
  },
  {
    "text": "it's going to be running the alb out of",
    "start": "248159",
    "end": "250400"
  },
  {
    "text": "and so i'm going to go ahead and check",
    "start": "250400",
    "end": "251840"
  },
  {
    "text": "check the code deploy demo vpc that i've",
    "start": "251840",
    "end": "254159"
  },
  {
    "text": "already created",
    "start": "254159",
    "end": "255680"
  },
  {
    "text": "and i will tell it have it serve traffic",
    "start": "255680",
    "end": "258320"
  },
  {
    "text": "in the public subnet",
    "start": "258320",
    "end": "260239"
  },
  {
    "text": "in these two availability zones",
    "start": "260239",
    "end": "263759"
  },
  {
    "text": "uh in this case i'm not going to use the",
    "start": "263759",
    "end": "265199"
  },
  {
    "text": "aws global accelerator so i'll go ahead",
    "start": "265199",
    "end": "266960"
  },
  {
    "text": "and skip to security settings",
    "start": "266960",
    "end": "268479"
  },
  {
    "text": "and i'm not setting up an ssl cert at",
    "start": "268479",
    "end": "270479"
  },
  {
    "text": "this time so i'll go ahead and skip that",
    "start": "270479",
    "end": "272800"
  },
  {
    "text": "were you setting this up you would",
    "start": "272800",
    "end": "274080"
  },
  {
    "text": "configure ssl here",
    "start": "274080",
    "end": "276639"
  },
  {
    "text": "next is it's time to configure the",
    "start": "276639",
    "end": "278639"
  },
  {
    "text": "security groups",
    "start": "278639",
    "end": "280160"
  },
  {
    "text": "in the vpc that i'm going to run my",
    "start": "280160",
    "end": "282479"
  },
  {
    "text": "application in i've defined two security",
    "start": "282479",
    "end": "284320"
  },
  {
    "text": "groups so i've got a load balancer",
    "start": "284320",
    "end": "285840"
  },
  {
    "text": "security group which allows",
    "start": "285840",
    "end": "287600"
  },
  {
    "text": "access on port 80 to 0.0.0.0",
    "start": "287600",
    "end": "291840"
  },
  {
    "text": "and then i have the code deploy http",
    "start": "291840",
    "end": "294560"
  },
  {
    "text": "security group that we'll use in our",
    "start": "294560",
    "end": "296080"
  },
  {
    "text": "launch configuration",
    "start": "296080",
    "end": "297360"
  },
  {
    "text": "this security group only allows access",
    "start": "297360",
    "end": "299520"
  },
  {
    "text": "on port 80",
    "start": "299520",
    "end": "300400"
  },
  {
    "text": "to this load balancer security group",
    "start": "300400",
    "end": "302800"
  },
  {
    "text": "that way",
    "start": "302800",
    "end": "303520"
  },
  {
    "text": "i can run these applications in a",
    "start": "303520",
    "end": "305360"
  },
  {
    "text": "private subnet and there will be no",
    "start": "305360",
    "end": "307039"
  },
  {
    "text": "internet access to these boxes directly",
    "start": "307039",
    "end": "309199"
  },
  {
    "text": "it has to go through the load balancer",
    "start": "309199",
    "end": "311759"
  },
  {
    "text": "next we'll configure the routing i'm",
    "start": "311759",
    "end": "314240"
  },
  {
    "text": "going to go ahead and define a new",
    "start": "314240",
    "end": "315360"
  },
  {
    "text": "target group",
    "start": "315360",
    "end": "316080"
  },
  {
    "text": "and so variations on a theme here i'm",
    "start": "316080",
    "end": "318479"
  },
  {
    "text": "going to name it asp.net core demo",
    "start": "318479",
    "end": "320400"
  },
  {
    "text": "it's going to be of instances and i'm",
    "start": "320400",
    "end": "323199"
  },
  {
    "text": "going to go ahead and have it serve",
    "start": "323199",
    "end": "324400"
  },
  {
    "text": "traffic to port 80",
    "start": "324400",
    "end": "325600"
  },
  {
    "text": "and the health check will just be the",
    "start": "325600",
    "end": "326880"
  },
  {
    "text": "root of the application",
    "start": "326880",
    "end": "329600"
  },
  {
    "text": "in this case i'm not going to register",
    "start": "329600",
    "end": "330960"
  },
  {
    "text": "any targets at this point we're going to",
    "start": "330960",
    "end": "332240"
  },
  {
    "text": "let the auto scaling group manage that",
    "start": "332240",
    "end": "334000"
  },
  {
    "text": "part",
    "start": "334000",
    "end": "334479"
  },
  {
    "text": "so next we'll click review it just shows",
    "start": "334479",
    "end": "336720"
  },
  {
    "text": "us all the choices that we made at this",
    "start": "336720",
    "end": "338160"
  },
  {
    "text": "point",
    "start": "338160",
    "end": "338639"
  },
  {
    "text": "and we'll go ahead and click create",
    "start": "338639",
    "end": "341680"
  },
  {
    "text": "awesome now we have our load balancer",
    "start": "341680",
    "end": "345440"
  },
  {
    "text": "alright so for an auto scaling group to",
    "start": "346400",
    "end": "348560"
  },
  {
    "text": "be able to create ec2 instances",
    "start": "348560",
    "end": "350320"
  },
  {
    "text": "automatically",
    "start": "350320",
    "end": "351039"
  },
  {
    "text": "first i have to give it something called",
    "start": "351039",
    "end": "352400"
  },
  {
    "text": "a launch configuration so",
    "start": "352400",
    "end": "354240"
  },
  {
    "text": "i'll go ahead and click on ec2 to go to",
    "start": "354240",
    "end": "356080"
  },
  {
    "text": "the ec2 dashboard",
    "start": "356080",
    "end": "357440"
  },
  {
    "text": "i'll scroll down and i'll click on",
    "start": "357440",
    "end": "359120"
  },
  {
    "text": "launch configurations",
    "start": "359120",
    "end": "362240"
  },
  {
    "text": "and then i'll click on create launch",
    "start": "362800",
    "end": "364240"
  },
  {
    "text": "configuration so it's going to ask me",
    "start": "364240",
    "end": "366160"
  },
  {
    "text": "for a name so i'll call it asp.net core",
    "start": "366160",
    "end": "368240"
  },
  {
    "text": "demo and then it needs an ami id",
    "start": "368240",
    "end": "371840"
  },
  {
    "text": "now in my case i've already looked up",
    "start": "371840",
    "end": "373600"
  },
  {
    "text": "the ami for windows server core so i'll",
    "start": "373600",
    "end": "376080"
  },
  {
    "text": "just go ahead and paste that",
    "start": "376080",
    "end": "377199"
  },
  {
    "text": "excuse me windows server full and i'll",
    "start": "377199",
    "end": "379039"
  },
  {
    "text": "paste that in here",
    "start": "379039",
    "end": "380560"
  },
  {
    "text": "next it'll ask me a few additional",
    "start": "380560",
    "end": "382080"
  },
  {
    "text": "details so i'm going to go ahead and",
    "start": "382080",
    "end": "383520"
  },
  {
    "text": "choose an instance type",
    "start": "383520",
    "end": "385280"
  },
  {
    "text": "this is going to be web application so",
    "start": "385280",
    "end": "386800"
  },
  {
    "text": "i'll go ahead and make this a c5",
    "start": "386800",
    "end": "388560"
  },
  {
    "text": "large i'll choose that",
    "start": "388560",
    "end": "391759"
  },
  {
    "text": "and then next it's going to ask me for",
    "start": "391759",
    "end": "394080"
  },
  {
    "text": "an instance profile",
    "start": "394080",
    "end": "395280"
  },
  {
    "text": "in my case since i want to be able to",
    "start": "395280",
    "end": "396639"
  },
  {
    "text": "interact code deploy i'm going to go",
    "start": "396639",
    "end": "398240"
  },
  {
    "text": "ahead and choose that",
    "start": "398240",
    "end": "399199"
  },
  {
    "text": "asp.net core demo instance profile we",
    "start": "399199",
    "end": "402000"
  },
  {
    "text": "created earlier",
    "start": "402000",
    "end": "404720"
  },
  {
    "text": "next it's going to ask us some advanced",
    "start": "404720",
    "end": "406680"
  },
  {
    "text": "details and",
    "start": "406680",
    "end": "408479"
  },
  {
    "text": "one thing that i need to do as i",
    "start": "408479",
    "end": "409919"
  },
  {
    "text": "mentioned earlier in our prerequisites",
    "start": "409919",
    "end": "411440"
  },
  {
    "text": "is that i need to",
    "start": "411440",
    "end": "413039"
  },
  {
    "text": "have the code deploy agent automatically",
    "start": "413039",
    "end": "415520"
  },
  {
    "text": "installed on the machine",
    "start": "415520",
    "end": "417120"
  },
  {
    "text": "so what i'm going to do here is i'm",
    "start": "417120",
    "end": "419039"
  },
  {
    "text": "going to in using a user data script",
    "start": "419039",
    "end": "421440"
  },
  {
    "text": "that i've already",
    "start": "421440",
    "end": "422080"
  },
  {
    "text": "written uh what this will do is it",
    "start": "422080",
    "end": "423919"
  },
  {
    "text": "downloads and installs the code deploy",
    "start": "423919",
    "end": "426319"
  },
  {
    "text": "agent onto the machine",
    "start": "426319",
    "end": "427919"
  },
  {
    "text": "and all it's really doing here is i'm",
    "start": "427919",
    "end": "429199"
  },
  {
    "text": "creating a temporary path i download the",
    "start": "429199",
    "end": "431360"
  },
  {
    "text": "code deploy agent",
    "start": "431360",
    "end": "433120"
  },
  {
    "text": "from the location that we have published",
    "start": "433120",
    "end": "435360"
  },
  {
    "text": "in the code deploy documentation",
    "start": "435360",
    "end": "437440"
  },
  {
    "text": "and then all i'm doing is i'm actually",
    "start": "437440",
    "end": "438880"
  },
  {
    "text": "running the code deploy agent installer",
    "start": "438880",
    "end": "441280"
  },
  {
    "text": "on the machine",
    "start": "441280",
    "end": "442160"
  },
  {
    "text": "and i'm indicating that i'd like for the",
    "start": "442160",
    "end": "443759"
  },
  {
    "text": "user data to wait until that code deploy",
    "start": "443759",
    "end": "446639"
  },
  {
    "text": "agent has completed",
    "start": "446639",
    "end": "447919"
  },
  {
    "text": "uh successfully all right",
    "start": "447919",
    "end": "451039"
  },
  {
    "text": "as far as ebs volume size is concerned",
    "start": "451039",
    "end": "453120"
  },
  {
    "text": "i'll go ahead and accept the default of",
    "start": "453120",
    "end": "454720"
  },
  {
    "text": "30",
    "start": "454720",
    "end": "455680"
  },
  {
    "text": "but it is going to ask me what security",
    "start": "455680",
    "end": "457919"
  },
  {
    "text": "groups that i'd like to use now",
    "start": "457919",
    "end": "460319"
  },
  {
    "text": "as i mentioned earlier we've got our",
    "start": "460319",
    "end": "462240"
  },
  {
    "text": "could deploy http security",
    "start": "462240",
    "end": "464000"
  },
  {
    "text": "group and so that's the one i'm going to",
    "start": "464000",
    "end": "465520"
  },
  {
    "text": "use for the instances",
    "start": "465520",
    "end": "467199"
  },
  {
    "text": "if you recall what this security group",
    "start": "467199",
    "end": "469360"
  },
  {
    "text": "is going to do is allow",
    "start": "469360",
    "end": "470400"
  },
  {
    "text": "access from our load balancer to call",
    "start": "470400",
    "end": "472720"
  },
  {
    "text": "port 80",
    "start": "472720",
    "end": "473440"
  },
  {
    "text": "on any instances in the security group",
    "start": "473440",
    "end": "476400"
  },
  {
    "text": "and it's just showing a warning message",
    "start": "476400",
    "end": "478080"
  },
  {
    "text": "i haven't opened up 33.89 which is fine",
    "start": "478080",
    "end": "480400"
  },
  {
    "text": "i'm not going to launch these with a key",
    "start": "480400",
    "end": "481840"
  },
  {
    "text": "pair",
    "start": "481840",
    "end": "482560"
  },
  {
    "text": "as a matter of fact right here i'm going",
    "start": "482560",
    "end": "484560"
  },
  {
    "text": "to indicate that no",
    "start": "484560",
    "end": "485599"
  },
  {
    "text": "i am not going to use a key pair for",
    "start": "485599",
    "end": "487360"
  },
  {
    "text": "these instances code deploy is going to",
    "start": "487360",
    "end": "489360"
  },
  {
    "text": "be the only thing that will uh be",
    "start": "489360",
    "end": "491039"
  },
  {
    "text": "doing anything on these boxes so let's",
    "start": "491039",
    "end": "493440"
  },
  {
    "text": "go ahead and create our launch",
    "start": "493440",
    "end": "494319"
  },
  {
    "text": "configuration",
    "start": "494319",
    "end": "496400"
  },
  {
    "text": "all right we have our launch",
    "start": "496400",
    "end": "497759"
  },
  {
    "text": "configuration now it's time for us to",
    "start": "497759",
    "end": "499680"
  },
  {
    "text": "create our auto scaling group",
    "start": "499680",
    "end": "501280"
  },
  {
    "text": "to do that we'll navigate to the ec2",
    "start": "501280",
    "end": "503280"
  },
  {
    "text": "console",
    "start": "503280",
    "end": "504560"
  },
  {
    "text": "we'll scroll down to auto scaling groups",
    "start": "504560",
    "end": "508240"
  },
  {
    "text": "and then we'll click on the create not a",
    "start": "508240",
    "end": "510400"
  },
  {
    "text": "scaling group button",
    "start": "510400",
    "end": "511759"
  },
  {
    "text": "and you guessed it we're going to name",
    "start": "511759",
    "end": "513440"
  },
  {
    "text": "it asp.net core demo",
    "start": "513440",
    "end": "515279"
  },
  {
    "text": "and then you'll notice in this case",
    "start": "515279",
    "end": "517200"
  },
  {
    "text": "where it's asking us to pick a launch",
    "start": "517200",
    "end": "518640"
  },
  {
    "text": "template but we can switch to launch",
    "start": "518640",
    "end": "520080"
  },
  {
    "text": "configuration since i've defined mine as",
    "start": "520080",
    "end": "522000"
  },
  {
    "text": "the launch config",
    "start": "522000",
    "end": "522800"
  },
  {
    "text": "i'll go ahead and switch to that and",
    "start": "522800",
    "end": "525040"
  },
  {
    "text": "i'll pick our asp.net core demo launch",
    "start": "525040",
    "end": "526880"
  },
  {
    "text": "configuration",
    "start": "526880",
    "end": "527760"
  },
  {
    "text": "and you'll notice it's got the ami id we",
    "start": "527760",
    "end": "530080"
  },
  {
    "text": "picked it's got the instance type we",
    "start": "530080",
    "end": "531440"
  },
  {
    "text": "chose",
    "start": "531440",
    "end": "532320"
  },
  {
    "text": "and you'll also notice that it doesn't",
    "start": "532320",
    "end": "533760"
  },
  {
    "text": "have the uh a key pair associated with",
    "start": "533760",
    "end": "535680"
  },
  {
    "text": "it so let's click next here",
    "start": "535680",
    "end": "537600"
  },
  {
    "text": "then it's going to ask us what vpc we're",
    "start": "537600",
    "end": "539200"
  },
  {
    "text": "going to launch these instances into",
    "start": "539200",
    "end": "540880"
  },
  {
    "text": "i'm going to choose the code deploy demo",
    "start": "540880",
    "end": "542720"
  },
  {
    "text": "vpc that i've already created",
    "start": "542720",
    "end": "544399"
  },
  {
    "text": "and i'd like these instances to go into",
    "start": "544399",
    "end": "546880"
  },
  {
    "text": "the private subnets i'll let the load",
    "start": "546880",
    "end": "548560"
  },
  {
    "text": "balancer",
    "start": "548560",
    "end": "549440"
  },
  {
    "text": "live in the public subnet and be",
    "start": "549440",
    "end": "551040"
  },
  {
    "text": "accessible to the outside world",
    "start": "551040",
    "end": "554160"
  },
  {
    "text": "next i'll enable load balancing and then",
    "start": "554160",
    "end": "556320"
  },
  {
    "text": "it's going to ask me",
    "start": "556320",
    "end": "557440"
  },
  {
    "text": "you know what target group my load",
    "start": "557440",
    "end": "559519"
  },
  {
    "text": "balancer is using i'm going to select",
    "start": "559519",
    "end": "560800"
  },
  {
    "text": "the asp.net core demo",
    "start": "560800",
    "end": "562080"
  },
  {
    "text": "target group that we created earlier and",
    "start": "562080",
    "end": "565200"
  },
  {
    "text": "then i'll click next",
    "start": "565200",
    "end": "567120"
  },
  {
    "text": "and then it's asking me some information",
    "start": "567120",
    "end": "568959"
  },
  {
    "text": "about the the size",
    "start": "568959",
    "end": "570399"
  },
  {
    "text": "and number of instances i'd like let's",
    "start": "570399",
    "end": "572399"
  },
  {
    "text": "go ahead and we'll set everything to",
    "start": "572399",
    "end": "573920"
  },
  {
    "text": "2 here so i'll say i'd like to have a",
    "start": "573920",
    "end": "575680"
  },
  {
    "text": "minimum of two instances just to show",
    "start": "575680",
    "end": "578320"
  },
  {
    "text": "how it how good to play works",
    "start": "578320",
    "end": "580959"
  },
  {
    "text": "and i won't bother setting up any",
    "start": "580959",
    "end": "583200"
  },
  {
    "text": "scaling policies or whatnot i'll just",
    "start": "583200",
    "end": "585040"
  },
  {
    "text": "leave it at two",
    "start": "585040",
    "end": "587680"
  },
  {
    "text": "now this is all where you could",
    "start": "587680",
    "end": "589680"
  },
  {
    "text": "optionally configure any kind of",
    "start": "589680",
    "end": "590800"
  },
  {
    "text": "notifications if you want to receive sms",
    "start": "590800",
    "end": "592800"
  },
  {
    "text": "or email notifications when auto scaling",
    "start": "592800",
    "end": "595120"
  },
  {
    "text": "takes effect i'm going to go ahead and",
    "start": "595120",
    "end": "596720"
  },
  {
    "text": "skip this here we'll move to next",
    "start": "596720",
    "end": "599200"
  },
  {
    "text": "uh and then finally we have the chance",
    "start": "599200",
    "end": "601360"
  },
  {
    "text": "to uh to add",
    "start": "601360",
    "end": "602399"
  },
  {
    "text": "tags to our instances i'm going to go",
    "start": "602399",
    "end": "603839"
  },
  {
    "text": "ahead and add a name tag",
    "start": "603839",
    "end": "605680"
  },
  {
    "text": "to our ec2 instances and we'll call this",
    "start": "605680",
    "end": "607839"
  },
  {
    "text": "code deploy",
    "start": "607839",
    "end": "610399"
  },
  {
    "text": "demo and we'll click next here",
    "start": "610399",
    "end": "614000"
  },
  {
    "text": "and finally we just review all the",
    "start": "614000",
    "end": "615920"
  },
  {
    "text": "choices that we've made up to this point",
    "start": "615920",
    "end": "617920"
  },
  {
    "text": "and i will go ahead and click on create",
    "start": "617920",
    "end": "619600"
  },
  {
    "text": "auto scaling group",
    "start": "619600",
    "end": "622000"
  },
  {
    "text": "all right now at this point what's",
    "start": "622000",
    "end": "623440"
  },
  {
    "text": "happening is the auto scaling group is",
    "start": "623440",
    "end": "625360"
  },
  {
    "text": "creating the ec2 instances",
    "start": "625360",
    "end": "627680"
  },
  {
    "text": "that it needs to actually create rather",
    "start": "627680",
    "end": "630880"
  },
  {
    "text": "than",
    "start": "630880",
    "end": "631200"
  },
  {
    "text": "make you folks wait for this process to",
    "start": "631200",
    "end": "633680"
  },
  {
    "text": "complete i'm going to use the magic of",
    "start": "633680",
    "end": "635200"
  },
  {
    "text": "video editing",
    "start": "635200",
    "end": "636160"
  },
  {
    "text": "and i will just see you on the other",
    "start": "636160",
    "end": "637680"
  },
  {
    "text": "side after our ec2 instances have been",
    "start": "637680",
    "end": "639440"
  },
  {
    "text": "created",
    "start": "639440",
    "end": "640880"
  },
  {
    "text": "okay great so our auto scaling group has",
    "start": "640880",
    "end": "642959"
  },
  {
    "text": "kicked in and it's created the ec2",
    "start": "642959",
    "end": "645120"
  },
  {
    "text": "instances that we want to deploy our",
    "start": "645120",
    "end": "646640"
  },
  {
    "text": "application to",
    "start": "646640",
    "end": "649200"
  },
  {
    "text": "all right it's time to create our code",
    "start": "649200",
    "end": "650560"
  },
  {
    "text": "deploy application so to do that we'll",
    "start": "650560",
    "end": "652959"
  },
  {
    "text": "click on code deploy to navigate to the",
    "start": "652959",
    "end": "654800"
  },
  {
    "text": "code deploy dashboard",
    "start": "654800",
    "end": "656160"
  },
  {
    "text": "and we'll click on applications so let's",
    "start": "656160",
    "end": "659040"
  },
  {
    "text": "create one",
    "start": "659040",
    "end": "660160"
  },
  {
    "text": "and i think you know what name i'm going",
    "start": "660160",
    "end": "661839"
  },
  {
    "text": "to use for my application by this point",
    "start": "661839",
    "end": "664160"
  },
  {
    "text": "and then we get to choose the platform",
    "start": "664160",
    "end": "666480"
  },
  {
    "text": "we're going to use for our application",
    "start": "666480",
    "end": "668240"
  },
  {
    "text": "now this is a cool feature of code",
    "start": "668240",
    "end": "670480"
  },
  {
    "text": "deploy i have the ability to deploy to",
    "start": "670480",
    "end": "672399"
  },
  {
    "text": "ec2 instances or my on-premises machines",
    "start": "672399",
    "end": "675279"
  },
  {
    "text": "but it also natively supports the",
    "start": "675279",
    "end": "676880"
  },
  {
    "text": "ability to deploy to amazon elastic",
    "start": "676880",
    "end": "678720"
  },
  {
    "text": "container service ecs",
    "start": "678720",
    "end": "680880"
  },
  {
    "text": "or to aws lambda but in this case we're",
    "start": "680880",
    "end": "683200"
  },
  {
    "text": "going to stick with the windows",
    "start": "683200",
    "end": "684560"
  },
  {
    "text": "ec2 instances that we've already had our",
    "start": "684560",
    "end": "686399"
  },
  {
    "text": "auto scaling group create",
    "start": "686399",
    "end": "688079"
  },
  {
    "text": "so we'll go ahead and click create",
    "start": "688079",
    "end": "689279"
  },
  {
    "text": "application and then next",
    "start": "689279",
    "end": "691760"
  },
  {
    "text": "it's going to ask us to create a",
    "start": "691760",
    "end": "693200"
  },
  {
    "text": "deployment group so let's go ahead and",
    "start": "693200",
    "end": "694959"
  },
  {
    "text": "do that",
    "start": "694959",
    "end": "696880"
  },
  {
    "text": "so next we'll want a deployment group",
    "start": "696880",
    "end": "698720"
  },
  {
    "text": "name and i think we know what i'm going",
    "start": "698720",
    "end": "700640"
  },
  {
    "text": "to use",
    "start": "700640",
    "end": "701680"
  },
  {
    "text": "and then next it's going to ask us for a",
    "start": "701680",
    "end": "703360"
  },
  {
    "text": "service role and this is actually",
    "start": "703360",
    "end": "705040"
  },
  {
    "text": "i forgot to mention this in the",
    "start": "705040",
    "end": "706320"
  },
  {
    "text": "prerequisites so let's go ahead and take",
    "start": "706320",
    "end": "707839"
  },
  {
    "text": "care of this",
    "start": "707839",
    "end": "708720"
  },
  {
    "text": "in order for code deploy to work it's",
    "start": "708720",
    "end": "710639"
  },
  {
    "text": "got to have a service role that grants",
    "start": "710639",
    "end": "712240"
  },
  {
    "text": "it access to invoke the code deploy apis",
    "start": "712240",
    "end": "714880"
  },
  {
    "text": "so let's go ahead and we'll navigate to",
    "start": "714880",
    "end": "717120"
  },
  {
    "text": "identity and access management",
    "start": "717120",
    "end": "719200"
  },
  {
    "text": "and we'll create a service role for code",
    "start": "719200",
    "end": "721120"
  },
  {
    "text": "deploy so we'll click on roles",
    "start": "721120",
    "end": "723519"
  },
  {
    "text": "we'll create a new role and instead of",
    "start": "723519",
    "end": "726240"
  },
  {
    "text": "ec2 like we did for the instance profile",
    "start": "726240",
    "end": "728079"
  },
  {
    "text": "we'll scroll down and we'll go to code",
    "start": "728079",
    "end": "730079"
  },
  {
    "text": "deploy and then it's going to give us",
    "start": "730079",
    "end": "731760"
  },
  {
    "text": "what our options are here now in this",
    "start": "731760",
    "end": "733200"
  },
  {
    "text": "case i'll just choose the vanilla code",
    "start": "733200",
    "end": "734880"
  },
  {
    "text": "deploy you'll notice that there are two",
    "start": "734880",
    "end": "736320"
  },
  {
    "text": "other service roles one for ecs and one",
    "start": "736320",
    "end": "738160"
  },
  {
    "text": "for lambda",
    "start": "738160",
    "end": "739120"
  },
  {
    "text": "in this case i'm deploying to ec2 so",
    "start": "739120",
    "end": "741279"
  },
  {
    "text": "i'll just choose the original next it",
    "start": "741279",
    "end": "744240"
  },
  {
    "text": "will prompt us for permissions and it'll",
    "start": "744240",
    "end": "745839"
  },
  {
    "text": "already have the aws code deploy",
    "start": "745839",
    "end": "748160"
  },
  {
    "text": "managed policy attached to it because it",
    "start": "748160",
    "end": "750399"
  },
  {
    "text": "is a code deploy role",
    "start": "750399",
    "end": "752240"
  },
  {
    "text": "i'm going to skip the tags there's",
    "start": "752240",
    "end": "753519"
  },
  {
    "text": "nothing i want to add here but then",
    "start": "753519",
    "end": "754880"
  },
  {
    "text": "finally i'll have to give it a role name",
    "start": "754880",
    "end": "756800"
  },
  {
    "text": "so we'll call this code deploy service",
    "start": "756800",
    "end": "759920"
  },
  {
    "text": "role",
    "start": "759920",
    "end": "761839"
  },
  {
    "text": "and i'll leave the description as it is",
    "start": "761839",
    "end": "763839"
  },
  {
    "text": "so let's go ahead and click on create",
    "start": "763839",
    "end": "765279"
  },
  {
    "text": "role",
    "start": "765279",
    "end": "767360"
  },
  {
    "text": "and great now we have our new service",
    "start": "767360",
    "end": "769120"
  },
  {
    "text": "rule defined so let's go back to the",
    "start": "769120",
    "end": "771279"
  },
  {
    "text": "code deploy console",
    "start": "771279",
    "end": "772800"
  },
  {
    "text": "and what i'll need to do is just kind of",
    "start": "772800",
    "end": "774399"
  },
  {
    "text": "recycle the page here so it'll refresh",
    "start": "774399",
    "end": "776320"
  },
  {
    "text": "so i'll click",
    "start": "776320",
    "end": "777279"
  },
  {
    "text": "create deployment group again and now",
    "start": "777279",
    "end": "780079"
  },
  {
    "text": "i'll get to go ahead and choose our",
    "start": "780079",
    "end": "781360"
  },
  {
    "text": "asp.net core demo for the deployment",
    "start": "781360",
    "end": "782959"
  },
  {
    "text": "group",
    "start": "782959",
    "end": "783440"
  },
  {
    "text": "but now when we choose service role our",
    "start": "783440",
    "end": "785600"
  },
  {
    "text": "brand shiny new",
    "start": "785600",
    "end": "786880"
  },
  {
    "text": "code deploy service role is available to",
    "start": "786880",
    "end": "788720"
  },
  {
    "text": "us next",
    "start": "788720",
    "end": "790079"
  },
  {
    "text": "it's going to ask us what deployment",
    "start": "790079",
    "end": "791680"
  },
  {
    "text": "type we want to use for code deploy",
    "start": "791680",
    "end": "794160"
  },
  {
    "text": "now we're only going to cover the in",
    "start": "794160",
    "end": "796000"
  },
  {
    "text": "place on this video but i will be",
    "start": "796000",
    "end": "798160"
  },
  {
    "text": "recording another video that",
    "start": "798160",
    "end": "799360"
  },
  {
    "text": "demonstrates how it works for blue green",
    "start": "799360",
    "end": "801120"
  },
  {
    "text": "deployments",
    "start": "801120",
    "end": "802079"
  },
  {
    "text": "so let's explain a little bit what",
    "start": "802079",
    "end": "803920"
  },
  {
    "text": "in-place deployment does",
    "start": "803920",
    "end": "805279"
  },
  {
    "text": "what this means is if you have an ec2",
    "start": "805279",
    "end": "807279"
  },
  {
    "text": "instance it will",
    "start": "807279",
    "end": "808639"
  },
  {
    "text": "deploy your application to that instance",
    "start": "808639",
    "end": "811120"
  },
  {
    "text": "and as you deliver new application",
    "start": "811120",
    "end": "812959"
  },
  {
    "text": "revisions",
    "start": "812959",
    "end": "814079"
  },
  {
    "text": "what code deploy will do is uninstall",
    "start": "814079",
    "end": "816480"
  },
  {
    "text": "the previous version of the application",
    "start": "816480",
    "end": "818160"
  },
  {
    "text": "from that instance and install",
    "start": "818160",
    "end": "819760"
  },
  {
    "text": "the new version to that and so what",
    "start": "819760",
    "end": "821920"
  },
  {
    "text": "it'll effectively be doing is recycling",
    "start": "821920",
    "end": "823920"
  },
  {
    "text": "those ec2 instances whereas what blue",
    "start": "823920",
    "end": "826480"
  },
  {
    "text": "green will do",
    "start": "826480",
    "end": "827360"
  },
  {
    "text": "is it'll spin up brand new machines that",
    "start": "827360",
    "end": "829360"
  },
  {
    "text": "have never had the application installed",
    "start": "829360",
    "end": "830880"
  },
  {
    "text": "on them and install",
    "start": "830880",
    "end": "832000"
  },
  {
    "text": "the application to that uh depending on",
    "start": "832000",
    "end": "834880"
  },
  {
    "text": "how you'd like to configure things you",
    "start": "834880",
    "end": "836399"
  },
  {
    "text": "may choose one of the other but again",
    "start": "836399",
    "end": "838000"
  },
  {
    "text": "for this one we're going to go ahead and",
    "start": "838000",
    "end": "839279"
  },
  {
    "text": "just recycle existing instances with the",
    "start": "839279",
    "end": "841199"
  },
  {
    "text": "in place",
    "start": "841199",
    "end": "843120"
  },
  {
    "text": "next it's going to ask how i select the",
    "start": "843120",
    "end": "845600"
  },
  {
    "text": "set of ec2 instances i want to deploy to",
    "start": "845600",
    "end": "848160"
  },
  {
    "text": "in my case i've already defined an auto",
    "start": "848160",
    "end": "849839"
  },
  {
    "text": "scaling group so i'll go ahead and",
    "start": "849839",
    "end": "851440"
  },
  {
    "text": "choose ec2 auto scaling group",
    "start": "851440",
    "end": "853680"
  },
  {
    "text": "and it then prompts me to select which",
    "start": "853680",
    "end": "855920"
  },
  {
    "text": "auto scaling group i'm going to use",
    "start": "855920",
    "end": "857519"
  },
  {
    "text": "in this case i'll choose the asp.net",
    "start": "857519",
    "end": "859360"
  },
  {
    "text": "core demo one that we created earlier",
    "start": "859360",
    "end": "861519"
  },
  {
    "text": "and next it'll ask me for the deployment",
    "start": "861519",
    "end": "864399"
  },
  {
    "text": "settings now this is another",
    "start": "864399",
    "end": "865920"
  },
  {
    "text": "really interesting feature of code",
    "start": "865920",
    "end": "867440"
  },
  {
    "text": "deploy you'll notice by default",
    "start": "867440",
    "end": "869440"
  },
  {
    "text": "it's going to deploy to all the machines",
    "start": "869440",
    "end": "871360"
  },
  {
    "text": "all at one time",
    "start": "871360",
    "end": "872800"
  },
  {
    "text": "that's certainly the fastest way to",
    "start": "872800",
    "end": "874560"
  },
  {
    "text": "deploy your applications to a fleet of",
    "start": "874560",
    "end": "876320"
  },
  {
    "text": "ec2 instances however that can",
    "start": "876320",
    "end": "878399"
  },
  {
    "text": "involve downtime because what it will do",
    "start": "878399",
    "end": "880800"
  },
  {
    "text": "is uninstall",
    "start": "880800",
    "end": "881920"
  },
  {
    "text": "any previous revision from the boxes and",
    "start": "881920",
    "end": "884399"
  },
  {
    "text": "then install the new one",
    "start": "884399",
    "end": "885760"
  },
  {
    "text": "and that does mean that there is a",
    "start": "885760",
    "end": "887040"
  },
  {
    "text": "potential for a period of time where",
    "start": "887040",
    "end": "889120"
  },
  {
    "text": "none",
    "start": "889120",
    "end": "889600"
  },
  {
    "text": "of your application servers have the",
    "start": "889600",
    "end": "891199"
  },
  {
    "text": "application installed after the it has",
    "start": "891199",
    "end": "893199"
  },
  {
    "text": "been",
    "start": "893199",
    "end": "893519"
  },
  {
    "text": "uninstalled if you'd like to have it to",
    "start": "893519",
    "end": "896160"
  },
  {
    "text": "where some of your machines still have a",
    "start": "896160",
    "end": "897920"
  },
  {
    "text": "revision up and running",
    "start": "897920",
    "end": "899600"
  },
  {
    "text": "during the deployment process then what",
    "start": "899600",
    "end": "901680"
  },
  {
    "text": "you want to choose is either the one at",
    "start": "901680",
    "end": "903199"
  },
  {
    "text": "a time or half at a time and those are",
    "start": "903199",
    "end": "905120"
  },
  {
    "text": "you know as advertised one at a time",
    "start": "905120",
    "end": "907440"
  },
  {
    "text": "we'll install the application",
    "start": "907440",
    "end": "908880"
  },
  {
    "text": "at most to a single machine at any given",
    "start": "908880",
    "end": "911120"
  },
  {
    "text": "time and then half the time",
    "start": "911120",
    "end": "913199"
  },
  {
    "text": "we'll deploy it to half of the instances",
    "start": "913199",
    "end": "915360"
  },
  {
    "text": "that you've specified",
    "start": "915360",
    "end": "916880"
  },
  {
    "text": "so the one at a time is the most",
    "start": "916880",
    "end": "919120"
  },
  {
    "text": "conservative but it will take longer",
    "start": "919120",
    "end": "920720"
  },
  {
    "text": "because it'll have to cycle through each",
    "start": "920720",
    "end": "922240"
  },
  {
    "text": "machine at one at a time",
    "start": "922240",
    "end": "923839"
  },
  {
    "text": "whereas half at a time we'll do it as a",
    "start": "923839",
    "end": "925440"
  },
  {
    "text": "50 50 process",
    "start": "925440",
    "end": "926959"
  },
  {
    "text": "i'll go ahead and choose one at a time",
    "start": "926959",
    "end": "929279"
  },
  {
    "text": "in my case the auto scaling group was",
    "start": "929279",
    "end": "930880"
  },
  {
    "text": "set for two so one at a time and half at",
    "start": "930880",
    "end": "932639"
  },
  {
    "text": "a time really are exactly the same",
    "start": "932639",
    "end": "934720"
  },
  {
    "text": "but we'll go ahead and choose that",
    "start": "934720",
    "end": "937199"
  },
  {
    "text": "finally",
    "start": "937199",
    "end": "937920"
  },
  {
    "text": "it's going to ask me if i'm if i have a",
    "start": "937920",
    "end": "939839"
  },
  {
    "text": "load balancer attached to these this is",
    "start": "939839",
    "end": "941839"
  },
  {
    "text": "another",
    "start": "941839",
    "end": "942320"
  },
  {
    "text": "really powerful feature of code deploy",
    "start": "942320",
    "end": "944399"
  },
  {
    "text": "it's aware of load balancing and what it",
    "start": "944399",
    "end": "946240"
  },
  {
    "text": "can do is remove an instance from a load",
    "start": "946240",
    "end": "948399"
  },
  {
    "text": "balancer's target group so that there",
    "start": "948399",
    "end": "950240"
  },
  {
    "text": "aren't any false negative",
    "start": "950240",
    "end": "951519"
  },
  {
    "text": "health checks uh in and so what i'll do",
    "start": "951519",
    "end": "954240"
  },
  {
    "text": "here is i'll go ahead and choose the",
    "start": "954240",
    "end": "955680"
  },
  {
    "text": "asp.net core demo",
    "start": "955680",
    "end": "957199"
  },
  {
    "text": "target group that i've already defined",
    "start": "957199",
    "end": "959600"
  },
  {
    "text": "and now we're ready to create our",
    "start": "959600",
    "end": "960639"
  },
  {
    "text": "deployment group",
    "start": "960639",
    "end": "963279"
  },
  {
    "text": "okay great so we have our deployment",
    "start": "963600",
    "end": "965199"
  },
  {
    "text": "group now it's time for us to create an",
    "start": "965199",
    "end": "967040"
  },
  {
    "text": "application revision",
    "start": "967040",
    "end": "968000"
  },
  {
    "text": "so we can deploy it to these servers all",
    "start": "968000",
    "end": "970959"
  },
  {
    "text": "right so let's create our application",
    "start": "970959",
    "end": "972560"
  },
  {
    "text": "revision for deployment",
    "start": "972560",
    "end": "974079"
  },
  {
    "text": "so we're back in our asp.net application",
    "start": "974079",
    "end": "976800"
  },
  {
    "text": "and",
    "start": "976800",
    "end": "977600"
  },
  {
    "text": "if you look here i've taken the liberty",
    "start": "977600",
    "end": "979680"
  },
  {
    "text": "of already building",
    "start": "979680",
    "end": "981120"
  },
  {
    "text": "the necessary infrastructure to deploy",
    "start": "981120",
    "end": "983040"
  },
  {
    "text": "our application in the interest of time",
    "start": "983040",
    "end": "985360"
  },
  {
    "text": "now what code deploy expects is at the",
    "start": "985360",
    "end": "987839"
  },
  {
    "text": "root of the zip file which is your",
    "start": "987839",
    "end": "989440"
  },
  {
    "text": "application revision",
    "start": "989440",
    "end": "990720"
  },
  {
    "text": "there will be a special file called",
    "start": "990720",
    "end": "992519"
  },
  {
    "text": "appspec.yaml this is a yaml file that",
    "start": "992519",
    "end": "994800"
  },
  {
    "text": "includes the instructions",
    "start": "994800",
    "end": "996000"
  },
  {
    "text": "needed to deploy your application to",
    "start": "996000",
    "end": "998079"
  },
  {
    "text": "your instances",
    "start": "998079",
    "end": "999600"
  },
  {
    "text": "and in this case what you do is i've",
    "start": "999600",
    "end": "1001680"
  },
  {
    "text": "specified that this is for the",
    "start": "1001680",
    "end": "1003279"
  },
  {
    "text": "windows operating system you can",
    "start": "1003279",
    "end": "1004800"
  },
  {
    "text": "alternately specify linux",
    "start": "1004800",
    "end": "1007199"
  },
  {
    "text": "and then what i'm telling it is you know",
    "start": "1007199",
    "end": "1009440"
  },
  {
    "text": "where it's going to pull",
    "start": "1009440",
    "end": "1010720"
  },
  {
    "text": "the application's files from in this",
    "start": "1010720",
    "end": "1012399"
  },
  {
    "text": "case i'm going to have a",
    "start": "1012399",
    "end": "1013839"
  },
  {
    "text": "subdirectory in that zip file that's",
    "start": "1013839",
    "end": "1016000"
  },
  {
    "text": "called app",
    "start": "1016000",
    "end": "1017360"
  },
  {
    "text": "and the destination where it will",
    "start": "1017360",
    "end": "1019440"
  },
  {
    "text": "extract all the files in that app folder",
    "start": "1019440",
    "end": "1021600"
  },
  {
    "text": "too",
    "start": "1021600",
    "end": "1022079"
  },
  {
    "text": "is going to be a new folder on the",
    "start": "1022079",
    "end": "1023600"
  },
  {
    "text": "machine called app server",
    "start": "1023600",
    "end": "1025678"
  },
  {
    "text": "and then what i'll do is i'm actually",
    "start": "1025679",
    "end": "1028640"
  },
  {
    "text": "hooking",
    "start": "1028640",
    "end": "1029280"
  },
  {
    "text": "lifecycle events in the deployment",
    "start": "1029280",
    "end": "1031280"
  },
  {
    "text": "process so",
    "start": "1031280",
    "end": "1032640"
  },
  {
    "text": "i've got a before install where i'm",
    "start": "1032640",
    "end": "1034640"
  },
  {
    "text": "going to install the.net runtime",
    "start": "1034640",
    "end": "1036880"
  },
  {
    "text": "i've got application stop this is the",
    "start": "1036880",
    "end": "1038959"
  },
  {
    "text": "script that gets called if you ever",
    "start": "1038959",
    "end": "1040640"
  },
  {
    "text": "remove",
    "start": "1040640",
    "end": "1041280"
  },
  {
    "text": "the application in preparation to",
    "start": "1041280",
    "end": "1043120"
  },
  {
    "text": "install a new revision onto the machine",
    "start": "1043120",
    "end": "1046558"
  },
  {
    "text": "after install which really means after",
    "start": "1046559",
    "end": "1048960"
  },
  {
    "text": "it copies the files",
    "start": "1048960",
    "end": "1050640"
  },
  {
    "text": "i'm going to have it register a windows",
    "start": "1050640",
    "end": "1052720"
  },
  {
    "text": "service on the machine because after all",
    "start": "1052720",
    "end": "1054400"
  },
  {
    "text": "i want my application to boot to run",
    "start": "1054400",
    "end": "1056559"
  },
  {
    "text": "when the when the machine when the",
    "start": "1056559",
    "end": "1057840"
  },
  {
    "text": "machine boots and then",
    "start": "1057840",
    "end": "1060080"
  },
  {
    "text": "i'm hooking the application start event",
    "start": "1060080",
    "end": "1062559"
  },
  {
    "text": "and what i'm doing here is i'm actually",
    "start": "1062559",
    "end": "1064000"
  },
  {
    "text": "starting the windows service",
    "start": "1064000",
    "end": "1065360"
  },
  {
    "text": "and then finally there's a life cycle",
    "start": "1065360",
    "end": "1067600"
  },
  {
    "text": "event called validate service",
    "start": "1067600",
    "end": "1069440"
  },
  {
    "text": "this is a really important life cycle",
    "start": "1069440",
    "end": "1071200"
  },
  {
    "text": "hook because this is what allows you to",
    "start": "1071200",
    "end": "1073200"
  },
  {
    "text": "cause the deployment to fail",
    "start": "1073200",
    "end": "1075039"
  },
  {
    "text": "if your test doesn't pass so it's a it's",
    "start": "1075039",
    "end": "1077760"
  },
  {
    "text": "a safety check",
    "start": "1077760",
    "end": "1078720"
  },
  {
    "text": "for you to ensure that you know your",
    "start": "1078720",
    "end": "1080559"
  },
  {
    "text": "application's actually properly up and",
    "start": "1080559",
    "end": "1082240"
  },
  {
    "text": "running and not giving you a false",
    "start": "1082240",
    "end": "1083600"
  },
  {
    "text": "positive on the install",
    "start": "1083600",
    "end": "1085360"
  },
  {
    "text": "so let's take a look at what these",
    "start": "1085360",
    "end": "1086640"
  },
  {
    "text": "scripts look like so you'll notice",
    "start": "1086640",
    "end": "1088000"
  },
  {
    "text": "they're all ps1 scripts you get for",
    "start": "1088000",
    "end": "1089919"
  },
  {
    "text": "windows machines",
    "start": "1089919",
    "end": "1090880"
  },
  {
    "text": "you can either use batch files or",
    "start": "1090880",
    "end": "1092960"
  },
  {
    "text": "powershell scripts",
    "start": "1092960",
    "end": "1094720"
  },
  {
    "text": "and if we actually look at the scripts",
    "start": "1094720",
    "end": "1096080"
  },
  {
    "text": "themselves in order",
    "start": "1096080",
    "end": "1097760"
  },
  {
    "text": "we'll look at install.net so this is",
    "start": "1097760",
    "end": "1100480"
  },
  {
    "text": "simply a powershell script that will",
    "start": "1100480",
    "end": "1102559"
  },
  {
    "text": "download the latest version of the",
    "start": "1102559",
    "end": "1104160"
  },
  {
    "text": "dotnet runtime from microsoft at the",
    "start": "1104160",
    "end": "1106240"
  },
  {
    "text": "time of recording this video that's",
    "start": "1106240",
    "end": "1108280"
  },
  {
    "text": "3.1.6",
    "start": "1108280",
    "end": "1110000"
  },
  {
    "text": "i'm checking to see if i've got that",
    "start": "1110000",
    "end": "1112559"
  },
  {
    "text": "version installed on the local machine",
    "start": "1112559",
    "end": "1114960"
  },
  {
    "text": "if it isn't already installed then i",
    "start": "1114960",
    "end": "1116880"
  },
  {
    "text": "will download it from microsoft's",
    "start": "1116880",
    "end": "1118880"
  },
  {
    "text": "website",
    "start": "1118880",
    "end": "1119440"
  },
  {
    "text": "and then i will invoke the installer",
    "start": "1119440",
    "end": "1122640"
  },
  {
    "text": "and i'm just telling the start process",
    "start": "1122640",
    "end": "1125120"
  },
  {
    "text": "commandlet to wait",
    "start": "1125120",
    "end": "1126480"
  },
  {
    "text": "for the complete installation of it",
    "start": "1126480",
    "end": "1128240"
  },
  {
    "text": "before it does anything else",
    "start": "1128240",
    "end": "1131440"
  },
  {
    "text": "once it verifies that the asp.net",
    "start": "1131440",
    "end": "1133440"
  },
  {
    "text": "runtime is installed in the box",
    "start": "1133440",
    "end": "1135679"
  },
  {
    "text": "then to actually install the application",
    "start": "1135679",
    "end": "1138080"
  },
  {
    "text": "let's go ahead and move on to after",
    "start": "1138080",
    "end": "1139600"
  },
  {
    "text": "install we'll take a look at application",
    "start": "1139600",
    "end": "1141120"
  },
  {
    "text": "stop in just a moment",
    "start": "1141120",
    "end": "1142640"
  },
  {
    "text": "so the after install script which is",
    "start": "1142640",
    "end": "1145600"
  },
  {
    "text": "register service",
    "start": "1145600",
    "end": "1147200"
  },
  {
    "text": "this simply creates a new windows",
    "start": "1147200",
    "end": "1149280"
  },
  {
    "text": "service i give it a name asp.net core",
    "start": "1149280",
    "end": "1151360"
  },
  {
    "text": "demo that should be pretty familiar to",
    "start": "1151360",
    "end": "1152799"
  },
  {
    "text": "you by now",
    "start": "1152799",
    "end": "1153760"
  },
  {
    "text": "i'm telling it where it'll find the",
    "start": "1153760",
    "end": "1155679"
  },
  {
    "text": "binary that my service is using and",
    "start": "1155679",
    "end": "1157679"
  },
  {
    "text": "since this is asp.net core",
    "start": "1157679",
    "end": "1159280"
  },
  {
    "text": "i'm going to specify the url that the",
    "start": "1159280",
    "end": "1161679"
  },
  {
    "text": "service is actually going to run on and",
    "start": "1161679",
    "end": "1164240"
  },
  {
    "text": "you may recall that i'm using a special",
    "start": "1164240",
    "end": "1167039"
  },
  {
    "text": "nuget package that allows me to run my",
    "start": "1167039",
    "end": "1168799"
  },
  {
    "text": "application as a service",
    "start": "1168799",
    "end": "1170480"
  },
  {
    "text": "i've actually written my application so",
    "start": "1170480",
    "end": "1172160"
  },
  {
    "text": "that when i see the dash dash",
    "start": "1172160",
    "end": "1173520"
  },
  {
    "text": "service command line switch it knows to",
    "start": "1173520",
    "end": "1176000"
  },
  {
    "text": "start as a windows service",
    "start": "1176000",
    "end": "1178720"
  },
  {
    "text": "once i've actually got the service",
    "start": "1178720",
    "end": "1180000"
  },
  {
    "text": "register on the machine then",
    "start": "1180000",
    "end": "1181760"
  },
  {
    "text": "i just go ahead and ensure that port 80",
    "start": "1181760",
    "end": "1184480"
  },
  {
    "text": "on the machine",
    "start": "1184480",
    "end": "1185360"
  },
  {
    "text": "is open so that external applications",
    "start": "1185360",
    "end": "1188000"
  },
  {
    "text": "can reach the web application",
    "start": "1188000",
    "end": "1190640"
  },
  {
    "text": "next i'll go to application start which",
    "start": "1190640",
    "end": "1192640"
  },
  {
    "text": "is start service",
    "start": "1192640",
    "end": "1194160"
  },
  {
    "text": "very simple powershell commandlet all",
    "start": "1194160",
    "end": "1195919"
  },
  {
    "text": "it's doing is just invoking start",
    "start": "1195919",
    "end": "1197600"
  },
  {
    "text": "service on the newly registered asp.net",
    "start": "1197600",
    "end": "1199919"
  },
  {
    "text": "core demo",
    "start": "1199919",
    "end": "1200640"
  },
  {
    "text": "service and then finally i've got my",
    "start": "1200640",
    "end": "1203679"
  },
  {
    "text": "validate service",
    "start": "1203679",
    "end": "1205039"
  },
  {
    "text": "and all i'm doing here is i'm calling",
    "start": "1205039",
    "end": "1206720"
  },
  {
    "text": "smoke test",
    "start": "1206720",
    "end": "1208159"
  },
  {
    "text": "and this smoke test script simply just",
    "start": "1208159",
    "end": "1210080"
  },
  {
    "text": "invokes a web request on port 80",
    "start": "1210080",
    "end": "1212240"
  },
  {
    "text": "all i'm doing is just verifying that i'm",
    "start": "1212240",
    "end": "1214080"
  },
  {
    "text": "actually responding to traffic",
    "start": "1214080",
    "end": "1215919"
  },
  {
    "text": "in practice what you're probably going",
    "start": "1215919",
    "end": "1217360"
  },
  {
    "text": "to want to do is",
    "start": "1217360",
    "end": "1218960"
  },
  {
    "text": "perhaps invoke a synthetic transaction",
    "start": "1218960",
    "end": "1221679"
  },
  {
    "text": "or something that exercises a lot more",
    "start": "1221679",
    "end": "1223360"
  },
  {
    "text": "of your application to verify that it",
    "start": "1223360",
    "end": "1224960"
  },
  {
    "text": "really properly",
    "start": "1224960",
    "end": "1225919"
  },
  {
    "text": "got installed on the machine now the",
    "start": "1225919",
    "end": "1228720"
  },
  {
    "text": "last thing i wanted to point out was the",
    "start": "1228720",
    "end": "1230080"
  },
  {
    "text": "application stop",
    "start": "1230080",
    "end": "1231039"
  },
  {
    "text": "hook we kind of blew past that here and",
    "start": "1231039",
    "end": "1233280"
  },
  {
    "text": "the reason for that",
    "start": "1233280",
    "end": "1234320"
  },
  {
    "text": "is that this actually gets invoked when",
    "start": "1234320",
    "end": "1237440"
  },
  {
    "text": "it comes time to remove",
    "start": "1237440",
    "end": "1239120"
  },
  {
    "text": "the application from the application",
    "start": "1239120",
    "end": "1240720"
  },
  {
    "text": "server and here's a really important",
    "start": "1240720",
    "end": "1242799"
  },
  {
    "text": "distinction",
    "start": "1242799",
    "end": "1244400"
  },
  {
    "text": "the application stop event is always",
    "start": "1244400",
    "end": "1246640"
  },
  {
    "text": "called on the",
    "start": "1246640",
    "end": "1248080"
  },
  {
    "text": "previous revision so i'm writing an",
    "start": "1248080",
    "end": "1251520"
  },
  {
    "text": "application stop here where i'm removing",
    "start": "1251520",
    "end": "1253600"
  },
  {
    "text": "the service",
    "start": "1253600",
    "end": "1255120"
  },
  {
    "text": "what this will actually do is it knows",
    "start": "1255120",
    "end": "1256880"
  },
  {
    "text": "how to remove the current revision of",
    "start": "1256880",
    "end": "1259039"
  },
  {
    "text": "the application",
    "start": "1259039",
    "end": "1260400"
  },
  {
    "text": "so what you don't want to do is write a",
    "start": "1260400",
    "end": "1263200"
  },
  {
    "text": "stop service that knows how to clean up",
    "start": "1263200",
    "end": "1265039"
  },
  {
    "text": "the prior version you're always",
    "start": "1265039",
    "end": "1266640"
  },
  {
    "text": "delivering",
    "start": "1266640",
    "end": "1267360"
  },
  {
    "text": "the necessary script to remove the",
    "start": "1267360",
    "end": "1269679"
  },
  {
    "text": "current revision so always keep that in",
    "start": "1269679",
    "end": "1271760"
  },
  {
    "text": "mind",
    "start": "1271760",
    "end": "1272400"
  },
  {
    "text": "if you have more than one revision",
    "start": "1272400",
    "end": "1274000"
  },
  {
    "text": "deployed to an ec2 instance the stop",
    "start": "1274000",
    "end": "1276159"
  },
  {
    "text": "service is always going to get called on",
    "start": "1276159",
    "end": "1277679"
  },
  {
    "text": "the previous package",
    "start": "1277679",
    "end": "1278720"
  },
  {
    "text": "not the package that's currently being",
    "start": "1278720",
    "end": "1280320"
  },
  {
    "text": "installed okay great",
    "start": "1280320",
    "end": "1282400"
  },
  {
    "text": "so i've got my apps back i've got my",
    "start": "1282400",
    "end": "1284159"
  },
  {
    "text": "scripts now what i want to do",
    "start": "1284159",
    "end": "1285919"
  },
  {
    "text": "is actually create the zip file which is",
    "start": "1285919",
    "end": "1288159"
  },
  {
    "text": "my application revision",
    "start": "1288159",
    "end": "1290159"
  },
  {
    "text": "and to help with that i've actually",
    "start": "1290159",
    "end": "1292000"
  },
  {
    "text": "created a powershell script called",
    "start": "1292000",
    "end": "1293679"
  },
  {
    "text": "create deployment let's go ahead and",
    "start": "1293679",
    "end": "1295440"
  },
  {
    "text": "walk through the steps of what's",
    "start": "1295440",
    "end": "1296720"
  },
  {
    "text": "actually happening this will be exactly",
    "start": "1296720",
    "end": "1298080"
  },
  {
    "text": "what you do inside your own ci cd",
    "start": "1298080",
    "end": "1300080"
  },
  {
    "text": "pipeline",
    "start": "1300080",
    "end": "1300960"
  },
  {
    "text": "so first i'm calling it publish and i'm",
    "start": "1300960",
    "end": "1303520"
  },
  {
    "text": "just telling",
    "start": "1303520",
    "end": "1304000"
  },
  {
    "text": "it that i want to use the release",
    "start": "1304000",
    "end": "1305280"
  },
  {
    "text": "configuration next",
    "start": "1305280",
    "end": "1307120"
  },
  {
    "text": "i'm creating a working folder that will",
    "start": "1307120",
    "end": "1309039"
  },
  {
    "text": "hold the contents of my application",
    "start": "1309039",
    "end": "1310960"
  },
  {
    "text": "revision because remember we're going to",
    "start": "1310960",
    "end": "1312320"
  },
  {
    "text": "zip this all up together so",
    "start": "1312320",
    "end": "1314000"
  },
  {
    "text": "i created a new folder it's called",
    "start": "1314000",
    "end": "1315520"
  },
  {
    "text": "deployment and then i'll cd into that",
    "start": "1315520",
    "end": "1317919"
  },
  {
    "text": "deployment folder",
    "start": "1317919",
    "end": "1319200"
  },
  {
    "text": "i will copy the contents of this code",
    "start": "1319200",
    "end": "1321520"
  },
  {
    "text": "deploy folder the one that has my apps",
    "start": "1321520",
    "end": "1323600"
  },
  {
    "text": "back in my",
    "start": "1323600",
    "end": "1324480"
  },
  {
    "text": "scripts for the lifecycle hooks into the",
    "start": "1324480",
    "end": "1327440"
  },
  {
    "text": "root level",
    "start": "1327440",
    "end": "1328240"
  },
  {
    "text": "of this deployment folder next i'll",
    "start": "1328240",
    "end": "1330559"
  },
  {
    "text": "ensure that i have my app",
    "start": "1330559",
    "end": "1332159"
  },
  {
    "text": "folder because after all remember my app",
    "start": "1332159",
    "end": "1333760"
  },
  {
    "text": "spec i'm telling it that i want to copy",
    "start": "1333760",
    "end": "1335600"
  },
  {
    "text": "the contents of my application from an",
    "start": "1335600",
    "end": "1337280"
  },
  {
    "text": "app subfolder",
    "start": "1337280",
    "end": "1338799"
  },
  {
    "text": "then i'm copying everything that got",
    "start": "1338799",
    "end": "1340559"
  },
  {
    "text": "built into the publish folder into that",
    "start": "1340559",
    "end": "1342640"
  },
  {
    "text": "new",
    "start": "1342640",
    "end": "1343039"
  },
  {
    "text": "app subfolder and then finally i'm just",
    "start": "1343039",
    "end": "1345039"
  },
  {
    "text": "ensuring that if i had a previous",
    "start": "1345039",
    "end": "1346720"
  },
  {
    "text": "version of the zip file i want to blow",
    "start": "1346720",
    "end": "1348080"
  },
  {
    "text": "it away because i want to make sure it's",
    "start": "1348080",
    "end": "1349600"
  },
  {
    "text": "a",
    "start": "1349600",
    "end": "1350000"
  },
  {
    "text": "clean file and then i'm using the",
    "start": "1350000",
    "end": "1352080"
  },
  {
    "text": "compress archive commandlet",
    "start": "1352080",
    "end": "1353679"
  },
  {
    "text": "to actually zip everything together all",
    "start": "1353679",
    "end": "1356080"
  },
  {
    "text": "right so let's go ahead and execute the",
    "start": "1356080",
    "end": "1358000"
  },
  {
    "text": "script",
    "start": "1358000",
    "end": "1358960"
  },
  {
    "text": "so we'll call createdeployment.ps1 and",
    "start": "1358960",
    "end": "1362240"
  },
  {
    "text": "what this is doing now",
    "start": "1362240",
    "end": "1363440"
  },
  {
    "text": "is generating a build of my application",
    "start": "1363440",
    "end": "1367120"
  },
  {
    "text": "and then it is zipping everything up",
    "start": "1367120",
    "end": "1369200"
  },
  {
    "text": "into a new zip file",
    "start": "1369200",
    "end": "1371120"
  },
  {
    "text": "and once the archival process is",
    "start": "1371120",
    "end": "1373520"
  },
  {
    "text": "complete we'll just uh",
    "start": "1373520",
    "end": "1375200"
  },
  {
    "text": "crack this open inside explorer just so",
    "start": "1375200",
    "end": "1376960"
  },
  {
    "text": "we can take a look at what the contents",
    "start": "1376960",
    "end": "1378320"
  },
  {
    "text": "of this file looks like so we'll look at",
    "start": "1378320",
    "end": "1380919"
  },
  {
    "text": "deploymentdeployment.zip",
    "start": "1380919",
    "end": "1382400"
  },
  {
    "text": "and as you can see i've got that",
    "start": "1382400",
    "end": "1384080"
  },
  {
    "text": "appspace.yaml it's at the root of the",
    "start": "1384080",
    "end": "1386159"
  },
  {
    "text": "folder",
    "start": "1386159",
    "end": "1386720"
  },
  {
    "text": "of the zip file because remember because",
    "start": "1386720",
    "end": "1388400"
  },
  {
    "text": "deploy must see this file at the very",
    "start": "1388400",
    "end": "1390400"
  },
  {
    "text": "base of your zip file i've got the",
    "start": "1390400",
    "end": "1392320"
  },
  {
    "text": "scripts that includes all the lifecycle",
    "start": "1392320",
    "end": "1393919"
  },
  {
    "text": "hooks",
    "start": "1393919",
    "end": "1394400"
  },
  {
    "text": "that i'm using to actually register the",
    "start": "1394400",
    "end": "1396240"
  },
  {
    "text": "application and to",
    "start": "1396240",
    "end": "1397440"
  },
  {
    "text": "smoke test it and then finally i've got",
    "start": "1397440",
    "end": "1399919"
  },
  {
    "text": "the contents of my publish folder",
    "start": "1399919",
    "end": "1402080"
  },
  {
    "text": "to just deliver the actual binaries of",
    "start": "1402080",
    "end": "1404159"
  },
  {
    "text": "the application",
    "start": "1404159",
    "end": "1405600"
  },
  {
    "text": "okay so now it's time for us to actually",
    "start": "1405600",
    "end": "1408640"
  },
  {
    "text": "deliver this to code deploy",
    "start": "1408640",
    "end": "1411919"
  },
  {
    "text": "all right so let's actually deliver this",
    "start": "1411919",
    "end": "1414559"
  },
  {
    "text": "application revision to our code deploy",
    "start": "1414559",
    "end": "1416559"
  },
  {
    "text": "application",
    "start": "1416559",
    "end": "1417360"
  },
  {
    "text": "now code deploy expects the application",
    "start": "1417360",
    "end": "1419919"
  },
  {
    "text": "revision to come",
    "start": "1419919",
    "end": "1421039"
  },
  {
    "text": "from an s3 bucket so let's go ahead and",
    "start": "1421039",
    "end": "1422880"
  },
  {
    "text": "create an s3 bucket that'll host",
    "start": "1422880",
    "end": "1424640"
  },
  {
    "text": "the revisions we're going to deliver so",
    "start": "1424640",
    "end": "1427039"
  },
  {
    "text": "we'll navigate to s3",
    "start": "1427039",
    "end": "1430400"
  },
  {
    "text": "and we'll click on create bucket and",
    "start": "1430400",
    "end": "1433760"
  },
  {
    "text": "we are going to go ahead and create",
    "start": "1433760",
    "end": "1436880"
  },
  {
    "text": "a bucket for the application revisions",
    "start": "1436880",
    "end": "1440159"
  },
  {
    "text": "and we'll click next",
    "start": "1440159",
    "end": "1443200"
  },
  {
    "text": "and that's all we're going to really",
    "start": "1443440",
    "end": "1445279"
  },
  {
    "text": "need to set we don't need to set public",
    "start": "1445279",
    "end": "1446799"
  },
  {
    "text": "access or anything like that so we'll go",
    "start": "1446799",
    "end": "1448559"
  },
  {
    "text": "ahead and click next and create bucket",
    "start": "1448559",
    "end": "1450720"
  },
  {
    "text": "and now we have a place to actually host",
    "start": "1450720",
    "end": "1452559"
  },
  {
    "text": "our application revisions",
    "start": "1452559",
    "end": "1454080"
  },
  {
    "text": "so let's navigate to our asp.net core",
    "start": "1454080",
    "end": "1456640"
  },
  {
    "text": "demo bucket",
    "start": "1456640",
    "end": "1457600"
  },
  {
    "text": "and we're going to upload our deployment",
    "start": "1457600",
    "end": "1460000"
  },
  {
    "text": "file",
    "start": "1460000",
    "end": "1460640"
  },
  {
    "text": "so i'm going to navigate to the",
    "start": "1460640",
    "end": "1464159"
  },
  {
    "text": "folder that's actually got my",
    "start": "1464159",
    "end": "1467279"
  },
  {
    "text": "there we go asp.net core deployment",
    "start": "1467279",
    "end": "1468960"
  },
  {
    "text": "samples deployment",
    "start": "1468960",
    "end": "1471440"
  },
  {
    "text": "zip and i'll go ahead and click on the",
    "start": "1471440",
    "end": "1474480"
  },
  {
    "text": "upload button",
    "start": "1474480",
    "end": "1477120"
  },
  {
    "text": "and in just a moment my revision will be",
    "start": "1477840",
    "end": "1480480"
  },
  {
    "text": "ready to deploy to code okay great",
    "start": "1480480",
    "end": "1482880"
  },
  {
    "text": "so let's go ahead and click on services",
    "start": "1482880",
    "end": "1485200"
  },
  {
    "text": "and we'll navigate to code deploy",
    "start": "1485200",
    "end": "1488559"
  },
  {
    "text": "we will find our application we'll click",
    "start": "1489039",
    "end": "1492159"
  },
  {
    "text": "on asp.net core demo",
    "start": "1492159",
    "end": "1494000"
  },
  {
    "text": "we'll click on the deployments tab and",
    "start": "1494000",
    "end": "1496320"
  },
  {
    "text": "what we're going to do",
    "start": "1496320",
    "end": "1497039"
  },
  {
    "text": "is we're going to create a new",
    "start": "1497039",
    "end": "1498240"
  },
  {
    "text": "deployment using this revision so",
    "start": "1498240",
    "end": "1500799"
  },
  {
    "text": "it's going to ask us what deployment",
    "start": "1500799",
    "end": "1502159"
  },
  {
    "text": "group we're going to deploy this to",
    "start": "1502159",
    "end": "1503360"
  },
  {
    "text": "we're going to choose our asp.net core",
    "start": "1503360",
    "end": "1504880"
  },
  {
    "text": "demo deployment group",
    "start": "1504880",
    "end": "1506559"
  },
  {
    "text": "and then it's going to ask where our",
    "start": "1506559",
    "end": "1508559"
  },
  {
    "text": "application revision is",
    "start": "1508559",
    "end": "1509919"
  },
  {
    "text": "so we're going to tell it that it's in",
    "start": "1509919",
    "end": "1511600"
  },
  {
    "text": "an s3 bucket it's asp.net",
    "start": "1511600",
    "end": "1514000"
  },
  {
    "text": "core demo and then it needs to know what",
    "start": "1514000",
    "end": "1517679"
  },
  {
    "text": "the actual key",
    "start": "1517679",
    "end": "1518640"
  },
  {
    "text": "is so it's deployment.zip",
    "start": "1518640",
    "end": "1522080"
  },
  {
    "text": "and then it asks for like an optional",
    "start": "1522080",
    "end": "1523520"
  },
  {
    "text": "deployment i'll just call this something",
    "start": "1523520",
    "end": "1524799"
  },
  {
    "text": "like first",
    "start": "1524799",
    "end": "1525440"
  },
  {
    "text": "deployment if i could spell",
    "start": "1525440",
    "end": "1529840"
  },
  {
    "text": "next it's going to ask for some",
    "start": "1530559",
    "end": "1531760"
  },
  {
    "text": "additional deployment you know behavior",
    "start": "1531760",
    "end": "1533679"
  },
  {
    "text": "settings so uh",
    "start": "1533679",
    "end": "1534799"
  },
  {
    "text": "i can have it you know i specify any",
    "start": "1534799",
    "end": "1536720"
  },
  {
    "text": "kind of event",
    "start": "1536720",
    "end": "1537840"
  },
  {
    "text": "failure rules on you know whether or not",
    "start": "1537840",
    "end": "1540559"
  },
  {
    "text": "the overall deployment is going to fail",
    "start": "1540559",
    "end": "1542720"
  },
  {
    "text": "or if something what to do if it tries",
    "start": "1542720",
    "end": "1546240"
  },
  {
    "text": "to unzip the contents of the file and",
    "start": "1546240",
    "end": "1547840"
  },
  {
    "text": "their existing files already on the box",
    "start": "1547840",
    "end": "1550240"
  },
  {
    "text": "in this case i'm going to go ahead and",
    "start": "1550240",
    "end": "1551440"
  },
  {
    "text": "stick with the default configuration for",
    "start": "1551440",
    "end": "1553279"
  },
  {
    "text": "my deployment so i'm going to go ahead",
    "start": "1553279",
    "end": "1554559"
  },
  {
    "text": "and click on create deployment",
    "start": "1554559",
    "end": "1557120"
  },
  {
    "text": "and now what actually happened is i've",
    "start": "1557120",
    "end": "1559120"
  },
  {
    "text": "now got a new",
    "start": "1559120",
    "end": "1560240"
  },
  {
    "text": "deployment id and what's happening is",
    "start": "1560240",
    "end": "1563600"
  },
  {
    "text": "the cloud deploy agent",
    "start": "1563600",
    "end": "1565120"
  },
  {
    "text": "on the instances on the two instances",
    "start": "1565120",
    "end": "1567039"
  },
  {
    "text": "that i've created with my auto scaling",
    "start": "1567039",
    "end": "1568559"
  },
  {
    "text": "group",
    "start": "1568559",
    "end": "1569120"
  },
  {
    "text": "they're informed that there's a new",
    "start": "1569120",
    "end": "1570640"
  },
  {
    "text": "application revision to be",
    "start": "1570640",
    "end": "1572159"
  },
  {
    "text": "installed on the machines now if we look",
    "start": "1572159",
    "end": "1574400"
  },
  {
    "text": "down here what we'll see",
    "start": "1574400",
    "end": "1576080"
  },
  {
    "text": "is because i selected the one at a time",
    "start": "1576080",
    "end": "1578720"
  },
  {
    "text": "deployment",
    "start": "1578720",
    "end": "1579520"
  },
  {
    "text": "is currently deploying the application",
    "start": "1579520",
    "end": "1581840"
  },
  {
    "text": "to one of my instances at a time",
    "start": "1581840",
    "end": "1584799"
  },
  {
    "text": "now i'm not going to make you sit here",
    "start": "1584799",
    "end": "1587120"
  },
  {
    "text": "and wait for the full deployment to",
    "start": "1587120",
    "end": "1589039"
  },
  {
    "text": "actually complete",
    "start": "1589039",
    "end": "1589919"
  },
  {
    "text": "so i'm going to use the magic of video",
    "start": "1589919",
    "end": "1591520"
  },
  {
    "text": "editing to fast forward in time and i'll",
    "start": "1591520",
    "end": "1593919"
  },
  {
    "text": "just see",
    "start": "1593919",
    "end": "1594320"
  },
  {
    "text": "on the other side okay it's been a few",
    "start": "1594320",
    "end": "1596480"
  },
  {
    "text": "minutes and our application has finished",
    "start": "1596480",
    "end": "1598240"
  },
  {
    "text": "successfully deploying",
    "start": "1598240",
    "end": "1599600"
  },
  {
    "text": "so let's navigate to our application",
    "start": "1599600",
    "end": "1601760"
  },
  {
    "text": "load balancer and let's",
    "start": "1601760",
    "end": "1603200"
  },
  {
    "text": "verify that we can actually reach our",
    "start": "1603200",
    "end": "1604720"
  },
  {
    "text": "application so we'll go to ec2",
    "start": "1604720",
    "end": "1608320"
  },
  {
    "text": "and we'll go to load balancers",
    "start": "1608320",
    "end": "1613840"
  },
  {
    "text": "and we'll click on our asp.net core demo",
    "start": "1614720",
    "end": "1617600"
  },
  {
    "text": "and get this dns name",
    "start": "1617600",
    "end": "1619120"
  },
  {
    "text": "let's open a new tab paste this in here",
    "start": "1619120",
    "end": "1622960"
  },
  {
    "text": "and there we go there's our application",
    "start": "1622960",
    "end": "1625039"
  },
  {
    "text": "successfully deployed",
    "start": "1625039",
    "end": "1626799"
  },
  {
    "text": "all right so the last thing that i just",
    "start": "1626799",
    "end": "1628799"
  },
  {
    "text": "wanted to mention about code deploy",
    "start": "1628799",
    "end": "1631039"
  },
  {
    "text": "is that it also works very well with our",
    "start": "1631039",
    "end": "1634159"
  },
  {
    "text": "other devops services",
    "start": "1634159",
    "end": "1635520"
  },
  {
    "text": "in particular there's a service called",
    "start": "1635520",
    "end": "1637679"
  },
  {
    "text": "code pipeline",
    "start": "1637679",
    "end": "1638960"
  },
  {
    "text": "and what code pipeline is capable of",
    "start": "1638960",
    "end": "1640720"
  },
  {
    "text": "doing is building a cicd pipeline that",
    "start": "1640720",
    "end": "1643760"
  },
  {
    "text": "can",
    "start": "1643760",
    "end": "1644399"
  },
  {
    "text": "fetch your application source can",
    "start": "1644399",
    "end": "1646240"
  },
  {
    "text": "actually build it we have a build agent",
    "start": "1646240",
    "end": "1648159"
  },
  {
    "text": "service called code build",
    "start": "1648159",
    "end": "1649679"
  },
  {
    "text": "and once it successfully built the",
    "start": "1649679",
    "end": "1651520"
  },
  {
    "text": "application and it could do the exact",
    "start": "1651520",
    "end": "1653200"
  },
  {
    "text": "same set of steps",
    "start": "1653200",
    "end": "1654000"
  },
  {
    "text": "that i did to create a deployment",
    "start": "1654000",
    "end": "1655760"
  },
  {
    "text": "package you can then invoke",
    "start": "1655760",
    "end": "1657520"
  },
  {
    "text": "code deploy to deploy your application",
    "start": "1657520",
    "end": "1660159"
  },
  {
    "text": "to your infrastructure",
    "start": "1660159",
    "end": "1662480"
  },
  {
    "text": "so what did we accomplish well hopefully",
    "start": "1662480",
    "end": "1665200"
  },
  {
    "text": "by now",
    "start": "1665200",
    "end": "1665760"
  },
  {
    "text": "you can see the code deploy is a pretty",
    "start": "1665760",
    "end": "1667360"
  },
  {
    "text": "powerful service in the portfolio of aws",
    "start": "1667360",
    "end": "1670159"
  },
  {
    "text": "devops services",
    "start": "1670159",
    "end": "1671840"
  },
  {
    "text": "and you can use it to install",
    "start": "1671840",
    "end": "1673200"
  },
  {
    "text": "applications on your ec2 or even",
    "start": "1673200",
    "end": "1675840"
  },
  {
    "text": "on-premises machines",
    "start": "1675840",
    "end": "1677600"
  },
  {
    "text": "now that's what we focused on in this",
    "start": "1677600",
    "end": "1679679"
  },
  {
    "text": "video however i should point out that",
    "start": "1679679",
    "end": "1681679"
  },
  {
    "text": "code deploy also supports deployment to",
    "start": "1681679",
    "end": "1684320"
  },
  {
    "text": "our elastic container service or ecs",
    "start": "1684320",
    "end": "1686720"
  },
  {
    "text": "service as well as to aws lambda",
    "start": "1686720",
    "end": "1690080"
  },
  {
    "text": "we also looked at how you can write",
    "start": "1690080",
    "end": "1691919"
  },
  {
    "text": "custom scripts that are used inside your",
    "start": "1691919",
    "end": "1693919"
  },
  {
    "text": "application revision",
    "start": "1693919",
    "end": "1695200"
  },
  {
    "text": "to customize how your application gets",
    "start": "1695200",
    "end": "1697600"
  },
  {
    "text": "installed in a box",
    "start": "1697600",
    "end": "1699039"
  },
  {
    "text": "and it can do things such as you know",
    "start": "1699039",
    "end": "1700799"
  },
  {
    "text": "modify the configuration of the local",
    "start": "1700799",
    "end": "1702799"
  },
  {
    "text": "machine as well as do things like",
    "start": "1702799",
    "end": "1704080"
  },
  {
    "text": "register demons or services",
    "start": "1704080",
    "end": "1706480"
  },
  {
    "text": "we also looked at how you can write",
    "start": "1706480",
    "end": "1708640"
  },
  {
    "text": "custom scripts to verify",
    "start": "1708640",
    "end": "1710399"
  },
  {
    "text": "that your application was properly",
    "start": "1710399",
    "end": "1712159"
  },
  {
    "text": "deployed to a machine",
    "start": "1712159",
    "end": "1713520"
  },
  {
    "text": "so that you have the ability to cause",
    "start": "1713520",
    "end": "1715279"
  },
  {
    "text": "the deployment to fail",
    "start": "1715279",
    "end": "1716799"
  },
  {
    "text": "if it turns out that you know a smoke",
    "start": "1716799",
    "end": "1718480"
  },
  {
    "text": "test were to not succeed",
    "start": "1718480",
    "end": "1720080"
  },
  {
    "text": "after you deployed the application and",
    "start": "1720080",
    "end": "1722960"
  },
  {
    "text": "then lastly we just talked a little bit",
    "start": "1722960",
    "end": "1724720"
  },
  {
    "text": "about how",
    "start": "1724720",
    "end": "1725440"
  },
  {
    "text": "code deploy integrates with other aws",
    "start": "1725440",
    "end": "1727520"
  },
  {
    "text": "devops services such as code pipeline",
    "start": "1727520",
    "end": "1730399"
  },
  {
    "text": "well thank you very much for watching",
    "start": "1730399",
    "end": "1732399"
  },
  {
    "text": "and we cannot wait to see what you build",
    "start": "1732399",
    "end": "1734640"
  },
  {
    "text": "on aws",
    "start": "1734640",
    "end": "1739840"
  },
  {
    "text": "you",
    "start": "1741039",
    "end": "1743120"
  }
]