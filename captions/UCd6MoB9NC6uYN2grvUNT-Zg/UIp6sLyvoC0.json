[
  {
    "text": "delivering software faster but safely those are two key things that are our",
    "start": "530",
    "end": "6839"
  },
  {
    "text": "responsibility as builders and we want to make them right now building service",
    "start": "6839",
    "end": "12179"
  },
  {
    "text": "applications can help with the speed side of things why because when you get rid of all the",
    "start": "12179",
    "end": "18000"
  },
  {
    "text": "issues and worries about dealing with infrastructure you're freeing up engineering time that you can repurpose",
    "start": "18000",
    "end": "24060"
  },
  {
    "text": "into what really matters getting those software features faster to your users but speed is only one side",
    "start": "24060",
    "end": "32308"
  },
  {
    "text": "of the equation how about safety I'm sure no one in this room has ever started a deployment or a change",
    "start": "32309",
    "end": "37739"
  },
  {
    "text": "nervously not knowing if you're gonna break production or not am i right well",
    "start": "37739",
    "end": "43620"
  },
  {
    "text": "today I'm going to showcase some features that will help will give you peace of mind when releasing several SRK",
    "start": "43620",
    "end": "48780"
  },
  {
    "text": "at your service applications so you can hit the deployment button without fail with things like automated rollback and",
    "start": "48780",
    "end": "55199"
  },
  {
    "text": "things like that so today you're getting speed and safety from this session by",
    "start": "55199",
    "end": "60210"
  },
  {
    "text": "the end of this session you'll know how to author test and debug service applications very quickly using the",
    "start": "60210",
    "end": "66869"
  },
  {
    "text": "right tool so you can unlock the power and the speed of service applications allowing you to build anything service",
    "start": "66869",
    "end": "73619"
  },
  {
    "text": "anytime and anywhere so let's get started a couple of hours ago you sat down you",
    "start": "73619",
    "end": "81990"
  },
  {
    "text": "open your IDE if you're like me you put in some jazz to get in the zone and you've cranked out some really great",
    "start": "81990",
    "end": "89310"
  },
  {
    "text": "code in lambda and you're ready to ship that to your customers but because you're a great developer that knows",
    "start": "89310",
    "end": "95310"
  },
  {
    "text": "manual deployments are bad you want to automate it you want to define your application as code a little bit as we",
    "start": "95310",
    "end": "102659"
  },
  {
    "text": "do this with confirmation confirmation is a great service if a service that allows you to create manage and update a",
    "start": "102659",
    "end": "109530"
  },
  {
    "text": "collection of AWS resources in a controlled and predictable way now the",
    "start": "109530",
    "end": "114600"
  },
  {
    "text": "beauty of CloudFormation for builders like us is that it's the Clara t'v meaning that you define how the",
    "start": "114600",
    "end": "120479"
  },
  {
    "text": "architecture should look like but you don't have to worry about orchestrating all the changes for your application all",
    "start": "120479",
    "end": "126659"
  },
  {
    "text": "of that is taken care of our behalf by cloud formation you can certainly define",
    "start": "126659",
    "end": "132080"
  },
  {
    "text": "service applique she's in CloudFormation but actually start using or building more complex and",
    "start": "132080",
    "end": "138690"
  },
  {
    "text": "more distributed service applications comprised by say hundreds or thousands",
    "start": "138690",
    "end": "144540"
  },
  {
    "text": "of lambda functions you're gonna want the power of cloud formation but also the ability to define those service",
    "start": "144540",
    "end": "151200"
  },
  {
    "text": "components with a lot less code well this is exactly where Sam comes in Sam",
    "start": "151200",
    "end": "157950"
  },
  {
    "text": "is the AWS surveillance applications model it makes it easy for you to create and manage service application and it's",
    "start": "157950",
    "end": "165000"
  },
  {
    "text": "also friendly squirrel only a doubly a service with a mascot and don't ask me why",
    "start": "165000",
    "end": "170190"
  },
  {
    "text": "well maybe ask me outside after my session now the so Sam basically makes",
    "start": "170190",
    "end": "177930"
  },
  {
    "text": "it really easy for us to manage and create several applications you can think of it as a higher level abstraction to cloud formation so you're",
    "start": "177930",
    "end": "185430"
  },
  {
    "text": "still using cloud formation in the background you write your templates and greatly simplified syntax in Sam but you",
    "start": "185430",
    "end": "192870"
  },
  {
    "text": "upload that to client formation and it supports everything the cloud formation does now to show you how easy it is let",
    "start": "192870",
    "end": "199950"
  },
  {
    "text": "me show you the Sam template that I'm going to be deploying in the first demo today this is the full a full Sam",
    "start": "199950",
    "end": "206670"
  },
  {
    "text": "template for an application comprised by an API gateway and a lambda function with all the wirings and permissions",
    "start": "206670",
    "end": "212459"
  },
  {
    "text": "needed so that they talk to each other user hits the API gateway and then at lambda function is triggered only 14",
    "start": "212459",
    "end": "219510"
  },
  {
    "text": "lines of code very neat now the let's go through all the all the",
    "start": "219510",
    "end": "225299"
  },
  {
    "text": "components in the template the first section of the template you need to define that this is actually written in",
    "start": "225299",
    "end": "231720"
  },
  {
    "text": "Sam syntax and you do that with the first two lines of code and this is really important because remember that",
    "start": "231720",
    "end": "237120"
  },
  {
    "text": "when you uploaded to clot formation 12 submission needs to know what synthesis is written on so it can transform it",
    "start": "237120",
    "end": "244230"
  },
  {
    "text": "into a fully blown transformation template now to show you how much work Sam is doing for us have a look at the",
    "start": "244230",
    "end": "250230"
  },
  {
    "text": "transform template for this Sam template it looks something like that look at all",
    "start": "250230",
    "end": "257100"
  },
  {
    "text": "the code that you didn't have to write Sam is indeed a hard-working squirrel so",
    "start": "257100",
    "end": "263510"
  },
  {
    "text": "after you've defined what syntax is a Sam template written on you'll list all of the resources in the",
    "start": "263510",
    "end": "270060"
  },
  {
    "text": "same way that you would with CloudFormation in this case I am creating a single resource called calculator ad and because it is a lambda",
    "start": "270060",
    "end": "277650"
  },
  {
    "text": "function I need to give it the time aw serverless function now when you",
    "start": "277650",
    "end": "282750"
  },
  {
    "text": "define lambda functions with Sam you can configure a couple of properties some of those are mandatory like the handler and",
    "start": "282750",
    "end": "289560"
  },
  {
    "text": "the run time and others are optional like the function name and the memory for that lambda function and the events",
    "start": "289560",
    "end": "296280"
  },
  {
    "text": "for example now the event property is really powerful because it allows you to do two things at once",
    "start": "296280",
    "end": "302090"
  },
  {
    "text": "first it defines what service is going to be able to trigger service or",
    "start": "302090",
    "end": "307710"
  },
  {
    "text": "services are able to trigger your lambda function but secondly Suns is smart",
    "start": "307710",
    "end": "312960"
  },
  {
    "text": "enough to go out and create and then manage that resource on your behalf so you're basically defining in this guy's",
    "start": "312960",
    "end": "319620"
  },
  {
    "text": "an API gateway as well implicitly I could have done it explicitly as a",
    "start": "319620",
    "end": "325080"
  },
  {
    "text": "standalone resource but this way I have to write less code so I chose to go that",
    "start": "325080",
    "end": "330240"
  },
  {
    "text": "way so Sam is making it easy for us to manage and create several supplications",
    "start": "330240",
    "end": "336210"
  },
  {
    "text": "by giving us a greatly simplified syntax but it's also helping us with the",
    "start": "336210",
    "end": "341310"
  },
  {
    "text": "deployment side of things because he's giving us two commands on the CLI one for packaging another for deploy the",
    "start": "341310",
    "end": "347760"
  },
  {
    "text": "first one graphs all of the artifacts of your code or blows up to s3 and then",
    "start": "347760",
    "end": "353130"
  },
  {
    "text": "creates a package template with a location of your code and the second command simply execute all those changes",
    "start": "353130",
    "end": "359250"
  },
  {
    "text": "in confirmation on your behalf so all you have to do is to run two commands and your automated release process and",
    "start": "359250",
    "end": "365220"
  },
  {
    "text": "then your service application is gonna be updated enough talk for now let's go",
    "start": "365220",
    "end": "370530"
  },
  {
    "text": "to our first demo so in our first demo what we're gonna do is we're gonna create a simple",
    "start": "370530",
    "end": "377400"
  },
  {
    "text": "calculator it is very simple yet really powerful simple because it's only going to do one thing it's gonna do the",
    "start": "377400",
    "end": "383070"
  },
  {
    "text": "addition you give it to query prompts and it's gonna return the addition but it's powerful because it's gonna be",
    "start": "383070",
    "end": "389250"
  },
  {
    "text": "built entirely on service technologies which means among other things that I could have one user hitting this or we",
    "start": "389250",
    "end": "396210"
  },
  {
    "text": "could have a billion of users hitting this and it should work so the I'm gonna be using the Sam",
    "start": "396210",
    "end": "402630"
  },
  {
    "text": "template and the Sam commands in order to create and update my application I'll be using the AWS CLI as well so if",
    "start": "402630",
    "end": "410350"
  },
  {
    "text": "you're not familiar with it don't worry you can automate that with your preferred tool of choice and lastly",
    "start": "410350",
    "end": "415570"
  },
  {
    "text": "because this talks about not only speed but safety I'm gonna be introducing a safety mechanism to prevent to prevent",
    "start": "415570",
    "end": "422830"
  },
  {
    "text": "bad code from impacting all of our users and this is how it's going to look like after I I create a second version of my",
    "start": "422830",
    "end": "431050"
  },
  {
    "text": "lambda function I'm gonna run a validation to make sure that this second function is also adding because if it's",
    "start": "431050",
    "end": "437500"
  },
  {
    "text": "not adding I'm gonna roll back but if it is adding I'm gonna promote it and point",
    "start": "437500",
    "end": "442600"
  },
  {
    "text": "all the traffic to my second version of the lambda function so let's do it let's go back to my laptop list now in",
    "start": "442600",
    "end": "451360"
  },
  {
    "text": "the interest of time I'm constantly running out of time maybe it's a South American thing but so I've done two",
    "start": "451360",
    "end": "456850"
  },
  {
    "text": "things one is I have all my commands here for copy and paste because it's",
    "start": "456850",
    "end": "462190"
  },
  {
    "text": "just faster that way and also I pre deploy my stack when I was down there to save some time but don't worry I'm gonna",
    "start": "462190",
    "end": "469240"
  },
  {
    "text": "be using the same Sam package in Sam the pokémons in order to update this stack so let me show you what I've got here",
    "start": "469240",
    "end": "476520"
  },
  {
    "text": "this is the some template that you've seen before I think I might have added a",
    "start": "476520",
    "end": "481840"
  },
  {
    "text": "function name I believe but apart from that it's identical to what you saw in the slides I'll show you my code so this",
    "start": "481840",
    "end": "489610"
  },
  {
    "text": "is gonna be written in go it's a very simple function what I'm doing is I'm",
    "start": "489610",
    "end": "495790"
  },
  {
    "text": "grabbing those two query of primes coming in the HTTP request and saving them into variables and then defining",
    "start": "495790",
    "end": "502300"
  },
  {
    "text": "the result now this should be a cut and adding calculator but I'm making an",
    "start": "502300",
    "end": "507970"
  },
  {
    "text": "intentional mistake and that intentional mistake is there because I want to update it to fix it to show you how it",
    "start": "507970",
    "end": "514270"
  },
  {
    "text": "works and then I'm simply returning that result as part of the body of the response very simple function so what",
    "start": "514270",
    "end": "521650"
  },
  {
    "text": "I'm gonna do now is let's test my application to see it should be adding",
    "start": "521650",
    "end": "527530"
  },
  {
    "text": "but it's not going to be adding because I have a mistake so I'm given the query prompts four and three and I'm getting a 12 or 12 is not",
    "start": "527530",
    "end": "535500"
  },
  {
    "text": "addition so this is obviously wrong let me do one more let me do forum for obviously we have a mistake in our code",
    "start": "535500",
    "end": "542040"
  },
  {
    "text": "so what I'm going to do that is I am going to fix it and try to push that change so I'm gonna save this for",
    "start": "542040",
    "end": "549600"
  },
  {
    "text": "addition and now because this is go I",
    "start": "549600",
    "end": "554790"
  },
  {
    "text": "need to compile it first and then these are the two commands that we talked about the Sam package and the",
    "start": "554790",
    "end": "562439"
  },
  {
    "text": "Sun deployed you need to pass it the template that you use in the s3 bucket where things are going to be uploaded to",
    "start": "562439",
    "end": "567509"
  },
  {
    "text": "and then it should take among the two of those about 50 seconds so while that",
    "start": "567509",
    "end": "573029"
  },
  {
    "text": "happens and hoping that it works I'm gonna show you the security mechanism",
    "start": "573029",
    "end": "578759"
  },
  {
    "text": "that are we're gonna be implementing so the security mechanism that we can implement is base of a feature called",
    "start": "578759",
    "end": "585480"
  },
  {
    "text": "AWS no Canary releases for AWS lambda so for those that aren't familiar with",
    "start": "585480",
    "end": "591329"
  },
  {
    "text": "Canary releases is the concept by which you release your new version of the",
    "start": "591329",
    "end": "596519"
  },
  {
    "text": "application in this case a new version of lambda you point a small percentage of traffic to it real traffic coming",
    "start": "596519",
    "end": "602879"
  },
  {
    "text": "from users and you make validations and you test that the is actually behave incorrectly and if it is you can promote",
    "start": "602879",
    "end": "609209"
  },
  {
    "text": "the canary to receive a hundred percent of the traffic but if it isn't you can easily roll back now the good thing is",
    "start": "609209",
    "end": "615839"
  },
  {
    "text": "that san has integrated prepackaged canary releases for us that we can",
    "start": "615839",
    "end": "622019"
  },
  {
    "text": "implement really easily with just a couple of lines of code and you do it this way so it works as I as an",
    "start": "622019",
    "end": "629519"
  },
  {
    "text": "additional property to your lambda finishing and it's called deployment preference there are a couple of types",
    "start": "629519",
    "end": "634529"
  },
  {
    "text": "and these are just two that I'm going to briefly explain Canary ten percent five",
    "start": "634529",
    "end": "640050"
  },
  {
    "text": "minutes means it's going to point ten percent of the traffic to your canary to your newly released version of lambda",
    "start": "640050",
    "end": "647459"
  },
  {
    "text": "and if provided that within five minutes this alarm is not triggered then it's",
    "start": "647459",
    "end": "653939"
  },
  {
    "text": "going to be allowed to transition to 100% so that is one of the prepackaged options another one it's a little bit",
    "start": "653939",
    "end": "659819"
  },
  {
    "text": "more conservative so you point ten percent of the traffic to the canary and provided that that alarm is not",
    "start": "659819",
    "end": "665879"
  },
  {
    "text": "triggered in one minute it increases the traffic by 10 percent so at the end with",
    "start": "665879",
    "end": "671879"
  },
  {
    "text": "this second option is gonna take 10 steps before your canary is actually fully promoted and you also get a couple",
    "start": "671879",
    "end": "678509"
  },
  {
    "text": "of toys here could deploy is working in the background with Sam to allow this predefined canary releases and these are",
    "start": "678509",
    "end": "686490"
  },
  {
    "text": "just two integrated to your existing CIC D pipeline now I was a bit cheeky and I",
    "start": "686490",
    "end": "692430"
  },
  {
    "text": "didn't show you the bottom part of my template and I've already implemented this this safety mechanism so the way I",
    "start": "692430",
    "end": "699839"
  },
  {
    "text": "did it is by having an all at once type now all at once it's not a canary release it's gonna go and deploy",
    "start": "699839",
    "end": "706439"
  },
  {
    "text": "everything immediately however I've introduced a validation as a pre traffic",
    "start": "706439",
    "end": "711720"
  },
  {
    "text": "hook to my application and this validation is doing what I explained before checking with the second version",
    "start": "711720",
    "end": "716999"
  },
  {
    "text": "of lambda is actually adding before we point any traffic to it and if it is promoted if it isn't rollback so let's",
    "start": "716999",
    "end": "724499"
  },
  {
    "text": "see if my deployment actually worked so",
    "start": "724499",
    "end": "731550"
  },
  {
    "text": "we have here that this was successfully deployed let's test it it should the",
    "start": "731550",
    "end": "738959"
  },
  {
    "text": "calculator should be adding now hopefully seven okay four and four is eight fantastic so it's adding now but",
    "start": "738959",
    "end": "746790"
  },
  {
    "text": "now let's test to make the safety mechanism work let's try to break this by changing the the logic here let's say",
    "start": "746790",
    "end": "755100"
  },
  {
    "text": "that I'm gonna do something else that it's not addition and I'm going to try to deploy that now this is going to take",
    "start": "755100",
    "end": "762209"
  },
  {
    "text": "another another 50 seconds so I'm just gonna leave it working while we go back",
    "start": "762209",
    "end": "767790"
  },
  {
    "text": "to my slides please okay so you've seen how we're gaining",
    "start": "767790",
    "end": "773819"
  },
  {
    "text": "speed when we're developing service applications with the help of Sam because now we have a greatly simplified",
    "start": "773819",
    "end": "779910"
  },
  {
    "text": "syntax to define those service components we're also getting speed in deployment because now we have only two",
    "start": "779910",
    "end": "785699"
  },
  {
    "text": "commands that Sam is giving us so there's less process to change service applications and finally you saw how",
    "start": "785699",
    "end": "792779"
  },
  {
    "text": "easy it was for me to implement canary releases for lambda well actually I didn't do that what I did was a safety",
    "start": "792779",
    "end": "799170"
  },
  {
    "text": "validation but you saw how easily integrated is with with with the Sam template only four lines of code that I",
    "start": "799170",
    "end": "804990"
  },
  {
    "text": "wrote now let's think for a moment about the process I went through I got in the",
    "start": "804990",
    "end": "812580"
  },
  {
    "text": "song with the Jazz I wrote authored some lambda code I deployed it in only after",
    "start": "812580",
    "end": "819870"
  },
  {
    "text": "the pointer I had to wait for about fifty seconds and after it was the port I could test it I found a mistake and",
    "start": "819870",
    "end": "826770"
  },
  {
    "text": "then I went back to authoring changed the mistake then try to deploy it again and have to wait another 50 seconds if",
    "start": "826770",
    "end": "833220"
  },
  {
    "text": "you're like me this is bad this is really bad we are we don't like waiting when we're in the zone creating offering",
    "start": "833220",
    "end": "839490"
  },
  {
    "text": "testing and debugging code so we're gonna have we're gonna need a better flow in a better flow will be something",
    "start": "839490",
    "end": "844770"
  },
  {
    "text": "like that so imagine if you could have a tied author test on the bug loop that",
    "start": "844770",
    "end": "849990"
  },
  {
    "text": "where you can and this is the normal way we we develop applications that are not server let's write we have everything in",
    "start": "849990",
    "end": "855089"
  },
  {
    "text": "our machine and if we're using the right tools in the right way if it's if it works in my machine it works in the",
    "start": "855089",
    "end": "860579"
  },
  {
    "text": "cloud so imagine if you could if you could have that for several applications",
    "start": "860579",
    "end": "865829"
  },
  {
    "text": "as well now the issue is that lambda runs in the cloud it runs on Greengrass devices but how do",
    "start": "865829",
    "end": "873450"
  },
  {
    "text": "I bring lambda to my local machine well this is exactly where the second tool",
    "start": "873450",
    "end": "878579"
  },
  {
    "text": "that we're going to talk about today comes from and it's this Sam CLI it's a local tool for testing debugging and",
    "start": "878579",
    "end": "885120"
  },
  {
    "text": "deploying of several occasions and it's a it's a big thing because now it means",
    "start": "885120",
    "end": "890279"
  },
  {
    "text": "that I can work on my several applications without waiting without interruption and that's another bonus",
    "start": "890279",
    "end": "896610"
  },
  {
    "text": "maybe without internet because I can basically mark in test lambda in my local machine so pretty cool now the way",
    "start": "896610",
    "end": "903870"
  },
  {
    "text": "it works Sam this time CLI is by using a docker image that basically you don't load into",
    "start": "903870",
    "end": "909450"
  },
  {
    "text": "your machine and it mimics the lambda execution environment emulating things like memory time timeouts and things",
    "start": "909450",
    "end": "916980"
  },
  {
    "text": "like that and the wrong time as well so what we're gonna do is are before we do let me explain a little bit about this",
    "start": "916980",
    "end": "922980"
  },
  {
    "text": "Sam see a lot so there are a bunch of things that we can do I'm never gonna talk extensively about them because",
    "start": "922980",
    "end": "928680"
  },
  {
    "text": "we're do do them in the second demo but you can create a sample app so you can get",
    "start": "928680",
    "end": "933750"
  },
  {
    "text": "started releasing with any of the languages that lamda supports you can test your lambda functions in a couple",
    "start": "933750",
    "end": "939690"
  },
  {
    "text": "of different ways and I'm going to show you in the demo but the good thing is that you can run now automated tests in",
    "start": "939690",
    "end": "947100"
  },
  {
    "text": "London like environments in your local machine so the same tests that you run as part of your release process in your",
    "start": "947100",
    "end": "952860"
  },
  {
    "text": "CI CD pipeline now you can roll luckily giving giving you more confidence that",
    "start": "952860",
    "end": "957959"
  },
  {
    "text": "your code is actually going to work and it's also it's also a game changer in the way that it allows you to quickly",
    "start": "957959",
    "end": "964019"
  },
  {
    "text": "iterate over your functions without reloading all in your machine even without internet so let's go for a",
    "start": "964019",
    "end": "970529"
  },
  {
    "text": "second demo in a second demo and whenever you use scene well in the",
    "start": "970529",
    "end": "975959"
  },
  {
    "text": "second demo we learned that our users don't want to be multiple adding anymore they want to be multiplied who would",
    "start": "975959",
    "end": "982470"
  },
  {
    "text": "have thought that now the so what we're going to do is we're going to deploy when I offer a new function this time",
    "start": "982470",
    "end": "988769"
  },
  {
    "text": "written in node we're going to deploy it side by side with our application I'm going to be using the Sam CLI in order",
    "start": "988769",
    "end": "994649"
  },
  {
    "text": "to author test and debug the application but in the reason I'm the pointed side",
    "start": "994649",
    "end": "999839"
  },
  {
    "text": "by size because I want to show you another feature for save releases and that other feature for cell releases is",
    "start": "999839",
    "end": "1005540"
  },
  {
    "text": "canary releases for API gateway so you can gradually roll out new API or new",
    "start": "1005540",
    "end": "1011899"
  },
  {
    "text": "API configurations in a safe manner and this is how it looks like so I'm going to create a new configuration stage in",
    "start": "1011899",
    "end": "1019370"
  },
  {
    "text": "my or a new stage yes new stage configuration in my existing application but that configuration is going to be",
    "start": "1019370",
    "end": "1026540"
  },
  {
    "text": "backed by my new lambda function in a point and I'm going to point a small percentage of traffic to it and then",
    "start": "1026540",
    "end": "1032058"
  },
  {
    "text": "gradually roll it out if I'm happy with the results of my experiment in node so",
    "start": "1032059",
    "end": "1038240"
  },
  {
    "text": "it should end like that so I'm transitioning but this time I'm transitioning in API gateway",
    "start": "1038240",
    "end": "1044058"
  },
  {
    "text": "configurations so let's go to my slides loose okay",
    "start": "1044059",
    "end": "1051140"
  },
  {
    "text": "so before I jump into the second demo I want to show you that the safety",
    "start": "1051140",
    "end": "1056900"
  },
  {
    "text": "mechanism in my first demo actually worked you can see that it actually filed but it's not giving me much",
    "start": "1056900",
    "end": "1062690"
  },
  {
    "text": "information apart from file so what I'm going to do is let's test the endpoint",
    "start": "1062690",
    "end": "1067790"
  },
  {
    "text": "and see if it's still adding and it's still adding so you can do nine and",
    "start": "1067790",
    "end": "1073850"
  },
  {
    "text": "three so still adding and I'm going to show you some confirmation events to see if there's any sign of rollback in my in",
    "start": "1073850",
    "end": "1082040"
  },
  {
    "text": "my confirmation events and there you go so you can see the code deploy actually rollback so the safety mechanism that I",
    "start": "1082040",
    "end": "1088490"
  },
  {
    "text": "implemented before actually worked which is a good thing so let's go to our",
    "start": "1088490",
    "end": "1094370"
  },
  {
    "text": "second demo okay so before I do so let",
    "start": "1094370",
    "end": "1101900"
  },
  {
    "text": "me show you some of the artifacts that I have so I have a SAM template to define my new multiplication function shorter",
    "start": "1101900",
    "end": "1109280"
  },
  {
    "text": "than the one I had before because now I'm not defining API gateway remember that I'm going to be deploying it side",
    "start": "1109280",
    "end": "1114320"
  },
  {
    "text": "by side so same thing in this case just with a different runtime and let me show",
    "start": "1114320",
    "end": "1120260"
  },
  {
    "text": "you the code the code is written in node as well extremely simple so I'm doing",
    "start": "1120260",
    "end": "1125450"
  },
  {
    "text": "the same thing that I did with go so I'm grabbing those two career params then defining the result and making another",
    "start": "1125450",
    "end": "1132020"
  },
  {
    "text": "mistake remember customers want to be multiplying and this thing is not multiplying but I'll do it so that I can",
    "start": "1132020",
    "end": "1138500"
  },
  {
    "text": "actually test it and fix it and then returning the result as part of the body",
    "start": "1138500",
    "end": "1144770"
  },
  {
    "text": "of my gtp response okay so let's get started with all the cool things about",
    "start": "1144770",
    "end": "1151010"
  },
  {
    "text": "Sam first Sam is a CLI tool you install it with pip and you can check the",
    "start": "1151010",
    "end": "1159080"
  },
  {
    "text": "version right now I'm running the 0.5 from 0 which was I think released about",
    "start": "1159080",
    "end": "1164090"
  },
  {
    "text": "two weeks ago one thing you can do with Sam's you can validate your Sam template sort of it's Sam see a lot you can",
    "start": "1164090",
    "end": "1170000"
  },
  {
    "text": "validate just some templates and this is a best practice so you should do this both locally and then as part of your CI",
    "start": "1170000",
    "end": "1176660"
  },
  {
    "text": "CD release in the same way that you would with confirmation so you can see",
    "start": "1176660",
    "end": "1182150"
  },
  {
    "text": "that my template is valid beautiful so let's test a couple of ways in which we can test our lambda functions locally so",
    "start": "1182150",
    "end": "1189820"
  },
  {
    "text": "the first one is sorry before I get there let me show you one more thing and I want to show you this because it's",
    "start": "1189820",
    "end": "1196090"
  },
  {
    "text": "extremely easy to get started and there's a command called Sam in it that basically creates an app a boilerplate",
    "start": "1196090",
    "end": "1204730"
  },
  {
    "text": "app in whichever language you want so I've talked about go I've talked about about no so I'm just gonna create a",
    "start": "1204730",
    "end": "1212200"
  },
  {
    "text": "boilerplate app in dotnet core 2.0 and show you briefly what it creates for me",
    "start": "1212200",
    "end": "1219900"
  },
  {
    "text": "okay Sam app so you can see that it creates a Sam template as well with I",
    "start": "1221460",
    "end": "1228060"
  },
  {
    "text": "don't know looking more beautiful than the one that I'm using for my time and",
    "start": "1228060",
    "end": "1233740"
  },
  {
    "text": "you can see there's an entry it creates also hello world world app in in c-sharp",
    "start": "1233740",
    "end": "1240520"
  },
  {
    "text": "and there's an entry point I believe the entry point is here so here's the word",
    "start": "1240520",
    "end": "1246820"
  },
  {
    "text": "the handler is pointing so it gets you started pretty quickly and you can test app but I'm not going to be using that up I'm going to be using the one that we",
    "start": "1246820",
    "end": "1252820"
  },
  {
    "text": "talked about the multiplication function okay so a couple of ways you can test",
    "start": "1252820",
    "end": "1258760"
  },
  {
    "text": "your lambda function the first one is testing it in response to a request to",
    "start": "1258760",
    "end": "1264670"
  },
  {
    "text": "an API gateway so we're actually going to be mocking API gateway in my machine",
    "start": "1264670",
    "end": "1269860"
  },
  {
    "text": "and you do it with this command the Sam local star API running the this option",
    "start": "1269860",
    "end": "1276370"
  },
  {
    "text": "of kill escape pool image because the this normally downloads the container into my machine every time that I do",
    "start": "1276370",
    "end": "1282400"
  },
  {
    "text": "this and I don't want to be doing that because I'm I don't trust the network so this is a command that basically creates",
    "start": "1282400",
    "end": "1289240"
  },
  {
    "text": "I it point gives you a port where you put you can point to in order to test",
    "start": "1289240",
    "end": "1295770"
  },
  {
    "text": "responses of your lambda function in your browser so what I'm going to do that now is go to my browser that's",
    "start": "1295770",
    "end": "1304300"
  },
  {
    "text": "really small so let's do this better so I'm gonna test it with the curry prompts",
    "start": "1304300",
    "end": "1310810"
  },
  {
    "text": "for and to let's say six so it's this thing is not actually multiplying this",
    "start": "1310810",
    "end": "1317110"
  },
  {
    "text": "is the mistake that I had so what I'll do now is I'll go back to my code and I'll fix it so this should",
    "start": "1317110",
    "end": "1325240"
  },
  {
    "text": "be multiplying I'm gonna save this and I can immediately swipe across and refresh",
    "start": "1325240",
    "end": "1331750"
  },
  {
    "text": "this and it's going to be using immediately the newer version of my lambda function this is all running in",
    "start": "1331750",
    "end": "1337450"
  },
  {
    "text": "my machine in my browser with no internet so it's pretty cool you can quickly iterate over your functions with",
    "start": "1337450",
    "end": "1343059"
  },
  {
    "text": "without reloading let's test it with something else let's say 4 & 9 there you",
    "start": "1343059",
    "end": "1350200"
  },
  {
    "text": "go so it's actually multiplying which is good so this command is also providing",
    "start": "1350200",
    "end": "1355720"
  },
  {
    "text": "us with a logs that we normally would get in in cloud wash rocks we have it here in our machine makes it easy for us",
    "start": "1355720",
    "end": "1363340"
  },
  {
    "text": "to debug and troubleshoot if things don't go our way so it's pretty cool so",
    "start": "1363340",
    "end": "1369130"
  },
  {
    "text": "that's one of the commands another command that was recently launched and I just want to tell you about it and we're",
    "start": "1369130",
    "end": "1375190"
  },
  {
    "text": "going to be using using it it's some local start lambda so it works in the same way that the API gave way one so it",
    "start": "1375190",
    "end": "1382150"
  },
  {
    "text": "gives you an endpoint in another port and it means that now you have an import of lambda in your machine and this is",
    "start": "1382150",
    "end": "1388420"
  },
  {
    "text": "pretty cool because it means you can run those automated tests against your machine you obviously need to make some",
    "start": "1388420",
    "end": "1394900"
  },
  {
    "text": "tricks in your code and I'll show you what I mean by that so when you're using your SDK and in this case I'm using I'm",
    "start": "1394900",
    "end": "1401260"
  },
  {
    "text": "bringing Python here instead of just creating your lambda client like that just point into lambda you need to",
    "start": "1401260",
    "end": "1408670"
  },
  {
    "text": "specify the end point so you need some logic when you are actually implementing this locally in order to run those tests",
    "start": "1408670",
    "end": "1415660"
  },
  {
    "text": "locally but it's cool then that you have a lambda endpoint in your machine so",
    "start": "1415660",
    "end": "1421510"
  },
  {
    "text": "that's another way because I'm happy with the multiplication let me briefly",
    "start": "1421510",
    "end": "1426990"
  },
  {
    "text": "deploy this I'll show you a couple couple other things we can do with Sam",
    "start": "1426990",
    "end": "1434970"
  },
  {
    "text": "but I'll do it wallet deploys because it's gonna take about 50 seconds or so",
    "start": "1434970",
    "end": "1441390"
  },
  {
    "text": "okay so let me go kill this and I'll show you one more",
    "start": "1441390",
    "end": "1447990"
  },
  {
    "text": "thing so this one more thing is the Sam local invoke command so you can simply invoke lamda without without having to deal",
    "start": "1447990",
    "end": "1454560"
  },
  {
    "text": "with endpoints and you do it by pointing to the resource to the lambda resource",
    "start": "1454560",
    "end": "1459750"
  },
  {
    "text": "written in my CloudFormation template but because this is a lambda execution you need to provide it with an event so",
    "start": "1459750",
    "end": "1466350"
  },
  {
    "text": "in this case this request chasing and so we that the way that you do that is by",
    "start": "1466350",
    "end": "1473250"
  },
  {
    "text": "generating ie an event payload now it turns out I lost my command here but I'll show you so",
    "start": "1473250",
    "end": "1480570"
  },
  {
    "text": "there's a Sam local generate event it goes something like Sam local generate",
    "start": "1480570",
    "end": "1485610"
  },
  {
    "text": "event and you can choose things like s3 an API gateway so I'm not going to run",
    "start": "1485610",
    "end": "1492540"
  },
  {
    "text": "the command but hopefully I have the output here I have it here so I'm basically creating a payload of what API",
    "start": "1492540",
    "end": "1499560"
  },
  {
    "text": "game we would normally send lambda function and I'm giving it the two crew primes four and two so what I can do now",
    "start": "1499560",
    "end": "1507090"
  },
  {
    "text": "is I can invoke that lambda function pointing to that request jason that",
    "start": "1507090",
    "end": "1512670"
  },
  {
    "text": "you've said you've seen this is what",
    "start": "1512670",
    "end": "1519000"
  },
  {
    "text": "happened of course I have it here so here's the sound logo I was going ahead of myself so this is the generate API",
    "start": "1519000",
    "end": "1525390"
  },
  {
    "text": "and I'm going to run it it's it's okay",
    "start": "1525390",
    "end": "1531920"
  },
  {
    "text": "so I'm going to run it and you can see that it can writes the payload and I",
    "start": "1531920",
    "end": "1537390"
  },
  {
    "text": "save that payload into a file so what I can do after that is I can invoke it by pointing to that event so I'm pointing",
    "start": "1537390",
    "end": "1544830"
  },
  {
    "text": "to that event here what this is gonna do is execute that lambda function with that event payload and giving me the",
    "start": "1544830",
    "end": "1551040"
  },
  {
    "text": "results so four times two is eight I'm getting my result and I'm also getting the log so I can easily",
    "start": "1551040",
    "end": "1557040"
  },
  {
    "text": "troubleshoot and debug the last thing that I'll show you is this command that",
    "start": "1557040",
    "end": "1562410"
  },
  {
    "text": "I was getting ahead of myself which is live debugging so you can do live debugging as well and your IDE by simply",
    "start": "1562410",
    "end": "1570210"
  },
  {
    "text": "adding the - D option with the with a port and so I'm gonna be executing the",
    "start": "1570210",
    "end": "1575880"
  },
  {
    "text": "same command the same local invoke with the same query pram so it's four and two should be multiplying and b8 but",
    "start": "1575880",
    "end": "1583590"
  },
  {
    "text": "when I do this if it actually allows me to be the bug with any debugger that I",
    "start": "1583590",
    "end": "1589230"
  },
  {
    "text": "have so what I've done is a pre-configured my IDE to listen on that port so if you have a breakpoint into",
    "start": "1589230",
    "end": "1597480"
  },
  {
    "text": "your line I can go into my debugger hit the debugger and you can see that I'm",
    "start": "1597480",
    "end": "1607290"
  },
  {
    "text": "debugging my lambda code in my machine with Sam CLI no internet required so I",
    "start": "1607290",
    "end": "1612960"
  },
  {
    "text": "can inspect here I have all the variables defined here I can inspect my code I can step over this line of code",
    "start": "1612960",
    "end": "1619650"
  },
  {
    "text": "and see what the result of this is now it's a strength with the number eight so you would debug it in the same with you",
    "start": "1619650",
    "end": "1626280"
  },
  {
    "text": "with any non-service code pretty cool hi so what uh so this is all the things",
    "start": "1626280",
    "end": "1634500"
  },
  {
    "text": "that I want to show you about this Sam CLI but because this is also about security let's implement those canary",
    "start": "1634500",
    "end": "1640380"
  },
  {
    "text": "releases for API gateway first let me grab the lambda that I've just deployed",
    "start": "1640380",
    "end": "1646290"
  },
  {
    "text": "so my commands work so the way this works is I have an application that is",
    "start": "1646290",
    "end": "1652740"
  },
  {
    "text": "with its API gateway that is adding its using my node function sort of my goal function that I had on the first demo",
    "start": "1652740",
    "end": "1658770"
  },
  {
    "text": "and I have this standalone multiplication function written in node they don't know about each other so what",
    "start": "1658770",
    "end": "1666000"
  },
  {
    "text": "I need to do is basically let API get where you know about this to create a new stage configuration and let lambda",
    "start": "1666000",
    "end": "1672150"
  },
  {
    "text": "know about that by adding a permission so these are two commands that I'll be running on the CLI and I want you to",
    "start": "1672150",
    "end": "1678450"
  },
  {
    "text": "memorize them okay so these two commands what they're basically what they're",
    "start": "1678450",
    "end": "1685500"
  },
  {
    "text": "basically doing is exactly that so they're telling creating a stage in API gateway and it is cool adding a put",
    "start": "1685500",
    "end": "1693120"
  },
  {
    "text": "integration and in lambda I'm just adding a permission so when you run that now they know about each other and after",
    "start": "1693120",
    "end": "1701760"
  },
  {
    "text": "they know about each other then you can create your canary release so you do it with the API gay we're create deployment",
    "start": "1701760",
    "end": "1707640"
  },
  {
    "text": "I'm using the same stage that I already have that it's call prole but I'm giving it I can nary",
    "start": "1707640",
    "end": "1713640"
  },
  {
    "text": "setting with 20% normally a canary you would do it with less but I'm doing it with 20% because it's easy to show you",
    "start": "1713640",
    "end": "1719550"
  },
  {
    "text": "that 20% of the traffic is is actually pointed to the multiplication function so once I test my application it should",
    "start": "1719550",
    "end": "1727320"
  },
  {
    "text": "be coming four times out of five roughly with addition and one time of the five",
    "start": "1727320",
    "end": "1734160"
  },
  {
    "text": "with multiplication so let's see if it works it's kind of work four and three",
    "start": "1734160",
    "end": "1740490"
  },
  {
    "text": "so that's addition addition addition multiplication addition addition well",
    "start": "1740490",
    "end": "1748710"
  },
  {
    "text": "you can see it's about 20% if you do something else very good multiplication so really cool",
    "start": "1748710",
    "end": "1756540"
  },
  {
    "text": "so what I can do now if I am happy with the results of my canary then I can promote it and that promotion you do it",
    "start": "1756540",
    "end": "1762690"
  },
  {
    "text": "with this command API so updating the stage that I have the existing stage has",
    "start": "1762690",
    "end": "1768270"
  },
  {
    "text": "a canary release settings so what I need to do is I need to copy that canary release settings into the main",
    "start": "1768270",
    "end": "1774690"
  },
  {
    "text": "deployment ID and once you when you do that then a hundred percent of the traffic is going to be pointing to my",
    "start": "1774690",
    "end": "1780120"
  },
  {
    "text": "multiplication function and I'm running out of time so I'll show you quickly how these pans out so you should be",
    "start": "1780120",
    "end": "1787620"
  },
  {
    "text": "multiplying all the time now there you go beautiful I love it with demos work so let's go back to my slides so you've",
    "start": "1787620",
    "end": "1797220"
  },
  {
    "text": "seen how how this Sam CLI is helping us gaining speed in the software creation",
    "start": "1797220",
    "end": "1804150"
  },
  {
    "text": "because it's bringing all the lambda all the good things about this Sam and this and lambda into our local machine so we",
    "start": "1804150",
    "end": "1810330"
  },
  {
    "text": "can create those service applications without waiting without interruptions and perhaps with that internet we can",
    "start": "1810330",
    "end": "1816720"
  },
  {
    "text": "have that type or test and debug loop you've also seen how easy it is to implement arguably easy and I hope you",
    "start": "1816720",
    "end": "1823110"
  },
  {
    "text": "memorize those commands are to implement canary leases for API gateway so that we can gradually roll out new API a new API",
    "start": "1823110",
    "end": "1829950"
  },
  {
    "text": "configurations safely something else and Jeb bar alluded to it this morning",
    "start": "1829950",
    "end": "1835950"
  },
  {
    "text": "jeff bar he said that we are immersing give freedom to the developers to use whatever tool and this is key you should",
    "start": "1835950",
    "end": "1842910"
  },
  {
    "text": "be using the right tool for right job or or maybe the tool that you're comfortable with and you can see",
    "start": "1842910",
    "end": "1848470"
  },
  {
    "text": "how I basically had two different programming languages in my same application and this is good that",
    "start": "1848470",
    "end": "1854050"
  },
  {
    "text": "freedom gives developers also and help with the speed when they release the software projects so I want to encourage",
    "start": "1854050",
    "end": "1863470"
  },
  {
    "text": "you next time you sit in front of your IDE to deliver I had delivered your software faster by making it server less",
    "start": "1863470",
    "end": "1870820"
  },
  {
    "text": "but also deliver it safely by implementing Canaries thank you very much for attending this session please",
    "start": "1870820",
    "end": "1877120"
  },
  {
    "text": "give us feedback as you can tell I am very passionate about service applications I believe they are the",
    "start": "1877120",
    "end": "1882610"
  },
  {
    "text": "future of application development so I hope that you've learned something today and that you're going back to your workplace tomorrow",
    "start": "1882610",
    "end": "1888580"
  },
  {
    "text": "empower to build anything serverless anytime anywhere thank you [Applause]",
    "start": "1888580",
    "end": "1896869"
  }
]