[
  {
    "text": "Hello and welcome\non This is My Architecture.",
    "start": "5713",
    "end": "8646"
  },
  {
    "text": "My name is Rudy and I'm here today\nwith Michel Poulalion.",
    "start": "8687",
    "end": "11661"
  },
  {
    "text": "Hello Michel.",
    "start": "11701",
    "end": "12054"
  },
  {
    "text": "Hello Rudy.",
    "start": "12094",
    "end": "12742"
  },
  {
    "text": "Thank you for having me and giving\nme the opportunity to share my work.",
    "start": "12782",
    "end": "16375"
  },
  {
    "text": "Welcome.",
    "start": "16416",
    "end": "17653"
  },
  {
    "text": "Before we start,",
    "start": "17693",
    "end": "19022"
  },
  {
    "text": "could you tell us a little bit\nabout Veolia?",
    "start": "19062",
    "end": "21514"
  },
  {
    "text": "Yes.",
    "start": "21554",
    "end": "22169"
  },
  {
    "text": "Veolia, is the global leader\nfor environment services.",
    "start": "22209",
    "end": "25421"
  },
  {
    "text": "The activity consists of\nthree core businesses:",
    "start": "25793",
    "end": "28708"
  },
  {
    "text": "water cycle management,\nenergy services management,",
    "start": "28748",
    "end": "32764"
  },
  {
    "text": "and the recovery and recycling of waste.",
    "start": "32804",
    "end": "37399"
  },
  {
    "text": "Some numbers : \n170,000 employees around the world,",
    "start": "37439",
    "end": "42753"
  },
  {
    "text": "with a â‚¬26 billion turnover.",
    "start": "42794",
    "end": "45649"
  },
  {
    "text": "Ok.",
    "start": "45689",
    "end": "46578"
  },
  {
    "text": "You came here today to talk to\nus about a specific solution.",
    "start": "46618",
    "end": "50212"
  },
  {
    "text": "Could you tell us the purpose of this solution?",
    "start": "50252",
    "end": "52044"
  },
  {
    "text": "Yes.",
    "start": "52084",
    "end": "52635"
  },
  {
    "text": "The purpose is to identify,",
    "start": "52676",
    "end": "54566"
  },
  {
    "text": "and so it's a FinOps approach.",
    "start": "54607",
    "end": "56600"
  },
  {
    "text": "It's to identify the financial inefficiencies",
    "start": "56640",
    "end": "59293"
  },
  {
    "text": "when using AWS resources,",
    "start": "59333",
    "end": "62433"
  },
  {
    "text": "to identify and share them\nwith a specific group of people",
    "start": "62487",
    "end": "66119"
  },
  {
    "text": "who can possibily",
    "start": "66166",
    "end": "68728"
  },
  {
    "text": "find a solution to these inefficiencies.",
    "start": "68768",
    "end": "71164"
  },
  {
    "text": "Ok.",
    "start": "71204",
    "end": "72251"
  },
  {
    "text": "If we dive into more details,",
    "start": "72291",
    "end": "74448"
  },
  {
    "text": "could you tell us how the solution works",
    "start": "74488",
    "end": "78127"
  },
  {
    "text": "in terms of services?",
    "start": "78167",
    "end": "79598"
  },
  {
    "text": "Yes, there are a lot of services,",
    "start": "79638",
    "end": "81347"
  },
  {
    "text": "but it's quite simple.",
    "start": "81387",
    "end": "82664"
  },
  {
    "text": "So you have two accounts.",
    "start": "82704",
    "end": "84147"
  },
  {
    "text": "We have a central account\ncalled \"chapeau\"",
    "start": "84187",
    "end": "88812"
  },
  {
    "text": "to invoke Lambda functions,",
    "start": "88853",
    "end": "90989"
  },
  {
    "text": "our operational functions, in general,",
    "start": "91029",
    "end": "93333"
  },
  {
    "text": "and a group of monitored accounts.",
    "start": "93373",
    "end": "95759"
  },
  {
    "text": "We have CloudWatch Events \nthat runs everyday",
    "start": "96470",
    "end": "101511"
  },
  {
    "text": "at 7:30 a.m.",
    "start": "102635",
    "end": "104934"
  },
  {
    "text": "and that activates the different types\nof Lambda functions.",
    "start": "104974",
    "end": "110568"
  },
  {
    "text": "Each Lambda function, there are five of them\ntoday.",
    "start": "112608",
    "end": "115686"
  },
  {
    "text": "There will be more in the future.",
    "start": "115726",
    "end": "117771"
  },
  {
    "text": "There is a function that allows you\nto identify unutilized EC2,",
    "start": "117850",
    "end": "122243"
  },
  {
    "text": "so it uses",
    "start": "122283",
    "end": "124110"
  },
  {
    "text": "a remote access service",
    "start": "124998",
    "end": "127319"
  },
  {
    "text": "via a Describe EC2 API.",
    "start": "127359",
    "end": "132898"
  },
  {
    "text": "Ok.",
    "start": "132938",
    "end": "133331"
  },
  {
    "text": "How does it work?",
    "start": "133371",
    "end": "135215"
  },
  {
    "text": "Because here I see an IAM role.",
    "start": "135255",
    "end": "136622"
  },
  {
    "text": "I guess the Lambda function",
    "start": "136662",
    "end": "138215"
  },
  {
    "text": "needs specific permissions\nto access an instance account.",
    "start": "138255",
    "end": "140571"
  },
  {
    "text": "Indeed.",
    "start": "140611",
    "end": "141040"
  },
  {
    "text": "Indeed, I forgot to mention that.",
    "start": "141081",
    "end": "142648"
  },
  {
    "text": "There is an STS AssumeRole\nfrom the Lambda function",
    "start": "142688",
    "end": "146545"
  },
  {
    "text": "or from every Lamdba function",
    "start": "146585",
    "end": "148486"
  },
  {
    "text": "to get an authorized access to\nthe scanned accounts",
    "start": "148526",
    "end": "153111"
  },
  {
    "text": "and this IAM role is limited\nto its minimum,",
    "start": "155555",
    "end": "161252"
  },
  {
    "text": "mainly for unutilized EC2,",
    "start": "161293",
    "end": "164353"
  },
  {
    "text": "to give permissions\nto Describe Instances",
    "start": "164393",
    "end": "167244"
  },
  {
    "text": "on an EC2 service.",
    "start": "167284",
    "end": "171127"
  },
  {
    "text": "A second function.",
    "start": "172074",
    "end": "173897"
  },
  {
    "text": "They all follow the \nsame pattern,",
    "start": "173937",
    "end": "176928"
  },
  {
    "text": "mainly it's to identify the EBS\nthat are unused,",
    "start": "176968",
    "end": "180194"
  },
  {
    "text": "the process is always the same, via a specific\nrole for the EBS,",
    "start": "180234",
    "end": "185413"
  },
  {
    "text": "from Describe EBS,",
    "start": "185454",
    "end": "187129"
  },
  {
    "text": "always with an AssumeRole\nin the first place.",
    "start": "187169",
    "end": "192097"
  },
  {
    "text": "Small difference is that for\nunused EBS,",
    "start": "192137",
    "end": "196204"
  },
  {
    "text": "every function allows read-only access,",
    "start": "196245",
    "end": "200569"
  },
  {
    "text": "where the unused EBS don't delete\nthe volume that is not being used.",
    "start": "200609",
    "end": "204590"
  },
  {
    "text": "Immediately.",
    "start": "204631",
    "end": "205306"
  },
  {
    "text": "So be careful with this.",
    "start": "205346",
    "end": "207228"
  },
  {
    "text": "It deletes the volume \nif there is no \"Preserve\" tag.",
    "start": "207268",
    "end": "210450"
  },
  {
    "text": "We created a tag called \"Preserve\".",
    "start": "210887",
    "end": "212689"
  },
  {
    "text": "If there is a \"Preserve\" tag,",
    "start": "212730",
    "end": "213752"
  },
  {
    "text": "it means that there is reason that explains\nwhy the EBS is unused.",
    "start": "213792",
    "end": "218922"
  },
  {
    "text": "It's the only function, in fact,\nthat needs write permissions,",
    "start": "219234",
    "end": "223157"
  },
  {
    "text": "that is part of this IAM Role",
    "start": "223197",
    "end": "225211"
  },
  {
    "text": "to delete unused EBS",
    "start": "225251",
    "end": "229259"
  },
  {
    "text": "and that shouldn't be kept.",
    "start": "229299",
    "end": "232624"
  },
  {
    "text": "The RDS Unused function\nthat identifies the RDS bases",
    "start": "232664",
    "end": "238355"
  },
  {
    "text": "on every account",
    "start": "238395",
    "end": "239692"
  },
  {
    "text": "with no activity for the last seven days.",
    "start": "239732",
    "end": "242062"
  },
  {
    "text": "Alright.",
    "start": "242103",
    "end": "243152"
  },
  {
    "text": "An ELB Unused function that will\nalso scan the other ELB accounts.",
    "start": "243801",
    "end": "250101"
  },
  {
    "text": "Here, for the three core ELB families:\nthe Classic",
    "start": "250142",
    "end": "253047"
  },
  {
    "text": "the Application, and the Network.",
    "start": "253087",
    "end": "255446"
  },
  {
    "text": "And, an S3 Metrics that is \na bit peculiar,",
    "start": "255486",
    "end": "259327"
  },
  {
    "text": "which always uses a CloudWatch\nlike the rest of its services,",
    "start": "261203",
    "end": "267889"
  },
  {
    "text": "and will collect every\nbuckets with the size",
    "start": "268834",
    "end": "272167"
  },
  {
    "text": "and their size over time.",
    "start": "272207",
    "end": "273647"
  },
  {
    "text": "It allows you to have a history,",
    "start": "273687",
    "end": "275694"
  },
  {
    "text": "but also and mostly to see\nthe lifecycles policies",
    "start": "275734",
    "end": "278406"
  },
  {
    "text": "that are set up in order to",
    "start": "278446",
    "end": "280638"
  },
  {
    "text": "use the correct storage classes \nthat match our type of use.",
    "start": "280678",
    "end": "283914"
  },
  {
    "text": "Question.",
    "start": "283954",
    "end": "284736"
  },
  {
    "text": "I see a DynamoDB table.",
    "start": "284776",
    "end": "286608"
  },
  {
    "text": "How do you connect\nall these monitored accounts",
    "start": "286648",
    "end": "291219"
  },
  {
    "text": "using this solution?",
    "start": "291259",
    "end": "292523"
  },
  {
    "text": "The DynamoDB table is indeed\na crucially important feature.",
    "start": "292563",
    "end": "298190"
  },
  {
    "text": "It shows every AWS account we have.",
    "start": "298230",
    "end": "302345"
  },
  {
    "text": "There is a line for every AWS account",
    "start": "302385",
    "end": "304984"
  },
  {
    "text": "and we have attributes and\nan attribute matching",
    "start": "305024",
    "end": "308354"
  },
  {
    "text": "a Lambda function we want to evoke.",
    "start": "308395",
    "end": "312417"
  },
  {
    "text": "We manage quite a lot of things\nvia the Lambda services,",
    "start": "312668",
    "end": "317419"
  },
  {
    "text": "at least, for the FinOps,\nit's always true, true, true",
    "start": "317459",
    "end": "320915"
  },
  {
    "text": "for verification of efficiencies on the \naccount.",
    "start": "320955",
    "end": "326279"
  },
  {
    "text": "Ok, it's clear.",
    "start": "326319",
    "end": "327616"
  },
  {
    "text": "What are the benefits\nthat you...",
    "start": "327656",
    "end": "329746"
  },
  {
    "text": "I mean, the cost reductions",
    "start": "329786",
    "end": "330812"
  },
  {
    "text": "that you reached\nwith this solution?",
    "start": "330852",
    "end": "332168"
  },
  {
    "text": "Overall, we were able\nto reduce costs compared to 2018",
    "start": "332208",
    "end": "336268"
  },
  {
    "text": "by 10% for our AWS use at constant perimeter.",
    "start": "336308",
    "end": "339366"
  },
  {
    "text": "Obviously, the Lambda scripts,\nthese Lambda functions helped us get there.",
    "start": "339406",
    "end": "343517"
  },
  {
    "text": "It's difficult to say for the EC2.",
    "start": "343557",
    "end": "345617"
  },
  {
    "text": "However, we know that EBS allowed us\nto save $20,000 a year,",
    "start": "345657",
    "end": "350587"
  },
  {
    "text": "and it's the same for ELB,",
    "start": "350627",
    "end": "352553"
  },
  {
    "text": "because we had 80 ELB\nthat were unused,",
    "start": "352593",
    "end": "355138"
  },
  {
    "text": "which equals to $20,000 a year as well.",
    "start": "355179",
    "end": "357309"
  },
  {
    "text": "Ok, interesting.",
    "start": "357349",
    "end": "358747"
  },
  {
    "text": "Have you experienced any kind of\ndifficulties",
    "start": "359653",
    "end": "362719"
  },
  {
    "text": "implementing this solution?",
    "start": "362759",
    "end": "364585"
  },
  {
    "text": "I experienced some problems\nwith S3 Metrics.",
    "start": "364625",
    "end": "367100"
  },
  {
    "text": "I wanted to use an API S3 on Boto 3,\nbut it was not in the Boto 3",
    "start": "367140",
    "end": "372720"
  },
  {
    "text": "installed by default on Lambda.",
    "start": "372760",
    "end": "375876"
  },
  {
    "text": "I had to create a Layer with the last\nupdated library Boto 3.",
    "start": "375916",
    "end": "380206"
  },
  {
    "text": "And from there, I was able to access the exact\nAPI I wanted.",
    "start": "380246",
    "end": "384067"
  },
  {
    "text": "And, the other problem...\nI mean, it was not a problem,",
    "start": "384387",
    "end": "387633"
  },
  {
    "text": "more something I noticed during\nthe implementation,",
    "start": "387673",
    "end": "390605"
  },
  {
    "text": "it's that for the unused EC2 \nwhere we notice that",
    "start": "390645",
    "end": "394181"
  },
  {
    "text": "even when the CPU is not used,",
    "start": "394221",
    "end": "397481"
  },
  {
    "text": "the EC2 is still important.",
    "start": "397521",
    "end": "399732"
  },
  {
    "text": "For instance, an NTP server\nthat doesn't use a lot of CPU,",
    "start": "399772",
    "end": "401933"
  },
  {
    "text": "but that uses the network.",
    "start": "401973",
    "end": "402832"
  },
  {
    "text": "So, I will implement a V2\nfor this Lambda,",
    "start": "402872",
    "end": "406645"
  },
  {
    "text": "so I can add the network criteria\nin the decision-making,",
    "start": "406685",
    "end": "411553"
  },
  {
    "text": "on how the EC2 is useful or not.",
    "start": "412866",
    "end": "415356"
  },
  {
    "text": "Ok, it's clear.",
    "start": "415396",
    "end": "417220"
  },
  {
    "text": "Great, thanks a lot.",
    "start": "417260",
    "end": "418381"
  },
  {
    "text": "Really interesting.",
    "start": "418421",
    "end": "419481"
  },
  {
    "text": "Thank you for sharing with us \nthe architecture.",
    "start": "419521",
    "end": "422068"
  },
  {
    "text": "Thank you, Rudy.",
    "start": "422108",
    "end": "423695"
  },
  {
    "text": "It was fun.",
    "start": "423735",
    "end": "424875"
  },
  {
    "text": "And thank you for watching\nthis episode of This is My Architecture.",
    "start": "424915",
    "end": "428291"
  }
]