[
  {
    "start": "0",
    "end": "17000"
  },
  {
    "text": "that Eerie calm after that pumping music he uh so you guys have been staring at",
    "start": "1959",
    "end": "7120"
  },
  {
    "text": "this for a few minutes so I don't need to repeat but for the video I will this is d27 not dvo 207 uh Defending Your",
    "start": "7120",
    "end": "14240"
  },
  {
    "text": "workloads against the next zero day attack my name is Mark nikov I'm the vice president for cloud research at",
    "start": "14240",
    "end": "20359"
  },
  {
    "start": "17000",
    "end": "32000"
  },
  {
    "text": "Trend Micro you can catch me online on Twitter mark NCA GitHub pretty much any social Community uh that's my handle um",
    "start": "20359",
    "end": "28720"
  },
  {
    "text": "quick little bit of housekeeping and then we're going to dive right into this this is a sponsored session it is not a sales pitch I don't talk about anything",
    "start": "28720",
    "end": "35440"
  },
  {
    "start": "32000",
    "end": "51000"
  },
  {
    "text": "sales pitchy we have a great really cool Aviation themed Booth down in the expo hall in reinvent Central go check us out",
    "start": "35440",
    "end": "41920"
  },
  {
    "text": "uh Booth 104 uh teams on site they'd love to answer any questions talk about our deep security platform all that kind",
    "start": "41920",
    "end": "47360"
  },
  {
    "text": "of stuff but the goal here today is to learn okay this is tagged as a 200 level",
    "start": "47360",
    "end": "52840"
  },
  {
    "start": "51000",
    "end": "322000"
  },
  {
    "text": "session um there's enough of us here that uh as we're going along if you're not quite uh getting a concept I try to",
    "start": "52840",
    "end": "59600"
  },
  {
    "text": "keep this at the 200 level but if there is something that's a little difficult to handle make me a little sign somehow and I will repeat whatever is going on",
    "start": "59600",
    "end": "65960"
  },
  {
    "text": "and we're going to be doing a good Q&A at the end as well the goal here is to understand how security changes and has",
    "start": "65960",
    "end": "72600"
  },
  {
    "text": "changed in the AWS Cloud because we can do a lot of really cool new exciting things but it takes new technology which",
    "start": "72600",
    "end": "79360"
  },
  {
    "text": "we have in the form of AWS cloud services but it also takes a new approach right so what I want to start",
    "start": "79360",
    "end": "85079"
  },
  {
    "text": "is kind of level set and show you some of the story and how things have evolved over time this is the fourth reinvent um",
    "start": "85079",
    "end": "91079"
  },
  {
    "text": "I've been privileged to be here for all of them um and this started where at the first reinvent we were talking about the",
    "start": "91079",
    "end": "97119"
  },
  {
    "text": "new way of doing Security in AWS Cloud we're were talking about the shared responsibility model everybody here uh I",
    "start": "97119",
    "end": "103439"
  },
  {
    "text": "know you just had a snack so I'm going to get you a little bit of audience participation how many people know what the shared responsibility model for",
    "start": "103439",
    "end": "109399"
  },
  {
    "text": "security is show hands awesome I am super happy about",
    "start": "109399",
    "end": "115200"
  },
  {
    "text": "that because when we first introduced this in conjunction with AWS at the first reinvent which was significantly",
    "start": "115200",
    "end": "121200"
  },
  {
    "text": "smaller than this one um nobody knew people were still trying to figure out the common theme was oh AWS takes care",
    "start": "121200",
    "end": "127240"
  },
  {
    "text": "of everything and while they do a lot they don't take care of everything for so those people who did not raise their",
    "start": "127240",
    "end": "132360"
  },
  {
    "text": "hand about knowing what the shared responsibility model I will give you the Kohl's notes version super super quick",
    "start": "132360",
    "end": "137480"
  },
  {
    "text": "on one hand AWS takes care of anything physical infrastructure networking related or hypervisor virtualization",
    "start": "137480",
    "end": "144879"
  },
  {
    "text": "related on the other hand operating system applications data and the",
    "start": "144879",
    "end": "150120"
  },
  {
    "text": "configuration of AWS Services is on you so AWS takes part of it you take part of",
    "start": "150120",
    "end": "155760"
  },
  {
    "text": "it that's why they call it the shared responsibility model the easy way to remember how many responsibilities or",
    "start": "155760",
    "end": "162000"
  },
  {
    "text": "how much responsibility you have directly for the security of any AWS service is to look at how many options",
    "start": "162000",
    "end": "168519"
  },
  {
    "text": "there are to configure that service so everyone's familiar with S3 yeah okay",
    "start": "168519",
    "end": "174879"
  },
  {
    "text": "that one should have more shows of hands you guys should all raise your hands for S3 yeah I'm going to keep bugging you",
    "start": "174879",
    "end": "180280"
  },
  {
    "text": "you're going to you're going to get with it don't worry so for S3 basically you set the permission of who can see the bucket and that's it right so very few",
    "start": "180280",
    "end": "187959"
  },
  {
    "text": "options available for S3 so you don't have that much direct shared uh responsibility for security AWS takes",
    "start": "187959",
    "end": "193480"
  },
  {
    "text": "care of the vast majority of that contrast that to something like VPC VPC you can Define your subnets your",
    "start": "193480",
    "end": "199760"
  },
  {
    "text": "security groups your routing tables your knackles a whole bunch of configurations your VPN connects your internet gateways you're nting all this kind of stuff you",
    "start": "199760",
    "end": "206239"
  },
  {
    "text": "have significantly more Direct Security responsibilities in a service like VPC",
    "start": "206239",
    "end": "211280"
  },
  {
    "text": "so shared responsibility model you're balancing sharing the responsibility of directly managing security with AWS so",
    "start": "211280",
    "end": "218439"
  },
  {
    "text": "we introduced this we talked to ABS we both brought this message out to the market about sharing the responsibility",
    "start": "218439",
    "end": "223879"
  },
  {
    "text": "that was way back in 2012 when this conference was 2200 people right if you guys have seen cloudability has a",
    "start": "223879",
    "end": "229959"
  },
  {
    "text": "fantastic uh infographic about how this conference is grown um it is just Leaps and Bounds so the next year we came and",
    "start": "229959",
    "end": "236439"
  },
  {
    "text": "we were talking and the question the questions we got around security were a little more mature people started to get it they started to talk more about",
    "start": "236439",
    "end": "241959"
  },
  {
    "text": "security and compliance and what was interesting was we had this change in the tenor of the discussion it went from",
    "start": "241959",
    "end": "247640"
  },
  {
    "text": "being predominantly should I go to more of when am I going into the AWS cloud",
    "start": "247640",
    "end": "253519"
  },
  {
    "text": "and what I really had fun at that conference in 2013 was because we got to talk about our experience about building a security service in AWS and that was",
    "start": "253519",
    "end": "261000"
  },
  {
    "text": "really us showing that we could do it and how you could build a highly uh highly available highly secure service",
    "start": "261000",
    "end": "266199"
  },
  {
    "text": "to deliver highly available highly secure security to other people um but then last year we got to talk about",
    "start": "266199",
    "end": "271560"
  },
  {
    "text": "operations and this is where this talk really starts to pick up is that we talked about how operations are shifting",
    "start": "271560",
    "end": "277039"
  },
  {
    "text": "from a traditional security model so how many people are have heard of and are in",
    "start": "277039",
    "end": "282520"
  },
  {
    "text": "both at the same time tired of the term devops everybody yeah it's it's handy",
    "start": "282520",
    "end": "288960"
  },
  {
    "text": "but it's also really it's everywhere it's kind of losing its meaning but devops is actually a recognition of the",
    "start": "288960",
    "end": "295039"
  },
  {
    "text": "fact that you can do operations very very differently when it comes to the AWS CL CL everything's available via an",
    "start": "295039",
    "end": "300800"
  },
  {
    "text": "API and you can start to think about your uh it Assets in a different way",
    "start": "300800",
    "end": "305840"
  },
  {
    "text": "compute all of a sudden becomes relatively disposable and from a security perspective that changes a lot",
    "start": "305840",
    "end": "311680"
  },
  {
    "text": "of things and that brings us to today we're going to talk about a bunch of AWS services and controls that you can layer",
    "start": "311680",
    "end": "317280"
  },
  {
    "text": "on top of those services to deal with attx like zero days so first of all um",
    "start": "317280",
    "end": "324560"
  },
  {
    "start": "322000",
    "end": "446000"
  },
  {
    "text": "uh we're all adults here so I I will ask and I will phrase this properly um if",
    "start": "324560",
    "end": "330080"
  },
  {
    "text": "you disagree raise your hand happens you're going to have to deal with it right yeah everyone agrees with that",
    "start": "330080",
    "end": "338160"
  },
  {
    "text": "statement from a security perspective that's the realization that regardless of how good you are at layering security",
    "start": "338160",
    "end": "344560"
  },
  {
    "text": "and monitoring security at some point you're going to have to deal with a breach of some significance this is a",
    "start": "344560",
    "end": "350440"
  },
  {
    "text": "fact of life I know that sounds weird coming from a security guy talking to you about security but realistically you",
    "start": "350440",
    "end": "355560"
  },
  {
    "text": "need to plan for it if you fail to plan for it that's when you fail at security so what you have to do is build",
    "start": "355560",
    "end": "361639"
  },
  {
    "text": "resiliency into your deployments and that ends up being a very interesting concept when it comes to AWS because it",
    "start": "361639",
    "end": "367720"
  },
  {
    "text": "starts to get out of the core of what security is traditionally applied so we like to say no a lot we like to put",
    "start": "367720",
    "end": "373120"
  },
  {
    "text": "controls in that stop people from doing fun stuff and we slow projects down that no longer applies you can't do that and",
    "start": "373120",
    "end": "379720"
  },
  {
    "text": "be successful in the AWS Cloud so we have resiliency which basically means stuff happens and you need some form of",
    "start": "379720",
    "end": "385919"
  },
  {
    "text": "response to bring things back online and ideally that's an automated response so",
    "start": "385919",
    "end": "392000"
  },
  {
    "text": "with security we tend to look at a security through a lens called CIA not",
    "start": "392000",
    "end": "397039"
  },
  {
    "text": "the agency CIA but confidentiality integrity and availability unfortunately",
    "start": "397039",
    "end": "403000"
  },
  {
    "text": "availability is the one area that most security operations tend to ignore um",
    "start": "403000",
    "end": "408039"
  },
  {
    "text": "however it is a really important aspect of security if your data and applications are not available well then",
    "start": "408039",
    "end": "414319"
  },
  {
    "text": "they're not of any use to your business right and the goal of Security is to reduce the business the risk to the business um and availability is a big",
    "start": "414319",
    "end": "420919"
  },
  {
    "text": "part of it but when we tie back to devops availability is a bridge builder because other areas operations and",
    "start": "420919",
    "end": "426840"
  },
  {
    "text": "development are always concerned about availability so we can use it and the concept of resiliency to go around",
    "start": "426840",
    "end": "432759"
  },
  {
    "text": "because if a layer drops off your stack if it was a configuration error or a",
    "start": "432759",
    "end": "437919"
  },
  {
    "text": "security incident the result is the same you need to rebuild it to bring production back online or back to full",
    "start": "437919",
    "end": "443560"
  },
  {
    "text": "capacity so that's what we're going to talk about today we're going to talk uh in that with the context of a zero day",
    "start": "443560",
    "end": "450720"
  },
  {
    "start": "446000",
    "end": "489000"
  },
  {
    "text": "so you guys obviously you've watched TV you see media everybody's heard the term zero day",
    "start": "450720",
    "end": "456520"
  },
  {
    "text": "right yeah a little bit nody okay that's good what a zero day ends up being is",
    "start": "456520",
    "end": "461599"
  },
  {
    "text": "it's a vulnerability that we know about that has no immediate remediation or",
    "start": "461599",
    "end": "468039"
  },
  {
    "text": "long-term fix so no patch it's a problem now we know it's a problem but there's nothing we can do to long-term fix right",
    "start": "468039",
    "end": "474159"
  },
  {
    "text": "now um and what really what a lot of people don't figure out is that it's an evolving situation it's not just just a",
    "start": "474159",
    "end": "479879"
  },
  {
    "text": "hey here's a problem it continues along it's normally an entire process and while you're dealing with this process",
    "start": "479879",
    "end": "486240"
  },
  {
    "text": "that means that you're not doing other work for your business okay and we're going to use a practical example so",
    "start": "486240",
    "end": "491360"
  },
  {
    "start": "489000",
    "end": "502000"
  },
  {
    "text": "shell shock was a very public vulnerability it's one of my personal favorites it's a fantastic story and",
    "start": "491360",
    "end": "496479"
  },
  {
    "text": "you're going to see why in a few minutes here shellshock was a vulnerability that came out uh in 2014 um it hit mainstream",
    "start": "496479",
    "end": "502919"
  },
  {
    "start": "502000",
    "end": "555000"
  },
  {
    "text": "media it was in USA Today um it was in Forbes it was on the TV like people were coming up to me as a security guy and",
    "start": "502919",
    "end": "509720"
  },
  {
    "text": "saying like hey what about shell shock and I'm like listen mom you don't need to really worry about it right now but good that you are aware of these issues",
    "start": "509720",
    "end": "516120"
  },
  {
    "text": "um right and it's it was last year was the the uh year of branding security vulnerabilities so heart bleed with the",
    "start": "516120",
    "end": "523039"
  },
  {
    "text": "little heart with a menacing blood dripping from it shell shock with a turtle thing but in a good aspect from security is that now it's a mainstream",
    "start": "523039",
    "end": "529440"
  },
  {
    "text": "topic so for your information shell shock was a bug in bash bash is a command line interpreter that is almost",
    "start": "529440",
    "end": "537240"
  },
  {
    "text": "everywhere it's embedded in device devices um in your home routers it's in cars um everybody who's got a Mac and",
    "start": "537240",
    "end": "544200"
  },
  {
    "text": "terminal by default it boots up bash right it's command line you type it it executes something very simple very",
    "start": "544200",
    "end": "551040"
  },
  {
    "text": "common way of accessing uh computers right so bash command line interpreter this Bug shell shock with vulnerability",
    "start": "551040",
    "end": "558480"
  },
  {
    "text": "was rated 10 out of 10 or 1010 from the national vulnerability database that means that it was extremely widespread",
    "start": "558480",
    "end": "564920"
  },
  {
    "text": "cuz bash is everywhere and it was extremely easy to exploit and it was so easy in fact that I will",
    "start": "564920",
    "end": "571560"
  },
  {
    "text": "break my normal code and I will show you actual attack code on the screen because it's ridiculously easy this is the",
    "start": "571560",
    "end": "578079"
  },
  {
    "text": "attack code for shell shock if you replace the word attack with a command that you want to execute on your victim",
    "start": "578079",
    "end": "585320"
  },
  {
    "text": "system that's all it takes that simple like it's like seven",
    "start": "585320",
    "end": "590800"
  },
  {
    "text": "characters eight characters right like super quick and off you go what happens is the bad guy sends that command attack",
    "start": "590800",
    "end": "596399"
  },
  {
    "text": "and then your data gets shoved back to him very easy this is why it was a 1010 I will show you that in action okay",
    "start": "596399",
    "end": "605079"
  },
  {
    "start": "603000",
    "end": "627000"
  },
  {
    "text": "this is my website it's Mark's marvelous Market um it is running a very simple contact form that form is back ended by",
    "start": "605079",
    "end": "613279"
  },
  {
    "text": "an older technology um CGI bin which is computer Gateway interface just going to make sure this is still running um",
    "start": "613279",
    "end": "619800"
  },
  {
    "text": "computer Gateway interface and what that is is that takes the form and then it executes it takes that data and it",
    "start": "619800",
    "end": "625519"
  },
  {
    "text": "executes a command on the shell as an attacker I'm going to enumerate this application and find a vulnerable Point",
    "start": "625519",
    "end": "632640"
  },
  {
    "text": "manually I'm going to look at the source code for that HTML page and I notice in the form that the action is CGI bin",
    "start": "632640",
    "end": "638560"
  },
  {
    "text": "submit I now have the first piece of information I need to run an exploit I know a full URL that I can ping that",
    "start": "638560",
    "end": "645480"
  },
  {
    "text": "should execute a command on the server normally that's submitting this form so",
    "start": "645480",
    "end": "650560"
  },
  {
    "text": "that somebody who runs the market can respond to a customer I'm a bad guy I'm not going to use it that way I'm going",
    "start": "650560",
    "end": "655639"
  },
  {
    "text": "to flip over ironically to bash and run a command that command is sending a web request to",
    "start": "655639",
    "end": "661560"
  },
  {
    "text": "that URL with our attack code and I'm dumping all of the users on the system",
    "start": "661560",
    "end": "666600"
  },
  {
    "text": "this is bad this should not happen should not happen with one command I'm going to get a little more evil and what",
    "start": "666600",
    "end": "671920"
  },
  {
    "text": "I'm going to dump is part of the Apache web server config and what I'm going to dump is the location of the SSL",
    "start": "671920",
    "end": "680240"
  },
  {
    "text": "certificate also very bad that should never happen and it should not be one command I'm going to be even more mean",
    "start": "680240",
    "end": "686160"
  },
  {
    "text": "and I'm actually going to dump the entire private key for that certificate now I have both the public",
    "start": "686160",
    "end": "692680"
  },
  {
    "text": "key because shockingly it's public and I have the private key what that allows me as an attacker is to execute a",
    "start": "692680",
    "end": "699440"
  },
  {
    "text": "man-in-the-middle attack so I can get between your legitimate users and your website with your cryptographic identity",
    "start": "699440",
    "end": "707720"
  },
  {
    "text": "and nobody knows so I'm signing requests legitimately they think I'm you and you think I'm them and I get all the data",
    "start": "707720",
    "end": "714959"
  },
  {
    "text": "everyone thinks it's encrypted it is encrypted except I'm in the middle with valid encryp keys for both",
    "start": "714959",
    "end": "720360"
  },
  {
    "text": "sides right very simple exploit very dramatic impact literally took three",
    "start": "720360",
    "end": "727519"
  },
  {
    "text": "commands and you could probably guess it in one because most people leave the certificates in pretty default positions",
    "start": "727519",
    "end": "733760"
  },
  {
    "text": "anyone disagree that this is really bad right that that's atrocious so let's",
    "start": "733760",
    "end": "740440"
  },
  {
    "text": "see just actually how bad this was and this is where it gets fun and this is why this is one of my absolute favorite",
    "start": "740440",
    "end": "745560"
  },
  {
    "text": "vulnerabilities of all time so are there any guesses at how long or when this",
    "start": "745560",
    "end": "751240"
  },
  {
    "text": "first entered the public sphere when this bug was released into bash any",
    "start": "751240",
    "end": "756279"
  },
  {
    "text": "guesses wild guesses like 15 years ago 15 years okay anybody",
    "start": "756279",
    "end": "761639"
  },
  {
    "text": "else yeah more like 20 20 okay anyone else solid guesses solid guesses I give",
    "start": "761639",
    "end": "768720"
  },
  {
    "text": "you Kudos 1989 okay not the Taylor Swift album not",
    "start": "768720",
    "end": "775040"
  },
  {
    "start": "770000",
    "end": "785000"
  },
  {
    "text": "the Ryan Adams cover of the Taylor Swift album the year 1989 what also happened in 1989 I think Paula",
    "start": "775040",
    "end": "781920"
  },
  {
    "text": "Abdul had like two hits on the top 10 also Game Boy was the topof thee line",
    "start": "781920",
    "end": "787120"
  },
  {
    "start": "785000",
    "end": "815000"
  },
  {
    "text": "mobile gaming system of the day right this is a bad thing it's been around for",
    "start": "787120",
    "end": "792399"
  },
  {
    "text": "a really really long time so you think initially in 1989 not that big of an impact because not much was connected",
    "start": "792399",
    "end": "799160"
  },
  {
    "text": "but all through the dot boom this bug was live right and for every time the good",
    "start": "799160",
    "end": "806560"
  },
  {
    "text": "guys know about a bug I will guarant gue that the bad guys have also known about it and we're just nice and quiet about",
    "start": "806560",
    "end": "812600"
  },
  {
    "text": "it quietly exploiting it doing what they wanted with it so 1989 so we have that",
    "start": "812600",
    "end": "818000"
  },
  {
    "start": "815000",
    "end": "942000"
  },
  {
    "text": "at the top of the table here 1989 in August uh August 5th 832 was when it was",
    "start": "818000",
    "end": "823480"
  },
  {
    "text": "first checked into the code base got to love Source control you get really accurate stats like",
    "start": "823480",
    "end": "828560"
  },
  {
    "text": "this 27 days later they actually rolled it up into a release and shoved it out to the public there it sat for",
    "start": "828560",
    "end": "836360"
  },
  {
    "text": "9141 days 25 years for 25 years this sat out in the ecosystem live making people",
    "start": "836360",
    "end": "844600"
  },
  {
    "text": "vulnerable to this exploit whether they were exploited or not that's another question you can see after the initial",
    "start": "844600",
    "end": "850800"
  },
  {
    "text": "report 2 days later we had the first patch and then this is what I talked",
    "start": "850800",
    "end": "856920"
  },
  {
    "text": "about as far as there's a sequence there's an event here it's not just one isolation it's an entire process all of",
    "start": "856920",
    "end": "863720"
  },
  {
    "text": "these points in this table are things that you as people who are running applications workloads need to respond",
    "start": "863720",
    "end": "870279"
  },
  {
    "text": "to this is either instances where there's more information worse yet they found out it was not just the bad as",
    "start": "870279",
    "end": "876360"
  },
  {
    "text": "they thought it was worse than they thought and there's alternate ways to exploit this bug so this bug went beyond",
    "start": "876360",
    "end": "882199"
  },
  {
    "text": "simple web requests we saw started to see it in DHCP in DNS and a whole bunch of other Stacks had similar exploits off",
    "start": "882199",
    "end": "889480"
  },
  {
    "text": "of this one pivot so each of these points you had to do something you had to be aware you had to read the",
    "start": "889480",
    "end": "894600"
  },
  {
    "text": "information you had to make a risk assessment or if they were green you actually had to deploy a pack PCH so a",
    "start": "894600",
    "end": "899880"
  },
  {
    "text": "zero day is not just one event it's a sequence events and this took case uh place over course of two weeks if we",
    "start": "899880",
    "end": "906880"
  },
  {
    "text": "roll that up you can see here we had five patches we to deploy five patches to fix this one issue that had sat live",
    "start": "906880",
    "end": "914199"
  },
  {
    "text": "for 25 years ironic a sense of urgency at the end of the process after it had",
    "start": "914199",
    "end": "920040"
  },
  {
    "text": "laid fow for so long but nonetheless we need to react to that right because as soon as we're aware of it you do not",
    "start": "920040",
    "end": "925680"
  },
  {
    "text": "want to go back to your boss or to the board and say yeah we were aware of it but you know it had been out there for 25 years so we just kind of didn't do",
    "start": "925680",
    "end": "931880"
  },
  {
    "text": "anything and then we dealt with it later and I'm sorry we made the front page and that you were photograph like looking",
    "start": "931880",
    "end": "937519"
  },
  {
    "text": "like an idiot walking out not knowing that all your data had leaked so you have to respond to all these",
    "start": "937519",
    "end": "942959"
  },
  {
    "text": "events and that kicks off the two-phase process we need to react and that's the first thing",
    "start": "942959",
    "end": "949319"
  },
  {
    "text": "something hits this and we need to start this reaction right and then we need to resolve it so let's dive into how we",
    "start": "949319",
    "end": "954959"
  },
  {
    "text": "react and we're going to go back to our shared responsibility model there's two ways we're going to react the first part",
    "start": "954959",
    "end": "960399"
  },
  {
    "text": "we're going to look and we're going to verify our AWS configuration and there I'm going to take a quick break and give",
    "start": "960399",
    "end": "966160"
  },
  {
    "text": "you uh ironic statement on my part is that you should never agree to do a talk that you have to prep a month in advance",
    "start": "966160",
    "end": "973120"
  },
  {
    "text": "when you know there's a reinvent keynote where they're going to announce new stuff and I'll show you how the new",
    "start": "973120",
    "end": "978240"
  },
  {
    "text": "stuff that was announced this morning actually ties into this process but I'll show you the manual way and then I'll show you the really easy way so this is",
    "start": "978240",
    "end": "985240"
  },
  {
    "start": "983000",
    "end": "1059000"
  },
  {
    "text": "a design out of the AWS reference architecture Library for those of you who don't know AWS has a reference",
    "start": "985240",
    "end": "991040"
  },
  {
    "text": "architecture library aws.com or aws.amazon.com architecture this is the standard web",
    "start": "991040",
    "end": "997519"
  },
  {
    "text": "application hosting architecture it's basically what we'd call an end tier architecture right so you've got a",
    "start": "997519",
    "end": "1002680"
  },
  {
    "text": "presentation layer a business layer and a databased back end I'm going to clean this up a little bit because we're only worried with a part of it we're going to",
    "start": "1002680",
    "end": "1008440"
  },
  {
    "text": "eliminate Route 53 Cloud front S3 all that kind of stuff and we're going to see our core of our deployment is an",
    "start": "1008440",
    "end": "1014720"
  },
  {
    "text": "elastic load balancer a set of instances an elastic load balancer than another set of instances okay when we flatten",
    "start": "1014720",
    "end": "1021720"
  },
  {
    "text": "that out it looks like this so we have traffic coming in it hits the first elastic load balancer it then goes to a",
    "start": "1021720",
    "end": "1028640"
  },
  {
    "text": "series uh to an instance that's running in one of two subnets across availability zones that instance will",
    "start": "1028640",
    "end": "1034079"
  },
  {
    "text": "then talk to another load balancer that does the same thing on the back end so you've got presentation layer so your UI",
    "start": "1034079",
    "end": "1039319"
  },
  {
    "text": "your web servers then your business logic in the back end right very simple very standard uh deployment method we've",
    "start": "1039319",
    "end": "1045520"
  },
  {
    "text": "been doing this for years this is well before Cloud it just works a lot better when we're in the cloud so what we need",
    "start": "1045520",
    "end": "1050559"
  },
  {
    "text": "to do is make sure that what we've designed on paper or on PowerPoint is actually what we have in our deployment",
    "start": "1050559",
    "end": "1057360"
  },
  {
    "text": "in AWS is this what's actually running in our VPC and to do that we're going to go through an auditing checklist and AWS",
    "start": "1057360",
    "end": "1063760"
  },
  {
    "start": "1059000",
    "end": "1325000"
  },
  {
    "text": "has a white paper it's really good I'll reference it in a second but the first thing we need to do is check our IM IM permissions we want to make sure that",
    "start": "1063760",
    "end": "1069960"
  },
  {
    "text": "the instances in our deployment don't have permissions that they shouldn't because if they are compromised we don't",
    "start": "1069960",
    "end": "1075480"
  },
  {
    "text": "want the attacker to start to go sideways and affect the rest of our resources so here we look at we have an",
    "start": "1075480",
    "end": "1080520"
  },
  {
    "text": "IM IM role that has no permissions this is a good operational practice to give",
    "start": "1080520",
    "end": "1085720"
  },
  {
    "text": "everything a role because you can't give it a role after it's been instantiated after it's up and running it either has a role or doesn't you can change the",
    "start": "1085720",
    "end": "1092120"
  },
  {
    "text": "permissions but you can't give it a new role so in our case we've given it a rle but it can't do anything this means if",
    "start": "1092120",
    "end": "1097720"
  },
  {
    "text": "an attacker compromises our system they're not going to go out and delete a bunch of stuff in our AWS account this",
    "start": "1097720",
    "end": "1102919"
  },
  {
    "text": "is a good thing we're safe here next thing we want to check is our security groups we have four security groups one",
    "start": "1102919",
    "end": "1110320"
  },
  {
    "text": "for the outer load balancer the next set of instances the next load balancer the next set of instances we're going to",
    "start": "1110320",
    "end": "1115559"
  },
  {
    "text": "check to make sure that the rules aren't too generous the first rule we have is for our outbound uh elb for the internet",
    "start": "1115559",
    "end": "1122400"
  },
  {
    "text": "facing one it's open to the world it's a good thing the next one is our web servers they're also open on TCP for",
    "start": "1122400",
    "end": "1129480"
  },
  {
    "text": "Port 443 which we expect to be https traffic they're also open to the world",
    "start": "1129480",
    "end": "1135000"
  },
  {
    "text": "that's bad they shouldn't be the reason why they shouldn't be is because they're sitting behind a load",
    "start": "1135000",
    "end": "1141039"
  },
  {
    "text": "balancer the only person talking to those instances should be that load balcer right this is a very common",
    "start": "1141039",
    "end": "1148039"
  },
  {
    "text": "mistake it's very simple it makes sense when you think about it but then you're like oh wait load bouncer load bouncer is the one talking to them not the other",
    "start": "1148039",
    "end": "1154520"
  },
  {
    "text": "so we're going to actually go in and fix this room we're going to use a little trick that not too many people are aware of we're going to edit the source to",
    "start": "1154520",
    "end": "1161799"
  },
  {
    "text": "change it to actually be another Security Group most people assume you can only dump uh IPS or IP address",
    "start": "1161799",
    "end": "1167919"
  },
  {
    "text": "blocks in there you can actually put in security groups so here we've chained to security",
    "start": "1167919",
    "end": "1173840"
  },
  {
    "text": "groups related all good there's a limit on the number of security there is there",
    "start": "1173840",
    "end": "1178880"
  },
  {
    "text": "is a limit I'll get back onto that one for sure so in this case we've got a simple design and we're not going to hit that limit but what we've done is we've",
    "start": "1178880",
    "end": "1185000"
  },
  {
    "text": "linked a security group to a security group so we've said the load balancer is the only person to allowed to send",
    "start": "1185000",
    "end": "1190120"
  },
  {
    "text": "traffic to the next layer which is the web instances now we're going to check the next uh the next load balancer and",
    "start": "1190120",
    "end": "1196000"
  },
  {
    "text": "here what we see is we see that both of our public subnets are allowed to send traffic this is not bad this is pretty",
    "start": "1196000",
    "end": "1201799"
  },
  {
    "text": "decent but operationally it's cumbersome it's clunky because what if we stand up a third Subnet in another availability",
    "start": "1201799",
    "end": "1208159"
  },
  {
    "text": "zone right then we'd have to go in and add another Rule and another Rule and another rule another rule far more",
    "start": "1208159",
    "end": "1213559"
  },
  {
    "text": "efficient is to do the same trick link the security groups again because now we're saying anyone who's a web instance",
    "start": "1213559",
    "end": "1218720"
  },
  {
    "text": "is allowed to talk to the internal elb so finally we're going to then check our application server and our application",
    "start": "1218720",
    "end": "1226159"
  },
  {
    "text": "server is probably going to be okay sometimes I get a little ahead of my videos but the the gentleman's earlier",
    "start": "1226159",
    "end": "1231840"
  },
  {
    "text": "point about Security Group limits there are limits on almost everything in AWS sometimes you hit them sometimes you",
    "start": "1231840",
    "end": "1236960"
  },
  {
    "text": "don't in standard type of deployments like this you're probably not going to hit them that often um it's not that big",
    "start": "1236960",
    "end": "1242200"
  },
  {
    "text": "of a concern some limits you can have re or increased on request others like the",
    "start": "1242200",
    "end": "1247320"
  },
  {
    "text": "security group limit you actually can't get increased but if you're in an edge case where your security groups are getting limited you probably want to",
    "start": "1247320",
    "end": "1253159"
  },
  {
    "text": "re-evaluate how you've architected them so our security groups check out we move on to our next thing which is our",
    "start": "1253159",
    "end": "1258200"
  },
  {
    "text": "subnets so these are network address space that we're using and what we want to do here is we want to make sure that",
    "start": "1258200",
    "end": "1263240"
  },
  {
    "text": "the routing tables which is how traffic is directed are set up so that our public subnets are public in this case",
    "start": "1263240",
    "end": "1269520"
  },
  {
    "text": "they have an internet gateway that's a good thing but we want to make sure that the opposite is uh also true for private",
    "start": "1269520",
    "end": "1275360"
  },
  {
    "text": "subnets we want to make sure that the private subnets don't have internet gateways in their routing tables we've",
    "start": "1275360",
    "end": "1280880"
  },
  {
    "text": "done that we're okay here that's always good now comes to the little more complicated Network acl's knackles",
    "start": "1280880",
    "end": "1288120"
  },
  {
    "text": "horrible acronym um what they are is these Define what comes in and out for the subnet so Security Group goes for",
    "start": "1288120",
    "end": "1294039"
  },
  {
    "text": "your instance knackles go for the subnet itself here we've actually done a pretty good job all traffic is allowed",
    "start": "1294039",
    "end": "1299960"
  },
  {
    "text": "internally in our VPC we're okay there um going in and out of the VPC we've set up some ephemeral ports you don't have",
    "start": "1299960",
    "end": "1306799"
  },
  {
    "text": "to understand these you just have to know that these are aligned with AWS best practice because of the way some",
    "start": "1306799",
    "end": "1312159"
  },
  {
    "text": "Network protocols work right you look at the range and you're like wow why not just everything good question question I",
    "start": "1312159",
    "end": "1318440"
  },
  {
    "text": "don't have a good answer for that um so we've checked our knackles we're okay there so in this process what we've done",
    "start": "1318440",
    "end": "1325440"
  },
  {
    "start": "1325000",
    "end": "1410000"
  },
  {
    "text": "is we've gone through and checked our AWS configurations we've checked our I am roles they were okay we had roles",
    "start": "1325440",
    "end": "1332120"
  },
  {
    "text": "assigned but they had no permissions that means if there was additional permissions there what could happen is an attacker gains a foothold so they",
    "start": "1332120",
    "end": "1338679"
  },
  {
    "text": "exploit our box like we saw in the first video then they could go delete our backup or they could spin up new",
    "start": "1338679",
    "end": "1344039"
  },
  {
    "text": "instances or they could keep doing whatever they wanted in our account if it had too many permissions so we check our roles we make sure they don't have",
    "start": "1344039",
    "end": "1350080"
  },
  {
    "text": "extra permissions we check the security group to make sure they were locked down as possible and we did the same thing with our subnets and our knackles so I",
    "start": "1350080",
    "end": "1357559"
  },
  {
    "text": "promised you tie into the keynote this morning uh did everybody see the keynote with Andy jasse this morning right AWS",
    "start": "1357559",
    "end": "1364000"
  },
  {
    "text": "config rules we saw that quick little blurb AWS config rules can automate everything I just walked you through you",
    "start": "1364000",
    "end": "1370480"
  },
  {
    "text": "can set up an AWS config rule set to verify what we just checked manually so that in the case when you have to react",
    "start": "1370480",
    "end": "1376960"
  },
  {
    "text": "you can simply go in and execute that rule set and it will come back with a nice itemized list of yes you're good no",
    "start": "1376960",
    "end": "1382320"
  },
  {
    "text": "you're not yes you're good no you're not all the way through fantastic service it really makes AWS config extremely",
    "start": "1382320",
    "end": "1388000"
  },
  {
    "text": "valuable it's something you should look at you should sign up for the preview and read the AWS blog post on it um",
    "start": "1388000",
    "end": "1393080"
  },
  {
    "text": "we've got a blog post up on it as well um to understand how that works so what you just walk through the bottom line",
    "start": "1393080",
    "end": "1398440"
  },
  {
    "text": "you can automate that through config rules super powerful really awesome interesting when you're giving a talk",
    "start": "1398440",
    "end": "1403679"
  },
  {
    "text": "that's based on that and then you got to incorporate at the last minute so that's part of it that's the aw side of things what we need to check now is on our",
    "start": "1403679",
    "end": "1410559"
  },
  {
    "start": "1410000",
    "end": "1481000"
  },
  {
    "text": "instances because what we've got set up is assumed traffic flow so we've used security groups and knackles to make",
    "start": "1410559",
    "end": "1416120"
  },
  {
    "text": "sure that we only have TCP 443 going in what most people don't tend to realize",
    "start": "1416120",
    "end": "1421799"
  },
  {
    "text": "is that while we expect secure web traffic so HTTP traffic uh https traffic",
    "start": "1421799",
    "end": "1428120"
  },
  {
    "text": "excuse me there is no guarantee currently in place to make sure that that's the actual traffic we expect all",
    "start": "1428120",
    "end": "1434320"
  },
  {
    "text": "of these ports are default by International deao agreement Umano has a",
    "start": "1434320",
    "end": "1439640"
  },
  {
    "text": "big port list of what the default port for services are but they are simply default ports so most of you probably",
    "start": "1439640",
    "end": "1445480"
  },
  {
    "text": "have seen inside your organization somebody's got a web server where you look at the Domain and then it's colon and a new port number right because they",
    "start": "1445480",
    "end": "1452600"
  },
  {
    "text": "picked a new port to run that server on you can do that with the client side as well I can send requests to wherever so",
    "start": "1452600",
    "end": "1457960"
  },
  {
    "text": "what we've verified in place right now is simply what we expect to be coming through we expect secure web traffic to",
    "start": "1457960",
    "end": "1464279"
  },
  {
    "text": "be coming through this what we have to do because we're security people we're a little paranoid is verify that that's",
    "start": "1464279",
    "end": "1469840"
  },
  {
    "text": "actually what's coming down and to use that to do that we're going to use a control called intrusion prevention what",
    "start": "1469840",
    "end": "1475159"
  },
  {
    "text": "intrusion prevention does is is going to look at each packet to verify that it is what we actually think it is very simple",
    "start": "1475159",
    "end": "1481880"
  },
  {
    "start": "1481000",
    "end": "1523000"
  },
  {
    "text": "so I'll give you a little animation to see that in action we have one packet goes through it's https that's what",
    "start": "1481880",
    "end": "1487480"
  },
  {
    "text": "we're expecting we allow it to continue on next packet comes through same thing it's valid secure web traffic we're",
    "start": "1487480",
    "end": "1493960"
  },
  {
    "text": "happy with that off it goes somebody then tries to SSH into the box that's not what we want so we're going to drop",
    "start": "1493960",
    "end": "1500080"
  },
  {
    "text": "it right it's pretty straightforward little more nuanced case somebody sends https traic but in this case it contains",
    "start": "1500080",
    "end": "1507520"
  },
  {
    "text": "a SQL injection attack well we're going to drop that too that's the value of the intrusion prevention engine it will no",
    "start": "1507520",
    "end": "1514320"
  },
  {
    "text": "not only verify that the packets you're receiving conform to the protocol You're Expecting but they also don't have any",
    "start": "1514320",
    "end": "1520640"
  },
  {
    "text": "malicious content so we're going to use that to protect against shell shock so what we want to do is we want to deploy",
    "start": "1520640",
    "end": "1526840"
  },
  {
    "start": "1523000",
    "end": "1638000"
  },
  {
    "text": "that on all of our instances so this raises an interesting operational question if you have a very large",
    "start": "1526840",
    "end": "1532480"
  },
  {
    "text": "deployment you could end up with a significant amount of individual security controls that you need to manage so you want to make sure that you",
    "start": "1532480",
    "end": "1538760"
  },
  {
    "text": "can manage those either programmatically or centrally otherwise you've just made a huge problem for yourself operationally trying to configure and",
    "start": "1538760",
    "end": "1545240"
  },
  {
    "text": "manage alerts from all these different systems so you need some sort of centralization here so let's watch that in action here",
    "start": "1545240",
    "end": "1552200"
  },
  {
    "text": "we go with our uh normal attack we saw that attacker there what we're going to do now is flip over to our defensive",
    "start": "1552200",
    "end": "1557360"
  },
  {
    "text": "tool and we're going to apply a rule in our intrusion prevention engine to actually look for that attack code that",
    "start": "1557360",
    "end": "1563240"
  },
  {
    "text": "we saw on that first slide so now we're going to configure our engine we're going to go in and we're going to pick a rule and we're going to say we want to",
    "start": "1563240",
    "end": "1569960"
  },
  {
    "text": "prevent against this attack so this is our deep security platform but it works with any intrusion prevention um the",
    "start": "1569960",
    "end": "1576200"
  },
  {
    "text": "technique will work just fine in this case we're going to pick uh the remote code vulnerability which equals to the same set of cves that we saw for uh",
    "start": "1576200",
    "end": "1583559"
  },
  {
    "text": "shell shock so this is what's going to tell the engine that anytime you see that fake function code and something",
    "start": "1583559",
    "end": "1589600"
  },
  {
    "text": "piped after it to execute drop that packet no matter what if it's a valid protocol if it's coming over valid https",
    "start": "1589600",
    "end": "1596600"
  },
  {
    "text": "traffic if it contains that attack string or any mutation thereof get rid of it so if we flick back and put our",
    "start": "1596600",
    "end": "1603480"
  },
  {
    "text": "bad guy hat back on we try the exact same attack you'll see our response is significantly different in this case",
    "start": "1603480",
    "end": "1609440"
  },
  {
    "text": "we're receiving an empty reply from the server try it again just to see but it's the exact same thing what we've got here",
    "start": "1609440",
    "end": "1615080"
  },
  {
    "text": "is an empty return from the server because the servers running intrusion prevention it saw the attack it was a",
    "start": "1615080",
    "end": "1621000"
  },
  {
    "text": "valid packet it conformed to what we expected but it had an attack inside so it had malicious payload and it dropped",
    "start": "1621000",
    "end": "1626520"
  },
  {
    "text": "it so the attacker is no longer able to exploit it so while we have not fixed",
    "start": "1626520",
    "end": "1631640"
  },
  {
    "text": "the issue we have at least mitigated it for now so we've bought ourselves time",
    "start": "1631640",
    "end": "1637679"
  },
  {
    "text": "okay it's a very important step so if we summarize what we've done on our side we've checked that all of our instances",
    "start": "1637679",
    "end": "1643039"
  },
  {
    "start": "1638000",
    "end": "1701000"
  },
  {
    "text": "are protected with a mitigation control in this case intrusion prevention we've done some workload specific rul rules in this case we deployed the shell shock uh",
    "start": "1643039",
    "end": "1649720"
  },
  {
    "text": "rule set and we're managing those all centrally again update from this morning",
    "start": "1649720",
    "end": "1654880"
  },
  {
    "text": "with a security tool set that allows you to program it so if it has an API or if it's got some script ability it can tie",
    "start": "1654880",
    "end": "1660600"
  },
  {
    "text": "into AWS config rules as well so everything we've just talked about for the last 20 minutes can boil down to one",
    "start": "1660600",
    "end": "1666440"
  },
  {
    "text": "click for you as a response you can go into ad config rules run that one rule set have AWS report back the AWS",
    "start": "1666440",
    "end": "1673320"
  },
  {
    "text": "configuration side and have your security tool report back what it's doing so that you can verify that you've got all the stuff you need in place in",
    "start": "1673320",
    "end": "1680159"
  },
  {
    "text": "place awesome love that still important to understand the concepts underneath",
    "start": "1680159",
    "end": "1685640"
  },
  {
    "text": "right just justifying spending 20 minutes of your time but still um no it is really important to understand those",
    "start": "1685640",
    "end": "1691559"
  },
  {
    "text": "Concepts and that's one thing that holds true for all of your automation automation is what you need to be aiming for you should be 100% automated as",
    "start": "1691559",
    "end": "1697440"
  },
  {
    "text": "close as possible but you should still understand what that's doing under the hood so we've reacted but we've bought",
    "start": "1697440",
    "end": "1702640"
  },
  {
    "start": "1701000",
    "end": "1717000"
  },
  {
    "text": "ourselves time we actually need to fix the problem we've mitigated it nobody's going to pop our boxes but we need to",
    "start": "1702640",
    "end": "1707880"
  },
  {
    "text": "make sure that we're actually resolving this issue and this ties down to a new um well relatively newish technique for",
    "start": "1707880",
    "end": "1714919"
  },
  {
    "text": "how we deploy things out so we have our um network if we look at the flatten diagram again we've got our our",
    "start": "1714919",
    "end": "1720799"
  },
  {
    "start": "1717000",
    "end": "1880000"
  },
  {
    "text": "instances we've got our elbs we've got intrusion prevention running on those instances but we create these instances",
    "start": "1720799",
    "end": "1727080"
  },
  {
    "text": "somehow right so you either uh bake Amis or you're configuring them on the Fly",
    "start": "1727080",
    "end": "1733320"
  },
  {
    "text": "just out of curiosity how many people create Amis yeah and how many people can figure",
    "start": "1733320",
    "end": "1739000"
  },
  {
    "text": "on the fly with something like Chef puppet anible salt stack that's what I figured it's about 50/50 right I'm sure",
    "start": "1739000",
    "end": "1745440"
  },
  {
    "text": "there's a bunch of people who do both right um so that gives us the ability so when we look at how we create these",
    "start": "1745440",
    "end": "1751399"
  },
  {
    "text": "things now because we're in AWS we're no longer constrained like we were in the data center in the data center if you",
    "start": "1751399",
    "end": "1757480"
  },
  {
    "text": "want to spin up new instances you have to worry about capacity in AWS that's a different capacity question where does",
    "start": "1757480",
    "end": "1762720"
  },
  {
    "text": "your account have sufficient limits normally yes do you have enough budget normally yes so what we can do is what's",
    "start": "1762720",
    "end": "1768519"
  },
  {
    "text": "called a blue green deployment or green blue deployment there's no real standard everyone's flipping flopping back and",
    "start": "1768519",
    "end": "1773799"
  },
  {
    "text": "forth so a blue green deployment is very very simple in principle what you do is you have let's say blue that is your",
    "start": "1773799",
    "end": "1780720"
  },
  {
    "text": "current production okay so here we have an elastic load balancer we've got our instances they are in production they",
    "start": "1780720",
    "end": "1786440"
  },
  {
    "text": "are servicing our users these are the ones that we just walk through where we've mitigated the attack with our",
    "start": "1786440",
    "end": "1791480"
  },
  {
    "text": "intrusion prevention engine so we know they're safe for now but they still have an issue underneath that needs to be patched so now in a completely new area",
    "start": "1791480",
    "end": "1800000"
  },
  {
    "text": "so in a new VPC or new subnets or a new group however you want to set it up we are going to spin up a new instance and",
    "start": "1800000",
    "end": "1806559"
  },
  {
    "text": "we're going to implement a change so in this case we're going to deploy our patch so we're going to fix the actual problem then very very important we're",
    "start": "1806559",
    "end": "1814240"
  },
  {
    "text": "going to test we're going to make sure that that works and also that that didn't break anything else okay so we've",
    "start": "1814240",
    "end": "1821760"
  },
  {
    "text": "deployed our patch we make sure our app still works we make sure that the instance still behaves how we expect it to behave then at this point you can",
    "start": "1821760",
    "end": "1828240"
  },
  {
    "text": "either bake a new Ami and then instantiate off of that or you can then promote these ones that are fixed up",
    "start": "1828240",
    "end": "1835080"
  },
  {
    "text": "into production so in this case we add them to the elb and now we let the connections drain over right we new",
    "start": "1835080",
    "end": "1841760"
  },
  {
    "text": "traffic goes to the green deployment while we drain out the blue so that users are still uh getting service and",
    "start": "1841760",
    "end": "1848039"
  },
  {
    "text": "this way we've got done it so that there's no downtime okay so what we've done is we've taken an existing",
    "start": "1848039",
    "end": "1853279"
  },
  {
    "text": "environment that was servicing users who uh handling requests we've created and repaired a new environment and we're",
    "start": "1853279",
    "end": "1859840"
  },
  {
    "text": "moving our traffic over so either with an elb or with DNS you can do the same thing and then what we do is then we",
    "start": "1859840",
    "end": "1865279"
  },
  {
    "text": "destroy the old ones we destroy the blue ones we tear them down Okay so we've just kind of done",
    "start": "1865279",
    "end": "1870360"
  },
  {
    "text": "like the little bit of the shell game we've moved people over to where things are better that's blue green deployment",
    "start": "1870360",
    "end": "1876559"
  },
  {
    "text": "everyone gets that Concept in general good Okay so we've got that in",
    "start": "1876559",
    "end": "1883279"
  },
  {
    "start": "1880000",
    "end": "1887000"
  },
  {
    "text": "place we've got intrusion prevention we can spin up new instances but things change so as you have an instance up and",
    "start": "1883279",
    "end": "1891240"
  },
  {
    "start": "1887000",
    "end": "1968000"
  },
  {
    "text": "running okay it's up and running um it's going to change over",
    "start": "1891240",
    "end": "1896720"
  },
  {
    "text": "time as much as we would like to have immutable infrastructure and everything in a container things like that things",
    "start": "1896720",
    "end": "1902159"
  },
  {
    "text": "will change over time we have cache files we have temporary files you're writing some data to disk what you need",
    "start": "1902159",
    "end": "1908200"
  },
  {
    "text": "to do is make sure that you're monitoring those for changes as well okay so we're looking for layers upon",
    "start": "1908200",
    "end": "1914000"
  },
  {
    "text": "layers of controls here to make sure that if we see something go that we can react to it so in this case we're going",
    "start": "1914000",
    "end": "1919159"
  },
  {
    "text": "to use a control called Integrity monitoring and what this does is it looks at changes as they're happening on",
    "start": "1919159",
    "end": "1925039"
  },
  {
    "text": "the system okay and we're going to have a rule set here that says what a bad change is so in our case we could look",
    "start": "1925039",
    "end": "1931120"
  },
  {
    "text": "at it and say you know anything in the temp file we're okay with that anything that happens in the wisom uh Windows",
    "start": "1931120",
    "end": "1937279"
  },
  {
    "text": "system 32 directory we know that's bad right because we're only patching in our",
    "start": "1937279",
    "end": "1942320"
  },
  {
    "text": "Green deployments in our blue deployments that are in production we know none of that stuff should change same thing for your application code you",
    "start": "1942320",
    "end": "1948639"
  },
  {
    "text": "know your application code shouldn't change in production it changes in your green deployment and you move it over so",
    "start": "1948639",
    "end": "1954559"
  },
  {
    "text": "anytime we see a change that we know should never logically happen then we raise up an alert and we can react to it",
    "start": "1954559",
    "end": "1962279"
  },
  {
    "text": "okay and ideally you automate that reaction as well so that's how Integrity monitoring works so we're going to see",
    "start": "1962279",
    "end": "1967840"
  },
  {
    "text": "that in action here what we're going to do is create a rule that will stop a rather malicious use of shell shock",
    "start": "1967840",
    "end": "1974399"
  },
  {
    "text": "which we saw in the wild in this case what I'm going to do is I'm going to to monitor the Integrity of my SSH key",
    "start": "1974399",
    "end": "1979760"
  },
  {
    "text": "material so SSH is a secure way to log into uh Linux instance right and in this",
    "start": "1979760",
    "end": "1985399"
  },
  {
    "text": "case what you'll see here in the shell shock attack is I'm actually writing new SSH keys so I'm allowing myself as an",
    "start": "1985399",
    "end": "1992320"
  },
  {
    "text": "attacker to log into your instance directly so I don't have to keep going around and what we've done is we do this",
    "start": "1992320",
    "end": "1997480"
  },
  {
    "text": "a few times I keep writing my keys and the keys of my buddies so that we now own your instance can do whatever we want then we flip back to our tool and",
    "start": "1997480",
    "end": "2005240"
  },
  {
    "text": "we see that we're going to and we're going to have an alert that says hey somebody fired something that triggered",
    "start": "2005240",
    "end": "2011559"
  },
  {
    "text": "this rule right so they made changes to our key material and they've changed that uh authorized key file on our",
    "start": "2011559",
    "end": "2018360"
  },
  {
    "text": "instance that is a Bad Thing by the way that should never ever happen in production and ideally you're shooting",
    "start": "2018360",
    "end": "2023960"
  },
  {
    "text": "towards the goal where nobody actually logs into any instances in production right you're trying to get to the point",
    "start": "2023960",
    "end": "2030519"
  },
  {
    "text": "where everything in production is as stable and as uh unchanging as possible",
    "start": "2030519",
    "end": "2036159"
  },
  {
    "text": "Right you want it as as mutable as possible so that's how we can do it with Integrity monitor we can look at that",
    "start": "2036159",
    "end": "2041639"
  },
  {
    "start": "2041000",
    "end": "2148000"
  },
  {
    "text": "and this all kind of ties back into our resiliency so we've seen a few different ways to leverage AWS we've seen a few",
    "start": "2041639",
    "end": "2048760"
  },
  {
    "text": "different ways to leverage third party controls y would it",
    "start": "2048760",
    "end": "2055200"
  },
  {
    "text": "sense when you see would it make sense automate rolling back that it can for",
    "start": "2055200",
    "end": "2060679"
  },
  {
    "text": "sure however what you need to verify is what is more efficient so the question was would it make sense to automate",
    "start": "2060679",
    "end": "2066358"
  },
  {
    "text": "rolling back a change so you had a trigger alert said hey there's a change on this instance would it make sense to",
    "start": "2066359",
    "end": "2071839"
  },
  {
    "text": "roll that back sometimes yes it does more often than not what makes sense is to destroy that",
    "start": "2071839",
    "end": "2078158"
  },
  {
    "text": "instance because if you're living in an autoscaling group and most of your stuff should be in autoscaling groups um a new",
    "start": "2078159",
    "end": "2084280"
  },
  {
    "text": "one will come back that you know is good so it's a question of do you repair or do you just replace that would be that",
    "start": "2084280",
    "end": "2090118"
  },
  {
    "text": "would be the response trigger then yeah absolutely so you asked if that would be the response trigger that would absolutely be the response trigger um so",
    "start": "2090119",
    "end": "2097240"
  },
  {
    "text": "it leads to this interesting question and and even so some people I kind of I got to gather when I said everything should be an autoscaling group one thing",
    "start": "2097240",
    "end": "2103760"
  },
  {
    "text": "you should be aware of autoscaling groups don't actually need to scale right they are named autoscaling",
    "start": "2103760",
    "end": "2109599"
  },
  {
    "text": "which is great it implies very quickly what it does but autoscaling groups can have a Min and a Max of one which means",
    "start": "2109599",
    "end": "2115880"
  },
  {
    "text": "at any point if that one instance fails that health check for the autoscaling parameter that you've set it will be",
    "start": "2115880",
    "end": "2123040"
  },
  {
    "text": "replaced which is an extremely powerful way to make sure that you're always up and running you'll have a little bit of downtime because there's only one system",
    "start": "2123040",
    "end": "2129440"
  },
  {
    "text": "there but it's a good way to make sure that you're always bouncing back and that's a fantastic example the Baseline",
    "start": "2129440",
    "end": "2135359"
  },
  {
    "text": "of automating that resilience so in the old days you would sequer the Box yep replace it go back line and then",
    "start": "2135359",
    "end": "2144760"
  },
  {
    "text": "take there is so the question was um in the old days we would take a box offline",
    "start": "2146839",
    "end": "2152000"
  },
  {
    "start": "2148000",
    "end": "2233000"
  },
  {
    "text": "we would isolate it and then do some analysis afterwards and restore production if we could um is is there an",
    "start": "2152000",
    "end": "2157079"
  },
  {
    "text": "equivalent in the cloud there absolutely is so what you can do in this response trigger is as soon as you have security",
    "start": "2157079",
    "end": "2162920"
  },
  {
    "text": "events and you're responding to them so AWS Lambda is a fantastic way to do these kind of responses and because you",
    "start": "2162920",
    "end": "2168880"
  },
  {
    "text": "can give Lambda privileges to take action so as long as your security control set is firing off events and is",
    "start": "2168880",
    "end": "2174520"
  },
  {
    "text": "automated to do some response you can start these triggers so that exact scenario of isolating something if we",
    "start": "2174520",
    "end": "2179920"
  },
  {
    "text": "saw that Integrity chain somebody changed our code for our app could be an innocent mistake happens all the time",
    "start": "2179920",
    "end": "2185800"
  },
  {
    "text": "somebody accidentally roll a new version shouldn't have could also be an attacker making a malicious change what you would",
    "start": "2185800",
    "end": "2191280"
  },
  {
    "text": "do in this case is you would fire off a response that would isolate that instance if you wanted to do analysis",
    "start": "2191280",
    "end": "2197400"
  },
  {
    "text": "which would then trigger your autoscaling group to automatically replace it which means Productions taken",
    "start": "2197400",
    "end": "2202920"
  },
  {
    "text": "care of and you have that instance sitting isolated that you could analyze if you want to um or you could just",
    "start": "2202920",
    "end": "2208440"
  },
  {
    "text": "destroy it and not worry about it because you've already fixed the problem the only caveat there is you have to make sure that you don't have that Loop",
    "start": "2208440",
    "end": "2214880"
  },
  {
    "text": "always isolating instances and have this long trail of stuff that's running that you're never actually going to analyze",
    "start": "2214880",
    "end": "2220040"
  },
  {
    "text": "so you want to put a cap of isolate one or two maybe but you don't want to isolate a thousand as it just keeps",
    "start": "2220040",
    "end": "2225200"
  },
  {
    "text": "looping and going forward you haven't gotten to the root cause exactly so in change again yeah",
    "start": "2225200",
    "end": "2233240"
  },
  {
    "text": "and so the question or the comment was you haven't got to the root cause you could have an instance that spins up and then it gets popped and then a new one",
    "start": "2233240",
    "end": "2239319"
  },
  {
    "text": "popped and that's actually a really good example of something positive U because you've automated the response and are",
    "start": "2239319",
    "end": "2245160"
  },
  {
    "text": "trying to restore production what you've essentially done is STO the attacker at the gates so you're playing that hand",
    "start": "2245160",
    "end": "2251240"
  },
  {
    "text": "game where on the bat where you're always trying to get higher but you've bought yourself time because the attacker is not getting any deeper and",
    "start": "2251240",
    "end": "2257800"
  },
  {
    "text": "now you can actually do a different response so in that case what you're going to do if you see that where your automated response continues to respond",
    "start": "2257800",
    "end": "2265280"
  },
  {
    "text": "and is not actually stopping because the attacker is persistent then what you need to do then is manually intervene",
    "start": "2265280",
    "end": "2271119"
  },
  {
    "text": "but at least you know they haven't gotten any further so you still get ahead and you also have information some",
    "start": "2271119",
    "end": "2276280"
  },
  {
    "text": "information",
    "start": "2276280",
    "end": "2278599"
  },
  {
    "text": "absolutely y so the the comment just for those in the back was that you also gain additional information during that",
    "start": "2281440",
    "end": "2287280"
  },
  {
    "start": "2283000",
    "end": "2398000"
  },
  {
    "text": "process so you not only gave information about how they're attacking but also that they are continuing to attack or at",
    "start": "2287280",
    "end": "2293319"
  },
  {
    "text": "least they've set up some sort of automated attack method and for the longer you delay them the more you learn",
    "start": "2293319",
    "end": "2298520"
  },
  {
    "text": "about how to mitigate the issue how to resolve the root cause but also about who's actually attacking you so it is",
    "start": "2298520",
    "end": "2304839"
  },
  {
    "text": "it's a win-win right you're not going to lose anything by trying that Automation and that comes back to our core of",
    "start": "2304839",
    "end": "2310400"
  },
  {
    "text": "creating these resilient deployments you want to make sure that you've got this automated and yes it's not a Panacea",
    "start": "2310400",
    "end": "2316839"
  },
  {
    "text": "there's still challenges",
    "start": "2316839",
    "end": "2320240"
  },
  {
    "text": "yeah absolutely so the comment was on if you're doing logging correctly so that ties into some additional services that",
    "start": "2323400",
    "end": "2330359"
  },
  {
    "text": "were announced this week um so uh for those of you uh how many people this is their first",
    "start": "2330359",
    "end": "2335520"
  },
  {
    "text": "reinvent awesome that is fantastic I love it okay so the thing to know about reinvent The",
    "start": "2335520",
    "end": "2341640"
  },
  {
    "text": "Insider heads up is that there is a lot of stuff that gets released in the week before the week after and the week",
    "start": "2341640",
    "end": "2347040"
  },
  {
    "text": "during that never makes the keynote so if you follow the AWS blogs or follow Jeff bar online you're going to see a",
    "start": "2347040",
    "end": "2352960"
  },
  {
    "text": "huge amount of information um of services or features that didn't quite make it to the keynote but are still",
    "start": "2352960",
    "end": "2358800"
  },
  {
    "text": "really really cool so last week there was a whole bunch of new stuff announced that never got uh highlighted this",
    "start": "2358800",
    "end": "2364640"
  },
  {
    "text": "morning um so one of those features was actually tied into logging um so the",
    "start": "2364640",
    "end": "2369680"
  },
  {
    "text": "comment was around if you're logging correctly you're going to gain additional information you're going to see what's going on you're gain General",
    "start": "2369680",
    "end": "2375040"
  },
  {
    "text": "awareness of what's uh how your uh deployment is reacting to the attack and what's going on in the attacker again",
    "start": "2375040",
    "end": "2381240"
  },
  {
    "text": "this ties back to our central theme using the services of AWS Cloud to get better at security and to get a more",
    "start": "2381240",
    "end": "2387280"
  },
  {
    "text": "resilient deployment um but one of the services that came out was actually the uh affected cloud trail so um again I'll",
    "start": "2387280",
    "end": "2393800"
  },
  {
    "text": "just show a hands how many people know about cloud trail awesome you guys are awesome this is",
    "start": "2393800",
    "end": "2399920"
  },
  {
    "start": "2398000",
    "end": "2483000"
  },
  {
    "text": "great um the reason why I say that's fantastic is a lot of people didn't know about it last year um and it was s in",
    "start": "2399920",
    "end": "2405440"
  },
  {
    "text": "the early stages but cloud trail is a service that logs every uh interaction with the AWS apis so whether somebody",
    "start": "2405440",
    "end": "2411040"
  },
  {
    "text": "did it through the CLI um through a third party tool through the Management console all of it gets logged into log Trail for security people log Trail is a",
    "start": "2411040",
    "end": "2418440"
  },
  {
    "text": "gold mine because you know every action that's being taken on your AWS account so if we tie back to the earlier example",
    "start": "2418440",
    "end": "2424599"
  },
  {
    "text": "where if you had had too many permissions on the instance rooll so that the attacker got on your instance and was then going out into your adops",
    "start": "2424599",
    "end": "2431160"
  },
  {
    "text": "account you would see all that activity on cloud trail so one of the services that was or one of the features that was",
    "start": "2431160",
    "end": "2437440"
  },
  {
    "text": "released um this week uh was that you now have the ability to encrypt cloud",
    "start": "2437440",
    "end": "2442640"
  },
  {
    "text": "trail logs as they're written so that you know that they are uh not tampered with which is an excellent way if you",
    "start": "2442640",
    "end": "2449680"
  },
  {
    "text": "mess up on the permission side to know that your logging information is still valid because the what it ends up being",
    "start": "2449680",
    "end": "2456560"
  },
  {
    "text": "with attackers is it's a cat and mouse game right so the vast majority of attackers will exploit something simple",
    "start": "2456560",
    "end": "2462119"
  },
  {
    "text": "like shell shock um so if they have a super Advanced exploit they don't need to deploy it if they can pop something",
    "start": "2462119",
    "end": "2468160"
  },
  {
    "text": "really simple you saw the attack code in the intro it's very easy you go through and there are still a massive amount of",
    "start": "2468160",
    "end": "2473359"
  },
  {
    "text": "systems that are actually vulnerable to this a year later right average patch time right now for traditional",
    "start": "2473359",
    "end": "2479960"
  },
  {
    "text": "Enterprises is 176 days okay 176 days because in an",
    "start": "2479960",
    "end": "2487119"
  },
  {
    "text": "Enterprise it's extremely difficult to do something like a blue green deployment in an Enterprise you are more",
    "start": "2487119",
    "end": "2492240"
  },
  {
    "text": "likely in a traditional on on- premise deployment you're far more likely to try to resolve the issue on an on a computer",
    "start": "2492240",
    "end": "2499680"
  },
  {
    "text": "rather than just spin up a new instance and that comes back to what we're talking about is leveraging things in",
    "start": "2499680",
    "end": "2504920"
  },
  {
    "text": "AWS Cloud features and functionality in the AWS Cloud to get better at security one of the biggest things you can do to",
    "start": "2504920",
    "end": "2510160"
  },
  {
    "text": "help yourself on that front is start to think of your instances as disposable if you need need a new one",
    "start": "2510160",
    "end": "2516720"
  },
  {
    "text": "you make a new API call if you need 10 new ones you still make one API call right they come back up and uh are",
    "start": "2516720",
    "end": "2523599"
  },
  {
    "text": "running very very quickly um you don't have to fix the issue so while it's interesting to dive in and do the",
    "start": "2523599",
    "end": "2528720"
  },
  {
    "text": "forensic analysis and see how the attack is there if the attack is a oneandone they try to uh exploit your system and",
    "start": "2528720",
    "end": "2535920"
  },
  {
    "text": "they can't get in and they move on there's no reason to dive in and do that analysis uh for you if they never got in",
    "start": "2535920",
    "end": "2543839"
  },
  {
    "text": "yeah but most of the time it's a QA te or somebody if you have the resources it's you can always learn something and",
    "start": "2543839",
    "end": "2549800"
  },
  {
    "text": "you can always improve but if your compute was never compromised then you can continue to move on and that leads",
    "start": "2549800",
    "end": "2555559"
  },
  {
    "text": "to another different way of thinking it um to reduce overall business risk so if you're running anti-malware controls on",
    "start": "2555559",
    "end": "2562040"
  },
  {
    "text": "your instance and there's a malware event detected and it reports back and it says I found it I quarantined it I",
    "start": "2562040",
    "end": "2568119"
  },
  {
    "text": "removed it you don't have to worry about it in a traditional environment You' be like that's great it did its job in the",
    "start": "2568119",
    "end": "2573319"
  },
  {
    "text": "ads Cloud you can simply destroy that instance and bring up a new one why would you do that why would you not",
    "start": "2573319",
    "end": "2579480"
  },
  {
    "text": "why leave any potential risk there when it costs another few pennies to spin up a second instance while the two are",
    "start": "2579480",
    "end": "2585720"
  },
  {
    "text": "running right because the compute level is disposable that sounds really weird",
    "start": "2585720",
    "end": "2590800"
  },
  {
    "text": "but when you start to think in that manner you start to get these advantages and enable your business to be a lot",
    "start": "2590800",
    "end": "2596240"
  },
  {
    "text": "more secure a lot more flexible right different way of",
    "start": "2596240",
    "end": "2601559"
  },
  {
    "text": "approaching it different tool set same things right like an instance is still an operating system system running an",
    "start": "2601559",
    "end": "2606720"
  },
  {
    "text": "app running data we've had that for years but backing it I don't have to figure out if I have additional VMware",
    "start": "2606720",
    "end": "2612800"
  },
  {
    "text": "capacity I don't need to know if I have additional physical boxes I have essentially unlimited capacity so I can",
    "start": "2612800",
    "end": "2618119"
  },
  {
    "text": "start to do interesting things like that so for us that comes back to the",
    "start": "2618119",
    "end": "2623319"
  },
  {
    "start": "2623000",
    "end": "2653000"
  },
  {
    "text": "resiliency you want to make sure that you've got automated response in here Auto scaling is a major piece of this",
    "start": "2623319",
    "end": "2629240"
  },
  {
    "text": "but it also comes into services like config like Lambda like SNS so as you",
    "start": "2629240",
    "end": "2634480"
  },
  {
    "text": "grow with familiarity with the cloud you can start to build in these automated chains um if you guys follow",
    "start": "2634480",
    "end": "2640400"
  },
  {
    "text": "me uh on Twitter mark NCA I've got a bunch of examples of videos where we show those type of automated response",
    "start": "2640400",
    "end": "2646200"
  },
  {
    "text": "models um and how you can start to grow them really simple and expand from there",
    "start": "2646200",
    "end": "2651400"
  },
  {
    "text": "but it is very powerful it's a different way of approaching security so to summarize to bring this back and then",
    "start": "2651400",
    "end": "2656480"
  },
  {
    "start": "2653000",
    "end": "2858000"
  },
  {
    "text": "we'll open the floor for complete questions if you guys want to chat um it comes down to two phases when you're",
    "start": "2656480",
    "end": "2661520"
  },
  {
    "text": "responding and when you're building in uh resiliency into your deployment against zero days and against just",
    "start": "2661520",
    "end": "2666920"
  },
  {
    "text": "normal it operation errors as well this applies equally to those type of things as it does to malicious actors you need",
    "start": "2666920",
    "end": "2673680"
  },
  {
    "text": "a phase where you're reacting so operationally here you're reviewing your configuration right so we walked through",
    "start": "2673680",
    "end": "2679720"
  },
  {
    "text": "that we looked at the AWS configurations so the services we can configure we checked our IM IM roles we checked our",
    "start": "2679720",
    "end": "2685920"
  },
  {
    "text": "security groups we checked our Network segmentation we went through all of those piece by piece thankfully as of",
    "start": "2685920",
    "end": "2691599"
  },
  {
    "text": "this morning we can do that automated with config rules we can uh make that significant easier and the beauty of",
    "start": "2691599",
    "end": "2697319"
  },
  {
    "text": "things like config rules guess what they're all exposed by apis as well which means you can automate that review",
    "start": "2697319",
    "end": "2704520"
  },
  {
    "text": "and just have your entire infrastructure respond and say yeah there was a problem don't worry about it we fixed it you'll",
    "start": "2704520",
    "end": "2710000"
  },
  {
    "text": "get there it takes a little while um we also added a real-time control to make sure that what we expected on those",
    "start": "2710000",
    "end": "2715880"
  },
  {
    "text": "ports that we' configured through our Network configurations and security groups was actually running what it was",
    "start": "2715880",
    "end": "2721240"
  },
  {
    "text": "so that's intrusion prevention that's where we're looking at each packet and ensuring that it informs to the protocol",
    "start": "2721240",
    "end": "2727280"
  },
  {
    "text": "we expect so that it is actually running https but then in addition to that that it doesn't have any malicious payloads",
    "start": "2727280",
    "end": "2734240"
  },
  {
    "text": "so for our case with shell shock we made sure that it didn't have that attack code or any permutation thereof right so",
    "start": "2734240",
    "end": "2741240"
  },
  {
    "text": "we did two steps to react we reviewed our config and then we made sure that we had intrusion prevention deployed and",
    "start": "2741240",
    "end": "2746920"
  },
  {
    "text": "looking for that type of exploit right that's how we react that buys us time",
    "start": "2746920",
    "end": "2753319"
  },
  {
    "text": "that's the important takeaway there reacting buys us time time to actually fix the issue we do the root cause and",
    "start": "2753319",
    "end": "2758640"
  },
  {
    "text": "we fix it right so here we're looking at operational techniques like deploying in uh blue green so we have our production",
    "start": "2758640",
    "end": "2764960"
  },
  {
    "text": "it stays we don't change it spin up new instances in an isolated area where you",
    "start": "2764960",
    "end": "2770040"
  },
  {
    "text": "can make the change test the change then either bake a new Ami or and then",
    "start": "2770040",
    "end": "2775599"
  },
  {
    "text": "instantiate that one or move production uh or just leave it as is sorry and then move production over using that",
    "start": "2775599",
    "end": "2781880"
  },
  {
    "text": "technique you can do a zero downtime fix right so you think about Windows how",
    "start": "2781880",
    "end": "2787920"
  },
  {
    "text": "often does a Windows patch reboot Windows right all the time it's inevitable it's just like oh yeah you",
    "start": "2787920",
    "end": "2794040"
  },
  {
    "text": "installed a patch you changed like a graphic we're going to reboot it's just built into that culture it's getting better but it's still bad with a blue",
    "start": "2794040",
    "end": "2800680"
  },
  {
    "text": "green those reboots don't matter because the reboot happens on the ones that are not serving customers right because",
    "start": "2800680",
    "end": "2806240"
  },
  {
    "text": "you've mitigated with intrusion prevention during the react phase you've mitigated the issue you've bought",
    "start": "2806240",
    "end": "2811319"
  },
  {
    "text": "yourself time to fix it over here you can reboot a thousand times it doesn't matter once it's ready then you move",
    "start": "2811319",
    "end": "2816480"
  },
  {
    "text": "production workflows over to there draining out the old ones in blue and you're up and running further take that",
    "start": "2816480",
    "end": "2822440"
  },
  {
    "text": "the step further the real-time control response there is integrity monitoring that's going to be looking for changes",
    "start": "2822440",
    "end": "2827520"
  },
  {
    "text": "for files and processes to make sure that whatever is changing on your instance is the normal expected change",
    "start": "2827520",
    "end": "2834839"
  },
  {
    "text": "so you're seeing caching you're seeing temp files whatever your normal data writing is you're seeing log files things like that but as soon as it finds",
    "start": "2834839",
    "end": "2841200"
  },
  {
    "text": "something that it doesn't expect so W uh Windows system 32 changes or user bin",
    "start": "2841200",
    "end": "2846640"
  },
  {
    "text": "local changes things like that then it raises an alert and then you can react to it and kick off this whole cycle",
    "start": "2846640",
    "end": "2853280"
  },
  {
    "text": "again okay so you're going to react you're going to resolve thank you follow me on Twitter",
    "start": "2853280",
    "end": "2860119"
  },
  {
    "start": "2858000",
    "end": "2884000"
  },
  {
    "text": "mark NCA um I'll open it up for questions and if nobody wants to do public questions we can do private as",
    "start": "2860119",
    "end": "2865920"
  },
  {
    "text": "well so we can do both any direct questions perfect thank you very much um",
    "start": "2865920",
    "end": "2873160"
  },
  {
    "text": "please remember thank you please remember to complete your evaluations there's",
    "start": "2873160",
    "end": "2878400"
  },
  {
    "text": "stations out there if you're playing the social game on mobile you actually get points for doing evals",
    "start": "2878400",
    "end": "2886040"
  }
]