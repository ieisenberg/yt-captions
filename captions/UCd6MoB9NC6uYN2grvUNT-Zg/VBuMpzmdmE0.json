[
  {
    "text": "Hi, I'm Francesco,",
    "start": "5071",
    "end": "6473"
  },
  {
    "text": "Technical account Manager\nhere at the AWS office in Milan.",
    "start": "6473",
    "end": "10477"
  },
  {
    "text": "In this video I will show you how to use",
    "start": "11144",
    "end": "13980"
  },
  {
    "text": "Session Manager,\na feature of AWS Systems Manager",
    "start": "13980",
    "end": "19352"
  },
  {
    "text": "Session Manager enable to safely manage and access ",
    "start": "20086",
    "end": "24391"
  },
  {
    "text": "machines based on Linux, Windows or macOS",
    "start": "24758",
    "end": "28161"
  },
  {
    "text": "whether they are on AWS or in an on-premise datacenter.",
    "start": "28428",
    "end": "33198"
  },
  {
    "text": "All that is done without using protocols like SSH or RDP",
    "start": "33767",
    "end": "39272"
  },
  {
    "text": "or exposing network interfaces to potential threats.",
    "start": "39539",
    "end": "42809"
  },
  {
    "text": "Let's take a look at how it works!",
    "start": "43443",
    "end": "45378"
  },
  {
    "text": "The first thing we need to do is access the AWS Console ",
    "start": "45378",
    "end": "48948"
  },
  {
    "text": "and type Systems Manager.",
    "start": "48948",
    "end": "51618"
  },
  {
    "text": "When we are on the Systems Manager\npage, we select Session Manager.",
    "start": "51618",
    "end": "56790"
  },
  {
    "text": "Let's take a look at the preferences right away.",
    "start": "56990",
    "end": "59826"
  },
  {
    "text": "In this case I configured\nas a destination for session logs",
    "start": "59826",
    "end": "64230"
  },
  {
    "text": "both CloudWatch and an S3 bucket ",
    "start": "64497",
    "end": "67500"
  },
  {
    "text": "the permissions\nto use these resources and any",
    "start": "67967",
    "end": "71037"
  },
  {
    "text": "KMS key policies will need to be adapted\nto your configuration.",
    "start": "71037",
    "end": "75542"
  },
  {
    "text": "We then return to the home page\nof Session Manager.",
    "start": "76009",
    "end": "79012"
  },
  {
    "text": "We click Start Session",
    "start": "79245",
    "end": "80747"
  },
  {
    "text": "and we select the instance\nin which to start the session.",
    "start": "80747",
    "end": "84250"
  },
  {
    "text": "A new browser tab will open,\nin which we will find a shell",
    "start": "84851",
    "end": "88287"
  },
  {
    "text": "from which we can execute commands.",
    "start": "88455",
    "end": "90690"
  },
  {
    "text": "For example I ran the command\nwhoami",
    "start": "90690",
    "end": "93960"
  },
  {
    "text": "That will return the username of the user for this session ",
    "start": "93960",
    "end": "97097"
  },
  {
    "text": "We can also take a look\nat the storage of the instance",
    "start": "97130",
    "end": "100132"
  },
  {
    "text": "or view the processes\ncurrently running",
    "start": "100467",
    "end": "104637"
  },
  {
    "text": "or even check\nthe network configuration.",
    "start": "105271",
    "end": "108441"
  },
  {
    "text": "At the end of the operations\nwe can end the session",
    "start": "108842",
    "end": "113246"
  },
  {
    "text": "and this will take us back to the start page for\nSystems Manager.",
    "start": "113246",
    "end": "117717"
  },
  {
    "text": "We're going now\nto start a session in a",
    "start": "119252",
    "end": "122521"
  },
  {
    "text": "Windows instance with the same methods",
    "start": "122522",
    "end": "125525"
  },
  {
    "text": "used for the previous one.",
    "start": "125658",
    "end": "128660"
  },
  {
    "text": "Also in this case, \na new browser window will open",
    "start": "128661",
    "end": "131931"
  },
  {
    "text": "and we will be logged into PowerShell\nwith an administrative user,",
    "start": "132332",
    "end": "136236"
  },
  {
    "text": "If we execute the command whoami,\nwe can see that we are logged",
    "start": "136803",
    "end": "140840"
  },
  {
    "text": "as SSM user, like in the Linux instance.",
    "start": "140840",
    "end": "143843"
  },
  {
    "text": "We can execute any command.",
    "start": "143910",
    "end": "146880"
  },
  {
    "text": "Let's take for example\nsome information about storage",
    "start": "146880",
    "end": "150116"
  },
  {
    "text": "and processes.",
    "start": "151518",
    "end": "153019"
  },
  {
    "text": "Also in this case we click on the terminate button, to close the session.",
    "start": "153019",
    "end": "156856"
  },
  {
    "text": "The complete recording of everything that\nwas done during the session",
    "start": "157257",
    "end": "161628"
  },
  {
    "text": "is something that usually is\nnot easy to collect with SSH or RDP,",
    "start": "161628",
    "end": "166966"
  },
  {
    "text": "but it's a feature you find\nalready included in session manager.",
    "start": "167300",
    "end": "171437"
  },
  {
    "text": "To consult session logs\njust go to Session History",
    "start": "172105",
    "end": "177409"
  },
  {
    "text": "and choose one of the sessions\nwhich you have just closed.",
    "start": "177744",
    "end": "181614"
  },
  {
    "text": "In this case I choose to",
    "start": "182649",
    "end": "183783"
  },
  {
    "text": "consult the logs deposited in an S3 Bucket",
    "start": "183783",
    "end": "187220"
  },
  {
    "text": "the files is downloaded\nand here we find all the commands entered",
    "start": "189055",
    "end": "193392"
  },
  {
    "text": "during the session, together with the \noutput that they have generated.",
    "start": "193393",
    "end": "197130"
  },
  {
    "text": "In this way it is possible to have\na complete transcript of the activities",
    "start": "198932",
    "end": "203369"
  },
  {
    "text": "performed interactively,\nwhich cannot be",
    "start": "203903",
    "end": "207140"
  },
  {
    "text": "altered even if the instance is compromised.",
    "start": "207140",
    "end": "211711"
  },
  {
    "text": "You can consult these logs\nalso on CloudWatch,",
    "start": "213947",
    "end": "217784"
  },
  {
    "text": "in JSON format.",
    "start": "217951",
    "end": "220920"
  },
  {
    "text": "I'll also show you how to use",
    "start": "221554",
    "end": "223623"
  },
  {
    "text": "Session Manager\ndirectly from the EC2 console.",
    "start": "223623",
    "end": "227560"
  },
  {
    "text": "Select the desired instance\nand click Connect,",
    "start": "228161",
    "end": "232165"
  },
  {
    "text": "then select Session manager.",
    "start": "232465",
    "end": "235468"
  },
  {
    "text": "Also in this case\na web session will open",
    "start": "235702",
    "end": "238705"
  },
  {
    "text": "to interact with the instances.",
    "start": "238771",
    "end": "241274"
  },
  {
    "text": "Now that I've shown you how\nSession Manager works, let's take a look",
    "start": "241274",
    "end": "245211"
  },
  {
    "text": "how to prepare your account\nto use it, the easiest way.",
    "start": "245211",
    "end": "249349"
  },
  {
    "text": "The first step to get started is to activate\nDefault Host Management Configuration,",
    "start": "249349",
    "end": "253819"
  },
  {
    "text": "which will allow the management of all\nthe EC2 instances ",
    "start": "254020",
    "end": "257190"
  },
  {
    "text": "in a Region, using a set\nof identical functionality for each instance.",
    "start": "257757",
    "end": "263729"
  },
  {
    "text": "Starting from the landing page for AWS\nSystems Manager in the desired region",
    "start": "263730",
    "end": "268568"
  },
  {
    "text": "we select Fleet Manager\nand we click Get Started.",
    "start": "269068",
    "end": "273373"
  },
  {
    "text": "So let's go to ",
    "start": "274641",
    "end": "276309"
  },
  {
    "text": "Configure Default Host Management\nand toggle the enable button.",
    "start": "276309",
    "end": "280112"
  },
  {
    "text": "After enabling it,\nas we can read in this screen,",
    "start": "280847",
    "end": "284449"
  },
  {
    "text": "our instances in this region",
    "start": "284784",
    "end": "286518"
  },
  {
    "text": "will automatically be\nmanaged by System Manager",
    "start": "286519",
    "end": "289956"
  },
  {
    "text": "and you will be able to connect\nto these via Session Manager.",
    "start": "290356",
    "end": "295194"
  },
  {
    "text": "Let's select\na role that will provide the necessary permissions",
    "start": "295828",
    "end": "299465"
  },
  {
    "text": "to the instances\nfor using Systems Manager.",
    "start": "299465",
    "end": "302635"
  },
  {
    "text": "In this case\nthe wizard will create automatically",
    "start": "303169",
    "end": "306673"
  },
  {
    "text": "a standard role\nfor the most common use cases of the service,",
    "start": "306673",
    "end": "309342"
  },
  {
    "text": "but if we have special needs\nwe can choose",
    "start": "309342",
    "end": "313279"
  },
  {
    "text": "to use a different role.",
    "start": "313279",
    "end": "315748"
  },
  {
    "text": "We click on Configure.",
    "start": "315748",
    "end": "317449"
  },
  {
    "text": "It is at the end of this procedure\nour account will be ready",
    "start": "317450",
    "end": "320887"
  },
  {
    "text": "to manage instances with Systems Manager\nand use Session Manager.",
    "start": "320887",
    "end": "325391"
  },
  {
    "text": "We move now\nin the EC2 console",
    "start": "325458",
    "end": "328461"
  },
  {
    "text": "and we create an EC2 instance.",
    "start": "328661",
    "end": "331664"
  },
  {
    "text": "No specific configuration will be needed,",
    "start": "331798",
    "end": "335635"
  },
  {
    "text": "nor will there be any need\nto assign an SSH key.",
    "start": "335702",
    "end": "339505"
  },
  {
    "text": "Let's select an isolated VPC.",
    "start": "341808",
    "end": "344811"
  },
  {
    "text": "Let's go to the EC2 Console again.",
    "start": "344877",
    "end": "346846"
  },
  {
    "text": "We select the instance",
    "start": "346846",
    "end": "348614"
  },
  {
    "text": "that we just created\nand click Connect again.",
    "start": "348614",
    "end": "352485"
  },
  {
    "text": "We will find ourselves in a window\nof Session Manager.",
    "start": "352952",
    "end": "356522"
  },
  {
    "text": "In this case, our instance resides\nin a totally isolated network segment,",
    "start": "356889",
    "end": "362295"
  },
  {
    "text": "so we won't have connectivity\ntowards the Internet.",
    "start": "362628",
    "end": "366199"
  },
  {
    "text": "This is one of the big advantages\nof using Session Manager.",
    "start": "367367",
    "end": "370837"
  },
  {
    "text": "In fact, it is possible to connect to one\ninstance that does not have a public address",
    "start": "371337",
    "end": "376275"
  },
  {
    "text": "and it is in no way reachable\nfrom the outside",
    "start": "376509",
    "end": "380046"
  },
  {
    "text": "or from within your VPC, significantly reducing",
    "start": "380313",
    "end": "384317"
  },
  {
    "text": "the attack surface.\nThe subnet in which the instance is located,",
    "start": "384317",
    "end": "389188"
  },
  {
    "text": "as you can see\nfrom its routing table,",
    "start": "389188",
    "end": "393659"
  },
  {
    "text": "cannot reach any network segments\noutside of the VPC",
    "start": "393726",
    "end": "398865"
  },
  {
    "text": "and also the Security Group\nassociated with this instance",
    "start": "399098",
    "end": "403469"
  },
  {
    "text": "does not allow any inbound connections.",
    "start": "403903",
    "end": "407140"
  },
  {
    "text": "A little note for\nSession manager's users:",
    "start": "407340",
    "end": "410610"
  },
  {
    "text": "The instance\nmust reach some service endpoints",
    "start": "410643",
    "end": "414347"
  },
  {
    "text": "and, being isolated from the Internet,",
    "start": "414881",
    "end": "417650"
  },
  {
    "text": "we must provision the necessary service endpoints",
    "start": "417650",
    "end": "421921"
  },
  {
    "text": "inside the VPC where this instance is located.",
    "start": "421921",
    "end": "426091"
  },
  {
    "text": "Thanks for watching this video.",
    "start": "426692",
    "end": "428528"
  },
  {
    "text": "Happy cloud computing from all of us here at AWS!",
    "start": "428528",
    "end": "431264"
  }
]