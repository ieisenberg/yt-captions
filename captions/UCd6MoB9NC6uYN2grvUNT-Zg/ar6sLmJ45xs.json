[
  {
    "start": "0",
    "end": "37000"
  },
  {
    "text": "all right good afternoon everybody glad to see there's so many people",
    "start": "949",
    "end": "7080"
  },
  {
    "text": "excited people about networking as I am just so many of you guys out there so",
    "start": "7080",
    "end": "12420"
  },
  {
    "text": "thanks for coming out I'm Nick Matthews I'm a Solutions Architect there working with the team on transit gateway and before that transit",
    "start": "12420",
    "end": "19740"
  },
  {
    "text": "VP sees and all those things I did a session last year on transit V PCs and that was sort of the plan this year but then we released transit gateway so I",
    "start": "19740",
    "end": "26670"
  },
  {
    "text": "had to redo everything so you know I'm super excited about it super super",
    "start": "26670",
    "end": "31769"
  },
  {
    "text": "excited it's it's it's so cool and it will get to see why you know what to",
    "start": "31769",
    "end": "37469"
  },
  {
    "start": "37000",
    "end": "37000"
  },
  {
    "text": "expect from today is first we're gonna explain some mechanics of things so we're gonna explain you know a bit about",
    "start": "37469",
    "end": "44070"
  },
  {
    "text": "transit VPC like it or not you know we'll actually use some of those pieces again so and why had transit BBC in the",
    "start": "44070",
    "end": "50190"
  },
  {
    "text": "title of this why don't to rip you guys off by not talking about trains BBC it at all so there's a little bit of that",
    "start": "50190",
    "end": "55350"
  },
  {
    "text": "in there then we're gonna the transit gateway mechanics and how it differs and what it works like and that kind of thing but I mean the real point of this",
    "start": "55350",
    "end": "61649"
  },
  {
    "text": "is to really build out an architecture so we released some new features like",
    "start": "61649",
    "end": "66810"
  },
  {
    "text": "transit gateway and V PC sharing and I think it actually dramatically changes",
    "start": "66810",
    "end": "71939"
  },
  {
    "text": "the way that we're going to build networks and so there's a lot of ways you can do that and I've sort of chosen",
    "start": "71939",
    "end": "77520"
  },
  {
    "text": "a reference architecture and we're gonna walk through that and the ways you would modify that rather than going through",
    "start": "77520",
    "end": "82560"
  },
  {
    "text": "like every nook and cranny of all these features which you know there's other sessions on that so the idea here is to",
    "start": "82560",
    "end": "87810"
  },
  {
    "text": "give you since we're actionable advice and a reference architecture that I think we can use that scales both for",
    "start": "87810",
    "end": "93090"
  },
  {
    "text": "for small and large companies if we start off you know the question is like why why even talking about lots of BBC's",
    "start": "93090",
    "end": "99540"
  },
  {
    "text": "like what's the problem solving here so V PC is a little bit different than you",
    "start": "99540",
    "end": "105570"
  },
  {
    "start": "102000",
    "end": "102000"
  },
  {
    "text": "know other networking so on premises we say that your VP sees like your data center in the cloud you know it's this",
    "start": "105570",
    "end": "111299"
  },
  {
    "text": "highly segmented sort of network the difference is is you don't create data",
    "start": "111299",
    "end": "116340"
  },
  {
    "text": "centers in seconds if you do we've got a job for you at Amazon but you know you",
    "start": "116340",
    "end": "122640"
  },
  {
    "text": "can have 200 300 500 a thousand VP C's people usually don't have that many data centers so that sort of logical",
    "start": "122640",
    "end": "128190"
  },
  {
    "text": "construct stops making sense at some point as well as an access model so a single",
    "start": "128190",
    "end": "133390"
  },
  {
    "text": "has a root access key that gets access to everything you probably have a single credential that get you into every part",
    "start": "133390",
    "end": "138880"
  },
  {
    "text": "of your data center mostly because organizations that is hard and then also just the ownership so there's a lot of",
    "start": "138880",
    "end": "145690"
  },
  {
    "text": "line of businesses people developers people have no idea what how networking works they are the owners of a V PC and",
    "start": "145690",
    "end": "150850"
  },
  {
    "text": "so that creates some unique challenges in terms of how you want to manage and how you gonna scale those gbc's out so",
    "start": "150850",
    "end": "156730"
  },
  {
    "text": "we take a pretty you know traditional sort of starting point here we have two V pcs one for development one for",
    "start": "156730",
    "end": "162610"
  },
  {
    "text": "production we've connected that either through VPN or Direct Connect I have both here this is pretty manageable and",
    "start": "162610",
    "end": "168490"
  },
  {
    "text": "this is if this is your environment this is probably a pretty boring talk for you because you know this is pretty well understood but you know at some point",
    "start": "168490",
    "end": "175900"
  },
  {
    "text": "you maybe scale maybe the green group joins you and they have a couple more applications a couple more V pcs so",
    "start": "175900",
    "end": "181510"
  },
  {
    "text": "we've got you know six here and you know we starting to have more tunnels or more direct connects but it's still mostly",
    "start": "181510",
    "end": "187390"
  },
  {
    "text": "manageable but they say okay well how does the actual connectivity work because if I want to talk between these",
    "start": "187390",
    "end": "194530"
  },
  {
    "text": "bbc's then I'm gonna have to go back on premises which is not really that awesome so let's start hearing some",
    "start": "194530",
    "end": "200680"
  },
  {
    "text": "things so let's just say that development in production should be peered all right so we're gonna have sort of three peering connections but",
    "start": "200680",
    "end": "207640"
  },
  {
    "text": "let's also say everything in the green area should be able talk to each other so we could another for peering connections and so you know at sixty pcs",
    "start": "207640",
    "end": "214720"
  },
  {
    "text": "this sort of works but as you scale up what does that look like so let's just",
    "start": "214720",
    "end": "219850"
  },
  {
    "text": "say that now the orange group joins us and the green add a few more things so we need to add another potentially 6b",
    "start": "219850",
    "end": "227050"
  },
  {
    "text": "pcs with four VPN tunnels under 24 VPN tunnels at this point the network is your on-premises is like what are you",
    "start": "227050",
    "end": "232300"
  },
  {
    "text": "guys doing stop please like I can't have this many tunnels like there's not the way we operate like you know what is",
    "start": "232300",
    "end": "238270"
  },
  {
    "text": "going on here and so then people say like what how do we solve this you know",
    "start": "238270",
    "end": "243730"
  },
  {
    "text": "prior to this week and I've talked about this transit vbc right for all of its",
    "start": "243730",
    "end": "250600"
  },
  {
    "text": "faults and all of its glories there's a lot of customers running this it works people using it production but you know",
    "start": "250600",
    "end": "256180"
  },
  {
    "text": "we got feedback they said look this thing is complex it's hard to operate it's hard to manage there's parts of",
    "start": "256180",
    "end": "261400"
  },
  {
    "text": "that I don't understand not ever in for example is a cisco CLI jockey they're not super good at",
    "start": "261400",
    "end": "267280"
  },
  {
    "text": "managing Cisco routers or some people just hey we want it cheaper or better or faster you know 90% the features we",
    "start": "267280",
    "end": "272710"
  },
  {
    "text": "build comes from customer feedback and so people said we want something easier we want something better we'd like a",
    "start": "272710",
    "end": "277750"
  },
  {
    "text": "managed service we don't to manage instances and so we listened we built and you get it was transit gateway so",
    "start": "277750",
    "end": "285870"
  },
  {
    "text": "you know it's basically a drop in for the the latest transit VPC to get",
    "start": "285870",
    "end": "291880"
  },
  {
    "text": "started we'll talk about the way that transit vbc works and and some of the mechanics there because one some of you",
    "start": "291880",
    "end": "299890"
  },
  {
    "text": "will probably still running transit vb sees one of my first jobs I did was troubleshooting fax machines that wasn't",
    "start": "299890",
    "end": "306430"
  },
  {
    "text": "that long ago people still run fax machines things don't go away we understand that we still have our original services so trans abuse II will",
    "start": "306430",
    "end": "314200"
  },
  {
    "text": "probably exist for forever just because that's technology but will also agree",
    "start": "314200",
    "end": "320050"
  },
  {
    "start": "319000",
    "end": "319000"
  },
  {
    "text": "use some of these concepts with transit gateway so if we if we start off with original transit V PC design we have two",
    "start": "320050",
    "end": "326080"
  },
  {
    "text": "instances down at the bottom those could be routers that could be firewalls the first one that we released was with the",
    "start": "326080",
    "end": "331660"
  },
  {
    "text": "cisco csr so you have some virtual routers running on instances those have VPN connections to our virtual private",
    "start": "331660",
    "end": "337900"
  },
  {
    "text": "gateway the virtual private gateway is our managed VPN service so you don't manage any instances we just terminate",
    "start": "337900",
    "end": "343030"
  },
  {
    "text": "the VPN it does bgp and routing that kind of stuff so now from availability",
    "start": "343030",
    "end": "348550"
  },
  {
    "text": "perspective we're in to availability zones on the bottom you know so we've got connectivity one BBC not super",
    "start": "348550",
    "end": "354160"
  },
  {
    "text": "helpful yet so we create another view PC and we will create two more VPN connections so now we've got redundancy",
    "start": "354160",
    "end": "361000"
  },
  {
    "text": "and these will talk BGP so they see the traffic between these II pcs will go",
    "start": "361000",
    "end": "367180"
  },
  {
    "text": "through the transit V PC if you've got something like a firewall there that means you can do inspection if you have something like a routing there or a",
    "start": "367180",
    "end": "373150"
  },
  {
    "text": "router then you know it's just sort of a side-effect of the way this works and so",
    "start": "373150",
    "end": "378250"
  },
  {
    "text": "we advertise those routes to each one this route table will have a route to the other one so this I've got ten one",
    "start": "378250",
    "end": "383860"
  },
  {
    "text": "and ten two here so in their route tables they will see routes for each other and now they can route through the",
    "start": "383860",
    "end": "389620"
  },
  {
    "text": "transit you be seen and you can scale this out you can do this too I know something like 100 V pcs before you really have to start you know tweaking",
    "start": "389620",
    "end": "395890"
  },
  {
    "text": "and tuning it so pretty scalable method you could also use this to go out to the Internet",
    "start": "395890",
    "end": "401130"
  },
  {
    "text": "so as opposed to just re advertising the routes you get from the VP sees you could advertise your own route maybe",
    "start": "401130",
    "end": "406770"
  },
  {
    "text": "connect the Internet to your transit VP see you would have to do some source NAT but now especially this is like the",
    "start": "406770",
    "end": "412620"
  },
  {
    "text": "egress fire viral filtering case or you want all your internet traffic to go out your transit VPC you could do that you",
    "start": "412620",
    "end": "418860"
  },
  {
    "text": "just advertise the default route through the virtual private gateway and you could do that so it's a pretty flexible",
    "start": "418860",
    "end": "423900"
  },
  {
    "text": "architecture for a lot of people this is the closest that we can get to a DMZ like nice comfy warm you DMZ that",
    "start": "423900",
    "end": "431130"
  },
  {
    "text": "everyone just so liked so much as a different talk and so you know this this",
    "start": "431130",
    "end": "438980"
  },
  {
    "text": "it works but I get some questions like one is like hey why are you doing IPSec",
    "start": "438980",
    "end": "444510"
  },
  {
    "text": "all over the place didn't you know you could use peering it doesn't have any IPSec overhead it's much faster just do that instead well brilliant thought",
    "start": "444510",
    "end": "451320"
  },
  {
    "text": "let's try it it doesn't work by the way so but it illustrates some good things",
    "start": "451320",
    "end": "458400"
  },
  {
    "text": "so okay let's do vbc peering between the spokes to the trans BBC in the route",
    "start": "458400",
    "end": "463500"
  },
  {
    "text": "table of the spoke the only thing we can create a route to is the peering connection all right so we 0 0 the",
    "start": "463500",
    "end": "469980"
  },
  {
    "text": "internet goes to the peering connection so when the instance in the end that spoke sends a packet what's going to happen it's gonna go over the peering",
    "start": "469980",
    "end": "475710"
  },
  {
    "text": "connections gonna arrive at the transit EBC well who knows which route table you're appearing connections in there's",
    "start": "475710",
    "end": "482490"
  },
  {
    "text": "no one there's no there's no route table so there's no way for us to make a route table decision there and so roughly",
    "start": "482490",
    "end": "488130"
  },
  {
    "text": "basically if it comes from the outside and wants to leave outside it doesn't either start or end on an instance then",
    "start": "488130",
    "end": "493380"
  },
  {
    "text": "we're not gonna be able doing routing there so it doesn't route so sort of the",
    "start": "493380",
    "end": "499680"
  },
  {
    "text": "transitive routing rule is traffic either needs to originate or terminate on a network interface and I'll say",
    "start": "499680",
    "end": "506100"
  },
  {
    "text": "network interface again network interface in the V PC because we started talking about transit gateway it",
    "start": "506100",
    "end": "511590"
  },
  {
    "text": "actually uses network interfaces so transitive routing starts becoming much more easy so VPN works because the",
    "start": "511590",
    "end": "519150"
  },
  {
    "text": "Virtual Private Gateway terminates unto the instance and so when the traffic comes in it comes to the instance dances",
    "start": "519150",
    "end": "524880"
  },
  {
    "text": "wildy capsulate all the IPSec encryption and then it will really that from another interface or the same interface",
    "start": "524880",
    "end": "531180"
  },
  {
    "text": "go out to the internet so we've now met our requirement or transitive routing and we've got mucho bueno which is",
    "start": "531180",
    "end": "536230"
  },
  {
    "text": "Spanish for it routes to the Internet so usually when I show network engineers or",
    "start": "536230",
    "end": "543340"
  },
  {
    "text": "pretty much anyone anything they go hey this looks pretty cool looks like it might work but how does it break because that's what I'm going to deal with",
    "start": "543340",
    "end": "548440"
  },
  {
    "text": "once you install this thing so let's find out so this link here let's read I know",
    "start": "548440",
    "end": "553510"
  },
  {
    "text": "lightning strikes it whatever something happens to either the instance for that link or something on our side sunspots",
    "start": "553510",
    "end": "559480"
  },
  {
    "text": "try something doesn't really matter so because we're using BGP here or else",
    "start": "559480",
    "end": "565480"
  },
  {
    "text": "using VPN the good thing is we're using decade's old technology so BGP has got keepa lives that happen every 10 seconds",
    "start": "565480",
    "end": "572290"
  },
  {
    "text": "with a hold down timer of 30 seconds inside of VPN there's a data plane check that happens on our side every 10",
    "start": "572290",
    "end": "578260"
  },
  {
    "text": "seconds with a whole other whole time of 30 seconds so you know we should detect this failure hopefully within about 30",
    "start": "578260",
    "end": "584350"
  },
  {
    "text": "seconds and when that happens the routes failover automatically so we don't to",
    "start": "584350",
    "end": "589900"
  },
  {
    "text": "make each API calls for that to happen and we're letting routing things do routing things and so that's one of the",
    "start": "589900",
    "end": "595480"
  },
  {
    "text": "benefits here and so we'll actually reuse this concept of using VPN with",
    "start": "595480",
    "end": "602290"
  },
  {
    "text": "built-in health checks to do additional services with the transit gateway so this is not just dead dead gone",
    "start": "602290",
    "end": "608350"
  },
  {
    "text": "information will reuse this so performance wise the transit VPC the",
    "start": "608350",
    "end": "615040"
  },
  {
    "start": "612000",
    "end": "612000"
  },
  {
    "text": "essence is down on the bottom on something like 2 m4c for an instance just do the packets per second and the way the IP sex handled on those",
    "start": "615040",
    "end": "621010"
  },
  {
    "text": "platforms almost no twits no matter which VPN offering you use it's gonna",
    "start": "621010",
    "end": "626140"
  },
  {
    "text": "get between probably 1 and 3 gigabits per second so we've now created this thing that does that the virtual private",
    "start": "626140",
    "end": "633220"
  },
  {
    "text": "gateway up top no matter how many VPN connections you set up to it no matter what you do with bgp metrics and those",
    "start": "633220",
    "end": "639100"
  },
  {
    "text": "kinds of things it's gonna choose exactly one route all the time and that one route is gonna be loaded it's about",
    "start": "639100",
    "end": "644350"
  },
  {
    "text": "1.25 diggers per second and so that means we've got some scaling parameters here that we can't change unless we",
    "start": "644350",
    "end": "651250"
  },
  {
    "text": "start moving which instances are in which CPCs or we use vbc peering - you know augments and bandwidth those kinds",
    "start": "651250",
    "end": "656890"
  },
  {
    "text": "of things so it's not a particularly scalable architecture but again it meets a lot of customers requirements because",
    "start": "656890",
    "end": "663040"
  },
  {
    "text": "not everyone's got hyperscale rights and we'll also use some of these perform",
    "start": "663040",
    "end": "668649"
  },
  {
    "text": "it's characteristics in the transit gateway I talked a little bit about firewalls the only thing that really",
    "start": "668649",
    "end": "674199"
  },
  {
    "text": "changes here is that you probably don't send traffic to both simultaneously usually there's an active/passive pair",
    "start": "674199",
    "end": "679269"
  },
  {
    "text": "because you want to see both flows with TCP so you do AAS path prepending on one of the firewalls to make it the passive",
    "start": "679269",
    "end": "685300"
  },
  {
    "text": "and that way all traffic goes to the active final so transit gateway what is",
    "start": "685300",
    "end": "691269"
  },
  {
    "text": "it how does it work you know we built this from customer demand we built this because on what we've seen and and this",
    "start": "691269",
    "end": "698259"
  },
  {
    "text": "is what it looks like so transit gateway is this regional router it the main sort of use case is",
    "start": "698259",
    "end": "705420"
  },
  {
    "text": "aggregating your connectivity from on premises VPN and Direct Connect Direct",
    "start": "705420",
    "end": "710619"
  },
  {
    "text": "Connect is a roadmap item for us for q1 next year so you have to wait a little bit if you want to use native Direct Connect capability it's the one of the",
    "start": "710619",
    "end": "718569"
  },
  {
    "text": "biggest differences here is scale so 80s you know we do scale well so this scales",
    "start": "718569",
    "end": "725110"
  },
  {
    "text": "out to 5,000 V pcs so we've solved a problem there you know you do something",
    "start": "725110",
    "end": "730569"
  },
  {
    "text": "about we have these route tables which allow you to create policies you can create 20 of those on premises you can",
    "start": "730569",
    "end": "738610"
  },
  {
    "text": "connect your VPN there we do support ecmp equal cost multi path which means that",
    "start": "738610",
    "end": "744579"
  },
  {
    "text": "we still have that 1.25 limit but now we can scale horizontally with that limit and so we've tested the throughput of",
    "start": "744579",
    "end": "750759"
  },
  {
    "text": "this transit gateway up to 50 gigabits per second doesn't mean that that's the highest it goes it's just that's how many resources we decided to test with",
    "start": "750759",
    "end": "756519"
  },
  {
    "text": "and it worked and so if you go higher than that you probably should talk to us and it also increases the the",
    "start": "756519",
    "end": "763269"
  },
  {
    "text": "flexibility of our routing because we're putting network interfaces in each V PC so for a V PC we create an attachment",
    "start": "763269",
    "end": "769029"
  },
  {
    "text": "and that attachment shows up as a network interface which means it also will obey the route table rules in that",
    "start": "769029",
    "end": "774220"
  },
  {
    "text": "V PC it also has these things what we call route domains or a route tables",
    "start": "774220",
    "end": "779709"
  },
  {
    "text": "this is basically a route table that defines the policy from multiple V pcs so if we say like these PPC should only",
    "start": "779709",
    "end": "786040"
  },
  {
    "text": "be able to talk to each other and the shared services vbc and VPN and nothing else we could a route table for that if",
    "start": "786040",
    "end": "791290"
  },
  {
    "text": "you say the CPC should only talk to this one resource you can create a round table for that and so this allows us to",
    "start": "791290",
    "end": "798579"
  },
  {
    "text": "do things like split dev and prod and create some really flexible routing to which we'll talk about later almost the",
    "start": "798579",
    "end": "805670"
  },
  {
    "text": "first thing I always get questions on this since we've been doing betas and other talks during this week is like you",
    "start": "805670",
    "end": "810950"
  },
  {
    "text": "know how does it work how does it break did you guys just put a big router in the cloud is that thing gonna break what happens when your router crashes am I",
    "start": "810950",
    "end": "817460"
  },
  {
    "text": "going to hurt when that happens and so like there's this fundamental understanding of like you know a router is gonna break we didn't we didn't do",
    "start": "817460",
    "end": "824180"
  },
  {
    "text": "that spoiler alert so we have this this platform we started talking about at reinvent last year",
    "start": "824180",
    "end": "829340"
  },
  {
    "text": "called hyper plane so hyper plane is a horizontally scalable state management service and that state management",
    "start": "829340",
    "end": "834500"
  },
  {
    "text": "service in this case does networking so we deploy this in a region it runs on ec2 and you know we have terabytes of",
    "start": "834500",
    "end": "842690"
  },
  {
    "text": "capacity on this thing and so it's a multi-tenant service with terabytes of capacity it's also not brand new we've",
    "start": "842690",
    "end": "848900"
  },
  {
    "text": "been doing this for network load balancer NFS mounts nat gateway private link and now the transit gateway so if",
    "start": "848900",
    "end": "856340"
  },
  {
    "text": "you think about sort of how nat gateway works and the availability and stability of that if you think about network load",
    "start": "856340",
    "end": "861590"
  },
  {
    "text": "balancer how it scales up to bandwidth requirements if you think about the single IP address per availability zone of the network load balancer or the nat",
    "start": "861590",
    "end": "867830"
  },
  {
    "text": "gateway and in here it's a lot of those saying capabilities because they all have the same same sort of mother platform here when you create an",
    "start": "867830",
    "end": "874970"
  },
  {
    "text": "attachment it's one per availability zone so you define one subnet per",
    "start": "874970",
    "end": "879980"
  },
  {
    "text": "availability zone if you want to you can dedicate a whole subnet just for the attachments depending on how much IP address space you have left over and",
    "start": "879980",
    "end": "887780"
  },
  {
    "text": "it's highly available per availability zone so whatever you want to use this you want to put it 1az per that you're",
    "start": "887780",
    "end": "894020"
  },
  {
    "text": "using so if using three AZ's you want three subnets each one of those attachments will get bandwidth that",
    "start": "894020",
    "end": "900380"
  },
  {
    "text": "spread out across that fleet you can add more and more network interfaces you get more and more bandwidth across that if",
    "start": "900380",
    "end": "906200"
  },
  {
    "text": "you have other V pcs or other tenants we just have more things and so if we",
    "start": "906200",
    "end": "912470"
  },
  {
    "text": "notice that maybe you're using a lot of bandwidth we can scale you up if we notice that some of these instances have died a very small percentage of your",
    "start": "912470",
    "end": "918920"
  },
  {
    "text": "active fleet goes down and so you know this is how we get a horizontally scalable router without any single",
    "start": "918920",
    "end": "925610"
  },
  {
    "text": "points of failure but the transit gateway itself shows up as a regional construct so you don't have to care",
    "start": "925610",
    "end": "930920"
  },
  {
    "text": "about all this cool data plane stuff we're doing and the availability zone so super neat stuff it helps answer",
    "start": "930920",
    "end": "936240"
  },
  {
    "text": "a lot of hard questions I usually get at the end of sessions so I decided just put it up you're up first",
    "start": "936240",
    "end": "941430"
  },
  {
    "text": "so let's do some examples so let's say that I want to do two things I just want",
    "start": "941430",
    "end": "947130"
  },
  {
    "text": "I just want the easy use case this is you know like transit PPC I just want everything to be I'll talk to everything that's my job as a network person just",
    "start": "947130",
    "end": "953580"
  },
  {
    "text": "making sure everything can talk to everything and someone else's problem if they can so or I could do the isolated",
    "start": "953580",
    "end": "961649"
  },
  {
    "text": "one where I want to have a little more segmentation where I want to make sure they all can't talk to each other but they do need to get back on premises for",
    "start": "961649",
    "end": "968220"
  },
  {
    "text": "some reason so let's go through these examples and this is actually the default functionality for transit",
    "start": "968220",
    "end": "974070"
  },
  {
    "text": "gateway which is the sort of this default mode so we have this route domain here we created we attach to V PC",
    "start": "974070",
    "end": "980040"
  },
  {
    "text": "so it defined two subnets we get to network interfaces which will get IP addresses in that V PC from there we",
    "start": "980040",
    "end": "988260"
  },
  {
    "text": "will define a static route into the transit gateway because it transit gateway each route table can support",
    "start": "988260",
    "end": "993899"
  },
  {
    "text": "10000 routes but the V PC route table remains unchanged it supports 100 there is no way to just automatically",
    "start": "993899",
    "end": "1000110"
  },
  {
    "text": "propagate routes from a transit gateway to the vbc route table and so the way you'll do this is you'll create sort of",
    "start": "1000110",
    "end": "1006470"
  },
  {
    "text": "a summary realm maybe the 10/8 network or the RFC 1918 networks or a 0/0 route",
    "start": "1006470",
    "end": "1012140"
  },
  {
    "text": "to the transit gateway and the transit gateway will then make sort of more educated routing decisions as that as",
    "start": "1012140",
    "end": "1018050"
  },
  {
    "text": "you attach more V pcs they're going to add their side arranged into this as an",
    "start": "1018050",
    "end": "1023750"
  },
  {
    "text": "attachment more bbc's more attachments so at this point they are all in the same rail table those routes are all",
    "start": "1023750",
    "end": "1030410"
  },
  {
    "text": "there then they can all talk to her so you have full connectivity sort of east-west and you know I also talked about route",
    "start": "1030410",
    "end": "1037280"
  },
  {
    "text": "domains because I find it simpler when I'm talking to customers you know about a route domain making sure that it's",
    "start": "1037280",
    "end": "1043069"
  },
  {
    "text": "clear that that that decision has an effect across multiple V pcs because",
    "start": "1043069",
    "end": "1048558"
  },
  {
    "text": "sometimes we say route table people were thinking a single you know V PC and so in the console it's actually it's",
    "start": "1048559",
    "end": "1054140"
  },
  {
    "text": "actually a route table so it's just more of a talking point anything else in this scenario we've got the isolated scenario",
    "start": "1054140",
    "end": "1061250"
  },
  {
    "text": "where we don't were to talk to each other but we do want access over VPN so we create a separate route table here",
    "start": "1061250",
    "end": "1066350"
  },
  {
    "text": "because we now have two different types of policies the BBC's are on one rail table the VPN is attached to another route domain so",
    "start": "1066350",
    "end": "1073490"
  },
  {
    "text": "we have it now a new attachment type the VPN in this scenario the the route table",
    "start": "1073490",
    "end": "1079280"
  },
  {
    "text": "will have a 0/0 to the transit gateway we will then put that route it's saying 0/0 goes to the VPN we can do static",
    "start": "1079280",
    "end": "1086300"
  },
  {
    "text": "routes or dynamic routes through bgp well I talked BGP at this point and the route domain for the V PC for the VPN",
    "start": "1086300",
    "end": "1093170"
  },
  {
    "text": "will put all the route tables for the V pcs which means now VPN can get to my V",
    "start": "1093170",
    "end": "1100280"
  },
  {
    "text": "pcs the VB C's have a route to the VPN and but they don't have routes to each other so that route table connected to",
    "start": "1100280",
    "end": "1106850"
  },
  {
    "text": "the PCs they don't have rel stewey each other and so they won't have connectivity so when you attach it when",
    "start": "1106850",
    "end": "1112250"
  },
  {
    "text": "you attach a V PC that defines where it's allowed to go when you propagate a route that changes the where who can",
    "start": "1112250",
    "end": "1119840"
  },
  {
    "text": "reach it so if I wants if I say these four things should be able to reach me I want to make sure they have my route I will propagate my route that way but",
    "start": "1119840",
    "end": "1126230"
  },
  {
    "text": "where you attach it to that route table to find sort of its access so in this",
    "start": "1126230",
    "end": "1132590"
  },
  {
    "text": "model he's east-west no bueno north-south way no we're routing we got",
    "start": "1132590",
    "end": "1138650"
  },
  {
    "text": "packets you know from a quick comparison perspective between transit vbc and",
    "start": "1138650",
    "end": "1144170"
  },
  {
    "start": "1141000",
    "end": "1141000"
  },
  {
    "text": "transit gateway you know transfer VB sees you know you're managing mantises scaling a little bit difficult",
    "start": "1144170",
    "end": "1149980"
  },
  {
    "text": "segmentation is possible with like things like V RFS and not a lot of customers are familiar with the vrf",
    "start": "1149980",
    "end": "1155179"
  },
  {
    "text": "functionality there so we we've made that simpler with a managed service reason elastic network interface is to",
    "start": "1155179",
    "end": "1161179"
  },
  {
    "text": "get away that with the transitive routing sort of solutions here scales horizontally and we're making it easier",
    "start": "1161179",
    "end": "1166370"
  },
  {
    "text": "to segment things with round tables and so there's just a high level sort of comparison so it Steve Seymour and this",
    "start": "1166370",
    "end": "1174500"
  },
  {
    "start": "1171000",
    "end": "1171000"
  },
  {
    "text": "session is net 331 they did a sort of deep dive on transit giggling so I've given you enough information now to",
    "start": "1174500",
    "end": "1180440"
  },
  {
    "text": "understand the rest of the presentation all the other sort of questions you may have about transit gateway with you to be sort of implicitly part of this",
    "start": "1180440",
    "end": "1187070"
  },
  {
    "text": "presentation or a part of that one because again we're gonna try to focus on the architectural stuff are there any",
    "start": "1187070",
    "end": "1192710"
  },
  {
    "start": "1192000",
    "end": "1192000"
  },
  {
    "text": "reasons to keep using a transit VBC the first question is like if it's working for you and you like it you know",
    "start": "1192710",
    "end": "1198050"
  },
  {
    "text": "keep on using it you also may find it useful to use the transit BBC to migrate to trans Gateway at some point with the way up",
    "start": "1198050",
    "end": "1204590"
  },
  {
    "text": "switch slides on that but otherwise a lot of the other stuff I see security SD man-gnat",
    "start": "1204590",
    "end": "1210110"
  },
  {
    "text": "proprietary stuff like dmvpn I firmly believe that transit gateway actually makes all those use cases better and so",
    "start": "1210110",
    "end": "1216350"
  },
  {
    "text": "we'll talk about firewalls we'll talk about those other use cases and how you build sort of a new transit VPC using those services but transit gateways the",
    "start": "1216350",
    "end": "1222830"
  },
  {
    "text": "underlying sort of architecture it's also worth calling out here that we're not actually getting rid of any",
    "start": "1222830",
    "end": "1227960"
  },
  {
    "text": "options so we're not getting rid of things like peering or private link or transit PPC everything you're doing",
    "start": "1227960",
    "end": "1233390"
  },
  {
    "text": "today you can continue doing we just have more options with transit gateway so if we start with our architecture",
    "start": "1233390",
    "end": "1240050"
  },
  {
    "start": "1238000",
    "end": "1238000"
  },
  {
    "text": "here we have four main V pcs we've got development test production and shared",
    "start": "1240050",
    "end": "1245780"
  },
  {
    "text": "services you may have some other accounts so administrative accounts things like landing zone or security or",
    "start": "1245780",
    "end": "1251930"
  },
  {
    "text": "billing or administrative accounts or the network and infrastructure ownership accounts but you probably don't actually",
    "start": "1251930",
    "end": "1257120"
  },
  {
    "text": "run instances that need to talk to other things there and so these usually have some sort of IEM permissions or cross account roles those types of things from",
    "start": "1257120",
    "end": "1264770"
  },
  {
    "text": "there you'll connect those four main V pcs to the transit gateway I chose this over peering and for some reasons like",
    "start": "1264770",
    "end": "1271370"
  },
  {
    "text": "scalability so if you want add more later you use this but for the moment and for this architecture we're using",
    "start": "1271370",
    "end": "1276800"
  },
  {
    "text": "transit gateway to connect or for view pcs we'll put some round tables there for segmentation will then connect on",
    "start": "1276800",
    "end": "1283010"
  },
  {
    "text": "premises through VPN and Direct Connect and then there's this concept of hey I forgot if I got all this flexible",
    "start": "1283010",
    "end": "1288710"
  },
  {
    "text": "control who with route tables can i centralize my internet either egress or ingress because we get a lot of",
    "start": "1288710",
    "end": "1293900"
  },
  {
    "text": "customers that want to do that sort of thing because the Internet's scary so you know for security people and so can",
    "start": "1293900",
    "end": "1299780"
  },
  {
    "text": "we can we put some more control around them and so so we can do you know outbound services EPC we can do an",
    "start": "1299780",
    "end": "1306740"
  },
  {
    "text": "inbound services VPC for inbound services or if we won't put sort of an edge in front of our network so that it",
    "start": "1306740",
    "end": "1312830"
  },
  {
    "text": "looks more like something else or if we want to do is in line inspection either between our VP C's or between maybe",
    "start": "1312830",
    "end": "1319940"
  },
  {
    "text": "on-premises and our BBC's here and so we're going to walk through one what's",
    "start": "1319940",
    "end": "1326630"
  },
  {
    "text": "in this thing - how would you change it up for your scenarios and three sort of how it works so from a",
    "start": "1326630",
    "end": "1334000"
  },
  {
    "text": "when I talk to customers about these types of things this is typically how I lay down the platform right we talk about the account strategy then we",
    "start": "1334000",
    "end": "1340090"
  },
  {
    "text": "figure how we're going to segment those things where our segmentation requirements how do we want to shared services how is that going to work",
    "start": "1340090",
    "end": "1345790"
  },
  {
    "text": "you know connectivity to on-premises there's a bunch of options there and then any sort additional network",
    "start": "1345790",
    "end": "1350890"
  },
  {
    "text": "services so there's some of these things we're just talking about and then multi-region connectivity and so we're",
    "start": "1350890",
    "end": "1356080"
  },
  {
    "text": "gonna try to address all that what we are going to dress all that today so let's get going so on the account",
    "start": "1356080",
    "end": "1362890"
  },
  {
    "text": "strategy side of things you know we've got to sort of main options historically so we've got this concept if I've got a",
    "start": "1362890",
    "end": "1370330"
  },
  {
    "text": "very big account very big V PC or and lots and lots of accounts in",
    "start": "1370330",
    "end": "1375910"
  },
  {
    "text": "infrastructure and so you're like e to get really good I am and security groups or you have just lots of V pcs and our",
    "start": "1375910",
    "end": "1382840"
  },
  {
    "text": "customers have said why can't I have both like I want granular control but not with a lot of infrastructure and so",
    "start": "1382840",
    "end": "1389169"
  },
  {
    "text": "yesterday released V PC sharing so the concept here is you can have an",
    "start": "1389169",
    "end": "1394480"
  },
  {
    "start": "1390000",
    "end": "1390000"
  },
  {
    "text": "infrastructure account and then maybe some tenant accounts and the infrastructure account we have to maybe",
    "start": "1394480",
    "end": "1399940"
  },
  {
    "text": "help multiple types of accounts so we've got these folks that want to create external applications these folks that",
    "start": "1399940",
    "end": "1405400"
  },
  {
    "text": "went do internal applications and we want to create we want to provide the infrastructure for them so in this model we create a V PC we define the cider",
    "start": "1405400",
    "end": "1412000"
  },
  {
    "text": "range we go and create public subnets private subnets Internet gateway connectivity on-premises route tables",
    "start": "1412000",
    "end": "1418330"
  },
  {
    "text": "all the networking sort of scaffolding here and then we create shares with the",
    "start": "1418330",
    "end": "1424240"
  },
  {
    "text": "resources access manager so we create a share here with the public and private subnets and share it to the external",
    "start": "1424240",
    "end": "1429640"
  },
  {
    "text": "accounts we're get a separate share with the private subnets and share it to the internal accounts and so now they don't",
    "start": "1429640",
    "end": "1437200"
  },
  {
    "text": "have to worry about setting those things up we can control what they have access to and now we get different accounts in",
    "start": "1437200",
    "end": "1444010"
  },
  {
    "text": "the same VPC if you actually look at as the owner of one of those accounts and we take a look if the this red account",
    "start": "1444010",
    "end": "1451570"
  },
  {
    "text": "deploys some instances one they only see the public and private subnets they don't see the VPC or anything else they'll see only their instances they've",
    "start": "1451570",
    "end": "1458950"
  },
  {
    "text": "got control over their their account their security groups their data you know their configuration",
    "start": "1458950",
    "end": "1464120"
  },
  {
    "text": "all those kinds of things this green account which is only has internal will only see those subnets well only see",
    "start": "1464120",
    "end": "1470360"
  },
  {
    "text": "their resources and so this makes it a really really strong story for separation of duties so if you have an",
    "start": "1470360",
    "end": "1476420"
  },
  {
    "start": "1473000",
    "end": "1473000"
  },
  {
    "text": "infrastructure team that wants to set this up and make sure that the sort of developers or people developing things don't have to worry about networking so",
    "start": "1476420",
    "end": "1483320"
  },
  {
    "text": "you can take that away is also a stronger control mechanism if you don't want them messing with Route tables and doing something like accidentally",
    "start": "1483320",
    "end": "1489500"
  },
  {
    "text": "opening up Internet to something they shouldn't and so this it's a very strong control policy here also it's good from",
    "start": "1489500",
    "end": "1496370"
  },
  {
    "text": "a resource utilization so less wasted VPNs because you build less VP sees",
    "start": "1496370",
    "end": "1501430"
  },
  {
    "text": "better use of your address space because now multiple people can fit and soar the same swimming pool of IP addresses and",
    "start": "1501430",
    "end": "1509600"
  },
  {
    "text": "also I think this is probably most important but just decoupling an account in the network and so if you want to",
    "start": "1509600",
    "end": "1514760"
  },
  {
    "text": "have an account per developer you can do that and you don't have to have a VP C per developer which is probably not",
    "start": "1514760",
    "end": "1520670"
  },
  {
    "text": "unintended side effect also if you're if you've got maybe like your web group and",
    "start": "1520670",
    "end": "1526520"
  },
  {
    "text": "one BBC in your database in another group and you you've done BBC peering between those because maybe the billing needs to be separate or something you're",
    "start": "1526520",
    "end": "1532460"
  },
  {
    "text": "paying PPC peering charges for that you put them the same vb c in the same availability zone there's not going to be an additional charge for that",
    "start": "1532460",
    "end": "1538910"
  },
  {
    "text": "so you actually might use them this to save money as well so some things you want to think about is one this may not",
    "start": "1538910",
    "end": "1545480"
  },
  {
    "text": "fit for every use case so for example you may say for production it's easier to put them in separate V pcs rather",
    "start": "1545480",
    "end": "1551660"
  },
  {
    "text": "than do the sharing concept if you want to have lots of V pcs we can do that now with transit gateway this also only",
    "start": "1551660",
    "end": "1557420"
  },
  {
    "text": "works with an organization because there's some trust considerations as part of V PC sharing and it also doesn't",
    "start": "1557420",
    "end": "1564200"
  },
  {
    "text": "do any sort of resource allocation so if one of the tenants or one of the accounts wants to use all the IP",
    "start": "1564200",
    "end": "1570110"
  },
  {
    "text": "addresses that they've got access to there's no way for you to stop that or if they want to use for example there's",
    "start": "1570110",
    "end": "1576470"
  },
  {
    "text": "a limited amount of like network load balancers and endpoints you can create in a V PC and so that's shared across all the accounts and so we haven't",
    "start": "1576470",
    "end": "1582890"
  },
  {
    "text": "fundamentally changed the V PC limits and so as the sort of owner of this infrastructure account you would need to",
    "start": "1582890",
    "end": "1588830"
  },
  {
    "text": "also do sort of resource and capacity planning and so that may impact the way that you use this feature so the next up",
    "start": "1588830",
    "end": "1596030"
  },
  {
    "text": "here is really about segmentation okay we have some accounts we've done some you know sharing but how how do we",
    "start": "1596030",
    "end": "1602510"
  },
  {
    "text": "actually protect this so and this is the place where ATS is you know I'm gonna have a much harder time about giving you",
    "start": "1602510",
    "end": "1608390"
  },
  {
    "text": "direct guidance on because you know every organization I've talked to seems to have a different sort of policy or",
    "start": "1608390",
    "end": "1614120"
  },
  {
    "text": "way they've sort of put this up you know so what's the relationship when it counts are you a provider and like one",
    "start": "1614120",
    "end": "1619940"
  },
  {
    "text": "of your VP sees another one your VB sees our direct competitors and they just just froth lis hates hatred is there",
    "start": "1619940",
    "end": "1626330"
  },
  {
    "text": "like you don't put them in the same BBC like just don't do that 70 pcs but if it's like two different development groups and they like each",
    "start": "1626330",
    "end": "1632390"
  },
  {
    "text": "other and then you know so that type of that set that towards relationship is important depending upon what",
    "start": "1632390",
    "end": "1638180"
  },
  {
    "text": "segmentation water you on choose also the is it centralized like do you just",
    "start": "1638180",
    "end": "1643520"
  },
  {
    "text": "have a whole bunch of people to developing stuff and there's not like a strong infrastructure group that's going to depend on how you you do this as well",
    "start": "1643520",
    "end": "1649750"
  },
  {
    "text": "and also just scope and governance so for example if you have a PCI application it's probably easier to put",
    "start": "1649750",
    "end": "1655850"
  },
  {
    "text": "that in a separate video other than try to convince your you know your PCI auditor that this is also just as good",
    "start": "1655850",
    "end": "1662000"
  },
  {
    "text": "if that saves you time that's probably a good idea so if we start off with some accounts let's look at some of the",
    "start": "1662000",
    "end": "1667970"
  },
  {
    "start": "1666000",
    "end": "1666000"
  },
  {
    "text": "options and layers we can do for segmentation so inside the account nothing's changed I am security groups",
    "start": "1667970",
    "end": "1674090"
  },
  {
    "text": "your best friend use them right security groups and it's worth stating that nothing can talk to your instance until",
    "start": "1674090",
    "end": "1680720"
  },
  {
    "text": "you've white listed it with the security group right so just because you put to you know instances in the same V PC",
    "start": "1680720",
    "end": "1686240"
  },
  {
    "text": "doesn't mean they can talk to each other security groups still block that until you whitelist it same thing with I am",
    "start": "1686240",
    "end": "1692390"
  },
  {
    "text": "and sort of policy based things at the vbc level we still have good old route",
    "start": "1692390",
    "end": "1697670"
  },
  {
    "text": "tables letting us know what can go to the internet what can't that type of thing inside the V PC we can use network ACLs",
    "start": "1697670",
    "end": "1705380"
  },
  {
    "text": "if we want to sort of mimic some functionality I'll show you how to do that you can do separate V pcs tried and",
    "start": "1705380",
    "end": "1712190"
  },
  {
    "text": "proven we know how that works and now what transit gateway we can support that better you also may want to think about",
    "start": "1712190",
    "end": "1717200"
  },
  {
    "text": "this sort of I see this in sign companies where the people that are owning the accounts and the people that are sort of responsible for setting up",
    "start": "1717200",
    "end": "1724190"
  },
  {
    "text": "the accounts have this sort of implicit shared security line like if you can't guarantee the developers will do the",
    "start": "1724190",
    "end": "1730300"
  },
  {
    "text": "security groups and the right I am policies if that should not per your organizational discipline then sometimes",
    "start": "1730300",
    "end": "1735340"
  },
  {
    "text": "it comes down to like the infrastructure team to do that for them which is not an optimal model because if you own the",
    "start": "1735340",
    "end": "1741430"
  },
  {
    "text": "application you should own the security as well as how you know I gave you best thinks but we realize that some organizational operational change that's",
    "start": "1741430",
    "end": "1747820"
  },
  {
    "text": "not necessarily trivial and so that's why we've got multiple layers if we go further down the stack we've got the",
    "start": "1747820",
    "end": "1753220"
  },
  {
    "text": "transit gateway so the transit gateway you can use the route tables do further segmentation between your networks and",
    "start": "1753220",
    "end": "1760030"
  },
  {
    "text": "then if you really want to you can throw you know inline appliances your next-gen firewalls intrusion detection if you",
    "start": "1760030",
    "end": "1765700"
  },
  {
    "text": "have some compliance requirements for that that's yet another layer if you want to do the network ACL example will",
    "start": "1765700",
    "end": "1772120"
  },
  {
    "text": "do this so we have our V PC we have both red and purple people and they should",
    "start": "1772120",
    "end": "1778540"
  },
  {
    "text": "never talk to each other but we don't want to put them in separate VB C's for some reason so we want to mimic the vb c",
    "start": "1778540",
    "end": "1785830"
  },
  {
    "text": "functionality so we'll do here is we want make sure they can't talk to each other but they can talk with him their own subnets so a network ACL example is",
    "start": "1785830",
    "end": "1792700"
  },
  {
    "text": "this where we've whitelist the two subnets they are in we would blacklist the rest of the V PC and then we'll",
    "start": "1792700",
    "end": "1798820"
  },
  {
    "text": "allow everything else so then go to on-premises or the Internet and so I get to be careful with this because network kacl's are one easy to mess up because",
    "start": "1798820",
    "end": "1805210"
  },
  {
    "text": "they're stateless - they're easy to forget because we're not quite as visible as security groups so if you",
    "start": "1805210",
    "end": "1810220"
  },
  {
    "text": "have strong operational practices around this it's a good idea but for one-offs it can be you know it can just bite you",
    "start": "1810220",
    "end": "1816280"
  },
  {
    "text": "later sometimes because if you add a third or fourth subnet here and you forget to add the ACL there or if you don't associate the ACL to the right",
    "start": "1816280",
    "end": "1822100"
  },
  {
    "text": "route table and that kind of thing it kept a little bit a little challenging so if we take a look at the transit",
    "start": "1822100",
    "end": "1829000"
  },
  {
    "text": "gateway what we can do there this is the example we did before we put everything in the same V PC if you said hey you",
    "start": "1829000",
    "end": "1834160"
  },
  {
    "text": "know we're going your security groups are strong and I'm just going to provide access to everything security groups will be my sort of control super simple",
    "start": "1834160",
    "end": "1841300"
  },
  {
    "text": "right you don't have to do anything the transit gateway if you want to do something a little bit maybe more involved here we've got three V pcs you",
    "start": "1841300",
    "end": "1848440"
  },
  {
    "text": "know dev test production as well to share its services V PC we don't want dev test prod to talk to each other everything shield Arista shared services",
    "start": "1848440",
    "end": "1855160"
  },
  {
    "text": "BBC and VPN and so the way we do is we create two route tables here the vbc",
    "start": "1855160",
    "end": "1860350"
  },
  {
    "text": "round table has access to VPN and shared service the pn has access to all the v pcs and so",
    "start": "1860350",
    "end": "1865960"
  },
  {
    "text": "that means that we don't have east-west there we can talk to shared services as well as to the VPN so we can use this",
    "start": "1865960",
    "end": "1871779"
  },
  {
    "text": "fairly flexibly and you can mix and match this as well based upon your requirements so it's just some thoughts",
    "start": "1871779",
    "end": "1877539"
  },
  {
    "text": "or where to start again because we have all these networking controls it's tempting to say like you know although",
    "start": "1877539",
    "end": "1883929"
  },
  {
    "text": "we don't use security group seeing well we'll just lets developers do whatever they want like secure groups are still a very very strong control like the more you can",
    "start": "1883929",
    "end": "1889570"
  },
  {
    "text": "monitor those and the more that you can provide the best practice for them to do that the less you know sort of dependencies",
    "start": "1889570",
    "end": "1896289"
  },
  {
    "text": "they have on the networking team shared v pcs think about the resource sharing as well as you know if you're if you're",
    "start": "1896289",
    "end": "1904480"
  },
  {
    "text": "peering to V pcs there's a pretty strong case on my mind that those should just be in the same V PC and you can see what",
    "start": "1904480",
    "end": "1910059"
  },
  {
    "text": "that looks like in your organization so in this model like I have not talked about virtual private gateways or peering yet right so in theory you don't",
    "start": "1910059",
    "end": "1916659"
  },
  {
    "text": "actually need those in this this reference architecture separate V pcs you know we can get philosophical about",
    "start": "1916659",
    "end": "1923649"
  },
  {
    "text": "security but quite simply there simple things work and we do a lot of things",
    "start": "1923649",
    "end": "1930010"
  },
  {
    "text": "that are very simple and so if separate V pcs are simpler for you just because my architecture has shared V pcs don't",
    "start": "1930010",
    "end": "1935440"
  },
  {
    "text": "take that as gospel right do what's right for you do if it's simple working right and use the transit gateway for",
    "start": "1935440",
    "end": "1942580"
  },
  {
    "text": "sort of multi BBC policy all right so shared services G pcs let's get into",
    "start": "1942580",
    "end": "1949539"
  },
  {
    "text": "this so we did a lot of talk talks and stuff like that this week and this came up quite a bit like we have a lot of",
    "start": "1949539",
    "end": "1955419"
  },
  {
    "text": "options we can do V PC peering this is where the canonical example of of what people do with with shared services",
    "start": "1955419",
    "end": "1961779"
  },
  {
    "text": "UBC's you put your login monitoring authentication things like that ad and",
    "start": "1961779",
    "end": "1967419"
  },
  {
    "text": "one V PC do BBC peering to all of your other fee pcs that works until you get",
    "start": "1967419",
    "end": "1972880"
  },
  {
    "text": "200 and is pretty strong it works you can reference security groups across V pcs so right now",
    "start": "1972880",
    "end": "1978909"
  },
  {
    "text": "BBC peering is the only feature that has that so if you need to reference a security group across BBC's BBC peering",
    "start": "1978909",
    "end": "1984370"
  },
  {
    "text": "is still your right answer we've got private link partly it's a different model private link is a per application share it's also more secure because it",
    "start": "1984370",
    "end": "1992440"
  },
  {
    "text": "has a stronger sort of model of the trust boundary because you",
    "start": "1992440",
    "end": "1997700"
  },
  {
    "text": "can only go from the client to server and because you have to do the two-way authentication and it's for a single application it's just more granular than",
    "start": "1997700",
    "end": "2004180"
  },
  {
    "text": "the other options and so you if you want a granular account policy or if there's",
    "start": "2004180",
    "end": "2009190"
  },
  {
    "text": "trust sort of concerns between the two V pcs then private link is probably a",
    "start": "2009190",
    "end": "2014440"
  },
  {
    "text": "better model we've got transit V PC you can do a shared service of you see through the transit via PC you just make",
    "start": "2014440",
    "end": "2019690"
  },
  {
    "text": "it as another spoke presenter on that last year it still works but you've got all the management involved or you've",
    "start": "2019690",
    "end": "2025420"
  },
  {
    "text": "got transit gateway so if transit gateway again is your sort of multi V PC strategy for allowing access to shared",
    "start": "2025420",
    "end": "2031060"
  },
  {
    "text": "services so if you want to do more than 100 V pcs for peering or for a transfer",
    "start": "2031060",
    "end": "2036460"
  },
  {
    "text": "instead of peering you can do it with transit gateway so effective we've gone past the hundred peering limit with",
    "start": "2036460",
    "end": "2041470"
  },
  {
    "text": "transit gateway the ones that scale or here a private Lincoln transit gateway",
    "start": "2041470",
    "end": "2046690"
  },
  {
    "text": "so that's that's what we'll talk about so in this model will transit gateway you can put your shared services V PC",
    "start": "2046690",
    "end": "2052510"
  },
  {
    "start": "2050000",
    "end": "2050000"
  },
  {
    "text": "there you can connect it to the rest this is fairly simple the reason why we chose transit gateway here over peering",
    "start": "2052510",
    "end": "2058330"
  },
  {
    "text": "for just four V pcs is because one we have a little more control over the isolation models with the rail tables as",
    "start": "2058330",
    "end": "2065080"
  },
  {
    "text": "well if you know you you acquire another company and they have 400 V pcs and you want to access them to your shared",
    "start": "2065080",
    "end": "2070659"
  },
  {
    "text": "services UBC your peering models just broke and so depending upon what your future looks like this gives you more",
    "start": "2070660",
    "end": "2076090"
  },
  {
    "text": "flexibility going forward if we compare transit gateway with private link again",
    "start": "2076090",
    "end": "2081909"
  },
  {
    "text": "private link you know the scope is on a per application model the the trust model there's no real mutual trust",
    "start": "2081910",
    "end": "2087280"
  },
  {
    "text": "between the two so that's a benefit but it also required you know doesn't require think about too much unless it",
    "start": "2087280",
    "end": "2095230"
  },
  {
    "text": "you have to have that load balancing so in terms that can't be load balanced it sort of off the table for private link",
    "start": "2095230",
    "end": "2100320"
  },
  {
    "text": "but transit gateway like we've shown it's on a per V PC or sets of V pcs but",
    "start": "2100320",
    "end": "2106600"
  },
  {
    "text": "you do need that sort of who's going to manage the transit gateway so you want someone in your organization that will sort of own that and so private links",
    "start": "2106600",
    "end": "2114310"
  },
  {
    "text": "also also for like a lot of micro services or for staff services transit gateways from my guess will be mostly",
    "start": "2114310",
    "end": "2121120"
  },
  {
    "text": "within the same organization although it doesn't necessarily have to be alright so let's connect on premises what does",
    "start": "2121120",
    "end": "2127510"
  },
  {
    "text": "that look like so VPN and direct let's taking some of those details so if you want connect on-premises couple",
    "start": "2127510",
    "end": "2133380"
  },
  {
    "text": "options you could do our vgw you can do Direct Connect pretty well understood 1.25 gigs and then there's no real",
    "start": "2133380",
    "end": "2140100"
  },
  {
    "text": "bandwidth limit on Direct Connect other your port speed you can do transit vbc which again you can do it it works a",
    "start": "2140100",
    "end": "2146400"
  },
  {
    "text": "little bit complexity but it gives you that one-to-many functionality or you can use transit gateway so the ones that",
    "start": "2146400",
    "end": "2152400"
  },
  {
    "text": "scale here are direct connection transit gateway so that's well as we're look at so a Direct Connect works like this",
    "start": "2152400",
    "end": "2158070"
  },
  {
    "text": "we've got points of presence all over the place I forget the exact number it's I think 80 something points of presence",
    "start": "2158070",
    "end": "2163350"
  },
  {
    "text": "across the world you find the closest one to you and then you get connectivity to that router you ran a port from us",
    "start": "2163350",
    "end": "2170040"
  },
  {
    "text": "anywhere from 50 megabits per second to 10 gigabits per second and from there you create a virtual interface into your",
    "start": "2170040",
    "end": "2175830"
  },
  {
    "text": "V pcs so in this model you create a private virtual interface that gives you direct connectivity to each one of these",
    "start": "2175830",
    "end": "2181770"
  },
  {
    "text": "V pcs and this model we would have to now because we just ran cable to a building and you know that goes into our",
    "start": "2181770",
    "end": "2188250"
  },
  {
    "text": "backbone we would like for that to be highly available so we choose a different location get another router",
    "start": "2188250",
    "end": "2193740"
  },
  {
    "text": "and do two more private virtual interfaces so for a single region you know this is sort of with with less than",
    "start": "2193740",
    "end": "2200580"
  },
  {
    "text": "50 v pcs this model is for the way you look at that if you want more than that you can do a couple things you can do",
    "start": "2200580",
    "end": "2206820"
  },
  {
    "text": "link aggregation so instead of doing one link between your router and our router you can do multiple each one of those",
    "start": "2206820",
    "end": "2212070"
  },
  {
    "text": "links get you at additional 50 V pcs so at the default limit of four they could",
    "start": "2212070",
    "end": "2217740"
  },
  {
    "text": "see up to 200 V pcs especially combined with EPC sharing that probably buys you some additional space you can also do",
    "start": "2217740",
    "end": "2226170"
  },
  {
    "text": "direct connect gateway so you if you have multiple V pcs on the same account you can actually get some scaling advantages here so you can create a",
    "start": "2226170",
    "end": "2232140"
  },
  {
    "text": "direct connect gateway associate the virtual private gateways to the direct connect gateway and that gives you a single VIP per account and so then as",
    "start": "2232140",
    "end": "2241740"
  },
  {
    "text": "long as you have less than 10 V pcs in each account you can have a 1/5 per account with direct connect gateway and",
    "start": "2241740",
    "end": "2247350"
  },
  {
    "text": "we'll talk about how the direct connect gateway is also used in multi region connectivity later what transit gateway",
    "start": "2247350",
    "end": "2253020"
  },
  {
    "start": "2252000",
    "end": "2252000"
  },
  {
    "text": "if you want to use it with Direct Connect today you've got a couple options one is like I said we haven't taken anything away so you can create",
    "start": "2253020",
    "end": "2259200"
  },
  {
    "text": "private virtual interfaces into direct connect and use transit gateway for other things you do want to keep track of the static",
    "start": "2259200",
    "end": "2264520"
  },
  {
    "text": "versus dynamic routing here but this can work if especially if you re get Direct Connect deployed you can do VPN over a",
    "start": "2264520",
    "end": "2272109"
  },
  {
    "text": "public virtual interface so the way this works is there's transit gateway surprise surprise it lives within a two",
    "start": "2272109",
    "end": "2277210"
  },
  {
    "text": "Bs so all the IP addresses for transit gateway or ours right so when you get a direct connect and you get a public",
    "start": "2277210",
    "end": "2283150"
  },
  {
    "text": "virtual interface that we will advertise all of our public addresses to you and so when you get all those public",
    "start": "2283150",
    "end": "2290049"
  },
  {
    "text": "addresses you can then create a VPN to our transit gateway and that will go over the direct connect and so this also",
    "start": "2290049",
    "end": "2296890"
  },
  {
    "text": "what happens to get you encryption in transit in case you wanted to do that kind of thing and if you have something like a 10 gig Direct Connect you would",
    "start": "2296890",
    "end": "2303549"
  },
  {
    "text": "create something like 8 to 10 VPN tunnels over us or not if you're not using a whole 10 tunnel and you not to",
    "start": "2303549",
    "end": "2309010"
  },
  {
    "text": "use the whole thing but you can encrypt like for example a 10 gig Direct Connect using this model otherwise you know",
    "start": "2309010",
    "end": "2316900"
  },
  {
    "text": "we'll have this q1 so you don't have to go hack stuff together if you don't want to and we'll have something hopefully for you q1 otherwise and this is maybe",
    "start": "2316900",
    "end": "2325510"
  },
  {
    "text": "the case if you already have an existing transit V PC or if you really really want to private this now you could do something like this where you Kranz a",
    "start": "2325510",
    "end": "2331299"
  },
  {
    "text": "transit Gateway attached B pcs create a transit V PC I have the transit gateways",
    "start": "2331299",
    "end": "2337119"
  },
  {
    "text": "a spoke to your your V PC your trans V PC you have your Direct Connect into the",
    "start": "2337119",
    "end": "2342549"
  },
  {
    "text": "trans people you see and then you create tunnels over that and so if you already have an existing transit vbc it already",
    "start": "2342549",
    "end": "2347680"
  },
  {
    "text": "may look like this and so the real difference is and this is also how you might do migration you take the spokes",
    "start": "2347680",
    "end": "2353020"
  },
  {
    "text": "away from the transit BBC put the spokes on the transit gateway and then connect the transit gateway to the trans because",
    "start": "2353020",
    "end": "2359049"
  },
  {
    "text": "these via VPN and so this is actually useful for this model is useful for a number of things one is if you want",
    "start": "2359049",
    "end": "2364990"
  },
  {
    "text": "maybe connect firewalls to a TBS so the transit you see would be firewalls if you want to do something like SD wanne",
    "start": "2364990",
    "end": "2370000"
  },
  {
    "text": "into a TBS these transit receives would be sort of an ingress edge if you want to migrate off transiti pcs you can use",
    "start": "2370000",
    "end": "2376990"
  },
  {
    "text": "this model if you want to use a private virtual interface before we launch something in q1 this is another way to",
    "start": "2376990",
    "end": "2383740"
  },
  {
    "text": "do that I told you we're gonna use more transit EPC stuff",
    "start": "2383740",
    "end": "2388960"
  },
  {
    "text": "all right so VPN house VPN work so we actually took the core functionality from",
    "start": "2388960",
    "end": "2394310"
  },
  {
    "text": "the vgw into the transit gateway so all those things basically look the same from an encryption perspective it's also",
    "start": "2394310",
    "end": "2400700"
  },
  {
    "text": "the same so even though we've drawn this block box outside your V pcs because the network interfaces are in your V pcs I",
    "start": "2400700",
    "end": "2406610"
  },
  {
    "text": "mean use this phrase but essentially the the router is like an omniscient being and all your BBC is simultaneously so",
    "start": "2406610",
    "end": "2412010"
  },
  {
    "text": "it's not like your your VPN encryption still happens at the edge of your V PC and so from an encryption perspective we",
    "start": "2412010",
    "end": "2418400"
  },
  {
    "text": "haven't changed anything from the Virtual Private Gateway we've just changed the way it sort of looks in the console essentially if we want to add",
    "start": "2418400",
    "end": "2425540"
  },
  {
    "text": "more bandwidth this is where we do ecmp so we've tested up to 50 gigabits per bandwidth so if we want more bandwidth",
    "start": "2425540",
    "end": "2430970"
  },
  {
    "text": "we add more tunnels and so that's pretty pretty straightforward on premises you",
    "start": "2430970",
    "end": "2437570"
  },
  {
    "text": "want to check your your equipment not all equipment on premises can do that for example like firewalls typically",
    "start": "2437570",
    "end": "2442580"
  },
  {
    "text": "don't have the quite the scale that routers do they might be limited to three or four tunnels as opposed to a hundred or something so you may want to",
    "start": "2442580",
    "end": "2448580"
  },
  {
    "text": "check your configuration it's only over a multipath BGP as well so all right I",
    "start": "2448580",
    "end": "2454400"
  },
  {
    "start": "2453000",
    "end": "2453000"
  },
  {
    "text": "said this is better than transit VG but we can make it better so let's go through an exercise real quick let's build transit V PC with transit gateway",
    "start": "2454400",
    "end": "2460490"
  },
  {
    "text": "so we have couple V pcs okay transit gateway create a rail table create the",
    "start": "2460490",
    "end": "2465530"
  },
  {
    "text": "attachments create the transit V PC create a rail tool for the transit vbc attached propagate those routes create",
    "start": "2465530",
    "end": "2472910"
  },
  {
    "text": "VPN to there propagate that VPN to the other route table and then we will add",
    "start": "2472910",
    "end": "2478640"
  },
  {
    "text": "Route tables here that have a 10/8 so we're gonna go east-west between these like our original example between 10 1",
    "start": "2478640",
    "end": "2484040"
  },
  {
    "text": "and 10 - so we just do a 10/8 to the transit gateway transit gateway will have a 10/8 back to the transit gateway",
    "start": "2484040",
    "end": "2490580"
  },
  {
    "text": "and you know maybe a default route to the Internet gateway so it could do VPN",
    "start": "2490580",
    "end": "2496010"
  },
  {
    "text": "and we will do active passive again just because that's what I showed you before and so we've now recreated transit EVC",
    "start": "2496010",
    "end": "2502430"
  },
  {
    "text": "1.1 alright pretty cool",
    "start": "2502430",
    "end": "2507339"
  },
  {
    "text": "why would you reduce this like Nick that just took you like 12 steps like what I thought we just I thought we got out of",
    "start": "2508550",
    "end": "2514070"
  },
  {
    "text": "this so why do we put back in it so why are we doing this I also just really want to put this picture in there for",
    "start": "2514070",
    "end": "2521990"
  },
  {
    "text": "network services so if you want external services we're going to use these same sort of patterns to do this so in our",
    "start": "2521990",
    "end": "2527510"
  },
  {
    "text": "architecture if you want to do the ingress or the egress or the in-line services we're going to use that same",
    "start": "2527510",
    "end": "2533540"
  },
  {
    "text": "VPN model to accomplish that so do I need to put them all in separate B pcs",
    "start": "2533540",
    "end": "2539619"
  },
  {
    "text": "no not necessarily but it's easier to explain it like this and then if you know the routing and that kind of thing",
    "start": "2539619",
    "end": "2544910"
  },
  {
    "text": "you can combine them later so in this case we'll I've redrawn that same transit V PC example but now I've said",
    "start": "2544910",
    "end": "2552170"
  },
  {
    "text": "hey I want to do maybe egress filtering out to the internet I want to do URL whitelisting or put a proxy there or",
    "start": "2552170",
    "end": "2558440"
  },
  {
    "text": "firewall intrusion detection something like that and so what we'll do is we'll put two instances there we will do VPNs",
    "start": "2558440",
    "end": "2564590"
  },
  {
    "text": "and then instead of a 10/8 route we've now added a 0/0 route but because",
    "start": "2564590",
    "end": "2571520"
  },
  {
    "text": "remember that our VPNs are ecmp which means we can spread traffic over multiple links we're no longer limited",
    "start": "2571520",
    "end": "2578119"
  },
  {
    "text": "to two devices so we can put a third device here or fourth or fifth or six or fiftieth and so we've now created a",
    "start": "2578119",
    "end": "2584840"
  },
  {
    "text": "horizontally scalable outbound service and so what we would do here is on the way out to the Internet we would apply",
    "start": "2584840",
    "end": "2590810"
  },
  {
    "text": "source snap at these instances or proxies or whatever they are and so now we can have 5,000 V pcs using a",
    "start": "2590810",
    "end": "2597650"
  },
  {
    "text": "horizontally scalable outbound proxy service out to the Internet pretty cool huh and we're using all the",
    "start": "2597650",
    "end": "2604760"
  },
  {
    "text": "sort of transit BBC stuff and all we've really done is we've advertised a default route via BGP to the V PC route",
    "start": "2604760",
    "end": "2610760"
  },
  {
    "text": "table and so we've got ecmp we're doing source net pretty neat stuff so a couple",
    "start": "2610760",
    "end": "2619130"
  },
  {
    "text": "design notes here is one that instance needs to support bgp VPN and NAT so most",
    "start": "2619130",
    "end": "2624830"
  },
  {
    "text": "firewalls and those kinds of things can do that you've also got performance so there's no qubit of performance there",
    "start": "2624830",
    "end": "2631100"
  },
  {
    "text": "but each one of those tunnels is one point two five so you play I want to size those instances correctly from a high availability perspective bgp and",
    "start": "2631100",
    "end": "2638150"
  },
  {
    "text": "dead period detection are still doing our you know checks for us so if one of those instances or links fails they're",
    "start": "2638150",
    "end": "2643830"
  },
  {
    "text": "gonna stop advertising the route and they be pulled from that route route table we don't have to do any API calls so that's super nice and so if you're",
    "start": "2643830",
    "end": "2651300"
  },
  {
    "text": "using any sort of stateful services through this model just to note that the the return and the flow back aren't",
    "start": "2651300",
    "end": "2657120"
  },
  {
    "text": "guaranteed to take the same hash and so if you need that then we need to apply Sportsnet or if you're going out of the",
    "start": "2657120",
    "end": "2662520"
  },
  {
    "text": "internet from that VPC you need source known as well so all be scalable design pattern it takes a little bit of",
    "start": "2662520",
    "end": "2670260"
  },
  {
    "text": "setup but it doesn't look that much different than what we did today and it's actually better than what we were doing before",
    "start": "2670260",
    "end": "2675530"
  },
  {
    "text": "well what happens if something doesn't support those things what does it look like so what happens if we create this outbound services UPC but instead of",
    "start": "2675530",
    "end": "2682620"
  },
  {
    "text": "using VPN we use VPC attachment so what we do here is we create a separate subnet for attachments in this outbound",
    "start": "2682620",
    "end": "2690780"
  },
  {
    "text": "VPC we create the attachments and put those network interfaces there in the subnets for those network interfaces we",
    "start": "2690780",
    "end": "2696240"
  },
  {
    "text": "create a route a default route so in this case three route tables they each point to a network interface of one",
    "start": "2696240",
    "end": "2702300"
  },
  {
    "text": "these devices these also for example could be nak gateways if you want to centralize your net outbound and so the",
    "start": "2702300",
    "end": "2708390"
  },
  {
    "text": "same model and so now if we're using routing and network interfaces instead of VPN and bgp so what do we have to",
    "start": "2708390",
    "end": "2716820"
  },
  {
    "text": "think about here so there's some red and green on this green is there's no overhead so we've got you know 8,500 MTU",
    "start": "2716820",
    "end": "2722490"
  },
  {
    "text": "so we get pretty big packets we're not doing VPN anymore so our instances don't need support very many things but we've",
    "start": "2722490",
    "end": "2729150"
  },
  {
    "text": "lost our health checks so we need to monitor those routes to those instances to make sure they stay up and as well",
    "start": "2729150",
    "end": "2736830"
  },
  {
    "text": "we've lost ecmp so we're actually if traffic in the transit gateway flow if",
    "start": "2736830",
    "end": "2742380"
  },
  {
    "text": "we can keep it in the same availability zone we will and so that actually breaks CCNP which means that we're going to",
    "start": "2742380",
    "end": "2748110"
  },
  {
    "text": "selectively try to keep things in this a Z so you don't get new AZ dependencies without sort of understanding it so a",
    "start": "2748110",
    "end": "2755850"
  },
  {
    "text": "couple things to think about right it's simpler but you take on some sort of other caveats that you have to manage so",
    "start": "2755850",
    "end": "2761430"
  },
  {
    "text": "I expect customers to do both I like the VPN method just because there's less caveats I have to worry about if you want to ingress it looks",
    "start": "2761430",
    "end": "2768360"
  },
  {
    "text": "something like this where you ingress the internet you have the same sort of service here we're gonna use VPN again",
    "start": "2768360",
    "end": "2773700"
  },
  {
    "text": "because like I said like it more and so this is like they'll advertise their local IP address because",
    "start": "2773700",
    "end": "2779360"
  },
  {
    "text": "we won't apply source not here and so this is more like ingress laughs and grest load-balancing those types of",
    "start": "2779360",
    "end": "2785240"
  },
  {
    "text": "things you might have an eel be in front of these services for example to do that or use Ralphy 3 or even global accelerator if you want to or if you say",
    "start": "2785240",
    "end": "2793640"
  },
  {
    "text": "hey I'm gonna put an extraction layer in front of my transit gateway so it looks like an SDN device or my my network",
    "start": "2793640",
    "end": "2799880"
  },
  {
    "text": "users want to log into a router but then I want it from there just the all eight of us and so in that model what you do",
    "start": "2799880",
    "end": "2805040"
  },
  {
    "text": "here is you would create tunnels probably from on-premises you would you would change the default route out here",
    "start": "2805040",
    "end": "2811160"
  },
  {
    "text": "to the Internet and then do tunnels there probably do BGP or something similar so it could react vert eyes to",
    "start": "2811160",
    "end": "2817070"
  },
  {
    "text": "the transit gateway and so now you can create sort of an SD way on edge you can create a Cisco edge of firewall edge",
    "start": "2817070",
    "end": "2823550"
  },
  {
    "text": "whatever sort of thing you want to do and so this is this is pretty cool and we're working with the partners to",
    "start": "2823550",
    "end": "2829550"
  },
  {
    "text": "actually formalize these architectures I'll show you who we're working with a little bit if you don't need stateful",
    "start": "2829550",
    "end": "2834890"
  },
  {
    "text": "services you can turn off the source snap there cool little thing and so before we get into the firewall section",
    "start": "2834890",
    "end": "2841310"
  },
  {
    "text": "just a little philosophy for you ice cream so just because we can put firewalls there and just because we can actually",
    "start": "2841310",
    "end": "2847250"
  },
  {
    "text": "take and lift and shift your DMZ into a TPS doesn't mean it's a good idea like could you should you different things potentially I have pretty strong",
    "start": "2847250",
    "end": "2854570"
  },
  {
    "text": "feelings that there's a lot of developers that came to hate us because the DMZ was built that way like you know",
    "start": "2854570",
    "end": "2860930"
  },
  {
    "text": "if it takes three weeks or four weeks for on-premises changes to happen for a developer to get a port opened and",
    "start": "2860930",
    "end": "2866450"
  },
  {
    "text": "you've lift and shifted that stack and that operations and so that when they open a port they have to wait for that service queue ticket to go through the",
    "start": "2866450",
    "end": "2872900"
  },
  {
    "text": "six week waiting time for the ports you've now just created a problem in a different place and so let's think very",
    "start": "2872900",
    "end": "2879320"
  },
  {
    "text": "very carefully before they do these things and that like the automation is super important the operations is super",
    "start": "2879320",
    "end": "2885080"
  },
  {
    "text": "important any sort of alternatives like cloud or K notes like you know looking at guard duty and security groups and",
    "start": "2885080",
    "end": "2890240"
  },
  {
    "text": "all go to the security track they have a very strong opinion on these things but just to get firewalls we can do this now",
    "start": "2890240",
    "end": "2896390"
  },
  {
    "text": "doesn't mean it's necessarily an awesome option it could be we'll find out so if you wanna do inspection between two vb C's",
    "start": "2896390",
    "end": "2903230"
  },
  {
    "text": "would look like something like this we have our transit PC to the right we do VPN we make sure that the transit PC has a",
    "start": "2903230",
    "end": "2911299"
  },
  {
    "text": "return route back to the transit gateway we will apply a BGP prefix here for a",
    "start": "2911299",
    "end": "2916339"
  },
  {
    "text": "zero slash zero and we'll do source net so this means between DBC a and B BC B",
    "start": "2916339",
    "end": "2922520"
  },
  {
    "text": "with this route table information all the traffic goes to the firewalls and it goes to the same firewall on the way back because we're flying source net so",
    "start": "2922520",
    "end": "2929270"
  },
  {
    "text": "in the spoke BBC we do actually need the return route to the transit beauty",
    "start": "2929270",
    "end": "2934819"
  },
  {
    "text": "because we're applying source net so one thing to think about here is that the the in line the firewalls they will see",
    "start": "2934819",
    "end": "2941510"
  },
  {
    "text": "the true source and destination but in the the VB sees themselves they'll see",
    "start": "2941510",
    "end": "2946520"
  },
  {
    "text": "traffic coming from the firewall and so if you do security groups and that kind of stuff you have to make sure that they allow access for the firewall BBC flow",
    "start": "2946520",
    "end": "2954349"
  },
  {
    "text": "logs also works with transit gateway so if you want to use those as part of this you can do that for visibility if you",
    "start": "2954349",
    "end": "2961400"
  },
  {
    "text": "want do something like north-south and how would we do that so we grate VPN we attach it to it this",
    "start": "2961400",
    "end": "2968960"
  },
  {
    "text": "route table is the same route table we're using for our BBC's actually because they have the exact same policy whether it comes from V PC or it comes",
    "start": "2968960",
    "end": "2974750"
  },
  {
    "text": "from VPN we want to stay at all to the firewall if it comes from the firewall it can go wherever at once because",
    "start": "2974750",
    "end": "2979940"
  },
  {
    "text": "firewalls have hopefully made the right security decision and so in this model we put the VPN convicted rats into the",
    "start": "2979940",
    "end": "2987369"
  },
  {
    "text": "route table for the firewalls we put the V PC route tables there for the",
    "start": "2987369",
    "end": "2992480"
  },
  {
    "text": "firewalls and we apply source NAT again because NAT solves every single problem",
    "start": "2992480",
    "end": "2997910"
  },
  {
    "text": "we ever want to solve I love NAT so much but you can do this",
    "start": "2997910",
    "end": "3005109"
  },
  {
    "text": "it works you know a couple things to think about here is you know this is for V PC to V PC and for north-south",
    "start": "3005109",
    "end": "3013049"
  },
  {
    "text": "inspection just the way I've done this route table and this is you may also want to think about if you're doing this",
    "start": "3013049",
    "end": "3019180"
  },
  {
    "text": "model you may just want to terminate those VPN from on-premises directly on the firewalls themselves so",
    "start": "3019180",
    "end": "3024190"
  },
  {
    "text": "you simplify the routing a little bit just depends on how you want to set that up because our stuff that's where zombies callable in theory the firewall",
    "start": "3024190",
    "end": "3030190"
  },
  {
    "text": "services here also horizontally scalable because we're using ecmp VPN again so I",
    "start": "3030190",
    "end": "3035549"
  },
  {
    "text": "really hope you guys are getting all this this is dense stuff I know you're probably have to watch this again to get",
    "start": "3035549",
    "end": "3040720"
  },
  {
    "text": "all the because tables a lot of these relatives were here for a sort of reference and stuff",
    "start": "3040720",
    "end": "3046680"
  },
  {
    "text": "which brings me I'd stored my next point which is hopefully you all don't have to configure this all yourselves we're",
    "start": "3046680",
    "end": "3054130"
  },
  {
    "start": "3047000",
    "end": "3047000"
  },
  {
    "text": "working with our partners to formalize this so and for example for the transit",
    "start": "3054130",
    "end": "3059230"
  },
  {
    "text": "VPC we worked with Cisco to create the lambda function to do a bunch of things so you don't have to do Cisco command lines I fully expect we're going to see",
    "start": "3059230",
    "end": "3065980"
  },
  {
    "text": "the same types of integrations with these partners that we're working with so for the the sort of three major use",
    "start": "3065980",
    "end": "3073359"
  },
  {
    "text": "cases of outlined here for the outbound the edge services and line services you",
    "start": "3073359",
    "end": "3079599"
  },
  {
    "text": "know we've worked with this group of partners and some more that are on the way as well we've also added here a couple",
    "start": "3079599",
    "end": "3086050"
  },
  {
    "text": "management partners it's like aviatrix and terraform or available to do like transit gateway",
    "start": "3086050",
    "end": "3091180"
  },
  {
    "text": "orchestration and management and visibility and those kinds of things we do have CloudFormation support at launch",
    "start": "3091180",
    "end": "3097060"
  },
  {
    "text": "with transit gateway little wins big wins we also have terraform at launch",
    "start": "3097060",
    "end": "3102520"
  },
  {
    "text": "yeah the other guys so yeah so we've",
    "start": "3102520",
    "end": "3107740"
  },
  {
    "text": "worked with all these folks to make sure that you know they understand the way this works their services will be integrated if you want to do some of the",
    "start": "3107740",
    "end": "3113560"
  },
  {
    "text": "optional network services for ingress egress inspection kind of use cases I'm",
    "start": "3113560",
    "end": "3118630"
  },
  {
    "text": "gonna take a look at a couple of those specifically so aviatrix they're probably more well known for actually solving transit VPC",
    "start": "3118630",
    "end": "3125619"
  },
  {
    "text": "and so we've worked with them to make sure that when we released this product that their service will be compatible",
    "start": "3125619",
    "end": "3130900"
  },
  {
    "text": "and they can provide value on top of what we provide so I'm super pumped about this so they've got an",
    "start": "3130900",
    "end": "3136180"
  },
  {
    "text": "orchestration tool that says like hey if you didn't understand all that ruts route table and propagation attachment",
    "start": "3136180",
    "end": "3142119"
  },
  {
    "text": "stuff that Nick was talking about that you can have a GUI to do that if you want to manage that and make sure that the configuration is the right way as",
    "start": "3142119",
    "end": "3147970"
  },
  {
    "text": "well like some of the more advanced architectures they can automate like the connection to a private v over Direct",
    "start": "3147970",
    "end": "3153160"
  },
  {
    "text": "Connect so I'm you know a big fan of this this solution here I've also been",
    "start": "3153160",
    "end": "3158859"
  },
  {
    "start": "3158000",
    "end": "3158000"
  },
  {
    "text": "working with checkpoint so checkpoint is created that that horizontally auto-scaling solution so in this scenario you know if",
    "start": "3158859",
    "end": "3166030"
  },
  {
    "text": "you want to do inspection between two V pcs you can put the cloud guard solution",
    "start": "3166030",
    "end": "3171190"
  },
  {
    "text": "there and they've they've got the auto scaling solution I believe it's GA ready today or early or very",
    "start": "3171190",
    "end": "3178900"
  },
  {
    "text": "close so we working for a couple months on that and so you know this gives you",
    "start": "3178900",
    "end": "3184119"
  },
  {
    "text": "that sort of functionality without having to worry about it because it's all gonna be automated for you and sort of more exciting for me is we working",
    "start": "3184119",
    "end": "3191650"
  },
  {
    "text": "with zero so here was a company out of New Zealand they've been on TBS for since 2015 or so",
    "start": "3191650",
    "end": "3198790"
  },
  {
    "text": "they did a big migration in 2016 and they needed this what they call the TPC or the threat protection zone so they",
    "start": "3198790",
    "end": "3205270"
  },
  {
    "text": "need to do ingress filtering they're using some impervious stuff they also had to do inspection between devices and",
    "start": "3205270",
    "end": "3210730"
  },
  {
    "text": "so they built this sort of EPC a while back and then they asking us since like how can we make this better and it's all",
    "start": "3210730",
    "end": "3217390"
  },
  {
    "text": "transit gateway we didn't have a great option so what they were doing is there any explicit proxies on all their instances and then inside that VPC they",
    "start": "3217390",
    "end": "3225040"
  },
  {
    "text": "were doing some more static routing there so again they're having to maintain all that availability and so",
    "start": "3225040",
    "end": "3230369"
  },
  {
    "text": "since then they've grown a lot and this has gotten more painful for them and so we were in early conversations with with",
    "start": "3230369",
    "end": "3235900"
  },
  {
    "text": "zero and checkpoint and we came up with a design like this so we built a",
    "start": "3235900",
    "end": "3241090"
  },
  {
    "text": "dedicated threat protection zone for ingress using the Imperva stuff that goes into the transit gateway to all",
    "start": "3241090",
    "end": "3247210"
  },
  {
    "text": "their V pcs we've built a dedicated outbound V PC using the auto scaling checkpoint solution and so that gives",
    "start": "3247210",
    "end": "3252940"
  },
  {
    "text": "him the inspection for outbound and so now we're using dynamic routing we've",
    "start": "3252940",
    "end": "3258310"
  },
  {
    "text": "gotten rid of the explicit proxies and you know they're pretty excited about the functionality for transit gateway",
    "start": "3258310",
    "end": "3263320"
  },
  {
    "text": "here and what that's gonna look like going forward so it's great to have a customer use case especially coming straight out beta like this if you want",
    "start": "3263320",
    "end": "3270070"
  },
  {
    "text": "to connect multiple regions we've got a couple options here one is the simplest thing we have was cross region peering",
    "start": "3270070",
    "end": "3276340"
  },
  {
    "text": "so my favorite slides all the other slides took a lot of work this feature is so simple it's just a single line so",
    "start": "3276340",
    "end": "3282430"
  },
  {
    "text": "you know we can do peering across regions we don't do security groups across regions so think about that but",
    "start": "3282430",
    "end": "3288510"
  },
  {
    "text": "cross region peering always goes across our backbone and it's always encrypted so security people should be happy about",
    "start": "3288510",
    "end": "3295630"
  },
  {
    "text": "that so it's you know strong feature there I promise you directing at Gateway details",
    "start": "3295630",
    "end": "3300850"
  },
  {
    "text": "so if again you want to access maybe you've got a direct connect point of presence in Virginia but hey we would",
    "start": "3300850",
    "end": "3307930"
  },
  {
    "text": "really like to write it going all wait in Germany can we do that answer is yes create a direct connect",
    "start": "3307930",
    "end": "3313359"
  },
  {
    "text": "gateway attach it to the virtual private gateway in Germany and then create a virtual interface from Dallas to the",
    "start": "3313359",
    "end": "3320200"
  },
  {
    "text": "direct connect gateway and so you can go multi region with with direct connect gateway that's the sort of secondary",
    "start": "3320200",
    "end": "3325960"
  },
  {
    "text": "feature for it and so for all intents and purposes the recognize gay way is a better attachment model than the direct",
    "start": "3325960",
    "end": "3331059"
  },
  {
    "text": "v and so you know we recommend and the direct connect team recommends to use the direct connect gateway for all VIPs",
    "start": "3331059",
    "end": "3336069"
  },
  {
    "text": "going forward it's there's really no downside compared to the existing private virtual interface we don't know",
    "start": "3336069",
    "end": "3343539"
  },
  {
    "text": "what the direct connect integration will turns a gateway will will look like yet but based on my little tips on this it",
    "start": "3343539",
    "end": "3348880"
  },
  {
    "text": "will likely include direct connect gateway so that feature still in development so it's not worth prospecting too much here if you have",
    "start": "3348880",
    "end": "3357369"
  },
  {
    "start": "3357000",
    "end": "3357000"
  },
  {
    "text": "transit gateway in multiple regions yeah you have a couple options here you could reuse the transit VPC do some VPN",
    "start": "3357369",
    "end": "3364329"
  },
  {
    "text": "between both sides now if you do bgp here yes it might be nice to propagate routes around the world every time I see",
    "start": "3364329",
    "end": "3371559"
  },
  {
    "text": "a global outage I'm like where's that where's the little outlet show me show me how it happened cuz I bet it's BGP as a BGP is a BGP",
    "start": "3371559",
    "end": "3376809"
  },
  {
    "text": "yes it was BGP B gp's best features it creates the best global outages so be",
    "start": "3376809",
    "end": "3384670"
  },
  {
    "text": "careful about this we've been very very very very very careful about how we share state between regions so that we",
    "start": "3384670",
    "end": "3390339"
  },
  {
    "text": "don't have global outages so be a real shame if you just ignore our advice and create a global outage on our platform so be careful a BGP here but you can do",
    "start": "3390339",
    "end": "3399519"
  },
  {
    "text": "it if you want I would personally use a little it of static routing here just prevent that though the use cases like",
    "start": "3399519",
    "end": "3406450"
  },
  {
    "text": "you know hey if you don't have that many global requirements if you just need to go from one place to another and it's",
    "start": "3406450",
    "end": "3412299"
  },
  {
    "text": "like synchronization or those kinds of things across region peering still exists and it works or you can wait for",
    "start": "3412299",
    "end": "3417339"
  },
  {
    "text": "next year sometime we'll have cross region coming not natively and that will probably use the cross region peering",
    "start": "3417339",
    "end": "3422470"
  },
  {
    "text": "it'll be encrypted and so we get those nice security benefits as well so what's we're advice what's we're",
    "start": "3422470",
    "end": "3429220"
  },
  {
    "text": "conclusion to have for you one is the I think that the thing excites me the most about combination of EPC sharing and",
    "start": "3429220",
    "end": "3435490"
  },
  {
    "text": "transit gateway some of the other features we've done is that we finally have a network architecture that I can go and talk to customers about whether",
    "start": "3435490",
    "end": "3441549"
  },
  {
    "text": "you have 2v pcs or mm right so we've created this scalable architecture and yes we might",
    "start": "3441549",
    "end": "3447160"
  },
  {
    "text": "have to do a little bit of wiggle room for your segmentation your security requirements and those types of things and so I hope there's enough advice in",
    "start": "3447160",
    "end": "3454150"
  },
  {
    "text": "here and detail to help you make those decisions but I'm really happy that we don't have to sort of handcraft every V",
    "start": "3454150",
    "end": "3460239"
  },
  {
    "text": "PC and every or network architecture because I've created something like 150 different network designs and I I think",
    "start": "3460239",
    "end": "3466390"
  },
  {
    "text": "the most exciting part is we don't have to do that anymore and we can also meet additional scale and security",
    "start": "3466390",
    "end": "3471400"
  },
  {
    "text": "requirements that we couldn't really do before advice from just me talking to",
    "start": "3471400",
    "end": "3476619"
  },
  {
    "start": "3474000",
    "end": "3474000"
  },
  {
    "text": "people and things I've seen what I know about AES is I've been a network engineer for a while I don't know if I'm still a network engineer or not but I do",
    "start": "3476619",
    "end": "3483969"
  },
  {
    "text": "know that there's a lot of hardware decisions you have to make where you're like do I get the the model for or the",
    "start": "3483969",
    "end": "3490299"
  },
  {
    "text": "model 12 or the model 6 or the 6x because what is my network bandwidth gonna look like seven years from now you",
    "start": "3490299",
    "end": "3496239"
  },
  {
    "text": "know like I have to buy some hardware for it and we deprecate our hardware after seven years so I need to figure out what my organization's",
    "start": "3496239",
    "end": "3501640"
  },
  {
    "text": "total network things will be five years from now otherwise well to buy more and I'll look bad and so typically you buy a",
    "start": "3501640",
    "end": "3507519"
  },
  {
    "text": "bigger than you need so you don't look bad but you don't have to do that a ton ATS last year I had this exact same",
    "start": "3507519",
    "end": "3514749"
  },
  {
    "text": "slide and I said we're gonna mess up your network architecture within nine months at twelve twelve months and so I'm so happy that we did that and I",
    "start": "3514749",
    "end": "3522369"
  },
  {
    "text": "don't know we're gonna do that again but it's likely so nine months or twelve months from now I might be up you're talking about some other architecture",
    "start": "3522369",
    "end": "3528279"
  },
  {
    "text": "being like old all that stuff's wrong now doesn't scale I don't think I'm",
    "start": "3528279",
    "end": "3533739"
  },
  {
    "text": "gonna say that by the way but because we have this complexity because Transitway has all these options my recommendation",
    "start": "3533739",
    "end": "3540160"
  },
  {
    "text": "is start simple if you can stay simple because that's gonna really benefit you going forward a segment to modify this",
    "start": "3540160",
    "end": "3546670"
  },
  {
    "text": "is needed so if you have some part of your network that does have more complex requirements maybe just scope it out just say like look if we need firewalls",
    "start": "3546670",
    "end": "3553179"
  },
  {
    "text": "in the PCI environment okay just put them there but maybe not everywhere or if we have like strong resource",
    "start": "3553179",
    "end": "3559599"
  },
  {
    "text": "construction areas over here if we know that someone's can be using a lot of lambda in there VPC like let's just give them the only BBC for lambda that way",
    "start": "3559599",
    "end": "3566289"
  },
  {
    "text": "they don't mess up everyone else's IP addresses and that kind of thing so take take the hard problems and try to scope",
    "start": "3566289",
    "end": "3571509"
  },
  {
    "text": "them down and move them off and keep everything else fairly simple I've seen that used successfully a lot of times",
    "start": "3571509",
    "end": "3576930"
  },
  {
    "text": "and also a test this stuff out experiment it I'm really really hoping that you guys do some cool stuff with",
    "start": "3576930",
    "end": "3582870"
  },
  {
    "text": "transit gateway that we didn't even think was possible I have a couple ideas I didn't put on here because I already had 92 slides but I think it's a really",
    "start": "3582870",
    "end": "3590340"
  },
  {
    "text": "awesome things we can do like and so test this stuff out play with it come talk to us if you find anything and yeah",
    "start": "3590340",
    "end": "3597780"
  },
  {
    "text": "and thank you everybody for coming super excited and I'll be up here taking questions at the stage please do fill",
    "start": "3597780",
    "end": "3605220"
  },
  {
    "text": "out the evaluations we read all those things I read every single one so thank",
    "start": "3605220",
    "end": "3610380"
  },
  {
    "text": "you",
    "start": "3610380",
    "end": "3612440"
  }
]