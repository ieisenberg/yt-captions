[
  {
    "start": "0",
    "end": "106000"
  },
  {
    "text": "welcome everybody we're living the best for last",
    "start": "30",
    "end": "5299"
  },
  {
    "text": "my name is Tom Adamski I'm a specialist solution architect focusing on",
    "start": "5299",
    "end": "10620"
  },
  {
    "text": "networking across samia I'm joined today by Karthik is the senior manager easy to networking team",
    "start": "10620",
    "end": "16710"
  },
  {
    "text": "and the session we have for you today is AWS VPN solutions so now it's the day",
    "start": "16710",
    "end": "25830"
  },
  {
    "text": "after the big party might be easy to wander into the wrong room so just to set the scene this is a level 300",
    "start": "25830",
    "end": "31859"
  },
  {
    "text": "session which means advanced so we won't be going into basics like what is the VP see what is a VPN but we also won't be",
    "start": "31859",
    "end": "39360"
  },
  {
    "text": "going very deep into the code and configuration we're going to keep it at",
    "start": "39360",
    "end": "44370"
  },
  {
    "text": "the architecture level so we'll focus on tunnels and we'll focus on the magic we",
    "start": "44370",
    "end": "51449"
  },
  {
    "text": "can apply to those tunnels to build interesting architectures on AWS and we",
    "start": "51449",
    "end": "57000"
  },
  {
    "text": "have this session split into two halves and the first half I'm gonna cover AWS",
    "start": "57000",
    "end": "62190"
  },
  {
    "text": "site-to-site VPN and you might know it as AWS managed VPN the name has now",
    "start": "62190",
    "end": "68100"
  },
  {
    "text": "changed and why would you use a site-to-site VPN to connect to network environments your data center to AV PC",
    "start": "68100",
    "end": "76350"
  },
  {
    "text": "for example and then in the second half Karthik is going to cover something we",
    "start": "76350",
    "end": "81570"
  },
  {
    "text": "pre announced earlier this week on Wednesday AWS client VPN and the client VPN is",
    "start": "81570",
    "end": "88229"
  },
  {
    "text": "where you have a remote user may be using a mobile device or laptop connecting to a network environment like",
    "start": "88229",
    "end": "94560"
  },
  {
    "text": "the V PC or other AWS services all right",
    "start": "94560",
    "end": "99659"
  },
  {
    "text": "so let's start with a side-to-side VPN",
    "start": "99659",
    "end": "103429"
  },
  {
    "text": "site-to-site VPN has been covered already a few times in the previous reinvents so I wanted to focus here more",
    "start": "105350",
    "end": "111990"
  },
  {
    "start": "106000",
    "end": "106000"
  },
  {
    "text": "on the things that I'm hearing from you the customers some of the frequently asked questions things like how much",
    "start": "111990",
    "end": "117719"
  },
  {
    "text": "throughput I can get over a single VPN tunnel or how can I can I combine multiple tunnels to get mo bond with or",
    "start": "117719",
    "end": "124219"
  },
  {
    "text": "how do I make my setup highly available or how do i optimize when when things",
    "start": "124219",
    "end": "130050"
  },
  {
    "text": "get too complex or even how do I our network playing encryption - Direct Connect or which side of the",
    "start": "130050",
    "end": "137310"
  },
  {
    "text": "VPN connection actually initiates that connection so side side VPN effectively",
    "start": "137310",
    "end": "146880"
  },
  {
    "text": "it's a set of fully managed VPN termination endpoints on the AWS side so",
    "start": "146880",
    "end": "153150"
  },
  {
    "text": "we give you two VPN termination endpoints so that means you'll have two tunnels per VPN connection and we",
    "start": "153150",
    "end": "160980"
  },
  {
    "text": "support standard protocol here IPSec aes-256 for encryption ERT for hashing",
    "start": "160980",
    "end": "167610"
  },
  {
    "text": "latest diffie-hellman groups for key exchange we also support not reversal so",
    "start": "167610",
    "end": "173640"
  },
  {
    "text": "if you have nothing devices in the path the VPN will still establish and then finally from a cost point of view each",
    "start": "173640",
    "end": "180600"
  },
  {
    "text": "VPN is charged at at a per hour rate in most cases this is five cents per hour",
    "start": "180600",
    "end": "188090"
  },
  {
    "text": "and we give you to set up options so you can setup your VPN as a static VPN or as",
    "start": "188090",
    "end": "194970"
  },
  {
    "text": "a dynamic VPN and what's the difference so a static VPN from a configuration point of view can either be policy based",
    "start": "194970",
    "end": "201810"
  },
  {
    "text": "or route based whereas the dynamic VPN is always going to be replaced and the difference here is if you're setting up",
    "start": "201810",
    "end": "208350"
  },
  {
    "text": "your device to be for a policy VPN you effectively defining the interesting",
    "start": "208350",
    "end": "214200"
  },
  {
    "text": "traffic that should be encrypted to be sent to the other side that's usually done for an access control list whereas",
    "start": "214200",
    "end": "220230"
  },
  {
    "text": "with a route based VPN you're getting a logical interface that you can route traffic through so anything going",
    "start": "220230",
    "end": "225900"
  },
  {
    "text": "through that interface will effectively be encrypted from a routing point of view started VPNs static routing dynamic",
    "start": "225900",
    "end": "234150"
  },
  {
    "text": "VPN dynamic routing in this case we're using border gateway protocol BGP for the route exchange and in both cases are",
    "start": "234150",
    "end": "241500"
  },
  {
    "text": "we using pre-shared keys for tunnel authentication all right so let's look",
    "start": "241500",
    "end": "247740"
  },
  {
    "start": "245000",
    "end": "245000"
  },
  {
    "text": "at something that's common for both static and dynamic VPN before we start looking at the differences and that's",
    "start": "247740",
    "end": "253350"
  },
  {
    "text": "tunnel establishment so we have here a V PC on the left in the 1000 / 16 range",
    "start": "253350",
    "end": "260280"
  },
  {
    "text": "and we have a data center on the right one 91 6i / 16 range I kind of push them",
    "start": "260280",
    "end": "265680"
  },
  {
    "text": "to the side because we're focusing on the middle and to set up a VPN first thing we need",
    "start": "265680",
    "end": "270900"
  },
  {
    "text": "to do is define the two sides of the connection so on the AWS side that will",
    "start": "270900",
    "end": "276930"
  },
  {
    "text": "be the virtual or private gateway vgw and on the datacenter side that will be",
    "start": "276930",
    "end": "282330"
  },
  {
    "text": "the CGW the customer gateway and a customer gateway effectively is a firewall or route or anything that",
    "start": "282330",
    "end": "288690"
  },
  {
    "text": "supports IPSec and ideally BGP so then when you want to connect those two",
    "start": "288690",
    "end": "294450"
  },
  {
    "text": "things together over the VPN will provision the set of managed VPN termination endpoints associated with",
    "start": "294450",
    "end": "301680"
  },
  {
    "text": "the virtual private gateway those endpoints are deployed in different availability zones and they're using",
    "start": "301680",
    "end": "307740"
  },
  {
    "text": "public IP addresses from the AWS public address space so then you can start",
    "start": "307740",
    "end": "314910"
  },
  {
    "text": "establishing your VPN but which side of the connection actually initiates the connection and it always has to be the",
    "start": "314910",
    "end": "321750"
  },
  {
    "text": "customer gateway so if you configure your customer gateway to listen and wait for incoming tunnel connections the",
    "start": "321750",
    "end": "328110"
  },
  {
    "text": "tunnel will never come up and then when the customer gateway initiates the connection hits those two VPN",
    "start": "328110",
    "end": "334530"
  },
  {
    "text": "termination endpoints we'll look at a couple of things we'll make sure that the preciate keys you can figure they're",
    "start": "334530",
    "end": "339660"
  },
  {
    "text": "matching on both sides and that the endpoint IP address is on both sides are also matching so if you miss configured",
    "start": "339660",
    "end": "345780"
  },
  {
    "text": "your customer gateway has the correct preciate key but the wrong IP address the tunnel will not establish okay so if",
    "start": "345780",
    "end": "353370"
  },
  {
    "text": "everything is correct our tunnels will come up and with IPSec we have a thing called security Association and that's",
    "start": "353370",
    "end": "360120"
  },
  {
    "text": "effectively a definition of what traffic do you want to encrypt and how and with",
    "start": "360120",
    "end": "366060"
  },
  {
    "text": "with our tunnels you get to security associations per tunnel one in each",
    "start": "366060",
    "end": "371370"
  },
  {
    "text": "direction so with two tunnels altogether we have four security associations so let's",
    "start": "371370",
    "end": "378180"
  },
  {
    "text": "start looking at some differences in specifics for the static VPN and dynamic let's start with the static VPN so for a",
    "start": "378180",
    "end": "384750"
  },
  {
    "start": "379000",
    "end": "379000"
  },
  {
    "text": "statically p-n if it's policy based you'll create your policy on your side you create the ACL to decide what",
    "start": "384750",
    "end": "392040"
  },
  {
    "text": "traffic you find interesting and that will be the traffic going from the IP address range of the V PC to your",
    "start": "392040",
    "end": "397050"
  },
  {
    "text": "datacenter and vice versa and those rules those policies will effectively be",
    "start": "397050",
    "end": "402539"
  },
  {
    "text": "mapped to the security associations that you have so you have a security",
    "start": "402539",
    "end": "407639"
  },
  {
    "text": "association for the 1000s last 16 going to 191 6800 / 16 and then you'll have a",
    "start": "407639",
    "end": "414449"
  },
  {
    "text": "security association in the other direction and the same thing will happen for the other tunnel so at this point",
    "start": "414449",
    "end": "420119"
  },
  {
    "text": "you can send traffic over the tunnel you still have to configure your static routing on both sides because this is a",
    "start": "420119",
    "end": "425519"
  },
  {
    "text": "static VPN but what if you have more than just a single IP address range on-premise that you want to encrypt",
    "start": "425519",
    "end": "432359"
  },
  {
    "text": "let's say there's 1 7 to 16 as well normally what you would do you create",
    "start": "432359",
    "end": "437489"
  },
  {
    "text": "another policy specifying that range maybe in an access control list and that would be mapped to",
    "start": "437489",
    "end": "444419"
  },
  {
    "text": "another security Association but in this case we've used all our security associations that we have available so",
    "start": "444419",
    "end": "449999"
  },
  {
    "text": "you have to change your policy to effectively catch any traffic going from on-premise to AWS and then apply some",
    "start": "449999",
    "end": "458219"
  },
  {
    "text": "access controllers to limit the traffic that you don't want to see now this is a static VPN and it's good but for most",
    "start": "458219",
    "end": "465719"
  },
  {
    "text": "cases you want to use dynamic VPN it's much better at being able to react to",
    "start": "465719",
    "end": "471209"
  },
  {
    "text": "any changes in your network environment so let's have a look at the dynamic VPN so we know already it's route based so",
    "start": "471209",
    "end": "478829"
  },
  {
    "text": "we'll have a set of tunnel endpoints on each side Tunnel interfaces and you'll",
    "start": "478829",
    "end": "484019"
  },
  {
    "text": "be able to specify the IP addresses for each side of the connection they'll come from the 169 to 5 for a link-local IP",
    "start": "484019",
    "end": "491039"
  },
  {
    "text": "address range but you'll be able to decide what they are and then you also define each side of the bgp connection",
    "start": "491039",
    "end": "496579"
  },
  {
    "text": "specifying the autonomous system number the ASN so you'll have one tunnel and then you have the other tunnel",
    "start": "496579",
    "end": "502860"
  },
  {
    "text": "configured the same way so now we have BGP established over those tunnels the",
    "start": "502860",
    "end": "508110"
  },
  {
    "text": "routes are exchanging and you have two paths from on-premise to the V PC and",
    "start": "508110",
    "end": "513419"
  },
  {
    "text": "three paths from the V PC to on-premise so let's follow the traffic flow to see which paths are actually being used so",
    "start": "513419",
    "end": "521189"
  },
  {
    "text": "if you're sending traffic to AWS you can override the defaults and allow for both",
    "start": "521189",
    "end": "526620"
  },
  {
    "text": "tunnels to be used for sending traffic into AWS into your V PC however in the",
    "start": "526620",
    "end": "531899"
  },
  {
    "text": "other direction the VG W will always pick one to send traffic back to you even if it",
    "start": "531899",
    "end": "537240"
  },
  {
    "text": "has three paths that are equal cost and a single tunnel can support up to one",
    "start": "537240",
    "end": "542790"
  },
  {
    "text": "point five gigabit second of throughput so right now we have high availability",
    "start": "542790",
    "end": "549090"
  },
  {
    "text": "in the scenario on the AWS side on the V PC side well we have no high availability on the datacenter side if",
    "start": "549090",
    "end": "555060"
  },
  {
    "text": "that customer gateway goes down both of your tunnels are down so let's add a second customer gateway and let's create",
    "start": "555060",
    "end": "562590"
  },
  {
    "text": "a second VPN and for that we'll have a second set of VPN termination endpoints different IP addresses and we can",
    "start": "562590",
    "end": "570120"
  },
  {
    "text": "establish a second VPN tunnel with two second VPN connection with two new VPN tunnels so now we're highly available",
    "start": "570120",
    "end": "576950"
  },
  {
    "text": "but has this changed anything in terms of how we can forward traffic to and from AWS so two AWS we can still use",
    "start": "576950",
    "end": "588330"
  },
  {
    "text": "multiple tunnels if we override the defaults but in the other direction even",
    "start": "588330",
    "end": "593880"
  },
  {
    "text": "though we have four paths the vgw will only select a single path for sending traffic back ok so a lot of customers",
    "start": "593880",
    "end": "603330"
  },
  {
    "text": "don't have just a single VPC usually you have multiple V pcs so let's start adding additional V pcs to this scenario",
    "start": "603330",
    "end": "608670"
  },
  {
    "text": "so now we have a second V PC so to be pcs it's now four tunnels for",
    "start": "608670",
    "end": "614280"
  },
  {
    "text": "can four VPN connection eight tunnels for V pcs that's already sixteen tunnels",
    "start": "614280",
    "end": "619710"
  },
  {
    "text": "a VPN connection a lot of customers have built automation to deal with that number of VPN tunnels but for some",
    "start": "619710",
    "end": "627090"
  },
  {
    "text": "customers this is a complexity that they really don't want to deal with so can we actually do anything to simplify and",
    "start": "627090",
    "end": "634020"
  },
  {
    "text": "optimize that VPN setup right so before",
    "start": "634020",
    "end": "639450"
  },
  {
    "text": "we do that before we look at optimization let's analyze the setup we have from a cost point of view and what",
    "start": "639450",
    "end": "644880"
  },
  {
    "text": "cost dimensions do we need to consider in this particular scenario so we charge",
    "start": "644880",
    "end": "650370"
  },
  {
    "text": "for each VPN connection hour and we have eight VPN connections here sixteen tunnels about eight connections and then",
    "start": "650370",
    "end": "657060"
  },
  {
    "text": "we charge for the data out from your V pcs out to the internet there's a data out at an internet rate charge data into",
    "start": "657060",
    "end": "665070"
  },
  {
    "text": "AWS is free of charge over those VPN tunnels so let's start optimizing so what if we",
    "start": "665070",
    "end": "672060"
  },
  {
    "text": "could move those customer gateways a little bit closer to where we have our V pcs of what if we could put those",
    "start": "672060",
    "end": "678540"
  },
  {
    "text": "customer gateways into different daisies inside of EPC so now the traffic is",
    "start": "678540",
    "end": "683550"
  },
  {
    "text": "actually staying inside the AWS environment alright so those tunnels no",
    "start": "683550",
    "end": "688830"
  },
  {
    "text": "longer go all the way to on premise they stop in AWS on an ec2 instance and then",
    "start": "688830",
    "end": "693930"
  },
  {
    "text": "you could configure your own tunnels back to on-premise so those devices in the middle there",
    "start": "693930",
    "end": "700500"
  },
  {
    "text": "could be your favorite rooters firewalls running on ec2 and those tunnels back to",
    "start": "700500",
    "end": "705780"
  },
  {
    "text": "on-premise the not AWS side to side VPNs the VPNs you built and this is quite a",
    "start": "705780",
    "end": "712290"
  },
  {
    "text": "known pattern this is actually a transit VPC I'm showing you and it's quite good and simplifying it a little bit right if",
    "start": "712290",
    "end": "718170"
  },
  {
    "text": "if we add a second date Center now what we need to do is build two additional",
    "start": "718170",
    "end": "724080"
  },
  {
    "text": "tunnels instead of creating another set of 16 tunnels to all of epcs well what about cost so let's split this",
    "start": "724080",
    "end": "731250"
  },
  {
    "text": "into three pieces that will add up together so on the left hand side we",
    "start": "731250",
    "end": "737550"
  },
  {
    "text": "still have a VPN connection hours we still have 8 VPN connections but now something has changed the traffic is no",
    "start": "737550",
    "end": "744000"
  },
  {
    "text": "longer going out to the Internet first it's stopping at that middle V PC and those at those ec2 instances so it's a",
    "start": "744000",
    "end": "751710"
  },
  {
    "text": "different charge and now it's in both directions that charge is usually around 1 cents per gig but it's there on the",
    "start": "751710",
    "end": "760050"
  },
  {
    "text": "right-hand side we still have data out going to the internet so it's internet rate data in free of charge we don't",
    "start": "760050",
    "end": "766290"
  },
  {
    "text": "have a VPN cost here because it's not a managed VM and then finally last thing",
    "start": "766290",
    "end": "772530"
  },
  {
    "text": "to consider is the cost of the underlying ec2 instances and any licensing you might need to deploy for",
    "start": "772530",
    "end": "777900"
  },
  {
    "text": "that ok so can we make that even simpler",
    "start": "777900",
    "end": "783590"
  },
  {
    "text": "and yes we can this week we announced the availability of the transit gateway and the best way to think about the",
    "start": "783590",
    "end": "790560"
  },
  {
    "text": "transom gateway is a distributed Ruta managed by AWS that you deploy into a region and we always show it as a single",
    "start": "790560",
    "end": "798600"
  },
  {
    "text": "object but the distributed here is the keyword it's not a single point of failure it's a distributed set of devices so you",
    "start": "798600",
    "end": "805759"
  },
  {
    "text": "deploy your trans of gateway the tgw and then you create attachments from your VP",
    "start": "805759",
    "end": "811459"
  },
  {
    "text": "sees to that PGW and again the attachment is a completely new construct it's not a VPN it's not peering it's",
    "start": "811459",
    "end": "818660"
  },
  {
    "text": "something completely new it's another way for traffic to get in and out of your V PC through the transit gateway so",
    "start": "818660",
    "end": "824839"
  },
  {
    "text": "if you want you can allow your V pcs to communicate to each other for the transit gateway but then how do you",
    "start": "824839",
    "end": "829910"
  },
  {
    "text": "connect tgw backed on-premise and this is a VPN Talk you can probably figure",
    "start": "829910",
    "end": "835279"
  },
  {
    "text": "out it's going to be a VPN involved and again we have to VPN termination endpoints but this time those endpoints",
    "start": "835279",
    "end": "842089"
  },
  {
    "text": "are landing on the tgw so we can establish our tunnels we need a redundant tunnel to the second customer",
    "start": "842089",
    "end": "849410"
  },
  {
    "text": "gateway we have a second set of VPN termination endpoints associated with the tgw and we build a second set of",
    "start": "849410",
    "end": "856490"
  },
  {
    "text": "tunnels but what's very interesting now how this works with the traffic flow so",
    "start": "856490",
    "end": "863410"
  },
  {
    "text": "we can now use multiple tunnels to send traffic to the AWS environment",
    "start": "863410",
    "end": "868610"
  },
  {
    "text": "so using EC and P equal cost multi path or we now also can use multiple tunnels",
    "start": "868610",
    "end": "874759"
  },
  {
    "text": "when we're sending traffic back to your datacenter so this now allows you to aggregate multiple VPN tunnels to add",
    "start": "874759",
    "end": "881870"
  },
  {
    "text": "more bandwidth for going back to you on premise a single tunnel is still 125 gigabytes a second that means a single",
    "start": "881870",
    "end": "888439"
  },
  {
    "text": "flow will still be limited to that throughput but you can now keep adding",
    "start": "888439",
    "end": "893750"
  },
  {
    "text": "multiple tunnels together what about cost so from a cost I mentioned we split",
    "start": "893750",
    "end": "900079"
  },
  {
    "text": "it into two halfs on the right hand side we have still VPN connection hour but we",
    "start": "900079",
    "end": "905990"
  },
  {
    "text": "have two VPN connections and we can have thousands of VPC is connected to the strands of Gateway and then data out to",
    "start": "905990",
    "end": "912829"
  },
  {
    "text": "let internet rate data in free of charge on the left hand side we have charge per",
    "start": "912829",
    "end": "919999"
  },
  {
    "text": "transit gateway attachment so that's an hourly charge and then we have a data processing charge for the transferred",
    "start": "919999",
    "end": "925370"
  },
  {
    "text": "data that's actually really close to the V PC peering cost so you're looking at",
    "start": "925370",
    "end": "931339"
  },
  {
    "text": "this you're probably thinking this is great but I already have a transit V PC deployed how do I move away from a transit VPC to the",
    "start": "931339",
    "end": "937370"
  },
  {
    "text": "transit gateway so we'll go through that right now so here we have three V pcs on",
    "start": "937370",
    "end": "942380"
  },
  {
    "start": "939000",
    "end": "939000"
  },
  {
    "text": "the left using the VG w z-- to connect to those rooters in the transit V PC and",
    "start": "942380",
    "end": "947600"
  },
  {
    "text": "then you have your own VPN tunnels going back to on-premise and we want to get away from that and start using the transit gateway so let's first of all",
    "start": "947600",
    "end": "955250"
  },
  {
    "text": "create the trans gateway tgw build our attachments and you see the attachments",
    "start": "955250",
    "end": "960680"
  },
  {
    "text": "are separate to the vgw they don't connect to the vgw they connect straight to the V PC and from a routing point of",
    "start": "960680",
    "end": "966620"
  },
  {
    "text": "view you'll have a route in the V PC routing table that at this moment is sending traffic to the vgw",
    "start": "966620",
    "end": "972260"
  },
  {
    "text": "so maybe it's a default and default pointing to the vgw so nothing's changed you have your TDW attached why are you",
    "start": "972260",
    "end": "979250"
  },
  {
    "text": "not sending traffic for it the next step you want to do is explicitly set the",
    "start": "979250",
    "end": "984560"
  },
  {
    "text": "preference for the top path so it's always preferred because straight after that we're going to create those VPN",
    "start": "984560",
    "end": "991040"
  },
  {
    "text": "tunnels from the tgw going back to your own premise device and at this point we",
    "start": "991040",
    "end": "996950"
  },
  {
    "text": "want to make sure the traffic is still going over the top path all right so",
    "start": "996950",
    "end": "1002170"
  },
  {
    "text": "this is our preferred preferred path but the tgw is now connected on both on both sides it has attachments to the V pcs",
    "start": "1002170",
    "end": "1008350"
  },
  {
    "text": "and has AWS site-to-site VPN to to on-premise datacenter",
    "start": "1008350",
    "end": "1013380"
  },
  {
    "text": "so now if you don't have any stateful devices in the path like firewalls or",
    "start": "1013380",
    "end": "1018900"
  },
  {
    "text": "nothing devices you can actually have the traffic a symmetric so you could start with your datacenter side and just",
    "start": "1018900",
    "end": "1028329"
  },
  {
    "text": "send traffic over the tgw to your V pcs but your V pcs are returning the traffic over the transit V PC and then slowly",
    "start": "1028329",
    "end": "1035560"
  },
  {
    "text": "start changing the routing table inside each V PC to point from the v GW to the",
    "start": "1035560",
    "end": "1040870"
  },
  {
    "text": "t GW you do not know if your V pcs and if everything is working as expected you",
    "start": "1040870",
    "end": "1048100"
  },
  {
    "text": "can scrub the trans V PC happy days okay so so far we talked about the VPN in the",
    "start": "1048100",
    "end": "1056290"
  },
  {
    "text": "context of it going over the internet so we're going back to a VP C dot V PC actually lives inside the region that",
    "start": "1056290",
    "end": "1063490"
  },
  {
    "text": "region has an internet connection and VPN tunnels we talked about earlier",
    "start": "1063490",
    "end": "1069020"
  },
  {
    "text": "she going over that internet connection so we know Internet can sometimes be unpredictable so if we want to get more",
    "start": "1069020",
    "end": "1076400"
  },
  {
    "text": "consistent and predictable experience we can get Direct Connect so the REC Connect is the private dedicated",
    "start": "1076400",
    "end": "1082430"
  },
  {
    "text": "connectivity to AWS through the REC Connect location and effectively you get connectivity to the obvious backbone",
    "start": "1082430",
    "end": "1088340"
  },
  {
    "text": "into the region you want to go to and on the direct connect connection you can start creating logical interfaces VLANs",
    "start": "1088340",
    "end": "1095270"
  },
  {
    "text": "on your side wyff's or virtual interfaces on our side and there's two types of those interfaces there's a",
    "start": "1095270",
    "end": "1101150"
  },
  {
    "text": "private interface that gets you into the private VPC environment but it's also this public interface public vith and",
    "start": "1101150",
    "end": "1108350"
  },
  {
    "text": "that public whiff gets you to all of the AWS public IP address space everything",
    "start": "1108350",
    "end": "1114320"
  },
  {
    "text": "outside of the V pcs that includes s3 dynamodb but it also includes those",
    "start": "1114320",
    "end": "1119450"
  },
  {
    "text": "public VPN termination endpoints so as soon as your device starts seeing the routes to those VPN termination",
    "start": "1119450",
    "end": "1125510"
  },
  {
    "text": "endpoints through the public wave those tunnels will actually automatically move over to your direct connect connection",
    "start": "1125510",
    "end": "1131840"
  },
  {
    "text": "so now we've added Network playing encryption to your direct connect connection and if we look at that from a",
    "start": "1131840",
    "end": "1139880"
  },
  {
    "text": "cost point of view you still have your VPN connection our the big difference here is the data out is now at the",
    "start": "1139880",
    "end": "1147140"
  },
  {
    "text": "direct connect rate which is usually multiple times less to the Internet right and then finally data in is still at",
    "start": "1147140",
    "end": "1154220"
  },
  {
    "text": "zero dollars last thing you need to consider is the cost of the Direct Connect port okay so",
    "start": "1154220",
    "end": "1160610"
  },
  {
    "text": "this is for the V PC you're probably thinking can the same be done for the transit gateway and the answer is yes so",
    "start": "1160610",
    "end": "1168140"
  },
  {
    "text": "this is one way for you to integrate Direct Connect using the VPN with your",
    "start": "1168140",
    "end": "1173210"
  },
  {
    "text": "transit gateway we already announced that next year we're planning to provide",
    "start": "1173210",
    "end": "1178670"
  },
  {
    "text": "a native integration but I'll till then this is one way for doing it okay so",
    "start": "1178670",
    "end": "1187220"
  },
  {
    "text": "let's recap we went through a lot and hopefully if you answered all your questions so you know the throughput of",
    "start": "1187220",
    "end": "1192830"
  },
  {
    "text": "each VPN you know that you can combine those VPNs together using the transit gateway you know how to make a setup",
    "start": "1192830",
    "end": "1199430"
  },
  {
    "text": "highly available you know how to to my zit and you know now which side of the VPN connection actually initiates",
    "start": "1199430",
    "end": "1204770"
  },
  {
    "text": "the connection and that's the tgw that's the customer gateway so now I'm going to hand off to Karthik to tell us about the",
    "start": "1204770",
    "end": "1212360"
  },
  {
    "text": "AWS kinda pin right so I'm gonna be",
    "start": "1212360",
    "end": "1225680"
  },
  {
    "text": "talking about Frank VPN and what you'll see me do is I'm going to slowly build on the feature set so if you find",
    "start": "1225680",
    "end": "1232880"
  },
  {
    "text": "yourself hey how does this work how does that work hold off on three questions hopefully by the end of the session I",
    "start": "1232880",
    "end": "1239330"
  },
  {
    "text": "should have answered all your questions if you still have any unanswered questions will be available after the talk let's say so just a quick recap",
    "start": "1239330",
    "end": "1247900"
  },
  {
    "text": "what what's the solutions we have today for VPN natively in AWS what we have",
    "start": "1247900",
    "end": "1253640"
  },
  {
    "text": "what's called as an AWS managed bpn and like Tom mentioned soon you'll see this name being changed to AWS site-to-site",
    "start": "1253640",
    "end": "1260300"
  },
  {
    "text": "VPN and moving forward what we announced earlier today earlier this week was an",
    "start": "1260300",
    "end": "1267770"
  },
  {
    "start": "1265000",
    "end": "1265000"
  },
  {
    "text": "AWS client VPN so it will be launching soon so this completes our VPN portfolio",
    "start": "1267770",
    "end": "1273260"
  },
  {
    "text": "along with site-to-site VPN we also have a client VPN so what's an AWS client me",
    "start": "1273260",
    "end": "1278630"
  },
  {
    "text": "pin it so it's a fully managed client based VPN service with AWS client VPN",
    "start": "1278630",
    "end": "1284240"
  },
  {
    "text": "you can now securely access resources in AWS you know be pcs s3 DynamoDB as well",
    "start": "1284240",
    "end": "1291260"
  },
  {
    "text": "as access resources on your on-premise and you can do this from any location using any device that is running an Open",
    "start": "1291260",
    "end": "1298820"
  },
  {
    "text": "VPN based client it abyss client Rypien also seamlessly integrates with your",
    "start": "1298820",
    "end": "1303920"
  },
  {
    "text": "existing infrastructure like PPC or directory services for the rest of a session I'm gonna split this into three",
    "start": "1303920",
    "end": "1310190"
  },
  {
    "text": "parts first I'll talk about the architecture about the service and then I'll dive into details on the features",
    "start": "1310190",
    "end": "1315950"
  },
  {
    "text": "and then I'll finally talk about how do you set up the service so we'll go into more of their details on setting up the service so let's first look at the",
    "start": "1315950",
    "end": "1323210"
  },
  {
    "text": "architecture so there are a few points I want to call out here and the first and the most important is a client VPN",
    "start": "1323210",
    "end": "1329600"
  },
  {
    "text": "endpoint what is this client beeping endpoint this is the resource that you are",
    "start": "1329600",
    "end": "1334669"
  },
  {
    "text": "going to configure for the service right this is a regional construct right and",
    "start": "1334669",
    "end": "1340399"
  },
  {
    "text": "the client leapin endpoint is where all your VPN sessions are going to terminate right and this is the research that",
    "start": "1340399",
    "end": "1346669"
  },
  {
    "text": "you're going to use to actually manage and monitor your VPN sessions the second",
    "start": "1346669",
    "end": "1352100"
  },
  {
    "text": "concept is a target network or your network at launch your target network is",
    "start": "1352100",
    "end": "1357109"
  },
  {
    "text": "basically a subnet in a V PC and what you're going to be doing is you're going to associate a subnet from a V PC to the",
    "start": "1357109",
    "end": "1365869"
  },
  {
    "text": "client VPN endpoint you can associate multiple subnets to a client VPN",
    "start": "1365869",
    "end": "1371840"
  },
  {
    "text": "endpoint the only requirement there is every subnet that you're associating has",
    "start": "1371840",
    "end": "1377869"
  },
  {
    "text": "to belong to a different availability zone you cannot associate multiple",
    "start": "1377869",
    "end": "1383749"
  },
  {
    "text": "subnets from the same availability zone to an endpoint but you can associate",
    "start": "1383749",
    "end": "1388820"
  },
  {
    "text": "multiple subnets that belong to different availability zones so you're basically limited on the number of",
    "start": "1388820",
    "end": "1394639"
  },
  {
    "text": "availability zones that you have in a region the reason you're with this ability to associate multiple subnets",
    "start": "1394639",
    "end": "1401509"
  },
  {
    "text": "you get a zero didn't see another aspect here as well as these subnets that",
    "start": "1401509",
    "end": "1407359"
  },
  {
    "text": "you're associating to a client peepin endpoint have to belong to the same V PC so you cannot associate subnets from",
    "start": "1407359",
    "end": "1414679"
  },
  {
    "text": "different V pcs to a plan B pin endpoint and and and finally another restriction",
    "start": "1414679",
    "end": "1420769"
  },
  {
    "text": "you have is the from an accounting standpoint your client VPN endpoint as well as the V PC they have to belong to",
    "start": "1420769",
    "end": "1426919"
  },
  {
    "text": "the same account one of the things that I mentioned earlier was like when I was",
    "start": "1426919",
    "end": "1432019"
  },
  {
    "text": "talking about what is the services you can now I said you can access any resource and what I meant by that is so",
    "start": "1432019",
    "end": "1438619"
  },
  {
    "text": "now you're gonna have different networks that are connected to this V PC where you have a subnet that's associated to",
    "start": "1438619",
    "end": "1443869"
  },
  {
    "text": "Atlanta pin endpoint you can actually through it a single VPN tunnel you can actually access all of those networks",
    "start": "1443869",
    "end": "1449869"
  },
  {
    "text": "like you could have another V PC in the same region or a different region that's peer to the V PC you can access that as",
    "start": "1449869",
    "end": "1455749"
  },
  {
    "text": "well you can get your on-prem via vgw v8 a VPN connection or a direct connect you",
    "start": "1455749",
    "end": "1461419"
  },
  {
    "text": "can get to that as well through this through a single tunnel as well as you can get to s3 we are",
    "start": "1461419",
    "end": "1467580"
  },
  {
    "text": "s3n points as well as if you want to go to the Internet by IDW you can do all of that so essentially so long as your V PC",
    "start": "1467580",
    "end": "1474299"
  },
  {
    "text": "has access to the other networks you can actually get to that and later in the session we'll actually talk about how",
    "start": "1474299",
    "end": "1479460"
  },
  {
    "text": "that's possible and the last part from an architecture standpoint is the user",
    "start": "1479460",
    "end": "1484499"
  },
  {
    "text": "alright so I mentioned you can act you can set up these sessions using any",
    "start": "1484499",
    "end": "1490230"
  },
  {
    "text": "device that has an open VPN client right so that's that's the aspect of the user so you the client that you're going to",
    "start": "1490230",
    "end": "1496499"
  },
  {
    "text": "use is an Open VPN client right so your users are going to connect to this client VPN endpoint right and your VPN",
    "start": "1496499",
    "end": "1502950"
  },
  {
    "text": "sessions which is a TLS session so that terminates at the client VPN endpoint and then you have your traffic flowing",
    "start": "1502950",
    "end": "1508919"
  },
  {
    "text": "from your client beeping endpoint to this V PC if that's your target your destination network and onto the other",
    "start": "1508919",
    "end": "1514169"
  },
  {
    "text": "network so long as it's connected to that B to C so this is the architecture of the service let's get into the",
    "start": "1514169",
    "end": "1519929"
  },
  {
    "text": "details in terms of features because your sessions are coming into this",
    "start": "1519929",
    "end": "1525359"
  },
  {
    "start": "1521000",
    "end": "1521000"
  },
  {
    "text": "client VPN endpoint so this is the first point of entry into AWS so this is",
    "start": "1525359",
    "end": "1530369"
  },
  {
    "text": "effectively an edge service right if you are an edge service there are two features that I have to offer it's",
    "start": "1530369",
    "end": "1536730"
  },
  {
    "text": "mandatory authentication and authorization right so let's first look at authentication for authentication",
    "start": "1536730",
    "end": "1543090"
  },
  {
    "text": "where we support at launch we're going to support two types of authentication one is Active Directory and the way",
    "start": "1543090",
    "end": "1549659"
  },
  {
    "text": "we're supporting Active Directory is we integrate with directory services I'd say your Active Directory could reside",
    "start": "1549659",
    "end": "1556230"
  },
  {
    "text": "anywhere it could be in AWS it could be in your on-premise it could be anywhere on the internet it doesn't matter you're",
    "start": "1556230",
    "end": "1563639"
  },
  {
    "text": "all you're required to do is you have to configure a connector in AWS directory services to ensure that you have access",
    "start": "1563639",
    "end": "1569309"
  },
  {
    "text": "to your Active Directory and what we do is we connect to that connector so the",
    "start": "1569309",
    "end": "1574769"
  },
  {
    "text": "advantage with this is you do not have to change your existing infrastructure you continue to use the same Active",
    "start": "1574769",
    "end": "1582210"
  },
  {
    "text": "Directory the same infrastructure that you have and we will automatically connect to that infrastructure so that's",
    "start": "1582210",
    "end": "1588090"
  },
  {
    "text": "with Active Directory and another question we check that comes up is hey do you support a multi-factor MFA right",
    "start": "1588090",
    "end": "1595499"
  },
  {
    "text": "so the way we support MFA would be through Active Directory so Active Directory has support for a method",
    "start": "1595499",
    "end": "1600990"
  },
  {
    "text": "you automatically get support for NFA the second type of authentication we support is mutual or client certificate",
    "start": "1600990",
    "end": "1607970"
  },
  {
    "text": "so you the idea of flying certificate is I now bring your users if you don't want",
    "start": "1607970",
    "end": "1614190"
  },
  {
    "text": "to use Active Directory but if you want to authenticate your users you can use certificate based authentication and the",
    "start": "1614190",
    "end": "1619380"
  },
  {
    "text": "way we work for client certificates is you will upload your certificate information to ACM aw a certificate",
    "start": "1619380",
    "end": "1625710"
  },
  {
    "text": "manager and you would provide us the on for that certificate and then we will",
    "start": "1625710",
    "end": "1631500"
  },
  {
    "text": "use that information for the authentication purpose that's authentication this the second",
    "start": "1631500",
    "end": "1638250"
  },
  {
    "text": "aspect is authorization so the one thing which I want you guys to understand what the authentication authorization is so",
    "start": "1638250",
    "end": "1643470"
  },
  {
    "text": "this is the way I think of this is it's like two walls so you have your endpoint when your users are trying to connect",
    "start": "1643470",
    "end": "1648780"
  },
  {
    "text": "the first wall they're going to hit this authentication I'm going to check hey are you a loved are you who you say you",
    "start": "1648780",
    "end": "1654300"
  },
  {
    "text": "are right so if I can authenticate you then I love you to establish that VPN session to the client VP an endpoint",
    "start": "1654300",
    "end": "1660390"
  },
  {
    "text": "your session terminates and now you're trying to access a network in a V PC or on trim you're going to have your second",
    "start": "1660390",
    "end": "1666780"
  },
  {
    "text": "wall hit there which is your authorization after I've authenticated you the second check I'm going to do is",
    "start": "1666780",
    "end": "1672000"
  },
  {
    "text": "do you have access to the network that you're trying to access right that's",
    "start": "1672000",
    "end": "1677280"
  },
  {
    "text": "where the authorization kicks in so for authorization we have two types of authorization capabilities the first one",
    "start": "1677280",
    "end": "1683130"
  },
  {
    "text": "is network based authorization the way network based authorization works is",
    "start": "1683130",
    "end": "1688820"
  },
  {
    "text": "you're going to configure for a given network which group of users have access",
    "start": "1688820",
    "end": "1695160"
  },
  {
    "text": "to that network so let me pick an example so in this case you have this V PC so you're going to say for this V PC",
    "start": "1695160",
    "end": "1700350"
  },
  {
    "text": "it's either send out 1/16 I'll have Group one and in this",
    "start": "1700350",
    "end": "1705840"
  },
  {
    "text": "particular case since we have integrated with Active Directory so the group information that we're using is Active",
    "start": "1705840",
    "end": "1711150"
  },
  {
    "text": "Directory groups so you'll say hey for network 10.1 ad Group one has access and",
    "start": "1711150",
    "end": "1716910"
  },
  {
    "text": "then so you can start configuring it by each network we'll go into more details later on the session so the idea here",
    "start": "1716910",
    "end": "1724679"
  },
  {
    "text": "with this is like now you're going to you're going to control access by network and you can specify and if you",
    "start": "1724679",
    "end": "1730530"
  },
  {
    "text": "want to open it up for the network then sort of to the Internet you just say Ursula's zero and then you specify which",
    "start": "1730530",
    "end": "1735880"
  },
  {
    "text": "groups has access to the Internet the second type of authorization is security groups because you're you're dealing",
    "start": "1735880",
    "end": "1742510"
  },
  {
    "text": "with V pcs most if you probably have a security group configured right so we will automatically integrate with",
    "start": "1742510",
    "end": "1748240"
  },
  {
    "text": "security groups and the security group that we would be applying is for that association between your client VPN",
    "start": "1748240",
    "end": "1754000"
  },
  {
    "text": "endpoint and that V PC right at that link is where we're going to apply a security group the next feature is",
    "start": "1754000",
    "end": "1762220"
  },
  {
    "text": "connectivity so one of the things which I mentioned earlier was with client VPN you can access any resource from any",
    "start": "1762220",
    "end": "1769420"
  },
  {
    "text": "location so when you talk about your end user your end user could be located anywhere they could be at home they",
    "start": "1769420",
    "end": "1775929"
  },
  {
    "text": "could be traveling they could be in a conference like this or they could also be in your on-premise doesn't matter ID",
    "start": "1775929",
    "end": "1781330"
  },
  {
    "text": "so they're going to connect you a client between endpoint and from a connectivity standpoint using a single tunnel that",
    "start": "1781330",
    "end": "1787450"
  },
  {
    "text": "they establish they can access any resource it'd be the V PC that was associated or the other set of V pcs",
    "start": "1787450",
    "end": "1793809"
  },
  {
    "text": "that are paired to the V PC or on trim or internet or other adb services they can access any resource and a couple of",
    "start": "1793809",
    "end": "1801220"
  },
  {
    "text": "other points from a connectivity standpoint is the tunnel that we establish from your end-user to the",
    "start": "1801220",
    "end": "1806350"
  },
  {
    "text": "client VPN is a full tunnel meaning we're gonna have a default route on the",
    "start": "1806350",
    "end": "1811360"
  },
  {
    "text": "end-users device that will automatically send that traffic every traffic through",
    "start": "1811360",
    "end": "1816490"
  },
  {
    "text": "the tunnel interface that's there on the device to the endpoint a couple of other things is the the VPN connection between",
    "start": "1816490",
    "end": "1823780"
  },
  {
    "text": "your end user and the client between endpoint either from a transport protocol perspective you could either",
    "start": "1823780",
    "end": "1829660"
  },
  {
    "text": "choose TCP or UDP typically we've seen better performances with UDP compared to",
    "start": "1829660",
    "end": "1834970"
  },
  {
    "text": "TCP the challenge that TCP has is given you got TCP with in TCP you get exponential back-off so you've seen",
    "start": "1834970",
    "end": "1841510"
  },
  {
    "text": "lower performances with TCP compared to UDP and for and finally from a connectivity standpoint we're supporting",
    "start": "1841510",
    "end": "1847270"
  },
  {
    "text": "ipv4 to other features from management",
    "start": "1847270",
    "end": "1854080"
  },
  {
    "text": "standpoint this is a security service so forensics is super critical for any",
    "start": "1854080",
    "end": "1859809"
  },
  {
    "text": "security service right so one of the very basic questions they're going to ask is a who tried to connect to the",
    "start": "1859809",
    "end": "1865660"
  },
  {
    "text": "service was it successful did it fail if it failed why did it fail when was this",
    "start": "1865660",
    "end": "1871850"
  },
  {
    "text": "connection terminated all of that information all of the connection information is going to be logged it's",
    "start": "1871850",
    "end": "1877760"
  },
  {
    "text": "it's gets accumulated and then we're going to post it to cloud watch lugs so you can specify which god watch lock",
    "start": "1877760",
    "end": "1884570"
  },
  {
    "text": "groups and streams you want and we'll post this every 15 minutes to cloud watch lugs the second aspect of from a",
    "start": "1884570",
    "end": "1892460"
  },
  {
    "text": "management standpoint is the ability to manage active connections so there are",
    "start": "1892460",
    "end": "1897860"
  },
  {
    "text": "two two capabilities that we provide one is your ability to describe and see what",
    "start": "1897860",
    "end": "1903560"
  },
  {
    "text": "are all the active connections at a given point of time the second aspect is you will also be able to terminate any",
    "start": "1903560",
    "end": "1910070"
  },
  {
    "text": "given active connection so you could pick a particular connection you can terminate that or you could say hey for",
    "start": "1910070",
    "end": "1915110"
  },
  {
    "text": "this user foo I want to go terminate all connections put into this user you can do that as well",
    "start": "1915110",
    "end": "1920120"
  },
  {
    "text": "all right so we give you the ability to actually manage active connections and",
    "start": "1920120",
    "end": "1927710"
  },
  {
    "text": "finally from a client standpoint like I mentioned before so we're gonna support Open VPN base client so it's not it's",
    "start": "1927710",
    "end": "1933320"
  },
  {
    "text": "not an Amazon own client so you didn't just go pick any open between base client and then run it on the device and",
    "start": "1933320",
    "end": "1938990"
  },
  {
    "text": "you should be able to connect to the endpoint so those are the features so now let's get into the more fun part in",
    "start": "1938990",
    "end": "1944720"
  },
  {
    "text": "terms of how do you actually set up the service so the first step you're going to do is you're going to create this",
    "start": "1944720",
    "end": "1950270"
  },
  {
    "start": "1947000",
    "end": "1947000"
  },
  {
    "text": "client VPN endpoint so what what goes on with creating a client between endpoints there are there are a few parameters",
    "start": "1950270",
    "end": "1957050"
  },
  {
    "text": "that you're going to configure the first one is the client side or when users connect to this client VPN endpoint",
    "start": "1957050",
    "end": "1963740"
  },
  {
    "text": "we're going to be assigning ipv4 addresses to these users right where do I pick up this address from that you're",
    "start": "1963740",
    "end": "1969230"
  },
  {
    "text": "going to give us the client side of range so we're going to pick up addresses from that client side the range the second you aspect you're gonna",
    "start": "1969230",
    "end": "1978260"
  },
  {
    "text": "configure is server certificates right we talked about client certificates and how we integrate with a CMS with client",
    "start": "1978260",
    "end": "1984980"
  },
  {
    "text": "certificates i'm authenticating the user with server certificates you are",
    "start": "1984980",
    "end": "1990020"
  },
  {
    "text": "authenticating me right because you want to make sure as a user when you're connecting you're actually connecting to",
    "start": "1990020",
    "end": "1995630"
  },
  {
    "text": "AWS and you're not going to somebody else posing as AWS right and that's what the server certificate",
    "start": "1995630",
    "end": "2001150"
  },
  {
    "text": "provides for you which server certificates again we will integrate at a CMU provide us Leon",
    "start": "2001150",
    "end": "2006310"
  },
  {
    "text": "so you upload a certain information in ACM and then we just take the on from ACM the third part is authentication",
    "start": "2006310",
    "end": "2014080"
  },
  {
    "text": "information like we talked about you can either pick Active Directory or mutual",
    "start": "2014080",
    "end": "2020680"
  },
  {
    "text": "authentication you or you could pick both if pick one or the other abort you have to have at least one authentication",
    "start": "2020680",
    "end": "2026020"
  },
  {
    "text": "mechanism configured if it's Active Directory then you're going to specify the directory ID if it's mutual lot",
    "start": "2026020",
    "end": "2031720"
  },
  {
    "text": "they're going to specify the arm for the client certificate information the fourth one is connection logs one of the",
    "start": "2031720",
    "end": "2038440"
  },
  {
    "text": "things that we're going to make you do when you create the endpoint is we will mandatorily make you choose do you want",
    "start": "2038440",
    "end": "2045670"
  },
  {
    "text": "connection logs or not the reason we're going to make it you're making it mandatory is four and six is a very",
    "start": "2045670",
    "end": "2052658"
  },
  {
    "text": "critical thing a security service right what we don't want to happen is let's say you you realized hey there's a",
    "start": "2052659",
    "end": "2058389"
  },
  {
    "text": "malicious user let me go and try to find out what who is this user when did when did they log in and then you realize oh",
    "start": "2058390",
    "end": "2064720"
  },
  {
    "text": "there's no connection logs right so we don't want that to happen so we want you to make that conscious decision do I",
    "start": "2064720",
    "end": "2070360"
  },
  {
    "text": "want logging or not all right so so that's the reason why we'll actually see this as a mandatory field that you have",
    "start": "2070360",
    "end": "2076090"
  },
  {
    "text": "to enter the fifth one is DNS server right you have to specify what DNS server you want this to configure you",
    "start": "2076090",
    "end": "2082300"
  },
  {
    "text": "could typically pick the dot to address of the V PC that you're associating or you could pick any DNS server you",
    "start": "2082300",
    "end": "2088389"
  },
  {
    "text": "configure that IP address then the next one is what is the transport protocol you want do you want TCP do you want you",
    "start": "2088390",
    "end": "2094720"
  },
  {
    "text": "get to pick that as well so once you've configured all of this what happens is",
    "start": "2094720",
    "end": "2100240"
  },
  {
    "text": "your endpoint status gets into a pending associate which basically means you're still not ready to accept connections",
    "start": "2100240",
    "end": "2105870"
  },
  {
    "text": "but a couple of things that also happens once you've configured this is you're going to get an endpoint ID and also",
    "start": "2105870",
    "end": "2111790"
  },
  {
    "text": "you're going to get a dns name this is the DNS name that you're actually going to use that your users are going to use",
    "start": "2111790",
    "end": "2117130"
  },
  {
    "text": "to connect to this endpoint and also you'll be able to download and OBP and file and open VPN config file and this",
    "start": "2117130",
    "end": "2124360"
  },
  {
    "text": "is the file that it will actually provide to these devices that you'll upload to their devices and this is what",
    "start": "2124360",
    "end": "2129700"
  },
  {
    "text": "your many of the open VPN clients use to connect and if you look at this file it basically has there are some VPN",
    "start": "2129700",
    "end": "2135309"
  },
  {
    "text": "connection parameters then there's also the most important thing is it'll actually have that DNS name that was",
    "start": "2135309",
    "end": "2140530"
  },
  {
    "text": "generated when you when you created a client VPN endpoint and your DNS name is typically gonna have it's gonna have",
    "start": "2140530",
    "end": "2146289"
  },
  {
    "text": "your your client VPN endpoint ID it's going to have the region name and then you'll have your aws.amazon.com so you",
    "start": "2146289",
    "end": "2155530"
  },
  {
    "text": "mention you still can't create a connection a VPN session to establish",
    "start": "2155530",
    "end": "2160539"
  },
  {
    "text": "the VPN session is a step two is now you have to associate a client a client",
    "start": "2160539",
    "end": "2166150"
  },
  {
    "text": "beeping endpoint to your network or your target Network as I mentioned before this is basically a subnet in your V PC",
    "start": "2166150",
    "end": "2173520"
  },
  {
    "text": "so how you do this is you associate your the subnet to this clamp between endpoint when you do this we",
    "start": "2173520",
    "end": "2180579"
  },
  {
    "text": "automatically applied the security group the default security group of that V PC",
    "start": "2180579",
    "end": "2185770"
  },
  {
    "text": "to this connection so if you don't want that security group you always can go",
    "start": "2185770",
    "end": "2191589"
  },
  {
    "text": "and change it but it's if you don't want to change it if you're happy with the default security group you can use it it's automatically done for you once you",
    "start": "2191589",
    "end": "2198670"
  },
  {
    "text": "do this a couple of things happen one is your endpoint status becomes available so you can actually now establish VPN",
    "start": "2198670",
    "end": "2206109"
  },
  {
    "text": "sessions another concept that we've not talked about so far is route tables every client VPN endpoint has its own",
    "start": "2206109",
    "end": "2212980"
  },
  {
    "text": "route table when you associate a subnet to this client VPN endpoint what we will",
    "start": "2212980",
    "end": "2219910"
  },
  {
    "text": "do is we will automatically add the local route of that V PC only the local",
    "start": "2219910",
    "end": "2225339"
  },
  {
    "text": "rod not any of the entourage the local routes of that V PC to this URL table",
    "start": "2225339",
    "end": "2230680"
  },
  {
    "text": "and you basically the route table looks like in this case your V PC standard 1/16 so your our tables say here you",
    "start": "2230680",
    "end": "2236589"
  },
  {
    "text": "your destination is 10 dot 1/16 and the target is that V PC subnet that you associated so at this point you you can",
    "start": "2236589",
    "end": "2246010"
  },
  {
    "text": "actually establish VPN sessions but you're not going to be able to access any resource the reason is remember the",
    "start": "2246010",
    "end": "2254230"
  },
  {
    "start": "2253000",
    "end": "2253000"
  },
  {
    "text": "second wall I talked about the first of all is authentication you got through that so you're hitting the second wall",
    "start": "2254230",
    "end": "2259299"
  },
  {
    "text": "which is authorization you've not yet configured any authorization rules so right now by default when you create a",
    "start": "2259299",
    "end": "2265210"
  },
  {
    "text": "client VPN endpoint you have access to any network we because it's an edge service you have to come",
    "start": "2265210",
    "end": "2271150"
  },
  {
    "text": "and explicitly open up every single network that you want your users to connect to so the way you do this is you",
    "start": "2271150",
    "end": "2277900"
  },
  {
    "text": "will configure an authorization rule and the way it's going to look like you're gonna say hey for network 10.1 slash 16",
    "start": "2277900",
    "end": "2283320"
  },
  {
    "text": "which ad group do I want to have access now if you're using mutual lot you don't",
    "start": "2283320",
    "end": "2288670"
  },
  {
    "text": "have ad group so then you can come and say tender at 1/16 a level so at that point you're going to have AK access for",
    "start": "2288670",
    "end": "2294130"
  },
  {
    "text": "all users so at this point your end users can now access resources in that V",
    "start": "2294130",
    "end": "2301030"
  },
  {
    "text": "PC but one thing which I mentioned was hey you can actually access any resource",
    "start": "2301030",
    "end": "2306220"
  },
  {
    "text": "right but here I'm saying can only access resources in that PPC so how do you open this up for other networks work",
    "start": "2306220",
    "end": "2314440"
  },
  {
    "text": "alright so let's first start with let's say you have a V PC that's paired to",
    "start": "2314440",
    "end": "2320020"
  },
  {
    "start": "2315000",
    "end": "2315000"
  },
  {
    "text": "your 10.1 V PC it's a 1 semi 2.30 1/16 that's the slider of your B PC and so",
    "start": "2320020",
    "end": "2327040"
  },
  {
    "text": "you're going to do two things the first thing you're going to do is you're going to add a route in the route table which",
    "start": "2327040",
    "end": "2332260"
  },
  {
    "text": "is it says for your 172 30 1/16 I'm going to go through this V PC subnet and",
    "start": "2332260",
    "end": "2339070"
  },
  {
    "text": "the second thing you're going to do is you're going to add a rule an authorization rule which says now you're going to allow access for the network",
    "start": "2339070",
    "end": "2346390"
  },
  {
    "text": "172 31 / 60 all right so you have to do these two steps add a rock so what the route is doing is you're creating the",
    "start": "2346390",
    "end": "2352150"
  },
  {
    "text": "plumbing and when once you add the rule is now you're actually providing the capability for traffic to flow through",
    "start": "2352150",
    "end": "2359170"
  },
  {
    "text": "so you need both you need the plumbing as well as the firewall role to all of traffic to flow through all right so",
    "start": "2359170",
    "end": "2364990"
  },
  {
    "text": "this is here in this example which I talked about is it's the once only 231 which is peer to your EPC and this V PC",
    "start": "2364990",
    "end": "2370960"
  },
  {
    "text": "could be in the same region or it could be in a different region it doesn't matter so let's see if you want to go to",
    "start": "2370960",
    "end": "2376750"
  },
  {
    "text": "on trim you're going to be a VPN connection or a direct connect with the address of 198 dot 1/16 what do you have",
    "start": "2376750",
    "end": "2383470"
  },
  {
    "text": "to do the same two things you add a route and add a rule so your route table is now going to add this third entry",
    "start": "2383470",
    "end": "2388480"
  },
  {
    "text": "which is 188 dot 1/16 it's going to go over here this V PC subnet and similarly",
    "start": "2388480",
    "end": "2394570"
  },
  {
    "text": "if you want to get to the internet again same two things you add a route 0/0 and you",
    "start": "2394570",
    "end": "2400059"
  },
  {
    "text": "at all an interesting point they want to talk about here is how does the authorization rules work right so in",
    "start": "2400059",
    "end": "2406569"
  },
  {
    "text": "this example we've added four routes right and so now let's say I have an ad group one that wants to access my 10.1",
    "start": "2406569",
    "end": "2413979"
  },
  {
    "text": "and I have ad group two that wants to access 172 31 right but then I want to",
    "start": "2413979",
    "end": "2419949"
  },
  {
    "text": "open up both the groups to the internet so you're going to have three routes a 1 a 10.1 that's allowing access to group 1",
    "start": "2419949",
    "end": "2428729"
  },
  {
    "text": "172 31 / 16 allowing access to group 2 and a 0/0 allowing access to group 1 and",
    "start": "2428729",
    "end": "2434739"
  },
  {
    "text": "group 2 right so now let's look at the happy case a user from group 1 is trying",
    "start": "2434739",
    "end": "2440259"
  },
  {
    "text": "to access 10.1 that's the route so I have the plumbing and then there's the authorization rule so I'm going to let",
    "start": "2440259",
    "end": "2445839"
  },
  {
    "text": "the traffic flow through now let's say I have a user from group 2 who's trying to access 10.1 this is not my happy case so",
    "start": "2445839",
    "end": "2454779"
  },
  {
    "text": "I have the route but when I try to do a rule match and because I have a very",
    "start": "2454779",
    "end": "2459999"
  },
  {
    "text": "specific route here which is I'm trying to access 10.1 I'm going to do the rule",
    "start": "2459999",
    "end": "2466089"
  },
  {
    "text": "do a rule match on that specific network so the 10.1 rule will actually take",
    "start": "2466089",
    "end": "2471339"
  },
  {
    "text": "precedence over the 0/0 rule so this is similar to routing when you have a very liquid typical routing how it works is",
    "start": "2471339",
    "end": "2478420"
  },
  {
    "text": "to have a very specific route I will do a match on that and then if I don't if nothing meets then it would fall down to",
    "start": "2478420",
    "end": "2485289"
  },
  {
    "text": "my default route the way our rules work is also something similar so by doing it this way what ends up happening is when",
    "start": "2485289",
    "end": "2492699"
  },
  {
    "text": "I hit that specific rule match for that network like in this case that n dot 1/16 and I am having somebody from group",
    "start": "2492699",
    "end": "2498670"
  },
  {
    "text": "2 for that 10.1 / 16 network you're only",
    "start": "2498670",
    "end": "2504009"
  },
  {
    "text": "allowing users from group 1 but this user is from group 2 so we're going to drop their traffic we're not going to",
    "start": "2504009",
    "end": "2511089"
  },
  {
    "text": "say hey this guy has a 0/0 rule that allows for Group 1 and group 2 the 0/0 rule will not kick in this specific",
    "start": "2511089",
    "end": "2517719"
  },
  {
    "text": "Network rule will kick in so this way we prevent users from just because I have access to one network and",
    "start": "2517719",
    "end": "2524439"
  },
  {
    "text": "you've opened up access to them to the internet they are not going to be able to get access to other networks so and",
    "start": "2524439",
    "end": "2530769"
  },
  {
    "text": "that's the reason why even when you're configuring this Kiedis office you have to specify for this network which groups have access to",
    "start": "2530769",
    "end": "2538640"
  },
  {
    "text": "that network okay another question which which is which will come up is like",
    "start": "2538640",
    "end": "2544580"
  },
  {
    "text": "Herod how are you magically making this traffic go from this V PC to all these",
    "start": "2544580",
    "end": "2550910"
  },
  {
    "text": "other pure B pcs or on-prem or the Internet the the key to that secret",
    "start": "2550910",
    "end": "2556640"
  },
  {
    "text": "sauce is the PPC subnet the reason when you associate a V PC subnet to the",
    "start": "2556640",
    "end": "2561830"
  },
  {
    "text": "client VPN endpoint what I'm doing is in that subnet I'm actually going to place an E and I and",
    "start": "2561830",
    "end": "2568310"
  },
  {
    "text": "I'm going to pick an IP address from that subnet that you associated with the",
    "start": "2568310",
    "end": "2574310"
  },
  {
    "text": "client opinion point so now when the traffic flows out it'll actually look",
    "start": "2574310",
    "end": "2579680"
  },
  {
    "text": "like it is coming from your V PC from that subnet that you associated with an",
    "start": "2579680",
    "end": "2585140"
  },
  {
    "text": "IP address from that subnet so that's the reason why now through this now it's",
    "start": "2585140",
    "end": "2591560"
  },
  {
    "text": "basically to look like the traffic is actually coming from this V PC so the flip side of this is now if you're",
    "start": "2591560",
    "end": "2597710"
  },
  {
    "text": "actually trying to do flow logs on this on your V PC you're not going to see that client side or IP address because",
    "start": "2597710",
    "end": "2604580"
  },
  {
    "text": "you're actually going to see the traffic is look it look like the traffic is coming from and eni in that V PC subnet",
    "start": "2604580",
    "end": "2611150"
  },
  {
    "text": "that you associated so that's that we don't and the way we actually do this is we actually do an estimate from the",
    "start": "2611150",
    "end": "2618020"
  },
  {
    "text": "client VPN endpoint onto your V PC subnet we actually do an s net to that iya nice IP address that ENS IP address",
    "start": "2618020",
    "end": "2625880"
  },
  {
    "text": "is an IP address from the subnet that you associated with us so once this once",
    "start": "2625880",
    "end": "2632540"
  },
  {
    "text": "you've done this so now your users can actually access resources in front in",
    "start": "2632540",
    "end": "2638450"
  },
  {
    "text": "any location they could be either in the V PC that you associated or an appeared V piece in the same region or a",
    "start": "2638450",
    "end": "2643700"
  },
  {
    "text": "different reason region or it could be to iaw services we rs3 endpoints or",
    "start": "2643700",
    "end": "2649730"
  },
  {
    "text": "going the edge W or the internet or on from so it's like you can get to anywhere so long as you have access to",
    "start": "2649730",
    "end": "2654920"
  },
  {
    "text": "it from your V PC so can quick summary so the steps that you're going to do",
    "start": "2654920",
    "end": "2661340"
  },
  {
    "text": "it's like there's three mandatory steps the first step you're creating your endpoint the second step is you are",
    "start": "2661340",
    "end": "2667340"
  },
  {
    "text": "enabling VPN connectivity for end-users and the way you do that is by associating a subnet from a V PC to the",
    "start": "2667340",
    "end": "2674510"
  },
  {
    "text": "endpoint and the third step is you're actually enabling access to that V PC",
    "start": "2674510",
    "end": "2679880"
  },
  {
    "text": "for your end users and the way you do that is you can figure out the division rules so these are your three mandatory steps you have the fourth optional step",
    "start": "2679880",
    "end": "2686690"
  },
  {
    "text": "if you want to start to open this up to more networks right then you go through",
    "start": "2686690",
    "end": "2691700"
  },
  {
    "text": "these you add a route for creating the plumbing and then you add an authorization rule that's going to",
    "start": "2691700",
    "end": "2696890"
  },
  {
    "text": "enable access for that particular network so these are your four steps for actually enabling the service so kind of",
    "start": "2696890",
    "end": "2704780"
  },
  {
    "start": "2704000",
    "end": "2704000"
  },
  {
    "text": "putting this together just to summarize so so now with this client beeping you're going to have two options right",
    "start": "2704780",
    "end": "2710690"
  },
  {
    "text": "for for VPN solutions natively running on AWS one is your site to site VPN like",
    "start": "2710690",
    "end": "2716180"
  },
  {
    "text": "Tom mentioned it's connecting two networks from your on-prem to your V PC and your second option that we'll be",
    "start": "2716180",
    "end": "2721460"
  },
  {
    "text": "launching soon as a client VPN endpoints where you can connect you the user to AWS or to any other network that's",
    "start": "2721460",
    "end": "2727430"
  },
  {
    "text": "connected to your network that you associated at the endpoint right thank you very much and please still complete",
    "start": "2727430",
    "end": "2736940"
  },
  {
    "text": "the survey",
    "start": "2736940",
    "end": "2739390"
  }
]