[
  {
    "text": "in today's modern world your border is",
    "start": "2540",
    "end": "5460"
  },
  {
    "text": "an interface between yourself and their",
    "start": "5460",
    "end": "7440"
  },
  {
    "text": "news earth businesses today not only",
    "start": "7440",
    "end": "9420"
  },
  {
    "text": "need an online presence but need to",
    "start": "9420",
    "end": "11160"
  },
  {
    "text": "ensure they can deal with an",
    "start": "11160",
    "end": "12420"
  },
  {
    "text": "ever-increasing hostile environment but",
    "start": "12420",
    "end": "14700"
  },
  {
    "text": "as a tax shift towards the application",
    "start": "14700",
    "end": "17039"
  },
  {
    "text": "layer is traditional security enough in",
    "start": "17039",
    "end": "20160"
  },
  {
    "text": "this session I'll illustrate how you can",
    "start": "20160",
    "end": "21720"
  },
  {
    "text": "leverage AWS development services in",
    "start": "21720",
    "end": "23730"
  },
  {
    "text": "conjunction with the wider AWS platform",
    "start": "23730",
    "end": "26220"
  },
  {
    "text": "to create an architecture that",
    "start": "26220",
    "end": "27750"
  },
  {
    "text": "dynamically responds to what is",
    "start": "27750",
    "end": "29220"
  },
  {
    "text": "occurring in your environment allowing",
    "start": "29220",
    "end": "31170"
  },
  {
    "text": "you to build a self-defending border to",
    "start": "31170",
    "end": "32910"
  },
  {
    "text": "protect your online assets let's quickly",
    "start": "32910",
    "end": "35820"
  },
  {
    "text": "talk about the state of play in business",
    "start": "35820",
    "end": "37649"
  },
  {
    "text": "today in this ever-increasing digital",
    "start": "37649",
    "end": "40620"
  },
  {
    "text": "world the frequency of attacks are",
    "start": "40620",
    "end": "42510"
  },
  {
    "text": "increasing year on year but at the same",
    "start": "42510",
    "end": "44610"
  },
  {
    "text": "time the attack vectors are becoming",
    "start": "44610",
    "end": "46050"
  },
  {
    "text": "more and more complex businesses are",
    "start": "46050",
    "end": "49289"
  },
  {
    "text": "often prolonging and extending out their",
    "start": "49289",
    "end": "51300"
  },
  {
    "text": "security investments sweating out their",
    "start": "51300",
    "end": "53160"
  },
  {
    "text": "assets there are more rules and",
    "start": "53160",
    "end": "55350"
  },
  {
    "text": "regulations that need to be adhered to",
    "start": "55350",
    "end": "57030"
  },
  {
    "text": "and let's face it it can be difficult to",
    "start": "57030",
    "end": "59460"
  },
  {
    "text": "be compliant and lastly we have a",
    "start": "59460",
    "end": "61859"
  },
  {
    "text": "plethora of disparate disconnected",
    "start": "61859",
    "end": "64080"
  },
  {
    "text": "systems that we really struggle to",
    "start": "64080",
    "end": "65549"
  },
  {
    "text": "extract value from so what are the",
    "start": "65549",
    "end": "68610"
  },
  {
    "text": "threats facing today's online websites",
    "start": "68610",
    "end": "71150"
  },
  {
    "text": "look there are many so whilst we could",
    "start": "71150",
    "end": "74880"
  },
  {
    "text": "talk about them the king of the",
    "start": "74880",
    "end": "77880"
  },
  {
    "text": "application layer based attacks is the",
    "start": "77880",
    "end": "80130"
  },
  {
    "text": "open web application security project",
    "start": "80130",
    "end": "81750"
  },
  {
    "text": "style attacks the eyewash top-10 was",
    "start": "81750",
    "end": "86759"
  },
  {
    "text": "last updated in 2017 and it's no",
    "start": "86759",
    "end": "89939"
  },
  {
    "text": "surprise that number one on the list is",
    "start": "89939",
    "end": "92790"
  },
  {
    "text": "injection injection occurs when a",
    "start": "92790",
    "end": "95280"
  },
  {
    "text": "malicious actor can send hostile data to",
    "start": "95280",
    "end": "97470"
  },
  {
    "text": "an interpreter injection can result in",
    "start": "97470",
    "end": "101909"
  },
  {
    "text": "data loss corruption of data and in some",
    "start": "101909",
    "end": "104250"
  },
  {
    "text": "cases complete host takeover this is",
    "start": "104250",
    "end": "106470"
  },
  {
    "text": "serious stuff that we need to be",
    "start": "106470",
    "end": "108390"
  },
  {
    "text": "mitigating against let's take a look at",
    "start": "108390",
    "end": "111299"
  },
  {
    "text": "the simplistic example here where I've",
    "start": "111299",
    "end": "113070"
  },
  {
    "text": "decided to log in to a website",
    "start": "113070",
    "end": "114930"
  },
  {
    "text": "I've entered in my username and password",
    "start": "114930",
    "end": "116969"
  },
  {
    "text": "which is translated into the following",
    "start": "116969",
    "end": "119189"
  },
  {
    "text": "TCL query against the database engine",
    "start": "119189",
    "end": "121290"
  },
  {
    "text": "and it might look something like this",
    "start": "121290",
    "end": "123649"
  },
  {
    "text": "pretty innocent but we know not everyone",
    "start": "123649",
    "end": "128520"
  },
  {
    "text": "is innocent and by not validating our",
    "start": "128520",
    "end": "130920"
  },
  {
    "text": "user input in this scenario",
    "start": "130920",
    "end": "133030"
  },
  {
    "text": "acta has been able to return all",
    "start": "133030",
    "end": "134680"
  },
  {
    "text": "usernames and passwords as a record set",
    "start": "134680",
    "end": "137490"
  },
  {
    "text": "obviously this will require a bit of",
    "start": "137490",
    "end": "139720"
  },
  {
    "text": "massaging to return as HTML but you get",
    "start": "139720",
    "end": "142120"
  },
  {
    "text": "the idea so how we fighting these",
    "start": "142120",
    "end": "146530"
  },
  {
    "text": "threats today and wearing our",
    "start": "146530",
    "end": "148930"
  },
  {
    "text": "traditional security hat we're going to",
    "start": "148930",
    "end": "151300"
  },
  {
    "text": "be using controls and we have various",
    "start": "151300",
    "end": "154209"
  },
  {
    "text": "controls are available to us to provide",
    "start": "154209",
    "end": "157510"
  },
  {
    "text": "countermeasures but there are problems",
    "start": "157510",
    "end": "160030"
  },
  {
    "text": "these traditional approaches do not",
    "start": "160030",
    "end": "162190"
  },
  {
    "text": "scale versus effort effort versus return",
    "start": "162190",
    "end": "165660"
  },
  {
    "text": "firstly these proprietary systems are",
    "start": "165660",
    "end": "167890"
  },
  {
    "text": "often incredibly expensive requiring",
    "start": "167890",
    "end": "170140"
  },
  {
    "text": "large upfront costs as well as a use of",
    "start": "170140",
    "end": "171940"
  },
  {
    "text": "professional services for implementation",
    "start": "171940",
    "end": "173410"
  },
  {
    "text": "but more importantly businesses the",
    "start": "173410",
    "end": "176260"
  },
  {
    "text": "world over are adopting a DevOps",
    "start": "176260",
    "end": "177819"
  },
  {
    "text": "methodology and these businesses rely on",
    "start": "177819",
    "end": "180370"
  },
  {
    "text": "automated deployments and they often see",
    "start": "180370",
    "end": "182680"
  },
  {
    "text": "an opportunity to automate security as",
    "start": "182680",
    "end": "184390"
  },
  {
    "text": "well dev sec ops but these traditional",
    "start": "184390",
    "end": "187180"
  },
  {
    "text": "approaches often lack a multi vendor",
    "start": "187180",
    "end": "188980"
  },
  {
    "text": "integration and lastly if your site has",
    "start": "188980",
    "end": "192340"
  },
  {
    "text": "a high release cadence how often is",
    "start": "192340",
    "end": "194800"
  },
  {
    "text": "security getting in the way of genuine",
    "start": "194800",
    "end": "196420"
  },
  {
    "text": "transactions so enough theory here let's",
    "start": "196420",
    "end": "200049"
  },
  {
    "text": "make this real let me introduce you to",
    "start": "200049",
    "end": "202440"
  },
  {
    "text": "the snowy unicorn elevator company their",
    "start": "202440",
    "end": "205690"
  },
  {
    "text": "website is based on the popular",
    "start": "205690",
    "end": "207670"
  },
  {
    "text": "commercial off-the-shelf software",
    "start": "207670",
    "end": "208600"
  },
  {
    "text": "WordPress but they've modified it",
    "start": "208600",
    "end": "211030"
  },
  {
    "text": "extensively to work with their AARP and",
    "start": "211030",
    "end": "212980"
  },
  {
    "text": "CRM platforms",
    "start": "212980",
    "end": "214000"
  },
  {
    "text": "it's a two-tier stack with Apache on the",
    "start": "214000",
    "end": "216579"
  },
  {
    "text": "front end and my cycle on the back end",
    "start": "216579",
    "end": "217989"
  },
  {
    "text": "and to ensure deployed capacity matches",
    "start": "217989",
    "end": "220720"
  },
  {
    "text": "user demand their front end is deployed",
    "start": "220720",
    "end": "223000"
  },
  {
    "text": "in an auto scaling group on the back end",
    "start": "223000",
    "end": "225040"
  },
  {
    "text": "there my sequel database is spread over",
    "start": "225040",
    "end": "227739"
  },
  {
    "text": "multiple availability zones in order to",
    "start": "227739",
    "end": "230170"
  },
  {
    "text": "provide a chain they also have a bastion",
    "start": "230170",
    "end": "232930"
  },
  {
    "text": "host which is used for remote",
    "start": "232930",
    "end": "235030"
  },
  {
    "text": "administrative purposes they have just",
    "start": "235030",
    "end": "238180"
  },
  {
    "text": "invented a revolutionary new type of",
    "start": "238180",
    "end": "240010"
  },
  {
    "text": "elevator that has thrust them into the",
    "start": "240010",
    "end": "242230"
  },
  {
    "text": "digital era and because of this traffic",
    "start": "242230",
    "end": "244570"
  },
  {
    "text": "to their website is exploding it's",
    "start": "244570",
    "end": "246519"
  },
  {
    "text": "growing by orders of magnitude month on",
    "start": "246519",
    "end": "248200"
  },
  {
    "text": "month but with IT not being their core",
    "start": "248200",
    "end": "250900"
  },
  {
    "text": "business function their security posture",
    "start": "250900",
    "end": "252880"
  },
  {
    "text": "could be described as at best",
    "start": "252880",
    "end": "254079"
  },
  {
    "text": "block-and-tackle",
    "start": "254079",
    "end": "255400"
  },
  {
    "text": "they are reactive they make manual",
    "start": "255400",
    "end": "258220"
  },
  {
    "text": "firewall changes do nothing with their",
    "start": "258220",
    "end": "260680"
  },
  {
    "text": "log artifacts and recently received an",
    "start": "260680",
    "end": "262780"
  },
  {
    "text": "email ransom stating they need to pay a",
    "start": "262780",
    "end": "264430"
  },
  {
    "text": "hundred bitcoins by Sunday",
    "start": "264430",
    "end": "266260"
  },
  {
    "text": "this site will be taken offline what",
    "start": "266260",
    "end": "268480"
  },
  {
    "text": "will they do I hope none of this sounds",
    "start": "268480",
    "end": "270340"
  },
  {
    "text": "familiar to anyone here all right",
    "start": "270340",
    "end": "273700"
  },
  {
    "text": "so today I'll be leveraging Kali Linux",
    "start": "273700",
    "end": "276250"
  },
  {
    "text": "as it will form the basis of our attacks",
    "start": "276250",
    "end": "278020"
  },
  {
    "text": "for those who are not familiar with Kali",
    "start": "278020",
    "end": "280150"
  },
  {
    "text": "Linux Carly Linux is a Debian derived",
    "start": "280150",
    "end": "282370"
  },
  {
    "text": "Linux distribution perfect for",
    "start": "282370",
    "end": "284290"
  },
  {
    "text": "penetration testing and forensic",
    "start": "284290",
    "end": "285820"
  },
  {
    "text": "auditing it contains several hundred",
    "start": "285820",
    "end": "288580"
  },
  {
    "text": "tools perfect for prodding and poking",
    "start": "288580",
    "end": "290110"
  },
  {
    "text": "other systems it's available in 32-bit",
    "start": "290110",
    "end": "292600"
  },
  {
    "text": "64-bit nm and arm architectures and you",
    "start": "292600",
    "end": "295750"
  },
  {
    "text": "can find it in the AWS marketplace as I",
    "start": "295750",
    "end": "297640"
  },
  {
    "text": "am today",
    "start": "297640",
    "end": "298920"
  },
  {
    "text": "so wearing my attackers hat what attacks",
    "start": "298920",
    "end": "301810"
  },
  {
    "text": "will I be performing well the first",
    "start": "301810",
    "end": "304210"
  },
  {
    "text": "thing I need to do is some discovery I",
    "start": "304210",
    "end": "306160"
  },
  {
    "text": "need to understand what I'm looking what",
    "start": "306160",
    "end": "308020"
  },
  {
    "text": "I'm working with here I'm looking for",
    "start": "308020",
    "end": "309820"
  },
  {
    "text": "breadcrumbs of information HTTP headers",
    "start": "309820",
    "end": "312730"
  },
  {
    "text": "script engine versions directory",
    "start": "312730",
    "end": "315130"
  },
  {
    "text": "structures and so on and then going to",
    "start": "315130",
    "end": "318910"
  },
  {
    "text": "crawl and extract as much information as",
    "start": "318910",
    "end": "320950"
  },
  {
    "text": "I can perhaps for a future phishing",
    "start": "320950",
    "end": "323290"
  },
  {
    "text": "campaign on their customers I'll add",
    "start": "323290",
    "end": "326680"
  },
  {
    "text": "I'll perform some hostile attacks I'll",
    "start": "326680",
    "end": "330640"
  },
  {
    "text": "add a serving of denial of service and",
    "start": "330640",
    "end": "332730"
  },
  {
    "text": "the cherry on top a brute force attack",
    "start": "332730",
    "end": "337260"
  },
  {
    "text": "can we switch as a demo please",
    "start": "340950",
    "end": "344790"
  },
  {
    "text": "all right so here we are in Firefox",
    "start": "346100",
    "end": "348380"
  },
  {
    "text": "taking a look at their website as I",
    "start": "348380",
    "end": "351140"
  },
  {
    "text": "mentioned earlier it's a two-tier stack",
    "start": "351140",
    "end": "352460"
  },
  {
    "text": "with Apache on the front end and my",
    "start": "352460",
    "end": "353840"
  },
  {
    "text": "circle on the back end and given that",
    "start": "353840",
    "end": "356090"
  },
  {
    "text": "WordPress constitutes over 30% of",
    "start": "356090",
    "end": "358700"
  },
  {
    "text": "websites worldwide this should hopefully",
    "start": "358700",
    "end": "360650"
  },
  {
    "text": "have synergies to many of the websites",
    "start": "360650",
    "end": "362000"
  },
  {
    "text": "you manage and keep secure today so the",
    "start": "362000",
    "end": "365180"
  },
  {
    "text": "first thing we're going to do is perform",
    "start": "365180",
    "end": "366560"
  },
  {
    "text": "a scrape of this website I have multiple",
    "start": "366560",
    "end": "369140"
  },
  {
    "text": "SSH sessions open to the same carly",
    "start": "369140",
    "end": "371210"
  },
  {
    "text": "linux instance and i've crafted a",
    "start": "371210",
    "end": "373190"
  },
  {
    "text": "scraping script let's take a quick look",
    "start": "373190",
    "end": "375160"
  },
  {
    "text": "as we can see it's using curl and W get",
    "start": "375160",
    "end": "378530"
  },
  {
    "text": "nothing too special here so let's kick",
    "start": "378530",
    "end": "380690"
  },
  {
    "text": "this off and whilst it's running let's",
    "start": "380690",
    "end": "385130"
  },
  {
    "text": "go back and look at their robots file",
    "start": "385130",
    "end": "386510"
  },
  {
    "text": "and based on their robots file to me",
    "start": "386510",
    "end": "389690"
  },
  {
    "text": "this is a pretty clear indicator than it",
    "start": "389690",
    "end": "391580"
  },
  {
    "text": "is WordPress based on the WP - admin if",
    "start": "391580",
    "end": "393860"
  },
  {
    "text": "you're not familiar with WordPress it",
    "start": "393860",
    "end": "395630"
  },
  {
    "text": "doesn't matter because this is something",
    "start": "395630",
    "end": "397460"
  },
  {
    "text": "you could probably well you can put into",
    "start": "397460",
    "end": "399170"
  },
  {
    "text": "your search engine to quickly ascertain",
    "start": "399170",
    "end": "400700"
  },
  {
    "text": "so I think they're running WordPress I'm",
    "start": "400700",
    "end": "403250"
  },
  {
    "text": "not sure you know it could be an old",
    "start": "403250",
    "end": "404510"
  },
  {
    "text": "robots file so what I can do is leverage",
    "start": "404510",
    "end": "407630"
  },
  {
    "text": "the WordPress vulnerability scanner",
    "start": "407630",
    "end": "409360"
  },
  {
    "text": "which is part of Kali Linux but WP scan",
    "start": "409360",
    "end": "413660"
  },
  {
    "text": "can take some time to run and give them",
    "start": "413660",
    "end": "415760"
  },
  {
    "text": "a time-limited today we've run this just",
    "start": "415760",
    "end": "417710"
  },
  {
    "text": "before the session and what I can deduce",
    "start": "417710",
    "end": "422720"
  },
  {
    "text": "based on the output of WP scan is there",
    "start": "422720",
    "end": "425330"
  },
  {
    "text": "PHP version is 7.0 1 6 there WordPress",
    "start": "425330",
    "end": "429920"
  },
  {
    "text": "version is four point seven nine so",
    "start": "429920",
    "end": "431840"
  },
  {
    "text": "they're a little bit behind on WordPress",
    "start": "431840",
    "end": "433130"
  },
  {
    "text": "patching there's an vulnerability in all",
    "start": "433130",
    "end": "435470"
  },
  {
    "text": "versions of WordPress less than or equal",
    "start": "435470",
    "end": "437150"
  },
  {
    "text": "to four point nine four so the current",
    "start": "437150",
    "end": "439010"
  },
  {
    "text": "version is four point nine five they",
    "start": "439010",
    "end": "440780"
  },
  {
    "text": "have a theme and a plug-in installed and",
    "start": "440780",
    "end": "444130"
  },
  {
    "text": "the plug-in that was detected is called",
    "start": "444130",
    "end": "446480"
  },
  {
    "text": "apartment management now apartment",
    "start": "446480",
    "end": "448430"
  },
  {
    "text": "management is a wordpress plug-in",
    "start": "448430",
    "end": "449750"
  },
  {
    "text": "designed to manage building maintenance",
    "start": "449750",
    "end": "451220"
  },
  {
    "text": "tasks the snowy unicorn elevator company",
    "start": "451220",
    "end": "454640"
  },
  {
    "text": "have repurposed this plug-in not to",
    "start": "454640",
    "end": "456620"
  },
  {
    "text": "manage building maintenance tasks but to",
    "start": "456620",
    "end": "458270"
  },
  {
    "text": "manage their elevators and one of the",
    "start": "458270",
    "end": "460280"
  },
  {
    "text": "functions of this plugin is the ability",
    "start": "460280",
    "end": "461990"
  },
  {
    "text": "to send private messages",
    "start": "461990",
    "end": "463630"
  },
  {
    "text": "if anyone can decode this please come",
    "start": "463630",
    "end": "466160"
  },
  {
    "text": "and see me after this session so why am",
    "start": "466160",
    "end": "471260"
  },
  {
    "text": "i showing you this",
    "start": "471260",
    "end": "472360"
  },
  {
    "text": "well whilst WP scan doesn't think this",
    "start": "472360",
    "end": "476000"
  },
  {
    "text": "plug-in is vulnerable I do",
    "start": "476000",
    "end": "478360"
  },
  {
    "text": "I've crafted some pretty interesting",
    "start": "478360",
    "end": "479469"
  },
  {
    "text": "queries shall we try this so we're going",
    "start": "479469",
    "end": "483430"
  },
  {
    "text": "to perform a multistage sequel injection",
    "start": "483430",
    "end": "486659"
  },
  {
    "text": "so it's not as simple as running this",
    "start": "486659",
    "end": "488889"
  },
  {
    "text": "directly against my sequel because you",
    "start": "488889",
    "end": "490990"
  },
  {
    "text": "know my cecal is not publicly accessible",
    "start": "490990",
    "end": "493539"
  },
  {
    "text": "port 3306 is not listening so I need an",
    "start": "493539",
    "end": "496719"
  },
  {
    "text": "injection vector and that is going to be",
    "start": "496719",
    "end": "498250"
  },
  {
    "text": "impartment management and it gets more",
    "start": "498250",
    "end": "500919"
  },
  {
    "text": "complex I need to have a multi field",
    "start": "500919",
    "end": "503469"
  },
  {
    "text": "multirow record set return as a single",
    "start": "503469",
    "end": "505659"
  },
  {
    "text": "field with a single road so we'll",
    "start": "505659",
    "end": "507759"
  },
  {
    "text": "execute is so what we've been able to do",
    "start": "507759",
    "end": "513880"
  },
  {
    "text": "here is list all tables contained within",
    "start": "513880",
    "end": "516039"
  },
  {
    "text": "their WordPress database and one table",
    "start": "516039",
    "end": "518440"
  },
  {
    "text": "really stands out to me that is the",
    "start": "518440",
    "end": "520240"
  },
  {
    "text": "accounts table as it doesn't have the",
    "start": "520240",
    "end": "523149"
  },
  {
    "text": "same WP underscore prefix as the other",
    "start": "523149",
    "end": "525160"
  },
  {
    "text": "tables so I'd like to understand a",
    "start": "525160",
    "end": "528220"
  },
  {
    "text": "little bit more about this table so I'm",
    "start": "528220",
    "end": "530350"
  },
  {
    "text": "going to take a look at the information",
    "start": "530350",
    "end": "531459"
  },
  {
    "text": "schema and of course the query is",
    "start": "531459",
    "end": "533800"
  },
  {
    "text": "encoded and based on the information",
    "start": "533800",
    "end": "536800"
  },
  {
    "text": "schema I can deem what fields are",
    "start": "536800",
    "end": "538779"
  },
  {
    "text": "contained within this table so we can",
    "start": "538779",
    "end": "540880"
  },
  {
    "text": "see it contains three fields name date",
    "start": "540880",
    "end": "543459"
  },
  {
    "text": "of birth and address and now since I",
    "start": "543459",
    "end": "546519"
  },
  {
    "text": "know what fields are contained within",
    "start": "546519",
    "end": "547630"
  },
  {
    "text": "this table we can run our last query",
    "start": "547630",
    "end": "549579"
  },
  {
    "text": "which is going to extract all their",
    "start": "549579",
    "end": "551380"
  },
  {
    "text": "information out of their database table",
    "start": "551380",
    "end": "554610"
  },
  {
    "text": "so they've gone from having an okay day",
    "start": "554610",
    "end": "557199"
  },
  {
    "text": "to having a terrible day personal",
    "start": "557199",
    "end": "559510"
  },
  {
    "text": "identifiable information including first",
    "start": "559510",
    "end": "561430"
  },
  {
    "text": "names last names date of birth and",
    "start": "561430",
    "end": "563260"
  },
  {
    "text": "addresses we're just exposed now I",
    "start": "563260",
    "end": "567310"
  },
  {
    "text": "mentioned before that there was a",
    "start": "567310",
    "end": "568690"
  },
  {
    "text": "vulnerability in WordPress versions less",
    "start": "568690",
    "end": "570399"
  },
  {
    "text": "than or equal to four point nine four",
    "start": "570399",
    "end": "572790"
  },
  {
    "text": "given four point nine five is the",
    "start": "572790",
    "end": "575050"
  },
  {
    "text": "current version and everyone may not be",
    "start": "575050",
    "end": "577779"
  },
  {
    "text": "on that build I'm not going to disclose",
    "start": "577779",
    "end": "579100"
  },
  {
    "text": "too much information about what I'm",
    "start": "579100",
    "end": "580600"
  },
  {
    "text": "doing here but suffice to say for a very",
    "start": "580600",
    "end": "582730"
  },
  {
    "text": "small payload that I'm sending Apache is",
    "start": "582730",
    "end": "585760"
  },
  {
    "text": "having the respond back with a large",
    "start": "585760",
    "end": "587470"
  },
  {
    "text": "payload you know it's close to eight",
    "start": "587470",
    "end": "588970"
  },
  {
    "text": "megabytes in size so even if I can't",
    "start": "588970",
    "end": "590980"
  },
  {
    "text": "take this site offline I can increase",
    "start": "590980",
    "end": "593110"
  },
  {
    "text": "the outbound bandwidth by hundreds of",
    "start": "593110",
    "end": "594699"
  },
  {
    "text": "megabits per second we're going to jump",
    "start": "594699",
    "end": "597190"
  },
  {
    "text": "back into Firefox and refresh the page",
    "start": "597190",
    "end": "598870"
  },
  {
    "text": "and what I hope will happen is their",
    "start": "598870",
    "end": "600970"
  },
  {
    "text": "website will go slow come to a crawl and",
    "start": "600970",
    "end": "603459"
  },
  {
    "text": "then eventually just give up",
    "start": "603459",
    "end": "607110"
  },
  {
    "text": "well look it's not loading I'm hoping to",
    "start": "626580",
    "end": "629770"
  },
  {
    "text": "see a time out page but in the giving",
    "start": "629770",
    "end": "633550"
  },
  {
    "text": "them a time limited today let's just",
    "start": "633550",
    "end": "634750"
  },
  {
    "text": "move on so I mentioned earlier they have",
    "start": "634750",
    "end": "646390"
  },
  {
    "text": "a bastion host now I know it's not",
    "start": "646390",
    "end": "649420"
  },
  {
    "text": "possible the query Edina zone for an a",
    "start": "649420",
    "end": "651130"
  },
  {
    "text": "record that you're not familiar with but",
    "start": "651130",
    "end": "652990"
  },
  {
    "text": "in the Wild West of the internet IP",
    "start": "652990",
    "end": "654460"
  },
  {
    "text": "scans with tcp/ip fingerprinting occur",
    "start": "654460",
    "end": "657160"
  },
  {
    "text": "at disturbingly high rates so we've just",
    "start": "657160",
    "end": "659050"
  },
  {
    "text": "run nmap here and we can see that port",
    "start": "659050",
    "end": "660880"
  },
  {
    "text": "3389 is open and for those who aren't",
    "start": "660880",
    "end": "664090"
  },
  {
    "text": "familiar port 3389 is used by remote",
    "start": "664090",
    "end": "667240"
  },
  {
    "text": "desktop protocol which is a protocol",
    "start": "667240",
    "end": "668920"
  },
  {
    "text": "used to manage Windows servers remotely",
    "start": "668920",
    "end": "671050"
  },
  {
    "text": "I'm leveraging Hydra which again is part",
    "start": "671050",
    "end": "673780"
  },
  {
    "text": "of Kali Linux Hydra is a brute-force",
    "start": "673780",
    "end": "675610"
  },
  {
    "text": "attack tool I've downloaded a password",
    "start": "675610",
    "end": "677650"
  },
  {
    "text": "file containing 2.1 million passwords",
    "start": "677650",
    "end": "679680"
  },
  {
    "text": "I'm assuming the standard Windows",
    "start": "679680",
    "end": "682300"
  },
  {
    "text": "administrator username and we're just",
    "start": "682300",
    "end": "684220"
  },
  {
    "text": "going to iterate through this can we",
    "start": "684220",
    "end": "685720"
  },
  {
    "text": "quickly switch back to Firefox",
    "start": "685720",
    "end": "687640"
  },
  {
    "text": "so eventually it timed out so their",
    "start": "687640",
    "end": "689830"
  },
  {
    "text": "website and all nodes in their auto",
    "start": "689830",
    "end": "691900"
  },
  {
    "text": "scaling group became unhealthy very",
    "start": "691900",
    "end": "694420"
  },
  {
    "text": "quickly can we switch fast it back to",
    "start": "694420",
    "end": "697060"
  },
  {
    "text": "the deck please so what did you think of",
    "start": "697060",
    "end": "701650"
  },
  {
    "text": "their website all the trademarks of an",
    "start": "701650",
    "end": "703600"
  },
  {
    "text": "expert UI design team bright look for a",
    "start": "703600",
    "end": "706630"
  },
  {
    "text": "business relying on its online presence",
    "start": "706630",
    "end": "708000"
  },
  {
    "text": "one guy with a laptop in ten minutes has",
    "start": "708000",
    "end": "711400"
  },
  {
    "text": "caused chaos their website is currently",
    "start": "711400",
    "end": "713740"
  },
  {
    "text": "offline they cannot manage orders they",
    "start": "713740",
    "end": "716920"
  },
  {
    "text": "cannot manage maintenance requests",
    "start": "716920",
    "end": "718890"
  },
  {
    "text": "personal identifiable information was",
    "start": "718890",
    "end": "721360"
  },
  {
    "text": "just breached and with the increase in",
    "start": "721360",
    "end": "723340"
  },
  {
    "text": "data breach notification laws around the",
    "start": "723340",
    "end": "725050"
  },
  {
    "text": "world this could have a really serious",
    "start": "725050",
    "end": "726700"
  },
  {
    "text": "consequences for them but what's really",
    "start": "726700",
    "end": "729070"
  },
  {
    "text": "scary is is all flew under the radar I",
    "start": "729070",
    "end": "733710"
  },
  {
    "text": "didn't invite you here today to focus on",
    "start": "733710",
    "end": "736420"
  },
  {
    "text": "building a better candle absolutely not",
    "start": "736420",
    "end": "738670"
  },
  {
    "text": "we're here today to learn how to build a",
    "start": "738670",
    "end": "740980"
  },
  {
    "text": "light bulb self defending borders so we",
    "start": "740980",
    "end": "744670"
  },
  {
    "text": "have some new architecture here and",
    "start": "744670",
    "end": "746080"
  },
  {
    "text": "Before we jump into some more demos",
    "start": "746080",
    "end": "747670"
  },
  {
    "text": "let's trace how the traffic is going to",
    "start": "747670",
    "end": "749200"
  },
  {
    "text": "flow at the heart of our self-defending",
    "start": "749200",
    "end": "751690"
  },
  {
    "text": "architecture is AWS laughs but more",
    "start": "751690",
    "end": "754270"
  },
  {
    "text": "specifically the web ACL which acts as a",
    "start": "754270",
    "end": "756910"
  },
  {
    "text": "central inspection and decisioning point",
    "start": "756910",
    "end": "758710"
  },
  {
    "text": "for all income",
    "start": "758710",
    "end": "759610"
  },
  {
    "text": "traffic the inherent protective",
    "start": "759610",
    "end": "763089"
  },
  {
    "text": "functions of this architecture will",
    "start": "763089",
    "end": "764860"
  },
  {
    "text": "determine what rules get dynamically",
    "start": "764860",
    "end": "767380"
  },
  {
    "text": "applied into AWS wife and AW or other",
    "start": "767380",
    "end": "770019"
  },
  {
    "text": "other services our website is now",
    "start": "770019",
    "end": "775089"
  },
  {
    "text": "resolving to an Amazon CloudFront",
    "start": "775089",
    "end": "776380"
  },
  {
    "text": "distribution which is being protected by",
    "start": "776380",
    "end": "778329"
  },
  {
    "text": "a double your shield to allow only port",
    "start": "778329",
    "end": "780339"
  },
  {
    "text": "80 and 443 traffic CloudFront is",
    "start": "780339",
    "end": "784089"
  },
  {
    "text": "handling both static and dynamic content",
    "start": "784089",
    "end": "786010"
  },
  {
    "text": "and for content that cannot be served at",
    "start": "786010",
    "end": "788050"
  },
  {
    "text": "the edge it's being retrieved from our",
    "start": "788050",
    "end": "789970"
  },
  {
    "text": "origin which is our application load",
    "start": "789970",
    "end": "792250"
  },
  {
    "text": "balancer and to further increase our",
    "start": "792250",
    "end": "794019"
  },
  {
    "text": "security posture our application load",
    "start": "794019",
    "end": "796390"
  },
  {
    "text": "balancer is set as such to only accept",
    "start": "796390",
    "end": "798310"
  },
  {
    "text": "incoming requests originating from",
    "start": "798310",
    "end": "800110"
  },
  {
    "text": "Amazon CloudFront just as the saying",
    "start": "800110",
    "end": "803769"
  },
  {
    "text": "goes if you're not keeping score you",
    "start": "803769",
    "end": "805899"
  },
  {
    "text": "know it's just practice all logs",
    "start": "805899",
    "end": "807970"
  },
  {
    "text": "generated by cloud front application",
    "start": "807970",
    "end": "810220"
  },
  {
    "text": "load balancer and Apache are being",
    "start": "810220",
    "end": "812260"
  },
  {
    "text": "pushed into an Amazon s3 bucket and",
    "start": "812260",
    "end": "814120"
  },
  {
    "text": "ingested by our architecture and lastly",
    "start": "814120",
    "end": "817540"
  },
  {
    "text": "we have our honeypot endpoint which is a",
    "start": "817540",
    "end": "819430"
  },
  {
    "text": "security mechanism designed to lure and",
    "start": "819430",
    "end": "822370"
  },
  {
    "text": "deflect incoming attacks",
    "start": "822370",
    "end": "823839"
  },
  {
    "text": "I chose WordPress today not only because",
    "start": "823839",
    "end": "827079"
  },
  {
    "text": "it's popular but because there is plenty",
    "start": "827079",
    "end": "829000"
  },
  {
    "text": "of collateral available online and had",
    "start": "829000",
    "end": "830949"
  },
  {
    "text": "addy face and compromised an unpatched",
    "start": "830949",
    "end": "833290"
  },
  {
    "text": "unsupported version of WordPress our",
    "start": "833290",
    "end": "835570"
  },
  {
    "text": "honeypot will detect inbound requests",
    "start": "835570",
    "end": "837730"
  },
  {
    "text": "from content scrapers and bad BOTS that",
    "start": "837730",
    "end": "839589"
  },
  {
    "text": "don't obey our robots file as well as",
    "start": "839589",
    "end": "841810"
  },
  {
    "text": "those trying to access known application",
    "start": "841810",
    "end": "843070"
  },
  {
    "text": "exploits and then we will take action",
    "start": "843070",
    "end": "847110"
  },
  {
    "text": "I'm going to pause here and change gears",
    "start": "850170",
    "end": "852870"
  },
  {
    "text": "because this is where this session gets",
    "start": "852870",
    "end": "855490"
  },
  {
    "text": "real we all know that AWS provides a",
    "start": "855490",
    "end": "858399"
  },
  {
    "text": "suite of best-of-breed security services",
    "start": "858399",
    "end": "860730"
  },
  {
    "text": "but we also provide a portfolio of",
    "start": "860730",
    "end": "863290"
  },
  {
    "text": "building blocks that allows you to",
    "start": "863290",
    "end": "865540"
  },
  {
    "text": "architect and develop robust security",
    "start": "865540",
    "end": "867670"
  },
  {
    "text": "architectures there's Amazon SQS and",
    "start": "867670",
    "end": "870279"
  },
  {
    "text": "Amazon SNS our fully managed queuing and",
    "start": "870279",
    "end": "872920"
  },
  {
    "text": "messaging platforms to help decouple",
    "start": "872920",
    "end": "875140"
  },
  {
    "text": "your architectures there's Amazon s3 and",
    "start": "875140",
    "end": "878920"
  },
  {
    "text": "Amazon DynamoDB",
    "start": "878920",
    "end": "880089"
  },
  {
    "text": "are scalable and durable storage",
    "start": "880089",
    "end": "881769"
  },
  {
    "text": "platforms perfect for audit trails and",
    "start": "881769",
    "end": "883930"
  },
  {
    "text": "logs and I've listed quite a few non",
    "start": "883930",
    "end": "886779"
  },
  {
    "text": "security related services here and",
    "start": "886779",
    "end": "888660"
  },
  {
    "text": "that's not a mistake and that's because",
    "start": "888660",
    "end": "891490"
  },
  {
    "text": "in 2018 secure",
    "start": "891490",
    "end": "893470"
  },
  {
    "text": "can no longer be looked at in isolation",
    "start": "893470",
    "end": "895180"
  },
  {
    "text": "and it is these services that really",
    "start": "895180",
    "end": "897130"
  },
  {
    "text": "empower you to build modern robust",
    "start": "897130",
    "end": "899200"
  },
  {
    "text": "architectures the key learning smart",
    "start": "899200",
    "end": "902080"
  },
  {
    "text": "into our border today is the use of a",
    "start": "902080",
    "end": "903790"
  },
  {
    "text": "double step functions an AWS lambda",
    "start": "903790",
    "end": "905830"
  },
  {
    "text": "these two services are providing us a",
    "start": "905830",
    "end": "907900"
  },
  {
    "text": "capability not only to manipulate AWS",
    "start": "907900",
    "end": "910540"
  },
  {
    "text": "services and other services but a",
    "start": "910540",
    "end": "912730"
  },
  {
    "text": "function to prevent false positives of",
    "start": "912730",
    "end": "915400"
  },
  {
    "text": "business critical applications now its",
    "start": "915400",
    "end": "918730"
  },
  {
    "text": "dev days today we're all builders so I'm",
    "start": "918730",
    "end": "921310"
  },
  {
    "text": "going to assume that we're all",
    "start": "921310",
    "end": "922390"
  },
  {
    "text": "relatively up to speed on lambda but",
    "start": "922390",
    "end": "924700"
  },
  {
    "text": "there may be a few of us in the room",
    "start": "924700",
    "end": "925930"
  },
  {
    "text": "today that aren't that familiar with",
    "start": "925930",
    "end": "927040"
  },
  {
    "text": "step function so let's jump to a quick",
    "start": "927040",
    "end": "928450"
  },
  {
    "text": "overview eight of your step functions is",
    "start": "928450",
    "end": "931480"
  },
  {
    "text": "part of the aid of your service platform",
    "start": "931480",
    "end": "933190"
  },
  {
    "text": "and it makes it easy to coordinate",
    "start": "933190",
    "end": "935050"
  },
  {
    "text": "lambda functions for service",
    "start": "935050",
    "end": "936700"
  },
  {
    "text": "applications if you look at your",
    "start": "936700",
    "end": "939220"
  },
  {
    "text": "portfolio of apps today I bet there",
    "start": "939220",
    "end": "941380"
  },
  {
    "text": "aren't too many applications that have",
    "start": "941380",
    "end": "942820"
  },
  {
    "text": "one module one function one endpoint in",
    "start": "942820",
    "end": "945550"
  },
  {
    "text": "fact it's common to have lots of",
    "start": "945550",
    "end": "947320"
  },
  {
    "text": "functions and that's where step",
    "start": "947320",
    "end": "948790"
  },
  {
    "text": "functions comes in step functions is a",
    "start": "948790",
    "end": "950740"
  },
  {
    "text": "reliable way to step through the",
    "start": "950740",
    "end": "952630"
  },
  {
    "text": "functions of your application to ensure",
    "start": "952630",
    "end": "954610"
  },
  {
    "text": "it runs in the order as specified and if",
    "start": "954610",
    "end": "957280"
  },
  {
    "text": "an issue does occur you can quickly hone",
    "start": "957280",
    "end": "958990"
  },
  {
    "text": "in and debug step function supports of",
    "start": "958990",
    "end": "962260"
  },
  {
    "text": "following states today and you can add",
    "start": "962260",
    "end": "963940"
  },
  {
    "text": "more and we'll be adding more in the",
    "start": "963940",
    "end": "965440"
  },
  {
    "text": "future with so many states available you",
    "start": "965440",
    "end": "967780"
  },
  {
    "text": "can build some really really interesting",
    "start": "967780",
    "end": "969610"
  },
  {
    "text": "state machines using the Amazon States",
    "start": "969610",
    "end": "973300"
  },
  {
    "text": "language you define your state machine",
    "start": "973300",
    "end": "975550"
  },
  {
    "text": "in JSON which is then visualized in the",
    "start": "975550",
    "end": "977590"
  },
  {
    "text": "console your state machine consists of a",
    "start": "977590",
    "end": "979540"
  },
  {
    "text": "series of steps and transitions between",
    "start": "979540",
    "end": "981610"
  },
  {
    "text": "each step when you start your state",
    "start": "981610",
    "end": "984010"
  },
  {
    "text": "machine you provide it Jason and this",
    "start": "984010",
    "end": "986500"
  },
  {
    "text": "Jason blob gets modified as it",
    "start": "986500",
    "end": "988750"
  },
  {
    "text": "transitions between states and your",
    "start": "988750",
    "end": "990460"
  },
  {
    "text": "state machine today I'm using step",
    "start": "990460",
    "end": "994060"
  },
  {
    "text": "functions as a common architectural",
    "start": "994060",
    "end": "995680"
  },
  {
    "text": "pattern but I want to quickly talk you",
    "start": "995680",
    "end": "997630"
  },
  {
    "text": "through the use case with our honeypot",
    "start": "997630",
    "end": "999250"
  },
  {
    "text": "and in all start when a request is made",
    "start": "999250",
    "end": "1001860"
  },
  {
    "text": "to a honeypot endpoint APR 8 Way is",
    "start": "1001860",
    "end": "1004290"
  },
  {
    "text": "accepting this and proxying the request",
    "start": "1004290",
    "end": "1006030"
  },
  {
    "text": "through to our lambda function our",
    "start": "1006030",
    "end": "1007530"
  },
  {
    "text": "lambda functions extracting the IP",
    "start": "1007530",
    "end": "1009870"
  },
  {
    "text": "address and HTTP user agent and passing",
    "start": "1009870",
    "end": "1013350"
  },
  {
    "text": "this information into our state machine",
    "start": "1013350",
    "end": "1014760"
  },
  {
    "text": "and the first thing our state machine is",
    "start": "1014760",
    "end": "1016800"
  },
  {
    "text": "going to do today to try and figure out",
    "start": "1016800",
    "end": "1018450"
  },
  {
    "text": "have I seen this attack before and it",
    "start": "1018450",
    "end": "1020970"
  },
  {
    "text": "does so by comparing the user agent",
    "start": "1020970",
    "end": "1022530"
  },
  {
    "text": "against a DynamoDB table if there's a",
    "start": "1022530",
    "end": "1024990"
  },
  {
    "text": "user agent match",
    "start": "1024990",
    "end": "1026400"
  },
  {
    "text": "automatically add the IP address into",
    "start": "1026400",
    "end": "1028199"
  },
  {
    "text": "AWS wife otherwise we're going to",
    "start": "1028200",
    "end": "1031500"
  },
  {
    "text": "contact our InfoSec team we're going to",
    "start": "1031500",
    "end": "1033089"
  },
  {
    "text": "pause we're going to ask them to",
    "start": "1033089",
    "end": "1035010"
  },
  {
    "text": "manually review this and assuming that",
    "start": "1035010",
    "end": "1037860"
  },
  {
    "text": "they believe is to be a malicious attack",
    "start": "1037860",
    "end": "1039900"
  },
  {
    "text": "we're going to add the user agent back",
    "start": "1039900",
    "end": "1042209"
  },
  {
    "text": "into DynamoDB and the IP address into",
    "start": "1042210",
    "end": "1044730"
  },
  {
    "text": "AWS wife what I've built here is a",
    "start": "1044730",
    "end": "1048690"
  },
  {
    "text": "reusable an extendable pattern that",
    "start": "1048690",
    "end": "1050910"
  },
  {
    "text": "could be modified to have multiple",
    "start": "1050910",
    "end": "1052470"
  },
  {
    "text": "inputs driving multiple outputs if you'd",
    "start": "1052470",
    "end": "1055500"
  },
  {
    "text": "like some more information about the",
    "start": "1055500",
    "end": "1057030"
  },
  {
    "text": "manual approval process in this state",
    "start": "1057030",
    "end": "1058500"
  },
  {
    "text": "machine I've left a great link in the",
    "start": "1058500",
    "end": "1060210"
  },
  {
    "text": "session summary so if you tap your badge",
    "start": "1060210",
    "end": "1061560"
  },
  {
    "text": "on the way out you'll be sure to receive",
    "start": "1061560",
    "end": "1062880"
  },
  {
    "text": "it can we switch to the demo alright so",
    "start": "1062880",
    "end": "1069660"
  },
  {
    "text": "here we are back in Firefox we've got",
    "start": "1069660",
    "end": "1071910"
  },
  {
    "text": "the same website different URL same",
    "start": "1071910",
    "end": "1073950"
  },
  {
    "text": "robots file but don't take my word for",
    "start": "1073950",
    "end": "1076920"
  },
  {
    "text": "it let's jump into our IDE and give the",
    "start": "1076920",
    "end": "1081450"
  },
  {
    "text": "results of WP scan so on the left in red",
    "start": "1081450",
    "end": "1084180"
  },
  {
    "text": "we have our original architecture on the",
    "start": "1084180",
    "end": "1086580"
  },
  {
    "text": "right we have our self defending",
    "start": "1086580",
    "end": "1087870"
  },
  {
    "text": "architecture we still have the same",
    "start": "1087870",
    "end": "1091710"
  },
  {
    "text": "version of PHP the same vulnerabilities",
    "start": "1091710",
    "end": "1096110"
  },
  {
    "text": "the same theme the same plugin just a",
    "start": "1096110",
    "end": "1099540"
  },
  {
    "text": "different URL but did you notice",
    "start": "1099540",
    "end": "1101070"
  },
  {
    "text": "anything else",
    "start": "1101070",
    "end": "1102020"
  },
  {
    "text": "we now have Amazon CloudFront in the",
    "start": "1102020",
    "end": "1104340"
  },
  {
    "text": "headers and by virtue of using Amazon",
    "start": "1104340",
    "end": "1106410"
  },
  {
    "text": "route 53 we are now protected against",
    "start": "1106410",
    "end": "1108960"
  },
  {
    "text": "all known lane three and four attacks",
    "start": "1108960",
    "end": "1110700"
  },
  {
    "text": "via a double shield basic before I was",
    "start": "1110700",
    "end": "1114300"
  },
  {
    "text": "pretty successful in launching a",
    "start": "1114300",
    "end": "1115560"
  },
  {
    "text": "multistage sequel injection that took me",
    "start": "1115560",
    "end": "1118320"
  },
  {
    "text": "probably the better part of a day if I'm",
    "start": "1118320",
    "end": "1120780"
  },
  {
    "text": "being honest so let's try and rerun the",
    "start": "1120780",
    "end": "1123690"
  },
  {
    "text": "same sequel injection against our self",
    "start": "1123690",
    "end": "1126450"
  },
  {
    "text": "defending architecture so they've gone",
    "start": "1126450",
    "end": "1129930"
  },
  {
    "text": "from having a terrible day to being able",
    "start": "1129930",
    "end": "1132090"
  },
  {
    "text": "to block detect and take programmatic",
    "start": "1132090",
    "end": "1134280"
  },
  {
    "text": "action alright so that didn't work",
    "start": "1134280",
    "end": "1136980"
  },
  {
    "text": "WP scan still believes that this site is",
    "start": "1136980",
    "end": "1139830"
  },
  {
    "text": "vulnerable for denial of service so",
    "start": "1139830",
    "end": "1142740"
  },
  {
    "text": "we're running the same denial of service",
    "start": "1142740",
    "end": "1144270"
  },
  {
    "text": "script this time targeting ourself",
    "start": "1144270",
    "end": "1147630"
  },
  {
    "text": "defending architecture and in order to",
    "start": "1147630",
    "end": "1149580"
  },
  {
    "text": "quantify the site performance let's",
    "start": "1149580",
    "end": "1151860"
  },
  {
    "text": "leverage Firefox inspector",
    "start": "1151860",
    "end": "1155570"
  },
  {
    "text": "and reload this page so not only is a",
    "start": "1156770",
    "end": "1164370"
  },
  {
    "text": "website online but it is still extremely",
    "start": "1164370",
    "end": "1167100"
  },
  {
    "text": "performant and that is because shield",
    "start": "1167100",
    "end": "1168990"
  },
  {
    "text": "standard and cloud front are dropping",
    "start": "1168990",
    "end": "1170610"
  },
  {
    "text": "these requests at one of our 120 plus",
    "start": "1170610",
    "end": "1172950"
  },
  {
    "text": "edge locations so let's stop that so",
    "start": "1172950",
    "end": "1186810"
  },
  {
    "text": "before I was able to scrape their",
    "start": "1186810",
    "end": "1188190"
  },
  {
    "text": "website so we're going to try and rerun",
    "start": "1188190",
    "end": "1190920"
  },
  {
    "text": "this again same script different",
    "start": "1190920",
    "end": "1192840"
  },
  {
    "text": "endpoint so whilst this is running let's",
    "start": "1192840",
    "end": "1202410"
  },
  {
    "text": "jump back into Firefox and take a look",
    "start": "1202410",
    "end": "1204720"
  },
  {
    "text": "at their robots file and based on their",
    "start": "1204720",
    "end": "1207810"
  },
  {
    "text": "robots file there are various",
    "start": "1207810",
    "end": "1210210"
  },
  {
    "text": "directories that compliance groups and",
    "start": "1210210",
    "end": "1212130"
  },
  {
    "text": "spiders should stay well clear of but",
    "start": "1212130",
    "end": "1215760"
  },
  {
    "text": "the thing is I'm a scraper I just don't",
    "start": "1215760",
    "end": "1218430"
  },
  {
    "text": "care so my script is trying to mover up",
    "start": "1218430",
    "end": "1220920"
  },
  {
    "text": "all bits of information on their site",
    "start": "1220920",
    "end": "1224390"
  },
  {
    "text": "alright so my phone has just started",
    "start": "1224450",
    "end": "1227400"
  },
  {
    "text": "vibrating it looks like I've received a",
    "start": "1227400",
    "end": "1229590"
  },
  {
    "text": "message so I alluded earlier to the use",
    "start": "1229590",
    "end": "1232830"
  },
  {
    "text": "of Amazon simple notification service",
    "start": "1232830",
    "end": "1234540"
  },
  {
    "text": "today I'm using Amazon simple",
    "start": "1234540",
    "end": "1236370"
  },
  {
    "text": "notification service in a fan-out",
    "start": "1236370",
    "end": "1237810"
  },
  {
    "text": "pattern not only the send messages to my",
    "start": "1237810",
    "end": "1240150"
  },
  {
    "text": "phone but to email as well so we're",
    "start": "1240150",
    "end": "1243930"
  },
  {
    "text": "going to jump into our email here and",
    "start": "1243930",
    "end": "1248270"
  },
  {
    "text": "we've received an email stating that our",
    "start": "1248270",
    "end": "1251310"
  },
  {
    "text": "honeypot has been hit we've got the IP",
    "start": "1251310",
    "end": "1254100"
  },
  {
    "text": "address and the user agent but what this",
    "start": "1254100",
    "end": "1257880"
  },
  {
    "text": "is also done has started an active state",
    "start": "1257880",
    "end": "1260250"
  },
  {
    "text": "machine can we as in the level please so",
    "start": "1260250",
    "end": "1266790"
  },
  {
    "text": "if we look at the input of this state",
    "start": "1266790",
    "end": "1268050"
  },
  {
    "text": "machine we can see we have the IP",
    "start": "1268050",
    "end": "1271020"
  },
  {
    "text": "address being passed in the user agent",
    "start": "1271020",
    "end": "1273360"
  },
  {
    "text": "and some other arbitrary details and",
    "start": "1273360",
    "end": "1276720"
  },
  {
    "text": "we're currently in a manual approval",
    "start": "1276720",
    "end": "1278910"
  },
  {
    "text": "process as indicated by the box in blue",
    "start": "1278910",
    "end": "1280680"
  },
  {
    "text": "and the reason why were in a manual",
    "start": "1280680",
    "end": "1282210"
  },
  {
    "text": "approval process is because we haven't",
    "start": "1282210",
    "end": "1283890"
  },
  {
    "text": "seen this attack vector before so if we",
    "start": "1283890",
    "end": "1285870"
  },
  {
    "text": "drop back to Kali Linux and take a look",
    "start": "1285870",
    "end": "1287520"
  },
  {
    "text": "at dynamo dB",
    "start": "1287520",
    "end": "1289070"
  },
  {
    "text": "sorry if we drop to carly linux we can",
    "start": "1289070",
    "end": "1291840"
  },
  {
    "text": "validate this has taken place by looking",
    "start": "1291840",
    "end": "1294510"
  },
  {
    "text": "at the results of w gap so api gateway",
    "start": "1294510",
    "end": "1297390"
  },
  {
    "text": "has proxy the request through to our",
    "start": "1297390",
    "end": "1299670"
  },
  {
    "text": "lambda function which is returning the",
    "start": "1299670",
    "end": "1301350"
  },
  {
    "text": "the message thanks for the visit a bit",
    "start": "1301350",
    "end": "1303060"
  },
  {
    "text": "cheeky and the IP address and we can",
    "start": "1303060",
    "end": "1306120"
  },
  {
    "text": "validate that also by looking at a",
    "start": "1306120",
    "end": "1308220"
  },
  {
    "text": "dynamodb table so I'm just using the AWS",
    "start": "1308220",
    "end": "1310290"
  },
  {
    "text": "CLI here and I'm trying to look for the",
    "start": "1310290",
    "end": "1311790"
  },
  {
    "text": "user agent W get one point one nine",
    "start": "1311790",
    "end": "1313530"
  },
  {
    "text": "point four no records and that is why",
    "start": "1313530",
    "end": "1317310"
  },
  {
    "text": "we're in a manual approval process so if",
    "start": "1317310",
    "end": "1321330"
  },
  {
    "text": "we jump back into our email we're going",
    "start": "1321330",
    "end": "1325200"
  },
  {
    "text": "to click approve the result is going to",
    "start": "1325200",
    "end": "1327000"
  },
  {
    "text": "flow back through API gateway the task",
    "start": "1327000",
    "end": "1328950"
  },
  {
    "text": "token is going to be passed into our",
    "start": "1328950",
    "end": "1330210"
  },
  {
    "text": "state machine it's going to execute the",
    "start": "1330210",
    "end": "1332760"
  },
  {
    "text": "lambda function update wife bad bot ACL",
    "start": "1332760",
    "end": "1335810"
  },
  {
    "text": "and I can validate that has taken place",
    "start": "1335810",
    "end": "1338490"
  },
  {
    "text": "in a few ways I can take a look at a",
    "start": "1338490",
    "end": "1342900"
  },
  {
    "text": "Tobias wife via the CLI console or SDK",
    "start": "1342900",
    "end": "1345300"
  },
  {
    "text": "and your IP address is now listed I can",
    "start": "1345300",
    "end": "1347820"
  },
  {
    "text": "also go back to Kali Linux and take a",
    "start": "1347820",
    "end": "1349980"
  },
  {
    "text": "look at a dynamodb table which now",
    "start": "1349980",
    "end": "1352380"
  },
  {
    "text": "hopefully is returning a record as we",
    "start": "1352380",
    "end": "1354960"
  },
  {
    "text": "can see w get 1.1 no 4 is being returned",
    "start": "1354960",
    "end": "1360770"
  },
  {
    "text": "so subsequent attacks will now be",
    "start": "1361310",
    "end": "1364020"
  },
  {
    "text": "detected but I can just rerun our",
    "start": "1364020",
    "end": "1366450"
  },
  {
    "text": "scraping script again so rather than",
    "start": "1366450",
    "end": "1368010"
  },
  {
    "text": "taking minutes to run returning HTTP to",
    "start": "1368010",
    "end": "1370560"
  },
  {
    "text": "hundreds this should now just take a",
    "start": "1370560",
    "end": "1372930"
  },
  {
    "text": "short few seconds and return 404 can we",
    "start": "1372930",
    "end": "1377220"
  },
  {
    "text": "switch back to the slides please so we",
    "start": "1377220",
    "end": "1381000"
  },
  {
    "text": "just saw this in action but let's dive a",
    "start": "1381000",
    "end": "1382560"
  },
  {
    "text": "little bit deeper into a manual approval",
    "start": "1382560",
    "end": "1384150"
  },
  {
    "text": "process with step functions you need an",
    "start": "1384150",
    "end": "1387000"
  },
  {
    "text": "invocation method this could be a",
    "start": "1387000",
    "end": "1388680"
  },
  {
    "text": "scheduled event or it could be the",
    "start": "1388680",
    "end": "1390300"
  },
  {
    "text": "result of something occurring in your",
    "start": "1390300",
    "end": "1391650"
  },
  {
    "text": "environment",
    "start": "1391650",
    "end": "1392130"
  },
  {
    "text": "today it's api gateway proxying the",
    "start": "1392130",
    "end": "1394500"
  },
  {
    "text": "request through to our lambda function",
    "start": "1394500",
    "end": "1396090"
  },
  {
    "text": "which is calling our state machine our",
    "start": "1396090",
    "end": "1399510"
  },
  {
    "text": "state machine is being is calling back",
    "start": "1399510",
    "end": "1402720"
  },
  {
    "text": "to Lando using a long pole task the get",
    "start": "1402720",
    "end": "1405150"
  },
  {
    "text": "activity task is used by workers to",
    "start": "1405150",
    "end": "1407070"
  },
  {
    "text": "retrieve a list of tasks which have been",
    "start": "1407070",
    "end": "1408840"
  },
  {
    "text": "scheduled for execution by the running",
    "start": "1408840",
    "end": "1410790"
  },
  {
    "text": "state machine lambda is then generating",
    "start": "1410790",
    "end": "1414630"
  },
  {
    "text": "our email and when it generates this",
    "start": "1414630",
    "end": "1416250"
  },
  {
    "text": "email it's including the state machine",
    "start": "1416250",
    "end": "1418830"
  },
  {
    "text": "task token the task token identifies the",
    "start": "1418830",
    "end": "1421680"
  },
  {
    "text": "running statement",
    "start": "1421680",
    "end": "1422780"
  },
  {
    "text": "once the user clicks either approve or",
    "start": "1422780",
    "end": "1425400"
  },
  {
    "text": "deny the task Logan and the results and",
    "start": "1425400",
    "end": "1431160"
  },
  {
    "text": "task success sent ask Fei is being sent",
    "start": "1431160",
    "end": "1433260"
  },
  {
    "text": "back through API gateway back via Lander",
    "start": "1433260",
    "end": "1436110"
  },
  {
    "text": "and into our state machine which",
    "start": "1436110",
    "end": "1437280"
  },
  {
    "text": "continues doing what it needs to do a",
    "start": "1437280",
    "end": "1441260"
  },
  {
    "text": "development principle is to always use",
    "start": "1441410",
    "end": "1443880"
  },
  {
    "text": "feedback loops and that's how I like to",
    "start": "1443880",
    "end": "1445800"
  },
  {
    "text": "think of this last function it's a",
    "start": "1445800",
    "end": "1447450"
  },
  {
    "text": "safety net should my previous attempts",
    "start": "1447450",
    "end": "1449460"
  },
  {
    "text": "not be successful I've added in another",
    "start": "1449460",
    "end": "1451890"
  },
  {
    "text": "a double your service",
    "start": "1451890",
    "end": "1453090"
  },
  {
    "text": "AWS guard duty AWS guard duty is a fully",
    "start": "1453090",
    "end": "1457410"
  },
  {
    "text": "managed threat detection service that",
    "start": "1457410",
    "end": "1459180"
  },
  {
    "text": "continuously monitors your AWS account",
    "start": "1459180",
    "end": "1461610"
  },
  {
    "text": "for suspicious or inconsistent activity",
    "start": "1461610",
    "end": "1464250"
  },
  {
    "text": "and it does so by looking for unusual",
    "start": "1464250",
    "end": "1467130"
  },
  {
    "text": "API calls detects compromised ec2",
    "start": "1467130",
    "end": "1470280"
  },
  {
    "text": "instances all those performing",
    "start": "1470280",
    "end": "1472770"
  },
  {
    "text": "reconnaissance on your account so what",
    "start": "1472770",
    "end": "1475410"
  },
  {
    "text": "value is guard duty providing us today",
    "start": "1475410",
    "end": "1477680"
  },
  {
    "text": "well guard duty is feeding our step",
    "start": "1477680",
    "end": "1480510"
  },
  {
    "text": "function state machine the IPS who",
    "start": "1480510",
    "end": "1483330"
  },
  {
    "text": "managed to hit us with inconsistent",
    "start": "1483330",
    "end": "1484890"
  },
  {
    "text": "usage patterns as well as those IPS",
    "start": "1484890",
    "end": "1487080"
  },
  {
    "text": "originating from third-party IP",
    "start": "1487080",
    "end": "1489390"
  },
  {
    "text": "reputation lists such as a tour exit",
    "start": "1489390",
    "end": "1491520"
  },
  {
    "text": "node list spam house or proof points",
    "start": "1491520",
    "end": "1493830"
  },
  {
    "text": "drop list to which we will then take",
    "start": "1493830",
    "end": "1495780"
  },
  {
    "text": "action",
    "start": "1495780",
    "end": "1496580"
  },
  {
    "text": "guard duty results are available via",
    "start": "1496580",
    "end": "1499290"
  },
  {
    "text": "cloud watch so not only can you detect",
    "start": "1499290",
    "end": "1501390"
  },
  {
    "text": "but you can report an act via cloud",
    "start": "1501390",
    "end": "1503820"
  },
  {
    "text": "watch events today I'm using step",
    "start": "1503820",
    "end": "1506100"
  },
  {
    "text": "functions and lambda but you could very",
    "start": "1506100",
    "end": "1507720"
  },
  {
    "text": "well much use SNS to send this to a",
    "start": "1507720",
    "end": "1510030"
  },
  {
    "text": "c-more sock with so many choices",
    "start": "1510030",
    "end": "1512850"
  },
  {
    "text": "you really have over the world at your",
    "start": "1512850",
    "end": "1514830"
  },
  {
    "text": "fingertips can we switch back to the",
    "start": "1514830",
    "end": "1518640"
  },
  {
    "text": "demo so in the very first demonstration",
    "start": "1518640",
    "end": "1523230"
  },
  {
    "text": "I launched a brute-force attack and",
    "start": "1523230",
    "end": "1524730"
  },
  {
    "text": "probably a few moments ago my phone",
    "start": "1524730",
    "end": "1526860"
  },
  {
    "text": "started vibrating in my pocket again but",
    "start": "1526860",
    "end": "1529260"
  },
  {
    "text": "rather then you know have a look at my",
    "start": "1529260",
    "end": "1531120"
  },
  {
    "text": "phone let's just jump into my email here",
    "start": "1531120",
    "end": "1532740"
  },
  {
    "text": "and we can see our IP address has been",
    "start": "1532740",
    "end": "1535860"
  },
  {
    "text": "detected performing an RDP brute-force",
    "start": "1535860",
    "end": "1538050"
  },
  {
    "text": "attack so I've grabbed this JSON payload",
    "start": "1538050",
    "end": "1540270"
  },
  {
    "text": "from guard duty I've massaged it through",
    "start": "1540270",
    "end": "1542100"
  },
  {
    "text": "my state machine and here we are",
    "start": "1542100",
    "end": "1543810"
  },
  {
    "text": "via an inner email but what this is also",
    "start": "1543810",
    "end": "1546690"
  },
  {
    "text": "done it starred another state machine",
    "start": "1546690",
    "end": "1549080"
  },
  {
    "text": "but this time we're not manipulating AWS",
    "start": "1549080",
    "end": "1551940"
  },
  {
    "text": "laughs we're manipulating the ec2 guest",
    "start": "1551940",
    "end": "1554310"
  },
  {
    "text": "firewall now we're nearing",
    "start": "1554310",
    "end": "1556169"
  },
  {
    "text": "our time together today I really hope",
    "start": "1556169",
    "end": "1558989"
  },
  {
    "text": "you don't believe this session is smoke",
    "start": "1558989",
    "end": "1560549"
  },
  {
    "text": "and mirrors but just in case you do",
    "start": "1560549",
    "end": "1562109"
  },
  {
    "text": "let's try and tell knit in and we can",
    "start": "1562109",
    "end": "1564869"
  },
  {
    "text": "see we've been able to tell knit into",
    "start": "1564869",
    "end": "1566190"
  },
  {
    "text": "our bastion host on port 3389 so let's",
    "start": "1566190",
    "end": "1570779"
  },
  {
    "text": "jump back to our email we're gonna click",
    "start": "1570779",
    "end": "1572940"
  },
  {
    "text": "approve it's gonna flow back through API",
    "start": "1572940",
    "end": "1575070"
  },
  {
    "text": "gateway back into lambda back into our",
    "start": "1575070",
    "end": "1577470"
  },
  {
    "text": "state machine and execute our next",
    "start": "1577470",
    "end": "1579090"
  },
  {
    "text": "lambda function update ec2 guest",
    "start": "1579090",
    "end": "1580919"
  },
  {
    "text": "firewall okay so that's now taken place",
    "start": "1580919",
    "end": "1589139"
  },
  {
    "text": "so now let's try and retell MIT back in",
    "start": "1589139",
    "end": "1591749"
  },
  {
    "text": "and just like that we have leveraged a",
    "start": "1591749",
    "end": "1594840"
  },
  {
    "text": "guard duty finding to drive",
    "start": "1594840",
    "end": "1596159"
  },
  {
    "text": "orchestration within our environment can",
    "start": "1596159",
    "end": "1598619"
  },
  {
    "text": "we switch back to the slides so let's",
    "start": "1598619",
    "end": "1602970"
  },
  {
    "text": "recap what we just saw",
    "start": "1602970",
    "end": "1604200"
  },
  {
    "text": "we have climbed the curve we have taken",
    "start": "1604200",
    "end": "1606629"
  },
  {
    "text": "the snowy unicorn elevator company from",
    "start": "1606629",
    "end": "1608639"
  },
  {
    "text": "an architecture that was reactive",
    "start": "1608639",
    "end": "1610230"
  },
  {
    "text": "provided little to no visibility into",
    "start": "1610230",
    "end": "1612450"
  },
  {
    "text": "one that is self defending and drive",
    "start": "1612450",
    "end": "1614669"
  },
  {
    "text": "maturity within their organization and",
    "start": "1614669",
    "end": "1616409"
  },
  {
    "text": "we've done this not only by leveraging",
    "start": "1616409",
    "end": "1618239"
  },
  {
    "text": "traditional security services but by",
    "start": "1618239",
    "end": "1620489"
  },
  {
    "text": "leveraging the services you see above",
    "start": "1620489",
    "end": "1623119"
  },
  {
    "text": "services that were once the realm of",
    "start": "1623119",
    "end": "1625109"
  },
  {
    "text": "architects and developers have augmented",
    "start": "1625109",
    "end": "1627330"
  },
  {
    "text": "our architecture providing us a pattern",
    "start": "1627330",
    "end": "1629340"
  },
  {
    "text": "that will not only work for today but",
    "start": "1629340",
    "end": "1631230"
  },
  {
    "text": "scale for tomorrow and all at the same",
    "start": "1631230",
    "end": "1633389"
  },
  {
    "text": "time reducing our administrative",
    "start": "1633389",
    "end": "1635039"
  },
  {
    "text": "overhead please see the following links",
    "start": "1635039",
    "end": "1638820"
  },
  {
    "text": "to help you get started on lambda step",
    "start": "1638820",
    "end": "1640769"
  },
  {
    "text": "functions and I've included two blog",
    "start": "1640769",
    "end": "1642690"
  },
  {
    "text": "posts to waft lambda automation and our",
    "start": "1642690",
    "end": "1645029"
  },
  {
    "text": "step functions manual approval workflow",
    "start": "1645029",
    "end": "1646609"
  },
  {
    "text": "there's no need to take photos of this",
    "start": "1646609",
    "end": "1649169"
  },
  {
    "text": "slide because as you scan your badge on",
    "start": "1649169",
    "end": "1651269"
  },
  {
    "text": "the way up",
    "start": "1651269",
    "end": "1651929"
  },
  {
    "text": "you'll receive these electronically",
    "start": "1651929",
    "end": "1653629"
  },
  {
    "text": "before you leave today please ensure you",
    "start": "1653629",
    "end": "1656070"
  },
  {
    "text": "rate this session as feedback is",
    "start": "1656070",
    "end": "1657480"
  },
  {
    "text": "important to us and it helps drive the",
    "start": "1657480",
    "end": "1658710"
  },
  {
    "text": "future selection of other sessions and",
    "start": "1658710",
    "end": "1661669"
  },
  {
    "text": "finally I'd like to say a big thank you",
    "start": "1661669",
    "end": "1663960"
  },
  {
    "text": "to Marcus Santos here who was",
    "start": "1663960",
    "end": "1666210"
  },
  {
    "text": "instrumental in the build-out and",
    "start": "1666210",
    "end": "1667440"
  },
  {
    "text": "execution of this session thank you for",
    "start": "1667440",
    "end": "1670379"
  },
  {
    "text": "attending this session and if you have",
    "start": "1670379",
    "end": "1671879"
  },
  {
    "text": "any further questions I'll hang around",
    "start": "1671879",
    "end": "1673350"
  },
  {
    "text": "to answer them thank you",
    "start": "1673350",
    "end": "1675060"
  },
  {
    "text": "[Applause]",
    "start": "1675060",
    "end": "1677589"
  }
]