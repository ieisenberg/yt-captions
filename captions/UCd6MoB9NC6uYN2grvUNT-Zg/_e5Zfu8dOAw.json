[
  {
    "start": "0",
    "end": "43000"
  },
  {
    "text": "[Music]",
    "start": "650",
    "end": "1010"
  },
  {
    "text": "[Applause]",
    "start": "1010",
    "end": "4088"
  },
  {
    "text": "[Music]",
    "start": "4960",
    "end": "11689"
  },
  {
    "text": "hello I'm maranto a senior technical",
    "start": "11719",
    "end": "14480"
  },
  {
    "text": "account manager at thews office in New",
    "start": "14480",
    "end": "16960"
  },
  {
    "text": "York City today I'm going to show you",
    "start": "16960",
    "end": "19560"
  },
  {
    "text": "how to use an MFA token to authenticate",
    "start": "19560",
    "end": "21840"
  },
  {
    "text": "access to AWS resources through the AWS",
    "start": "21840",
    "end": "24560"
  },
  {
    "text": "command line interface first I will show",
    "start": "24560",
    "end": "27320"
  },
  {
    "text": "you how to get Arn of the MFA device",
    "start": "27320",
    "end": "30199"
  },
  {
    "text": "next I will show you how to use the AWS",
    "start": "30199",
    "end": "32398"
  },
  {
    "text": "STDs get session token command to get a",
    "start": "32399",
    "end": "34840"
  },
  {
    "text": "temporary credentials and then how to",
    "start": "34840",
    "end": "37399"
  },
  {
    "text": "call the AWS CLI command with the",
    "start": "37399",
    "end": "39520"
  },
  {
    "text": "temporary credentials let's get",
    "start": "39520",
    "end": "42840"
  },
  {
    "text": "started it's the best practice to",
    "start": "42840",
    "end": "45079"
  },
  {
    "start": "43000",
    "end": "129000"
  },
  {
    "text": "protect your AWS account and its",
    "start": "45079",
    "end": "46960"
  },
  {
    "text": "resources by using a multiactor",
    "start": "46960",
    "end": "48800"
  },
  {
    "text": "authentication or MFA device if you plan",
    "start": "48800",
    "end": "51960"
  },
  {
    "text": "to interact with your MFA protected",
    "start": "51960",
    "end": "53719"
  },
  {
    "text": "resources using the AWS CLI then you",
    "start": "53719",
    "end": "56520"
  },
  {
    "text": "must create a temporary session there",
    "start": "56520",
    "end": "58519"
  },
  {
    "text": "are three types of MFA devices supported",
    "start": "58519",
    "end": "61160"
  },
  {
    "text": "in AWS virtual MFA device Pho security",
    "start": "61160",
    "end": "64760"
  },
  {
    "text": "key hardware MFA device AWS SII supports",
    "start": "64760",
    "end": "68439"
  },
  {
    "text": "only MFA authentication with virtual MFA",
    "start": "68439",
    "end": "71159"
  },
  {
    "text": "device and Hardware MFA device it's a",
    "start": "71159",
    "end": "73600"
  },
  {
    "text": "best practice not to use AWS account Ro",
    "start": "73600",
    "end": "75640"
  },
  {
    "text": "user for everyday tasks including",
    "start": "75640",
    "end": "77799"
  },
  {
    "text": "administrative tasks rather it is a best",
    "start": "77799",
    "end": "80439"
  },
  {
    "text": "practice to use AWS identity and access",
    "start": "80439",
    "end": "82640"
  },
  {
    "text": "management user with least privilege",
    "start": "82640",
    "end": "84680"
  },
  {
    "text": "permission in this video I will show you",
    "start": "84680",
    "end": "86759"
  },
  {
    "text": "how to authenticate access by using an",
    "start": "86759",
    "end": "89040"
  },
  {
    "text": "AWS IMU",
    "start": "89040",
    "end": "90479"
  },
  {
    "text": "user first let's get the airn of the MFA",
    "start": "90479",
    "end": "93360"
  },
  {
    "text": "device after logging into the AWS",
    "start": "93360",
    "end": "95960"
  },
  {
    "text": "Management console navigate to the IM",
    "start": "95960",
    "end": "100200"
  },
  {
    "text": "console in IM console page select the",
    "start": "100560",
    "end": "103479"
  },
  {
    "text": "users tab on the IM dashboard or from",
    "start": "103479",
    "end": "106000"
  },
  {
    "text": "the left hand",
    "start": "106000",
    "end": "107159"
  },
  {
    "text": "panel select the IM",
    "start": "107159",
    "end": "110000"
  },
  {
    "text": "user in the IM am user page go to the",
    "start": "110000",
    "end": "113079"
  },
  {
    "text": "security credentials Tab and get the Arn",
    "start": "113079",
    "end": "116960"
  },
  {
    "text": "of the assigned MFA device I'm using",
    "start": "116960",
    "end": "120079"
  },
  {
    "text": "virtual MFA device in this example for a",
    "start": "120079",
    "end": "122719"
  },
  {
    "text": "hardware MFA device the value will be",
    "start": "122719",
    "end": "124960"
  },
  {
    "text": "something like shown",
    "start": "124960",
    "end": "127920"
  },
  {
    "text": "here now let's use the AWS STS get",
    "start": "127920",
    "end": "131280"
  },
  {
    "start": "129000",
    "end": "284000"
  },
  {
    "text": "session token command to get our",
    "start": "131280",
    "end": "133120"
  },
  {
    "text": "temporary credentials let's go to the",
    "start": "133120",
    "end": "135800"
  },
  {
    "text": "terminal let's make sure that we are",
    "start": "135800",
    "end": "137840"
  },
  {
    "text": "running the latest of the AWS CLI by",
    "start": "137840",
    "end": "140519"
  },
  {
    "text": "running the following command to check",
    "start": "140519",
    "end": "142280"
  },
  {
    "text": "the version number against the AWS CLI",
    "start": "142280",
    "end": "145160"
  },
  {
    "text": "documentation after we verify that we",
    "start": "145160",
    "end": "147480"
  },
  {
    "text": "are running the latest version of the aw",
    "start": "147480",
    "end": "149319"
  },
  {
    "text": "CLI let's run the following",
    "start": "149319",
    "end": "152040"
  },
  {
    "text": "command let's input the Arn of the MFA",
    "start": "152040",
    "end": "154959"
  },
  {
    "text": "device retrieve earlier and the MFA",
    "start": "154959",
    "end": "157879"
  },
  {
    "text": "token generated from the",
    "start": "157879",
    "end": "161040"
  },
  {
    "text": "device the Json formatted output",
    "start": "163840",
    "end": "166440"
  },
  {
    "text": "contains temporary credentials and",
    "start": "166440",
    "end": "168239"
  },
  {
    "text": "expiration time which by default is 12",
    "start": "168239",
    "end": "170959"
  },
  {
    "text": "hours shown here in",
    "start": "170959",
    "end": "172920"
  },
  {
    "text": "seconds if you want to specify a",
    "start": "172920",
    "end": "175080"
  },
  {
    "text": "different expression time then add the--",
    "start": "175080",
    "end": "177599"
  },
  {
    "text": "duration Das seconds parameter in the",
    "start": "177599",
    "end": "179840"
  },
  {
    "text": "STS get session token command the value",
    "start": "179840",
    "end": "182599"
  },
  {
    "text": "provided is in seconds the range is from",
    "start": "182599",
    "end": "185280"
  },
  {
    "text": "900 seconds or 15 minutes to",
    "start": "185280",
    "end": "188440"
  },
  {
    "text": "29,600 seconds or 36 hours for an IM",
    "start": "188440",
    "end": "191959"
  },
  {
    "text": "user now that we have the temporary",
    "start": "191959",
    "end": "194319"
  },
  {
    "text": "credentials there are two ways we can",
    "start": "194319",
    "end": "196200"
  },
  {
    "text": "use it the first way is to export the",
    "start": "196200",
    "end": "198599"
  },
  {
    "text": "values to the environment variables",
    "start": "198599",
    "end": "200319"
  },
  {
    "text": "using the following",
    "start": "200319",
    "end": "203120"
  },
  {
    "text": "commands another way to use these",
    "start": "203519",
    "end": "205599"
  },
  {
    "text": "temporary credentials is by creating a",
    "start": "205599",
    "end": "207720"
  },
  {
    "text": "name profile which is useful if if you",
    "start": "207720",
    "end": "209959"
  },
  {
    "text": "want only certain API calls to be MFA",
    "start": "209959",
    "end": "212680"
  },
  {
    "text": "authenticated to use these temporary",
    "start": "212680",
    "end": "214720"
  },
  {
    "text": "credentials in in a name profile let's",
    "start": "214720",
    "end": "217239"
  },
  {
    "text": "edit the credentials file in the hidden",
    "start": "217239",
    "end": "219239"
  },
  {
    "text": "AWS folder located at the home user",
    "start": "219239",
    "end": "222040"
  },
  {
    "text": "directory and add a new profile",
    "start": "222040",
    "end": "224360"
  },
  {
    "text": "configuration the profile configuration",
    "start": "224360",
    "end": "226640"
  },
  {
    "text": "will look similar to this",
    "start": "226640",
    "end": "228959"
  },
  {
    "text": "nippet for this demo let's use name",
    "start": "228959",
    "end": "231920"
  },
  {
    "text": "profile to store my temporary",
    "start": "231920",
    "end": "233319"
  },
  {
    "text": "credentials and name it MFA",
    "start": "233319",
    "end": "237599"
  },
  {
    "text": "now let's see how we can use this to run",
    "start": "245840",
    "end": "247879"
  },
  {
    "text": "AWS CLI commands that requires MFA",
    "start": "247879",
    "end": "250879"
  },
  {
    "text": "authentication here I have three Amazon",
    "start": "250879",
    "end": "253040"
  },
  {
    "text": "simple storage service buckets in my",
    "start": "253040",
    "end": "254799"
  },
  {
    "text": "account the MFA only access bucket can",
    "start": "254799",
    "end": "257239"
  },
  {
    "text": "be accessed only if my awl command is",
    "start": "257239",
    "end": "259799"
  },
  {
    "text": "MFA authenticated let's see what happens",
    "start": "259799",
    "end": "262680"
  },
  {
    "text": "if I try to list the files for that",
    "start": "262680",
    "end": "264360"
  },
  {
    "text": "bucket without MFA authenticated",
    "start": "264360",
    "end": "268360"
  },
  {
    "text": "credentials as expected we get access",
    "start": "268360",
    "end": "271280"
  },
  {
    "text": "denied error let's try again to list the",
    "start": "271280",
    "end": "273720"
  },
  {
    "text": "file within that bucket using the MFA",
    "start": "273720",
    "end": "275880"
  },
  {
    "text": "name profile that has MFA authenticated",
    "start": "275880",
    "end": "279639"
  },
  {
    "text": "credentials as you can see we can",
    "start": "279639",
    "end": "281840"
  },
  {
    "text": "successfully list the",
    "start": "281840",
    "end": "283400"
  },
  {
    "text": "files finally remember that after this",
    "start": "283400",
    "end": "286360"
  },
  {
    "start": "284000",
    "end": "341000"
  },
  {
    "text": "credentials expire run the get session",
    "start": "286360",
    "end": "288759"
  },
  {
    "text": "token API call again using the Arn of",
    "start": "288759",
    "end": "291479"
  },
  {
    "text": "the MFA device and MFA token then export",
    "start": "291479",
    "end": "295039"
  },
  {
    "text": "the return values to the environment",
    "start": "295039",
    "end": "296680"
  },
  {
    "text": "variables or to the name profile",
    "start": "296680",
    "end": "298520"
  },
  {
    "text": "configuration if if you choose to set",
    "start": "298520",
    "end": "300479"
  },
  {
    "text": "the environment variables make sure that",
    "start": "300479",
    "end": "302639"
  },
  {
    "text": "you unset them before running the get",
    "start": "302639",
    "end": "304600"
  },
  {
    "text": "session token call using the following",
    "start": "304600",
    "end": "308160"
  },
  {
    "text": "command it's the best practice that you",
    "start": "308160",
    "end": "310320"
  },
  {
    "text": "run a script or a Chron job in the",
    "start": "310320",
    "end": "312160"
  },
  {
    "text": "background that checks for expiration",
    "start": "312160",
    "end": "314479"
  },
  {
    "text": "from the output of get session token",
    "start": "314479",
    "end": "316199"
  },
  {
    "text": "command and then prompts for",
    "start": "316199",
    "end": "318440"
  },
  {
    "text": "reauthentication and now you know how to",
    "start": "318440",
    "end": "320720"
  },
  {
    "text": "use an MF token to authenticate access",
    "start": "320720",
    "end": "322919"
  },
  {
    "text": "to AWS resources through the AWS CLI",
    "start": "322919",
    "end": "325560"
  },
  {
    "text": "with three steps first by getting the",
    "start": "325560",
    "end": "328319"
  },
  {
    "text": "Arn of the MF device",
    "start": "328319",
    "end": "330400"
  },
  {
    "text": "then by using the AWS SDS get session",
    "start": "330400",
    "end": "333240"
  },
  {
    "text": "token command to get a temporary",
    "start": "333240",
    "end": "335400"
  },
  {
    "text": "credentials and finally by calling the",
    "start": "335400",
    "end": "338160"
  },
  {
    "text": "AWS CLI command with the temporary",
    "start": "338160",
    "end": "340560"
  },
  {
    "text": "credentials thanks for watching and",
    "start": "340560",
    "end": "342639"
  },
  {
    "start": "341000",
    "end": "355000"
  },
  {
    "text": "happy cloud computing from all of us",
    "start": "342639",
    "end": "344280"
  },
  {
    "text": "here at AWS",
    "start": "344280",
    "end": "346070"
  },
  {
    "text": "[Applause]",
    "start": "346070",
    "end": "347830"
  },
  {
    "text": "[Music]",
    "start": "347830",
    "end": "351000"
  },
  {
    "text": "[Music]",
    "start": "353040",
    "end": "356239"
  }
]