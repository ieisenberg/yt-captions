[
  {
    "text": "good afternoon how's everyone doing I",
    "start": "30",
    "end": "2490"
  },
  {
    "text": "hope everyone enjoyed the keynote",
    "start": "2490",
    "end": "4319"
  },
  {
    "text": "it's like Amazon gave us some cool new",
    "start": "4319",
    "end": "6390"
  },
  {
    "text": "toys to play with when we get home my",
    "start": "6390",
    "end": "9330"
  },
  {
    "text": "name is Mark Morgenstern I'm a test",
    "start": "9330",
    "end": "10980"
  },
  {
    "text": "engineering manager in our analytics",
    "start": "10980",
    "end": "12840"
  },
  {
    "text": "group my name is Devin Lazarus I'm in",
    "start": "12840",
    "end": "15389"
  },
  {
    "text": "the software engineering group okay and",
    "start": "15389",
    "end": "18270"
  },
  {
    "text": "we're here to talk about how Sonos",
    "start": "18270",
    "end": "19830"
  },
  {
    "text": "leverages Kinesis so today we're going",
    "start": "19830",
    "end": "24750"
  },
  {
    "text": "to talk a little bit about what is so",
    "start": "24750",
    "end": "27019"
  },
  {
    "text": "hopefully you know already but if you",
    "start": "27019",
    "end": "29189"
  },
  {
    "text": "don't know give you a little spiel about",
    "start": "29189",
    "end": "30599"
  },
  {
    "text": "it how many you actually have and then",
    "start": "30599",
    "end": "38610"
  },
  {
    "text": "we're gonna talk about the evolution of",
    "start": "38610",
    "end": "40649"
  },
  {
    "text": "our data pipeline and where we're going",
    "start": "40649",
    "end": "43129"
  },
  {
    "text": "all right so what is sonís Sonos is an",
    "start": "43129",
    "end": "49200"
  },
  {
    "text": "amazing wireless smart speaker and this",
    "start": "49200",
    "end": "52140"
  },
  {
    "text": "puppy right here is our brand-new",
    "start": "52140",
    "end": "53760"
  },
  {
    "text": "speaker it is amazing it will literally",
    "start": "53760",
    "end": "56730"
  },
  {
    "text": "blow your hair off you got a full head",
    "start": "56730",
    "end": "58890"
  },
  {
    "text": "of hair last week I only listened a 25%",
    "start": "58890",
    "end": "62460"
  },
  {
    "text": "volume that's why I got to keep mine so",
    "start": "62460",
    "end": "65909"
  },
  {
    "text": "what we do is we want to produce",
    "start": "65909",
    "end": "68460"
  },
  {
    "text": "excellent hardware and then use software",
    "start": "68460",
    "end": "70830"
  },
  {
    "text": "to improve the experience well after it",
    "start": "70830",
    "end": "73979"
  },
  {
    "text": "leaves a store shelf also we don't",
    "start": "73979",
    "end": "80670"
  },
  {
    "text": "believe in the the old saying you can't",
    "start": "80670",
    "end": "83310"
  },
  {
    "text": "teach an old dog new tricks we are going",
    "start": "83310",
    "end": "86520"
  },
  {
    "text": "to teach all of our old dogs new tricks",
    "start": "86520",
    "end": "87990"
  },
  {
    "text": "we just released something called true",
    "start": "87990",
    "end": "90210"
  },
  {
    "text": "play or we will be releasing it later",
    "start": "90210",
    "end": "92070"
  },
  {
    "text": "this year and this allows you to put",
    "start": "92070",
    "end": "95009"
  },
  {
    "text": "your speaker wherever you like and we'll",
    "start": "95009",
    "end": "96840"
  },
  {
    "text": "do some Auto magic tuning and get it to",
    "start": "96840",
    "end": "99750"
  },
  {
    "text": "sound great so let's say you want to put",
    "start": "99750",
    "end": "103500"
  },
  {
    "text": "it play one between your microwave and",
    "start": "103500",
    "end": "106470"
  },
  {
    "text": "your toaster go for it man we'll fix it",
    "start": "106470",
    "end": "108869"
  },
  {
    "text": "for you so Devon you say we have a",
    "start": "108869",
    "end": "115649"
  },
  {
    "text": "plethora of data sources yes we do",
    "start": "115649",
    "end": "120540"
  },
  {
    "text": "so at Sonos we have a lot of different",
    "start": "120540",
    "end": "124530"
  },
  {
    "text": "formats a lot of different data data",
    "start": "124530",
    "end": "126540"
  },
  {
    "text": "sources you know and we have a unique",
    "start": "126540",
    "end": "129300"
  },
  {
    "text": "view across the music streaming",
    "start": "129300",
    "end": "131250"
  },
  {
    "text": "ecosystem that",
    "start": "131250",
    "end": "132890"
  },
  {
    "text": "most people can't really dive into so",
    "start": "132890",
    "end": "136490"
  },
  {
    "text": "you know we can look at the big guys",
    "start": "136490",
    "end": "138830"
  },
  {
    "text": "like Spotify or Pandora or we could look",
    "start": "138830",
    "end": "141680"
  },
  {
    "text": "at the regional or smaller offerings",
    "start": "141680",
    "end": "143630"
  },
  {
    "text": "like our USC or Savin we manufacture",
    "start": "143630",
    "end": "151310"
  },
  {
    "text": "everything that sonís makes so",
    "start": "151310",
    "end": "153140"
  },
  {
    "text": "everything in this picture over here is",
    "start": "153140",
    "end": "155630"
  },
  {
    "text": "something that we designed and",
    "start": "155630",
    "end": "156860"
  },
  {
    "text": "manufactured we collect that data to",
    "start": "156860",
    "end": "159200"
  },
  {
    "text": "help us improve the experience and to",
    "start": "159200",
    "end": "161510"
  },
  {
    "text": "read out any problems okay so we do",
    "start": "161510",
    "end": "167870"
  },
  {
    "text": "respect your privacy the point of us",
    "start": "167870",
    "end": "169880"
  },
  {
    "text": "collecting the data is so we can make",
    "start": "169880",
    "end": "171860"
  },
  {
    "text": "the experience better but we only do",
    "start": "171860",
    "end": "174170"
  },
  {
    "text": "that we only collect the usage data for",
    "start": "174170",
    "end": "176750"
  },
  {
    "text": "people that opt-in to provide us this",
    "start": "176750",
    "end": "178610"
  },
  {
    "text": "data the truth is that the data is",
    "start": "178610",
    "end": "181010"
  },
  {
    "text": "actually more interesting to us an",
    "start": "181010",
    "end": "182630"
  },
  {
    "text": "aggregate format anyway however if you",
    "start": "182630",
    "end": "185269"
  },
  {
    "text": "guys allow us and you call our Customer",
    "start": "185269",
    "end": "187459"
  },
  {
    "text": "Support Team we can definitely target",
    "start": "187459",
    "end": "189680"
  },
  {
    "text": "and understand what's going on in your",
    "start": "189680",
    "end": "191180"
  },
  {
    "text": "household and it benefits you because we",
    "start": "191180",
    "end": "193670"
  },
  {
    "text": "can solve your problem with minimal",
    "start": "193670",
    "end": "195110"
  },
  {
    "text": "intrusion okay so let's talk about our",
    "start": "195110",
    "end": "200150"
  },
  {
    "text": "initial stab at a data pipeline our goal",
    "start": "200150",
    "end": "205760"
  },
  {
    "text": "was to look into usage patterns and get",
    "start": "205760",
    "end": "209930"
  },
  {
    "text": "a better understanding of how our",
    "start": "209930",
    "end": "211040"
  },
  {
    "text": "customers are using the system we",
    "start": "211040",
    "end": "213079"
  },
  {
    "text": "started off with some very basic simple",
    "start": "213079",
    "end": "215299"
  },
  {
    "text": "questions you know what are people",
    "start": "215299",
    "end": "217250"
  },
  {
    "text": "listening to what types of services",
    "start": "217250",
    "end": "218900"
  },
  {
    "text": "online radio is it on-demand",
    "start": "218900",
    "end": "222760"
  },
  {
    "text": "you know is it their local music also",
    "start": "222760",
    "end": "229060"
  },
  {
    "text": "people's habits of listening to music",
    "start": "229060",
    "end": "232459"
  },
  {
    "text": "change from hour to hour and region to",
    "start": "232459",
    "end": "234320"
  },
  {
    "text": "region and so the amount of data that",
    "start": "234320",
    "end": "236329"
  },
  {
    "text": "flows into our system would change over",
    "start": "236329",
    "end": "238160"
  },
  {
    "text": "the course of a day so we needed to be",
    "start": "238160",
    "end": "239900"
  },
  {
    "text": "able to handle the spikes without losing",
    "start": "239900",
    "end": "241730"
  },
  {
    "text": "any data finally we didn't want any",
    "start": "241730",
    "end": "245900"
  },
  {
    "text": "downstream processing to affect the",
    "start": "245900",
    "end": "248450"
  },
  {
    "text": "ingestion of the data so if we have a",
    "start": "248450",
    "end": "251150"
  },
  {
    "text": "backup in the downstream process we want",
    "start": "251150",
    "end": "253730"
  },
  {
    "text": "to be able to queue up that data so we",
    "start": "253730",
    "end": "255350"
  },
  {
    "text": "don't lose it so this is our initial",
    "start": "255350",
    "end": "260840"
  },
  {
    "text": "stab data pipeline",
    "start": "260840",
    "end": "264470"
  },
  {
    "text": "it's built on ec2 and SQS and I'll walk",
    "start": "264470",
    "end": "269450"
  },
  {
    "text": "you through it this laser pointer is not",
    "start": "269450",
    "end": "271400"
  },
  {
    "text": "the greatest thing okay so the first",
    "start": "271400",
    "end": "276380"
  },
  {
    "text": "thing the data collector is a thin",
    "start": "276380",
    "end": "278780"
  },
  {
    "text": "interface between our speakers and our",
    "start": "278780",
    "end": "281720"
  },
  {
    "text": "data pipeline because the job of our",
    "start": "281720",
    "end": "284450"
  },
  {
    "text": "speaker is to play music and we needed",
    "start": "284450",
    "end": "286970"
  },
  {
    "text": "to not overburden the system by adding a",
    "start": "286970",
    "end": "289400"
  },
  {
    "text": "bunch of overhead to it so the data",
    "start": "289400",
    "end": "291590"
  },
  {
    "text": "collector serves is kind of our conduit",
    "start": "291590",
    "end": "293420"
  },
  {
    "text": "into the data pipeline once the data",
    "start": "293420",
    "end": "296660"
  },
  {
    "text": "collector gets the piece of data it",
    "start": "296660",
    "end": "298940"
  },
  {
    "text": "places it in our initial sq sq at this",
    "start": "298940",
    "end": "302330"
  },
  {
    "text": "point we now have a temporary storage of",
    "start": "302330",
    "end": "305540"
  },
  {
    "text": "all of our data that's coming in and",
    "start": "305540",
    "end": "307490"
  },
  {
    "text": "what we do is we the data collector will",
    "start": "307490",
    "end": "310850"
  },
  {
    "text": "take a look at the payload and it'll",
    "start": "310850",
    "end": "313250"
  },
  {
    "text": "split the data up into one of our three",
    "start": "313250",
    "end": "315320"
  },
  {
    "text": "processing queues during the processing",
    "start": "315320",
    "end": "318920"
  },
  {
    "text": "key layer we basically look through the",
    "start": "318920",
    "end": "321980"
  },
  {
    "text": "the format's or we make it into the",
    "start": "321980",
    "end": "324980"
  },
  {
    "text": "format's that we need to display it",
    "start": "324980",
    "end": "328040"
  },
  {
    "text": "properly in our consumption layer",
    "start": "328040",
    "end": "330400"
  },
  {
    "text": "initially we had Splunk Google Analytics",
    "start": "330400",
    "end": "333320"
  },
  {
    "text": "some other proprietary stuff that I",
    "start": "333320",
    "end": "336590"
  },
  {
    "text": "can't talk about so this is our initial",
    "start": "336590",
    "end": "340490"
  },
  {
    "text": "stab it actually worked quite well you",
    "start": "340490",
    "end": "344270"
  },
  {
    "text": "know it got us a lot of great",
    "start": "344270",
    "end": "345740"
  },
  {
    "text": "information that we didn't have before",
    "start": "345740",
    "end": "347000"
  },
  {
    "text": "and so you know we were proud of it so",
    "start": "347000",
    "end": "352010"
  },
  {
    "text": "this is a heavily redacted example of",
    "start": "352010",
    "end": "354980"
  },
  {
    "text": "one of our dashboards I assure you it's",
    "start": "354980",
    "end": "357200"
  },
  {
    "text": "very cool but I can't show you what it",
    "start": "357200",
    "end": "359360"
  },
  {
    "text": "actually is this is a slightly less",
    "start": "359360",
    "end": "364310"
  },
  {
    "text": "redacted version of the health of our",
    "start": "364310",
    "end": "368180"
  },
  {
    "text": "services so it shows the internal load",
    "start": "368180",
    "end": "370070"
  },
  {
    "text": "on some of our SMAP eServices which I",
    "start": "370070",
    "end": "373400"
  },
  {
    "text": "also can't talk about this map is a",
    "start": "373400",
    "end": "376070"
  },
  {
    "text": "codename or an API name that we use",
    "start": "376070",
    "end": "378110"
  },
  {
    "text": "internally that allows online music",
    "start": "378110",
    "end": "380150"
  },
  {
    "text": "partners to integrate into Sonos sorry",
    "start": "380150",
    "end": "383320"
  },
  {
    "text": "okay so challenges increased visibility",
    "start": "383320",
    "end": "388640"
  },
  {
    "text": "of data throughout the company now wait",
    "start": "388640",
    "end": "392300"
  },
  {
    "text": "a second that seems a little weird how",
    "start": "392300",
    "end": "393860"
  },
  {
    "text": "is that a challenge well the problem is",
    "start": "393860",
    "end": "396260"
  },
  {
    "text": "all this cool new",
    "start": "396260",
    "end": "398160"
  },
  {
    "text": "data led to more complex questions by",
    "start": "398160",
    "end": "401610"
  },
  {
    "text": "more important people so we had",
    "start": "401610",
    "end": "404280"
  },
  {
    "text": "aggregate data but that doesn't really",
    "start": "404280",
    "end": "405900"
  },
  {
    "text": "tell you the whole story it just you",
    "start": "405900",
    "end": "408750"
  },
  {
    "text": "know kind of gave us enough of a glimpse",
    "start": "408750",
    "end": "410760"
  },
  {
    "text": "into their into the usage to actually",
    "start": "410760",
    "end": "414390"
  },
  {
    "text": "make us want to know more about what our",
    "start": "414390",
    "end": "416610"
  },
  {
    "text": "customers are doing we needed to answer",
    "start": "416610",
    "end": "418230"
  },
  {
    "text": "more complex questions and the aggregate",
    "start": "418230",
    "end": "420120"
  },
  {
    "text": "data just wasn't going to do it all so",
    "start": "420120",
    "end": "422940"
  },
  {
    "text": "anytime we wanted to add new data",
    "start": "422940",
    "end": "425400"
  },
  {
    "text": "sources that required development work",
    "start": "425400",
    "end": "427890"
  },
  {
    "text": "for one or more teams so that was not",
    "start": "427890",
    "end": "430860"
  },
  {
    "text": "ideal either finally it was it became",
    "start": "430860",
    "end": "436260"
  },
  {
    "text": "clear that although it was a great you",
    "start": "436260",
    "end": "439080"
  },
  {
    "text": "know initial stab at the pipeline with",
    "start": "439080",
    "end": "441540"
  },
  {
    "text": "the best available technology at the",
    "start": "441540",
    "end": "443610"
  },
  {
    "text": "time it wasn't going to keep up to our",
    "start": "443610",
    "end": "445920"
  },
  {
    "text": "needs you know and planning out our data",
    "start": "445920",
    "end": "447690"
  },
  {
    "text": "needs for the next ten years became",
    "start": "447690",
    "end": "449310"
  },
  {
    "text": "impossible so we basically went back to",
    "start": "449310",
    "end": "453000"
  },
  {
    "text": "the drawing board and we said let's",
    "start": "453000",
    "end": "454320"
  },
  {
    "text": "design a more robust secure awesome",
    "start": "454320",
    "end": "458190"
  },
  {
    "text": "system and my colleague Dave Devin is",
    "start": "458190",
    "end": "460770"
  },
  {
    "text": "going to tell you all about that right",
    "start": "460770",
    "end": "464640"
  },
  {
    "text": "so again the you know the v1 pipeline",
    "start": "464640",
    "end": "466740"
  },
  {
    "text": "was was very robust you know we'd have",
    "start": "466740",
    "end": "469110"
  },
  {
    "text": "some issues in the system but as Mark",
    "start": "469110",
    "end": "472590"
  },
  {
    "text": "mentioned we felt like we can improve on",
    "start": "472590",
    "end": "474870"
  },
  {
    "text": "the system so see if I can do both so we",
    "start": "474870",
    "end": "478169"
  },
  {
    "text": "have some design goals in the v2",
    "start": "478169",
    "end": "479940"
  },
  {
    "text": "pipeline we want to move away from",
    "start": "479940",
    "end": "481770"
  },
  {
    "text": "aggregate reporting to vamp based",
    "start": "481770",
    "end": "483419"
  },
  {
    "text": "reporting having the speaker in the",
    "start": "483419",
    "end": "486120"
  },
  {
    "text": "field queue up some data and count that",
    "start": "486120",
    "end": "489690"
  },
  {
    "text": "and then essentially provide that count",
    "start": "489690",
    "end": "491370"
  },
  {
    "text": "to us was important it gave us great",
    "start": "491370",
    "end": "493050"
  },
  {
    "text": "insight but the counts aren't as",
    "start": "493050",
    "end": "494880"
  },
  {
    "text": "interesting as the individual events",
    "start": "494880",
    "end": "496919"
  },
  {
    "text": "when again you start to look at those in",
    "start": "496919",
    "end": "498540"
  },
  {
    "text": "aggregate again we want to accept any",
    "start": "498540",
    "end": "501540"
  },
  {
    "text": "kind of data didn't matter if it was",
    "start": "501540",
    "end": "502980"
  },
  {
    "text": "binary JSON and XML and we didn't really",
    "start": "502980",
    "end": "506880"
  },
  {
    "text": "want to develop for it every time we",
    "start": "506880",
    "end": "508860"
  },
  {
    "text": "added a new data type that you saw in",
    "start": "508860",
    "end": "510960"
  },
  {
    "text": "the beginning of those two slides we",
    "start": "510960",
    "end": "513330"
  },
  {
    "text": "would have to develop and that just took",
    "start": "513330",
    "end": "515070"
  },
  {
    "text": "too much time to answer the questions",
    "start": "515070",
    "end": "516690"
  },
  {
    "text": "for the business especially in",
    "start": "516690",
    "end": "517979"
  },
  {
    "text": "development and prototyping phases of",
    "start": "517979",
    "end": "520020"
  },
  {
    "text": "products we also wanted to spend more",
    "start": "520020",
    "end": "522630"
  },
  {
    "text": "time securing the storage of the raw",
    "start": "522630",
    "end": "524190"
  },
  {
    "text": "data our system of record was becoming",
    "start": "524190",
    "end": "526410"
  },
  {
    "text": "more and more important so we want to",
    "start": "526410",
    "end": "527880"
  },
  {
    "text": "lock that down",
    "start": "527880",
    "end": "529190"
  },
  {
    "text": "and take advantage of some more current",
    "start": "529190",
    "end": "531860"
  },
  {
    "text": "thinking around that area and then of",
    "start": "531860",
    "end": "534080"
  },
  {
    "text": "course we wanted to simplify and reduce",
    "start": "534080",
    "end": "535850"
  },
  {
    "text": "the cost of the pipeline as well so the",
    "start": "535850",
    "end": "538490"
  },
  {
    "text": "bottom line right we needed to be able",
    "start": "538490",
    "end": "539930"
  },
  {
    "text": "to handle orders of magnitude more data",
    "start": "539930",
    "end": "542200"
  },
  {
    "text": "by the end of this year with guaranteed",
    "start": "542200",
    "end": "545060"
  },
  {
    "text": "delivery and storage and near linear",
    "start": "545060",
    "end": "547010"
  },
  {
    "text": "scalability and under a sustainable cost",
    "start": "547010",
    "end": "549050"
  },
  {
    "text": "model that's a lot right but that's",
    "start": "549050",
    "end": "551000"
  },
  {
    "text": "really essentially what we're talking",
    "start": "551000",
    "end": "552890"
  },
  {
    "text": "about so I didn't change the Tyler's",
    "start": "552890",
    "end": "556070"
  },
  {
    "text": "slide but this is the v1 pipeline so",
    "start": "556070",
    "end": "558680"
  },
  {
    "text": "again we're gonna go back and look at it",
    "start": "558680",
    "end": "560480"
  },
  {
    "text": "and our biggest problem right is that",
    "start": "560480",
    "end": "563930"
  },
  {
    "text": "the actual data collector was doing all",
    "start": "563930",
    "end": "566300"
  },
  {
    "text": "the work right so if we needed to expand",
    "start": "566300",
    "end": "568790"
  },
  {
    "text": "capacity and to process the initial",
    "start": "568790",
    "end": "570440"
  },
  {
    "text": "queue we had to spin up a data collector",
    "start": "570440",
    "end": "572540"
  },
  {
    "text": "that actually does all the work",
    "start": "572540",
    "end": "574550"
  },
  {
    "text": "similarly if we only really need to",
    "start": "574550",
    "end": "576800"
  },
  {
    "text": "increase the processing power of the",
    "start": "576800",
    "end": "578990"
  },
  {
    "text": "Splunk queue for example which was our",
    "start": "578990",
    "end": "580820"
  },
  {
    "text": "biggest analytics tool at the time again",
    "start": "580820",
    "end": "584209"
  },
  {
    "text": "we had to spin up the data collector to",
    "start": "584209",
    "end": "585709"
  },
  {
    "text": "increase all the processing and not just",
    "start": "585709",
    "end": "588019"
  },
  {
    "text": "target the Splunk queue so that right",
    "start": "588019",
    "end": "590779"
  },
  {
    "text": "there is a real problem from a cost",
    "start": "590779",
    "end": "592610"
  },
  {
    "text": "perspective we know the general strategy",
    "start": "592610",
    "end": "595520"
  },
  {
    "text": "today you're here talked about in many",
    "start": "595520",
    "end": "597800"
  },
  {
    "text": "different forms we prefer to use the",
    "start": "597800",
    "end": "599899"
  },
  {
    "text": "terms collect store process and consume",
    "start": "599899",
    "end": "602149"
  },
  {
    "text": "this morning in the keynote I believe it",
    "start": "602149",
    "end": "605209"
  },
  {
    "text": "was collect store analyze and share but",
    "start": "605209",
    "end": "607940"
  },
  {
    "text": "it's basically the same idea so",
    "start": "607940",
    "end": "610209"
  },
  {
    "text": "micro-services everything is discrete",
    "start": "610209",
    "end": "612410"
  },
  {
    "text": "has a sole purpose and it can be very",
    "start": "612410",
    "end": "616190"
  },
  {
    "text": "specific to what it needs to do so the",
    "start": "616190",
    "end": "618890"
  },
  {
    "text": "collection layer again we we're going to",
    "start": "618890",
    "end": "620870"
  },
  {
    "text": "decouple that's going to be a common",
    "start": "620870",
    "end": "623029"
  },
  {
    "text": "theme throughout for so I'm not going to",
    "start": "623029",
    "end": "624380"
  },
  {
    "text": "say that too much more but again the",
    "start": "624380",
    "end": "626600"
  },
  {
    "text": "collector here is supposed to optimize",
    "start": "626600",
    "end": "628430"
  },
  {
    "text": "for raw throughput in scale again the",
    "start": "628430",
    "end": "630829"
  },
  {
    "text": "speaker sole responsibility in the field",
    "start": "630829",
    "end": "632899"
  },
  {
    "text": "is to play audio",
    "start": "632899",
    "end": "634220"
  },
  {
    "text": "we cannot interrupt your audio just to",
    "start": "634220",
    "end": "636770"
  },
  {
    "text": "get data back to see how well or how",
    "start": "636770",
    "end": "638449"
  },
  {
    "text": "poorly it's performing at the time we",
    "start": "638449",
    "end": "642350"
  },
  {
    "text": "were really looking into capturing some",
    "start": "642350",
    "end": "644089"
  },
  {
    "text": "of the benefits of streaming data so we",
    "start": "644089",
    "end": "646370"
  },
  {
    "text": "looked at Amazon vs. Kafka and I'm going",
    "start": "646370",
    "end": "648199"
  },
  {
    "text": "to talk a little bit about that and then",
    "start": "648199",
    "end": "650029"
  },
  {
    "text": "once that decision was made we were",
    "start": "650029",
    "end": "651500"
  },
  {
    "text": "going to have to talk about the producer",
    "start": "651500",
    "end": "653630"
  },
  {
    "text": "library versus rolling our own and of",
    "start": "653630",
    "end": "656029"
  },
  {
    "text": "course we're interested in looking at",
    "start": "656029",
    "end": "657290"
  },
  {
    "text": "net e4 we were on that e3 at the time so",
    "start": "657290",
    "end": "661160"
  },
  {
    "text": "to talk a little bit about Kenny's",
    "start": "661160",
    "end": "662730"
  },
  {
    "text": "versus Kafka which is a common question",
    "start": "662730",
    "end": "664350"
  },
  {
    "text": "right and one that we addressed at the",
    "start": "664350",
    "end": "667680"
  },
  {
    "text": "end of the day they're actually very",
    "start": "667680",
    "end": "668880"
  },
  {
    "text": "similar as you can see some of the specs",
    "start": "668880",
    "end": "670920"
  },
  {
    "text": "here one is more configurable that being",
    "start": "670920",
    "end": "673860"
  },
  {
    "text": "Kafka because you're running it yourself",
    "start": "673860",
    "end": "675649"
  },
  {
    "text": "but there are some benefits to Kinesis",
    "start": "675649",
    "end": "678839"
  },
  {
    "text": "right away replication is built in first",
    "start": "678839",
    "end": "680850"
  },
  {
    "text": "of all and for Kafka you can certainly",
    "start": "680850",
    "end": "683130"
  },
  {
    "text": "set up synchronization within an easy",
    "start": "683130",
    "end": "685350"
  },
  {
    "text": "and within and AZ and you can actually",
    "start": "685350",
    "end": "688199"
  },
  {
    "text": "use something called acknowledgment so",
    "start": "688199",
    "end": "689850"
  },
  {
    "text": "that when the replication occurs there's",
    "start": "689850",
    "end": "692820"
  },
  {
    "text": "an acknowledgment that I have it boom",
    "start": "692820",
    "end": "694440"
  },
  {
    "text": "everything is in replicated the way I",
    "start": "694440",
    "end": "697230"
  },
  {
    "text": "expect it but when you start looking at",
    "start": "697230",
    "end": "699180"
  },
  {
    "text": "going cross region it's very difficult",
    "start": "699180",
    "end": "701339"
  },
  {
    "text": "and it's almost always a proprietary",
    "start": "701339",
    "end": "702839"
  },
  {
    "text": "tool I'm sure they'll fix that in the",
    "start": "702839",
    "end": "704670"
  },
  {
    "text": "future but at the end of the day what it",
    "start": "704670",
    "end": "706709"
  },
  {
    "text": "really came back to and this again was",
    "start": "706709",
    "end": "708779"
  },
  {
    "text": "highlighted and then key note is that",
    "start": "708779",
    "end": "710459"
  },
  {
    "text": "we're talking about an AWS managed",
    "start": "710459",
    "end": "712320"
  },
  {
    "text": "service versus self hosted and self",
    "start": "712320",
    "end": "714630"
  },
  {
    "text": "managed and so gnosis is actually a very",
    "start": "714630",
    "end": "717990"
  },
  {
    "text": "lean DevOps organization so outsourcing",
    "start": "717990",
    "end": "720930"
  },
  {
    "text": "that responsibility at Amazon which is",
    "start": "720930",
    "end": "723420"
  },
  {
    "text": "not a business driver for us was a great",
    "start": "723420",
    "end": "725660"
  },
  {
    "text": "business choice I think so when we",
    "start": "725660",
    "end": "730110"
  },
  {
    "text": "redesigned the data collector here we",
    "start": "730110",
    "end": "731610"
  },
  {
    "text": "have very simply right it's a thin",
    "start": "731610",
    "end": "733470"
  },
  {
    "text": "client that listens to our speakers in",
    "start": "733470",
    "end": "735149"
  },
  {
    "text": "the field and our other systems takes",
    "start": "735149",
    "end": "736769"
  },
  {
    "text": "that data and just shoves it into the",
    "start": "736769",
    "end": "738240"
  },
  {
    "text": "Kinesis stream and we're off and running",
    "start": "738240",
    "end": "741440"
  },
  {
    "text": "now we're looking at the storage service",
    "start": "741440",
    "end": "743760"
  },
  {
    "text": "again we're trying to decouple it but",
    "start": "743760",
    "end": "746370"
  },
  {
    "text": "you know we wanted to increase the the",
    "start": "746370",
    "end": "748260"
  },
  {
    "text": "raw data and then we want to look at the",
    "start": "748260",
    "end": "750300"
  },
  {
    "text": "some of the new thinking around object",
    "start": "750300",
    "end": "752760"
  },
  {
    "text": "stores obviously you're looking at s3",
    "start": "752760",
    "end": "754199"
  },
  {
    "text": "Cassandra HDFS a lot of different",
    "start": "754199",
    "end": "756810"
  },
  {
    "text": "solutions out there we standardize on s3",
    "start": "756810",
    "end": "759380"
  },
  {
    "text": "and so once that became our decision",
    "start": "759380",
    "end": "763649"
  },
  {
    "text": "we're then looking at the Kinesis",
    "start": "763649",
    "end": "765360"
  },
  {
    "text": "consumer library versus again rolling",
    "start": "765360",
    "end": "767519"
  },
  {
    "text": "our own consumer of the Kinesis stream",
    "start": "767519",
    "end": "769680"
  },
  {
    "text": "to put it into s3 when we decided to go",
    "start": "769680",
    "end": "774510"
  },
  {
    "text": "to s3 we also wanted to capture some of",
    "start": "774510",
    "end": "776579"
  },
  {
    "text": "the the ideas behind the data like we",
    "start": "776579",
    "end": "779730"
  },
  {
    "text": "actually call it a data zoo at Sonos",
    "start": "779730",
    "end": "782279"
  },
  {
    "text": "because we do have some similarities",
    "start": "782279",
    "end": "784050"
  },
  {
    "text": "with the main points of a data Lake but",
    "start": "784050",
    "end": "786300"
  },
  {
    "text": "one thing that might be a little",
    "start": "786300",
    "end": "787680"
  },
  {
    "text": "different is that we don't really care",
    "start": "787680",
    "end": "789240"
  },
  {
    "text": "what the data is they all go into the",
    "start": "789240",
    "end": "791250"
  },
  {
    "text": "same file we have special processing",
    "start": "791250",
    "end": "793470"
  },
  {
    "text": "that allows us to abstract the data",
    "start": "793470",
    "end": "795230"
  },
  {
    "text": "so you know at the end of the day it",
    "start": "795230",
    "end": "797930"
  },
  {
    "text": "really does it is up to the consumer to",
    "start": "797930",
    "end": "800420"
  },
  {
    "text": "know what they're looking for the",
    "start": "800420",
    "end": "801920"
  },
  {
    "text": "storage service and the collection",
    "start": "801920",
    "end": "803270"
  },
  {
    "text": "service have no knowledge of what",
    "start": "803270",
    "end": "805130"
  },
  {
    "text": "they're actually doing storage just",
    "start": "805130",
    "end": "807080"
  },
  {
    "text": "knows I'm just putting in s3 collection",
    "start": "807080",
    "end": "809180"
  },
  {
    "text": "says I'm just collecting the data and",
    "start": "809180",
    "end": "810830"
  },
  {
    "text": "it's up to the processors and the",
    "start": "810830",
    "end": "812630"
  },
  {
    "text": "visuals I sorry the consumers to",
    "start": "812630",
    "end": "814820"
  },
  {
    "text": "understand what they're looking for so",
    "start": "814820",
    "end": "818600"
  },
  {
    "text": "when we look at the Kinesis consumer",
    "start": "818600",
    "end": "820580"
  },
  {
    "text": "library versus the rolling our own at",
    "start": "820580",
    "end": "822890"
  },
  {
    "text": "sonís we're definitely a build first",
    "start": "822890",
    "end": "825220"
  },
  {
    "text": "violator company even when you we take a",
    "start": "825220",
    "end": "829640"
  },
  {
    "text": "look at the the speakers almost",
    "start": "829640",
    "end": "831860"
  },
  {
    "text": "everything we've written in there is",
    "start": "831860",
    "end": "833120"
  },
  {
    "text": "written from the ground up we do use",
    "start": "833120",
    "end": "834560"
  },
  {
    "text": "open source but as an example the Wi-Fi",
    "start": "834560",
    "end": "836570"
  },
  {
    "text": "drivers are very sonís very much as soon",
    "start": "836570",
    "end": "840500"
  },
  {
    "text": "as proprietary thing so we looked at the",
    "start": "840500",
    "end": "843590"
  },
  {
    "text": "benefit of writing our own but the",
    "start": "843590",
    "end": "845270"
  },
  {
    "text": "consumer library basically had",
    "start": "845270",
    "end": "847640"
  },
  {
    "text": "everything built in lease and shard",
    "start": "847640",
    "end": "849530"
  },
  {
    "text": "management if we were to write that",
    "start": "849530",
    "end": "851300"
  },
  {
    "text": "ourselves we would have to do all that",
    "start": "851300",
    "end": "852620"
  },
  {
    "text": "work payload aggregation which is a way",
    "start": "852620",
    "end": "854690"
  },
  {
    "text": "to get the most out of the Kinesis",
    "start": "854690",
    "end": "856160"
  },
  {
    "text": "throughput we would also have to self",
    "start": "856160",
    "end": "858080"
  },
  {
    "text": "implement that so again that stuff's not",
    "start": "858080",
    "end": "859910"
  },
  {
    "text": "really what is important to us or as a",
    "start": "859910",
    "end": "862700"
  },
  {
    "text": "business differentiator for us it's the",
    "start": "862700",
    "end": "864680"
  },
  {
    "text": "data itself that differentiates so",
    "start": "864680",
    "end": "868580"
  },
  {
    "text": "here's a little example of how we",
    "start": "868580",
    "end": "869960"
  },
  {
    "text": "actually do the storage service it's",
    "start": "869960",
    "end": "872840"
  },
  {
    "text": "actually called repo no that's Latin for",
    "start": "872840",
    "end": "874730"
  },
  {
    "text": "store so we just basically override the",
    "start": "874730",
    "end": "878900"
  },
  {
    "text": "I record processor and for each the",
    "start": "878900",
    "end": "881630"
  },
  {
    "text": "process records methods for each record",
    "start": "881630",
    "end": "883640"
  },
  {
    "text": "we actually buffer the data in memory we",
    "start": "883640",
    "end": "886610"
  },
  {
    "text": "use systems to optimize the the input",
    "start": "886610",
    "end": "891020"
  },
  {
    "text": "into s3 and then of course we check to",
    "start": "891020",
    "end": "893330"
  },
  {
    "text": "see if we should be flushing that buffer",
    "start": "893330",
    "end": "894830"
  },
  {
    "text": "based on some parameters and then we",
    "start": "894830",
    "end": "896930"
  },
  {
    "text": "emit the records to s3 and if that",
    "start": "896930",
    "end": "899960"
  },
  {
    "text": "process is successful then we check",
    "start": "899960",
    "end": "901760"
  },
  {
    "text": "point and the reason why I'm bringing",
    "start": "901760",
    "end": "902930"
  },
  {
    "text": "this up here is that this is how we",
    "start": "902930",
    "end": "904970"
  },
  {
    "text": "handle duplication or loss of data kind",
    "start": "904970",
    "end": "908270"
  },
  {
    "text": "of in the same stream if we try to omit",
    "start": "908270",
    "end": "910640"
  },
  {
    "text": "these records and there's a failure of",
    "start": "910640",
    "end": "912410"
  },
  {
    "text": "some sort we just don't check point and",
    "start": "912410",
    "end": "914150"
  },
  {
    "text": "that leaves the records back in the",
    "start": "914150",
    "end": "915590"
  },
  {
    "text": "Kinesis queue and we can process them",
    "start": "915590",
    "end": "917270"
  },
  {
    "text": "later now there is a 24-hour window so",
    "start": "917270",
    "end": "919580"
  },
  {
    "text": "we better hope our storage service comes",
    "start": "919580",
    "end": "920960"
  },
  {
    "text": "back before we start eating that time",
    "start": "920960",
    "end": "922940"
  },
  {
    "text": "period so at the end of this process",
    "start": "922940",
    "end": "925730"
  },
  {
    "text": "we're now with a collection service and",
    "start": "925730",
    "end": "927950"
  },
  {
    "text": "we now",
    "start": "927950",
    "end": "928360"
  },
  {
    "text": "storage service we're halfway through",
    "start": "928360",
    "end": "930250"
  },
  {
    "text": "our solution so now we're looking at the",
    "start": "930250",
    "end": "933970"
  },
  {
    "text": "processing stage and again we're",
    "start": "933970",
    "end": "935589"
  },
  {
    "text": "decoupling here but most importantly",
    "start": "935589",
    "end": "937980"
  },
  {
    "text": "we're trying to improve our flexibility",
    "start": "937980",
    "end": "940930"
  },
  {
    "text": "and the processing side and then the",
    "start": "940930",
    "end": "942690"
  },
  {
    "text": "analytic side the consumption side we",
    "start": "942690",
    "end": "945790"
  },
  {
    "text": "also wanted to take advantage of SPARC",
    "start": "945790",
    "end": "948010"
  },
  {
    "text": "in memory processing is the darling of",
    "start": "948010",
    "end": "950230"
  },
  {
    "text": "the industry today and it definitely",
    "start": "950230",
    "end": "951670"
  },
  {
    "text": "works and at the same time we want to",
    "start": "951670",
    "end": "954670"
  },
  {
    "text": "support any consumer going back to the",
    "start": "954670",
    "end": "957279"
  },
  {
    "text": "challenge of the b1 pipeline anytime we",
    "start": "957279",
    "end": "960279"
  },
  {
    "text": "wanted to add a new visualization engine",
    "start": "960279",
    "end": "962470"
  },
  {
    "text": "we would have to set up a new processing",
    "start": "962470",
    "end": "964029"
  },
  {
    "text": "queue basically scale up the data",
    "start": "964029",
    "end": "966550"
  },
  {
    "text": "collector and then put that in place and",
    "start": "966550",
    "end": "968470"
  },
  {
    "text": "it just was too much overhead to get you",
    "start": "968470",
    "end": "972399"
  },
  {
    "text": "know like tomorrow we're gonna go look",
    "start": "972399",
    "end": "973990"
  },
  {
    "text": "at a quick site it's going to take us",
    "start": "973990",
    "end": "976269"
  },
  {
    "text": "five minutes connect it to the pipeline",
    "start": "976269",
    "end": "977649"
  },
  {
    "text": "now and so at the end of the day we're",
    "start": "977649",
    "end": "981579"
  },
  {
    "text": "now done with the processing this one",
    "start": "981579",
    "end": "983260"
  },
  {
    "text": "was actually easy I didn't have to too",
    "start": "983260",
    "end": "984670"
  },
  {
    "text": "much do too much except say here's your",
    "start": "984670",
    "end": "986500"
  },
  {
    "text": "data store here's how you access the",
    "start": "986500",
    "end": "988690"
  },
  {
    "text": "data Lake now go to it and so we have",
    "start": "988690",
    "end": "991480"
  },
  {
    "text": "SPARC running we of course have",
    "start": "991480",
    "end": "992920"
  },
  {
    "text": "MapReduce and then we also have some",
    "start": "992920",
    "end": "995110"
  },
  {
    "text": "proprietary jobs that ETL type stuff",
    "start": "995110",
    "end": "998050"
  },
  {
    "text": "that we still use so the last piece is",
    "start": "998050",
    "end": "1001920"
  },
  {
    "text": "the consumption layer this is actually",
    "start": "1001920",
    "end": "1004019"
  },
  {
    "text": "relatively easy from this talk here",
    "start": "1004019",
    "end": "1007050"
  },
  {
    "text": "we're just decoupling but most",
    "start": "1007050",
    "end": "1008610"
  },
  {
    "text": "importantly we're trying to allow for",
    "start": "1008610",
    "end": "1010019"
  },
  {
    "text": "self-service again kind of this was also",
    "start": "1010019",
    "end": "1013260"
  },
  {
    "text": "highlighted in the keynote the business",
    "start": "1013260",
    "end": "1014970"
  },
  {
    "text": "people want to ask questions they want",
    "start": "1014970",
    "end": "1016620"
  },
  {
    "text": "answers immediately they don't really",
    "start": "1016620",
    "end": "1018060"
  },
  {
    "text": "want to wait six hours 20 hours three",
    "start": "1018060",
    "end": "1021540"
  },
  {
    "text": "weeks for an answer and so we we want a",
    "start": "1021540",
    "end": "1025199"
  },
  {
    "text": "system that allows them to to access",
    "start": "1025199",
    "end": "1027660"
  },
  {
    "text": "that data as quickly as they can and so",
    "start": "1027660",
    "end": "1030780"
  },
  {
    "text": "this is the end of our this is our",
    "start": "1030780",
    "end": "1032428"
  },
  {
    "text": "visualization side right we're still",
    "start": "1032429",
    "end": "1034020"
  },
  {
    "text": "using Splunk we're now using redshift",
    "start": "1034020",
    "end": "1035819"
  },
  {
    "text": "and other types of data stores we have",
    "start": "1035819",
    "end": "1038428"
  },
  {
    "text": "different visualizations in tirana as a",
    "start": "1038429",
    "end": "1040620"
  },
  {
    "text": "new product that we love and of course",
    "start": "1040620",
    "end": "1042418"
  },
  {
    "text": "we have operational stuff running off",
    "start": "1042419",
    "end": "1044130"
  },
  {
    "text": "this this data stream now as well and so",
    "start": "1044130",
    "end": "1048540"
  },
  {
    "text": "at the end the results of the v2",
    "start": "1048540",
    "end": "1050490"
  },
  {
    "text": "pipeliner that we primarily have",
    "start": "1050490",
    "end": "1052260"
  },
  {
    "text": "increased traceability throughout so we",
    "start": "1052260",
    "end": "1054270"
  },
  {
    "text": "know that when we accept the data a",
    "start": "1054270",
    "end": "1056700"
  },
  {
    "text": "piece of data from the collector we know",
    "start": "1056700",
    "end": "1059580"
  },
  {
    "text": "that it ends",
    "start": "1059580",
    "end": "1060640"
  },
  {
    "text": "in the consumption stage and we can",
    "start": "1060640",
    "end": "1062350"
  },
  {
    "text": "track that all the way through now we",
    "start": "1062350",
    "end": "1064600"
  },
  {
    "text": "also have a self-service pipeline while",
    "start": "1064600",
    "end": "1066970"
  },
  {
    "text": "we have the main system of record",
    "start": "1066970",
    "end": "1068590"
  },
  {
    "text": "operating off the Kinesis stream we",
    "start": "1068590",
    "end": "1070150"
  },
  {
    "text": "actually ran an experiment with the ops",
    "start": "1070150",
    "end": "1071679"
  },
  {
    "text": "team and allowed the ops team to consume",
    "start": "1071679",
    "end": "1073960"
  },
  {
    "text": "the Kinesis stream right then and there",
    "start": "1073960",
    "end": "1075700"
  },
  {
    "text": "and develop some operational dashboards",
    "start": "1075700",
    "end": "1078100"
  },
  {
    "text": "in real-time around the use of music",
    "start": "1078100",
    "end": "1080530"
  },
  {
    "text": "services in the field and then through",
    "start": "1080530",
    "end": "1084250"
  },
  {
    "text": "our performance testing we have",
    "start": "1084250",
    "end": "1085630"
  },
  {
    "text": "basically we haven't even found the",
    "start": "1085630",
    "end": "1087520"
  },
  {
    "text": "limits but we have linear scalability",
    "start": "1087520",
    "end": "1089650"
  },
  {
    "text": "now backed by ec2 Kinesis and s3 at the",
    "start": "1089650",
    "end": "1094090"
  },
  {
    "text": "collection and the storage layer and",
    "start": "1094090",
    "end": "1096280"
  },
  {
    "text": "overall we've achieved the 20 times",
    "start": "1096280",
    "end": "1098620"
  },
  {
    "text": "reduction in our costs so one of the",
    "start": "1098620",
    "end": "1102850"
  },
  {
    "text": "things I personally get most out of when",
    "start": "1102850",
    "end": "1105580"
  },
  {
    "text": "I come to these conversations or these",
    "start": "1105580",
    "end": "1107380"
  },
  {
    "text": "conferences is understanding how",
    "start": "1107380",
    "end": "1109679"
  },
  {
    "text": "companies actually solve some of these",
    "start": "1109679",
    "end": "1111850"
  },
  {
    "text": "problems the code is easy you can kind",
    "start": "1111850",
    "end": "1113919"
  },
  {
    "text": "of get a blog post or Stack Overflow is",
    "start": "1113919",
    "end": "1115900"
  },
  {
    "text": "like my favorite website but",
    "start": "1115900",
    "end": "1118360"
  },
  {
    "text": "understanding how people deal with some",
    "start": "1118360",
    "end": "1120160"
  },
  {
    "text": "of the problems is more interesting to",
    "start": "1120160",
    "end": "1121840"
  },
  {
    "text": "me so well",
    "start": "1121840",
    "end": "1123520"
  },
  {
    "text": "wait houston we do have a problem right",
    "start": "1123520",
    "end": "1127440"
  },
  {
    "text": "we have this v1 pipeline that is",
    "start": "1127440",
    "end": "1130390"
  },
  {
    "text": "answering very critical questions in the",
    "start": "1130390",
    "end": "1132070"
  },
  {
    "text": "business it's also behind operational",
    "start": "1132070",
    "end": "1134530"
  },
  {
    "text": "dashboards right so this data can't",
    "start": "1134530",
    "end": "1136179"
  },
  {
    "text": "disappear but we have this brand new v2",
    "start": "1136179",
    "end": "1138850"
  },
  {
    "text": "pipeline that's just the cat's pajamas",
    "start": "1138850",
    "end": "1140590"
  },
  {
    "text": "and we want to get it out there so how",
    "start": "1140590",
    "end": "1143590"
  },
  {
    "text": "do we do that well shoot we have to find",
    "start": "1143590",
    "end": "1146679"
  },
  {
    "text": "a way to basically have v2 and v1",
    "start": "1146679",
    "end": "1149049"
  },
  {
    "text": "running in parallel so how are we going",
    "start": "1149049",
    "end": "1151210"
  },
  {
    "text": "to get v1 data to continue to flow",
    "start": "1151210",
    "end": "1153610"
  },
  {
    "text": "through its pipeline while we're running",
    "start": "1153610",
    "end": "1155410"
  },
  {
    "text": "v2 and verifying that all the data is in",
    "start": "1155410",
    "end": "1157750"
  },
  {
    "text": "fact coming through correctly being",
    "start": "1157750",
    "end": "1159490"
  },
  {
    "text": "processed correctly and is exactly",
    "start": "1159490",
    "end": "1161140"
  },
  {
    "text": "identical to what you had before you had",
    "start": "1161140",
    "end": "1163450"
  },
  {
    "text": "the new pipeline and our solution here",
    "start": "1163450",
    "end": "1166660"
  },
  {
    "text": "was a little ingenious we did not do it",
    "start": "1166660",
    "end": "1169000"
  },
  {
    "text": "I found this little thing called the",
    "start": "1169000",
    "end": "1170590"
  },
  {
    "text": "log4j appender that's built for Kinesis",
    "start": "1170590",
    "end": "1173080"
  },
  {
    "text": "okay so in v1 data collector we just",
    "start": "1173080",
    "end": "1178179"
  },
  {
    "text": "refactored a little bit add a little",
    "start": "1178179",
    "end": "1180010"
  },
  {
    "text": "trace message right just sent the raw",
    "start": "1180010",
    "end": "1182169"
  },
  {
    "text": "event into a an append earth at was",
    "start": "1182169",
    "end": "1185320"
  },
  {
    "text": "configured to point to a Kinesis stream",
    "start": "1185320",
    "end": "1188010"
  },
  {
    "text": "and voila we have both pipelines running",
    "start": "1188010",
    "end": "1191410"
  },
  {
    "text": "at the same time so that we can verify",
    "start": "1191410",
    "end": "1194169"
  },
  {
    "text": "that the visualization that's coming out",
    "start": "1194169",
    "end": "1195820"
  },
  {
    "text": "of both is exactly identical and we can",
    "start": "1195820",
    "end": "1198309"
  },
  {
    "text": "make sure that when we transition to v2",
    "start": "1198309",
    "end": "1200139"
  },
  {
    "text": "that there is no difference all right",
    "start": "1200139",
    "end": "1202359"
  },
  {
    "text": "for operational dashboards that might be",
    "start": "1202359",
    "end": "1204999"
  },
  {
    "text": "might not necessarily need that we're",
    "start": "1204999",
    "end": "1207340"
  },
  {
    "text": "talking about finance you talk about",
    "start": "1207340",
    "end": "1208690"
  },
  {
    "text": "money it better be right right so with",
    "start": "1208690",
    "end": "1213519"
  },
  {
    "text": "this in place now we can actually go",
    "start": "1213519",
    "end": "1215769"
  },
  {
    "text": "back and if anybody really noticed I",
    "start": "1215769",
    "end": "1217809"
  },
  {
    "text": "only talked about the Kinesis versus",
    "start": "1217809",
    "end": "1219369"
  },
  {
    "text": "Kafka I never really approached the rest",
    "start": "1219369",
    "end": "1221559"
  },
  {
    "text": "of the goal and now we're able to do",
    "start": "1221559",
    "end": "1223629"
  },
  {
    "text": "that because now we have two pipelines",
    "start": "1223629",
    "end": "1225279"
  },
  {
    "text": "running at the same time and now we can",
    "start": "1225279",
    "end": "1226869"
  },
  {
    "text": "focus on re rewriting basically the data",
    "start": "1226869",
    "end": "1229720"
  },
  {
    "text": "collection system so we looked at the",
    "start": "1229720",
    "end": "1233169"
  },
  {
    "text": "Kinesis producer library versus rolling",
    "start": "1233169",
    "end": "1235539"
  },
  {
    "text": "our own they're both Java API s but",
    "start": "1235539",
    "end": "1237279"
  },
  {
    "text": "again same thing for the consumer",
    "start": "1237279",
    "end": "1239139"
  },
  {
    "text": "library we're getting a sink and put",
    "start": "1239139",
    "end": "1241179"
  },
  {
    "text": "records by default which is going to",
    "start": "1241179",
    "end": "1242559"
  },
  {
    "text": "save on money we would have to write",
    "start": "1242559",
    "end": "1244600"
  },
  {
    "text": "that ourselves if we didn't and again we",
    "start": "1244600",
    "end": "1246909"
  },
  {
    "text": "get payload aggregation but they",
    "start": "1246909",
    "end": "1249039"
  },
  {
    "text": "actually stole something out of our",
    "start": "1249039",
    "end": "1250690"
  },
  {
    "text": "internal buffers which I thought was",
    "start": "1250690",
    "end": "1252009"
  },
  {
    "text": "pretty interesting not only do they can",
    "start": "1252009",
    "end": "1254649"
  },
  {
    "text": "you aggregate by records so for example",
    "start": "1254649",
    "end": "1257559"
  },
  {
    "text": "we know we can fit ten records in one",
    "start": "1257559",
    "end": "1260320"
  },
  {
    "text": "megabyte limit and so we're going to",
    "start": "1260320",
    "end": "1262210"
  },
  {
    "text": "throw that in with one put records",
    "start": "1262210",
    "end": "1263710"
  },
  {
    "text": "request well what happens if your",
    "start": "1263710",
    "end": "1265720"
  },
  {
    "text": "payloads are like 247 bytes you can",
    "start": "1265720",
    "end": "1269139"
  },
  {
    "text": "actually grab all cram all of those",
    "start": "1269139",
    "end": "1272289"
  },
  {
    "text": "together in a payload as well so that",
    "start": "1272289",
    "end": "1274359"
  },
  {
    "text": "you get a full one megabyte and it's not",
    "start": "1274359",
    "end": "1276159"
  },
  {
    "text": "really driven by record boundaries it's",
    "start": "1276159",
    "end": "1278139"
  },
  {
    "text": "just bytes so it's really interesting",
    "start": "1278139",
    "end": "1279940"
  },
  {
    "text": "stuff but the biggest piece of the",
    "start": "1279940",
    "end": "1282580"
  },
  {
    "text": "producer library which was a first scary",
    "start": "1282580",
    "end": "1284649"
  },
  {
    "text": "to us is that it's an actual micro",
    "start": "1284649",
    "end": "1286210"
  },
  {
    "text": "service it's a C++ micro service that",
    "start": "1286210",
    "end": "1288340"
  },
  {
    "text": "runs inside your java process and your",
    "start": "1288340",
    "end": "1290950"
  },
  {
    "text": "java process our collection system right",
    "start": "1290950",
    "end": "1293679"
  },
  {
    "text": "is just forwarding to that micro service",
    "start": "1293679",
    "end": "1295600"
  },
  {
    "text": "through IPC and then the micro service",
    "start": "1295600",
    "end": "1297609"
  },
  {
    "text": "is actually doing the conversation to",
    "start": "1297609",
    "end": "1299549"
  },
  {
    "text": "Kinesis but the code is out there you",
    "start": "1299549",
    "end": "1302679"
  },
  {
    "text": "can look at it so we went decided we",
    "start": "1302679",
    "end": "1305289"
  },
  {
    "text": "were going to ahead and try it and look",
    "start": "1305289",
    "end": "1306759"
  },
  {
    "text": "into it we this is a net e for channel",
    "start": "1306759",
    "end": "1309609"
  },
  {
    "text": "handler we're accepting a byte buffer",
    "start": "1309609",
    "end": "1311679"
  },
  {
    "text": "right we've overwritten the proper",
    "start": "1311679",
    "end": "1312970"
  },
  {
    "text": "method and that's it this is exactly",
    "start": "1312970",
    "end": "1315399"
  },
  {
    "text": "what we needed to do to actually talk to",
    "start": "1315399",
    "end": "1317049"
  },
  {
    "text": "the Kinesis system you add the user",
    "start": "1317049",
    "end": "1319359"
  },
  {
    "text": "record tell her what stream name we use",
    "start": "1319359",
    "end": "1321519"
  },
  {
    "text": "goods for partitioning you don't have to",
    "start": "1321519",
    "end": "1323349"
  },
  {
    "text": "use partitioning and then we just pass",
    "start": "1323349",
    "end": "1325570"
  },
  {
    "text": "the buffer all",
    "start": "1325570",
    "end": "1326759"
  },
  {
    "text": "now there is some back pressure stuff",
    "start": "1326759",
    "end": "1329230"
  },
  {
    "text": "right if Kinesis is your scaling limit",
    "start": "1329230",
    "end": "1332440"
  },
  {
    "text": "the producer library will actually throw",
    "start": "1332440",
    "end": "1334600"
  },
  {
    "text": "some exceptions so there is a way to",
    "start": "1334600",
    "end": "1335980"
  },
  {
    "text": "actually handle that back off you can",
    "start": "1335980",
    "end": "1338139"
  },
  {
    "text": "you have a circuit breaker pattern if",
    "start": "1338139",
    "end": "1339460"
  },
  {
    "text": "you wanted to kind of pause your system",
    "start": "1339460",
    "end": "1341109"
  },
  {
    "text": "walking uses catches up so that stuff's",
    "start": "1341109",
    "end": "1343179"
  },
  {
    "text": "not shown here but you know that's a lot",
    "start": "1343179",
    "end": "1346359"
  },
  {
    "text": "more than we can fit on the screen so at",
    "start": "1346359",
    "end": "1348820"
  },
  {
    "text": "the end of this though and this is work",
    "start": "1348820",
    "end": "1350440"
  },
  {
    "text": "that we just finished so at the end of",
    "start": "1350440",
    "end": "1352090"
  },
  {
    "text": "finishing the v-2 collection service we",
    "start": "1352090",
    "end": "1353980"
  },
  {
    "text": "now have increased our collection",
    "start": "1353980",
    "end": "1355419"
  },
  {
    "text": "performance over twenty-seven hundred",
    "start": "1355419",
    "end": "1356799"
  },
  {
    "text": "percent by moving to this system with",
    "start": "1356799",
    "end": "1359320"
  },
  {
    "text": "Nettie four and the Kinesis producer",
    "start": "1359320",
    "end": "1361149"
  },
  {
    "text": "library and then the most important",
    "start": "1361149",
    "end": "1363279"
  },
  {
    "text": "parts of the business writers we have a",
    "start": "1363279",
    "end": "1364659"
  },
  {
    "text": "huge decrease in cost per billion events",
    "start": "1364659",
    "end": "1366940"
  },
  {
    "text": "we went from over four thousand to under",
    "start": "1366940",
    "end": "1369369"
  },
  {
    "text": "650 with v2",
    "start": "1369369",
    "end": "1371109"
  },
  {
    "text": "now the thing that allowed us to get to",
    "start": "1371109",
    "end": "1374769"
  },
  {
    "text": "this point right was running both",
    "start": "1374769",
    "end": "1375970"
  },
  {
    "text": "pipelines at the same time and so we",
    "start": "1375970",
    "end": "1378039"
  },
  {
    "text": "were able to determine that running the",
    "start": "1378039",
    "end": "1379809"
  },
  {
    "text": "the pipeline's at the same time would",
    "start": "1379809",
    "end": "1381580"
  },
  {
    "text": "only cost us an additional six percent",
    "start": "1381580",
    "end": "1383710"
  },
  {
    "text": "and that's an insurance policy that's",
    "start": "1383710",
    "end": "1385779"
  },
  {
    "text": "actually cheap insurance policy to make",
    "start": "1385779",
    "end": "1388059"
  },
  {
    "text": "sure that when we go to v2 there is no",
    "start": "1388059",
    "end": "1390159"
  },
  {
    "text": "disruption to the business and so that's",
    "start": "1390159",
    "end": "1393340"
  },
  {
    "text": "kind of the end of v2 and at this point",
    "start": "1393340",
    "end": "1395529"
  },
  {
    "text": "I want to turn it back to Marc talk",
    "start": "1395529",
    "end": "1397059"
  },
  {
    "text": "about some future directions already so",
    "start": "1397059",
    "end": "1400179"
  },
  {
    "text": "where do we go next",
    "start": "1400179",
    "end": "1403498"
  },
  {
    "text": "well thank you for your service Sonos",
    "start": "1405179",
    "end": "1408519"
  },
  {
    "text": "data pipeline v1 but you are no longer",
    "start": "1408519",
    "end": "1411309"
  },
  {
    "text": "necessary so we need to end-of-life that",
    "start": "1411309",
    "end": "1413769"
  },
  {
    "text": "and as Devin alluded to and as some of",
    "start": "1413769",
    "end": "1419289"
  },
  {
    "text": "you may know Kinesis is not infallible",
    "start": "1419289",
    "end": "1422009"
  },
  {
    "text": "it can fail and when it does we need to",
    "start": "1422009",
    "end": "1426489"
  },
  {
    "text": "have a back-up plan so currently we log",
    "start": "1426489",
    "end": "1429820"
  },
  {
    "text": "everything locally in the case of a",
    "start": "1429820",
    "end": "1432129"
  },
  {
    "text": "Kinesis failure however we do want to go",
    "start": "1432129",
    "end": "1435129"
  },
  {
    "text": "with the circuit breaker pattern and if",
    "start": "1435129",
    "end": "1437019"
  },
  {
    "text": "we detect failure in the Kinesis stream",
    "start": "1437019",
    "end": "1439090"
  },
  {
    "text": "we will reroute to a different stream in",
    "start": "1439090",
    "end": "1441369"
  },
  {
    "text": "another region all right so further on",
    "start": "1441369",
    "end": "1444999"
  },
  {
    "text": "that you know there was an event",
    "start": "1444999",
    "end": "1446559"
  },
  {
    "text": "recently and we were able to determine",
    "start": "1446559",
    "end": "1448239"
  },
  {
    "text": "that we lost about four percent of our",
    "start": "1448239",
    "end": "1450129"
  },
  {
    "text": "data we do have multi region we do have",
    "start": "1450129",
    "end": "1453159"
  },
  {
    "text": "route 53 with latency and health checks",
    "start": "1453159",
    "end": "1455379"
  },
  {
    "text": "so we did see the proper migration of",
    "start": "1455379",
    "end": "1459470"
  },
  {
    "text": "data from one cluster to that one region",
    "start": "1459470",
    "end": "1461570"
  },
  {
    "text": "to the other but we still lost 4% during",
    "start": "1461570",
    "end": "1464179"
  },
  {
    "text": "the I think it was two and a half hours",
    "start": "1464179",
    "end": "1466159"
  },
  {
    "text": "roughly that it was out so we want to",
    "start": "1466159",
    "end": "1468049"
  },
  {
    "text": "try and improve upon that we shouldn't",
    "start": "1468049",
    "end": "1469700"
  },
  {
    "text": "we shouldn't lose that as far as future",
    "start": "1469700",
    "end": "1472789"
  },
  {
    "text": "for data collector you know we've been",
    "start": "1472789",
    "end": "1474620"
  },
  {
    "text": "you hear Scala being talked about quite",
    "start": "1474620",
    "end": "1476750"
  },
  {
    "text": "a bit and we actually did a prototype",
    "start": "1476750",
    "end": "1477950"
  },
  {
    "text": "with Scala and akka HTTP library it was",
    "start": "1477950",
    "end": "1481009"
  },
  {
    "text": "just a little too early for us to go to",
    "start": "1481009",
    "end": "1482600"
  },
  {
    "text": "production but then once we started",
    "start": "1482600",
    "end": "1484100"
  },
  {
    "text": "writing with a producer library why not",
    "start": "1484100",
    "end": "1486830"
  },
  {
    "text": "just write in C++ and incorporate the",
    "start": "1486830",
    "end": "1488870"
  },
  {
    "text": "producer library right into your system",
    "start": "1488870",
    "end": "1490460"
  },
  {
    "text": "so there's where we're at the point now",
    "start": "1490460",
    "end": "1493039"
  },
  {
    "text": "it's onus where we actually are thinking",
    "start": "1493039",
    "end": "1494870"
  },
  {
    "text": "about how we can get the most out of",
    "start": "1494870",
    "end": "1496580"
  },
  {
    "text": "these instances and Amazon for cost wise",
    "start": "1496580",
    "end": "1499309"
  },
  {
    "text": "because we are that gets scale and then",
    "start": "1499309",
    "end": "1502129"
  },
  {
    "text": "you know we run spark in a cluster but",
    "start": "1502129",
    "end": "1505159"
  },
  {
    "text": "to further the AWS advantage here why",
    "start": "1505159",
    "end": "1509269"
  },
  {
    "text": "not run spark on EMR right why do you",
    "start": "1509269",
    "end": "1511340"
  },
  {
    "text": "have to run a master why do you have to",
    "start": "1511340",
    "end": "1512659"
  },
  {
    "text": "think about mesosphere zookeeper or",
    "start": "1512659",
    "end": "1514700"
  },
  {
    "text": "something else just let Amazon do all",
    "start": "1514700",
    "end": "1517129"
  },
  {
    "text": "that and analyze your data and have fun",
    "start": "1517129",
    "end": "1518929"
  },
  {
    "text": "with it okay so a couple final takeaways",
    "start": "1518929",
    "end": "1525529"
  },
  {
    "text": "here separating of concerns allows each",
    "start": "1525529",
    "end": "1529009"
  },
  {
    "text": "service to specialize does he alluded to",
    "start": "1529009",
    "end": "1531019"
  },
  {
    "text": "now that we have good separation we can",
    "start": "1531019",
    "end": "1534169"
  },
  {
    "text": "scale up as necessary and you know",
    "start": "1534169",
    "end": "1537019"
  },
  {
    "text": "reduce costs well right and then you",
    "start": "1537019",
    "end": "1540710"
  },
  {
    "text": "know self-service analytics is unlocking",
    "start": "1540710",
    "end": "1542779"
  },
  {
    "text": "the research potential of the entire",
    "start": "1542779",
    "end": "1545000"
  },
  {
    "text": "company right we have sales people",
    "start": "1545000",
    "end": "1547070"
  },
  {
    "text": "marketing people manufacturing people",
    "start": "1547070",
    "end": "1549080"
  },
  {
    "text": "operations people finance people user",
    "start": "1549080",
    "end": "1551450"
  },
  {
    "text": "experience people customer support",
    "start": "1551450",
    "end": "1553759"
  },
  {
    "text": "people everybody accessing this data now",
    "start": "1553759",
    "end": "1556309"
  },
  {
    "text": "and they're asking more and more",
    "start": "1556309",
    "end": "1557299"
  },
  {
    "text": "questions and we're starting to fit more",
    "start": "1557299",
    "end": "1559429"
  },
  {
    "text": "and more answers in there and now that",
    "start": "1559429",
    "end": "1563149"
  },
  {
    "text": "we actually don't have to write any code",
    "start": "1563149",
    "end": "1565820"
  },
  {
    "text": "to accept new data types we actually",
    "start": "1565820",
    "end": "1568039"
  },
  {
    "text": "have situations where developers are a",
    "start": "1568039",
    "end": "1570799"
  },
  {
    "text": "bug will come in from the customer",
    "start": "1570799",
    "end": "1572600"
  },
  {
    "text": "support team and they have no idea what",
    "start": "1572600",
    "end": "1574879"
  },
  {
    "text": "the heck's going on a developer will",
    "start": "1574879",
    "end": "1577100"
  },
  {
    "text": "write some code push it out and all of a",
    "start": "1577100",
    "end": "1579649"
  },
  {
    "text": "sudden we have this new data that shows",
    "start": "1579649",
    "end": "1581029"
  },
  {
    "text": "up in the pipeline the house allows us",
    "start": "1581029",
    "end": "1582919"
  },
  {
    "text": "to understand what the heck is actually",
    "start": "1582919",
    "end": "1584629"
  },
  {
    "text": "going on so and that's all done without",
    "start": "1584629",
    "end": "1586730"
  },
  {
    "text": "interaction from us we don't have to do",
    "start": "1586730",
    "end": "1588679"
  },
  {
    "text": "that anymore it just happens and that's",
    "start": "1588679",
    "end": "1590269"
  },
  {
    "text": "important part really right so Amazon",
    "start": "1590269",
    "end": "1593499"
  },
  {
    "text": "Kinesis gives us all the good streaming",
    "start": "1593499",
    "end": "1596629"
  },
  {
    "text": "that we want without having to do all",
    "start": "1596629",
    "end": "1598309"
  },
  {
    "text": "the DevOps overhead yeah it's a great",
    "start": "1598309",
    "end": "1601700"
  },
  {
    "text": "system yeah alright so that went faster",
    "start": "1601700",
    "end": "1606649"
  },
  {
    "text": "than I thought it'd go a little fast we",
    "start": "1606649",
    "end": "1609200"
  },
  {
    "text": "have a lot of time for questions but",
    "start": "1609200",
    "end": "1612259"
  },
  {
    "text": "most importantly actually you want go to",
    "start": "1612259",
    "end": "1614059"
  },
  {
    "text": "the next was the next one on there yes",
    "start": "1614059",
    "end": "1615469"
  },
  {
    "text": "please this is our first presentation",
    "start": "1615469",
    "end": "1617019"
  },
  {
    "text": "please evaluate us there's three simple",
    "start": "1617019",
    "end": "1620239"
  },
  {
    "text": "questions and I'm gonna ask you for a",
    "start": "1620239",
    "end": "1621709"
  },
  {
    "text": "favor there's also a very small text",
    "start": "1621709",
    "end": "1623929"
  },
  {
    "text": "input one or two sentences help us get",
    "start": "1623929",
    "end": "1626479"
  },
  {
    "text": "better right right",
    "start": "1626479",
    "end": "1630039"
  }
]