[
  {
    "start": "0",
    "end": "48000"
  },
  {
    "text": "it is the end of a very long day but in",
    "start": "0",
    "end": "5130"
  },
  {
    "text": "about two hours who here is coming to deadmau5 come on",
    "start": "5130",
    "end": "10710"
  },
  {
    "text": "raise your hands deadmau5 is the entertainment tonight we launched that at the we announced that at the at the",
    "start": "10710",
    "end": "17130"
  },
  {
    "text": "keynote this morning I'm hearing rumors of big 20-foot robots on stage it's",
    "start": "17130",
    "end": "23220"
  },
  {
    "text": "gonna be one heck of a show so I hope I hope you all make it no no no you're",
    "start": "23220",
    "end": "30060"
  },
  {
    "text": "good to go deadmau5 tonight big concert hall check your agenda we good everybody's coming",
    "start": "30060",
    "end": "36210"
  },
  {
    "text": "right everybody it's gonna be one heck of a show with robots alright let's talk",
    "start": "36210",
    "end": "41219"
  },
  {
    "text": "about snapshots and when we talk about snapshots we need to talk about EBS who here uses EBS on a regular basis",
    "start": "41219",
    "end": "47390"
  },
  {
    "text": "good good good while I've got you all in the room who here uses only PI ops for their database",
    "start": "47390",
    "end": "54660"
  },
  {
    "text": "workloads only PI ops for their database workloads so while I've got a bunch of",
    "start": "54660",
    "end": "60270"
  },
  {
    "text": "people that use EBS in the room we're gonna talk about that real quick if it's a structured data workload you use Pio",
    "start": "60270",
    "end": "66630"
  },
  {
    "text": "ops period done don't talk about it you",
    "start": "66630",
    "end": "72330"
  },
  {
    "text": "can say hey Craig it's a little bit more expensive and I'll say it's that much more expensive and that much better so",
    "start": "72330",
    "end": "78900"
  },
  {
    "text": "it's completely worth it so EBS is protected we protect that on the back end the average failure rate of an EBS",
    "start": "78900",
    "end": "86280"
  },
  {
    "text": "volume is 0.12 0.5% per year so it's",
    "start": "86280",
    "end": "91950"
  },
  {
    "text": "durable its protected that's roughly the same as say a raid 5 array in a device",
    "start": "91950",
    "end": "98009"
  },
  {
    "text": "in your office or on-premise is roughly what it's what is equivalent to",
    "start": "98009",
    "end": "103399"
  },
  {
    "start": "103000",
    "end": "363000"
  },
  {
    "text": "snapshots though are much more durable than point 1 to 0.5% per year snapshots",
    "start": "103399",
    "end": "111390"
  },
  {
    "text": "are stored in s3 which means they're stored on a system designed for 11 nines",
    "start": "111390",
    "end": "117000"
  },
  {
    "text": "of durability and 11/9 could be a hard number to wrap your head around what",
    "start": "117000",
    "end": "122159"
  },
  {
    "text": "that actually means is his view store 10,000 objects with us for 10 million",
    "start": "122159",
    "end": "127950"
  },
  {
    "text": "years there's a 50/50 chance we'll lose one of those objects so",
    "start": "127950",
    "end": "133580"
  },
  {
    "text": "three is durable okay and when we're looking at how durable is your data when",
    "start": "133580",
    "end": "138680"
  },
  {
    "text": "we're measuring the durability of your data and you're taking snapshots we say",
    "start": "138680",
    "end": "143930"
  },
  {
    "text": "data created on the volume since the last snapshot has a durability of X and",
    "start": "143930",
    "end": "149090"
  },
  {
    "text": "data created before the last snapshot has a durability of Y why is much much",
    "start": "149090",
    "end": "154550"
  },
  {
    "text": "higher than X so snapshots are important because they increase the durability of",
    "start": "154550",
    "end": "159800"
  },
  {
    "text": "your data and that is very important their differential which means they're",
    "start": "159800",
    "end": "164810"
  },
  {
    "text": "spaced sufficient the first snapshot you take is a clone every other snapshot you",
    "start": "164810",
    "end": "170930"
  },
  {
    "text": "take is an incremental which means if you've got 500 snapshots of the same",
    "start": "170930",
    "end": "176600"
  },
  {
    "text": "volume and you've never changed anything on that volume your cost is zero so you",
    "start": "176600",
    "end": "182810"
  },
  {
    "text": "don't need to worry about whether you're changing data whether you're modifying data you don't have to worry about that when you're going to take snapshots",
    "start": "182810",
    "end": "189170"
  },
  {
    "text": "because if you don't change anything on the volume we don't charge you anything okay and you say well Craig I've got",
    "start": "189170",
    "end": "195530"
  },
  {
    "text": "this big long list of snapshots and we're going to talk today about a project that you're all gonna help me",
    "start": "195530",
    "end": "200570"
  },
  {
    "text": "with to automate that process so you never have to deal with a snapshot manually again EBS is operates in a",
    "start": "200570",
    "end": "210410"
  },
  {
    "text": "single availability zone who here is really really good about making sure their applications are always in",
    "start": "210410",
    "end": "216200"
  },
  {
    "text": "multiple availability zones good that's very important EBS however runs in a",
    "start": "216200",
    "end": "223340"
  },
  {
    "text": "single availability zone which means if we lose an AZ which is possible the data",
    "start": "223340",
    "end": "228500"
  },
  {
    "text": "on that EBS volume is unavailable for the length of that loss but if you've",
    "start": "228500",
    "end": "234110"
  },
  {
    "text": "taken a snapshot and your snapshots five minutes old you can get to that five minute old data because s3 is not easy",
    "start": "234110",
    "end": "241160"
  },
  {
    "text": "independent so we just do a create volume - - snapshot and we have access",
    "start": "241160",
    "end": "246170"
  },
  {
    "text": "to that data a couple of seconds later so it's very important and we announced this year that you can copy snapshots",
    "start": "246170",
    "end": "252769"
  },
  {
    "text": "across regions and we copy the differential snapshots so if you're taking make a megabyte worth of change",
    "start": "252769",
    "end": "259459"
  },
  {
    "text": "and then do a cross region snapshot that copy only takes about a minute cuz you only made about a megabyte worth of",
    "start": "259459",
    "end": "265280"
  },
  {
    "text": "changes so it's quick so other reasons to take snapshots you",
    "start": "265280",
    "end": "271250"
  },
  {
    "text": "can version your application let's say your application is at version 1.2 today",
    "start": "271250",
    "end": "277099"
  },
  {
    "text": "and you're gonna run an upgrade to 1.3 right before the upgrade you take a snapshot that's me that gives you a",
    "start": "277099",
    "end": "284479"
  },
  {
    "text": "version controlled version that gives you an easy rollback plan an easy rollback method and it's really really",
    "start": "284479",
    "end": "292220"
  },
  {
    "text": "inexpensive so ROI not do it you should all have thousands and thousands of snapshots because they're incredibly cheap right the reason some of you don't",
    "start": "292220",
    "end": "299360"
  },
  {
    "text": "is cuz management's hard and we're gonna work on that and they're inexpensive right a snapshot cost less than EBS not",
    "start": "299360",
    "end": "305599"
  },
  {
    "text": "by much standard EBS and us East is ten cents per gig per month as threes nine and a",
    "start": "305599",
    "end": "311330"
  },
  {
    "text": "half cents if you're using PI ups it's a little bit more expensive which makes the snapshots even less expensive",
    "start": "311330",
    "end": "318009"
  },
  {
    "text": "managing an individual snapshot is easy we have a great web console the web console looks really well we have some",
    "start": "318009",
    "end": "323810"
  },
  {
    "text": "command line tools there's not a lot to it this is all you can do with a snapshot you create it you delete it and",
    "start": "323810",
    "end": "330289"
  },
  {
    "text": "recently we started giving the ability to copy it you do a couple of more things related to it you can create a",
    "start": "330289",
    "end": "336139"
  },
  {
    "text": "volume from a snapshot but this is about it so if you've got one or two snapshots",
    "start": "336139",
    "end": "341509"
  },
  {
    "text": "that's really really easy but what happens when you have thousands of them",
    "start": "341509",
    "end": "346669"
  },
  {
    "text": "what happens when you have a fleet of 5000 servers and for some reason you",
    "start": "346669",
    "end": "351889"
  },
  {
    "text": "want a snapshot of all the route volumes or you running 500 my sequel databases",
    "start": "351889",
    "end": "357620"
  },
  {
    "text": "and you want snapshots of all of those arrays that gets really complicated plus",
    "start": "357620",
    "end": "363770"
  },
  {
    "start": "363000",
    "end": "422000"
  },
  {
    "text": "snapshots are versions we talked about using them for version control their backups and backups and version control should have life cycles so your backups",
    "start": "363770",
    "end": "372319"
  },
  {
    "text": "should have grandfather father-son or maybe even more complex life cycles you should be able to maintain a certain",
    "start": "372319",
    "end": "378229"
  },
  {
    "text": "number of versions you should be able to say I want so many dailies so many weeklies and so many monthlies and because we can copy snapshots across",
    "start": "378229",
    "end": "385699"
  },
  {
    "text": "regions really easily you should have a life cycle that spans regions right we",
    "start": "385699",
    "end": "392870"
  },
  {
    "text": "can imagine a place where you on a regular basis snapshot a root volume copy it to another region create an arm",
    "start": "392870",
    "end": "401059"
  },
  {
    "text": "out of that snapshotted copy out of that copy of a snapshot and then launch that on me and we can imagine that that being a",
    "start": "401059",
    "end": "407569"
  },
  {
    "text": "regular part of your process that happens on a regular schedule as part of your multi region availability story you",
    "start": "407569",
    "end": "415879"
  },
  {
    "text": "also want to snapshot arrays and snap starting arrays can be complicated I want to talk a little bit about that so",
    "start": "415879",
    "end": "423139"
  },
  {
    "start": "422000",
    "end": "482000"
  },
  {
    "text": "what I introduced a project an open-source project we're gonna launch next week called arch arch will be",
    "start": "423139",
    "end": "428360"
  },
  {
    "text": "available at the AWS labs github repo this deck all of the sample code a demo",
    "start": "428360",
    "end": "434719"
  },
  {
    "text": "I'm gonna run through really quickly is all available in the deck and you'll all",
    "start": "434719",
    "end": "440089"
  },
  {
    "text": "get an email on Wednesday with access to the deck and the code and all the links and all that stuff so we'll get all that to you so this is an open source project",
    "start": "440089",
    "end": "447860"
  },
  {
    "text": "right now it exists as a prototype that implements most of the functionality but it's not ready for primetime we're gonna",
    "start": "447860",
    "end": "454370"
  },
  {
    "text": "collaborate with you the community on this and we're gonna start that process here tonight and then we're gonna extend",
    "start": "454370",
    "end": "460729"
  },
  {
    "text": "it going forward right hopefully a lot of you understand the open source model the idea of it that we published",
    "start": "460729",
    "end": "467449"
  },
  {
    "text": "something you clone it you submit a pull request to us we say hey those are some fantastic improvements we accept them",
    "start": "467449",
    "end": "474349"
  },
  {
    "text": "into the project and we iterate like that forever until we have a fantastic tool so we're gonna work on that",
    "start": "474349",
    "end": "480469"
  },
  {
    "text": "together it has two primary pieces it has arch arch takes snapshots and",
    "start": "480469",
    "end": "487520"
  },
  {
    "start": "482000",
    "end": "527000"
  },
  {
    "text": "manages the life cycles of that snapshots which essentially means it takes a snapshot determines whether that",
    "start": "487520",
    "end": "494240"
  },
  {
    "text": "snapshot should be copied to another region determines what snapshots have expired and then deletes the snapshots",
    "start": "494240",
    "end": "501559"
  },
  {
    "text": "that have expired pyrius is a command-line tool that makes it easier",
    "start": "501559",
    "end": "507490"
  },
  {
    "text": "to recover snapshots so the goal there is you start a command line tool it",
    "start": "507490",
    "end": "513229"
  },
  {
    "text": "gives you a list of all of your snapshots and you say I want to restore this snapshot to this instance at this mount point ok so one of the what are",
    "start": "513229",
    "end": "522529"
  },
  {
    "text": "the software principles I believe in is simplicity so we're gonna keep this as simple as possible and the way we can do",
    "start": "522529",
    "end": "529370"
  },
  {
    "start": "527000",
    "end": "607000"
  },
  {
    "text": "that is with tags tags are incredibly valuable who here uses tags on their resources",
    "start": "529370",
    "end": "534460"
  },
  {
    "text": "already that's great that's good so we use tags everywhere with arch so first",
    "start": "534460",
    "end": "541990"
  },
  {
    "text": "of all we don't want arch touching volumes it shouldn't touch so we have a tag that says arch manages this volume",
    "start": "541990",
    "end": "549670"
  },
  {
    "text": "all that means is that our code has something to filter on so it isn't touching all of your volumes it's only",
    "start": "549670",
    "end": "555190"
  },
  {
    "text": "touching the volumes you want it to second in this iteration is retention how long do you want us to keep the",
    "start": "555190",
    "end": "562300"
  },
  {
    "text": "snapshots of this volume okay is this volume a member of an array so arch and",
    "start": "562300",
    "end": "570220"
  },
  {
    "text": "retention are required values if it's a member of an array if you've created an MD admin array or an LV m2 array out of",
    "start": "570220",
    "end": "577420"
  },
  {
    "text": "this volume you're gonna say this is a member of an array and that string is slash dev slash MD 0 or MD 1 or",
    "start": "577420",
    "end": "584950"
  },
  {
    "text": "something like that it tells us what array that volume is is a member of and then if you want to copy across regions",
    "start": "584950",
    "end": "591640"
  },
  {
    "text": "what region do you want to copy that snapshot to okay one of the things I'm",
    "start": "591640",
    "end": "597370"
  },
  {
    "text": "hoping the community will help with is a format there to do multiple region copies so if you want a copy from the US",
    "start": "597370",
    "end": "602770"
  },
  {
    "text": "east to US west Andy us one how can we extend this to do that on snapshots we",
    "start": "602770",
    "end": "608860"
  },
  {
    "text": "keep quite a few tags another one to tell us that it's managed by arch the",
    "start": "608860",
    "end": "615130"
  },
  {
    "text": "source instance right where did this snapshot come from because right now if",
    "start": "615130",
    "end": "620620"
  },
  {
    "text": "you take a snapshot all you've got is snap - and then eight numbers and letters and that doesn't tell you much so we need to know where this snapshot",
    "start": "620620",
    "end": "627520"
  },
  {
    "text": "came from what device was it mounted as right we can get that programmatically",
    "start": "627520",
    "end": "633700"
  },
  {
    "text": "it can be useful in a couple of different places especially if we're gonna reassemble an array so programmatically we're adding these tags",
    "start": "633700",
    "end": "640330"
  },
  {
    "text": "and then the expire date we do that programmatically it's actually really",
    "start": "640330",
    "end": "645910"
  },
  {
    "text": "really simple we take the date and time that we took the snapshot we add the retention to it and that gives us the",
    "start": "645910",
    "end": "653140"
  },
  {
    "text": "expire date and it tells us when we can expire the volume the snapshot was the",
    "start": "653140",
    "end": "659410"
  },
  {
    "start": "658000",
    "end": "694000"
  },
  {
    "text": "snapshot a member of an array we need that information to put it back together and if we've copied this snapshot from",
    "start": "659410",
    "end": "667030"
  },
  {
    "text": "another region what region did we copy it from okay so we've got a quick demo and I want to",
    "start": "667030",
    "end": "674170"
  },
  {
    "text": "show you some of the code we were having AV issues so bear with us because",
    "start": "674170",
    "end": "686650"
  },
  {
    "text": "computers are hard alright there we go",
    "start": "686650",
    "end": "692880"
  },
  {
    "start": "694000",
    "end": "778000"
  },
  {
    "text": "so I'm gonna SSH into the instance if nobody uses this it's kind of cool it's something called duo push I kind of like",
    "start": "694620",
    "end": "701020"
  },
  {
    "text": "it so I SSH in they use this force command to prompt me with a prompt I press one I",
    "start": "701020",
    "end": "706540"
  },
  {
    "text": "get a little pop-up on my iPhone and I say yes I approve the login there we go",
    "start": "706540",
    "end": "713290"
  },
  {
    "text": "easy dual factor authentication it's free to a thousand logins a month so that's a duo security it's actually pretty neat alright so the demo is not",
    "start": "713290",
    "end": "724240"
  },
  {
    "text": "terribly exciting right arch starts what",
    "start": "724240",
    "end": "730480"
  },
  {
    "text": "it's doing is it's getting a list of all of the volumes in my account it's looking for a list that are managed and",
    "start": "730480",
    "end": "737020"
  },
  {
    "text": "it's taking snapshots of every managed snapshot I've every managed volume in my account I think it's gonna do two or",
    "start": "737020",
    "end": "745600"
  },
  {
    "text": "three I didn't want this to take too long we'll talk about that and talk",
    "start": "745600",
    "end": "752410"
  },
  {
    "text": "about that and then it deletes the snapshots okay we had a question does it",
    "start": "752410",
    "end": "758290"
  },
  {
    "text": "freeze the file system no it doesn't we have an architecture that will allow that and we're to talk about how we can",
    "start": "758290",
    "end": "764140"
  },
  {
    "text": "implement that so when we implement prototypes at AWS we do it at a really really high level with the easiest",
    "start": "764140",
    "end": "770590"
  },
  {
    "text": "language we can so this is done in bash at the moment so it's really easy to read that could not be easier right",
    "start": "770590",
    "end": "781300"
  },
  {
    "start": "778000",
    "end": "940000"
  },
  {
    "text": "and this manages the life cycles for tons and tons of volumes I'm using this code to manage my account and that's got",
    "start": "781300",
    "end": "788830"
  },
  {
    "text": "right now about 3,000 instances running in it and it takes snapshots and manage the snapshots and it delete snapshots so",
    "start": "788830",
    "end": "795160"
  },
  {
    "text": "we start off really easy we get everything that's managed by Arch",
    "start": "795160",
    "end": "801779"
  },
  {
    "text": "then we take a snapshot of it that's really easy then we create some tags on",
    "start": "802050",
    "end": "809440"
  },
  {
    "text": "it that's really easy then we build a string and we stick the expire date on",
    "start": "809440",
    "end": "815860"
  },
  {
    "text": "it and like I said the expire date is just today's date plus the retention that was on the volume so it's",
    "start": "815860",
    "end": "823570"
  },
  {
    "text": "incredibly straightforward and then we identify those snapshots by building today's day of year and the expire",
    "start": "823570",
    "end": "830080"
  },
  {
    "text": "target I'm gonna show you what the expire target looks like real quick",
    "start": "830080",
    "end": "836670"
  },
  {
    "text": "so it's going to snapshot I just took",
    "start": "855010",
    "end": "858959"
  },
  {
    "text": "look at the tags here we go so this is what it actually ends up looking like so",
    "start": "862889",
    "end": "869589"
  },
  {
    "text": "we've got it's managed by arch we have the source device and the source device is important because when we go to do a",
    "start": "869589",
    "end": "875079"
  },
  {
    "text": "restore we're gonna attempt to attach it as the same source device that can be",
    "start": "875079",
    "end": "880750"
  },
  {
    "text": "important if using MD admin or LVM - so that's why we're tagging it with the source device we have the expire date",
    "start": "880750",
    "end": "886930"
  },
  {
    "text": "the format on the expire date is very simple it's the year and the day of the year that we can expire the snapshot by",
    "start": "886930",
    "end": "894670"
  },
  {
    "text": "taking dates times and seconds out of it it makes it really really easy it doesn't mean you need to run the tool at",
    "start": "894670",
    "end": "899920"
  },
  {
    "text": "least once a day but there are ways that we can modify that so it's more flexible and I'm gonna talk to you guys about",
    "start": "899920",
    "end": "905320"
  },
  {
    "text": "what you want to see here right this is a collaboration and so I'm hoping that there are some of you let's ask the",
    "start": "905320",
    "end": "911019"
  },
  {
    "text": "question who here participates and get projects that are not their own aha that's good who's gonna help me with my",
    "start": "911019",
    "end": "917290"
  },
  {
    "text": "project their week everybody clap that's",
    "start": "917290",
    "end": "924010"
  },
  {
    "text": "good this isn't me being lazy this is me helping you help yourself that's what this is and I'm excited about it and",
    "start": "924010",
    "end": "929709"
  },
  {
    "text": "then the source instance right and on the sources this is important because it doesn't do you any good to just have a",
    "start": "929709",
    "end": "935079"
  },
  {
    "text": "snap you need to know where that snapshot came from and that's what's important ok so I want to start",
    "start": "935079",
    "end": "943319"
  },
  {
    "start": "940000",
    "end": "1104000"
  },
  {
    "text": "collaborating now right how many here use simple workflow to manage stuff how",
    "start": "943319",
    "end": "949839"
  },
  {
    "text": "many no that's not very many how many know that you can use simple workflow as an enterprise-class cron you use that",
    "start": "949839",
    "end": "957310"
  },
  {
    "text": "yes we have several people that use simple workflow it's an enterprise-class cron so this needs to run on a regular basis so we're gonna build it based on",
    "start": "957310",
    "end": "964810"
  },
  {
    "text": "craw based on simple workflow so with simple workflow we've got a bunch of choices",
    "start": "964810",
    "end": "970029"
  },
  {
    "text": "the first one is language we have Java Ruby and Python who here thinks this",
    "start": "970029",
    "end": "975790"
  },
  {
    "text": "should be written in Java yeah you're",
    "start": "975790",
    "end": "981370"
  },
  {
    "text": "you're standing alone aren't you who here thinks Ruby good I'm okay",
    "start": "981370",
    "end": "988870"
  },
  {
    "text": "with Ruby and who says Python Oh Oh Python it is Python it is so we'll write",
    "start": "988870",
    "end": "997360"
  },
  {
    "text": "this tool in Python how many people said let's ask some questions how many people",
    "start": "997360",
    "end": "1003660"
  },
  {
    "text": "have got how many people want snapshots of every root volume by default",
    "start": "1003660",
    "end": "1009440"
  },
  {
    "text": "how many would see value in ignoring the arch tag on root volumes and creating",
    "start": "1009440",
    "end": "1015930"
  },
  {
    "text": "snapshots for root volumes by default okay sum-sum how many of you have raid arrays",
    "start": "1015930",
    "end": "1024000"
  },
  {
    "text": "how many of you created arrays with MD admin ok alright let's talk about that",
    "start": "1024000",
    "end": "1029569"
  },
  {
    "text": "there's a concept of quiescing a file system so you have lots and lots of writes happening to your file system and",
    "start": "1029569",
    "end": "1036569"
  },
  {
    "text": "let's look at a database example you open up a page to write a page to disk",
    "start": "1036569",
    "end": "1042420"
  },
  {
    "text": "and we get half of that page written to disk and then we take a snapshot the",
    "start": "1042420",
    "end": "1048120"
  },
  {
    "text": "snapshot finishes and we write the rest of the page to disk when we go to use",
    "start": "1048120",
    "end": "1053309"
  },
  {
    "text": "that snapshot it is utterly and completely worthless to us and that's no good so we need to quiesce file systems",
    "start": "1053309",
    "end": "1060990"
  },
  {
    "text": "in order to do that how many of you use XFS everybody here who cares about",
    "start": "1060990",
    "end": "1067530"
  },
  {
    "text": "quiescing file system should be reusing XFS because it's the one popular open",
    "start": "1067530",
    "end": "1073020"
  },
  {
    "text": "source file system that we can quiesce with XFS so in order to quiesce with XFS",
    "start": "1073020",
    "end": "1078960"
  },
  {
    "text": "we need to coordinate we need to take our simple workflow that's managing our snapshots and we need an agent on every",
    "start": "1078960",
    "end": "1086760"
  },
  {
    "text": "machine that quiesce is the file system tells simple workflow to take the",
    "start": "1086760",
    "end": "1092160"
  },
  {
    "text": "snapshot and then releases the quiesce does that make sense to everybody",
    "start": "1092160",
    "end": "1097580"
  },
  {
    "text": "ok all right",
    "start": "1097580",
    "end": "1100909"
  },
  {
    "start": "1104000",
    "end": "1252000"
  },
  {
    "text": "so we can quiesce with with ext4 as well okay I can't keep up I apologize how",
    "start": "1104669",
    "end": "1111909"
  },
  {
    "text": "many people are doing quiescing now with something other than XFS so we have some people doing it okay good thank you I've",
    "start": "1111909",
    "end": "1117549"
  },
  {
    "text": "learned something thank you so we need to quiesce a raise of snapshots how many",
    "start": "1117549",
    "end": "1124690"
  },
  {
    "text": "people have an array more than six volumes Wow more than ten volumes is",
    "start": "1124690",
    "end": "1132519"
  },
  {
    "text": "that a PI ops array of ten volumes we should talk later because that's really fast okay so wait let's talk a little",
    "start": "1132519",
    "end": "1141549"
  },
  {
    "text": "bit what's that okay r8 six oh we should talk about parity base trade let's talk",
    "start": "1141549",
    "end": "1147880"
  },
  {
    "text": "real quickly so so my presentation is short I want to get you guys excited about the project and then we're gonna",
    "start": "1147880",
    "end": "1154330"
  },
  {
    "text": "publish it next week and you guys are all gonna start doing pool requests and gonna start improving on it so my presentation isn't super long let's talk",
    "start": "1154330",
    "end": "1161110"
  },
  {
    "text": "about parity base trade with EBS when you create an EBS volume you're going",
    "start": "1161110",
    "end": "1167740"
  },
  {
    "text": "against a piece of hardware somewhere you create another EBS volume you're",
    "start": "1167740",
    "end": "1173169"
  },
  {
    "text": "going against a piece of hardware somewhere there is a chance it's the same piece of hardware so when you",
    "start": "1173169",
    "end": "1179350"
  },
  {
    "text": "create a parity based raid array using EBS there's a chance that your data and",
    "start": "1179350",
    "end": "1186039"
  },
  {
    "text": "parity volumes are on the same piece of hardware and because of that chance",
    "start": "1186039",
    "end": "1191289"
  },
  {
    "text": "you cannot calculate the increased durability of your data with a parity",
    "start": "1191289",
    "end": "1196779"
  },
  {
    "text": "based raid if you can't calculate it you must assume that it is zero so you're",
    "start": "1196779",
    "end": "1203139"
  },
  {
    "text": "taking a performance hit for building a parity base raid and you cannot quantify",
    "start": "1203139",
    "end": "1208380"
  },
  {
    "text": "the increased data durability so it's our suggestion that you build raid zero",
    "start": "1208380",
    "end": "1215200"
  },
  {
    "text": "arrays don't worry about raid 5 don't worry about raid 10 don't worry about raid 6 build raid zero stripes they're",
    "start": "1215200",
    "end": "1222519"
  },
  {
    "text": "much much faster a raid zero stripe on a HPC instance can do 800 megabytes per",
    "start": "1222519",
    "end": "1230169"
  },
  {
    "text": "second to the EBS fleet we announced that a couple of weeks ago it's incredibly fast so don't worry about",
    "start": "1230169",
    "end": "1237400"
  },
  {
    "text": "garetty don't just do a raid zero right and then we'll quiesce it and snapshot it on a regular basis so I want to open",
    "start": "1237400",
    "end": "1244720"
  },
  {
    "text": "things up for questions before the deadmau5 concert any questions yes sir",
    "start": "1244720",
    "end": "1251070"
  },
  {
    "start": "1252000",
    "end": "1287000"
  },
  {
    "text": "so that's a that's a good question and I had to I had to noodle on that one for a little bit in my prototype if you look",
    "start": "1252750",
    "end": "1258730"
  },
  {
    "text": "we're doing expired a we're adding the current date to the date or we're adding",
    "start": "1258730",
    "end": "1265450"
  },
  {
    "text": "10 to the current date which means date converts it for us and I've tested that",
    "start": "1265450",
    "end": "1270640"
  },
  {
    "text": "so word wrap is handled so if I add a hundred to today's date it gives me 2014 as the year and 54 is the day so we",
    "start": "1270640",
    "end": "1277990"
  },
  {
    "text": "tested that all right other questions yes sir there there is there's a limit",
    "start": "1277990",
    "end": "1288580"
  },
  {
    "start": "1287000",
    "end": "1387000"
  },
  {
    "text": "of ten tags per resource what we could do is we could combine tags so I could",
    "start": "1288580",
    "end": "1294760"
  },
  {
    "text": "have a single tag that said arch and then I could say one colon the device colon the expire date colon the source",
    "start": "1294760",
    "end": "1301660"
  },
  {
    "text": "date colon who here uses enough tags already that us using six tags would be",
    "start": "1301660",
    "end": "1307480"
  },
  {
    "text": "a problem guess what's gonna happen when I publish this next week it's gonna be a",
    "start": "1307480",
    "end": "1313090"
  },
  {
    "text": "single tag for arch and I'm gonna call and separate all of the data does that work for everybody okay done that's why",
    "start": "1313090",
    "end": "1322270"
  },
  {
    "text": "collaboration is awesome and I'm gonna do it in Python so it's even better even",
    "start": "1322270",
    "end": "1328960"
  },
  {
    "text": "better although who here uses our new command-line tools I got to tell you those things are fantastic they're based",
    "start": "1328960",
    "end": "1335140"
  },
  {
    "text": "on Python so they're really really fast and is everybody familiar with this guy right here ok so that's the trick and",
    "start": "1335140",
    "end": "1344320"
  },
  {
    "text": "it's taking me a little while to get used to it JQ so there-there is a - - query option",
    "start": "1344320",
    "end": "1352840"
  },
  {
    "text": "and I haven't used it yet so you're saying that that's even better okay all right I'm learning things that's",
    "start": "1352840",
    "end": "1358180"
  },
  {
    "text": "fantastic as a matter of fact as a matter of fact hold on we're we're good",
    "start": "1358180",
    "end": "1364270"
  },
  {
    "text": "at it we're good at our jobs right you said - - query",
    "start": "1364270",
    "end": "1370890"
  },
  {
    "text": "so right now if I run this I get back a JSON document and a JSON documents",
    "start": "1370900",
    "end": "1376160"
  },
  {
    "text": "fantastic but trying to parse it and pipe it and do things with it and bash it stuff so you said - - query recent",
    "start": "1376160",
    "end": "1390680"
  },
  {
    "text": "versions okay well hold on hold on we're we're we're good at what we do right",
    "start": "1390680",
    "end": "1396730"
  },
  {
    "text": "BAM we're gonna try it again I love live",
    "start": "1396730",
    "end": "1407210"
  },
  {
    "text": "demos this is gonna crash and burn in a minute I just feel it deep in my soul so",
    "start": "1407210",
    "end": "1412220"
  },
  {
    "text": "while that's running and we try this out other questions yes sir what do you mean",
    "start": "1412220",
    "end": "1420650"
  },
  {
    "text": "a limited copy the question is how do I manage high rates of change and limited copy slot so my question is what do you",
    "start": "1420650",
    "end": "1425720"
  },
  {
    "text": "mean Limited copy slots that is a soft",
    "start": "1425720",
    "end": "1431990"
  },
  {
    "text": "limit so that is the default limit and lots of things that we do at Amazon have soft limits if you need that limit",
    "start": "1431990",
    "end": "1438350"
  },
  {
    "text": "raised come find me I'll give you my card we'll raise that limit for you all right so the number of simultaneous",
    "start": "1438350",
    "end": "1444020"
  },
  {
    "text": "volumes that you can copy to a another region is 5 again that's a soft limit",
    "start": "1444020",
    "end": "1449690"
  },
  {
    "text": "the same as when you all opened up your account for the very first time you could only run 20 instances you called",
    "start": "1449690",
    "end": "1454730"
  },
  {
    "text": "somebody we raise the limit we'll raise that limit for you as well we have a security requirement to completely",
    "start": "1454730",
    "end": "1460910"
  },
  {
    "text": "destroy instances at some period of time so let's just take a one-month period we're going to completely destroy an",
    "start": "1460910",
    "end": "1466640"
  },
  {
    "text": "instance and replace it with a new one running the similar type of workload let's use a database in this case sure",
    "start": "1466640",
    "end": "1471980"
  },
  {
    "text": "can we make that snapshot not tied to an instance but tied to some function hmm",
    "start": "1471980",
    "end": "1478160"
  },
  {
    "text": "that's really interesting so for general purpose of the question is yes and I",
    "start": "1478160",
    "end": "1484220"
  },
  {
    "text": "think I have a way to do it so the question is I I destroy my instances",
    "start": "1484220",
    "end": "1489320"
  },
  {
    "text": "every 30 days and I replace them with a similar instance and I do that for security reasons and that's a good",
    "start": "1489320",
    "end": "1494840"
  },
  {
    "text": "reason let's say your machines been route kitted if you have a policy that every instance disappears after after a",
    "start": "1494840",
    "end": "1500720"
  },
  {
    "text": "week the threats are this shrinks okay so in your case what I",
    "start": "1500720",
    "end": "1506360"
  },
  {
    "text": "would do is I would probably fork it and I would say instead of instanceid I would create a tag on those instances",
    "start": "1506360",
    "end": "1512210"
  },
  {
    "text": "that is the whatever it does right this is the instance that's doing this thing and I instead of copying instanceid I",
    "start": "1512210",
    "end": "1519260"
  },
  {
    "text": "would copy that tag to the snapshot does that make sense okay",
    "start": "1519260",
    "end": "1524300"
  },
  {
    "text": "hold on hold on oh all right I believe",
    "start": "1524300",
    "end": "1534620"
  },
  {
    "text": "you completely I do so looking for a",
    "start": "1534620",
    "end": "1542360"
  },
  {
    "text": "query option where it should be in the",
    "start": "1542360",
    "end": "1550850"
  },
  {
    "text": "repo it should be in the repo this is really not the forum for this at all",
    "start": "1550850",
    "end": "1556550"
  },
  {
    "text": "okay so it requires it requires a filter",
    "start": "1556550",
    "end": "1565910"
  },
  {
    "text": "so if you if you do query it requires a filter okay all right but similar to",
    "start": "1565910",
    "end": "1572930"
  },
  {
    "text": "take you all right all right so that's a good place to start we will look at we're not going to launch this in bash obviously I love bash bash is one of my",
    "start": "1572930",
    "end": "1579860"
  },
  {
    "text": "favorite languages error handling is just it's just a disaster so I will look at that thank you other questions yes",
    "start": "1579860",
    "end": "1586520"
  },
  {
    "text": "sir what's that sure sure so you're",
    "start": "1586520",
    "end": "1594860"
  },
  {
    "text": "gonna do an ec2 create snapshot and you're gonna get back a you're gonna get",
    "start": "1594860",
    "end": "1602600"
  },
  {
    "text": "back a the question is talk about the act of a tub how atomic are snapshots",
    "start": "1602600",
    "end": "1608090"
  },
  {
    "text": "and the answer is you issue the command and then when you get back the snapshot",
    "start": "1608090",
    "end": "1615800"
  },
  {
    "text": "ID when when we started sending you the snapshot ID is when we locked changes on",
    "start": "1615800",
    "end": "1622250"
  },
  {
    "text": "the on the snapshot that we're creating does that make sense",
    "start": "1622250",
    "end": "1626260"
  },
  {
    "text": "oh okay yeah that's quiescing the file system so you will need to quiesce the",
    "start": "1628429",
    "end": "1634999"
  },
  {
    "text": "file system so we do an X of s quiesce then we do a create snapshot then we do an X of s release the quiesce so",
    "start": "1634999",
    "end": "1657230"
  },
  {
    "text": "snapshots are crash consistent is the way to is the way to consider an EBS snapshot this crash consistency so I'd",
    "start": "1657230",
    "end": "1663289"
  },
  {
    "text": "have to understand why a filesystem quiesce wouldn't do it for you okay yeah so so let's assume you're gonna do",
    "start": "1663289",
    "end": "1669320"
  },
  {
    "text": "filesystem quiescing I think it's the way to solve that problem oh yeah let's",
    "start": "1669320",
    "end": "1679879"
  },
  {
    "start": "1677000",
    "end": "1789000"
  },
  {
    "text": "say I'm sorry I didn't explain filesystem quiescing really well so you've got a filesystem you're doing",
    "start": "1679879",
    "end": "1685129"
  },
  {
    "text": "lots and lots of i/o to it when you issue a quiesce command it starts sending IO weights up to the application",
    "start": "1685129",
    "end": "1692450"
  },
  {
    "text": "for writes reads continue the application starts to get IO waits ok",
    "start": "1692450",
    "end": "1697909"
  },
  {
    "text": "all of the buffers kernel buffer application buffers all of the buffers",
    "start": "1697909",
    "end": "1703220"
  },
  {
    "text": "get flushed down to the disk and then it doesn't f sync then we take a snapshot",
    "start": "1703220",
    "end": "1708549"
  },
  {
    "text": "then we release the quiesce so writes can start again that usually takes two",
    "start": "1708549",
    "end": "1715190"
  },
  {
    "text": "or three hundred milliseconds your application is going to handle it just fine that's a filesystem quiesce yes sir",
    "start": "1715190",
    "end": "1723789"
  },
  {
    "text": "I've been maintaining the open source project ec2 consistent snapshot",
    "start": "1723789",
    "end": "1731289"
  },
  {
    "text": "everybody clap",
    "start": "1731499",
    "end": "1734980"
  },
  {
    "text": "and yeah Eric right this is Eric Hammond I recognize his name because I used that",
    "start": "1738429",
    "end": "1744619"
  },
  {
    "text": "tool on a regular basis and I've learned a few things that customers and users of the tool want over the years and I look",
    "start": "1744619",
    "end": "1750109"
  },
  {
    "text": "happy to share them with you also easy to expire snapshots yes interesting yes it does Thank You Erin",
    "start": "1750109",
    "end": "1757279"
  },
  {
    "text": "but I'm happy to turn over the entire thing to somebody ready to Python please yes yes and so easy to consistent",
    "start": "1757279",
    "end": "1765349"
  },
  {
    "text": "snapshots if you wanted to do this today is the way to do it it's the conical tool for solving this problem right and",
    "start": "1765349",
    "end": "1772039"
  },
  {
    "text": "another thought shout out to the Ubuntu folks they wrote cloud in it cloud in it is the way that your instance works when",
    "start": "1772039",
    "end": "1779299"
  },
  {
    "text": "it launches it's the foundation behind cloud formation it's an incredible tool so again for the abuti project yes sir",
    "start": "1779299",
    "end": "1790070"
  },
  {
    "start": "1789000",
    "end": "1893000"
  },
  {
    "text": "only indirectly related to snapshots I've been running a dozen ec2 instances",
    "start": "1790070",
    "end": "1797119"
  },
  {
    "text": "for the last year and a half two years and two three weeks ago I got a message",
    "start": "1797119",
    "end": "1802159"
  },
  {
    "text": "from Amazon saying one of the instances was going to be retired mm-hmm in 36",
    "start": "1802159",
    "end": "1807289"
  },
  {
    "text": "hours and that was it 36 hours 36 hours okay so that's unusual let me explain",
    "start": "1807289",
    "end": "1812779"
  },
  {
    "text": "what happened your instance is running on a piece of hardware that's just the way it is right it's running on a piece",
    "start": "1812779",
    "end": "1818059"
  },
  {
    "text": "of hardware chances are a power supply went bad a drive died something went",
    "start": "1818059",
    "end": "1824450"
  },
  {
    "text": "wrong okay so if you get one of those notes and you're like yet 36 hours or",
    "start": "1824450",
    "end": "1829460"
  },
  {
    "text": "two weeks or a month I can't do it right everybody in this room has support basic",
    "start": "1829460",
    "end": "1836299"
  },
  {
    "text": "level support he covers this you open up a support case and you say I can't do it in 36 hours give me 30 days and what",
    "start": "1836299",
    "end": "1842899"
  },
  {
    "text": "we'll say to you is I hope please don't tell me I'm wrong what we'll say to you is okay but you're running a risk of a",
    "start": "1842899",
    "end": "1850489"
  },
  {
    "text": "spontaneous failure well the solution was to snapshot the attached volumes and",
    "start": "1850489",
    "end": "1856129"
  },
  {
    "text": "then I created an image yep from the the running instance and built another",
    "start": "1856129",
    "end": "1861200"
  },
  {
    "text": "instance from that image and everything fine there you go but I didn't get an explanation of why and so thank you yeah",
    "start": "1861200",
    "end": "1867480"
  },
  {
    "text": "yeah yeah so again we're providing a service we want to hide that from you but you are running on a piece of hardware ultimately and that's what",
    "start": "1867480",
    "end": "1873780"
  },
  {
    "text": "happened that's what broke yeah",
    "start": "1873780",
    "end": "1889580"
  },
  {
    "start": "1893000",
    "end": "2002000"
  },
  {
    "text": "you you could have done that too if you gone to to stop the instance or shutdown the instance and then started it again",
    "start": "1893210",
    "end": "1899669"
  },
  {
    "text": "that would have moved it as well if it's CVS backed if it's CVS better what's",
    "start": "1899669",
    "end": "1906210"
  },
  {
    "text": "that yeah you can absolutely do that in classic this again all EBS back to",
    "start": "1906210",
    "end": "1912570"
  },
  {
    "text": "volumes absolutely all the time yeah instance backed you can't snapshot an instant who here uses a lot of instance",
    "start": "1912570",
    "end": "1919260"
  },
  {
    "text": "back to volumes instance back snapshots not a lot we don't see it a lot it has some use cases the spot market it's",
    "start": "1919260",
    "end": "1925679"
  },
  {
    "text": "popular in the spot market let me ask a question chance gentle that how many people think that there is value in",
    "start": "1925679",
    "end": "1933169"
  },
  {
    "text": "whenever we snapshot a root volume with this tool we automatically turn it into",
    "start": "1933169",
    "end": "1938909"
  },
  {
    "text": "an army and put it in your list of private armies so you can restart it how many think that's valuable okay how many",
    "start": "1938909",
    "end": "1946890"
  },
  {
    "text": "think it should just be an option that you pass in on a tag done done alright",
    "start": "1946890",
    "end": "1954779"
  },
  {
    "text": "yes sir oh oh so there's here we have a requirement now we want to take a",
    "start": "1954779",
    "end": "1962159"
  },
  {
    "text": "snapshot copy it to another region turn it into an army in that region so we can",
    "start": "1962159",
    "end": "1968669"
  },
  {
    "text": "absolutely do that as well done yes sir how do you propose handling quiescing",
    "start": "1968669",
    "end": "1973860"
  },
  {
    "text": "applications such as databases so that's a that's a really good question Eric's project quiesce is I believe my",
    "start": "1973860",
    "end": "1980850"
  },
  {
    "text": "sequel and MongoDB is that that's it right right right so I think what will happen is we'll",
    "start": "1980850",
    "end": "1987270"
  },
  {
    "text": "build the tool in a way that you can add hooks to quiesce various applications and then the community will say oh I",
    "start": "1987270",
    "end": "1996090"
  },
  {
    "text": "want to hook for this submit a pull request and I'll pull it in does that work yes it's perfect done",
    "start": "1996090",
    "end": "2001520"
  },
  {
    "text": "yes sir so you started this talk talking about the fr for EBS volumes yes and but",
    "start": "2001520",
    "end": "2010730"
  },
  {
    "start": "2002000",
    "end": "2169000"
  },
  {
    "text": "what about availability of individual volumes where the availability of an",
    "start": "2010730",
    "end": "2018440"
  },
  {
    "text": "individual volume is equal to the availability of the availability zone it runs in and we do not have an SLA around the",
    "start": "2018440",
    "end": "2025580"
  },
  {
    "text": "availability of an availability zone say",
    "start": "2025580",
    "end": "2030680"
  },
  {
    "text": "that three times fast does that answer your question well I think you know we're building a large raid zero arrays",
    "start": "2030680",
    "end": "2038120"
  },
  {
    "text": "if one going out to lunch you know it hurts sure yes yes it does yes it does",
    "start": "2038120",
    "end": "2044390"
  },
  {
    "text": "so the availability so the easy answer",
    "start": "2044390",
    "end": "2049790"
  },
  {
    "text": "here is and it gets a little bit more complicated in the details but the easy answer is that an EBS volume will be",
    "start": "2049790",
    "end": "2054800"
  },
  {
    "text": "available as long as the availability zone is available there are very very",
    "start": "2054800",
    "end": "2060230"
  },
  {
    "text": "few failure scenarios where and of where a volume becomes unavailable",
    "start": "2060230",
    "end": "2066649"
  },
  {
    "text": "but the data isn't lost does that make sense it's either available or completely failed so can you quantify",
    "start": "2066650",
    "end": "2073450"
  },
  {
    "text": "very very few when you quantify very very small AFR the lot that the party",
    "start": "2073450",
    "end": "2081679"
  },
  {
    "text": "line is that the availability of an EBS volume is equal to the availability of the availability zone in which it",
    "start": "2081680",
    "end": "2087740"
  },
  {
    "text": "resides it's more of a light switch yes absolutely one volume okay absolutely thank you good thank you",
    "start": "2087740",
    "end": "2095110"
  },
  {
    "text": "what's that you should leave now thank",
    "start": "2095110",
    "end": "2100640"
  },
  {
    "text": "you please please feel free to exit the door yes we are constantly constantly",
    "start": "2100640",
    "end": "2108600"
  },
  {
    "text": "constantly working to improve our services and I can assure you that that",
    "start": "2108600",
    "end": "2113970"
  },
  {
    "text": "was a motivating factor and we wrote a great big outage report it's actually if",
    "start": "2113970",
    "end": "2120480"
  },
  {
    "text": "you guys are sort of infrastructure geeks search for the outage report it's about three pages long we expose lots of",
    "start": "2120480",
    "end": "2125760"
  },
  {
    "text": "details about the way that we operate and the things that we were doing to fix it okay yes sir we use LVM and we",
    "start": "2125760",
    "end": "2132630"
  },
  {
    "text": "regularly restore the entire volume group but not an individual disk would it be possible to add a tag for the",
    "start": "2132630",
    "end": "2137790"
  },
  {
    "text": "volume group yeah I would think if we",
    "start": "2137790",
    "end": "2143850"
  },
  {
    "text": "were doing LVM restores who here uses md admin for a raise and who uses LVM",
    "start": "2143850",
    "end": "2150620"
  },
  {
    "text": "alright so it's a mix I can't imagine a I think we would only support volume",
    "start": "2150620",
    "end": "2156060"
  },
  {
    "text": "groups I don't know why we would support individual disks okay yeah yeah I think you're good then so the question was in",
    "start": "2156060",
    "end": "2161970"
  },
  {
    "text": "the details of how we'll handle rebuilding a raised with LVM - the answer is we'll make it fairly easy to",
    "start": "2161970",
    "end": "2167730"
  },
  {
    "text": "do yes sir so when you take a snapshot what happens when you know the subject",
    "start": "2167730",
    "end": "2174000"
  },
  {
    "start": "2169000",
    "end": "2286000"
  },
  {
    "text": "is still in progress and you know data changed in the volume right I'm very curious to know like what really happens",
    "start": "2174000",
    "end": "2180510"
  },
  {
    "text": "behind the scenes let's say you're you're 90 percent of progress and then you change like I don't know 80 percent",
    "start": "2180510",
    "end": "2187080"
  },
  {
    "text": "of your the contents of your disk I mean yeah what would I find in the snapshot oh the snapshot is consistent at the",
    "start": "2187080",
    "end": "2194790"
  },
  {
    "text": "time you issue the snapshot command so you would not see the new data in the",
    "start": "2194790",
    "end": "2200280"
  },
  {
    "text": "snapshot so let's say that a snapshot takes an hour you take a snapshot at one o'clock and it finishes at 2:00 p.m.",
    "start": "2200280",
    "end": "2206610"
  },
  {
    "text": "changes between 1 o'clock and 2 p.m. will not appear in the snapshot right",
    "start": "2206610",
    "end": "2213060"
  },
  {
    "text": "yeah but they're just written to EBS all right yeah you want to know how we make",
    "start": "2213060",
    "end": "2219480"
  },
  {
    "text": "snapshots work no I mean yeah I'd love to we're we're hiring",
    "start": "2219480",
    "end": "2227660"
  },
  {
    "text": "it's awesome yeah you know so if the if",
    "start": "2227660",
    "end": "2235190"
  },
  {
    "text": "the data is not copied yet with a three I mean so and if I delete the data from",
    "start": "2235190",
    "end": "2240949"
  },
  {
    "text": "the volume I mean I really don't expect to find it in my snapshot you see what I mean yeah so I mean this is true right you",
    "start": "2240949",
    "end": "2248539"
  },
  {
    "text": "know you you take a snapshot at 1:00 p.m. you delete a whole bunch of data",
    "start": "2248539",
    "end": "2254390"
  },
  {
    "text": "and ten minutes later the snapshot finishes you will find that data in the snapshot okay it's also oh yeah somebody",
    "start": "2254390",
    "end": "2264979"
  },
  {
    "text": "yelled out the answer earlier yeah so so",
    "start": "2264979",
    "end": "2272869"
  },
  {
    "text": "go to Wikipedia look up what he said cuz I can't say it and that will explain to you how how snapshots kind of work that",
    "start": "2272869",
    "end": "2278719"
  },
  {
    "text": "will explain to you how snapshots appear to work for you it's a functional explanation for everybody in this room",
    "start": "2278719",
    "end": "2284599"
  },
  {
    "text": "how about that yes sir so I come from a health care company that we have to",
    "start": "2284599",
    "end": "2290059"
  },
  {
    "text": "store a lot of patient data as securely and one of the things I'd love to see with this is some way to tag it and have",
    "start": "2290059",
    "end": "2296150"
  },
  {
    "text": "it automatically go to glacier because you have these large file systems that you have to keep on file for seven years",
    "start": "2296150",
    "end": "2301699"
  },
  {
    "text": "and I'd love it to automatically be able to go in a glacier versus individually putting that ami to Glacier myself so",
    "start": "2301699",
    "end": "2309349"
  },
  {
    "text": "writing snapshots to glacier is something we hear from a lot of customers and I'll pass your feedback",
    "start": "2309349",
    "end": "2314390"
  },
  {
    "text": "along to the EBS team thank you thank you yes sir what a wonderful opportunity to ask a question and I come from an",
    "start": "2314390",
    "end": "2322640"
  },
  {
    "text": "environment that's about half windows half Linux is does anyone else in this room have any interest in having DSS",
    "start": "2322640",
    "end": "2328789"
  },
  {
    "text": "quiesce as part of this I I don't know how to write a VSS",
    "start": "2328789",
    "end": "2336980"
  },
  {
    "text": "provider okay I have looked at it it appears to be arcane and horribly",
    "start": "2336980",
    "end": "2342110"
  },
  {
    "text": "documented and I'm not a windows guy sure if somebody in the community wants",
    "start": "2342110",
    "end": "2347570"
  },
  {
    "text": "to write a VSS provider I'd be all about it I'd encourage it I think it would be great",
    "start": "2347570",
    "end": "2352690"
  },
  {
    "text": "yep yeah yeah so so just see it's just",
    "start": "2352690",
    "end": "2358130"
  },
  {
    "text": "so everybody knows to quiesce a filesystem in Windows you have to have something called a VSS virtual shadows",
    "start": "2358130",
    "end": "2367720"
  },
  {
    "text": "volume shadow service I'm hearing I'm hearing no this room can't agree okay",
    "start": "2367720",
    "end": "2372970"
  },
  {
    "text": "you need a VSS provider right and the the documentation for writing VSS",
    "start": "2372970",
    "end": "2378980"
  },
  {
    "text": "providers is fairly arcane but if anybody wants to take a shot at it I'm happy to redistribute it yes sir we're",
    "start": "2378980",
    "end": "2385940"
  },
  {
    "text": "running a MongoDB shard so we have a  s server a config server and then",
    "start": "2385940",
    "end": "2391220"
  },
  {
    "text": "the the replica set you know to the replica said how would we quiesce all of those volumes at the same exact time so",
    "start": "2391220",
    "end": "2397520"
  },
  {
    "text": "simple workflow is fantastic at that that's what simple workflow does is coordinating lots and lots of jobs so",
    "start": "2397520",
    "end": "2404500"
  },
  {
    "text": "what would happen is say 10 seconds before you wanted to quiesce everything you make sure the time on all the",
    "start": "2404500",
    "end": "2409970"
  },
  {
    "text": "machines were the same and simple workflow would say to those machines at this time quiesce snapshot released the",
    "start": "2409970",
    "end": "2417890"
  },
  {
    "text": "quiesce go and simple workflow will coordinate that globally or within a",
    "start": "2417890",
    "end": "2423470"
  },
  {
    "text": "region so yes we can absolutely do that that would be inherent in the process but yes sir",
    "start": "2423470",
    "end": "2429800"
  },
  {
    "text": "so I've got a Postgres database running on ec2 you move that to RDS tomorrow",
    "start": "2429800",
    "end": "2435860"
  },
  {
    "text": "right yes a post-grad sequel Ferrari yes this morning that's wonderful and all",
    "start": "2435860",
    "end": "2445340"
  },
  {
    "text": "but the limits of that are 30,000 I option we might exceed that so we'll see that's hot stuff beside the point",
    "start": "2445340",
    "end": "2454310"
  },
  {
    "text": "so you suggested do raid0 raised on top of BBS that's great",
    "start": "2454310",
    "end": "2459980"
  },
  {
    "text": "and all but obviously you exponentially increase your failure rate yesterday and it says somebody else mentioned and that",
    "start": "2459980",
    "end": "2465590"
  },
  {
    "text": "really freaks me out for a production database what do you suggest snapshots well of snapshots of production",
    "start": "2465590",
    "end": "2472340"
  },
  {
    "text": "transactional data kind of get all right Sophie so here's Pierce and I'm doing an NFS and sifts talk tomorrow we're gonna",
    "start": "2472340",
    "end": "2479930"
  },
  {
    "text": "talk about this architectures an architecture I like where you take for example ephemeral drives really fast",
    "start": "2479930",
    "end": "2485930"
  },
  {
    "text": "ephemeral drives I imagine those new I to instances 350,000 for ki ops per",
    "start": "2485930",
    "end": "2492260"
  },
  {
    "text": "second incredibly fast but they're not very durable so we need a way to increase the durability I use dr BD does",
    "start": "2492260",
    "end": "2499609"
  },
  {
    "text": "anybody else here use dr BD okay I use dr BD in C mode which is a synchronous replication from my really",
    "start": "2499609",
    "end": "2506510"
  },
  {
    "text": "fast EBS my PI ops to slower EBS and then I snapshot the slower EBS that",
    "start": "2506510",
    "end": "2513490"
  },
  {
    "text": "asynchronous replication on a hi2 hi1",
    "start": "2513490",
    "end": "2519260"
  },
  {
    "text": "I can't get it to run any more than about 15 seconds behind so that would",
    "start": "2519260",
    "end": "2526040"
  },
  {
    "text": "expose you to 15 seconds of potential data loss but then you have two copies",
    "start": "2526040",
    "end": "2531170"
  },
  {
    "text": "on two different sets the EBS volumes and you can snapshot the second one so dear buddy right obviously running",
    "start": "2531170",
    "end": "2537109"
  },
  {
    "text": "through different availability zone yes yes absolutely absolutely different availability zone yes yes all right",
    "start": "2537109",
    "end": "2542810"
  },
  {
    "text": "thank you yes sir",
    "start": "2542810",
    "end": "2547240"
  },
  {
    "text": "no you are not so the question is if I if I take a snapshot of a volume of PI",
    "start": "2553750",
    "end": "2560170"
  },
  {
    "text": "ops volume am i eating into my available P I ops during the process you are not",
    "start": "2560170",
    "end": "2567550"
  },
  {
    "text": "you are going to get a little bit of a slowdown okay probably 5% ish of a",
    "start": "2567550",
    "end": "2573369"
  },
  {
    "text": "slowdown but that doesn't count against your SLA and you still have all of your AI ops available okay if you really",
    "start": "2573369",
    "end": "2580420"
  },
  {
    "text": "really need a certain performance even during snapshots over-provision your PI ops by about 10% and then you're then",
    "start": "2580420",
    "end": "2588190"
  },
  {
    "text": "you'll be good alright yes sir sure sure",
    "start": "2588190",
    "end": "2595570"
  },
  {
    "text": "sure sure sure sure sure sure sure so I don't have something complete enough to",
    "start": "2595570",
    "end": "2600730"
  },
  {
    "text": "show the idea is that we want to make it easier to restore specifically arrays so",
    "start": "2600730",
    "end": "2606880"
  },
  {
    "text": "this is fairly simple it the command line tool that's going to allow you to restore a raise doesn t see to describe",
    "start": "2606880",
    "end": "2613750"
  },
  {
    "text": "snapshots gets a unique list of instant of source instances and source arrays",
    "start": "2613750",
    "end": "2620470"
  },
  {
    "text": "and then it says I have array md0 from instant so-and-so",
    "start": "2620470",
    "end": "2625930"
  },
  {
    "text": "- what instance would you like to restore it and it gives you a list of all of your instances you pick one you",
    "start": "2625930",
    "end": "2632410"
  },
  {
    "text": "press enter and it attaches all of those arrays all of those volumes and then does an MD admin scan create so that's",
    "start": "2632410",
    "end": "2642220"
  },
  {
    "text": "the way that that would work the goal is to make it easier to restore a raise of snapshots does that make sense",
    "start": "2642220",
    "end": "2649480"
  },
  {
    "text": "okay but dead mouse is in 1 hour and 45",
    "start": "2649480",
    "end": "2655869"
  },
  {
    "text": "minutes so it's time to wrap this up other questions guys no we're good thank you all very very much for your time",
    "start": "2655869",
    "end": "2663420"
  },
  {
    "text": "give me a couple of minutes I'll be out front for questions",
    "start": "2665339",
    "end": "2670109"
  }
]