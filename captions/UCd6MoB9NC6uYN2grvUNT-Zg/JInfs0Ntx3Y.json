[
  {
    "text": "all right that sounds like it's working we've got a fair bit of content to get through so we'll get stuck straight into",
    "start": "290",
    "end": "6870"
  },
  {
    "text": "it hopefully you're all in the right place we're here to learn about how to run production workloads on spot and",
    "start": "6870",
    "end": "12960"
  },
  {
    "text": "save up to 90% my name is Boyd McGee key I'm a senior product manager in the ec2 team focused on spot instances I'm lucky",
    "start": "12960",
    "end": "20670"
  },
  {
    "text": "enough to be joined today by Scott and Gabriel from Citadel and MercadoLibre to talk about how they have adopted spot",
    "start": "20670",
    "end": "26939"
  },
  {
    "text": "and how they leverage it in production workloads so hopefully there's an opportunity for you to learn not only",
    "start": "26939",
    "end": "32189"
  },
  {
    "text": "from me but from some of those who have already treaded on the path that we're talking about here today so the agenda",
    "start": "32189",
    "end": "39710"
  },
  {
    "text": "no admin so we're just going to start with fundamentals of spot and some of the common use cases I'm going to take",
    "start": "39710",
    "end": "45360"
  },
  {
    "text": "about 10 15 minutes time here to take you through some of that before I pass it over to Scott to take you through",
    "start": "45360",
    "end": "51239"
  },
  {
    "text": "their Citadel journey and then he'll pass it on to Gabrielle to take you through the mikado deliberate journey of leveraging spot in production and a",
    "start": "51239",
    "end": "57539"
  },
  {
    "text": "couple of different types of workloads to learn from there so let's jump in the fundamentals of spot well while I'm the",
    "start": "57539",
    "end": "64890"
  },
  {
    "text": "spot product manager and I hope you come away from this session recognizing that spot is potentially more broadly",
    "start": "64890",
    "end": "71070"
  },
  {
    "text": "applicable and you thought walking in I'm not going to tell you that it's useful for every possible type of",
    "start": "71070",
    "end": "76590"
  },
  {
    "text": "workload we have multiple purchase options and we do recommend you leverage all three of them wherever possible",
    "start": "76590",
    "end": "82650"
  },
  {
    "text": "so first on demand instances right I think most people are aware of what on-demand instances are that's how most",
    "start": "82650",
    "end": "87659"
  },
  {
    "text": "people get started with ec2 you turn on an instance you're paid by the second when you don't want it anymore you turn",
    "start": "87659",
    "end": "93240"
  },
  {
    "text": "it off and we stopped charging you a second later you know it's ideal for",
    "start": "93240",
    "end": "98400"
  },
  {
    "text": "getting started when you're building a net new application or just getting started with ec2 and great for spiky",
    "start": "98400",
    "end": "104009"
  },
  {
    "text": "workloads are that a staple right potentially not fault tolerant workloads then we have reserved instances and",
    "start": "104009",
    "end": "110070"
  },
  {
    "text": "reserved instances the idea is for customers to be able to say well hey this workload isn't necessarily that",
    "start": "110070",
    "end": "115590"
  },
  {
    "text": "spiky so I don't need all the elasticity that on demand provides and what I'm going to do Amazon I'm gonna commit to",
    "start": "115590",
    "end": "121649"
  },
  {
    "text": "keep using this instance for the next one to three years and in return I would like a discount and so what a reserved",
    "start": "121649",
    "end": "128069"
  },
  {
    "text": "instance offers you is up to 70% off the price of an on demand instance based on",
    "start": "128069",
    "end": "133349"
  },
  {
    "text": "your commitment to continue using that instance great for where you have a base level of work you know a steady-state workload or",
    "start": "133349",
    "end": "139440"
  },
  {
    "text": "things like databases where you're probably not going to turn them off all that often and obviously not necessarily",
    "start": "139440",
    "end": "145080"
  },
  {
    "text": "something that scales in a horizontal manner and then finally obviously the focus of today's presentation spot",
    "start": "145080",
    "end": "151200"
  },
  {
    "text": "instances spot instances are ideal for fault tolerant stateless or time insensitive workloads and obviously can",
    "start": "151200",
    "end": "158580"
  },
  {
    "text": "save you up to 90% so what is spot else what is truly our spare capacity there's",
    "start": "158580",
    "end": "165000"
  },
  {
    "text": "no minimum or maximum we keep available on spot however to deliver the elasticity that you expect from",
    "start": "165000",
    "end": "171239"
  },
  {
    "text": "on-demand it's necessary for us to have spare capacity and so when on-demand customers aren't using that capacity",
    "start": "171239",
    "end": "177239"
  },
  {
    "text": "it's available for spot customers to leverage and obviously the caveat being how we're able to give you that up to",
    "start": "177239",
    "end": "183180"
  },
  {
    "text": "90% discount is to say well when we do need the capacity back from you for on-demand customers we give you a",
    "start": "183180",
    "end": "189450"
  },
  {
    "text": "two-minute warning and then we take that server back off you and so that's the the sort of arrangement that you need to",
    "start": "189450",
    "end": "195480"
  },
  {
    "text": "be comfortable with in using spot instances so you know some things about",
    "start": "195480",
    "end": "200489"
  },
  {
    "text": "spot obviously it's low price low price shouldn't necessarily be used only when you're looking to do cost savings we see",
    "start": "200489",
    "end": "207120"
  },
  {
    "text": "a lot of people adopt spot instances because they might be happy with what they're spending but they recognize I",
    "start": "207120",
    "end": "212220"
  },
  {
    "text": "could actually do five to ten times more while spending the same amount of money if I adopt spot you know obviously in",
    "start": "212220",
    "end": "217829"
  },
  {
    "text": "that the big data and analytics space this is a place we see a lot of customers just trying to do a lot more",
    "start": "217829",
    "end": "222989"
  },
  {
    "text": "with the same amount of money easy access so what I'm trying to talk about here spot used to be a system where",
    "start": "222989",
    "end": "230040"
  },
  {
    "text": "you'd need to go and learn some unique api's that have different behavior potentially different semantics in them",
    "start": "230040",
    "end": "236010"
  },
  {
    "text": "over the last couple of years we've been invested in making spot available where you launch instances today and enabling",
    "start": "236010",
    "end": "242400"
  },
  {
    "text": "best practices through those api's as well so spot instances is now available in run instances it has been for over 12",
    "start": "242400",
    "end": "248639"
  },
  {
    "text": "months you just specify spot and all of a sudden we're launching spot instances a couple of weeks ago we integrated the",
    "start": "248639",
    "end": "255660"
  },
  {
    "text": "fleet functionality which Scott will talk a little bit about into auto scaling groups as well so now if you're",
    "start": "255660",
    "end": "261510"
  },
  {
    "text": "using auto scaling groups it's possible to combine on-demand reserved and spot instances in a single ASG",
    "start": "261510",
    "end": "267540"
  },
  {
    "text": "and then finally one of the major benefits about spot not only you know is",
    "start": "267540",
    "end": "272760"
  },
  {
    "text": "it about the fact that we can save you up to 90% it's this idea that when you're using spot you truly have total",
    "start": "272760",
    "end": "278850"
  },
  {
    "text": "flexibility right just like on demand when you don't need it anymore you turn it off one second later we stopped",
    "start": "278850",
    "end": "284430"
  },
  {
    "text": "charging you but with spot when you'd launch that you know you're launching some of the cheapest compute possible",
    "start": "284430",
    "end": "290550"
  },
  {
    "text": "you're optimized by default so you have that flexibility to consume and use whatever you want whenever you want and",
    "start": "290550",
    "end": "296190"
  },
  {
    "text": "give it back to us when you don't need it anymore and we'll stop charging you and you're getting the best possible",
    "start": "296190",
    "end": "301200"
  },
  {
    "text": "rate for compute so we talked about",
    "start": "301200",
    "end": "306210"
  },
  {
    "text": "spare capacity and there's a point that I want to make which is very important spare capacity for Amazon is massive",
    "start": "306210",
    "end": "312830"
  },
  {
    "text": "when I talk about spare capacity like one of the ways that we can talk about",
    "start": "312830",
    "end": "317850"
  },
  {
    "text": "it is how much capacity customers are actually able to capture and take advantage of in the spot market and",
    "start": "317850",
    "end": "323460"
  },
  {
    "text": "since it's actually a story from Clemson University they did this over 18 months ago now so our capacity is dramatically",
    "start": "323460",
    "end": "328680"
  },
  {
    "text": "increased even since then but Clemson University was able to scale up to over 1.1 million concurrent V CPUs in a",
    "start": "328680",
    "end": "335700"
  },
  {
    "text": "single region in a single region they were able to turn on over a million concurrent V CPUs so if you think or",
    "start": "335700",
    "end": "342060"
  },
  {
    "text": "spot spare capacity so it might not have enough for me well if you have a workload that requires over a million",
    "start": "342060",
    "end": "347340"
  },
  {
    "text": "concurrent V CPUs please come see me after this I'd love to talk to you about it sounds very exciting but spare we have a lot of it but you",
    "start": "347340",
    "end": "356820"
  },
  {
    "text": "might say well Boyd I tried to launch 50 spot instances once or a hundred spot instances once and you only gave me 50",
    "start": "356820",
    "end": "362730"
  },
  {
    "text": "so what do you mean there's this huge amount of spare capacity well the one big thing we ask you to do for spot",
    "start": "362730",
    "end": "368790"
  },
  {
    "text": "instances which is different to on-demand or reserved is we ask you to be instance flexible because while we",
    "start": "368790",
    "end": "374730"
  },
  {
    "text": "never run out of spot capacity it is possible that a specific instance in a specific zone might not be available",
    "start": "374730",
    "end": "381150"
  },
  {
    "text": "there might not be enough available for you and so here we actually have sort of the distribution from Clemson they use",
    "start": "381150",
    "end": "387600"
  },
  {
    "text": "two excels and up third and fourth-generation instances you know see five s and M fives weren't even out at the time and that's how they were able",
    "start": "387600",
    "end": "394740"
  },
  {
    "text": "to achieve this tremendous scale and this is also how customers were able to run consistently in the spot market for",
    "start": "394740",
    "end": "401010"
  },
  {
    "text": "product and workloads by saying well hey if you don't have any c48 excels I can take some c-38 excels if I need to see four",
    "start": "401010",
    "end": "408390"
  },
  {
    "text": "8c creates sure if I got that wrong so you know that's the idea behind spot is being able to take advantage of these",
    "start": "408390",
    "end": "415740"
  },
  {
    "text": "capacity pools so finally some of the spot rules we call them simple because",
    "start": "415740",
    "end": "421950"
  },
  {
    "text": "they're a lot simpler than they used to be so first and foremost as I say spot is spare there is no minimum there is no",
    "start": "421950",
    "end": "428340"
  },
  {
    "text": "maximum and so we let market forces determine the price however the market",
    "start": "428340",
    "end": "433980"
  },
  {
    "text": "forces look at spot capacity over a long period of time and so you're not going to see dramatic changes in prices in",
    "start": "433980",
    "end": "439980"
  },
  {
    "text": "fact if you go look at the last 90 days of pricing history which is publicly available you'll see that spot prices",
    "start": "439980",
    "end": "445440"
  },
  {
    "text": "are pretty steady because the long-term supply and demand function doesn't actually change that dramatically and",
    "start": "445440",
    "end": "450660"
  },
  {
    "text": "then the other big thing for those of you who have been thinking about or exploring or using spot for a long time",
    "start": "450660",
    "end": "455900"
  },
  {
    "text": "beading is not a thing anymore you do not bet on spot instances you used two",
    "start": "455900",
    "end": "461070"
  },
  {
    "text": "years ago it's not a thing anymore you just request capacity if capacity is available we're going to give it to you",
    "start": "461070",
    "end": "466410"
  },
  {
    "text": "and the only reason we're going to take that capacity back off you these days is if we need to give it to an on-demand",
    "start": "466410",
    "end": "471990"
  },
  {
    "text": "customer right so one spot customer cannot kick out another spot customer you just request and we give it to you",
    "start": "471990",
    "end": "478770"
  },
  {
    "text": "if it's available at up to 90% off the the on-demand price and I keep saying up to the reality is you're going to say in",
    "start": "478770",
    "end": "485190"
  },
  {
    "text": "the range of 70 to 90 percent pretty consistently with spot instances over the price of on-demand and again we do",
    "start": "485190",
    "end": "491820"
  },
  {
    "text": "give you that two-minute warning when we need to take it back off you okay another big point when we talk about",
    "start": "491820",
    "end": "498120"
  },
  {
    "text": "spot we talk about save up to 90% but the caveat is interruptions can occur",
    "start": "498120",
    "end": "504240"
  },
  {
    "text": "and so we naturally spend a lot of time talking about interruptions interruptions interruptions and so you might get it in your head are they're",
    "start": "504240",
    "end": "510780"
  },
  {
    "text": "gonna take these servers off me all the time I'm never gonna be able to finish my work I'm gonna turn it on in 20 minutes later Amazon's going to take it",
    "start": "510780",
    "end": "516419"
  },
  {
    "text": "off me the reality is and that's what this stat is saying over 95% of the time",
    "start": "516420",
    "end": "522419"
  },
  {
    "text": "customers finished their own work and turn the spot instances off themselves right so less than 5% of the time is",
    "start": "522420",
    "end": "529350"
  },
  {
    "text": "Amazon actually interrupting customers so to use spot instances you must be",
    "start": "529350",
    "end": "535440"
  },
  {
    "text": "prepared and able to handle an interruption do not confuse that with this idea that it's going to happen all",
    "start": "535440",
    "end": "541650"
  },
  {
    "text": "the time over 95% of the time customers finish their work and turn instances off themselves finally let's talk about some",
    "start": "541650",
    "end": "551160"
  },
  {
    "text": "common use cases before I hand over to Scott these are not this is not a comprehensive list and it's not meant to",
    "start": "551160",
    "end": "557490"
  },
  {
    "text": "be a comprehensive list but this is how if you say generally you know what are the workloads I should try and identify",
    "start": "557490",
    "end": "562830"
  },
  {
    "text": "as opportunities to leverage spot this is sort of the big four so first and",
    "start": "562830",
    "end": "568650"
  },
  {
    "text": "foremost big data big data is an example where you might actually have state on the instance but if that instance is",
    "start": "568650",
    "end": "575339"
  },
  {
    "text": "interrupted you don't lose data you just lose work the idea being you might have your sort of data lake in s3 or an HDFS",
    "start": "575339",
    "end": "582660"
  },
  {
    "text": "or somewhere else and if an instance that's been doing processing gets taken away we can just reprocess that work and",
    "start": "582660",
    "end": "588300"
  },
  {
    "text": "so remember over 95% of the time you're probably gonna finish your work and turn it off yourself and so if every now and",
    "start": "588300",
    "end": "594240"
  },
  {
    "text": "then you need to reprocess a little bit of work well it's up to you to decide is it worth saving up to 90 percent in",
    "start": "594240",
    "end": "600870"
  },
  {
    "text": "order to every now and then have to reprocess a small amount of data again",
    "start": "600870",
    "end": "606480"
  },
  {
    "text": "it's a common place as well where we see people able to take advantage of the price point and just do more with the",
    "start": "606480",
    "end": "611730"
  },
  {
    "text": "same amount right it's not necessarily about saving money for big data although you can you may find that hey with a",
    "start": "611730",
    "end": "617190"
  },
  {
    "text": "hundred bucks I can get ten times more capacity using spot C ICD hopefully this",
    "start": "617190",
    "end": "622890"
  },
  {
    "text": "is an intuitive one if you're doing tests and build servers hopefully you can handle a failure quite gracefully",
    "start": "622890",
    "end": "628740"
  },
  {
    "text": "because that's sort of the whole point of a testing system and deployment system and so a spot instance is just a",
    "start": "628740",
    "end": "633870"
  },
  {
    "text": "different type of failure that you need to handle when you're running a CI C D pipeline then web services now this",
    "start": "633870",
    "end": "640470"
  },
  {
    "text": "one's a little bit counterintuitive and I'm excited that we have Gabrielle to talk about Mikado libros example here because you might think well no my",
    "start": "640470",
    "end": "647760"
  },
  {
    "text": "website needs to be on 24 by 7 I couldn't possibly use spot you can't take a server off me well hands up if anybody's waited for a",
    "start": "647760",
    "end": "653940"
  },
  {
    "text": "web site to load more than two minutes in the last five years okay two people I",
    "start": "653940",
    "end": "659970"
  },
  {
    "text": "don't know why you're waiting that long for your website to load does depend on the website normally by",
    "start": "659970",
    "end": "665459"
  },
  {
    "text": "the time it's a minute past I think my Wi-Fi is broken I'm unplugging it I'm trying to work out what's going on so that two-minute warning that we talked",
    "start": "665459",
    "end": "671700"
  },
  {
    "text": "about with spot instances can be a lifetime for a stateless web service and if that instance is taking away well the",
    "start": "671700",
    "end": "678480"
  },
  {
    "text": "current request should complete and all future requests get routed gracefully to the other instances behind it so if",
    "start": "678480",
    "end": "684510"
  },
  {
    "text": "you're designing stateless scalable web services you might find you're able to adopt spot quite easily and then finally",
    "start": "684510",
    "end": "691260"
  },
  {
    "text": "high performance computing this is a very loaded term we find most people in the high-performance computing market",
    "start": "691260",
    "end": "697380"
  },
  {
    "text": "use spot for sort of grid you know high throughput computing workloads where it's loosely coupled and a single node",
    "start": "697380",
    "end": "704040"
  },
  {
    "text": "failing doesn't sort of destroy the entire cluster and I'm happy to say that Scott's going to talk a little bit about",
    "start": "704040",
    "end": "709320"
  },
  {
    "text": "Citadel's experience running these loosely coupled workloads on spot instance as well similar to Big Data",
    "start": "709320",
    "end": "715649"
  },
  {
    "text": "often times when an interruption does occur it's just a matter of quickly reprocessing and ideally that the time",
    "start": "715649",
    "end": "722610"
  },
  {
    "text": "again in which you lose is is not important versus the up to 90% savings",
    "start": "722610",
    "end": "727740"
  },
  {
    "text": "you're going to get and then finally this isn't a work load but I've got to talk about it",
    "start": "727740",
    "end": "733230"
  },
  {
    "text": "it's containers if you were using containers and I imagine a lot of you already have a container strategy if",
    "start": "733230",
    "end": "738660"
  },
  {
    "text": "you're not already using them in production containers a sense pot is a match made in heaven",
    "start": "738660",
    "end": "744060"
  },
  {
    "text": "the reason being containers can run here they can run there they can run anywhere so when I talk about instance",
    "start": "744060",
    "end": "749370"
  },
  {
    "text": "flexibility that's really easy with containers and the other nice thing is most of you have probably designed",
    "start": "749370",
    "end": "755160"
  },
  {
    "text": "modern software architectures as you've migrated applications into containers so you're probably scalable you're probably",
    "start": "755160",
    "end": "761250"
  },
  {
    "text": "fault tolerant you probably thought about all of these things and instance flexibility just comes out of the box with containers so spawn is ideal for",
    "start": "761250",
    "end": "769560"
  },
  {
    "text": "fault tolerant flexible loosely coupled or stateless workloads as you listen to",
    "start": "769560",
    "end": "776130"
  },
  {
    "text": "both Scott and Gabriel talk there you might not have the exact same workload but look for these commonalities in the",
    "start": "776130",
    "end": "782459"
  },
  {
    "text": "workloads and then go and look for them in the workloads that you run on premise oh sorry in the cloud today on AC 2 or",
    "start": "782459",
    "end": "788850"
  },
  {
    "text": "even if you're running them on premise and say well hey does my workload have some of these characteristics and if it does there's a good chance you can start",
    "start": "788850",
    "end": "795779"
  },
  {
    "text": "taking advantage of spot instances today Scott",
    "start": "795779",
    "end": "802100"
  },
  {
    "text": "good afternoon my name is Scott Donovan I'm a senior cloud engineer with Citadel Citadel is a multi-strategy hedge fund",
    "start": "813680",
    "end": "821430"
  },
  {
    "text": "founded in 1990 by Ken Griffin we currently have over 30 billion dollars",
    "start": "821430",
    "end": "827130"
  },
  {
    "text": "in assets under management and are consistently ranked one of the top multi-strategy hedge funds on the planet",
    "start": "827130",
    "end": "832399"
  },
  {
    "text": "we have a roughly around 1,800 team members currently we're headquartered in",
    "start": "832399",
    "end": "838829"
  },
  {
    "text": "Chicago but we have offices around the globe I've been at Citadel now for over 15",
    "start": "838829",
    "end": "844259"
  },
  {
    "text": "years and the vast majority of that time has been spent designing and building systems to help our quants and analysts",
    "start": "844259",
    "end": "851430"
  },
  {
    "text": "run their analytics at scale and that's what brings me here today I'm going to",
    "start": "851430",
    "end": "856560"
  },
  {
    "text": "share with you some information about a system that we built about two years ago that's powered by AWS spot fleets so",
    "start": "856560",
    "end": "865529"
  },
  {
    "text": "what I'm going to talk about first is I'm going to talk about the kinds of analytics we run or the kinds of workloads that we run and then you can",
    "start": "865529",
    "end": "872759"
  },
  {
    "text": "give you a high-level overview of the system that we built and then I'm gonna",
    "start": "872759",
    "end": "877769"
  },
  {
    "text": "walk you through a specific use case that runs on that system and then finally I'm going to share with you some",
    "start": "877769",
    "end": "882930"
  },
  {
    "text": "of the insights that we gained in using spot fleets for the past couple of years so let's get started as I mentioned",
    "start": "882930",
    "end": "891480"
  },
  {
    "text": "we're a multi-strategy hedge fund and while each strategies analytics are significantly different they typically",
    "start": "891480",
    "end": "897540"
  },
  {
    "text": "fall under the same four categories there are research workloads that's when an analyst or a quant might have an idea",
    "start": "897540",
    "end": "905040"
  },
  {
    "text": "on how to increase the profitability of a portfolio or perhaps reduce the risk",
    "start": "905040",
    "end": "910500"
  },
  {
    "text": "associated with a portfolio what-if scenarios reactionary workloads that's",
    "start": "910500",
    "end": "917010"
  },
  {
    "text": "when a human or an automated system determines that there's been significant enough market volatility to warrant",
    "start": "917010",
    "end": "924720"
  },
  {
    "text": "rerunning some of our analytics in the middle of a trading day we also have overnight workloads at the end of the",
    "start": "924720",
    "end": "931410"
  },
  {
    "text": "trading day you gather up the most recent inputs for your models and you run them at large scale to prepare for",
    "start": "931410",
    "end": "938670"
  },
  {
    "text": "tomorrow's trading day and then there's model back testing when you make code changes to a model you've got to test",
    "start": "938670",
    "end": "944850"
  },
  {
    "text": "those changes and some those tests involve iterating over 10 to",
    "start": "944850",
    "end": "949950"
  },
  {
    "text": "20 years worth of historical data these are extremely resource intensive workloads but it's really critical that",
    "start": "949950",
    "end": "956280"
  },
  {
    "text": "we get them done quickly because the faster we can test our changes the faster we can move our changes into",
    "start": "956280",
    "end": "962160"
  },
  {
    "text": "production and that just means that's the faster that our company can react to the changing market landscape in 2014 we",
    "start": "962160",
    "end": "971400"
  },
  {
    "text": "determined that our computational needs were soon going to outpace our computational capacity so either our",
    "start": "971400",
    "end": "978390"
  },
  {
    "text": "data center teams we're gonna need to get really busy racking and stacking new hardware or we were gonna have to change",
    "start": "978390",
    "end": "983790"
  },
  {
    "text": "the way we did things we decided to do a POC in a public cloud so we took one of",
    "start": "983790",
    "end": "991290"
  },
  {
    "text": "our proprietary scheduling systems and we moved it into a public cloud and we used it to drive a 45,000 core model",
    "start": "991290",
    "end": "1000050"
  },
  {
    "text": "back test workload now for the most part the the POC worked well we we learned a",
    "start": "1000050",
    "end": "1006980"
  },
  {
    "text": "lot doing it which was the important part the two key takeaways one Dockers a",
    "start": "1006980",
    "end": "1013610"
  },
  {
    "text": "really useful technology for migrating workloads from on-prem into the cloud and the second key takeaway that we",
    "start": "1013610",
    "end": "1020990"
  },
  {
    "text": "learned was that none of the proprietary schedulers that we had built over the years were particularly well-suited to",
    "start": "1020990",
    "end": "1027370"
  },
  {
    "text": "orchestrating docker containers so we were going to need a new system so we",
    "start": "1027370",
    "end": "1036740"
  },
  {
    "text": "looked at a handful of open source tools that are out there we looked at some enterprise solutions but at the end of",
    "start": "1036740",
    "end": "1041780"
  },
  {
    "text": "the day we decided to build our own system on top of the nomad job scheduler",
    "start": "1041780",
    "end": "1047420"
  },
  {
    "text": "from hashey Corp now I'm not going to get into the details of that decision process we did speak at a hashey comp",
    "start": "1047420",
    "end": "1054560"
  },
  {
    "text": "you can find the video out on youtube or if you'd like after this talk you can",
    "start": "1054560",
    "end": "1061340"
  },
  {
    "text": "meet with me and I'll be happy to discuss it with you the new system that we built is named orc orc was built by",
    "start": "1061340",
    "end": "1069740"
  },
  {
    "text": "our cloud infrastructure infrastructure team which I'm a member of it's a four-person team that's helping drive",
    "start": "1069740",
    "end": "1075530"
  },
  {
    "text": "public cloud adoption across the firm the cloud infrastructure team is part",
    "start": "1075530",
    "end": "1080640"
  },
  {
    "text": "a much larger platform engineering team which helps steer the technical direction of the firm in general so this",
    "start": "1080640",
    "end": "1089550"
  },
  {
    "text": "is a high-level system diagram of the orc system as you can see it's multi",
    "start": "1089550",
    "end": "1095700"
  },
  {
    "text": "region there are two regions on Prem at the bottom of the diagram two regions in the cloud at the top of the diagram",
    "start": "1095700",
    "end": "1102290"
  },
  {
    "text": "inside each region you'll see a little green cube with an N in it that represents a nomad and console server",
    "start": "1102290",
    "end": "1110070"
  },
  {
    "text": "cluster we use nomad for job scheduling and we use console for health checks",
    "start": "1110070",
    "end": "1116880"
  },
  {
    "text": "load balancing and service discovery you'll also see a lot of green squares",
    "start": "1116880",
    "end": "1123690"
  },
  {
    "text": "on the diagram those green squares represent a nomad and console client node they're the worker nodes the nodes",
    "start": "1123690",
    "end": "1130710"
  },
  {
    "text": "that your doctor containers run on the orc system has two endpoints it has a",
    "start": "1130710",
    "end": "1136890"
  },
  {
    "text": "job submission end point labeled J and it has a provision or endpoint labeled P users interact with the job submission",
    "start": "1136890",
    "end": "1143790"
  },
  {
    "text": "endpoint to get their jobs on and off the cluster and users can interact with the provisioner endpoint to spin up",
    "start": "1143790",
    "end": "1150600"
  },
  {
    "text": "compute clusters in AWS now a cluster is a construct that we came up with and it",
    "start": "1150600",
    "end": "1156120"
  },
  {
    "text": "basically equates to one or more AWS spot fleets what I'm going to do now is",
    "start": "1156120",
    "end": "1164160"
  },
  {
    "text": "I'm going to show you a specific use case that runs on the orc system this",
    "start": "1164160",
    "end": "1169440"
  },
  {
    "text": "particular use case is for a European trading desk and it typically runs it",
    "start": "1169440",
    "end": "1174600"
  },
  {
    "text": "anywhere from 2000 core scale to 15,000 core scale during trading hours and then",
    "start": "1174600",
    "end": "1180450"
  },
  {
    "text": "overnight it usually runs at about 30,000 core scale a couple of new",
    "start": "1180450",
    "end": "1185940"
  },
  {
    "text": "elements on the diagram we've got a work queue this particular use case is implemented in terms of a",
    "start": "1185940",
    "end": "1191690"
  },
  {
    "text": "producer/consumer work queue because it's simple it scales it works we've also added an auto scaler the",
    "start": "1191690",
    "end": "1199680"
  },
  {
    "text": "autoscaler subscribes to state change events on the queue and when it sees specific state change events it will",
    "start": "1199680",
    "end": "1206280"
  },
  {
    "text": "submit request to the system on the user's behalf we've also added a worker container the",
    "start": "1206280",
    "end": "1213460"
  },
  {
    "text": "worker container houses the model binaries they're the part or the component of the system that's actually",
    "start": "1213460",
    "end": "1219580"
  },
  {
    "text": "performing the calculations so the way the system works is a user puts his jobs",
    "start": "1219580",
    "end": "1226750"
  },
  {
    "text": "onto a queue now the job basically just contains storage bucket location",
    "start": "1226750",
    "end": "1232450"
  },
  {
    "text": "information for the worker so that he knows where he should read his inputs from and where he should write his",
    "start": "1232450",
    "end": "1238330"
  },
  {
    "text": "outputs to so the user pushes work onto the queue and the autoscaler sees that",
    "start": "1238330",
    "end": "1246370"
  },
  {
    "text": "state change event and he makes a call to the provisioner to spin up a cluster",
    "start": "1246370",
    "end": "1252190"
  },
  {
    "text": "or a collection of a WS spot fleets he",
    "start": "1252190",
    "end": "1257290"
  },
  {
    "text": "also makes a request to the job submission endpoint to tell the system to start the users worker containers on",
    "start": "1257290",
    "end": "1264670"
  },
  {
    "text": "the spot instances as they come up and when the workers come up they basically just connect back to the queue they pop",
    "start": "1264670",
    "end": "1271540"
  },
  {
    "text": "a unit of work off the queue they go read their inputs in from s3 perform a computation for a few minutes and then",
    "start": "1271540",
    "end": "1278590"
  },
  {
    "text": "write the results back out to s3 and the workers just continue iterating over this process until there's no longer any",
    "start": "1278590",
    "end": "1284830"
  },
  {
    "text": "work left on the queue when the queue is drained the autoscaler notices and it",
    "start": "1284830",
    "end": "1290950"
  },
  {
    "text": "submits a request to the provisioner to shut down all the spot fleets and it submits a request to the job submission",
    "start": "1290950",
    "end": "1296950"
  },
  {
    "text": "endpoint to tear down the worker containers so it's pretty simple and the",
    "start": "1296950",
    "end": "1304330"
  },
  {
    "text": "next couple of slides here I'm going to show you some graphs of the system metrics for this particular use case",
    "start": "1304330",
    "end": "1310350"
  },
  {
    "text": "what we're looking at here is queued work overtime times on the x-axis and",
    "start": "1310350",
    "end": "1315460"
  },
  {
    "text": "the queue depths are on the y at y axis now I mentioned this was for a European",
    "start": "1315460",
    "end": "1321010"
  },
  {
    "text": "trading desk you'll see the first burst of activity comes in at about 3:15",
    "start": "1321010",
    "end": "1326230"
  },
  {
    "text": "that's actually the beginning of their trading day so you'll see 2,000 jobs get",
    "start": "1326230",
    "end": "1331780"
  },
  {
    "text": "put on the Q the Q quickly drains a little bit later 8,000 jobs get put on the Q quickly drains and 15,000 jobs get",
    "start": "1331780",
    "end": "1340300"
  },
  {
    "text": "put on it later and again it quickly drains this kind of illustrates the bursty nature of the system works coming in and",
    "start": "1340300",
    "end": "1346290"
  },
  {
    "text": "out of the system all day long now this",
    "start": "1346290",
    "end": "1351390"
  },
  {
    "text": "graph is showing running running workers over time and what you'll see is when",
    "start": "1351390",
    "end": "1356910"
  },
  {
    "text": "the first burst of activity occurred right around 3:15 that pretty quickly we started to get workers starting up and",
    "start": "1356910",
    "end": "1364010"
  },
  {
    "text": "they are clusters came up to scale and then they processed all the work and the",
    "start": "1364010",
    "end": "1369720"
  },
  {
    "text": "workers were shut down again very bursty nature this graph is giving us a little",
    "start": "1369720",
    "end": "1377280"
  },
  {
    "text": "bit of insight as to what's going on with our spot fleets well we're graphing here is the requested fleet size and",
    "start": "1377280",
    "end": "1384470"
  },
  {
    "text": "that that's the blue line and the current fleet size the purple line so",
    "start": "1384470",
    "end": "1391290"
  },
  {
    "text": "the current fleet size is basically an indication of how many cores you have that are currently up and usable so when",
    "start": "1391290",
    "end": "1399630"
  },
  {
    "text": "the current fleet size line converges with the requested fleet size that means that your clusters up to scale that",
    "start": "1399630",
    "end": "1405150"
  },
  {
    "text": "means you have all of your spot instances they're all up they're all running so when you look at the first",
    "start": "1405150",
    "end": "1410190"
  },
  {
    "text": "burst of activity here you'll see that it took just under five minutes for us to get all of our compute resources and",
    "start": "1410190",
    "end": "1417500"
  },
  {
    "text": "later and the second burst of activity it took just a little over five minutes",
    "start": "1417500",
    "end": "1423270"
  },
  {
    "text": "and in the last burst of activity there's all kinds of crazy things going on in this slide what happened was the",
    "start": "1423270",
    "end": "1430080"
  },
  {
    "text": "user put work on the queue the autoscaler noticed it it started up spot",
    "start": "1430080",
    "end": "1435810"
  },
  {
    "text": "fleet's the workers started and work started being processed computations started occurring and then about five",
    "start": "1435810",
    "end": "1442140"
  },
  {
    "text": "minutes into that the user decided to put even more work on the queue the autoscaler saw that and determined that",
    "start": "1442140",
    "end": "1448050"
  },
  {
    "text": "it was going to need more compute resources so it submitted a resize request to the provisioner which",
    "start": "1448050",
    "end": "1454230"
  },
  {
    "text": "basically just passed that request on to the spot fleet's and that's why you see that step function now these next couple",
    "start": "1454230",
    "end": "1462900"
  },
  {
    "text": "of charts are basically the same information but it's very different time window the time window that we just",
    "start": "1462900",
    "end": "1467970"
  },
  {
    "text": "looked at was during trading hours this is during the overnight hours and as I mentioned typically overnight workloads",
    "start": "1467970",
    "end": "1473610"
  },
  {
    "text": "are a little bit larger in scale this particular overnight workload about",
    "start": "1473610",
    "end": "1479520"
  },
  {
    "text": "600,000 jobs were put on the queue and you can see that there's a pretty consistent downward slope to the",
    "start": "1479520",
    "end": "1485500"
  },
  {
    "text": "draining of the queue that's what we like to see because what that indicates is we're not we're not getting impacted",
    "start": "1485500",
    "end": "1492670"
  },
  {
    "text": "by any significant termination events running workers overtime what you can",
    "start": "1492670",
    "end": "1499720"
  },
  {
    "text": "see is that we pretty quickly get up to about 22,000 workers now we're spinning",
    "start": "1499720",
    "end": "1505210"
  },
  {
    "text": "up a 30,000 course pot fleet but we're only getting 22,000 workers the memory",
    "start": "1505210",
    "end": "1510580"
  },
  {
    "text": "footprint of our workers is such that we can't always make use of every single core on the VMS another thing to notice",
    "start": "1510580",
    "end": "1517720"
  },
  {
    "text": "though about this chart is we get up to 22,000 workers and then it stays pretty",
    "start": "1517720",
    "end": "1523000"
  },
  {
    "text": "consistent at that scale so it's not bouncing around we're not getting hit by termination events now Boyd spoke a",
    "start": "1523000",
    "end": "1530500"
  },
  {
    "text": "little about termination events they're not ideal but for use cases like these",
    "start": "1530500",
    "end": "1536020"
  },
  {
    "text": "it's really not that big of a it's it's not a problem what will happen in this particular use",
    "start": "1536020",
    "end": "1542530"
  },
  {
    "text": "case if we get hit by termination event any of the instances that are shut down whatever the workers we're working on",
    "start": "1542530",
    "end": "1549510"
  },
  {
    "text": "that work is just going to show up back on the work queue and the next available worker is going to pop it off the queue",
    "start": "1549510",
    "end": "1555610"
  },
  {
    "text": "and it's going to rerun the job so while termination events aren't ideal it's not that big of a deal for this",
    "start": "1555610",
    "end": "1562240"
  },
  {
    "text": "kind of use case and again the requested",
    "start": "1562240",
    "end": "1567310"
  },
  {
    "text": "versus current fleet size graph what this shows is that we went from 0 to 30,000 core scale in 15 minutes",
    "start": "1567310",
    "end": "1574180"
  },
  {
    "text": "so that's pretty big pretty fast since",
    "start": "1574180",
    "end": "1579880"
  },
  {
    "text": "we're here talking about spot fleets I just give you a little bit of insight into how our provisional works our",
    "start": "1579880",
    "end": "1586930"
  },
  {
    "text": "provisioner is a rest service you basically post a JSON request to its",
    "start": "1586930",
    "end": "1592030"
  },
  {
    "text": "cluster endpoint and it will start up spot fleets for you you have to provide",
    "start": "1592030",
    "end": "1597220"
  },
  {
    "text": "some information in the request you have to specify the provider AWS the size of",
    "start": "1597220",
    "end": "1602650"
  },
  {
    "text": "your cluster in this case 20,000 cores and you have to give it a machine type",
    "start": "1602650",
    "end": "1608380"
  },
  {
    "text": "now right now we have three different machine types standard high mem and compute and I'll talk about those in",
    "start": "1608380",
    "end": "1614049"
  },
  {
    "text": "another slide but for now just know that there are three another piece of information that you need to provide the",
    "start": "1614049",
    "end": "1620950"
  },
  {
    "text": "provisioner with is do you want an ephemeral cluster or not now what an",
    "start": "1620950",
    "end": "1626650"
  },
  {
    "text": "ephemeral cluster means to us is that we're going to build that cluster out of",
    "start": "1626650",
    "end": "1631690"
  },
  {
    "text": "AWS spot fleets if a user says ephemeral is false what we're going to do is we're",
    "start": "1631690",
    "end": "1638049"
  },
  {
    "text": "going to build them a cluster but we're going to build it out of on-demand instances now while you can use our",
    "start": "1638049",
    "end": "1644830"
  },
  {
    "text": "provisioners to spin up clusters constructed of on-demand instances nobody does it the spot fleets work so",
    "start": "1644830",
    "end": "1652990"
  },
  {
    "text": "well and they're so inexpensive that nobody provisions on-demand resources with our provisioner you can also resize",
    "start": "1652990",
    "end": "1662620"
  },
  {
    "text": "a cluster through the provision and you saw an example of that and the system",
    "start": "1662620",
    "end": "1667659"
  },
  {
    "text": "metrics that we looked at and then obviously you can delete a cluster I",
    "start": "1667659",
    "end": "1673770"
  },
  {
    "text": "just want to briefly touch on the definition of a spot market in case any",
    "start": "1673890",
    "end": "1679059"
  },
  {
    "text": "of you are new to spot instances or spot fleets what we're looking at here is a",
    "start": "1679059",
    "end": "1684820"
  },
  {
    "text": "spot instance price history graph for the c5 2xl instance type over the past",
    "start": "1684820",
    "end": "1691510"
  },
  {
    "text": "three months now what I want to point out here is we are not looking at a single spot market we are looking at six",
    "start": "1691510",
    "end": "1698320"
  },
  {
    "text": "spot markets the spot market is the the",
    "start": "1698320",
    "end": "1703419"
  },
  {
    "text": "unique combination of instance type and availability zone and then the supply",
    "start": "1703419",
    "end": "1708700"
  },
  {
    "text": "and demand of that instance type in that availability zone is what drives the price so we have a couple things with",
    "start": "1708700",
    "end": "1721539"
  },
  {
    "text": "our spot fleets and with with our clusters that are important to us the first and foremost we want them to come",
    "start": "1721539",
    "end": "1727659"
  },
  {
    "text": "up very quickly or as quickly as possible also we want to minimize the",
    "start": "1727659",
    "end": "1733120"
  },
  {
    "text": "size or scope of any termination events that we get now by using a diversified",
    "start": "1733120",
    "end": "1738400"
  },
  {
    "text": "allocation strategy we can actually achieve both those goals when you use a diversified allocation",
    "start": "1738400",
    "end": "1744250"
  },
  {
    "text": "strategy you're basically configuring your fleet to start up in multiple spot",
    "start": "1744250",
    "end": "1751180"
  },
  {
    "text": "markets in parallel so you you build into your launch spec a large number of",
    "start": "1751180",
    "end": "1757720"
  },
  {
    "text": "spot markets that you're willing to accept resources from and it will start up across all those different spot",
    "start": "1757720",
    "end": "1764470"
  },
  {
    "text": "markets so not only does it get your fleet up quickly but it also has a nice side effect that your instances are",
    "start": "1764470",
    "end": "1771370"
  },
  {
    "text": "spread out across a large number of spot markets so what that means is you have fewer instances in any individual spot",
    "start": "1771370",
    "end": "1778660"
  },
  {
    "text": "market that way if you do get a termination event in a specific spot market odds are you don't have an awful",
    "start": "1778660",
    "end": "1785770"
  },
  {
    "text": "lot of compute in that individual market machine type classifications what we did",
    "start": "1785770",
    "end": "1793540"
  },
  {
    "text": "was we took a look at all the different instance types that Amazon supports some",
    "start": "1793540",
    "end": "1798550"
  },
  {
    "text": "of them are optimized for memory so we grouped those in a high mem categorization some of their instance",
    "start": "1798550",
    "end": "1804580"
  },
  {
    "text": "types are optimized for compute so we grouped those into our compute categorization and then we took",
    "start": "1804580",
    "end": "1810910"
  },
  {
    "text": "everything else and we left it in standard so what we're doing here is",
    "start": "1810910",
    "end": "1816460"
  },
  {
    "text": "we're abstracting away from our users the need to know anything about AWS instance types they don't have to know",
    "start": "1816460",
    "end": "1823210"
  },
  {
    "text": "how much how much memories on which instance type and how many cores are on which machine type they just need to",
    "start": "1823210",
    "end": "1829690"
  },
  {
    "text": "tell us if their model is more sensitive to memory or more sensitive to compute and we'll do all the work of building",
    "start": "1829690",
    "end": "1836140"
  },
  {
    "text": "launch backs for them one other thing that we're doing we were an early",
    "start": "1836140",
    "end": "1841990"
  },
  {
    "text": "adopter of spot fleets and when they first came out you could get a spot",
    "start": "1841990",
    "end": "1847210"
  },
  {
    "text": "fleet up more quickly if you submitted a few in parallel so instead of requesting",
    "start": "1847210",
    "end": "1855070"
  },
  {
    "text": "a 30,000 core spot fleet if you requested for 7,500 core fleets you",
    "start": "1855070",
    "end": "1861400"
  },
  {
    "text": "would ultimately end up getting your 30,000 cores quicker now from a boy tells me you don't have to do that",
    "start": "1861400",
    "end": "1866680"
  },
  {
    "text": "anymore so at some point we'll remove that code but that is what we're doing now so what",
    "start": "1866680",
    "end": "1873460"
  },
  {
    "text": "did we learn over the past couple owning and operating this system first",
    "start": "1873460",
    "end": "1878660"
  },
  {
    "text": "off makes things as simple as possible using spot fleets is not that hard but I",
    "start": "1878660",
    "end": "1885680"
  },
  {
    "text": "don't want my users to have to worry about allocation strategies about spa prices about launch specifications I",
    "start": "1885680",
    "end": "1894710"
  },
  {
    "text": "don't want them to have to know anything about those things so abstract it away from them if you can just want to take a",
    "start": "1894710",
    "end": "1901070"
  },
  {
    "text": "quick poll how many people here have ever misplaced an ec2 instance come on",
    "start": "1901070",
    "end": "1907820"
  },
  {
    "text": "get your hands up okay what I'm talking about is you get to the end of the month",
    "start": "1907820",
    "end": "1913820"
  },
  {
    "text": "you're doing a billing function and you're trying to determine which teams are gonna be charged what for what cloud",
    "start": "1913820",
    "end": "1920180"
  },
  {
    "text": "resources they consumed and you find two ec2 instances that are up and running that should have been shut down a week",
    "start": "1920180",
    "end": "1926240"
  },
  {
    "text": "ago mistakes happen now when a mistake like that happens you",
    "start": "1926240",
    "end": "1933590"
  },
  {
    "text": "basically end up having to pay a few hundred dollars extra for resources that",
    "start": "1933590",
    "end": "1938900"
  },
  {
    "text": "you didn't actually use misplace a 30,000 course pot fleet I dare you",
    "start": "1938900",
    "end": "1949550"
  },
  {
    "text": "so what we found is that you you want to",
    "start": "1949550",
    "end": "1954890"
  },
  {
    "text": "be really tight and how you control these things so if a user doesn't have",
    "start": "1954890",
    "end": "1960920"
  },
  {
    "text": "any need to scale up larger than 2,000 cores don't let them build in a limit just",
    "start": "1960920",
    "end": "1967730"
  },
  {
    "text": "like just like Amazon does put a limit on their accounts so that they can't get bigger than 2,000 cores if a user isn't",
    "start": "1967730",
    "end": "1975020"
  },
  {
    "text": "going to need to run a cluster for more than let's say three hours automatically",
    "start": "1975020",
    "end": "1981170"
  },
  {
    "text": "shut it down for them in three hours and five minutes don't let the user make a mistake and forget to shut it down shut",
    "start": "1981170",
    "end": "1987740"
  },
  {
    "text": "it down for them monitoring and alerting obviously that's important in any system",
    "start": "1987740",
    "end": "1995150"
  },
  {
    "text": "monitoring alerting but when you have bursty large-scale systems like these",
    "start": "1995150",
    "end": "2001320"
  },
  {
    "text": "you could potentially have three or four or 30,000 core spot fleets up and",
    "start": "2001320",
    "end": "2007060"
  },
  {
    "text": "running and if your system isn't working luckily you're spending an awful lot of money to be doing nothing so it's really",
    "start": "2007060",
    "end": "2015790"
  },
  {
    "text": "critical that if something is broken you get a human involved as quickly as possible to just minimize the cost of",
    "start": "2015790",
    "end": "2023080"
  },
  {
    "text": "your system outage diversified allocation strategy is the key to",
    "start": "2023080",
    "end": "2028630"
  },
  {
    "text": "getting your fleets up quickly and as well minimizing the impact of termination events and to illustrate",
    "start": "2028630",
    "end": "2035260"
  },
  {
    "text": "that when we first built the system we did not understand this we only had 32",
    "start": "2035260",
    "end": "2042460"
  },
  {
    "text": "instance pools in our launch specification and the time that it took our 30,000 core clusters to get up to",
    "start": "2042460",
    "end": "2049118"
  },
  {
    "text": "scale or for all of our spot instances to start was about 50 minutes I mean",
    "start": "2049119",
    "end": "2055450"
  },
  {
    "text": "it's almost an hour so the only change",
    "start": "2055450",
    "end": "2061148"
  },
  {
    "text": "we made was we changed our launch specification and we added more spot instance pulls to it that's all we",
    "start": "2061149",
    "end": "2067060"
  },
  {
    "text": "changed and by making that simple change we reduced the startup time of our fleet",
    "start": "2067060",
    "end": "2073090"
  },
  {
    "text": "to about 15 minutes so we got a 70% speed-up in the startup time and finally",
    "start": "2073090",
    "end": "2082480"
  },
  {
    "text": "I don't think any talk about spot instances or spot fleets would be complete unless you touch on the cost",
    "start": "2082480",
    "end": "2088750"
  },
  {
    "text": "savings so what we're seeing is about a 70 to 75 percent reduction and the cost",
    "start": "2088750",
    "end": "2094179"
  },
  {
    "text": "over there on-demand pricing so thank you very much for your time and if you have any questions for me we'll be",
    "start": "2094179",
    "end": "2101020"
  },
  {
    "text": "hanging out in the hallway somewhere after the talk thank you [Applause]",
    "start": "2101020",
    "end": "2112549"
  },
  {
    "text": "okay hi everyone I'm Gabriel I'm senior if recite - Menasha of merkel",
    "start": "2119400",
    "end": "2126160"
  },
  {
    "text": "delirium and in this part of the meeting we want to show you our little what",
    "start": "2126160",
    "end": "2132400"
  },
  {
    "text": "intensive journey in terms of cost I mean how we use spots to save tons of",
    "start": "2132400",
    "end": "2138070"
  },
  {
    "text": "money merkel earlier that it's a very different world it's for mission critical words so well is my career my",
    "start": "2138070",
    "end": "2147040"
  },
  {
    "text": "career is the biggest e-commerce time in commerce some payment platform in latin america we have more than 200 million",
    "start": "2147040",
    "end": "2153400"
  },
  {
    "text": "users and also we serve tons of thousands of transactions a day and to",
    "start": "2153400",
    "end": "2160120"
  },
  {
    "text": "support that we have a large infrastructure or a large IT organization on top to the company we",
    "start": "2160120",
    "end": "2166450"
  },
  {
    "text": "have almost 3,000 applications today on top of 20k machines on AWS that supports",
    "start": "2166450",
    "end": "2174010"
  },
  {
    "text": "50 million requests per minute and to manage that we have 2,000 engineers that",
    "start": "2174010",
    "end": "2180220"
  },
  {
    "text": "they have they focused put in the product of my career itself that they",
    "start": "2180220",
    "end": "2186130"
  },
  {
    "text": "make they'd make 2,000 deploys away and as",
    "start": "2186130",
    "end": "2192430"
  },
  {
    "text": "you can imagine we are in a the relief conference the 20k it's a big number for us at least and it's it's good to see",
    "start": "2192430",
    "end": "2201430"
  },
  {
    "text": "how we manage that I hope manage that in term of cost and to be honest",
    "start": "2201430",
    "end": "2207150"
  },
  {
    "text": "term occurs before and after January and why that well we're a growing company so",
    "start": "2207150",
    "end": "2213970"
  },
  {
    "text": "we just moved to the cloud and we have started to see that we have a bill every month every month we started to see that",
    "start": "2213970",
    "end": "2220420"
  },
  {
    "text": "the will start to grow a little but as we are growing faster when company you say ok that's normal think of growing",
    "start": "2220420",
    "end": "2228730"
  },
  {
    "text": "costs are growing it's pretty well then after a couple form we started to see",
    "start": "2228730",
    "end": "2234250"
  },
  {
    "text": "that we're starting to grow a little more than the business and after that we",
    "start": "2234250",
    "end": "2240010"
  },
  {
    "text": "started to share with that was much more than the business our finance team which comes to us and",
    "start": "2240010",
    "end": "2245020"
  },
  {
    "text": "say hey guys you should do something that can't continue so after valve we did something so what",
    "start": "2245020",
    "end": "2254530"
  },
  {
    "text": "we did we say hey we will reduce the wheel there's no problem however we are",
    "start": "2254530",
    "end": "2260620"
  },
  {
    "text": "growing company that sure showed us that we are growing in terms of applications",
    "start": "2260620",
    "end": "2267130"
  },
  {
    "text": "we move almost 100% in the amount of application in the last year our non most in deployment so reduce the bill is",
    "start": "2267130",
    "end": "2273820"
  },
  {
    "text": "important but keep your business growing is important too so how to manage that how to manage that trade-off between",
    "start": "2273820",
    "end": "2281040"
  },
  {
    "text": "keep growing and reduce the cost well we started to check the difference option",
    "start": "2281040",
    "end": "2286210"
  },
  {
    "text": "we we have a lot of meeting we had a lot of meeting with Amazon also with Boyd we started to see that we have a lot of",
    "start": "2286210",
    "end": "2292360"
  },
  {
    "text": "options the reason spot in South Africa also we explore could fingers we have",
    "start": "2292360",
    "end": "2297730"
  },
  {
    "text": "some regulation problem there but as you can imagine in DC and spot presentation",
    "start": "2297730",
    "end": "2305350"
  },
  {
    "text": "we say to start to explore spot deeper and the first one that we found that",
    "start": "2305350",
    "end": "2310810"
  },
  {
    "text": "spot are really great as well measuring you have up to 90% of the count you have",
    "start": "2310810",
    "end": "2316690"
  },
  {
    "text": "almost a flavor supported pretty well price and also that is brain pouring you don't have commitments so you don't need",
    "start": "2316690",
    "end": "2322990"
  },
  {
    "text": "to say hey I will use that or here we will prepare that not a prepay that no",
    "start": "2322990",
    "end": "2328060"
  },
  {
    "text": "you should say I will use that today or maybe tomorrow no it's okay well there",
    "start": "2328060",
    "end": "2334120"
  },
  {
    "text": "is not the very thing is magic they can be steered every time so how to use",
    "start": "2334120",
    "end": "2341590"
  },
  {
    "text": "something that can be straight that anytime in a mission-critical diploma and that was the way start to figure out",
    "start": "2341590",
    "end": "2348790"
  },
  {
    "text": "how to how to solve so to understand how we did it how you use it the first",
    "start": "2348790",
    "end": "2354880"
  },
  {
    "text": "alehrer was a record leave infrastructure what the infrastructure as the same case the despot mention all",
    "start": "2354880",
    "end": "2361900"
  },
  {
    "text": "our infrastructure is managed to run internal platform in fact we we it's pretty similar in some case to spinnaker",
    "start": "2361900",
    "end": "2368050"
  },
  {
    "text": "just to show you every machine is created through the platform not not by",
    "start": "2368050",
    "end": "2373330"
  },
  {
    "text": "the development the lower sorry almost our infrastructure our webserver",
    "start": "2373330",
    "end": "2379670"
  },
  {
    "text": "so they should they can be straight at any time they are java application or go",
    "start": "2379670",
    "end": "2384830"
  },
  {
    "text": "application wherever but almost they are web servers and also we because",
    "start": "2384830",
    "end": "2392810"
  },
  {
    "text": "the application it's running in our platform we know we know how much",
    "start": "2392810",
    "end": "2399020"
  },
  {
    "text": "critical is that application for our infrastructure how much critical how much affect the application to a",
    "start": "2399020",
    "end": "2404750"
  },
  {
    "text": "business metric and that it's very important for the next slide so in terms of infrastructure we have a large",
    "start": "2404750",
    "end": "2411200"
  },
  {
    "text": "platform we have a tons of machines but it's pee see it's it's very simple we",
    "start": "2411200",
    "end": "2417200"
  },
  {
    "text": "have just a couple of load balancers our room six thousands but these everything it's a load balancer another scaling and",
    "start": "2417200",
    "end": "2424580"
  },
  {
    "text": "a couple of instances though we say okay we if we have instance that we just add more instances in the cheaper the better",
    "start": "2424580",
    "end": "2430880"
  },
  {
    "text": "cheaper than a spot and then shrink the pool that's it in fact we did it in a",
    "start": "2430880",
    "end": "2437240"
  },
  {
    "text": "couple of days I think it's very very simple to do that there wasn't choice",
    "start": "2437240",
    "end": "2442550"
  },
  {
    "text": "also engineer working on that is what it just was a couple of guys and today the",
    "start": "2442550",
    "end": "2449089"
  },
  {
    "text": "last week I think that Amazon percent of the last month I mustn't do that also you can use the mix and instance type",
    "start": "2449089",
    "end": "2455900"
  },
  {
    "text": "outer scaling where you can say hey I would like to have 50 percent in spot 50",
    "start": "2455900",
    "end": "2461450"
  },
  {
    "text": "percent in in on Amazon solve that problem but when started when we started to do that we should implement so that",
    "start": "2461450",
    "end": "2469970"
  },
  {
    "text": "once they were we in fact we have moving almost 60 60 percent of our",
    "start": "2469970",
    "end": "2475250"
  },
  {
    "text": "infrastructure to spot instances and believe me we saved tons of money however when we started to check that we",
    "start": "2475250",
    "end": "2483170"
  },
  {
    "text": "started to to ask ourself different programs into how to do that when to say",
    "start": "2483170",
    "end": "2490520"
  },
  {
    "text": "when to start to a specific I went to run that job how many spots used purple",
    "start": "2490520",
    "end": "2497349"
  },
  {
    "text": "at least when you study say hey 100% it's cheaper what happened for instance",
    "start": "2497349",
    "end": "2503960"
  },
  {
    "text": "ice and how to manage that and also how to deal with the other scaling the",
    "start": "2503960",
    "end": "2509300"
  },
  {
    "text": "differently processes when we are working on top of them but the third one for us at least",
    "start": "2509300",
    "end": "2515690"
  },
  {
    "text": "was he see where daily basis were load so we shall say hey throughout the night shut to reduce the programs we also run",
    "start": "2515690",
    "end": "2522770"
  },
  {
    "text": "some tests on the day and there is no problem it's just add machines or remove machines is very easy Howard has to",
    "start": "2522770",
    "end": "2529910"
  },
  {
    "text": "prevent down them due out the night the second one and then it's very important",
    "start": "2529910",
    "end": "2535250"
  },
  {
    "text": "for us it's how many spots use your mission-critical you can be down",
    "start": "2535250",
    "end": "2541300"
  },
  {
    "text": "how to prevent downtime in term of you can you should consider that all the",
    "start": "2541300",
    "end": "2547520"
  },
  {
    "text": "spots can be stirred at the same time if you want so the solid we make a kind of risk account in terms of how much",
    "start": "2547520",
    "end": "2556190"
  },
  {
    "text": "critical is an application for the business and what is the probability of an instance I of spot eastern side we",
    "start": "2556190",
    "end": "2562940"
  },
  {
    "text": "also estimate that I'm doing that we decide how much instance if we want to have in a pool and with that and basis",
    "start": "2562940",
    "end": "2571490"
  },
  {
    "text": "on the criticality of the application we can do a mix of them for example we have a we're in e-commerce all our eat items",
    "start": "2571490",
    "end": "2579320"
  },
  {
    "text": "API it's very little for us so there we just put 30% of the of the instances as",
    "start": "2579320",
    "end": "2585290"
  },
  {
    "text": "petitions why 10% because we estimate that if we lose the tooth percent the",
    "start": "2585290",
    "end": "2591440"
  },
  {
    "text": "application will be up with a problem may be a little little hope but it will",
    "start": "2591440",
    "end": "2596810"
  },
  {
    "text": "it will be up the same without any problems however in the other in the",
    "start": "2596810",
    "end": "2602630"
  },
  {
    "text": "other hand we have for example the pictures pull that it's behind the CDN so if they pull goes down there is no",
    "start": "2602630",
    "end": "2609980"
  },
  {
    "text": "problem for a couple of minute and there we just pulled hard percent because if we lose the problem if we lose the enter",
    "start": "2609980",
    "end": "2617420"
  },
  {
    "text": "poll in five minutes or 10 minutes or 20 minutes it's not a big deal for us or",
    "start": "2617420",
    "end": "2622880"
  },
  {
    "text": "it's a big deal to save tons of money having the 100% there so that was very",
    "start": "2622880",
    "end": "2629600"
  },
  {
    "text": "very important for us and I recommend you that estimate how much spot do you do you require you require in a pool and",
    "start": "2629600",
    "end": "2638060"
  },
  {
    "text": "how much risk you want to take because believe me the spa dentists will die",
    "start": "2638060",
    "end": "2645100"
  },
  {
    "text": "so what happened I very recommendable to hear the event the community event",
    "start": "2645359",
    "end": "2651970"
  },
  {
    "text": "because it gives you the possibility to remove for example in our case the traffic from the recesses so that makes",
    "start": "2651970",
    "end": "2658390"
  },
  {
    "text": "a very friendly stop of the intestine so it believe me at least for us where we",
    "start": "2658390",
    "end": "2664660"
  },
  {
    "text": "we have a lot of requests to means it's a lot maybe I think don't talk to boy",
    "start": "2664660",
    "end": "2672579"
  },
  {
    "text": "about 30 second for us it's a lot salt but two minutes ago we heard the event",
    "start": "2672579",
    "end": "2678099"
  },
  {
    "text": "and then after after we heard we just go to the low balance of hey promote - in",
    "start": "2678099",
    "end": "2684099"
  },
  {
    "text": "services from the pool and that's it then we expect the Amazon collect the distance so what happened nothing",
    "start": "2684099",
    "end": "2691920"
  },
  {
    "text": "it's very important that you consider that just for a stateless world you",
    "start": "2691920",
    "end": "2696999"
  },
  {
    "text": "shouldn't put a database here it's that it's been poor and also it's very",
    "start": "2696999",
    "end": "2702700"
  },
  {
    "text": "important that your water can be automatic make this should be automatic",
    "start": "2702700",
    "end": "2708309"
  },
  {
    "text": "why because you should expect that this will die and then you should create a new one and it's very important that",
    "start": "2708309",
    "end": "2714670"
  },
  {
    "text": "everything it's the everything should be automatic there and the last one in our",
    "start": "2714670",
    "end": "2722259"
  },
  {
    "text": "case where we add and remove instances what's very important what happened",
    "start": "2722259",
    "end": "2727420"
  },
  {
    "text": "without us killing because if you have a novel scaling in you all five instances you have faced as a you have you other",
    "start": "2727420",
    "end": "2735009"
  },
  {
    "text": "faces more there's no problem the prayer is that if they already changed out to the store in transit because maybe your",
    "start": "2735009",
    "end": "2740529"
  },
  {
    "text": "superior is going down you will start to destroy your your spots so you will",
    "start": "2740529",
    "end": "2746559"
  },
  {
    "text": "start to pay more and it's not that you want so well with it's a kind of",
    "start": "2746559",
    "end": "2751719"
  },
  {
    "text": "predictor scaling where we shall set the amount of engine that we will mean for a pail and with that we prevent that spot",
    "start": "2751719",
    "end": "2759400"
  },
  {
    "text": "will be removed however is some spikes if we have some spikes for example in traffic CPU aware we can add only man to",
    "start": "2759400",
    "end": "2767619"
  },
  {
    "text": "prevent down them also today with the new order scaling you can present that and also add more spots where in the",
    "start": "2767619",
    "end": "2774369"
  },
  {
    "text": "process to explore the new feature to move on because it's also when you are scaling you want to",
    "start": "2774369",
    "end": "2780200"
  },
  {
    "text": "save money too so the poor results what",
    "start": "2780200",
    "end": "2786740"
  },
  {
    "text": "that was impressive for us we almost duplicate our consumers in the in the",
    "start": "2786740",
    "end": "2792530"
  },
  {
    "text": "first child however the right here in the ratio between cost and I was have been very very down it has picked up and",
    "start": "2792530",
    "end": "2800870"
  },
  {
    "text": "that was awesome for us in fact if we see the total cost that it's very important if we see the bill",
    "start": "2800870",
    "end": "2807050"
  },
  {
    "text": "we almost duplicate the consumers cover the total cost just grow tickity per",
    "start": "2807050",
    "end": "2812810"
  },
  {
    "text": "sentence icing like that and that was awesome because it was the treat of",
    "start": "2812810",
    "end": "2817970"
  },
  {
    "text": "everyone that was we can keep growing we can keep creating new machines we can keep using more CPU without increasing",
    "start": "2817970",
    "end": "2825380"
  },
  {
    "text": "the bill at the same the same freedom at the same time and that give us the",
    "start": "2825380",
    "end": "2830780"
  },
  {
    "text": "possibility to keep growing without keep growing our bill a lot so some lessons",
    "start": "2830780",
    "end": "2837260"
  },
  {
    "text": "and we'll learn their first ones very important to the month the the amazon",
    "start": "2837260",
    "end": "2844190"
  },
  {
    "text": "bill it's pretty complex you have a lot of things and there are many other costs with your machines for example in our",
    "start": "2844190",
    "end": "2849500"
  },
  {
    "text": "case was also not working so do the mats in our in your case and just analyze",
    "start": "2849500",
    "end": "2855620"
  },
  {
    "text": "which is the best for you as boy say you have only memories we share and also spotter you have a lot of things to",
    "start": "2855620",
    "end": "2861770"
  },
  {
    "text": "consider second what spot are really great we love them however using them with",
    "start": "2861770",
    "end": "2868070"
  },
  {
    "text": "version ability because they can be destroyed at any time so it's very important that you choose the exactly",
    "start": "2868070",
    "end": "2874910"
  },
  {
    "text": "point where you want to put the spot and you should consider the report will be destroyed so you should design your",
    "start": "2874910",
    "end": "2883100"
  },
  {
    "text": "application thinking on that if recommended you design your application think of that every time because also the only money Stan called",
    "start": "2883100",
    "end": "2889880"
  },
  {
    "text": "I is just to think that they called I frequently that's all cos management",
    "start": "2889880",
    "end": "2897230"
  },
  {
    "text": "need to be performed continually it's something that we learned it it's not just do something",
    "start": "2897230",
    "end": "2903640"
  },
  {
    "text": "that's all it's actually you need to work every day because they will",
    "start": "2903640",
    "end": "2908680"
  },
  {
    "text": "constantly and also there's not supermodel like in",
    "start": "2908680",
    "end": "2914040"
  },
  {
    "text": "every place we say that because if you explore the if you plot the different",
    "start": "2914040",
    "end": "2921060"
  },
  {
    "text": "options without God fingers you have a certain instant spot instance enough once as different social in fact there",
    "start": "2921060",
    "end": "2928050"
  },
  {
    "text": "are multiple options we use all of them to make a good coast approaching in my",
    "start": "2928050",
    "end": "2933840"
  },
  {
    "text": "career thank you very much guys thank",
    "start": "2933840",
    "end": "2938750"
  },
  {
    "text": "you thank you both for coming in and sharing your journey hopefully you found",
    "start": "2940730",
    "end": "2946260"
  },
  {
    "text": "some insights from both Scott and Gabriel on on their experience obviously",
    "start": "2946260",
    "end": "2951680"
  },
  {
    "text": "please do complete the survey if you enjoyed the presentation otherwise don't worry about it",
    "start": "2951680",
    "end": "2957120"
  },
  {
    "text": "and yeah it's God said we're gonna go hang out in the hallway answer some questions if you've got me so yeah",
    "start": "2957120",
    "end": "2963210"
  },
  {
    "text": "please join us and thank you again I know it's late on a Thursday so thank",
    "start": "2963210",
    "end": "2968370"
  },
  {
    "text": "you for coming [Applause]",
    "start": "2968370",
    "end": "2973199"
  }
]