[
  {
    "text": "good afternoon everybody thank you for coming out to the lab today really happy to see you out I'd also like to give a",
    "start": "3560",
    "end": "11250"
  },
  {
    "text": "quick shout out to our vast audio radiance so we'll have folks listening",
    "start": "11250",
    "end": "17160"
  },
  {
    "text": "in now and now and forever so that's awesome thank you for joining today I am",
    "start": "17160",
    "end": "24779"
  },
  {
    "text": "here to talk about log analytics logs are perhaps the most dull subject on the",
    "start": "24779",
    "end": "33750"
  },
  {
    "text": "entire planet until they're not so logs",
    "start": "33750",
    "end": "39300"
  },
  {
    "text": "are truly important logs are you know I've been a developer I've been a Solutions Architect for my development",
    "start": "39300",
    "end": "46530"
  },
  {
    "text": "days if something was wrong I learned the first place you go is the logs right",
    "start": "46530",
    "end": "51620"
  },
  {
    "text": "so whoever who's ever had sort of this challenge the phone rings it's 3:00 in",
    "start": "51620",
    "end": "57930"
  },
  {
    "text": "the morning and the servers are melting right holy cow the site's down we're",
    "start": "57930",
    "end": "64559"
  },
  {
    "text": "losing money oh my gosh so and and in this situation if you have say five or",
    "start": "64559",
    "end": "72479"
  },
  {
    "text": "eight or ten thousand servers out there you may be in a little bit of a pickle because it's really not actually",
    "start": "72479",
    "end": "79470"
  },
  {
    "text": "feasible to go log into every one of those 10,000 servers to find the one",
    "start": "79470",
    "end": "84570"
  },
  {
    "text": "that's kind of broken right what you need is you need a central place where you're bringing your logging information",
    "start": "84570",
    "end": "91560"
  },
  {
    "text": "so that you're able to figure out what's going wrong right and we'll get into it",
    "start": "91560",
    "end": "98340"
  },
  {
    "text": "in a little bit but some of the evolution of elasticsearch you know elasticsearch started life as a search",
    "start": "98340",
    "end": "104759"
  },
  {
    "text": "engine right search engine is something like amazon.com where you go and type a product name and you search for a",
    "start": "104759",
    "end": "110490"
  },
  {
    "text": "product you can get your product back right so what is why is elastic search in logs even related to one another",
    "start": "110490",
    "end": "116540"
  },
  {
    "text": "because people had exactly this problem they had 10,000 servers they had a bunch of logs they needed to search for an and",
    "start": "116540",
    "end": "124380"
  },
  {
    "text": "you know light bulb goes off oh yeah we'll put it in the search engine and then we can just type some queries and find out the broken server of the error",
    "start": "124380",
    "end": "130800"
  },
  {
    "text": "all of that stuff so and as elasticsearch developed it really",
    "start": "130800",
    "end": "137000"
  },
  {
    "text": "developed capabilities around looking at the data that's in the logs and analyzing that data to allow you to",
    "start": "137000",
    "end": "143570"
  },
  {
    "text": "build visualizations graphs dashboards what have you so that you could monitor",
    "start": "143570",
    "end": "149630"
  },
  {
    "text": "everything that was going on so that's kind of a quick evolution of",
    "start": "149630",
    "end": "154730"
  },
  {
    "text": "elasticsearch this session is going to go perhaps slightly different than other",
    "start": "154730",
    "end": "160010"
  },
  {
    "text": "sessions we have a lab we're gonna kick off the lab first we're gonna do that",
    "start": "160010",
    "end": "165230"
  },
  {
    "text": "for maybe 20 minutes then we'll come back and I'll start doing presentation there'll be another break where we do a",
    "start": "165230",
    "end": "171860"
  },
  {
    "text": "few more commands from the lab I'll do some more presentation and then at the",
    "start": "171860",
    "end": "177560"
  },
  {
    "text": "end of it you'll go ahead and finish the lab so to wit the lab I have for you",
    "start": "177560",
    "end": "184490"
  },
  {
    "text": "today is not actually DynamoDB in spite of what it says in the in the schedule I",
    "start": "184490",
    "end": "189740"
  },
  {
    "text": "think we got ourselves confused a little bit so who is familiar with cloud trail",
    "start": "189740",
    "end": "197170"
  },
  {
    "text": "verily anybody so cloud trail is an ADA AWS service",
    "start": "197170",
    "end": "202670"
  },
  {
    "text": "where other services send logging information about calls that are made against those services right depending",
    "start": "202670",
    "end": "209210"
  },
  {
    "text": "on the service it's it's more or less granular so some services you would get only information about things like",
    "start": "209210",
    "end": "214730"
  },
  {
    "text": "creating resources or deleting resources some services like s3 you can get very",
    "start": "214730",
    "end": "220220"
  },
  {
    "text": "detailed information about access to the objects in your s3 bucket all of this is really useful information it flows to",
    "start": "220220",
    "end": "226880"
  },
  {
    "text": "cloud trail so cloud trail has its own dashboard in its own way of letting you",
    "start": "226880",
    "end": "231950"
  },
  {
    "text": "dig into that log information but it's not actually the elasticsearch doesn't",
    "start": "231950",
    "end": "236959"
  },
  {
    "text": "give you the kind of charts and graphs and really fine-grained ability to dig in cloud trail can send its data to",
    "start": "236959",
    "end": "246080"
  },
  {
    "text": "cloud watch logs right so cloud trail sends it to s3 and it's in an s3 bucket but you can enable it to send it to",
    "start": "246080",
    "end": "252140"
  },
  {
    "text": "cloud watch logs cloud wash logs who's familiar with cloud watch logs just about everybody so cloud watch logs is a",
    "start": "252140",
    "end": "258920"
  },
  {
    "text": "log storage and alarming and metrics and dashboards somewhat similar to",
    "start": "258920",
    "end": "265669"
  },
  {
    "text": "elasticsearch but again with little bit less in terms of what you can do with that log data so cloud trail",
    "start": "265669",
    "end": "272650"
  },
  {
    "text": "will send cloud watch then cloud watch through a subscription filter can stream that data to elasticsearch service and",
    "start": "272650",
    "end": "280240"
  },
  {
    "text": "so when it's in elasticsearch service then number one it's searchable it's a search engine number two you can run",
    "start": "280240",
    "end": "287139"
  },
  {
    "text": "cubano which is an open source thin web client that lets you do visualizations dashboards and all of that stuff that's",
    "start": "287139",
    "end": "293740"
  },
  {
    "text": "the set up of the lab we have a cloud formation template and so let's go ahead",
    "start": "293740",
    "end": "303009"
  },
  {
    "text": "and get started the URL is there that is the lab guide so please go to that URL",
    "start": "303009",
    "end": "309340"
  },
  {
    "text": "and you can access the guide you can download the guide however you like there is a known problem with the guide",
    "start": "309340",
    "end": "317319"
  },
  {
    "text": "which I can't figure out and if anybody knows how to figure it out please tell me when you copy paste the cloud",
    "start": "317319",
    "end": "323529"
  },
  {
    "text": "formation template name it inserts random whitespace so cloud formation doesn't think it's an s3 URL so after",
    "start": "323529",
    "end": "331690"
  },
  {
    "text": "you copy paste the URL you'll have to delete the white space manually apart Paulo geez for that stop at step 12",
    "start": "331690",
    "end": "341698"
  },
  {
    "text": "and I think we still have our same helpers so if you",
    "start": "388270",
    "end": "393870"
  },
  {
    "text": "[Music]",
    "start": "447970",
    "end": "451129"
  },
  {
    "text": "[Music]",
    "start": "472090",
    "end": "477040"
  },
  {
    "text": "[Music]",
    "start": "515620",
    "end": "521378"
  },
  {
    "text": "[Music]",
    "start": "523919",
    "end": "527249"
  },
  {
    "text": "[Music]",
    "start": "584760",
    "end": "588049"
  },
  {
    "text": "everybody will go a little bit longer",
    "start": "649720",
    "end": "654790"
  },
  {
    "text": "owner of a white truck work truck parked in the alley please come to the table",
    "start": "693550",
    "end": "698620"
  },
  {
    "text": "just kidding",
    "start": "698620",
    "end": "701130"
  },
  {
    "text": "[Music]",
    "start": "724310",
    "end": "727680"
  },
  {
    "text": "I might have said this but we'll start again at 1:45 so just two more minutes",
    "start": "780140",
    "end": "787660"
  },
  {
    "text": "[Music]",
    "start": "797940",
    "end": "801089"
  },
  {
    "text": "okay so hopefully everybody has at least launched cloud formation and we will go",
    "start": "932959",
    "end": "941580"
  },
  {
    "text": "ahead and move forward I also realized I did not introduce myself John handler hi Solutions Architect with",
    "start": "941580",
    "end": "949290"
  },
  {
    "text": "AWS I specialize in elasticsearch service and been with AWS for years and",
    "start": "949290",
    "end": "956520"
  },
  {
    "text": "so it's been a long time I actually have about almost nine years now been with AWS so that's me before that I actually",
    "start": "956520",
    "end": "964440"
  },
  {
    "text": "worked on a ecommerce website designing a search engine not amazon.com a",
    "start": "964440",
    "end": "970560"
  },
  {
    "text": "different e-commerce company so I have a lot of experience in history with search and I love Search Search is cool I did",
    "start": "970560",
    "end": "983940"
  },
  {
    "text": "not hear that I'm sorry",
    "start": "983940",
    "end": "986959"
  },
  {
    "text": "right so yes so the question is it elasticsearch is a good search and log",
    "start": "1002850",
    "end": "1010149"
  },
  {
    "text": "analytics solution how real time is it and in all of the solutions that we",
    "start": "1010149",
    "end": "1016569"
  },
  {
    "text": "offer for AWS if you look at sort of the time scale elasticsearch sits pretty",
    "start": "1016569",
    "end": "1021879"
  },
  {
    "text": "close to real time or at real time right so elastic search as a solution is really very focused on what's happening",
    "start": "1021879",
    "end": "1028659"
  },
  {
    "text": "in the last 15 minutes or you know up to the present sometimes you go farther",
    "start": "1028659",
    "end": "1033788"
  },
  {
    "text": "back but in most laga analytics use cases it's really about what's right now",
    "start": "1033789",
    "end": "1039149"
  },
  {
    "text": "yeah sure yeah so like the the question is around what about the other sort of",
    "start": "1046010",
    "end": "1052200"
  },
  {
    "text": "real-time EE analytic solutions like Dinamo Analytics or not Dinamo Kinesis",
    "start": "1052200",
    "end": "1058200"
  },
  {
    "text": "analytics dynamo streams what have you you know if you look at the overall",
    "start": "1058200",
    "end": "1065370"
  },
  {
    "text": "scope or scale of how long it takes to get data from the beginning to search",
    "start": "1065370",
    "end": "1071039"
  },
  {
    "text": "ability then you would see elastic searches is amongst the fastest like the",
    "start": "1071039",
    "end": "1077549"
  },
  {
    "text": "amount of ETL that you do the amount of work that you do to make that data go",
    "start": "1077549",
    "end": "1083130"
  },
  {
    "text": "into elastic search is kind of lower and also there are tools that do it for you fairly automatically also your scope",
    "start": "1083130",
    "end": "1092100"
  },
  {
    "text": "with elastic search is much expanded so we're kind of starting at the end but I'm happy to address the question you",
    "start": "1092100",
    "end": "1099090"
  },
  {
    "text": "know with elastic search is as a search engine you get search for every field and you get aggregate ability and all of",
    "start": "1099090",
    "end": "1106350"
  },
  {
    "text": "the analytics tools for everything right so it is and you get natural language",
    "start": "1106350",
    "end": "1111809"
  },
  {
    "text": "handling so those are some of the differentiators for elastic search versus say you know do yes I mean plenty",
    "start": "1111809",
    "end": "1125340"
  },
  {
    "text": "of people who use elastic search for real time IOT is a is a use case that people do as well sure fraud detection",
    "start": "1125340",
    "end": "1133610"
  },
  {
    "text": "security information management that kind of stuff yeah ok so let me ask who",
    "start": "1133610",
    "end": "1141840"
  },
  {
    "text": "has significant or has any experience with elastic search some folks not",
    "start": "1141840",
    "end": "1149779"
  },
  {
    "text": "everybody ok well hang on to your hats this deck goes",
    "start": "1149779",
    "end": "1155460"
  },
  {
    "text": "pretty deep so but we'll start with some sort of more higher level stuff what is",
    "start": "1155460",
    "end": "1161539"
  },
  {
    "text": "elastic search elastic search sits in the databases world so from a",
    "start": "1161539",
    "end": "1168179"
  },
  {
    "text": "million-mile perspective you put entries or items into elastic",
    "start": "1168179",
    "end": "1174360"
  },
  {
    "text": "search and then you run queries to retrieve subsets of those items right so it's a database in the sense that",
    "start": "1174360",
    "end": "1180029"
  },
  {
    "text": "you're putting data into it and you're storing that data elasticsearch does some kind of indexing in the bet in the",
    "start": "1180029",
    "end": "1186239"
  },
  {
    "text": "backend but then you can run queries against that data to pull data out now",
    "start": "1186239",
    "end": "1191369"
  },
  {
    "text": "it is not a relational database so elasticsearch not relational at all it's not the acid compliant you know",
    "start": "1191369",
    "end": "1197940"
  },
  {
    "text": "transactional read after write it is its own kind of database and for that reason",
    "start": "1197940",
    "end": "1205289"
  },
  {
    "text": "it's specialized to do particular things and I gave you a little bit of a description of that in the introduction",
    "start": "1205289",
    "end": "1211080"
  },
  {
    "text": "where I was talking about how you know people put log lines they want to search and they want to etc and do the analytic",
    "start": "1211080",
    "end": "1217529"
  },
  {
    "text": "stuff at a very high level what you have is you have on the on the one hand you",
    "start": "1217529",
    "end": "1224249"
  },
  {
    "text": "have information so two main use cases for elastic search the first of those is",
    "start": "1224249",
    "end": "1229669"
  },
  {
    "text": "log analytics which we're addressing today you have some server you have some",
    "start": "1229669",
    "end": "1234960"
  },
  {
    "text": "application you have some network AWS resources what have you they're",
    "start": "1234960",
    "end": "1240419"
  },
  {
    "text": "generating log data you flow that log data into elastic search elastic search",
    "start": "1240419",
    "end": "1245549"
  },
  {
    "text": "does some magic behind the scenes and then you access it to either search it",
    "start": "1245549",
    "end": "1250799"
  },
  {
    "text": "or visualize it the other significant use case we see is the search use case so elastic search is a search engine",
    "start": "1250799",
    "end": "1257489"
  },
  {
    "text": "generally for an application you'll have a database of some kind that has the",
    "start": "1257489",
    "end": "1262549"
  },
  {
    "text": "information for that application for e-commerce you'd have like a product catalog in a database somewhere you",
    "start": "1262549",
    "end": "1270330"
  },
  {
    "text": "would push that into elastic search elastic search then via API provides your front-end the ability to query",
    "start": "1270330",
    "end": "1275940"
  },
  {
    "text": "against your catalogue of products or what have you and bring that information back to your customer hopefully for a",
    "start": "1275940",
    "end": "1282179"
  },
  {
    "text": "purchase right so those are two main use cases and the access pattern is is",
    "start": "1282179",
    "end": "1287369"
  },
  {
    "text": "pretty simple push a bunch of data in and then query it right so we have Amazon elastic",
    "start": "1287369",
    "end": "1295739"
  },
  {
    "text": "search service launched in 2015 mostly in response to customers having trouble",
    "start": "1295739",
    "end": "1302789"
  },
  {
    "text": "and frustration deploying and maintaining elastic search clusters",
    "start": "1302789",
    "end": "1307879"
  },
  {
    "text": "elastic search tremendously easy to get started really cool piece we're fast time to value like proves",
    "start": "1307879",
    "end": "1315450"
  },
  {
    "text": "itself very quickly and then as you start to scale and push more and more information in you start having to deal",
    "start": "1315450",
    "end": "1321629"
  },
  {
    "text": "with multiple nodes in a cluster you start having to deal with you know doing replacements and software upgrades and",
    "start": "1321629",
    "end": "1327389"
  },
  {
    "text": "all of that stuff so the service really is designed to take that undifferentiated stuff and do it for you",
    "start": "1327389",
    "end": "1334799"
  },
  {
    "text": "and allow you to run elasticsearch simply in the AWS cloud with our normal",
    "start": "1334799",
    "end": "1340830"
  },
  {
    "text": "sort of back-end and we'll get into it and you know specifically in the log",
    "start": "1340830",
    "end": "1349139"
  },
  {
    "text": "analytics space and I encourage you this was a reinvent session from this year Autodesk presented about how they use",
    "start": "1349139",
    "end": "1356460"
  },
  {
    "text": "elastic search to centralize their logs they have a lot of different groups across the company who are application",
    "start": "1356460",
    "end": "1363389"
  },
  {
    "text": "developers or what have you they're all generating these log files and you know we see this a lot where individual",
    "start": "1363389",
    "end": "1369899"
  },
  {
    "text": "developers are doing cool stuff with elastic search and then the companies sort of sits up and notices it says hey",
    "start": "1369899",
    "end": "1375539"
  },
  {
    "text": "we're spending kind of a lot of money on this stuff maybe we should try and manage it a little bit more closely so Autodesk is a good example of that",
    "start": "1375539",
    "end": "1382980"
  },
  {
    "text": "and one where they took a number of different applications flowed all that data to elastic search via Kinesis data",
    "start": "1382980",
    "end": "1390029"
  },
  {
    "text": "firehose and then provide search across that data so it's a really nice session",
    "start": "1390029",
    "end": "1395279"
  },
  {
    "text": "from reinvent and if you're interested in log analytics they have some really good best practices but coming back to",
    "start": "1395279",
    "end": "1403110"
  },
  {
    "text": "the service a little bit so will elastic search service you know we see some primary benefits again we number one we",
    "start": "1403110",
    "end": "1410669"
  },
  {
    "text": "wanted to bring out product where you could use the regular open source tools that you're used to in using elastic",
    "start": "1410669",
    "end": "1417779"
  },
  {
    "text": "search so if you're already using elastic search and you're used to Cabana you can use Cabana we exposed the",
    "start": "1417779",
    "end": "1423360"
  },
  {
    "text": "elastic search API is directly through an endpoint that you can use elastic search api's directly if you've written",
    "start": "1423360",
    "end": "1430470"
  },
  {
    "text": "code against elastic search if you have Cabana dashboards all of those things will work in the service as well as with",
    "start": "1430470",
    "end": "1437940"
  },
  {
    "text": "self-managed so we wanted to make it easy to use we you know we make it so",
    "start": "1437940",
    "end": "1444029"
  },
  {
    "text": "that in the console you do a few clicks you say hey I want a elasticsearch",
    "start": "1444029",
    "end": "1449039"
  },
  {
    "text": "cluster it should have this many instances it should have this security it should have this kind of encryption all of that we go off deploy all of the",
    "start": "1449039",
    "end": "1457379"
  },
  {
    "text": "hardware for you build it into a cluster and give you an endpoint so you can just use it we are we make it easy to scale",
    "start": "1457379",
    "end": "1465659"
  },
  {
    "text": "your cluster if you have a certain number of instances in your cluster and you want to have more you just click like click and we go off and do that for",
    "start": "1465659",
    "end": "1472739"
  },
  {
    "text": "you we make it more secure so we have a number of different security features and we'll get into those in depth we",
    "start": "1472739",
    "end": "1480149"
  },
  {
    "text": "make it more highly available with a click of a button you can deploy it across multiple availability zones gives",
    "start": "1480149",
    "end": "1486119"
  },
  {
    "text": "you resiliency in the face of zone or even instance failure we do have 24 by 7",
    "start": "1486119",
    "end": "1492450"
  },
  {
    "text": "operations and monitoring when clusters get in trouble we can frequently step in and fix those clusters and bring them",
    "start": "1492450",
    "end": "1499590"
  },
  {
    "text": "back up for you without your intervention and we have a number of integrations with other into other AWS",
    "start": "1499590",
    "end": "1506190"
  },
  {
    "text": "services so if you're using cloud wash logs as we saw in this one you can flow it in their database migration service",
    "start": "1506190",
    "end": "1514080"
  },
  {
    "text": "also can deliver to elasticsearch so if you have a database of products and you want to migrate it over to elastic",
    "start": "1514080",
    "end": "1519419"
  },
  {
    "text": "search you can do that pretty easily Kinesis data firehose direct to elastic search we also have lambda as a sort of",
    "start": "1519419",
    "end": "1527340"
  },
  {
    "text": "Swiss Army knife where a lot of customers use that to deliver their their data to alas well it is right ok",
    "start": "1527340",
    "end": "1535259"
  },
  {
    "text": "so in terms of what you get we have",
    "start": "1535259",
    "end": "1541230"
  },
  {
    "text": "several methods for deploying elasticsearch service domains is what we call the collective and you can use the",
    "start": "1541230",
    "end": "1547559"
  },
  {
    "text": "console command line tools cloud formation what else did I put up there",
    "start": "1547559",
    "end": "1552960"
  },
  {
    "text": "Oh other AWS tools in SDKs sure you can use all of that stuff you say go and you",
    "start": "1552960",
    "end": "1559619"
  },
  {
    "text": "we deploy for you in AWS a cluster of instances so there's a couple of things",
    "start": "1559619",
    "end": "1564840"
  },
  {
    "text": "here first of all elastic search is a clustered solution right so you have a",
    "start": "1564840",
    "end": "1570119"
  },
  {
    "text": "number of instances that are running elastic search software they're all communicating with one another behind a",
    "start": "1570119",
    "end": "1576899"
  },
  {
    "text": "load balancer where you're sending your requests so you're setting your they're sent off to the data nodes the",
    "start": "1576899",
    "end": "1583800"
  },
  {
    "text": "data nodes process those send back the responses right in addition in",
    "start": "1583800",
    "end": "1588840"
  },
  {
    "text": "elasticsearch we have a concept of a master node a master node is if anybody is familiar with zookeeper master master",
    "start": "1588840",
    "end": "1596700"
  },
  {
    "text": "nodes are kind of like zookeeper but they're not zookeeper they're their own software they're responsible for holding",
    "start": "1596700",
    "end": "1602610"
  },
  {
    "text": "the cluster state keeping track of all of the schema that you have keeping",
    "start": "1602610",
    "end": "1607650"
  },
  {
    "text": "track of the location of where the shards and we'll get into that where the shards are where all of that stuff is",
    "start": "1607650",
    "end": "1613490"
  },
  {
    "text": "again all behind load balancing we publish an endpoint in route 53 you",
    "start": "1613490",
    "end": "1620130"
  },
  {
    "text": "refer to that endpoint and you use a REST API to send your calls to elasticsearch right on the backend we",
    "start": "1620130",
    "end": "1628560"
  },
  {
    "text": "send we send audit calls to Cloud trail and we send a bunch of different",
    "start": "1628560",
    "end": "1635130"
  },
  {
    "text": "information to cloud watch logs about how your cluster is performing so that",
    "start": "1635130",
    "end": "1640200"
  },
  {
    "text": "you can alarm on that and adjust so how",
    "start": "1640200",
    "end": "1646200"
  },
  {
    "text": "does elastic search work we'll get into this a little bit this is an example of an apache web log line or set of them",
    "start": "1646200",
    "end": "1653580"
  },
  {
    "text": "that is an open it's an open data set this is NASA July of 1995 all of my",
    "start": "1653580",
    "end": "1660030"
  },
  {
    "text": "colleagues kid be that I should really get into the 2000s already but it's kind of cool it's the NASA website and covers",
    "start": "1660030",
    "end": "1667230"
  },
  {
    "text": "July of 1995 and there's like a rocket launch and so it's neat data set to shuttle launches actually so the main",
    "start": "1667230",
    "end": "1675960"
  },
  {
    "text": "idea here is each of the log lines in that big web log constitutes an entity",
    "start": "1675960",
    "end": "1682890"
  },
  {
    "text": "that's something that you're going to potentially search against or aggregate right so each log line is an entity now",
    "start": "1682890",
    "end": "1690000"
  },
  {
    "text": "those entities that you send to elasticsearch are called documents in elasticsearch the document just",
    "start": "1690000",
    "end": "1695340"
  },
  {
    "text": "collection of fields and values and so you're going to cut up the source data",
    "start": "1695340",
    "end": "1704000"
  },
  {
    "text": "formatted into JSON and send it to elasticsearch as a document and that",
    "start": "1704000",
    "end": "1709890"
  },
  {
    "text": "looks like that really pretty straightforward right I mean you have the fields in your log",
    "start": "1709890",
    "end": "1717310"
  },
  {
    "text": "lines you're just assigning field names to them in the JSON and then sending",
    "start": "1717310",
    "end": "1722950"
  },
  {
    "text": "that document to elasticsearch elasticsearch does handle nesting right so for more complex either logging",
    "start": "1722950",
    "end": "1730000"
  },
  {
    "text": "solutions or data solutions you natively can nest jason inside of itself and you",
    "start": "1730000",
    "end": "1736510"
  },
  {
    "text": "get dot path access to the underlying values that are there so i keep saying",
    "start": "1736510",
    "end": "1743350"
  },
  {
    "text": "you send it to elasticsearch actually use the indexing API x' to send data to",
    "start": "1743350",
    "end": "1749470"
  },
  {
    "text": "elasticsearch again it's a rest interface right so pretty easy you you call the index API and you say here's my",
    "start": "1749470",
    "end": "1758470"
  },
  {
    "text": "document that's the simplest way to do it but actually most of the tools that are out there will automate calling this",
    "start": "1758470",
    "end": "1764740"
  },
  {
    "text": "API for you and they'll do that with the bulk API bulk API lets you send a batch",
    "start": "1764740",
    "end": "1771280"
  },
  {
    "text": "of documents interleaved commands and documents off to elasticsearch it's just",
    "start": "1771280",
    "end": "1778030"
  },
  {
    "text": "a post when you send that post to elasticsearch so elasticsearch stan is",
    "start": "1778030",
    "end": "1784540"
  },
  {
    "text": "going to take all of the fields that you have and it will analyze the values in those fields according to a schema that",
    "start": "1784540",
    "end": "1791530"
  },
  {
    "text": "you said and create indexes on that so how does that how does that look so",
    "start": "1791530",
    "end": "1796780"
  },
  {
    "text": "let's say for instance I have a host name field and I'm going to analyze that",
    "start": "1796780",
    "end": "1801820"
  },
  {
    "text": "as a string actually there's an IP address as well but a lot of times in web logs you have host names as strings",
    "start": "1801820",
    "end": "1807580"
  },
  {
    "text": "right so I tell it it's a string elasticsearch looks at that and decomposes it according to the string",
    "start": "1807580",
    "end": "1813850"
  },
  {
    "text": "rules right there's two kinds but we won't go into that detail but there's two kinds elasticsearch analyzes comes",
    "start": "1813850",
    "end": "1819910"
  },
  {
    "text": "out with a set of terms these are the targets for matching right if it's a name like John handler then it would",
    "start": "1819910",
    "end": "1827110"
  },
  {
    "text": "come out with two terms John and handler if it's an IP address like this we're probably not going to decompose that",
    "start": "1827110",
    "end": "1832960"
  },
  {
    "text": "it's probably going to be just the sorry host name so it's going to be the host name I'm going to take that and I'm",
    "start": "1832960",
    "end": "1839290"
  },
  {
    "text": "gonna put that into an index right so index is just all of the terms that I've",
    "start": "1839290",
    "end": "1844390"
  },
  {
    "text": "seen my host name will be an entry in the index if it were names John would be an",
    "start": "1844390",
    "end": "1849910"
  },
  {
    "text": "entry and handler would be an entry right it points off to what's called a",
    "start": "1849910",
    "end": "1855280"
  },
  {
    "text": "posting list this is the ID for every document that contained that right so if",
    "start": "1855280",
    "end": "1860950"
  },
  {
    "text": "you think about like what is an index right so encyclopedia everybody anybody ever seen a physical encyclopedia Wow",
    "start": "1860950",
    "end": "1868150"
  },
  {
    "text": "vanishingly few encyclopedias were these really big sets of books that had",
    "start": "1868150",
    "end": "1873580"
  },
  {
    "text": "articles about anything you could want it you could Wikipedia right only on paper and of course paper has the the normal",
    "start": "1873580",
    "end": "1880780"
  },
  {
    "text": "problem with paper which is that if you want to find something well you can start at page one and you know go",
    "start": "1880780",
    "end": "1886180"
  },
  {
    "text": "through really quickly or you need some kind of index right index what does it do it points to all the pages that",
    "start": "1886180",
    "end": "1892210"
  },
  {
    "text": "contain the articles that you're looking for I searched for Barack Obama I see 112 47 83 whatever same thing with",
    "start": "1892210",
    "end": "1900880"
  },
  {
    "text": "elasticsearch I've got a lot a set of log lines they all have hosts the host",
    "start": "1900880",
    "end": "1907300"
  },
  {
    "text": "field has each entry pointing to all the log lines where that host appeared this",
    "start": "1907300",
    "end": "1914020"
  },
  {
    "text": "is the central data structure of a search engine it's how we do fast search when I'm searching this thing I'm gonna",
    "start": "1914020",
    "end": "1921460"
  },
  {
    "text": "go to the index and I'm gonna look it up very quickly because it's binary search and I'll find all of the documents fast",
    "start": "1921460",
    "end": "1928050"
  },
  {
    "text": "before I describe that I'm just gonna quick say again I mentioned you you you",
    "start": "1928050",
    "end": "1934780"
  },
  {
    "text": "set a mapping to control the decomposition of the text values so",
    "start": "1934780",
    "end": "1940050"
  },
  {
    "text": "elasticsearch supports excuse me elastic search supports a number of different types native types things like floats",
    "start": "1940050",
    "end": "1948840"
  },
  {
    "text": "doubles Long's integers geo points dates as well as",
    "start": "1948840",
    "end": "1955360"
  },
  {
    "text": "text and I create my mapping by posting",
    "start": "1955360",
    "end": "1960400"
  },
  {
    "text": "to my endpoint and I say okay properties the verb field is a type keyword and I",
    "start": "1960400",
    "end": "1967780"
  },
  {
    "text": "don't know size field is type int and the verb here I mean HTTP verb right",
    "start": "1967780",
    "end": "1973960"
  },
  {
    "text": "because this is Apache web logs this makes sense everybody's kind of going blank so I",
    "start": "1973960",
    "end": "1980470"
  },
  {
    "text": "that L elasticsearch how I want that thing decomposed and that's what elastics are just going to put in the index so when I yes",
    "start": "1980470",
    "end": "1989340"
  },
  {
    "text": "so it makes an index unless you tell it not to so question is is this indexing",
    "start": "1997430",
    "end": "2002710"
  },
  {
    "text": "at the object level at the field level what elasticsearch creates an index at the field level for every field unless",
    "start": "2002710",
    "end": "2010030"
  },
  {
    "text": "you tell it not to",
    "start": "2010030",
    "end": "2012930"
  },
  {
    "text": "I see so question is sort of is there",
    "start": "2026220",
    "end": "2032429"
  },
  {
    "text": "query optimization in there and yes there is but it's it's a distributed",
    "start": "2032429",
    "end": "2040710"
  },
  {
    "text": "system so it's hard to do much in the way of query optimization that is sort",
    "start": "2040710",
    "end": "2046230"
  },
  {
    "text": "of an ongoing project that the elastic search team is working on so yes there's",
    "start": "2046230",
    "end": "2052500"
  },
  {
    "text": "some optimization in there but you generally try to write a good query",
    "start": "2052500",
    "end": "2058349"
  },
  {
    "text": "rather than rely on an optimizer yeah um so when we get to querying right and",
    "start": "2058349",
    "end": "2066169"
  },
  {
    "text": "let's say I'm querying for host X and response size greater than 10 million",
    "start": "2066169",
    "end": "2073980"
  },
  {
    "text": "bytes and status code 404 whatever right so",
    "start": "2073980",
    "end": "2080128"
  },
  {
    "text": "I'm going to search the host field I'm going to search the response code field I'm going to search the size field",
    "start": "2080129",
    "end": "2087169"
  },
  {
    "text": "elastic search goes and goes to the field indexes right and pulls out of the",
    "start": "2087169",
    "end": "2093720"
  },
  {
    "text": "index the values that I'm searching for right this is really quick this is like binary search to find the host name it",
    "start": "2093720",
    "end": "2099150"
  },
  {
    "text": "just Bing Bing Bing Bing Bing and it finds that's the host name right for the for the size range is more complicated",
    "start": "2099150",
    "end": "2104910"
  },
  {
    "text": "we don't talk a little bit so once it's got the posting lists so let's say this",
    "start": "2104910",
    "end": "2110099"
  },
  {
    "text": "is an end query between three different terms right this and this and that it",
    "start": "2110099",
    "end": "2116130"
  },
  {
    "text": "pulls the posting lists that tell me tells me all the documents that have term 1 all the documents that I have",
    "start": "2116130",
    "end": "2121530"
  },
  {
    "text": "term 2 and all the documents that I've turned 3 so then what I do is a set intersection 4 and between those sets of",
    "start": "2121530",
    "end": "2128490"
  },
  {
    "text": "posting lists right if I want to see term 1 and turn two and term 3 it's the intersection of all the documents that",
    "start": "2128490",
    "end": "2134849"
  },
  {
    "text": "contain term 1 to 2 in term 3 right that's also a fairly fast operation it's",
    "start": "2134849",
    "end": "2140790"
  },
  {
    "text": "you know the first one is binary the this one is like linear but it's kind of linear in the shortest one and there's",
    "start": "2140790",
    "end": "2146339"
  },
  {
    "text": "all kinds of optimizations built in this is fast I emerge with a set of matches these are all of the documents that have",
    "start": "2146339",
    "end": "2153569"
  },
  {
    "text": "the correct criteria to be in the result set I then walk that list score all of those",
    "start": "2153569",
    "end": "2159180"
  },
  {
    "text": "documents and sort everything in relevance order in score order okay that one's the slow",
    "start": "2159180",
    "end": "2166260"
  },
  {
    "text": "one it is the differentiator between elastic search and other database",
    "start": "2166260",
    "end": "2172140"
  },
  {
    "text": "solutions in some ways elastic search has a built-in notion of scoring where",
    "start": "2172140",
    "end": "2177420"
  },
  {
    "text": "you want to retrieve the best stuff not all this stuff right most databases you",
    "start": "2177420",
    "end": "2182610"
  },
  {
    "text": "issue a query there's a hundred million matches you want to get a hundred million matches with the date with a",
    "start": "2182610",
    "end": "2188010"
  },
  {
    "text": "search engine if there's a hundred million matches you only want to get the best ten right usually I don't know if",
    "start": "2188010",
    "end": "2194160"
  },
  {
    "text": "you've ever tried this you can hack the Google URL gives you a page number right",
    "start": "2194160",
    "end": "2199500"
  },
  {
    "text": "if you go if you try to go past result a thousand you can't it's just it won't serve it back to you right because again",
    "start": "2199500",
    "end": "2207270"
  },
  {
    "text": "search engines optimized to do fast relevant search you yes so I'll give you",
    "start": "2207270",
    "end": "2219330"
  },
  {
    "text": "a quick answer so relevance is a state well the default relevance that comes out of the box is a",
    "start": "2219330",
    "end": "2226290"
  },
  {
    "text": "statistical measure of how frequently the terms are searching for occur across",
    "start": "2226290",
    "end": "2231300"
  },
  {
    "text": "all of the documents right so if I'm searching for John it's probably a pretty common term it probably has you",
    "start": "2231300",
    "end": "2237810"
  },
  {
    "text": "know 87 million instances if I'm searching for handler okay well that was probably pretty common too but imagine",
    "start": "2237810",
    "end": "2243990"
  },
  {
    "text": "it was a really rare name you know that would have a few so if a term is very frequent it's not very valuable in terms",
    "start": "2243990",
    "end": "2250380"
  },
  {
    "text": "of relevance for discriminating between other between documents if it's rare it is very valuable so I take the score for",
    "start": "2250380",
    "end": "2257250"
  },
  {
    "text": "each of the terms in the query and I multiply by how many times it occurs in",
    "start": "2257250",
    "end": "2262320"
  },
  {
    "text": "that particular document and I add it up that's the default relevance relevance",
    "start": "2262320",
    "end": "2267359"
  },
  {
    "text": "is its own long topic there's many many many other things you have to do because it's statistical like if all my",
    "start": "2267359",
    "end": "2274230"
  },
  {
    "text": "documents kind of look the same then I'm not going to have a lot of discrimination from just doing the",
    "start": "2274230",
    "end": "2279480"
  },
  {
    "text": "statistics of how often the terms occur and at that point I want to bring in stuff like maybe a ranking like if it's",
    "start": "2279480",
    "end": "2285840"
  },
  {
    "text": "an IMDB maybe I know that this is a really popular movie right so popularity maybe it maybe it's user-generated",
    "start": "2285840",
    "end": "2291180"
  },
  {
    "text": "content maybe I know this an important user maybe maybe I can look at the link structure and decide that",
    "start": "2291180",
    "end": "2297970"
  },
  {
    "text": "hey lots of people pointed this thing maybe this is authoritative right so there's all kinds of ways that you Ament",
    "start": "2297970",
    "end": "2303490"
  },
  {
    "text": "that base score so the some of the",
    "start": "2303490",
    "end": "2310960"
  },
  {
    "text": "things we can do we can query our logs directly and I just wanted to give you an example just to look at sort of what",
    "start": "2310960",
    "end": "2317950"
  },
  {
    "text": "is the round-trip query look like elastic search has a URL based query",
    "start": "2317950",
    "end": "2323500"
  },
  {
    "text": "language and adjacent based query language the JSON based language is kind of more common and you unless you're",
    "start": "2323500",
    "end": "2331060"
  },
  {
    "text": "writing an application you don't frequently write these Jason queries but it's just query I'm looking for a term",
    "start": "2331060",
    "end": "2337420"
  },
  {
    "text": "in the verb field and if the term should be get when I look I have oh I have even",
    "start": "2337420",
    "end": "2345280"
  },
  {
    "text": "some cool graphics so I have a metadata section in there that shows me how long",
    "start": "2345280",
    "end": "2351970"
  },
  {
    "text": "it took how many shards had hit how many were successful and then I have this",
    "start": "2351970",
    "end": "2357010"
  },
  {
    "text": "section of hits these are the original documents that I send in as sent in as Jason right so I pull all this",
    "start": "2357010",
    "end": "2362470"
  },
  {
    "text": "information back out along with my query result right oh it tells me how many",
    "start": "2362470",
    "end": "2367810"
  },
  {
    "text": "hits to what 499,000 get requests to NASA in July of 1995 important",
    "start": "2367810",
    "end": "2376360"
  },
  {
    "text": "historical information ok the other thing you can do is you can create visualizations so I might want to also",
    "start": "2376360",
    "end": "2384190"
  },
  {
    "text": "look at a particular time frame and I might want to say okay well let's graph out how many gets how many puts how many",
    "start": "2384190",
    "end": "2390700"
  },
  {
    "text": "pose how many hits right this is the kind of thing I would use to monitor to make sure that my website was receiving",
    "start": "2390700",
    "end": "2395800"
  },
  {
    "text": "traffic and you know people weren't trying to go through the backend and post stuff to my website so how do we",
    "start": "2395800",
    "end": "2402730"
  },
  {
    "text": "support this well if you think about it I have some result right so I've sent a",
    "start": "2402730",
    "end": "2407890"
  },
  {
    "text": "query that says verb is get okay I have some result that looks like a gajillion",
    "start": "2407890",
    "end": "2414040"
  },
  {
    "text": "documents 499,000 where the verb is get I go back to the original source data so",
    "start": "2414040",
    "end": "2420790"
  },
  {
    "text": "I now have 499,000 log lines all of which are get log lines I'll go back to the source data and",
    "start": "2420790",
    "end": "2427580"
  },
  {
    "text": "actually in this case maybe I want just whatever the verb is so I pick a host something to query I create buckets for",
    "start": "2427580",
    "end": "2435110"
  },
  {
    "text": "each of the values get put post in this case right and then I just count how many times each of those occurs and that",
    "start": "2435110",
    "end": "2442220"
  },
  {
    "text": "is a histogram right and I can graph that visually like that okay not that",
    "start": "2442220",
    "end": "2448250"
  },
  {
    "text": "histogram but that's that's how I do that as you go through and play with",
    "start": "2448250",
    "end": "2455480"
  },
  {
    "text": "elasticsearch and Cabana keep that keep in mind what you're really doing is",
    "start": "2455480",
    "end": "2461150"
  },
  {
    "text": "narrowing to a specific set of documents and then doing aggregations on the field",
    "start": "2461150",
    "end": "2466520"
  },
  {
    "text": "values for particular fields that you're specifying right that is what elasticsearch does that's",
    "start": "2466520",
    "end": "2472700"
  },
  {
    "text": "how elasticsearch does analytics okay",
    "start": "2472700",
    "end": "2477970"
  },
  {
    "text": "okay so that is the fundamental underlying kind of what is elasticsearch",
    "start": "2478180",
    "end": "2484400"
  },
  {
    "text": "so let's pause there like any questions or thoughts",
    "start": "2484400",
    "end": "2489250"
  },
  {
    "text": "so okay so the question is around mutability of the underlying data and sort of how that ties in with analytics",
    "start": "2521990",
    "end": "2530460"
  },
  {
    "text": "in real time right and elasticsearch first of all data is mutable you have to",
    "start": "2530460",
    "end": "2537780"
  },
  {
    "text": "know which log line you want to change but you can't change it and in terms of",
    "start": "2537780",
    "end": "2543599"
  },
  {
    "text": "what you usually do with elastic searches you're looking across a time frame as a primary filter right you're",
    "start": "2543599",
    "end": "2549329"
  },
  {
    "text": "building some kind of bucketed time scale x axis that lets you build graphs",
    "start": "2549329",
    "end": "2557190"
  },
  {
    "text": "right that's one way of looking at sort of real-time right as opposed to what is",
    "start": "2557190",
    "end": "2564480"
  },
  {
    "text": "changing so you can still do what is changing right you can graph right",
    "start": "2564480",
    "end": "2571099"
  },
  {
    "text": "yeah",
    "start": "2582319",
    "end": "2585319"
  },
  {
    "text": "right so I'm gonna disagree and say so",
    "start": "2588510",
    "end": "2593850"
  },
  {
    "text": "that the question is like well if I'm going to graph something if I want to know sort of what is what are my sales",
    "start": "2593850",
    "end": "2599730"
  },
  {
    "text": "right now elasticsearch is actually really good at that because we'll see but elasticsearch",
    "start": "2599730",
    "end": "2605369"
  },
  {
    "text": "dashboards allow you to continuously update the view of what you're seeing",
    "start": "2605369",
    "end": "2610859"
  },
  {
    "text": "and so as you're looking at a chart you you see a change in real time so last",
    "start": "2610859",
    "end": "2616619"
  },
  {
    "text": "time search really is a real-time solution I promise right so yes yeah so",
    "start": "2616619",
    "end": "2634109"
  },
  {
    "text": "a lot of times yes so what a lot of customers you have real time focused",
    "start": "2634109",
    "end": "2639359"
  },
  {
    "text": "customers and you actually have longer scale focus Kuster customers elasticsearch can do both most people",
    "start": "2639359",
    "end": "2646470"
  },
  {
    "text": "are more focused on the real time component not the longer-term analytics for that we usually Brett well we'll get",
    "start": "2646470",
    "end": "2653190"
  },
  {
    "text": "into it why don't we why don't we go look at this maybe this will be helpful let's talk about data lifecycle right",
    "start": "2653190",
    "end": "2658700"
  },
  {
    "text": "especially and when we're talking about log analytics domain we have a number of",
    "start": "2658700",
    "end": "2664140"
  },
  {
    "text": "data producers which might look like my front-end web servers they might look like my AWS resources they might look",
    "start": "2664140",
    "end": "2670859"
  },
  {
    "text": "like my application where I'm doing application performance monitoring they might look like distributed tracing all",
    "start": "2670859",
    "end": "2677010"
  },
  {
    "text": "of this data is generating logs right and so what I need to do is collect all",
    "start": "2677010",
    "end": "2682530"
  },
  {
    "text": "of that data somewhere so that I can transform it because remember it starts out as strings and it needs to be Jason",
    "start": "2682530",
    "end": "2689640"
  },
  {
    "text": "so I have to do a transform and then I'm going to push that into elasticsearch",
    "start": "2689640",
    "end": "2694740"
  },
  {
    "text": "now the other path that we generally see here is that when you're collecting it",
    "start": "2694740",
    "end": "2700560"
  },
  {
    "text": "you frequently want to push it off to a cold store where you're gonna do longer-term analysis with something like",
    "start": "2700560",
    "end": "2707250"
  },
  {
    "text": "Athena or redshift spectrum or what-have-you right so s3 is a very",
    "start": "2707250",
    "end": "2713670"
  },
  {
    "text": "common destination for all of this log data as well right and ultimately you're",
    "start": "2713670",
    "end": "2721770"
  },
  {
    "text": "gonna do analysis and reporting out of elasticsearch and also out of that longer-term store right at the end of",
    "start": "2721770",
    "end": "2729119"
  },
  {
    "text": "the whole cycle usually because elasticsearch is a hot store it can be",
    "start": "2729119",
    "end": "2734640"
  },
  {
    "text": "costly to hold a lot of data in it so generally you're gonna age data out of elasticsearch that's why you've got s3",
    "start": "2734640",
    "end": "2741180"
  },
  {
    "text": "to hold that data for longer term was there a question Oh wrong slide wait oh",
    "start": "2741180",
    "end": "2754079"
  },
  {
    "text": "there it is so we have we have good questions and great questions this is an",
    "start": "2754079",
    "end": "2760079"
  },
  {
    "text": "example great questions when's the next slide great question I stole that from a",
    "start": "2760079",
    "end": "2765480"
  },
  {
    "text": "friend of mine who's probably gonna see this and then it'll make fun of me okay so if we actualize this in terms of some",
    "start": "2765480",
    "end": "2772260"
  },
  {
    "text": "particular architecture this is a pretty common architecture that people use I have a bunch of servers there are",
    "start": "2772260",
    "end": "2780299"
  },
  {
    "text": "there's an open source technology called beats and beats are lightweight log",
    "start": "2780299",
    "end": "2785789"
  },
  {
    "text": "shippers they sit on the data producer there are a number of different flavors",
    "start": "2785789",
    "end": "2791339"
  },
  {
    "text": "that ship different kinds of logs they do all kinds of annotation and extra",
    "start": "2791339",
    "end": "2796589"
  },
  {
    "text": "stuff to make your logs more searchable more visualizable basically they just ship their target here in this case we",
    "start": "2796589",
    "end": "2804750"
  },
  {
    "text": "would use a load balancer this is going to kind of depend on volume whether you need a load balancer or whether just one",
    "start": "2804750",
    "end": "2809910"
  },
  {
    "text": "log stash is enough but you either load balance across an auto scaled set of log",
    "start": "2809910",
    "end": "2816270"
  },
  {
    "text": "stash hosts or you just send it to one so what is log stash log stash is an",
    "start": "2816270",
    "end": "2822869"
  },
  {
    "text": "open source ETL over streaming data okay fundamentally with log stash you set up",
    "start": "2822869",
    "end": "2829410"
  },
  {
    "text": "an input stage that reads data from somewhere and there are inputs that read",
    "start": "2829410",
    "end": "2834960"
  },
  {
    "text": "from Redis and from oh gosh from beats and from all sorts of places relational",
    "start": "2834960",
    "end": "2842160"
  },
  {
    "text": "databases cetera et cetera et cetera there's like 60 of them you then have a transform phase where elasticsearch is a",
    "start": "2842160",
    "end": "2850529"
  },
  {
    "text": "sorry log stash is going to take the strings it's going to parse them up there's a red X match or",
    "start": "2850529",
    "end": "2856650"
  },
  {
    "text": "that can-do say Apache weblog lines so it's like a simple configuration to send",
    "start": "2856650",
    "end": "2862920"
  },
  {
    "text": "your web logs through can take weblog lines can do other random stuff with your data",
    "start": "2862920",
    "end": "2868799"
  },
  {
    "text": "it emits Jason and there's an output phase that can send to again a long list",
    "start": "2868799",
    "end": "2874229"
  },
  {
    "text": "of destinations most relevant elasticsearch right when you have that",
    "start": "2874229",
    "end": "2880049"
  },
  {
    "text": "then elasticsearch you're going to use Kabana to view and as we said come on as a thin",
    "start": "2880049",
    "end": "2886499"
  },
  {
    "text": "web client we're all going to be component experts by the end of the day so you'll know lots about Cabana one",
    "start": "2886499",
    "end": "2892289"
  },
  {
    "text": "other things to point out this particular slide is depicting elasticsearch service launched into your",
    "start": "2892289",
    "end": "2899759"
  },
  {
    "text": "V PC we support that through elastic network interfaces in order to visualize",
    "start": "2899759",
    "end": "2905969"
  },
  {
    "text": "anything you have to be able to get your traffic to to elasticsearch from Cabana",
    "start": "2905969",
    "end": "2911670"
  },
  {
    "text": "that's the purpose of the Bastion up in the top left so that's a very common pattern use some kind of Bastion or",
    "start": "2911670",
    "end": "2917549"
  },
  {
    "text": "proxy that passes traffic securely into your V PC into elasticsearch service",
    "start": "2917549",
    "end": "2925190"
  },
  {
    "text": "this one here",
    "start": "2926719",
    "end": "2930109"
  },
  {
    "text": "can you use logstash on lambda no oh",
    "start": "2932020",
    "end": "2936750"
  },
  {
    "text": "when is it appropriate logstash one is appropriate lambda well it's in some",
    "start": "2937380",
    "end": "2943270"
  },
  {
    "text": "senses it's a flavor right I mean logstash is has certain",
    "start": "2943270",
    "end": "2949480"
  },
  {
    "text": "capabilities that make it it's designed exactly for this so using log stash is",
    "start": "2949480",
    "end": "2954910"
  },
  {
    "text": "very easy to do log stash has its own you're running it on your own servers you're responsible for managing it",
    "start": "2954910",
    "end": "2960670"
  },
  {
    "text": "you're responsible for keeping it up and running you know log stash scaling is also not very straightforward lambda has",
    "start": "2960670",
    "end": "2968140"
  },
  {
    "text": "the - of not having built-in you know reg X matching and all that other stuff",
    "start": "2968140",
    "end": "2973480"
  },
  {
    "text": "that log stash does for you really nicely including persisting trend you know persisting a trans log and in case",
    "start": "2973480",
    "end": "2979720"
  },
  {
    "text": "something goes down and retrying and adaptively adjusting to elastic searches",
    "start": "2979720",
    "end": "2985990"
  },
  {
    "text": "back pressure signals so it's kind of a flavor of the month whatever whatever",
    "start": "2985990",
    "end": "2991540"
  },
  {
    "text": "you want to take on another very common pattern then is this one where your",
    "start": "2991540",
    "end": "2997660"
  },
  {
    "text": "producers are using either say the Kinesis agent which is also a lightweight log shipper which also sits",
    "start": "2997660",
    "end": "3004230"
  },
  {
    "text": "on your on your host so I've been I've been given the hook almost but thank you but we're doing",
    "start": "3004230",
    "end": "3011760"
  },
  {
    "text": "this whole thing interactively doesn't be great so right so what happened yes",
    "start": "3011760",
    "end": "3018270"
  },
  {
    "text": "Kinesis Kinesis agent ships to Kinesis data streams Kinesis well Kinesis data",
    "start": "3018270",
    "end": "3024869"
  },
  {
    "text": "streams and then lambda transforms and ships I can go quicker I probably should only",
    "start": "3024869",
    "end": "3030720"
  },
  {
    "text": "a hundred and twenty more slides that was a joke we don't really have 120 ok",
    "start": "3030720",
    "end": "3037500"
  },
  {
    "text": "so special case firehose Kinesis data firehose is a really really nice",
    "start": "3037500",
    "end": "3042810"
  },
  {
    "text": "solution for shipping data to elasticsearch really love it it does not",
    "start": "3042810",
    "end": "3048780"
  },
  {
    "text": "deliver to the VPC that makes it kind of a second runner at the moment but",
    "start": "3048780",
    "end": "3053910"
  },
  {
    "text": "hopefully someday it will be able to deliver into the PC so what we have here",
    "start": "3053910",
    "end": "3059250"
  },
  {
    "text": "is data comes into can be sustained a fire hose the fire hose automatically triggers a lambda forever",
    "start": "3059250",
    "end": "3064760"
  },
  {
    "text": "logline in there and you can write your transform in lambda you deliver it back to the fire hose fire hose then delivers",
    "start": "3064760",
    "end": "3071660"
  },
  {
    "text": "to elasticsearch service the transformed records the nice thing about fire hose fire hose also delivers to s3 so you can",
    "start": "3071660",
    "end": "3078830"
  },
  {
    "text": "archive everything off while you're sending it off to elasticsearch it also handles buffering so you can set buffer",
    "start": "3078830",
    "end": "3084500"
  },
  {
    "text": "sizes and it also handles retry and error failures so fire was really nice",
    "start": "3084500",
    "end": "3090260"
  },
  {
    "text": "if you don't need your elastic search service domain in a V PC I recommend fire hose",
    "start": "3090260",
    "end": "3096070"
  },
  {
    "text": "when you use the last exertion again we're sort of talking about data life cycle in general you create indexes in",
    "start": "3096070",
    "end": "3102470"
  },
  {
    "text": "elastic search for log analytics you create an index every time period usually every day so what you have is a",
    "start": "3102470",
    "end": "3109700"
  },
  {
    "text": "rolling set of indexes for today yesterday the day before a day before a",
    "start": "3109700",
    "end": "3114710"
  },
  {
    "text": "day before day before to do the lifecycle management then you just lead off the oldest index at the end of the",
    "start": "3114710",
    "end": "3121460"
  },
  {
    "text": "cycle it's like dropping a table which that's the right way to do it we it's",
    "start": "3121460",
    "end": "3128090"
  },
  {
    "text": "not right to put it all in one index and try to delete the documents one at a time that's that's bad dropping a table or",
    "start": "3128090",
    "end": "3135260"
  },
  {
    "text": "dropping an index much more performant than trying to lead a million bajillion documents right in the indexes",
    "start": "3135260",
    "end": "3143750"
  },
  {
    "text": "themselves that I'm sending data into the index and I specify a shard count so",
    "start": "3143750",
    "end": "3150170"
  },
  {
    "text": "what is a shard a shard is a subset of all of the data that I'm sending to elasticsearch if I have you know a",
    "start": "3150170",
    "end": "3157340"
  },
  {
    "text": "hundred thousand log lines and I have five shards each shard has twenty thousand log lines right you just split",
    "start": "3157340",
    "end": "3162740"
  },
  {
    "text": "the data across those shards then elasticsearch is going to deploy shards to instances so index is a high-level",
    "start": "3162740",
    "end": "3170570"
  },
  {
    "text": "concept it's comprised of shards and then elasticsearch puts those shards",
    "start": "3170570",
    "end": "3176240"
  },
  {
    "text": "onto instances elastically that's why it's plastic surgeon I had more instances here it'll shuffle around the",
    "start": "3176240",
    "end": "3181730"
  },
  {
    "text": "shards so they're distributed evenly we also have a notion of a replica shard",
    "start": "3181730",
    "end": "3186740"
  },
  {
    "text": "so the first shard is called the primary I set my primary shard count that should that controls how many shards I have I",
    "start": "3186740",
    "end": "3194030"
  },
  {
    "text": "can have dynamically and because the first replica provides me",
    "start": "3194030",
    "end": "3199040"
  },
  {
    "text": "redundancy elasticsearch deploys the first replica to a different node than",
    "start": "3199040",
    "end": "3204410"
  },
  {
    "text": "the primary if I lose a node I retain the data in that second one you should always have one replica at least",
    "start": "3204410",
    "end": "3210880"
  },
  {
    "text": "additional replicas allow you to scale for query traffic so if I have a lot a",
    "start": "3210880",
    "end": "3216530"
  },
  {
    "text": "lot a lot of queries then I can replicate my shards and I can add instances and that's how I scale",
    "start": "3216530",
    "end": "3222080"
  },
  {
    "text": "horizontally when you create indexes as",
    "start": "3222080",
    "end": "3228170"
  },
  {
    "text": "you saw you set a mapping now it might occur to you that well okay so I'm gonna create an index every day and what am I",
    "start": "3228170",
    "end": "3233600"
  },
  {
    "text": "gonna do like go make a at midnight I'm gonna sit at the keyboard and really send off my like create the index so no",
    "start": "3233600",
    "end": "3241280"
  },
  {
    "text": "you don't have to do that elasticsearch will automatically create indexes and then you can set what's called a",
    "start": "3241280",
    "end": "3246440"
  },
  {
    "text": "template to apply the settings that you want for every index that gets created",
    "start": "3246440",
    "end": "3251540"
  },
  {
    "text": "that matches a wild card okay so in this case we have a template we're setting number of shards to two we're setting",
    "start": "3251540",
    "end": "3257930"
  },
  {
    "text": "the number of replicas to one and I have one mapping in there the verb is a keyword right anytime I create an index",
    "start": "3257930",
    "end": "3264650"
  },
  {
    "text": "that matches log source one - star this these settings are applied to that index",
    "start": "3264650",
    "end": "3269720"
  },
  {
    "text": "that means my automatic tool which is flowing data like logstash is flowing data it will start flowing into",
    "start": "3269720",
    "end": "3276350"
  },
  {
    "text": "tomorrow's index at midnight point one and it will then elasticsearch will",
    "start": "3276350",
    "end": "3282380"
  },
  {
    "text": "create the new index with these settings I as I mentioned at the end of the",
    "start": "3282380",
    "end": "3288890"
  },
  {
    "text": "data's life in elasticsearch one thing you might want to do is to copy off the",
    "start": "3288890",
    "end": "3294800"
  },
  {
    "text": "archive off the index to s3 you can do that with a lasting search of snapshot",
    "start": "3294800",
    "end": "3299870"
  },
  {
    "text": "API to send that single index to s3 then you're gonna delete that index that's an",
    "start": "3299870",
    "end": "3305420"
  },
  {
    "text": "optional step if you already have all your source data and that's three obviously you don't have to do that",
    "start": "3305420",
    "end": "3310900"
  },
  {
    "text": "correct yes so if you have your source data you don't need to archive off your index I don't have a solid answer about",
    "start": "3315680",
    "end": "3323810"
  },
  {
    "text": "whether it's faster to restore a snapshot or faster to reindex all your data it's it's not clear I mean you have",
    "start": "3323810",
    "end": "3331280"
  },
  {
    "text": "to flow all the data and in either case right so anyway you're gonna run a cron",
    "start": "3331280",
    "end": "3336380"
  },
  {
    "text": "or scheduled lamda or what have you that every day will delete yesterday well the",
    "start": "3336380",
    "end": "3341780"
  },
  {
    "text": "oldest index and this is bounded by a retention period that you decide I want to keep seven days worth of indexes the",
    "start": "3341780",
    "end": "3348590"
  },
  {
    "text": "end of day eight I go delete day eights index and I keep going there is a open",
    "start": "3348590",
    "end": "3356390"
  },
  {
    "text": "source tool called curator that does some of this management for you you can run it against the service ok well I",
    "start": "3356390",
    "end": "3365150"
  },
  {
    "text": "didn't talk for that long we have now a little interlude here everybody's going",
    "start": "3365150",
    "end": "3370520"
  },
  {
    "text": "to return to our lab and we're gonna type ten more commands so please return",
    "start": "3370520",
    "end": "3377690"
  },
  {
    "text": "to your lab and go until step 20",
    "start": "3377690",
    "end": "3381790"
  },
  {
    "text": "sorry [Music]",
    "start": "3388310",
    "end": "3392520"
  }
]