[
  {
    "start": "0",
    "end": "65000"
  },
  {
    "text": "all right uh thank you and good morning um and thank you again for coming to reinvent uh it's great to see uh all of",
    "start": "2040",
    "end": "8000"
  },
  {
    "text": "you in the audience this early on a Friday morning after a great party last night but but thank you very much for coming I'm Kevin Miller uh I'm one of",
    "start": "8000",
    "end": "14639"
  },
  {
    "text": "the engineering managers uh within the ec2 networking team and so uh my team is",
    "start": "14639",
    "end": "19760"
  },
  {
    "text": "responsible for services like virtual private Cloud uh our VPN service and our Direct Connect service and today I'm",
    "start": "19760",
    "end": "26240"
  },
  {
    "text": "going to do a deep dive on Amazon virtual private cloud and hope to address some of the uh the deeper questions you might have so without",
    "start": "26240",
    "end": "32960"
  },
  {
    "text": "further Ado we'll just uh uh get going so we've uh had several presentations",
    "start": "32960",
    "end": "38120"
  },
  {
    "text": "that reinvent the talk about virtual private cloud and different parts of of the networking stack within Amazon uh",
    "start": "38120",
    "end": "44160"
  },
  {
    "text": "just have a couple references I think these have all happened already so if you haven't attended them uh look for the audio or the slides afterwards uh",
    "start": "44160",
    "end": "51640"
  },
  {
    "text": "and if you if I don't answer your question here I suspect one of these others May uh these we've done we have a",
    "start": "51640",
    "end": "56760"
  },
  {
    "text": "lot of good content here this week on uh on private cloud and and some of our networking",
    "start": "56760",
    "end": "62600"
  },
  {
    "text": "Services all right we're going to cover three things today uh so first is going",
    "start": "62600",
    "end": "67799"
  },
  {
    "start": "65000",
    "end": "65000"
  },
  {
    "text": "to be routing and private connections we're going to do a deep dive on how customers think about using virtual private Cloud particularly in a hybrid",
    "start": "67799",
    "end": "75159"
  },
  {
    "text": "it architecture where you have uh maybe some existing infrastructure uh off premise and then uh bringing looking to",
    "start": "75159",
    "end": "81920"
  },
  {
    "text": "uh to expand into VPC so we're going talk about that we're going to talk about VPC peering which is a feature",
    "start": "81920",
    "end": "87159"
  },
  {
    "text": "that we launched in March of this year we're very excited about this uh this is a feature that allows you to connect uh",
    "start": "87159",
    "end": "92320"
  },
  {
    "text": "vpcs together with a highly available high capacity uh interconnection uh and",
    "start": "92320",
    "end": "97960"
  },
  {
    "text": "is great for some uh for some use cases where you have uh multiple applications or multiple business units so we'll talk",
    "start": "97960",
    "end": "104000"
  },
  {
    "text": "about that and then finally I'm very uh happy to talk about the the last section which will be uh uh related to customers",
    "start": "104000",
    "end": "110680"
  },
  {
    "text": "who have existing uh ec2 classic infrastructure uh we know many of our customers have significant classic",
    "start": "110680",
    "end": "116799"
  },
  {
    "text": "infrastructure and are looking for a path to VPC uh they they've see VPC they see that",
    "start": "116799",
    "end": "122119"
  },
  {
    "text": "we've been adding features to this over the last uh several years and would really like to adopt VPC and uh we have",
    "start": "122119",
    "end": "128560"
  },
  {
    "text": "uh a feature that I'm going to talk about today which we believe will help you do that and uh we we'll Deep dive on",
    "start": "128560",
    "end": "133879"
  },
  {
    "text": "that as well so that's what we're going to cover today all right so just to level set on",
    "start": "133879",
    "end": "139560"
  },
  {
    "start": "138000",
    "end": "138000"
  },
  {
    "text": "some terminology before we we Dive Right In uh uh we have two networking Stacks",
    "start": "139560",
    "end": "145160"
  },
  {
    "text": "within ec2 on the left we talk about our ec2 classic networking stack and VPC is",
    "start": "145160",
    "end": "150200"
  },
  {
    "text": "the other on the right so when we launched dc2 back uh you know back in uh uh several years ago uh we the",
    "start": "150200",
    "end": "157959"
  },
  {
    "text": "networking experience was a very simple networking stack uh we made it simple to get started every single instance has a",
    "start": "157959",
    "end": "163840"
  },
  {
    "text": "public IP address that's automatically assigned by Amazon we also automatically assign the private IP address uh and",
    "start": "163840",
    "end": "170159"
  },
  {
    "text": "we'll we give you control over security through security groups so you can use Security Group rules to restrict access",
    "start": "170159",
    "end": "175879"
  },
  {
    "text": "to your instances uh then in 2009 we introduced VPC and we've been adding features to it",
    "start": "175879",
    "end": "181840"
  },
  {
    "text": "over the last several years uh VPC gives you the ability to do much more uh uh deep uh security controls uh as well as",
    "start": "181840",
    "end": "189200"
  },
  {
    "text": "some of the popular networking features that customers have asked for over time so that includes things like uh multiple",
    "start": "189200",
    "end": "194920"
  },
  {
    "text": "network interfaces uh multiple uh IP addresses on an interface uh which",
    "start": "194920",
    "end": "200000"
  },
  {
    "text": "customers use for SSL hosting and applications like that uh routing tables to do some more advanced topology that",
    "start": "200000",
    "end": "206640"
  },
  {
    "text": "we'll we'll actually Deep dive on a bit here today uh Network acl's private connectivity through our VPN service and",
    "start": "206640",
    "end": "213799"
  },
  {
    "text": "then last year we launched our enhanced networking service with VPC and if you haven't used um enhanced networking uh",
    "start": "213799",
    "end": "220159"
  },
  {
    "text": "there was actually a talk uh yesterday or rather Wednesday that really uh Dove deep on enhanced networking but it",
    "start": "220159",
    "end": "225959"
  },
  {
    "text": "really is a significant inre increase in pack a performance uh on ec2 and we or",
    "start": "225959",
    "end": "231239"
  },
  {
    "text": "on uh within VPC and we're we're really excited to share that and and uh you know customers are uh responding very",
    "start": "231239",
    "end": "238480"
  },
  {
    "text": "positively to that so that's our VPC networking stack and uh then uh last",
    "start": "238480",
    "end": "244120"
  },
  {
    "text": "year we uh completed work on what we call our default VPC and so all accounts",
    "start": "244120",
    "end": "249799"
  },
  {
    "text": "that have been created with with AWS uh since uh last year since 124 of last",
    "start": "249799",
    "end": "255319"
  },
  {
    "text": "year have a uh are actually operating in VPC in this default VPC mode and so what",
    "start": "255319",
    "end": "261359"
  },
  {
    "text": "we tried to do with default VPC was really combine the best of these two worlds so with default bpc you get",
    "start": "261359",
    "end": "267600"
  },
  {
    "text": "started using the classic experience instances receive public IPS by default",
    "start": "267600",
    "end": "272639"
  },
  {
    "text": "we take care of the private IP addressing and um but you have the flexibility to start using any of the",
    "start": "272639",
    "end": "278400"
  },
  {
    "text": "VPC features uh at a at your own pace so it's at a point where you are interested in beginning to use VPC then you can",
    "start": "278400",
    "end": "285240"
  },
  {
    "text": "start turning those features on so we just launched our uh region in Germany a few weeks ago and actually every account",
    "start": "285240",
    "end": "291840"
  },
  {
    "text": "there is operating in a default VPC so again with with with with default VPC uh",
    "start": "291840",
    "end": "298160"
  },
  {
    "text": "you can get started with the classic exper experience use VPC features but you also can create your own vpcs you",
    "start": "298160",
    "end": "305039"
  },
  {
    "text": "know if you have an architecture where you're you're Allin with VPC and you you use it for everything you do you can",
    "start": "305039",
    "end": "310240"
  },
  {
    "text": "create as many vpcs as you want you know in those default VPC accounts so that's uh kind of the",
    "start": "310240",
    "end": "316919"
  },
  {
    "text": "background and some of the terminology if you are curious uh you know what your account is set up for in a particular",
    "start": "316919",
    "end": "322680"
  },
  {
    "text": "region uh there's actually uh a way to interrogate the apis and throughout the",
    "start": "322680",
    "end": "327720"
  },
  {
    "text": "day I'm going to use uh the a CLI tools to provide examples but most of not all",
    "start": "327720",
    "end": "333960"
  },
  {
    "text": "of these features are available in the AWS Management console as well uh so using the CLI tools we can we can run",
    "start": "333960",
    "end": "339560"
  },
  {
    "text": "this command and just confirm if we are uh if we have a devolve VPC if so that will be shown here as an attribute uh as",
    "start": "339560",
    "end": "346880"
  },
  {
    "text": "well as the supported platforms and so if I was a a ec2 classic customer my",
    "start": "346880",
    "end": "352319"
  },
  {
    "text": "supported platforms would show both VPC and",
    "start": "352319",
    "end": "357199"
  },
  {
    "text": "ec2 all right so so we're going to now start to to Deep dive on routing and private connections and uh talk through",
    "start": "358160",
    "end": "364600"
  },
  {
    "text": "some of the advanced capabilities of VPC so customers uh often come to us and",
    "start": "364600",
    "end": "372000"
  },
  {
    "start": "369000",
    "end": "369000"
  },
  {
    "text": "say you know I have uh some existing infrastructure either in a collocation facility or maybe my own Data Center and",
    "start": "372000",
    "end": "377560"
  },
  {
    "text": "I'd like to get started using VPC I'd like to build a hybrid architecture and how do I do that and what does it take",
    "start": "377560",
    "end": "383919"
  },
  {
    "text": "so we'll start with uh you know just that that you know you start with some some servers or some infrastructure running uh somewhere outside of",
    "start": "383919",
    "end": "391080"
  },
  {
    "text": "AWS uh the first thing you can do is create a VPC and uh again I'm going to show the commands to do everything that",
    "start": "391080",
    "end": "397400"
  },
  {
    "start": "392000",
    "end": "392000"
  },
  {
    "text": "I'm uh uh showing uh pictorially here today but uh you know with three",
    "start": "397400",
    "end": "402520"
  },
  {
    "text": "commands you can create a VPC you can create a couple uh subnets in this case I've created a subnet in two",
    "start": "402520",
    "end": "408639"
  },
  {
    "text": "availability zones and uh uh I can continue forward from",
    "start": "408639",
    "end": "414560"
  },
  {
    "text": "there the next thing I'm going to do uh again I'm if I'm looking for a hybrid architecture where my my existing",
    "start": "414560",
    "end": "421039"
  },
  {
    "start": "415000",
    "end": "415000"
  },
  {
    "text": "infrastructure my data center works with my VPC the next thing I'm going to do is create a VPN connectivity to my VPC and",
    "start": "421039",
    "end": "427879"
  },
  {
    "text": "so again with a a series of a few apis I can create uh the the objects that I need I create a what we call the the",
    "start": "427879",
    "end": "434520"
  },
  {
    "text": "virtual private Gateway which is the the lock icon there uh and then create a a customer Gateway basically identifying",
    "start": "434520",
    "end": "441199"
  },
  {
    "text": "the router that's going to be on my infrastructure uh my my perimeter and then create a VPN connection between",
    "start": "441199",
    "end": "447960"
  },
  {
    "text": "between the two now once you create a VPN connection we um make it we provide configuration",
    "start": "447960",
    "end": "454840"
  },
  {
    "text": "guidance for uh a variety of routing devices uh VPN routers that you'd have",
    "start": "454840",
    "end": "460440"
  },
  {
    "text": "at the edge of your network so I think today we have something like 14 different uh devices uh that we provide",
    "start": "460440",
    "end": "465919"
  },
  {
    "text": "configuration guidance for but all of these VPN connections are are built on industry standard IPC technology and so",
    "start": "465919",
    "end": "473120"
  },
  {
    "text": "uh customers are have identified uh you know beyond the 14 that we give uh guidance for customers have found that",
    "start": "473120",
    "end": "479919"
  },
  {
    "text": "it works and interoperates with other devices as well and we provide all the details about how to configure that but",
    "start": "479919",
    "end": "485199"
  },
  {
    "text": "if you are using one of the devices we provide the guidance for you can in most cases sort of copy and paste a set of um",
    "start": "485199",
    "end": "491520"
  },
  {
    "text": "routing instructions and apply them to your device to get a VPN connection",
    "start": "491520",
    "end": "497080"
  },
  {
    "text": "established so from here I'm going to go ahead and launch a few instances in my uh in my subnets and again kind of the",
    "start": "498479",
    "end": "505360"
  },
  {
    "text": "simplest possible way to uh launch some instances I just specify the machine IM I want I specify the subnet IDs uh as",
    "start": "505360",
    "end": "512680"
  },
  {
    "text": "well as you know you can actually mult launch multiple instances in one one API call now this is the key difference",
    "start": "512680",
    "end": "519479"
  },
  {
    "text": "between a run instances call if you're an ec2 classic customer and you're looking to use VPC this really is the",
    "start": "519479",
    "end": "525279"
  },
  {
    "text": "key difference between a run instance call for classic and a run instance call for VPC is that you specify the subnet",
    "start": "525279",
    "end": "532200"
  },
  {
    "text": "so that's how you identify that I'm going to launch this into a particular VPC a particular subnet uh and if you're not familiar",
    "start": "532200",
    "end": "538680"
  },
  {
    "text": "with VPC sub subnets are a specific so each subnet resides in a single a so",
    "start": "538680",
    "end": "543720"
  },
  {
    "text": "obviously we do recommend a multiple multi-az architecture uh and using multiple subnets therefore to to have",
    "start": "543720",
    "end": "550440"
  },
  {
    "text": "instances in multiple availability zones now another thing you can do with",
    "start": "550440",
    "end": "556920"
  },
  {
    "start": "555000",
    "end": "555000"
  },
  {
    "text": "this uh with this architecture is establish uh use AWS Direct Connect and",
    "start": "556920",
    "end": "562640"
  },
  {
    "text": "so our VPN service uh is ipvpn over the Internet uh Direct Connect actually allows you to establish a dedicated",
    "start": "562640",
    "end": "570200"
  },
  {
    "text": "uh circuit from your edge of your network into the AWS cloud and we",
    "start": "570200",
    "end": "575760"
  },
  {
    "text": "support Connection rates of 50 megabits per second all the way up to multiples of 10 gigabits per second that you can",
    "start": "575760",
    "end": "581560"
  },
  {
    "text": "use over a direct connect link now Direct Connect has a physical element to it so uh I am showing the apis actually",
    "start": "581560",
    "end": "588160"
  },
  {
    "text": "all of the uh configuration that you do on Direct Connect uh for on the Amazon",
    "start": "588160",
    "end": "593680"
  },
  {
    "text": "side is is actually done through apis it's self-service and we have a Management console for this um although",
    "start": "593680",
    "end": "599040"
  },
  {
    "text": "there is a a physical um interconnect that is that is then created uh so for",
    "start": "599040",
    "end": "604920"
  },
  {
    "text": "example if you have a uh uh an existing uh infrastructure an existing cage in",
    "start": "604920",
    "end": "610920"
  },
  {
    "text": "one of the uh 14 Direct Connect locations we have around the world uh this physical process takes typically",
    "start": "610920",
    "end": "616959"
  },
  {
    "text": "about 24 hours or less to get established and then you can have a direct connect link into our Cloud um if",
    "start": "616959",
    "end": "622200"
  },
  {
    "text": "you don't have a presence at one of those collocation facilities we have a a list of Partners I believe more than 50 Partners today that can help you get",
    "start": "622200",
    "end": "628800"
  },
  {
    "text": "connected from from wherever you are into into one of our uh 14 locations so again I'm showing the the",
    "start": "628800",
    "end": "634959"
  },
  {
    "text": "commands here that you can use to create a direct connect connection and in this case you can have both Direct Connect and VPN operating uh in in parallel",
    "start": "634959",
    "end": "641920"
  },
  {
    "text": "through the same virtual private Gateway and uh the way that this typically works is that Direct Connect would be the",
    "start": "641920",
    "end": "648000"
  },
  {
    "text": "primary link and you could have a VPN failover uh as a backup to the to direct connect uh or or not you could have a a",
    "start": "648000",
    "end": "654839"
  },
  {
    "text": "dedicated you know Direct Connect only all right so when you create a VPC uh we",
    "start": "654839",
    "end": "662760"
  },
  {
    "start": "659000",
    "end": "659000"
  },
  {
    "text": "every VPC has a default routing table and uh every subnet will use that routing table and so i' I've created",
    "start": "662760",
    "end": "669760"
  },
  {
    "text": "some connectivity here the last thing I need to do is is literally just uh put a route into my routing table and in this",
    "start": "669760",
    "end": "676200"
  },
  {
    "text": "case I'm just going to say I want all traffic coming out of my VPC to go through my virtual private Gateway uh",
    "start": "676200",
    "end": "681639"
  },
  {
    "text": "basically to go back to my data center and that's and I configure that and once I do that now I actually have full",
    "start": "681639",
    "end": "686920"
  },
  {
    "text": "endend connectivity my corporate Center can talk to my VPC and back my VPC is an",
    "start": "686920",
    "end": "692560"
  },
  {
    "text": "isolated box so as I'm showing it here there's there's no connectivity to the internet there's no connectivity",
    "start": "692560",
    "end": "698120"
  },
  {
    "text": "anywhere except back through my um my virtual private gateway to my home data center but now we have we're now we have",
    "start": "698120",
    "end": "705800"
  },
  {
    "text": "the ability to uh to implement a hybrid architecture where I'm I'm scaling out into the AWS Cloud uh or even moving",
    "start": "705800",
    "end": "713040"
  },
  {
    "text": "applications from my my data center to the cloud all right now I want to do a brief",
    "start": "713040",
    "end": "719720"
  },
  {
    "start": "718000",
    "end": "718000"
  },
  {
    "text": "uh segue and to talk about uh remote connectivity best practices and so some of our customers when they're building",
    "start": "719720",
    "end": "726320"
  },
  {
    "text": "hybrid architectures they come to us and say hey uh you know I I'm going to have a pretty hard dependency on AWS where",
    "start": "726320",
    "end": "733399"
  },
  {
    "text": "every single request that I receive is going to have to Transit the connection between my data center to AWS and back",
    "start": "733399",
    "end": "739839"
  },
  {
    "text": "uh so it's a it's a real-time ongoing dependency and so we talk about you know when when when we hear those kinds of",
    "start": "739839",
    "end": "745360"
  },
  {
    "text": "requests we talk about the availability patterns that we see so a good availability pattern that we",
    "start": "745360",
    "end": "751440"
  },
  {
    "text": "recommend uh is to use our VPN service uh in a with with bgp routing protocol",
    "start": "751440",
    "end": "757959"
  },
  {
    "text": "across those links and every VPN connection is actually implemented as a pair of IPC",
    "start": "757959",
    "end": "763639"
  },
  {
    "text": "tunnels so when you create a VPN connection you'll be given all of the information to connect two IPC tunnels",
    "start": "763639",
    "end": "769399"
  },
  {
    "text": "to two independent availability zones and this provides good availability if you set up and configure both of the IPC",
    "start": "769399",
    "end": "775920"
  },
  {
    "text": "tunnels now you don't have to use bgp you can actually do this with static routing but again for customers who are",
    "start": "775920",
    "end": "781959"
  },
  {
    "text": "building architectures with a a tight coupling between the data center and AWS we strongly recommend the use of bgp",
    "start": "781959",
    "end": "788079"
  },
  {
    "text": "here um we actually again we give you the configuration instructions to set this up uh some customers have never",
    "start": "788079",
    "end": "794279"
  },
  {
    "text": "used bgp before but typically report that you know once they have those exact commands that we provide it's fairly",
    "start": "794279",
    "end": "800560"
  },
  {
    "text": "easy to get this set up and working now this is this is a situ you know if this is set up as as it's shown uh if and",
    "start": "800560",
    "end": "808120"
  },
  {
    "text": "when there's a failure on on one of the devices uh one of the VPN endpoints within AWS traffic is automatically",
    "start": "808120",
    "end": "814199"
  },
  {
    "text": "rerouted to the alternate IPC tunnel so that maintains your",
    "start": "814199",
    "end": "819639"
  },
  {
    "text": "availability the next uh uh conversation we typically have with those customers",
    "start": "819959",
    "end": "825160"
  },
  {
    "text": "is about uh improving the availability of the devices at the uh customer end",
    "start": "825160",
    "end": "830759"
  },
  {
    "text": "and so a better U availability story here would be to actually create two VPN connections and to create that from two",
    "start": "830759",
    "end": "838120"
  },
  {
    "text": "routers on uh at the edge of your network so some of our customers may have multiple data centers or multiple",
    "start": "838120",
    "end": "843360"
  },
  {
    "text": "facilities and they would uh connect create these connections from routers in in different different data centers so",
    "start": "843360",
    "end": "848959"
  },
  {
    "text": "this will end up being a total of four bgp tunnels uh four IP SE tunnels rather with bgp running across them and in this",
    "start": "848959",
    "end": "856000"
  },
  {
    "text": "case if any of the four devices on this slide fail traffic is going to be automatically rerouted through the",
    "start": "856000",
    "end": "862000"
  },
  {
    "text": "alternate device so this provides a better uh availability story finally for customer that have uh",
    "start": "862000",
    "end": "870240"
  },
  {
    "text": "very stringent requirements uh about or the highest requirements about availability we typically recommend that",
    "start": "870240",
    "end": "875920"
  },
  {
    "text": "they investigate the use of adaas direct connect uh Direct Connect provides uh circuits and Pathways outside of the",
    "start": "875920",
    "end": "881880"
  },
  {
    "text": "internet uh it's dedicated between customer site and AWS um to improve uh",
    "start": "881880",
    "end": "888160"
  },
  {
    "text": "uh uh the consistency of the network performance and in this case I'm showing uh two Direct Connect connections those",
    "start": "888160",
    "end": "895360"
  },
  {
    "text": "are the Blue Links two Direct Connect connections from different routers at the the customer site to different uh",
    "start": "895360",
    "end": "901399"
  },
  {
    "text": "Direct Connect routers within AWS and then also using VPN as a backup and I think this provides the best",
    "start": "901399",
    "end": "907199"
  },
  {
    "text": "availability story for that connectivity uh between your site and AWS and again if you are building an application where",
    "start": "907199",
    "end": "913639"
  },
  {
    "text": "you have real-time uh you know service communication across those across these links we definitely recommend you you",
    "start": "913639",
    "end": "920320"
  },
  {
    "text": "build the best availability story that you can that you can now a couple other details about",
    "start": "920320",
    "end": "925560"
  },
  {
    "text": "this just to be clear Direct Connect connections are point-to-point connections single connections so in this case you'd be creating two Direct",
    "start": "925560",
    "end": "931399"
  },
  {
    "text": "Connect connections uh and each of our 14 Direct Connect locations offers a pair of uh of",
    "start": "931399",
    "end": "938959"
  },
  {
    "text": "routers so in any of our locations around the world you can bring two Connections in and they'll land on physically diverse gear within our",
    "start": "938959",
    "end": "945319"
  },
  {
    "text": "facility also some of our regions actually have uh not just two routers within a single facility but we have",
    "start": "945319",
    "end": "951480"
  },
  {
    "text": "multiple facilities so for example with our Us East one region you can connect uh both in New York as well as in",
    "start": "951480",
    "end": "957360"
  },
  {
    "text": "Ashburn Virginia and have Direct Connect links that are physically diverse as well as um uh Hardware",
    "start": "957360",
    "end": "965279"
  },
  {
    "text": "diverse all right so uh now we're going to continue to evolve this picture that we we started with a little bit ago",
    "start": "965480",
    "end": "971920"
  },
  {
    "start": "968000",
    "end": "968000"
  },
  {
    "text": "we're going to continue to evolve it and we're going to add internet connectivity to it so customers uh sometimes uh",
    "start": "971920",
    "end": "978160"
  },
  {
    "text": "typically we'll we'll build a hybrid architecture they may start with private connectivity only but then look to add",
    "start": "978160",
    "end": "983600"
  },
  {
    "text": "public connectivity at some point down the road so by adding public connectivity here we uh to do that we we",
    "start": "983600",
    "end": "989120"
  },
  {
    "text": "create an internet gateway and attach it to our VPC and then we're going to remove you know previously we had set up",
    "start": "989120",
    "end": "995480"
  },
  {
    "text": "a default route that just pointed home to our home data center now we're going to remove that route and point the default out the internet gateway and",
    "start": "995480",
    "end": "1002120"
  },
  {
    "text": "create a more specific route that points back at our home network so for example in this case I'm showing our corporate",
    "start": "1002120",
    "end": "1007440"
  },
  {
    "text": "data center may be 192 168 and we're going to point that back we're going to point all the traffic destined for that prefix back to our data center and",
    "start": "1007440",
    "end": "1014880"
  },
  {
    "text": "default pointing out to the internet",
    "start": "1014880",
    "end": "1018880"
  },
  {
    "text": "all right and I I also want to just uh underscore for customers who aren't",
    "start": "1020120",
    "end": "1025880"
  },
  {
    "text": "familiar with VPC U the internet gateway is a high capacity highly available service there's no inherent um single",
    "start": "1025880",
    "end": "1032600"
  },
  {
    "text": "point of failure within the internet gateway so you don't have to be concerned about capacity constraints there and functionally it is very",
    "start": "1032600",
    "end": "1038600"
  },
  {
    "text": "similar to what we provide in our ec2 classic environment so these the the internet gateway introduces no",
    "start": "1038600",
    "end": "1044558"
  },
  {
    "text": "additional latency or throughput constraints beyond what customers may see in 2 classic",
    "start": "1044559",
    "end": "1051520"
  },
  {
    "text": "today okay now uh one additional capability",
    "start": "1051559",
    "end": "1057679"
  },
  {
    "start": "1054000",
    "end": "1054000"
  },
  {
    "text": "that we have that sometimes customers use to simplify their routing tables is what we call route propagation and this",
    "start": "1057679",
    "end": "1063360"
  },
  {
    "text": "is a feature where we will automatically listen to the routes that you're advertising to us uh through bgp and we",
    "start": "1063360",
    "end": "1069480"
  },
  {
    "text": "will insert those into your routing your VPC routing table uh for you uh and this is a a pretty simple feature to",
    "start": "1069480",
    "end": "1075760"
  },
  {
    "text": "configure in this case I'm just showing that we are going to delete that route that static route that I just created",
    "start": "1075760",
    "end": "1081200"
  },
  {
    "text": "and then I'm going to enable route propagation where I basically I just have to specify the routing table that I",
    "start": "1081200",
    "end": "1086640"
  },
  {
    "text": "want this uh routes to be propagated into and then we'll start uh propagating those routes for you so this is useful",
    "start": "1086640",
    "end": "1092840"
  },
  {
    "text": "if you have um some customers have uh some customers will use uh NLS they'll",
    "start": "1092840",
    "end": "1098320"
  },
  {
    "text": "have an M MLS Cloud which they can then connect through direct connect to our",
    "start": "1098320",
    "end": "1103400"
  },
  {
    "text": "Cloud uh Cloud to Cloud so to speak and uh the the MLS uh over their Ms Cloud",
    "start": "1103400",
    "end": "1109679"
  },
  {
    "text": "they will dynamically advertise prefixes when maybe a new office comes online or new Data Center and with route",
    "start": "1109679",
    "end": "1115320"
  },
  {
    "text": "propagation then there's no additional work required when that site comes online the site comes online and then uh the route gets propagated",
    "start": "1115320",
    "end": "1123399"
  },
  {
    "text": "through all right an another feature that we have in VPC is the ability to create multiple routing tables so every",
    "start": "1124320",
    "end": "1131520"
  },
  {
    "text": "single Subnet in VPC has a routing table that it uses to make all forwarding decisions um by default we create a",
    "start": "1131520",
    "end": "1138000"
  },
  {
    "text": "single routing table and all of the subnets will use that routing table but here we're showing that we can create a",
    "start": "1138000",
    "end": "1143520"
  },
  {
    "text": "new subnet and a new routing table and we're going to associate the those two together and now all of the forwarding",
    "start": "1143520",
    "end": "1149440"
  },
  {
    "text": "decisions coming out of my new subnet this uh 101.3 is going to use this this new routing table and the new routing table",
    "start": "1149440",
    "end": "1156159"
  },
  {
    "text": "in this in this case we're going to uh basically configure this routing table to send all traffic to the internet uh",
    "start": "1156159",
    "end": "1163000"
  },
  {
    "text": "but this routing but but there will be no routes from our VPN or direct connect connection so in this case my 10 10.1.3",
    "start": "1163000",
    "end": "1171159"
  },
  {
    "text": "subnet will be a public only subnet these instances in this subnet will only have connectivity to the internet they",
    "start": "1171159",
    "end": "1177120"
  },
  {
    "text": "won't see a route uh to the home data center so sometimes customers will use this for for example their web you know",
    "start": "1177120",
    "end": "1183480"
  },
  {
    "text": "something that's web facing or they purely internet facing where they don't want it to have any connectivity to the home",
    "start": "1183480",
    "end": "1189919"
  },
  {
    "start": "1191000",
    "end": "1191000"
  },
  {
    "text": "network so uh one of the things that our customers have done over uh as we've introduced",
    "start": "1192159",
    "end": "1199760"
  },
  {
    "text": "VPC and we've scaled out in multiple regions uh we've seen a pattern where where customers are looking to connect multiple vpcs together uh sometimes uh",
    "start": "1199760",
    "end": "1207960"
  },
  {
    "text": "uh most commonly today this would occur across multiple regions where a customer has instances in you know multiple",
    "start": "1207960",
    "end": "1213760"
  },
  {
    "text": "regions and they like their vpcs to they'd like to have private communication between those vpcs and so",
    "start": "1213760",
    "end": "1219159"
  },
  {
    "text": "today uh the way that we see customers solving this is to use uh some sort of software VPN capability so they'll",
    "start": "1219159",
    "end": "1225640"
  },
  {
    "text": "launch this as an instance and uh configure routes in the routing tables",
    "start": "1225640",
    "end": "1231159"
  },
  {
    "text": "for the the uh for those subnets to direct traffic to the to the remote VPC",
    "start": "1231159",
    "end": "1236480"
  },
  {
    "text": "you know through this this VPN instance and so the VPN instances here will have U the the connectivity between",
    "start": "1236480",
    "end": "1243760"
  },
  {
    "text": "them and we will uh create routes in the routing table um one other thing I want",
    "start": "1243760",
    "end": "1248799"
  },
  {
    "text": "to highlight on this slide uh is that uh you'll see uh in the commands the first command is modify network interface",
    "start": "1248799",
    "end": "1255200"
  },
  {
    "text": "attribute uh these commands so what it's actually doing with this this is doing is turning off what we call The Source",
    "start": "1255200",
    "end": "1260720"
  },
  {
    "text": "Des check so typically as a security mechanism every single instance uh we in",
    "start": "1260720",
    "end": "1266799"
  },
  {
    "text": "the in the substrate in the in the hypervisor we are inspecting every single packet and making sure that it's",
    "start": "1266799",
    "end": "1273159"
  },
  {
    "text": "either uh when it's in packets coming from the instance are coming from one of the uh Source IPS that are assigned to",
    "start": "1273159",
    "end": "1280000"
  },
  {
    "text": "that instance and vice versa when a packet's about to be delivered to the instance we look at it and check to make sure that it is uh destined for an IP",
    "start": "1280000",
    "end": "1286840"
  },
  {
    "text": "address in the instance and uh to when you when you have a software VPN like this you need to have",
    "start": "1286840",
    "end": "1293720"
  },
  {
    "text": "uh connectivity uh you need to actually turn that off so that uh packets can be sent to the VPN and then forward it on",
    "start": "1293720",
    "end": "1300400"
  },
  {
    "text": "to the remote site so we turn that uh software does check",
    "start": "1300400",
    "end": "1306240"
  },
  {
    "text": "off uh and then in this case uh so in this case we are allowing uh the 10.1.1",
    "start": "1306240",
    "end": "1311600"
  },
  {
    "text": "subnet and the 10.2.1 subnet to communicate uh through these VPN instances in the other subnets",
    "start": "1311600",
    "end": "1319000"
  },
  {
    "text": "and uh uh so another moving on another use case that we have uh another",
    "start": "1319000",
    "end": "1325919"
  },
  {
    "text": "situation that we see customers sometimes configure uh is a a case where they are looking to have uh some sort of",
    "start": "1325919",
    "end": "1331520"
  },
  {
    "text": "Gat or firewall between their traffic and the internet and so customers are able to do this as well using the",
    "start": "1331520",
    "end": "1337360"
  },
  {
    "text": "multiple routing tables and multiple subnets in this case we have a n or firewall instance and we create a we we",
    "start": "1337360",
    "end": "1343360"
  },
  {
    "text": "create a new routing table uh the routing table for the the subnet with the N or firewall instance sends traffic",
    "start": "1343360",
    "end": "1349240"
  },
  {
    "text": "straight to the internet the fire the the routes in the for the other subnet",
    "start": "1349240",
    "end": "1354400"
  },
  {
    "text": "send all of that traffic to the instance ID in this case the instance ID would be the instance ID of the N firewall",
    "start": "1354400",
    "end": "1362640"
  },
  {
    "text": "instance all right so that was a kind of a deep dive on some of the routing features we have in VPC and I mentioned",
    "start": "1364039",
    "end": "1371120"
  },
  {
    "text": "that some of our customers use software VPN to connect two vpcs together and we saw this as a as a pattern that was uh",
    "start": "1371120",
    "end": "1377600"
  },
  {
    "text": "that was happening uh quite a bit and so that's what inspired us to go look at building a feature uh that would solve",
    "start": "1377600",
    "end": "1383679"
  },
  {
    "text": "this problem for customers and so that's VPC peering again so we built this and launched this in March VPC pering",
    "start": "1383679",
    "end": "1390559"
  },
  {
    "text": "provides a high-capacity highly available path between two vpcs in the same region um so when I talked about",
    "start": "1390559",
    "end": "1397440"
  },
  {
    "text": "the software VPN I mentioned multi-region we definitely still see customers that are building software VPN",
    "start": "1397440",
    "end": "1402559"
  },
  {
    "text": "for that multi-region capability uh but uh within the region we've solved that with with VPC peering so VPC peering is",
    "start": "1402559",
    "end": "1410320"
  },
  {
    "text": "basically two vpcs that are going to be connected together uh we have a handshake protocol",
    "start": "1410320",
    "end": "1415559"
  },
  {
    "text": "that's required so you have to create a a peering connection and then the other VPC has to accept the peering connection",
    "start": "1415559",
    "end": "1423360"
  },
  {
    "text": "uh and that's partially because uh we actually allow this to occur across accounts so you can actually create a",
    "start": "1423360",
    "end": "1428760"
  },
  {
    "text": "VPC peering connection with a with a separate account when you do that the peering connection request you do have",
    "start": "1428760",
    "end": "1433960"
  },
  {
    "text": "to specify the pier account ID and then again the other account owner",
    "start": "1433960",
    "end": "1439039"
  },
  {
    "text": "uh has to accept that peering connection uh to ensure that uh it's it's authorized and I should note as well I",
    "start": "1439039",
    "end": "1445919"
  },
  {
    "text": "forgot to mentioned earlier but all of the commands that I'm running today uh can be locked down with I am policy so",
    "start": "1445919",
    "end": "1452679"
  },
  {
    "text": "uh typically we see uh customers build an IM am group uh uh that uh for Network",
    "start": "1452679",
    "end": "1459559"
  },
  {
    "text": "Engineers or or or sort of uh infrastructure Engineers that are authorized to make some of these fundamental infrastructure changes uh",
    "start": "1459559",
    "end": "1466440"
  },
  {
    "text": "and then create separate groups with with per to to to run instances or or do other operations but but not some of these",
    "start": "1466440",
    "end": "1473240"
  },
  {
    "text": "fundamental operations so again every single command you've seen here today can be controlled with IM",
    "start": "1473240",
    "end": "1479039"
  },
  {
    "text": "policy uh so with VPC peering I go ahead and I create my peering connection uh I accept it and then I create routes in",
    "start": "1479039",
    "end": "1485520"
  },
  {
    "text": "both of the respective routing tables to direct traffic through the peering connection to reach the other VPC now",
    "start": "1485520",
    "end": "1491320"
  },
  {
    "text": "the vpcs for peering have to be separate IP ranges they cannot overlap you cannot peer with something that overlaps with",
    "start": "1491320",
    "end": "1497799"
  },
  {
    "text": "yourself excuse me with yourself uh however vpca could actually peer with",
    "start": "1497799",
    "end": "1503919"
  },
  {
    "text": "multiple vpcs in the 10.20 uh address range so we do allow that uh and then",
    "start": "1503919",
    "end": "1509919"
  },
  {
    "text": "you would just use routing tables to direct traffic to one or the other VPC depending on what your interests",
    "start": "1509919",
    "end": "1517000"
  },
  {
    "text": "are all right a couple just uh considerations to be aware of around VPC peering uh today we don't support",
    "start": "1518640",
    "end": "1524760"
  },
  {
    "text": "security groups across our VPC peering connections the workr for this is that you can specify Rules by cider address",
    "start": "1524760",
    "end": "1530440"
  },
  {
    "text": "uh in your network ACLS or your security groups um we also don't currently support uh what we call a Transit",
    "start": "1530440",
    "end": "1537440"
  },
  {
    "text": "capability or Transit VPC where you would come in uh via VPN to one VPC and",
    "start": "1537440",
    "end": "1543480"
  },
  {
    "text": "then have a peering connection to the other so right now VPC peering is just for instances in the two vpcs to be able",
    "start": "1543480",
    "end": "1549880"
  },
  {
    "text": "to communicate between each other and then I mentioned the pier address range on the previous",
    "start": "1549880",
    "end": "1555720"
  },
  {
    "text": "slide some of the common patterns we see for VP PC peering uh one of my favorite is what I call the shared services model",
    "start": "1555720",
    "end": "1561720"
  },
  {
    "start": "1557000",
    "end": "1557000"
  },
  {
    "text": "so we hear from customers a lot that they have some common uh needs like um authentication monitoring logging Etc",
    "start": "1561720",
    "end": "1568399"
  },
  {
    "text": "and they want that to be centralized in one VPC but then they want to build separate vpcs that are maybe done at the",
    "start": "1568399",
    "end": "1574320"
  },
  {
    "text": "business unit level uh or sort of a group of like applications that are working together in one VPC so this is a",
    "start": "1574320",
    "end": "1580559"
  },
  {
    "text": "I think a great model for that where you can create in this case like vpca is at the center of the world that's your shared services VPC and then have other",
    "start": "1580559",
    "end": "1587559"
  },
  {
    "text": "vpcs that you're in with that again this would all be within the same region another use case that we see",
    "start": "1587559",
    "end": "1593880"
  },
  {
    "start": "1593000",
    "end": "1593000"
  },
  {
    "text": "customers talk about uh particularly with VPC is to have identical vpcs for Dev test and prod and again you can have",
    "start": "1593880",
    "end": "1600159"
  },
  {
    "text": "I mean they can be identical down to the IP addressing and the the sub subnets and the the rules uh so that you know",
    "start": "1600159",
    "end": "1606279"
  },
  {
    "text": "that what you're building in Dev or test is exactly what you're going to deploy in prod you know from the network infrastructure standpoint and then you",
    "start": "1606279",
    "end": "1612679"
  },
  {
    "text": "can use peering to know to gain access to those vpcs or to to you know to to monitor or or maintain those different",
    "start": "1612679",
    "end": "1620960"
  },
  {
    "text": "environments and then finally uh we talked a previous a few previous slides ago about uh the use of a VPN or or",
    "start": "1622279",
    "end": "1628720"
  },
  {
    "text": "sorry a natat or firewall device uh going out to the internet similarly you can do the same thing with VPC peering",
    "start": "1628720",
    "end": "1634320"
  },
  {
    "text": "so you can create a n or firewall that would direct so any traffic that's going to the the pier VPC would be directed",
    "start": "1634320",
    "end": "1640200"
  },
  {
    "text": "through this uh this n or firewalling instance uh again You' use multiple routing tables to do that we we show the",
    "start": "1640200",
    "end": "1646559"
  },
  {
    "text": "commands here as well as from the previous slides uh but this would allow you to put something in the middle of",
    "start": "1646559",
    "end": "1651760"
  },
  {
    "text": "this that would inspect all of this traffic okay uh so that was a quick",
    "start": "1651760",
    "end": "1659080"
  },
  {
    "text": "review of the VPC peering feature and uh unfortunately I can't take questions now but I will absolutely take questions",
    "start": "1659080",
    "end": "1664880"
  },
  {
    "text": "afterwards um uh we are now going to talk about uh how uh ec2 classic",
    "start": "1664880",
    "end": "1670159"
  },
  {
    "text": "customers can think about adopting VPC and uh some of the patterns we see there as well as uh a new feature that's",
    "start": "1670159",
    "end": "1676960"
  },
  {
    "text": "coming so in general we're hearing from a lot of customers saying hey you know I like",
    "start": "1676960",
    "end": "1682440"
  },
  {
    "text": "the things I'm hearing about VPC there's there's a lot of good stuff there but I don't know how to get started and uh you",
    "start": "1682440",
    "end": "1688039"
  },
  {
    "text": "know I have a lot of classic infrastructure that I want to that I want to that I have and I need to maintain that and I I I can't move that",
    "start": "1688039",
    "end": "1694279"
  },
  {
    "text": "uh without a plan so the first recommendation we have is to start simple uh the simplest VPC is is I've",
    "start": "1694279",
    "end": "1702039"
  },
  {
    "text": "sort of depicted a very simple VPC up here with uh uh it's the VPC it has an internet gateway and then we have one",
    "start": "1702039",
    "end": "1708159"
  },
  {
    "text": "Subnet in each uh in each availability Zone and so uh we also have a flag that",
    "start": "1708159",
    "end": "1713720"
  },
  {
    "text": "you can set on the subnets and each of those subnets can then be uh configured to automatically assign public IP",
    "start": "1713720",
    "end": "1719760"
  },
  {
    "text": "addresses when you launch instances into the the subnet so when setting this kind",
    "start": "1719760",
    "end": "1725080"
  },
  {
    "text": "of simple VPC up uh you will have an experience that is uh identical very",
    "start": "1725080",
    "end": "1732159"
  },
  {
    "text": "close to I shouldn't say identical but very close to Classic uh it is basically what we do with our default VPC uh",
    "start": "1732159",
    "end": "1738360"
  },
  {
    "text": "capability uh every instance would have a public IP address it will have internet connectivity and then you can",
    "start": "1738360",
    "end": "1743760"
  },
  {
    "text": "use security groups to control access as you would in",
    "start": "1743760",
    "end": "1748200"
  },
  {
    "text": "classic then over time as you need features uh in VPC you can start to take advantage of them at your own pace so we",
    "start": "1749000",
    "end": "1756120"
  },
  {
    "start": "1751000",
    "end": "1751000"
  },
  {
    "text": "have a lot of uh Advanced networking capabilities in VPC you don't need to use all of it um I I don't know that",
    "start": "1756120",
    "end": "1762200"
  },
  {
    "text": "that anyone uses all of it but there are uh there are features that individual customers find",
    "start": "1762200",
    "end": "1768679"
  },
  {
    "text": "U work helpful for their environments maybe it's multiple interfaces on the instance or multiple IP addresses uh it",
    "start": "1768679",
    "end": "1775760"
  },
  {
    "text": "could be the private connectivity we talked about or enhanced networking uh T2 instances for example is another",
    "start": "1775760",
    "end": "1781679"
  },
  {
    "text": "popular one that we're hearing about so again you can adopt these kind of at your own pace based on your based on",
    "start": "1781679",
    "end": "1787279"
  },
  {
    "text": "what you need now for customers that have a significant classic workload they they",
    "start": "1787279",
    "end": "1793120"
  },
  {
    "text": "ask you know how do I get these these classic instances uh and applications moved into VPC",
    "start": "1793120",
    "end": "1798840"
  },
  {
    "text": "today we've seen a couple patterns uh sort of a big bang versus incremental and I'll share some examples of that and",
    "start": "1798840",
    "end": "1805720"
  },
  {
    "text": "I have something new to talk about as well uh that will we believe will help customers migrate from uh classic to",
    "start": "1805720",
    "end": "1813279"
  },
  {
    "text": "VPC so the Big Bang approach uh if shown here sort of a simple topology where I have a load balancer and some instances",
    "start": "1813279",
    "end": "1819919"
  },
  {
    "start": "1814000",
    "end": "1814000"
  },
  {
    "text": "running in classic essentially what I do is I'll create a new VPC I'll create the",
    "start": "1819919",
    "end": "1825880"
  },
  {
    "text": "security groups very similar to what we just talked about in terms of a simple VPC I will then uh snapshot my",
    "start": "1825880",
    "end": "1834080"
  },
  {
    "text": "instances uh and any EBS storage and then I will recreate those in VPC and",
    "start": "1834080",
    "end": "1839559"
  },
  {
    "text": "then I'll recreate and reconfigure these and launch these as a relaunch these as my",
    "start": "1839559",
    "end": "1845720"
  },
  {
    "text": "application and then once I'm done with that I can of course turn off the old classic instances and uh be",
    "start": "1845720",
    "end": "1852399"
  },
  {
    "text": "completed so a big rang approach uh involves really thinking through the plan forar for it uh ultimately turning",
    "start": "1852399",
    "end": "1860120"
  },
  {
    "text": "uh shutting down the instances in classic uh building the amies the snapshots and then relaunching them in",
    "start": "1860120",
    "end": "1865880"
  },
  {
    "text": "VPC uh and finally reconfiguring them and and having them work in in VPC now",
    "start": "1865880",
    "end": "1871279"
  },
  {
    "text": "you can really dry run all of this uh so you can do this without touching your classic environment to to get very",
    "start": "1871279",
    "end": "1876880"
  },
  {
    "text": "confident in the final VPC configuration But ultimately with a big bang type of approach at the point that you uh uh",
    "start": "1876880",
    "end": "1884240"
  },
  {
    "text": "shut down your or or stop your your classic instances you know that will create um an availability uh event for",
    "start": "1884240",
    "end": "1890440"
  },
  {
    "text": "you uh so there would you know we'd recommend a maintenance window uh to perform that operation uh I think the",
    "start": "1890440",
    "end": "1896720"
  },
  {
    "text": "benefits of this are it's fairly straightforward if you have you know a small number of instances uh this uh may",
    "start": "1896720",
    "end": "1903279"
  },
  {
    "text": "be the simplest possible way to move you also can have a a fairly clear roll back",
    "start": "1903279",
    "end": "1908440"
  },
  {
    "text": "strategy uh you if you stop the instances in classic and something isn't working in VPC you can restart the",
    "start": "1908440",
    "end": "1914639"
  },
  {
    "text": "instances and then figure out what happened uh offline and and and retry",
    "start": "1914639",
    "end": "1920679"
  },
  {
    "text": "it uh the second type of approach we're hearing from customers that the customers are doing is is uh more of an",
    "start": "1921720",
    "end": "1927000"
  },
  {
    "start": "1922000",
    "end": "1922000"
  },
  {
    "text": "incremental approach or they're looking to migrate one component of their infrastructure at a time so in an",
    "start": "1927000",
    "end": "1932919"
  },
  {
    "text": "incremental adoption approach and if we assume that we have for example a Route 53 DNS name pointed at an elastic load",
    "start": "1932919",
    "end": "1938960"
  },
  {
    "text": "balancer um in this case you could start to move individual tiers of your application uh in this case uh perhaps",
    "start": "1938960",
    "end": "1944880"
  },
  {
    "text": "move some some of the web servers the front end web servers have those talk to a back endend that's still running in",
    "start": "1944880",
    "end": "1950799"
  },
  {
    "text": "classic and then over time uh you you turn off the classic load uh turn off",
    "start": "1950799",
    "end": "1956120"
  },
  {
    "text": "the classic web servers and then migrate the the back end into into VPC as well",
    "start": "1956120",
    "end": "1961440"
  },
  {
    "text": "using similar techniques to what we described with the big bag approach so the you know the the the",
    "start": "1961440",
    "end": "1967760"
  },
  {
    "text": "benefits of an incremental adoption uh it it is component by component you don't have to think about your entire",
    "start": "1967760",
    "end": "1973000"
  },
  {
    "text": "architecture in one shot you can really prepare each component U build a new copy of it in VPC",
    "start": "1973000",
    "end": "1978440"
  },
  {
    "text": "and then reconfigure those components As you move um you know we do believe this results in shorter uh maintenance",
    "start": "1978440",
    "end": "1984320"
  },
  {
    "text": "Windows uh the probably the the biggest challenge with this that customers face is that per component is the last bullet",
    "start": "1984320",
    "end": "1991080"
  },
  {
    "text": "on the con section which is it does require per component integration which is to say uh this is all done via public",
    "start": "1991080",
    "end": "1996720"
  },
  {
    "text": "IP communication so we don't have a capability uh today to integrate security groups between VPC and classic",
    "start": "1996720",
    "end": "2004039"
  },
  {
    "text": "so if you do follow this incremental adoption approach as we've identified it this would require public IP",
    "start": "2004039",
    "end": "2009919"
  },
  {
    "text": "communication that you would authorize on your instances so we're hearing from",
    "start": "2009919",
    "end": "2015240"
  },
  {
    "start": "2015000",
    "end": "2015000"
  },
  {
    "text": "customers that they want to move uh they want an incremental adoption approach they want uh to be able to do this",
    "start": "2015240",
    "end": "2020600"
  },
  {
    "text": "without a big maintenance window or have you know a large amount of downtime which which is absolutely the expectation for for modern services and",
    "start": "2020600",
    "end": "2027399"
  },
  {
    "text": "then um I don't want to have to have public IP communication they want they want private IP communication and they",
    "start": "2027399",
    "end": "2033880"
  },
  {
    "text": "want security grips that span classic and VPC and so uh I uh am pleased to",
    "start": "2033880",
    "end": "2040039"
  },
  {
    "text": "share a feature called VPC Classic Link uh VPC Classic Link will deliver um all",
    "start": "2040039",
    "end": "2045519"
  },
  {
    "text": "of the things that I just described and I'm going to share with you how that will work VPC Classic Link by the way uh",
    "start": "2045519",
    "end": "2051480"
  },
  {
    "text": "is going to be available in December so with Classic Link uh again",
    "start": "2051480",
    "end": "2057358"
  },
  {
    "text": "we're going to have start with a fairly typical architecture that we see uh here we have an elastic load balancer uh with",
    "start": "2057359",
    "end": "2063320"
  },
  {
    "text": "some maybe some front-end web servers and a database using uh rout 53 for example to",
    "start": "2063320",
    "end": "2068760"
  },
  {
    "text": "to direct DNS traffic at the load balancer although you could use other DNS providers this is not um exclusive",
    "start": "2068760",
    "end": "2074200"
  },
  {
    "text": "to rout 53 we're going to go ahead and create our VPC just as we've done with the prior uh",
    "start": "2074200",
    "end": "2080960"
  },
  {
    "text": "examples in this now this is some of the magic here that will be available with Classic Link so here I'm showing a",
    "start": "2080960",
    "end": "2086398"
  },
  {
    "text": "security group this is a VPC Security Group and you will be able to have",
    "start": "2086399",
    "end": "2091679"
  },
  {
    "text": "classic instances join the VPC Security Group so you will create this again create this as a VPC security group and",
    "start": "2091679",
    "end": "2098520"
  },
  {
    "text": "then using the Classic Link capabilities you'll be able to uh associate classic instances with that VPC Security",
    "start": "2098520",
    "end": "2106280"
  },
  {
    "text": "Group um as a first step in the migration we would suggest moving AWS managed infrastructure and I'll I'll",
    "start": "2106280",
    "end": "2111839"
  },
  {
    "text": "show I have a a slide that shows that in a little bit more detailed but but RDS databases for example would be something",
    "start": "2111839",
    "end": "2117119"
  },
  {
    "text": "I would suggest moving early um and once you move this this is again the kind of the key capability we have here with",
    "start": "2117119",
    "end": "2123400"
  },
  {
    "text": "Classic Link excuse me is that the the VPC sorry the classic instance is will",
    "start": "2123400",
    "end": "2128760"
  },
  {
    "text": "be able to communicate with the RDS database running in your VPC using private IP",
    "start": "2128760",
    "end": "2134200"
  },
  {
    "text": "addresses um so these instances that I'm showing here in the upper left you would",
    "start": "2134200",
    "end": "2139880"
  },
  {
    "text": "enable uh Classic Link uh and you would link these instances into this VPC and",
    "start": "2139880",
    "end": "2145720"
  },
  {
    "text": "I'll show you how that API is going to look here in a moment and then these instances will be able to access your",
    "start": "2145720",
    "end": "2151160"
  },
  {
    "text": "VPC resources subject to all of the normal VPC Security Group rules so you'll be able to consider these as just",
    "start": "2151160",
    "end": "2156680"
  },
  {
    "text": "members of your VPC Security Group now I should be clear that these instances will not be full VPC instances so they",
    "start": "2156680",
    "end": "2164920"
  },
  {
    "text": "will um they will not be they will not have an uh and uh you will you will",
    "start": "2164920",
    "end": "2171400"
  },
  {
    "text": "still with this approach you will still need to essentially launch replacement instances but during the migration",
    "start": "2171400",
    "end": "2177480"
  },
  {
    "text": "you'll be able to have this bidirectional private IP communication with VPC and",
    "start": "2177480",
    "end": "2182720"
  },
  {
    "text": "classic all right so here I'm showing just that I'm showing that now I've I've launched some new instances in my VPC",
    "start": "2182720",
    "end": "2188680"
  },
  {
    "text": "and I've created a new load balancer in my VPC and all of these are able to talk to the database which is running in VPC now",
    "start": "2188680",
    "end": "2196480"
  },
  {
    "text": "and then I can use uh DNS to start to shift traffic from my classic",
    "start": "2196480",
    "end": "2201560"
  },
  {
    "text": "environment over to my VPC environment and in fact the load balancer here",
    "start": "2201560",
    "end": "2208119"
  },
  {
    "text": "running in VPC could act will actually be able to use the uh classic instances",
    "start": "2208119",
    "end": "2214240"
  },
  {
    "text": "as backends for that load balancer so in some cases you don't even need to launch um you know double capacity you wouldn't",
    "start": "2214240",
    "end": "2220560"
  },
  {
    "text": "need to launch you know twice as much capacity you could actually do it sort of instance by instance and slowly migr",
    "start": "2220560",
    "end": "2226040"
  },
  {
    "text": "your instances from classic into VPC I should note that doing this you",
    "start": "2226040",
    "end": "2232920"
  },
  {
    "text": "are going to be redirecting DNS to a new set of IP addresses uh today classic and VPC IP addresses are separate pools so",
    "start": "2232920",
    "end": "2240079"
  },
  {
    "text": "the the classic IP addresses that you eips that you would use would be replaced by the VPC eips and and updated",
    "start": "2240079",
    "end": "2247040"
  },
  {
    "text": "through DNS to to direct traffic towards the towards the VPC load",
    "start": "2247040",
    "end": "2252920"
  },
  {
    "text": "balancer all right and then once we've completed that that part of the migration we can then uh turn off and",
    "start": "2253079",
    "end": "2258200"
  },
  {
    "text": "and remove our classic infrastructure and now we're running in a in a VPC only mode so the overall approach with",
    "start": "2258200",
    "end": "2265160"
  },
  {
    "text": "Classic Link um you'll be I'll show you some apis on the in the next few slides where you'll be able to to enable",
    "start": "2265160",
    "end": "2270880"
  },
  {
    "text": "Classic Link for the VPC you'll add you'll create the VPC VPC security groups just as you have done before",
    "start": "2270880",
    "end": "2278000"
  },
  {
    "text": "uh start to deploy in VPC add those classic instances into the VPC security groups and then begin the component by",
    "start": "2278000",
    "end": "2284800"
  },
  {
    "text": "component migration so we've built this feature uh Classic Link is built to be",
    "start": "2284800",
    "end": "2289920"
  },
  {
    "text": "again highly available uh the capability here introduces no additional um uh uh",
    "start": "2289920",
    "end": "2296240"
  },
  {
    "text": "intermediate between the between the instances so the instance to instance communication between classic VPC will",
    "start": "2296240",
    "end": "2302560"
  },
  {
    "text": "be uh just as it is for other instances within our network uh there's no addition intermediate there uh and uh so",
    "start": "2302560",
    "end": "2310680"
  },
  {
    "text": "it's high capacity as well all right so I mentioned earlier",
    "start": "2310680",
    "end": "2316280"
  },
  {
    "start": "2315000",
    "end": "2315000"
  },
  {
    "text": "about AWS manage infrastructure I wanted to share just a a bit more of a a clear picture of that so here I show on the",
    "start": "2316280",
    "end": "2323480"
  },
  {
    "text": "top on the uh on the top left I I have my ec2 classic infrastructure my instances and then on the the right hand",
    "start": "2323480",
    "end": "2330280"
  },
  {
    "text": "side I have the AWS managed infrastructure that I use in classic so that would be RDS databases elbs elastic",
    "start": "2330280",
    "end": "2337960"
  },
  {
    "text": "as nodes red shift databases and the like uh when I move to VPC that that's",
    "start": "2337960",
    "end": "2344440"
  },
  {
    "text": "one of the the main differences when we move to VPC is that um although it is still AWS Managed IT does show up uh in",
    "start": "2344440",
    "end": "2350760"
  },
  {
    "text": "your in your VPC uh as uh elastic network interfaces so in your VPC you",
    "start": "2350760",
    "end": "2356000"
  },
  {
    "text": "will have an eni for your RDS database or for your elb and so on so with Classic Link uh so you know the top",
    "start": "2356000",
    "end": "2363319"
  },
  {
    "text": "Green Arrow shows the existing pathway that you'd be using in classic you have connectivity between your instances and",
    "start": "2363319",
    "end": "2368960"
  },
  {
    "text": "the adabas manage infrastructure with Classic Link we're going to allow this this new Green Path where your classic",
    "start": "2368960",
    "end": "2374560"
  },
  {
    "text": "instances can talk to anything that's running in your VPC uh the red arrow though is meant to show that the AWS",
    "start": "2374560",
    "end": "2381960"
  },
  {
    "text": "manage infrastructure will not be able to communicate directly with other things in your VPC because it is AWS",
    "start": "2381960",
    "end": "2387319"
  },
  {
    "text": "managed and and it's doesn't have access to the Classic Link capability which is account",
    "start": "2387319",
    "end": "2392560"
  },
  {
    "text": "Centric so that's why we recommend essentially starting with AWS management infrastructure get that set up in your",
    "start": "2392560",
    "end": "2398920"
  },
  {
    "text": "VPC then move on to load balancers and then the back ends that are behind those load",
    "start": "2398920",
    "end": "2405520"
  },
  {
    "text": "balancers all right a few other considerations to use when you create the VPC that you're going to use with",
    "start": "2405920",
    "end": "2411000"
  },
  {
    "start": "2408000",
    "end": "2408000"
  },
  {
    "text": "Classic Link it needs to be either in 10.05 or any other range outside of 108",
    "start": "2411000",
    "end": "2418680"
  },
  {
    "text": "uh and the reason for that is basically that all classic ec2 instances are in the 10.2 to 10255 range and so for",
    "start": "2418680",
    "end": "2425480"
  },
  {
    "text": "Classic Link to work we actually need to have access to that whole range uh to talk to your VPC so make sure that your",
    "start": "2425480",
    "end": "2431319"
  },
  {
    "text": "VPC is addressed accordingly we also uh have a rule in place to prevent you from",
    "start": "2431319",
    "end": "2436480"
  },
  {
    "text": "accidentally creating uh a black hole topology where uh if you have a route table entry to 108 uh you won't be able",
    "start": "2436480",
    "end": "2443280"
  },
  {
    "text": "to to use Classic Link as well because again the classic instances are in that 108 range now what customers can",
    "start": "2443280",
    "end": "2450680"
  },
  {
    "text": "certainly do is create a VPC use Classic Link complete a migration and then all",
    "start": "2450680",
    "end": "2456359"
  },
  {
    "text": "of these rules go way as far as the routing table issues are concerned you you can uh you can then create a 10/8",
    "start": "2456359",
    "end": "2462480"
  },
  {
    "text": "after Classic Link is turned off you know once once you turn Classic Link off at the end of your migration 108 is",
    "start": "2462480",
    "end": "2468560"
  },
  {
    "text": "available in the route table um all of the classic in again the",
    "start": "2468560",
    "end": "2473800"
  },
  {
    "text": "classic instances that are classic linked will still be classic instances they are not they don't use the internet",
    "start": "2473800",
    "end": "2479000"
  },
  {
    "text": "connectivity uh through VPC they also don't have access to VPN or direct connect uh through the VPC so again they",
    "start": "2479000",
    "end": "2485920"
  },
  {
    "text": "have it is instan instance private communication between VPC and classic uh",
    "start": "2485920",
    "end": "2491000"
  },
  {
    "text": "that's what the feature enables and you will be using this you will enable Classic Link after you run",
    "start": "2491000",
    "end": "2497040"
  },
  {
    "text": "or start an instance so whenever you do one of those operations you will need to uh complete the linking process to to",
    "start": "2497040",
    "end": "2503480"
  },
  {
    "text": "enable the com the communication uh and finally there's a caveat about DNS names DNS names will",
    "start": "2503480",
    "end": "2508800"
  },
  {
    "text": "not the private names will not resolve across this link either so you'll use IP addresses to communicate between classic",
    "start": "2508800",
    "end": "2514200"
  },
  {
    "text": "and VPC all right so now I'm going to give a just a brief summary of the apis of how",
    "start": "2514200",
    "end": "2520599"
  },
  {
    "text": "it's going to work so there will be a total of of four apis in use here there's also a describe API as well that",
    "start": "2520599",
    "end": "2526920"
  },
  {
    "text": "you'll you you you'll be able to use but uh again you to start you'll enable Classic Link on your VPC and again this",
    "start": "2526920",
    "end": "2533560"
  },
  {
    "text": "is allow to allow you to have an IM IM policy if you don't want to do have anything to do with Classic Link um you",
    "start": "2533560",
    "end": "2539599"
  },
  {
    "text": "you can lock that off with I am and it won't impact your your VPC in any way",
    "start": "2539599",
    "end": "2545240"
  },
  {
    "text": "but you'll be able to enable it uh uh you will uh then call this attach",
    "start": "2545240",
    "end": "2551040"
  },
  {
    "text": "Classic Link VPC uh function and this is where you'll specify the instance ID and the VPC and the security groups that the",
    "start": "2551040",
    "end": "2558800"
  },
  {
    "text": "instance will now belong to so again these security groups will be VPC security groups and you will have the ability to",
    "start": "2558800",
    "end": "2565800"
  },
  {
    "text": "detach or disable as well uh so that once you're complete uh you'll be able to turn it",
    "start": "2565800",
    "end": "2571319"
  },
  {
    "text": "off a couple other considerations to talk about with other services so again I mentioned on a previous slide but e",
    "start": "2571319",
    "end": "2577359"
  },
  {
    "text": "classic instances through Classic Link you can use them as backends of VPC load balancers so you can actually go today",
    "start": "2577359",
    "end": "2584000"
  },
  {
    "text": "uh in December assume today is December you will be able to uh create a VPC load",
    "start": "2584000",
    "end": "2589400"
  },
  {
    "text": "balancer elastic load balancer and then uh wire in your ec2 classic instances as",
    "start": "2589400",
    "end": "2594839"
  },
  {
    "text": "backends for that you'll also be able to use this with spot instances as well as Auto scaling will be enhanced to support",
    "start": "2594839",
    "end": "2601160"
  },
  {
    "text": "Linkin classic instances um so following launch all right uh and that concludes",
    "start": "2601160",
    "end": "2608440"
  },
  {
    "text": "my uh update today on uh sort of VPC routing features and our Classic Link feature uh I can't take questions now",
    "start": "2608440",
    "end": "2614760"
  },
  {
    "text": "but I will step outside and be available for questions thank you very much for coming",
    "start": "2614760",
    "end": "2620880"
  }
]