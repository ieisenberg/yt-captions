[
  {
    "start": "0",
    "end": "60000"
  },
  {
    "text": "all right uh so i'm don mccaskill uh co-founder ceo and chief geek at smugmug",
    "start": "5279",
    "end": "10800"
  },
  {
    "text": "a popular photo sharing company before we get going i'd love to see who",
    "start": "10800",
    "end": "17279"
  },
  {
    "text": "i'm talking to so um if you are at or about to start a startup would you mind",
    "start": "17279",
    "end": "23359"
  },
  {
    "text": "putting your hands up so i just okay and how many people here would consider",
    "start": "23359",
    "end": "29359"
  },
  {
    "text": "themselves be technical okay and how many are more sort of on",
    "start": "29359",
    "end": "34559"
  },
  {
    "text": "the business side of things okay about half half and half great",
    "start": "34559",
    "end": "40399"
  },
  {
    "text": "okay so i'm gonna i'm gonna rip through these slides a little faster than i otherwise",
    "start": "40399",
    "end": "46000"
  },
  {
    "text": "might because the last couple of sessions i went to there were great q a sessions and i'd love to take questions from you guys so",
    "start": "46000",
    "end": "52960"
  },
  {
    "text": "let's get going",
    "start": "52960",
    "end": "56360"
  },
  {
    "start": "60000",
    "end": "60000"
  },
  {
    "text": "okay so um who are we who's smug mug um we are a uh a set of superheroes um this",
    "start": "61039",
    "end": "66960"
  },
  {
    "text": "is a photo taken about six years ago uh 2006 when we first got introduced to amazon",
    "start": "66960",
    "end": "73520"
  },
  {
    "text": "web services we now have more than 100 employees more than 120 and so it's gotten a whole",
    "start": "73520",
    "end": "80159"
  },
  {
    "text": "lot bigger but we're all still heroes and so we're a premium photo and video sharing service",
    "start": "80159",
    "end": "85600"
  },
  {
    "text": "we everybody pays we ask for a credit card right up front so there's no free accounts",
    "start": "85600",
    "end": "91600"
  },
  {
    "text": "and we have millions of paying customers and and we store billions of photos",
    "start": "91600",
    "end": "97040"
  },
  {
    "text": "we are completely bootstrapped so we didn't do any venture rounds or take any outside capital in fact we didn't take",
    "start": "97040",
    "end": "103360"
  },
  {
    "text": "any inside capital either we took three servers from a failed.com that we had",
    "start": "103360",
    "end": "109119"
  },
  {
    "text": "begged and borrowed and stole some data center space and threw some software up",
    "start": "109119",
    "end": "114399"
  },
  {
    "text": "and started asking for credit cards since we're a private company we don't talk about our revenue numbers very",
    "start": "114399",
    "end": "119680"
  },
  {
    "text": "often the last time we did was in 2007 when we crossed 10 million we are profitable and have been",
    "start": "119680",
    "end": "127119"
  },
  {
    "text": "pretty much the entire 10 years in terms of traffic we get 35 million people a month and we are a top 250",
    "start": "127119",
    "end": "134560"
  },
  {
    "text": "website in the us so fairly big scale",
    "start": "134560",
    "end": "138959"
  },
  {
    "start": "139000",
    "end": "139000"
  },
  {
    "text": "our challenge is sort of interesting in our space in that we are a premium service people are actually paying us",
    "start": "139760",
    "end": "145360"
  },
  {
    "text": "money and so they demand more stuff they demand it to be better and of course",
    "start": "145360",
    "end": "150480"
  },
  {
    "text": "faster so we provide unlimited storage we provide unlimited bandwidth and the",
    "start": "150480",
    "end": "156640"
  },
  {
    "text": "photos are huge we store billions of them and they are up to 100 megapixels",
    "start": "156640",
    "end": "161920"
  },
  {
    "text": "apiece um and we do huge videos 1080p at very high bitrates and everything below",
    "start": "161920",
    "end": "167760"
  },
  {
    "text": "it and of course people are browsing on very high resolution displays and retina",
    "start": "167760",
    "end": "173280"
  },
  {
    "text": "display tablets and things like that so we have to display lots of photos and we have to do it really fast",
    "start": "173280",
    "end": "179519"
  },
  {
    "start": "179000",
    "end": "179000"
  },
  {
    "text": "our architecture early 2006 um pre-amazon was uh we had multiple data centers um",
    "start": "179920",
    "end": "187840"
  },
  {
    "text": "we were self-managed and self-installed hardware we were actually building our own hardware because we couldn't find uh",
    "start": "187840",
    "end": "194800"
  },
  {
    "text": "components from any of the major vendors that did what we wanted them to do so we had tons of spinning disks as",
    "start": "194800",
    "end": "200959"
  },
  {
    "text": "people were uploading all these photos and we had tons of custom servers we had to screw together and rack ourselves and",
    "start": "200959",
    "end": "206560"
  },
  {
    "text": "derack when they broke and pull broken hard disks out and all this sort of stuff so we were spending a huge",
    "start": "206560",
    "end": "212560"
  },
  {
    "text": "amount of effort on something that our customers quite frankly didn't care about this is all distracting from our core mission which",
    "start": "212560",
    "end": "219599"
  },
  {
    "text": "is to provide a great place to store and share your uh your memories uh we are we",
    "start": "219599",
    "end": "226000"
  },
  {
    "text": "weren't a data center company but we were acting like one um so we got this fateful phone call in early 2006 out of",
    "start": "226000",
    "end": "233200"
  },
  {
    "start": "230000",
    "end": "230000"
  },
  {
    "text": "the blue i've asked around at amazon to try to find out where the phone call originated",
    "start": "233200",
    "end": "238560"
  },
  {
    "text": "from nobody's totally sure the best that we have is that",
    "start": "238560",
    "end": "244159"
  },
  {
    "text": "jeff bezos put a bug in somebody's ear and they called us up so",
    "start": "244159",
    "end": "249360"
  },
  {
    "text": "the phone rings one day and they say hey this is amazon we know you think of us as a book seller but we'd like to sell",
    "start": "249360",
    "end": "255360"
  },
  {
    "text": "you storage and i said uh well okay you guys probably have a lot of",
    "start": "255360",
    "end": "261199"
  },
  {
    "text": "storage um so what are we talking about and they said how about 50 cents per gigabyte per",
    "start": "261199",
    "end": "267280"
  },
  {
    "text": "month um and so i right there on the phone i got a",
    "start": "267280",
    "end": "272560"
  },
  {
    "text": "sheet of paper out and did some quick math on what it was costing us and we said no sorry we do it for about 20",
    "start": "272560",
    "end": "277919"
  },
  {
    "text": "cents a gigabyte a month they said really how do you do that and i explained how we were",
    "start": "277919",
    "end": "282960"
  },
  {
    "text": "buying commodity off the shelf hard drives um oem drives and screwing them into storage enclosures ourself and all",
    "start": "282960",
    "end": "289919"
  },
  {
    "text": "this sort of stuff and they said wow that's very interesting thank you so much for the feedback see you later and uh weeks went by and",
    "start": "289919",
    "end": "297440"
  },
  {
    "text": "the phone rang again and they said we heard your feedback how about 15 cents per gigabyte per month sold i was",
    "start": "297440",
    "end": "304400"
  },
  {
    "text": "in so early 2006 we started playing around with um s3 and",
    "start": "304400",
    "end": "310800"
  },
  {
    "start": "308000",
    "end": "308000"
  },
  {
    "text": "we knew we need lots and lots of storage we didn't know if we were ready to trust",
    "start": "310800",
    "end": "315840"
  },
  {
    "text": "this bookseller to actually store our photos so we our usage started off slow",
    "start": "315840",
    "end": "322880"
  },
  {
    "text": "s3 wasn't slow we just started using it slow um so we decided that we would just make it be",
    "start": "322880",
    "end": "329039"
  },
  {
    "text": "our backup in case of disaster recovery and that we wouldn't uh sort of bet the farm on it at least not at first so we",
    "start": "329039",
    "end": "335840"
  },
  {
    "text": "started uh implementing it as our backup data store it took us less than a week i started writing the code on monday and",
    "start": "335840",
    "end": "341840"
  },
  {
    "text": "we were live and in production on a friday which was pretty awesome and our first bill was a whopping",
    "start": "341840",
    "end": "350000"
  },
  {
    "text": "1147.41 cents so we were pretty thrilled with the size of the bill i spent a lot",
    "start": "350039",
    "end": "355440"
  },
  {
    "text": "more money on hard disks that month i can tell you that um and uh it worked out so well and was so fast",
    "start": "355440",
    "end": "361759"
  },
  {
    "text": "durable and and reliable that we pretty quickly moved to it being primary and",
    "start": "361759",
    "end": "367680"
  },
  {
    "text": "our on-premise storage being backup and then we just got rid of the on-premise stuff and we realized wow this is for real",
    "start": "367680",
    "end": "374880"
  },
  {
    "text": "um and so we had done some internal estimates on how much money we might",
    "start": "374880",
    "end": "380319"
  },
  {
    "start": "376000",
    "end": "376000"
  },
  {
    "text": "save that first year we were hoping that it might be around a half a million dollars after the year was over we went back and",
    "start": "380319",
    "end": "386880"
  },
  {
    "text": "did the math to find out exactly what happened so we went from 64 million photos to 140 million photos over that",
    "start": "386880",
    "end": "393120"
  },
  {
    "text": "time period we stored 200 terabytes at s3 and those",
    "start": "393120",
    "end": "398319"
  },
  {
    "text": "disks would have gone uh disk costs would have gone from 40k a month to 100k a month",
    "start": "398319",
    "end": "404080"
  },
  {
    "text": "so instead of spending 922 thousand dollars we only spent two hundred",
    "start": "404080",
    "end": "409280"
  },
  {
    "text": "thirty thousand uh dollars and uh we saved six hundred and ninety two thousand dollars that first year in cold",
    "start": "409280",
    "end": "415759"
  },
  {
    "text": "hard savings one of the other things we didn't realize was since we were shifting away from capital expense to",
    "start": "415759",
    "end": "422800"
  },
  {
    "text": "variable op expense there was a big benefit in terms of cash",
    "start": "422800",
    "end": "428000"
  },
  {
    "text": "flow too we no longer had to deal with depreciation and amortization and all that sort of stuff so on top of the",
    "start": "428000",
    "end": "433680"
  },
  {
    "text": "actual savings there was uh some serious cash flow benefits too and of course as time went on we got to sell all those",
    "start": "433680",
    "end": "439759"
  },
  {
    "text": "disks we used to have and provision um and so about the same time when we",
    "start": "439759",
    "end": "444880"
  },
  {
    "start": "440000",
    "end": "440000"
  },
  {
    "text": "did the when we did the numbers um we realized that yes this was cheap we were",
    "start": "444880",
    "end": "450319"
  },
  {
    "text": "saving money it was awesome it was fast it was durable it was reliable but",
    "start": "450319",
    "end": "455599"
  },
  {
    "text": "we we realized that all of a sudden the entire company we were still pretty small as you saw from that slide",
    "start": "455599",
    "end": "462400"
  },
  {
    "text": "got to focus on photo sharing we got to focus on our mission instead of building machines and screwing in hard",
    "start": "462400",
    "end": "469599"
  },
  {
    "text": "disks and midnight trips to the data center in fact one time one memorable time",
    "start": "469599",
    "end": "476800"
  },
  {
    "text": "one of our data centers sold our power allotment out from under us they sold it to a bigger customer yahoo in this case",
    "start": "476800",
    "end": "484319"
  },
  {
    "text": "and just said sorry you uh you're out of luck and so we had to move physically move",
    "start": "484319",
    "end": "490080"
  },
  {
    "text": "all of our storage from one data center to another in the middle of the night one night uh so what we did is we drove",
    "start": "490080",
    "end": "496479"
  },
  {
    "text": "three of our station wagons over to the data center old beater station wagons the value of the hard disks far exceeded",
    "start": "496479",
    "end": "502240"
  },
  {
    "text": "the value of the car and filled them to the gills with hard disks we planted we planned three different routes through",
    "start": "502240",
    "end": "508720"
  },
  {
    "text": "town so that there was no chance of a train or a car accident or something taking out all of our storage and",
    "start": "508720",
    "end": "514080"
  },
  {
    "text": "literally moved them all in one night with s3 we didn't have to do this ever ever ever again something i never wanted",
    "start": "514080",
    "end": "519919"
  },
  {
    "text": "to do my my knuckles were white i was sweating as i'm driving a third of our storage across town in the middle of the",
    "start": "519919",
    "end": "525279"
  },
  {
    "text": "night um and and so if there's one takeaway from this talk uh for those of you especially in",
    "start": "525279",
    "end": "531839"
  },
  {
    "text": "startups i want you to listen to it's this that you get to focus on what",
    "start": "531839",
    "end": "536880"
  },
  {
    "text": "matters for your business not on all this other stuff so we had that revelation uh and said",
    "start": "536880",
    "end": "543519"
  },
  {
    "start": "541000",
    "end": "541000"
  },
  {
    "text": "well what else can we do and of course it turned out that uh while this was sort of the dark ages for",
    "start": "543519",
    "end": "550240"
  },
  {
    "text": "aws they just launched they did have another offering which was ec2 which uh",
    "start": "550240",
    "end": "555360"
  },
  {
    "text": "so far we hadn't touched so we knew we had lots of servers doing compute and",
    "start": "555360",
    "end": "560640"
  },
  {
    "text": "they had this thing called ec2 and apparently it was as good as s3 so we um",
    "start": "560640",
    "end": "566320"
  },
  {
    "text": "we decided to sort of take the plunge so we knew we had web server clusters we",
    "start": "566320",
    "end": "572320"
  },
  {
    "text": "knew we had background processing for for photos we had rendering stuff to do",
    "start": "572320",
    "end": "577839"
  },
  {
    "text": "all kinds of things and we were buying lots of servers to handle this stuff",
    "start": "577839",
    "end": "583200"
  },
  {
    "text": "and installing it ourselves and managing it ourselves and paying for all the power and cooling and everything",
    "start": "583200",
    "end": "588800"
  },
  {
    "text": "and of course lots of this stuff was often idle our customers upload a ton of",
    "start": "588800",
    "end": "594320"
  },
  {
    "text": "photos on sunday evening after they've shot all weekend but they don't upload that many you know",
    "start": "594320",
    "end": "599920"
  },
  {
    "text": "on a tuesday or a wednesday and conversely everybody views photos dramatically on monday when they",
    "start": "599920",
    "end": "606399"
  },
  {
    "text": "probably when they get into work and they don't want to actually work um and then during the rest of the week they're",
    "start": "606399",
    "end": "611600"
  },
  {
    "text": "not viewing as much so we had all these servers sitting idle that i had paid cold hard cash for and it's our cash not",
    "start": "611600",
    "end": "618560"
  },
  {
    "text": "some venture capitalist cash so this is a big deal um so the low-hanging fruit seem to be rendering",
    "start": "618560",
    "end": "625040"
  },
  {
    "text": "we render a lot of photos and and we render them to lots of different sizes so we can support lots of different devices",
    "start": "625040",
    "end": "631279"
  },
  {
    "start": "631000",
    "end": "631000"
  },
  {
    "text": "so we built this thing and it tried to take over the world um so we call it skynet because it did try to take over",
    "start": "631279",
    "end": "638320"
  },
  {
    "text": "the world but its first name was rubber band so ideally it was going to be an elastic",
    "start": "638320",
    "end": "644720"
  },
  {
    "text": "service that took customer uploads and turned them into",
    "start": "644720",
    "end": "650560"
  },
  {
    "text": "web viewable photos so since it was elastic it was going to be called rubber band and",
    "start": "650560",
    "end": "657440"
  },
  {
    "text": "it worked great we were able to scale up and scale down sunday nights were no longer a problem they used to take our",
    "start": "657440",
    "end": "663519"
  },
  {
    "text": "site offline sometimes all that sort of stuff and i automated it so that there is basically no humans",
    "start": "663519",
    "end": "670959"
  },
  {
    "text": "watching it so it it ran health checks across the cluster and and got cpu loads and all",
    "start": "670959",
    "end": "677920"
  },
  {
    "text": "that sort of stuff and made its own decisions for when to scale up and scale down",
    "start": "677920",
    "end": "683200"
  },
  {
    "text": "of course i failed to put in some safeguards and one evening it tried to take over the",
    "start": "683200",
    "end": "689440"
  },
  {
    "text": "world by launching almost 2 000 cores in a single api call",
    "start": "689440",
    "end": "695120"
  },
  {
    "text": "amazon web services said yep no problem here you go here's all your machines bam",
    "start": "695120",
    "end": "701120"
  },
  {
    "text": "tons and tons and tons of machines uh luckily i did catch it within the first hour so i only paid an hour of usage",
    "start": "701120",
    "end": "708800"
  },
  {
    "text": "and so we quickly renamed the service to skynet and and i quickly put in some safeguards",
    "start": "708800",
    "end": "714959"
  },
  {
    "text": "but fundamentally skynet is still running and nobody at smugmug pays much attention to it it just does its thing",
    "start": "714959",
    "end": "722079"
  },
  {
    "text": "and and it turned out to be a huge win we're able to scale up and scale down as",
    "start": "722079",
    "end": "729200"
  },
  {
    "text": "needed and our customers get their photos typically within seconds after they upload so they can upload huge huge",
    "start": "729200",
    "end": "735440"
  },
  {
    "text": "batches and we just farm them out across all kinds of different ec2 instances across availability availability zones",
    "start": "735440",
    "end": "742720"
  },
  {
    "text": "and away they go so pretty awesome so uh",
    "start": "742720",
    "end": "748560"
  },
  {
    "start": "745000",
    "end": "745000"
  },
  {
    "text": "it turned out to be very successful in part because we couldn't predict that user",
    "start": "748560",
    "end": "754240"
  },
  {
    "text": "generated load peaks right we could we could do some rough calculations sure sundays are heavy",
    "start": "754240",
    "end": "760240"
  },
  {
    "text": "but we don't know exactly how heavy they'll be um was there some major sporting event that a lot of people were",
    "start": "760240",
    "end": "765440"
  },
  {
    "text": "at that sunday um and uh and we knew you know we could detect sometimes the big spikes were",
    "start": "765440",
    "end": "771680"
  },
  {
    "text": "coming but we didn't know how big um so it was at best roughly predictable which is uh something we'll get to um you'll",
    "start": "771680",
    "end": "778720"
  },
  {
    "text": "see on some of the other services in a few slides that we migrated to amazon as well",
    "start": "778720",
    "end": "784399"
  },
  {
    "text": "um so um we uh we kept instrumenting and kept automating and and many of our services",
    "start": "784399",
    "end": "792079"
  },
  {
    "text": "uh including skynet just have no humans operating them today um",
    "start": "792079",
    "end": "798639"
  },
  {
    "start": "798000",
    "end": "798000"
  },
  {
    "text": "and then it dawned on us too this was um months after we had launched skynet and",
    "start": "799360",
    "end": "804959"
  },
  {
    "text": "and stopped it from taking over the world and everything that we might be able to leverage one of the other properties of aws which is",
    "start": "804959",
    "end": "813760"
  },
  {
    "text": "we could provision a ton of stuff um for a short period of time and sort of see",
    "start": "813760",
    "end": "819279"
  },
  {
    "text": "how it goes so it made it so that for the first time in our company's history we could experiment with new products",
    "start": "819279",
    "end": "825279"
  },
  {
    "text": "that we didn't totally know whether they'd be worth the investment um so",
    "start": "825279",
    "end": "831040"
  },
  {
    "text": "customers were begging us for a video we were basically just a photo sharing site at this point",
    "start": "831040",
    "end": "837120"
  },
  {
    "text": "and and so we said sure sure yeah we can do you know web quality video and our customers when we talked to them about",
    "start": "837120",
    "end": "842959"
  },
  {
    "text": "it said no no we want high def video and not just high def video we want bit rates that i'd be",
    "start": "842959",
    "end": "848959"
  },
  {
    "text": "proud to stream to my tv not to some mobile device or something where it's all blocky and chunky so they have",
    "start": "848959",
    "end": "855199"
  },
  {
    "text": "pretty demanding requirements and that would require racks and racks and racks of of high-powered servers",
    "start": "855199",
    "end": "862560"
  },
  {
    "text": "if we were to do it in our own data center and we we just weren't sure that there was a market here um you know there was there were services like",
    "start": "862560",
    "end": "869360"
  },
  {
    "text": "youtube out there and and stuff that were really um you know",
    "start": "869360",
    "end": "874880"
  },
  {
    "text": "taking the world by storm we just didn't know where our little company would fit",
    "start": "874880",
    "end": "880160"
  },
  {
    "text": "um so we in the end we just didn't know whether it would be a good product for our customers or not but we knew that it",
    "start": "880160",
    "end": "886880"
  },
  {
    "text": "would be relatively easy to write the software for and thanks to aws we could try it out",
    "start": "886880",
    "end": "893680"
  },
  {
    "start": "890000",
    "end": "890000"
  },
  {
    "text": "so we just spun up a big cluster on ec2 rolled out our software announced it to",
    "start": "893680",
    "end": "899360"
  },
  {
    "text": "our customers and sat back to watch we knew that if usage went way up",
    "start": "899360",
    "end": "904800"
  },
  {
    "text": "that that we just continued to scale and we knew that if customers said oh actually",
    "start": "904800",
    "end": "910639"
  },
  {
    "text": "we know we asked you for this but we don't really want it that we could turn literally turn it off we could just shut",
    "start": "910639",
    "end": "916880"
  },
  {
    "text": "it down and all we'd be out is the hours that it ran um so uh it worked like a charm",
    "start": "916880",
    "end": "923440"
  },
  {
    "text": "our customers got to use it the rendering was fast all that sort of stuff and it required a relatively minimal",
    "start": "923440",
    "end": "929839"
  },
  {
    "text": "investment mostly just software engineering time and luckily for us it took off our",
    "start": "929839",
    "end": "934959"
  },
  {
    "text": "customers love our video offering so midway through 2008 uh our customers",
    "start": "934959",
    "end": "941279"
  },
  {
    "start": "939000",
    "end": "939000"
  },
  {
    "text": "were begging us for something else that once again we didn't know whether there would be big adoption or",
    "start": "941279",
    "end": "947199"
  },
  {
    "text": "not uh and whether it be important and how how expensive it might be and that was for archival",
    "start": "947199",
    "end": "954720"
  },
  {
    "text": "type storage so we had offered unlimited storage as i mentioned before for sort of web",
    "start": "954720",
    "end": "961440"
  },
  {
    "text": "formats jpeg gif ping and now mpeg-4 but our customers were shooting in raw",
    "start": "961440",
    "end": "969040"
  },
  {
    "text": "they were editing in psds photoshop files they were shooting with hollywood grade",
    "start": "969040",
    "end": "975600"
  },
  {
    "text": "high def cameras that were much bigger bit rates even than we were supporting and things like this and they",
    "start": "975600",
    "end": "981759"
  },
  {
    "text": "wanted some place to store them and ideally they wanted to store them alongside the",
    "start": "981759",
    "end": "987759"
  },
  {
    "text": "versions that people were watching so totally breaks our business model because we're providing unlimited",
    "start": "987759",
    "end": "993519"
  },
  {
    "text": "storage knowing that jpegs can only be a certain size instead of these whoppers that are coming off of people's cameras",
    "start": "993519",
    "end": "999759"
  },
  {
    "text": "in raw and things like that and may be costly to implement lots of hard disks or or whatever even s3 like",
    "start": "999759",
    "end": "1007680"
  },
  {
    "text": "we could quickly consume a huge amount of storage on s3 so s3 alone wasn't a",
    "start": "1007680",
    "end": "1012720"
  },
  {
    "text": "good enough solution and of course we didn't know how many customers might actually be interested in this",
    "start": "1012720",
    "end": "1019600"
  },
  {
    "text": "so we uh we decided to try it with the help of another set of aws services so",
    "start": "1019600",
    "end": "1026558"
  },
  {
    "text": "it was called it's called devpay and basically it lets you mash up uh s3",
    "start": "1026559",
    "end": "1031918"
  },
  {
    "text": "and amazon payments so that any storage used actually gets billed to the customer rather than to us",
    "start": "1031919",
    "end": "1038959"
  },
  {
    "text": "so we enabled this for our customers to be able to simply turn on on their account and then they tie their smug mug",
    "start": "1038959",
    "end": "1045038"
  },
  {
    "text": "and amazon accounts together and they upload to their heart's content any type of file any size we don't even care it",
    "start": "1045039",
    "end": "1051360"
  },
  {
    "text": "can be word docs pdfs whatever so there were professional wedding",
    "start": "1051360",
    "end": "1056480"
  },
  {
    "text": "photographers out shooting a wedding and they'd upload like the pdf of the quote to to smug vault as we called it",
    "start": "1056480",
    "end": "1063679"
  },
  {
    "text": "to be able to reference a year later or something so they knew it was safe and sound and tied to the photos in question",
    "start": "1063679",
    "end": "1070080"
  },
  {
    "text": "and all this sort of stuff and it worked out great we had happy customers they immediately",
    "start": "1070080",
    "end": "1076799"
  },
  {
    "text": "started storing terabytes where the with of uh raw photos and and uh raw archival",
    "start": "1076799",
    "end": "1082559"
  },
  {
    "text": "video footage and all that sort of stuff um and we didn't have to handle any of the billing muck and and all that sort",
    "start": "1082559",
    "end": "1088240"
  },
  {
    "text": "of stuff so pretty great so there have been other cases where we have been able to leverage aws to figure out whether a",
    "start": "1088240",
    "end": "1095200"
  },
  {
    "text": "product makes sense sometimes it doesn't i just talked about two success stories but they're certainly the other way around too which has come in handy",
    "start": "1095200",
    "end": "1102960"
  },
  {
    "text": "as well so by 2009 we had uh",
    "start": "1102960",
    "end": "1108799"
  },
  {
    "start": "1103000",
    "end": "1103000"
  },
  {
    "text": "been informed by amazon that they had this great new payments platform and we could",
    "start": "1108799",
    "end": "1113919"
  },
  {
    "text": "easily drop it in and and see if our customers would rather pay for smugmug using their amazon",
    "start": "1113919",
    "end": "1120559"
  },
  {
    "text": "credentials rather than trust us with their credit card we're we're a small company and plenty of people of course",
    "start": "1120559",
    "end": "1127520"
  },
  {
    "text": "are worried about where their credit card details go so we said sure we'll we'll try it uh it",
    "start": "1127520",
    "end": "1133280"
  },
  {
    "text": "wasn't too difficult to implement so we enabled it for our subscriptions",
    "start": "1133280",
    "end": "1138559"
  },
  {
    "text": "and immediately we saw seven percent uptick in the number of subscribers so",
    "start": "1138559",
    "end": "1143679"
  },
  {
    "text": "there was clearly for years probably we will never know for sure but probably for years we were turning customers away",
    "start": "1143679",
    "end": "1150559"
  },
  {
    "text": "simply because they were willing to pay they just weren't willing to trust us with their credit card",
    "start": "1150559",
    "end": "1155840"
  },
  {
    "text": "data so that was pretty fascinating and then finally ec2",
    "start": "1155840",
    "end": "1163120"
  },
  {
    "start": "1160000",
    "end": "1160000"
  },
  {
    "text": "really started to get going for us up until 2009 ec2 was mostly just",
    "start": "1163120",
    "end": "1170799"
  },
  {
    "text": "compute instances and there was all this additional infrastructure that we needed to move some of our richer services over",
    "start": "1170799",
    "end": "1176880"
  },
  {
    "text": "there we needed load balancing we had written our own auto scaling stuff for skynet but it was very",
    "start": "1176880",
    "end": "1183760"
  },
  {
    "text": "specialized it wouldn't work as well for a general purpose thing like a web cluster or something there was no",
    "start": "1183760",
    "end": "1189120"
  },
  {
    "text": "monitoring so we were doing all of that manually too but in 2009 amazon heard",
    "start": "1189120",
    "end": "1194480"
  },
  {
    "text": "our pleas and presumably hundreds or thousands of other customers please and started releasing all these extra",
    "start": "1194480",
    "end": "1199919"
  },
  {
    "text": "services and tools that really leveled ec2 up and so",
    "start": "1199919",
    "end": "1205360"
  },
  {
    "text": "we got to start peeling off more and more services that were running in our data centers and gradually migrating",
    "start": "1205360",
    "end": "1211120"
  },
  {
    "text": "them to aws which was a a huge win",
    "start": "1211120",
    "end": "1216160"
  },
  {
    "start": "1216000",
    "end": "1216000"
  },
  {
    "text": "so the first one we tackled in 2009 was our photo and video serving platform so",
    "start": "1216160",
    "end": "1221520"
  },
  {
    "text": "we had already been rendering as you remember um in the cloud but until now we were still serving them",
    "start": "1221520",
    "end": "1228480"
  },
  {
    "text": "from our own um data centers and our own web clusters and one of the biggest reasons we were",
    "start": "1228480",
    "end": "1234880"
  },
  {
    "text": "doing that is that smugmug has a very complex and detailed security and",
    "start": "1234880",
    "end": "1239919"
  },
  {
    "text": "privacy layer that doesn't map well to the um to the way s3 handles you know",
    "start": "1239919",
    "end": "1246000"
  },
  {
    "text": "public versus private versus accols and so to move stuff up to",
    "start": "1246000",
    "end": "1253360"
  },
  {
    "text": "up to amazon to enable us to serve the photos and videos straight",
    "start": "1253360",
    "end": "1258480"
  },
  {
    "text": "from amazon which would be ideal since it's close to s3 also required us to",
    "start": "1258480",
    "end": "1263600"
  },
  {
    "text": "figure out how to handle that security and privacy layer in the cloud too and it it would have been possible but",
    "start": "1263600",
    "end": "1270559"
  },
  {
    "text": "very difficult to do before the advent of elastic load balancing and all that sort",
    "start": "1270559",
    "end": "1275679"
  },
  {
    "text": "of stuff but now that we have those things we uh we moved it and uh now client requests for all the photos and",
    "start": "1275679",
    "end": "1281840"
  },
  {
    "text": "videos were coming straight from amazon instead of doing this circuitous route behind the scenes",
    "start": "1281840",
    "end": "1287039"
  },
  {
    "text": "from amazon to smugmug and out to the client so that was turned out to be a big win and we got to",
    "start": "1287039",
    "end": "1292159"
  },
  {
    "text": "blend in auto scaling and elb and ec2 and s3 into this into this very critical mission critical",
    "start": "1292159",
    "end": "1299120"
  },
  {
    "text": "service for us the next one in 2010 was our real-time rendering",
    "start": "1299120",
    "end": "1306240"
  },
  {
    "start": "1302000",
    "end": "1302000"
  },
  {
    "text": "service so we have a rich public api and thousands of api",
    "start": "1306240",
    "end": "1311679"
  },
  {
    "text": "developers and both internally at smog mug and many of those external developers",
    "start": "1311679",
    "end": "1316720"
  },
  {
    "text": "often have very precise resolution requirements when they want to display some photos you can imagine",
    "start": "1316720",
    "end": "1321840"
  },
  {
    "text": "on on all the different mobile phones that everybody in this room has you guys all have very different screen resolutions",
    "start": "1321840",
    "end": "1327840"
  },
  {
    "text": "and ideally we want to serve exactly the right pixels for your screen both",
    "start": "1327840",
    "end": "1333200"
  },
  {
    "text": "because it looks better and because it can consume less bandwidth so for quite some time we've allowed",
    "start": "1333200",
    "end": "1339200"
  },
  {
    "text": "developers to basically specify the width and height in the url for for all the photos that are requested from smog",
    "start": "1339200",
    "end": "1345039"
  },
  {
    "text": "mug and we'll just render them specifically on our back end to that resolution",
    "start": "1345039",
    "end": "1350880"
  },
  {
    "text": "obviously now that we're serving the non-real-time rendered photos at ec2 at this point it makes sense to move this",
    "start": "1350880",
    "end": "1358240"
  },
  {
    "text": "service up to ec2 as well and get rid of that sort of circle round trip",
    "start": "1358240",
    "end": "1364159"
  },
  {
    "text": "so we again this is one of those things that's unpredictably",
    "start": "1364159",
    "end": "1369360"
  },
  {
    "text": "unpredictable from a user point of view one of the biggest consumers of this especially back then was our full screen",
    "start": "1369360",
    "end": "1375760"
  },
  {
    "text": "slideshow app and so we didn't know how many people would like find a set of photos and hit full",
    "start": "1375760",
    "end": "1381440"
  },
  {
    "text": "screen and need dozens or hundreds of photos rendered at very high resolution very rapidly to a specific pixel",
    "start": "1381440",
    "end": "1388960"
  },
  {
    "text": "dimension and so we had to make sure that we understood auto scaling well",
    "start": "1388960",
    "end": "1394400"
  },
  {
    "text": "and stick this behind yet another elb and in fact we had to tie the two the previous service and this one",
    "start": "1394400",
    "end": "1400880"
  },
  {
    "text": "together so that they could talk to each other in case there was some overlap so this was uh even more complicated but",
    "start": "1400880",
    "end": "1408080"
  },
  {
    "text": "it was an awful lot of fun and resulted in even faster serving of photos especially to mobile",
    "start": "1408080",
    "end": "1414159"
  },
  {
    "text": "devices and unused unusual screen sizes",
    "start": "1414159",
    "end": "1418559"
  },
  {
    "start": "1419000",
    "end": "1419000"
  },
  {
    "text": "uh the probably the most recent public customer facing one during this",
    "start": "1419360",
    "end": "1425280"
  },
  {
    "text": "time period we're busy moving all kinds of other behind-the-scenes stuff to amazon but um uploading was a huge one",
    "start": "1425280",
    "end": "1431760"
  },
  {
    "text": "um so up until this time up until 2011 we were still uploading into our data centers and then copying across country",
    "start": "1431760",
    "end": "1438720"
  },
  {
    "text": "to s3 and there were all kinds of reasons for this but the the biggest is that it's",
    "start": "1438720",
    "end": "1444480"
  },
  {
    "text": "one of our most complicated services there's all kinds of um issues around uh format verification",
    "start": "1444480",
    "end": "1450880"
  },
  {
    "text": "and access controls uh in smugmug's security settings and everything that that sort of resulted in a much tighter",
    "start": "1450880",
    "end": "1458240"
  },
  {
    "text": "integration with our core web service and so it took a lot more effort to break this out and move",
    "start": "1458240",
    "end": "1464000"
  },
  {
    "text": "it up to the cloud but it was a big win as you can imagine it's a lot more efficient for",
    "start": "1464000",
    "end": "1470480"
  },
  {
    "text": "customers to go right to where the storage is because we can store it quicker more reliably and we can get",
    "start": "1470480",
    "end": "1477440"
  },
  {
    "text": "skynet working and on processing the photo that much faster we couldn't use auto scaling in this",
    "start": "1477440",
    "end": "1483600"
  },
  {
    "text": "case because auto scaling still to this day terminates instances",
    "start": "1483600",
    "end": "1488960"
  },
  {
    "text": "with just a grace period that's like one to five minutes or something like that and as you can imagine a long running",
    "start": "1488960",
    "end": "1494799"
  },
  {
    "text": "video upload getting terminated just because auto scaling had decided we needed less instances behind the scenes",
    "start": "1494799",
    "end": "1500240"
  },
  {
    "text": "wouldn't be so great for our customers so that's something that we are handling internally ourselves",
    "start": "1500240",
    "end": "1505520"
  },
  {
    "text": "we're hoping that auto scaling continues to improve and we can improve along with them",
    "start": "1505520",
    "end": "1511679"
  },
  {
    "text": "and once again this is completely unpredictable load we see customers",
    "start": "1511679",
    "end": "1516799"
  },
  {
    "text": "sign up for the service and migrate their entire life's worth of photos tens and even hundreds of thousands of photos",
    "start": "1516799",
    "end": "1523840"
  },
  {
    "text": "in a single sort of uploading session once they sign up and often those people are at campuses like microsoft or google",
    "start": "1523840",
    "end": "1530480"
  },
  {
    "text": "where they have huge bandwidths i can only imagine that they've you know carried their hard disks in and plugged them into their",
    "start": "1530480",
    "end": "1536400"
  },
  {
    "text": "work computers and they're uploading them and we needed to be able to scale to handle those sorts of loads you can",
    "start": "1536400",
    "end": "1542400"
  },
  {
    "text": "imagine we saw a lot of extra uploads during big sporting events and natural",
    "start": "1542400",
    "end": "1548880"
  },
  {
    "text": "disasters like like hurricanes and things like that and so",
    "start": "1548880",
    "end": "1553919"
  },
  {
    "text": "pretty unpredictable we had to handle scaling ourselves but it was turned out to be a lot of fun",
    "start": "1553919",
    "end": "1561120"
  },
  {
    "start": "1561000",
    "end": "1561000"
  },
  {
    "text": "so today the vast majority of smugmug cpu usage is in the ec2",
    "start": "1561279",
    "end": "1566480"
  },
  {
    "text": "we still have a small amount in our data centers but a hundred percent of the photo photo and video",
    "start": "1566480",
    "end": "1572559"
  },
  {
    "text": "requests are served from aws and four out of five of our major large",
    "start": "1572559",
    "end": "1577600"
  },
  {
    "text": "customer facing web clusters are in aws 100 the the final one on that stack is in uh",
    "start": "1577600",
    "end": "1585039"
  },
  {
    "text": "private testing right now in aws and uh and we are hoping to be able to",
    "start": "1585039",
    "end": "1592400"
  },
  {
    "text": "turn it on pretty soon which would result in smug mug the entire stack finally being 100 in aws which is",
    "start": "1592400",
    "end": "1599440"
  },
  {
    "text": "something we have been uh waiting for for six years um we",
    "start": "1599440",
    "end": "1604799"
  },
  {
    "text": "as we grew along with aws we continued to have higher and higher",
    "start": "1604799",
    "end": "1612240"
  },
  {
    "text": "demands on our system and so we were continually outpacing particularly the i o capabilities",
    "start": "1612240",
    "end": "1618080"
  },
  {
    "text": "in ec2 so ephemeral disks and ebs we just weren't able to get the",
    "start": "1618080",
    "end": "1624240"
  },
  {
    "text": "performance we needed out of them and so we were sort of waiting for some magic sauce which finally arrived",
    "start": "1624240",
    "end": "1630159"
  },
  {
    "text": "this year in the form of dynamodb and ec2 instances with ssds",
    "start": "1630159",
    "end": "1635760"
  },
  {
    "text": "in our data centers all of our database machines have been 100 ssd for quite",
    "start": "1635760",
    "end": "1641039"
  },
  {
    "text": "some time and there's no way we could have sort of weaned ourselves off of the our",
    "start": "1641039",
    "end": "1646400"
  },
  {
    "text": "addiction to ssd to go into the cloud so the fact that they are there means that we finally",
    "start": "1646400",
    "end": "1652400"
  },
  {
    "text": "have 100 aws within our reach which is pretty exciting we've been uh like i said working on that for almost",
    "start": "1652400",
    "end": "1659279"
  },
  {
    "text": "uh you know six and a half years um so the if you haven't heard the ssd",
    "start": "1659279",
    "end": "1664480"
  },
  {
    "start": "1662000",
    "end": "1662000"
  },
  {
    "text": "instances are pretty amazing i'm so excited about them i have a whole slide just on those",
    "start": "1664480",
    "end": "1670559"
  },
  {
    "text": "they are extremely high scale iops systems uh we're going to use them primarily for databases but there are a",
    "start": "1670559",
    "end": "1677360"
  },
  {
    "text": "few other use cases we're thinking about as well it's one of the two final missing links",
    "start": "1677360",
    "end": "1682960"
  },
  {
    "text": "to let us migrate 100 to aws and each instance has 2 terabytes of ssd",
    "start": "1682960",
    "end": "1689039"
  },
  {
    "text": "storage which are capable of 120 000 random read iops at extremely low",
    "start": "1689039",
    "end": "1695200"
  },
  {
    "text": "latencies typically like sub one millisecond and ten thousand to eighty five thousand",
    "start": "1695200",
    "end": "1700320"
  },
  {
    "text": "random write iops depending on how the writes are distributed across your disk and stuff so yeah they're pretty amazing",
    "start": "1700320",
    "end": "1707760"
  },
  {
    "text": "um the other uh unbelievably amazing thing for us um is dynamodb",
    "start": "1707760",
    "end": "1714159"
  },
  {
    "start": "1709000",
    "end": "1709000"
  },
  {
    "text": "um so this is the other thing that was blocking us from moving um and it's it's",
    "start": "1714159",
    "end": "1719440"
  },
  {
    "text": "much like s3 for databases in that it's totally bottomless it's replicated for",
    "start": "1719440",
    "end": "1725120"
  },
  {
    "text": "you across multiple azs it's insanely performant and in theory we can",
    "start": "1725120",
    "end": "1730720"
  },
  {
    "text": "just throw as much data and as much workload on it as we want and it will just do its thing",
    "start": "1730720",
    "end": "1736159"
  },
  {
    "text": "so it is a key value store it's not relational um like a typical sql store is but that's",
    "start": "1736159",
    "end": "1743520"
  },
  {
    "text": "okay because long ago we had discovered that key value storage was one of the important keys to our scaling success so",
    "start": "1743520",
    "end": "1751600"
  },
  {
    "text": "the vast majority of smugmug's data is already key value store it's just in ssd backed mysql instances",
    "start": "1751600",
    "end": "1759679"
  },
  {
    "text": "instead of dynamodb so we are busy moving tens of terabytes to dynamodb over the next few months and",
    "start": "1759679",
    "end": "1766880"
  },
  {
    "text": "are pretty excited to have it live there rather than in our systems where we have to monitor and maintain them",
    "start": "1766880",
    "end": "1774640"
  },
  {
    "start": "1774000",
    "end": "1774000"
  },
  {
    "text": "there was another awesome piece of alien technology that came out this year called cloud search",
    "start": "1774640",
    "end": "1781360"
  },
  {
    "text": "so this wasn't exactly a blocker for us moving into aws but it was something that had gotten to be very very",
    "start": "1781360",
    "end": "1788080"
  },
  {
    "text": "difficult for us so this is what a search for beach looks like on smugmug today with cloud search backing it and",
    "start": "1788080",
    "end": "1794399"
  },
  {
    "text": "our ui fronting it you can see down the list that there is a long list of different things you can sort and search",
    "start": "1794399",
    "end": "1800640"
  },
  {
    "text": "by we have tons and tons of facets on our data and the data is very large we have billions",
    "start": "1800640",
    "end": "1806799"
  },
  {
    "text": "of documents to search we have rich metadata about every photo in our system um",
    "start": "1806799",
    "end": "1812640"
  },
  {
    "text": "and the quality varies but some of them have um you know close to 100 different",
    "start": "1812640",
    "end": "1817840"
  },
  {
    "text": "pieces of data we might want to search and sort on and so over time our internal search infrastructure had",
    "start": "1817840",
    "end": "1824559"
  },
  {
    "text": "basically become duct tape and ssds we had just jammed hardware behind it as fast as we could",
    "start": "1824559",
    "end": "1831520"
  },
  {
    "text": "just to keep up with the demand but to do so we've been cutting features and",
    "start": "1831520",
    "end": "1837919"
  },
  {
    "text": "our search had quite frankly gotten to be subpar which is pretty critical for us um so with",
    "start": "1837919",
    "end": "1844880"
  },
  {
    "text": "cloud search we were able to jam those billions of documents it takes a while to transfer billions of documents but",
    "start": "1844880",
    "end": "1851200"
  },
  {
    "text": "we're able to jam them all into cloud search and just say hey just just handle this for us please we're done with the",
    "start": "1851200",
    "end": "1857760"
  },
  {
    "text": "duct tape and buying the ssds and all this sort of stuff so it is crazy fast even with crazy",
    "start": "1857760",
    "end": "1864240"
  },
  {
    "text": "queries you can search and sort by camera make a model and lenses and resolution and and whether it's for sale and what price",
    "start": "1864240",
    "end": "1871200"
  },
  {
    "text": "range it's for sale and all these things that we weren't ever able to do even when our internal search engine was",
    "start": "1871200",
    "end": "1877360"
  },
  {
    "text": "working properly so pretty amazing big win for us",
    "start": "1877360",
    "end": "1882960"
  },
  {
    "text": "so this is a i'm sure there might be more questions during the q a section but i always get lots of",
    "start": "1883200",
    "end": "1889360"
  },
  {
    "text": "questions about handling failure so i thought i'd cover some of it really quickly",
    "start": "1889360",
    "end": "1894559"
  },
  {
    "text": "everything breaks we like i said at the very beginning in 2002 we used three",
    "start": "1894559",
    "end": "1900880"
  },
  {
    "text": "old and busted servers from a failed.com to get this company off the ground and we knew those things were on their last",
    "start": "1900880",
    "end": "1907200"
  },
  {
    "text": "legs already so and i'd done internet companies before so we knew in our bones that everything",
    "start": "1907200",
    "end": "1913440"
  },
  {
    "text": "breaks so luckily for us this was in our dna before aws came along",
    "start": "1913440",
    "end": "1919360"
  },
  {
    "text": "but because we'd seen it break in our own data centers over and over and over stuff breaks so we've built",
    "start": "1919360",
    "end": "1926159"
  },
  {
    "text": "smug mug and its various services and components with failure in mind failure is",
    "start": "1926159",
    "end": "1931840"
  },
  {
    "text": "right now something is broken on smugmug i know i don't know what it is but something i promise you is broken right",
    "start": "1931840",
    "end": "1937120"
  },
  {
    "text": "this second and so we just plan for it um so one of the nice things about aws unlike",
    "start": "1937120",
    "end": "1944080"
  },
  {
    "start": "1940000",
    "end": "1940000"
  },
  {
    "text": "my own data centers we still have three of them where that's a low for us and hopefully we'll be at zero soon",
    "start": "1944080",
    "end": "1950960"
  },
  {
    "text": "is that when aws breaks it's mostly clearly defined you know",
    "start": "1950960",
    "end": "1956320"
  },
  {
    "text": "what services what what machine instances what availability",
    "start": "1956320",
    "end": "1962159"
  },
  {
    "text": "zones and what regions are and how they work with each other so you know that dynamodb spans multiple availability",
    "start": "1962159",
    "end": "1969039"
  },
  {
    "text": "zones for example but you know cloud search does not at least not yet so you can plan for stuff because you",
    "start": "1969039",
    "end": "1975440"
  },
  {
    "text": "have this concrete data about how failure happens inside of aws",
    "start": "1975440",
    "end": "1981039"
  },
  {
    "text": "the kind of concrete data i didn't have and my od and my own data center we didn't know if",
    "start": "1981039",
    "end": "1986720"
  },
  {
    "text": "we would have rack level failures because of failed power strips or failed switches for example",
    "start": "1986720",
    "end": "1992720"
  },
  {
    "text": "so and you can mix and match it to your heart's content if you are if you",
    "start": "1992720",
    "end": "1997840"
  },
  {
    "text": "uh if your data or service is critical enough that it needs to be multi-region and you have the um revenue stream to",
    "start": "1997840",
    "end": "2005039"
  },
  {
    "text": "back it then it's pretty easy to do if you're not um then you can do multiple availability zones if you're",
    "start": "2005039",
    "end": "2011360"
  },
  {
    "text": "just getting started your brand new bootstrap startup you might not need multiple availability",
    "start": "2011360",
    "end": "2016880"
  },
  {
    "text": "zones you just spin it up in one az and go to town",
    "start": "2016880",
    "end": "2022240"
  },
  {
    "text": "so you mix and match for your needs for us right now multiple availability zones is our sweet spot so most of our stuff",
    "start": "2022240",
    "end": "2029360"
  },
  {
    "text": "is running in at least three and often four availability zones and so we've survived",
    "start": "2029360",
    "end": "2035279"
  },
  {
    "text": "most of the amazon apocalypses what amazon describes as a service event",
    "start": "2035279",
    "end": "2042000"
  },
  {
    "text": "so they do happen they're not going to stop happening aws does a much better job at handling",
    "start": "2042000",
    "end": "2048638"
  },
  {
    "text": "these failures than we do so the failure rate has been dramatically lower over the last six years in their data centers",
    "start": "2048639",
    "end": "2055200"
  },
  {
    "text": "than it has been in hours so as disappointing as it is when one happens",
    "start": "2055200",
    "end": "2061118"
  },
  {
    "text": "a we've built for it properly and b we know from cold hard earned experience",
    "start": "2061119",
    "end": "2067919"
  },
  {
    "text": "that we would have them ourselves too so it's you know not the end of the world",
    "start": "2067919",
    "end": "2073358"
  },
  {
    "text": "so that is all the slides i had",
    "start": "2073359",
    "end": "2077838"
  }
]