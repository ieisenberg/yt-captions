[
  {
    "start": "0",
    "end": "30000"
  },
  {
    "text": "hello everyone my name is nicole arnoldi",
    "start": "1280",
    "end": "3679"
  },
  {
    "text": "and i'm a solutions architect here at",
    "start": "3679",
    "end": "5440"
  },
  {
    "text": "aws",
    "start": "5440",
    "end": "7040"
  },
  {
    "text": "today i will be demonstrating how you",
    "start": "7040",
    "end": "8800"
  },
  {
    "text": "can use the aws transit gateway",
    "start": "8800",
    "end": "10880"
  },
  {
    "text": "to enable networking between vpcs across",
    "start": "10880",
    "end": "13200"
  },
  {
    "text": "aws regions",
    "start": "13200",
    "end": "15519"
  },
  {
    "text": "we will start by quickly describing the",
    "start": "15519",
    "end": "17279"
  },
  {
    "text": "scenario and then we will recap some",
    "start": "17279",
    "end": "19359"
  },
  {
    "text": "basics of transit gateway",
    "start": "19359",
    "end": "20960"
  },
  {
    "text": "that will come in handy during the",
    "start": "20960",
    "end": "22480"
  },
  {
    "text": "actual demo we'll then move on to a",
    "start": "22480",
    "end": "24800"
  },
  {
    "text": "description of our design",
    "start": "24800",
    "end": "26560"
  },
  {
    "text": "and then end with the demo in the aws",
    "start": "26560",
    "end": "29039"
  },
  {
    "text": "management console",
    "start": "29039",
    "end": "31439"
  },
  {
    "start": "30000",
    "end": "112000"
  },
  {
    "text": "for the purpose of this demonstration i",
    "start": "31439",
    "end": "33200"
  },
  {
    "text": "will cover a scenario where you have",
    "start": "33200",
    "end": "34880"
  },
  {
    "text": "three vpcs in two aws regions",
    "start": "34880",
    "end": "37760"
  },
  {
    "text": "production staging and chat services",
    "start": "37760",
    "end": "40640"
  },
  {
    "text": "each of these vpcs is configured in a",
    "start": "40640",
    "end": "42719"
  },
  {
    "text": "different aws account",
    "start": "42719",
    "end": "45200"
  },
  {
    "text": "what we want to do is to enable",
    "start": "45200",
    "end": "46559"
  },
  {
    "text": "networking across regions between vpcs",
    "start": "46559",
    "end": "49280"
  },
  {
    "text": "so that workloads in the production vpc",
    "start": "49280",
    "end": "51360"
  },
  {
    "text": "in one region",
    "start": "51360",
    "end": "52559"
  },
  {
    "text": "can reach workloads in the same vpc and",
    "start": "52559",
    "end": "54879"
  },
  {
    "text": "account in the other region",
    "start": "54879",
    "end": "56879"
  },
  {
    "text": "the same applies to the staging vpc",
    "start": "56879",
    "end": "60160"
  },
  {
    "text": "the shared services vpc is used to",
    "start": "60160",
    "end": "62960"
  },
  {
    "text": "deploy services that are consumed by",
    "start": "62960",
    "end": "65119"
  },
  {
    "text": "both the production and staging vpcs in",
    "start": "65119",
    "end": "67360"
  },
  {
    "text": "the same region",
    "start": "67360",
    "end": "68960"
  },
  {
    "text": "to make this possible we need to enable",
    "start": "68960",
    "end": "71360"
  },
  {
    "text": "networking between the shared services",
    "start": "71360",
    "end": "73200"
  },
  {
    "text": "vpc",
    "start": "73200",
    "end": "74159"
  },
  {
    "text": "and the local production and staging",
    "start": "74159",
    "end": "76320"
  },
  {
    "text": "vpcs",
    "start": "76320",
    "end": "78880"
  },
  {
    "text": "in our scenario we also take into",
    "start": "78880",
    "end": "80799"
  },
  {
    "text": "account that in our organization",
    "start": "80799",
    "end": "83040"
  },
  {
    "text": "we have a networking team whose",
    "start": "83040",
    "end": "85119"
  },
  {
    "text": "responsibility is to look after the aws",
    "start": "85119",
    "end": "87520"
  },
  {
    "text": "networking",
    "start": "87520",
    "end": "88960"
  },
  {
    "text": "this is an organizational pattern we",
    "start": "88960",
    "end": "90799"
  },
  {
    "text": "often see with customers",
    "start": "90799",
    "end": "92400"
  },
  {
    "text": "which is why i think it's important we",
    "start": "92400",
    "end": "94000"
  },
  {
    "text": "reflect that in this demonstration",
    "start": "94000",
    "end": "96400"
  },
  {
    "text": "we will configure the transit gateways",
    "start": "96400",
    "end": "98320"
  },
  {
    "text": "required in our demo in a separate",
    "start": "98320",
    "end": "100000"
  },
  {
    "text": "network account and share them",
    "start": "100000",
    "end": "102159"
  },
  {
    "text": "appropriately with other accounts in a",
    "start": "102159",
    "end": "104000"
  },
  {
    "text": "controlled and secure way",
    "start": "104000",
    "end": "106079"
  },
  {
    "text": "but before we dive right into the demo",
    "start": "106079",
    "end": "108560"
  },
  {
    "text": "let's do a quick",
    "start": "108560",
    "end": "109439"
  },
  {
    "text": "refresh of the basics of tragic gateway",
    "start": "109439",
    "end": "114479"
  },
  {
    "start": "112000",
    "end": "410000"
  },
  {
    "text": "transient gateway is a regional service",
    "start": "114479",
    "end": "116320"
  },
  {
    "text": "that can be seen as a highly scalable",
    "start": "116320",
    "end": "118159"
  },
  {
    "text": "and highly available cloud router",
    "start": "118159",
    "end": "120159"
  },
  {
    "text": "that helps you simplify the way you",
    "start": "120159",
    "end": "121759"
  },
  {
    "text": "manage your aws networking by putting an",
    "start": "121759",
    "end": "124079"
  },
  {
    "text": "end to complex vpc period relationships",
    "start": "124079",
    "end": "127280"
  },
  {
    "text": "transit gateway also simplifies the",
    "start": "127280",
    "end": "129119"
  },
  {
    "text": "network configuration if you need to",
    "start": "129119",
    "end": "130560"
  },
  {
    "text": "enable hybrid networking between your",
    "start": "130560",
    "end": "132480"
  },
  {
    "text": "own premises facilities",
    "start": "132480",
    "end": "134319"
  },
  {
    "text": "such as branch office or a data center",
    "start": "134319",
    "end": "137360"
  },
  {
    "text": "using site-to-site vpn and direct",
    "start": "137360",
    "end": "139040"
  },
  {
    "text": "connect by consolidating all those",
    "start": "139040",
    "end": "140879"
  },
  {
    "text": "connections in a single place",
    "start": "140879",
    "end": "143200"
  },
  {
    "text": "at reenvent 2019 we introduced",
    "start": "143200",
    "end": "145520"
  },
  {
    "text": "inter-region peering",
    "start": "145520",
    "end": "147120"
  },
  {
    "text": "a feature that allows you to enable",
    "start": "147120",
    "end": "148640"
  },
  {
    "text": "networking across regions",
    "start": "148640",
    "end": "150560"
  },
  {
    "text": "using the aws global network",
    "start": "150560",
    "end": "153920"
  },
  {
    "text": "whenever you connect a resource to a",
    "start": "153920",
    "end": "155519"
  },
  {
    "text": "transit gateway whether it's a vpc",
    "start": "155519",
    "end": "157599"
  },
  {
    "text": "a side-to-side vpn connection at the",
    "start": "157599",
    "end": "160000"
  },
  {
    "text": "reconnect gate or a remote transit",
    "start": "160000",
    "end": "161760"
  },
  {
    "text": "gateway",
    "start": "161760",
    "end": "162720"
  },
  {
    "text": "you create what we call a transit",
    "start": "162720",
    "end": "164239"
  },
  {
    "text": "gateway attachment",
    "start": "164239",
    "end": "166080"
  },
  {
    "text": "whenever packets are sent from an",
    "start": "166080",
    "end": "167680"
  },
  {
    "text": "attachment into transit gateway",
    "start": "167680",
    "end": "169680"
  },
  {
    "text": "the transit gateway makes a forwarding",
    "start": "169680",
    "end": "171440"
  },
  {
    "text": "decision by performing a route lookup",
    "start": "171440",
    "end": "173519"
  },
  {
    "text": "operation in one of its root tables",
    "start": "173519",
    "end": "176640"
  },
  {
    "text": "a transit gateway route table that has",
    "start": "176640",
    "end": "178959"
  },
  {
    "text": "transit gateway which attachment to use",
    "start": "178959",
    "end": "180959"
  },
  {
    "text": "to send packet for a specific",
    "start": "180959",
    "end": "182840"
  },
  {
    "text": "destination",
    "start": "182840",
    "end": "184080"
  },
  {
    "text": "for example if a packet is received by",
    "start": "184080",
    "end": "186560"
  },
  {
    "text": "transit gate with from attachment d",
    "start": "186560",
    "end": "188879"
  },
  {
    "text": "and has a destination ip of 1009",
    "start": "188879",
    "end": "192560"
  },
  {
    "text": "transit gateway will look into its root",
    "start": "192560",
    "end": "194720"
  },
  {
    "text": "table for a match",
    "start": "194720",
    "end": "196800"
  },
  {
    "text": "a match with attachment a as an xtop is",
    "start": "196800",
    "end": "199599"
  },
  {
    "text": "found",
    "start": "199599",
    "end": "200560"
  },
  {
    "text": "and the packet is then sent onto",
    "start": "200560",
    "end": "202239"
  },
  {
    "text": "attachment a and delivered to the right",
    "start": "202239",
    "end": "204159"
  },
  {
    "text": "vpc",
    "start": "204159",
    "end": "206720"
  },
  {
    "text": "one of the ways transit gateway provides",
    "start": "206720",
    "end": "208720"
  },
  {
    "text": "flexibility in the way you can design",
    "start": "208720",
    "end": "210480"
  },
  {
    "text": "your cloud networking in aws",
    "start": "210480",
    "end": "212879"
  },
  {
    "text": "is by allowing you to have multiple root",
    "start": "212879",
    "end": "214799"
  },
  {
    "text": "tables",
    "start": "214799",
    "end": "216239"
  },
  {
    "text": "by having multiple root tables you can",
    "start": "216239",
    "end": "218239"
  },
  {
    "text": "identify and create multiple routing",
    "start": "218239",
    "end": "220080"
  },
  {
    "text": "domains",
    "start": "220080",
    "end": "221120"
  },
  {
    "text": "so that you have more granular control",
    "start": "221120",
    "end": "223280"
  },
  {
    "text": "over how packets received from each",
    "start": "223280",
    "end": "225040"
  },
  {
    "text": "attachment are handled by transit",
    "start": "225040",
    "end": "226720"
  },
  {
    "text": "gateway",
    "start": "226720",
    "end": "227840"
  },
  {
    "text": "each attachment is associated to one",
    "start": "227840",
    "end": "229920"
  },
  {
    "text": "root table",
    "start": "229920",
    "end": "231680"
  },
  {
    "text": "what this means in practice is that",
    "start": "231680",
    "end": "233920"
  },
  {
    "text": "whenever transient gateway receives a",
    "start": "233920",
    "end": "235840"
  },
  {
    "text": "packet from an attachment",
    "start": "235840",
    "end": "237519"
  },
  {
    "text": "it performs a root lookup operation in",
    "start": "237519",
    "end": "240000"
  },
  {
    "text": "the root table that is associated to",
    "start": "240000",
    "end": "241840"
  },
  {
    "text": "that attachment",
    "start": "241840",
    "end": "243360"
  },
  {
    "text": "for instance let's say that you have a",
    "start": "243360",
    "end": "245599"
  },
  {
    "text": "packet coming from attachment",
    "start": "245599",
    "end": "247200"
  },
  {
    "text": "a into the transit gateway with a",
    "start": "247200",
    "end": "249360"
  },
  {
    "text": "destination ap of 10",
    "start": "249360",
    "end": "251120"
  },
  {
    "text": "128 0 2 to 4. transit gateway will use",
    "start": "251120",
    "end": "255439"
  },
  {
    "text": "root table x to find out which",
    "start": "255439",
    "end": "257840"
  },
  {
    "text": "attachment to send the packet out from",
    "start": "257840",
    "end": "260479"
  },
  {
    "text": "a match is found and the packet is sent",
    "start": "260479",
    "end": "263040"
  },
  {
    "text": "onto attachment d",
    "start": "263040",
    "end": "266000"
  },
  {
    "text": "if we keep looking at this example if we",
    "start": "266080",
    "end": "268080"
  },
  {
    "text": "had for instance",
    "start": "268080",
    "end": "269440"
  },
  {
    "text": "a packet coming into attachment a with a",
    "start": "269440",
    "end": "271759"
  },
  {
    "text": "destination ap of 10",
    "start": "271759",
    "end": "273280"
  },
  {
    "text": "2 0 18 a root lookup in the root table",
    "start": "273280",
    "end": "277280"
  },
  {
    "text": "associated to attachment a would not",
    "start": "277280",
    "end": "279680"
  },
  {
    "text": "find a match",
    "start": "279680",
    "end": "280960"
  },
  {
    "text": "and therefore the packet would be",
    "start": "280960",
    "end": "282320"
  },
  {
    "text": "discarded",
    "start": "282320",
    "end": "285040"
  },
  {
    "text": "the last basic concept of transit",
    "start": "285199",
    "end": "286960"
  },
  {
    "text": "gateway that we need to discuss is their",
    "start": "286960",
    "end": "288639"
  },
  {
    "text": "so-called propagation",
    "start": "288639",
    "end": "290560"
  },
  {
    "text": "the question that we are asking",
    "start": "290560",
    "end": "291840"
  },
  {
    "text": "ourselves now is how are my root table",
    "start": "291840",
    "end": "294080"
  },
  {
    "text": "entries populated there are two methods",
    "start": "294080",
    "end": "296800"
  },
  {
    "text": "you can use to make sure your transit",
    "start": "296800",
    "end": "298320"
  },
  {
    "text": "gateway route tables have all the",
    "start": "298320",
    "end": "299840"
  },
  {
    "text": "entries they need for transit gateway",
    "start": "299840",
    "end": "301919"
  },
  {
    "text": "to be able to root packets the way you",
    "start": "301919",
    "end": "303680"
  },
  {
    "text": "wanted to",
    "start": "303680",
    "end": "305039"
  },
  {
    "text": "the first way is by adding routes",
    "start": "305039",
    "end": "306880"
  },
  {
    "text": "manually into your routing tables",
    "start": "306880",
    "end": "309280"
  },
  {
    "text": "in our example i manually add the root",
    "start": "309280",
    "end": "311919"
  },
  {
    "text": "to 10",
    "start": "311919",
    "end": "312639"
  },
  {
    "text": "128 0 0 16 by attachment d",
    "start": "312639",
    "end": "316000"
  },
  {
    "text": "to our root table vpc the second method",
    "start": "316000",
    "end": "319759"
  },
  {
    "text": "that you can use to add roots",
    "start": "319759",
    "end": "321440"
  },
  {
    "text": "to a transit gateway root table is by",
    "start": "321440",
    "end": "323360"
  },
  {
    "text": "propagating attachments",
    "start": "323360",
    "end": "325600"
  },
  {
    "text": "each attachment comes with routes that",
    "start": "325600",
    "end": "327759"
  },
  {
    "text": "can be installed to one",
    "start": "327759",
    "end": "329600"
  },
  {
    "text": "or more transit gateway route tables",
    "start": "329600",
    "end": "332080"
  },
  {
    "text": "when an attachment is propagated to a",
    "start": "332080",
    "end": "334160"
  },
  {
    "text": "route table",
    "start": "334160",
    "end": "335440"
  },
  {
    "text": "these routes are dynamically installed",
    "start": "335440",
    "end": "337280"
  },
  {
    "text": "in the root table",
    "start": "337280",
    "end": "339680"
  },
  {
    "text": "but how does all this fit into our",
    "start": "339680",
    "end": "341360"
  },
  {
    "text": "scenario let's go and have a look at our",
    "start": "341360",
    "end": "343199"
  },
  {
    "text": "network design",
    "start": "343199",
    "end": "344560"
  },
  {
    "text": "the setup that we have in both regions",
    "start": "344560",
    "end": "346479"
  },
  {
    "text": "is pretty much identical so i'm going to",
    "start": "346479",
    "end": "348479"
  },
  {
    "text": "cover just e-west one on the left-hand",
    "start": "348479",
    "end": "350639"
  },
  {
    "text": "side of the screen",
    "start": "350639",
    "end": "352160"
  },
  {
    "text": "there we have three vpcs each owned by a",
    "start": "352160",
    "end": "354560"
  },
  {
    "text": "different aws account",
    "start": "354560",
    "end": "356479"
  },
  {
    "text": "all of them are attached to a transient",
    "start": "356479",
    "end": "358319"
  },
  {
    "text": "gateway which is owned by a different",
    "start": "358319",
    "end": "360240"
  },
  {
    "text": "aws account",
    "start": "360240",
    "end": "361440"
  },
  {
    "text": "controlled by the network team the",
    "start": "361440",
    "end": "363759"
  },
  {
    "text": "transit gateway has four route tables",
    "start": "363759",
    "end": "365680"
  },
  {
    "text": "one per attachment",
    "start": "365680",
    "end": "367440"
  },
  {
    "text": "we need that because all four",
    "start": "367440",
    "end": "369039"
  },
  {
    "text": "attachments have different network",
    "start": "369039",
    "end": "370639"
  },
  {
    "text": "reachability requirements",
    "start": "370639",
    "end": "372319"
  },
  {
    "text": "the production vpc needs to access the",
    "start": "372319",
    "end": "374720"
  },
  {
    "text": "local chat vpc and the remote prop vpc",
    "start": "374720",
    "end": "378240"
  },
  {
    "text": "the staging vpc needs to access the",
    "start": "378240",
    "end": "380560"
  },
  {
    "text": "local chevy pc and the remote staging",
    "start": "380560",
    "end": "382720"
  },
  {
    "text": "vpc",
    "start": "382720",
    "end": "384000"
  },
  {
    "text": "the shared services vpc needs to access",
    "start": "384000",
    "end": "386560"
  },
  {
    "text": "the local prod and staging vpcs",
    "start": "386560",
    "end": "389919"
  },
  {
    "text": "finally the inbound traffic coming from",
    "start": "389919",
    "end": "392000"
  },
  {
    "text": "the inter-region peering attachment",
    "start": "392000",
    "end": "394400"
  },
  {
    "text": "needs to be able to be routed to any of",
    "start": "394400",
    "end": "396800"
  },
  {
    "text": "the local vpcs",
    "start": "396800",
    "end": "398880"
  },
  {
    "text": "now that we have discussed the basic",
    "start": "398880",
    "end": "401360"
  },
  {
    "text": "concepts of transit gateway and covered",
    "start": "401360",
    "end": "403520"
  },
  {
    "text": "our network design",
    "start": "403520",
    "end": "405120"
  },
  {
    "text": "let's head to the aws management console",
    "start": "405120",
    "end": "407680"
  },
  {
    "text": "and see how this is all put into",
    "start": "407680",
    "end": "409360"
  },
  {
    "text": "practice",
    "start": "409360",
    "end": "411758"
  },
  {
    "start": "410000",
    "end": "747000"
  },
  {
    "text": "to save some time i already created one",
    "start": "412000",
    "end": "414240"
  },
  {
    "text": "vpc per region in every account",
    "start": "414240",
    "end": "416880"
  },
  {
    "text": "and i deployed one ec2 instance in each",
    "start": "416880",
    "end": "419360"
  },
  {
    "text": "ppc",
    "start": "419360",
    "end": "420560"
  },
  {
    "text": "we will use those to demonstrate",
    "start": "420560",
    "end": "422400"
  },
  {
    "text": "connectivity between",
    "start": "422400",
    "end": "423599"
  },
  {
    "text": "vpcs both intra and interregion",
    "start": "423599",
    "end": "427199"
  },
  {
    "text": "we now have to create our transit",
    "start": "427199",
    "end": "429039"
  },
  {
    "text": "gateways in that in the network account",
    "start": "429039",
    "end": "431120"
  },
  {
    "text": "in eust1 and use central one",
    "start": "431120",
    "end": "433680"
  },
  {
    "text": "so let's head over to the blue browser",
    "start": "433680",
    "end": "436400"
  },
  {
    "text": "tabs that correspond to the network",
    "start": "436400",
    "end": "437919"
  },
  {
    "text": "account",
    "start": "437919",
    "end": "439280"
  },
  {
    "text": "we go on vpc",
    "start": "439280",
    "end": "442400"
  },
  {
    "text": "transit gateways",
    "start": "443440",
    "end": "446479"
  },
  {
    "text": "and choose create transit gateway",
    "start": "446960",
    "end": "450880"
  },
  {
    "text": "when you create a transit gateway you",
    "start": "450880",
    "end": "452560"
  },
  {
    "text": "need to specify some options",
    "start": "452560",
    "end": "454479"
  },
  {
    "text": "we start by giving our transit gateway a",
    "start": "454479",
    "end": "456400"
  },
  {
    "text": "name tgw",
    "start": "456400",
    "end": "457599"
  },
  {
    "text": "euwest1",
    "start": "457599",
    "end": "460479"
  },
  {
    "text": "the next thing we need to configure it",
    "start": "462560",
    "end": "464400"
  },
  {
    "text": "is the amazon site as number",
    "start": "464400",
    "end": "466479"
  },
  {
    "text": "for this transit gateway we can leave",
    "start": "466479",
    "end": "468000"
  },
  {
    "text": "the default option that is",
    "start": "468000",
    "end": "470599"
  },
  {
    "text": "64512",
    "start": "470599",
    "end": "473199"
  },
  {
    "text": "we strongly recommend choosing unique",
    "start": "473199",
    "end": "474960"
  },
  {
    "text": "asn for different transit gateways",
    "start": "474960",
    "end": "477120"
  },
  {
    "text": "especially if you plan",
    "start": "477120",
    "end": "478000"
  },
  {
    "text": "to peer them the next two options that",
    "start": "478000",
    "end": "480400"
  },
  {
    "text": "we need to configure are the default",
    "start": "480400",
    "end": "482160"
  },
  {
    "text": "root table association and propagation",
    "start": "482160",
    "end": "484720"
  },
  {
    "text": "when those are enabled as soon as an",
    "start": "484720",
    "end": "486479"
  },
  {
    "text": "attachment is configured on a transit",
    "start": "486479",
    "end": "488240"
  },
  {
    "text": "gateway",
    "start": "488240",
    "end": "489039"
  },
  {
    "text": "this attachment will be associated and",
    "start": "489039",
    "end": "490960"
  },
  {
    "text": "propagated to a default root table",
    "start": "490960",
    "end": "493599"
  },
  {
    "text": "these two options are very useful if you",
    "start": "493599",
    "end": "495599"
  },
  {
    "text": "want to implement a simple networking",
    "start": "495599",
    "end": "497360"
  },
  {
    "text": "design with transit gateway",
    "start": "497360",
    "end": "498960"
  },
  {
    "text": "in our case we need to have a bit more",
    "start": "498960",
    "end": "500800"
  },
  {
    "text": "control over our routing by creating",
    "start": "500800",
    "end": "502479"
  },
  {
    "text": "multiple route tables",
    "start": "502479",
    "end": "503840"
  },
  {
    "text": "we therefore uncheck those two options",
    "start": "503840",
    "end": "506639"
  },
  {
    "text": "and finally select",
    "start": "506639",
    "end": "507919"
  },
  {
    "text": "create transit gateway",
    "start": "507919",
    "end": "511199"
  },
  {
    "text": "i will now complete the same processing",
    "start": "514479",
    "end": "516640"
  },
  {
    "text": "in u central one",
    "start": "516640",
    "end": "519680"
  },
  {
    "text": "so we go on vpc",
    "start": "519680",
    "end": "523279"
  },
  {
    "text": "transit gateways",
    "start": "524959",
    "end": "528000"
  },
  {
    "text": "and choose create transit gateway",
    "start": "528240",
    "end": "531839"
  },
  {
    "text": "we give this a name the gw eu",
    "start": "531839",
    "end": "535680"
  },
  {
    "text": "central 1 we pick a unique asn",
    "start": "535680",
    "end": "539920"
  },
  {
    "text": "such as 64513",
    "start": "539920",
    "end": "544560"
  },
  {
    "text": "we uncheck the default route propagation",
    "start": "544720",
    "end": "546640"
  },
  {
    "text": "and association options",
    "start": "546640",
    "end": "549519"
  },
  {
    "text": "and select create transit gateway",
    "start": "549519",
    "end": "553600"
  },
  {
    "text": "okay so now we have our transit gateways",
    "start": "555600",
    "end": "557680"
  },
  {
    "text": "created in both regions",
    "start": "557680",
    "end": "559440"
  },
  {
    "text": "the next step is to share these transit",
    "start": "559440",
    "end": "561200"
  },
  {
    "text": "gateways with the three accounts",
    "start": "561200",
    "end": "563040"
  },
  {
    "text": "whose vpcs will need to attach",
    "start": "563040",
    "end": "565120"
  },
  {
    "text": "production staging and shared services",
    "start": "565120",
    "end": "567600"
  },
  {
    "text": "to share a transit gateway we will use",
    "start": "567600",
    "end": "569360"
  },
  {
    "text": "resource access manager so let's do that",
    "start": "569360",
    "end": "572000"
  },
  {
    "text": "in the network account in us 1",
    "start": "572000",
    "end": "575920"
  },
  {
    "text": "we go on resource access manager and",
    "start": "575920",
    "end": "578880"
  },
  {
    "text": "create resource share",
    "start": "578880",
    "end": "581680"
  },
  {
    "text": "we give this share a name",
    "start": "581680",
    "end": "584959"
  },
  {
    "text": "such as tgw share us 1",
    "start": "584959",
    "end": "588800"
  },
  {
    "text": "we select the resource type",
    "start": "588800",
    "end": "592320"
  },
  {
    "text": "transient gateways",
    "start": "592320",
    "end": "595440"
  },
  {
    "text": "once we do that the transit gateway that",
    "start": "596320",
    "end": "597920"
  },
  {
    "text": "we just created appears in the list so",
    "start": "597920",
    "end": "599760"
  },
  {
    "text": "let's select it",
    "start": "599760",
    "end": "601839"
  },
  {
    "text": "the last thing we need to do is to list",
    "start": "601839",
    "end": "603839"
  },
  {
    "text": "the principles that we want to share",
    "start": "603839",
    "end": "605760"
  },
  {
    "text": "this resource with",
    "start": "605760",
    "end": "607360"
  },
  {
    "text": "i previously took note of the account",
    "start": "607360",
    "end": "609200"
  },
  {
    "text": "ids of our production staging and shared",
    "start": "609200",
    "end": "611200"
  },
  {
    "text": "services accounts",
    "start": "611200",
    "end": "612560"
  },
  {
    "text": "so let me paste them in this is",
    "start": "612560",
    "end": "614640"
  },
  {
    "text": "production",
    "start": "614640",
    "end": "617120"
  },
  {
    "text": "staging and chat services",
    "start": "617120",
    "end": "622079"
  },
  {
    "text": "when you create a resource share with",
    "start": "622079",
    "end": "623760"
  },
  {
    "text": "resource access manager an invitation is",
    "start": "623760",
    "end": "625839"
  },
  {
    "text": "sent to the principal",
    "start": "625839",
    "end": "627440"
  },
  {
    "text": "you share the resource with unless you",
    "start": "627440",
    "end": "629360"
  },
  {
    "text": "share that resource with your",
    "start": "629360",
    "end": "630800"
  },
  {
    "text": "aws organization in which case",
    "start": "630800",
    "end": "633120"
  },
  {
    "text": "principals are granted access to the",
    "start": "633120",
    "end": "634800"
  },
  {
    "text": "resource without having to accept an",
    "start": "634800",
    "end": "636399"
  },
  {
    "text": "invitation",
    "start": "636399",
    "end": "637680"
  },
  {
    "text": "in our case we are not sharing our",
    "start": "637680",
    "end": "639519"
  },
  {
    "text": "transgate with an organization",
    "start": "639519",
    "end": "641360"
  },
  {
    "text": "so let's find out how we accept the",
    "start": "641360",
    "end": "643200"
  },
  {
    "text": "resource share in our accounts",
    "start": "643200",
    "end": "645839"
  },
  {
    "text": "let's start with the production account",
    "start": "645839",
    "end": "647760"
  },
  {
    "text": "and go into the aws",
    "start": "647760",
    "end": "649200"
  },
  {
    "text": "resource access manager console",
    "start": "649200",
    "end": "652880"
  },
  {
    "text": "in the navigation pane we choose",
    "start": "652959",
    "end": "656480"
  },
  {
    "text": "resource access manager",
    "start": "656480",
    "end": "660880"
  },
  {
    "text": "and let's have a look at the resource",
    "start": "660880",
    "end": "662560"
  },
  {
    "text": "share that i have invitations for",
    "start": "662560",
    "end": "665600"
  },
  {
    "text": "i select the tgw share that the network",
    "start": "665600",
    "end": "668800"
  },
  {
    "text": "account",
    "start": "668800",
    "end": "669360"
  },
  {
    "text": "just shared with this production account",
    "start": "669360",
    "end": "672240"
  },
  {
    "text": "and",
    "start": "672240",
    "end": "672800"
  },
  {
    "text": "go ahead and accept it once the",
    "start": "672800",
    "end": "675920"
  },
  {
    "text": "production account accepts",
    "start": "675920",
    "end": "677440"
  },
  {
    "text": "this share invitation if we go on the",
    "start": "677440",
    "end": "680160"
  },
  {
    "text": "vpc management console",
    "start": "680160",
    "end": "683279"
  },
  {
    "text": "and choose transit gateways",
    "start": "683279",
    "end": "689839"
  },
  {
    "text": "we see that the transient gateway we",
    "start": "692800",
    "end": "694959"
  },
  {
    "text": "created in the network account is now",
    "start": "694959",
    "end": "696560"
  },
  {
    "text": "showing up",
    "start": "696560",
    "end": "697680"
  },
  {
    "text": "the console indicates that the owner of",
    "start": "697680",
    "end": "699680"
  },
  {
    "text": "this dgw",
    "start": "699680",
    "end": "700800"
  },
  {
    "text": "is another account id in fact if we try",
    "start": "700800",
    "end": "703360"
  },
  {
    "text": "to delete or share this transit gateway",
    "start": "703360",
    "end": "705920"
  },
  {
    "text": "we see that we are not allowed to do",
    "start": "705920",
    "end": "707760"
  },
  {
    "text": "that this is because we do not own this",
    "start": "707760",
    "end": "709680"
  },
  {
    "text": "transit gateway but it was just shared",
    "start": "709680",
    "end": "711839"
  },
  {
    "text": "with this account",
    "start": "711839",
    "end": "713200"
  },
  {
    "text": "we have to repeat this process of",
    "start": "713200",
    "end": "714839"
  },
  {
    "text": "accepting the ram share in the staging",
    "start": "714839",
    "end": "717600"
  },
  {
    "text": "and the shared services account so let",
    "start": "717600",
    "end": "719360"
  },
  {
    "text": "me do that really quickly",
    "start": "719360",
    "end": "722480"
  },
  {
    "text": "this was staging and this one",
    "start": "725839",
    "end": "728880"
  },
  {
    "text": "in yellow is shed services",
    "start": "728880",
    "end": "733839"
  },
  {
    "text": "the steps that i demonstrated so far for",
    "start": "734720",
    "end": "736959"
  },
  {
    "text": "eu west one will need to be repeated for",
    "start": "736959",
    "end": "739279"
  },
  {
    "text": "eu central one",
    "start": "739279",
    "end": "740959"
  },
  {
    "text": "i will pause the video while i do that",
    "start": "740959",
    "end": "743279"
  },
  {
    "text": "and resume when that's complete",
    "start": "743279",
    "end": "746720"
  },
  {
    "start": "747000",
    "end": "905000"
  },
  {
    "text": "we now have created transit gateways in",
    "start": "749279",
    "end": "751440"
  },
  {
    "text": "the us 1",
    "start": "751440",
    "end": "752320"
  },
  {
    "text": "and eu central 1 and share those with",
    "start": "752320",
    "end": "755040"
  },
  {
    "text": "the production staging and shared",
    "start": "755040",
    "end": "756560"
  },
  {
    "text": "services accounts in both regions",
    "start": "756560",
    "end": "759040"
  },
  {
    "text": "what we have to do now is to configure",
    "start": "759040",
    "end": "760800"
  },
  {
    "text": "the inter-region pinning attachment",
    "start": "760800",
    "end": "762560"
  },
  {
    "text": "between the transit gateway in ireland",
    "start": "762560",
    "end": "764399"
  },
  {
    "text": "and the transit gateway in frankfurt",
    "start": "764399",
    "end": "766560"
  },
  {
    "text": "to do that we navigate to the vpc",
    "start": "766560",
    "end": "768480"
  },
  {
    "text": "management console of the network",
    "start": "768480",
    "end": "770240"
  },
  {
    "text": "account in the eu s1 region",
    "start": "770240",
    "end": "772480"
  },
  {
    "text": "and select transit gateway attachments",
    "start": "772480",
    "end": "775279"
  },
  {
    "text": "and choose",
    "start": "775279",
    "end": "776000"
  },
  {
    "text": "create transit gateway attachment the",
    "start": "776000",
    "end": "779120"
  },
  {
    "text": "first thing that we",
    "start": "779120",
    "end": "780240"
  },
  {
    "text": "need to do there is select the transit",
    "start": "780240",
    "end": "782000"
  },
  {
    "text": "gateway that we want to appear",
    "start": "782000",
    "end": "784000"
  },
  {
    "text": "in us1 we just have one transient",
    "start": "784000",
    "end": "785920"
  },
  {
    "text": "gateway which we created a moment ago",
    "start": "785920",
    "end": "788480"
  },
  {
    "text": "the attachment type is going to be",
    "start": "788480",
    "end": "790079"
  },
  {
    "text": "repeating connection",
    "start": "790079",
    "end": "792000"
  },
  {
    "text": "we give this attachment a name",
    "start": "792000",
    "end": "796160"
  },
  {
    "text": "the region that we want to appear with",
    "start": "798000",
    "end": "799920"
  },
  {
    "text": "is eu",
    "start": "799920",
    "end": "801279"
  },
  {
    "text": "central one",
    "start": "801279",
    "end": "804320"
  },
  {
    "text": "finally we have to indicate the transit",
    "start": "807440",
    "end": "809440"
  },
  {
    "text": "gateway id that we want to appear with",
    "start": "809440",
    "end": "811519"
  },
  {
    "text": "so let's go on the vpc",
    "start": "811519",
    "end": "814639"
  },
  {
    "text": "management console in eu central 1",
    "start": "814639",
    "end": "817920"
  },
  {
    "text": "which is vpc transit gateways",
    "start": "817920",
    "end": "823680"
  },
  {
    "text": "and we copy the transit gateway 80 in eu",
    "start": "824399",
    "end": "827120"
  },
  {
    "text": "central 1.",
    "start": "827120",
    "end": "828240"
  },
  {
    "text": "let me paste that in in the creation",
    "start": "828240",
    "end": "830959"
  },
  {
    "text": "process",
    "start": "830959",
    "end": "832160"
  },
  {
    "text": "and we finally choose create attachment",
    "start": "832160",
    "end": "836800"
  },
  {
    "text": "the attachment will move in just a few",
    "start": "839279",
    "end": "841040"
  },
  {
    "text": "moments in a pending acceptance state",
    "start": "841040",
    "end": "843199"
  },
  {
    "text": "this takes",
    "start": "843199",
    "end": "844000"
  },
  {
    "text": "about a minute what this means is that",
    "start": "844000",
    "end": "847360"
  },
  {
    "text": "we will need to",
    "start": "847360",
    "end": "848320"
  },
  {
    "text": "head over to the vpc management console",
    "start": "848320",
    "end": "850880"
  },
  {
    "text": "in the acceptor region",
    "start": "850880",
    "end": "852480"
  },
  {
    "text": "which is eu central 1 and accept the",
    "start": "852480",
    "end": "854880"
  },
  {
    "text": "spinning attachment there",
    "start": "854880",
    "end": "857839"
  },
  {
    "text": "let me refresh the browser a few times",
    "start": "857839",
    "end": "860000"
  },
  {
    "text": "until the",
    "start": "860000",
    "end": "861279"
  },
  {
    "text": "request goes in a pending acceptance",
    "start": "861279",
    "end": "865040"
  },
  {
    "text": "date",
    "start": "868839",
    "end": "871279"
  },
  {
    "text": "okay sony now the attachment is",
    "start": "871279",
    "end": "872959"
  },
  {
    "text": "impending acceptance",
    "start": "872959",
    "end": "874639"
  },
  {
    "text": "uh i'm now in use central one",
    "start": "874639",
    "end": "878240"
  },
  {
    "text": "if i go on transit gateway attachments i",
    "start": "878240",
    "end": "880320"
  },
  {
    "text": "see that it's there",
    "start": "880320",
    "end": "881920"
  },
  {
    "text": "so i will go ahead and accept it",
    "start": "881920",
    "end": "885839"
  },
  {
    "text": "i will give this attachment a name",
    "start": "889760",
    "end": "893680"
  },
  {
    "text": "interregion peering eu west one",
    "start": "893680",
    "end": "899120"
  },
  {
    "text": "the attachment takes a few minutes to",
    "start": "899120",
    "end": "900959"
  },
  {
    "text": "become available so we'll stop the video",
    "start": "900959",
    "end": "902959"
  },
  {
    "text": "and resume",
    "start": "902959",
    "end": "903680"
  },
  {
    "text": "once that's done",
    "start": "903680",
    "end": "906480"
  },
  {
    "start": "905000",
    "end": "1110000"
  },
  {
    "text": "nice so we now have our transit gateways",
    "start": "907120",
    "end": "909600"
  },
  {
    "text": "shared with our accounts and paid with",
    "start": "909600",
    "end": "911120"
  },
  {
    "text": "one another",
    "start": "911120",
    "end": "912240"
  },
  {
    "text": "the next step is to attach the",
    "start": "912240",
    "end": "913680"
  },
  {
    "text": "production staging and shared services",
    "start": "913680",
    "end": "915600"
  },
  {
    "text": "vpcs to the transit gateways in",
    "start": "915600",
    "end": "917839"
  },
  {
    "text": "us-1 and eu central one i will",
    "start": "917839",
    "end": "920800"
  },
  {
    "text": "demonstrate this procedure just for",
    "start": "920800",
    "end": "922560"
  },
  {
    "text": "eust1 and the production account",
    "start": "922560",
    "end": "925120"
  },
  {
    "text": "so i navigate to transient gateway",
    "start": "925120",
    "end": "927199"
  },
  {
    "text": "attachments",
    "start": "927199",
    "end": "929839"
  },
  {
    "text": "select create transient gateway",
    "start": "930959",
    "end": "932720"
  },
  {
    "text": "attachment",
    "start": "932720",
    "end": "934880"
  },
  {
    "text": "i specify the id of the transit gateway",
    "start": "934880",
    "end": "937920"
  },
  {
    "text": "that i want to create the attachment on",
    "start": "937920",
    "end": "940880"
  },
  {
    "text": "i give this attachment a name tag",
    "start": "940880",
    "end": "945519"
  },
  {
    "text": "and select the vpc that i want to attach",
    "start": "949279",
    "end": "952000"
  },
  {
    "text": "to my transit gateway",
    "start": "952000",
    "end": "954240"
  },
  {
    "text": "which is the production vpc whenever a",
    "start": "954240",
    "end": "956959"
  },
  {
    "text": "vpc attachment is created transit",
    "start": "956959",
    "end": "958959"
  },
  {
    "text": "gateway deploys elastic network",
    "start": "958959",
    "end": "960639"
  },
  {
    "text": "interfaces in one or more subnets that",
    "start": "960639",
    "end": "962880"
  },
  {
    "text": "belong to that vpc",
    "start": "962880",
    "end": "964720"
  },
  {
    "text": "as for most of our well architected best",
    "start": "964720",
    "end": "966880"
  },
  {
    "text": "practices we recommend",
    "start": "966880",
    "end": "968079"
  },
  {
    "text": "choosing more than one availability zone",
    "start": "968079",
    "end": "970560"
  },
  {
    "text": "in our case i will leave",
    "start": "970560",
    "end": "971680"
  },
  {
    "text": "everything as it is and choose all three",
    "start": "971680",
    "end": "973440"
  },
  {
    "text": "subnets in my vpc",
    "start": "973440",
    "end": "975360"
  },
  {
    "text": "and create the attachment",
    "start": "975360",
    "end": "978639"
  },
  {
    "text": "earlier when we created the transient",
    "start": "978720",
    "end": "980560"
  },
  {
    "text": "gateways we left the autoaccept shed",
    "start": "980560",
    "end": "982480"
  },
  {
    "text": "attachment",
    "start": "982480",
    "end": "983360"
  },
  {
    "text": "option disabled this means that the",
    "start": "983360",
    "end": "985600"
  },
  {
    "text": "owner of the transit gateway needs to",
    "start": "985600",
    "end": "987279"
  },
  {
    "text": "approve the attachments being requested",
    "start": "987279",
    "end": "989199"
  },
  {
    "text": "by other principals",
    "start": "989199",
    "end": "990959"
  },
  {
    "text": "so we will need to go to our network",
    "start": "990959",
    "end": "993440"
  },
  {
    "text": "account",
    "start": "993440",
    "end": "994959"
  },
  {
    "text": "in the transit gateway attachments",
    "start": "994959",
    "end": "997040"
  },
  {
    "text": "console",
    "start": "997040",
    "end": "998720"
  },
  {
    "text": "refresh our page and accept",
    "start": "998720",
    "end": "1002480"
  },
  {
    "text": "the attachment that we just requested",
    "start": "1002480",
    "end": "1005360"
  },
  {
    "text": "from the production account",
    "start": "1005360",
    "end": "1008399"
  },
  {
    "text": "when you create an attachment and give",
    "start": "1008399",
    "end": "1010240"
  },
  {
    "text": "it a name tag that tag is visible just",
    "start": "1010240",
    "end": "1012240"
  },
  {
    "text": "to the account that",
    "start": "1012240",
    "end": "1013360"
  },
  {
    "text": "created the attachment in fact i will",
    "start": "1013360",
    "end": "1016720"
  },
  {
    "text": "need to replicate that tag in the",
    "start": "1016720",
    "end": "1019040"
  },
  {
    "text": "network account",
    "start": "1019040",
    "end": "1019920"
  },
  {
    "text": "just for consistency",
    "start": "1019920",
    "end": "1023040"
  },
  {
    "text": "the attachment will just become",
    "start": "1023040",
    "end": "1024640"
  },
  {
    "text": "available in a few minutes",
    "start": "1024640",
    "end": "1027360"
  },
  {
    "text": "but how do the subnets in this vpc know",
    "start": "1027360",
    "end": "1029600"
  },
  {
    "text": "how to route",
    "start": "1029600",
    "end": "1030400"
  },
  {
    "text": "network traffic to the transaction",
    "start": "1030400",
    "end": "1032319"
  },
  {
    "text": "attachment let's have a look at the root",
    "start": "1032319",
    "end": "1034240"
  },
  {
    "text": "table associated to them",
    "start": "1034240",
    "end": "1038400"
  },
  {
    "text": "so in the root table we have just the",
    "start": "1038400",
    "end": "1040640"
  },
  {
    "text": "local root for the vpc cider range",
    "start": "1040640",
    "end": "1043120"
  },
  {
    "text": "if we want packets to cross the vpc",
    "start": "1043120",
    "end": "1045038"
  },
  {
    "text": "boundary and be delivered to any other",
    "start": "1045039",
    "end": "1046798"
  },
  {
    "text": "vpc",
    "start": "1046799",
    "end": "1047839"
  },
  {
    "text": "we will need to add to our root table a",
    "start": "1047839",
    "end": "1049919"
  },
  {
    "text": "root for the 10",
    "start": "1049919",
    "end": "1050880"
  },
  {
    "text": "0 0 0 8 range as",
    "start": "1050880",
    "end": "1053919"
  },
  {
    "text": "all the subnets in our design fall",
    "start": "1053919",
    "end": "1055600"
  },
  {
    "text": "within this rather wide range",
    "start": "1055600",
    "end": "1058000"
  },
  {
    "text": "doing this won't break the routing",
    "start": "1058000",
    "end": "1059760"
  },
  {
    "text": "between subnets",
    "start": "1059760",
    "end": "1061919"
  },
  {
    "text": "in this vpc because a more specific",
    "start": "1061919",
    "end": "1063919"
  },
  {
    "text": "local route is already present in the",
    "start": "1063919",
    "end": "1065600"
  },
  {
    "text": "root table",
    "start": "1065600",
    "end": "1066640"
  },
  {
    "text": "which takes precedence over the more",
    "start": "1066640",
    "end": "1068400"
  },
  {
    "text": "generic roots that we are adding",
    "start": "1068400",
    "end": "1071280"
  },
  {
    "text": "so let's go ahead and add the root for",
    "start": "1071280",
    "end": "1073520"
  },
  {
    "text": "the 10 0",
    "start": "1073520",
    "end": "1074400"
  },
  {
    "text": "0 0 8 range we go on edit routes",
    "start": "1074400",
    "end": "1080880"
  },
  {
    "text": "select add root add 10",
    "start": "1080880",
    "end": "1083919"
  },
  {
    "text": "0 0 0 8 as a destination",
    "start": "1083919",
    "end": "1087679"
  },
  {
    "text": "and choose the transit gateway as a",
    "start": "1087679",
    "end": "1089600"
  },
  {
    "text": "target",
    "start": "1089600",
    "end": "1092000"
  },
  {
    "text": "and choose save routes",
    "start": "1092240",
    "end": "1096000"
  },
  {
    "text": "okay so that's all done i will now stop",
    "start": "1097360",
    "end": "1100000"
  },
  {
    "text": "the video",
    "start": "1100000",
    "end": "1100640"
  },
  {
    "text": "repeat this for all the vpcs in all the",
    "start": "1100640",
    "end": "1103120"
  },
  {
    "text": "accounts in both the eu west1 and eu",
    "start": "1103120",
    "end": "1105840"
  },
  {
    "text": "central 1 regions",
    "start": "1105840",
    "end": "1107520"
  },
  {
    "text": "and check back in when i'm done",
    "start": "1107520",
    "end": "1111280"
  },
  {
    "start": "1110000",
    "end": "1505000"
  },
  {
    "text": "okay so we now have our period transit",
    "start": "1111760",
    "end": "1114400"
  },
  {
    "text": "gateways attached to the vpcs",
    "start": "1114400",
    "end": "1117120"
  },
  {
    "text": "the last thing we need to do before we",
    "start": "1117120",
    "end": "1118640"
  },
  {
    "text": "test our network is to configure the",
    "start": "1118640",
    "end": "1120320"
  },
  {
    "text": "routing on our transit gateways",
    "start": "1120320",
    "end": "1122559"
  },
  {
    "text": "let's start by doing that in the us1",
    "start": "1122559",
    "end": "1124720"
  },
  {
    "text": "region so i am in the network account",
    "start": "1124720",
    "end": "1127360"
  },
  {
    "text": "in ireland and i will go ahead and",
    "start": "1127360",
    "end": "1130640"
  },
  {
    "text": "create the routing tables",
    "start": "1130640",
    "end": "1133919"
  },
  {
    "text": "to do that i navigate on vpc",
    "start": "1134320",
    "end": "1138320"
  },
  {
    "text": "scroll down to transit gateway route",
    "start": "1138480",
    "end": "1140960"
  },
  {
    "text": "tables and choose create translate to a",
    "start": "1140960",
    "end": "1143039"
  },
  {
    "text": "root table",
    "start": "1143039",
    "end": "1145200"
  },
  {
    "text": "i'll start by creating the production",
    "start": "1145200",
    "end": "1147200"
  },
  {
    "text": "root table associated",
    "start": "1147200",
    "end": "1149200"
  },
  {
    "text": "to the production vpc attachment and i",
    "start": "1149200",
    "end": "1152320"
  },
  {
    "text": "select the transit gate to a80",
    "start": "1152320",
    "end": "1156000"
  },
  {
    "text": "and i choose create transit gateway",
    "start": "1157200",
    "end": "1158720"
  },
  {
    "text": "route table",
    "start": "1158720",
    "end": "1161200"
  },
  {
    "text": "now i'll go ahead and repeat this",
    "start": "1162080",
    "end": "1163600"
  },
  {
    "text": "process for the staging",
    "start": "1163600",
    "end": "1165600"
  },
  {
    "text": "shed and interregion root tables",
    "start": "1165600",
    "end": "1169600"
  },
  {
    "text": "this is staging",
    "start": "1172559",
    "end": "1175520"
  },
  {
    "text": "this is the shed root table",
    "start": "1177120",
    "end": "1180880"
  },
  {
    "text": "and the last one is the root table",
    "start": "1188960",
    "end": "1191440"
  },
  {
    "text": "associated to the inter-region",
    "start": "1191440",
    "end": "1193520"
  },
  {
    "text": "peeling attachment",
    "start": "1193520",
    "end": "1196559"
  },
  {
    "text": "okay i have now my routing tables what i",
    "start": "1202000",
    "end": "1204960"
  },
  {
    "text": "need to do next is to associate the",
    "start": "1204960",
    "end": "1206960"
  },
  {
    "text": "attachments to those",
    "start": "1206960",
    "end": "1208320"
  },
  {
    "text": "root tables so i select the production",
    "start": "1208320",
    "end": "1212240"
  },
  {
    "text": "route table",
    "start": "1212240",
    "end": "1214799"
  },
  {
    "text": "i go on associations create",
    "start": "1215200",
    "end": "1218840"
  },
  {
    "text": "association and choose the",
    "start": "1218840",
    "end": "1221840"
  },
  {
    "text": "appropriate attachment that i want to",
    "start": "1221840",
    "end": "1223600"
  },
  {
    "text": "associate to this root table which is",
    "start": "1223600",
    "end": "1225840"
  },
  {
    "text": "the production vpc attachment",
    "start": "1225840",
    "end": "1229520"
  },
  {
    "text": "and i repeat this process for all the",
    "start": "1229520",
    "end": "1231520"
  },
  {
    "text": "other route tables",
    "start": "1231520",
    "end": "1232720"
  },
  {
    "text": "so this is staging create association",
    "start": "1232720",
    "end": "1237360"
  },
  {
    "text": "select the staging vpc attachment",
    "start": "1237360",
    "end": "1241600"
  },
  {
    "text": "let's do shared next create association",
    "start": "1242159",
    "end": "1247120"
  },
  {
    "text": "shared attachment",
    "start": "1247120",
    "end": "1250240"
  },
  {
    "text": "and finally the interregion root table",
    "start": "1251200",
    "end": "1255679"
  },
  {
    "text": "association",
    "start": "1260840",
    "end": "1263440"
  },
  {
    "text": "what i will do next is to configure",
    "start": "1263440",
    "end": "1265360"
  },
  {
    "text": "routing by propagating attachments in",
    "start": "1265360",
    "end": "1267600"
  },
  {
    "text": "our route tables and adding many routes",
    "start": "1267600",
    "end": "1269520"
  },
  {
    "text": "when appropriate",
    "start": "1269520",
    "end": "1272320"
  },
  {
    "text": "let's start by looking at the",
    "start": "1275679",
    "end": "1278799"
  },
  {
    "text": "root table associated to the production",
    "start": "1278799",
    "end": "1280559"
  },
  {
    "text": "vpc attachment",
    "start": "1280559",
    "end": "1282480"
  },
  {
    "text": "as you can see there is no roots at the",
    "start": "1282480",
    "end": "1284159"
  },
  {
    "text": "moment",
    "start": "1284159",
    "end": "1286480"
  },
  {
    "text": "as per our design requirements we know",
    "start": "1286880",
    "end": "1288640"
  },
  {
    "text": "that our production vpc needs to be able",
    "start": "1288640",
    "end": "1290480"
  },
  {
    "text": "to send and receive",
    "start": "1290480",
    "end": "1291520"
  },
  {
    "text": "traffic from the local chat vpc and",
    "start": "1291520",
    "end": "1293440"
  },
  {
    "text": "remote production vpc",
    "start": "1293440",
    "end": "1295679"
  },
  {
    "text": "to accomplish that we first propagate",
    "start": "1295679",
    "end": "1297600"
  },
  {
    "text": "the local shed services attachment",
    "start": "1297600",
    "end": "1300240"
  },
  {
    "text": "and add a static route for the remote",
    "start": "1300240",
    "end": "1302320"
  },
  {
    "text": "production vpc",
    "start": "1302320",
    "end": "1305039"
  },
  {
    "text": "i select create propagation",
    "start": "1305039",
    "end": "1308880"
  },
  {
    "text": "shed services attachment and i go ahead",
    "start": "1308880",
    "end": "1314720"
  },
  {
    "text": "i then add the static route",
    "start": "1315440",
    "end": "1320000"
  },
  {
    "text": "for the remote production vpc i go on",
    "start": "1320000",
    "end": "1323360"
  },
  {
    "text": "routes",
    "start": "1323360",
    "end": "1325760"
  },
  {
    "text": "create static route",
    "start": "1325840",
    "end": "1328960"
  },
  {
    "text": "for cider i input the",
    "start": "1330400",
    "end": "1333600"
  },
  {
    "text": "remote sider for the remote vpc",
    "start": "1333600",
    "end": "1337960"
  },
  {
    "text": "1012800 16 and i choose the interregion",
    "start": "1337960",
    "end": "1341440"
  },
  {
    "text": "pinning attachment",
    "start": "1341440",
    "end": "1344080"
  },
  {
    "text": "and i choose create static route",
    "start": "1344080",
    "end": "1347840"
  },
  {
    "text": "we would also like to ensure any other",
    "start": "1350159",
    "end": "1352159"
  },
  {
    "text": "network traffic is actively dropped by",
    "start": "1352159",
    "end": "1354000"
  },
  {
    "text": "transit gateway and to do that",
    "start": "1354000",
    "end": "1356080"
  },
  {
    "text": "we add a 10 0 0 8 black hole root",
    "start": "1356080",
    "end": "1361440"
  },
  {
    "text": "i go on create static root",
    "start": "1362720",
    "end": "1366400"
  },
  {
    "text": "10 0 0 0 8 and i select black hole",
    "start": "1366400",
    "end": "1370880"
  },
  {
    "text": "and create static root",
    "start": "1370880",
    "end": "1375039"
  },
  {
    "text": "we now use a similar process for the",
    "start": "1375039",
    "end": "1376880"
  },
  {
    "text": "staging route table",
    "start": "1376880",
    "end": "1379919"
  },
  {
    "text": "we propagate the local shared attachment",
    "start": "1383840",
    "end": "1389840"
  },
  {
    "text": "and configure the",
    "start": "1390799",
    "end": "1393919"
  },
  {
    "text": "remote ranges",
    "start": "1394320",
    "end": "1397919"
  },
  {
    "text": "10 129",
    "start": "1397919",
    "end": "1403840"
  },
  {
    "text": "the next stop is going to be the",
    "start": "1405919",
    "end": "1407440"
  },
  {
    "text": "interregion peeling attachment",
    "start": "1407440",
    "end": "1410159"
  },
  {
    "text": "and create a static root and then",
    "start": "1410159",
    "end": "1413679"
  },
  {
    "text": "the black hole root",
    "start": "1413679",
    "end": "1417840"
  },
  {
    "text": "okay",
    "start": "1428960",
    "end": "1431840"
  },
  {
    "text": "for the shared route table i",
    "start": "1433200",
    "end": "1436400"
  },
  {
    "text": "just propagate the local staging",
    "start": "1436400",
    "end": "1439600"
  },
  {
    "text": "and production vpc attachment",
    "start": "1439600",
    "end": "1445840"
  },
  {
    "text": "that's production",
    "start": "1447039",
    "end": "1450000"
  },
  {
    "text": "and i need to propagate staging",
    "start": "1451039",
    "end": "1455278"
  },
  {
    "text": "and create propagation",
    "start": "1455600",
    "end": "1459840"
  },
  {
    "text": "and i need to do the same thing for the",
    "start": "1464480",
    "end": "1466240"
  },
  {
    "text": "interregion group table",
    "start": "1466240",
    "end": "1468880"
  },
  {
    "text": "i want all the incoming traffic from the",
    "start": "1468880",
    "end": "1472000"
  },
  {
    "text": "interregion ping attachment",
    "start": "1472000",
    "end": "1473840"
  },
  {
    "text": "to have the possibility to reach the",
    "start": "1473840",
    "end": "1477120"
  },
  {
    "text": "production staging vpcs",
    "start": "1477120",
    "end": "1487840"
  },
  {
    "text": "okay that's me done in eu west one",
    "start": "1494240",
    "end": "1497760"
  },
  {
    "text": "i will now stop the video configure the",
    "start": "1497760",
    "end": "1499760"
  },
  {
    "text": "transit gateway routing in eu central 1",
    "start": "1499760",
    "end": "1502320"
  },
  {
    "text": "and resume the video once that's done",
    "start": "1502320",
    "end": "1506480"
  },
  {
    "text": "welcome back we've finally come to the",
    "start": "1506799",
    "end": "1509200"
  },
  {
    "text": "last part of this demo where we find out",
    "start": "1509200",
    "end": "1511360"
  },
  {
    "text": "if the network design we implemented",
    "start": "1511360",
    "end": "1513120"
  },
  {
    "text": "with translicate with full filter",
    "start": "1513120",
    "end": "1514640"
  },
  {
    "text": "requirements",
    "start": "1514640",
    "end": "1516000"
  },
  {
    "text": "to do that i will log on via session",
    "start": "1516000",
    "end": "1518080"
  },
  {
    "text": "manager on the ec2 instance",
    "start": "1518080",
    "end": "1519919"
  },
  {
    "text": "i predeployed in our production account",
    "start": "1519919",
    "end": "1522640"
  },
  {
    "text": "and i will ping the ap addresses of",
    "start": "1522640",
    "end": "1524480"
  },
  {
    "text": "other instances in other accounts and",
    "start": "1524480",
    "end": "1526480"
  },
  {
    "text": "vpcs",
    "start": "1526480",
    "end": "1527520"
  },
  {
    "text": "both within this region and across the",
    "start": "1527520",
    "end": "1529760"
  },
  {
    "text": "inter-region boundary",
    "start": "1529760",
    "end": "1531520"
  },
  {
    "text": "so i am now in the production account in",
    "start": "1531520",
    "end": "1534080"
  },
  {
    "text": "eu s1",
    "start": "1534080",
    "end": "1535360"
  },
  {
    "text": "and i navigate on ec2",
    "start": "1535360",
    "end": "1539120"
  },
  {
    "text": "i select running instances",
    "start": "1540000",
    "end": "1543840"
  },
  {
    "text": "and choose connect",
    "start": "1543840",
    "end": "1547200"
  },
  {
    "text": "as connection method i pick session",
    "start": "1548159",
    "end": "1550559"
  },
  {
    "text": "manager",
    "start": "1550559",
    "end": "1551279"
  },
  {
    "text": "and select connect",
    "start": "1551279",
    "end": "1554480"
  },
  {
    "text": "in a few seconds the systems manager",
    "start": "1555200",
    "end": "1557440"
  },
  {
    "text": "session manager session",
    "start": "1557440",
    "end": "1559200"
  },
  {
    "text": "appears on screen so i'm ready to start",
    "start": "1559200",
    "end": "1561279"
  },
  {
    "text": "pinging other ip addresses",
    "start": "1561279",
    "end": "1564240"
  },
  {
    "text": "the first ip address that i will start",
    "start": "1564240",
    "end": "1566320"
  },
  {
    "text": "pinging is the",
    "start": "1566320",
    "end": "1567600"
  },
  {
    "text": "shared services instance in this region",
    "start": "1567600",
    "end": "1570799"
  },
  {
    "text": "so let me do that really quickly",
    "start": "1570799",
    "end": "1574080"
  },
  {
    "text": "it's ping 10 2 0",
    "start": "1574080",
    "end": "1577360"
  },
  {
    "text": "94.",
    "start": "1577360",
    "end": "1580080"
  },
  {
    "text": "and this works let's try to remember",
    "start": "1580799",
    "end": "1584480"
  },
  {
    "text": "what our network design",
    "start": "1584480",
    "end": "1586000"
  },
  {
    "text": "should be the production vpc should be",
    "start": "1586000",
    "end": "1589200"
  },
  {
    "text": "able to talk to the shared services of",
    "start": "1589200",
    "end": "1590880"
  },
  {
    "text": "the pc",
    "start": "1590880",
    "end": "1591919"
  },
  {
    "text": "in this region and this works",
    "start": "1591919",
    "end": "1595520"
  },
  {
    "text": "the next ap address that i will ping is",
    "start": "1595520",
    "end": "1597679"
  },
  {
    "text": "the staging instance",
    "start": "1597679",
    "end": "1599360"
  },
  {
    "text": "and this should not work it's 10",
    "start": "1599360",
    "end": "1603120"
  },
  {
    "text": "1 0 2 1 1.",
    "start": "1603120",
    "end": "1606960"
  },
  {
    "text": "as we can see this does not work",
    "start": "1606960",
    "end": "1610799"
  },
  {
    "text": "the next instance that i will ping is",
    "start": "1611520",
    "end": "1613520"
  },
  {
    "text": "the remote production",
    "start": "1613520",
    "end": "1614880"
  },
  {
    "text": "vpc instance so ping 10",
    "start": "1614880",
    "end": "1618000"
  },
  {
    "text": "128 0 163",
    "start": "1618000",
    "end": "1621840"
  },
  {
    "text": "and this also works we can see that the",
    "start": "1621840",
    "end": "1624799"
  },
  {
    "text": "latency is a bit",
    "start": "1624799",
    "end": "1626640"
  },
  {
    "text": "larger than uh the ones that we",
    "start": "1626640",
    "end": "1630000"
  },
  {
    "text": "we've seen before and let's finally try",
    "start": "1630000",
    "end": "1633679"
  },
  {
    "text": "to ping",
    "start": "1633679",
    "end": "1634320"
  },
  {
    "text": "the remote shed instance which we should",
    "start": "1634320",
    "end": "1636880"
  },
  {
    "text": "not be able to ping",
    "start": "1636880",
    "end": "1641840"
  },
  {
    "text": "and this doesn't work",
    "start": "1643440",
    "end": "1646480"
  },
  {
    "text": "now i could go on and demonstrate all",
    "start": "1646880",
    "end": "1648720"
  },
  {
    "text": "the other permutations but i've decided",
    "start": "1648720",
    "end": "1650559"
  },
  {
    "text": "to leave that",
    "start": "1650559",
    "end": "1651360"
  },
  {
    "text": "to you thanks for making the time for",
    "start": "1651360",
    "end": "1654080"
  },
  {
    "text": "watching this demo",
    "start": "1654080",
    "end": "1655200"
  },
  {
    "text": "and i hope i gave you some inspiration",
    "start": "1655200",
    "end": "1656880"
  },
  {
    "text": "to go ahead and try interregion peering",
    "start": "1656880",
    "end": "1659039"
  },
  {
    "text": "on the aws management console",
    "start": "1659039",
    "end": "1661120"
  },
  {
    "text": "api cli or sdk",
    "start": "1661120",
    "end": "1664240"
  },
  {
    "text": "and thanks for watching and keep on",
    "start": "1664240",
    "end": "1666840"
  },
  {
    "text": "building",
    "start": "1666840",
    "end": "1669840"
  }
]