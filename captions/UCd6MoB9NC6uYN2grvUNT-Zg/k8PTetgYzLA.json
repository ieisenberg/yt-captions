[
  {
    "text": "got for everyone how we're doing so my name is Alex Liu and I work on ethics",
    "start": "829",
    "end": "6569"
  },
  {
    "text": "today I'll be telling the story about how we had an ethics to use DynamoDB to really enable a be testing at the scale",
    "start": "6569",
    "end": "13620"
  },
  {
    "text": "that we need to so at Netflix I work on the node.js platform team and we do",
    "start": "13620",
    "end": "20220"
  },
  {
    "text": "everything from building libraries to services in support of our UI and product teams so you know if you happen",
    "start": "20220",
    "end": "27390"
  },
  {
    "text": "to love Netflix you love streaming you love working on large-scale systems you know please come find me afterward let's",
    "start": "27390",
    "end": "32730"
  },
  {
    "text": "chat okay so Netflix is there anybody who doesn't know who we are somebody who",
    "start": "32730",
    "end": "40320"
  },
  {
    "text": "is living underneath the rock the last 10 years so we are at this point an online video streaming service and we",
    "start": "40320",
    "end": "46680"
  },
  {
    "text": "are the fine purveyor of a lot of original content these days what's pretty amazing is that I think we're now",
    "start": "46680",
    "end": "52860"
  },
  {
    "text": "in over 190 plus countries with over 100 million subscribers which to me is still kind of insane because you know I think",
    "start": "52860",
    "end": "58590"
  },
  {
    "text": "back like 10 years ago and we were still getting really excited to see these red envelopes show up on our mailbox",
    "start": "58590",
    "end": "63989"
  },
  {
    "text": "that is of course to you until you see this because your your mailman decided to like stuff it in the mail slot and",
    "start": "63989",
    "end": "69659"
  },
  {
    "text": "crack the DVD which is always great alright so this story that I'm gonna",
    "start": "69659",
    "end": "76200"
  },
  {
    "text": "share with you guys today is I'm gonna be split into four parts so I'll kind of start by setting the stage of the",
    "start": "76200",
    "end": "82439"
  },
  {
    "text": "problem right and talking about what exactly we were trying to solve I don't kind of follow that by talking about you",
    "start": "82439",
    "end": "90270"
  },
  {
    "text": "know how we solve this particular problem at Netflix by building a service and you know some of the scaling problems associated with that service",
    "start": "90270",
    "end": "96540"
  },
  {
    "text": "and finally and with some of the things that keep us up at night the problem so",
    "start": "96540",
    "end": "103530"
  },
  {
    "text": "every great story starts with a problem and at its core our problem was really",
    "start": "103530",
    "end": "108659"
  },
  {
    "text": "about building JavaScript bundles at Netflix and if you've been in the front-end space for a long time we're",
    "start": "108659",
    "end": "114119"
  },
  {
    "text": "doing this for awhile you've probably seen in this space evolved a lot over the last well really since the beginning",
    "start": "114119",
    "end": "119460"
  },
  {
    "text": "of time so you know we probably started doing this by you know using cat on the command line to concatenate a bunch of",
    "start": "119460",
    "end": "124530"
  },
  {
    "text": "JavaScript files but now we've got fancy tools like browserify web pack",
    "start": "124530",
    "end": "129550"
  },
  {
    "text": "so we can kind of take a look at you know what a typical example might look like so if you've got a JavaScript application with the entry point here",
    "start": "129550",
    "end": "135910"
  },
  {
    "text": "called home jsut might have some dependencies here right foo and bar and each of these penalties are going to",
    "start": "135910",
    "end": "141670"
  },
  {
    "text": "have their own dependencies and you end up having this dependency graph for your application now of course as your",
    "start": "141670",
    "end": "148780"
  },
  {
    "text": "website grows you're probably going to have different pages right so you're going to have like a home page your profile page and each of the pages are",
    "start": "148780",
    "end": "154720"
  },
  {
    "text": "going to have their own dependency graph so as a developer it might be really easy to say like look I've got all these",
    "start": "154720",
    "end": "160390"
  },
  {
    "text": "jobs javascript files I'm just gonna bundle them all up into a single thing send them down for all my users but it's",
    "start": "160390",
    "end": "166270"
  },
  {
    "text": "probably not great right you're presumably you've got a bunch of stuff that only your home page is using",
    "start": "166270",
    "end": "171550"
  },
  {
    "text": "that your profile pages just need so you know we typically tend to split these up at a top level now what about you know",
    "start": "171550",
    "end": "179380"
  },
  {
    "text": "supporting older browsers like ie right a lot of us have felt the pain of having to support older browsers like this and",
    "start": "179380",
    "end": "185260"
  },
  {
    "text": "so you know with older IE versions you don't really get the support for say a",
    "start": "185260",
    "end": "190420"
  },
  {
    "text": "lot of fancy html5 or even es5 or es6 features so what would typically do is ship our JavaScript bundles with shims",
    "start": "190420",
    "end": "197320"
  },
  {
    "text": "right you have shims or libraries that kind of enable you to use enable you to use these newer features now of course",
    "start": "197320",
    "end": "203410"
  },
  {
    "text": "these shims can be big in size so you don't really want to send those down for users who aren't on IE so what we",
    "start": "203410",
    "end": "211480"
  },
  {
    "text": "probably might do then is you know as a request comes in take a look at the user's browser and say look are using a",
    "start": "211480",
    "end": "218650"
  },
  {
    "text": "version of ie if so then you know I'm going to give you the IE version of this bundle and if",
    "start": "218650",
    "end": "224830"
  },
  {
    "text": "not then I'll just give you the regular version that supports all your other fancy stuff now because we're Netflix",
    "start": "224830",
    "end": "231190"
  },
  {
    "text": "let's make this a little bit more complicated so we love to a be testing frequently we'll deliver different",
    "start": "231190",
    "end": "238000"
  },
  {
    "text": "variations of the same thing really just in order to test and see you know which one is the best experience for our users",
    "start": "238000",
    "end": "243580"
  },
  {
    "text": "so here's a super simple simple example of what one of our tests might look like",
    "start": "243580",
    "end": "249130"
  },
  {
    "text": "so these are box shots for a particular video and what we might do is you know",
    "start": "249130",
    "end": "254560"
  },
  {
    "text": "the UX is pretty much exactly the same except for this image and we'd run this test and find out that hey look the",
    "start": "254560",
    "end": "260440"
  },
  {
    "text": "image in cell 2 increase the engagement with our users so great image too becomes the default",
    "start": "260440",
    "end": "266960"
  },
  {
    "text": "image and that's now what users would get now that's a pretty simple example",
    "start": "266960",
    "end": "272510"
  },
  {
    "text": "but the reality is we test a ton of other things right so we will play with",
    "start": "272510",
    "end": "277820"
  },
  {
    "text": "say the placement of the buttons what they look like we'll play with sort of the ordering of your rows and we even do",
    "start": "277820",
    "end": "284330"
  },
  {
    "text": "a lot of testing around core features of the site so if you look at something like search right that's an integral part of the site's experience so let's",
    "start": "284330",
    "end": "292220"
  },
  {
    "text": "take a look at what it might look like if we were to a/b test the search experience so we've got our homepage",
    "start": "292220",
    "end": "298340"
  },
  {
    "text": "right and maybe we've got our two variations and we've got an old search experience and a new search experience",
    "start": "298340",
    "end": "303860"
  },
  {
    "text": "now if you get the old search experience then really ideally you would get just the dependencies required for your old",
    "start": "303860",
    "end": "310430"
  },
  {
    "text": "search experience right and likewise if you're a new search then you should only get the dependencies required for new",
    "start": "310430",
    "end": "316490"
  },
  {
    "text": "search now when a user asks for this home home page Java Script bundle it's",
    "start": "316490",
    "end": "323450"
  },
  {
    "text": "super easy for us as developers to basis hey look I'm just gonna bundle all these things and send them down right but in",
    "start": "323450",
    "end": "330140"
  },
  {
    "text": "this case what if say the new search experience uses a different framework right we see this a lot in migrations",
    "start": "330140",
    "end": "336500"
  },
  {
    "text": "where perhaps in this case new search is using react and the old search version was using jQuery so now we're actually",
    "start": "336500",
    "end": "342020"
  },
  {
    "text": "sending a ton of stuff that we don't really need right and these increased",
    "start": "342020",
    "end": "347360"
  },
  {
    "text": "file sizes are pretty bad for our end users is a lot like getting hit by a truck right bigger file sizes mean that",
    "start": "347360",
    "end": "352580"
  },
  {
    "text": "we end up taking more time to download more stuff that we don't really need and ultimately you know that increases",
    "start": "352580",
    "end": "358400"
  },
  {
    "text": "memory usage and increases time to interactive so for folks who aren't familiar with the concept of time and",
    "start": "358400",
    "end": "364460"
  },
  {
    "text": "interactive it's really amount of time that it requires for you know the client to really parse and though the",
    "start": "364460",
    "end": "369980"
  },
  {
    "text": "JavaScript bootstrap the application and basically be ready to interact with the",
    "start": "369980",
    "end": "375830"
  },
  {
    "text": "user so in many ways TTI is one of the Holy Grail metrics for the user",
    "start": "375830",
    "end": "380840"
  },
  {
    "text": "experience so who remembers these old-school Legos I know this is kind of",
    "start": "380840",
    "end": "386870"
  },
  {
    "text": "what I grew up with so if you bought a bucket of usually you'd buy like this giant bucket of a thousand pieces and",
    "start": "386870",
    "end": "392570"
  },
  {
    "text": "they're all pretty generic bricks and you know you have to use your imagination and actually build something",
    "start": "392570",
    "end": "397930"
  },
  {
    "text": "useful and fun fast forward you know a couple decades this is what you get when",
    "start": "397930",
    "end": "403060"
  },
  {
    "text": "you go walk into the Lego store now right LEGO sets are really no longer the generic sets of your instead they're",
    "start": "403060",
    "end": "408669"
  },
  {
    "text": "highly specialized right and each set really only comes with the pieces that you need and so since these sets are so",
    "start": "408669",
    "end": "415990"
  },
  {
    "text": "specialized now it really wouldn't make any sense for example to say you know bundle Harry Potter bricks with your",
    "start": "415990",
    "end": "421840"
  },
  {
    "text": "Star Wars set because there's just no way for you to reasonably make use of those pieces and that's in fact exactly",
    "start": "421840",
    "end": "429699"
  },
  {
    "text": "the same thing that we're looking at here for our JavaScript bundles right you know each experience is highly",
    "start": "429699",
    "end": "434889"
  },
  {
    "text": "specialized and you know we want to make sure that if you're an old search you only get the things you need and if",
    "start": "434889",
    "end": "440229"
  },
  {
    "text": "you're a new search you only get the things that you want and so since search",
    "start": "440229",
    "end": "445750"
  },
  {
    "text": "is such an integral part of experience you know we do want to make sure that okay we further split that up right so",
    "start": "445750",
    "end": "452590"
  },
  {
    "text": "as you can see this starting to get a little bit unwieldy so we've got you know different",
    "start": "452590",
    "end": "457690"
  },
  {
    "text": "variations of new search with ie without ie own search with ie without ie and this is just for a single page right",
    "start": "457690",
    "end": "465550"
  },
  {
    "text": "for just the home page so if you multiply this out across all the different entry points you've got your website this starts to get a little bit",
    "start": "465550",
    "end": "471940"
  },
  {
    "text": "difficult to manage now the thing is we actually run hundreds of a/b tests a year a lot of",
    "start": "471940",
    "end": "479650"
  },
  {
    "text": "these tests run concurrently and so it actually starts to get pretty crazy",
    "start": "479650",
    "end": "484870"
  },
  {
    "text": "because we also do testing or you know variations on the UI based on other",
    "start": "484870",
    "end": "490389"
  },
  {
    "text": "dimensions and so other dimensions for example can include things like your geolocation it can be based on the",
    "start": "490389",
    "end": "497500"
  },
  {
    "text": "features of your particular client in this case I've got I convert browsers but the same thing applies if you're",
    "start": "497500",
    "end": "503110"
  },
  {
    "text": "using any of our 10-foot devices so like you know TVs embedded devices etc so if",
    "start": "503110",
    "end": "509529"
  },
  {
    "text": "anybody remembers their math here the total number of possible combinations",
    "start": "509529",
    "end": "515229"
  },
  {
    "text": "really is equal to the number of items in each set multiplied by each other so if we were to run say 100 a B tests with",
    "start": "515229",
    "end": "521529"
  },
  {
    "text": "just three variations each this is you know the total number of possible variations we're talking about",
    "start": "521529",
    "end": "527889"
  },
  {
    "text": "in the UI so this is a pretty big number I'm not gonna I don't even know how I would possibly pronounce this so let's",
    "start": "527889",
    "end": "534449"
  },
  {
    "text": "try to visualize that a little bit you know like big numbers are abstract and kind of hard to digest so according to",
    "start": "534449",
    "end": "541660"
  },
  {
    "text": "Lego his own website takes about 40 billion bricks you know lay it on top of each other to reach the moon it takes",
    "start": "541660",
    "end": "548679"
  },
  {
    "text": "about seven point six quadrillion bricks to reach Pluto and the summer is actually still less the number that we",
    "start": "548679",
    "end": "553989"
  },
  {
    "text": "just saw so if we were to take that number and divide it by the number of times it gets the Pluto we can't go to",
    "start": "553989",
    "end": "559660"
  },
  {
    "text": "Pluto with this many times so that's a really really big number and it's just a",
    "start": "559660",
    "end": "565089"
  },
  {
    "text": "lot of bundles right so all right that's kind of a problem what are we gonna do I'm sure there's some joke here about",
    "start": "565089",
    "end": "572439"
  },
  {
    "text": "compiling for a scripting language I can't quite put my finger on so instead here's the infamous xkcd",
    "start": "572439",
    "end": "578410"
  },
  {
    "text": "comic about the compiling so it's not just that the developers have to feel",
    "start": "578410",
    "end": "585369"
  },
  {
    "text": "this pain right waiting for compilation times you know the fact is the full size of just our websites javascript if you",
    "start": "585369",
    "end": "591850"
  },
  {
    "text": "include the entire repository you know is 8 megabytes plus right so even if we wanted to do we couldn't send all that",
    "start": "591850",
    "end": "598329"
  },
  {
    "text": "down to to our clients into the browser because it would just absolutely kill the user experience great so at this",
    "start": "598329",
    "end": "608679"
  },
  {
    "text": "point the problem is pretty clear how do we deal with conditional dependencies right in other words users should only",
    "start": "608679",
    "end": "615069"
  },
  {
    "text": "get certain files if they meet certain conditions whether that condition happens to be allocated to an a/b test",
    "start": "615069",
    "end": "620410"
  },
  {
    "text": "you know using the right client or something or other and we need to be able to solve this problem while",
    "start": "620410",
    "end": "625660"
  },
  {
    "text": "continuing to move fast within the UI so",
    "start": "625660",
    "end": "631239"
  },
  {
    "text": "as part of approaching this problem we kind of had to rethink some of our assumptions right you know common sense",
    "start": "631239",
    "end": "636730"
  },
  {
    "text": "says if I want to generate JavaScript bundle I compile it I build it offline beforehand probably publish at CDN",
    "start": "636730",
    "end": "643119"
  },
  {
    "text": "afterward and then that's where our clients would go and fetch it right but as we saw we can't really reasonably pre",
    "start": "643119",
    "end": "649899"
  },
  {
    "text": "generate all the possible combinations so what if we instead were to build these on demand right if you look at",
    "start": "649899",
    "end": "656529"
  },
  {
    "text": "Larry our barista here you know he at coffee shops they don't make all the coffee that they",
    "start": "656529",
    "end": "661640"
  },
  {
    "text": "for the entire day at the beginning of the day right rather they take orders they make the coffee as they come in so",
    "start": "661640",
    "end": "667580"
  },
  {
    "text": "I think this is you know a pretty good analogy for what we might be able to do here what if instead we just compiled",
    "start": "667580",
    "end": "673370"
  },
  {
    "text": "and built the bundles as they were requested so let's kind of think through",
    "start": "673370",
    "end": "679490"
  },
  {
    "text": "what it would require to actually make this happen so step one of course would be to make sure that we have built the full",
    "start": "679490",
    "end": "685760"
  },
  {
    "text": "dependency graph for your application and that includes all the conditional points that we are talking about so",
    "start": "685760",
    "end": "692450"
  },
  {
    "text": "let's visualize this you know if we've got our git repository here what we did was basically send it through some",
    "start": "692450",
    "end": "698180"
  },
  {
    "text": "JavaScript tooling that we built and we called this this ecosystem of tooling codecs and what would come out on the",
    "start": "698180",
    "end": "704270"
  },
  {
    "text": "other end is this JSON artifact and you can think of this JSON artifact as a",
    "start": "704270",
    "end": "709310"
  },
  {
    "text": "build artifact of sorts right internally it is a representation of your applications dependency graph but we",
    "start": "709310",
    "end": "716630"
  },
  {
    "text": "would also through you know some static analysis and whatnot be able to determine which edges in this graph are",
    "start": "716630",
    "end": "722300"
  },
  {
    "text": "conditional right so whether or not it's gated by a particular test or gated by a particular device type etc so the",
    "start": "722300",
    "end": "729440"
  },
  {
    "text": "read errors here would represent those conditional edges now of course we can",
    "start": "729440",
    "end": "734930"
  },
  {
    "text": "create as many artifacts as we need to right over time teams are going to continue to release new builds and they'll have different",
    "start": "734930",
    "end": "741650"
  },
  {
    "text": "artifacts for each of these builds so in many ways we can kind of think of these artifacts as like a binary of sorts for",
    "start": "741650",
    "end": "748490"
  },
  {
    "text": "our UI right by just having one particular artifact we're able to then generate all the different you know",
    "start": "748490",
    "end": "754820"
  },
  {
    "text": "possible permutations of a dependency graph for that specific build so now",
    "start": "754820",
    "end": "761000"
  },
  {
    "text": "that we've you know got a way to basically represent what this dependency graph and the conditional edges look",
    "start": "761000",
    "end": "766190"
  },
  {
    "text": "like we need to find a way now to evaluate the dynamic inputs and so the",
    "start": "766190",
    "end": "771560"
  },
  {
    "text": "dynamic inputs are basically what we're talking about earlier in terms of the different ways in which we identify a",
    "start": "771560",
    "end": "778460"
  },
  {
    "text": "particular user in the experience that they should get so as I mentioned before we use a lot of different inputs here and you know earlier we saw examples",
    "start": "778460",
    "end": "785570"
  },
  {
    "text": "where we're just using ie as one way to differentiate the experience but you",
    "start": "785570",
    "end": "790790"
  },
  {
    "text": "know here we've got as a metric before to your location your device types you know the different various AV tests in fact",
    "start": "790790",
    "end": "797210"
  },
  {
    "text": "we do a lot of things like say your membership status and your membership state as well to kind of personalize",
    "start": "797210",
    "end": "803150"
  },
  {
    "text": "your experience now we can take all of these different inputs and really",
    "start": "803150",
    "end": "808310"
  },
  {
    "text": "distill them down into a single bucket and internally we call this bucket of flags truths and conceptually it's like",
    "start": "808310",
    "end": "816500"
  },
  {
    "text": "a grab bag set of sort of boolean flags that we use to tailor your experience",
    "start": "816500",
    "end": "822370"
  },
  {
    "text": "and here's example of what a set of truths might look like for a particular",
    "start": "822370",
    "end": "827900"
  },
  {
    "text": "team so they might you know have defined these things and what you see here is a bunch of key Val boolean pairs that sort",
    "start": "827900",
    "end": "834260"
  },
  {
    "text": "of specify the features or experiences that should represent that particular",
    "start": "834260",
    "end": "839900"
  },
  {
    "text": "users experience and well you'll notice here is that the flags that are shown here don't really match one-to-one to",
    "start": "839900",
    "end": "845780"
  },
  {
    "text": "any of the things that we saw earlier right there's no metric browser or geolocation here and that's because you know the raw",
    "start": "845780",
    "end": "852080"
  },
  {
    "text": "inputs are mapped into these final and final outputs and these from the perspective of building the UIs right it",
    "start": "852080",
    "end": "858830"
  },
  {
    "text": "really attracts away you know sort of those raw inputs and said you know we focus on building our UIs using just a",
    "start": "858830",
    "end": "864740"
  },
  {
    "text": "set of you know conditions or features so what that means is for a given user",
    "start": "864740",
    "end": "871790"
  },
  {
    "text": "no matter which device they are using or where they're coming from they're going",
    "start": "871790",
    "end": "877100"
  },
  {
    "text": "to get an experience that's tailored just for them okay so you know with our",
    "start": "877100",
    "end": "883610"
  },
  {
    "text": "truths we now have a way to kind of represent what a user's experience should get and as you saw earlier with",
    "start": "883610",
    "end": "889610"
  },
  {
    "text": "the artifacts we have a way to represent the dependency graph so final the final",
    "start": "889610",
    "end": "895100"
  },
  {
    "text": "step here would really be to apply those truths to the conditional graph here so",
    "start": "895100",
    "end": "900200"
  },
  {
    "text": "let's kind of see what that looks like now typically in practice you know if a",
    "start": "900200",
    "end": "906260"
  },
  {
    "text": "user comes to our website this is how you might expect it to look like right the website serves a script tag the",
    "start": "906260",
    "end": "912410"
  },
  {
    "text": "users browser or client is going to say it great I've got this resource I'm gonna go fetch it from Akamai probably",
    "start": "912410",
    "end": "918200"
  },
  {
    "text": "because we've pre-published it there but instead since we are doing this generation on demand instead let's have",
    "start": "918200",
    "end": "925790"
  },
  {
    "text": "aqua a kind of for that traffic back to Netflix so in effect the codec service that we've built serves as the",
    "start": "925790",
    "end": "932240"
  },
  {
    "text": "origin for the CDN now here's where",
    "start": "932240",
    "end": "938360"
  },
  {
    "text": "things start to get a little bin so if you see that you are all I've got at the top here it's kind of a templatized URL",
    "start": "938360",
    "end": "945260"
  },
  {
    "text": "right and there's some metadata that's big just to that URL that really tells us which artifact is being requested so",
    "start": "945260",
    "end": "951680"
  },
  {
    "text": "remember you know we had those examples earlier where website was building all these different you know versions of",
    "start": "951680",
    "end": "957410"
  },
  {
    "text": "their artifacts basically we're saying hey look this URL is asking for the website at version 1 and then based on",
    "start": "957410",
    "end": "965180"
  },
  {
    "text": "that you'll also notice the the last part of that URL contains sort of a comma delimited list of the truths so by",
    "start": "965180",
    "end": "974149"
  },
  {
    "text": "just having this URL we're now able to know look the users asking for this particular version of a UI given these",
    "start": "974149",
    "end": "981740"
  },
  {
    "text": "particular truths and that actually pretty much gives us all the information that we need to go on so with these",
    "start": "981740",
    "end": "987980"
  },
  {
    "text": "truths we can now kind of apply it to the dependency graph so if these were",
    "start": "987980",
    "end": "993740"
  },
  {
    "text": "the truths that were path passed to us in the URL you know we look at our entry",
    "start": "993740",
    "end": "998839"
  },
  {
    "text": "point and we say look okay great immediately we know we have sort of a fork here right we either serve the new",
    "start": "998839",
    "end": "1005260"
  },
  {
    "text": "search experience or research sorry we serve the new search experience or the old search experience and by looking at",
    "start": "1005260",
    "end": "1012339"
  },
  {
    "text": "the truth we see that old search is true which means automatically we stop walking you know the new search edge of",
    "start": "1012339",
    "end": "1018279"
  },
  {
    "text": "this graph and we only go down the old search and you'll notice immediately we get all of the dependencies in",
    "start": "1018279",
    "end": "1024400"
  },
  {
    "text": "transitive dependencies up until the next conditional dependency so we've got a conditional dependency you here that",
    "start": "1024400",
    "end": "1029829"
  },
  {
    "text": "says foo and as we see in the URL foo is true which means great we've unlocked",
    "start": "1029829",
    "end": "1035589"
  },
  {
    "text": "this edge we'll continue walking and now we've got another conditional edge that says you need bard to continue going",
    "start": "1035589",
    "end": "1042730"
  },
  {
    "text": "down that path well we don't have the bar truth here right so we stopped walking and great this is pretty much",
    "start": "1042730",
    "end": "1049600"
  },
  {
    "text": "you know all the dependencies that are required to ship to the user now if you",
    "start": "1049600",
    "end": "1055000"
  },
  {
    "text": "were to compare that to you know the size of the full graph of all the things that could possibly",
    "start": "1055000",
    "end": "1060440"
  },
  {
    "text": "in this entry point you know it's a pretty big difference right we've effectively cut out half of that graph by doing sort of run time resolution of",
    "start": "1060440",
    "end": "1067610"
  },
  {
    "text": "the graph and so you're probably thinking all right if you did this at",
    "start": "1067610",
    "end": "1073460"
  },
  {
    "text": "run time it's probably going to be a little bit slow right and the thing is I think the proof is in the pudding we've",
    "start": "1073460",
    "end": "1079549"
  },
  {
    "text": "spent a lot of time optimizing this and we've been able to you know get the times down to less than 70 milliseconds",
    "start": "1079549",
    "end": "1085070"
  },
  {
    "text": "I think for like the P P 90 or P 95 plus times for building these JavaScript",
    "start": "1085070",
    "end": "1090440"
  },
  {
    "text": "bundles which means as the request comes back to origin we're able to cobble this",
    "start": "1090440",
    "end": "1095779"
  },
  {
    "text": "up together and send a response out all you know within 70 milliseconds so it's worked out pretty quickly for us it's",
    "start": "1095779",
    "end": "1102440"
  },
  {
    "text": "great because I think as as we continue to make optimization optimizations against this it'll only get quicker and",
    "start": "1102440",
    "end": "1111769"
  },
  {
    "text": "so one thing that I did forget to mention here is what's also great about the system is that you know all the state is captured within that URL that",
    "start": "1111769",
    "end": "1118879"
  },
  {
    "text": "we see right the URL specifies the UI version it specifies the truth specifies the entry point you know it's completely",
    "start": "1118879",
    "end": "1125419"
  },
  {
    "text": "stateless like it allows our system to be stateless and basically cobbled together the URL based on just sorry",
    "start": "1125419",
    "end": "1132409"
  },
  {
    "text": "cobble together the bundle based on just the URL alone so of course now that we've kind of cobbled together that",
    "start": "1132409",
    "end": "1139220"
  },
  {
    "text": "bundle we send it back out to Akamai who then caches it you know at the CDN for future requests and that's that's pretty",
    "start": "1139220",
    "end": "1147289"
  },
  {
    "text": "much it so awesome we've now got this",
    "start": "1147289",
    "end": "1152539"
  },
  {
    "text": "really novel service that we use to generate bundles on demand right so we've saved our UI teams a ton of",
    "start": "1152539",
    "end": "1158899"
  },
  {
    "text": "compilation time which is pretty great we also have to make sure that this works at net fixed scale so in addition",
    "start": "1158899",
    "end": "1167360"
  },
  {
    "text": "to supporting the website we do have to support various other teams as well right so you think about the TV UI teams",
    "start": "1167360",
    "end": "1173539"
  },
  {
    "text": "which are responsible for building the UIs for all the template devices that you're familiar with so the TV's embedded devices ps4 is",
    "start": "1173539",
    "end": "1180889"
  },
  {
    "text": "Xboxes etcetera etc and so thinking about the all the different customers",
    "start": "1180889",
    "end": "1187580"
  },
  {
    "text": "that we have to support on all the different versions of artifacts that we need to support very quickly became clear to us that we were taught",
    "start": "1187580",
    "end": "1193480"
  },
  {
    "text": "about a problem of build management there specifically there are two big",
    "start": "1193480",
    "end": "1199540"
  },
  {
    "text": "questions that we need to answer and the first was like where do we store these artifacts right teams are gonna",
    "start": "1199540",
    "end": "1205570"
  },
  {
    "text": "basically be generating artifacts and storing needing a place to kind of store these long-term right because if they're",
    "start": "1205570",
    "end": "1212140"
  },
  {
    "text": "effectively binary we almost want to have like an artifact tree of sorts for these codex artifacts that we've",
    "start": "1212140",
    "end": "1218020"
  },
  {
    "text": "generated question number two would be how do we find these stored artifacts and this question kind of implicitly",
    "start": "1218020",
    "end": "1224590"
  },
  {
    "text": "expands the scope of the problem because now not only do we need to keep track of",
    "start": "1224590",
    "end": "1229960"
  },
  {
    "text": "you know the raw artifacts themselves but we also have to keep track of some metadata regarding these artifacts like",
    "start": "1229960",
    "end": "1235390"
  },
  {
    "text": "the you know the team owner of these artifacts what are the versions of these artifacts and probably you know",
    "start": "1235390",
    "end": "1240940"
  },
  {
    "text": "something like a pointer to where wherever we end up storing these artifacts so what this meant is that we",
    "start": "1240940",
    "end": "1250299"
  },
  {
    "text": "needed to take on additional external dependencies for our service we needed a persistent store to basically store all",
    "start": "1250299",
    "end": "1257320"
  },
  {
    "text": "these artifacts but then also place to store the metadata for these artifacts taking out external dependencies is not",
    "start": "1257320",
    "end": "1263679"
  },
  {
    "text": "something we took lightly codex is or was and is a mission-critical service",
    "start": "1263679",
    "end": "1269520"
  },
  {
    "text": "which means that you know if codex goes down then customers would be unable to stream and I don't know about you guys",
    "start": "1269520",
    "end": "1275980"
  },
  {
    "text": "but you know even some of the nicest people that I know you wouldn't like them when they don't have the Netflix so",
    "start": "1275980",
    "end": "1282090"
  },
  {
    "text": "you know we got to make sure that you know our service is resilient to all possible failures so being very",
    "start": "1282090",
    "end": "1289360"
  },
  {
    "text": "thoughtful about this but you know also being big customers of Amazon AWS it kind of really made sense to just rely",
    "start": "1289360",
    "end": "1297429"
  },
  {
    "text": "on quarterly services like s3 and dynamodb and one of the really big drivers for our team was that we didn't",
    "start": "1297429",
    "end": "1304450"
  },
  {
    "text": "want to be in the business of owning or running the infrastructure for either of these needs you know it wasn't part of",
    "start": "1304450",
    "end": "1310720"
  },
  {
    "text": "our team's Charter and it certainly wasn't part of you know our teams kind of expertise so it made a lot of sense",
    "start": "1310720",
    "end": "1316540"
  },
  {
    "text": "to rely on Amazon here especially the fact that you know these are fully managed services and in effect what we",
    "start": "1316540",
    "end": "1323770"
  },
  {
    "text": "really wanted was just you know something that would work",
    "start": "1323770",
    "end": "1328140"
  },
  {
    "text": "so s3 as a storage layer was you know this is pretty straightforward right I don't think there's a whole lot more here I need to say that you know it",
    "start": "1328880",
    "end": "1335660"
  },
  {
    "text": "hasn't been Walt rotten but suffice it to say you know s3 provided everything",
    "start": "1335660",
    "end": "1340700"
  },
  {
    "text": "that we needed in addition to being effectively infinite in terms of storage space now I think one of the kind of",
    "start": "1340700",
    "end": "1348140"
  },
  {
    "text": "bonuses here was the fact that we had a native node.js client available to us because we were building this codec",
    "start": "1348140",
    "end": "1354380"
  },
  {
    "text": "service in nodejs so this was a big win for us now when it came to our metadata",
    "start": "1354380",
    "end": "1361340"
  },
  {
    "text": "needs you know no sequels really what we were after here you know we didn't have a need for really complex joins or sorts",
    "start": "1361340",
    "end": "1368840"
  },
  {
    "text": "or queries of that sort you know simple queries were really what rule today here and so while there are a lot of other",
    "start": "1368840",
    "end": "1375560"
  },
  {
    "text": "you know no sequel solutions out there none of them really ticked off all the check boxes of like a fully managed",
    "start": "1375560",
    "end": "1381140"
  },
  {
    "text": "solution the same way that DynamoDB did and you know even internet Netflix you might say like well I'm surely there are",
    "start": "1381140",
    "end": "1387440"
  },
  {
    "text": "other teams that are running data stores and you know it's true they were but again we didn't have access to a native",
    "start": "1387440",
    "end": "1394460"
  },
  {
    "text": "nodejs client here so I think by Amazon providing this that was a big win for us now one of the really big killer",
    "start": "1394460",
    "end": "1400400"
  },
  {
    "text": "features here was actually the streams feature of Dino video dynamodb which you",
    "start": "1400400",
    "end": "1406550"
  },
  {
    "text": "know would basically emit changes made to your tables so you know you know be",
    "start": "1406550",
    "end": "1412790"
  },
  {
    "text": "able to create an event stream and say like look here the records that are being changed and here's how they changed and that specific feature was",
    "start": "1412790",
    "end": "1419570"
  },
  {
    "text": "something that we're really interested in because we would really really help us build out the system as we wanted",
    "start": "1419570",
    "end": "1424850"
  },
  {
    "text": "which we'll see in just a moment unfortunately it didn't quite work out but well we'll kind of see how that",
    "start": "1424850",
    "end": "1430640"
  },
  {
    "text": "played out now a quick note on the availability so I know Amazon doesn't",
    "start": "1430640",
    "end": "1435950"
  },
  {
    "text": "technically a publish and availability SLA for dynamodb but does anybody here",
    "start": "1435950",
    "end": "1440960"
  },
  {
    "text": "like run their own Cassandra clusters very few like one or two ok how many",
    "start": "1440960",
    "end": "1447200"
  },
  {
    "text": "times has it has Cassandra gone down for you guys like in the last five or six years nothing all right",
    "start": "1447200",
    "end": "1454640"
  },
  {
    "text": "well all I know is that diamond TV for as far as you know is publicly available",
    "start": "1454640",
    "end": "1459840"
  },
  {
    "text": "I believe has only had a single outage since it was introduced in 2012 so you",
    "start": "1459840",
    "end": "1465240"
  },
  {
    "text": "know for me that's a pretty pretty big win and you know ticket for what it's worth all right so with the eight of us",
    "start": "1465240",
    "end": "1473580"
  },
  {
    "text": "tech in place now you know let's look at what it would take to really scale the",
    "start": "1473580",
    "end": "1479490"
  },
  {
    "text": "server's out for all of us at Netflix so if we start actually by thinking about a",
    "start": "1479490",
    "end": "1484919"
  },
  {
    "text": "management plan for this service right so all these artifacts that are being generated created by different teams we",
    "start": "1484919",
    "end": "1491250"
  },
  {
    "text": "would first upload to our service and so this management plane would effectively handle any interaction regarding sort of",
    "start": "1491250",
    "end": "1497970"
  },
  {
    "text": "the initial puts and changes to these artifacts within the system so you know",
    "start": "1497970",
    "end": "1503820"
  },
  {
    "text": "as the team's create these artifacts they upload them to us and the first thing that we'll do is basically unpack",
    "start": "1503820",
    "end": "1509100"
  },
  {
    "text": "this artifact you know will parse out some metadata and say look I'm going to create a record about this artifact and",
    "start": "1509100",
    "end": "1515340"
  },
  {
    "text": "then go and store it and DynamoDB then after that we'll go ahead and take the raw artifact in its entirety and then",
    "start": "1515340",
    "end": "1522120"
  },
  {
    "text": "dump it into s3 so this management plan then gives us a really easy way to kind",
    "start": "1522120",
    "end": "1528210"
  },
  {
    "text": "of keep track of all the you know quote unquote prod ready builds that we know and care about now the other half of the",
    "start": "1528210",
    "end": "1537840"
  },
  {
    "text": "service is going to be the runtime plane right and the runtime plane is going to be the part of the service that actually",
    "start": "1537840",
    "end": "1543600"
  },
  {
    "text": "handles the incoming requests from our clients so once all the progress evils",
    "start": "1543600",
    "end": "1549659"
  },
  {
    "text": "are sort of uploaded through that management plan that we just saw our users would then come through Akamai",
    "start": "1549659",
    "end": "1555450"
  },
  {
    "text": "which would then for that request back to us and what we could do is then based on that URL say hey this this user for",
    "start": "1555450",
    "end": "1564299"
  },
  {
    "text": "example is asking for a website at version 1 we would go to dynamo say where is this artifact right and then",
    "start": "1564299",
    "end": "1570450"
  },
  {
    "text": "based on that information and go back to s3 fetch the artifact come back to the service and within the artifact since",
    "start": "1570450",
    "end": "1577049"
  },
  {
    "text": "we've got that you know dependency graph we can then do that sort of on-demand traversal at this point in time so while",
    "start": "1577049",
    "end": "1583980"
  },
  {
    "text": "this works it does feel a little bit clunky and probably would provide for a pretty poor experience from the users",
    "start": "1583980",
    "end": "1590010"
  },
  {
    "text": "per se effective right because they're sitting there waiting for us to go to dynamo then go to s3 before we can do anything",
    "start": "1590010",
    "end": "1595980"
  },
  {
    "text": "at all all the while they're probably sitting there you know in the browser with a spinner or something like that so",
    "start": "1595980",
    "end": "1602220"
  },
  {
    "text": "instead I think what we can do is probably add some extra metadata inside of our dynamo DB metadata to facilitate",
    "start": "1602220",
    "end": "1609509"
  },
  {
    "text": "sort of the priming of artifacts within the system so after uploading instead what we can do is ask teams to then go",
    "start": "1609509",
    "end": "1616529"
  },
  {
    "text": "and actually quote unquote activate a particular build right so you may upload like an artifacts into our",
    "start": "1616529",
    "end": "1622320"
  },
  {
    "text": "system but then say you only want to activate that last one and by effectively sort of activating a",
    "start": "1622320",
    "end": "1628889"
  },
  {
    "text": "particular build all we do is set a flag inside the database that says hey look this is a build that you should be",
    "start": "1628889",
    "end": "1635909"
  },
  {
    "text": "supporting right now like this is a build that you may be taking traffic for",
    "start": "1635909",
    "end": "1641850"
  },
  {
    "text": "very very soon and so once that build is",
    "start": "1641850",
    "end": "1646859"
  },
  {
    "text": "activated and that flag is set in dynamo dB here's really where we wanted to make",
    "start": "1646859",
    "end": "1651989"
  },
  {
    "text": "use of that streams feature as the flag was set effectively dynamo DB you could stream these updates back to our runtime",
    "start": "1651989",
    "end": "1658230"
  },
  {
    "text": "servers and it would say look here's the list of all the artifacts that you should be supporting right now and based",
    "start": "1658230",
    "end": "1665399"
  },
  {
    "text": "on that information we could then go to s3 and basically Prime the service with the artifacts that are being asked for",
    "start": "1665399",
    "end": "1671419"
  },
  {
    "text": "now the thing with the stream there fortunately was that at the time that we were setting up the service probably you",
    "start": "1671419",
    "end": "1678419"
  },
  {
    "text": "know two to three years ago or so the streams could not be directly consumed",
    "start": "1678419",
    "end": "1683850"
  },
  {
    "text": "by the node.js client and so what that meant is we had to create the sort of intermediate Kinesis stream which meant",
    "start": "1683850",
    "end": "1689730"
  },
  {
    "text": "sending up some more infrastructure so I think ultimately sort of in the goal to",
    "start": "1689730",
    "end": "1695429"
  },
  {
    "text": "reduce the amount of footprint that we needed for such a mission-critical service we opted not to do streams at",
    "start": "1695429",
    "end": "1701340"
  },
  {
    "text": "that point in time instead we went with poor-man's push and",
    "start": "1701340",
    "end": "1706820"
  },
  {
    "text": "decided to do polling right so what we did was set up a background thread here where basically our service was",
    "start": "1706820",
    "end": "1712769"
  },
  {
    "text": "periodically polling DynamoDB and saying hey give me the list of active stuff right and as that list comes back we do the",
    "start": "1712769",
    "end": "1720119"
  },
  {
    "text": "same thing and Prime the service with the artifacts that we need so that way you know when our users do",
    "start": "1720119",
    "end": "1726720"
  },
  {
    "text": "come through Akamai to get the JavaScript that they want you know the artifact is already live in the service and all we have to",
    "start": "1726720",
    "end": "1733650"
  },
  {
    "text": "do really is just do traversal and traversal of the graph and send that bundle back out so there was one minor",
    "start": "1733650",
    "end": "1743130"
  },
  {
    "text": "problem with polling however so here's a graph showing our instance counts kind",
    "start": "1743130",
    "end": "1748380"
  },
  {
    "text": "of growing under a particular scaling event right because we were pulling on sort of a background thread that means",
    "start": "1748380",
    "end": "1754830"
  },
  {
    "text": "our dynamo DB read unit counts had to scale based on the number of instances that we had in production so scaling by",
    "start": "1754830",
    "end": "1763080"
  },
  {
    "text": "the number of instances we had deployed rather than say you know by our PS or throughput or any other metric so as a",
    "start": "1763080",
    "end": "1769500"
  },
  {
    "text": "result what that meant was that there really wasn't a sane way for us to scale our read unit capacities right and in",
    "start": "1769500",
    "end": "1776310"
  },
  {
    "text": "the worst case of like say a massive scale up event we would probably exceed our limit and then get throttled and",
    "start": "1776310",
    "end": "1781950"
  },
  {
    "text": "then you know go into sort of a death spiral of sorts so to solve this problem",
    "start": "1781950",
    "end": "1787200"
  },
  {
    "text": "you know it wasn't it wasn't easy for us ultimately like we we kind of played",
    "start": "1787200",
    "end": "1792240"
  },
  {
    "text": "around with different ways to maybe we could dynamically you know update those recounts but ultimately we just decide",
    "start": "1792240",
    "end": "1797850"
  },
  {
    "text": "on pinning super super high to basically get the read units high enough for what",
    "start": "1797850",
    "end": "1804060"
  },
  {
    "text": "we needed which is not great but fortunately I think since then dynamodb has landed auto scaling for your read",
    "start": "1804060",
    "end": "1812070"
  },
  {
    "text": "and writes so that means you know you can just check that box and then as your read usage goes up it will scale your",
    "start": "1812070",
    "end": "1819360"
  },
  {
    "text": "your needy capacity so to quickly kind",
    "start": "1819360",
    "end": "1824730"
  },
  {
    "text": "of circle back on our trustees that I'm going to be here you know it's worked incredibly well for us primarily primarily because it's so well suited",
    "start": "1824730",
    "end": "1832560"
  },
  {
    "text": "for our particular use case poley works great in in this case too because we are",
    "start": "1832560",
    "end": "1838020"
  },
  {
    "text": "backed fronted rather by the CDN so you know what regents do have to scale with",
    "start": "1838020",
    "end": "1844110"
  },
  {
    "text": "our instance counts our instance count is actually somewhat mitigated by the fact that we have CDN caching you know",
    "start": "1844110",
    "end": "1850200"
  },
  {
    "text": "if we send all traffic back to our origin then this might not have scaled",
    "start": "1850200",
    "end": "1855210"
  },
  {
    "text": "as well so most importantly though here I think is when using a single solution like",
    "start": "1855210",
    "end": "1862050"
  },
  {
    "text": "DynamoDB you know you want to make sure that you set a and use a good partition key and make sure that you know you",
    "start": "1862050",
    "end": "1868530"
  },
  {
    "text": "understand the partitioning behavior for your specific solution you know picking",
    "start": "1868530",
    "end": "1874020"
  },
  {
    "text": "a good partition key ensures that there you're gonna get even distribution you know of your workloads which is super",
    "start": "1874020",
    "end": "1880140"
  },
  {
    "text": "important to avoid hotspots and this is especially important if you're doing stuff like on a per request basis",
    "start": "1880140",
    "end": "1886970"
  },
  {
    "text": "now if lastly if there is one thing you have to do you know it's make sure that",
    "start": "1886970",
    "end": "1892320"
  },
  {
    "text": "you read the the limits and the best practices guide like I found this super helpful because you know a comment I",
    "start": "1892320",
    "end": "1899160"
  },
  {
    "text": "think thing that people kind of get bitten by as they start using that every DB is like realizing that once you've",
    "start": "1899160",
    "end": "1904470"
  },
  {
    "text": "exceeded the workload for a particular partition they'll do is split that",
    "start": "1904470",
    "end": "1909570"
  },
  {
    "text": "partition but it's only just the exceeded partition that got splits into you know it doesn't redistribute all of",
    "start": "1909570",
    "end": "1916470"
  },
  {
    "text": "your keys so that is one of the gotchas that you may want to be aware of as you",
    "start": "1916470",
    "end": "1921840"
  },
  {
    "text": "know choose this as your solution alright so what about operational",
    "start": "1921840",
    "end": "1927900"
  },
  {
    "text": "resiliency then from a feature perspective it certainly seems like we've got all that we need now but a",
    "start": "1927900",
    "end": "1933780"
  },
  {
    "text": "service is no good if it's not available right and the truth is when we talk about availability it's almost always an",
    "start": "1933780",
    "end": "1939900"
  },
  {
    "text": "issue at your own tier right it's usually an issue within your own code but assuming for a moment that you know",
    "start": "1939900",
    "end": "1945930"
  },
  {
    "text": "we've hardened the service and built it you know two specs that we need to let's",
    "start": "1945930",
    "end": "1951480"
  },
  {
    "text": "talk about what it means then to be available if and when s3 and dynamo DB go down so who remembers a february 28th",
    "start": "1951480",
    "end": "1961470"
  },
  {
    "text": "2017 all right I see some of you so this",
    "start": "1961470",
    "end": "1966510"
  },
  {
    "text": "is the day the s3 went down in US east and I think I can spare everyone the",
    "start": "1966510",
    "end": "1971640"
  },
  {
    "text": "negative headlines here hey Amazon and said let's focus on the positive headlines right so this is one of the",
    "start": "1971640",
    "end": "1978240"
  },
  {
    "text": "headlines that we saw I think I think this is a polygon or verge and I'm just gonna read the shariat in the Internet's",
    "start": "1978240",
    "end": "1984660"
  },
  {
    "text": "darkest time people are finding solace in Netflix and let me tell you is pretty awesome to",
    "start": "1984660",
    "end": "1991150"
  },
  {
    "text": "see this headline you know it because it means that we did something right you know we made sure that we were resilient",
    "start": "1991150",
    "end": "1996550"
  },
  {
    "text": "to a nervous failures even for something as stable as s3 so how did we make this happen right as you saw like we depend",
    "start": "1996550",
    "end": "2003960"
  },
  {
    "text": "on s3 to serve all the JavaScript packages and without JavaScript your UI can't start up right so how were we able",
    "start": "2003960",
    "end": "2009720"
  },
  {
    "text": "to survive this so what you may know is Netflix runs in three abreast regions",
    "start": "2009720",
    "end": "2015600"
  },
  {
    "text": "and as with most services within Netflix we are resilient to a Dobis regional failures so if anyone particularly",
    "start": "2015600",
    "end": "2023190"
  },
  {
    "text": "region fails you know we're able to kind of shift that traffic over to the remaining regions and continue taking",
    "start": "2023190",
    "end": "2028560"
  },
  {
    "text": "traffic what this does mean though is that you know all the stuff that we just",
    "start": "2028560",
    "end": "2034620"
  },
  {
    "text": "looked at in terms of the metadata and the artifacts that we stored in dynamo DB and s3 also need to be available in multiple",
    "start": "2034620",
    "end": "2041610"
  },
  {
    "text": "regions in case a particular region had a failure so what this really meant was",
    "start": "2041610",
    "end": "2047790"
  },
  {
    "text": "that we need to replicate this information into multiple regions and it turns out it's not really",
    "start": "2047790",
    "end": "2053730"
  },
  {
    "text": "straightforward you know the discussion was originally started as like look we've got a single source of truth and",
    "start": "2053730",
    "end": "2059370"
  },
  {
    "text": "we need to get this into multiple regions right as we kind of went down that path we quickly found out that",
    "start": "2059370",
    "end": "2065220"
  },
  {
    "text": "actually there were a lot of gotchas right with s3 for example you know you could replicate only between pairs of",
    "start": "2065220",
    "end": "2071040"
  },
  {
    "text": "buckets but you couldn't do transitive replications which meant that if you were to say replicate from A to B",
    "start": "2071040",
    "end": "2077330"
  },
  {
    "text": "and then try to replicate from B to C anything in B that came from a won't get",
    "start": "2077330",
    "end": "2083070"
  },
  {
    "text": "replicated to C so that was kind of like okay well that's not going to work great",
    "start": "2083070",
    "end": "2088169"
  },
  {
    "text": "for us we ran into similar problems with dynamodb here as well where you know the",
    "start": "2088170",
    "end": "2093629"
  },
  {
    "text": "solutions for kind of propagating your data into multiple regions were just kind of clunky or not as real-time as we",
    "start": "2093630",
    "end": "2100290"
  },
  {
    "text": "would like I think you know they offered some CLI command tools that you could run and you know it was like back it up",
    "start": "2100290",
    "end": "2105510"
  },
  {
    "text": "to s3 and then restore it back into you know another region it's like none of this was going to work for us at the",
    "start": "2105510",
    "end": "2111570"
  },
  {
    "text": "scale that we needed it to and so we figured you know maybe through tooling",
    "start": "2111570",
    "end": "2116910"
  },
  {
    "text": "we could get that desired behavior by simply treating each region independently is that what we did was we",
    "start": "2116910",
    "end": "2123750"
  },
  {
    "text": "built an SDK fronting our service so this is the management plan that we were looking at so when users came to upload",
    "start": "2123750",
    "end": "2131160"
  },
  {
    "text": "artifacts to us we would effectively say hey behind the scenes we're going to transparently upload your stuff or take",
    "start": "2131160",
    "end": "2136830"
  },
  {
    "text": "actions against all three regions right and what that meant was you know each",
    "start": "2136830",
    "end": "2142800"
  },
  {
    "text": "region was fully impendent and a fully working system in its own right and we",
    "start": "2142800",
    "end": "2147810"
  },
  {
    "text": "took this approach because Crossman replication was pretty difficult and fraught with you know a lot of issues and for us he was actually a lot easier",
    "start": "2147810",
    "end": "2155280"
  },
  {
    "text": "to just kind of keep each region completely isolated incidentally this",
    "start": "2155280",
    "end": "2161160"
  },
  {
    "text": "approach actually did unlock one interesting feature for us which was the ability to basically do regional",
    "start": "2161160",
    "end": "2167250"
  },
  {
    "text": "rollouts of JavaScript which we weren't able to do before you know typically using a CDN",
    "start": "2167250",
    "end": "2172500"
  },
  {
    "text": "once you push out a particular asset it's available globally whereas here we had the ability to kind of like dial",
    "start": "2172500",
    "end": "2178290"
  },
  {
    "text": "that from one region to the next this may also be well known at this point but",
    "start": "2178290",
    "end": "2184440"
  },
  {
    "text": "you know Netflix we employ in army of monkeys for her chaos test for a chaos testing and each monkey kind of you know",
    "start": "2184440",
    "end": "2191340"
  },
  {
    "text": "is designed to create problems within your system in your application by just you know breaking stuff on purpose and",
    "start": "2191340",
    "end": "2197580"
  },
  {
    "text": "we do this so that we can be prepared for real-world problems so an example here would be you know like latency",
    "start": "2197580",
    "end": "2203040"
  },
  {
    "text": "monkey which you know arbitrarily crits latency Xin your requests we've got chaos monkey we just goes and kills",
    "start": "2203040",
    "end": "2208859"
  },
  {
    "text": "instances just for fun and then we've got the big guy in the back there chaos Kong and he's the one that's",
    "start": "2208859",
    "end": "2217170"
  },
  {
    "text": "that's really fun because his job is to destroy entire a Tobias regions so he's",
    "start": "2217170",
    "end": "2222450"
  },
  {
    "text": "going to come in and then basically just kill us East right so gone basically",
    "start": "2222450",
    "end": "2227640"
  },
  {
    "text": "we've got nothing left there and so you know this might seem surprising to you",
    "start": "2227640",
    "end": "2233010"
  },
  {
    "text": "but we actually do this pretty regularly right like we're just walking on Tuesday and be like hey guys we're doing chaos testing today which is pretty great and",
    "start": "2233010",
    "end": "2239760"
  },
  {
    "text": "we do this because you know we want to be prepared for when it actually happens because you know these things will",
    "start": "2239760",
    "end": "2246119"
  },
  {
    "text": "happen it's not like a matter of if it's a matter of when really and by you know doing these on a regular cadence we can",
    "start": "2246119",
    "end": "2252690"
  },
  {
    "text": "be prepared for when the thing happens so you know rather than being like a oh crap moment it just comes like oh all right you know like",
    "start": "2252690",
    "end": "2259320"
  },
  {
    "text": "carry on it's a business as usual so see",
    "start": "2259320",
    "end": "2266150"
  },
  {
    "text": "given that we have designs or the codecs to be you know completely independent within each region and what that means",
    "start": "2266150",
    "end": "2272310"
  },
  {
    "text": "is we can kind of use DNS steering or what-have-you to basically pour an Akamai back at a",
    "start": "2272310",
    "end": "2277500"
  },
  {
    "text": "different region and so what you see here is by you know simply having DynamoDB and s3 in every single region",
    "start": "2277500",
    "end": "2285090"
  },
  {
    "text": "we can continue to service these JavaScript requests if you can imagine that you know if say we relied on a",
    "start": "2285090",
    "end": "2291690"
  },
  {
    "text": "single source of truth here we're both DynamoDB an s3 were based out of u.s. East then effectively you know",
    "start": "2291690",
    "end": "2297720"
  },
  {
    "text": "redirecting traffic to these other two regions would not would not help right because without those underlying",
    "start": "2297720",
    "end": "2302970"
  },
  {
    "text": "services we wouldn't be able to get the artifacts that we needed and you know we would be dead in the water so with this",
    "start": "2302970",
    "end": "2310230"
  },
  {
    "text": "kind of approach we're effectively triply redundant which is fantastic and it helps us sleep better at night and",
    "start": "2310230",
    "end": "2316470"
  },
  {
    "text": "this is this is the exact coach that actually helped us avoid the s3 outage in us yeast Soho you know as you can",
    "start": "2316470",
    "end": "2325020"
  },
  {
    "text": "tell I was pretty happy about this like I was grumbling all the way through like man do we really need to do this like investor he goes down the whole",
    "start": "2325020",
    "end": "2330870"
  },
  {
    "text": "Internet's gonna be on fire anyway it turns out that's exactly what happened so you know looking back you know about",
    "start": "2330870",
    "end": "2336480"
  },
  {
    "text": "a year from from from when this happened like I think we were pretty stoked about the work that we put into making this",
    "start": "2336480",
    "end": "2342390"
  },
  {
    "text": "happen so obviously we did a lot of testing you know hardening of the system",
    "start": "2342390",
    "end": "2347670"
  },
  {
    "text": "as it pertains to AWS and its dependencies but you know what about our own application right how did that scale",
    "start": "2347670",
    "end": "2354600"
  },
  {
    "text": "out so talking about you know what we need to support at first it seemed",
    "start": "2354600",
    "end": "2360060"
  },
  {
    "text": "pretty straightforward for a production like environment we thought hey you know for any given team at most we will",
    "start": "2360060",
    "end": "2366990"
  },
  {
    "text": "probably support you know three to five maybe active artifacts at any point in time right you'd have the current",
    "start": "2366990",
    "end": "2372390"
  },
  {
    "text": "production build you would have you know a production next probably like a rolling red-black deploy and then you",
    "start": "2372390",
    "end": "2378540"
  },
  {
    "text": "might maybe have like a couple Canaries that you're running out there for testing or whatnot so you know it didn't",
    "start": "2378540",
    "end": "2383730"
  },
  {
    "text": "seem that bad we thought like three to five artifacts or all Jason we could probably in memory for fast access you know 16",
    "start": "2383730",
    "end": "2390970"
  },
  {
    "text": "gigabytes seems more than reasonable right and so that's what we started with and what we found out was as you know",
    "start": "2390970",
    "end": "2399850"
  },
  {
    "text": "our teams started using the system and you know pushing it to its limits what we found is a you know they're using it",
    "start": "2399850",
    "end": "2406150"
  },
  {
    "text": "for pull requests for CI for you know functional testing for pretty much everything you could think of you know effectively replacing all of their",
    "start": "2406150",
    "end": "2413050"
  },
  {
    "text": "existing workflows by using the codex system which is great because we got the adoption that we wanted but it also",
    "start": "2413050",
    "end": "2419200"
  },
  {
    "text": "meant that you know we were having to host something like 400 plus artifacts in memory at any one given point in time",
    "start": "2419200",
    "end": "2424900"
  },
  {
    "text": "so amazingly we use up all 16 gigs of memory and so we looked our instance",
    "start": "2424900",
    "end": "2431440"
  },
  {
    "text": "types were like well you know just just throw some hardware at it right we've got 32 gigs let's move to three against",
    "start": "2431440",
    "end": "2437170"
  },
  {
    "text": "this like that should be more than plenty right and within a week literally we're up to 800 so I was like alright um",
    "start": "2437170",
    "end": "2444580"
  },
  {
    "text": "you know we've got more instance types like 64 surely surely it should be",
    "start": "2444580",
    "end": "2451330"
  },
  {
    "text": "enough and ya know within another week we were up to 1600 and so I think you know it dawn pretty",
    "start": "2451330",
    "end": "2457540"
  },
  {
    "text": "quickly on us that as a service like our teams are really going to use as much as we can possibly give them and we need to",
    "start": "2457540",
    "end": "2464560"
  },
  {
    "text": "come up with a way to really make this scale much better than what we currently have so it was almost like we needed a",
    "start": "2464560",
    "end": "2473800"
  },
  {
    "text": "magical solution you know what's cheap plentiful and fast enough and if you thought memory was the case like yeah that's true but",
    "start": "2473800",
    "end": "2480180"
  },
  {
    "text": "apparently not cheap enough so the correct answer here is is disk right we",
    "start": "2480180",
    "end": "2485680"
  },
  {
    "text": "actually had a ton of discs that we weren't using so like why not use that perhaps as a secondary cache and so",
    "start": "2485680",
    "end": "2491770"
  },
  {
    "text": "that's exactly the approach that we took and what we did was pull in leveldb into our service which is a file system",
    "start": "2491770",
    "end": "2497890"
  },
  {
    "text": "backed database what that meant is we could effectively store things in two-level DB and then say look level DB",
    "start": "2497890",
    "end": "2504730"
  },
  {
    "text": "has its own sort of in-memory cache and as it exceeds that in memory cache it will just write stuff out to disk and so",
    "start": "2504730",
    "end": "2511060"
  },
  {
    "text": "this worked out pretty great right because you know disk space is a lot cheaper than memory it means we could effectively store as many artifacts as",
    "start": "2511060",
    "end": "2518020"
  },
  {
    "text": "we had disk space you know which is just put awesome right so at this point were not",
    "start": "2518020",
    "end": "2523750"
  },
  {
    "text": "no longer limited by the instance types that we have in terms of memory space so",
    "start": "2523750",
    "end": "2529000"
  },
  {
    "text": "problem solved right well we deployed the fix and found that we pegged",
    "start": "2529000",
    "end": "2534099"
  },
  {
    "text": "arthas's right and I was like all right well this is great it's kind of confusing because this wasn't the",
    "start": "2534099",
    "end": "2540250"
  },
  {
    "text": "problem previously so you know why were we all of a sudden seeing you know high CPU usage and it turns out that we",
    "start": "2540250",
    "end": "2545830"
  },
  {
    "text": "introduced a problem by introducing leveldb so being good engineers that we are we went to gather",
    "start": "2545830",
    "end": "2551920"
  },
  {
    "text": "some data and we capture some flame graphs from our process so I think",
    "start": "2551920",
    "end": "2557380"
  },
  {
    "text": "probably a lot of you folks have seen these before but for those who haven't the flame wrap is basically a way for us to capture you know what your process is",
    "start": "2557380",
    "end": "2564250"
  },
  {
    "text": "doing so what will effectively do is sample the process every you know and seconds and then get a sense of like hey",
    "start": "2564250",
    "end": "2570640"
  },
  {
    "text": "what is the process doing at that point I sample it and then you know after a sample period you kind of combine it",
    "start": "2570640",
    "end": "2576280"
  },
  {
    "text": "collapse it all together and then see what exactly you're spending your time doing so you know looking here we kind",
    "start": "2576280",
    "end": "2584230"
  },
  {
    "text": "of see that we've got this big chunk of like 6 to 8% like clearly this is this is a problem so what are we doing here",
    "start": "2584230",
    "end": "2591190"
  },
  {
    "text": "I'm gonna kind of blow this up for you and turns out we're just spending all this time parsing Jason right it's like",
    "start": "2591190",
    "end": "2596320"
  },
  {
    "text": "great thanks Jason and while we previously the problem oh is that",
    "start": "2596320",
    "end": "2601720"
  },
  {
    "text": "previously because we kept all these Jason artifacts in memory we only had to parse them once on startup and then we'd",
    "start": "2601720",
    "end": "2607060"
  },
  {
    "text": "be good but now by starting introducing this caching layer what it meant is that each time we hit a cold cash level DB",
    "start": "2607060",
    "end": "2613900"
  },
  {
    "text": "would have to pull a file off disk we would have to parse the Jason right and by introducing level DB we actually",
    "start": "2613900",
    "end": "2620619"
  },
  {
    "text": "changed the runtime characteristics of our service and so while we could you",
    "start": "2620619",
    "end": "2626109"
  },
  {
    "text": "know store more artifacts now it meant that we actually took a hit each time one was fetched from disk so no surprise",
    "start": "2626109",
    "end": "2635380"
  },
  {
    "text": "here but you know Jason parse is pretty slow and it's blocking and this is pretty disastrous for a single-threaded",
    "start": "2635380",
    "end": "2641040"
  },
  {
    "text": "runtime like node and since you know blocking Jason itself meant that pretty much any time we were parsing JSON we",
    "start": "2641040",
    "end": "2648220"
  },
  {
    "text": "couldn't really service request we couldn't respond you know to other things that were happening within the system and the",
    "start": "2648220",
    "end": "2653600"
  },
  {
    "text": "directly impacted response latencies you know and then you know all of our teams and our customers would get mad so you",
    "start": "2653600",
    "end": "2659840"
  },
  {
    "text": "know it was not a good situation to be in and we had a couple thoughts here right and one was we probably ideally",
    "start": "2659840",
    "end": "2665780"
  },
  {
    "text": "want to you know move to a different sterilization format you know something that's perhaps more effective or more",
    "start": "2665780",
    "end": "2671600"
  },
  {
    "text": "efficient really in the long term but you know short of going to something like binary serialization you know we",
    "start": "2671600",
    "end": "2677420"
  },
  {
    "text": "thought maybe there's a more practical solution here in the short term you know rather than kind of drown ourselves in a",
    "start": "2677420",
    "end": "2683810"
  },
  {
    "text": "giant format migration you know we thought hey maybe you're just doing something as simple as an LR you would",
    "start": "2683810",
    "end": "2690410"
  },
  {
    "text": "help us solve our problems right so as we pull the artifacts in from disk we would store them you know in their post",
    "start": "2690410",
    "end": "2696830"
  },
  {
    "text": "parsed format and this will are you that set on top of level DB and just that",
    "start": "2696830",
    "end": "2703340"
  },
  {
    "text": "meant as you know we hit cold artifacts as they're pulled in we'd replace the ones that were called and we would be",
    "start": "2703340",
    "end": "2710000"
  },
  {
    "text": "Vic the cache and keep it fresh as needed what that meant is effective we only took that json.parse hit for",
    "start": "2710000",
    "end": "2715730"
  },
  {
    "text": "uncommon ly requested artifacts so we've got some graphs here that kind of show",
    "start": "2715730",
    "end": "2721070"
  },
  {
    "text": "what this ended up looking like you know we we kind of filled up that aisle are you used up all 16 you know down scaling",
    "start": "2721070",
    "end": "2728030"
  },
  {
    "text": "back to the 16 gig instances but reusing all the extra memory for our LRU and",
    "start": "2728030",
    "end": "2734440"
  },
  {
    "text": "here you can kind of see like our CPU utilization dropping you know to practically nothing here you know we see",
    "start": "2734440",
    "end": "2740720"
  },
  {
    "text": "the entire fleet is sitting at like less than 5% which is great and exactly we",
    "start": "2740720",
    "end": "2745730"
  },
  {
    "text": "wanted to see and you can actually also see you know our average response times you're dropping to practically nil so as",
    "start": "2745730",
    "end": "2752270"
  },
  {
    "text": "you can see you know it's kind of scaling our response latencies were scaling with the traffic because as things we get activated you know we pull",
    "start": "2752270",
    "end": "2759050"
  },
  {
    "text": "them off disk you spend that time parsing and then what the hell are you in place like you know that's how we",
    "start": "2759050",
    "end": "2764060"
  },
  {
    "text": "kind of achieve those super super fast response times",
    "start": "2764060",
    "end": "2769180"
  },
  {
    "text": "so the truth was after all this like we were pretty much done with Jason but you know Jason quite wasn't quite done with",
    "start": "2770190",
    "end": "2776880"
  },
  {
    "text": "us and we started noticing that you know our Management Center this is the place where people upload into our service was",
    "start": "2776880",
    "end": "2783570"
  },
  {
    "text": "kind of crashing right so we've got this metric here that shows every time our process goes down so this is like really",
    "start": "2783570",
    "end": "2790110"
  },
  {
    "text": "strange because the management plans not even the runtime planned it's not customer facing this is really only used",
    "start": "2790110",
    "end": "2795240"
  },
  {
    "text": "by our developers so what was going on and as it turns out you know we were",
    "start": "2795240",
    "end": "2801900"
  },
  {
    "text": "seeing this stacktrace before the process went down it's like a range err invalid string-length it's like such a",
    "start": "2801900",
    "end": "2807420"
  },
  {
    "text": "cryptic sounding errors like this doesn't even make any sense like the only thing we're literally doing here is just parsing Jason you know and doing",
    "start": "2807420",
    "end": "2814590"
  },
  {
    "text": "some further research here by further research I mean Stack Overflow we see this incredible quote here from I think",
    "start": "2814590",
    "end": "2821070"
  },
  {
    "text": "one of the developers on the v8 team and basically quoting look there is a 512",
    "start": "2821070",
    "end": "2826590"
  },
  {
    "text": "you know megabyte limit here for a single string because you know that was",
    "start": "2826590",
    "end": "2832200"
  },
  {
    "text": "limit of the heap size then so why would you ever use something more than 512 megabytes and that was because what",
    "start": "2832200",
    "end": "2838980"
  },
  {
    "text": "happened was the artifact sizes we had were getting so big that they were actually exceeding you know 512",
    "start": "2838980",
    "end": "2844140"
  },
  {
    "text": "megabytes when they were serialized and boom like there's your problem which is great so eventually what we had to do",
    "start": "2844140",
    "end": "2850920"
  },
  {
    "text": "was kind of move to a streaming Jason's D serialization format and that kind of",
    "start": "2850920",
    "end": "2856380"
  },
  {
    "text": "helped us like not have to worry about like parsing one giant chunk at any point in time all right",
    "start": "2856380",
    "end": "2862860"
  },
  {
    "text": "so building codecs to kind of work for an epic scale wasn't quite easy and certainly we stumbled a whole lot both",
    "start": "2862860",
    "end": "2869160"
  },
  {
    "text": "on the ADA quest front as well as you know scaling our own service but nobody ever said standing up a new service was",
    "start": "2869160",
    "end": "2875190"
  },
  {
    "text": "easy right so as we kind of wrap up here you know just want to kind of share some of the things that you know keep us up",
    "start": "2875190",
    "end": "2881220"
  },
  {
    "text": "at night so as we've talked about using a active flag you know to move things",
    "start": "2881220",
    "end": "2887820"
  },
  {
    "text": "into the support window right things are activated that means our service has to support it we never really talked about how we move things out of the active",
    "start": "2887820",
    "end": "2894480"
  },
  {
    "text": "support window right how do we know when it's safe to actually deactivate a particular build you know and it's",
    "start": "2894480",
    "end": "2900300"
  },
  {
    "text": "actually kind of hard for us to automatic you know the traffic that we see that we see I origin is actually just a trap a",
    "start": "2900300",
    "end": "2907190"
  },
  {
    "text": "sort of a fraction of the traffic that is seen at the CDN right because with CDN sitting in front they're actually",
    "start": "2907190",
    "end": "2913460"
  },
  {
    "text": "taking the brunt of the traffic and so the reality is that this this is a highly manual process for us right now",
    "start": "2913460",
    "end": "2918769"
  },
  {
    "text": "like we have to go sort of you know take a look at the client-side metrics and say like you know which versions are",
    "start": "2918769",
    "end": "2923990"
  },
  {
    "text": "actually being asked for and requested by particular versions of the client and that's how we can ultimately decide look",
    "start": "2923990",
    "end": "2930230"
  },
  {
    "text": "yeah this this version has now been phased out in favor of you version and we can deactivate this and remove it",
    "start": "2930230",
    "end": "2936079"
  },
  {
    "text": "from our system of course as we all know manual things never scale well and so",
    "start": "2936079",
    "end": "2941900"
  },
  {
    "text": "we're actively looking at ways to see how we can make this better through you know perhaps heuristics of some sort looking at client-side metrics and a",
    "start": "2941900",
    "end": "2948470"
  },
  {
    "text": "combination of RPS at the CDN now the big elephant in the room here really is",
    "start": "2948470",
    "end": "2954230"
  },
  {
    "text": "you know why we didn't use existing open source puzzlers right there's a ton of",
    "start": "2954230",
    "end": "2959269"
  },
  {
    "text": "other solutions out there and the reality is that when we started building the system it's just the function I that",
    "start": "2959269",
    "end": "2964430"
  },
  {
    "text": "we needed didn't exist out there right however you know things in the JavaScript world move extremely quickly",
    "start": "2964430",
    "end": "2970809"
  },
  {
    "text": "and so you know as we continue to kind of work on this project we're probably gonna investigate ways to",
    "start": "2970809",
    "end": "2977000"
  },
  {
    "text": "see if we can pretty much package all the stuff that we've built here is like a web pack plug-in of some sort and you",
    "start": "2977000",
    "end": "2983359"
  },
  {
    "text": "know maybe like bring that to communities like that that's something that we would love to be able to do at some point",
    "start": "2983359",
    "end": "2989259"
  },
  {
    "text": "now with the ongoing concerns out of the way these last couple stars are we just",
    "start": "2989259",
    "end": "2994789"
  },
  {
    "text": "gonna be about takeaways and so the first is you know to really don't be afraid to challenge comic convention",
    "start": "2994789",
    "end": "3001059"
  },
  {
    "text": "right and you should feel comfortable doing that you know as you need to you're taking risks breaking ranks and",
    "start": "3001059",
    "end": "3007299"
  },
  {
    "text": "for example for us here it was like really challenging that idea of like static bundle generation that challenged",
    "start": "3007299",
    "end": "3013630"
  },
  {
    "text": "an idea that that was the only way to do bundling for us and so while it was coming convention it simply just didn't",
    "start": "3013630",
    "end": "3019509"
  },
  {
    "text": "work for us secondly don't assume you know anything anything about your",
    "start": "3019509",
    "end": "3026619"
  },
  {
    "text": "service or you know what your users how they're going to be using your service right and especially don't make",
    "start": "3026619",
    "end": "3032769"
  },
  {
    "text": "assumptions about your the scale of what your system is going to certainly for us kind of thinking that",
    "start": "3032769",
    "end": "3038770"
  },
  {
    "text": "you know the 16 gigs of memory was gonna be more than enough for us was was causing a little bit pain and probably",
    "start": "3038770",
    "end": "3044440"
  },
  {
    "text": "some churn for us and our customer teams that you know really didn't need it to happen so that said while you do want to",
    "start": "3044440",
    "end": "3052360"
  },
  {
    "text": "optimize that system you know make sure you're not doing any premature optimization and this is super super",
    "start": "3052360",
    "end": "3058750"
  },
  {
    "text": "important because you can't really effectively optimize a system until you understand its characteristics right and",
    "start": "3058750",
    "end": "3064480"
  },
  {
    "text": "as engineers I think we're frequently trying to tackle performance problems before they exist like you know we'll",
    "start": "3064480",
    "end": "3071110"
  },
  {
    "text": "say things in pull requests like do just move this function over here it'll be like a hundred times faster um which",
    "start": "3071110",
    "end": "3076150"
  },
  {
    "text": "which might be true but I think the thing is once you actually deploy service you usually don't know where the",
    "start": "3076150",
    "end": "3081670"
  },
  {
    "text": "bottleneck or you know how that bottleneck is going to appear until the",
    "start": "3081670",
    "end": "3086860"
  },
  {
    "text": "whole thing is kind of running it in place so complex systems like this have lots of ripple effects where your minor",
    "start": "3086860",
    "end": "3092710"
  },
  {
    "text": "little things can trickle throughout the system and of course as a corollary to",
    "start": "3092710",
    "end": "3097870"
  },
  {
    "text": "the previous point you know when you do begin to optimize and debug like please please please use a scientific method",
    "start": "3097870",
    "end": "3104200"
  },
  {
    "text": "you know make sure you gather your data make sure you understand the problem you know formulate hypothesis for this so",
    "start": "3104200",
    "end": "3110080"
  },
  {
    "text": "that you know you have the correct data to sort of inform your next path your your next choice on how you're going to",
    "start": "3110080",
    "end": "3115630"
  },
  {
    "text": "optimize this system finally test it make sure that you know the problem that",
    "start": "3115630",
    "end": "3121120"
  },
  {
    "text": "yourself you're actually solving the problem that you thought you were solving and if not then repeat and you",
    "start": "3121120",
    "end": "3126580"
  },
  {
    "text": "know continue as necessary like I really can't emphasize how important this is because I think you know trying to optimize the system by guessing at what",
    "start": "3126580",
    "end": "3133570"
  },
  {
    "text": "you think the problem might be is extremely ineffective and Italy kind of leaves everybody frustrated because",
    "start": "3133570",
    "end": "3139270"
  },
  {
    "text": "you're just kind of like throwing things at the wall to see what sticks and well",
    "start": "3139270",
    "end": "3144700"
  },
  {
    "text": "understandably you know not everybody has to deal with Netflix go you know it doesn't mean that you can't engineer things to the fault-tolerant especially",
    "start": "3144700",
    "end": "3152260"
  },
  {
    "text": "when you're sending up new applications or services you know think about the consequences of what happens if your",
    "start": "3152260",
    "end": "3157690"
  },
  {
    "text": "service happens to go down right what happens to customers if your service is not available what happens to the",
    "start": "3157690",
    "end": "3162970"
  },
  {
    "text": "services that depend on you if you're not available and you know the the hardest question probably is like is",
    "start": "3162970",
    "end": "3168700"
  },
  {
    "text": "there a financial cost to you not being available right like these are all really hard questions",
    "start": "3168700",
    "end": "3174099"
  },
  {
    "text": "and if you don't like the answers to those questions then it's probably an area that you want to invest in",
    "start": "3174099",
    "end": "3181589"
  },
  {
    "text": "lastly ethics scale is challenging you know so much of what we do is well known",
    "start": "3181589",
    "end": "3187210"
  },
  {
    "text": "to everybody but when you do at the scale that we have to like known problems can kind of evolve and morph into more complex and",
    "start": "3187210",
    "end": "3194440"
  },
  {
    "text": "more challenging problems and so while it can be really hard you know it's hard in a great way and I think you know",
    "start": "3194440",
    "end": "3199690"
  },
  {
    "text": "keeps us on our toes and as engineers isn't that what we're all really after just makes it more fun",
    "start": "3199690",
    "end": "3205410"
  },
  {
    "text": "so these last couple slides are just credits for all the amazing Lego photos that I've taken off Flickr check them",
    "start": "3205410",
    "end": "3212859"
  },
  {
    "text": "out and that's it thanks everyone [Applause]",
    "start": "3212859",
    "end": "3221889"
  }
]