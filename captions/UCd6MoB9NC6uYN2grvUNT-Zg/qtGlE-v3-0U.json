[
  {
    "start": "0",
    "end": "25000"
  },
  {
    "text": "hello everyone my name is David Bay Rosie and I'm a senior software engineer on the Amazon cogito service team I'm",
    "start": "890",
    "end": "7680"
  },
  {
    "text": "joined today by Daniel leaves and he's a principal architect at the Bank HSBC's",
    "start": "7680",
    "end": "13230"
  },
  {
    "text": "cloud services division we're presenting today on security and compliance for modern service applications a quick",
    "start": "13230",
    "end": "22590"
  },
  {
    "text": "agenda as application builders it's",
    "start": "22590",
    "end": "28230"
  },
  {
    "start": "25000",
    "end": "93000"
  },
  {
    "text": "important to understand what services are available to use as building blocks to help so I'll start by introducing you",
    "start": "28230",
    "end": "34980"
  },
  {
    "text": "to some of the services in the eeriest portfolio that were built specifically for use cases around security and",
    "start": "34980",
    "end": "40920"
  },
  {
    "text": "compliance then I'll talk about security and compliance best practices and",
    "start": "40920",
    "end": "46350"
  },
  {
    "text": "strategies using the following three themes protecting the front door making sure that all the requests that you let",
    "start": "46350",
    "end": "53100"
  },
  {
    "text": "in are the ones that you want in securing your resources so that even if",
    "start": "53100",
    "end": "58289"
  },
  {
    "text": "you have code bugs or misbehaving clients or bad actors trying to hit your endpoint you put the necessary",
    "start": "58289",
    "end": "65338"
  },
  {
    "text": "guardrails on your resources and no matter what happens your resources",
    "start": "65339",
    "end": "70530"
  },
  {
    "text": "remain secure and then keeping a paper trail so you always know who did what -",
    "start": "70530",
    "end": "76950"
  },
  {
    "text": "what resource for compliance then I'll hand it over to Daniel and he's going to",
    "start": "76950",
    "end": "82920"
  },
  {
    "text": "talk about an architecture that he's built at HSBC to monitor and enforce",
    "start": "82920",
    "end": "88380"
  },
  {
    "text": "compliance in their infrastructure and",
    "start": "88380",
    "end": "94200"
  },
  {
    "start": "93000",
    "end": "180000"
  },
  {
    "text": "user identity is extremely important and it's important to get it right end user",
    "start": "94200",
    "end": "101159"
  },
  {
    "text": "identity is really the front door to most of your applications today it's by issuing tokens against your end users",
    "start": "101159",
    "end": "107399"
  },
  {
    "text": "you can use those to secure and grant access to your back-end and resources by",
    "start": "107399",
    "end": "114540"
  },
  {
    "text": "owning your own identities you can put profile information in and track various",
    "start": "114540",
    "end": "120990"
  },
  {
    "text": "things about your customer which you can then use to customize their user experience when they hit your site or",
    "start": "120990",
    "end": "127079"
  },
  {
    "text": "your app it's really your avenue that you can establish a relationship with your customer so you can reach out to",
    "start": "127079",
    "end": "132900"
  },
  {
    "text": "them via push notifications or email channels but doing this yourself is hard and if",
    "start": "132900",
    "end": "141840"
  },
  {
    "text": "you're building your own username password database it could be catastrophic if you get something wrong",
    "start": "141840",
    "end": "148530"
  },
  {
    "text": "not only for your end-users but for your company so you need to put security",
    "start": "148530",
    "end": "154080"
  },
  {
    "text": "first and you also need to consider minimizing user friction nobody likes an authentication experience with a whole",
    "start": "154080",
    "end": "160080"
  },
  {
    "text": "bunch of CAPTCHAs or having to re authenticate every hour and so you really want to respect your end user and",
    "start": "160080",
    "end": "166890"
  },
  {
    "text": "not put an overly burdensome experience in front of them and then you're off",
    "start": "166890",
    "end": "171959"
  },
  {
    "text": "solution needs to be available and and ready to scale at a moment's notice when your app takes off which is why we",
    "start": "171959",
    "end": "181260"
  },
  {
    "start": "180000",
    "end": "266000"
  },
  {
    "text": "created Amazon Cognito so Amazon cogito is a managed user directory that lives",
    "start": "181260",
    "end": "186959"
  },
  {
    "text": "in the cloud there's no servers to manage and will issue standard open ID",
    "start": "186959",
    "end": "192290"
  },
  {
    "text": "connect tokens that you can use the authenticate against your back-end we",
    "start": "192290",
    "end": "198150"
  },
  {
    "text": "support username and password sign up but to make it easier for your end users to sign in we offer various social",
    "start": "198150",
    "end": "204870"
  },
  {
    "text": "integrations Facebook Google Amazon as well as corporate Federation if you have",
    "start": "204870",
    "end": "210780"
  },
  {
    "text": "your users in an Active Directory or some open ID connect based solution you can federate them in for an easier",
    "start": "210780",
    "end": "217650"
  },
  {
    "text": "sign-in experience we offer a customized hosted UI so you can integrate with your",
    "start": "217650",
    "end": "223530"
  },
  {
    "text": "app with a few lines of code then we also offer full-blown SDKs if you need to customize your authentication",
    "start": "223530",
    "end": "229260"
  },
  {
    "text": "experience so you want to put custom challenges in your off flow or you want to do something like a one-time code to",
    "start": "229260",
    "end": "237120"
  },
  {
    "text": "login so every time they log in you send the code to their phone and they can log in with that code you can do that with our SDKs gives you the ability to get a",
    "start": "237120",
    "end": "245430"
  },
  {
    "text": "to base potentials and do actually just control directly from your mobile app so you can talk to s3 or dynamo and it's",
    "start": "245430",
    "end": "252390"
  },
  {
    "text": "standard space so we implement the open ID Connect standard and off to so that you can interact with other companies",
    "start": "252390",
    "end": "260459"
  },
  {
    "text": "and easily use third-party libraries to validate your tokens",
    "start": "260459",
    "end": "266180"
  },
  {
    "start": "266000",
    "end": "337000"
  },
  {
    "text": "there's a couple of scenarios that we support the first one is the mobile app you want to authenticate your users",
    "start": "266440",
    "end": "273700"
  },
  {
    "text": "you're rating a mobile app and you want to secure access to your back-end we have the business to business scenario",
    "start": "273700",
    "end": "279610"
  },
  {
    "text": "and this is if you imagine you're making a travel booking app that you want to sell to multiple businesses and they",
    "start": "279610",
    "end": "287320"
  },
  {
    "text": "want to authenticate their end-users their employees against their corporate",
    "start": "287320",
    "end": "293290"
  },
  {
    "text": "directories so that they can book travel in your app then there's the business to employee use case where you might have",
    "start": "293290",
    "end": "301980"
  },
  {
    "text": "kind of a time off reporting app that you have in your corporate internet and you want to extend that to the mobile",
    "start": "301980",
    "end": "307750"
  },
  {
    "text": "app so that people can report time off from home the employee can authenticate",
    "start": "307750",
    "end": "312760"
  },
  {
    "text": "with Active Directory you get tokens that you can then use against your service back-end",
    "start": "312760",
    "end": "318250"
  },
  {
    "text": "there's service the service integrations where you have some service that needs",
    "start": "318250",
    "end": "324010"
  },
  {
    "text": "to make a call to another service you need credentials to do that and then there's IOT scenarios where you have IOT",
    "start": "324010",
    "end": "330610"
  },
  {
    "text": "devices that need to communicate with AWS IOT core functionality there's two",
    "start": "330610",
    "end": "339040"
  },
  {
    "start": "337000",
    "end": "367000"
  },
  {
    "text": "real serverless architectures out there the first one and lesser prevalent but",
    "start": "339040",
    "end": "344169"
  },
  {
    "text": "it suits some people's needs is when you have an app that's talking directly to AWS Web Services so if you have an app",
    "start": "344169",
    "end": "352480"
  },
  {
    "text": "that's talking directly to ask three or directly to dynamo with no back-end",
    "start": "352480",
    "end": "357780"
  },
  {
    "text": "it supports kind of a limited set of use cases maybe a photo sharing app or or",
    "start": "357780",
    "end": "363220"
  },
  {
    "text": "something like that but it's truly the the simplest integration but then there's kind of this more popular",
    "start": "363220",
    "end": "370590"
  },
  {
    "start": "367000",
    "end": "399000"
  },
  {
    "text": "integration where you get credentials with cogito and then you put API gateway",
    "start": "370590",
    "end": "376120"
  },
  {
    "text": "in front of your back-end your back-end could be running on ec2 or could be lambda functions and you proxy all the",
    "start": "376120",
    "end": "383620"
  },
  {
    "text": "requests to AWS Web Services instead of building all the business logic into your app then you can kind of abstract",
    "start": "383620",
    "end": "390730"
  },
  {
    "text": "that behind your API gateway endpoints and quickly change things on the fly",
    "start": "390730",
    "end": "395830"
  },
  {
    "text": "without having to rear elyse your app so Cognito is really to services I have",
    "start": "395830",
    "end": "403839"
  },
  {
    "start": "399000",
    "end": "438000"
  },
  {
    "text": "this Venn diagram here to show you how they how they're unique and how they",
    "start": "403839",
    "end": "408939"
  },
  {
    "text": "overlap so user pools is our standalone identity provider for issuing open ID",
    "start": "408939",
    "end": "414129"
  },
  {
    "text": "Connect tokens and then federated identity is if you've authenticated somewhere else and you need eight of us",
    "start": "414129",
    "end": "421149"
  },
  {
    "text": "credentials so that you can access database services directly there's a little bit of overlap between the two",
    "start": "421149",
    "end": "427710"
  },
  {
    "text": "they both support Federation through social providers and if you want to",
    "start": "427710",
    "end": "433479"
  },
  {
    "text": "integrate with sam'l with Active Directory they they both support that and I've found that kind of the easiest",
    "start": "433479",
    "end": "440319"
  },
  {
    "start": "438000",
    "end": "494000"
  },
  {
    "text": "way to explain when to use one of the other is in terms of what you have and",
    "start": "440319",
    "end": "445719"
  },
  {
    "text": "what you want so want to use Amazon Cognito user pools if you have end-users",
    "start": "445719",
    "end": "451419"
  },
  {
    "text": "who want to sign up and sign in or they want to federate in with an existing social account and what you want is that",
    "start": "451419",
    "end": "457809"
  },
  {
    "text": "secure a manage user directory that supports authentication we have profiles",
    "start": "457809",
    "end": "463629"
  },
  {
    "text": "that you can customize Thor what you want about your end user we have that hosted UI that gives you a quick getting",
    "start": "463629",
    "end": "469719"
  },
  {
    "text": "started experience if you want industry-standard open ID connect tokens or off to or you're gonna act as a sam'l",
    "start": "469719",
    "end": "478029"
  },
  {
    "text": "to service provider and you want tight integration with API gateways so you can take those Cognito user pulled tokens",
    "start": "478029",
    "end": "485889"
  },
  {
    "text": "directly against api gateways you all the user profile information and the username directly in your back-end you",
    "start": "485889",
    "end": "495610"
  },
  {
    "start": "494000",
    "end": "560000"
  },
  {
    "text": "want to use Cognito identity pools if you're trying to get eight of us",
    "start": "495610",
    "end": "500830"
  },
  {
    "text": "credentials so if you have a user that's authenticated elsewhere or you have guest users that are just kicking the tires of your app we allow you to",
    "start": "500830",
    "end": "508389"
  },
  {
    "text": "exchange the token that you bring in for AWS credentials it will give you a",
    "start": "508389",
    "end": "514060"
  },
  {
    "text": "consistent identity for each of your users and by consistent identity I mean",
    "start": "514060",
    "end": "519550"
  },
  {
    "text": "that if they've authenticated with Facebook or they want to link their Google account they can they can be the",
    "start": "519550",
    "end": "525279"
  },
  {
    "text": "same identity we give you those scope time-bound ats credentials against each of those identities you can",
    "start": "525279",
    "end": "532010"
  },
  {
    "text": "directly from your mobile app to eight of your services and if you have kind of",
    "start": "532010",
    "end": "537020"
  },
  {
    "text": "use cases where you have multiple classes of users you might have admin users and you might have regular users",
    "start": "537020",
    "end": "543410"
  },
  {
    "text": "or paid users and you want to map them into different roles based on what what",
    "start": "543410",
    "end": "549230"
  },
  {
    "text": "they have access to you can do role mapping based on the claims in the tokens so you can say if they're in the",
    "start": "549230",
    "end": "554630"
  },
  {
    "text": "admin group map them into this admin role so you can do that for authorization so you can use those two",
    "start": "554630",
    "end": "563240"
  },
  {
    "start": "560000",
    "end": "621000"
  },
  {
    "text": "services standalone or you can use them together and I'll talk you through how",
    "start": "563240",
    "end": "568280"
  },
  {
    "text": "you might do that so if you have a mobile app and you want to authenticate your user you can talk directly to",
    "start": "568280",
    "end": "574660"
  },
  {
    "text": "Cognito user pools if they're federating in we may redirect them to that social",
    "start": "574660",
    "end": "580520"
  },
  {
    "text": "provider that Active Directory to authenticate and when that provider",
    "start": "580520",
    "end": "585650"
  },
  {
    "text": "returns the token back to us we will copy the profile information into your profile and return kognito user pools",
    "start": "585650",
    "end": "595400"
  },
  {
    "text": "tokens will refer to that as the cup token from this point forward and with",
    "start": "595400",
    "end": "600530"
  },
  {
    "text": "that cup token you can talk directly to your server list back end through API gateway or you can take it to Cognito",
    "start": "600530",
    "end": "609980"
  },
  {
    "text": "identity pools to exchange for those temporary Rios credentials which you can then use to talk directly to something",
    "start": "609980",
    "end": "617600"
  },
  {
    "text": "like dynamo DB or s3 so every",
    "start": "617600",
    "end": "624350"
  },
  {
    "start": "621000",
    "end": "746000"
  },
  {
    "text": "application has a bit of configuration and we have a dubrio Systems Manager",
    "start": "624350",
    "end": "630560"
  },
  {
    "text": "parameter store to help you store that that configuration that's our place to store application parameters with a",
    "start": "630560",
    "end": "637160"
  },
  {
    "text": "hierarchy and you could kind of build that hierarchy based on your business needs so if you want to separate your",
    "start": "637160",
    "end": "643640"
  },
  {
    "text": "dev configuration from your production configuration or separate your configuration amongst applications you",
    "start": "643640",
    "end": "649430"
  },
  {
    "text": "can you can kind of do that with with the hierarchy that it supports if you need to access secrets so if you have a",
    "start": "649430",
    "end": "656810"
  },
  {
    "text": "RDS password that you want to use secrets manager to help you rotate and secure you can reference from parameters",
    "start": "656810",
    "end": "665330"
  },
  {
    "text": "to the or any of the secrets that you've defined and secrets manager and it's a great way to kind of have all your",
    "start": "665330",
    "end": "671810"
  },
  {
    "text": "configuration in one place so you can use one client for the systems manager parameter store and not only access your",
    "start": "671810",
    "end": "679190"
  },
  {
    "text": "application configuration but you can also access new secrets it's integrated with iam to give you that fine-grained",
    "start": "679190",
    "end": "685400"
  },
  {
    "text": "access control not only to the individual parameter level but also to branches of the hierarchical tree so if",
    "start": "685400",
    "end": "692150"
  },
  {
    "text": "you in your lamda execution role you want to give access to the prod portion of this tree you can you could put an IM",
    "start": "692150",
    "end": "699800"
  },
  {
    "text": "access control policy and your execution role to do that it's hooked up to cloud",
    "start": "699800",
    "end": "705710"
  },
  {
    "text": "watch events and you could use that to configure notifications when changes happen so you might if you change a",
    "start": "705710",
    "end": "712790"
  },
  {
    "text": "particular configuration you want to take some action based on that you can take those actions in lambda functions",
    "start": "712790",
    "end": "719150"
  },
  {
    "text": "and it's a great way to share configuration across your lambda functions if you're putting your",
    "start": "719150",
    "end": "724520"
  },
  {
    "text": "configuration environment variables that kind of scopes you to that individual function so if you want to share things",
    "start": "724520",
    "end": "730550"
  },
  {
    "text": "across functions and put them in a nice central location so that you can easily change them and not have to worry about",
    "start": "730550",
    "end": "736910"
  },
  {
    "text": "going into every single function and changing it on the edge nodes you can",
    "start": "736910",
    "end": "742400"
  },
  {
    "text": "put it there and easily centralize it next up is AWS laughs and that's kind of",
    "start": "742400",
    "end": "749450"
  },
  {
    "start": "746000",
    "end": "830000"
  },
  {
    "text": "our firewall to protect you against common exploits on the web you can think of it as a proxy that sits between your",
    "start": "749450",
    "end": "757820"
  },
  {
    "text": "endpoint and the web you can use it to kind of block malicious requests meaning",
    "start": "757820",
    "end": "763940"
  },
  {
    "text": "that you can put rate limits on particular IP addresses you can filter things that look like cross-site",
    "start": "763940",
    "end": "770090"
  },
  {
    "text": "scripting attacks and you can also constrain you across so if you have you",
    "start": "770090",
    "end": "775700"
  },
  {
    "text": "don't want to let big files in or you want to do something you can put content length constraints on there it's",
    "start": "775700",
    "end": "780860"
  },
  {
    "text": "integrated with cloud watch metrics so you can see what's going on and visualize actively what's currently",
    "start": "780860",
    "end": "789740"
  },
  {
    "text": "coming in so that if you a new attack comes in you can figure out what it is and you can quickly turn the knobs to to",
    "start": "789740",
    "end": "797150"
  },
  {
    "text": "protect against it it has a bunch of rule groups provided",
    "start": "797150",
    "end": "802490"
  },
  {
    "text": "by a Tobias and its partners that are kind of canned for protecting against things like DDoS application attacks",
    "start": "802490",
    "end": "809150"
  },
  {
    "text": "like cross-site scripting and and bot attacks and as of a couple of weeks ago",
    "start": "809150",
    "end": "814280"
  },
  {
    "text": "we announced the tight integration with API gateway so you don't have to do any kind of integration with cloud Front",
    "start": "814280",
    "end": "821150"
  },
  {
    "text": "anymore you could put it right in front of your API gateway and it's a great kind of firewall that you can put there and block things before they get in so",
    "start": "821150",
    "end": "832720"
  },
  {
    "start": "830000",
    "end": "934000"
  },
  {
    "text": "as you as your company grows and you start to have multiple accounts and lots",
    "start": "832720",
    "end": "839300"
  },
  {
    "text": "of people working in the same account you really need to understand kind of",
    "start": "839300",
    "end": "844970"
  },
  {
    "text": "what the perimeter of your AF s-- resources are and that's where we have a devious cloud trail so cloud trail",
    "start": "844970",
    "end": "851420"
  },
  {
    "text": "allows you to track all the user activity in your eight of us account and see what people are doing it's enabled",
    "start": "851420",
    "end": "858560"
  },
  {
    "text": "by default and you can see configuration change events so if you're creating a",
    "start": "858560",
    "end": "864110"
  },
  {
    "text": "lambda function or you're modifying a laugh configuration or modifying whaff",
    "start": "864110",
    "end": "870200"
  },
  {
    "text": "rules or something like that you can see exactly who did that and what they did you could also enable it for data events",
    "start": "870200",
    "end": "877970"
  },
  {
    "text": "so if you want to see every time somebody uploaded something do an s3 a bucket or something like that not just",
    "start": "877970",
    "end": "883400"
  },
  {
    "text": "the creation of the bucket but every single file in that bucket you can do that if you need for compliance reasons",
    "start": "883400",
    "end": "891620"
  },
  {
    "text": "to kind of see this for longer term you can persist it to ask three or other",
    "start": "891620",
    "end": "897110"
  },
  {
    "text": "durable storages so that you can do some analysis on it later",
    "start": "897110",
    "end": "902420"
  },
  {
    "text": "again it's connected to cloud watch events so you can take action based on changes and use that to automate",
    "start": "902420",
    "end": "909500"
  },
  {
    "text": "security enforcement and it's good for operational troubleshooting so you",
    "start": "909500",
    "end": "916100"
  },
  {
    "text": "didn't make any code change but your application starts throwing some airs and you're not sure who did what instead",
    "start": "916100",
    "end": "922610"
  },
  {
    "text": "of going to all your API is and doing describes on mu you have kind of this central location where you can look at",
    "start": "922610",
    "end": "929150"
  },
  {
    "text": "all the changes that recently happened or you can try and correlate them and see what happened and that may be",
    "start": "929150",
    "end": "936649"
  },
  {
    "start": "934000",
    "end": "985000"
  },
  {
    "text": "the issue causing the errors in your application next up we have AWS config",
    "start": "936649",
    "end": "943339"
  },
  {
    "text": "and that's really our way to discover all your resources and relationships between those resources in your account",
    "start": "943339",
    "end": "949699"
  },
  {
    "text": "even the ones that have been deleted instead of calling those describe api's in each of your services to figure out",
    "start": "949699",
    "end": "957620"
  },
  {
    "text": "what you have you can kind of view it in this normalized form and you can track",
    "start": "957620",
    "end": "963589"
  },
  {
    "text": "your changes you can again connect that up to cloud watch events so that you can if a change is made you can trigger an",
    "start": "963589",
    "end": "971060"
  },
  {
    "text": "action you can deliver those snapshot snapshots to durable storage like s3 for",
    "start": "971060",
    "end": "977329"
  },
  {
    "text": "further analysis and it has some integration with change management databases if that's how you prefer to",
    "start": "977329",
    "end": "983750"
  },
  {
    "text": "ingest it here's a quick view of the console for a to view us config here we",
    "start": "983750",
    "end": "990350"
  },
  {
    "text": "made a change to alam the function we created it on April 6 and then we made",
    "start": "990350",
    "end": "995660"
  },
  {
    "text": "another change on August 1st and you can see all the configuration details about",
    "start": "995660",
    "end": "1000670"
  },
  {
    "text": "our timeout or memory settings things like that you can go through the version history and see exactly what what's",
    "start": "1000670",
    "end": "1007149"
  },
  {
    "text": "changed over time so now let's start talking into some of those strategies",
    "start": "1007149",
    "end": "1013540"
  },
  {
    "start": "1010000",
    "end": "1052000"
  },
  {
    "text": "and best practices around security and compliance before I start talking about protecting the front door I want to",
    "start": "1013540",
    "end": "1020079"
  },
  {
    "text": "quickly touch on the eight of us shared security model I hope you've all heard of this basically it tells you what",
    "start": "1020079",
    "end": "1027909"
  },
  {
    "text": "eight of us is responsible for securing and what you're responsible for security so AWS is responsible for the physical",
    "start": "1027909",
    "end": "1034959"
  },
  {
    "text": "security of our data centers and the security of the container that runs your",
    "start": "1034959",
    "end": "1040270"
  },
  {
    "text": "lambda function and also the runtime but you are responsible for everything in that lambda function so anything that",
    "start": "1040270",
    "end": "1047438"
  },
  {
    "text": "exists within the walls of that lambda function you're responsible for securing yourself so the threats that can happen",
    "start": "1047439",
    "end": "1054010"
  },
  {
    "start": "1052000",
    "end": "1106000"
  },
  {
    "text": "at the front door start with your your end users so end users like to keep",
    "start": "1054010",
    "end": "1060790"
  },
  {
    "text": "things simple they try and find the easiest way in cut corners everywhere so they they",
    "start": "1060790",
    "end": "1067249"
  },
  {
    "text": "might be using simple passwords or they might be using the same password across multiple websites there's the threat of",
    "start": "1067249",
    "end": "1074690"
  },
  {
    "text": "long lived credentials so whenever you have credentials that are long lived there's the risk that over time you get",
    "start": "1074690",
    "end": "1082519"
  },
  {
    "text": "a little careless with them you check them into some code repository you you you put them somewhere where you",
    "start": "1082519",
    "end": "1088370"
  },
  {
    "text": "actually don't want them and somebody finds them and then you can't revoke them and then because you have multiple",
    "start": "1088370",
    "end": "1095419"
  },
  {
    "text": "api's if you're doing service right there's multiple access points so there's a lot of access points that you",
    "start": "1095419",
    "end": "1101960"
  },
  {
    "text": "need to enforce authentication and authorization on so how do you protect",
    "start": "1101960",
    "end": "1108110"
  },
  {
    "start": "1106000",
    "end": "1234000"
  },
  {
    "text": "your end-user against this inconsistent security hygiene because as a good",
    "start": "1108110",
    "end": "1113960"
  },
  {
    "text": "consultant custodian of your end user you want to make sure that you're not just leaving it up to them you want to",
    "start": "1113960",
    "end": "1120590"
  },
  {
    "text": "put in some protections to help them so our recommendation here is that you use",
    "start": "1120590",
    "end": "1126169"
  },
  {
    "text": "Amazon Cagney no to Ithaca authenticate your users it has some great built-in",
    "start": "1126169",
    "end": "1131360"
  },
  {
    "text": "protections against some standard attacks like brute force attacks out of the box that has support for",
    "start": "1131360",
    "end": "1137119"
  },
  {
    "text": "multi-factor authentication and we support both SMS and time-based",
    "start": "1137119",
    "end": "1143419"
  },
  {
    "text": "temporary passwords so that if you're in intermittent cell phone connectivity your Google Authenticator code will",
    "start": "1143419",
    "end": "1149960"
  },
  {
    "text": "always work and then for a for a less",
    "start": "1149960",
    "end": "1155570"
  },
  {
    "text": "friction experience in authentication with multi-factor authentication you can enable device tracking which can be used",
    "start": "1155570",
    "end": "1162110"
  },
  {
    "text": "to suppress that second factor so if you've used the web browser before you've used the mobile app before they",
    "start": "1162110",
    "end": "1169039"
  },
  {
    "text": "don't get prompted again for that multi-factor authentication if that",
    "start": "1169039",
    "end": "1174080"
  },
  {
    "text": "isn't enough for you you can able the advanced security features and that's really to protect against if an end user",
    "start": "1174080",
    "end": "1181970"
  },
  {
    "text": "is username and password gets compromised somewhere else on the web because that site didn't use best",
    "start": "1181970",
    "end": "1189259"
  },
  {
    "text": "practices it will prevent you from signing up using that same username and password combination and it will also if",
    "start": "1189259",
    "end": "1197330"
  },
  {
    "text": "you try and sign in using password username password combination that we've seen has been compromised",
    "start": "1197330",
    "end": "1203420"
  },
  {
    "text": "elsewhere we will send a code to one of their verified email or cell phone",
    "start": "1203420",
    "end": "1211190"
  },
  {
    "text": "numbers so they can reset their password and update it so that an attacker can't get in and it also allows you to do risk",
    "start": "1211190",
    "end": "1218180"
  },
  {
    "text": "based adaptive authentication so if we see that end-user has started logging in",
    "start": "1218180",
    "end": "1224450"
  },
  {
    "text": "from a different geography or is starting an exhibit anomalous behavior and the times they're logging in it",
    "start": "1224450",
    "end": "1229760"
  },
  {
    "text": "might throw an additional challenge just to make sure that they're not an attacker so with your long live",
    "start": "1229760",
    "end": "1237680"
  },
  {
    "start": "1234000",
    "end": "1352000"
  },
  {
    "text": "credentials that get compromised the the solution here is really to to only use",
    "start": "1237680",
    "end": "1243530"
  },
  {
    "text": "short-lived credentials so Amazon kognito if you use it Toth indicate your users will give you short-lived access",
    "start": "1243530",
    "end": "1249890"
  },
  {
    "text": "tokens by default these are only good for an hour so if somebody gets a hold of one of these tokens they can only get",
    "start": "1249890",
    "end": "1255560"
  },
  {
    "text": "into your back-end for an hour so it kind of limits your blast radius you",
    "start": "1255560",
    "end": "1260810"
  },
  {
    "text": "should use something like API gateway to automatically validate these cogito tokens it it keeps it easier if you're",
    "start": "1260810",
    "end": "1268310"
  },
  {
    "text": "embedding this into your lambda function itself as the is the first piece of your lambda function it's harder to get right",
    "start": "1268310",
    "end": "1274910"
  },
  {
    "text": "so you can you can make mistakes there that let things in that shouldn't be let in so just it's easier to use the API",
    "start": "1274910",
    "end": "1283430"
  },
  {
    "text": "gateway kognito authorizer so so just use it if you're using API",
    "start": "1283430",
    "end": "1289760"
  },
  {
    "text": "keys with API gateways so you you have some customers that your vending keys to so they can call your API is we",
    "start": "1289760",
    "end": "1296120"
  },
  {
    "text": "recommend that you periodically rotate those keys and you can do that with a to be a secrets manager you can you can set",
    "start": "1296120",
    "end": "1302630"
  },
  {
    "text": "something up so that periodically it will rotate those keys and revoke an earlier use key you might have to come",
    "start": "1302630",
    "end": "1309200"
  },
  {
    "text": "up with some way of communicating with your customer that this key is no longer going to be valid in in two weeks or",
    "start": "1309200",
    "end": "1316640"
  },
  {
    "text": "something like that but using secrets manager it allows you to do that that rotation and finally if you're trying to",
    "start": "1316640",
    "end": "1323750"
  },
  {
    "text": "use I am credentials directly against lambda so if you need if you have some legacy app running on ec2 or you have",
    "start": "1323750",
    "end": "1330560"
  },
  {
    "text": "some some needs that call lambda directly always use either SBS's assumed",
    "start": "1330560",
    "end": "1337580"
  },
  {
    "text": "role to get temporary credentials or use ec2 instance credentials those will",
    "start": "1337580",
    "end": "1344810"
  },
  {
    "text": "limit the amount of time that those credentials are good for so if they get leaked it's not as big of a problem so",
    "start": "1344810",
    "end": "1354560"
  },
  {
    "start": "1352000",
    "end": "1493000"
  },
  {
    "text": "now with these lambdas where you have lots of lambdas and lots of access",
    "start": "1354560",
    "end": "1359990"
  },
  {
    "text": "points how do you how do you centralize that that authentication and make sure",
    "start": "1359990",
    "end": "1365420"
  },
  {
    "text": "that every single one of your endpoints enforces authentication in the same way so we recommend that you you centralize",
    "start": "1365420",
    "end": "1371840"
  },
  {
    "text": "that authorization enforcement like I said in the last slide use Amazon",
    "start": "1371840",
    "end": "1377170"
  },
  {
    "text": "Cognito authorizers at API gateway or if you're trying to do something more",
    "start": "1377170",
    "end": "1382880"
  },
  {
    "text": "custom use the lambda authorizer functionality and API gateway so the lambda authorizer functionality allows",
    "start": "1382880",
    "end": "1389240"
  },
  {
    "text": "you to take a token inspect it look at all the claims may be based on certain",
    "start": "1389240",
    "end": "1394400"
  },
  {
    "text": "claims that are in that token you want to build out a custom policy and so for each of one of your end-users tokens you",
    "start": "1394400",
    "end": "1400670"
  },
  {
    "text": "can build a policy on-the-fly that gives them access the particular API is an API",
    "start": "1400670",
    "end": "1405800"
  },
  {
    "text": "gateway and API gateway will cache that policy and every time you use that token against",
    "start": "1405800",
    "end": "1412730"
  },
  {
    "text": "API gateway it won't invoke your lambda authorizer again it will use that cache policy and do authorization enforcement",
    "start": "1412730",
    "end": "1420410"
  },
  {
    "text": "there alternatively you can do authentication directly on the",
    "start": "1420410",
    "end": "1426800"
  },
  {
    "text": "application load balancer and something we just launched earlier this week was direct integration between alb and",
    "start": "1426800",
    "end": "1434570"
  },
  {
    "text": "lambdas Cognito is integrated with alb so you can make it so that no request",
    "start": "1434570",
    "end": "1442490"
  },
  {
    "text": "makes it past your load balancer that isn't authenticated if the end user isn't authenticated it will redirect to",
    "start": "1442490",
    "end": "1447590"
  },
  {
    "text": "the login the end user will authenticate and then it will redirect back into your app so you can put that on",
    "start": "1447590",
    "end": "1453380"
  },
  {
    "text": "authentication there and if you have kind of a more simple use case that you don't need to put api gateway in front",
    "start": "1453380",
    "end": "1459740"
  },
  {
    "text": "of you want to just directly call lamda that's a great way of doing it and my final guide",
    "start": "1459740",
    "end": "1465270"
  },
  {
    "text": "here is that you don't try and accept multiple token types you normalize one token you don't try and accept like a",
    "start": "1465270",
    "end": "1472260"
  },
  {
    "text": "facebook token and kognito user pulls token and an open I had some out some",
    "start": "1472260",
    "end": "1477420"
  },
  {
    "text": "other open ID connect token if you just use you normalize on the cogito user pool token we can federate in from",
    "start": "1477420",
    "end": "1484770"
  },
  {
    "text": "multiple sources and you just try and implement one you don't try and implement many because the less code you",
    "start": "1484770",
    "end": "1490350"
  },
  {
    "text": "have the the more secure it is let's",
    "start": "1490350",
    "end": "1496320"
  },
  {
    "start": "1493000",
    "end": "1546000"
  },
  {
    "text": "talk about a quick strategy for how you might centralized authentication and",
    "start": "1496320",
    "end": "1501960"
  },
  {
    "text": "enforce it so if you're deploying methods on API gateway one of the things",
    "start": "1501960",
    "end": "1508920"
  },
  {
    "text": "that you can do is you can turn on Cloud trail every time you change a method and",
    "start": "1508920",
    "end": "1514110"
  },
  {
    "text": "API gateway it will emit a message through cloud trail and you can filter on API gateway methods to invoke a",
    "start": "1514110",
    "end": "1522960"
  },
  {
    "text": "lambda function and then in that lambda function something that you might do is you might do a describe on that API or",
    "start": "1522960",
    "end": "1528990"
  },
  {
    "text": "just look at what came in through Cloud trail take a look at the authorize authorizer that's on that method and if",
    "start": "1528990",
    "end": "1535260"
  },
  {
    "text": "it isn't on there you just shut down the you shut down that new method immediately so that before anything bad",
    "start": "1535260",
    "end": "1542760"
  },
  {
    "text": "can happen it gets shut down let's talk",
    "start": "1542760",
    "end": "1547920"
  },
  {
    "start": "1546000",
    "end": "1641000"
  },
  {
    "text": "about securing your resources now so that the threats with your resources are",
    "start": "1547920",
    "end": "1553680"
  },
  {
    "text": "that if you're not validating your inputs things like injection attacks can",
    "start": "1553680",
    "end": "1560400"
  },
  {
    "text": "make it through and make it through to your you're already s database in the backend if you have permissive execution",
    "start": "1560400",
    "end": "1568020"
  },
  {
    "text": "roles with lambda you may inadvertently through code bugs allow somebody to do",
    "start": "1568020",
    "end": "1573660"
  },
  {
    "text": "something that they're they're not supposed to do so if you do something like s3 star you might allow somebody to",
    "start": "1573660",
    "end": "1579270"
  },
  {
    "text": "create a bucket or delete a bucket and that's something that you don't want them with you if you hard code secrets",
    "start": "1579270",
    "end": "1584670"
  },
  {
    "text": "that's just kind of adding friction to your ability to rotate those secrets you",
    "start": "1584670",
    "end": "1590340"
  },
  {
    "text": "don't know where they are and makes them harder to rotate so you probably won't rotate them and they can get leaked if",
    "start": "1590340",
    "end": "1595710"
  },
  {
    "text": "you upload them to some code go somewhere and then there's kind of an",
    "start": "1595710",
    "end": "1601490"
  },
  {
    "text": "aspect of security that also often isn't thought up upfront and and that is kind",
    "start": "1601490",
    "end": "1607310"
  },
  {
    "text": "of the availability of your back-end so if you have misbehaving clients that are utilizing too much resources and",
    "start": "1607310",
    "end": "1614390"
  },
  {
    "text": "browning out your back-end or you are running too many lambdas concurrently that's just browning out your your",
    "start": "1614390",
    "end": "1620870"
  },
  {
    "text": "downstream dependency that's gonna cause your app to be unavailable and kind of",
    "start": "1620870",
    "end": "1626060"
  },
  {
    "text": "be a trust buster for your end users so I'll talk about some of those threats and then finally the another threat is",
    "start": "1626060",
    "end": "1632990"
  },
  {
    "text": "if you're using third-party libraries to implement your function any vulnerabilities that that may exist in",
    "start": "1632990",
    "end": "1639860"
  },
  {
    "text": "those libraries so what can you do about",
    "start": "1639860",
    "end": "1645470"
  },
  {
    "start": "1641000",
    "end": "1727000"
  },
  {
    "text": "your inputs and to protect against malicious inputs my recommendation here is that you make no assumptions about",
    "start": "1645470",
    "end": "1652100"
  },
  {
    "text": "any of the inputs coming in to your application even if you think the input is only coming from code that you wrote",
    "start": "1652100",
    "end": "1658760"
  },
  {
    "text": "from somewhere else if it's coming through and SQS queue or whatever you may have code bugs that cause parameters",
    "start": "1658760",
    "end": "1666560"
  },
  {
    "text": "to be missing or null pointers or things like that just make no assumptions about",
    "start": "1666560",
    "end": "1671960"
  },
  {
    "text": "where the data came from and validate everything so filter it escape any input",
    "start": "1671960",
    "end": "1679130"
  },
  {
    "text": "and and run sanitization on any of that input so it just doesn't get in if you",
    "start": "1679130",
    "end": "1684770"
  },
  {
    "text": "can limit your input sizes so if you only expect files to be under a certain",
    "start": "1684770",
    "end": "1691250"
  },
  {
    "text": "size limit them to that size and use compared statements if you're making",
    "start": "1691250",
    "end": "1698150"
  },
  {
    "text": "calls to RDS and using SQL to protect against SQL injection and attacks and if",
    "start": "1698150",
    "end": "1706010"
  },
  {
    "text": "you want to enable a degress whap it's probably something you should do with every single API because even if you",
    "start": "1706010",
    "end": "1713420"
  },
  {
    "text": "have a code bug or something like that by having laughs in front you could if",
    "start": "1713420",
    "end": "1719090"
  },
  {
    "text": "you detect an attack you can quickly mitigate it by putting in a filter or blocking those requests",
    "start": "1719090",
    "end": "1727270"
  },
  {
    "start": "1727000",
    "end": "1846000"
  },
  {
    "text": "so permissive execution rolls what can you do there so if if the inputs make it by thus",
    "start": "1729170",
    "end": "1736640"
  },
  {
    "text": "annotate sanitization that you did in the last slide but you have an overly",
    "start": "1736640",
    "end": "1742220"
  },
  {
    "text": "permissive role we recommend that you use this idea of least privilege",
    "start": "1742220",
    "end": "1747520"
  },
  {
    "text": "execution rolls in I am we have a bunch",
    "start": "1747520",
    "end": "1753020"
  },
  {
    "text": "of policies for common rolls manage policies we recommend that you use those",
    "start": "1753020",
    "end": "1758540"
  },
  {
    "text": "wherever possible if you're rolling your own roll you should probably test it in",
    "start": "1758540",
    "end": "1765650"
  },
  {
    "text": "development first and use something like x-ray in your lambda function to",
    "start": "1765650",
    "end": "1772520"
  },
  {
    "text": "identify exactly what the permissions this function needs and lock down your execution roll to just those permissions",
    "start": "1772520",
    "end": "1780800"
  },
  {
    "text": "don't allow s3 dot star or something like that if you see star and any execution roll take a step back take",
    "start": "1780800",
    "end": "1788750"
  },
  {
    "text": "another look at it it's probably too much you want to separate your dev account from your production account so",
    "start": "1788750",
    "end": "1794900"
  },
  {
    "text": "if you don't already have two accounts immediately create another one do all your development in one account to silo",
    "start": "1794900",
    "end": "1801680"
  },
  {
    "text": "it off from your production data because usually what happens is when you're doing development something isn't",
    "start": "1801680",
    "end": "1807980"
  },
  {
    "text": "working you start relaxing permissions or you do something you write a code bug",
    "start": "1807980",
    "end": "1813620"
  },
  {
    "text": "and it starts the leading stuff and you really don't want to affect your production data so separate your dev",
    "start": "1813620",
    "end": "1819710"
  },
  {
    "text": "from your production and just have completely different accounts and finally any roles that you aren't using",
    "start": "1819710",
    "end": "1827420"
  },
  {
    "text": "you should just go ahead and delete those the I am console will show you the last time something was used so you can",
    "start": "1827420",
    "end": "1834080"
  },
  {
    "text": "reduce your risk when you're deleting stuff but if you're not using something don't don't leave it out there to trap",
    "start": "1834080",
    "end": "1841370"
  },
  {
    "text": "somebody later just clean it up here's a",
    "start": "1841370",
    "end": "1847820"
  },
  {
    "start": "1846000",
    "end": "1907000"
  },
  {
    "text": "quick example of how you might do something let's let's say you have a",
    "start": "1847820",
    "end": "1854180"
  },
  {
    "text": "game you're allowing your end-users to kind",
    "start": "1854180",
    "end": "1861219"
  },
  {
    "text": "of track their progress and save their games so that if they transition between devices they can pick up where they left",
    "start": "1861219",
    "end": "1866889"
  },
  {
    "text": "off in this example we're allowing you to update any item in in DynamoDB in the",
    "start": "1866889",
    "end": "1874149"
  },
  {
    "text": "table game state but what if there's some things that you don't want the",
    "start": "1874149",
    "end": "1879279"
  },
  {
    "text": "end-user to ever be able to do you want to do that through some admin back-end so for example if the user is paid or",
    "start": "1879279",
    "end": "1887950"
  },
  {
    "text": "they've unlocked certain bonuses if you never want the end-user to be able to call a function and manipulate those",
    "start": "1887950",
    "end": "1894879"
  },
  {
    "text": "attributes in your dynamodb row you can add a condition to that policy to prevent any",
    "start": "1894879",
    "end": "1903099"
  },
  {
    "text": "access to those attributes so what can",
    "start": "1903099",
    "end": "1910960"
  },
  {
    "start": "1907000",
    "end": "1958000"
  },
  {
    "text": "you do to protect against secrets that are long-lived or hard-coded we always",
    "start": "1910960",
    "end": "1918099"
  },
  {
    "text": "recommend that you store your secrets separately from your code and you don't use lambda environment variables for",
    "start": "1918099",
    "end": "1925269"
  },
  {
    "text": "sensitive information putting it there makes it harder to rotate and if it's",
    "start": "1925269",
    "end": "1930519"
  },
  {
    "text": "hard to rotate you won't rotate it so always use something like a to be a secrets manager to store database",
    "start": "1930519",
    "end": "1936609"
  },
  {
    "text": "passwords for RDS it will help you with the rotation there and use interview a",
    "start": "1936609",
    "end": "1942399"
  },
  {
    "text": "Systems Manager parameter store if you're trying to store configuration by centralizing it there it makes it easier",
    "start": "1942399",
    "end": "1949659"
  },
  {
    "text": "to change and you have more visibility into what configuration you have out",
    "start": "1949659",
    "end": "1954940"
  },
  {
    "text": "there and where things are being used so",
    "start": "1954940",
    "end": "1960700"
  },
  {
    "text": "if you have clients that are misbehaving how do you protect against those we",
    "start": "1960700",
    "end": "1966609"
  },
  {
    "text": "always recommend that you kind of do some sort of load test and you figure",
    "start": "1966609",
    "end": "1972429"
  },
  {
    "text": "out what's an appropriate timeout for your client so if you expect this",
    "start": "1972429",
    "end": "1978009"
  },
  {
    "text": "operation to only take 5 seconds and you set your timeout to 60 seconds you",
    "start": "1978009",
    "end": "1984249"
  },
  {
    "text": "should just fail fast and retry in your retry logic you should if you're",
    "start": "1984249",
    "end": "1991810"
  },
  {
    "text": "using the eight of us SDKs has built-in jitter and exponential back-off so that",
    "start": "1991810",
    "end": "1997090"
  },
  {
    "text": "you don't start some retry storm everything is a little bit spaced out if",
    "start": "1997090",
    "end": "2003120"
  },
  {
    "text": "you want to limit access for your customers who are using API gateway key",
    "start": "2003120",
    "end": "2010260"
  },
  {
    "text": "to access your API you can set you should plans on each of those keys so if",
    "start": "2010260",
    "end": "2015360"
  },
  {
    "text": "you don't want a particular customer to get more than a certain amount of your back-end resources or only allow them to",
    "start": "2015360",
    "end": "2022260"
  },
  {
    "text": "do a certain number of requests you can put usage limits on those keys to block",
    "start": "2022260",
    "end": "2027330"
  },
  {
    "text": "them after a certain amount if your API s are heavily cacheable like there's no",
    "start": "2027330",
    "end": "2032490"
  },
  {
    "text": "reason to redo the request if you if you don't want to you can turn on API",
    "start": "2032490",
    "end": "2037560"
  },
  {
    "text": "gateway caching that's one request that's not going to hit your back-end and not put any pressure on your",
    "start": "2037560",
    "end": "2043590"
  },
  {
    "text": "resources configure a de Graaff to help you block stuff in a pinch and always",
    "start": "2043590",
    "end": "2052169"
  },
  {
    "text": "design your api is to be super low latency and a good example of this is",
    "start": "2052169",
    "end": "2057750"
  },
  {
    "text": "let's say that you're uploading a file instead of pushing the file to your api and using it to proxy s3 an alternative",
    "start": "2057750",
    "end": "2067169"
  },
  {
    "text": "is to have your client upload the file directly down s3 and then call your api",
    "start": "2067169",
    "end": "2072240"
  },
  {
    "text": "with a reference to that file so that that api only takes a few milliseconds",
    "start": "2072240",
    "end": "2078450"
  },
  {
    "text": "instead of if your client has a slow internet connection it's holding up open",
    "start": "2078450",
    "end": "2083490"
  },
  {
    "text": "that connection and using that resource for a much longer time here's where you",
    "start": "2083490",
    "end": "2089700"
  },
  {
    "start": "2087000",
    "end": "2118000"
  },
  {
    "text": "can enforce throttling it's a quick picture so you have your website talking",
    "start": "2089700",
    "end": "2096450"
  },
  {
    "text": "through the internet through cloud front to api gateway and then to maybe a",
    "start": "2096450",
    "end": "2102060"
  },
  {
    "text": "lambda function you can enforce quota metering and throttling using the usage",
    "start": "2102060",
    "end": "2108810"
  },
  {
    "text": "plans in api gateway and if you put laughs in front of your api gateway you",
    "start": "2108810",
    "end": "2114210"
  },
  {
    "text": "can also turn on throttling and blocking",
    "start": "2114210",
    "end": "2118400"
  },
  {
    "start": "2118000",
    "end": "2202000"
  },
  {
    "text": "so what happens if you've set a lambda concurrency setting that exceeds your",
    "start": "2120720",
    "end": "2126100"
  },
  {
    "text": "downstream capacity what we recommend to do here is that if latency is not an",
    "start": "2126100",
    "end": "2132370"
  },
  {
    "text": "issue you just keep your concurrency setting low so if all of your stuff can",
    "start": "2132370",
    "end": "2137740"
  },
  {
    "text": "back up in an sqs queue you set your concurrency setting low so you you never",
    "start": "2137740",
    "end": "2143740"
  },
  {
    "text": "even have a problem you should enable auto scaling wherever possible so if",
    "start": "2143740",
    "end": "2148990"
  },
  {
    "text": "your requests are hitting DynamoDB just turn on auto scaling it or if we just",
    "start": "2148990",
    "end": "2156850"
  },
  {
    "text": "talked about request based pricing for DynamoDB you switch to that if you want",
    "start": "2156850",
    "end": "2162430"
  },
  {
    "text": "something to instantly scale behind the scenes and not have to worry about it",
    "start": "2162430",
    "end": "2168420"
  },
  {
    "text": "wherever possible conduct a load test find the breaking point of your back end",
    "start": "2168600",
    "end": "2174730"
  },
  {
    "text": "and use that to kind of determine a lower setting for concurrency so that",
    "start": "2174730",
    "end": "2180400"
  },
  {
    "text": "you're never having requests above the breaking point and take a look at our",
    "start": "2180400",
    "end": "2186640"
  },
  {
    "text": "documentation on limits for each of the services that you depend on we have",
    "start": "2186640",
    "end": "2191820"
  },
  {
    "text": "public documentation on all of our limits if there's something there that you see is needs to be increased request",
    "start": "2191820",
    "end": "2198940"
  },
  {
    "text": "limit increases so all your lambda",
    "start": "2198940",
    "end": "2204220"
  },
  {
    "start": "2202000",
    "end": "2251000"
  },
  {
    "text": "functions typically depend on on third party code and third party code",
    "start": "2204220",
    "end": "2209440"
  },
  {
    "text": "occasionally has vulnerabilities the open web application security project is a great resource for tracking these",
    "start": "2209440",
    "end": "2216730"
  },
  {
    "text": "vulnerabilities and providing you dependency checkers that can scan for",
    "start": "2216730",
    "end": "2223090"
  },
  {
    "text": "various runtimes what those vulnerabilities are and to point them",
    "start": "2223090",
    "end": "2229450"
  },
  {
    "text": "out and if you're depending on third-party libraries we recommend that",
    "start": "2229450",
    "end": "2234730"
  },
  {
    "text": "you continuously upgrade them keep them close to the baseline and that will really reduce your risk and effort if",
    "start": "2234730",
    "end": "2240780"
  },
  {
    "text": "something big comes up and you need to quickly upgrade to a newer library the",
    "start": "2240780",
    "end": "2246310"
  },
  {
    "text": "closer you are to the baseline the less risk and effort you have let's talk",
    "start": "2246310",
    "end": "2252520"
  },
  {
    "start": "2251000",
    "end": "2278000"
  },
  {
    "text": "about keeping a paper trail so the threats with not keeping a tray paper trail is that you just don't have",
    "start": "2252520",
    "end": "2259030"
  },
  {
    "text": "enough logging your application starts throwing areas you can't you can't figure out what's going on and then the",
    "start": "2259030",
    "end": "2266380"
  },
  {
    "text": "other threat is that if you have some unauthorized access to a resource but",
    "start": "2266380",
    "end": "2271630"
  },
  {
    "text": "you just like can't see who who touched it and figure out what the blast radius is so with logging the things that you",
    "start": "2271630",
    "end": "2281920"
  },
  {
    "start": "2278000",
    "end": "2368000"
  },
  {
    "text": "can do at a minimum log who is doing",
    "start": "2281920",
    "end": "2287260"
  },
  {
    "text": "what and any timing information usually if there's some bottlenecks summer where",
    "start": "2287260",
    "end": "2292920"
  },
  {
    "text": "your application is running slow if you're trying to debug what's going on having that latency information is the",
    "start": "2292920",
    "end": "2299050"
  },
  {
    "text": "first piece that you need to figure out what the dependency that's having problems is log any basic context to",
    "start": "2299050",
    "end": "2305590"
  },
  {
    "text": "help you with what's going on so you might log user agent or you might Lord",
    "start": "2305590",
    "end": "2311610"
  },
  {
    "text": "what's being changed before and after always log request IDs in your clients",
    "start": "2311610",
    "end": "2318630"
  },
  {
    "text": "by logging request IDs it really helps if you have to engage anybody from",
    "start": "2318630",
    "end": "2324040"
  },
  {
    "text": "nativist service giving them that request ID and the timing information allows them to quickly look at what",
    "start": "2324040",
    "end": "2329920"
  },
  {
    "text": "happened and and get to you easier instead of kind of going through all the logs and trying to find the exact",
    "start": "2329920",
    "end": "2336640"
  },
  {
    "text": "scenario it will also help you if if you're logging the request IDs and your client application see and trace",
    "start": "2336640",
    "end": "2343450"
  },
  {
    "text": "everything into your API gateway calls and things like that wherever possible",
    "start": "2343450",
    "end": "2349420"
  },
  {
    "text": "enable x-ray in your lambda functions that will give you visibility into all",
    "start": "2349420",
    "end": "2355120"
  },
  {
    "text": "the the fan-out and all the calls the AWS resources and endpoints from your",
    "start": "2355120",
    "end": "2362260"
  },
  {
    "text": "lambda function and that's an example of a request ID there you've probably seen those uu IDs so if you want to protect",
    "start": "2362260",
    "end": "2371440"
  },
  {
    "start": "2368000",
    "end": "2413000"
  },
  {
    "text": "against unauthorized access to any of your resources and figure out who did what all your resources with you're a",
    "start": "2371440",
    "end": "2379030"
  },
  {
    "text": "diverse account never give everybody the same account information and create",
    "start": "2379030",
    "end": "2384610"
  },
  {
    "text": "individual users in that account or federate your users in that will ensure",
    "start": "2384610",
    "end": "2389840"
  },
  {
    "text": "that you always know who was accessing your account turn on MFA it's just a",
    "start": "2389840",
    "end": "2396740"
  },
  {
    "text": "simple step that you can take to add protection to your account and then use cloud trail you can turn on cloud trail",
    "start": "2396740",
    "end": "2404030"
  },
  {
    "text": "data events if you want to see more than just configuration changes but turn on cloud trail to see what's happened in",
    "start": "2404030",
    "end": "2411440"
  },
  {
    "text": "your account so now I'll hand it over to Daniel and he'll talk about that",
    "start": "2411440",
    "end": "2416810"
  },
  {
    "start": "2413000",
    "end": "2678000"
  },
  {
    "text": "architecture that he's built it it just BC to monitor and enforce compliance hi",
    "start": "2416810",
    "end": "2424310"
  },
  {
    "text": "Daniel lease I'm the principal Technical Architect for AWS cloud services at HSBC I'll talk a little bit",
    "start": "2424310",
    "end": "2431960"
  },
  {
    "text": "about our size and why continuous compliance is important to us so we've got about 4,000 offices around the world",
    "start": "2431960",
    "end": "2437750"
  },
  {
    "text": "we're in 67 countries we have two and a half trillion dollars in assets and we have 230,000 employees with 38 million",
    "start": "2437750",
    "end": "2444350"
  },
  {
    "text": "customers of those 230,000 employees we have about 44,000 software developers that are part of our organization so",
    "start": "2444350",
    "end": "2451310"
  },
  {
    "text": "this starts to become a challenge from a technology perspective for us so we have multiple banking back-end platforms",
    "start": "2451310",
    "end": "2457700"
  },
  {
    "text": "they're also distributed around the globe along with our people that are distributed around the globe and we're in a highly regulated environment on",
    "start": "2457700",
    "end": "2464780"
  },
  {
    "text": "average we deal with at least 50 regulators on an ongoing basis and then those regulators have subgroups so it",
    "start": "2464780",
    "end": "2469970"
  },
  {
    "text": "spawns up to about 300 and those regulations affect both both our applications and how we manage our",
    "start": "2469970",
    "end": "2475640"
  },
  {
    "text": "resources our technology resources we also have a rapidly evolving customer expectation so that's why you see most",
    "start": "2475640",
    "end": "2481850"
  },
  {
    "text": "of the bank presentations where everybody talks from Capital One to Australia Bank this morning that we have as big of a technology organization as",
    "start": "2481850",
    "end": "2487790"
  },
  {
    "text": "we do in order to facilitate our business applications so in our AWS estate this becomes a",
    "start": "2487790",
    "end": "2493340"
  },
  {
    "text": "challenge because we have multiple major business units around the group around the globe those business units all have",
    "start": "2493340",
    "end": "2498890"
  },
  {
    "text": "multiple teams developing multiple projects so while we when I made this slide we had 200 but we now have over",
    "start": "2498890",
    "end": "2504350"
  },
  {
    "text": "300 AWS accounts that are currently active for projects within the bank we have thousands of developers that are",
    "start": "2504350",
    "end": "2509870"
  },
  {
    "text": "running it and we're utilizing over 50 of AWS services already so as David was",
    "start": "2509870",
    "end": "2515180"
  },
  {
    "text": "going over some of the aspects kind of within a single dead last pod that you would do for your application protection if you take one step",
    "start": "2515180",
    "end": "2521140"
  },
  {
    "text": "and looking at from an enterprise perspective we're looking at how we need to enforce compliance for we have as regulations across our organization at",
    "start": "2521140",
    "end": "2527410"
  },
  {
    "text": "an organization level so we use at AWS organizations to control our account sprawl and within that underneath that",
    "start": "2527410",
    "end": "2533530"
  },
  {
    "text": "organizational structure is where we're looking to apply a base level of compliant and standards configurations",
    "start": "2533530",
    "end": "2538630"
  },
  {
    "text": "that we need across all accounts regardless of what business application you're running so we developed a",
    "start": "2538630",
    "end": "2544030"
  },
  {
    "text": "continuous compliance framework and this is kind of a layer above what you might do with AWS config within your single",
    "start": "2544030",
    "end": "2550390"
  },
  {
    "text": "account so from here when we have a business application that wants to use a particular AWS service we take a look at",
    "start": "2550390",
    "end": "2556660"
  },
  {
    "text": "that service and we define and create the the patterns the security patterns that we need in order to meet our",
    "start": "2556660",
    "end": "2562120"
  },
  {
    "text": "regulatory and standards bodies for that kind of service and what that service may be hosting data wise so once we",
    "start": "2562120",
    "end": "2568720"
  },
  {
    "text": "define what those nf ours are we then design controls to meet those in afar's so in defining those controls for us",
    "start": "2568720",
    "end": "2574960"
  },
  {
    "text": "right now in our framework those are mostly lambdas across the board and they may look at a policy they may look at a",
    "start": "2574960",
    "end": "2581230"
  },
  {
    "text": "configuration or they may set a configuration and a policy explicitly in account or they may be a mediating",
    "start": "2581230",
    "end": "2587980"
  },
  {
    "text": "action when they detect something that's present in that account so we build and implement those and then we run this on",
    "start": "2587980",
    "end": "2593380"
  },
  {
    "text": "a continuous basis so there's where we have three kinds of compliance policies that we look at we have corrective the",
    "start": "2593380",
    "end": "2600250"
  },
  {
    "text": "corrective ones are the ones where we see you spin up something that we can't have you spending up we will delete it immediately and send you a warning about",
    "start": "2600250",
    "end": "2606400"
  },
  {
    "text": "it or just a you're not allowed to run those without previous authorization or you need an exemption for the reason",
    "start": "2606400",
    "end": "2612070"
  },
  {
    "text": "that you'd like to run that resource so like one of the big ones for us is we have extreme requirements on data",
    "start": "2612070",
    "end": "2617560"
  },
  {
    "text": "leakage protection so in our development environments normally you do not get the ability to speak to the internet so we",
    "start": "2617560",
    "end": "2623500"
  },
  {
    "text": "have a corrective control that says if we see you spin up an Internet gateway we turn that Internet gateway back off you'll get an email message saying",
    "start": "2623500",
    "end": "2629230"
  },
  {
    "text": "you're not allowed to spin up an Internet gateway if you need to spin up an Internet gateway you know talk to the",
    "start": "2629230",
    "end": "2634360"
  },
  {
    "text": "appropriate body to get your exemption control on why you would need to spin up that Internet gateway we have Detective controls that look for some of the",
    "start": "2634360",
    "end": "2640630"
  },
  {
    "text": "minimum values that we want to see in an environment as well as to give you warnings when you have something that",
    "start": "2640630",
    "end": "2646480"
  },
  {
    "text": "you've defined in a development environment that may not be suitable for a production environment so we can class depending on how your account is",
    "start": "2646480",
    "end": "2652870"
  },
  {
    "text": "classified for your environment you can get a different response from our compliance dashboard and then we have preventative controls that'll",
    "start": "2652870",
    "end": "2658420"
  },
  {
    "text": "prevent you from doing some behaviors that you may not be able to execute we",
    "start": "2658420",
    "end": "2664119"
  },
  {
    "text": "do use service control policies at the highest level but that's kind of like a sledgehammer for some of the things so we do we take it one level down our",
    "start": "2664119",
    "end": "2670239"
  },
  {
    "text": "compliance framework and we we use preventive controls at that layer in order to also lock down an environment",
    "start": "2670239",
    "end": "2676180"
  },
  {
    "text": "for some of the requirements that may may have so what's in some of our controls so when we're looking through",
    "start": "2676180",
    "end": "2681880"
  },
  {
    "start": "2678000",
    "end": "2732000"
  },
  {
    "text": "and defining a control set for one of the services or functions from there WS we have to evaluate what the level of",
    "start": "2681880",
    "end": "2688059"
  },
  {
    "text": "risk is for different areas and where we have to apply some of our compliance controls so you can see a sample of some of the ones here",
    "start": "2688059",
    "end": "2693729"
  },
  {
    "text": "like we have a lambda so if you have a lambda function at assigned IM roles should be configured with a minimum",
    "start": "2693729",
    "end": "2699759"
  },
  {
    "text": "needed session validity time so we can check on that and we can warn if the validity time was outside of a standard",
    "start": "2699759",
    "end": "2705249"
  },
  {
    "text": "that we're looking to have on that application security groups on your V pcs we can see whether or not you have",
    "start": "2705249",
    "end": "2711160"
  },
  {
    "text": "any open security groups and will flag you for open security groups or if you if you're using ports that we would normally define as a suspicious port",
    "start": "2711160",
    "end": "2717729"
  },
  {
    "text": "that we want to have turned off or just give you a warning that you have ports that are out of out of the standard or",
    "start": "2717729",
    "end": "2723309"
  },
  {
    "text": "even things where like the framework itself actually has the policies and the controls to make sure that it can still query your account and they can do the",
    "start": "2723309",
    "end": "2729999"
  },
  {
    "text": "things that it needs to do so this compliance framework that we have",
    "start": "2729999",
    "end": "2735249"
  },
  {
    "start": "2732000",
    "end": "2802000"
  },
  {
    "text": "generates a dashboard and that dashboard will have the result of the of the queries of all those compliance",
    "start": "2735249",
    "end": "2740529"
  },
  {
    "text": "functions against the different accounts so in that dashboard we have a rag status red amber green depending upon",
    "start": "2740529",
    "end": "2746349"
  },
  {
    "text": "your environment type and what kind of exceptions you have is how you get end up getting rated you might have red if",
    "start": "2746349",
    "end": "2751450"
  },
  {
    "text": "we find that you're running an old AMI and you have not refreshed your ami or you might get red if we find that you have a permissive s3 bucket when you",
    "start": "2751450",
    "end": "2759069"
  },
  {
    "text": "shouldn't have a permissive s3 bucket there's been a couple things that have come out recently that we can start to shrink some of the things that we were",
    "start": "2759069",
    "end": "2764769"
  },
  {
    "text": "doing like the we can turn off public buckets by default now that's really helpful you know so some of those things will start to reduce the the number of",
    "start": "2764769",
    "end": "2771729"
  },
  {
    "text": "controls that we had developed ourselves earlier on because we've been running this for about a year and a half as far",
    "start": "2771729",
    "end": "2777279"
  },
  {
    "text": "as maintaining the compliance standards and then so we will send out both this dashboard that folks can come on and get",
    "start": "2777279",
    "end": "2783609"
  },
  {
    "text": "a view and we also have a weekly email that will come along for the overall status of your environment so as the",
    "start": "2783609",
    "end": "2789890"
  },
  {
    "text": "owner of your account you'll get an email as the compliance framework is run against your account or if you're a red",
    "start": "2789890",
    "end": "2794960"
  },
  {
    "text": "account you may get an immediate alert based off of an email or a text for a retic count violation that's been",
    "start": "2794960",
    "end": "2800510"
  },
  {
    "text": "flagged within your account so if we want to think a little bit but how that flow works these are either the",
    "start": "2800510",
    "end": "2806720"
  },
  {
    "start": "2802000",
    "end": "2969000"
  },
  {
    "text": "functions that we use to do that so the tools that he was talking about in protecting individual account we actually execute some of those tools for",
    "start": "2806720",
    "end": "2812210"
  },
  {
    "text": "our frameworks access in order to evaluate all of our accounts across the board so we use the STS assumed role for",
    "start": "2812210",
    "end": "2818540"
  },
  {
    "text": "our lambda function that's in our centralized compliance account and from that point on we have the policies that",
    "start": "2818540",
    "end": "2824420"
  },
  {
    "text": "allow that lambda function to query what we need to query or to temporarily assume the role permissions that it",
    "start": "2824420",
    "end": "2830210"
  },
  {
    "text": "needs in order to execute in action in that account in those individual accounts the one thing that we're doing is we're consolidating cloud watch and",
    "start": "2830210",
    "end": "2836330"
  },
  {
    "text": "cloud trail events to the cloud watch event bus so any actions that occur within those solution accounts go all go",
    "start": "2836330",
    "end": "2843080"
  },
  {
    "text": "into the event bus and they're consolidated all those events from all the accounts are consolidated into our compliance account the lambda functions",
    "start": "2843080",
    "end": "2850520"
  },
  {
    "text": "that are in our compliance account are watching that cloud events bus for all those events and anytime any event comes through evaluates it against the rules",
    "start": "2850520",
    "end": "2856580"
  },
  {
    "text": "that we have in that cloud event bus we have a database there that stores exemptions for different accounts so we",
    "start": "2856580",
    "end": "2862160"
  },
  {
    "text": "can see an account ID they may have an exemption that they're allowed to run an internet gateway or I'm not sure why",
    "start": "2862160",
    "end": "2867740"
  },
  {
    "text": "somebody would still do it but they may have an exemption for an IM user rather than a role so there's those kinds of things we may have a few exemptions for",
    "start": "2867740",
    "end": "2874400"
  },
  {
    "text": "within an account and then depending upon whether or not that exemption clears through there or if it's a or if",
    "start": "2874400",
    "end": "2880310"
  },
  {
    "text": "it's one of the alerts is what that action is going to be after if it's a corrective action then that lambda will",
    "start": "2880310",
    "end": "2885650"
  },
  {
    "text": "assume a temporary trust token in order to go on that solution account and deactivate that service or change that parameter into what is a acceptable",
    "start": "2885650",
    "end": "2892010"
  },
  {
    "text": "value or it'll just generate a detective alert that'll add to the dashboard it may send you an email or it also will",
    "start": "2892010",
    "end": "2897980"
  },
  {
    "text": "just keep consistently looking for our baseline configuration for our base n FRS that we need across those accounts",
    "start": "2897980",
    "end": "2903680"
  },
  {
    "text": "from a security perspective you can do a lot of these things in a smaller account",
    "start": "2903680",
    "end": "2909530"
  },
  {
    "text": "level with AWS config and I'd probably say that'd be the way to do it but when you start to have 300 accounts a doubles config gets a little unwieldy as far as",
    "start": "2909530",
    "end": "2916340"
  },
  {
    "text": "managing the assets for the rules within there and that's why we came up with our compliance dashboard one of the",
    "start": "2916340",
    "end": "2922610"
  },
  {
    "text": "things that came out this week was a control control tower yeah so if you have a few accounts control tower will",
    "start": "2922610",
    "end": "2928160"
  },
  {
    "text": "probably still end up working out really well for you because you can consolidate your config use in control tower the",
    "start": "2928160",
    "end": "2933530"
  },
  {
    "text": "difference is for our compliant scum is that we wanted to centralize the the",
    "start": "2933530",
    "end": "2939260"
  },
  {
    "text": "compliance controls into one area rather than have to deploy them out into all the accounts so that was one of the reasons we built this system and then",
    "start": "2939260",
    "end": "2945590"
  },
  {
    "text": "use cross account assume roll trust for branching out to do our queries and our corrected behaviors under if you want to",
    "start": "2945590",
    "end": "2953240"
  },
  {
    "text": "add some closing comments yeah so if that was interesting what Daniel did if",
    "start": "2953240",
    "end": "2958790"
  },
  {
    "text": "you want to see our managed solutions so that you have to write less code and get all this goodness take a look at that",
    "start": "2958790",
    "end": "2964280"
  },
  {
    "text": "age of us control tower one question I had from our last session that I allowed",
    "start": "2964280",
    "end": "2969530"
  },
  {
    "start": "2969000",
    "end": "3021000"
  },
  {
    "text": "a lot of now is we have about 58 controls in there so each of those controls was blamed itself but we run",
    "start": "2969530",
    "end": "2975230"
  },
  {
    "text": "those 58 controls individually across 15 regions and we probably see about",
    "start": "2975230",
    "end": "2980830"
  },
  {
    "text": "350,000 events a day right now coming through our compliance framework that we're evaluating those lambda controls against I'd like to really thank you for",
    "start": "2980830",
    "end": "2988160"
  },
  {
    "text": "coming out today I know that the Expo is now closed so we're gonna step down off",
    "start": "2988160",
    "end": "2993440"
  },
  {
    "text": "the stage if you have any questions about Amazon Cognito or any of the things that we talked of today or more",
    "start": "2993440",
    "end": "2999110"
  },
  {
    "text": "you want to hear about more from Daniel about his architecture we're gonna step down and you can ask us those questions",
    "start": "2999110",
    "end": "3004660"
  },
  {
    "text": "offstage and we really appreciate if you could provide feedback in the mobile app",
    "start": "3004660",
    "end": "3010480"
  },
  {
    "text": "that's how we we figure out what to do next and what you guys want to hear so",
    "start": "3010480",
    "end": "3016230"
  },
  {
    "text": "give us that feedback and thank you again for coming out thank",
    "start": "3016230",
    "end": "3022500"
  }
]