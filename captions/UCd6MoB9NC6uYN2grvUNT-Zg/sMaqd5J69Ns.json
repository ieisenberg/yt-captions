[
  {
    "start": "0",
    "end": "67000"
  },
  {
    "text": "all right thanks everybody for coming out this is the last gasp before the party tonight so I commend you all on",
    "start": "0",
    "end": "6359"
  },
  {
    "text": "your assiduous 'no sand coming out in the late afternoon and hope to be able",
    "start": "6359",
    "end": "11639"
  },
  {
    "text": "to keep you awake for the next 45 minutes or so hello to the people behind the light there all",
    "start": "11639",
    "end": "18000"
  },
  {
    "text": "right so my name is Tim Bray I'm an engineer at AWS and I did a lot of work",
    "start": "18000",
    "end": "24990"
  },
  {
    "text": "on step functions and even have some code in there so I have familial feelings about it and to help us out we got Patrick Brant",
    "start": "24990",
    "end": "30960"
  },
  {
    "text": "here down from coca-cola to talk to some of the talk about some of the things that they are doing with the technology",
    "start": "30960",
    "end": "36450"
  },
  {
    "text": "this is a 300 level session and there will be code I hope that's okay",
    "start": "36450",
    "end": "42300"
  },
  {
    "text": "few organizational notes I think we're pretty well going to use all of the time",
    "start": "42300",
    "end": "47430"
  },
  {
    "text": "we have today so let's not do questions from the stage however Patrick and I promise to go outside there and stand",
    "start": "47430",
    "end": "54480"
  },
  {
    "text": "around and talk to anybody who wants to talk about step functions until our voices give out or you fall over or",
    "start": "54480",
    "end": "61109"
  },
  {
    "text": "something is there gonna be beer out there afterwards or did you have to wait for the party for that I don't know okay",
    "start": "61109",
    "end": "67290"
  },
  {
    "start": "67000",
    "end": "125000"
  },
  {
    "text": "so let's dive into this so we released",
    "start": "67290",
    "end": "73350"
  },
  {
    "text": "this product at this event last year there's Vernor standing on stage in last year's ugly t-shirt talking about step",
    "start": "73350",
    "end": "81030"
  },
  {
    "text": "functions and since then we've filled it in and a bunch of regions around the world that job is not finished yet",
    "start": "81030",
    "end": "87509"
  },
  {
    "text": "if step functions is not available in your favorite region sorry we're getting there and integrated it with a whole",
    "start": "87509",
    "end": "93689"
  },
  {
    "text": "bunch of the basic AWS infrastructure just trying to be a better citizen of the AWS platform the cloud formations",
    "start": "93689",
    "end": "101490"
  },
  {
    "text": "and so on of that type of stuff but oh and then just a couple of weeks ago we",
    "start": "101490",
    "end": "106799"
  },
  {
    "text": "allow we announced support for in place updating of state machines and anybody who's worked for the product will appreciate that coming soon actual",
    "start": "106799",
    "end": "114329"
  },
  {
    "text": "version numbers but at least we can update them in place which is to step forward but we are not here today to",
    "start": "114329",
    "end": "121350"
  },
  {
    "text": "talk about what we've been doing with the product we are here today to talk about what you've been doing with the",
    "start": "121350",
    "end": "127439"
  },
  {
    "start": "125000",
    "end": "292000"
  },
  {
    "text": "product because there have sure been a lot of applications and we're going to",
    "start": "127439",
    "end": "133080"
  },
  {
    "text": "dive into a few those that we selected just because we thought they were interesting or",
    "start": "133080",
    "end": "138110"
  },
  {
    "text": "instructive or just out-and-out crazy and might have lessons to offer those",
    "start": "138110",
    "end": "144060"
  },
  {
    "text": "who are just starting to get into this subject now there are nice espect there",
    "start": "144060",
    "end": "149190"
  },
  {
    "text": "are some of you in the audience who have a question in your mind which is you know what what is step functions anyhow",
    "start": "149190",
    "end": "155700"
  },
  {
    "text": "and unfortunately I'm not going to spend a lot of time doing a deep dive on what",
    "start": "155700",
    "end": "162720"
  },
  {
    "text": "this product is but but don't get up and leave because that's ok one of the important points I want to make about this product",
    "start": "162720",
    "end": "168959"
  },
  {
    "text": "it is it is a very very simple service even the no it doesn't have simple in",
    "start": "168959",
    "end": "175200"
  },
  {
    "text": "its name and maybe there's a pattern in that when I gave the talk on the service",
    "start": "175200",
    "end": "181110"
  },
  {
    "text": "last year at this time I had to really work hard to pull together 60 minutes of material because there's just not that",
    "start": "181110",
    "end": "186750"
  },
  {
    "text": "much stuff to talk about here fortunately note we've got people building stuff to talk about we got more",
    "start": "186750",
    "end": "193260"
  },
  {
    "text": "more ammunition so here are the basics step functions is all about orchestrating the units that go into",
    "start": "193260",
    "end": "200160"
  },
  {
    "text": "making up modern micro service based applications what does that jargon really mean well stick around and you'll",
    "start": "200160",
    "end": "206100"
  },
  {
    "text": "find out now step functions is a hundred percent serverless itself and we are",
    "start": "206100",
    "end": "211140"
  },
  {
    "text": "after all on the server list track here but it's okay for that other stuff two step functions is just fine with",
    "start": "211140",
    "end": "218340"
  },
  {
    "text": "old-school code that's running on an ec2 instance or an e CS container or even I perish the thought on your own computer",
    "start": "218340",
    "end": "224910"
  },
  {
    "text": "in your own data center or look why would you want to do that but it makes",
    "start": "224910",
    "end": "230190"
  },
  {
    "text": "sense to have it on the server list rack and in fact the content of today's talk is pretty well all serverless stuff because there's a really really strong",
    "start": "230190",
    "end": "236760"
  },
  {
    "text": "affinity between step functions and lambda lambda x' represent small discrete lightweight event-driven units",
    "start": "236760",
    "end": "244500"
  },
  {
    "text": "of compute and it's the most natural thing in the world to say while water are on this lambda and that then that",
    "start": "244500",
    "end": "250230"
  },
  {
    "text": "lambda or I want to run these five lambdas in parallel or I want to run this lambda and if it blows up I want to",
    "start": "250230",
    "end": "255239"
  },
  {
    "text": "retry as many as five or six times and that's what step functions does so so step function is lambda really really",
    "start": "255239",
    "end": "262200"
  },
  {
    "text": "really work well together so I'm going to close with a claim which is that if you're sitting out there and",
    "start": "262200",
    "end": "267630"
  },
  {
    "text": "haven't really looked at step functions yet are only lightly I'm gonna claim that by the time we get finished with",
    "start": "267630",
    "end": "272820"
  },
  {
    "text": "this you will you'll know what it's about and that's because anybody who's",
    "start": "272820",
    "end": "278280"
  },
  {
    "text": "ever written specifications or a text book knows that you're eager readers skip lightly over your beautiful walls",
    "start": "278280",
    "end": "286200"
  },
  {
    "text": "of text and go straight to the examples and that's what we're gonna do we're gonna do like an hour of examples here so let us dive in we started to see some",
    "start": "286200",
    "end": "295920"
  },
  {
    "start": "292000",
    "end": "338000"
  },
  {
    "text": "patterns emerge and the most obvious initial pattern is a lack of a pattern",
    "start": "295920",
    "end": "301530"
  },
  {
    "text": "the things for which step functions are being used is a truly all over the map",
    "start": "301530",
    "end": "307470"
  },
  {
    "text": "thing all kinds of applications more different kinds of things than you can imagine and I'm not really surprised at",
    "start": "307470",
    "end": "315510"
  },
  {
    "text": "that for an old guy like me it's not surprising when you ship a general-purpose technology and people use it in ways you don't anticipate",
    "start": "315510",
    "end": "321660"
  },
  {
    "text": "because that's how the world works but it's kind of amusing to hear the young engineers on the step functions team looking at bug reports or feature",
    "start": "321660",
    "end": "328320"
  },
  {
    "text": "requests and going what the I mean give me a break why would a person want to do that well what's going on is that",
    "start": "328320",
    "end": "335730"
  },
  {
    "text": "there's a phrase that these young geeks have heard but they have not actually internalized so seriously you know when",
    "start": "335730",
    "end": "343050"
  },
  {
    "text": "when when you ship something that's horizontal and general-purpose you should expect to be surprised and you should absolutely definitely not expect",
    "start": "343050",
    "end": "350190"
  },
  {
    "text": "people to share your particular vision of what this thing is for and how it was meant to be used having said that there",
    "start": "350190",
    "end": "357780"
  },
  {
    "text": "are a couple of patterns that are worth mentioning when I was standing here last year I pointed out that whereas this is",
    "start": "357780",
    "end": "364380"
  },
  {
    "text": "a large-scale large scalable elastic service that can do you know thousands of transitions per second it would have",
    "start": "364380",
    "end": "371580"
  },
  {
    "text": "a place in the world replacing shell scripts and that prediction turned out unlike many of my predictions to be",
    "start": "371580",
    "end": "378180"
  },
  {
    "text": "right because I know that a lot of you are automating your stuff with shell",
    "start": "378180",
    "end": "383280"
  },
  {
    "text": "scripts nasty little right only unreviewed uncommitted um source code",
    "start": "383280",
    "end": "390600"
  },
  {
    "text": "controlled shell scripts and I we would never do things like that but but you",
    "start": "390600",
    "end": "395669"
  },
  {
    "text": "know you shouldn't and it actually turns out to be pretty straightforward to drop in a step function to replace one of those",
    "start": "395669",
    "end": "401139"
  },
  {
    "text": "and it also has the virtue of when you do that do you end up with all your logging in one place and a nice audit trail and better retries than bosch",
    "start": "401139",
    "end": "408129"
  },
  {
    "text": "knows how to do and and so on and so forth so that turned out to be true and that actually I remember I went and",
    "start": "408129",
    "end": "414520"
  },
  {
    "text": "visited major league baseball last spring shortly after the service launched and they told us how they were",
    "start": "414520",
    "end": "420159"
  },
  {
    "text": "setting up with step functions to do all sorts of upgrades and installations and migrations that had formerly been bash",
    "start": "420159",
    "end": "426669"
  },
  {
    "text": "scripts and they were enthusiastic this is great you know we're gonna be running hundreds of machines a week and I was",
    "start": "426669",
    "end": "431800"
  },
  {
    "text": "thinking well we actually built it to run millions of machines per hour but still that's okay it's still a success",
    "start": "431800",
    "end": "437050"
  },
  {
    "text": "story and you know anybody's got a cheer over the grave of a bash script and",
    "start": "437050",
    "end": "442509"
  },
  {
    "text": "actually this turns out to be an OK way to get into modern serverless",
    "start": "442509",
    "end": "447900"
  },
  {
    "text": "distributed application architecture because after you've done some of these little automation things you've developed enough skills and familiarity",
    "start": "447900",
    "end": "454419"
  },
  {
    "text": "and chops to you know go ahead and launch a launch into another larger",
    "start": "454419",
    "end": "459759"
  },
  {
    "text": "application and that's what we've seen specifically in the second half of 2017 larger and larger and more complex",
    "start": "459759",
    "end": "465400"
  },
  {
    "text": "applications and one example of a customer who did exactly that was coca-cola who started out with a simple",
    "start": "465400",
    "end": "471550"
  },
  {
    "text": "application to work around a problem and has been branching out in fact it was interesting enough that way back earlier",
    "start": "471550",
    "end": "478899"
  },
  {
    "start": "476000",
    "end": "500000"
  },
  {
    "text": "in the year Jeff Barr did a did a blog I don't know how you put a picture of the",
    "start": "478899",
    "end": "484089"
  },
  {
    "text": "other Jeff in but it looks ok about what coca-cola and Patrick here had been doing specifically and then",
    "start": "484089",
    "end": "490659"
  },
  {
    "text": "coca-cola has moved on and done some you know much more ambitious stuff and fortunately for all of us Patrick from",
    "start": "490659",
    "end": "496060"
  },
  {
    "text": "coke agreed to come down and talk about it so let me bring up a really red and white slide and Patrick take it over hey",
    "start": "496060",
    "end": "502529"
  },
  {
    "start": "500000",
    "end": "608000"
  },
  {
    "text": "thanks Tim hi everybody I'm Patrick Brandt I'm a IT director and solution",
    "start": "502529",
    "end": "509169"
  },
  {
    "text": "strategist for marketing operations and product development and coca-cola and we're gonna get a couple of examples of",
    "start": "509169",
    "end": "515380"
  },
  {
    "text": "how we've stepped functions to solve problems big problems in those two areas I'm going to start with marketing in",
    "start": "515380",
    "end": "521550"
  },
  {
    "text": "particular the vending pass program so the vending pass is a digital card that",
    "start": "521550",
    "end": "526660"
  },
  {
    "text": "lives in your mobile wallet Android or iPhone you can use it to earn and redeem",
    "start": "526660",
    "end": "531910"
  },
  {
    "text": "free drinks at supported vending Jeanne's you can also purchase free drinks for your friends and share them",
    "start": "531910",
    "end": "538960"
  },
  {
    "text": "with them through the vending pass which I recommend you doing if you want to have lots of friends but as we were",
    "start": "538960",
    "end": "545320"
  },
  {
    "text": "rolling this program out in 2016 we identified a pretty significant edge case that could have caused a lot of",
    "start": "545320",
    "end": "552100"
  },
  {
    "text": "dissatisfaction with our consumers now this is kind of a complicated scenario so I thought the best way we could walk",
    "start": "552100",
    "end": "558130"
  },
  {
    "text": "through together is for me to tell you a story featuring our hero Isaac his",
    "start": "558130",
    "end": "563740"
  },
  {
    "text": "friend Alice and Isaac's finding Pass so Isaac and Alice are out on the town and",
    "start": "563740",
    "end": "569320"
  },
  {
    "text": "Isaac has a free band man he's totally stoked he's gonna get a free drink and he's gonna buy one for Alice so he taps",
    "start": "569320",
    "end": "576850"
  },
  {
    "text": "his phone to the Payment device on the vending machine which is that yellow box there and then he's asked a question or",
    "start": "576850",
    "end": "583630"
  },
  {
    "text": "he was asked a question at the time and the question was do you want to use your van now or do you want to save it for",
    "start": "583630",
    "end": "590920"
  },
  {
    "text": "later but you'll notice that in the meantime his vending pass is displaying zero vens he hasn't actually purchased a",
    "start": "590920",
    "end": "597670"
  },
  {
    "text": "drink yet this is the root of the problem right this is where all the drama begins we're gonna look at this in",
    "start": "597670",
    "end": "603070"
  },
  {
    "text": "a little more detail a few slides in because it's important to understand what's happening here anyway so Isaac",
    "start": "603070",
    "end": "609580"
  },
  {
    "start": "608000",
    "end": "638000"
  },
  {
    "text": "says since you asked machine I changed my mind how decide I'm gonna pay with cash he",
    "start": "609580",
    "end": "615340"
  },
  {
    "text": "buys a drink for himself he drives buys a drink for Alice she's very happy about that later that day Isaac notices that he has",
    "start": "615340",
    "end": "624340"
  },
  {
    "text": "zero Vin's on his vending pass even though he didn't purchase his drink with his free event so now poor Isaac is very",
    "start": "624340",
    "end": "631150"
  },
  {
    "text": "confused and he's frustrated and he doesn't trust us anymore and we don't want that to happen",
    "start": "631150",
    "end": "637380"
  },
  {
    "text": "so what's going on here in actuality Isaac's balance in the backend and the",
    "start": "637380",
    "end": "643600"
  },
  {
    "start": "638000",
    "end": "737000"
  },
  {
    "text": "database will restore vending information is correct he has one prevent the problem is that that",
    "start": "643600",
    "end": "649990"
  },
  {
    "text": "information has gotten out of sync with the user interface which is the vending pass so understand the details about",
    "start": "649990",
    "end": "656170"
  },
  {
    "text": "this we had to wade into the weeds a little bit around how our payment system works so when Isaac touches his phone to that",
    "start": "656170",
    "end": "663490"
  },
  {
    "text": "payment device that emits an event it's called a card swipe event when he selects",
    "start": "663490",
    "end": "668529"
  },
  {
    "text": "during pushes a button and the drink falls out that emits a second event it's called a track payment a minute means that the payments been authorized and",
    "start": "668529",
    "end": "674290"
  },
  {
    "text": "the transaction is complete so for reasons I won't get into will call them",
    "start": "674290",
    "end": "680019"
  },
  {
    "text": "legacy architectural debt which is not uncommon in business",
    "start": "680019",
    "end": "687339"
  },
  {
    "text": "we can only subscribe to one of those two events and because the program at",
    "start": "687339",
    "end": "693129"
  },
  {
    "text": "the time was asking was allowing consumers to keep her free VIN or or use it at the point of sale we had to",
    "start": "693129",
    "end": "700120"
  },
  {
    "text": "subscribe to that first event that card swipe event so what would have happened is Isaac taps the payment device in",
    "start": "700120",
    "end": "706629"
  },
  {
    "text": "amidst that card swipe event we put a 60 second hold for the for the price of a band on his balance and then we would",
    "start": "706629",
    "end": "715420"
  },
  {
    "text": "have to have updated the vending pass UI right away excuse me so if Isaac were to walk away",
    "start": "715420",
    "end": "723370"
  },
  {
    "text": "or if he would've paid by a different means you know that hold would expire and his balance would be made good he'd have to spin back but again legacy",
    "start": "723370",
    "end": "730300"
  },
  {
    "text": "architecture we don't have a way to subscribe to that event and update the pass so what's the solution it's really",
    "start": "730300",
    "end": "737350"
  },
  {
    "start": "737000",
    "end": "914000"
  },
  {
    "text": "simple actually we just need to wait we just need to wait for any latent holds to expire and then we update the pass so",
    "start": "737350",
    "end": "745839"
  },
  {
    "text": "60 second hold at some point after 60 seconds go and get Isaac's information",
    "start": "745839",
    "end": "751300"
  },
  {
    "text": "update the vending pass so we implemented this as a step function which is a you know we implement a very",
    "start": "751300",
    "end": "757720"
  },
  {
    "text": "very simple state machine there are two states in our state machine there's a 90 second wait state again 60 minutes plus",
    "start": "757720",
    "end": "764949"
  },
  {
    "text": "30 the the balance will be good and then there's a another task that invokes a",
    "start": "764949",
    "end": "770079"
  },
  {
    "text": "lambda function that goes back to the vending pass database or the vending database and updates its pass so now the",
    "start": "770079",
    "end": "777459"
  },
  {
    "text": "solution here Isaac touches vending pass our sorry the the payment device and emits that cart swipe event we put a",
    "start": "777459",
    "end": "784870"
  },
  {
    "text": "hold on its balance and then we publish a message to an SNS topic that causes a",
    "start": "784870",
    "end": "789990"
  },
  {
    "text": "step function to begin executing it goes into a 90 second weight and it wakes up",
    "start": "789990",
    "end": "795699"
  },
  {
    "text": "and it invokes the lambda function that updates his balance on the vending pass",
    "start": "795699",
    "end": "801250"
  },
  {
    "text": "you are if necessary so at no point now with the solution does the vending past display a",
    "start": "801250",
    "end": "809120"
  },
  {
    "text": "balance that is less than what Isaac actually has which is important for",
    "start": "809120",
    "end": "814339"
  },
  {
    "text": "making sure that Isaac remains happy and trusts us well hold on a second here so we shipped a fully managed",
    "start": "814339",
    "end": "821329"
  },
  {
    "text": "large-scale durable highly available AWS service that can do thousands of state transitions a second and you used it to",
    "start": "821329",
    "end": "827209"
  },
  {
    "text": "put in a 90 second delay yes yes we did and it's fortunate Tim that sub-function",
    "start": "827209",
    "end": "835940"
  },
  {
    "text": "can handle so many transactions because keep in mind that every time a vending pass user touches that Payment device a",
    "start": "835940",
    "end": "843740"
  },
  {
    "text": "step function execution is initiated and this is user traffic right these are you",
    "start": "843740",
    "end": "850250"
  },
  {
    "text": "know effectively unbounded where where we could expect spiky loads you know if there are campaigns or promotions and",
    "start": "850250",
    "end": "856550"
  },
  {
    "text": "then obviously we can expect growth over time so how would you have done that if",
    "start": "856550",
    "end": "861920"
  },
  {
    "text": "he didn't have step functions the next easiest solution was would have been to just use a lambda write a single layer",
    "start": "861920",
    "end": "867950"
  },
  {
    "text": "of the function it snowed those who know know know that you would write a set timeout 90-second be your first line of",
    "start": "867950",
    "end": "873920"
  },
  {
    "text": "code and then after that you have the function that actually are the code that actually does the work the problem with",
    "start": "873920",
    "end": "879740"
  },
  {
    "text": "it we we didn't feel good about that though because that that function that",
    "start": "879740",
    "end": "885320"
  },
  {
    "text": "updates the vending pass balance actually executes some less than a second so idea that we would burn 90",
    "start": "885320",
    "end": "893000"
  },
  {
    "text": "seconds of idle time and compute to do less than a second of work made us we",
    "start": "893000",
    "end": "898070"
  },
  {
    "text": "felt like maybe we could be better and so it turns out that with the pricing model of state machines versus compute",
    "start": "898070",
    "end": "905240"
  },
  {
    "text": "time with lambda and the state transition cost etc it is more cost-effective for us to implement this",
    "start": "905240",
    "end": "910910"
  },
  {
    "text": "using step functions so ADA has found",
    "start": "910910",
    "end": "916579"
  },
  {
    "start": "914000",
    "end": "943000"
  },
  {
    "text": "that among their customers this pattern of scheduling this need to schedule",
    "start": "916579",
    "end": "921980"
  },
  {
    "text": "future work was so common that they created a task timer blueprint and you",
    "start": "921980",
    "end": "927380"
  },
  {
    "text": "can find this blueprint online on the database stock site if you need to do workload some one to what we've doing or",
    "start": "927380",
    "end": "933440"
  },
  {
    "text": "some other things that I think Tim will talk about later this is a great place to get started so thanks to Tim and the step",
    "start": "933440",
    "end": "939470"
  },
  {
    "text": "functions team for putting that together for all of us alright moving on to our",
    "start": "939470",
    "end": "945590"
  },
  {
    "start": "943000",
    "end": "990000"
  },
  {
    "text": "next example and this is a big one big one the Food and Drug Administration",
    "start": "945590",
    "end": "953870"
  },
  {
    "text": "here in the United States published new requirements for nutrition fact panels",
    "start": "953870",
    "end": "959150"
  },
  {
    "text": "in 2016 there are some significant changes you can see here for example calories are more visible but additional",
    "start": "959150",
    "end": "967820"
  },
  {
    "text": "information has been added like added sugars also more details are provided",
    "start": "967820",
    "end": "973040"
  },
  {
    "text": "around certain nutrients that are contained within the food so you can imagine that this is a really big deal",
    "start": "973040",
    "end": "979310"
  },
  {
    "text": "for us we sell over a hundred different brands in the United States and over 800 different packaged configurations that's",
    "start": "979310",
    "end": "986420"
  },
  {
    "text": "roughly eight hundred fact panels that need to be updated it's also a big deal for our food service partners because",
    "start": "986420",
    "end": "992510"
  },
  {
    "start": "990000",
    "end": "1006000"
  },
  {
    "text": "they are required to display nutrition information on premise in the restaurant they also sometimes need to publish it",
    "start": "992510",
    "end": "1000460"
  },
  {
    "text": "online and so they need our nutrition information to comply with these guidelines so we've been doing this for",
    "start": "1000460",
    "end": "1008740"
  },
  {
    "start": "1006000",
    "end": "1191000"
  },
  {
    "text": "a while the original fact panels you know it dates from the 90s and we have existing infrastructure and personnel to",
    "start": "1008740",
    "end": "1016230"
  },
  {
    "text": "you know ensure that we're complying with the FDA guidelines the team within",
    "start": "1016230",
    "end": "1021880"
  },
  {
    "text": "coca-cola that is responsible for making sure we're compliant is called scientific scientific and regulatory",
    "start": "1021880",
    "end": "1027970"
  },
  {
    "text": "affairs and I'm gonna refer to them as SRA for the rest of this presentation and they work with the nutrition",
    "start": "1027970",
    "end": "1034569"
  },
  {
    "text": "database you know they do nutrition analysis on each one of our products and",
    "start": "1034570",
    "end": "1039670"
  },
  {
    "text": "then they store that analysis in the database and they publish it which sends it to a downstream system that our",
    "start": "1039670",
    "end": "1045220"
  },
  {
    "text": "packaging and graphics team uses to actually print it out on labels and boxes and etc so as you can see",
    "start": "1045220",
    "end": "1055300"
  },
  {
    "text": "foreshadowing on the slide initially we had some problems with our our legacy",
    "start": "1055300",
    "end": "1061150"
  },
  {
    "text": "platform when the SRA personnel when the sir a staffer would publish data",
    "start": "1061150",
    "end": "1068809"
  },
  {
    "text": "that would cause a mash-up of stored procedures and shell scripts and legacy",
    "start": "1068809",
    "end": "1074960"
  },
  {
    "text": "ETL jobs to swing in action and then about 18 hours later data would show up",
    "start": "1074960",
    "end": "1080899"
  },
  {
    "text": "downstream and it was very often invalid or malformed and so then that of course",
    "start": "1080899",
    "end": "1086149"
  },
  {
    "text": "necessitates a round of communication between disparate teams so that it's additional hours we've got to trace down",
    "start": "1086149",
    "end": "1091669"
  },
  {
    "text": "the problem we've got to fix it and then just to verify that things are fixed correctly you're looking in it another",
    "start": "1091669",
    "end": "1096740"
  },
  {
    "text": "18 hours okay so 800 fact panels 18",
    "start": "1096740",
    "end": "1103070"
  },
  {
    "text": "hours best case you can see how this might not work out for us we needed a",
    "start": "1103070",
    "end": "1108919"
  },
  {
    "text": "faster better way so the first architectural mood we made was to lift all of the transformation processes and",
    "start": "1108919",
    "end": "1117230"
  },
  {
    "text": "validation and business rolls out of stored procedures and shell scripts and ETL jobs and to put them into step",
    "start": "1117230",
    "end": "1123019"
  },
  {
    "text": "functions so now when our SRA personnel published nutrition data it simply emits raw data into the step",
    "start": "1123019",
    "end": "1132049"
  },
  {
    "text": "function where the processing begins even better if there's a problem in the",
    "start": "1132049",
    "end": "1137179"
  },
  {
    "text": "data if a validation issue is caught and detected an email alert is sent to our",
    "start": "1137179",
    "end": "1142580"
  },
  {
    "text": "SRA staff they get an immediate feedback if there's a problem as soon as they click publish if there's an issue and",
    "start": "1142580",
    "end": "1148519"
  },
  {
    "text": "email drops in their inbox that means that all of that conversation between a bunch of people is completely obviated",
    "start": "1148519",
    "end": "1154700"
  },
  {
    "text": "and necessary now so provided that everything's working out data shows up downstream nice and clean packaging team",
    "start": "1154700",
    "end": "1162320"
  },
  {
    "text": "has nothing to worry about this process this process takes 10 seconds so we had 18 hours best case to",
    "start": "1162320",
    "end": "1171110"
  },
  {
    "text": "get the job done but very likely double that at least and we've reduced that down to 10",
    "start": "1171110",
    "end": "1176240"
  },
  {
    "text": "seconds so we're in a much much better shape now to adhere to our very very important regulatory guidelines and then",
    "start": "1176240",
    "end": "1184220"
  },
  {
    "text": "obviously as we produce more products in the future we have less effort to comply",
    "start": "1184220",
    "end": "1189499"
  },
  {
    "text": "with FDA rules a really nice upshot though of adopting step functions and",
    "start": "1189499",
    "end": "1195289"
  },
  {
    "start": "1191000",
    "end": "1280000"
  },
  {
    "text": "this was pretty unexpected I think is that it's it facilitated communication",
    "start": "1195289",
    "end": "1200379"
  },
  {
    "text": "between very different groups of people on the one hand you have sra who are unlike",
    "start": "1200379",
    "end": "1206980"
  },
  {
    "text": "most people experts in nutrition and FDA guidelines and on the other hand you have developers who like a lot of people",
    "start": "1206980",
    "end": "1213639"
  },
  {
    "text": "in this room know how to code and deliver software and so the visual",
    "start": "1213639",
    "end": "1219639"
  },
  {
    "text": "medium of step functions was in exchange for ideas and it began with Mary from",
    "start": "1219639",
    "end": "1225820"
  },
  {
    "text": "SRA creating data flow diagrams and decision trees and whatever and then",
    "start": "1225820",
    "end": "1231490"
  },
  {
    "text": "sharing those with Terry the developer who would then implement them as a step function once that was done those two",
    "start": "1231490",
    "end": "1237850"
  },
  {
    "text": "shouldered up and then they logged into the AWS console together and then they watched in real time the state flow they",
    "start": "1237850",
    "end": "1246100"
  },
  {
    "text": "sent in known good data they sent in known bad data and they verify that everything worked as expected a great",
    "start": "1246100",
    "end": "1252009"
  },
  {
    "text": "advantage here is that through observing this Mary could identify optimizations",
    "start": "1252009",
    "end": "1258039"
  },
  {
    "text": "she could see where new validation and new transformations could be introduced that actually provided value to the",
    "start": "1258039",
    "end": "1263110"
  },
  {
    "text": "overall business and that could never have happened if we didn't have the ability to watch the state function the",
    "start": "1263110",
    "end": "1270429"
  },
  {
    "text": "step function operate in real time so it's worth mentioning that parry and Mary great team they are real people",
    "start": "1270429",
    "end": "1276789"
  },
  {
    "text": "just not these people this is the entire",
    "start": "1276789",
    "end": "1282460"
  },
  {
    "text": "architecture of the system and we are going to step through this have fun intended one step at a time",
    "start": "1282460",
    "end": "1289029"
  },
  {
    "text": "applause no okay so step one changes the nutrition data",
    "start": "1289029",
    "end": "1294940"
  },
  {
    "text": "are published that sends a raw JSON payload request to an API gateway endpoint that JSON is stored in",
    "start": "1294940",
    "end": "1302529"
  },
  {
    "text": "ElastiCache key value pair the key is published to an SNS topic that then initiates the execution of a step",
    "start": "1302529",
    "end": "1309009"
  },
  {
    "text": "function which operates against that data that's stored in the last in cache an issue with the data is detected and s",
    "start": "1309009",
    "end": "1317320"
  },
  {
    "text": "emails sent via SES to an SRA group",
    "start": "1317320",
    "end": "1323129"
  },
  {
    "text": "provided everything's okay the data flow Forks on the one hand it goes up it's",
    "start": "1323129",
    "end": "1328450"
  },
  {
    "text": "stored in Aurora that effectively publishes it through an API that's hosted an API gateway native is lambda",
    "start": "1328450",
    "end": "1334720"
  },
  {
    "text": "this is where our foodservice sorry this is where food service partners can pick up arm for our",
    "start": "1334720",
    "end": "1341059"
  },
  {
    "text": "nutrition data on the other hand a message is published new another SNS topic that triggers the execution of",
    "start": "1341059",
    "end": "1347690"
  },
  {
    "text": "another set function which simply takes the valid data and then moulds it into a",
    "start": "1347690",
    "end": "1352730"
  },
  {
    "text": "format where it can be more easily ingested into Salesforce this particular",
    "start": "1352730",
    "end": "1358669"
  },
  {
    "text": "step function the transform formula nutrition step function is the hub of",
    "start": "1358669",
    "end": "1363769"
  },
  {
    "text": "this entire architecture so we're gonna look at this one a little more detail yes you might notice one thing it's huge",
    "start": "1363769",
    "end": "1371210"
  },
  {
    "start": "1367000",
    "end": "1386000"
  },
  {
    "text": "this is no to state state machine like our prior example there are actually 94",
    "start": "1371210",
    "end": "1376580"
  },
  {
    "text": "tasks in this state machine so we're not gonna look at all of those I would like",
    "start": "1376580",
    "end": "1382580"
  },
  {
    "text": "to focus though on this first set of parallel state machines I kind of think",
    "start": "1382580",
    "end": "1388850"
  },
  {
    "start": "1386000",
    "end": "1450000"
  },
  {
    "text": "of them as mini state machines that before very specific units of work so we have a mini state machine that validates",
    "start": "1388850",
    "end": "1396320"
  },
  {
    "text": "that there's a canonical ID another one that validates the serving size fo and another one that verifies that the data",
    "start": "1396320",
    "end": "1402799"
  },
  {
    "text": "is good for fact panels have display more than one serving size anyway so",
    "start": "1402799",
    "end": "1408379"
  },
  {
    "text": "each one of those smaller state machines results in a boolean value it's did it work or not true or false so those",
    "start": "1408379",
    "end": "1415580"
  },
  {
    "text": "boolean values are aggregated by a set of tasks for the downstream if",
    "start": "1415580",
    "end": "1420649"
  },
  {
    "text": "everything's true you know it the state machine branch continues to do more work",
    "start": "1420649",
    "end": "1425840"
  },
  {
    "text": "in the case that invalid data was detected so in this example invalid",
    "start": "1425840",
    "end": "1432080"
  },
  {
    "text": "serving size data was detected that little state machine branch goes down a",
    "start": "1432080",
    "end": "1437120"
  },
  {
    "text": "different flows down a different branch that creates that valid that error specific email body and then it has",
    "start": "1437120",
    "end": "1445039"
  },
  {
    "text": "another task that sends that email out through SES that fails state that",
    "start": "1445039",
    "end": "1450559"
  },
  {
    "text": "boolean value is detected and then it causes the entire state machine to flow into a fail state which ends the step",
    "start": "1450559",
    "end": "1456980"
  },
  {
    "text": "function execution so this has all worked very well for us like I said we",
    "start": "1456980",
    "end": "1463340"
  },
  {
    "start": "1459000",
    "end": "1518000"
  },
  {
    "text": "had this this surprising win and how productive we could be",
    "start": "1463340",
    "end": "1469089"
  },
  {
    "text": "by reducing the distance and the communication between our business and our development team at the same time",
    "start": "1469089",
    "end": "1476289"
  },
  {
    "text": "allowing business and development to view the action of the state function in real time opened up a lot of",
    "start": "1476289",
    "end": "1481689"
  },
  {
    "text": "possibilities in terms of enhancements and improvements that could be quickly implemented thanks to our ace developer",
    "start": "1481689",
    "end": "1489269"
  },
  {
    "text": "one thing we're still working on managing large state machines 94 tasks can be unwieldy if not handled properly",
    "start": "1489269",
    "end": "1497739"
  },
  {
    "text": "we've started to migrate this work away I think we actually have migrated the configuration into the server list",
    "start": "1497739",
    "end": "1504009"
  },
  {
    "text": "development framework it has a plugin for step functions and it just allows us",
    "start": "1504009",
    "end": "1509109"
  },
  {
    "text": "to more cleanly define our tasks and bind the land of functions that are those tasks are using in one place oh",
    "start": "1509109",
    "end": "1518969"
  },
  {
    "start": "1518000",
    "end": "1591000"
  },
  {
    "text": "right so we can Tim we promised these people code yeah you can't sit down",
    "start": "1521069",
    "end": "1526629"
  },
  {
    "text": "until you've done some code here so this is from one of the branches at the top of your of your three-way Fork parallel",
    "start": "1526629",
    "end": "1535989"
  },
  {
    "text": "validation at the top and I ran a script",
    "start": "1535989",
    "end": "1541569"
  },
  {
    "text": "over this thing and I noticed that in this thing there were 39 distinct lambda functions so yeah Wow yeah so our",
    "start": "1541569",
    "end": "1549609"
  },
  {
    "text": "development team took the are here to the single responsibility principle software design and the outcome of that",
    "start": "1549609",
    "end": "1556209"
  },
  {
    "text": "is that we have very granular very atomic and lambda functions so that means that they can be composed to",
    "start": "1556209",
    "end": "1562989"
  },
  {
    "text": "perform a larger unit of work like one of those three parallel state machines or a lambda can be reused and that",
    "start": "1562989",
    "end": "1570729"
  },
  {
    "text": "happens frequently anytime we send an email we are in fact invoking one lambda",
    "start": "1570729",
    "end": "1576489"
  },
  {
    "text": "it just happens to be bound to different tasks I seem to think that's the way they taught us to do software in school",
    "start": "1576489",
    "end": "1581559"
  },
  {
    "text": "you know by the way we're gonna be looking at a few state machines and I light up the state names in purple and all of them so that's you know we can",
    "start": "1581559",
    "end": "1587679"
  },
  {
    "text": "talk about easy way to find things on the screen another thing I found in there was oh this was the exit of one of",
    "start": "1587679",
    "end": "1594789"
  },
  {
    "start": "1591000",
    "end": "1665000"
  },
  {
    "text": "your parent of your parallel states and way down at the bottom there's this bit of code um what's going on with that output path",
    "start": "1594789",
    "end": "1601929"
  },
  {
    "text": "there sure so again this is uh this a little more of the configuration for the",
    "start": "1601929",
    "end": "1607600"
  },
  {
    "text": "smaller state machine that verified that there was a canonical ID in any case you",
    "start": "1607600",
    "end": "1613360"
  },
  {
    "text": "know if you look at this we have a choice state and you know if the things are true we move down into this this",
    "start": "1613360",
    "end": "1619659"
  },
  {
    "text": "drink code ballot task so what we have to do is we have the in the state machine execution for that little state",
    "start": "1619659",
    "end": "1626980"
  },
  {
    "text": "right and that's exactly what this succeed type task does it does no work it just is the execution of the running",
    "start": "1626980",
    "end": "1633640"
  },
  {
    "text": "state machine at the same time though because we're we have three state machines running parallel little state",
    "start": "1633640",
    "end": "1638950"
  },
  {
    "text": "machines running in parallel and we want to aggregate the true or false value for each one we have to pass out the result",
    "start": "1638950",
    "end": "1645730"
  },
  {
    "text": "of the validation and that's why we're using that output path so in fact you're throwing away everything but the boolean",
    "start": "1645730",
    "end": "1651220"
  },
  {
    "text": "that's right and then we test that further downstream you know interestingly when we were designing the service I didn't think the output path",
    "start": "1651220",
    "end": "1657190"
  },
  {
    "text": "field was necessary and I didn't want to put it in and the team got together and shouted me down and apparently they were",
    "start": "1657190",
    "end": "1662260"
  },
  {
    "text": "right and I wasn't wrong so I ran another script over this and came up with this and I thought and I pulled out",
    "start": "1662260",
    "end": "1669039"
  },
  {
    "start": "1665000",
    "end": "1758000"
  },
  {
    "text": "the state names and so Wow now that's what you call a state name yeah yeah",
    "start": "1669039",
    "end": "1674679"
  },
  {
    "text": "yeah that's that's that's huge",
    "start": "1674679",
    "end": "1680130"
  },
  {
    "text": "we won the longest state name award people yeah so yes if I parse this out",
    "start": "1680279",
    "end": "1687549"
  },
  {
    "text": "right prepared notification cannot modify for me a lot and drafts house air well embedded in there is is a business",
    "start": "1687549",
    "end": "1694330"
  },
  {
    "text": "rule we cannot modify formulas that are not in draft status so you may not know",
    "start": "1694330",
    "end": "1699460"
  },
  {
    "text": "what that mean I don't know what that means what SRA knows what that means and in",
    "start": "1699460",
    "end": "1704890"
  },
  {
    "text": "fact we do end up with some fairly robust task names but that is because we",
    "start": "1704890",
    "end": "1710320"
  },
  {
    "text": "work directly with the business to to find them and that's very important when we talk about posterity we're gonna have",
    "start": "1710320",
    "end": "1715960"
  },
  {
    "text": "to maintain this in the future we'll probably have to enhance it in the future and being able to capture the",
    "start": "1715960",
    "end": "1723010"
  },
  {
    "text": "business domain and represent that in a way that our business can understand is critical it's going to save us a bunch",
    "start": "1723010",
    "end": "1728320"
  },
  {
    "text": "of time in the future obviously so I will say that perhaps there's",
    "start": "1728320",
    "end": "1733360"
  },
  {
    "text": "tune in the future to make this a little more semantically fluid and yeah we can put white spaces in there it's awesome",
    "start": "1733360",
    "end": "1739200"
  },
  {
    "text": "but at the same time you know our goal of being able to communicate what this thing is doing to the business has been",
    "start": "1739200",
    "end": "1745600"
  },
  {
    "text": "achieved okay well there you go so coke started small and they've gone big I",
    "start": "1745600",
    "end": "1750850"
  },
  {
    "text": "think we can all agree that's an impressive piece of work and I sure learned a few things looking at so thank you kindly Patrick you're welcome",
    "start": "1750850",
    "end": "1758430"
  },
  {
    "text": "I want to take a very quick side trip I noticed you know so so Patrick sent",
    "start": "1761600",
    "end": "1767570"
  },
  {
    "text": "this thing down for me to look at and it wouldn't fit on any of my screens and I have some really big screens so I found myself running little scripts over it",
    "start": "1767570",
    "end": "1773840"
  },
  {
    "text": "and I think there's a lesson in that the fact that the state's language is in JSON makes it extremely tractable to do",
    "start": "1773840",
    "end": "1780590"
  },
  {
    "text": "that kind of thing we were under some pressure to make to embed it in Python or make it more like a programming language which had some",
    "start": "1780590",
    "end": "1787910"
  },
  {
    "text": "advantages and was not an insane idea but at the moment I'm kind of glad that it's that it's in JSON so I can do some",
    "start": "1787910",
    "end": "1793130"
  },
  {
    "text": "automated analysis and in fact after I looked at it I confessed that I ran a script to find the longest date names",
    "start": "1793130",
    "end": "1798380"
  },
  {
    "text": "just so I could make that slide make that slide so thanks Patrick so let's talk about some other kinds of state",
    "start": "1798380",
    "end": "1803960"
  },
  {
    "start": "1802000",
    "end": "1828000"
  },
  {
    "text": "machines so this one isn't terribly complex or deep but this one came across",
    "start": "1803960",
    "end": "1809809"
  },
  {
    "text": "my radar while I was looking at that 90 second delay problem that the Koch had and who say I'll have a bunch of",
    "start": "1809809",
    "end": "1819409"
  },
  {
    "text": "marketing related products but they're real special niche is working with media influencers which is a very common",
    "start": "1819409",
    "end": "1825679"
  },
  {
    "text": "marketing vector these days and what they want to do is when a celebrity or influencer or posts they it's their job",
    "start": "1825679",
    "end": "1832640"
  },
  {
    "start": "1828000",
    "end": "1871000"
  },
  {
    "text": "to figure out what the impact of was that and quantify it and measure it and do lots of analytics on it and that",
    "start": "1832640",
    "end": "1840260"
  },
  {
    "text": "turns out to be a very time-sensitive thing and I think anybody who has has",
    "start": "1840260",
    "end": "1847610"
  },
  {
    "text": "the social media following knows the feeling you know you come to work on Thursday and some tweet you did on Tuesday got picked up by hacker news and",
    "start": "1847610",
    "end": "1854990"
  },
  {
    "text": "your blog post now has 25,000 views so these people need to understand that kind of flow of influence around the",
    "start": "1854990",
    "end": "1861559"
  },
  {
    "text": "social media ecosystem so so coke got the you know got a substantial business",
    "start": "1861559",
    "end": "1868220"
  },
  {
    "text": "benefit from putting a single 90 second delay in there and these guys took that to the max so at one level this is the",
    "start": "1868220",
    "end": "1877130"
  },
  {
    "start": "1871000",
    "end": "1937000"
  },
  {
    "text": "simplest thing in the world they use lambda to run their analytics fully stateless up a server less",
    "start": "1877130",
    "end": "1882169"
  },
  {
    "text": "application and they have one parallel state with eleven wait states in it and launched the lambda 11 times in case you",
    "start": "1882169",
    "end": "1888590"
  },
  {
    "text": "can't read the text on the screen they wait for one five and thirty minutes",
    "start": "1888590",
    "end": "1893750"
  },
  {
    "text": "then one to six and twelve hours and then one to seven and 14 days and then",
    "start": "1893750",
    "end": "1901360"
  },
  {
    "text": "arrests the analytics and in that that's actually a capture from a live running",
    "start": "1901360",
    "end": "1907490"
  },
  {
    "text": "in execution and you can see that the one minute thing aspired but the rest of them the five minute hasn't yet it's",
    "start": "1907490",
    "end": "1912920"
  },
  {
    "text": "still coming along well you could have a similar effect I guess by having you know something running on an on a server",
    "start": "1912920",
    "end": "1918800"
  },
  {
    "text": "that wakes up every minute and looks in a database to see if it's going to do anything but you know most times it wouldn't and you'd have to write the",
    "start": "1918800",
    "end": "1924890"
  },
  {
    "text": "code to look in the database and you'd have to write the database and why would you do that when you know you can just",
    "start": "1924890",
    "end": "1931190"
  },
  {
    "text": "do this I said I'd show you the code but I'm not going to show you the code for this one because it's boring you know",
    "start": "1931190",
    "end": "1937910"
  },
  {
    "start": "1937000",
    "end": "1992000"
  },
  {
    "text": "from their point of view it isn't so much what this machine does is that you can because you can describe that in a",
    "start": "1937910",
    "end": "1943280"
  },
  {
    "text": "single sentence it's how easy it was to set up and you know if there's one thing I'm trying to point I'm trying to make",
    "start": "1943280",
    "end": "1948380"
  },
  {
    "text": "in this presentation is that one this is a simple service it has no abstractions",
    "start": "1948380",
    "end": "1954110"
  },
  {
    "text": "it has no in directions it has no new concepts in our work life it is the most",
    "start": "1954110",
    "end": "1959570"
  },
  {
    "text": "sense common thing in the world to say well first we do this then we do that or you know we're going to do these things",
    "start": "1959570",
    "end": "1965300"
  },
  {
    "text": "sometime over the next week or you know we need to schedule a bunch of stuff to happen over the next quarter and that's",
    "start": "1965300",
    "end": "1970400"
  },
  {
    "text": "the exact kind of business process we're trying to model in a very direct non",
    "start": "1970400",
    "end": "1975530"
  },
  {
    "text": "abstract way in here so having said that it's not all as simple as this you know as we've seen in the Koch example let's",
    "start": "1975530",
    "end": "1982460"
  },
  {
    "text": "look at a couple of other applications both of these come from the world of video processing but they do totally",
    "start": "1982460",
    "end": "1989120"
  },
  {
    "text": "different things and I think they illustrate different points so first of all let's look at the Thompson Reuters application now it may be the case that",
    "start": "1989120",
    "end": "1996590"
  },
  {
    "start": "1992000",
    "end": "2024000"
  },
  {
    "text": "we have one of the people who wrote this in the audience Jeffrey are you here oh okay there's this Jeffrey so Jeffrey can",
    "start": "1996590",
    "end": "2002410"
  },
  {
    "text": "you come out with us afterwards in case people want to talk about this and tell you how you did that all wrong okay",
    "start": "2002410",
    "end": "2008600"
  },
  {
    "text": "so so Thomson Reuters is a news news company obviously and are very",
    "start": "2008600",
    "end": "2015020"
  },
  {
    "text": "widespread and influential and if you follow the news at all it's very unlikely you can get through a day without reading one of their stories or",
    "start": "2015020",
    "end": "2021620"
  },
  {
    "text": "seeing one of their video clips and they get a lot of video each day coming in",
    "start": "2021620",
    "end": "2027890"
  },
  {
    "start": "2024000",
    "end": "2072000"
  },
  {
    "text": "and they need to transcode it into 14 different formats to put it out on their",
    "start": "2027890",
    "end": "2033440"
  },
  {
    "text": "many many channels and these vary wildly in their length you know from a three second clip of a bomb going off to a",
    "start": "2033440",
    "end": "2039890"
  },
  {
    "text": "thirty minute interview with a news maker and they need to transcode it and",
    "start": "2039890",
    "end": "2045130"
  },
  {
    "text": "since this is news they need to do it fast no delays they do it mostly with",
    "start": "2045130",
    "end": "2050690"
  },
  {
    "text": "ffmpeg and anybody who's worked with video is now nodding because you know kind of more or less everything is done with ffmpeg and that's a good piece of",
    "start": "2050690",
    "end": "2058040"
  },
  {
    "text": "software but it's it's single threaded so if you have you know a thirty minute video clip you can end up and you want",
    "start": "2058040",
    "end": "2063230"
  },
  {
    "text": "to transcode it you can end up running ffmpeg for 30 minutes to accomplish that effect which is entirely unsatisfactory",
    "start": "2063230",
    "end": "2068929"
  },
  {
    "text": "if you're a news organization so how do they solve this problem well there you",
    "start": "2068930",
    "end": "2074120"
  },
  {
    "start": "2072000",
    "end": "2123000"
  },
  {
    "text": "go they it turns out that if you look inside video there are certain frames that are special called keyframes they",
    "start": "2074120",
    "end": "2079610"
  },
  {
    "text": "come along every half second or so and to oversimplify the keyframe has the whole picture and the next few frames or deltas against it so like it says there",
    "start": "2079610",
    "end": "2087080"
  },
  {
    "text": "they took it and split it apart and you know if you think about it at least answer 1/2 seconds long in a 10-minute",
    "start": "2087080",
    "end": "2092360"
  },
  {
    "text": "video there's going to bet 10 minutes that's 600 seconds so there's going to be 1200 of these little fragments so",
    "start": "2092360",
    "end": "2099110"
  },
  {
    "text": "they'll split them up now they have one linear thing they have to run through the whole thing to find the key frames but that's the only linear thing once you've done it they",
    "start": "2099110",
    "end": "2105680"
  },
  {
    "text": "can do the transcoding on all the pieces in parallel and put them put them back together and in principle they can take",
    "start": "2105680",
    "end": "2111800"
  },
  {
    "text": "this and not only in principle in practice they can take things down from many minutes to to a small number of",
    "start": "2111800",
    "end": "2117830"
  },
  {
    "text": "seconds now let's dive into this and look at it because there's a bunch of interesting stuff happening happening",
    "start": "2117830",
    "end": "2123680"
  },
  {
    "start": "2123000",
    "end": "2158000"
  },
  {
    "text": "happening in here so I took that state machine and broke it up into two parts so we can fit it onto the slide and you",
    "start": "2123680",
    "end": "2131960"
  },
  {
    "text": "know one of the big problems they fought with and wasn't the step function sparked it was the fact that ffmpeg",
    "start": "2131960",
    "end": "2138560"
  },
  {
    "text": "wants to write into files and you know writing into files the disk is not exactly a best practice",
    "start": "2138560",
    "end": "2143810"
  },
  {
    "text": "in your serverless lamda application but you know that's what FM ffmpeg wants to do in a particular when they've broken",
    "start": "2143810",
    "end": "2149930"
  },
  {
    "text": "everything part apart and they want to put it back together again that's going to create a big honking video file and",
    "start": "2149930",
    "end": "2155030"
  },
  {
    "text": "so they did this following clever trick which I just wanted to share with the geeks in the crowd for its for its cool",
    "start": "2155030",
    "end": "2160820"
  },
  {
    "start": "2158000",
    "end": "2217000"
  },
  {
    "text": "factor so they told ffmpeg to write it to a file which is actually a named pipe that pipes into an AWS CLI command that",
    "start": "2160820",
    "end": "2168770"
  },
  {
    "text": "dumps it out into an s3 bucket extra points for cleverness I say now if you",
    "start": "2168770",
    "end": "2174650"
  },
  {
    "text": "actually know they're still fighting with some problems because when they do the split ffmpeg takes a file name",
    "start": "2174650",
    "end": "2180950"
  },
  {
    "text": "template and wants to write a bunch of little files and so you know no problem no applications are problem free but",
    "start": "2180950",
    "end": "2186710"
  },
  {
    "text": "their problems aren't step functions problems anyhow the structure of the state machine is easy enough to",
    "start": "2186710",
    "end": "2192680"
  },
  {
    "text": "understand on the left hand they run through and get ready to do the split and I had to ask myself why does it take",
    "start": "2192680",
    "end": "2199490"
  },
  {
    "text": "six states to to get ready and do the split so we'll look inside and see and then on the right they loop around wait",
    "start": "2199490",
    "end": "2205520"
  },
  {
    "text": "for results wait for results wait for results until it's done and I looked at this and I could not see how on earth",
    "start": "2205520",
    "end": "2210560"
  },
  {
    "text": "they were getting any parallelism because there is no obvious parallelism in that state machine so I asked",
    "start": "2210560",
    "end": "2216590"
  },
  {
    "text": "Geoffrey and here's what they did is they break they get their thousand or two thousand or three thousand or",
    "start": "2216590",
    "end": "2222320"
  },
  {
    "start": "2217000",
    "end": "2265000"
  },
  {
    "text": "whatever segments and they blast them all into s3 as little object puts and they wired up s3 to fire a lambda for",
    "start": "2222320",
    "end": "2228980"
  },
  {
    "text": "each one so you know they're bypassing all this high-level machinery and think",
    "start": "2228980",
    "end": "2233990"
  },
  {
    "text": "about this you know it's 10 minutes 1200 segments 1200 lambdas they each take like three seconds to to transcode a",
    "start": "2233990",
    "end": "2241070"
  },
  {
    "text": "half second and your works all done then you just have to glue it back together once again I gotta say that's that",
    "start": "2241070",
    "end": "2247160"
  },
  {
    "text": "seriously clever and then when they do the split you can look at the state step functions there they just wait three",
    "start": "2247160",
    "end": "2252920"
  },
  {
    "text": "seconds oh and the reason this works is they know how many segments they got right so they just wait three seconds to",
    "start": "2252920",
    "end": "2258320"
  },
  {
    "text": "see oh or all the output segments there now wait three seconds and that's how it works now let's dive in and actually",
    "start": "2258320",
    "end": "2263600"
  },
  {
    "text": "look at some of the code here so here are those six states at the front the place that they line up to to actually",
    "start": "2263600",
    "end": "2269390"
  },
  {
    "start": "2265000",
    "end": "2300000"
  },
  {
    "text": "do the do the split up and now and when we designed the past state and you know",
    "start": "2269390",
    "end": "2274670"
  },
  {
    "text": "if you look at this you can see there's a bunch of past states here I don't actually got it lit up in the",
    "start": "2274670",
    "end": "2279950"
  },
  {
    "text": "slide there we go when we designed the past date we were thinking of that as",
    "start": "2279950",
    "end": "2285470"
  },
  {
    "text": "perhaps mostly a debugging tool but they're actually using it to insert fields in in the data using the result",
    "start": "2285470",
    "end": "2291110"
  },
  {
    "text": "path thing Dollard they're setting the operation field to the value prepare split so they're sort of setting up",
    "start": "2291110",
    "end": "2296990"
  },
  {
    "text": "codes in there so I was scratching my head and looking at this and noticed that it's all the same lambda function",
    "start": "2296990",
    "end": "2302840"
  },
  {
    "start": "2300000",
    "end": "2360000"
  },
  {
    "text": "all the lambda functions that they're running through here are the same lambda function and so I asked Geoffrey what's",
    "start": "2302840",
    "end": "2308870"
  },
  {
    "text": "going on here and he pointed out that basically all these things are just running ffmpeg so they've got you know a",
    "start": "2308870",
    "end": "2314480"
  },
  {
    "text": "bunch of little things that decide what the ffmpeg arguments are based on the opcode and fires off ffmpeg and they said well you know that was the simplest",
    "start": "2314480",
    "end": "2321260"
  },
  {
    "text": "way to run it and manage their software because all the stuff is there in one place that reads arguments and and sets",
    "start": "2321260",
    "end": "2326360"
  },
  {
    "text": "things up so what's the best practice hey let's have a vote let's shut ourselves into baskets the bat there's",
    "start": "2326360",
    "end": "2332360"
  },
  {
    "text": "gonna be one basket people who believe in having lots of small single purpose lambda functions and another basket who are sympathetic with combining at also",
    "start": "2332360",
    "end": "2339230"
  },
  {
    "text": "whose in the many many functions basket oh yeah thank you would be wouldn't you",
    "start": "2339230",
    "end": "2344330"
  },
  {
    "text": "right and who's in the shrinking down a little bit and have a manageable number you see we're still making up the best",
    "start": "2344330",
    "end": "2351020"
  },
  {
    "text": "practices we don't even know yet you know we you know it's it's it's it's a fun time to be doing this stuff what",
    "start": "2351020",
    "end": "2357260"
  },
  {
    "text": "else is interesting in here let's go on and look at their loop their loop is a little bit interesting so they wait for",
    "start": "2357260",
    "end": "2365330"
  },
  {
    "start": "2360000",
    "end": "2410000"
  },
  {
    "text": "results Tate is at the center of everything and it's using a choice state to basically as a switch on the poll",
    "start": "2365330",
    "end": "2371180"
  },
  {
    "text": "status top level field most times it goes you know to the looper which waits three seconds and then runs the task to",
    "start": "2371180",
    "end": "2377090"
  },
  {
    "text": "check to see if you're done and then the very last step is the one that stitches them all together so well this thing is",
    "start": "2377090",
    "end": "2382160"
  },
  {
    "text": "waking up every three seconds the twelve hundred or so lambda functions are thundering away actually you know providing the business value by doing",
    "start": "2382160",
    "end": "2388910"
  },
  {
    "text": "the transcoding and then in the last last state down there they they stitch everything together now one other thing",
    "start": "2388910",
    "end": "2394850"
  },
  {
    "text": "that's on our roadmap is to enable you to run a child workflow in a task state and if we had that now they could have",
    "start": "2394850",
    "end": "2400100"
  },
  {
    "text": "probably lost two or three of the states in here just run the child workflow and put a standard step function retry in",
    "start": "2400100",
    "end": "2405350"
  },
  {
    "text": "there but that'll be coming before too long so what are the lessons of doing this so",
    "start": "2405350",
    "end": "2412319"
  },
  {
    "start": "2410000",
    "end": "2482000"
  },
  {
    "text": "so basically the max amount mungs maximum size of video that these guys",
    "start": "2412319",
    "end": "2417930"
  },
  {
    "text": "can can can do this to depends on their lambda limits right how many thousands",
    "start": "2417930",
    "end": "2424829"
  },
  {
    "text": "lambda functions they can run in parallel and it turns out that if you talk to the lambda group actually there was an announcement about that wasn't",
    "start": "2424829",
    "end": "2430199"
  },
  {
    "text": "there today that you can you can now increase the maximum number of lambdas you can learn in a parallel just by asking for it but you know you but I",
    "start": "2430199",
    "end": "2437309"
  },
  {
    "text": "think that only goes up to a few thousand and if you want to do like 120,000 which these guys might want to do they can do that you just have to ask",
    "start": "2437309",
    "end": "2443939"
  },
  {
    "text": "them so they're ready for it let me see so even with you know for",
    "start": "2443939",
    "end": "2449189"
  },
  {
    "text": "half an hour we even with the time scanning so we're looking for four keyframes the whole thing is still going to be under three minutes and execution",
    "start": "2449189",
    "end": "2454979"
  },
  {
    "text": "which is a big win for them and you could you could imagine doing this on ec2 or in ECS but then you'd always be",
    "start": "2454979",
    "end": "2462420"
  },
  {
    "text": "worried about you know scaling up for when you were doing it and scaling back out again and what they've done is they've done the serverless thing and",
    "start": "2462420",
    "end": "2468209"
  },
  {
    "text": "just handed the whole job over to lambda and said you know when there's work do the work and when there's not work don't do the work and don't charge me so this",
    "start": "2468209",
    "end": "2474390"
  },
  {
    "text": "is an example of real but I would call it first-rate serverless thinking and taking the effort out of the scaling",
    "start": "2474390",
    "end": "2482599"
  },
  {
    "start": "2482000",
    "end": "2536000"
  },
  {
    "text": "whole system's doing something - yeah okay I gotta call tech whiz",
    "start": "2482599",
    "end": "2490880"
  },
  {
    "text": "okay let's talk about another application this is a startup called",
    "start": "2490880",
    "end": "2496130"
  },
  {
    "text": "frame frame do and they I don't know how much you know about processing work videos but it's very very workflow",
    "start": "2496130",
    "end": "2503630"
  },
  {
    "text": "intensive and you have teams of people doing various jobs and if you haven't seen it it's mind-boggling the amount of",
    "start": "2503630",
    "end": "2509450"
  },
  {
    "text": "work it takes to produce like a 30-second video segment is is staggering and involves lots of people working",
    "start": "2509450",
    "end": "2515359"
  },
  {
    "text": "together so so frame is all about about automating that and providing a good",
    "start": "2515359",
    "end": "2521180"
  },
  {
    "text": "workbench now they do a lot of video processing of one kind or another and since they are somewhat less newsy and",
    "start": "2521180",
    "end": "2529460"
  },
  {
    "text": "less constrained to get things 200 seconds they do things in a simpler way and in fact they want to do all their",
    "start": "2529460",
    "end": "2535099"
  },
  {
    "text": "short video processing in lambda but if it's a long video ad they'll send it off to a docker container and let the docker",
    "start": "2535099",
    "end": "2541460"
  },
  {
    "text": "container grind away on it until it's done and that works fine so this deceptively simple problem of how to",
    "start": "2541460",
    "end": "2548630"
  },
  {
    "text": "decide you know how am I going to do this work is what drove that the start of this thing so there's there's",
    "start": "2548630",
    "end": "2553849"
  },
  {
    "text": "actually a lot to talk about in in this simple thing they had actually stitched a super ad-hoc thing together based on",
    "start": "2553849",
    "end": "2560900"
  },
  {
    "text": "SNS and a bunch of procedural code reading the SNS topic and so on and it wasn't it wasn't good so what they did",
    "start": "2560900",
    "end": "2567980"
  },
  {
    "start": "2567000",
    "end": "2595000"
  },
  {
    "text": "was they built this and before we say anything else I gotta say this is not a",
    "start": "2567980",
    "end": "2573650"
  },
  {
    "text": "great looking state machine isn't that pretty prettiest one I've seen and so what they did was they used the state machine to",
    "start": "2573650",
    "end": "2579800"
  },
  {
    "text": "pick which execution engine they were going to use and you'll notice that there's a call-out to cloud watch events",
    "start": "2579800",
    "end": "2585200"
  },
  {
    "text": "here and it's a super clever thing I'll come back to that later but there's their state machines so let us dive",
    "start": "2585200",
    "end": "2592310"
  },
  {
    "text": "inside that state machine and look what's happening so here's how they actually go about deciding whether",
    "start": "2592310",
    "end": "2598700"
  },
  {
    "start": "2595000",
    "end": "2647000"
  },
  {
    "text": "they're going to go to ETS or lambda and this is super simple you know they say they're going to go and use a lambda if",
    "start": "2598700",
    "end": "2606680"
  },
  {
    "text": "the asset size is less than two gig or is that 20 gig anyhow a lot of zeros there and they're also going to do it if",
    "start": "2606680",
    "end": "2614270"
  },
  {
    "text": "the the duration is less than 10,000 milliseconds which is to say 10 seconds so that's simple to understand it does",
    "start": "2614270",
    "end": "2622150"
  },
  {
    "text": "make me wonder if when we may when we so it says default you know go and run the",
    "start": "2622150",
    "end": "2627940"
  },
  {
    "text": "EECS encoder if it doesn't meet these conditions maybe we should have just named that belt because you know that's",
    "start": "2627940",
    "end": "2633010"
  },
  {
    "text": "what they're just using it as an else and in fact that's how it's being used in all the state machines I see so let's go and look at how they",
    "start": "2633010",
    "end": "2639190"
  },
  {
    "text": "actually go and run the ECS the the one when they run the lambda encoder there's nothing to it it's just a single task state in the state machine there's",
    "start": "2639190",
    "end": "2644800"
  },
  {
    "text": "nothing fancy about it at all so here's how they go and they run their ECS",
    "start": "2644800",
    "end": "2650130"
  },
  {
    "start": "2647000",
    "end": "2668000"
  },
  {
    "text": "decoder and it's a straight enough task state and they actually use a lambda to",
    "start": "2650130",
    "end": "2656140"
  },
  {
    "text": "kick off the UCS task and that's easy enough to understand but then I kept looking at this and I was thinking what",
    "start": "2656140",
    "end": "2662380"
  },
  {
    "text": "are they doing in English they're there they're trying this thing every 5",
    "start": "2662380",
    "end": "2669580"
  },
  {
    "start": "2668000",
    "end": "2734000"
  },
  {
    "text": "seconds for an hour so I talked to them and I said you know what's going on here and I said well here's what's going on",
    "start": "2669580",
    "end": "2675610"
  },
  {
    "text": "is they are using the ECS run tasks API to do this and it turns out that if your",
    "start": "2675610",
    "end": "2682180"
  },
  {
    "text": "cluster doesn't have anything available to run your container it'll just say no sorry I can't see you later and but that's ok because they've way",
    "start": "2682180",
    "end": "2690310"
  },
  {
    "text": "they've got this set up is that if it's running hot auto-scaling will notice and you know crank up the cluster size a bit",
    "start": "2690310",
    "end": "2696070"
  },
  {
    "text": "and maybe another one will finish running and you know eventually a slot will clear up and it'll work and this",
    "start": "2696070",
    "end": "2702730"
  },
  {
    "text": "kind of looks like using a hammer hit hammer to hit a thumbtack but it actually works just great for them it's",
    "start": "2702730",
    "end": "2708070"
  },
  {
    "text": "totally hands-off you know it doesn't rely on anything very fancy and eventually all their work gets done and",
    "start": "2708070",
    "end": "2713500"
  },
  {
    "text": "they're happy so when they get finished with this they go off to the last state",
    "start": "2713500",
    "end": "2722830"
  },
  {
    "text": "which over there on the bottom right which they go off to a task to a state named ECS task complete which you exist",
    "start": "2722830",
    "end": "2730780"
  },
  {
    "text": "to you know wait until the ECS task has finished its work now are there any Ruby programmers in the room here because if",
    "start": "2730780",
    "end": "2737590"
  },
  {
    "start": "2734000",
    "end": "2797000"
  },
  {
    "text": "there are dick the state name with a question mark at the end that's very very ruby flavored and I liked that I",
    "start": "2737590",
    "end": "2743830"
  },
  {
    "text": "think that's a and so what kind of a state would you put an exclamation at the end of I wonder but in Ruby if",
    "start": "2743830",
    "end": "2749670"
  },
  {
    "text": "you have a function that is basically returns a boolean you always put a question mark in the name of it so",
    "start": "2749670",
    "end": "2754770"
  },
  {
    "text": "that's what they're doing here okay so this choice here is a little bit on the complicated side they have they've got",
    "start": "2754770",
    "end": "2761910"
  },
  {
    "text": "this this complicated and condition which basically says if this thing blew up and our I tried more than three times",
    "start": "2761910",
    "end": "2767760"
  },
  {
    "text": "well we'll go and decide that we failed and and and and and and give up for now",
    "start": "2767760",
    "end": "2774290"
  },
  {
    "text": "the real loop part is over here that",
    "start": "2774290",
    "end": "2779370"
  },
  {
    "text": "just runs back jumps back to this to the to the code on the previous slide and",
    "start": "2779370",
    "end": "2784620"
  },
  {
    "text": "this is another customer who would benefit from being able to just say run a child workflow because once again they",
    "start": "2784620",
    "end": "2790200"
  },
  {
    "text": "could just put some retries on that and it would just go straight through now there's one more interesting thing here",
    "start": "2790200",
    "end": "2795810"
  },
  {
    "text": "which is that both the succeed state and the fail State down here they don't just exit the workflow they",
    "start": "2795810",
    "end": "2802050"
  },
  {
    "start": "2797000",
    "end": "2838000"
  },
  {
    "text": "go and fire cloud watch events now for those of you who don't know what cloud watch events is cloud watch events is a",
    "start": "2802050",
    "end": "2808380"
  },
  {
    "text": "bus that has all your events on it for your AWS account so all your call all",
    "start": "2808380",
    "end": "2814710"
  },
  {
    "text": "your API calls from Cloud trail when ec2 instances start and stop when auto scaling scale up and scale down there's",
    "start": "2814710",
    "end": "2820530"
  },
  {
    "text": "events from like 14 16 or something services in there now and it's really easy to wrote them two lambdas or two",
    "start": "2820530",
    "end": "2826140"
  },
  {
    "text": "state machines or two other things one of the things that's not that well known is that you can put your own events on",
    "start": "2826140",
    "end": "2831450"
  },
  {
    "text": "the event bus with cloud watch events and that's what they've done they've actually put their own custom events on the event bus and this is a lovely",
    "start": "2831450",
    "end": "2840060"
  },
  {
    "start": "2838000",
    "end": "2941000"
  },
  {
    "text": "lovely application so so the way it actually works it's an event-driven architecture it's powered by cloud watch events and",
    "start": "2840060",
    "end": "2847530"
  },
  {
    "text": "they've got multiple state machines each one sort of each they think of as a micro service and I'll sum some of the",
    "start": "2847530",
    "end": "2853260"
  },
  {
    "text": "micro services may have a couple of state machines and when you know the video gets uploaded that generates a",
    "start": "2853260",
    "end": "2858540"
  },
  {
    "text": "cloud watch event that fires the first state machine and then it does its work so it's an it's a fairly intricate three",
    "start": "2858540",
    "end": "2865140"
  },
  {
    "text": "level orchestration the events drive Floyd and roots just launched the state machines and then the state machines in",
    "start": "2865140",
    "end": "2871410"
  },
  {
    "text": "turn orchestrate the lambdas and the accs tasks to get this done and it's all service there's no fleet management code",
    "start": "2871410",
    "end": "2878820"
  },
  {
    "text": "there is no deployment code there's there's just none of that stuff it's like they're not",
    "start": "2878820",
    "end": "2884310"
  },
  {
    "text": "big slide we're inter had in his keynote this morning essentially all the code they wrote was business value code the",
    "start": "2884310",
    "end": "2891990"
  },
  {
    "text": "thing that they were actually doing the work that the management thinks it's paying for not all the other stuff that we have to spend our time doing and",
    "start": "2891990",
    "end": "2898140"
  },
  {
    "text": "would rather not so this whole thing really smells like something like the there's a real serverless application of",
    "start": "2898140",
    "end": "2905520"
  },
  {
    "text": "the future here now they had to do some extra work to accomplish this because",
    "start": "2905520",
    "end": "2911400"
  },
  {
    "text": "they're running this same job through multiple state machines and lambdas and ECS tasks they had to keep track of us",
    "start": "2911400",
    "end": "2919890"
  },
  {
    "text": "so they put a correlation ID now I'm wondering if they would have been able to have done that with x-ray once x-ray",
    "start": "2919890",
    "end": "2926940"
  },
  {
    "text": "is more widely supported across the services but you know what I think it's a pattern here I think it's a pattern that we're gonna start seeing a lot of a",
    "start": "2926940",
    "end": "2933660"
  },
  {
    "text": "lot of people doing correlation ideas just to keep track of units of work as",
    "start": "2933660",
    "end": "2939570"
  },
  {
    "text": "they flow through this kind of postmodern serverless framework so what else worked well for them they they went",
    "start": "2939570",
    "end": "2945840"
  },
  {
    "start": "2941000",
    "end": "3048000"
  },
  {
    "text": "with Sam and Sam is working like a champ for them they went back and forth between Salmons mirrorless and",
    "start": "2945840",
    "end": "2951450"
  },
  {
    "text": "mirrorless is great I love it in their case they didn't really have any multi cloud requirement at all so with Sam",
    "start": "2951450",
    "end": "2957780"
  },
  {
    "text": "they could do it all in cloud formation more or less and so so that worked really well for them the other thing",
    "start": "2957780",
    "end": "2963600"
  },
  {
    "text": "they did that is that I thought was terribly clever is they're using code pipeline and they've actually got code",
    "start": "2963600",
    "end": "2970140"
  },
  {
    "text": "pipelines set up after they built things and deployed it fires off a cloud watch events to pretend that a video has come",
    "start": "2970140",
    "end": "2976230"
  },
  {
    "text": "in and it that in turn sets off the whole cascade of step functions and",
    "start": "2976230",
    "end": "2981690"
  },
  {
    "text": "lambdas and ECS and cloud watch events and there see ICD also post a handler for the cloud watch events they expect",
    "start": "2981690",
    "end": "2987840"
  },
  {
    "text": "to see coming out of the system assuming everything worked so not only is there there there serverless",
    "start": "2987840",
    "end": "2994850"
  },
  {
    "text": "application of the future easy to operate it's easy to test to in a nice",
    "start": "2994850",
    "end": "3002180"
  },
  {
    "text": "hands-off way for those of you who",
    "start": "3002180",
    "end": "3007820"
  },
  {
    "text": "haven't looked at cloud watch events pat even cloud watch events pattern matching go have a look at it it was a big win for these guys it",
    "start": "3007820",
    "end": "3014010"
  },
  {
    "text": "it's a nice little feature from their point of view they are super happy they have something that is totally hands-off",
    "start": "3014010",
    "end": "3021300"
  },
  {
    "text": "requires no administration basically grows and shrinks to to take care of",
    "start": "3021300",
    "end": "3026790"
  },
  {
    "text": "itself operates really really fast they're heading towards running 2,000 a minute or so 2,000 or so videos a minute",
    "start": "3026790",
    "end": "3034500"
  },
  {
    "text": "through this thing and nothing's running hot the costs are very very reasonable to them so so I like this application I",
    "start": "3034500",
    "end": "3041520"
  },
  {
    "text": "want to do a case study or a paper or something on this application it really feels like what what the future is going",
    "start": "3041520",
    "end": "3046860"
  },
  {
    "text": "to look like I'm getting run down here those are all the state machines I'm",
    "start": "3046860",
    "end": "3052830"
  },
  {
    "start": "3048000",
    "end": "3082000"
  },
  {
    "text": "gonna show you but there are lots more of them out there and there's the URL",
    "start": "3052830",
    "end": "3059880"
  },
  {
    "text": "for them you know you can write it down or you can wait for this to go on YouTube and just capture it from there or each go to the state machines console",
    "start": "3059880",
    "end": "3065700"
  },
  {
    "text": "and it's right there so we have a lot more sample state machines out there go",
    "start": "3065700",
    "end": "3071220"
  },
  {
    "text": "look at them I recommend strongly that if you're going to build one of your own",
    "start": "3071220",
    "end": "3076650"
  },
  {
    "text": "go there first and look and make sure somebody hasn't already done it but",
    "start": "3076650",
    "end": "3081980"
  },
  {
    "text": "moving forward I want to leave you with two messages the first is this is an",
    "start": "3081980",
    "end": "3088110"
  },
  {
    "start": "3082000",
    "end": "3258000"
  },
  {
    "text": "easy service to use no abstractions no new concepts a purely server list fully",
    "start": "3088110",
    "end": "3096120"
  },
  {
    "text": "managed really really elastic the barrier to entry is low go and find it a bash script and kill it and drop one of",
    "start": "3096120",
    "end": "3103560"
  },
  {
    "text": "these in and you'll find out how easy it is you know if you're putting together an application with this the putting",
    "start": "3103560",
    "end": "3109950"
  },
  {
    "text": "together is going to be the easy part the problems this isn't where your problems are gonna be they're gonna be in the hard parts where your own hard",
    "start": "3109950",
    "end": "3115020"
  },
  {
    "text": "business problems are being solved now the second thing is I think all of us in the serverless space we need to be",
    "start": "3115020",
    "end": "3120840"
  },
  {
    "text": "honest and acknowledge that we're kind of just making this up as we go along you know we don't have an accepted best",
    "start": "3120840",
    "end": "3128100"
  },
  {
    "text": "practice Bible we can go look in you know we don't even know what the conventional wisdom is I mean you know",
    "start": "3128100",
    "end": "3133680"
  },
  {
    "text": "we got this room evenly split on how many lambda functions you should have right that's that that's the stage of history we're at right now and this is",
    "start": "3133680",
    "end": "3139800"
  },
  {
    "text": "the fun stage of history this is when we're you know figuring out the right way to do things you know should we have",
    "start": "3139800",
    "end": "3145470"
  },
  {
    "text": "lots of functions are just a few you know we've got lots of ways to do compute now we've got bare-metal we've got we've got instances",
    "start": "3145470",
    "end": "3151800"
  },
  {
    "text": "with ec2 we've got containers and a whole bunch of flavors and we've got functions which is the right one well",
    "start": "3151800",
    "end": "3157230"
  },
  {
    "text": "which is the best flavor of ice cream right it totally depends on on what you're doing so let's let's let's let's",
    "start": "3157230",
    "end": "3163350"
  },
  {
    "text": "so let's let's work this out together who's going to make the discoveries who's gonna work out the best practices who's going to become conventionally",
    "start": "3163350",
    "end": "3170580"
  },
  {
    "text": "wise and have the conventional wisdom you are not us right you know bill joy famously said wherever you work most of",
    "start": "3170580",
    "end": "3177060"
  },
  {
    "text": "the smart people are somewhere else and you know that would be you so right now",
    "start": "3177060",
    "end": "3185220"
  },
  {
    "text": "is the time for us to sort of work together as a community and figure out",
    "start": "3185220",
    "end": "3190590"
  },
  {
    "text": "what the best practices are what the practical wisdom are and the way you can do that is by by sharing so when you do",
    "start": "3190590",
    "end": "3197760"
  },
  {
    "text": "something in this that is interesting and novel and perhaps instructive to others and they put it up on social",
    "start": "3197760",
    "end": "3203940"
  },
  {
    "text": "media somewhere and you know use that use that step functions hashtag and what we do we're gonna do is we'll promise to",
    "start": "3203940",
    "end": "3210180"
  },
  {
    "text": "be watching that we watch social media pretty carefully and we'll filter that out and we'll if we see anything that's",
    "start": "3210180",
    "end": "3215460"
  },
  {
    "text": "interesting we'll probably ping you and ask if we can share that if we can put it on the page if you can come to",
    "start": "3215460",
    "end": "3220620"
  },
  {
    "text": "reinvent next year and talk about it because we you know it making it all up",
    "start": "3220620",
    "end": "3226530"
  },
  {
    "text": "as you go along is kind of fun but it's not really sustainable you know we do need to work together to figure out which things work and which things don't",
    "start": "3226530",
    "end": "3233550"
  },
  {
    "text": "work so so let's start doing this now let's get out there and let's build the next generation of event-driven elastic",
    "start": "3233550",
    "end": "3240000"
  },
  {
    "text": "secure durable available serverless applications let's never pick an ami",
    "start": "3240000",
    "end": "3245910"
  },
  {
    "text": "again let's never pick innocence type again let's do things the right way thanks everybody",
    "start": "3245910",
    "end": "3251460"
  },
  {
    "text": "[Applause]",
    "start": "3251460",
    "end": "3254719"
  },
  {
    "text": "[Applause]",
    "start": "3257080",
    "end": "3260530"
  }
]