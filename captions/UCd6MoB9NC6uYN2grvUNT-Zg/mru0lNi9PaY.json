[
  {
    "start": "0",
    "end": "80000"
  },
  {
    "text": "I'm back I hope you're having a good time at the innovate conference today this is an online conference that AWS is",
    "start": "0",
    "end": "5790"
  },
  {
    "text": "hosting now this is my third presentation and I've been trying to do",
    "start": "5790",
    "end": "11700"
  },
  {
    "text": "this into every single time zone and we are not gonna go for the full hour I'm",
    "start": "11700",
    "end": "18859"
  },
  {
    "text": "tired it's been a very long series of presentations but I still want to give",
    "start": "18859",
    "end": "24990"
  },
  {
    "text": "the people who are checking out the conference and this time zone the chance to review the materials that we've built in the previous two sessions so in the",
    "start": "24990",
    "end": "32130"
  },
  {
    "text": "previous two sessions we built a Twitter bot now this bot is live on Twitter now",
    "start": "32130",
    "end": "37710"
  },
  {
    "text": "it's twitter.com slash where ml and you can go play with it what you do is you",
    "start": "37710",
    "end": "43320"
  },
  {
    "text": "post a picture and it tries to guess where in the world that picture was taken and I'll cover the various",
    "start": "43320",
    "end": "49910"
  },
  {
    "text": "components that surround how this works briefly in this present each",
    "start": "49910",
    "end": "55739"
  },
  {
    "text": "presentation and then we'll go to some of the code and talk about that as for",
    "start": "55739",
    "end": "61079"
  },
  {
    "text": "myself I am just I'm a regular software engineer here at eight of us I",
    "start": "61079",
    "end": "66600"
  },
  {
    "text": "build a bunch of demos and almost everything we're gonna be doing today is gonna be in Python and you can find most",
    "start": "66600",
    "end": "74250"
  },
  {
    "text": "of the code for this over on github and you can find a bunch of the blogs that I write over on the AWS blog so if you",
    "start": "74250",
    "end": "81630"
  },
  {
    "start": "80000",
    "end": "113000"
  },
  {
    "text": "want to see this in action you can see it right here so you can take a picture of your screen right now and you should",
    "start": "81630",
    "end": "87479"
  },
  {
    "text": "be able to get a picture of or you should be able to go to the where ml bot",
    "start": "87479",
    "end": "93930"
  },
  {
    "text": "on Twitter and it should run just fine and as you can see I'm posting a photo",
    "start": "93930",
    "end": "99329"
  },
  {
    "text": "and then photo runs blah blah we get our result which is a little static Maps",
    "start": "99329",
    "end": "106799"
  },
  {
    "text": "image and it says very confidently this was taken and Seau so if we look at the",
    "start": "106799",
    "end": "112950"
  },
  {
    "text": "architecture here we're relying on a feature of Twitter and API in Twitter",
    "start": "112950",
    "end": "119579"
  },
  {
    "start": "113000",
    "end": "203000"
  },
  {
    "text": "which is their web hooks API specifically their account activity API so that account activity API you",
    "start": "119579",
    "end": "126030"
  },
  {
    "text": "register a web hook which is in this case a an HTTP endpoint that's hosted by API gateway that HTTP endpoint will",
    "start": "126030",
    "end": "133830"
  },
  {
    "text": "vocal lambda function that lambda function will read the payload that was sent by Twitter to the API gateway and",
    "start": "133830",
    "end": "141870"
  },
  {
    "text": "it will call out to Amazon sage maker with the URL of the image that was contained in the Twitter bot that sage",
    "start": "141870",
    "end": "150120"
  },
  {
    "text": "maker stuff we can talk about at length in just a little bit and the ccr stuff you don't need to worry about",
    "start": "150120",
    "end": "156020"
  },
  {
    "text": "essentially what happens is it gets an inference from sage maker about where in the world that image could be located",
    "start": "156020",
    "end": "162000"
  },
  {
    "text": "calls back to Twitter and tells Twitter to post the image with a bunch of cool",
    "start": "162000",
    "end": "168330"
  },
  {
    "text": "stuff in it cani is a derp ask if I can increase my",
    "start": "168330",
    "end": "174360"
  },
  {
    "text": "voice volume not really no I can speak louder that helps sorry about that I",
    "start": "174360",
    "end": "183260"
  },
  {
    "text": "could get closer to my microphone here",
    "start": "183260",
    "end": "188239"
  },
  {
    "text": "sorry the if I turn up the volume too much it will the the gain you'll hear",
    "start": "188570",
    "end": "195090"
  },
  {
    "text": "the fan noise it'll it won't be ideal so let's take a quick step back and talk",
    "start": "195090",
    "end": "201720"
  },
  {
    "text": "about artificial intelligence artificial intelligence is really not that new",
    "start": "201720",
    "end": "206850"
  },
  {
    "start": "203000",
    "end": "262000"
  },
  {
    "text": "we've been doing stuff with AI for probably sixty years now the advantage",
    "start": "206850",
    "end": "213060"
  },
  {
    "text": "and the reason you're seeing ml and AI pop up so often now is that we are at a point where the hardware is really able",
    "start": "213060",
    "end": "219360"
  },
  {
    "text": "to make up for some of our bad math because our math is pretty bad and we're",
    "start": "219360",
    "end": "224640"
  },
  {
    "text": "kind of coasting right now on this really really nice hardware this really cool GPU powered wave of deep learning",
    "start": "224640",
    "end": "230310"
  },
  {
    "text": "stuff and it's allowing us to make some of the math better and so it's this",
    "start": "230310",
    "end": "236040"
  },
  {
    "text": "positive feedback loop where we're starting to see a lot more uptake that said Amazon has been doing AI for",
    "start": "236040",
    "end": "241860"
  },
  {
    "text": "probably 20 plus years so if you remember when you buy something on Amazon or they'll say people who like this also about this is this a product",
    "start": "241860",
    "end": "249570"
  },
  {
    "text": "you would like to and use an algorithm well I mean it doesn't use this anymore but you know originally it uses a simple",
    "start": "249570",
    "end": "255510"
  },
  {
    "text": "algorithm called SVD to try and determine which kind of different populations wanted that same sort of",
    "start": "255510",
    "end": "261239"
  },
  {
    "text": "thing so our mission with ml at AWS is really to kind of put machine learning",
    "start": "261239",
    "end": "267030"
  },
  {
    "start": "262000",
    "end": "380000"
  },
  {
    "text": "into the every single developer and data scientist and if you don't believe that I'd like to just share a brief anecdote",
    "start": "267030",
    "end": "274020"
  },
  {
    "text": "so there was a recent advance in a very",
    "start": "274020",
    "end": "280410"
  },
  {
    "text": "difficult mathematical problem about coloring infinite graphs and the way",
    "start": "280410",
    "end": "286950"
  },
  {
    "text": "that that advance was made it was made by hobbyists it wasn't made by a full-time mathematician or by someone",
    "start": "286950",
    "end": "292470"
  },
  {
    "text": "whose job it was to do math it was made by a hobbyist someone who spun up in ec2",
    "start": "292470",
    "end": "299820"
  },
  {
    "text": "instance and was playing around and was able to solve this kind of 800 year old problem about the the colouring of",
    "start": "299820",
    "end": "305160"
  },
  {
    "text": "ethnic graphs and was able to come up with a bunch of different geometrical arrangements for that problem so when",
    "start": "305160",
    "end": "314460"
  },
  {
    "text": "you put ml into the hands of as many people as possible instead of having it kind of siloed and locked into these",
    "start": "314460",
    "end": "319970"
  },
  {
    "text": "fortune ten fortune 100 companies you are really doubling the chances or",
    "start": "319970",
    "end": "329340"
  },
  {
    "text": "dramatically increasing the chances that someone's going to bring a unique perspective to bear on a complex problem",
    "start": "329340",
    "end": "336300"
  },
  {
    "text": "and hopefully solve it so that's kind of what we're doing today with this online conferences we're kind of hoping to put",
    "start": "336300",
    "end": "342750"
  },
  {
    "text": "machine learning into the hands of more people that said they're a couple different layers of AI a Tammuz of them",
    "start": "342750",
    "end": "348720"
  },
  {
    "text": "so at the core layer is the infrastructure side so these are the the",
    "start": "348720",
    "end": "354000"
  },
  {
    "text": "tide of ec2 instance types the things like the p3 and the p2 and they provide the core underlying infrastructure for",
    "start": "354000",
    "end": "362160"
  },
  {
    "text": "all the other services that take advantage of MLM AI then you have your",
    "start": "362160",
    "end": "367230"
  },
  {
    "text": "platform services things like sage maker which is what I'll be talking about today and then even beyond sage maker you have simple api's that you can call",
    "start": "367230",
    "end": "373980"
  },
  {
    "text": "out to things like comprehend recognition and others now lots of different customers using AI",
    "start": "373980",
    "end": "381030"
  },
  {
    "start": "380000",
    "end": "419000"
  },
  {
    "text": "on AWS and yes bill chinzy asks I have a",
    "start": "381030",
    "end": "387930"
  },
  {
    "text": "question absolutely oh are you making fun of something I said on Twitter earlier I absolutely",
    "start": "387930",
    "end": "395490"
  },
  {
    "text": "recommend asking any questions please this is an inner",
    "start": "395490",
    "end": "400770"
  },
  {
    "text": "active session I am in a presentation right now but we're gonna hop over into some code in just a little bit so any",
    "start": "400770",
    "end": "406650"
  },
  {
    "text": "questions you guys have feel free to interrupt me I will do my best and then",
    "start": "406650",
    "end": "413090"
  },
  {
    "text": "say ciao asks how do you define your activation function so activation functions we should cover that so let's",
    "start": "413090",
    "end": "420780"
  },
  {
    "start": "419000",
    "end": "558000"
  },
  {
    "text": "take a quick look at this video so the way that typical neural neural networks",
    "start": "420780",
    "end": "427620"
  },
  {
    "text": "are talked about is you have a set of",
    "start": "427620",
    "end": "433229"
  },
  {
    "text": "neurons and these are really modeled after the visual cortex of the human",
    "start": "433229",
    "end": "438300"
  },
  {
    "text": "brain in many cases what I mean by that is let's imagine a scenario where I'm",
    "start": "438300",
    "end": "444120"
  },
  {
    "text": "looking at the screen right and the light that's being emitted from these screens is going into my eye it's going",
    "start": "444120",
    "end": "452159"
  },
  {
    "text": "through my lens and it's hitting the retina the retina is connected to the optic nerve and it's generating an",
    "start": "452159",
    "end": "457740"
  },
  {
    "text": "electrical impulse it's going into my brain and it's triggering a section of my brain called the visual cortex that's",
    "start": "457740",
    "end": "464690"
  },
  {
    "text": "coalescing the information coming in over these I over my eyes into context",
    "start": "464690",
    "end": "471180"
  },
  {
    "text": "an inch of conscious thought so the way that those neurons are trained is we learned by sort of trial and error and",
    "start": "471180",
    "end": "478639"
  },
  {
    "text": "we learned by pattern matching and Association and so when we create these networks what we're really doing is",
    "start": "478639",
    "end": "484229"
  },
  {
    "text": "we're trying to teach them in the same way that we kind of model the visual cortex now whether that's an exact representation or not is something that",
    "start": "484229",
    "end": "491180"
  },
  {
    "text": "could be argued and I'm not a expert in biology so I wouldn't be able to to make",
    "start": "491180",
    "end": "497400"
  },
  {
    "text": "that argument but I will say that this model has served us quite well and we're able to build kind of complex networks",
    "start": "497400",
    "end": "504300"
  },
  {
    "text": "on this very simple structure so what we mean when we talk about activation",
    "start": "504300",
    "end": "510810"
  },
  {
    "text": "functions and biases is let's imagine a scenario where we're taking 28 pixel by",
    "start": "510810",
    "end": "516300"
  },
  {
    "text": "28 pixel handwritten digits there's a really common data set called the in this data set and it's a set of",
    "start": "516300",
    "end": "521578"
  },
  {
    "text": "handwritten digits 28 pixels by 28 pixels in the grade scale you may have seen this in Julian Simone's presentation earlier today and what",
    "start": "521579",
    "end": "527760"
  },
  {
    "text": "happens is we can take those 28 pixels by 28 pixels flatten them into one layer and",
    "start": "527760",
    "end": "533880"
  },
  {
    "text": "each one as a input node and it's either",
    "start": "533880",
    "end": "539540"
  },
  {
    "text": "you know it can have a value between 0 and 1 or 0 and however many bits you",
    "start": "539540",
    "end": "544890"
  },
  {
    "text": "want to use to represent your greyscale image and then we can connect it with the second layer that hones down into a",
    "start": "544890",
    "end": "553950"
  },
  {
    "text": "smaller set of things we could have yet another layer so this would be a fully",
    "start": "553950",
    "end": "559620"
  },
  {
    "start": "558000",
    "end": "572000"
  },
  {
    "text": "connected layer I'll skip ahead a little bit here so this would be a fully",
    "start": "559620",
    "end": "567600"
  },
  {
    "text": "connected layer in which every neuron is connected to every other neuron and then we would have another fully connected",
    "start": "567600",
    "end": "576510"
  },
  {
    "start": "572000",
    "end": "619000"
  },
  {
    "text": "layer followed by an output layer and that output layer is really just the the digits 0 through 9 so what we're trying",
    "start": "576510",
    "end": "583530"
  },
  {
    "text": "to do in that output layers we're trying to say hey I have all this stuff I want",
    "start": "583530",
    "end": "589470"
  },
  {
    "text": "you to try and figure out how to classify all this so when we talk about",
    "start": "589470",
    "end": "594900"
  },
  {
    "text": "training what we're trying to say is given this 784 input matrix or array I",
    "start": "594900",
    "end": "604050"
  },
  {
    "text": "want you to tell me what is it most likely to correspond to in this output array and what happens in between it's",
    "start": "604050",
    "end": "610650"
  },
  {
    "text": "not really something that we always have to care about when we're designing this stuff or we're starting when we're using this stuff when we're designing it the",
    "start": "610650",
    "end": "616920"
  },
  {
    "text": "stuff in the middle is very important so if you think about it what training is is you initialize all of this stuff with",
    "start": "616920",
    "end": "622980"
  },
  {
    "start": "619000",
    "end": "766000"
  },
  {
    "text": "random values and you're just trying to find the right weights and biases for",
    "start": "622980",
    "end": "629180"
  },
  {
    "text": "all of these different connections so let me see if there are any questions",
    "start": "629180",
    "end": "635970"
  },
  {
    "text": "that come in to the stream so far so",
    "start": "635970",
    "end": "643730"
  },
  {
    "text": "let's see so Tony I'm sorry about the",
    "start": "645470",
    "end": "653280"
  },
  {
    "text": "audio I'm speaking as loud as I can on my side things are pretty loud so maybe",
    "start": "653280",
    "end": "659520"
  },
  {
    "text": "try turning up the the volume a bit on your side I can I can boost it just a",
    "start": "659520",
    "end": "665370"
  },
  {
    "text": "bit but if I boost it too much he'll just hear my computer fans running so I just",
    "start": "665370",
    "end": "675450"
  },
  {
    "text": "boosted it just a little bit more let me see if I can do just a little bit more",
    "start": "675450",
    "end": "685740"
  },
  {
    "text": "[Music] okay hopefully that's not too loud for",
    "start": "685740",
    "end": "692100"
  },
  {
    "text": "people so in the end and then see it",
    "start": "692100",
    "end": "700980"
  },
  {
    "text": "says if you flatten it don't you use lose dimensional data uh well sort of so",
    "start": "700980",
    "end": "708180"
  },
  {
    "text": "they're they're different ways of flattening the data right in some",
    "start": "708180",
    "end": "713270"
  },
  {
    "text": "perspectives if you know that the input image is of a shape 28 by 28 it doesn't",
    "start": "713270",
    "end": "718980"
  },
  {
    "text": "really matter if if you're flattening it because you know what the input layer is",
    "start": "718980",
    "end": "724800"
  },
  {
    "text": "gonna look like so then the the person who's calling the model is responsible for making sure that it's flattened in the right way the the network doesn't",
    "start": "724800",
    "end": "732690"
  },
  {
    "text": "actually care about the shape of it because at some point it's gonna be dealing with an array no matter what so",
    "start": "732690",
    "end": "738660"
  },
  {
    "text": "the the network doesn't care it just sees numbers there are different ways of",
    "start": "738660",
    "end": "745230"
  },
  {
    "text": "designing this network this is a very simple network this is this is not a",
    "start": "745230",
    "end": "751110"
  },
  {
    "text": "complex network there are convolutional neural networks where you actually do multiple multi-dimensional transforms",
    "start": "751110",
    "end": "756590"
  },
  {
    "text": "and those you're kind of like moving a kernel around the image and trying to",
    "start": "756590",
    "end": "763290"
  },
  {
    "text": "find the edges and stuff now let's just see what this looks like in practice so",
    "start": "763290",
    "end": "769470"
  },
  {
    "start": "766000",
    "end": "831000"
  },
  {
    "text": "basically we have these neurons and these are not just things that hold the number and we're taking that data and",
    "start": "769470",
    "end": "777089"
  },
  {
    "text": "we're basically abstracting we're as you just saw we're kind of taking this number 8 we're taking all the pixels and",
    "start": "777089",
    "end": "783330"
  },
  {
    "text": "we're kind of activating it and you can see a bunch of neurons in this first layer light up a bunch of neurons and secondly or light up and we go to this",
    "start": "783330",
    "end": "788910"
  },
  {
    "text": "last layer and this last layer is our output layer and let's say instead of",
    "start": "788910",
    "end": "796860"
  },
  {
    "text": "getting a number 8 we got a number you know one or number five so the way that we",
    "start": "796860",
    "end": "803160"
  },
  {
    "text": "would train the network is we would take the loss the error between that number one and that number nine and say hey",
    "start": "803160",
    "end": "808680"
  },
  {
    "text": "we've got to propagate this backwards and adjust the weights and biases as we go along in order to get back towards a",
    "start": "808680",
    "end": "814920"
  },
  {
    "text": "number nine and that's where those activation functions come in and there are a lot of really common activation",
    "start": "814920",
    "end": "820590"
  },
  {
    "text": "functions things like tan H or sigmoid is the oldest one that no one really uses that anymore you have let's see",
    "start": "820590",
    "end": "829880"
  },
  {
    "text": "just a whole slew of different activation functions that have different properties and stuff like that and now maybe your intuition is telling",
    "start": "829880",
    "end": "836580"
  },
  {
    "start": "831000",
    "end": "894000"
  },
  {
    "text": "you that what this is doing is maybe this first layer is identifying that okay well I know a number 9 has a bunch",
    "start": "836580",
    "end": "842610"
  },
  {
    "text": "of different edges so if these neurons are lighting up to activate these edges and then the second layer maybe it is",
    "start": "842610",
    "end": "847650"
  },
  {
    "text": "learning that well these edges together make a long sweetly piece so I'm going to activate that neuron and then I know that I need a little loop and if that",
    "start": "847650",
    "end": "854580"
  },
  {
    "text": "little loop neuron is activated then I know that it's probably a nine because it's a combination of a little line and the loop and there's a question of",
    "start": "854580",
    "end": "862710"
  },
  {
    "text": "whether or not the network actually does this now in the case of a simple network like this the answer is most likely yes it is probably learning these features",
    "start": "862710",
    "end": "869880"
  },
  {
    "text": "in this way Google has actually come up with a series of tools or Google researchers have come up with a series of tools that make it really easy to",
    "start": "869880",
    "end": "876060"
  },
  {
    "text": "visualize in simple networks what exactly is happening as you get into",
    "start": "876060",
    "end": "881730"
  },
  {
    "text": "more complex networks things with many many more layers the answer becomes much more difficult is it actually learning",
    "start": "881730",
    "end": "888120"
  },
  {
    "text": "these things and the answer is no in many cases it's picking up on things that we as humans would never really",
    "start": "888120",
    "end": "895220"
  },
  {
    "start": "894000",
    "end": "1013000"
  },
  {
    "text": "understand or pick up from and artists passion asked is this from three blue",
    "start": "895220",
    "end": "900960"
  },
  {
    "text": "one brown yes all of these animations are from somebody named grant Sanderson three blue one brown and we happily",
    "start": "900960",
    "end": "907920"
  },
  {
    "text": "sponsor his work so you should check out his YouTube channel I posted a link to it in the previous stream I'll post",
    "start": "907920",
    "end": "913350"
  },
  {
    "text": "another link to it at the end of the day here and this is if you are trying to",
    "start": "913350",
    "end": "920220"
  },
  {
    "text": "learn machine learning machine learning at all I strongly recommend three blue one Browns channel grant Sanderson has",
    "start": "920220",
    "end": "928740"
  },
  {
    "text": "probably one of the best grasps of teaching and animation and",
    "start": "928740",
    "end": "934630"
  },
  {
    "text": "complex topics accessible in a very succinct way so rather than spending",
    "start": "934630",
    "end": "940510"
  },
  {
    "text": "hundreds of hours on reading through complex books and and and algorithms and",
    "start": "940510",
    "end": "948940"
  },
  {
    "text": "trying to learn a bunch of new calculus and notation then you should definitely",
    "start": "948940",
    "end": "956200"
  },
  {
    "text": "check out his channel and I mean I'll just bring it up briefly now and I'll post a link because I know that non",
    "start": "956200",
    "end": "963630"
  },
  {
    "text": "three blue one brown I know that non moderators aren't able to post the links",
    "start": "963630",
    "end": "972930"
  },
  {
    "text": "so let's see here there's a playlist called neural networks sorry my",
    "start": "974070",
    "end": "989680"
  },
  {
    "text": "microphone is in the way so I can't quite see it so I'm just gonna paste this link if you are interested in",
    "start": "989680",
    "end": "996310"
  },
  {
    "text": "learning stuff grant Sanderson three blue and brown is awesome and vivvy",
    "start": "996310",
    "end": "1003240"
  },
  {
    "text": "unfortunately if you're not a moderator you're not gonna be able to post a link just to prevent a lot of spam so my",
    "start": "1003240",
    "end": "1009510"
  },
  {
    "text": "network is still training here so I'm gonna hop back into my presentation so we've talked now about how basic neural",
    "start": "1009510",
    "end": "1015960"
  },
  {
    "start": "1013000",
    "end": "1254000"
  },
  {
    "text": "networks work so let's talk about the process for machine learning and I'm just gonna skip ahead kind of towards",
    "start": "1015960",
    "end": "1022470"
  },
  {
    "text": "the end of this process here the problem that we're facing today is that we want",
    "start": "1022470",
    "end": "1028740"
  },
  {
    "text": "to identify where in the world a picture was taken without having to use and load in all the EXIF data for these images or",
    "start": "1028740",
    "end": "1034170"
  },
  {
    "text": "maybe the EXIF data is not available so what we do is first we frame that problem that is the question we are",
    "start": "1034170",
    "end": "1039810"
  },
  {
    "text": "trying to solve now we have to collect the data the data that we're using in this case is the Berkeley multimedia",
    "start": "1039810",
    "end": "1045209"
  },
  {
    "text": "Commons data set this is available as one of the public datasets on Amazon it's a collection of 100 million different images and some people were",
    "start": "1045210",
    "end": "1051990"
  },
  {
    "text": "asking who I am so I'll just put up my image again now the the 100 million",
    "start": "1051990",
    "end": "1058320"
  },
  {
    "text": "different images only about 33 million of those 34 million of those are geotagged so only about 34 mmm",
    "start": "1058320",
    "end": "1064809"
  },
  {
    "text": "those images have exif data so the next step after we collect those 34 million",
    "start": "1064809",
    "end": "1071019"
  },
  {
    "text": "images and kind of get them into a place where we can start doing stuff with them is to integrate that data and prepare it",
    "start": "1071019",
    "end": "1079240"
  },
  {
    "text": "and clean it now in order to build the first classification layer we don't",
    "start": "1079240",
    "end": "1085269"
  },
  {
    "text": "actually need the image data all we really needed is that exif data the collection of latitude and longitude coordinates for our for our training",
    "start": "1085269",
    "end": "1092919"
  },
  {
    "text": "data set and the way that we do that is we basically just run EXIF tool and a whole bunch of threads across you know a",
    "start": "1092919",
    "end": "1101619"
  },
  {
    "text": "couple different instances and we say hey grab all this data and then we use Google's s2 circle geometry library in",
    "start": "1101619",
    "end": "1108909"
  },
  {
    "text": "order to plot a bunch of indexes and I'll show you what that looks like in a moment and it's really important at this",
    "start": "1108909",
    "end": "1114850"
  },
  {
    "text": "stage of the ml process to kind of visualize your results so look at the clusters of data maybe you can even run",
    "start": "1114850",
    "end": "1121029"
  },
  {
    "text": "some simpler algorithms things like PCA or k-means clustering to get some idea of like how your data is distributed and",
    "start": "1121029",
    "end": "1127779"
  },
  {
    "text": "and what features are really contributing to those distributions then after you have some kind of intuition",
    "start": "1127779",
    "end": "1133869"
  },
  {
    "text": "about what the data contains in what you're doing you get into feature engineering and feature engineering is",
    "start": "1133869",
    "end": "1139749"
  },
  {
    "text": "is really just kind of providing hints for the various algorithms you're going",
    "start": "1139749",
    "end": "1145299"
  },
  {
    "text": "to be invoking later or or surfacing the stuff that matters and removing some of",
    "start": "1145299",
    "end": "1150850"
  },
  {
    "text": "the stuff that doesn't matter you have to be careful here though because often times as humans we don't recognize",
    "start": "1150850",
    "end": "1156700"
  },
  {
    "text": "features that could matter that could have some impact on the end result and",
    "start": "1156700",
    "end": "1163480"
  },
  {
    "text": "if you've seen the famous xkcd of correlation it's not the same as causation and in machine learning",
    "start": "1163480",
    "end": "1169869"
  },
  {
    "text": "correlation and causation are a lot more blurry than they are in pure statistics",
    "start": "1169869",
    "end": "1175169"
  },
  {
    "text": "so then you train the model and I'll talk a little bit about training the model a little bit and then you evaluate",
    "start": "1175169",
    "end": "1180879"
  },
  {
    "text": "the model and after you've evaluated the model you typically what you do is you take inside ten or twenty percent of the",
    "start": "1180879",
    "end": "1188019"
  },
  {
    "text": "data that you've never pushed through this neural network and you take that ten or twenty percent and you verify that the results are what you expected",
    "start": "1188019",
    "end": "1194759"
  },
  {
    "text": "and then you say are my business goals met and if answer is yes then you go to play at the",
    "start": "1194759",
    "end": "1201280"
  },
  {
    "text": "production if the answer is no you just iterate through these other steps over the course of the time that you have the",
    "start": "1201280",
    "end": "1208179"
  },
  {
    "text": "deployment section of this is what sage maker makes really really easy so I'm gonna skip ahead again to I'm gonna skip",
    "start": "1208179",
    "end": "1214300"
  },
  {
    "text": "past all the marketing stuff and we'll just go right to the Twitter side of",
    "start": "1214300",
    "end": "1220150"
  },
  {
    "text": "things or we'll go right to the discussion of the model I'm gonna check to see if there are any questions any",
    "start": "1220150",
    "end": "1237640"
  },
  {
    "text": "questions here all right well thank you",
    "start": "1237640",
    "end": "1243309"
  },
  {
    "text": "guys for being engaged I promise we're gonna get to some code in a little bit so let's take a look at the model the",
    "start": "1243309",
    "end": "1249580"
  },
  {
    "text": "way that the model works is and I I need",
    "start": "1249580",
    "end": "1255610"
  },
  {
    "start": "1254000",
    "end": "1506000"
  },
  {
    "text": "to fully disclose this was not my design I've pretty dramatically modified it and",
    "start": "1255610",
    "end": "1261370"
  },
  {
    "text": "rewritten a lot of the code at this point but this was never my idea I am not even remotely smart enough to come",
    "start": "1261370",
    "end": "1267070"
  },
  {
    "text": "up with with this kind of stuff so what happened here is J and Troy and I think",
    "start": "1267070",
    "end": "1277150"
  },
  {
    "text": "it was Kevin we from International Design Institute in University California Berkeley they took a paper",
    "start": "1277150",
    "end": "1284800"
  },
  {
    "text": "called planet by Waylon who and a couple of others who are some researchers at",
    "start": "1284800",
    "end": "1290740"
  },
  {
    "text": "Google and the they looked at the resulting model and they said hey we could probably do this better if we",
    "start": "1290740",
    "end": "1296460"
  },
  {
    "text": "thought about the underlying problem that we're trying to solve so the planet paper what they did was they they took a",
    "start": "1296460",
    "end": "1302440"
  },
  {
    "text": "very similar approach to what I've described so far today except they had an error in several places first of all",
    "start": "1302440",
    "end": "1311559"
  },
  {
    "text": "they were using regular floating-point numbers for their latitude longitude and latitude and longitude the the",
    "start": "1311559",
    "end": "1319390"
  },
  {
    "text": "specificity on that that number is important and the downside of floating",
    "start": "1319390",
    "end": "1326500"
  },
  {
    "text": "points are that they don't represent every number between zero and one it's not possible in fact they represent",
    "start": "1326500",
    "end": "1333730"
  },
  {
    "text": "a finite number so this is based on I Triple E floating point standard so you lose a lot of fidelity in your data when",
    "start": "1333730",
    "end": "1339340"
  },
  {
    "text": "you when you assume that things are floating point when they are not because floating point is is is not meant for",
    "start": "1339340",
    "end": "1345160"
  },
  {
    "text": "this kind of statistical analysis you have to use a different kind of real number representation so just switching",
    "start": "1345160",
    "end": "1351430"
  },
  {
    "text": "that around gave a significant accuracy increase and they also used a model",
    "start": "1351430",
    "end": "1358900"
  },
  {
    "text": "called dense net and the resulting or a model architecture from dense net now the resulting model that they use to",
    "start": "1358900",
    "end": "1365590"
  },
  {
    "text": "draw their inferences from was on the order of 20 gigs it's quite large quite hard to fit into Ram if you were running",
    "start": "1365590",
    "end": "1374020"
  },
  {
    "text": "inferences for instance I had at 20 gigs you would never be able to fit this and lambda function and you would never be",
    "start": "1374020",
    "end": "1379150"
  },
  {
    "text": "able to fit that's on a smaller instance you would have to run a fairly beefy server in order to give inferences in",
    "start": "1379150",
    "end": "1385750"
  },
  {
    "text": "real time so the researchers add",
    "start": "1385750",
    "end": "1391390"
  },
  {
    "text": "Berkeley they took that same input data set or actually a completely different",
    "start": "1391390",
    "end": "1397420"
  },
  {
    "text": "input data set Google use the Google Images data set and the location that",
    "start": "1397420",
    "end": "1403030"
  },
  {
    "text": "folks use the Berkeley multimedia compensator set this is a public data set by the way you can go and download",
    "start": "1403030",
    "end": "1408190"
  },
  {
    "text": "it and do stuff with it as much as you want and they took the ResNet 101 architecture the resident architecture",
    "start": "1408190",
    "end": "1414610"
  },
  {
    "text": "is a an architecture that originally proposed by Microsoft research back in 2015 I think and it won the competition",
    "start": "1414610",
    "end": "1424690"
  },
  {
    "text": "for image classification and what they realized was as you add more and more layers into these deep neural networks",
    "start": "1424690",
    "end": "1431170"
  },
  {
    "text": "you suffer from a problem of a vanishing gradient where the the errors in your",
    "start": "1431170",
    "end": "1437110"
  },
  {
    "text": "output layer or sorry the the difference between your desired result and your",
    "start": "1437110",
    "end": "1446100"
  },
  {
    "text": "actual result the error function that you you use to calculate that it is",
    "start": "1446100",
    "end": "1452140"
  },
  {
    "text": "harder and harder to propagate that backwards through all the different layers of the network as as you add more",
    "start": "1452140",
    "end": "1460860"
  },
  {
    "text": "layers to the network so basically as you add more layers of traction from the original input data",
    "start": "1460860",
    "end": "1466090"
  },
  {
    "text": "you you start to have a harder time you need more and more and more and more data in order to get everything to",
    "start": "1466090",
    "end": "1474130"
  },
  {
    "text": "propagate backwards so what resident does is it has kind of a cheat code built-in and that sheet",
    "start": "1474130",
    "end": "1480460"
  },
  {
    "text": "code basically says if I have a and this is very hand wavy it's it's admittedly",
    "start": "1480460",
    "end": "1487149"
  },
  {
    "text": "quite a bit more complex than this so if anybody wants to correct me feel free what it does is it basically says hey if",
    "start": "1487149",
    "end": "1495370"
  },
  {
    "text": "any particular signal signal is strong enough I want you to cut out cut over and go down into my my next layer and",
    "start": "1495370",
    "end": "1505600"
  },
  {
    "text": "also let me show you what this looks like and I know this is gonna everyone completely understands what's happening",
    "start": "1505600",
    "end": "1510669"
  },
  {
    "start": "1506000",
    "end": "1570000"
  },
  {
    "text": "here right so you see th and Ray Lou and all these different activation functions this is what the model is and if someone",
    "start": "1510669",
    "end": "1518230"
  },
  {
    "text": "had ever showed me this as like the first ever if someone had shown me what",
    "start": "1518230",
    "end": "1527110"
  },
  {
    "text": "this was it's the first ever intro to machine learning I probably would have quit right then so f gu ID says are the slides gonna be",
    "start": "1527110",
    "end": "1538240"
  },
  {
    "text": "available absolutely they are actually already posted I'll include those now or",
    "start": "1538240",
    "end": "1546750"
  },
  {
    "text": "I'll post them later I guess because it's not in my clipboard history and lxx III asks p 216 XLR running over nine",
    "start": "1546750",
    "end": "1555880"
  },
  {
    "text": "days is $3,000 luckily we provided those researchers with credits but also the",
    "start": "1555880",
    "end": "1561190"
  },
  {
    "text": "spot instances are pretty good I'll talk about some advances that we've made since the original research published",
    "start": "1561190",
    "end": "1566289"
  },
  {
    "text": "back in 2016 and this is what that s2",
    "start": "1566289",
    "end": "1571870"
  },
  {
    "start": "1570000",
    "end": "1704000"
  },
  {
    "text": "spherical geometry library that allows us to do with the spherical partitioning we use something called a Hilbert curve",
    "start": "1571870",
    "end": "1577240"
  },
  {
    "text": "in order to basically plot all of this and choose the dense layer and then",
    "start": "1577240",
    "end": "1587950"
  },
  {
    "text": "spongey terrasaur asks so you feed your data into the network make a graph and then use the data modeling tool to",
    "start": "1587950",
    "end": "1594100"
  },
  {
    "text": "convert your graph to those activation functions no I would say you so the in this",
    "start": "1594100",
    "end": "1602080"
  },
  {
    "text": "particular case we're relying on an architecture that already existed so the topology of that graph was provided for",
    "start": "1602080",
    "end": "1608110"
  },
  {
    "text": "us the topology of that graph was actually designed for a a problem of",
    "start": "1608110",
    "end": "1614769"
  },
  {
    "text": "image classification so puppy goat bicycle justin beiber it was basically",
    "start": "1614769",
    "end": "1620200"
  },
  {
    "text": "designed to to identify differences in things now the activation function",
    "start": "1620200",
    "end": "1627549"
  },
  {
    "text": "portion of this is really just saying how what what value do I need and on the",
    "start": "1627549",
    "end": "1637690"
  },
  {
    "text": "on the result of this function in order to trigger this edge to execute it's the",
    "start": "1637690",
    "end": "1643480"
  },
  {
    "text": "best way that I could think of and then you have biases as well that are put",
    "start": "1643480",
    "end": "1648909"
  },
  {
    "text": "next to that activation function so that the the combination of the activation",
    "start": "1648909",
    "end": "1654159"
  },
  {
    "text": "function and the the bias are able to be",
    "start": "1654159",
    "end": "1661659"
  },
  {
    "text": "adjusted and it's really just the biases that you're changing you know once once",
    "start": "1661659",
    "end": "1667480"
  },
  {
    "text": "you've decided on the activation function you're not really changing any of the the you're not changing between",
    "start": "1667480",
    "end": "1674980"
  },
  {
    "text": "tan h and r a little and stuff like that although you can or over to sigmoid",
    "start": "1674980",
    "end": "1681539"
  },
  {
    "text": "you're really just saying i want to adjust all these weights and stuff and then what we did in this particular case",
    "start": "1681539",
    "end": "1688210"
  },
  {
    "text": "is you see these cells these geographical cells here we took out the",
    "start": "1688210",
    "end": "1693340"
  },
  {
    "text": "last layer of that resonant architecture and we replace it with this these 15,000 cells so that is basically all the",
    "start": "1693340",
    "end": "1703600"
  },
  {
    "text": "network is working and there's some pros and cons to this approach but I think everyone is ready to hear how exactly",
    "start": "1703600",
    "end": "1709330"
  },
  {
    "start": "1704000",
    "end": "1749000"
  },
  {
    "text": "this works so we are going to take a",
    "start": "1709330",
    "end": "1714700"
  },
  {
    "text": "look now at my completely frozen computer that's not good",
    "start": "1714700",
    "end": "1722669"
  },
  {
    "text": "this is why you don't train like several",
    "start": "1729420",
    "end": "1734650"
  },
  {
    "text": "gay data set locally okay there we go",
    "start": "1734650",
    "end": "1742320"
  },
  {
    "text": "no oh boy this is not gonna end well okay so let's",
    "start": "1742860",
    "end": "1752170"
  },
  {
    "start": "1749000",
    "end": "2149000"
  },
  {
    "text": "just go over to them so let's look at the stuff that we have already created in the previous labs or the previous",
    "start": "1752170",
    "end": "1758950"
  },
  {
    "text": "conversations today so that's not right I want to look at predict up high we're",
    "start": "1758950",
    "end": "1768010"
  },
  {
    "text": "gonna focus on the machine learning side of this and then j0x",
    "start": "1768010",
    "end": "1774850"
  },
  {
    "text": "asks so it's similar to how you'd work with the CFR 10 dataset yeah it's fairly similar and then our just passion is",
    "start": "1774850",
    "end": "1786130"
  },
  {
    "text": "very wrong but you know I guess you're entitled to your opinion on any other",
    "start": "1786130",
    "end": "1791830"
  },
  {
    "text": "stream so what we do is we import MX net",
    "start": "1791830",
    "end": "1798070"
  },
  {
    "text": "and we basically sage maker which is the service that we use to host this will",
    "start": "1798070",
    "end": "1805800"
  },
  {
    "text": "basically say I'm gonna populate these",
    "start": "1805800",
    "end": "1810990"
  },
  {
    "text": "environment variables model path model name with the with the relevant values",
    "start": "1810990",
    "end": "1818350"
  },
  {
    "text": "so if I go over here to models glad this is working I'm gonna close this down so",
    "start": "1818350",
    "end": "1826960"
  },
  {
    "text": "I go over here to this model you can see that there's this kind of docker",
    "start": "1826960",
    "end": "1832600"
  },
  {
    "text": "container that has my model in it and I",
    "start": "1832600",
    "end": "1837850"
  },
  {
    "text": "think there's probably a training job too somewhere but sorry my microphone is",
    "start": "1837850",
    "end": "1843880"
  },
  {
    "text": "in the way of my screen so I can't really see what I need to see but oh wow",
    "start": "1843880",
    "end": "1855240"
  },
  {
    "text": "so essentially we have this the stalker container and it's going to contain the following Python file and so there are a",
    "start": "1855250",
    "end": "1862060"
  },
  {
    "text": "couple different ways of doing this the model artifacts are always gonna be stored on s3 and then when we",
    "start": "1862060",
    "end": "1868630"
  },
  {
    "text": "instantiate the sorry I just have to ban",
    "start": "1868630",
    "end": "1876370"
  },
  {
    "text": "somebody really fast and when we instantiate the tools sorry",
    "start": "1876370",
    "end": "1884500"
  },
  {
    "text": "when we instantiate the the programmatic invocation endpoint the the sage maker",
    "start": "1884500",
    "end": "1891610"
  },
  {
    "text": "endpoint the inference endpoint it's going to load that model on to the instance for me so the way that this",
    "start": "1891610",
    "end": "1898600"
  },
  {
    "text": "works is we basically say MX model load",
    "start": "1898600",
    "end": "1905230"
  },
  {
    "text": "checkpoint we want to load in the 12th epoch and then we want to bind that module or bind that model to the CPU now",
    "start": "1905230",
    "end": "1913840"
  },
  {
    "text": "there's really no reason to use a GPU in this case because while we could use a",
    "start": "1913840",
    "end": "1919390"
  },
  {
    "text": "GPU for training the the cost of sending",
    "start": "1919390",
    "end": "1926130"
  },
  {
    "text": "one image over to the GPU and then kind",
    "start": "1926130",
    "end": "1932350"
  },
  {
    "text": "of so it comes in over the network it goes to you know Ram and then it goes",
    "start": "1932350",
    "end": "1938770"
  },
  {
    "text": "into the GPU unless you have you know s and I bypass sorry C truck you got",
    "start": "1938770",
    "end": "1945730"
  },
  {
    "text": "banned but you are unbanned now oh I need to unban somebody else - sorry the",
    "start": "1945730",
    "end": "1953770"
  },
  {
    "text": "cost of sending all that information over to the GPU is higher than the cost which is processing it on the CPU of the",
    "start": "1953770",
    "end": "1958960"
  },
  {
    "text": "the time so then we set the parameters and these are just the parameters that",
    "start": "1958960",
    "end": "1964120"
  },
  {
    "text": "we've loaded from the json files that are available over here in the model and then we we mean the image yeah meaning",
    "start": "1964120",
    "end": "1973570"
  },
  {
    "text": "the image is basically saying hey across my entire data set I wanted to calculate the average colors and COBOL programmers",
    "start": "1973570",
    "end": "1983260"
  },
  {
    "text": "are more than welcome here your you can join in as much as you want",
    "start": "1983260",
    "end": "1988790"
  },
  {
    "text": "the reason we mean the image is it helps get rid of outliers so this is almost you could almost consider this feature",
    "start": "1988790",
    "end": "1995330"
  },
  {
    "text": "engineering in some way because what we're saying is stuff that's coming you",
    "start": "1995330",
    "end": "2001000"
  },
  {
    "text": "know from the dead of night shouldn't all be a strong signal for you know",
    "start": "2001000",
    "end": "2008500"
  },
  {
    "text": "Russia or something I don't know and stuff that's really bright and sunny",
    "start": "2008500",
    "end": "2014590"
  },
  {
    "text": "it shouldn't be a strong symbol for Los Angeles because the weather is gonna vary so we want to kind of mean the",
    "start": "2014590",
    "end": "2019720"
  },
  {
    "text": "images of it and that's just one thing you do that you do you mean the images for a number of different reasons that",
    "start": "2019720",
    "end": "2030360"
  },
  {
    "text": "help with image classification so next",
    "start": "2030360",
    "end": "2038350"
  },
  {
    "text": "we open that grids file and that grids file is just the where is the PowerPoint",
    "start": "2038350",
    "end": "2046990"
  },
  {
    "text": "that grids file is just the series of cells that we talked about earlier and",
    "start": "2046990",
    "end": "2052780"
  },
  {
    "text": "then we do some pre-processing and if you look at the image data here when we do the pre-processing we're basically",
    "start": "2052780",
    "end": "2058870"
  },
  {
    "text": "just cropping to 224 pixels by 224 pixels which is what the the rezident",
    "start": "2058870",
    "end": "2067240"
  },
  {
    "text": "architecture is expecting as input and then we go and we subtract the mean from",
    "start": "2067240",
    "end": "2073899"
  },
  {
    "text": "the image and then we take that normalized image and we return it and that's kind of our pre-processing step",
    "start": "2073900",
    "end": "2081990"
  },
  {
    "text": "now we go on to the prediction step and the prediction step is really really easy basically we just create a batch of",
    "start": "2081990",
    "end": "2088659"
  },
  {
    "text": "a single image and we call mod dot forward so that's saying forward",
    "start": "2088660",
    "end": "2094240"
  },
  {
    "text": "propagate the following - and then we take the result and the result is actually a probability ranking of all",
    "start": "2094240",
    "end": "2100720"
  },
  {
    "text": "15,000 527 cells that our output from the model and what we do is we we go and",
    "start": "2100720",
    "end": "2112090"
  },
  {
    "text": "we sort that by the amount of data that sorted by the probability sorry I am",
    "start": "2112090",
    "end": "2120250"
  },
  {
    "text": "running on just like very little sleep is my third session in less than 24 hours so I'm speaking over myself",
    "start": "2120250",
    "end": "2129220"
  },
  {
    "text": "here so we take the probability of the",
    "start": "2129220",
    "end": "2138150"
  },
  {
    "text": "result from those 15,000 layers we sort by that and then we return the ones with",
    "start": "2138150",
    "end": "2143200"
  },
  {
    "text": "the highest probability and this is just some helpful stuff for enriching the data now when we get over into the",
    "start": "2143200",
    "end": "2152290"
  },
  {
    "start": "2149000",
    "end": "2265000"
  },
  {
    "text": "Twitter side of things we need to go over into lambda lambda and praveen asks",
    "start": "2152290",
    "end": "2172240"
  },
  {
    "text": "when is the Twitter bot coming up we are getting into that now so on the Twitter",
    "start": "2172240",
    "end": "2181450"
  },
  {
    "text": "bot side we have the following kind of setup I have to close one of these tabs",
    "start": "2181450",
    "end": "2187450"
  },
  {
    "text": "just because it's taking absolutely all of the processing power out my computer",
    "start": "2187450",
    "end": "2194530"
  },
  {
    "text": "to stream the logs from this training jaw and blacksmiths asks if I'm doing",
    "start": "2194530",
    "end": "2205540"
  },
  {
    "text": "more sessions later no definitely not today I am going on like two-day make Asians starting immediately after this",
    "start": "2205540",
    "end": "2211510"
  },
  {
    "text": "session so I'd strongly recommend checking out the video on-demand section of twitch channel we have all the",
    "start": "2211510",
    "end": "2217060"
  },
  {
    "text": "previous sessions there and if you go on YouTube we actually have a serious machine learning videos where you have",
    "start": "2217060",
    "end": "2223300"
  },
  {
    "text": "someone who's way more of an expert than me teaching me about machine learning and it's kind of interesting and this",
    "start": "2223300",
    "end": "2231580"
  },
  {
    "text": "code is actually already posted somewhere we built this in a session a year or so ago and I let twitch name it",
    "start": "2231580",
    "end": "2237580"
  },
  {
    "text": "and that was a mistake the the code is actually stored here",
    "start": "2237580",
    "end": "2243360"
  },
  {
    "text": "body make bot face so don't let twitch",
    "start": "2243360",
    "end": "2250570"
  },
  {
    "text": "name things is something that I've kind of come up with and [Music] what we're gonna do here is walk through",
    "start": "2250570",
    "end": "2259359"
  },
  {
    "text": "how you make the Twitter web hug section of this word so first we're going to",
    "start": "2259359",
    "end": "2267130"
  },
  {
    "start": "2265000",
    "end": "2584000"
  },
  {
    "text": "load in our credentials and these credentials are going to be stored in a to be a secrets manager and the you know",
    "start": "2267130",
    "end": "2274089"
  },
  {
    "text": "this is really straightforward it's just gonna contain our consumer secret and our access token and all this other good stuff so the next thing that we do is we",
    "start": "2274089",
    "end": "2281950"
  },
  {
    "text": "calculate the H Mac of the incoming request if it's a get request let's look at the Twitter API really fast so I'm",
    "start": "2281950",
    "end": "2288220"
  },
  {
    "text": "gonna go to dev at twitter.com/zeromd B",
    "start": "2288220",
    "end": "2301660"
  },
  {
    "text": "so for two and a half hours i sat there wondering what on earth I had done wrong",
    "start": "2301660",
    "end": "2307839"
  },
  {
    "text": "what on earth I had ever done to deserve the the insanity that I was currently",
    "start": "2307839",
    "end": "2313329"
  },
  {
    "text": "experiencing and I had I had just misspelled DynamoDB and it took me that long to figure it out so let's look at",
    "start": "2313329",
    "end": "2320200"
  },
  {
    "text": "the account activity API which is what we're gonna be using today and what this allows you to do is it provides a web",
    "start": "2320200",
    "end": "2325720"
  },
  {
    "text": "hook so you go in and you have a little fancy video now this is nice when I",
    "start": "2325720",
    "end": "2332799"
  },
  {
    "text": "first started using the account activity API there was no documentation so you're basically just curling in points and",
    "start": "2332799",
    "end": "2338440"
  },
  {
    "text": "hoping for the best and the documentation was all incorrect and if you want to see my my personal feelings",
    "start": "2338440",
    "end": "2346930"
  },
  {
    "text": "about the original implementation of that if you can go to the Twitter community website and just look for my",
    "start": "2346930",
    "end": "2353109"
  },
  {
    "text": "name that said it is much better now and it does actually work which is important",
    "start": "2353109",
    "end": "2358119"
  },
  {
    "text": "because they have deprecated the user streams API which is how people did this previously so there are a ton of twitter",
    "start": "2358119",
    "end": "2363130"
  },
  {
    "text": "bots that aren't maintained that are gonna disappear in probably the August",
    "start": "2363130",
    "end": "2368200"
  },
  {
    "text": "timeframe as that user streams and other streams API goes away so the account",
    "start": "2368200",
    "end": "2376690"
  },
  {
    "text": "activity API works by taking a web hook",
    "start": "2376690",
    "end": "2382180"
  },
  {
    "text": "in a web hook is just this concept of this HTTP endpoint that you host that you are listening for connection",
    "start": "2382180",
    "end": "2388590"
  },
  {
    "text": "and Twitter is posting stuff to the to that web hook and it's secure now the",
    "start": "2388590",
    "end": "2394800"
  },
  {
    "text": "way that it's secured is outlined and the guide here so this managing secure",
    "start": "2394800",
    "end": "2400440"
  },
  {
    "text": "or sorry securing weapons what Twitter will do is when you first subscribe your",
    "start": "2400440",
    "end": "2406740"
  },
  {
    "text": "web hook to the info or to the API it",
    "start": "2406740",
    "end": "2415140"
  },
  {
    "text": "will send a CRC to a challenge response check to the lambda function and the",
    "start": "2415140",
    "end": "2422370"
  },
  {
    "text": "original requirement here was that you had to respond in less than one second which was not great for lambdas that",
    "start": "2422370",
    "end": "2428430"
  },
  {
    "text": "were coming from a cold start so I used to have to say you know when you were starting all of this you needed a test",
    "start": "2428430",
    "end": "2433470"
  },
  {
    "text": "the lambda function and get it pretty warmed luckily that's not really necessary anymore because three seconds",
    "start": "2433470",
    "end": "2438540"
  },
  {
    "text": "I haven't had a cold start in a Python function over three seconds in a very",
    "start": "2438540",
    "end": "2444720"
  },
  {
    "text": "long time so and then and then",
    "start": "2444720",
    "end": "2450180"
  },
  {
    "text": "blasphemous says if you want to do a portion of a session on web hooks with Splunk you will be my personal hero we",
    "start": "2450180",
    "end": "2456090"
  },
  {
    "text": "actually have a spunk integration into Kinesis now which is pretty darn cool I talked about that at reinvent last year",
    "start": "2456090",
    "end": "2462180"
  },
  {
    "text": "if you're interested in learning more about that you can check it out on that you don't our YouTube channel just look",
    "start": "2462180",
    "end": "2468270"
  },
  {
    "text": "at the live pudding session and we'll divide the available for this yes it absolutely well so okay let's look back",
    "start": "2468270",
    "end": "2473490"
  },
  {
    "text": "at how we secure these things I'm gonna walk through this very very quickly so first of all we basically take the",
    "start": "2473490",
    "end": "2479930"
  },
  {
    "text": "consumer secret combine that with the CRC that we got as part of the get",
    "start": "2479930",
    "end": "2486870"
  },
  {
    "text": "request as the HTTP capital GE T request and then we shot 256 encoded and then we",
    "start": "2486870",
    "end": "2493140"
  },
  {
    "text": "return that sha-256 encoded check to the",
    "start": "2493140",
    "end": "2499610"
  },
  {
    "text": "requesting endpoint and if we return this correctly if we have the correct",
    "start": "2499610",
    "end": "2505500"
  },
  {
    "text": "key and twitter has the correct key we're basically saying that this is all",
    "start": "2505500",
    "end": "2511800"
  },
  {
    "text": "solid this is all good we agree that you know I trust you you trust me and this prevents a number of different kinds of",
    "start": "2511800",
    "end": "2518220"
  },
  {
    "text": "text but it's not enough to do that just when you initially create the web you actually need to do this on every",
    "start": "2518220",
    "end": "2523540"
  },
  {
    "text": "single incoming request so you have this verify request section FQ ID says test 1",
    "start": "2523540",
    "end": "2536079"
  },
  {
    "text": "2 3 yes we can see your text so we",
    "start": "2536079",
    "end": "2541119"
  },
  {
    "text": "verify this request by taking the Twitter web plug signature which is again just another CRC based on the body",
    "start": "2541119",
    "end": "2547210"
  },
  {
    "text": "of the message and the downside of this being based on the body of the message",
    "start": "2547210",
    "end": "2552369"
  },
  {
    "text": "instead of the the the downside of this",
    "start": "2552369",
    "end": "2558760"
  },
  {
    "text": "being based on the body of the message instead of the headers is that if it were based solely on the headers we would actually be able to do the",
    "start": "2558760",
    "end": "2565750"
  },
  {
    "text": "authorization and verification entirely within the API gateway because we could",
    "start": "2565750",
    "end": "2572710"
  },
  {
    "text": "have a velocity template running in the API gateway that would go and calculate all the stuff for us but that's not the",
    "start": "2572710",
    "end": "2578500"
  },
  {
    "text": "case so instead we need to look at the whole request not a big deal though so",
    "start": "2578500",
    "end": "2585280"
  },
  {
    "text": "then we kind of base 64 encode that and we return whether or not the calculated",
    "start": "2585280",
    "end": "2590980"
  },
  {
    "text": "h mac matches the CRC that we got from",
    "start": "2590980",
    "end": "2596020"
  },
  {
    "text": "Twitter and if it does then we know that we're good to go so then we get down here and if the path isn't right then we",
    "start": "2596020",
    "end": "2602200"
  },
  {
    "text": "just you know we return at 404 but if the path is right and it's a get request then we know that we need to do the CRC",
    "start": "2602200",
    "end": "2608260"
  },
  {
    "text": "check and this was all kind this was all kind of live coded in the previous session so you it's not the prettiest",
    "start": "2608260",
    "end": "2617980"
  },
  {
    "text": "code in the world but it was working so there's if it's working that's the first",
    "start": "2617980",
    "end": "2623890"
  },
  {
    "text": "step you you spend typically the next few iterations making it good so I would",
    "start": "2623890",
    "end": "2629859"
  },
  {
    "text": "not describe this current series of conditions and kind of weird exception handling as good I just describe it as",
    "start": "2629859",
    "end": "2636670"
  },
  {
    "text": "working so then we verify the request and if the request is valid then we or",
    "start": "2636670",
    "end": "2646089"
  },
  {
    "text": "if the request is invalid so if the error code that we get from his valid request is over 400 or equal to 400 then",
    "start": "2646089",
    "end": "2651609"
  },
  {
    "text": "we want to just return that response otherwise we want to load the body as a dictionary and then for each",
    "start": "2651609",
    "end": "2658540"
  },
  {
    "text": "event in that dictionary we want to print it but what we really want to do",
    "start": "2658540",
    "end": "2663880"
  },
  {
    "text": "is that we want to call out to Sage maker and we want to say invoke endpoint",
    "start": "2663880",
    "end": "2670530"
  },
  {
    "text": "and I can actually do this from a sari",
    "start": "2670530",
    "end": "2676840"
  },
  {
    "text": "I'm just gonna open this I'm actually I have this running already in a Jupiter",
    "start": "2676840",
    "end": "2682150"
  },
  {
    "text": "notebook rather than trying to do it over here in this lambda function let me just show you briefly oh I don't know",
    "start": "2682150",
    "end": "2689560"
  },
  {
    "text": "why my machine is running so slowly this is infuriating",
    "start": "2689560",
    "end": "2693540"
  },
  {
    "text": "[Music]",
    "start": "2702850",
    "end": "2705949"
  },
  {
    "text": "how do I Wow why is it going so slow this is",
    "start": "2708960",
    "end": "2717760"
  },
  {
    "text": "definitely the result of too little",
    "start": "2717760",
    "end": "2722980"
  },
  {
    "text": "coffee for my machine",
    "start": "2722980",
    "end": "2726150"
  },
  {
    "text": "so something is definitely taking a lot of so let's see yeah",
    "start": "2733559",
    "end": "2746909"
  },
  {
    "text": "OBS is unhappy I don't know why it's taking so much of the CPU that's",
    "start": "2746909",
    "end": "2752349"
  },
  {
    "text": "abnormal it's typically hovering around 10 to 20 percent of my CPU so I guess",
    "start": "2752349",
    "end": "2757929"
  },
  {
    "text": "it's just unhappy today but anyway we can proceed it make steady progress and",
    "start": "2757929",
    "end": "2771950"
  },
  {
    "text": "[Music] if we go look at the where Wow sorry",
    "start": "2771950",
    "end": "2781569"
  },
  {
    "text": "it's just so slow my computer is like 6",
    "start": "2781569",
    "end": "2786849"
  },
  {
    "text": "years old so that would have that would have something to do with it too so we",
    "start": "2786849",
    "end": "2793479"
  },
  {
    "text": "can look at the way this Web book is designed so you can see here what I'm",
    "start": "2793479",
    "end": "2799839"
  },
  {
    "text": "doing is I just have a proxy invocation an API gateway going out to this lambda",
    "start": "2799839",
    "end": "2806140"
  },
  {
    "text": "function over here this is where ml invoker which is the one that we were just looking at and then we're bringing it back and we're sending it back to the",
    "start": "2806140",
    "end": "2812019"
  },
  {
    "text": "client and we can test it and we can say hey I want to run a git and it'll tell me that the CRC is invalid because I'm",
    "start": "2812019",
    "end": "2819640"
  },
  {
    "text": "not posting a CRC so CRC's not provided",
    "start": "2819640",
    "end": "2826119"
  },
  {
    "text": "room valid but twitter of course would provide one and since we have the correct credentials it would be all all set so let's hop over I can't remember",
    "start": "2826119",
    "end": "2836349"
  },
  {
    "text": "which of these untitled notebooks I put the actual stuff in and you boy kids'll",
    "start": "2836349",
    "end": "2847150"
  },
  {
    "text": "I'm gonna cover that stage make your invoke code right now okay so let's take",
    "start": "2847150",
    "end": "2856209"
  },
  {
    "start": "2854000",
    "end": "3347000"
  },
  {
    "text": "a look here and all we really need to do right now is create this stage maker",
    "start": "2856209",
    "end": "2863979"
  },
  {
    "text": "client now because stage maker has an API for instantiating the variance in points there are actually",
    "start": "2863979",
    "end": "2870609"
  },
  {
    "text": "two different sage maker kind of clients",
    "start": "2870609",
    "end": "2876280"
  },
  {
    "text": "that you can create within the SDK you can do runtime dot sage maker or just plain sage maker and just plain sage",
    "start": "2876280",
    "end": "2882670"
  },
  {
    "text": "maker are the API is for standing up different different containers and",
    "start": "2882670",
    "end": "2889840"
  },
  {
    "text": "production variants and AV testing models and starting new training jobs and all that good stuff but the runtime",
    "start": "2889840",
    "end": "2895000"
  },
  {
    "text": "that sage maker is solely for invoking the endpoint so we know that our endpoint is predict v2 and we've got a",
    "start": "2895000",
    "end": "2901510"
  },
  {
    "text": "URL in fact if you guys want we can go and talk about using another URL so",
    "start": "2901510",
    "end": "2910859"
  },
  {
    "text": "let's what what's it what's an image what's a unique location that you guys",
    "start": "2910859",
    "end": "2916000"
  },
  {
    "text": "would like to test any any location at all and you know some more watcher so",
    "start": "2916000",
    "end": "2922330"
  },
  {
    "text": "I'm gonna let you guys type in the chat for a second try and come up with a new",
    "start": "2922330",
    "end": "2930130"
  },
  {
    "text": "location Aruba Indonesia let's let's go",
    "start": "2930130",
    "end": "2938260"
  },
  {
    "text": "with something so Indonesia and Aruba and everything those are those are very large broad places Jamaica Ruba Jamaica",
    "start": "2938260",
    "end": "2948390"
  },
  {
    "text": "yeah let's go with something obscure lockjaw Kentucky that's pretty obscure",
    "start": "2948390",
    "end": "2956280"
  },
  {
    "text": "never even heard of that place Sydney",
    "start": "2956640",
    "end": "2965339"
  },
  {
    "text": "I'm still way for something unique remote island the",
    "start": "2965609",
    "end": "2980400"
  },
  {
    "text": "problem is I'm not going to know where this is so I guess I could take these",
    "start": "2980400",
    "end": "2987869"
  },
  {
    "text": "latitude and longitude coordinates that are LS Malay just posted go to Google",
    "start": "2987869",
    "end": "2996900"
  },
  {
    "text": "Maps drop a street view pin and then see",
    "start": "2996900",
    "end": "3007060"
  },
  {
    "text": "what happens so I can go drop the street",
    "start": "3007060",
    "end": "3020480"
  },
  {
    "text": "view over here",
    "start": "3020480",
    "end": "3023470"
  },
  {
    "text": "good ol super slow Internet",
    "start": "3029780",
    "end": "3034880"
  },
  {
    "text": "I have been around here before this",
    "start": "3036180",
    "end": "3042330"
  },
  {
    "text": "place looks so familiar oh this is a Apple's HQ okay so what we're just gonna",
    "start": "3042330",
    "end": "3050340"
  },
  {
    "text": "take a picture I'm gonna take a screenshot of this location and then I'm",
    "start": "3050340",
    "end": "3059910"
  },
  {
    "text": "gonna put that on s3 really fast if you",
    "start": "3059910",
    "end": "3070440"
  },
  {
    "text": "guys come up with somewhere else too and if you if you DM me a an image URL and I",
    "start": "3070440",
    "end": "3077940"
  },
  {
    "text": "open it on another screen and it is appropriate I will I will test the",
    "start": "3077940",
    "end": "3083880"
  },
  {
    "text": "network with that as well and please no comments on the number of s3 buckets",
    "start": "3083880",
    "end": "3091200"
  },
  {
    "text": "that I have which is a lot wow it's so",
    "start": "3091200",
    "end": "3102390"
  },
  {
    "text": "slow it's not eight of us though it is just my my potato computer",
    "start": "3102390",
    "end": "3110210"
  },
  {
    "text": "[Music]",
    "start": "3113120",
    "end": "3116380"
  },
  {
    "text": "upload that screenshot I just took we're",
    "start": "3134019",
    "end": "3139880"
  },
  {
    "text": "gonna make it publicly readable upload I",
    "start": "3139880",
    "end": "3149269"
  },
  {
    "text": "could have done this probably through I'm sorry guys you can't post the links",
    "start": "3149269",
    "end": "3157119"
  },
  {
    "text": "directly in the chat you can DM me though and that shouldn't work I'm",
    "start": "3157599",
    "end": "3162829"
  },
  {
    "text": "unbanning the people who posted them directly in the chat sorry so I've got",
    "start": "3162829",
    "end": "3173930"
  },
  {
    "text": "this now copy link address so we're",
    "start": "3173930",
    "end": "3187039"
  },
  {
    "text": "gonna take this image I'm going to paste it in and we're just gonna say give me the top three and of course it doesn't",
    "start": "3187039",
    "end": "3195769"
  },
  {
    "text": "work what is the error here some sort of",
    "start": "3195769",
    "end": "3206150"
  },
  {
    "text": "TLS handshake err huh that's weird",
    "start": "3206150",
    "end": "3213249"
  },
  {
    "text": "haven't ever had to deal with that before yeah it's really weird you know",
    "start": "3213249",
    "end": "3225799"
  },
  {
    "text": "what I did is it's probably an sni thing server name identification",
    "start": "3225799",
    "end": "3232150"
  },
  {
    "text": "interesting let's just go to Google Images and find",
    "start": "3236799",
    "end": "3247119"
  },
  {
    "text": "some stuff and then in five minutes I'm gonna go on vacation so what's a weird",
    "start": "3247119",
    "end": "3256810"
  },
  {
    "text": "random place Roswell New Mexico I'm",
    "start": "3256810",
    "end": "3285099"
  },
  {
    "text": "trying to find something that's fairly obscure because all these signs are pretty accurate this one looks super",
    "start": "3285099",
    "end": "3301180"
  },
  {
    "text": "random and it's small let's go with",
    "start": "3301180",
    "end": "3306640"
  },
  {
    "text": "something a little bit bigger yeah TripAdvisor calm let's let's use this",
    "start": "3306640",
    "end": "3313060"
  },
  {
    "text": "image copy image address we'll throw",
    "start": "3313060",
    "end": "3318880"
  },
  {
    "text": "this in and these are the coordinates we",
    "start": "3318880",
    "end": "3327760"
  },
  {
    "text": "got back we can map those and",
    "start": "3327760",
    "end": "3336119"
  },
  {
    "text": "hopefully it's in Roswell New Mexico and if it's not I'm going to give up and go to sleep come on slow internet slow slow",
    "start": "3341069",
    "end": "3354069"
  },
  {
    "start": "3347000",
    "end": "3600000"
  },
  {
    "text": "slow computer it doesn't ever normally",
    "start": "3354069",
    "end": "3361689"
  },
  {
    "text": "go this slowly huh geez you know it's",
    "start": "3361689",
    "end": "3389049"
  },
  {
    "text": "almost faster to just do it all locally at this point huh",
    "start": "3389049",
    "end": "3405689"
  },
  {
    "text": "I feel like everything is just okay so",
    "start": "3409900",
    "end": "3420039"
  },
  {
    "text": "here are the coordinates I'll piece them in the chat someone who",
    "start": "3420039",
    "end": "3432579"
  },
  {
    "text": "has working computer could probably tell me if they're right or not so we're looking for Roswell New Mexico know what",
    "start": "3432579",
    "end": "3443140"
  },
  {
    "text": "my computer needs is less of the",
    "start": "3443140",
    "end": "3449339"
  },
  {
    "text": "insanity that's running on it from our corporate IT and more of the RAM",
    "start": "3449339",
    "end": "3454869"
  },
  {
    "text": "dedicated to like actually running useful stuff so Oklahoma City is not",
    "start": "3454869",
    "end": "3466869"
  },
  {
    "text": "right what about the second one",
    "start": "3466869",
    "end": "3475558"
  },
  {
    "text": "let's go with a tin Arizona is pretty",
    "start": "3480599",
    "end": "3486670"
  },
  {
    "text": "close to Roswell so",
    "start": "3486670",
    "end": "3499349"
  },
  {
    "text": "if you if you really want to you know see this in action you can test it",
    "start": "3500300",
    "end": "3505400"
  },
  {
    "text": "yourself just go to twitter.com slash where ml and you post a picture you can post something from your camera roll it",
    "start": "3505400",
    "end": "3511880"
  },
  {
    "text": "can be indoors outdoors doesn't really matter and this is just unbelievably",
    "start": "3511880",
    "end": "3523120"
  },
  {
    "text": "slow in bed and it'll tell you where in",
    "start": "3523120",
    "end": "3528890"
  },
  {
    "text": "the world thinks it is it'll get it exactly right sometimes and it will get it completely wrong sometimes it's really just based on the",
    "start": "3528890",
    "end": "3537410"
  },
  {
    "text": "data that we have and how things work so",
    "start": "3537410",
    "end": "3542799"
  },
  {
    "text": "thank you guys for joining in today that's really all I'm gonna show I'll post some links now with all the",
    "start": "3542980",
    "end": "3548810"
  },
  {
    "text": "different content so if you want to see most of the code if you want to see the slides if you want to see Twitter then",
    "start": "3548810",
    "end": "3565310"
  },
  {
    "text": "go ahead try it out I do use the images that are posted to retrain the network but none of your",
    "start": "3565310",
    "end": "3572200"
  },
  {
    "text": "information is associated with any of that so it's just you know it's not tied",
    "start": "3572200",
    "end": "3578900"
  },
  {
    "text": "to you in any way I'm gonna go to bed and I want to say thanks everybody who joined the aw scent of a conference",
    "start": "3578900",
    "end": "3585050"
  },
  {
    "text": "today I hope you enjoyed the other sessions if you want a session with me with a little bit more rest try the one the first one we did earlier",
    "start": "3585050",
    "end": "3591440"
  },
  {
    "text": "today and thanks again hope you guys all have a good day I'm trying to start I've",
    "start": "3591440",
    "end": "3598730"
  },
  {
    "text": "been trying to click stop streaming now for like a minute and I'm just gonna",
    "start": "3598730",
    "end": "3604400"
  },
  {
    "text": "keep talking until it actually stop streaming oh my god its computer so slow",
    "start": "3604400",
    "end": "3611200"
  }
]