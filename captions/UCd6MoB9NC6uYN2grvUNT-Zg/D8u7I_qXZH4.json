[
  {
    "start": "0",
    "end": "75000"
  },
  {
    "text": "[Music] welcome to you can help you understand",
    "start": "5710",
    "end": "16020"
  },
  {
    "text": "service in a more in depth where are we going to code something from scratch make some mistakes and of course have",
    "start": "16020",
    "end": "23100"
  },
  {
    "text": "you to help us actually fix some of those problems some people would call this as a live Stack Overflow we can",
    "start": "23100",
    "end": "29250"
  },
  {
    "text": "actually call anything we want as long as we fix those problems you can't script the errors okay hello",
    "start": "29250",
    "end": "36390"
  },
  {
    "text": "so I'm not sure how familiar everyone is on the Sam and all the tools we have so we just gonna give a 101 very quickly on",
    "start": "36390",
    "end": "43649"
  },
  {
    "text": "the tools we're gonna use and then we crack on and start coding as quick as we can if you can see my screen properly",
    "start": "43649",
    "end": "50940"
  },
  {
    "text": "this is the project called service application model or Sam Sam is what the",
    "start": "50940",
    "end": "57000"
  },
  {
    "text": "basis for pretty much everything we gonna do today it provides you a super set on top of confirmation she easily",
    "start": "57000",
    "end": "63989"
  },
  {
    "text": "creates several applications designed how they should behave how they should do from infrastructure as code",
    "start": "63989",
    "end": "70470"
  },
  {
    "text": "perspective and we also going to talk about service application",
    "start": "70470",
    "end": "77688"
  },
  {
    "text": "you we built it and you should be able to use to get an idea how a service",
    "start": "83710",
    "end": "90540"
  },
  {
    "text": "application looks like maybe in Java pipes on node.js but Platon is the best so I would say go for Python that should",
    "start": "90540",
    "end": "98310"
  },
  {
    "text": "work out goes quickly making it come back though if we if we go for the first",
    "start": "98310",
    "end": "104369"
  },
  {
    "start": "103000",
    "end": "213000"
  },
  {
    "text": "one have a quick look at the service application repository Before we jump into the Sam if you click on that button",
    "start": "104369",
    "end": "111119"
  },
  {
    "text": "to look up for service applications as soon as that one opens up maybe it's my",
    "start": "111119",
    "end": "117509"
  },
  {
    "text": "here we go you will be able to see a bunch of applications like this hopefully at the end of the this",
    "start": "117509",
    "end": "123569"
  },
  {
    "text": "particular episode we will try our best to publish to finish the app and publish",
    "start": "123569",
    "end": "128610"
  },
  {
    "text": "this in this repository so you can go and hack around anything you want to do it if I were to show something like look",
    "start": "128610",
    "end": "136140"
  },
  {
    "text": "up for fightin I will be able to see a bunch of apps over here and if I look for Java will be the same thing or",
    "start": "136140",
    "end": "142769"
  },
  {
    "text": "webbing through web applications and so forth and so forth the idea from here is that once you click in one of those apps",
    "start": "142769",
    "end": "149280"
  },
  {
    "text": "you'll be able to see everything the app will do for you a license because we care how do we public package that up",
    "start": "149280",
    "end": "156750"
  },
  {
    "text": "how do we use that application in the first place and you actually deploy the application from the console everything",
    "start": "156750",
    "end": "163410"
  },
  {
    "text": "works just as fine it's kind of one-click push of a CloudFormation template isn't it that's right Santa",
    "start": "163410",
    "end": "169920"
  },
  {
    "text": "yeah so when you click and deploy actually this will behind it seems we launched a confirmation stack and we",
    "start": "169920",
    "end": "175950"
  },
  {
    "text": "handle all all that for you if I click on deploy over here for now",
    "start": "175950",
    "end": "181049"
  },
  {
    "text": "just to give you a sense of how the experience would look like you will see the permissions that the application",
    "start": "181049",
    "end": "187019"
  },
  {
    "text": "actually needs even the same template actually that person used to publish that okay so we're gonna try to mimic",
    "start": "187019",
    "end": "192870"
  },
  {
    "text": "that at the very end so I can deploy it from here have a play with the sample application they don't have done go to",
    "start": "192870",
    "end": "198870"
  },
  {
    "text": "CloudFormation and just delete the whole thing absolutely okay and even the cooler thing is if you look at the top",
    "start": "198870",
    "end": "203880"
  },
  {
    "text": "their source code URL and you even see where the source code coming from so may you may want to have a look at the",
    "start": "203880",
    "end": "209760"
  },
  {
    "text": "source code before they deploy anything else cool okay so this is the server",
    "start": "209760",
    "end": "214920"
  },
  {
    "start": "213000",
    "end": "315000"
  },
  {
    "text": "this application repository and we fit go back in here Sam provides you a bunch of examples",
    "start": "214920",
    "end": "221510"
  },
  {
    "text": "over here so instead of actually going through multiple tabs I'm going to use a super cool extension called octo tree",
    "start": "221510",
    "end": "227660"
  },
  {
    "text": "which allows me to do this so I don't have to keep moving around what we're",
    "start": "227660",
    "end": "232700"
  },
  {
    "text": "gonna do today is one of the examples called encryption proxy so it's under examples the year and then encryption",
    "start": "232700",
    "end": "239510"
  },
  {
    "text": "proxy over here you actually also have a bunch of others in there let's say if I were to pick up a API back-end for to",
    "start": "239510",
    "end": "247160"
  },
  {
    "text": "click over here I would see a Sam think light that we're gonna write that down and can explain to you what every line",
    "start": "247160",
    "end": "254030"
  },
  {
    "text": "actually means but this is to give you an idea what a hello world actually looks like you will see a function over",
    "start": "254030",
    "end": "259820"
  },
  {
    "text": "here but it's lambda you define what programming language you're gonna use this case note you define where the code",
    "start": "259820",
    "end": "267470"
  },
  {
    "text": "is from so in this case is coming from source and also how is this function is",
    "start": "267470",
    "end": "273770"
  },
  {
    "text": "gonna be invoked in this case API gateway so if we call /resources lash anything that will evoke that lambda",
    "start": "273770",
    "end": "280880"
  },
  {
    "text": "function okay cool so in our case our is",
    "start": "280880",
    "end": "286310"
  },
  {
    "text": "a little bit book here in that sense we the encryption proxy what it does is it's an API that provides you an encrypt",
    "start": "286310",
    "end": "293120"
  },
  {
    "text": "and a decrypt any data that we send to the encrypt as adjacent will be returned",
    "start": "293120",
    "end": "298849"
  },
  {
    "text": "as an encrypted data we're going to use a service called kms that allows you to simply encrypt or decrypt data in a much",
    "start": "298849",
    "end": "306169"
  },
  {
    "text": "more simplified way still using the heavy security requirements like a I hate the sin but in a more simplified",
    "start": "306169",
    "end": "312680"
  },
  {
    "text": "API so the next piece we're gonna start",
    "start": "312680",
    "end": "317900"
  },
  {
    "start": "315000",
    "end": "449000"
  },
  {
    "text": "coding and doing all this is a project that we published actually today if so",
    "start": "317900",
    "end": "323360"
  },
  {
    "text": "I'm sure you haven't seen this so that's nuclear so under a table read samples there's something called cookie cutter -",
    "start": "323360",
    "end": "330020"
  },
  {
    "text": "edible as Sam - fighter if you haven't seen this cookie cutter before it's",
    "start": "330020",
    "end": "335539"
  },
  {
    "text": "nothing more pee a file that basically called cookie cutter that JSON it is at",
    "start": "335539",
    "end": "342289"
  },
  {
    "text": "a plant template engine that will read this file ask a bunch of questions and also the values actually become the",
    "start": "342289",
    "end": "348979"
  },
  {
    "text": "default values so kind of a makes it easy and based on those questions based on those answers you give us an input it",
    "start": "348979",
    "end": "355550"
  },
  {
    "text": "will generate everything inside this folder over here so that we can have a function already done for us a sound",
    "start": "355550",
    "end": "362390"
  },
  {
    "text": "template of a bunch of other best practices even some unit tests or something like this okay so this is the",
    "start": "362390",
    "end": "368030"
  },
  {
    "text": "the templating engine we're gonna be using today for for building out a lambda API gateway project that's right",
    "start": "368030",
    "end": "374480"
  },
  {
    "text": "it's actually super easy to start with Sam looking for hello words and everything else but if we were to",
    "start": "374480",
    "end": "379670"
  },
  {
    "text": "implement all the best practices we are aiming for today that will take a little bit of wire more than one hour in that",
    "start": "379670",
    "end": "385040"
  },
  {
    "text": "case so we're gonna try to use this as a means to accelerate the scaffolding project for us yeah and by the way this",
    "start": "385040",
    "end": "391640"
  },
  {
    "text": "is not just for Pisan so as long as you have this cookie cutter JSON you can do for any language any file anything ever",
    "start": "391640",
    "end": "398000"
  },
  {
    "text": "and I can eyes as say a business or a project team I can take this create my own customized template where all of my",
    "start": "398000",
    "end": "405170"
  },
  {
    "text": "gateways are gonna have encryption and different certain features turned on in that way as a new project team I can",
    "start": "405170",
    "end": "411320"
  },
  {
    "text": "just use cookie cutter or similar tooling to get started right away and then just focus on my capability my",
    "start": "411320",
    "end": "417530"
  },
  {
    "text": "functions and my innovation I don't need to actually build the the business standard API gave absolutely the whole",
    "start": "417530",
    "end": "424100"
  },
  {
    "text": "point of this is that if you want to go ahead and fork this just click on that button on the top right and change for",
    "start": "424100",
    "end": "430760"
  },
  {
    "text": "whatever language you need to use or all of these other pieces you want to make sure that every developer when they",
    "start": "430760",
    "end": "436610"
  },
  {
    "text": "start a new project all their security controls all your practices in general goes right there and that is also true",
    "start": "436610",
    "end": "443240"
  },
  {
    "text": "for any infrastructures code building a pipeline or pretty much anything okay so",
    "start": "443240",
    "end": "449210"
  },
  {
    "start": "449000",
    "end": "480000"
  },
  {
    "text": "how do you use this first you need to install a library or a tool called cookie cutter so if you if you want to",
    "start": "449210",
    "end": "455720"
  },
  {
    "text": "follow with us you just do a pip install cookie cutter if you are on Mac OS you just do a brew",
    "start": "455720",
    "end": "461270"
  },
  {
    "text": "install cookie cutter or if you are following the news more recently python",
    "start": "461270",
    "end": "466700"
  },
  {
    "text": "community is changing to something called pip end which actually brings a lot of interesting features for us and",
    "start": "466700",
    "end": "473060"
  },
  {
    "text": "this is the first time he works on Windows as a first-class citizen so you can install this cookie cutter",
    "start": "473060",
    "end": "478910"
  },
  {
    "text": "using one of these tools because I already have it that's just crack on",
    "start": "478910",
    "end": "485110"
  },
  {
    "start": "480000",
    "end": "670000"
  },
  {
    "text": "so if I were to do this right now I would say cookie cutter and then the URL",
    "start": "485770",
    "end": "491870"
  },
  {
    "text": "that's it let me just increase my screen edge just a little bit and though that",
    "start": "491870",
    "end": "498710"
  },
  {
    "text": "chains on those keys on that Jason is actually not right now is the input is actually asking me so if I would say",
    "start": "498710",
    "end": "505160"
  },
  {
    "text": "simple crypto service if some space I would just get all those space being",
    "start": "505160",
    "end": "512240"
  },
  {
    "text": "stripped and I could say this is a simple crypto service that leverages kms",
    "start": "512240",
    "end": "520340"
  },
  {
    "text": "lambda API gateway and much more okay and this is the interesting part that we",
    "start": "520340",
    "end": "527390"
  },
  {
    "text": "actually helped a lot in accelerating those projects do you want to include API gate well what we want do you want",
    "start": "527390",
    "end": "534140"
  },
  {
    "text": "to include x-ray so tell us about x-ray so x-ray is a great way that when you",
    "start": "534140",
    "end": "541250"
  },
  {
    "text": "start to get more more lambda functions and when you start to use more AWS services if you need to start to",
    "start": "541250",
    "end": "548260"
  },
  {
    "text": "basically P trace your lambda function x-ray is gonna be a great way to do that",
    "start": "548260",
    "end": "553310"
  },
  {
    "text": "in terms of understanding how much time you're spending in different functions in your codebase what endpoints you're",
    "start": "553310",
    "end": "559130"
  },
  {
    "text": "invoking here we're going to be talking to the the key management service we might also be talking to dynamodb for",
    "start": "559130",
    "end": "564800"
  },
  {
    "text": "other projects and similar and it's going to give us a great way to kind of get some introspection into what's going",
    "start": "564800",
    "end": "569810"
  },
  {
    "text": "on inside of our code as it executes yeah absolutely okay if we go past this he asked us do you want include safe",
    "start": "569810",
    "end": "576440"
  },
  {
    "text": "deployment well if some of you have heard about canary releases or Bluegreen deployments all of these type of",
    "start": "576440",
    "end": "582260"
  },
  {
    "text": "deployments make a lot of sense in general for production because you don't want to you don't want to simply start pushing the new code and cut over all",
    "start": "582260",
    "end": "589580"
  },
  {
    "text": "the traffic at once because maybe you have a lot of customers already using it and you want to make sure you can test a",
    "start": "589580",
    "end": "595280"
  },
  {
    "text": "percentage of the traffic or something and if that works then you can move more traffic and sure you are at 100% so in",
    "start": "595280",
    "end": "603110"
  },
  {
    "text": "this case we're gonna do the scaffolding for you and what to show you what it takes to actually do this exam okay",
    "start": "603110",
    "end": "610529"
  },
  {
    "text": "and you don't need to do this but I'm gonna do this because he automates a lot of my stuff in a boring pieces we're",
    "start": "610529",
    "end": "616889"
  },
  {
    "text": "gonna include experimental make file so if some F is actually on the screen he was actually saying that he felt dizzy",
    "start": "616889",
    "end": "623159"
  },
  {
    "text": "trying to read and understand and make file so that's just tell me um see folks that's okay so if we go to this new",
    "start": "623159",
    "end": "631229"
  },
  {
    "text": "folder that we just created let's open up an IDE and let's crack on if you can say this you will see that",
    "start": "631229",
    "end": "639179"
  },
  {
    "text": "folder structure that I showed you on github it's already here so if we go to",
    "start": "639179",
    "end": "644189"
  },
  {
    "text": "the readme file now we actually tell you all the requirements you need in order",
    "start": "644189",
    "end": "649739"
  },
  {
    "text": "to get productive so of course you need a diversity of lies you can do some deployments in it Python you need people",
    "start": "649739",
    "end": "657119"
  },
  {
    "text": "and installed as a requirement for now and if you want to do local development we asked you to run install actually",
    "start": "657119",
    "end": "664949"
  },
  {
    "text": "docker and some local so actually right",
    "start": "664949",
    "end": "670679"
  },
  {
    "text": "while we are here let's actually open up quickly to some local so I don't know how many people seen some local I'm not",
    "start": "670679",
    "end": "677579"
  },
  {
    "text": "sure about really not many ok so the some local if you haven't seen this is the white you read that name Plato llamo",
    "start": "677579",
    "end": "684659"
  },
  {
    "text": "and actually instantiate an API gateway locally and also lambda functions so",
    "start": "684659",
    "end": "690539"
  },
  {
    "text": "we're gonna try to do this in order to Expedia our environment in our lifecycle as well okay so same look is a way to",
    "start": "690539",
    "end": "696089"
  },
  {
    "text": "locally test and execute environments or execute API gateways and lambda",
    "start": "696089",
    "end": "701309"
  },
  {
    "text": "functions without actually deploying anything in the AWS exactly if you actually look at if you'll actually",
    "start": "701309",
    "end": "707519"
  },
  {
    "text": "scroll down a little bit here you will see an example that was actually done by Paloma Docs and also Sanaa for work on",
    "start": "707519",
    "end": "714809"
  },
  {
    "text": "that project and also Pelayo if you want on the string so essentially some local we read that index dot JSP which is a",
    "start": "714809",
    "end": "721829"
  },
  {
    "text": "lambda function if we read that things like diamo and will execute as a lambda",
    "start": "721829",
    "end": "727259"
  },
  {
    "text": "function behind the scenes actually uses docker and we actually mount of docker",
    "start": "727259",
    "end": "732899"
  },
  {
    "text": "volume with that project and then you will be able to invoke the lambda function locally as well okay cool",
    "start": "732899",
    "end": "739379"
  },
  {
    "text": "what about if I'm using other services like dynamodb how am I going be able to run tests if I'm using things",
    "start": "739379",
    "end": "745960"
  },
  {
    "text": "beyond just a TDI gateway Atlanta sure so dynamodb in particular we have something called dynamo to be local if",
    "start": "745960",
    "end": "751870"
  },
  {
    "text": "you haven't seen this so that I'm going to be local I just put this one over here it's a jar that we actually offer",
    "start": "751870",
    "end": "758980"
  },
  {
    "text": "to you and you can also run that as a docker container okay so someone on on",
    "start": "758980",
    "end": "764380"
  },
  {
    "text": "docker hub actually did this and you can simply run as a docker container and you have most of the features or DynamoDB",
    "start": "764380",
    "end": "770950"
  },
  {
    "text": "right there okay cool okay so if you go",
    "start": "770950",
    "end": "776350"
  },
  {
    "start": "774000",
    "end": "860000"
  },
  {
    "text": "back in here the only thing that asked us afterwards is that well we need to start abundances so if I just copy these",
    "start": "776350",
    "end": "782800"
  },
  {
    "text": "two commands and then if we run this now because I'm using Visual Studio code",
    "start": "782800",
    "end": "789390"
  },
  {
    "text": "since February actually they made an update that now they also automatically recognize your project has PMF so all",
    "start": "789390",
    "end": "797590"
  },
  {
    "text": "the virtual environment all that stuff that was difficult for Python developers is actually sold by depend if you just",
    "start": "797590",
    "end": "803890"
  },
  {
    "text": "to keep installed a flight or pilot or something like this it will look at your",
    "start": "803890",
    "end": "808960"
  },
  {
    "text": "pip file install only what it means development package or developing dependency and all your virtual",
    "start": "808960",
    "end": "815350"
  },
  {
    "text": "environment everything else is already abstracted from you okay excellent if I already installed all of this I will see",
    "start": "815350",
    "end": "821860"
  },
  {
    "text": "my pip file if we're new to this tool you will see the package that I was trying to install and you see that dev",
    "start": "821860",
    "end": "827680"
  },
  {
    "text": "package reinstalling PI tests and also a plugin for doing line coverage in a unit testing",
    "start": "827680",
    "end": "834190"
  },
  {
    "text": "perspective if I open up a big fire the lock you actually see a char and every",
    "start": "834190",
    "end": "840460"
  },
  {
    "text": "dependence we have for that particular version they hatched and we can be sure that the next time we install this will",
    "start": "840460",
    "end": "846730"
  },
  {
    "text": "be the exactly the same version so we peen that very similar to no js' NPM or",
    "start": "846730",
    "end": "852400"
  },
  {
    "text": "yarn for that sense okay cool so that's a big improvement actually from coming",
    "start": "852400",
    "end": "858010"
  },
  {
    "text": "from PIP if you are coming that way so as we've done this the first step you",
    "start": "858010",
    "end": "863170"
  },
  {
    "start": "860000",
    "end": "967000"
  },
  {
    "text": "can try is we also provide you a simple unit testing to show how we could unit",
    "start": "863170",
    "end": "868180"
  },
  {
    "text": "test the love the function so if you just actually copy this now and say pip",
    "start": "868180",
    "end": "873310"
  },
  {
    "text": "and run Python pie taste and all this you would actually execute the tests on the test and we can see how",
    "start": "873310",
    "end": "881170"
  },
  {
    "text": "that actually works the interesting piece though if you were running virtual environment in the past you had to",
    "start": "881170",
    "end": "886990"
  },
  {
    "text": "activate them run some commands and then deactivate so that all of this was a bit clunky so now with people and we can",
    "start": "886990",
    "end": "893620"
  },
  {
    "text": "simply say I don't know how big that my terminal is but if it simply did hit and run anything after that will actually be",
    "start": "893620",
    "end": "901089"
  },
  {
    "text": "executed in the virtual environment okay if we look at our test now so you can",
    "start": "901089",
    "end": "906430"
  },
  {
    "text": "start writing the code is you see a library called a test which I'd say",
    "start": "906430",
    "end": "912399"
  },
  {
    "text": "arguably is the best tool either for Python developers you run unit tests functional tests and everything and we",
    "start": "912399",
    "end": "919630"
  },
  {
    "text": "actually import our our lambda function exactly the same way we will do for any",
    "start": "919630",
    "end": "924940"
  },
  {
    "text": "other code of course we use a fixture for a unit testing to make sure that we can use that in multiple tests in which",
    "start": "924940",
    "end": "931450"
  },
  {
    "text": "for unit test cases all we are doing here is returning one API gateway would",
    "start": "931450",
    "end": "936640"
  },
  {
    "text": "actually inject if our London function were supposed to be invoked we could also do this by sun block open for now",
    "start": "936640",
    "end": "944079"
  },
  {
    "text": "just hold on and then in here we'd simply say well call our lambda handler",
    "start": "944079",
    "end": "949779"
  },
  {
    "text": "with the API gateway event but no context we don't need that for now and if the return is few hundred and if the",
    "start": "949779",
    "end": "957760"
  },
  {
    "text": "body return is how the world any means actually works so testing it's nothing else exactly the same way as it normally",
    "start": "957760",
    "end": "964060"
  },
  {
    "text": "do okay all right so we got this done if we continue to go for our readme you",
    "start": "964060",
    "end": "971800"
  },
  {
    "text": "will see that we explain a little bit about the packaging how the packaging works in Sami for used to this if we",
    "start": "971800",
    "end": "979000"
  },
  {
    "text": "open up our Sam template one thing that happens is that all of this is actually already commented with links exactly",
    "start": "979000",
    "end": "986949"
  },
  {
    "text": "where you can find more information so you don't have to keep navigating through the through the github or",
    "start": "986949",
    "end": "992410"
  },
  {
    "text": "through Google everything you need to know to get started and get as close your production as possible that's what",
    "start": "992410",
    "end": "998920"
  },
  {
    "text": "the cookie cutter did for you if we look at the function itself as we were actually showing that previously I have",
    "start": "998920",
    "end": "1005640"
  },
  {
    "text": "a simple function called first function and then in here in the code your eye I actually tell",
    "start": "1005640",
    "end": "1011910"
  },
  {
    "text": "Sam and also some local and every project in between where'd you look for my files if I were if I were to look",
    "start": "1011910",
    "end": "1019140"
  },
  {
    "text": "here I wouldn't be able to see any beautifier they're all folder and of course if I were to do some local",
    "start": "1019140",
    "end": "1024720"
  },
  {
    "text": "development that would fail so how do we do this I will show you the boring piece first and then we'll just automate all",
    "start": "1024720",
    "end": "1031410"
  },
  {
    "text": "this and then we can come the way you do this is because people and this is a new",
    "start": "1031410",
    "end": "1036990"
  },
  {
    "text": "tool and it doesn't allow you to install dependencies directly into the target directory or a folder we need to convert",
    "start": "1036990",
    "end": "1043530"
  },
  {
    "text": "this into eight requirements the text the old pip install that and then we",
    "start": "1043530",
    "end": "1048660"
  },
  {
    "text": "should be able to see everything in there and of course we need to copy our lambda function code into the new build",
    "start": "1048660",
    "end": "1054660"
  },
  {
    "text": "folder nodejs is a bit different it doesn't have to go through that process but this is how it works actually for",
    "start": "1054660",
    "end": "1062280"
  },
  {
    "text": "for Python developers so now what I see that it's it's building a lot of",
    "start": "1062280",
    "end": "1067679"
  },
  {
    "text": "packages and as you said it's gonna put it into the dev folder so when this actually gets uploaded as a lambda",
    "start": "1067679",
    "end": "1073500"
  },
  {
    "text": "function what's going on there what's happening in behind the scenes sure so what happens in there is a Python for",
    "start": "1073500",
    "end": "1080160"
  },
  {
    "text": "for Python developers for Python functions different from those areas where we have a file and then you have",
    "start": "1080160",
    "end": "1086580"
  },
  {
    "text": "node modules all your modules are actually there for Python in particular he expects you to have a flat folder or",
    "start": "1086580",
    "end": "1093720"
  },
  {
    "text": "a zip in this case with all your dependencies and your application at the same structure so if we were to let's",
    "start": "1093720",
    "end": "1100620"
  },
  {
    "text": "say create a zip with only this a py and the build as if there was a dependencies",
    "start": "1100620",
    "end": "1105690"
  },
  {
    "text": "in there that wouldn't work okay it could work if we were to do a workaround and add a cease path inside our code but",
    "start": "1105690",
    "end": "1113910"
  },
  {
    "text": "that's a bit of hockey and we don't want to keep changing our code we want to develop the same way we worship we are",
    "start": "1113910",
    "end": "1119010"
  },
  {
    "text": "used to develop if I go to this beautiful this beautiful during particular you see all the dependencies",
    "start": "1119010",
    "end": "1125220"
  },
  {
    "text": "you list boto intersects decay and including the function in there that",
    "start": "1125220",
    "end": "1131730"
  },
  {
    "text": "means if we create a zip file right now from this particular folder we should be able to just deploy on the console and",
    "start": "1131730",
    "end": "1138270"
  },
  {
    "text": "then we just work ok cool and I mean do I need all of those libraries just to create a lambda function how",
    "start": "1138270",
    "end": "1144950"
  },
  {
    "text": "simple how complex can I get with lambda okay so for now we're gonna show you in a minute about the code itself",
    "start": "1144950",
    "end": "1150800"
  },
  {
    "text": "but you can go as ideally you should go as lightweight as possible your function should will only do one thing and one",
    "start": "1150800",
    "end": "1157220"
  },
  {
    "text": "thing really well very similar to the UNIX philosophy in that sense but you could definitely do something like I've",
    "start": "1157220",
    "end": "1163100"
  },
  {
    "text": "seen customers running tensile floor tensor flow or you see all types of customers actually doing all of these",
    "start": "1163100",
    "end": "1169160"
  },
  {
    "text": "pieces so you look at RG reforms that they're doing I wouldn't say machine learning but they're actually doing a",
    "start": "1169160",
    "end": "1174470"
  },
  {
    "text": "lot of analytics from cars that are driving for an insurance perspective and you want to check if the car is actually",
    "start": "1174470",
    "end": "1180380"
  },
  {
    "text": "deviating the driver is deviating from the world is something like this so all of this requires a lot of libraries so",
    "start": "1180380",
    "end": "1186080"
  },
  {
    "text": "that can be it has that complex but you also see customers actually running web applications or adapters like log li for",
    "start": "1186080",
    "end": "1193820"
  },
  {
    "text": "instance there's many different forms in that sense okay if we continue down the",
    "start": "1193820",
    "end": "1199310"
  },
  {
    "text": "road here we created our editing requirements we install all our people dependencies and then we copy our",
    "start": "1199310",
    "end": "1205310"
  },
  {
    "text": "application from here we're not only ready to create a zip file and deploy but we also ready to do some local",
    "start": "1205310",
    "end": "1211970"
  },
  {
    "text": "development so let's see how that looks some local when you actually run for the",
    "start": "1211970",
    "end": "1217550"
  },
  {
    "text": "first time you will see a bunch of actually commands that you are able to",
    "start": "1217550",
    "end": "1223130"
  },
  {
    "text": "do it you can generate events like if I do something like generate event as an API I could also generate a a fake event",
    "start": "1223130",
    "end": "1232070"
  },
  {
    "text": "for s3 Kinesis dynamo so I can pipe that in into our invocation for a London so",
    "start": "1232070",
    "end": "1238190"
  },
  {
    "text": "that kind of a simplifies some of those functional testing or integration testing in that sense okay so this is",
    "start": "1238190",
    "end": "1243230"
  },
  {
    "text": "creating the input event that you want to pass to your lambda function yeah testing that's good let's actually give it a try I think we have enough",
    "start": "1243230",
    "end": "1249170"
  },
  {
    "text": "time if I just create something like say Kinesis if I just generate a Kinesis",
    "start": "1249170",
    "end": "1254990"
  },
  {
    "text": "event you will see this is exactly the same event that your lunga function would actually receive so what he did",
    "start": "1254990",
    "end": "1260990"
  },
  {
    "text": "actually in the test was nothing more but actually going to unit test generating API event and then going over",
    "start": "1260990",
    "end": "1267800"
  },
  {
    "text": "here and creating as a dictionary in my Python okay so that I could use for my testing",
    "start": "1267800",
    "end": "1273000"
  },
  {
    "start": "1272000",
    "end": "1448000"
  },
  {
    "text": "now that I have all this going back what I need to do local development is I",
    "start": "1273000",
    "end": "1278310"
  },
  {
    "text": "could invoke the function only once so I need to pass a JSON and then just called",
    "start": "1278310",
    "end": "1283530"
  },
  {
    "text": "same local invoke and the name of my function that reads from my same",
    "start": "1283530",
    "end": "1288720"
  },
  {
    "text": "template so let's do this now and then we go to the same template if you do this hopefully we should be able to get",
    "start": "1288720",
    "end": "1297480"
  },
  {
    "text": "a response because I already have the doctrine container already done pulled in my laptop I don't need to the load",
    "start": "1297480",
    "end": "1303810"
  },
  {
    "text": "docker container again so that works that shows you that you works just fine as a simple semi invocation but actually",
    "start": "1303810",
    "end": "1312990"
  },
  {
    "text": "that can get more interesting I could do some local start API and that will",
    "start": "1312990",
    "end": "1318810"
  },
  {
    "text": "actually read my scent template and see if I have any events if I ever define an",
    "start": "1318810",
    "end": "1324090"
  },
  {
    "text": "API get there it means some local can mimic the API exactly as I defined so as",
    "start": "1324090",
    "end": "1330210"
  },
  {
    "text": "I wrote there you can see that that is a local host 3,000 slash first is slash",
    "start": "1330210",
    "end": "1336570"
  },
  {
    "text": "whatever if I try over here and say first was not found because it's expecting something else because it's",
    "start": "1336570",
    "end": "1343320"
  },
  {
    "text": "expecting anything if I would just say type this I got a hell of work okay so",
    "start": "1343320",
    "end": "1349290"
  },
  {
    "text": "that's that's creating an api gateway locally on your machine exactly and not only that you can see exactly the start",
    "start": "1349290",
    "end": "1355380"
  },
  {
    "text": "requests the end request and how much memory your function actually consumed and all of these pieces as well how how",
    "start": "1355380",
    "end": "1363600"
  },
  {
    "text": "what is this magic how does that work right before we we do something more complex and the events in the same",
    "start": "1363600",
    "end": "1370980"
  },
  {
    "text": "template you actually define how your function is going to be involved which we mentioned previously that could be an",
    "start": "1370980",
    "end": "1376620"
  },
  {
    "text": "s3 bucket that could be an SNS topic a Kinesis or something like this in this",
    "start": "1376620",
    "end": "1381900"
  },
  {
    "text": "case we are saying that the type is a API just calling for an API gateway and in this case we are using first and",
    "start": "1381900",
    "end": "1388800"
  },
  {
    "text": "whatever using any method so if I were to remove this now and start slowly",
    "start": "1388800",
    "end": "1394950"
  },
  {
    "text": "built our encryption proxy we could say that this path should be encrypt and without going for post yet let's just",
    "start": "1394950",
    "end": "1402000"
  },
  {
    "text": "leave as any if we were to do this again some locals start API you see that now I",
    "start": "1402000",
    "end": "1409630"
  },
  {
    "text": "have a slash encrypt over there mm-hmm that obviously if you were running nodejs you would also get the benefit",
    "start": "1409630",
    "end": "1416380"
  },
  {
    "text": "I'll be having hot reloading and it's something I was quite angry I wanted to do that for Python as well so that's why",
    "start": "1416380",
    "end": "1422800"
  },
  {
    "text": "I came up with the make file and work with a lot of people internally as well what you get it should work so now we're",
    "start": "1422800",
    "end": "1429760"
  },
  {
    "text": "gonna stop the boring pieces about copy and pasting commands and we're gonna start using automations stalling",
    "start": "1429760",
    "end": "1436150"
  },
  {
    "text": "dependencies and copying your files from directory whatever that should be automated this is the boring piece I actually",
    "start": "1436150",
    "end": "1442540"
  },
  {
    "text": "believe that anything that's documented or can be documented you possibly automate that is down below we can",
    "start": "1442540",
    "end": "1450160"
  },
  {
    "start": "1448000",
    "end": "1560000"
  },
  {
    "text": "follow some deployments and something more complicated in general but we don't need to go for now let's actually do",
    "start": "1450160",
    "end": "1456040"
  },
  {
    "text": "deploy this actually code something because my fingers are actually quite so",
    "start": "1456040",
    "end": "1461730"
  },
  {
    "text": "let's say I'm gonna use this make file for now if you are running on a Mac OS",
    "start": "1461730",
    "end": "1467440"
  },
  {
    "text": "or Linux that make file should just work for you just fine as long as they have those requirements if I type make I",
    "start": "1467440",
    "end": "1473830"
  },
  {
    "text": "would see a bunch of examples on how I can use this make so for now I just want to clean all this and in this case I'm",
    "start": "1473830",
    "end": "1482380"
  },
  {
    "text": "just gonna say first function as a service what we do what this will do is",
    "start": "1482380",
    "end": "1488770"
  },
  {
    "text": "we clean up everything that I have in there and what I'm interested is I wanna stall all my dependencies I want to not",
    "start": "1488770",
    "end": "1496510"
  },
  {
    "text": "only copy those files across I want to make sure that I can clone those files so I don't have to keep every time I",
    "start": "1496510",
    "end": "1502150"
  },
  {
    "text": "make a change in my father I don't want to keep copying the files from source to destination to build I want to stay",
    "start": "1502150",
    "end": "1508390"
  },
  {
    "text": "right there make any changes I want and that should just work so if I now hide",
    "start": "1508390",
    "end": "1514300"
  },
  {
    "text": "this terminal and I go to my app WI I see my lambda function here which I can explain to you in a minute",
    "start": "1514300",
    "end": "1520180"
  },
  {
    "text": "but if I were to say let's say test over here inside my beautiful der I will see",
    "start": "1520180",
    "end": "1526990"
  },
  {
    "text": "my file called up top UI and you see that as I change something in either",
    "start": "1526990",
    "end": "1532240"
  },
  {
    "text": "direction they actually get updated so now I can totally forget about what's inside my",
    "start": "1532240",
    "end": "1538030"
  },
  {
    "text": "build and just start coding exactly as I want so that might give hub repository or my",
    "start": "1538030",
    "end": "1543460"
  },
  {
    "text": "code commit or any gift actually becomes a lot cleaner in that sense mhm so that's one of the tricks that you can",
    "start": "1543460",
    "end": "1549520"
  },
  {
    "text": "get from the cookie cutter you asked about the lambda functions how big that",
    "start": "1549520",
    "end": "1554679"
  },
  {
    "text": "is and what is what is it really so let me just actually remove this file for now inside this if you haven't coded",
    "start": "1554679",
    "end": "1562840"
  },
  {
    "start": "1560000",
    "end": "1692000"
  },
  {
    "text": "your longer function yet so I would say go for it is all we do here is actually we're just",
    "start": "1562840",
    "end": "1569559"
  },
  {
    "text": "importing our libraries normally both of us pre-k which is just an SDK for Python we import ism obviously and we import",
    "start": "1569559",
    "end": "1577780"
  },
  {
    "text": "something called x-ray SDK so that is exactly what you mentioned that's gonna give us the distributed tracing so you",
    "start": "1577780",
    "end": "1584620"
  },
  {
    "text": "can see what our function did who we talked you how long it took and if there",
    "start": "1584620",
    "end": "1589720"
  },
  {
    "text": "was any issue whatsoever and this is a helper function from the X ray SDK that",
    "start": "1589720",
    "end": "1597010"
  },
  {
    "text": "would essentially look up for any library that it is it does support natively like bottle or requests for",
    "start": "1597010",
    "end": "1604059"
  },
  {
    "text": "familiar with Python and will simply wrap all those methods and you just start tracing everything we don't need",
    "start": "1604059",
    "end": "1610450"
  },
  {
    "text": "to do anything more complex than that if you want interesting as usual anything that's this cookie cutter traits has a",
    "start": "1610450",
    "end": "1616870"
  },
  {
    "text": "link to the documentation next we create a bottle tree session so we can start",
    "start": "1616870",
    "end": "1622659"
  },
  {
    "text": "initializing some connection so in this case we cannot do something like we're gonna start with our kms client and then",
    "start": "1622659",
    "end": "1631059"
  },
  {
    "text": "here is our London Linda is really is as simple as that you have a function as an",
    "start": "1631059",
    "end": "1637150"
  },
  {
    "text": "entry point you receive in event whoever is calling you and you receive it contacts so a context would be a way to",
    "start": "1637150",
    "end": "1644140"
  },
  {
    "text": "give you how long do I have left before my container my lambda function actually",
    "start": "1644140",
    "end": "1649419"
  },
  {
    "text": "dies so the max is five minutes so you can run up to that one how much memory do I have so this could be useful for",
    "start": "1649419",
    "end": "1655960"
  },
  {
    "text": "finance calculations or checking out the memory or storing something memory see",
    "start": "1655960",
    "end": "1661150"
  },
  {
    "text": "how much you have left this type of things okay we're sending a notification if you're about to timeout but yeah I'm yet completed some bit of work absolutely",
    "start": "1661150",
    "end": "1667260"
  },
  {
    "text": "because they also get the logs and I'm whole credit that function everything else that it becomes quite helpful okay",
    "start": "1667260",
    "end": "1672870"
  },
  {
    "text": "because we're because we are using API debt which you invoke that lambda function we need a interface that we can",
    "start": "1672870",
    "end": "1679740"
  },
  {
    "text": "we have to agree so in London function in this sample is we have to return a status code and we have to return",
    "start": "1679740",
    "end": "1686400"
  },
  {
    "text": "something in the body optionally we could also return a header but for now this is how you would work okay and this",
    "start": "1686400",
    "end": "1693240"
  },
  {
    "start": "1692000",
    "end": "1932000"
  },
  {
    "text": "is a little bit more advanced about it's a it's all about x-ray but week we're gonna get that in a moment so for now I",
    "start": "1693240",
    "end": "1700170"
  },
  {
    "text": "just kind of comment that because I don't need this for now what we need to do is we need to use kms to actually",
    "start": "1700170",
    "end": "1706470"
  },
  {
    "text": "encrypt anything that we sent you so of course we're gonna start with using a function that receives any data and",
    "start": "1706470",
    "end": "1713340"
  },
  {
    "text": "obviously receives a key so for now we're just gonna pass that over and we",
    "start": "1713340",
    "end": "1719580"
  },
  {
    "text": "need to know how to encrypt that I presume you probably also don't know by heart how to call that right so how",
    "start": "1719580",
    "end": "1726480"
  },
  {
    "text": "would I do this let's go to documentation that's exactly where I would spend most of my time so in both",
    "start": "1726480",
    "end": "1733500"
  },
  {
    "text": "of our documentation you see everything from here so if I look up for kms now I",
    "start": "1733500",
    "end": "1738600"
  },
  {
    "text": "will see kms is right over here and I can see a list of methods that are",
    "start": "1738600",
    "end": "1744180"
  },
  {
    "text": "available for me for now I need encrypt and decrypt that's to encrypt first okay",
    "start": "1744180",
    "end": "1750390"
  },
  {
    "text": "if you're clicking encrypt what that tells me is I need to pass a key ID as a",
    "start": "1750390",
    "end": "1756750"
  },
  {
    "text": "parameter plaintext encryption context and grade tokens however I may not need",
    "start": "1756750",
    "end": "1762930"
  },
  {
    "text": "all of this if I skip crawling to parameters I can see what's really required and for now we need key ID and",
    "start": "1762930",
    "end": "1770370"
  },
  {
    "text": "a plaintext so let's do this I'm gonna copy this for",
    "start": "1770370",
    "end": "1775950"
  },
  {
    "text": "now and I just want to do something like this actually because python has these",
    "start": "1775950",
    "end": "1782760"
  },
  {
    "text": "identity we want to make sure we don't you know screw anything up so we don't need this and we also don't",
    "start": "1782760",
    "end": "1789370"
  },
  {
    "text": "need these tokens here we need anything that we send as as bytes so in this case",
    "start": "1789370",
    "end": "1795220"
  },
  {
    "text": "we just kind of say bytes data and then we also pass the encoding which is in",
    "start": "1795220",
    "end": "1801490"
  },
  {
    "text": "this case is utf-8 and we also need to pass the key so this will also actually",
    "start": "1801490",
    "end": "1809950"
  },
  {
    "text": "fail because I'm saying I don't encrypt that should be kms turn encrypts right",
    "start": "1809950",
    "end": "1816640"
  },
  {
    "text": "okay this is something I kind of a learn from last time I tried this and then it was a bit embarrassing so hopefully",
    "start": "1816640",
    "end": "1822940"
  },
  {
    "text": "you're getting the good version of it so if we try to encrypt this we hopefully",
    "start": "1822940",
    "end": "1828550"
  },
  {
    "text": "we get some sort of a data for now don't worry about how ugly this is gonna look like we're gonna clean all this up so I",
    "start": "1828550",
    "end": "1834790"
  },
  {
    "text": "want to look up what is the return from this I could obviously hit peak and go",
    "start": "1834790",
    "end": "1840730"
  },
  {
    "text": "to return response and I should receive a ciphertext blob in a key ID I could",
    "start": "1840730",
    "end": "1846820"
  },
  {
    "text": "get that data for now but let's just try that and see if that works so if I were",
    "start": "1846820",
    "end": "1852010"
  },
  {
    "text": "to do something like this for now it would be something like encrypted payload we need to send a sort of data",
    "start": "1852010",
    "end": "1859780"
  },
  {
    "text": "so hello and we obviously need to pass the key so I'm just gonna do this to",
    "start": "1859780",
    "end": "1865750"
  },
  {
    "text": "make it more beautiful cuz I know there's some fights on developers out there and they might struggle me or if I",
    "start": "1865750",
    "end": "1871450"
  },
  {
    "text": "do something like this so if I do this I will be able to do what is my TMS key so",
    "start": "1871450",
    "end": "1878500"
  },
  {
    "text": "I can include I already created all this but we can equate that afterwards so hopefully I'm not going to disclose",
    "start": "1878500",
    "end": "1884290"
  },
  {
    "text": "anything super sensitive in here this is my throwaway account by the way this is my demo account so ignore anything else",
    "start": "1884290",
    "end": "1892150"
  },
  {
    "text": "that you see that doesn't really belong to this session if I click in encryption case I simply went to my I am console",
    "start": "1892150",
    "end": "1899970"
  },
  {
    "text": "we're gonna use Ireland as a region because that's where I spend most of my time in Europe and I have a key ID here",
    "start": "1899970",
    "end": "1909310"
  },
  {
    "text": "from demo so I want to use this dysfunction over here so if I just use this hard kotas for now",
    "start": "1909310",
    "end": "1916180"
  },
  {
    "text": "don't worry security folks we're not going to do this we're going to use environment where pads and everything right so if we try this and let's say we",
    "start": "1916180",
    "end": "1924880"
  },
  {
    "text": "actually just just wear wow I have to return this right you were supposed to",
    "start": "1924880",
    "end": "1930010"
  },
  {
    "text": "help me with that one so if we let's say we we print this out and we continue to",
    "start": "1930010",
    "end": "1938590"
  },
  {
    "start": "1932000",
    "end": "2079000"
  },
  {
    "text": "return hello world just to understand what what sort of data we're dealing with so if we try to do this we could",
    "start": "1938590",
    "end": "1944380"
  },
  {
    "text": "run some local right now we can do make run that would essentially we do some local site API for now let's just to",
    "start": "1944380",
    "end": "1951520"
  },
  {
    "text": "make run I'm sure something's gonna go wrong but that's how we're gonna fix it and",
    "start": "1951520",
    "end": "1957670"
  },
  {
    "text": "we're gonna learn from these mistakes so if I go back again to my encrypt yeah I",
    "start": "1957670",
    "end": "1966340"
  },
  {
    "text": "got my first 500 you can see how that looks like so it's complaining about not",
    "start": "1966340",
    "end": "1972190"
  },
  {
    "text": "found exception so this is let me have a look so here we go so this is the first",
    "start": "1972190",
    "end": "1977620"
  },
  {
    "text": "one it seems that we are looking at the wrong region so I could definitely have",
    "start": "1977620",
    "end": "1982930"
  },
  {
    "text": "some local to do all this but for now I just kind of become lazy and I would go and define this in my session region",
    "start": "1982930",
    "end": "1990910"
  },
  {
    "text": "name and then I can define this and because my code is already there I don't",
    "start": "1990910",
    "end": "1997510"
  },
  {
    "text": "have to keep stopping some local all the time let's give that a try again is it worth mentioning real quick where",
    "start": "1997510",
    "end": "2002910"
  },
  {
    "text": "the lambda function is initially getting AWS credentials from absolutely so in I",
    "start": "2002910",
    "end": "2008490"
  },
  {
    "text": "am I in my setup I have a I have multiple accounts already configured in a diversity Ally so some local is",
    "start": "2008490",
    "end": "2015450"
  },
  {
    "text": "actually supposed to get from there or from the environment of artists that I have because I have multiple accounts I",
    "start": "2015450",
    "end": "2021420"
  },
  {
    "text": "tend to use a wrapper to just export all my credentials to environment variables",
    "start": "2021420",
    "end": "2027210"
  },
  {
    "text": "so that some local works and any other tool that I'm used to it simply works ok so end the function that's running in a",
    "start": "2027210",
    "end": "2033120"
  },
  {
    "text": "docker container spun up by Sam local is running with the credentials that you've got to find same as you do for AWS CLI",
    "start": "2033120",
    "end": "2039200"
  },
  {
    "text": "exactly ok cool so if I were to try it again let's have a",
    "start": "2039200",
    "end": "2044430"
  },
  {
    "text": "this is where things start to get a little being tracings 500 again so let's say so now I have the right region but I",
    "start": "2044430",
    "end": "2053110"
  },
  {
    "text": "just don't have the right permissions so that's because of my multiple function setup you don't have to go through this so for now I just kind of assume this",
    "start": "2053110",
    "end": "2059679"
  },
  {
    "text": "role because I have multiple accounts and let's try this now",
    "start": "2059679",
    "end": "2066750"
  },
  {
    "text": "if I try this taking longer you did promise errors so let me just actually",
    "start": "2066750",
    "end": "2074500"
  },
  {
    "text": "move over here so it makes it easier for us to kind of a see what's happening quickly so I can see if you can see my",
    "start": "2074500",
    "end": "2081460"
  },
  {
    "start": "2079000",
    "end": "2174000"
  },
  {
    "text": "screen yeah if you can read that I can see a lot of kind of issues with x-ray",
    "start": "2081460",
    "end": "2086679"
  },
  {
    "text": "not having a sub-segment etc because we're not running x-ray agent which is",
    "start": "2086679",
    "end": "2091810"
  },
  {
    "text": "fine Sam will actually take care of that when he deploys x-ray agent actually",
    "start": "2091810",
    "end": "2097360"
  },
  {
    "text": "runs in the lung the service so we don't have to think about this because it don't really care about distributed",
    "start": "2097360",
    "end": "2103600"
  },
  {
    "text": "tracing when I'm doing local development we just ignore those zeros now we can see that what we printed is ciphertext a",
    "start": "2103600",
    "end": "2110410"
  },
  {
    "text": "blob and key ID which is exactly what we were expecting right so what we need to",
    "start": "2110410",
    "end": "2116050"
  },
  {
    "text": "do here is we could do we could return just what we were interested in because",
    "start": "2116050",
    "end": "2121810"
  },
  {
    "text": "we are super hackers we want to see this these pieces here right mm-hmm because that's that's how we can say it's",
    "start": "2121810",
    "end": "2127690"
  },
  {
    "text": "encrypted so let's try to be encrypt again and this time we are returning the only deciphered text blog and if it try",
    "start": "2127690",
    "end": "2135130"
  },
  {
    "text": "this again I can see that I can have all of these data in bytes so I have two",
    "start": "2135130",
    "end": "2141790"
  },
  {
    "text": "problems here because kms returns as a bytes I will not be able to actually",
    "start": "2141790",
    "end": "2147510"
  },
  {
    "text": "decode this and go straight away from Jason because Jason will complain well this backslash x1 etc it's probably",
    "start": "2147510",
    "end": "2156640"
  },
  {
    "text": "Greek for me sorry for Greeks we need to do something else so what we could do",
    "start": "2156640",
    "end": "2162490"
  },
  {
    "text": "here is we could do day 64 well you could give me another video if you need",
    "start": "2162490",
    "end": "2168430"
  },
  {
    "text": "to well we're super hackers base 96 but they 64 works for today ok ok so that's",
    "start": "2168430",
    "end": "2175510"
  },
  {
    "start": "2174000",
    "end": "2351000"
  },
  {
    "text": "going import base64 it good news is that it's come",
    "start": "2175510",
    "end": "2180579"
  },
  {
    "text": "from a standard library so we don't need to do anything else so if we try to do a",
    "start": "2180579",
    "end": "2186729"
  },
  {
    "text": "basic c4 on this verse we could say let",
    "start": "2186729",
    "end": "2191920"
  },
  {
    "text": "me see we could say this is the payload right that week we're interested in and",
    "start": "2191920",
    "end": "2198009"
  },
  {
    "text": "then we can say as a payload we could think we could do this and we could just",
    "start": "2198009",
    "end": "2206769"
  },
  {
    "text": "do something like this let's see if that works did you I think you maybe had a spelling",
    "start": "2206769",
    "end": "2213640"
  },
  {
    "text": "error on your import just give it a quick check no you're fine sorry yeah I was just mostly on the spaces and",
    "start": "2213640",
    "end": "2219759"
  },
  {
    "text": "everything so let's see if that would work for us now we would just return the payload as a basic C for now so let's",
    "start": "2219759",
    "end": "2225759"
  },
  {
    "text": "see how that would work now it is a base64 but still bytes cracked me from",
    "start": "2225759",
    "end": "2231940"
  },
  {
    "text": "wrong but I think Jason doesn't marshal bytes only strings or integers or floats",
    "start": "2231940",
    "end": "2237900"
  },
  {
    "text": "yeah you got me that's that's a question I'd have to look up okay so if we were",
    "start": "2237900",
    "end": "2244209"
  },
  {
    "text": "to try this right let's try this now so he could do payload and see if that",
    "start": "2244209",
    "end": "2249609"
  },
  {
    "text": "would work I think that would favor just for the sake of it okay it doesn't",
    "start": "2249609",
    "end": "2256930"
  },
  {
    "text": "because it's not serializable I don't know if anyone in the chat is actually means mentioning any of these pieces but",
    "start": "2256930",
    "end": "2262809"
  },
  {
    "text": "don't worry we're actually gonna get through that it's just actually testing the waters for now so we need to",
    "start": "2262809",
    "end": "2269109"
  },
  {
    "text": "actually decode this piece here so we could either decode from here which",
    "start": "2269109",
    "end": "2275469"
  },
  {
    "text": "makes more sense we could decode from there so let's just code from here and if we try it again let's see I can see",
    "start": "2275469",
    "end": "2284049"
  },
  {
    "text": "that now I have a string so now I'm safe to assume that I could take this string",
    "start": "2284049",
    "end": "2289539"
  },
  {
    "text": "Marsh was adjacent and return the back sheet as from an API perspective so let's do this I I called this encrypt",
    "start": "2289539",
    "end": "2296289"
  },
  {
    "text": "and I got all this beautiful data here I print over here I could now say",
    "start": "2296289",
    "end": "2302940"
  },
  {
    "text": "something like this I want you to tell me where the data is and then I could",
    "start": "2302940",
    "end": "2309069"
  },
  {
    "text": "say in the payload could come over here so let's see if that works",
    "start": "2309069",
    "end": "2315190"
  },
  {
    "text": "call again and now I have it so this is",
    "start": "2315190",
    "end": "2321140"
  },
  {
    "text": "the basis of our encrypted API we we print something we clip just there and",
    "start": "2321140",
    "end": "2326270"
  },
  {
    "text": "it just works of course we're hard work hard wiring the key in there but we can definitely",
    "start": "2326270",
    "end": "2332180"
  },
  {
    "text": "make some improvements in there okay and then at the moment you're writing",
    "start": "2332180",
    "end": "2337280"
  },
  {
    "text": "everything all in one Python script do many customers do most customers write",
    "start": "2337280",
    "end": "2342440"
  },
  {
    "text": "it this way I do a lot of customers create modules and then just write a thin bit of lambda function that invokes",
    "start": "2342440",
    "end": "2348260"
  },
  {
    "text": "code from the module so there's a bit of bell faction when you look at this structure you will see that the lambda",
    "start": "2348260",
    "end": "2354170"
  },
  {
    "start": "2351000",
    "end": "2447000"
  },
  {
    "text": "function here is called still code first function we need to rename it and you see that this function because it's super simple we can have just one file",
    "start": "2354170",
    "end": "2361040"
  },
  {
    "text": "that does everything we could have a sub package or a private package that says encryption and then we could inherit",
    "start": "2361040",
    "end": "2367910"
  },
  {
    "text": "from there and then we can do something with it exactly the same way we could also write everything in a single number",
    "start": "2367910",
    "end": "2374090"
  },
  {
    "text": "function encrypt and decrypt but we don't want to do this because if I give my function permission to both encrypt",
    "start": "2374090",
    "end": "2380870"
  },
  {
    "text": "and decrypt that could be a problem so I want to separate this so what happens also is you may want to have a disk for",
    "start": "2380870",
    "end": "2388130"
  },
  {
    "text": "now we have a pip file for the whole project but we couldn't have a big file in addition few specific libraries for a",
    "start": "2388130",
    "end": "2395180"
  },
  {
    "text": "particular function so that's something that s caecus was running out there and they also run with it you can also share",
    "start": "2395180",
    "end": "2402440"
  },
  {
    "text": "private packages through get and so you can totally have a shared module instead",
    "start": "2402440",
    "end": "2407960"
  },
  {
    "text": "of having a file in there it just actually shared as a module through pip and your share code now becomes just a",
    "start": "2407960",
    "end": "2414680"
  },
  {
    "text": "library exactly as it should be anyway okay all right so if you're taking say maybe a Django application and migrating",
    "start": "2414680",
    "end": "2421100"
  },
  {
    "text": "it over to lambda functions you probably have to pick apart very very little you just invoke the same functions after you",
    "start": "2421100",
    "end": "2426980"
  },
  {
    "text": "know decoding the context object that you received from lambda yeah the only option the only change in",
    "start": "2426980",
    "end": "2432530"
  },
  {
    "text": "there is that you don't want to run a web server to take requesters yeah absolutely because then you kind of a",
    "start": "2432530",
    "end": "2438110"
  },
  {
    "text": "defeats them although have simplicity in that sense but you you totally can pick up only the function that",
    "start": "2438110",
    "end": "2443460"
  },
  {
    "text": "make sense for that application and just focusing on that cool if we're actually time this is gonna be we just took just",
    "start": "2443460",
    "end": "2449700"
  },
  {
    "start": "2447000",
    "end": "2567000"
  },
  {
    "text": "a few minutes should have got that implementation done and so now if we if we move to the next part we get this",
    "start": "2449700",
    "end": "2456180"
  },
  {
    "text": "data already there so I'm just gonna clean up the code a little bit I don't need this pre print anymore and I don't",
    "start": "2456180",
    "end": "2463050"
  },
  {
    "text": "need this stuff here and we also need the key to come from somewhere all right so we could do this is what we",
    "start": "2463050",
    "end": "2471360"
  },
  {
    "text": "could do this is something we're gonna deploy that soon and Sam you can pass a",
    "start": "2471360",
    "end": "2478940"
  },
  {
    "text": "environment variable for instance and normally you would say what is my key",
    "start": "2478940",
    "end": "2484110"
  },
  {
    "text": "coming so you could create a key everything in the same template and then you could reference that key because",
    "start": "2484110",
    "end": "2489510"
  },
  {
    "text": "we're using some local and that's not gonna work what we do is that well we just pass a string which is actually",
    "start": "2489510",
    "end": "2495570"
  },
  {
    "text": "going to be exactly like in production so for now let's see if that works so then we can remove these this piece",
    "start": "2495570",
    "end": "2502080"
  },
  {
    "text": "we're not really interesting we could do what is my key let's say KMS key we",
    "start": "2502080",
    "end": "2507690"
  },
  {
    "text": "could say the environment var of is called capital key all right",
    "start": "2507690",
    "end": "2514170"
  },
  {
    "text": "so if there's no key we could simply say we can either raise a exception like a",
    "start": "2514170",
    "end": "2521130"
  },
  {
    "text": "value error or anything like that and we can just stop from executing right now so for now there's just something really",
    "start": "2521130",
    "end": "2527130"
  },
  {
    "text": "basic let's say came as key now found and therefore cannot proceed super",
    "start": "2527130",
    "end": "2534030"
  },
  {
    "text": "simple I'm using OS 20 to import that as well but as you can see it most of it is",
    "start": "2534030",
    "end": "2539310"
  },
  {
    "text": "actually coming from the standard library I'm not bloating anything with that sense there shouldn't the KMS key",
    "start": "2539310",
    "end": "2544680"
  },
  {
    "text": "because you're doing an OS cat and shouldn't that be initialized in the global space rather than in the lambda",
    "start": "2544680",
    "end": "2549960"
  },
  {
    "text": "specific handler itself I mean once it's initialized it's initialized right just not going to change ever the connection",
    "start": "2549960",
    "end": "2555210"
  },
  {
    "text": "that's a really good question that actually put that outside so by the way there is actually chew there's chew",
    "start": "2555210",
    "end": "2560490"
  },
  {
    "text": "there's a prose encounter donto for environmental artists for people that they should know because this is a beaut on service one is anything outside the",
    "start": "2560490",
    "end": "2568350"
  },
  {
    "start": "2567000",
    "end": "2689000"
  },
  {
    "text": "handler will be executed only once so we can cache a lot of these things in your soft States like TCP handshakes SDK and",
    "start": "2568350",
    "end": "2577530"
  },
  {
    "text": "connection pole for instance all of these pieces we can do this so if our function is being invoked multiple times",
    "start": "2577530",
    "end": "2583260"
  },
  {
    "text": "and we can reuse that but for an environment variable if we ever need to change something in there very quickly",
    "start": "2583260",
    "end": "2589560"
  },
  {
    "text": "we may want to have that inside the handler but because every time you deploy that or make a change that will",
    "start": "2589560",
    "end": "2595800"
  },
  {
    "text": "trigger a new change for the whole environment that's so it doesn't really gain too much okay you're totally right",
    "start": "2595800",
    "end": "2601950"
  },
  {
    "text": "let's actually go from here as a km s key and then everything else should be able to access that thing so let's",
    "start": "2601950",
    "end": "2609960"
  },
  {
    "text": "actually do this and let's try that one more time and then we then we can crack on oh here we go",
    "start": "2609960",
    "end": "2619610"
  },
  {
    "text": "what is it now he's actually saying if",
    "start": "2619610",
    "end": "2627500"
  },
  {
    "text": "is that because I miss global so it's saying that my kid there's no kms key in",
    "start": "2627710",
    "end": "2634080"
  },
  {
    "text": "there is anyone on the chats that can help us with that",
    "start": "2634080",
    "end": "2638000"
  },
  {
    "text": "so kms CLE maybe is what's missing is a global that's right there will be four",
    "start": "2640490",
    "end": "2647700"
  },
  {
    "text": "right back to ya so let's see so yeah",
    "start": "2647700",
    "end": "2657720"
  },
  {
    "text": "it's you complaining though if we try to",
    "start": "2657720",
    "end": "2663390"
  },
  {
    "text": "you food we could we could totally enable the bugger here but for now let's just do something super simple let's try",
    "start": "2663390",
    "end": "2670260"
  },
  {
    "text": "oh I see what it is so if anyone in the",
    "start": "2670260",
    "end": "2676590"
  },
  {
    "text": "chat knows the answer feel free to type in otherwise I will tell you how city the mistake was real quick vs code thing",
    "start": "2676590",
    "end": "2683580"
  },
  {
    "text": "the important stuff there's anyone asking about the vs cuz I don't know",
    "start": "2683580",
    "end": "2689070"
  },
  {
    "start": "2689000",
    "end": "2819000"
  },
  {
    "text": "exactly what you want to know but what I usually do is uh I use something called Dracula as a as a there was a guess yeah",
    "start": "2689070",
    "end": "2698220"
  },
  {
    "text": "yeah hey Dracula as a team and I also use material as an icon team as well",
    "start": "2698220",
    "end": "2703650"
  },
  {
    "text": "okay and from here die just a bunch of other stuff like undock island",
    "start": "2703650",
    "end": "2708930"
  },
  {
    "text": "and zsh flake there's a lot of other stuff in there I'm if you want",
    "start": "2708930",
    "end": "2714870"
  },
  {
    "text": "totally totally comfortable be me on Twitter happy to sing that up to you I get hub or a guest",
    "start": "2714870",
    "end": "2720240"
  },
  {
    "text": "there's nothing confidential in there it's just and of course because I use sublime for such a long time I prefer",
    "start": "2720240",
    "end": "2727140"
  },
  {
    "text": "the mappings from sublime sorry hold that against you okay that's why is it",
    "start": "2727140",
    "end": "2734430"
  },
  {
    "text": "not funny you know what should we just make it simple put the kms key definition in the function itself for",
    "start": "2734430",
    "end": "2739530"
  },
  {
    "text": "now we've mentioned about best practice being initialization of DD pool connections and other things in the",
    "start": "2739530",
    "end": "2744900"
  },
  {
    "text": "global initialization space yeah for today's purposes should we doesn't do an OS environment in the function so that's",
    "start": "2744900",
    "end": "2751740"
  },
  {
    "text": "not gonna work that's not yet where the problem is so if no one on the chat knows where the problem is I will show",
    "start": "2751740",
    "end": "2758490"
  },
  {
    "text": "you how to troubleshoot that mm-hmm no-nothing come-come yeah we don't need the global for now what we're doing here",
    "start": "2758490",
    "end": "2766140"
  },
  {
    "text": "is that when we do have hot reloading because every change we make we skin see it's working",
    "start": "2766140",
    "end": "2771720"
  },
  {
    "text": "however when we change the template some local loads that into memory so we need",
    "start": "2771720",
    "end": "2777420"
  },
  {
    "text": "to restart some locals and can't wait for the new template so what we just did was we changed the variable to key and",
    "start": "2777420",
    "end": "2785390"
  },
  {
    "text": "the reason why is actually saying if not available wow just because that isn't any",
    "start": "2785390",
    "end": "2791280"
  },
  {
    "text": "environment variable like that so Sam local is reloading the code in the hot way but it's not reliving the",
    "start": "2791280",
    "end": "2797250"
  },
  {
    "text": "configuration of Sam local in a hot way exactly okay so this will be the first kind of a lesson learned from today if",
    "start": "2797250",
    "end": "2802860"
  },
  {
    "text": "we try and make run again hopefully I don't make a fool of myself now if we",
    "start": "2802860",
    "end": "2809490"
  },
  {
    "text": "try that now here we go do you see that works not much better",
    "start": "2809490",
    "end": "2816080"
  },
  {
    "text": "perfect so okay we got all this and we got that working so we got the encrypt",
    "start": "2816080",
    "end": "2822840"
  },
  {
    "start": "2819000",
    "end": "2997000"
  },
  {
    "text": "and we got all this let's actually do let's actually make this deployable so and then we can see x-ray we can see all",
    "start": "2822840",
    "end": "2829260"
  },
  {
    "text": "these cool features for now so this is like getting started type of thing like testing the waters and we go as deep as",
    "start": "2829260",
    "end": "2835800"
  },
  {
    "text": "actually having even a canary with these today so just about check if I'm not making a silly mistake",
    "start": "2835800",
    "end": "2842610"
  },
  {
    "text": "the data we encode as a base64 decode the bytes so we can make us a string and",
    "start": "2842610",
    "end": "2849300"
  },
  {
    "text": "then we can go from there I don't know how many people actually I think I just",
    "start": "2849300",
    "end": "2854490"
  },
  {
    "text": "got a message on my phone now I just realized that there's there's a new",
    "start": "2854490",
    "end": "2860130"
  },
  {
    "text": "people actually joining the stream and they probably don't know what we're doing okay so I'm just gonna this is the",
    "start": "2860130",
    "end": "2865800"
  },
  {
    "text": "type of agenda we're trying to look in chanel or what we've just done is we we",
    "start": "2865800",
    "end": "2870990"
  },
  {
    "text": "explain what service application repository is is a service that allows you to consume and publish service",
    "start": "2870990",
    "end": "2877350"
  },
  {
    "text": "applications for anyone she consume privately or publicly we explain about",
    "start": "2877350",
    "end": "2882690"
  },
  {
    "text": "Sam service application repository very quickly while the lives and a bunch of",
    "start": "2882690",
    "end": "2887760"
  },
  {
    "text": "examples I showed you something we published today called cookie cutter which is an open source tool that was",
    "start": "2887760",
    "end": "2894330"
  },
  {
    "text": "built by someone else not us and allows that shield template anything he wants",
    "start": "2894330",
    "end": "2900390"
  },
  {
    "text": "so he creates a scaffolding think about yeoman for nodejs and we walk through about the same thing",
    "start": "2900390",
    "end": "2906540"
  },
  {
    "text": "play the structure we also installed all dependencies use some loco to do a bit",
    "start": "2906540",
    "end": "2912420"
  },
  {
    "text": "of a testing there and we did our first code in there using encryption that",
    "start": "2912420",
    "end": "2918030"
  },
  {
    "text": "since we haven't got unit testing yet but holder so let's deploy this set this",
    "start": "2918030",
    "end": "2924480"
  },
  {
    "text": "week we can do something so here's what we need if we go if I just kind of stop this right now what we need here is a we",
    "start": "2924480",
    "end": "2932280"
  },
  {
    "text": "need a function we're gonna change this to encrypt and actually changes",
    "start": "2932280",
    "end": "2937620"
  },
  {
    "text": "completely encrypt function because I don't want to call first is that just not helping me",
    "start": "2937620",
    "end": "2944550"
  },
  {
    "text": "and I want to change this to encrypt so",
    "start": "2944550",
    "end": "2950070"
  },
  {
    "text": "now I have a folder called encrypt it makes a lot more sense if I were to do a gift I still get everything from built which",
    "start": "2950070",
    "end": "2955740"
  },
  {
    "text": "is fine everything works there and I'm calling encrypt I could change to post",
    "start": "2955740",
    "end": "2960960"
  },
  {
    "text": "let's leave it there for now and I don't like this we want to get rid of this and",
    "start": "2960960",
    "end": "2966950"
  },
  {
    "text": "we don't have any additional permission should be made but this is something we're gonna use because it's useful and",
    "start": "2966950",
    "end": "2972960"
  },
  {
    "text": "of course we output the API get to a URL after with lighters so what we need now is we",
    "start": "2972960",
    "end": "2979200"
  },
  {
    "text": "need to create a KMS key ragam attic li okay and just real quick before you move",
    "start": "2979200",
    "end": "2984420"
  },
  {
    "text": "on here if you scroll up a little bit in terms of the function definition where we have the handler specified we're",
    "start": "2984420",
    "end": "2989880"
  },
  {
    "text": "specifying app which is the name of the file dot and then the name of the function that we want to have Sam invoke",
    "start": "2989880",
    "end": "2995280"
  },
  {
    "text": "absolutely racket so when you look at the code your eye if I try to highlight this you see that the ink crypt is where",
    "start": "2995280",
    "end": "3002480"
  },
  {
    "text": "my function is and slash build is where my files are and from the encrypt I",
    "start": "3002480",
    "end": "3008060"
  },
  {
    "text": "could say that actually inside a build I want you to look at the app da py and",
    "start": "3008060",
    "end": "3014210"
  },
  {
    "text": "inside the app dr. why I wanna I wanna tells lambda how do I invoke this",
    "start": "3014210",
    "end": "3019850"
  },
  {
    "text": "function where do I pass the invoked the event and the contacts so in that sense it's actually here if we were to change",
    "start": "3019850",
    "end": "3027800"
  },
  {
    "text": "something like just lambda or something else that would just also reflect the template intent so because creating a",
    "start": "3027800",
    "end": "3035870"
  },
  {
    "start": "3035000",
    "end": "3076000"
  },
  {
    "text": "KMS key it's actually quite big and I even if I go to the dog she may take me",
    "start": "3035870",
    "end": "3041330"
  },
  {
    "text": "10 minutes you go to all the parameters and explain all this so what we gonna do now we're gonna cheat a bit remember",
    "start": "3041330",
    "end": "3048320"
  },
  {
    "text": "when I told you that that while we are building right now is already available as an open source and we already encrypt",
    "start": "3048320",
    "end": "3056270"
  },
  {
    "text": "and decrypt and everything inside these templates I already have my kms key you",
    "start": "3056270",
    "end": "3061430"
  },
  {
    "text": "can see how long that is already so I'm gonna show you one more trick in Sam",
    "start": "3061430",
    "end": "3066710"
  },
  {
    "text": "which we sent out in a bunch of of Jacob and a bunch of other folks updated the",
    "start": "3066710",
    "end": "3073070"
  },
  {
    "text": "docs recently to make this available for you what we need is if we actually copy",
    "start": "3073070",
    "end": "3078860"
  },
  {
    "start": "3076000",
    "end": "3115000"
  },
  {
    "text": "and paste this I can save the lines and now I can change this to to this and",
    "start": "3078860",
    "end": "3085880"
  },
  {
    "text": "this if you're the first time you're using CloudFormation if I were to look at the type I want to",
    "start": "3085880",
    "end": "3091970"
  },
  {
    "text": "see if I copy and paste this into my browser I will find a documentation explaining exactly how I should build",
    "start": "3091970",
    "end": "3098420"
  },
  {
    "text": "the important piece here is a return values for us if we click and return values that tells us that if we return",
    "start": "3098420",
    "end": "3106070"
  },
  {
    "text": "as this we should get the cam ask instead of an art which is exactly what",
    "start": "3106070",
    "end": "3111090"
  },
  {
    "text": "we want right so I just kind of stopped right here and now this is the tricky",
    "start": "3111090",
    "end": "3116880"
  },
  {
    "start": "3115000",
    "end": "3235000"
  },
  {
    "text": "piece if you look at the key msk et cetera what we what we said since the",
    "start": "3116880",
    "end": "3122040"
  },
  {
    "text": "beginning is that we want a function to encrypt and one function should decrypt and that means in the key definition we",
    "start": "3122040",
    "end": "3129180"
  },
  {
    "text": "can specify that only allow kms encrypt for the encryption function and is the I",
    "start": "3129180",
    "end": "3136770"
  },
  {
    "text": "am wrong that we need to know the problem here is that when you look at Sam you are not seeing any I am rolling",
    "start": "3136770",
    "end": "3142860"
  },
  {
    "text": "in here it's being created implicitly to make it so much easier for you to run",
    "start": "3142860",
    "end": "3148740"
  },
  {
    "text": "service applications so what I added here is us as an example is that Sam",
    "start": "3148740",
    "end": "3154320"
  },
  {
    "text": "actually crew gives you the documentation to explain where exactly you can find those pieces so how would I",
    "start": "3154320",
    "end": "3160500"
  },
  {
    "text": "go to find that information if I go to Sam the docks and if I click over here",
    "start": "3160500",
    "end": "3167430"
  },
  {
    "text": "this is the whole github repository by the way so if we click on the docks",
    "start": "3167430",
    "end": "3172860"
  },
  {
    "text": "there's something called internals and inside internals there's something called generator resources which is",
    "start": "3172860",
    "end": "3179820"
  },
  {
    "text": "every resource as Sam will transform to CloudFormation so we can deploy so we",
    "start": "3179820",
    "end": "3184920"
  },
  {
    "text": "want to find out how do we know the role that this function is being created so if I open up this you find lots of this",
    "start": "3184920",
    "end": "3192780"
  },
  {
    "text": "piece in here right if I click in function you will see that our role is",
    "start": "3192780",
    "end": "3198870"
  },
  {
    "text": "nothing else but a whatever the name we defined plus role so what we can do here",
    "start": "3198870",
    "end": "3205350"
  },
  {
    "text": "is a we defined encrypt function if we go back in here",
    "start": "3205350",
    "end": "3210960"
  },
  {
    "text": "hopefully you're staying with me we just need to do this we came from there we",
    "start": "3210960",
    "end": "3218760"
  },
  {
    "text": "will be able to get the role for the encrypt and you should be able to just okay and for now we don't have an",
    "start": "3218760",
    "end": "3225180"
  },
  {
    "text": "encryption but let's just actually leave as there for now then we can try to make",
    "start": "3225180",
    "end": "3230340"
  },
  {
    "text": "a change or something else so we we got all this I don't need this",
    "start": "3230340",
    "end": "3237140"
  },
  {
    "start": "3235000",
    "end": "3399000"
  },
  {
    "text": "this property the need is permission we are actually ready to go why don't you deploy and let's see if that if that",
    "start": "3237140",
    "end": "3243170"
  },
  {
    "text": "works for us as well so if we go to the readme file that I prepared for you you",
    "start": "3243170",
    "end": "3248180"
  },
  {
    "text": "will see everything you need for deploying it's actually not only all the",
    "start": "3248180",
    "end": "3253310"
  },
  {
    "text": "commands over here they the best CLI package deploy and describe everything",
    "start": "3253310",
    "end": "3258410"
  },
  {
    "text": "is already there for you so I'm gonna change this to one of my buckets so if I just don't here because",
    "start": "3258410",
    "end": "3268580"
  },
  {
    "text": "I never remember the name of my bucket describe it it's quite quite big if I",
    "start": "3268580",
    "end": "3274010"
  },
  {
    "text": "replace this with my bucket name like I said I have multiple SS accounts you",
    "start": "3274010",
    "end": "3280100"
  },
  {
    "text": "don't need to do this so I will just use the profile demo and we don't have any",
    "start": "3280100",
    "end": "3285470"
  },
  {
    "text": "parameters as well so we can just scrap this and say profile demo as well so let's let's give",
    "start": "3285470",
    "end": "3292670"
  },
  {
    "text": "that a go and let's see if that works then I'll explain to you what that actually does and if deploy then we",
    "start": "3292670",
    "end": "3301280"
  },
  {
    "text": "start we should be able to start seeing some interesting stuff for next ray and we should also be able to start seeing",
    "start": "3301280",
    "end": "3306650"
  },
  {
    "text": "some stuff from deployment perspective actually I just forgot this if we were",
    "start": "3306650",
    "end": "3313880"
  },
  {
    "text": "to deploy this right now we may be able to see a deployment that's gonna take us a long time for us to do it for now I",
    "start": "3313880",
    "end": "3320900"
  },
  {
    "text": "just kind of do it and then we're going to change it's just something much bigger if I deploy this now if you",
    "start": "3320900",
    "end": "3328100"
  },
  {
    "text": "notice this tag name it was actually the input from cookie cutter so if I go and",
    "start": "3328100",
    "end": "3333770"
  },
  {
    "text": "apply this right now we should just wait",
    "start": "3333770",
    "end": "3340040"
  },
  {
    "text": "equates everything and one thing that you know if you notice is that after I run this command package I had to",
    "start": "3340040",
    "end": "3347120"
  },
  {
    "text": "specify a outputs template file if I open up that file you will see that in",
    "start": "3347120",
    "end": "3355010"
  },
  {
    "text": "the meantime it deploys of course you see that it looks almost the same Sam that we had it the difference here is a",
    "start": "3355010",
    "end": "3362030"
  },
  {
    "text": "we now remember the code URI where it was supposed to be encrypt",
    "start": "3362030",
    "end": "3368090"
  },
  {
    "text": "slash boobs left something what that package does for us is that he Packers everything as a zip file and it's",
    "start": "3368090",
    "end": "3374359"
  },
  {
    "text": "shipped to s3 so then we can deploy it okay so it's taking your lambda function rolling it up into a zip file with all",
    "start": "3374359",
    "end": "3380660"
  },
  {
    "text": "of its dependencies putting it into s3 and then deploying a CloudFormation template derived from the Sam template",
    "start": "3380660",
    "end": "3386480"
  },
  {
    "text": "the same is kind of a CloudFormation shorthand yeah and then pushing the CloudFormation template in the cloud",
    "start": "3386480",
    "end": "3392060"
  },
  {
    "text": "formation which is going to reference that lambda function at the zip file oh yeah the deployment package in s3",
    "start": "3392060",
    "end": "3398600"
  },
  {
    "text": "exactly okay and if we were to do if we want to do CI CD for instance we could say that this is gonna be our packaging",
    "start": "3398600",
    "end": "3406580"
  },
  {
    "start": "3399000",
    "end": "3500000"
  },
  {
    "text": "step we've we install the dependencies and do a packaging afterwards and this",
    "start": "3406580",
    "end": "3411770"
  },
  {
    "text": "will be a separate step just to deploy so then we can separate the packaging only has permissions to upload the",
    "start": "3411770",
    "end": "3418100"
  },
  {
    "text": "artifact nothing else and the deployment has permissions to do a lot more stuff okay so if we fail doing the tasks doing",
    "start": "3418100",
    "end": "3425480"
  },
  {
    "text": "anything else then we don't even waste the deployment in essence so let's see",
    "start": "3425480",
    "end": "3430600"
  },
  {
    "text": "it's almost ready if we if we go up on",
    "start": "3430600",
    "end": "3436940"
  },
  {
    "text": "our a the breast console now you will",
    "start": "3436940",
    "end": "3442520"
  },
  {
    "text": "see in CloudFormation we have a new stack called let's say crypto here you have a new",
    "start": "3442520",
    "end": "3450980"
  },
  {
    "text": "stack yeah in fact just finished grading we have a new stack layer called simple crypto service which is was the word",
    "start": "3450980",
    "end": "3457430"
  },
  {
    "text": "deploy and if we click in resources you see everything we defined and I'm much",
    "start": "3457430",
    "end": "3462920"
  },
  {
    "text": "more and we also see everything that happened what resources were credits one",
    "start": "3462920",
    "end": "3467930"
  },
  {
    "text": "after the other and their dependencies in everything okay and in the same template you defined a function and a",
    "start": "3467930",
    "end": "3476030"
  },
  {
    "text": "key yeah that's right if you things which resulted in all of that exactly so when when you create a",
    "start": "3476030",
    "end": "3483260"
  },
  {
    "text": "function and you want to know who's gonna trigger that you need a permission from a period which you trigger that function and you also need item roles",
    "start": "3483260",
    "end": "3489890"
  },
  {
    "text": "for your function and all that stuff although this have been abstracted from us class seems really doing a lot of",
    "start": "3489890",
    "end": "3495859"
  },
  {
    "text": "work for us on absolutely thanks for now thanks everyone for this yes if we if we go to the outputs",
    "start": "3495859",
    "end": "3502490"
  },
  {
    "text": "remember that I was I was telling you that the API gateway should be in there except that I forgot she changed the",
    "start": "3502490",
    "end": "3509030"
  },
  {
    "text": "write API remember that we added as a encrypt and not as a first so this",
    "start": "3509030",
    "end": "3514100"
  },
  {
    "text": "should actually be encrypt URL not first function and this should be encrypt if I",
    "start": "3514100",
    "end": "3525230"
  },
  {
    "text": "were to try to copy this now this would fail so this was a mistake on my end if I were to do slash encrypt now let's see",
    "start": "3525230",
    "end": "3533930"
  },
  {
    "text": "if that works here we go the reason why that works is remember",
    "start": "3533930",
    "end": "3540800"
  },
  {
    "text": "that in our code in our lambda function we actually now get the key from",
    "start": "3540800",
    "end": "3546950"
  },
  {
    "text": "environment where we no longer have to hard code anytime and from the templates we actually create the whole key over",
    "start": "3546950",
    "end": "3554240"
  },
  {
    "text": "here inside the same template and we reference the value so that our function",
    "start": "3554240",
    "end": "3559670"
  },
  {
    "text": "can take that any can encrypt just fine the cool thing is that if you have a notice like if we pick the issues that",
    "start": "3559670",
    "end": "3566300"
  },
  {
    "text": "for now we are just encrypting some hello data we're not encrypting any data that we send so we need to change this",
    "start": "3566300",
    "end": "3573130"
  },
  {
    "text": "so one cool thing about it is that before we go for this is that we enabled",
    "start": "3573130",
    "end": "3579200"
  },
  {
    "text": "something called x-ray remember that yeah way we enabled is we imported the",
    "start": "3579200",
    "end": "3585380"
  },
  {
    "text": "library we patched everything and inside my same template I actually have",
    "start": "3585380",
    "end": "3590450"
  },
  {
    "text": "something called tracing that is what you need to enable distributed tracing",
    "start": "3590450",
    "end": "3596180"
  },
  {
    "text": "let's have a look and see how that reflects now if I were to go again to my",
    "start": "3596180",
    "end": "3601340"
  },
  {
    "text": "services and look for x-ray I will see that hopefully I have enough permissions",
    "start": "3601340",
    "end": "3607490"
  },
  {
    "text": "and I have all this already figured out by Sam and here we go wait yeah yeah",
    "start": "3607490",
    "end": "3616840"
  },
  {
    "text": "there we go so now you can see that the function that we executed through the console even if we didn't pass any data",
    "start": "3616840",
    "end": "3622910"
  },
  {
    "text": "or something and invoking some basic string to be encrypted we can see exactly what happened there - the",
    "start": "3622910",
    "end": "3629880"
  },
  {
    "text": "encryption so what happened here is if it is the first time you're saying distributed tracing ever we're seeing",
    "start": "3629880",
    "end": "3635670"
  },
  {
    "text": "that this first circle is lambda as a service so that means we need to bootstrap the whole runtime environment",
    "start": "3635670",
    "end": "3642120"
  },
  {
    "text": "we need to do something with that function first and we get the zip file from this tree what we just discussed",
    "start": "3642120",
    "end": "3647840"
  },
  {
    "text": "next we this is the function this is our function this is how fast our function",
    "start": "3647840",
    "end": "3653550"
  },
  {
    "text": "runs in our case the average is about 65 milliseconds because we are talking to",
    "start": "3653550",
    "end": "3658680"
  },
  {
    "text": "kms we we actually need to do an increment and we also need to do TCP handshakes",
    "start": "3658680",
    "end": "3664050"
  },
  {
    "text": "and all that stuff which is super cool if I click in there I can even see that the first time I'd executed this was a",
    "start": "3664050",
    "end": "3671250"
  },
  {
    "text": "cold invocation or a cold storm we didn't have a runtime environment we had nothing so we need should that we need",
    "start": "3671250",
    "end": "3677160"
  },
  {
    "text": "to download the code for the first time bootstrap everything next time I run it it becomes so much faster so if I have a",
    "start": "3677160",
    "end": "3683700"
  },
  {
    "text": "consistent load that wouldn't be a problem in that situation if I click in view traces what we get as information",
    "start": "3683700",
    "end": "3692430"
  },
  {
    "text": "is that we have a lot of traces in here we get a response time and we get a lot of dis pieces before anyone asks about",
    "start": "3692430",
    "end": "3699720"
  },
  {
    "text": "cold start I just want to show you how a cold start looks like from here so I can get a little bit more advanced information from this session if I if I",
    "start": "3699720",
    "end": "3708060"
  },
  {
    "text": "look up if I try to sort this by something really slow like 1.4 seconds I would click in here in the trace here's",
    "start": "3708060",
    "end": "3716700"
  },
  {
    "text": "what I know how let me see how big this is I know that this was a cold East are the",
    "start": "3716700",
    "end": "3723150"
  },
  {
    "text": "first invocation because inside my function there you could see there was something called initialization so this",
    "start": "3723150",
    "end": "3730500"
  },
  {
    "text": "is the time that the London service took to create everything for me and I'll load the code etc and this is the time",
    "start": "3730500",
    "end": "3737070"
  },
  {
    "text": "that it took for for my Python runtime should bootstrap everything showing Porto's library scaffold to the",
    "start": "3737070",
    "end": "3743850"
  },
  {
    "text": "installation from the global scope and everything from there this is why we",
    "start": "3743850",
    "end": "3749010"
  },
  {
    "text": "actually mentioned me as an advice if we add those stuff that takes time from the out alter global scope well next time we",
    "start": "3749010",
    "end": "3756930"
  },
  {
    "text": "execute we already have all that already cached so that's actually much faster",
    "start": "3756930",
    "end": "3762180"
  },
  {
    "text": "what's also cool is that we can have all the KMS key information from here when",
    "start": "3762180",
    "end": "3768730"
  },
  {
    "text": "you can also see the encrypt API call how long that encrypt actually took if",
    "start": "3768730",
    "end": "3774040"
  },
  {
    "text": "we were to select anything in here let's say initialization we get the start time",
    "start": "3774040",
    "end": "3779280"
  },
  {
    "text": "we get IDs we also get what is the lambda function that was actually meant",
    "start": "3779280",
    "end": "3785560"
  },
  {
    "text": "to be involved they are and everything else if there was an issue we would show",
    "start": "3785560",
    "end": "3790599"
  },
  {
    "text": "exceptions etc etc etc so that becomes quite useful especially when you're",
    "start": "3790599",
    "end": "3796210"
  },
  {
    "text": "dealing with something production you want to know exactly for instance what is the request ID that my lambda",
    "start": "3796210",
    "end": "3802780"
  },
  {
    "text": "function received as a return when I call kms encrypt so they can get all their from x-ray and just move on from",
    "start": "3802780",
    "end": "3809109"
  },
  {
    "text": "there okay now if I needed to get in touch with say support I see some sort of",
    "start": "3809109",
    "end": "3814359"
  },
  {
    "text": "anomalous issue that I really can't explain and I'm getting a lot of great information about from x-ray but still I",
    "start": "3814359",
    "end": "3820240"
  },
  {
    "text": "don't understand it is it the request ID that I need to reference when I talk to support or how",
    "start": "3820240",
    "end": "3825880"
  },
  {
    "text": "do I help them to help me sure I'm so the first thing ever is request ID okay we don't request that they can't wait to",
    "start": "3825880",
    "end": "3831880"
  },
  {
    "text": "do much they can't really get into an account and try to find every call that you made even if they could you would is",
    "start": "3831880",
    "end": "3837640"
  },
  {
    "text": "just impossible because it's just too many calls okay with the request ID they can find out what the caller was who the",
    "start": "3837640",
    "end": "3844210"
  },
  {
    "text": "call he was in that sense which language they use in this case both of us the K for Python they can see a lot more if",
    "start": "3844210",
    "end": "3851080"
  },
  {
    "text": "you had an exception what was the exception copy from here what what it what was that we were trying to do we're",
    "start": "3851080",
    "end": "3857470"
  },
  {
    "text": "trying to encrypt data it was a key that you own is a separate account cross account trying to tell you the business",
    "start": "3857470",
    "end": "3863560"
  },
  {
    "text": "case okay that makes so much easier for people in support cool okay so from here",
    "start": "3863560",
    "end": "3869440"
  },
  {
    "text": "what we can do is a we already deployed out this we can do two things we can try to fix our function now to receive",
    "start": "3869440",
    "end": "3877150"
  },
  {
    "text": "through the API a some data right so you can want to send some data that we want",
    "start": "3877150",
    "end": "3882430"
  },
  {
    "text": "to see being encrypted we don't want to simply encrypt hello right if we go back",
    "start": "3882430",
    "end": "3887470"
  },
  {
    "text": "in here what we will need to do is we need to take that that data from event",
    "start": "3887470",
    "end": "3893339"
  },
  {
    "text": "we're remember remember when we were running some local we could see generate API and",
    "start": "3893339",
    "end": "3901410"
  },
  {
    "text": "we were able to see that's not big enough let me know what API get we we",
    "start": "3901410",
    "end": "3908079"
  },
  {
    "text": "actually sensuous what we need here is we need to access you the body and then",
    "start": "3908079",
    "end": "3914920"
  },
  {
    "text": "by the body we need to make as a JSON so we can look up and do something with it so from an interface perspective because",
    "start": "3914920",
    "end": "3921460"
  },
  {
    "text": "their return just the data I would expect the data as an input as well so I",
    "start": "3921460",
    "end": "3926559"
  },
  {
    "text": "could do something like this if the key is not there we we recreate an exception of course we could do just a 400 or",
    "start": "3926559",
    "end": "3933970"
  },
  {
    "text": "something more you know better for user interface but for now that's it so I",
    "start": "3933970",
    "end": "3939160"
  },
  {
    "text": "need to get the data first right so if I",
    "start": "3939160",
    "end": "3944380"
  },
  {
    "text": "if I do this I will not be able to get access to the data something like this",
    "start": "3944380",
    "end": "3950140"
  },
  {
    "text": "because it's not chaste all right so I would just do something like this okay if that if that works and",
    "start": "3950140",
    "end": "3957670"
  },
  {
    "text": "if that works then we would be able to show that this should actually be data",
    "start": "3957670",
    "end": "3962829"
  },
  {
    "text": "mm-hmm right okay so let's try this locally first to see if that works",
    "start": "3962829",
    "end": "3968049"
  },
  {
    "text": "so remember that in in the template we now have this we need to copy this for",
    "start": "3968049",
    "end": "3973329"
  },
  {
    "text": "now very quickly and we just because some local can't understand that particular resource and there's no way",
    "start": "3973329",
    "end": "3979900"
  },
  {
    "text": "you're to do it so we're just gonna go back to our confirmation now we're gonna use the key that we actually really",
    "start": "3979900",
    "end": "3986530"
  },
  {
    "text": "created so if we go to resources and we see KMS key that's the key we want",
    "start": "3986530",
    "end": "3993480"
  },
  {
    "text": "actually sorry that's not gonna work either because he only allows my function to encrypt so let's actually",
    "start": "3993480",
    "end": "4001020"
  },
  {
    "text": "use the Alt key so where was my old key he was actually over here if none of",
    "start": "4001020",
    "end": "4009089"
  },
  {
    "text": "that makes sense please let us know we're actually here to help you as well so he got the key and we're gonna change",
    "start": "4009089",
    "end": "4016349"
  },
  {
    "text": "this back of course and if I were to run that again let me go back to my local",
    "start": "4016349",
    "end": "4022319"
  },
  {
    "text": "Sun loco and see if that would work I think",
    "start": "4022319",
    "end": "4029240"
  },
  {
    "text": "that's not gonna work I just remember now because we're same data and the data will have a data this is where you are",
    "start": "4029240",
    "end": "4038030"
  },
  {
    "text": "supposed to have sir let's try this a macro now and see if that would work and",
    "start": "4038030",
    "end": "4044540"
  },
  {
    "text": "now we're going to use a a pro for actually API client because now I need to make a post and make it more visible",
    "start": "4044540",
    "end": "4050660"
  },
  {
    "text": "to you so if we were to do this now we would copy this and we would send a post",
    "start": "4050660",
    "end": "4059410"
  },
  {
    "text": "including data inside and I haven't even sent a message so they're gonna say it's",
    "start": "4059410",
    "end": "4066470"
  },
  {
    "text": "super super secret and let's see if that works works so that means I can send",
    "start": "4066470",
    "end": "4075530"
  },
  {
    "text": "data now and it can send anything I want and I can even do some load testing now post data and test anything I want",
    "start": "4075530",
    "end": "4081410"
  },
  {
    "text": "because that works we're actually more than happy to try that out we could go",
    "start": "4081410",
    "end": "4086570"
  },
  {
    "text": "back in here we could remove this go",
    "start": "4086570",
    "end": "4092240"
  },
  {
    "text": "back where it was let me check it does anything I missed no I can see the data of the data",
    "start": "4092240",
    "end": "4098600"
  },
  {
    "text": "encrypts the data as it should and we essentially do exactly what we did",
    "start": "4098600",
    "end": "4104390"
  },
  {
    "text": "before we would actually just package this up and deploy and do everything else okay there's one gotcha down we",
    "start": "4104390",
    "end": "4114350"
  },
  {
    "text": "haven't explained to you this if I were to deploy that now this would create a",
    "start": "4114350",
    "end": "4120290"
  },
  {
    "text": "chimera Biddy's for me so that is good because it shows you how that would work but also it would be bad because we have",
    "start": "4120290",
    "end": "4126529"
  },
  {
    "text": "we have a still or more information to show you what I would want to I would still wanna do some canary in the linear",
    "start": "4126530",
    "end": "4132980"
  },
  {
    "text": "deployment when instead of extending only 10% every one minute kinetics take a long time we want to change this just",
    "start": "4132980",
    "end": "4139400"
  },
  {
    "text": "something else so here's how we get more information there is a commenting here with the link to the documentation and",
    "start": "4139400",
    "end": "4146290"
  },
  {
    "text": "let us explain to you what this means Sam in integrative some a service called",
    "start": "4146290",
    "end": "4152839"
  },
  {
    "text": "code deploy that managed all the deployment for us rollback st. shift in traffic or anything like",
    "start": "4152840",
    "end": "4158838"
  },
  {
    "text": "that so we want to use this technique to actually do exactly the same for Alumnus so if we go over here you see exactly",
    "start": "4158839",
    "end": "4165798"
  },
  {
    "text": "what we have in our Sam but we want to do something faster there's got to be something in here if we keep scrolling",
    "start": "4165799",
    "end": "4172429"
  },
  {
    "text": "you find another a big example how we could do exactly what we're doing if we",
    "start": "4172429",
    "end": "4179359"
  },
  {
    "text": "keep scrolling this is what we're looking for we want to know what other configurations we could potentially use",
    "start": "4179359",
    "end": "4185630"
  },
  {
    "text": "and then we could just you know just using it from now okay so for now what I want to do is I want",
    "start": "4185630",
    "end": "4192258"
  },
  {
    "text": "to just run a canary actually just for five minutes I don't want to keep saying templates on the traffic I just want to",
    "start": "4192259",
    "end": "4198050"
  },
  {
    "text": "send there and see if that would work so I go over here because I as far as I",
    "start": "4198050",
    "end": "4203210"
  },
  {
    "text": "know we can only send every ten one minutes and that's gonna take time so I want to only spend five minutes here and",
    "start": "4203210",
    "end": "4209449"
  },
  {
    "text": "if that's working that that means I should just throw back everything to",
    "start": "4209449",
    "end": "4215179"
  },
  {
    "text": "production afterwards so if you go ahead and try to do that again",
    "start": "4215179",
    "end": "4220190"
  },
  {
    "text": "here's something super interesting you should know we've packaged this up and",
    "start": "4220190",
    "end": "4229130"
  },
  {
    "text": "deploy exactly what we just did because it changed the code Sam we do a hash and",
    "start": "4229130",
    "end": "4236420"
  },
  {
    "text": "if we haven't changed the code you were just not making a deployment in that case unless there was some configuration",
    "start": "4236420",
    "end": "4242480"
  },
  {
    "text": "but not the code itself so now we just wait for a for a time now different",
    "start": "4242480",
    "end": "4248540"
  },
  {
    "text": "rather than waiting a couple minutes and she we see all this I want to see how the Canaries is actually working if I go",
    "start": "4248540",
    "end": "4255199"
  },
  {
    "text": "to my confirmation now and I just refresh this page you see that now it is in update in progress but what's",
    "start": "4255199",
    "end": "4262400"
  },
  {
    "text": "interesting here is there's something called a the brass lamda alias which we haven't explained as well in the",
    "start": "4262400",
    "end": "4268550"
  },
  {
    "text": "meantime that's that creates every time we make a deployment sheera lambda",
    "start": "4268550",
    "end": "4274790"
  },
  {
    "text": "function using Sam we can specify don't send everything to the latest version",
    "start": "4274790",
    "end": "4280250"
  },
  {
    "text": "but actually create an alias called live send a percentage of the traffic to this alias once you're comfortable with then",
    "start": "4280250",
    "end": "4286719"
  },
  {
    "text": "with everything else somewhere we also have something weighted aliens you can have an alias",
    "start": "4286719",
    "end": "4292550"
  },
  {
    "text": "that can have sent 10% of traffic to the alias dev and 80% you prod and then",
    "start": "4292550",
    "end": "4299090"
  },
  {
    "text": "present you let's say canary okay so I've got multiple versions of the same lambda function defined within the",
    "start": "4299090",
    "end": "4305270"
  },
  {
    "text": "system and then I can kind of create a soft link in the form of a list that's",
    "start": "4305270",
    "end": "4310429"
  },
  {
    "text": "great yeah absolutely okay in the meantime that's been created week I will show you what you think I",
    "start": "4310429",
    "end": "4315860"
  },
  {
    "text": "want to show you code deploy console and I want to show you in lambda what we",
    "start": "4315860",
    "end": "4322520"
  },
  {
    "text": "just described if I go to lambda now I look up for crypto you see that I have a",
    "start": "4322520",
    "end": "4328250"
  },
  {
    "text": "minute there were a minute ago were just deployed this is a lambda console everything if I clicking in qualifiers I",
    "start": "4328250",
    "end": "4334580"
  },
  {
    "text": "can see that I have more than one version because we published multiple times and you see that we're not using",
    "start": "4334580",
    "end": "4340640"
  },
  {
    "text": "latest we're actually using life okay and it is because we are running canary",
    "start": "4340640",
    "end": "4345949"
  },
  {
    "text": "this live once complete should go to the version number two if I go now and I try",
    "start": "4345949",
    "end": "4352160"
  },
  {
    "text": "to make a call so I could have a",
    "start": "4352160",
    "end": "4357560"
  },
  {
    "text": "production alias a beta alias and alpha alias exciting isn't one right exactly",
    "start": "4357560",
    "end": "4362870"
  },
  {
    "text": "if I try to make a call now choo choo might to my new function now there",
    "start": "4362870",
    "end": "4368060"
  },
  {
    "text": "accepts of data if I try now you may work maybe it's already past",
    "start": "4368060",
    "end": "4374000"
  },
  {
    "text": "five minutes but ideally because it's actually taking its time five minutes you might fail for them for after why",
    "start": "4374000",
    "end": "4381520"
  },
  {
    "text": "just a worker if I go to code deploy I will see that I should have a simple",
    "start": "4381520",
    "end": "4387739"
  },
  {
    "text": "crypto service over here that was created today they pretend if I click in here I see that the deployment is you in",
    "start": "4387739",
    "end": "4394100"
  },
  {
    "text": "progress right if I click here and change the deployments what you see here",
    "start": "4394100",
    "end": "4399560"
  },
  {
    "text": "is something beautiful you see that 90% of the traffic is going supposed to go",
    "start": "4399560",
    "end": "4405170"
  },
  {
    "text": "to the version the original version but I would probably need to hit a lot more API secure to that particular version",
    "start": "4405170",
    "end": "4411310"
  },
  {
    "text": "and you also see that 10% of the traffic is being shifted to the new version but when you go to the London console you",
    "start": "4411310",
    "end": "4417530"
  },
  {
    "text": "don't see that right this is handled completely by code deploy and all we did",
    "start": "4417530",
    "end": "4422660"
  },
  {
    "text": "work lines and that was already added by cooker so you essentially did zero",
    "start": "4422660",
    "end": "4428560"
  },
  {
    "text": "should actually get a canary release type of deployment to make sure only percentage of the traffic will go to the",
    "start": "4428560",
    "end": "4434650"
  },
  {
    "text": "new version okay what is even cooler than that at the bottom if I were to",
    "start": "4434650",
    "end": "4440200"
  },
  {
    "text": "zoom in you see before a loud traffic a lot of traffic after a lot of traffic and all that stuff I can essentially go",
    "start": "4440200",
    "end": "4446770"
  },
  {
    "text": "here and do something like this if I if I were even more adventurous today which",
    "start": "4446770",
    "end": "4452530"
  },
  {
    "text": "I'm not I could say pretty hook lambda and any here I could say postal Columba",
    "start": "4452530",
    "end": "4461580"
  },
  {
    "text": "actually in this case would be a because of semantics what this means is that I",
    "start": "4461580",
    "end": "4469480"
  },
  {
    "text": "want code deploy to invoke a function that I create before I open up any",
    "start": "4469480",
    "end": "4475960"
  },
  {
    "text": "traffic 5% whatever that means but maybe I could use this for validating deployments okay after the sent traffic",
    "start": "4475960",
    "end": "4482620"
  },
  {
    "text": "I want to send that I want to run another function should do a deep validation right block so we could use",
    "start": "4482620",
    "end": "4489100"
  },
  {
    "text": "you can help me out we could use pretty hook for database migrations or not you",
    "start": "4489100",
    "end": "4495010"
  },
  {
    "text": "find someone that is some traffic in there or changing notification on saying up the slack notification and in the",
    "start": "4495010",
    "end": "4501670"
  },
  {
    "text": "post we can do something similar we could just run a smoke test or something more complete now what about the return",
    "start": "4501670",
    "end": "4508720"
  },
  {
    "text": "value those lambda functions for the hooks I mean if is there a way to say no no hold on I've checked something and it",
    "start": "4508720",
    "end": "4515620"
  },
  {
    "text": "doesn't look quite right don't go forward with the deployment absolutely we have in there examples",
    "start": "4515620",
    "end": "4520870"
  },
  {
    "text": "actually if we go back to this service application model repository if we go to",
    "start": "4520870",
    "end": "4527340"
  },
  {
    "text": "forget about docks for now you go to examples there's something called lambda",
    "start": "4527340",
    "end": "4533920"
  },
  {
    "text": "safe deployment Thank You Georgie for watching this thank you for contributing if a clicking thing played IMO you will",
    "start": "4533920",
    "end": "4541420"
  },
  {
    "text": "actually see this in practice you will see a let me just zoom this up you will",
    "start": "4541420",
    "end": "4546760"
  },
  {
    "text": "see deployment preference you see the type and you also see as a hook I have a pretty traffic to a pre kuk when you're",
    "start": "4546760",
    "end": "4554350"
  },
  {
    "text": "getting here is a function so I was wrong actually and even get at it was actually a rafting I will see that this is a",
    "start": "4554350",
    "end": "4561580"
  },
  {
    "text": "function that we are deploying and the only thing that the function is to have as an access is she sent put lifecycle",
    "start": "4561580",
    "end": "4569230"
  },
  {
    "text": "event hope execution stats so the function is she returns hey not good you",
    "start": "4569230",
    "end": "4574570"
  },
  {
    "text": "go okay fail rollback but what does it look like if we open up in the source there's free traffic hook",
    "start": "4574570",
    "end": "4583230"
  },
  {
    "text": "Jas if we're getting there is a JavaScript don't use just to use Python",
    "start": "4583230",
    "end": "4590040"
  },
  {
    "text": "getting if what you see here is a as an event you receive all the information in",
    "start": "4590040",
    "end": "4595989"
  },
  {
    "text": "each you know about the deployment yeah so what we do here is we get the deployment ID we get the lifecycle",
    "start": "4595989",
    "end": "4601440"
  },
  {
    "text": "execution ID so we need to send something back as a callback and what we send is a what is it deployment",
    "start": "4601440",
    "end": "4608350"
  },
  {
    "text": "what is the hook and whether we are okay with that so we can totally fail this",
    "start": "4608350",
    "end": "4613360"
  },
  {
    "text": "and do anything we want okay even in essence we can do anything we want within five minutes as long as we",
    "start": "4613360",
    "end": "4620290"
  },
  {
    "text": "tell Cody plants a hey yeah good to go and continue opening traffic or we can fail and roll back as well",
    "start": "4620290",
    "end": "4627390"
  },
  {
    "text": "okay excellent what's even cooler than that because we're gonna give as many tips as we can is apart from hooks you",
    "start": "4627390",
    "end": "4635530"
  },
  {
    "text": "can also specify a bunch of cloud watch alarms that she can say if any of this",
    "start": "4635530",
    "end": "4643000"
  },
  {
    "text": "alarm that I created my account programmatically or not breach rolled back regardless of what the pre hook or",
    "start": "4643000",
    "end": "4650620"
  },
  {
    "text": "post who actually told me so okay so if we'd start Ceylon 500 errors or something along those lines we can automatically roll back as a response",
    "start": "4650620",
    "end": "4657430"
  },
  {
    "text": "absolutely so that is exactly how let's say book boo-ki or a complex it can be",
    "start": "4657430",
    "end": "4664090"
  },
  {
    "text": "but all of these lines if you think about it if you're thinking about docker or other or other technology could use",
    "start": "4664090",
    "end": "4670750"
  },
  {
    "text": "we only use just a few lines really should get all of this functionality all",
    "start": "4670750",
    "end": "4675790"
  },
  {
    "text": "of these best practices in less than one hour they normally would take us actually it took me much to learn all",
    "start": "4675790",
    "end": "4682360"
  },
  {
    "text": "these pieces and now he Sammy just have this bunch of lines okay if we go back",
    "start": "4682360",
    "end": "4688180"
  },
  {
    "text": "in now and the code deploy because the only was five minutes we can see that that worked and if it were to be more courageous",
    "start": "4688180",
    "end": "4694890"
  },
  {
    "text": "than saying okay let's see if that really works there's a linear deployment we could go back in here and say",
    "start": "4694890",
    "end": "4700860"
  },
  {
    "text": "actually in fact I want to send now 10% of traffic every minute so if you try it",
    "start": "4700860",
    "end": "4706020"
  },
  {
    "text": "really hard we should be able to see the new version",
    "start": "4706020",
    "end": "4711360"
  },
  {
    "text": "there and then we can prove as well that we actually in fact works so before we change any anything in the code let's",
    "start": "4711360",
    "end": "4717900"
  },
  {
    "text": "see if there's anything I've missed or anything I should be covering we have",
    "start": "4717900",
    "end": "4723239"
  },
  {
    "text": "still a bunch of other stuff in here we cover an x-ray a little bit we cover code deploy now we can cover now the",
    "start": "4723239",
    "end": "4729360"
  },
  {
    "text": "linear deployments and I've even before we make a deployment I want to show an advanced feature of x-ray called custom",
    "start": "4729360",
    "end": "4736200"
  },
  {
    "text": "segments and also an annotation to show how easy it is to do something that much",
    "start": "4736200",
    "end": "4742200"
  },
  {
    "text": "more complex for a tracing perspective and then we can finish up by actually bringing a front end and see how that",
    "start": "4742200",
    "end": "4749970"
  },
  {
    "text": "would look like cool okay so if we go now to our application and we I think",
    "start": "4749970",
    "end": "4757920"
  },
  {
    "text": "we're not gonna have enough time for to decrypt because I'm looking at the clock right now but I want to make sure you get the most",
    "start": "4757920",
    "end": "4763700"
  },
  {
    "text": "the the most of it and the best francis's in general so for now we don't",
    "start": "4763700",
    "end": "4769530"
  },
  {
    "text": "know much how long this encrypt as a function extra text works we know the KMS tong encrypts if we want to know",
    "start": "4769530",
    "end": "4776100"
  },
  {
    "text": "exactly how long that encrypt takes we can use a wrapper remember when we",
    "start": "4776100",
    "end": "4781640"
  },
  {
    "text": "commented this we can use something called x-ray recorder capture so we can",
    "start": "4781640",
    "end": "4788340"
  },
  {
    "text": "say something like this that this is my encrypt logic we don't need this hashed",
    "start": "4788340",
    "end": "4795390"
  },
  {
    "text": "hash but I find cute so we could do this",
    "start": "4795390",
    "end": "4800640"
  },
  {
    "text": "and one thing that's also very powerful is this will only show to me how long is",
    "start": "4800640",
    "end": "4806580"
  },
  {
    "text": "actually taking on that one but what if you could sort all the traces based on",
    "start": "4806580",
    "end": "4812280"
  },
  {
    "text": "based on encrypt operation we could use that for database query latency we can",
    "start": "4812280",
    "end": "4817950"
  },
  {
    "text": "use that for a bunch of other stuff so this is called annotations so what we need to do for our notation perspective",
    "start": "4817950",
    "end": "4823580"
  },
  {
    "text": "is this we need to capture what is our",
    "start": "4823580",
    "end": "4828770"
  },
  {
    "text": "current sub-segment so what happens as the segment is lambda as a service web",
    "start": "4828770",
    "end": "4834620"
  },
  {
    "text": "service creates the wood segment and then new function is actually it creates",
    "start": "4834620",
    "end": "4841790"
  },
  {
    "text": "a sub segment and therefore if you want a bit more you can keep creating that",
    "start": "4841790",
    "end": "4847310"
  },
  {
    "text": "over and over and over so you can see exactly how that will look like afterwards so if we do something like",
    "start": "4847310",
    "end": "4854410"
  },
  {
    "text": "operation in this case is encryption because we can also have one for",
    "start": "4854410",
    "end": "4859880"
  },
  {
    "text": "decryption if we change this now because we changed we want to deploy this now again I want to show you features I want",
    "start": "4859880",
    "end": "4867560"
  },
  {
    "text": "to show you this and I also want to show you the linear deployment now it's very",
    "start": "4867560",
    "end": "4872750"
  },
  {
    "text": "different for the canary okay so in the",
    "start": "4872750",
    "end": "4883910"
  },
  {
    "text": "meantime that's actually being deployed it's gonna take some time if you go to confirmation you see something new ended",
    "start": "4883910",
    "end": "4892490"
  },
  {
    "text": "in the events actually resources you will see also stopped in update in",
    "start": "4892490",
    "end": "4899570"
  },
  {
    "text": "progress for lambda alias if we go to code apply again look at deployments we",
    "start": "4899570",
    "end": "4905420"
  },
  {
    "text": "see we have a new deployment happening now the difference is now we're gonna start seeing 10% of the traffic to the",
    "start": "4905420",
    "end": "4911750"
  },
  {
    "text": "new version every one minute okay and what could deploy is manipulating here is the API gateway and how it's gonna",
    "start": "4911750",
    "end": "4916880"
  },
  {
    "text": "distribute traffic amongst the lambda functions yeah absolutely I was supposed to actually add a new",
    "start": "4916880",
    "end": "4922340"
  },
  {
    "text": "version as a key here so I totally forgot so I guess we just kind of run as",
    "start": "4922340",
    "end": "4927950"
  },
  {
    "text": "there and then let's see if we if we actually try to make a bunch of actually other calls that we just work because",
    "start": "4927950",
    "end": "4935390"
  },
  {
    "text": "well we're not seeing any anything in here and so my bad I was supposed to have a version so you could see when you",
    "start": "4935390",
    "end": "4942530"
  },
  {
    "text": "are hitting a new version so if we try to hit a bunch of other times here just in case why we see here is a in x-ray if",
    "start": "4942530",
    "end": "4952130"
  },
  {
    "text": "we hopefully got to the new version we should be able to see let's actually",
    "start": "4952130",
    "end": "4959360"
  },
  {
    "text": "go this for the last one minutes I wanna close this I'm going to refresh this and",
    "start": "4959360",
    "end": "4964850"
  },
  {
    "text": "if I click in here hopefully that's enough time if we hit the no 1 you can see there's a new spiking here because",
    "start": "4964850",
    "end": "4971330"
  },
  {
    "text": "the new deployment if you click in here we still don't have that information but",
    "start": "4971330",
    "end": "4977660"
  },
  {
    "text": "hopefully it's gonna come down recently soon so let's just actually gives some time and then probably do a bunch of",
    "start": "4977660",
    "end": "4985160"
  },
  {
    "text": "other ApS as well what we should know we should be able to see the encrypt and a",
    "start": "4985160",
    "end": "4990620"
  },
  {
    "text": "bunch more information in here that should help us and identify how long it's taking that encrypt and that also",
    "start": "4990620",
    "end": "4996830"
  },
  {
    "text": "means we could wrap the whole London we could say how long is my entire length at running how long is my import is",
    "start": "4996830",
    "end": "5003610"
  },
  {
    "text": "taking so that helps for troubleshooting as well now how does that work so if we start to put annotations into our code",
    "start": "5003610",
    "end": "5010360"
  },
  {
    "text": "for integration with x-ray how does that work when we're doing something like Sam local where x-ray doesn't live okay it",
    "start": "5010360",
    "end": "5016210"
  },
  {
    "text": "what happens in this case is that you were simply just ignore just gets ignored what happens is that you would",
    "start": "5016210",
    "end": "5022090"
  },
  {
    "text": "first think ignore because there's no there's no agent to send that information to so in that sense you",
    "start": "5022090",
    "end": "5027760"
  },
  {
    "text": "would simply say well I don't have any agent anything else just black hole this okay because because it's going there",
    "start": "5027760",
    "end": "5035890"
  },
  {
    "text": "now you if I go back to your code deploy I can see is already 30% so hopefully if",
    "start": "5035890",
    "end": "5041500"
  },
  {
    "text": "i refresh again refresh the whole piece just in case I have something cached if",
    "start": "5041500",
    "end": "5046810"
  },
  {
    "text": "I go back in here hopefully I might have hit a new the new code already enough",
    "start": "5046810",
    "end": "5053440"
  },
  {
    "text": "times yes it's in an in the group URL I have something new called annotation operation mm-hmm if I click",
    "start": "5053440",
    "end": "5061810"
  },
  {
    "text": "in any of this hopefully already ah here we go I have annotations if I click in one of those I can click in here remember this",
    "start": "5061810",
    "end": "5071010"
  },
  {
    "text": "now you can see and I can also do this top down I can see first our own encryption luggage now I did send traces",
    "start": "5071010",
    "end": "5078580"
  },
  {
    "text": "just somewhere else now I also send that so that helps a lot when you're trying to understand the performance or the",
    "start": "5078580",
    "end": "5084489"
  },
  {
    "text": "profiling on that piece what's even better and that is something free which is something",
    "start": "5084489",
    "end": "5089860"
  },
  {
    "text": "I would encourage you to do it some more advanced if you go back to traces now and if I click in annotation operation",
    "start": "5089860",
    "end": "5096960"
  },
  {
    "text": "the only other operation that I have is encryption which I actually did here if",
    "start": "5096960",
    "end": "5103239"
  },
  {
    "text": "I click here I would see all the traces that actually all the code there run",
    "start": "5103239",
    "end": "5109000"
  },
  {
    "text": "after this so I could get all the traces and I could see exactly what is the",
    "start": "5109000",
    "end": "5115750"
  },
  {
    "text": "average response for all those encrypted operations what is the average for all the decryption what is the average for",
    "start": "5115750",
    "end": "5122619"
  },
  {
    "text": "making an API to your third party API so you can use this feature to automatically allow xray to index all",
    "start": "5122619",
    "end": "5130139"
  },
  {
    "text": "those features all those responses in a much nicer way ok excellent",
    "start": "5130139",
    "end": "5136949"
  },
  {
    "text": "so if I were to click again that's fine there's nothing else in here it just",
    "start": "5136949",
    "end": "5143739"
  },
  {
    "text": "works as I was supposed to do let's see what else we have left so I got this",
    "start": "5143739",
    "end": "5149409"
  },
  {
    "text": "over I don't need this anymore so the one the one that we were supposed to do",
    "start": "5149409",
    "end": "5155020"
  },
  {
    "text": "was Korres unless someone actually is looking for something in the chat I don't think so so it's 50/50 now so I would just leave",
    "start": "5155020",
    "end": "5162670"
  },
  {
    "text": "it there for now yeah I mean I think that the next step here so we've we've",
    "start": "5162670",
    "end": "5167739"
  },
  {
    "text": "built an api gateway it has lambda which has all of our application logic on the back end and you know the next step of",
    "start": "5167739",
    "end": "5177190"
  },
  {
    "text": "course is how to secure that beyond just TLS right so how how would you have an",
    "start": "5177190",
    "end": "5183130"
  },
  {
    "text": "application talk to your api gateway and do that in a secure fashion how do you",
    "start": "5183130",
    "end": "5188170"
  },
  {
    "text": "authenticate users what's the way to do this sure we're not gonna do that today",
    "start": "5188170",
    "end": "5193300"
  },
  {
    "text": "just because of time and because we also have upcoming episodes that one of them",
    "start": "5193300",
    "end": "5198880"
  },
  {
    "text": "will always only talk about education and every authentication and authorization option you have perhaps we",
    "start": "5198880",
    "end": "5206199"
  },
  {
    "text": "can even reschedule this for another day and then we can just continue from here and just to optimization but let me show",
    "start": "5206199",
    "end": "5212860"
  },
  {
    "text": "you what you can do today if I go to API gateway console I should have a bunch of",
    "start": "5212860",
    "end": "5219340"
  },
  {
    "text": "it guys here don't worry we are interested in in simple to service we're not gonna do it",
    "start": "5219340",
    "end": "5225280"
  },
  {
    "text": "ourselves just gonna show you when you select the method it is supposed to be",
    "start": "5225280",
    "end": "5232840"
  },
  {
    "text": "post I click method requests because I haven't changed of course and I have authorization from",
    "start": "5232840",
    "end": "5238769"
  },
  {
    "text": "here I only see one option which is it addressed I am so you need to do sick",
    "start": "5238769",
    "end": "5244329"
  },
  {
    "text": "before and so you will need you get access key secret keys sign hash and",
    "start": "5244329",
    "end": "5249880"
  },
  {
    "text": "then send that through API gateway of course to a user that's too complicated we want to do something much simpler",
    "start": "5249880",
    "end": "5256630"
  },
  {
    "text": "than that so what we could do is if we if we clicking authorizers we could",
    "start": "5256630",
    "end": "5264309"
  },
  {
    "text": "create a new authorizer we can use something called kognito for instance and from here I can select a",
    "start": "5264309",
    "end": "5271300"
  },
  {
    "text": "kognito user pool which means all the user management all my users out education authorizations going to be",
    "start": "5271300",
    "end": "5277239"
  },
  {
    "text": "managed by Cognito ok and in the front here i can say i when i send it talking",
    "start": "5277239",
    "end": "5284110"
  },
  {
    "text": "so my open ID token it has to be inside the authorization header on my HTTP",
    "start": "5284110",
    "end": "5290019"
  },
  {
    "text": "request so I could do this and I could also create a new authorizer it's gonna be a lambda normally we call this custom",
    "start": "5290019",
    "end": "5298000"
  },
  {
    "text": "authorizer so that means I could have any function develop in the same way that will tell a",
    "start": "5298000",
    "end": "5304119"
  },
  {
    "text": "parent whether to authorize a request or not ok so that's how flexible we can go from here all right",
    "start": "5304119",
    "end": "5309340"
  },
  {
    "text": "and then from the Java Script and say a web application I can use the AWS api's or just as you said create think",
    "start": "5309340",
    "end": "5316179"
  },
  {
    "text": "requesters the name of the the Java Script blog for any for a no I'm thinking of Python sorry yeah yeah we",
    "start": "5316179",
    "end": "5322239"
  },
  {
    "text": "have we have we have a bunch we also have a double s amplify but just which is actually a library that does all they",
    "start": "5322239",
    "end": "5327340"
  },
  {
    "text": "have anything for you for immobilization it's not disco for today ok but in a",
    "start": "5327340",
    "end": "5332949"
  },
  {
    "text": "single page web application you can communicate with that API using the same level of security that's wrapped around the AWS API itself",
    "start": "5332949",
    "end": "5339489"
  },
  {
    "text": "absolute string if when I get down that path for now for a single application this is what I would recommend there is",
    "start": "5339489",
    "end": "5346420"
  },
  {
    "text": "a library called the breast - amplify that allows you to build mobile apps and",
    "start": "5346420",
    "end": "5351730"
  },
  {
    "text": "also web apps in the sense there in wrap it facilitates the needs of",
    "start": "5351730",
    "end": "5357239"
  },
  {
    "text": "you know creating all of this out education piece connecting 2x3 creating",
    "start": "5357239",
    "end": "5362460"
  },
  {
    "text": "a UI for our educational process for kognito as you can see is we actually using react also while we just described",
    "start": "5362460",
    "end": "5370590"
  },
  {
    "text": "about signing HTTP requests what if I want to use it before because I wanted something stronger so all of this is",
    "start": "5370590",
    "end": "5376110"
  },
  {
    "text": "actually being handled by amplified okay so that's where I would start there's some demo codes in here as well",
    "start": "5376110",
    "end": "5382409"
  },
  {
    "text": "if you want to get along but yeah sure so that will be a sneaky peek or what's",
    "start": "5382409",
    "end": "5388170"
  },
  {
    "text": "coming on them on the authentication type result what we what we promised to",
    "start": "5388170",
    "end": "5394679"
  },
  {
    "text": "do was you actually have a front-end to call this API but we're gonna have two",
    "start": "5394679",
    "end": "5399900"
  },
  {
    "text": "things first I'm not gonna I'm not going to show you the code for the front-end for now but I will show you that you",
    "start": "5399900",
    "end": "5405960"
  },
  {
    "text": "need course because we're gonna run this from the local laptop cue an API so one",
    "start": "5405960",
    "end": "5411150"
  },
  {
    "text": "common question is how do i do cores in London today you're gonna learn we're gonna go to the docs and we're going to",
    "start": "5411150",
    "end": "5416519"
  },
  {
    "text": "show you exactly how I would do so let's see the code applies finish almost there",
    "start": "5416519",
    "end": "5421909"
  },
  {
    "text": "so just because I I'm stubborn I want to do this I want to I want to make sure",
    "start": "5421909",
    "end": "5428039"
  },
  {
    "text": "that I have a version and I can call something else let's say 2.0 the next",
    "start": "5428039",
    "end": "5433650"
  },
  {
    "text": "time I make those requests I want to see that version so I can you can see exactly what I mean by that so how do we",
    "start": "5433650",
    "end": "5439559"
  },
  {
    "text": "do how do we do course so first course has two approaches right one is called",
    "start": "5439559",
    "end": "5445889"
  },
  {
    "text": "pre flights which is a HTTP options that the browser sends you whatever endpoint you have in this case is a bi gateway",
    "start": "5445889",
    "end": "5452699"
  },
  {
    "text": "and you also have the backend course which we need to implement that in the lambda function right so just to give an",
    "start": "5452699",
    "end": "5460440"
  },
  {
    "text": "example how that would fail for now for to try I'm sure to have this over here I",
    "start": "5460440",
    "end": "5466460"
  },
  {
    "text": "have a front thing here that I built using views is not react just for the",
    "start": "5466460",
    "end": "5477539"
  },
  {
    "text": "just for the you know setting firing the conversation what this does for me is if I go to my",
    "start": "5477539",
    "end": "5484120"
  },
  {
    "text": "components I have an encrypt and I have encrypt and decrypt what this does for",
    "start": "5484120",
    "end": "5489700"
  },
  {
    "text": "me is a he always does is a HTTP POST shield api gateway and it sends the data",
    "start": "5489700",
    "end": "5495610"
  },
  {
    "text": "and executive format that we already did so I would have to replace this now with my confirmation by clicking outputs I",
    "start": "5495610",
    "end": "5504220"
  },
  {
    "text": "would see the API over here which by the way now it's updated to encrypt we were",
    "start": "5504220",
    "end": "5510970"
  },
  {
    "text": "to do something like this because it has hot reloading I already have that information so I think is a",
    "start": "5510970",
    "end": "5517680"
  },
  {
    "text": "localhost:8080 let me see yeah something",
    "start": "5517680",
    "end": "5524050"
  },
  {
    "text": "like that of course because I am a designer you can see how beautiful that is and if we try to type something to",
    "start": "5524050",
    "end": "5533170"
  },
  {
    "text": "encrypt let's say as a Brazilian laughing on the internet you will see",
    "start": "5533170",
    "end": "5538480"
  },
  {
    "text": "that effects if you click and show output well it doesn't tell much right it tells that all the endpoint I was",
    "start": "5538480",
    "end": "5544930"
  },
  {
    "text": "trying to send a request to you the data I sent which is exactly how I will send through my insomnia API client if I try",
    "start": "5544930",
    "end": "5552910"
  },
  {
    "text": "to open up my chrome developer tools I would say this I would say that the",
    "start": "5552910",
    "end": "5561040"
  },
  {
    "text": "response from this API doesn't pass the control check for the pre-flood request which means api gateway doesn't have an",
    "start": "5561040",
    "end": "5568210"
  },
  {
    "text": "options set in the api gateway definition so we need to do this okay and you also say that there's no access",
    "start": "5568210",
    "end": "5575290"
  },
  {
    "text": "control without orange in all that stuff so how do we do this we go to the",
    "start": "5575290",
    "end": "5581140"
  },
  {
    "text": "documentation again because our friends if we go back to versions we click in",
    "start": "5581140",
    "end": "5588400"
  },
  {
    "text": "the version number at the bottom of it if you scroll down down down you see",
    "start": "5588400",
    "end": "5594520"
  },
  {
    "text": "there's a course configuration in here so what that means we need to add this into our global definition and if we",
    "start": "5594520",
    "end": "5601840"
  },
  {
    "text": "were to do this we will do something like this oh yeah by the way because I",
    "start": "5601840",
    "end": "5609130"
  },
  {
    "text": "keep switching very fast under examples we also have an example course he will see that over here so",
    "start": "5609130",
    "end": "5616660"
  },
  {
    "text": "that's exactly what we're gonna do so let's go back to there so for people who",
    "start": "5616660",
    "end": "5625030"
  },
  {
    "text": "are just joining in we've got examples in the serverless application model repo",
    "start": "5625030",
    "end": "5631270"
  },
  {
    "text": "on github and then there's also the serverless application repository yeah",
    "start": "5631270",
    "end": "5636970"
  },
  {
    "text": "which is a whole separate entity hosted by AWS that has a number of different service applications that people can",
    "start": "5636970",
    "end": "5644320"
  },
  {
    "text": "reference as examples or you can deploy a test for themselves absolutely so for now we are simply",
    "start": "5644320",
    "end": "5650320"
  },
  {
    "text": "adding cores into our API and of course because I have a a bad idea tation that",
    "start": "5650320",
    "end": "5657670"
  },
  {
    "text": "would fail than the packaging's we want to avoid this so we want to say that we",
    "start": "5657670",
    "end": "5663100"
  },
  {
    "text": "only allow posts and options so for that we're also going to change here we only",
    "start": "5663100",
    "end": "5668290"
  },
  {
    "text": "allow post button API guess we will do the pre-flight and what is the headers",
    "start": "5668290",
    "end": "5675130"
  },
  {
    "text": "we want to we want to accept because my future is actually sends a content type from Jason we want to allow for this but",
    "start": "5675130",
    "end": "5682150"
  },
  {
    "text": "that means you can also have any custom header so we finish this and then the",
    "start": "5682150",
    "end": "5687490"
  },
  {
    "text": "allow orange what is the origin of my application well if we go back in here",
    "start": "5687490",
    "end": "5692680"
  },
  {
    "text": "is it is localhost HTTP 8080 all right",
    "start": "5692680",
    "end": "5701790"
  },
  {
    "text": "so we want to do this we don't want this latch because otherwise it fast okay and then we don't want the max-age we",
    "start": "5701790",
    "end": "5710050"
  },
  {
    "text": "don't care about this so this is how we would implement that so let's see how how that would work if I work with",
    "start": "5710050",
    "end": "5717430"
  },
  {
    "text": "forward you go over here now let me see if I'm missing anything else we have the API encrypt we have the post we had the",
    "start": "5717430",
    "end": "5722950"
  },
  {
    "text": "KMS key and all that stuff that's deployed is now if we deploy this we",
    "start": "5722950",
    "end": "5733300"
  },
  {
    "text": "should see inside our API gateway a new options definition okay and we should be",
    "start": "5733300",
    "end": "5739450"
  },
  {
    "text": "able to see the same headers we just defined and that means that were pre-flight we work but actually because",
    "start": "5739450",
    "end": "5745480"
  },
  {
    "text": "I forgot I was supposed to write the course in the London function as well okay so",
    "start": "5745480",
    "end": "5752080"
  },
  {
    "text": "that's gonna take us a some time how do I do this my bad so because it's quite tedious to write",
    "start": "5752080",
    "end": "5760060"
  },
  {
    "text": "this I just wrote a snippet for me all right so we just need those hand reserved here so we're gonna do this",
    "start": "5760060",
    "end": "5773159"
  },
  {
    "text": "we're gonna allow 8080 we want to add",
    "start": "5773159",
    "end": "5779020"
  },
  {
    "text": "content type and we want to add only options and this so we don't need this",
    "start": "5779020",
    "end": "5786610"
  },
  {
    "text": "okay so now this is how it's supposed to work",
    "start": "5786610",
    "end": "5794380"
  },
  {
    "text": "right so apologies we're just gonna do it again this is what happens in life",
    "start": "5794380",
    "end": "5799570"
  },
  {
    "text": "coding you're gonna do everything from scratch and you're gonna miss something in the meantime that deploys is just not",
    "start": "5799570",
    "end": "5808060"
  },
  {
    "text": "gonna allow me for the next ten minutes so we can talk about other things so let's see if that already made the",
    "start": "5808060",
    "end": "5813730"
  },
  {
    "text": "change to my API if I go to API gate right now and i refresh all this I don't",
    "start": "5813730",
    "end": "5819460"
  },
  {
    "text": "care about authorizes right now we can do something afterwards if I click in resources I still don't get that so it's",
    "start": "5819460",
    "end": "5825670"
  },
  {
    "text": "you're gonna take me some time I should be able to see a options over here okay this is exactly the same way as",
    "start": "5825670",
    "end": "5831070"
  },
  {
    "text": "doing actions enable cores and doing something okay so we're just gonna actually have to",
    "start": "5831070",
    "end": "5837190"
  },
  {
    "text": "wait just for the fun of it just before if we try actually do this",
    "start": "5837190",
    "end": "5842440"
  },
  {
    "text": "now now I have version two if we if we",
    "start": "5842440",
    "end": "5847570"
  },
  {
    "text": "heat up a bunch of other times you don't see it so now I can prove yeah deployment Exodus working right now so",
    "start": "5847570",
    "end": "5854980"
  },
  {
    "text": "there's a question about ten minute bill so the ten minute time that hater was",
    "start": "5854980",
    "end": "5862030"
  },
  {
    "text": "referring to just then was a staged rollout of the latest lambda function and the configuration changes that have",
    "start": "5862030",
    "end": "5869080"
  },
  {
    "text": "just been made so it's going to over that ten minute period shape the traffic",
    "start": "5869080",
    "end": "5876040"
  },
  {
    "text": "right that's that it's distributing across so that's the reason for the is taking a little while to take effect",
    "start": "5876040",
    "end": "5881110"
  },
  {
    "text": "absolutely so if you go to the template just to clear that out inside my globo's",
    "start": "5881110",
    "end": "5886690"
  },
  {
    "text": "where I can't define the properties for all my functions or all my API so once I have a deployment preference that says",
    "start": "5886690",
    "end": "5893280"
  },
  {
    "text": "send ten percent of the traffic every one minute so that's why it's taking",
    "start": "5893280",
    "end": "5898630"
  },
  {
    "text": "that and the deployment is actually stuck in the update in progress Chuco deploy say hey I finished equally",
    "start": "5898630",
    "end": "5906040"
  },
  {
    "text": "if you were to define alarms or anything like this you would roll back whatever the percentage that is it's also worth",
    "start": "5906040",
    "end": "5912610"
  },
  {
    "text": "mentioning to hater that if you're talking about in a development account and in the development environment when",
    "start": "5912610",
    "end": "5918040"
  },
  {
    "text": "you're you know in heated building things you're not gonna wait ten minutes you don't you're not worried about Canaries or a/b testing you just want to",
    "start": "5918040",
    "end": "5924820"
  },
  {
    "text": "get the thing deployed do a functional test so probably you're Sam template that you push to the development account",
    "start": "5924820",
    "end": "5931600"
  },
  {
    "text": "or the test account and it's gonna be different than the one you use for production totally agree so in that scenario which you still want to have a",
    "start": "5931600",
    "end": "5937660"
  },
  {
    "text": "manias close to production what you do here is if you go to the docs again and",
    "start": "5937660",
    "end": "5945160"
  },
  {
    "text": "we go to limb to save deployments where I added it into the cookie cutter you",
    "start": "5945160",
    "end": "5951460"
  },
  {
    "text": "see the traffic shifting configurations I also allows you to have all at once",
    "start": "5951460",
    "end": "5956470"
  },
  {
    "text": "yet so you can have a parameter that says something like this you can have a",
    "start": "5956470",
    "end": "5962200"
  },
  {
    "text": "parameters inside your say deployment preference that could be that could be",
    "start": "5962200",
    "end": "5970900"
  },
  {
    "text": "their value and that could be I don't know by default it will be all at once and then you can have this something like",
    "start": "5970900",
    "end": "5979510"
  },
  {
    "text": "this so that means it can have even an",
    "start": "5979510",
    "end": "5984520"
  },
  {
    "text": "if condition that says if I'm running this into a pre product production or",
    "start": "5984520",
    "end": "5989800"
  },
  {
    "text": "something I probably want to send more traffic and I'm morally in a faster linear time or when it comes to",
    "start": "5989800",
    "end": "5996190"
  },
  {
    "text": "production I want to set this lowest or a canary or something okay so I can totally be in control of whatever you",
    "start": "5996190",
    "end": "6002370"
  },
  {
    "text": "want to do so then from the command line from your local development machine when you issue a make test versus a make",
    "start": "6002370",
    "end": "6007680"
  },
  {
    "text": "deploy or make you're probably going to be pushing to a different AWS account with different set",
    "start": "6007680",
    "end": "6013700"
  },
  {
    "text": "of parameters versus pushing to production which actually ideally should be done by build server right oh",
    "start": "6013700",
    "end": "6019150"
  },
  {
    "text": "absolutely yeah we because we're gonna we're not we're gonna run out of time",
    "start": "6019150",
    "end": "6025220"
  },
  {
    "text": "because we spend more time explaining some of those pieces I will promise we're gonna do another one should extend",
    "start": "6025220",
    "end": "6030320"
  },
  {
    "text": "this in a cover authorization and cover the cncd as well but the CI CD in a real",
    "start": "6030320",
    "end": "6036680"
  },
  {
    "text": "word it would look something like this we also have a new blog post about this",
    "start": "6036680",
    "end": "6042260"
  },
  {
    "text": "I will show you in a minute in a graphical terms this is how it should look like you would have a named pipe",
    "start": "6042260",
    "end": "6047600"
  },
  {
    "text": "line that will have the code in a dev account and then the pipeline would build the artifacts all the dependencies",
    "start": "6047600",
    "end": "6054860"
  },
  {
    "text": "and deploying multiple accounts whatever their County use you can still define their deployment preferences and",
    "start": "6054860",
    "end": "6061580"
  },
  {
    "text": "everything else ok so the internet is demanding that we not wait 10 minutes can you swap out for the all at once and",
    "start": "6061580",
    "end": "6068000"
  },
  {
    "text": "just redeploy yeah let me just go back in here and say all at once I would if I",
    "start": "6068000",
    "end": "6077300"
  },
  {
    "text": "can so that I could have some maybe could have some unexpected behavior yeah",
    "start": "6077300",
    "end": "6082340"
  },
  {
    "text": "I don't want to I know feel comfortable with that so it's actually just finished or maybe somewhat there's another one",
    "start": "6082340",
    "end": "6088370"
  },
  {
    "text": "here so let's say it's 60% so just four more minutes apologies we we're gonna do",
    "start": "6088370",
    "end": "6096170"
  },
  {
    "text": "this let's actually get ready for the another deployment just in case alright",
    "start": "6096170",
    "end": "6102700"
  },
  {
    "text": "just kind of copy all this and I just want to run another shell and I don't",
    "start": "6102700",
    "end": "6113090"
  },
  {
    "text": "wanna deployed it that's pretty help me on that preventing me from making making",
    "start": "6113090",
    "end": "6120410"
  },
  {
    "text": "disasters so I just want to package that up to the new code and now we should have wall at once we should also have",
    "start": "6120410",
    "end": "6128390"
  },
  {
    "text": "cores and inside my application we have cores exactly as we are supposed to so",
    "start": "6128390",
    "end": "6135470"
  },
  {
    "text": "70% almost there so I'm just gonna hold my fat finger and not deploy",
    "start": "6135470",
    "end": "6143290"
  },
  {
    "text": "in order to enable Kors about God's let's say the the pet shop an example",
    "start": "6143349",
    "end": "6148909"
  },
  {
    "text": "that you can deploy through the console just as an example API gateway deployment backed by lambda you know do",
    "start": "6148909",
    "end": "6156139"
  },
  {
    "text": "I need to put cores the the response into my lambda function or is it enough",
    "start": "6156139",
    "end": "6161239"
  },
  {
    "text": "just to tell API gateway to enable cores and it will craft the response for me okay so that goes back to the point",
    "start": "6161239",
    "end": "6167389"
  },
  {
    "text": "where every cell course is divided into two one is a pre-flight option that the browser sends so that's handled by API",
    "start": "6167389",
    "end": "6174199"
  },
  {
    "text": "gateway because we are using something called proxy integration where we send everything as this to lambda and",
    "start": "6174199",
    "end": "6180769"
  },
  {
    "text": "whatever level returns we return to the user that's why the interface definition over here about status codes and body",
    "start": "6180769",
    "end": "6188059"
  },
  {
    "text": "and also the headers it means that lambda is responsible for returning that okay so because we've got the proxy plus",
    "start": "6188059",
    "end": "6195050"
  },
  {
    "text": "turned on yeah we have some responsibilities to that so how's that",
    "start": "6195050",
    "end": "6200749"
  },
  {
    "text": "gonna work I mean we've got a few minutes left here so yes okay so if we let's say I'm on building this from",
    "start": "6200749",
    "end": "6205969"
  },
  {
    "text": "scratch for is 101 yeah so this is how I peg it with us you can do the authorization the method request do",
    "start": "6205969",
    "end": "6212719"
  },
  {
    "text": "anything you want before you call your back-end then you call your back-end which is integration request because",
    "start": "6212719",
    "end": "6219619"
  },
  {
    "text": "we're using lambda proxy in this case the integration response is actually grayed out we cannot make that change so",
    "start": "6219619",
    "end": "6226849"
  },
  {
    "text": "what we could do here if we're not once you use lambda proxy we could wire all",
    "start": "6226849",
    "end": "6232099"
  },
  {
    "text": "of this manually using swagger or Apache velocity and we would change the integration response and say whatever",
    "start": "6232099",
    "end": "6239840"
  },
  {
    "text": "the backend replied I want you to add these particular headers so that is good",
    "start": "6239840",
    "end": "6245150"
  },
  {
    "text": "from one way but also that it becomes clunky in the sense that now you don't control I mean can turn on the API you",
    "start": "6245150",
    "end": "6251179"
  },
  {
    "text": "decouple the course functionality but if you have to change something need to make a new API deployment and keep track",
    "start": "6251179",
    "end": "6257929"
  },
  {
    "text": "of that so it's a different type of beast you actually deal with okay but it's totally possible to do and in a",
    "start": "6257929",
    "end": "6265099"
  },
  {
    "text": "real world environment how many lambda functions that customers build are aware",
    "start": "6265099",
    "end": "6270110"
  },
  {
    "text": "they're connected to an API gateway versus they're just a lambda function that received some input",
    "start": "6270110",
    "end": "6275190"
  },
  {
    "text": "veidt's and output mhm so in that sense when when you look at when you look at it thankful aids itself what we",
    "start": "6275190",
    "end": "6282930"
  },
  {
    "text": "recommend is that the functions that are in the same template there all of them gonna be a word okay it's gonna be invoked by an API right if they are",
    "start": "6282930",
    "end": "6290000"
  },
  {
    "text": "let's say you have let's say you have an account a I just kind of type in here to make it easy and then you have an",
    "start": "6290000",
    "end": "6296460"
  },
  {
    "text": "account B over here so you have an API gateway already define let's say let's call this a checkout service and then",
    "start": "6296460",
    "end": "6304650"
  },
  {
    "text": "you have lambda 1 lambda 2 to do some validations before checkout whatever it is once that service is complete you",
    "start": "6304650",
    "end": "6312150"
  },
  {
    "text": "want to tell to the user that you want to notify the user that the chekhov is being completed and you may want to kick",
    "start": "6312150",
    "end": "6318360"
  },
  {
    "text": "off something in the warehouse right so you will have something similar again",
    "start": "6318360",
    "end": "6323850"
  },
  {
    "text": "when you have another lambda another function etc this functions because they're self-contained in the same time",
    "start": "6323850",
    "end": "6329340"
  },
  {
    "text": "place then I'll wear that they're gonna be called by API gateway and these numbers they need to call another API",
    "start": "6329340",
    "end": "6335940"
  },
  {
    "text": "get them somewhere else then in each inject is into a confirmation stack or parametric store or something like this",
    "start": "6335940",
    "end": "6342290"
  },
  {
    "text": "how are they aware of the fact that this is happening you can do in Chi wise",
    "start": "6342290",
    "end": "6347930"
  },
  {
    "text": "inside the lambda you see the events you can have a schema validation library",
    "start": "6347930",
    "end": "6353430"
  },
  {
    "text": "item this bunch of those that she can do something like this your let's say your schema validator",
    "start": "6353430",
    "end": "6360830"
  },
  {
    "text": "just something like this that you can say validate event against a API gateway",
    "start": "6360830",
    "end": "6369000"
  },
  {
    "text": "schema so if that's not valid if that",
    "start": "6369000",
    "end": "6374070"
  },
  {
    "text": "came from SNS or something else you could stop the code writer and that's something you could do and that actually",
    "start": "6374070",
    "end": "6380610"
  },
  {
    "text": "in fact is something that secured partners like pure sag or twist lock or many others are actually working like",
    "start": "6380610",
    "end": "6386790"
  },
  {
    "text": "that they're trying to make sure that the London function only gets involved by the event source you configure right",
    "start": "6386790",
    "end": "6393000"
  },
  {
    "text": "so now you can totally create anything like this because lambda is just a function you can do anything you want",
    "start": "6393000",
    "end": "6398699"
  },
  {
    "text": "okay cool thank you okay so let's have a look and fingers crossed and",
    "start": "6398699",
    "end": "6408290"
  },
  {
    "text": "apologist for that if I may be are you getting the right end point maybe I am",
    "start": "6408620",
    "end": "6416930"
  },
  {
    "text": "does this all be failed actually why did it fail let me see",
    "start": "6416930",
    "end": "6430580"
  },
  {
    "text": "so you fail at an API gateway so let me have a look that's not helpful when I",
    "start": "6430580",
    "end": "6439920"
  },
  {
    "text": "was actually in valid mapping expression so errors found in duty in able to put",
    "start": "6439920",
    "end": "6447060"
  },
  {
    "text": "the response options for the resource path as encrypt invite every mapping expression British result post options",
    "start": "6447060",
    "end": "6455150"
  },
  {
    "text": "so that is the course for sure so why why did that fail anything anyone can",
    "start": "6455150",
    "end": "6466710"
  },
  {
    "text": "spot something weird here so allow methods is allowing actually posts and",
    "start": "6466710",
    "end": "6472770"
  },
  {
    "text": "options but you should and a content type in the local host so this is what",
    "start": "6472770",
    "end": "6479340"
  },
  {
    "text": "is complaining actually it's complaining about the allow methods",
    "start": "6479340",
    "end": "6485690"
  },
  {
    "text": "invalid map expression so let's let's have a look at the example that we have",
    "start": "6490349",
    "end": "6495599"
  },
  {
    "text": "exam because it does look good to me let's look at the template where it is",
    "start": "6495599",
    "end": "6504449"
  },
  {
    "text": "the Global's okay so the course is just defining a",
    "start": "6504449",
    "end": "6509730"
  },
  {
    "text": "simple course it's not not helping my calls right now but that's let's",
    "start": "6509730",
    "end": "6516900"
  },
  {
    "text": "actually find out in the versions if anyone spots something ridiculously",
    "start": "6516900",
    "end": "6522329"
  },
  {
    "text": "stupid on my hands please let me know so we allow so this is what the",
    "start": "6522329",
    "end": "6529590"
  },
  {
    "text": "documentation says we should do all right so ah you missed your double quotes the",
    "start": "6529590",
    "end": "6539130"
  },
  {
    "text": "documentation tells us right when we have more clothes the good news is now",
    "start": "6539130",
    "end": "6548670"
  },
  {
    "text": "we have all at once by popular demand yeah I don't like waiting for anything",
    "start": "6548670",
    "end": "6556650"
  },
  {
    "text": "either yeah me neither so I just want to make I just want to prove a point so let's actually drop this right now",
    "start": "6556650",
    "end": "6563070"
  },
  {
    "text": "make a deployment and and let's see disk",
    "start": "6563070",
    "end": "6569159"
  },
  {
    "text": "actually getting done I guess the cool",
    "start": "6569159",
    "end": "6575250"
  },
  {
    "text": "part of actually failing is that you kind of a learn how to troubleshoot and I think that's quite valuable especially",
    "start": "6575250",
    "end": "6581849"
  },
  {
    "text": "when you're looking at the docs than our errors that we should highlight or even see any mistakes like this right let's",
    "start": "6581849",
    "end": "6588389"
  },
  {
    "text": "uh gives us a good opportunity to mention the open sourcing of the documentation as well right that's",
    "start": "6588389",
    "end": "6593670"
  },
  {
    "text": "really cool yeah absolutely I don't know how many people saw this but we have",
    "start": "6593670",
    "end": "6599250"
  },
  {
    "text": "actually some cool stuff coming out in that sense about about twitch and",
    "start": "6599250",
    "end": "6604349"
  },
  {
    "text": "everything Sam is now the all of these pieces about ops the templates the",
    "start": "6604349",
    "end": "6612659"
  },
  {
    "text": "serverless function and all of this stuff in general this is actually going to be",
    "start": "6612659",
    "end": "6617840"
  },
  {
    "text": "this is actually already is open sourced and we had a twitch recently there",
    "start": "6617840",
    "end": "6623490"
  },
  {
    "text": "actually explain how this is a cover if you look at some translator you see everything that stem is actually doing",
    "start": "6623490",
    "end": "6629850"
  },
  {
    "text": "so some in this case is actually looking at DSL converging ship confirmation",
    "start": "6629850",
    "end": "6635940"
  },
  {
    "text": "standard and the way that this some translator is doing so confirmation can deploy if you look at the model just in",
    "start": "6635940",
    "end": "6642150"
  },
  {
    "text": "case we see all of this here if you look at let's say lambda the py you see a",
    "start": "6642150",
    "end": "6650220"
  },
  {
    "text": "bunch of code is actually going to be converted into protocol information and there's a lot you see they print all",
    "start": "6650220",
    "end": "6658530"
  },
  {
    "text": "those permissions that we actually right behind the scenes for you on their behalf everything is actually here so if",
    "start": "6658530",
    "end": "6664650"
  },
  {
    "text": "I were to do a graph we could spend probably more than a few hours I thought about this but let's actually leave it",
    "start": "6664650",
    "end": "6670770"
  },
  {
    "text": "there for now so thank you so the updates worked and we now have we",
    "start": "6670770",
    "end": "6679110"
  },
  {
    "text": "should we should have a API gate with cores enabled we're getting a working",
    "start": "6679110",
    "end": "6688290"
  },
  {
    "text": "Wow at least from the console if we now click an integration response because",
    "start": "6688290",
    "end": "6695670"
  },
  {
    "text": "that's what we were responsive as a pre-flight just to show you the magic it's not something you should do if you're clicking here you will find the",
    "start": "6695670",
    "end": "6702330"
  },
  {
    "text": "header mappings it's exactly what we actually passed okay so in theory we have cores in our",
    "start": "6702330",
    "end": "6710460"
  },
  {
    "text": "function we have cores in our API gateway so let's actually try this so",
    "start": "6710460",
    "end": "6716690"
  },
  {
    "text": "let me go back in here use this C alive because I don't want to keep showing more to console I just want to describe",
    "start": "6716690",
    "end": "6723030"
  },
  {
    "text": "off cus as I actually just need my profile if I do this I should have API",
    "start": "6723030",
    "end": "6732060"
  },
  {
    "text": "get to a URL I don't like I like CLI is I like console sorry so if we go now to",
    "start": "6732060",
    "end": "6739800"
  },
  {
    "text": "our I think we we haven't changed the API so let's go back in here and go to",
    "start": "6739800",
    "end": "6746600"
  },
  {
    "text": "go to this and I try yes I was actually afraid of that",
    "start": "6746600",
    "end": "6759940"
  },
  {
    "text": "like oh my god hopefully hopefully is gonna work so now we can see that really we returned a few hundred application",
    "start": "6759940",
    "end": "6767320"
  },
  {
    "text": "Jason he was a post and we can see the URL from here and if we were to",
    "start": "6767320",
    "end": "6773590"
  },
  {
    "text": "implement decrypt would be just a reverse but that would just be exactly the same time so now we can send as many",
    "start": "6773590",
    "end": "6780610"
  },
  {
    "text": "if we were to try to decrypt this we could try maybe this can take some time",
    "start": "6780610",
    "end": "6787119"
  },
  {
    "text": "for me now right now we could probably focus on something else but this gives you the idea of how all",
    "start": "6787119",
    "end": "6792639"
  },
  {
    "text": "of this works if you are interested about the decrypt piece the decrypt is",
    "start": "6792639",
    "end": "6797800"
  },
  {
    "text": "nothing more but this I'm so happy that you worked if we see the decrypt",
    "start": "6797800",
    "end": "6807100"
  },
  {
    "text": "function which is a mother py but much simplified is we just run a dot decrypt",
    "start": "6807100",
    "end": "6814929"
  },
  {
    "text": "pass the cypher blob and and we just got the plan text that's it so that is not",
    "start": "6814929",
    "end": "6821290"
  },
  {
    "text": "that difficult to implement so if we go back in here we let's see what we got",
    "start": "6821290",
    "end": "6827830"
  },
  {
    "text": "actually in so far we covert if we're actually getting here right now we",
    "start": "6827830",
    "end": "6832929"
  },
  {
    "text": "covered the server's application repository which is a service you can browse applications and publish we",
    "start": "6832929",
    "end": "6839350"
  },
  {
    "text": "talked about Sam or service application repository that allows you to design all",
    "start": "6839350",
    "end": "6844810"
  },
  {
    "text": "your service application how your function your application should behave who's got a call your application our",
    "start": "6844810",
    "end": "6851739"
  },
  {
    "text": "permissions needs we went to the Sam Gibbs repository some of the some",
    "start": "6851739",
    "end": "6857320"
  },
  {
    "text": "examples we went to the cookie cutter which is an open source solution that allows you to scaffold anything you want",
    "start": "6857320",
    "end": "6865300"
  },
  {
    "text": "any language so we did one just for Sam Python applications you make it easier for you we went to the same thing play",
    "start": "6865300",
    "end": "6873040"
  },
  {
    "text": "definition what all of those options meant the structure of there were files how we scaffold is and then we obviously",
    "start": "6873040",
    "end": "6880150"
  },
  {
    "text": "installed applications dependencies local testing something from scratch we deployed",
    "start": "6880150",
    "end": "6886150"
  },
  {
    "text": "multiple deployment operations API gateway also look at x-ray and we",
    "start": "6886150",
    "end": "6892270"
  },
  {
    "text": "actually now have done the front end kicked off just about everything you",
    "start": "6892270",
    "end": "6897580"
  },
  {
    "text": "wanted to do today I'm really impressed I'm saluting so the last thing if we have time is in case nobody has any",
    "start": "6897580",
    "end": "6904449"
  },
  {
    "text": "questions or comments on this we could make this application at least for now just to show you how would it be to",
    "start": "6904449",
    "end": "6910900"
  },
  {
    "text": "publish this into service application repository yeah let's do it okay so what service application",
    "start": "6910900",
    "end": "6918280"
  },
  {
    "text": "repository if you go to this your I this is only for publishers right we will go for this every week we can go to the",
    "start": "6918280",
    "end": "6924790"
  },
  {
    "text": "documentation a minute this will tell me how I want to publish an application so",
    "start": "6924790",
    "end": "6930040"
  },
  {
    "text": "I would go here and publish an application I could say encryption proxy simple of course I will do some tidy up",
    "start": "6930040",
    "end": "6936250"
  },
  {
    "text": "afterwards and published so I could say 8 or less and J's umberto sadly we don't",
    "start": "6936250",
    "end": "6943960"
  },
  {
    "text": "have any webpage so maybe we just say where this is right and then we can say",
    "start": "6943960",
    "end": "6956560"
  },
  {
    "text": "the encryption proxy simple blah blah blah we don't we want to say some labels",
    "start": "6956560",
    "end": "6962230"
  },
  {
    "text": "so it's Python encryption maybe security maybe a proxy right and the license we",
    "start": "6962230",
    "end": "6970270"
  },
  {
    "text": "could choose MIT because we're cool and then we can also define some read me or",
    "start": "6970270",
    "end": "6977500"
  },
  {
    "text": "some explanations in there so for now it just cannot avert that and we also need to define a semantics so maybe one point",
    "start": "6977500",
    "end": "6985480"
  },
  {
    "text": "opened all right and we're where the code is well same as before so I just actually do this and",
    "start": "6985480",
    "end": "6995130"
  },
  {
    "text": "then we have to say where we are something that is the key here is that",
    "start": "6995130",
    "end": "7002510"
  },
  {
    "text": "service application repository needs to know where is our zip file where is",
    "start": "7002510",
    "end": "7007560"
  },
  {
    "text": "their application so we need to do this so what we're gonna do that right now is we're gonna go to the docs because I",
    "start": "7007560",
    "end": "7013139"
  },
  {
    "text": "don't know what permissions looks like if I go to service application repository documentation I find out here",
    "start": "7013139",
    "end": "7024350"
  },
  {
    "text": "go to the developer guides and I want to publish an application so he explains",
    "start": "7024350",
    "end": "7030300"
  },
  {
    "text": "everything I need account Sam etc it talks about this I need to publish this",
    "start": "7030300",
    "end": "7035580"
  },
  {
    "text": "you a get 2 X 3 what similar to the way confirmation would deploy it's the same",
    "start": "7035580",
    "end": "7041310"
  },
  {
    "text": "way but I need to make that public if I want to make the application public so I need to get I need to give permission to",
    "start": "7041310",
    "end": "7047760"
  },
  {
    "text": "service application repository to look at my s3 bucket so he can actually read",
    "start": "7047760",
    "end": "7053250"
  },
  {
    "text": "that artifact and then publish them right ok so if we go to our package da",
    "start": "7053250",
    "end": "7060780"
  },
  {
    "text": "mo we even already have the latest version here so you can just use this",
    "start": "7060780",
    "end": "7065820"
  },
  {
    "text": "right so that the same bucket we need to give permission should sound Ripple's",
    "start": "7065820",
    "end": "7070949"
  },
  {
    "text": "application replace this one so we go here go to last 3 and then we look up",
    "start": "7070949",
    "end": "7081360"
  },
  {
    "text": "for seu west 1 and I can give a",
    "start": "7081360",
    "end": "7088489"
  },
  {
    "text": "permissions so in that sense I want to add a bucket policy right and he asked",
    "start": "7088489",
    "end": "7095460"
  },
  {
    "text": "me what is my gift bucket let me know if that doesn't make any sense so what this",
    "start": "7095460",
    "end": "7102120"
  },
  {
    "text": "will allow is with all our service application repository to look at my",
    "start": "7102120",
    "end": "7107270"
  },
  {
    "text": "package artifact already has my application running and deploy on",
    "start": "7107270",
    "end": "7112770"
  },
  {
    "text": "someone else account because I'm gonna make that public in that sense right ok",
    "start": "7112770",
    "end": "7118679"
  },
  {
    "text": "so if the docks were right I should have my account I have it I have a Sam I have a package I have a URL pointing to my",
    "start": "7118679",
    "end": "7125070"
  },
  {
    "text": "code I have a readme I have a license and I have a policy so that's it let's",
    "start": "7125070",
    "end": "7131100"
  },
  {
    "text": "go there are back here and let's go back",
    "start": "7131100",
    "end": "7136170"
  },
  {
    "text": "here in the browser and we have to pass go back and hear them all now I gonna",
    "start": "7136170",
    "end": "7145440"
  },
  {
    "text": "see my secret the secret is that there is no secret right my secret folders I need to pass",
    "start": "7145440",
    "end": "7154480"
  },
  {
    "text": "my package IMO because that's where my zip files are right so I do this and",
    "start": "7154480",
    "end": "7160360"
  },
  {
    "text": "then hopefully a half permission should induce oh you by the name so maybe a in",
    "start": "7160360",
    "end": "7168340"
  },
  {
    "text": "the author that doesn't like the yeah there you go maybe I shoe hipster right name contains",
    "start": "7168340",
    "end": "7176560"
  },
  {
    "text": "the invited car actors what is it is that is that name camel case probably",
    "start": "7176560",
    "end": "7188820"
  },
  {
    "text": "before by your front part of the arm so because it's an art it's not gonna work out yeah that's that's me being silly",
    "start": "7188820",
    "end": "7196290"
  },
  {
    "text": "yes so now oops oh okay so that's not gonna",
    "start": "7196290",
    "end": "7202989"
  },
  {
    "text": "work out for this example though good to know so service application repository actually allows a subset of resources",
    "start": "7202989",
    "end": "7210310"
  },
  {
    "text": "you can do in Sam because you're using kms key and that's a little bit more complex in terms of setup application",
    "start": "7210310",
    "end": "7217000"
  },
  {
    "text": "repository is not allow me to do it so in this case it's not gonna work out for",
    "start": "7217000",
    "end": "7222250"
  },
  {
    "text": "me to publish this application okay so what resource so we were embedding CloudFormation language in a Sam template what is in",
    "start": "7222250",
    "end": "7231159"
  },
  {
    "text": "the scope of Sam what what resources can I use as part of my sample project sure if I want to publish it",
    "start": "7231159",
    "end": "7236800"
  },
  {
    "text": "absolutely so the good news about this about Sam is a not only you can add the",
    "start": "7236800",
    "end": "7242380"
  },
  {
    "text": "same properties over here your resources but you can also add anything that",
    "start": "7242380",
    "end": "7247690"
  },
  {
    "text": "confirmations understand remember the discussion about this account a gets API",
    "start": "7247690",
    "end": "7253449"
  },
  {
    "text": "gateway this and this and this this is something super cool we could do we",
    "start": "7253449",
    "end": "7259119"
  },
  {
    "text": "could look up for cloud formation parameter and should finish it up we we",
    "start": "7259119",
    "end": "7267040"
  },
  {
    "text": "can have we could we could simply add a new resource over here",
    "start": "7267040",
    "end": "7273499"
  },
  {
    "text": "that would say export API",
    "start": "7273499",
    "end": "7280599"
  },
  {
    "text": "encryption API and from here we could actually say so that we can finish that",
    "start": "7280599",
    "end": "7288170"
  },
  {
    "text": "up we could say dev encryption / API",
    "start": "7288170",
    "end": "7295010"
  },
  {
    "text": "slash template and then as a value we could do we could do this so now in my",
    "start": "7295010",
    "end": "7304070"
  },
  {
    "text": "other templates in my other accounts I can simply add a parameter that will use this and find the right API and I can",
    "start": "7304070",
    "end": "7311269"
  },
  {
    "text": "inject as environment variable in my next function or something so now I can have cross account in a different way in",
    "start": "7311269",
    "end": "7317659"
  },
  {
    "text": "that sense without having to depend on one another and the serverless application repository when you try to upload just now it was saying something",
    "start": "7317659",
    "end": "7324139"
  },
  {
    "text": "about the KMS key willis what was that yeah so that's that's something i will need to investigate so what this tells",
    "start": "7324139",
    "end": "7330769"
  },
  {
    "text": "me is a the resource encryption p because it's a KMS key it's not supported and therefore just for service",
    "start": "7330769",
    "end": "7339559"
  },
  {
    "text": "application repository it's not allowed so maybe that's something that dogs that I should know what about it may be in",
    "start": "7339559",
    "end": "7345380"
  },
  {
    "text": "the limits or in the troubleshooting which is something I I would actually have Janelle okay all right well want to",
    "start": "7345380",
    "end": "7352369"
  },
  {
    "text": "take that one away for a follow-up action absolutely so that's it for today",
    "start": "7352369",
    "end": "7357699"
  },
  {
    "text": "we'ld nothing gonna do a follow up because a lot of people actually asked we're gonna do one just for education",
    "start": "7357699",
    "end": "7363079"
  },
  {
    "text": "you are more than welcome to join me again we can extend where we got left",
    "start": "7363079",
    "end": "7368269"
  },
  {
    "text": "and then we can just do out the education and everything what we just got so far if for those of you who just",
    "start": "7368269",
    "end": "7373969"
  },
  {
    "text": "couldn't see the beginning we are giving you a tool that all of this Sam templates configuration that we are",
    "start": "7373969",
    "end": "7381139"
  },
  {
    "text": "actually doing have to learn from the dogs we're giving you a cookie cutter",
    "start": "7381139",
    "end": "7386300"
  },
  {
    "text": "once you install cookie cutter as a tool that you can essentially get all of this",
    "start": "7386300",
    "end": "7392059"
  },
  {
    "text": "pretty much for free so I can do something like quit sample I could add API gateway I won x-ray I want safe",
    "start": "7392059",
    "end": "7399949"
  },
  {
    "text": "deployments and Canaries and I may want to have a canary so in this case I already had this tweet simple so he",
    "start": "7399949",
    "end": "7406010"
  },
  {
    "text": "creates all of this for you all the scaffolding where the function should be where the testing should be and all that stuff as well okay so",
    "start": "7406010",
    "end": "7413239"
  },
  {
    "text": "hopefully that was useful hopefully you learned something from today and yeah",
    "start": "7413239",
    "end": "7418989"
  },
  {
    "text": "keep-keep actually tuning we definitely give you another date when we have follow-up of this when we implement an",
    "start": "7418989",
    "end": "7425360"
  },
  {
    "text": "authorization and we go down some specifics you may want to do cool and after today if you want to build",
    "start": "7425360",
    "end": "7430790"
  },
  {
    "text": "additional projects or just learn more there's the server list examples that's hosted on github the server Louis",
    "start": "7430790",
    "end": "7436219"
  },
  {
    "text": "application repository that has loads of examples published both by AWS as well",
    "start": "7436219",
    "end": "7441469"
  },
  {
    "text": "as a lot of users of AWS and wild rides I think is also probably worth",
    "start": "7441469",
    "end": "7447679"
  },
  {
    "text": "mentioning as well as a another example of service application technology yeah",
    "start": "7447679",
    "end": "7453520"
  },
  {
    "text": "so because we're a little bit past on time if you weren't interested in",
    "start": "7453520",
    "end": "7459350"
  },
  {
    "text": "getting hands-on experience on your own time on your own pace this is a workshop you can run and it's kind of run on on",
    "start": "7459350",
    "end": "7466429"
  },
  {
    "text": "your own you either press account it's gonna give you a way better in depth",
    "start": "7466429",
    "end": "7471619"
  },
  {
    "text": "about everything we talked about today from an authorization perspective from building a web app purchasing data into",
    "start": "7471619",
    "end": "7478280"
  },
  {
    "text": "stream or doing Sam some low point more details and all that stuff cool so",
    "start": "7478280",
    "end": "7483409"
  },
  {
    "text": "that's for free that's over there available to you all right thank you",
    "start": "7483409",
    "end": "7488510"
  },
  {
    "text": "very much hater thanks for my thanks for having us and thank you Jason for all to help as well sure thank you everyone",
    "start": "7488510",
    "end": "7494869"
  },
  {
    "text": "take care of my phone",
    "start": "7494869",
    "end": "7498070"
  },
  {
    "text": "you",
    "start": "7505280",
    "end": "7507340"
  }
]