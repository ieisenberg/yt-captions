[
  {
    "start": "0",
    "end": "19000"
  },
  {
    "text": "hello and welcome to the ec2 deep-dive session I know this is a later session",
    "start": "2689",
    "end": "9240"
  },
  {
    "text": "in the day and thank you for attending hopefully you get a lot out of this session and it's worth missing dinner or",
    "start": "9240",
    "end": "16740"
  },
  {
    "text": "beers or what have you to be here so my name is Mark Duffield I'm the worldwide",
    "start": "16740",
    "end": "22680"
  },
  {
    "start": "19000",
    "end": "55000"
  },
  {
    "text": "tech lead focusing on semiconductors which means I help customers move their",
    "start": "22680",
    "end": "28140"
  },
  {
    "text": "workloads over to AWS that are focused on the semiconductor space last time I",
    "start": "28140",
    "end": "34440"
  },
  {
    "text": "did this presentation on Monday I got some feedback that I was speaking really",
    "start": "34440",
    "end": "39540"
  },
  {
    "text": "super fast so I'm gonna try to slow down and fill the entire hour so hopefully",
    "start": "39540",
    "end": "45989"
  },
  {
    "text": "I'm not flying through the material like I did on Monday but that said if you have any critical feedback I'm",
    "start": "45989",
    "end": "51239"
  },
  {
    "text": "definitely open to it okay this time okay so this is what we'll cover today",
    "start": "51239",
    "end": "59270"
  },
  {
    "start": "55000",
    "end": "135000"
  },
  {
    "text": "I'm gonna touch a little bit on infrastructure this is a 300 level talk so I'm going to expect you guys to know",
    "start": "59270",
    "end": "66180"
  },
  {
    "text": "a fair amount about our infrastructure I'll dive into our instances talk about",
    "start": "66180",
    "end": "71939"
  },
  {
    "text": "characteristics some choices there hypervisors bare metal but then this",
    "start": "71939",
    "end": "78030"
  },
  {
    "text": "section here the performance section is where we're going to spend quite a bit of our time so talking about how you can",
    "start": "78030",
    "end": "84930"
  },
  {
    "text": "get the best performance out of your applications your tools on AWS and",
    "start": "84930",
    "end": "90540"
  },
  {
    "text": "hopefully what you leave here is with a good understanding and a toolset of how",
    "start": "90540",
    "end": "96360"
  },
  {
    "text": "to approach that right so there's going to be a lot of content there's going to be a lot of information in this talk and",
    "start": "96360",
    "end": "103110"
  },
  {
    "text": "I'm not expecting you to for you guys to you know memorize all this stuff you know I'm what I'm trying to give you",
    "start": "103110",
    "end": "109470"
  },
  {
    "text": "some pointers and some information to where you can take back you can start doing some some tuning and some",
    "start": "109470",
    "end": "115140"
  },
  {
    "text": "permutations and some trial and error to figure out how you can get the best performance for your applications on AWS",
    "start": "115140",
    "end": "121649"
  },
  {
    "text": "so we'll be spending quite a bit of time there and then lastly I'll actually speak to some of the specific tools that",
    "start": "121649",
    "end": "129509"
  },
  {
    "text": "I have found to be very handy and useful in troubleshooting and for turning so infrastructure so AWS has 18",
    "start": "129509",
    "end": "139850"
  },
  {
    "start": "135000",
    "end": "164000"
  },
  {
    "text": "regions 55 availability zones and we have announced five more regions with 15",
    "start": "139850",
    "end": "149000"
  },
  {
    "text": "more availability zones in those additional regions we also have a global edge network that's made up of over 100",
    "start": "149000",
    "end": "156110"
  },
  {
    "text": "points of presence and this is across 62 cities and 29 different countries diving",
    "start": "156110",
    "end": "165140"
  },
  {
    "start": "164000",
    "end": "197000"
  },
  {
    "text": "a little bit deeper this is a region that has multiple availability zones so",
    "start": "165140",
    "end": "171110"
  },
  {
    "text": "each region what will have multiply easy but most regions will have three with",
    "start": "171110",
    "end": "176870"
  },
  {
    "text": "some as many as six and then with each and within each one of those",
    "start": "176870",
    "end": "181930"
  },
  {
    "text": "availability zones is our data centers and we have one or multiple data centers",
    "start": "181930",
    "end": "187520"
  },
  {
    "text": "there ok so we're done with infrastructure and again as this is a",
    "start": "187520",
    "end": "193610"
  },
  {
    "text": "300 level talk let's get straight to instances so this is how we actually",
    "start": "193610",
    "end": "199910"
  },
  {
    "start": "197000",
    "end": "334000"
  },
  {
    "text": "named our instance types and many of you are probably familiar with this but on the the left side here is the family",
    "start": "199910",
    "end": "206210"
  },
  {
    "text": "name and what that represents in this case this is a c5 D and the C in this",
    "start": "206210",
    "end": "212660"
  },
  {
    "text": "case is 4 compute optimized and we have several different kinds of optimizations",
    "start": "212660",
    "end": "218510"
  },
  {
    "text": "for instances and the name is usually a pretty close match for what that optimization is the 5-year represents",
    "start": "218510",
    "end": "226130"
  },
  {
    "text": "the fifth generation of this instance type so this is our fifth generation of compute instance types the D is an",
    "start": "226130",
    "end": "233480"
  },
  {
    "text": "addition excuse me and additional capabilities and if you guys thought",
    "start": "233480",
    "end": "238670"
  },
  {
    "text": "Peters talk on Monday and some of the other announcements that we've had come out you can see that we're actually",
    "start": "238670",
    "end": "243800"
  },
  {
    "text": "leveraging this more with our instance types to give customers a good indication that the basin since I've you",
    "start": "243800",
    "end": "250910"
  },
  {
    "text": "know a c5 will have some additional capabilities along with it whether that's a D in this case the D means that",
    "start": "250910",
    "end": "257840"
  },
  {
    "text": "there's local nvme drives that are physically attached to the server and if you guys saw the announcement about the",
    "start": "257840",
    "end": "264140"
  },
  {
    "text": "networking han sment that we made so any case something to pay attention as you look at our instance times the",
    "start": "264140",
    "end": "272610"
  },
  {
    "text": "right side here you'll see the actual size of the instance the size of the instance is comprised of the compute",
    "start": "272610",
    "end": "278669"
  },
  {
    "text": "memory storage and networking that you're going to get on the instance and so the more of those resources that you",
    "start": "278669",
    "end": "285180"
  },
  {
    "text": "get the bigger the name is going to to be so in this case this is our second type",
    "start": "285180",
    "end": "290580"
  },
  {
    "text": "start a second largest instance type for this family so this is the c5 d9x large",
    "start": "290580",
    "end": "296819"
  },
  {
    "text": "we also have the c5 d 18x large as well and so I'm going to also quickly note",
    "start": "296819",
    "end": "302849"
  },
  {
    "text": "here our hypervisor so currently we have as n based hypervisor and we also have a",
    "start": "302849",
    "end": "308280"
  },
  {
    "text": "KVM based hypervisor and then you also have the option of choosing no hypervisor with bare metal instances and",
    "start": "308280",
    "end": "315919"
  },
  {
    "text": "the last two here the k vm based hypervisor no hydro hypervisor are going",
    "start": "315919",
    "end": "321419"
  },
  {
    "text": "to be enabled by our nitro system and I spend quite a bit of time there and give",
    "start": "321419",
    "end": "326610"
  },
  {
    "text": "you hopefully some good information there and what you need to do if you're going to be using nitro based instances",
    "start": "326610",
    "end": "334099"
  },
  {
    "start": "334000",
    "end": "418000"
  },
  {
    "text": "ok so on AWS you can run virtually nearly nearly any workload and whether",
    "start": "334099",
    "end": "342629"
  },
  {
    "text": "that's a you know a general-purpose workload first of all workloads compute intensive memory intensive workloads and",
    "start": "342629",
    "end": "350879"
  },
  {
    "text": "that's all being enabled by the the capabilities that we have so the processor selection as you may have",
    "start": "350879",
    "end": "357629"
  },
  {
    "text": "heard in Peters talk we announced arm based processors on AWS right but we still have Intel we still have the AMD",
    "start": "357629",
    "end": "364020"
  },
  {
    "text": "processors as well and we also have processors that go up to 4 gigahertz to",
    "start": "364020",
    "end": "369750"
  },
  {
    "text": "sustain 4 gigahertz which is the fastest in in any of the cloud providers and we",
    "start": "369750",
    "end": "375089"
  },
  {
    "text": "also have high memory footprint with instances of 12 terabytes it's 12",
    "start": "375089",
    "end": "380400"
  },
  {
    "text": "terabytes I remember programming on my Commodore 64 K that didn't even have persistent storage so you know it's",
    "start": "380400",
    "end": "387389"
  },
  {
    "text": "crazy to think about some of the instance types and some of the capabilities would have at AWS and what",
    "start": "387389",
    "end": "392759"
  },
  {
    "text": "this is all leading to or an IDE will before I move on to that is I will mention again the networking",
    "start": "392759",
    "end": "399280"
  },
  {
    "text": "announcement that we made it on Monday with our EFA and the hunter gigabits network and I do dive into that a little",
    "start": "399280",
    "end": "405010"
  },
  {
    "text": "bit more but what that all leads to is a hundred and seventy five different instance types that allow you to run",
    "start": "405010",
    "end": "412540"
  },
  {
    "text": "virtually nearly any workload on AWS and",
    "start": "412540",
    "end": "419010"
  },
  {
    "text": "speaking of more choices right so if you're thinking about the you know",
    "start": "419010",
    "end": "424840"
  },
  {
    "text": "balancing cost optimization with performance and making sure that you're running the right processors so we now",
    "start": "424840",
    "end": "431590"
  },
  {
    "text": "have four processors on AWS Intel Nvidia AMD and the recently announced arm and",
    "start": "431590",
    "end": "437290"
  },
  {
    "text": "what that means is that you're now able to choose the right compute the right platform the right instance types for",
    "start": "437290",
    "end": "444310"
  },
  {
    "text": "your workload and gives you a good deal of flexibility to be able to optimize",
    "start": "444310",
    "end": "449650"
  },
  {
    "text": "those workloads on AWS more choices ok",
    "start": "449650",
    "end": "454900"
  },
  {
    "start": "452000",
    "end": "507000"
  },
  {
    "text": "so with the Nvidia the the Dan video",
    "start": "454900",
    "end": "460210"
  },
  {
    "text": "volto card so allows for deep learning but also allows for GPU accelerated computing as well and then our FPGA",
    "start": "460210",
    "end": "467110"
  },
  {
    "text": "instance type so our f1 if you're if you know this is you know specific to the",
    "start": "467110",
    "end": "473740"
  },
  {
    "text": "semiconductor industry but you know if you're thinking about prototyping a chip or if you are already doing FPGA work",
    "start": "473740",
    "end": "480100"
  },
  {
    "text": "before and you need to just bring up something to be able to to test that FPGA bitstream what have you to be able",
    "start": "480100",
    "end": "487900"
  },
  {
    "text": "to load this up quickly you don't have to worry about going on a button buying a big server to be able to load it up",
    "start": "487900",
    "end": "494800"
  },
  {
    "text": "with the FPGA s that you'll need you can bring one up on AWS in literally minutes and in this case we also have a",
    "start": "494800",
    "end": "501760"
  },
  {
    "text": "developer in mind that supports this and enables this acceleration very quickly so lots of choices on AWS okay and to",
    "start": "501760",
    "end": "512050"
  },
  {
    "start": "507000",
    "end": "532000"
  },
  {
    "text": "that we have these 2 hypervisors that we currently have we have a Zen based",
    "start": "512050",
    "end": "517360"
  },
  {
    "text": "hypervisor and we have a KVM based hypervisor we also again have a bare-metal hypervisor now the KVM based",
    "start": "517360",
    "end": "524890"
  },
  {
    "text": "hypervisor came along with our our nitro announcements that we actually made last year this time reinvent and",
    "start": "524890",
    "end": "533400"
  },
  {
    "start": "532000",
    "end": "639000"
  },
  {
    "text": "with that I'll dive into this just a little bit so this is the original ec2",
    "start": "533430",
    "end": "538920"
  },
  {
    "text": "architecture what you'll see here is that everything is on the server right",
    "start": "538920",
    "end": "544470"
  },
  {
    "text": "so the storage the memory management monitoring security everything is on the",
    "start": "544470",
    "end": "550260"
  },
  {
    "text": "server which means that it's taking the resources of the server as well that meant that we can't actually give you",
    "start": "550260",
    "end": "556050"
  },
  {
    "text": "guys all those resources we actually had to use those resources to be able to divide up the instances and what have",
    "start": "556050",
    "end": "561630"
  },
  {
    "text": "you well what the goal was is to to maintain security or improve security where we",
    "start": "561630",
    "end": "567180"
  },
  {
    "text": "can improve the performance but also keep it a familiar environment that",
    "start": "567180",
    "end": "573300"
  },
  {
    "text": "customers would recognize and what that resulted in is this the specialized",
    "start": "573300",
    "end": "579000"
  },
  {
    "text": "piece of hardware called nitro and what the nitro system gives you now is all of",
    "start": "579000",
    "end": "584490"
  },
  {
    "text": "this is now offloaded onto the you know the networking storage management minor security is all offloaded onto this",
    "start": "584490",
    "end": "590280"
  },
  {
    "text": "specialized piece of hardware and what that leaves instead is now a thin KVM base layer on on the server so all those",
    "start": "590280",
    "end": "599130"
  },
  {
    "text": "resources that we were taking before we've now given back to the customer so what that results in is nearly 100% of",
    "start": "599130",
    "end": "606990"
  },
  {
    "text": "the resources being given to the customer and a quick call out here to",
    "start": "606990",
    "end": "612750"
  },
  {
    "text": "our Annapurna Labs team so Annapurna Labs is a a company that we acquired",
    "start": "612750",
    "end": "618450"
  },
  {
    "text": "about four years ago they are our semiconductor design team so Amazon is",
    "start": "618450",
    "end": "625380"
  },
  {
    "text": "also a fabless semiconductor so we design this chip and that's the chip",
    "start": "625380",
    "end": "630720"
  },
  {
    "text": "that's actually part and runs the extranet part out but actually is the main part of the nitro based system so",
    "start": "630720",
    "end": "639440"
  },
  {
    "start": "639000",
    "end": "699000"
  },
  {
    "text": "with the nitrous system you're getting the nitro card you're getting the the",
    "start": "640130",
    "end": "645150"
  },
  {
    "text": "hypervisor as I spoke the KVM based hypervisor but in addition to all that you're also getting this nitro security",
    "start": "645150",
    "end": "651480"
  },
  {
    "text": "chip that's going to be embedded onto their mother onto the motherboard and something that's that may not be as",
    "start": "651480",
    "end": "657240"
  },
  {
    "text": "tangible so you're getting all these great benefits directly of the nitro system but something that's actually",
    "start": "657240",
    "end": "663750"
  },
  {
    "text": "helping us is that this allows for us to have a more modular building block to actually build",
    "start": "663750",
    "end": "670480"
  },
  {
    "text": "out and innovate our instance types so because we're designing all of this we're actually we actually know what",
    "start": "670480",
    "end": "676600"
  },
  {
    "text": "direction to take it we actually are able to think about the next instance type based on the technology that we're",
    "start": "676600",
    "end": "683290"
  },
  {
    "text": "designing so to be able to get to the next instance family or add instances to another family is going to be a simpler",
    "start": "683290",
    "end": "691060"
  },
  {
    "text": "task for us because we're actually designing the underlying systems and",
    "start": "691060",
    "end": "699420"
  },
  {
    "start": "699000",
    "end": "723000"
  },
  {
    "text": "there's also another feature of Nitro and I know I'm spending some time on Nitro but it will be important and as",
    "start": "699420",
    "end": "706630"
  },
  {
    "text": "you'll see in the ami and the OS information with bare-metal you're also",
    "start": "706630",
    "end": "712120"
  },
  {
    "text": "getting this this feature as well with Nitro as well so you're getting direct hardware access but you're also still",
    "start": "712120",
    "end": "718720"
  },
  {
    "text": "getting all the benefits of cloud computing as well this was the first",
    "start": "718720",
    "end": "724990"
  },
  {
    "start": "723000",
    "end": "800000"
  },
  {
    "text": "instance the c5 was a was the first instance of this new generation so the",
    "start": "724990",
    "end": "730300"
  },
  {
    "text": "first Nitro based instance and just some comparisons here and some call-outs so this has the Intel skylake processor 3",
    "start": "730300",
    "end": "738520"
  },
  {
    "text": "gigahertz base or the turbo boost of up to three and a half gigahertz but it also supports avx-512 so as it compares",
    "start": "738520",
    "end": "746770"
  },
  {
    "text": "to the c4 if you're doing a floating-point double-precision",
    "start": "746770",
    "end": "751780"
  },
  {
    "text": "floating-point or vector you're actually going to see a 2x improvement as compared to the c4 but you're also",
    "start": "751780",
    "end": "759160"
  },
  {
    "text": "getting a lot of other things so you're also getting sea state controls you're getting 25 gigabits a network you're",
    "start": "759160",
    "end": "765160"
  },
  {
    "text": "getting a 14 gigabits of EBS so back to our storage and you're also getting",
    "start": "765160",
    "end": "771850"
  },
  {
    "text": "double in this in this case this is double in number of processors as well so I'll dive into a little bit and what",
    "start": "771850",
    "end": "778180"
  },
  {
    "text": "a DCP you is but quickly a V CPU in this case represents the thread and whenever",
    "start": "778180",
    "end": "785290"
  },
  {
    "text": "you see V CPU cut that number in half and that's going to be the total number of physical cores so in this case the c5",
    "start": "785290",
    "end": "792520"
  },
  {
    "text": "has 72 V CPUs so that means that it has 36 physical cores",
    "start": "792520",
    "end": "799199"
  },
  {
    "start": "800000",
    "end": "859000"
  },
  {
    "text": "so now we hopefully you guys have a solid foundation for infrastructure",
    "start": "800240",
    "end": "806420"
  },
  {
    "text": "obviously didn't spend too much time there but I'm sure you guys have me on that already instances some some",
    "start": "806420",
    "end": "812879"
  },
  {
    "text": "characteristics they're thinking about our hypervisors and and when I when you guys are thinking about your instance",
    "start": "812879",
    "end": "818819"
  },
  {
    "text": "types I want you to think about you know is is my instance type a newer instance type is the Nitro based instance type am",
    "start": "818819",
    "end": "825990"
  },
  {
    "text": "i still using one of our previous generation instance types with a Zen based hypervisor as we go through some",
    "start": "825990",
    "end": "833310"
  },
  {
    "text": "of this material here it will become important to know which one you're on now you can't I just probably you guys",
    "start": "833310",
    "end": "840689"
  },
  {
    "text": "probably all know this but just make this clear you can't choose the you know your hypervisor right you you choose an",
    "start": "840689",
    "end": "847740"
  },
  {
    "text": "instance type and and you get a hypervisor with it so see for you Dex large is nbc5 nitro right so you can't",
    "start": "847740",
    "end": "855209"
  },
  {
    "text": "go in there and tweak and tune which hypervisor you got so when we talk to",
    "start": "855209",
    "end": "862980"
  },
  {
    "start": "859000",
    "end": "942000"
  },
  {
    "text": "customers about performance tuning the first thing that all customers want to",
    "start": "862980",
    "end": "868050"
  },
  {
    "text": "do and you know I've been in systems my whole life and the first thing that I want to do is test with synthetic",
    "start": "868050",
    "end": "873839"
  },
  {
    "text": "benchmarks so the idea that you can get on a system how fast is cash you know",
    "start": "873839",
    "end": "880050"
  },
  {
    "text": "how fast is main memory actually going I love to do IO benchmarks right but what",
    "start": "880050",
    "end": "885540"
  },
  {
    "text": "we'd rather have you do and yes there's going to be maybe some cursory testing",
    "start": "885540",
    "end": "890850"
  },
  {
    "text": "but try to get to testing your applications as soon as possible and if",
    "start": "890850",
    "end": "896819"
  },
  {
    "text": "you're running your application with 10,000 cores on Prem try to run it at scale on AWS as well maybe a thousand",
    "start": "896819",
    "end": "904259"
  },
  {
    "text": "course maybe a hundred course what-have-you but really try to get to the point to where you're testing your application and a very similar scenario",
    "start": "904259",
    "end": "911879"
  },
  {
    "text": "to the way you're running it on Prem and try to do more of an apples to apples",
    "start": "911879",
    "end": "916920"
  },
  {
    "text": "comparison with AWS now what we found is customers do that that they find that",
    "start": "916920",
    "end": "922410"
  },
  {
    "text": "they start to see the paths alright they start to see ok well this is working and",
    "start": "922410",
    "end": "927449"
  },
  {
    "text": "this isn't rather than getting some potential misdirection with synthetic benchmarks so really try",
    "start": "927449",
    "end": "934400"
  },
  {
    "text": "to get your application on AWS before or maybe in parallel as you're doing some",
    "start": "934400",
    "end": "940010"
  },
  {
    "text": "of the synthetic benchmarks so before you can choose your instance right I",
    "start": "940010",
    "end": "945410"
  },
  {
    "text": "know we've talked about instance types here but even before you can choose your instance you need to figure out what your ami is going to be so the ami is",
    "start": "945410",
    "end": "952910"
  },
  {
    "text": "going to have the operating system customizations libraries tools whatever",
    "start": "952910",
    "end": "958490"
  },
  {
    "text": "you need to be able to bring up that instance to the point where it's going to run your applications or run your",
    "start": "958490",
    "end": "964100"
  },
  {
    "text": "environment and it's it's going to be critical here as you'll see in the next",
    "start": "964100",
    "end": "970850"
  },
  {
    "start": "966000",
    "end": "1033000"
  },
  {
    "text": "few slides here but it's going to be critical that you're choosing the right ami or the right operating system",
    "start": "970850",
    "end": "976190"
  },
  {
    "text": "information for your instances when you're launching so a few places that you can actually choose your ami from",
    "start": "976190",
    "end": "983960"
  },
  {
    "text": "the console from the market place and I haven't updated this slide I don't know if you guys have seen this it's really",
    "start": "983960",
    "end": "990350"
  },
  {
    "text": "cool actually on the when you're actually going in and choose your ami we actually have the arm",
    "start": "990350",
    "end": "997120"
  },
  {
    "text": "ami information there which i think is really exciting but in any case a my",
    "start": "997120",
    "end": "1002920"
  },
  {
    "text": "excuse me AWS console marketplace third-party vendors you have your own",
    "start": "1002920",
    "end": "1008080"
  },
  {
    "text": "AMI you have the VMware image that you want to import all kinds of ways to get your ami in AWS once you have that any",
    "start": "1008080",
    "end": "1015760"
  },
  {
    "text": "of my you can start building out things with commands or you can use our SDKs and this is work thing you can see down",
    "start": "1015760",
    "end": "1023560"
  },
  {
    "text": "here on the bottom of this command you see all you need is the ami ID and you",
    "start": "1023560",
    "end": "1029620"
  },
  {
    "text": "can start building out your infrastructure really quickly so there",
    "start": "1029620",
    "end": "1035770"
  },
  {
    "start": "1033000",
    "end": "1112000"
  },
  {
    "text": "are several choices out there that actually have what you need to be able to build out your infrastructure that",
    "start": "1035770",
    "end": "1040900"
  },
  {
    "text": "have some of the requirements that you need to run on both Nitro and Xen based",
    "start": "1040900",
    "end": "1046689"
  },
  {
    "text": "hypervisors and this is a list that I have but this link here at the bottom",
    "start": "1046690",
    "end": "1054400"
  },
  {
    "text": "point to here I don't like a pointer here in awhile but this link here at the bottom actually has a lot of this",
    "start": "1054400",
    "end": "1059830"
  },
  {
    "text": "information on this about these operating systems but this is my wreck",
    "start": "1059830",
    "end": "1066279"
  },
  {
    "text": "starting points so if you're running any of these versions of operating systems this is where I would start and I'll",
    "start": "1066279",
    "end": "1072070"
  },
  {
    "text": "dive in a little bit more about Amazon Linux and Amazon Linux - in the next slide but please don't run on a to 6",
    "start": "1072070",
    "end": "1079899"
  },
  {
    "text": "kernel you're not going to see very good performance on AWS and be surprised if",
    "start": "1079899",
    "end": "1085720"
  },
  {
    "text": "you're seeing very good performance on Prem as well so you should see as much",
    "start": "1085720",
    "end": "1090940"
  },
  {
    "text": "as a 40% improvement by going to a more current kernel and this is even just using 3/10 but now if your start time",
    "start": "1090940",
    "end": "1098020"
  },
  {
    "text": "starting to talk about going to afford a kernel so 4.14 kernel like amazon linux",
    "start": "1098020",
    "end": "1103179"
  },
  {
    "text": "2 has you can see potentially even more performance so keep that in mind as you're choosing your operating systems",
    "start": "1103179",
    "end": "1109840"
  },
  {
    "text": "and you're choosing your a.m. eyes so this is Amazon Linux - right so vendor",
    "start": "1109840",
    "end": "1118299"
  },
  {
    "start": "1112000",
    "end": "1216000"
  },
  {
    "text": "support for Amazon Linux - is coming up to speed we're working with all kinds of partners on this and is feast to support",
    "start": "1118299",
    "end": "1125620"
  },
  {
    "text": "Amazon Linux - but some great benefits that you get from Amazon Linux - and",
    "start": "1125620",
    "end": "1131580"
  },
  {
    "text": "well let me stop there if you're writing your own applications if you have the",
    "start": "1131580",
    "end": "1137679"
  },
  {
    "text": "ability to choose what direction you're going with your with your operating system I highly encourage you to test",
    "start": "1137679",
    "end": "1143919"
  },
  {
    "text": "what the Amazon Linux - if you're going to run on AWS so that's something we dive into a little bit more about that the ami",
    "start": "1143919",
    "end": "1149799"
  },
  {
    "text": "itself so you're going to get lots of optimized settings for AWS and tools are",
    "start": "1149799",
    "end": "1156460"
  },
  {
    "text": "already built in so the AWS CLI is already there if you're using cloud",
    "start": "1156460",
    "end": "1162130"
  },
  {
    "text": "formation and you're sending signals back to let the stock know that your",
    "start": "1162130",
    "end": "1168120"
  },
  {
    "text": "that your instances or resources are finished whatever the configuration was that's built in there as well if you",
    "start": "1168120",
    "end": "1176260"
  },
  {
    "text": "want to actually download this on the on-prem and start hacking this and start",
    "start": "1176260",
    "end": "1181299"
  },
  {
    "text": "getting something to work before you actually start moving workloads over to AWS you can do that as well here - and",
    "start": "1181299",
    "end": "1187419"
  },
  {
    "text": "it has 5 years of LTS and has ongoing security and maintenance and updates and",
    "start": "1187419",
    "end": "1194110"
  },
  {
    "text": "oh yeah and one other thing it's free so there's that part",
    "start": "1194110",
    "end": "1200049"
  },
  {
    "text": "so you know all your going to be paying for is the resources that you're going",
    "start": "1200049",
    "end": "1205450"
  },
  {
    "text": "to be spending up with this you know with this ami so you're not going to be",
    "start": "1205450",
    "end": "1210549"
  },
  {
    "text": "paying for the the operating system costs so now we're going to shift a",
    "start": "1210549",
    "end": "1218260"
  },
  {
    "start": "1216000",
    "end": "1226000"
  },
  {
    "text": "little bit into talking specifically about nitro instances and what you're going to need to be able to run on nitro",
    "start": "1218260",
    "end": "1224200"
  },
  {
    "text": "instances so one thing that you know we're trying to do a really good job of",
    "start": "1224200",
    "end": "1230470"
  },
  {
    "text": "messaging is letting customers know that before you can run on on nitro based",
    "start": "1230470",
    "end": "1235929"
  },
  {
    "text": "instances you will have to have a few things set up or installed so you will",
    "start": "1235929",
    "end": "1243190"
  },
  {
    "text": "have to have the ena drivers and the nvme drivers installed and the ami will",
    "start": "1243190",
    "end": "1248950"
  },
  {
    "text": "need to be enabled for ena support as well if you don't have those there's a",
    "start": "1248950",
    "end": "1254529"
  },
  {
    "text": "good chance that the instance probably won't boot now that said there are a couple of different options the",
    "start": "1254529",
    "end": "1261190"
  },
  {
    "text": "operating systems that I had before in that list and obviously Amazon Linux - and Amazon Linux is going to have what",
    "start": "1261190",
    "end": "1267039"
  },
  {
    "text": "you need to launch on a nitro based hypervisor option - which is more work",
    "start": "1267039",
    "end": "1274210"
  },
  {
    "text": "and depending on how far how down rebbe you are could be considerably more work",
    "start": "1274210",
    "end": "1279610"
  },
  {
    "text": "is you can use different instance types you can use excuse me you can use a",
    "start": "1279610",
    "end": "1286470"
  },
  {
    "text": "image from an older instance type one of our SEM based on society you can use",
    "start": "1286470",
    "end": "1291730"
  },
  {
    "text": "something again from on-prem what have you and just install the nvme drivers installing II and they drivers and then",
    "start": "1291730",
    "end": "1297549"
  },
  {
    "text": "configure the am I to have ena support",
    "start": "1297549",
    "end": "1303059"
  },
  {
    "start": "1303000",
    "end": "1344000"
  },
  {
    "text": "one way that you can check to make sure that everything that you just did is going to work is use this the script and",
    "start": "1303059",
    "end": "1310740"
  },
  {
    "text": "again I have all these links at the end and the slides are going to be on SlideShare but this link down here at the bottom",
    "start": "1310740",
    "end": "1317620"
  },
  {
    "text": "will give you a pointer to this and when you run this we're going to check for a few things we're gonna check if the nvme",
    "start": "1317620",
    "end": "1324610"
  },
  {
    "text": "drivers are installed we're going to check if the ena drivers are installed and we're also going to check if the FS",
    "start": "1324610",
    "end": "1331179"
  },
  {
    "text": "tab file is form correctly so we need to make sure that the device is that you're actually going",
    "start": "1331179",
    "end": "1336820"
  },
  {
    "text": "to be using for boot or in the correct format so the system can boot and that's of the checks that this script will do",
    "start": "1336820",
    "end": "1342910"
  },
  {
    "text": "for you and in addition to that you also have to check that the ami has ena",
    "start": "1342910",
    "end": "1349570"
  },
  {
    "start": "1344000",
    "end": "1385000"
  },
  {
    "text": "support oh this this parameter here at the very end here if for some reason",
    "start": "1349570",
    "end": "1355510"
  },
  {
    "text": "this doesn't return true if this returns not true or any other value you'll need",
    "start": "1355510",
    "end": "1361510"
  },
  {
    "text": "to go through these steps to make sure that you have everything built and installed and that the AM is configured",
    "start": "1361510",
    "end": "1368770"
  },
  {
    "text": "so this URL here walks you through the process of building out the a driver",
    "start": "1368770",
    "end": "1374020"
  },
  {
    "text": "installing the ena driver and then also making the consider making the configuration change on the ami after",
    "start": "1374020",
    "end": "1381010"
  },
  {
    "text": "you've built the ami okay so some",
    "start": "1381010",
    "end": "1387070"
  },
  {
    "start": "1385000",
    "end": "1442000"
  },
  {
    "text": "settings about Nitro so now that's let's think about how we get to to the point",
    "start": "1387070",
    "end": "1392440"
  },
  {
    "text": "where we're actually tuning for your application so you should have an instance type in your mind you show",
    "start": "1392440",
    "end": "1399130"
  },
  {
    "text": "maybe you already are running on instances you have a good idea what am I you're going to use so let's start",
    "start": "1399130",
    "end": "1404260"
  },
  {
    "text": "thinking about threads and again a V CPU is going to be a thread and an X ad on",
    "start": "1404260",
    "end": "1411309"
  },
  {
    "text": "an x86 physical core so anytime you see V CPU cut that number in half and that's",
    "start": "1411309",
    "end": "1416980"
  },
  {
    "text": "going to be the total number of physical cores and this could be a concern for",
    "start": "1416980",
    "end": "1422290"
  },
  {
    "text": "CPU heavy applications and what I encourage all of our customers to do is to test with both so test with hyper",
    "start": "1422290",
    "end": "1430179"
  },
  {
    "text": "threat Isis what dot excuse me test with threading and test without threading and",
    "start": "1430179",
    "end": "1435610"
  },
  {
    "text": "hopefully you can get a decent indication as to what what your performance is going to do with both and",
    "start": "1435610",
    "end": "1442720"
  },
  {
    "start": "1442000",
    "end": "1485000"
  },
  {
    "text": "so that said so one one quick way to do this is with this command here so this",
    "start": "1442720",
    "end": "1449770"
  },
  {
    "text": "is using the thread siblings list to be able to pull out the list of threads that are running extra the extra threads",
    "start": "1449770",
    "end": "1456760"
  },
  {
    "text": "that are running on each of the cores and then we'll just do an echo zero into the online devices file and what's nice",
    "start": "1456760",
    "end": "1463150"
  },
  {
    "text": "about this is that just with edit on this guy you can switch back and forth real quick and say okay now I want",
    "start": "1463150",
    "end": "1470400"
  },
  {
    "text": "all CPUs to be to be a nail and that what that is I want threads across all",
    "start": "1470400",
    "end": "1475590"
  },
  {
    "text": "cores going back now I only want one thread for court and you can go back and forth you could test your application",
    "start": "1475590",
    "end": "1481920"
  },
  {
    "text": "and see the performance of us with and without another way to do this is",
    "start": "1481920",
    "end": "1487740"
  },
  {
    "start": "1485000",
    "end": "1563000"
  },
  {
    "text": "something that we announced earlier this year so this is CPU options and this one",
    "start": "1487740",
    "end": "1493860"
  },
  {
    "text": "actually snuck up on me a little bit it was like two or three weeks ago we actually had this show up on the console",
    "start": "1493860",
    "end": "1499980"
  },
  {
    "text": "which I had a colleague point out to me earlier in the week this week but I've been just running this at the command",
    "start": "1499980",
    "end": "1506100"
  },
  {
    "text": "line and so what we can see here here is in the core count and threads per core",
    "start": "1506100",
    "end": "1512070"
  },
  {
    "text": "I'm specifying the number of cores that I want and then the threads per core and",
    "start": "1512070",
    "end": "1517320"
  },
  {
    "text": "in this case this is a z1 D 12x large that has 24 cores so essentially what",
    "start": "1517320",
    "end": "1523470"
  },
  {
    "text": "I'm asking for is just give me one thread per core now this can this can",
    "start": "1523470",
    "end": "1529290"
  },
  {
    "text": "actually be a benefit for applications performance what-have-you but this can also be taken advantage of if you're",
    "start": "1529290",
    "end": "1536550"
  },
  {
    "text": "trying to figure out cost optimization for licensing or for other things you",
    "start": "1536550",
    "end": "1542400"
  },
  {
    "text": "know just trying to dial your CPUs down to exactly what you need so some flexibility in that command",
    "start": "1542400",
    "end": "1549480"
  },
  {
    "text": "makes it really nice and then down here you can verify this with its described",
    "start": "1549480",
    "end": "1555090"
  },
  {
    "text": "instances command part of the AWS CLI and this is just reflecting the values",
    "start": "1555090",
    "end": "1560730"
  },
  {
    "text": "down there third way you can do this at the kernel command line and throughout",
    "start": "1560730",
    "end": "1569220"
  },
  {
    "start": "1563000",
    "end": "1602000"
  },
  {
    "text": "this talk I have several kernel command line settings I'm not going to dive in",
    "start": "1569220",
    "end": "1574950"
  },
  {
    "text": "too deep on the next steps there so sometimes you have to build depending on your operating system level yeah I",
    "start": "1574950",
    "end": "1580740"
  },
  {
    "text": "should have to run a command to build out your your boot files other operating systems you don't what have you but just",
    "start": "1580740",
    "end": "1587460"
  },
  {
    "text": "point pointing that out here that Mac CPU set to 24 is going to be what would",
    "start": "1587460",
    "end": "1593550"
  },
  {
    "text": "be the same result of the two previous commands just taking off the extra threads on each of those cores",
    "start": "1593550",
    "end": "1599869"
  },
  {
    "text": "all right I keep on pointing this and to verify this you can use the LS CPU",
    "start": "1599869",
    "end": "1606989"
  },
  {
    "start": "1602000",
    "end": "1633000"
  },
  {
    "text": "extended command which is actually really handy and what you'll see here is in the course column you can see so for",
    "start": "1606989",
    "end": "1616019"
  },
  {
    "text": "from the left you can see 0 1 0 1 so I only have 2 cores but I actually have",
    "start": "1616019",
    "end": "1621899"
  },
  {
    "text": "four CPUs so 2 threads per core after I disable that in the bottom though you",
    "start": "1621899",
    "end": "1627360"
  },
  {
    "text": "can see I only have one thread 4 core and the other two are offlined ok so",
    "start": "1627360",
    "end": "1635100"
  },
  {
    "start": "1633000",
    "end": "1732000"
  },
  {
    "text": "clock source on a Zen based hypervisor so again I'll pause there for a second",
    "start": "1635100",
    "end": "1641820"
  },
  {
    "text": "just I know that there's a lot of content here and I and there's it's it's you know pretty technical information",
    "start": "1641820",
    "end": "1647850"
  },
  {
    "text": "and again please reach out to us if if you have any questions on this stuff but",
    "start": "1647850",
    "end": "1654980"
  },
  {
    "text": "we'll go forward here and I'll teach you a little bit more about clock sources so",
    "start": "1654980",
    "end": "1660739"
  },
  {
    "text": "clock source on on his n based hypervisor so timekeeping is a tricky",
    "start": "1660739",
    "end": "1665759"
  },
  {
    "text": "thing anyway alright so the idea where to pull that clock source from and",
    "start": "1665759",
    "end": "1671600"
  },
  {
    "text": "making sure that at Sakura is set correctly could lead to you know it's a",
    "start": "1671600",
    "end": "1678509"
  },
  {
    "text": "negatively impact or positive impact your application on the Zen base",
    "start": "1678509",
    "end": "1684690"
  },
  {
    "text": "hypervisor you probably should be setting this to TSC again one of those things that you can test with and",
    "start": "1684690",
    "end": "1691619"
  },
  {
    "text": "without TSE is this time stamp counter and what that does is that it moves that",
    "start": "1691619",
    "end": "1697019"
  },
  {
    "text": "clock source down to the to the hardware rather than stuck in the hypervisor with the Xen hypervisor one note here",
    "start": "1697019",
    "end": "1705210"
  },
  {
    "text": "about the nitro base instances is that we use the k vm clock by default and the",
    "start": "1705210",
    "end": "1711179"
  },
  {
    "text": "performance that you're going to see with a nitro based instance using a k vm clock and then the performance that you",
    "start": "1711179",
    "end": "1718830"
  },
  {
    "text": "would see on a zen based instance using the TSE clock is going to be almost identical it's going to be very similar",
    "start": "1718830",
    "end": "1725789"
  },
  {
    "text": "and in performance so how do we do that how do we actually make this tuning so this",
    "start": "1725789",
    "end": "1733660"
  },
  {
    "text": "is a quick application I wrote this is just a C compile and what it does is",
    "start": "1733660",
    "end": "1741910"
  },
  {
    "text": "that it makes a bunch of calls here to the get time-of-day function and if we",
    "start": "1741910",
    "end": "1749830"
  },
  {
    "start": "1748000",
    "end": "1830000"
  },
  {
    "text": "run that with the Zen Tia with the clocks were set to Zen you can see here",
    "start": "1749830",
    "end": "1757750"
  },
  {
    "text": "that we're spending about 99.99% of our time and get time of day and the elapsed",
    "start": "1757750",
    "end": "1764980"
  },
  {
    "text": "time is just over ten seconds so now if we actually go through the process of making the change of changing T changing",
    "start": "1764980",
    "end": "1772690"
  },
  {
    "text": "the clock over to TS c we can do that a couple of ways one we can just echo TS c",
    "start": "1772690",
    "end": "1778150"
  },
  {
    "text": "and there's a current clock source device file or we can set clock source equal to TC",
    "start": "1778150",
    "end": "1784240"
  },
  {
    "text": "and the kernel and the kernel command-line and you can check this by running a simple cat on the current",
    "start": "1784240",
    "end": "1791560"
  },
  {
    "text": "clock source device file it should return TS c so free we run that same",
    "start": "1791560",
    "end": "1797890"
  },
  {
    "text": "application s trace that nap and now we can see we have no time and get time of",
    "start": "1797890",
    "end": "1804640"
  },
  {
    "text": "day or at least it's off the you know it's not measurable and our time has gone down all the way to just over two",
    "start": "1804640",
    "end": "1811300"
  },
  {
    "text": "seconds so have a look at TS c for the clocks or signs and base hypervisors",
    "start": "1811300",
    "end": "1816990"
  },
  {
    "text": "also one note about setting this as well is this can actually help with",
    "start": "1816990",
    "end": "1822280"
  },
  {
    "text": "networking performance as well so if you have network heavy applications you might want to try this without toc",
    "start": "1822280",
    "end": "1830850"
  },
  {
    "start": "1830000",
    "end": "1905000"
  },
  {
    "text": "processor state control so processor state controls available on some of our",
    "start": "1830850",
    "end": "1837730"
  },
  {
    "text": "instances and I have the list down here but what it amounts to is that you'll",
    "start": "1837730",
    "end": "1844360"
  },
  {
    "text": "need at least a socket on an Intel based instance and what is C state what is P",
    "start": "1844360",
    "end": "1850030"
  },
  {
    "text": "stay so C states are the are their sleep essentially and so what when the",
    "start": "1850030",
    "end": "1855400"
  },
  {
    "text": "processes are actually sitting idle and this can actually negatively impact the",
    "start": "1855400",
    "end": "1862649"
  },
  {
    "text": "performance on certain applications because latency applications are expecting those CPUs to be ready to go",
    "start": "1862649",
    "end": "1868950"
  },
  {
    "text": "but if they're sleeping essentially they have to be woken up so they can actually run the next construction pistes which",
    "start": "1868950",
    "end": "1876389"
  },
  {
    "text": "actually aren't aren't available on nitro instances because we handle that boost for you but this is when a CPUs",
    "start": "1876389",
    "end": "1885570"
  },
  {
    "text": "frequency is going to change up and down and this again will depend on what the state of the other CPUs is going to be",
    "start": "1885570",
    "end": "1892919"
  },
  {
    "text": "and I have a bunch of detail here excuse me I have a URL that has a bunch of detail here specifically on which",
    "start": "1892919",
    "end": "1900000"
  },
  {
    "text": "instance types and some more detail but here's a it's gonna click this is how",
    "start": "1900000",
    "end": "1908250"
  },
  {
    "text": "you actually make the setting change so on the top here I have the C States",
    "start": "1908250",
    "end": "1913440"
  },
  {
    "text": "which is the Intel idle Maxie state equal to 1 and then you can turn out",
    "start": "1913440",
    "end": "1918659"
  },
  {
    "text": "turbo just at the command line just by saying yes to no here you're essentially",
    "start": "1918659",
    "end": "1923700"
  },
  {
    "text": "so what I would like to think of it as because you're saying echo 1 into no turbo so you're turning out turbo here",
    "start": "1923700",
    "end": "1930750"
  },
  {
    "text": "and you set the C state up there to 1 so let's look at the performance differences there so using turbo stat",
    "start": "1930750",
    "end": "1939179"
  },
  {
    "start": "1936000",
    "end": "2001000"
  },
  {
    "text": "great utility stress also another great utility so you're running a turbo stat on stress on just two CPUs and you can",
    "start": "1939179",
    "end": "1947759"
  },
  {
    "text": "see over here in the far left where the two CPUs are actually active so this is",
    "start": "1947759",
    "end": "1952860"
  },
  {
    "text": "on a c4 8 X large which has a gigahertz a base frequency of 2.9 gigahertz so you",
    "start": "1952860",
    "end": "1960809"
  },
  {
    "text": "can see that our gigahertz are kind of all over the place here but you can see we also have a lot of CPUs that are way",
    "start": "1960809",
    "end": "1966990"
  },
  {
    "text": "over here in the c6 state right so if we make these changes and we rerun the same",
    "start": "1966990",
    "end": "1973649"
  },
  {
    "text": "command we can now see that the gigahertz are right down the line so 2.9",
    "start": "1973649",
    "end": "1979799"
  },
  {
    "text": "across the entire system and all of the CPUs are now in the c1 state ready to",
    "start": "1979799",
    "end": "1986460"
  },
  {
    "text": "accept these instructions so those latency sensitive applications should respond much better and much",
    "start": "1986460",
    "end": "1992460"
  },
  {
    "text": "faster and so again one of those things that you just test with and without these settings but definitely have a",
    "start": "1992460",
    "end": "1998190"
  },
  {
    "text": "look at this for performance so Zen spin",
    "start": "1998190",
    "end": "2003530"
  },
  {
    "start": "2001000",
    "end": "2063000"
  },
  {
    "text": "lock so kernel locking this is one of those ones that seems to fly under",
    "start": "2003530",
    "end": "2008600"
  },
  {
    "text": "everybody's radar when I talk to customers about this they generally have may have not heard about it or they",
    "start": "2008600",
    "end": "2015080"
  },
  {
    "text": "don't think it was important but this one can actually get you some pretty quick performance without much work so",
    "start": "2015080",
    "end": "2021380"
  },
  {
    "text": "just setting a Zen no PV spin and disabling this allows you to get closer",
    "start": "2021380",
    "end": "2028670"
  },
  {
    "text": "to bare metal locking so CPU scheduling so they're trying to get that time on",
    "start": "2028670",
    "end": "2034700"
  },
  {
    "text": "the CPU but it's not able to so it's sitting there and it's spinning and it's spinning well we don't want that to",
    "start": "2034700",
    "end": "2040280"
  },
  {
    "text": "happen in the hypervisor so if we get it lower than that we actually get a closer to the bare metal hopefully that's going to result in",
    "start": "2040280",
    "end": "2046490"
  },
  {
    "text": "better performance for your applications and this might this might be more applicable to older applications or",
    "start": "2046490",
    "end": "2053720"
  },
  {
    "text": "applications that may not be able to handle threads quite as cleanly but definitely something that should be",
    "start": "2053720",
    "end": "2058879"
  },
  {
    "text": "looked at for as end based hypervisors",
    "start": "2058880",
    "end": "2063159"
  },
  {
    "start": "2063000",
    "end": "2103000"
  },
  {
    "text": "new merchant roles so first off you're gonna need more than one socket so if",
    "start": "2064060",
    "end": "2070879"
  },
  {
    "text": "you're running on one of our smaller instances that's only on one socket this is not really something to concern",
    "start": "2070880",
    "end": "2076790"
  },
  {
    "text": "yourself with but if you're running on one of our largest instances or our larger instances this is something that",
    "start": "2076790",
    "end": "2082940"
  },
  {
    "text": "you should definitely think about so non-uniform memory access and what that means is that we're trying to go from",
    "start": "2082940",
    "end": "2089470"
  },
  {
    "text": "memory that's on one socket to a memory that's on another socket and the amount",
    "start": "2089470",
    "end": "2094700"
  },
  {
    "text": "of time to access that memory is going to be different so non-uniform access so",
    "start": "2094700",
    "end": "2100790"
  },
  {
    "text": "how do we actually fix this how do we control it okay first thing let's check",
    "start": "2100790",
    "end": "2105830"
  },
  {
    "start": "2103000",
    "end": "2177000"
  },
  {
    "text": "out where our zones are so LS CPU Greta Numa and that's going to work on either",
    "start": "2105830",
    "end": "2111650"
  },
  {
    "text": "an Intel or an AMD if you look at the",
    "start": "2111650",
    "end": "2116870"
  },
  {
    "text": "application itself does it fit in a single socket well it doesn't make sense to actually turn off new my awareness",
    "start": "2116870",
    "end": "2122240"
  },
  {
    "text": "all together again one of those things that you should be testing and without but definitely if if it's",
    "start": "2122240",
    "end": "2130430"
  },
  {
    "text": "running on a single socket it might be a great candidate for disabling numeral wareness if you wanted to look at more",
    "start": "2130430",
    "end": "2137210"
  },
  {
    "text": "fine-grain control you can look at the Numa control command so the two commands that I have here the top one binds to a",
    "start": "2137210",
    "end": "2144470"
  },
  {
    "text": "particular node or zone and then the second one is actually going to bind to a CPU or set of CPUs but this gives you",
    "start": "2144470",
    "end": "2153320"
  },
  {
    "text": "a little bit more fine-grained detail fine-grained control of your numa's owns",
    "start": "2153320",
    "end": "2160450"
  },
  {
    "text": "another quick call out here it's a networking tuning as well so this can",
    "start": "2160450",
    "end": "2165500"
  },
  {
    "text": "also be used to enhance networking and again for networking intensive",
    "start": "2165500",
    "end": "2171950"
  },
  {
    "text": "applications something to be considered as well user limits",
    "start": "2171950",
    "end": "2179810"
  },
  {
    "start": "2177000",
    "end": "2226000"
  },
  {
    "text": "I leave that I always leave this slide in here to remind myself that we you",
    "start": "2179810",
    "end": "2184940"
  },
  {
    "text": "know you have to remember to talk to your users first and talk to them about",
    "start": "2184940",
    "end": "2190670"
  },
  {
    "text": "their limits first because I can't tell you how many times like specifically a",
    "start": "2190670",
    "end": "2196580"
  },
  {
    "text": "stack size you know will go to fire up an application and it fails miserably because we haven't done just basic user",
    "start": "2196580",
    "end": "2203060"
  },
  {
    "text": "limit settings so not too much detail here other than just a quick reminder to everybody that however have a quick chat",
    "start": "2203060",
    "end": "2209870"
  },
  {
    "text": "with your your engineers your you know your tool programmers whoever they are just sit down with them and ask them",
    "start": "2209870",
    "end": "2217040"
  },
  {
    "text": "about the requirements for their application so definitely something to be thinking about is you think as you're",
    "start": "2217040",
    "end": "2222560"
  },
  {
    "text": "doing performance tuning in AWS this",
    "start": "2222560",
    "end": "2227720"
  },
  {
    "start": "2226000",
    "end": "2336000"
  },
  {
    "text": "isn't a storage talk but I will dive in a little bit about instant store so I",
    "start": "2227720",
    "end": "2233780"
  },
  {
    "text": "got some feedback from the last talk that I should have gone real deep on EVs",
    "start": "2233780",
    "end": "2239710"
  },
  {
    "text": "EVs you know is I would consider to be a fairly deep storage topic because if you",
    "start": "2239710",
    "end": "2246410"
  },
  {
    "text": "talk about EVs you have to talk about all of the storage options on AWS which is a lot so let's talk a little bit",
    "start": "2246410",
    "end": "2253670"
  },
  {
    "text": "about instance store so this is temporary block level storage and what does that mean that means",
    "start": "2253670",
    "end": "2258800"
  },
  {
    "text": "that if you shut down the instance or if you terminate the instance that data is",
    "start": "2258800",
    "end": "2263900"
  },
  {
    "text": "gone if you reboot the instance the data will persist but again if you shut down the",
    "start": "2263900",
    "end": "2271310"
  },
  {
    "text": "instance or free terminate the instance or if there's something if there's a failure on the instance you're going to",
    "start": "2271310",
    "end": "2277760"
  },
  {
    "text": "lose the data that was on those disks so if you have data that is important if",
    "start": "2277760",
    "end": "2283490"
  },
  {
    "text": "you have data that you need move that data off to a persistent store as soon as possible whether that's an EBS volume",
    "start": "2283490",
    "end": "2290710"
  },
  {
    "text": "s3 somewhere else that you know that you have that data backed up and somewhere",
    "start": "2290710",
    "end": "2296330"
  },
  {
    "text": "that you can actually get to you can add some local durability here as I point",
    "start": "2296330",
    "end": "2302450"
  },
  {
    "text": "out here in the bottom right with a raid set so you know pick your rage favor one",
    "start": "2302450",
    "end": "2309080"
  },
  {
    "text": "five six ten whatever the case is to be able to build out some local durability",
    "start": "2309080",
    "end": "2314750"
  },
  {
    "text": "but that still doesn't protect you from being able to withstand a termination or",
    "start": "2314750",
    "end": "2323210"
  },
  {
    "text": "an accidental termination you know an intentional shutdown or what have you so again if your data is important",
    "start": "2323210",
    "end": "2330110"
  },
  {
    "text": "please move it off to a persistent store as soon as possible all that said and",
    "start": "2330110",
    "end": "2335920"
  },
  {
    "text": "hopefully I've warned you plenty to move your data off of these drives as soon as",
    "start": "2335920",
    "end": "2341750"
  },
  {
    "start": "2336000",
    "end": "2416000"
  },
  {
    "text": "possible as you can probably sense our customers saying is there any way I can get that data back and unfortunately we",
    "start": "2341750",
    "end": "2348500"
  },
  {
    "text": "just it's it's we really can't do it so I three instances have up to eight",
    "start": "2348500",
    "end": "2355460"
  },
  {
    "text": "nvme volumes you've raid these guys together it yields a file system of about 15 terabytes and you get up to 16",
    "start": "2355460",
    "end": "2363710"
  },
  {
    "text": "gigabytes a second of throughput local access right 3 million I ops on this guy",
    "start": "2363710",
    "end": "2369860"
  },
  {
    "text": "as well so not only in the i3 instances but as you've seen again a c 5d the m 5d",
    "start": "2369860",
    "end": "2376970"
  },
  {
    "text": "the z1 d local nvme storage you know very fast storage that you can use for",
    "start": "2376970",
    "end": "2383930"
  },
  {
    "text": "all kinds of things so you can build out your own file servers parallel distributed file servers if you're",
    "start": "2383930",
    "end": "2390500"
  },
  {
    "text": "leveraging ZFS ZFS actually has some nice options that allow you to take advantage of some",
    "start": "2390500",
    "end": "2396860"
  },
  {
    "text": "local nvme volumes you can use it for local scratch base so there are lots of",
    "start": "2396860",
    "end": "2403040"
  },
  {
    "text": "use cases for local nvme volumes that one quick note about encryption on this",
    "start": "2403040",
    "end": "2408470"
  },
  {
    "text": "guy so we do do encryption on these but it's on a hardware module that's local to the instance so now that we've talked",
    "start": "2408470",
    "end": "2418940"
  },
  {
    "text": "about a Mis we talked about instance types we've talked about all this tuning we've talked about storage we've talked",
    "start": "2418940",
    "end": "2426890"
  },
  {
    "text": "about all kinds of things so how do we how do we actually put this together how do we actually start to build out the",
    "start": "2426890",
    "end": "2432170"
  },
  {
    "text": "infrastructure on AWS there's a couple of really exciting things going on in AWS on AWS we we make",
    "start": "2432170",
    "end": "2441050"
  },
  {
    "text": "our own proprietary network right so we have a 10 gigabits of 25 gigabits and",
    "start": "2441050",
    "end": "2446450"
  },
  {
    "text": "now a peter stock you heard him announce that we now have up to a 100 gigabyte 100 gigabits of network throughput which",
    "start": "2446450",
    "end": "2453800"
  },
  {
    "text": "is it's crazy and i'm really excited about that and i'm really excited to see how you guys are going to be able to",
    "start": "2453800",
    "end": "2459320"
  },
  {
    "text": "take advantage of that so our network supports nearly 3 million packets per second so this is a reduced jitter low",
    "start": "2459320",
    "end": "2467360"
  },
  {
    "text": "latency high performance network high throughput network where customers will see consistent performance right so you",
    "start": "2467360",
    "end": "2476150"
  },
  {
    "text": "know there's there's all kinds of networking technologies out there but what we find is as customers move",
    "start": "2476150",
    "end": "2481370"
  },
  {
    "text": "workloads to AWS that they get these real consistent runs they're not seeing",
    "start": "2481370",
    "end": "2486380"
  },
  {
    "text": "these these big you know these big data points and these outliers of data points",
    "start": "2486380",
    "end": "2491990"
  },
  {
    "text": "that's saying well I wonder what happened to the network here on AWS what we find is that their runs are the same",
    "start": "2491990",
    "end": "2498380"
  },
  {
    "text": "are nearly nearly the same across all of their runs also the ec2 throughput back",
    "start": "2498380",
    "end": "2507770"
  },
  {
    "text": "to Amazon s3 is going to be up to 25 gigabits but that will have to be order",
    "start": "2507770",
    "end": "2513920"
  },
  {
    "text": "multiple streams to get that full through button so some network",
    "start": "2513920",
    "end": "2519290"
  },
  {
    "start": "2517000",
    "end": "2613000"
  },
  {
    "text": "performance suggestions first off use cluster placement groups right so think",
    "start": "2519290",
    "end": "2525740"
  },
  {
    "text": "MPI hpc think tightly coupled that's where you want to start for the high-performance networks we also have",
    "start": "2525740",
    "end": "2532910"
  },
  {
    "text": "some instance types that will support MTU setting so I have a couple of URLs",
    "start": "2532910",
    "end": "2538970"
  },
  {
    "text": "down here that actually have some of the enhanced networking information but also has some information about MTU and again",
    "start": "2538970",
    "end": "2545990"
  },
  {
    "text": "all these slides will be on SlideShare another thing that you can do is use a",
    "start": "2545990",
    "end": "2551540"
  },
  {
    "text": "multiple elastic network interfaces for different parts of your workloads so you",
    "start": "2551540",
    "end": "2556970"
  },
  {
    "text": "can use one interface for file systems you can use another interface for",
    "start": "2556970",
    "end": "2563210"
  },
  {
    "text": "connecting instances you can use another interface for web servers databases whatever the case is but using more",
    "start": "2563210",
    "end": "2570110"
  },
  {
    "text": "network interfaces should lead to better throughput on the entire instance and may make a huge improvement in the",
    "start": "2570110",
    "end": "2577520"
  },
  {
    "text": "overall flow that workload and for the",
    "start": "2577520",
    "end": "2582830"
  },
  {
    "text": "last or excuse me yes sorry for the last - for setting up different interrupts",
    "start": "2582830",
    "end": "2589580"
  },
  {
    "text": "for packet receives and receive side steering here I'm not going to go into too detail too much detail here but",
    "start": "2589580",
    "end": "2596420"
  },
  {
    "text": "definitely something again that you should consider when you're thinking about networking performance we have some really good detailed information",
    "start": "2596420",
    "end": "2603109"
  },
  {
    "text": "down in these links here on how to set that up and it's actually a little bit out of the scope of this this talk",
    "start": "2603109",
    "end": "2609200"
  },
  {
    "text": "because it really goes into the detail there and at Peter sock",
    "start": "2609200",
    "end": "2616280"
  },
  {
    "start": "2613000",
    "end": "2641000"
  },
  {
    "text": "you heard him announced this huge announcement so on c5n and on the p3 DN",
    "start": "2616280",
    "end": "2622400"
  },
  {
    "text": "we announced that we have up to 100 gigabits of networking bandwidth with our elastic fabric adapter really suited",
    "start": "2622400",
    "end": "2630020"
  },
  {
    "text": "for HPC work codes again those really tightly workloads that really need this high throughput bandwidth so again",
    "start": "2630020",
    "end": "2635930"
  },
  {
    "text": "really excited about this and really looking forward to seeing how customers leverage this okay so we've talked about",
    "start": "2635930",
    "end": "2644510"
  },
  {
    "start": "2641000",
    "end": "2686000"
  },
  {
    "text": "a little bit of an infrastructure we've talked you know fair amount about instances we talked about ami as we",
    "start": "2644510",
    "end": "2651440"
  },
  {
    "text": "talked about choosing the right am i and the hypervisors and all the tuning and all of the suggestions that I have here",
    "start": "2651440",
    "end": "2658700"
  },
  {
    "text": "hopefully yours starting to put together a plan an action plan how am I going to turn tune",
    "start": "2658700",
    "end": "2665030"
  },
  {
    "text": "my applications on AWS what is going to be the first set of commands what were the first set of parameters that I",
    "start": "2665030",
    "end": "2671690"
  },
  {
    "text": "should actually think about tweaking and tuning and so some of the tools that I have here have actually led me to the",
    "start": "2671690",
    "end": "2679190"
  },
  {
    "text": "right place and given me a really good direction for that so let's dive into",
    "start": "2679190",
    "end": "2684590"
  },
  {
    "text": "tools a little bit so LS topo so LS cocoa is a really handy command part of",
    "start": "2684590",
    "end": "2691670"
  },
  {
    "start": "2686000",
    "end": "2778000"
  },
  {
    "text": "the HW so this is these are you know that all these are yum install commands so you can get these off of a young repo",
    "start": "2691670",
    "end": "2698560"
  },
  {
    "text": "but one of the cool things about this command are there several cool things but one of the cool things about this",
    "start": "2698560",
    "end": "2705380"
  },
  {
    "text": "command is down on the bottom here you can see the cores and the threads so if you need another place to check how many",
    "start": "2705380",
    "end": "2711440"
  },
  {
    "text": "threads you're running per core this is another great way to do that you can see this a per core basis you can see this",
    "start": "2711440",
    "end": "2718010"
  },
  {
    "text": "that we're actually running two threads per core so we got four threads on two cores and then you can also see l1",
    "start": "2718010",
    "end": "2725240"
  },
  {
    "text": "instruction cache I'll want data cache but also l2 l3 main memory and then some",
    "start": "2725240",
    "end": "2730700"
  },
  {
    "text": "of the i/o components on the right side and this command is ASCII art so I",
    "start": "2730700",
    "end": "2737030"
  },
  {
    "text": "didn't this is not a PNG that I produced and then I cut and pasted it into the presentation I ran this command from the",
    "start": "2737030",
    "end": "2744350"
  },
  {
    "text": "command line exactly like that and this is the exact output if your terminal supports colors you're going to get this",
    "start": "2744350",
    "end": "2750320"
  },
  {
    "text": "nice pretty formatted set of information that you can get a really good",
    "start": "2750320",
    "end": "2755480"
  },
  {
    "text": "indication of what the architecture of the instance is I didn't have a lot of",
    "start": "2755480",
    "end": "2760850"
  },
  {
    "text": "real estate for this for the deck so what I get is on a z1 d extra-large now",
    "start": "2760850",
    "end": "2768530"
  },
  {
    "text": "if you had a z1 d12 extra large this would be a lot more information I and it",
    "start": "2768530",
    "end": "2774650"
  },
  {
    "text": "would have been an ayah chart if I were the post of that so turbo stat I",
    "start": "2774650",
    "end": "2780080"
  },
  {
    "start": "2778000",
    "end": "2829000"
  },
  {
    "text": "mentioned this briefly before but this is the command that I would recommend and that we're recommending for for",
    "start": "2780080",
    "end": "2788780"
  },
  {
    "text": "determining what the clock values are for your instances and the reason is is",
    "start": "2788780",
    "end": "2794330"
  },
  {
    "text": "LS CPU and cotton and catting proc CPU",
    "start": "2794330",
    "end": "2799370"
  },
  {
    "text": "info are going to be probably going to be reporting the base frequencies so if",
    "start": "2799370",
    "end": "2805160"
  },
  {
    "text": "you use this command and this is actually showing this under load you're going to see the correct values here so",
    "start": "2805160",
    "end": "2811430"
  },
  {
    "text": "in this case again this is on the z1 D 12x large and this is peg at 4 gigahertz",
    "start": "2811430",
    "end": "2817610"
  },
  {
    "text": "across all those CPUs so again it's very handy command see what the processes are",
    "start": "2817610",
    "end": "2822890"
  },
  {
    "text": "doing and gives you also an indication of sleep the states as well H Tom",
    "start": "2822890",
    "end": "2830300"
  },
  {
    "start": "2829000",
    "end": "2885000"
  },
  {
    "text": "another really handy command I've had so many users customers come to me and say I know I'm running across the entire",
    "start": "2830300",
    "end": "2837380"
  },
  {
    "text": "machine I I know I am and we fire up each top and they're literally all in one core",
    "start": "2837380",
    "end": "2843140"
  },
  {
    "text": "and what I thought was a multi-core application was a single core not even a",
    "start": "2843140",
    "end": "2848330"
  },
  {
    "text": "multi-threaded application right so it gives you some real good in two quick indication and I consider this to be you",
    "start": "2848330",
    "end": "2855590"
  },
  {
    "text": "know a visual representation even though this is a command-line tool of what's",
    "start": "2855590",
    "end": "2860810"
  },
  {
    "text": "going on with the system of what's going on on your core so this is this is again on as e1d 12x large this is with the",
    "start": "2860810",
    "end": "2870050"
  },
  {
    "text": "extra threats turned off so I'm gonna have one threads per core but if I had two threads per core instead of seeing",
    "start": "2870050",
    "end": "2876200"
  },
  {
    "text": "24 there you would see 48 so you can see both multi thread per core and with",
    "start": "2876200",
    "end": "2882230"
  },
  {
    "text": "single thread for core as well net hogs again and another very handy command",
    "start": "2882230",
    "end": "2889880"
  },
  {
    "text": "that I've used I've seen customers come to me and say all this bandwidth is",
    "start": "2889880",
    "end": "2895070"
  },
  {
    "text": "going nowhere I have no idea where this is going you look at their cloud watch logs and you can just see their their",
    "start": "2895070",
    "end": "2900470"
  },
  {
    "text": "networking going through the roof we bring this up and within seconds they say I know that what that process is or",
    "start": "2900470",
    "end": "2906740"
  },
  {
    "text": "I know who that user is and right away they're able to figure out and dissect",
    "start": "2906740",
    "end": "2911750"
  },
  {
    "text": "exactly how to troubleshoot the next steps so a really good command definitely one for the toolbox so perf",
    "start": "2911750",
    "end": "2921010"
  },
  {
    "start": "2917000",
    "end": "2944000"
  },
  {
    "text": "performs right so this is just like a you know just a super simple",
    "start": "2921400",
    "end": "2927210"
  },
  {
    "text": "come in just to push that on Annie busy which just keeps the system busy but",
    "start": "2927210",
    "end": "2933690"
  },
  {
    "text": "definitely dive into this tool there are all kinds of options and graphs and all kinds of metrics that you can pull out",
    "start": "2933690",
    "end": "2940920"
  },
  {
    "text": "of perf very handy command I per three I",
    "start": "2940920",
    "end": "2947390"
  },
  {
    "start": "2944000",
    "end": "3014000"
  },
  {
    "text": "know I told you guys not to do lunch testing with synthetic benchmarking this",
    "start": "2947390",
    "end": "2953070"
  },
  {
    "text": "is the only one that I encourage customers to do first so a lot of times customers will bring up instances",
    "start": "2953070",
    "end": "2959250"
  },
  {
    "text": "they'll say this is you know this is going to perform well we set up everything right they run and they don't",
    "start": "2959250",
    "end": "2965160"
  },
  {
    "text": "get very good performance and this is obviously you know a network based application so one thing that I",
    "start": "2965160",
    "end": "2971849"
  },
  {
    "text": "encourage customers to do is just fire up by per three it's super fast it's to",
    "start": "2971849",
    "end": "2978060"
  },
  {
    "text": "install it's it's there's no configuration just run out the command line but it will give you an indication",
    "start": "2978060",
    "end": "2984030"
  },
  {
    "text": "of what you're getting across two instances so something I do encourage customers to use initially and it gives",
    "start": "2984030",
    "end": "2992339"
  },
  {
    "text": "you some good direction as to what the network performance is this is between 2 Z 1 D 12 X large instances again and",
    "start": "2992339",
    "end": "3000950"
  },
  {
    "text": "what you'll see at the bottom here is that the advertised speed for this guy is 25 gigabits and we're new and we're",
    "start": "3000950",
    "end": "3006800"
  },
  {
    "text": "getting nearly line rate across that okay so some additional information news",
    "start": "3006800",
    "end": "3016070"
  },
  {
    "start": "3014000",
    "end": "3044000"
  },
  {
    "text": "blog so Jeff bars blog hopefully you guys have been following Jeff bars blog this week some it's it's just crazy to",
    "start": "3016070",
    "end": "3023330"
  },
  {
    "text": "try to keep up with all the announcements you know it's there's so many things going on there so it's just",
    "start": "3023330",
    "end": "3028849"
  },
  {
    "text": "so exciting and it's such an exciting week for here and for us here at reinvent so really excited to be a part",
    "start": "3028849",
    "end": "3035810"
  },
  {
    "text": "of this and Jeff is always a really good source of all this information so have a look there instance types all kinds of",
    "start": "3035810",
    "end": "3042230"
  },
  {
    "text": "informations are is going to be posted there call out to this EDA white paper",
    "start": "3042230",
    "end": "3047930"
  },
  {
    "start": "3044000",
    "end": "3076000"
  },
  {
    "text": "so I'm not plugging this plugging this just because I co-authored this I'm",
    "start": "3047930",
    "end": "3054140"
  },
  {
    "text": "plugging this because it has nearly everything that I've talked about here today is already in this way",
    "start": "3054140",
    "end": "3060470"
  },
  {
    "text": "paper and it's going to be continued to be revised so we're working on another revision right now I'm going to be",
    "start": "3060470",
    "end": "3066890"
  },
  {
    "text": "adding to it hopefully by the end of the year even adding more content and some",
    "start": "3066890",
    "end": "3071930"
  },
  {
    "text": "of the new instance information there as well okay so that's the summary that's",
    "start": "3071930",
    "end": "3079369"
  },
  {
    "start": "3076000",
    "end": "3092000"
  },
  {
    "text": "where we've started with infrastructure Dovid the instances and performance and tools and hopefully again you guys have",
    "start": "3079369",
    "end": "3086119"
  },
  {
    "text": "a really good understanding a really good indication of where you're going to start and tune your part training",
    "start": "3086119",
    "end": "3091880"
  },
  {
    "text": "performance on AWS these are the resources that you that I was talking",
    "start": "3091880",
    "end": "3097880"
  },
  {
    "text": "about before so a couple pages of those and then don't forget tomorrow night is",
    "start": "3097880",
    "end": "3102920"
  },
  {
    "text": "replay and just so you guys know this is a you know just to let you guys know I",
    "start": "3102920",
    "end": "3109760"
  },
  {
    "text": "am going to be the guest DJ there no no no that's not true I just wanted to see your hacked yeah you guys still awake",
    "start": "3109760",
    "end": "3117290"
  },
  {
    "text": "okay good not gonna be the desk EJ any case show out the replay have a good",
    "start": "3117290",
    "end": "3123020"
  },
  {
    "text": "time thank you for coming to reinvent thank you for letting me present I",
    "start": "3123020",
    "end": "3128180"
  },
  {
    "text": "really enjoy helping customers so really looking forward to helping you guys get good performance out of your",
    "start": "3128180",
    "end": "3134089"
  },
  {
    "text": "applications thank you [Applause]",
    "start": "3134089",
    "end": "3139889"
  }
]