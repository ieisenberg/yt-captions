[
  {
    "text": "大家好，我是 Adrian Cockcroft",
    "start": "400",
    "end": "1900"
  },
  {
    "text": "多年以来，我做过很多\n关于微服务和云架构的演讲",
    "start": "1901",
    "end": "6039"
  },
  {
    "text": "有些想法",
    "start": "6040",
    "end": "7340"
  },
  {
    "text": "我一直想通过动画短片的方式来阐述",
    "start": "7341",
    "end": "10499"
  },
  {
    "text": "所以，我与一个视觉设计团队合作\n制作出了一系列动画",
    "start": "10500",
    "end": "14259"
  },
  {
    "text": "每张动画阐述一个特定概念",
    "start": "14260",
    "end": "16859"
  },
  {
    "text": "这是关于迁移到云的",
    "start": "16860",
    "end": "19319"
  },
  {
    "text": "多年来，许多人向我咨询过\nNetflix 的云之旅",
    "start": "19320",
    "end": "24599"
  },
  {
    "text": "我在 Netflix 工作的几年来\n一直在讨论此问题",
    "start": "24600",
    "end": "27619"
  },
  {
    "text": "从那时起，我帮助了很多人",
    "start": "27620",
    "end": "31619"
  },
  {
    "text": "所以，我想更新一下这个问题",
    "start": "31620",
    "end": "33739"
  },
  {
    "text": "弄清楚我们能从云之旅中\n得到什么教训",
    "start": "33740",
    "end": "37539"
  },
  {
    "text": "其中有趣的是许多公司的",
    "start": "37540",
    "end": "41659"
  },
  {
    "text": "云迁移都是从震惊开始的",
    "start": "41660",
    "end": "43899"
  },
  {
    "text": "2008 年，Netflix 有一个假设",
    "start": "43900",
    "end": "48059"
  },
  {
    "text": "IT 可以让系统变得完美\n这样开发人员不必考虑故障问题",
    "start": "48060",
    "end": "52979"
  },
  {
    "text": "我们运行的是高端又昂贵的\nIBM pSeries 硬件，Oracle 数据库",
    "start": "52980",
    "end": "58039"
  },
  {
    "text": "然后，由于硬件故障",
    "start": "58040",
    "end": "59900"
  },
  {
    "text": "中断了两天，这确实在整个公司的",
    "start": "59901",
    "end": "65239"
  },
  {
    "text": "管理层引起了一些波澜",
    "start": "65240",
    "end": "69459"
  },
  {
    "text": "我们认为\n可用性确实是个应用问题",
    "start": "69460",
    "end": "74559"
  },
  {
    "text": "如果我们这样认为\n那么我们就不需要在昂贵的硬件上运行",
    "start": "74560",
    "end": "78298"
  },
  {
    "text": "我们可以用成本低的云基础设施",
    "start": "78300",
    "end": "81859"
  },
  {
    "text": "于是，许多公司出现了某种中断或故障\n引起了人们的思考",
    "start": "81860",
    "end": "88859"
  },
  {
    "text": "我们做得对吗？",
    "start": "88860",
    "end": "90766"
  },
  {
    "text": "但是\n除了需要一个存亡性威胁外",
    "start": "90767",
    "end": "94399"
  },
  {
    "text": "还需要有某种力量\n推动您完成转变",
    "start": "94400",
    "end": "97959"
  },
  {
    "text": "所以，光问我们是否做对了这个问题",
    "start": "97960",
    "end": "100759"
  },
  {
    "text": "是不够的",
    "start": "100760",
    "end": "101960"
  },
  {
    "text": "必须有某种力量\n把您推向正确的方向",
    "start": "101961",
    "end": "105039"
  },
  {
    "text": "2009 年，我们意识到我们需要\n大幅增加数据中心的容量",
    "start": "105040",
    "end": "110359"
  },
  {
    "text": "但我们没有时间来预测我们需要增加多少\n增加在什么地方",
    "start": "110360",
    "end": "113819"
  },
  {
    "text": "因为在线流式传输\n取代 DVD 物流配送后需要增加容量",
    "start": "113820",
    "end": "118532"
  },
  {
    "text": "这与许多组织非常相似\n之前这些组织的 IT 规模拓展",
    "start": "118533",
    "end": "125419"
  },
  {
    "text": "与其员工数量相关",
    "start": "125420",
    "end": "127865"
  },
  {
    "text": "但在未来，这些组织\n有了交互系统后",
    "start": "127866",
    "end": "131132"
  },
  {
    "text": "可以根据他们拥有的客户数量\n对 IT 进行扩展",
    "start": "131133",
    "end": "135939"
  },
  {
    "text": "所以，Netfilx 发生了什么呢\n首先是 DVD 业务",
    "start": "135940",
    "end": "139759"
  },
  {
    "text": "大多数人都是在周日晚上",
    "start": "139760",
    "end": "143159"
  },
  {
    "text": "选择下周想看的电影",
    "start": "143160",
    "end": "146179"
  },
  {
    "text": "他们浏览网页，进行选择",
    "start": "146180",
    "end": "149099"
  },
  {
    "text": "然后发货计划\n会转到发货站点",
    "start": "149100",
    "end": "151579"
  },
  {
    "text": "星期一他们会\n把一叠 DVD 放在邮箱里",
    "start": "151580",
    "end": "154839"
  },
  {
    "text": "然后，新的 DVD 就会送到",
    "start": "154840",
    "end": "156918"
  },
  {
    "text": "几天后再把另一个 DVD\n放进邮箱",
    "start": "156920",
    "end": "159979"
  },
  {
    "text": "然后下一个 DVD 就会寄过来",
    "start": "159980",
    "end": "162939"
  },
  {
    "text": "所以，与网页进行的交互",
    "start": "162940",
    "end": "165265"
  },
  {
    "text": "差不多一周一次\n一周也就看几部电影",
    "start": "165266",
    "end": "169919"
  },
  {
    "text": "因为会受到 DVD\n来回运输速度的限制",
    "start": "169920",
    "end": "174379"
  },
  {
    "text": "这是旧式方法\n有点像一些传统企业",
    "start": "174380",
    "end": "179139"
  },
  {
    "text": "与客户互动的方式",
    "start": "179140",
    "end": "180680"
  },
  {
    "text": "员工在第一次运送东西",
    "start": "180681",
    "end": "183539"
  },
  {
    "text": "或接到客户服务电话时",
    "start": "183540",
    "end": "186459"
  },
  {
    "text": "或在某种特殊情况下，才会与客户互动",
    "start": "186460",
    "end": "190179"
  },
  {
    "text": "但这种情况不会经常发生",
    "start": "190180",
    "end": "192278"
  },
  {
    "text": "如果您看看 Netflix 的\n流媒体业务",
    "start": "192280",
    "end": "194959"
  },
  {
    "text": "现在人们一天一口气\n看很多集电视剧",
    "start": "194960",
    "end": "198979"
  },
  {
    "text": "所以，您可能一天看 5、6 集",
    "start": "198980",
    "end": "202359"
  },
  {
    "text": "然后又看别的内容\n这时您在进行个性化浏览",
    "start": "202360",
    "end": "206665"
  },
  {
    "text": "但是在传送时\n会有一点不同",
    "start": "206666",
    "end": "210119"
  },
  {
    "text": "视频数据通过 CDN 发送",
    "start": "210120",
    "end": "213579"
  },
  {
    "text": "在您观看视频的时候\n系统会记录您的进度",
    "start": "213580",
    "end": "217019"
  },
  {
    "text": "所以如果您在中途停止观看的话\n系统会知道您看到了哪里",
    "start": "217020",
    "end": "220039"
  },
  {
    "text": "我们一直在管理和监控服务质量\n这样系统就知道",
    "start": "220040",
    "end": "223659"
  },
  {
    "text": "您以什么比特率在观看、是否重新缓冲了\n以及对视频的评价如何",
    "start": "223660",
    "end": "228499"
  },
  {
    "text": "所以，您可以一遍又一遍地点击播放",
    "start": "228500",
    "end": "230659"
  },
  {
    "text": "观看很多很多内容",
    "start": "230660",
    "end": "232759"
  },
  {
    "text": "现在，一周内您都可以做这些事情\n所以您在流媒体上观看的内容",
    "start": "232760",
    "end": "238519"
  },
  {
    "text": "可能是曾经在 DVD 上\n观看内容的 10 倍",
    "start": "238520",
    "end": "242299"
  },
  {
    "text": "在每次观看流媒体时",
    "start": "242300",
    "end": "245599"
  },
  {
    "text": "您与网站的交互次数可能是",
    "start": "245600",
    "end": "250519"
  },
  {
    "text": "选择用 DVD 观看时\n交互次数的 100 倍",
    "start": "250520",
    "end": "255999"
  },
  {
    "text": "所以，如果您每周观看次数\n是之前的 10 倍",
    "start": "256000",
    "end": "260099"
  },
  {
    "text": "每次观看的流量就是之前的 100 倍",
    "start": "260100",
    "end": "262979"
  },
  {
    "text": "那么每个决定放弃 DVD",
    "start": "262980",
    "end": "267419"
  },
  {
    "text": "而开始在 Netflix 使用流媒体的客户",
    "start": "267420",
    "end": "270379"
  },
  {
    "text": "每周向数据中心产生的流量\n大约是之前的 1000 倍",
    "start": "270380",
    "end": "276659"
  },
  {
    "text": "这确实造成了危机",
    "start": "276660",
    "end": "278999"
  },
  {
    "text": "我们在很多行业都看到过这种危机",
    "start": "279000",
    "end": "281039"
  },
  {
    "text": "您的增长率与旧的\n传统增长率差不多",
    "start": "281040",
    "end": "284899"
  },
  {
    "text": "但又有新的工作负载",
    "start": "284900",
    "end": "287839"
  },
  {
    "text": "交互系统工作负载最终",
    "start": "287840",
    "end": "290759"
  },
  {
    "text": "在同一图表上看起来非常垂直",
    "start": "290760",
    "end": "293365"
  },
  {
    "text": "如果是之前流量的 1000 倍",
    "start": "293366",
    "end": "295738"
  },
  {
    "text": "那么当百分之零点一 (0.1%) 的\n用户使用新系统时",
    "start": "295740",
    "end": "300279"
  },
  {
    "text": "所需流量差不多相等\n进入数据中心的流媒体流量",
    "start": "300280",
    "end": "304799"
  },
  {
    "text": "开始交互\n并开始与我们进入数据中心",
    "start": "304800",
    "end": "308738"
  },
  {
    "text": "处理 DVD 的流量相匹配",
    "start": "308740",
    "end": "311565"
  },
  {
    "text": "所以，这里的问题是我们需要找出\n如何快速构建数据中心的方法",
    "start": "311566",
    "end": "316679"
  },
  {
    "text": "因为客户很快就会转向流媒体",
    "start": "316680",
    "end": "321959"
  },
  {
    "text": "所以，在 2009 年，我们有两个选择",
    "start": "321960",
    "end": "325199"
  },
  {
    "text": "要么招募一个世界级的\n数据中心运营构建团队",
    "start": "325200",
    "end": "328979"
  },
  {
    "text": "尝试猜测客户需要多少容量\n并在真正需要之前建立起来",
    "start": "328980",
    "end": "332839"
  },
  {
    "text": "但要投入大量前期资金",
    "start": "332840",
    "end": "336465"
  },
  {
    "text": "要么我们可以使用 Netflix\n最大的竞争对手之一",
    "start": "336466",
    "end": "340119"
  },
  {
    "text": "AWS 的 Elastic\nCompute 服务",
    "start": "340120",
    "end": "343459"
  },
  {
    "text": "将资金投在视频\n内容和开发人员上",
    "start": "343460",
    "end": "346959"
  },
  {
    "text": "我们决定选择第二种",
    "start": "346960",
    "end": "349999"
  },
  {
    "text": "对我们来说\n将现有资金投在",
    "start": "350000",
    "end": "354399"
  },
  {
    "text": "视频内容开发服务\n和使用 AWS 上更有意义",
    "start": "354400",
    "end": "359479"
  },
  {
    "text": "于是，2009 年，我们开始研究\n如何在进入该领域的早期降低各种风险",
    "start": "359480",
    "end": "366319"
  },
  {
    "text": "首先，我们与 AWS 谈过几次",
    "start": "366320",
    "end": "369365"
  },
  {
    "text": "了解 AWS 是如何\n从 Amazon Prime 中分离出来的",
    "start": "369366",
    "end": "373539"
  },
  {
    "text": "了解清楚后",
    "start": "373540",
    "end": "375260"
  },
  {
    "text": "我们做了一些容量试验，看看哪些方法有效\n我们能多快地抓取系统",
    "start": "375261",
    "end": "380018"
  },
  {
    "text": "以及我们能否快速部署\n我们认为对数据中心有价值的容量",
    "start": "380020",
    "end": "386638"
  },
  {
    "text": "我们与 AWS 签订了其中一个\n首批企业许可协议",
    "start": "386640",
    "end": "391899"
  },
  {
    "text": "因为我们不打算通过点击\n授权信用卡的方式运行 Netflix",
    "start": "391900",
    "end": "395639"
  },
  {
    "text": "这是 2009 年大多数人在 AWS 上\n消费时使用的主要方式",
    "start": "395640",
    "end": "401332"
  },
  {
    "text": "最后，2010 年 4 月，《纽约时报》上\n有一篇关于 Netflix 和 AWS 的报道",
    "start": "401333",
    "end": "407939"
  },
  {
    "text": "说我们将进行合作",
    "start": "407940",
    "end": "410039"
  },
  {
    "text": "当时我和一些人沟通过\n行业内的技术专家",
    "start": "410040",
    "end": "415179"
  },
  {
    "text": "都认为我们这么做非常疯狂",
    "start": "415180",
    "end": "418179"
  },
  {
    "text": "我们是最早这样做的公司之一",
    "start": "418180",
    "end": "419940"
  },
  {
    "text": "这在当时还是一个\n非常不成熟的策略",
    "start": "419941",
    "end": "424579"
  },
  {
    "text": "但我们所做的就是坚持下去\n然后我们找到了正确的路",
    "start": "424580",
    "end": "428959"
  },
  {
    "text": "我们首先关注的是一些\n没有真正面向客户的应用",
    "start": "428960",
    "end": "434619"
  },
  {
    "text": "我们从编码电影开始",
    "start": "434620",
    "end": "436699"
  },
  {
    "text": "我们积压的工作量很大\n数据中心没有",
    "start": "436700",
    "end": "439459"
  },
  {
    "text": "足够的空间可以容纳正在编码的机器",
    "start": "439460",
    "end": "441659"
  },
  {
    "text": "所以，我们将其转移到了 EC2\n我们证明了按需使用容量是可行的",
    "start": "441660",
    "end": "446279"
  },
  {
    "text": "有一次我们说给我们 3000 台机器",
    "start": "446280",
    "end": "448879"
  },
  {
    "text": "一小时后就有了 3000 台机器",
    "start": "448880",
    "end": "450880"
  },
  {
    "text": "我们就在公司里分享了这件事\n表明这是可行的",
    "start": "450881",
    "end": "455219"
  },
  {
    "text": "我们可以获取大量容量",
    "start": "455220",
    "end": "457832"
  },
  {
    "text": "然后，随着积压工作的减少",
    "start": "457833",
    "end": "459959"
  },
  {
    "text": "我们可以关掉这些机器\n也就不用再为它们付钱了",
    "start": "459960",
    "end": "463339"
  },
  {
    "text": "换句话说，您需要多少机器\n就可以得到多少",
    "start": "463340",
    "end": "467619"
  },
  {
    "text": "可以尽可能快地\n完成积压的编码工作",
    "start": "467620",
    "end": "470759"
  },
  {
    "text": "而且不会产生额外成本\n因为您真正购买的是机器工时",
    "start": "470760",
    "end": "474379"
  },
  {
    "text": "您可以购买\n1000 个机器工时",
    "start": "474380",
    "end": "477239"
  },
  {
    "text": "运行 3 个小时，最后得到 3000 个机器工时",
    "start": "477240",
    "end": "480699"
  },
  {
    "text": "也可以购买 100 台机器\n运行 30 个小时",
    "start": "480700",
    "end": "484299"
  },
  {
    "text": "两者的价格是一样的，所以您还不如多买机器\n这样运行时间会更短",
    "start": "484300",
    "end": "489059"
  },
  {
    "text": "这是一件非常有用的事情",
    "start": "489060",
    "end": "491839"
  },
  {
    "text": "瞬间缩短了所有的批量处理时间\n而不需要额外的成本",
    "start": "491840",
    "end": "495979"
  },
  {
    "text": "您不必为之后的\n空闲时间付钱",
    "start": "495980",
    "end": "499919"
  },
  {
    "text": "接下来我们关注的是\n前面提到的服务质量日志",
    "start": "499920",
    "end": "503979"
  },
  {
    "text": "进入数据中心数据库的流量太多\n这些流量正在溢出",
    "start": "503980",
    "end": "508379"
  },
  {
    "text": "而且也没有足够的存储空间\n来存储想要保存的信息",
    "start": "508380",
    "end": "512179"
  },
  {
    "text": "所以，我们使用 S3 来存储数据\n基本上没有存储空间限制",
    "start": "512180",
    "end": "516799"
  },
  {
    "text": "我们把日志分析转移到了\nElastic MapReduce",
    "start": "516800",
    "end": "520599"
  },
  {
    "text": "我们是 Hadoop 的早期用户",
    "start": "520600",
    "end": "523258"
  },
  {
    "text": "曾与 AWS 合作\n支持 Hive 作为基于 EMR 的处理选项",
    "start": "523260",
    "end": "529739"
  },
  {
    "text": "2009-2010 年\n我们转而主要使用 EMR 运行",
    "start": "529740",
    "end": "536799"
  },
  {
    "text": "所以，到底是怎么运行的呢",
    "start": "536800",
    "end": "538060"
  },
  {
    "text": "在 2010 年\n我们认为这看起来是可行的",
    "start": "538061",
    "end": "542459"
  },
  {
    "text": "我们决定不再建设\n数据中心容量",
    "start": "542460",
    "end": "545679"
  },
  {
    "text": "并且我们决定在 2010 年底之前\n必须将主要的前端工作负载转移到 AWS",
    "start": "545680",
    "end": "551579"
  },
  {
    "text": "以便在这个决定的基础上生存下来",
    "start": "551580",
    "end": "556832"
  },
  {
    "text": "上半年，Netflix 所需的\n容量增长相对缓慢",
    "start": "556833",
    "end": "562059"
  },
  {
    "text": "但是在整个冬季\n美国总部的 Netflix 流量有所增长",
    "start": "562060",
    "end": "568839"
  },
  {
    "text": "随着天黑得越来越早\n人们在看电视上花的时间越来越多",
    "start": "568840",
    "end": "572059"
  },
  {
    "text": "在感恩节和圣诞节期间\n流量大幅增长",
    "start": "572060",
    "end": "574939"
  },
  {
    "text": "所以，我们必须在年底前\n完成任务",
    "start": "574940",
    "end": "578799"
  },
  {
    "text": "因此，它是这样运行的",
    "start": "578800",
    "end": "580320"
  },
  {
    "text": "首先我们开始将网页\n和 API 客户端转移到云",
    "start": "580321",
    "end": "584832"
  },
  {
    "text": "和我们切换的后端\n在数据中心腾出空间来增加后端内存",
    "start": "584833",
    "end": "591399"
  },
  {
    "text": "并将前端转移到 AWS",
    "start": "591400",
    "end": "595059"
  },
  {
    "text": "那次迁移很成功",
    "start": "595060",
    "end": "597878"
  },
  {
    "text": "我们得到了前端\n这是一次强行军",
    "start": "597880",
    "end": "600279"
  },
  {
    "text": "这是最后的期限\n我们没有后备计划",
    "start": "600280",
    "end": "603239"
  },
  {
    "text": "所以，每个人都必须\n全力以赴完成它",
    "start": "603240",
    "end": "606039"
  },
  {
    "text": "我们曾做过一个有趣的类比",
    "start": "606040",
    "end": "609659"
  },
  {
    "text": "我们向人们展示了一张飞机图片",
    "start": "609660",
    "end": "612599"
  },
  {
    "text": "这个飞机沿着跑道滑行\n跑道的尽头有许多树",
    "start": "612600",
    "end": "616759"
  },
  {
    "text": "为避免撞到树上，您打算起飞\n然后看到了一片美丽的云",
    "start": "616760",
    "end": "620532"
  },
  {
    "text": "因此，我们希望在今年年底之前\n完成云迁移",
    "start": "620533",
    "end": "624259"
  },
  {
    "text": "专注于此事\n我们就能克服一切难关",
    "start": "624260",
    "end": "628319"
  },
  {
    "text": "最后几个网页是在 12 月初迁移的",
    "start": "628320",
    "end": "631259"
  },
  {
    "text": "没有出现容量中断\n所有内容都迁移完毕，一切运行良好",
    "start": "631260",
    "end": "637879"
  },
  {
    "text": "经常听到人们问，你们是怎么做到的？\n正确的顺序是什么？",
    "start": "637880",
    "end": "642365"
  },
  {
    "text": "我们从最简单的服务开始",
    "start": "642366",
    "end": "646439"
  },
  {
    "text": "先是 API 服务，然后是最简单的网页",
    "start": "646440",
    "end": "649499"
  },
  {
    "text": "然后在 API 中一页接一页地\n引入不同的服务",
    "start": "649500",
    "end": "654999"
  },
  {
    "text": "和不同的数据源",
    "start": "655000",
    "end": "657059"
  },
  {
    "text": "这样我们就可以逐步推出系统",
    "start": "657060",
    "end": "660239"
  },
  {
    "text": "在逐步迁移的过程中",
    "start": "660240",
    "end": "661480"
  },
  {
    "text": "我们还让客户开始\n使用网页或 API 调用",
    "start": "661481",
    "end": "667159"
  },
  {
    "text": "然后进入数据中心",
    "start": "667160",
    "end": "669160"
  },
  {
    "text": "这就是大多数\n系统的起点",
    "start": "669161",
    "end": "672039"
  },
  {
    "text": "但是我们开始有选择地\n重定向到云",
    "start": "672040",
    "end": "675498"
  },
  {
    "text": "这样对于某个页面，我们会说好吧",
    "start": "675500",
    "end": "678019"
  },
  {
    "text": "既然拥有一定比例的客户\n那就让我们看看是否可以在云中运行这个页面",
    "start": "678020",
    "end": "680939"
  },
  {
    "text": "有一个旋钮\n我们可以分流几个人过去",
    "start": "680940",
    "end": "683899"
  },
  {
    "text": "如果出现问题，我们可以将其转回来",
    "start": "683900",
    "end": "686039"
  },
  {
    "text": "所以，我们基本上是使用标准的\nhttp 重定向将流量发送到云",
    "start": "686040",
    "end": "693319"
  },
  {
    "text": "以上这些就是我们在 2010 年所做的事情",
    "start": "693320",
    "end": "696839"
  },
  {
    "text": "但是我们还必须将一些数据移出 Oracle",
    "start": "696840",
    "end": "700399"
  },
  {
    "text": "我们必须进行连续复制",
    "start": "700400",
    "end": "702419"
  },
  {
    "text": "因此，我们想将数据源放在云中",
    "start": "702420",
    "end": "705259"
  },
  {
    "text": "我们称之为系统记录数据",
    "start": "705260",
    "end": "708059"
  },
  {
    "text": "将其副本存储在云中\n并将主系统放在数据中心",
    "start": "708060",
    "end": "714432"
  },
  {
    "text": "于是，我们连续复制到云",
    "start": "714433",
    "end": "717299"
  },
  {
    "text": "我们之后进行了一些更新\n网页做了很多更新",
    "start": "717300",
    "end": "722498"
  },
  {
    "text": "如果要编辑账户页面",
    "start": "722500",
    "end": "724632"
  },
  {
    "text": "我们会尽可能长时间地\n把它留在数据中心",
    "start": "724633",
    "end": "727679"
  },
  {
    "text": "但大多数时候，人们只是随便浏览\n看有没有他们想看的节目",
    "start": "727680",
    "end": "733732"
  },
  {
    "text": "这些数据源将来自云\n或使用数据副本",
    "start": "733733",
    "end": "737978"
  },
  {
    "text": "这就是 2010 年的工作完成情况\n2011 年，我们决定将所有数据",
    "start": "737980",
    "end": "742118"
  },
  {
    "text": "从数据中心迁移到后端的",
    "start": "742120",
    "end": "744359"
  },
  {
    "text": "云数据库，以便进行下一阶段",
    "start": "744360",
    "end": "747464"
  },
  {
    "text": "其中一个问题是\n如何备份数据",
    "start": "747466",
    "end": "751459"
  },
  {
    "text": "基本上，就其云系统记录而言",
    "start": "751460",
    "end": "753659"
  },
  {
    "text": "我们需要进行备份\n我们使用的是异地磁带备份",
    "start": "753660",
    "end": "758339"
  },
  {
    "text": "所以这是一个很好的标准做法",
    "start": "758340",
    "end": "760166"
  },
  {
    "text": "为了做到这一点\n我们不打算将数据复制回数据中心",
    "start": "760167",
    "end": "765059"
  },
  {
    "text": "而是将其放在磁带上，供所有云服务使用",
    "start": "765060",
    "end": "767739"
  },
  {
    "text": "于是，我们在不同的区域中\n创建了一个单独的账户，将数据复制到那里",
    "start": "767740",
    "end": "771759"
  },
  {
    "text": "并利用 S3 的安全性和持久性\n将其作为磁带备份的替代方案",
    "start": "771760",
    "end": "780059"
  },
  {
    "text": "我们将其设置在一个单独的帐户中",
    "start": "780060",
    "end": "782000"
  },
  {
    "text": "这样您就无法删除数据\n我们没有自动清除功能",
    "start": "782001",
    "end": "785178"
  },
  {
    "text": "并且可以避免一些问题，比如账户接管",
    "start": "785180",
    "end": "788279"
  },
  {
    "text": "以及从安全角度来看\n可能会遇到的一些问题",
    "start": "788280",
    "end": "791799"
  },
  {
    "text": "最近，AWS 使用 Amazon Glacier\n添加了成本非常低的存档",
    "start": "791800",
    "end": "799599"
  },
  {
    "text": "这样您就可以采用一种迁移策略\n该策略规定在一段时间后",
    "start": "799600",
    "end": "804118"
  },
  {
    "text": "您的备份或存档就会归入一个较低的存储类\n较低成本的存储类",
    "start": "804120",
    "end": "810199"
  },
  {
    "text": "具体操作是这样的\n我们获取备份数据",
    "start": "810200",
    "end": "813399"
  },
  {
    "text": "从所有数据库中提取数据",
    "start": "813400",
    "end": "817419"
  },
  {
    "text": "包括 MySQL、Cassandra、DynamoDB 等\nNetflix 在 S3 中使用的数据库",
    "start": "817420",
    "end": "824199"
  },
  {
    "text": "制作副本，将本地备份复制到 S3",
    "start": "824200",
    "end": "827639"
  },
  {
    "text": "然后使用不同的账户\n将数据迁移到不同区域",
    "start": "827640",
    "end": "831399"
  },
  {
    "text": "对数据进行压缩、加密\n并存档到要使用的区域中",
    "start": "831400",
    "end": "835099"
  },
  {
    "text": "通常，如果压缩的备份\n可能很快就会用到",
    "start": "835100",
    "end": "838839"
  },
  {
    "text": "并且希望高效地进行",
    "start": "838840",
    "end": "841019"
  },
  {
    "text": "那么 CPU 高效备份可以快速实现它",
    "start": "841020",
    "end": "844679"
  },
  {
    "text": "但如果您打算将这些数据\n存储几个月或更长时间",
    "start": "844680",
    "end": "847339"
  },
  {
    "text": "您希望将数据压缩得尽可能地小\n然后在需要时再运行它",
    "start": "847340",
    "end": "852379"
  },
  {
    "text": "那么压缩时间\n长一点也没有关系",
    "start": "852380",
    "end": "856739"
  },
  {
    "text": "就在几年前",
    "start": "856740",
    "end": "859479"
  },
  {
    "text": "我们到达了最后的阶段",
    "start": "859480",
    "end": "861998"
  },
  {
    "text": "我们花了几年的时间才实现\n而且我认为这些迁移会随着时间的推移而加快",
    "start": "862000",
    "end": "866079"
  },
  {
    "text": "当我们在 Netflix 时代这样做的时候",
    "start": "866080",
    "end": "868319"
  },
  {
    "text": "我们必须创造很多东西",
    "start": "868320",
    "end": "869780"
  },
  {
    "text": "因为我们当时做的是\n一件前无古人的事情",
    "start": "869781",
    "end": "872039"
  },
  {
    "text": "现在，这条路已经有很多人走过了",
    "start": "872040",
    "end": "873980"
  },
  {
    "text": "有很多好的工具可以使用",
    "start": "873981",
    "end": "876459"
  },
  {
    "text": "比如，AWS 的数据库迁移服务\n可以帮您反复迁移所有的数据",
    "start": "876460",
    "end": "883819"
  },
  {
    "text": "但在 Netflix 时代\n我们必须自己构建",
    "start": "883820",
    "end": "886799"
  },
  {
    "text": "但是在最后阶段\n我们发现",
    "start": "886800",
    "end": "890565"
  },
  {
    "text": "当您开始了解公司 IT",
    "start": "890566",
    "end": "892540"
  },
  {
    "text": "账单和那些不记得干什么用的机器时\n您真的想关闭数据中心",
    "start": "892541",
    "end": "895959"
  },
  {
    "text": "您不得不有效地进行某种\n类似工业考古的事情，了解这有什么用",
    "start": "895960",
    "end": "901419"
  },
  {
    "text": "该和谁讨论它\n最后的确关闭了所有东西",
    "start": "901420",
    "end": "904779"
  },
  {
    "text": "有些事情交给了 SaaS 供应商",
    "start": "904780",
    "end": "907119"
  },
  {
    "text": "有些东西我们关闭了",
    "start": "907120",
    "end": "909319"
  },
  {
    "text": "还有些东西我们迁移到了云中\n其中一些需要重新编写，一些就只是迁移过去",
    "start": "909320",
    "end": "913879"
  },
  {
    "text": "但基本上，所有这些都是在云上运行的\n如果您去看看 AWS 网站上的 Netflix 案例研究",
    "start": "913880",
    "end": "922519"
  },
  {
    "text": "您可以找到他们最近\n所做的一些更新",
    "start": "922520",
    "end": "926499"
  },
  {
    "text": "他们现在的规模是怎样的",
    "start": "926500",
    "end": "928140"
  },
  {
    "text": "他们现在运行着超过十万个实例",
    "start": "928141",
    "end": "931438"
  },
  {
    "text": "并为一亿多客户提供支持",
    "start": "931440",
    "end": "934579"
  },
  {
    "text": "我离开 Netflix 3 年多了\n但人们一直问我",
    "start": "934580",
    "end": "939719"
  },
  {
    "text": "从这段经历中学到了什么\n所以，我想将这些整理到一系列演讲中",
    "start": "939720",
    "end": "944459"
  },
  {
    "text": "希望大家喜欢\n我们下次再见",
    "start": "944460",
    "end": "949039"
  },
  {
    "text": "希望您对它感兴趣",
    "start": "949040",
    "end": "950579"
  },
  {
    "text": "请通过评论或 Twitter@ADRIANCO\n告诉我您的想法",
    "start": "950581",
    "end": "954419"
  },
  {
    "text": "别忘了继续关注新的故事\n感谢观看",
    "start": "954420",
    "end": "957360"
  }
]