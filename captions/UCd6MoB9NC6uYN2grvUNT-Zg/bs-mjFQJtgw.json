[
  {
    "start": "0",
    "end": "111000"
  },
  {
    "text": "[Music] hello everyone my name is rob hegarida",
    "start": "390",
    "end": "6720"
  },
  {
    "text": "and i'm a principal technical account manager at aws and i'm based out of austin texas welcome to aws supports you",
    "start": "6720",
    "end": "12719"
  },
  {
    "text": "where aws support experts provide tips to optimize performance in the cloud lower cost and provide you with best",
    "start": "12719",
    "end": "18000"
  },
  {
    "text": "practices and design considerations joining me today we have some special guests though from spreaker from i heart",
    "start": "18000",
    "end": "23519"
  },
  {
    "text": "media can you give us a quick introduction rocco and then manually sure thing hello hello hello everybody",
    "start": "23519",
    "end": "30640"
  },
  {
    "text": "my name is rokozani i'm chief technical officer at speaker from my art i'm italian but i'm based in spain",
    "start": "30640",
    "end": "37360"
  },
  {
    "text": "hello everybody i'm emanuele engineering engineering manager speaker i'm italian",
    "start": "37360",
    "end": "43600"
  },
  {
    "text": "but not like rock room based in italy thank you both for joining us today",
    "start": "43600",
    "end": "49520"
  },
  {
    "text": "really appreciate it especially given that it's a little bit later in the day for you all so thank you so much for uh",
    "start": "49520",
    "end": "54960"
  },
  {
    "text": "sticking around and being with us today and today audience we're going to be introducing you to how spreaker leveraged aws serverless technologies to",
    "start": "54960",
    "end": "61840"
  },
  {
    "text": "improve their podcast delivery network and we'll specifically focus on the journey and how aws support helps breaker to implement these new",
    "start": "61840",
    "end": "68320"
  },
  {
    "text": "technologies and how the design reduce the cost and improve performance but before we dive into all the details",
    "start": "68320",
    "end": "74400"
  },
  {
    "text": "we're going to uh ask you to feel free to use the chats window on the right-hand side of your",
    "start": "74400",
    "end": "79439"
  },
  {
    "text": "screen to let us know where you're joining us from today whether it's from spain or italy from the us wherever uh",
    "start": "79439",
    "end": "84880"
  },
  {
    "text": "and share your thoughts and questions throughout the episode today we really do look forward to hearing from you uh so i'm also going to provide a link to a",
    "start": "84880",
    "end": "92079"
  },
  {
    "text": "survey in the chat that you can use to let us know how we did so please click that link and leave us your feedback so",
    "start": "92079",
    "end": "98479"
  },
  {
    "text": "i'm going to kick us off real quickly just on some past episode information a little bit about we're going to be talking about today and then i'm going",
    "start": "98479",
    "end": "103759"
  },
  {
    "text": "to hand it over to the experts from um spreaker from my heart here after i go through a couple of little items here so",
    "start": "103759",
    "end": "111439"
  },
  {
    "start": "111000",
    "end": "248000"
  },
  {
    "text": "maybe you've caught some of our shows before that we've done talking about leveraging serverless environments we covered one handling",
    "start": "111439",
    "end": "117840"
  },
  {
    "text": "answering a question from repost where we shared a lot about talking about hundreds of thousands of customers adopting serverless technologies one big",
    "start": "117840",
    "end": "124640"
  },
  {
    "text": "lambda we have many more of course and that's leading to trillions of aws lambda executions per month because we",
    "start": "124640",
    "end": "130879"
  },
  {
    "text": "see the value there being able to take advantage of something that runs when you needed to and does it when you don't",
    "start": "130879",
    "end": "136080"
  },
  {
    "text": "and therefore saving you costs and giving you some flexibility there so i just wanted to highlight a little bit",
    "start": "136080",
    "end": "141200"
  },
  {
    "text": "there um i'm going to drop some links into uh the chat as well um specifically",
    "start": "141200",
    "end": "147920"
  },
  {
    "text": "covering some of the past episodes that we did cover about serverless architectures where we really did talk about going to things like how you can",
    "start": "147920",
    "end": "154319"
  },
  {
    "text": "reduce the amount of do-it-yourself that you have with using serverless so things that you mainly had to log into servers",
    "start": "154319",
    "end": "160319"
  },
  {
    "text": "to take care of even just a little administration tasks setting up environments tearing things down uh",
    "start": "160319",
    "end": "165599"
  },
  {
    "text": "being able to take that leverage it as infrastructure put it into some lambdas",
    "start": "165599",
    "end": "171840"
  },
  {
    "text": "to do the work for you right so that as you migrate to aws whether you start with",
    "start": "171840",
    "end": "177360"
  },
  {
    "text": "the lift and shift where you just purely take your on-premise environment load it into ec2 instances like you would have",
    "start": "177360",
    "end": "182400"
  },
  {
    "text": "regular servers and start with that process and then you know move later on to modernize on aws using things to",
    "start": "182400",
    "end": "189519"
  },
  {
    "text": "re-platform refactor take advantage of things like our different server service that i'm going to let the speak the",
    "start": "189519",
    "end": "195120"
  },
  {
    "text": "spreaker team speak of much more depth because they are definitely the experts on this so um",
    "start": "195120",
    "end": "201040"
  },
  {
    "text": "once again uh all together we're going through looking at things being really small pieces loosely joined is the goal",
    "start": "201040",
    "end": "208080"
  },
  {
    "text": "and so we have all these different services here from lambda and s3 and sqs and",
    "start": "208080",
    "end": "213440"
  },
  {
    "text": "simple workflow and dynamodb that maybe you don't think is a serverless technology but really is because you're not actually setting up instances and",
    "start": "213440",
    "end": "219599"
  },
  {
    "text": "servers that you have to administer that help you to build these different platforms that you can use for your",
    "start": "219599",
    "end": "224879"
  },
  {
    "text": "clients whether they be coming in from client computers or mobile devices and being able to help you know quickly",
    "start": "224879",
    "end": "230879"
  },
  {
    "text": "implement things in a more quick fashion so again i'm going to turn it over to you",
    "start": "230879",
    "end": "237439"
  },
  {
    "text": "rocco and turn it over to the true experts here firm speaker from my heart to give us a little insights into their",
    "start": "237439",
    "end": "243920"
  },
  {
    "text": "environment how they did things so thanks again for joining us i'll turn it over",
    "start": "243920",
    "end": "248959"
  },
  {
    "start": "248000",
    "end": "694000"
  },
  {
    "text": "rob thank you very much again and hello to everyone my name is rakozani i am cto at speaker from my art",
    "start": "249120",
    "end": "255439"
  },
  {
    "text": "we are a podcast platform for content creators who want to turn their passion into a profession",
    "start": "255439",
    "end": "260639"
  },
  {
    "text": "we offer tools to manage the entire podcast lifecycle creation distribution and monetization",
    "start": "260639",
    "end": "266160"
  },
  {
    "text": "we started this adventure in 2009 but since 2020 we are part of ayat media america's number one audio company",
    "start": "266160",
    "end": "274240"
  },
  {
    "text": "next let me share some numbers with you in april just a couple of months ago we",
    "start": "274240",
    "end": "279520"
  },
  {
    "text": "served more than 400 million iab certified podcast downloads for a total",
    "start": "279520",
    "end": "284720"
  },
  {
    "text": "of 25 petabytes of audio delivered through cloudfront to listeners all over the world",
    "start": "284720",
    "end": "289840"
  },
  {
    "text": "we give creators the ability to distribute their content everywhere and to monetize thanks to the dynamic",
    "start": "289840",
    "end": "295040"
  },
  {
    "text": "administration into podcast episodes that may seem straightforward but",
    "start": "295040",
    "end": "300560"
  },
  {
    "text": "there's actually more than meets the eye first and foremost because the main peculiarity of the podcast industry is",
    "start": "300560",
    "end": "306240"
  },
  {
    "text": "that a podcast episode can be distributed and listened to across a wide range of platforms we have sprinker",
    "start": "306240",
    "end": "312639"
  },
  {
    "text": "itself but we also have amazon music apple podcast spotify and so on",
    "start": "312639",
    "end": "318320"
  },
  {
    "text": "so while this is great for the creators because it gives them the opportunity to reach a very wide audience at the same",
    "start": "318320",
    "end": "323919"
  },
  {
    "text": "time it creates a challenge for the hosting platform when it comes to delivering this contents",
    "start": "323919",
    "end": "328960"
  },
  {
    "text": "we don't have any control on the listening application so we have to figure out a way to deliver dynamically",
    "start": "328960",
    "end": "334639"
  },
  {
    "text": "inserted audio advertising without relying on the client doing anything about downloading a single file over",
    "start": "334639",
    "end": "340800"
  },
  {
    "text": "http our solution to the problem as represented in the next slide",
    "start": "340800",
    "end": "346880"
  },
  {
    "text": "is an http based broadcast delivery network with dynamic ad insertion happening on the server side",
    "start": "346880",
    "end": "353759"
  },
  {
    "text": "as i was saying before because we cannot manipulate the audio on the client the only solution is to deliver a",
    "start": "353759",
    "end": "359280"
  },
  {
    "text": "dynamically built audio stream containing both the original episode and the right advertising stitcher together",
    "start": "359280",
    "end": "366080"
  },
  {
    "text": "let's make a practical example what happens when you ask alex cycle to",
    "start": "366080",
    "end": "371199"
  },
  {
    "text": "listen to the latest episode of your favorite podcast well first of all",
    "start": "371199",
    "end": "376319"
  },
  {
    "text": "echo sends an http request to our download api that based on the content metadata",
    "start": "376319",
    "end": "382000"
  },
  {
    "text": "like the podcast category or tags and the listener information for example the ip address and user agent",
    "start": "382000",
    "end": "388880"
  },
  {
    "text": "create a target for comfortable advertising to be inserted into the episode let's say that the listener is in",
    "start": "388880",
    "end": "394880"
  },
  {
    "text": "america and the podcast is about technology the platform may look into technology related advertising in",
    "start": "394880",
    "end": "400560"
  },
  {
    "text": "english from advertisers to the united states once we collect this information the",
    "start": "400560",
    "end": "406319"
  },
  {
    "text": "client is then redirected to another service that we call the stitching api that is responsible for the actual",
    "start": "406319",
    "end": "412560"
  },
  {
    "text": "building and delivery of the dynamically generated audio stream this stream could be composed for",
    "start": "412560",
    "end": "418080"
  },
  {
    "text": "example by an ad followed by a few minutes of the episode then another ad and then the rest of the episode",
    "start": "418080",
    "end": "424479"
  },
  {
    "text": "all of this is done in real time without having the need to use a previously assembled stream",
    "start": "424479",
    "end": "429680"
  },
  {
    "text": "so at this stage echo is already playing the stream for you but there is one more thing we have to do that is tracking the",
    "start": "429680",
    "end": "436160"
  },
  {
    "text": "actual delivery of the ad to the client now this is what manuela will cover in",
    "start": "436160",
    "end": "441199"
  },
  {
    "text": "the second part of the session but to oversimplify it we can say that we need to track every time an ad has been",
    "start": "441199",
    "end": "447120"
  },
  {
    "text": "successfully transferred to the client in order to signal the advertiser that an impression took place and to",
    "start": "447120",
    "end": "453840"
  },
  {
    "text": "attribute the revenue to the content creator so i guess now you may want to ask yourself",
    "start": "453840",
    "end": "460479"
  },
  {
    "text": "why am i talking about podcast delivery in a presentation about serverless and the vendor event",
    "start": "460479",
    "end": "465680"
  },
  {
    "text": "well the answer is very simple we are here to share our experience on building serverless event-driven",
    "start": "465680",
    "end": "471360"
  },
  {
    "text": "applications in the real world not only for new products but also to evolve a core product of your business because",
    "start": "471360",
    "end": "477599"
  },
  {
    "text": "you need to scale or because the industry is changing or to use costs and so on",
    "start": "477599",
    "end": "483520"
  },
  {
    "text": "and this is exactly what happened with the podcast liver network and the next slide we're going to cover how the",
    "start": "483520",
    "end": "489280"
  },
  {
    "text": "platform looked like a year ago so after building",
    "start": "489280",
    "end": "494560"
  },
  {
    "text": "and growing this platform for a few years we have to face that in order to keep growing in an industry where site",
    "start": "494560",
    "end": "500400"
  },
  {
    "text": "is basically doubling every year we need to radically change the way we approach the problem",
    "start": "500400",
    "end": "505680"
  },
  {
    "text": "but what were the issues with this approach well first of all parts of the platform were tightly coupled with the hosting services",
    "start": "505680",
    "end": "512719"
  },
  {
    "text": "for example let's say that a front-end developer was changing some css on the springer website",
    "start": "512719",
    "end": "518159"
  },
  {
    "text": "that release could potentially impact also the download api which purpose is completely different that's to take care",
    "start": "518159",
    "end": "524320"
  },
  {
    "text": "of podcast delivery this tightly coupling was also forcing some self to service communication to",
    "start": "524320",
    "end": "530720"
  },
  {
    "text": "happen across aws regions because the austin platform was in europe together with download api and",
    "start": "530720",
    "end": "536560"
  },
  {
    "text": "the tracking services but the stitching api was both in europe and us in order to be in the same region",
    "start": "536560",
    "end": "542560"
  },
  {
    "text": "where the audio file are stored we also had multiple data storages with",
    "start": "542560",
    "end": "547839"
  },
  {
    "text": "different scaling needs and techniques so as s3 puzzles and radius",
    "start": "547839",
    "end": "554720"
  },
  {
    "text": "the usage of serverless and managed services was very limited and so the rest of the architecture was tricky to",
    "start": "554720",
    "end": "560480"
  },
  {
    "text": "scale up and down without your intervention plus everything was deployed in the same aws",
    "start": "560480",
    "end": "567040"
  },
  {
    "text": "account creating obvious risks when it comes to workload security isolation and",
    "start": "567040",
    "end": "572080"
  },
  {
    "text": "reduction of the blaster radius if something goes wrong so what what did we do well we sat down",
    "start": "572080",
    "end": "578399"
  },
  {
    "text": "together virtually and with the help of our aws support team we drafted the new",
    "start": "578399",
    "end": "583440"
  },
  {
    "text": "architecture we evaluated the costs and in this slide uh we show what we",
    "start": "583440",
    "end": "588800"
  },
  {
    "text": "came up with we wanted to decouple the download api and the tracking service from the",
    "start": "588800",
    "end": "595200"
  },
  {
    "text": "hosting platform and have them running on lambda we want to have a single storage s3",
    "start": "595200",
    "end": "601680"
  },
  {
    "text": "to use also to be used also as a key value store for data that you would normally have",
    "start": "601680",
    "end": "607519"
  },
  {
    "text": "into a relational database we want to be able to spawn a copy of",
    "start": "607519",
    "end": "612640"
  },
  {
    "text": "the platform into an arbitrary number of regions completely from each other and we want all of this to happen in a",
    "start": "612640",
    "end": "619600"
  },
  {
    "text": "new dedicated aws account so as i mentioned this was last year",
    "start": "619600",
    "end": "625760"
  },
  {
    "text": "so just fast forward to today and let me talk to you about the outcomes first and foremost",
    "start": "625760",
    "end": "632480"
  },
  {
    "text": "our architecture has been successful because we built the platform as we intended that we have been running at scale in",
    "start": "632480",
    "end": "638720"
  },
  {
    "text": "production for four months and our life significantly improved the total cost of ownership",
    "start": "638720",
    "end": "645279"
  },
  {
    "text": "was dramatically reduced with the same performances and the operating costs",
    "start": "645279",
    "end": "650800"
  },
  {
    "text": "we now have the ability to scale the platform to at least 10x the traffic we are sustaining right",
    "start": "650800",
    "end": "656560"
  },
  {
    "text": "now and choosing yestery as our only storage gave us high availability scalability",
    "start": "656560",
    "end": "664320"
  },
  {
    "text": "multi-regional support life cycle rules and the ability to build event driven workloads",
    "start": "664320",
    "end": "670480"
  },
  {
    "text": "last but not the least the attack team was and it still is a two pizza team even though the pisa to",
    "start": "670480",
    "end": "677120"
  },
  {
    "text": "humans ratio works a little bit different with italians and is able to efficiently develop and",
    "start": "677120",
    "end": "682399"
  },
  {
    "text": "manage a global scale podcast delivery operation i want to now pass the button to",
    "start": "682399",
    "end": "688000"
  },
  {
    "text": "emmanuelle that will cover the details of our event-driven approach to develop a tracking service",
    "start": "688000",
    "end": "694560"
  },
  {
    "start": "694000",
    "end": "1920000"
  },
  {
    "text": "hello everyone i'm manuel engineering manager and speaker for my art and one of the teams that i",
    "start": "694720",
    "end": "701839"
  },
  {
    "text": "currently managing is the art tech team and that's why i'm i'm here today in the first part rocco gave you the big",
    "start": "701839",
    "end": "708399"
  },
  {
    "text": "picture of what we did and uh i'm here today a bit deeper to explain better the advantages of using an avenue in",
    "start": "708399",
    "end": "714720"
  },
  {
    "text": "architecture in our context we will do this looking at a specific core feature",
    "start": "714720",
    "end": "719760"
  },
  {
    "text": "of our platform that was already anticipated by rocco that is the ads tracking service",
    "start": "719760",
    "end": "725519"
  },
  {
    "text": "the main goal of our podcast delivery network is to serve media as fast as possible to our users in a reliable way",
    "start": "725519",
    "end": "733600"
  },
  {
    "text": "keep in mind that we deliver mainly dynamic media with stitch dots when we designed this component we",
    "start": "733600",
    "end": "739440"
  },
  {
    "text": "started from some simple core principles there are this one we want to traverse",
    "start": "739440",
    "end": "746160"
  },
  {
    "text": "the odd path only when it's necessary so a single compliment combination of a",
    "start": "746160",
    "end": "751920"
  },
  {
    "text": "podcast episode and a specific ad should be cached as much as possible to make",
    "start": "751920",
    "end": "757120"
  },
  {
    "text": "sure that we're not generating again and again and again the same data stream we want to minimize the impact of every",
    "start": "757120",
    "end": "764720"
  },
  {
    "text": "other computation that is not necessary for the delivering experience now",
    "start": "764720",
    "end": "770560"
  },
  {
    "text": "leveraging media mobility through our old stack it is pretty simple to understand that just by putting a cloud",
    "start": "770560",
    "end": "778000"
  },
  {
    "text": "front distribution in front of our stitching api and crafting immutable ids for the stitch of media we can achieve",
    "start": "778000",
    "end": "784959"
  },
  {
    "text": "this goal the problem with this approach is that we still need to track when ads are",
    "start": "784959",
    "end": "790320"
  },
  {
    "text": "downloaded on a third party system to make sure that we can attribute revenue correctly to our content creators",
    "start": "790320",
    "end": "797839"
  },
  {
    "text": "something that is pretty straightforward to do if you always eat the origin",
    "start": "797839",
    "end": "803200"
  },
  {
    "text": "requires a little bit of creativity when 90 of the time the users are just",
    "start": "803200",
    "end": "808240"
  },
  {
    "text": "pulling bytes from a media variant in a cloud from distribution that's where aws event come to the",
    "start": "808240",
    "end": "814320"
  },
  {
    "text": "rescue so we configured the cloud from distribution to drop access logs on an",
    "start": "814320",
    "end": "819680"
  },
  {
    "text": "s3 bucket we then leverage the fact that we can subscribe to file creation events in s3 and start doing some work from",
    "start": "819680",
    "end": "826800"
  },
  {
    "text": "there in a missing fashion in the next slide we can zoom in a bit uh and see how we kick start different",
    "start": "826800",
    "end": "833760"
  },
  {
    "text": "computations from logs drop in s3 buckets keep in mind that we have more but these are just two two examples",
    "start": "833760",
    "end": "841360"
  },
  {
    "text": "we use the combination of sns and sqs to start several workflows the",
    "start": "841360",
    "end": "847440"
  },
  {
    "text": "first one that you can see is a workflow to enrich and archive the",
    "start": "847440",
    "end": "852560"
  },
  {
    "text": "logs with our domain specific data and this one was particularly useful to",
    "start": "852560",
    "end": "858959"
  },
  {
    "text": "provide specific access to some of our enterprise customers for auditing and reporting purposes",
    "start": "858959",
    "end": "865519"
  },
  {
    "text": "we implemented then another flow to actually keep track of the downloaded ads that must be reported back to third",
    "start": "865519",
    "end": "871360"
  },
  {
    "text": "party system in order to have revenues correctly attributed",
    "start": "871360",
    "end": "876399"
  },
  {
    "text": "it is important to note here this is a little technical detail that the presence of sns is necessary to do",
    "start": "876399",
    "end": "883760"
  },
  {
    "text": "the fan out from a single 11 to multiple queues let's now skip to the next slide and",
    "start": "883760",
    "end": "889279"
  },
  {
    "text": "take a look on how implemented the process log service again we are",
    "start": "889279",
    "end": "896000"
  },
  {
    "text": "small a lot of small things doing different things together we're looking at one process and two recoupled",
    "start": "896000",
    "end": "902399"
  },
  {
    "text": "surfaces once again on the left you can see the log processing service",
    "start": "902399",
    "end": "908399"
  },
  {
    "text": "where we keep track of the downloaded byte ranges we understand the context of the",
    "start": "908399",
    "end": "914240"
  },
  {
    "text": "download for for extracting attribution information and we decide if an ad should be tracked",
    "start": "914240",
    "end": "920399"
  },
  {
    "text": "or not if that must be tracked with impossible to the next step",
    "start": "920399",
    "end": "925440"
  },
  {
    "text": "the truck impression service on the right it is just response responsible",
    "start": "925440",
    "end": "930480"
  },
  {
    "text": "for invoking tracking urls and third-party system that will then actually attribute the revenues",
    "start": "930480",
    "end": "936160"
  },
  {
    "text": "correctly word to notice here that we never directly hold one lambda",
    "start": "936160",
    "end": "941680"
  },
  {
    "text": "from another lambda but we always put an sqsq in the middle these give us some nice advantages if we",
    "start": "941680",
    "end": "949120"
  },
  {
    "text": "keep the execution of the lambdas important the first one is robustness against temporary uh unavailability we",
    "start": "949120",
    "end": "956720"
  },
  {
    "text": "can arbitrarily increase resilience tuning retries and visibility amount the second big one is that the fact that",
    "start": "956720",
    "end": "964240"
  },
  {
    "text": "we don't lose data when something fails nothing is lost it just goes in the that",
    "start": "964240",
    "end": "969519"
  },
  {
    "text": "letter q if configured correctly obviously and then we can add simple monitoring",
    "start": "969519",
    "end": "975360"
  },
  {
    "text": "and alerting just looking at the presence of messages in the dead letter q",
    "start": "975360",
    "end": "980480"
  },
  {
    "text": "and the last but not least is the simplified recovery from failure in case",
    "start": "980480",
    "end": "985600"
  },
  {
    "text": "of failure we can always redrive the dead letter q without losing anything",
    "start": "985600",
    "end": "990880"
  },
  {
    "text": "but this is very like good in theory but let me give you an example of a scenario that actually happened to us",
    "start": "990880",
    "end": "997839"
  },
  {
    "text": "uh real life obviously after the first release in production during the night",
    "start": "997839",
    "end": "1003360"
  },
  {
    "text": "because it never happens during the day the truck impression service started to fail",
    "start": "1003360",
    "end": "1008480"
  },
  {
    "text": "now when these happen it basically means that we're losing money because and not not tracked",
    "start": "1008480",
    "end": "1014320"
  },
  {
    "text": "is another doesn't get paid thanks to the fact that the whole process log workflow is not in the hot",
    "start": "1014320",
    "end": "1020399"
  },
  {
    "text": "pot the user experience from listeners were never impacted so people listening through",
    "start": "1020399",
    "end": "1026480"
  },
  {
    "text": "amazon echo through spotify to apple podcast they didn't notice anything but still we know that if we don't track",
    "start": "1026480",
    "end": "1033360"
  },
  {
    "text": "the impression we lose money uh the dead letter q started to get messages and triggered an alert",
    "start": "1033360",
    "end": "1040400"
  },
  {
    "text": "we were paged during the night and we started working on a solution without the stress or losing data and",
    "start": "1040400",
    "end": "1045918"
  },
  {
    "text": "this is very important when you work on on outfix we tested and then released an outfix",
    "start": "1045919",
    "end": "1053039"
  },
  {
    "text": "after the the release that that letter q stopped growing and that confirmed that the the objects",
    "start": "1053039",
    "end": "1058720"
  },
  {
    "text": "actually worked we then proceeded to redrive the dead letter queue and all the messages got",
    "start": "1058720",
    "end": "1064880"
  },
  {
    "text": "processed correctly at the end of the incident no user was affected listeners another single",
    "start": "1064880",
    "end": "1071200"
  },
  {
    "text": "impression was lost what do we want to to highlight here that when we when we",
    "start": "1071200",
    "end": "1077520"
  },
  {
    "text": "develop core figures around revenues especially we always try to design around failure modes so",
    "start": "1077520",
    "end": "1085440"
  },
  {
    "text": "um decoupling services with a hue keeping the consumer of the hue with",
    "start": "1085440",
    "end": "1092160"
  },
  {
    "text": "important monitor the status of the letter q are in general simple guidelines that",
    "start": "1092160",
    "end": "1098080"
  },
  {
    "text": "can save you from really bad surprises the next thing you want to do is look for cost",
    "start": "1098080",
    "end": "1104559"
  },
  {
    "text": "optimization opportunities and in the next slide we can see how you can do it",
    "start": "1104559",
    "end": "1111120"
  },
  {
    "text": "uh always in the context of uh of this process sqs",
    "start": "1111120",
    "end": "1116799"
  },
  {
    "text": "is not only good to the coupled services another important advantage",
    "start": "1116799",
    "end": "1122480"
  },
  {
    "text": "is the possibility to reduce costs thanks to batching",
    "start": "1122480",
    "end": "1128240"
  },
  {
    "text": "on the producer side we can send more messages at once to reduce execution",
    "start": "1128240",
    "end": "1134320"
  },
  {
    "text": "time from producer lambdas and associated lambda cost",
    "start": "1134320",
    "end": "1139440"
  },
  {
    "text": "on the good summit side we have received more messages at once to reduce the number of invocation of consumer lambdas",
    "start": "1139440",
    "end": "1146880"
  },
  {
    "text": "and the associated costs one of the best thing about serverless application in my opinion is",
    "start": "1146880",
    "end": "1153840"
  },
  {
    "text": "the complete shift from reliability issues into into cost",
    "start": "1153840",
    "end": "1159200"
  },
  {
    "text": "optimization issues thanks to the psgo model in general you can start simple",
    "start": "1159200",
    "end": "1164960"
  },
  {
    "text": "knowing that the service will scale and when you see that the costs are getting",
    "start": "1164960",
    "end": "1170720"
  },
  {
    "text": "higher you can iterate on cost optimization issues",
    "start": "1170720",
    "end": "1176640"
  },
  {
    "text": "in our experience this is where the the aws support really shines i mean we",
    "start": "1176640",
    "end": "1182080"
  },
  {
    "text": "we have with them regular checkpoints with a team to review our spending and in particular we found a lot of",
    "start": "1182080",
    "end": "1188720"
  },
  {
    "text": "value in architectural reviews with solution architects to understand how to take whole cost optimization",
    "start": "1188720",
    "end": "1196000"
  },
  {
    "text": "uh before i move to the to the next slide this is there any question rob",
    "start": "1196000",
    "end": "1203520"
  },
  {
    "text": "hey man thanks and uh thanks rocco also as well for all the information provided so far really interesting stuff on how",
    "start": "1203520",
    "end": "1209200"
  },
  {
    "text": "your journey kind of made and so i appreciate that so far did have a question that just came in from the",
    "start": "1209200",
    "end": "1214400"
  },
  {
    "text": "audience from jib jab 06 and they wanted to know manually specifically about you're just speaking",
    "start": "1214400",
    "end": "1220080"
  },
  {
    "text": "of on the lambdas uh why don't you call one lambda from another lambda",
    "start": "1220080",
    "end": "1225440"
  },
  {
    "text": "calling what lambda for another lambda i mean is uh is fine you can obviously do it",
    "start": "1225440",
    "end": "1232880"
  },
  {
    "text": "the the thing is that you are then coupled i mean the thing is that the first lambda depends on the second",
    "start": "1232880",
    "end": "1238960"
  },
  {
    "text": "lambda directly so as i was saying uh leveraging uh",
    "start": "1238960",
    "end": "1244720"
  },
  {
    "text": "thanks to sqs you are leveraging like retries and you can use the dead letter q you can add very simplified monitoring",
    "start": "1244720",
    "end": "1252080"
  },
  {
    "text": "and obviously if you need to do a sync operation because you need the result of that operation",
    "start": "1252080",
    "end": "1257520"
  },
  {
    "text": "that's perfectly fine to do but if you don't need that it's better not to do it",
    "start": "1257520",
    "end": "1262880"
  },
  {
    "text": "because you can really increase the reliability of your service",
    "start": "1262880",
    "end": "1268640"
  },
  {
    "text": "great yeah thanks information like you said especially if you're trying to build something that is decoupled having one depend directly on the other",
    "start": "1268720",
    "end": "1274159"
  },
  {
    "text": "probably not the best practice for you yeah so the the other thing is that i mean most",
    "start": "1274159",
    "end": "1279679"
  },
  {
    "text": "of the time when you try to decouple in that way you're not really the coupling you're usually moving the codes",
    "start": "1279679",
    "end": "1285840"
  },
  {
    "text": "into two different lambdas and you can execute it directly in the first one because it's fake the coupling but",
    "start": "1285840",
    "end": "1293600"
  },
  {
    "text": "this is a this is an unpopular take probably no i appreciate the information",
    "start": "1293600",
    "end": "1299280"
  },
  {
    "text": "obviously there on it is true right if you're trying to build something i definitely thought it was interesting the way you're talking about you know using sqs and stuff and snss's fan out",
    "start": "1299280",
    "end": "1306000"
  },
  {
    "text": "methods to be able to deliver these and like i said get that distribution and thanks for sharing the uh",
    "start": "1306000",
    "end": "1312320"
  },
  {
    "text": "the little horror story on but luckily with the dead letter q and the bug fix be able to uh get that back",
    "start": "1312320",
    "end": "1318640"
  },
  {
    "text": "working and be able to you know recover everything so i'll let you continue on here through the rest of your slides and i appreciate",
    "start": "1318640",
    "end": "1324720"
  },
  {
    "text": "the information so far okay i mean the the horror stories are",
    "start": "1324720",
    "end": "1329919"
  },
  {
    "text": "everybody as our story stories the important thing is that you can put an happy ending to it uh but let's let's see what we",
    "start": "1329919",
    "end": "1337679"
  },
  {
    "text": "what we saw and summarize a little bit the key points that we covered during the overview of this process",
    "start": "1337679",
    "end": "1344559"
  },
  {
    "text": "we saw we uh with a couple of services from the listener user",
    "start": "1344559",
    "end": "1349600"
  },
  {
    "text": "experience this is very important you have a valuable path for the user experience you want to decouple",
    "start": "1349600",
    "end": "1355760"
  },
  {
    "text": "everything else that is not strictly related um we saw how to kick start services",
    "start": "1355760",
    "end": "1362240"
  },
  {
    "text": "thanks to clown cloudfront delivering events uh dropping logs on s3 and",
    "start": "1362240",
    "end": "1367760"
  },
  {
    "text": "leveraging the events we saw out when the failures and simplify data recovery in a very critical service thanks to sqs",
    "start": "1367760",
    "end": "1374240"
  },
  {
    "text": "retries in that letter q we saw how to optimize cost sending and",
    "start": "1374240",
    "end": "1380000"
  },
  {
    "text": "receiving sqs messages in uh in batches",
    "start": "1380000",
    "end": "1385310"
  },
  {
    "text": "[Music] before giving the microphone back to rocco i want to talk about another big",
    "start": "1385310",
    "end": "1391679"
  },
  {
    "text": "advantage of embracing serverless evan driven architectural pattern",
    "start": "1391679",
    "end": "1396960"
  },
  {
    "text": "as you may imagine in our programmatic marketplace we collect and serve hundreds of thousands of different ads",
    "start": "1396960",
    "end": "1403600"
  },
  {
    "text": "every month and lately one of the big problems that we have is in the context of ad categorization sometimes ads are coming",
    "start": "1403600",
    "end": "1411440"
  },
  {
    "text": "from marketplace and can be miscategorized by mistake i mean at the",
    "start": "1411440",
    "end": "1416799"
  },
  {
    "text": "end of the days when there's someone human doing uh a process there's",
    "start": "1416799",
    "end": "1421840"
  },
  {
    "text": "a nice chance that there's gonna be some mistake since we gave our podcaster the possibility to disable certain ad",
    "start": "1421840",
    "end": "1428159"
  },
  {
    "text": "categories you can understand how bad is to hear and add that you don't really want to be",
    "start": "1428159",
    "end": "1434400"
  },
  {
    "text": "associated with your content and let me give you an example imagine that you have a podcast that",
    "start": "1434400",
    "end": "1439760"
  },
  {
    "text": "talks about fighting climate change and you get an aisle from an oil and gas",
    "start": "1439760",
    "end": "1444960"
  },
  {
    "text": "company this is something something that we absolutely need to avoid you can exclude it you don't want the candle out",
    "start": "1444960",
    "end": "1451919"
  },
  {
    "text": "our business requirement was to add a transcription of all the ads to make",
    "start": "1451919",
    "end": "1457120"
  },
  {
    "text": "sure that we could have the possibility to do a full text search on ad content to track miscategorized",
    "start": "1457120",
    "end": "1464960"
  },
  {
    "text": "ads and have the ability to recategorize ads first manually and then with machine learning",
    "start": "1464960",
    "end": "1472159"
  },
  {
    "text": "techniques in minutes instead of weeks because when this happens you want to be fast",
    "start": "1472159",
    "end": "1477679"
  },
  {
    "text": "um and to make the request a little bit more challenging because who doesn't love a challenge uh all of these are to",
    "start": "1477679",
    "end": "1484559"
  },
  {
    "text": "be implemented in the phantom independently by another team and uh we wanted to have the first step",
    "start": "1484559",
    "end": "1491360"
  },
  {
    "text": "in production in a couple of weeks so what did we do",
    "start": "1491360",
    "end": "1496559"
  },
  {
    "text": "we analyzed a little bit the current architecture in search of the the correct spot to keep start the the",
    "start": "1496559",
    "end": "1502640"
  },
  {
    "text": "transcription process we excluded the ad server api that is the",
    "start": "1502640",
    "end": "1507760"
  },
  {
    "text": "component responsible to uh to give to be give back the odds given a",
    "start": "1507760",
    "end": "1514640"
  },
  {
    "text": "target and the stitching avi for the good old reason that we were talking about before these are in the real time",
    "start": "1514640",
    "end": "1521520"
  },
  {
    "text": "listening hot pot and we didn't want to add latencies and coupling with things that are not strictly related to the",
    "start": "1521520",
    "end": "1528000"
  },
  {
    "text": "listening experience we want to protect directly the the listening experience",
    "start": "1528000",
    "end": "1534000"
  },
  {
    "text": "um we decided to leverage the aws c7 system",
    "start": "1534000",
    "end": "1539039"
  },
  {
    "text": "once again and we noticed that we remember that okay we have a process to encode the",
    "start": "1539039",
    "end": "1545360"
  },
  {
    "text": "m add mp3 to match the the the codec settings that we have that",
    "start": "1545360",
    "end": "1552080"
  },
  {
    "text": "the episode has uh similar to what we did with the ad tracking we subscribed subscribe to an",
    "start": "1552080",
    "end": "1558480"
  },
  {
    "text": "s3 event as soon as an ad is encoded to start then the process they use",
    "start": "1558480",
    "end": "1564240"
  },
  {
    "text": "amazon prescribe to do the artwork for us we then expose the output of the describe the descriptors in a quick site",
    "start": "1564240",
    "end": "1571440"
  },
  {
    "text": "dashboard and made it accessible to our ad ops team uh",
    "start": "1571440",
    "end": "1577520"
  },
  {
    "text": "so to summarize uh what are the key points here around",
    "start": "1577520",
    "end": "1582640"
  },
  {
    "text": "haven't driven architecture we implemented actually a complex feature at scale",
    "start": "1582640",
    "end": "1589440"
  },
  {
    "text": "in a couple of weeks with a new team without changing anything of the",
    "start": "1589440",
    "end": "1595520"
  },
  {
    "text": "original architecture and without adding latency and complexity to our",
    "start": "1595520",
    "end": "1600559"
  },
  {
    "text": "core functionality uh before we move on with to a knife there",
    "start": "1600559",
    "end": "1606080"
  },
  {
    "text": "are questions i'm passing back the microphone to rocco for some final consideration if there are questions rob",
    "start": "1606080",
    "end": "1612559"
  },
  {
    "text": "you can go with questions",
    "start": "1612559",
    "end": "1615679"
  },
  {
    "text": "all right yeah we do have a question that came in from the audience from",
    "start": "1619039",
    "end": "1624120"
  },
  {
    "text": "tio310182 would you suggest s3 as a single storage for http api process and",
    "start": "1624120",
    "end": "1631039"
  },
  {
    "text": "uh what are the pros and cons you could highlight of you know doing so if you were table",
    "start": "1631039",
    "end": "1636640"
  },
  {
    "text": "either one of you want to cover that okay do you want to talk about that yes i'm",
    "start": "1638080",
    "end": "1644559"
  },
  {
    "text": "gonna i'm gonna take it no problem so the the unfortunate answer is as always it depends",
    "start": "1644559",
    "end": "1650000"
  },
  {
    "text": "because it always depends on your use case so in in our use case",
    "start": "1650000",
    "end": "1655039"
  },
  {
    "text": "the need was to have key value store that was able to expire objects",
    "start": "1655039",
    "end": "1661360"
  },
  {
    "text": "and that we can also use to easily build the uh event driven workflow",
    "start": "1661360",
    "end": "1666960"
  },
  {
    "text": "uh based on what was happening in the storage right so with uh with our traditional database",
    "start": "1666960",
    "end": "1673039"
  },
  {
    "text": "that what we were using before um adding removing object is very simple",
    "start": "1673039",
    "end": "1678559"
  },
  {
    "text": "but they typically lack mechanism for automatic exploration you have to also build your own",
    "start": "1678559",
    "end": "1685279"
  },
  {
    "text": "thing on top of it to to to have events that get triggered every",
    "start": "1685279",
    "end": "1690559"
  },
  {
    "text": "time things change other system like for example radius may be better suited for it",
    "start": "1690559",
    "end": "1697760"
  },
  {
    "text": "in general but in our case we had a lot of data to store in there",
    "start": "1697760",
    "end": "1703279"
  },
  {
    "text": "and so the cost of the memory that the system would have needed was was pretty",
    "start": "1703279",
    "end": "1709760"
  },
  {
    "text": "on the other end we did not have like a dramatically strict performance",
    "start": "1709760",
    "end": "1715760"
  },
  {
    "text": "requirements like i know one millisecond response time for that lookup",
    "start": "1715760",
    "end": "1721360"
  },
  {
    "text": "we could afford a few tens of milliseconds and you can achieve that with the sleeve",
    "start": "1721360",
    "end": "1726720"
  },
  {
    "text": "if you are dealing with it in the right way i mean connection pooling reuse and all of that",
    "start": "1726720",
    "end": "1732640"
  },
  {
    "text": "um having a tens of milliseconds response time from history is physical",
    "start": "1732640",
    "end": "1739279"
  },
  {
    "text": "and in our case it was exactly enough for what we needed and so it worked very well",
    "start": "1739279",
    "end": "1746000"
  },
  {
    "text": "there's another there's another thing like was talking about pooling and things like that as usually adjusting the store",
    "start": "1746000",
    "end": "1754240"
  },
  {
    "text": "only when you need it so being very careful like reviewing the",
    "start": "1754240",
    "end": "1759760"
  },
  {
    "text": "the process that you are implementing and another trick that we're using is actually if we want to check for the",
    "start": "1759760",
    "end": "1766000"
  },
  {
    "text": "presence of something you just use a head request to s3 that are usually",
    "start": "1766000",
    "end": "1772399"
  },
  {
    "text": "way faster than getting all the information back these are just like tricks but they may",
    "start": "1772399",
    "end": "1778000"
  },
  {
    "text": "be useful for for people that are trying to achieve the same",
    "start": "1778000",
    "end": "1783039"
  },
  {
    "text": "as fast as low is never is never a problem it depends on the context like one second one",
    "start": "1783360",
    "end": "1789360"
  },
  {
    "text": "second response can be fast in a context and one millisecond can be slow in another",
    "start": "1789360",
    "end": "1796240"
  },
  {
    "text": "yeah the other trick that is not related to twistery but in general one of the",
    "start": "1796240",
    "end": "1801760"
  },
  {
    "text": "foundational decisions that we took is to leverage mobility a lot",
    "start": "1801760",
    "end": "1807600"
  },
  {
    "text": "basically the platform everything is immutable and by definition it means that everything is cacheable for very long",
    "start": "1807600",
    "end": "1813600"
  },
  {
    "text": "time and that helps a lot because you reduce the rate in which you access your",
    "start": "1813600",
    "end": "1819039"
  },
  {
    "text": "storage and so it helps you know smoothing uh",
    "start": "1819039",
    "end": "1824240"
  },
  {
    "text": "and optimizing their performances great thanks for that info and",
    "start": "1824240",
    "end": "1830240"
  },
  {
    "text": "everything into considerations on you know why you all chose to use that the recommendations for it so appreciate that i also appreciate all the",
    "start": "1830240",
    "end": "1836159"
  },
  {
    "text": "information you shared you know about just kind of the different ways that you went about uh doctors in the you know timeline that you took in order to uh",
    "start": "1836159",
    "end": "1842799"
  },
  {
    "text": "move from your you know kind of older monolithic infrastructure into this event-driven and more flexible model for",
    "start": "1842799",
    "end": "1848799"
  },
  {
    "text": "you all uh rock i'll turn it back over to you i think for your last bits uh that you have and uh see if you have any",
    "start": "1848799",
    "end": "1854720"
  },
  {
    "text": "other questions when you wrap up there absolutely thank you rob well i have just one last slide",
    "start": "1854720",
    "end": "1861440"
  },
  {
    "text": "and uh so please me allow you know me to still to steal yet another couple of seconds so to wrap this up so the first",
    "start": "1861440",
    "end": "1869039"
  },
  {
    "text": "service we built with serverless technology was in 2015 so just a few months after lambda was released ga",
    "start": "1869039",
    "end": "1876320"
  },
  {
    "text": "as you can as you can imagine uh since then a lot has changed capabilities were added and we also",
    "start": "1876320",
    "end": "1883279"
  },
  {
    "text": "figured out the way around you know these different parting over detecting things and severus is now a foundational pillar",
    "start": "1883279",
    "end": "1890240"
  },
  {
    "text": "in our architectural decision making process so we like to consider ourselves a serverless first company now in 2022.",
    "start": "1890240",
    "end": "1898320"
  },
  {
    "text": "every time we have to build something we ask ourselves can we make it serverless and guess what most of the time the",
    "start": "1898320",
    "end": "1905120"
  },
  {
    "text": "answer is very very often yes so thank you very much to the attendees for",
    "start": "1905120",
    "end": "1910960"
  },
  {
    "text": "listening so far and to europe for giving up the opportunity to present our work on this stage",
    "start": "1910960",
    "end": "1917200"
  },
  {
    "text": "and we can go back to questions if there are any great appreciate it so no new questions",
    "start": "1917200",
    "end": "1922640"
  },
  {
    "start": "1920000",
    "end": "2095000"
  },
  {
    "text": "from the audience so audience if you do have any questions feel free to post them right now um rocking manuel i just want to talk a little bit you know about",
    "start": "1922640",
    "end": "1928640"
  },
  {
    "text": "kind of the past work that we've done together as far as while should really leverage uh uri that was the the big key",
    "start": "1928640",
    "end": "1934559"
  },
  {
    "text": "uh talking point right on the serverless infrastructure calls we had while you were going through this and still just",
    "start": "1934559",
    "end": "1940399"
  },
  {
    "text": "kind of continued on so uh you know it's just one of the things we try and do support to make sure you could be able",
    "start": "1940399",
    "end": "1945679"
  },
  {
    "text": "to uh leverage the service get questions from you know an actual serverless expert i'm certainly not that expert but",
    "start": "1945679",
    "end": "1952080"
  },
  {
    "text": "i'm glad that we are going to be able to come in and help to talk with you all about those things so i appreciate",
    "start": "1952080",
    "end": "1957760"
  },
  {
    "text": "you covering you know kind of how we were able to help you with getting some of this up and running um",
    "start": "1957760",
    "end": "1962960"
  },
  {
    "text": "and hopefully you know quickly and of course we always want to make sure that we're doing things at a very cost efficient manner because that's",
    "start": "1962960",
    "end": "1968799"
  },
  {
    "text": "something else tams love to do is make sure we do things well but inexpensive as well so",
    "start": "1968799",
    "end": "1974960"
  },
  {
    "text": "that's something that i actually want to stress again because i i i pass on to it and i was like yeah we have",
    "start": "1974960",
    "end": "1980640"
  },
  {
    "text": "architectural reviews we're talking about like monthly like monthly check with a lot of",
    "start": "1980640",
    "end": "1986720"
  },
  {
    "text": "insights uh and ideas how to to get around like bottlenecks",
    "start": "1986720",
    "end": "1992240"
  },
  {
    "text": "and uh like cost reduction opportunities and actually learning",
    "start": "1992240",
    "end": "1998320"
  },
  {
    "text": "learning from the from the aws support hopefully the aws support learning something from us",
    "start": "1998320",
    "end": "2004399"
  },
  {
    "text": "so it always felt like pretty pretty good and natural like like you would do it with a",
    "start": "2004399",
    "end": "2009679"
  },
  {
    "text": "with a teammate working on the same on the same project and that's super valuable",
    "start": "2009679",
    "end": "2015039"
  },
  {
    "text": "yeah and rob don't underestimate your work because you facilitated a lot of this so",
    "start": "2015039",
    "end": "2020799"
  },
  {
    "text": "i appreciate it so yeah definitely so uh it looks like that we don't have any other question in the audience so everyone today we took a",
    "start": "2020799",
    "end": "2027760"
  },
  {
    "text": "look at how um spreaker from iheart was able to use our aws serverless services",
    "start": "2027760",
    "end": "2033279"
  },
  {
    "text": "to go from monolithic to a event-driven architecture if there are any questions that i missed over there in the chat",
    "start": "2033279",
    "end": "2039120"
  },
  {
    "text": "window today or didn't get answered please feel free to post your questions on repost aws where one of our experts",
    "start": "2039120",
    "end": "2044559"
  },
  {
    "text": "can provide you with an answer for your question or it can become a topic of one of our future shows potentially so if",
    "start": "2044559",
    "end": "2050240"
  },
  {
    "text": "you have any feedback for us check that chat box on the right for the link to our survey or you can email us aws",
    "start": "2050240",
    "end": "2055679"
  },
  {
    "text": "supports you at amazon.com because we really do want to hear from you and let us know what else you would like to see on the show and so if you're interested",
    "start": "2055679",
    "end": "2062960"
  },
  {
    "text": "in learning more about spreaker don't forget to check out the links we shared previously about their products and career opportunities and don't forget to",
    "start": "2062960",
    "end": "2068878"
  },
  {
    "text": "join us next monday july 18th at 11 a.m pacific we'll be introducing you all to the aws resilience hub",
    "start": "2068879",
    "end": "2075040"
  },
  {
    "text": "thank you for joining us at aws supports you and happy cloud computing everyone",
    "start": "2075040",
    "end": "2080449"
  },
  {
    "text": "[Music]",
    "start": "2080449",
    "end": "2092040"
  },
  {
    "text": "you",
    "start": "2094560",
    "end": "2096639"
  }
]