[
  {
    "start": "0",
    "end": "60000"
  },
  {
    "text": "well hello everybody I'm glad you're here today this is a little bit of an",
    "start": "60",
    "end": "5130"
  },
  {
    "text": "experimental session so I promised on the on the invitation that there's going",
    "start": "5130",
    "end": "10620"
  },
  {
    "text": "to be no slides so I had to come up with a creative way of giving you the URL for the code for this if that's my desktop",
    "start": "10620",
    "end": "17039"
  },
  {
    "text": "wallpaper at the moment and my name up in there in big lights that's great so",
    "start": "17039",
    "end": "22410"
  },
  {
    "text": "what we're going to do today we're going to take a docker image and we're gonna",
    "start": "22410",
    "end": "27420"
  },
  {
    "text": "build it and then we're going to make it productionize and by that I mean we're going to push it into Amazon ECR we're",
    "start": "27420",
    "end": "35130"
  },
  {
    "text": "gonna build a sea icd pipeline and when we do updates we're gonna have that automatically rebuilt and then deployed",
    "start": "35130",
    "end": "42000"
  },
  {
    "text": "into our ETS cluster and none of this infrastructure exists at the moment so I",
    "start": "42000",
    "end": "48000"
  },
  {
    "text": "am praying to the demo gods that this is going to work so please pray for me",
    "start": "48000",
    "end": "54510"
  },
  {
    "text": "right now so let's get started I'm gonna take to the github page first of all so",
    "start": "54510",
    "end": "60989"
  },
  {
    "start": "60000",
    "end": "120000"
  },
  {
    "text": "I'm gonna show you what you can download after this session and have a play with",
    "start": "60989",
    "end": "66680"
  },
  {
    "text": "so on here there's a few requirements you're gonna need you're going to need an AWS account of course you're gonna",
    "start": "66680",
    "end": "73350"
  },
  {
    "text": "need the AWS command line interface installed the docker engine and get as",
    "start": "73350",
    "end": "79439"
  },
  {
    "text": "well because we're going to use some repositories to store our carried in",
    "start": "79439",
    "end": "84860"
  },
  {
    "text": "we're going to touch on a few topics here we're going to touch on using ETS which is our ec2 container service we're",
    "start": "84860",
    "end": "92520"
  },
  {
    "text": "going to use ECR which is our docker registry for want of a better phrase we're gonna use code commit forget but",
    "start": "92520",
    "end": "100380"
  },
  {
    "text": "it would be quite simple to switch this out so use github if you want it and then we're going to use code pipeline",
    "start": "100380",
    "end": "106439"
  },
  {
    "text": "and code build to bring all this together and actually build our docker image and push it into easier you could",
    "start": "106439",
    "end": "112680"
  },
  {
    "text": "also bring Jenkins to this if you want to get really fancy there's lots of ways of doing this and code pipeline worked",
    "start": "112680",
    "end": "118439"
  },
  {
    "text": "with a whole host of tools so there's a little bit of a high level diagram included in the documentation this is",
    "start": "118439",
    "end": "126990"
  },
  {
    "start": "120000",
    "end": "205000"
  },
  {
    "text": "about as far as my documentation gets with diagrams and pretty things like",
    "start": "126990",
    "end": "132000"
  },
  {
    "text": "that it took me hours so with this we've got a V PC now I've",
    "start": "132000",
    "end": "139140"
  },
  {
    "text": "cheated a little bit i've already deployed my V PC just through time constraints of doing this session in",
    "start": "139140",
    "end": "144930"
  },
  {
    "text": "this V PC we've got six subnets three public three private and they're spread",
    "start": "144930",
    "end": "151500"
  },
  {
    "text": "out across availability zone so we've got high availability when we build our cluster I'm only going to use two bits",
    "start": "151500",
    "end": "158400"
  },
  {
    "text": "of CloudFormation today because CloudFormation kind of masks what's actually happening in the background so I want you to actually see it so you can",
    "start": "158400",
    "end": "164489"
  },
  {
    "text": "understand it and then you can cloud for me after we're gonna cloud form first of",
    "start": "164489",
    "end": "169980"
  },
  {
    "text": "all a cluster and now with the advent of far gate being out where you don't have to actually bring ec2 instances I've got",
    "start": "169980",
    "end": "177510"
  },
  {
    "text": "my template split up so the first one creates this cluster in the eating - in",
    "start": "177510",
    "end": "184260"
  },
  {
    "text": "the AWS environment and then the second one I'm going to bring along is going to",
    "start": "184260",
    "end": "189569"
  },
  {
    "text": "add some ec2 hosts for us and tell them to join that cluster that we've just created that's the plan anyway so let's",
    "start": "189569",
    "end": "197670"
  },
  {
    "text": "get this peak done first let's get to a point where we've got this cluster up and running actually I'm not I'm gonna",
    "start": "197670",
    "end": "205590"
  },
  {
    "start": "205000",
    "end": "295000"
  },
  {
    "text": "show you I'm gonna show you something else first I'm gonna show you the container of pre-built just to show you that you can as a workflow go from",
    "start": "205590",
    "end": "212220"
  },
  {
    "text": "desktop all the way to production very very easily now yet again once once",
    "start": "212220",
    "end": "218820"
  },
  {
    "text": "again for brevity I've pre-built this image because otherwise it takes ages",
    "start": "218820",
    "end": "224370"
  },
  {
    "text": "downloading loader packages what we're going to deploy is a fun little app called OS j/s and it gives you like a",
    "start": "224370",
    "end": "231720"
  },
  {
    "text": "virtual operating system in a browser a little bit fun there's nothing really",
    "start": "231720",
    "end": "237000"
  },
  {
    "text": "fancy to it it's just really no jet it's very easy to build and then we're gonna",
    "start": "237000",
    "end": "242370"
  },
  {
    "text": "do an update later on we're going to add some more packages to it and you're gonna see how the CI CD pipeline actually gets this deployed well first",
    "start": "242370",
    "end": "249299"
  },
  {
    "text": "of all let me show you what it looks like and we're gonna we're gonna run it locally so it's not beginning for you",
    "start": "249299",
    "end": "254340"
  },
  {
    "text": "guys if you make a bit bigger let's make a bit bigger so I know it runs on port",
    "start": "254340",
    "end": "260970"
  },
  {
    "text": "8000 and just gonna run it like this cool helps you forgive me",
    "start": "260970",
    "end": "267150"
  },
  {
    "text": "containing doesn't it and I'm gonna use version 1 ooh",
    "start": "267150",
    "end": "273530"
  },
  {
    "text": "demo gods are not with me what have we",
    "start": "273530",
    "end": "279660"
  },
  {
    "text": "got I know what I was playing with this before so let's fix it's live if you",
    "start": "279660",
    "end": "284670"
  },
  {
    "text": "ever get this error quick bit of a docker PS it's already running so just",
    "start": "284670",
    "end": "291210"
  },
  {
    "text": "pretend that wrong command worked and we'll roll with it so if I go back to my browser I'm going to open up a a",
    "start": "291210",
    "end": "297080"
  },
  {
    "start": "295000",
    "end": "530000"
  },
  {
    "text": "localhost connection to port 8000 and on here we",
    "start": "297080",
    "end": "302400"
  },
  {
    "text": "have our virtual desktop OS Jas now I want you to pay particular example err",
    "start": "302400",
    "end": "309890"
  },
  {
    "text": "notice to this menu that's up in the top corner now BIG's up for you guys says let's see if we can zoom in probably not",
    "start": "309890",
    "end": "316560"
  },
  {
    "text": "so on here we've got graphics multimedia office system and utilities that's all",
    "start": "316560",
    "end": "322800"
  },
  {
    "text": "we've got remember that for later I'm gonna be doing a pop quiz somebody can can see",
    "start": "322800",
    "end": "328050"
  },
  {
    "text": "what's changed so this is what it looks like and as a developer I could run this on my laptop I could add things I could",
    "start": "328050",
    "end": "335370"
  },
  {
    "text": "fix things and I can play around locally so it's great for local development but",
    "start": "335370",
    "end": "340830"
  },
  {
    "text": "now it's ready to go into production what are we going to do well first of all let's let's pop back into our",
    "start": "340830",
    "end": "347460"
  },
  {
    "text": "example here and we're going to we're going to generate a repository and get",
    "start": "347460",
    "end": "352950"
  },
  {
    "text": "so I've got someone to store my docker file on my kit and my code in this",
    "start": "352950",
    "end": "358110"
  },
  {
    "text": "example here we have a nice bit that tells you how to generate your SSH key",
    "start": "358110",
    "end": "363480"
  },
  {
    "text": "and addict so I am so if you're doing this at home after this is how you set",
    "start": "363480",
    "end": "369870"
  },
  {
    "text": "up your code commit SSH keys we can scroll down a little bit here and just",
    "start": "369870",
    "end": "376620"
  },
  {
    "text": "take this command I'm going to create a brand new repository away and we're",
    "start": "376620",
    "end": "386640"
  },
  {
    "text": "going to create a repository called OS Jas I'm putting it in the EU west region so it's local to me and local to",
    "start": "386640",
    "end": "393930"
  },
  {
    "text": "where my cluster is going to be and I get this been Jason come out at the end so I've got my console setup to have",
    "start": "393930",
    "end": "399479"
  },
  {
    "text": "Jason and in there we've got things like a clone URL now this is quite important",
    "start": "399479",
    "end": "405029"
  },
  {
    "text": "I'm gonna need this so what I'm gonna do I'm gonna take this and at the moment",
    "start": "405029",
    "end": "410219"
  },
  {
    "text": "this is an empty repository so let's drop to a new window and make it bigger again and we're gonna do a git clone and",
    "start": "410219",
    "end": "419219"
  },
  {
    "text": "pull this repository down and wait for it to pull down here we go we've we've",
    "start": "419219",
    "end": "425789"
  },
  {
    "text": "cloned it empty repository so let's go into this into here and let's actually",
    "start": "425789",
    "end": "432389"
  },
  {
    "text": "add some code to it so I'm going to copy a file and I've got a la a rather large",
    "start": "432389",
    "end": "439129"
  },
  {
    "text": "path to type in there so just ignore my tardiness on how I organize my files",
    "start": "439129",
    "end": "444569"
  },
  {
    "text": "please and we're in version one so first",
    "start": "444569",
    "end": "456749"
  },
  {
    "text": "you want someone that I'm running on my laptop here and we have a docker file I'm actually gonna put it somewhere this",
    "start": "456749",
    "end": "463319"
  },
  {
    "text": "time so I put this in here and we've got docker file so let's have a quick look",
    "start": "463319",
    "end": "468899"
  },
  {
    "text": "at this docker file and see the contents of it it's quite a simple container if you have a look at it we're using the",
    "start": "468899",
    "end": "475349"
  },
  {
    "text": "latest debian upstream container I'm doing this app gets it's not",
    "start": "475349",
    "end": "480870"
  },
  {
    "text": "particularly efficient because I should be really going into that container and clearing up my app cache after this and",
    "start": "480870",
    "end": "486719"
  },
  {
    "text": "I'm putting some of those wrong commands on one line just so my image is a lot smaller so that's what you should be",
    "start": "486719",
    "end": "492899"
  },
  {
    "text": "doing and then right at the end we're just going to run the osj app when the",
    "start": "492899",
    "end": "497999"
  },
  {
    "text": "container starts so not a complex taça file for you to play about with so I'm",
    "start": "497999",
    "end": "504869"
  },
  {
    "text": "now going to add this into my repository and then I'm going to do a git and commits no I get git commit it's because",
    "start": "504869",
    "end": "514439"
  },
  {
    "text": "I really mean to do it and then we're gonna do a git push and",
    "start": "514439",
    "end": "522090"
  },
  {
    "text": "we're gonna push it up and once that goes up we'll have a quick look at the AWS console because it will now change",
    "start": "522090",
    "end": "529470"
  },
  {
    "text": "now creating my first repository so I'm gonna just show you in here what it looks like in code commit as it",
    "start": "529470",
    "end": "541050"
  },
  {
    "start": "530000",
    "end": "570000"
  },
  {
    "text": "refreshes so we've got this o SJS",
    "start": "541050",
    "end": "549500"
  },
  {
    "text": "repository now in code commit and this just basically contains my docker file we're going to put this to one side for",
    "start": "549500",
    "end": "555960"
  },
  {
    "text": "a second while we get some other bits and pieces ready well this is going to become really important as we make the",
    "start": "555960",
    "end": "561510"
  },
  {
    "text": "seriously new pipeline right let's have a look so we've run our docker container",
    "start": "561510",
    "end": "571350"
  },
  {
    "start": "570000",
    "end": "660000"
  },
  {
    "text": "locally already as you can see so we want to start preparing things and let's get in a cluster ready so let's pop on",
    "start": "571350",
    "end": "578190"
  },
  {
    "text": "here and let's get a cluster ready now when I create my clustering cloud",
    "start": "578190",
    "end": "583950"
  },
  {
    "text": "formation and the confirmation files are included in the github repository as well one thing to know is that I'm",
    "start": "583950",
    "end": "590339"
  },
  {
    "text": "automatically creating a public load balancer and the private load balancer",
    "start": "590339",
    "end": "595620"
  },
  {
    "text": "that's going to be connected to my cluster and that's because I use the same cloud information from quite a few demos so it's just really easy for me to",
    "start": "595620",
    "end": "602430"
  },
  {
    "text": "to keep it all in one and I was a bit lazy right so my Deb BPC if you remember",
    "start": "602430",
    "end": "609810"
  },
  {
    "text": "back to that diagram I've got those six subnets three in each availability zone three public three private we're going",
    "start": "609810",
    "end": "618030"
  },
  {
    "text": "to deploy our instances into the private subnet and our public load balancer into",
    "start": "618030",
    "end": "623040"
  },
  {
    "text": "the public one this is the way you should work all the time in public subnets you should only really poor low",
    "start": "623040",
    "end": "629760"
  },
  {
    "text": "balances or Bastion hosts anything else you put in there it's not hard to then",
    "start": "629760",
    "end": "635310"
  },
  {
    "text": "make a little mistake and open too many ports or give too much access to that machine so if you want to control your",
    "start": "635310",
    "end": "640800"
  },
  {
    "text": "security and have multiple layers in there so hardened from from the core out",
    "start": "640800",
    "end": "645810"
  },
  {
    "text": "think about your network topology as well use private subnets even separate private subnets from",
    "start": "645810",
    "end": "652050"
  },
  {
    "text": "the privates on this ElastiCache can have its own ODS can have its own set of subnets so think about your subnet",
    "start": "652050",
    "end": "657330"
  },
  {
    "text": "design when you're doing things like this right let's create a new stack and hope this is nice and fast if anybody",
    "start": "657330",
    "end": "665670"
  },
  {
    "start": "660000",
    "end": "780000"
  },
  {
    "text": "saw my demo yesterday I had a very happy moment when everything turned green so",
    "start": "665670",
    "end": "670950"
  },
  {
    "text": "hopefully we'll repeat that today so I'm going to not pick that one that's",
    "start": "670950",
    "end": "678360"
  },
  {
    "text": "yesterday's demo I'm gonna go in here and first of all I'm going to create my",
    "start": "678360",
    "end": "687269"
  },
  {
    "text": "cluster I'll show you what this does as well this is quite this is quite good fun this is going to create a cluster",
    "start": "687269",
    "end": "694920"
  },
  {
    "text": "with no instances in it and that now works because we've got Fargate as an option and Fargate you don't manage any",
    "start": "694920",
    "end": "702089"
  },
  {
    "text": "of those workers underneath you just give us a containing we run it we place it we scale it we make sure it's highly",
    "start": "702089",
    "end": "707279"
  },
  {
    "text": "available it's really quite useful for if you're doing some containers that",
    "start": "707279",
    "end": "714360"
  },
  {
    "text": "don't need anything special - wrong if you've got containers where you might need to do some tweaking on the host so",
    "start": "714360",
    "end": "719940"
  },
  {
    "text": "it's new limit so you want to do a kernel tweak bring an ec2 instance to it if you're not doing anything special use",
    "start": "719940",
    "end": "726570"
  },
  {
    "text": "Fargate it's far simpler and it lets you focus just on your application and your container and and have it run so let's",
    "start": "726570",
    "end": "734820"
  },
  {
    "text": "call this cluster and let's hit next and create the sam-i-am resources that get",
    "start": "734820",
    "end": "744510"
  },
  {
    "text": "created as well so when we create a Fargate cluster there's some housekeeping rules then we need to put",
    "start": "744510",
    "end": "749610"
  },
  {
    "text": "in for I am so the Fargate instances can actually reach out and pull images from",
    "start": "749610",
    "end": "755160"
  },
  {
    "text": "your ECR repository for example so creating progress is going to happen",
    "start": "755160",
    "end": "760560"
  },
  {
    "text": "here and we're going to we're going to keep refreshing and and hope I should really do this before I start talking I",
    "start": "760560",
    "end": "767070"
  },
  {
    "text": "always forget and talk first and then hit deploy so I have a few minutes of",
    "start": "767070",
    "end": "772949"
  },
  {
    "text": "heart attack on the stage waiting for this to happen so when this creates the",
    "start": "772949",
    "end": "778079"
  },
  {
    "text": "next thing I'm going to do and if we have a look here",
    "start": "778079",
    "end": "783110"
  },
  {
    "text": "this one okay so if we have a quick look",
    "start": "787860",
    "end": "793120"
  },
  {
    "text": "in the CloudFormation seating CloudFormation and we have a",
    "start": "793120",
    "end": "800260"
  },
  {
    "text": "look at the cluster one it's quite a simple CloudFormation template the main thing",
    "start": "800260",
    "end": "806170"
  },
  {
    "text": "on here is we've got the ECS cluster and the type cluster i've also gone in here",
    "start": "806170",
    "end": "812950"
  },
  {
    "text": "and given it some far gate security groups as well because like I say I like to use hybrid clusters you can bring 82",
    "start": "812950",
    "end": "819040"
  },
  {
    "text": "and Fargate concepts together because it's all managed through the same control plane for you so this is fairly",
    "start": "819040",
    "end": "826720"
  },
  {
    "text": "simple it's creating some low balances for as a public load balancer we're allowing some security groups through so",
    "start": "826720",
    "end": "832510"
  },
  {
    "text": "everything should work nicely the next one we're going to bring along is the",
    "start": "832510",
    "end": "838120"
  },
  {
    "text": "ETS hosts and this is going to go through and I found quite useful in here",
    "start": "838120",
    "end": "844690"
  },
  {
    "text": "that you can create Maps within cloud formation so you can put a.m. eyes in there I've included a note to wear the",
    "start": "844690",
    "end": "851590"
  },
  {
    "text": "latest AM eyes are so if you want to update those as they change for security please do we're doing a very similar",
    "start": "851590",
    "end": "859090"
  },
  {
    "text": "thing we are creating some new security groups but this time for my ECS hosts",
    "start": "859090",
    "end": "864610"
  },
  {
    "text": "and they're almost identical to the ones before and we're allowing access from the load balancers we've got some auto",
    "start": "864610",
    "end": "871030"
  },
  {
    "text": "scale values in here as well for another demo and then we have a launch configuration so this launch",
    "start": "871030",
    "end": "876670"
  },
  {
    "text": "configuration will go and actually build build my stack for me and install what I need to do the ECS agent for example and",
    "start": "876670",
    "end": "884320"
  },
  {
    "text": "the SMS agent on top we won't dig too much into that and we'll go back and",
    "start": "884320",
    "end": "890170"
  },
  {
    "text": "check our snack status yeah I like it",
    "start": "890170",
    "end": "895180"
  },
  {
    "text": "when things go green so let's stop the next one before I start talking too much",
    "start": "895180",
    "end": "900730"
  },
  {
    "start": "900000",
    "end": "1020000"
  },
  {
    "text": "again this is going to bring the ECS house I'm going to bring three EC Essos into this so three ec2 hosts one in each",
    "start": "900730",
    "end": "908590"
  },
  {
    "text": "availability zone in those private subnets",
    "start": "908590",
    "end": "912420"
  },
  {
    "text": "so hosts in here ECS cluster now I need to get that information because that",
    "start": "915500",
    "end": "921660"
  },
  {
    "text": "isn't in my template so within here if I",
    "start": "921660",
    "end": "926820"
  },
  {
    "text": "open this one in a new tab I've got a cluster name and this is what CloudFormation has just created for me",
    "start": "926820",
    "end": "933600"
  },
  {
    "text": "so I called it cluster you saw me type that in on the on the variable in the script it already says ETS cluster and",
    "start": "933600",
    "end": "940110"
  },
  {
    "text": "then that big long string of text and numbers after that's just saying",
    "start": "940110",
    "end": "945480"
  },
  {
    "text": "CloudFormation appends to to my cluster name and as you can see at the moment there's actually no there's no host",
    "start": "945480",
    "end": "953700"
  },
  {
    "text": "there's no container hosts in there as you can see that side of screen so this",
    "start": "953700",
    "end": "959370"
  },
  {
    "text": "is what we should be doing now and we're",
    "start": "959370",
    "end": "965010"
  },
  {
    "text": "going to go into dev and we're going to make them extra large instances mainly because I don't pay the bill for this",
    "start": "965010",
    "end": "971310"
  },
  {
    "text": "AWS account thank you Jeff so in here",
    "start": "971310",
    "end": "977940"
  },
  {
    "text": "I'm gonna go through and gonna acknowledge Here I am resources created again and the nice bit is that when I",
    "start": "977940",
    "end": "985110"
  },
  {
    "text": "tear this stack down it clears up those iron resources for me as well so this is going to start creating ec2 hosts for us",
    "start": "985110",
    "end": "990930"
  },
  {
    "text": "and we've got a cost already for prep I've got my docker container that's on my laptop I've got a little bit of it in",
    "start": "990930",
    "end": "997680"
  },
  {
    "text": "git but we need to them merge those together and make deployments happen so",
    "start": "997680",
    "end": "1002960"
  },
  {
    "text": "that'll be the next part of this when my house all come up and we can have a look at a little bit of the status in this if",
    "start": "1002960",
    "end": "1009290"
  },
  {
    "text": "we go into the ec2 part of the console we should see some instances spinning up",
    "start": "1009290",
    "end": "1014710"
  },
  {
    "text": "with any look oh no running instances",
    "start": "1014710",
    "end": "1020330"
  },
  {
    "text": "but have we got any being created come on cloud formation don't let me down",
    "start": "1020330",
    "end": "1026829"
  },
  {
    "text": "you do right we've got security groups created we have I am roles created we",
    "start": "1028270",
    "end": "1036069"
  },
  {
    "text": "just wait for the hosts let's see",
    "start": "1036070",
    "end": "1041459"
  },
  {
    "text": "chairman yourselves so as this comes up so I'll show you",
    "start": "1043560",
    "end": "1048850"
  },
  {
    "text": "what we're gonna do next as we as we move along here once the cluster has started we'll get a nice nice section",
    "start": "1048850",
    "end": "1056980"
  },
  {
    "text": "here that says everything's done what I'm then going to do is this is a little",
    "start": "1056980",
    "end": "1062920"
  },
  {
    "text": "bit about configuring a docker repository so we're going to do I'm",
    "start": "1062920",
    "end": "1068680"
  },
  {
    "text": "going to push my image that I've got on my laptop up to ECR first of all I'm gonna get an initial",
    "start": "1068680",
    "end": "1074770"
  },
  {
    "text": "image there and to do that you can use the normal docker tools but you need",
    "start": "1074770",
    "end": "1080140"
  },
  {
    "text": "your I am credentials so what you need to do is run this little command here and this will go away it will get your",
    "start": "1080140",
    "end": "1088150"
  },
  {
    "text": "temporary ion keys from STS and it will do a docker password for you so now my",
    "start": "1088150",
    "end": "1094630"
  },
  {
    "text": "docker toolkit has access to my ECR repositories it's pretty easy and if you",
    "start": "1094630",
    "end": "1099790"
  },
  {
    "text": "wrap it in those in the dollar sign and those brackets it makes it really really quick to go through as well so that's",
    "start": "1099790",
    "end": "1107170"
  },
  {
    "text": "ready for me there what I'm then going to do is I'm gonna go and create a repository for this so we'll do this",
    "start": "1107170",
    "end": "1113530"
  },
  {
    "start": "1110000",
    "end": "1200000"
  },
  {
    "text": "while we're waiting for my instances to come up let's see if they are as long as",
    "start": "1113530",
    "end": "1121180"
  },
  {
    "text": "that doesn't go red I'll be happy so let's go in here and let's go to",
    "start": "1121180",
    "end": "1127530"
  },
  {
    "text": "container service does this mean zooming in anymore by the way or can you all see it so good",
    "start": "1127530",
    "end": "1133980"
  },
  {
    "text": "so in repository this is where I put my my docker files I'm just going to delete",
    "start": "1133980",
    "end": "1139690"
  },
  {
    "text": "it because obviously didn't clean up when I was testing and I'm gonna create a repository pretend he wasn't here",
    "start": "1139690",
    "end": "1146710"
  },
  {
    "text": "before I'm gonna create a SJS repository and I'm gonna hit next step and you'll",
    "start": "1146710",
    "end": "1153100"
  },
  {
    "text": "actually get that command that I just put in to log in but I find wrapping it in those in those brackets just",
    "start": "1153100",
    "end": "1158940"
  },
  {
    "text": "simplifies it otherwise you have to copy and paste the output as a docking command which is a docker login command so it",
    "start": "1158940",
    "end": "1166150"
  },
  {
    "text": "just simplifies it now I've already built my docker file and I did that just because it takes a long time to pull",
    "start": "1166150",
    "end": "1171760"
  },
  {
    "text": "everything down but I now need to tag my my docker image and I need to tag it so",
    "start": "1171760",
    "end": "1178270"
  },
  {
    "text": "it's got the name of the repository I'm going to push it to very simple command",
    "start": "1178270",
    "end": "1183280"
  },
  {
    "text": "I'm using docker tools as standard here and we're going to hope my upload goes",
    "start": "1183280",
    "end": "1188770"
  },
  {
    "text": "well so what this is doing it's taking each layer of that docker image and it's",
    "start": "1188770",
    "end": "1194140"
  },
  {
    "text": "pushing it open it's storing in ECR folders so we'll have a look at this now",
    "start": "1194140",
    "end": "1199150"
  },
  {
    "text": "and let's have a look at cloud formations status as we're going along",
    "start": "1199150",
    "end": "1204660"
  },
  {
    "start": "1200000",
    "end": "1320000"
  },
  {
    "text": "we've got six more events so hopefully one of those who said she trained some ec2 instances for us yes great complete",
    "start": "1206140",
    "end": "1215340"
  },
  {
    "text": "so if we drop back here and I'm gonna say done on this because I don't need",
    "start": "1215340",
    "end": "1221170"
  },
  {
    "text": "that configuration information anymore and I go back to my cluster and wait for",
    "start": "1221170",
    "end": "1230410"
  },
  {
    "text": "it to refresh this is what happens when you start loading on a public Wi-Fi network a lot of data here we go show me",
    "start": "1230410",
    "end": "1243580"
  },
  {
    "text": "my cluster not show me the money and I've been a little bit of a flicked",
    "start": "1243580",
    "end": "1248830"
  },
  {
    "text": "round and hope the console comes back sighs what they should do if you remember before it said Fargate and easy",
    "start": "1248830",
    "end": "1255280"
  },
  {
    "text": "easy to underneath it should now say on there we've got three easy to house I'm",
    "start": "1255280",
    "end": "1261460"
  },
  {
    "text": "really keeping my fingers crossed that we have so I'm gonna go and have a look quickly in the ec2 console everything's",
    "start": "1261460",
    "end": "1273610"
  },
  {
    "text": "slowing down I don't like that retrying as well",
    "start": "1273610",
    "end": "1280320"
  },
  {
    "text": "we might be using CI CD all the way guys",
    "start": "1281960",
    "end": "1286878"
  },
  {
    "text": "so that's how I can easy to quickly when",
    "start": "1288470",
    "end": "1294870"
  },
  {
    "text": "the internet goes slow it's just what we need anyone got a",
    "start": "1294870",
    "end": "1300210"
  },
  {
    "text": "mobile hotspot",
    "start": "1300210",
    "end": "1302990"
  },
  {
    "text": "they're with me you can have a look at the pretty desktop as we're waiting it's",
    "start": "1307320",
    "end": "1312480"
  },
  {
    "text": "quite cool we can draw some some graphics on here so we can go in and draw squares just what you've always",
    "start": "1312480",
    "end": "1319320"
  },
  {
    "text": "wanted to do in your browser the",
    "start": "1319320",
    "end": "1330240"
  },
  {
    "start": "1320000",
    "end": "1440000"
  },
  {
    "text": "Internet is failing me let's try switching Wi-Fi networks here let's join your network and see if it",
    "start": "1330240",
    "end": "1336360"
  },
  {
    "text": "works any better way nobody uses the",
    "start": "1336360",
    "end": "1344670"
  },
  {
    "text": "internet everybody switch your phones off laptop's down nobody do anything so",
    "start": "1344670",
    "end": "1351420"
  },
  {
    "text": "this is now pushing up let's go back here and hopefully now cluster",
    "start": "1351420",
    "end": "1357990"
  },
  {
    "text": "information will update as well but we are pushing a docker image up this is",
    "start": "1357990",
    "end": "1364860"
  },
  {
    "text": "good news for everybody here because you actually want to see it running on ECS don't you this is the problem we have no",
    "start": "1364860",
    "end": "1371430"
  },
  {
    "text": "slides you have to kind of ad-lib everything as you waiting for things to happen so I apologize to you all for",
    "start": "1371430",
    "end": "1379440"
  },
  {
    "text": "listening to my rambling at the moment here we go so well we're waiting for",
    "start": "1379440",
    "end": "1386250"
  },
  {
    "text": "this to happen just out of interest how many of you using docker in production at the moment good show of hands there's",
    "start": "1386250",
    "end": "1394500"
  },
  {
    "text": "a few of you not though so how many year considering using docker in production even more excellent it's great so",
    "start": "1394500",
    "end": "1403070"
  },
  {
    "text": "obviously Amazon Amazon Web Services has got ETS which is what we're demoing now",
    "start": "1403070",
    "end": "1408690"
  },
  {
    "text": "and Fargate mode which is a way of not running any instances and we've got eks",
    "start": "1408690",
    "end": "1414270"
  },
  {
    "text": "coming along as well which is our cuba Nettie's offer in late 2018 we're gonna",
    "start": "1414270",
    "end": "1419280"
  },
  {
    "text": "be having Fargate mode for eks as well and that will allow you to have a cuba Nettie's infrastructure without managing",
    "start": "1419280",
    "end": "1426000"
  },
  {
    "text": "any infrastructure sounds too good to be true please it's pretty awesome once you",
    "start": "1426000",
    "end": "1432150"
  },
  {
    "text": "get it running and it's all upstream open-source as well for eks so it follows and you can use all the tools we",
    "start": "1432150",
    "end": "1438780"
  },
  {
    "text": "use DS and show me my cluster come on look at that failed to list clusters this happened to",
    "start": "1438780",
    "end": "1447760"
  },
  {
    "start": "1440000",
    "end": "1560000"
  },
  {
    "text": "me the Li of the night we go look at this happened to me the other night I was doing a demo at the dev ops of",
    "start": "1447760",
    "end": "1455830"
  },
  {
    "text": "London exchange and that started updating Fargate in the background and",
    "start": "1455830",
    "end": "1461680"
  },
  {
    "text": "hadn't told me so my service discovery failed and I had to hack trow it live on on stage and that was a little bit",
    "start": "1461680",
    "end": "1468100"
  },
  {
    "text": "nerve-wracking because I didn't know whether the nodejs was gonna accept an IP address or try and resolve it and do",
    "start": "1468100",
    "end": "1473560"
  },
  {
    "text": "something stupid luckily the IP worked so right we've got three container instances this is good",
    "start": "1473560",
    "end": "1479470"
  },
  {
    "text": "we have a cluster we have a hybrid cluster we can run services in Fargate mode or we can run the minis he to mode",
    "start": "1479470",
    "end": "1485550"
  },
  {
    "text": "so what we're actually going to go and do now is create a task definition and I've actually got one here it should",
    "start": "1485550",
    "end": "1493510"
  },
  {
    "text": "probably be cleaned up Lester let's do it properly let's show you how all this is working we've got 20 minutes that's",
    "start": "1493510",
    "end": "1498610"
  },
  {
    "text": "good so in our task definition we'll go back to our instructions and we're going",
    "start": "1498610",
    "end": "1505960"
  },
  {
    "text": "to create an ec2 mode on here you could try if you wanted and felt felt like",
    "start": "1505960",
    "end": "1513070"
  },
  {
    "text": "experimenting try this in Fargate mode as well so at the end of this document it tells you playing Fargate mode if you",
    "start": "1513070",
    "end": "1519250"
  },
  {
    "text": "want we're going to create an easy to task in this case and our task is osj s",
    "start": "1519250",
    "end": "1525040"
  },
  {
    "text": "how we calling it that in my document OS chess desktop",
    "start": "1525040",
    "end": "1532680"
  },
  {
    "text": "Desktop and tasks roll I'm gonna pick my ETS task role for this because it's an",
    "start": "1534360",
    "end": "1540179"
  },
  {
    "text": "easy yes my network in I always tend to use a WSB PC and this is where the task",
    "start": "1540179",
    "end": "1545490"
  },
  {
    "text": "gets given a elastic network interface in your in your V PC so you've got a",
    "start": "1545490",
    "end": "1551610"
  },
  {
    "text": "real IP address that you can read to from within the container platform and from external which is great we're not",
    "start": "1551610",
    "end": "1560850"
  },
  {
    "start": "1560000",
    "end": "1620000"
  },
  {
    "text": "going to put any execution rolls in I'm just gonna limit this to 0 4 and let's",
    "start": "1560850",
    "end": "1567299"
  },
  {
    "text": "go for 1 CPU as well so we'll go in here we're now going to add our container",
    "start": "1567299",
    "end": "1572700"
  },
  {
    "text": "definition so this is OS GS desktop as well and the image is hopefully uploaded",
    "start": "1572700",
    "end": "1584309"
  },
  {
    "text": "yeah look at that good timing as well so here we've got my",
    "start": "1584309",
    "end": "1590760"
  },
  {
    "text": "repository and I've got this this URI here and I'm gonna put this in now you",
    "start": "1590760",
    "end": "1597210"
  },
  {
    "text": "can actually use public docker hub images in here if you want to use",
    "start": "1597210",
    "end": "1605370"
  },
  {
    "text": "private in images you can only use ETR at the moment but we are bringing out support later in the year for private",
    "start": "1605370",
    "end": "1611760"
  },
  {
    "text": "third-party repositories so keep your eye out for that latest and we're gonna",
    "start": "1611760",
    "end": "1619500"
  },
  {
    "text": "give this half the resource and we have a port map in supporting I forgot this",
    "start": "1619500",
    "end": "1624809"
  },
  {
    "start": "1620000",
    "end": "1740000"
  },
  {
    "text": "once didn't end well so port 8000 as you saw when I run localhost 8080 we're just",
    "start": "1624809",
    "end": "1634919"
  },
  {
    "text": "gonna add this I'm not going to do anything special here I'm not going to add any constraints either it can run in",
    "start": "1634919",
    "end": "1640950"
  },
  {
    "text": "a Lea any availability zones for me and then the next thing I'm going to do I'm going to create service from this and",
    "start": "1640950",
    "end": "1647210"
  },
  {
    "text": "it's an ec2 service it's already picked my cluster this is o SJ s desktop and I",
    "start": "1647210",
    "end": "1655169"
  },
  {
    "text": "only want one version of this desktop running for this particular demo we go",
    "start": "1655169",
    "end": "1660210"
  },
  {
    "text": "to next step and luckily I can remember all these details but if you have a look at the",
    "start": "1660210",
    "end": "1667300"
  },
  {
    "text": "confirmation that's included you'll see what the subnets are and you'll see that all the private subnets are 10.0 three",
    "start": "1667300",
    "end": "1673780"
  },
  {
    "text": "four and five and that's where my",
    "start": "1673780",
    "end": "1682300"
  },
  {
    "text": "elastic network interface is going to get created I'm going to edit this and I'm gonna change this to a mostly quite",
    "start": "1682300",
    "end": "1690490"
  },
  {
    "text": "proud of myself remembering this bit as well I'm gonna change this to a custom TCP and I'm going to set this to port",
    "start": "1690490",
    "end": "1697390"
  },
  {
    "text": "8000 this is the sort of thing that you should be putting into CloudFormation because then it makes it repeatable and",
    "start": "1697390",
    "end": "1702970"
  },
  {
    "text": "you can do it in any any cluster that you've got running so you can move your workloads around very easy I don't want",
    "start": "1702970",
    "end": "1709840"
  },
  {
    "text": "a public IP and I want mr. connect to an application load balancer these are the",
    "start": "1709840",
    "end": "1715240"
  },
  {
    "text": "two that I created with cloud formation I'm gonna pick the public one I'm gonna add my container port there I'm gonna",
    "start": "1715240",
    "end": "1723340"
  },
  {
    "text": "listen on port 80 my target group can be auto created I'm just gonna set it's a",
    "start": "1723340",
    "end": "1729850"
  },
  {
    "text": "default way let's move this health check",
    "start": "1729850",
    "end": "1735760"
  },
  {
    "text": "as well now service discovery because I'm not doing anything special with this",
    "start": "1735760",
    "end": "1741610"
  },
  {
    "start": "1740000",
    "end": "1860000"
  },
  {
    "text": "container it's just a single container within a task I don't really need any service discovery I'm not looking for a database in the backend I'm not looking",
    "start": "1741610",
    "end": "1748840"
  },
  {
    "text": "for a Redis cluster or anything I don't need service discovery plus the",
    "start": "1748840",
    "end": "1754240"
  },
  {
    "text": "team broke it on me last time so I'm soaking right let's go through here and",
    "start": "1754240",
    "end": "1759270"
  },
  {
    "text": "we're gonna hit next step and what we should see here now when we create the",
    "start": "1759270",
    "end": "1765460"
  },
  {
    "text": "service so this is a bit I like the lots of green things it makes it makes Rick",
    "start": "1765460",
    "end": "1770560"
  },
  {
    "text": "very happy when we go back to the view in the service we look at the cluster and you'll see we've got a service",
    "start": "1770560",
    "end": "1776770"
  },
  {
    "text": "definition and we've got a service definition I keep putting the wrong site we've got one service definition and",
    "start": "1776770",
    "end": "1782620"
  },
  {
    "text": "we've got one pending tasks that task what's happening now is in the background my ACS host has been",
    "start": "1782620",
    "end": "1788920"
  },
  {
    "text": "instructed to pull that image from ECR it's getting there and it's going to to run that for me so if",
    "start": "1788920",
    "end": "1796690"
  },
  {
    "text": "we refresh this a few times eventually that pending task will move into running but let's go ahead and look back out",
    "start": "1796690",
    "end": "1803380"
  },
  {
    "text": "document now all the information about what subjects to use is all in this",
    "start": "1803380",
    "end": "1809860"
  },
  {
    "text": "document as well so it makes it quite easy if you want to try this out at home",
    "start": "1809860",
    "end": "1816059"
  },
  {
    "text": "right now we're going to automate the docker build as well so we can set this bit off while we're waiting for a task",
    "start": "1819000",
    "end": "1824559"
  },
  {
    "text": "to create what we're going to use we're going to use code build and code",
    "start": "1824559",
    "end": "1829659"
  },
  {
    "text": "pipeline when code pipeline notices that in code commit I've done a new git push",
    "start": "1829659",
    "end": "1835860"
  },
  {
    "text": "it's going to trigger a code build event and code build is going to go away run a",
    "start": "1835860",
    "end": "1841990"
  },
  {
    "text": "Ubuntu instance for me create a docker image take that docker image and it's going to then push it into my easier for",
    "start": "1841990",
    "end": "1849159"
  },
  {
    "text": "me after it's successfully pushed to ECR it's going to tell my ECS cluster to",
    "start": "1849159",
    "end": "1855400"
  },
  {
    "text": "replace the current version that's running so we've now got a CI ICD pipeline come in so what we're gonna do",
    "start": "1855400",
    "end": "1862179"
  },
  {
    "start": "1860000",
    "end": "1980000"
  },
  {
    "text": "here let's have a quick look I'm gonna need to change a few things in this file as we bring it across so let's go back",
    "start": "1862179",
    "end": "1869470"
  },
  {
    "text": "to my git repository it's just got this docker filing and we're going to copy",
    "start": "1869470",
    "end": "1875010"
  },
  {
    "text": "I'm cheating for half the path here we're going to copy a file in court and",
    "start": "1875010",
    "end": "1880240"
  },
  {
    "text": "build spec I've done it again and we're going to have a look at build spec here",
    "start": "1880240",
    "end": "1886710"
  },
  {
    "text": "so in here there's going to be a few things I need to change this may not have changed that people let's just do",
    "start": "1886710",
    "end": "1893200"
  },
  {
    "text": "it for showing you what you'd be doing at home you're going to need to change this repository URI because that big",
    "start": "1893200",
    "end": "1899350"
  },
  {
    "text": "long string of the beginning is my account number so we're going to go in here",
    "start": "1899350",
    "end": "1906330"
  },
  {
    "text": "go back to my repositories again and we're going to take a copy of that and",
    "start": "1908200",
    "end": "1914440"
  },
  {
    "text": "it's probably exactly the same so that's where my repository is and that's where I'm going to be pushing to in this",
    "start": "1914440",
    "end": "1921039"
  },
  {
    "text": "pre-build what we're doing we're doing that PCR login from our code build environment once we built it we're going",
    "start": "1921039",
    "end": "1927759"
  },
  {
    "text": "to then tag it and then we're going to use code pipeline to trigger the EECS off so once it's uploaded and been",
    "start": "1927759",
    "end": "1933429"
  },
  {
    "text": "pushed in the post build commands so if I have a quick look back at my",
    "start": "1933429",
    "end": "1939009"
  },
  {
    "text": "documentation we go through here and this bottom one should now say I'll",
    "start": "1939009",
    "end": "1947769"
  },
  {
    "text": "update that and get in a bit if you do get any if you do get any problems for this do open issues and/or PRS and I",
    "start": "1947769",
    "end": "1954970"
  },
  {
    "text": "will merge those in especially for spelling mistakes please so I'm gonna",
    "start": "1954970",
    "end": "1960730"
  },
  {
    "text": "save that now and I'm gonna add this file to get so let's just cheat and copy",
    "start": "1960730",
    "end": "1967570"
  },
  {
    "text": "all three commands and we're gonna push that up to my git repository and this is just where my docker file lives this",
    "start": "1967570",
    "end": "1974200"
  },
  {
    "text": "isn't the docker repository it's the git repository too many repositories so",
    "start": "1974200",
    "end": "1980859"
  },
  {
    "text": "we're gonna have a quick look back at ETS and we're gonna have a bit of a refresh and we've got one running task",
    "start": "1980859",
    "end": "1986590"
  },
  {
    "text": "this is all great news to me one thing that we can have a look at now let's",
    "start": "1986590",
    "end": "1993609"
  },
  {
    "text": "close the local house version this if we go into my low balances",
    "start": "1993609",
    "end": "2000859"
  },
  {
    "text": "console gremlins today ISM why are you",
    "start": "2009110",
    "end": "2016700"
  },
  {
    "text": "going slow",
    "start": "2016700",
    "end": "2019210"
  },
  {
    "text": "we've probably got saying crazy going on here let's go for pub here we go I think",
    "start": "2023560",
    "end": "2031120"
  },
  {
    "text": "it was my dragging up on the screen that did that so I'm gonna take the the DNS name here or just copy it I'm gonna put",
    "start": "2031120",
    "end": "2038680"
  },
  {
    "text": "it in here and hopefully what should happen is I'm now got this OS GS desktop",
    "start": "2038680",
    "end": "2044650"
  },
  {
    "text": "running in ECS so that bits working but I did a lot of manual bill to set that up so what I'm gonna do now is put this",
    "start": "2044650",
    "end": "2051908"
  },
  {
    "text": "pipeline in place and make that automatic so remember that menu we've",
    "start": "2051909",
    "end": "2057820"
  },
  {
    "text": "got graphics multimedia office system and utilities I want some games so this is what we're going to do in our",
    "start": "2057820",
    "end": "2063460"
  },
  {
    "text": "pipeline we're gonna add some games to this so let's go here quickly and we're gonna automate this deployment now I'm",
    "start": "2063460",
    "end": "2070540"
  },
  {
    "text": "gonna go quite fast for this so I hope you're ok with that we're going to",
    "start": "2070540",
    "end": "2075550"
  },
  {
    "text": "create a pipeline and we're going to get started here and we're going to use",
    "start": "2075550",
    "end": "2081190"
  },
  {
    "text": "everything I've said in this document just to give it a test so we're going to call the pipeline OS jairs desktop and",
    "start": "2081190",
    "end": "2092290"
  },
  {
    "text": "we're going to hit next our source provider is code commit but you can use",
    "start": "2092290",
    "end": "2099310"
  },
  {
    "text": "s3 or github so you can have options here we're going to refresh this we have",
    "start": "2099310",
    "end": "2105610"
  },
  {
    "text": "an OS GS and we have a master branch",
    "start": "2105610",
    "end": "2112170"
  },
  {
    "text": "next step our build provider like I said you can bring Jenkins or Solano CI now",
    "start": "2112710",
    "end": "2119730"
  },
  {
    "text": "we're going to add code build and on here we're gonna go in and we're going",
    "start": "2119730",
    "end": "2128710"
  },
  {
    "text": "to create a new build project so this is",
    "start": "2128710",
    "end": "2135790"
  },
  {
    "text": "gonna be oh s JS desktop again you notice in a pattern here",
    "start": "2135790",
    "end": "2140880"
  },
  {
    "text": "and we're going to use a code build image we're going to choose an operating",
    "start": "2140880",
    "end": "2147510"
  },
  {
    "text": "system which is Ubuntu and our run time is the docker panic for a second then",
    "start": "2147510",
    "end": "2155040"
  },
  {
    "text": "when I couldn't see you doc and we just pick that the latest one I'm not going to do anything special we're going to",
    "start": "2155040",
    "end": "2160770"
  },
  {
    "text": "use to build spec to build all this and I won't enable cache this time but if you want to speed up your docket build",
    "start": "2160770",
    "end": "2166290"
  },
  {
    "text": "enable cache and then you'll get a cache version to go through VP CID it doesn't",
    "start": "2166290",
    "end": "2172230"
  },
  {
    "text": "matter where I build this to be honest so once we create this code build is",
    "start": "2172230",
    "end": "2180150"
  },
  {
    "text": "going to it's going to go and automatically do a lot of things for us",
    "start": "2180150",
    "end": "2186950"
  },
  {
    "text": "I'm picking random ones here I do believe this works so I'm gonna save",
    "start": "2189830",
    "end": "2195450"
  },
  {
    "text": "this project now now code pipeline and code build in the background let's create some IM roles for me but those IM",
    "start": "2195450",
    "end": "2202140"
  },
  {
    "text": "roles at the moment don't have any access to push to easier so we're going to add those specifically hit next step",
    "start": "2202140",
    "end": "2211290"
  },
  {
    "text": "here and our deployment provider is going to be amazon ECS now cluster name",
    "start": "2211290",
    "end": "2218610"
  },
  {
    "text": "i've only got one and our service name so it's nice easy to find you don't need to do anything special here you hit next",
    "start": "2218610",
    "end": "2225090"
  },
  {
    "start": "2220000",
    "end": "2340000"
  },
  {
    "text": "step and we're gonna pick",
    "start": "2225090",
    "end": "2230240"
  },
  {
    "text": "we're going to pick code pipeline service next step create our pipeline so",
    "start": "2233800",
    "end": "2244310"
  },
  {
    "text": "we've got a pipeline that's been created here nothing's happening on it at the moment and then we're going to go in and",
    "start": "2244310",
    "end": "2251540"
  },
  {
    "text": "we're just going to tweak my iron roll to give it the power user for ETR so if",
    "start": "2251540",
    "end": "2260750"
  },
  {
    "text": "I go into my rolls and I search for coke",
    "start": "2260750",
    "end": "2266359"
  },
  {
    "text": "pipeline service it says in my document",
    "start": "2266359",
    "end": "2274130"
  },
  {
    "text": "what the name is so I'm gonna scroll through yeah and here we go code build -",
    "start": "2274130",
    "end": "2285880"
  },
  {
    "text": "this is our want this is one we're going to edit and in the permissions we're",
    "start": "2287829",
    "end": "2294560"
  },
  {
    "text": "going to attach an Apollo a policy to this and the policy is called Amazon ec2",
    "start": "2294560",
    "end": "2302690"
  },
  {
    "text": "contain a registry power user because that's easy to say so we're going to",
    "start": "2302690",
    "end": "2307880"
  },
  {
    "text": "search for that and we're gonna add this permission this is gonna let me do lots of things with the registry and push",
    "start": "2307880",
    "end": "2313430"
  },
  {
    "text": "images and pull images so that's now gonna be added think",
    "start": "2313430",
    "end": "2322900"
  },
  {
    "text": "let's close that go back",
    "start": "2323490",
    "end": "2329190"
  },
  {
    "text": "and that's all done so we've got that added to us now right so the next thing",
    "start": "2329530",
    "end": "2335980"
  },
  {
    "text": "really is to to trigger an event off and get an automatic redeploy happen so if",
    "start": "2335980",
    "end": "2341080"
  },
  {
    "text": "you're looking our now github repository you'll find another file let's go up",
    "start": "2341080",
    "end": "2349210"
  },
  {
    "text": "here find a version two of our docker",
    "start": "2349210",
    "end": "2354880"
  },
  {
    "text": "file an inversion to I'm adding the",
    "start": "2354880",
    "end": "2361600"
  },
  {
    "text": "games package so we're gonna update our desktop I'm now going to do a git commit",
    "start": "2361600",
    "end": "2369270"
  },
  {
    "text": "and some games and we're going to push",
    "start": "2369270",
    "end": "2376030"
  },
  {
    "text": "this up to our code commit repository so",
    "start": "2376030",
    "end": "2382480"
  },
  {
    "text": "this is going on and it will take a few seconds to trigger this but if we drop into the pipeline now",
    "start": "2382480",
    "end": "2390720"
  },
  {
    "text": "what we'll get is on here we've noticed a change so it's now actually triggering",
    "start": "2392500",
    "end": "2399340"
  },
  {
    "text": "a code build event this is good more green I like it so in app code a",
    "start": "2399340",
    "end": "2405160"
  },
  {
    "text": "code build event we can actually dig in and have a look and this is quite interesting because we can see what's happening underneath you can see that my",
    "start": "2405160",
    "end": "2413590"
  },
  {
    "text": "my image is pulling down and building my docker file it's running the commands within my docker file so pull down",
    "start": "2413590",
    "end": "2420340"
  },
  {
    "text": "Debian it's now doing an app get update and apt-get install it's installing the o SJS desktop and it's creating all pre",
    "start": "2420340",
    "end": "2428560"
  },
  {
    "text": "build build is happening now and these are the build lots and if we can jump back to our code pipeline when this goes",
    "start": "2428560",
    "end": "2438370"
  },
  {
    "text": "green I think we've probably got two builds going on here just to confuse me",
    "start": "2438370",
    "end": "2444360"
  },
  {
    "text": "when these go green what will happen then is the staging what happened now I",
    "start": "2444360",
    "end": "2450370"
  },
  {
    "text": "haven't set any manual intervention here I just wanted to go ahead and replace my container for me it's going to just whip",
    "start": "2450370",
    "end": "2455950"
  },
  {
    "text": "the legs out from underneath it and replace it if you were doing a deployment where you've got multiple",
    "start": "2455950",
    "end": "2461620"
  },
  {
    "start": "2460000",
    "end": "2580000"
  },
  {
    "text": "versions of a task you can get more prescriptive here you can say make sure you've got X amount of healthy tasks",
    "start": "2461620",
    "end": "2467860"
  },
  {
    "text": "before replacing one and it will do a graceful replacement of those tasks so you won't have any downtime for new",
    "start": "2467860",
    "end": "2473830"
  },
  {
    "text": "users so we've got another code build going on don't know why we just pretend",
    "start": "2473830",
    "end": "2481660"
  },
  {
    "text": "that's not happening I hope it works so we'll drop back in here now this is the last a little bit and then we can all",
    "start": "2481660",
    "end": "2487390"
  },
  {
    "text": "get some lunch I think or have you had lunch already have I missed lunch",
    "start": "2487390",
    "end": "2493980"
  },
  {
    "text": "nevermind so what will happen here is we",
    "start": "2496200",
    "end": "2502960"
  },
  {
    "text": "will get a new version in our task definition automatically updated it was OS Jes desktop 3 but when the image gets",
    "start": "2502960",
    "end": "2510910"
  },
  {
    "text": "updated it'll actually replace that for us and one of the things it actually will replace in there is the name of the",
    "start": "2510910",
    "end": "2517630"
  },
  {
    "text": "image and it will actually use the get tagged from the commit we'll get used in that so we go in here",
    "start": "2517630",
    "end": "2527060"
  },
  {
    "text": "and we need to wait for a little bit and and see an event go let's have a look",
    "start": "2527060",
    "end": "2532550"
  },
  {
    "text": "what's happening on this one it's like I",
    "start": "2532550",
    "end": "2538010"
  },
  {
    "text": "said this is installing a shed load of stuff using NPM and once it's built we",
    "start": "2538010",
    "end": "2543320"
  },
  {
    "text": "should get the in progress returns to succeeded and then the next part will trigger will start pushing up to ETR so",
    "start": "2543320",
    "end": "2550190"
  },
  {
    "text": "this will be there very very quickly I hope refresh this page because",
    "start": "2550190",
    "end": "2556820"
  },
  {
    "text": "refreshing a page always helps so it normally takes about four or five",
    "start": "2556820",
    "end": "2562250"
  },
  {
    "text": "minutes to build so it will be there very very quickly and we shall then get our deployment in now the whole point of",
    "start": "2562250",
    "end": "2569450"
  },
  {
    "text": "this this library and this type of session that we're doing here is to not",
    "start": "2569450",
    "end": "2575210"
  },
  {
    "text": "bore you with slides but just can give you code that you can take away and play with at home and I really want you to do",
    "start": "2575210",
    "end": "2580640"
  },
  {
    "start": "2580000",
    "end": "2700000"
  },
  {
    "text": "that and if you can improve this please send us a pull request and I'll get that merged in we're gonna do a lot of other",
    "start": "2580640",
    "end": "2587930"
  },
  {
    "text": "topics as well if anybody was in there me ai1 this morning julian was doing a I",
    "start": "2587930",
    "end": "2593570"
  },
  {
    "text": "workshop very similar commit back to that and then hater he's going to go on",
    "start": "2593570",
    "end": "2598910"
  },
  {
    "text": "and do a service building a single page web app this afternoon all of these sessions have no slides so it's",
    "start": "2598910",
    "end": "2605360"
  },
  {
    "text": "incredibly risky for us up here because internet connections fail and things",
    "start": "2605360",
    "end": "2610880"
  },
  {
    "text": "like that so let's see what's happening now and things take ages to build for no",
    "start": "2610880",
    "end": "2617780"
  },
  {
    "text": "good reason five minutes anybody gonna guess anybody",
    "start": "2617780",
    "end": "2623180"
  },
  {
    "text": "gonna guess how long it's gonna take so we have a a sweepstake can make some money can't let's make it work for me",
    "start": "2623180",
    "end": "2631870"
  },
  {
    "text": "it's always nice being a friendly face in the audience here especially when",
    "start": "2631870",
    "end": "2639050"
  },
  {
    "text": "we're waiting here we go we've gone green thank you",
    "start": "2639050",
    "end": "2644520"
  },
  {
    "text": "I'm indebted to you so what's going to happen now we've got a new version of the container and if we have a quick",
    "start": "2644520",
    "end": "2650010"
  },
  {
    "text": "look in our test definition with any luck that's updated and we've got a",
    "start": "2650010",
    "end": "2655140"
  },
  {
    "text": "version 4 so this is great news every",
    "start": "2655140",
    "end": "2660150"
  },
  {
    "text": "faith is going to work now and what will have happened in this URL is you can see instead of using latest what I put in as",
    "start": "2660150",
    "end": "2667140"
  },
  {
    "text": "the image URL earlier it's actually got that git commit ID at the end of it so",
    "start": "2667140",
    "end": "2672480"
  },
  {
    "text": "every time we do a deployment it replaces the image it's uniquely tagged and it'll just get deployed we go back",
    "start": "2672480",
    "end": "2680040"
  },
  {
    "text": "here and we're doing any progress again but we don't really mind quest yes loads",
    "start": "2680040",
    "end": "2690060"
  },
  {
    "text": "and that's not the new version yet we should see a pending task um we've got a",
    "start": "2690060",
    "end": "2696510"
  },
  {
    "text": "running task one will be dying very soon I hope so we're going here and let's",
    "start": "2696510",
    "end": "2705030"
  },
  {
    "start": "2700000",
    "end": "2787000"
  },
  {
    "text": "have a bit of a refresh wait for this to come she's very old Forester pieces",
    "start": "2705030",
    "end": "2711150"
  },
  {
    "text": "Rickie it's time to go home close that",
    "start": "2711150",
    "end": "2716640"
  },
  {
    "text": "down refresh that double-billed might be I",
    "start": "2716640",
    "end": "2723300"
  },
  {
    "text": "think but we have a test definition here now which is OS desktop for we've got one desired task put to running so what",
    "start": "2723300",
    "end": "2730440"
  },
  {
    "text": "it's waiting to do is wait for those health checks to pass and then it should should kill the other task off with any",
    "start": "2730440",
    "end": "2736350"
  },
  {
    "text": "look otherwise I'll just do it manually and cheat",
    "start": "2736350",
    "end": "2742850"
  },
  {
    "text": "you didn't see that impatience and",
    "start": "2747950",
    "end": "2753320"
  },
  {
    "text": "running that time so for my final piece here Oh SJS is loading we click down",
    "start": "2753320",
    "end": "2760970"
  },
  {
    "text": "here and we've got no games I probably killed the wrong test well basically what should happen is we",
    "start": "2760970",
    "end": "2766940"
  },
  {
    "text": "should give that new version come in it could be I didn't commit the dockerfile bike I don't know but I have a go at the",
    "start": "2766940",
    "end": "2772460"
  },
  {
    "text": "code work through the the Rhema document and I hope you have a good fun playing",
    "start": "2772460",
    "end": "2777500"
  },
  {
    "text": "with it so I'll leave it to you now and let you all go off to your next session thanks very much",
    "start": "2777500",
    "end": "2782720"
  },
  {
    "text": "[Applause]",
    "start": "2782720",
    "end": "2786310"
  }
]