[
  {
    "start": "0",
    "end": "178000"
  },
  {
    "text": "hey everybody and welcome my name is Becky Weiss I am an AWS engineer virtual",
    "start": "199",
    "end": "7379"
  },
  {
    "text": "private cloud VPC this is what I work on and it is an honor and privilege to be here in my hometown of Chicago to talk",
    "start": "7379",
    "end": "14700"
  },
  {
    "text": "to you about networking and ec2 because that is what a VPC essentially is it is",
    "start": "14700",
    "end": "21660"
  },
  {
    "text": "your private network a network that is belongs to and is controlled by you in",
    "start": "21660",
    "end": "26720"
  },
  {
    "text": "AWS now as with anything in AWS our customers represent a very wide spectrum",
    "start": "26720",
    "end": "34530"
  },
  {
    "text": "of backgrounds some of our customers approach VPC from a deep background in",
    "start": "34530",
    "end": "40290"
  },
  {
    "text": "traditional networking many of you might be from a background like this you've your network engineer possibly you've",
    "start": "40290",
    "end": "47280"
  },
  {
    "text": "done networking in traditional data centers and for those of you from this kind of background you know how hard",
    "start": "47280",
    "end": "53730"
  },
  {
    "text": "this is it takes a great deal of expertise and a great deal of work first of all you need to know about networking",
    "start": "53730",
    "end": "59850"
  },
  {
    "text": "concepts like routers firewalls you need to know about basic network services",
    "start": "59850",
    "end": "65250"
  },
  {
    "text": "like DNS and so you need to know how to configure these things and set them up and get them doing what you want after",
    "start": "65250",
    "end": "72240"
  },
  {
    "text": "you do that there's ongoing maintenance and monitoring of these things to make sure that they're always working because",
    "start": "72240",
    "end": "78090"
  },
  {
    "text": "your customers expect your network to always be working and then even after you've done all of that at the end of",
    "start": "78090",
    "end": "83610"
  },
  {
    "text": "the day you may or may not have quite the visibility you want into this network is it actually doing what you",
    "start": "83610",
    "end": "90720"
  },
  {
    "text": "intend is it letting in the traffic you intend is it keeping out the traffic you intend so for those of you from this",
    "start": "90720",
    "end": "97140"
  },
  {
    "text": "background you'll find as we talk about the features of VPC you're going to be",
    "start": "97140",
    "end": "102240"
  },
  {
    "text": "able to draw many parallels between things you were used to being able to do in a traditional network and things that",
    "start": "102240",
    "end": "107880"
  },
  {
    "text": "you can do in a V PC but you'll find that a common thread is that in V PC",
    "start": "107880",
    "end": "113070"
  },
  {
    "text": "it's always easier it's always lower maintenance and it's always very easy to see what's going on and what you just",
    "start": "113070",
    "end": "119159"
  },
  {
    "text": "did now that at the other end of the spectrum are customers who you're in AWS",
    "start": "119159",
    "end": "125159"
  },
  {
    "text": "because you want to focus on your application you want to focus on your business the network is of course",
    "start": "125159",
    "end": "130229"
  },
  {
    "text": "something that you need because you need connectivity and in fact you want to be in complete control",
    "start": "130229",
    "end": "135519"
  },
  {
    "text": "of network security this is important to you but you don't want to get involved in a lot of fiddly details of networking",
    "start": "135519",
    "end": "141610"
  },
  {
    "text": "you want a secure network that's within your control but mostly not thinking about it all the time",
    "start": "141610",
    "end": "146890"
  },
  {
    "text": "now for those of you if you're approaching VPC from that angle I anticipate that from the first half of",
    "start": "146890",
    "end": "154450"
  },
  {
    "text": "this talk you'll come away with pretty much everything you need to know to be productive and completely secure in AWS",
    "start": "154450",
    "end": "160959"
  },
  {
    "text": "now this is an introductory talk to VPC if you are already an expert in VPC and",
    "start": "160959",
    "end": "166299"
  },
  {
    "text": "you know about all of its features you've probably come to the wrong place this is gonna be a grand tour of what",
    "start": "166299",
    "end": "171639"
  },
  {
    "text": "VPC has to offer and kind of give you ideas for where to where to explore further so let's begin in ec2 Elastic",
    "start": "171639",
    "end": "181299"
  },
  {
    "start": "178000",
    "end": "255000"
  },
  {
    "text": "Compute cloud the core unit of ec2 is that ec2 instance it's a virtual machine in the cloud now this is a virtual",
    "start": "181299",
    "end": "189549"
  },
  {
    "text": "machine in the cloud you're probably running a bunch of them and in fact the e is for elastic so you're probably",
    "start": "189549",
    "end": "195040"
  },
  {
    "text": "scaling these up scaling these down using what you need not using what you don't need and paying for what you use",
    "start": "195040",
    "end": "201329"
  },
  {
    "text": "now of course these are virtual machines so the only way to do anything interesting with them is with the",
    "start": "201329",
    "end": "207069"
  },
  {
    "text": "network so they run it in network they run in AWS data centers and twelve regions around the world but what the VP",
    "start": "207069",
    "end": "214030"
  },
  {
    "text": "see as the VP see is your network the network that your ec2 instance is running in each region is your network",
    "start": "214030",
    "end": "220750"
  },
  {
    "text": "the P is for private it's a V PC now what are some things you do with networks all networks you have IP",
    "start": "220750",
    "end": "226989"
  },
  {
    "text": "addresses in your network so your V PC is gonna give you some of those or you can choose your own addressing scheme",
    "start": "226989",
    "end": "233849"
  },
  {
    "text": "we're also going to talk about how you divide up this network to be able to achieve high availability for your",
    "start": "233849",
    "end": "239799"
  },
  {
    "text": "applications in AWS you may wish to have all or part or some of your network",
    "start": "239799",
    "end": "248260"
  },
  {
    "text": "routable to and from the internet so we're gonna talk about how you do that and that's what you're going to get out",
    "start": "248260",
    "end": "255400"
  },
  {
    "start": "255000",
    "end": "295000"
  },
  {
    "text": "of this you're going to learn enough here to be productive with VP C because many of the concepts are very simple",
    "start": "255400",
    "end": "261159"
  },
  {
    "text": "regardless of your network background for the first half we're gonna we're gonna be getting familiar with very",
    "start": "261159",
    "end": "266630"
  },
  {
    "text": "basic VPC concepts the things that you need to know to set up the most basic of",
    "start": "266630",
    "end": "271760"
  },
  {
    "text": "VP C's which is going to be an internet-connected V PC and I'm going to walk you through step by step what goes",
    "start": "271760",
    "end": "278360"
  },
  {
    "text": "into this V PC so that you can actually you can actually see what this thing is made of and what all of these knobs are",
    "start": "278360",
    "end": "283640"
  },
  {
    "text": "doing for you and then in the second half of the talk we're gonna it's going to be the sort of and more part more",
    "start": "283640",
    "end": "289910"
  },
  {
    "text": "kinds of connectivity more kinds of things you can do in your network and take control of it so the most basic VPC",
    "start": "289910",
    "end": "298430"
  },
  {
    "start": "295000",
    "end": "380000"
  },
  {
    "text": "out there is an Internet connected V PC and as a matter of fact you already have",
    "start": "298430",
    "end": "304190"
  },
  {
    "text": "you probably already have a V PC like this in your account if your account was created anytime after 2013 you have",
    "start": "304190",
    "end": "310670"
  },
  {
    "text": "something in your V you have a V PC in your account called a default V PC and as the name suggests we created this for",
    "start": "310670",
    "end": "317630"
  },
  {
    "text": "you by default the V PC we're about to walk through and set up step by step is",
    "start": "317630",
    "end": "322780"
  },
  {
    "text": "looks exactly like a default V PC now you can use your default V PC but nevertheless it makes sense to",
    "start": "322780",
    "end": "329090"
  },
  {
    "text": "understand the things that make up that V PC so we're gonna we're gonna go through this in four steps we're gonna",
    "start": "329090",
    "end": "335960"
  },
  {
    "text": "talk about picking addresses we're gonna talk about high availability then we'll talk about getting packets to and from",
    "start": "335960",
    "end": "341840"
  },
  {
    "text": "the internet routing the core concept of the V PC and then finally we're gonna talk about security and I'm gonna show",
    "start": "341840",
    "end": "348410"
  },
  {
    "text": "you security and a/v getting security right in a V PC is not that hard and in all it",
    "start": "348410",
    "end": "355970"
  },
  {
    "text": "I'm gonna I'm gonna take you through examples I'm gonna be showing you screenshots of our of our console I'm",
    "start": "355970",
    "end": "361370"
  },
  {
    "text": "going to show you how you do this with UI but for everything that I show you you can do the exact equivalent things",
    "start": "361370",
    "end": "367100"
  },
  {
    "text": "these are all automatable we have a CLI command line interface we have SDKs and",
    "start": "367100",
    "end": "372290"
  },
  {
    "text": "various in various programming languages but screenshots make better slide wear so everything we do here is all",
    "start": "372290",
    "end": "379280"
  },
  {
    "text": "automatable okay so first we have a network so a network needs IP addresses",
    "start": "379280",
    "end": "386510"
  },
  {
    "start": "380000",
    "end": "394000"
  },
  {
    "text": "and we since this is a V PC since I control it I get to pick exactly what",
    "start": "386510",
    "end": "392810"
  },
  {
    "text": "these addresses are gonna be so a quick piece of background for those of",
    "start": "392810",
    "end": "398210"
  },
  {
    "start": "394000",
    "end": "444000"
  },
  {
    "text": "you who are not already familiar with this notation this is site or classless inter-domain routing notation it looks",
    "start": "398210",
    "end": "405290"
  },
  {
    "text": "like that this if you're not familiar with it this is how you read it it looks like an ipv4 IP address an ipv4 address",
    "start": "405290",
    "end": "411410"
  },
  {
    "text": "here an IP address followed by a slash followed by a number what that means is that if I take this ipv4 address a",
    "start": "411410",
    "end": "418850"
  },
  {
    "text": "32-bit number and write it out in binary / 16 means I hold the high 16 bits fixed",
    "start": "418850",
    "end": "426290"
  },
  {
    "text": "and the low 16 bits can vary so in English what that what that notation",
    "start": "426290",
    "end": "431960"
  },
  {
    "text": "means it's all the IP addresses that look like 170 2.31 dot something got something so that's",
    "start": "431960",
    "end": "438140"
  },
  {
    "text": "what this notation means and we're going to be using it throughout this talk and everywhere in VPC uses this notation all",
    "start": "438140",
    "end": "444680"
  },
  {
    "start": "444000",
    "end": "586000"
  },
  {
    "text": "right so here's an address range I can pick for my V PC 170 2.31 dot 0 dot 0",
    "start": "444680",
    "end": "450440"
  },
  {
    "text": "slash 16 now you might be wondering why I picked that particular address range",
    "start": "450440",
    "end": "455620"
  },
  {
    "text": "here are some tips when you're picking an address range because this is actually an important decision almost",
    "start": "455620",
    "end": "461090"
  },
  {
    "text": "everything else that we're gonna talk about with a V PC you know the V is for virtual which means that you can turn it",
    "start": "461090",
    "end": "466610"
  },
  {
    "text": "on try it turn it off change your mind later the one thing that is fixed for the lifetime of the V PC is the address",
    "start": "466610",
    "end": "472520"
  },
  {
    "text": "range so it does behoove you to pick a good one okay so why did I pick this one first of",
    "start": "472520",
    "end": "478130"
  },
  {
    "text": "all what I have here is an RFC 1918 range RFC 1918",
    "start": "478130",
    "end": "483380"
  },
  {
    "text": "it's an RFC that defines at advert address ranges conventionally used for",
    "start": "483380",
    "end": "489710"
  },
  {
    "text": "private networks and what we've got here is a private network the I recommend that you use an RFC 1918 range unless",
    "start": "489710",
    "end": "496010"
  },
  {
    "text": "you have a real good reason not to for the simple reason that whenever anybody",
    "start": "496010",
    "end": "501830"
  },
  {
    "text": "on your team using instances in your V PC sees their IP addresses they'll look",
    "start": "501830",
    "end": "507020"
  },
  {
    "text": "like IP addresses from a private network they'll make sense now the slash 16/16",
    "start": "507020",
    "end": "513169"
  },
  {
    "text": "means I get 65,000 addresses available in the V PC and that might sound like a",
    "start": "513170",
    "end": "519680"
  },
  {
    "text": "lot and on behalf of AWS I hope you use all of them but you may not and I",
    "start": "519680",
    "end": "526390"
  },
  {
    "text": "recommend choosing the slash 16 for VP again in case unless you have a good reason not to it's a nice big VPC it",
    "start": "526390",
    "end": "534280"
  },
  {
    "text": "doesn't cost anything to make a big V PC and what you've done here is you've left yourself plenty of space to grow maybe",
    "start": "534280",
    "end": "540040"
  },
  {
    "text": "today you're running five instances maybe tomorrow you're running a lot more than that when your business grows and",
    "start": "540040",
    "end": "547110"
  },
  {
    "text": "one other thing to consider when you're picking an address range for your V PC",
    "start": "547110",
    "end": "552420"
  },
  {
    "text": "in the latter half of this talk we're gonna talk about a bunch of other connectivity scenarios things you can",
    "start": "552420",
    "end": "558940"
  },
  {
    "text": "connect your V PC to and in order to have the routing make sense you want to",
    "start": "558940",
    "end": "565930"
  },
  {
    "text": "make sure that those address ranges don't overlap so if you know that you have you know your own corporate data",
    "start": "565930",
    "end": "572140"
  },
  {
    "text": "center with an address range or you might be having multiple V pcs that you want to connect up together anything",
    "start": "572140",
    "end": "578530"
  },
  {
    "text": "like that make them non-overlapping so that you'll have an easy time connecting them later great we've got addresses",
    "start": "578530",
    "end": "585900"
  },
  {
    "text": "next we're going to talk about subnets and subnets in a V PC subnet sub",
    "start": "585900",
    "end": "591670"
  },
  {
    "text": "networks they are sub ranges of the address space that you just picked for your V PC and they are how they are how",
    "start": "591670",
    "end": "600100"
  },
  {
    "text": "you use your V PC to deploy high availability applications in AWS here's",
    "start": "600100",
    "end": "606370"
  },
  {
    "text": "what I mean by that so we have 12 regions worldwide V PC",
    "start": "606370",
    "end": "612040"
  },
  {
    "start": "607000",
    "end": "716000"
  },
  {
    "text": "your V PC a V PC that you create exists in one of these regions for this example",
    "start": "612040",
    "end": "618070"
  },
  {
    "text": "I'm going to use our Dublin region u West one so this V PC it lives in edu",
    "start": "618070",
    "end": "623290"
  },
  {
    "text": "West one now EOS one and all of our other regions are divided into multiple",
    "start": "623290",
    "end": "628860"
  },
  {
    "text": "availability zones in Dublin s3e US 1a 1b and 1c and what these availability",
    "start": "628860",
    "end": "635950"
  },
  {
    "text": "zones you can almost think of these in traditional terms in terms of data centers if the concepts don't map quite",
    "start": "635950",
    "end": "641890"
  },
  {
    "text": "one to one but they have redundant networking redundant power they're special they're specifically designed to",
    "start": "641890",
    "end": "647680"
  },
  {
    "text": "have separate failure characteristics there's Geographic distance there and you can see how this is you can see how",
    "start": "647680",
    "end": "653590"
  },
  {
    "text": "this is a useful concept if you care about high availability because if I'm trying to deploy a highly available",
    "start": "653590",
    "end": "659460"
  },
  {
    "text": "application I'm going to want it deployed across multiple availability zones so that I can take",
    "start": "659460",
    "end": "665330"
  },
  {
    "text": "advantage of all of that redundancy now like I said you want your V PC to span all of these availability zones and",
    "start": "665330",
    "end": "671420"
  },
  {
    "text": "subnets are how you do that a subnet lives inside an availability zone you",
    "start": "671420",
    "end": "676970"
  },
  {
    "text": "can have as many subnets as you want within an availability zone but a sudden it doesn't span availability zones and a",
    "start": "676970",
    "end": "683390"
  },
  {
    "text": "subnet is a sub network into which you will ultimately be launching your ec2 instances and you choose sub ranges of",
    "start": "683390",
    "end": "690500"
  },
  {
    "text": "your V PC for that so let me choose one 72 dot 31 0 dot something for this for",
    "start": "690500",
    "end": "696110"
  },
  {
    "text": "the subnet and this AZ availability zone 172 dot 31.1 dot something you get the",
    "start": "696110",
    "end": "703070"
  },
  {
    "text": "idea now since we're since we're creating an internet-connected V PC one",
    "start": "703070",
    "end": "710240"
  },
  {
    "text": "thing we probably want here and you don't always want this but for this for this simple default V PC looking V PC",
    "start": "710240",
    "end": "716390"
  },
  {
    "start": "716000",
    "end": "749000"
  },
  {
    "text": "we're gonna we're gonna set a bit on the subnets that has you opt into public I",
    "start": "716390",
    "end": "722720"
  },
  {
    "text": "publicly routable IP addresses given to each instance that you launched there this is just what we choose here if",
    "start": "722720",
    "end": "729740"
  },
  {
    "text": "you're looking for internet connectivity to each and every instance this is this is what you want you can override this",
    "start": "729740",
    "end": "735080"
  },
  {
    "text": "on an instance by instance basis as you launch instances and you can change this setting after the fact but let's turn",
    "start": "735080",
    "end": "741680"
  },
  {
    "text": "this on so when we launch our instances there routable from the internet and as you can see here all instances will get",
    "start": "741680",
    "end": "748280"
  },
  {
    "text": "an automatically assign public IP ok now you saw that I did choose an address range for my subnets and the few words",
    "start": "748280",
    "end": "756560"
  },
  {
    "start": "749000",
    "end": "812000"
  },
  {
    "text": "on kind of what went into that choice that was a deliberate choice and you know these are guidelines again unless",
    "start": "756560",
    "end": "761600"
  },
  {
    "text": "you have a reason to do something else I made a nice big V PC my subnets were a",
    "start": "761600",
    "end": "766850"
  },
  {
    "text": "bit smaller they were slash 24 which means I get 251 addresses available to me in each of",
    "start": "766850",
    "end": "773000"
  },
  {
    "text": "these subnets now those of you who are really good at math you know that slash 24 should give me 256 addresses the",
    "start": "773000",
    "end": "780110"
  },
  {
    "text": "reason why you get 251 is we reserved the bottom but the bottom 4 and the 1 high address in the range so you get 251",
    "start": "780110",
    "end": "787760"
  },
  {
    "text": "which is still a lot depending on your point of view I put one subnet in each availability zone and what I've done",
    "start": "787760",
    "end": "794090"
  },
  {
    "text": "since subnets are a lot smaller than my VPC I've got lots of space in my V PC around",
    "start": "794090",
    "end": "800209"
  },
  {
    "text": "the subnet to be able to create new subnets in the future if I need more space out of my V PC so I've left myself",
    "start": "800209",
    "end": "806569"
  },
  {
    "text": "a lot of flexibility in Headroom for the future great we've got addresses now let's talk",
    "start": "806569",
    "end": "813860"
  },
  {
    "start": "812000",
    "end": "859000"
  },
  {
    "text": "about the Internet this is this is where we're going to talk about the concept of",
    "start": "813860",
    "end": "818990"
  },
  {
    "text": "the route table in the V PC now route routing may sound like a complicated networking concept and it can be but in",
    "start": "818990",
    "end": "826040"
  },
  {
    "text": "V PC it's not you'll see that you'll see that it is it is actually fairly",
    "start": "826040",
    "end": "831410"
  },
  {
    "text": "straightforward to see what's going on here your V PC has associate has associated",
    "start": "831410",
    "end": "836449"
  },
  {
    "text": "with it what we call a default route table the default route table is a list of rules and we'll look at them on the",
    "start": "836449",
    "end": "842810"
  },
  {
    "text": "next slide that basically dictate where your pack if you're trying to send a packet to these addresses they go here",
    "start": "842810",
    "end": "849050"
  },
  {
    "text": "if you're trying to send a packet to those addresses they go there and you can override this on a subnet by subnet",
    "start": "849050",
    "end": "854600"
  },
  {
    "text": "basis we'll talk later about times when that might make sense so let's take a",
    "start": "854600",
    "end": "860269"
  },
  {
    "start": "859000",
    "end": "958000"
  },
  {
    "text": "look at this default route table that I haven't touched yet this is just what came out of the box with my V PC let's",
    "start": "860269",
    "end": "866060"
  },
  {
    "text": "look at its rules it came with one rule one rule saying 170 2.30 1/16 so that",
    "start": "866060",
    "end": "872990"
  },
  {
    "text": "cider range remember that was the rate address range of my V PC if I'm sending a packet there it's supposed to get",
    "start": "872990",
    "end": "878870"
  },
  {
    "text": "routed locally whatever happens in my V PC stays in my V PC now you'll notice I",
    "start": "878870",
    "end": "884959"
  },
  {
    "text": "don't have any other rules here and the way routing works in a V PC is that if I'm sending a packet to an address that",
    "start": "884959",
    "end": "891199"
  },
  {
    "text": "doesn't match any of my route rules the packet gets dropped it has nowhere to go so right now if I were to send try to",
    "start": "891199",
    "end": "898370"
  },
  {
    "text": "send a packet to the internet outside my V PC it would have nowhere to go so this",
    "start": "898370",
    "end": "905480"
  },
  {
    "text": "is a party in my V PC and nobody's invited and this is not what I want I want to be able to send packets to the",
    "start": "905480",
    "end": "911779"
  },
  {
    "text": "Internet so enter the internet gateway an Internet gateway is exactly what it",
    "start": "911779",
    "end": "917540"
  },
  {
    "text": "sounds like it's a gateway to the Internet it's a place you can send packets if you would like them to get to the Internet so I create one of these I",
    "start": "917540",
    "end": "925089"
  },
  {
    "text": "attach it to the VPC and then I go back to my route table and you'll see I created a new route here 0/0 that's a",
    "start": "925089",
    "end": "932860"
  },
  {
    "text": "catch-all rule that'll match all packets get sent to the igw to the Internet",
    "start": "932860",
    "end": "938829"
  },
  {
    "text": "gateway and the way route the way routing rules work in a V PC is the most specific rule that matches your packet",
    "start": "938829",
    "end": "945490"
  },
  {
    "text": "is the one that dictates where the packet goes so it's still true that if I'm sending a packet within my V PC it's",
    "start": "945490",
    "end": "951220"
  },
  {
    "text": "that local rule that will take effect which is exactly what I want great now my packets are getting to the",
    "start": "951220",
    "end": "957009"
  },
  {
    "text": "internet but I want security to I want",
    "start": "957009",
    "end": "962019"
  },
  {
    "text": "to get the traffic that I'm supposed to get at my ec2 instances in my V PC but I don't want to get the traffic I don't",
    "start": "962019",
    "end": "968019"
  },
  {
    "text": "want to get anything else I don't want to get any traffic that I didn't specifically want at my instances and for this we give you two tools in a V PC",
    "start": "968019",
    "end": "976930"
  },
  {
    "text": "they're slightly different from one another one is called network Ackles the other is called security groups security",
    "start": "976930",
    "end": "983439"
  },
  {
    "text": "groups are far and away the most commonly used used of these and you'll",
    "start": "983439",
    "end": "988449"
  },
  {
    "text": "see why they're very flexible and can be made to look made to follow the shape of your application network Ackles are a",
    "start": "988449",
    "end": "996670"
  },
  {
    "text": "bit of a blunter tool and honestly you may or may not end up using them network",
    "start": "996670",
    "end": "1002279"
  },
  {
    "start": "1000000",
    "end": "1061000"
  },
  {
    "text": "Ackles if you're coming from a traditional networking world and you're accustomed to having stateless firewalls",
    "start": "1002279",
    "end": "1007850"
  },
  {
    "text": "stateless firewalls means the it doesn't care about the connection state of a packet you have an outbound set of rules",
    "start": "1007850",
    "end": "1014730"
  },
  {
    "text": "and an inbound set of rules and those rules are just applied it's kind of blunt tool for for traffic you'll see",
    "start": "1014730",
    "end": "1022230"
  },
  {
    "text": "that there's a you'll see that like the route table they're applied on a subnet by subnet basis but I have a main one",
    "start": "1022230",
    "end": "1028798"
  },
  {
    "text": "for my V PC you'll see that there's these rules here they're applied in order according to the cider rules they",
    "start": "1028799",
    "end": "1034860"
  },
  {
    "text": "should remind you a little bit of IP tables rules if you're if you're familiar with those and again no connection tracking totally stateless",
    "start": "1034860",
    "end": "1041970"
  },
  {
    "text": "you've got one of these for ingress packets coming in you got one of these for egress packets going out and this is",
    "start": "1041970",
    "end": "1048029"
  },
  {
    "text": "this verdict is this verdict is just applied regardless of connection state this is the network Akal that I got out",
    "start": "1048029",
    "end": "1054149"
  },
  {
    "text": "of the box and you'll see that I'm if you interpret those rules you see that I'm allowing everything and that's because I'm going",
    "start": "1054149",
    "end": "1060390"
  },
  {
    "text": "to use security groups and you can use both in conjunction but security groups are something that everybody deploying",
    "start": "1060390",
    "end": "1067110"
  },
  {
    "start": "1061000",
    "end": "1169000"
  },
  {
    "text": "applications on AWS who wants to be secure is going to take advantage of",
    "start": "1067110",
    "end": "1072320"
  },
  {
    "text": "security groups are best explained with an example so I'm going to give you a really simple example of an application",
    "start": "1072320",
    "end": "1078870"
  },
  {
    "text": "that I've deployed here on AWS it consists of some web servers and these",
    "start": "1078870",
    "end": "1083970"
  },
  {
    "text": "are web servers that I want open to the world taking everybody in the world's HTTP traffic and in the course of",
    "start": "1083970",
    "end": "1091470"
  },
  {
    "text": "handling my customers requests they're gonna turn around and make calls to fleet of back-end servers okay now let",
    "start": "1091470",
    "end": "1099690"
  },
  {
    "text": "me think about let me think about network security here what do I want what do I want to restrict this thing",
    "start": "1099690",
    "end": "1105810"
  },
  {
    "text": "down to well for one thing there are two",
    "start": "1105810",
    "end": "1111180"
  },
  {
    "text": "different there are two different security groupings here right there's the group of web servers is the group of",
    "start": "1111180",
    "end": "1117480"
  },
  {
    "text": "backends and each of them I have different kinds of traffic that I'm looking to allow so that's what a security group is a security group is a",
    "start": "1117480",
    "end": "1124320"
  },
  {
    "text": "group of instances that all have in common what kinds of network traffic they're going to allow so if I think",
    "start": "1124320",
    "end": "1131430"
  },
  {
    "text": "about the web service security group I'm trying to allow web traffic from everywhere but I probably only want web",
    "start": "1131430",
    "end": "1138360"
  },
  {
    "text": "traffic I don't want the world trying to ssh to these instances for example so i want only that specific port but open to",
    "start": "1138360",
    "end": "1144690"
  },
  {
    "text": "all addresses the backends is for the backends i actually only want anything",
    "start": "1144690",
    "end": "1151320"
  },
  {
    "text": "that has a membership in the web servers to be able to talk to it certainly nobody from the internet and you know i",
    "start": "1151320",
    "end": "1157860"
  },
  {
    "text": "can lock it down even further if you're not a web server I don't want you sending traffic and it probably has a",
    "start": "1157860",
    "end": "1162990"
  },
  {
    "text": "specific port that the back-end service is running on I'm using two three four or five in this example so this is what",
    "start": "1162990",
    "end": "1170640"
  },
  {
    "start": "1169000",
    "end": "1292000"
  },
  {
    "text": "security groups let you express exactly what I just said they're a stateful",
    "start": "1170640",
    "end": "1176130"
  },
  {
    "text": "firewall which is actually typically what you want stateful means that they",
    "start": "1176130",
    "end": "1181950"
  },
  {
    "text": "do connection tracking which means you need to allow the packet that initiates the connection but once the connection",
    "start": "1181950",
    "end": "1188040"
  },
  {
    "text": "is established the returned traffic for this established connection is allowed and like I said that's usually what you want so we're looking",
    "start": "1188040",
    "end": "1195139"
  },
  {
    "text": "at the ingress inbound security group rules for the webservers group and",
    "start": "1195139",
    "end": "1200869"
  },
  {
    "text": "you'll see here I've got one rule here HTTP so that's TCP port 80 I'm allowing",
    "start": "1200869",
    "end": "1207139"
  },
  {
    "text": "everything it was pretty simple and if somebody initiates a connection to me and it doesn't match this rule it's on",
    "start": "1207139",
    "end": "1214459"
  },
  {
    "text": "some other port my instance is not going to receive that packet so that's what I",
    "start": "1214459",
    "end": "1219589"
  },
  {
    "text": "want now let's move on to the backends and look at their security group and you'll see I create you can have",
    "start": "1219589",
    "end": "1225529"
  },
  {
    "text": "multiple rules here but to keep things simple I have one rule on each now this rule if you look at this rule you'll see",
    "start": "1225529",
    "end": "1232190"
  },
  {
    "text": "that okay port 2 3 4 5 I'm not talking about a specific range IP address range",
    "start": "1232190",
    "end": "1238789"
  },
  {
    "text": "or list of IP address ranges I'm actually referring to another security group that's the identifier of the my",
    "start": "1238789",
    "end": "1245119"
  },
  {
    "text": "web servers security group and you can see how this you get you probably instantly see how this is easier to",
    "start": "1245119",
    "end": "1250789"
  },
  {
    "text": "manage then then what you might have been doing with firewalls before where either you would have to open it up to",
    "start": "1250789",
    "end": "1257450"
  },
  {
    "text": "some range and kind of hope for the best even though you knew that you you know you knew there might be some holes in that range or maybe or maybe you tried",
    "start": "1257450",
    "end": "1264679"
  },
  {
    "text": "to keep up with a laundry list of specific hosts this makes things easy you know an ec2 the web servers I'm",
    "start": "1264679",
    "end": "1271459"
  },
  {
    "text": "probably gonna be scaling that thing up and scaling it down and terminating and launching instances into that group all the time I might even be having an auto",
    "start": "1271459",
    "end": "1278119"
  },
  {
    "text": "scaling group do this for me that's ok all these instances they have membership",
    "start": "1278119",
    "end": "1283459"
  },
  {
    "text": "in the correct security groups and I don't need to stay on top of what the list of instances is at any given point",
    "start": "1283459",
    "end": "1289549"
  },
  {
    "text": "in time that needs to get into the backends a couple more notes about security groups before we move on I",
    "start": "1289549",
    "end": "1295339"
  },
  {
    "start": "1292000",
    "end": "1397000"
  },
  {
    "text": "showed you ingress security groups but we also have egress security groups in VPC generally ingress groups are used",
    "start": "1295339",
    "end": "1302359"
  },
  {
    "text": "more often than egress groups but egress groups are how egress security group rules are are what you what you specify",
    "start": "1302359",
    "end": "1310489"
  },
  {
    "text": "if you want to limit what kinds of connections can be initiated from your instances so that gives you a level of",
    "start": "1310489",
    "end": "1316909"
  },
  {
    "text": "control in the other direction as the best practice you should do what I did whenever you can refer to other security",
    "start": "1316909",
    "end": "1323389"
  },
  {
    "text": "groups you should just because that's much much lower maintenance and easier to stay on top of and see what's",
    "start": "1323389",
    "end": "1328549"
  },
  {
    "text": "happening and finally one pattern that I observe with customers who are you know",
    "start": "1328549",
    "end": "1334460"
  },
  {
    "text": "following security best practices is they deploy their applications ec2 gives",
    "start": "1334460",
    "end": "1339500"
  },
  {
    "text": "you gives you the ability to launch an ec2 instance into something called an IM role I am stands for Identity and Access",
    "start": "1339500",
    "end": "1346309"
  },
  {
    "text": "Management an I am role that you launch an ec2 instance grants it permissions",
    "start": "1346309",
    "end": "1352520"
  },
  {
    "text": "specific permissions that you that you specify what operations it can do in AWS",
    "start": "1352520",
    "end": "1358370"
  },
  {
    "text": "on behalf of your on behalf of on behalf of your account without having to smear",
    "start": "1358370",
    "end": "1365419"
  },
  {
    "text": "credentials across all over the place which would be a security worst practice so I am roles give you a nice clean way",
    "start": "1365419",
    "end": "1372200"
  },
  {
    "text": "to authorize your instances to do specific things so your I am role is what your instance can do your security",
    "start": "1372200",
    "end": "1378260"
  },
  {
    "text": "group is who your instance can talk to so you can see how there might be a natural one-to-one relationship between",
    "start": "1378260",
    "end": "1384799"
  },
  {
    "text": "these two concepts and this is something this is something that I that I that I often see this one-to-one relationship",
    "start": "1384799",
    "end": "1390980"
  },
  {
    "text": "between what you can do your I am role who you can talk to your security groups",
    "start": "1390980",
    "end": "1397179"
  },
  {
    "start": "1397000",
    "end": "1475000"
  },
  {
    "text": "you know what at this point if you're looking to create an internet-connected VPC you probably know almost everything",
    "start": "1397360",
    "end": "1404210"
  },
  {
    "text": "there is everything there is that you need to know to be productive here and to be completely secure these security",
    "start": "1404210",
    "end": "1410030"
  },
  {
    "text": "groups if you architect them after the shape of your application you're secure",
    "start": "1410030",
    "end": "1415059"
  },
  {
    "text": "but there are some more connectivity options that you might be interested in",
    "start": "1415059",
    "end": "1420740"
  },
  {
    "text": "just depending on the needs of your deployment and your workloads we're going to talk about three of them here",
    "start": "1420740",
    "end": "1426850"
  },
  {
    "text": "we're going to talk about we're gonna talk about remember I mentioned that",
    "start": "1426850",
    "end": "1432049"
  },
  {
    "text": "routing is done on a subnet by subnet basis I'll show you a little bit more about that and specifically about how",
    "start": "1432049",
    "end": "1438350"
  },
  {
    "text": "maybe you don't want internet access on your entire V PC and what you can do about that then we'll talk about a",
    "start": "1438350",
    "end": "1444440"
  },
  {
    "text": "feature called V PC peering that'll allows you to connect multiple V pcs sometimes even across multiple accounts",
    "start": "1444440",
    "end": "1450799"
  },
  {
    "text": "and then we'll talk about your on-premises network if you have one because many of you are in the process",
    "start": "1450799",
    "end": "1457010"
  },
  {
    "text": "of migrating to the cloud you know for a long for a long time you're gonna have a network on premises",
    "start": "1457010",
    "end": "1462560"
  },
  {
    "text": "and a network in V PC and you want these two networks to function isn't as extensions of one another to be able to",
    "start": "1462560",
    "end": "1469880"
  },
  {
    "text": "allow for a seamless migration and great secure connectivity between these networks okay so first let's talk a little bit",
    "start": "1469880",
    "end": "1476840"
  },
  {
    "start": "1475000",
    "end": "1735000"
  },
  {
    "text": "about routing on a subnet by subnet basis that V PC we created before and",
    "start": "1476840",
    "end": "1482660"
  },
  {
    "text": "your default V PC it's got Internet connectivity from all of its subnets and that's good you know and remember we",
    "start": "1482660",
    "end": "1490430"
  },
  {
    "text": "have this application with web servers and backends they were in they were in different security groups which you should",
    "start": "1490430",
    "end": "1497120"
  },
  {
    "text": "definitely do regardless of what you do with with subnets and routing but you",
    "start": "1497120",
    "end": "1502700"
  },
  {
    "text": "might have compliance various rate regulatory compliance needs that require",
    "start": "1502700",
    "end": "1508970"
  },
  {
    "text": "you to let's say these backends are handling sensitive data require you to prove that they are not even routable",
    "start": "1508970",
    "end": "1514910"
  },
  {
    "text": "from the internet they don't have publicly routable IP addresses and there is no route between them and the",
    "start": "1514910",
    "end": "1520670"
  },
  {
    "text": "internet or you may just be looking to take kind of a belt suspenders and mitten clips approach here and make sure",
    "start": "1520670",
    "end": "1526970"
  },
  {
    "text": "that you know make sure that they really are disconnected from the internet so what you can do in addition to security",
    "start": "1526970",
    "end": "1532640"
  },
  {
    "text": "groups is you can put them in different subnets you and since subnets are the",
    "start": "1532640",
    "end": "1538370"
  },
  {
    "text": "unit at which you can do routing I can have the web servers have a route to the internet but the backends would have",
    "start": "1538370",
    "end": "1545030"
  },
  {
    "text": "just that local route so the backends are only reachable from the V PC there's no there's no route but the web servers",
    "start": "1545030",
    "end": "1553250"
  },
  {
    "text": "are reachable from the internet I'm going to redraw this picture with these two subnets side by side over on the",
    "start": "1553250",
    "end": "1560120"
  },
  {
    "text": "left hand side we're gonna have with our documentation calls a private subnet and",
    "start": "1560120",
    "end": "1565430"
  },
  {
    "text": "very precisely a private subnet is a subnet that has no route to the Internet and on the right hand side we're gonna",
    "start": "1565430",
    "end": "1570470"
  },
  {
    "text": "have a subnet with a route to the internet what our documentation calls the public subnet okay now often when",
    "start": "1570470",
    "end": "1577760"
  },
  {
    "text": "you have a setup like this it's not exactly true that you want the private subnet completely cut off from the",
    "start": "1577760",
    "end": "1584270"
  },
  {
    "text": "Internet you want the instances in there you do not want them to have public IP addresses and you don't want them to be",
    "start": "1584270",
    "end": "1589910"
  },
  {
    "text": "reachable from the Internet but you do want them to be able to initiate outbound connections for",
    "start": "1589910",
    "end": "1595520"
  },
  {
    "text": "example they may need to reach out to a young repo to update their software so",
    "start": "1595520",
    "end": "1601280"
  },
  {
    "text": "you want me to be able to initiate these connections and get replies back but you don't want the outside to be able to initiate connections to them and that is",
    "start": "1601280",
    "end": "1609620"
  },
  {
    "text": "that is why you would use our nat gateway nat gateway is a new feature that we announced just this last",
    "start": "1609620",
    "end": "1615830"
  },
  {
    "text": "december and what it does is it takes care of network address translation for",
    "start": "1615830",
    "end": "1621799"
  },
  {
    "text": "you on a in a completely managed way so a very low touch low maintenance way to do nat network address translation",
    "start": "1621799",
    "end": "1628340"
  },
  {
    "text": "because the traditional approach to being able to do this sort of private subnet thing is to have a single public",
    "start": "1628340",
    "end": "1635150"
  },
  {
    "text": "IP address behind which they behind which they all at but behind which they",
    "start": "1635150",
    "end": "1640309"
  },
  {
    "text": "can all send traffic to the internet these the packets that they send our NAT in so that out on the internet it looks",
    "start": "1640309",
    "end": "1645950"
  },
  {
    "text": "like all of the all of the traffic is coming from the single IP address and of course the NAT is also doing some",
    "start": "1645950",
    "end": "1651890"
  },
  {
    "text": "connection state tracking so that the replies get back to the respective instances that they should so that's",
    "start": "1651890",
    "end": "1657860"
  },
  {
    "text": "what an ACK eight-way is that's in that gateway what the way set up in that",
    "start": "1657860",
    "end": "1663290"
  },
  {
    "text": "gateway is you associate a single public IP address for it the neck eight-way itself of course must live in your",
    "start": "1663290",
    "end": "1669559"
  },
  {
    "text": "public subnet because it's gonna it has a public IP address and it's gonna talk to the internet but from your private",
    "start": "1669559",
    "end": "1677270"
  },
  {
    "text": "subnet you're gonna create a route you're gonna say 0/0 traffic it's not gonna go to an internet gateway anymore",
    "start": "1677270",
    "end": "1683840"
  },
  {
    "text": "so that's not what I want here it's gonna go to an ACK anyway and then it's gonna work exactly like a net the truck",
    "start": "1683840",
    "end": "1690860"
  },
  {
    "text": "the packets gonna go the packets gonna go to the nak eight-way the nak a twig will make it look like the traffic's coming from 54.1 61 0.39 out to the",
    "start": "1690860",
    "end": "1699860"
  },
  {
    "text": "internet back to the nak go it way do the NAT and the other way get it back to",
    "start": "1699860",
    "end": "1705710"
  },
  {
    "text": "your get it back to your instance and like the Internet gateway this thing is",
    "start": "1705710",
    "end": "1711590"
  },
  {
    "text": "not a it's not something you manage something we manage it's not a single point of failure it's a it's a highly",
    "start": "1711590",
    "end": "1718040"
  },
  {
    "text": "available it's a highly available gateway that's managed by us that does all of this and adding and connect and tracking just for you out of the box",
    "start": "1718040",
    "end": "1724899"
  },
  {
    "text": "so that makes it very easy to have this public and private subnet and still have the connectivity you want without",
    "start": "1724899",
    "end": "1730899"
  },
  {
    "text": "anything that you have to manage on an ongoing basis let's talk about other VP",
    "start": "1730899",
    "end": "1736600"
  },
  {
    "start": "1735000",
    "end": "1954000"
  },
  {
    "text": "C's so there are many setups that call for a call for you to need private",
    "start": "1736600",
    "end": "1743020"
  },
  {
    "text": "connectivity between multiple VP C's here's a very common one let's say you",
    "start": "1743020",
    "end": "1748360"
  },
  {
    "text": "work at a large organization a large organization that you know for various reasons may wish to have multiple AWS",
    "start": "1748360",
    "end": "1755289"
  },
  {
    "text": "accounts maybe for separation of billing or for other kinds of reasons and you have all of these teams around your",
    "start": "1755289",
    "end": "1761380"
  },
  {
    "text": "organization maybe you've given them each an account so each of them is gonna have its own V PC or V pcs and but you",
    "start": "1761380",
    "end": "1769149"
  },
  {
    "text": "but you have some organization wide shared services there's a list of them there's a list of them here and some of",
    "start": "1769149",
    "end": "1775120"
  },
  {
    "text": "them might in fact be cost prohibitive to replicate in all of your customers in",
    "start": "1775120",
    "end": "1780429"
  },
  {
    "text": "all of your teams satellite V pcs over there now you know one approaches you",
    "start": "1780429",
    "end": "1785710"
  },
  {
    "text": "could have a shared services V PC you could put these services you could put these internal services out on the Internet and that would work but often",
    "start": "1785710",
    "end": "1792880"
  },
  {
    "text": "you don't want to often you don't want to have to for example attach an Internet gateway make this stuff",
    "start": "1792880",
    "end": "1798340"
  },
  {
    "text": "publicly routable just in order to accomplish that so this is where V PC",
    "start": "1798340",
    "end": "1803770"
  },
  {
    "text": "peering comes in V PC peering is - V pcs in the same region with non overlapping",
    "start": "1803770",
    "end": "1810720"
  },
  {
    "text": "IP address ranges between which you can establish private connectivity within",
    "start": "1810720",
    "end": "1818260"
  },
  {
    "text": "the region and as a matter of fact we just announced a pretty important",
    "start": "1818260",
    "end": "1823630"
  },
  {
    "text": "improvement to V PC peering just this past February you remember security groups and how you",
    "start": "1823630",
    "end": "1829090"
  },
  {
    "text": "can allow one security group into another and how that's a nice flexible way to define security after your",
    "start": "1829090",
    "end": "1835299"
  },
  {
    "text": "applications well you can now do this across appearing - so blue security",
    "start": "1835299",
    "end": "1840669"
  },
  {
    "text": "group can a lot can specify a security group over in orange V PC and allow just",
    "start": "1840669",
    "end": "1846340"
  },
  {
    "text": "that traffic in and you can see if blue is vending some shared services from there you can see how this might be very",
    "start": "1846340",
    "end": "1851409"
  },
  {
    "text": "useful all right so appearing can involve multiple accounts you can",
    "start": "1851409",
    "end": "1858500"
  },
  {
    "text": "peer across accounts you can peer to networks within an account and because of that appearing doesn't happen until",
    "start": "1858500",
    "end": "1864049"
  },
  {
    "text": "both sides have completed a two-way handshake so the handshake kind of looks like this",
    "start": "1864049",
    "end": "1869809"
  },
  {
    "text": "orange VPC initiates a peering request to blue VP sees orange VPC knows blue VP",
    "start": "1869809",
    "end": "1875510"
  },
  {
    "text": "sees account number and VP CID in order to do this it looks like this you see you can see here how you say my account",
    "start": "1875510",
    "end": "1882080"
  },
  {
    "text": "or another account blue VP sees job is then to review that request and accept",
    "start": "1882080",
    "end": "1888830"
  },
  {
    "text": "or reject it that's gonna look like this blue V PC is gonna see something over here that says pending acceptance it's",
    "start": "1888830",
    "end": "1896179"
  },
  {
    "text": "going to accept it and now and only now is there appearing there's a peering",
    "start": "1896179",
    "end": "1902809"
  },
  {
    "text": "here but everything interesting that happens in a V PC happens because of a",
    "start": "1902809",
    "end": "1908120"
  },
  {
    "text": "route so now we're gonna create a route to the peering connection we're gonna",
    "start": "1908120",
    "end": "1914510"
  },
  {
    "text": "create routes and they're gonna look like this it's gonna look like this one right here PC X stands for peer in",
    "start": "1914510",
    "end": "1919639"
  },
  {
    "text": "connection and what this looks like is an orange V PC if I'm sending a packet to 10.55 dot something that means it's",
    "start": "1919639",
    "end": "1926809"
  },
  {
    "text": "supposed to go to the blue V PC that means it's supposed to go to the peering connection now you'll see my route",
    "start": "1926809",
    "end": "1932450"
  },
  {
    "text": "tables getting a little bit longer here but even though it's getting longer it's very readable you can you can look at",
    "start": "1932450",
    "end": "1938510"
  },
  {
    "text": "this route table and see exactly what your intentions are with getting packets around and out of your V PC you can see",
    "start": "1938510",
    "end": "1946700"
  },
  {
    "text": "where everything is intended to go now you might be noticing that there's another rule at the bottom of this route table that you don't know what that does",
    "start": "1946700",
    "end": "1952669"
  },
  {
    "text": "yet what that does that's a vgw that's a virtual gateway that gets you back to",
    "start": "1952669",
    "end": "1958250"
  },
  {
    "start": "1954000",
    "end": "2216000"
  },
  {
    "text": "your on-premises network so we're gonna talk about VPN virtual private network",
    "start": "1958250",
    "end": "1964940"
  },
  {
    "text": "and Direct Connect these are a pair of technologies that allow you to make your V PC an extension of a your on-premises",
    "start": "1964940",
    "end": "1971120"
  },
  {
    "text": "network by creating a private and secure connection between them as a little point of history",
    "start": "1971120",
    "end": "1976899"
  },
  {
    "text": "this feature this ability to connect your on-premises data center to your V",
    "start": "1976899",
    "end": "1982370"
  },
  {
    "text": "PC was in fact the genesis of the V PC product easy to existed before V PC",
    "start": "1982370",
    "end": "1987500"
  },
  {
    "text": "there was an ec2 before before was a VPC before there was a VP see you",
    "start": "1987500",
    "end": "1992840"
  },
  {
    "text": "could launch an ec2 instance and it would come up with it it would have a private IP address that would be in the",
    "start": "1992840",
    "end": "1998570"
  },
  {
    "text": "ten dot range Amazon would pick it for you it would be in a flat network so you get your ten dot range and you had a",
    "start": "1998570",
    "end": "2005350"
  },
  {
    "text": "choice between Internet connectivity or Internet connectivity so you've got Internet connectivity and a public IP address also chosen by Amazon and you",
    "start": "2005350",
    "end": "2012490"
  },
  {
    "text": "didn't know in the network right that this wasn't a network that you own you got virtual machines in the cloud this thing is called ec2 classic it still",
    "start": "2012490",
    "end": "2018880"
  },
  {
    "text": "exists for older accounts if you're using a situ class it could definitely make sense to take a look at VPC",
    "start": "2018880",
    "end": "2025030"
  },
  {
    "text": "features just because just because it offers you more control of your network but that's how the world was before",
    "start": "2025030",
    "end": "2033150"
  },
  {
    "text": "before before VPC now we had customers larger customers looking at migrating",
    "start": "2033150",
    "end": "2039730"
  },
  {
    "text": "their workloads to the cloud and these customers they had their own networks that they were gonna need to be able to securely connect to these hosts that",
    "start": "2039730",
    "end": "2047169"
  },
  {
    "text": "these virtual machines they were gonna be running in the cloud now many of these customers themselves had addresses",
    "start": "2047169",
    "end": "2053260"
  },
  {
    "text": "in the ten dot range so how is that going to work and we realized what we needed to do was give customers a",
    "start": "2053260",
    "end": "2059260"
  },
  {
    "text": "network that they could control that they could for example to find the addresses for and that they could connect up so this is actually where VPC",
    "start": "2059260",
    "end": "2066460"
  },
  {
    "text": "was born even though now it is only one of many things that it does so that's",
    "start": "2066460",
    "end": "2071530"
  },
  {
    "text": "what this does you got your data center on your left you got your V PC on your right and you",
    "start": "2071530",
    "end": "2076570"
  },
  {
    "text": "can use VPN to connect them you can use Direct Connect I'm gonna do I'm gonna very quickly touch on some concepts you",
    "start": "2076570",
    "end": "2083590"
  },
  {
    "text": "need to know to set up a VPN and then talk to you about kind of the difference between VPN and Direct Connect and sort",
    "start": "2083590",
    "end": "2088898"
  },
  {
    "text": "of what you need to know this is a deeper topic as you might imagine it involves more networking because there's",
    "start": "2088899",
    "end": "2094510"
  },
  {
    "text": "networking on the left-hand side of the picture that you manage but here's what you need to know about VPN VPN involves",
    "start": "2094510",
    "end": "2101080"
  },
  {
    "text": "a networking device in your data center that you manage it's called a customer gateway you're the customer and it's",
    "start": "2101080",
    "end": "2107320"
  },
  {
    "text": "your gateway this is your side of the VPN connection there's a long list of network devices from various vendors",
    "start": "2107320",
    "end": "2114400"
  },
  {
    "text": "that that we support and specific documentation for each of these how you",
    "start": "2114400",
    "end": "2119440"
  },
  {
    "text": "get it set up but this is your end of the encrypted IPSec connection Ruby PC your",
    "start": "2119440",
    "end": "2126580"
  },
  {
    "text": "customer gateway because the VPN connection is going to go over the internet your customer gateway is gonna",
    "start": "2126580",
    "end": "2132130"
  },
  {
    "text": "have a static public IP address associated with it that we can reach on our side is a virtual gateway the word",
    "start": "2132130",
    "end": "2140980"
  },
  {
    "text": "gateway should be setting off bells in your head by now so our sides a virtual gateway your",
    "start": "2140980",
    "end": "2146230"
  },
  {
    "text": "sides a customer gateway if you follow our instructions you end up setting up two redundant IPSec tunnels between your",
    "start": "2146230",
    "end": "2153190"
  },
  {
    "text": "customer gateway and our virtual gateway to IPSec tunnel tunnels that's for redundancy sake and in fact they",
    "start": "2153190",
    "end": "2159850"
  },
  {
    "text": "terminate in different availability zones over on our end and that's us taking advantage of our own high",
    "start": "2159850",
    "end": "2165850"
  },
  {
    "text": "availability concepts to give you a highly available VPN connection so there you have it you've got your IPSec",
    "start": "2165850",
    "end": "2172000"
  },
  {
    "text": "connection between your data center and your V PC and what that route propagation has done via BGP if you're",
    "start": "2172000",
    "end": "2178090"
  },
  {
    "text": "if your device supports that otherwise you can do static route propagation and",
    "start": "2178090",
    "end": "2184080"
  },
  {
    "text": "and now you've made it so that if you're",
    "start": "2184080",
    "end": "2189820"
  },
  {
    "text": "in the V PC and you're sending traffic to your data center let's say it's a 192 dot 168 address it gets to your data",
    "start": "2189820",
    "end": "2196900"
  },
  {
    "text": "center and if you say if you're in the data center and you send traffic to 170 2.31 dot something it gets where it's",
    "start": "2196900",
    "end": "2202120"
  },
  {
    "text": "supposed to go and again this is done with a route there's your route goes to",
    "start": "2202120",
    "end": "2207340"
  },
  {
    "text": "a virtual gateway looks like all the other routes 192 dot 168 going to my data center it's gonna go to the virtual",
    "start": "2207340",
    "end": "2213400"
  },
  {
    "text": "virtual gateway and it gets routed correctly now we talked about VPN Direct",
    "start": "2213400",
    "end": "2219460"
  },
  {
    "start": "2216000",
    "end": "2270000"
  },
  {
    "text": "Connect achieves the same goal a private connection between your your network and",
    "start": "2219460",
    "end": "2226030"
  },
  {
    "text": "your V PC VPN goes over the internet it's a pair of IPSec tunnels Direct",
    "start": "2226030",
    "end": "2231490"
  },
  {
    "text": "Connect is what it sounds like it's a direct connection in one of our many colocation centers around the world",
    "start": "2231490",
    "end": "2236770"
  },
  {
    "text": "between your equipment in ours so there's actually a physical there's a physical cable between your equipment in ours you mean you would pick Direct",
    "start": "2236770",
    "end": "2243460"
  },
  {
    "text": "Connect over VPN if you have higher data transfer needs data Direct Connect offers high report speeds",
    "start": "2243460",
    "end": "2249790"
  },
  {
    "text": "one gig and ten gig it offered it also offers a lower per gig of it",
    "start": "2249790",
    "end": "2255109"
  },
  {
    "text": "to transfer rate so higher data transfer rate higher data transfer needs you're probably looking at Direct Connect we",
    "start": "2255109",
    "end": "2261710"
  },
  {
    "text": "see customers use both to set up a direct connect with redundant VPN behind it for for a really high available",
    "start": "2261710",
    "end": "2267739"
  },
  {
    "text": "highly available connection all right so that's enough about connectivity let's",
    "start": "2267739",
    "end": "2272869"
  },
  {
    "start": "2270000",
    "end": "2554000"
  },
  {
    "text": "talk about some other services of a network some that you may not even always think about Chuck about DNS",
    "start": "2272869",
    "end": "2279019"
  },
  {
    "text": "because in a network whoever's running in your network is going to need to be able to resolve DNS",
    "start": "2279019",
    "end": "2284989"
  },
  {
    "text": "names domain names now VPC does dns for you and you'll see that there are two",
    "start": "2284989",
    "end": "2291789"
  },
  {
    "text": "dns options here the vast majority of customers choose yes for both of these",
    "start": "2291789",
    "end": "2297440"
  },
  {
    "text": "the first question is do you want do you want a double us to do dns for you and",
    "start": "2297440",
    "end": "2303109"
  },
  {
    "text": "you probably don't want to be you're probably in this business because you don't want to be operating your own DNS and things like that so you're probably",
    "start": "2303109",
    "end": "2309019"
  },
  {
    "text": "gonna say yes the vast majority of our customers do but you can be PC is really",
    "start": "2309019",
    "end": "2314029"
  },
  {
    "text": "flexible you can run your own DNS and it's document our documentation explains how to do that the second one is uh do I",
    "start": "2314029",
    "end": "2322249"
  },
  {
    "text": "want to get ec2 DNS names on my ec2 instances let me show you what you get",
    "start": "2322249",
    "end": "2328730"
  },
  {
    "text": "if you say yes for this whenever I launch an instance I get two DNS names for the price of zero the first one here",
    "start": "2328730",
    "end": "2335960"
  },
  {
    "text": "looks like it looks like it has my private IP address embedded in it and it does and when I resolve that in my V PC",
    "start": "2335960",
    "end": "2342259"
  },
  {
    "text": "I get exactly what you would expect the private IP address that looks like it's part of that string the second DNS names",
    "start": "2342259",
    "end": "2349039"
  },
  {
    "text": "a little more interesting this one looks like I have a public IP address on this instance this one looks like it has the",
    "start": "2349039",
    "end": "2354769"
  },
  {
    "text": "public IP address embedded in it now this DNS name has some interesting has",
    "start": "2354769",
    "end": "2359989"
  },
  {
    "text": "some very useful characteristics in that it resolves to the right answer from",
    "start": "2359989",
    "end": "2365569"
  },
  {
    "text": "wherever I'm asking so if I'm outside the V PC here I'm outside this V PC on some Windows machine somewhere so I do",
    "start": "2365569",
    "end": "2372440"
  },
  {
    "text": "an nslookup of this DNS name and I get the public IP address back and that's",
    "start": "2372440",
    "end": "2378440"
  },
  {
    "text": "the right answer if I'm outside the V PC and I'm trying to talk to this instance ec2 instance that has a public IP",
    "start": "2378440",
    "end": "2384410"
  },
  {
    "text": "address I should be using its public IP address that's how its routable from the internet now if I then",
    "start": "2384410",
    "end": "2390680"
  },
  {
    "text": "go but then go inside my V PC and do the same query you'll see I get a different",
    "start": "2390680",
    "end": "2397219"
  },
  {
    "text": "answer I get the private IP address of my instance so the DNS and my V PC was smart enough to realize that I should be",
    "start": "2397219",
    "end": "2404329"
  },
  {
    "text": "using a private IP address to talk to this instance you always want to use IP addresses inside your network to",
    "start": "2404329",
    "end": "2410119"
  },
  {
    "text": "communicate within your network and that that makes it so that your security groups work and all of that so I've got",
    "start": "2410119",
    "end": "2416390"
  },
  {
    "text": "this nice DNS name and by the way the DNS names I'm not showing this here but the DNS names that other services like",
    "start": "2416390",
    "end": "2422630"
  },
  {
    "text": "like relational database service RDS elastic load balancer lb all these services give you DNS names that if you",
    "start": "2422630",
    "end": "2429710"
  },
  {
    "text": "resolve them you'll see that they're canonical names cname entries for ec2",
    "start": "2429710",
    "end": "2435229"
  },
  {
    "text": "host names the ec2 instance that for example your RDS database is actually running on and you'll see that again",
    "start": "2435229",
    "end": "2440960"
  },
  {
    "text": "they resolve to the right they resolve to the right address the right way to reach your RDS database from wherever",
    "start": "2440960",
    "end": "2446210"
  },
  {
    "text": "your asking but there's even more that you can do with DNS and your V PC this is an especially neat feature of V PC",
    "start": "2446210",
    "end": "2453170"
  },
  {
    "text": "it's called route 53 private hosted zones what it lets you do there's some",
    "start": "2453170",
    "end": "2458569"
  },
  {
    "text": "words on this slide about what it does it lets you be DNS God in your V PC it lets you it lets you take over certain",
    "start": "2458569",
    "end": "2465769"
  },
  {
    "text": "domains for V PC for insight inside your V PC and specify exactly how DNS is",
    "start": "2465769",
    "end": "2473089"
  },
  {
    "text": "supposed to work and you can do all of this without having deep knowledge of DNS without operating any DNS machinery",
    "start": "2473089",
    "end": "2479390"
  },
  {
    "text": "and yet you can completely control your DNS using this capability to give you kind of a split horizon kind of DNS if",
    "start": "2479390",
    "end": "2486619"
  },
  {
    "text": "that's what you want I'm over here in the route 53 control plane because that's where you go to do all things DNS",
    "start": "2486619",
    "end": "2493279"
  },
  {
    "text": "you'll see that I'm gonna set up a private hosted zone on demo hosted zone dot org yeah you don't even need to own",
    "start": "2493279",
    "end": "2499339"
  },
  {
    "text": "this domain I don't own demo hosting zone org I don't think anybody does route 53 lets you create public or",
    "start": "2499339",
    "end": "2505640"
  },
  {
    "text": "private hosted zones public hosted zones means they are DNS zones out on the internet you know where you say how",
    "start": "2505640",
    "end": "2511219"
  },
  {
    "text": "everybody's going to resolve this domain then you need to own it but for a for a V PC you don't so I've got my private",
    "start": "2511219",
    "end": "2518180"
  },
  {
    "text": "hosted zone of specified one or more V PCs that I want it to take effect in I go into my hosted zone and I start",
    "start": "2518180",
    "end": "2525260"
  },
  {
    "text": "creating some records let me create an a record that will resolve to an ipv4 address to example demo hosted zone org",
    "start": "2525260",
    "end": "2532160"
  },
  {
    "text": "and this is what I say it should resolve to great I'm gonna go to an instance on",
    "start": "2532160",
    "end": "2537860"
  },
  {
    "text": "my V PC I'm gonna try resolving that and look it resolved exactly to what I said",
    "start": "2537860",
    "end": "2543110"
  },
  {
    "text": "it should so that's DNS a service it's usually that that can be pretty hard to",
    "start": "2543110",
    "end": "2548660"
  },
  {
    "text": "run can be pretty hard to operate this just done for you and you have tremendous control over it and there's a",
    "start": "2548660",
    "end": "2554780"
  },
  {
    "start": "2554000",
    "end": "2817000"
  },
  {
    "text": "couple more little things that I want to touch on here one thing that we released",
    "start": "2554780",
    "end": "2559880"
  },
  {
    "text": "almost exactly a year ago is something called VPC flow logs V PC if you turn on",
    "start": "2559880",
    "end": "2566060"
  },
  {
    "text": "V PC flow log so V PC flow logs they're great for they're great for a whole",
    "start": "2566060",
    "end": "2571460"
  },
  {
    "text": "whole host of compliance and security needs they're also really useful for debugging what it does if you turn on V",
    "start": "2571460",
    "end": "2578570"
  },
  {
    "text": "PC flow logs and you can turn it on for individual instances for a whole subnet at a time for a whole V PC at a time",
    "start": "2578570",
    "end": "2584920"
  },
  {
    "text": "what you get if you turn on V PC flow logs is you get a you get a full",
    "start": "2584920",
    "end": "2590980"
  },
  {
    "text": "aggregated dump of all of the packet metadata so I'm talking source IP address destination IP address source",
    "start": "2590980",
    "end": "2597200"
  },
  {
    "text": "port destination port protocol you get all of that aggregated metadata to be able to in in dumps in cloud watch logs",
    "start": "2597200",
    "end": "2604790"
  },
  {
    "text": "where you can easily just go and pick it up and run scripts over it and analyze it so you can see for each of your ec2",
    "start": "2604790",
    "end": "2611480"
  },
  {
    "text": "instances exactly who was trying to talk to it who it was trying to talk to and",
    "start": "2611480",
    "end": "2617510"
  },
  {
    "text": "how much you can even see if you opt to you can even you can see the packets",
    "start": "2617510",
    "end": "2623000"
  },
  {
    "text": "that actually reached your instances because they were allowed in and you can also see the packets that were rejected",
    "start": "2623000",
    "end": "2629110"
  },
  {
    "text": "because you wrote a security group so you can see who's trying to get past your security group and getting blocked",
    "start": "2629110",
    "end": "2634850"
  },
  {
    "text": "so you have an incredible amount of visibility into what's actually flowing around your V PC now in a traditional",
    "start": "2634850",
    "end": "2643010"
  },
  {
    "text": "network there are ways to do this there's a lot to set up an order for in order to be able to do this you need",
    "start": "2643010",
    "end": "2648320"
  },
  {
    "text": "something collecting all that metadata on each of your hosts you need somewhere to send it you need something to aggregate it you need a",
    "start": "2648320",
    "end": "2654210"
  },
  {
    "text": "place to put it to pick it up this is literally turning something on and then",
    "start": "2654210",
    "end": "2659340"
  },
  {
    "text": "coming back and coming back a couple minutes later to pick it up I've used this for debugging that's that's one",
    "start": "2659340",
    "end": "2664950"
  },
  {
    "text": "thing it's very useful for but you can see all kinds of you can see all kinds of analytics one very interesting application here is you can look at your",
    "start": "2664950",
    "end": "2672030"
  },
  {
    "text": "flow logs compare them with your security groups see if your security groups are clamped down as tightly as",
    "start": "2672030",
    "end": "2677490"
  },
  {
    "text": "they need to be for example here's another thing we released last year that that is that that also increases the",
    "start": "2677490",
    "end": "2686160"
  },
  {
    "text": "level of control that you have in your V PC V PC endpoints for s3 so s3 simple",
    "start": "2686160",
    "end": "2692190"
  },
  {
    "text": "storage service many of you are running your applications on ec2 you're running",
    "start": "2692190",
    "end": "2699060"
  },
  {
    "text": "AC to instances and your data lives in s3 that's a very very common set up and your data is you know part of your",
    "start": "2699060",
    "end": "2705510"
  },
  {
    "text": "application and until you do V PC endpoint you know you need an s3 is that",
    "start": "2705510",
    "end": "2710580"
  },
  {
    "text": "a public IP address and you would need internet access to be able to send requests to s3 what the V PC endpoint",
    "start": "2710580",
    "end": "2718800"
  },
  {
    "text": "allows you to do another way to think about it is it's almost an s3 gateway in your V PC in fact it goes in your route",
    "start": "2718800",
    "end": "2724770"
  },
  {
    "text": "table I'm not showing you that here but it goes in your route table like all of these other routes and they make it so",
    "start": "2724770",
    "end": "2731100"
  },
  {
    "text": "that you can get to s3 without an Internet gateway and you didn't have to change any of your code the deep same",
    "start": "2731100",
    "end": "2736560"
  },
  {
    "text": "dns name for s3 results to the same public IP addresses but that traffic doesn't get routed to through the",
    "start": "2736560",
    "end": "2742500"
  },
  {
    "text": "internet it goes directly to s3 but this gate gives you even more control than",
    "start": "2742500",
    "end": "2747750"
  },
  {
    "text": "that it allows you to use I am policy Identity and Access Management policy to really lock down this channel between",
    "start": "2747750",
    "end": "2754590"
  },
  {
    "text": "your V PC and s3 and what I mean by that is this your V PC endpoint it's an object in your V PC and you can put iam",
    "start": "2754590",
    "end": "2763260"
  },
  {
    "text": "policy on it you can author IM policy that says exactly what colors in this V",
    "start": "2763260",
    "end": "2768870"
  },
  {
    "text": "PC are allowed to do in s3 and you know and on what resource is an s3 it looks a lot like any I M policy that you might",
    "start": "2768870",
    "end": "2775650"
  },
  {
    "text": "author but but it applies specifically to colors from this V PC and you can",
    "start": "2775650",
    "end": "2782820"
  },
  {
    "text": "also lock down the other end you can also their policy on your s3 bucket that",
    "start": "2782820",
    "end": "2789220"
  },
  {
    "text": "references your VP CN point in other words I can create a policy on my s3",
    "start": "2789220",
    "end": "2795550"
  },
  {
    "text": "bucket that a lot that that says unless you're this VP see calling from this VP",
    "start": "2795550",
    "end": "2801250"
  },
  {
    "text": "see end point you can't talk to me so you can see what I've just done I've just kind of created sort of an if and",
    "start": "2801250",
    "end": "2806890"
  },
  {
    "text": "only if between my VP C and s3 I've really clamped down this channel so now I can now I control not only the VP C in",
    "start": "2806890",
    "end": "2814210"
  },
  {
    "text": "the network but also its data in s3 so being able to lock down s3 access like",
    "start": "2814210",
    "end": "2821380"
  },
  {
    "text": "this visibility tools like V PC flow logs network management tools like I",
    "start": "2821380",
    "end": "2826480"
  },
  {
    "text": "like all the power you have over DNS all these connectivity scenarios that we talked about these are all your tools",
    "start": "2826480",
    "end": "2833740"
  },
  {
    "text": "for building a low maintenance easy flexible but as secure as you need it to",
    "start": "2833740",
    "end": "2840730"
  },
  {
    "text": "be networked in the cloud thank you very much",
    "start": "2840730",
    "end": "2847830"
  }
]