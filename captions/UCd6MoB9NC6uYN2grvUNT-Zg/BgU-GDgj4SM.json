[
  {
    "text": "all right can everybody hear me great well thank you so much for coming",
    "start": "6480",
    "end": "11679"
  },
  {
    "text": "i know uh i i don't know what it is with me in this time slot last year i had a presentation at 5 30 and",
    "start": "11679",
    "end": "18080"
  },
  {
    "text": "on thursday and this all i kept thinking myself is man everybody here must want to go grab a beer instead of being here",
    "start": "18080",
    "end": "23600"
  },
  {
    "text": "but thank you for coming i hope this session is valuable for you so my name is john mancuso i'm a",
    "start": "23600",
    "end": "29599"
  },
  {
    "text": "solutions architect i've been with aws for a little over or just about three and a half years now",
    "start": "29599",
    "end": "35520"
  },
  {
    "text": "and over that time one of the things that has brought me the most joy as being an",
    "start": "35520",
    "end": "41280"
  },
  {
    "text": "architect is helping my customers save money and so uh as soon as i saw this session",
    "start": "41280",
    "end": "46559"
  },
  {
    "text": "title i said i have to take it because i know if i can show customers how to build a website that's scalable",
    "start": "46559",
    "end": "52239"
  },
  {
    "text": "and highly available for pennies a month that you would save money very likely",
    "start": "52239",
    "end": "58079"
  },
  {
    "text": "so um that's what i'm here to do and let's get on with it so i took that",
    "start": "58079",
    "end": "63760"
  },
  {
    "text": "requirement that the title very seriously uh and i came up with a couple of requirements like i said i wanted to",
    "start": "63760",
    "end": "69520"
  },
  {
    "text": "build a site that was gonna cost you less than one dollar a month to operate",
    "start": "69520",
    "end": "74960"
  },
  {
    "text": "that's the definition of pennies for me and it had to be highly available scalable and secure so what are the typical ways",
    "start": "74960",
    "end": "81759"
  },
  {
    "text": "of building a website right what are the traditional ways uh typically if you're a developer",
    "start": "81759",
    "end": "87600"
  },
  {
    "text": "you might write code in rails or php.net django whatever your favorite framework",
    "start": "87600",
    "end": "93600"
  },
  {
    "text": "is and publish that to a web server if you're uh you know not quite if",
    "start": "93600",
    "end": "100640"
  },
  {
    "text": "you're not a developer uh maybe a content editor you might leverage a content management system",
    "start": "100640",
    "end": "106079"
  },
  {
    "text": "like wordpress drupal joomla alfresco uh one of one of one of these tools",
    "start": "106079",
    "end": "111920"
  },
  {
    "text": "either way what you're going to end up with very likely if you're deploying on aws is an architecture that looks like this",
    "start": "111920",
    "end": "119360"
  },
  {
    "text": "so this is a standard reference architecture that shows uh you know a highly available highly scalable system",
    "start": "119360",
    "end": "126000"
  },
  {
    "text": "that leverages cloudfront for content caching auto scaling to grow and shrink with demand",
    "start": "126000",
    "end": "131360"
  },
  {
    "text": "uh rds with multiple availability zone mode to handle failovers of the database uh if there's",
    "start": "131360",
    "end": "138480"
  },
  {
    "text": "a if there's a need for it so it's great architecture but it's not going to come in for less",
    "start": "138480",
    "end": "144959"
  },
  {
    "text": "than a dollar a month no matter how you shake it it's not going to come in for less than a dollar a month so i had to scrap that",
    "start": "144959",
    "end": "151760"
  },
  {
    "text": "and start thinking of something else so what are the alternate solutions",
    "start": "151760",
    "end": "156879"
  },
  {
    "text": "well really saying a website is a pretty darn broad thing right so rather than uh what i had to do",
    "start": "156879",
    "end": "162959"
  },
  {
    "text": "is narrow narrow the scope a little bit and say what it is that i want to build and i wanted to build a site that kind",
    "start": "162959",
    "end": "168560"
  },
  {
    "text": "of is probably uh relevant for you know for all the people that would be in this room tonight",
    "start": "168560",
    "end": "173920"
  },
  {
    "text": "and so to do that i said all right let me make a fictitious company so my my elias at amazon is jmn jman it's",
    "start": "173920",
    "end": "180400"
  },
  {
    "text": "something that's kind of stuck so if you ever want to email me jman at amazon.com but uh i wanted to build a fictitious",
    "start": "180400",
    "end": "187120"
  },
  {
    "text": "company called j-man the maker the idea that behind this company is people will upload a",
    "start": "187120",
    "end": "192560"
  },
  {
    "text": "photo to me and maybe i use my makerbot or whatever other kind of tools that i have i when i first started building i",
    "start": "192560",
    "end": "199040"
  },
  {
    "text": "had a hammer and a screwdriver on the slide but then i said all right you know i'll just get rid of that and uh so i use whatever tools that i",
    "start": "199040",
    "end": "205920"
  },
  {
    "text": "have to make a product and ship it to you that's the idea of this fictitious site and it's a pretty simple kind of uh",
    "start": "205920",
    "end": "212799"
  },
  {
    "text": "thing but something i think that's pretty relevant so people would have a home page that describes the business",
    "start": "212799",
    "end": "217840"
  },
  {
    "text": "uh start making page where we're gonna allow you you folks to upload a photo uh and an admin page where only i'll be",
    "start": "217840",
    "end": "224799"
  },
  {
    "text": "able to log in and see photos that have been uploaded and start work on them maybe give an estimate whatever whatever",
    "start": "224799",
    "end": "231120"
  },
  {
    "text": "it is and lastly i need to have a blog right something where i'm going to be giving information",
    "start": "231120",
    "end": "236159"
  },
  {
    "text": "about what it is that we do and and getting traction on the market so that's the site that i want to build",
    "start": "236159",
    "end": "242799"
  },
  {
    "text": "and we're going to do this today by the way live on stage i'm going to build this site for you",
    "start": "242799",
    "end": "248080"
  },
  {
    "text": "and it's going to cost less than a dollar a month all right so what services that can we use we can't",
    "start": "248080",
    "end": "253920"
  },
  {
    "text": "use ec2 uh so what services can we use well the primary one that i want to",
    "start": "253920",
    "end": "259840"
  },
  {
    "text": "leverage is amazon s3 i'm sorry the last slide i should have said there's about 40 other probably 50",
    "start": "259840",
    "end": "265440"
  },
  {
    "text": "now after all the uh announcements i don't know the exact number anymore but i uh uh what the service that we",
    "start": "265440",
    "end": "272000"
  },
  {
    "text": "want to use is amazon s3 what's great about s3 is it can serve static assets",
    "start": "272000",
    "end": "277199"
  },
  {
    "text": "directly so people think of it as storage but it also can act as a web server if",
    "start": "277199",
    "end": "282320"
  },
  {
    "text": "you upload an html page to it people can hit that html page and see it",
    "start": "282320",
    "end": "287759"
  },
  {
    "text": "as long as you give it the appropriate permissions so s3 is going to be our primary place for running this site",
    "start": "287759",
    "end": "295199"
  },
  {
    "text": "that we're gonna build what's great about s3 is it's three cents per gig per month so there's no question that we can beat our our",
    "start": "295199",
    "end": "301840"
  },
  {
    "text": "less than a dollar a month requirement i mean even with a pretty large site we could probably still meet that without",
    "start": "301840",
    "end": "306880"
  },
  {
    "text": "any problem but doesn't meet the other requirements right can we do authentication are we going to be allowed to uh have",
    "start": "306880",
    "end": "314639"
  },
  {
    "text": "photos getting uploaded uh and you know restrict who can see the content that's been uploaded that kind",
    "start": "314639",
    "end": "320720"
  },
  {
    "text": "of thing so that's a question that we still need to answer i'm going to come back to that that",
    "start": "320720",
    "end": "326320"
  },
  {
    "text": "question in a minute but just like we had in the traditional solution we have kind of two modes of operation",
    "start": "326320",
    "end": "331600"
  },
  {
    "text": "for developers you can do things like write angularjs frameworks or html5 code",
    "start": "331600",
    "end": "336960"
  },
  {
    "text": "with with javascript to to build a static site right something that you can host",
    "start": "336960",
    "end": "342160"
  },
  {
    "text": "in s3 or you can leverage uh if you're you know more on the cms side you can",
    "start": "342160",
    "end": "347680"
  },
  {
    "text": "leverage a static content generator these are some of the popular ones out there there's jekyll octopress and uh pelican uh",
    "start": "347680",
    "end": "355919"
  },
  {
    "text": "um there's a whole list of uh of all the other ones out there there's",
    "start": "355919",
    "end": "361120"
  },
  {
    "text": "i mean probably hundreds i don't know the number but if you go to staticgen.com you'll see the list of the most popular static",
    "start": "361120",
    "end": "367600"
  },
  {
    "text": "site generators out there so what is a static site generator",
    "start": "367600",
    "end": "373039"
  },
  {
    "text": "well it's very similar to a traditional cms in that you know it supports things like themes so you can write simple text and",
    "start": "373039",
    "end": "379440"
  },
  {
    "text": "actually have it look pretty in the browser it's going to create artifacts like tag clouds and",
    "start": "379440",
    "end": "385199"
  },
  {
    "text": "you know have blog post archives so it's going to take some basic content that you're going to author and present it in a nice way to your end",
    "start": "385199",
    "end": "391919"
  },
  {
    "text": "users what's different about it between what's different from a traditional cms",
    "start": "391919",
    "end": "398720"
  },
  {
    "text": "is that the uh you know in a traditional cms you're typically updating when you when you use the editors you're",
    "start": "398720",
    "end": "404479"
  },
  {
    "text": "updating what the cms is doing is updating a database and then anybody who's hitting the site is getting content out of that database",
    "start": "404479",
    "end": "410960"
  },
  {
    "text": "a static site generator is going to pre-compile your entire site for you so that you can upload it to a web",
    "start": "410960",
    "end": "417360"
  },
  {
    "text": "server in our case we want to use s3 as the web server um",
    "start": "417360",
    "end": "422560"
  },
  {
    "text": "so that's what's different about it uh you know some people say all right do i need to be a developer to use these tools or",
    "start": "422560",
    "end": "428160"
  },
  {
    "text": "sysadmin from a developer perspective the idea behind them is they're going to use a language called either markdown or",
    "start": "428160",
    "end": "434479"
  },
  {
    "text": "restructured text and it's supposed to look like human readable right it's not going to have a whole bunch",
    "start": "434479",
    "end": "440560"
  },
  {
    "text": "of markup in the middle like html does where maybe you really can't understand what it is that i'm looking at if i'm",
    "start": "440560",
    "end": "445680"
  },
  {
    "text": "not like a you know true developer and and uh so it's it you really don't need to develop be a",
    "start": "445680",
    "end": "451680"
  },
  {
    "text": "developer to use these tools uh however i'm gonna give a little asterisk there that i probably should have put on the side",
    "start": "451680",
    "end": "457520"
  },
  {
    "text": "a lot of the things that we're gonna do are uh for the more complicated thing for the more dynamic parts are gonna be javascript",
    "start": "457520",
    "end": "463599"
  },
  {
    "text": "based so it couldn't hurt to be a developer if you're going to be you know really creating this more into",
    "start": "463599",
    "end": "468960"
  },
  {
    "text": "a dynamic site if you're just building a static site you do not need to be a developer from a sysadmin perspective",
    "start": "468960",
    "end": "474479"
  },
  {
    "text": "there's no servers to administer here right you're just literally taking your html copying it to uh s3 and",
    "start": "474479",
    "end": "480479"
  },
  {
    "text": "that's it so amazon is taking care of the rest so you definitely don't need to be a sysadmin",
    "start": "480479",
    "end": "486800"
  },
  {
    "text": "so just like we had a reference architecture before i have a reference architecture here to share with you it's much simpler uh all we have is your",
    "start": "486800",
    "end": "494720"
  },
  {
    "text": "end users hitting route 53 for dns uh dns is going to resolve them",
    "start": "494720",
    "end": "500080"
  },
  {
    "text": "i want to use not just s3 but s3 in conjunction with cloudfront cloudfront is our content uh",
    "start": "500080",
    "end": "506000"
  },
  {
    "text": "delivery network so this is going to allow you to cache content closer to the end users to decrease latency",
    "start": "506000",
    "end": "511440"
  },
  {
    "text": "so we have rav53 cloudfront and s3 pretty simple reference architecture there's a link on the bottom there",
    "start": "511440",
    "end": "517919"
  },
  {
    "text": "by the way all these slides will be available for you after the show and and the video will be available for you",
    "start": "517919",
    "end": "523039"
  },
  {
    "text": "uh um uh you know after reinvent uh i don't can't tell you exactly when but it will be available",
    "start": "523039",
    "end": "528880"
  },
  {
    "text": "uh so as we start going through the actual code you know don't worry about taking too many notes uh feel free if",
    "start": "528880",
    "end": "534480"
  },
  {
    "text": "you'd like to but uh have the video you know that you'll have the video as a reference later on",
    "start": "534480",
    "end": "539760"
  },
  {
    "text": "all right so those are the the building blocks i just want to talk to them again so why ralph 53 it's globally distributed it's fast it's reliable from",
    "start": "539760",
    "end": "546399"
  },
  {
    "text": "a dns perspective you know it's a hundred percent enough time sla it's the only service that we have that meets that one",
    "start": "546399",
    "end": "552560"
  },
  {
    "text": "particular point uh it's also a registrar so we never need to leave the aws console to build this company which",
    "start": "552560",
    "end": "558880"
  },
  {
    "text": "is a pretty incredible thing in the past you may have had to use different dns providers or registrars",
    "start": "558880",
    "end": "564240"
  },
  {
    "text": "everything that we can we're going to do today we could do from the console uh we're going to use amazon cloudfront",
    "start": "564240",
    "end": "570640"
  },
  {
    "text": "like i mentioned to cache content closer to the end users it also allows you to create like an index document and handle",
    "start": "570640",
    "end": "576080"
  },
  {
    "text": "errors gracefully so a lot of a lot of benefits there and it supports ssl um so many people",
    "start": "576080",
    "end": "581920"
  },
  {
    "text": "want to have their sites running on ssl with a custom domain name you could do that with cloudfront and if you could accept sni server name",
    "start": "581920",
    "end": "588160"
  },
  {
    "text": "indication it's completely free right you can upload your own certificate you have to buy the certificate but you upload this certificate",
    "start": "588160",
    "end": "594240"
  },
  {
    "text": "and it's free for all transactions if you go the other way if you don't use sni there is a you know",
    "start": "594240",
    "end": "600240"
  },
  {
    "text": "actually a pretty substantial charge so just want to be clear about that so we're going to use s3 for the storage",
    "start": "600240",
    "end": "606720"
  },
  {
    "text": "of the site assets and we're going to interact with s3 through the amazon cli command line interface",
    "start": "606720",
    "end": "611760"
  },
  {
    "text": "we'll see what that looks like in a minute and for the static site generator i chose pelican",
    "start": "611760",
    "end": "616880"
  },
  {
    "text": "it's not the most popular out there but it's based on python i really like the way that it works pick whatever one",
    "start": "616880",
    "end": "622160"
  },
  {
    "text": "you want the the purpose of this talk isn't to show you you know the ins and outs of any particular static site generator it's",
    "start": "622160",
    "end": "627680"
  },
  {
    "text": "how to make them work with it with uh with aws to build a dynamic site experience using static technology",
    "start": "627680",
    "end": "636079"
  },
  {
    "text": "so i still haven't answered the question of how we're handling the photo uploading how are we handling the administrative page",
    "start": "636320",
    "end": "643200"
  },
  {
    "text": "and to do that i'm going to have the javascript aws sdk for javascript in the browser",
    "start": "643200",
    "end": "649040"
  },
  {
    "text": "that's a mouthful come to the rescue so it's going to through the javascript",
    "start": "649040",
    "end": "656399"
  },
  {
    "text": "sdk we're going to be able to leverage other tools other aws services namely amazon cognito",
    "start": "656399",
    "end": "661680"
  },
  {
    "text": "which is our identity management service it's going to be coupled with login with amazon so we'll actually use",
    "start": "661680",
    "end": "668480"
  },
  {
    "text": "login with amazon to do authentication and then cognito and identity and access",
    "start": "668480",
    "end": "674240"
  },
  {
    "text": "management to do authorization so i'm not going to talk about all these details right now what i'd much rather do is actually go",
    "start": "674240",
    "end": "679519"
  },
  {
    "text": "through and build the site with you and hopefully that's going to answer some of the questions about",
    "start": "679519",
    "end": "684640"
  },
  {
    "text": "what this is so i'm going to jump pretty much into doing it right now i",
    "start": "684640",
    "end": "690240"
  },
  {
    "text": "want to tell you a little bit about some pre-work that i have though on the laptop uh if if you want to you",
    "start": "690240",
    "end": "695279"
  },
  {
    "text": "know try and build this after the fact i do have the amazon command line tools i have a text editor i have python and",
    "start": "695279",
    "end": "701279"
  },
  {
    "text": "pelican already pre-installed so i have a resources slide at the end of the deck that you",
    "start": "701279",
    "end": "706399"
  },
  {
    "text": "can just reference if you want to you know get to this point i have an aws account and a login with amazon account and some",
    "start": "706399",
    "end": "713680"
  },
  {
    "text": "pre-generated code snippets i did that because there's just no way i could type fast enough to do all the things that we want to do and",
    "start": "713680",
    "end": "719920"
  },
  {
    "text": "you really don't want to see me type it's not pretty all right so let's start the walkthrough",
    "start": "719920",
    "end": "727120"
  },
  {
    "text": "let's start with the with the aws console make sure i am still uh logged in here uh-oh i should",
    "start": "728000",
    "end": "734560"
  },
  {
    "text": "probably have got my internet sorted out beforehand",
    "start": "734560",
    "end": "740560"
  },
  {
    "text": "uh is there a wired internet in the room do you know",
    "start": "740560",
    "end": "746160"
  },
  {
    "text": "here it is got it",
    "start": "752320",
    "end": "759839"
  },
  {
    "text": "i hope let's see refresh the page hey all right we have",
    "start": "761920",
    "end": "768320"
  },
  {
    "text": "internet great all right so we have our uh aws management console it's logged in",
    "start": "768320",
    "end": "775120"
  },
  {
    "text": "we're going to start with s3 so click on the s3 tab i'm going to use the quick launch bar at the",
    "start": "776480",
    "end": "781600"
  },
  {
    "text": "top if you guys aren't familiar with it definitely check it out you can drag your favorite services up to the top and not have to",
    "start": "781600",
    "end": "787040"
  },
  {
    "text": "look through the entire list of services that we have to do something simple and i'm going to create a bucket",
    "start": "787040",
    "end": "793760"
  },
  {
    "text": "so a bucket is a storage uh container for files and objects i'm just going to call",
    "start": "793760",
    "end": "799760"
  },
  {
    "text": "this web 203 i told you it was painful to watch me type web203.org",
    "start": "799760",
    "end": "807519"
  },
  {
    "text": "i'm going to put this bucket in the region we'll use us standard so this is going to control where the",
    "start": "807600",
    "end": "813360"
  },
  {
    "text": "objects are stored it's your store the objects will be stored in one place on the globe and i'll click create",
    "start": "813360",
    "end": "820160"
  },
  {
    "text": "all right so we have the contour container for the bucket for where we're going to",
    "start": "820160",
    "end": "825760"
  },
  {
    "text": "store the site now we're going to create a cloudfront distribution to deliver the site assets so i clicked",
    "start": "825760",
    "end": "831920"
  },
  {
    "text": "on cloudfront click create distribution select web as the distribution methods",
    "start": "831920",
    "end": "838639"
  },
  {
    "text": "now it's nice that it's since it's an s3 bucket it's already pre-populated there so i'm just going to click",
    "start": "838639",
    "end": "844480"
  },
  {
    "text": "web 203.orgin which is what we just created i'm going to say restrict bucket access",
    "start": "844480",
    "end": "849680"
  },
  {
    "text": "what this means is that nobody will be able to hit s3 directly they have to come in through cloudfront to access our",
    "start": "849680",
    "end": "855600"
  },
  {
    "text": "site and we we want to we definitely want to do that we'll create a origin access identity which is the mechanism for that and it's",
    "start": "855600",
    "end": "861680"
  },
  {
    "text": "going to automatically update the bucket policy for this to work i want to make all",
    "start": "861680",
    "end": "867279"
  },
  {
    "text": "requests to my site https so i'm going to redirect http to https",
    "start": "867279",
    "end": "874079"
  },
  {
    "text": "i'm going to have a custom cname web203.jmn.ws",
    "start": "874880",
    "end": "881360"
  },
  {
    "text": "so that's just the domain name that i have registered i'm not going to upload an ssl cert you really should right so we're going",
    "start": "881360",
    "end": "887360"
  },
  {
    "text": "to get a page a security error when we're going going through this example so uh you know please upload your own",
    "start": "887360",
    "end": "893600"
  },
  {
    "text": "cert if you're going to if you're going to be forcing everything to https but i want to show you that it's",
    "start": "893600",
    "end": "898639"
  },
  {
    "text": "possible and we're going to set a default root objects to index.html so if anybody comes",
    "start": "898639",
    "end": "903839"
  },
  {
    "text": "to web203.jmn.ws without a",
    "start": "903839",
    "end": "909079"
  },
  {
    "text": "index.html they'll get they'll see that file index.html we can enable logging",
    "start": "909079",
    "end": "916480"
  },
  {
    "text": "so i have a bucket here already set up for that and that's all i need to do create the distribution",
    "start": "916480",
    "end": "922160"
  },
  {
    "text": "this is going to take about 10 minutes 10 to 15 minutes to create the distribution but it's fine we've got a lot we got a lot",
    "start": "922160",
    "end": "927760"
  },
  {
    "text": "of work to do by the time we get there uh it will be ready and if not i have a",
    "start": "927760",
    "end": "933680"
  },
  {
    "text": "backup distribution but uh next thing i want to do is create",
    "start": "933680",
    "end": "939680"
  },
  {
    "text": "a dns record right so we we said we're going to use an alias of web203.jman.ws",
    "start": "939680",
    "end": "945680"
  },
  {
    "text": "but we haven't created that dns record so i have this hosted zone registered if you wanted to",
    "start": "945680",
    "end": "951680"
  },
  {
    "text": "like i said you could register your your own domain name i'll just jump to that actually really quick so",
    "start": "951680",
    "end": "957600"
  },
  {
    "text": "you can go to the register domain name tab here do a search show web203.net",
    "start": "957600",
    "end": "966720"
  },
  {
    "text": "whatever do a check that's available so i could buy that right now but i'm not going to",
    "start": "966720",
    "end": "973120"
  },
  {
    "text": "just to try and speed things up a little bit uh i'm just going to use the domain that i already have",
    "start": "973120",
    "end": "978720"
  },
  {
    "text": "so we'll go back to hosted zones in route53 select my zone create a record set",
    "start": "978720",
    "end": "985600"
  },
  {
    "text": "this is going to be web 203 and i'm going to use this alias feature so",
    "start": "985600",
    "end": "991519"
  },
  {
    "text": "alias basically means first of all it's free from a dns resolution perspective so",
    "start": "991519",
    "end": "997360"
  },
  {
    "text": "that's a that's a big win for for our pennies a month kind of thing uh but second of all uh um",
    "start": "997360",
    "end": "1005680"
  },
  {
    "text": "uh you know it's it's basically it would allow us to do a naked domain as well so if we wanted to do",
    "start": "1005680",
    "end": "1011199"
  },
  {
    "text": "just jmn.ws we could do that with the alias whereas uh we couldn't if that feature wasn't there so i'm going to select the",
    "start": "1011199",
    "end": "1018079"
  },
  {
    "text": "uh the the the cloudfront distribution that we just picked again it came right",
    "start": "1018079",
    "end": "1023759"
  },
  {
    "text": "up in the drop down list and i'm going to hit create all right so we have our s3 bucket we have our",
    "start": "1023759",
    "end": "1030160"
  },
  {
    "text": "cloudfront distribution and we have our dns entry let's go build a site",
    "start": "1030160",
    "end": "1035600"
  },
  {
    "text": "so to do that i'm going to drop down to a console and i'm going to make a directory for it",
    "start": "1035600",
    "end": "1041600"
  },
  {
    "text": "actually first thing i'm going to do is activate my virtual environment so this is a python thing you",
    "start": "1041600",
    "end": "1047839"
  },
  {
    "text": "you may not have to do this but it depends on which which static site generator you use but i'm gonna do this right now source",
    "start": "1047839",
    "end": "1054240"
  },
  {
    "text": "uh bin activate okay so now uh i'm registered in this",
    "start": "1054240",
    "end": "1060160"
  },
  {
    "text": "virtual environment that has all my components already pre-installed all right so i'm gonna make a directory",
    "start": "1060160",
    "end": "1067440"
  },
  {
    "text": "projects web 203 if i go to that directory",
    "start": "1067440",
    "end": "1073600"
  },
  {
    "text": "we'll see it's completely empty right and to generate a shell site i'm going to run command a",
    "start": "1074080",
    "end": "1079679"
  },
  {
    "text": "pelican command pelican quick start",
    "start": "1079679",
    "end": "1084320"
  },
  {
    "text": "i want to create the site in this directory i'm going to have it called jman who's the author john mancuso",
    "start": "1086320",
    "end": "1094320"
  },
  {
    "text": "default language is english i don't need a prefix oops",
    "start": "1094320",
    "end": "1101520"
  },
  {
    "text": "actually you know what let me drop back out of that i didn't like that i should have said no this directory jmn",
    "start": "1102720",
    "end": "1109919"
  },
  {
    "text": "john mancuso english no uh do i not enable pagination no",
    "start": "1109919",
    "end": "1117440"
  },
  {
    "text": "uh and i want to use a make file so we'll see that make file it's going to be a very important part of it so that i",
    "start": "1117440",
    "end": "1122480"
  },
  {
    "text": "want to definitely say yes to and i'm not going to so pelican has the",
    "start": "1122480",
    "end": "1128080"
  },
  {
    "text": "capabilities of automatically allowing you up to publish to an ftp server and ssh dropbox s3",
    "start": "1128080",
    "end": "1134640"
  },
  {
    "text": "i'm saying no to s3 here we will eventually be using s3 for of course but i'm going to use",
    "start": "1134640",
    "end": "1140240"
  },
  {
    "text": "the aws command line tools to do that instead of the default that it has created",
    "start": "1140240",
    "end": "1146559"
  },
  {
    "text": "all right so now if i look in this directory we'll see some stuff we don't we haven't built the site yet",
    "start": "1146559",
    "end": "1152480"
  },
  {
    "text": "so to do that i'm gonna go to a text editor this can",
    "start": "1152480",
    "end": "1157840"
  },
  {
    "text": "be whatever whatever you like i uh i'm a big fan of sublime so that's what we'll use",
    "start": "1157840",
    "end": "1162880"
  },
  {
    "text": "and i'm going to create two two folders we want to have some pages and a blog right that's the the basic shell of the site so let me",
    "start": "1162880",
    "end": "1169280"
  },
  {
    "text": "create a folder for pages and a folder for blog",
    "start": "1169280",
    "end": "1179120"
  },
  {
    "text": "in the pages folder we're going to create a homepage new file save it as home.md",
    "start": "1179120",
    "end": "1188559"
  },
  {
    "text": "so what is this homepage going to look like",
    "start": "1189200",
    "end": "1193840"
  },
  {
    "text": "so this is where i'm going to bring in my snippets really simple i have a some metadata this is a",
    "start": "1194320",
    "end": "1201200"
  },
  {
    "text": "markdown file that's what the md stands for so i have some metadata here what's the title of the page what's the slug that would typically",
    "start": "1201200",
    "end": "1207600"
  },
  {
    "text": "indicate what the url to the page is uh what's the date that it's gonna that it was published last",
    "start": "1207600",
    "end": "1213919"
  },
  {
    "text": "and i'm adding a little bit of extra metadata you won't typically see this so for the home page i really needed to",
    "start": "1213919",
    "end": "1219360"
  },
  {
    "text": "be saved as index.html that's the default page that we created in cloudfront distribution so that's what we have there and we have",
    "start": "1219360",
    "end": "1225600"
  },
  {
    "text": "some again english language readable text right this can be whatever that you want to to have the",
    "start": "1225600",
    "end": "1231120"
  },
  {
    "text": "the content of this page just as a jman the maker we make cool stuff all right so we have our home page let's",
    "start": "1231120",
    "end": "1238159"
  },
  {
    "text": "create a couple of uh blog posts",
    "start": "1238159",
    "end": "1242080"
  },
  {
    "text": "we're gonna use markdown again so making stuff is an art and it has",
    "start": "1243360",
    "end": "1250880"
  },
  {
    "text": "a tag of art and a category of blog the rest you can see i just want to point at those two things out",
    "start": "1250880",
    "end": "1257840"
  },
  {
    "text": "and another page post 2 dot markdown",
    "start": "1257840",
    "end": "1266000"
  },
  {
    "text": "making stuff is a science and has a tag of science in a category of blog right let's argue with ourselves",
    "start": "1267760",
    "end": "1273760"
  },
  {
    "text": "it's fun all right so i'm going to come back to the command prompt we we we have the shell of our site plus",
    "start": "1273760",
    "end": "1280480"
  },
  {
    "text": "we've added some content so there's this make file here we'll look at that like i said in",
    "start": "1280480",
    "end": "1286320"
  },
  {
    "text": "another minute but there's a command in the make file that says make html",
    "start": "1286320",
    "end": "1291840"
  },
  {
    "text": "and that's going to pre-generate the site so we have two articles processed and one page which exactly",
    "start": "1293039",
    "end": "1298799"
  },
  {
    "text": "matches you know what we created so now i can run make serve what this is",
    "start": "1298799",
    "end": "1304159"
  },
  {
    "text": "going to do is bring up launch a a local web server on",
    "start": "1304159",
    "end": "1309440"
  },
  {
    "text": "on on my laptop here if i go to 127001 port on port 8000 we could see the",
    "start": "1309440",
    "end": "1316880"
  },
  {
    "text": "the site that we just built right here it's a little bit prettier than just the the blangold text that j man the maker",
    "start": "1316880",
    "end": "1322159"
  },
  {
    "text": "would make cool stuff we have a link for the home page we have a uh in the title bar and we have a link for",
    "start": "1322159",
    "end": "1327919"
  },
  {
    "text": "the blog if i click on the blog you can see our blog posts so you know it's that that simple to to",
    "start": "1327919",
    "end": "1333760"
  },
  {
    "text": "build a site with this um with this tool um but",
    "start": "1333760",
    "end": "1338880"
  },
  {
    "text": "we have a lot more to do so let me drop back to the command prompt um i'm i wasn't a big fan of of that",
    "start": "1338880",
    "end": "1346000"
  },
  {
    "text": "theme so let's say we want to get a new theme uh let's say you want to use a twitter",
    "start": "1346000",
    "end": "1351120"
  },
  {
    "text": "uh bootstrap so i'm going to clone an open source uh theme that's out there in the market",
    "start": "1351120",
    "end": "1357600"
  },
  {
    "text": "there's tons of these uh you know if you do some searches for pelican and themes you'll see them all so i'm going to do a git clone here of a",
    "start": "1357600",
    "end": "1365360"
  },
  {
    "text": "pelican bootstrap theme",
    "start": "1365360",
    "end": "1369840"
  },
  {
    "text": "and we'll use that throughout the rest of the site i also have to do actually one other",
    "start": "1370480",
    "end": "1376159"
  },
  {
    "text": "clone and that's for an image viewing library",
    "start": "1376159",
    "end": "1382480"
  },
  {
    "text": "called galleria so we'll use that later on in the admin page so i figure i might as well get it",
    "start": "1382480",
    "end": "1388240"
  },
  {
    "text": "right now",
    "start": "1388240",
    "end": "1390640"
  },
  {
    "text": "okay so we have our two libraries that we're going to reference now to change the theme it's really",
    "start": "1394320",
    "end": "1400559"
  },
  {
    "text": "quite simple so there's a compelling configuration file and we just add the text theme equals pelican dash",
    "start": "1400559",
    "end": "1408240"
  },
  {
    "text": "bootstrap 3. all right super simple",
    "start": "1408240",
    "end": "1412799"
  },
  {
    "text": "and that's all we need to do there uh now instead of i want to show you that you know what it looks",
    "start": "1414240",
    "end": "1419679"
  },
  {
    "text": "like with the change theme but right uh rather than running the local web server we're going to publish it to s3 and see it",
    "start": "1419679",
    "end": "1425200"
  },
  {
    "text": "in action as long as cloudfront is ready i'm hoping it is so we're going to edit this make file",
    "start": "1425200",
    "end": "1430880"
  },
  {
    "text": "this is what when we ran make html before this is what actually got run uh so i'm going to edit this make file",
    "start": "1430880",
    "end": "1438320"
  },
  {
    "text": "to include a clean directive that's one of the other things just as part of the htm make html you could do these as",
    "start": "1438320",
    "end": "1443760"
  },
  {
    "text": "separate i just want to combine them for the purposes of time and add a bunch of other stuff here so",
    "start": "1443760",
    "end": "1449120"
  },
  {
    "text": "this is going to say make an uh an output directory to support um",
    "start": "1449120",
    "end": "1454640"
  },
  {
    "text": "that i can copy that galleria viewer to and then this is the command line tool that we're going to run",
    "start": "1454640",
    "end": "1459840"
  },
  {
    "text": "aws s3 sync the contents of the output directory so that's what the pelican is",
    "start": "1459840",
    "end": "1465039"
  },
  {
    "text": "going to generate is as content in that output directory sync that to",
    "start": "1465039",
    "end": "1470720"
  },
  {
    "text": "web203.origin and this is a very very very important part for the development",
    "start": "1470840",
    "end": "1476080"
  },
  {
    "text": "uh so we want to make sure you call this out this is saying add a cache control header to every object",
    "start": "1476080",
    "end": "1481279"
  },
  {
    "text": "to have a max age of zero this is only what this is going to do is make it so that while we're editing the site",
    "start": "1481279",
    "end": "1487200"
  },
  {
    "text": "it doesn't get cached on us right so the default behavior of cloudfront is to cache objects for 12 hours",
    "start": "1487200",
    "end": "1494880"
  },
  {
    "text": "so this is going to say only don't cache it at all right just every time that somebody comes in make a",
    "start": "1494880",
    "end": "1500480"
  },
  {
    "text": "new request for it all right so now we have a new theme and we're going to try",
    "start": "1500480",
    "end": "1505840"
  },
  {
    "text": "publishing this to s3 so make html",
    "start": "1505840",
    "end": "1511120"
  },
  {
    "text": "so you can see the pages were generated and now we copied it to rs3 bucket",
    "start": "1511279",
    "end": "1518880"
  },
  {
    "text": "i'm just going to take a quick peek here to see if the cloudfront distribution is ready it it still is in progress",
    "start": "1519440",
    "end": "1528159"
  },
  {
    "text": "very likely it's reached our edge location let's see what happens let's try and hit it web 203.jmnd.s",
    "start": "1528159",
    "end": "1534720"
  },
  {
    "text": "alright so this is the certificate error i told you about that was going to happen it's because we didn't upload our custom certificate",
    "start": "1534720",
    "end": "1540640"
  },
  {
    "text": "so i'm just going to proceed anyway and look here comes our site right so this is serving out of cloudfront uh backed by",
    "start": "1540640",
    "end": "1547919"
  },
  {
    "text": "s3 and published it's now twitter bootstrap we have a homepage we have our blog we have our tag cloud",
    "start": "1547919",
    "end": "1555440"
  },
  {
    "text": "here with you know art and science uh and the category is what shows up here",
    "start": "1555440",
    "end": "1561679"
  },
  {
    "text": "in the header all right so uh are we done not quite right we have we still have to do the hard work",
    "start": "1561679",
    "end": "1567919"
  },
  {
    "text": "of letting people upload photos and an admin page so",
    "start": "1567919",
    "end": "1574080"
  },
  {
    "text": "let's drop back um to our text editor so the the next page",
    "start": "1574080",
    "end": "1580320"
  },
  {
    "text": "is like i think i called it was going to call it start making so let's save that as start making",
    "start": "1580320",
    "end": "1588000"
  },
  {
    "text": "and we're going to use restructure text here rst instead of markdown",
    "start": "1588000",
    "end": "1593679"
  },
  {
    "text": "the reason i'm doing that is because for this for the rest of the rest of the time we're going to be doing a lot in raw html",
    "start": "1593679",
    "end": "1599919"
  },
  {
    "text": "in javascript and uh mark restructured text has this great",
    "start": "1599919",
    "end": "1605200"
  },
  {
    "text": "directive of raw colon colon html so it's going to let us literally write html and then publish it",
    "start": "1605200",
    "end": "1611039"
  },
  {
    "text": "through the pelican engine so if we if we look at this bit of code and again like i said this video will be",
    "start": "1611039",
    "end": "1617360"
  },
  {
    "text": "available to you so i know i'm going to go fast and i'm actually just going to accelerate it might seem like i'm going fast but i'm just going to be",
    "start": "1617360",
    "end": "1622799"
  },
  {
    "text": "accelerating as we go here so the video will be available to you follow along you know it's uh uh on the video",
    "start": "1622799",
    "end": "1631200"
  },
  {
    "text": "all right so this is gonna uh let a person take a picture with their camera or you know click a button that says",
    "start": "1631200",
    "end": "1636799"
  },
  {
    "text": "browse and find a picture on their on their on their on their laptop will have will allow for an email uh and",
    "start": "1636799",
    "end": "1642720"
  },
  {
    "text": "an upload button and some results to say okay did was the file uploaded but the thing is",
    "start": "1642720",
    "end": "1647760"
  },
  {
    "text": "we actually aren't doing anything yet right so there's no javascript here to say uh what should happen so i'm going to",
    "start": "1647760",
    "end": "1654159"
  },
  {
    "text": "add some javascript that is going to you know basically you know the first bit here is loading uh getting handles",
    "start": "1654159",
    "end": "1662240"
  },
  {
    "text": "to everything in the form uh i have a function to just get a random file name and then here's the",
    "start": "1662240",
    "end": "1668559"
  },
  {
    "text": "important part which is saying all right for when you click on the button to do the upload",
    "start": "1668559",
    "end": "1673600"
  },
  {
    "text": "let's handle that function so first let's say uploading get the file create an amazon",
    "start": "1673600",
    "end": "1681279"
  },
  {
    "text": "or aws.s3 object uh give the file a name set up",
    "start": "1681279",
    "end": "1689279"
  },
  {
    "text": "some parameters and call a put object request uh make it make a call to the put object",
    "start": "1689279",
    "end": "1694480"
  },
  {
    "text": "method on the s on the s3 object so",
    "start": "1694480",
    "end": "1700159"
  },
  {
    "text": "i very quickly glanced over this this line here right what is this aws.s3 thing so that's",
    "start": "1700159",
    "end": "1706240"
  },
  {
    "text": "something that's part of the aws javascript sdk",
    "start": "1706240",
    "end": "1712320"
  },
  {
    "text": "so we've got to reference it right we haven't we haven't referenced that yet so if we go we can uh go to our pelican",
    "start": "1713440",
    "end": "1719919"
  },
  {
    "text": "bootstrap 3 theme and bring up the templates there's a base template",
    "start": "1719919",
    "end": "1725679"
  },
  {
    "text": "and i'm just going to scroll down here a little bit to the close of the head right so this is every page that we're going to render is",
    "start": "1725679",
    "end": "1731679"
  },
  {
    "text": "going to have the content of this base template and we're going to include um",
    "start": "1731679",
    "end": "1738399"
  },
  {
    "text": "oops sorry uh here we go we're gonna include some reference to the uh",
    "start": "1738399",
    "end": "1745600"
  },
  {
    "text": "to jquery which we're gonna use we're gonna include the reference to the galleria and to the javascript sdk",
    "start": "1745600",
    "end": "1753840"
  },
  {
    "text": "so that's in our base page now it makes sense to have this call to aws.s3",
    "start": "1754720",
    "end": "1761120"
  },
  {
    "text": "right so that's going to get us an s3 object and we're going to make the call to the put object but what we haven't talked about yet",
    "start": "1761120",
    "end": "1766640"
  },
  {
    "text": "still is how are we authenticating right anybody we don't i don't want just anybody",
    "start": "1766640",
    "end": "1772399"
  },
  {
    "text": "uh i don't want to give everybody full control to my bucket right so how is it that this person who's going",
    "start": "1772399",
    "end": "1778799"
  },
  {
    "text": "to bring up this site is going to have permissions to upload and to do that",
    "start": "1778799",
    "end": "1784799"
  },
  {
    "text": "we're going to add a little bit more code so this is going to make setting up",
    "start": "1784799",
    "end": "1794159"
  },
  {
    "text": "a call to amazon cognito it's going to assume a role of an",
    "start": "1794159",
    "end": "1800559"
  },
  {
    "text": "unauthenticated user and we'll take a look at that in just a second",
    "start": "1800559",
    "end": "1806159"
  },
  {
    "text": "and as long as it has an identity uh then um you know then the",
    "start": "1806159",
    "end": "1812720"
  },
  {
    "text": "uh basically part of part of the javascript library is so that any other calls using that",
    "start": "1812720",
    "end": "1818720"
  },
  {
    "text": "javascript library on this page we'll use the identity that's already been created by",
    "start": "1818720",
    "end": "1824640"
  },
  {
    "text": "cognito all right so what is all that stuff that i just talked about so let's go back to the management",
    "start": "1824640",
    "end": "1830159"
  },
  {
    "text": "console click on cognito so this is an identity pool it's uh i",
    "start": "1830159",
    "end": "1836640"
  },
  {
    "text": "just called it web 203 and a web identity pool is really not much more than a label",
    "start": "1836640",
    "end": "1841840"
  },
  {
    "text": "if i click on an edit identity pool um one of the things that you'll see and",
    "start": "1841840",
    "end": "1848080"
  },
  {
    "text": "we'll come back to the public identity providers bit but for right now one of the things that you'll see",
    "start": "1848080",
    "end": "1853279"
  },
  {
    "text": "is that we're enabling access to unauthenticated identities i really do want anybody to be able to",
    "start": "1853279",
    "end": "1858799"
  },
  {
    "text": "upload to this bucket but i don't want anybody to be able to get a reference any objects from this bucket right i don't want you to see you know what",
    "start": "1858799",
    "end": "1865120"
  },
  {
    "text": "what what somebody else uploaded only i should do that as the administrator so i want anybody to be able to upload and",
    "start": "1865120",
    "end": "1870480"
  },
  {
    "text": "so we'll use this unauthenticated identity and when you create the identity pool it's",
    "start": "1870480",
    "end": "1876880"
  },
  {
    "text": "going to automatically create a role for you in iam identity and access management",
    "start": "1876880",
    "end": "1882559"
  },
  {
    "text": "so if we go to that role unauthenticated users will have some policies that i added and",
    "start": "1882559",
    "end": "1889039"
  },
  {
    "text": "so this is going to say allow put objects to this one particularly bucket i might have a bunch of other buckets on my account",
    "start": "1889039",
    "end": "1895440"
  },
  {
    "text": "nobody else will be able to upload to any other bucket besides web 203 dot uploads",
    "start": "1895440",
    "end": "1903039"
  },
  {
    "text": "okay so i think we're good let's uh make sure i",
    "start": "1903679",
    "end": "1910320"
  },
  {
    "text": "saved everything and go back to the terminal to make html",
    "start": "1910320",
    "end": "1921039"
  },
  {
    "text": "actually there's one other thing i'm going to show you from permissions before i actually bring up the page and that's back in s3 another important",
    "start": "1921039",
    "end": "1927120"
  },
  {
    "text": "security thing if you if you you know if you do try and follow along with this when you get back home is you'll need to",
    "start": "1927120",
    "end": "1933919"
  },
  {
    "text": "set the course property cross-origin resource scripting",
    "start": "1933919",
    "end": "1940159"
  },
  {
    "text": "capabilities on the bucket so if we click on permission there's a course configuration here",
    "start": "1940159",
    "end": "1946480"
  },
  {
    "text": "i'm sorry wrong one wrong bucket so there's an uploads bucket uh if we click on the properties",
    "start": "1946480",
    "end": "1953600"
  },
  {
    "text": "edit course configuration you'll see that i'm on label allowing",
    "start": "1956080",
    "end": "1961679"
  },
  {
    "text": "put object requests okay so if we come back to",
    "start": "1961679",
    "end": "1970080"
  },
  {
    "text": "the browser i refresh the page we now have a start making tab there",
    "start": "1970080",
    "end": "1978320"
  },
  {
    "text": "and let me just actually refresh that okay we have an identity",
    "start": "1981760",
    "end": "1988559"
  },
  {
    "text": "so this will allow me to choose a file if i click choose a file i have a image all set here to go",
    "start": "1988559",
    "end": "1995919"
  },
  {
    "text": "give it some you know an email address",
    "start": "1995919",
    "end": "1999840"
  },
  {
    "text": "whatever doesn't matter uh thank you you have back from assume so that shows that the file has been uploaded",
    "start": "2001440",
    "end": "2007279"
  },
  {
    "text": "uh if we go back to the management console there were two here i'm not sure if somebody maybe uploaded while we were here or maybe had some things in there",
    "start": "2007279",
    "end": "2013360"
  },
  {
    "text": "in the bucket be from before uh but if we go to the uploads bucket",
    "start": "2013360",
    "end": "2019760"
  },
  {
    "text": "we'll see that there's three files there now right so it's actually just a folder but if we go",
    "start": "2019760",
    "end": "2025360"
  },
  {
    "text": "into the folder you'll see the the the actual file and i just did that so that there's no name collisions",
    "start": "2025360",
    "end": "2031519"
  },
  {
    "text": "on any of these folders so it has a random good all right so we're getting further right",
    "start": "2031519",
    "end": "2036960"
  },
  {
    "text": "we have a home page we have a blog",
    "start": "2036960",
    "end": "2041679"
  },
  {
    "text": "and we're able to upload files now how can i make it so that me as john mancuso the",
    "start": "2042000",
    "end": "2047600"
  },
  {
    "text": "site owner can see everything that's been uploaded so let's build an admin page let's come back to our text editor new",
    "start": "2047600",
    "end": "2054960"
  },
  {
    "text": "file save admin dot restructured text",
    "start": "2054960",
    "end": "2061838"
  },
  {
    "text": "and here we go again we have an admin page uh we're going to use login with",
    "start": "2063200",
    "end": "2069599"
  },
  {
    "text": "amazon so that's what this whole bit is about here this comes directly off the sample",
    "start": "2069599",
    "end": "2075118"
  },
  {
    "text": "code from login with amazon so one of the resources is going to talk about that",
    "start": "2075119",
    "end": "2080560"
  },
  {
    "text": "so you literally can just copy and paste that we're also using galleria for displaying of the images like you talked",
    "start": "2080560",
    "end": "2085839"
  },
  {
    "text": "about so this is setting up the page but we don't have any script to actually do anything with it yet so let's load",
    "start": "2085839",
    "end": "2091919"
  },
  {
    "text": "uh let's figure out how we're going to load the images uh and first so",
    "start": "2091919",
    "end": "2099119"
  },
  {
    "text": "uh with the login or first we got to authenticate right so uh with login with amazon think of it as",
    "start": "2099119",
    "end": "2105119"
  },
  {
    "text": "the same as like logging with face with facebook or google same kind of ideas you can use any of those",
    "start": "2105119",
    "end": "2110240"
  },
  {
    "text": "public identity providers it does not have to be log in with amazon so this is just the code again to to uh",
    "start": "2110240",
    "end": "2118000"
  },
  {
    "text": "you know when you click on the button to say authorize it and uh you'll get a response back that",
    "start": "2118000",
    "end": "2123760"
  },
  {
    "text": "says uh you're logged in right if if it's a valid amazon.com",
    "start": "2123760",
    "end": "2128839"
  },
  {
    "text": "login uh so that's going to authorize you uh i'm sorry authenticate you from login",
    "start": "2128839",
    "end": "2134160"
  },
  {
    "text": "with amazon perspective but you know what is it going to authorize you to to say i'm an admin on",
    "start": "2134160",
    "end": "2139280"
  },
  {
    "text": "this page right there's a difference between authentication and authorization so we're going to use cognito for the",
    "start": "2139280",
    "end": "2145839"
  },
  {
    "text": "authorization bit and here's the cognito code it looks",
    "start": "2145839",
    "end": "2151359"
  },
  {
    "text": "it's pretty much the same as what we saw on the on the other page the main difference is the role",
    "start": "2151359",
    "end": "2156960"
  },
  {
    "text": "uh so the role here is authenticated auth instead of unoff right that's the",
    "start": "2156960",
    "end": "2162079"
  },
  {
    "text": "role that we're going to try and assume and it's going to accept the response.access token so the response",
    "start": "2162079",
    "end": "2168560"
  },
  {
    "text": "that we got here is the response from login without with amazon",
    "start": "2168560",
    "end": "2173800"
  },
  {
    "text": "amazon.login.authorize is going to come back with the response so that's what we're passing in the access token that came back from amazon",
    "start": "2173800",
    "end": "2180320"
  },
  {
    "text": "uh and so that's we're going to use to see whether or not this person has is authorized to do anything in the",
    "start": "2180320",
    "end": "2186560"
  },
  {
    "text": "admin site uh and so uh after that we're gonna",
    "start": "2186560",
    "end": "2192160"
  },
  {
    "text": "uh uh if we if we if we're if we're authorized to do something then we can call a get images method",
    "start": "2192160",
    "end": "2198800"
  },
  {
    "text": "right i haven't written that yet so let me add that in right now i just want to show you that's what's going to get called so let's go add get images",
    "start": "2198800",
    "end": "2207520"
  },
  {
    "text": "oops sorry before okay so get images uh so what this is going to do is look",
    "start": "2211119",
    "end": "2217119"
  },
  {
    "text": "at dynamodb dynamodb we haven't talked about that at all so i'll come back to that",
    "start": "2217119",
    "end": "2222720"
  },
  {
    "text": "uh we're going to call dynamodb and find out what images that we need to load",
    "start": "2222720",
    "end": "2228880"
  },
  {
    "text": "and uh based on that it's going to add add add images to the galleria viewer",
    "start": "2228880",
    "end": "2236079"
  },
  {
    "text": "so where did this dynamodb stuff come from well if you saw the cloud functions earlier",
    "start": "2236079",
    "end": "2243280"
  },
  {
    "text": "today that's the best place to be adding this information to dynamodb since it wasn't available when",
    "start": "2243280",
    "end": "2249599"
  },
  {
    "text": "i wrote this what i'm going to do is go back to our start making page and say after we've put an object to s3",
    "start": "2249599",
    "end": "2258640"
  },
  {
    "text": "uh that's just a comment there it's a",
    "start": "2258880",
    "end": "2264640"
  },
  {
    "text": "little funky to look at it on on the screen but after we put an object to s3 let's also add a record to",
    "start": "2264640",
    "end": "2272079"
  },
  {
    "text": "dynamodb saying that we put this object there and i'm doing this so that you know maybe",
    "start": "2272079",
    "end": "2277200"
  },
  {
    "text": "this is going to contain more information about the work item that you've done maybe you know you when you when you",
    "start": "2277200",
    "end": "2282480"
  },
  {
    "text": "pull up a record you might want to say okay i can i've i've started work on it i've completed work on it so this is",
    "start": "2282480",
    "end": "2287760"
  },
  {
    "text": "going to be how we're going to track information uh about the object that got added or",
    "start": "2287760",
    "end": "2293200"
  },
  {
    "text": "the uh the object that was uploaded all right so there are still a lot to",
    "start": "2293200",
    "end": "2299599"
  },
  {
    "text": "come back to to talk about but i think we can upload this site so make html",
    "start": "2299599",
    "end": "2312400"
  },
  {
    "text": "all right so let's go and look at this so if i refresh my page here we now have an admin tab",
    "start": "2312400",
    "end": "2321920"
  },
  {
    "text": "if you click on the admin tab it's got a login with amazon button and this galleria image viewer",
    "start": "2321920",
    "end": "2328880"
  },
  {
    "text": "if i click log in with amazon it's going to pop me up into a window",
    "start": "2328880",
    "end": "2334880"
  },
  {
    "text": "that's you know says use your amazon credentials to log in so i have i have something pre-cached",
    "start": "2334880",
    "end": "2341520"
  },
  {
    "text": "here i'm going to sign in with our secure server now there's no images here because",
    "start": "2341520",
    "end": "2347280"
  },
  {
    "text": "when i uploaded the last one we didn't have the dynamo bit so i'm going to take a picture right now oh shoot i turned my phone off i didn't",
    "start": "2347280",
    "end": "2353680"
  },
  {
    "text": "want it to ring in the middle let's see how quickly this thing can",
    "start": "2353680",
    "end": "2359200"
  },
  {
    "text": "come alive i think it's much better to show the actual audience",
    "start": "2359200",
    "end": "2366240"
  },
  {
    "text": "all right well that's coming up let's talk a little bit about some of the things that we that we use",
    "start": "2366400",
    "end": "2371520"
  },
  {
    "text": "there so we use this login with amazon how did i set that up let's go to that first",
    "start": "2371520",
    "end": "2376680"
  },
  {
    "text": "login.amazon.com this is not part of the aws bundle of services this is an amazon",
    "start": "2376680",
    "end": "2382160"
  },
  {
    "text": "service so if we go to login.amazon.com i can click on the app console",
    "start": "2382160",
    "end": "2387680"
  },
  {
    "text": "sign into the app console i have already you know again like i said have my account created",
    "start": "2387680",
    "end": "2394240"
  },
  {
    "text": "so i'll sign in here i have a couple of applications the one that this is associated with is this",
    "start": "2394240",
    "end": "2400839"
  },
  {
    "text": "jmn123 so if we look in the javascript code we'll see a reference to this client id that's how it knows",
    "start": "2400839",
    "end": "2406800"
  },
  {
    "text": "which application to use it's going to allow an origin of web203.jmnd.ws this is really simple that's all it's",
    "start": "2406800",
    "end": "2413119"
  },
  {
    "text": "doing right is the person able to authenticate with amazon it's going to return back that token and",
    "start": "2413119",
    "end": "2419119"
  },
  {
    "text": "that's it right it's the rest is happening incognito so if we come back to cognita",
    "start": "2419119",
    "end": "2425680"
  },
  {
    "text": "uh we can you know we can look at the identity identity pool again and",
    "start": "2426400",
    "end": "2432560"
  },
  {
    "text": "uh we'll see that it has that app id here again that's that's the association",
    "start": "2432560",
    "end": "2437920"
  },
  {
    "text": "this app id is tied to that login with amazon account and then if we go back to iem",
    "start": "2437920",
    "end": "2443839"
  },
  {
    "text": "again cognito is going to create some roles for you if you go to iam we have the auth role",
    "start": "2443839",
    "end": "2451359"
  },
  {
    "text": "uh and what this is going to allow for s3 is a is allow any actions right",
    "start": "2451440",
    "end": "2458640"
  },
  {
    "text": "i should probably have been more restrictive there to be honest i should have allowed only gets but it's going to allow any action uh to",
    "start": "2458640",
    "end": "2465119"
  },
  {
    "text": "the bucket web 203 that uploads and i'm going to do it for this cognito identity.amazonaws.com.sub",
    "start": "2465119",
    "end": "2475520"
  },
  {
    "text": "for this specific identity only so anybody any of you who have an amazon login with amazon account can",
    "start": "2475520",
    "end": "2481440"
  },
  {
    "text": "authenticate but you're not going to be authorized to get the images this bit of code here",
    "start": "2481440",
    "end": "2486560"
  },
  {
    "text": "says allow only this one id this this admin id to be able to get this and",
    "start": "2486560",
    "end": "2491760"
  },
  {
    "text": "you can have a list of them here right you can have 10 administrators in your company you can list them all out here",
    "start": "2491760",
    "end": "2496960"
  },
  {
    "text": "but that's uh that's what's what's going to happen there if we also look at the auth role we have",
    "start": "2496960",
    "end": "2502720"
  },
  {
    "text": "you know rights for dynamodb and so on all right",
    "start": "2502720",
    "end": "2509760"
  },
  {
    "text": "so if we look at dynamodb i have two tables a count table this is just going to keep",
    "start": "2509760",
    "end": "2515440"
  },
  {
    "text": "an index of how many work items need to be done and a work item table",
    "start": "2515440",
    "end": "2520800"
  },
  {
    "text": "so let's let's submit something here",
    "start": "2521119",
    "end": "2525359"
  },
  {
    "text": "if i go to web 203.jmws on my phone",
    "start": "2534960",
    "end": "2543839"
  },
  {
    "text": "go to start making",
    "start": "2546319",
    "end": "2551839"
  },
  {
    "text": "take a photo",
    "start": "2552160",
    "end": "2554880"
  },
  {
    "text": "and say use photo",
    "start": "2557440",
    "end": "2564240"
  },
  {
    "text": "submit thank you you'll hear from us soon so we",
    "start": "2564240",
    "end": "2569599"
  },
  {
    "text": "should if i refresh this uh now we'll see another entry there too",
    "start": "2569599",
    "end": "2575520"
  },
  {
    "text": "uh and then oops sorry trying to jump around here",
    "start": "2575520",
    "end": "2582720"
  },
  {
    "text": "ah that must be totally confusing the projector uh if i refresh this page we'll see that",
    "start": "2582720",
    "end": "2589040"
  },
  {
    "text": "there's two images there i actually didn't even need to refresh it's constantly pulling dynamo but i'll log in again and we'll see that",
    "start": "2589040",
    "end": "2595359"
  },
  {
    "text": "there's two images and there you guys all are right that's the picture i just took um so that's the demo i want to just go",
    "start": "2595359",
    "end": "2603200"
  },
  {
    "text": "back to the slide deck for just one second",
    "start": "2603200",
    "end": "2607839"
  },
  {
    "text": "so were we successful well this site as is built right now will",
    "start": "2608960",
    "end": "2614400"
  },
  {
    "text": "cost you 78 cents a month to run 78 cents a month",
    "start": "2614400",
    "end": "2619599"
  },
  {
    "text": "it may cost you more of course if you have a lot of data transfer if you're storing a lot of images in s3 you know if you're not cleaning them out",
    "start": "2619599",
    "end": "2625119"
  },
  {
    "text": "but the base site itself is 78 cents a month from a scalability perspective",
    "start": "2625119",
    "end": "2630160"
  },
  {
    "text": "availability perspective we have cloudfront uh dynamodb s3",
    "start": "2630160",
    "end": "2635440"
  },
  {
    "text": "all services that are built to withstand great amounts of load we're using login with amazon again not",
    "start": "2635440",
    "end": "2641200"
  },
  {
    "text": "something that you have to worry about from an administrative perspective in any way",
    "start": "2641200",
    "end": "2646318"
  },
  {
    "text": "did we meet our security requirements it has a very minimal attack surface right there's no web servers for you to have to patch there's no operating systems",
    "start": "2646480",
    "end": "2652720"
  },
  {
    "text": "for you to have to patch uh well you have to of course be very conscious of what you're doing in",
    "start": "2652720",
    "end": "2658160"
  },
  {
    "text": "javascript there's no question about that right now as i have it the dynamodb code is a very",
    "start": "2658160",
    "end": "2663760"
  },
  {
    "text": "big security hole right because anybody could say add you know add a add a bunch of records to",
    "start": "2663760",
    "end": "2669280"
  },
  {
    "text": "dynamodb really you only want to allow records getting added dynamodb that match the file that got uploaded to s3",
    "start": "2669280",
    "end": "2675680"
  },
  {
    "text": "so that's why lambda functions will really come in as soon as a file gets uploaded to s3 you can trigger uh an insertion into",
    "start": "2675680",
    "end": "2682800"
  },
  {
    "text": "dynamodb it's a much better place to do it than when i did it in this in this code and here the resources so",
    "start": "2682800",
    "end": "2689040"
  },
  {
    "text": "everything from pelican to the bootstrap theme to the uh kind of reference architecture there",
    "start": "2689040",
    "end": "2694079"
  },
  {
    "text": "for cloudfront and s3 log in with amazon galleria all the things that i used in the talk",
    "start": "2694079",
    "end": "2701200"
  },
  {
    "text": "and that's it so if you wanted uh there's some really great workshops tomorrow for",
    "start": "2701359",
    "end": "2706400"
  },
  {
    "text": "along this similar vein uh from the mobile services on ios and android development so check those out",
    "start": "2706400",
    "end": "2712240"
  },
  {
    "text": "if you're still around and thank you very much please give any feedback you have for the session",
    "start": "2712240",
    "end": "2717680"
  },
  {
    "text": "it's web 203 thank you all for sticking around",
    "start": "2717680",
    "end": "2725200"
  }
]