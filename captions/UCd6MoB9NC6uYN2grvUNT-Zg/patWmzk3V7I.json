[
  {
    "text": "welcome to uh best practices for active directory on AWS My name is Mike Cotton",
    "start": "439",
    "end": "6160"
  },
  {
    "text": "and I'm a solutions architect for public",
    "start": "6160",
    "end": "10639"
  },
  {
    "text": "sector All",
    "start": "13559",
    "end": "16639"
  },
  {
    "text": "right Okay All right Okay So today we're going to talk about Active Directory in",
    "start": "20279",
    "end": "25840"
  },
  {
    "text": "the cloud how it's used your deployment options which ones to choose from and",
    "start": "25840",
    "end": "32000"
  },
  {
    "text": "some trusts best practices around establishing trusts either uh using AWS",
    "start": "32000",
    "end": "40000"
  },
  {
    "text": "uh managed active directory services or using your own active directories that you probably don't maybe you don't",
    "start": "40000",
    "end": "46320"
  },
  {
    "text": "extend that you build new in AWS I'd also like to dispel a couple of myths I think that the important thing",
    "start": "46320",
    "end": "53199"
  },
  {
    "text": "to note is is that 80% maybe 75% of what I'm going to talk about today really is",
    "start": "53199",
    "end": "58399"
  },
  {
    "text": "stuff that you do every day So I wanted to kind of dispel the myth when you hear AWS and active directory everybody goes",
    "start": "58399",
    "end": "63760"
  },
  {
    "text": "wow how do I do that right Um before we get started I want to talk about what we have u as far as manage offerings We",
    "start": "63760",
    "end": "71200"
  },
  {
    "text": "have simple active directory uh which is a samba based active directory fully compliant kerros workstations group",
    "start": "71200",
    "end": "79520"
  },
  {
    "text": "policy objects no trust relationships and really is for 5,000 or fewer users",
    "start": "79520",
    "end": "86720"
  },
  {
    "text": "um you can't extend a schema with this one um either now when it comes to the managed",
    "start": "86720",
    "end": "93040"
  },
  {
    "text": "active directory services that is actually active directory enterprise edition um and when we talk about 5,000 users or",
    "start": "93040",
    "end": "99759"
  },
  {
    "text": "less what we're really talking about is are am I am I actually sourcing identities within this active directory",
    "start": "99759",
    "end": "105520"
  },
  {
    "text": "Am I standing it up and am I putting 5,000 users in it And if that's the case",
    "start": "105520",
    "end": "110880"
  },
  {
    "text": "yeah then there's a there's a limit It's not necessarily 5,000 It could be more or less depending on concurrent usage",
    "start": "110880",
    "end": "117439"
  },
  {
    "text": "But when you use it in a trusted model where you're actually providing a trust relationship back to on premises and",
    "start": "117439",
    "end": "123280"
  },
  {
    "text": "you're using it as a kind of a resource forest if you have 50,000 users on premises will support the authentication",
    "start": "123280",
    "end": "129759"
  },
  {
    "text": "and password for that Okay Uh there's some limitations with that with respect to what you can and can't do with it",
    "start": "129759",
    "end": "136160"
  },
  {
    "text": "There's some announcements coming with with regards to some features that are going to be released I'll go through",
    "start": "136160",
    "end": "141520"
  },
  {
    "text": "those um as we go through the presentation But one way trust two-way trust schema",
    "start": "141520",
    "end": "149640"
  },
  {
    "text": "extensions Now here's where I start dispelling some myths right So when I",
    "start": "149640",
    "end": "155519"
  },
  {
    "text": "look at this slide I try to put myself in my customers shoes and I'm thinking",
    "start": "155519",
    "end": "161760"
  },
  {
    "text": "I'm moving to the cloud and I've really got to make this journey I look at customers from two different perspectives I say there are some",
    "start": "161760",
    "end": "168160"
  },
  {
    "text": "customers that are already making this journey today uh when when you refer to things like refactor especially down the",
    "start": "168160",
    "end": "175200"
  },
  {
    "text": "bottom here when you're talking about different types of uh authentication processes like SAML web identity",
    "start": "175200",
    "end": "182280"
  },
  {
    "text": "OIDC um OOTH most organizations are looking at these things today",
    "start": "182280",
    "end": "188959"
  },
  {
    "text": "uh so this shouldn't be really new but in the case of being new when you think",
    "start": "188959",
    "end": "194840"
  },
  {
    "text": "about the different types of authentication that you have going on in your environment today and this is what",
    "start": "194840",
    "end": "200319"
  },
  {
    "text": "I'm trying dispel some of that myth right I have enduser application authentication processes right And that",
    "start": "200319",
    "end": "207440"
  },
  {
    "text": "could be Windowsbased it could be Kerros it could be NLM I have u applications",
    "start": "207440",
    "end": "212799"
  },
  {
    "text": "that reside on top of that A lot of Oracle uses here Oracle doesn't really join an active directory It uses active",
    "start": "212799",
    "end": "219599"
  },
  {
    "text": "directory from an LDAP perspective But if you put web logic in front of it you could do SAML right And you could do SSO",
    "start": "219599",
    "end": "225599"
  },
  {
    "text": "and you could support many different directories So as we dispel the myths here don't",
    "start": "225599",
    "end": "232319"
  },
  {
    "text": "think of the big bad moving to the cloud is going to be a big challenge from an authentication perspective A lot of",
    "start": "232319",
    "end": "238159"
  },
  {
    "text": "these things you're doing already You're looking at how do I authenticate users to my network devices Looking at how do",
    "start": "238159",
    "end": "245200"
  },
  {
    "text": "I authenticate users to my servers for administration purposes I'm looking at",
    "start": "245200",
    "end": "250319"
  },
  {
    "text": "you're looking at how do you authenticate your users from an application perspective And that doesn't change when you move to the cloud and",
    "start": "250319",
    "end": "256799"
  },
  {
    "text": "and a lot of you kind of show a hands who's doing SAL and OOTH or OIDC today",
    "start": "256799",
    "end": "263280"
  },
  {
    "text": "So when you think about moving to the cloud flex the same muscle For those that don't and aren't using that today",
    "start": "263280",
    "end": "270160"
  },
  {
    "text": "it's not a huge uplift I think your organizations probably will be looking at it in the near",
    "start": "270160",
    "end": "275720"
  },
  {
    "text": "future So how does how does uh authentication work in active directory So workstations authenticate username",
    "start": "275720",
    "end": "283919"
  },
  {
    "text": "and password Machine is the username and the password associated with that machine account gets changed every 30",
    "start": "283919",
    "end": "289040"
  },
  {
    "text": "days saves uh one password for a total of 60 days Um but I'm essentially",
    "start": "289040",
    "end": "295040"
  },
  {
    "text": "authenticating a workstation I'm getting a Kerros ticket for that workstation I can use that Kerros ticket or the NM",
    "start": "295040",
    "end": "301120"
  },
  {
    "text": "token on that from that workstation authentication process to make decisions based upon you accessing a resource from",
    "start": "301120",
    "end": "308160"
  },
  {
    "text": "a specific device Right You can access a resource only if you're logged into that",
    "start": "308160",
    "end": "313280"
  },
  {
    "text": "workstation So workstations authenticate the same way users do Users authenticate",
    "start": "313280",
    "end": "318639"
  },
  {
    "text": "the same way workstations do Kerros unlike NLM is a client referral process",
    "start": "318639",
    "end": "324880"
  },
  {
    "text": "very close to the way SEML works Everybody understands what client referral means The client is the one",
    "start": "324880",
    "end": "330639"
  },
  {
    "text": "that establishes the path of authentication through the request process So down at the bottom here I",
    "start": "330639",
    "end": "338639"
  },
  {
    "text": "have an example where I'm authenticating Actually let's stay at the top one Stay at the middle one User authent",
    "start": "338639",
    "end": "344720"
  },
  {
    "text": "authenticates to active directory It's a Kerros ticket It's a ticket granting ticket It's verifying your identity User",
    "start": "344720",
    "end": "350080"
  },
  {
    "text": "goes and access an app maybe a SQL app maybe a SharePoint app backed up by SQL",
    "start": "350080",
    "end": "355440"
  },
  {
    "text": "Uh in a Keraros world if you don't have a service granting ticket for that resource you're requested to go get",
    "start": "355440",
    "end": "362440"
  },
  {
    "text": "one If you have to go get one you've got to make a call to Active Directory You got to look for the the service",
    "start": "362440",
    "end": "368400"
  },
  {
    "text": "principle name of that device In this case it could be a web server with a SQL backend and you're going to get a ticket",
    "start": "368400",
    "end": "374960"
  },
  {
    "text": "granting ticket and you're going to present it back to that service and you're going to be authenticated",
    "start": "374960",
    "end": "380319"
  },
  {
    "text": "Everybody understand that concept Same the same way right I go to a if it's a relying party initiated uh uh",
    "start": "380319",
    "end": "386560"
  },
  {
    "text": "authentication process you go to the app there's no authentication token in your header your URL stream it says go here",
    "start": "386560",
    "end": "394479"
  },
  {
    "text": "302 redirect to my identity provider and authenticate and then present back to me",
    "start": "394479",
    "end": "399759"
  },
  {
    "text": "the results of that How does that work in the cloud different picture different colors but",
    "start": "399759",
    "end": "406080"
  },
  {
    "text": "it works the same way Right here we're",
    "start": "406080",
    "end": "411199"
  },
  {
    "text": "using MSSQL using um either a customerp purpose-built SQL implementation or",
    "start": "411880",
    "end": "419280"
  },
  {
    "text": "Amazon uh managed uh relational database services to support that SQL requirement",
    "start": "419280",
    "end": "425919"
  },
  {
    "text": "But we're still doing the same things Same old front end cribos constraint delegation on the back side all",
    "start": "425919",
    "end": "431360"
  },
  {
    "text": "predicated on the user authenticating through active directory Does that make sense to",
    "start": "431360",
    "end": "436919"
  },
  {
    "text": "everybody So we've made the journey I'll just back up real quick here We've made the journey from on premises to the",
    "start": "436919",
    "end": "442880"
  },
  {
    "text": "cloud and really the only thing that's color changed the colors of the of the applications themselves And these can be",
    "start": "442880",
    "end": "450479"
  },
  {
    "text": "services that you build on EC2 How many you guys actually use AWS here today Great Um I have a habit of using a",
    "start": "450479",
    "end": "459199"
  },
  {
    "text": "lot of acronyms and uh sometimes I don't back them up So everybody knows what EC2 means and DPC Great Um so these could be",
    "start": "459199",
    "end": "467440"
  },
  {
    "text": "customer built EC2 managed services or these could be AWS managed services like",
    "start": "467440",
    "end": "472800"
  },
  {
    "text": "relational database services Okay Deployment options Again",
    "start": "472800",
    "end": "479199"
  },
  {
    "text": "you guys do this today How many times how many people here work with Active Directory on an everyday basis",
    "start": "479199",
    "end": "486960"
  },
  {
    "text": "How many sites in your organizations do not have domain controllers in them Let's throw out a",
    "start": "486960",
    "end": "493160"
  },
  {
    "text": "number Most of them You got all your users sitting out in these remote locations Maybe there's",
    "start": "493160",
    "end": "499520"
  },
  {
    "text": "25 or 30 people there Does it warrant a domain controller Probably not Right",
    "start": "499520",
    "end": "504960"
  },
  {
    "text": "Because with with purchasing the hardware and the licensing becomes the management costs right I've got to patch",
    "start": "504960",
    "end": "510160"
  },
  {
    "text": "it I've got to configure Okay So the first option is don't deploy domain controllers into AWS Set up your account",
    "start": "510160",
    "end": "517760"
  },
  {
    "text": "do your connectivity you know your direct connect your VPN over the internet Provision your resources or",
    "start": "517760",
    "end": "524159"
  },
  {
    "text": "your services in AWS that require active directory but don't extend active directory out there from a Lyft or build",
    "start": "524159",
    "end": "530880"
  },
  {
    "text": "new domain controllers in your VPC Just change your VPC DHCP options to point to",
    "start": "530880",
    "end": "537600"
  },
  {
    "text": "the domain controllers that you want those services to authenticate to It supports domain join through the user data process on an EC2 launch",
    "start": "537600",
    "end": "544360"
  },
  {
    "text": "configuration It supports authentication but you are going over a connection a",
    "start": "544360",
    "end": "549600"
  },
  {
    "text": "VPN connection over a DX or over the internet It could depending on the load it could you could suffer some latency",
    "start": "549600",
    "end": "556080"
  },
  {
    "text": "and if you had an issue with the connection for 20 or 30 minutes everything in in in your VPC either",
    "start": "556080",
    "end": "561839"
  },
  {
    "text": "could fail or be off limits to you So we say bring your domain controllers to",
    "start": "561839",
    "end": "568320"
  },
  {
    "text": "your VPC the most flexibility but you're still managing this yourself right",
    "start": "568320",
    "end": "573760"
  },
  {
    "text": "you're patching it it's like saying I have a new site and I I need to bring domain services out there you don't have",
    "start": "573760",
    "end": "580080"
  },
  {
    "text": "to provision you could do license included windows and you could build your own domain controllers on those but",
    "start": "580080",
    "end": "585920"
  },
  {
    "text": "you still have to manage them everybody familiar with that process bringing your domain controllers out so when I say",
    "start": "585920",
    "end": "592160"
  },
  {
    "text": "that I'm demystifying this for you Forget we're calling this AWS We're just calling it another if you guys were here",
    "start": "592160",
    "end": "598560"
  },
  {
    "text": "for the last presentation he kept using the term this is just another data center for you This is just another",
    "start": "598560",
    "end": "603600"
  },
  {
    "text": "facility a data center just another enclave just another place where you have services If you take the AWS out of",
    "start": "603600",
    "end": "609279"
  },
  {
    "text": "it it kind of takes the the scariness away You could bring your domain controllers out and then you could change your DHP options on your VPC",
    "start": "609279",
    "end": "616160"
  },
  {
    "text": "subnets to be able to point to those domain controllers but you still have to manage it",
    "start": "616160",
    "end": "622040"
  },
  {
    "text": "Um if you guys have any questions as we're going through this please don't hesitate to raise your hand and and and",
    "start": "622040",
    "end": "628279"
  },
  {
    "text": "ask Uh the third option well it's not really the third option It's the fourth option we're going to talk about um as",
    "start": "628279",
    "end": "634160"
  },
  {
    "text": "it relates to the EC2 or excuse me Windows or Active Directory on EC2 but",
    "start": "634160",
    "end": "639360"
  },
  {
    "text": "the third option here is um AWS managed active directory right It's it is a it",
    "start": "639360",
    "end": "646160"
  },
  {
    "text": "is an active directory server Um it's two of them It's in a VPC We manage it",
    "start": "646160",
    "end": "652079"
  },
  {
    "text": "It's a three-click implementation Um it supports seamless",
    "start": "652079",
    "end": "657440"
  },
  {
    "text": "domain join Uh it it it it does require um an implementation in each VPC It does",
    "start": "657440",
    "end": "664480"
  },
  {
    "text": "require the services that that uh you're going to be uh integrating with uh this",
    "start": "664480",
    "end": "670240"
  },
  {
    "text": "authentication method that they're in the same VPC So it can get a bit of",
    "start": "670240",
    "end": "675519"
  },
  {
    "text": "cumbersome when you start thinking about well I do have a lot of VPCs right Maybe I do um maybe I do applications",
    "start": "675519",
    "end": "682320"
  },
  {
    "text": "specifically via V VPCs So that segregation you know app app one in one VPC app two and app three in another And",
    "start": "682320",
    "end": "689360"
  },
  {
    "text": "we're making some changes that I'll I'll announce at the end of this that that kind of gets away from that Um it also",
    "start": "689360",
    "end": "696240"
  },
  {
    "text": "supports um integration with our workspace products our work doc products and our work uh workspaces work docs and",
    "start": "696240",
    "end": "703600"
  },
  {
    "text": "work mail chime and quicksite right But the the limitations are the same",
    "start": "703600",
    "end": "710000"
  },
  {
    "text": "You could build this standalone or connect it to your active directory with trusts And the standalone concept is something we'll talk about here in a",
    "start": "710000",
    "end": "716079"
  },
  {
    "text": "second Yeah",
    "start": "716079",
    "end": "719320"
  },
  {
    "text": "No it's Yeah that's a typo It's it's two VP it's two uh two domain controllers per VPC",
    "start": "725920",
    "end": "733519"
  },
  {
    "text": "in different A's or different subnets in different A's I thought it was going to be a",
    "start": "733519",
    "end": "739760"
  },
  {
    "text": "long-winded question You caught a typo in my presentation Good for you",
    "start": "739760",
    "end": "746360"
  },
  {
    "text": "Yeah Okay So how many of you used manage",
    "start": "746480",
    "end": "752480"
  },
  {
    "text": "Active Directory Okay So the ones that haven't we don't give you domain admin rights We",
    "start": "752480",
    "end": "759200"
  },
  {
    "text": "give you rights over an OU right Um we delegate full rights over",
    "start": "759200",
    "end": "764880"
  },
  {
    "text": "that OU We we do allow you to do scheme extensions through an LDF uh import or",
    "start": "764880",
    "end": "771040"
  },
  {
    "text": "you know there's a there's a wizard in there which allows you to drop your LDF file Um I would recommend that you go",
    "start": "771040",
    "end": "776720"
  },
  {
    "text": "through Microsoft support to get your LDF file validated any anytime I've ever done an active directory extension on",
    "start": "776720",
    "end": "782639"
  },
  {
    "text": "that on a on AD been doing this for a long time I recommend that you go through Microsoft to be able to validate",
    "start": "782639",
    "end": "788800"
  },
  {
    "text": "your LD file okay",
    "start": "788800",
    "end": "793160"
  },
  {
    "text": "um so your responsibilities really here are just to administer it right using aduct active director uses in computers",
    "start": "794519",
    "end": "801360"
  },
  {
    "text": "it does support two-way trust it does support one-way trust it does support kerros delegation uh constraint",
    "start": "801360",
    "end": "807720"
  },
  {
    "text": "delegation so here's where it it gets a bit interesting So we talked about the the the",
    "start": "807720",
    "end": "814360"
  },
  {
    "text": "um the various different uh methods in which you can deploy Active Directory",
    "start": "814360",
    "end": "819680"
  },
  {
    "text": "within your AWS infrastructure You can just change the VPC settings from a DHCP perspective to",
    "start": "819680",
    "end": "826560"
  },
  {
    "text": "point back on premises Once you have that network connectivity and those firewall set up or the security group set up you can bring Active Directory",
    "start": "826560",
    "end": "833200"
  },
  {
    "text": "domain controllers into your VPC Again it's just a matter",
    "start": "833200",
    "end": "840079"
  },
  {
    "text": "of building a Windows server on EC2 making sure that your network",
    "start": "840839",
    "end": "846160"
  },
  {
    "text": "connectivity is there making sure your security groups for your firewalls are set correctly and then um configuring",
    "start": "846160",
    "end": "852320"
  },
  {
    "text": "your your DHP options on your VPC Very familiar with that you know domain name",
    "start": "852320",
    "end": "858560"
  },
  {
    "text": "suffix wind server winds net node type right",
    "start": "858560",
    "end": "864800"
  },
  {
    "text": "And then I can actually do a DC promo and build my domain controller um",
    "start": "864800",
    "end": "870639"
  },
  {
    "text": "my domain controller infrastructure within my single or multiple VPCs",
    "start": "870639",
    "end": "875760"
  },
  {
    "text": "depending on how you have them connected together from a network perspective And if you drop all the way down to the bottom there's the option of syncing",
    "start": "875760",
    "end": "882959"
  },
  {
    "text": "users right There's the option of actually building that active directory the same way you would build it if you",
    "start": "882959",
    "end": "890160"
  },
  {
    "text": "were just doing an extension and replicating but actually building an active directory and syncing users over",
    "start": "890160",
    "end": "896000"
  },
  {
    "text": "It's a pretty interesting work uh use case here Um there are no trust relationships in this scenario There",
    "start": "896000",
    "end": "902399"
  },
  {
    "text": "really there really can't be because how do you have users existing in both locations or both forced at the same time Theoretically you could but then",
    "start": "902399",
    "end": "908720"
  },
  {
    "text": "you'd have a lot of confusion if you did a trust relationship and you were doing trying trying to figure out how to route",
    "start": "908720",
    "end": "914399"
  },
  {
    "text": "suffixes from a name suffix routing table perspective on in active directory But this really gives you the option to",
    "start": "914399",
    "end": "919920"
  },
  {
    "text": "be able to take those credentials especially in a pivot world right We have PIV and CAC and smart card and",
    "start": "919920",
    "end": "925680"
  },
  {
    "text": "you're you're wanting to give people access to resources that sit more closer to the perimeter but you don't",
    "start": "925680",
    "end": "932079"
  },
  {
    "text": "necessarily want to extend your active directory to that perimeter right So what you're doing in this situation is",
    "start": "932079",
    "end": "938240"
  },
  {
    "text": "you're actually creating another identity store and you in theory you're taking on the responsibility of managing",
    "start": "938240",
    "end": "944079"
  },
  {
    "text": "that but from if you're doing an automated sync process where you provision deprovision and it just",
    "start": "944079",
    "end": "949680"
  },
  {
    "text": "happens across the uh whatever tool you're using and you're and you're automatically doing that PIV um UPN",
    "start": "949680",
    "end": "956600"
  },
  {
    "text": "association So the UPN suffix on your PIV card or your smart card or your CAT card is associated with the UPN suffix",
    "start": "956600",
    "end": "963519"
  },
  {
    "text": "um on your active directory account As you sync that over what you're actually doing is you're building a repository",
    "start": "963519",
    "end": "969120"
  },
  {
    "text": "that will support the same authentication methods from a PIP perspective CAC and smart card in this",
    "start": "969120",
    "end": "974560"
  },
  {
    "text": "closer to the edge directory service right So if this was compromised you",
    "start": "974560",
    "end": "980480"
  },
  {
    "text": "wouldn't run the risk of actually running compromising your internal active directory Um how many of you guys",
    "start": "980480",
    "end": "987120"
  },
  {
    "text": "are familiar with uh the kind of the red force concept or the the ESAE concept uh",
    "start": "987120",
    "end": "992480"
  },
  {
    "text": "with um administering active directory and having two directories one administer the other but no trust",
    "start": "992480",
    "end": "998639"
  },
  {
    "text": "relationships between them this is the same it's the same you familiar with it it's the same kind of concept right I'm",
    "start": "998639",
    "end": "1004480"
  },
  {
    "text": "taking my users and I'm allowing them to use their same credentials to log into services that I'm offering and maybe",
    "start": "1004480",
    "end": "1011120"
  },
  {
    "text": "even in a perimeter perspective where you're mixing internal and external users using the same credentials Those I don't have my thing on me but those PIV",
    "start": "1011120",
    "end": "1018160"
  },
  {
    "text": "card CAC card smart cards use the same credentials they use to login internally but I'm not mixing the two",
    "start": "1018160",
    "end": "1024280"
  },
  {
    "text": "directories Anybody not understand what I'm talking about Yeah Go ahead",
    "start": "1024280",
    "end": "1031319"
  },
  {
    "text": "Yeah So two separate two separate sover",
    "start": "1033760",
    "end": "1039160"
  },
  {
    "text": "Well I mean theoretically yes But uh I mean if if it it depends on the the",
    "start": "1042079",
    "end": "1047678"
  },
  {
    "text": "nature as you move from internal to near near edge or near external most",
    "start": "1047679",
    "end": "1053360"
  },
  {
    "text": "organizations don't want to extend internal active directories because if they're compromised you know you get the",
    "start": "1053360",
    "end": "1060640"
  },
  {
    "text": "the pass the hash and the the credential theft that allows somebody to walk through your environment If I'm standing",
    "start": "1060640",
    "end": "1067440"
  },
  {
    "text": "up a directory to authenticate users in a near edge or edge location where I",
    "start": "1067440",
    "end": "1073840"
  },
  {
    "text": "don't necessarily want to bring my internal domain controller services or authentication services out there It's a",
    "start": "1073840",
    "end": "1080960"
  },
  {
    "text": "separate kerros domain So it's a separate forest I'm syncing users over there and I'm allowing them to use their",
    "start": "1080960",
    "end": "1086799"
  },
  {
    "text": "same credentials um in this near edge location So think of a VPN solution right I want people to",
    "start": "1086799",
    "end": "1094000"
  },
  {
    "text": "use a VPN solution to come to an edge location but maybe I don't want to put my authentication services on that edge",
    "start": "1094000",
    "end": "1100080"
  },
  {
    "text": "because it's they're closer to the to a location where they may be compromised So it's a it's it really is a concept of",
    "start": "1100080",
    "end": "1106400"
  },
  {
    "text": "of taking the credentials that they have today And if it was username and password you'd be syncing the password",
    "start": "1106400",
    "end": "1111760"
  },
  {
    "text": "But since it's a two-factor authentication you're not really syncing anything but the account demographics",
    "start": "1111760",
    "end": "1117039"
  },
  {
    "text": "and the and the value that's associated with their user principal name and how it matches their alternative UPN suffix",
    "start": "1117039",
    "end": "1123520"
  },
  {
    "text": "on their PIV card And it allows them to do that authentication using the same credentials So when they when they would",
    "start": "1123520",
    "end": "1129840"
  },
  {
    "text": "hit an application it would say please provide pro provide your credentials they'd slide their PIV card in hit their",
    "start": "1129840",
    "end": "1135280"
  },
  {
    "text": "PIN and it would take them in It's not completely SSO but it's reduced sign on",
    "start": "1135280",
    "end": "1141120"
  },
  {
    "text": "because they have this They know the they have the credentials and they know which ones they need to use to be able",
    "start": "1141120",
    "end": "1146400"
  },
  {
    "text": "to get in there It's not a different set Does that explain it better No",
    "start": "1146400",
    "end": "1152760"
  },
  {
    "text": "Okay So on option number two what we're doing",
    "start": "1152760",
    "end": "1158880"
  },
  {
    "text": "here was we're saying that you could build your own directory or you could use uh the Microsoft managed active",
    "start": "1159000",
    "end": "1165480"
  },
  {
    "text": "directory directory service and create a trust relationship Everybody familiar",
    "start": "1165480",
    "end": "1171200"
  },
  {
    "text": "with trust relationships You typically do them at the force level So you can only only have to do them one",
    "start": "1171200",
    "end": "1177400"
  },
  {
    "text": "time Any questions on this",
    "start": "1177400",
    "end": "1182200"
  },
  {
    "text": "Okay so this is kind of a snapshot of a a reference architecture So I think the",
    "start": "1183120",
    "end": "1189840"
  },
  {
    "text": "things that we're not seeing here are the underlying DHCP configuration",
    "start": "1189840",
    "end": "1195039"
  },
  {
    "text": "options right So you have these web app and data sitting across two availability",
    "start": "1195039",
    "end": "1200080"
  },
  {
    "text": "zones using a direct connect connection with a with a VPN over the top of it and my uh my my LDAP and active directory",
    "start": "1200080",
    "end": "1207760"
  },
  {
    "text": "servers are sitting um in the agency network in the in the on premises network but what I've done",
    "start": "1207760",
    "end": "1214640"
  },
  {
    "text": "in this case situation is I've actually just changed the DHP option to say look for DNS services for domain services for",
    "start": "1214640",
    "end": "1221679"
  },
  {
    "text": "wind services for wind type uh winds node type I'm actually pointing them to the on- premises active directory maybe",
    "start": "1221679",
    "end": "1229039"
  },
  {
    "text": "two or three of them right so when I go to log in it's going to long haul back authenticate download GPOs and do that",
    "start": "1229039",
    "end": "1236760"
  },
  {
    "text": "now if you took the Amazon specific things out of this picture that",
    "start": "1236760",
    "end": "1242640"
  },
  {
    "text": "made it look like a VPC this could be any remote location that you guys have in your organizations today and you're",
    "start": "1242640",
    "end": "1249520"
  },
  {
    "text": "you're right now you're making those determinations where do I put domain controllers",
    "start": "1249520",
    "end": "1255280"
  },
  {
    "text": "Well 75 users or less or excuse me or more is where I put domain controllers 50 users or more So that's",
    "start": "1255280",
    "end": "1262080"
  },
  {
    "text": "what this is This is this is demystifying whole bringing domain controller services and authentication",
    "start": "1262080",
    "end": "1267440"
  },
  {
    "text": "services to AWS because this is really no different than the decisions you're making today",
    "start": "1267440",
    "end": "1273880"
  },
  {
    "text": "Um maybe I've started small now I'm getting bigger Maybe that site was 50",
    "start": "1273880",
    "end": "1279120"
  },
  {
    "text": "users and now it's 150 users I'm bringing domain controller services out there So what do you do in that remote",
    "start": "1279120",
    "end": "1284960"
  },
  {
    "text": "facility You change the DHCP options to say these are the domain controllers that you need to point to Maybe you",
    "start": "1284960",
    "end": "1290799"
  },
  {
    "text": "create an active directory site Those users now those systems now they point to that active directory In",
    "start": "1290799",
    "end": "1297440"
  },
  {
    "text": "this situation here all I've done is built two active directory servers on EC2 Change the DHCP options and now I'm",
    "start": "1297440",
    "end": "1304480"
  },
  {
    "text": "I'm synchronizing or replicating Active Directory I've actually bought brought servers out there I did a DC promo on",
    "start": "1304480",
    "end": "1310159"
  },
  {
    "text": "them and there out there working So when you think about these options there's nothing that we're doing here that's",
    "start": "1310159",
    "end": "1315520"
  },
  {
    "text": "really much different than what you're doing from a decision-m process You know I I think that we're providing you a lot",
    "start": "1315520",
    "end": "1322720"
  },
  {
    "text": "more flexibility and agility and we're kind of getting a you know doing away with the undifferiated lifting You know",
    "start": "1322720",
    "end": "1328960"
  },
  {
    "text": "you don't have to acquire servers You can you know go in there with your account and say I need an EC2 instance",
    "start": "1328960",
    "end": "1334559"
  },
  {
    "text": "of this size with a by license or license included and this is what I'm going to install on it I must encrypt",
    "start": "1334559",
    "end": "1341120"
  },
  {
    "text": "the elastic block storage volumes Click click click And I've got servers up and running in no",
    "start": "1341120",
    "end": "1346520"
  },
  {
    "text": "time Yeah",
    "start": "1346520",
    "end": "1350520"
  },
  {
    "text": "Do you have practices for Yeah there there actually is pretty good",
    "start": "1371039",
    "end": "1377039"
  },
  {
    "text": "guidance on that but that yours is really more about naming standards trying to match the actual name in the",
    "start": "1377039",
    "end": "1383840"
  },
  {
    "text": "console with the with the with the net bios name or the Some tools are using",
    "start": "1383840",
    "end": "1389360"
  },
  {
    "text": "some tools Yeah So so any of the tools that you",
    "start": "1389360",
    "end": "1395200"
  },
  {
    "text": "like the con config AWS config that will use the the name that's reported in the",
    "start": "1395200",
    "end": "1401919"
  },
  {
    "text": "console or the or the API calls So that's a we could take that one offline",
    "start": "1401919",
    "end": "1407440"
  },
  {
    "text": "and talk about that but let me let me let me address um a couple of things wi",
    "start": "1407440",
    "end": "1412559"
  },
  {
    "text": "with in relation to that Um so it's a lot easier to do a domain",
    "start": "1412559",
    "end": "1418640"
  },
  {
    "text": "join I shouldn't say a lot easier It's it's it's integrated and automatic to do a domain join when you're using the AWS",
    "start": "1418640",
    "end": "1426559"
  },
  {
    "text": "managed active directory It's basically a little drop down and says what domain do you want to join Click and it will join the domain for you Um there's a lot",
    "start": "1426559",
    "end": "1434880"
  },
  {
    "text": "of PowerShell scripts out there in the wild that you can use when you're doing an EC2 launch you hit the user data and",
    "start": "1434880",
    "end": "1442400"
  },
  {
    "text": "you and you put the uh the PowerShell script in there it joins your domain really easy like so I just kind of want",
    "start": "1442400",
    "end": "1448880"
  },
  {
    "text": "to demystify that as well Right Domaining a join domaining a domain joining a system is no different here",
    "start": "1448880",
    "end": "1455039"
  },
  {
    "text": "than it is back at your your desk right now So good question on DNS So you know",
    "start": "1455039",
    "end": "1462000"
  },
  {
    "text": "the two is always our DNS resolver in AWS",
    "start": "1462000",
    "end": "1467520"
  },
  {
    "text": "And if I change my DHB options and I tell my EC2 instance to use a different DNS",
    "start": "1467520",
    "end": "1474400"
  },
  {
    "text": "how do I integrate the two Um and the easiest way to do that is conditional",
    "start": "1474400",
    "end": "1479880"
  },
  {
    "text": "forwarders It's the easiest way to do it It's always going to be two of that of that cider range for that VPC And then",
    "start": "1479880",
    "end": "1486559"
  },
  {
    "text": "you just take the the um the the uh region suffix and you put that region",
    "start": "1486559",
    "end": "1494080"
  },
  {
    "text": "suffix as a conditional forward to do So 1000",
    "start": "1494080",
    "end": "1499159"
  },
  {
    "text": "02 this and I could I could just if you have a card or I'll give you my my information afterwards and I can I'll",
    "start": "1499159",
    "end": "1505440"
  },
  {
    "text": "send you this So it's a pretty straightforward process It's a great it's a great question because if you use other services on your on your whatever",
    "start": "1505440",
    "end": "1511919"
  },
  {
    "text": "it's your Linux instances or your Windows instances that are actually purporting to talk to a you know you",
    "start": "1511919",
    "end": "1518400"
  },
  {
    "text": "know an info blocks or an active directory DNS other than the AWS DNS and",
    "start": "1518400",
    "end": "1523600"
  },
  {
    "text": "you start using things like uh elastic file store right you're not going to be able to mount these NFS mounts with a",
    "start": "1523600",
    "end": "1530640"
  },
  {
    "text": "name you have to do it by IP address so yeah you want to be able to integrate DNS for that reason okay Any other",
    "start": "1530640",
    "end": "1537679"
  },
  {
    "text": "questions on this Okay",
    "start": "1537679",
    "end": "1543640"
  },
  {
    "text": "so not much different Uh we drew a box",
    "start": "1543640",
    "end": "1548840"
  },
  {
    "text": "around the managed active directory just to segregate it so you can see that it's",
    "start": "1548840",
    "end": "1554320"
  },
  {
    "text": "actually an AWS managed active directory There are some limitations with this and",
    "start": "1554320",
    "end": "1559600"
  },
  {
    "text": "we're going to talk about those in a second Um but here we're showing a trust",
    "start": "1559600",
    "end": "1564960"
  },
  {
    "text": "relationship You don't have to have one It's recommended that you have one if your on-remise users need to use like",
    "start": "1564960",
    "end": "1571840"
  },
  {
    "text": "RDS services or quicksite services or workspace services or stuff like that But it's really it's simply just another",
    "start": "1571840",
    "end": "1577919"
  },
  {
    "text": "active directory in your environment Any",
    "start": "1577919",
    "end": "1583120"
  },
  {
    "text": "questions Okay So I think I talked about a lot of these things already Um there",
    "start": "1583720",
    "end": "1589039"
  },
  {
    "text": "needs to be a trust relationship and everybody understands that authentication flow is opposite of trust relationship So if I want authentication",
    "start": "1589039",
    "end": "1595840"
  },
  {
    "text": "to flow this way I need to trust that way Does that make sense Okay So a lot",
    "start": "1595840",
    "end": "1601279"
  },
  {
    "text": "of times customers try to get away with a one-way trust um and maybe set it up the incorrect way",
    "start": "1601279",
    "end": "1608400"
  },
  {
    "text": "but there's also some services out there that need two-way trusts So just be real careful when you make those decisions on",
    "start": "1608400",
    "end": "1613919"
  },
  {
    "text": "which way you want to go It's very simple to go and add a second factor or a second direction to your trust",
    "start": "1613919",
    "end": "1619600"
  },
  {
    "text": "relationship but just make make sure you understand the trust relationships A they're required if you want to take",
    "start": "1619600",
    "end": "1624720"
  },
  {
    "text": "your users and use remember this managed active directory that we're standing up and managing for you is nothing more",
    "start": "1624720",
    "end": "1630400"
  },
  {
    "text": "than a resource forest So if you're standing up resources in that forest and you want SSO or you want your users just",
    "start": "1630400",
    "end": "1636720"
  },
  {
    "text": "to be able to use those those services at all there needs to be a trust relationship",
    "start": "1636720",
    "end": "1642520"
  },
  {
    "text": "there And then to the gentleman's point down here it's uh per VPC uh the managed",
    "start": "1642520",
    "end": "1649039"
  },
  {
    "text": "active directory So you could see yourself in a situation where I've got my applications segregated by VPCs I",
    "start": "1649039",
    "end": "1656159"
  },
  {
    "text": "need a lot of them I need a lot of managed active directories which means I need a lot of trust relationships back home to my on premises active directory",
    "start": "1656159",
    "end": "1664520"
  },
  {
    "text": "Um so you can either consolidate all your applications in one VPC but if you're already down that path you know",
    "start": "1664520",
    "end": "1670080"
  },
  {
    "text": "the only option you have or had hint hint um is multiple managed active",
    "start": "1670080",
    "end": "1676880"
  },
  {
    "text": "directories And the other option here is one per right Quicksite enterprise edition must",
    "start": "1676880",
    "end": "1683919"
  },
  {
    "text": "be in the same account All right",
    "start": "1683919",
    "end": "1690679"
  },
  {
    "text": "So this is a kind of an eye chart Deployment",
    "start": "1690679",
    "end": "1696760"
  },
  {
    "text": "differences One is AWS built Three clicks and you're in Little bit of setup trust",
    "start": "1696760",
    "end": "1703520"
  },
  {
    "text": "relationships maybe some schema extensions but really easy We snap it",
    "start": "1703520",
    "end": "1709039"
  },
  {
    "text": "We'll do the restores bond request EC2 whether it's synchronized whether it's",
    "start": "1709039",
    "end": "1714640"
  },
  {
    "text": "replicated whether it's neither of the two It's something that you have to manage right You have to patch it you",
    "start": "1714640",
    "end": "1722880"
  },
  {
    "text": "have to back it up Simple backups using snapshots makes it easy for restore then you also have full control over it",
    "start": "1722880",
    "end": "1730960"
  },
  {
    "text": "And the other thing too is these when you when you start talking about um",
    "start": "1730960",
    "end": "1736559"
  },
  {
    "text": "trust ports from the from on premises to the cloud and you think well I have a",
    "start": "1736559",
    "end": "1741679"
  },
  {
    "text": "trust relationship I have domain controllers I'm doing replication um or I don't have domain controllers",
    "start": "1741679",
    "end": "1747360"
  },
  {
    "text": "and I'm just doing long haul authentication what's the huge difference in the in the ports and the and the protocols right and from a trust",
    "start": "1747360",
    "end": "1755240"
  },
  {
    "text": "perspective there are no client side requirements for things like um GPO",
    "start": "1755240",
    "end": "1761240"
  },
  {
    "text": "processing time um there are sometimes there are global",
    "start": "1761240",
    "end": "1766559"
  },
  {
    "text": "catalog requirements So there are a few number of ports differences when you start talking about where your actual",
    "start": "1766559",
    "end": "1772240"
  },
  {
    "text": "workstation sit and where your actual users sit But the real change here and something I want to talk about on my",
    "start": "1772240",
    "end": "1778240"
  },
  {
    "text": "last slide The real change here is the amount of ports that are required in a",
    "start": "1778240",
    "end": "1785039"
  },
  {
    "text": "dynamic service uh assignment perspective So everybody understands the whole endmapper",
    "start": "1785039",
    "end": "1791840"
  },
  {
    "text": "uh port service endpoint mapper service in Windows right port 135 doesn't matter",
    "start": "1791840",
    "end": "1798399"
  },
  {
    "text": "what you're doing unless it's a web- based service and you already know it's 40 uh 80 or 443 you've got to go to 135",
    "start": "1798399",
    "end": "1804960"
  },
  {
    "text": "and then say hey I'm looking for this service what port am I on because as those services start on those individual",
    "start": "1804960",
    "end": "1810799"
  },
  {
    "text": "workstations or servers they start randomly right before Windows uh 2008 it",
    "start": "1810799",
    "end": "1817760"
  },
  {
    "text": "was they could start at 1024 to 65535 TCP UDP When 2008 came out they they",
    "start": "1817760",
    "end": "1824960"
  },
  {
    "text": "reduced it down to 49512 to 65535 TCP UDP for these ports But the point is is",
    "start": "1824960",
    "end": "1832720"
  },
  {
    "text": "that it's still a large number of ports So when you start talking about firewall rules you're like wow that's a huge",
    "start": "1832720",
    "end": "1837760"
  },
  {
    "text": "number of ports Um so there is a significant difference from the client perspective and as we walk across this",
    "start": "1837760",
    "end": "1844960"
  },
  {
    "text": "you know using uh Amazon managed active directory it's the least exposed uh",
    "start": "1844960",
    "end": "1850000"
  },
  {
    "text": "trust or replication it's a little bit different right if it's replication it's typically one port 389 or maybe 636",
    "start": "1850000",
    "end": "1857440"
  },
  {
    "text": "um and then if you're doing just a longhaul authentication it's it's clients go it's all that stuff",
    "start": "1857440",
    "end": "1864039"
  },
  {
    "text": "so most people when they think of this they think well you know trust relationships or domain join It's the",
    "start": "1864039",
    "end": "1870159"
  },
  {
    "text": "same amount of ports It's not It's there's a few differences there Okay How to select right So you're",
    "start": "1870159",
    "end": "1876880"
  },
  {
    "text": "going through this decision-m process and you're trying to figure out which way I should go And I think that um if",
    "start": "1876880",
    "end": "1883279"
  },
  {
    "text": "you're okay with only being an OU admin um if you're okay with not h being able",
    "start": "1883279",
    "end": "1890080"
  },
  {
    "text": "to do um or require greater permission sets like trying to install Exchange So",
    "start": "1890080",
    "end": "1896000"
  },
  {
    "text": "the the rule here is is that if at any point in the process either the first time you do an installation of a service",
    "start": "1896000",
    "end": "1902240"
  },
  {
    "text": "like exchange or SQL or sharepoint you need domain admin rights or anytime in that process you need",
    "start": "1902240",
    "end": "1908320"
  },
  {
    "text": "domain admin rights u managed active directory is not for you",
    "start": "1908320",
    "end": "1913640"
  },
  {
    "text": "Okay there are some things that are coming with respect to adjusting those",
    "start": "1913640",
    "end": "1918880"
  },
  {
    "text": "permissions to allow these types of things We've had long conversations around good example customers don't want",
    "start": "1918880",
    "end": "1924559"
  },
  {
    "text": "to build their own ADFS their active directory federation services They just want us to build it for them But in this",
    "start": "1924559",
    "end": "1929760"
  },
  {
    "text": "situation right here the first ADFS server that you join to a domain has to be run under domain admin rights So",
    "start": "1929760",
    "end": "1936080"
  },
  {
    "text": "essentially if you to make a decision which way you go you really got to understand your requirements Do I need",
    "start": "1936080",
    "end": "1941760"
  },
  {
    "text": "net bios Do I need more permissions Right",
    "start": "1941760",
    "end": "1947120"
  },
  {
    "text": "Okay Okay So again trusts and access It's that if ever you have worked with",
    "start": "1947799",
    "end": "1955679"
  },
  {
    "text": "trust relationships you're always thinking well I need my stuff to go this way so I need to trust So this is just",
    "start": "1955679",
    "end": "1960720"
  },
  {
    "text": "kind of a quick teaser here right Um I think the things you want to take away from this is is that everybody's",
    "start": "1960720",
    "end": "1966880"
  },
  {
    "text": "familiar with the entitlement process right Just because I set up a trust doesn't necessarily mean that someone",
    "start": "1966880",
    "end": "1973120"
  },
  {
    "text": "has access Like if you stood up the Amazon managed active directory and did a trust relationship two-way uh with",
    "start": "1973120",
    "end": "1980320"
  },
  {
    "text": "your on- premises directory we don't have domain admin rights of your active directory And subsequently any domain",
    "start": "1980320",
    "end": "1986559"
  },
  {
    "text": "admin in your directory doesn't have domain admin rights in the managed active directory until you go through",
    "start": "1986559",
    "end": "1992080"
  },
  {
    "text": "the entitlements process And the entitlements process are things you do for administrators and for users Typically you admin the the",
    "start": "1992080",
    "end": "1998240"
  },
  {
    "text": "administration entitlement is for the the management of the service and the servers active directory and the",
    "start": "1998240",
    "end": "2004000"
  },
  {
    "text": "entitlement process for users is hey I got a shareepoint site or a SQL server or something that I need to set a",
    "start": "2004000",
    "end": "2010720"
  },
  {
    "text": "permission on for domain users or this group of users right",
    "start": "2010720",
    "end": "2017159"
  },
  {
    "text": "okay all right so we're start talking about trusts everybody know what SID filtering is right so I got domain A",
    "start": "2017159",
    "end": "2024559"
  },
  {
    "text": "domain B I'm passing a credential from B to A there's a filter on that says if there are any SIDs in that credential or",
    "start": "2024559",
    "end": "2031919"
  },
  {
    "text": "that access token that were not issued by B strip them out That's called SID filtering Only time you turn off SID",
    "start": "2031919",
    "end": "2038559"
  },
  {
    "text": "filtering is when you're doing migrations for the purposes of SID history So you can migrate users and",
    "start": "2038559",
    "end": "2043840"
  },
  {
    "text": "migrate resources but not have to go through and reackle all the resources But once you don't need SID history",
    "start": "2043840",
    "end": "2049118"
  },
  {
    "text": "anymore you turn SID filtering off So we recommend domainwide authentication or",
    "start": "2049119",
    "end": "2054800"
  },
  {
    "text": "selective dep depending on what your requirements are and leave SID filtering turned on",
    "start": "2054800",
    "end": "2062040"
  },
  {
    "text": "Okay everybody familiar with Kerros force search order We talked about the",
    "start": "2062040",
    "end": "2067679"
  },
  {
    "text": "other ones the the other um requirements here with respect to ports and the",
    "start": "2067679",
    "end": "2074960"
  },
  {
    "text": "entitlements of users But you guys familiar with Krios force search",
    "start": "2074960",
    "end": "2080960"
  },
  {
    "text": "order So I'll try to explain that in three minutes and give you guys 10 minutes for questions Okay Well actually",
    "start": "2081800",
    "end": "2088638"
  },
  {
    "text": "I'll give you probably eight minutes for questions Got one more slide after this So um typically when you build an active",
    "start": "2088639",
    "end": "2094878"
  },
  {
    "text": "directory there's not a lot of forethought in what the name of it right There's not Just call it like it is I've",
    "start": "2094879",
    "end": "2101280"
  },
  {
    "text": "been doing this for a long time Some use you know Game of Thrones some use Star Trek some are starting to use you know",
    "start": "2101280",
    "end": "2107839"
  },
  {
    "text": "the the whole Harry Potter thing for naming their domains But when it comes to publishing applications and services",
    "start": "2107839",
    "end": "2113520"
  },
  {
    "text": "to the enterprise you get real thoughtful right Right So you may have a",
    "start": "2113520",
    "end": "2118560"
  },
  {
    "text": "an active directory called abc.com or Aad some internal name and",
    "start": "2118560",
    "end": "2123599"
  },
  {
    "text": "that could be the other the other process maybe where you have an internal active directory name but an internal namespace for or excuse me an external",
    "start": "2123599",
    "end": "2130480"
  },
  {
    "text": "namespace for your applications You come along and you have you know",
    "start": "2130480",
    "end": "2136480"
  },
  {
    "text": "www.corporate you know wayool things.com right There's a difference",
    "start": "2138680",
    "end": "2144000"
  },
  {
    "text": "between that name and the name that you use to delegate kerros constraint delegation and service principle name",
    "start": "2144000",
    "end": "2151680"
  },
  {
    "text": "for that service There's a difference And when a client makes a connection to the app",
    "start": "2151680",
    "end": "2159119"
  },
  {
    "text": "he's going to be asking for in the process Everyone understand how a kerros works right You authenticate you get a",
    "start": "2159119",
    "end": "2164320"
  },
  {
    "text": "ticket granting ticket This is my driver's license It gets me to the ticket agent The ticket agent gives me a ticket and I take it to the gate agent",
    "start": "2164320",
    "end": "2171200"
  },
  {
    "text": "She says \"I don't need to see your driver's license anymore I have a token from the ticket agent that says you can",
    "start": "2171200",
    "end": "2176400"
  },
  {
    "text": "board this plane and this is the seat you sit in.\" So the first process is a ticket grading ticket to verify who you",
    "start": "2176400",
    "end": "2181520"
  },
  {
    "text": "are And then as you go to these resources to use them they're going to say \"Please go get credentials for me.\"",
    "start": "2181520",
    "end": "2187520"
  },
  {
    "text": "That's a referral process So you're going to go talk to a domain controller You're going to say \"I'm trying to get to",
    "start": "2187520",
    "end": "2194000"
  },
  {
    "text": "www.wwayoolththing.com.\" And you're going to look through the directory and it's going to go hm First place it goes it looks its own directory It looks in",
    "start": "2194040",
    "end": "2200000"
  },
  {
    "text": "the directory that where the workstation exists looks works looks at the directory where the user exists and it's",
    "start": "2200000",
    "end": "2205359"
  },
  {
    "text": "going to look through there and it's not going to see it If it sees it it's going to go through the Kurros process and",
    "start": "2205359",
    "end": "2210640"
  },
  {
    "text": "it's going to give you a session granting ticket or a service granting ticket It's going to hand it back to you and you're going to go back to the app",
    "start": "2210640",
    "end": "2216000"
  },
  {
    "text": "and you're going to present that and it's a it's an it's an envelope encryption It's encrypted with the the",
    "start": "2216000",
    "end": "2222320"
  },
  {
    "text": "service account or the machine account of that of that uh resource It's going to open it up and look at it and see what val what what what things you can",
    "start": "2222320",
    "end": "2228800"
  },
  {
    "text": "do on the app But if it cannot find it in your directory if it cannot find that",
    "start": "2228800",
    "end": "2234240"
  },
  {
    "text": "that service principle name in the directory that your machine belongs to or you you belong to how does it know",
    "start": "2234240",
    "end": "2240880"
  },
  {
    "text": "where to go And if you have the trust relation set up correctly you've got the name suffix routing table but maybe",
    "start": "2240880",
    "end": "2246079"
  },
  {
    "text": "they're not correct either Maybe they're maybe you're using two or three different names uh to represent",
    "start": "2246079",
    "end": "2251119"
  },
  {
    "text": "applications within your environment This krios force search order is a configuration item that you can either",
    "start": "2251119",
    "end": "2258240"
  },
  {
    "text": "do by on the client or in active directory when it says I cannot find what you're looking for but I think you",
    "start": "2258240",
    "end": "2264720"
  },
  {
    "text": "should go look here and here would be the resource forest So when you start",
    "start": "2264720",
    "end": "2270160"
  },
  {
    "text": "setting these things up these are the things you need to be concerned about or considered Of course Kerro's forest",
    "start": "2270160",
    "end": "2276480"
  },
  {
    "text": "search order is a huge one I worked for a federal agency for about seven years doing this stuff and there were probably",
    "start": "2276480",
    "end": "2284240"
  },
  {
    "text": "10 active directories that trust one and how do you get all those guys to know that everything from an enterprise",
    "start": "2284240",
    "end": "2289520"
  },
  {
    "text": "perspective exists in this one resource forest and this was a godsend for us Any",
    "start": "2289520",
    "end": "2295040"
  },
  {
    "text": "questions on this Okay so my last slide coming soon",
    "start": "2295040",
    "end": "2301440"
  },
  {
    "text": "to a theater near you PCI certification more than two domain controllers It will give you a choice",
    "start": "2301440",
    "end": "2308599"
  },
  {
    "text": "regionwide right So no longer VPC specific I can have a whole region",
    "start": "2308599",
    "end": "2314240"
  },
  {
    "text": "covered by one managed active directory And we are now supporting or going to be",
    "start": "2314240",
    "end": "2319359"
  },
  {
    "text": "supporting soon It's not released yet This is all coming soon It's um LDAP and LDAPS S being the one that",
    "start": "2319359",
    "end": "2327599"
  },
  {
    "text": "most people wanted for those secure communications And we talked about why people would need LDAP Whenever I would",
    "start": "2327599",
    "end": "2334480"
  },
  {
    "text": "would would work with an app owner and they said I need LDAP and I'm like yeah that's not a good protocol because",
    "start": "2334480",
    "end": "2340079"
  },
  {
    "text": "there's no mutual authentication There's no assurance there Why aren't you using something like I can't use Kerros I can't use NLM Well why aren't you using",
    "start": "2340079",
    "end": "2346880"
  },
  {
    "text": "SAML A lot of customers still use LDAP and they want LDAP best because they don't want that password in the clear",
    "start": "2346880",
    "end": "2352320"
  },
  {
    "text": "That's coming uh pretty quickly So that's all I got guys Any questions for me You got eight minutes and 46 45",
    "start": "2352320",
    "end": "2360160"
  },
  {
    "text": "seconds to Yes Uh probably by the end of summer",
    "start": "2360160",
    "end": "2368480"
  },
  {
    "text": "Yeah Yeah My first question",
    "start": "2368480",
    "end": "2374359"
  },
  {
    "text": "about the second question is",
    "start": "2374359",
    "end": "2380680"
  },
  {
    "text": "earlier data center",
    "start": "2380680",
    "end": "2385880"
  },
  {
    "text": "So yeah I mean you could that's definitely an approach or you could you could just build um a Windows on EC2 and",
    "start": "2398480",
    "end": "2406960"
  },
  {
    "text": "just do a DC promo point it back That's the plan want to look at I don't want I",
    "start": "2406960",
    "end": "2413119"
  },
  {
    "text": "want to stop managing EC2 servers and let you guys Oh okay Well just be",
    "start": "2413119",
    "end": "2419200"
  },
  {
    "text": "mindful of some of the limitations around administrative control that we that we're not giving you It's a managed",
    "start": "2419200",
    "end": "2424320"
  },
  {
    "text": "service right Kind of what the I don't if you guys are here for the previous presentation It's if it's a managed service there's limited amount of",
    "start": "2424320",
    "end": "2429839"
  },
  {
    "text": "control we're going to give you Um Okay Yeah",
    "start": "2429839",
    "end": "2436640"
  },
  {
    "text": "You want to repeat it kind of loud too What about you point to the main",
    "start": "2436640",
    "end": "2442160"
  },
  {
    "text": "controller Oh so so that's a so that's a good question So uh network time it it",
    "start": "2442160",
    "end": "2448880"
  },
  {
    "text": "follows so a workstation follows or a server or workstation follows the domain controller that it authenticates with",
    "start": "2448880",
    "end": "2454480"
  },
  {
    "text": "and that domain controller follows the PDC completely honored when we start when they start up the first time out we",
    "start": "2454480",
    "end": "2461839"
  },
  {
    "text": "set the time but then they go by the operating system which is windows time.com or timewindows.com and after",
    "start": "2461839",
    "end": "2468160"
  },
  {
    "text": "they join the domain they follow the main process fully honored so you don't get that kerros time skew or nothing",
    "start": "2468160",
    "end": "2474319"
  },
  {
    "text": "like that but you still have to maintain it's the PDC emulator that one is the one that actually picks up the time You",
    "start": "2474319",
    "end": "2480960"
  },
  {
    "text": "have to make sure that that's correct That's a Microsoft thing Yeah",
    "start": "2480960",
    "end": "2487720"
  },
  {
    "text": "active directory",
    "start": "2500800",
    "end": "2504200"
  },
  {
    "text": "Yeah",
    "start": "2508720",
    "end": "2511720"
  },
  {
    "text": "Sure Nobody",
    "start": "2519520",
    "end": "2525839"
  },
  {
    "text": "Yeah Um maybe we should talk offline I will tell you this though",
    "start": "2525839",
    "end": "2532040"
  },
  {
    "text": "Um Azure Active Directory Premium is not a Kerrosbas based directory and that's I mean that's",
    "start": "2532040",
    "end": "2539040"
  },
  {
    "text": "probably all I want to talk about on recording We'll talk about it afterwards Anybody else",
    "start": "2539040",
    "end": "2546560"
  },
  {
    "text": "Yeah Sorry Go ahead",
    "start": "2546560",
    "end": "2550280"
  },
  {
    "text": "Yeah after a while",
    "start": "2552160",
    "end": "2556280"
  },
  {
    "text": "So if you knew my background you'd know why I'm going to say this and I'll share it with you offline",
    "start": "2564960",
    "end": "2572040"
  },
  {
    "text": "Um no no no Um I think that the if first of",
    "start": "2572040",
    "end": "2579119"
  },
  {
    "text": "all there there are reasons why you would use a readon domain controller Security reasons right Maybe it's under",
    "start": "2579119",
    "end": "2585200"
  },
  {
    "text": "someone's desk and you're not really confident that it's not going to walk away and someone could you know grab the",
    "start": "2585200",
    "end": "2590480"
  },
  {
    "text": "hash files and know everybody's p well they wouldn't know the password because it's a one-time hash But if you know",
    "start": "2590480",
    "end": "2595680"
  },
  {
    "text": "that password that's that's lateral credential theft That's that's that's that is you're owned Um so yeah I mean",
    "start": "2595680",
    "end": "2602720"
  },
  {
    "text": "you know read only domain controllers uh Bit Locker we do EBS um elastic block",
    "start": "2602720",
    "end": "2608960"
  },
  {
    "text": "storage encryption no one's going to walk away with your domain controllers on AWS security groups I mean we could",
    "start": "2608960",
    "end": "2614319"
  },
  {
    "text": "completely secure those things I think adding having read only domain controllers and I've had this conversation many times with customers",
    "start": "2614319",
    "end": "2619920"
  },
  {
    "text": "and I leave them with this no go talk to Microsoft and get make them convince you why you should use them They're more",
    "start": "2619920",
    "end": "2626560"
  },
  {
    "text": "hassle than they're worth That's my opinion radar What's that",
    "start": "2626560",
    "end": "2633799"
  },
  {
    "text": "Yeah And that's what most people end up doing So people think \"Wow geez I'm in the cloud It's not secure.\" And it's",
    "start": "2634079",
    "end": "2640319"
  },
  {
    "text": "absolutely secure Fed ramp high I mean we could secure the cloud just as well as you can secure on premises So that's",
    "start": "2640319",
    "end": "2646480"
  },
  {
    "text": "no longer a or it should never have been but it's not definitely not a reason to use read only domain controllers Now if",
    "start": "2646480",
    "end": "2653520"
  },
  {
    "text": "you're if you're saying earlier I was talking about near-Edge scenarios right",
    "start": "2653520",
    "end": "2658880"
  },
  {
    "text": "If you have a near- edge scenario yeah read only domain control is not a bad idea right But no go ahead",
    "start": "2658880",
    "end": "2667720"
  },
  {
    "text": "No this is not in govcloud yet Um and it's not fed ramped yet So",
    "start": "2669359",
    "end": "2675599"
  },
  {
    "text": "there's a difference right The whole Konis footprint is uh all the regions in the US are mod and gubcloud is high Um",
    "start": "2675599",
    "end": "2683440"
  },
  {
    "text": "it's not a fed ramped um service in the non-gubcloud regions",
    "start": "2683440",
    "end": "2690800"
  },
  {
    "text": "either Anything else Okay one more time",
    "start": "2690839",
    "end": "2697160"
  },
  {
    "text": "I can't hear you",
    "start": "2697520",
    "end": "2701079"
  },
  {
    "text": "No So um I'm glad you asked that question because I kind of breezed over it Um there are complex so it supports",
    "start": "2703040",
    "end": "2710400"
  },
  {
    "text": "SQL but not always on availability groups right so there are complex scenarios in SharePoint deployments that",
    "start": "2710400",
    "end": "2717119"
  },
  {
    "text": "it won't support but yes it supports a deployment of SharePoint without a doubt but it the more complex you get you know",
    "start": "2717119",
    "end": "2725480"
  },
  {
    "text": "HA you know your SharePoint admin are you doing specific U queries are you",
    "start": "2725480",
    "end": "2731119"
  },
  {
    "text": "doing base queries that's where it gets a little tricky but yeah it'll support SharePoint just not the complex scenarios",
    "start": "2731119",
    "end": "2737160"
  },
  {
    "text": "Anybody else Okay Well thank you very much guys",
    "start": "2737160",
    "end": "2745079"
  }
]