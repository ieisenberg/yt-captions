[
  {
    "text": "okay welcome everybody my name is Steve Johnson I'm a solution architect with Amazon Web Services I specialize in",
    "start": "30",
    "end": "6810"
  },
  {
    "text": "mobile and IOT services and I'm really psyched to have my friend Val from",
    "start": "6810",
    "end": "12509"
  },
  {
    "text": "Twitter here today so we're gonna split up the presentation the first half I'm",
    "start": "12509",
    "end": "17550"
  },
  {
    "text": "going to dive deep into Cognito and how the plumbing behind Cognito works and",
    "start": "17550",
    "end": "22920"
  },
  {
    "text": "Val has an awesome demonstration code heavy of how Twitter authentication",
    "start": "22920",
    "end": "31080"
  },
  {
    "text": "works with Cognito and then the backend with AWS so this is a 400 level talk so",
    "start": "31080",
    "end": "38760"
  },
  {
    "text": "I'm assuming you're generally familiar with identity schemes that you're",
    "start": "38760",
    "end": "46050"
  },
  {
    "text": "familiar with things like a loss 2.0 and you have some background in that so what",
    "start": "46050",
    "end": "53760"
  },
  {
    "text": "are we going to talk about today we're gonna dive deep into kognito identity I'm going to learn a little bit about",
    "start": "53760",
    "end": "60300"
  },
  {
    "text": "kognito sink features especially the two new ones kognito streams and kognito",
    "start": "60300",
    "end": "66030"
  },
  {
    "text": "sink events and as mentioned we're gonna have a really cool Twitter demonstration at the end of the talk so Amazon Cognito",
    "start": "66030",
    "end": "75689"
  },
  {
    "text": "is actually split up into two separate api's there is the Cognito identity API",
    "start": "75689",
    "end": "81030"
  },
  {
    "text": "which handles things like authentication identity Federation and anonymous",
    "start": "81030",
    "end": "87630"
  },
  {
    "text": "account anonymous account tracking the",
    "start": "87630",
    "end": "92820"
  },
  {
    "text": "sink half I think we're having trouble with the mic pardon me",
    "start": "92820",
    "end": "99799"
  },
  {
    "text": "the Cognito sink API handles things like syncing events and data with the cloud",
    "start": "101490",
    "end": "108090"
  },
  {
    "text": "syncing data across devices and also the two features Cognito sync triggers and",
    "start": "108090",
    "end": "115520"
  },
  {
    "text": "Cognito streams throughout the conference this week just about every question I filled it about kognito was",
    "start": "115520",
    "end": "121950"
  },
  {
    "text": "about identity so today's presentation is going to be heavy on the identity side if you guys are really interested",
    "start": "121950",
    "end": "130200"
  },
  {
    "text": "in the sync side of kognito i'll be available after the talk spend as much time as you want talking",
    "start": "130200",
    "end": "135260"
  },
  {
    "text": "about sink okay let's talk about Cognito identity Cognito is built on top of AWS",
    "start": "135260",
    "end": "144530"
  },
  {
    "text": "is identity services to address the needs of mobile developers and our",
    "start": "144530",
    "end": "150019"
  },
  {
    "text": "mobile customers were telling us they needed to be able to track customers no matter how they logged in no matter what",
    "start": "150019",
    "end": "156769"
  },
  {
    "text": "devices they logged in from and even if they didn't log in at all which was kind of an interesting challenge the second",
    "start": "156769",
    "end": "164750"
  },
  {
    "text": "thing they asked for is to provide appropriate credentials for AWS services so access any AWS service any level of",
    "start": "164750",
    "end": "173810"
  },
  {
    "text": "permission and make a distinction between authenticated and unauthenticated users",
    "start": "173810",
    "end": "181359"
  },
  {
    "text": "okay so this is what AWS identity looks",
    "start": "183879",
    "end": "189859"
  },
  {
    "text": "like before Cognito or without Cognito because it still exists okay so if we",
    "start": "189859",
    "end": "196700"
  },
  {
    "text": "take a look at this diagram you start with your mobile client which will authenticate against some identity",
    "start": "196700",
    "end": "202790"
  },
  {
    "text": "provider and that identity provider could be a web identity like Twitter or",
    "start": "202790",
    "end": "207799"
  },
  {
    "text": "Google Facebook could be a sam'l assertion from an enterprise identity provider or a custom identity provider",
    "start": "207799",
    "end": "215480"
  },
  {
    "text": "that supports Open ID Connect once authenticated you will get an identity",
    "start": "215480",
    "end": "221389"
  },
  {
    "text": "token in your mobile device and we're gonna take that identity token and send",
    "start": "221389",
    "end": "228019"
  },
  {
    "text": "it up to the security token service or STS what SPS does is it takes a look at",
    "start": "228019",
    "end": "235579"
  },
  {
    "text": "your security token and it takes a look at the role you want to assume and check",
    "start": "235579",
    "end": "241220"
  },
  {
    "text": "your identity against the trust relationship of that role now if you guys are familiar with iam you're",
    "start": "241220",
    "end": "248209"
  },
  {
    "text": "probably familiar with roles and you know that every role has two policies there's a trust policy which dictates",
    "start": "248209",
    "end": "254900"
  },
  {
    "text": "who can assume the role and there's an access policy which gives you your permissions on AWS resources so assuming",
    "start": "254900",
    "end": "264590"
  },
  {
    "text": "that the trust relationship check is passed SDS will create temporary AWS security",
    "start": "264590",
    "end": "272580"
  },
  {
    "text": "credentials that go down to your mobile device okay and that's the basic flow",
    "start": "272580",
    "end": "279840"
  },
  {
    "text": "for getting temporary AWS tokens in from STS and of course once you have those",
    "start": "279840",
    "end": "287250"
  },
  {
    "text": "credentials you can access whatever the access policy allows you to do in this",
    "start": "287250",
    "end": "292830"
  },
  {
    "text": "case we're just pushing data that to s3 so keeping in mind this is our starting",
    "start": "292830",
    "end": "300240"
  },
  {
    "text": "point SDS we now need to build a service",
    "start": "300240",
    "end": "305550"
  },
  {
    "text": "that addresses the needs of those mobile developers so the first thing we did is create something called an identity pool",
    "start": "305550",
    "end": "312750"
  },
  {
    "text": "now an identity pool is a logical boundary around a set of identities okay",
    "start": "312750",
    "end": "319230"
  },
  {
    "text": "you can have 60 pools per account usually you associate an identity pool",
    "start": "319230",
    "end": "324750"
  },
  {
    "text": "with a mobile app but there's nothing wrong with associating many apps with a single identity pool and there's an",
    "start": "324750",
    "end": "332910"
  },
  {
    "text": "unlimited number of identities inside that pool associated with your identity",
    "start": "332910",
    "end": "339300"
  },
  {
    "text": "pool are two roles there's an authenticated role and an unauthenticated role it they're just",
    "start": "339300",
    "end": "347310"
  },
  {
    "text": "normal iam roles you can associate any of your current roles with the identity pool and the permissions on those roles",
    "start": "347310",
    "end": "355410"
  },
  {
    "text": "are exactly the same so by default if you have an identity incognito it will",
    "start": "355410",
    "end": "362670"
  },
  {
    "text": "be able to access mobile analytics and it will be able to perform Cognito sync",
    "start": "362670",
    "end": "369630"
  },
  {
    "text": "with your mobile data the only real difference between the default values of",
    "start": "369630",
    "end": "376050"
  },
  {
    "text": "these roles is one mandates that the trust policy checks for an authenticated",
    "start": "376050",
    "end": "382130"
  },
  {
    "text": "identity the other one does not",
    "start": "382130",
    "end": "386450"
  },
  {
    "text": "okay so what we have on the screen here is an example of using the mobile sdk",
    "start": "389639",
    "end": "396300"
  },
  {
    "text": "this is the last time I'm going to show you the SDK during the presentation mostly because this SDK like good SDKs",
    "start": "396300",
    "end": "403560"
  },
  {
    "text": "abstract a lot of the details about what's going on so if I was coding",
    "start": "403560",
    "end": "409560"
  },
  {
    "text": "Android like this example here I would create something called a credentials provider and then I would use that",
    "start": "409560",
    "end": "416129"
  },
  {
    "text": "credentials provider to get an ID and then get credentials for that ID and that that is really simple unfortunately",
    "start": "416129",
    "end": "426120"
  },
  {
    "text": "there's a lot going on under the covers that advanced developers can actually take advantage of if you used the",
    "start": "426120",
    "end": "431939"
  },
  {
    "text": "Cognito api's instead of the sdk i should also mention that the Mobile SDK",
    "start": "431939",
    "end": "438659"
  },
  {
    "text": "is available for Android iOS unity and xamarin but and it's also available for",
    "start": "438659",
    "end": "445590"
  },
  {
    "text": "JavaScript so if you're using an environment that doesn't support one of the Mobile SDK this talk should be",
    "start": "445590",
    "end": "452400"
  },
  {
    "text": "interesting because I'm so I sort of show you how to use it on non supported languages okay so the first thing you",
    "start": "452400",
    "end": "462089"
  },
  {
    "text": "want to do is create an identity pool identity pools by themselves are not very exciting you give it a name and a",
    "start": "462089",
    "end": "471089"
  },
  {
    "text": "region and it will create a pool for you the next thing you have to do is",
    "start": "471089",
    "end": "476460"
  },
  {
    "text": "associate roles and using the command line they're set identity pool roles you",
    "start": "476460",
    "end": "482430"
  },
  {
    "text": "just give it an authenticated role and an unauthenticated role if you created",
    "start": "482430",
    "end": "488969"
  },
  {
    "text": "your identity pool allowing unauthenticated roles so unauthenticated",
    "start": "488969",
    "end": "494189"
  },
  {
    "text": "roles are optional you can choose to create an environment where you require authentication that's fine okay now that",
    "start": "494189",
    "end": "505500"
  },
  {
    "text": "we have an identity pool set up I'm going to show you the command line to",
    "start": "505500",
    "end": "510659"
  },
  {
    "text": "generate an unauthenticated identity so this is AWS command line as I'm sure you",
    "start": "510659",
    "end": "518159"
  },
  {
    "text": "guys are familiar",
    "start": "518159",
    "end": "520940"
  },
  {
    "text": "so I'm calling kognito identity with the",
    "start": "523620",
    "end": "529149"
  },
  {
    "text": "command to get ID and I'm telling it which identity pool I want to create the",
    "start": "529149",
    "end": "537069"
  },
  {
    "text": "new identity in as soon as I find my",
    "start": "537069",
    "end": "542259"
  },
  {
    "text": "cursor okay so what I've just done is",
    "start": "542259",
    "end": "548439"
  },
  {
    "text": "create an unauthenticated identity in that identity pool interesting about uh",
    "start": "548439",
    "end": "555610"
  },
  {
    "text": "Norfolk unauthenticated identities is I can create these all day long in fact if",
    "start": "555610",
    "end": "562779"
  },
  {
    "text": "you have a mobile app it's usually a good idea to go ahead and make this call as soon as you have your user installs",
    "start": "562779",
    "end": "569230"
  },
  {
    "text": "your app and you start a game or a session or whatever you can take this",
    "start": "569230",
    "end": "574779"
  },
  {
    "text": "identity ID and you should actually cache it on the device the reason you cache it on the device is that it's very",
    "start": "574779",
    "end": "581050"
  },
  {
    "text": "hard to recover that identity from the mobile device itself right since it's",
    "start": "581050",
    "end": "586449"
  },
  {
    "text": "unauthenticated there's nothing this there's no way to ask the server for that identity back obviously on the",
    "start": "586449",
    "end": "592720"
  },
  {
    "text": "backend using API in console you'll have a list of all your identities inside the identity pool but rule of thumb is if",
    "start": "592720",
    "end": "599980"
  },
  {
    "text": "you're working with unauthenticated identities make sure you cache those okay following the flow here we've",
    "start": "599980",
    "end": "608410"
  },
  {
    "text": "created an unauthenticated identity now I want to get an identity token back",
    "start": "608410",
    "end": "613899"
  },
  {
    "text": "from Cognito okay so once again I'm going to call the Cognito identity API and I'm gonna get",
    "start": "613899",
    "end": "625319"
  },
  {
    "text": "open ID token this time I'm just gonna",
    "start": "625319",
    "end": "631509"
  },
  {
    "text": "give it an identity ID I don't have to give it the identity pool because Cognito knows what bullets in",
    "start": "631509",
    "end": "639449"
  },
  {
    "text": "so I'll just paste the identity ID there",
    "start": "643360",
    "end": "649360"
  },
  {
    "text": "wait for the internet and we have a token so this is a Cognito identity",
    "start": "652270",
    "end": "659330"
  },
  {
    "text": "token it's in the open ID Connect format which we'll talk about in a second but",
    "start": "659330",
    "end": "664640"
  },
  {
    "text": "now the clock's ticking because this is a temporary token and if I want to get AWS credentials I have to use this token",
    "start": "664640",
    "end": "671720"
  },
  {
    "text": "before it expires and the expiration is not very long so this time I'm gonna",
    "start": "671720",
    "end": "676760"
  },
  {
    "text": "call STS instead of Cognito because that's the service we're calling and I'm",
    "start": "676760",
    "end": "682010"
  },
  {
    "text": "calling assume web identity sorry",
    "start": "682010",
    "end": "693770"
  },
  {
    "text": "assumed role with web identity so I'm",
    "start": "693770",
    "end": "701270"
  },
  {
    "text": "gonna give it the Arn AR n of a role I want to assume in our case it's going to",
    "start": "701270",
    "end": "706760"
  },
  {
    "text": "be the unauthenticated role associated with the pool I'm going to give it a",
    "start": "706760",
    "end": "712190"
  },
  {
    "text": "role session name which can be anything so I'll just name it after me and then I",
    "start": "712190",
    "end": "720340"
  },
  {
    "text": "have a web identity token so I'm going",
    "start": "720340",
    "end": "728120"
  },
  {
    "text": "to pull the token in",
    "start": "728120",
    "end": "731050"
  },
  {
    "text": "uh-huh took in six I too long okay so",
    "start": "736970",
    "end": "743900"
  },
  {
    "text": "the tokens invalid which shows use which shows you what happens if you hang on to",
    "start": "743900",
    "end": "751100"
  },
  {
    "text": "the token too long so I've created the",
    "start": "751100",
    "end": "757100"
  },
  {
    "text": "identity pool I've created an anonymous",
    "start": "757100",
    "end": "762530"
  },
  {
    "text": "or an unauthenticated ID which gives you the ID back we got an open ID connect token by",
    "start": "762530",
    "end": "770600"
  },
  {
    "text": "passing in the ID and then we got the",
    "start": "770600",
    "end": "775820"
  },
  {
    "text": "credentials so before we before I talk about the credentials let's talk about that open ID connect token that you get",
    "start": "775820",
    "end": "781490"
  },
  {
    "text": "back from Cognito okay open ID Connect is actually an identity",
    "start": "781490",
    "end": "789170"
  },
  {
    "text": "layer that's built on top of OAuth 2.0 and the way it works is actually pretty",
    "start": "789170",
    "end": "795740"
  },
  {
    "text": "simple they added a new feature to OAuth 2.0 where you can request an identity token from the service in a specific",
    "start": "795740",
    "end": "803090"
  },
  {
    "text": "format and that format is called JWT or a java web token so what I'm looking at",
    "start": "803090",
    "end": "809360"
  },
  {
    "text": "here is a Java web token on the left is the token I got back from kognito and",
    "start": "809360",
    "end": "815980"
  },
  {
    "text": "it's not encrypted it's just base 64 encoded so I put it into this website",
    "start": "815980",
    "end": "822080"
  },
  {
    "text": "it's cool website called JWT io and it shows you how the token is broken up into three pieces there's a header that",
    "start": "822080",
    "end": "829010"
  },
  {
    "text": "tells you how the token is signed there's a body that contains key value",
    "start": "829010",
    "end": "834140"
  },
  {
    "text": "pairs describing the identity and then of course there's the signature at the",
    "start": "834140",
    "end": "839150"
  },
  {
    "text": "bottom Cognito tokens are exactly the same as any other open ID Connect tokens",
    "start": "839150",
    "end": "846320"
  },
  {
    "text": "you can see the the key values in the payload they're sub stands for subject",
    "start": "846320",
    "end": "851750"
  },
  {
    "text": "and that will contain your your Cognito identity ID AUD is audience and that",
    "start": "851750",
    "end": "857780"
  },
  {
    "text": "will contain the ID for your identity pool AMR will contain a list of services that",
    "start": "857780",
    "end": "865700"
  },
  {
    "text": "have authenticated this identity in this case it was unauthenticated so that's what it says and then there's an issuer",
    "start": "865700",
    "end": "872660"
  },
  {
    "text": "which is Cognito an expiration date and then the time it was created so this is",
    "start": "872660",
    "end": "883700"
  },
  {
    "text": "the command I wrote with the expired token basically you tell STS which role",
    "start": "883700",
    "end": "889850"
  },
  {
    "text": "you want to assume give it a session name and the token itself so STS cracks",
    "start": "889850",
    "end": "895460"
  },
  {
    "text": "open that open ID Connect token takes a look at those key value pairs in the",
    "start": "895460",
    "end": "900920"
  },
  {
    "text": "body of the token and compares it against the trust policy for the role",
    "start": "900920",
    "end": "906590"
  },
  {
    "text": "you're trying to assume and if that role if you pass the trust check you will",
    "start": "906590",
    "end": "913490"
  },
  {
    "text": "actually get the credentials and the credentials temporary credentials from STS are slightly different than the",
    "start": "913490",
    "end": "920930"
  },
  {
    "text": "long-term credentials you generate for your users in addition to the access key ID and the secret access key you get",
    "start": "920930",
    "end": "928280"
  },
  {
    "text": "something called a session token and an expiration and the session token has to",
    "start": "928280",
    "end": "934190"
  },
  {
    "text": "be submitted with any secured API cause when you're using temporary credentials",
    "start": "934190",
    "end": "941500"
  },
  {
    "text": "okay so this is what we've accomplished so far basically we've taken the basic flow and",
    "start": "941530",
    "end": "948350"
  },
  {
    "text": "we've established Cognito as an identity provider but the identity provider doesn't do a",
    "start": "948350",
    "end": "953840"
  },
  {
    "text": "lot of interesting things we can get on we can get anonymous users and we can",
    "start": "953840",
    "end": "959030"
  },
  {
    "text": "get tokens for those users and because they're anonymous we can renew those tokens as much as we want and keep",
    "start": "959030",
    "end": "964610"
  },
  {
    "text": "getting credentials from STS as they expire even if this is all the Cognito",
    "start": "964610",
    "end": "971660"
  },
  {
    "text": "did it's still pretty interesting because those identities all have sync data associated with them and you'll be",
    "start": "971660",
    "end": "978290"
  },
  {
    "text": "able to sync data in the cloud with your devices we'll talk about that a little bit later so where things get really",
    "start": "978290",
    "end": "986810"
  },
  {
    "text": "interesting is when we talk about authenticated identities and the way kognito handles those and federates",
    "start": "986810",
    "end": "992630"
  },
  {
    "text": "identities across devices and across accounts so let's take a look at the",
    "start": "992630",
    "end": "997820"
  },
  {
    "text": "same basic API calls we just used and you'll notice for authenticated ID",
    "start": "997820",
    "end": "1003640"
  },
  {
    "text": "we actually add us another parameter called logins so if I was to call get ID",
    "start": "1003640",
    "end": "1010350"
  },
  {
    "text": "with an identity pool and now I also submitted an identity token from let's",
    "start": "1010350",
    "end": "1016510"
  },
  {
    "text": "say Twitter right I did Twitter authentication I get a token back I will",
    "start": "1016510",
    "end": "1021550"
  },
  {
    "text": "actually create instead of it an unauthenticated user I'll create an authenticated user the second one we",
    "start": "1021550",
    "end": "1030280"
  },
  {
    "text": "called get open ID token is really interesting because that is the call",
    "start": "1030280",
    "end": "1035709"
  },
  {
    "text": "that actually does Federation that's the call that takes a look at the inputs and its own database and figures out which",
    "start": "1035709",
    "end": "1042400"
  },
  {
    "text": "identities are actually logically the same person so get open ID token takes",
    "start": "1042400",
    "end": "1051160"
  },
  {
    "text": "the identity ID and it takes logins which are you know your identity tokens",
    "start": "1051160",
    "end": "1056530"
  },
  {
    "text": "from other identity providers and it'll give you back the token if there's no",
    "start": "1056530",
    "end": "1064330"
  },
  {
    "text": "security exceptions like we saw and it'll potentially give you back a different identity than you passed in",
    "start": "1064330",
    "end": "1072180"
  },
  {
    "text": "okay so if kognito actually federates identities it will combine them on the",
    "start": "1072180",
    "end": "1077980"
  },
  {
    "text": "backend and give you potentially a new ID so we're gonna we're going to walk",
    "start": "1077980",
    "end": "1083770"
  },
  {
    "text": "through a couple use cases for that right now about when that occurs okay so",
    "start": "1083770",
    "end": "1090280"
  },
  {
    "text": "the first one is called promotion okay this is an interesting use case because",
    "start": "1090280",
    "end": "1096040"
  },
  {
    "text": "as a wet as a mobile developer making a user login is kind of a speed bump and",
    "start": "1096040",
    "end": "1102280"
  },
  {
    "text": "user experience if somebody just downloaded an app the sometimes the last",
    "start": "1102280",
    "end": "1107380"
  },
  {
    "text": "thing they want to do is login before they play a game or use your app for whatever it's used for so your customers",
    "start": "1107380",
    "end": "1114460"
  },
  {
    "text": "may potentially be using an unauthenticated ID for a pretty long time before they trust the app enough to",
    "start": "1114460",
    "end": "1120910"
  },
  {
    "text": "actually put in some credentials so the use case we're showing here is calling",
    "start": "1120910",
    "end": "1126670"
  },
  {
    "text": "get open ID token with a blue unauthenticated identity but this time",
    "start": "1126670",
    "end": "1133300"
  },
  {
    "text": "we're passing in a twitter web identity Okin okay when Cognito sees that it says",
    "start": "1133300",
    "end": "1142179"
  },
  {
    "text": "okay that it checks the token against Twitter's oo auth server it says this is",
    "start": "1142179",
    "end": "1147700"
  },
  {
    "text": "a good token and promotes that's a little magic thing promotes this unauthenticated identity to an",
    "start": "1147700",
    "end": "1154090"
  },
  {
    "text": "authenticated identity you'll actually get back the same identity ID in this case but now it's authenticated and from",
    "start": "1154090",
    "end": "1163870"
  },
  {
    "text": "now on whenever you want to get a token from Cognito you have to authenticate",
    "start": "1163870",
    "end": "1168880"
  },
  {
    "text": "that request with a valid identity token",
    "start": "1168880",
    "end": "1175080"
  },
  {
    "text": "ok the next use case is just a simple lookup right you have an authenticated",
    "start": "1175740",
    "end": "1183639"
  },
  {
    "text": "identity you pass in a valid token you'll get back the ID you expect with a",
    "start": "1183639",
    "end": "1189129"
  },
  {
    "text": "valid token so this is probably the least interesting but it is important to",
    "start": "1189129",
    "end": "1195039"
  },
  {
    "text": "note that just because you've identification identity you must also",
    "start": "1195039",
    "end": "1200649"
  },
  {
    "text": "have a valid token every time you request a kognito token okay this is the",
    "start": "1200649",
    "end": "1209139"
  },
  {
    "text": "Federation use case and let's say you",
    "start": "1209139",
    "end": "1216490"
  },
  {
    "text": "have a customer that's using your your app on their phone and they've all off",
    "start": "1216490",
    "end": "1222279"
  },
  {
    "text": "entik ated on their phone with twitter for example and they've been using an authenticated identity for weeks and",
    "start": "1222279",
    "end": "1228549"
  },
  {
    "text": "weeks and maybe they go home and load your app on a tablet right so the tablet",
    "start": "1228549",
    "end": "1235570"
  },
  {
    "text": "doesn't know anything about the phone the app on the tablet doesn't know anything about the app on the phone yet you're probably working with an",
    "start": "1235570",
    "end": "1242230"
  },
  {
    "text": "unauthenticated ID but if that customer logs in with the same twitter account",
    "start": "1242230",
    "end": "1247860"
  },
  {
    "text": "that they were using on the phone Cognito will recognize that twitter token and actually merge the anonymous",
    "start": "1247860",
    "end": "1256389"
  },
  {
    "text": "identity with the authenticated identity and when i say merge it's not just a question of housekeeping and merging",
    "start": "1256389",
    "end": "1263559"
  },
  {
    "text": "events if you have built up Cognito sync data for each of those identities",
    "start": "1263559",
    "end": "1270410"
  },
  {
    "text": "that sync data will be merged as well",
    "start": "1270410",
    "end": "1274390"
  },
  {
    "text": "okay in the last case not authorized so",
    "start": "1278710",
    "end": "1284800"
  },
  {
    "text": "some developers believe if you have an authenticated identity and I pass it a",
    "start": "1284800",
    "end": "1291350"
  },
  {
    "text": "different but valid identity token let's say Facebook here like Tajima kognito",
    "start": "1291350",
    "end": "1297560"
  },
  {
    "text": "knows that this identity is associated with this Twitter login it doesn't know anything about that Facebook credential",
    "start": "1297560",
    "end": "1304250"
  },
  {
    "text": "so even though I'm submitting a valid authenticated ID with a valid web token",
    "start": "1304250",
    "end": "1310520"
  },
  {
    "text": "I'm going to get it a security exception because Cognito doesn't know if the",
    "start": "1310520",
    "end": "1317000"
  },
  {
    "text": "identity behind that Facebook account is the same as the identity behind that Twitter account if you did want to",
    "start": "1317000",
    "end": "1323990"
  },
  {
    "text": "combine or feder eight different web identity provider tokens under the same",
    "start": "1323990",
    "end": "1329900"
  },
  {
    "text": "account I would have to submit both the Facebook token and the known good",
    "start": "1329900",
    "end": "1336800"
  },
  {
    "text": "Twitter token in that case kognito will look at it and merge those identities together from that point forward you",
    "start": "1336800",
    "end": "1344630"
  },
  {
    "text": "that same identity could login with either Facebook or Twitter okay that's",
    "start": "1344630",
    "end": "1352580"
  },
  {
    "text": "the most confusing part of the presentation as you can guess there's",
    "start": "1352580",
    "end": "1358250"
  },
  {
    "text": "there's a lot of rules in different conditions forget open ID token the",
    "start": "1358250",
    "end": "1363680"
  },
  {
    "text": "chart that describes them is a bit of an eye chart I included them in the deck so if you get the deck after the after the",
    "start": "1363680",
    "end": "1371120"
  },
  {
    "text": "conference it'll actually include that table for you so this is what we have",
    "start": "1371120",
    "end": "1376460"
  },
  {
    "text": "now we've now upgraded our Cognito identity provider to an authenticated identity provider and we can support",
    "start": "1376460",
    "end": "1385010"
  },
  {
    "text": "different logins we can support Amazon Twitter Facebook Google Twitter digit",
    "start": "1385010",
    "end": "1390500"
  },
  {
    "text": "Twitter digits did you guys name it that way on purpose it's like a tongue twister Twitter digits and open ID",
    "start": "1390500",
    "end": "1398210"
  },
  {
    "text": "Connect an open ID Connect might be familiar with some of you I am user because that's the format we use for",
    "start": "1398210",
    "end": "1404720"
  },
  {
    "text": "custom identity providers and I am okay",
    "start": "1404720",
    "end": "1412789"
  },
  {
    "text": "so if we crack open a Cognito token for an authenticated ID you'll notice the",
    "start": "1412789",
    "end": "1418880"
  },
  {
    "text": "a.m. our field is different this time instead of saying just unauthenticated",
    "start": "1418880",
    "end": "1424340"
  },
  {
    "text": "it'll say both authenticated and the name of the identity provider that",
    "start": "1424340",
    "end": "1429770"
  },
  {
    "text": "validated the token okay and so what's kind of neat about this is all the",
    "start": "1429770",
    "end": "1436520"
  },
  {
    "text": "information in the body of this token is actually is usable by I am when you're",
    "start": "1436520",
    "end": "1442960"
  },
  {
    "text": "writing your trust policies for your roles and your access policies for your",
    "start": "1442960",
    "end": "1448730"
  },
  {
    "text": "roles so here's an example of using that",
    "start": "1448730",
    "end": "1453980"
  },
  {
    "text": "information in a trust policy by default",
    "start": "1453980",
    "end": "1460360"
  },
  {
    "text": "the trust policy for the authenticated role incognito just does a string like",
    "start": "1460360",
    "end": "1468250"
  },
  {
    "text": "comparison on the AMR field and if it contains authenticated it'll pass right",
    "start": "1468250",
    "end": "1474890"
  },
  {
    "text": "so it doesn't matter who authenticated it as long as it's authenticated you could be more specific",
    "start": "1474890",
    "end": "1480500"
  },
  {
    "text": "if you wanted to and say I only want to do a hit on Twitter or maybe Twitter and",
    "start": "1480500",
    "end": "1486260"
  },
  {
    "text": "Facebook or Twitter and Amazon it's up to you moral of the story here is any of",
    "start": "1486260",
    "end": "1492440"
  },
  {
    "text": "those fields that are in the body of that token is fair game for doing comparisons in your trust okay an",
    "start": "1492440",
    "end": "1501830"
  },
  {
    "text": "example for the access policy is you can use those same keys in the token as",
    "start": "1501830",
    "end": "1508149"
  },
  {
    "text": "policy variables so in this case what we're showing is a rule that allows a",
    "start": "1508149",
    "end": "1514970"
  },
  {
    "text": "user to access just their own s3 bucket assuming of course their s3 bucket is",
    "start": "1514970",
    "end": "1523159"
  },
  {
    "text": "named after their Cognito identity ID but same idea here I use the dollar sign",
    "start": "1523159",
    "end": "1530990"
  },
  {
    "text": "and braces for your policy variables you can go ahead and use the kognito identity fields for that one",
    "start": "1530990",
    "end": "1538880"
  },
  {
    "text": "question I get a lot is whether or not you're restricted to two roles incognito",
    "start": "1538880",
    "end": "1547850"
  },
  {
    "text": "right because by default it can it generates an often an done off the nice",
    "start": "1547850",
    "end": "1553190"
  },
  {
    "text": "thing about going outside the SDK and using the command-line tools and and some of the API is is you can play all",
    "start": "1553190",
    "end": "1560780"
  },
  {
    "text": "sorts of havoc on these roles and policies if you really want to for example you can modify the often",
    "start": "1560780",
    "end": "1567410"
  },
  {
    "text": "unearthed roles with different trust policies to for just about anything in",
    "start": "1567410",
    "end": "1574040"
  },
  {
    "text": "addition to changing the basic trust policies and access policies you can have you can associate multiple roles",
    "start": "1574040",
    "end": "1581110"
  },
  {
    "text": "with a Cognito identity pool so one of",
    "start": "1581110",
    "end": "1586460"
  },
  {
    "text": "the coolest things about identity is it's literally built on top of existing AWS and IAM security so if you're",
    "start": "1586460",
    "end": "1594080"
  },
  {
    "text": "familiar with things like roles and policies and identities you can actually",
    "start": "1594080",
    "end": "1599179"
  },
  {
    "text": "have a lot of fun with Cognito and do things that the sdk and the console won't let you do ok one last thing i",
    "start": "1599179",
    "end": "1608750"
  },
  {
    "text": "want to show you is on the subject of identity is developer identities a lot",
    "start": "1608750",
    "end": "1615770"
  },
  {
    "text": "of mobile developers like using facebook twitter amazon for their customers to",
    "start": "1615770",
    "end": "1621500"
  },
  {
    "text": "log in you know they they get authenticated identities that way they have their own sync data but a lot of",
    "start": "1621500",
    "end": "1628370"
  },
  {
    "text": "customers who aren't necessarily mobile developers want to use Cognito for their own identity purposes right and and",
    "start": "1628370",
    "end": "1637070"
  },
  {
    "text": "chances are if that's if that's the use case they're gonna have their own database filled with usernames and",
    "start": "1637070",
    "end": "1642770"
  },
  {
    "text": "passwords so how do you actually make your user database trusted by Cognito",
    "start": "1642770",
    "end": "1649070"
  },
  {
    "text": "and the good news is it's one server-side api call and it's generously",
    "start": "1649070",
    "end": "1657049"
  },
  {
    "text": "named get open ID token for developer identity because we like being explicit",
    "start": "1657049",
    "end": "1664270"
  },
  {
    "text": "and we don't care about keystrokes so",
    "start": "1664270",
    "end": "1669310"
  },
  {
    "text": "every I should also mention every kognito call I've shown you so far",
    "start": "1669310",
    "end": "1674510"
  },
  {
    "text": "get ID get open ID token and even assumed role with web identity the STS call all those are open calls there's no",
    "start": "1674510",
    "end": "1682690"
  },
  {
    "text": "permissions required to call them which is nice because you don't have any",
    "start": "1682690",
    "end": "1687800"
  },
  {
    "text": "permissions at that point that's good this one however for obvious reasons you",
    "start": "1687800",
    "end": "1693080"
  },
  {
    "text": "do actually need to explicitly give permission to make this call from whatever entity is calling this",
    "start": "1693080",
    "end": "1699530"
  },
  {
    "text": "otherwise there would be chaos in the streets people would be generating AWS",
    "start": "1699530",
    "end": "1704660"
  },
  {
    "text": "credentials willy-nilly all over the place so what does that look like looks pretty",
    "start": "1704660",
    "end": "1712820"
  },
  {
    "text": "much the same actually except the main difference is you're going to authenticate against your own server against the developer login you're gonna",
    "start": "1712820",
    "end": "1719720"
  },
  {
    "text": "make that secure request call to kognito and it'll hand you back a token so I am",
    "start": "1719720",
    "end": "1727370"
  },
  {
    "text": "gonna quickly jump over to my machine",
    "start": "1727370",
    "end": "1732520"
  },
  {
    "text": "and I've set up a really quick little demo on developer authentication here so",
    "start": "1739650",
    "end": "1745110"
  },
  {
    "text": "I'm starting here in the Cognito console I have an identity pool and if I go",
    "start": "1745110",
    "end": "1751140"
  },
  {
    "text": "under authentication providers I see the web providers Amazon Facebook Google and",
    "start": "1751140",
    "end": "1756630"
  },
  {
    "text": "if I go to custom I've entered a reverse",
    "start": "1756630",
    "end": "1761760"
  },
  {
    "text": "DNS name that represents my developer server okay can can be anything just",
    "start": "1761760",
    "end": "1769650"
  },
  {
    "text": "remember what it is and in this case it's just comm developer named API okay",
    "start": "1769650",
    "end": "1777540"
  },
  {
    "text": "so now the pool is ready to accept token requests from my server and I'm going to",
    "start": "1777540",
    "end": "1784230"
  },
  {
    "text": "jump over to lambda real quick and this",
    "start": "1784230",
    "end": "1789630"
  },
  {
    "text": "is actually going to get called by API gateway but it could be called from anything I'm using the JavaScript SDK",
    "start": "1789630",
    "end": "1795660"
  },
  {
    "text": "for kognito I'm slightly lying here by",
    "start": "1795660",
    "end": "1801690"
  },
  {
    "text": "setting up a dynamo object even though I'm not going to use dynamo for this but",
    "start": "1801690",
    "end": "1807300"
  },
  {
    "text": "it takes a username and a password as an input this commented out pieces where",
    "start": "1807300",
    "end": "1813540"
  },
  {
    "text": "you would call your authentication server LDAP server UNIX password file",
    "start": "1813540",
    "end": "1819360"
  },
  {
    "text": "doesn't matter right however you authenticate your users put it in here and assuming you've passed",
    "start": "1819360",
    "end": "1826740"
  },
  {
    "text": "authentication this is where you make the call the parameters are pretty simple its identity pool the logins and",
    "start": "1826740",
    "end": "1834510"
  },
  {
    "text": "in this case it's comm developer name API the same string we put in the",
    "start": "1834510",
    "end": "1839610"
  },
  {
    "text": "identity pool on the Cognito console and then I pass in a unique identifier for",
    "start": "1839610",
    "end": "1846900"
  },
  {
    "text": "that user and that unique identifier can be anything it can be a gooood or however you identify a user in your",
    "start": "1846900",
    "end": "1853160"
  },
  {
    "text": "login structure okay I can set the token duration in this case it's an hour and I",
    "start": "1853160",
    "end": "1861510"
  },
  {
    "text": "make the call so I'll hop over to API gateway I've",
    "start": "1861510",
    "end": "1869070"
  },
  {
    "text": "created a simple rest method resource called login with method and I am going to put the",
    "start": "1869070",
    "end": "1879249"
  },
  {
    "text": "username and password in the body of the request and send it to the lambda",
    "start": "1879249",
    "end": "1884379"
  },
  {
    "text": "function which will in turn call Cognito",
    "start": "1884379",
    "end": "1889739"
  },
  {
    "text": "and that's good I got a two hundred back and that is your kognito token that's your open ID token so once you get this",
    "start": "1889739",
    "end": "1896679"
  },
  {
    "text": "token in your code send it to SDS and you'll get your credentials okay and",
    "start": "1896679",
    "end": "1907509"
  },
  {
    "text": "that's just another slide showing the use of API gateway in my case and lambda",
    "start": "1907509",
    "end": "1912639"
  },
  {
    "text": "to do the lifting on that so to close",
    "start": "1912639",
    "end": "1919210"
  },
  {
    "text": "out the identity piece here's a couple tips make sure you always cache your unauthenticated identity IDs like we",
    "start": "1919210",
    "end": "1925929"
  },
  {
    "text": "said before that's something the SDK does for you automatically it'll actually save it on your mobile devices",
    "start": "1925929",
    "end": "1931600"
  },
  {
    "text": "storage trap security errors so you know when to re-authenticate like we saw in",
    "start": "1931600",
    "end": "1937869"
  },
  {
    "text": "the first part of the demo if you hold your tokens for too long they will generate a security exception and you",
    "start": "1937869",
    "end": "1943419"
  },
  {
    "text": "need to renew your credentials make sure to customize default access",
    "start": "1943419",
    "end": "1949989"
  },
  {
    "text": "policies for off and uh naw throw less that's sort of a given but even the",
    "start": "1949989",
    "end": "1955659"
  },
  {
    "text": "default roles are still useful because your mobile apps can call mobile analytics and/or Cognito sync and lastly",
    "start": "1955659",
    "end": "1963970"
  },
  {
    "text": "if you do use developer identities do not use the code I just showed you because this is security make sure you",
    "start": "1963970",
    "end": "1972159"
  },
  {
    "text": "lock down the login workflow and it's by its nature already secure because you",
    "start": "1972159",
    "end": "1977679"
  },
  {
    "text": "have to explicitly give an entity permission to make that call but obviously good security practices apply",
    "start": "1977679",
    "end": "1986309"
  },
  {
    "text": "okay so I'm not going to talk a little bit about Amazon kognito sync that's our",
    "start": "1988559",
    "end": "1994269"
  },
  {
    "text": "friend the identity pool on the left and for every identity inside that pool",
    "start": "1994269",
    "end": "1999609"
  },
  {
    "text": "whether it's authenticated or unauthenticated we allocate twenty megabytes of data in the cloud for that user synchronizing",
    "start": "1999609",
    "end": "2008080"
  },
  {
    "text": "20 megabytes of data at a time seems a little excessive so we actually broke it down into something called a data set",
    "start": "2008080",
    "end": "2014710"
  },
  {
    "text": "and a data set can contain up to one megabyte of information inside those",
    "start": "2014710",
    "end": "2020170"
  },
  {
    "text": "data sets is just key value pair information you're just a key and a value and you can have up to a megabyte",
    "start": "2020170",
    "end": "2026560"
  },
  {
    "text": "to that and frankly for a mobile application that's a lot of data so",
    "start": "2026560",
    "end": "2036550"
  },
  {
    "text": "because the data set is sort of like the unit of resolution for synchronization here's what you should probably do",
    "start": "2036550",
    "end": "2043570"
  },
  {
    "text": "depending on your use case one way to save power is to do a sync on connect",
    "start": "2043570",
    "end": "2049570"
  },
  {
    "text": "the SDK has a special call called sync on connect which is aware of whether or not the device is connected to a network",
    "start": "2049570",
    "end": "2054850"
  },
  {
    "text": "and will only sync when it's connected to the network because sync happens at",
    "start": "2054850",
    "end": "2061480"
  },
  {
    "text": "the data set level you can organize your data into different data sets depending on how frequently they need to be synced",
    "start": "2061480",
    "end": "2067720"
  },
  {
    "text": "obviously the less data you sync the faster it'll occur if you require immediate updates there's another",
    "start": "2067720",
    "end": "2074379"
  },
  {
    "text": "feature called kognito push sync this takes advantage of the SNS mobile push",
    "start": "2074380",
    "end": "2080110"
  },
  {
    "text": "feature of AWS which uses the platform's I guess you would say native mobile push",
    "start": "2080110",
    "end": "2088210"
  },
  {
    "text": "mechanisms for this so for google it would be like Google Cloud messaging",
    "start": "2088210",
    "end": "2094320"
  },
  {
    "text": "Apple uses for Apple and iOS it would use their their service under the covers",
    "start": "2094320",
    "end": "2100350"
  },
  {
    "text": "one other thing that's interesting about Cognito sync that I don't see used a lot",
    "start": "2100350",
    "end": "2105580"
  },
  {
    "text": "I don't know if you guys are familiar with Kindle readers the e-ink readers",
    "start": "2105580",
    "end": "2111730"
  },
  {
    "text": "anybody use those fantastic I love those things if you've ever read a Kindle book",
    "start": "2111730",
    "end": "2120160"
  },
  {
    "text": "on more than one device sometimes you'll be confronted with a dialog that says hey you're on page 38 here but we've",
    "start": "2120160",
    "end": "2126700"
  },
  {
    "text": "tracked you reading up to page 200 which is annoying because in my house it means somebody else was reading my book and",
    "start": "2126700",
    "end": "2132700"
  },
  {
    "text": "probably synced to the wrong page so the nice thing is you can have that same behavior in your",
    "start": "2132700",
    "end": "2139600"
  },
  {
    "text": "mobile apps because when you get the call back from the sink operation it",
    "start": "2139600",
    "end": "2145420"
  },
  {
    "text": "will tell you if there was a conflict between the data you pushed up and the data that was already on the server so",
    "start": "2145420",
    "end": "2152470"
  },
  {
    "text": "it sort of does a primitive versioning and the callback methods will give you control over what actually gets stored",
    "start": "2152470",
    "end": "2159610"
  },
  {
    "text": "in the database so it's a good practice to customize those callback methods if",
    "start": "2159610",
    "end": "2165370"
  },
  {
    "text": "you want that type of behavior if you do nothing and use the default callback methods the last data in wins that's the",
    "start": "2165370",
    "end": "2172450"
  },
  {
    "text": "way it's set up",
    "start": "2172450",
    "end": "2174839"
  },
  {
    "text": "okay so let's talk about one of the new features incognito this year it's called",
    "start": "2182200",
    "end": "2188390"
  },
  {
    "text": "Cognito sync events it's pretty simple actually every time there's a sync event with a cloud you can you can basically",
    "start": "2188390",
    "end": "2198380"
  },
  {
    "text": "have a call a lambda function to handle that sync operation so why would you want to do that basically lambda will",
    "start": "2198380",
    "end": "2206900"
  },
  {
    "text": "intercept the data at that point and anything you do with that data will",
    "start": "2206900",
    "end": "2213170"
  },
  {
    "text": "actually be the data that gets synced into the cloud so let's say somebody",
    "start": "2213170",
    "end": "2220160"
  },
  {
    "text": "pushes in a whole mess of data and you want to you want to validate some of that data you want to make sure it",
    "start": "2220160",
    "end": "2225440"
  },
  {
    "text": "wasn't tampered with somebody wasn't somebody hasn't decompiled your apt and done something clever with it right you",
    "start": "2225440",
    "end": "2232220"
  },
  {
    "text": "can also do read-only attributes you can actually inject attributes on the server that the client doesn't can't change",
    "start": "2232220",
    "end": "2239000"
  },
  {
    "text": "right those are those that's pretty useful and there's actually a blog post that was written on how to use this",
    "start": "2239000",
    "end": "2246920"
  },
  {
    "text": "function to help prevent exploits and cheating and mobile games so you actually have some options to that point",
    "start": "2246920",
    "end": "2252530"
  },
  {
    "text": "in addition to managing the data changing the data before it gets stored",
    "start": "2252530",
    "end": "2258820"
  },
  {
    "text": "you know it's a lambda function so you have access to the rest of AWS you can send it to dynamo you can send it to",
    "start": "2258820",
    "end": "2265520"
  },
  {
    "text": "redshift you can do whatever you want with that data okay talk about that",
    "start": "2265520",
    "end": "2274450"
  },
  {
    "text": "okay and the last thing I want to talk about before Val comes on the stage is kognito streams this is another hook you",
    "start": "2277940",
    "end": "2285089"
  },
  {
    "text": "can take advantage of in your identity pool basically taking all the streaming",
    "start": "2285089",
    "end": "2290339"
  },
  {
    "text": "data from these sync operations and send it into Kinesis which is fantastic so if",
    "start": "2290339",
    "end": "2297119"
  },
  {
    "text": "you have a very large customer base you can be streaming all of your sync data into Kinesis without actually loading up",
    "start": "2297119",
    "end": "2305640"
  },
  {
    "text": "the Kinesis SDK on your devices and from there naturally you can read that device off of you can read that data off of",
    "start": "2305640",
    "end": "2311849"
  },
  {
    "text": "Kinesis put in s3 store it data warehouse at whatever you feel like",
    "start": "2311849",
    "end": "2316890"
  },
  {
    "text": "doing okay so that ends my portion of",
    "start": "2316890",
    "end": "2322619"
  },
  {
    "text": "the presentation very excited to have Val from Twitter here today so thanks Val everybody give me just one second to",
    "start": "2322619",
    "end": "2332400"
  },
  {
    "text": "switch computers so it's 6:00 p.m. I'm",
    "start": "2332400",
    "end": "2338130"
  },
  {
    "text": "sure everyone here saw a lot of PowerPoint today so I only have four slides and then we'll jump into code",
    "start": "2338130",
    "end": "2343710"
  },
  {
    "text": "sound good I'm sure everyone knows Twitter the app Twitter the website some",
    "start": "2343710",
    "end": "2351390"
  },
  {
    "text": "of you might know our API we have a product called fabric fabric is a set of",
    "start": "2351390",
    "end": "2356970"
  },
  {
    "text": "tools for mobile developers there are four SDKs inside we call them kits so",
    "start": "2356970",
    "end": "2363480"
  },
  {
    "text": "there's one for stability one for revenue social Twitter and the last one",
    "start": "2363480",
    "end": "2369030"
  },
  {
    "text": "is identity so the identity piece is called digits digits allows you to",
    "start": "2369030",
    "end": "2375060"
  },
  {
    "text": "authenticate users based on their phone number the most basic diagram that I",
    "start": "2375060",
    "end": "2381089"
  },
  {
    "text": "could come up with the digits SDK allows you to drop a UI into your app mobile or",
    "start": "2381089",
    "end": "2388530"
  },
  {
    "text": "web the user is prominent for their phone number we get the phone number we issue a six digit hence the name text",
    "start": "2388530",
    "end": "2396660"
  },
  {
    "text": "message the user confirms the the pin and you as a developer you get an ID and",
    "start": "2396660",
    "end": "2402569"
  },
  {
    "text": "a token back so the idea is stable in other words the user can change the phone number but the ID will",
    "start": "2402569",
    "end": "2408859"
  },
  {
    "text": "the same so you know you can use it as a primary key in your database and make sure that that identity remains the same",
    "start": "2408859",
    "end": "2414559"
  },
  {
    "text": "and the token is used to verify the credentials so communal uses that to",
    "start": "2414559",
    "end": "2421369"
  },
  {
    "text": "make sure that this is the correct user and it's authenticated and everything's great",
    "start": "2421369",
    "end": "2426789"
  },
  {
    "text": "so digits in one slide or less it's on iOS Android JavaScript",
    "start": "2426789",
    "end": "2433039"
  },
  {
    "text": "we're live in over 200 countries and 28 languages so that means if your phone is",
    "start": "2433039",
    "end": "2439970"
  },
  {
    "text": "set to let's say French you can get the French SMS we have a portal pitches comm",
    "start": "2439970",
    "end": "2446509"
  },
  {
    "text": "where end users can log in and they able to fact they're off and change the phone",
    "start": "2446509",
    "end": "2451880"
  },
  {
    "text": "numbers and we do voice verifications fall back so that's live in US India and Brazil so",
    "start": "2451880",
    "end": "2458900"
  },
  {
    "text": "if you don't get the SMS you can press the button you'll get a verbal confirmation of the code so what I'm",
    "start": "2458900",
    "end": "2468289"
  },
  {
    "text": "gonna do is I'm gonna show you how to integrate digits you know identity you",
    "start": "2468289",
    "end": "2473869"
  },
  {
    "text": "know sync lambda and dynamo in less than 10 minutes so this is a vanilla iOS app",
    "start": "2473869",
    "end": "2482299"
  },
  {
    "text": "in Swift if you haven't seen it before don't panic it's actually pretty straightforward I already have some",
    "start": "2482299",
    "end": "2489999"
  },
  {
    "text": "boilerplate comedo code there so that's my pool ID have digits installed as well",
    "start": "2489999",
    "end": "2498430"
  },
  {
    "text": "one thing I will show you is we provide a separate app to manage the SDKs so",
    "start": "2498430",
    "end": "2504980"
  },
  {
    "text": "it's a separate app for iOS and it lives in IntelliJ Android studio or eclipse on",
    "start": "2504980",
    "end": "2510950"
  },
  {
    "text": "the Android side of things so this is used to manage there's a case yet updates right some getting started",
    "start": "2510950",
    "end": "2517819"
  },
  {
    "text": "snippets and if you're using the crashlytics kit which is one of the kids in fabric it would automatically upload",
    "start": "2517819",
    "end": "2525470"
  },
  {
    "text": "the d sims for you so these seams are used to the office gate code and get actual stack traces and correct crashes",
    "start": "2525470",
    "end": "2533239"
  },
  {
    "text": "we see where the crashes live anyhow so digits is really install so I just want to go here I'm gonna use the snippet for",
    "start": "2533239",
    "end": "2540529"
  },
  {
    "text": "signing in with a phone number so it's good Swift so do some copy-paste",
    "start": "2540529",
    "end": "2548069"
  },
  {
    "text": "driven development in four digits get copy this right so I'm actually not",
    "start": "2548069",
    "end": "2560910"
  },
  {
    "text": "going to show anything fancy and I'll just print the user ID you provided by",
    "start": "2560910",
    "end": "2569430"
  },
  {
    "text": "digits for myself and print the phone",
    "start": "2569430",
    "end": "2574950"
  },
  {
    "text": "number",
    "start": "2574950",
    "end": "2577249"
  },
  {
    "text": "great so this is the UI you can customize it",
    "start": "2586480",
    "end": "2594339"
  },
  {
    "text": "you can change the colors you can change the fonts you cannot your you can hide your logo there's no API as a few today so what",
    "start": "2594339",
    "end": "2602619"
  },
  {
    "text": "I'm gonna do is put in my phone number and I just realized this has been recorded and I've made a huge mistake to",
    "start": "2602619",
    "end": "2612519"
  },
  {
    "text": "show you better stop call me so I got",
    "start": "2612519",
    "end": "2620019"
  },
  {
    "text": "the SMS that's great seven eight 26:54 and here we have what",
    "start": "2620019",
    "end": "2632019"
  },
  {
    "text": "we're looking for so this line of strings is my ID and",
    "start": "2632019",
    "end": "2639910"
  },
  {
    "text": "this is my phone number so yeah so",
    "start": "2639910",
    "end": "2645189"
  },
  {
    "text": "that's great what I want to do now is link the digits identity to a kognito identity so that's a two-step process I",
    "start": "2645189",
    "end": "2651729"
  },
  {
    "text": "need to let me I need to put in my digits API credentials in the pool settings and pass my tokens up to the",
    "start": "2651729",
    "end": "2660459"
  },
  {
    "text": "computer so you can get it from the dashboard I'm just gonna get get it from here from the code so go here edit my",
    "start": "2660459",
    "end": "2668019"
  },
  {
    "text": "pool off providers Twitter digits put",
    "start": "2668019",
    "end": "2676239"
  },
  {
    "text": "this thing here put this thing here Save",
    "start": "2676239",
    "end": "2681939"
  },
  {
    "text": "Changes so that part is done now we're just gonna go back here and do",
    "start": "2681939",
    "end": "2690519"
  },
  {
    "text": "self credentials provider logins and then go so triple W digits calm",
    "start": "2690519",
    "end": "2702779"
  },
  {
    "text": "then I need the token which is this one",
    "start": "2708180",
    "end": "2714770"
  },
  {
    "text": "just need to this and talking secrets so",
    "start": "2714770",
    "end": "2724109"
  },
  {
    "text": "what this is doing is I'm used to be passing the token and the token secret that I got from digits to kognito Kamino",
    "start": "2724109",
    "end": "2729690"
  },
  {
    "text": "will internally call our service make sure that these things are valid and create communal identity based on that",
    "start": "2729690",
    "end": "2737089"
  },
  {
    "text": "this will happen at some point in the future Amazon doesn't recommend doing",
    "start": "2737089",
    "end": "2743010"
  },
  {
    "text": "this but I will just refresh and continue with block so I'm just gonna",
    "start": "2743010",
    "end": "2749579"
  },
  {
    "text": "refresh the identity manually and",
    "start": "2749579",
    "end": "2755250"
  },
  {
    "text": "they're just gonna print the the ID of",
    "start": "2755250",
    "end": "2762900"
  },
  {
    "text": "the-- couldn't either identity okay so let's see if this runs so i sacrifice the fire phone for this so it should",
    "start": "2762900",
    "end": "2769890"
  },
  {
    "text": "work Papapa uh and here we have my magneto",
    "start": "2769890",
    "end": "2777150"
  },
  {
    "text": "identity ID so if i go back to the website and i go to the identity raiser it should tell me that there's one",
    "start": "2777150",
    "end": "2784710"
  },
  {
    "text": "linked login in this case digits so we have digits connected to key no ID so",
    "start": "2784710",
    "end": "2790470"
  },
  {
    "text": "now you can imagine in your app you have digits login your Twitter login your Facebook login to get all those three",
    "start": "2790470",
    "end": "2797940"
  },
  {
    "text": "linked to one could you know identity as Steve said you just need to pass a valid token plus the new one alongside so",
    "start": "2797940",
    "end": "2805020"
  },
  {
    "text": "you'll pass the existing digits token with the Twitter token and those two identities will be merged into one so",
    "start": "2805020",
    "end": "2812819"
  },
  {
    "text": "that's cool but let's see if we can add if we can enrich the identity with some",
    "start": "2812819",
    "end": "2819270"
  },
  {
    "text": "more data so we can do is create a data set let's call it user data",
    "start": "2819270",
    "end": "2832549"
  },
  {
    "text": "and add to the data set the phone number returned by digits so is it set",
    "start": "2833010",
    "end": "2844050"
  },
  {
    "text": "yeah it's it so let's do session phone",
    "start": "2844050",
    "end": "2849210"
  },
  {
    "text": "number and we call it phone number and",
    "start": "2849210",
    "end": "2855140"
  },
  {
    "text": "there are two so self sync client",
    "start": "2855140",
    "end": "2860570"
  },
  {
    "text": "synchronize actually no it would be data set synchronize continue with the block",
    "start": "2860570",
    "end": "2871040"
  },
  {
    "text": "so this will just sync the data side of that creating code with the cloud return",
    "start": "2871520",
    "end": "2878220"
  },
  {
    "text": "nil and say if task error is snow",
    "start": "2878220",
    "end": "2886130"
  },
  {
    "text": "we'll just print success",
    "start": "2886130",
    "end": "2894280"
  },
  {
    "text": "cool so let's do this I'm already logged",
    "start": "2894280",
    "end": "2899560"
  },
  {
    "text": "in so don't need to put in my phone number and we have success here so if we go back to the pool we now have a data",
    "start": "2899560",
    "end": "2909430"
  },
  {
    "text": "set called user data which contains the phone number cool so now we have digits",
    "start": "2909430",
    "end": "2915430"
  },
  {
    "text": "techne no identity and then your sink now something that they just does not provide is the country code so it'd be",
    "start": "2915430",
    "end": "2923110"
  },
  {
    "text": "great if you can somehow enrich that data set with some more data and you can do this using a sync trigger so if I go",
    "start": "2923110",
    "end": "2933460"
  },
  {
    "text": "to my meter pool settings I can select here a lambda function Save Changes I",
    "start": "2933460",
    "end": "2941560"
  },
  {
    "text": "already wrote the function I don't want to write JavaScript life on stage so I'm",
    "start": "2941560",
    "end": "2949300"
  },
  {
    "text": "just gonna show you I'm using a third-party node module by some company",
    "start": "2949300",
    "end": "2956560"
  },
  {
    "text": "from Mountain View who shall remain unnamed and what basically is happening",
    "start": "2956560",
    "end": "2962410"
  },
  {
    "text": "here is that whenever that synchronized call is made this function will run when the event type is saying trigger so",
    "start": "2962410",
    "end": "2967780"
  },
  {
    "text": "that's what's happening and the event object the payload will contain the data",
    "start": "2967780",
    "end": "2974230"
  },
  {
    "text": "set that I just created and what I'm doing here is I'm parsing the the number from the data set I'm getting the",
    "start": "2974230",
    "end": "2981520"
  },
  {
    "text": "country and I'm creating a new entry into the data set with the country code",
    "start": "2981520",
    "end": "2987150"
  },
  {
    "text": "so that's great but it would be nice if I could somehow know that I'm doing",
    "start": "2987150",
    "end": "2992950"
  },
  {
    "text": "something in the cloud with the data set from the app so you can do it I'm gonna",
    "start": "2992950",
    "end": "3000450"
  },
  {
    "text": "cheat a little bit and do this so you can add a notification so when the",
    "start": "3000450",
    "end": "3006900"
  },
  {
    "text": "synchronize call is being made you can listen to one of these sync starts when the sync ends when that is changed",
    "start": "3006900",
    "end": "3013470"
  },
  {
    "text": "locally when that is changed remotely so in this case I'm just gonna go and do and - I'm just gonna print data set so",
    "start": "3013470",
    "end": "3024090"
  },
  {
    "text": "let's run this use my phone number and now you can see",
    "start": "3024090",
    "end": "3034010"
  },
  {
    "text": "that I have nowhere in my code I'm putting the country code but it's here and if I go to the data set and then",
    "start": "3034010",
    "end": "3041960"
  },
  {
    "text": "edit browser user data and now I have my",
    "start": "3041960",
    "end": "3051890"
  },
  {
    "text": "country code so we've got digits we've got you know identity based on the",
    "start": "3051890",
    "end": "3057500"
  },
  {
    "text": "digits identity we have cognitive sync which creates a data set we're adding",
    "start": "3057500",
    "end": "3063890"
  },
  {
    "text": "stuff on it on the fly through lamda and I just want to go back to the lambda",
    "start": "3063890",
    "end": "3071059"
  },
  {
    "text": "function that I wrote and show you this little piece of code we're in the",
    "start": "3071059",
    "end": "3076250"
  },
  {
    "text": "backend I created a dynamo instance so if I want to say aggregate all the users that are in us can do it with data set",
    "start": "3076250",
    "end": "3083390"
  },
  {
    "text": "you can do it with dynamo I'm creating just a new item so my dynamo is a you know ID as my",
    "start": "3083390",
    "end": "3090160"
  },
  {
    "text": "global hash I get my phone number in my country code that's global secondary",
    "start": "3090160",
    "end": "3095510"
  },
  {
    "text": "indices so just create an item and puts it right up and push it to the database",
    "start": "3095510",
    "end": "3100819"
  },
  {
    "text": "so if I go back to the dynamo instance scan and now we have the same thing in",
    "start": "3100819",
    "end": "3106970"
  },
  {
    "text": "dynamo so to recap we've added digits to the app we got the token from digits",
    "start": "3106970",
    "end": "3113270"
  },
  {
    "text": "created a you know identity based on that we use the you know sync to create a data set enrich the data set using",
    "start": "3113270",
    "end": "3119720"
  },
  {
    "text": "lambda and then finally push everything to dynamo to conclude digits is like all",
    "start": "3119720",
    "end": "3130940"
  },
  {
    "text": "the other kids in fabric is completely free like I said it's on iOS Android in",
    "start": "3130940",
    "end": "3135980"
  },
  {
    "text": "JavaScript and you can get it on fabric that I Oh or they just calm if you just",
    "start": "3135980",
    "end": "3141290"
  },
  {
    "text": "want to interested in in digits and with",
    "start": "3141290",
    "end": "3148069"
  },
  {
    "text": "that thank you",
    "start": "3148069",
    "end": "3152200"
  }
]