[
  {
    "text": "hello everyone and welcome so first of all thank you all for making time to",
    "start": "30",
    "end": "5549"
  },
  {
    "text": "attend this particular session I know it's not easy to be away from your families and spend a week in Vegas but",
    "start": "5549",
    "end": "12360"
  },
  {
    "text": "we've got some real good content here to cover over the next 60 minutes so hopefully it will be worth your time my",
    "start": "12360",
    "end": "19109"
  },
  {
    "text": "name is Sid Gupta and I'm a Senior Product Manager at AWS and today I'm going to be talking about best practices",
    "start": "19109",
    "end": "25890"
  },
  {
    "text": "for centrally monitoring resource configuration and compliance I'm super excited to be sharing the stage with a",
    "start": "25890",
    "end": "32398"
  },
  {
    "text": "customer bradley's ago piano from Genesis we'll share a bit about you know",
    "start": "32399",
    "end": "37649"
  },
  {
    "text": "how they are using governance practices at Genesis and some of the tools mentioned in this particular session so",
    "start": "37649",
    "end": "46680"
  },
  {
    "text": "here's what you can expect from this session I'll talk a little bit about the suite of services that comprise AWS",
    "start": "46680",
    "end": "53670"
  },
  {
    "text": "management tools and what problems they solve I'll then talk about two very",
    "start": "53670",
    "end": "58859"
  },
  {
    "text": "important areas that lay an effective governance framework these are inventory and configuration",
    "start": "58859",
    "end": "65489"
  },
  {
    "text": "management and configuration compliance management I'll explain the role of AWS",
    "start": "65489",
    "end": "71640"
  },
  {
    "text": "connect in this space and then we'll have brad talk about how he uses some of",
    "start": "71640",
    "end": "78240"
  },
  {
    "text": "the governance strategies at genesis i'll then dive into the specifics about",
    "start": "78240",
    "end": "83430"
  },
  {
    "text": "the best practices for monitoring centrally monitoring resource configuration and compliance I'll also",
    "start": "83430",
    "end": "90240"
  },
  {
    "text": "walk into some cool demos along the way so we've got a lot to cover over the next 60 minutes so let's get started now",
    "start": "90240",
    "end": "100020"
  },
  {
    "text": "before I dive into the details about best practices for centrally monitoring resource configuration let me give you a",
    "start": "100020",
    "end": "107369"
  },
  {
    "text": "bit overview about AWS management tools so AWS management tools provide you with",
    "start": "107369",
    "end": "114869"
  },
  {
    "text": "a suite of services that you can use to enable governance across your environment you can use tools such as",
    "start": "114869",
    "end": "122159"
  },
  {
    "text": "AWS cloud formation and Service Catalog to provision resources into your",
    "start": "122159",
    "end": "128220"
  },
  {
    "text": "environment you can use cloud trail to get visibility into the API calls that occur in your account and",
    "start": "128220",
    "end": "135500"
  },
  {
    "text": "then you can use AWS config to track changes to the configuration of those",
    "start": "135500",
    "end": "140670"
  },
  {
    "text": "resources you can patch your entire ec2 fleet using AWS Systems Manager patch",
    "start": "140670",
    "end": "148110"
  },
  {
    "text": "manager you can run remote commands without establishing an SSH connection",
    "start": "148110",
    "end": "153860"
  },
  {
    "text": "or you could run automation docs on instances to take care of routing tasks",
    "start": "153860",
    "end": "160160"
  },
  {
    "text": "you can also use our manage chef and puppet service through AWS opsworks and",
    "start": "160160",
    "end": "165650"
  },
  {
    "text": "lastly you can monitor report and respond to events using Amazon Cloud",
    "start": "165650",
    "end": "171540"
  },
  {
    "text": "watch so a lot of services here that comprise AWS management tools but",
    "start": "171540",
    "end": "177060"
  },
  {
    "text": "together these set of tools give you the ability to effectively manage governance",
    "start": "177060",
    "end": "183090"
  },
  {
    "text": "in your environment now let's shift",
    "start": "183090",
    "end": "188760"
  },
  {
    "text": "gears and talk about two very important areas that lay the foundation of an",
    "start": "188760",
    "end": "194280"
  },
  {
    "text": "effective cloud governance framework the first one is inventory and",
    "start": "194280",
    "end": "201510"
  },
  {
    "text": "configuration management so what is inventory and configuration management and why do you need an inventory and",
    "start": "201510",
    "end": "210570"
  },
  {
    "text": "configuration management system maintains a real-time inventory of your cloud resources their current",
    "start": "210570",
    "end": "217200"
  },
  {
    "text": "configuration as well as their historic configuration you can use inventory and",
    "start": "217200",
    "end": "223950"
  },
  {
    "text": "configuration management systems to help answer questions such as what's currently out there in the cloud what is",
    "start": "223950",
    "end": "231150"
  },
  {
    "text": "the current configuration of my critical workload look like what relationships exist between my resources what",
    "start": "231150",
    "end": "239640"
  },
  {
    "text": "configuration changes have occurred to my critical workload over the last one week and things like that now this",
    "start": "239640",
    "end": "246840"
  },
  {
    "text": "information is extremely valuable when you're investigating an outage or maybe",
    "start": "246840",
    "end": "252000"
  },
  {
    "text": "a security breach so for example an inventory management system would help",
    "start": "252000",
    "end": "257730"
  },
  {
    "text": "you in identifying a list of ec2 instances that are currently online and that are built on top of a particular",
    "start": "257730",
    "end": "264750"
  },
  {
    "text": "much image that may have security vulnerabilities the configuration",
    "start": "264750",
    "end": "271980"
  },
  {
    "text": "compliance management on the other hand is about verifying that your resources comply with certain best practices or",
    "start": "271980",
    "end": "278760"
  },
  {
    "text": "baseline policies I'm sure most of you have some sort of governance policies",
    "start": "278760",
    "end": "285330"
  },
  {
    "text": "that you may have managed perhaps in your on-premise environment or maybe even in the cloud so a configuration",
    "start": "285330",
    "end": "291390"
  },
  {
    "text": "compliance management system allows you to define those policies for your cloud resources and alerts you in real time",
    "start": "291390",
    "end": "299250"
  },
  {
    "text": "when any resource violate those policies so in summary these two processes",
    "start": "299250",
    "end": "306560"
  },
  {
    "text": "support governance initiatives by providing accurate configuration",
    "start": "306560",
    "end": "311910"
  },
  {
    "text": "information to assist with decision-making such as authorization of changes release planning etc they also",
    "start": "311910",
    "end": "321300"
  },
  {
    "text": "help in minimizing the number of quality and compliance issues that you may have due to inaccurate configuration so",
    "start": "321300",
    "end": "330840"
  },
  {
    "text": "here's our trivia question for you which AWS service helps you with these functions any guesses",
    "start": "330840",
    "end": "338570"
  },
  {
    "text": "well that's AWS config so from an inventory and configuration management",
    "start": "339110",
    "end": "345390"
  },
  {
    "text": "perspective when you enable AWS config it will automatically discover the",
    "start": "345390",
    "end": "351300"
  },
  {
    "text": "resources that exist in your account and record their current configuration from",
    "start": "351300",
    "end": "357780"
  },
  {
    "text": "there on it will also stop tracking any configuration changes that occurred to that resources so you have a full",
    "start": "357780",
    "end": "363750"
  },
  {
    "text": "historical record of all configuration changes that occurred to your resource",
    "start": "363750",
    "end": "369530"
  },
  {
    "text": "it will also alert you in real time using Amazon SNS or cloud watch events",
    "start": "369530",
    "end": "375180"
  },
  {
    "text": "whenever there is a configuration change or a compliance change so in other words",
    "start": "375180",
    "end": "381450"
  },
  {
    "text": "you could see AWS config as a continuous configuration auditor you can retrieve",
    "start": "381450",
    "end": "389010"
  },
  {
    "text": "these the current as well as historical configuration through api's as well so",
    "start": "389010",
    "end": "394229"
  },
  {
    "text": "you can programmatically interface it or build your own dashboards we your internal tools you can think about",
    "start": "394229",
    "end": "401050"
  },
  {
    "text": "these api's as a superset of the describe api's that we have today for various resources where you have the",
    "start": "401050",
    "end": "408820"
  },
  {
    "text": "information typically that's returned through a described API as well as the relationships between resources and any",
    "start": "408820",
    "end": "415330"
  },
  {
    "text": "tags associated with resources so it's kind of like a superset of that now",
    "start": "415330",
    "end": "423610"
  },
  {
    "text": "Adobe's config has the second part which is the policy engine part and that's it",
    "start": "423610",
    "end": "428680"
  },
  {
    "text": "obvious config rules now this provides you a mechanism to check your resources",
    "start": "428680",
    "end": "435130"
  },
  {
    "text": "against best practices or baseline policies for example you may want to",
    "start": "435130",
    "end": "440139"
  },
  {
    "text": "make sure that you don't have any s3 buckets that are publicly writable or publicly readable and you may want to do",
    "start": "440139",
    "end": "447310"
  },
  {
    "text": "that not just for one account but across hundreds of accounts under your management so you can alter these rules",
    "start": "447310",
    "end": "456370"
  },
  {
    "text": "using all your own tools today we provide a lot of the rules out-of-the-box which span across various",
    "start": "456370",
    "end": "463060"
  },
  {
    "text": "services so we have about 80 rules but we call the manager roles but you can",
    "start": "463060",
    "end": "468970"
  },
  {
    "text": "also write your own rules using custom configure rules and these could be your you know internal InfoSec policies that",
    "start": "468970",
    "end": "476470"
  },
  {
    "text": "you want to write so it's easy way to codify your policies and run them automatically",
    "start": "476470",
    "end": "481690"
  },
  {
    "text": "you could run them either periodically or every time we detect a configuration change so it really helps with that",
    "start": "481690",
    "end": "488470"
  },
  {
    "text": "continuous compliance aspect we recently",
    "start": "488470",
    "end": "494620"
  },
  {
    "text": "announced a compliance history timeline so this is a snapshot out of the config",
    "start": "494620",
    "end": "500500"
  },
  {
    "text": "console but this clearly tells you when a resource when in and out of compliance so to identify also the rules that were",
    "start": "500500",
    "end": "508840"
  },
  {
    "text": "violated at a product in time so very handy feature if you want to look at from an audit perspective how your",
    "start": "508840",
    "end": "515740"
  },
  {
    "text": "resource has gone in and out of compliance or a period of time so here",
    "start": "515740",
    "end": "523599"
  },
  {
    "text": "are some of the common use cases that customers use AWS config for since",
    "start": "523599",
    "end": "528820"
  },
  {
    "text": "config stores the current as well as the historical config raishin of resources the most popular",
    "start": "528820",
    "end": "534670"
  },
  {
    "text": "use cases for audits and compliance so a lot of our customers especially in",
    "start": "534670",
    "end": "540519"
  },
  {
    "text": "financial sector and health care want to make sure that every configuration changed to their critical workloads are",
    "start": "540519",
    "end": "547990"
  },
  {
    "text": "tracked and it can be traced back to an approved change request that we have in there that they may have in their own",
    "start": "547990",
    "end": "553779"
  },
  {
    "text": "ITSM tool so they use the config details to correlate that information config",
    "start": "553779",
    "end": "560889"
  },
  {
    "text": "also helps in root cause analysis or troubleshooting because you have the timeline of what changes occurred so",
    "start": "560889",
    "end": "566920"
  },
  {
    "text": "let's say there's an outage and you want to find out what happened last night you'd have a record of all changes all",
    "start": "566920",
    "end": "572350"
  },
  {
    "text": "resources and the changes that they underwent last night it also helps in",
    "start": "572350",
    "end": "578949"
  },
  {
    "text": "security intelligence efforts as you can identify a list of resources that meet a specific criteria so for example ec2",
    "start": "578949",
    "end": "587260"
  },
  {
    "text": "instance is running a particular army or an s3 bucket having a particular policy",
    "start": "587260",
    "end": "592389"
  },
  {
    "text": "etc so today it appears config supports",
    "start": "592389",
    "end": "598269"
  },
  {
    "text": "about 24 different services and more than 60 resource types now this includes",
    "start": "598269",
    "end": "603399"
  },
  {
    "text": "most of the popular resource types or services that customers used today and over a period of time you would see",
    "start": "603399",
    "end": "610120"
  },
  {
    "text": "this list grow now let's hear from Brad",
    "start": "610120",
    "end": "615790"
  },
  {
    "text": "about how Genesis is using a number of tools in his environment to monitor",
    "start": "615790",
    "end": "620800"
  },
  {
    "text": "governance take it away Brett thanks it first off I want to thank everybody for",
    "start": "620800",
    "end": "627550"
  },
  {
    "text": "being here and making it out to this session hopefully you guys get some good information from this session so my name",
    "start": "627550",
    "end": "632860"
  },
  {
    "text": "is Brad Sega Breanna I'm a senior software engineer with Genesis I work on our infrastructure team so the",
    "start": "632860",
    "end": "638829"
  },
  {
    "text": "infrastructure team is responsible for a fully automated sea icd pipeline as well as ownership at a high level of our",
    "start": "638829",
    "end": "643839"
  },
  {
    "text": "eight OBS accounts and we also deal with all our integrations with lots of third-party services that we use so",
    "start": "643839",
    "end": "651519"
  },
  {
    "text": "today what we're going to go over my little site section will be a little bit about the scale the infrastructure that",
    "start": "651519",
    "end": "656769"
  },
  {
    "text": "we're actually operating on on the alw side of this we'll talk about some of the problems that we're actually trying to solve we'll do a two high level",
    "start": "656769",
    "end": "664540"
  },
  {
    "text": "architecture over B one is how we're orchestrating across a SS accounts and one is how we're",
    "start": "664540",
    "end": "670670"
  },
  {
    "text": "actually using config within a single account and the last bit we'll talk about it is we're also talking about why",
    "start": "670670",
    "end": "676370"
  },
  {
    "text": "we chose to use AWS config and some of our future plans going forward with some of the new features that Syd's groups",
    "start": "676370",
    "end": "682310"
  },
  {
    "text": "coming out with so Genesis is the leader in context center infrastructure and",
    "start": "682310",
    "end": "687560"
  },
  {
    "text": "it's made up of three products pure cloud pure connect pure engage and today we're going to be talking about pure cloud so pure cloud is deployed",
    "start": "687560",
    "end": "694040"
  },
  {
    "text": "primarily on 170 AWS so we'll be talking about today that that specific product",
    "start": "694040",
    "end": "699279"
  },
  {
    "text": "so the pure cloud is actually made up of about 200 micro servers most of which are deployed to all of our AWS accounts",
    "start": "699279",
    "end": "705649"
  },
  {
    "text": "and all of our AWS regions we operate completely knock lists and at completely",
    "start": "705649",
    "end": "711110"
  },
  {
    "text": "architecture so that means for people who aren't aware of that it means that um you know the same thing that we're",
    "start": "711110",
    "end": "717110"
  },
  {
    "text": "deploying to dev is the same thing we're deploying to test and up to prod and we also operate in a complete devops",
    "start": "717110",
    "end": "723110"
  },
  {
    "text": "culture so those 200 micro service teams are responsible for their own infrastructures whatever resources that",
    "start": "723110",
    "end": "728689"
  },
  {
    "text": "they provision within AWS they're responsible for the operation of they're the ones who get woken up the real night that type of stuff when I said that",
    "start": "728689",
    "end": "734569"
  },
  {
    "text": "we're in charge of AWS accounts that's at a high very high level as Sid mentioned earlier a doubles config",
    "start": "734569",
    "end": "741259"
  },
  {
    "text": "actually gives you the ability to do inventory management so in fact all these data here that's on the right is",
    "start": "741259",
    "end": "746959"
  },
  {
    "text": "directly from an API call to a TPS config you can you can view it in the console as well but all this data is coming directly out of a Davis config",
    "start": "746959",
    "end": "753079"
  },
  {
    "text": "and it's just to show a little bit of the scale that we're operating at so we have about 7,000 ec2 instances 3,000",
    "start": "753079",
    "end": "759079"
  },
  {
    "text": "auto-scaling groups roughly 16,000 volumes and a whole bunch of other snapshots and images and things like",
    "start": "759079",
    "end": "764389"
  },
  {
    "text": "that thousand lambda functions so this is just to show the amount of change",
    "start": "764389",
    "end": "770449"
  },
  {
    "text": "that we have within our environment throughout the week so in dev we do about 1,500 deploys that's a you know",
    "start": "770449",
    "end": "775670"
  },
  {
    "text": "copper mission update with a brand new set of auto scaling groups and bring up instances inside of those we do about 1,500 of those a week 500 and tests and",
    "start": "775670",
    "end": "782389"
  },
  {
    "text": "about 350 in production so what that means because we are not we don't own",
    "start": "782389",
    "end": "789019"
  },
  {
    "text": "the a double the infrastructure the individual micro service teams deploy it puts us in a situation where we need to",
    "start": "789019",
    "end": "794660"
  },
  {
    "text": "then come up with a way to manage these resources but still allow the teams to be able to use whatever you know latest",
    "start": "794660",
    "end": "801439"
  },
  {
    "text": "and greatest AWS resource they would like to use so that's at a high level the problem we're trying to solve how do",
    "start": "801439",
    "end": "807290"
  },
  {
    "text": "we determine that resources are no longer needed within our account so the",
    "start": "807290",
    "end": "813860"
  },
  {
    "text": "individual things that we're trying to solve is we want to first off we want to eliminate waste so when I say waste here",
    "start": "813860",
    "end": "819589"
  },
  {
    "text": "we're talking about a Tobias resources that are in our account that no one needs so the example I'd like to use for",
    "start": "819589",
    "end": "824990"
  },
  {
    "text": "this is you know anyone who's been in a Tobias for a long time has had come across some random auto scaling group",
    "start": "824990",
    "end": "830809"
  },
  {
    "text": "with a whole bunch of very large instance types that nobody knows what it does and there's no longer needed that's just sitting there racking up",
    "start": "830809",
    "end": "836720"
  },
  {
    "text": "money so the thing that we're trying to prevent is eliminate that types of those types of waste so obviously there's a",
    "start": "836720",
    "end": "842929"
  },
  {
    "text": "cost factor associated that right if you have you know RDS databases sitting out there that nobody's using or large",
    "start": "842929",
    "end": "848720"
  },
  {
    "text": "instance types that can add up very very quickly and there's no reason to have those resources anyways the other thing",
    "start": "848720",
    "end": "856160"
  },
  {
    "text": "that's really important with when we talk about eliminating waste is avoiding AWS resource limits so there's a finite",
    "start": "856160",
    "end": "861589"
  },
  {
    "text": "number of specific AWS resources you can have say for example cloud watch cloud watch alarms or specific ec2 instance",
    "start": "861589",
    "end": "868459"
  },
  {
    "text": "types right there's a there's an upper limit to the amount of those you can have so to protect yourself from running",
    "start": "868459",
    "end": "873649"
  },
  {
    "text": "into some odd failure when you're trying to deploy or even worse you're trying to scale removing unnecessary resources",
    "start": "873649",
    "end": "879589"
  },
  {
    "text": "prevents you from bumping into that limit because the last thing you want to do is fail to be able to scale out",
    "start": "879589",
    "end": "884629"
  },
  {
    "text": "because you don't have you anymore of that instance type for example and we",
    "start": "884629",
    "end": "890839"
  },
  {
    "text": "also want to just maintain a compliant environment so when I say compliant in this context it's it means it means a",
    "start": "890839",
    "end": "898910"
  },
  {
    "text": "needed or not needed within our account based off of the custom configuration rules that we wrote but yeah that we're",
    "start": "898910",
    "end": "905209"
  },
  {
    "text": "in this context when use here a compliant that's what we're talking about it'll be us has the concept of compliant not compliant not applicable",
    "start": "905209",
    "end": "910249"
  },
  {
    "text": "but in this context of this talk we're talking about not needed or waste essentially in our account something we",
    "start": "910249",
    "end": "916490"
  },
  {
    "text": "can delete so there are open source tools that do this but there are some problems there's actually several",
    "start": "916490",
    "end": "922100"
  },
  {
    "text": "problems the first one is they most of them run in some form of an introspective scan so what that means is",
    "start": "922100",
    "end": "928279"
  },
  {
    "text": "every hour on the hour they're doing a describe all my auto-scaling groups they're pulling them down there reading through the list and they're",
    "start": "928279",
    "end": "934429"
  },
  {
    "text": "checking compliance of those resources there's problems with that first off all the data is out of date since the last",
    "start": "934429",
    "end": "940819"
  },
  {
    "text": "time you've ran so if you run on the hour every hour forty minutes later your data your your resources could change",
    "start": "940819",
    "end": "946999"
  },
  {
    "text": "hundreds of times within that forty minutes and you're looking at out of seeking out of sync data it also means",
    "start": "946999",
    "end": "952489"
  },
  {
    "text": "you have idle servers so the way those introspective scans work is you'll you'll do a whole bunch of compute on",
    "start": "952489",
    "end": "958339"
  },
  {
    "text": "the hour when you're detecting compliance and then in between that run to the next hour you're doing nothing so",
    "start": "958339",
    "end": "963410"
  },
  {
    "text": "you have idle servers you're paying for servers you don't need so we wanted to move to in a more event-driven approach",
    "start": "963410",
    "end": "970059"
  },
  {
    "text": "because of the way that that works you're doing large bursts of eight balls so since its introspective every hour",
    "start": "970059",
    "end": "976160"
  },
  {
    "text": "you're having to describe in our case we had 7,000 autoscaler if you haven't described 7,000 auto-scaling groups and",
    "start": "976160",
    "end": "981739"
  },
  {
    "text": "anyone has been in AWS for a long time has been rate limited at some point the way to get ready limit is to do a lot of calls very fast and and so burst does",
    "start": "981739",
    "end": "988999"
  },
  {
    "text": "not not ideal so to avoid that we we want to be more again than driven no",
    "start": "988999",
    "end": "994850"
  },
  {
    "text": "centralized reporting so a lot of the tools that are out there do have reporting about compliance or resources",
    "start": "994850",
    "end": "1000699"
  },
  {
    "text": "that can be deleted within a specific account but most of them do not have a cross account centralized reporting",
    "start": "1000699",
    "end": "1006639"
  },
  {
    "text": "which is a problem and that's something we're trying to solve and lack of",
    "start": "1006639",
    "end": "1011799"
  },
  {
    "text": "support for newer AWS resource types so what we found is we had to with a lot of the tools as a Tobias came up with our",
    "start": "1011799",
    "end": "1017949"
  },
  {
    "text": "latest and greatest new resource type we were constantly having to write our own rules inside of these open source",
    "start": "1017949",
    "end": "1023079"
  },
  {
    "text": "projects or whatever tools we're using and we're conciliar to write them anyways and the the code that were",
    "start": "1023079",
    "end": "1028389"
  },
  {
    "text": "having to write for those is much more complex than what we can write in config config rules are very very concise rules",
    "start": "1028389",
    "end": "1033519"
  },
  {
    "text": "they're very very small and very easy to write so we were having to do a lot more legwork every time Amazon came out with",
    "start": "1033519",
    "end": "1038949"
  },
  {
    "text": "a new resource who wouldn't support and a lot of the existing tools use a lot of the older aid abuse technologies we just",
    "start": "1038949",
    "end": "1044529"
  },
  {
    "text": "wanted to move to more of the latest and greatest with the ADA base technology so you want to be Cerberus and dynamo and",
    "start": "1044529",
    "end": "1049539"
  },
  {
    "text": "config and a lot of the newer stuff we want to move that stuff so acid",
    "start": "1049539",
    "end": "1055419"
  },
  {
    "text": "mentioned earlier config has two different types of rules so you have the manage rules that cyd mentioned earlier there's like 60 or 70 of them now that",
    "start": "1055419",
    "end": "1062799"
  },
  {
    "text": "are out-of-the-box rules that you can take today and just use them but we have a set of rules we wrote that our custom rules and the",
    "start": "1062799",
    "end": "1069490"
  },
  {
    "text": "nice part about config and the custom rules is that you can be your rules can be as generic or as specific to your",
    "start": "1069490",
    "end": "1075130"
  },
  {
    "text": "account as necessary depending on you know the way you're deploying your stuff the way you're operating so the first",
    "start": "1075130",
    "end": "1081430"
  },
  {
    "text": "few rules up there on there on the list are pretty generic most people could probably use some rule very similar to",
    "start": "1081430",
    "end": "1086680"
  },
  {
    "text": "that in fact the volume rule up there is a manager rule we just haven't started using it but SIDS group party already",
    "start": "1086680",
    "end": "1093190"
  },
  {
    "text": "made a rule for that so that one will come off the list soon but as you move down the list some of these are very",
    "start": "1093190",
    "end": "1098380"
  },
  {
    "text": "specific like our deployment modality and the way like we're deploying our am eyes and promotions and things so but",
    "start": "1098380",
    "end": "1104290"
  },
  {
    "text": "the one I want you guys remember is the instance one because we use that in the architecture example so the rule for our instances in our account is all the",
    "start": "1104290",
    "end": "1111010"
  },
  {
    "text": "instances have to be part of an auto scaling group they can't be stopped so one of those will make it not compliant",
    "start": "1111010",
    "end": "1116770"
  },
  {
    "text": "those are the rules alright so a bit about the architecture across AWS accounts so in each one of",
    "start": "1116770",
    "end": "1123640"
  },
  {
    "text": "our a Tobias accounts that we have sample its dev we have a set of configure all that are those custom rules that I just showed you a second",
    "start": "1123640",
    "end": "1129880"
  },
  {
    "text": "ago so each all those rules are sitting in there Amazon has already provided a Tobias configures already provided the",
    "start": "1129880",
    "end": "1135790"
  },
  {
    "text": "actual SMS topics that's already there you don't have to do anything with that you just have to enable configure your account so literally the only thing we",
    "start": "1135790",
    "end": "1142060"
  },
  {
    "text": "had to deploy in this case is just the rules themselves we have a centralized infrastructure account this is a",
    "start": "1142060",
    "end": "1147910"
  },
  {
    "text": "different AWS account that we then wire up a lambda function to subscribe to the SNS topic in all of our other accounts",
    "start": "1147910",
    "end": "1154950"
  },
  {
    "text": "and each one of these is deployed via cloud formation so it's very extensible so if we you know decide we're gonna",
    "start": "1154950",
    "end": "1160870"
  },
  {
    "text": "make you know production better or better production account it's simply running the confirmation",
    "start": "1160870",
    "end": "1166090"
  },
  {
    "text": "update and we have a new account we hook up the subscribed lambda function and we're off off to the races so we're able",
    "start": "1166090",
    "end": "1172870"
  },
  {
    "text": "to actually view everything right then and even the infrastructure account itself has the same set of rules so",
    "start": "1172870",
    "end": "1178450"
  },
  {
    "text": "every one of our accounts even the infrastructure that's monitoring all the other accounts has the same compliance rules in that as well so we're gonna",
    "start": "1178450",
    "end": "1187180"
  },
  {
    "text": "walk through a specific example of actually uh taking a resource out of compliance and we'll talk about the architecture a little bit so like I said",
    "start": "1187180",
    "end": "1193810"
  },
  {
    "text": "context is already enabled in this account and we have a set of rules there and let's say I decided to go into the",
    "start": "1193810",
    "end": "1199090"
  },
  {
    "text": "aw console and to stop an instance which I said earlier we'll take you make your resource not compliant the stopping",
    "start": "1199090",
    "end": "1205450"
  },
  {
    "text": "of the instance can in when you go in the console when you click stop it's",
    "start": "1205450",
    "end": "1210940"
  },
  {
    "text": "going to send an event called a configuration change event to invoke your lambda function which is your",
    "start": "1210940",
    "end": "1216340"
  },
  {
    "text": "custom rule so the custom rule will is going to get this event that comes across this essentially a cloud watch event plus a describe which is",
    "start": "1216340",
    "end": "1222850"
  },
  {
    "text": "effectively all the information you need to know to see if the resource was stopped right in this case we're going to instances or seeing the resources",
    "start": "1222850",
    "end": "1229269"
  },
  {
    "text": "compliant in this case it stopped right so it's you're not having to make an additional API call all you're having to",
    "start": "1229269",
    "end": "1234700"
  },
  {
    "text": "do is saying did the event is the instant state stopped and in this case it would be so what that means is you'll",
    "start": "1234700",
    "end": "1240669"
  },
  {
    "text": "do a put evaluation back to a TBS config saying the resources compliant not compliant or not applicable in this case",
    "start": "1240669",
    "end": "1245679"
  },
  {
    "text": "the resource was not compliant that will trigger a compliant state change event",
    "start": "1245679",
    "end": "1250720"
  },
  {
    "text": "that that config puts on that SNS topic so this is that's all set up for you config already does that and sends the",
    "start": "1250720",
    "end": "1255730"
  },
  {
    "text": "event and everything but because the resources previous compliant and I went in the console I stopped it it's not",
    "start": "1255730",
    "end": "1261039"
  },
  {
    "text": "compliant now that I'll go across that SNS channel to our lambda function and then based off of which way the which",
    "start": "1261039",
    "end": "1268779"
  },
  {
    "text": "way we're going if we're going from non compliant to compliant or compliant to non compliant we would either write or delete in dynamo so this table who would",
    "start": "1268779",
    "end": "1274929"
  },
  {
    "text": "consist of all of our resources that are not compliant so in this case since we",
    "start": "1274929",
    "end": "1280929"
  },
  {
    "text": "went from a compliant to a not compliant we would write a record a dynamo we'd put some additional meta information about when we actually want to clean we",
    "start": "1280929",
    "end": "1288159"
  },
  {
    "text": "actually want to clean the resource up there are several other periodic lambda",
    "start": "1288159",
    "end": "1293710"
  },
  {
    "text": "functions that had to do some nice nice to haves around notification so it does like batch notifications we kind of",
    "start": "1293710",
    "end": "1299259"
  },
  {
    "text": "group notifications assuming you had a resource that went in out of compliance fairly frequently this you don't want to",
    "start": "1299259",
    "end": "1305590"
  },
  {
    "text": "be sending notifications all the time so we do a daily notification we're blocking this altogether we also have a",
    "start": "1305590",
    "end": "1311080"
  },
  {
    "text": "mechanism for opting out so assuming that ECG resource that I had assuming",
    "start": "1311080",
    "end": "1316119"
  },
  {
    "text": "that ECT resource that I had oh it's",
    "start": "1316119",
    "end": "1321730"
  },
  {
    "text": "ooming that resource was a it's okay to be stopped I could opt it out and then we have a mechanism for TT yelling that opt out so",
    "start": "1321730",
    "end": "1327159"
  },
  {
    "text": "that way later on people can come back and have to go through this whole process again and then obviously we have",
    "start": "1327159",
    "end": "1334429"
  },
  {
    "text": "mechanism for deleting resources so some tips for success that we found on the",
    "start": "1334429",
    "end": "1340730"
  },
  {
    "text": "right is the configure rules themselves this is the UI for config so we decided",
    "start": "1340730",
    "end": "1349460"
  },
  {
    "text": "that one rule per resource type works really really well for us it made the rules very very simple because all we",
    "start": "1349460",
    "end": "1354499"
  },
  {
    "text": "have to simply write is because the event contains the cloud watch event plus a describe call the rules become",
    "start": "1354499",
    "end": "1360230"
  },
  {
    "text": "very very simple at that point but we found that making one to one mapping keeps the complexity of those rules very",
    "start": "1360230",
    "end": "1365659"
  },
  {
    "text": "very low and it's easy to debug and you also don't run into scenarios we have conflicting rules where rule a says the",
    "start": "1365659",
    "end": "1372110"
  },
  {
    "text": "resources not compliant a rule B says the resource is compliant periodic and",
    "start": "1372110",
    "end": "1379940"
  },
  {
    "text": "configuration based so in example we showed with the architecture that's a configuration based change so that",
    "start": "1379940",
    "end": "1384950"
  },
  {
    "text": "happens every single time the resource changes the evaluation happens and the resource is evaluated to see if it's compliant but what we found is it's",
    "start": "1384950",
    "end": "1391490"
  },
  {
    "text": "actually a good practice to also do periodic saz well the reason you would want to do that is because requirements",
    "start": "1391490",
    "end": "1397039"
  },
  {
    "text": "could change for your your compliance requirements could change so say for example we decide three months later",
    "start": "1397039",
    "end": "1402529"
  },
  {
    "text": "that stopped instances are okay all we have to do is update the rule the simple rule we remove that little if check",
    "start": "1402529",
    "end": "1408230"
  },
  {
    "text": "that's saying is the resource stopped and the because we're running periodically the next time that runs",
    "start": "1408230",
    "end": "1414320"
  },
  {
    "text": "it'll pick up the latest change we're getting an up-to-date version of that so that's really important assuming the",
    "start": "1414320",
    "end": "1420409"
  },
  {
    "text": "resource doesn't change so if I stop the instance and I don't change the resource it would never rien VOC the rule a",
    "start": "1420409",
    "end": "1425749"
  },
  {
    "text": "second time so the reason we do the periodic sizz in case we ever change our compliance requirements the other",
    "start": "1425749",
    "end": "1433009"
  },
  {
    "text": "advantage is in the example I showed with the architecture earlier is that that was an ideal scenario where we were",
    "start": "1433009",
    "end": "1439039"
  },
  {
    "text": "we were able to put governance in place before we got the AWS account before resources started to be provisioned but",
    "start": "1439039",
    "end": "1444470"
  },
  {
    "text": "that's not always the case sometimes you're given a you know AWS accounts that already have existing resources so having the periodic rule allows you to",
    "start": "1444470",
    "end": "1450769"
  },
  {
    "text": "be able allows you to be able to support that if you're given a nativist accountant it already has existing resources it",
    "start": "1450769",
    "end": "1457070"
  },
  {
    "text": "also allows you to do ad hoc Rhian but reevaluation so you can go ahead and",
    "start": "1457070",
    "end": "1462470"
  },
  {
    "text": "just say i want to reevaluate all the resources for whatever reason it'll",
    "start": "1462470",
    "end": "1467900"
  },
  {
    "text": "last bit ism so ada best config supports about 60 plus resource types ec2 auto",
    "start": "1467900",
    "end": "1473900"
  },
  {
    "text": "scaling obviously there's two right there but you can actually write rules for unsupported AWS resource types the",
    "start": "1473900",
    "end": "1478910"
  },
  {
    "text": "trick here is that you need to look at the previous state of resources and kind",
    "start": "1478910",
    "end": "1484160"
  },
  {
    "text": "of get the diff between those so you know what resources got deleted between your invocations right so in the case of like ec2 if I went to the console and I",
    "start": "1484160",
    "end": "1491870"
  },
  {
    "text": "deleted that instance I had let's say I previously stopped it like I did in the example and I deleted that instance that would trigger a configuration change",
    "start": "1491870",
    "end": "1497930"
  },
  {
    "text": "that would say that resource got deleted but in the case of it's an unsupported resource type you have to keep track of",
    "start": "1497930",
    "end": "1503390"
  },
  {
    "text": "what was previously evaluate so you know what got to lead it in between runs so",
    "start": "1503390",
    "end": "1509120"
  },
  {
    "text": "why did we choose AWS config number one it's event-driven so we went from making",
    "start": "1509120",
    "end": "1514520"
  },
  {
    "text": "huge bursts of API calls to making no API calls most of the rules do not",
    "start": "1514520",
    "end": "1519740"
  },
  {
    "text": "requires to make an API call when I say an API call previously there used to be a like a describe call or maybe a",
    "start": "1519740",
    "end": "1525710"
  },
  {
    "text": "describe it cost multiple resources but we've gone from not having to make or making a huge burst of API calls to zero",
    "start": "1525710",
    "end": "1532130"
  },
  {
    "text": "API calls and that's because the the event for config gives you enough context in most cases to be able to",
    "start": "1532130",
    "end": "1539900"
  },
  {
    "text": "configure out compliance without even having to make an API call sometimes you have to make some it just depends on specifics of your rule and your",
    "start": "1539900",
    "end": "1546350"
  },
  {
    "text": "compliance but most of the time a lot of our rules they requires to make an API call and a live view of the world so as",
    "start": "1546350",
    "end": "1552260"
  },
  {
    "text": "Sid said it certain real-time so it's as up to date as the invocation of that rule so as long as it has as fast as",
    "start": "1552260",
    "end": "1558350"
  },
  {
    "text": "that rule can run and do the evaluation you have live data it's completely serverless so we have no more idle",
    "start": "1558350",
    "end": "1564470"
  },
  {
    "text": "servers they're not just sitting there doing nothing in between the introspective scans which is a huge",
    "start": "1564470",
    "end": "1569870"
  },
  {
    "text": "advantage it's big cost cost production centralized reporting in a notification",
    "start": "1569870",
    "end": "1575230"
  },
  {
    "text": "notification so we I showed in the architecture diagram that we have an infrastructure account that then",
    "start": "1575230",
    "end": "1581320"
  },
  {
    "text": "consolidates all the information from the other accounts we built that and it's somewhat predated some of the",
    "start": "1581320",
    "end": "1586820"
  },
  {
    "text": "stuffs is going to talk about in the later part of this but essentially that parts obsolete now because config provides um aggregation across multiple",
    "start": "1586820",
    "end": "1593240"
  },
  {
    "text": "a Tobias accounts an extensibility it's very very easy to rules very easy to",
    "start": "1593240",
    "end": "1599690"
  },
  {
    "text": "write these rules so I I can't reiterate how easy they are and most of the rules some of the rules",
    "start": "1599690",
    "end": "1604890"
  },
  {
    "text": "specifically like the instance rules are a dozen lines of code they're very very simple they look at the record or the",
    "start": "1604890",
    "end": "1610350"
  },
  {
    "text": "event that's coming across they check do a couple of checks and then they do a put evaluation back to config as opposed",
    "start": "1610350",
    "end": "1616470"
  },
  {
    "text": "to what we were having to do every time a Tobias came out with a new resource with some of the existing tools is write a whole bunch of custom code and do a",
    "start": "1616470",
    "end": "1622740"
  },
  {
    "text": "bunch of API calls and stuff so they're very very easy to write and they're very extensible if compliance changes is very",
    "start": "1622740",
    "end": "1628320"
  },
  {
    "text": "easy to add a new check in there just check one other thing or remove something quick bit about the scale so",
    "start": "1628320",
    "end": "1636030"
  },
  {
    "text": "in this week in August I this is the this is the number of resources that we",
    "start": "1636030",
    "end": "1642000"
  },
  {
    "text": "actually marked for deletion so on that Thursday throughout the day we had 562",
    "start": "1642000",
    "end": "1647730"
  },
  {
    "text": "resources that were not needed in our account and we determined that they're not needed they're no longer compliant and we marked them for deletion to be",
    "start": "1647730",
    "end": "1653280"
  },
  {
    "text": "cleaned up at some later point and that doesn't mean they actually got deleted because they could go back into a compliance date at any given time like",
    "start": "1653280",
    "end": "1659520"
  },
  {
    "text": "if I'd like let's say my stopped instance is one of those things I could go back into the console and start the instance again it's gonna put it back",
    "start": "1659520",
    "end": "1665940"
  },
  {
    "text": "into it's gonna trigger that whole cycle it's gonna do a new evaluation it's going to determine that the resource is now compliant this is the total number",
    "start": "1665940",
    "end": "1675330"
  },
  {
    "text": "of valuations so this is the number of checks that we get the number of invocations of that lambda and it just",
    "start": "1675330",
    "end": "1681510"
  },
  {
    "text": "shows you a little bit about the scale that what we're talking about so on that Wednesday we were able to do close to 80,000 evaluations and resources to see",
    "start": "1681510",
    "end": "1688110"
  },
  {
    "text": "if they're compliant or not so some of the future user and where we're going to",
    "start": "1688110",
    "end": "1693720"
  },
  {
    "text": "go with AWS config obviously more rules it's it's very easy to write it's very easy it for us to add more rules so more",
    "start": "1693720",
    "end": "1700290"
  },
  {
    "text": "rules security compliance so we're gonna try to migrate a lot of things that we",
    "start": "1700290",
    "end": "1705540"
  },
  {
    "text": "used to have that were security compliance things into database config so earlier I talked about having a",
    "start": "1705540",
    "end": "1710720"
  },
  {
    "text": "having a one rule per a one resource type per rule thing but later on if you",
    "start": "1710720",
    "end": "1716880"
  },
  {
    "text": "start to become I start to have different flavors of compliance so in our example we're talking about compliance and is it a waste or is it",
    "start": "1716880",
    "end": "1723210"
  },
  {
    "text": "not needed but you could have a security compliance you can over that like an SRE compliance but yeah that's where we're",
    "start": "1723210",
    "end": "1728610"
  },
  {
    "text": "trying to get us to move some of the security compliance checks to be in config as well as a new flavor of compliance within our account and",
    "start": "1728610",
    "end": "1735059"
  },
  {
    "text": "like I said before currently those are cloud watch events a lot of them are cloud watch events they're very easy to migrate to a rule because the event that",
    "start": "1735059",
    "end": "1740940"
  },
  {
    "text": "you're gonna get in config is essentially the cloud watch event and describe we want to reduce the overall",
    "start": "1740940",
    "end": "1748110"
  },
  {
    "text": "number of API calls now I obviously I showed that as part of the running of this tool is going to reduce the number",
    "start": "1748110",
    "end": "1753330"
  },
  {
    "text": "of API calls but when I when I mean API calls here I'm talking about any API calls against your infrastructure so as",
    "start": "1753330",
    "end": "1759360"
  },
  {
    "text": "Sid mentioned earlier the the configuration items that you can get in config are a superset of a described so",
    "start": "1759360",
    "end": "1767340"
  },
  {
    "text": "what that means is instead of making it just against ec2 or auto-scaling or whatever you can describe against a tub",
    "start": "1767340",
    "end": "1773429"
  },
  {
    "text": "use config and get the entire list timeline for of a specific resource and the current configuration of that",
    "start": "1773429",
    "end": "1779639"
  },
  {
    "text": "resource you can also do that in batches as well so it makes it very very easy so any any tooling that needs to make API",
    "start": "1779639",
    "end": "1785519"
  },
  {
    "text": "calls against database infrastructure that they would previously go to do that specific resource they can do against",
    "start": "1785519",
    "end": "1790740"
  },
  {
    "text": "config so we're gonna try to move a lot more of our tools to start doing that and configuration item aggregation",
    "start": "1790740",
    "end": "1797639"
  },
  {
    "text": "I'll let Sid talk about this but it's it's good news I think it's really really great stuff so it'll reduce the",
    "start": "1797639",
    "end": "1803070"
  },
  {
    "text": "number of calls we're having to make so thanks awesome thanks Brett so that was",
    "start": "1803070",
    "end": "1809999"
  },
  {
    "text": "good use of config in the cost optimization scenario where you selected",
    "start": "1809999",
    "end": "1815399"
  },
  {
    "text": "or you identified resources that need to be deleted thereby you know you ended up saving some cost so great use case so",
    "start": "1815399",
    "end": "1825419"
  },
  {
    "text": "now let's say you like what said and you enabled config across multiple accounts",
    "start": "1825419",
    "end": "1831330"
  },
  {
    "text": "in your enterprise as a central IT administrator how can you get an",
    "start": "1831330",
    "end": "1836340"
  },
  {
    "text": "enterprise-wide view of your resource inventory the configuration as well as",
    "start": "1836340",
    "end": "1841830"
  },
  {
    "text": "the compliance status so that's where this new feature comes in handy it's",
    "start": "1841830",
    "end": "1848129"
  },
  {
    "text": "called the AWS config multi-account multi-region data aggregation and it",
    "start": "1848129",
    "end": "1853649"
  },
  {
    "text": "gives you that aggregated view of both configuration and compliance across multiple accounts and regions it is also",
    "start": "1853649",
    "end": "1861990"
  },
  {
    "text": "integrated with AWS organizations which simplifies the whole set up experience",
    "start": "1861990",
    "end": "1867019"
  },
  {
    "text": "and the top of its available at no additional charge for it obvious conflict customers now",
    "start": "1867019",
    "end": "1875559"
  },
  {
    "text": "before I get into the demo let me introduce you to some new concepts an aggregator is is a new resource type in",
    "start": "1875559",
    "end": "1884169"
  },
  {
    "text": "config and it identifies the sources that is the accounts and the regions",
    "start": "1884169",
    "end": "1889240"
  },
  {
    "text": "from where the config data needs to be pulled the aggregate count is an account",
    "start": "1889240",
    "end": "1895240"
  },
  {
    "text": "that contains an aggregator a source account is the account whose both",
    "start": "1895240",
    "end": "1900730"
  },
  {
    "text": "configuration and compliance data is being pulled authorization is an action",
    "start": "1900730",
    "end": "1906580"
  },
  {
    "text": "that authorizes the aggregator account to collect the config data from a source",
    "start": "1906580",
    "end": "1911769"
  },
  {
    "text": "account an aggregated view is a dashboard that presents the aggregated",
    "start": "1911769",
    "end": "1918370"
  },
  {
    "text": "information about the configuration and compliance for your resources so at the",
    "start": "1918370",
    "end": "1925690"
  },
  {
    "text": "heart of this you have an aggregator which basically collects all the config",
    "start": "1925690",
    "end": "1930759"
  },
  {
    "text": "information from multiple accounts in regions and then it finally presents you a dashboard you can also retrieve this",
    "start": "1930759",
    "end": "1938470"
  },
  {
    "text": "information through the api's so you directly just call the aggregator you don't have to call individual resources",
    "start": "1938470",
    "end": "1945279"
  },
  {
    "text": "within the source accounts you just call the aggregator and you get all the information through a single API so in",
    "start": "1945279",
    "end": "1953289"
  },
  {
    "text": "order to get started the first thing is you need to enable config and a set of configures across multiple accounts now",
    "start": "1953289",
    "end": "1961149"
  },
  {
    "text": "there are tools like cloud formation stack sets which allow you to take a cloud formation template and run it",
    "start": "1961149",
    "end": "1966909"
  },
  {
    "text": "across multiple accounts and regions as well as an entire oh you organization unit so that's an easy way to enable",
    "start": "1966909",
    "end": "1973659"
  },
  {
    "text": "config across your organization you then have to create an aggregator in the in",
    "start": "1973659",
    "end": "1980049"
  },
  {
    "text": "the account where you want to see the centralized information so that's the aggregator account and then the source",
    "start": "1980049",
    "end": "1986769"
  },
  {
    "text": "accounts need to authorize the aggregator account to collect their information and finally you can view the",
    "start": "1986769",
    "end": "1993070"
  },
  {
    "text": "aggregated dashboard in that central aggregator account okay right it's demo",
    "start": "1993070",
    "end": "2000450"
  },
  {
    "text": "time so let me get here and swap laptops okay",
    "start": "2000450",
    "end": "2017889"
  },
  {
    "text": "there we go so I'll go into the AWS",
    "start": "2017889",
    "end": "2027759"
  },
  {
    "text": "config console you can scroll down it's under management tools so right off the",
    "start": "2027759",
    "end": "2039820"
  },
  {
    "text": "bat you can see a resource inventory widget which for this particular account which let's say this is the aggregator",
    "start": "2039820",
    "end": "2046029"
  },
  {
    "text": "account or the account where I want to see all the information from other accounts so I can see the resources in",
    "start": "2046029",
    "end": "2052419"
  },
  {
    "text": "my account currently and the configurable compliance status but what I'm more interested in here is creating",
    "start": "2052419",
    "end": "2060040"
  },
  {
    "text": "an aggregator so let me quickly skip this part and take you to the aggregator section let's create an aggregator so at",
    "start": "2060040",
    "end": "2072819"
  },
  {
    "text": "the top you need to provide consent to AWS config to start pulling information from other accounts into this particular",
    "start": "2072819",
    "end": "2079690"
  },
  {
    "text": "account once you give us that consent I can name my aggregator and then I need",
    "start": "2079690",
    "end": "2092559"
  },
  {
    "text": "to select my source accounts so I've got two options here I can either upload a list of individual accounts",
    "start": "2092559",
    "end": "2100829"
  },
  {
    "text": "select the regions from where I need to pull the information from so this",
    "start": "2123320",
    "end": "2128690"
  },
  {
    "text": "feature is available in all public regions so I'll select all and I'll also",
    "start": "2128690",
    "end": "2133910"
  },
  {
    "text": "include future regions so that as new regions come up you don't need to update your aggregator it will automatically",
    "start": "2133910",
    "end": "2140570"
  },
  {
    "text": "pull data from those regions into the aggregator so go ahead and create that",
    "start": "2140570",
    "end": "2146740"
  },
  {
    "text": "so that was the setup in my central account or my aggregator account now let",
    "start": "2146740",
    "end": "2151910"
  },
  {
    "text": "me login to one of the source accounts because now I need to authorize the",
    "start": "2151910",
    "end": "2157100"
  },
  {
    "text": "aggregator accounts to collect my information so log in there so you can",
    "start": "2157100",
    "end": "2165860"
  },
  {
    "text": "see that there is an authorization request that has come in here on the left and click on it",
    "start": "2165860",
    "end": "2174100"
  },
  {
    "text": "so you can see there's a request from this particular account and it's requesting for authorization so go ahead",
    "start": "2181150",
    "end": "2187029"
  },
  {
    "text": "and authorize the aggregator account go",
    "start": "2187029",
    "end": "2197529"
  },
  {
    "text": "ahead and authorize it and by the way this can be done programmatically as well so if you have like hundred",
    "start": "2197529",
    "end": "2203380"
  },
  {
    "text": "accounts from where you're aggregating you don't need to do it through the console it can all be done through a",
    "start": "2203380",
    "end": "2208539"
  },
  {
    "text": "cloud formation template so grant authorization programmatically as well so I can do that",
    "start": "2208539",
    "end": "2214720"
  },
  {
    "text": "now it's authorized so now let me go back to the central aggregate or account",
    "start": "2214720",
    "end": "2219880"
  },
  {
    "text": "and I should be able to start seeing the aggregated information so let me go",
    "start": "2219880",
    "end": "2226869"
  },
  {
    "text": "there so this is my central aggregator",
    "start": "2226869",
    "end": "2233230"
  },
  {
    "text": "account click on my aggregator and I can see an aggregated view right here so you",
    "start": "2233230",
    "end": "2241359"
  },
  {
    "text": "can see that I've got a list of resources this is a resource inventory from from all the accounts that I am",
    "start": "2241359",
    "end": "2247390"
  },
  {
    "text": "aggregating and you have the breakdown",
    "start": "2247390",
    "end": "2253480"
  },
  {
    "text": "per resource type so let me let me click on the security group here I can see a",
    "start": "2253480",
    "end": "2259930"
  },
  {
    "text": "list of all security groups across all accounts and the region",
    "start": "2259930",
    "end": "2268140"
  },
  {
    "text": "I can filter it if I want to see the security groups for a particular account",
    "start": "2276339",
    "end": "2282869"
  },
  {
    "text": "right there and then I can also see instead of security group I can see the",
    "start": "2288150",
    "end": "2294369"
  },
  {
    "text": "entire resource inventory trials so I'll select all and this should give me a the complete resource inventory for that",
    "start": "2294369",
    "end": "2299979"
  },
  {
    "text": "account from from right here from the central aggregator account so when I",
    "start": "2299979",
    "end": "2310869"
  },
  {
    "text": "click on any one of these resources I can see the current configuration of",
    "start": "2310869",
    "end": "2316119"
  },
  {
    "text": "that resource as well the things like resource ID you know subnet details",
    "start": "2316119",
    "end": "2322140"
  },
  {
    "text": "anything that's present in that you typically get in a describe API call now",
    "start": "2322140",
    "end": "2328359"
  },
  {
    "text": "just the whole thing can also be programmatically retrieved and we call it a configuration item and as as",
    "start": "2328359",
    "end": "2334390"
  },
  {
    "text": "mentioned before it contains details about the describe API response as well as relationships and tags so that's all",
    "start": "2334390",
    "end": "2341229"
  },
  {
    "text": "enclosed as a configuration item so here's what it looks like",
    "start": "2341229",
    "end": "2346559"
  },
  {
    "text": "it has all the details that you can retrieve programmatically as well",
    "start": "2346559",
    "end": "2352710"
  },
  {
    "text": "here at the bottom you can also see a list of accounts like top accounts by number of resources so this gives you an",
    "start": "2359500",
    "end": "2365530"
  },
  {
    "text": "idea of which accounts are having the most number of resources in your enterprise I can just as before I can",
    "start": "2365530",
    "end": "2373300"
  },
  {
    "text": "look at the resources in that particular account or check the current configuration of any particular resource",
    "start": "2373300",
    "end": "2380190"
  },
  {
    "text": "so let's say here in this cloud formation stack I can see the configuration for that as well so note",
    "start": "2380190",
    "end": "2388900"
  },
  {
    "text": "that I didn't have to login to any particular account here or source account all of this information is",
    "start": "2388900",
    "end": "2395380"
  },
  {
    "text": "centrally being monitored in my aggregate or account now on the right",
    "start": "2395380",
    "end": "2402190"
  },
  {
    "text": "hand side I've got the compliance information so things like the top non-compliant rules so this is across",
    "start": "2402190",
    "end": "2410200"
  },
  {
    "text": "all the accounts I am aggregating it's",
    "start": "2410200",
    "end": "2418570"
  },
  {
    "text": "also got the number of resources that are being that are non-compliant I can click on any particular rule and get",
    "start": "2418570",
    "end": "2425230"
  },
  {
    "text": "more details about that the resource IDs that are violating a particular rule in",
    "start": "2425230",
    "end": "2432670"
  },
  {
    "text": "this case these s3 buckets do not have server-side encryption enabled again I",
    "start": "2432670",
    "end": "2440320"
  },
  {
    "text": "can use a number of filters here I can filter by compliance status so let's see",
    "start": "2440320",
    "end": "2445450"
  },
  {
    "text": "we want to look at the non-compliant rules I can filter it by region",
    "start": "2445450",
    "end": "2453960"
  },
  {
    "text": "and I can filter it by account",
    "start": "2459880",
    "end": "2463710"
  },
  {
    "text": "okay so let's go back to the aggregated view I've also got the list of top",
    "start": "2471160",
    "end": "2477340"
  },
  {
    "text": "non-compliant rules so these are the rules that have the most number of non-compliant resources across all those",
    "start": "2477340",
    "end": "2485740"
  },
  {
    "text": "accounts and then I've got top accounts",
    "start": "2485740",
    "end": "2491740"
  },
  {
    "text": "by a non-compliant rules so these are sort of your bad actors who have the most number of non-compliant rules so",
    "start": "2491740",
    "end": "2502630"
  },
  {
    "text": "very nifty feature where you can get all this information without logging into those individual accounts so that was",
    "start": "2502630",
    "end": "2509470"
  },
  {
    "text": "that was a demo about centrally monitoring both configuration and compliance information in a non",
    "start": "2509470",
    "end": "2516040"
  },
  {
    "text": "organization's scenario okay let me switch my laptop here okay alright so",
    "start": "2516040",
    "end": "2532900"
  },
  {
    "text": "just to recap so far I've showed you I've shown you how to aggregate config data from individual accounts and",
    "start": "2532900",
    "end": "2539890"
  },
  {
    "text": "regions into a central aggregator account now let me talk a little bit about the organization's data based",
    "start": "2539890",
    "end": "2546250"
  },
  {
    "text": "organizations integration for those of you who are not familiar with organizations it's a service that allows",
    "start": "2546250",
    "end": "2552850"
  },
  {
    "text": "you to group together a list of accounts you know in a hierarchical fashion so that it's easier for you to manage them",
    "start": "2552850",
    "end": "2559540"
  },
  {
    "text": "in this case a wh config can retrieve the set of accounts that belong to an",
    "start": "2559540",
    "end": "2566020"
  },
  {
    "text": "organization so we would automatically pull those accounts into the aggregator you don't have to upload a list of",
    "start": "2566020",
    "end": "2572770"
  },
  {
    "text": "accounts that you have to do in the non organization scenario so I'll show you",
    "start": "2572770",
    "end": "2578590"
  },
  {
    "text": "that how this this integration simplifies the setup experience for aggregation notice that I had to do the",
    "start": "2578590",
    "end": "2586510"
  },
  {
    "text": "authorization in the non organization's case but here you don't need to do that authorization step because your member",
    "start": "2586510",
    "end": "2594160"
  },
  {
    "text": "accounts already trust your master account and today we allow the creation of this aggregator only in the master",
    "start": "2594160",
    "end": "2600400"
  },
  {
    "text": "account so that trust is already established so that that part really simply is the setup experience and you just",
    "start": "2600400",
    "end": "2607930"
  },
  {
    "text": "need to enable a config create an aggregator choose your organization and you should be able to see your",
    "start": "2607930",
    "end": "2613300"
  },
  {
    "text": "aggregated dashboard the other benefit of organizations integration is whenever",
    "start": "2613300",
    "end": "2620410"
  },
  {
    "text": "any account joins your organization or leaves your organization the aggregator automatically gets updated okay so now",
    "start": "2620410",
    "end": "2630790"
  },
  {
    "text": "let me give you a quick demo about the organization's scenario",
    "start": "2630790",
    "end": "2636030"
  },
  {
    "text": "right so just like before I'll go ahead and create an aggregator give it a name",
    "start": "2651430",
    "end": "2660100"
  },
  {
    "text": "and this time I'll just add my organization so this assumes you're already in the master account of your",
    "start": "2664990",
    "end": "2671600"
  },
  {
    "text": "org and we need a role so the role in this case would be a read-only role",
    "start": "2671600",
    "end": "2677690"
  },
  {
    "text": "where config we'll go ahead and just get a list of all accounts that belong to your organization so that's that's the",
    "start": "2677690",
    "end": "2685040"
  },
  {
    "text": "only thing we don't have any write permissions to do anything we just purely retrieved the list of accounts in your org select all regions include",
    "start": "2685040",
    "end": "2697940"
  },
  {
    "text": "future regions and go ahead and create that so now when I click on the",
    "start": "2697940",
    "end": "2707210"
  },
  {
    "text": "aggregated dashboard I should be able to see the information just like before I didn't have to do any authorization step",
    "start": "2707210",
    "end": "2713930"
  },
  {
    "text": "here so it really simplified your whole setup experience just like before you",
    "start": "2713930",
    "end": "2719810"
  },
  {
    "text": "can see the same widgets resource inventory on the left and the compliance",
    "start": "2719810",
    "end": "2726230"
  },
  {
    "text": "on the right you can filter by the accounts in your org here so I think I have about 50 accounts in my org here",
    "start": "2726230",
    "end": "2732650"
  },
  {
    "text": "and should be able to view the compliance as well as configuration details for any of those accounts okay",
    "start": "2732650",
    "end": "2744470"
  },
  {
    "text": "so just like before you can do the same filtering so I'll skip that part let's",
    "start": "2744470",
    "end": "2750560"
  },
  {
    "text": "go back here",
    "start": "2750560",
    "end": "2753400"
  },
  {
    "text": "okay so here are some customer testimonials for folks who have",
    "start": "2776290",
    "end": "2782720"
  },
  {
    "text": "evaluated the feature in fact when of one of them is Brad from Brad here he",
    "start": "2782720",
    "end": "2790730"
  },
  {
    "text": "was involved in the private beta phase so really glad that it worked out for him and we've got some excellent feature",
    "start": "2790730",
    "end": "2796910"
  },
  {
    "text": "requests as well so thank at Brad so",
    "start": "2796910",
    "end": "2802339"
  },
  {
    "text": "that was a best practice for like that that was the primary best practice that we recommend you know turning on multi",
    "start": "2802339",
    "end": "2808730"
  },
  {
    "text": "account multi-region data aggregation it really allows you to you know collect",
    "start": "2808730",
    "end": "2813770"
  },
  {
    "text": "both configuration and compliance information from multiple accounts and regions here are some additional best",
    "start": "2813770",
    "end": "2820730"
  },
  {
    "text": "practices config generates snapshots which is basically your current",
    "start": "2820730",
    "end": "2825950"
  },
  {
    "text": "configuration for all your resources in your account and that snapshot file gets delivered in your s3 bucket today on an",
    "start": "2825950",
    "end": "2833240"
  },
  {
    "text": "on-demand basis so you could call an API and we deliver the snapshot so for centralized monitoring we recommend that",
    "start": "2833240",
    "end": "2839869"
  },
  {
    "text": "you have a common s3 bucket where you can you know collect these snapshots from across multiple accounts at regions",
    "start": "2839869",
    "end": "2846609"
  },
  {
    "text": "you can then use that file you know for offline analysis you can hook it up with",
    "start": "2846609",
    "end": "2852099"
  },
  {
    "text": "rizona tena and then query it for any particular use case that you may have we",
    "start": "2852099",
    "end": "2859849"
  },
  {
    "text": "also have event notifications that we generate so anytime a configuration changes or a compliance changes today we",
    "start": "2859849",
    "end": "2866510"
  },
  {
    "text": "send Amazon SNS notifications as well as cloud watch events so we recommend that",
    "start": "2866510",
    "end": "2872150"
  },
  {
    "text": "you have a common SNS topic or you use cloud watch event bus to collect all",
    "start": "2872150",
    "end": "2878000"
  },
  {
    "text": "those events into a central location for for centralized monitoring",
    "start": "2878000",
    "end": "2884500"
  },
  {
    "text": "so to summarize here some best practices that I spoke about number one use AWS",
    "start": "2886290",
    "end": "2892590"
  },
  {
    "text": "config for effective governance of your resource configuration and compliance get that central visibility into the",
    "start": "2892590",
    "end": "2900360"
  },
  {
    "text": "configuration and compliance using the multi account multi-region aggregation feature it's available in all public",
    "start": "2900360",
    "end": "2907140"
  },
  {
    "text": "regions and it's at no additional cost for you if you're a config customer and while you're using that leverage the AWS",
    "start": "2907140",
    "end": "2914910"
  },
  {
    "text": "organizations integration because that really simplifies your setup experience",
    "start": "2914910",
    "end": "2920510"
  },
  {
    "text": "collect snapshots and history files into a common s3 bucket and use a common SNS",
    "start": "2920510",
    "end": "2926400"
  },
  {
    "text": "topic or rents bus to collect all the invent notifications here are some",
    "start": "2926400",
    "end": "2933990"
  },
  {
    "text": "useful links additional resources we've got you know some excellent blogs that",
    "start": "2933990",
    "end": "2939180"
  },
  {
    "text": "tell you how to query your snapshot files using Amazon Athena you know very",
    "start": "2939180",
    "end": "2944220"
  },
  {
    "text": "step-by-step procedure written by one of our developers so I encourage you to take a look at those blogs as well that",
    "start": "2944220",
    "end": "2953220"
  },
  {
    "text": "brings us to the end of this presentation thank you and we're open for questions",
    "start": "2953220",
    "end": "2959480"
  },
  {
    "text": "not at the moment so this is while defining the aggregator you want to just",
    "start": "2971310",
    "end": "2976990"
  },
  {
    "text": "collect accounts using certain tags yeah",
    "start": "2976990",
    "end": "2982590"
  },
  {
    "text": "yeah that's good feedback I mean that currently we don't have that we just you",
    "start": "2982590",
    "end": "2987610"
  },
  {
    "text": "cannot you can create those accounts as a file and upload that file that that's a workaround but we don't have it by",
    "start": "2987610",
    "end": "2994090"
  },
  {
    "text": "tags correct correct yeah yeah exactly",
    "start": "2994090",
    "end": "3019860"
  },
  {
    "text": "so the rules exist on a per account and it's up to you where you want to deploy",
    "start": "3019860",
    "end": "3025050"
  },
  {
    "text": "those rules right so you can use cloud formation stack sets to deploy rules to a particular oh you and and that's why",
    "start": "3025050",
    "end": "3032310"
  },
  {
    "text": "that's how the rule gets evaluated in that account and we can pull that information in here",
    "start": "3032310",
    "end": "3038119"
  },
  {
    "text": "in the organization scenario it's only the master account but if you want to",
    "start": "3058810",
    "end": "3063830"
  },
  {
    "text": "view the aggregated information in another account its the non organization scenario which is you know the",
    "start": "3063830",
    "end": "3069440"
  },
  {
    "text": "authorization flow and that all that currently the organization's is only the",
    "start": "3069440",
    "end": "3074780"
  },
  {
    "text": "master account yep absolutely",
    "start": "3074780",
    "end": "3082930"
  },
  {
    "text": "yeah absolutely that's what we do today so today every configuration change that",
    "start": "3098480",
    "end": "3106260"
  },
  {
    "text": "we track in config we send out a notification and you know even for any compliance change we send out a",
    "start": "3106260",
    "end": "3112200"
  },
  {
    "text": "notification you can also filter that because a lot of times it could be noisy so you know cloud watch events has a",
    "start": "3112200",
    "end": "3119160"
  },
  {
    "text": "native filtering experience on their console so you can filter by if you only want configuration changes you can",
    "start": "3119160",
    "end": "3125069"
  },
  {
    "text": "filter it or if you only want configuration changes for a particular type of resource you could filter to",
    "start": "3125069",
    "end": "3130710"
  },
  {
    "text": "that level as well absolutely so you can",
    "start": "3130710",
    "end": "3157440"
  },
  {
    "text": "there are some rules for CIS which we offer as managed rules but you could",
    "start": "3157440",
    "end": "3162480"
  },
  {
    "text": "create your own you know custom rules for various frameworks or PCI or HIPAA whatever and then you could basically",
    "start": "3162480",
    "end": "3169589"
  },
  {
    "text": "just have the rule evaluated at the end of the day the rule is evaluating a piece of configuration right so you",
    "start": "3169589",
    "end": "3176220"
  },
  {
    "text": "define what policy you want like what logic you want to check in the configuration and that could be",
    "start": "3176220",
    "end": "3181530"
  },
  {
    "text": "applicable either for PCI or HIPAA or whatever no it's I mean it's just a rule",
    "start": "3181530",
    "end": "3192900"
  },
  {
    "text": "it's a framework for you to create but we are not providing that you know console you could I mean if you're",
    "start": "3192900",
    "end": "3201329"
  },
  {
    "text": "looking for like from a reporting perspective that this rule is related to PCI you could annotate a rule but so",
    "start": "3201329",
    "end": "3209970"
  },
  {
    "text": "while while creating a put evaluation API you could annotate it with this is related to PCI u1 dot whatever rule so",
    "start": "3209970",
    "end": "3217859"
  },
  {
    "text": "that's one mechanism to overcome an else",
    "start": "3217859",
    "end": "3226849"
  },
  {
    "text": "all right it's good thank you [Applause]",
    "start": "3227950",
    "end": "3234519"
  }
]