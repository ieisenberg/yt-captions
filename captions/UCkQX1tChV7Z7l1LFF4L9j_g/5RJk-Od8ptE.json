[
  {
    "start": "0",
    "end": "215000"
  },
  {
    "text": "your child application is low check out these open source profiles this the title of my talk that I will be giving",
    "start": "15440",
    "end": "21119"
  },
  {
    "text": "in the following my name is Johannes beb and I'm going to jump right in you probably all know the situation when",
    "start": "21119",
    "end": "27679"
  },
  {
    "text": "you're asked by others the question on a software developer and then could you write me some or ask some website and",
    "start": "27679",
    "end": "35600"
  },
  {
    "text": "that's what happened to me I'm part of the organizing team of the night of Sciences in Castro where phds and",
    "start": "35600",
    "end": "42680"
  },
  {
    "text": "professors can show their a research to the general public",
    "start": "42680",
    "end": "49160"
  },
  {
    "text": "um at an evening in like half an hour uh talks and it was it was the time of",
    "start": "49160",
    "end": "55640"
  },
  {
    "text": "Corona where everyone um had to be at home and where we had to event um held",
    "start": "55640",
    "end": "61440"
  },
  {
    "text": "remotely and so we had a problem that we wanted to have some interactivity there",
    "start": "61440",
    "end": "66840"
  },
  {
    "text": "and essentially we wanted to ask um the participants or the viewers some",
    "start": "66840",
    "end": "73119"
  },
  {
    "text": "questions in a quiz like how old is the Universe um after a talk on astronomy",
    "start": "73119",
    "end": "80560"
  },
  {
    "text": "and so I was asked and what I did I just created a small website essentially we",
    "start": "80560",
    "end": "87439"
  },
  {
    "text": "had a client um that Reg asked the server hey is there any question and if",
    "start": "87439",
    "end": "92880"
  },
  {
    "text": "yes please give me the question and of course it also was able to could also",
    "start": "92880",
    "end": "99159"
  },
  {
    "text": "answer the questions using this client and then you had an admin interface with which you can set the question and then",
    "start": "99159",
    "end": "106079"
  },
  {
    "text": "you had the server um that stored all the information um all the data in a",
    "start": "106079",
    "end": "111680"
  },
  {
    "text": "simple Chason file because I thought okay um if I just use the file system",
    "start": "111680",
    "end": "117640"
  },
  {
    "text": "and then the file system does the whole synchronization and consistency for me",
    "start": "117640",
    "end": "123840"
  },
  {
    "text": "so um I thought it's because hey a premy much optimization is the root all is the",
    "start": "123840",
    "end": "129119"
  },
  {
    "text": "root of all evil as Donald moof once wrote and the event came and I developed",
    "start": "129119",
    "end": "137040"
  },
  {
    "text": "the software and was quite confident that it worked because it's a simple software just a couple of hundred lines",
    "start": "137040",
    "end": "143959"
  },
  {
    "text": "of code and the client asks all the time every 10 seconds",
    "start": "143959",
    "end": "150280"
  },
  {
    "text": "um the Ser for hey is there any questions I thought that's that's enough margin there but the event came in the",
    "start": "150280",
    "end": "156400"
  },
  {
    "text": "evening and the Ser was of course overwhelmed that's one might expect when I'm giving this example here in this s",
    "start": "156400",
    "end": "163560"
  },
  {
    "text": "um so what was the problem um one was that the server just couldn't handle",
    "start": "163560",
    "end": "170159"
  },
  {
    "text": "that many connections um and that many participants that wanted to participate",
    "start": "170159",
    "end": "176239"
  },
  {
    "text": "in the quiz um and now come back to Don's Original quote which was a bit",
    "start": "176239",
    "end": "182239"
  },
  {
    "text": "longer it um it was originally we thought forget about small efficiencies",
    "start": "182239",
    "end": "188400"
  },
  {
    "text": "say about 97% of the time prra optimization is the root of all evil you",
    "start": "188400",
    "end": "194040"
  },
  {
    "text": "wrot further yet we should not pass up our opportunities in the critical 3% a",
    "start": "194040",
    "end": "200040"
  },
  {
    "text": "good programmer will not be led into complacency by such reasoning he will be wise to look carefully at the critical",
    "start": "200040",
    "end": "206319"
  },
  {
    "text": "code but only after the code has been identified and so we need to identify what went",
    "start": "206319",
    "end": "213519"
  },
  {
    "text": "wrong and profiles to Res they are the tools that you use to see what went",
    "start": "213519",
    "end": "220599"
  },
  {
    "text": "wrong and um performance wise um when you talk about profiles to",
    "start": "220599",
    "end": "227480"
  },
  {
    "text": "someone who is not from not from computer science you typically get like a look like hey uh this isn't isn't this",
    "start": "227480",
    "end": "234480"
  },
  {
    "text": "something that people in crime shows do isn't it something that that charlock home does like like a profiler solving",
    "start": "234480",
    "end": "241200"
  },
  {
    "text": "crimes solving crime Mysteries and essentially that's what we're also doing here but we not solving crime Mysteries",
    "start": "241200",
    "end": "248480"
  },
  {
    "text": "but we're solving the problem on why is this application so slow and so",
    "start": "248480",
    "end": "255000"
  },
  {
    "text": "essentially we charot Holmes and Watson digging into the depths of of of the",
    "start": "255000",
    "end": "260680"
  },
  {
    "text": "performance data to see what went wrong so one of the most common ways to V to",
    "start": "260680",
    "end": "267960"
  },
  {
    "text": "visualize um some performance data that you get is a main is a flame craft so",
    "start": "267960",
    "end": "274120"
  },
  {
    "text": "here you see the flame craft building up in the bottom um so you see that the main",
    "start": "274120",
    "end": "279639"
  },
  {
    "text": "function takes all the time because it's the main function and on the top you see",
    "start": "279639",
    "end": "285680"
  },
  {
    "text": "the pseudo code building up of this this is the simplified pseudo code but it's essentially what the server is executing",
    "start": "285680",
    "end": "293199"
  },
  {
    "text": "so the main function just call some in initialization um code and then call",
    "start": "293199",
    "end": "299360"
  },
  {
    "text": "some server Loop and the server Loop takes most of the time of the main function so the server Loop has a wide",
    "start": "299360",
    "end": "307120"
  },
  {
    "text": "bar um the width of the bar is um proportional to",
    "start": "307120",
    "end": "312800"
  },
  {
    "text": "the uh to the amount of time that it takes to execute this um",
    "start": "312800",
    "end": "319720"
  },
  {
    "text": "function and then the server Loop is just a simple Loop that gets that waits for new request gets it",
    "start": "319720",
    "end": "327000"
  },
  {
    "text": "and and checks whether this is a question request and then Calla to",
    "start": "327000",
    "end": "332199"
  },
  {
    "text": "handle question request method and then handles also some some other requests that's not important here and you see in",
    "start": "332199",
    "end": "338440"
  },
  {
    "text": "the flamecraft that the handle question request takes a lot of time and then",
    "start": "338440",
    "end": "343639"
  },
  {
    "text": "what does the handle question request does it just um checks is there any",
    "start": "343639",
    "end": "351919"
  },
  {
    "text": "question enabled and then it emits the current question and",
    "start": "351919",
    "end": "358039"
  },
  {
    "text": "yeah it's these method shouldn't take that much time but why do they and the",
    "start": "358039",
    "end": "363520"
  },
  {
    "text": "flame cuffs also gives us this answer simply because we all the time passing",
    "start": "363520",
    "end": "368800"
  },
  {
    "text": "Chason um um so this is not a bad thing",
    "start": "368800",
    "end": "374960"
  },
  {
    "text": "and we've seen again to quote Mario FCO when you do something stupid it punches",
    "start": "374960",
    "end": "380919"
  },
  {
    "text": "you in your face and it's impossible not to see it he wrote this a few weeks back",
    "start": "380919",
    "end": "386560"
  },
  {
    "text": "and that's the beauty with flamecraft they are TR easy to understand and you see when you're doing something stupid",
    "start": "386560",
    "end": "393400"
  },
  {
    "text": "performance wise and if we then um um rewind the handle question request",
    "start": "393400",
    "end": "401560"
  },
  {
    "text": "and is current question this question enabled and the current question method",
    "start": "401560",
    "end": "406919"
  },
  {
    "text": "to use something more sensible for example on sqi database then the",
    "start": "406919",
    "end": "413000"
  },
  {
    "text": "performance of the whole application drastically improves and we don't have any problems anymore with like 90 to 100",
    "start": "413000",
    "end": "420840"
  },
  {
    "text": "concurrent usage which is really great and um which makes the application um",
    "start": "420840",
    "end": "426680"
  },
  {
    "text": "usable again and so you see profiling the technique of profiling should be part of your toolbox Shining Light on on",
    "start": "426680",
    "end": "434240"
  },
  {
    "text": "the performance issues um it's should be in the same it should be in the toolbox",
    "start": "434240",
    "end": "439960"
  },
  {
    "text": "like debugging or testing so when you come over problem you can open your",
    "start": "439960",
    "end": "446400"
  },
  {
    "text": "toolbox and see what the apprpriate tool is and so it's important to know for",
    "start": "446400",
    "end": "452000"
  },
  {
    "text": "each of these um um techniques a few tools that you can readily",
    "start": "452000",
    "end": "460280"
  },
  {
    "text": "apply so who I am who am I to tell you about profiling I'm Johannes beberg I",
    "start": "460280",
    "end": "467319"
  },
  {
    "text": "work at the Submachine team at sip um the Submachine team um works on",
    "start": "467319",
    "end": "474360"
  },
  {
    "text": "the open jdk and is part of the open source teams at sap",
    "start": "474360",
    "end": "482280"
  },
  {
    "text": "um so I'm specifically working there on the in the field of Open Source profiles",
    "start": "482280",
    "end": "489800"
  },
  {
    "text": "so I develop profile uis like the one you",
    "start": "489800",
    "end": "495599"
  },
  {
    "text": "see which is based on Firefox profile um I work on using profile and related",
    "start": "495599",
    "end": "502319"
  },
  {
    "text": "tools and um last but not least I'm also",
    "start": "502319",
    "end": "507520"
  },
  {
    "text": "working to get a better profiling API into the open jdk it's currently a jdk",
    "start": "507520",
    "end": "513800"
  },
  {
    "text": "enhancement proposal candidate so wish me Lu to so I get it in so who of you Ed",
    "start": "513800",
    "end": "519959"
  },
  {
    "start": "518000",
    "end": "578000"
  },
  {
    "text": "the profile this is of course recording so um I chose the results of the jetra",
    "start": "519959",
    "end": "528360"
  },
  {
    "text": "2022 developer survey and in the survey 40% said no so that's a quite a large",
    "start": "528360",
    "end": "535040"
  },
  {
    "text": "number because profiling is really important when you're doing um",
    "start": "535040",
    "end": "540160"
  },
  {
    "text": "to to to know and to to have in your toolbox when you're developing code",
    "start": "540160",
    "end": "545560"
  },
  {
    "text": "that's especially if the code goes like outside to the a b um so but what is",
    "start": "545560",
    "end": "553640"
  },
  {
    "text": "profiling so this whole talk on profiling so we should probably Define what what I mean with this and I'm going",
    "start": "553640",
    "end": "559760"
  },
  {
    "text": "with the definition of the Dragon file which is that it's a technique to obtain",
    "start": "559760",
    "end": "565200"
  },
  {
    "text": "a profile and the profile is a report on the amounts of times spend in each routine of a program used to find in",
    "start": "565200",
    "end": "572000"
  },
  {
    "text": "tune away the hotpots in it like we did before with our introductionary example",
    "start": "572000",
    "end": "578560"
  },
  {
    "start": "578000",
    "end": "866000"
  },
  {
    "text": "but there are of course different profilers there essentially two types of profiles they're instrumenting profiles",
    "start": "578560",
    "end": "585279"
  },
  {
    "text": "and sampling profiles instrumenting profiles insert instructions into your code",
    "start": "585279",
    "end": "591440"
  },
  {
    "text": "automatically for example you see here the server Loop function um by an instrumenting profile",
    "start": "591440",
    "end": "598839"
  },
  {
    "text": "with insert at the beginning a lock statement that says okay I'm entering server Loop and at the end um uh a",
    "start": "598839",
    "end": "607279"
  },
  {
    "text": "statement that calls a method um that states hey I'm exerting Ser Loop and the",
    "start": "607279",
    "end": "614120"
  },
  {
    "text": "cool thing is that's quite accurate in the sense that you see every function entry and",
    "start": "614120",
    "end": "621760"
  },
  {
    "text": "exit but that's also problematic because Jets don't really like it when you",
    "start": "621760",
    "end": "628040"
  },
  {
    "text": "increase the amount of code potentially by a large amount um and it's also",
    "start": "628040",
    "end": "635480"
  },
  {
    "text": "problematic because it's not that fast um because yeah you're executing a lot",
    "start": "635480",
    "end": "642200"
  },
  {
    "text": "of statements um so there's another type set it's sampling profiles and they",
    "start": "642200",
    "end": "650720"
  },
  {
    "text": "sample so they not they they don't do anything on on every um Loop entry and",
    "start": "650720",
    "end": "657399"
  },
  {
    "text": "exit but rather they ask the jvm in regular intervals usually",
    "start": "657399",
    "end": "663440"
  },
  {
    "text": "in every 10 to 20 milliseconds hey what are you currently executing so what's your call Race",
    "start": "663440",
    "end": "670920"
  },
  {
    "text": "so um see it here we asked to tr times um and then we combine this",
    "start": "670920",
    "end": "678600"
  },
  {
    "text": "data that's of course approximate um so it has its own problems regarding ACC",
    "start": "678600",
    "end": "685240"
  },
  {
    "text": "currency but the advantages that you see in really what the JM is doing um and",
    "start": "685240",
    "end": "691959"
  },
  {
    "text": "what what your program is doing um and this and regarding accuracy um that",
    "start": "691959",
    "end": "700079"
  },
  {
    "text": "depends on on safe point so but what is a safe point the safe point is essentially um a point where",
    "start": "700079",
    "end": "708399"
  },
  {
    "text": "all um where all threats are in a safe state so here um every fret checks at",
    "start": "708399",
    "end": "716120"
  },
  {
    "text": "regular points in the code hey is the safe Point requested and if yes please",
    "start": "716120",
    "end": "722959"
  },
  {
    "text": "stop and the the threet stops um and so",
    "start": "722959",
    "end": "728560"
  },
  {
    "text": "um it checks whether safe point is requested for example at the beginning of a method at the end of a method um we",
    "start": "728560",
    "end": "737160"
  },
  {
    "text": "see here and also at the end of a loop body why is this important for for",
    "start": "737160",
    "end": "743880"
  },
  {
    "text": "profiling for profiling um there um there there are methods",
    "start": "743880",
    "end": "750760"
  },
  {
    "text": "that um you can use to to obtain um uh a",
    "start": "750760",
    "end": "756440"
  },
  {
    "text": "stack trays and their methods that a safe Point bias so they only work at a safe point and there methods that don't",
    "start": "756440",
    "end": "763639"
  },
  {
    "text": "here in the following I use this uot which is in a non-safe point",
    "start": "763639",
    "end": "769199"
  },
  {
    "text": "state or in the state where it doesn't check hey can I go faster than safe",
    "start": "769199",
    "end": "774880"
  },
  {
    "text": "point when it's lighter of color and darker when it's at the safe Point um",
    "start": "774880",
    "end": "780720"
  },
  {
    "text": "and safe Point are usually used um to uh do things like garbage collection so",
    "start": "780720",
    "end": "787639"
  },
  {
    "text": "safe Point bias comes when um because",
    "start": "787639",
    "end": "793000"
  },
  {
    "text": "when you now say to to the Fred hey please please stop and it only stops",
    "start": "793000",
    "end": "798680"
  },
  {
    "text": "when it's relating then you're getting the stack trace on the call Trace and in the fly asynchronous",
    "start": "798680",
    "end": "805440"
  },
  {
    "text": "mode you're just telling the Fred hey stop and just stops you don't have to to",
    "start": "805440",
    "end": "811760"
  },
  {
    "text": "wait till it's checked for a safe point and is a safe point but you get it",
    "start": "811760",
    "end": "816800"
  },
  {
    "text": "really at the point that you're demanding it and so you don't have any bias um which increases the accuracy but",
    "start": "816800",
    "end": "824959"
  },
  {
    "text": "also it has the problem that um you might be in undefined State and so it's",
    "start": "824959",
    "end": "831279"
  },
  {
    "text": "less slightly less stable uh than than going with the safe from bias route and",
    "start": "831279",
    "end": "836839"
  },
  {
    "text": "this um and safe from bias is is especially important with multiple feds",
    "start": "836839",
    "end": "842040"
  },
  {
    "text": "because here we want to essentially only stop one fed but here we we're asking",
    "start": "842040",
    "end": "848199"
  },
  {
    "text": "like please please stop when you're ready so we have to wait till the second fret also is is finished just at a safe",
    "start": "848199",
    "end": "856160"
  },
  {
    "text": "Point um and here um for the as synchronous we just tell it stop to the",
    "start": "856160",
    "end": "862199"
  },
  {
    "text": "FR one and the F two goes along so but how does then then",
    "start": "862199",
    "end": "869279"
  },
  {
    "start": "866000",
    "end": "945000"
  },
  {
    "text": "profiling work we've seen okay there's there's some kind of safe from bu and that we're doing some sampling but what",
    "start": "869279",
    "end": "876720"
  },
  {
    "text": "are we doing at every interval um so we first a profile first um gets all the",
    "start": "876720",
    "end": "883199"
  },
  {
    "text": "available threats um then select a random subset because um sampling all",
    "start": "883199",
    "end": "889759"
  },
  {
    "text": "threats isn't usually possible because when you have few th000 Frets then you cannot really walk all the Frets every",
    "start": "889759",
    "end": "897759"
  },
  {
    "text": "10 milliseconds because this would take too much time and the performance overhead would be too high and then you",
    "start": "897759",
    "end": "904120"
  },
  {
    "text": "pre-allocate some traces on the data structure that you're storing like your call Tes later and then for the",
    "start": "904120",
    "end": "911360"
  },
  {
    "text": "asynchronous version you like pinging with a unique signal for example your",
    "start": "911360",
    "end": "917040"
  },
  {
    "text": "your every fret saying hey please ping and the Fret stops you're going into a",
    "start": "917040",
    "end": "923199"
  },
  {
    "text": "signal handle and there you walk the stti with the swing Chronos version you can directly tell the fr hey what's your",
    "start": "923199",
    "end": "929240"
  },
  {
    "text": "stack D and you're doing this um with the other threads too and",
    "start": "929240",
    "end": "934560"
  },
  {
    "text": "then you have a set of traces and you collect them and then you do some",
    "start": "934560",
    "end": "939759"
  },
  {
    "text": "postprocessing for example a frame to generate flame CS as we",
    "start": "939759",
    "end": "945519"
  },
  {
    "text": "see so um I I showed you that there are two",
    "start": "945519",
    "end": "951839"
  },
  {
    "text": "types of sampling profiles but also there are different specific sampling profiles",
    "start": "951839",
    "end": "959800"
  },
  {
    "text": "there are external sampling profiles and built in um external is quite simple",
    "start": "959800",
    "end": "965079"
  },
  {
    "text": "they are um agents native or Java agents that are attached to the jvm and then",
    "start": "965079",
    "end": "972440"
  },
  {
    "text": "use um methods to um obtain a St Trace",
    "start": "972440",
    "end": "978240"
  },
  {
    "text": "um that can be ca from external agents and buildin is just directly built into",
    "start": "978240",
    "end": "983360"
  },
  {
    "text": "your jdk um or other jbms and here with have external we um have to distinguish",
    "start": "983360",
    "end": "991079"
  },
  {
    "text": "between synchronus and asynchronus so synchronous is just with",
    "start": "991079",
    "end": "996240"
  },
  {
    "text": "the safe Point buys and asynchron with the non not with the safe Point buys but",
    "start": "996240",
    "end": "1001519"
  },
  {
    "text": "with signal and loss so I've shown you before and one of the most common",
    "start": "1001519",
    "end": "1006959"
  },
  {
    "text": "um tools that uses the synchronous method is visual V amb is based on that",
    "start": "1006959",
    "end": "1013319"
  },
  {
    "text": "beans which is available since 2010 and it was shipped directly with the open",
    "start": "1013319",
    "end": "1018920"
  },
  {
    "text": "jdk from version or with the jdk from version 6 to version 8 um this is the",
    "start": "1018920",
    "end": "1025240"
  },
  {
    "text": "reason why many people um uh use it and also cently use it",
    "start": "1025240",
    "end": "1031839"
  },
  {
    "text": "because it's just the first fully available easily available tool um that",
    "start": "1031839",
    "end": "1037319"
  },
  {
    "text": "was there and then um the asynchronous methods um uh were introduced for f analyzer",
    "start": "1037319",
    "end": "1045400"
  },
  {
    "text": "this is a project from from Sun that started in 1991 which is essentially um",
    "start": "1045400",
    "end": "1050960"
  },
  {
    "text": "a profile for the systems and for this analyzer um they implemented the ASN get",
    "start": "1050960",
    "end": "1057640"
  },
  {
    "text": "C race call in in 2002 um and removed it",
    "start": "1057640",
    "end": "1063559"
  },
  {
    "text": "like 3 months later but it's essentially still there um and it's uh and in 2013",
    "start": "1063559",
    "end": "1071480"
  },
  {
    "text": "people started to use it for their own sampling profiles to write their own and um Asing profile which is the most",
    "start": "1071480",
    "end": "1078000"
  },
  {
    "text": "commonly used start in 2016 then there's also the buil-in",
    "start": "1078000",
    "end": "1083159"
  },
  {
    "text": "um profiler which is called Java or lat jdk flight recorder which is also non",
    "start": "1083159",
    "end": "1089720"
  },
  {
    "text": "safe bias because internally it uses similar methods as Asing profile and",
    "start": "1089720",
    "end": "1097039"
  },
  {
    "text": "there's a front end for it it's called The Java and the later JK mission control which um started in 2012 and was",
    "start": "1097039",
    "end": "1104559"
  },
  {
    "text": "open source 2018 um and it's now one of the most",
    "start": "1104559",
    "end": "1111919"
  },
  {
    "text": "extensive tools in the open source world for profiling and then many other tools",
    "start": "1111919",
    "end": "1117240"
  },
  {
    "text": "um usually use a combination of as sync profile many of them already embed Al",
    "start": "1117240",
    "end": "1124400"
  },
  {
    "text": "embeded and some some safe R data so how do you obtain a profile",
    "start": "1124400",
    "end": "1132080"
  },
  {
    "start": "1129000",
    "end": "1561000"
  },
  {
    "text": "using these tools I will be focusing on two tools um",
    "start": "1132080",
    "end": "1137320"
  },
  {
    "text": "on um JFR and on Asing profile but first to",
    "start": "1137320",
    "end": "1142720"
  },
  {
    "text": "Asing profile um it's a Java agent it's a native agent so you can just pass it",
    "start": "1142720",
    "end": "1149280"
  },
  {
    "text": "um tell it where it is it's therefore blood fir specific um so you have to",
    "start": "1149280",
    "end": "1155000"
  },
  {
    "text": "download it for your specific platform from the GitHub page you can tell it what um it short um sample for CPU time",
    "start": "1155000",
    "end": "1165159"
  },
  {
    "text": "CL time also on and you can tell it um that it should export a flame craft or",
    "start": "1165159",
    "end": "1170799"
  },
  {
    "text": "that it should export a jdk flight recorder format because the jdk flight recorder format is one of the most",
    "start": "1170799",
    "end": "1178880"
  },
  {
    "text": "commonly used formats in the Java profiling world and Asing profile can also",
    "start": "1178880",
    "end": "1184400"
  },
  {
    "text": "obtain um Can can also combine the results of a",
    "start": "1184400",
    "end": "1190320"
  },
  {
    "text": "parallel jrun so R JFR on on the jvm um",
    "start": "1190320",
    "end": "1197240"
  },
  {
    "text": "and combines in this with its own sample so you get the best of both so you get",
    "start": "1197240",
    "end": "1202720"
  },
  {
    "text": "the sampling from Asing Prof which has some minor advantages um and you get all",
    "start": "1202720",
    "end": "1209640"
  },
  {
    "text": "the events and all the other things from from jdk flight recorder and you can",
    "start": "1209640",
    "end": "1214880"
  },
  {
    "text": "also attach it you can also later attach um Asing profer to your jvm for example",
    "start": "1214880",
    "end": "1222360"
  },
  {
    "text": "by using um my uh by using the profile s h uh script that's already present in",
    "start": "1222360",
    "end": "1229720"
  },
  {
    "text": "the Asing profile project or by using the Asing profile loader which is a w",
    "start": "1229720",
    "end": "1236320"
  },
  {
    "text": "around um all the Asing profile functionality and which is also platform",
    "start": "1236320",
    "end": "1242080"
  },
  {
    "text": "independent more less supports the platform that Asing profile supports",
    "start": "1242080",
    "end": "1247720"
  },
  {
    "text": "Asing profile has many features for example um many events can trigger sampling like locks perf events um",
    "start": "1247720",
    "end": "1256039"
  },
  {
    "text": "method so it can do some instrumentation um and it's also edable especially via",
    "start": "1256039",
    "end": "1261240"
  },
  {
    "text": "my AP loader project and it's table because it's also",
    "start": "1261240",
    "end": "1267440"
  },
  {
    "text": "open source like all s them showing and it it's just a relatively small call",
    "start": "1267440",
    "end": "1273320"
  },
  {
    "text": "base if you want to know more I would really recommend you um to look into the",
    "start": "1273320",
    "end": "1279320"
  },
  {
    "text": "Asing profile manual by use cases by Kristof",
    "start": "1279320",
    "end": "1284559"
  },
  {
    "text": "slaski which tells you a lot more and then there's also as I said besides",
    "start": "1284559",
    "end": "1289720"
  },
  {
    "text": "using profile the built in um jdk way to profile so jdk flight",
    "start": "1289720",
    "end": "1296039"
  },
  {
    "text": "recorder so you also just pass to your Java application to your Java call um",
    "start": "1296039",
    "end": "1304080"
  },
  {
    "text": "the option start flight recording and tell where to store it in older versions",
    "start": "1304080",
    "end": "1309520"
  },
  {
    "text": "till Java 11 you till jdk 11 you ALS or 12 you also had to pass the flight",
    "start": "1309520",
    "end": "1315840"
  },
  {
    "text": "recaller option and then you also want to pass the debu on save",
    "start": "1315840",
    "end": "1321360"
  },
  {
    "text": "points option because um usually or commonly there isn't any um there isn't",
    "start": "1321360",
    "end": "1329120"
  },
  {
    "text": "that much debug information between two save points so for for to get to",
    "start": "1329120",
    "end": "1335039"
  },
  {
    "text": "specific locations where cently at um doing sampling and so you have to enable",
    "start": "1335039",
    "end": "1340600"
  },
  {
    "text": "it but it doesn't have any performance impact um so just turn it on that's that's",
    "start": "1340600",
    "end": "1349200"
  },
  {
    "text": "usually a good idea if you someone if you um want to profile",
    "start": "1349200",
    "end": "1356679"
  },
  {
    "text": "um application and there's also the option",
    "start": "1356679",
    "end": "1361919"
  },
  {
    "text": "to use J command to start and stop um your the flight record on a remote",
    "start": "1361919",
    "end": "1369520"
  },
  {
    "text": "machine or on a machine where you only get the the uh the P the process ID for",
    "start": "1369520",
    "end": "1378960"
  },
  {
    "text": "I don't have to start at the beginning um some of its features are that it's built into the jdk so",
    "start": "1378960",
    "end": "1387559"
  },
  {
    "text": "it's more stable than Asing profile usually um it works on all platforms so",
    "start": "1387559",
    "end": "1393440"
  },
  {
    "text": "also Windows which um as think profile doesn't support and it also works on all CPU architectures and it um has lots of",
    "start": "1393440",
    "end": "1402840"
  },
  {
    "text": "events so you get events on garbage collection on class loading and can even um add new events um so you can add your",
    "start": "1402840",
    "end": "1411960"
  },
  {
    "text": "custom events um and there are so many events like over 120 that they created a",
    "start": "1411960",
    "end": "1417799"
  },
  {
    "text": "website which which you find under Submachine aoji events where you can see all the",
    "start": "1417799",
    "end": "1424640"
  },
  {
    "text": "events and see all their properties some examples the descriptions if there are",
    "start": "1424640",
    "end": "1430679"
  },
  {
    "text": "any um and you see in which JV jdk versions it's",
    "start": "1430679",
    "end": "1436880"
  },
  {
    "text": "supported so um JFR also supports custom events",
    "start": "1436880",
    "end": "1442880"
  },
  {
    "text": "and these are quite cool so consider you write a Fibonacci server for your new",
    "start": "1442880",
    "end": "1448520"
  },
  {
    "text": "MAF as a service server um where you just have",
    "start": "1448520",
    "end": "1454559"
  },
  {
    "text": "um uh an API uh FIP in which is you pass n and",
    "start": "1454559",
    "end": "1462120"
  },
  {
    "text": "you and it returns you the end Fibonacci number so um we then would probably want",
    "start": "1462120",
    "end": "1469120"
  },
  {
    "text": "to have some kind of session event um to see",
    "start": "1469120",
    "end": "1474880"
  },
  {
    "text": "um to record um which end is passed in in every session and so we can do this",
    "start": "1474880",
    "end": "1482240"
  },
  {
    "text": "um by creating a class session event which extends the jdk JFR event",
    "start": "1482240",
    "end": "1489320"
  },
  {
    "text": "class and has some properties and also the Constructor that I'm not Shing here but when you then want to use it you",
    "start": "1489320",
    "end": "1496520"
  },
  {
    "text": "just create a new session event object and then call event begin when you want",
    "start": "1496520",
    "end": "1502960"
  },
  {
    "text": "the event to start um and then you your stuff that we will be doing like in a",
    "start": "1502960",
    "end": "1509279"
  },
  {
    "text": "Handler for the Fibonacci API and then we can call Api and then we can call",
    "start": "1509279",
    "end": "1516159"
  },
  {
    "text": "event commit um to start the event and so we then have an event that with a",
    "start": "1516159",
    "end": "1522600"
  },
  {
    "text": "specific length or time duration and we can",
    "start": "1522600",
    "end": "1528840"
  },
  {
    "text": "and and it then St it's then stored in the J aile and the cool thing is that we can um view these events in all uis that",
    "start": "1528840",
    "end": "1539120"
  },
  {
    "text": "support jfi events um and so for example",
    "start": "1539120",
    "end": "1544640"
  },
  {
    "text": "in this year we can see that one session event for the",
    "start": "1544640",
    "end": "1550720"
  },
  {
    "text": "37s fi number took like um 67 milliseconds we can also see it in and",
    "start": "1550720",
    "end": "1558039"
  },
  {
    "text": "other JFR viewers and to that um you can inspect the profile so yeah I've shown",
    "start": "1558039",
    "end": "1565360"
  },
  {
    "start": "1561000",
    "end": "1845000"
  },
  {
    "text": "you two tools already I'm now going more into depths um there are different ways",
    "start": "1565360",
    "end": "1571120"
  },
  {
    "text": "to view it for one there's the flame go they shown you in the beginning and the real tool would um output something like",
    "start": "1571120",
    "end": "1577520"
  },
  {
    "text": "this for the um Fibonacci Ser example um and there are also other tools that like",
    "start": "1577520",
    "end": "1584559"
  },
  {
    "text": "rep this for example this is by Kristof SL key um you can go to his skup account",
    "start": "1584559",
    "end": "1592159"
  },
  {
    "text": "and see this tool and also probably linked in the manual by use cases for",
    "start": "1592159",
    "end": "1597520"
  },
  {
    "text": "the Asing profile um and Flame crafts are quite simple to use um you don't",
    "start": "1597520",
    "end": "1605880"
  },
  {
    "text": "have that much interactivity and you don't also have that much ways to configure it so it's quite simple but it",
    "start": "1605880",
    "end": "1612919"
  },
  {
    "text": "usually helps quite a lot and there's um there are also larger tools and one is",
    "start": "1612919",
    "end": "1620440"
  },
  {
    "text": "called jdk mission control which I shown you before which is the UI for jdk",
    "start": "1620440",
    "end": "1626240"
  },
  {
    "text": "flight recorder and when you open it um for when you open a file in it you see",
    "start": "1626240",
    "end": "1632799"
  },
  {
    "text": "some kind of automated analysis for example some some analysis of the memory",
    "start": "1632799",
    "end": "1639399"
  },
  {
    "text": "consumption then you get some method profiling information some flame CS some information on the memory allocations",
    "start": "1639399",
    "end": "1646720"
  },
  {
    "text": "the garbage and on the garbage collection um and I started um around",
    "start": "1646720",
    "end": "1653240"
  },
  {
    "text": "half year ago um to write a Java Jr profile pluging for intellig which is",
    "start": "1653240",
    "end": "1660559"
  },
  {
    "text": "still a prototype um which can be used to view JFR files um and to start JFR",
    "start": "1660559",
    "end": "1667720"
  },
  {
    "text": "profiling in your IDE it's currently only supported for intellig but I'm",
    "start": "1667720",
    "end": "1673679"
  },
  {
    "text": "hoping to work on a vs code version too it's based on the Firefox profile UI um",
    "start": "1673679",
    "end": "1680279"
  },
  {
    "text": "some of you might have used it in the um in Firefox to view some profiles Ste so",
    "start": "1680279",
    "end": "1687640"
  },
  {
    "text": "you can just install it from the check prints Marketplace um and please do I'm",
    "start": "1687640",
    "end": "1692799"
  },
  {
    "text": "happy for some some feedback uh you can then when you have installed it right click on on any main method on these",
    "start": "1692799",
    "end": "1701519"
  },
  {
    "text": "errors and say um profile me this with JFR or with using profile",
    "start": "1701519",
    "end": "1708519"
  },
  {
    "text": "and yeah it runs it as a profile um you can run all run configurations as a",
    "start": "1708519",
    "end": "1715919"
  },
  {
    "text": "profile and also open arbitrary Jr files um here you see you see some timelines",
    "start": "1715919",
    "end": "1722799"
  },
  {
    "text": "you see the method tree the call tree and when you then uh click on the method you can jump",
    "start": "1722799",
    "end": "1730960"
  },
  {
    "text": "back to your IDE so have IDE integration and and when you shift double click on a",
    "start": "1730960",
    "end": "1736519"
  },
  {
    "text": "method you have a a source called you below so you can see where",
    "start": "1736519",
    "end": "1744039"
  },
  {
    "text": "um where all the samples are for example we see in this examples",
    "start": "1744039",
    "end": "1750159"
  },
  {
    "text": "136 uh samples contain this this FIP line on the top of the call phas then it",
    "start": "1750159",
    "end": "1758399"
  },
  {
    "text": "also has flame CL of course and you can view all the events directly and get",
    "start": "1758399",
    "end": "1764159"
  },
  {
    "text": "some information on all jfi events so after seeing how you can inspect all",
    "start": "1764159",
    "end": "1772279"
  },
  {
    "text": "this and how to obtain um profiles what you probably also want to know what the",
    "start": "1772279",
    "end": "1777960"
  },
  {
    "text": "impact on your performance is and the impact of your performance",
    "start": "1777960",
    "end": "1783360"
  },
  {
    "text": "is is small enough probably for most settings so settings so Jr in its most",
    "start": "1783360",
    "end": "1790200"
  },
  {
    "text": "reduced setting where it's like for for monitoring has an overhead of typically",
    "start": "1790200",
    "end": "1795679"
  },
  {
    "text": "lower than 2% in a Benchmark or an experiment that I did it was between 0",
    "start": "1795679",
    "end": "1801080"
  },
  {
    "text": "to 5% when you turn on the profile in configuration which um obtains more",
    "start": "1801080",
    "end": "1808519"
  },
  {
    "text": "events but not all but but more and has a um higher and has a smaller sampling",
    "start": "1808519",
    "end": "1815240"
  },
  {
    "text": "interval you can overhead between 1 to 8% in my um experiment and typically",
    "start": "1815240",
    "end": "1821000"
  },
  {
    "text": "below 5% with using profile you're getting overheads typically lower than",
    "start": "1821000",
    "end": "1826399"
  },
  {
    "text": "2% and when you turn on Jr snc I found nohead between 3 to 10% so when you're",
    "start": "1826399",
    "end": "1834640"
  },
  {
    "text": "combining asnc profile results with Jr with JR using the Jr sync option of asnc",
    "start": "1834640",
    "end": "1841399"
  },
  {
    "text": "profile so it should be typically usable for for most applications but take profiles with a",
    "start": "1841399",
    "end": "1848679"
  },
  {
    "start": "1845000",
    "end": "2010000"
  },
  {
    "text": "grain of salt profiles are just applications also written in some code um and they have the same problems as as",
    "start": "1848679",
    "end": "1856440"
  },
  {
    "text": "many applications patients they like sufficient tests in in some areas um",
    "start": "1856440",
    "end": "1863279"
  },
  {
    "text": "also reges testing is quite hard",
    "start": "1863279",
    "end": "1868559"
  },
  {
    "text": "so please have this in mind when you're like trusting your profile um there",
    "start": "1868559",
    "end": "1875320"
  },
  {
    "text": "might be some bucks within if you find one please please please um open an",
    "start": "1875320",
    "end": "1880440"
  },
  {
    "text": "issue and a Java back tracker um this would be really great so we and or I can",
    "start": "1880440",
    "end": "1887440"
  },
  {
    "text": "can fix it um because uh that's what I'm doing um in in joing b",
    "start": "1887440",
    "end": "1896159"
  },
  {
    "text": "um so um for example here a bug um that I found a few weeks back um which has a",
    "start": "1896159",
    "end": "1904600"
  },
  {
    "text": "really nice and small read producer um here you have a main class and in the main method of the main class it calls",
    "start": "1904600",
    "end": "1912000"
  },
  {
    "text": "its method test and the test method calls another method called Java Loop and the Java Loop method is just simple",
    "start": "1912000",
    "end": "1919240"
  },
  {
    "text": "endless loop um and what we would expect in a",
    "start": "1919240",
    "end": "1924760"
  },
  {
    "text": "flame CRA is to see on top the javel loop most of the time because it's an endless loop it Ms a long time and then",
    "start": "1924760",
    "end": "1933320"
  },
  {
    "text": "we should see test and then we should see some internal reflection stuff and",
    "start": "1933320",
    "end": "1939519"
  },
  {
    "text": "on the bottom the main function but problem is profilers stumble so so I",
    "start": "1939519",
    "end": "1946159"
  },
  {
    "text": "think profiler the thing that the IPI do profile uses",
    "start": "1946159",
    "end": "1951480"
  },
  {
    "text": "and also JFR stumble um after the first reflection call so",
    "start": "1951480",
    "end": "1958519"
  },
  {
    "text": "in and this this back surface after reflection c um changed",
    "start": "1958519",
    "end": "1964880"
  },
  {
    "text": "um and it's quite problematic because um it's a back that could have easily be",
    "start": "1964880",
    "end": "1970880"
  },
  {
    "text": "found but it wasn't this is not really real worth thing because",
    "start": "1970880",
    "end": "1977600"
  },
  {
    "text": "in the real world it's it's a bit harder to reproduce um because it depends on a",
    "start": "1977600",
    "end": "1983320"
  },
  {
    "text": "few conditions for example here depends on test being probably interpret but",
    "start": "1983320",
    "end": "1989679"
  },
  {
    "text": "problem is that's hard to to find and it was just by chance that I found it um",
    "start": "1989679",
    "end": "1995200"
  },
  {
    "text": "and so please when you're seeing a profile and something isn't really",
    "start": "1995200",
    "end": "2000279"
  },
  {
    "text": "correct like to see here then it's probably a buck in the profile um so",
    "start": "2000279",
    "end": "2005679"
  },
  {
    "text": "please report it um and to work better with this um you",
    "start": "2005679",
    "end": "2011519"
  },
  {
    "start": "2010000",
    "end": "2167000"
  },
  {
    "text": "should use a experimentation technique um and I borrowed this from like",
    "start": "2011519",
    "end": "2018679"
  },
  {
    "text": "computer science from the science part of computer science um and I call the",
    "start": "2018679",
    "end": "2024399"
  },
  {
    "text": "profiling glp first when we start profiling we want to have a mental model yes it could be rough but we should have",
    "start": "2024399",
    "end": "2031240"
  },
  {
    "text": "at least some idea of the architecture of the program and also we should know",
    "start": "2031240",
    "end": "2038600"
  },
  {
    "text": "like the the large libraries at least we should know what they are and maybe know",
    "start": "2038600",
    "end": "2044320"
  },
  {
    "text": "bit on them so for large liability that your your program or your application uses then you use your model to to",
    "start": "2044320",
    "end": "2051398"
  },
  {
    "text": "formal to to to create your hypothesis in so for example in my introduction",
    "start": "2051399",
    "end": "2058878"
  },
  {
    "text": "example my hypothesis was okay um probably the method that the client",
    "start": "2058879",
    "end": "2066599"
  },
  {
    "text": "called remotely like this hey this this API that tests the client do you have a question and what",
    "start": "2066599",
    "end": "2074280"
  },
  {
    "text": "is it that's probably too slow and so that that fits probably in my mental",
    "start": "2074280",
    "end": "2081280"
  },
  {
    "text": "model is not I have to update the mental model so I can formight the hypothesis in and then with the hypothesis I go",
    "start": "2081280",
    "end": "2088638"
  },
  {
    "text": "into the evaluation and the evaluation means to write some test code um to do some profiling to all this and",
    "start": "2088639",
    "end": "2097440"
  },
  {
    "text": "then with the evaluation you can either update your hesis like make",
    "start": "2097440",
    "end": "2103720"
  },
  {
    "text": "it um make it more concrete so for example in my example the hypothesis is",
    "start": "2103720",
    "end": "2111359"
  },
  {
    "text": "then um the that it's slow um that this whole Jason powering is so slow and",
    "start": "2111359",
    "end": "2118119"
  },
  {
    "text": "that's this is a bad idea just the new hypothesis I evaluate okay this this is",
    "start": "2118119",
    "end": "2123280"
  },
  {
    "text": "the problem and then might fix it and then the hypothesis is okay now it's working and then I'm back to evaluation",
    "start": "2123280",
    "end": "2130000"
  },
  {
    "text": "that tells me okay yeah that's probably working and also you can use the evaluation to update your um mental",
    "start": "2130000",
    "end": "2136880"
  },
  {
    "text": "model and this also helps you when the um profiling has some internal problems",
    "start": "2136880",
    "end": "2144839"
  },
  {
    "text": "when you might encounter Buck because you still have your mental model and your hypothesis and when the",
    "start": "2144839",
    "end": "2151560"
  },
  {
    "text": "evolation um isn't valid in your mental model and either your mental model is is",
    "start": "2151560",
    "end": "2158040"
  },
  {
    "text": "incorrect that's kind of the normal case or there might also be the cases that",
    "start": "2158040",
    "end": "2163359"
  },
  {
    "text": "you um evolation is just wrong but then",
    "start": "2163359",
    "end": "2168400"
  },
  {
    "start": "2167000",
    "end": "2243000"
  },
  {
    "text": "besides um keep in mind the profiles aren't Ro science as I sh you so um you",
    "start": "2168400",
    "end": "2175400"
  },
  {
    "text": "can even write your own so um uh you can even write your own basic Asing profile",
    "start": "2175400",
    "end": "2181480"
  },
  {
    "text": "clown that's just doing like the simple um sampling in like 3 days or three",
    "start": "2181480",
    "end": "2187400"
  },
  {
    "text": "afternoons even um if you want to know more I have a Blog series on it called",
    "start": "2187400",
    "end": "2193119"
  },
  {
    "text": "writing a profile from scratch W right to profile from scratch so I think",
    "start": "2193119",
    "end": "2199880"
  },
  {
    "text": "to go back to the beginning the profiling is um that profiling",
    "start": "2199880",
    "end": "2205319"
  },
  {
    "text": "techniques are good in your toolbox live debugging and testing and it is really important to to have",
    "start": "2205319",
    "end": "2213440"
  },
  {
    "text": "tools for this to know some tools and I would will recommend to try out Asing",
    "start": "2213440",
    "end": "2218599"
  },
  {
    "text": "profile reading Asing profile my nearby use cases and looking into jamesc and",
    "start": "2218599",
    "end": "2226200"
  },
  {
    "text": "JFR so thanks for being with me and",
    "start": "2226200",
    "end": "2232880"
  },
  {
    "text": "goodbye",
    "start": "2242480",
    "end": "2245480"
  }
]