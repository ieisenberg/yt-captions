[
  {
    "text": "okay so good evening everyone um my name is Ron munit I'm the founder of the PSG and nubo and um I'd like to welcome you",
    "start": "7640",
    "end": "16400"
  },
  {
    "text": "to an introduction to R cooking for the x86 architecture it's kind of a primary",
    "start": "16400",
    "end": "23680"
  },
  {
    "text": "course so it's a one onone course and uh it's going to have two sections one of them is going to be more introductive",
    "start": "23680",
    "end": "30640"
  },
  {
    "text": "the second one is going to be more Hands-On and as I explained you previously then uh at the end of this",
    "start": "30640",
    "end": "36680"
  },
  {
    "text": "class you'll be able to uh actually take the source code which I'm showing here",
    "start": "36680",
    "end": "41879"
  },
  {
    "text": "and uh just Fork it and repeat the exact",
    "start": "41879",
    "end": "47079"
  },
  {
    "text": "same steps listed in this presentation and build your own room for",
    "start": "47079",
    "end": "52640"
  },
  {
    "text": "qmu so basically what we're going to talk about is obviously I'm going to talk about a little bit about your",
    "start": "52640",
    "end": "58000"
  },
  {
    "text": "background and about my background and Android which I suppose most of you know",
    "start": "58000",
    "end": "63079"
  },
  {
    "text": "now I'm going to take a little dive into embedded build systems and this is obviously the bed Linux conference and",
    "start": "63079",
    "end": "69600"
  },
  {
    "text": "Android Builder Summit so I suppose most of you are familiar with the concepts there and then I'm going to talk about",
    "start": "69600",
    "end": "74880"
  },
  {
    "text": "the various x86 project there are a couple of them um one of them is dominated by Intel the other one is an",
    "start": "74880",
    "end": "81920"
  },
  {
    "text": "open source project I'm a member of it's called android8 6.org and of course there is the vanilla Android itself and",
    "start": "81920",
    "end": "89320"
  },
  {
    "text": "there are some other Forks but these are the major Forks that there are and then we're going to take a little break and",
    "start": "89320",
    "end": "95159"
  },
  {
    "text": "have the second uh section so before we start I just want to know a couple of things about you guys so who's using",
    "start": "95159",
    "end": "102360"
  },
  {
    "text": "Android as a device okay that makes about half and",
    "start": "102360",
    "end": "107719"
  },
  {
    "text": "who's using a custom ROM on their Android device that makes it a little less than",
    "start": "107719",
    "end": "115240"
  },
  {
    "text": "a half good um those who raised their hand did you build your own r",
    "start": "115240",
    "end": "121439"
  },
  {
    "text": "maybe okay I see a ning okay that would be one so I'm going to talk a little bit",
    "start": "121439",
    "end": "127439"
  },
  {
    "text": "about ROM concept and just one last question who's done embedded Linux",
    "start": "127439",
    "end": "133720"
  },
  {
    "text": "development okay that's almost everyone so I'll I'll stick more into the endroid part and skip the embedded stuff okay so",
    "start": "133720",
    "end": "141560"
  },
  {
    "text": "a little bit about myself so I'm a Linux guy I've been doing Linux for the last",
    "start": "141560",
    "end": "146800"
  },
  {
    "text": "decade and beyond that and uh I've dealt a lot with a avionic systems and not",
    "start": "146800",
    "end": "153920"
  },
  {
    "text": "only Linux also hard real time systems then I did some video routers and in the last couple of years over five years",
    "start": "153920",
    "end": "160480"
  },
  {
    "text": "I've done a lot of Consulting and helping people usually startups to do",
    "start": "160480",
    "end": "165879"
  },
  {
    "text": "board bring UPS so my last Company the company I founded nubo it does actually",
    "start": "165879",
    "end": "171560"
  },
  {
    "text": "a remote display protocol for Android it's targeted toward the Enterprise it helps to solve the Enterprise Mobility",
    "start": "171560",
    "end": "177760"
  },
  {
    "text": "problems and um I also around the pscg which is a premium software consultancy",
    "start": "177760",
    "end": "183280"
  },
  {
    "text": "group um in which we help people to do board design board bring ups and uh we",
    "start": "183280",
    "end": "189799"
  },
  {
    "text": "do also some training I also teach H at the new Circle we do um a lot of cool",
    "start": "189799",
    "end": "195159"
  },
  {
    "text": "stuff a lot of Android development Linux development and Android internal courses",
    "start": "195159",
    "end": "200360"
  },
  {
    "text": "and I'm a senior lecturer at aeka College of Engineering in Tel Aviv so I do a lot of stuff I try to do it well",
    "start": "200360",
    "end": "207280"
  },
  {
    "text": "but I most of all I consider myself as a guy and as a teacher um I do a lot of",
    "start": "207280",
    "end": "212799"
  },
  {
    "text": "teaching it's a privilege I hope you learn a lot here so Android most of you",
    "start": "212799",
    "end": "218840"
  },
  {
    "text": "know what it is it is an operating system so I'll just sum up like 12 years of History I'll try to make them in",
    "start": "218840",
    "end": "225640"
  },
  {
    "text": "under than than one minute sorry so but the story of fand",
    "start": "225640",
    "end": "230959"
  },
  {
    "text": "starts in 2002 where Paige and Brien attend a session right over the block um",
    "start": "230959",
    "end": "238000"
  },
  {
    "text": "they see um they see the CEO of danger back then Andy Rubin presenting the",
    "start": "238000",
    "end": "243439"
  },
  {
    "text": "first internet phone which is called sidekick they love it they start using it and the Fone doesn't really meet a",
    "start": "243439",
    "end": "249319"
  },
  {
    "text": "commercial success a couple of years later these guys acquire a company called Android which nobody knew",
    "start": "249319",
    "end": "257160"
  },
  {
    "text": "anything about it at the time and N years later there doesn't exist a single",
    "start": "257160",
    "end": "262520"
  },
  {
    "text": "Un human being in displ who doesn't know what Android is so basically in 2007",
    "start": "262520",
    "end": "268199"
  },
  {
    "text": "Google started the first develop challenge it was at total price of $10 million and then Android be started ging",
    "start": "268199",
    "end": "275520"
  },
  {
    "text": "popularity 2008 there was the first Android phone out on the market and in",
    "start": "275520",
    "end": "280639"
  },
  {
    "text": "2010 it was the first time that Android market share actually exceeded the one of Apple in 2011 and there was the most",
    "start": "280639",
    "end": "288919"
  },
  {
    "text": "terrible operating system ever which was called honeycomb it wasn't even open sourced only partially something like a",
    "start": "288919",
    "end": "294960"
  },
  {
    "text": "year or two after that but on the very same year there was the bigger and",
    "start": "294960",
    "end": "300120"
  },
  {
    "text": "better brother of uh this honeycom which was Ice Cream Sandwich where Google first made a unified operating system",
    "start": "300120",
    "end": "307400"
  },
  {
    "text": "for both tablets and um cellular phones and then in the subsequent years in 2012",
    "start": "307400",
    "end": "314800"
  },
  {
    "text": "Google improved the UI significantly with Project Butter and Jelly Bean 2013 KitKat the first commercial brand H came",
    "start": "314800",
    "end": "322720"
  },
  {
    "text": "out to the market and right now in 2014 in the future you can see an ever increasing number of devices of",
    "start": "322720",
    "end": "329720"
  },
  {
    "text": "manufacturers the devices are powerful and there are a lot of apps and there",
    "start": "329720",
    "end": "334880"
  },
  {
    "text": "are a lot of h moders a lot of platform Builders if anyone of you were in the",
    "start": "334880",
    "end": "340520"
  },
  {
    "text": "Mobile World Congress a couple of months ago then you'd see like any any quantity",
    "start": "340520",
    "end": "346720"
  },
  {
    "text": "of a phone manufacturer wearable manufacturers those a lot of companies you never even heard of everybody have",
    "start": "346720",
    "end": "352840"
  },
  {
    "text": "their phones and they have like a flat of phones so it's something really amazing so there is a lot of business in",
    "start": "352840",
    "end": "358960"
  },
  {
    "text": "there and and it's pretty much pretty much became like the new embedded Linux but for phones as you all know there are",
    "start": "358960",
    "end": "365120"
  },
  {
    "text": "also a lot of H Buzz around wearable devices so Android also runs on Google",
    "start": "365120",
    "end": "370319"
  },
  {
    "text": "Glass for example there there is currently something like the Google Glass mirror API which is on the Android",
    "start": "370319",
    "end": "376280"
  },
  {
    "text": "we platform but obviously it will be a fully fledged Android to some extent and",
    "start": "376280",
    "end": "381919"
  },
  {
    "text": "so on so forth so there is a lot of things you can do with Android and this is just a little bit about history so",
    "start": "381919",
    "end": "387680"
  },
  {
    "text": "when I'm talking about Android en rollan R development in general then basically",
    "start": "387680",
    "end": "394039"
  },
  {
    "text": "we're talking about an operating system a mobile operating system it has a couple of Parts one of them is what the",
    "start": "394039",
    "end": "401160"
  },
  {
    "text": "end user knows best which are applications application that each and every one of you can submit to the Play",
    "start": "401160",
    "end": "406360"
  },
  {
    "text": "Store which was formerly known as the market and some applications that may be bundled in your device Maybe by your",
    "start": "406360",
    "end": "413240"
  },
  {
    "text": "phone provider Maybe by Google themselves so basically this application",
    "start": "413240",
    "end": "418440"
  },
  {
    "text": "need some framework to run them so this is the Android operating system which is obviously unchangeable for most of the",
    "start": "418440",
    "end": "424720"
  },
  {
    "text": "users but you as device manufacturers or Rome cookers you can change that so",
    "start": "424720",
    "end": "429800"
  },
  {
    "text": "basically when talking about Android Ram we're talking about the operating system which is a fully flat Java operating",
    "start": "429800",
    "end": "435319"
  },
  {
    "text": "system that runs all these cool graphics and window management and notifications and so on obviously this Java system",
    "start": "435319",
    "end": "443560"
  },
  {
    "text": "cannot run on bare Hardware so there is like an intermediate layer which runs",
    "start": "443560",
    "end": "449080"
  },
  {
    "text": "some C libraries and C++ library and Target specific assembly code and there",
    "start": "449080",
    "end": "455240"
  },
  {
    "text": "are also a couple of run times of a Java virtual machines called the art and the delic which are also obviously",
    "start": "455240",
    "end": "461840"
  },
  {
    "text": "implemented in assembly and c and C++ and they actually execute the Java code",
    "start": "461840",
    "end": "466919"
  },
  {
    "text": "so all this Wonder runs on top of a Linux kernel which actually communicates with the hardware and so on so when I'm",
    "start": "466919",
    "end": "473759"
  },
  {
    "text": "talking about modifying a Rome or about what Rome is in general I'm talking actually about taking all this diagram",
    "start": "473759",
    "end": "480800"
  },
  {
    "text": "which is antique it no longer shows in source. and.com but it was there like for 5 years I think taking all this",
    "start": "480800",
    "end": "488759"
  },
  {
    "text": "diagram and making wonders there creating magic there so I'm going to have to talk a",
    "start": "488759",
    "end": "494800"
  },
  {
    "text": "little bit about uh what ROM is and rom cooking and so",
    "start": "494800",
    "end": "500000"
  },
  {
    "text": "basically ROM the definition of it is read only memory everybody know this um",
    "start": "500000",
    "end": "505479"
  },
  {
    "text": "another definition may be a software image of read only memory as of a game CD used in emulation for",
    "start": "505479",
    "end": "512120"
  },
  {
    "text": "example those of you who played Super Nintendo back then in the '90s OR Sega Mega Drive these cassettes with the",
    "start": "512120",
    "end": "519000"
  },
  {
    "text": "Super Mario with Sonic these were called Rome everybody knew that like Super Mario it's a Rome so there are also",
    "start": "519000",
    "end": "525760"
  },
  {
    "text": "other definitions like Wikipedia Educators and computer mathematics which I assume are",
    "start": "525760",
    "end": "532360"
  },
  {
    "text": "us then read only memory is a type of storage media that is used in computers and other electronic devices Rome image",
    "start": "532360",
    "end": "539720"
  },
  {
    "text": "a computer file which contains a copy of the data from a read only memory chip and there are some other definitions",
    "start": "539720",
    "end": "545200"
  },
  {
    "text": "like range of motion which may be relevant for robots based on Android but it's not really relevant for R cooking",
    "start": "545200",
    "end": "552079"
  },
  {
    "text": "okay so just to see we are on the same line like sanen mode educates us you can",
    "start": "552079",
    "end": "557160"
  },
  {
    "text": "flash a ROM onto the ROM which isn't really a ROM that means you can Flash that software image onto a readon memory",
    "start": "557160",
    "end": "564519"
  },
  {
    "text": "but it's not a readon memory because otherwise you wouldn't be able to flash into it in the first place",
    "start": "564519",
    "end": "570600"
  },
  {
    "text": "so just most of you know uh most of you are even experts of embedded systems so",
    "start": "570600",
    "end": "575839"
  },
  {
    "text": "I'm just going to talk about the end R part of it so basically when I'm talking about embedded software then I would",
    "start": "575839",
    "end": "582360"
  },
  {
    "text": "have a couple of components which are the build system the tools for the build system the operating system the trans",
    "start": "582360",
    "end": "588680"
  },
  {
    "text": "the build system and I would have the Target that I would want to work with for example the host may be this laptop",
    "start": "588680",
    "end": "596120"
  },
  {
    "text": "I can type a couple of commands build a tyon or l or Android or whatever and then flash it into this phone so this",
    "start": "596120",
    "end": "603760"
  },
  {
    "text": "phone would be the target device and this would be the host device so the basics h of build systems are answering",
    "start": "603760",
    "end": "611040"
  },
  {
    "text": "the question of how do I pass my stuff from the host and onto the",
    "start": "611040",
    "end": "616360"
  },
  {
    "text": "target so basically in Android you have two ways of doing this one way as every",
    "start": "616360",
    "end": "622600"
  },
  {
    "text": "application developer knows is using the Android debug Bridge the ADB the second one is actually a tool for taking all",
    "start": "622600",
    "end": "629600"
  },
  {
    "text": "the lowlevel stuff like all the diagram I showed you",
    "start": "629600",
    "end": "633839"
  },
  {
    "text": "before taking all this and on a lower level on the boot loader level just",
    "start": "634880",
    "end": "640480"
  },
  {
    "text": "flash it copy it content into the device memory so in order to do that there is",
    "start": "640480",
    "end": "646480"
  },
  {
    "text": "another tool which is called Fast Boot and both of them are a part of the Android build system of the Android",
    "start": "646480",
    "end": "653079"
  },
  {
    "text": "tools so basically when you want to build your first R you do everything you do on a any other embedded system you",
    "start": "653480",
    "end": "660399"
  },
  {
    "text": "have a build system and you have the an operating system you have the tool chains you have cross tool chains",
    "start": "660399",
    "end": "665880"
  },
  {
    "text": "because usually your target device is not the same as your host device and then you may have a source control tools",
    "start": "665880",
    "end": "672079"
  },
  {
    "text": "or whatever because this is software development even though we are sort of creating programs for Hardware it's",
    "start": "672079",
    "end": "677480"
  },
  {
    "text": "still software development so we'd have to use Source control so we do something which is called the build process like",
    "start": "677480",
    "end": "683440"
  },
  {
    "text": "taking all those source files and binary blobs and firmer maybe and packing into",
    "start": "683440",
    "end": "689800"
  },
  {
    "text": "images and these images eventually will be laid on our Hardware so since this is a build system I can choose with a",
    "start": "689800",
    "end": "696800"
  },
  {
    "text": "single host I can choose multiple configurations multiple recipes and just build for Target number one or for",
    "start": "696800",
    "end": "703480"
  },
  {
    "text": "Target number two I'll have images which are the build artifacts and that's it so",
    "start": "703480",
    "end": "709079"
  },
  {
    "text": "in Android um the tools I have the all tool chains the prequisites are as",
    "start": "709079",
    "end": "714639"
  },
  {
    "text": "follows I need to have a Linux uh based system I can also use Mac but there are",
    "start": "714639",
    "end": "721000"
  },
  {
    "text": "usually problems with the newer versions and it takes time to keep up so my recommendation is to use Linux 64 bit",
    "start": "721000",
    "end": "727399"
  },
  {
    "text": "Linux variant with a lot of cores and a lot a lot a lot of memory it's very",
    "start": "727399",
    "end": "732839"
  },
  {
    "text": "important if you have a SSD card it's even better so the other requirements are G tool chain you have to use G make",
    "start": "732839",
    "end": "740360"
  },
  {
    "text": "you must have python you must use bash as your shell you must use Oracle jdk that is very important and you can use",
    "start": "740360",
    "end": "747120"
  },
  {
    "text": "open jdk and it it even works but no one guarantees it will work and it will work only if you hack the build",
    "start": "747120",
    "end": "753279"
  },
  {
    "text": "system because there is like a check that hey am I using Oracle jdk if not boom then break the build and you also",
    "start": "753279",
    "end": "759680"
  },
  {
    "text": "have git this is the source control system and you have repo which is a very powerful git wrapper Android is a huge",
    "start": "759680",
    "end": "765480"
  },
  {
    "text": "system and huge system has a lot of components and they are being delivered",
    "start": "765480",
    "end": "771199"
  },
  {
    "text": "by different companies and in order to keep all the components aligned to the same Baseline you need some way of",
    "start": "771199",
    "end": "777399"
  },
  {
    "text": "managing them this way is really so if you want to download the source code you actually use the repo Source",
    "start": "777399",
    "end": "783720"
  },
  {
    "text": "tools so this is the host tools and in order to create this target artifact",
    "start": "783720",
    "end": "790880"
  },
  {
    "text": "what I'm going to do what you're going to do when you're going to do with a build system is to run a lunch command",
    "start": "790880",
    "end": "796800"
  },
  {
    "text": "which actually selects your run configuration I'll get to it later and apply make just a new make I can do it",
    "start": "796800",
    "end": "804160"
  },
  {
    "text": "for a first Target I can do it for a second target I will have under my directory the directory out/ Target SL",
    "start": "804160",
    "end": "810560"
  },
  {
    "text": "product/ Target name I'll have a couple of of image files which I'll elaborate",
    "start": "810560",
    "end": "816600"
  },
  {
    "text": "later and then I can take those image files like system image data recovery",
    "start": "816600",
    "end": "822760"
  },
  {
    "text": "boot and so on and apply a fast boot flash command in order to take all my",
    "start": "822760",
    "end": "829040"
  },
  {
    "text": "build artifacts all those binaries and Flash them into the hardware once I've done that then I will have H my new",
    "start": "829040",
    "end": "836399"
  },
  {
    "text": "shiny Android ROM on my target so this is the simplified way of doing it and",
    "start": "836399",
    "end": "842560"
  },
  {
    "text": "basically um I'm going to show you I'm going to show you right now the first example of flashing G not on a real H",
    "start": "842560",
    "end": "849440"
  },
  {
    "text": "Target but on the most popular Android Target which is the Android emulator just to get a sense of what we just seen",
    "start": "849440",
    "end": "856079"
  },
  {
    "text": "here so I have the pum now but I'll use it a little bit later so basically if I",
    "start": "856079",
    "end": "861959"
  },
  {
    "text": "go to to the Android um I hope you can see",
    "start": "861959",
    "end": "868040"
  },
  {
    "text": "that make it a little bit bigger so basically my Android uh Source directory",
    "start": "868040",
    "end": "874519"
  },
  {
    "text": "once I download it with this rep tool I'll talk about it later it looks like this it has several folders I'm going to",
    "start": "874519",
    "end": "881000"
  },
  {
    "text": "elaborate on the device on the device folder and on the vendor folder which is not here and I'm",
    "start": "881000",
    "end": "887639"
  },
  {
    "text": "going to find all my target artifacts in out all this magic happens because of a lot of scripts shell scripts and Python",
    "start": "887639",
    "end": "894519"
  },
  {
    "text": "scripts which are under the build folder and in order order to build my ROM I'm",
    "start": "894519",
    "end": "900560"
  },
  {
    "text": "going to do the following steps I'm going to Source a file called build M setup.sh I hope you see me",
    "start": "900560",
    "end": "907680"
  },
  {
    "text": "well and then I'm going to launch a configuration for example for the emulator it's going to be ASP x86 I can",
    "start": "907680",
    "end": "915680"
  },
  {
    "text": "choose a variant engineering user um or user debug engineering provides me root",
    "start": "915680",
    "end": "922240"
  },
  {
    "text": "accessibility and a lot of debugging tools user debug will provide me with um",
    "start": "922240",
    "end": "928160"
  },
  {
    "text": "root opt with an optional route and with a lot of debugging tools but a little less and user build will not provide me",
    "start": "928160",
    "end": "934600"
  },
  {
    "text": "with root so when I create a device as an oem I do a user build so I will do a",
    "start": "934600",
    "end": "940000"
  },
  {
    "text": "lunch then I'll do make and I won't do it now because it will take time and then at the end of the time I can run an",
    "start": "940000",
    "end": "946600"
  },
  {
    "text": "Android emulator so if I want to after I did make if it was a real device I would do something like Fast boot flash or",
    "start": "946600",
    "end": "953440"
  },
  {
    "text": "fast with flash all and then all all the contents of U my new buil ROM will be flashed into this device and the",
    "start": "953440",
    "end": "960839"
  },
  {
    "text": "emulator since it's an emulator it doesn't really have Hardware but when I boot it it will know to take the images",
    "start": "960839",
    "end": "967680"
  },
  {
    "text": "and I'll explain about it a little bit later and then it takes these images runs them within the qmu wrapper Android",
    "start": "967680",
    "end": "975440"
  },
  {
    "text": "delivered and then you'll have a fully fledged Android system so I have the boot animation and in a couple of",
    "start": "975440",
    "end": "981240"
  },
  {
    "text": "seconds I'll also have um the system itself so this is a room",
    "start": "981240",
    "end": "986279"
  },
  {
    "text": "that I built myself obviously and uh we can see that it's an Android and we can",
    "start": "986279",
    "end": "992360"
  },
  {
    "text": "see that it's a kit cat so let's just be sure about it and rid version so KitKat",
    "start": "992360",
    "end": "999519"
  },
  {
    "text": "and everybody's happy so this is the first example of using the build",
    "start": "999519",
    "end": "1004720"
  },
  {
    "text": "system yeah is this running is this build for arm or x86 this is a build for",
    "start": "1004720",
    "end": "1010000"
  },
  {
    "text": "x86 and I'm going to talk about I'm I have a couple of uh slides about how to",
    "start": "1010000",
    "end": "1015920"
  },
  {
    "text": "speed up your application developer but um I'm not going to talk about it too",
    "start": "1015920",
    "end": "1021440"
  },
  {
    "text": "much so I'm just going to give the answer the answer is if you want to speed up Android development use x86",
    "start": "1021440",
    "end": "1028880"
  },
  {
    "text": "emulator I'm talking about application development use x86 emulator and use KVM",
    "start": "1028880",
    "end": "1034600"
  },
  {
    "text": "H in Linux or use a hxm which is Intel Hardware acceleration module in Linux or",
    "start": "1034600",
    "end": "1041079"
  },
  {
    "text": "in Windows or Mac so now talking about Android now I'm going to put it back",
    "start": "1041079",
    "end": "1047079"
  },
  {
    "text": "together with the embedded stuff so basically when I'm talking about Rome I",
    "start": "1047079",
    "end": "1052520"
  },
  {
    "text": "have a couple of components so the traditional memor the traditional terminology of R is whatever lies on the",
    "start": "1052520",
    "end": "1059640"
  },
  {
    "text": "internal memory of your device so basically I have a couple of very",
    "start": "1059640",
    "end": "1064880"
  },
  {
    "text": "important components which are as follows the first one is the recovery mode if things goes very bad then I want",
    "start": "1064880",
    "end": "1071039"
  },
  {
    "text": "to have some way to recover from them so for this purpose Android has delivered us with a mechanism of booting",
    "start": "1071039",
    "end": "1079440"
  },
  {
    "text": "into a Linux operating system which does recovery that's what it does so there is",
    "start": "1079440",
    "end": "1085880"
  },
  {
    "text": "there will be a partition on your device flash which will have a recovery image",
    "start": "1085880",
    "end": "1091280"
  },
  {
    "text": "which is merely a kernel and an initial Ram disk there is also another partition",
    "start": "1091280",
    "end": "1096840"
  },
  {
    "text": "which is for the operational mode this partition will have obviously a boot image and a kernel initial Ram disk by",
    "start": "1096840",
    "end": "1104159"
  },
  {
    "text": "the way the boot loader uh whatever boot loader that might be which will support fast boot if it's if it's an official if",
    "start": "1104159",
    "end": "1111280"
  },
  {
    "text": "it's a certified Android product the boot loader will obviously load the kernel and the kernel will load the",
    "start": "1111280",
    "end": "1118480"
  },
  {
    "text": "inter and we load the interd with it but what you have in the in this in the operational mode is a boot image that",
    "start": "1118480",
    "end": "1125280"
  },
  {
    "text": "once the kernel finished booting it loads it actually mounts a system partition where you have all this Java",
    "start": "1125280",
    "end": "1132799"
  },
  {
    "text": "stuff I showed you before all the operating system so here we actually have usually a couple of partitions one",
    "start": "1132799",
    "end": "1138400"
  },
  {
    "text": "of them will be the boot partition H it will usually be packed within a boot.",
    "start": "1138400",
    "end": "1143760"
  },
  {
    "text": "IMG file on your host and the second one will be a system image which will always be system. IMG on your host so this",
    "start": "1143760",
    "end": "1151200"
  },
  {
    "text": "system image if you want for example to modify an an APK or push an APK to be a",
    "start": "1151200",
    "end": "1156919"
  },
  {
    "text": "part of your home then you need to make it find its way onto the onto the system",
    "start": "1156919",
    "end": "1162200"
  },
  {
    "text": "partition there is something that everybody of you all of you must know which is over dear update you know it as",
    "start": "1162200",
    "end": "1169520"
  },
  {
    "text": "users probably and like apple or Microsoft or Google or Samsung or HTC or",
    "start": "1169520",
    "end": "1175880"
  },
  {
    "text": "whatever have that may be may tell you from time to time hey you have a system",
    "start": "1175880",
    "end": "1182080"
  },
  {
    "text": "update available do you want to do that and of course you don't want to do that because it's a waste of time but then",
    "start": "1182080",
    "end": "1188000"
  },
  {
    "text": "you say okay I'm sick of it I'm tired of it I want to get real notifications so",
    "start": "1188000",
    "end": "1193320"
  },
  {
    "text": "I'll do the system update and it did the system update the device reboots and then automatically you have a new",
    "start": "1193320",
    "end": "1198919"
  },
  {
    "text": "software so how does this happen the way that this happen is that when your",
    "start": "1198919",
    "end": "1204360"
  },
  {
    "text": "device reboots it has some sort of statee keeping so this statek keeping actually is being done on a nonvolatile",
    "start": "1204360",
    "end": "1210600"
  },
  {
    "text": "partition which is the myth partition and once you reboot then there is like a transition from the operational mode to",
    "start": "1210600",
    "end": "1217039"
  },
  {
    "text": "recovery mode and vice versa and this is all being kept within a nonvolatile partition with is the MK what is not a",
    "start": "1217039",
    "end": "1223520"
  },
  {
    "text": "part of the ROM everything that you can write for to so for example the data",
    "start": "1223520",
    "end": "1228720"
  },
  {
    "text": "partition wherever you save your application data or wherever you say you save the application you download from",
    "start": "1228720",
    "end": "1234360"
  },
  {
    "text": "the play store or the cach the Del cash or whatever you write to to external cash directory as an application",
    "start": "1234360",
    "end": "1240520"
  },
  {
    "text": "developer or so on this is not a part of the room the external SD card is also not a part of the Rome although in",
    "start": "1240520",
    "end": "1247240"
  },
  {
    "text": "KitKat a lot of people uh May argue with that if you are active at the Android",
    "start": "1247240",
    "end": "1252440"
  },
  {
    "text": "Builders or Android platform Google group then you'd know that everybody complain about the new SD card mechanism",
    "start": "1252440",
    "end": "1258640"
  },
  {
    "text": "because they can't write to regins they used to be able to write to and that breaks a lot of applications which is",
    "start": "1258640",
    "end": "1264559"
  },
  {
    "text": "actually great because it's a this is the way it should be I mean no one should have a",
    "start": "1264559",
    "end": "1271120"
  },
  {
    "text": "unprivileged access to to the SD card so the SD card the data and the cash are",
    "start": "1271120",
    "end": "1276159"
  },
  {
    "text": "not a part of the R so when I talk about the Android R storage layout then I have the following",
    "start": "1276159",
    "end": "1282760"
  },
  {
    "text": "components first of all it's important to know that Android in its Essence is Linux so I can examine its contents with",
    "start": "1282760",
    "end": "1288840"
  },
  {
    "text": "Linux tools so if I do a DF to check out my partition I will see a Dev which is",
    "start": "1288840",
    "end": "1293960"
  },
  {
    "text": "the dev file system obviously I'll see a couple of Mount secure R CB which I'll get to in a second I'll see system cache",
    "start": "1293960",
    "end": "1301080"
  },
  {
    "text": "and data directories which are the Rome directory for the system cach and data which are writable and I see Mount shell",
    "start": "1301080",
    "end": "1307600"
  },
  {
    "text": "emulated which is an Fus um um file system for the SD card I can also",
    "start": "1307600",
    "end": "1314120"
  },
  {
    "text": "examine the Android R storage layout via the mount command so if I do Mount",
    "start": "1314120",
    "end": "1319279"
  },
  {
    "text": "this slide actually shows po Linux um Mount points I have a root FS I have temp FS I have Dev pts I have Pro File",
    "start": "1319279",
    "end": "1326559"
  },
  {
    "text": "system CFS and debugfs obviously you have that in any Linux distribution unless you don't want to enable debugfs",
    "start": "1326559",
    "end": "1333559"
  },
  {
    "text": "for example on the other hand you also have a couple of other components which are",
    "start": "1333559",
    "end": "1338799"
  },
  {
    "text": "mon secure and ASAC and obb which have to do with secure and Android containers and with obb the some sort of",
    "start": "1338799",
    "end": "1345919"
  },
  {
    "text": "application pack binary blobs it extends apks and so on you have C group a",
    "start": "1345919",
    "end": "1353400"
  },
  {
    "text": "mounted at ACC and cgroup mounted at stash Dev CPU control which are Android",
    "start": "1353400",
    "end": "1358840"
  },
  {
    "text": "way of doing scheduling Android has to do scheduling in order to ensure that uh",
    "start": "1358840",
    "end": "1364279"
  },
  {
    "text": "the application that its UI is in the front gets the most attention so it uses obviously Linux scheduling with some",
    "start": "1364279",
    "end": "1370760"
  },
  {
    "text": "other um trickery stuff and then you have a couple of cryptic stuff that we as a bettered Linux developers love so",
    "start": "1370760",
    "end": "1377600"
  },
  {
    "text": "you have Dev block platform blah blah blah blah blah in this case it's a Tigra it's a Tigra 3 on a on a grouper in an",
    "start": "1377600",
    "end": "1384720"
  },
  {
    "text": "Nexus 7 device and then you'll see that it's by name app is Mount as a system and it's ext4 you also see that for",
    "start": "1384720",
    "end": "1392440"
  },
  {
    "text": "cache you also see that for data and you also see over there and F use a mount point which is Mount sh emulator which",
    "start": "1392440",
    "end": "1398880"
  },
  {
    "text": "is the SD card so this is just to show like the DF and the amount uh output of",
    "start": "1398880",
    "end": "1405919"
  },
  {
    "text": "um any Android machine so now when I you want to build your own device then comes",
    "start": "1405919",
    "end": "1410960"
  },
  {
    "text": "the question of uh okay so I know I need to have these partitions Android uses",
    "start": "1410960",
    "end": "1416039"
  },
  {
    "text": "them every Android device uses them why because I told you so no why because that's the way Android is planned so",
    "start": "1416039",
    "end": "1421679"
  },
  {
    "text": "basically when you do a board bring up you need to actually know where to put it with within the partitions so in this",
    "start": "1421679",
    "end": "1428360"
  },
  {
    "text": "example for example um Nvidia provided a Tigra",
    "start": "1428360",
    "end": "1434759"
  },
  {
    "text": "3 system on chip and it has an nmc block which is divided into nine partitions MC",
    "start": "1435159",
    "end": "1442279"
  },
  {
    "text": "block 0 P1 until MC block 0 P9 obviously it doesn't say anything to anyone so if",
    "start": "1442279",
    "end": "1449000"
  },
  {
    "text": "I have something like that and I need to do some recovery or some system update or I need to plan or even need to copy",
    "start": "1449000",
    "end": "1454720"
  },
  {
    "text": "the design from some other manufacturer okay I want to do reverse engineer learn what they do and do the same then how",
    "start": "1454720",
    "end": "1462159"
  },
  {
    "text": "would I be able to match this to uh to the partition Android needs like system and so on so basically in this case and",
    "start": "1462159",
    "end": "1469679"
  },
  {
    "text": "Nvidia was kind enough to provide symbolic link under the SDHC 3 by name",
    "start": "1469679",
    "end": "1476720"
  },
  {
    "text": "and it tells me that app points to MC block 0 P3 and that anix which is the boot points to partition two and so on",
    "start": "1476720",
    "end": "1483480"
  },
  {
    "text": "and so forth another way I'd be able to do that is to look at the Block size for",
    "start": "1483480",
    "end": "1488559"
  },
  {
    "text": "example this is 6 65 600 665,000",
    "start": "1488559",
    "end": "1495080"
  },
  {
    "text": "blocks and I can see when I do a DF that the system is 639 megabytes so it kind",
    "start": "1495080",
    "end": "1502039"
  },
  {
    "text": "of makes sense they kind of line up and I can say Okay so this might be the system block so what I can do with this",
    "start": "1502039",
    "end": "1508520"
  },
  {
    "text": "actually is just take a partition if I have enabl to it and dis dump the",
    "start": "1508520",
    "end": "1513559"
  },
  {
    "text": "contents of some image file right onto it and then I replace my Rome immediately I don't need to know",
    "start": "1513559",
    "end": "1518640"
  },
  {
    "text": "anything about software I just need to know how to access this partition be able to flash to it and that's it so I",
    "start": "1518640",
    "end": "1524960"
  },
  {
    "text": "can just replace block by block and this is effective and a r",
    "start": "1524960",
    "end": "1531720"
  },
  {
    "text": "overriding so basically this usually BS a lot of people especially when it's an",
    "start": "1531720",
    "end": "1537240"
  },
  {
    "text": "Android developer conference H and not an embed Linux conference as this one",
    "start": "1537240",
    "end": "1542840"
  },
  {
    "text": "but uh I always talk about it because it's a m these are the basic blocks of everything so why should we care about",
    "start": "1542840",
    "end": "1549799"
  },
  {
    "text": "it so for a couple of reasons actually one of them would be backup if I want to back up my stuff just I can just dis",
    "start": "1549799",
    "end": "1556120"
  },
  {
    "text": "dump the partition into a file and then add a backup forever if I want to do recovery same thing if I want to plan",
    "start": "1556120",
    "end": "1563640"
  },
  {
    "text": "software updates if I'm an engineer want to design a software update mechanism there's no way around it I must know how",
    "start": "1563640",
    "end": "1569480"
  },
  {
    "text": "to deal where the how the partition layout is and so on if I want to handle",
    "start": "1569480",
    "end": "1575440"
  },
  {
    "text": "with trusted boot which right now not too many companies deal with but I'm",
    "start": "1575440",
    "end": "1580679"
  },
  {
    "text": "pretty sure that every company will deal with that and that will be a problem for RO modelers but if I want to work with a",
    "start": "1580679",
    "end": "1587279"
  },
  {
    "text": "trusted Boot and I to verify my uh boot chain then I would have to know the partition layout if I want to do error",
    "start": "1587279",
    "end": "1593960"
  },
  {
    "text": "checking and obviously if I want to do board design which I do a lot and I consult a lot about it it's super",
    "start": "1593960",
    "end": "1599559"
  },
  {
    "text": "important and the most important reason would be curiosity which is the most important reason for everything so",
    "start": "1599559",
    "end": "1605240"
  },
  {
    "text": "that's about the Android and its partition layout and basically now we can actually talk about",
    "start": "1605240",
    "end": "1611480"
  },
  {
    "text": "the software itself which will be a little lighter so the Android open",
    "start": "1611480",
    "end": "1616600"
  },
  {
    "text": "source project is a semi open source project in terms that it is maintained by Google and you as Engineers don't",
    "start": "1616600",
    "end": "1623080"
  },
  {
    "text": "really have any any point in decision making and you just get what Google",
    "start": "1623080",
    "end": "1628480"
  },
  {
    "text": "provides you when they decide to to get a new flagship product to Market and",
    "start": "1628480",
    "end": "1634520"
  },
  {
    "text": "then you have access to all code you can suggest some back fixes via Garrett and",
    "start": "1634520",
    "end": "1639960"
  },
  {
    "text": "uh that's it more or less um so you get access to the code but you don't get access to all of it um the nice thing",
    "start": "1639960",
    "end": "1647520"
  },
  {
    "text": "about getting ACC to the code is especially if you are an oem that partner with Google you can get the",
    "start": "1647520",
    "end": "1653080"
  },
  {
    "text": "access ahead of time in order for example LG when they're working on the Nexus 5 or Nexus 4 then they were",
    "start": "1653080",
    "end": "1658720"
  },
  {
    "text": "working with Google so they had all the access ahead of time and this Android build system even if you don't work with",
    "start": "1658720",
    "end": "1664720"
  },
  {
    "text": "Google it provides you all the templates to build your own um Hardware you can",
    "start": "1664720",
    "end": "1670880"
  },
  {
    "text": "you can derive templates for building the bsp you can derive templates for hooking up your blob your firmware and",
    "start": "1670880",
    "end": "1677000"
  },
  {
    "text": "so on so forth if you are a curacy engineer who just want to use this AOSP",
    "start": "1677000",
    "end": "1682720"
  },
  {
    "text": "this open source project for Google devices for the Nexus devices then for the couple of FL Nexus devices beginning",
    "start": "1682720",
    "end": "1689799"
  },
  {
    "text": "with Nexus 4 I think then Google provide you the entire build system with all the binaries within the source code so it's",
    "start": "1689799",
    "end": "1696640"
  },
  {
    "text": "pretty convenient and that would be the first point I go to after I learned how to build for an emulator I take a Google",
    "start": "1696640",
    "end": "1703640"
  },
  {
    "text": "device like an Nexus 4 or Nexus 5 or Nexus 10 I go to the ASP build the",
    "start": "1703640",
    "end": "1709679"
  },
  {
    "text": "matching configuration flash it burn a couple of times and then after I've",
    "start": "1709679",
    "end": "1715320"
  },
  {
    "text": "broken a device or two then i' say okay I cooked my own room so basically if I you just want to",
    "start": "1715320",
    "end": "1721760"
  },
  {
    "text": "go and do what I just said you're going to do the following you're going to go to source.android.com and do whatever",
    "start": "1721760",
    "end": "1727559"
  },
  {
    "text": "they say that as simple as that I'll say a little bit of what they say that which is setting up a 64 Linux development",
    "start": "1727559",
    "end": "1733919"
  },
  {
    "text": "machine and if you I don't see a reason why you want to build anything under J",
    "start": "1733919",
    "end": "1738960"
  },
  {
    "text": "Jelly Bean 4.2.1 but you might so unless you don't want to do that then you use",
    "start": "1738960",
    "end": "1744559"
  },
  {
    "text": "BTU 1204 or higher this is the officially supported version but other",
    "start": "1744559",
    "end": "1750519"
  },
  {
    "text": "to work and sentos works and you know it's just if something doesn't work then",
    "start": "1750519",
    "end": "1756519"
  },
  {
    "text": "uh Google somebody else probably was frustrated enough to try and solve a build system problems before you so once",
    "start": "1756519",
    "end": "1763519"
  },
  {
    "text": "you've done that you create a directory you apply a repo in it which initializes",
    "start": "1763519",
    "end": "1768799"
  },
  {
    "text": "the branch for um all the git code that will be downloaded and then you eat rep",
    "start": "1768799",
    "end": "1774120"
  },
  {
    "text": "sync which takes a lot of git project and just Clon them then you Source build and setup.sh launch and make which is",
    "start": "1774120",
    "end": "1781960"
  },
  {
    "text": "what I did uh before with the ulator and at the end of it you can Flash it or",
    "start": "1781960",
    "end": "1787000"
  },
  {
    "text": "just run emulator and so on so basically if you have a Google device and what you",
    "start": "1787000",
    "end": "1792159"
  },
  {
    "text": "want to do is to go to the device while it's up do ADB reboot boot loader it it",
    "start": "1792159",
    "end": "1798120"
  },
  {
    "text": "will load the boot loader it run to the bootloader and not to the fully fledged graphical system and then youd want to",
    "start": "1798120",
    "end": "1804720"
  },
  {
    "text": "at the first time you would do that you'd want to do fast boot OEM unlock before that you'd want to back up all your data because the moment you unlock",
    "start": "1804720",
    "end": "1812480"
  },
  {
    "text": "your device then it wipes all the data this is some sort of a protection and",
    "start": "1812480",
    "end": "1818279"
  },
  {
    "text": "don't forget it I did the first couple of times I did I consistently forgot it",
    "start": "1818279",
    "end": "1824320"
  },
  {
    "text": "and I was sorry because I had pictures on the phone but uh it happens so basically you do that it will give",
    "start": "1824320",
    "end": "1830240"
  },
  {
    "text": "you this okay so do are you sure you want to do that are you really sure you want to do this and of course you're",
    "start": "1830240",
    "end": "1835519"
  },
  {
    "text": "sure you want to do that because we always press yes very positive and that's all so once you've done that you",
    "start": "1835519",
    "end": "1840720"
  },
  {
    "text": "can flash your own ROMs and when you do that you should be aware that a lot of",
    "start": "1840720",
    "end": "1846360"
  },
  {
    "text": "times most of your Hardware components will not work this is because um everything in the system require binary",
    "start": "1846360",
    "end": "1854279"
  },
  {
    "text": "blobs for example from for your GPU for graphic graphics processor for your",
    "start": "1854279",
    "end": "1859320"
  },
  {
    "text": "Wi-Fi for a Bluetooth for a GPS for your CDMA GSM whatever that is so you need to",
    "start": "1859320",
    "end": "1865360"
  },
  {
    "text": "obtain the binary blobs first in order to know what binary blobs you need there will be a file under a device vendor",
    "start": "1865360",
    "end": "1872360"
  },
  {
    "text": "name product H which is called binary blobs and so actually it might be under device",
    "start": "1872360",
    "end": "1879480"
  },
  {
    "text": "and it might be under vendor and this file is a textual file that will say hey this is what you have on a device and uh",
    "start": "1879480",
    "end": "1886639"
  },
  {
    "text": "that's it so this is is a pretty long topic and I will be happy to cover it a",
    "start": "1886639",
    "end": "1893200"
  },
  {
    "text": "little bit more later but uh there is something which is extremely important",
    "start": "1893200",
    "end": "1898360"
  },
  {
    "text": "for me which is all the kernel stuff so most of the people who customize R don't",
    "start": "1898360",
    "end": "1904000"
  },
  {
    "text": "ever need to deal with a kernel but if you're going to build your own x86 build",
    "start": "1904000",
    "end": "1910519"
  },
  {
    "text": "your your own x86 device you're going to have to modify the kernel because when",
    "start": "1910519",
    "end": "1915679"
  },
  {
    "text": "you build your own device you have your own Hardware and there is absolutely no way of going around it without modifying",
    "start": "1915679",
    "end": "1922559"
  },
  {
    "text": "the kernel so basically um Android also did a pretty good job in helping you",
    "start": "1922559",
    "end": "1929000"
  },
  {
    "text": "engineers and it pretty much um it pretty much added a kernel templates and",
    "start": "1929000",
    "end": "1935559"
  },
  {
    "text": "it cooperates with a lot of vendors and you can just go",
    "start": "1935559",
    "end": "1940919"
  },
  {
    "text": "to android. gooogle source.com targetname and clone this target so",
    "start": "1940919",
    "end": "1946600"
  },
  {
    "text": "common Target names are the common Target which is the reference uh board",
    "start": "1946600",
    "end": "1951639"
  },
  {
    "text": "100% that if you use common on a device it will not work but all devices make modification to this tree you have MSM",
    "start": "1951639",
    "end": "1958679"
  },
  {
    "text": "which is for Qualcomm omap which is for TI which have been out of the market for a year or so they stopped manufacturing",
    "start": "1958679",
    "end": "1965039"
  },
  {
    "text": "mobile chips and you have trra which is NVIDIA axos which is Samsung and then you have goldfish which is a designated",
    "start": "1965039",
    "end": "1971360"
  },
  {
    "text": "kernel doesn't for the Android emulator so basically H I'm going to talk about",
    "start": "1971360",
    "end": "1977399"
  },
  {
    "text": "it uh in a couple of slides because it's a",
    "start": "1977399",
    "end": "1982559"
  },
  {
    "text": "very important concept about the Android uh engineering Concepts so I'm going to",
    "start": "1982559",
    "end": "1989360"
  },
  {
    "text": "talk about very old stuff from a couple of years ago and then I'm going to talk about the the picture the upto-date",
    "start": "1989360",
    "end": "1994960"
  },
  {
    "text": "picture so basically up until last year until 4.2 the Goldfish kernel which uses",
    "start": "1994960",
    "end": "2001480"
  },
  {
    "text": "the Android emulator was 2. 6.29 the 2629 Cel I think it was out",
    "start": "2001480",
    "end": "2008240"
  },
  {
    "text": "like five years ago maybe even more I don't I'm not sure and it's antique okay",
    "start": "2008240",
    "end": "2015080"
  },
  {
    "text": "but the nice thing about it is that even if you use it now that goldfish kernel that every under distribution from",
    "start": "2015080",
    "end": "2021279"
  },
  {
    "text": "eclair and even from donut until kit cut would work perfectly with it it would",
    "start": "2021279",
    "end": "2027279"
  },
  {
    "text": "work perfectly maybe I'm not sure whether it has support for SC Linux which is important for KitKat so that",
    "start": "2027279",
    "end": "2033039"
  },
  {
    "text": "may be a reason not to use a goldfish anymore a 2629 anymore but basically it",
    "start": "2033039",
    "end": "2038880"
  },
  {
    "text": "will work without any distribution and that's a very nice thing about Android the system and the kernel are reasonably",
    "start": "2038880",
    "end": "2045159"
  },
  {
    "text": "decoupled and the nice thing about an emulator in contrary to a device is that it's just an emulator anyway and you",
    "start": "2045159",
    "end": "2051919"
  },
  {
    "text": "know if it does what it has to do and it's if it ain't broken then don't fix it it's a waste of time and those of you",
    "start": "2051919",
    "end": "2059398"
  },
  {
    "text": "who may have tried to hack um the vanilla kernel and so hey there is a",
    "start": "2059399",
    "end": "2065240"
  },
  {
    "text": "goldfish content so that uh the the vanill kernel have a very broken goldfish content so uh somebody just",
    "start": "2065240",
    "end": "2072200"
  },
  {
    "text": "delivered it without ever checking and it's complicated I've done a couple of",
    "start": "2072200",
    "end": "2077638"
  },
  {
    "text": "uh hacks to that a couple of years ago and uh if you really need some sort of a",
    "start": "2077639",
    "end": "2082839"
  },
  {
    "text": "goldfish kernel which is for more up to- dat kernel just contact me and I'd be happy to help you so basically um the",
    "start": "2082839",
    "end": "2092480"
  },
  {
    "text": "the nice thing about Android kernels is that ever since the vanilla kernel 3.4",
    "start": "2092480",
    "end": "2099359"
  },
  {
    "text": "most of the Android stuff is within the kernel in the staging area and just a",
    "start": "2099359",
    "end": "2105040"
  },
  {
    "text": "little bit of history and Android and the konel guys didn't really agree about",
    "start": "2105040",
    "end": "2110079"
  },
  {
    "text": "almost anything so the Android konel and the vanilla konel were completely different stuff so every time you wanted",
    "start": "2110079",
    "end": "2116920"
  },
  {
    "text": "like to upgrade your um your own H device to use a particular Android",
    "start": "2116920",
    "end": "2123960"
  },
  {
    "text": "kernel version or a particular vanilla kernel version version then You' have to do Patches from here to there it's a lot",
    "start": "2123960",
    "end": "2130440"
  },
  {
    "text": "of time it's a headache you get glasses your eyes are ruined it's a nightmare",
    "start": "2130440",
    "end": "2135680"
  },
  {
    "text": "it's a lot of work with patch and nobody likes that uh the nice thing about the 3.4 kernel and the current kernels is",
    "start": "2135680",
    "end": "2142640"
  },
  {
    "text": "that you can just enable staging area and then you'll probably be all set with",
    "start": "2142640",
    "end": "2148400"
  },
  {
    "text": "um without even patching anything this can be very very very convenient and in",
    "start": "2148400",
    "end": "2154200"
  },
  {
    "text": "the case of x86 product youd usually not even need um any Android based kernel",
    "start": "2154200",
    "end": "2161640"
  },
  {
    "text": "you have the Intel the Android I kernels and you have the Android x86 orgel I'm",
    "start": "2161640",
    "end": "2167040"
  },
  {
    "text": "going to talk about this project later but that pretty much gets you done if you want to build an Android um emulator",
    "start": "2167040",
    "end": "2174440"
  },
  {
    "text": "kernel a goldfish kernel then I recommend to have a look at the external qmu distri build kernel. sh script at",
    "start": "2174440",
    "end": "2181880"
  },
  {
    "text": "the Android open source project because there are a lot of um GCC wrapper that",
    "start": "2181880",
    "end": "2187200"
  },
  {
    "text": "has to be set and this pretty much solves them all so basically when talking about",
    "start": "2187200",
    "end": "2192839"
  },
  {
    "text": "vanilla kernels and I'm going to talk about it in the context of running Android on",
    "start": "2192839",
    "end": "2198440"
  },
  {
    "text": "qmu then this is a very serious topic because when you need to work with the",
    "start": "2198440",
    "end": "2204240"
  },
  {
    "text": "specific devices really not to know what you do and one of the things that breaks",
    "start": "2204240",
    "end": "2209400"
  },
  {
    "text": "most of and distributions at least um on the initial on the initial bringup phase",
    "start": "2209400",
    "end": "2214680"
  },
  {
    "text": "is the graphic acceleration graphic acceleration a very hard topic and when we did we did we dealt a lot with it in",
    "start": "2214680",
    "end": "2222359"
  },
  {
    "text": "the Android X8 6.org project even on very standard Intel I 915 chipset it's",
    "start": "2222359",
    "end": "2229280"
  },
  {
    "text": "always a nightmare but once H it's very hard to get it um done and usually with",
    "start": "2229280",
    "end": "2234319"
  },
  {
    "text": "virtual machines like qmu virtual box VMware and the likes there is no good um",
    "start": "2234319",
    "end": "2241240"
  },
  {
    "text": "graphic acceleration support so it's not even worse the headache and the pain of getting into it so when I'm going to",
    "start": "2241240",
    "end": "2248200"
  },
  {
    "text": "talk to you about these kernels I'm just going to use the vessa drivers and uh",
    "start": "2248200",
    "end": "2253920"
  },
  {
    "text": "not do anything related to DRM drri graphic acceleration so basically if you want",
    "start": "2253920",
    "end": "2260119"
  },
  {
    "text": "Yeah question you're referring to the graphic acceleration within",
    "start": "2260119",
    "end": "2265359"
  },
  {
    "text": "the H I'm talking about both this is always a headache because when you have a Target Hardware then you need actually",
    "start": "2267920",
    "end": "2273359"
  },
  {
    "text": "to be able to build the firmware and the matching components on the Android parts",
    "start": "2273359",
    "end": "2280000"
  },
  {
    "text": "and the firmware usually would be the problem and you need to debug it if you are the hardware vendor then it's much",
    "start": "2280000",
    "end": "2285520"
  },
  {
    "text": "easier for you if you are some guy trying to modify Android and you have no",
    "start": "2285520",
    "end": "2291119"
  },
  {
    "text": "you don't really know like what was changed from other versions then you need to work with some it's a headache",
    "start": "2291119",
    "end": "2296960"
  },
  {
    "text": "it's a nightmare but on the virtual machines itself usually virtual machines they lack support for graphic",
    "start": "2296960",
    "end": "2302400"
  },
  {
    "text": "acceleration and even if they do have support then it's very problematic so this is very this is a painful uh topic",
    "start": "2302400",
    "end": "2310800"
  },
  {
    "text": "and actually the Mesa guys did a did fantastic work on it but um so there is",
    "start": "2310800",
    "end": "2317839"
  },
  {
    "text": "some sort of support for VMware and for virtual box too but it's always a mess I",
    "start": "2317839",
    "end": "2323520"
  },
  {
    "text": "mean if it's just a virtual machine anyway I'd recommend not to really just to bypass all the hardware acceleration",
    "start": "2323520",
    "end": "2329520"
  },
  {
    "text": "stuff unless you really really really need it and U most chances is that you don't because if you when you build a",
    "start": "2329520",
    "end": "2336319"
  },
  {
    "text": "device then you want to check the hardware on the hardware itself not on virtual machine so basically if you want to make",
    "start": "2336319",
    "end": "2343160"
  },
  {
    "text": "a kernel for such a virtual machine based on qmu I'm not going to get too much into it because it's a lot of",
    "start": "2343160",
    "end": "2348839"
  },
  {
    "text": "material and I want to also show you stuff so basically what you need to do is first of all enable config staging",
    "start": "2348839",
    "end": "2355960"
  },
  {
    "text": "area without staging area you have nothing of Android absolutely nothing then you need to also select like your",
    "start": "2355960",
    "end": "2362599"
  },
  {
    "text": "target architecture and if you want to use an x86 U which as I said is much",
    "start": "2362599",
    "end": "2368200"
  },
  {
    "text": "faster because if you run an x86 host then you won't have to emulate arm which",
    "start": "2368200",
    "end": "2373319"
  },
  {
    "text": "takes a lot of cycles and it's very slow then you select your architecture you pretty much search for everything in",
    "start": "2373319",
    "end": "2379839"
  },
  {
    "text": "Android which says Android in the kernel config and very important you enable Vero drivers because Kimu would usually",
    "start": "2379839",
    "end": "2387319"
  },
  {
    "text": "use Vero so you need to enable the PCI you need to enable Vero block and you need to enable a couple of other blocks",
    "start": "2387319",
    "end": "2394240"
  },
  {
    "text": "obviously you have like options in qmu itself it can use some Vero options you can decide not to use some Vero option",
    "start": "2394240",
    "end": "2401359"
  },
  {
    "text": "but this is the general guideline this is the ru Thum very important is to enable frame buffer configurations and",
    "start": "2401359",
    "end": "2407920"
  },
  {
    "text": "vesa configurations in order to tell Android hey you work with frame buffer it don't work with DRM we don't you",
    "start": "2407920",
    "end": "2413440"
  },
  {
    "text": "don't work with a hardware acceleration with the rendering model and a very",
    "start": "2413440",
    "end": "2418720"
  },
  {
    "text": "important tip is that at first part you tell the kernel command line qmu equals",
    "start": "2418720",
    "end": "2424839"
  },
  {
    "text": "1 Android itself as a hack for the Android emulator among other stuff that",
    "start": "2424839",
    "end": "2430560"
  },
  {
    "text": "says hey I'm running in qmu mode so just know that when it knows that it can",
    "start": "2430560",
    "end": "2435880"
  },
  {
    "text": "render open G operator operations with the software open renderer and so",
    "start": "2435880",
    "end": "2442000"
  },
  {
    "text": "on so basically um there are a couple of other things that you need to know about",
    "start": "2442000",
    "end": "2448520"
  },
  {
    "text": "modifying kernel and I'm going to go very fast about it um you have you also",
    "start": "2448520",
    "end": "2454040"
  },
  {
    "text": "have like the design decision for the storage you can decide what file",
    "start": "2454040",
    "end": "2460400"
  },
  {
    "text": "system you want to use so up in the older goldfish kernel",
    "start": "2460400",
    "end": "2465560"
  },
  {
    "text": "6.29 then Android used some sort of Ys yet another flash file system too so it",
    "start": "2465560",
    "end": "2472640"
  },
  {
    "text": "was based on it was it worked with MTD and when you try to see out you'd see that you have an MTD block Da Block MTD",
    "start": "2472640",
    "end": "2479680"
  },
  {
    "text": "block blah blah blah blah blah and then you have a system data and cache partition on the newer goldfish kernel",
    "start": "2479680",
    "end": "2485000"
  },
  {
    "text": "it's actually ext4 sorry it's actually xt4 and um for a reason I don't really",
    "start": "2485000",
    "end": "2492240"
  },
  {
    "text": "understand because it makes no sense it still uses MTD probably remainder from the other kernel so the point about it",
    "start": "2492240",
    "end": "2500599"
  },
  {
    "text": "is that you can really choose what file system layout you want to work with like",
    "start": "2500599",
    "end": "2506079"
  },
  {
    "text": "what F system s you want to work with if I wanted to do it with a custom vanilla",
    "start": "2506079",
    "end": "2511359"
  },
  {
    "text": "kernel then I probably as as I done I probably just say okay I don't really need to use MTD see I want to attach if",
    "start": "2511359",
    "end": "2518640"
  },
  {
    "text": "I have qmu and I want to attach an external hard disk then I want to attach this hard disk as a block device and",
    "start": "2518640",
    "end": "2524319"
  },
  {
    "text": "that's what I'm going to do in the next session so when I actually look at it and here I have a lot of other stuff and",
    "start": "2524319",
    "end": "2530400"
  },
  {
    "text": "uh like uh all the CFS groups c groups that se Linux that I like using and so",
    "start": "2530400",
    "end": "2536839"
  },
  {
    "text": "on so forth when I want to attach it I just attach a Dev block SDA system and I",
    "start": "2536839",
    "end": "2542480"
  },
  {
    "text": "mount it as an EXT for partition and that's it that's a regular kernel",
    "start": "2542480",
    "end": "2547640"
  },
  {
    "text": "and uh I don't really need MTD for that so basically I already showed you",
    "start": "2547640",
    "end": "2553119"
  },
  {
    "text": "how uh the build process was uh for KitKat with a build and set up launch",
    "start": "2553119",
    "end": "2558319"
  },
  {
    "text": "and a launching the emulator so this has been the built process for all emulators",
    "start": "2558319",
    "end": "2564319"
  },
  {
    "text": "actually and ever since the beginning of time or or less and even for Jelly Bean and it's always the same you can see for",
    "start": "2564319",
    "end": "2571119"
  },
  {
    "text": "your so when using the ulator I already said this tip but uh it's very important",
    "start": "2571119",
    "end": "2576440"
  },
  {
    "text": "to use um CPU Hardware acceleration I mean if you can use Hardware components do that",
    "start": "2576440",
    "end": "2584000"
  },
  {
    "text": "in Linux it's by using the KVM in other platform but using Intel Hardware acceleration module another important",
    "start": "2584000",
    "end": "2590880"
  },
  {
    "text": "tip is to enable keyboard if you just launch and make then on the default USB",
    "start": "2590880",
    "end": "2595960"
  },
  {
    "text": "config you will not have Hardware keyboard so you'll have to go and just click on the soft keyboard and you won't",
    "start": "2595960",
    "end": "2601200"
  },
  {
    "text": "be able to work with that I mean you will but it's it's a it's tedious so you",
    "start": "2601200",
    "end": "2606440"
  },
  {
    "text": "can actually do by editing the external qmu Android avd Hardware properties in",
    "start": "2606440",
    "end": "2613400"
  },
  {
    "text": "file and then rebuild only external qmu building Android takes a lot of time",
    "start": "2613400",
    "end": "2618720"
  },
  {
    "text": "building the Android emulator itself the qmu wrapper is immediate you you get you",
    "start": "2618720",
    "end": "2625000"
  },
  {
    "text": "you finish it with less than a minute there are other x86 configuration",
    "start": "2625000",
    "end": "2630040"
  },
  {
    "text": "straight of the AOSP for example for um virtual box which is always broken",
    "start": "2630040",
    "end": "2636319"
  },
  {
    "text": "actually it's a miracle to have it working out of the USP and you can actually build an SDK for other",
    "start": "2636319",
    "end": "2643119"
  },
  {
    "text": "platforms like building an SDK for Windows you can do it by launching SDK and make win SDK and then you'll have a",
    "start": "2643119",
    "end": "2650079"
  },
  {
    "text": "zip file with the SDK that you can give to your windows developer for example if you want to make customiz the use case",
    "start": "2650079",
    "end": "2656920"
  },
  {
    "text": "is as follows if you want to create some hardware and you also want to create software for this Hardware like",
    "start": "2656920",
    "end": "2662000"
  },
  {
    "text": "applications like APK then in this case um probably you'd have a couple of things and every team would use whatever",
    "start": "2662000",
    "end": "2668680"
  },
  {
    "text": "works best for them like Mac or Windows or Linux or whatever so in order if you make customizations then you'd want to",
    "start": "2668680",
    "end": "2674839"
  },
  {
    "text": "just give them the SDK itself and so you make an SDK for Windows and everybody can work with their own emulator which",
    "start": "2674839",
    "end": "2681160"
  },
  {
    "text": "are customized so this is a very convenient um basically what we're going",
    "start": "2681160",
    "end": "2687480"
  },
  {
    "text": "to do in the next session and we're going to adjust a little bit thep for KVM um and the motivation for it is if",
    "start": "2687480",
    "end": "2694480"
  },
  {
    "text": "you want to make your own Hardware then uh first you want to bring up the operating",
    "start": "2694480",
    "end": "2699520"
  },
  {
    "text": "system itself the parts that are not that do not concern the hardware itself you want to bring it on a virtual machine you want to verify um basic",
    "start": "2699520",
    "end": "2707000"
  },
  {
    "text": "functionality then your Hardware team will presumably work on the hardware itself and then when H it's time for",
    "start": "2707000",
    "end": "2714160"
  },
  {
    "text": "integration you one doesn't have to wait for the other you just integrate it don't reinvent everything so basically",
    "start": "2714160",
    "end": "2721240"
  },
  {
    "text": "in order to do that you just use the emulator images just as I showed before",
    "start": "2721240",
    "end": "2726760"
  },
  {
    "text": "and you mount ext4 you take care of SD cards which is very important in KitKat because without SD card for example the",
    "start": "2726760",
    "end": "2733960"
  },
  {
    "text": "camera will not work and the browser will not work either so you do that and",
    "start": "2733960",
    "end": "2739599"
  },
  {
    "text": "um that's it pretty much so um a couple of things about Android",
    "start": "2739599",
    "end": "2746640"
  },
  {
    "text": "projects so there is thep I talked about it right now and there are a couple of other projects build systems one of them",
    "start": "2746640",
    "end": "2753480"
  },
  {
    "text": "is the Android x86 .org project you can check it out at android. X6 and another",
    "start": "2753480",
    "end": "2759599"
  },
  {
    "text": "one is Android IIA there are other many other Forks like sanen mode which I mentioned like Android VM bbid and many",
    "start": "2759599",
    "end": "2767000"
  },
  {
    "text": "others which are too numerous to name and special slides always goes to sound",
    "start": "2767000",
    "end": "2773480"
  },
  {
    "text": "gen mode because they're amazing this is a this is pretty much the most popular",
    "start": "2773480",
    "end": "2779559"
  },
  {
    "text": "aftermarket um R distribution they do they actually provide R for dozens of",
    "start": "2779559",
    "end": "2786480"
  },
  {
    "text": "uh Dev devices and they deserve all the credit so if you want to build a Rome for your own device and it's not a Nexus",
    "start": "2786480",
    "end": "2793520"
  },
  {
    "text": "a Google device then I strongly recommend to go to sound agent mode and check what they offer unless it's an x86",
    "start": "2793520",
    "end": "2800440"
  },
  {
    "text": "device which is a different story so now I'm going to we're going to",
    "start": "2800440",
    "end": "2805599"
  },
  {
    "text": "have to take a break in a couple of minutes but I think if you're okay with it I think I'm going to skip the break",
    "start": "2805599",
    "end": "2811079"
  },
  {
    "text": "okay or just make it shorter so a couple of things about x86 projects so the",
    "start": "2811079",
    "end": "2817319"
  },
  {
    "text": "interesting fact is that the first X x86 project was not even by the Android open",
    "start": "2817319",
    "end": "2823240"
  },
  {
    "text": "source project itself but it was by Android",
    "start": "2823240",
    "end": "2828640"
  },
  {
    "text": "x86.exe 6 in 2012 Intel came up with their",
    "start": "2836000",
    "end": "2841839"
  },
  {
    "text": "Android IIA product and I'm going to talk a little bit about the advantages and",
    "start": "2841839",
    "end": "2847760"
  },
  {
    "text": "disadvantages of all of them so basically the AOSP itself is the common reference for all of them it provides",
    "start": "2847760",
    "end": "2853760"
  },
  {
    "text": "the Android emulator based on qmu which I just mentioned it works on anyos it supports multiple architectures um but",
    "start": "2853760",
    "end": "2861400"
  },
  {
    "text": "it's very slow on the arm or myths ones uh it performs terribly if you run under",
    "start": "2861400",
    "end": "2866760"
  },
  {
    "text": "a virtual machine because nested virtualization is a a very hard topic um",
    "start": "2866760",
    "end": "2872800"
  },
  {
    "text": "it has no installer so you can't use it as a standalone and uh the kernel is",
    "start": "2872800",
    "end": "2877880"
  },
  {
    "text": "relatively old most of the time so but it's okay because it's an emulator for better and worse Android x86 is a pure",
    "start": "2877880",
    "end": "2885000"
  },
  {
    "text": "open source project it was developed by open source Community it's very friendly for Linux developers it's easier to",
    "start": "2885000",
    "end": "2892720"
  },
  {
    "text": "debug stuff to debug the init process and so on and so forth it supports many Intel and AMD devices it's very friendly",
    "start": "2892720",
    "end": "2899040"
  },
  {
    "text": "to Virtual machines and it's a mature recognized and stable but since it's an",
    "start": "2899040",
    "end": "2904160"
  },
  {
    "text": "open source project which is being done voluntarily then it need developers so",
    "start": "2904160",
    "end": "2909599"
  },
  {
    "text": "if any of you want to help either as a tester or as a developer you can contact",
    "start": "2909599",
    "end": "2915079"
  },
  {
    "text": "me you can contact the community this would be great we do very nice work and",
    "start": "2915079",
    "end": "2921119"
  },
  {
    "text": "a lot of people love it so just join on board um Android IIA so this is a very",
    "start": "2921119",
    "end": "2929240"
  },
  {
    "text": "interesting project and it's very interesting because it's pretty much got out of control in terms of schedules H",
    "start": "2929240",
    "end": "2937319"
  },
  {
    "text": "in terms that it got out in 2012 and when it got out it was a it was just the",
    "start": "2937319",
    "end": "2942640"
  },
  {
    "text": "start so it was it could be better it got excellent in a couple of months and",
    "start": "2942640",
    "end": "2948000"
  },
  {
    "text": "then last year then Intel just stopped working on it it stopped updating it around the Jelly Bean 4.2 and then um",
    "start": "2948000",
    "end": "2956599"
  },
  {
    "text": "actually work on it res resumed only on kitat which was last month so the nice",
    "start": "2956599",
    "end": "2963160"
  },
  {
    "text": "thing about it is that it works amazingly on a Intel devices on the",
    "start": "2963160",
    "end": "2968559"
  },
  {
    "text": "newest Intel processors it uses relatively new kernel",
    "start": "2968559",
    "end": "2973799"
  },
  {
    "text": "versions when Intel actually work on it it has an integrated um ethernet patch",
    "start": "2973799",
    "end": "2979599"
  },
  {
    "text": "um which is something I appreciate very much because I worked on it on the Android x86",
    "start": "2979599",
    "end": "2985319"
  },
  {
    "text": "project but um obviously it only works for Intel devices because Intel do it",
    "start": "2985319",
    "end": "2992520"
  },
  {
    "text": "and uh there is also a very big problem if you want to install it alongside with other operating system system like the multibot it then it just doesn't work I",
    "start": "2992520",
    "end": "3000520"
  },
  {
    "text": "mean if you just try to install it it will wipe all your data off so this is something that uh you need to know what",
    "start": "3000520",
    "end": "3007400"
  },
  {
    "text": "to do when dealing with that you need to take the risk H Community work is okay",
    "start": "3007400",
    "end": "3012680"
  },
  {
    "text": "and it could be better but it's still governed by Intel and so you can't like take decisions for everyone and Intel",
    "start": "3012680",
    "end": "3019920"
  },
  {
    "text": "forms are not really based on it but I heard there is a merge but I'm not working for it so I can't",
    "start": "3019920",
    "end": "3025640"
  },
  {
    "text": "say basically um you know what let's take a",
    "start": "3025640",
    "end": "3031240"
  },
  {
    "text": "let's take a five minutes break okay for those who returned from The Break um I",
    "start": "3031240",
    "end": "3038000"
  },
  {
    "text": "finished the the previous section with the talking about the Android the ASP Android x86 and Android I and now I'm",
    "start": "3038000",
    "end": "3045079"
  },
  {
    "text": "going actually to compare them and uh in the next 10 or 15 minutes I'm going to devise a strategy of how to combine them",
    "start": "3045079",
    "end": "3051839"
  },
  {
    "text": "and how to multibot them so the line Foundation is the Android is Linux and",
    "start": "3051839",
    "end": "3058200"
  },
  {
    "text": "so the required minimum to run Android would be having a Linux kernel a file",
    "start": "3058200",
    "end": "3063880"
  },
  {
    "text": "system and RAM disk init Rd whatever makes you happy with init main.c when",
    "start": "3063880",
    "end": "3069240"
  },
  {
    "text": "you have like a run init script or run init executable and so on so forth so up until the init",
    "start": "3069240",
    "end": "3077040"
  },
  {
    "text": "executable or script we have a Linux kernel nothing fancy nothing special",
    "start": "3077040",
    "end": "3082440"
  },
  {
    "text": "maybe only the Android drivers but that's the kernel customization",
    "start": "3082440",
    "end": "3087480"
  },
  {
    "text": "um Android IIA on the other part um well the start is also Linux but it has some",
    "start": "3087480",
    "end": "3094440"
  },
  {
    "text": "uh Android is features so when you talk about Android IIA about the Intel part then the same rules also apply to any",
    "start": "3094440",
    "end": "3101839"
  },
  {
    "text": "standard Android and the reason I'm pointing it out is because Android x86 which I said is very Linux uh developer",
    "start": "3101839",
    "end": "3108799"
  },
  {
    "text": "friendly is completely different so Android and Android x86 would have a",
    "start": "3108799",
    "end": "3114000"
  },
  {
    "text": "couple of partitions in addition to the system partition that I mentioned earlier so it will have a boot partition",
    "start": "3114000",
    "end": "3120280"
  },
  {
    "text": "we have the K endam dis it will have a partition for cover image it will have",
    "start": "3120280",
    "end": "3125680"
  },
  {
    "text": "dismiss disc cast it will have system which is the flashed system image it will have cache partition data partition",
    "start": "3125680",
    "end": "3133040"
  },
  {
    "text": "installation definition partition which is not part of all Android but it is a part of the Intel one it will have a",
    "start": "3133040",
    "end": "3139240"
  },
  {
    "text": "bootloader partition which uh actually is um something that will take care",
    "start": "3139240",
    "end": "3145760"
  },
  {
    "text": "either of legacy boot in very old Intel Android IIA product or of gami boot or",
    "start": "3145760",
    "end": "3151480"
  },
  {
    "text": "the UEFI boot in the recent ones and it has a partition that includes the Droid",
    "start": "3151480",
    "end": "3157880"
  },
  {
    "text": "boot. image H file which implements the fast boot protocol so basically if you",
    "start": "3157880",
    "end": "3163960"
  },
  {
    "text": "want to use Android IIA at this time you must have a UEFI and supporting board",
    "start": "3163960",
    "end": "3171119"
  },
  {
    "text": "which means that you cannot use Intel unless you do some tricks which I'm going to mention in a couple of slides",
    "start": "3171119",
    "end": "3178480"
  },
  {
    "text": "with old machines uh this is a shame because very good use of Android is just",
    "start": "3178480",
    "end": "3183880"
  },
  {
    "text": "making use of very old machines which is um something that a lot of people started messing up with messing around",
    "start": "3183880",
    "end": "3191160"
  },
  {
    "text": "with Linux they started by saying hey I have this old computer I can't do nothing with it will I throw it okay",
    "start": "3191160",
    "end": "3197520"
  },
  {
    "text": "let's try to break it let's install Linux and that's how people become hacker so you can do the same with Android and U but you can do it with",
    "start": "3197520",
    "end": "3204599"
  },
  {
    "text": "Android IIA with with Android x86 actually the structure is as follows we",
    "start": "3204599",
    "end": "3209960"
  },
  {
    "text": "have one partition with two directories one of the directories May or not may be the bootloader so you can",
    "start": "3209960",
    "end": "3217400"
  },
  {
    "text": "install a an nry x36 with the left D and have a grab the Legacy grab actually",
    "start": "3217400",
    "end": "3224440"
  },
  {
    "text": "boot loader on it a second directory will contain the Android H system itself",
    "start": "3224440",
    "end": "3229839"
  },
  {
    "text": "what will it contain it will contain a kernel an initial Ram dis and another Ram dis I will explain the details of",
    "start": "3229839",
    "end": "3236160"
  },
  {
    "text": "that and the purpose later it will also include the system partition or a system directory actually you can have you can",
    "start": "3236160",
    "end": "3243240"
  },
  {
    "text": "either have a system squash FS or or image or whatever or ext4 image ext3",
    "start": "3243240",
    "end": "3249160"
  },
  {
    "text": "image or so on and a data folder or squash FS or a image so this structure",
    "start": "3249160",
    "end": "3256599"
  },
  {
    "text": "makes it actually very easy to work in thebug because you can just take any of these components copy another component",
    "start": "3256599",
    "end": "3263920"
  },
  {
    "text": "to it on file system reboot and as long as grab or your other boot loader points to it you can just work with",
    "start": "3263920",
    "end": "3270880"
  },
  {
    "text": "that so when Android IIA and when Android um actually boot they do the",
    "start": "3270880",
    "end": "3276119"
  },
  {
    "text": "following sequence once the boot loader started the combined kernel and RAM disk which is a on the boot image or the boot",
    "start": "3276119",
    "end": "3283240"
  },
  {
    "text": "partition in Android IIA then at the end of the current initialization the init script runs from the ram disk then file",
    "start": "3283240",
    "end": "3289799"
  },
  {
    "text": "system mounted in the Android way and the Android way says that running init script it has to read some init RC files",
    "start": "3289799",
    "end": "3298920"
  },
  {
    "text": "it's a little different than system V in it um but it's also it has a syntax it has a language and once it does that",
    "start": "3298920",
    "end": "3305680"
  },
  {
    "text": "what it once it reads the once it reads the in C it passes it then it knows how",
    "start": "3305680",
    "end": "3312079"
  },
  {
    "text": "to mount the system partition and what services to run and then it runs the surface flinger and other Graphics",
    "start": "3312079",
    "end": "3318440"
  },
  {
    "text": "services and so on so forth and that is how Android comes up okay people are returning from the break that's good and",
    "start": "3318440",
    "end": "3325599"
  },
  {
    "text": "on the other end Android x 86 is doing something which I am a huge fan of and",
    "start": "3325599",
    "end": "3332640"
  },
  {
    "text": "it's called change rout that's the old concept of Android x86 and that's why in my opinion it's so developer friendly or",
    "start": "3332640",
    "end": "3340520"
  },
  {
    "text": "genius even so Android x86 does is it follows it starts the bootloader and",
    "start": "3340520",
    "end": "3345880"
  },
  {
    "text": "then it starts a a minimal busy box Linux distribution okay that's what it",
    "start": "3345880",
    "end": "3351079"
  },
  {
    "text": "has on the on its init Rd so the the busy box distribution it has an init",
    "start": "3351079",
    "end": "3356319"
  },
  {
    "text": "script which is tal I can show it to you later and this script loads a couple of",
    "start": "3356319",
    "end": "3362880"
  },
  {
    "text": "modules and at the end of it it does a change route to the init scripts which",
    "start": "3362880",
    "end": "3368319"
  },
  {
    "text": "is part of Android so this part of Intel and Android that runs the init script",
    "start": "3368319",
    "end": "3374559"
  },
  {
    "text": "from a ram disk happens only after the change route okay so this is a bit",
    "start": "3374559",
    "end": "3380400"
  },
  {
    "text": "redundant but H it makes it very easy to debug the Android in it script",
    "start": "3380400",
    "end": "3388240"
  },
  {
    "text": "so which one is better actually it really depends so if you need more",
    "start": "3388319",
    "end": "3393920"
  },
  {
    "text": "better developer options then I think Android x86 is a a bit easier to deal with if you need buug in the init",
    "start": "3393920",
    "end": "3401119"
  },
  {
    "text": "process then in my opinion the Android xd6 is easier if you need support for hardware and secure boot methods then I",
    "start": "3401119",
    "end": "3407400"
  },
  {
    "text": "would go for the Android IIA if it's Intel hardware and so on if you need support for over de update then will",
    "start": "3407400",
    "end": "3413280"
  },
  {
    "text": "definitely go with Android IIA Android x86 does not support Support over the updates you can work on it and then it",
    "start": "3413280",
    "end": "3419359"
  },
  {
    "text": "will support it and if you're talking about licensing well I'm not a lawyer and H it's too",
    "start": "3419359",
    "end": "3426799"
  },
  {
    "text": "long then just accept and so on now I really don't know like what are the policies within Intel I'm pretty sure",
    "start": "3426799",
    "end": "3432240"
  },
  {
    "text": "it's like Android and then like um if you need specific uh if you have specific issues then just you know read",
    "start": "3432240",
    "end": "3439319"
  },
  {
    "text": "them through consult law and so on if you need to participate in Project Direction then you know you can try with",
    "start": "3439319",
    "end": "3445280"
  },
  {
    "text": "Intel but uh x86 would go like smoother and if you need Upstream features well it depends on the rate and up until 3",
    "start": "3445280",
    "end": "3454160"
  },
  {
    "text": "months ago then I'd say Intel no longer work on the Android ey product but now",
    "start": "3454160",
    "end": "3459319"
  },
  {
    "text": "they got an amazing kit cut version so I say okay maybe Intel it depends you know",
    "start": "3459319",
    "end": "3466319"
  },
  {
    "text": "whoever goes first so there is no black and white and it really depends what you need and you know if you're just an",
    "start": "3466319",
    "end": "3471960"
  },
  {
    "text": "Explorer and just getting like into the Rome cooking stuff um then you can just try",
    "start": "3471960",
    "end": "3477760"
  },
  {
    "text": "both the nice thing is that you can actually um leverage the Android x86",
    "start": "3477760",
    "end": "3483359"
  },
  {
    "text": "change root mechanism in order to use both in order to use any distribution",
    "start": "3483359",
    "end": "3489039"
  },
  {
    "text": "you want you're going to do this as follows you're going to use the Android X6 storage system with the initial Ram",
    "start": "3489039",
    "end": "3494680"
  },
  {
    "text": "disk and the change route then you're going to put your desired Android files that is the kernel Ram disk and system",
    "start": "3494680",
    "end": "3501640"
  },
  {
    "text": "and it's very important for them to be matching because if you have some firmer that requires a specific kernel version",
    "start": "3501640",
    "end": "3508319"
  },
  {
    "text": "then the fare will probably be somewhere within your system image under like under system lib or system Li fir blah",
    "start": "3508319",
    "end": "3515720"
  },
  {
    "text": "blah blah blah blah or vendor in some distributions under SL vendor lib it can",
    "start": "3515720",
    "end": "3520799"
  },
  {
    "text": "be in several places but the important thing is that system has to be compatible with your kernel so you put",
    "start": "3520799",
    "end": "3527480"
  },
  {
    "text": "all your system kernel Ram disk and in the same place and then once Android x86",
    "start": "3527480",
    "end": "3535000"
  },
  {
    "text": "in it runs you change route into that uh place where you put the kernel and the",
    "start": "3535000",
    "end": "3540160"
  },
  {
    "text": "matching round bis system so it does redundant stuff but it's some sort of a",
    "start": "3540160",
    "end": "3545680"
  },
  {
    "text": "hack so it doesn't really matter I mean if you have specific problems you need specific Solutions that's the way engineering works so this way we can",
    "start": "3545680",
    "end": "3552440"
  },
  {
    "text": "actually multiple boot various project we can multiple boot Android I and ASP and maybe any other operating system to",
    "start": "3552440",
    "end": "3559079"
  },
  {
    "text": "work along with that you can also use any Linux distribution and apply change",
    "start": "3559079",
    "end": "3564599"
  },
  {
    "text": "rout over there and it's a little bit more complicated and I'm not going to get into it right now so basically if",
    "start": "3564599",
    "end": "3570960"
  },
  {
    "text": "you want to look how to do it with grab I want to go to to the source tree so I'll just uh Do It",
    "start": "3570960",
    "end": "3578640"
  },
  {
    "text": "um I'll just give a live example so in another computer I had then I had the",
    "start": "3578640",
    "end": "3584520"
  },
  {
    "text": "following partition layout sda5 had a a Linux file system it has the Linux",
    "start": "3584520",
    "end": "3591280"
  },
  {
    "text": "system it had Ubuntu for example you have 10 PFS and so on or lock share",
    "start": "3591280",
    "end": "3596680"
  },
  {
    "text": "memory irrelevant Linux stuff and then I had mounted on my on my on this Linux",
    "start": "3596680",
    "end": "3602480"
  },
  {
    "text": "machine I created I compiled the Android x86 and the Intel and even nap images",
    "start": "3602480",
    "end": "3609599"
  },
  {
    "text": "like system image boot image and so on so forth and I put them under media Android x86 which lie under Dev sda1",
    "start": "3609599",
    "end": "3618640"
  },
  {
    "text": "okay so my Linux was in SDA 5 and my Android whatever was in SDA 1 so what I",
    "start": "3618640",
    "end": "3626720"
  },
  {
    "text": "would do there in grab two actually was a couple of things in order to multi boot so here in this example it was a",
    "start": "3626720",
    "end": "3633640"
  },
  {
    "text": "Gelb x86 so I have um I I in I installed",
    "start": "3633640",
    "end": "3639319"
  },
  {
    "text": "a module for Ms do and EXT2 and so on so forth I set rout to Ms do one which is",
    "start": "3639319",
    "end": "3645880"
  },
  {
    "text": "hda1 and then I load the kernel Linux jbx 86 kernel I tell it Android boot.",
    "start": "3645880",
    "end": "3652400"
  },
  {
    "text": "Hardware equals Android x86 this is very important because the init script init.rc and it the first thing it does",
    "start": "3652400",
    "end": "3660200"
  },
  {
    "text": "it calls init do your Hardware name. RC in order to load some proprietary",
    "start": "3660200",
    "end": "3666039"
  },
  {
    "text": "properties so this kernel parameter Android boot. Hardware you'll need in any Android customization you do uh the",
    "start": "3666039",
    "end": "3672880"
  },
  {
    "text": "video modes and SRC said jbx 86 and then the Android x86 um in it script it knows",
    "start": "3672880",
    "end": "3680000"
  },
  {
    "text": "how to look in the SRC folder and get whatever it needs it also says to the kernel that the init Rd would be in d.",
    "start": "3680000",
    "end": "3686559"
  },
  {
    "text": "image which will contain the textual and in script another thing I can do is to load",
    "start": "3686559",
    "end": "3694160"
  },
  {
    "text": "Android IIA with it so when I would load it it would say loading Android I it's also on Ms do one and the kernel is",
    "start": "3694160",
    "end": "3702119"
  },
  {
    "text": "Linux AIA kernel and here Android boot Hardware is ivb which is ibridge for",
    "start": "3702119",
    "end": "3708760"
  },
  {
    "text": "instance in itd would be AIA interd IMG and so on so forth so I can actually",
    "start": "3708760",
    "end": "3714720"
  },
  {
    "text": "multiple boot all of them by supplying the same initial Ram dis which is",
    "start": "3714720",
    "end": "3720079"
  },
  {
    "text": "Android x86 based with any kernel I choose the kernel has to match",
    "start": "3720079",
    "end": "3725680"
  },
  {
    "text": "um the has to match the system and the which which comprises of the hardware",
    "start": "3725680",
    "end": "3732839"
  },
  {
    "text": "and the firmware and all that and in addition to it I put the system image",
    "start": "3732839",
    "end": "3739319"
  },
  {
    "text": "that eventually we'll also I will a ram dis that will eventually contain the init script that relates to the Android",
    "start": "3739319",
    "end": "3747079"
  },
  {
    "text": "distribution I really want to use whether it is Android x86 or ASP or Android IIA and the matching system",
    "start": "3747079",
    "end": "3754400"
  },
  {
    "text": "image which is my ROM so so far we we looked at various ways of building ROMs",
    "start": "3754400",
    "end": "3761119"
  },
  {
    "text": "H with ASP devices we looked at how to build the ANP emulator we talked about Android x86 Android IIA and we saw how",
    "start": "3761119",
    "end": "3769160"
  },
  {
    "text": "to multi boot all of them as I said to some guys in the break in order to really deep dive into them we need we",
    "start": "3769160",
    "end": "3775680"
  },
  {
    "text": "need we need a day okay we need like four hours easily but now in the next model I want actually to take a quick",
    "start": "3775680",
    "end": "3781520"
  },
  {
    "text": "look at the Android build system and then see how we can create and modify the ASP in order to create our own R for",
    "start": "3781520",
    "end": "3789920"
  },
  {
    "text": "qmu and are there any questions so about what we learned so",
    "start": "3789920",
    "end": "3795960"
  },
  {
    "text": "far okay so basically um what we have in the Android build system itself we have",
    "start": "3795960",
    "end": "3802520"
  },
  {
    "text": "a couple of things we have host tools Target tools platform tools some documentation tools obviously we have a",
    "start": "3802520",
    "end": "3809240"
  },
  {
    "text": "the Android platform codebase like all the system services and uh under",
    "start": "3809240",
    "end": "3814839"
  },
  {
    "text": "framework base and the native services and applications like calendar and Lun chair home home two home three and so",
    "start": "3814839",
    "end": "3821839"
  },
  {
    "text": "and so forth and we have the build system which is under the build folder so this is a very a huge topic but uh as",
    "start": "3821839",
    "end": "3829160"
  },
  {
    "text": "I said before build system does take a series of FS or recipes and they know how to generate an embedded platform",
    "start": "3829160",
    "end": "3834480"
  },
  {
    "text": "images or artifacts including uh the blobs and so on and the thing about a",
    "start": "3834480",
    "end": "3840079"
  },
  {
    "text": "build system is that if you give them the name of the configuration you require then they will generate the",
    "start": "3840079",
    "end": "3847000"
  },
  {
    "text": "required output which you will be able later to flash to your device or run if it's an emulator so the Android build",
    "start": "3847000",
    "end": "3853760"
  },
  {
    "text": "system essentially consists of a two or two and a half folders that would be",
    "start": "3853760",
    "end": "3859400"
  },
  {
    "text": "buil which contains the definitions of the build system along with some predefined devices and device which contains",
    "start": "3859400",
    "end": "3866000"
  },
  {
    "text": "definition for devices the build system really passes them there is another",
    "start": "3866000",
    "end": "3871640"
  },
  {
    "text": "optional folder and which is mostly used for vendor specific uh blobs and the",
    "start": "3871640",
    "end": "3878920"
  },
  {
    "text": "likes which is called vendor and if you if you for example download sonen mode",
    "start": "3878920",
    "end": "3885599"
  },
  {
    "text": "or download a sourcer or some binaries for sourcery for the ASP for some devices then you'll see",
    "start": "3885599",
    "end": "3893799"
  },
  {
    "text": "that you'll have a new folder under the root of your Android build system called vendor in there you will have all the",
    "start": "3893799",
    "end": "3900200"
  },
  {
    "text": "firmware and other Hardware specific stuff so vendor is another folder it's",
    "start": "3900200",
    "end": "3905760"
  },
  {
    "text": "not a must have but it is a useful so basically um what we have here",
    "start": "3905760",
    "end": "3913599"
  },
  {
    "text": "I'm going to skip about most of it most of the build system is under a build core MK and this is the only file that",
    "start": "3913599",
    "end": "3921000"
  },
  {
    "text": "been included for the main make file and essentially all the this build and set",
    "start": "3921000",
    "end": "3926720"
  },
  {
    "text": "up launch config and make they make a they parse a couple of um scripts and",
    "start": "3926720",
    "end": "3933680"
  },
  {
    "text": "run a couple of Python scripts as well in order to do a very very very",
    "start": "3933680",
    "end": "3938760"
  },
  {
    "text": "sophisticated H build system and rules so when you try to actually",
    "start": "3938760",
    "end": "3945160"
  },
  {
    "text": "approach a device you mostly care about two things you'll care about um",
    "start": "3945160",
    "end": "3950799"
  },
  {
    "text": "launching the the fast the the environment variables which is the n setup.sh because it has also a lot of uh",
    "start": "3950799",
    "end": "3959119"
  },
  {
    "text": "nice shortcuts for you to work in with the source files like go deer CB J grab",
    "start": "3959119",
    "end": "3965279"
  },
  {
    "text": "and so on and you care about the target file H folder so the target folder",
    "start": "3965279",
    "end": "3970440"
  },
  {
    "text": "actually contains two folders one of them is for board definition files it's called board and the other one is for product definition files it's called",
    "start": "3970440",
    "end": "3976880"
  },
  {
    "text": "Product so basically all the build recipes you'll need if you want to customize a device are in either of",
    "start": "3976880",
    "end": "3982480"
  },
  {
    "text": "these two directories and the way it works is basically that um there is an",
    "start": "3982480",
    "end": "3988119"
  },
  {
    "text": "Android MK file for every module you may need build system knows how to pass it",
    "start": "3988119",
    "end": "3994119"
  },
  {
    "text": "and that's how it's been incorporated into the build there is a syntax there is a language that you use and every M",
    "start": "3994119",
    "end": "4000400"
  },
  {
    "text": "every such make file we use this syntax I will not go into this syntax too much",
    "start": "4000400",
    "end": "4005640"
  },
  {
    "text": "within this lecture but I will do a followup and in a couple of weeks and you will be able to see it online",
    "start": "4005640",
    "end": "4012720"
  },
  {
    "text": "probably but the important thing is that each when you try to um make your a new",
    "start": "4012720",
    "end": "4019039"
  },
  {
    "text": "device then the build system dictates that uh your new device folder which will be under device manufacturer name",
    "start": "4019039",
    "end": "4027039"
  },
  {
    "text": "device name it will have to contain the following files board",
    "start": "4027039",
    "end": "4032319"
  },
  {
    "text": "config.msi MK will have some board and Hardware related stuff so basically um",
    "start": "4035160",
    "end": "4041880"
  },
  {
    "text": "when you actually want to tell what um Hardware you have like if you want to",
    "start": "4041880",
    "end": "4047359"
  },
  {
    "text": "have to use a kernel you want to use a pre-built kernel you want to use some sort of architecture like X6 or Arc you",
    "start": "4047359",
    "end": "4053920"
  },
  {
    "text": "need to edit some stuff in the board config there is also another folder which is called the product which is",
    "start": "4053920",
    "end": "4061000"
  },
  {
    "text": "more about the packages that you would need within your final product and the",
    "start": "4061000",
    "end": "4066880"
  },
  {
    "text": "way it works is basically if you want to define a product like the Asos PX 86 emulator then you'll have a make file",
    "start": "4066880",
    "end": "4073920"
  },
  {
    "text": "which will include other make files which will include other make and so on so forth I have it in a more graphical",
    "start": "4073920",
    "end": "4079440"
  },
  {
    "text": "way which makes it a little bit easier to follow so basically if I take a look",
    "start": "4079440",
    "end": "4085559"
  },
  {
    "text": "in the in the Android sourcer under product ASP arm. MK or as x86 MK then",
    "start": "4085559",
    "end": "4092000"
  },
  {
    "text": "let see that it includes a product full. MK file and it also says in this file that product name is ASP arm this way",
    "start": "4092000",
    "end": "4099318"
  },
  {
    "text": "and the build system knows that when I do launch an asp arm correlates to this",
    "start": "4099319",
    "end": "4104798"
  },
  {
    "text": "um device Now product f.mk it includes ASP Bas",
    "start": "4104799",
    "end": "4110159"
  },
  {
    "text": "tel. MK productb tel. MK it's got a little cut here and it these files in",
    "start": "4110159",
    "end": "4115920"
  },
  {
    "text": "terms includes the full based telep MK which take carees of a a an operating",
    "start": "4115920",
    "end": "4122960"
  },
  {
    "text": "system that allows to deal with the telepon like with the GPRS with the and",
    "start": "4122960",
    "end": "4129080"
  },
  {
    "text": "so on and SMS media as we say we see in the next folder and full product",
    "start": "4129080",
    "end": "4136000"
  },
  {
    "text": "actually includes here board emulator. MK which includes product packages",
    "start": "4136000",
    "end": "4141880"
  },
  {
    "text": "includes the Android emulator Li G translator which is for translating open",
    "start": "4141880",
    "end": "4146920"
  },
  {
    "text": "GL um calls and it does a couple of a copying from the host into the target",
    "start": "4146920",
    "end": "4153600"
  },
  {
    "text": "with a product copy file directive so everything you see here in capslock is actually keyword that specify h",
    "start": "4153600",
    "end": "4161120"
  },
  {
    "text": "properties within the Android build system so you can override any of this and then you modify the behavior of the",
    "start": "4161120",
    "end": "4166838"
  },
  {
    "text": "system actually so what we have here we have includ we have included product",
    "start": "4166839",
    "end": "4172440"
  },
  {
    "text": "full. MK that in turn included base telep ASB based teleph generic device MK",
    "start": "4172440",
    "end": "4178679"
  },
  {
    "text": "and board emulator MK which are terminals then product full based telepon will",
    "start": "4178679",
    "end": "4185238"
  },
  {
    "text": "have a couple of product packages it will have product property overrides for example the build uh there",
    "start": "4185239",
    "end": "4191960"
  },
  {
    "text": "can be some stuff under the build the build prop file if you know under the the target you have build prop",
    "start": "4191960",
    "end": "4198520"
  },
  {
    "text": "or system prop files that these are override and then when you do like get prop then you have like a pretty fun properties you can do product copy files",
    "start": "4198520",
    "end": "4205640"
  },
  {
    "text": "which copy files from the board from the source to the Target and it also includes other um packages or other make",
    "start": "4205640",
    "end": "4213080"
  },
  {
    "text": "files for example it includes product telepone emk which in terms has the the following product packages the dier for",
    "start": "4213080",
    "end": "4220000"
  },
  {
    "text": "the phone MMS for the media and RealD which is the radio interace a Slayer",
    "start": "4220000",
    "end": "4225880"
  },
  {
    "text": "demon because if you want to communicate with the the radio chips set then you",
    "start": "4225880",
    "end": "4231880"
  },
  {
    "text": "have to have some way of real this also includes full base which includes local as full generic not",
    "start": "4231880",
    "end": "4238880"
  },
  {
    "text": "telepon and so on so forth so we have like an inclusion like as if you have a Import in Java or include chain in C",
    "start": "4238880",
    "end": "4245760"
  },
  {
    "text": "then you also have includes in make files so basically and this is how it goes and I want to go how to show you",
    "start": "4245760",
    "end": "4252960"
  },
  {
    "text": "how real device looks like so",
    "start": "4252960",
    "end": "4257239"
  },
  {
    "text": "this was the emulator and it is no longer needed",
    "start": "4258120",
    "end": "4266480"
  },
  {
    "text": "actually okay so can you see it in the back all",
    "start": "4268120",
    "end": "4275040"
  },
  {
    "text": "right make it a little larger just in case so",
    "start": "4275040",
    "end": "4281800"
  },
  {
    "text": "basically all right so basically what we have here we have um a device",
    "start": "4282440",
    "end": "4289719"
  },
  {
    "text": "directory if you want to manufacture your own device you'll have to line up with other very respectful companies",
    "start": "4289719",
    "end": "4295640"
  },
  {
    "text": "like Samsung sample no not really LG and Asus and so forth so here I I",
    "start": "4295640",
    "end": "4302760"
  },
  {
    "text": "created a new device under a company called ELC and Linux",
    "start": "4302760",
    "end": "4308280"
  },
  {
    "text": "conference and B Linux conference has a read me file which is on my GitHub it's",
    "start": "4308280",
    "end": "4314280"
  },
  {
    "text": "for another conference I spoken but it's the same principles I will upload this files as well later on um and here I",
    "start": "4314280",
    "end": "4320960"
  },
  {
    "text": "have a couple of components I have a product called ASP KVM I have embedded KVM and I have kernel",
    "start": "4320960",
    "end": "4327800"
  },
  {
    "text": "configs so basically ASP KVM includes the following files it",
    "start": "4327800",
    "end": "4334360"
  },
  {
    "text": "includes an Android MK Android product MK and a couple of other files and I'm",
    "start": "4334360",
    "end": "4339960"
  },
  {
    "text": "going to walk you through each and every one of them and you can Fork them later",
    "start": "4339960",
    "end": "4345320"
  },
  {
    "text": "from GitHub just add this directory structure ELC ASP KVM and you'll be able",
    "start": "4345320",
    "end": "4350400"
  },
  {
    "text": "to reproduce exactly what we see here so as I said every component in the Android build",
    "start": "4350400",
    "end": "4356840"
  },
  {
    "text": "system must have an Android MK file so this Android MK file as local path",
    "start": "4356840",
    "end": "4362760"
  },
  {
    "text": "called my dear which just saves a variable says hey this is my PWD is my work directory and it says include call",
    "start": "4362760",
    "end": "4370360"
  },
  {
    "text": "all make files under local path so every time it see an make file a MK file it",
    "start": "4370360",
    "end": "4377159"
  },
  {
    "text": "will incorporate it to the build system all right good so this was the first file",
    "start": "4377159",
    "end": "4385520"
  },
  {
    "text": "the first file the second file Android products. MK and products. MK it says the",
    "start": "4385520",
    "end": "4393520"
  },
  {
    "text": "following it says product make files the important thing is not the file names themselves the important thing is to",
    "start": "4393520",
    "end": "4400679"
  },
  {
    "text": "have the the directives like product make files or product copy files and all this kind of this these are the stuff",
    "start": "4400679",
    "end": "4406520"
  },
  {
    "text": "the build system understands okay but it makes it much easier to use the names that the build system expect or is used",
    "start": "4406520",
    "end": "4414040"
  },
  {
    "text": "to like Android products and stuff Android MK is a definite m so I look",
    "start": "4414040",
    "end": "4419239"
  },
  {
    "text": "product make files it says local deer which is my directory SLC 20104 ASP km.",
    "start": "4419239",
    "end": "4426159"
  },
  {
    "text": "MK so I promise to look at this file later I'll actually look at at the end I",
    "start": "4426159",
    "end": "4431840"
  },
  {
    "text": "want to proceed I have board config MK this is",
    "start": "4431840",
    "end": "4437360"
  },
  {
    "text": "the file that actually defines my board and just a reminder what I'm building here as I said before will be a fully",
    "start": "4437360",
    "end": "4444320"
  },
  {
    "text": "fledged Android to run on qmu without the Android emulator okay so you can",
    "start": "4444320",
    "end": "4449480"
  },
  {
    "text": "take these images just modify the hardware the kernel and if you're lucky enough You' be able to run it on your own hardware and if you're not you have",
    "start": "4449480",
    "end": "4455840"
  },
  {
    "text": "to work hard and you will not be lucky you'll have to work hard but that's the way in life practice make perfect so",
    "start": "4455840",
    "end": "4461840"
  },
  {
    "text": "this file has some directives like a target has no boot loader no kernel Target CPU ABI equals x86 if you don't",
    "start": "4461840",
    "end": "4469960"
  },
  {
    "text": "do that then the build system will assume you're using some VAR of",
    "start": "4469960",
    "end": "4475400"
  },
  {
    "text": "arm so um here we also have Target user images use",
    "start": "4475400",
    "end": "4481199"
  },
  {
    "text": "xt4 um which means use xt4 do not use Ys all Android distribution currently use",
    "start": "4481199",
    "end": "4487280"
  },
  {
    "text": "xt4 I mean yaps is a very old sparse XT disabled board system image partition",
    "start": "4487280",
    "end": "4493800"
  },
  {
    "text": "size this is very important in this one is a couple of there's a lot of zeros here and I think it's 500 Mega more or",
    "start": "4493800",
    "end": "4502199"
  },
  {
    "text": "less and if my build system if I pack like a lot of apks or do some stuff",
    "start": "4502199",
    "end": "4508679"
  },
  {
    "text": "exceeds this number then I will then the build will fail and I will not be able to flash to a partition whatever I'm",
    "start": "4508679",
    "end": "4516440"
  },
  {
    "text": "building and this is important because when I'm building a r i need to reserve enough space for that and if I want to",
    "start": "4516440",
    "end": "4523080"
  },
  {
    "text": "reserve maybe I have some constraints maybe the Hard manufacturer say Hey you have only 300 megabytes available for a",
    "start": "4523080",
    "end": "4529400"
  },
  {
    "text": "system image so I need to first set the system image partition size to match that and in that case if I",
    "start": "4529400",
    "end": "4537000"
  },
  {
    "text": "fail building then I can even I I can be happy because this why actually I fail",
    "start": "4537000",
    "end": "4542440"
  },
  {
    "text": "in building and not in production so that's uh pretty nice in the same uh fashion there is a user data image",
    "start": "4542440",
    "end": "4548960"
  },
  {
    "text": "partition size which is for the data partition there's the block size of The Flash and there are some other",
    "start": "4548960",
    "end": "4555040"
  },
  {
    "text": "properties that I'm not going to go into um too much but Target shell you can",
    "start": "4555040",
    "end": "4560120"
  },
  {
    "text": "have Ash or make a shell and you can decide whether to do a the jit the Dex",
    "start": "4560120",
    "end": "4566639"
  },
  {
    "text": "pre optimizations if you want to do them while compiling or on the target itself an important thing is to provide an",
    "start": "4566639",
    "end": "4574520"
  },
  {
    "text": "openg GL configuration file it's important even if you do not want to use",
    "start": "4574520",
    "end": "4579840"
  },
  {
    "text": "openg um because otherwise the build uh is guaranteed not to run well you'll",
    "start": "4579840",
    "end": "4586120"
  },
  {
    "text": "have a lot of Errors complaining about openg and you really need to disable",
    "start": "4586120",
    "end": "4592520"
  },
  {
    "text": "that so here I actually specified the eg. config file as you can",
    "start": "4592520",
    "end": "4600199"
  },
  {
    "text": "see and let's have a look at this so .c config it just say Z Z Android so I",
    "start": "4600280",
    "end": "4607679"
  },
  {
    "text": "don't want to get in troubles I'm not going to deal with DRM of virtual machines it's always problematic I just",
    "start": "4607679",
    "end": "4614080"
  },
  {
    "text": "disable anything and that's it and the Android openg es system knows to pass",
    "start": "4614080",
    "end": "4619280"
  },
  {
    "text": "this file and knows to what to do with it okay so we were at the board config",
    "start": "4619280",
    "end": "4626120"
  },
  {
    "text": "itself byy image is obviously a kernel so uh this is",
    "start": "4626120",
    "end": "4635120"
  },
  {
    "text": "something I compiled last year May 29 to today is",
    "start": "4635159",
    "end": "4643600"
  },
  {
    "text": "the April 29 okay so um this is a busy image you can see it's a Linux kernel x86 boot image",
    "start": "4643600",
    "end": "4651360"
  },
  {
    "text": "it's a version 3.4.5 it was good enough for me then it will be good enough for me now too but I will also show you how",
    "start": "4651360",
    "end": "4657960"
  },
  {
    "text": "I boot a vanilla image later so obviously there's nothing there",
    "start": "4657960",
    "end": "4663120"
  },
  {
    "text": "I promis to touch ALC ASP KV mmk at the end and and now I have a couple of",
    "start": "4663120",
    "end": "4669600"
  },
  {
    "text": "interesting stuff so first of all um I have here an EXT external",
    "start": "4669600",
    "end": "4675840"
  },
  {
    "text": "directory in the external directory I have a couple of make files I wanted to show here how I actually attach new",
    "start": "4675840",
    "end": "4683280"
  },
  {
    "text": "components to my build system so I have the Android MK files which says call all",
    "start": "4683280",
    "end": "4690440"
  },
  {
    "text": "sub your make files so it will include all make files under this",
    "start": "4690440",
    "end": "4695840"
  },
  {
    "text": "directory and I have a couple of project here one of them is the Android Terminal which is a terminal emulator for Android",
    "start": "4696120",
    "end": "4702639"
  },
  {
    "text": "obviously it has an Android MK file and it has some stuff I didn't write a single line of code over there I just",
    "start": "4702639",
    "end": "4708679"
  },
  {
    "text": "for it okay and there is my amazing",
    "start": "4708679",
    "end": "4715080"
  },
  {
    "text": "state-ofthe-art Alo word application which uh I wrote all the line of it myself I",
    "start": "4715080",
    "end": "4721760"
  },
  {
    "text": "swear so basically it also has an. MK file and it says the following it says",
    "start": "4721760",
    "end": "4728199"
  },
  {
    "text": "local path include clear vs so if I have some garbage from before I want to be on the safe side I don't want to risk in",
    "start": "4728199",
    "end": "4735600"
  },
  {
    "text": "having the same variables and then confusing the build system and then it say local module equals AI example",
    "start": "4735600",
    "end": "4741480"
  },
  {
    "text": "that's the name of the module um it's optional so I don't have to include it",
    "start": "4741480",
    "end": "4748000"
  },
  {
    "text": "and hello.c is a the only source file I will need local shared Library Li log because",
    "start": "4748000",
    "end": "4755320"
  },
  {
    "text": "I want to use the Android logger on it I want to link it against the logger and include build executable so when I build",
    "start": "4755320",
    "end": "4761800"
  },
  {
    "text": "it actually I will have an executable running this this is not an Android package right it's not an APK it's a c",
    "start": "4761800",
    "end": "4767880"
  },
  {
    "text": "application and one thing about the option now actually if you have optional",
    "start": "4767880",
    "end": "4773400"
  },
  {
    "text": "here it means that if you if you want to build this project you will have to specify it and I'm saying it now",
    "start": "4773400",
    "end": "4780480"
  },
  {
    "text": "explicitly because when I'm when I going to talk about the packages I'm including you're going to see the hoc example",
    "start": "4780480",
    "end": "4786440"
  },
  {
    "text": "module okay so this is how it looks and just uh",
    "start": "4786440",
    "end": "4792679"
  },
  {
    "text": "for the sake of completion the Lo see includes sdio it includes Android log",
    "start": "4792679",
    "end": "4798360"
  },
  {
    "text": "and this is the tag print have a low native Android world and it uses Android log print info log tag hello native",
    "start": "4798360",
    "end": "4805760"
  },
  {
    "text": "Android world so this was under external and this external directory will be included",
    "start": "4805760",
    "end": "4813600"
  },
  {
    "text": "okay there are some system property files that I can",
    "start": "4813600",
    "end": "4819880"
  },
  {
    "text": "override and there is something called vendor setup.sh",
    "start": "4819880",
    "end": "4826199"
  },
  {
    "text": "which actually adds the files to the launch when I do launch whatever then I",
    "start": "4826199",
    "end": "4831480"
  },
  {
    "text": "need to provide it the name in order for it to show on the launch menu if I know the names myself I don't really need to",
    "start": "4831480",
    "end": "4837520"
  },
  {
    "text": "add them to the lunch menu the build system will work anyway so here I will add ELC 2014 AOS KVM and the variance",
    "start": "4837520",
    "end": "4845600"
  },
  {
    "text": "for engineering build user debug for user build with some debug features and user for production",
    "start": "4845600",
    "end": "4852520"
  },
  {
    "text": "builds okay now what I have here left are the init files so I will talk about",
    "start": "4852600",
    "end": "4859520"
  },
  {
    "text": "the init files and then at the end of it I will talk about uh the package files and then we'll be able to actually run",
    "start": "4859520",
    "end": "4865280"
  },
  {
    "text": "the software so what we have in the init files first of all we have the in. KVM",
    "start": "4865280",
    "end": "4871719"
  },
  {
    "text": "RC this is how an Android init file looks like",
    "start": "4871719",
    "end": "4876840"
  },
  {
    "text": "so it has some on something do something for example on init init is an event on",
    "start": "4876840",
    "end": "4883840"
  },
  {
    "text": "the system and make your storage SD card and do some Sim linking also did here and class",
    "start": "4883840",
    "end": "4892040"
  },
  {
    "text": "start exam two uh which is a service that I added I can do some stuff for",
    "start": "4892040",
    "end": "4898120"
  },
  {
    "text": "example the most service the most important service in the world there is a limitation on the on the length you",
    "start": "4898120",
    "end": "4903880"
  },
  {
    "text": "can give Services then I'm going to run system bin hello C example which is the executable I built before it's going to",
    "start": "4903880",
    "end": "4910840"
  },
  {
    "text": "be on class main one shot but the Android init mechanism is for another class so this is something that is going",
    "start": "4910840",
    "end": "4917560"
  },
  {
    "text": "to be called in it. KVM RC because my",
    "start": "4917560",
    "end": "4922800"
  },
  {
    "text": "device name and I'm going to give it in the kernel H in the kernel command line I'm going to give android. boot Hardware",
    "start": "4922800",
    "end": "4930840"
  },
  {
    "text": "equals AOSP KVM this way init.rc just just a moment this way init.rc will know",
    "start": "4930840",
    "end": "4937199"
  },
  {
    "text": "to read the OSP kvmc Yeah question so if I want to add any other external devices",
    "start": "4937199",
    "end": "4946520"
  },
  {
    "text": "if you want to add external devices or external okay that's a great question",
    "start": "4947280",
    "end": "4955560"
  },
  {
    "text": "I'm going to attack it now so basically H there is something in the Android",
    "start": "4955560",
    "end": "4960639"
  },
  {
    "text": "system and by the way this is the last session of the day so i' be more than",
    "start": "4960639",
    "end": "4965880"
  },
  {
    "text": "happy to answer questions even for two or three hours after this session but uh",
    "start": "4965880",
    "end": "4971679"
  },
  {
    "text": "about the volume D about SD cards and removable or non- removable media there",
    "start": "4971679",
    "end": "4977639"
  },
  {
    "text": "is something",
    "start": "4977639",
    "end": "4980280"
  },
  {
    "text": "called so system",
    "start": "4985560",
    "end": "4991560"
  },
  {
    "text": "core so um there is something called actually it's not here there is something called",
    "start": "4992080",
    "end": "4999480"
  },
  {
    "text": "VD Inger system VD and",
    "start": "4999480",
    "end": "5005199"
  },
  {
    "text": "and if you go here you will see that there is actually a language for",
    "start": "5005199",
    "end": "5011159"
  },
  {
    "text": "processing mounts and it's all written in C and this is actually one of the simplest",
    "start": "5011159",
    "end": "5018320"
  },
  {
    "text": "it's not that simple if you're not used to it but this is actually one of the simplest component in a Android so if",
    "start": "5018320",
    "end": "5026080"
  },
  {
    "text": "you just want if you look at the source code you'll to be able to figure out the syntax but what I'm going to do here on",
    "start": "5026080",
    "end": "5035040"
  },
  {
    "text": "my init is actually have um an fsab file just like as I would",
    "start": "5035040",
    "end": "5041239"
  },
  {
    "text": "have in Linux okay so the fsab file would look as follows it does a lot of",
    "start": "5041239",
    "end": "5046440"
  },
  {
    "text": "commented out stuff from the emulator because just for the sake of a of education and it has the following thing",
    "start": "5046440",
    "end": "5053560"
  },
  {
    "text": "I give it h the device block I want to use in this case it's Dev block",
    "start": "5053560",
    "end": "5059719"
  },
  {
    "text": "sdd I give it the designated Mount point I give the file system it's",
    "start": "5059719",
    "end": "5066440"
  },
  {
    "text": "vat and just because I wanted to do it because I attached an hard disk to qmu I said it's not removable I don't have to",
    "start": "5066440",
    "end": "5073239"
  },
  {
    "text": "make it non removable and if I want to manage removable uh software I do it on",
    "start": "5073239",
    "end": "5078480"
  },
  {
    "text": "the fs tab file this FS tab file would actually be",
    "start": "5078480",
    "end": "5085960"
  },
  {
    "text": "read by the KVM RC and it's happening here any. kvmr C",
    "start": "5086159",
    "end": "5095719"
  },
  {
    "text": "Mount all Mount all is a is a directive that takes a file and it gives",
    "start": "5095719",
    "end": "5104600"
  },
  {
    "text": "to the Vol D which I said you can look at the source of it earlier it gives to the Vol D and all the parameters lines",
    "start": "5104600",
    "end": "5112239"
  },
  {
    "text": "of the files one one after the other and it knows where to mount how to mount what what are the characteristics and so",
    "start": "5112239",
    "end": "5119360"
  },
  {
    "text": "on we need to specify the partitions of the",
    "start": "5119360",
    "end": "5125159"
  },
  {
    "text": "Dev yeah definitely yeah so what I did I actually attached a",
    "start": "5125159",
    "end": "5131400"
  },
  {
    "text": "dis device and I'm going to show it a a little bit later when we run it and I'm",
    "start": "5131400",
    "end": "5137360"
  },
  {
    "text": "attaching hard drives to the qmu emulator and I attached the removable SD",
    "start": "5137360",
    "end": "5142400"
  },
  {
    "text": "card which I made non removable I attach it as the fourth hard drive the other partitions would be for the system the",
    "start": "5142400",
    "end": "5148719"
  },
  {
    "text": "data and the cach but I'm going to get to it in a couple of seconds I I'll elaborate later okay",
    "start": "5148719",
    "end": "5155360"
  },
  {
    "text": "okay so um this was the init RC and um ndfs tab which is important I",
    "start": "5155360",
    "end": "5163920"
  },
  {
    "text": "can also have a I can also call in shell script Linux shell script if I want to",
    "start": "5163920",
    "end": "5169679"
  },
  {
    "text": "for example if I have one guy who is expert in the Android in syntax and I have one guy who's proficient in Linux",
    "start": "5169679",
    "end": "5176000"
  },
  {
    "text": "stuff then I can do some initialization in the Linux land um within shell script",
    "start": "5176000",
    "end": "5182440"
  },
  {
    "text": "so in this uh example the only thing I did is I set console DG in order to tell",
    "start": "5182440",
    "end": "5189440"
  },
  {
    "text": "the Android that this is a graphical console because otherwise a lot of times you'd get some flickering of the text",
    "start": "5189440",
    "end": "5195520"
  },
  {
    "text": "console on your graphic display so another thing I have is all",
    "start": "5195520",
    "end": "5201159"
  },
  {
    "text": "script which just a copy some stuff and there's nothing interesting there I'll show you later what we have and I have",
    "start": "5201159",
    "end": "5207199"
  },
  {
    "text": "an overlay folder the overlay folder is very important because you can put their",
    "start": "5207199",
    "end": "5213840"
  },
  {
    "text": "file like framework based core res res values and whatever is here some xmls or",
    "start": "5213840",
    "end": "5220840"
  },
  {
    "text": "resourcers or pgs will actually replace the contents of whatever you have on the Android build system itself without you",
    "start": "5220840",
    "end": "5228000"
  },
  {
    "text": "having to deal with Source control I mean otherwise you don't want to pollute the build system itself so you do an",
    "start": "5228000",
    "end": "5234320"
  },
  {
    "text": "overlay this is a very common Concept in embedded system so this one actually adds EET but um you can add a lot of",
    "start": "5234320",
    "end": "5242760"
  },
  {
    "text": "other stuff as well you can customize a lot of things in Android this way but",
    "start": "5242760",
    "end": "5248320"
  },
  {
    "text": "um okay so the last thing I also put",
    "start": "5248320",
    "end": "5253840"
  },
  {
    "text": "here the user tablet look at it in the gift tab a template for adding applications so if you want to add prebuilt apks you'll put it in the app",
    "start": "5253840",
    "end": "5262400"
  },
  {
    "text": "here and VI android.mk actually says that hey whatever has the suffix of apps",
    "start": "5262400",
    "end": "5268320"
  },
  {
    "text": "then just and it's built pre-built then just H put it on the system",
    "start": "5268320",
    "end": "5275000"
  },
  {
    "text": "image eventually under a system app now we're almost close to finishing",
    "start": "5275000",
    "end": "5280639"
  },
  {
    "text": "this um customization and we'll do it as follows so this is the last file this is",
    "start": "5280639",
    "end": "5287440"
  },
  {
    "text": "one of the most important files it is the ASP KVM MK file which I said will be",
    "start": "5287440",
    "end": "5293440"
  },
  {
    "text": "a left for the end so what I do here is call in product product langage is full.",
    "start": "5293440",
    "end": "5299000"
  },
  {
    "text": "MK colonary product product full. MK so actually Source Target there is build",
    "start": "5299000",
    "end": "5305719"
  },
  {
    "text": "okay so the build directory there is build product and then it has a make file like I showed earlier in the in the",
    "start": "5305719",
    "end": "5311880"
  },
  {
    "text": "document I'm when to went very quickly on it then you have device package",
    "start": "5311880",
    "end": "5317400"
  },
  {
    "text": "overlay which includes the device overlays if I want to to Overlay some XML files I can do it there product",
    "start": "5317400",
    "end": "5324719"
  },
  {
    "text": "packages will say which packages are being included product copy files would",
    "start": "5324719",
    "end": "5330040"
  },
  {
    "text": "say what files goes from my host into where in the tar Target product name",
    "start": "5330040",
    "end": "5335679"
  },
  {
    "text": "will be ELC 2014 ASP KVM the device is ASP KVM product model is ASP KVM build",
    "start": "5335679",
    "end": "5343360"
  },
  {
    "text": "for ELC 2013 that's a bug it's 2014 and build display ID it won't be",
    "start": "5343360",
    "end": "5350639"
  },
  {
    "text": "show here it will be shown in some other stuff and build ID will be shown in the about phone and BLC apps whatever",
    "start": "5350639",
    "end": "5359480"
  },
  {
    "text": "product packages I wanted to add to it open SSH SCP ft P some keygens and then",
    "start": "5359480",
    "end": "5365400"
  },
  {
    "text": "I added Android term which was under the external and lo example if you remember",
    "start": "5365400",
    "end": "5372400"
  },
  {
    "text": "then I actually called",
    "start": "5372400",
    "end": "5377360"
  },
  {
    "text": "the I called the file I said local module a low C example okay so that's",
    "start": "5377760",
    "end": "5383119"
  },
  {
    "text": "the exact same thing I see here low C example local module name that's exactly what you need to put in order to add it",
    "start": "5383119",
    "end": "5389679"
  },
  {
    "text": "to the product packages now product copy files do the following it takes a source files okay",
    "start": "5389679",
    "end": "5395840"
  },
  {
    "text": "from my host before the column and it copies it to whatever lies",
    "start": "5395840",
    "end": "5402280"
  },
  {
    "text": "after the column so the rules are as follows if it says root after the column",
    "start": "5402280",
    "end": "5407760"
  },
  {
    "text": "that it's going to be copied into the ram disk otherwise it's going to be copied",
    "start": "5407760",
    "end": "5412880"
  },
  {
    "text": "into the designated folder to the specific folders for example ASP km. RC",
    "start": "5412880",
    "end": "5418080"
  },
  {
    "text": "which is the init files naturally goes into the ram disk this sh script that just said the console I decided to put",
    "start": "5418080",
    "end": "5424800"
  },
  {
    "text": "it in the system I could also put it in the round dis and I could also not use it now I have a file called KVM Dosh",
    "start": "5424800",
    "end": "5432880"
  },
  {
    "text": "which I'm going to use as a helper to run it and I'm copying it to KDM Dosh",
    "start": "5432880",
    "end": "5438000"
  },
  {
    "text": "it's not copied anywhere so it will just be copy to the folder where all my output files will",
    "start": "5438000",
    "end": "5444480"
  },
  {
    "text": "reside I have a busy image kernel which I showed you earlier I'm going to copy it to the output directory and call it",
    "start": "5444480",
    "end": "5451920"
  },
  {
    "text": "kernel the fsab SP KVM which included the mount point you asked about is going",
    "start": "5451920",
    "end": "5457960"
  },
  {
    "text": "to be copied into the round disk fs. KVM basically everything that happens within",
    "start": "5457960",
    "end": "5463040"
  },
  {
    "text": "the init process has to be in the round dis it's very important I have some Pro proct property overrides I can actually",
    "start": "5463040",
    "end": "5469760"
  },
  {
    "text": "decide the Heap size and I can decide a lot of other things and there is another override which is not really relevant so",
    "start": "5469760",
    "end": "5477199"
  },
  {
    "text": "this is what I have here now I want to have a look at the",
    "start": "5477199",
    "end": "5482480"
  },
  {
    "text": "host script so I have a couple of post scripts which are I actually don't have the vanilla kernel tap KVM on the script",
    "start": "5482480",
    "end": "5489719"
  },
  {
    "text": "I only copied K KVM Dosh but these are the same principles so if I look at KVM",
    "start": "5489719",
    "end": "5496920"
  },
  {
    "text": "Dosh I'll see the following at first if I don't have a cache. image file I",
    "start": "5497280",
    "end": "5503600"
  },
  {
    "text": "create it so I just DD zero I it's going to be a 200 megabyte file its name is",
    "start": "5503600",
    "end": "5510679"
  },
  {
    "text": "going to be cach image it's going to be filled out with zeros because this dump Dev zero and then I'm going to create an",
    "start": "5510679",
    "end": "5517239"
  },
  {
    "text": "ext4 file system out of it so that's what I'm going to do with that make a",
    "start": "5517239",
    "end": "5522320"
  },
  {
    "text": "fast. txt 4 cach image and that's it then I'm going to run the KVM so this uh",
    "start": "5522320",
    "end": "5529520"
  },
  {
    "text": "techniques it will work also with the Zen and with VMware and with whatever but you have to do your own",
    "start": "5529520",
    "end": "5535239"
  },
  {
    "text": "modifications for the virtual machines so in this example I'm going to run KVM and I'm going to do the following",
    "start": "5535239",
    "end": "5541679"
  },
  {
    "text": "stuff- HDA first start dis which is going to be under Dev block",
    "start": "5541679",
    "end": "5547800"
  },
  {
    "text": "SDA I'm going to attach it to the system image file second hard disk the data",
    "start": "5547800",
    "end": "5553760"
  },
  {
    "text": "user data image third hard drive cache image and I already discussed the fourth",
    "start": "5553760",
    "end": "5559199"
  },
  {
    "text": "hard drive which would be the SD card the kernel would be kernel which was",
    "start": "5559199",
    "end": "5565119"
  },
  {
    "text": "before that VZ image the initial round disk will be risk. image which actually the Android build system also creates",
    "start": "5565119",
    "end": "5571560"
  },
  {
    "text": "automatically and then I'm going to append a c couple of um parameters to the kernel command line so I'm going to",
    "start": "5571560",
    "end": "5578159"
  },
  {
    "text": "say qmu equals 1 to get rid of some hardw coration issues I redirect the console I don't",
    "start": "5578159",
    "end": "5584760"
  },
  {
    "text": "have to do that Android boot. Hardware equals AOSP KVM this is critical because anyc includes in it. ASP",
    "start": "5584760",
    "end": "5592960"
  },
  {
    "text": "kvmc and I can do and I can skip the check jni I'm giving it a VGA mode it's",
    "start": "5592960",
    "end": "5600239"
  },
  {
    "text": "VGA equal 794 I don't remember the resolution but it's should be some sort of tablet resolution and I'm also",
    "start": "5600239",
    "end": "5607360"
  },
  {
    "text": "attaching it serial device because I'm a Linux guy so I'm used to it and",
    "start": "5607360",
    "end": "5613040"
  },
  {
    "text": "now yeah definitely you can do log level equals eight or whatever yeah",
    "start": "5615159",
    "end": "5620440"
  },
  {
    "text": "definitely you can and you at at first time you you",
    "start": "5620440",
    "end": "5626360"
  },
  {
    "text": "should um so basically here this net user net Nique you can also use a tap",
    "start": "5627480",
    "end": "5634560"
  },
  {
    "text": "device which would be the much preferred way to handle uh any emulation with qmu",
    "start": "5634560",
    "end": "5641880"
  },
  {
    "text": "but configuring T devices is a bit tricky and you need to have root privilege and and different qmu behave",
    "start": "5641880",
    "end": "5649320"
  },
  {
    "text": "differently on different operating system so it's just easier to use the user I'm going to give it a 248 and TTY",
    "start": "5649320",
    "end": "5657119"
  },
  {
    "text": "saying just cleans a little bit the cial so this is actually what I'm going to do in order to run the emulator and once",
    "start": "5657119",
    "end": "5666560"
  },
  {
    "text": "I've built and just a recap I would do I would go to the root",
    "start": "5666560",
    "end": "5672280"
  },
  {
    "text": "directory and to build uh and set up",
    "start": "5672280",
    "end": "5677810"
  },
  {
    "text": "[Music] launch if I just do launch then I have the name of the targets here which I",
    "start": "5677810",
    "end": "5683400"
  },
  {
    "text": "added with vendor setup.sh so I can just choose ELC",
    "start": "5683400",
    "end": "5688679"
  },
  {
    "text": "2014 then I would hit make of course I'm not going to do that because we're running out of time",
    "start": "5688679",
    "end": "5694440"
  },
  {
    "text": "unless you want to wait for a couple of hours more I'll leave you my laptop okay and uh at the end of the",
    "start": "5694440",
    "end": "5702040"
  },
  {
    "text": "procedure I'll have all all my build artifact under out Target product ASP",
    "start": "5702040",
    "end": "5709560"
  },
  {
    "text": "KVM so let's see what we have here so I have a KVM Dosh because I copied it H",
    "start": "5709560",
    "end": "5716840"
  },
  {
    "text": "with a product copy files I have a root directory I have symbols directory I",
    "start": "5716840",
    "end": "5723239"
  },
  {
    "text": "have C system object and so on so forth these are intermediate directories and",
    "start": "5723239",
    "end": "5729040"
  },
  {
    "text": "then I have Ramis image which will have the contents of the",
    "start": "5729040",
    "end": "5734719"
  },
  {
    "text": "root folder I can show it to you later I can prove it I have system image which",
    "start": "5734719",
    "end": "5739880"
  },
  {
    "text": "will have the content of the system folder um as user data image that",
    "start": "5739880",
    "end": "5746639"
  },
  {
    "text": "initially contains some stuff from the data folder but once I run it it gets",
    "start": "5746639",
    "end": "5751760"
  },
  {
    "text": "overridden and then the the data folder doesn't get overridden and I have cach image which I created with this DD and",
    "start": "5751760",
    "end": "5758400"
  },
  {
    "text": "make a. tx4 so um now I want to run it so if I",
    "start": "5758400",
    "end": "5765119"
  },
  {
    "text": "do KVM Dosh this is the serial",
    "start": "5765119",
    "end": "5773280"
  },
  {
    "text": "console and this is Android so you saw it was",
    "start": "5775880",
    "end": "5781400"
  },
  {
    "text": "this it's with control the if you saw then it was pretty fast like H putting",
    "start": "5781400",
    "end": "5787000"
  },
  {
    "text": "it up I shoot every terminal",
    "start": "5787000",
    "end": "5795080"
  },
  {
    "text": "emulator search is stopped not my fault but",
    "start": "5795800",
    "end": "5802239"
  },
  {
    "text": "um okay so basically I have my terminal emulator",
    "start": "5802239",
    "end": "5807400"
  },
  {
    "text": "here and I also add like my Alo this is too small you can't see anything uh",
    "start": "5807400",
    "end": "5814600"
  },
  {
    "text": "so I I'll connect a a tap device later and I'll do it with my second example but the important thing is that if I",
    "start": "5814600",
    "end": "5821800"
  },
  {
    "text": "look if this moved okay if I look at a settings and about phone and so on so",
    "start": "5821800",
    "end": "5828960"
  },
  {
    "text": "forth then I can look that um the build number here is ELC 214 blah blah blah",
    "start": "5829159",
    "end": "5836600"
  },
  {
    "text": "blah blah blah blah my build name and um Android version is 4.4 and now it's e",
    "start": "5836600",
    "end": "5843639"
  },
  {
    "text": "usually it would be a k or a probably because the name of the device is",
    "start": "5843639",
    "end": "5849080"
  },
  {
    "text": "LC and uh the Kel version is 3.4.5 I use the preil Kel and that's pretty much my",
    "start": "5849080",
    "end": "5858320"
  },
  {
    "text": "device now the resolutions a lot higher than yeah it's not 788 I think I put it",
    "start": "5858320",
    "end": "5866800"
  },
  {
    "text": "764 um there are some codes for the VGA resolutions um if you can provide when",
    "start": "5866800",
    "end": "5874560"
  },
  {
    "text": "the VG with the VGA parameter so this is one example and another example would",
    "start": "5874560",
    "end": "5880960"
  },
  {
    "text": "be if I use a tap KVM device and then I'd be able also to I created a tap",
    "start": "5880960",
    "end": "5886800"
  },
  {
    "text": "device I gave my device a predefined IP um and then I'll be able to connect to",
    "start": "5886800",
    "end": "5892360"
  },
  {
    "text": "it if I wanted to so I could do like ADB ADB",
    "start": "5892360",
    "end": "5898970"
  },
  {
    "text": "[Music] connect this is the AP I gave it",
    "start": "5898970",
    "end": "5905440"
  },
  {
    "text": "okay so it's connected and if I do ADB shell then",
    "start": "5907639",
    "end": "5914280"
  },
  {
    "text": "I'll see that proc version is my kernel is a2d 6420 my old computer and I can",
    "start": "5914280",
    "end": "5923320"
  },
  {
    "text": "see that uh for example what can interest me like",
    "start": "5923320",
    "end": "5929480"
  },
  {
    "text": "the CPU info cat proc CPU info",
    "start": "5929480",
    "end": "5935440"
  },
  {
    "text": "oh of course Brock CPU info then I can see here that it's a qmu virtual CPU I",
    "start": "5935639",
    "end": "5942000"
  },
  {
    "text": "give it for processor and so on so forth so one last thing um so this is pretty",
    "start": "5942000",
    "end": "5948360"
  },
  {
    "text": "much the device that I have I can actually navigate it and ADB shell you",
    "start": "5948360",
    "end": "5953960"
  },
  {
    "text": "know what I can even do ADB lock at and do less so the first thing I see",
    "start": "5953960",
    "end": "5960280"
  },
  {
    "text": "the look at is theow native Android World which is what I written to the log in my amazing and low Android example so",
    "start": "5960280",
    "end": "5969440"
  },
  {
    "text": "this is a full-fledged Android device right so uh that's pretty",
    "start": "5969440",
    "end": "5975159"
  },
  {
    "text": "nice another thing I can do now is actually run something with the",
    "start": "5975159",
    "end": "5981360"
  },
  {
    "text": "vanilla",
    "start": "5981360",
    "end": "5983719"
  },
  {
    "text": "kernel and you'll see now the Penguins you saw that so this is",
    "start": "5986679",
    "end": "5992679"
  },
  {
    "text": "something I compile from the vanilla kernel but I can show you the configs um but we will soon run out of time",
    "start": "5992679",
    "end": "5999960"
  },
  {
    "text": "basically I just uh enable staging area enable everything in Android and this",
    "start": "5999960",
    "end": "6007000"
  },
  {
    "text": "one is a flower resol a bit lower resolution but it's still fine there's a problem with the",
    "start": "6007000",
    "end": "6013760"
  },
  {
    "text": "mouse",
    "start": "6013760",
    "end": "6016118"
  },
  {
    "text": "here so there is a problem with the mouse here never mind but I can show you if I connect to this",
    "start": "6021920",
    "end": "6030000"
  },
  {
    "text": "device if I connected to this device I could show you that uh let's",
    "start": "6030719",
    "end": "6038559"
  },
  {
    "text": "see okay so if I connect to this device I can see that actually the kernel version",
    "start": "6047280",
    "end": "6054440"
  },
  {
    "text": "here is a 3.2.6 okay so it's a vanilla kernel",
    "start": "6054440",
    "end": "6063239"
  },
  {
    "text": "and and that's pretty that's pretty nice I mean I I I pretty much Ed the same",
    "start": "6063239",
    "end": "6069280"
  },
  {
    "text": "thing I just replaced the kernel and when I wanted to build the kernel I'll show you my kernel",
    "start": "6069280",
    "end": "6074920"
  },
  {
    "text": "directory so um I think I use the 3.12 6 so if I have",
    "start": "6074920",
    "end": "6082320"
  },
  {
    "text": "a look at my config then I'll see that I have staging area config staging equals yes I have a",
    "start": "6082320",
    "end": "6090760"
  },
  {
    "text": "couple of Android parameters like cig Android equals y Android binder IPC logger timed",
    "start": "6090760",
    "end": "6097480"
  },
  {
    "text": "output low memory killer in alarm Dev I should have a couple of Vero parameters",
    "start": "6097480",
    "end": "6103960"
  },
  {
    "text": "Vero block Vero net and obviously config Vero should be here somewhere yeah and I",
    "start": "6103960",
    "end": "6110119"
  },
  {
    "text": "have a couple of visa and FB stuff so so this is the kernel configuration I made",
    "start": "6110119",
    "end": "6115159"
  },
  {
    "text": "and this is a vanilla kernel I mean I didn't do anything there is it's like I'm not sure how how how familiar most",
    "start": "6115159",
    "end": "6122679"
  },
  {
    "text": "of you are with kernel developments but you know it's just trial and error and it's just you know just a take the",
    "start": "6122679",
    "end": "6129719"
  },
  {
    "text": "guidelines I said about the configs and if it doesn't work then try a brother of",
    "start": "6129719",
    "end": "6135320"
  },
  {
    "text": "the family and it will work like for this kind of devices especially for the qmu so I actually showed you a fully",
    "start": "6135320",
    "end": "6142080"
  },
  {
    "text": "fledged um tree which pretty much shows you you it can get you started with the",
    "start": "6142080",
    "end": "6149239"
  },
  {
    "text": "build of a Android device of custom device for x86 both with an Android based kernel or with an Android goldfish",
    "start": "6149239",
    "end": "6156480"
  },
  {
    "text": "emulator or with a vanilla based emulator so",
    "start": "6156480",
    "end": "6162679"
  },
  {
    "text": "um that that's pretty much it as per uh the device customizations and I want to",
    "start": "6162679",
    "end": "6169840"
  },
  {
    "text": "conclude with a couple of uh guidelines about um the build folders and so forth",
    "start": "6169840",
    "end": "6175800"
  },
  {
    "text": "so when you do basically we we went over the build folder and about the device folder and we talked about how to add a",
    "start": "6175800",
    "end": "6182840"
  },
  {
    "text": "new device and you can find it in GitHub or nuo but when you actually want to",
    "start": "6182840",
    "end": "6187960"
  },
  {
    "text": "deal with qmu you need to be aware of the following challenges you need to adjust the kernel to work with your qmu",
    "start": "6187960",
    "end": "6195800"
  },
  {
    "text": "version you need to know what qmu parameters you run because when you have an Hardware emulator like a qmu then it",
    "start": "6195800",
    "end": "6204159"
  },
  {
    "text": "has a lot of options and if you for example choose one net device and you do not enable it in the kernel then it will",
    "start": "6204159",
    "end": "6209480"
  },
  {
    "text": "not have Network so you need to adjust the devices um Graphics you should",
    "start": "6209480",
    "end": "6216679"
  },
  {
    "text": "probably refrain from using Hardware acceleration and the SD card you should",
    "start": "6216679",
    "end": "6222520"
  },
  {
    "text": "uh do the tricker decide how to mount it where to mount it and in KitKat it's",
    "start": "6222520",
    "end": "6227599"
  },
  {
    "text": "extremely important because almost nothing works without an SD card the browser will cease to work if you don't",
    "start": "6227599",
    "end": "6233119"
  },
  {
    "text": "specifying SD card so um that's pretty much um it",
    "start": "6233119",
    "end": "6239520"
  },
  {
    "text": "about it so one more thing I'd like to tell you is that uh you should be when",
    "start": "6239520",
    "end": "6246480"
  },
  {
    "text": "you want to work on a real device and not on an emulator then you should really be worried about be worried about",
    "start": "6246480",
    "end": "6252440"
  },
  {
    "text": "the blobs about the binary blobs it is always a problem with every hardware and",
    "start": "6252440",
    "end": "6258520"
  },
  {
    "text": "uh if you make a real device you need to know your Hardware but uh what I showed",
    "start": "6258520",
    "end": "6263639"
  },
  {
    "text": "you right here should get you started at least with building a fast prototypes or building fast emulators b or build the",
    "start": "6263639",
    "end": "6271119"
  },
  {
    "text": "prototypes for any x86 based device using a vanilla kernel and then you can",
    "start": "6271119",
    "end": "6277080"
  },
  {
    "text": "just reproduce the very same steps just as is just a couple of um Source if you",
    "start": "6277080",
    "end": "6282960"
  },
  {
    "text": "want to start hacking the code then you'd probably want to go to source.android.com the Android tax 36.",
    "start": "6282960",
    "end": "6289239"
  },
  {
    "text": "org project and which always happy to receive volunteers is in",
    "start": "6289239",
    "end": "6295440"
  },
  {
    "text": "android-x 6.org the Android IIA product is also at Intel 01g androida and the",
    "start": "6295440",
    "end": "6302880"
  },
  {
    "text": "device tree is on github.com rubo and you're more than welcome to contact me for any question and um thank",
    "start": "6302880",
    "end": "6313060"
  },
  {
    "text": "[Applause]",
    "start": "6313060",
    "end": "6319389"
  },
  {
    "text": "you",
    "start": "6321960",
    "end": "6324960"
  }
]