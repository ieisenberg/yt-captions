[
  {
    "start": "0",
    "end": "302000"
  },
  {
    "text": "[Music]",
    "start": "680",
    "end": "8549"
  },
  {
    "text": "hello q con plus today i will be presenting unwinding a decade of assumptions architecting new",
    "start": "15120",
    "end": "22080"
  },
  {
    "text": "experiences i love puzzles this is one of my favorite puzzles",
    "start": "22080",
    "end": "28000"
  },
  {
    "text": "because it's one of my favorite shows it depicts a group of bank robbers celebrating their big score",
    "start": "28000",
    "end": "35120"
  },
  {
    "text": "there was just one problem with this puzzle when we pulled it out of the box i found that the edges",
    "start": "35120",
    "end": "41360"
  },
  {
    "text": "it was hard to see where the pieces would go and the contrast it was hard to see the differences between colors",
    "start": "41360",
    "end": "48079"
  },
  {
    "text": "and so this was a really hard puzzle to to look at and even in the best light i found",
    "start": "48079",
    "end": "54480"
  },
  {
    "text": "myself having trouble putting it together this is a lot like working in microservices when you work on a service",
    "start": "54480",
    "end": "62079"
  },
  {
    "text": "you know how your service fits with another service but it can be hard to see the bigger picture",
    "start": "62079",
    "end": "68960"
  },
  {
    "text": "hi my name is cole turner and i'm a senior software engineer at netflix",
    "start": "69920",
    "end": "75920"
  },
  {
    "text": "i build client-side applications for the non-member website which is where our customers go when they are logged out or",
    "start": "75920",
    "end": "82960"
  },
  {
    "text": "don't have an account a lot of the work that i do is building uis that interface with upstream",
    "start": "82960",
    "end": "89280"
  },
  {
    "text": "microservices and so in my experience i've seen this interaction between how microservices",
    "start": "89280",
    "end": "95759"
  },
  {
    "text": "work together now before we get started i'm going to",
    "start": "95759",
    "end": "101439"
  },
  {
    "text": "briefly describe what a microservice is so that we're all on the same page",
    "start": "101439",
    "end": "106799"
  },
  {
    "text": "when we arrange our application into loosely coupled components developers have more leverage",
    "start": "106799",
    "end": "114240"
  },
  {
    "text": "we have a client that talks to our api or edge which is responsible for creating all of",
    "start": "114240",
    "end": "121520"
  },
  {
    "text": "the data that the client needs by talking to microservices",
    "start": "121520",
    "end": "127798"
  },
  {
    "text": "these services can depend on each other or operate independently",
    "start": "128080",
    "end": "133280"
  },
  {
    "text": "services are often designed around modular functionality or business domains",
    "start": "133280",
    "end": "139599"
  },
  {
    "text": "and it's no secret that at netflix we love microservices they are a fundamental part of our",
    "start": "139599",
    "end": "146319"
  },
  {
    "text": "architecture allowing us to operate and scale globally in the cloud",
    "start": "146319",
    "end": "151680"
  },
  {
    "text": "they're crucial to our business where we seek to entertain the world",
    "start": "151680",
    "end": "156720"
  },
  {
    "text": "reaching billions of people and a lot of you know that netflix was an",
    "start": "156720",
    "end": "163360"
  },
  {
    "text": "early pioneer of microservices but it first began as a java monolith when we built our website for dvd in 1998",
    "start": "163360",
    "end": "173120"
  },
  {
    "text": "when the application was deployed all of the libraries across all of the engineering teams were pulled together",
    "start": "173120",
    "end": "180480"
  },
  {
    "text": "built and deployed in one go this would take a lot of time and you",
    "start": "180480",
    "end": "185760"
  },
  {
    "text": "know the biggest problem with this is if there was any issues with just one of those libraries that meant all of the",
    "start": "185760",
    "end": "192159"
  },
  {
    "text": "engineering teams were responsible to be on alert and investigate the issue",
    "start": "192159",
    "end": "198159"
  },
  {
    "text": "in 2009 our engineering teams set out for the migration to microservices",
    "start": "198159",
    "end": "204239"
  },
  {
    "text": "it began with our non-customer-facing parts of netflix and then later our consumer product",
    "start": "204239",
    "end": "211040"
  },
  {
    "text": "over the next few years netflix would also carve out its edge api which is where our clients",
    "start": "211040",
    "end": "217840"
  },
  {
    "text": "talk through the gateway to upstream microservices this division between microservices",
    "start": "217840",
    "end": "224560"
  },
  {
    "text": "allowed all of our engineering teams to focus on what matters most what they're good at and what their",
    "start": "224560",
    "end": "231120"
  },
  {
    "text": "workload is the diagram you're seeing here represents the flow of requests from the",
    "start": "231120",
    "end": "238480"
  },
  {
    "text": "client through our gateways to upstream microservices as requests come in from clients they",
    "start": "238480",
    "end": "245360"
  },
  {
    "text": "pass through our routing and api tiers and onward up to the services",
    "start": "245360",
    "end": "251680"
  },
  {
    "text": "so now i'm going to talk about what a microservice looks like in netflix our microservices are made up of a",
    "start": "251680",
    "end": "258079"
  },
  {
    "text": "client library a persistence layer and a cache layer when a request comes in through rest or",
    "start": "258079",
    "end": "264320"
  },
  {
    "text": "grpc it will use either one of the service client or the cache client to",
    "start": "264320",
    "end": "269360"
  },
  {
    "text": "fetch data the cache client will pull from one of our ev cache stores which is a netflix",
    "start": "269360",
    "end": "275840"
  },
  {
    "text": "open source solution for distributed in memory cache if the data is found there then it will",
    "start": "275840",
    "end": "282240"
  },
  {
    "text": "return from there but if not then it will use the service client to pull from a persistence data store such as mysql",
    "start": "282240",
    "end": "290400"
  },
  {
    "text": "cassandra etc this combination of cache and persistent layer allows our services to scale to",
    "start": "290400",
    "end": "298479"
  },
  {
    "text": "thousands of requests per second that's a lot and now i'm going to tell you a story",
    "start": "298479",
    "end": "305120"
  },
  {
    "start": "302000",
    "end": "519000"
  },
  {
    "text": "about the hidden cost of simple assumptions when it comes to microservice architecture",
    "start": "305120",
    "end": "311600"
  },
  {
    "text": "in 2019 we unveiled a new user experience where visitors coming to",
    "start": "311600",
    "end": "316680"
  },
  {
    "text": "netflix.com could watch free content we wanted them to be able to watch from",
    "start": "316680",
    "end": "321919"
  },
  {
    "text": "a limited selection of select shows right on their mobile device",
    "start": "321919",
    "end": "327440"
  },
  {
    "text": "they would be able to watch from their browser without having to download the netflix app",
    "start": "327440",
    "end": "332479"
  },
  {
    "text": "but here's the catch the users would not be asked to log in or sign up for an account",
    "start": "332479",
    "end": "338800"
  },
  {
    "text": "they'd be able to watch free content without even having to provide an email address or selecting a plan",
    "start": "338800",
    "end": "346160"
  },
  {
    "text": "this was 15 years of netflix history that we were trying to unravel we",
    "start": "346160",
    "end": "352160"
  },
  {
    "text": "unlocked drm protected playback for non-members without an account",
    "start": "352160",
    "end": "358160"
  },
  {
    "text": "we enabled playback on mobile web browsers for the first time and we did all of this without having to",
    "start": "358160",
    "end": "365600"
  },
  {
    "text": "rebuild our entire microservice architecture it sounds easy right",
    "start": "365600",
    "end": "371919"
  },
  {
    "text": "just flip a switch and allow non-members the ability to do what our members have been doing for over a decade",
    "start": "371919",
    "end": "378639"
  },
  {
    "text": "on the surface it sounds like a few lines of code a piece of cake",
    "start": "378639",
    "end": "384479"
  },
  {
    "text": "we knew going into this project that our backend teams you know were built around",
    "start": "384479",
    "end": "389520"
  },
  {
    "text": "members and subscription plans and that we knew we would have to change that or at least confront it but before we could",
    "start": "389520",
    "end": "396240"
  },
  {
    "text": "do that we needed some answers we needed to understand",
    "start": "396240",
    "end": "402880"
  },
  {
    "text": "how all the pieces fit together playback has always been a member feature and this was the first time that",
    "start": "402880",
    "end": "409440"
  },
  {
    "text": "our non-member teams needed that domain knowledge and we knew that this was going to be a",
    "start": "409440",
    "end": "414720"
  },
  {
    "text": "significant effort but what we didn't know was the assumptions we were making about the level of effort and the impact",
    "start": "414720",
    "end": "421360"
  },
  {
    "text": "that it would have on our back end teams and lastly we needed to know which teams to talk to",
    "start": "421360",
    "end": "427759"
  },
  {
    "text": "we needed to know are we doing the right thing who is this going to impact and what i love about netflix is that",
    "start": "427759",
    "end": "433599"
  },
  {
    "text": "our culture embodies this highly aligned loosely coupled teams that collaborate",
    "start": "433599",
    "end": "438800"
  },
  {
    "text": "well together our product and engineering teams are amazing at collaboration because we",
    "start": "438800",
    "end": "444479"
  },
  {
    "text": "socialize on what we're trying to do so now that we had our answers it was",
    "start": "444479",
    "end": "449680"
  },
  {
    "text": "time to get to work at a high level the puzzle pieces looked like this",
    "start": "449680",
    "end": "454800"
  },
  {
    "text": "our ui and streaming client would talk through the gateway to the play api orchestration layer and to",
    "start": "454800",
    "end": "461919"
  },
  {
    "text": "allow non-members we needed to coordinate with those engineering teams",
    "start": "461919",
    "end": "468160"
  },
  {
    "text": "so we partnered with them and for months we worked on orchestrating a non-member getting playback to work",
    "start": "468160",
    "end": "474800"
  },
  {
    "text": "and while this isn't everybody who was involved in the project we worked diligently with our other microservice",
    "start": "474800",
    "end": "481840"
  },
  {
    "text": "teams to make this all work and now i want to tell you about the biggest challenge that we faced",
    "start": "481840",
    "end": "489520"
  },
  {
    "text": "many of our services upstream had this built-in assumption that anytime they",
    "start": "489520",
    "end": "494800"
  },
  {
    "text": "would be called there would always be a user object that's because for the longest time they",
    "start": "494800",
    "end": "500479"
  },
  {
    "text": "were only ever called with a user object these assumptions were prolific and one",
    "start": "500479",
    "end": "506319"
  },
  {
    "text": "of the most challenging for our team to address because we're dealing with non-members",
    "start": "506319",
    "end": "511599"
  },
  {
    "text": "and non-members aren't logged in and if they're not logged in there is no user object",
    "start": "511599",
    "end": "518479"
  },
  {
    "text": "so our team started working together to figure out how to get around this problem we looked at several options the first",
    "start": "519039",
    "end": "526560"
  },
  {
    "text": "option that we looked at was could we create a user for every non-member coming to the website",
    "start": "526560",
    "end": "532880"
  },
  {
    "text": "this would prove to be expensive because we expect high volumes of non-member traffic",
    "start": "532880",
    "end": "537920"
  },
  {
    "text": "and it would be wasteful because the account would only last as long as their browser's session",
    "start": "537920",
    "end": "544560"
  },
  {
    "text": "and so we needed to explore other options the second option was",
    "start": "544560",
    "end": "549600"
  },
  {
    "text": "could we work with the services to provide support for non-members would they be able to support if there",
    "start": "549600",
    "end": "556080"
  },
  {
    "text": "is a user object or not but this was also expensive because it",
    "start": "556080",
    "end": "561440"
  },
  {
    "text": "would take them months if not years to build support for this and that's a risk because while we're",
    "start": "561440",
    "end": "567760"
  },
  {
    "text": "trying to get something out the door this would delay our project this would delay us years",
    "start": "567760",
    "end": "574560"
  },
  {
    "text": "and so we had to look at another option so the third option that we looked at was would we be able to fake it could we",
    "start": "574560",
    "end": "582160"
  },
  {
    "text": "mock a user object with a non-member we liked this solution because it's easier",
    "start": "582160",
    "end": "588399"
  },
  {
    "text": "it takes less work and it's a good shortcut that would hold us over while the long-term strategy is planned out",
    "start": "588399",
    "end": "596000"
  },
  {
    "text": "this was the option that we felt was best for us because between the options it would allow us to get our feature out",
    "start": "596000",
    "end": "602480"
  },
  {
    "text": "the door so we looked at how we would make this option work",
    "start": "602480",
    "end": "608399"
  },
  {
    "text": "when a client makes a request through the gateway the service call contains a context object to identify the user and",
    "start": "608399",
    "end": "615519"
  },
  {
    "text": "their device the request then goes through the playback api orchestration layer where",
    "start": "615519",
    "end": "622000"
  },
  {
    "text": "it talks to subscriber for the source of truth this source of truth tells us whether or not the user is eligible for",
    "start": "622000",
    "end": "628399"
  },
  {
    "text": "playback based on their account and device settings",
    "start": "628399",
    "end": "633680"
  },
  {
    "text": "but what if there is no user so our playback api teams started to",
    "start": "633680",
    "end": "639760"
  },
  {
    "text": "mock the non-member user which meant that they no longer needed to call the subscriber microservice",
    "start": "639760",
    "end": "646240"
  },
  {
    "text": "by mocking the user the play api orchestration layer would be able to fulfill all of the requirements to meet",
    "start": "646240",
    "end": "653200"
  },
  {
    "text": "the playback lifecycle one outcome to this option was that now",
    "start": "653200",
    "end": "659360"
  },
  {
    "text": "this would be the terminal stop for non-members in the service call this would reduce the pressure of requests on",
    "start": "659360",
    "end": "665519"
  },
  {
    "text": "upstream services another outcome which is my favorite is that those teams would no longer need to",
    "start": "665519",
    "end": "671760"
  },
  {
    "text": "do any work on their side for us to get our experiment out the door this would hold us over for the short",
    "start": "671760",
    "end": "678480"
  },
  {
    "text": "term and we liked this but we really were hungry for a more long-term solution and so we started to think",
    "start": "678480",
    "end": "685200"
  },
  {
    "text": "about how users at would access netflix in the future",
    "start": "685200",
    "end": "690959"
  },
  {
    "text": "in 2020 our access and identity management team set out to unwind these assumptions",
    "start": "691600",
    "end": "697839"
  },
  {
    "text": "and look for a more long-term solution they partnered with engineering and product teams across the company",
    "start": "697839",
    "end": "705040"
  },
  {
    "text": "to align on a vision for how we think about users accessing netflix as a result we all came to the",
    "start": "705040",
    "end": "711519"
  },
  {
    "text": "conclusion that we needed more leverage to control user friction with granularity and more flexibility",
    "start": "711519",
    "end": "720079"
  },
  {
    "text": "since then they've set out to refine our access control strategy",
    "start": "720079",
    "end": "726720"
  },
  {
    "text": "we started by looking at what strategies we already had in place our primary strategy for access control",
    "start": "726720",
    "end": "733519"
  },
  {
    "text": "was a role-based strategy our role-based strategy has largely",
    "start": "733519",
    "end": "739440"
  },
  {
    "text": "revolved around whether or not the user is a member and has an active subscription plan",
    "start": "739440",
    "end": "745200"
  },
  {
    "text": "when a user tries to play back our services are checking these things and deciding whether or not they are",
    "start": "745200",
    "end": "750959"
  },
  {
    "text": "eligible this strategy works well when the user experience has very clear boundaries",
    "start": "750959",
    "end": "758800"
  },
  {
    "text": "across very clear role types this kind of strategy is easy to use",
    "start": "758800",
    "end": "764639"
  },
  {
    "text": "because it doesn't require a lot of complexity across your services however it's harder to scale",
    "start": "764639",
    "end": "772399"
  },
  {
    "text": "because as the number of access points increase as the number of roles increase",
    "start": "772399",
    "end": "778000"
  },
  {
    "text": "there is a lot of ambiguity and a lot of work to be done at netflix we found that this role-based",
    "start": "778000",
    "end": "785600"
  },
  {
    "text": "strategy was hard for us to scale to do the kind of user experience and learnings that we",
    "start": "785600",
    "end": "790800"
  },
  {
    "text": "wanted to do so we needed to explore another strategy we started looking at",
    "start": "790800",
    "end": "797279"
  },
  {
    "text": "attribute based access control this strategy is one where the permissions are contextually aware and",
    "start": "797279",
    "end": "804320"
  },
  {
    "text": "can take in factors from multiple sources such as who is the user",
    "start": "804320",
    "end": "810240"
  },
  {
    "text": "what are they trying to access how are they trying to access it and what environment are they in",
    "start": "810240",
    "end": "816800"
  },
  {
    "text": "let's look at an example in this example we have a permission of whether or not the user can play back",
    "start": "816800",
    "end": "823600"
  },
  {
    "text": "this permission leverages several properties about the users such as do they have an account",
    "start": "823600",
    "end": "829360"
  },
  {
    "text": "do they have a subscription plan which device are they trying to access from and where in the world are they",
    "start": "829360",
    "end": "836240"
  },
  {
    "text": "and what's nice about this strategy is if we wanted to evolve this permission we can take into account other factors",
    "start": "836240",
    "end": "843040"
  },
  {
    "text": "such as expanding the policy to include a b allocations or any other factor that we can model in",
    "start": "843040",
    "end": "850480"
  },
  {
    "text": "our back end and when we compare these two strategies side by side",
    "start": "850480",
    "end": "856639"
  },
  {
    "text": "there are a lot of reasons to prefer attribute based access control",
    "start": "856639",
    "end": "861760"
  },
  {
    "text": "this strategy provides more granularity which gives us more leverage over user friction",
    "start": "861760",
    "end": "868160"
  },
  {
    "text": "this strategy gives us more flexibility that if we want to come up with new ideas or implement new permissions we",
    "start": "868160",
    "end": "874399"
  },
  {
    "text": "don't have to do a lot of work and moreover this strategy gives us the",
    "start": "874399",
    "end": "879440"
  },
  {
    "text": "ability to scale better because rather than making a change across our entire architecture we can make a change just",
    "start": "879440",
    "end": "886079"
  },
  {
    "text": "in one service on the other hand if your user experience only has a",
    "start": "886079",
    "end": "892639"
  },
  {
    "text": "limited number of access points or a limited number of roles then a role-based access control",
    "start": "892639",
    "end": "899360"
  },
  {
    "text": "strategy is still an excellent choice because of the simplicity it provides",
    "start": "899360",
    "end": "905440"
  },
  {
    "text": "looking back at our experiment we would have avoided a lot of time and heartache with an attribute based access",
    "start": "905440",
    "end": "912240"
  },
  {
    "text": "control strategy with permissions our play api can fetch from the",
    "start": "912240",
    "end": "918079"
  },
  {
    "text": "permission service to determine if the user is eligible the permission service will look at the request context",
    "start": "918079",
    "end": "924639"
  },
  {
    "text": "such as who is the user which device they're trying to access from and any other number of factors it can also pull",
    "start": "924639",
    "end": "931839"
  },
  {
    "text": "information from other services it will then cache and return the result back",
    "start": "931839",
    "end": "937519"
  },
  {
    "text": "and now we know whether or not the user is eligible however there are times where we want to",
    "start": "937519",
    "end": "944480"
  },
  {
    "text": "show more friction or add some extra steps when the permission is denied",
    "start": "944480",
    "end": "950000"
  },
  {
    "text": "a good example is when your kids are logged into netflix and you don't want them to accidentally spend more of your",
    "start": "950000",
    "end": "955839"
  },
  {
    "text": "money on a more expensive plan when our permission service is getting",
    "start": "955839",
    "end": "961600"
  },
  {
    "text": "requests from hundreds of services and uis we want to make sure that it doesn't become a single point of failure and",
    "start": "961600",
    "end": "968959"
  },
  {
    "text": "take all of netflix down our teams have thoughtfully leveraged",
    "start": "968959",
    "end": "974639"
  },
  {
    "text": "multiple strategies to make sure that doesn't happen including caching and fallbacks as well as standard practices",
    "start": "974639",
    "end": "981759"
  },
  {
    "text": "of scaling availability and performance",
    "start": "981759",
    "end": "987040"
  },
  {
    "start": "985000",
    "end": "1275000"
  },
  {
    "text": "all of this really excites me because i see how it sets our teams up for success",
    "start": "987040",
    "end": "992480"
  },
  {
    "text": "when we have a single service governing access control then our source of truth becomes centralized instead of",
    "start": "992480",
    "end": "999279"
  },
  {
    "text": "distributed and when we use attributes for access control",
    "start": "999279",
    "end": "1005120"
  },
  {
    "text": "then we have more leverage to control user friction with more granularity and flexibility",
    "start": "1005120",
    "end": "1011279"
  },
  {
    "text": "this lets us tailor our user experiences and really try out new things with ease",
    "start": "1011279",
    "end": "1017759"
  },
  {
    "text": "this feels like the future to me i would call this the future of microservice permissions because this",
    "start": "1017759",
    "end": "1024319"
  },
  {
    "text": "model lets us scale our efforts and we can rapidly experiment and learn",
    "start": "1024319",
    "end": "1029360"
  },
  {
    "text": "how to deliver the most exceptional experiences for our customers",
    "start": "1029360",
    "end": "1035438"
  },
  {
    "text": "and with all of that said i want to talk about one assumption we often make about microservices",
    "start": "1035439",
    "end": "1042079"
  },
  {
    "text": "you only ever hear people talk about how good it is and how it speeds up innovation",
    "start": "1042079",
    "end": "1047678"
  },
  {
    "text": "but that's not always true it would have taken a great deal of time and effort for us to have done this all",
    "start": "1047679",
    "end": "1054640"
  },
  {
    "text": "before our experiment we would have had to gather all of the engineering teams",
    "start": "1054640",
    "end": "1060080"
  },
  {
    "text": "assemble share context agree on time frames and milestones",
    "start": "1060080",
    "end": "1066559"
  },
  {
    "text": "and then that's before we even get into development even developing it would have taken",
    "start": "1066559",
    "end": "1072000"
  },
  {
    "text": "years and so we optimized our plan for what we could do in the short term",
    "start": "1072000",
    "end": "1079200"
  },
  {
    "text": "while our teams were invested in a long-term strategy we had to get something out the door and then we would follow up with a",
    "start": "1079200",
    "end": "1086160"
  },
  {
    "text": "long-term solution the message here is that we need to plan ahead",
    "start": "1086160",
    "end": "1091440"
  },
  {
    "text": "and that our technical problems are not always embedded in technical solutions",
    "start": "1091440",
    "end": "1097840"
  },
  {
    "text": "there are always non-technical dimensions here and now i would like to leave you with",
    "start": "1097840",
    "end": "1103280"
  },
  {
    "text": "three key takeaways the first takeaway is that assumptions are natural",
    "start": "1103280",
    "end": "1108480"
  },
  {
    "text": "and it's our job to unwind them together we need to collaborate and gather all of",
    "start": "1108480",
    "end": "1114000"
  },
  {
    "text": "our stakeholders we need to ask ourselves who needs to be involved in the discussion and who is missing from",
    "start": "1114000",
    "end": "1119919"
  },
  {
    "text": "the conversation this way we make sure we're gathering enough context but also we know which",
    "start": "1119919",
    "end": "1126160"
  },
  {
    "text": "solutions exist already and which ones don't this will also inform us what is going",
    "start": "1126160",
    "end": "1132000"
  },
  {
    "text": "to be the level of effort so that we can evaluate the trade-offs and make the best decision",
    "start": "1132000",
    "end": "1138799"
  },
  {
    "text": "all of you can be facilitators in this process the second key takeaway i want to talk",
    "start": "1138799",
    "end": "1145840"
  },
  {
    "text": "about is we need to invest in long-term strategies that can be paid off over",
    "start": "1145840",
    "end": "1151360"
  },
  {
    "text": "time it's not enough just to solve this one problem but we need to anticipate how",
    "start": "1151360",
    "end": "1156960"
  },
  {
    "text": "this might snowball or how this solution will continue to evolve as our needs",
    "start": "1156960",
    "end": "1162240"
  },
  {
    "text": "evolve because the conversation will continue and our customers will come back with additional requests",
    "start": "1162240",
    "end": "1168799"
  },
  {
    "text": "and we want to make sure that this works for the long term this will also help us with our next key",
    "start": "1168799",
    "end": "1174960"
  },
  {
    "text": "takeaway our third key takeaway is that we need to size our efforts by risk and reward",
    "start": "1174960",
    "end": "1181760"
  },
  {
    "text": "a long-term strategy is great but we need to get something out there because we can't spend forever trying to work on",
    "start": "1181760",
    "end": "1188640"
  },
  {
    "text": "the best most ideal solution because we might never get there you know",
    "start": "1188640",
    "end": "1194320"
  },
  {
    "text": "priorities change businesses have new needs or maybe you're in a company where you're running out of money",
    "start": "1194320",
    "end": "1200880"
  },
  {
    "text": "and so you want to make sure that you're sizing your efforts by what can we get done today and what will pay off",
    "start": "1200880",
    "end": "1208480"
  },
  {
    "text": "and then invest in those long-term strategies the last thought i'll leave you with is",
    "start": "1208480",
    "end": "1215039"
  },
  {
    "text": "that the difference between programming and engineering is vastly different",
    "start": "1215039",
    "end": "1220400"
  },
  {
    "text": "programming is just writing code and solving problems but engineering is all",
    "start": "1220400",
    "end": "1225520"
  },
  {
    "text": "of the collaboration and communication that happens to make us more effective in doing that",
    "start": "1225520",
    "end": "1232799"
  },
  {
    "text": "because engineering is about bringing the group together so that we're all on the same page and",
    "start": "1232799",
    "end": "1237840"
  },
  {
    "text": "we're doing the right thing for what's best for our business and when we do this we pursue",
    "start": "1237840",
    "end": "1245120"
  },
  {
    "text": "the non-technical realm we're talking to people we're engaging we're having a good time while we're",
    "start": "1245120",
    "end": "1250799"
  },
  {
    "text": "doing it because that is what makes us better engineers",
    "start": "1250799",
    "end": "1256240"
  },
  {
    "text": "thank you all for joining and listening i really hope you enjoyed hearing me talk about microservices and assumptions",
    "start": "1257039",
    "end": "1264480"
  },
  {
    "text": "if you want to hear more from me you can follow me on twitter at cole turner",
    "start": "1264480",
    "end": "1270000"
  },
  {
    "text": "and i hope you enjoy the rest of the presentations at qcon",
    "start": "1270000",
    "end": "1275640"
  },
  {
    "start": "1275000",
    "end": "1442000"
  },
  {
    "text": "thank you so much cole was um great to have you and thank you so much for the talk i'm sure everybody really uh",
    "start": "1277360",
    "end": "1282720"
  },
  {
    "text": "enjoyed that so um the there's quite a few questions uh which have come up in the chat um so i think",
    "start": "1282720",
    "end": "1290640"
  },
  {
    "text": "uh let's uh let's dive maybe into some of those so there's quite a few so i'm going to try and kind of group things",
    "start": "1290640",
    "end": "1296559"
  },
  {
    "text": "but if we don't get to to all of them i think we can hang out in the hangout",
    "start": "1296559",
    "end": "1301600"
  },
  {
    "text": "session and i'm sure you can answer people there as well so um maybe one of the one of the questions",
    "start": "1301600",
    "end": "1307919"
  },
  {
    "text": "uh which came up is around um the sort of our back abac thing um so one of the",
    "start": "1307919",
    "end": "1314080"
  },
  {
    "text": "questions was um how much time did it actually take to overhaul this sort of authentication move from uh role-based",
    "start": "1314080",
    "end": "1320880"
  },
  {
    "text": "access control to attribute based and i probably throw another sort of question in there which is um",
    "start": "1320880",
    "end": "1326799"
  },
  {
    "text": "you know how did you what kind of challenges did you find kind of moving between those two was it sort of easy or",
    "start": "1326799",
    "end": "1332640"
  },
  {
    "text": "what was the challenges there oh a great question so you know",
    "start": "1332640",
    "end": "1339120"
  },
  {
    "text": "when you when you're faced with such a large change and you know you're dealing with all these assumptions that are baked into your",
    "start": "1339120",
    "end": "1345440"
  },
  {
    "text": "micro services the biggest challenge is you want to get everything done at once but you know",
    "start": "1345440",
    "end": "1351840"
  },
  {
    "text": "businesses have many needs and priorities so we really have to strategize what can we get done today",
    "start": "1351840",
    "end": "1357520"
  },
  {
    "text": "and what can we pay off over time which kind of the major theme is we really want to you know make sure",
    "start": "1357520",
    "end": "1364159"
  },
  {
    "text": "this works so we will start with some small initiatives that we think",
    "start": "1364159",
    "end": "1369760"
  },
  {
    "text": "will kind of leverage this new system this new architecture and in this case the new",
    "start": "1369760",
    "end": "1375919"
  },
  {
    "text": "permission service and by testing that out we kind of we we sus out you know the performance",
    "start": "1375919",
    "end": "1383200"
  },
  {
    "text": "the scalability the availability before we start to implement this across all of",
    "start": "1383200",
    "end": "1388720"
  },
  {
    "text": "our systems and it is still an ongoing effort our access and identity management team",
    "start": "1388720",
    "end": "1395200"
  },
  {
    "text": "they're amazing and they've planned out a multi-year strategy to integrate the permission service",
    "start": "1395200",
    "end": "1402000"
  },
  {
    "text": "throughout our netflix architecture and this will include the consumer",
    "start": "1402000",
    "end": "1407200"
  },
  {
    "text": "product as well as um you know how the different users will access",
    "start": "1407200",
    "end": "1413760"
  },
  {
    "text": "netflix.com so i guess that means you you're not finished with the migration yet from our",
    "start": "1413760",
    "end": "1420240"
  },
  {
    "text": "back to abac it's it's still in process and it sounds like it's been going on for a year months how",
    "start": "1420240",
    "end": "1427120"
  },
  {
    "text": "a while i it began about a year ago and as we",
    "start": "1427120",
    "end": "1432799"
  },
  {
    "text": "as we have new initiatives as netflix continues to reinvent itself they're continuing that migration or integration",
    "start": "1432799",
    "end": "1441360"
  },
  {
    "text": "excellent all right um so a few questions around some of the sort",
    "start": "1441360",
    "end": "1446880"
  },
  {
    "start": "1442000",
    "end": "1520000"
  },
  {
    "text": "of technologies and things um in in netflix so um what kind of",
    "start": "1446880",
    "end": "1452000"
  },
  {
    "text": "standardization that does netflix follow across microservices um is there any kind of standard standard tooling and",
    "start": "1452000",
    "end": "1459200"
  },
  {
    "text": "and or approaches that are followed the way you kind of do things what kind of standardization exists",
    "start": "1459200",
    "end": "1465760"
  },
  {
    "text": "yeah great question we have a platform team that provides us with um it's it's a tool kit for creating",
    "start": "1465760",
    "end": "1472480"
  },
  {
    "text": "applications and services at netflix and this toolkit contains various blueprints for common application types",
    "start": "1472480",
    "end": "1480320"
  },
  {
    "text": "so whether you're starting a java application or a node application a client or service",
    "start": "1480320",
    "end": "1487120"
  },
  {
    "text": "the platform provides common infrastructure for developers to kind of follow a paved",
    "start": "1487120",
    "end": "1493360"
  },
  {
    "text": "path and really this is about providing the best outcome",
    "start": "1493360",
    "end": "1498480"
  },
  {
    "text": "our culture at netflix embodies freedom and responsibility so our teams are free to choose",
    "start": "1498480",
    "end": "1503679"
  },
  {
    "text": "any application type or you know invent their own they they may decide that they find",
    "start": "1503679",
    "end": "1510640"
  },
  {
    "text": "one technology really suits their needs so they're free to pick that and you",
    "start": "1510640",
    "end": "1516240"
  },
  {
    "text": "know prove it out okay",
    "start": "1516240",
    "end": "1521360"
  },
  {
    "start": "1520000",
    "end": "1674000"
  },
  {
    "text": "all right um so let's see can you mention something",
    "start": "1521360",
    "end": "1527520"
  },
  {
    "text": "about your caching strategy for user permission so you spoke about how you kind of cached some of the the",
    "start": "1527520",
    "end": "1533840"
  },
  {
    "text": "permissions there um and maybe how you deal with invalidated tokens for users who have logged out um if there's no",
    "start": "1533840",
    "end": "1541039"
  },
  {
    "text": "sort of centralized server uh great question so it's it's kind of",
    "start": "1541039",
    "end": "1548559"
  },
  {
    "text": "two questions um when it comes to caching you know we have our standard practices",
    "start": "1548559",
    "end": "1553600"
  },
  {
    "text": "of availability um scalability and performance you know having multiple",
    "start": "1553600",
    "end": "1558880"
  },
  {
    "text": "instances having multiple cache instances um",
    "start": "1558880",
    "end": "1564320"
  },
  {
    "text": "from from the talk most folks saw that the client library will first check from",
    "start": "1564320",
    "end": "1569679"
  },
  {
    "text": "the ev cache before it actually fetches from the permission service which is the kind of primary",
    "start": "1569679",
    "end": "1576960"
  },
  {
    "text": "you know throttle for preventing too much load onto the permission service",
    "start": "1576960",
    "end": "1582880"
  },
  {
    "text": "however um uh please correct me if i'm if i misunderstood the second question",
    "start": "1582880",
    "end": "1589200"
  },
  {
    "text": "it is um how do we handle invalidation for for tokens for non-members",
    "start": "1589200",
    "end": "1594799"
  },
  {
    "text": "um i guess the invalidation yeah of specifically dealing with invalidated",
    "start": "1594799",
    "end": "1600000"
  },
  {
    "text": "tokens for users who have logged out",
    "start": "1600000",
    "end": "1604159"
  },
  {
    "text": "i see um so we have different strategies for um how we treat our logged in users",
    "start": "1605600",
    "end": "1611520"
  },
  {
    "text": "versus how we treat our logged out users they rely on two different kinds of tokens at",
    "start": "1611520",
    "end": "1616720"
  },
  {
    "text": "netflix um and if you want to know more about that we're hiring but what i can say is in addition to that we also",
    "start": "1616720",
    "end": "1624400"
  },
  {
    "text": "leverage um cash expiry times to make sure that whatever permissions",
    "start": "1624400",
    "end": "1631120"
  },
  {
    "text": "we do give to a user they they live in a cache but only for a certain length of time",
    "start": "1631120",
    "end": "1638000"
  },
  {
    "text": "uh and that length of time can be customized to each individual permission so you do do you do explicit cash",
    "start": "1638000",
    "end": "1645039"
  },
  {
    "text": "invalidation or you pretty much wait for um just wait for the timeouts to occur",
    "start": "1645039",
    "end": "1651919"
  },
  {
    "text": "i believe it's a combination of both but i i can't i i'm not too familiar with that uh area but i know that we leverage",
    "start": "1652000",
    "end": "1660240"
  },
  {
    "text": "expiry and um i i'd have to i'd have to say that i'm",
    "start": "1660240",
    "end": "1665840"
  },
  {
    "text": "not too sure on the invalidation manually but if it were me and i i was in that position i would assume we would fair",
    "start": "1665840",
    "end": "1672640"
  },
  {
    "text": "enough all right excellent um so another question that we got was um",
    "start": "1672640",
    "end": "1680159"
  },
  {
    "start": "1674000",
    "end": "1784000"
  },
  {
    "text": "how how do netflix scope how do you scope your microservices what kind of principles do you use for figuring out",
    "start": "1680159",
    "end": "1687360"
  },
  {
    "text": "what belongs in a microservice because we hear a lot about domain-driven design and various different ways to to to put",
    "start": "1687360",
    "end": "1694320"
  },
  {
    "text": "things together what how do you guys work out what goes in a microservice and what doesn't",
    "start": "1694320",
    "end": "1700880"
  },
  {
    "text": "yeah it's a great question um when i look at all the microservices we have today",
    "start": "1700880",
    "end": "1706000"
  },
  {
    "text": "a large part of how they are divided is by business domain so which services serve the consumer facing",
    "start": "1706000",
    "end": "1713919"
  },
  {
    "text": "product which services serve our studio or some of the",
    "start": "1713919",
    "end": "1719200"
  },
  {
    "text": "the services behind the scenes that delivers great content in front of users",
    "start": "1719200",
    "end": "1724559"
  },
  {
    "text": "however you know sometimes a service becomes so big that teams decide well",
    "start": "1724559",
    "end": "1730559"
  },
  {
    "text": "how we treat this functionality is not how we would want to treat this functionality so they decide to break it",
    "start": "1730559",
    "end": "1735919"
  },
  {
    "text": "up and they might create even smaller services and this revolves around the modular",
    "start": "1735919",
    "end": "1742640"
  },
  {
    "text": "functionality of each you know piece of feature so",
    "start": "1742640",
    "end": "1747760"
  },
  {
    "text": "you know we have services for um videos and different kinds of videos",
    "start": "1747760",
    "end": "1753039"
  },
  {
    "text": "artwork as well as metadata and so we we do tend to follow the",
    "start": "1753039",
    "end": "1758799"
  },
  {
    "text": "the modular functionality or or domain area so it sounds like so there's there's a",
    "start": "1758799",
    "end": "1765039"
  },
  {
    "text": "combination of i guess the domain driven areas that are in particular domains will be in certain microservices but at",
    "start": "1765039",
    "end": "1771440"
  },
  {
    "text": "the same time you've got specific technical reasons for why you might choose to to put a market service by",
    "start": "1771440",
    "end": "1778080"
  },
  {
    "text": "itself maybe it needs to scale more or something like that i'm guessing there's various reasons around that",
    "start": "1778080",
    "end": "1784159"
  },
  {
    "text": "okay exactly fantastic um so right so there's so many i'm not sure",
    "start": "1784159",
    "end": "1790080"
  },
  {
    "text": "we're going to get through them all and i can't read fast enough so apologies if i don't i there's so many questions i'm",
    "start": "1790080",
    "end": "1796799"
  },
  {
    "text": "i will i'll pick a few and we can we can do the rest in in the in the next chat all right um",
    "start": "1796799",
    "end": "1803039"
  },
  {
    "text": "so what kind of i think you've answered this technologies languages and frameworks are used by netflix which i",
    "start": "1803039",
    "end": "1809200"
  },
  {
    "text": "think you've said every team is kind of free to to use their own but you do have a lot of libraries and",
    "start": "1809200",
    "end": "1815360"
  },
  {
    "text": "and stuff that you have actually um built with uh with netflix um so i mean",
    "start": "1815360",
    "end": "1821520"
  },
  {
    "text": "if people wanted to learn more about the netflix microservice architecture where could they go to find out about some of",
    "start": "1821520",
    "end": "1827120"
  },
  {
    "text": "the the stuff that you guys are doing oh um if you're interested in learning",
    "start": "1827120",
    "end": "1832480"
  },
  {
    "text": "more about netflix architecture or any of the technologies that we leverage in netflix there are two destinations",
    "start": "1832480",
    "end": "1839600"
  },
  {
    "text": "that i highly recommend we have the netflix and our netflix technology blog",
    "start": "1839600",
    "end": "1845360"
  },
  {
    "text": "where you will hear from our service teams our data scientists",
    "start": "1845360",
    "end": "1850640"
  },
  {
    "text": "front-end back-end all of our teams at netflix are welcome to publish at this blog and it's",
    "start": "1850640",
    "end": "1857039"
  },
  {
    "text": "actually where i myself have learned a lot about our architecture and how our services work together",
    "start": "1857039",
    "end": "1862480"
  },
  {
    "text": "moreover you can also check out the netflix open source github where you will find",
    "start": "1862480",
    "end": "1868640"
  },
  {
    "text": "many of the solutions that we've open sourced for our architecture from when we moved to",
    "start": "1868640",
    "end": "1874559"
  },
  {
    "text": "microservices so you'll find open source repositories like",
    "start": "1874559",
    "end": "1880080"
  },
  {
    "text": "eureka histrix as well as anything that we have open",
    "start": "1880080",
    "end": "1885760"
  },
  {
    "text": "source that we have found to help us you know deliver exceptional user experiences",
    "start": "1885760",
    "end": "1891120"
  },
  {
    "text": "fantastic um all right so let's see so",
    "start": "1891120",
    "end": "1897039"
  },
  {
    "start": "1892000",
    "end": "1975000"
  },
  {
    "text": "um there was a question around testing which i'll see if i can find it um",
    "start": "1897039",
    "end": "1902720"
  },
  {
    "text": "i mean there were a lot of changes when you when you see especially when you kind of moved from your or back to abac how did",
    "start": "1902720",
    "end": "1909679"
  },
  {
    "text": "you go about actually testing these changes given that there could be so many sort of wide-ranging implications",
    "start": "1909679",
    "end": "1915679"
  },
  {
    "text": "of where things could could kind of go wrong how does a testing work",
    "start": "1915679",
    "end": "1920720"
  },
  {
    "text": "oh i love this question um you know i tend to think about the technical versus the non-technical when we look at the",
    "start": "1920720",
    "end": "1928000"
  },
  {
    "text": "technical there's obvious things like automation and um alerting and monitoring and so we",
    "start": "1928000",
    "end": "1934799"
  },
  {
    "text": "have a lot of observability into both the life cycle of how our users are",
    "start": "1934799",
    "end": "1939840"
  },
  {
    "text": "enjoying netflix as well as how our systems are handling all of these users",
    "start": "1939840",
    "end": "1945760"
  },
  {
    "text": "and then there's the non-technical components which are we have so many people interested in projects or",
    "start": "1945760",
    "end": "1953440"
  },
  {
    "text": "you know we collaborate very well across cross-functional stakeholders that there are always a lot of eyes on",
    "start": "1953440",
    "end": "1960399"
  },
  {
    "text": "what we're building and um you know there have been times where",
    "start": "1960399",
    "end": "1965760"
  },
  {
    "text": "i'll hear some feedback from somebody across product and we'll figure it out and we'll adjust from there",
    "start": "1965760",
    "end": "1972000"
  },
  {
    "text": "um so it's definitely you know it's a lot of collaboration a lot of collaboration fair enough",
    "start": "1972000",
    "end": "1977919"
  },
  {
    "start": "1975000",
    "end": "2075000"
  },
  {
    "text": "um have you got sort of i guess you've got quite a lot of automated test suites and and things on on on services but you",
    "start": "1977919",
    "end": "1984640"
  },
  {
    "text": "can't test everything because there's so many um do you have any kind of strategies as to what you test versus",
    "start": "1984640",
    "end": "1991039"
  },
  {
    "text": "what you don't in an automated way ooh uh excellent question so",
    "start": "1991039",
    "end": "1998480"
  },
  {
    "text": "we we employ different automation strategies across the stack we you know across all of our",
    "start": "1998480",
    "end": "2005600"
  },
  {
    "text": "um back end middle tier and client applications",
    "start": "2005600",
    "end": "2010960"
  },
  {
    "text": "each layer is doing its own level of testing to make sure that the integration works",
    "start": "2010960",
    "end": "2016840"
  },
  {
    "text": "and um if you if you look more towards the client side of the stack",
    "start": "2016840",
    "end": "2022960"
  },
  {
    "text": "we often write user story focused automation to make",
    "start": "2022960",
    "end": "2028159"
  },
  {
    "text": "sure that what we expect for our customers to be able to do as well as not to be able to do that's the kind of",
    "start": "2028159",
    "end": "2034880"
  },
  {
    "text": "automation that we're writing as well as we try to strategize making sure that this experience translates",
    "start": "2034880",
    "end": "2042000"
  },
  {
    "text": "cross-platform so our clients will be writing you know automation for our website for our",
    "start": "2042000",
    "end": "2048079"
  },
  {
    "text": "mobile apps for our tv as well as different devices so we have a",
    "start": "2048079",
    "end": "2054158"
  },
  {
    "text": "mobile automation lab which netflix engineers can run automation on various devices",
    "start": "2054159",
    "end": "2060638"
  },
  {
    "text": "so for an experience like the one that we launched we made sure that we were running our automation across a large",
    "start": "2060639",
    "end": "2066480"
  },
  {
    "text": "variety of devices to make sure that the user experience was consistent from device to device",
    "start": "2066480",
    "end": "2074480"
  },
  {
    "text": "great all right um okay let's see probably got a question",
    "start": "2074480",
    "end": "2080560"
  },
  {
    "start": "2075000",
    "end": "2209000"
  },
  {
    "text": "one more question and then we'll have to move into the the next section so um maybe just a quick one um",
    "start": "2080560",
    "end": "2087358"
  },
  {
    "text": "what is your apa api gateway layer uh the sort of technology that's used there is that",
    "start": "2087359",
    "end": "2093280"
  },
  {
    "text": "um zuul still or is it you know amazon stuff what what what is the actual technology",
    "start": "2093280",
    "end": "2100240"
  },
  {
    "text": "used for the api gateway uh this is a a",
    "start": "2100240",
    "end": "2105359"
  },
  {
    "text": "very you know very big question and i will try to answer as much as i know from my side of",
    "start": "2105359",
    "end": "2111040"
  },
  {
    "text": "things but if you want to learn more um please please please check out our",
    "start": "2111040",
    "end": "2116800"
  },
  {
    "text": "job site and talk to our other engineers but um our our api gateway layer is",
    "start": "2116800",
    "end": "2122400"
  },
  {
    "text": "a combination of we call it edge and it's basically the edge of the client so it's",
    "start": "2122400",
    "end": "2128560"
  },
  {
    "text": "the routing it's the anything in the middle tier that handles authentication request context",
    "start": "2128560",
    "end": "2135040"
  },
  {
    "text": "and so we have various api edges that service our different um",
    "start": "2135040",
    "end": "2140800"
  },
  {
    "text": "netflix domain so you know the product has its own edge the studio has its own edge as well as",
    "start": "2140800",
    "end": "2147280"
  },
  {
    "text": "other parts of netflix and the technologies that we leverage include i i believe uh zuul might be",
    "start": "2147280",
    "end": "2156160"
  },
  {
    "text": "open sourced which is our sort of router and then you have other technologies",
    "start": "2156160",
    "end": "2161760"
  },
  {
    "text": "that power like the service to service communication so eureka being one of",
    "start": "2161760",
    "end": "2167440"
  },
  {
    "text": "those historics um and then the edges will talk to the upstream",
    "start": "2167440",
    "end": "2173520"
  },
  {
    "text": "micro services through raster grpc all right",
    "start": "2173520",
    "end": "2178720"
  },
  {
    "text": "well thank you so much cole uh that was that was great and it's time to wrap up now um there are so many questions so i",
    "start": "2178720",
    "end": "2186160"
  },
  {
    "text": "suspect there will be a lot of people wanting to speak to you um in the hangout room so please do join us there",
    "start": "2186160",
    "end": "2191440"
  },
  {
    "text": "um and cole uh will be able to answer hopefully many more of your questions so thank you so much",
    "start": "2191440",
    "end": "2198750"
  },
  {
    "text": "[Music]",
    "start": "2198750",
    "end": "2206610"
  },
  {
    "text": "you",
    "start": "2208880",
    "end": "2210960"
  }
]