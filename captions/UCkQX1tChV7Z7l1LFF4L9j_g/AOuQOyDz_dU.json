[
  {
    "text": "[Music]",
    "start": "3320",
    "end": "8769"
  },
  {
    "text": "i want to start our time together by asking y'all a question Can you raise your hand for me if there's like some amount of legacy code in the systems",
    "start": "10080",
    "end": "16400"
  },
  {
    "text": "that you work in regularly Yeah Okay Almost every hand is up For you for you",
    "start": "16400",
    "end": "22320"
  },
  {
    "text": "folks whose hands is not up has your company existed for more than like three days I'm just I'm just curious If you",
    "start": "22320",
    "end": "27599"
  },
  {
    "text": "don't have legacy code today don't worry Don't worry you will And it's really easy to hate on legacy code right Like",
    "start": "27599",
    "end": "34640"
  },
  {
    "text": "you're scrolling through some old piece of the codebase and you're like who decided to use this framework that came over on the Mayflower or this design",
    "start": "34640",
    "end": "41760"
  },
  {
    "text": "pattern from you know the late Jurassic And who thought this was a good idea The",
    "start": "41760",
    "end": "48079"
  },
  {
    "text": "cool part about that is sometimes the answer in the Taylor Swift of it all is",
    "start": "48079",
    "end": "53199"
  },
  {
    "text": "it's it's it's me Like I'm the problem right Uh I'm the one who made these",
    "start": "53199",
    "end": "58480"
  },
  {
    "text": "fascinating decisions I can't be the only one who's been like scrolling through GitHub and been like well that",
    "start": "58480",
    "end": "64640"
  },
  {
    "text": "was a weird choice Get blame just for my own name to pop up And you're like oh well the Shauna of two years ago was",
    "start": "64640",
    "end": "71040"
  },
  {
    "text": "making decisions Um but I what I want to argue today is that if we build code",
    "start": "71040",
    "end": "76720"
  },
  {
    "text": "that lives long enough to become legacy code we've done like a pretty good job",
    "start": "76720",
    "end": "82000"
  },
  {
    "text": "Legacy code often just works and it's often worked for a long time And it's legacy code because we we didn't have to",
    "start": "82000",
    "end": "88799"
  },
  {
    "text": "touch it right And I have dealt with a fair share of legacy code in my career",
    "start": "88799",
    "end": "94479"
  },
  {
    "text": "Like like Michelle just mentioned I'm currently at Carta where I'm a senior staff engineer but before that I was",
    "start": "94479",
    "end": "99680"
  },
  {
    "text": "director of software engineering for Verizon Yahoo Acquisitions are weird Um",
    "start": "99680",
    "end": "105439"
  },
  {
    "text": "they're a big data platform So think about a company like Verizon They have functionally existed since the invention",
    "start": "105439",
    "end": "112399"
  },
  {
    "text": "of the telephone which was like not two weeks ago They had a lot of legacy code",
    "start": "112399",
    "end": "117520"
  },
  {
    "text": "laying around And Carter is not nearly as old as that but we have our own fair share",
    "start": "117520",
    "end": "123399"
  },
  {
    "text": "too And when I say legacy code I don't blame you if you immediately think tech",
    "start": "123399",
    "end": "128560"
  },
  {
    "text": "debt But I want to argue today that legacy code and tech debt are not",
    "start": "128560",
    "end": "133720"
  },
  {
    "text": "synonyms that these are orthogonal concepts that we can consider along two",
    "start": "133720",
    "end": "139959"
  },
  {
    "text": "axes At one axis we've got we have technical debt and on the other end of that is something like ideal",
    "start": "139959",
    "end": "146000"
  },
  {
    "text": "architecture or something Then at the bottom we have that legacy code the stuff that has been running without",
    "start": "146000",
    "end": "152319"
  },
  {
    "text": "needing a lot of attention for a while And on the other end we have our active code It's not necessarily like new but",
    "start": "152319",
    "end": "160000"
  },
  {
    "text": "it's something that's getting our attention a little bit more regularly And when we think about these",
    "start": "160000",
    "end": "165440"
  },
  {
    "text": "different quadrants like the really nice code that's a joy to work with and like well tested and like has a slight sheen",
    "start": "165440",
    "end": "172239"
  },
  {
    "text": "on it when you look at it That's the gold standard code That's the stuff that's like really nice to use It's hard",
    "start": "172239",
    "end": "177280"
  },
  {
    "text": "to use wrong At the other side on the top we have that code Maybe we just shipped it",
    "start": "177280",
    "end": "182840"
  },
  {
    "text": "yesterday but it's got some tech debt associated with it And there could be lots of reasons for that right like",
    "start": "182840",
    "end": "189120"
  },
  {
    "text": "maybe this was a feature that was rushed or it could be that you sat down and you",
    "start": "189120",
    "end": "194640"
  },
  {
    "text": "looked at the trade-offs that you had to make and you said I'm going to accept some tech debt right now so that I can",
    "start": "194640",
    "end": "201200"
  },
  {
    "text": "perform this experiment This code isn't necessarily bad It's just it's a little",
    "start": "201200",
    "end": "206319"
  },
  {
    "text": "bit harder to work with There's there's more friction I call that our tangled code But not again not all legacy code",
    "start": "206319",
    "end": "212879"
  },
  {
    "text": "is tech debt We probably have that code that's been running in production for a long time it's delivering value works",
    "start": "212879",
    "end": "219920"
  },
  {
    "text": "pretty well but maybe it's using an old framework or convention I call that our vintage code",
    "start": "219920",
    "end": "225920"
  },
  {
    "text": "And in my experience a lot of our like there's a fair bit of vintage code that's like running our businesses",
    "start": "225920",
    "end": "232560"
  },
  {
    "text": "probably as we sit here literally right now Okay we're coming to the really fun quadrant right The thing that is not",
    "start": "232560",
    "end": "239200"
  },
  {
    "text": "just full of de tech debt but is like older than the hills Um I call that our dead weight code And everything we're",
    "start": "239200",
    "end": "247360"
  },
  {
    "text": "writing right now and everything we have today falls in these axes somewhere And",
    "start": "247360",
    "end": "253360"
  },
  {
    "text": "just with the sheer passage of time the code that's in those top two quadrants it is going to it's going to fall down",
    "start": "253360",
    "end": "259000"
  },
  {
    "text": "Right So what I want to talk through today is this is funny I was talking to a friend of mine about this talk and",
    "start": "259000",
    "end": "264880"
  },
  {
    "text": "he's like this is like a this American life episode because you have a a story in three acts So and I'm from Chicago so",
    "start": "264880",
    "end": "270560"
  },
  {
    "text": "WBZ makes sense Um exact Thank you Yes Right Exactly There is not a better NPR station I will fight you later",
    "start": "270560",
    "end": "278759"
  },
  {
    "text": "Um so we so we have a we're going to have this story in in 3X We're going to start by talking about like okay we have",
    "start": "278759",
    "end": "286000"
  },
  {
    "text": "code Maybe we have code in that those bottom two quadrants What work do we need to do to like try to try to lift it",
    "start": "286000",
    "end": "292720"
  },
  {
    "text": "up closer to the top And then if we're thinking about code in those leftmost quadrants what do we do to like shift it",
    "start": "292720",
    "end": "299360"
  },
  {
    "text": "closer to the right And while we're doing all this code shifting we're like inevitably building something new How do",
    "start": "299360",
    "end": "307039"
  },
  {
    "text": "we build that new thing with the future in mind How do we build it so that it's",
    "start": "307039",
    "end": "312800"
  },
  {
    "text": "like eventually someday easier to deprecate In most cases it's the legacy",
    "start": "312800",
    "end": "319600"
  },
  {
    "text": "code that got our companies and our businesses and our products where they are today But often the code that got us",
    "start": "319600",
    "end": "327039"
  },
  {
    "text": "here won't get us there And that means we're going to have to replace that legacy code We're going to have to build",
    "start": "327039",
    "end": "332639"
  },
  {
    "text": "something new And that thing that we're building now maybe the code you're building like",
    "start": "332639",
    "end": "338000"
  },
  {
    "text": "literally today that is ideally if things go like really well that is the",
    "start": "338000",
    "end": "344880"
  },
  {
    "text": "legacy code of tomorrow And someday that legacy code is going to have to be",
    "start": "344880",
    "end": "350479"
  },
  {
    "text": "replaced right Like this is a cycle Nothing lives forever How do we build the code today with that",
    "start": "350479",
    "end": "357680"
  },
  {
    "text": "inevitable end in mind How do we build it thinking about how we will someday",
    "start": "357680",
    "end": "363520"
  },
  {
    "text": "need to deprecate it If we keep those ideas in mind I feel really strongly",
    "start": "363520",
    "end": "368800"
  },
  {
    "text": "that we will build better more maintainable code that will make us cry way less when we finally have to delete",
    "start": "368800",
    "end": "374840"
  },
  {
    "text": "it So this is this is pretty abstract in general And what I want to do to ground",
    "start": "374840",
    "end": "380400"
  },
  {
    "text": "our conversation today is actually walk you through an example of doing this work in the wild This is a project we",
    "start": "380400",
    "end": "386479"
  },
  {
    "text": "had at Carta where we had the joys of tech debt legacy code and needing to",
    "start": "386479",
    "end": "392160"
  },
  {
    "text": "build something new And in order for that to make any sense I need to tell you a tiny bit about our our business so",
    "start": "392160",
    "end": "398160"
  },
  {
    "text": "that anything I'm going to say is reasonable The project had to do with how Carta integrates with a third-party",
    "start": "398160",
    "end": "404160"
  },
  {
    "text": "HR provider Think like a like a workday or a rippling So why briefly why is this a thing my company gives a hoot about",
    "start": "404160",
    "end": "410880"
  },
  {
    "text": "Fair question Um one of our business lines is cap table management So if you're if you're managing somebody's",
    "start": "410880",
    "end": "416960"
  },
  {
    "text": "capitalization table it's really important to understand when that company hires new people or terminates",
    "start": "416960",
    "end": "423360"
  },
  {
    "text": "folks because those changes impact the customer's cap table And in order we",
    "start": "423360",
    "end": "429840"
  },
  {
    "text": "call this stakeholder management like on our platform In order to provide some automation around that stakeholder",
    "start": "429840",
    "end": "435840"
  },
  {
    "text": "management we will integrate with your HR provider because you know you have to tell them anyway right I hired this new",
    "start": "435840",
    "end": "441599"
  },
  {
    "text": "person rather than making you go tell your HR provider and then tell Carta",
    "start": "441599",
    "end": "446960"
  },
  {
    "text": "just just let automation propagate that information through to the Carta platform And this is something we've",
    "start": "446960",
    "end": "452720"
  },
  {
    "text": "done for a long time It had been running in our monolith for years But but like I said sometimes the code that got us here",
    "start": "452720",
    "end": "459199"
  },
  {
    "text": "won't get us there We reached that point with our HR integration support a few years ago Our existing implementation had",
    "start": "459199",
    "end": "467440"
  },
  {
    "text": "grown pretty organically over a fair number of years and that led to some",
    "start": "467440",
    "end": "473479"
  },
  {
    "text": "limitations We weren't exposing a consistent data contract across our providers and that was a problem because",
    "start": "473479",
    "end": "479759"
  },
  {
    "text": "we were looking to introduce a new business line specifically a business line that was going to deal with like",
    "start": "479759",
    "end": "485520"
  },
  {
    "text": "helping our customers understand how to do compensation Yeah compensation is",
    "start": "485520",
    "end": "490720"
  },
  {
    "text": "really interested in your HR data right So this was an important thing for us to support but we couldn't And to make it",
    "start": "490720",
    "end": "497360"
  },
  {
    "text": "even stickier the code was old enough that there just like wasn't that many people around anymore that knew how any",
    "start": "497360",
    "end": "502560"
  },
  {
    "text": "of it worked And those of us who were tasked with solving this problem had never seen the code before in our lives So what could possibly go wrong Um to",
    "start": "502560",
    "end": "509360"
  },
  {
    "text": "start with this was this is where we began And this picture actually looks like relatively reasonable I think",
    "start": "509360",
    "end": "516760"
  },
  {
    "text": "But as we looked to introduce this new compensation product we ended up in this",
    "start": "516760",
    "end": "522719"
  },
  {
    "text": "situation where depending on who your HR provider was that dictated whether or",
    "start": "522719",
    "end": "528560"
  },
  {
    "text": "not the data was available in the compensation product How in the world could that be That sounds wild Well I've",
    "start": "528560",
    "end": "534720"
  },
  {
    "text": "got this this like nice box situation around the HR integrations And you're like surely that was some sort of like",
    "start": "534720",
    "end": "540399"
  },
  {
    "text": "unified module that had some sort of consistent data contract Haha Um not",
    "start": "540399",
    "end": "545440"
  },
  {
    "text": "exactly I think this is a much more fair picture of how this worked We basically had a bunch of disperate provider",
    "start": "545440",
    "end": "551399"
  },
  {
    "text": "implementations that had almost nothing to do with each other And then we're",
    "start": "551399",
    "end": "556720"
  },
  {
    "text": "tasked with like okay go fix this this thing that's powering an incredibly business critical product in that",
    "start": "556720",
    "end": "563760"
  },
  {
    "text": "stakeholder management box that our customers use literally every day and if you break it they will come for you And",
    "start": "563760",
    "end": "569920"
  },
  {
    "text": "none of us knew how this code worked So we really weren't that interested in",
    "start": "569920",
    "end": "575040"
  },
  {
    "text": "just like mucking around in here and finding out what we might break There were real",
    "start": "575040",
    "end": "580600"
  },
  {
    "text": "consequences So this is this is the real life scenario that we were in You're having a conversation with a customer",
    "start": "580600",
    "end": "585760"
  },
  {
    "text": "who's like \"Oh I'm super jazzed about your new compensation product That sounds awesome You need my HR data",
    "start": "585760",
    "end": "591200"
  },
  {
    "text": "right?\" And and then you're like \"We do.\" And the cool thing is we support your HR provider Just not like that Like",
    "start": "591200",
    "end": "598160"
  },
  {
    "text": "it's a bananas thing to say out loud Um but this was this was real",
    "start": "598160",
    "end": "603480"
  },
  {
    "text": "life We were very firmly in that dead wake quadrant Like we had tech debt we",
    "start": "603480",
    "end": "608959"
  },
  {
    "text": "had legacy code But what we wanted to do we wanted to find a path to gold standard right",
    "start": "608959",
    "end": "615440"
  },
  {
    "text": "Don't we all Like ideally we will all build code that lives in this quadrant This is a really big shift It doesn't",
    "start": "615440",
    "end": "620880"
  },
  {
    "text": "really get you can't do a like a a desirable shift much bigger than this We wanted to go from the bottom left to the",
    "start": "620880",
    "end": "627200"
  },
  {
    "text": "top right Where do we start So let's let's look at this in a few",
    "start": "627200",
    "end": "632480"
  },
  {
    "text": "different ways I said we were going to have a story in three acts Our first act is if we have code in these bottom two",
    "start": "632480",
    "end": "637519"
  },
  {
    "text": "quadrants What do we do to try to lift it out of there And and we have a few different",
    "start": "637519",
    "end": "643440"
  },
  {
    "text": "options right We can rewrite our code in place We can do the thing where we stand up some new system and then one morning",
    "start": "643440",
    "end": "651440"
  },
  {
    "text": "we like shift over all of the traffic and pray Um just saying that out loud",
    "start": "651440",
    "end": "656560"
  },
  {
    "text": "gives me anxiety but sure you could do that Or you could use something like the strangler fig pattern to gradually",
    "start": "656560",
    "end": "662160"
  },
  {
    "text": "replace your legacy system over time And if you aren't familiar with strangler fig don't worry We're going to dig into",
    "start": "662160",
    "end": "667760"
  },
  {
    "text": "the specifics of that in just a second But you know what do you what do you choose right",
    "start": "667760",
    "end": "673519"
  },
  {
    "text": "A rewrite in place makes a lot of sense if especially for a relatively small",
    "start": "673519",
    "end": "679200"
  },
  {
    "text": "problem Like it's nice that you can work alongside that the co the code that exists today and really appreciate like",
    "start": "679200",
    "end": "684880"
  },
  {
    "text": "how is it reasoning about certain edge cases and like you're right in there in the weeds but it can be hard when you're",
    "start": "684880",
    "end": "691360"
  },
  {
    "text": "doing a rewrite in place if your system is is complex and like the rewrite you need to do is large If you need to",
    "start": "691360",
    "end": "697200"
  },
  {
    "text": "change functionality do you end up with like a bunch of feature flags all over the place that are trying to decide",
    "start": "697200",
    "end": "702320"
  },
  {
    "text": "which world you live in You don't want to be the person that like puts up the 10,000 file PR and is like I'm done",
    "start": "702320",
    "end": "709120"
  },
  {
    "text": "everybody Like that That's probably not how you want to do a giant rewrite like this So for reasonably localized changes",
    "start": "709120",
    "end": "716000"
  },
  {
    "text": "a rewrite can work but we had such a significant change we just didn't see how this was going to be the path",
    "start": "716000",
    "end": "721360"
  },
  {
    "text": "forward for us Yeah I've already tipped my hand that maybe this one's not my favorite like you can stand up a brand",
    "start": "721360",
    "end": "728000"
  },
  {
    "text": "new system and in one giant switchover just like move all the traffic Like that is technically a thing you can do And I",
    "start": "728000",
    "end": "733600"
  },
  {
    "text": "have seen it done in the past I just I've just never seen it go particularly",
    "start": "733600",
    "end": "738720"
  },
  {
    "text": "well for a thing of any real complexity Like and this is probably when I should say I am wildly riskaverse So this just",
    "start": "738720",
    "end": "746000"
  },
  {
    "text": "like goes against who I am as a person To be to be very fair to this pattern",
    "start": "746000",
    "end": "752079"
  },
  {
    "text": "you can do this especially if you have like a relatively small blast radius Like this is a reasonable path forward I",
    "start": "752079",
    "end": "758560"
  },
  {
    "text": "probably still would never do it because it gives me so much anxiety but that's probably more of a me problem than it is",
    "start": "758560",
    "end": "763839"
  },
  {
    "text": "with this particular approach And I probably sufficiently",
    "start": "763839",
    "end": "769120"
  },
  {
    "text": "demonstrated that this one's my favorite probably Um I really love the gradual replacement approach something like like",
    "start": "769120",
    "end": "775279"
  },
  {
    "text": "strangler fig I have actually given entire talks about why I think strangler fig is the best thing since sliced bread",
    "start": "775279",
    "end": "781040"
  },
  {
    "text": "which is not what I'm going to do to you right now but I am going to force you to listen to just a little bit about it because I think it is the most effective",
    "start": "781040",
    "end": "787519"
  },
  {
    "text": "way for us to actually like get out of these bottom two quadrants So if you're",
    "start": "787519",
    "end": "792639"
  },
  {
    "text": "not familiar with the strangler fig pattern it's named after a real plant called the strangler fig And how those",
    "start": "792639",
    "end": "799519"
  },
  {
    "text": "plants work is they start at the tops of trees and they slowly grow down to the soil eventually actually killing the",
    "start": "799519",
    "end": "806639"
  },
  {
    "text": "host tree underneath it They're a parasite So the strangler fig replaces the legacy tree It's not code but the",
    "start": "806639",
    "end": "813920"
  },
  {
    "text": "you know you have a replacement in the strangler fig The pattern is basically trying to do exactly the same thing The",
    "start": "813920",
    "end": "820560"
  },
  {
    "text": "idea is that you you have your legacy system and you slowly migrate",
    "start": "820560",
    "end": "825920"
  },
  {
    "text": "functionality into your new system until one day you have all your functionality in your new system So what does that how",
    "start": "825920",
    "end": "833040"
  },
  {
    "text": "does it actually like play out in practice When you're using the strangler fig pattern it says the first thing you",
    "start": "833040",
    "end": "839360"
  },
  {
    "text": "need to do is build a facade The pattern calls it a facade I often call it just a proxy It's a very simple piece of",
    "start": "839360",
    "end": "846079"
  },
  {
    "text": "software It hopefully it's a very simple piece of software It says for a given piece of incoming traffic should this",
    "start": "846079",
    "end": "852560"
  },
  {
    "text": "traffic go to the legacy system or the new system and when you start out it will be the least interesting piece of",
    "start": "852560",
    "end": "858800"
  },
  {
    "text": "software in the world because all of your traffic will go to your legacy system Your new system doesn't do",
    "start": "858800",
    "end": "864079"
  },
  {
    "text": "anything yet So next you have to go into your legacy system and find these like",
    "start": "864079",
    "end": "870240"
  },
  {
    "text": "individual modules that you can independently migrate into your new system This is the part of this entire",
    "start": "870240",
    "end": "878000"
  },
  {
    "text": "process that I think is much more of an art than a science And if you don't have good modules in your legacy system you",
    "start": "878000",
    "end": "883600"
  },
  {
    "text": "you may have to like go introduce them which is its own that could be in its own like talk on its own But this part",
    "start": "883600",
    "end": "890399"
  },
  {
    "text": "is really important because you you really can't proceed until you have these individual",
    "start": "890399",
    "end": "895480"
  },
  {
    "text": "modules So then you're going to move functionality from your legacy system into your new system basically one",
    "start": "895480",
    "end": "902240"
  },
  {
    "text": "module at a time So we have this like this blue hashmark situation in the legacy system We haven't actually",
    "start": "902240",
    "end": "909040"
  },
  {
    "text": "changed any of the behavior of module one and module 2 in the legacy system",
    "start": "909040",
    "end": "914079"
  },
  {
    "text": "We've just replicated that functionality in our new system And now we go to our",
    "start": "914079",
    "end": "919199"
  },
  {
    "text": "facade and we say okay facade if you see traffic that requires module one send",
    "start": "919199",
    "end": "924560"
  },
  {
    "text": "that to the new system because that is supported in the new system But if you see traffic that requires module N send",
    "start": "924560",
    "end": "930959"
  },
  {
    "text": "that to the legacy system because it doesn't support that yet Then you gradually over time introduce additional",
    "start": "930959",
    "end": "937440"
  },
  {
    "text": "modules into your new system until one day everything's migrated and you remove",
    "start": "937440",
    "end": "943040"
  },
  {
    "text": "your facade and you delete your legacy system and you probably have a party because you finished a migration and that's like a big",
    "start": "943040",
    "end": "949240"
  },
  {
    "text": "deal The thing I love about this pattern is that it gives us like so many fallbacks and safety nets There's a lot",
    "start": "949240",
    "end": "955759"
  },
  {
    "text": "of psychological safety in the leveraging of Strangler Fig But there are drawbacks Everything's a trade-off",
    "start": "955759",
    "end": "961360"
  },
  {
    "text": "right Like nothing's perfect You can end up with a foot in both worlds for a really long time that can be frustrating",
    "start": "961360",
    "end": "966800"
  },
  {
    "text": "You also have to do the work of understanding how do I tell my facade How to route stuff How do I have",
    "start": "966800",
    "end": "972720"
  },
  {
    "text": "visibility into what the facade is doing Like these things are additional work But in my experience the benefits have",
    "start": "972720",
    "end": "980160"
  },
  {
    "text": "consistently outweighed the drawbacks in any upgrade of any real complexity",
    "start": "980160",
    "end": "986320"
  },
  {
    "text": "And Strangler Fig actually lets you do this like in real life where you can find yourself moving from dead weight",
    "start": "987199",
    "end": "993920"
  },
  {
    "text": "eventually to something that is much closer to the gold standard And it's in fact the only way I've ever felt like",
    "start": "993920",
    "end": "999759"
  },
  {
    "text": "I've accomplished this in my life I think Yeah But the other cool thing about",
    "start": "999759",
    "end": "1006959"
  },
  {
    "text": "Strangler Fig is that it's not just a pattern for when you're actively deprecating your legacy code It's also a",
    "start": "1006959",
    "end": "1014240"
  },
  {
    "text": "pattern that you can use to consider how you build your new system Like how can I",
    "start": "1014240",
    "end": "1019920"
  },
  {
    "text": "as I am designing this new system that I'm building imagine the future developer could be me who has to replace",
    "start": "1019920",
    "end": "1028000"
  },
  {
    "text": "this new system in some modular way How do I make that job easier for that",
    "start": "1028000",
    "end": "1033438"
  },
  {
    "text": "future person So how did that work for our",
    "start": "1033439",
    "end": "1039360"
  },
  {
    "text": "specific example The unique thing about when we started designing our new HR system based on",
    "start": "1039360",
    "end": "1046079"
  },
  {
    "text": "this existing behavior was that we actually talked about at the beginning before we'd written a single line of",
    "start": "1046079",
    "end": "1051440"
  },
  {
    "text": "code in this new system how are we going to ensure that strangler fig will be an",
    "start": "1051440",
    "end": "1057039"
  },
  {
    "text": "effective way to someday deprecate it And I think that that fundamentally changed how we reasoned about our new",
    "start": "1057039",
    "end": "1063640"
  },
  {
    "text": "system We knew that we wanted to get to a place where at the very least it didn't depend on which provider you were",
    "start": "1063640",
    "end": "1070320"
  },
  {
    "text": "using you could like use all the downstream products That seemed like a bare minimum But we also wanted to",
    "start": "1070320",
    "end": "1075600"
  },
  {
    "text": "understand that this was going to be true going forward Like if we needed to introduce a new provider we were going",
    "start": "1075600",
    "end": "1080960"
  },
  {
    "text": "to have to do a bunch of work to ensure that the data would seamlessly flow downstream We also knew we wanted to",
    "start": "1080960",
    "end": "1088080"
  },
  {
    "text": "decompose from our monolith so that we could just move faster than than how we were iterating in the monolith back",
    "start": "1088080",
    "end": "1095240"
  },
  {
    "text": "then So we designed this which is like way different right like this This there",
    "start": "1095240",
    "end": "1101039"
  },
  {
    "text": "are some of the same colors as the other one Other than that this is this is very different There's there's an entirely",
    "start": "1101039",
    "end": "1106400"
  },
  {
    "text": "new service that didn't exist in the previous picture There's a message bus Where did that come from Like this was a",
    "start": "1106400",
    "end": "1111760"
  },
  {
    "text": "really big change And that meant well meant we were going to have to do a bunch of",
    "start": "1111760",
    "end": "1118240"
  },
  {
    "text": "work All right This had both directions that we needed to move So the first part",
    "start": "1118440",
    "end": "1124640"
  },
  {
    "text": "we talked about like how are we going to move from the bottom to the top but now",
    "start": "1124640",
    "end": "1131520"
  },
  {
    "text": "how are we going to move from the left to the right This is a slightly different shape of problem Often when",
    "start": "1131520",
    "end": "1137679"
  },
  {
    "text": "we're replacing legacy code we are like building some often significant new",
    "start": "1137679",
    "end": "1144400"
  },
  {
    "text": "something to replace it With tech that though that comes in a lot of different sha shapes and sizes right And you often",
    "start": "1144400",
    "end": "1150160"
  },
  {
    "text": "know like what you want to do to fix it But the hard part can be getting anybody on the planet to add it to a road map",
    "start": "1150160",
    "end": "1156240"
  },
  {
    "text": "before like 2080 right Like you need to have some time to do it before the heat death of the",
    "start": "1156240",
    "end": "1162200"
  },
  {
    "text": "universe So how do like how do you go about reasoning about actually getting buy in to do this work",
    "start": "1162200",
    "end": "1169039"
  },
  {
    "text": "There are lots of questions that we have to ask ourselves when we when we are",
    "start": "1169039",
    "end": "1174240"
  },
  {
    "text": "starting this consideration and the first one is should I pay down this tech debt at all The cool thing about the",
    "start": "1174240",
    "end": "1179840"
  },
  {
    "text": "answer to that is it's the answer to everything in software engineering It depends like also this section on tech",
    "start": "1179840",
    "end": "1185919"
  },
  {
    "text": "debt I think is like 62% hottake So please you you have been",
    "start": "1185919",
    "end": "1191640"
  },
  {
    "text": "warned You shouldn't down pay down tech debt unless you have a business need I learned like three days ago that this is",
    "start": "1191640",
    "end": "1198480"
  },
  {
    "text": "the controversial opinion puffin I think I was officially I was very much in love with that because this is probably one",
    "start": "1198480",
    "end": "1205919"
  },
  {
    "text": "of the more controversial takes I have had in my career And I get it like we're",
    "start": "1205919",
    "end": "1211120"
  },
  {
    "text": "engineers We like to build things We like to rebuild things We especially like to build things that are super",
    "start": "1211120",
    "end": "1216320"
  },
  {
    "text": "shiny Like it makes sense that we want to pay down our tech debt But paying down tech debt just",
    "start": "1216320",
    "end": "1223520"
  },
  {
    "text": "isn't a goal of its own And when we're thinking about like how do what questions can I ask myself you know",
    "start": "1223520",
    "end": "1230000"
  },
  {
    "text": "think about like what's the opportunity cost of doing this right now What's the cost of of waiting a month to do this",
    "start": "1230000",
    "end": "1236480"
  },
  {
    "text": "work And if we can't justify those costs probably now is the wrong time And I'm sure that most of us have",
    "start": "1236480",
    "end": "1244080"
  },
  {
    "text": "had those really hard conversations with like a product manager or an engineering manager where you're like listen three",
    "start": "1244080",
    "end": "1251039"
  },
  {
    "text": "weeks ago I put in this hack that is keeping me up at night I just need time to go back and fix it And they're like",
    "start": "1251039",
    "end": "1256960"
  },
  {
    "text": "but it's working I don't understand the problem Or this library is like driving me up the",
    "start": "1256960",
    "end": "1263559"
  },
  {
    "text": "wall Those are often not super persuasive arguments But if you can find this",
    "start": "1263559",
    "end": "1270440"
  },
  {
    "text": "intersection of some business need and your tech debt now we're talking about a",
    "start": "1270440",
    "end": "1275760"
  },
  {
    "text": "place where like PMs and EMed like tell me more right",
    "start": "1275760",
    "end": "1280960"
  },
  {
    "text": "And there are so many ways that you can link tech debt payown Like this could be a slide with 700 things on it It's not",
    "start": "1280960",
    "end": "1287760"
  },
  {
    "text": "but it could be There are so many ways that we can link a tech debt payown to a business goal Like maybe maybe you",
    "start": "1287760",
    "end": "1294880"
  },
  {
    "text": "figured out that if I pay down this tech debt it's going to make it way easier for me to onboard new team members Or",
    "start": "1294880",
    "end": "1300320"
  },
  {
    "text": "I'm going to speed up our CI pipeline by 3x or I'm going to be able to squash",
    "start": "1300320",
    "end": "1306880"
  },
  {
    "text": "this bug that has been recurring for customers over the last 6 months and that people are really angry",
    "start": "1306880",
    "end": "1312679"
  },
  {
    "text": "about All of these like are pretty clearly linked to a business",
    "start": "1312679",
    "end": "1318120"
  },
  {
    "text": "goal And if you can find this link between your task and the business goal",
    "start": "1318120",
    "end": "1323600"
  },
  {
    "text": "you're much more likely to get buy in And if you can't that probably means",
    "start": "1323600",
    "end": "1330559"
  },
  {
    "text": "that now is not the right time to do this work You know every system I've ever worked in had some amount of tech",
    "start": "1330559",
    "end": "1336720"
  },
  {
    "text": "debt unless it like was literally empty And that tech debt isn't necessarily bad",
    "start": "1336720",
    "end": "1342240"
  },
  {
    "text": "in all cases Like we take out debt to buy our cars or our apartments right Like that's not bad debt There are also",
    "start": "1342240",
    "end": "1348400"
  },
  {
    "text": "forms of tech debt that that are just fine So how did this look in our HR",
    "start": "1348400",
    "end": "1354559"
  },
  {
    "text": "integrations example you know what was the tech debt that we needed to pay down here It was pretty clearly this wildly",
    "start": "1354559",
    "end": "1360720"
  },
  {
    "text": "desperate data exposure layer Like it this linking this to a business goal was",
    "start": "1360720",
    "end": "1367039"
  },
  {
    "text": "like really easy We actively wanted to release a product that we could not reliably support Like it was not I",
    "start": "1367039",
    "end": "1373360"
  },
  {
    "text": "didn't have to convince anyone that releasing the product was like a valuable thing to do But if I had tried",
    "start": "1373360",
    "end": "1378799"
  },
  {
    "text": "to convince people even say like six months earlier that this was work that we should do I don't think I I would",
    "start": "1378799",
    "end": "1385679"
  },
  {
    "text": "have gotten any buyin because it was super weird that this was how it worked",
    "start": "1385679",
    "end": "1391039"
  },
  {
    "text": "But it didn't matter like it wasn't stopping us from doing anything that we wanted to do It wasn't until we had an",
    "start": "1391039",
    "end": "1397120"
  },
  {
    "text": "active business need that it became very clear that this was the right thing to do Okay we've talked some about like how",
    "start": "1397120",
    "end": "1404640"
  },
  {
    "text": "do we deal with our stuff at the bottom We've talked some about the techad stuff on the left That brings us to our last",
    "start": "1404640",
    "end": "1411440"
  },
  {
    "text": "part Like all right well we've got to build something new right How do we build that code so that it ages really",
    "start": "1411440",
    "end": "1418080"
  },
  {
    "text": "well Like they say Paul Rudd doesn't age He",
    "start": "1418080",
    "end": "1423600"
  },
  {
    "text": "clearly does just remarkably slowly Like how do we build the Paul Rudd of Like he",
    "start": "1423600",
    "end": "1430159"
  },
  {
    "text": "definitely lives in the gold standard How do we build the Paul Rudd of of our code right",
    "start": "1430159",
    "end": "1437360"
  },
  {
    "text": "How do we keep our code in this gold standard quadrant just as long as we can",
    "start": "1437360",
    "end": "1443280"
  },
  {
    "text": "We want to build code that ages well And in my experience the code that ages the best is the code that's the hardest to",
    "start": "1443280",
    "end": "1450080"
  },
  {
    "text": "use wrong And there are a zillion ways that we can make our code harder to use wrong",
    "start": "1450080",
    "end": "1457279"
  },
  {
    "text": "I picked four of them I looked back on our experience working on this new HR",
    "start": "1457279",
    "end": "1462960"
  },
  {
    "text": "integration system and I I talked to a couple of folks who had worked on it with me and I was like what were the things that really stand out to you that",
    "start": "1462960",
    "end": "1469120"
  },
  {
    "text": "made a big difference when we were doing this project and these were the four things that bubbled up So I want to go",
    "start": "1469120",
    "end": "1474400"
  },
  {
    "text": "through these one at a time Like how do we think about these things as tools You know I'm not going to read it to you How",
    "start": "1474400",
    "end": "1480320"
  },
  {
    "text": "do we think about these things as tools to build code that ages well Okay I want",
    "start": "1480320",
    "end": "1487039"
  },
  {
    "text": "I mentioned that we use strangler fig and while we were doing this work and one of the key parts of strangler fig is",
    "start": "1487039",
    "end": "1492960"
  },
  {
    "text": "that encapsulation element right That those individual modules that help us as we're trying to do these incremental",
    "start": "1492960",
    "end": "1499279"
  },
  {
    "text": "migrations And if there's just one thing that you leave here with I would hope that it's encapsulation is the single",
    "start": "1499279",
    "end": "1505440"
  },
  {
    "text": "best tool I have ever encountered to help build code that ages better Now",
    "start": "1505440",
    "end": "1511200"
  },
  {
    "text": "what do I mean by encapsulation Just basically hiding the gnarly internals that almost certainly exist within our",
    "start": "1511200",
    "end": "1516960"
  },
  {
    "text": "components and exposing clear interfaces that are the way that your components can communicate with each",
    "start": "1516960",
    "end": "1523480"
  },
  {
    "text": "other And when we encapsulate our code we create a software seam And this idea",
    "start": "1523480",
    "end": "1530000"
  },
  {
    "text": "of software seams comes from Michael Feather's book Working Effectively with Legacy Code A seam is a place that we",
    "start": "1530000",
    "end": "1537120"
  },
  {
    "text": "can alter the behavior of our software without actually having to touch the code in that place And when we're",
    "start": "1537120",
    "end": "1543840"
  },
  {
    "text": "leveraging Strangler fig and you're looking for those independent modules those are your",
    "start": "1543840",
    "end": "1550520"
  },
  {
    "text": "seams And for us in the legacy system we're actually pretty fortunate The seams were really pretty well defined",
    "start": "1550520",
    "end": "1556400"
  },
  {
    "text": "They were these individual HR providers We could seamlessly I'm sorry I couldn't help myself We could seamlessly move",
    "start": "1556400",
    "end": "1562480"
  },
  {
    "text": "those between the legacy implementation and our new implementation because they",
    "start": "1562480",
    "end": "1568559"
  },
  {
    "text": "had good seams around them But sometimes you're not going to be that fortunate and you're going to",
    "start": "1568559",
    "end": "1574559"
  },
  {
    "text": "find yourself that the first thing you have to do is actually introduce the seams in your legacy system And this on",
    "start": "1574559",
    "end": "1580400"
  },
  {
    "text": "its own could be like a six-day seminar which we're definitely not going to do But just from a very high level look for",
    "start": "1580400",
    "end": "1586720"
  },
  {
    "text": "ways to isolate the components in your legacy system Can you add new layers of",
    "start": "1586720",
    "end": "1593880"
  },
  {
    "text": "abstraction Um can you add wrappers around different parts of the code to",
    "start": "1593880",
    "end": "1599039"
  },
  {
    "text": "just hide those internals That's going to be a really important part of ensuring that you can deprecate that",
    "start": "1599039",
    "end": "1604480"
  },
  {
    "text": "legacy code Again just like I when we were talking about Strangler Fig this is",
    "start": "1604480",
    "end": "1609520"
  },
  {
    "text": "more of an art than it is a science But if you find yourself actively having to do this work I would encourage you to go",
    "start": "1609520",
    "end": "1615679"
  },
  {
    "text": "get your hands on Michael Feather's book because it is an outstanding resource when you're in the weeds and actually having to do",
    "start": "1615679",
    "end": "1622679"
  },
  {
    "text": "this And so for our HR integrations project as we were building out our new",
    "start": "1622679",
    "end": "1627760"
  },
  {
    "text": "code we were actively discussing well what are the seams that we need as we're going forward because we wanted to",
    "start": "1627760",
    "end": "1634159"
  },
  {
    "text": "ensure that this new system was well encapsulated and they manifested in a few different ways",
    "start": "1634159",
    "end": "1640240"
  },
  {
    "text": "first was just ensuring that we were maintaining the existing seams within these individual HR providers So you",
    "start": "1640240",
    "end": "1647200"
  },
  {
    "text": "know if we needed to change the behavior of one of these that should be",
    "start": "1647200",
    "end": "1652240"
  },
  {
    "text": "completely transparent to absolutely everything else in our system if we if something about namely changes that only",
    "start": "1652240",
    "end": "1659200"
  },
  {
    "text": "component that needs to know about that is the namely component So keep each provider encapsulated This was more",
    "start": "1659200",
    "end": "1665840"
  },
  {
    "text": "about ensuring that we maintained the existing levels of encap of of encapsulation rather than introducing",
    "start": "1665840",
    "end": "1672799"
  },
  {
    "text": "new ones But we did have to introduce new ones as we were designing our new",
    "start": "1672799",
    "end": "1678159"
  },
  {
    "text": "system And I want to tell you about that but I have to give you like a teeny bit more detail on how this system worked or",
    "start": "1678159",
    "end": "1683279"
  },
  {
    "text": "nothing I say about that will make any sense So Carta synchronizes this data",
    "start": "1683279",
    "end": "1689320"
  },
  {
    "text": "from the HR providers on a schedule This is just a very boring set of crons right",
    "start": "1689320",
    "end": "1695440"
  },
  {
    "text": "We're going to run Dunder Mifflin at three o'clock and then we're going to run Stark Industries at four o'clock and tomorrow we're going to do it all",
    "start": "1695440",
    "end": "1702760"
  },
  {
    "text": "again And historically there had been this really tight coupling between the",
    "start": "1702760",
    "end": "1708039"
  },
  {
    "text": "provider and the scheduling But we really didn't like we really did not want to maintain this",
    "start": "1708039",
    "end": "1714240"
  },
  {
    "text": "tight coupling going forward We did not want have to go into each individual provider if we wanted to change",
    "start": "1714240",
    "end": "1719520"
  },
  {
    "text": "something about how we were scheduling this What we wanted was to create a seam",
    "start": "1719520",
    "end": "1724880"
  },
  {
    "text": "around theuler even though we knew the onlyuler",
    "start": "1724880",
    "end": "1731679"
  },
  {
    "text": "we were going to start with is a cron And if you're asking yourself like well why would you do the work to encapsulate",
    "start": "1731679",
    "end": "1737760"
  },
  {
    "text": "if you if you didn't have another use case because the encapsulation on its own was super useful And we knew that we",
    "start": "1737760",
    "end": "1745440"
  },
  {
    "text": "were expecting to have a use case for a web hook sometime in the future This makes sense right like rather than us",
    "start": "1745440",
    "end": "1751200"
  },
  {
    "text": "having to go pull the third party system to ask for changes it knows that there are changes just come and tell us This",
    "start": "1751200",
    "end": "1758159"
  },
  {
    "text": "was something we knew we would eventually want to support But what we built for that to",
    "start": "1758159",
    "end": "1763360"
  },
  {
    "text": "begin with was nothing We didn't build any of the web hook implementation to start",
    "start": "1763360",
    "end": "1769880"
  },
  {
    "text": "with And that wasn't that wasn't an accident We didn't have a use case So we didn't want to build out that code",
    "start": "1769880",
    "end": "1778399"
  },
  {
    "text": "So like what's my point We didn't build that web hook implementation because code that doesn't exist can never break",
    "start": "1778399",
    "end": "1786480"
  },
  {
    "text": "Like if we had built it when we didn't need it I mean I know myself I definitely would have had some wild bug",
    "start": "1786480",
    "end": "1792880"
  },
  {
    "text": "that on like alternating Thursdays when we tried to schedule the cron it hit something in the web hook implementation because I made a bad decision and then",
    "start": "1792880",
    "end": "1799120"
  },
  {
    "text": "the whole thing went to heck right Like this is my life is repeatable enough that it definitely wouldn't have gone",
    "start": "1799120",
    "end": "1805000"
  },
  {
    "text": "well And also once we when we write that code that we're not using do you know what code ages the absolute worst Code",
    "start": "1805000",
    "end": "1812960"
  },
  {
    "text": "that isn't being used because there's absolutely nothing to encourage you to keep it up to",
    "start": "1812960",
    "end": "1818520"
  },
  {
    "text": "date So when your code is well encapsulated and only exists when you",
    "start": "1818520",
    "end": "1823600"
  },
  {
    "text": "need it and has these well-defined seams you're going to have a more reliable system A lot of the ways of like",
    "start": "1823600",
    "end": "1830480"
  },
  {
    "text": "building out these new systems is just finding ways to make our code easier to use right Harder to use wrong Seams are",
    "start": "1830480",
    "end": "1837440"
  },
  {
    "text": "a great a great way to accomplish that And good seams are also really important",
    "start": "1837440",
    "end": "1844240"
  },
  {
    "text": "to the next part of this that I want to touch on and that is testing So talk about another thing that could be a",
    "start": "1844240",
    "end": "1850320"
  },
  {
    "text": "six-day seminar The joys of testing and why they are great and how to write them",
    "start": "1850320",
    "end": "1856399"
  },
  {
    "text": "We could go on and on but what I want to talk about specifically around testing here is how do tests help our code age",
    "start": "1856399",
    "end": "1863200"
  },
  {
    "text": "better Like how do we write these so that as our code ages it's more reliable",
    "start": "1863200",
    "end": "1868720"
  },
  {
    "text": "and easier to use Now we can all write bad tests I am implicitly talking about good tests Bad tests at best inflate",
    "start": "1868720",
    "end": "1877039"
  },
  {
    "text": "some coverage number that doesn't particularly matter or at worst create so much noise that we just like abandon",
    "start": "1877039",
    "end": "1882720"
  },
  {
    "text": "testing altogether and throw our laptops into the sea Like we what we want to write here is good",
    "start": "1882720",
    "end": "1887960"
  },
  {
    "text": "tests and writing tests helps us maintain reliability as our code gets",
    "start": "1887960",
    "end": "1893279"
  },
  {
    "text": "older because like time is coming for all of us It's coming for us and it's coming for our code right It's going to fall down just with the passage of time",
    "start": "1893279",
    "end": "1901760"
  },
  {
    "text": "But tests help us stave off this inevitable fall at least for a little",
    "start": "1901760",
    "end": "1907480"
  },
  {
    "text": "while Because as our code base evolves and as it ages those tests give us the",
    "start": "1907480",
    "end": "1913919"
  },
  {
    "text": "confidence to actually make changes and we can rest soundly at night knowing we didn't break any existing",
    "start": "1913919",
    "end": "1920559"
  },
  {
    "text": "functionality as we end up having to work in some part of our codebase It also means that we're going",
    "start": "1920559",
    "end": "1926000"
  },
  {
    "text": "to be able to adapt more quickly because our businesses are inevitably going to change and if we have a reliable test",
    "start": "1926000",
    "end": "1931679"
  },
  {
    "text": "suite around that code we're going to be able to respond to those business needs more quickly And when we combine our",
    "start": "1931679",
    "end": "1937919"
  },
  {
    "text": "seams with our tests that again is going to create more maintainable code that's",
    "start": "1937919",
    "end": "1943279"
  },
  {
    "text": "going to age better I think you are required by law to have the testing pyramid in a deck if",
    "start": "1943279",
    "end": "1948799"
  },
  {
    "text": "you're talking about testing So I did that's fine Um one of the things I wanted to touch on was like how did we",
    "start": "1948799",
    "end": "1954559"
  },
  {
    "text": "think about testing as we were taking on this HR integrations work because the",
    "start": "1954559",
    "end": "1959760"
  },
  {
    "text": "dead weight code I would say generously had spotty test coverage in the legacy",
    "start": "1959760",
    "end": "1965559"
  },
  {
    "text": "system We didn't really have a lot of confidence that we weren't going to break something So we actually the first",
    "start": "1965559",
    "end": "1970799"
  },
  {
    "text": "thing we did was introduce a bunch of endto-end tests in the legacy system so that as we iterated and were working",
    "start": "1970799",
    "end": "1976640"
  },
  {
    "text": "through Strangler FIG we could at least feel fairly confident we weren't breaking anybody's like missionritical",
    "start": "1976640",
    "end": "1982039"
  },
  {
    "text": "workflows But we also of course built out the tests for our new system N10 inte you know the sorts of things that",
    "start": "1982039",
    "end": "1988080"
  },
  {
    "text": "you would expect and because we had these really clear seams the tests in our new system",
    "start": "1988080",
    "end": "1994320"
  },
  {
    "text": "were actually pretty easy to write like we could inject mocks where we needed them Our components were relatively well",
    "start": "1994320",
    "end": "1999679"
  },
  {
    "text": "isolated So you didn't get a lot of that stuff where like test A is in slamming",
    "start": "1999679",
    "end": "2005039"
  },
  {
    "text": "over test B on you know every second Wednesday and your tests flake out for no good reason We didn't have a lot of",
    "start": "2005039",
    "end": "2010480"
  },
  {
    "text": "those problems and we could really easily test those integration points because they were there weren't that",
    "start": "2010480",
    "end": "2015679"
  },
  {
    "text": "many of them and they were really well defined By starting with this",
    "start": "2015679",
    "end": "2021519"
  },
  {
    "text": "comprehensive set of tests it helped our code stay in that gold standard quadrant just just a little bit longer And it",
    "start": "2021519",
    "end": "2029200"
  },
  {
    "text": "also made our code age better Okay we've covered the first two of these We've talked about encapsulation We've talked",
    "start": "2029200",
    "end": "2035519"
  },
  {
    "text": "about testing These are two great ways to make our code age better The third one I want to talk about is linting And",
    "start": "2035519",
    "end": "2042000"
  },
  {
    "text": "I want to talk about a specific llinter that we used in our HR integrations work And if you work in a typed language not",
    "start": "2042000",
    "end": "2049280"
  },
  {
    "text": "Python Cart is mainly a Python shop Um this particular llinter won't do you any good but there are like eight gazillion",
    "start": "2049280",
    "end": "2056079"
  },
  {
    "text": "llinters that you can leverage effectively to make your code age better if you Python's anype language",
    "start": "2056079",
    "end": "2062878"
  },
  {
    "text": "right And we are not exclusively Python but we're we're pretty darn close And as",
    "start": "2062879",
    "end": "2068398"
  },
  {
    "text": "we were standing up this new system we had to decide if we were going to enforce types in the new codebase or not",
    "start": "2068399",
    "end": "2075520"
  },
  {
    "text": "And because we wanted to have code that aged better we we introduced test we",
    "start": "2075520",
    "end": "2080720"
  },
  {
    "text": "introduced types from the start And I personally am like very protypes when it comes to working in an untyped language",
    "start": "2080720",
    "end": "2087200"
  },
  {
    "text": "Why Well because the legacy function in our code looked like this This is a",
    "start": "2087200",
    "end": "2093919"
  },
  {
    "text": "small oversimplification but no it's not much Like talk about a function that's really",
    "start": "2093919",
    "end": "2100240"
  },
  {
    "text": "easy to use wrong You literally don't know what to pass this thing unless you go read the implementation Like that's",
    "start": "2100240",
    "end": "2105839"
  },
  {
    "text": "not the most user friendly thing in the universe We did not want our get employees call to look like this in our",
    "start": "2105839",
    "end": "2113280"
  },
  {
    "text": "new system So how does this look when we introduce my which is it's just a static type checker for Python There's there",
    "start": "2113280",
    "end": "2120079"
  },
  {
    "text": "are several others Myi is the one that we use at Carta So in our new system that function",
    "start": "2120079",
    "end": "2126079"
  },
  {
    "text": "looks much more approximately like this So now if I pass anything other than a UYU ID to get employees my pipeline's",
    "start": "2126079",
    "end": "2133839"
  },
  {
    "text": "going to break because my pi is going to throw an error And I I envy all of you folks who like work in a typed language",
    "start": "2133839",
    "end": "2140320"
  },
  {
    "text": "all the time and need not worry that someone's gonna like shove an integer into your list parameter Like it sounds",
    "start": "2140320",
    "end": "2145680"
  },
  {
    "text": "great but this is not the life that I get to lead Um the bonus of adding my pie not only do I now know what to pass",
    "start": "2145680",
    "end": "2152480"
  },
  {
    "text": "to this function I also know what it's going to return Like I now know I'm going to get back a list of employees",
    "start": "2152480",
    "end": "2157520"
  },
  {
    "text": "This function is way harder to use wrong than that which is begging you to use it",
    "start": "2157520",
    "end": "2162720"
  },
  {
    "text": "wrong like there's you almost would only use it right by mistake This one this",
    "start": "2162720",
    "end": "2168240"
  },
  {
    "text": "one is very clear what's what it's expecting You know this is these are all",
    "start": "2168240",
    "end": "2174640"
  },
  {
    "text": "tools right We've talked about encapsulation we've talked about testing linting one specific llinter but like",
    "start": "2174640",
    "end": "2181680"
  },
  {
    "text": "you know choose the llinters that work best in your codebase The last one I want to talk about and when I was",
    "start": "2181680",
    "end": "2187520"
  },
  {
    "text": "talking to a friend of mine about this talk he's like you're gonna talk about code comments And I was like I'm gonna talk about code comments because I love",
    "start": "2187520",
    "end": "2193760"
  },
  {
    "text": "code comments I love comments that are like informative and descriptive and if",
    "start": "2193760",
    "end": "2198880"
  },
  {
    "text": "we're really lucky sometimes they're funny Comments make our code age better",
    "start": "2198880",
    "end": "2204800"
  },
  {
    "text": "because they provide us with direction and guidance They help us understand like what set of decisions got us to",
    "start": "2204800",
    "end": "2212000"
  },
  {
    "text": "where we are right now or what have the people who have come before us which",
    "start": "2212000",
    "end": "2218560"
  },
  {
    "text": "bear traps have they stepped in that they have commented on at least lop your foot off in a different bear trap",
    "start": "2218560",
    "end": "2223680"
  },
  {
    "text": "instead of the ones that we already found This is what I love about comments And if you're asking yourself like but",
    "start": "2223680",
    "end": "2229440"
  },
  {
    "text": "isn't good code like self-documenting I agree with you on",
    "start": "2229440",
    "end": "2235359"
  },
  {
    "text": "some like theoretical scale but I don't know about you I have never worked in a codebase with where this was real Like",
    "start": "2235359",
    "end": "2241520"
  },
  {
    "text": "I've just never worked in a codebase that I did not feel could really warrant some descriptive and useful",
    "start": "2241520",
    "end": "2248359"
  },
  {
    "text": "comments I also I remember early in my career I heard a more senior engineer say like well you know your good code",
    "start": "2248359",
    "end": "2255920"
  },
  {
    "text": "doesn't need comments And what I internalized to that was well if I add comments I'm making my code bad I I am",
    "start": "2255920",
    "end": "2263599"
  },
  {
    "text": "1,000% certain that's not what that engineer meant but it's it's what I believed for I won't say how long",
    "start": "2263599",
    "end": "2269680"
  },
  {
    "text": "because it's a little bit embarrassing but this was a thing that like I think we have to be careful when we talk about",
    "start": "2269680",
    "end": "2274800"
  },
  {
    "text": "like all good code is self-documenting because we don't want to instill in people that adding a comment isn't like",
    "start": "2274800",
    "end": "2281599"
  },
  {
    "text": "inherently a bad thing And comments are really important",
    "start": "2281599",
    "end": "2287119"
  },
  {
    "text": "because code is so much easier to write than it is to read like you're you're",
    "start": "2287119",
    "end": "2292240"
  },
  {
    "text": "reading some code written by somebody else or the you of six months ago which might as well be somebody else Like it",
    "start": "2292240",
    "end": "2298560"
  },
  {
    "text": "can be really hard to understand why things are the way they are And a good comment can be a real",
    "start": "2298560",
    "end": "2304760"
  },
  {
    "text": "lifesaver They describe the why rather than the how We've probably all",
    "start": "2304760",
    "end": "2310400"
  },
  {
    "text": "encountered the equivalent of this as a code comment right Like \"Yes thank you I",
    "start": "2310400",
    "end": "2315520"
  },
  {
    "text": "knew that was a stop sign.\" I don't This is not what I mean This is not a helpful code comment I had to include this one",
    "start": "2315520",
    "end": "2321839"
  },
  {
    "text": "This is one of my favorite code comments I've ever seen This is 1,000% real uh in a real",
    "start": "2321839",
    "end": "2328560"
  },
  {
    "text": "codebase that I have worked on in my career at a company whose name will remain hidden to protect the guilty I",
    "start": "2328560",
    "end": "2334960"
  },
  {
    "text": "don't know Um I remember when I read this comment for the first time I was like I'm going to go figure out what that piece of code does Beats the heck",
    "start": "2334960",
    "end": "2342320"
  },
  {
    "text": "out of me I have no idea Uh I guess I appre I do not know if this is a good comment or not but I guess I I",
    "start": "2342320",
    "end": "2348240"
  },
  {
    "text": "appreciate the the warning Like I don't know That co piece of code was over seven years old when I encountered it",
    "start": "2348240",
    "end": "2353920"
  },
  {
    "text": "and I was like well I'm not going to be the one Um I do wonder if it's still there I don't know When I'm talking",
    "start": "2353920",
    "end": "2360079"
  },
  {
    "text": "about good code comments I mean a comment like this So this is obviously not directly verbatim but inspired by a",
    "start": "2360079",
    "end": "2368079"
  },
  {
    "text": "real comment in our HR integrations And when we were working on that project",
    "start": "2368079",
    "end": "2373440"
  },
  {
    "text": "we actually talked about our it we talked about our comments in meetings I think that we were weird people but we",
    "start": "2373440",
    "end": "2378800"
  },
  {
    "text": "talked about our comments in meetings as an active extension of the other documentation that existed for this",
    "start": "2378800",
    "end": "2385480"
  },
  {
    "text": "codebase And this is great Like it tells me like why this code exists It tells me",
    "start": "2385480",
    "end": "2392880"
  },
  {
    "text": "that if I'm using it for something else I'm probably making flagrantly bad decisions And it links me to a document",
    "start": "2392880",
    "end": "2399599"
  },
  {
    "text": "And that document helps me understand what trade-offs did we negotiate at the",
    "start": "2399599",
    "end": "2404960"
  },
  {
    "text": "time that we made this decision to get to where we are today Because there's a",
    "start": "2404960",
    "end": "2410480"
  },
  {
    "text": "high likelihood in some future iteration we're going to want to like relitigate those decisions Make it really easy for",
    "start": "2410480",
    "end": "2416720"
  },
  {
    "text": "that future person to understand what was the decision-making that got us where we are So if we need to reconsider",
    "start": "2416720",
    "end": "2423599"
  },
  {
    "text": "that we can understand what we should look at as we go forward",
    "start": "2423599",
    "end": "2429920"
  },
  {
    "text": "These types of comments help our code age better I have to include this one Um",
    "start": "2429920",
    "end": "2438160"
  },
  {
    "text": "wrong comments are worse than no comments at all That function does not return true I",
    "start": "2438160",
    "end": "2445760"
  },
  {
    "text": "don't care what the comment says Like nothing is executing our comment to tell us when we just start lying to ourselves",
    "start": "2445760",
    "end": "2452280"
  },
  {
    "text": "So as we are writing our comments we need to be thoughtful and remember that they require upkeep and maintenance just",
    "start": "2452280",
    "end": "2458960"
  },
  {
    "text": "like our code does Okay I know I'm I'm running up on time so I want to really quickly recap through this lens of this",
    "start": "2458960",
    "end": "2466000"
  },
  {
    "text": "actual real life work we did for Carta's HR integrations migration We've looked at some ways that we can move our code",
    "start": "2466000",
    "end": "2472319"
  },
  {
    "text": "from those bottom two quadrants closer to the top We've looked at how we can pay down our tech debt How can we take",
    "start": "2472319",
    "end": "2478480"
  },
  {
    "text": "code in those leftmost quadrants move it closer to the right and how do we build the Paul Rudd of code This will never",
    "start": "2478480",
    "end": "2485599"
  },
  {
    "text": "not be funny to me Should I live to be a thousand Um I But I didn't really tell you like how did it go right Like I'm",
    "start": "2485599",
    "end": "2491599"
  },
  {
    "text": "saying we did this HR integrations thing and maybe it blew up two weeks after we launched it Thankfully no It's one of",
    "start": "2491599",
    "end": "2497680"
  },
  {
    "text": "our more reliable systems at Carta even still now and it's been several years This code has changed hands several",
    "start": "2497680",
    "end": "2504400"
  },
  {
    "text": "times you know moved between different teams But that resilience has pretty consistently remained And I think a lot",
    "start": "2504400",
    "end": "2510800"
  },
  {
    "text": "of it has to do with the fact that as we were actively designing the system we were consistently talking about its",
    "start": "2510800",
    "end": "2516960"
  },
  {
    "text": "inevitable demise and how did we use the understanding that someday some poor",
    "start": "2516960",
    "end": "2522560"
  },
  {
    "text": "person was going to have to replace this in order to inform the decision-making of designing it up",
    "start": "2522560",
    "end": "2528520"
  },
  {
    "text": "front This is a project I am really excited to be able to say that I had a part in and it's been it's been quite a",
    "start": "2528520",
    "end": "2534800"
  },
  {
    "text": "few years now So I think that I probably have to call this code vintage at this point but that's still it's pretty darn",
    "start": "2534800",
    "end": "2540079"
  },
  {
    "text": "good I think you know I said at the top that the code we're building today is",
    "start": "2540079",
    "end": "2545520"
  },
  {
    "text": "the legacy code of tomorrow and that's true But if we keep in mind that future",
    "start": "2545520",
    "end": "2550640"
  },
  {
    "text": "developer who someday is going to have to deprecate whatever we're building today we can be the author of the",
    "start": "2550640",
    "end": "2557040"
  },
  {
    "text": "vintage code that's actually like pretty nice to work with rather than that dead weight code that's unwieldy and",
    "start": "2557040",
    "end": "2563520"
  },
  {
    "text": "confusing And you never know the future developer whose day you might be saving it just might be you Thanks so",
    "start": "2563520",
    "end": "2570410"
  },
  {
    "text": "[Applause]",
    "start": "2570410",
    "end": "2574690"
  },
  {
    "text": "much Right Anyone have questions Oh I got one All right Gonna try not to walk around the",
    "start": "2578760",
    "end": "2585520"
  },
  {
    "text": "room Sorry Where were we",
    "start": "2585520",
    "end": "2590880"
  },
  {
    "text": "Hi thank you for the great talk Um I really agree with the point you made about wrong comments being worse than no",
    "start": "2590880",
    "end": "2596880"
  },
  {
    "text": "comments Um I was just wondering if you had any suggestions for like tools or processes that could help keep comments",
    "start": "2596880",
    "end": "2602800"
  },
  {
    "text": "accurate and up to date Um or yeah anything I have seen a llinter in my",
    "start": "2602800",
    "end": "2609280"
  },
  {
    "text": "life that I think was at best directionally correct but specifically",
    "start": "2609280",
    "end": "2616000"
  },
  {
    "text": "wrong Um I do not know of any tooling other than code reviews which is not a",
    "start": "2616000",
    "end": "2621280"
  },
  {
    "text": "helpful answer Um sorry I also think about the the other",
    "start": "2621280",
    "end": "2629839"
  },
  {
    "text": "tool I think about is like write a comment that's hard to become a lie Like if you're describing why you're doing",
    "start": "2629839",
    "end": "2635200"
  },
  {
    "text": "what you're doing unless you change the why then that's that's still true I",
    "start": "2635200",
    "end": "2640400"
  },
  {
    "text": "think it's much harder when you have a comment that describes the how because you might change like change the how seven times and that's harder to keep",
    "start": "2640400",
    "end": "2647599"
  },
  {
    "text": "that comment up to date So if you write a comment that's not particularly interested in the specific implementation it's just going to age",
    "start": "2647599",
    "end": "2653520"
  },
  {
    "text": "better All right Any other questions",
    "start": "2653520",
    "end": "2660440"
  },
  {
    "text": "All right Well thank you Oh here Uh hi Um it's funny that you're talking",
    "start": "2664720",
    "end": "2672720"
  },
  {
    "text": "about like funny comments just to start off kind of like um so we have this system for on boarding right And um",
    "start": "2672720",
    "end": "2679599"
  },
  {
    "text": "literally as the comments pop up like on the server start it's a picture of a boar",
    "start": "2679599",
    "end": "2685520"
  },
  {
    "text": "So and yeah it was my skip level boss who wrote that one Um no but uh I wanted",
    "start": "2685520",
    "end": "2691680"
  },
  {
    "text": "to see what you feel about uh to-do comments right cuz they pop up a lot And",
    "start": "2691680",
    "end": "2696960"
  },
  {
    "text": "if you check legacy codes obviously it's riddled with to-do codes uh 7year 8year",
    "start": "2696960",
    "end": "2704079"
  },
  {
    "text": "to-do codes How do you feel it's the best approach to those to-do comments",
    "start": "2704079",
    "end": "2710560"
  },
  {
    "text": "right Like how do is it worth revisiting Is it worth removing Is it worth because",
    "start": "2710560",
    "end": "2717119"
  },
  {
    "text": "they do have some history attached to them Um yeah just wanted to see your thoughts about that Is this when I go",
    "start": "2717119",
    "end": "2723920"
  },
  {
    "text": "back to the Spongebob it depends meme Um so I think to a certain degree it it does depend It depends on like the",
    "start": "2723920",
    "end": "2729440"
  },
  {
    "text": "culture of your organization and like how much are you lying to yourself Every to-do comment is a little bit of a lie",
    "start": "2729440",
    "end": "2734560"
  },
  {
    "text": "It's just like a spectrum of how much of a lie it is And I think that ideally",
    "start": "2734560",
    "end": "2740240"
  },
  {
    "text": "what we leave for ourselves is an artifact to help us understand why we got here and what potential future might",
    "start": "2740240",
    "end": "2746480"
  },
  {
    "text": "look like more than a specific to-do comment I have seen some organizations that are quite studious about their",
    "start": "2746480",
    "end": "2753200"
  },
  {
    "text": "to-do comments and have like llinters that figure out how old they are and like send you a nasty Slack message to",
    "start": "2753200",
    "end": "2759119"
  },
  {
    "text": "you and your boss and then eventually like to the CEO that's like well Shauna said two weeks ago that she was going to do this and she didn't and she's in",
    "start": "2759119",
    "end": "2765359"
  },
  {
    "text": "trouble now Does that work everywhere Maybe almost certainly not Does it work some places Probably yes I think the",
    "start": "2765359",
    "end": "2772160"
  },
  {
    "text": "important part when we're thinking about like what artifact are we leaving in our code to help future us is that whatever",
    "start": "2772160",
    "end": "2778400"
  },
  {
    "text": "your organization is going to find the most useful is the right thing And the day that your to-do comment can like go",
    "start": "2778400",
    "end": "2784000"
  },
  {
    "text": "to kindergarten let's just delete it and move on with our lives Like I think we're lying to ourselves at that point",
    "start": "2784000",
    "end": "2789200"
  },
  {
    "text": "Like",
    "start": "2789200",
    "end": "2792200"
  },
  {
    "text": "[Music]",
    "start": "2794300",
    "end": "2799749"
  }
]