[
  {
    "text": "[Music]",
    "start": "0",
    "end": "22800"
  },
  {
    "text": "hi everybody so my name is Frank maker thanks for coming out um tonight I'm going to be talk to you about power profiling um my hope is that by the end",
    "start": "22800",
    "end": "29759"
  },
  {
    "text": "of the tonight you'll have a good idea of what your options are if you need to do some power profiling for your applications um before I get started and",
    "start": "29759",
    "end": "36040"
  },
  {
    "text": "tell you a little bit about myself I was wanted to get some feedback about who the audience is so QA and testing and",
    "start": "36040",
    "end": "41600"
  },
  {
    "text": "application development looks like it covers it all okay good so I think this talk will fit your needs then um so my",
    "start": "41600",
    "end": "47399"
  },
  {
    "text": "name is Frank maker as I said before um I'm a PhD student at UC Davis I'm almost",
    "start": "47399",
    "end": "52680"
  },
  {
    "text": "finished so hopefully I'll be able to say PhD soon um my just my PhD dissertation is",
    "start": "52680",
    "end": "61320"
  },
  {
    "text": "about how to adapt um software on smartphones for fixed energy constraints",
    "start": "61320",
    "end": "68479"
  },
  {
    "text": "and so my all the papers and all the work that I've done are focused on the problem of how do you adapt software to",
    "start": "68479",
    "end": "75400"
  },
  {
    "text": "different energy conditions so in order to do that a big part of the work has been profiling apps doing power",
    "start": "75400",
    "end": "82040"
  },
  {
    "text": "measurements things like that and I'm actually not in the computer science department I'm in the electrical engineering computer engineering department so I have some uh you know",
    "start": "82040",
    "end": "89960"
  },
  {
    "text": "academic background and electronics and whatnot so I brought along a little oscilloscope I'll show you later um but",
    "start": "89960",
    "end": "96720"
  },
  {
    "text": "uh if you have any questions kind of electrical wise I can probably handle those as well so my background related",
    "start": "96720",
    "end": "102240"
  },
  {
    "text": "to mobile um well actually in general uh let's see I worked for motorol",
    "start": "102240",
    "end": "107640"
  },
  {
    "text": "automotive for a couple years when I got out of undergrad at the University of Rhode Island um when I was when I wasn't",
    "start": "107640",
    "end": "114079"
  },
  {
    "text": "undergrad I worked in BMW uh for a few Summers on engine control units so I've been working in bed software for about",
    "start": "114079",
    "end": "120240"
  },
  {
    "text": "10 years now and then when I came out to California I switched over to Mobile so I did an internship at broadcom working",
    "start": "120240",
    "end": "126680"
  },
  {
    "text": "on their um Android device any of you have that uh Roku box the lowcost one uh",
    "start": "126680",
    "end": "132440"
  },
  {
    "text": "I worked on that getting Android set up on that and then the summer after that I worked on the Google Android team um",
    "start": "132440",
    "end": "139160"
  },
  {
    "text": "writing an obscure little networking uh library that nobody will ever notice other than a system engineer but I",
    "start": "139160",
    "end": "145879"
  },
  {
    "text": "thought it was fun um and that's basically where I'm at so uh if you guys could uh do you have any",
    "start": "145879",
    "end": "153360"
  },
  {
    "text": "questions before I get started okay all right let's get started then so we're going to talk about power profiling so",
    "start": "153360",
    "end": "159680"
  },
  {
    "text": "this is the outline of the talk uh first thing I'm going to talk about why you want to do power profiling which to many",
    "start": "159680",
    "end": "164760"
  },
  {
    "text": "of you may R redundant otherwise you wouldn't be here um I'm going to talk about the mobile platform in general and",
    "start": "164760",
    "end": "171080"
  },
  {
    "text": "specifically how it's different than a regular computer because a lot of you probably um went to University and",
    "start": "171080",
    "end": "177480"
  },
  {
    "text": "learned about general purpose computers but smartphones we're kind of in we're a very different animal back then so I'm",
    "start": "177480",
    "end": "183319"
  },
  {
    "text": "going to give you an idea of actually what's under the hood so you can better understand from a power perspective how things are different then I'm going to",
    "start": "183319",
    "end": "189519"
  },
  {
    "text": "talk about uh Power profiling um in specifically and how it's done and I'll",
    "start": "189519",
    "end": "195080"
  },
  {
    "text": "go into a few different methods that you can use and then I'll be doing a demo with an oscilloscope um and also show",
    "start": "195080",
    "end": "200840"
  },
  {
    "text": "you how to read read the current using the internal um current sensor on the",
    "start": "200840",
    "end": "207200"
  },
  {
    "text": "phone okay all right so we'll start with the",
    "start": "207200",
    "end": "213000"
  },
  {
    "text": "motivation so the main problem with power on",
    "start": "213000",
    "end": "218680"
  },
  {
    "text": "smartphones is that the batteries just can't keep up with the smartphones and this isn't a problem so much",
    "start": "218680",
    "end": "226080"
  },
  {
    "text": "of um research and development time it's it's really there's some physical limitations involved so what this chart",
    "start": "226080",
    "end": "233799"
  },
  {
    "text": "shows you up here from Nex energy is that the lithium ions we have which are",
    "start": "233799",
    "end": "239799"
  },
  {
    "text": "in this area right here are roughly in the middle of the pack in terms of um",
    "start": "239799",
    "end": "246120"
  },
  {
    "text": "the the weight for a given watt hour so wat hour is a unit of energy so the amount of energy you get for a given",
    "start": "246120",
    "end": "252400"
  },
  {
    "text": "kilogram and then the dense density how much energy you get for a given U liter",
    "start": "252400",
    "end": "257880"
  },
  {
    "text": "of volume they're roughly in the middle so in the future we might be moving to something like a zinc air battery um",
    "start": "257880",
    "end": "265360"
  },
  {
    "text": "lithium air I've heard a lot about but right now we're stuck right here and that's why your battery isn't going to",
    "start": "265360",
    "end": "271039"
  },
  {
    "text": "get tremendously better because there's just limitations on the chemistry itself um and a smartphone has a a fixed volume",
    "start": "271039",
    "end": "278199"
  },
  {
    "text": "so it's not like you can just keep throwing more and more material in there um they what the manufacturers seem to",
    "start": "278199",
    "end": "283639"
  },
  {
    "text": "be doing as far as I can tell is they make the try to make the phone smaller and the battery bigger which is one way",
    "start": "283639",
    "end": "289880"
  },
  {
    "text": "to do it but um there's just a limit to how far you can go so the the reason you",
    "start": "289880",
    "end": "297080"
  },
  {
    "text": "can't go much further is because the smartphone is air cooled so there's only so much energy that you can dissipate um",
    "start": "297080",
    "end": "304680"
  },
  {
    "text": "inside the device of that with that volume without having to do some something like forced air cooling which",
    "start": "304680",
    "end": "310639"
  },
  {
    "text": "is what you would do in a regular computer so in a regular uh desktop computer or even a laptop you have a fan",
    "start": "310639",
    "end": "316479"
  },
  {
    "text": "the fan blows air the air Wicks away the Heat and that allows you to to dissipate",
    "start": "316479",
    "end": "321680"
  },
  {
    "text": "up to about 80 watts of power on on the um the CPU but on a mobile device you",
    "start": "321680",
    "end": "328120"
  },
  {
    "text": "don't have a fan and it's also much smaller and it's in your pocket and",
    "start": "328120",
    "end": "333160"
  },
  {
    "text": "sometimes it's on your dash so there's a lot of scenarios where you just you can't get rid of all that energy so",
    "start": "333160",
    "end": "338880"
  },
  {
    "text": "that's the main problem um the batteries are not getting tremendously better so",
    "start": "338880",
    "end": "343960"
  },
  {
    "text": "30 to 40% per year um might sound pretty good to you in terms of Battery Technology increases but you have to ask",
    "start": "343960",
    "end": "350800"
  },
  {
    "text": "yourself do you think your smartphone is using 30 to 40% more power each year or more I'll tell you it's quite a bit more",
    "start": "350800",
    "end": "358520"
  },
  {
    "text": "when you go from the old Symbian phones where you had your WAP browser and maybe",
    "start": "358520",
    "end": "364720"
  },
  {
    "text": "you could see you know a few movies that were playing to seeing YouTube highdef 1080p videos you're going a little",
    "start": "364720",
    "end": "371680"
  },
  {
    "text": "faster than 30 to 40% a year so the batteries just can't keep up um and to",
    "start": "371680",
    "end": "377080"
  },
  {
    "text": "make things even more interesting the capacity Fades over time so a lot of the um a lot of your customers if you're",
    "start": "377080",
    "end": "384319"
  },
  {
    "text": "writing applications um they might have a pretty good size battery to begin with but then a year two years later some of",
    "start": "384319",
    "end": "391479"
  },
  {
    "text": "us are crazy and keep our phones longer than two years you know their battery is is much lower so now they're going to put even more premium more of a premium",
    "start": "391479",
    "end": "398599"
  },
  {
    "text": "on their battery life so all around it's it's a it's a big",
    "start": "398599",
    "end": "404560"
  },
  {
    "text": "problem and to give you an idea of where the power goes um I put up this table",
    "start": "405400",
    "end": "411080"
  },
  {
    "text": "from a paper at isscc that's a major circuits conference um which just gives",
    "start": "411080",
    "end": "416240"
  },
  {
    "text": "you a breakdown of roughly where the power goes inside the device so this is going to vary between manufacturers but",
    "start": "416240",
    "end": "422240"
  },
  {
    "text": "this was from uh a man from Nokia back in 2004 so um it should be reasonably",
    "start": "422240",
    "end": "428360"
  },
  {
    "text": "close to what it would be today and uh the main one is the cellular so that would be the baseband so that means",
    "start": "428360",
    "end": "434560"
  },
  {
    "text": "anytime you're um making phone calls or doing data with the over the cellular",
    "start": "434560",
    "end": "439840"
  },
  {
    "text": "radio so that's the big one the next biggest one is the application processor and you'll notice I call the application",
    "start": "439840",
    "end": "446440"
  },
  {
    "text": "processor instead of just the processor and that's because the cellular is also known as the bband processor because",
    "start": "446440",
    "end": "452000"
  },
  {
    "text": "those are both two big processors in the device but the difference is is that you never program this one you always",
    "start": "452000",
    "end": "457240"
  },
  {
    "text": "program this one if you program this one you work for a company that uh licenses",
    "start": "457240",
    "end": "462319"
  },
  {
    "text": "the IP to uh communicate with the cell phone towers and if you don't you guard",
    "start": "462319",
    "end": "467879"
  },
  {
    "text": "this like crazy so this is the one you're always working on uh the memories actually take a decent amount of power",
    "start": "467879",
    "end": "473800"
  },
  {
    "text": "because they have to retain state so um you have Dam inside phones and those dams have little capacitors in them and",
    "start": "473800",
    "end": "480240"
  },
  {
    "text": "they have to be continually refreshed in order to hold the memory so that takes a decent amount of power and then there's",
    "start": "480240",
    "end": "486520"
  },
  {
    "text": "user interface which would cover the display the backlight um buttons LEDs",
    "start": "486520",
    "end": "491879"
  },
  {
    "text": "that sort of thing audio can also be um kind of a second order power here and",
    "start": "491879",
    "end": "498280"
  },
  {
    "text": "then the rest is other components like Bluetooth uh Power Manager chip Etc so",
    "start": "498280",
    "end": "503560"
  },
  {
    "text": "Bluetooth is actually very power efficient so if you ever have the option to use Bluetooth over say Wi-Fi or",
    "start": "503560",
    "end": "510159"
  },
  {
    "text": "uh cellular you definitely should somebody else had a question Miss",
    "start": "510159",
    "end": "516719"
  },
  {
    "text": "GPS um in probably somewhere into the other GPS isn't isn't that bad actually",
    "start": "517120",
    "end": "522360"
  },
  {
    "text": "GPS was the fifth one thank you um but the other thing with GPS is uh it's not",
    "start": "522360",
    "end": "530240"
  },
  {
    "text": "how do I say this uh it has a different draw it basically the power varies quite a bit based on whether you're receiving",
    "start": "530240",
    "end": "536040"
  },
  {
    "text": "a lot of location updates or just a few cuz the G the power for GPS there's like",
    "start": "536040",
    "end": "542000"
  },
  {
    "text": "a baseline just for having GPS on and then there's a little Peak for each time",
    "start": "542000",
    "end": "548240"
  },
  {
    "text": "you receive a location where you have to do these computations to figure out what the GPS satellites are telling you so",
    "start": "548240",
    "end": "553720"
  },
  {
    "text": "it's kind of a hard thing to give just one number on because it's going to vary dramatically whether you're here in San Francisco or if you're out in Oklahoma",
    "start": "553720",
    "end": "560480"
  },
  {
    "text": "or something you know okay so just to once again drive",
    "start": "560480",
    "end": "565600"
  },
  {
    "text": "home the physical limitations here I just put up some stat about the difference between a smartphone and a",
    "start": "565600",
    "end": "571959"
  },
  {
    "text": "laptop just to give you an idea of you know how much dramatically smaller we're talking so the power budget for a",
    "start": "571959",
    "end": "577800"
  },
  {
    "text": "smartphone is about three Watts as I told you and for a laptop around 60 watts um so you can see the size here",
    "start": "577800",
    "end": "585279"
  },
  {
    "text": "and then the volume is about 91 cubic cm versus 1500 is cubic cm so this is",
    "start": "585279",
    "end": "592920"
  },
  {
    "text": "dramatically bigger than this and you can do four ster cooling so that's why you only get three you only get three",
    "start": "592920",
    "end": "599079"
  },
  {
    "text": "Wat here but then you get 20 times as much power",
    "start": "599079",
    "end": "604120"
  },
  {
    "text": "here okay so now we'll lift the hood a little bit um give you an idea of what's inside a smartphone so inside a laptop",
    "start": "605760",
    "end": "613519"
  },
  {
    "text": "you essentially have a big processor May um I don't know if they still have North",
    "start": "613519",
    "end": "619240"
  },
  {
    "text": "Bridge and South Bridge as separate chips but there's not that many chips anymore most of it's been sucked right",
    "start": "619240",
    "end": "624880"
  },
  {
    "text": "into the general Pur purpose processor and the reason is cuz almost everything's done in software your audio is done in software video is done in",
    "start": "624880",
    "end": "631440"
  },
  {
    "text": "software um almost everything that can be done in software is done in software but on a smartphone because you only",
    "start": "631440",
    "end": "637000"
  },
  {
    "text": "have this three watts to play with they break out some of the more energy intensive functionality into as6",
    "start": "637000",
    "end": "643920"
  },
  {
    "text": "application specific integrated circuits so basically application specific chips",
    "start": "643920",
    "end": "649480"
  },
  {
    "text": "and so this is um this is a picture of what a uh what's this phone called Nexus 4 what a Nexus 4",
    "start": "649480",
    "end": "656399"
  },
  {
    "text": "looks like inside so you can see the system on a chip this is system on a chip is the uh for those of you more",
    "start": "656399",
    "end": "663360"
  },
  {
    "text": "familiar with a general purpose computer it's the main processor plus a bunch of as6 that the S so vendor bundles in um",
    "start": "663360",
    "end": "672279"
  },
  {
    "text": "GPU is usually inside there um maybe multimedia codecs things like that but",
    "start": "672279",
    "end": "678639"
  },
  {
    "text": "then you have some other uh chips as well the bass band like I was talking about so this does all the cellular stuff and this is actually an um this is",
    "start": "678639",
    "end": "686480"
  },
  {
    "text": "usually an arm core there's some x6s out there now as well but this is typically an arm core maybe anything up to like an",
    "start": "686480",
    "end": "692480"
  },
  {
    "text": "arm n cortex cortex A9 um these tend to",
    "start": "692480",
    "end": "697959"
  },
  {
    "text": "be an arm processor as well but a little bit slower because they don't need as much performance because this chip is",
    "start": "697959",
    "end": "703320"
  },
  {
    "text": "running in a is a real-time chip so everything has to be done at a certain time and there's um deadlines that need",
    "start": "703320",
    "end": "709600"
  },
  {
    "text": "to be met by the software that's what real time means whereas this chip is where your software goes and the",
    "start": "709600",
    "end": "715040"
  },
  {
    "text": "operating system and all that stuff is just best effort so that's that's one of the reasons that they split it into two",
    "start": "715040",
    "end": "721040"
  },
  {
    "text": "chips um and you might have NFC which is in green in the upper left there an audio chip in pink uh the power manager",
    "start": "721040",
    "end": "729079"
  },
  {
    "text": "which is in Black uh I don't see it is it really in Black I think it's I think it's actually",
    "start": "729079",
    "end": "735560"
  },
  {
    "text": "in yellow it might be a typo but uh anyways what the power manager does is it just um changes the voltage for all",
    "start": "735560",
    "end": "742000"
  },
  {
    "text": "these different chips um in order to reduce the total power you don't really have to know much about that and then on",
    "start": "742000",
    "end": "748040"
  },
  {
    "text": "the other um the other board here you have a a flash memory which can be pretty big um gyro and",
    "start": "748040",
    "end": "755240"
  },
  {
    "text": "accelerometer those are reasonably um power power heavy considering you run",
    "start": "755240",
    "end": "760720"
  },
  {
    "text": "run them for a long time um Power Amp for the cell phone and then the Wi-Fi and Bluetooth are usually bundled into",
    "start": "760720",
    "end": "767160"
  },
  {
    "text": "the same into a combo chip that one is in Pink So as you can see on a normal",
    "start": "767160",
    "end": "773160"
  },
  {
    "text": "computer these all this functionality would be inside the one chip but on a smartphone they've been spread out into",
    "start": "773160",
    "end": "778760"
  },
  {
    "text": "different chips chips and that is that that is basically so that they can go inside to these chips and custom the",
    "start": "778760",
    "end": "785600"
  },
  {
    "text": "custom build the uh the transistors inside the chip to do that one purpose and do it energy efficiently whereas",
    "start": "785600",
    "end": "792480"
  },
  {
    "text": "Intel just throws it all in one chip they throw the fan on and then they do it however they feel like doing it um or",
    "start": "792480",
    "end": "799440"
  },
  {
    "text": "they might throw on some extra instructions to make it work better you know but they get they have a lot more um head room to work",
    "start": "799440",
    "end": "807240"
  },
  {
    "text": "with so here's another example I'm not going to go through this one but this is an iPhone 3G uh so you can see it's",
    "start": "808120",
    "end": "814399"
  },
  {
    "text": "pretty similar now you can notice the difference between an apple design and a Google design well not",
    "start": "814399",
    "end": "820720"
  },
  {
    "text": "Google HTC so you see on HTC there's some green there's a lot of green there's some green openings I think the",
    "start": "820720",
    "end": "827199"
  },
  {
    "text": "biggest openings here are like this and this and I saw a picture",
    "start": "827199",
    "end": "832360"
  },
  {
    "text": "of the latest iPhone and it was actually even smaller like they really don't waste any little bit it's pretty amazing",
    "start": "832360",
    "end": "840360"
  },
  {
    "text": "I mean this layout is just ridiculous I would not want to be the person in charge of this this is a hard this is a",
    "start": "840360",
    "end": "845639"
  },
  {
    "text": "hard layout as time goes on the chips the the process technology will scale it'll go down so every you know year",
    "start": "845639",
    "end": "852120"
  },
  {
    "text": "year and a half you know the the Fabs will will shrink the chips so you get some savings from that so like if you go",
    "start": "852120",
    "end": "858360"
  },
  {
    "text": "to the Next Generation you might be able to recoup like I don't know another 20% just on the chips getting smaller um but",
    "start": "858360",
    "end": "864720"
  },
  {
    "text": "in terms of the efficiency of it I mean it's just a very difficult design to do",
    "start": "864720",
    "end": "870079"
  },
  {
    "text": "because each one of these especially the big chips you know could be putting off serious amount of power and then that",
    "start": "870079",
    "end": "875120"
  },
  {
    "text": "heat is going to spread over to the passive components here and then you got yourself a modeling nightmare but you",
    "start": "875120",
    "end": "882399"
  },
  {
    "text": "know people it makes sense because it's got it can only be that big and if you can squeeze all that functionality and",
    "start": "882399",
    "end": "888000"
  },
  {
    "text": "people will to pay for it so does that answer your question okay okay so now uh",
    "start": "888000",
    "end": "893160"
  },
  {
    "text": "Power profiling so why would you want to do power profiling um one I'd say the main reason is for application design",
    "start": "893160",
    "end": "898639"
  },
  {
    "text": "feedback so your design app and the app you don't want the app to use more battery than it has to in order to give",
    "start": "898639",
    "end": "904759"
  },
  {
    "text": "a good um experience to your customer or your whoever installed your your uh",
    "start": "904759",
    "end": "910920"
  },
  {
    "text": "application and so you need feedback on different design decisions you know does",
    "start": "910920",
    "end": "916399"
  },
  {
    "text": "code a take more power or code B that sort of thing um driver development would be another one so if you're",
    "start": "916399",
    "end": "921519"
  },
  {
    "text": "working for especially if you're working for one of these platform companies like Intel or Samsung or one of these",
    "start": "921519",
    "end": "927880"
  },
  {
    "text": "companies that makes the actual chips um you can use power profiling to tweak your drivers and um decide what your",
    "start": "927880",
    "end": "935800"
  },
  {
    "text": "tail states are going to look like and things like that and then runtime adaptation is one that I've looked at I",
    "start": "935800",
    "end": "941160"
  },
  {
    "text": "haven't seen much of this done by people in practice but the idea is um if you can measure the power on the phone",
    "start": "941160",
    "end": "946759"
  },
  {
    "text": "itself you could actually adapt your software at runtime so if you notice the cellular so say you really want to use",
    "start": "946759",
    "end": "952560"
  },
  {
    "text": "cellular like you were talking about but you give a you know you're going to put a limit on how high you're willing to",
    "start": "952560",
    "end": "957959"
  },
  {
    "text": "let the power go if you're able to measure the power on the phone you could do that so you could actually have your device you know maybe it's sending data",
    "start": "957959",
    "end": "965720"
  },
  {
    "text": "back to to to drive ads or something but then once the power gets over like 750",
    "start": "965720",
    "end": "970839"
  },
  {
    "text": "Mills you decide okay I'm just going to stop and I'm going to wait till the power comes down you know something like",
    "start": "970839",
    "end": "976560"
  },
  {
    "text": "that so those are the three uh the three reasons for power",
    "start": "976560",
    "end": "982040"
  },
  {
    "text": "profing that I could come up with so now I'm going to talk a little bit about what power and energy are just so we're",
    "start": "982040",
    "end": "987079"
  },
  {
    "text": "clear on our terms before I get to how to actually do the measurements so feel",
    "start": "987079",
    "end": "992199"
  },
  {
    "text": "free to ask questions because people find this typically get hung up on this so power is a is a rate of electrical",
    "start": "992199",
    "end": "998720"
  },
  {
    "text": "energy so it's it's like how much the electrons are moving and how fast they're moving to to give you a certain",
    "start": "998720",
    "end": "1004519"
  },
  {
    "text": "amount of power energy is actually the work being done so I like to explain",
    "start": "1004519",
    "end": "1009720"
  },
  {
    "text": "this with a driving analogy so you can think of power as the speed that your car is going so if I tell you I'm going",
    "start": "1009720",
    "end": "1015360"
  },
  {
    "text": "50 miles an hour that doesn't tell you how far I've gone that just tells you how far I was going let's just tell you",
    "start": "1015360",
    "end": "1021519"
  },
  {
    "text": "how quickly I was moving but then energy is the distance traveled so energy is",
    "start": "1021519",
    "end": "1027280"
  },
  {
    "text": "often what people mean when they say power because energy tells you what you actually did so if you ask me how much",
    "start": "1027280",
    "end": "1034520"
  },
  {
    "text": "power does it take to send 50 kilobytes I can give you an average power but I",
    "start": "1034520",
    "end": "1041438"
  },
  {
    "text": "but I can't tell you how much energy it t uh the power can't tell you how much energy it takes to do that task because",
    "start": "1041439",
    "end": "1047038"
  },
  {
    "text": "that's an Energy Measurement because the is going to look at how the power fluctuates over time and take that and",
    "start": "1047039",
    "end": "1052880"
  },
  {
    "text": "that is how much it actually costs and so um Power is measured in watts and",
    "start": "1052880",
    "end": "1059280"
  },
  {
    "text": "energy is measured in Jewels then I only have two equations here I'm sorry I'm still in Academia so I have to have some",
    "start": "1059280",
    "end": "1065400"
  },
  {
    "text": "math um so a jewel is just one watt per second so it's the so it's the number of",
    "start": "1065400",
    "end": "1071200"
  },
  {
    "text": "Watts times the number of seconds and so energy and we said uh",
    "start": "1071200",
    "end": "1078480"
  },
  {
    "text": "energy is measured in Jews you can also look as the integral of power over time",
    "start": "1078480",
    "end": "1083600"
  },
  {
    "text": "which is the same thing as saying the average Power Times the change in time so in order so if you want to measure",
    "start": "1083600",
    "end": "1089880"
  },
  {
    "text": "power then you just hook up the you know the scope or look at the current sensor on the phone like I'm going to show you",
    "start": "1089880",
    "end": "1095240"
  },
  {
    "text": "and you have your power but usually what you want is the energy because the energy is going to tell you between two",
    "start": "1095240",
    "end": "1100799"
  },
  {
    "text": "different say you're measuring two different ways to do some algorithm it's going to tell you that um if you just",
    "start": "1100799",
    "end": "1106640"
  },
  {
    "text": "look at the power that's going to tell you how hard the processor was uh was pushing in order to do to run the",
    "start": "1106640",
    "end": "1114080"
  },
  {
    "text": "software but what if one of those pieces of software runs a lot more quickly than",
    "start": "1114080",
    "end": "1119159"
  },
  {
    "text": "the other piece so if they if one uses twice as much power but takes half as much time the other one uses half as",
    "start": "1119159",
    "end": "1125880"
  },
  {
    "text": "much power but takes twice as much time you need to be able to compare those two they might be the same you know so time",
    "start": "1125880",
    "end": "1132960"
  },
  {
    "text": "is an important factor to consider when you're measuring power is that is that pretty is that",
    "start": "1132960",
    "end": "1141159"
  },
  {
    "text": "clear okay so the first method I'm going to talk about to do um software",
    "start": "1141159",
    "end": "1146280"
  },
  {
    "text": "measurements is with a software model and I would say this is the can you guys see this at",
    "start": "1146280",
    "end": "1151799"
  },
  {
    "text": "all it's as big as I could make it uh this is a copy and paste from a academic",
    "start": "1151799",
    "end": "1157520"
  },
  {
    "text": "paper so I couldn't make it any bigger um so software model is is probably the",
    "start": "1157520",
    "end": "1164280"
  },
  {
    "text": "most accessible to everyone because it doesn't rely on any physical measurements of the phone um you do the",
    "start": "1164280",
    "end": "1171280"
  },
  {
    "text": "measurements offline so you can use something like an oscilloscope or a monsoon or I'll talk about some options",
    "start": "1171280",
    "end": "1177559"
  },
  {
    "text": "um and you can store all those measurements in a table and then use them um use them to do your calculations",
    "start": "1177559",
    "end": "1184919"
  },
  {
    "text": "either on either in the software or just by hand to estimate the power so this is",
    "start": "1184919",
    "end": "1190360"
  },
  {
    "text": "one that was published um by some people at University of Michigan and what they",
    "start": "1190360",
    "end": "1196440"
  },
  {
    "text": "did was they looked at this is for an HD SE dream phone which is the uh the first",
    "start": "1196440",
    "end": "1201559"
  },
  {
    "text": "Google the first Android phone remember the big blocky one so they looked at a few different components and they",
    "start": "1201559",
    "end": "1207880"
  },
  {
    "text": "basically came up with constants so that's these coefficients here and then they plug them into a",
    "start": "1207880",
    "end": "1214880"
  },
  {
    "text": "linear model so it's just a coefficient times a number and then add those all up and they're able to estimate the power",
    "start": "1214880",
    "end": "1221960"
  },
  {
    "text": "so you can actually download the app that these guys made It's called Power tutor or you can search for this paper",
    "start": "1221960",
    "end": "1229120"
  },
  {
    "text": "here too so uh they'll be posting my presentation online if you if you want to look this up so um if you download",
    "start": "1229120",
    "end": "1236120"
  },
  {
    "text": "their app from the market called Power tutor you can actually run this model on your phone and see how much power your",
    "start": "1236120",
    "end": "1241360"
  },
  {
    "text": "phone's using now it's only going to be reasonably accurate if you have an hdcam",
    "start": "1241360",
    "end": "1246640"
  },
  {
    "text": "dream phone so if you have another phone um you know it might give you a rough",
    "start": "1246640",
    "end": "1252120"
  },
  {
    "text": "estimate but you if you really want a a good model you'd have to calculate these power numbers out yourself",
    "start": "1252120",
    "end": "1259320"
  },
  {
    "text": "um but there's other there's other models that have been published as well so if you find someone else's software model like Google for example they have",
    "start": "1259320",
    "end": "1265919"
  },
  {
    "text": "a software model built into Android um that's how you get your battery usage screen uh the problem there is they",
    "start": "1265919",
    "end": "1272400"
  },
  {
    "text": "don't give you the numbers unless you have one of the Nexus phones um because",
    "start": "1272400",
    "end": "1277679"
  },
  {
    "text": "the manufacturers don't want anybody to know those numbers because they don't want anybody to know anything um that might potentially cause them a problem",
    "start": "1277679",
    "end": "1285240"
  },
  {
    "text": "so so you're saying that yeah so you can go um I can show you uh",
    "start": "1285240",
    "end": "1291679"
  },
  {
    "text": "after the presentation if if you like but U you can go into the Android open source code and find the XML file that",
    "start": "1291679",
    "end": "1297600"
  },
  {
    "text": "has their uh their software model numbers so if you have a phone whose um",
    "start": "1297600",
    "end": "1303480"
  },
  {
    "text": "whose source code is in the Android open source project then you can find the constants otherwise you'd have to go get",
    "start": "1303480",
    "end": "1309279"
  },
  {
    "text": "them yourself or I suppose you could you might be able to root your phone and get",
    "start": "1309279",
    "end": "1314600"
  },
  {
    "text": "it that way too but that's uh depending on what the Supreme Court says that may or may not be",
    "start": "1314600",
    "end": "1321120"
  },
  {
    "text": "legal I think it's currently legal but we don't it's Shady um and there's",
    "start": "1321120",
    "end": "1326799"
  },
  {
    "text": "another approach um which is very high accuracy but also very difficult to uh",
    "start": "1326799",
    "end": "1332320"
  },
  {
    "text": "to do in practice which is system calls so there was a uh the guy from Purdue that wrote a paper making a model just",
    "start": "1332320",
    "end": "1339080"
  },
  {
    "text": "on system call so every time a system call was made he assigned a certain amount of power to that and he would",
    "start": "1339080",
    "end": "1344120"
  },
  {
    "text": "look at the state that the system call was in so this is your you know your role rollsroyce of power models right",
    "start": "1344120",
    "end": "1350320"
  },
  {
    "text": "here but that's going to take a lot of effort so if you're just one developer it's definitely not worth your time but",
    "start": "1350320",
    "end": "1356200"
  },
  {
    "text": "if you need something um more precise than a system call method model is the",
    "start": "1356200",
    "end": "1361640"
  },
  {
    "text": "best you currently the best you can",
    "start": "1361640",
    "end": "1365679"
  },
  {
    "text": "do okay so that's a software model approach so another approach is to do internal",
    "start": "1368799",
    "end": "1375760"
  },
  {
    "text": "measurements um internal measurement would uses is the battery monitor unit inside the smartphone so the battery",
    "start": "1375760",
    "end": "1382440"
  },
  {
    "text": "monitor unit is in charge of controlling charging and discharging in the device so it's the the chip that decides",
    "start": "1382440",
    "end": "1390679"
  },
  {
    "text": "uh how much power to send to your battery when you plug it in for example whether because if it's full it needs to",
    "start": "1390679",
    "end": "1396159"
  },
  {
    "text": "stop sending energy um but what it also does is it tells the system your estimated remaining battery life and so",
    "start": "1396159",
    "end": "1403520"
  },
  {
    "text": "in order to do that it has a little current sensor inside it which um which",
    "start": "1403520",
    "end": "1408679"
  },
  {
    "text": "measures the current and then feeds that into the model in order to give you a good estimate of how much remaining",
    "start": "1408679",
    "end": "1413760"
  },
  {
    "text": "battery life you have because the system needs to know how much battery life you have in order to shut down cleanly if",
    "start": "1413760",
    "end": "1419080"
  },
  {
    "text": "your battery life uh goes too low so the picture I have here is from a",
    "start": "1419080",
    "end": "1425919"
  },
  {
    "text": "Nokia app um this is for the S60 so I haven't seen an app since I haven't seen",
    "start": "1425919",
    "end": "1431320"
  },
  {
    "text": "any apps for any of the modern smartphone os's that do this but the no Nokia platform did have one and what it",
    "start": "1431320",
    "end": "1437360"
  },
  {
    "text": "does is it graphs the reading from the current sensor as it comes in so now",
    "start": "1437360",
    "end": "1442440"
  },
  {
    "text": "this probably looks pretty good to you but um the problem with one of the problems with these sensors that they",
    "start": "1442440",
    "end": "1447960"
  },
  {
    "text": "have a very slow update rate so this the the time difference between any of these two points is actually uh 250",
    "start": "1447960",
    "end": "1455120"
  },
  {
    "text": "milliseconds so a quarter of a second so in terms of telling you precisely what",
    "start": "1455120",
    "end": "1460760"
  },
  {
    "text": "the power is the measurements going to be off by by a good bit but in but in",
    "start": "1460760",
    "end": "1465799"
  },
  {
    "text": "terms of giving you uh qualitative feedback between where the power is going how much it is it's probably",
    "start": "1465799",
    "end": "1471520"
  },
  {
    "text": "pretty good for that but you can't use it unless you're doing Symbian development so",
    "start": "1471520",
    "end": "1476880"
  },
  {
    "text": "sorry um but some some Android phones do have",
    "start": "1476880",
    "end": "1482120"
  },
  {
    "text": "these current sensors uh specifically the ones from HTC so I have an HTC Nexus one over here that has one in it um and",
    "start": "1482120",
    "end": "1489080"
  },
  {
    "text": "I'm going to show you how to see the current on here but You' basically have to look at at the particular device you have to see if it has the current sensor",
    "start": "1489080",
    "end": "1495360"
  },
  {
    "text": "in it but because um all the Android devices",
    "start": "1495360",
    "end": "1501960"
  },
  {
    "text": "for example run Linux it'll be in the same place as I show you so if it does have it it'll show up in this a similar",
    "start": "1501960",
    "end": "1507760"
  },
  {
    "text": "path but for iPhone I I don't know what they have so is anybody doing any other",
    "start": "1507760",
    "end": "1513159"
  },
  {
    "text": "platforms like Blackberry maybe no windows poor Windows",
    "start": "1513159",
    "end": "1519600"
  },
  {
    "text": "mobile no love they actually came to Davis a couple weeks ago and they gave",
    "start": "1519600",
    "end": "1527080"
  },
  {
    "text": "out pizza and Microsoft e Garb and all that stuff and they were giving a $100",
    "start": "1527080",
    "end": "1532320"
  },
  {
    "text": "to any student that wrote a Windows mobile app while they were there in the class and I walked by there because I",
    "start": "1532320",
    "end": "1538600"
  },
  {
    "text": "had to go home to pick up my kids and there was only like 10 people in there I felt so bad I'm like they you know",
    "start": "1538600",
    "end": "1544279"
  },
  {
    "text": "they're giving away money and like still nobody will come it's I feel bad for her because Windows mobile is actually a",
    "start": "1544279",
    "end": "1549960"
  },
  {
    "text": "pretty nice phone but it's just doesn't seem to be C doesn't seem to be catching on as much as they'd like okay so uh the",
    "start": "1549960",
    "end": "1557919"
  },
  {
    "text": "last method which I think is the most uh likely for all of you is external measurement so that would be using some",
    "start": "1557919",
    "end": "1563679"
  },
  {
    "text": "sort of benchtop equipment uh in order to do that you can either use a monsoon which is a device",
    "start": "1563679",
    "end": "1570440"
  },
  {
    "text": "that's specifically designed to do this for uh for smartphones that's what this picture is here and I included the URL",
    "start": "1570440",
    "end": "1576840"
  },
  {
    "text": "here in case you want to buy one um I think it's about $500 so sorry 800 800 now okay used to be 500",
    "start": "1576840",
    "end": "1586880"
  },
  {
    "text": "okay they're making nice little profit up there um so uh if you buy a monsoon",
    "start": "1586880",
    "end": "1592279"
  },
  {
    "text": "that'll uh that'll definitely fit your needs um if you want to do something a little more lower cost um for example",
    "start": "1592279",
    "end": "1599120"
  },
  {
    "text": "this oscilloscope here I bought cost $300 so um and it works just fine so",
    "start": "1599120",
    "end": "1605840"
  },
  {
    "text": "what you need to do is you need to set up a current sensor resistor so find find your your friend that likes to do",
    "start": "1605840",
    "end": "1611679"
  },
  {
    "text": "soldering and get them to solder resistor for you if you're if you don't if you're not into that um and basically",
    "start": "1611679",
    "end": "1618480"
  },
  {
    "text": "what you do is you hook the resistor up between the the positive rail coming out",
    "start": "1618480",
    "end": "1624039"
  },
  {
    "text": "of the battery so the positive side of the battery you you connect the resistor",
    "start": "1624039",
    "end": "1629200"
  },
  {
    "text": "between that and the phone so that way the resistor is sitting in between the phone and the",
    "start": "1629200",
    "end": "1635200"
  },
  {
    "text": "battery and then because of Ohm's law um some of you may may be familiar with um",
    "start": "1635200",
    "end": "1641120"
  },
  {
    "text": "you can basic you can basically measure the voltage on this resistor and it's proportional to the current going",
    "start": "1641120",
    "end": "1646480"
  },
  {
    "text": "through the resistor and since the same current is going through this resistor that's going to your phone that's your",
    "start": "1646480",
    "end": "1652720"
  },
  {
    "text": "measurement for your phone so I actually have this set up here on my phone so if you want to come take a look at it um",
    "start": "1652720",
    "end": "1658240"
  },
  {
    "text": "after you can feel free but um that's really all you have to do and then you measure you measure here for voltage",
    "start": "1658240",
    "end": "1665039"
  },
  {
    "text": "because power is voltage times current so you measure here for voltage and then you measure across the resistor for",
    "start": "1665039",
    "end": "1670399"
  },
  {
    "text": "current and if you multiply those two together you have your power so pretty pretty straightforward",
    "start": "1670399",
    "end": "1677080"
  },
  {
    "text": "so I just want to give you a couple tips and then I'll do a demo showing you an how to read internal current measurement",
    "start": "1677080",
    "end": "1682840"
  },
  {
    "text": "and then uh external with the cillos scope so the first tip um I found that a",
    "start": "1682840",
    "end": "1689360"
  },
  {
    "text": "100 milliohm current sensor resistor worked pretty well so I tried a 10 mli",
    "start": "1689360",
    "end": "1694679"
  },
  {
    "text": "ohm and the signal was really small and it was hard to pick up on my oscilloscope so as a rule of thumb I'd recommend the 0.1 because the higher you",
    "start": "1694679",
    "end": "1701600"
  },
  {
    "text": "go with the resistance um the more less power you're leaving for the phone so if you make the resistor too big the phone",
    "start": "1701600",
    "end": "1707519"
  },
  {
    "text": "won't even turn on on so this this uh this value worked pretty well for me um",
    "start": "1707519",
    "end": "1712679"
  },
  {
    "text": "the resistor itself you're going to need so package is the name for the type of resistor because there's all different types of resistors based on how much",
    "start": "1712679",
    "end": "1719159"
  },
  {
    "text": "power they're designed to handle so you need one that's 100 Ms or more",
    "start": "1719159",
    "end": "1724480"
  },
  {
    "text": "roughly um if you're using a power supply so in this diagram I showed the",
    "start": "1724480",
    "end": "1730640"
  },
  {
    "text": "uh just using the smartphone battery and you're just putting the current in the middle but you could take the smartphone battery out and use some sort of uh a",
    "start": "1730640",
    "end": "1738600"
  },
  {
    "text": "power meter like a not power meter a power power supply thank you so you could use a power supply here as well if",
    "start": "1738600",
    "end": "1745480"
  },
  {
    "text": "you do that um make sure to set the current limit because if you accidentally touch something you could",
    "start": "1745480",
    "end": "1752080"
  },
  {
    "text": "fry your phone so when I first started at Davis we had this box of about 50",
    "start": "1752080",
    "end": "1758120"
  },
  {
    "text": "phones and my first couple weeks there I fried like five until I started setting",
    "start": "1758120",
    "end": "1763720"
  },
  {
    "text": "the current limit so what the current limit does is it tells the power supply don't give any more current than this cuz there's you might you might need to",
    "start": "1763720",
    "end": "1771159"
  },
  {
    "text": "go up to one amp maybe if you're doing cellular stuff because you'll have these little tiny High amp pulses but",
    "start": "1771159",
    "end": "1778640"
  },
  {
    "text": "certainly not over one amp if you're doing more than one amp then the something's broken in the phone um I use copper braid for the",
    "start": "1778640",
    "end": "1785880"
  },
  {
    "text": "connections so any of you any of you that have ever done tinkering with soldering irons copper braid is this really flat metal wire so if you go into",
    "start": "1785880",
    "end": "1793120"
  },
  {
    "text": "Radio Shack and you ask them for copper braid you'll find it and then uh the nice thing about copper braid is since it's so so flat but it's conductive you",
    "start": "1793120",
    "end": "1800159"
  },
  {
    "text": "can squish it in between the battery and the phone so you don't have to change you don't have to solder to anything and",
    "start": "1800159",
    "end": "1806039"
  },
  {
    "text": "that means um the setup I have here is with copper raid you can see the coppery",
    "start": "1806039",
    "end": "1811240"
  },
  {
    "text": "color here um that means if I take everything off take all the electrical tape off and everything the",
    "start": "1811240",
    "end": "1817279"
  },
  {
    "text": "phone looks the same as it did before I started because what I used to do before I knew about the copper braid was I",
    "start": "1817279",
    "end": "1822440"
  },
  {
    "text": "would solder directly to the battery which means now the battery can't be used the way it was before right cuz now",
    "start": "1822440",
    "end": "1828240"
  },
  {
    "text": "I've messed up all the pads you know the the plastic is melted and things like that but if you use the copper braid then you're you're good to",
    "start": "1828240",
    "end": "1834840"
  },
  {
    "text": "go um tape down the probes this I you know I I'm surprised it took me like",
    "start": "1834840",
    "end": "1840279"
  },
  {
    "text": "five years to figure this out but if you just tape down the probes then they",
    "start": "1840279",
    "end": "1845480"
  },
  {
    "text": "don't wiggle out and the phone doesn't get shorted and your measurement doesn't get messed up if you don't tape the",
    "start": "1845480",
    "end": "1851240"
  },
  {
    "text": "probes then you're going to hit it you're going to bump it so just tape down the probes and you won't have any trouble five years yeah",
    "start": "1851240",
    "end": "1858320"
  },
  {
    "text": "um just one day I was like you know I should just tape this down and then another nice trick is using ADB over",
    "start": "1858320",
    "end": "1864159"
  },
  {
    "text": "Wi-Fi so you can download an app uh there's a few of them on the market that will allow you to run ADB over the Wi-Fi",
    "start": "1864159",
    "end": "1871240"
  },
  {
    "text": "interface instead of USB what that lets you do is unplug the charger here unplug",
    "start": "1871240",
    "end": "1877480"
  },
  {
    "text": "the USB from the phone the reason you want to do that is because the USB is going to charge the phone so you're",
    "start": "1877480",
    "end": "1882760"
  },
  {
    "text": "going to get positive current measurements so you're going to think that you violated you know some basic",
    "start": "1882760",
    "end": "1888639"
  },
  {
    "text": "law of the universe because you're getting more energy out than you put in but it's really because you have it plugged into the computer so if you want",
    "start": "1888639",
    "end": "1895320"
  },
  {
    "text": "negative if you want true current measurements you have to unplug it with USB and um I found Wi-Fi over ADB was",
    "start": "1895320",
    "end": "1901440"
  },
  {
    "text": "pretty useful because then you can load the program that you're going to test you can get some debugging info but then",
    "start": "1901440",
    "end": "1907200"
  },
  {
    "text": "you need to turn Wi-Fi off unless you want to unless you're going to subtract it out of your measurements which you",
    "start": "1907200",
    "end": "1912440"
  },
  {
    "text": "can do as well but so that's another handy tip because if you leave it plugged into USB you're going to think",
    "start": "1912440",
    "end": "1917559"
  },
  {
    "text": "that you you I don't know what you'll think but your measurements will be wrong you might even get zero I've",
    "start": "1917559",
    "end": "1922799"
  },
  {
    "text": "gotten zero before I was like zero what the hell",
    "start": "1922799",
    "end": "1928200"
  },
  {
    "text": "so all right so now I'm going to do a demo so I'll start with the osilloscope okay so this is a cheapy oscilloscope I",
    "start": "1928200",
    "end": "1935200"
  },
  {
    "text": "got uh it's a Taiwanese company it's called Riel and uh for 300 bucks I think",
    "start": "1935200",
    "end": "1940600"
  },
  {
    "text": "it's a really good deal for an oscilloscope if you want one so [Music] um so what you're seeing here are the",
    "start": "1940600",
    "end": "1948159"
  },
  {
    "text": "measurements across the current sensor so if I turn the phone on um I hope you can see this you can see now the power's",
    "start": "1948159",
    "end": "1955240"
  },
  {
    "text": "gone up quite a bit and now it went down because the phone turned off so let me just turn it on and I'm going to run um",
    "start": "1955240",
    "end": "1961200"
  },
  {
    "text": "I'm going to run this app I have that runs through some tests so what's a good",
    "start": "1961200",
    "end": "1970200"
  },
  {
    "text": "one I have cell phone on I'll run a cellular test so this test",
    "start": "1971159",
    "end": "1978440"
  },
  {
    "text": "um sends a bunch of UDP packets out over the cellular radio so you can see how the power Just spiked quite a",
    "start": "1978440",
    "end": "1985440"
  },
  {
    "text": "bit let me there's my scale",
    "start": "1985440",
    "end": "1991399"
  },
  {
    "text": "thing make it a little smaller so you can see it better let me run it",
    "start": "1991399",
    "end": "1999480"
  },
  {
    "text": "again I shouldn't have fiddled with it now it's",
    "start": "2004960",
    "end": "2009760"
  },
  {
    "text": "oh there we go yeah so you can see the power that's",
    "start": "2012000",
    "end": "2019320"
  },
  {
    "text": "going through the cellular so cellular has a lot of funkiness with the power that's why I decided to run that Benchmark but you could run something",
    "start": "2019320",
    "end": "2025279"
  },
  {
    "text": "like a CPU where you just uh run some software at 100% of the",
    "start": "2025279",
    "end": "2030600"
  },
  {
    "text": "CPU and that test will just look like a straight line so you probably can't see this but",
    "start": "2030600",
    "end": "2038360"
  },
  {
    "text": "basically the power jumps up and then it stays at a constant power rate so that's",
    "start": "2038360",
    "end": "2044440"
  },
  {
    "text": "that's how you do that so you guys can come take a look closer after the talk it's probably hard to see especially if you're over there but um that's that's my setup for",
    "start": "2044440",
    "end": "2052358"
  },
  {
    "text": "the current measurement thank you thanks for your attention",
    "start": "2052359",
    "end": "2057720"
  },
  {
    "text": "[Music]",
    "start": "2060739",
    "end": "2068360"
  }
]