[
  {
    "text": "[Music]",
    "start": "3320",
    "end": "8769"
  },
  {
    "text": "hello everybody I uh I set through the earlier sessions and and there was a lot of very consistently good advice about",
    "start": "12360",
    "end": "19160"
  },
  {
    "text": "platform engineering and I was checking notes and see if my implementation live",
    "start": "19160",
    "end": "24439"
  },
  {
    "text": "up to the standard I think I'm okay I think I'm okay but but but here is uh I'm going to",
    "start": "24439",
    "end": "31000"
  },
  {
    "text": "talk to you about uh a type of platform and maybe not the most common kind you run into but but this is a sort of like",
    "start": "31000",
    "end": "37760"
  },
  {
    "text": "a case study of how we tried to solve a problem but ended up accidentally almost",
    "start": "37760",
    "end": "44120"
  },
  {
    "text": "doing platform engineering so so this is about my tenure uh at Twitter I was at",
    "start": "44120",
    "end": "50760"
  },
  {
    "text": "Twitter for almost 12 years and this is mostly the second half of it uh now I'm no longer at Twitter for reasons that",
    "start": "50760",
    "end": "57399"
  },
  {
    "text": "hopefully is well known but let's get to the topic so so so I",
    "start": "57399",
    "end": "63359"
  },
  {
    "text": "want to uh start with a story so when I was nine I grew up in China so I read",
    "start": "63359",
    "end": "68960"
  },
  {
    "text": "about the story in Chinese so there's this U wizard of a electrical engineer",
    "start": "68960",
    "end": "74680"
  },
  {
    "text": "and scientist right uh Charles uh stet so so he was originally German he came",
    "start": "74680",
    "end": "80960"
  },
  {
    "text": "to the US he became sort of a wizard figure in this locan and one of the most",
    "start": "80960",
    "end": "86360"
  },
  {
    "text": "famous anecdote about him was he was asked by Henry Ford to debug a problem",
    "start": "86360",
    "end": "91880"
  },
  {
    "text": "about the generator right so so he's like I don't need tools give me some pen and paper and he just sat there and",
    "start": "91880",
    "end": "98960"
  },
  {
    "text": "fought right so so on the second night he asked for a ladder and he climbed up to the generator apparently that's kind",
    "start": "98960",
    "end": "105479"
  },
  {
    "text": "of tall or maybe he was short he was short and then and then and marked on the slide and say replace the plate here",
    "start": "105479",
    "end": "113680"
  },
  {
    "text": "and also 16 rounds of coil so so the rest of engineers get as he as he said",
    "start": "113680",
    "end": "121039"
  },
  {
    "text": "and they did and the generator performed to Perfection so later he sent a bill to",
    "start": "121039",
    "end": "126840"
  },
  {
    "text": "Ford say asking for $10,000 I looked it up $10,000 back then is about",
    "start": "126840",
    "end": "133360"
  },
  {
    "text": "$200,000 in today's purchase power so for two days worth of work that's not so bad right and Ford was a little bit Tak",
    "start": "133360",
    "end": "140160"
  },
  {
    "text": "in the back why are you asking for those so much money he said this is his explanation making the chalk Mark $1",
    "start": "140160",
    "end": "146680"
  },
  {
    "text": "knowing where to make the chalk Mark the rest of it right so ever since then whenever I see",
    "start": "146680",
    "end": "154760"
  },
  {
    "text": "performance engineering stories um usually on Hacker News it's usually how",
    "start": "154760",
    "end": "160000"
  },
  {
    "text": "it goes like here is a core Loop and we changed up one one line in this Loop and",
    "start": "160000",
    "end": "165879"
  },
  {
    "text": "suddenly our performance went up by 300% right and then it in neverita goes to",
    "start": "165879",
    "end": "171120"
  },
  {
    "text": "the front page everybody has a great discussion about what is you know this strange AVX vectorized instruction or",
    "start": "171120",
    "end": "178159"
  },
  {
    "text": "how you fit things into L1 to cash everybody is like oh if only I knew",
    "start": "178159",
    "end": "183400"
  },
  {
    "text": "right like where to find those on line changes I can be Hacker News famous and I can make a lot of impact so so that's",
    "start": "183400",
    "end": "189519"
  },
  {
    "text": "tends to be the popular conception of what performance engineering is is you",
    "start": "189519",
    "end": "194720"
  },
  {
    "text": "know exactly where to look you make that magical touch and then things automatically get better but is that",
    "start": "194720",
    "end": "202040"
  },
  {
    "text": "true right is that is that sort of we hire basically a room of wizards and",
    "start": "202040",
    "end": "207440"
  },
  {
    "text": "then set them loose and then go go around and holding a chalk and then marking all over the place right so hold",
    "start": "207440",
    "end": "213680"
  },
  {
    "text": "that question for a sec and I'll I'll answer that in five minutes so so a",
    "start": "213680",
    "end": "219080"
  },
  {
    "text": "little bit more about who I am so I was actually a cuon speaking uh at cuon SF",
    "start": "219080",
    "end": "224360"
  },
  {
    "text": "in 2016 back then I was talking about caching right I was I spent my first half at Twitter mostly managing caches",
    "start": "224360",
    "end": "231000"
  },
  {
    "text": "and de developer caches I weathered through a dozen of user-facing incidents",
    "start": "231000",
    "end": "236720"
  },
  {
    "text": "and and I so spend lots of time digging in the Tren and uh actually shortly after giving the",
    "start": "236720",
    "end": "243840"
  },
  {
    "text": "talk I funded the performance team called IOP you can ask me how IOP stands for after the fact I'm going to I'm",
    "start": "243840",
    "end": "250400"
  },
  {
    "text": "going to give you at least three answers um so I started the performance team at Twitter in",
    "start": "250400",
    "end": "255560"
  },
  {
    "text": "2017 and uh that went on until uh last year so uh generally I like things about",
    "start": "255560",
    "end": "263800"
  },
  {
    "text": "systems especially distributed systems I like things about software and Hardware integration and then performance really",
    "start": "263800",
    "end": "270280"
  },
  {
    "text": "is an area that allows me to play with all of them so so that is what I have spent time working on so today I want to",
    "start": "270280",
    "end": "277039"
  },
  {
    "text": "talk to you a little bit about performance engineering so this is the year if you want to start pivoting into",
    "start": "277039",
    "end": "284840"
  },
  {
    "text": "performance engineering this is the year to do it so so how many companies who",
    "start": "284840",
    "end": "290400"
  },
  {
    "text": "here have given some kind of cost effectiv or or efficiency",
    "start": "290400",
    "end": "296160"
  },
  {
    "text": "mandate right so so you know there's one one re this is one reason to care about",
    "start": "296160",
    "end": "301520"
  },
  {
    "text": "performance right so so if if that's on your mind here's uh What uh what you can",
    "start": "301520",
    "end": "307479"
  },
  {
    "text": "do so so number one I I want to uh first start by talk saying a little bit about",
    "start": "307479",
    "end": "312880"
  },
  {
    "text": "why we actually need performance engineering now more so than ever so there is this a wonderful talk by Emme",
    "start": "312880",
    "end": "320639"
  },
  {
    "text": "uh Burger who is a who is a professor at University of Massachusetts and in his",
    "start": "320639",
    "end": "327240"
  },
  {
    "text": "talk called performance matters he pointed out a fact he said performance engineering used to be easy right",
    "start": "327240",
    "end": "333479"
  },
  {
    "text": "because computers get faster about every 18 months so if you're a performance engineer you just sit on the beach drink",
    "start": "333479",
    "end": "340440"
  },
  {
    "text": "your cocktail and buy the next batch of machines in 18 months and I'm like that's wrong if it's that easy then you",
    "start": "340440",
    "end": "347840"
  },
  {
    "text": "don't need it right like in fact what happens is people don't really hire performance Engineers until they are",
    "start": "347840",
    "end": "354319"
  },
  {
    "text": "extremely large companies and the rest of the engineering department just set on the beach AG drun their cocktail and",
    "start": "354319",
    "end": "361120"
  },
  {
    "text": "wait 18 months and and buy the next generation of computers right so so now the moment has finally come that you",
    "start": "361120",
    "end": "366560"
  },
  {
    "text": "actually have to put in work and why is that well this is a slide about all",
    "start": "366560",
    "end": "374680"
  },
  {
    "text": "kinds of Hardware features so it's intentionally made busy starting from",
    "start": "374680",
    "end": "380199"
  },
  {
    "text": "things like Puma noes and pcie accelerators like gpus and other devices",
    "start": "380199",
    "end": "385520"
  },
  {
    "text": "which have been on the market for at least 15 years and there's all these these terms that represent certain kind of",
    "start": "385520",
    "end": "393199"
  },
  {
    "text": "specialized technologies that you may or may not have heard of right there's cxl",
    "start": "393199",
    "end": "398479"
  },
  {
    "text": "there vectorization programming NY RDMA whatever the point is there is a lot",
    "start": "398479",
    "end": "406240"
  },
  {
    "text": "going on in Hardware engineering because we have all these sort of petty phys",
    "start": "406240",
    "end": "412560"
  },
  {
    "text": "laws of f physics getting in the way so there's the power cap there's the thermal cap you cannot make computer",
    "start": "412560",
    "end": "418400"
  },
  {
    "text": "just run faster right simple things run faster that's the best but instead you do all these tricks so so the the",
    "start": "418400",
    "end": "425400"
  },
  {
    "text": "heterogeneous evolution of the hardware means it's getting really really",
    "start": "425400",
    "end": "431039"
  },
  {
    "text": "difficult to write good program or the right kind of program to actually take advantage of them so if you think",
    "start": "431039",
    "end": "437160"
  },
  {
    "text": "programming many core computer is difficult just wait until you have to learn 20 different new technologies to",
    "start": "437160",
    "end": "443639"
  },
  {
    "text": "write a simple program right so it's it's it's really getting out of control on the other hand our software",
    "start": "443639",
    "end": "450240"
  },
  {
    "text": "Engineers are not doing ourselves any favors right if you look at a modern application it's highly complex on the",
    "start": "450240",
    "end": "457120"
  },
  {
    "text": "left you know it's it's a joke by by XKCD but it's very much true you have this impossibly tall stack and nobody",
    "start": "457120",
    "end": "463360"
  },
  {
    "text": "knows what your dependency Tre really is and nobody really want to know and and if you zoom out and you say let me look",
    "start": "463360",
    "end": "470360"
  },
  {
    "text": "at my production well your production is not even one of those toss Stacks your production is a bunch of those toss",
    "start": "470360",
    "end": "476800"
  },
  {
    "text": "Stacks right and and no matter how complex I graph you draw to represent the relationships between the services",
    "start": "476800",
    "end": "482879"
  },
  {
    "text": "reality is usually much worse so on the on the bottom right is a a graph that is actually quite old by now that's a",
    "start": "482879",
    "end": "489199"
  },
  {
    "text": "5-year-old graph back from when Twitter was simpler and and and this is the call",
    "start": "489199",
    "end": "495560"
  },
  {
    "text": "graph between all services right and you you can see the number of edges and how they connected with each other it's it's",
    "start": "495560",
    "end": "501240"
  },
  {
    "text": "enormous headache so the problem here is",
    "start": "501240",
    "end": "506840"
  },
  {
    "text": "that things are complex so if um if uh schats were to live today",
    "start": "506840",
    "end": "515518"
  },
  {
    "text": "and were to solve what is the software equivalent of a generator I think what he's going to be facing is you have",
    "start": "515519",
    "end": "521680"
  },
  {
    "text": "these six feet tall generator packed into I don't know like a a 40 foot long",
    "start": "521680",
    "end": "529920"
  },
  {
    "text": "right Corridor and then you have entire Warehouse of them and that's not the end",
    "start": "529920",
    "end": "535000"
  },
  {
    "text": "of it you have three such warehouses connecting to each other and to do any to generate any electricity at all you",
    "start": "535000",
    "end": "541440"
  },
  {
    "text": "have to power up all three rooms and they constantly are bustling so so when you have that level of",
    "start": "541440",
    "end": "547640"
  },
  {
    "text": "complexity basically there's no room for magic because who needs magic when you",
    "start": "547640",
    "end": "553160"
  },
  {
    "text": "have systems of complexity instead right so so the answer is no we cannot purely",
    "start": "553160",
    "end": "560240"
  },
  {
    "text": "do performance engineering relying on knowing everything and being able to hold the state in our head because",
    "start": "560240",
    "end": "566839"
  },
  {
    "text": "reality is far more challenging than that so the answer basically is treating",
    "start": "566839",
    "end": "575320"
  },
  {
    "text": "complexity with the tools that is designed to handle complexity and the language for complexity one of the",
    "start": "575320",
    "end": "581440"
  },
  {
    "text": "languages for complexity actually is systems and this is something that has been mention over and over again the talks below but but I think systems is",
    "start": "581440",
    "end": "589000"
  },
  {
    "text": "it's not it's not sort of mythical right systems is essentially is you have a",
    "start": "589000",
    "end": "594120"
  },
  {
    "text": "large um you have a lot of things and those things are connected and system essentially is building a model to",
    "start": "594120",
    "end": "601000"
  },
  {
    "text": "describe the relationship between different parts and if you see the fundamental reality through that lens",
    "start": "601000",
    "end": "608160"
  },
  {
    "text": "then what is performance performance is merely a counting exercise on top of such relationship right you're counting",
    "start": "608160",
    "end": "615680"
  },
  {
    "text": "how how many CPUs or how much memory B bandwidth or or how many discs you have",
    "start": "615680",
    "end": "621240"
  },
  {
    "text": "and you're counting how often are they used and to what extent are they used but the key here is you need to have the",
    "start": "621240",
    "end": "628200"
  },
  {
    "text": "system model in place so you are you have the basic structure we need to",
    "start": "628200",
    "end": "633839"
  },
  {
    "text": "count these resources at the right granularity if you care about request latency for example and the the request",
    "start": "633839",
    "end": "640320"
  },
  {
    "text": "latency tend to happen on the level of milliseconds then you need to count at those time G larities otherwise the",
    "start": "640320",
    "end": "646800"
  },
  {
    "text": "utilization would not reflect what the request is experiencing right so and all of these things would change over time",
    "start": "646800",
    "end": "653079"
  },
  {
    "text": "and therefore this exercise will have to go on continuously so so performance as",
    "start": "653079",
    "end": "658680"
  },
  {
    "text": "a system property um allows us to draw some parallels with other system level",
    "start": "658680",
    "end": "664440"
  },
  {
    "text": "properties I I think those are are also fairly well understood for example there's security security the intuitive",
    "start": "664440",
    "end": "671000"
  },
  {
    "text": "way of thinking about security is that the weakest link determines the overall system security right so it's sort of",
    "start": "671000",
    "end": "677360"
  },
  {
    "text": "like a and relationship so anything that fails means the whole system fails",
    "start": "677360",
    "end": "682800"
  },
  {
    "text": "availability on the other hand is much more forgiving so if any any part of that uh you know system works the system",
    "start": "682800",
    "end": "689920"
  },
  {
    "text": "is available right and performance is somewhere in the middle performance Loosely can be seen as the sum of all",
    "start": "689920",
    "end": "695920"
  },
  {
    "text": "parts so you add up the cost of your parts or you add up the latency of all your steps and and and this means that",
    "start": "695920",
    "end": "702680"
  },
  {
    "text": "you know when we approach performance we often can trade off we can say a dollar",
    "start": "702680",
    "end": "707760"
  },
  {
    "text": "saved is a dollar save it doesn't matter if saves here or there because in the end they all add up together and and",
    "start": "707760",
    "end": "714200"
  },
  {
    "text": "performance also links to some of other higher properties you know or maybe business level uh Concepts that we care",
    "start": "714200",
    "end": "720480"
  },
  {
    "text": "about right so so business generally care about reliability they want their service to be available and performance",
    "start": "720480",
    "end": "726399"
  },
  {
    "text": "is a multiplier of that right better performance means you can handle more with the same resources and and cost on",
    "start": "726399",
    "end": "733240"
  },
  {
    "text": "the other hand uh is inversely related to Performance if you have worse performance if your performance is lower",
    "start": "733240",
    "end": "740040"
  },
  {
    "text": "then you have to spend more money to get get the same kind of availability so so",
    "start": "740040",
    "end": "745440"
  },
  {
    "text": "through these links you know this is how performance tie itself to actually the overall business",
    "start": "745440",
    "end": "751480"
  },
  {
    "text": "objective so the other thing about performance engineering performance engineering implies that things can be",
    "start": "751480",
    "end": "758000"
  },
  {
    "text": "made better in particular performance can be made better so so can we make that claim and and I really like this",
    "start": "758000",
    "end": "764959"
  },
  {
    "text": "book that's called understanding software Dynamics in the first chapter what it established is that there is a",
    "start": "764959",
    "end": "771760"
  },
  {
    "text": "limit so there is a baseline saying how slow should it be for example you can never violate the law of physics you",
    "start": "771760",
    "end": "778320"
  },
  {
    "text": "cannot run fast fter than what the CPU can run according to the clock right if there's a delay because of PCI it cannot",
    "start": "778320",
    "end": "786160"
  },
  {
    "text": "transfer data any faster than the physical limitation of those links so all of these boundaries and all of these",
    "start": "786160",
    "end": "793040"
  },
  {
    "text": "constraints actually tells us if you do everything right what can you expect",
    "start": "793040",
    "end": "798399"
  },
  {
    "text": "right so so the other aspect is predictability if you keep measuring things over and over again over over",
    "start": "798399",
    "end": "803720"
  },
  {
    "text": "time you get a distribution right so you can see how how bad are things at the tail how bad are things you know in the",
    "start": "803720",
    "end": "810120"
  },
  {
    "text": "worst cases and and those tend to have effect when you have a very large infrastructure and on the other hand you",
    "start": "810120",
    "end": "816120"
  },
  {
    "text": "can understand the consistency and this means like if you measure them over time this is the kind of uh Behavior you can",
    "start": "816120",
    "end": "824199"
  },
  {
    "text": "you can sort of uh uh characterizing aggregate so so the the trdr is this",
    "start": "824199",
    "end": "831199"
  },
  {
    "text": "good performance so if you design something really well for performance I",
    "start": "831199",
    "end": "836560"
  },
  {
    "text": "think good performance Engineers or good software engineers tend to converge on the thing maybe the same design that uh",
    "start": "836560",
    "end": "843440"
  },
  {
    "text": "tends to uh look similar right so so if you know what good performance looks",
    "start": "843440",
    "end": "848839"
  },
  {
    "text": "like what you can do is you can measure what you actually get if that what you actually get is different from what is",
    "start": "848839",
    "end": "856079"
  },
  {
    "text": "good that Delta is the room for optimization so so uh because such a",
    "start": "856079",
    "end": "862440"
  },
  {
    "text": "limit exists and because we know how to how to measure them we can do optimization another thing I want to",
    "start": "862440",
    "end": "869680"
  },
  {
    "text": "mention is just like there is a structure in performance engineering so so just like building a house the most",
    "start": "869680",
    "end": "876440"
  },
  {
    "text": "important thing is you have the structure right right after that you want to do the plumbing because once you put the put a stu put a you know drywall",
    "start": "876440",
    "end": "883920"
  },
  {
    "text": "on you cannot go back and change the pling very easily there's analogy here if you want to design a program how you",
    "start": "883920",
    "end": "890040"
  },
  {
    "text": "communicate between different threads between different parts of of your program is really important because",
    "start": "890040",
    "end": "895480"
  },
  {
    "text": "those are hard to change the kind of uh ideas we associate with performance Engineering in anecdotes like changing",
    "start": "895480",
    "end": "902720"
  },
  {
    "text": "an inner loop those are actually the least important or because those are the easiest to change you can always change",
    "start": "902720",
    "end": "908959"
  },
  {
    "text": "one line of code very very quickly right but you cannot change the structure of a problem so when you do performance",
    "start": "908959",
    "end": "914000"
  },
  {
    "text": "engineering focus on the things that cannot be changed very easily or quickly and then eventually you get to those",
    "start": "914000",
    "end": "920199"
  },
  {
    "text": "local optimizations all right so so now we say",
    "start": "920199",
    "end": "926600"
  },
  {
    "text": "we know how to do performance engineering interesting concept but the talk is about how to do performance",
    "start": "926600",
    "end": "932639"
  },
  {
    "text": "engineering at Twitter scale so how do we do it at scale well we just basically",
    "start": "932639",
    "end": "938440"
  },
  {
    "text": "follow the blueprint which is we want to build a",
    "start": "938440",
    "end": "943920"
  },
  {
    "text": "model for the system we want to do counting on that system right but what",
    "start": "943920",
    "end": "950800"
  },
  {
    "text": "actually happens when we build our model and when we do the counting at scale is",
    "start": "950800",
    "end": "957440"
  },
  {
    "text": "we Translate what is otherwise like U you know sort of uh U reliability or or",
    "start": "957440",
    "end": "964639"
  },
  {
    "text": "assistant a men or or magical uh wizard you know U engineer looking into a",
    "start": "964639",
    "end": "972240"
  },
  {
    "text": "isolated piece of code if you want to do it as scale it actually gets translated into a data engineering problem so so",
    "start": "972240",
    "end": "979120"
  },
  {
    "text": "let's use this as an example if you think about modern software as a local runtime and software Engineers are very",
    "start": "979120",
    "end": "985880"
  },
  {
    "text": "good at abstraction right so so we we have all these layers is we have our application code which sits on top of a",
    "start": "985880",
    "end": "991959"
  },
  {
    "text": "bunch of libraries it may have a runtime like like the jvm and then we have the",
    "start": "991959",
    "end": "997600"
  },
  {
    "text": "operating system and underneath it we have the hardware and then even the network right so so all these layers of",
    "start": "997600",
    "end": "1004079"
  },
  {
    "text": "uh of uh abstraction actually provides the structure of how we would think about software in terms of hierarchy and",
    "start": "1004079",
    "end": "1012639"
  },
  {
    "text": "U once we have this Mo mental model in mind we can collect these metrics because in the end what we care about is",
    "start": "1012639",
    "end": "1018920"
  },
  {
    "text": "is how resources are used right so you can count these things at the bottom you have your Hardware resources but they",
    "start": "1018920",
    "end": "1024240"
  },
  {
    "text": "get packaged into all these uh cronal level CIS calls and other lowlevel",
    "start": "1024240",
    "end": "1029360"
  },
  {
    "text": "functionalities and then you can count them to get a sort of higher level unit that that you can do tally on and so on",
    "start": "1029360",
    "end": "1035880"
  },
  {
    "text": "and so forth and until you get all the way to the top of the application so",
    "start": "1035880",
    "end": "1040959"
  },
  {
    "text": "what we did is we essentially said these are the data we need and these are the",
    "start": "1040959",
    "end": "1047720"
  },
  {
    "text": "data that would apply universally so so generally when you so now we're in the",
    "start": "1047720",
    "end": "1054039"
  },
  {
    "text": "domain of uh sort of essentially data engineering and then in data engineering what what you care about are two things one is where you get the data and what",
    "start": "1054039",
    "end": "1060200"
  },
  {
    "text": "data you're getting number two is what are you doing with that data right how are you treating them so so that's",
    "start": "1060200",
    "end": "1066320"
  },
  {
    "text": "exactly what we did so so when it comes to data generation or or signal",
    "start": "1066320",
    "end": "1072559"
  },
  {
    "text": "generation once one thing we realize is remember performance is about counting resources at the the right granularity",
    "start": "1072559",
    "end": "1080480"
  },
  {
    "text": "one thing that is unique about performance is that actually the granularity uh that performance looks at",
    "start": "1080480",
    "end": "1085640"
  },
  {
    "text": "is actually much finer generally speaking with the general observability right if you get 10 minute if you get",
    "start": "1085640",
    "end": "1091640"
  },
  {
    "text": "metrics once every minute or once every 10 seconds that's considered a fairly okay as a as a interval but a lot of the",
    "start": "1091640",
    "end": "1099400"
  },
  {
    "text": "things about performance happens on the on the level of micr seconds or milliseconds so often you need to",
    "start": "1099400",
    "end": "1105400"
  },
  {
    "text": "collect signals at those levels so if you have a spike that has only 50 millisecond you'll be able to see it",
    "start": "1105400",
    "end": "1111600"
  },
  {
    "text": "right so so that requires us to write our own uh actually sampler or or or",
    "start": "1111600",
    "end": "1116760"
  },
  {
    "text": "systems of Samplers that gives us all the lowlevel telemetries at very high frequency at very low overhead and the",
    "start": "1116760",
    "end": "1123960"
  },
  {
    "text": "way to get there is we actually R our own we used we heavily used the ebpf if you have not heard of it look it up ebpf",
    "start": "1123960",
    "end": "1131400"
  },
  {
    "text": "which gives us low overhead and also lets us looking into the guts of the St",
    "start": "1131400",
    "end": "1136559"
  },
  {
    "text": "layers of abstraction and pretty much get any visibility we want and and we also have a project called launcher",
    "start": "1136559",
    "end": "1142520"
  },
  {
    "text": "metrics which is uh sensitizing pretty much all levels of metric so you can correspond request respond latency with",
    "start": "1142520",
    "end": "1150600"
  },
  {
    "text": "very lowlevel resource utilization so you can see is this request slowdown due",
    "start": "1150600",
    "end": "1156200"
  },
  {
    "text": "to a spike in CPU usage or something else so because we are a performance",
    "start": "1156200",
    "end": "1163360"
  },
  {
    "text": "team we're not explicitly a platform team we actually so so the point of",
    "start": "1163360",
    "end": "1168760"
  },
  {
    "text": "building all this data infrastructure is to solve real problems so one of the problems uh one of the ways we use our",
    "start": "1168760",
    "end": "1174919"
  },
  {
    "text": "data is that we look at everybody's GC and then we concluded what is the right distribution of GC intervals and and how",
    "start": "1174919",
    "end": "1181919"
  },
  {
    "text": "often they should be running and then we just generated a set of instructions and UI to tell people how to tune their GC",
    "start": "1181919",
    "end": "1189600"
  },
  {
    "text": "you know automatically right so it would compute it for everybody and you would see the result and we also have Fleet",
    "start": "1189600",
    "end": "1195280"
  },
  {
    "text": "Health reports and then showing how much bad host is actually becoming outliers",
    "start": "1195280",
    "end": "1200600"
  },
  {
    "text": "and and slowing everything down we also have like all these utilization reports and telling people where the utilization",
    "start": "1200600",
    "end": "1206600"
  },
  {
    "text": "is and where they should be and and how much they have room to improve so one of the unintended uh usage actually is",
    "start": "1206600",
    "end": "1214919"
  },
  {
    "text": "people started using our data set for things that may or may not have to do with performance engineering right so so",
    "start": "1214919",
    "end": "1220760"
  },
  {
    "text": "capacity Engineers decide they want to validate their numbers using the data we have and service owners see what we do",
    "start": "1220760",
    "end": "1227840"
  },
  {
    "text": "when it comes to optimizing for certain services and they're like we know how to do this it's a simple query we can copy",
    "start": "1227840",
    "end": "1233159"
  },
  {
    "text": "yours and they started doing it on their own and actually saved quite a bit in some cases and and just because we have",
    "start": "1233159",
    "end": "1239440"
  },
  {
    "text": "data in queriable like SQL ready State several uh teams actually start to",
    "start": "1239440",
    "end": "1245520"
  },
  {
    "text": "prefer the data that we produce because they're just easier to use so that is localized um localized U",
    "start": "1245520",
    "end": "1255760"
  },
  {
    "text": "um uh data engineering for performance so I I I took a bit of a short we took a",
    "start": "1255760",
    "end": "1260960"
  },
  {
    "text": "bit of shortcut here as you can see we actually did not really understand how",
    "start": "1260960",
    "end": "1266400"
  },
  {
    "text": "the mapping between these layers together and that's because Twitter applications actually tend to be very",
    "start": "1266400",
    "end": "1272080"
  },
  {
    "text": "homogeneous we have all these we have libraries like fago and fatra which allows us to cut Corners because all",
    "start": "1272080",
    "end": "1278480"
  },
  {
    "text": "application actually look like so if you want to understand a heterogeneous set of services you may need to do things",
    "start": "1278480",
    "end": "1284159"
  },
  {
    "text": "like tracing and profiling so the relationship between different layers might be more",
    "start": "1284159",
    "end": "1290520"
  },
  {
    "text": "obvious so but then we say we zoom out right like we have these all these local",
    "start": "1290760",
    "end": "1296600"
  },
  {
    "text": "instances of applications but they don't tell the end to-end story when we when",
    "start": "1296600",
    "end": "1301640"
  },
  {
    "text": "you have a very complex application that has you know and that has relationships",
    "start": "1301640",
    "end": "1306760"
  },
  {
    "text": "between Services we also need to understand how they talk to each other and this is often in the domain of",
    "start": "1306760",
    "end": "1312400"
  },
  {
    "text": "tracing or or you know just uh a distributed system understanding and",
    "start": "1312400",
    "end": "1318080"
  },
  {
    "text": "here we take the same approach we say what is the system here the system here is you have all these services and they",
    "start": "1318080",
    "end": "1323559"
  },
  {
    "text": "talk to each other right so so when they call each other that's when they are connected so we capture these edges and",
    "start": "1323559",
    "end": "1330960"
  },
  {
    "text": "then same thing we do counting on top of that counting is here com in very different flavors you can you can do",
    "start": "1330960",
    "end": "1337799"
  },
  {
    "text": "counting with time right you can say how much time does it spend on this Edge you can do counting on resources like how",
    "start": "1337799",
    "end": "1344760"
  },
  {
    "text": "many bites or or you know what kind of attributes is propagated anything you",
    "start": "1344760",
    "end": "1351039"
  },
  {
    "text": "can think of actually can be applied to the edge but the mo but the most important thing is the structure which",
    "start": "1351039",
    "end": "1356559"
  },
  {
    "text": "is this tree like graph where all the interactions are happening on top of so",
    "start": "1356559",
    "end": "1362960"
  },
  {
    "text": "we did very similar data treatment so first we say Let's uh improve the signal",
    "start": "1362960",
    "end": "1368360"
  },
  {
    "text": "we're Gathering so Twitter was actually one of the Twitter's uh started the Zipkin project which open later became",
    "start": "1368360",
    "end": "1376000"
  },
  {
    "text": "uh the standard in open Telemetry so all of Twitter Services actually came with",
    "start": "1376000",
    "end": "1381360"
  },
  {
    "text": "uh tracing but tracing data is particularly fra with all kinds of data problems um some of them are inevitable",
    "start": "1381360",
    "end": "1389159"
  },
  {
    "text": "like clock drift some of them are just due to the nature that you know everybody can do whatever they want and",
    "start": "1389159",
    "end": "1394679"
  },
  {
    "text": "you end up in having these issues like missing a field or or having the having some kind of garbage data in the field",
    "start": "1394679",
    "end": "1401400"
  },
  {
    "text": "all of those actually requires careful validation and and data quality uh",
    "start": "1401400",
    "end": "1407760"
  },
  {
    "text": "engineering to to iron now so this took numerous attempts to get to a state",
    "start": "1407760",
    "end": "1414360"
  },
  {
    "text": "where we can trust but on top of that we then can build a very a very powerful",
    "start": "1414360",
    "end": "1419919"
  },
  {
    "text": "Trace aggregation pipeline what it does is it it collects all the traces instead",
    "start": "1419919",
    "end": "1424960"
  },
  {
    "text": "of looking them one by one because nobody can ever enumerate them right you started putting them together and",
    "start": "1424960",
    "end": "1430200"
  },
  {
    "text": "building indices indices really is the superpower uh when it comes to databases",
    "start": "1430200",
    "end": "1435240"
  },
  {
    "text": "we have indices of traces themselves we have IND es of of the edges we have",
    "start": "1435240",
    "end": "1441640"
  },
  {
    "text": "indices of the mapping between the trace to the edges and all of these data are",
    "start": "1441640",
    "end": "1448039"
  },
  {
    "text": "uh queriable by SQL and what we were able to do are things like how do service depend on",
    "start": "1448039",
    "end": "1455799"
  },
  {
    "text": "each other right so this is a screenshot of what we call a service dependency Explorer it tells you who cause who to",
    "start": "1455799",
    "end": "1464000"
  },
  {
    "text": "execute a particular high level like if you were visiting Twitter home timeline how many services are called along the",
    "start": "1464000",
    "end": "1470480"
  },
  {
    "text": "way and then for each call and of the highest level how many Downstream calls",
    "start": "1470480",
    "end": "1475880"
  },
  {
    "text": "are necessary right so you instantly get an idea of both the connectivity of and also the load amplification between",
    "start": "1475880",
    "end": "1482720"
  },
  {
    "text": "Services we also did a model which is turning into a paper called Laten here",
    "start": "1482720",
    "end": "1487880"
  },
  {
    "text": "essentially allows you to do causal reasoning of who is responsible for the",
    "start": "1487880",
    "end": "1494559"
  },
  {
    "text": "latency that you're seeing at the high level so the latency propagation or latency critical path is a product what",
    "start": "1494559",
    "end": "1500360"
  },
  {
    "text": "this allows you to do is say you can ask what if what if I migrate this service to a different data center what if I",
    "start": "1500360",
    "end": "1506480"
  },
  {
    "text": "make it 10% faster does it make a difference overall right so all these uh",
    "start": "1506480",
    "end": "1511720"
  },
  {
    "text": "all these um uh properties can be studied and we did lots of analysis on",
    "start": "1511720",
    "end": "1517240"
  },
  {
    "text": "demand because aggregate tracing often can answer questions that no other data set can give you ansers for so one",
    "start": "1517240",
    "end": "1524960"
  },
  {
    "text": "unintended usage of uh of the data set is the data privacy team realizes that",
    "start": "1524960",
    "end": "1531600"
  },
  {
    "text": "they they so they want to know what sensitive information is in the system and who has access to them right and",
    "start": "1531600",
    "end": "1538880"
  },
  {
    "text": "they realize the only missing thing they have is they don't have the system they don't have how service connect to each",
    "start": "1538880",
    "end": "1544000"
  },
  {
    "text": "other and and the this the statas that that we built mostly to understand how",
    "start": "1544000",
    "end": "1549840"
  },
  {
    "text": "performance essentially propagate through the system ends up being the perfect common ground right they they",
    "start": "1549840",
    "end": "1555760"
  },
  {
    "text": "throw away all our accounting they replace that with the property they care about but essentially they kept the",
    "start": "1555760",
    "end": "1561240"
  },
  {
    "text": "structure of the system in place and this allows them to do their performance privacy engineering without with very",
    "start": "1561240",
    "end": "1567640"
  },
  {
    "text": "little upfront effort so um in summary basically we spent",
    "start": "1567640",
    "end": "1576120"
  },
  {
    "text": "majority of our time doing data engineering and which is certainly something I was not thinking about when",
    "start": "1576120",
    "end": "1581720"
  },
  {
    "text": "I started but it made our actual work much easier so so we were the number",
    "start": "1581720",
    "end": "1588279"
  },
  {
    "text": "number one and primary dog food fooding you know customer of our own platform",
    "start": "1588279",
    "end": "1594279"
  },
  {
    "text": "and we were able to do all of these uh so each thing I list here on the top",
    "start": "1594279",
    "end": "1600480"
  },
  {
    "text": "probably is on the order of you know tens of millions know no big deal but but we were able to finish each task in",
    "start": "1600480",
    "end": "1607039"
  },
  {
    "text": "a few months right and and all of that was possible because we were using the data that we carefully curated so",
    "start": "1607039",
    "end": "1612880"
  },
  {
    "text": "anything we any question we have is is no more than a few queries away so this",
    "start": "1612880",
    "end": "1618440"
  },
  {
    "text": "essentially is the power of platform engineering so toward the end actually",
    "start": "1618440",
    "end": "1626039"
  },
  {
    "text": "uh we started building even more platforms right we as I said we cheated",
    "start": "1626039",
    "end": "1631240"
  },
  {
    "text": "on the on the sort of software roundtime as a system because we sort of just read the source code and understood what's",
    "start": "1631240",
    "end": "1636760"
  },
  {
    "text": "going on but but that's not the sustainable way of doing it so we actually have uh very much intended to",
    "start": "1636760",
    "end": "1642559"
  },
  {
    "text": "do U pro program tracing uh program profiling uh and and get the data they",
    "start": "1642559",
    "end": "1648559"
  },
  {
    "text": "are treated very much the same way as we were treating other data and turn that into a data set that anybody can look",
    "start": "1648559",
    "end": "1654000"
  },
  {
    "text": "into and also we were thinking about having a performance testing platform so whatever change you want you can push",
    "start": "1654000",
    "end": "1660200"
  },
  {
    "text": "through the system and it will tell you immediately what what the difference um this is with any of the other settings",
    "start": "1660200",
    "end": "1665960"
  },
  {
    "text": "you care about but a lot of these things did not happen because we all get kicked out of",
    "start": "1665960",
    "end": "1672279"
  },
  {
    "text": "Twitter so talk that was the that was the technical side of things like I want to",
    "start": "1672279",
    "end": "1678279"
  },
  {
    "text": "you know this to fit in this track you have to talk about things that are not just technical right like how do",
    "start": "1678279",
    "end": "1686200"
  },
  {
    "text": "performance Engineers fit into the broader organization if this is the sort of thing we",
    "start": "1686200",
    "end": "1692120"
  },
  {
    "text": "do the short answer is we don't fit in so",
    "start": "1692120",
    "end": "1697200"
  },
  {
    "text": "um I I I I think the best analogy might be the I'm not sure if you've watched uh",
    "start": "1697200",
    "end": "1704480"
  },
  {
    "text": "Finding Nemo too there's this octopus that is escaping from the aquarium I I",
    "start": "1704480",
    "end": "1710919"
  },
  {
    "text": "sometimes think of the performance engineering team as the octopus because we are dealing with system property here",
    "start": "1710919",
    "end": "1717000"
  },
  {
    "text": "right like the whatever we do can take us really to any part of the the system and maybe talking to any team in any",
    "start": "1717000",
    "end": "1724440"
  },
  {
    "text": "part of the organization so whenever you know Executives or management tries to",
    "start": "1724440",
    "end": "1729480"
  },
  {
    "text": "box performance engineering into a particular part of the organization which is very hierarchical we somehow",
    "start": "1729480",
    "end": "1735480"
  },
  {
    "text": "will find something to grab on to and then SL ourselves out of the box that they drew for us so so if you are",
    "start": "1735480",
    "end": "1742880"
  },
  {
    "text": "interested in performance engineering or really any of the system properties like reliability security and you care about",
    "start": "1742880",
    "end": "1748559"
  },
  {
    "text": "having a global impact actually you have to deploy a lot of thoughts into",
    "start": "1748559",
    "end": "1754080"
  },
  {
    "text": "managing the hierarchical or which is I think fundamentally incompatible with the way these properties work right so",
    "start": "1754080",
    "end": "1761360"
  },
  {
    "text": "you have to take some first principled approach figuring out the fundamentals and then be very clever about it so I",
    "start": "1761360",
    "end": "1767039"
  },
  {
    "text": "think the fundamentals actually very straightforward right like performance engineering you either line up with the top line which is making more money or",
    "start": "1767039",
    "end": "1774240"
  },
  {
    "text": "you line up with the bottom line which is spending less money right sometimes you need to pick which one is more",
    "start": "1774240",
    "end": "1779600"
  },
  {
    "text": "valuable sometimes you will switch between them but you need to know what you are dealing with like the value has",
    "start": "1779600",
    "end": "1784679"
  },
  {
    "text": "to be associated with one of these and it it will affect questions like who's your customer and and then who is your",
    "start": "1784679",
    "end": "1791360"
  },
  {
    "text": "champion because you need to know who you're helping and also the decision- making structure is really important if",
    "start": "1791360",
    "end": "1797080"
  },
  {
    "text": "you have a top down instruction and you know structure of decision- making you find the highest",
    "start": "1797080",
    "end": "1802200"
  },
  {
    "text": "attach point you can find and that person is going to give all the commands for you on your behalf and then your life is easy if you have a bottomup you",
    "start": "1802200",
    "end": "1809519"
  },
  {
    "text": "know organization then you need to sort of grow a fan base essentially people",
    "start": "1809519",
    "end": "1814679"
  },
  {
    "text": "who like using your thing and they were advocate for you on your behalf right so so constantly think about like how to",
    "start": "1814679",
    "end": "1821600"
  },
  {
    "text": "align incentives how to convince other to do your bidding and one last thing",
    "start": "1821600",
    "end": "1827200"
  },
  {
    "text": "how to get promoted didn't recognize because that's not obvious if you're doing this type of work you are not the same as majority of the rest of the",
    "start": "1827200",
    "end": "1834240"
  },
  {
    "text": "engineering work so your story has to be straight and there I have some other",
    "start": "1834240",
    "end": "1839480"
  },
  {
    "text": "thoughts so so one thing early on that was a little controversial was that people said you",
    "start": "1839480",
    "end": "1847080"
  },
  {
    "text": "know uh if you have a performance engineering team does that mean people won't do performance work elsewhere are",
    "start": "1847080",
    "end": "1853440"
  },
  {
    "text": "you going to do all the performance work I think the answer is absolutely no so in any engineering work there will be",
    "start": "1853440",
    "end": "1858919"
  },
  {
    "text": "lots of often very good Engineers who are willing and capable of doing excellent performance engineering work",
    "start": "1858919",
    "end": "1866399"
  },
  {
    "text": "and the idea is if they but they won't join your your or your team right for",
    "start": "1866399",
    "end": "1872120"
  },
  {
    "text": "various reasons I think the answer is always you let them right not only do",
    "start": "1872120",
    "end": "1877320"
  },
  {
    "text": "you let them you help them I think the point of having performance engineering is the symbolic significance of having a",
    "start": "1877320",
    "end": "1884840"
  },
  {
    "text": "performance engineer engineering team cannot be underestimated because it means the the org value this type of",
    "start": "1884840",
    "end": "1891320"
  },
  {
    "text": "work so and also nobody ever shoots a messenger who delivers the news of Victory you can just take all your",
    "start": "1891320",
    "end": "1898399"
  },
  {
    "text": "bullhorn and you know give everybody credit you will still come out as a hero right like so so so I I think you be a",
    "start": "1898399",
    "end": "1905320"
  },
  {
    "text": "focal point where people can come to you in the right context say let's talk about performance and they contribute",
    "start": "1905320",
    "end": "1911080"
  },
  {
    "text": "their ideas they even do the work for you and then you give them credit you make them look good I think this is a",
    "start": "1911080",
    "end": "1917000"
  },
  {
    "text": "great way of having a culture in the end that values this kind of a collaborative",
    "start": "1917000",
    "end": "1922200"
  },
  {
    "text": "approach and also values just this type of system thinking and and Global",
    "start": "1922200",
    "end": "1927639"
  },
  {
    "text": "optimization in general so there's also a bit of a funny boom and bus cycle",
    "start": "1927639",
    "end": "1933039"
  },
  {
    "text": "going on with performance engineering which is the opposite of the general business when the business is good",
    "start": "1933039",
    "end": "1939799"
  },
  {
    "text": "everything is growing nobody cares about cost because you just floating in money",
    "start": "1939799",
    "end": "1945200"
  },
  {
    "text": "nobody cares about performance and that's okay nobody gets fired when the company is doing amazing right so so but",
    "start": "1945200",
    "end": "1953519"
  },
  {
    "text": "but you know the reverse could be true you know that the compan is really doing poorly like everybody is so stressed out",
    "start": "1953519",
    "end": "1959480"
  },
  {
    "text": "at this point you know you can be the hero you can say I know how to make our grow again I know how to make a s again",
    "start": "1959480",
    "end": "1966320"
  },
  {
    "text": "I know how to save money and and then now everybody wants to work with you so so I would say take advantage of reverse",
    "start": "1966320",
    "end": "1974320"
  },
  {
    "text": "you know boom and bus cycle do your long-term investment when nobody is paying attention to you but have all the",
    "start": "1974320",
    "end": "1981639"
  },
  {
    "text": "all the plans ready when the company is in need when the business in need and you can be there ready to make an impact",
    "start": "1981639",
    "end": "1989159"
  },
  {
    "text": "felt throughout the company so I",
    "start": "1989159",
    "end": "1995120"
  },
  {
    "text": "presented sort of the things we did and how we fit in and it's all nice and neat",
    "start": "1995120",
    "end": "2001639"
  },
  {
    "text": "I figured this out but as everybody could probably guess the birth of",
    "start": "2001639",
    "end": "2007320"
  },
  {
    "text": "anything was never this neat it's very messy so this is what actually happened",
    "start": "2007320",
    "end": "2013480"
  },
  {
    "text": "what actually happened is I had no idea back in 2017 like any of this would happen or how I would go about it uh all",
    "start": "2013480",
    "end": "2020360"
  },
  {
    "text": "I had was a niche right so I just had a my first baby I was like sleep deprived",
    "start": "2020360",
    "end": "2027720"
  },
  {
    "text": "constantly and holding a baby in my hand like 16 hours every day and I was in this sort of Dazed moment I started",
    "start": "2027720",
    "end": "2034080"
  },
  {
    "text": "thinking about performance so I wish I was in the in the hammock but that was never true um but but I had this sort of",
    "start": "2034080",
    "end": "2041480"
  },
  {
    "text": "drifting into this thoughts like just think about performance in a very deep",
    "start": "2041480",
    "end": "2047159"
  },
  {
    "text": "philosophical way if you don't believe this is philosophical just replace performance with happiness and you'll see my point uh right so so",
    "start": "2047159",
    "end": "2055240"
  },
  {
    "text": "so I spent months with it and then finally a vision occurred I figured out the ideal",
    "start": "2055240",
    "end": "2062358"
  },
  {
    "text": "performance engineer who is knows Hardware good at software",
    "start": "2062359",
    "end": "2068638"
  },
  {
    "text": "has operations experience and can do analytics and can speak business and",
    "start": "2068639",
    "end": "2074440"
  },
  {
    "text": "also deal with any kind of people you would run up and down the or so you know",
    "start": "2074440",
    "end": "2080560"
  },
  {
    "text": "might as well walk on water at that point right um so a unicorn not just any",
    "start": "2080560",
    "end": "2086200"
  },
  {
    "text": "unicorn a rainbow unicorn well coming back to reality in",
    "start": "2086200",
    "end": "2091560"
  },
  {
    "text": "in engineering speak you need a team not just any team but a diversity",
    "start": "2091560",
    "end": "2098400"
  },
  {
    "text": "because it's very hard to for anybody really to check three of those boxes",
    "start": "2098400",
    "end": "2103440"
  },
  {
    "text": "right but you have all these fields to carry everybody needs to be good at something but it's very difficult to",
    "start": "2103440",
    "end": "2108839"
  },
  {
    "text": "hire or optimize for six different attributes so I had a simple rule of",
    "start": "2108839",
    "end": "2114480"
  },
  {
    "text": "thumb my rule of thumb was I need to find people who are much better than me",
    "start": "2114480",
    "end": "2120400"
  },
  {
    "text": "on at least some of the things and I just kept going at it and it worked out",
    "start": "2120400",
    "end": "2126440"
  },
  {
    "text": "okay so so so when we first started back in 2017 it was like four people they",
    "start": "2126440",
    "end": "2132119"
  },
  {
    "text": "were all internal we were all like SRU or Sr adjacent um and and we all have",
    "start": "2132119",
    "end": "2137400"
  },
  {
    "text": "this mindset that we need to think about the system property so so we uh started",
    "start": "2137400",
    "end": "2142440"
  },
  {
    "text": "doing resus which is the performance Telemetry work so that's the one concrete idea we have otherwise we just",
    "start": "2142440",
    "end": "2147560"
  },
  {
    "text": "sort of figuring out so so we did a lot of odd jobs you know like talk to",
    "start": "2147560",
    "end": "2152680"
  },
  {
    "text": "different team and say what's bothering you like is there anything else we can do someone says oh can you install the",
    "start": "2152680",
    "end": "2159200"
  },
  {
    "text": "GPU driver we're like okay maybe right and and and and then you know sometimes",
    "start": "2159200",
    "end": "2164640"
  },
  {
    "text": "we've run into small opportunities when I say small opportun you know a couple million dollars here and there you know",
    "start": "2164640",
    "end": "2169760"
  },
  {
    "text": "when you have an operational budget of like 300 million a year you will find million dollar opportunities under the",
    "start": "2169760",
    "end": "2176200"
  },
  {
    "text": "couch and then we also did lots of favors right not necessarily things that has anything to do with performance",
    "start": "2176200",
    "end": "2181720"
  },
  {
    "text": "engineering I was some at some point in charge of infrastructure gdpr work I don't even know why but it's something",
    "start": "2181720",
    "end": "2187640"
  },
  {
    "text": "that nobody wanted to do and I had the bandwidth to do it and I did it and everybody was happy that someone did it",
    "start": "2187640",
    "end": "2195079"
  },
  {
    "text": "right so so just sort of justifying that you're helpful valuable survival mode I",
    "start": "2195079",
    "end": "2200960"
  },
  {
    "text": "would say and then we made lots of mistakes certain things ideas didn't hold and then and we moved on and and we",
    "start": "2200960",
    "end": "2206720"
  },
  {
    "text": "rode those off say don't do this again so over time we figure out what is our vision and what is other methodology and",
    "start": "2206720",
    "end": "2212760"
  },
  {
    "text": "we wrote it down so once we had a little bit of trust people saw us as",
    "start": "2212760",
    "end": "2219480"
  },
  {
    "text": "helpful we actually got enough small winds to start ramping up and this is",
    "start": "2219480",
    "end": "2224839"
  },
  {
    "text": "where actually a lot of the foundational work started to happen right so so with the tracing work with the launter",
    "start": "2224839",
    "end": "2231280"
  },
  {
    "text": "metrics work and all these happened because we ended up hiring people who were extremely extremely good at those",
    "start": "2231280",
    "end": "2237079"
  },
  {
    "text": "things so they brought in their vision and I didn't tell them what to do I had no idea but they told me I'm like this",
    "start": "2237079",
    "end": "2243000"
  },
  {
    "text": "makes great sense please right and then we dog food it and we used used our own",
    "start": "2243000",
    "end": "2248319"
  },
  {
    "text": "product like like resus to debug performance incidents and we were also",
    "start": "2248319",
    "end": "2253800"
  },
  {
    "text": "looking forward we were looking at all the hardware you know things that's crazy Hardware things that happening out",
    "start": "2253800",
    "end": "2259760"
  },
  {
    "text": "there and then see if any of those would eventually pan out so speculative you know Investments and we went out and",
    "start": "2259760",
    "end": "2266720"
  },
  {
    "text": "continued to talk to everybody he's like can we help you now that we have a little bit of tooling and with a bit of insight we can we can answer some of",
    "start": "2266720",
    "end": "2273319"
  },
  {
    "text": "those questions so we did all of those things and uh and that off so at the beginning of the pandemic there was a",
    "start": "2273319",
    "end": "2279520"
  },
  {
    "text": "big performance uh capacity crunch so so at that point people started noticing us",
    "start": "2279520",
    "end": "2285400"
  },
  {
    "text": "and felt the need to come talk to us and that's when the Consulting Model start to flip like instead of going out to",
    "start": "2285400",
    "end": "2291599"
  },
  {
    "text": "reach people people are coming to us and then we we tried to make them happy and we tried to make our our effort you know",
    "start": "2291599",
    "end": "2299319"
  },
  {
    "text": "impactful and uh as our primary data sets matured and we started building our",
    "start": "2299319",
    "end": "2304880"
  },
  {
    "text": "own products on top of our platform people start to use those products and people start to understand how they can",
    "start": "2304880",
    "end": "2312720"
  },
  {
    "text": "use the same data to do their own thing when Mayo may not have to do with performance and uh and then we got",
    "start": "2312720",
    "end": "2319440"
  },
  {
    "text": "invited to more important uh projects most mostly to look after the capacity",
    "start": "2319440",
    "end": "2324960"
  },
  {
    "text": "and performance aspect of things right people want to take a box say performance-wise this is fine and we're often there for it so so all of these",
    "start": "2324960",
    "end": "2333200"
  },
  {
    "text": "made me think you know this is really wonderful people know us so I I we turned a lot of effort into intentionally",
    "start": "2333200",
    "end": "2340160"
  },
  {
    "text": "branding ourselves like we are the performance people we are the systems people we can help you answer",
    "start": "2340160",
    "end": "2345720"
  },
  {
    "text": "performance adjacent questions and then really put effort into talks and",
    "start": "2345720",
    "end": "2350760"
  },
  {
    "text": "Publishing and you know even writing papers stuff like that so so the the team got quite big and then we got all",
    "start": "2350760",
    "end": "2356920"
  },
  {
    "text": "kinds of talent that we didn't used to have and finally uh this would have been",
    "start": "2356920",
    "end": "2363880"
  },
  {
    "text": "uh would have been a happy ending if we actually executed it uh is that um once",
    "start": "2363880",
    "end": "2368960"
  },
  {
    "text": "we figure out you know we matured right so we figured out what are the functionalities that are closely",
    "start": "2368960",
    "end": "2375280"
  },
  {
    "text": "adjacent to Performance which is like things like capacity and and a lot of the fleet Health stuff so so the idea",
    "start": "2375280",
    "end": "2381960"
  },
  {
    "text": "was not to grow the performance team just you know linearly but instead to",
    "start": "2381960",
    "end": "2387359"
  },
  {
    "text": "start having a cluster of teams that work really well together so so the team actually get a little bit smaller",
    "start": "2387359",
    "end": "2393000"
  },
  {
    "text": "because that's easier to work with and uh and but nonetheless you know 2022 was",
    "start": "2393000",
    "end": "2398359"
  },
  {
    "text": "everybody was feeling the crunch of the economic downturn so that's what I'm talking about when there's a drought",
    "start": "2398359",
    "end": "2403960"
  },
  {
    "text": "performance team could be the rain maker because you are the only one who is sitting on top of a a bunch of Reserve",
    "start": "2403960",
    "end": "2409280"
  },
  {
    "text": "in terms of opportunities and then you can really make it better for the business right so so we went with it and",
    "start": "2409280",
    "end": "2414680"
  },
  {
    "text": "then all of our Penta projects were greenlighted and it was for three months it was glorious and then Yas showed up",
    "start": "2414680",
    "end": "2423880"
  },
  {
    "text": "um so what are the lessons I would I would say especially for a a team that",
    "start": "2423880",
    "end": "2430480"
  },
  {
    "text": "really deals with the entire organization I think the technical and social considerations are equally",
    "start": "2430480",
    "end": "2436000"
  },
  {
    "text": "important I there are several people talking about this but you know in my",
    "start": "2436000",
    "end": "2441440"
  },
  {
    "text": "opinion I I I have these sort of uh principles or or methodologies for for",
    "start": "2441440",
    "end": "2446599"
  },
  {
    "text": "performance engineering I think they stood the test of time one is you know we need a pipeline right there's the",
    "start": "2446599",
    "end": "2454400"
  },
  {
    "text": "opportunity some of them may not pan out uh some of them may turn out to be not as useful as they want so but but if you",
    "start": "2454400",
    "end": "2461520"
  },
  {
    "text": "have a lot of opportunities because we've surveyed the entire system and we measured everything then eventually you",
    "start": "2461520",
    "end": "2467839"
  },
  {
    "text": "will have a very reliable consistent pipeline that keep turning out opportunities that you can go after and",
    "start": "2467839",
    "end": "2474720"
  },
  {
    "text": "for performance teams usually the best place to look is low-level infrastructure which affects everybody",
    "start": "2474720",
    "end": "2480079"
  },
  {
    "text": "or things that takes up like 25 30 40% of the your entire infrastructure you",
    "start": "2480079",
    "end": "2485240"
  },
  {
    "text": "know who those are they they they're elephants in the room they're very obvious and and finally you know if we",
    "start": "2485240",
    "end": "2491000"
  },
  {
    "text": "want to scale then it's really about creating platforms and then products that allow other people to do similar",
    "start": "2491000",
    "end": "2497240"
  },
  {
    "text": "things they may not be worth your dedicated team's time but a local engineer can do that in in their spare",
    "start": "2497240",
    "end": "2503720"
  },
  {
    "text": "time and it turn out to be a very decent win but but I think the other organizational lesson is that design the",
    "start": "2503720",
    "end": "2510680"
  },
  {
    "text": "team to fit the organization structure is it top down is it bottom up do it accordingly don't copy what we do if to",
    "start": "2510680",
    "end": "2517240"
  },
  {
    "text": "your organization is different right and also Outreach is serious work treat as",
    "start": "2517240",
    "end": "2523400"
  },
  {
    "text": "such like adoption is serious work not just building the product all of these things they apply in every sense of that",
    "start": "2523400",
    "end": "2531440"
  },
  {
    "text": "word and also people make work happen I don't need to talk to this room I I'm",
    "start": "2531440",
    "end": "2536800"
  },
  {
    "text": "pretty sure I'm preaching to the choir here but it's really true and and everybody's strength and and and their",
    "start": "2536800",
    "end": "2543319"
  },
  {
    "text": "personality is different and we have to respect that right so so I think there's a huge difference between people who are",
    "start": "2543319",
    "end": "2549319"
  },
  {
    "text": "you know at the P99 of the talent pool and p50 so when you find such a person",
    "start": "2549319",
    "end": "2554760"
  },
  {
    "text": "really cherish them because they're very hard to come by and and seek diversity both in skills and in perspective",
    "start": "2554760",
    "end": "2560800"
  },
  {
    "text": "because when we do this kind of diverse work that is really what what's needed to deliver and embrace chance what I",
    "start": "2560800",
    "end": "2567760"
  },
  {
    "text": "mean by that is had we found a uh profiling expert right we would probably",
    "start": "2567760",
    "end": "2574119"
  },
  {
    "text": "would have built the profiling platform first and then maybe the platform later but because of the talent",
    "start": "2574119",
    "end": "2581440"
  },
  {
    "text": "was interesting those things we we let them lead us down the path of least resistance and it's okay we can always",
    "start": "2581440",
    "end": "2587880"
  },
  {
    "text": "come back later and make couple the things we didn't build in the first place right so so don't have a predetermined mindset say this has to",
    "start": "2587880",
    "end": "2594640"
  },
  {
    "text": "happen first as long as everybody is going in the right direction the particular path is not that important",
    "start": "2594640",
    "end": "2601000"
  },
  {
    "text": "and finally it's it's the things my my kids teacher tell them all the time be",
    "start": "2601000",
    "end": "2606079"
  },
  {
    "text": "kind to each other right so so so engineering so software engineering is really a social Enterprise right to to",
    "start": "2606079",
    "end": "2613440"
  },
  {
    "text": "succeed in the long term we need to be helpful be generous make friends and make it into culture everything will be",
    "start": "2613440",
    "end": "2618880"
  },
  {
    "text": "just so much more enjoyable for everybody so what happened to IOP after",
    "start": "2618880",
    "end": "2625559"
  },
  {
    "text": "Twitter so a bunch of my co-workers found really excellent jobs in all kinds of companies but a number of us uh",
    "start": "2625559",
    "end": "2632720"
  },
  {
    "text": "banded together and then started doing our own so what we're doing is not so different different from what we used to",
    "start": "2632720",
    "end": "2638119"
  },
  {
    "text": "do at Twitter but now our goal is different we want to do something for the industry we want to build something",
    "start": "2638119",
    "end": "2644720"
  },
  {
    "text": "that everybody can use so if you want to talk about performance you know where to find me I'm local to San Francisco you",
    "start": "2644720",
    "end": "2651160"
  },
  {
    "text": "might run into me in the in the street riding my bike but you can always find me who because I'm terminally",
    "start": "2651160",
    "end": "2658319"
  },
  {
    "text": "online so if you have way too much time on your hands I have lots of links you can learn about who we were and what we",
    "start": "2658319",
    "end": "2666599"
  },
  {
    "text": "did and if you had any questions please let me",
    "start": "2666599",
    "end": "2672880"
  },
  {
    "text": "know so looking back on your journey of s of Meandering through trying to figure",
    "start": "2675160",
    "end": "2680440"
  },
  {
    "text": "out what was happening then CLI one was one of the things that was most",
    "start": "2680440",
    "end": "2685760"
  },
  {
    "text": "surprising on that Journey that you never would have expected but now seems",
    "start": "2685760",
    "end": "2691960"
  },
  {
    "text": "obvious what I think what was a little unexp perspective might be just how much",
    "start": "2693520",
    "end": "2699599"
  },
  {
    "text": "more valuable understanding the structure of the service and the structure of the",
    "start": "2699599",
    "end": "2705599"
  },
  {
    "text": "distributed system is like the the like the index like oh you know this service",
    "start": "2705599",
    "end": "2711119"
  },
  {
    "text": "talks to that service just the fact that there is a connection of any kind exists between those two or or they are two",
    "start": "2711119",
    "end": "2716760"
  },
  {
    "text": "steps away right that kind of information you know it's not not obvious that this is useful for",
    "start": "2716760",
    "end": "2722800"
  },
  {
    "text": "performance right it it it only actually only after several other steps do do we get value out of it but",
    "start": "2722800",
    "end": "2730599"
  },
  {
    "text": "but I think if if we if I have to go blindly into a new problem or maybe seeking a new property that is desirable",
    "start": "2730599",
    "end": "2739200"
  },
  {
    "text": "I would just say let's understand the system regardless of the goal I I think",
    "start": "2739200",
    "end": "2745440"
  },
  {
    "text": "now this is sort of becoming actionable to me but at the time it was somewhat",
    "start": "2745440",
    "end": "2751440"
  },
  {
    "text": "[Music] accidental oh mention that you guys are",
    "start": "2751930",
    "end": "2757920"
  },
  {
    "text": "using evf for you counters for profiling like what kind of metric syst metrics",
    "start": "2757920",
    "end": "2764119"
  },
  {
    "text": "are you looking for and then another question I have is are you are you pushing creation and like counting into",
    "start": "2764119",
    "end": "2769680"
  },
  {
    "text": "space like programs or are you do yeah so so ebpf for those of you who don't",
    "start": "2769680",
    "end": "2775559"
  },
  {
    "text": "know is sort of like this little bit of a c program you can do that doesn't have Loop and has very limited functionality",
    "start": "2775559",
    "end": "2781359"
  },
  {
    "text": "you can just execute a in kernel right it's it's like God mode but but with limited domain so so the the kind of",
    "start": "2781359",
    "end": "2787880"
  },
  {
    "text": "metrics we get from the ebpf uh we used to gather things we couldn't get otherwise right like if you want to get",
    "start": "2787880",
    "end": "2793599"
  },
  {
    "text": "the uh uh IO size distribution like am",
    "start": "2793599",
    "end": "2798800"
  },
  {
    "text": "I'm going to the dis or I'm going to the SSD am I getting four bytes or am I getting you know 16 kilobytes right that",
    "start": "2798800",
    "end": "2805119"
  },
  {
    "text": "distribution is quite important because because that tells you sort of how what is what is uh what is relation between",
    "start": "2805119",
    "end": "2812520"
  },
  {
    "text": "number of IO and and also the the bandwidth they consume but one one thing we realized later on is that even for",
    "start": "2812520",
    "end": "2820000"
  },
  {
    "text": "the things you can get a traditional traditionally like the metrics you have in process right CPU metrics sometimes",
    "start": "2820000",
    "end": "2827400"
  },
  {
    "text": "memory metrics um all of these metrics can be obtained by ebpf as well and",
    "start": "2827400",
    "end": "2833160"
  },
  {
    "text": "actually for far less cost and there's a reason there's a lot of recent papers at ATC usnick ATC conference or usik osdi",
    "start": "2833160",
    "end": "2840119"
  },
  {
    "text": "conference and most of what they did is they do a thing using EPF in kernel space and suddenly everything measure",
    "start": "2840119",
    "end": "2847079"
  },
  {
    "text": "quantitively better right so so we are in the in this transition of doing as much of the things we want and using",
    "start": "2847079",
    "end": "2854440"
  },
  {
    "text": "ebpf and we do most of the an EF is written such that you have this basic",
    "start": "2854440",
    "end": "2860079"
  },
  {
    "text": "data structure in kernel space you would do your account increments there but if you want to report anything usually you",
    "start": "2860079",
    "end": "2865440"
  },
  {
    "text": "have a companion user program to pull the data out and then send it to your you know stats agent right so so so we",
    "start": "2865440",
    "end": "2872599"
  },
  {
    "text": "we do this standard thing where there's a user space and then Kon space sort of",
    "start": "2872599",
    "end": "2877960"
  },
  {
    "text": "uh sort of Duality and so so that's how we do it one quick",
    "start": "2877960",
    "end": "2884880"
  },
  {
    "text": "question hello thank and you mention that",
    "start": "2884880",
    "end": "2892760"
  },
  {
    "text": "thees on top of your traces and also analyze dependency gra and my question",
    "start": "2892760",
    "end": "2899359"
  },
  {
    "text": "is how do you actually store data sorry how do I actually traces s",
    "start": "2899359",
    "end": "2906520"
  },
  {
    "text": "tra okay so so I think we have uh we have a t real time",
    "start": "2906520",
    "end": "2914880"
  },
  {
    "text": "data pipeline doing these things so so there's sort of the Hidden you know assumption that things are partitioned",
    "start": "2914880",
    "end": "2920839"
  },
  {
    "text": "by time right so traces from today is going to be closer together than tra traces from yesterday and today so",
    "start": "2920839",
    "end": "2927400"
  },
  {
    "text": "beyond that I I think the there's not obvious standard for how you would uh",
    "start": "2927400",
    "end": "2933760"
  },
  {
    "text": "organize them that would would answer to every type of query so we basically didn't bother we we have five different",
    "start": "2933760",
    "end": "2940119"
  },
  {
    "text": "indices depending on what level information you care about but once you get to the right index generally what",
    "start": "2940119",
    "end": "2946960"
  },
  {
    "text": "you would do you is you actually scan most of them to filter out the ones you want so there it's not it's not the",
    "start": "2946960",
    "end": "2953520"
  },
  {
    "text": "query is not designed to be fast but it but it's the best thing to like I think",
    "start": "2953520",
    "end": "2959920"
  },
  {
    "text": "the value is that it can answer questions no other data sources can answer so people put up with the five",
    "start": "2959920",
    "end": "2965720"
  },
  {
    "text": "minute delay to to execute those queries fantastic I up thank you once",
    "start": "2965720",
    "end": "2971960"
  },
  {
    "text": "again to excellent",
    "start": "2971960",
    "end": "2975559"
  },
  {
    "text": "[Music]",
    "start": "2979120",
    "end": "2985420"
  }
]