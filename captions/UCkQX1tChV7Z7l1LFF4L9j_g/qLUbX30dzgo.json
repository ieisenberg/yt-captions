[
  {
    "text": "[Music]",
    "start": "3320",
    "end": "8769"
  },
  {
    "text": "so let's get started it's been a long day so um let's get started with something non technical have you watched",
    "start": "10160",
    "end": "17880"
  },
  {
    "text": "tennis game before or have you played a tennis serve before what makes a perfect tennis serve you mainly need two things",
    "start": "17880",
    "end": "26039"
  },
  {
    "text": "speed and accuracy speed is intuitive right you need to hit the ball hard",
    "start": "26039",
    "end": "31279"
  },
  {
    "text": "enough so that the opponent has very little time to react to it that gives you a better chance to score how about",
    "start": "31279",
    "end": "37360"
  },
  {
    "text": "accuracy the ball need to land inbound of the serving box and not right in the",
    "start": "37360",
    "end": "43039"
  },
  {
    "text": "middle of the serving box but on the edge of the serving box or on the lines so that even if the the opponent player",
    "start": "43039",
    "end": "50879"
  },
  {
    "text": "has a very fast reaction they need to move one step or two step aside in order to reach the ball gives you better",
    "start": "50879",
    "end": "57719"
  },
  {
    "text": "chance to score why am I talking about tennis in the qon architectural track",
    "start": "57719",
    "end": "64280"
  },
  {
    "text": "first um French Open just finished last week so that's reason one and reason two",
    "start": "64280",
    "end": "70520"
  },
  {
    "text": "is in our mind building a click house cloud service from click house open source database is very similar to a",
    "start": "70520",
    "end": "78400"
  },
  {
    "text": "perfect penis serve uh first we need speed uh in this",
    "start": "78400",
    "end": "83600"
  },
  {
    "text": "competitive business world we need to build something fast so speed is essential and second we need accuracy as",
    "start": "83600",
    "end": "91040"
  },
  {
    "text": "well we need to build something that really meets the customer need and solve",
    "start": "91040",
    "end": "96320"
  },
  {
    "text": "the customer pain points so that's not including not only including features",
    "start": "96320",
    "end": "101920"
  },
  {
    "text": "but also scalability security reliability as well that makes building",
    "start": "101920",
    "end": "107240"
  },
  {
    "text": "click house Cloud even harder than making a perfect tennis surf in tennis",
    "start": "107240",
    "end": "112479"
  },
  {
    "text": "you still get the lines in the field so the player can aim at the right spot in order to get accuracy but in the",
    "start": "112479",
    "end": "119200"
  },
  {
    "text": "business world those lines are BL blurry um there's no lines sometimes that means",
    "start": "119200",
    "end": "125439"
  },
  {
    "text": "we need to talk with the customers talk with many customers multiple times in order to listen to what they really want",
    "start": "125439",
    "end": "132560"
  },
  {
    "text": "us to build so in today's talk we will go through our journey of building click",
    "start": "132560",
    "end": "138840"
  },
  {
    "text": "housee cloud from click house open source database by first introduce what is Click house we'll introduce the",
    "start": "138840",
    "end": "146000"
  },
  {
    "text": "database and some of the common use cases and then we'll dive deep into",
    "start": "146000",
    "end": "151239"
  },
  {
    "text": "click house Cloud architectures we'll share some of the big decisions we made to build click house cloud and then",
    "start": "151239",
    "end": "159120"
  },
  {
    "text": "we'll look back on our timeline and key milestones and share what we did when",
    "start": "159120",
    "end": "165519"
  },
  {
    "text": "and how and finally we'll summarize it with key takeaways and Lessons Learned",
    "start": "165519",
    "end": "170800"
  },
  {
    "text": "in the retrospective so let's start with the speaker introduction my name is suchan",
    "start": "170800",
    "end": "178159"
  },
  {
    "text": "and I'm a senior software engineer engineer at click house and I'm Shane Andra I'm a principal software engineer",
    "start": "178159",
    "end": "184560"
  },
  {
    "text": "at click house let's get started what is Click house click house",
    "start": "184560",
    "end": "191080"
  },
  {
    "text": "is a olab database it's good for analytics use cases good with aggregation queries good for support of",
    "start": "191080",
    "end": "197760"
  },
  {
    "text": "uh data visualizations and it's good with mostly mutable data uh m mostly",
    "start": "197760",
    "end": "203840"
  },
  {
    "text": "immutable data it's been developed since 2009 and",
    "start": "203840",
    "end": "210120"
  },
  {
    "text": "it's open source on 2016 since then it gets a lot of",
    "start": "210120",
    "end": "215680"
  },
  {
    "text": "popularity it's a distributed olap database supports replication sharding",
    "start": "215680",
    "end": "221000"
  },
  {
    "text": "multimaster and cross region so it's production ready as well and finally is",
    "start": "221000",
    "end": "226599"
  },
  {
    "text": "fast that's the thing that is most important about click house and that is",
    "start": "226599",
    "end": "231720"
  },
  {
    "text": "the thing which makes click House special so how fast is Click house let's",
    "start": "231720",
    "end": "238720"
  },
  {
    "text": "take a look at this query this is a simple query in a SQL running against a",
    "start": "238720",
    "end": "243959"
  },
  {
    "text": "click house Cloud instance that Aggregates the all the new videos uploaded between 2020 August to 2021",
    "start": "243959",
    "end": "253640"
  },
  {
    "text": "August and it Aggregates by month and calculate the sum of the view counts on",
    "start": "253640",
    "end": "260639"
  },
  {
    "text": "each month and also the percentage of how many of those videos has",
    "start": "260639",
    "end": "266560"
  },
  {
    "text": "subtitles and the bottom line shows how many data it processed by this query alone",
    "start": "266560",
    "end": "273360"
  },
  {
    "text": "it's more than 1 billion rows processed and more than 11.75 gigaby of data",
    "start": "273360",
    "end": "280199"
  },
  {
    "text": "touched so let's have a guess how long this query will take I'll give you three",
    "start": "280199",
    "end": "286880"
  },
  {
    "text": "options a 1 to two minutes b 1 to 60",
    "start": "286880",
    "end": "292360"
  },
  {
    "text": "seconds and C under one second I am from click house and I have this option so",
    "start": "292360",
    "end": "298960"
  },
  {
    "text": "probably you already have a guess internally you know the answer it's under 1 second 0.823 seconds to process",
    "start": "298960",
    "end": "307360"
  },
  {
    "text": "this much of data so how is it possible why is Click",
    "start": "307360",
    "end": "313080"
  },
  {
    "text": "housee so fast in a traditional database all the data are organized in roles so for",
    "start": "313080",
    "end": "319680"
  },
  {
    "text": "queries like the previous slide shows even if the query is interested in only",
    "start": "319680",
    "end": "325160"
  },
  {
    "text": "three columns basically month view and H subtitles the aggreg queries will need",
    "start": "325160",
    "end": "330440"
  },
  {
    "text": "to not only retrieve those three columns but also all the other columns that present in the same role of those data",
    "start": "330440",
    "end": "337759"
  },
  {
    "text": "that creates a lot of waste in Click house on the other hand we organize data by columns so for the",
    "start": "337759",
    "end": "345039"
  },
  {
    "text": "aggregation queries like the previous SL shows we only need to retrieve the data and compute the data of those three",
    "start": "345039",
    "end": "351440"
  },
  {
    "text": "columns that the query is interested in that makes click house fast from the animation you can also tell",
    "start": "351440",
    "end": "358479"
  },
  {
    "text": "right so other than the highlevel colum database architecture that makes click",
    "start": "358479",
    "end": "364000"
  },
  {
    "text": "house fast there are a lot of other cumer databases out there in the market what makes click house even faster than",
    "start": "364000",
    "end": "370440"
  },
  {
    "text": "those columnar databases competitors for that I need to mention bottom up",
    "start": "370440",
    "end": "376479"
  },
  {
    "text": "optimization this is just one example I pick out of hundreds or even thousands of examples in Click house open source",
    "start": "376479",
    "end": "382880"
  },
  {
    "text": "code if you know C or C++ you must know M Copy it basically copy a piece of",
    "start": "382880",
    "end": "388680"
  },
  {
    "text": "memory from source to destination and it's mostly provided by the standard Library itself on the right",
    "start": "388680",
    "end": "395199"
  },
  {
    "text": "hand side I show but in Click house after running the aggregation queries and after running M Copy in the loop for",
    "start": "395199",
    "end": "402680"
  },
  {
    "text": "many many times for those big aggregation queries we figure that there might be some better way of imple",
    "start": "402680",
    "end": "410319"
  },
  {
    "text": "implementing M Copy that's on the left it's I'm not going to go into details",
    "start": "410319",
    "end": "417199"
  },
  {
    "text": "but on a high level it adds a little bit of of right padding on the map copy each time so that for each when we use this",
    "start": "417199",
    "end": "425840"
  },
  {
    "text": "left hand side small amount of mem copy in a loop we can load a little bit more",
    "start": "425840",
    "end": "431199"
  },
  {
    "text": "data and that allows us to do s MD so single instruction multi- dat",
    "start": "431199",
    "end": "437759"
  },
  {
    "text": "optimization on CPU level a little bit of parallelism on each time we do a loop",
    "start": "437759",
    "end": "444160"
  },
  {
    "text": "if you're interested in what's going on there I also add a link in the bottom of this slides which you can take a look",
    "start": "444160",
    "end": "451039"
  },
  {
    "text": "after the presentation as well but I just want to show this example as a as a",
    "start": "451039",
    "end": "456759"
  },
  {
    "text": "one example out of hundreds or even thousands of bottom up optimizations we did in Click house so we have our own",
    "start": "456759",
    "end": "464199"
  },
  {
    "text": "implementation for special cases like this for standard library of C++ and we also have special implementation on",
    "start": "464199",
    "end": "470680"
  },
  {
    "text": "hashing on compression sometimes optimization on compiler level or Hardware specific level as well",
    "start": "470680",
    "end": "477759"
  },
  {
    "text": "accumulating all of this optimization together we are able to achieve faster speed compared to the",
    "start": "477759",
    "end": "485199"
  },
  {
    "text": "competitors as a result along the year of Click house lifespan we attract",
    "start": "485199",
    "end": "491400"
  },
  {
    "text": "different use cases and different customers as well because click house is fast so",
    "start": "491400",
    "end": "497280"
  },
  {
    "text": "real-time data processing naturally kicks in as a common use case of Click house and also because click house is",
    "start": "497280",
    "end": "504639"
  },
  {
    "text": "able to process large amount of data good with aggregation good for reping data visualization bi customers can use",
    "start": "504639",
    "end": "513000"
  },
  {
    "text": "click housee as a good use case as well and also as you see click house supports",
    "start": "513000",
    "end": "518599"
  },
  {
    "text": "billions of rows per second read and supports millions of rows inserts as",
    "start": "518599",
    "end": "524360"
  },
  {
    "text": "well so logging metrics for those large amount of machine generated data click",
    "start": "524360",
    "end": "529880"
  },
  {
    "text": "house performs well as a tool as well and also recently we support Vector database",
    "start": "529880",
    "end": "537480"
  },
  {
    "text": "functionality as well along along with the aggregation and big data processing mechan mechanism we already supported ML",
    "start": "537480",
    "end": "544600"
  },
  {
    "text": "and data science use cases starts to come to click house as well now that you know how cool click",
    "start": "544600",
    "end": "551720"
  },
  {
    "text": "house is how fast click house is and some of the common use case of Click house database please let me introduce",
    "start": "551720",
    "end": "557519"
  },
  {
    "text": "Shane to give you more Deep dive into click housee Cloud",
    "start": "557519",
    "end": "563320"
  },
  {
    "text": "architectures thanks Satan all right so as you saw we had this wildly successful",
    "start": "563480",
    "end": "569839"
  },
  {
    "text": "open source database and we knew at this point we wanted to put it into the cloud and offer it as a service for people to",
    "start": "569839",
    "end": "576360"
  },
  {
    "text": "use um well that's great um but we had to actually ask ourselves this question how do we",
    "start": "576360",
    "end": "582000"
  },
  {
    "text": "actually take something that's an open source and put it into the cloud think about that for a second because the",
    "start": "582000",
    "end": "587360"
  },
  {
    "text": "answer isn't obvious and it wasn't obvious to us we actually had uh a lot of decisions to make we had we didn't",
    "start": "587360",
    "end": "593160"
  },
  {
    "text": "start with any architectures or any designs um but we did have a lot of decisions especially a lot of technical",
    "start": "593160",
    "end": "598480"
  },
  {
    "text": "decisions So within AWS for example there's a variety of services that we're able to use this is just a subset of",
    "start": "598480",
    "end": "604800"
  },
  {
    "text": "them uh for compute we have things like kubernetes we have ec2 even with within",
    "start": "604800",
    "end": "609839"
  },
  {
    "text": "ec2 we have different flavors like that we have VMS we have bare metal uh on the more managed side of services we have",
    "start": "609839",
    "end": "616040"
  },
  {
    "text": "things like Lambda Amazon ECS and fargate for storage there's a number of",
    "start": "616040",
    "end": "621560"
  },
  {
    "text": "options we have things like uh Amazon S3 object storage we also have a AWS e EBS",
    "start": "621560",
    "end": "628240"
  },
  {
    "text": "volumes and and even some ec2 instances have SSD discs attached to them for",
    "start": "628240",
    "end": "633800"
  },
  {
    "text": "networking there's a variety of options as well bpcs themselves can be configured in a variety of ways and",
    "start": "633800",
    "end": "639040"
  },
  {
    "text": "there's a variety of load balancers to choose from including classic load balancers Al OBS and nlbs so knowing",
    "start": "639040",
    "end": "646639"
  },
  {
    "text": "that we had to make all these decisions how did we do so knowing that we were making the right",
    "start": "646639",
    "end": "652320"
  },
  {
    "text": "decisions well to do that we had to actually come up with some guiding principles and these guiding principles",
    "start": "652320",
    "end": "658079"
  },
  {
    "text": "you can think of them almost like the uh the gutters that you would find in a bowling lane in that you would put in in",
    "start": "658079",
    "end": "664440"
  },
  {
    "text": "in the in the gutter so these bumpers are going to uh push your ball down down",
    "start": "664440",
    "end": "669760"
  },
  {
    "text": "the the lane further and keep it keep it centered within the lane so it's not going to Veer off course and miss the",
    "start": "669760",
    "end": "675279"
  },
  {
    "text": "target at the end of the lane the pins right so this is exactly how we treated our guiding principles they were a way",
    "start": "675279",
    "end": "681880"
  },
  {
    "text": "for us to navigate these decisions and let us uh reach our goal of being able to deliver this Cloud product so what",
    "start": "681880",
    "end": "688519"
  },
  {
    "text": "were these principles well the first one is we knew that we wanted to offer our customers a",
    "start": "688519",
    "end": "693920"
  },
  {
    "text": "serverless experience this was very important to us from the beginning because we knew that a lot of people coming into our Cloud were not going to",
    "start": "693920",
    "end": "700519"
  },
  {
    "text": "be uh people who were familiar with click house um and probably have never seen it before so we wanted to make it",
    "start": "700519",
    "end": "705720"
  },
  {
    "text": "as easy as possible for them to get started uh ideally as simple as pushing a button and uh so in order to uh to do",
    "start": "705720",
    "end": "715760"
  },
  {
    "text": "this um we wanted to make this uh we wanted to remove the barriers to entry to get started so no no having to learn",
    "start": "715760",
    "end": "721839"
  },
  {
    "text": "about all the different click house uh server configurations uh figure out the the right sizing for your cluster Etc we",
    "start": "721839",
    "end": "727920"
  },
  {
    "text": "wanted to make this really simple the second guiding principle was uh performance as we just heard click",
    "start": "727920",
    "end": "734639"
  },
  {
    "text": "housee is known to be extremely fast and we wanted to keep that same level of performance that our click housee users",
    "start": "734639",
    "end": "740160"
  },
  {
    "text": "were already used to and offer that in the cloud as well the third guiding principle was",
    "start": "740160",
    "end": "746839"
  },
  {
    "text": "around this uh idea of separation of compute and storage so by doing this we",
    "start": "746839",
    "end": "752160"
  },
  {
    "text": "knew that it would lock unlock a few things for us that we would be able to do such as being able to temporarily pause the compute while still",
    "start": "752160",
    "end": "758480"
  },
  {
    "text": "maintaining the uh the data that's stored within the cluster and it would also allow us to scale these two",
    "start": "758480",
    "end": "764079"
  },
  {
    "text": "resources independently of each other we saw we had a variety of different use cases and we had to be able to support all those different use cases on the",
    "start": "764079",
    "end": "770320"
  },
  {
    "text": "cloud uh those uh different use cases are going to have different um uh",
    "start": "770320",
    "end": "775760"
  },
  {
    "text": "scaling properties each for compute and storage and so having having them separated let us scale those",
    "start": "775760",
    "end": "781600"
  },
  {
    "text": "independently the fourth guiding principle was around tenant isolation and security uh being a SAS uh company and",
    "start": "781600",
    "end": "789480"
  },
  {
    "text": "having users trust us with their data and upload it to us uh we knew that we had to keep that data safe and secure",
    "start": "789480",
    "end": "795680"
  },
  {
    "text": "and uh we knew that we needed to prevent situations such as one cluster being able to access the the data of another",
    "start": "795680",
    "end": "803120"
  },
  {
    "text": "cluster and our last guiding principle was uh uh around multicloud support so",
    "start": "803120",
    "end": "809079"
  },
  {
    "text": "we knew that we wanted to be wherever our our customers were meaning that if they're running workloads on AWS we",
    "start": "809079",
    "end": "814880"
  },
  {
    "text": "should have a presence there if they're running workloads on gcp we should have a presence there as well and same for",
    "start": "814880",
    "end": "820079"
  },
  {
    "text": "Azure so uh by supporting uh uh in order to support multiple clouds we knew that",
    "start": "820079",
    "end": "826600"
  },
  {
    "text": "we needed to have uh and make architectural decisions that were going to be portable across these different",
    "start": "826600",
    "end": "833839"
  },
  {
    "text": "clouds so with these guiding principles in place how exactly did we use them well this was one early decision we had",
    "start": "833839",
    "end": "840279"
  },
  {
    "text": "to make uh is what kind of computer we want to run our our Cloud on so as you saw in one of the previous slides there",
    "start": "840279",
    "end": "845720"
  },
  {
    "text": "were just you know a number of options for for a compute just within Amazon but using these guiding principles we can",
    "start": "845720",
    "end": "851639"
  },
  {
    "text": "actually already discard a few a few of them so for example the uh the bare metal option just wasn't going to work",
    "start": "851639",
    "end": "857440"
  },
  {
    "text": "for us because it didn't align with our server lless Vision uh some of the manage services such as Lambda ECS and",
    "start": "857440",
    "end": "863360"
  },
  {
    "text": "fargate well those are specific to Amazon they're not going to be multicloud uh so that really only left",
    "start": "863360",
    "end": "869600"
  },
  {
    "text": "us with two viable options we have kubernetes and we have virtual machines so as you can see kubernetes actually",
    "start": "869600",
    "end": "875680"
  },
  {
    "text": "checks more of the boxes for us it provides a better serverless experience and that it's uh basically an",
    "start": "875680",
    "end": "880759"
  },
  {
    "text": "abstraction over the hardware uh we're dealing with pods instead of you know the actual Hardware uh and servers uh",
    "start": "880759",
    "end": "888360"
  },
  {
    "text": "the it also gives us uh better separation of compute and storage with built-in Primitives like persistent",
    "start": "888360",
    "end": "894279"
  },
  {
    "text": "volume claims and lastly it also provides a better uh multicloud support and that it's much more portable across",
    "start": "894279",
    "end": "900560"
  },
  {
    "text": "clouds again with that uh Hardware abstraction that it provides for us so now that we're able to actually",
    "start": "900560",
    "end": "907399"
  },
  {
    "text": "start making decisions we can actually come up with an architecture and this is a very high level overview of what our cloud looks like uh at a high level",
    "start": "907399",
    "end": "915160"
  },
  {
    "text": "there's two primary components we have the control plane at the top and the data plane at the bottom the control",
    "start": "915160",
    "end": "920600"
  },
  {
    "text": "plane you can think of as essentially our customer facing uh piece of our",
    "start": "920600",
    "end": "926240"
  },
  {
    "text": "architecture and uh it's essentially what our users interact with when they log into our website or",
    "start": "926240",
    "end": "932720"
  },
  {
    "text": "if they do write any sort of automation against our API that's going to interact with uh the control plane now the control plane offers a",
    "start": "932720",
    "end": "940160"
  },
  {
    "text": "number of services and features for our customers including things like cluster and user management uh it provides the",
    "start": "940160",
    "end": "946040"
  },
  {
    "text": "authentication into the website it also handles user communication such as emails and push notifications and uh",
    "start": "946040",
    "end": "953600"
  },
  {
    "text": "this is also where where the billing takes place on the other side of things we have the the data plane and this is",
    "start": "953600",
    "end": "960160"
  },
  {
    "text": "essentially uh where the click house clusters themselves reside as uh as well",
    "start": "960160",
    "end": "965279"
  },
  {
    "text": "as the data that belongs to those clusters the data plan provides a number",
    "start": "965279",
    "end": "970440"
  },
  {
    "text": "of um subcomponents that offer additional features for click house in our Cloud including things like Auto",
    "start": "970440",
    "end": "976360"
  },
  {
    "text": "scaling and metrics and this is also where our kubernetes operator lives when users want to connect with their cluster",
    "start": "976360",
    "end": "982720"
  },
  {
    "text": "they do so through a load balancer that's provided by the data plane uh this allows them to connect directly to",
    "start": "982720",
    "end": "987880"
  },
  {
    "text": "the data plane ra than going through the control plane saving on a few Network hops now uh when the control plane needs",
    "start": "987880",
    "end": "994480"
  },
  {
    "text": "to communicate with the data plane such as uh one such example would be when a user wants to provision a new cluster uh",
    "start": "994480",
    "end": "1000560"
  },
  {
    "text": "the control plane has to reach out to the data plane uh and it will talk to the data plane via the API that it",
    "start": "1000560",
    "end": "1005839"
  },
  {
    "text": "exposes it's just a simple rest API and uh the data plane will start working on that uh provisioning process once that's",
    "start": "1005839",
    "end": "1013440"
  },
  {
    "text": "done uh it's going to communicate back to the control plane via an event bus and send it an event the control plane",
    "start": "1013440",
    "end": "1019319"
  },
  {
    "text": "can then consume that event and update its own internal state of uh of the cluster once it's completed and also",
    "start": "1019319",
    "end": "1025120"
  },
  {
    "text": "inform the user that their cluster is uh ready for use so now using that same example I want to take you through what",
    "start": "1025120",
    "end": "1031918"
  },
  {
    "text": "actually happens on the data plane when someone Provisions a cluster so the uh",
    "start": "1031919",
    "end": "1037720"
  },
  {
    "text": "once the control plane calls the API of the data plane the API is going to drop a message into a q uh this Q is going to",
    "start": "1037720",
    "end": "1045880"
  },
  {
    "text": "be consumed by our provisioning engine which resides on the data plane uh the provision the provisioning engine has uh",
    "start": "1045880",
    "end": "1052000"
  },
  {
    "text": "a number of responsibilities uh during this process the first thing it's going to do is it's going to start updating",
    "start": "1052000",
    "end": "1057240"
  },
  {
    "text": "Some Cloud resources so in AWS it's going to start creating some IM roles and uh update our Route 53 DNS entries",
    "start": "1057240",
    "end": "1065160"
  },
  {
    "text": "so we use I im here uh to uh going back to that tenant isolation principle this",
    "start": "1065160",
    "end": "1070760"
  },
  {
    "text": "is one of the ways we enforce that these IM roles are created specifically for this cluster and it allows uh only this",
    "start": "1070760",
    "end": "1077600"
  },
  {
    "text": "cluster to access the location in S3 where this cluster's data will reside we also have to update",
    "start": "1077600",
    "end": "1083400"
  },
  {
    "text": "rph 53 because each uh cluster that gets created in our uh in our Cloud gets a",
    "start": "1083400",
    "end": "1088720"
  },
  {
    "text": "unique subdomain associated with it and in order to properly rep things of course we have to uh make some DNS",
    "start": "1088720",
    "end": "1093919"
  },
  {
    "text": "entries for that the second thing provisioning engine will do is it will update some",
    "start": "1093919",
    "end": "1099400"
  },
  {
    "text": "routing in ISO so ISO if you're not familiar is a kubernetes based service mesh that is built on top of envoy and",
    "start": "1099400",
    "end": "1107200"
  },
  {
    "text": "uh we use this to do all of our in from our external uh requests coming from our users using that unique subdomain that",
    "start": "1107200",
    "end": "1113559"
  },
  {
    "text": "was generated as part of their cluster and uh route things accordingly so it's going to update some it's basically",
    "start": "1113559",
    "end": "1119080"
  },
  {
    "text": "going to put some routing rules in there so it knows so ISO knows where to send uh requests for that subdomain",
    "start": "1119080",
    "end": "1124640"
  },
  {
    "text": "too lastly the provision uh provisioning engine is going to then actually start provisioning resources in kubernetes um",
    "start": "1124640",
    "end": "1132280"
  },
  {
    "text": "specifically the the compute resources and we do we we do this uh through a",
    "start": "1132280",
    "end": "1137600"
  },
  {
    "text": "pattern called the operator pattern in kubernetes um the operator pattern in kubernetes essentially lets us uh",
    "start": "1137600",
    "end": "1145200"
  },
  {
    "text": "Define uh and describe a click house cluster in a declarative manner using something like yaml and uh the operator",
    "start": "1145200",
    "end": "1152640"
  },
  {
    "text": "knows how to uh interpret uh this this yaml file and create the corresponding",
    "start": "1152640",
    "end": "1159240"
  },
  {
    "text": "cluster that uh that uh that reflects that specification or configuration for",
    "start": "1159240",
    "end": "1164600"
  },
  {
    "text": "that cluster so in this yaml you're going to have things that are specific to this cler cluster such as the number",
    "start": "1164600",
    "end": "1169720"
  },
  {
    "text": "of replicas uh the size of each replica so the amount of CPU and memory and uh",
    "start": "1169720",
    "end": "1175440"
  },
  {
    "text": "also other things that are specific to click house like different uh click housee server configurations for",
    "start": "1175440",
    "end": "1181360"
  },
  {
    "text": "example so now that we're able to actually uh provision a a cluster it's up and running how does a user actually",
    "start": "1181360",
    "end": "1187840"
  },
  {
    "text": "connect to it well they do so through this load balancer that I mentioned before on the previous slide uh the the",
    "start": "1187840",
    "end": "1194159"
  },
  {
    "text": "load balancer is a shared load load balancer per per region so all the clusters in that region uh all the",
    "start": "1194159",
    "end": "1200159"
  },
  {
    "text": "traffic goes to the same load balancer all it does is hand off the request to ISO which already has been updated with",
    "start": "1200159",
    "end": "1205679"
  },
  {
    "text": "the routing rules when uh the the cluster was provisioned so is knows exactly where to send that to and it'll",
    "start": "1205679",
    "end": "1211360"
  },
  {
    "text": "hit the underlying cluster in kubernetes so once that request hits click house it's probably going to have to start",
    "start": "1211360",
    "end": "1216960"
  },
  {
    "text": "interacting with some data uh depending if you're doing uh an insert or a select",
    "start": "1216960",
    "end": "1222320"
  },
  {
    "text": "it's going to either read or write some data and to do that it's going to uh go out to S3 S3 is where we keep all of our",
    "start": "1222320",
    "end": "1231400"
  },
  {
    "text": "uh uh clusters data um it's our persistent and durable storage for all of our our our our customers clusters",
    "start": "1231400",
    "end": "1239960"
  },
  {
    "text": "data um going back to our guiding principles before we had this idea of",
    "start": "1239960",
    "end": "1245200"
  },
  {
    "text": "separation of compute and storage and this is one such example of that uh with open source click housee this wasn't the",
    "start": "1245200",
    "end": "1250640"
  },
  {
    "text": "case we actually had local discs uh with open source click house um and this is something we have to build especially",
    "start": "1250640",
    "end": "1256159"
  },
  {
    "text": "for our Cloud within click house to be able to support uh this uh separation and be able to store this data on",
    "start": "1256159",
    "end": "1262320"
  },
  {
    "text": "S3 um that being said this also introduced uh some Network latency because we're no longer going to a local",
    "start": "1262320",
    "end": "1268480"
  },
  {
    "text": "dis we have to go out to S3 and fetch that data so we have two layers of caching on top of that we have an EBS",
    "start": "1268480",
    "end": "1273919"
  },
  {
    "text": "volume and we also have an SSD we only use instance types that have ssds",
    "start": "1273919",
    "end": "1279799"
  },
  {
    "text": "attached to them um uh so the reason for that is because EBS volumes you you can",
    "start": "1279799",
    "end": "1285320"
  },
  {
    "text": "think of them as essentially network attached storage devices um and the uh because they are network",
    "start": "1285320",
    "end": "1292840"
  },
  {
    "text": "attached there is still a network latency involved there they're not as fast as a hardware attached SSD so we've also introduced the second layer of",
    "start": "1292840",
    "end": "1298720"
  },
  {
    "text": "caching the the ssds and with this setup here we essentially get more or less the same performance as you would with a",
    "start": "1298720",
    "end": "1304559"
  },
  {
    "text": "selfhosted click house in our Cloud so if you heard me uh mention that",
    "start": "1304559",
    "end": "1310520"
  },
  {
    "text": "we have a a shared load balancer you might be wondering well how does that align with our our guiding principle of",
    "start": "1310520",
    "end": "1315640"
  },
  {
    "text": "having this you know tenant isolation uh if we're having shared infrastructure well we actually didn't start with that",
    "start": "1315640",
    "end": "1321400"
  },
  {
    "text": "we actually started with something like this uh where we had a dedicated load balancer per cluster and the",
    "start": "1321400",
    "end": "1327120"
  },
  {
    "text": "provisioning engine instead of updating ISO which wasn't in place at the time uh we actually provisioned a brand new load",
    "start": "1327120",
    "end": "1333320"
  },
  {
    "text": "balancer every time someone requested to provision a cluster and uh each cluster had a load balancer there were a few",
    "start": "1333320",
    "end": "1340360"
  },
  {
    "text": "problems with this approach uh the first problem is around the provisioning Times these load balancers on AWS could take",
    "start": "1340360",
    "end": "1346880"
  },
  {
    "text": "anywhere up to I don't know five minutes sometimes um which wasn't a great experience for our customers because the cluster was completely unusable until",
    "start": "1346880",
    "end": "1353279"
  },
  {
    "text": "that was provisioned the uh second problem with this was around cost because we have a",
    "start": "1353279",
    "end": "1358960"
  },
  {
    "text": "load balancer per cluster this was essentially eating into our margins and the third problem was around potential",
    "start": "1358960",
    "end": "1365640"
  },
  {
    "text": "limits we could run into with AWS for example uh I think by default AWS has something a pretty conservative limit on",
    "start": "1365640",
    "end": "1372200"
  },
  {
    "text": "number of load balancers you can have per account something like 50 uh and going into as we were approaching you",
    "start": "1372200",
    "end": "1379200"
  },
  {
    "text": "know beta and GA we knew that we were going to be provisioning hundreds if not thousands of these clusters and this",
    "start": "1379200",
    "end": "1384679"
  },
  {
    "text": "just wasn't going to be a scalable approach for us having to you know constantly reach out to aw support to increase our service limits for load",
    "start": "1384679",
    "end": "1391039"
  },
  {
    "text": "balancers and so that's why we actually decided to sort of uh I don't want to say bypass the the tenant isolation",
    "start": "1391039",
    "end": "1397240"
  },
  {
    "text": "principle but this was sort of a compromise or a trade-off here to provide better user experience and also",
    "start": "1397240",
    "end": "1402279"
  },
  {
    "text": "reduce you know some of the the costs and stuff uh but that being said we still want to offer things like tenant",
    "start": "1402279",
    "end": "1408320"
  },
  {
    "text": "isolation so we did so using psyllium psyllium is essentially a kubernetes",
    "start": "1408320",
    "end": "1414000"
  },
  {
    "text": "network plugin that uh uh provides things like Network policies that you",
    "start": "1414000",
    "end": "1419200"
  },
  {
    "text": "you can use within kubernetes and this coupled with the logical isolation we already get from kubernetes in the form",
    "start": "1419200",
    "end": "1425039"
  },
  {
    "text": "of name spaces so all of our clusters uh resources within kubernetes all belong with within the same uh name space and",
    "start": "1425039",
    "end": "1433120"
  },
  {
    "text": "uh with the network policies on top on top of that we can actually prevent uh cross namespace uh traffic so one",
    "start": "1433120",
    "end": "1439520"
  },
  {
    "text": "cluster cannot you know call into the uh network of another uh cluster running in the same uh kubernetes cluster and so if",
    "start": "1439520",
    "end": "1446640"
  },
  {
    "text": "you want to read more about how we use cium there's a link there at the bottom there's a a a white paper from the cncf",
    "start": "1446640",
    "end": "1452679"
  },
  {
    "text": "that's the cloud native Computing foundation and you could read more about our use case and how we use  great okay so we have this way that",
    "start": "1452679",
    "end": "1460279"
  },
  {
    "text": "we're able to uh now um where we have this architecture that we're able to provision clusters with so uh now we",
    "start": "1460279",
    "end": "1467640"
  },
  {
    "text": "need to start uh scaling those out because we're offering the server serverless experience we don't have any ways for customers to be able to tell us",
    "start": "1467640",
    "end": "1475120"
  },
  {
    "text": "how much resources they need or how big of a cluster they need so we need to do this in some sort of automated fashion",
    "start": "1475120",
    "end": "1481120"
  },
  {
    "text": "and we do this with something called Auto scaling so there's two types of Auto scaling that we have we have",
    "start": "1481120",
    "end": "1486600"
  },
  {
    "text": "vertical and horizontal uh on the vertical side this refers to the size of the individual replicas so the amount of",
    "start": "1486600",
    "end": "1493000"
  },
  {
    "text": "CPU and memory uh that they each have uh there are some technical comp applications with this uh the first is",
    "start": "1493000",
    "end": "1499880"
  },
  {
    "text": "that it can be disruptive so because we're using kubernetes when we have to resize a kubernetes pod uh we actually",
    "start": "1499880",
    "end": "1506919"
  },
  {
    "text": "have to terminate the old pod and uh that means any workloads that are running on that pod that is the target",
    "start": "1506919",
    "end": "1513000"
  },
  {
    "text": "of a uh vertical Auto scaling operation we either have to wait for that to finish or we have to terminate it and",
    "start": "1513000",
    "end": "1519000"
  },
  {
    "text": "kill it um not a great experience for users if that's maybe an important query that's running um also not a great",
    "start": "1519000",
    "end": "1525600"
  },
  {
    "text": "experience if there are important system processes such as backups running on uh on on that pod and uh because we have",
    "start": "1525600",
    "end": "1534159"
  },
  {
    "text": "automated backups in our click house Cloud we didn't want to uh be interrupting backups you know in",
    "start": "1534159",
    "end": "1539919"
  },
  {
    "text": "emergency situations when customers might actually need them so we don't want to interrupt their their queries or",
    "start": "1539919",
    "end": "1545120"
  },
  {
    "text": "their backups the second problem with vertical uh uh Auto scaling is around cach loss",
    "start": "1545120",
    "end": "1552720"
  },
  {
    "text": "so I showed how we have two two layers of cach right we have the EBS volumes and the SSD disc",
    "start": "1552720",
    "end": "1558640"
  },
  {
    "text": "uh well uh because the SSD discs are actually attached to the underlying",
    "start": "1558640",
    "end": "1563720"
  },
  {
    "text": "Hardware um if a pod uh gets uh uh",
    "start": "1563720",
    "end": "1569120"
  },
  {
    "text": "autoscaled or if a a cluster gets autoscaled when the Pod moves there's no guarantee from kubernetes that that pod",
    "start": "1569120",
    "end": "1574559"
  },
  {
    "text": "is going to be rescheduled on the same node meaning that it may not have access to that same SSD cache that it had",
    "start": "1574559",
    "end": "1581240"
  },
  {
    "text": "before and uh in that situation uh the way we actually kind of get around that",
    "start": "1581240",
    "end": "1587200"
  },
  {
    "text": "is uh by the use of the EBS volumes I mentioned that they're network attached and so they can actually follow the Pod",
    "start": "1587200",
    "end": "1592799"
  },
  {
    "text": "when they get rescheduled so if they end up on another node we can just reattach that ABS volume and provide it um a",
    "start": "1592799",
    "end": "1599200"
  },
  {
    "text": "let's call it a warm cache instead of you know a hot cache that the SSD might provide uh on the other side we have",
    "start": "1599200",
    "end": "1605720"
  },
  {
    "text": "horizontal Auto scaling and this actually refers to the size of the cluster itself so how many replicas it",
    "start": "1605720",
    "end": "1610880"
  },
  {
    "text": "has by default our our clusters come with three replicas and horizontal Auto scaling can either increase or decrease",
    "start": "1610880",
    "end": "1617039"
  },
  {
    "text": "that number uh some technical challenge challenges around horizontal autoscaling uh the",
    "start": "1617039",
    "end": "1623000"
  },
  {
    "text": "first uh is around this idea of data data integrity and this has to do with uh the way uh you can specify your right",
    "start": "1623000",
    "end": "1630720"
  },
  {
    "text": "level in Click house so when you're inserting data into click house you can specify what kind of Quorum level you",
    "start": "1630720",
    "end": "1636279"
  },
  {
    "text": "want so you can ask for a full Quorum meaning that all replicas have to acknowledge that right before you consider it successful uh at the other",
    "start": "1636279",
    "end": "1643240"
  },
  {
    "text": "end of the spectrum you can say you know what I just want to insert it I don't really care you know uh if anyone else",
    "start": "1643240",
    "end": "1648880"
  },
  {
    "text": "acknowledges it and that's fine what can happen in that situation is if the uh",
    "start": "1648880",
    "end": "1655120"
  },
  {
    "text": "the replica that uh received that insert uh in the case of uh no Quorum uh that",
    "start": "1655120",
    "end": "1661039"
  },
  {
    "text": "data is only going to reside on that uh replica until it's replicated in the background uh to the other nodes and uh",
    "start": "1661039",
    "end": "1667760"
  },
  {
    "text": "until that happens uh if that replica got removed that data only resides there",
    "start": "1667760",
    "end": "1673360"
  },
  {
    "text": "meaning that uh that data would be lost if it's the target of a horizontal uh uh",
    "start": "1673360",
    "end": "1678559"
  },
  {
    "text": "downscale the second problem with horizontal uh autoscaling has to do with the way click house uh clusters work so",
    "start": "1678559",
    "end": "1685799"
  },
  {
    "text": "each replica has to be aware of every other CL or every other replica uh so that they can communicate",
    "start": "1685799",
    "end": "1691519"
  },
  {
    "text": "properly and uh what can happen is uh if you remove a a replica without",
    "start": "1691519",
    "end": "1698399"
  },
  {
    "text": "unregistering it um the other replicas will still try to talk to it and this is a problem for certain commands such as",
    "start": "1698399",
    "end": "1704840"
  },
  {
    "text": "uh when you're trying to create a table all the other replicas have to be aware of that change and if it cannot reach",
    "start": "1704840",
    "end": "1710279"
  },
  {
    "text": "one of the replicas the the statement will fail um and so if you don't properly unregister uh the replica",
    "start": "1710279",
    "end": "1717399"
  },
  {
    "text": "during the horizontal Downs scale then you're going to end up in that situation and your create table will not",
    "start": "1717399",
    "end": "1722919"
  },
  {
    "text": "execute so with these challenges in place for horizontal autoscaling uh we",
    "start": "1722919",
    "end": "1728120"
  },
  {
    "text": "actually uh realized that these are actually pretty risky uh risky things and we decided to actually uh launch uh",
    "start": "1728120",
    "end": "1735720"
  },
  {
    "text": "beta NG with just the vertical Auto scaling piece we're still working through some of the Kinks uh these these",
    "start": "1735720",
    "end": "1740919"
  },
  {
    "text": "ones specifically for horizontal Auto scaling uh but it should be out shortly but um we did launch with vertical Auto",
    "start": "1740919",
    "end": "1747919"
  },
  {
    "text": "scaling and I want to go into the details of that and uh show you how we solved uh the disruptive uh problem for",
    "start": "1747919",
    "end": "1754240"
  },
  {
    "text": "vertical autoscaling so with vertical Auto scaling as I mentioned we want this to be done in an automated fashion right so",
    "start": "1754240",
    "end": "1760919"
  },
  {
    "text": "in order to automate this we have to really understand what's happening on the cluster and so to do that we have to",
    "start": "1760919",
    "end": "1766760"
  },
  {
    "text": "publish some metc to some Central metric store these uh usage metrics include",
    "start": "1766760",
    "end": "1773159"
  },
  {
    "text": "things that are uh internal to click house so metrics that are already generated uh by click house we we ship",
    "start": "1773159",
    "end": "1779240"
  },
  {
    "text": "those to the metric store we also ship uh operating system level metrics so for example uh the memory and CPU",
    "start": "1779240",
    "end": "1787559"
  },
  {
    "text": "utilization and uh some of the other signals that we publish are going to be things uh that are going to tell us how",
    "start": "1787559",
    "end": "1794360"
  },
  {
    "text": "like for example how many active running queries are are happening on that cluster as well as number of active",
    "start": "1794360",
    "end": "1799799"
  },
  {
    "text": "backups that are currently happening and so now that we've captured those metrics uh we're able to make smarter decisions",
    "start": "1799799",
    "end": "1806000"
  },
  {
    "text": "about whether or not it's safe to proceed with a vertical autoscaling operation the second piece of uh",
    "start": "1806000",
    "end": "1812840"
  },
  {
    "text": "vertical Auto scaling is this scale controller so a controller in kubernetes if you're not not familiar is",
    "start": "1812840",
    "end": "1818120"
  },
  {
    "text": "essentially a control Loop that watches for uh kubernetes resources and is able to react to",
    "start": "1818120",
    "end": "1823440"
  },
  {
    "text": "them uh and so what is the scale controller watching for it's actually watching uh for these uh resources",
    "start": "1823440",
    "end": "1829440"
  },
  {
    "text": "called recommendations coming from this recommender component so the recommender will wake up every so often and take a",
    "start": "1829440",
    "end": "1834720"
  },
  {
    "text": "look at the metric store and uh see uh and basically generate uh",
    "start": "1834720",
    "end": "1839960"
  },
  {
    "text": "recommendations based off of the the metrics coming out of those clusters uh and send those to the scale controller",
    "start": "1839960",
    "end": "1846559"
  },
  {
    "text": "the scale controller at that point can you know make the decision whether or not to scale scale up or scale Down based off the current state of the",
    "start": "1846559",
    "end": "1851880"
  },
  {
    "text": "cluster and the incoming recommendation and this is how we're actually able to provide vertical Auto scaling",
    "start": "1851880",
    "end": "1859240"
  },
  {
    "text": "so now that we're able to scale these individual clusters how do we scale our Cloud",
    "start": "1859679",
    "end": "1865480"
  },
  {
    "text": "because one of the things that often people uh companies run into is running into these uh cloud provider limits like",
    "start": "1865480",
    "end": "1871960"
  },
  {
    "text": "uh and Service uh limit quotas so how did we get around this again knowing",
    "start": "1871960",
    "end": "1877799"
  },
  {
    "text": "that we were going to be provisioning you know hundreds if not thousands of these clusters well taking a look at our",
    "start": "1877799",
    "end": "1883960"
  },
  {
    "text": "architecture again we actually uh were able to identify that there's a there's",
    "start": "1883960",
    "end": "1889320"
  },
  {
    "text": "a a distinct line that could be drawn between two pieces of our infrastructure we have a more static side and a more Dynamic side and you can uh hopefully",
    "start": "1889320",
    "end": "1897320"
  },
  {
    "text": "this shows up on the screen okay um but the top part in yellow is our uh static",
    "start": "1897320",
    "end": "1902840"
  },
  {
    "text": "piece meaning that uh it doesn't really change based off of the number of clusters running in our Cloud but the",
    "start": "1902840",
    "end": "1909080"
  },
  {
    "text": "other piece is dynamic and does change and grow based off of the number of clusters we do have running so if we",
    "start": "1909080",
    "end": "1915600"
  },
  {
    "text": "give these uh these names of management and sell uh and draw a more simplified version of this and instead now think of",
    "start": "1915600",
    "end": "1923080"
  },
  {
    "text": "these as individual AWS accounts so we have a management account and a cellular account and all the resources uh on the",
    "start": "1923080",
    "end": "1929279"
  },
  {
    "text": "previous page were in their corresponding accounts uh when once we start running up to limits on the sell",
    "start": "1929279",
    "end": "1935039"
  },
  {
    "text": "account because that's the part that grows uh as the number of uh clusters grow we can actually just add another",
    "start": "1935039",
    "end": "1941120"
  },
  {
    "text": "sell account and register that with the management uh account and we can continue continue to do that uh without",
    "start": "1941120",
    "end": "1947159"
  },
  {
    "text": "running into individual limits and this is how we were able to to scale our our cloud and this is called a cellular",
    "start": "1947159",
    "end": "1955240"
  },
  {
    "text": "architecture so uh to wrap up the architecture portion uh I just want to bring it back to the guiding principles",
    "start": "1955720",
    "end": "1961080"
  },
  {
    "text": "because that's what allowed us to get to this point so uh as a reminder we wanted to offer our users a serverless",
    "start": "1961080",
    "end": "1966679"
  },
  {
    "text": "experience uh to make things as easy as possible to get started we also wanted to maintain that same level of",
    "start": "1966679",
    "end": "1972240"
  },
  {
    "text": "performance that users were already used to with click house in our Cloud uh we wanted to offer for this separation of",
    "start": "1972240",
    "end": "1977880"
  },
  {
    "text": "compute and storage to be able to scale them independently and uh be able to support a variety of",
    "start": "1977880",
    "end": "1983840"
  },
  {
    "text": "workloads uh we also wanted to provide tenant isolation and security so that our users trust us with their data and",
    "start": "1983840",
    "end": "1990399"
  },
  {
    "text": "lastly we knew that we wanted to have multicloud support in AWS Google and Azure the architecture I showed earlier",
    "start": "1990399",
    "end": "1997480"
  },
  {
    "text": "was actually built uh in AWS and we were able to Port it successfully to Google which is going to be launching soon and",
    "start": "1997480",
    "end": "2003480"
  },
  {
    "text": "we're also already looking at Azure using the same architecture and with that I'd like to hand hand it",
    "start": "2003480",
    "end": "2009240"
  },
  {
    "text": "back over to Sean thank you Shane so now that you all know about our architecture",
    "start": "2009240",
    "end": "2015120"
  },
  {
    "text": "and all of those hard decisions that we made along the way to build click house Cloud how did we fit all of this",
    "start": "2015120",
    "end": "2021519"
  },
  {
    "text": "software development work within just one year of time let me share with you",
    "start": "2021519",
    "end": "2027399"
  },
  {
    "text": "using the initial tennis metaphor now you know our techniques as a player how did we end up getting the trophy which",
    "start": "2027399",
    "end": "2033159"
  },
  {
    "text": "is launching click house Cloud within one year of time it's all started from the end of 2021 when our co-founder got",
    "start": "2033159",
    "end": "2040480"
  },
  {
    "text": "initial founding and started the company and from the beginning of 2022 we had",
    "start": "2040480",
    "end": "2046840"
  },
  {
    "text": "very aggressive timeline set on ourselves which is launching cloud service within just one year of time we",
    "start": "2046840",
    "end": "2054638"
  },
  {
    "text": "break this entire one year of a goal into three key Milestones which is",
    "start": "2054639",
    "end": "2059800"
  },
  {
    "text": "private preview in May of 2022 public beta on October and then GA on December",
    "start": "2059800",
    "end": "2067240"
  },
  {
    "text": "what did we did for each of these milestones for the private preview since",
    "start": "2067240",
    "end": "2072358"
  },
  {
    "text": "click housee is already an open source database there are already a lot of customers using click house so we invite",
    "start": "2072359",
    "end": "2078480"
  },
  {
    "text": "those existing customers of Click house trying to use click house Cloud so we build basic Cloud offering this type of",
    "start": "2078480",
    "end": "2085800"
  },
  {
    "text": "offering is limited in terms of functionalities we don't have Autos scaling in place we don't have metering",
    "start": "2085800",
    "end": "2092599"
  },
  {
    "text": "because we are not going to charge customers for private preview but we have all the other incent essential stuff in place that's includes stock to",
    "start": "2092599",
    "end": "2100040"
  },
  {
    "text": "type one compliances so we think about security from the very beginning as",
    "start": "2100040",
    "end": "2105960"
  },
  {
    "text": "those customers are real customers with their real customer data so we don't want to leak any of those data and we",
    "start": "2105960",
    "end": "2112280"
  },
  {
    "text": "want to be responsible even for our private preview and also we have all the",
    "start": "2112280",
    "end": "2117800"
  },
  {
    "text": "fully fully managed like system so that customers can come and self- serve",
    "start": "2117800",
    "end": "2123359"
  },
  {
    "text": "themselves so they have a endtoend experience of cloud service so they don't need to ask us to provision for",
    "start": "2123359",
    "end": "2130680"
  },
  {
    "text": "them manually uh on top of that we also have well defined and well-developed",
    "start": "2130680",
    "end": "2136400"
  },
  {
    "text": "monitoring alerting and uh on call system so we have a full reliability in",
    "start": "2136400",
    "end": "2143359"
  },
  {
    "text": "place so that customers are self- served and all the things are monitored and we take care of whatever clusters they",
    "start": "2143359",
    "end": "2149520"
  },
  {
    "text": "created on cloud in private preview internally we also prioritize our",
    "start": "2149520",
    "end": "2154560"
  },
  {
    "text": "automation on infrastructure as code and cic so that allows us to move quickly",
    "start": "2154560",
    "end": "2160319"
  },
  {
    "text": "before private preview and after for the second half of the year when after we",
    "start": "2160319",
    "end": "2165440"
  },
  {
    "text": "get the private preview feedbacks we need to speed up and build even more than what we initially planned for so",
    "start": "2165440",
    "end": "2173920"
  },
  {
    "text": "what we did for public beta initially we planned mainly two things one is Autos",
    "start": "2173920",
    "end": "2179520"
  },
  {
    "text": "scaling which is very hard to do as you see in the previous slides that Shane talked about all those challenges it",
    "start": "2179520",
    "end": "2186280"
  },
  {
    "text": "takes a lot of time and then metering as well we are going to start charging",
    "start": "2186280",
    "end": "2191760"
  },
  {
    "text": "customers on public beta so we need to be metering but on top of this two",
    "start": "2191760",
    "end": "2197160"
  },
  {
    "text": "because of the private preview feedbacks we get we also did enhanced security",
    "start": "2197160",
    "end": "2202400"
  },
  {
    "text": "features like private link IP filtering and auditing which all those Enterprise customers asked us to do and also",
    "start": "2202400",
    "end": "2210800"
  },
  {
    "text": "because public beta is going to be public it's going to be our first appearance in the General market we did",
    "start": "2210800",
    "end": "2216720"
  },
  {
    "text": "did rounds and rounds of reliability and scalability testing before public beta launch that's when we decided to do cell",
    "start": "2216720",
    "end": "2224200"
  },
  {
    "text": "cellular architecture internally as well and after public beta we're heading",
    "start": "2224200",
    "end": "2229720"
  },
  {
    "text": "towards GA with just two month in time what we did there first two are mainly",
    "start": "2229720",
    "end": "2237400"
  },
  {
    "text": "about customer feedbacks from public beta after we launch public beta we hear",
    "start": "2237400",
    "end": "2242720"
  },
  {
    "text": "feedbacks about our SQL console is not like it's not having enough functions so",
    "start": "2242720",
    "end": "2248560"
  },
  {
    "text": "we had our enhanced Cloud console build within just two month of time and then",
    "start": "2248560",
    "end": "2254480"
  },
  {
    "text": "after public beta we also realize that the public beta customers are a little bit different from our private preview",
    "start": "2254480",
    "end": "2261400"
  },
  {
    "text": "customers for private previews those customers mostly are Enterprise customers they're requesting features",
    "start": "2261400",
    "end": "2267240"
  },
  {
    "text": "like you see in the public beta phace all the security features compliances big companies worries about those but",
    "start": "2267240",
    "end": "2274839"
  },
  {
    "text": "after public beta we got a lot of of traffic from smaller individual developers who use click house to build",
    "start": "2274839",
    "end": "2281839"
  },
  {
    "text": "their own project or to learn click house as a database and for those individual customers all those security",
    "start": "2281839",
    "end": "2288319"
  },
  {
    "text": "fancy features or durability reliability highly available database is not as appealing as the low cost in their",
    "start": "2288319",
    "end": "2295680"
  },
  {
    "text": "credit card as a result we start to support developer addition in the general availability and also we keep on",
    "start": "2295680",
    "end": "2303160"
  },
  {
    "text": "going with our reliability and security for supporting uptime SLA for GA and",
    "start": "2303160",
    "end": "2309640"
  },
  {
    "text": "also sck to type two compliances looking back in the rospective back to our initial question",
    "start": "2309640",
    "end": "2316200"
  },
  {
    "text": "how did we fit all those software development work within just one year of time we think there are three key things",
    "start": "2316200",
    "end": "2324119"
  },
  {
    "text": "that help us to build something that is speedy and accurate to solve customer",
    "start": "2324119",
    "end": "2329680"
  },
  {
    "text": "problems those three things are first Milestone driven development we set our",
    "start": "2329680",
    "end": "2336200"
  },
  {
    "text": "s very aggressive timeline from the very beginning this helped the entire company across different teams to have the same",
    "start": "2336200",
    "end": "2342960"
  },
  {
    "text": "goal and we also set three Milestones on different time of that year so that",
    "start": "2342960",
    "end": "2349920"
  },
  {
    "text": "clear the goal of everybody in the company that's one and also we respect",
    "start": "2349920",
    "end": "2355319"
  },
  {
    "text": "the timeline regardless of what's going on maybe sometimes we underestimate some of the projects Sometimes some of the",
    "start": "2355319",
    "end": "2361880"
  },
  {
    "text": "projects sleep through we respect the timeline we never change the timeline but we keep a long list of",
    "start": "2361880",
    "end": "2368599"
  },
  {
    "text": "prioritization list to keep changing the priority so that when something happens",
    "start": "2368599",
    "end": "2374800"
  },
  {
    "text": "we are able to move around the priority of different project that we are targeting and cut scope instead of postp",
    "start": "2374800",
    "end": "2381440"
  },
  {
    "text": "point the time that makes sure the time is always met and everybody is believing",
    "start": "2381440",
    "end": "2386720"
  },
  {
    "text": "that we are going to launch click house Cloud within just one year of time and second reliability and security are",
    "start": "2386720",
    "end": "2394160"
  },
  {
    "text": "features as well from the beginning as you see even before the private preview",
    "start": "2394160",
    "end": "2399599"
  },
  {
    "text": "we invest a lot of uh reliability and security features from the starting",
    "start": "2399599",
    "end": "2405400"
  },
  {
    "text": "point that's because throughout the years of uh experience of us building",
    "start": "2405400",
    "end": "2410599"
  },
  {
    "text": "cloud service in different places we find it's easy to track features but it's hard to track and prioritize",
    "start": "2410599",
    "end": "2417720"
  },
  {
    "text": "security and reliability on the other hand as a cloud service pro provider we",
    "start": "2417720",
    "end": "2423280"
  },
  {
    "text": "need customer trust in order to put their valuable data on us so reliability",
    "start": "2423280",
    "end": "2428400"
  },
  {
    "text": "and security is the founding Stone of the existing of our Company Success so",
    "start": "2428400",
    "end": "2435680"
  },
  {
    "text": "we started early on reliability and security so that we peed a lot of",
    "start": "2435680",
    "end": "2441520"
  },
  {
    "text": "reliability and security features ahead of time before the final Crunch and also we continues to invest in reliability",
    "start": "2441520",
    "end": "2449079"
  },
  {
    "text": "and security for public data and also GA to even iron down the reliability and",
    "start": "2449079",
    "end": "2454720"
  },
  {
    "text": "security offering we had for for our customers that makes sure our final product is production ready for big",
    "start": "2454720",
    "end": "2461119"
  },
  {
    "text": "Enterprise uh Enterprise customer as well as small customers and finally",
    "start": "2461119",
    "end": "2466200"
  },
  {
    "text": "listen to users early and often is the key as well to build an accurate product",
    "start": "2466200",
    "end": "2471680"
  },
  {
    "text": "that solve customer pain um as you see in our previous slides in private",
    "start": "2471680",
    "end": "2477319"
  },
  {
    "text": "preview and public beta we both hear customer feedbacks and we change our prioritizations based on customer",
    "start": "2477319",
    "end": "2484040"
  },
  {
    "text": "feedbacks we had enhanced security feature for public beta we have enhanced console and and Developer Edition for GA",
    "start": "2484040",
    "end": "2493000"
  },
  {
    "text": "both times it proves that we are able to the the fact that we're able to act fast",
    "start": "2493000",
    "end": "2498720"
  },
  {
    "text": "and react to customer feedbacks really Delight customers and earn more customer trust so that they are willing to put",
    "start": "2498720",
    "end": "2505720"
  },
  {
    "text": "more workload onto our cloud service as a result with that I'll finalize our",
    "start": "2505720",
    "end": "2512680"
  },
  {
    "text": "presentation that's it for our content if you have more questions feel free to ask now or later on our contact",
    "start": "2512680",
    "end": "2520240"
  },
  {
    "text": "information is here and um yeah feel free to reach out to us thank you very much what's the what difference latency",
    "start": "2520240",
    "end": "2527520"
  },
  {
    "text": "oh latency um I don't know the numbers off the top of my head but with the ssds",
    "start": "2527520",
    "end": "2532800"
  },
  {
    "text": "there's not going to be uh a network latency involved so they're they're much speedier and we did actually see a",
    "start": "2532800",
    "end": "2538680"
  },
  {
    "text": "pretty big uh performance increase once we introduce those um they weren't part of our original design they came a",
    "start": "2538680",
    "end": "2544200"
  },
  {
    "text": "little bit later once we saw BS volumes weren't going to be enough for us and with the local SSS like I said we're",
    "start": "2544200",
    "end": "2550319"
  },
  {
    "text": "able to uh essentially match what what we get in terms of performance with uh",
    "start": "2550319",
    "end": "2555760"
  },
  {
    "text": "self-hosted click house uh it's huge the difference is",
    "start": "2555760",
    "end": "2562280"
  },
  {
    "text": "huge do you know the numbers I don't remember not on top of my head but yeah it's a few times",
    "start": "2562280",
    "end": "2567839"
  },
  {
    "text": "difference hey uh thanks for the talk over here um just curious about your adoption of iso and uh whether you're",
    "start": "2567839",
    "end": "2575520"
  },
  {
    "text": "using things besides load balancing traffic management if you have any hurles or stories there to sh um one so",
    "start": "2575520",
    "end": "2583599"
  },
  {
    "text": "we use it only in one place but another actual place uh or another sort of feature we get with ISO is we can",
    "start": "2583599",
    "end": "2590000"
  },
  {
    "text": "actually idle our instances using ISO so what that means is if there's a period of inactivity on our clusters we can",
    "start": "2590000",
    "end": "2596319"
  },
  {
    "text": "actually suspend them to free up the compute and save us some costs and our customers some costs as well and so we",
    "start": "2596319",
    "end": "2602160"
  },
  {
    "text": "uh we use ISO to uh essentially intercept uh the the calls coming in and if the",
    "start": "2602160",
    "end": "2610200"
  },
  {
    "text": "underlying cluster is in an idled State um it'll Ste will hold that connection",
    "start": "2610200",
    "end": "2615319"
  },
  {
    "text": "while it triggers uh the the steps in order to to bring that cluster back up",
    "start": "2615319",
    "end": "2620520"
  },
  {
    "text": "and serve that connection so that's another use case we use for it um but it's it's the same instance of sto um",
    "start": "2620520",
    "end": "2627319"
  },
  {
    "text": "thank [Applause]",
    "start": "2627319",
    "end": "2632070"
  },
  {
    "text": "[Music] you",
    "start": "2632570",
    "end": "2638079"
  }
]