[
  {
    "start": "0",
    "end": "17000"
  },
  {
    "text": "foreign [Music]",
    "start": "1380",
    "end": "17820"
  },
  {
    "start": "17000",
    "end": "123000"
  },
  {
    "text": "extreme weather events such as hurricane Ian a category 4 hurricane and the heat waves of California that broke hundreds",
    "start": "17820",
    "end": "24779"
  },
  {
    "text": "of Records result in devastating power outages that lead to economic losses and harm to human well-being",
    "start": "24779",
    "end": "30720"
  },
  {
    "text": "in the case of hurricane Ian we have damaged the physical infrastructure that inhibits the capability of the grid to",
    "start": "30720",
    "end": "36840"
  },
  {
    "text": "generate and transmit electricity and in the case of the California Heat Wave we have excess demand from",
    "start": "36840",
    "end": "42420"
  },
  {
    "text": "residents businesses and critical operations that require additional electricity to run cooling systems air",
    "start": "42420",
    "end": "48120"
  },
  {
    "text": "conditioning and other operations to keep people safe and operations running smoothly this causes stress on the grid since the",
    "start": "48120",
    "end": "54899"
  },
  {
    "text": "grid can't store energy it means his electricity has to be provided in real time to meet these loads what this looks",
    "start": "54899",
    "end": "61320"
  },
  {
    "text": "like for grid operators is this graph right here so this graph could represent a day of the heat wave for the California grid operator the Blue Line",
    "start": "61320",
    "end": "67860"
  },
  {
    "text": "represents the grid capacity and the Orange Line represents forecasted demand we start to get into issues when the",
    "start": "67860",
    "end": "73619"
  },
  {
    "text": "graph looks like this this has the forecasted demand surpassing the capacity of the grid this is when grid",
    "start": "73619",
    "end": "79619"
  },
  {
    "text": "up operators start to initiate rolling blackouts as was the case at the latest California Heat Wave some of you that",
    "start": "79619",
    "end": "86040"
  },
  {
    "text": "live in California might even remember receiving daily Statewide alerts urging you to reduce your energy consumption",
    "start": "86040",
    "end": "91619"
  },
  {
    "text": "because we were on a brink of these blackouts the reasons that grid operators do this is because they need",
    "start": "91619",
    "end": "96840"
  },
  {
    "text": "to distribute and try to balance the available load and minimize impact to Consumers but unfortunately leads to",
    "start": "96840",
    "end": "103020"
  },
  {
    "text": "these rotating blackouts so we can see with these recent weather events the importance of having",
    "start": "103020",
    "end": "108659"
  },
  {
    "text": "independent energy and energy security so we're going to talk today about how Tesla utilizes distributed energy",
    "start": "108659",
    "end": "114479"
  },
  {
    "text": "resources to ensure our customers individually and commutatively have",
    "start": "114479",
    "end": "120000"
  },
  {
    "text": "energy security I'm Natalie de la Maria and I am Hector vegan and before we",
    "start": "120000",
    "end": "125579"
  },
  {
    "text": "continue it's very important to highlight that today we're talking about our own personal experiences and not on behalf of Tesla",
    "start": "125579",
    "end": "133520"
  },
  {
    "text": "um so we're gonna go through today is that we're gonna explain the benefits of",
    "start": "133560",
    "end": "138599"
  },
  {
    "text": "having residential batteries and how we can extend their utilities using software then we're going to explain how",
    "start": "138599",
    "end": "144840"
  },
  {
    "text": "the Tesla energy platform uh can increase energy security for a single home and then how can we can use the",
    "start": "144840",
    "end": "151200"
  },
  {
    "text": "same platform to orchestrate um fleets or batteries to increase energy security for entire communities",
    "start": "151200",
    "end": "157500"
  },
  {
    "text": "and finally we will show how to have an integrating integrated user experience",
    "start": "157500",
    "end": "162920"
  },
  {
    "text": "where we can give customers control during these critical times",
    "start": "162920",
    "end": "168300"
  },
  {
    "text": "so why batteries uh traditional power generation has come from burning fossil",
    "start": "168300",
    "end": "174420"
  },
  {
    "text": "fuels that is a source of energy that is reliable and consistent renewable",
    "start": "174420",
    "end": "179519"
  },
  {
    "text": "sources such as solar or wind are more inconsistent and variable you may get a",
    "start": "179519",
    "end": "185099"
  },
  {
    "text": "lot of sunlight and wind when ungenerated energy when it's not really needed or you don't have enough when",
    "start": "185099",
    "end": "190500"
  },
  {
    "text": "it's needed the most that's where virus and software really come in uh when we couple",
    "start": "190500",
    "end": "196640"
  },
  {
    "text": "batteries and renewable energy we can store the excess energy in those varies",
    "start": "196640",
    "end": "201720"
  },
  {
    "text": "to be used later and reduce the need to burn fossil fuels I will example is the Kapolei energy",
    "start": "201720",
    "end": "208500"
  },
  {
    "text": "storage facility in uh Hawaii uh this uh energy uh installation is capable of",
    "start": "208500",
    "end": "216659"
  },
  {
    "text": "reduce uh the amount to store the amount of energy that uh can power 700 000",
    "start": "216659",
    "end": "223500"
  },
  {
    "text": "homes for an hour and this is also impacting the island by not having the",
    "start": "223500",
    "end": "229560"
  },
  {
    "text": "need to have peaking power plants picking power plants or bigger plants commonly known are power plants that",
    "start": "229560",
    "end": "235799"
  },
  {
    "text": "only run when there is a high need of energy demand normally burning positive fields and due to this irregular use of",
    "start": "235799",
    "end": "243480"
  },
  {
    "text": "these plants the energy generated from them is actually very expensive but residential varies are also great",
    "start": "243480",
    "end": "249780"
  },
  {
    "text": "they help our customers to control their sonar energy generation they provide backup in case of power outages and",
    "start": "249780",
    "end": "257519"
  },
  {
    "text": "where they really shine is when you couple them with software and why software we can run software on",
    "start": "257519",
    "end": "263759"
  },
  {
    "start": "260000",
    "end": "351000"
  },
  {
    "text": "the edge on devices for production or historical home loan",
    "start": "263759",
    "end": "270840"
  },
  {
    "text": "we also run software on the cloud to relay other information to enable these autonomous decision making on the device",
    "start": "270840",
    "end": "276360"
  },
  {
    "text": "you can also utilize software to create integrated user experiences across products and things such as the mobile",
    "start": "276360",
    "end": "282060"
  },
  {
    "text": "app go also utilize Cloud software to aggregate fleets of individual devices to expand the impact from an individual",
    "start": "282060",
    "end": "289500"
  },
  {
    "text": "battery impact to a community impact in what's known as a virtual power plant",
    "start": "289500",
    "end": "294600"
  },
  {
    "text": "we can think of simple examples of how do we use software to create good customer experiences with their batteries this is an example of a",
    "start": "294600",
    "end": "301139"
  },
  {
    "text": "customer updating their backup reserve and this is a value that the battery will store in case of a",
    "start": "301139",
    "end": "306660"
  },
  {
    "text": "grid outage but there's times when we want more complex features for most of our most of our customers they want to",
    "start": "306660",
    "end": "313440"
  },
  {
    "text": "keep a low backup Reserve most of the time this enables them to have capacity to store their own solar however when",
    "start": "313440",
    "end": "319020"
  },
  {
    "text": "there's a high likelihood of a grid outage they'd like to be able to adjust their backup Reserve to full so their batteries charge to full and they have a",
    "start": "319020",
    "end": "325199"
  },
  {
    "text": "full battery in case the grid goes out storm watch is a leading cause or storms",
    "start": "325199",
    "end": "330240"
  },
  {
    "text": "or the leading cause of grid outages and no one liked to manually watch the Weather Channel waiting to update their backup Reserve thankfully Tesla will do",
    "start": "330240",
    "end": "336900"
  },
  {
    "text": "it for you when you enable storm watch on your device it will preemptively charge your",
    "start": "336900",
    "end": "342060"
  },
  {
    "text": "battery to Full Ahead of inclement weather this way you can leave your backup Reserve value low and you don't have to worry about not having enough",
    "start": "342060",
    "end": "348360"
  },
  {
    "text": "power in your battery to charge you when the grid goes out but first let's speak about our platform",
    "start": "348360",
    "end": "356220"
  },
  {
    "start": "351000",
    "end": "684000"
  },
  {
    "text": "and how it Powers programs like storm watch so Tesla devices such as varies are connected to the cloud using secure",
    "start": "356220",
    "end": "363419"
  },
  {
    "text": "websockets and the connection is bi-directional so from The Edge to the cloud devices can report their alerts",
    "start": "363419",
    "end": "370139"
  },
  {
    "text": "and their measurements to inform about their current state the set of services in the platform that receive handle and",
    "start": "370139",
    "end": "378240"
  },
  {
    "text": "restore and provide these data points are on the Telemetry domain then we need to give context to this data that's",
    "start": "378240",
    "end": "384479"
  },
  {
    "text": "where Asset Services come in Asset Services basically keep the relationships between devices customers",
    "start": "384479",
    "end": "390960"
  },
  {
    "text": "and installations and having accurate asset data is critical to power programs",
    "start": "390960",
    "end": "396360"
  },
  {
    "text": "such as a storm watch or the virtual power plan finally from the cloud to the",
    "start": "396360",
    "end": "401400"
  },
  {
    "text": "edge we have another set of devices that can command and control uh sorry so it's another set of services that can command",
    "start": "401400",
    "end": "408060"
  },
  {
    "text": "and control those devices these these actions that we can send to devices can be things similar to",
    "start": "408060",
    "end": "414660"
  },
  {
    "text": "Firmware updates configuration changes or device small transitions which are like charge the battery or discharge the",
    "start": "414660",
    "end": "420840"
  },
  {
    "text": "battery messages exchange between the cloud and the edge are formatted using Google",
    "start": "420840",
    "end": "426419"
  },
  {
    "text": "protocol buffers Google protocol buffers or product are a language agnostic",
    "start": "426419",
    "end": "431639"
  },
  {
    "text": "format they're strongly typed performance and they allow for a scheme Evolution as long as you follow a few",
    "start": "431639",
    "end": "436860"
  },
  {
    "text": "simple restrictions since they are contract based what we have is a share repository where we keep those product",
    "start": "436860",
    "end": "443580"
  },
  {
    "text": "files and both Edge and Cloud developers can propose additions and changes",
    "start": "443580",
    "end": "449940"
  },
  {
    "text": "uh the three domains in the platform are actually a con uh formed by thousands of",
    "start": "449940",
    "end": "456240"
  },
  {
    "text": "services but the bulk of them are writing I've written using AGA and Scala",
    "start": "456240",
    "end": "462360"
  },
  {
    "text": "okay it's a toolkit based on the actor model written in Scala and Scala is a functional programming language that",
    "start": "462360",
    "end": "468660"
  },
  {
    "text": "runs on the Java virtual machine we use akka in many aspects of our development and operations for example when we need",
    "start": "468660",
    "end": "475560"
  },
  {
    "text": "to scale up our applications we rely on the AKA cluster and aqua cluster sharding modules it also helps with our",
    "start": "475560",
    "end": "482460"
  },
  {
    "text": "stateful applications which we have a few through the agapus instance module where it helps you save the state and",
    "start": "482460",
    "end": "490440"
  },
  {
    "text": "restore it when needed and we heavily utilize also their streaming tools Akash streams and hopaka because they provide",
    "start": "490440",
    "end": "496919"
  },
  {
    "text": "built-in back pressure back of retry capabilities and external connectors to",
    "start": "496919",
    "end": "502080"
  },
  {
    "text": "reliably uh interact with other Technologies the ecosystem has proven to",
    "start": "502080",
    "end": "507479"
  },
  {
    "text": "be performant and reliable enough to meet our needs uh so let's talk about a next scenario",
    "start": "507479",
    "end": "513120"
  },
  {
    "text": "that we need to deal with where we use some of these Technologies so normally uh our devices are connected to the",
    "start": "513120",
    "end": "519479"
  },
  {
    "text": "internet when they report their their data but sometimes there's some uh internet connectivity per Outreach due",
    "start": "519479",
    "end": "527160"
  },
  {
    "text": "to an internet service provider uh problem or a Wi-Fi study Connection in those cases the devices keep collecting",
    "start": "527160",
    "end": "533779"
  },
  {
    "text": "measurements and they basically buffer them locally uh when the connected connection is restored then they send",
    "start": "533779",
    "end": "541860"
  },
  {
    "text": "all the data to our servers generating more more load than expected then to",
    "start": "541860",
    "end": "547140"
  },
  {
    "text": "handle this scenario we use a combinations of tools we use Apache Kafka whoops we use a Apache Kafka to",
    "start": "547140",
    "end": "554519"
  },
  {
    "text": "store this data temporarily in a distributed topic and then we rely on the alpaca Kafka connector to consume",
    "start": "554519",
    "end": "562080"
  },
  {
    "text": "this data since we're using the aqua streams built-in back pressure like consuming services",
    "start": "562080",
    "end": "567740"
  },
  {
    "text": "do not consume all this data immediately but they do their best to consume as",
    "start": "567740",
    "end": "573540"
  },
  {
    "text": "fast as possible however that results in incrementing lag on our topic to",
    "start": "573540",
    "end": "580380"
  },
  {
    "text": "actually speed up this process we actually use kubernetes horizontal product or scalars or hpas where uh an",
    "start": "580380",
    "end": "588660"
  },
  {
    "text": "HPA monitor symmetric in this case lag and if it crosses a predefined threshold",
    "start": "588660",
    "end": "594540"
  },
  {
    "text": "it creates more Bots to help decrease the line as soon as possible once we have consumed all the lag the",
    "start": "594540",
    "end": "602760"
  },
  {
    "text": "hpas get rid of the unnecessary Bots and we go back to normal operation",
    "start": "602760",
    "end": "608399"
  },
  {
    "text": "so the service is in the platform are exposed through a set of standard apis",
    "start": "608399",
    "end": "614880"
  },
  {
    "text": "we have two flavors we do exposed services using rest the common rest architecture using HTTP 1.1 but we have",
    "start": "614880",
    "end": "622440"
  },
  {
    "text": "heavily ingested invested in grpc which in our experience offers some advantages",
    "start": "622440",
    "end": "628800"
  },
  {
    "text": "over the traditional rest architecture the main one is that uh service and and messages are contract based defined by",
    "start": "628800",
    "end": "635880"
  },
  {
    "text": "protobas that makes you sure that whatever messages your request and your",
    "start": "635880",
    "end": "641459"
  },
  {
    "text": "response are is what you are expecting also thanks to this contract-based solution there are tools to generate",
    "start": "641459",
    "end": "647360"
  },
  {
    "text": "code for both client and server that helps us move faster and don't repeat",
    "start": "647360",
    "end": "652920"
  },
  {
    "text": "ourselves by wasting time implementing that code also since we run grpc over",
    "start": "652920",
    "end": "658320"
  },
  {
    "text": "HTTP 2 HTTP 2 use has a better use of connections because it implements the",
    "start": "658320",
    "end": "664019"
  },
  {
    "text": "streaming and Multiplex it it is through these apis that the",
    "start": "664019",
    "end": "669480"
  },
  {
    "text": "platform allows other systems to provide higher order functions such as metric",
    "start": "669480",
    "end": "674579"
  },
  {
    "text": "dashboards it powers uis like the Tesla mobile app or other programs that run on",
    "start": "674579",
    "end": "680399"
  },
  {
    "text": "top of the platform like storm watch or the virtual power plan sometimes our platform Services need to",
    "start": "680399",
    "end": "687180"
  },
  {
    "start": "684000",
    "end": "1085000"
  },
  {
    "text": "interact with third parties as is the case with storm watch we rely on third parties to provide us with weather alerts that let us know which areas will",
    "start": "687180",
    "end": "693899"
  },
  {
    "text": "be affected by inclement weather these areas are designated either by a list of regions or by polygons can consist of",
    "start": "693899",
    "end": "700320"
  },
  {
    "text": "hundreds of latitude and longitudinal points we've abstracted away the processing on these incoming alerts to",
    "start": "700320",
    "end": "706620"
  },
  {
    "text": "an internal service we'll call a weather API and having this internal layer decouples the rest of our platform",
    "start": "706620",
    "end": "712200"
  },
  {
    "text": "services from our external data providers this means our data providers can be updated changed added or moved",
    "start": "712200",
    "end": "718260"
  },
  {
    "text": "and we have the flexibility to do all that without affecting our clients and our platform Services they maintain a",
    "start": "718260",
    "end": "723839"
  },
  {
    "text": "consistent data integration through our weather API another key functionality of our weather",
    "start": "723839",
    "end": "729300"
  },
  {
    "text": "API is transforming these various forms of geographic references into a standard format so we use the wkt or well-known",
    "start": "729300",
    "end": "736380"
  },
  {
    "text": "text format which is just the string representation of a geospatial object so what this might look like is this",
    "start": "736380",
    "end": "743339"
  },
  {
    "text": "for the hurricane warning that we saw earlier so this is an example of a wkt polygon",
    "start": "743339",
    "end": "748920"
  },
  {
    "text": "from the context of our storm watch service we are constantly polling weather API for these active alerts",
    "start": "748920",
    "end": "754560"
  },
  {
    "text": "I'm going to talk a little bit about the architecture of our storm watch service so it's running on multiple pods and kubernetes that form a single service we",
    "start": "754560",
    "end": "761880"
  },
  {
    "text": "model individual customer batteries as actors and actors are objects that contain some State and will communicate",
    "start": "761880",
    "end": "767940"
  },
  {
    "text": "with asynchronous message passing these battery installation actors are distributed across the pods in our",
    "start": "767940",
    "end": "773820"
  },
  {
    "text": "clustered application we utilize the akka framework here to support our actor system it abstracts the way the need for",
    "start": "773820",
    "end": "779700"
  },
  {
    "text": "us to create and handle our own Lots in order to prevent concurrency and race conditions when reading and writing to",
    "start": "779700",
    "end": "786060"
  },
  {
    "text": "the state of these distributed actors it also supports location transparency and this is the concept that the sender of a",
    "start": "786060",
    "end": "792660"
  },
  {
    "text": "message to one of these individual entities doesn't need to know the physical location of that actor or what",
    "start": "792660",
    "end": "798300"
  },
  {
    "text": "pod it is running on and this is really helpful the way we pull for weather alerts is",
    "start": "798300",
    "end": "803700"
  },
  {
    "text": "with actually a Singleton actors that means there's only one running on all of the plots and only single pod in the",
    "start": "803700",
    "end": "809459"
  },
  {
    "text": "cluster and this is because we really only need to get the alerts once and then can then distribute them amongst the affected",
    "start": "809459",
    "end": "816240"
  },
  {
    "text": "actors it's really important that our actors can handle alert duplications updates",
    "start": "816240",
    "end": "822600"
  },
  {
    "text": "and create creations and cancellations this requires individual battery actors to maintain some State and again this is",
    "start": "822600",
    "end": "829860"
  },
  {
    "text": "very important because there's Downstream impacts in the real world such as notifications and then battery",
    "start": "829860",
    "end": "835380"
  },
  {
    "text": "control plans so going back to our hurricane Ian story we've detected an alert that's been",
    "start": "835380",
    "end": "841019"
  },
  {
    "text": "picked up in our weather API it's constructed a standardized format for any of our services to consume our storm",
    "start": "841019",
    "end": "846540"
  },
  {
    "text": "watch service has then picked it up in its next polling cycle next up is how to determine which batteries are actually",
    "start": "846540",
    "end": "851940"
  },
  {
    "text": "going to be affected by the spider alert to do that we utilize optimized geosearch queries in our asset service",
    "start": "851940",
    "end": "857940"
  },
  {
    "text": "so our access asset service is backed by a postgres database and uses post GIS",
    "start": "857940",
    "end": "863579"
  },
  {
    "text": "which is a space geospatial database extender um and so here we have this incoming",
    "start": "863579",
    "end": "870180"
  },
  {
    "text": "alert and we're going to focus on the hurricane warning so this red polygon right here this is the wkt polygon that",
    "start": "870180",
    "end": "876540"
  },
  {
    "text": "we saw earlier and it's pretty complex our initial approach was to use this direct wkt polygon that's pretty complex",
    "start": "876540",
    "end": "883860"
  },
  {
    "text": "and do a direct intersection query in our asset database however these queries were taking a very long time they were",
    "start": "883860",
    "end": "890339"
  },
  {
    "text": "taking resources away from our concurrent queries so this query was getting canceled and due to the",
    "start": "890339",
    "end": "896399"
  },
  {
    "text": "replication routine happening in the database so instead of utilizing this complex polygon we instead decided to",
    "start": "896399",
    "end": "903240"
  },
  {
    "text": "use an approximate polygon so this is the 2D bounding box surrounding the complex polygon that we saw earlier this",
    "start": "903240",
    "end": "909779"
  },
  {
    "text": "was much much quicker post GIS works really well with rectangular polygons and uses index only scans so it means it",
    "start": "909779",
    "end": "916260"
  },
  {
    "text": "doesn't have to go to the buffer cache or to disk to retrieve the index it's right there in memory so this would",
    "start": "916260",
    "end": "921360"
  },
  {
    "text": "return the installation batteries much much quicker however we now face an issue where we",
    "start": "921360",
    "end": "926579"
  },
  {
    "text": "might have some false positives so we might have some sites that fall within our approximate query that don't follow in with our original direct complex",
    "start": "926579",
    "end": "933060"
  },
  {
    "text": "polygon sites like this one so we implemented a process client-side that",
    "start": "933060",
    "end": "938579"
  },
  {
    "text": "iterate through these installation candidates that came back from our approximate query and would then filter out the ones that don't fall into the",
    "start": "938579",
    "end": "945839"
  },
  {
    "text": "complex query you might be wondering why is it faster to do in this two-step process",
    "start": "945839",
    "end": "951000"
  },
  {
    "text": "or getting the same result these same batteries are being returned in this two-step process that would have been",
    "start": "951000",
    "end": "956639"
  },
  {
    "text": "returned to be done all this in our database with our original complex direct query that's because this final",
    "start": "956639",
    "end": "962519"
  },
  {
    "text": "process to iterate through each installation battery and determine if it intersects with a complex query takes a",
    "start": "962519",
    "end": "968160"
  },
  {
    "text": "lot of CPU when that CPU is being used in our database node and is taking CPU away from concurrent",
    "start": "968160",
    "end": "974339"
  },
  {
    "text": "concurrent queries that were coming from the rest of our platform services so we move that to a stateless process we can",
    "start": "974339",
    "end": "980579"
  },
  {
    "text": "then scale this stateless process horizontally or per pod and that's much easier than having to continuously",
    "start": "980579",
    "end": "987000"
  },
  {
    "text": "update uh upsize our database which is why we now have this multi-step process",
    "start": "987000",
    "end": "992699"
  },
  {
    "text": "so now that we've resolved the installations that are actually affected by this incoming alert you can then",
    "start": "992699",
    "end": "997920"
  },
  {
    "text": "message them and let them know so then they can make independent control decisions based off each installation's",
    "start": "997920",
    "end": "1003980"
  },
  {
    "text": "system capabilities and customer preferences and now that we've found out each of these actors is processing in",
    "start": "1003980",
    "end": "1010519"
  },
  {
    "text": "parallel using streaming so that means that one slow site is not going to affect another one's site",
    "start": "1010519",
    "end": "1016399"
  },
  {
    "text": "dispatch and we use this system to ensure that our customers can have backup support",
    "start": "1016399",
    "end": "1021980"
  },
  {
    "text": "when they need it the most this is an example of the mobile app during an active storm we can see the",
    "start": "1021980",
    "end": "1028819"
  },
  {
    "text": "battery is charging from the grid and storm watch is active notifying our users why their battery is behaving this",
    "start": "1028819",
    "end": "1034459"
  },
  {
    "text": "way some key takeaways here is if you can abstract interfaces of external data",
    "start": "1034459",
    "end": "1040579"
  },
  {
    "text": "providers to an internal service and this decouples the rest of your platform services from external providers and",
    "start": "1040579",
    "end": "1046339"
  },
  {
    "text": "prevents data provider lock-in are being limited to your external data provider's interface geosearches and other queries",
    "start": "1046339",
    "end": "1053240"
  },
  {
    "text": "can be expensive if you can switch to a multi-step approach and move out CPU intensive tasks to a stateless service",
    "start": "1053240",
    "end": "1059960"
  },
  {
    "text": "it's much more scalable and in order message processing in clustered environments or distributed environments",
    "start": "1059960",
    "end": "1065720"
  },
  {
    "text": "can take extra considerations utilize the actor system to enable us to decide when we want to have parallel processing",
    "start": "1065720",
    "end": "1072140"
  },
  {
    "text": "as is the case with each of our individual battery actors processing per site capabilities and when we went",
    "start": "1072140",
    "end": "1079340"
  },
  {
    "text": "to handle things only once per cluster and in a serialized format as we do with our weather polling",
    "start": "1079340",
    "end": "1085700"
  },
  {
    "text": "and storm watch has proven to increase individual energy security for thousands of customers but we're gonna strive for",
    "start": "1085700",
    "end": "1091580"
  },
  {
    "text": "more we know there is local value in having in a residential battery but how can we take that local value and provide",
    "start": "1091580",
    "end": "1098900"
  },
  {
    "text": "energy security for entire communities um power outages caused by grid stress",
    "start": "1098900",
    "end": "1104900"
  },
  {
    "text": "like it happened during the California Heat Wave are a bit different than the ones that are happening due to damage to",
    "start": "1104900",
    "end": "1111919"
  },
  {
    "text": "physical infrastructure like it happened during the hurricane Ian they are basically deficit in the amount of",
    "start": "1111919",
    "end": "1117679"
  },
  {
    "text": "available energy so if we can provide an interface for customers that have the battery systems that can store energy",
    "start": "1117679",
    "end": "1124580"
  },
  {
    "text": "and utilities who have who need the support then we can basically let",
    "start": "1124580",
    "end": "1130100"
  },
  {
    "text": "customers opt-in and and and support the grid critical I'm sorry Tesla is in a unique",
    "start": "1130100",
    "end": "1137660"
  },
  {
    "text": "position to provide this value the platform uh that controls the batteries is already in place and we can send",
    "start": "1137660",
    "end": "1146600"
  },
  {
    "text": "control plans to them so Tesla is the actual critical link between the",
    "start": "1146600",
    "end": "1151880"
  },
  {
    "text": "utilities that need the support and the customers who can provide this value",
    "start": "1151880",
    "end": "1158240"
  },
  {
    "text": "as we showed earlier uh when we see a graph like this we are all in trouble there might be blackouts and those uh",
    "start": "1158240",
    "end": "1164900"
  },
  {
    "text": "can be problematic so the first thing that we need to do to help the grid is",
    "start": "1164900",
    "end": "1170900"
  },
  {
    "text": "identify who can help the grid we do that by allowing eligible customers to join emergency grid support programs and",
    "start": "1170900",
    "end": "1178280"
  },
  {
    "text": "we do that through the mobile app which is an app that they already own uh and that the thing is you know very Noble we",
    "start": "1178280",
    "end": "1185600"
  },
  {
    "text": "know that utilities are normally not moving as fast as technology companies do but in this cases it is critical that",
    "start": "1185600",
    "end": "1193160"
  },
  {
    "text": "we move together fast to be able to support the grid",
    "start": "1193160",
    "end": "1198620"
  },
  {
    "text": "um also for customers that are participating in these events they are getting some compensation for it",
    "start": "1198620",
    "end": "1206480"
  },
  {
    "text": "so our software builds upon the same foundational energy platform uh where uh",
    "start": "1206480",
    "end": "1212299"
  },
  {
    "text": "we were using that we were using for the stopwatch feature one critical component for our virtual",
    "start": "1212299",
    "end": "1218600"
  },
  {
    "text": "power plants program is to basically identify uh on group different",
    "start": "1218600",
    "end": "1224600"
  },
  {
    "text": "installations based on their utility instead of the geographic region so we",
    "start": "1224600",
    "end": "1230120"
  },
  {
    "text": "have an available tool in our platform to do that and it's called hierarchies a hierarchy is a logical way to group",
    "start": "1230120",
    "end": "1236419"
  },
  {
    "text": "installation based on a common characteristic or feature you can think about it as a way to tag a group of",
    "start": "1236419",
    "end": "1242539"
  },
  {
    "text": "installations um these installations or these groups are identified by a single identifier and it",
    "start": "1242539",
    "end": "1250160"
  },
  {
    "text": "is through this identifier enough platform where you can resolve which installations below to belong to that",
    "start": "1250160",
    "end": "1255260"
  },
  {
    "text": "particular group The hierarchies tool also allows you to aggregate groups into a larger group creating a multi-layer",
    "start": "1255260",
    "end": "1262100"
  },
  {
    "text": "three-like schema hierarchies also bring fine-grained",
    "start": "1262100",
    "end": "1267200"
  },
  {
    "text": "security into picture because Asset Services can provide or denied access based on the group identifier",
    "start": "1267200",
    "end": "1273440"
  },
  {
    "text": "as we mentioned earlier Asset Services are rely on postgres to store all the",
    "start": "1273440",
    "end": "1279679"
  },
  {
    "text": "asset data but in this particular case they use the L3 extension instead of the",
    "start": "1279679",
    "end": "1285799"
  },
  {
    "text": "post GIS extension the L3 extension it's an extension for postgres that allows you to manage and query efficiently a",
    "start": "1285799",
    "end": "1292820"
  },
  {
    "text": "tree like a structure so let's see an example so we can create a really simple table that we will call a hierarchy",
    "start": "1292820",
    "end": "1299179"
  },
  {
    "text": "which only with only one column that will be called path of the type L3 then we can insert some sample values here in",
    "start": "1299179",
    "end": "1306320"
  },
  {
    "text": "the sample values we can see that the L3 operate oh sorry and the L3 extension uses the dot uh as the connector between",
    "start": "1306320",
    "end": "1314360"
  },
  {
    "text": "nodes in the in the tree so how can we actually get children of a given node",
    "start": "1314360",
    "end": "1319400"
  },
  {
    "text": "industry then the L3 extension provides a new operator the less than at uh that",
    "start": "1319400",
    "end": "1326600"
  },
  {
    "text": "allows you to query for those children in this example we can get what are the installations under the north California",
    "start": "1326600",
    "end": "1332179"
  },
  {
    "text": "VPP a label group also we might want to know uh what are all the groups that a",
    "start": "1332179",
    "end": "1337760"
  },
  {
    "text": "particular installation belong to then we need to basically query for parents the way we do this is by joining",
    "start": "1337760",
    "end": "1344419"
  },
  {
    "text": "the table with with itself and then use the other provided operator that is ADD",
    "start": "1344419",
    "end": "1349580"
  },
  {
    "text": "greater than in the context of our BPP programs uh",
    "start": "1349580",
    "end": "1356059"
  },
  {
    "text": "our enrollment flow also relies on the hierarchy stable where each group represents a state in the enrollment",
    "start": "1356059",
    "end": "1363860"
  },
  {
    "text": "flow from a label to pending to enroll all",
    "start": "1363860",
    "end": "1369440"
  },
  {
    "text": "these transitions are actually recorded by making requests to Asset Services and also if a customer decides to no longer",
    "start": "1369440",
    "end": "1376159"
  },
  {
    "text": "participate in one of the in these programs then the enrollment flow will make the the appropriate request to",
    "start": "1376159",
    "end": "1382280"
  },
  {
    "text": "Asset Services to remove their installations from those groups you might be wondering why we decided to",
    "start": "1382280",
    "end": "1388340"
  },
  {
    "text": "run this enrollment flow with our hierarchies instead of a simpler tagging solution hierarchies was an already",
    "start": "1388340",
    "end": "1394640"
  },
  {
    "text": "available solution in our platform and at the California BPP program had to be developed in a very short period of time",
    "start": "1394640",
    "end": "1400460"
  },
  {
    "text": "so we were able to reuse a solution to this particular case also the enrollment",
    "start": "1400460",
    "end": "1405740"
  },
  {
    "text": "flow now can be reused for future programs having these well-defined segregated",
    "start": "1405740",
    "end": "1412159"
  },
  {
    "text": "groups also helps us reach out to customers depending on their needs for example this is a notification a",
    "start": "1412159",
    "end": "1417980"
  },
  {
    "text": "customer will receive if they are in the legible group and they have not yet enroll or a notification that a customer",
    "start": "1417980",
    "end": "1424760"
  },
  {
    "text": "at a Hassan role will receive if there's an a schedule event in the near future",
    "start": "1424760",
    "end": "1430700"
  },
  {
    "text": "thanks to this multi-layer hierarchy approach we can identify what are all the installations under a whole program",
    "start": "1430700",
    "end": "1437659"
  },
  {
    "text": "by creating a group hiring the hierarchy that contains all the enrollment groups",
    "start": "1437659",
    "end": "1443240"
  },
  {
    "text": "under it now that we have identified uh who can",
    "start": "1443240",
    "end": "1448400"
  },
  {
    "text": "help the grid then we can use the same digital twin architecture that we were using for a storm watch to",
    "start": "1448400",
    "end": "1454940"
  },
  {
    "text": "um Track event changes and customer participation changes in this case",
    "start": "1454940",
    "end": "1459980"
  },
  {
    "text": "instead of getting events from weather providers we get events from our relationship with the grid operators",
    "start": "1459980",
    "end": "1466340"
  },
  {
    "text": "and once we get an event we basically resolve which installations can help support the grid",
    "start": "1466340",
    "end": "1473900"
  },
  {
    "text": "and dispatch control plans to them in this case the control plans have two",
    "start": "1473900",
    "end": "1480080"
  },
  {
    "text": "phases the first phase is to charge the battery as much as you can during off-peak hours and the the second phase",
    "start": "1480080",
    "end": "1487039"
  },
  {
    "text": "is to discharge during the event until the duration of the event or until the",
    "start": "1487039",
    "end": "1492740"
  },
  {
    "text": "battery hits its backup percent limit when we combine our hierarchies tool",
    "start": "1492740",
    "end": "1499039"
  },
  {
    "start": "1496000",
    "end": "1590000"
  },
  {
    "text": "with our Telemetry pipelines we can get aggregated energy data for any given",
    "start": "1499039",
    "end": "1504500"
  },
  {
    "text": "group uh in the context of our bbps this can show what is the total contribution",
    "start": "1504500",
    "end": "1509600"
  },
  {
    "text": "that a particular group is discharging into the Grid in this particular view",
    "start": "1509600",
    "end": "1514820"
  },
  {
    "text": "that a customer that has enrolled and it's actually participating on one of these events the customer will be able",
    "start": "1514820",
    "end": "1521659"
  },
  {
    "text": "to see their contribution which is like 3.1 kilowatts but that what is the total",
    "start": "1521659",
    "end": "1527960"
  },
  {
    "text": "contribution highlighting that they are part of a larger Community impact during the California Heatwave events",
    "start": "1527960",
    "end": "1535100"
  },
  {
    "text": "there were multiple dispatching events and we were able to pick 33 megawatts which is the small part the the same",
    "start": "1535100",
    "end": "1541940"
  },
  {
    "text": "power of a small bigger plan this was thanks to over 4 500 customers",
    "start": "1541940",
    "end": "1548539"
  },
  {
    "text": "who enrolled in this Tesla uh emergency great support programs that allowed",
    "start": "1548539",
    "end": "1554659"
  },
  {
    "text": "Tesla and utilities to preemptively charge the batteries and discharge them during times of high demand and these",
    "start": "1554659",
    "end": "1562520"
  },
  {
    "text": "customers were compensated two dollars per kilowatt hour discharged to the grid",
    "start": "1562520",
    "end": "1568840"
  },
  {
    "text": "Tesla BBB programs uh created the largest distributed battery in the world to help keep California's energy",
    "start": "1568940",
    "end": "1577240"
  },
  {
    "text": "clean and reliable providing and engaging user experience",
    "start": "1577240",
    "end": "1583039"
  },
  {
    "text": "where customers have the agency to feel that they are part of something larger",
    "start": "1583039",
    "end": "1588080"
  },
  {
    "text": "and larger than the installation so some takeaways here uh hierarchies as",
    "start": "1588080",
    "end": "1593539"
  },
  {
    "start": "1590000",
    "end": "1914000"
  },
  {
    "text": "a multi-level tagging and security tool that it allows you to identify quickly",
    "start": "1593539",
    "end": "1599320"
  },
  {
    "text": "entities through the LT L3 extension reusability we're big fans of reusing",
    "start": "1599320",
    "end": "1605659"
  },
  {
    "text": "components and make them uh generic so we can move and deliver faster",
    "start": "1605659",
    "end": "1611120"
  },
  {
    "text": "sure notice trigger events uh requires you to do as much pre-processing as possible to ensure a successful outcome",
    "start": "1611120",
    "end": "1618380"
  },
  {
    "text": "in our case understanding who can participate in these programs and dynamic programs like virtual power plan",
    "start": "1618380",
    "end": "1625720"
  },
  {
    "text": "actually need reactive processes and applications that are need to provide",
    "start": "1625720",
    "end": "1631640"
  },
  {
    "text": "value at any given moment and handle any adversal scenarios such as devices becoming offline or customers enrolling",
    "start": "1631640",
    "end": "1639559"
  },
  {
    "text": "or unenrolling at any given moment the Tesla virtual power plan storm watch",
    "start": "1639559",
    "end": "1645440"
  },
  {
    "text": "features are critical user-facing app overflow perspective are complete",
    "start": "1645440",
    "end": "1651559"
  },
  {
    "text": "opposites but from a software perspective are actually quite similar the three cap how both these features",
    "start": "1651559",
    "end": "1656900"
  },
  {
    "text": "work for both features we need to detect discrete events we need to resolve which",
    "start": "1656900",
    "end": "1662900"
  },
  {
    "text": "homes are affected we need to run arbitration and decision making to determine if these batteries are capable",
    "start": "1662900",
    "end": "1668779"
  },
  {
    "text": "and should participate in the event leads or notify our customers and we need to actually communicate to the",
    "start": "1668779",
    "end": "1674779"
  },
  {
    "text": "battery their respective control plans we can already see the duality in these two features basically two sides of the",
    "start": "1674779",
    "end": "1681679"
  },
  {
    "text": "same coin and behind powering both these feature experiences is the same application this enables our customers",
    "start": "1681679",
    "end": "1689000"
  },
  {
    "text": "to both enroll in our virtual power plant programs at the same time they can enable the storm watch feature to ensure",
    "start": "1689000",
    "end": "1695059"
  },
  {
    "text": "they have the independent energy security and having this reuse of this same",
    "start": "1695059",
    "end": "1700700"
  },
  {
    "text": "architecture allows us to save re-implementation of common logic and common Integrations this also provides a",
    "start": "1700700",
    "end": "1707840"
  },
  {
    "text": "clean space for when we need to do event arbitration so when we do have conflicting storm watch events with our",
    "start": "1707840",
    "end": "1713480"
  },
  {
    "text": "virtual power plant events we can utilize the fact that these customer battery actors already need to store",
    "start": "1713480",
    "end": "1719600"
  },
  {
    "text": "some state to support each independent feature they need to be able to hand and handle feature alert updates",
    "start": "1719600",
    "end": "1725419"
  },
  {
    "text": "cancellations duplications as mentioned earlier so that's all that's required to support conflicting events is to add",
    "start": "1725419",
    "end": "1731779"
  },
  {
    "text": "minimal logic into these existing actor entities to then respect customer priorities",
    "start": "1731779",
    "end": "1738020"
  },
  {
    "text": "so all I have to do is add a simple experience in the mobile app to give our customers control and agency over",
    "start": "1738020",
    "end": "1743179"
  },
  {
    "text": "exactly how they want their battery to be used in such scenarios it's a very Dynamic and a very bursty",
    "start": "1743179",
    "end": "1749659"
  },
  {
    "text": "system so when we have events going on it's very very active there's a lot of messaging thing happening between the",
    "start": "1749659",
    "end": "1755179"
  },
  {
    "text": "mobile app and external events hours very con relatively calm at all",
    "start": "1755179",
    "end": "1760220"
  },
  {
    "text": "other times and this is a system that you can't shed load when it's very active and we have a lot of load is when",
    "start": "1760220",
    "end": "1765980"
  },
  {
    "text": "it's very critical this is when our customers need us the most so ways we handle this is utilizing reactive",
    "start": "1765980",
    "end": "1771559"
  },
  {
    "text": "streaming Concepts throughout the system and with how we interact with our Downstream services so this includes",
    "start": "1771559",
    "end": "1777020"
  },
  {
    "text": "back off free tries back pressure and throttling we also utilize parallelization between",
    "start": "1777020",
    "end": "1783260"
  },
  {
    "text": "the actors as I mentioned earlier so once we fan out each individual battery actor entity those processes and",
    "start": "1783260",
    "end": "1790100"
  },
  {
    "text": "streaming is happening in parallel and this way one offline device is not going to slow down or stop another customer's",
    "start": "1790100",
    "end": "1796279"
  },
  {
    "text": "experience additionally we made sure that this application was horizontally scalable",
    "start": "1796279",
    "end": "1801559"
  },
  {
    "text": "so these actors are persistent and cluster sharded so that means they'll store their state in a persistence data",
    "start": "1801559",
    "end": "1807919"
  },
  {
    "text": "store that we use backed by the akka framework again so then when we spin up new pods to handle and distribute load",
    "start": "1807919",
    "end": "1814340"
  },
  {
    "text": "new pods or these actor entities could then move over to that new pod and use those new resources",
    "start": "1814340",
    "end": "1820820"
  },
  {
    "text": "and this allows us to scale to meet our growing user base another key thing to notice is that",
    "start": "1820820",
    "end": "1826880"
  },
  {
    "text": "these battery installation actors also support the mobile app experience so these digital twins that really",
    "start": "1826880",
    "end": "1832760"
  },
  {
    "text": "represent the physical batteries of an owner they can then see the state of them right there in the mobile app and as they make changes they can opt in and",
    "start": "1832760",
    "end": "1839179"
  },
  {
    "text": "out of individual events programs as a whole and update that priority and that will get sent down to their battery and",
    "start": "1839179",
    "end": "1845299"
  },
  {
    "text": "then reflected back in the mobile app showing them the state of their system in real time and then this again enables",
    "start": "1845299",
    "end": "1851059"
  },
  {
    "text": "them to have unique control over how they want their battery to be used at any time enabling them for their own use",
    "start": "1851059",
    "end": "1856820"
  },
  {
    "text": "cases like this customer was able to opt out of an individual storm event because you already had full full capacity based",
    "start": "1856820",
    "end": "1863120"
  },
  {
    "text": "off his access solar at his own home so some takeaways here is design Upfront",
    "start": "1863120",
    "end": "1869000"
  },
  {
    "text": "for horizontal scalability we took the time initially to implement persistent Quest actors and this gives us",
    "start": "1869000",
    "end": "1875899"
  },
  {
    "text": "the the freedom to know that we can just update upscale our application horizontally when we need to reactive",
    "start": "1875899",
    "end": "1883100"
  },
  {
    "text": "streaming concepts are very critical when you have Dynamic inversity systems that can't shed load so that back off free tries throttling back pressure are",
    "start": "1883100",
    "end": "1890360"
  },
  {
    "text": "very critical give control to your customers through great mobile app experiences or other integrated user",
    "start": "1890360",
    "end": "1896299"
  },
  {
    "text": "experiences this allows you to have simpler Logic on your own backend systems and don't be afraid to use",
    "start": "1896299",
    "end": "1901820"
  },
  {
    "text": "toolkits to help in building these distributed systems we are supported by akka but you can also implement uh",
    "start": "1901820",
    "end": "1908480"
  },
  {
    "text": "similar things in erlang OTP and other functional programming toolkits",
    "start": "1908480",
    "end": "1914720"
  },
  {
    "start": "1914000",
    "end": "1973000"
  },
  {
    "text": "so with the increasing capabilities of the edge devices where those keep having like more memory and more CPU these days",
    "start": "1914720",
    "end": "1922039"
  },
  {
    "text": "uh some of you might wonder why we're running this decision making and arbitration in the cloud instead of in",
    "start": "1922039",
    "end": "1927320"
  },
  {
    "text": "the devices themselves um they're actually pros and cons for both approaches but since what we're",
    "start": "1927320",
    "end": "1934880"
  },
  {
    "text": "interested in it is in actually move faster we can iterate faster at the cloud than at the edge that helps us",
    "start": "1934880",
    "end": "1941899"
  },
  {
    "text": "create new features quickly and mature these existing problems quicker in",
    "start": "1941899",
    "end": "1947120"
  },
  {
    "text": "addition we have the luxury and I say the luxury because I'm not sure how many companies have that luxury to have",
    "start": "1947120",
    "end": "1952580"
  },
  {
    "text": "vertical integration when we manage both the cloud software and the edge software",
    "start": "1952580",
    "end": "1958279"
  },
  {
    "text": "so we can selectively send down pieces of our logic to our Edge where we will",
    "start": "1958279",
    "end": "1964940"
  },
  {
    "text": "leave those could make a better impact and help expand our programs our and features",
    "start": "1964940",
    "end": "1971179"
  },
  {
    "text": "so what is next traditionally our customers have thought",
    "start": "1971179",
    "end": "1976760"
  },
  {
    "start": "1973000",
    "end": "2104000"
  },
  {
    "text": "about batteries or residential batteries a way to only increase individual energy",
    "start": "1976760",
    "end": "1981860"
  },
  {
    "text": "security with this new virtual power plant programs uh there is a paradigm",
    "start": "1981860",
    "end": "1987200"
  },
  {
    "text": "still and known to many uh this expansive possibilities so as these",
    "start": "1987200",
    "end": "1993380"
  },
  {
    "text": "things are becoming more popular the interest is actually growing so is this the way to think about batteries in the",
    "start": "1993380",
    "end": "1999500"
  },
  {
    "text": "future we don't believe so we think it is the way to think about Paris right now",
    "start": "1999500",
    "end": "2004600"
  },
  {
    "text": "we believe that right now are in an educational period utilities and customers are learning about these",
    "start": "2004600",
    "end": "2012580"
  },
  {
    "text": "programs and as these programs are becoming more widespread more people want to become part of them",
    "start": "2012580",
    "end": "2019779"
  },
  {
    "text": "thanks to the California Heatwave event we were able to Showcase that this is a",
    "start": "2019779",
    "end": "2025960"
  },
  {
    "text": "real uh use case for batteries and there's a high potential to grow and scale and also uh from the software",
    "start": "2025960",
    "end": "2033820"
  },
  {
    "text": "perspective a battery either small or large is the same to manage this very",
    "start": "2033820",
    "end": "2039220"
  },
  {
    "text": "fact actually opens the possibility to expand new to expand current programs and create new ones",
    "start": "2039220",
    "end": "2045580"
  },
  {
    "text": "so it is thanks to the combination of smart connected devices such as batteries coupled with reliable Cloud",
    "start": "2045580",
    "end": "2051878"
  },
  {
    "text": "software such as the test now we continue pushing the limits to increase energy security both",
    "start": "2051879",
    "end": "2058240"
  },
  {
    "text": "individually and collectively to increase increasing quality of life accelerating the world's transition to",
    "start": "2058240",
    "end": "2064599"
  },
  {
    "text": "sustainable energy if you're interested in learning more about the Tesla virtual power plants or the Tesla energy",
    "start": "2064599",
    "end": "2070300"
  },
  {
    "text": "platform we highly recommend our colleagues Colin Breck and Percy Link's talk that they gave at qcon London in",
    "start": "2070300",
    "end": "2075638"
  },
  {
    "text": "2020. and then if you're interested in helping solving hard real world problems helping",
    "start": "2075639",
    "end": "2081580"
  },
  {
    "text": "increase energy security and supporting the grid while accelerating the transition to a sustainable world please",
    "start": "2081580",
    "end": "2087220"
  },
  {
    "text": "come join us at Tesla thank you thank you if you have any questions please email information",
    "start": "2087220",
    "end": "2093960"
  },
  {
    "text": "[Music]",
    "start": "2096750",
    "end": "2099929"
  }
]