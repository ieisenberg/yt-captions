[
  {
    "text": "my name is Mark chew Carol I work for",
    "start": "11630",
    "end": "14570"
  },
  {
    "text": "foursquare and I'm talking about a an",
    "start": "14570",
    "end": "20630"
  },
  {
    "text": "alternative build tool that we've been",
    "start": "20630",
    "end": "22220"
  },
  {
    "text": "working on called pants and the goal of",
    "start": "22220",
    "end": "25400"
  },
  {
    "text": "pants is to improve what we call code",
    "start": "25400",
    "end": "28430"
  },
  {
    "text": "hygiene okay so to start off this is",
    "start": "28430",
    "end": "33410"
  },
  {
    "text": "probably somewhat unusual for this this",
    "start": "33410",
    "end": "35690"
  },
  {
    "text": "conference but this is not really a talk",
    "start": "35690",
    "end": "37880"
  },
  {
    "text": "about Scotland what this is is to talk",
    "start": "37880",
    "end": "41270"
  },
  {
    "text": "about solving the problems that we came",
    "start": "41270",
    "end": "43550"
  },
  {
    "text": "across in using Scala in our system so",
    "start": "43550",
    "end": "47810"
  },
  {
    "text": "you know what's happened to us is Scala",
    "start": "47810",
    "end": "50780"
  },
  {
    "text": "gives us a lot of really great stuff you",
    "start": "50780",
    "end": "53540"
  },
  {
    "text": "know parametric types with variants",
    "start": "53540",
    "end": "55160"
  },
  {
    "text": "implicit type classes all of that",
    "start": "55160",
    "end": "57560"
  },
  {
    "text": "wonderful stuff but as Dan noted in the",
    "start": "57560",
    "end": "61190"
  },
  {
    "text": "keynote this morning that stuff has a",
    "start": "61190",
    "end": "62870"
  },
  {
    "text": "real implication in build time and we",
    "start": "62870",
    "end": "66710"
  },
  {
    "text": "need to control that cost in order to in",
    "start": "66710",
    "end": "69650"
  },
  {
    "text": "order to be able to successfully build a",
    "start": "69650",
    "end": "72140"
  },
  {
    "text": "system so the background at Foursquare",
    "start": "72140",
    "end": "76520"
  },
  {
    "text": "our entire server is implemented in",
    "start": "76520",
    "end": "78469"
  },
  {
    "text": "Scala and I you know I can't tell you",
    "start": "78469",
    "end": "82130"
  },
  {
    "text": "exactly how big our code bases but it's",
    "start": "82130",
    "end": "84229"
  },
  {
    "text": "well over a hundred thousand lines of",
    "start": "84229",
    "end": "85789"
  },
  {
    "text": "code it's over 2,000 source files and",
    "start": "85789",
    "end": "88909"
  },
  {
    "text": "they're split up around five hundred or",
    "start": "88909",
    "end": "92240"
  },
  {
    "text": "so packages when we started this we used",
    "start": "92240",
    "end": "95539"
  },
  {
    "text": "SBT for builds and our clean bill times",
    "start": "95539",
    "end": "99679"
  },
  {
    "text": "in other words building fresh code was",
    "start": "99679",
    "end": "102979"
  },
  {
    "text": "averaging between 40 minutes and an hour",
    "start": "102979",
    "end": "105759"
  },
  {
    "text": "and this was on a massive machine I mean",
    "start": "105759",
    "end": "110060"
  },
  {
    "text": "the highest end laptops that we could",
    "start": "110060",
    "end": "112130"
  },
  {
    "text": "get 16 gigabytes of memory SSD disks",
    "start": "112130",
    "end": "115579"
  },
  {
    "text": "four cores with hyper-threading and",
    "start": "115579",
    "end": "117560"
  },
  {
    "text": "still we were talking about you know 40",
    "start": "117560",
    "end": "120229"
  },
  {
    "text": "to 60 minute build times and to make it",
    "start": "120229",
    "end": "123709"
  },
  {
    "text": "worse almost any time that we changed",
    "start": "123709",
    "end": "127009"
  },
  {
    "text": "any source file in the system we'd have",
    "start": "127009",
    "end": "129709"
  },
  {
    "text": "to recompile over a thousand Pat over a",
    "start": "129709",
    "end": "131990"
  },
  {
    "text": "thousand different source files just you",
    "start": "131990",
    "end": "135140"
  },
  {
    "text": "know just to get that incremental build",
    "start": "135140",
    "end": "136670"
  },
  {
    "text": "and so our incremental builds were over",
    "start": "136670",
    "end": "139250"
  },
  {
    "text": "half an hour and you know it's very hard",
    "start": "139250",
    "end": "141500"
  },
  {
    "text": "for engineers to be productive",
    "start": "141500",
    "end": "143530"
  },
  {
    "text": "every time they want to compile the code",
    "start": "143530",
    "end": "145270"
  },
  {
    "text": "they have to sit and watch their",
    "start": "145270",
    "end": "147640"
  },
  {
    "text": "computer thrash for 30 minutes why this",
    "start": "147640",
    "end": "151660"
  },
  {
    "text": "happened this is just a very small",
    "start": "151660",
    "end": "154260"
  },
  {
    "text": "excerpt of the dependency graph from our",
    "start": "154260",
    "end": "156940"
  },
  {
    "text": "system I can't fit the whole graph on",
    "start": "156940",
    "end": "159220"
  },
  {
    "text": "our on this screen and this is so small",
    "start": "159220",
    "end": "162280"
  },
  {
    "text": "if you kind of look in the upper right",
    "start": "162280",
    "end": "163750"
  },
  {
    "text": "corner there's a little text box that's",
    "start": "163750",
    "end": "166090"
  },
  {
    "text": "the name of one of the components so you",
    "start": "166090",
    "end": "169390"
  },
  {
    "text": "know so in what what caused this this",
    "start": "169390",
    "end": "173590"
  },
  {
    "text": "epic disaster it's not a particularly",
    "start": "173590",
    "end": "177190"
  },
  {
    "text": "large code base 100,000 lines 150,000",
    "start": "177190",
    "end": "180940"
  },
  {
    "text": "lines that's not small but that's not",
    "start": "180940",
    "end": "183340"
  },
  {
    "text": "huge and if you did this in Java you'd",
    "start": "183340",
    "end": "186700"
  },
  {
    "text": "have a five-minute compile and you're",
    "start": "186700",
    "end": "188920"
  },
  {
    "text": "probably complain about it taking five",
    "start": "188920",
    "end": "190780"
  },
  {
    "text": "whole minutes so you know what happened",
    "start": "190780",
    "end": "193690"
  },
  {
    "text": "here and in a part of it is just the",
    "start": "193690",
    "end": "196750"
  },
  {
    "text": "fact that type analysis in Scala is very",
    "start": "196750",
    "end": "200080"
  },
  {
    "text": "complex and you know when we",
    "start": "200080",
    "end": "201760"
  },
  {
    "text": "instrumented things trying to figure out",
    "start": "201760",
    "end": "203440"
  },
  {
    "text": "where the time was going almost all of",
    "start": "203440",
    "end": "205989"
  },
  {
    "text": "that bill time is type analysis but the",
    "start": "205989",
    "end": "209470"
  },
  {
    "text": "second problem which was which was a",
    "start": "209470",
    "end": "212079"
  },
  {
    "text": "major factor was that that build graph",
    "start": "212079",
    "end": "214120"
  },
  {
    "text": "as you saw that that crazy hair ball it",
    "start": "214120",
    "end": "217360"
  },
  {
    "text": "was basically a giant click so that if",
    "start": "217360",
    "end": "220390"
  },
  {
    "text": "you changed anything you had to",
    "start": "220390",
    "end": "222040"
  },
  {
    "text": "recompile absolutely everything in the",
    "start": "222040",
    "end": "224799"
  },
  {
    "text": "system and you know when when type",
    "start": "224799",
    "end": "227530"
  },
  {
    "text": "analysis time is exponential on the size",
    "start": "227530",
    "end": "229930"
  },
  {
    "text": "of the type graph having a dependency",
    "start": "229930",
    "end": "231970"
  },
  {
    "text": "graph like that means that you have a",
    "start": "231970",
    "end": "234040"
  },
  {
    "text": "pretty darn big thing that's good and",
    "start": "234040",
    "end": "236019"
  },
  {
    "text": "you know that you have to analyze an",
    "start": "236019",
    "end": "238140"
  },
  {
    "text": "exponential time speed so you know the",
    "start": "238140",
    "end": "241870"
  },
  {
    "text": "term for what's going on inside of there",
    "start": "241870",
    "end": "243549"
  },
  {
    "text": "is is poor build hygiene so what do we",
    "start": "243549",
    "end": "248650"
  },
  {
    "text": "mean by build hiding this is not a term",
    "start": "248650",
    "end": "251470"
  },
  {
    "text": "I invented this is kind of used a lot",
    "start": "251470",
    "end": "254769"
  },
  {
    "text": "among people who build build tools but",
    "start": "254769",
    "end": "256510"
  },
  {
    "text": "the basic idea is in your build tool you",
    "start": "256510",
    "end": "260049"
  },
  {
    "text": "have to declare what you use so every",
    "start": "260049",
    "end": "262780"
  },
  {
    "text": "buildable and entity which we call",
    "start": "262780",
    "end": "265510"
  },
  {
    "text": "targets in our system have to be",
    "start": "265510",
    "end": "267610"
  },
  {
    "text": "declared and they have to be typed",
    "start": "267610",
    "end": "270449"
  },
  {
    "text": "every target has to declare ahead of",
    "start": "270449",
    "end": "273419"
  },
  {
    "text": "time exactly what it's going to depend",
    "start": "273419",
    "end": "275129"
  },
  {
    "text": "on and then using that information the",
    "start": "275129",
    "end": "278430"
  },
  {
    "text": "build system is going to verify",
    "start": "278430",
    "end": "280710"
  },
  {
    "text": "correctness it's going to check that",
    "start": "280710",
    "end": "283189"
  },
  {
    "text": "everything every dependency is actually",
    "start": "283189",
    "end": "285809"
  },
  {
    "text": "declared and the compilations will fail",
    "start": "285809",
    "end": "287550"
  },
  {
    "text": "if they're not it will check that the",
    "start": "287550",
    "end": "289559"
  },
  {
    "text": "dependency graph is a cichlid and we'll",
    "start": "289559",
    "end": "293669"
  },
  {
    "text": "verify that things depend on the right",
    "start": "293669",
    "end": "296129"
  },
  {
    "text": "kinds of things so you can't declare a",
    "start": "296129",
    "end": "298740"
  },
  {
    "text": "dependency from Scala on C++ code you",
    "start": "298740",
    "end": "302909"
  },
  {
    "text": "could declare it on a J&I library but",
    "start": "302909",
    "end": "305370"
  },
  {
    "text": "you can't declare it directly on C++",
    "start": "305370",
    "end": "307169"
  },
  {
    "text": "code because that wouldn't mean anything",
    "start": "307169",
    "end": "308430"
  },
  {
    "text": "that would be an invalid thick a quick",
    "start": "308430",
    "end": "313710"
  },
  {
    "text": "explanation of you know why is this",
    "start": "313710",
    "end": "314999"
  },
  {
    "text": "build hygiene stuff so important I like",
    "start": "314999",
    "end": "318089"
  },
  {
    "text": "to compare it to what we do in our",
    "start": "318089",
    "end": "320009"
  },
  {
    "text": "programming languages in our programming",
    "start": "320009",
    "end": "322529"
  },
  {
    "text": "languages we enforce code hygiene we say",
    "start": "322529",
    "end": "325289"
  },
  {
    "text": "that you have especially in you know",
    "start": "325289",
    "end": "326939"
  },
  {
    "text": "Scala types like us you have to declare",
    "start": "326939",
    "end": "329460"
  },
  {
    "text": "the types of things and then the",
    "start": "329460",
    "end": "331259"
  },
  {
    "text": "compiler is going to tell you if you do",
    "start": "331259",
    "end": "332939"
  },
  {
    "text": "it wrong you have to declare everything",
    "start": "332939",
    "end": "335969"
  },
  {
    "text": "that you import and the compiler is",
    "start": "335969",
    "end": "338069"
  },
  {
    "text": "going to tell you if you didn't import",
    "start": "338069",
    "end": "339689"
  },
  {
    "text": "something so build hygiene is very much",
    "start": "339689",
    "end": "342659"
  },
  {
    "text": "the same kind of thing but apply to",
    "start": "342659",
    "end": "344430"
  },
  {
    "text": "build time instead of applied to the pro",
    "start": "344430",
    "end": "347310"
  },
  {
    "text": "to the actual code of the system so",
    "start": "347310",
    "end": "349800"
  },
  {
    "text": "declare your pack of dependencies",
    "start": "349800",
    "end": "351659"
  },
  {
    "text": "enforce rules and make sure that they",
    "start": "351659",
    "end": "354479"
  },
  {
    "text": "cause errors if you get them wrong so",
    "start": "354479",
    "end": "356520"
  },
  {
    "text": "that you know you got it wrong so to",
    "start": "356520",
    "end": "359550"
  },
  {
    "text": "explain the build tool that we're using",
    "start": "359550",
    "end": "361649"
  },
  {
    "text": "a little bit of background there are two",
    "start": "361649",
    "end": "365069"
  },
  {
    "text": "fundamental approaches to how you can",
    "start": "365069",
    "end": "367199"
  },
  {
    "text": "build things they're called top-down and",
    "start": "367199",
    "end": "369120"
  },
  {
    "text": "bottom-up top-down is basically what",
    "start": "369120",
    "end": "371969"
  },
  {
    "text": "you're used to in in most build systems",
    "start": "371969",
    "end": "375209"
  },
  {
    "text": "so you have a project which is some",
    "start": "375209",
    "end": "377849"
  },
  {
    "text": "hierarchy of directories and files on a",
    "start": "377849",
    "end": "381959"
  },
  {
    "text": "disk it's got one thing off to the side",
    "start": "381959",
    "end": "384930"
  },
  {
    "text": "that says how to build the project so",
    "start": "384930",
    "end": "387479"
  },
  {
    "text": "inside of there you have the single",
    "start": "387479",
    "end": "389219"
  },
  {
    "text": "centralized set of instructions for how",
    "start": "389219",
    "end": "391080"
  },
  {
    "text": "to build and inside of there in some",
    "start": "391080",
    "end": "393539"
  },
  {
    "text": "form it says essentially here's a",
    "start": "393539",
    "end": "396300"
  },
  {
    "text": "project that I want to build here's",
    "start": "396300",
    "end": "398550"
  },
  {
    "text": "where you can find all the pieces you",
    "start": "398550",
    "end": "399930"
  },
  {
    "text": "know there's the source code there's",
    "start": "399930",
    "end": "402330"
  },
  {
    "text": "you know there's the tests they're all",
    "start": "402330",
    "end": "404610"
  },
  {
    "text": "over the and here the external things it",
    "start": "404610",
    "end": "407490"
  },
  {
    "text": "thinks not in my source code that I",
    "start": "407490",
    "end": "408990"
  },
  {
    "text": "depend on now please build it for me and",
    "start": "408990",
    "end": "411539"
  },
  {
    "text": "this is what SBT may then builder lots",
    "start": "411539",
    "end": "415409"
  },
  {
    "text": "of things like that do the bottom up",
    "start": "415409",
    "end": "418500"
  },
  {
    "text": "built is very different in a bottom-up",
    "start": "418500",
    "end": "421469"
  },
  {
    "text": "build you don't really have a top level",
    "start": "421469",
    "end": "423210"
  },
  {
    "text": "build file there is no single place that",
    "start": "423210",
    "end": "425879"
  },
  {
    "text": "has instructions for how to build your",
    "start": "425879",
    "end": "428039"
  },
  {
    "text": "system what you have instead is in each",
    "start": "428039",
    "end": "430949"
  },
  {
    "text": "package you have instructions for how to",
    "start": "430949",
    "end": "433530"
  },
  {
    "text": "build that component and then when you",
    "start": "433530",
    "end": "437550"
  },
  {
    "text": "try and do a build all of those",
    "start": "437550",
    "end": "439469"
  },
  {
    "text": "instructions are assembled by the build",
    "start": "439469",
    "end": "441449"
  },
  {
    "text": "tool so the basic idea of the bottom-up",
    "start": "441449",
    "end": "445650"
  },
  {
    "text": "build is the bill description is",
    "start": "445650",
    "end": "448500"
  },
  {
    "text": "distributed around the code each unit of",
    "start": "448500",
    "end": "451110"
  },
  {
    "text": "code each component each package in",
    "start": "451110",
    "end": "454169"
  },
  {
    "text": "whatever you choose to use it has a bill",
    "start": "454169",
    "end": "456900"
  },
  {
    "text": "descriptor just describing how to build",
    "start": "456900",
    "end": "458849"
  },
  {
    "text": "that component the bill descriptor",
    "start": "458849",
    "end": "461580"
  },
  {
    "text": "specify the other packages in in the",
    "start": "461580",
    "end": "464610"
  },
  {
    "text": "code that they depend on and the bill",
    "start": "464610",
    "end": "467250"
  },
  {
    "text": "tool uses that to assemble a complete",
    "start": "467250",
    "end": "469169"
  },
  {
    "text": "graph of everything in order to run the",
    "start": "469169",
    "end": "471029"
  },
  {
    "text": "built because you have this",
    "start": "471029",
    "end": "473940"
  },
  {
    "text": "componentized build instructions where",
    "start": "473940",
    "end": "476879"
  },
  {
    "text": "each component declares us dependencies",
    "start": "476879",
    "end": "478949"
  },
  {
    "text": "it becomes very easy for the bill tool",
    "start": "478949",
    "end": "481199"
  },
  {
    "text": "to say you're you're using something",
    "start": "481199",
    "end": "485789"
  },
  {
    "text": "that you shouldn't write it's much",
    "start": "485789",
    "end": "487740"
  },
  {
    "text": "easier for it to enforce your hygiene",
    "start": "487740",
    "end": "490680"
  },
  {
    "text": "rules then it would be with a",
    "start": "490680",
    "end": "493500"
  },
  {
    "text": "centralized so in a bottom-up build what",
    "start": "493500",
    "end": "497639"
  },
  {
    "text": "happens when you want to run actually",
    "start": "497639",
    "end": "500099"
  },
  {
    "text": "build a system the user has to specify a",
    "start": "500099",
    "end": "502800"
  },
  {
    "text": "list of the compilation targets they're",
    "start": "502800",
    "end": "504599"
  },
  {
    "text": "interested in the system generates a",
    "start": "504599",
    "end": "507479"
  },
  {
    "text": "transitive dependency graph for those",
    "start": "507479",
    "end": "509400"
  },
  {
    "text": "targets so it looks at the build file",
    "start": "509400",
    "end": "511860"
  },
  {
    "text": "for the target you wanted and anything",
    "start": "511860",
    "end": "514919"
  },
  {
    "text": "that it declares as a dependency it",
    "start": "514919",
    "end": "517260"
  },
  {
    "text": "loads those build descriptions and it",
    "start": "517260",
    "end": "520380"
  },
  {
    "text": "combines that into a dag a graph of the",
    "start": "520380",
    "end": "524670"
  },
  {
    "text": "build things that need to be built it",
    "start": "524670",
    "end": "528240"
  },
  {
    "text": "topologically sorts it to get a build",
    "start": "528240",
    "end": "530190"
  },
  {
    "text": "order once the graph has been built and",
    "start": "530190",
    "end": "532980"
  },
  {
    "text": "sordid it",
    "start": "532980",
    "end": "534209"
  },
  {
    "text": "for validity to make sure that you know",
    "start": "534209",
    "end": "536249"
  },
  {
    "text": "you're following the hygiene rules",
    "start": "536249",
    "end": "537569"
  },
  {
    "text": "properly and then it reverses the top",
    "start": "537569",
    "end": "540509"
  },
  {
    "text": "sort of graft one piece at a time",
    "start": "540509",
    "end": "542929"
  },
  {
    "text": "building the components so the build",
    "start": "542929",
    "end": "547949"
  },
  {
    "text": "tool that we use is called pants and",
    "start": "547949",
    "end": "550559"
  },
  {
    "text": "this was originally implement",
    "start": "550559",
    "end": "552119"
  },
  {
    "text": "implemented at Twitter and we have an ex",
    "start": "552119",
    "end": "556529"
  },
  {
    "text": "Twitter engineer who knew about this",
    "start": "556529",
    "end": "558209"
  },
  {
    "text": "which is how we got into it it is",
    "start": "558209",
    "end": "560759"
  },
  {
    "text": "unfortunately implemented in Python",
    "start": "560759",
    "end": "562610"
  },
  {
    "text": "which is painful but the fact is it",
    "start": "562610",
    "end": "567149"
  },
  {
    "text": "works and it was easier to build on",
    "start": "567149",
    "end": "570179"
  },
  {
    "text": "something that existed then to start",
    "start": "570179",
    "end": "571829"
  },
  {
    "text": "from scratch it's based on blaze you",
    "start": "571829",
    "end": "574709"
  },
  {
    "text": "know we can't really take credit for any",
    "start": "574709",
    "end": "576300"
  },
  {
    "text": "of the ideas in this because an X Google",
    "start": "576300",
    "end": "582119"
  },
  {
    "text": "person went to Twitter and missed blaze",
    "start": "582119",
    "end": "584670"
  },
  {
    "text": "started this and then you know it came",
    "start": "584670",
    "end": "588449"
  },
  {
    "text": "out in the interest of disclosure i was",
    "start": "588449",
    "end": "591869"
  },
  {
    "text": "at Google at one point and I did work on",
    "start": "591869",
    "end": "593519"
  },
  {
    "text": "blaze so I'm strongly biased in favor of",
    "start": "593519",
    "end": "596100"
  },
  {
    "text": "the style of build but basically pants",
    "start": "596100",
    "end": "599069"
  },
  {
    "text": "is a very nice little tool it gives a",
    "start": "599069",
    "end": "602040"
  },
  {
    "text": "very clean declarative build language",
    "start": "602040",
    "end": "604290"
  },
  {
    "text": "and it makes it really easy to do this",
    "start": "604290",
    "end": "606360"
  },
  {
    "text": "kind of hygiene stuff which was just",
    "start": "606360",
    "end": "608959"
  },
  {
    "text": "incredibly important for us so this is",
    "start": "608959",
    "end": "612480"
  },
  {
    "text": "this is basically what a build file",
    "start": "612480",
    "end": "614309"
  },
  {
    "text": "looks like in pants this is a very",
    "start": "614309",
    "end": "616679"
  },
  {
    "text": "simple example but basically you put",
    "start": "616679",
    "end": "619860"
  },
  {
    "text": "this in a file named build in a",
    "start": "619860",
    "end": "622290"
  },
  {
    "text": "directory with the code and this says I",
    "start": "622290",
    "end": "625350"
  },
  {
    "text": "want to build a skala library I want it",
    "start": "625350",
    "end": "628649"
  },
  {
    "text": "to be referred to by the target name lib",
    "start": "628649",
    "end": "630449"
  },
  {
    "text": "to it depends on this other package",
    "start": "630449",
    "end": "633959"
  },
  {
    "text": "that's that explicit dependencies and",
    "start": "633959",
    "end": "636559"
  },
  {
    "text": "the source files are everything that's",
    "start": "636559",
    "end": "639029"
  },
  {
    "text": "in this directory the syntax is a little",
    "start": "639029",
    "end": "642059"
  },
  {
    "text": "weird like that globs line because this",
    "start": "642059",
    "end": "644579"
  },
  {
    "text": "is actual executable Python in in the",
    "start": "644579",
    "end": "648420"
  },
  {
    "text": "build file for a slightly more",
    "start": "648420",
    "end": "651420"
  },
  {
    "text": "interesting example you can declare",
    "start": "651420",
    "end": "653459"
  },
  {
    "text": "lists of source files and then again",
    "start": "653459",
    "end": "656519"
  },
  {
    "text": "here's here's a scholar library it",
    "start": "656519",
    "end": "659040"
  },
  {
    "text": "declares dependencies it declares the",
    "start": "659040",
    "end": "660990"
  },
  {
    "text": "sources or the indenting is off there",
    "start": "660990",
    "end": "663029"
  },
  {
    "text": "there are two different scala libraries",
    "start": "663029",
    "end": "664499"
  },
  {
    "text": "here",
    "start": "664499",
    "end": "664980"
  },
  {
    "text": "sorry you can see right down here can",
    "start": "664980",
    "end": "667740"
  },
  {
    "text": "you see the pointer up there this is the",
    "start": "667740",
    "end": "669510"
  },
  {
    "text": "second one this should have been back",
    "start": "669510",
    "end": "670800"
  },
  {
    "text": "dented and finally one more example this",
    "start": "670800",
    "end": "673949"
  },
  {
    "text": "is from pants own build file or building",
    "start": "673949",
    "end": "676889"
  },
  {
    "text": "itself and it's just a short excerpt but",
    "start": "676889",
    "end": "681600"
  },
  {
    "text": "you can kind of get a sense of how it",
    "start": "681600",
    "end": "683370"
  },
  {
    "text": "works so you have different kinds of",
    "start": "683370",
    "end": "684839"
  },
  {
    "text": "targets its target has its own set of",
    "start": "684839",
    "end": "688320"
  },
  {
    "text": "components inside a pants for building",
    "start": "688320",
    "end": "691519"
  },
  {
    "text": "so so you know in terms of of using",
    "start": "691519",
    "end": "697560"
  },
  {
    "text": "pants you know there were a bunch of",
    "start": "697560",
    "end": "700740"
  },
  {
    "text": "problems that we had to solve in order",
    "start": "700740",
    "end": "702240"
  },
  {
    "text": "to make this work and you know the most",
    "start": "702240",
    "end": "705510"
  },
  {
    "text": "interesting ones obviously our technical",
    "start": "705510",
    "end": "707130"
  },
  {
    "text": "one of the first things was that",
    "start": "707130",
    "end": "710120"
  },
  {
    "text": "incremental Scala compilation the main",
    "start": "710120",
    "end": "712680"
  },
  {
    "text": "thing that does that is SBT we were",
    "start": "712680",
    "end": "715050"
  },
  {
    "text": "trying to get away from SBT because you",
    "start": "715050",
    "end": "718019"
  },
  {
    "text": "know SBT uses this monolithic build",
    "start": "718019",
    "end": "720060"
  },
  {
    "text": "approach and we want enforceable",
    "start": "720060",
    "end": "721680"
  },
  {
    "text": "dependencies wednesday checking and the",
    "start": "721680",
    "end": "725339"
  },
  {
    "text": "way that pants compile once to compile",
    "start": "725339",
    "end": "727589"
  },
  {
    "text": "things in the way that scala c or zinc",
    "start": "727589",
    "end": "729779"
  },
  {
    "text": "actually wants to compile things can be",
    "start": "729779",
    "end": "731760"
  },
  {
    "text": "different at times so we really had to",
    "start": "731760",
    "end": "734430"
  },
  {
    "text": "struggle with that there were a bunch of",
    "start": "734430",
    "end": "736949"
  },
  {
    "text": "things we have to do to get the",
    "start": "736949",
    "end": "738329"
  },
  {
    "text": "performance of pants to a point where we",
    "start": "738329",
    "end": "740069"
  },
  {
    "text": "could use it but the biggest thing is",
    "start": "740069",
    "end": "742490"
  },
  {
    "text": "there are cycles in our dependency graph",
    "start": "742490",
    "end": "745290"
  },
  {
    "text": "in the code and these were perfectly",
    "start": "745290",
    "end": "747870"
  },
  {
    "text": "acceptable in SBT but when we won't",
    "start": "747870",
    "end": "750870"
  },
  {
    "text": "build hygiene that doesn't work because",
    "start": "750870",
    "end": "754110"
  },
  {
    "text": "the hygienic build graph hygienic",
    "start": "754110",
    "end": "757440"
  },
  {
    "text": "dependency graph is a cyclic so we had",
    "start": "757440",
    "end": "760620"
  },
  {
    "text": "to figure out how to rearrange our code",
    "start": "760620",
    "end": "763459"
  },
  {
    "text": "in order to get rid of cyclic",
    "start": "763459",
    "end": "766230"
  },
  {
    "text": "dependencies and this is generally",
    "start": "766230",
    "end": "768449"
  },
  {
    "text": "doable but it can be a bit of work but",
    "start": "768449",
    "end": "770940"
  },
  {
    "text": "as as I'll mention in a little while it",
    "start": "770940",
    "end": "773130"
  },
  {
    "text": "really does pay off but so you know a",
    "start": "773130",
    "end": "775260"
  },
  {
    "text": "quick example of what I mean by a",
    "start": "775260",
    "end": "777180"
  },
  {
    "text": "necessary cycle you know we have some",
    "start": "777180",
    "end": "780180"
  },
  {
    "text": "basic data types that we work with for",
    "start": "780180",
    "end": "782850"
  },
  {
    "text": "our application you know in Foursquare",
    "start": "782850",
    "end": "785459"
  },
  {
    "text": "users check in to say where they've been",
    "start": "785459",
    "end": "788010"
  },
  {
    "text": "and then we save information about where",
    "start": "788010",
    "end": "790380"
  },
  {
    "text": "they've been so that we can make",
    "start": "790380",
    "end": "791459"
  },
  {
    "text": "recommendations to them for where they",
    "start": "791459",
    "end": "793529"
  },
  {
    "text": "should go later",
    "start": "793529",
    "end": "794899"
  },
  {
    "text": "so a user has the method to retrieve a",
    "start": "794899",
    "end": "797869"
  },
  {
    "text": "list of that users check-ins a check-in",
    "start": "797869",
    "end": "800839"
  },
  {
    "text": "is an object that associates a user with",
    "start": "800839",
    "end": "804139"
  },
  {
    "text": "a venue a location where they were when",
    "start": "804139",
    "end": "806089"
  },
  {
    "text": "they checked in and a venue is able to",
    "start": "806089",
    "end": "808579"
  },
  {
    "text": "say you're able to ask a venue who's",
    "start": "808579",
    "end": "811279"
  },
  {
    "text": "checked in here so you know this is a",
    "start": "811279",
    "end": "813139"
  },
  {
    "text": "cycle there's you know the way that we",
    "start": "813139",
    "end": "817369"
  },
  {
    "text": "had to get around this was by separating",
    "start": "817369",
    "end": "820220"
  },
  {
    "text": "data from behavior and this is a very",
    "start": "820220",
    "end": "822559"
  },
  {
    "text": "classic hygienic technique to break",
    "start": "822559",
    "end": "825230"
  },
  {
    "text": "these dependencies you have to split the",
    "start": "825230",
    "end": "827779"
  },
  {
    "text": "behavior and the data into distinct",
    "start": "827779",
    "end": "830269"
  },
  {
    "text": "traits so what we did was we split user",
    "start": "830269",
    "end": "833480"
  },
  {
    "text": "into multiple substrates there is a user",
    "start": "833480",
    "end": "837550"
  },
  {
    "text": "trait which just defines the data fields",
    "start": "837550",
    "end": "841069"
  },
  {
    "text": "of a user object there's a behavior",
    "start": "841069",
    "end": "844129"
  },
  {
    "text": "object which is the actual",
    "start": "844129",
    "end": "845720"
  },
  {
    "text": "implementation or the actual declaration",
    "start": "845720",
    "end": "847339"
  },
  {
    "text": "of the operations that we want to be",
    "start": "847339",
    "end": "849889"
  },
  {
    "text": "able to do on user and we have a",
    "start": "849889",
    "end": "852079"
  },
  {
    "text": "concrete user info object which actually",
    "start": "852079",
    "end": "854029"
  },
  {
    "text": "has all the implementation of the",
    "start": "854029",
    "end": "855740"
  },
  {
    "text": "behaviors and accesses the data fields",
    "start": "855740",
    "end": "858999"
  },
  {
    "text": "what this gives us is you know the user",
    "start": "858999",
    "end": "862759"
  },
  {
    "text": "model it doesn't depend on check-ins or",
    "start": "862759",
    "end": "865610"
  },
  {
    "text": "venues at all I'm sorry that should be",
    "start": "865610",
    "end": "867860"
  },
  {
    "text": "just used or not user model the user",
    "start": "867860",
    "end": "870439"
  },
  {
    "text": "implementation depends on the check-in",
    "start": "870439",
    "end": "872420"
  },
  {
    "text": "model but it doesn't I'm sorry on the",
    "start": "872420",
    "end": "875240"
  },
  {
    "text": "check-in trait the interface sorry this",
    "start": "875240",
    "end": "877519"
  },
  {
    "text": "is based on an older version of the code",
    "start": "877519",
    "end": "878959"
  },
  {
    "text": "than the current but it doesn't have to",
    "start": "878959",
    "end": "882230"
  },
  {
    "text": "depend on the behavior of venue or the",
    "start": "882230",
    "end": "884540"
  },
  {
    "text": "behavior of check-in so the user itself",
    "start": "884540",
    "end": "887209"
  },
  {
    "text": "doesn't have to depend on much of",
    "start": "887209",
    "end": "888379"
  },
  {
    "text": "anything the user behavior has to depend",
    "start": "888379",
    "end": "891470"
  },
  {
    "text": "on just the data types for the venues",
    "start": "891470",
    "end": "895009"
  },
  {
    "text": "and check-ins that it needs to be able",
    "start": "895009",
    "end": "896329"
  },
  {
    "text": "to access and the actual behavior",
    "start": "896329",
    "end": "898759"
  },
  {
    "text": "implementation kind of depends on",
    "start": "898759",
    "end": "900170"
  },
  {
    "text": "everything but nothing depends on it so",
    "start": "900170",
    "end": "902449"
  },
  {
    "text": "we've broken the dependency cycle so you",
    "start": "902449",
    "end": "904790"
  },
  {
    "text": "can kind of just see the structure that",
    "start": "904790",
    "end": "906949"
  },
  {
    "text": "I'm talking about here we took user and",
    "start": "906949",
    "end": "910299"
  },
  {
    "text": "turned it into a pure interface that",
    "start": "910299",
    "end": "912589"
  },
  {
    "text": "only declares data fields we created a",
    "start": "912589",
    "end": "915319"
  },
  {
    "text": "behavioral interface which actually can",
    "start": "915319",
    "end": "917899"
  },
  {
    "text": "reference other types and then we have",
    "start": "917899",
    "end": "920509"
  },
  {
    "text": "the actual implementations of it",
    "start": "920509",
    "end": "923900"
  },
  {
    "text": "okay the other really big thing that we",
    "start": "923900",
    "end": "928140"
  },
  {
    "text": "had to deal with was was a social factor",
    "start": "928140",
    "end": "931490"
  },
  {
    "text": "this is a very different approach to how",
    "start": "931490",
    "end": "934590"
  },
  {
    "text": "you build systems then people are",
    "start": "934590",
    "end": "937140"
  },
  {
    "text": "normally familiar with excuse me and you",
    "start": "937140",
    "end": "941820"
  },
  {
    "text": "know for example right now you know in",
    "start": "941820",
    "end": "943860"
  },
  {
    "text": "in SBT when we were doing that you",
    "start": "943860",
    "end": "947700"
  },
  {
    "text": "typically say SBT compile and that was",
    "start": "947700",
    "end": "950280"
  },
  {
    "text": "it it would build everything it's a",
    "start": "950280",
    "end": "952410"
  },
  {
    "text": "guess BTW test it would run your tests",
    "start": "952410",
    "end": "955370"
  },
  {
    "text": "with a bottom-up build you don't have",
    "start": "955370",
    "end": "958020"
  },
  {
    "text": "that you have to say what targets you",
    "start": "958020",
    "end": "961080"
  },
  {
    "text": "want to use and that's a big change",
    "start": "961080",
    "end": "963720"
  },
  {
    "text": "because now there's this piece of",
    "start": "963720",
    "end": "965250"
  },
  {
    "text": "knowledge about the way that the build",
    "start": "965250",
    "end": "967170"
  },
  {
    "text": "tool is going to work which becomes",
    "start": "967170",
    "end": "969420"
  },
  {
    "text": "essential knowledge for everyone working",
    "start": "969420",
    "end": "971220"
  },
  {
    "text": "on the system and you know that that",
    "start": "971220",
    "end": "974630"
  },
  {
    "text": "took some some effort to get people to",
    "start": "974630",
    "end": "977880"
  },
  {
    "text": "accept the other really big thing was",
    "start": "977880",
    "end": "983100"
  },
  {
    "text": "our code could not build in a hygienic",
    "start": "983100",
    "end": "987150"
  },
  {
    "text": "build system because it had all of these",
    "start": "987150",
    "end": "990720"
  },
  {
    "text": "cycles so we had to do an absolutely",
    "start": "990720",
    "end": "993480"
  },
  {
    "text": "massive refactoring effort just to clean",
    "start": "993480",
    "end": "996030"
  },
  {
    "text": "that dependency graph in order to get it",
    "start": "996030",
    "end": "998580"
  },
  {
    "text": "to the point where it could be built",
    "start": "998580",
    "end": "999660"
  },
  {
    "text": "hygienic Lee so the point of all this",
    "start": "999660",
    "end": "1004280"
  },
  {
    "text": "was try and speed everything up we got",
    "start": "1004280",
    "end": "1006560"
  },
  {
    "text": "an average bill Justin that just",
    "start": "1006560",
    "end": "1008500"
  },
  {
    "text": "immediately after starting to use pants",
    "start": "1008500",
    "end": "1010850"
  },
  {
    "text": "as soon as we got the coat cleaned up",
    "start": "1010850",
    "end": "1013010"
  },
  {
    "text": "enough that we could do a hygienic build",
    "start": "1013010",
    "end": "1014600"
  },
  {
    "text": "in it we managed to drop our build time",
    "start": "1014600",
    "end": "1016820"
  },
  {
    "text": "by more than half the dependency graph",
    "start": "1016820",
    "end": "1019910"
  },
  {
    "text": "click now this is this is up to date as",
    "start": "1019910",
    "end": "1023690"
  },
  {
    "text": "of this past week the dependency graph",
    "start": "1023690",
    "end": "1026300"
  },
  {
    "text": "click used to be hundreds and hundreds",
    "start": "1026300",
    "end": "1028730"
  },
  {
    "text": "of files it's now down to 38 which is",
    "start": "1028730",
    "end": "1033280"
  },
  {
    "text": "just mind-boggling improvement and we've",
    "start": "1033280",
    "end": "1036589"
  },
  {
    "text": "got the typical incremental build so if",
    "start": "1036590",
    "end": "1038689"
  },
  {
    "text": "you change something and run a bill an",
    "start": "1038690",
    "end": "1041300"
  },
  {
    "text": "average it takes about six minutes to do",
    "start": "1041300",
    "end": "1043250"
  },
  {
    "text": "the build and say that was about 30",
    "start": "1043250",
    "end": "1045500"
  },
  {
    "text": "minutes before we",
    "start": "1045500",
    "end": "1046569"
  },
  {
    "text": "this so this was a huge huge result and",
    "start": "1046569",
    "end": "1051029"
  },
  {
    "text": "all of that performance gain really is",
    "start": "1051029",
    "end": "1054190"
  },
  {
    "text": "coming from the fact that the size of",
    "start": "1054190",
    "end": "1056620"
  },
  {
    "text": "the graph the size of the type graph",
    "start": "1056620",
    "end": "1058570"
  },
  {
    "text": "that the Scala compiler has to look at",
    "start": "1058570",
    "end": "1061120"
  },
  {
    "text": "is drastically drastically smaller so",
    "start": "1061120",
    "end": "1067269"
  },
  {
    "text": "what we get out of doing this crazy",
    "start": "1067269",
    "end": "1069549"
  },
  {
    "text": "thing you know we got bill times down",
    "start": "1069549",
    "end": "1072039"
  },
  {
    "text": "and they're still getting better but a",
    "start": "1072039",
    "end": "1075190"
  },
  {
    "text": "side benefit is with SBT the way that we",
    "start": "1075190",
    "end": "1080110"
  },
  {
    "text": "were using it essentially we had one",
    "start": "1080110",
    "end": "1082509"
  },
  {
    "text": "build you would say SBT compile and that",
    "start": "1082509",
    "end": "1084580"
  },
  {
    "text": "was it but now we have a system where",
    "start": "1084580",
    "end": "1087639"
  },
  {
    "text": "people can say I want to compile just my",
    "start": "1087639",
    "end": "1090399"
  },
  {
    "text": "component and they can actually do that",
    "start": "1090399",
    "end": "1092889"
  },
  {
    "text": "now very easily it's a very natural",
    "start": "1092889",
    "end": "1094779"
  },
  {
    "text": "thing to do and we're kind of trying to",
    "start": "1094779",
    "end": "1098620"
  },
  {
    "text": "turn our system into many smaller",
    "start": "1098620",
    "end": "1100539"
  },
  {
    "text": "components this just makes it easier to",
    "start": "1100539",
    "end": "1102940"
  },
  {
    "text": "do that as we move along the big",
    "start": "1102940",
    "end": "1106360"
  },
  {
    "text": "question was it worth doing and to be",
    "start": "1106360",
    "end": "1109419"
  },
  {
    "text": "honest for bill tons maybe not i'm not",
    "start": "1109419",
    "end": "1112269"
  },
  {
    "text": "sure but the fact is what really changed",
    "start": "1112269",
    "end": "1116230"
  },
  {
    "text": "the bill times was the refactoring what",
    "start": "1116230",
    "end": "1118750"
  },
  {
    "text": "pants gave us was a way of checking that",
    "start": "1118750",
    "end": "1123519"
  },
  {
    "text": "we were getting that refactoring right",
    "start": "1123519",
    "end": "1125980"
  },
  {
    "text": "you know in SBT if we were trying to",
    "start": "1125980",
    "end": "1128919"
  },
  {
    "text": "change it to reduce dependencies and we",
    "start": "1128919",
    "end": "1131200"
  },
  {
    "text": "accidentally you know didn't didn't",
    "start": "1131200",
    "end": "1133899"
  },
  {
    "text": "change the code in the right way to get",
    "start": "1133899",
    "end": "1135549"
  },
  {
    "text": "rid of one that would have been very",
    "start": "1135549",
    "end": "1137139"
  },
  {
    "text": "hard to detect because it just isn't",
    "start": "1137139",
    "end": "1139330"
  },
  {
    "text": "built to be able to check things like",
    "start": "1139330",
    "end": "1141580"
  },
  {
    "text": "that so you know it made it easier to do",
    "start": "1141580",
    "end": "1145240"
  },
  {
    "text": "what we had to do but it wasn't really",
    "start": "1145240",
    "end": "1147399"
  },
  {
    "text": "the thing that produced the results but",
    "start": "1147399",
    "end": "1149740"
  },
  {
    "text": "in terms of the maintainability of our",
    "start": "1149740",
    "end": "1151809"
  },
  {
    "text": "code I think this was absolutely a huge",
    "start": "1151809",
    "end": "1155169"
  },
  {
    "text": "benefit we have much more macho Lawrence",
    "start": "1155169",
    "end": "1158169"
  },
  {
    "text": "code now and we can enforce that kind of",
    "start": "1158169",
    "end": "1160840"
  },
  {
    "text": "modularity and that is a huge thing it",
    "start": "1160840",
    "end": "1165039"
  },
  {
    "text": "would be very hard you know we have 50",
    "start": "1165039",
    "end": "1169120"
  },
  {
    "text": "or 60 server engineers to enforce rules",
    "start": "1169120",
    "end": "1172990"
  },
  {
    "text": "about how you can use dependency",
    "start": "1172990",
    "end": "1175059"
  },
  {
    "text": "is among 50 or 60 people using a",
    "start": "1175059",
    "end": "1177940"
  },
  {
    "text": "strictly informal approach is it just is",
    "start": "1177940",
    "end": "1181090"
  },
  {
    "text": "intractable this tool makes it possible",
    "start": "1181090",
    "end": "1183460"
  },
  {
    "text": "for us to do that come on the obvious",
    "start": "1183460",
    "end": "1189279"
  },
  {
    "text": "question that you know sure people were",
    "start": "1189279",
    "end": "1191649"
  },
  {
    "text": "going to ask was couldn't we just have",
    "start": "1191649",
    "end": "1193450"
  },
  {
    "text": "done this with SBT and the answer is",
    "start": "1193450",
    "end": "1195669"
  },
  {
    "text": "well yeah we could but it would be",
    "start": "1195669",
    "end": "1198519"
  },
  {
    "text": "harder you know just just because SBT",
    "start": "1198519",
    "end": "1202120"
  },
  {
    "text": "wasn't really designed to solve this",
    "start": "1202120",
    "end": "1203830"
  },
  {
    "text": "problem you know obviously from my bias",
    "start": "1203830",
    "end": "1207999"
  },
  {
    "text": "I prefer the pants approach to building",
    "start": "1207999",
    "end": "1210249"
  },
  {
    "text": "but I'm not saying that SBT is a stupid",
    "start": "1210249",
    "end": "1213309"
  },
  {
    "text": "tool that no one should use but if if",
    "start": "1213309",
    "end": "1215649"
  },
  {
    "text": "the thing that you really want to do is",
    "start": "1215649",
    "end": "1218049"
  },
  {
    "text": "enforce build hygiene it's much harder",
    "start": "1218049",
    "end": "1221320"
  },
  {
    "text": "to do that in SVT because it wasn't",
    "start": "1221320",
    "end": "1223360"
  },
  {
    "text": "designed to do it pants was and that",
    "start": "1223360",
    "end": "1227110"
  },
  {
    "text": "makes it much easier in particular the",
    "start": "1227110",
    "end": "1230769"
  },
  {
    "text": "big reason that it's easier to do this",
    "start": "1230769",
    "end": "1233289"
  },
  {
    "text": "in pants is just that basic difference",
    "start": "1233289",
    "end": "1236019"
  },
  {
    "text": "between a top-down build and a bottom-up",
    "start": "1236019",
    "end": "1238480"
  },
  {
    "text": "build hygiene is a local property it's a",
    "start": "1238480",
    "end": "1241720"
  },
  {
    "text": "property of a specific package in the",
    "start": "1241720",
    "end": "1243700"
  },
  {
    "text": "source tree it's not a package it's not",
    "start": "1243700",
    "end": "1246190"
  },
  {
    "text": "a property of the entire system so",
    "start": "1246190",
    "end": "1248440"
  },
  {
    "text": "unless you have some way of talking",
    "start": "1248440",
    "end": "1251049"
  },
  {
    "text": "about properties of small components",
    "start": "1251049",
    "end": "1252990"
  },
  {
    "text": "it's very hard to do this and when",
    "start": "1252990",
    "end": "1255700"
  },
  {
    "text": "you're talking about the property of a",
    "start": "1255700",
    "end": "1257080"
  },
  {
    "text": "small component it's best to do that",
    "start": "1257080",
    "end": "1259119"
  },
  {
    "text": "local to the component the bottom-up",
    "start": "1259119",
    "end": "1261789"
  },
  {
    "text": "build makes that really easy to do",
    "start": "1261789",
    "end": "1263619"
  },
  {
    "text": "because the bill descriptor is with the",
    "start": "1263619",
    "end": "1266259"
  },
  {
    "text": "code the other big question this was a",
    "start": "1266259",
    "end": "1270460"
  },
  {
    "text": "question that many of our engineers",
    "start": "1270460",
    "end": "1271629"
  },
  {
    "text": "asked us many times couldn't we just do",
    "start": "1271629",
    "end": "1275019"
  },
  {
    "text": "this automatically and again yeah you",
    "start": "1275019",
    "end": "1278799"
  },
  {
    "text": "know if you look at the set of imports",
    "start": "1278799",
    "end": "1280929"
  },
  {
    "text": "in the source code you can build up a",
    "start": "1280929",
    "end": "1283809"
  },
  {
    "text": "dependency graph from that and then use",
    "start": "1283809",
    "end": "1285909"
  },
  {
    "text": "that to generate the dependencies and",
    "start": "1285909",
    "end": "1288029"
  },
  {
    "text": "and have the same information that we're",
    "start": "1288029",
    "end": "1291279"
  },
  {
    "text": "getting but my and we do actually now",
    "start": "1291279",
    "end": "1296980"
  },
  {
    "text": "have a tool that will generate at least",
    "start": "1296980",
    "end": "1299200"
  },
  {
    "text": "a good approximation of a build file for",
    "start": "1299200",
    "end": "1301509"
  },
  {
    "text": "a new component",
    "start": "1301509",
    "end": "1302630"
  },
  {
    "text": "but to me this comes back to this to the",
    "start": "1302630",
    "end": "1305450"
  },
  {
    "text": "comparison I made before about typing",
    "start": "1305450",
    "end": "1307430"
  },
  {
    "text": "right most of the things that we do with",
    "start": "1307430",
    "end": "1310010"
  },
  {
    "text": "type declarations you don't need type",
    "start": "1310010",
    "end": "1312110"
  },
  {
    "text": "declarations to do that I mean people",
    "start": "1312110",
    "end": "1313820"
  },
  {
    "text": "who write closure people who write",
    "start": "1313820",
    "end": "1315350"
  },
  {
    "text": "Python they they write code pretty well",
    "start": "1315350",
    "end": "1317630"
  },
  {
    "text": "without it but we like the hygiene we",
    "start": "1317630",
    "end": "1321110"
  },
  {
    "text": "like the rules that it enforces and the",
    "start": "1321110",
    "end": "1323150"
  },
  {
    "text": "properties that it gives our code so",
    "start": "1323150",
    "end": "1326960"
  },
  {
    "text": "when it comes to build I believe the",
    "start": "1326960",
    "end": "1329300"
  },
  {
    "text": "same thing humans should be involved",
    "start": "1329300",
    "end": "1331820"
  },
  {
    "text": "because these are real decisions about a",
    "start": "1331820",
    "end": "1334250"
  },
  {
    "text": "system and we want the decisions to be",
    "start": "1334250",
    "end": "1337430"
  },
  {
    "text": "made intelligently by people sorry",
    "start": "1337430",
    "end": "1344470"
  },
  {
    "text": "family so so if you are interested in",
    "start": "1344470",
    "end": "1351860"
  },
  {
    "text": "seeing pants this is where you can get",
    "start": "1351860",
    "end": "1354230"
  },
  {
    "text": "it it's on github the primary maintainer",
    "start": "1354230",
    "end": "1358010"
  },
  {
    "text": "is Twitter but our the senior ND sorry",
    "start": "1358010",
    "end": "1363410"
  },
  {
    "text": "the the the chief engineer chief of",
    "start": "1363410",
    "end": "1365420"
  },
  {
    "text": "engineering for foursquare san francisco",
    "start": "1365420",
    "end": "1367670"
  },
  {
    "text": "is also one of the two tech leads of",
    "start": "1367670",
    "end": "1370270"
  },
  {
    "text": "this on commons and last of course i'm",
    "start": "1370270",
    "end": "1375020"
  },
  {
    "text": "not lucky there to mention this we are",
    "start": "1375020",
    "end": "1376940"
  },
  {
    "text": "hiring at Foursquare and like I said we",
    "start": "1376940",
    "end": "1379790"
  },
  {
    "text": "do everything in Scala and we're a",
    "start": "1379790",
    "end": "1381230"
  },
  {
    "text": "really fun place to work so questions",
    "start": "1381230",
    "end": "1385360"
  },
  {
    "text": "okay so that the question was in a",
    "start": "1385360",
    "end": "1388280"
  },
  {
    "text": "top-down build system you could declare",
    "start": "1388280",
    "end": "1390260"
  },
  {
    "text": "the system as a bunch of little jars and",
    "start": "1390260",
    "end": "1393170"
  },
  {
    "text": "did we look at that the answer is yes we",
    "start": "1393170",
    "end": "1395930"
  },
  {
    "text": "did it's much harder to enforce rules",
    "start": "1395930",
    "end": "1398630"
  },
  {
    "text": "that way well so I mean there's there's",
    "start": "1398630",
    "end": "1402170"
  },
  {
    "text": "a couple of different ways that you can",
    "start": "1402170",
    "end": "1403610"
  },
  {
    "text": "approach that the bill rules end up",
    "start": "1403610",
    "end": "1410630"
  },
  {
    "text": "getting very very complicated if you",
    "start": "1410630",
    "end": "1415130"
  },
  {
    "text": "want to do it so that you have you know",
    "start": "1415130",
    "end": "1417230"
  },
  {
    "text": "one large source hierarchy and then you",
    "start": "1417230",
    "end": "1419690"
  },
  {
    "text": "want to have separate bills for several",
    "start": "1419690",
    "end": "1421400"
  },
  {
    "text": "parts of it it's hard to do that right",
    "start": "1421400",
    "end": "1424090"
  },
  {
    "text": "and it's also just harder to get",
    "start": "1424090",
    "end": "1428330"
  },
  {
    "text": "additional rules into the system to say",
    "start": "1428330",
    "end": "1431450"
  },
  {
    "text": "if you see this kind of depend",
    "start": "1431450",
    "end": "1433430"
  },
  {
    "text": "see that's bad get rid of it so it",
    "start": "1433430",
    "end": "1437180"
  },
  {
    "text": "definitely you definitely could do this",
    "start": "1437180",
    "end": "1439100"
  },
  {
    "text": "but it's a bit harder yes right yeah so",
    "start": "1439100",
    "end": "1450020"
  },
  {
    "text": "yes if you split it the other approach",
    "start": "1450020",
    "end": "1452150"
  },
  {
    "text": "is split it into many separate trees but",
    "start": "1452150",
    "end": "1455210"
  },
  {
    "text": "that's harder for engineers to deal with",
    "start": "1455210",
    "end": "1457040"
  },
  {
    "text": "because you know when you're working on",
    "start": "1457040",
    "end": "1458870"
  },
  {
    "text": "the system suddenly instead of just",
    "start": "1458870",
    "end": "1460640"
  },
  {
    "text": "knowing you know what package the thing",
    "start": "1460640",
    "end": "1462890"
  },
  {
    "text": "you need to change is in you need to",
    "start": "1462890",
    "end": "1465140"
  },
  {
    "text": "know which compilation unit it's in in",
    "start": "1465140",
    "end": "1468220"
  },
  {
    "text": "this bottom-up approach you don't need",
    "start": "1468220",
    "end": "1470990"
  },
  {
    "text": "to do that you can have one unified",
    "start": "1470990",
    "end": "1472610"
  },
  {
    "text": "source tree and that makes it a whole",
    "start": "1472610",
    "end": "1475190"
  },
  {
    "text": "lot easier for the engineers yes so Neil",
    "start": "1475190",
    "end": "1478700"
  },
  {
    "text": "one of the other Foursquare people here",
    "start": "1478700",
    "end": "1480440"
  },
  {
    "text": "just just mentioned if you're doing that",
    "start": "1480440",
    "end": "1483290"
  },
  {
    "text": "approach with separate tea trees if you",
    "start": "1483290",
    "end": "1485510"
  },
  {
    "text": "decide that you want to split a single",
    "start": "1485510",
    "end": "1487160"
  },
  {
    "text": "compilation unit into two compilation",
    "start": "1487160",
    "end": "1489740"
  },
  {
    "text": "targets you would need to split the",
    "start": "1489740",
    "end": "1491270"
  },
  {
    "text": "trees and that really would be thankful",
    "start": "1491270",
    "end": "1494210"
  },
  {
    "text": "in in this build system you can even",
    "start": "1494210",
    "end": "1497360"
  },
  {
    "text": "have multiple files in the same",
    "start": "1497360",
    "end": "1498950"
  },
  {
    "text": "directory that belong to two different",
    "start": "1498950",
    "end": "1500210"
  },
  {
    "text": "bill targets within that directory so",
    "start": "1500210",
    "end": "1502700"
  },
  {
    "text": "the question was you know I mentioned",
    "start": "1502700",
    "end": "1505220"
  },
  {
    "text": "that we did some profiling of the",
    "start": "1505220",
    "end": "1506720"
  },
  {
    "text": "compiler and I did gave some timing",
    "start": "1506720",
    "end": "1509210"
  },
  {
    "text": "figures for things so the data came from",
    "start": "1509210",
    "end": "1511430"
  },
  {
    "text": "two different places one of our",
    "start": "1511430",
    "end": "1513650"
  },
  {
    "text": "engineers knows a lot of people at",
    "start": "1513650",
    "end": "1516980"
  },
  {
    "text": "typesafe he got an instrumented version",
    "start": "1516980",
    "end": "1519380"
  },
  {
    "text": "of the compiler which gave us profile",
    "start": "1519380",
    "end": "1521360"
  },
  {
    "text": "determination so you know if you write",
    "start": "1521360",
    "end": "1524300"
  },
  {
    "text": "to type safe I'm sure they'll share the",
    "start": "1524300",
    "end": "1525770"
  },
  {
    "text": "same thing with you but you know it",
    "start": "1525770",
    "end": "1528560"
  },
  {
    "text": "wasn't stock compiler for the other data",
    "start": "1528560",
    "end": "1531490"
  },
  {
    "text": "it came from a bunch of different",
    "start": "1531490",
    "end": "1533570"
  },
  {
    "text": "sources but in particular our build tool",
    "start": "1533570",
    "end": "1536360"
  },
  {
    "text": "we instrumented it so that we record the",
    "start": "1536360",
    "end": "1539090"
  },
  {
    "text": "build time of every bill that anyone",
    "start": "1539090",
    "end": "1540920"
  },
  {
    "text": "does in a MongoDB table so we have this",
    "start": "1540920",
    "end": "1545270"
  },
  {
    "text": "this data about how long things take it",
    "start": "1545270",
    "end": "1548000"
  },
  {
    "text": "on average oh the grass that that the",
    "start": "1548000",
    "end": "1553400"
  },
  {
    "text": "original version of that the one that",
    "start": "1553400",
    "end": "1555380"
  },
  {
    "text": "went up there was just generated by",
    "start": "1555380",
    "end": "1557530"
  },
  {
    "text": "parsing import statements and then",
    "start": "1557530",
    "end": "1561200"
  },
  {
    "text": "manually from that but not manual",
    "start": "1561200",
    "end": "1563450"
  },
  {
    "text": "writing a program that from that",
    "start": "1563450",
    "end": "1564710"
  },
  {
    "text": "generated a graph is data file and",
    "start": "1564710",
    "end": "1567170"
  },
  {
    "text": "plotting it so the dependency grasped",
    "start": "1567170",
    "end": "1571220"
  },
  {
    "text": "between targets has to be acyclic but",
    "start": "1571220",
    "end": "1574730"
  },
  {
    "text": "within a single target everything can",
    "start": "1574730",
    "end": "1577970"
  },
  {
    "text": "depend on everything so what we did",
    "start": "1577970",
    "end": "1580820"
  },
  {
    "text": "basically to switch to pants was create",
    "start": "1580820",
    "end": "1583910"
  },
  {
    "text": "one huge target that we called the hair",
    "start": "1583910",
    "end": "1587120"
  },
  {
    "text": "ball and everything was in it and then",
    "start": "1587120",
    "end": "1590570"
  },
  {
    "text": "we kept trying to prune things out of",
    "start": "1590570",
    "end": "1592370"
  },
  {
    "text": "there so right now that hairball target",
    "start": "1592370",
    "end": "1595160"
  },
  {
    "text": "is about 38 directories sorry the",
    "start": "1595160",
    "end": "1597320"
  },
  {
    "text": "question was did we try to to do a build",
    "start": "1597320",
    "end": "1600470"
  },
  {
    "text": "in SB key after the refactoring after",
    "start": "1600470",
    "end": "1603140"
  },
  {
    "text": "the dependency reduction to see if it",
    "start": "1603140",
    "end": "1605240"
  },
  {
    "text": "would have been reduced and again the",
    "start": "1605240",
    "end": "1607070"
  },
  {
    "text": "answer to that is known but the scowl",
    "start": "1607070",
    "end": "1609290"
  },
  {
    "text": "build component that we use so zinc I'm",
    "start": "1609290",
    "end": "1611930"
  },
  {
    "text": "sorry so pants does its comp scholar",
    "start": "1611930",
    "end": "1614810"
  },
  {
    "text": "compilation with the tool called zinc",
    "start": "1614810",
    "end": "1616370"
  },
  {
    "text": "zinc is essentially a front end to this",
    "start": "1616370",
    "end": "1619940"
  },
  {
    "text": "to the SBT incremental scholar compile",
    "start": "1619940",
    "end": "1623530"
  },
  {
    "text": "so basically we believe that the compile",
    "start": "1623530",
    "end": "1628970"
  },
  {
    "text": "time under SBT would now be the same the",
    "start": "1628970",
    "end": "1631700"
  },
  {
    "text": "benefit that we get from hands as I said",
    "start": "1631700",
    "end": "1633830"
  },
  {
    "text": "isn't really the compile time it's the",
    "start": "1633830",
    "end": "1635690"
  },
  {
    "text": "enforceability of the rules that helped",
    "start": "1635690",
    "end": "1637820"
  },
  {
    "text": "us reduce that compile time so the",
    "start": "1637820",
    "end": "1640010"
  },
  {
    "text": "question was does pants in blaze have",
    "start": "1640010",
    "end": "1642650"
  },
  {
    "text": "anything in common with the go build",
    "start": "1642650",
    "end": "1645050"
  },
  {
    "text": "system the answer is no nothing at all",
    "start": "1645050",
    "end": "1648280"
  },
  {
    "text": "when I was at Google we talked to two",
    "start": "1648280",
    "end": "1651350"
  },
  {
    "text": "Rob Pike who's the lead on the go",
    "start": "1651350",
    "end": "1653750"
  },
  {
    "text": "project he hates blaze",
    "start": "1653750",
    "end": "1657220"
  },
  {
    "text": "so you know blaze was optimized for a",
    "start": "1657670",
    "end": "1660340"
  },
  {
    "text": "particular build system at Google and he",
    "start": "1660340",
    "end": "1664150"
  },
  {
    "text": "hates the entire infrastructure so he",
    "start": "1664150",
    "end": "1667030"
  },
  {
    "text": "didn't want to have anything to do with",
    "start": "1667030",
    "end": "1668650"
  },
  {
    "text": "it so pants incorporates IV so if you",
    "start": "1668650",
    "end": "1674590"
  },
  {
    "text": "know if there are dependencies that you",
    "start": "1674590",
    "end": "1676480"
  },
  {
    "text": "need external dependencies that you need",
    "start": "1676480",
    "end": "1678340"
  },
  {
    "text": "to get for things that are outside you",
    "start": "1678340",
    "end": "1680950"
  },
  {
    "text": "can declare them in a pants build file",
    "start": "1680950",
    "end": "1683020"
  },
  {
    "text": "there is a carga type jar dependency",
    "start": "1683020",
    "end": "1685210"
  },
  {
    "text": "which takes you know the standard",
    "start": "1685210",
    "end": "1687820"
  },
  {
    "text": "strings for the the maven IV package",
    "start": "1687820",
    "end": "1691240"
  },
  {
    "text": "descriptors and it will download them",
    "start": "1691240",
    "end": "1693280"
  },
  {
    "text": "into your local IV cash and assemble the",
    "start": "1693280",
    "end": "1695980"
  },
  {
    "text": "classpath needed by both the compiler",
    "start": "1695980",
    "end": "1698260"
  },
  {
    "text": "and to execute it so you know setting up",
    "start": "1698260",
    "end": "1700960"
  },
  {
    "text": "external dependencies is as easy as you",
    "start": "1700960",
    "end": "1704290"
  },
  {
    "text": "know SBT may then whatever it's just",
    "start": "1704290",
    "end": "1707500"
  },
  {
    "text": "standard ID any other questions ok thank",
    "start": "1707500",
    "end": "1714100"
  },
  {
    "text": "you very much",
    "start": "1714100",
    "end": "1716520"
  },
  {
    "text": "you",
    "start": "1723730",
    "end": "1725790"
  }
]