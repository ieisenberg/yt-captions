[
  {
    "text": "[Music]",
    "start": "570",
    "end": "9269"
  },
  {
    "text": "so let's let's then move on to something like uh something else um so let's talk",
    "start": "10639",
    "end": "15759"
  },
  {
    "text": "about the database part",
    "start": "15759",
    "end": "23000"
  },
  {
    "text": "so so far what we've got is we've got this part going",
    "start": "23359",
    "end": "28960"
  },
  {
    "text": "on right we have some kind of",
    "start": "28960",
    "end": "35440"
  },
  {
    "text": "service and we can verify the data is there but we don't have a way of putting that data in the",
    "start": "35559",
    "end": "41520"
  },
  {
    "text": "database right we don't have a way of persisting that data now Android chips",
    "start": "41520",
    "end": "47280"
  },
  {
    "text": "with a built-in database uh it's a sqlite database anybody Ed sqlite",
    "start": "47280",
    "end": "53399"
  },
  {
    "text": "before okay so sqlite lives on it's a site.org",
    "start": "53399",
    "end": "60280"
  },
  {
    "text": "and it's basically a very small old database uh some of the key features",
    "start": "60280",
    "end": "68118"
  },
  {
    "text": "are what are the key features of this database um it's oh you can read it on",
    "start": "68640",
    "end": "74040"
  },
  {
    "text": "your own but this is basically these are the key features right here so it's basically U",
    "start": "74040",
    "end": "82000"
  },
  {
    "text": "self-contained serus zero configuration transactional SQL database that's in a",
    "start": "82000",
    "end": "87200"
  },
  {
    "text": "public domain right so in other words words it it's the the entire file is all",
    "start": "87200",
    "end": "94479"
  },
  {
    "text": "you need there's no server there's no process running right it's just a library there's nothing to configure",
    "start": "94479",
    "end": "100880"
  },
  {
    "text": "unlike my SQL not much has to be configured there's actually nothing to be configured at all it is transactional",
    "start": "100880",
    "end": "107799"
  },
  {
    "text": "and it's a public domain so these are all the good things I guess what's missing as another feature is that it's",
    "start": "107799",
    "end": "113680"
  },
  {
    "text": "a portable so the files are also portable across platforms now I would add that to the list so but but that's",
    "start": "113680",
    "end": "120200"
  },
  {
    "text": "about uh that's a little bit about sqlite so Android builds uh bundles this thing",
    "start": "120200",
    "end": "125920"
  },
  {
    "text": "in okay so what we are going to do is we're going to create a um um an object",
    "start": "125920",
    "end": "135120"
  },
  {
    "text": "that's going to provide us with the data for our database it's going to",
    "start": "135120",
    "end": "140400"
  },
  {
    "text": "allow us to basically put data data in the database and I usually call this",
    "start": "140400",
    "end": "145879"
  },
  {
    "text": "object status data okay",
    "start": "145879",
    "end": "151760"
  },
  {
    "text": "so it's not going to be a it's not a main building block it's something that's part of this project right so",
    "start": "151760",
    "end": "157319"
  },
  {
    "text": "let's do this let's create um a new Java class in this case it's",
    "start": "157319",
    "end": "163319"
  },
  {
    "text": "just a poo play Old Java object so status",
    "start": "163319",
    "end": "170680"
  },
  {
    "text": "data right so status data doesn't have it's",
    "start": "171920",
    "end": "178200"
  },
  {
    "text": "not extending anything yet um but what stus data is going to do",
    "start": "178200",
    "end": "186120"
  },
  {
    "text": "is it's going to have to Define some constants it's going to need to define a whole bunch of things that we're going",
    "start": "186120",
    "end": "191519"
  },
  {
    "text": "to use later on so we're going to Define uh it's going to be a simple file but it's going to have a lot of constants right so let's take a look at first of",
    "start": "191519",
    "end": "198400"
  },
  {
    "text": "all the data that we're dealing with um what do we get from",
    "start": "198400",
    "end": "203680"
  },
  {
    "text": "Twitter if I look at the documentation",
    "start": "203680",
    "end": "211159"
  },
  {
    "text": "this is what your status",
    "start": "211159",
    "end": "214280"
  },
  {
    "text": "has it's got a time stamp when it was created right it's got the ID of the",
    "start": "218280",
    "end": "223920"
  },
  {
    "text": "message a reply to retweet count Source text and",
    "start": "223920",
    "end": "231040"
  },
  {
    "text": "user I usually ignore these three because they're not that",
    "start": "231159",
    "end": "236239"
  },
  {
    "text": "relevant right so I focus usually on just on when you was created what the ID",
    "start": "236239",
    "end": "241720"
  },
  {
    "text": "is the text message and the user that the the user okay now user in itself is",
    "start": "241720",
    "end": "250239"
  },
  {
    "text": "a as you can see is an object is a class right so if you go into that you can then find various things about this user",
    "start": "250239",
    "end": "256840"
  },
  {
    "text": "so I usually use user.name the display name",
    "start": "256840",
    "end": "264000"
  },
  {
    "text": "right you can also use a screen name and so on",
    "start": "264240",
    "end": "271160"
  },
  {
    "text": "so far so good so um so let's define those as columns",
    "start": "271160",
    "end": "278639"
  },
  {
    "text": "that we're going to need right so we're going to have a and these are going to be bunch of public",
    "start": "278639",
    "end": "283880"
  },
  {
    "text": "static final string I usually identify like column I usually see C ccore column",
    "start": "283880",
    "end": "291400"
  },
  {
    "text": "right so column ID and then underscore idid",
    "start": "291400",
    "end": "301560"
  },
  {
    "text": "created at with the Tim",
    "start": "307240",
    "end": "311520"
  },
  {
    "text": "stamp created",
    "start": "313120",
    "end": "317120"
  },
  {
    "text": "at",
    "start": "328479",
    "end": "331479"
  },
  {
    "text": "and then we have final one is the column text which is going to be you know you",
    "start": "346919",
    "end": "352319"
  },
  {
    "text": "can't name it text because that's a reserved word so I would call it status",
    "start": "352319",
    "end": "358240"
  },
  {
    "text": "text",
    "start": "358479",
    "end": "361479"
  },
  {
    "text": "something like",
    "start": "373360",
    "end": "375879"
  },
  {
    "text": "that so far so good um in addition to this I would",
    "start": "379080",
    "end": "384919"
  },
  {
    "text": "Define a u our usual static final string so public",
    "start": "384919",
    "end": "393080"
  },
  {
    "text": "St final string tag be the status",
    "start": "393080",
    "end": "400800"
  },
  {
    "text": "data right and that's it for now so those are",
    "start": "401080",
    "end": "406400"
  },
  {
    "text": "our columns now where is our database how do",
    "start": "406400",
    "end": "411720"
  },
  {
    "text": "we open up our database how do we manage our database how do we deal with the database well uh",
    "start": "411720",
    "end": "418400"
  },
  {
    "text": "so to do that Android framework provides a bunch of um Frameworks or you know uh",
    "start": "418400",
    "end": "426520"
  },
  {
    "text": "classes that make make life simpler with that so um there's something called",
    "start": "426520",
    "end": "432280"
  },
  {
    "text": "sqlite open helper it's basically a class that helps you open up your",
    "start": "432280",
    "end": "437680"
  },
  {
    "text": "database and upgrade your database when the database doesn't exist which is our case we don't have a database right so",
    "start": "437680",
    "end": "443639"
  },
  {
    "text": "what we're going to do is we're going to Define um this class as an inner class",
    "start": "443639",
    "end": "448800"
  },
  {
    "text": "so we're going to implemented but since we only need to know use it in the context of status data I don't really",
    "start": "448800",
    "end": "455160"
  },
  {
    "text": "want to expose it to the world like that's why it makes sense to be an inner class right so I'm going to create a",
    "start": "455160",
    "end": "461599"
  },
  {
    "text": "class within a class called DB",
    "start": "461599",
    "end": "466240"
  },
  {
    "text": "helper extends SQL light",
    "start": "470599",
    "end": "476120"
  },
  {
    "text": "open organizing",
    "start": "477680",
    "end": "481319"
  },
  {
    "text": "ports so DB helper is the one that's going to be responsible for helping us",
    "start": "488599",
    "end": "493759"
  },
  {
    "text": "open up the database right so DB helper in itself uh",
    "start": "493759",
    "end": "499720"
  },
  {
    "text": "you we need to add unimplemented methods so oh add a Constructor and then we need to still add unimplemented",
    "start": "499720",
    "end": "507960"
  },
  {
    "text": "methods so couple of clicks and you get a bunch of",
    "start": "507960",
    "end": "512599"
  },
  {
    "text": "code so far so good so",
    "start": "533880",
    "end": "540079"
  },
  {
    "text": "let's start with the Constructor so this guy here so this guy wants we need to",
    "start": "540079",
    "end": "545760"
  },
  {
    "text": "construct the DB Helper and we need to pass in context",
    "start": "545760",
    "end": "551279"
  },
  {
    "text": "name Factory and version",
    "start": "551279",
    "end": "556839"
  },
  {
    "text": "okay so we're going to need to have a context um for for status data so status",
    "start": "556839",
    "end": "563200"
  },
  {
    "text": "data itself is going to have to have a context so I'm going to create a variable called uh you know context",
    "start": "563200",
    "end": "570320"
  },
  {
    "text": "on context",
    "start": "570320",
    "end": "574160"
  },
  {
    "text": "context again so name um name of the database is",
    "start": "583680",
    "end": "590560"
  },
  {
    "text": "something that doesn't really change all that much so might as well put it as a constant so I'm going to create another",
    "start": "590560",
    "end": "595959"
  },
  {
    "text": "constant called public static find fin string DB",
    "start": "595959",
    "end": "604399"
  },
  {
    "text": "name and we can call it whatever we want like timeline. DB for",
    "start": "604519",
    "end": "611320"
  },
  {
    "text": "example in addition to that we're also going to have the version so we're going to say public static final",
    "start": "616399",
    "end": "625279"
  },
  {
    "text": "string DB version and again you can start with one",
    "start": "625279",
    "end": "630480"
  },
  {
    "text": "or some number like that doesn't really matter oh sorry it's not a string it's an",
    "start": "630480",
    "end": "637160"
  },
  {
    "text": "in so now when we create the in the",
    "start": "649320",
    "end": "655839"
  },
  {
    "text": "Constructor uh the context is going to be given to us right uh the name is going to become DB",
    "start": "655839",
    "end": "664959"
  },
  {
    "text": "name the version is going to be DB version so we're hard coding that",
    "start": "665160",
    "end": "672279"
  },
  {
    "text": "right and Factory is uh is some stuff that is it's really a in this case it's",
    "start": "675200",
    "end": "681839"
  },
  {
    "text": "really a hack um it's basically a hack to deal with the fact that you can't",
    "start": "681839",
    "end": "687320"
  },
  {
    "text": "have nulls um as part of the um",
    "start": "687320",
    "end": "692920"
  },
  {
    "text": "um as a part of a Constructor so as so you must start with one so that's most",
    "start": "692920",
    "end": "698920"
  },
  {
    "text": "cases this factor is just going to be a null we don't really need",
    "start": "698920",
    "end": "704600"
  },
  {
    "text": "it it's a now column",
    "start": "705639",
    "end": "709600"
  },
  {
    "text": "hack so basically we can now simplify this Constructor to be like this right",
    "start": "712760",
    "end": "718040"
  },
  {
    "text": "much simpler because we Define stuff as constants up up",
    "start": "718040",
    "end": "724279"
  },
  {
    "text": "there yeah so presumably when I create status somewhere we would create DB",
    "start": "737480",
    "end": "743199"
  },
  {
    "text": "Helper and pass the context thing we don't really you're right we could also just do this",
    "start": "743199",
    "end": "750880"
  },
  {
    "text": "yeah whichever way you",
    "start": "751800",
    "end": "755480"
  },
  {
    "text": "want okay so now we have a whole bunch of constants",
    "start": "759839",
    "end": "766639"
  },
  {
    "text": "and as part of that we have a whole bunch of",
    "start": "766639",
    "end": "774360"
  },
  {
    "text": "um we have two methods we have on Create and on upgrade right",
    "start": "774360",
    "end": "780839"
  },
  {
    "text": "and the DB helper so let's talk about these two methods so on create happens",
    "start": "781519",
    "end": "787680"
  },
  {
    "text": "only once first time you are creating the the the the",
    "start": "787680",
    "end": "795079"
  },
  {
    "text": "database the database does not exist right so creates gets called to create a",
    "start": "795079",
    "end": "800680"
  },
  {
    "text": "database so this piece of code whatever you put in here is only going to run",
    "start": "800680",
    "end": "805800"
  },
  {
    "text": "once ever for this particular user",
    "start": "805800",
    "end": "810760"
  },
  {
    "text": "right if you uninstall the app and remove the data then it would run",
    "start": "816760",
    "end": "822600"
  },
  {
    "text": "again right yeah but typically if you do not remove the data it's going to run",
    "start": "822600",
    "end": "827800"
  },
  {
    "text": "only once initially to create a database from that point on what happens",
    "start": "827800",
    "end": "833560"
  },
  {
    "text": "is on upgrade is going to get called every single time there's an upgrade to a database",
    "start": "833560",
    "end": "840240"
  },
  {
    "text": "schema like you change the database like remember right now we support four fields for Twitter status but we could",
    "start": "840240",
    "end": "848399"
  },
  {
    "text": "support like six or more seven right and so on and so on",
    "start": "848399",
    "end": "855480"
  },
  {
    "text": "right so you may change schema in the future and in that case on upgrade would",
    "start": "855480",
    "end": "861639"
  },
  {
    "text": "run but in in this case it's oncreated runs so in oncreate you got the",
    "start": "861639",
    "end": "869240"
  },
  {
    "text": "uh you got the database object",
    "start": "869240",
    "end": "873959"
  },
  {
    "text": "right so what we normally do here is we create a um we create our string that",
    "start": "874440",
    "end": "880959"
  },
  {
    "text": "we're going to use to create the database our database SQL creation",
    "start": "880959",
    "end": "886120"
  },
  {
    "text": "string right so usually looks like something like this string SQL and then you know we need to",
    "start": "886120",
    "end": "893120"
  },
  {
    "text": "at some point do db. exact SQL",
    "start": "893120",
    "end": "900680"
  },
  {
    "text": "SQ so far so good now the question is what goes into",
    "start": "906759",
    "end": "912480"
  },
  {
    "text": "this string and this becomes just a SQL question and whatever goes into here it's going to be a long spaghetti SQL",
    "start": "912480",
    "end": "919519"
  },
  {
    "text": "code right so it's going to look may look something like this",
    "start": "919519",
    "end": "924600"
  },
  {
    "text": "um string. format right and then um let's see create How",
    "start": "924600",
    "end": "933519"
  },
  {
    "text": "does it go create uh table percent s oh I guess we're going",
    "start": "933519",
    "end": "940880"
  },
  {
    "text": "to need table name as well right public",
    "start": "940880",
    "end": "946279"
  },
  {
    "text": "static final string table um",
    "start": "946279",
    "end": "952600"
  },
  {
    "text": "statuses or status depends on your naming convention",
    "start": "952600",
    "end": "960600"
  },
  {
    "text": "right and then you can start typing your um your SQL so it's going to be percent",
    "start": "970800",
    "end": "981000"
  },
  {
    "text": "um s int primary key that's sorry ID",
    "start": "981000",
    "end": "987720"
  },
  {
    "text": "percent s um",
    "start": "987720",
    "end": "993680"
  },
  {
    "text": "int that's going to be our created that time stamp right percent",
    "start": "993680",
    "end": "999759"
  },
  {
    "text": "s text percent s",
    "start": "999759",
    "end": "1005519"
  },
  {
    "text": "text like that and then we're going to [Music]",
    "start": "1005519",
    "end": "1012120"
  },
  {
    "text": "have table comma column I",
    "start": "1012120",
    "end": "1019680"
  },
  {
    "text": "ID um we",
    "start": "1019680",
    "end": "1026400"
  },
  {
    "text": "created",
    "start": "1026400",
    "end": "1029400"
  },
  {
    "text": "at call",
    "start": "1031799",
    "end": "1035279"
  },
  {
    "text": "user",
    "start": "1047400",
    "end": "1050400"
  },
  {
    "text": "for so far so good on",
    "start": "1077400",
    "end": "1084440"
  },
  {
    "text": "that so um so this can easily fail so for that",
    "start": "1084440",
    "end": "1093559"
  },
  {
    "text": "reason what we would normally want to do is we want to log. D so that we know why it",
    "start": "1093559",
    "end": "1100640"
  },
  {
    "text": "failed before we execute it organiz",
    "start": "1107320",
    "end": "1112679"
  },
  {
    "text": "input",
    "start": "1137320",
    "end": "1140320"
  },
  {
    "text": "what are we doing on upgrade what would you do when you when your version changes what would be a smart thing to",
    "start": "1158280",
    "end": "1166120"
  },
  {
    "text": "do uh you're changing the",
    "start": "1167240",
    "end": "1173600"
  },
  {
    "text": "schema is that how you upgrade a database export the data drop the table upgrade the database I",
    "start": "1180520",
    "end": "1188000"
  },
  {
    "text": "mean how what's what's your typical SQL for",
    "start": "1188000",
    "end": "1193120"
  },
  {
    "text": "that",
    "start": "1197240",
    "end": "1200240"
  },
  {
    "text": "anybody well typically we I mean this is not a so so so much Android question but",
    "start": "1220679",
    "end": "1226080"
  },
  {
    "text": "typically what you would do is you would alter the table Right add Fields yeah add Fields instead of defaults and and",
    "start": "1226080",
    "end": "1232960"
  },
  {
    "text": "go from there right usually this is usually you know usually alter table statement",
    "start": "1232960",
    "end": "1242120"
  },
  {
    "text": "right but for our purposes the poor man's way of doing this would be",
    "start": "1242120",
    "end": "1247159"
  },
  {
    "text": "database dot exact",
    "start": "1247159",
    "end": "1252760"
  },
  {
    "text": "SQL drop if exists",
    "start": "1253679",
    "end": "1260120"
  },
  {
    "text": "and then run DB do",
    "start": "1262760",
    "end": "1267520"
  },
  {
    "text": "create you're not really supposed to do this but this is one way to do it right",
    "start": "1277720",
    "end": "1283000"
  },
  {
    "text": "for development purposes okay so basically whenever",
    "start": "1283000",
    "end": "1289200"
  },
  {
    "text": "the system detects that the old version and the new version of the database are",
    "start": "1289200",
    "end": "1295000"
  },
  {
    "text": "different old version and new version right um it's going to call this guy and",
    "start": "1295000",
    "end": "1302760"
  },
  {
    "text": "you do whatever you want to do in there to propagate this because you you may have users um using like you may have",
    "start": "1302760",
    "end": "1309080"
  },
  {
    "text": "some of the version of your version of your database three somebody at five somebody at seven and",
    "start": "1309080",
    "end": "1315159"
  },
  {
    "text": "so on now you got to update them to the latest right so you got to you can't",
    "start": "1315159",
    "end": "1320480"
  },
  {
    "text": "just drop in a new code and blow up their existing data you",
    "start": "1320480",
    "end": "1325840"
  },
  {
    "text": "usually want to migrate the data up to the latest database",
    "start": "1325840",
    "end": "1331880"
  },
  {
    "text": "standard so so that's that's basically uh what goes",
    "start": "1334039",
    "end": "1340200"
  },
  {
    "text": "on um so so that's that's why you typically do alter alter table but like",
    "start": "1343120",
    "end": "1349520"
  },
  {
    "text": "I said you know there's a poor men's way of doing it as well so um so now that we have all that",
    "start": "1349520",
    "end": "1357080"
  },
  {
    "text": "we are ready to give this a try Okay um we just need to instantiate",
    "start": "1357080",
    "end": "1365520"
  },
  {
    "text": "our DB helper okay so to instantiate our DB helper we need to create so we're",
    "start": "1365520",
    "end": "1371240"
  },
  {
    "text": "going to create DB helper DB helper it's going to be an instance",
    "start": "1371240",
    "end": "1376960"
  },
  {
    "text": "of right and then I'm going to create a Constructor here I'll say uh status data",
    "start": "1376960",
    "end": "1385640"
  },
  {
    "text": "so",
    "start": "1385640",
    "end": "1388039"
  },
  {
    "text": "public I'm going to keep context around because I may need it for other purposes right",
    "start": "1402640",
    "end": "1409880"
  },
  {
    "text": "so far so good",
    "start": "1436799",
    "end": "1439880"
  },
  {
    "text": "so um so basically now that we have this we can um go and start in we can",
    "start": "1443240",
    "end": "1449679"
  },
  {
    "text": "basically start inserting stuff into our database so what's a good",
    "start": "1449679",
    "end": "1455559"
  },
  {
    "text": "place uh to insert well what's a good place to actually instantiate this object status",
    "start": "1455720",
    "end": "1463919"
  },
  {
    "text": "data we could do it the service it's something that a lot of people are going to be using so let's",
    "start": "1466279",
    "end": "1473279"
  },
  {
    "text": "see what's that yeah we I mean we could yeah we",
    "start": "1475480",
    "end": "1480720"
  },
  {
    "text": "could do it in application on create as well right so that's another place so yamba",
    "start": "1480720",
    "end": "1487399"
  },
  {
    "text": "app we could basically canang it off of yamba app and say there's a there's a property called",
    "start": "1487399",
    "end": "1493279"
  },
  {
    "text": "status data status data",
    "start": "1493279",
    "end": "1499760"
  },
  {
    "text": "and then in on create we could say status data is new status",
    "start": "1504559",
    "end": "1515440"
  },
  {
    "text": "data",
    "start": "1515480",
    "end": "1518480"
  },
  {
    "text": "this",
    "start": "1526679",
    "end": "1529679"
  },
  {
    "text": "so far good so now that we have the status dat data we could now um call anything in",
    "start": "1553559",
    "end": "1560720"
  },
  {
    "text": "the status data we want but we need some some helper methods",
    "start": "1560720",
    "end": "1565840"
  },
  {
    "text": "right one of the helper methods would be to insert so what would the sign what would the signature of insert look",
    "start": "1565840",
    "end": "1573919"
  },
  {
    "text": "like so something like public void insert right what kind of data do we",
    "start": "1575039",
    "end": "1582399"
  },
  {
    "text": "want to pass into insert",
    "start": "1582399",
    "end": "1589600"
  },
  {
    "text": "we could pass in a status object because that's what the outside world knows knows about Twitter status object right",
    "start": "1591360",
    "end": "1597320"
  },
  {
    "text": "so yeah so we could do status status status is the Twitter status",
    "start": "1597320",
    "end": "1603279"
  },
  {
    "text": "object so be careful when you import",
    "start": "1603279",
    "end": "1606720"
  },
  {
    "text": "it",
    "start": "1616600",
    "end": "1619600"
  },
  {
    "text": "what that oh there's a little plus sign",
    "start": "1628120",
    "end": "1636520"
  },
  {
    "text": "here well you probably got second plus plus",
    "start": "1636520",
    "end": "1641600"
  },
  {
    "text": "sign I'm just trying to keep it all in one screen so you guys can usually see it um okay so we're going to insert so",
    "start": "1644039",
    "end": "1651200"
  },
  {
    "text": "to insert we're going to need a database to insert in",
    "start": "1651200",
    "end": "1656520"
  },
  {
    "text": "okay and then we're going to need to um to U do the the actual insert so the",
    "start": "1656520",
    "end": "1663720"
  },
  {
    "text": "database that we need is going to be SQL light database",
    "start": "1663720",
    "end": "1670960"
  },
  {
    "text": "DB right that's our database",
    "start": "1670960",
    "end": "1675440"
  },
  {
    "text": "reference",
    "start": "1676519",
    "end": "1679519"
  },
  {
    "text": "yeah that's a yeah it's a Twitter class yeah Status is a Twitter class it comes",
    "start": "1684840",
    "end": "1689919"
  },
  {
    "text": "from Twitter J you know this",
    "start": "1689919",
    "end": "1694080"
  },
  {
    "text": "location",
    "start": "1706440",
    "end": "1709440"
  },
  {
    "text": "yeah so um what we need to do is we need to open up the database uh first so we",
    "start": "1712080",
    "end": "1717279"
  },
  {
    "text": "would say DB is um DB helper so remember DB helper is a guy that helps us do all",
    "start": "1717279",
    "end": "1723960"
  },
  {
    "text": "the opening and all that stuff right um so we would say DB helper",
    "start": "1723960",
    "end": "1730519"
  },
  {
    "text": "Dot and basically you care about these two methods get readable database or get writable database right so uh in this",
    "start": "1730519",
    "end": "1738159"
  },
  {
    "text": "case presumably we care about the writable database right so you would say",
    "start": "1738159",
    "end": "1744519"
  },
  {
    "text": "get writable database and that gives us access to theable",
    "start": "1744519",
    "end": "1749720"
  },
  {
    "text": "database right so now um now that we have the",
    "start": "1753120",
    "end": "1758279"
  },
  {
    "text": "right B database how would you insert something into this database you tell me I'm",
    "start": "1758279",
    "end": "1766320"
  },
  {
    "text": "typing so you're saying something like this db. exact query and then you would say",
    "start": "1766320",
    "end": "1772960"
  },
  {
    "text": "something like this um insert connection well it already has the",
    "start": "1772960",
    "end": "1779840"
  },
  {
    "text": "connection right so presumably so",
    "start": "1779840",
    "end": "1787120"
  },
  {
    "text": "U so you was basically saying DB insert into um",
    "start": "1787120",
    "end": "1795320"
  },
  {
    "text": "status and then you would put like for example you your stuff and then you say values when you put your other stuff",
    "start": "1795360",
    "end": "1802360"
  },
  {
    "text": "right so this would be like ID comma um",
    "start": "1802360",
    "end": "1807399"
  },
  {
    "text": "create at comma don't do this um you know etc etc right and then you would",
    "start": "1807399",
    "end": "1814320"
  },
  {
    "text": "put your values like 123 comma some stamp ET",
    "start": "1814320",
    "end": "1821559"
  },
  {
    "text": "right what's wrong with this approach",
    "start": "1821559",
    "end": "1829240"
  },
  {
    "text": "what's that well yeah there's a db. insert but",
    "start": "1830159",
    "end": "1835279"
  },
  {
    "text": "what's the what's the fundamental problem with this approach and I I'll give you hint there are two fundamental",
    "start": "1835279",
    "end": "1841679"
  },
  {
    "text": "problems one is performance related One",
    "start": "1841679",
    "end": "1845799"
  },
  {
    "text": "Security it's got nothing to do with Android it's just this is just security loophole 101 the injection yeah SQL",
    "start": "1851120",
    "end": "1859440"
  },
  {
    "text": "injection yeah yeah what if somebody posts a tweet like we're check we're expecting okay user we're expecting text",
    "start": "1859440",
    "end": "1866480"
  },
  {
    "text": "here right um so somebody is smart enough and put some values you know user",
    "start": "1866480",
    "end": "1872240"
  },
  {
    "text": "you know hacker and the value that we get from this user I need to escape this now",
    "start": "1872240",
    "end": "1879960"
  },
  {
    "text": "right the value that we get from this user is the following the value is blah",
    "start": "1879960",
    "end": "1887760"
  },
  {
    "text": "and then basically escapes this and starts insert",
    "start": "1887760",
    "end": "1894639"
  },
  {
    "text": "into you know etc etc right so suddenly this guy is not just giving us a plain",
    "start": "1894639",
    "end": "1901240"
  },
  {
    "text": "old um uh stuff but he's actually typing some kind of um some kind of a SQL into",
    "start": "1901240",
    "end": "1909840"
  },
  {
    "text": "our stuff right it's not just a message it's actually a SQL injection into our system right it's a security loop hole",
    "start": "1909840",
    "end": "1917399"
  },
  {
    "text": "101 it's very basic so this is bad you don't do that the the that's a security",
    "start": "1917399",
    "end": "1923519"
  },
  {
    "text": "problem performance problem is that if you have to do uh database would have to parse this every single time for every",
    "start": "1923519",
    "end": "1931120"
  },
  {
    "text": "single message and what you know I don't care if you do something parsing once but we're doing this in a loop so you're",
    "start": "1931120",
    "end": "1936960"
  },
  {
    "text": "talking about many many times right so if I say this is bad why wasn't",
    "start": "1936960",
    "end": "1944200"
  },
  {
    "text": "it bad when we did it just seconds ago in in this",
    "start": "1944200",
    "end": "1949559"
  },
  {
    "text": "case yeah CU there's it's not coming from the outside world so there's no user input and it only runs once who",
    "start": "1949960",
    "end": "1956639"
  },
  {
    "text": "cares about those 02 milliseconds that you're going to save right not even worth talking so yeah you you guys right",
    "start": "1956639",
    "end": "1963080"
  },
  {
    "text": "so it's a different Beast so in this case we do care about it um and as such",
    "start": "1963080",
    "end": "1968200"
  },
  {
    "text": "we're not going to use this but we're going to use db. insert",
    "start": "1968200",
    "end": "1974600"
  },
  {
    "text": "okay so table oh that's easy we have the table null",
    "start": "1974600",
    "end": "1980679"
  },
  {
    "text": "column hack is just null it's a hack",
    "start": "1980679",
    "end": "1985880"
  },
  {
    "text": "okay and values is going to be a Val it's it's a something called content",
    "start": "1985880",
    "end": "1992000"
  },
  {
    "text": "values we basically have to um convert our status to",
    "start": "1992000",
    "end": "1999120"
  },
  {
    "text": "values right so I'll leave it as values and then we're we're going to Define",
    "start": "1999600",
    "end": "2004720"
  },
  {
    "text": "it so what the heck is value",
    "start": "2004720",
    "end": "2008960"
  },
  {
    "text": "so let's do uh let's do it like this um so with value are is so basically",
    "start": "2009919",
    "end": "2018440"
  },
  {
    "text": "content values values new content",
    "start": "2018440",
    "end": "2025440"
  },
  {
    "text": "values organize Imports",
    "start": "2026360",
    "end": "2034000"
  },
  {
    "text": "right now you You're simply mapping database or you know some uh web stuff",
    "start": "2035039",
    "end": "2041240"
  },
  {
    "text": "like tweets into a database stuff that's what Val is it's sort of like a data",
    "start": "2041240",
    "end": "2046440"
  },
  {
    "text": "structure that kind of makes it straightforward you know defines what what is what right so we are going to",
    "start": "2046440",
    "end": "2053398"
  },
  {
    "text": "have values. putut and then you have a bunch of these puts so",
    "start": "2053399",
    "end": "2059679"
  },
  {
    "text": "ID value is going to be status.",
    "start": "2059679",
    "end": "2065480"
  },
  {
    "text": "ID right easy values.",
    "start": "2065879",
    "end": "2071000"
  },
  {
    "text": "putut created that it's going to be status dot create",
    "start": "2071000",
    "end": "2078599"
  },
  {
    "text": "that values do",
    "start": "2078599",
    "end": "2083359"
  },
  {
    "text": "putut uh so user and I'm going to put",
    "start": "2088159",
    "end": "2094559"
  },
  {
    "text": "St yep yep we're we're going to get yeah we're going to discuss that yeah do",
    "start": "2094960",
    "end": "2101240"
  },
  {
    "text": "user",
    "start": "2101240",
    "end": "2104240"
  },
  {
    "text": "dotame and vales that put column text is going to be status.",
    "start": "2108040",
    "end": "2116599"
  },
  {
    "text": "text so so we copied the ID right so I'm copying the database stuff into",
    "start": "2120720",
    "end": "2127760"
  },
  {
    "text": "uh you know the server stuff into a database stuff you know username gets",
    "start": "2127760",
    "end": "2132839"
  },
  {
    "text": "into username text goes into text pretty straightforward one that I'm having a problem here is the status created that",
    "start": "2132839",
    "end": "2140599"
  },
  {
    "text": "right why well created that is actually a Java uh date",
    "start": "2140599",
    "end": "2148400"
  },
  {
    "text": "object right so database doesn't know how to",
    "start": "2148400",
    "end": "2155280"
  },
  {
    "text": "store a Java data so how do you want to store",
    "start": "2155280",
    "end": "2160680"
  },
  {
    "text": "it we could store it a string but one one thing I'm going to",
    "start": "2164000",
    "end": "2169960"
  },
  {
    "text": "want to do down the line is I want to say you know the not just when this was posted",
    "start": "2169960",
    "end": "2176599"
  },
  {
    "text": "but I want to say this was posted 10 minutes ago half an hour ago like relative time it's something that's user friendly so if I put it as string it's",
    "start": "2176599",
    "end": "2183359"
  },
  {
    "text": "not going to be possible necessarily",
    "start": "2183359",
    "end": "2188720"
  },
  {
    "text": "second yeah yeah January 1st 1970 yeah so so that's a good so yeah so we can",
    "start": "2188920",
    "end": "2195640"
  },
  {
    "text": "start it as um um milliseconds so you know get time get",
    "start": "2195640",
    "end": "2203160"
  },
  {
    "text": "time so Returns the time and date is millisecond values the Valu is the",
    "start": "2203160",
    "end": "2209040"
  },
  {
    "text": "number of milliseconds since January 1st 1970 in GMT",
    "start": "2209040",
    "end": "2214720"
  },
  {
    "text": "right so this is what this is is good this is going to work till about 20 35 I",
    "start": "2214720",
    "end": "2220240"
  },
  {
    "text": "think yeah so you know we got a couple of years to milk the this app right so",
    "start": "2220240",
    "end": "2225920"
  },
  {
    "text": "so it's good this will do the job until it you know",
    "start": "2225920",
    "end": "2231640"
  },
  {
    "text": "overflows the actual number so this way we can compare one to",
    "start": "2231640",
    "end": "2238640"
  },
  {
    "text": "another we can it's better than piece of text right cool so so this is good like we",
    "start": "2238640",
    "end": "2245480"
  },
  {
    "text": "got we got our U insert and we got all that stuff",
    "start": "2245480",
    "end": "2255200"
  },
  {
    "text": "yeah how does this stop SQL injection this is it's a great question these",
    "start": "2259359",
    "end": "2264480"
  },
  {
    "text": "statements are what's called a prepared statements so they internally what we're",
    "start": "2264480",
    "end": "2269760"
  },
  {
    "text": "basically saying is I'm going to have a box that is only going to accept an",
    "start": "2269760",
    "end": "2275200"
  },
  {
    "text": "integer and so only integer can go into it I have a box that's only going to accept integer only integer goes there I",
    "start": "2275200",
    "end": "2281720"
  },
  {
    "text": "have a box that's only going to take text only text sanitized text can go",
    "start": "2281720",
    "end": "2286760"
  },
  {
    "text": "into it because the problem where the SQL injection happens is when you escape it so you escape it by doing like semic",
    "start": "2286760",
    "end": "2295359"
  },
  {
    "text": "backs slash quote for example right that's a typical so you want to prevent",
    "start": "2295359",
    "end": "2301520"
  },
  {
    "text": "escaping of that so you basically you know Poor Man's way of sanitizing this would be just to go and replace all to",
    "start": "2301520",
    "end": "2307839"
  },
  {
    "text": "quote all the quotes or to replace all the backs slashes right that sort of",
    "start": "2307839",
    "end": "2314839"
  },
  {
    "text": "way uh no we don't trust J Jer but so whatever the test text is we don't trust",
    "start": "2318200",
    "end": "2324760"
  },
  {
    "text": "that it's sanitized but this this structure values in in this uh we we do",
    "start": "2324760",
    "end": "2330240"
  },
  {
    "text": "know it works as a prepared statements are supposed to",
    "start": "2330240",
    "end": "2334599"
  },
  {
    "text": "do yes either contact values or the actual insert statement I'm not sure exactly",
    "start": "2335520",
    "end": "2340680"
  },
  {
    "text": "which one but I think on the flip side what happens is it says get values get value and that actually gives you the",
    "start": "2340680",
    "end": "2346079"
  },
  {
    "text": "clean stuff so if there's any you know attempt to escape something it's it's not yeah so yeah",
    "start": "2346079",
    "end": "2355359"
  },
  {
    "text": "okay so uh we can now call this guy pass it to status so we call this from",
    "start": "2355359",
    "end": "2363960"
  },
  {
    "text": "where yeah we can do it from update I'm going to do it from refresh because I don't want it to run gazillion times uh but uh",
    "start": "2365440",
    "end": "2375000"
  },
  {
    "text": "anywhere here you could like this is where we have the new status right so this is where we were just printing the",
    "start": "2375000",
    "end": "2381400"
  },
  {
    "text": "status to the log right we were just doing the boring boring part printing into the log so we see it",
    "start": "2381400",
    "end": "2389079"
  },
  {
    "text": "works right",
    "start": "2394240",
    "end": "2398400"
  },
  {
    "text": "so uh what I would do here is I would say something",
    "start": "2401920",
    "end": "2407839"
  },
  {
    "text": "like yeah we need to go yamba yamba app right get the Y app get the application",
    "start": "2407839",
    "end": "2415640"
  },
  {
    "text": "I mean presumably you could do this outside of the of the loop",
    "start": "2415640",
    "end": "2420680"
  },
  {
    "text": "right like if you really wanted to do this outside that make that would make more sense so uh this would be yamba",
    "start": "2420680",
    "end": "2428079"
  },
  {
    "text": "application and Status data so I could basically do something like this status data status",
    "start": "2428079",
    "end": "2436440"
  },
  {
    "text": "data right just so I'm not doing I mean it doesn't really matter you can do that if it's long enough it's your call right",
    "start": "2438400",
    "end": "2446160"
  },
  {
    "text": "so in here I cannot do status status data do insert",
    "start": "2446160",
    "end": "2453800"
  },
  {
    "text": "status woohoo that should do it that's",
    "start": "2453800",
    "end": "2460960"
  },
  {
    "text": "it and that should now put it into the",
    "start": "2461319",
    "end": "2465560"
  },
  {
    "text": "database but the magic of the actual inserting happens in stles data but the",
    "start": "2475640",
    "end": "2481920"
  },
  {
    "text": "yamba app is where we hung it as an object to share across all the bits and pieces of our app",
    "start": "2481920",
    "end": "2489160"
  },
  {
    "text": "right because I know there was a question on Monday somebody had like well would you store certain things like",
    "start": "2489160",
    "end": "2496119"
  },
  {
    "text": "that all right so let me run this and see what",
    "start": "2509200",
    "end": "2514040"
  },
  {
    "text": "happens",
    "start": "2515240",
    "end": "2518240"
  },
  {
    "text": "so if I click on menu refresh I'm going to go to my",
    "start": "2526760",
    "end": "2533599"
  },
  {
    "text": "locket don't need the locket and [Music]",
    "start": "2533599",
    "end": "2539219"
  },
  {
    "text": "everything so there's a there are a bunch of messages handle destroyed",
    "start": "2539359",
    "end": "2545160"
  },
  {
    "text": "right but I'm going to stop my service actually",
    "start": "2545160",
    "end": "2551240"
  },
  {
    "text": "okay so um so we did get the data the question now is the data in the",
    "start": "2551240",
    "end": "2559720"
  },
  {
    "text": "database where's the database",
    "start": "2560440",
    "end": "2567480"
  },
  {
    "text": "H yeah data data so let's go check that out so if I",
    "start": "2567480",
    "end": "2573839"
  },
  {
    "text": "go so if I go one back back I'm in my I'm in my uh data data com example yamba",
    "start": "2574119",
    "end": "2581160"
  },
  {
    "text": "right so now if I do LS oh look there's a new folder called database is so you",
    "start": "2581160",
    "end": "2586599"
  },
  {
    "text": "know you notice that this folder is actually pretty structured you don't get to create random folders inside of it",
    "start": "2586599",
    "end": "2591800"
  },
  {
    "text": "something else does like I did not come up with the name databases Etc",
    "start": "2591800",
    "end": "2597839"
  },
  {
    "text": "right so you can go into that folder databases LS and Bam there's our",
    "start": "2597839",
    "end": "2603839"
  },
  {
    "text": "database timeline",
    "start": "2603839",
    "end": "2608079"
  },
  {
    "text": "okay I'll look into that in a second uh let me know do you guys all have a database files can you identify them so",
    "start": "2617359",
    "end": "2625480"
  },
  {
    "text": "guess what B many of you have problems with create uh the create table and I'm",
    "start": "2625480",
    "end": "2631319"
  },
  {
    "text": "not surprised by that because that's that's to be expected whenever you have like a spaghetti code like this right I",
    "start": "2631319",
    "end": "2637599"
  },
  {
    "text": "mean it's unfortunate that we have to type this kind of stuff but we do the the good news is that once you get it",
    "start": "2637599",
    "end": "2643480"
  },
  {
    "text": "right you got it right right so you just have to get it right once so that's why I usually like to print it out and kind",
    "start": "2643480",
    "end": "2649760"
  },
  {
    "text": "of verify that this actually went through creating the database right so just to kind of print that piece out I'm",
    "start": "2649760",
    "end": "2656240"
  },
  {
    "text": "going to do lock at status status data star star s uh so that was my Cate that",
    "start": "2656240",
    "end": "2664280"
  },
  {
    "text": "was my SQL statement when it was all said and done that seems to have",
    "start": "2664280",
    "end": "2670318"
  },
  {
    "text": "worked silence everything",
    "start": "2681680",
    "end": "2685558"
  },
  {
    "text": "else so another way to verify the database got created is to open it up",
    "start": "2689200",
    "end": "2695160"
  },
  {
    "text": "now the Linux shell first of how many of you are like comfortable with Linux shell bash or anything like that all",
    "start": "2695160",
    "end": "2704000"
  },
  {
    "text": "yeah for those of you who are not I mean it's very useful and um it's nice that in Android we can get down into the",
    "start": "2704000",
    "end": "2710079"
  },
  {
    "text": "shell of the device um so we can actually see what's what's going on um",
    "start": "2710079",
    "end": "2715200"
  },
  {
    "text": "and the good people who build a shell they didn't include a lot of useful tools unfortunately but one tool that",
    "start": "2715200",
    "end": "2721480"
  },
  {
    "text": "did did include is the sqlite database so I can actually right here open up this database on the live device SQL I3",
    "start": "2721480",
    "end": "2729000"
  },
  {
    "text": "timeline. DB",
    "start": "2729000",
    "end": "2733240"
  },
  {
    "text": "right so so you type this in and you're now inside of the",
    "start": "2736280",
    "end": "2742599"
  },
  {
    "text": "database the database right so um keep in mind that as long as you have a SQL",
    "start": "2742599",
    "end": "2749640"
  },
  {
    "text": "SQ thing here you are inside the database right it expects certain",
    "start": "2749640",
    "end": "2754880"
  },
  {
    "text": "commands so if you're not familiar with Linux Char you're probably even less familiar with with sqlite uh stuff so",
    "start": "2754880",
    "end": "2762000"
  },
  {
    "text": "let me give you a crash course in sqlite um you can do um there there's the two",
    "start": "2762000",
    "end": "2769880"
  },
  {
    "text": "kinds of commands you have the commands that are standard SQL right so for example if I did the",
    "start": "2769880",
    "end": "2776319"
  },
  {
    "text": "select star from status semicolon it will work look there's data",
    "start": "2776319",
    "end": "2784079"
  },
  {
    "text": "woohoo that's what I wanted to do to verify so any standard SQL command will",
    "start": "2784079",
    "end": "2792200"
  },
  {
    "text": "work right um but there also the commands",
    "start": "2793640",
    "end": "2799920"
  },
  {
    "text": "that are not standard SQL and they start with the dot so you first one should be",
    "start": "2799920",
    "end": "2806599"
  },
  {
    "text": "doelp there's no semicolon doel tells you all the dot commands or whatever they're called I",
    "start": "2806599",
    "end": "2813599"
  },
  {
    "text": "call them dot commands so um so for example a couple of useful dot",
    "start": "2813599",
    "end": "2819200"
  },
  {
    "text": "commands well dot quit is very useful because you get out of here right uh you you you log",
    "start": "2819200",
    "end": "2827319"
  },
  {
    "text": "out but I like I like dot schema it tells me about the scheme of my database",
    "start": "2827319",
    "end": "2832680"
  },
  {
    "text": "is in other words what the database structure is right and I like dot dump that just",
    "start": "2832680",
    "end": "2840680"
  },
  {
    "text": "tells me that there's data bam there's the dump of my data it's equivalent of like you know",
    "start": "2840680",
    "end": "2846440"
  },
  {
    "text": "um the data that you would need to re statements that you would need to recreate this database from scratch",
    "start": "2846440",
    "end": "2851640"
  },
  {
    "text": "right so if you want to back it up just don't dump it into a file text file and you're",
    "start": "2851640",
    "end": "2858480"
  },
  {
    "text": "done so far good cool so mine worked I got the data",
    "start": "2860280",
    "end": "2866760"
  },
  {
    "text": "everything's good um couple of words of",
    "start": "2866760",
    "end": "2874000"
  },
  {
    "text": "caution um if you start are doing select star from status and then it's like whoa",
    "start": "2874000",
    "end": "2881400"
  },
  {
    "text": "what's going on do help do dump do quit you know you're totally",
    "start": "2881400",
    "end": "2889640"
  },
  {
    "text": "like it's all um confusing right that's because when you start a non do command",
    "start": "2889640",
    "end": "2894880"
  },
  {
    "text": "it's waiting for a semicolon so until you type a semicolon it's not going to do anything right so keep that in",
    "start": "2894880",
    "end": "2901359"
  },
  {
    "text": "mind okay second thing that you is a common",
    "start": "2901359",
    "end": "2907599"
  },
  {
    "text": "mistake um I'm in this file oh there's my database and I say SQL",
    "start": "2907599",
    "end": "2913319"
  },
  {
    "text": "I3 time DV I mistyped",
    "start": "2913319",
    "end": "2920240"
  },
  {
    "text": "it there is no error it just creates a new database and you're like do dump and you're like hell",
    "start": "2920240",
    "end": "2927720"
  },
  {
    "text": "my data is there's no data my data application is not working so now you're off in like you're searching in a",
    "start": "2927720",
    "end": "2933680"
  },
  {
    "text": "totally different place right next thing you know it's 5:00 you got gray hair and all that stuff so be",
    "start": "2933680",
    "end": "2939839"
  },
  {
    "text": "mindful of those couple errors um",
    "start": "2939839",
    "end": "2944200"
  },
  {
    "text": "so uh that's the method data that it uses for uh for",
    "start": "2945319",
    "end": "2952200"
  },
  {
    "text": "story I'm sorry yeah we did there's our status",
    "start": "2952200",
    "end": "2959960"
  },
  {
    "text": "there's another database called meta another table called Android metadata",
    "start": "2959960",
    "end": "2965240"
  },
  {
    "text": "and if you c c it if you um select star from Android metadata that's what",
    "start": "2965240",
    "end": "2973480"
  },
  {
    "text": "it's got a local so it's presumably support some",
    "start": "2973480",
    "end": "2979760"
  },
  {
    "text": "kind of um I don't know I'm not sure I never use it a localization or something of that",
    "start": "2979760",
    "end": "2989200"
  },
  {
    "text": "nature so far so good all right so this is how many everyone",
    "start": "2993680",
    "end": "2999480"
  },
  {
    "text": "got it to work got the data all right for those of you who",
    "start": "2999480",
    "end": "3006040"
  },
  {
    "text": "don't get it to work I'll come around help you out for those of you who got it to work uh run it",
    "start": "3006040",
    "end": "3012799"
  },
  {
    "text": "again run it second time let's see what happens I'm going to run run I'm going to go another menu",
    "start": "3012799",
    "end": "3021520"
  },
  {
    "text": "refresh",
    "start": "3024440",
    "end": "3027440"
  },
  {
    "text": "wait why is nothing showing up oh I I want yeah menu refresh and",
    "start": "3032960",
    "end": "3039559"
  },
  {
    "text": "what you're going to get is going to be a gazillion errors well not gazillion but approximately between 10 and 20",
    "start": "3039559",
    "end": "3046240"
  },
  {
    "text": "right so tell me why and what to do about it okay and let me see for those",
    "start": "3046240",
    "end": "3052400"
  },
  {
    "text": "who didn't work let me see if I can help so okay so it seems like most of you got",
    "start": "3052400",
    "end": "3058079"
  },
  {
    "text": "this so the problem the problem that we are having now it says fail constraint right so that means",
    "start": "3058079",
    "end": "3066640"
  },
  {
    "text": "that you you put a constraint on a database table and this is failing edit and the constraint that we put was this",
    "start": "3066640",
    "end": "3072359"
  },
  {
    "text": "constraint here we said there shall be a integer primary key uh so our e ID shall",
    "start": "3072359",
    "end": "3080160"
  },
  {
    "text": "be a primary key and by the way uh there's something special about this underscore ID",
    "start": "3080160",
    "end": "3086119"
  },
  {
    "text": "like in other words yes you should always oops yes you should always have the uh you should always have the",
    "start": "3086119",
    "end": "3094880"
  },
  {
    "text": "ID right but you know some of you may call it ID some of you may call it ID",
    "start": "3094880",
    "end": "3101119"
  },
  {
    "text": "ETA it's there's something special about the underscore ID there's some stuff that eclip um that um Android gives you",
    "start": "3101119",
    "end": "3108440"
  },
  {
    "text": "for free later on so there's even even to that point there's actually a base column constant called ID",
    "start": "3108440",
    "end": "3116160"
  },
  {
    "text": "this columns",
    "start": "3116160",
    "end": "3121040"
  },
  {
    "text": "ID there um so either way it's it's just a lowercase",
    "start": "3133559",
    "end": "3140160"
  },
  {
    "text": "uncore ID okay so um whatever you guys already have there is right so uh",
    "start": "3140160",
    "end": "3147599"
  },
  {
    "text": "the um the problem",
    "start": "3147599",
    "end": "3153680"
  },
  {
    "text": "with we want to so do we want to keep this P primary or not your database",
    "start": "3153680",
    "end": "3159720"
  },
  {
    "text": "table design says you should have a primary key right um now we could also",
    "start": "3159720",
    "end": "3166400"
  },
  {
    "text": "say Auto increment and manage primary Keys ourselves but Twitter is already doing this worldwide pretty well right",
    "start": "3166400",
    "end": "3173359"
  },
  {
    "text": "so why duplicate the job why I have one ID here another ID there that be toall",
    "start": "3173359",
    "end": "3178880"
  },
  {
    "text": "mismash match right so um remember uh when we talked about it our the purpose",
    "start": "3178880",
    "end": "3186200"
  },
  {
    "text": "of a database in the world of the mobile phones that are easily lost or stolen is",
    "start": "3186200",
    "end": "3192799"
  },
  {
    "text": "to merely be a um a cache an image right",
    "start": "3192799",
    "end": "3198359"
  },
  {
    "text": "so we would want to keep the ID from the remote place right so then the question is how do we",
    "start": "3198359",
    "end": "3205559"
  },
  {
    "text": "deal with this insert well if you look at in insert is failing right here so",
    "start": "3205559",
    "end": "3210640"
  },
  {
    "text": "there is insert but there's is also a command called insert or",
    "start": "3210640",
    "end": "3217920"
  },
  {
    "text": "throws insert or throw right that actually um it's going",
    "start": "3217920",
    "end": "3223839"
  },
  {
    "text": "to fail but it's going to throw an exception you could catch that exception and then go you know go ignore it right",
    "start": "3223839",
    "end": "3228880"
  },
  {
    "text": "you could do that but this exceptions are expensive so you may",
    "start": "3228880",
    "end": "3234119"
  },
  {
    "text": "not want to do that espe especially since we know we're going to be throwing this exception left and right right the",
    "start": "3234119",
    "end": "3240200"
  },
  {
    "text": "alternative is actually a builtin it's called insert or on with or on I can't",
    "start": "3240200",
    "end": "3248440"
  },
  {
    "text": "insert with DB dot insert with on conflict there we go and it's basically",
    "start": "3248440",
    "end": "3255880"
  },
  {
    "text": "the values are the same except there's huh except just except for the very last",
    "start": "3255880",
    "end": "3267078"
  },
  {
    "text": "conflict algorithm and conflict algorithm is going to tell it what to do in certain cases so you can say SQ I",
    "start": "3268280",
    "end": "3275720"
  },
  {
    "text": "think SQL light database dot conflict ignore says",
    "start": "3275720",
    "end": "3282760"
  },
  {
    "text": "when a constraint violation occurs zo when the constraint violation occurs the",
    "start": "3282760",
    "end": "3289839"
  },
  {
    "text": "one row that contains the constraint viation is not inserted or change but the command continues to ex normally",
    "start": "3289839",
    "end": "3295559"
  },
  {
    "text": "other rows before and after the row that contain the violation instantly normally",
    "start": "3295559",
    "end": "3300640"
  },
  {
    "text": "no error is returned that's exactly what you want we're like okay we already know we got a tweet right so just just ignore",
    "start": "3300640",
    "end": "3308119"
  },
  {
    "text": "it right you just you just let Mouse sit",
    "start": "3308119",
    "end": "3314319"
  },
  {
    "text": "there right like if you just put your mouse over something you normally yellow window comes",
    "start": "3314319",
    "end": "3321240"
  },
  {
    "text": "up no no no you do it like this you hit dot",
    "start": "3324000",
    "end": "3330920"
  },
  {
    "text": "then you you slowly as you do through this see how it",
    "start": "3330920",
    "end": "3336119"
  },
  {
    "text": "shows I think it's in the touch but no it should",
    "start": "3338960",
    "end": "3346559"
  },
  {
    "text": "work oh we we'll look into that by the way one thing also didn't tell you what",
    "start": "3346559",
    "end": "3352000"
  },
  {
    "text": "well I might have told you but what um what this method does the pull from",
    "start": "3352000",
    "end": "3359200"
  },
  {
    "text": "Twitter or P get get public timeline get public timeline returns 20 most recent",
    "start": "3359200",
    "end": "3366640"
  },
  {
    "text": "tweets from people in the last 24 hours so if we hit it back to back chances are",
    "start": "3366640",
    "end": "3374160"
  },
  {
    "text": "that you're going to have duplicates right because that's how it's defined right you you get there uh well I don't",
    "start": "3374160",
    "end": "3382000"
  },
  {
    "text": "have a documentation for Jade F I guess so um but it's defined as 20 most recent",
    "start": "3382000",
    "end": "3387599"
  },
  {
    "text": "in 24 hours right so that's that's that so basically",
    "start": "3387599",
    "end": "3395520"
  },
  {
    "text": "now if we do the uh if we just leave uh do this so the only thing that I changed",
    "start": "3395520",
    "end": "3401119"
  },
  {
    "text": "is in this line I added with on conflict okay and I added conflict",
    "start": "3401119",
    "end": "3407599"
  },
  {
    "text": "ignore oh sorry this this message and that fixes that and we are",
    "start": "3407599",
    "end": "3413680"
  },
  {
    "text": "done with it so for that",
    "start": "3413680",
    "end": "3419640"
  },
  {
    "text": "worked cool so this stuff making",
    "start": "3419640",
    "end": "3428319"
  },
  {
    "text": "sense update uh yeah we will we will uh you",
    "start": "3430480",
    "end": "3435920"
  },
  {
    "text": "you can do that as homework it's a oneliner right but but sure we will we",
    "start": "3435920",
    "end": "3442520"
  },
  {
    "text": "will do that um I usually retire update service because",
    "start": "3442520",
    "end": "3449000"
  },
  {
    "text": "I don't like it but uh um but yes so if you wanted to insert it",
    "start": "3449000",
    "end": "3455880"
  },
  {
    "text": "was the same point here right so we got the status and we just got to do yamba",
    "start": "3455880",
    "end": "3461920"
  },
  {
    "text": "app um and then get application right and let me",
    "start": "3461920",
    "end": "3469240"
  },
  {
    "text": "see get application and then it was basically Dot",
    "start": "3469240",
    "end": "3475599"
  },
  {
    "text": "status data do insert status feel like I'm programming in less",
    "start": "3475599",
    "end": "3482640"
  },
  {
    "text": "per something um so that was it and I will now actually insert it as",
    "start": "3482640",
    "end": "3490799"
  },
  {
    "text": "[Music]",
    "start": "3492550",
    "end": "3498160"
  },
  {
    "text": "well",
    "start": "3498160",
    "end": "3501160"
  }
]