[
  {
    "start": "0",
    "end": "31000"
  },
  {
    "text": "thanks for thanks for coming and thanks for having me so yes as West said I've",
    "start": "4060",
    "end": "10480"
  },
  {
    "text": "been at uber for a while working on working on self-driving specifically working on the simulation team like how",
    "start": "10480",
    "end": "18580"
  },
  {
    "text": "we and we test and validate these things and man it is it is such a cool job I",
    "start": "18580",
    "end": "25330"
  },
  {
    "text": "hope you all hope you all find this content is as interesting as I do so let's get right into it a lot of people",
    "start": "25330",
    "end": "32560"
  },
  {
    "start": "31000",
    "end": "31000"
  },
  {
    "text": "want to know why are we doing this like why are we bothering to make to make self-driving cars there are a couple of",
    "start": "32560",
    "end": "39280"
  },
  {
    "text": "sort of fundamental reasons like one is cars kill 1.3 million people a year like",
    "start": "39280",
    "end": "46120"
  },
  {
    "text": "every year 1.3 million people die in the United States the leading cause of death",
    "start": "46120",
    "end": "52210"
  },
  {
    "text": "if you are under 24 is motor vehicle crash so any of you under 24 look out",
    "start": "52210",
    "end": "58390"
  },
  {
    "text": "for those cars because as probably the thing that will kill you this is not",
    "start": "58390",
    "end": "64088"
  },
  {
    "text": "good right like this is like driving is very very dangerous and we can do",
    "start": "64089",
    "end": "69280"
  },
  {
    "text": "something about that and the the reason that uber specifically is interested in",
    "start": "69280",
    "end": "76630"
  },
  {
    "text": "self-driving is we are transportation company and transportation right now is",
    "start": "76630",
    "end": "82600"
  },
  {
    "text": "not accessible to as many people as we would like it to be transportation as a service people have to own cars and in",
    "start": "82600",
    "end": "90759"
  },
  {
    "text": "many parts of the of the world like car ownership is sort of the only way to get around and that is something we would",
    "start": "90759",
    "end": "98319"
  },
  {
    "text": "like to improve and self-driving gives us a way to do that by driving down the costs of transportation as a service",
    "start": "98319",
    "end": "105740"
  },
  {
    "text": "interestingly like the the best way to deploy these self-driving vehicles like",
    "start": "105740",
    "end": "113000"
  },
  {
    "text": "as they're under development they're probably not gonna work everywhere but until they work everywhere and they will",
    "start": "113000",
    "end": "118130"
  },
  {
    "text": "work somewhere and that somewhere is you know service by ride-sharing network",
    "start": "118130",
    "end": "125180"
  },
  {
    "text": "that's the best way to sort of you know add these vehicles you know put these vehicles into service so if you had a",
    "start": "125180",
    "end": "131750"
  },
  {
    "text": "self-driving car that could only go down a you know a small neighborhood that is not a very useful transportation service",
    "start": "131750",
    "end": "138170"
  },
  {
    "text": "but if you get your app out and say I want to go somewhere and if it happens to be either place you want to go is",
    "start": "138170",
    "end": "143269"
  },
  {
    "text": "serviced by self-driving then you can get self-driving and as you know if not",
    "start": "143269",
    "end": "148280"
  },
  {
    "text": "then a person will take you and as the capabilities improve then more and more",
    "start": "148280",
    "end": "153920"
  },
  {
    "text": "rides can be handled by self-driving and interesting nail just telling West a second ago I think this actually",
    "start": "153920",
    "end": "160269"
  },
  {
    "text": "increases demand for people to be doing driving as transportation become those",
    "start": "160269",
    "end": "167420"
  },
  {
    "text": "costs come down and becomes viable to you know compete with personal car ownership there's gonna be more more and",
    "start": "167420",
    "end": "175489"
  },
  {
    "text": "more people needed to fill in the gaps while while autonomy progresses so in",
    "start": "175489",
    "end": "183049"
  },
  {
    "text": "order to accomplish this this is a this is a pretty a pretty big mission that what we're up to you we need four things",
    "start": "183049",
    "end": "189980"
  },
  {
    "text": "we need to make vehicles at scale so we're not we don't have any like I don't",
    "start": "189980",
    "end": "195410"
  },
  {
    "text": "have a factory that's not our factory so we're working with automakers that make",
    "start": "195410",
    "end": "201650"
  },
  {
    "text": "cars and working with them to manufacture them such that we can make",
    "start": "201650",
    "end": "207320"
  },
  {
    "text": "them autonomous cost-effectively and we're building the autonomy systems",
    "start": "207320",
    "end": "213140"
  },
  {
    "text": "themselves so this is the you know the hardware that you know sort of integrates all the sensors as well as",
    "start": "213140",
    "end": "219470"
  },
  {
    "text": "all the all the software that goes on the vehicle and another thing people don't always think about is fleet",
    "start": "219470",
    "end": "225620"
  },
  {
    "text": "operations like if you have if you're not gonna own these cars someone's going to operate them for you that means",
    "start": "225620",
    "end": "231799"
  },
  {
    "text": "somebody's gotta recharge them refuel them you know change tires all the normal",
    "start": "231799",
    "end": "238860"
  },
  {
    "text": "stuff that you would do if you owned a car like now somebody's got to do that and that's you know that's fleet",
    "start": "238860",
    "end": "246480"
  },
  {
    "text": "operations and of course as I said the network right like the making the ride",
    "start": "246480",
    "end": "252150"
  },
  {
    "text": "sharing network except you know some blended amount of of self-driving trips",
    "start": "252150",
    "end": "258000"
  },
  {
    "text": "is is the you know the fourth necessary piece so yeah this is a lot of work and",
    "start": "258000",
    "end": "265730"
  },
  {
    "text": "we are super committed to making this happen which is why we employ over 1400",
    "start": "265730",
    "end": "271590"
  },
  {
    "text": "people just working on self-driving cars they are all over the US and a little",
    "start": "271590",
    "end": "276990"
  },
  {
    "text": "bit into Canada so we we do you know we",
    "start": "276990",
    "end": "282000"
  },
  {
    "text": "do all of those things on the on the previous slide in in sort of all these locations it's some is a major major",
    "start": "282000",
    "end": "288660"
  },
  {
    "text": "program and we are we are super committed to getting this right so let's",
    "start": "288660",
    "end": "293760"
  },
  {
    "text": "take a look at this edge computing device of ours here this is a Volvo xc90",
    "start": "293760",
    "end": "299250"
  },
  {
    "text": "and this is the the latest model that we we call xenon the model names the code",
    "start": "299250",
    "end": "304650"
  },
  {
    "text": "names are all noble gases so this one is currently on the streets of Pittsburgh",
    "start": "304650",
    "end": "309900"
  },
  {
    "text": "and just just started going out around in Dallas and so this is uh this is a",
    "start": "309900",
    "end": "315630"
  },
  {
    "text": "vehicle you know that we get from Volvo and we that they make it special so that",
    "start": "315630",
    "end": "322440"
  },
  {
    "text": "it's easier to integrate the the things that you know to do all the integration that we need to do for our self-driving",
    "start": "322440",
    "end": "329340"
  },
  {
    "text": "so we don't have to kind of rip it all apart and run wires all over the place and you know they give us some you know",
    "start": "329340",
    "end": "336060"
  },
  {
    "text": "better mounting locations and so from the factory it is it is produced to be a",
    "start": "336060",
    "end": "341160"
  },
  {
    "text": "self-driving car and so then we owe and also the Volvo's automatic emergency",
    "start": "341160",
    "end": "348150"
  },
  {
    "text": "braking system crucial sort of redundant piece of equipment but the parts that we",
    "start": "348150",
    "end": "354000"
  },
  {
    "text": "add are the sensors so we take the bumpers off and add some radars all the",
    "start": "354000",
    "end": "359130"
  },
  {
    "text": "way around we have the sensor wing on the top that's got it's got cameras pointing in all directions it's got",
    "start": "359130",
    "end": "366050"
  },
  {
    "text": "360-degree lidar lidar is the most of conspicuous thing that you see if you see when it seems driving around because",
    "start": "366050",
    "end": "372129"
  },
  {
    "text": "it's the only thing that moves so it's like spins around the the lidar is",
    "start": "372129",
    "end": "377159"
  },
  {
    "text": "sixty-four lasers so sixty-four beams that spin around and return a point",
    "start": "377159",
    "end": "383860"
  },
  {
    "text": "cloud very precisely how you know the distance and intensity from all those",
    "start": "383860",
    "end": "390069"
  },
  {
    "text": "sixty-four beams sort of sweeping sweeping the world it's a really great sensor and more cameras and we've still",
    "start": "390069",
    "end": "399249"
  },
  {
    "text": "got some other you know we had some GPS and and some some data modems well I'll talk about those in a minute and then in",
    "start": "399249",
    "end": "406419"
  },
  {
    "text": "the back hidden hidden under the you know and the secret compartment that Volvo made for us is this custom compute",
    "start": "406419",
    "end": "414459"
  },
  {
    "text": "stack and it's a pretty powerful piece of compute that it's kind of like a",
    "start": "414459",
    "end": "421300"
  },
  {
    "text": "little data center and that will I will get into that Oh in the the controls",
    "start": "421300",
    "end": "426879"
  },
  {
    "text": "interface the gateway module it's like how we how we actually interface with the with the vehicle systems so let's",
    "start": "426879",
    "end": "434019"
  },
  {
    "start": "432000",
    "end": "432000"
  },
  {
    "text": "talk about like what you know the the pieces of this the pieces of this system and like sort of what they do with each",
    "start": "434019",
    "end": "440379"
  },
  {
    "text": "other and how they make this whole thing work so we've got a bunch of sensors we talked about most of them they're mentioning them already there's a couple",
    "start": "440379",
    "end": "446829"
  },
  {
    "text": "others there's ultrasonic IMU you know sort of the inertial just the",
    "start": "446829",
    "end": "452709"
  },
  {
    "text": "accelerometers and and like wheel encoders you know some other some other sensors that we can get that just come",
    "start": "452709",
    "end": "457809"
  },
  {
    "text": "with the vehicle that we pull in and we take all that input and we feed it into",
    "start": "457809",
    "end": "463029"
  },
  {
    "text": "a whole bunch of software and that software you know these are these are",
    "start": "463029",
    "end": "469209"
  },
  {
    "text": "sort of the major components of you know that we do in there and those those like",
    "start": "469209",
    "end": "474729"
  },
  {
    "text": "learn how to drive the car you know they understand the world they decide what to do about it they decide where things are",
    "start": "474729",
    "end": "480369"
  },
  {
    "text": "gonna be and what to do about it and then they make a path through the world and those those commands are executed by",
    "start": "480369",
    "end": "487569"
  },
  {
    "text": "the control systems behind the scenes are sort of underneath it all is a",
    "start": "487569",
    "end": "493749"
  },
  {
    "text": "really remarkable amount of computing power that that sort of runs",
    "start": "493749",
    "end": "499139"
  },
  {
    "text": "that software so when we make we take all these you know as we take all these sensors and and we stick them on this",
    "start": "499139",
    "end": "504900"
  },
  {
    "text": "vehicle these are very precise instruments and they need to be",
    "start": "504900",
    "end": "511080"
  },
  {
    "text": "calibrated to produce useful results so as every vehicle is is integrated we put",
    "start": "511080",
    "end": "519089"
  },
  {
    "text": "it through this calibration phase which is pretty cool looking where we spin it around on a turntable and then there are",
    "start": "519089",
    "end": "524459"
  },
  {
    "text": "all these targets are set up and those those measure the the lidar and the",
    "start": "524459",
    "end": "530310"
  },
  {
    "text": "camera performance and with with that information then you know we we can",
    "start": "530310",
    "end": "537839"
  },
  {
    "start": "536000",
    "end": "536000"
  },
  {
    "text": "figure out the physical properties of where the sensors are like too many little variations in instead of how they",
    "start": "537839",
    "end": "544110"
  },
  {
    "text": "were they were installed any manufacturing differences in the",
    "start": "544110",
    "end": "549449"
  },
  {
    "text": "different sensors as well as the little bits of lidar that sort of hit the",
    "start": "549449",
    "end": "555660"
  },
  {
    "text": "vehicle itself as it as it spins around you know you'll you'll know the vehicle is not round and so as the lidar spins",
    "start": "555660",
    "end": "564779"
  },
  {
    "text": "around some parts of it the are blocked by by the laser light and so we we mask",
    "start": "564779",
    "end": "571740"
  },
  {
    "text": "those out so that we don't we don't you know doesn't we don't have to worry about those those returns and those the",
    "start": "571740",
    "end": "580019"
  },
  {
    "text": "exact physical shape of all you know how those returns come back is a little bit different on every vehicle so we",
    "start": "580019",
    "end": "585990"
  },
  {
    "text": "calibrate them all and so inside the vehicle we have some computers about",
    "start": "585990",
    "end": "595140"
  },
  {
    "text": "five of them at the moment and these are x86 machines like that you might you",
    "start": "595140",
    "end": "601949"
  },
  {
    "text": "know the kind that you're familiar with and the they've also got some GPUs and",
    "start": "601949",
    "end": "608370"
  },
  {
    "text": "there are a couple FPGA is in there they talk to each other over a local network so there this is a distributed system",
    "start": "608370",
    "end": "615649"
  },
  {
    "text": "that runs on a car so they",
    "start": "615649",
    "end": "621279"
  },
  {
    "text": "the nodes you know different parts of the autonomy software stack are distributed across these these different",
    "start": "621279",
    "end": "626649"
  },
  {
    "text": "nodes and they do their you know they they coordinate to the sort of do their",
    "start": "626649",
    "end": "632620"
  },
  {
    "text": "work there are some physical connections with with the sensors you know so like",
    "start": "632620",
    "end": "638110"
  },
  {
    "text": "the the lidar sensor has like a special connector that comes off of the you know",
    "start": "638110",
    "end": "645790"
  },
  {
    "text": "the unit that's got to go somewhere and so that physical connector goes into when one of the nodes likewise with the",
    "start": "645790",
    "end": "652779"
  },
  {
    "text": "cameras and instead of all the other sensors there they're connected to individual nodes and information gets",
    "start": "652779",
    "end": "659439"
  },
  {
    "text": "sort of redistributed across that network as well as the controls so that",
    "start": "659439",
    "end": "665170"
  },
  {
    "text": "you know the the interface to the control system is is a physical interface it's got to be connected to some to some node so so so far all of",
    "start": "665170",
    "end": "676329"
  },
  {
    "text": "this is these are these are nodes talking to each other coordinating to around a single task of driving a car we",
    "start": "676329",
    "end": "684819"
  },
  {
    "text": "also need to take in information from the outside world about where people",
    "start": "684819",
    "end": "691209"
  },
  {
    "text": "want to go so we have a telematics module and a couple of LTE modems with",
    "start": "691209",
    "end": "697149"
  },
  {
    "text": "carrier diversity that will that we can take trip requests and send back kind of",
    "start": "697149",
    "end": "704079"
  },
  {
    "text": "you know telemetry and operational data and so so we hold we we haven't we have",
    "start": "704079",
    "end": "710769"
  },
  {
    "text": "an edge computing device this the system has to make all of its decisions locally",
    "start": "710769",
    "end": "717129"
  },
  {
    "text": "so it can't it can't rely on any any systems off board to make any kind of",
    "start": "717129",
    "end": "724839"
  },
  {
    "text": "decisions about how to drive the car so it's gotta use the sensors the all the software that needs to make that",
    "start": "724839",
    "end": "731050"
  },
  {
    "text": "decision has to be onboard all of the all we get from the outside world you",
    "start": "731050",
    "end": "736809"
  },
  {
    "text": "know the outside world of data is where people want to be picked up so we have a",
    "start": "736809",
    "end": "745240"
  },
  {
    "start": "743000",
    "end": "743000"
  },
  {
    "text": "lot of data that we stick onboard inside of these nodes to make all this work and",
    "start": "745240",
    "end": "750309"
  },
  {
    "text": "so if you look if you look inside of one of these nodes you will see we've got we've got a",
    "start": "750309",
    "end": "755790"
  },
  {
    "text": "read-only section where we keep the operating system which is a yo-yo derived Linux distribution that does",
    "start": "755790",
    "end": "763290"
  },
  {
    "text": "secure boot with a signed kernel signed OS image the actual code binaries are",
    "start": "763290",
    "end": "770279"
  },
  {
    "text": "the the executables that that run the autonomy software those are those are",
    "start": "770279",
    "end": "776010"
  },
  {
    "text": "signed by the sort of build and release process and the you know but a bunch of",
    "start": "776010",
    "end": "783990"
  },
  {
    "text": "what happens much of the way these algorithms work is there are learned models that that we need access to to",
    "start": "783990",
    "end": "791130"
  },
  {
    "text": "you know so to just sort of make predictions about the world and all of those models have to be sort of packaged",
    "start": "791130",
    "end": "797550"
  },
  {
    "text": "up and distributed on the on the vehicle and the in the read-only area we also",
    "start": "797550",
    "end": "803100"
  },
  {
    "text": "need HD maps HD maps are high resolution there they're like regular maps except",
    "start": "803100",
    "end": "809269"
  },
  {
    "text": "way more information so so lots of you know detailed detailed data down to sort",
    "start": "809269",
    "end": "816209"
  },
  {
    "text": "of centimeter resolution of where the how the road works and connects to other",
    "start": "816209",
    "end": "821820"
  },
  {
    "text": "things so all those things are are the sort of the things that's how we make",
    "start": "821820",
    "end": "829170"
  },
  {
    "text": "all these decisions locally is we we take the sensor input and it goes through all of this stuff there is also",
    "start": "829170",
    "end": "836490"
  },
  {
    "text": "a writable area for for logs and so we we log all of the sensor data so as the",
    "start": "836490",
    "end": "843510"
  },
  {
    "text": "as the sensors are running they are producing a tremendous amount of data and it all gets saved as well as various",
    "start": "843510",
    "end": "852240"
  },
  {
    "text": "diagnostics from the software itself and a bunch of stuff that that we get from",
    "start": "852240",
    "end": "857250"
  },
  {
    "text": "from the vehicle itself so whatever the vehicles are on their logging whatever is happening so as you",
    "start": "857250",
    "end": "865649"
  },
  {
    "text": "can imagine that is a tremendous amount of data so we do not we do not attempt",
    "start": "865649",
    "end": "871019"
  },
  {
    "text": "to offload this data over the LTE what we do is we take the vehicles into",
    "start": "871019",
    "end": "877270"
  },
  {
    "start": "876000",
    "end": "876000"
  },
  {
    "text": "the depot and when and we docked them with a with a very high throughput",
    "start": "877270",
    "end": "883209"
  },
  {
    "text": "connector and we offload directly from the vehicle through a private network",
    "start": "883209",
    "end": "889570"
  },
  {
    "text": "into the data center we take all the data off that was deemed to be",
    "start": "889570",
    "end": "896130"
  },
  {
    "text": "interesting by whoever was operating the vehicle so whatever they took the vehicle out to go do that vehicle's",
    "start": "896130",
    "end": "902290"
  },
  {
    "text": "mission there's some way of you know sort of ascribing the the intent for",
    "start": "902290",
    "end": "908200"
  },
  {
    "text": "this you know for this log we offload that and based on based on why we why we",
    "start": "908200",
    "end": "915430"
  },
  {
    "text": "drove the car we might do one of one of a few different things and I will",
    "start": "915430",
    "end": "921850"
  },
  {
    "text": "explain them to you now so the first is analytics which is where we try to just",
    "start": "921850",
    "end": "929589"
  },
  {
    "text": "figure out sort of what happened in aggregate so this is usually something",
    "start": "929589",
    "end": "934660"
  },
  {
    "text": "we do off off you know a lot of driving in a in a small area and what we're",
    "start": "934660",
    "end": "940330"
  },
  {
    "text": "trying to learn something about like how often something happens or how well we do want a certain thing or or just try",
    "start": "940330",
    "end": "947470"
  },
  {
    "text": "it trying to understand like what are the what are the performance characteristics of the software in in a",
    "start": "947470",
    "end": "953680"
  },
  {
    "text": "certain in a certain area under certain conditions and so this is another another cool visualization but it's just",
    "start": "953680",
    "end": "960910"
  },
  {
    "text": "sort of shows like if we need a certain capability like how often do we need",
    "start": "960910",
    "end": "966250"
  },
  {
    "text": "that capability and sort of like where geographically is it how long would we need it for so there's lots of cool",
    "start": "966250",
    "end": "973570"
  },
  {
    "text": "stuff we can do there this is a latency graph of showing as we're driving around",
    "start": "973570",
    "end": "978820"
  },
  {
    "text": "this this little loop by our office the end end system latency we're sort of",
    "start": "978820",
    "end": "984190"
  },
  {
    "text": "plotted out so we drove it a whole bunch and then you can sort of see like where where it starting you know things are",
    "start": "984190",
    "end": "990130"
  },
  {
    "text": "fast and things are slow and you can sort of break it down by the subsystems and my my current favourite project is",
    "start": "990130",
    "end": "998800"
  },
  {
    "text": "making scenarios out of sort of detecting little sort of",
    "start": "998800",
    "end": "1004050"
  },
  {
    "text": "repeatable sections of driving behavior based on based on taking logs so the",
    "start": "1004050",
    "end": "1012390"
  },
  {
    "text": "other big thing that we do is we make these HD maps so this is a this is a",
    "start": "1012390",
    "end": "1019040"
  },
  {
    "text": "very labor intensive and compute intensive process and but it's it starts",
    "start": "1019040",
    "end": "1025560"
  },
  {
    "text": "from a log so we to get these maps we have humans drive around while the",
    "start": "1025560",
    "end": "1032040"
  },
  {
    "text": "software is running and so they're they're logging all the sensor data we record all the sensor data and you know",
    "start": "1032040",
    "end": "1038880"
  },
  {
    "text": "with what sort of multiple laps of the same area and then we try to find all",
    "start": "1038880",
    "end": "1045270"
  },
  {
    "text": "the movers and the background kind of fine and once we find those we sort of",
    "start": "1045270",
    "end": "1051210"
  },
  {
    "text": "subtract those out and then we from from basically a bunch of lidar points we",
    "start": "1051210",
    "end": "1057000"
  },
  {
    "text": "have very detailed ground imagery of of an area what we'd like to drive and we",
    "start": "1057000",
    "end": "1063600"
  },
  {
    "text": "merge it all together we have called priors that we can use to localize so",
    "start": "1063600",
    "end": "1070710"
  },
  {
    "text": "the way the vehicle figures out where it is is the lidar spins around and we look at this map and we figure out based on",
    "start": "1070710",
    "end": "1078930"
  },
  {
    "text": "the point cloud that's coming back where must we be on this map and this works",
    "start": "1078930",
    "end": "1084030"
  },
  {
    "text": "really really well or really sort of precisely it's a very accurate way of sort of figuring out where you are",
    "start": "1084030",
    "end": "1090170"
  },
  {
    "text": "compared to GPS so we don't we don't use GPS to to localize the vehicle it's done",
    "start": "1090170",
    "end": "1096810"
  },
  {
    "text": "with its know what lidar but of course also in the in the AV map we have all",
    "start": "1096810",
    "end": "1102060"
  },
  {
    "text": "such of things about Lane connectivity and you know what the traffic signals mean and all this different kind of",
    "start": "1102060",
    "end": "1108870"
  },
  {
    "text": "stuff so the the HD map is is part of",
    "start": "1108870",
    "end": "1114660"
  },
  {
    "text": "you know we we use logs to to produce it but we then take that artifact back and",
    "start": "1114660",
    "end": "1121250"
  },
  {
    "text": "put it on the vehicle it's sort of like a like a cache so we instead of having",
    "start": "1121250",
    "end": "1126870"
  },
  {
    "text": "on board to try to figure out oh these buildings are all in the background every single you know every",
    "start": "1126870",
    "end": "1133550"
  },
  {
    "text": "single cycle of the lidar we have a cache that says those that is definitely",
    "start": "1133550",
    "end": "1138680"
  },
  {
    "text": "a building that's in the background you know you don't need to worry about it so the the biggest thing that we do",
    "start": "1138680",
    "end": "1145730"
  },
  {
    "text": "with logs though is we try to figure out how well the software works performance",
    "start": "1145730",
    "end": "1152480"
  },
  {
    "text": "evaluation like we we drove we had the car driving an autonomy and like what",
    "start": "1152480",
    "end": "1158660"
  },
  {
    "text": "happened like did it did it do what we wanted it to do so if you'll recall this",
    "start": "1158660",
    "end": "1164330"
  },
  {
    "text": "picture you see that Center the center block there that's kind of the main",
    "start": "1164330",
    "end": "1170330"
  },
  {
    "text": "thing that we you know that's the it's the main thing that determines the the",
    "start": "1170330",
    "end": "1175610"
  },
  {
    "text": "you know the vehicles behavior we it's it's the kind you know it's where",
    "start": "1175610",
    "end": "1181220"
  },
  {
    "text": "there's a lot of you know a lot of engineering effort and a lot of complexity and this is of course so this",
    "start": "1181220",
    "end": "1187250"
  },
  {
    "text": "is the part of the day you know that we need to test and evaluate when we're driving but this is unfortunately a very",
    "start": "1187250",
    "end": "1192650"
  },
  {
    "text": "simplified version because the real version of the software it looks like that",
    "start": "1192650",
    "end": "1198470"
  },
  {
    "text": "I think it that's like even sort of a simplified version there's even a",
    "start": "1198470",
    "end": "1203900"
  },
  {
    "text": "crazier version that's just like with all the dependencies mapped out that's that's really interesting to look at but",
    "start": "1203900",
    "end": "1210380"
  },
  {
    "text": "so so you know this is this is a lot of software there's a lot of software and and we need to figure out like whether",
    "start": "1210380",
    "end": "1217430"
  },
  {
    "text": "it's doing the right thing and this is the challenge I think this is this is this is a really interesting problem so",
    "start": "1217430",
    "end": "1224120"
  },
  {
    "text": "so how how do you test that much software and obviously there are some",
    "start": "1224120",
    "end": "1230840"
  },
  {
    "text": "basic just sort of you know you know table stakes like of course you're gonna have unit tests like obviously you know",
    "start": "1230840",
    "end": "1238160"
  },
  {
    "text": "we so we build with with a very recent version of clang and so we have at access to all these like awesome",
    "start": "1238160",
    "end": "1244910"
  },
  {
    "text": "sanitizers for addresses and memory and threads and undefined behavior is what",
    "start": "1244910",
    "end": "1250730"
  },
  {
    "text": "those stand for okay the the software the autonomy software is all C++ so the",
    "start": "1250730",
    "end": "1257390"
  },
  {
    "text": "the binaries that go on on all of the the compute nodes those are all C++ sort",
    "start": "1257390",
    "end": "1263490"
  },
  {
    "text": "of compiled executables and you know so we can do a little bit better than it",
    "start": "1263490",
    "end": "1268950"
  },
  {
    "text": "then then simply unit tests you know we can sort of stitch together some of those you know chunks of that graph that",
    "start": "1268950",
    "end": "1275070"
  },
  {
    "text": "we that we showed a second ago and you know that's that that can help you know like can you load a map can you",
    "start": "1275070",
    "end": "1281850"
  },
  {
    "text": "you know come does this subsystem sort of start up and that's that's good but",
    "start": "1281850",
    "end": "1289220"
  },
  {
    "text": "there is a really interesting problem here which is the what the software does",
    "start": "1289220",
    "end": "1295669"
  },
  {
    "text": "is it changes like depending on what the software does it changes the inputs to",
    "start": "1295669",
    "end": "1302130"
  },
  {
    "text": "the next cycle around so there is a feedback cycle there if you change the",
    "start": "1302130",
    "end": "1308940"
  },
  {
    "text": "software in the middle it will tell the controls to do a different thing which will change what the sensors read and so",
    "start": "1308940",
    "end": "1316440"
  },
  {
    "text": "it's very hard to have these sort of isolated tests like the a change in one",
    "start": "1316440",
    "end": "1323190"
  },
  {
    "text": "of these a change in one subsystem necessitates like testing it and end to",
    "start": "1323190",
    "end": "1329460"
  },
  {
    "text": "make sure those different inputs to your upstream system are still are still",
    "start": "1329460",
    "end": "1334679"
  },
  {
    "text": "gonna work so the only real way to test this kind of stuff at some level is to",
    "start": "1334679",
    "end": "1341309"
  },
  {
    "text": "drive it so to do that we built a track this is a track near near our office in",
    "start": "1341309",
    "end": "1349080"
  },
  {
    "text": "Pittsburgh it's 40 acres an old steel mill site we have 15 kilometres of roads",
    "start": "1349080",
    "end": "1356070"
  },
  {
    "text": "we've got stop signs and traffic signals and what else well we have we have like",
    "start": "1356070",
    "end": "1363929"
  },
  {
    "text": "city buses we have school buses we have police cars we have pedestrian crossings and bicycle lanes shipping containers",
    "start": "1363929",
    "end": "1371309"
  },
  {
    "text": "and stuff that we can you know make walls and things out of we we made a map",
    "start": "1371309",
    "end": "1377970"
  },
  {
    "text": "out of it all and all the streets are named after mr. Rogers neighborhood characters because they're in Pittsburgh",
    "start": "1377970",
    "end": "1383940"
  },
  {
    "text": "so it's very cool to see you know like make-believe Lane and trolley drive and all that but anyway so so we have this",
    "start": "1383940",
    "end": "1390960"
  },
  {
    "text": "track in and you can you can you like real end-to-end testing on it we we have a team of test engineers that",
    "start": "1390960",
    "end": "1398549"
  },
  {
    "text": "go out to this track and they set up scenarios and they use these robotic",
    "start": "1398549",
    "end": "1404519"
  },
  {
    "text": "stand-ins for for pedestrians cyclists that sort of thing or or you know real",
    "start": "1404519",
    "end": "1411239"
  },
  {
    "text": "cars with people in them or they have foam cars so there's there's all these",
    "start": "1411239",
    "end": "1416429"
  },
  {
    "text": "tools that we can use to sort of recreate different scenarios that we want to test at the track and this is",
    "start": "1416429",
    "end": "1424619"
  },
  {
    "start": "1424000",
    "end": "1424000"
  },
  {
    "text": "the the crucial sort of the the crucial concept here is scenario based testing",
    "start": "1424619",
    "end": "1430440"
  },
  {
    "text": "we don't we don't put the cars on the track and say drive around and just see",
    "start": "1430440",
    "end": "1436559"
  },
  {
    "text": "if it seems good right like that'll be that would be very inefficient so we have a set of scenarios that we have to",
    "start": "1436559",
    "end": "1442799"
  },
  {
    "text": "pass called a track verification test and these scenarios are all formally",
    "start": "1442799",
    "end": "1449099"
  },
  {
    "text": "specified like there's a team of people they make maps like that one that say like you come in here and this is the",
    "start": "1449099",
    "end": "1454950"
  },
  {
    "text": "you know approach speed and this is the speed of the Romer and the distance that you know will be triggered at and they",
    "start": "1454950",
    "end": "1462659"
  },
  {
    "text": "recreate the as close as they can the same scenario every single time and so",
    "start": "1462659",
    "end": "1468269"
  },
  {
    "text": "that's that's how we tested the track the problem as you can probably see",
    "start": "1468269",
    "end": "1474450"
  },
  {
    "start": "1473000",
    "end": "1473000"
  },
  {
    "text": "coming here is that is gonna take a lot of time so that only happens at real",
    "start": "1474450",
    "end": "1482999"
  },
  {
    "text": "time and so the number of scenarios you can evaluate is based on how many like",
    "start": "1482999",
    "end": "1491099"
  },
  {
    "text": "cars you have and how many of them you can fit into a space and forty acres is",
    "start": "1491099",
    "end": "1496259"
  },
  {
    "text": "a lot but it's not that much so the the way you know the the throughput that we",
    "start": "1496259",
    "end": "1503190"
  },
  {
    "text": "can get out of out of track testing is nowhere near where we want it to be",
    "start": "1503190",
    "end": "1509609"
  },
  {
    "text": "it's so like importantly you imagine if you're a developer and you're working on some you're working on some change and you say okay cool I think this is good",
    "start": "1509609",
    "end": "1517019"
  },
  {
    "text": "this is a good change like sound sounds good can we test it at the track like imagine you you do your work",
    "start": "1517019",
    "end": "1524280"
  },
  {
    "text": "you've been you're gonna test good job and you're like sweet when can I get on the track and it turns out it will take",
    "start": "1524280",
    "end": "1531120"
  },
  {
    "text": "you know three days to get your answer back like that is a that is a pretty",
    "start": "1531120",
    "end": "1536210"
  },
  {
    "text": "unacceptably long turnaround cycle to to sort of get get a new answer so you know",
    "start": "1536210",
    "end": "1543960"
  },
  {
    "text": "that feedback cycle is is no good and so what we really want to do is be able to",
    "start": "1543960",
    "end": "1550260"
  },
  {
    "text": "run the software on something that isn't a car I think that isn't a car and it",
    "start": "1550260",
    "end": "1555300"
  },
  {
    "text": "isn't at a track that will give us much much more throughput and for that we",
    "start": "1555300",
    "end": "1560790"
  },
  {
    "text": "turn to simulation so simulation is where we run that software somewhere",
    "start": "1560790",
    "end": "1566670"
  },
  {
    "text": "else and one way that we could do this is what's called Hardware in the loop",
    "start": "1566670",
    "end": "1572550"
  },
  {
    "text": "simulation where you take some sensor data and you connect it up to the actual",
    "start": "1572550",
    "end": "1578280"
  },
  {
    "text": "vehicle Hardware either like maybe you put one of the you know you built a",
    "start": "1578280",
    "end": "1583620"
  },
  {
    "text": "little compute note you know compute module on a bench or maybe you built a",
    "start": "1583620",
    "end": "1589140"
  },
  {
    "text": "few of them and stuck them in the data center or maybe you plug them into a car at night when the cars are docked and",
    "start": "1589140",
    "end": "1596010"
  },
  {
    "text": "use an actual car plugged in you know didn't just send send a sensor data all",
    "start": "1596010",
    "end": "1603360"
  },
  {
    "text": "of those are good options but again they are still very expensive and limited by",
    "start": "1603360",
    "end": "1609540"
  },
  {
    "text": "how many of those vehicle Hardware stacks you want to build they also have",
    "start": "1609540",
    "end": "1617670"
  },
  {
    "text": "an interesting property which is while they run real time you know so you you feed sensor data in as fast as you would",
    "start": "1617670",
    "end": "1623910"
  },
  {
    "text": "if it was if the software was really running there's no guarantee that for",
    "start": "1623910",
    "end": "1629730"
  },
  {
    "text": "the same set of inputs that you will get exactly the same set of outputs so there",
    "start": "1629730",
    "end": "1636210"
  },
  {
    "text": "are remember there are five machines that are doing this work here this is a distributed system furthermore there are",
    "start": "1636210",
    "end": "1642270"
  },
  {
    "text": "GPUs involved and they're sometimes the subtle timing differences slightly",
    "start": "1642270",
    "end": "1649260"
  },
  {
    "text": "change the output so if you're working on a problem and you say great I'm gonna run this on the",
    "start": "1649260",
    "end": "1655110"
  },
  {
    "text": "the hill bench you might not get exactly the same answer every time which is a",
    "start": "1655110",
    "end": "1661370"
  },
  {
    "text": "little frustrating so what we use the hill bench for is to understand the",
    "start": "1661370",
    "end": "1667140"
  },
  {
    "text": "performance and sort of integration issues so like the understanding the actual performance of the software when it runs",
    "start": "1667140",
    "end": "1673350"
  },
  {
    "text": "on realistic hardware in a sort of realistic timing environment we can we",
    "start": "1673350",
    "end": "1679380"
  },
  {
    "text": "can get that from from hill and we can you know extract a bunch of analytics about how how well things are running in",
    "start": "1679380",
    "end": "1686909"
  },
  {
    "text": "a way that we we wouldn't do on an actual car so that's pretty good but it",
    "start": "1686909",
    "end": "1693360"
  },
  {
    "text": "still doesn't fix the still doesn't fix the throughput problem so for that we",
    "start": "1693360",
    "end": "1699120"
  },
  {
    "text": "turn to the sill testing software in the loop where we take our sensor data and",
    "start": "1699120",
    "end": "1704940"
  },
  {
    "text": "we run it not on a vehicle on normal",
    "start": "1704940",
    "end": "1709980"
  },
  {
    "text": "computers that people have or that you can get from cloud providers or that you might put in your data center now what",
    "start": "1709980",
    "end": "1717330"
  },
  {
    "text": "that means is we don't have this like really awesome sort of timing accurate",
    "start": "1717330",
    "end": "1724190"
  },
  {
    "text": "performance accurate set of hardware to run the software on we maybe don't have",
    "start": "1724190",
    "end": "1729480"
  },
  {
    "text": "the same number of GPUs or the same kind of GPUs with there's there's sort of no",
    "start": "1729480",
    "end": "1734700"
  },
  {
    "text": "way to get the exact vehicle performance out of out of this commodity hardware so",
    "start": "1734700",
    "end": "1742580"
  },
  {
    "text": "what we do is we run the software in what we call single task determinism",
    "start": "1742580",
    "end": "1749070"
  },
  {
    "text": "mode where we fix the other problem with hill testing which is we make the",
    "start": "1749070",
    "end": "1754110"
  },
  {
    "text": "results perfectly repeatable so if you run with the same set of inputs twice you will get exactly the same results so",
    "start": "1754110",
    "end": "1762750"
  },
  {
    "text": "we step the you know the autonomy there's a there's an executive that sort of controls all the autonomy tasks and",
    "start": "1762750",
    "end": "1769260"
  },
  {
    "text": "like allows the messages to pass orderly or you know in its prescribed order",
    "start": "1769260",
    "end": "1774950"
  },
  {
    "text": "through through the graph and that's slower that is much slower than if you",
    "start": "1774950",
    "end": "1782309"
  },
  {
    "text": "were running it on the real hardware but it gives you the same result every time importantly also because",
    "start": "1782309",
    "end": "1790470"
  },
  {
    "text": "there runs on commodity hardware we can run this on thousands of machines and",
    "start": "1790470",
    "end": "1796419"
  },
  {
    "text": "then just give them back to the cloud provider when we're done so this is this",
    "start": "1796419",
    "end": "1802330"
  },
  {
    "text": "is sort of the the bulk of the kind of energy that goes into measuring autonomy",
    "start": "1802330",
    "end": "1807340"
  },
  {
    "text": "performance is at least for us is is with software in the Lib testing and so",
    "start": "1807340",
    "end": "1813549"
  },
  {
    "start": "1812000",
    "end": "1812000"
  },
  {
    "text": "the the main there there are two kinds of software in lib testing that we use",
    "start": "1813549",
    "end": "1818889"
  },
  {
    "text": "one is log base simulation where so we have our you know this is our sort of software stack running in single tasks",
    "start": "1818889",
    "end": "1825129"
  },
  {
    "text": "determinism and we replay a log like we read the censors back from a log and",
    "start": "1825129",
    "end": "1830580"
  },
  {
    "text": "when and we have a simulator for how to execute those controls so there's a you",
    "start": "1830580",
    "end": "1837850"
  },
  {
    "text": "know vehicle dynamics model and it says o based on these you know controls inputs like I'm gonna move you through",
    "start": "1837850",
    "end": "1843399"
  },
  {
    "text": "the world or whatever and then we take that we take the output and of you know",
    "start": "1843399",
    "end": "1850149"
  },
  {
    "text": "where the vehicle is and we run it all the way back to the beginning and send",
    "start": "1850149",
    "end": "1856600"
  },
  {
    "text": "send more send more sets of data through the thing so before we before we get into even even more like interesting",
    "start": "1856600",
    "end": "1862450"
  },
  {
    "text": "tricky problems quick glossary in case you are not working on robotics there",
    "start": "1862450",
    "end": "1869049"
  },
  {
    "start": "1863000",
    "end": "1863000"
  },
  {
    "text": "are a few terms that I just want to use because it's much more it's much easier to talk about and also it's baked into",
    "start": "1869049",
    "end": "1875409"
  },
  {
    "text": "some of these images pose is the position and orientation of an object it just means like where it is and where",
    "start": "1875409",
    "end": "1880990"
  },
  {
    "text": "it's where it's facing occlusion is like blockage or obstruction so like if your sensor can't see something because",
    "start": "1880990",
    "end": "1887320"
  },
  {
    "text": "there's something else in front of it and jerk is their rate of change of acceleration so that's not no not",
    "start": "1887320",
    "end": "1897159"
  },
  {
    "text": "relevant to simulation actually it's more of just when you see these words now now you know what they mean",
    "start": "1897159",
    "end": "1902440"
  },
  {
    "text": "so vehicle pose like what the vehicle model spits out is okay well now the AV is",
    "start": "1902440",
    "end": "1909600"
  },
  {
    "text": "here in this position in its spacing this way so what you might wonder and this is",
    "start": "1909600",
    "end": "1915850"
  },
  {
    "text": "what I wondered when I first start working on this problem is how is this at all possible to replay",
    "start": "1915850",
    "end": "1920890"
  },
  {
    "text": "sensor data through a new version of the software and do anything realistic because as soon as you do something",
    "start": "1920890",
    "end": "1927070"
  },
  {
    "text": "slightly different then the whole log becomes a valid right well you'd sort of",
    "start": "1927070",
    "end": "1932500"
  },
  {
    "text": "think that and you're kind of right because the log itself is definitely static and the log base emulator is",
    "start": "1932500",
    "end": "1941250"
  },
  {
    "text": "mostly an open-loop simulation because we can't change the sensor data it's pre-recorded but there is an interesting",
    "start": "1941250",
    "end": "1949000"
  },
  {
    "text": "thing that we can do to get us a feedback cycle that's that's useful for testing which is the output of",
    "start": "1949000",
    "end": "1956020"
  },
  {
    "text": "perception uses coordinates in the map so if you know no matter where the",
    "start": "1956020",
    "end": "1963820"
  },
  {
    "text": "vehicle is it will still says the the objects we perceive are at these locations so if we so so if the autonomy",
    "start": "1963820",
    "end": "1972429"
  },
  {
    "text": "software decides to do something different in in the log replay simulation the objects still appear to",
    "start": "1972429",
    "end": "1978429"
  },
  {
    "text": "show up at the right places so here's an example of the log sim so there's an",
    "start": "1978429",
    "end": "1984070"
  },
  {
    "text": "original log sort of making a left turn there and the ghost vehicle is the",
    "start": "1984070",
    "end": "1990309"
  },
  {
    "text": "logged actor or the log AV and the solid vehicle is the simulated one and so when",
    "start": "1990309",
    "end": "1997510"
  },
  {
    "text": "the when the logged vehicle diverges from the the simulated vehicle were",
    "start": "1997510",
    "end": "2005419"
  },
  {
    "text": "effectively running a perception from the perspective of the launch vehicle",
    "start": "2005419",
    "end": "2010940"
  },
  {
    "text": "but as long as they're they're not too far away this ends up producing use",
    "start": "2010940",
    "end": "2017100"
  },
  {
    "text": "useful results another big problem of course is all the actors that are in the",
    "start": "2017100",
    "end": "2022590"
  },
  {
    "text": "log there and they're gonna do whatever it is that they did so if the simulator decides to do something different it's",
    "start": "2022590",
    "end": "2029039"
  },
  {
    "text": "too bad they're just gonna like run right through you so if we slightly change the timing of",
    "start": "2029039",
    "end": "2034830"
  },
  {
    "text": "this interaction we see that the the log to AV goes way off there and then people",
    "start": "2034830",
    "end": "2041309"
  },
  {
    "text": "are just plowing through us you know in like phantom car mode you also see the",
    "start": "2041309",
    "end": "2047640"
  },
  {
    "text": "interesting artifact of when that when the log AV it's way far away the vehicles start to",
    "start": "2047640",
    "end": "2053870"
  },
  {
    "text": "flicker right where the simulated Navy is because the perception is actually running like way down the road and it",
    "start": "2053870",
    "end": "2062210"
  },
  {
    "text": "starts to lose sight of those those vehicles behind it so clearly you don't",
    "start": "2062210",
    "end": "2068659"
  },
  {
    "start": "2067000",
    "end": "2067000"
  },
  {
    "text": "this you know there's there's a limit to how far you can push this but for a small amount of divergence this ends up",
    "start": "2068660",
    "end": "2074270"
  },
  {
    "text": "working pretty well you still get sort of predictive results but when when you",
    "start": "2074270",
    "end": "2079909"
  },
  {
    "start": "2078000",
    "end": "2078000"
  },
  {
    "text": "want to take a log and play it back through through a simulator you can't just like drop that Tana Mesa for like",
    "start": "2079910",
    "end": "2085370"
  },
  {
    "text": "right in the middle of some place because the algorithms all built up State and you have to cede that state so",
    "start": "2085370",
    "end": "2092270"
  },
  {
    "text": "what we do is we have a thing called pre-roll where we drag the a/v along",
    "start": "2092270",
    "end": "2097610"
  },
  {
    "text": "whether it likes it or not and we just we just force it with the",
    "start": "2097610",
    "end": "2103280"
  },
  {
    "text": "with the log pose and we say I don't care what you think you're trying to do but where you are now is here and we let",
    "start": "2103280",
    "end": "2109580"
  },
  {
    "text": "it you know pretend that it's controlling something but it just gets dragged along and then at the moment",
    "start": "2109580",
    "end": "2115580"
  },
  {
    "text": "where we want to test something then we flip it to the normal mode after all",
    "start": "2115580",
    "end": "2120710"
  },
  {
    "text": "that algorithms have their their state all sort of you know RIA cumulated then",
    "start": "2120710",
    "end": "2125720"
  },
  {
    "text": "we then we let it drive and so I you know also you can see we can't do log",
    "start": "2125720",
    "end": "2131030"
  },
  {
    "text": "sim for very long because the chance of divergence is just too high so usually we run you know 5 10 second",
    "start": "2131030",
    "end": "2137750"
  },
  {
    "text": "snippet it's just just some interaction and just to make sure that that that we do the right thing in interaction well",
    "start": "2137750",
    "end": "2145580"
  },
  {
    "text": "so the other kind of simulation that we do is we call virtual simulations some people call it different names but this",
    "start": "2145580",
    "end": "2152750"
  },
  {
    "start": "2146000",
    "end": "2146000"
  },
  {
    "text": "is this is where we take a sim again engine we use it Unreal Engine and we",
    "start": "2152750",
    "end": "2159080"
  },
  {
    "text": "have a virtual world and we feed the we we feed it detected objects so we skip a",
    "start": "2159080",
    "end": "2164960"
  },
  {
    "text": "little bit of perception but then we run the rest of the stack and interestingly this allows us to have a closed a full",
    "start": "2164960",
    "end": "2173960"
  },
  {
    "text": "closed loop so we don't have to have all those weird divergents artifacts and and",
    "start": "2173960",
    "end": "2180200"
  },
  {
    "text": "you know and you know actors we can have we can make traffic you know we can make",
    "start": "2180200",
    "end": "2185390"
  },
  {
    "text": "our own traffic like this is a just some map that somebody made and they just threw a bunch of actors down and and you",
    "start": "2185390",
    "end": "2192200"
  },
  {
    "text": "know that the queue behind each other and you know none of none of these are real cars this is all scene that",
    "start": "2192200",
    "end": "2199579"
  },
  {
    "text": "somebody just set up and so the other thing that we can do in virtual Sam is we can very we can vary the parameters",
    "start": "2199579",
    "end": "2207440"
  },
  {
    "text": "of a certain interaction so instead of running one single vlog example we can run thousands of subtle permutations you",
    "start": "2207440",
    "end": "2216140"
  },
  {
    "text": "know we can we can vary if there's a trigger that sends an actor along a way we can vary the the distance from the",
    "start": "2216140",
    "end": "2223070"
  },
  {
    "text": "from the vehicle for the trigger the speed of the of the actor and it can actually be a multi-dimensional variable",
    "start": "2223070",
    "end": "2229640"
  },
  {
    "text": "space so you're probably wondering wow that's cool but how will you ever understand the output of let's just say",
    "start": "2229640",
    "end": "2237079"
  },
  {
    "text": "10,000 things well it turns out it's really hard to understand the output of 10,000 things and so we built we built",
    "start": "2237079",
    "end": "2244339"
  },
  {
    "text": "some tools that help you do that and so and this this is a tool we made called variations Explorer where it",
    "start": "2244339",
    "end": "2250970"
  },
  {
    "text": "allows engineers to sort of poke around the result set and say you know understand like based on the the",
    "start": "2250970",
    "end": "2257300"
  },
  {
    "text": "different you know the things that were being varied like how did the software perform and sometimes it's like the the",
    "start": "2257300",
    "end": "2264619"
  },
  {
    "text": "yellow and purple ones are our pass/fail so that's like a problem like somebody is exploring but the other one the green",
    "start": "2264619",
    "end": "2271099"
  },
  {
    "text": "one is some other metric about like how the software behaved under under those",
    "start": "2271099",
    "end": "2277339"
  },
  {
    "text": "circumstances and so so this this is a super powerful tool to really understand",
    "start": "2277339",
    "end": "2283490"
  },
  {
    "text": "like more thoroughly a given scenario like like how well we do here is an",
    "start": "2283490",
    "end": "2290030"
  },
  {
    "text": "example that we did of finding a problem before it ever made it to the car so",
    "start": "2290030",
    "end": "2297260"
  },
  {
    "text": "this is a this is an intersection in Pittsburgh where we want to drive and notably there is a stop sign that you",
    "start": "2297260",
    "end": "2303170"
  },
  {
    "text": "see but there's no stop sign the other way this is what we call an unprotected right so we want to make a right turn there so we made this we put this in",
    "start": "2303170",
    "end": "2310369"
  },
  {
    "text": "simulation and you were to just sort of pick some values for like how to how to add cross",
    "start": "2310369",
    "end": "2316839"
  },
  {
    "text": "traffic to this situation you might sort of naively come up with I don't know something like this is it going oh yeah",
    "start": "2316839",
    "end": "2325299"
  },
  {
    "text": "where you know you just consciously wait and then you know there's some cross traffic and there it is yeah so good job",
    "start": "2325299",
    "end": "2332980"
  },
  {
    "text": "we did the right thing but as you know like there are so many other possible",
    "start": "2332980",
    "end": "2338769"
  },
  {
    "text": "ways that that a sort of yield operation like that could go and so what we did is",
    "start": "2338769",
    "end": "2343809"
  },
  {
    "text": "we made a parameter sweep where we ran this thousands of times where we varied the speed of the cross traffic and the",
    "start": "2343809",
    "end": "2350349"
  },
  {
    "text": "distance for when they start moving and we found something really surprising",
    "start": "2350349",
    "end": "2355480"
  },
  {
    "text": "which is the red box there where it",
    "start": "2355480",
    "end": "2360910"
  },
  {
    "text": "turns out due to bugs that are complicated and I'm not going to go into under certain very specific conditions",
    "start": "2360910",
    "end": "2368609"
  },
  {
    "text": "we actually do the wrong thing but you",
    "start": "2368609",
    "end": "2373839"
  },
  {
    "text": "can do that in the simulation all day long right like that's that's why we have it so that's a you know you would",
    "start": "2373839",
    "end": "2380859"
  },
  {
    "text": "never be able to to know whether the software was gonna do the right thing by by just driving it on the track or even",
    "start": "2380859",
    "end": "2387309"
  },
  {
    "text": "even driving on the road because we just did one go we ran it a thousand times so we used a thousand computers and then",
    "start": "2387309",
    "end": "2395380"
  },
  {
    "text": "we turn them off when we're done here's another example of a problem that we",
    "start": "2395380",
    "end": "2401230"
  },
  {
    "text": "work on in simulation this is a really really important one and this is where occlusion comes in so notice how the bus",
    "start": "2401230",
    "end": "2409779"
  },
  {
    "text": "is blocking the view of the child who's who's running across and you just can't",
    "start": "2409779",
    "end": "2417160"
  },
  {
    "text": "you can't see her coming and the light is green so we're proceeding ahead but",
    "start": "2417160",
    "end": "2422619"
  },
  {
    "text": "she's running that's no good that's a problem we have to make sure that we handle so what we do is we recreate this",
    "start": "2422619",
    "end": "2430059"
  },
  {
    "text": "at the track with a little robot dude but I don't even notice like when you",
    "start": "2430059",
    "end": "2435970"
  },
  {
    "text": "when you're sitting in the driver's seat you just can't see if you just barely look through the bus you can sort of see it",
    "start": "2435970",
    "end": "2441780"
  },
  {
    "text": "coming but it's it's really really tricky so this is occlusion and occlusion is a is a really tricky",
    "start": "2441780",
    "end": "2448890"
  },
  {
    "text": "problem so what we do that's the laser trigger and the test ops team and they're setting up their little robot",
    "start": "2448890",
    "end": "2455790"
  },
  {
    "text": "room or guy and it's like tough right so we take this and we built we built it in",
    "start": "2455790",
    "end": "2464190"
  },
  {
    "text": "the simulator so we built this is like the the Unreal based editor and so like",
    "start": "2464190",
    "end": "2470060"
  },
  {
    "text": "we go add a path travel for the a/v we put a bus in there and set up a trigger",
    "start": "2470060",
    "end": "2478430"
  },
  {
    "text": "anyway you get the idea we've run it and then we'll make sure that it's sort of",
    "start": "2478430",
    "end": "2483780"
  },
  {
    "text": "having the interaction that we like and then we tested the track and make sure",
    "start": "2483780",
    "end": "2489480"
  },
  {
    "text": "make sure that we got it right and that's so that's like the that is the",
    "start": "2489480",
    "end": "2495090"
  },
  {
    "text": "the power of simulation a tricky problem though is how do you know whether you",
    "start": "2495090",
    "end": "2501150"
  },
  {
    "start": "2497000",
    "end": "2497000"
  },
  {
    "text": "actually are doing the right thing like how do you know whether a given situation like it should it is correct",
    "start": "2501150",
    "end": "2507570"
  },
  {
    "text": "or incorrect it's once you add variations to your world it is is really",
    "start": "2507570",
    "end": "2514020"
  },
  {
    "text": "problematic so because you can Explorer you can test things all the way to",
    "start": "2514020",
    "end": "2519750"
  },
  {
    "text": "failure and so anyway so we built a system called SR which is our sort of framework for for deciding whether",
    "start": "2519750",
    "end": "2526980"
  },
  {
    "text": "something should pass or something should fail and it sort of adapts to situations that it sees and and it has a",
    "start": "2526980",
    "end": "2533490"
  },
  {
    "text": "correct response with sort of the the driving requirements associated with that response and yeah so here's an",
    "start": "2533490",
    "end": "2540960"
  },
  {
    "text": "example of where there are two cases that they look very similar and in one",
    "start": "2540960",
    "end": "2546900"
  },
  {
    "text": "case the correct thing on the left the correct thing to do is slam on the brakes and then on the right the correct",
    "start": "2546900",
    "end": "2552480"
  },
  {
    "text": "thing to do is gently put on the brakes like they're both you know you'll yield to pedestrians but one there you want",
    "start": "2552480",
    "end": "2561420"
  },
  {
    "text": "hard need hard braking but the other one if you sliding on the brakes on the right that would be very surprising",
    "start": "2561420",
    "end": "2567460"
  },
  {
    "text": "comfortable and people behind you you would be at risk of right so so a very",
    "start": "2567460",
    "end": "2573340"
  },
  {
    "text": "similar situation but to sort of different appropriate responses so how",
    "start": "2573340",
    "end": "2579730"
  },
  {
    "text": "do we know that any of this actually matches the real-world tricky problem because as I said sim is we were the",
    "start": "2579730",
    "end": "2588460"
  },
  {
    "text": "software in the loop testing we run is deterministic so that that sort of red line there like every single time you",
    "start": "2588460",
    "end": "2594190"
  },
  {
    "text": "run you know run simulation you get the same answer this is us trying to do the same thing thirty times on the track and",
    "start": "2594190",
    "end": "2601590"
  },
  {
    "text": "you know it's like a little bit different here's a sort of another view of that same data this is this is the",
    "start": "2601590",
    "end": "2608080"
  },
  {
    "text": "path time divergence of at the track doing the same thing thirty times and so",
    "start": "2608080",
    "end": "2613780"
  },
  {
    "text": "you know it's pretty close when you do it at the track but even at the track you can't quite get it but we have found",
    "start": "2613780",
    "end": "2620770"
  },
  {
    "text": "problems to this this is one test we did where for some reason the SDB was doing",
    "start": "2620770",
    "end": "2626260"
  },
  {
    "text": "a very very different thing and we looked into it and we are like whoa that's pretty different and it turns out",
    "start": "2626260",
    "end": "2634360"
  },
  {
    "text": "that what happened was we weren't modeling occlusion correctly and we were letting it see a traffic signal that it",
    "start": "2634360",
    "end": "2642220"
  },
  {
    "text": "shouldn't have been able to see and so it was cheating and it was slamming on the brakes like way too soon and",
    "start": "2642220",
    "end": "2647740"
  },
  {
    "text": "defeating the whole purpose of the test so we fixed the bug with the occlusion modeling and now it's the results are",
    "start": "2647740",
    "end": "2653410"
  },
  {
    "text": "are sort of where where you'd expect them to be so as I said before like we",
    "start": "2653410",
    "end": "2658450"
  },
  {
    "start": "2655000",
    "end": "2655000"
  },
  {
    "text": "we run all this stuff where else up in the cloud it's an ideal workload for running in public cloud isn't that very",
    "start": "2658450",
    "end": "2664030"
  },
  {
    "text": "edge but still I think kind of interesting because as a developer you can spin up a giant fleet of virtual",
    "start": "2664030",
    "end": "2672070"
  },
  {
    "text": "vehicles and then shut them down after you have tested your tested your software so yeah the you know it's it's",
    "start": "2672070",
    "end": "2680200"
  },
  {
    "text": "only when when you want to test something and then you don't you know need to leave it running for a long time",
    "start": "2680200",
    "end": "2687660"
  },
  {
    "text": "so some of these experiments you know I said thousands but but there are some some actual workflows that use a hundred",
    "start": "2687660",
    "end": "2695320"
  },
  {
    "text": "thousand so we need to run thousand simulations and figure something out somebody is asking now for",
    "start": "2695320",
    "end": "2701909"
  },
  {
    "text": "a million which we don't yet do like one test for a million but we'll get there",
    "start": "2701909",
    "end": "2708529"
  },
  {
    "text": "you know this is you can just see you like on the weekends we don't it we don't have that many computers but",
    "start": "2708529",
    "end": "2714749"
  },
  {
    "text": "during once people come in on Monday all sudden we need we need a lot of",
    "start": "2714749",
    "end": "2719909"
  },
  {
    "text": "computers so if you imagine like the developer workflow now now that we have simulation like you can sort of imagine",
    "start": "2719909",
    "end": "2726269"
  },
  {
    "text": "like how you're when you to test like you run you know you run your simulation suite and then yeah okay yeah you'll",
    "start": "2726269",
    "end": "2732179"
  },
  {
    "text": "definitely tell us on the track but like your changes get aggregated with a bunch",
    "start": "2732179",
    "end": "2737399"
  },
  {
    "text": "of other people's changes and you know of course if there's a regression on the track like you'll have to bisect it and",
    "start": "2737399",
    "end": "2742769"
  },
  {
    "text": "figure it out but this is this is still like a much much tighter workflow and",
    "start": "2742769",
    "end": "2747869"
  },
  {
    "text": "that for the most part you can stay on the left-hand side and then the the",
    "start": "2747869",
    "end": "2752969"
  },
  {
    "text": "release testing you need to wait for the track what we found is running these",
    "start": "2752969",
    "end": "2758969"
  },
  {
    "text": "gigantic simulations not as easy as you might think even though it's ideal for the public cloud most most batch api's",
    "start": "2758969",
    "end": "2768119"
  },
  {
    "start": "2765000",
    "end": "2765000"
  },
  {
    "text": "do not want to run a million things most they they just they sort of laugh at you",
    "start": "2768119",
    "end": "2773519"
  },
  {
    "text": "about that so we had to build layer on top which for every evaluation that we run we have this tracker process that",
    "start": "2773519",
    "end": "2780419"
  },
  {
    "text": "has like a queue and then it's but it spins up a bunch of workers and then the workers kind of ask for what you know",
    "start": "2780419",
    "end": "2786630"
  },
  {
    "text": "what thing got you next and that might actually be spread across multiple like in this case since AWS patch like we",
    "start": "2786630",
    "end": "2792839"
  },
  {
    "text": "might spawn ten batch jobs to get to get enough workers and those will all come",
    "start": "2792839",
    "end": "2798539"
  },
  {
    "text": "in and fetch work and then that's sort of resilient to spot reclaims and you know various other various other cloud",
    "start": "2798539",
    "end": "2804149"
  },
  {
    "start": "2804000",
    "end": "2804000"
  },
  {
    "text": "challenges another interesting problem we have is the remember all that",
    "start": "2804149",
    "end": "2809279"
  },
  {
    "text": "software and all the artifacts that go onto the out of the compute nodes that is a lot of data and",
    "start": "2809279",
    "end": "2816910"
  },
  {
    "text": "that ends up being a performance challenge when trying when you try to",
    "start": "2816910",
    "end": "2822200"
  },
  {
    "start": "2818000",
    "end": "2818000"
  },
  {
    "text": "run you know a thousand things if you say hey take this thousand you know run this docker container a thousand times",
    "start": "2822200",
    "end": "2827269"
  },
  {
    "text": "if the container is eight gigabytes this is this is not great so so magic so like",
    "start": "2827269",
    "end": "2834440"
  },
  {
    "text": "this is Dawne board software we build a container kind of like that like like roughly like that and so that's you know",
    "start": "2834440",
    "end": "2842479"
  },
  {
    "text": "eight gigs and so what happens when these things start up is the you know",
    "start": "2842479",
    "end": "2847880"
  },
  {
    "start": "2845000",
    "end": "2845000"
  },
  {
    "text": "you pull layer and then after you're done with that then you have to extract a layer and so that's like you've just",
    "start": "2847880",
    "end": "2853640"
  },
  {
    "text": "written that eight gigabytes twice somewhere and in our experience the only",
    "start": "2853640",
    "end": "2859309"
  },
  {
    "text": "somewhere that's in any way fast enough is our friend temp FS also known as memory all of the storage the storage",
    "start": "2859309",
    "end": "2866450"
  },
  {
    "text": "options we could get were not good in in various ways so we amortize this cost by",
    "start": "2866450",
    "end": "2873470"
  },
  {
    "text": "running the absolute largest machines that Amazon will rent us so that you",
    "start": "2873470",
    "end": "2879289"
  },
  {
    "text": "know at least you'll have to do it once for in most cases so another big problem",
    "start": "2879289",
    "end": "2884749"
  },
  {
    "text": "is on the vehicle we use GPUs and if we needed to get that many GPUs and in the",
    "start": "2884749",
    "end": "2892039"
  },
  {
    "text": "cloud this would be this this would be very expensive there might not even be able to fulfill a request fast enough so",
    "start": "2892039",
    "end": "2900109"
  },
  {
    "text": "so like the inside of each one of those steps there are there various you know learn models or sometimes you know",
    "start": "2900109",
    "end": "2905509"
  },
  {
    "text": "actual GPU code those things when they run in a car they use a GPU to do to do",
    "start": "2905509",
    "end": "2911719"
  },
  {
    "text": "the imprints so when we run them and want to run them off line we call anything that's not the car off line so",
    "start": "2911719",
    "end": "2919009"
  },
  {
    "text": "when they run off line those those expensive algorithms have to run somewhere but the thing is that they",
    "start": "2919009",
    "end": "2924979"
  },
  {
    "text": "don't always change their outputs so if you are for example working on motion",
    "start": "2924979",
    "end": "2930289"
  },
  {
    "text": "planning you on the same scenario all of the inputs are likely to be the same",
    "start": "2930289",
    "end": "2936489"
  },
  {
    "text": "between your diffs and so what we do is we cache the output of all of these all",
    "start": "2936489",
    "end": "2943759"
  },
  {
    "text": "of these expensive GPU calls most most of the simulations that we run are you know some amount cash hit you",
    "start": "2943759",
    "end": "2950640"
  },
  {
    "text": "know over fifty percent cash hit so we don't have to have all of those GPUs available to do this inference or you",
    "start": "2950640",
    "end": "2957750"
  },
  {
    "text": "know use the expensive CPU version and because we had a single tax determinism",
    "start": "2957750",
    "end": "2962760"
  },
  {
    "text": "it would be very hard to keep those GPUs busy because remember we're running much less than real-time because it's single",
    "start": "2962760",
    "end": "2968820"
  },
  {
    "text": "task so we built a remote GPU service so that we can we can spin up the model or",
    "start": "2968820",
    "end": "2975270"
  },
  {
    "text": "the or the you know hosted the GPU code on a shared or a pool of shared GPU instances and then keep the utilization",
    "start": "2975270",
    "end": "2982590"
  },
  {
    "text": "really high anyway finally like this is obviously potentially very very",
    "start": "2982590",
    "end": "2989460"
  },
  {
    "text": "expensive if you allow developers to just say hey I want to do a million things like any time like you let people",
    "start": "2989460",
    "end": "2994830"
  },
  {
    "text": "do a million things this this can be challenging cost wise I'm sure Amazon is",
    "start": "2994830",
    "end": "3000230"
  },
  {
    "text": "very happy to run our to run our million simulations but this is you know",
    "start": "3000230",
    "end": "3005560"
  },
  {
    "text": "managing that has has definitely been a challenge but anyway this this you know",
    "start": "3005560",
    "end": "3011240"
  },
  {
    "text": "this final the the final workflow that we can achieve here which I think is really interesting is once we have we",
    "start": "3011240",
    "end": "3018680"
  },
  {
    "text": "put it all together like we test with our simulation suite your tester release on the track if you know there's there",
    "start": "3018680",
    "end": "3024860"
  },
  {
    "text": "sort of an iteration cycle if that doesn't pass we go back we work on it some more if that does pass when you",
    "start": "3024860",
    "end": "3029870"
  },
  {
    "text": "deploy to a small number of vehicles assuming you know that might that might turn around and come back and if that",
    "start": "3029870",
    "end": "3034880"
  },
  {
    "text": "passes we go to the full fleet somewhere after after driving for a while we",
    "start": "3034880",
    "end": "3039920"
  },
  {
    "text": "extract something you know something interesting happens I love all those logs I mean offload all those logs find",
    "start": "3039920",
    "end": "3046820"
  },
  {
    "text": "interesting things and it starts over again and that's all I have thanks a lot",
    "start": "3046820",
    "end": "3053550"
  },
  {
    "text": "[Applause]",
    "start": "3053550",
    "end": "3057149"
  }
]