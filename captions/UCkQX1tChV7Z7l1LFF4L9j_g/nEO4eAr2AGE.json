[
  {
    "text": "[Music]",
    "start": "3320",
    "end": "14289"
  },
  {
    "text": "hi i'm holly cummins and i want to talk about some of the ways microservices can go wrong",
    "start": "15120",
    "end": "22880"
  },
  {
    "text": "i work for ibm and these are all based on my experiences as a consultant with",
    "start": "22880",
    "end": "28800"
  },
  {
    "text": "the ibm garage these are all problems that i see in the field",
    "start": "28800",
    "end": "34399"
  },
  {
    "text": "over and over again and the first problem that i see",
    "start": "34399",
    "end": "40800"
  },
  {
    "text": "is sometimes that we don't even know what the problem is we feel we should be doing microservices",
    "start": "40800",
    "end": "49440"
  },
  {
    "text": "but we haven't really spent enough time trying to define why are we doing microservices what what problem are we",
    "start": "49440",
    "end": "55600"
  },
  {
    "text": "trying to solve what's going to be what's hurting us now what's going to be better after we've done microservices",
    "start": "55600",
    "end": "63280"
  },
  {
    "text": "and i think this is quite a natural human tendency and especially for us as techies we want to jump to the solution",
    "start": "63280",
    "end": "69840"
  },
  {
    "text": "we want to play with the new shiny and sometimes the the work to figure out",
    "start": "69840",
    "end": "75840"
  },
  {
    "text": "what problem are we trying to solve it's actually much less fun than solutioning",
    "start": "75840",
    "end": "82000"
  },
  {
    "text": "and i think with containers because containers are such a i mean they're almost a magical technology they're so lightweight",
    "start": "82000",
    "end": "89200"
  },
  {
    "text": "they're so portable they make so many things so much better we say just because",
    "start": "89200",
    "end": "94720"
  },
  {
    "text": "you know i've got these containers it would be a waste of the container capability to run my application in just",
    "start": "94720",
    "end": "101360"
  },
  {
    "text": "one container i should run it in as many containers as i can but actually not",
    "start": "101360",
    "end": "106479"
  },
  {
    "text": "having enough containers is not a valid problem",
    "start": "106479",
    "end": "111680"
  },
  {
    "text": "another problem that we see is cv driven development we look at our",
    "start": "111680",
    "end": "118479"
  },
  {
    "text": "cv and there's a you know a big blank spot where it should say microservices and we say i can fix this",
    "start": "118479",
    "end": "124479"
  },
  {
    "text": "by re-architecting my company's stack and they're like well that's that's the solution that's that's",
    "start": "124479",
    "end": "131280"
  },
  {
    "text": "not really a problem and you may say actually no no no that that's just too cynical holly",
    "start": "131280",
    "end": "137920"
  },
  {
    "text": "surely no one would actually make architectural decisions based on their",
    "start": "137920",
    "end": "143120"
  },
  {
    "text": "cv right turns out the evidence is that they would",
    "start": "143120",
    "end": "148560"
  },
  {
    "text": "red hat recently did a survey and they looked at the main drivers for container based development",
    "start": "148560",
    "end": "154400"
  },
  {
    "text": "and the number one driver was career progression which is basically cv driven development",
    "start": "154400",
    "end": "163200"
  },
  {
    "text": "but i think the main thing that really drives microservices adoption at the moment",
    "start": "163840",
    "end": "168879"
  },
  {
    "text": "is that they're almost a new orthodoxy even if we're not taking part",
    "start": "168879",
    "end": "174800"
  },
  {
    "text": "in the great resignation and even if we're not looking for a new job we look around and everyone else is doing micro",
    "start": "174800",
    "end": "181680"
  },
  {
    "text": "services and we see what they're doing microservices and they're doing micro services what's wrong with me if i'm not doing",
    "start": "181680",
    "end": "187599"
  },
  {
    "text": "micro services so it becomes this sort of fashion thing and really",
    "start": "187599",
    "end": "193440"
  },
  {
    "text": "a lot of us have succumbed to microservices envy",
    "start": "193440",
    "end": "198959"
  },
  {
    "text": "which is you know we we just we feel we should be doing them",
    "start": "198959",
    "end": "204319"
  },
  {
    "text": "and one of our consultants has a has a sort of a rule that when he talks",
    "start": "204319",
    "end": "210319"
  },
  {
    "text": "to to a client if if they just say netflix netflix netflix",
    "start": "210319",
    "end": "217920"
  },
  {
    "text": "which does happen a lot he thinks i think we're in trouble here i don't think you're doing this for the right",
    "start": "217920",
    "end": "223760"
  },
  {
    "text": "reason but if they have a conversation that's a bit deeper and they talk about things like coupling and cohesion",
    "start": "223760",
    "end": "230319"
  },
  {
    "text": "then he thinks okay we're in the right space but ultimately we can't start our",
    "start": "230319",
    "end": "237760"
  },
  {
    "text": "conversation by saying i need to move to a microservices architecture because microservices they're not a goal or at",
    "start": "237760",
    "end": "244720"
  },
  {
    "text": "least well they are a goal but they shouldn't be a goal microservices are",
    "start": "244720",
    "end": "250640"
  },
  {
    "text": "the means to achieve that goal of business agility or or whatever it is we're trying to achieve and to be honest",
    "start": "250640",
    "end": "258000"
  },
  {
    "text": "they are they're not even the only means they're a means",
    "start": "258000",
    "end": "264240"
  },
  {
    "text": "and one of the challenges that we see is that microservices on their own",
    "start": "264720",
    "end": "270639"
  },
  {
    "text": "often help us you know get to to what we're actually trying to do",
    "start": "270639",
    "end": "277840"
  },
  {
    "text": "i love this um this quote you know do you have microservices or do you have a monolith",
    "start": "277840",
    "end": "283919"
  },
  {
    "text": "spread over hundreds of good repos which unfortunately is what we often see",
    "start": "283919",
    "end": "289199"
  },
  {
    "text": "and at that point what we have is a distributed monolith a distributed monolith is a really bad",
    "start": "289199",
    "end": "297120"
  },
  {
    "text": "thing it's hard to reason about and it's actually really prone to errors because",
    "start": "297120",
    "end": "303280"
  },
  {
    "text": "with a conventional monolith where it's all running in a single process",
    "start": "303280",
    "end": "309199"
  },
  {
    "text": "you get things like compile time checking when you're developing because your ide can say oh no that method name",
    "start": "309199",
    "end": "315600"
  },
  {
    "text": "has changed and you because you're always in the same process you get guaranteed function",
    "start": "315600",
    "end": "321120"
  },
  {
    "text": "execution you don't have to worry about whether discovery and then whether the thing that you're trying to call actually exists",
    "start": "321120",
    "end": "327680"
  },
  {
    "text": "so when we take those away but leave the coupling",
    "start": "327680",
    "end": "334160"
  },
  {
    "text": "what we end up with is cloud native spaghetti",
    "start": "334160",
    "end": "339800"
  },
  {
    "text": "so i was called in to a project and it was a troubled project and pretty much when i landed the first",
    "start": "340160",
    "end": "347440"
  },
  {
    "text": "thing they said to me was every time we change one microservice another one breaks",
    "start": "347440",
    "end": "354160"
  },
  {
    "text": "and if you've been paying you know any attention to to the sort of the dream of",
    "start": "354160",
    "end": "359199"
  },
  {
    "text": "microservices the promise of microservices it's that exactly the opposite is",
    "start": "359199",
    "end": "364319"
  },
  {
    "text": "supposed to happen they're supposed to be independent of each other they're supposed to be",
    "start": "364319",
    "end": "369680"
  },
  {
    "text": "decoupled but decoupling doesn't happen for free if you distribute your system just",
    "start": "369680",
    "end": "375759"
  },
  {
    "text": "because they both start with d and they're not the same thing and it is very very possible to have a highly",
    "start": "375759",
    "end": "382960"
  },
  {
    "text": "distributed system with all of the pain that comes from being distributed while still being",
    "start": "382960",
    "end": "390400"
  },
  {
    "text": "completely entangled and coupled and this was what had happened in this case",
    "start": "390400",
    "end": "396880"
  },
  {
    "text": "so when i looked into the code i kind of you know i was just doing an explore and i kept seeing the same code",
    "start": "396880",
    "end": "403919"
  },
  {
    "text": "over and over again in each repo and i thought this is kind of strange",
    "start": "403919",
    "end": "408960"
  },
  {
    "text": "and the the the the object model in this case was",
    "start": "408960",
    "end": "415599"
  },
  {
    "text": "pretty elaborate there was about 20 classes and some of them had 70 fields so it was this really sort of",
    "start": "415599",
    "end": "421440"
  },
  {
    "text": "complex schema and each microservice had to basically duplicate that schema",
    "start": "421440",
    "end": "429680"
  },
  {
    "text": "in its code and because they didn't want a coupling to",
    "start": "429680",
    "end": "436800"
  },
  {
    "text": "a common object library which kind of makes sense instead they cut copy and pasted the",
    "start": "436800",
    "end": "444240"
  },
  {
    "text": "code but of course that doesn't eliminate the coupling if a field name changes it still breaks",
    "start": "444240",
    "end": "451520"
  },
  {
    "text": "everybody you just don't get that warning and this comes back to some of the ideas",
    "start": "451520",
    "end": "457599"
  },
  {
    "text": "about domain-driven design that we really need to be thinking about when we're doing microservices",
    "start": "457599",
    "end": "462960"
  },
  {
    "text": "because the the goal the ideal is that you have a whole bunch of microservices and each microservice maps",
    "start": "462960",
    "end": "471120"
  },
  {
    "text": "really neatly to a domain and this allows the",
    "start": "471120",
    "end": "477680"
  },
  {
    "text": "interfaces to your microservices to be really small but what happens in the bad case and i",
    "start": "477680",
    "end": "483680"
  },
  {
    "text": "think what happens if we're not really really careful is that we fragment quite small perhaps along",
    "start": "483680",
    "end": "492400"
  },
  {
    "text": "technical boundaries rather than domain boundaries and then we end up in that spaghetti",
    "start": "492400",
    "end": "499039"
  },
  {
    "text": "case and the errors that we see from this can",
    "start": "499039",
    "end": "504879"
  },
  {
    "text": "be quite serious and quite difficult to catch as well",
    "start": "504879",
    "end": "510639"
  },
  {
    "text": "this is the mars climate explorer way before the most recent very successful mars mission",
    "start": "510639",
    "end": "517440"
  },
  {
    "text": "nasa did a mission where it was just gonna go and it was just gonna orbit round mars",
    "start": "517440",
    "end": "525360"
  },
  {
    "text": "sadly it did not orbit around mars instead it went crashed into mars and that was the end of the mars climate explorer",
    "start": "525360",
    "end": "533200"
  },
  {
    "text": "so when they did the post-mortem which really was a post-mortem in this case at",
    "start": "533200",
    "end": "538240"
  },
  {
    "text": "least for the the ship what they found was that there was two",
    "start": "538240",
    "end": "544160"
  },
  {
    "text": "control systems and most of the time the control was done by",
    "start": "544160",
    "end": "550080"
  },
  {
    "text": "a control system on the explorer itself and then every now and then there'd be",
    "start": "550080",
    "end": "556160"
  },
  {
    "text": "course corrections and supervision from a control system on earth so we have",
    "start": "556160",
    "end": "562720"
  },
  {
    "text": "you know very distributed system it couldn't have been more distributed part of it was in space and you know very",
    "start": "562720",
    "end": "568880"
  },
  {
    "text": "sort of um what seems to be quite modular but of course the domain",
    "start": "568880",
    "end": "575600"
  },
  {
    "text": "is actually quite similar between these two systems and",
    "start": "575600",
    "end": "581120"
  },
  {
    "text": "there turns out the root of the problem was they hadn't been quite clear enough",
    "start": "581120",
    "end": "586240"
  },
  {
    "text": "in their communication about how what the interface looked like and so it was passing numbers back and",
    "start": "586240",
    "end": "592320"
  },
  {
    "text": "forth but the part in space used metrics units",
    "start": "592320",
    "end": "600640"
  },
  {
    "text": "the part on earth used imperial units and so disaster occurred and i think we",
    "start": "600640",
    "end": "605839"
  },
  {
    "text": "can safely say in this case the system was very distributed and being distributed did not help",
    "start": "605839",
    "end": "613120"
  },
  {
    "text": "so there is a workaround here there is a thing that we can do that we should all be doing which is",
    "start": "613440",
    "end": "621040"
  },
  {
    "text": "use consumer-driven contract testing when we have this kind of system where",
    "start": "621040",
    "end": "626399"
  },
  {
    "text": "the ide isn't helping us out we need to contract test our integrations",
    "start": "626399",
    "end": "632480"
  },
  {
    "text": "and then this is really important because integration testing we're going to do some of the time but the whole point of",
    "start": "632480",
    "end": "639360"
  },
  {
    "text": "microservices is that we shouldn't be having to do expensive integration tests with the",
    "start": "639360",
    "end": "644399"
  },
  {
    "text": "whole system all of the time or else we're not decoupled but mocks on their own",
    "start": "644399",
    "end": "651839"
  },
  {
    "text": "have have a problem and the the problem with mocks is that we",
    "start": "651839",
    "end": "657360"
  },
  {
    "text": "have a conversation at the beginning about what our interface looks like and we we come to an agreement",
    "start": "657360",
    "end": "665440"
  },
  {
    "text": "and then we go away and we try and write a mark that looks",
    "start": "665920",
    "end": "671040"
  },
  {
    "text": "like our understanding of what they said their code looked like",
    "start": "671040",
    "end": "677600"
  },
  {
    "text": "in the ideal case we get it right but the problem is we make our assumptions into the mark because we",
    "start": "678720",
    "end": "685120"
  },
  {
    "text": "write the mock and we're maybe not the best person to know what the other code looks like because it's not our",
    "start": "685120",
    "end": "691360"
  },
  {
    "text": "code and we're certainly not the best person to know what the other code does",
    "start": "691360",
    "end": "697360"
  },
  {
    "text": "so in the happy case we get it right",
    "start": "697360",
    "end": "702560"
  },
  {
    "text": "so our tests all pass everything is good",
    "start": "702560",
    "end": "708959"
  },
  {
    "text": "unfortunately that's not always what happens sometimes",
    "start": "708959",
    "end": "714639"
  },
  {
    "text": "their actual implementation ends up being different than what we understood either because they changed their mind",
    "start": "714639",
    "end": "720480"
  },
  {
    "text": "or because we made an assumption that was incorrect and so in this case",
    "start": "720480",
    "end": "725920"
  },
  {
    "text": "the tests will still pass but when we actually try it out",
    "start": "725920",
    "end": "731279"
  },
  {
    "text": "it's going to fail so",
    "start": "731279",
    "end": "737360"
  },
  {
    "text": "the solution is to not rely just on mocks that we write",
    "start": "737360",
    "end": "743440"
  },
  {
    "text": "that are never validated or never even looked at by the other side instead what we want",
    "start": "743440",
    "end": "748880"
  },
  {
    "text": "to do is we want to have a consumer-driven contract test as an intermediate so we have our code we have",
    "start": "748880",
    "end": "754720"
  },
  {
    "text": "their code and we have a contract test and the beauty of a contract test why it's different from a mock",
    "start": "754720",
    "end": "760240"
  },
  {
    "text": "is both sides interact with the contract test",
    "start": "760240",
    "end": "765600"
  },
  {
    "text": "so for the consumer the contract test acts as a really handy",
    "start": "765600",
    "end": "771519"
  },
  {
    "text": "mark so it saves us time because we don't have to be trying to write mocks",
    "start": "771519",
    "end": "776720"
  },
  {
    "text": "for the provider the contract test acts as a really handy",
    "start": "776720",
    "end": "781839"
  },
  {
    "text": "functional test and it it's a deeper test than just something like a swagger validation for",
    "start": "781839",
    "end": "788959"
  },
  {
    "text": "the syntax it will actually be checking the semantics as well if i pass bob in on this interface",
    "start": "788959",
    "end": "795680"
  },
  {
    "text": "i expect to get fred back so it it means that it saves the the",
    "start": "795680",
    "end": "802079"
  },
  {
    "text": "providing team time writing functional tests and the",
    "start": "802079",
    "end": "808320"
  },
  {
    "text": "the good thing is that you know if everything works our tests pass they're cheap to and like to run their tests",
    "start": "808320",
    "end": "813440"
  },
  {
    "text": "pass they're cheap and late to run and then things work if something goes wrong",
    "start": "813440",
    "end": "818480"
  },
  {
    "text": "in this case their implementation has gone pear-shaped",
    "start": "818480",
    "end": "824399"
  },
  {
    "text": "so our tests are still going to pass but we get an alert or rather they get",
    "start": "824399",
    "end": "829839"
  },
  {
    "text": "an alert of the problem because their tests are failing and that's good because if we'd actually",
    "start": "829839",
    "end": "836000"
  },
  {
    "text": "deployed things like this it would have failed similarly if we make a change to how we",
    "start": "836000",
    "end": "842320"
  },
  {
    "text": "call things we get an alert really early on that hey",
    "start": "842320",
    "end": "847839"
  },
  {
    "text": "buddy the interface doesn't look like that you need to change something so there's a few",
    "start": "847839",
    "end": "853760"
  },
  {
    "text": "a few different contract testing systems out there spring contract is one which works really well if you're in the spring",
    "start": "853760",
    "end": "860079"
  },
  {
    "text": "ecosystem if you're a bit more polyglot then i really like pact it's got",
    "start": "860079",
    "end": "866720"
  },
  {
    "text": "bindings for almost every language that you might be using and so it's",
    "start": "866720",
    "end": "872399"
  },
  {
    "text": "it's a great thing to get in but of course even if we sort that out",
    "start": "872399",
    "end": "877920"
  },
  {
    "text": "even if at our business logic microservice layer",
    "start": "877920",
    "end": "883519"
  },
  {
    "text": "we're pretty safe and we're pretty decoupled there's probably quite a lot of other",
    "start": "883519",
    "end": "890639"
  },
  {
    "text": "things in our system that we maybe haven't thought about when we made our really clean microservices architecture",
    "start": "890639",
    "end": "897600"
  },
  {
    "text": "so sometimes i think you know we sort of get really excited about the business logic and we forget the front and the",
    "start": "897600",
    "end": "903600"
  },
  {
    "text": "back and then all the glue and this is of course especially likely in uh",
    "start": "903600",
    "end": "909360"
  },
  {
    "text": "an enterprise kind of system so one of our architects calls this the enterprise hair hair ball which i really like",
    "start": "909360",
    "end": "915760"
  },
  {
    "text": "because it just makes me think of cats and you know we all know a hairball it's",
    "start": "915760",
    "end": "920959"
  },
  {
    "text": "not good and you need to deal with it so what happens is we start out and we",
    "start": "920959",
    "end": "926959"
  },
  {
    "text": "have a monolithic business layer and we say i can do better than this i'm going to get the",
    "start": "926959",
    "end": "932560"
  },
  {
    "text": "dream of decoupling i'm going to divide it up and everything's working quite well",
    "start": "932560",
    "end": "940800"
  },
  {
    "text": "but we forgot the front end layer so there's that",
    "start": "940800",
    "end": "946720"
  },
  {
    "text": "and then of course there's the database layer and most often",
    "start": "946720",
    "end": "951839"
  },
  {
    "text": "those are still pretty monolithic and then of course particularly in an enterprise contract context we're going",
    "start": "951839",
    "end": "958480"
  },
  {
    "text": "to have an integration layer so we're going to have",
    "start": "958480",
    "end": "963279"
  },
  {
    "text": "messaging or something like that that's pulling this quite complex system together",
    "start": "963839",
    "end": "972319"
  },
  {
    "text": "and this is where we start to see problems so what most people have have worked out",
    "start": "973279",
    "end": "978480"
  },
  {
    "text": "is that every change to our business chain logic is going to need to change to the front end as well so i think",
    "start": "978480",
    "end": "983920"
  },
  {
    "text": "we're getting much better than we used to do at doing modular",
    "start": "983920",
    "end": "988959"
  },
  {
    "text": "micro front ends so that's kind of getting there",
    "start": "988959",
    "end": "995199"
  },
  {
    "text": "but of course as well that",
    "start": "995360",
    "end": "999600"
  },
  {
    "text": "the integration layer often is still really monolithic",
    "start": "1000399",
    "end": "1006880"
  },
  {
    "text": "and the integration team will usually be having demands on them from all sides",
    "start": "1006880",
    "end": "1012800"
  },
  {
    "text": "and i heard a colleague and they described the integration team as a panicked sandwich and so they're sort of",
    "start": "1012800",
    "end": "1017920"
  },
  {
    "text": "you know they're squeezed between all these things and they have so many demands on their time and they have this",
    "start": "1017920",
    "end": "1023360"
  },
  {
    "text": "monolithic thing so that they have to really schedule their changes really carefully which blocks everybody else",
    "start": "1023360",
    "end": "1031600"
  },
  {
    "text": "and of course it's well known we see the same thing in the database as well so every time we",
    "start": "1031600",
    "end": "1037199"
  },
  {
    "text": "want to make a change we need to make a change to the database if we kept our database monolithic",
    "start": "1037199",
    "end": "1043280"
  },
  {
    "text": "and this can cause a lot of frustration particularly for the integration team you know they can seem really",
    "start": "1043280",
    "end": "1049120"
  },
  {
    "text": "unresponsive and slow even though they're working really hard so we need to be",
    "start": "1049120",
    "end": "1055200"
  },
  {
    "text": "sorting out the coupling at those layers as well so we really need to be slicing the integration layer going to a more",
    "start": "1055200",
    "end": "1061360"
  },
  {
    "text": "modular integration there's really good patterns out there for that now going to a more modular database",
    "start": "1061360",
    "end": "1068000"
  },
  {
    "text": "where we have these vertical silos rather than having horizontal",
    "start": "1068000",
    "end": "1073440"
  },
  {
    "text": "silos because otherwise our microservices just aren't going to achieve what we want and the main thing that we won't be",
    "start": "1073440",
    "end": "1079520"
  },
  {
    "text": "achieving is we will not be achieving continuous deployment it will be",
    "start": "1079520",
    "end": "1085120"
  },
  {
    "text": "impossible because we have so many dependencies elsewhere in the hairball",
    "start": "1085120",
    "end": "1091360"
  },
  {
    "text": "so how many of you recognize this",
    "start": "1092840",
    "end": "1098080"
  },
  {
    "text": "that you work really hard you've created something amazing",
    "start": "1098080",
    "end": "1103600"
  },
  {
    "text": "and then it's value which is just sitting on the shelf it can't be released even though you have a microservices architecture because",
    "start": "1103600",
    "end": "1110240"
  },
  {
    "text": "there's a release board and then all the other microservices need to be released at the same time even though independent deployability was the whole point of",
    "start": "1110240",
    "end": "1116720"
  },
  {
    "text": "microservices and then there's a release checklist and then there's various other things that because we're",
    "start": "1116720",
    "end": "1122960"
  },
  {
    "text": "we're so scared of releasing and the business is really scared of releasing because it's been burned in the past and",
    "start": "1122960",
    "end": "1128720"
  },
  {
    "text": "so then there's this release checklist and there's sort of you know incantations and then you know",
    "start": "1128720",
    "end": "1133840"
  },
  {
    "text": "there was a deadline and so then we still are doing this this death march even though we should be doing continuous deployment and then we have",
    "start": "1133840",
    "end": "1139120"
  },
  {
    "text": "to sacrifice a go because we've been burnt in the past when we didn't sacrifice a goat and then someone somewhere is tracking a spreadsheet with",
    "start": "1139120",
    "end": "1144960"
  },
  {
    "text": "all the dependencies and of course the moon has to be in the right phase and this wasn't what we signed up with",
    "start": "1144960",
    "end": "1150480"
  },
  {
    "text": "for you know for when we did microservices and we see these sort of",
    "start": "1150480",
    "end": "1157360"
  },
  {
    "text": "you know drag that prevent the releases sometimes that actually gets enforced at a technical level as well as at a",
    "start": "1157360",
    "end": "1163440"
  },
  {
    "text": "process level so what we sometimes see is we see pipelines that have been carefully",
    "start": "1163440",
    "end": "1169919"
  },
  {
    "text": "crafted so that every microservice has to go through the same release pipeline to enforce to enforce that we don't have",
    "start": "1169919",
    "end": "1177120"
  },
  {
    "text": "independent deployability that wasn't the point that wasn't why we were trying to do this",
    "start": "1177120",
    "end": "1184480"
  },
  {
    "text": "and usually the reason that we're so scared of releasing the reason why releasing is this sort of",
    "start": "1184480",
    "end": "1190000"
  },
  {
    "text": "horrifying prospect is because there's a ton of manual work around it",
    "start": "1190000",
    "end": "1195039"
  },
  {
    "text": "and in particular when i you know when i the tests aren't",
    "start": "1195039",
    "end": "1200160"
  },
  {
    "text": "automated and when i when i visit a client and i hear our tests aren't automated",
    "start": "1200160",
    "end": "1206559"
  },
  {
    "text": "what i actually hear is we have no idea if our code works at the moment it might work it worked last time we did manual",
    "start": "1206559",
    "end": "1213520"
  },
  {
    "text": "qa we hope it still works but really you know you've got to have that automation of quality",
    "start": "1213520",
    "end": "1221520"
  },
  {
    "text": "you know if especially if you're gonna be you know the sort of the spaghetti architecture which is",
    "start": "1221520",
    "end": "1227520"
  },
  {
    "text": "frankly quite hard to to resolve you know it's easy to say don't be spaghetti it's hard in practice but if you're",
    "start": "1227520",
    "end": "1234240"
  },
  {
    "text": "going to be test spaghetti you've at least got to be tested spaghetti so that you have that confidence",
    "start": "1234240",
    "end": "1240880"
  },
  {
    "text": "and then we see as well that even if there's automated tests to do the actual release there's a whole bunch of extra",
    "start": "1240880",
    "end": "1247280"
  },
  {
    "text": "stuff which is manual and then if we have concerns about",
    "start": "1247280",
    "end": "1252880"
  },
  {
    "text": "compliance there's a whole bunch of manual compliance work and of course if",
    "start": "1252880",
    "end": "1259200"
  },
  {
    "text": "especially if we're in a regulated industry if we care about compliance well anything we care about",
    "start": "1259200",
    "end": "1265280"
  },
  {
    "text": "we should automate it and then of course we see that even once we actually get it",
    "start": "1265280",
    "end": "1271679"
  },
  {
    "text": "out the door to try and figure out if things are going wrong",
    "start": "1271679",
    "end": "1277120"
  },
  {
    "text": "tends to be a fairly manual process as well so we with all these manual processes",
    "start": "1277120",
    "end": "1283840"
  },
  {
    "text": "and with all these slowdowns what that really means is that even though we're deploying to the cloud",
    "start": "1283840",
    "end": "1291679"
  },
  {
    "text": "we're not getting the promise of the cloud we're sort of using the cloud as",
    "start": "1291679",
    "end": "1296720"
  },
  {
    "text": "though it isn't a cloud and fundamentally with the cloud",
    "start": "1296720",
    "end": "1302320"
  },
  {
    "text": "things that we used to do that used to be a good idea that used to keep us safer",
    "start": "1302320",
    "end": "1307440"
  },
  {
    "text": "are actually hurting us so old-style governance in the cloud doesn't work it doesn't achieve the",
    "start": "1307440",
    "end": "1313440"
  },
  {
    "text": "business outcomes that we were hoping for and it loses a lot of the business benefits of the cloud",
    "start": "1313440",
    "end": "1320799"
  },
  {
    "text": "a colleague of mine spoke to a large bank and they were sort of a it was this was",
    "start": "1322480",
    "end": "1328320"
  },
  {
    "text": "in east asia and they were a legacy bank and their lunch was getting eaten by all of the fintechs and all of these upstart",
    "start": "1328320",
    "end": "1334799"
  },
  {
    "text": "banks and they could see that they just couldn't move quickly enough to keep up and that that was",
    "start": "1334799",
    "end": "1340799"
  },
  {
    "text": "partly why they were really losing and so they they came to us and they",
    "start": "1340799",
    "end": "1346000"
  },
  {
    "text": "said we're going too slowly we've got this big kobold estate we think that's what's",
    "start": "1346000",
    "end": "1352000"
  },
  {
    "text": "slowing us down and that was quite possibly true we need to get rid of this cobalt we need to make microservices",
    "start": "1352000",
    "end": "1358960"
  },
  {
    "text": "because everybody else is doing micro services and we said yep great yep yep we can help you with this",
    "start": "1358960",
    "end": "1365600"
  },
  {
    "text": "and then they added but our release board only meets twice a year so if your release board only meets",
    "start": "1365600",
    "end": "1371919"
  },
  {
    "text": "every six months you know your release cadence is going to be every six months so it doesn't matter how many independently deployable micro services",
    "start": "1371919",
    "end": "1378720"
  },
  {
    "text": "you have you're not going to get the agility so",
    "start": "1378720",
    "end": "1384240"
  },
  {
    "text": "at that point we thought well yeah we can help you but the help you need isn't technical help we need to",
    "start": "1384240",
    "end": "1390480"
  },
  {
    "text": "sort out this first we need to sort out the automation we need to sort out some of that continuous delivery because that",
    "start": "1390480",
    "end": "1396480"
  },
  {
    "text": "is what's holding you back not the cobalt even though the cobalt sort of is sat",
    "start": "1396480",
    "end": "1403039"
  },
  {
    "text": "there looking antique",
    "start": "1403039",
    "end": "1406559"
  },
  {
    "text": "and i think you know we sort of we say oh you know i want to be decomposed but decomposed has more than",
    "start": "1409039",
    "end": "1415360"
  },
  {
    "text": "one meaning and when when we want for a decomposed application that doesn't",
    "start": "1415360",
    "end": "1421840"
  },
  {
    "text": "guarantee modularity sometimes it just means that the mess is spread more widely",
    "start": "1421840",
    "end": "1428720"
  },
  {
    "text": "and if there's these other external constraints that are what's holding us back",
    "start": "1428720",
    "end": "1434880"
  },
  {
    "text": "until we fix those it doesn't matter how decomposed we are",
    "start": "1434880",
    "end": "1440960"
  },
  {
    "text": "so i'm really looking forward to your questions thanks very much",
    "start": "1442480",
    "end": "1447440"
  },
  {
    "text": "that was a great talk um and it sort of mirrors some of the experiences i've had",
    "start": "1450559",
    "end": "1456559"
  },
  {
    "text": "with working with clients as well i mean it really did um i kind of want to talk about the testing",
    "start": "1456559",
    "end": "1462799"
  },
  {
    "text": "side of it like i mean how how sort of widespread do you think automated testing is",
    "start": "1462799",
    "end": "1469919"
  },
  {
    "text": "and then we can get to contract testing in particular after that yeah so even automated testing",
    "start": "1469919",
    "end": "1477120"
  },
  {
    "text": "it you know it's one of those things everybody loves the idea and then you go to do it and it's really expensive um",
    "start": "1477120",
    "end": "1483279"
  },
  {
    "text": "and if you're trying to move with a lot of speed then sometimes that ends up being the thing that that falls by the wayside",
    "start": "1483279",
    "end": "1490880"
  },
  {
    "text": "or um sometimes if we're changing really fast",
    "start": "1490880",
    "end": "1496559"
  },
  {
    "text": "then we know that every time we change something we have to rewrite all our automated tests so we say okay no no we'll just do it manually and manual",
    "start": "1496559",
    "end": "1502559"
  },
  {
    "text": "testing has its place but i think i think we all have good intentions and slightly less good",
    "start": "1502559",
    "end": "1507919"
  },
  {
    "text": "execution with automated testing unless you do tdd of course which you should do but that's a different",
    "start": "1507919",
    "end": "1514640"
  },
  {
    "text": "conversation because yeah i've certainly seen with organizations it's like yeah the",
    "start": "1514640",
    "end": "1521600"
  },
  {
    "text": "developers write a few tests and then we just give it to qa to do whatever they do and",
    "start": "1521600",
    "end": "1527679"
  },
  {
    "text": "which is sort of kind of not in the spirit of microservices",
    "start": "1527679",
    "end": "1532799"
  },
  {
    "text": "um then yeah i mean what about like con consumer-driven contract testing",
    "start": "1532799",
    "end": "1539679"
  },
  {
    "text": "yeah those i think aren't very widely adopted um which i sort of",
    "start": "1540400",
    "end": "1546559"
  },
  {
    "text": "i'm this is sort of if i had all the time in the world i just go around and talk about consumer driven contract tests and",
    "start": "1546559",
    "end": "1553200"
  },
  {
    "text": "then talk to people who to see why they're not doing it because i sort of it seems so natural um to me that this",
    "start": "1553200",
    "end": "1561600"
  },
  {
    "text": "is a problem that we all have you know and we all we're all trying to solve this problem in lots of different ways like making our pipeline release",
    "start": "1561600",
    "end": "1567200"
  },
  {
    "text": "everything at the same time or having you know the goat sacrificing in the two-week qa phase and",
    "start": "1567200",
    "end": "1572640"
  },
  {
    "text": "you know the correct solution to this problem is contract tests but there's",
    "start": "1572640",
    "end": "1578240"
  },
  {
    "text": "good reasons not to do contract tests as well or there's there's barriers to them so we had um",
    "start": "1578240",
    "end": "1584559"
  },
  {
    "text": "some conversation in in the chat i mean there's a great conversation in the chat but one of the questions was well",
    "start": "1584559",
    "end": "1591279"
  },
  {
    "text": "as a producer is it my fault if i break you as a consumer and different",
    "start": "1591279",
    "end": "1598799"
  },
  {
    "text": "teams are going to have different answers to that question um and some the",
    "start": "1598799",
    "end": "1604240"
  },
  {
    "text": "way a contract test will work is that usually the consuming team will check their tests or their contracts into the",
    "start": "1604240",
    "end": "1611760"
  },
  {
    "text": "producer's build and then that means that if they change something the producers build can break",
    "start": "1611760",
    "end": "1618080"
  },
  {
    "text": "and often producing teams will be like wait a minute no it is not my fault that this bill broke",
    "start": "1618080",
    "end": "1623440"
  },
  {
    "text": "you just did something and i was doing everything perfectly right so then sort of the question is well",
    "start": "1623440",
    "end": "1629440"
  },
  {
    "text": "if we can't have a good negotiation and a good conversation about what our api should be at the build level and at the",
    "start": "1629440",
    "end": "1635520"
  },
  {
    "text": "test level are we are we really confident that we can have a grown-up conversation about our api and whose fault it is that",
    "start": "1635520",
    "end": "1642159"
  },
  {
    "text": "something breaks when it's actually out in the field so there's sort of i think",
    "start": "1642159",
    "end": "1647200"
  },
  {
    "text": "it's really hard to get right but i think that should be a red flag that if you can't do the negotiation about the contract",
    "start": "1647200",
    "end": "1653679"
  },
  {
    "text": "testing and then and figure out whose fault it is at the contract testing level you're definitely not going to be able to to do it at the runtime level",
    "start": "1653679",
    "end": "1661200"
  },
  {
    "text": "but the other problem with contract testing is it's just really hard and this i think seems like a solvable",
    "start": "1661200",
    "end": "1666880"
  },
  {
    "text": "problem but often when i'm when i'm working with teams and i'm explaining contract testing when you actually sort",
    "start": "1666880",
    "end": "1671919"
  },
  {
    "text": "of get down to it it it's sort of we end up doing things like testing them all",
    "start": "1671919",
    "end": "1678159"
  },
  {
    "text": "because we really care what the other side does and we have this mark that's coming in so we sort of",
    "start": "1678159",
    "end": "1683919"
  },
  {
    "text": "do a lot of testing of the mark and you know then we have to sort of step back and say oh wait a minute i just spent two hours testing a mark that i defined",
    "start": "1683919",
    "end": "1692799"
  },
  {
    "text": "let me let me start doing that yeah yeah and then maybe it also plays into",
    "start": "1692799",
    "end": "1699520"
  },
  {
    "text": "the fact that organizations are used to end-to-end testing of the entire system so it feels",
    "start": "1699520",
    "end": "1705919"
  },
  {
    "text": "more comfortable to do that rather than independent truly a true independent",
    "start": "1705919",
    "end": "1712320"
  },
  {
    "text": "deployment of microservices which requires contract testing uh i think",
    "start": "1712320",
    "end": "1717840"
  },
  {
    "text": "yeah i think i think contracts oh sorry i think contract tests are almost the worst of both worlds because they don't",
    "start": "1717840",
    "end": "1723120"
  },
  {
    "text": "give you that sort of snuggly confidence that you would get from doing end to end testing because in all these little bits",
    "start": "1723120",
    "end": "1728480"
  },
  {
    "text": "but at the same time there's it really exposes that there's coupling you know so my tests can break",
    "start": "1728480",
    "end": "1733919"
  },
  {
    "text": "you and and we sort of have this idea with microservices that we're completely decoupled and we can do whatever we want and any kind of change i made doesn't",
    "start": "1733919",
    "end": "1740480"
  },
  {
    "text": "make doesn't affect anybody else but of course that's not how it works so it kind of exposes that gritty icky truth that we were kind of hoping to to ignore",
    "start": "1740480",
    "end": "1747440"
  },
  {
    "text": "yeah but you know i often like to use the analogy that like imagine you're you've got you're responsible for a",
    "start": "1747440",
    "end": "1753760"
  },
  {
    "text": "plane you know you change the light bulb over someone's seat just say part of",
    "start": "1753760",
    "end": "1759200"
  },
  {
    "text": "it's broken you don't need to take the whole thing for a test flight just to",
    "start": "1759200",
    "end": "1764640"
  },
  {
    "text": "verify that that fix worked right um yeah",
    "start": "1764640",
    "end": "1769679"
  },
  {
    "text": "the if you look at the pact website they have this great analogy that i sometimes use which is about fire alarm testing so",
    "start": "1769679",
    "end": "1775520"
  },
  {
    "text": "like you know because we all have you know our fire alarms and there's a little button on it that you push and it says test and that tells you it makes a",
    "start": "1775520",
    "end": "1781440"
  },
  {
    "text": "noise but it doesn't necessarily give you any confidence that you haven't like painted over all the things that let the smoke in and that actually if your house",
    "start": "1781440",
    "end": "1787039"
  },
  {
    "text": "was on fire it would make a noise it just tell if i push the button it makes a noise and that's like you know a unit test and",
    "start": "1787039",
    "end": "1794240"
  },
  {
    "text": "then at the sort of the other end you have the integration test of you know i put some matches to my house and it goes",
    "start": "1794240",
    "end": "1799600"
  },
  {
    "text": "up in flames and you know from through the inferno i can hear beep beep beep and i have a lot of confidence but that",
    "start": "1799600",
    "end": "1804799"
  },
  {
    "text": "was a really expensive test to do i don't necessarily i hope someone does it once but i'm not going to do it every",
    "start": "1804799",
    "end": "1810799"
  },
  {
    "text": "time i want to get a bit of confidence and so then what they have is they have sometimes like in institutional",
    "start": "1810799",
    "end": "1816159"
  },
  {
    "text": "buildings you can see them it's sort of like this long stick and it's got sort of a cup on the end and they put the cup",
    "start": "1816159",
    "end": "1821440"
  },
  {
    "text": "around the fire alarm and then it just sort of you know pisses in a little bit of smoke so that you can see okay",
    "start": "1821440",
    "end": "1827200"
  },
  {
    "text": "actually smoke causes a beep rather than button causes a beep but i was able to learn that without burning my house down",
    "start": "1827200",
    "end": "1833760"
  },
  {
    "text": "yeah yeah that sounds like chaos engineering isn't it right indirectly",
    "start": "1833760",
    "end": "1838799"
  },
  {
    "text": "injecting faults into your production environment yeah or i think yeah chaos testing might",
    "start": "1838799",
    "end": "1845840"
  },
  {
    "text": "be sort of you know letting children with matches into the mall and making sure that you've got the fire brigade",
    "start": "1845840",
    "end": "1850960"
  },
  {
    "text": "quite close by as well yeah so someone said i mean i want to move on",
    "start": "1850960",
    "end": "1856559"
  },
  {
    "text": "from contract testing but there was a there was a question about what should api versioning be",
    "start": "1856559",
    "end": "1864399"
  },
  {
    "text": "like an alternative to contract testing i",
    "start": "1864399",
    "end": "1869519"
  },
  {
    "text": "i think api versioning um is definitely a great thing it's also really hard",
    "start": "1869519",
    "end": "1874640"
  },
  {
    "text": "um but yeah i think i mean in an ideal world you would do both and most of the marketing providers",
    "start": "1874640",
    "end": "1880880"
  },
  {
    "text": "they've got some quite nice versioning support as well so then you can have a contract for each version and you can say okay well i've",
    "start": "1880880",
    "end": "1887360"
  },
  {
    "text": "i know my provider has now moved up and they've got version five but i don't wanna work against version five because",
    "start": "1887360",
    "end": "1892640"
  },
  {
    "text": "that's too scary i'm still gonna be against version four and so then you sort of then you have the best of both worlds that they can",
    "start": "1892640",
    "end": "1898480"
  },
  {
    "text": "move forward without breaking you but you still have the the confidence that you're okay sorry you said you were",
    "start": "1898480",
    "end": "1903760"
  },
  {
    "text": "changing the subject from contract testing just that question just popped up in the",
    "start": "1903760",
    "end": "1910640"
  },
  {
    "text": "chat i mean so kind of i think going back to the beginning of your talk and it was kind",
    "start": "1910640",
    "end": "1916320"
  },
  {
    "text": "of like to get you know what you know what factors should an",
    "start": "1916320",
    "end": "1921919"
  },
  {
    "text": "organization consider when thinking about microservices or you",
    "start": "1921919",
    "end": "1927279"
  },
  {
    "text": "could take a step back and choosing an architecture for their application and i",
    "start": "1927279",
    "end": "1932399"
  },
  {
    "text": "monolith versus microservices what criteria",
    "start": "1932399",
    "end": "1938240"
  },
  {
    "text": "yes yeah the first thing is to have that really hard conversation about why are we doing this what problem are we",
    "start": "1938240",
    "end": "1944399"
  },
  {
    "text": "really trying to solve and is it just that we're feeling a bit left out because we can see all the cool kids are doing microservices",
    "start": "1944399",
    "end": "1950640"
  },
  {
    "text": "um and then so then you know if we sort of go off that you know if we sort of resolve that",
    "start": "1950640",
    "end": "1955919"
  },
  {
    "text": "um then hopefully we come up with an answer something like we need you know we need more business",
    "start": "1955919",
    "end": "1962799"
  },
  {
    "text": "agility and we're really willing to do you know the sort of the releasing and that kind of thing as well but then you",
    "start": "1962799",
    "end": "1969279"
  },
  {
    "text": "sort of want to look at things like um what size team am i if there's only four",
    "start": "1969279",
    "end": "1974799"
  },
  {
    "text": "people in this team you don't need to be killed because there's only four of you so you know how",
    "start": "1974799",
    "end": "1980080"
  },
  {
    "text": "probably microservices would be an overhead that you don't need um",
    "start": "1980080",
    "end": "1985200"
  },
  {
    "text": "if you don't really ever imagine that you're going to be releasing these things independently either because your",
    "start": "1985200",
    "end": "1991600"
  },
  {
    "text": "organization's appetite for releases is that you release every six months you know then then it's probably not a",
    "start": "1991600",
    "end": "1998159"
  },
  {
    "text": "good fit um and and i think as well um",
    "start": "1998159",
    "end": "2004880"
  },
  {
    "text": "i've just lost my train of thought actually you tell me [Laughter]",
    "start": "2004880",
    "end": "2012710"
  },
  {
    "text": "yeah i mean i sort of at some level i just think yeah if you need to move fast",
    "start": "2013120",
    "end": "2018480"
  },
  {
    "text": "um i mean that's sort of big motivation oh and your application is complex and",
    "start": "2018480",
    "end": "2025600"
  },
  {
    "text": "and or there's a lot of people working on it i think it's sort of that's kind of the sweet spot right yeah",
    "start": "2025600",
    "end": "2033279"
  },
  {
    "text": "oh i've just remembered um i've just remembered another one of the other sort of things to think about is",
    "start": "2033279",
    "end": "2039120"
  },
  {
    "text": "is sort of going back to that example i gave where the domain model just like really didn't split nicely",
    "start": "2039120",
    "end": "2044399"
  },
  {
    "text": "and at that point you might say you know what even though i can see that i'm kind of big enough",
    "start": "2044399",
    "end": "2050398"
  },
  {
    "text": "with until i managed to you know i've just spent all you know a day arguing in an architecture workshop about the",
    "start": "2050399",
    "end": "2056480"
  },
  {
    "text": "divisions in my domain model and we still have all this stuff that's just spread across every microservice",
    "start": "2056480",
    "end": "2062158"
  },
  {
    "text": "at this point you know the pain of this is going to be too much so maybe let's not do it until",
    "start": "2062159",
    "end": "2068079"
  },
  {
    "text": "we have a crisper set of domain boundaries yeah oh that that sort of makes sense i",
    "start": "2068079",
    "end": "2075200"
  },
  {
    "text": "mean i think you do have to have a good understanding of of the domain and their",
    "start": "2075200",
    "end": "2080240"
  },
  {
    "text": "boundaries right which sort of kind of pushes you in the monolith first",
    "start": "2080240",
    "end": "2085599"
  },
  {
    "text": "approach and then split later yeah because they can change as well of",
    "start": "2085599",
    "end": "2092000"
  },
  {
    "text": "course you know maybe that you had this really neat boundary and then half of your data leaked across to the to the",
    "start": "2092000",
    "end": "2097280"
  },
  {
    "text": "neighboring domain and so then you should maybe be slicing at a different point yeah",
    "start": "2097280",
    "end": "2103599"
  },
  {
    "text": "um trying to what else would be a good question i mean it was a quite i can't",
    "start": "2103599",
    "end": "2110160"
  },
  {
    "text": "not sure if you answered this in the chat and it's like what do you do about entities that are pervasive",
    "start": "2110160",
    "end": "2118079"
  },
  {
    "text": "throughout the application like you could say user right i mean that's",
    "start": "2118079",
    "end": "2123680"
  },
  {
    "text": "that's everywhere um or in e-commerce it's all about products",
    "start": "2123680",
    "end": "2129200"
  },
  {
    "text": "and orders and customers or banks it's accounts and customers right so it kind",
    "start": "2129200",
    "end": "2135040"
  },
  {
    "text": "of sounds like you should only ever have three services",
    "start": "2135040",
    "end": "2139838"
  },
  {
    "text": "yeah and someone did ask about this and this is one that i still sometimes struggle with and i sort of i always",
    "start": "2141040",
    "end": "2146400"
  },
  {
    "text": "feel like a bit of a failure and i always wish i knew a much better answer for this one but i think it is it is",
    "start": "2146400",
    "end": "2151520"
  },
  {
    "text": "hard so i think one thing that you can do is you can try and say well i'm calling all of these product but",
    "start": "2151520",
    "end": "2158079"
  },
  {
    "text": "actually i'm using them in such different ways that they're not really products",
    "start": "2158079",
    "end": "2163359"
  },
  {
    "text": "you know they're not really the same thing you know there's maybe like a foreign key to you know between them but that's the",
    "start": "2163359",
    "end": "2169920"
  },
  {
    "text": "extent of the relationship that you know there's one field that's the id that's the same but the way i use missed so",
    "start": "2169920",
    "end": "2175760"
  },
  {
    "text": "different that i could actually call these things either give them a different name or",
    "start": "2175760",
    "end": "2181440"
  },
  {
    "text": "just know okay i've got you know my warehousing product and then i've got you know my banking product and they're",
    "start": "2181440",
    "end": "2187200"
  },
  {
    "text": "they're different um the other thing that you can do is you could sort of do the upfront work",
    "start": "2187200",
    "end": "2193119"
  },
  {
    "text": "and say okay we're gonna accept that these are really pervasive and so they do not change because we",
    "start": "2193119",
    "end": "2198240"
  },
  {
    "text": "know if they change that would be a world of pain but then you just have to make that really explicit and say okay",
    "start": "2198240",
    "end": "2205680"
  },
  {
    "text": "we're confident enough in these that that we're willing to accept the the coupling on these",
    "start": "2205680",
    "end": "2211200"
  },
  {
    "text": "the other thing you can do as well as you can have a little translation layer so you can say well",
    "start": "2211200",
    "end": "2217119"
  },
  {
    "text": "we thought they were going to be the same but actually they've changed over here in order to allow that micro service to continue to evolve we'll just",
    "start": "2217119",
    "end": "2223839"
  },
  {
    "text": "put a little buffer between it yeah yeah well i think feel like we",
    "start": "2223839",
    "end": "2229920"
  },
  {
    "text": "could talk about this for a while but it looks like we're out of time um but maybe you know in the panel",
    "start": "2229920",
    "end": "2237040"
  },
  {
    "text": "discussion that follows the talks we could pick up on some follow up on some of these issues as well as i think",
    "start": "2237040",
    "end": "2243040"
  },
  {
    "text": "there's some hallway chat right after this right yep yep there's a there's a zoom hallway track so i'll be i'll be",
    "start": "2243040",
    "end": "2249280"
  },
  {
    "text": "heading over to that cool all right well thank you so much for your presentation it was good to talk",
    "start": "2249280",
    "end": "2255760"
  },
  {
    "text": "yeah my pleasure thank you for inviting me",
    "start": "2255760",
    "end": "2260520"
  },
  {
    "text": "[Music]",
    "start": "2262180",
    "end": "2268469"
  }
]