[
  {
    "start": "0",
    "end": "32000"
  },
  {
    "text": "[Music]",
    "start": "5830",
    "end": "13480"
  },
  {
    "text": "all right thanks a lot for inviting me",
    "start": "13480",
    "end": "15120"
  },
  {
    "text": "today I really appreciate it uh my name",
    "start": "15120",
    "end": "17640"
  },
  {
    "text": "is Blake maeni I'm the VP of engineering",
    "start": "17640",
    "end": "20439"
  },
  {
    "text": "at uh Tumblr um The only Shameless",
    "start": "20439",
    "end": "24039"
  },
  {
    "text": "promotion you'll see during this is our",
    "start": "24039",
    "end": "25480"
  },
  {
    "text": "jobs page um if you're interested in",
    "start": "25480",
    "end": "27400"
  },
  {
    "text": "scholar development uh we're in New York",
    "start": "27400",
    "end": "31960"
  },
  {
    "start": "32000",
    "end": "204000"
  },
  {
    "text": "so today's talk is largely about things",
    "start": "32759",
    "end": "34960"
  },
  {
    "text": "that have failed in the year and a half",
    "start": "34960",
    "end": "36920"
  },
  {
    "text": "that we've been using uh Scola as our",
    "start": "36920",
    "end": "39040"
  },
  {
    "text": "primary backend development language um",
    "start": "39040",
    "end": "42640"
  },
  {
    "text": "I'm going to spend a little bit of time",
    "start": "42640",
    "end": "44360"
  },
  {
    "text": "talking about what I call the seven sins",
    "start": "44360",
    "end": "47000"
  },
  {
    "text": "of backend development um but a little",
    "start": "47000",
    "end": "49840"
  },
  {
    "text": "bit of background on uh Tumblr um so",
    "start": "49840",
    "end": "53960"
  },
  {
    "text": "Tumblr does about a billion and a half",
    "start": "53960",
    "end": "56079"
  },
  {
    "text": "HTP requests today that doesn't include",
    "start": "56079",
    "end": "58079"
  },
  {
    "text": "our backend service stack and for a long",
    "start": "58079",
    "end": "60760"
  },
  {
    "text": "time was a large monolithic lamp app um",
    "start": "60760",
    "end": "65400"
  },
  {
    "text": "that worked okay until about 2 years ago",
    "start": "65400",
    "end": "67520"
  },
  {
    "text": "and we started having my SQL fall over",
    "start": "67520",
    "end": "70040"
  },
  {
    "text": "um and so we built out a few early",
    "start": "70040",
    "end": "72799"
  },
  {
    "text": "backend applications to support some use",
    "start": "72799",
    "end": "75680"
  },
  {
    "text": "cases that PHP wasn't a great uh fit for",
    "start": "75680",
    "end": "78759"
  },
  {
    "text": "and initially we built out the backends",
    "start": "78759",
    "end": "80680"
  },
  {
    "text": "in C and then uh after a couple of fun",
    "start": "80680",
    "end": "84280"
  },
  {
    "text": "projects like that uh we switched over",
    "start": "84280",
    "end": "86520"
  },
  {
    "text": "to um Scala so we've been using Scala",
    "start": "86520",
    "end": "90119"
  },
  {
    "text": "tumblers since mid 2011 and primarily we",
    "start": "90119",
    "end": "93000"
  },
  {
    "text": "use uh finagle um and there's a talk",
    "start": "93000",
    "end": "96439"
  },
  {
    "text": "after this uh that goes into a bit more",
    "start": "96439",
    "end": "98439"
  },
  {
    "text": "detail about um what finagle is um we",
    "start": "98439",
    "end": "103000"
  },
  {
    "text": "use it primarily as a alternative to AA",
    "start": "103000",
    "end": "107479"
  },
  {
    "text": "uh but we do have some play applications",
    "start": "107479",
    "end": "109079"
  },
  {
    "text": "that are developed using AA as well so",
    "start": "109079",
    "end": "113079"
  },
  {
    "text": "this is an after lunch talk um after",
    "start": "113079",
    "end": "116039"
  },
  {
    "text": "lunch talks usually there's a lot of",
    "start": "116039",
    "end": "117680"
  },
  {
    "text": "droopy eyes in the the the cow so I'm",
    "start": "117680",
    "end": "121439"
  },
  {
    "text": "going to try something a little bit",
    "start": "121439",
    "end": "122799"
  },
  {
    "text": "different today um so for for each of",
    "start": "122799",
    "end": "125840"
  },
  {
    "text": "the seven SS of distributed systems um",
    "start": "125840",
    "end": "128479"
  },
  {
    "text": "I'm going to show you guys a piece of",
    "start": "128479",
    "end": "129920"
  },
  {
    "text": "code or a graph I'm going to ask you",
    "start": "129920",
    "end": "133160"
  },
  {
    "text": "guys anybody in the audience to say what",
    "start": "133160",
    "end": "135040"
  },
  {
    "text": "they think is probably wrong with it uh",
    "start": "135040",
    "end": "137400"
  },
  {
    "text": "some of these are are obvious uh or",
    "start": "137400",
    "end": "139879"
  },
  {
    "text": "maybe to me uh some are a little bit",
    "start": "139879",
    "end": "141680"
  },
  {
    "text": "less obvious um uh the other thing is",
    "start": "141680",
    "end": "145040"
  },
  {
    "text": "the code comes from myself cuz you know",
    "start": "145040",
    "end": "148959"
  },
  {
    "text": "that it would be unfair just pick on",
    "start": "148959",
    "end": "150440"
  },
  {
    "text": "people on the team uh Moses who's",
    "start": "150440",
    "end": "152879"
  },
  {
    "text": "sitting right there Moses throw your",
    "start": "152879",
    "end": "154400"
  },
  {
    "text": "hand up and uh Keith who's sitting right",
    "start": "154400",
    "end": "156920"
  },
  {
    "text": "there uh so uh if you want you know",
    "start": "156920",
    "end": "160680"
  },
  {
    "text": "design critique uh you can ask them",
    "start": "160680",
    "end": "163400"
  },
  {
    "text": "afterwards so the the seven sins um uh",
    "start": "163400",
    "end": "167720"
  },
  {
    "text": "we'll go through these individually uh",
    "start": "167720",
    "end": "169920"
  },
  {
    "text": "initially these started off just with",
    "start": "169920",
    "end": "171480"
  },
  {
    "text": "sort of like the general problem that I",
    "start": "171480",
    "end": "173879"
  },
  {
    "text": "saw in lots of pieces of code and sort",
    "start": "173879",
    "end": "176120"
  },
  {
    "text": "of ended up tying that to um uh well I",
    "start": "176120",
    "end": "179519"
  },
  {
    "text": "realized was called anti- patterns and",
    "start": "179519",
    "end": "181080"
  },
  {
    "text": "generally patterns have names so those",
    "start": "181080",
    "end": "183519"
  },
  {
    "text": "names ideally are a little bit memorable",
    "start": "183519",
    "end": "185640"
  },
  {
    "text": "so I tried to stick with things like you",
    "start": "185640",
    "end": "187879"
  },
  {
    "text": "can remember gluttony it's a little bit",
    "start": "187879",
    "end": "189760"
  },
  {
    "text": "harder to remember maybe like Factory",
    "start": "189760",
    "end": "192000"
  },
  {
    "text": "pattern um so when you're writing your",
    "start": "192000",
    "end": "194159"
  },
  {
    "text": "own code particularly in the a server",
    "start": "194159",
    "end": "196440"
  },
  {
    "text": "setting you can think back and be like",
    "start": "196440",
    "end": "198239"
  },
  {
    "text": "am I being a glutton or you know am I",
    "start": "198239",
    "end": "200760"
  },
  {
    "text": "doing this the right",
    "start": "200760",
    "end": "203519"
  },
  {
    "start": "204000",
    "end": "367000"
  },
  {
    "text": "way all right so we'll start with lust I",
    "start": "204200",
    "end": "207120"
  },
  {
    "text": "I want all the abstractions so this is a",
    "start": "207120",
    "end": "210680"
  },
  {
    "text": "a project uh internally it's called",
    "start": "210680",
    "end": "212439"
  },
  {
    "text": "redis cover and uh what redis cover does",
    "start": "212439",
    "end": "215040"
  },
  {
    "text": "is it's a um a it's a sharding",
    "start": "215040",
    "end": "219239"
  },
  {
    "text": "middleware for for redis um so clients",
    "start": "219239",
    "end": "222000"
  },
  {
    "text": "connect to it using the normal redis",
    "start": "222000",
    "end": "223400"
  },
  {
    "text": "protocol it handles things like it has",
    "start": "223400",
    "end": "225760"
  },
  {
    "text": "keyspace knowledge it knows you know",
    "start": "225760",
    "end": "227599"
  },
  {
    "text": "what backends to use it can potentially",
    "start": "227599",
    "end": "229519"
  },
  {
    "text": "handle like winged migrations things",
    "start": "229519",
    "end": "231680"
  },
  {
    "text": "along those lines so this is some code",
    "start": "231680",
    "end": "234000"
  },
  {
    "text": "from uh redis cover and it's a lot",
    "start": "234000",
    "end": "236920"
  },
  {
    "text": "smaller on this screen so I'm guessing",
    "start": "236920",
    "end": "238879"
  },
  {
    "text": "some folks can't see it but it says",
    "start": "238879",
    "end": "241239"
  },
  {
    "text": "object Twitter to",
    "start": "241239",
    "end": "243159"
  },
  {
    "text": "AA uh and what this is doing is uh uh",
    "start": "243159",
    "end": "247560"
  },
  {
    "text": "it's taking in a a Twitter future and uh",
    "start": "247560",
    "end": "250319"
  },
  {
    "text": "handing back a uh AA future or promise",
    "start": "250319",
    "end": "253560"
  },
  {
    "text": "in this case um anybody want to Venture",
    "start": "253560",
    "end": "257680"
  },
  {
    "text": "as to to what the issue is with this",
    "start": "257680",
    "end": "261840"
  },
  {
    "text": "code so there there's a few problems",
    "start": "263000",
    "end": "265440"
  },
  {
    "text": "with this one",
    "start": "265440",
    "end": "267160"
  },
  {
    "text": "is there's sort of a general readability",
    "start": "267160",
    "end": "269440"
  },
  {
    "text": "issue",
    "start": "269440",
    "end": "270240"
  },
  {
    "text": "um implicits I prefer explicit implicits",
    "start": "270240",
    "end": "273600"
  },
  {
    "text": "as in ones where you call two Twitter uh",
    "start": "273600",
    "end": "276919"
  },
  {
    "text": "or or things along those lines as",
    "start": "276919",
    "end": "278479"
  },
  {
    "text": "opposed to Magic happening and you're",
    "start": "278479",
    "end": "279880"
  },
  {
    "text": "not totally sure whether Magic's coming",
    "start": "279880",
    "end": "281680"
  },
  {
    "text": "from outside of that the performance",
    "start": "281680",
    "end": "283720"
  },
  {
    "text": "penalty on this is actually pretty",
    "start": "283720",
    "end": "285199"
  },
  {
    "text": "significant I only included a little bit",
    "start": "285199",
    "end": "286880"
  },
  {
    "text": "of this um but uh you know as you can",
    "start": "286880",
    "end": "289600"
  },
  {
    "text": "imagine there's you know the reverse",
    "start": "289600",
    "end": "292320"
  },
  {
    "text": "process this is something that's",
    "start": "292320",
    "end": "293759"
  },
  {
    "text": "happening all the time it's coming in",
    "start": "293759",
    "end": "295360"
  },
  {
    "text": "Via finagle because it speaks redus it's",
    "start": "295360",
    "end": "297880"
  },
  {
    "text": "converting it into you know Futures it's",
    "start": "297880",
    "end": "301000"
  },
  {
    "text": "going out and doing its thing converting",
    "start": "301000",
    "end": "302800"
  },
  {
    "text": "back before it hands it to the client",
    "start": "302800",
    "end": "304039"
  },
  {
    "text": "there's a lot of objects being generated",
    "start": "304039",
    "end": "305560"
  },
  {
    "text": "here the performance is well the GC",
    "start": "305560",
    "end": "308400"
  },
  {
    "text": "profile for this application is not a",
    "start": "308400",
    "end": "310440"
  },
  {
    "text": "generally desirable one um and I mean",
    "start": "310440",
    "end": "313560"
  },
  {
    "text": "part of the problem is you know until",
    "start": "313560",
    "end": "315240"
  },
  {
    "text": "Scola",
    "start": "315240",
    "end": "316680"
  },
  {
    "text": "210 and uh this is a little better now",
    "start": "316680",
    "end": "319120"
  },
  {
    "text": "you had at least four options for you",
    "start": "319120",
    "end": "321319"
  },
  {
    "text": "know this type of of abstraction you had",
    "start": "321319",
    "end": "323680"
  },
  {
    "text": "Scala Futures AA Futures Java Futures",
    "start": "323680",
    "end": "326759"
  },
  {
    "text": "Twitter Futures who who has their own",
    "start": "326759",
    "end": "328800"
  },
  {
    "text": "future implementation here I know",
    "start": "328800",
    "end": "330319"
  },
  {
    "text": "there's linked guys so maybe they do uh",
    "start": "330319",
    "end": "333240"
  },
  {
    "text": "all right here's another one um so",
    "start": "333240",
    "end": "334880"
  },
  {
    "text": "there's five options um uh so the",
    "start": "334880",
    "end": "338199"
  },
  {
    "text": "problem with this outside of some",
    "start": "338199",
    "end": "339360"
  },
  {
    "text": "performance issues one is um it can lead",
    "start": "339360",
    "end": "342560"
  },
  {
    "text": "to really hard to spot bugs um uh and",
    "start": "342560",
    "end": "345960"
  },
  {
    "text": "the primary driver for those bugs is",
    "start": "345960",
    "end": "349440"
  },
  {
    "text": "there are really dramatic semantic",
    "start": "349440",
    "end": "351639"
  },
  {
    "text": "differences between the implementations",
    "start": "351639",
    "end": "353560"
  },
  {
    "text": "and terms of what things mean so one of",
    "start": "353560",
    "end": "356199"
  },
  {
    "text": "the most common ones that I see in our",
    "start": "356199",
    "end": "358039"
  },
  {
    "text": "code base because we use Twitter",
    "start": "358039",
    "end": "359280"
  },
  {
    "text": "feutures are Twitter's future",
    "start": "359280",
    "end": "361560"
  },
  {
    "text": "implementation provides an on suuccess",
    "start": "361560",
    "end": "363639"
  },
  {
    "text": "and a on",
    "start": "363639",
    "end": "366039"
  },
  {
    "text": "failure the problem is the the the type",
    "start": "366039",
    "end": "369199"
  },
  {
    "start": "367000",
    "end": "406000"
  },
  {
    "text": "signature for that returns a uh unit so",
    "start": "369199",
    "end": "373599"
  },
  {
    "text": "people generally think uh on failure",
    "start": "373599",
    "end": "376440"
  },
  {
    "text": "okay this is how I'll hook into like an",
    "start": "376440",
    "end": "377919"
  },
  {
    "text": "exception that's been thrown and I'll",
    "start": "377919",
    "end": "379319"
  },
  {
    "text": "recover that uh that is not what it's",
    "start": "379319",
    "end": "381639"
  },
  {
    "text": "for um it's for knowing that there was a",
    "start": "381639",
    "end": "383840"
  },
  {
    "text": "failure and potentially logging it or",
    "start": "383840",
    "end": "385479"
  },
  {
    "text": "incrementing a stat counter or something",
    "start": "385479",
    "end": "387280"
  },
  {
    "text": "along those lines but these are things",
    "start": "387280",
    "end": "389000"
  },
  {
    "text": "that end up being pretty different",
    "start": "389000",
    "end": "390680"
  },
  {
    "text": "between implementations you have",
    "start": "390680",
    "end": "392319"
  },
  {
    "text": "different language and then in some",
    "start": "392319",
    "end": "394120"
  },
  {
    "text": "cases the same named methods and",
    "start": "394120",
    "end": "397000"
  },
  {
    "text": "slightly different",
    "start": "397000",
    "end": "398680"
  },
  {
    "text": "implementations so so this is uh one",
    "start": "398680",
    "end": "401080"
  },
  {
    "text": "issue that's hopefully not going to be",
    "start": "401080",
    "end": "403120"
  },
  {
    "text": "in our code base",
    "start": "403120",
    "end": "405039"
  },
  {
    "text": "forever all right so we have a uh",
    "start": "405039",
    "end": "407880"
  },
  {
    "start": "406000",
    "end": "482000"
  },
  {
    "text": "another application called Buster um",
    "start": "407880",
    "end": "411160"
  },
  {
    "text": "what Buster provides are are uh note",
    "start": "411160",
    "end": "413560"
  },
  {
    "text": "counts so if you're in your Tumblr",
    "start": "413560",
    "end": "415080"
  },
  {
    "text": "dashboard and you're looking at a post",
    "start": "415080",
    "end": "416440"
  },
  {
    "text": "and you see the little number for how",
    "start": "416440",
    "end": "417720"
  },
  {
    "text": "many people have reblogged it liked to",
    "start": "417720",
    "end": "420360"
  },
  {
    "text": "things along those lines uh that's a",
    "start": "420360",
    "end": "422960"
  },
  {
    "text": "service provided by Buster and I can't",
    "start": "422960",
    "end": "425520"
  },
  {
    "text": "actually show you the code and and",
    "start": "425520",
    "end": "427000"
  },
  {
    "text": "you'll see why I'm going to show you",
    "start": "427000",
    "end": "427960"
  },
  {
    "text": "some",
    "start": "427960",
    "end": "429520"
  },
  {
    "text": "graphs so this is a production failure",
    "start": "429520",
    "end": "432319"
  },
  {
    "text": "that happened in early",
    "start": "432319",
    "end": "434080"
  },
  {
    "text": "January um and what you can see here is",
    "start": "434080",
    "end": "437599"
  },
  {
    "text": "um Buster's happily doing right around",
    "start": "437599",
    "end": "440360"
  },
  {
    "text": "30,000 requests a second in total um and",
    "start": "440360",
    "end": "443759"
  },
  {
    "text": "then for some unknown reason you see",
    "start": "443759",
    "end": "445720"
  },
  {
    "text": "this huge increase in errors so the",
    "start": "445720",
    "end": "449240"
  },
  {
    "text": "error erors are about 25,000 a second um",
    "start": "449240",
    "end": "452680"
  },
  {
    "text": "and successes during that time are about",
    "start": "452680",
    "end": "454879"
  },
  {
    "text": "10,000 a second so in aggregate it's",
    "start": "454879",
    "end": "457520"
  },
  {
    "text": "doing about 35,000 requests a second so",
    "start": "457520",
    "end": "460720"
  },
  {
    "text": "really if you were just to look at total",
    "start": "460720",
    "end": "462039"
  },
  {
    "text": "requests it would do something like a",
    "start": "462039",
    "end": "463639"
  },
  {
    "text": "big jump up",
    "start": "463639",
    "end": "465199"
  },
  {
    "text": "here so we see this and then see service",
    "start": "465199",
    "end": "469840"
  },
  {
    "text": "latency really increase and get a lot",
    "start": "469840",
    "end": "471960"
  },
  {
    "text": "more jittery it's typically a lot more",
    "start": "471960",
    "end": "473639"
  },
  {
    "text": "normalized and then uh this is Heap so",
    "start": "473639",
    "end": "476400"
  },
  {
    "text": "you can see where we had to restart it",
    "start": "476400",
    "end": "478440"
  },
  {
    "text": "um does anybody to venture what the",
    "start": "478440",
    "end": "480240"
  },
  {
    "text": "issue was",
    "start": "480240",
    "end": "481840"
  },
  {
    "text": "here it's uh back pressure so uh",
    "start": "481840",
    "end": "486000"
  },
  {
    "start": "482000",
    "end": "505000"
  },
  {
    "text": "Services can handle a finite number of",
    "start": "486000",
    "end": "488360"
  },
  {
    "text": "simultaneous requests even if you have",
    "start": "488360",
    "end": "490280"
  },
  {
    "text": "an amazing piece of software that can",
    "start": "490280",
    "end": "492080"
  },
  {
    "text": "handle the c10k or ck problem at some",
    "start": "492080",
    "end": "496120"
  },
  {
    "text": "point your system should start refusing",
    "start": "496120",
    "end": "498479"
  },
  {
    "text": "connections it's the only way that your",
    "start": "498479",
    "end": "500800"
  },
  {
    "text": "backend system is actually going to stay",
    "start": "500800",
    "end": "502639"
  },
  {
    "text": "up when something's going on so in this",
    "start": "502639",
    "end": "505840"
  },
  {
    "text": "case there was no configured this is the",
    "start": "505840",
    "end": "509120"
  },
  {
    "text": "max maximum number of requests that I",
    "start": "509120",
    "end": "510960"
  },
  {
    "text": "can handle the maximum number of",
    "start": "510960",
    "end": "512279"
  },
  {
    "text": "connections I can handle so we had",
    "start": "512279",
    "end": "514839"
  },
  {
    "text": "enough capacity to handle roughly 33,000",
    "start": "514839",
    "end": "518159"
  },
  {
    "text": "requests a second when we surpass that",
    "start": "518159",
    "end": "521000"
  },
  {
    "text": "the system just completely fell over so",
    "start": "521000",
    "end": "523680"
  },
  {
    "text": "this is sort of a question of um you",
    "start": "523680",
    "end": "526360"
  },
  {
    "text": "know would you rather um would you",
    "start": "526360",
    "end": "528920"
  },
  {
    "text": "rather uh completely fall over uh or",
    "start": "528920",
    "end": "533240"
  },
  {
    "text": "would you rather refuse the connection",
    "start": "533240",
    "end": "534560"
  },
  {
    "text": "and leave it to the client to retry so",
    "start": "534560",
    "end": "536920"
  },
  {
    "text": "one of the things that's a bit",
    "start": "536920",
    "end": "538040"
  },
  {
    "text": "challenging here is this is is different",
    "start": "538040",
    "end": "540040"
  },
  {
    "text": "for each of these abstractions so",
    "start": "540040",
    "end": "542640"
  },
  {
    "text": "between uh if you're building",
    "start": "542640",
    "end": "544800"
  },
  {
    "text": "applications with uh AA or finagle in",
    "start": "544800",
    "end": "548040"
  },
  {
    "text": "particular those two uh how you",
    "start": "548040",
    "end": "550640"
  },
  {
    "text": "configure this is pretty different and",
    "start": "550640",
    "end": "552680"
  },
  {
    "text": "so if you have developers from these",
    "start": "552680",
    "end": "554240"
  },
  {
    "text": "different backgrounds you know maybe",
    "start": "554240",
    "end": "555920"
  },
  {
    "text": "somebody who's really familiar with AA",
    "start": "555920",
    "end": "557399"
  },
  {
    "text": "coming to finagle or vice versa they",
    "start": "557399",
    "end": "559440"
  },
  {
    "text": "assume things are done a particular way",
    "start": "559440",
    "end": "561519"
  },
  {
    "text": "and when they're not you see these you",
    "start": "561519",
    "end": "563240"
  },
  {
    "text": "know nice",
    "start": "563240",
    "end": "564720"
  },
  {
    "text": "graphs um so sort of the few things are",
    "start": "564720",
    "end": "567600"
  },
  {
    "text": "you know applying back pressure is",
    "start": "567600",
    "end": "568839"
  },
  {
    "text": "usually pretty easy um doing a little",
    "start": "568839",
    "end": "571040"
  },
  {
    "text": "bit of capacity planning to understand",
    "start": "571040",
    "end": "573120"
  },
  {
    "text": "sort of the bounds of your service but",
    "start": "573120",
    "end": "575600"
  },
  {
    "text": "the one thing I'll say is uh capacity",
    "start": "575600",
    "end": "577519"
  },
  {
    "text": "planning typically what people will do",
    "start": "577519",
    "end": "579040"
  },
  {
    "text": "is they'll write a little load generator",
    "start": "579040",
    "end": "580600"
  },
  {
    "text": "and they'll throw load at as fast as",
    "start": "580600",
    "end": "582120"
  },
  {
    "text": "they can and that misses two of the most",
    "start": "582120",
    "end": "584240"
  },
  {
    "text": "important things that determine what",
    "start": "584240",
    "end": "585880"
  },
  {
    "text": "your throughput will be in production",
    "start": "585880",
    "end": "587680"
  },
  {
    "text": "and that's how slow your clients can be",
    "start": "587680",
    "end": "590160"
  },
  {
    "text": "and how slow your backends can be so",
    "start": "590160",
    "end": "592800"
  },
  {
    "text": "most load tests it's really sort of on",
    "start": "592800",
    "end": "594720"
  },
  {
    "text": "my Dev box or on the test environment",
    "start": "594720",
    "end": "597160"
  },
  {
    "text": "how quickly can I throw things at you in",
    "start": "597160",
    "end": "599959"
  },
  {
    "text": "reality in production you're going to",
    "start": "599959",
    "end": "601480"
  },
  {
    "text": "have systems where you know the client",
    "start": "601480",
    "end": "603760"
  },
  {
    "text": "the load on the box is maybe 70 and it's",
    "start": "603760",
    "end": "606360"
  },
  {
    "text": "taking a second for it to actually",
    "start": "606360",
    "end": "608200"
  },
  {
    "text": "connect um so you know if you're going",
    "start": "608200",
    "end": "610800"
  },
  {
    "text": "to go through the the you know exercise",
    "start": "610800",
    "end": "612880"
  },
  {
    "text": "of a bit of capacity planning also go",
    "start": "612880",
    "end": "614760"
  },
  {
    "text": "through the exercise of you know writing",
    "start": "614760",
    "end": "617160"
  },
  {
    "text": "reasonable load tests for your",
    "start": "617160",
    "end": "620399"
  },
  {
    "start": "621000",
    "end": "767000"
  },
  {
    "text": "environment all right so this is my code",
    "start": "622800",
    "end": "625519"
  },
  {
    "text": "uh this is from uh uh a system called",
    "start": "625519",
    "end": "628200"
  },
  {
    "text": "Oscar Oscar's a m Cas proxy that sort of",
    "start": "628200",
    "end": "630640"
  },
  {
    "text": "knows about like Shard pools and parses",
    "start": "630640",
    "end": "633279"
  },
  {
    "text": "the request and this code in particular",
    "start": "633279",
    "end": "636560"
  },
  {
    "text": "um basically when you you know fan out",
    "start": "636560",
    "end": "638560"
  },
  {
    "text": "and say I need a bunch of uh values",
    "start": "638560",
    "end": "640440"
  },
  {
    "text": "associated with these Keys you get back",
    "start": "640440",
    "end": "642720"
  },
  {
    "text": "a uh you can see it here you get back uh",
    "start": "642720",
    "end": "646000"
  },
  {
    "text": "a sequence of uh values um uh so and a",
    "start": "646000",
    "end": "650160"
  },
  {
    "text": "value is just like a response that was",
    "start": "650160",
    "end": "651519"
  },
  {
    "text": "associated with a key and what I was",
    "start": "651519",
    "end": "652639"
  },
  {
    "text": "trying to do here was count for a given",
    "start": "652639",
    "end": "654839"
  },
  {
    "text": "key whether there was a hit or not so",
    "start": "654839",
    "end": "657600"
  },
  {
    "text": "that I could expose some stats that was",
    "start": "657600",
    "end": "659399"
  },
  {
    "text": "basically like hit ratio Miss ratio",
    "start": "659399",
    "end": "661519"
  },
  {
    "text": "things like that um so I noted also that",
    "start": "661519",
    "end": "665120"
  },
  {
    "text": "in you know this",
    "start": "665120",
    "end": "666639"
  },
  {
    "text": "code making this method F apply is the",
    "start": "666639",
    "end": "669560"
  },
  {
    "text": "same as you know calling future.get so",
    "start": "669560",
    "end": "672240"
  },
  {
    "text": "this one's may be one of the more",
    "start": "672240",
    "end": "673440"
  },
  {
    "text": "obvious ones what's an issue with this",
    "start": "673440",
    "end": "676959"
  },
  {
    "text": "code oh thank goodness I was like no one",
    "start": "677880",
    "end": "680120"
  },
  {
    "text": "does this but me uh yeah uh blocking and",
    "start": "680120",
    "end": "683440"
  },
  {
    "text": "this is in like the main event Loop so",
    "start": "683440",
    "end": "685680"
  },
  {
    "text": "basically requests would come in and um",
    "start": "685680",
    "end": "689440"
  },
  {
    "text": "before I sent them back to the client I",
    "start": "689440",
    "end": "692320"
  },
  {
    "text": "would do this kind of",
    "start": "692320",
    "end": "694399"
  },
  {
    "text": "calculation so I couldn't find this is a",
    "start": "694399",
    "end": "698079"
  },
  {
    "text": "older code and I couldn't find a graph",
    "start": "698079",
    "end": "699920"
  },
  {
    "text": "from that time but what you'd see is um",
    "start": "699920",
    "end": "701959"
  },
  {
    "text": "essentially it would do about 24",
    "start": "701959",
    "end": "704120"
  },
  {
    "text": "requests a second we have about 24 boxes",
    "start": "704120",
    "end": "706920"
  },
  {
    "text": "or cores per machine so uh this would",
    "start": "706920",
    "end": "709639"
  },
  {
    "text": "just literally block from you know",
    "start": "709639",
    "end": "711360"
  },
  {
    "text": "allowing work to uh uh proceed so you",
    "start": "711360",
    "end": "714680"
  },
  {
    "text": "know instrumentation here was good but",
    "start": "714680",
    "end": "716480"
  },
  {
    "text": "you know not doing stupid things with",
    "start": "716480",
    "end": "717880"
  },
  {
    "text": "your code is also good um you know and",
    "start": "717880",
    "end": "720480"
  },
  {
    "text": "this is one of those cases where um uh",
    "start": "720480",
    "end": "724800"
  },
  {
    "text": "you know all of these abstractions",
    "start": "724800",
    "end": "726920"
  },
  {
    "text": "provide uh methods for dealing with this",
    "start": "726920",
    "end": "729680"
  },
  {
    "text": "case and at this point I just I actually",
    "start": "729680",
    "end": "732920"
  },
  {
    "text": "did know what they were and it was hard",
    "start": "732920",
    "end": "734320"
  },
  {
    "text": "to do so I just like cut corners and did",
    "start": "734320",
    "end": "736560"
  },
  {
    "text": "this uh but you know use map use for",
    "start": "736560",
    "end": "739320"
  },
  {
    "text": "each use whatever abstractions available",
    "start": "739320",
    "end": "741360"
  },
  {
    "text": "to you avoid blocking your event Loop",
    "start": "741360",
    "end": "743480"
  },
  {
    "text": "it'll improve your throughput um and I",
    "start": "743480",
    "end": "746320"
  },
  {
    "text": "mentioned this already but um uh you can",
    "start": "746320",
    "end": "749800"
  },
  {
    "text": "hook into either a successful or a",
    "start": "749800",
    "end": "752320"
  },
  {
    "text": "failed um future at least with uh",
    "start": "752320",
    "end": "756399"
  },
  {
    "text": "finagle and AA has something similar so",
    "start": "756399",
    "end": "759680"
  },
  {
    "text": "that you can basically defer any kind of",
    "start": "759680",
    "end": "761399"
  },
  {
    "text": "stats or calculation until after the",
    "start": "761399",
    "end": "763199"
  },
  {
    "text": "request has been",
    "start": "763199",
    "end": "765880"
  },
  {
    "start": "767000",
    "end": "827000"
  },
  {
    "text": "handled all right so uh sloth when not",
    "start": "768079",
    "end": "772160"
  },
  {
    "text": "to be lazy and and uh uh there there's a",
    "start": "772160",
    "end": "774880"
  },
  {
    "text": "little bit of discussion about one of",
    "start": "774880",
    "end": "776639"
  },
  {
    "text": "these issues these are the top one is a",
    "start": "776639",
    "end": "778760"
  },
  {
    "text": "piece of code um it's from a uh internal",
    "start": "778760",
    "end": "781920"
  },
  {
    "text": "utility Library called service util that",
    "start": "781920",
    "end": "783920"
  },
  {
    "text": "all of our our services hook into uh the",
    "start": "783920",
    "end": "786480"
  },
  {
    "text": "one below is an exception from a system",
    "start": "786480",
    "end": "789240"
  },
  {
    "text": "that's open source called uh Collins",
    "start": "789240",
    "end": "791320"
  },
  {
    "text": "it's fixed so don't worry about using it",
    "start": "791320",
    "end": "793800"
  },
  {
    "text": "um so uh the service util one we have",
    "start": "793800",
    "end": "796440"
  },
  {
    "text": "the supply method that's part of an",
    "start": "796440",
    "end": "798000"
  },
  {
    "text": "object and basically what it does is",
    "start": "798000",
    "end": "800000"
  },
  {
    "text": "given some client config do I already",
    "start": "800000",
    "end": "802800"
  },
  {
    "text": "have a connection to the back end or not",
    "start": "802800",
    "end": "806440"
  },
  {
    "text": "and if not create one and you know put",
    "start": "806440",
    "end": "808240"
  },
  {
    "text": "it in this map uh the next one is uh a",
    "start": "808240",
    "end": "812040"
  },
  {
    "text": "says caused by java. lang. exception and",
    "start": "812040",
    "end": "815959"
  },
  {
    "text": "initializer error null uh it's you know",
    "start": "815959",
    "end": "819519"
  },
  {
    "text": "amazing uh uh error logging uh does",
    "start": "819519",
    "end": "823240"
  },
  {
    "text": "somebody want to take a guess on either",
    "start": "823240",
    "end": "824480"
  },
  {
    "text": "of",
    "start": "824480",
    "end": "826040"
  },
  {
    "text": "these uh for the top one there's two",
    "start": "826040",
    "end": "828880"
  },
  {
    "start": "827000",
    "end": "865000"
  },
  {
    "text": "sort of bigger issues one is you know",
    "start": "828880",
    "end": "830440"
  },
  {
    "text": "you can end up with stale connection",
    "start": "830440",
    "end": "831639"
  },
  {
    "text": "handles this is a recipe for a memory",
    "start": "831639",
    "end": "833759"
  },
  {
    "text": "leak depending on what ends up in that",
    "start": "833759",
    "end": "836639"
  },
  {
    "text": "map the one that's a little bit of a",
    "start": "836639",
    "end": "838320"
  },
  {
    "text": "bigger problem is depending on how",
    "start": "838320",
    "end": "840600"
  },
  {
    "text": "complex your backend service is shutting",
    "start": "840600",
    "end": "842680"
  },
  {
    "text": "it down properly can be non-trivial so",
    "start": "842680",
    "end": "845720"
  },
  {
    "text": "in this case the process for actually",
    "start": "845720",
    "end": "847959"
  },
  {
    "text": "needing to iterate through that map pull",
    "start": "847959",
    "end": "849920"
  },
  {
    "text": "out all of the clients call the shutdown",
    "start": "849920",
    "end": "852000"
  },
  {
    "text": "method on them individually does not",
    "start": "852000",
    "end": "854120"
  },
  {
    "text": "exist in the code base so uh what that",
    "start": "854120",
    "end": "856800"
  },
  {
    "text": "means is if you use this method you're",
    "start": "856800",
    "end": "858480"
  },
  {
    "text": "going to end up with you know either a",
    "start": "858480",
    "end": "860040"
  },
  {
    "text": "jvm that won't shut down or you know a",
    "start": "860040",
    "end": "862399"
  },
  {
    "text": "bunch of connections you're end up",
    "start": "862399",
    "end": "863920"
  },
  {
    "text": "forcing a close on and then the the last",
    "start": "863920",
    "end": "866880"
  },
  {
    "start": "865000",
    "end": "950000"
  },
  {
    "text": "one uh that one that's definitely uh",
    "start": "866880",
    "end": "870199"
  },
  {
    "text": "class initialization problem so in this",
    "start": "870199",
    "end": "872720"
  },
  {
    "text": "case it was a lazy vow um and it was",
    "start": "872720",
    "end": "876759"
  },
  {
    "text": "something that didn't manifest itself",
    "start": "876759",
    "end": "878639"
  },
  {
    "text": "until a particular load was applied",
    "start": "878639",
    "end": "881120"
  },
  {
    "text": "against the system in which case it it",
    "start": "881120",
    "end": "883800"
  },
  {
    "text": "exposed a um subtle bug in in our code",
    "start": "883800",
    "end": "888079"
  },
  {
    "text": "but uh you know the two big things were",
    "start": "888079",
    "end": "891519"
  },
  {
    "text": "I think Daniel talked a little bit about",
    "start": "891519",
    "end": "893240"
  },
  {
    "text": "this morning uh there's pros and cons to",
    "start": "893240",
    "end": "895519"
  },
  {
    "text": "Lazy vs there's potentially some some",
    "start": "895519",
    "end": "897639"
  },
  {
    "text": "performance issues it can end up",
    "start": "897639",
    "end": "899279"
  },
  {
    "text": "blocking um but also I think the the",
    "start": "899279",
    "end": "902079"
  },
  {
    "text": "thing that's a little bit worse about",
    "start": "902079",
    "end": "903560"
  },
  {
    "text": "this is it violates uh anybody remember",
    "start": "903560",
    "end": "907639"
  },
  {
    "text": "what what's the principle of getting",
    "start": "907639",
    "end": "909040"
  },
  {
    "text": "back an object that hasn't been fully",
    "start": "909040",
    "end": "910560"
  },
  {
    "text": "initialized yet uh there's a name for it",
    "start": "910560",
    "end": "913360"
  },
  {
    "text": "so if you throw exceptions in your",
    "start": "913360",
    "end": "914839"
  },
  {
    "text": "Constructor it's generally somewhat bad",
    "start": "914839",
    "end": "917000"
  },
  {
    "text": "practice uh uh and in this case it's not",
    "start": "917000",
    "end": "920480"
  },
  {
    "text": "even an intentional exception it's one",
    "start": "920480",
    "end": "922320"
  },
  {
    "text": "where you know it's being thrown on your",
    "start": "922320",
    "end": "924320"
  },
  {
    "text": "behalf so in this case we move to um uh",
    "start": "924320",
    "end": "927920"
  },
  {
    "text": "using a static initializer private",
    "start": "927920",
    "end": "930199"
  },
  {
    "text": "Constructor um so that we could",
    "start": "930199",
    "end": "931839"
  },
  {
    "text": "guarantee that things were set up in a",
    "start": "931839",
    "end": "933560"
  },
  {
    "text": "particular way but in this case you know",
    "start": "933560",
    "end": "936480"
  },
  {
    "text": "sometimes the lazy valves are easy to",
    "start": "936480",
    "end": "938000"
  },
  {
    "text": "spot in your testing sometimes uh you",
    "start": "938000",
    "end": "940680"
  },
  {
    "text": "run into issues due to deadlock other",
    "start": "940680",
    "end": "943440"
  },
  {
    "text": "things when you're operating in a highly",
    "start": "943440",
    "end": "945480"
  },
  {
    "text": "concurrent",
    "start": "945480",
    "end": "948000"
  },
  {
    "start": "950000",
    "end": "1185000"
  },
  {
    "text": "environment all right so uh this is a",
    "start": "951600",
    "end": "955000"
  },
  {
    "text": "another project um it's called Wentworth",
    "start": "955000",
    "end": "958319"
  },
  {
    "text": "so if you're ever in your Tumblr",
    "start": "958319",
    "end": "960399"
  },
  {
    "text": "dashboard um uh you'll see these uh",
    "start": "960399",
    "end": "963319"
  },
  {
    "text": "little uh notices uh laid into uh in",
    "start": "963319",
    "end": "967319"
  },
  {
    "text": "between posts um so you see a post then",
    "start": "967319",
    "end": "969560"
  },
  {
    "text": "you'll say see a little notice that'll",
    "start": "969560",
    "end": "971079"
  },
  {
    "text": "say so and so followed you so and so",
    "start": "971079",
    "end": "973519"
  },
  {
    "text": "reblogged your post so uh this is a RIS",
    "start": "973519",
    "end": "976319"
  },
  {
    "text": "backed service that um provides those",
    "start": "976319",
    "end": "979800"
  },
  {
    "text": "notifications um and so uh what this uh",
    "start": "979800",
    "end": "984160"
  },
  {
    "text": "code is for",
    "start": "984160",
    "end": "985920"
  },
  {
    "text": "is uh we have generally the the we we",
    "start": "985920",
    "end": "990199"
  },
  {
    "text": "expose a thrift interface for this",
    "start": "990199",
    "end": "991680"
  },
  {
    "text": "service so when we get a request that",
    "start": "991680",
    "end": "994199"
  },
  {
    "text": "there's been a new notification the",
    "start": "994199",
    "end": "996240"
  },
  {
    "text": "client doesn't actually need",
    "start": "996240",
    "end": "997279"
  },
  {
    "text": "acknowledgement for the right so we cue",
    "start": "997279",
    "end": "999399"
  },
  {
    "text": "the request and then sort of in batches",
    "start": "999399",
    "end": "1001040"
  },
  {
    "text": "we write those to disk so this code",
    "start": "1001040",
    "end": "1004560"
  },
  {
    "text": "class redus writer uh gets a handle on a",
    "start": "1004560",
    "end": "1007399"
  },
  {
    "text": "redus client uh and then it has a right",
    "start": "1007399",
    "end": "1010040"
  },
  {
    "text": "CU which might be like a blocking queue",
    "start": "1010040",
    "end": "1011959"
  },
  {
    "text": "or something",
    "start": "1011959",
    "end": "1013680"
  },
  {
    "text": "similar it extends runnable has a run",
    "start": "1013680",
    "end": "1016480"
  },
  {
    "text": "method and then says while true drain q",
    "start": "1016480",
    "end": "1019680"
  },
  {
    "text": "i i simplified the drain que part but",
    "start": "1019680",
    "end": "1021319"
  },
  {
    "text": "that's sort of the the gist of it um",
    "start": "1021319",
    "end": "1024520"
  },
  {
    "text": "anybody want to Venture as to what the",
    "start": "1024520",
    "end": "1026558"
  },
  {
    "text": "issues are for this",
    "start": "1026559",
    "end": "1028959"
  },
  {
    "text": "one there's no way to shut it down uh so",
    "start": "1028959",
    "end": "1033400"
  },
  {
    "text": "this one isn't certainly isn't a Scala",
    "start": "1033400",
    "end": "1035880"
  },
  {
    "text": "specific thing but it ties a little bit",
    "start": "1035880",
    "end": "1037558"
  },
  {
    "text": "to how you mix your abstractions so if",
    "start": "1037559",
    "end": "1041760"
  },
  {
    "text": "you're using something like uh AA maybe",
    "start": "1041760",
    "end": "1044319"
  },
  {
    "text": "you send a poison pill maybe you send a",
    "start": "1044319",
    "end": "1046480"
  },
  {
    "text": "particular message type things like that",
    "start": "1046480",
    "end": "1048480"
  },
  {
    "text": "wait for to drain finagle as sort of",
    "start": "1048480",
    "end": "1050600"
  },
  {
    "text": "similar you know uh facilities but you",
    "start": "1050600",
    "end": "1053480"
  },
  {
    "text": "know that's the question you go through",
    "start": "1053480",
    "end": "1054679"
  },
  {
    "text": "that shutdown process uh how do you make",
    "start": "1054679",
    "end": "1057320"
  },
  {
    "text": "sure that all of those messages get",
    "start": "1057320",
    "end": "1058960"
  },
  {
    "text": "written you stop accepting connections",
    "start": "1058960",
    "end": "1061640"
  },
  {
    "text": "um and all of these abstractions offer",
    "start": "1061640",
    "end": "1063480"
  },
  {
    "text": "slightly different ways of solving that",
    "start": "1063480",
    "end": "1065760"
  },
  {
    "text": "so this is a subtle bug because um",
    "start": "1065760",
    "end": "1069120"
  },
  {
    "text": "unless you're actually tracking uh",
    "start": "1069120",
    "end": "1071520"
  },
  {
    "text": "messages received and messages written",
    "start": "1071520",
    "end": "1074080"
  },
  {
    "text": "and looking at that Delta you're",
    "start": "1074080",
    "end": "1075880"
  },
  {
    "text": "probably not going to notice because",
    "start": "1075880",
    "end": "1077520"
  },
  {
    "text": "you're getting you know Millions milons",
    "start": "1077520",
    "end": "1079039"
  },
  {
    "text": "and millions and millions of these a day",
    "start": "1079039",
    "end": "1081039"
  },
  {
    "text": "and it's a data loss issue right so in",
    "start": "1081039",
    "end": "1083480"
  },
  {
    "text": "this case notifications they're not like",
    "start": "1083480",
    "end": "1086320"
  },
  {
    "text": "I I wouldn't say it's like cherished",
    "start": "1086320",
    "end": "1088039"
  },
  {
    "text": "data because we only we only keep a",
    "start": "1088039",
    "end": "1090280"
  },
  {
    "text": "finite amount of them but if you can",
    "start": "1090280",
    "end": "1092600"
  },
  {
    "text": "avoid losing data that's a pretty good",
    "start": "1092600",
    "end": "1094480"
  },
  {
    "text": "practice so uh you know in this case",
    "start": "1094480",
    "end": "1097600"
  },
  {
    "text": "yeah there's no way to shut it down and",
    "start": "1097600",
    "end": "1099480"
  },
  {
    "text": "there's a few ways to do that right so",
    "start": "1099480",
    "end": "1102960"
  },
  {
    "text": "if this was a pure uh Java app you might",
    "start": "1102960",
    "end": "1105720"
  },
  {
    "text": "interrupt it catch that exception shut",
    "start": "1105720",
    "end": "1107880"
  },
  {
    "text": "down if you have AA available to you you",
    "start": "1107880",
    "end": "1110440"
  },
  {
    "text": "might send a particular message type um",
    "start": "1110440",
    "end": "1113039"
  },
  {
    "text": "but this is also something that uh isn't",
    "start": "1113039",
    "end": "1116600"
  },
  {
    "text": "uh completely trivial although the cake",
    "start": "1116600",
    "end": "1119520"
  },
  {
    "text": "pattern made me think I was just doing",
    "start": "1119520",
    "end": "1121320"
  },
  {
    "text": "things wrong uh you have a bunch of",
    "start": "1121320",
    "end": "1124360"
  },
  {
    "text": "things to shut down right so when your",
    "start": "1124360",
    "end": "1126640"
  },
  {
    "text": "when your process needs to restart and",
    "start": "1126640",
    "end": "1128960"
  },
  {
    "text": "some people like to use uh osgi you know",
    "start": "1128960",
    "end": "1131520"
  },
  {
    "text": "reloading I prefer just treating it like",
    "start": "1131520",
    "end": "1133840"
  },
  {
    "text": "sort of a system process I think it",
    "start": "1133840",
    "end": "1135600"
  },
  {
    "text": "simplifies a few things but you have to",
    "start": "1135600",
    "end": "1139000"
  },
  {
    "text": "uh handle a whole bunch of shutting down",
    "start": "1139000",
    "end": "1141679"
  },
  {
    "text": "there's stop accepting new connections",
    "start": "1141679",
    "end": "1144000"
  },
  {
    "text": "uh drain out your current work CU wait",
    "start": "1144000",
    "end": "1146760"
  },
  {
    "text": "for your clients to disconnect uh",
    "start": "1146760",
    "end": "1149200"
  },
  {
    "text": "disconnect from any back ends that",
    "start": "1149200",
    "end": "1150679"
  },
  {
    "text": "you're connected to and actually finish",
    "start": "1150679",
    "end": "1152360"
  },
  {
    "text": "shutting down um so this is just sort of",
    "start": "1152360",
    "end": "1156000"
  },
  {
    "text": "one example where that small part of it",
    "start": "1156000",
    "end": "1158200"
  },
  {
    "text": "which is draining your work CU there's",
    "start": "1158200",
    "end": "1159720"
  },
  {
    "text": "actually no way to do this this will",
    "start": "1159720",
    "end": "1161039"
  },
  {
    "text": "just keep running forever and even if",
    "start": "1161039",
    "end": "1162919"
  },
  {
    "text": "this is a uh uh a demon thread doesn't",
    "start": "1162919",
    "end": "1166760"
  },
  {
    "text": "actually help you a lot because it's",
    "start": "1166760",
    "end": "1168240"
  },
  {
    "text": "entirely Pro possible for the jvm to",
    "start": "1168240",
    "end": "1170559"
  },
  {
    "text": "exit before the Q gets drained so yes it",
    "start": "1170559",
    "end": "1173400"
  },
  {
    "text": "means that you probably won't get stuck",
    "start": "1173400",
    "end": "1175280"
  },
  {
    "text": "with a jvm that you have to kill -9 uh",
    "start": "1175280",
    "end": "1178360"
  },
  {
    "text": "but it does mean you're probably going",
    "start": "1178360",
    "end": "1179880"
  },
  {
    "text": "to lose messages when the jvm",
    "start": "1179880",
    "end": "1183400"
  },
  {
    "start": "1185000",
    "end": "1709000"
  },
  {
    "text": "exits so this one I took from uh Philip",
    "start": "1186360",
    "end": "1189480"
  },
  {
    "text": "uh Hower emailed me um it was nice",
    "start": "1189480",
    "end": "1192200"
  },
  {
    "text": "enough to send me over a presentation",
    "start": "1192200",
    "end": "1193720"
  },
  {
    "text": "that he'd done on it was a bit more",
    "start": "1193720",
    "end": "1195960"
  },
  {
    "text": "focused on sort of uh mixing the the",
    "start": "1195960",
    "end": "1199000"
  },
  {
    "text": "different uh concurrency abstractions",
    "start": "1199000",
    "end": "1201799"
  },
  {
    "text": "and there's a link to it there um and",
    "start": "1201799",
    "end": "1204520"
  },
  {
    "text": "this was an example that I'm sure we",
    "start": "1204520",
    "end": "1207559"
  },
  {
    "text": "have in our code base I did not have",
    "start": "1207559",
    "end": "1209039"
  },
  {
    "text": "time to find it and he already had a",
    "start": "1209039",
    "end": "1210280"
  },
  {
    "text": "good example um so in this case you have",
    "start": "1210280",
    "end": "1213080"
  },
  {
    "text": "some some actor uh it has a a you know",
    "start": "1213080",
    "end": "1217039"
  },
  {
    "text": "State variable uh when it gets a request",
    "start": "1217039",
    "end": "1220159"
  },
  {
    "text": "it replies with some future handle",
    "start": "1220159",
    "end": "1223200"
  },
  {
    "text": "request hooks into the state and then",
    "start": "1223200",
    "end": "1225880"
  },
  {
    "text": "change State uh you know says set the",
    "start": "1225880",
    "end": "1229039"
  },
  {
    "text": "state to this new value um what do you",
    "start": "1229039",
    "end": "1231720"
  },
  {
    "text": "think the issue is with",
    "start": "1231720",
    "end": "1233640"
  },
  {
    "text": "this yes so this is fun with uh closures",
    "start": "1233640",
    "end": "1236960"
  },
  {
    "text": "in a future so uh you you actually are",
    "start": "1236960",
    "end": "1241600"
  },
  {
    "text": "going to whenever this block gets",
    "start": "1241600",
    "end": "1243880"
  },
  {
    "text": "executed you're going to have a handle",
    "start": "1243880",
    "end": "1245559"
  },
  {
    "text": "on whatever the value of state is at",
    "start": "1245559",
    "end": "1247159"
  },
  {
    "text": "that time and not the value of State",
    "start": "1247159",
    "end": "1250159"
  },
  {
    "text": "when you actually made the request um so",
    "start": "1250159",
    "end": "1253760"
  },
  {
    "text": "this one's actually you know fairly easy",
    "start": "1253760",
    "end": "1255919"
  },
  {
    "text": "to fix potentially if you wanted to do",
    "start": "1255919",
    "end": "1257840"
  },
  {
    "text": "this um you can just actually bind the",
    "start": "1257840",
    "end": "1260159"
  },
  {
    "text": "value so that within that closure you",
    "start": "1260159",
    "end": "1262720"
  },
  {
    "text": "have a value that is the one that you",
    "start": "1262720",
    "end": "1264760"
  },
  {
    "text": "actually wanted you can do fancier",
    "start": "1264760",
    "end": "1266840"
  },
  {
    "text": "things you can use you know Atomic ref",
    "start": "1266840",
    "end": "1269039"
  },
  {
    "text": "or a STM or things like that but um I I",
    "start": "1269039",
    "end": "1274120"
  },
  {
    "text": "generally try and not decorate my code I",
    "start": "1274120",
    "end": "1277559"
  },
  {
    "text": "usually like to do things sort of as",
    "start": "1277559",
    "end": "1279640"
  },
  {
    "text": "simple as possible as readable as",
    "start": "1279640",
    "end": "1281480"
  },
  {
    "text": "possible uh and avoid abstraction if I",
    "start": "1281480",
    "end": "1285080"
  },
  {
    "text": "don't need it so this is a case where um",
    "start": "1285080",
    "end": "1288039"
  },
  {
    "text": "I think people generally sort of have a",
    "start": "1288039",
    "end": "1289760"
  },
  {
    "text": "distaste for vars they're like you know",
    "start": "1289760",
    "end": "1292000"
  },
  {
    "text": "that's a code smell in itself I I",
    "start": "1292000",
    "end": "1294760"
  },
  {
    "text": "probably I definitely fall into that",
    "start": "1294760",
    "end": "1296360"
  },
  {
    "text": "category um there are times when that's",
    "start": "1296360",
    "end": "1298279"
  },
  {
    "text": "a really simple thing to do it's the",
    "start": "1298279",
    "end": "1299960"
  },
  {
    "text": "thing you're going to use you just have",
    "start": "1299960",
    "end": "1301440"
  },
  {
    "text": "to be aware of what are the semantics",
    "start": "1301440",
    "end": "1303600"
  },
  {
    "text": "for the abstraction that you're using",
    "start": "1303600",
    "end": "1305640"
  },
  {
    "text": "and is is this thing actually doing what",
    "start": "1305640",
    "end": "1308480"
  },
  {
    "text": "you want or",
    "start": "1308480",
    "end": "1310000"
  },
  {
    "text": "not the other thing I said is this is a",
    "start": "1310000",
    "end": "1312960"
  },
  {
    "text": "bit of you can't completely hide from",
    "start": "1312960",
    "end": "1314840"
  },
  {
    "text": "the Java memory model so we have a lot",
    "start": "1314840",
    "end": "1317039"
  },
  {
    "text": "of this isn't actually specifically an",
    "start": "1317039",
    "end": "1319480"
  },
  {
    "text": "issue with it but that's something that",
    "start": "1319480",
    "end": "1321159"
  },
  {
    "text": "I'll run into occasionally particularly",
    "start": "1321159",
    "end": "1322600"
  },
  {
    "text": "with people using volatiles or things",
    "start": "1322600",
    "end": "1324799"
  },
  {
    "text": "like that is at some point it's all",
    "start": "1324799",
    "end": "1327000"
  },
  {
    "text": "running on the jvm and having an",
    "start": "1327000",
    "end": "1328880"
  },
  {
    "text": "awareness of what that looks like is",
    "start": "1328880",
    "end": "1330880"
  },
  {
    "text": "going to help protect you or at least",
    "start": "1330880",
    "end": "1333080"
  },
  {
    "text": "inform you when you're making decisions",
    "start": "1333080",
    "end": "1334760"
  },
  {
    "text": "about how do I do this stuff what am I",
    "start": "1334760",
    "end": "1336960"
  },
  {
    "text": "thinking",
    "start": "1336960",
    "end": "1339278"
  },
  {
    "text": "about all right so this one's called uh",
    "start": "1341960",
    "end": "1344600"
  },
  {
    "text": "Pride why mess with perfection uh this",
    "start": "1344600",
    "end": "1347200"
  },
  {
    "text": "is from a uh system in internally called",
    "start": "1347200",
    "end": "1349520"
  },
  {
    "text": "uh reog um and uh uh the the problem",
    "start": "1349520",
    "end": "1354200"
  },
  {
    "text": "that this is solving is um so we've been",
    "start": "1354200",
    "end": "1357159"
  },
  {
    "text": "keeping these notifications for a short",
    "start": "1357159",
    "end": "1359080"
  },
  {
    "text": "period of time if we want to keep these",
    "start": "1359080",
    "end": "1360720"
  },
  {
    "text": "for like a year we need a system that's",
    "start": "1360720",
    "end": "1363360"
  },
  {
    "text": "architected slightly differently um and",
    "start": "1363360",
    "end": "1366320"
  },
  {
    "text": "so there there's a feature of this that",
    "start": "1366320",
    "end": "1368120"
  },
  {
    "text": "basically says uh and this is something",
    "start": "1368120",
    "end": "1370640"
  },
  {
    "text": "we're rolling out in test mode right now",
    "start": "1370640",
    "end": "1372120"
  },
  {
    "text": "so this is pretty I think this is",
    "start": "1372120",
    "end": "1373520"
  },
  {
    "text": "actually still in a poll request so this",
    "start": "1373520",
    "end": "1374960"
  },
  {
    "text": "is really fresh code um so uh",
    "start": "1374960",
    "end": "1378960"
  },
  {
    "text": "uh what this is doing is saying um if",
    "start": "1378960",
    "end": "1381559"
  },
  {
    "text": "there is more than a thousand",
    "start": "1381559",
    "end": "1384159"
  },
  {
    "text": "notifications or there's more than three",
    "start": "1384159",
    "end": "1386080"
  },
  {
    "text": "days in data Purge the data that's older",
    "start": "1386080",
    "end": "1388440"
  },
  {
    "text": "than that so what this code's doing is",
    "start": "1388440",
    "end": "1391000"
  },
  {
    "text": "saying it's going to randomly decide to",
    "start": "1391000",
    "end": "1393720"
  },
  {
    "text": "run um you know say it's you know",
    "start": "1393720",
    "end": "1397080"
  },
  {
    "text": "choosing a random number between zero",
    "start": "1397080",
    "end": "1398720"
  },
  {
    "text": "and 100 and you know if it's one it's",
    "start": "1398720",
    "end": "1401039"
  },
  {
    "text": "going to run um it gets a count of the",
    "start": "1401039",
    "end": "1404840"
  },
  {
    "text": "number of elements associated with a key",
    "start": "1404840",
    "end": "1407440"
  },
  {
    "text": "um if the number stored is less than the",
    "start": "1407440",
    "end": "1410679"
  },
  {
    "text": "specified count which is out of scope um",
    "start": "1410679",
    "end": "1413360"
  },
  {
    "text": "it's going to use one method for purging",
    "start": "1413360",
    "end": "1416200"
  },
  {
    "text": "uh which is the the date based one",
    "start": "1416200",
    "end": "1418799"
  },
  {
    "text": "otherwise it's going to use the the",
    "start": "1418799",
    "end": "1420279"
  },
  {
    "text": "value based one um and if it shouldn't",
    "start": "1420279",
    "end": "1423720"
  },
  {
    "text": "randomly run it's going to return a",
    "start": "1423720",
    "end": "1425720"
  },
  {
    "text": "future unit um so there's a a couple of",
    "start": "1425720",
    "end": "1428960"
  },
  {
    "text": "problems with this uh does anybody want",
    "start": "1428960",
    "end": "1431440"
  },
  {
    "text": "to venture a guess all right so there's",
    "start": "1431440",
    "end": "1435279"
  },
  {
    "text": "a few",
    "start": "1435279",
    "end": "1436960"
  },
  {
    "text": "things does this ever run so there's a",
    "start": "1436960",
    "end": "1441120"
  },
  {
    "text": "there is a probability that that code",
    "start": "1441120",
    "end": "1443120"
  },
  {
    "text": "block will never execute for a given key",
    "start": "1443120",
    "end": "1445480"
  },
  {
    "text": "right so yeah you'd say given enough",
    "start": "1445480",
    "end": "1447600"
  },
  {
    "text": "runs that probability is very low but",
    "start": "1447600",
    "end": "1449720"
  },
  {
    "text": "what if a user is really inactive and um",
    "start": "1449720",
    "end": "1452279"
  },
  {
    "text": "they end up with one key do you just end",
    "start": "1452279",
    "end": "1454039"
  },
  {
    "text": "up sort of never purging any data so",
    "start": "1454039",
    "end": "1456600"
  },
  {
    "text": "there there's no there's no logging",
    "start": "1456600",
    "end": "1458080"
  },
  {
    "text": "there's no stats there's no way to",
    "start": "1458080",
    "end": "1459520"
  },
  {
    "text": "actually know whether that case is ever",
    "start": "1459520",
    "end": "1462200"
  },
  {
    "text": "hit it's just something I can talk about",
    "start": "1462200",
    "end": "1464000"
  },
  {
    "text": "and it's a thought",
    "start": "1464000",
    "end": "1466000"
  },
  {
    "text": "process so something else is um we're we",
    "start": "1466000",
    "end": "1470919"
  },
  {
    "text": "have these two different ways of purging",
    "start": "1470919",
    "end": "1472360"
  },
  {
    "text": "data one is date based and one is sort",
    "start": "1472360",
    "end": "1474760"
  },
  {
    "text": "of if account's been",
    "start": "1474760",
    "end": "1476600"
  },
  {
    "text": "exceeded it seems like those are good",
    "start": "1476600",
    "end": "1478640"
  },
  {
    "text": "things to know right uh which of those",
    "start": "1478640",
    "end": "1480960"
  },
  {
    "text": "is happening more often is it usually",
    "start": "1480960",
    "end": "1482520"
  },
  {
    "text": "date meaning that uh we're",
    "start": "1482520",
    "end": "1485760"
  },
  {
    "text": "we're not having lots and lots of",
    "start": "1485760",
    "end": "1488640"
  },
  {
    "text": "notifications or is it usually threshold",
    "start": "1488640",
    "end": "1490679"
  },
  {
    "text": "based in which case we're almost never",
    "start": "1490679",
    "end": "1492399"
  },
  {
    "text": "hitting the the date one without the",
    "start": "1492399",
    "end": "1493840"
  },
  {
    "text": "instrumentation you're just sort of lost",
    "start": "1493840",
    "end": "1495399"
  },
  {
    "text": "and then the last thing is the you know",
    "start": "1495399",
    "end": "1497720"
  },
  {
    "text": "calls to the the these are reddest calls",
    "start": "1497720",
    "end": "1500720"
  },
  {
    "text": "Z range by rank Z range by score and",
    "start": "1500720",
    "end": "1503799"
  },
  {
    "text": "then also the zount flat map um what if",
    "start": "1503799",
    "end": "1507279"
  },
  {
    "text": "one of those errors um do we want to log",
    "start": "1507279",
    "end": "1510440"
  },
  {
    "text": "that do we want to include it as a stat",
    "start": "1510440",
    "end": "1512640"
  },
  {
    "text": "so that we have better analytics part of",
    "start": "1512640",
    "end": "1514840"
  },
  {
    "text": "it is once something goes to production",
    "start": "1514840",
    "end": "1517640"
  },
  {
    "text": "um yeah you can always push out new code",
    "start": "1517640",
    "end": "1519360"
  },
  {
    "text": "but it you know generally you're not",
    "start": "1519360",
    "end": "1521760"
  },
  {
    "text": "just going to say like oh hey let's flip",
    "start": "1521760",
    "end": "1523880"
  },
  {
    "text": "on the instrumentation for this like",
    "start": "1523880",
    "end": "1525840"
  },
  {
    "text": "it's part of what the coding exercise is",
    "start": "1525840",
    "end": "1528360"
  },
  {
    "text": "right what are the types of things you",
    "start": "1528360",
    "end": "1529840"
  },
  {
    "text": "need to know about so you can really",
    "start": "1529840",
    "end": "1531200"
  },
  {
    "text": "look at your systems and understand",
    "start": "1531200",
    "end": "1533679"
  },
  {
    "text": "whether they're functioning well or not",
    "start": "1533679",
    "end": "1536240"
  },
  {
    "text": "um so in this case",
    "start": "1536240",
    "end": "1540200"
  },
  {
    "text": "um uh you know there there's sort of a",
    "start": "1540200",
    "end": "1542240"
  },
  {
    "text": "few things you can do one is it's really",
    "start": "1542240",
    "end": "1544640"
  },
  {
    "text": "great if your protocol Handler has",
    "start": "1544640",
    "end": "1546480"
  },
  {
    "text": "built-in stats that's one of the reasons",
    "start": "1546480",
    "end": "1548200"
  },
  {
    "text": "I like uh finagle so much is all the",
    "start": "1548200",
    "end": "1550159"
  },
  {
    "text": "protocols they support you get more",
    "start": "1550159",
    "end": "1552760"
  },
  {
    "text": "stats instrumentation than you could",
    "start": "1552760",
    "end": "1554480"
  },
  {
    "text": "possibly want number of connections btes",
    "start": "1554480",
    "end": "1557159"
  },
  {
    "text": "you know uh you get centiles for all of",
    "start": "1557159",
    "end": "1559480"
  },
  {
    "text": "these values you get counters you just",
    "start": "1559480",
    "end": "1561559"
  },
  {
    "text": "get a ton of information for us that all",
    "start": "1561559",
    "end": "1563880"
  },
  {
    "text": "submits into a central stat cluster and",
    "start": "1563880",
    "end": "1566360"
  },
  {
    "text": "we can look at this stuff and pretty",
    "start": "1566360",
    "end": "1567760"
  },
  {
    "text": "close to real time and it's really",
    "start": "1567760",
    "end": "1569679"
  },
  {
    "text": "helpful for for Diagnostics but part of",
    "start": "1569679",
    "end": "1572000"
  },
  {
    "text": "it is actually like doing it right if",
    "start": "1572000",
    "end": "1574000"
  },
  {
    "text": "you're not actually collecting the stats",
    "start": "1574000",
    "end": "1575880"
  },
  {
    "text": "there's nothing to look at so this isn't",
    "start": "1575880",
    "end": "1578200"
  },
  {
    "text": "particularly a Scala issue although",
    "start": "1578200",
    "end": "1580200"
  },
  {
    "text": "that's part of the code but I do think",
    "start": "1580200",
    "end": "1581399"
  },
  {
    "text": "it plays into your choice of which",
    "start": "1581399",
    "end": "1583880"
  },
  {
    "text": "abstraction you decide to use um I I",
    "start": "1583880",
    "end": "1587279"
  },
  {
    "text": "personally like the fact that um finagle",
    "start": "1587279",
    "end": "1590360"
  },
  {
    "text": "bundles in their their stat stuff you",
    "start": "1590360",
    "end": "1592080"
  },
  {
    "text": "don't have to use it but you can but you",
    "start": "1592080",
    "end": "1594080"
  },
  {
    "text": "know there's sort of that Paradox of",
    "start": "1594080",
    "end": "1595320"
  },
  {
    "text": "choice right so thing that I like about",
    "start": "1595320",
    "end": "1598000"
  },
  {
    "text": "uh finagle in particular is you don't",
    "start": "1598000",
    "end": "1600080"
  },
  {
    "text": "have a lot of choices it's not a",
    "start": "1600080",
    "end": "1601360"
  },
  {
    "text": "particularly fancy framework um you know",
    "start": "1601360",
    "end": "1604200"
  },
  {
    "text": "you get some stats you get some Futures",
    "start": "1604200",
    "end": "1606200"
  },
  {
    "text": "you get some protocol support um you",
    "start": "1606200",
    "end": "1608880"
  },
  {
    "text": "know that that's kind of it there's no",
    "start": "1608880",
    "end": "1610960"
  },
  {
    "text": "like remoting there's not a lot of",
    "start": "1610960",
    "end": "1612440"
  },
  {
    "text": "support for like serialization there's",
    "start": "1612440",
    "end": "1614360"
  },
  {
    "text": "no support for actors um uh you know",
    "start": "1614360",
    "end": "1617120"
  },
  {
    "text": "they just expect you'll pull that stuff",
    "start": "1617120",
    "end": "1618559"
  },
  {
    "text": "in if you need it from somewhere else um",
    "start": "1618559",
    "end": "1621159"
  },
  {
    "text": "but you know whether you're using AO",
    "start": "1621159",
    "end": "1623080"
  },
  {
    "text": "whether you're using finagle sort of",
    "start": "1623080",
    "end": "1624440"
  },
  {
    "text": "doesn't matter it's are you thinking",
    "start": "1624440",
    "end": "1625919"
  },
  {
    "text": "about you know sort of the data you need",
    "start": "1625919",
    "end": "1627320"
  },
  {
    "text": "to collect to effectively diagnose any",
    "start": "1627320",
    "end": "1630360"
  },
  {
    "text": "production issues you might run into um",
    "start": "1630360",
    "end": "1633279"
  },
  {
    "text": "something that's not covered here but I",
    "start": "1633279",
    "end": "1634840"
  },
  {
    "text": "think is additionally important is how",
    "start": "1634840",
    "end": "1636840"
  },
  {
    "text": "do you do your distributed tracing so",
    "start": "1636840",
    "end": "1639480"
  },
  {
    "text": "there's going to come a point in time",
    "start": "1639480",
    "end": "1640720"
  },
  {
    "text": "where you have a or you already do have",
    "start": "1640720",
    "end": "1642919"
  },
  {
    "text": "a a tier of services so you know your",
    "start": "1642919",
    "end": "1645559"
  },
  {
    "text": "front end makes a request to this system",
    "start": "1645559",
    "end": "1647440"
  },
  {
    "text": "that makes parallel requests to this",
    "start": "1647440",
    "end": "1648919"
  },
  {
    "text": "other backend system that makes requests",
    "start": "1648919",
    "end": "1651440"
  },
  {
    "text": "to these other backend systems and all",
    "start": "1651440",
    "end": "1653120"
  },
  {
    "text": "you know from the front end perspective",
    "start": "1653120",
    "end": "1654720"
  },
  {
    "text": "is that took a really long time um and",
    "start": "1654720",
    "end": "1658159"
  },
  {
    "text": "that's not helpful information if you've",
    "start": "1658159",
    "end": "1659880"
  },
  {
    "text": "ever gotten a bug report saying it's",
    "start": "1659880",
    "end": "1661640"
  },
  {
    "text": "slow you know how frustrating that can",
    "start": "1661640",
    "end": "1663960"
  },
  {
    "text": "be so one of the things that uh we did",
    "start": "1663960",
    "end": "1667000"
  },
  {
    "text": "is a lot of our codes instrumented using",
    "start": "1667000",
    "end": "1670279"
  },
  {
    "text": "uh uh Dapper style tracing which",
    "start": "1670279",
    "end": "1672799"
  },
  {
    "text": "basically means you have these Notions",
    "start": "1672799",
    "end": "1674480"
  },
  {
    "text": "of span IDs and Trace IDs and those",
    "start": "1674480",
    "end": "1676960"
  },
  {
    "text": "persist throughout the life time of of",
    "start": "1676960",
    "end": "1678880"
  },
  {
    "text": "all of these requests so that you can go",
    "start": "1678880",
    "end": "1681000"
  },
  {
    "text": "back and look and say okay that took a",
    "start": "1681000",
    "end": "1683039"
  },
  {
    "text": "really long time uh where did it take a",
    "start": "1683039",
    "end": "1685919"
  },
  {
    "text": "really long time the great thing about",
    "start": "1685919",
    "end": "1688279"
  },
  {
    "text": "that is because we've also provided",
    "start": "1688279",
    "end": "1689960"
  },
  {
    "text": "instrumentation at the protocol level we",
    "start": "1689960",
    "end": "1692640"
  },
  {
    "text": "know specifically like if it was a",
    "start": "1692640",
    "end": "1695159"
  },
  {
    "text": "backend storage system we know which one",
    "start": "1695159",
    "end": "1697240"
  },
  {
    "text": "it was and we know why it was and things",
    "start": "1697240",
    "end": "1699399"
  },
  {
    "text": "along those lines so these are things if",
    "start": "1699399",
    "end": "1701679"
  },
  {
    "text": "you can do it up front that's great and",
    "start": "1701679",
    "end": "1703360"
  },
  {
    "text": "if your abstraction of choice supports",
    "start": "1703360",
    "end": "1705320"
  },
  {
    "text": "it that that's even better",
    "start": "1705320",
    "end": "1709240"
  },
  {
    "text": "um so a few of the things that I've",
    "start": "1710720",
    "end": "1712480"
  },
  {
    "text": "picked up over the last uh year and a",
    "start": "1712480",
    "end": "1715120"
  },
  {
    "text": "half or so of of working on this stuff",
    "start": "1715120",
    "end": "1717799"
  },
  {
    "text": "um you know I don't think that there's a",
    "start": "1717799",
    "end": "1719919"
  },
  {
    "text": "better or worse for you know finagle or",
    "start": "1719919",
    "end": "1722600"
  },
  {
    "text": "AA or the other systems out there that",
    "start": "1722600",
    "end": "1725000"
  },
  {
    "text": "solve some of these problems it's just",
    "start": "1725000",
    "end": "1726799"
  },
  {
    "text": "use the one that makes sense for your",
    "start": "1726799",
    "end": "1728080"
  },
  {
    "text": "environment I do think you should be",
    "start": "1728080",
    "end": "1729760"
  },
  {
    "text": "really consistent in the application of",
    "start": "1729760",
    "end": "1732240"
  },
  {
    "text": "that because I've basically seen nothing",
    "start": "1732240",
    "end": "1734440"
  },
  {
    "text": "but problems in trying to mix these",
    "start": "1734440",
    "end": "1736720"
  },
  {
    "text": "together uh and that's really just",
    "start": "1736720",
    "end": "1739200"
  },
  {
    "text": "because you know when you do that you",
    "start": "1739200",
    "end": "1741360"
  },
  {
    "text": "have these subtle differences and",
    "start": "1741360",
    "end": "1742640"
  },
  {
    "text": "depending on the knowledge level whether",
    "start": "1742640",
    "end": "1744159"
  },
  {
    "text": "it's AA or uh finagle or whatever it",
    "start": "1744159",
    "end": "1747440"
  },
  {
    "text": "happens to be their expertise in it is",
    "start": "1747440",
    "end": "1750320"
  },
  {
    "text": "you know going to be at variety of",
    "start": "1750320",
    "end": "1752320"
  },
  {
    "text": "levels uh and on top of that you know",
    "start": "1752320",
    "end": "1755039"
  },
  {
    "text": "the more abstraction you have the more",
    "start": "1755039",
    "end": "1757039"
  },
  {
    "text": "overhead uh not just performance but",
    "start": "1757039",
    "end": "1759440"
  },
  {
    "text": "like time to learn that uh time to fix",
    "start": "1759440",
    "end": "1761679"
  },
  {
    "text": "bugs things like that avoid blocking in",
    "start": "1761679",
    "end": "1764039"
  },
  {
    "text": "your futures and I brought this one up",
    "start": "1764039",
    "end": "1766279"
  },
  {
    "text": "already but um you know post load and",
    "start": "1766279",
    "end": "1768559"
  },
  {
    "text": "stress tests are useless they depend on",
    "start": "1768559",
    "end": "1770840"
  },
  {
    "text": "Fast clients and fast backends um so if",
    "start": "1770840",
    "end": "1773480"
  },
  {
    "text": "you're going to implement these account",
    "start": "1773480",
    "end": "1775240"
  },
  {
    "text": "for that it'll make your life much",
    "start": "1775240",
    "end": "1776880"
  },
  {
    "text": "easier",
    "start": "1776880",
    "end": "1779790"
  },
  {
    "text": "[Applause]",
    "start": "1779790",
    "end": "1785480"
  },
  {
    "text": "[Music]",
    "start": "1785480",
    "end": "1793940"
  }
]