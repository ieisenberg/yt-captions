[
  {
    "start": "0",
    "end": "210000"
  },
  {
    "text": "[Music]",
    "start": "680",
    "end": "8549"
  },
  {
    "text": "hello everyone i'm here to talk to you about architecturing software for leverage",
    "start": "15040",
    "end": "20960"
  },
  {
    "text": "and to start i'll just define quickly what i mean by leverage here here is a google definition but",
    "start": "20960",
    "end": "28400"
  },
  {
    "text": "what i mean is leverage is the amount of value you can get",
    "start": "28400",
    "end": "33600"
  },
  {
    "text": "relate relative to the debt of the investment view you you made",
    "start": "33600",
    "end": "39120"
  },
  {
    "text": "you expect to get a higher value than the the amount of investment that that you did",
    "start": "39120",
    "end": "45360"
  },
  {
    "text": "and in the software context is the amount of the the decisions you take the",
    "start": "45360",
    "end": "51120"
  },
  {
    "text": "the choices that you made or the technical debt that you acquired relative to the the amount of value that",
    "start": "51120",
    "end": "58160"
  },
  {
    "text": "you could create i want you to take away from this talk is to taking a look at some examples of",
    "start": "58160",
    "end": "66880"
  },
  {
    "text": "architecture decisions that we took throughout the the new bank's trajectory that were aimed at",
    "start": "66880",
    "end": "73360"
  },
  {
    "text": "taking the highest possible leverage at the time you'll be you may be in a similar",
    "start": "73360",
    "end": "79040"
  },
  {
    "text": "position in your company to on in a future company and in a phase",
    "start": "79040",
    "end": "84960"
  },
  {
    "text": "that you will be taking those decisions and you can take us as an example or at least have a mindset",
    "start": "84960",
    "end": "92159"
  },
  {
    "text": "and to give you a little bit of context i'm lukas kavakanchi",
    "start": "92159",
    "end": "97840"
  },
  {
    "text": "i'm a principal software engineer at no bank since end of 2013 so a little bit over seven years now",
    "start": "97840",
    "end": "106398"
  },
  {
    "text": "and i'm based in sao paulo brazil new bank for those who don't know is the",
    "start": "106479",
    "end": "112240"
  },
  {
    "text": "leading fintech in latin america and was ranked the biggest digital bank",
    "start": "112240",
    "end": "118079"
  },
  {
    "text": "in the world and at times magazine we got one of the 100",
    "start": "118079",
    "end": "124719"
  },
  {
    "text": "most influential companies in the world as well we were featured on the times",
    "start": "124719",
    "end": "129759"
  },
  {
    "text": "magazine as well so a pretty big achievement from a company that has a little bit",
    "start": "129759",
    "end": "135520"
  },
  {
    "text": "over seven years this is an example of our growth curve here is an actual",
    "start": "135520",
    "end": "143920"
  },
  {
    "text": "number of customers here plotted in this graph when with what we got to 35 million customers right now",
    "start": "143920",
    "end": "151840"
  },
  {
    "text": "and we process millions billions of kafka messages every day of http requests every day",
    "start": "151840",
    "end": "158560"
  },
  {
    "text": "in a system that has hundreds of microservices and signed by hundreds of engineers",
    "start": "158560",
    "end": "166000"
  },
  {
    "text": "and it's a pretty big it's a pretty big scale",
    "start": "166000",
    "end": "172160"
  },
  {
    "text": "which was not always at this size so i walked through this presentation some",
    "start": "172160",
    "end": "177680"
  },
  {
    "text": "phases of the company the first one which was the startup time when we were",
    "start": "177680",
    "end": "183519"
  },
  {
    "text": "valued time to market and feedback going to the growth time when we changed",
    "start": "183519",
    "end": "188800"
  },
  {
    "text": "the focus to release resilience and adaptability going next to the consolidation time",
    "start": "188800",
    "end": "195360"
  },
  {
    "text": "when the most important aspects were reliability and observability going last",
    "start": "195360",
    "end": "200400"
  },
  {
    "text": "to exponential time when we value flexibility and extensibility these were the values that were",
    "start": "200400",
    "end": "206239"
  },
  {
    "text": "important to us at those phases and starting now the startup time which",
    "start": "206239",
    "end": "211680"
  },
  {
    "start": "210000",
    "end": "594000"
  },
  {
    "text": "is this magical time where anything is possible including failing and not having a company",
    "start": "211680",
    "end": "218879"
  },
  {
    "text": "in our case this happened on late 2013 to early 2015.",
    "start": "218879",
    "end": "224000"
  },
  {
    "text": "we had that incredible change that magical time when you had a greenfield project",
    "start": "224000",
    "end": "229440"
  },
  {
    "text": "and you get to choose any technology that you like to and you have to have a group reason to do that",
    "start": "229440",
    "end": "235840"
  },
  {
    "text": "and a small office which was actually a little house in sao paulo in a friendly",
    "start": "235840",
    "end": "241439"
  },
  {
    "text": "neighborhood in sao paulo when we launched the first product which was a digital first credit card with no fees",
    "start": "241439",
    "end": "247519"
  },
  {
    "text": "and real-time experience on the app which was unheard of at the time",
    "start": "247519",
    "end": "253120"
  },
  {
    "text": "we were the first ones to do that in brazil at least too many laws we don't know what",
    "start": "253120",
    "end": "258639"
  },
  {
    "text": "directions the company will take or if it's going to succeed or not or not limited resource just a dozen people",
    "start": "258639",
    "end": "264960"
  },
  {
    "text": "running the whole company and we need to make that work and in our case we had a licensed deadline if we were not",
    "start": "264960",
    "end": "271600"
  },
  {
    "text": "operating by may 2014 we will have to apply for a license that will take up to two years to be granted",
    "start": "271600",
    "end": "278960"
  },
  {
    "text": "which would be basically that for the company so the first level that we need to do",
    "start": "278960",
    "end": "286160"
  },
  {
    "text": "is the technology choices and the value here is time to market we need to launch as fast as we could",
    "start": "286160",
    "end": "293199"
  },
  {
    "text": "and the leverage type here is maximizing the amount of work you don't have to do",
    "start": "293199",
    "end": "299600"
  },
  {
    "text": "and don't create a thing that's more complex that you need to do at that stage",
    "start": "299600",
    "end": "306479"
  },
  {
    "text": "so we chose as a database the atomic which is a very niche database which is",
    "start": "306479",
    "end": "311919"
  },
  {
    "text": "an immutable ledger of facts so you get auditing for free every",
    "start": "311919",
    "end": "317600"
  },
  {
    "text": "update preserves history so you don't lose previous values and you can query database at any point",
    "start": "317600",
    "end": "323520"
  },
  {
    "text": "in time so this is very helpful for both auditing and debugging later on we chose closure which is a functional",
    "start": "323520",
    "end": "330240"
  },
  {
    "text": "programming language that runs on jvm so we can leverage the whole java ecosystem",
    "start": "330240",
    "end": "336080"
  },
  {
    "text": "everything that's written in java we could use enclosure we get immutability by default",
    "start": "336080",
    "end": "342320"
  },
  {
    "text": "and pretty much every decision that the language took lead us to simplicity so simple made easy which is a good talk by",
    "start": "342320",
    "end": "349120"
  },
  {
    "text": "rich hickey if you want to to take a look this is true we use that in production",
    "start": "349120",
    "end": "356639"
  },
  {
    "text": "we have functional programming that's close to finance that's why we chose closure as well it's a close it's",
    "start": "356639",
    "end": "364560"
  },
  {
    "text": "easier to map finance logic in a functional programming language",
    "start": "364560",
    "end": "370240"
  },
  {
    "text": "and we chose to use that hexagonal architecture so we can have a",
    "start": "370240",
    "end": "375759"
  },
  {
    "text": "default way an organized way to see our code",
    "start": "375759",
    "end": "381039"
  },
  {
    "text": "we chose also as messaging technology kafka which was booming at the time",
    "start": "381039",
    "end": "387120"
  },
  {
    "text": "which has a persistent blog of message with a ttl right it's not forever but",
    "start": "387120",
    "end": "393120"
  },
  {
    "text": "during a period of time you can inspect and look at all the messages that were produced",
    "start": "393120",
    "end": "398560"
  },
  {
    "text": "and we have the ability to reset offset so you can reprocess of old messages if necessary and we had to do it a few",
    "start": "398560",
    "end": "405199"
  },
  {
    "text": "times at the beginning and we got partitioning by default as",
    "start": "405199",
    "end": "410479"
  },
  {
    "text": "well so scaling kafka was also a little bit easier at the moment",
    "start": "410479",
    "end": "416720"
  },
  {
    "text": "the depth that we we had at that point is that we chose some of the technologies that were very niche",
    "start": "416720",
    "end": "422800"
  },
  {
    "text": "and somewhat unconsolidated they were not established yet",
    "start": "422800",
    "end": "427840"
  },
  {
    "text": "so it was very hard to find people that had some experience on those languages so we had basically to",
    "start": "427840",
    "end": "433680"
  },
  {
    "text": "not ask for that to teach people that in the beginning of the company next leverage",
    "start": "433680",
    "end": "439680"
  },
  {
    "text": "levers is vendors when you're looking at time to market several times",
    "start": "439680",
    "end": "445759"
  },
  {
    "text": "buying instead of building is the best choice so the first one is using the cloud you",
    "start": "445759",
    "end": "451360"
  },
  {
    "text": "don't want to be managing your own machines at the space of the company so we use the ws to with",
    "start": "451360",
    "end": "459199"
  },
  {
    "text": "cloud formation for deploy automation the very beginning from the very beginning we used dynamodb for course",
    "start": "459199",
    "end": "467680"
  },
  {
    "text": "for as a back backend database for the atomic which was also easy to operate",
    "start": "467680",
    "end": "475360"
  },
  {
    "text": "and we chose to to buy off the shelf credit card solution so we didn't start building the whole",
    "start": "475360",
    "end": "481680"
  },
  {
    "text": "credit card system we started using a company that already processed credit card transactions so we could leverage",
    "start": "481680",
    "end": "488160"
  },
  {
    "text": "instead of building we just integrate with that company and we can create the first product faster",
    "start": "488160",
    "end": "494240"
  },
  {
    "text": "and adapt here is that now by using those vendors we are limited by their ability to grow and to scale and",
    "start": "494240",
    "end": "501520"
  },
  {
    "text": "to respond to our problems which is not always ideal the final one here on the startup",
    "start": "501520",
    "end": "508080"
  },
  {
    "text": "time is practice and this time the value is getting fast and early feedback",
    "start": "508080",
    "end": "514479"
  },
  {
    "text": "and to get that we need to build a good foundation on top so so we can build on top of it faster over time",
    "start": "514479",
    "end": "522320"
  },
  {
    "text": "and the thing here is that building foundation takes time which is not",
    "start": "522320",
    "end": "527519"
  },
  {
    "text": "always available when you're in startup mode when you want to launch as fast as you as you can and by luck we could do",
    "start": "527519",
    "end": "534560"
  },
  {
    "text": "that we had some time so we took the chance to build a good ci",
    "start": "534560",
    "end": "540000"
  },
  {
    "text": "cd environment as well so continuous deploy deployment was very important for",
    "start": "540000",
    "end": "545040"
  },
  {
    "text": "us at the time so we set up some practice to do continuous deployment we had a very rudimentary uh fault",
    "start": "545040",
    "end": "553040"
  },
  {
    "text": "tolerance but still present we from the very beginning had immutable infrastructure so every time",
    "start": "553040",
    "end": "559760"
  },
  {
    "text": "we deployed we created new instance on on ec2 and destroyed",
    "start": "559760",
    "end": "565360"
  },
  {
    "text": "the old ones so you don't have the complexity of dealing with infrastructure changes",
    "start": "565360",
    "end": "571680"
  },
  {
    "text": "and we chose that from the very beginning to use microservices because you knew that the financial domain is",
    "start": "571680",
    "end": "578399"
  },
  {
    "text": "very complex so containing that complexity in small",
    "start": "578399",
    "end": "584399"
  },
  {
    "text": "pieces in this case a smaller service was very important to us at the time so we",
    "start": "584399",
    "end": "590640"
  },
  {
    "text": "already started with that and moving a little bit further if we are",
    "start": "590640",
    "end": "596399"
  },
  {
    "start": "594000",
    "end": "902000"
  },
  {
    "text": "lucky and we are successful the company goes to a growth phase",
    "start": "596399",
    "end": "601760"
  },
  {
    "text": "which in our case was between 2015 and 2016",
    "start": "601760",
    "end": "606800"
  },
  {
    "text": "when we experienced a way faster growth than expected we were expecting to get",
    "start": "606800",
    "end": "612640"
  },
  {
    "text": "to 1 million customers by 5 years and we got to that in something like 18",
    "start": "612640",
    "end": "618480"
  },
  {
    "text": "months so we needed to respond to that and at first the office didn't scale",
    "start": "618480",
    "end": "624640"
  },
  {
    "text": "when we had to move to a bigger place the vendor was not scaling the credit card processor was not scaling so we",
    "start": "624640",
    "end": "631519"
  },
  {
    "text": "needed we needed to to keep the system working even though that the vendor was not",
    "start": "631519",
    "end": "637279"
  },
  {
    "text": "scaling and the technology the decisions we took at the very beginning were starting to",
    "start": "637279",
    "end": "642720"
  },
  {
    "text": "not scale as well so we started to see the first bottlenecks which",
    "start": "642720",
    "end": "647839"
  },
  {
    "text": "would be very very very hard to fix in this hyper growth",
    "start": "647839",
    "end": "653279"
  },
  {
    "text": "scenario so the first level here on the growth time is practice",
    "start": "653279",
    "end": "659680"
  },
  {
    "text": "with the value we scale for valuing for scalability or fault tolerance we",
    "start": "659680",
    "end": "665440"
  },
  {
    "text": "can and we should as as much as we can avoid",
    "start": "665440",
    "end": "670640"
  },
  {
    "text": "optimization or at least delay optimizations because optimization code or to optimize it cost is way more",
    "start": "670640",
    "end": "678240"
  },
  {
    "text": "complex than regular code and in a complex domain this is",
    "start": "678240",
    "end": "684320"
  },
  {
    "text": "very get get off the track very rapidly so to do that we used infrastructure",
    "start": "684320",
    "end": "690959"
  },
  {
    "text": "charting instead of starting just the database or just a piece of the of the infrastructure we had several copies of",
    "start": "690959",
    "end": "697440"
  },
  {
    "text": "the whole new bank system which was each chart was a copy of the whole",
    "start": "697440",
    "end": "702959"
  },
  {
    "text": "infrastructure which were scalability units so we could have a limited number of",
    "start": "702959",
    "end": "708880"
  },
  {
    "text": "customers running on that copy and go to the next copy when we reach",
    "start": "708880",
    "end": "715200"
  },
  {
    "text": "the new set of customers and and keep creating copies as the base grows right",
    "start": "715200",
    "end": "721040"
  },
  {
    "text": "and if the shards are small enough you don't have to optimize code or you can",
    "start": "721040",
    "end": "726320"
  },
  {
    "text": "delay it as much as you can to do that we had to improve our ci cd",
    "start": "726320",
    "end": "735200"
  },
  {
    "text": "we needed frequent and automatic deploys but the entrance test we said that at",
    "start": "735200",
    "end": "741680"
  },
  {
    "text": "the very beginning started to not scale as well so they are started to take more than one hour to run",
    "start": "741680",
    "end": "747839"
  },
  {
    "text": "and we had to replace them with consumer driven contract tests which would run",
    "start": "747839",
    "end": "752880"
  },
  {
    "text": "way faster with a little bit less guarantees but still better to keep deploying frequently than waiting too",
    "start": "752880",
    "end": "759760"
  },
  {
    "text": "much to deploy and we started migrating to docker instead of using ec2",
    "start": "759760",
    "end": "766399"
  },
  {
    "text": "the investment here is that the the project to run for sharding was more than one year long which was",
    "start": "766399",
    "end": "774959"
  },
  {
    "text": "a very big project for that time in the company and we had to design like new tools to",
    "start": "774959",
    "end": "780959"
  },
  {
    "text": "accommodate for for that and the depth here is that the project took way longer than expected and the customer base grew",
    "start": "780959",
    "end": "786880"
  },
  {
    "text": "way faster than i expected so we end up with the first chart being way bigger than the other shards so",
    "start": "786880",
    "end": "793839"
  },
  {
    "text": "for a very long time this shard was a special shard that was basically the canary for for any",
    "start": "793839",
    "end": "799839"
  },
  {
    "text": "performance problem that we could get in the system was this first shard and",
    "start": "799839",
    "end": "805360"
  },
  {
    "text": "also each chart has a minimum cost no matter how much customers we how many customers",
    "start": "805360",
    "end": "810399"
  },
  {
    "text": "you have in it so the cost here like we we started to spend a lot a lot of money also",
    "start": "810399",
    "end": "817440"
  },
  {
    "text": "running each copy of the shares the next one",
    "start": "817440",
    "end": "822639"
  },
  {
    "text": "was in housing the next level is in housing especially because our vendors were not",
    "start": "822639",
    "end": "829440"
  },
  {
    "text": "scaling so we started to own our own destiny on the most important aspect of the",
    "start": "829440",
    "end": "837600"
  },
  {
    "text": "of the business so we started processing credit cards in-house bringing feature by feature of",
    "start": "837600",
    "end": "842880"
  },
  {
    "text": "the credit card in-house so we could control our own scaling the same thing for customer support",
    "start": "842880",
    "end": "849519"
  },
  {
    "text": "the lighting our customers was the biggest differentiator that we had",
    "start": "849519",
    "end": "855040"
  },
  {
    "text": "at the company so we also brought the customer support tools in-house and the customer support people in-house as",
    "start": "855040",
    "end": "861760"
  },
  {
    "text": "well so we also had to design for that the big investment here is that bringing",
    "start": "861760",
    "end": "867760"
  },
  {
    "text": "those features of the credit card took more than 18 months",
    "start": "867760",
    "end": "872959"
  },
  {
    "text": "and every little feature was a migration that we had to do so it was a huge investment that",
    "start": "872959",
    "end": "880320"
  },
  {
    "text": "paid off hugely the defender would not scale to 35 million customers and we couldn't",
    "start": "880320",
    "end": "887600"
  },
  {
    "text": "and the that here is that because of that that bringing in-house several features",
    "start": "887600",
    "end": "894079"
  },
  {
    "text": "we took a long time without having any major product changes so that that that",
    "start": "894079",
    "end": "899920"
  },
  {
    "text": "was a little bit bad and if we're lucky enough we got go to the next phase which is the",
    "start": "899920",
    "end": "906079"
  },
  {
    "start": "902000",
    "end": "1225000"
  },
  {
    "text": "consolidation time which for us we with when we reach a close uh cruise mode",
    "start": "906079",
    "end": "914160"
  },
  {
    "text": "in the company which for us is between 2017 2018",
    "start": "914160",
    "end": "920240"
  },
  {
    "text": "when we were scalable but not in a stable way sharding helped a lot with the scaling",
    "start": "920240",
    "end": "927279"
  },
  {
    "text": "but we reached a scale where every little corner cases that affected 0.1",
    "start": "927279",
    "end": "933040"
  },
  {
    "text": "percent of the customers were happening to hundreds of customers to thousands of customers so we had to have a way more",
    "start": "933040",
    "end": "940639"
  },
  {
    "text": "stable product or system than we were expecting to need to have",
    "start": "940639",
    "end": "946000"
  },
  {
    "text": "the office also didn't scale so we need to move to a way bigger office that would accommodate a thousand people",
    "start": "946000",
    "end": "953360"
  },
  {
    "text": "near avenatta paulista which is one of the most",
    "start": "953360",
    "end": "958880"
  },
  {
    "text": "famous streets in sao paulo we launched our second product which was",
    "start": "958880",
    "end": "964240"
  },
  {
    "text": "the checking account by this time and on this phase starting we were already generating huge",
    "start": "964240",
    "end": "971600"
  },
  {
    "text": "amount of data so we started to have to analyze that data so this was also a very important uh",
    "start": "971600",
    "end": "978160"
  },
  {
    "text": "point for us first leverage here on the technology side side we were aiming for",
    "start": "978160",
    "end": "985440"
  },
  {
    "text": "scalability and adaptability and the leverage here is at that scale we need to be able to do",
    "start": "985440",
    "end": "993040"
  },
  {
    "text": "infrastructure changes more easily so we migrated to kubernetes which was also",
    "start": "993040",
    "end": "999360"
  },
  {
    "text": "booming at the time and it comes with an ecosystem of several infrastructure tools",
    "start": "999360",
    "end": "1007040"
  },
  {
    "text": "and with the number of services that we were getting it was scaling way better than aws",
    "start": "1007040",
    "end": "1012560"
  },
  {
    "text": "cloud formation we also started to set up better monitoring tools",
    "start": "1012560",
    "end": "1017600"
  },
  {
    "text": "so collecting real-time metrics with promoters plus grafana and these metrics",
    "start": "1017600",
    "end": "1025360"
  },
  {
    "text": "were also being used by other tools like opticini's like rc cd for canary deploys so these were",
    "start": "1025360",
    "end": "1032880"
  },
  {
    "text": "very it was very important for us to to scale the investment here was another like year-long project that we had to",
    "start": "1032880",
    "end": "1040240"
  },
  {
    "text": "set up kubernetes and also migrate shard by shard to kubernetes",
    "start": "1040240",
    "end": "1047280"
  },
  {
    "text": "while the system is already running for millions of customers so it was a pretty",
    "start": "1047280",
    "end": "1052960"
  },
  {
    "text": "complex operations that we were able to pull it off and the left here is that while we didn't fully migrate",
    "start": "1052960",
    "end": "1059520"
  },
  {
    "text": "we start we started hitting aws limits for creating resources or for a number of resources and spending a lot of money",
    "start": "1059520",
    "end": "1067520"
  },
  {
    "text": "on duplicated infrastructure until the project is finished",
    "start": "1067520",
    "end": "1073039"
  },
  {
    "text": "it was a a very big deal here we also had to invest a lot in internal tools",
    "start": "1073039",
    "end": "1078160"
  },
  {
    "text": "for resilience and observability we needed to make it easy for the engineers to operate on the system especially with",
    "start": "1078160",
    "end": "1085840"
  },
  {
    "text": "the number of services and their number of people so we created a a common light",
    "start": "1085840",
    "end": "1092080"
  },
  {
    "text": "repository that we call nuclei no cli with the most common operations like",
    "start": "1092080",
    "end": "1098000"
  },
  {
    "text": "restarting a service or sending hp request to to a service with our credentials",
    "start": "1098000",
    "end": "1105679"
  },
  {
    "text": "that were one common one command away to be run and also a tool for the clarity of infra",
    "start": "1105679",
    "end": "1113520"
  },
  {
    "text": "repository when you can describe the resources you can get in on your services and it got applied",
    "start": "1113520",
    "end": "1120080"
  },
  {
    "text": "automatically by the tool right an investment here is we needed a dedicated team to create",
    "start": "1120080",
    "end": "1126320"
  },
  {
    "text": "maintain and ensure that all these changes were applied",
    "start": "1126320",
    "end": "1131840"
  },
  {
    "text": "and at that point when we are consolidating data is becomes very important the amount of data we we have",
    "start": "1131840",
    "end": "1139280"
  },
  {
    "text": "is not processable by regular tools so and you need data to do pretty much",
    "start": "1139280",
    "end": "1145039"
  },
  {
    "text": "every decision on your company so we used scala spark to",
    "start": "1145039",
    "end": "1150559"
  },
  {
    "text": "to process all the data extracting the database the the data",
    "start": "1150559",
    "end": "1156320"
  },
  {
    "text": "from all the services databases across all the shards we had",
    "start": "1156320",
    "end": "1161600"
  },
  {
    "text": "we have an etl process that that is a repository",
    "start": "1161600",
    "end": "1168559"
  },
  {
    "text": "of data sets the definitions that pretty much everyone in the company",
    "start": "1168559",
    "end": "1173760"
  },
  {
    "text": "or pretty much every place in the company contributes to",
    "start": "1173760",
    "end": "1178799"
  },
  {
    "text": "which outputs everything to a data warehouse so everyone can access later which is integrated with some bi tools",
    "start": "1178799",
    "end": "1186240"
  },
  {
    "text": "and we can use for support or our machine learning models",
    "start": "1186240",
    "end": "1192480"
  },
  {
    "text": "and we can use that as a consistent as a consistency tool as well so with",
    "start": "1192480",
    "end": "1198400"
  },
  {
    "text": "that amount of data and using a distributed architecture failed distributed transactions become a",
    "start": "1198400",
    "end": "1204720"
  },
  {
    "text": "very big deal so we use also dtl to check against the consistence against",
    "start": "1204720",
    "end": "1210799"
  },
  {
    "text": "this resistance as well investment again it was another big project to create the initial etl",
    "start": "1210799",
    "end": "1216559"
  },
  {
    "text": "versions and start iterating on it and we also have a dedicated team to make sure that this",
    "start": "1216559",
    "end": "1222640"
  },
  {
    "text": "works well and finally we get to the exponential time when we are where we are now",
    "start": "1222640",
    "end": "1230640"
  },
  {
    "start": "1225000",
    "end": "1525000"
  },
  {
    "text": "and at this time which was from 2018 to to now",
    "start": "1230640",
    "end": "1236159"
  },
  {
    "text": "we started to have products for everyone that's why you see this inflection point on the curve we start stopping saying no",
    "start": "1236159",
    "end": "1242480"
  },
  {
    "text": "to customers that were asking for credit cards for example and we started giving any offering products for everyone",
    "start": "1242480",
    "end": "1250400"
  },
  {
    "text": "and we started launching in many countries in many office and many other products that we were",
    "start": "1250400",
    "end": "1256400"
  },
  {
    "text": "building and we started acquiring companies so also the interface between companies",
    "start": "1256400",
    "end": "1261600"
  },
  {
    "text": "became important so the first level here on the expansion time is for extensibility and",
    "start": "1261600",
    "end": "1268240"
  },
  {
    "text": "productivity that i'm calling here horizontal platforms there's basically",
    "start": "1268240",
    "end": "1274400"
  },
  {
    "text": "technology specialized team that build extracted abstracted tools for every",
    "start": "1274400",
    "end": "1279600"
  },
  {
    "text": "other team to use so for example mobile and web we have a team building",
    "start": "1279600",
    "end": "1285520"
  },
  {
    "text": "tools in flutter and design systems component libraries so the regular engineer the ginger",
    "start": "1285520",
    "end": "1292960"
  },
  {
    "text": "that's not a specialist can still evolve and use that the system",
    "start": "1292960",
    "end": "1299200"
  },
  {
    "text": "same for infrastructure instead of everyone knowing how to operate kubernetes we create",
    "start": "1299200",
    "end": "1304640"
  },
  {
    "text": "abstract tools so every engineer can can do that we also build an experimentation",
    "start": "1304640",
    "end": "1310799"
  },
  {
    "text": "platform because at this size you want to run experiments we want to improve your products so having a platform that",
    "start": "1310799",
    "end": "1316480"
  },
  {
    "text": "allows for you to do that easily while monitoring kpis and whatever is relevant for the",
    "start": "1316480",
    "end": "1323520"
  },
  {
    "text": "test is very key and again we need now dedicated teams to",
    "start": "1323520",
    "end": "1329679"
  },
  {
    "text": "create maintain and operate those platforms to make sure that every engineer can be productive on any",
    "start": "1329679",
    "end": "1335760"
  },
  {
    "text": "technology we use and finally here business platforms which",
    "start": "1335760",
    "end": "1342000"
  },
  {
    "text": "is for domain specialist teams to building",
    "start": "1342000",
    "end": "1347280"
  },
  {
    "text": "abstracted apis for all the other product teams to use and here is the",
    "start": "1347280",
    "end": "1352400"
  },
  {
    "text": "point that we can get to innovations to endless possibilities of every possible platform product that can",
    "start": "1352400",
    "end": "1359600"
  },
  {
    "text": "can build examples of it is for example banking as a service so creating platforms to run",
    "start": "1359600",
    "end": "1365039"
  },
  {
    "text": "the basic operations of a bank uh for example the clarity platform so",
    "start": "1365039",
    "end": "1370240"
  },
  {
    "text": "you don't have to figure out how to issue a loan or how to report it how to",
    "start": "1370240",
    "end": "1376080"
  },
  {
    "text": "account for it we have a platform where every product can issue along",
    "start": "1376080",
    "end": "1381600"
  },
  {
    "text": "and as soon as that's done the product can do whatever it wants to do the same for future",
    "start": "1381600",
    "end": "1388400"
  },
  {
    "text": "for for assets and payments platforms and open banking okay so",
    "start": "1388400",
    "end": "1395120"
  },
  {
    "text": "these are building blocks that we can use for for media bank we also on the credit card side we had",
    "start": "1395120",
    "end": "1401440"
  },
  {
    "text": "to to launch credit card in other countries so we had to to make the system more generic",
    "start": "1401440",
    "end": "1406640"
  },
  {
    "text": "and to do that we broke the system into the most relevant parts of credit card",
    "start": "1406640",
    "end": "1412159"
  },
  {
    "text": "in this case uh for example handling limits credit limits or closing bills",
    "start": "1412159",
    "end": "1417280"
  },
  {
    "text": "every month or processing credit card transactions in different ways",
    "start": "1417280",
    "end": "1422559"
  },
  {
    "text": "if the customer doesn't pay us the full bill also generating the debts and renegotiating",
    "start": "1422559",
    "end": "1428400"
  },
  {
    "text": "the customer debt also when you get to many products having a flexible acquisition process is",
    "start": "1428400",
    "end": "1434400"
  },
  {
    "text": "also very very important so we use that and the investment here is",
    "start": "1434400",
    "end": "1440159"
  },
  {
    "text": "that for the domain platforms we need to have a very deep understanding of the domain to do that",
    "start": "1440159",
    "end": "1447520"
  },
  {
    "text": "so we went through a long period of discussions to design what is the right",
    "start": "1447520",
    "end": "1454000"
  },
  {
    "text": "break in the system on the platform side because creating the wrong abstraction here leads you to",
    "start": "1454000",
    "end": "1460159"
  },
  {
    "text": "to failure as well like you you have to be sure that you're creating the whole the right abstraction because the cost",
    "start": "1460159",
    "end": "1466720"
  },
  {
    "text": "to rebuild an abstraction is very high",
    "start": "1466720",
    "end": "1472120"
  },
  {
    "text": "so that's it recapping like we we were on the start type type time trying to delay writing code as much as we could",
    "start": "1473039",
    "end": "1479840"
  },
  {
    "text": "while building the foundation for for growing and when we get to grow we started bringing house all the core",
    "start": "1479840",
    "end": "1486480"
  },
  {
    "text": "features that we needed to and start doing sharding so we could scale faster",
    "start": "1486480",
    "end": "1492320"
  },
  {
    "text": "the consolidation time is was it was all about maturing our infrastructure",
    "start": "1492320",
    "end": "1498640"
  },
  {
    "text": "and creating a data environment so everyone could use data to to make to to",
    "start": "1498640",
    "end": "1504000"
  },
  {
    "text": "make the company grow and finally the exponential time it was about building horizontal and",
    "start": "1504000",
    "end": "1510000"
  },
  {
    "text": "business platforms so the possibilities would be multiplied and the productivity",
    "start": "1510000",
    "end": "1515120"
  },
  {
    "text": "of every everyone will be multiplied so that's it thank you very much i hope you enjoyed this talk and last talk",
    "start": "1515120",
    "end": "1522880"
  },
  {
    "text": "at the q a",
    "start": "1522880",
    "end": "1526520"
  },
  {
    "start": "1525000",
    "end": "1752000"
  },
  {
    "text": "thank you very much lucas for what a uh amazing talk a comprehensive",
    "start": "1528400",
    "end": "1534559"
  },
  {
    "text": "view of this story a beautiful new bank and bringing all these",
    "start": "1534559",
    "end": "1540080"
  },
  {
    "text": "um insights connecting to company phases to the architecture trade-offs was like",
    "start": "1540080",
    "end": "1546320"
  },
  {
    "text": "great thank you very much for that thank you uh thank you",
    "start": "1546320",
    "end": "1552159"
  },
  {
    "text": "and thank you all for for watching me so far here yeah it was amazing and uh we saw",
    "start": "1552159",
    "end": "1558320"
  },
  {
    "text": "the chat lots of questions so i try to group all those and try to tackle as much as i",
    "start": "1558320",
    "end": "1565679"
  },
  {
    "text": "can keep an eye on the chat keep an eye on you you're going to be a challenge for me here as well so um the first thing that",
    "start": "1565679",
    "end": "1573039"
  },
  {
    "text": "i want to ask you it's another question that came up um in the in the chat",
    "start": "1573039",
    "end": "1579840"
  },
  {
    "text": "um you started with the the idea to use microservices what usually the the when",
    "start": "1579840",
    "end": "1586720"
  },
  {
    "text": "people pick the the the microsoft architecture is more kona's law uh justification when you were small and",
    "start": "1586720",
    "end": "1593760"
  },
  {
    "text": "you didn't have but you switched that uh did you consider a goal for monolith how",
    "start": "1593760",
    "end": "1598880"
  },
  {
    "text": "it was the the thought process about that yeah uh i think the main reason was",
    "start": "1598880",
    "end": "1605600"
  },
  {
    "text": "because of the complexity the the the domain complexity that finance",
    "start": "1605600",
    "end": "1611679"
  },
  {
    "text": "like we knew that the finance domain was very complex so we had some concerns on the system",
    "start": "1611679",
    "end": "1617120"
  },
  {
    "text": "already at that time that were very different like handling credit card transactions versus handling customer",
    "start": "1617120",
    "end": "1623919"
  },
  {
    "text": "data versus handling the acquisition process so we started with very few",
    "start": "1623919",
    "end": "1629120"
  },
  {
    "text": "services i think it was like four or f or five just uh",
    "start": "1629120",
    "end": "1634799"
  },
  {
    "text": "but already broken into two services because we knew that if we were going to",
    "start": "1634799",
    "end": "1639840"
  },
  {
    "text": "succeed and scale we would have to need to go to that that architecture",
    "start": "1639840",
    "end": "1645840"
  },
  {
    "text": "eventually yeah makes makes total sense but this is still a challenge right because it's",
    "start": "1645840",
    "end": "1651440"
  },
  {
    "text": "more distributed system is way more complex than a single monolith and that goes towards the um some",
    "start": "1651440",
    "end": "1658880"
  },
  {
    "text": "questions also in the chat about the sharding when you start skating",
    "start": "1658880",
    "end": "1665120"
  },
  {
    "text": "you mentioned the sharding and uh one also mentioned that you have some how um balancing",
    "start": "1665120",
    "end": "1672000"
  },
  {
    "text": "sharding and the challenges to create charging and uh uh using the question that it has in chat did you have to deal",
    "start": "1672000",
    "end": "1677919"
  },
  {
    "text": "with outliers on these require a larger amount of resources in this charge uh charlie",
    "start": "1677919",
    "end": "1684559"
  },
  {
    "text": "yeah uh i think we do have like some people that run like 10x transactions or 100 as x",
    "start": "1684559",
    "end": "1692480"
  },
  {
    "text": "transactions more than the other ones but it eventually just affects that",
    "start": "1692480",
    "end": "1697520"
  },
  {
    "text": "particular customer like their bui may not open in a good time because there",
    "start": "1697520",
    "end": "1702799"
  },
  {
    "text": "are too many transactions there but it doesn't affect the other ones because most of our operations are in",
    "start": "1702799",
    "end": "1708720"
  },
  {
    "text": "batch already so it doesn't it doesn't affect",
    "start": "1708720",
    "end": "1713840"
  },
  {
    "text": "us that much for that but we did have that problem on the first char chart because we took",
    "start": "1713840",
    "end": "1720320"
  },
  {
    "text": "longer than expected to to build the charging infrastructure so the first charge got",
    "start": "1720320",
    "end": "1725520"
  },
  {
    "text": "too long with people that had the like customers that were too old so",
    "start": "1725520",
    "end": "1731520"
  },
  {
    "text": "it's the customers that have the longest time at new bank and the highest amount of customers so",
    "start": "1731520",
    "end": "1737840"
  },
  {
    "text": "that created some some challenges for for us and it still does sometimes but but now",
    "start": "1737840",
    "end": "1745039"
  },
  {
    "text": "all the shards have about the same size and we are managing them better yeah and and",
    "start": "1745039",
    "end": "1753200"
  },
  {
    "start": "1752000",
    "end": "1840000"
  },
  {
    "text": "then goes like connect to shardy how it was the migration to kubernetes",
    "start": "1753200",
    "end": "1759120"
  },
  {
    "text": "uh some questions around the kubernetes uh move is did you",
    "start": "1759120",
    "end": "1764840"
  },
  {
    "text": "adopted um a service kubernetes offering like eks or something like that or you",
    "start": "1764840",
    "end": "1771200"
  },
  {
    "text": "went to kubernetes and how was this transition from your infrastructure that you already",
    "start": "1771200",
    "end": "1777919"
  },
  {
    "text": "mentioned that it was immutable but how was this uh transition yeah i think the main the main uh thing",
    "start": "1777919",
    "end": "1786480"
  },
  {
    "text": "to take into account here is that this was seven eight years ago from now",
    "start": "1786480",
    "end": "1792720"
  },
  {
    "text": "so kubernetes was just launched in like 2014 or 15 or something like that it",
    "start": "1792720",
    "end": "1798960"
  },
  {
    "text": "would become publicly available so we didn't have those tools when we were",
    "start": "1798960",
    "end": "1804880"
  },
  {
    "text": "start when we started the company we didn't even have docker when we started the company so we had to migrate to",
    "start": "1804880",
    "end": "1811440"
  },
  {
    "text": "docker and then migrate to kubernetes and then eventually migrate to eks",
    "start": "1811440",
    "end": "1817120"
  },
  {
    "text": "because eks also didn't exist at the time and it started existing in sao paulo",
    "start": "1817120",
    "end": "1824399"
  },
  {
    "text": "region i think this year or something like that so",
    "start": "1824399",
    "end": "1830720"
  },
  {
    "text": "uh i think like if we were starting the company today we'll probably use eks",
    "start": "1830720",
    "end": "1836320"
  },
  {
    "text": "on amazon and that's it but we didn't have those tools at the time yeah another question that i'm seeing",
    "start": "1836320",
    "end": "1842880"
  },
  {
    "start": "1840000",
    "end": "1938000"
  },
  {
    "text": "quite frequently here is the use of closure and they stack in that you",
    "start": "1842880",
    "end": "1848559"
  },
  {
    "text": "mentioned that's not that common i'd say but it's you take advantage ecosystem",
    "start": "1848559",
    "end": "1854399"
  },
  {
    "text": "that i also mentioned the talk the jvm can you help us understand a little bit this",
    "start": "1854399",
    "end": "1860320"
  },
  {
    "text": "sometimes sounds like a dichotomy like you're starting easy but you pick it something",
    "start": "1860320",
    "end": "1865519"
  },
  {
    "text": "that very few ones are picking to start with yeah the main thing for us on closure is",
    "start": "1865519",
    "end": "1873200"
  },
  {
    "text": "that the language pushes pushes you into simplicity from the very beginning",
    "start": "1873200",
    "end": "1880080"
  },
  {
    "text": "in a sense that the amount of the language you have to learn to be successful it is at it it's very small",
    "start": "1880080",
    "end": "1887279"
  },
  {
    "text": "like you you you you can be productive in closure by studying for",
    "start": "1887279",
    "end": "1893600"
  },
  {
    "text": "a couple of weeks maybe and",
    "start": "1893600",
    "end": "1898880"
  },
  {
    "text": "all of our services look about the same so it's it's easier to like as soon as you get",
    "start": "1898880",
    "end": "1905760"
  },
  {
    "text": "rid of those parentheses like you can switch from braces to parentheses and be",
    "start": "1905760",
    "end": "1910880"
  },
  {
    "text": "fine with it uh everything else is simpler like we don't have like that cognitive load that most",
    "start": "1910880",
    "end": "1917519"
  },
  {
    "text": "languages have to learn syntax and the the constructions of the",
    "start": "1917519",
    "end": "1922640"
  },
  {
    "text": "language everything a closure is lisp is parentheses and symbols like you don't have to learn",
    "start": "1922640",
    "end": "1928640"
  },
  {
    "text": "that many language features to be able to use it or to copy paste the other code right",
    "start": "1928640",
    "end": "1936399"
  },
  {
    "text": "we all do one question now regarding more business aspects is how did you cost factor into",
    "start": "1936399",
    "end": "1944159"
  },
  {
    "start": "1938000",
    "end": "2031000"
  },
  {
    "text": "your architecture decisions and like you plug in the same topic but you will answer it in the in the chat when you're",
    "start": "1944159",
    "end": "1951039"
  },
  {
    "text": "operating finance you need to you you follow a lot of regulations right how you deal with this uh distinction",
    "start": "1951039",
    "end": "1958000"
  },
  {
    "text": "infrastructure business code and now the the challenges of regulations",
    "start": "1958000",
    "end": "1963840"
  },
  {
    "text": "yeah uh we do have uh specific teams like",
    "start": "1963840",
    "end": "1969120"
  },
  {
    "text": "when we reach a certain time size uh it pays off to have a a focused team",
    "start": "1969120",
    "end": "1975760"
  },
  {
    "text": "on on these specific aspects so we have a team just managing",
    "start": "1975760",
    "end": "1981440"
  },
  {
    "text": "risk and like operational risk or a team just measurement",
    "start": "1981440",
    "end": "1986559"
  },
  {
    "text": "just doing platforms for the regulated",
    "start": "1986559",
    "end": "1992159"
  },
  {
    "text": "part of the the company like giving a loan is very regulated in",
    "start": "1992159",
    "end": "1997279"
  },
  {
    "text": "the market at least in brazil so we created a platform around it so every",
    "start": "1997279",
    "end": "2002320"
  },
  {
    "text": "time we need to build along uh the platform handles it and we have many",
    "start": "2002320",
    "end": "2007519"
  },
  {
    "text": "teams that can issue loans easily um i think like that that that that was",
    "start": "2007519",
    "end": "2013760"
  },
  {
    "text": "mostly the way you handle it is by having this specialized team that know a",
    "start": "2013760",
    "end": "2019039"
  },
  {
    "text": "lot about the regulations by how to assess risk",
    "start": "2019039",
    "end": "2024159"
  },
  {
    "text": "and then periodic assessments from other teams that might be impacted by by it",
    "start": "2024159",
    "end": "2031440"
  },
  {
    "start": "2031000",
    "end": "2080000"
  },
  {
    "text": "in quickly question so um you mentioned a few times the uh specialized teams and",
    "start": "2031440",
    "end": "2037440"
  },
  {
    "text": "uh in specialists uh what are the team size that look like in",
    "start": "2037440",
    "end": "2044640"
  },
  {
    "text": "uh eubank team is not just engineers usually like we have teams with bas with product managers with uh",
    "start": "2045440",
    "end": "2054320"
  },
  {
    "text": "business analysis browser product managers sometimes data scientists but for the engineering part we usually",
    "start": "2054320",
    "end": "2061200"
  },
  {
    "text": "have a tech manager and two to",
    "start": "2061200",
    "end": "2067440"
  },
  {
    "text": "six engineers per team it varies a lot on the context right but",
    "start": "2067440",
    "end": "2073358"
  },
  {
    "text": "but it is around that side per team okay gotcha the two pizza rule",
    "start": "2073359",
    "end": "2080800"
  },
  {
    "start": "2080000",
    "end": "2160000"
  },
  {
    "text": "okay um now switch a little bit the gears to data uh and we have less than five minutes so",
    "start": "2080800",
    "end": "2086800"
  },
  {
    "text": "i try to take a little bit more you mentioned etl what tools you use for etl",
    "start": "2086800",
    "end": "2093440"
  },
  {
    "text": "well we use uh spark for for building all the infrastructure to",
    "start": "2093440",
    "end": "2099280"
  },
  {
    "text": "to transform the data and we had to build a lot of tools internally to",
    "start": "2099280",
    "end": "2104720"
  },
  {
    "text": "extract the atomic data and transform it into in a way that is consumable by by",
    "start": "2104720",
    "end": "2110160"
  },
  {
    "text": "dtl uh i'm not i'm not specialising into the the data",
    "start": "2110160",
    "end": "2116320"
  },
  {
    "text": "part so i don't know very much about the specifics but we use uh uh",
    "start": "2116320",
    "end": "2121440"
  },
  {
    "text": "i know we use uh mesos clusters to run the the the clusters that will run the",
    "start": "2121440",
    "end": "2127119"
  },
  {
    "text": "detail process we use uh",
    "start": "2127119",
    "end": "2132640"
  },
  {
    "text": "some bi tools like data breaks like looker like i think we have several tools that that this whole ecosystem",
    "start": "2132640",
    "end": "2139839"
  },
  {
    "text": "uses but it's basically we have our own uh repository of data set the",
    "start": "2139839",
    "end": "2144880"
  },
  {
    "text": "definitions that the whole company contributes and and",
    "start": "2144880",
    "end": "2151280"
  },
  {
    "text": "it's spark is color was sparked with some abstractions that we created so it",
    "start": "2151280",
    "end": "2156800"
  },
  {
    "text": "will be easier for for for people to use and i will ask the last question that i",
    "start": "2156800",
    "end": "2162160"
  },
  {
    "start": "2160000",
    "end": "2276000"
  },
  {
    "text": "have um in connect to the last section that we have today you started with kafka and today",
    "start": "2162160",
    "end": "2168960"
  },
  {
    "text": "lots of things are about streaming but you pick it like the batch processing etl route uh any reason to not go full",
    "start": "2168960",
    "end": "2178000"
  },
  {
    "text": "heads on on streaming wasn't that popular in that time and you need to adjust and just a heads up this is a",
    "start": "2178000",
    "end": "2185040"
  },
  {
    "text": "topic of the last session that we have is from batch to streaming",
    "start": "2185040",
    "end": "2190480"
  },
  {
    "text": "yeah uh the main reason was that when we needed etl",
    "start": "2190480",
    "end": "2195680"
  },
  {
    "text": "kafka strings was not stable or released at the time",
    "start": "2195680",
    "end": "2201520"
  },
  {
    "text": "so we went and and we already have data",
    "start": "2201520",
    "end": "2207520"
  },
  {
    "text": "on the atomic form like hundreds of microserves or dozens of microservices at the time",
    "start": "2207520",
    "end": "2214640"
  },
  {
    "text": "so it'll be hard for us to migrate to a kafka strings mode uh on the the",
    "start": "2214640",
    "end": "2220800"
  },
  {
    "text": "architecture you chose by then if we were to start today like",
    "start": "2220800",
    "end": "2226480"
  },
  {
    "text": "we would go to string we do have some use cases where strings were more appropriated",
    "start": "2226480",
    "end": "2232480"
  },
  {
    "text": "uh appropriate so we use it in like real real-time collecting metrics for example",
    "start": "2232480",
    "end": "2237680"
  },
  {
    "text": "we do use kafka strings but for regular database part we don't",
    "start": "2237680",
    "end": "2243920"
  },
  {
    "text": "thank you very much lucas we are running out of time unfortunately and but we are back in the panel so i will continue",
    "start": "2243920",
    "end": "2250400"
  },
  {
    "text": "this conversation on that now on the hangouts uh and that we have a lot of used to unanswered questions thank you",
    "start": "2250400",
    "end": "2257040"
  },
  {
    "text": "again thank you thank you all for for watching so far and i'll meet you in the hangouts room now",
    "start": "2257040",
    "end": "2263920"
  },
  {
    "text": "if you want to [Music]",
    "start": "2263920",
    "end": "2272420"
  },
  {
    "text": "you",
    "start": "2276800",
    "end": "2278880"
  }
]