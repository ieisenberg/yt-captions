[
  {
    "start": "0",
    "end": "177000"
  },
  {
    "text": "[Music]",
    "start": "6900",
    "end": "12639"
  },
  {
    "text": "so we so so far we've seen how to add an application right we added an application into into this let me show",
    "start": "12639",
    "end": "19920"
  },
  {
    "text": "you um since you got some some of you asking about media framework right so I did that with the team in Korea we did a",
    "start": "19920",
    "end": "26240"
  },
  {
    "text": "media framework right so let me just show you same thing um in my packages",
    "start": "26240",
    "end": "33680"
  },
  {
    "text": "where's my not packages I added also something",
    "start": "33680",
    "end": "40320"
  },
  {
    "text": "called audio demo right so it's just it's a very simple application starts",
    "start": "40320",
    "end": "46079"
  },
  {
    "text": "play plays a music right so you Now as I if I if I go here let me go let me show",
    "start": "46079",
    "end": "52480"
  },
  {
    "text": "you look it's magically installed so there's audio demo right",
    "start": "52480",
    "end": "60079"
  },
  {
    "text": "bam and you can start playing here okay you can stop playing that's it",
    "start": "64119",
    "end": "73360"
  },
  {
    "text": "okay it's very very simple um but we were by doing this we were illustrating",
    "start": "73360",
    "end": "79119"
  },
  {
    "text": "how it we modified um uh the the the",
    "start": "79119",
    "end": "84920"
  },
  {
    "text": "framework to simply do log",
    "start": "84920",
    "end": "91759"
  },
  {
    "text": "okay so hold on a second so if I do start",
    "start": "96600",
    "end": "104360"
  },
  {
    "text": "So hold on some too much too much information going on here uh is this the same ADB",
    "start": "109520",
    "end": "118600"
  },
  {
    "text": "shell ADB ADB shell log",
    "start": "118600",
    "end": "124600"
  },
  {
    "text": "cat um",
    "start": "124600",
    "end": "128319"
  },
  {
    "text": "so yeah we have a lot of stuff going on but that's that's what we uh there there",
    "start": "130440",
    "end": "136319"
  },
  {
    "text": "it is media [Music]",
    "start": "136319",
    "end": "143560"
  },
  {
    "text": "player right so that that stuff is all being uh printed from our own code so we",
    "start": "143560",
    "end": "151360"
  },
  {
    "text": "modify the framework to be able to log what's going on for instance right so",
    "start": "151360",
    "end": "158000"
  },
  {
    "text": "we'll see that later on okay when we get to that point we're just doing this like",
    "start": "158000",
    "end": "164239"
  },
  {
    "text": "simplest thing first and then we're making it harder and harder okay so so far you saw how to add an application",
    "start": "164239",
    "end": "171239"
  },
  {
    "text": "right pretty straightforward um next thing that we're going to look at is",
    "start": "171239",
    "end": "176560"
  },
  {
    "text": "couple of config files oh by the way if you want to add a native a library like for example if you",
    "start": "176560",
    "end": "182640"
  },
  {
    "start": "177000",
    "end": "220000"
  },
  {
    "text": "wanted to include something in system li folder right that's even simpler because you um",
    "start": "182640",
    "end": "191040"
  },
  {
    "text": "you actually don't even you you just need to put it in uh it's not packages external it's just in / external right",
    "start": "191040",
    "end": "197840"
  },
  {
    "text": "and then you don't even need and create a make file but you don't even need to make a uh add it to the make file in",
    "start": "197840",
    "end": "204080"
  },
  {
    "text": "this case it's actually going to traverse all the make files so this is not necessary but it's recommended and",
    "start": "204080",
    "end": "210959"
  },
  {
    "text": "you run a mm to make it so we're not going to do that but that's how you would add a native library okay that's",
    "start": "210959",
    "end": "217920"
  },
  {
    "text": "even simpler than what we did um so what if you you were asking about",
    "start": "217920",
    "end": "225440"
  },
  {
    "start": "220000",
    "end": "508000"
  },
  {
    "text": "system services and changing what's running and how it's running and all that all that stuff is in a file called",
    "start": "225440",
    "end": "232959"
  },
  {
    "text": "init rc right and be that init C file when it's all done where's my so C when",
    "start": "232959",
    "end": "242080"
  },
  {
    "text": "it's all done that init RC file is right here so it's on the file system right",
    "start": "242080",
    "end": "248560"
  },
  {
    "text": "here right that's installed on the file system i'm now logged into the device so",
    "start": "248560",
    "end": "255280"
  },
  {
    "text": "notice that there are two init RC's there's the goldfish and then there's the initc uh regular right so what do",
    "start": "255280",
    "end": "263840"
  },
  {
    "text": "you remember what goldfish is emulator right yeah and this is the",
    "start": "263840",
    "end": "269199"
  },
  {
    "text": "regular so this is basically the main one then this goes on top of it right now this is where it's",
    "start": "269199",
    "end": "276600"
  },
  {
    "text": "installed let's see where we install it from so we install it from let me close",
    "start": "276600",
    "end": "282960"
  },
  {
    "text": "this um let me see close some of this build close build clo out i'll leave out",
    "start": "282960",
    "end": "288479"
  },
  {
    "text": "open actually let me close out so we install it from uh",
    "start": "288479",
    "end": "294360"
  },
  {
    "text": "system right s system",
    "start": "294360",
    "end": "300479"
  },
  {
    "text": "core so system core rooter right that's where it's uh all this stuff so root",
    "start": "301160",
    "end": "306240"
  },
  {
    "text": "directory and that's our init rc file right here so I'm going to open it and this is what it looks like so basically",
    "start": "306240",
    "end": "313600"
  },
  {
    "text": "let me go to the beginning of this file so basically this is our init rc file it",
    "start": "313600",
    "end": "319039"
  },
  {
    "text": "basically you know specifies couple of like log level things like that these are the system variables right remember",
    "start": "319039",
    "end": "326400"
  },
  {
    "text": "how I said only LD library only system uh lib is in the LD library path this is",
    "start": "326400",
    "end": "333280"
  },
  {
    "text": "where that's specified it's just a simple export right if you want to configure",
    "start": "333280",
    "end": "338720"
  },
  {
    "text": "the environment this way you would do it um this is creating now some symbolic",
    "start": "338720",
    "end": "344120"
  },
  {
    "text": "links we're actually making the mount points so in Android um it's slightly",
    "start": "344120",
    "end": "350160"
  },
  {
    "text": "different than a normal flavor of Linux because we don't have FS tab file right",
    "start": "350160",
    "end": "355840"
  },
  {
    "text": "like you know in Linux you have are you guys familiar how that works have a file that specifies all the mount points and",
    "start": "355840",
    "end": "362080"
  },
  {
    "text": "all that right on a regular Linux it's not like that so we actually make a directory then we mount something onto",
    "start": "362080",
    "end": "369039"
  },
  {
    "text": "that directory right so we're making see this is where we are making our slashsystem",
    "start": "369039",
    "end": "375199"
  },
  {
    "text": "we're then setting the permissions for for that directory right making u secure",
    "start": "375199",
    "end": "380639"
  },
  {
    "text": "storage for um um apps on SD card right",
    "start": "380639",
    "end": "385840"
  },
  {
    "text": "we are writing um some information here we're changing the privileges for",
    "start": "385840",
    "end": "392160"
  },
  {
    "text": "various directories okay we're mounting file",
    "start": "392160",
    "end": "398199"
  },
  {
    "text": "systems okay so there's where we are mounting user data system cache right",
    "start": "398199",
    "end": "405440"
  },
  {
    "text": "yet another file system right the file system",
    "start": "405440",
    "end": "410479"
  },
  {
    "text": "system this is where we're mounting root file system read only",
    "start": "411160",
    "end": "418400"
  },
  {
    "text": "okay changing ownership of",
    "start": "419160",
    "end": "423759"
  },
  {
    "text": "system um so we're making the structure for",
    "start": "425160",
    "end": "431919"
  },
  {
    "text": "file system okay uh we are u doing all",
    "start": "431919",
    "end": "437240"
  },
  {
    "text": "that this is where we're setting the properties you guys were asking about properties right so these are the",
    "start": "437240",
    "end": "442319"
  },
  {
    "text": "various properties that we're that we're adjusting like such as how much memory for example foreground applications have",
    "start": "442319",
    "end": "449520"
  },
  {
    "text": "right uh how visible memory space um you",
    "start": "449520",
    "end": "454680"
  },
  {
    "text": "know home application memory hidden application memory and so on and so on so those settings are here",
    "start": "454680",
    "end": "463240"
  },
  {
    "text": "okay um these are various uh system servers and demons permissions right so",
    "start": "465080",
    "end": "471680"
  },
  {
    "text": "this is for radio so this is where we're starting various um radio u related",
    "start": "471680",
    "end": "477199"
  },
  {
    "text": "things way clocks",
    "start": "477199",
    "end": "482639"
  },
  {
    "text": "okay these are various uh TCP buffers so for Wi-Fi edge GPS right so the the",
    "start": "485000",
    "end": "493440"
  },
  {
    "text": "various U settings okay so those are settings this",
    "start": "493440",
    "end": "499919"
  },
  {
    "text": "is where we now start starting services right this is why it's actually starting",
    "start": "499919",
    "end": "505560"
  },
  {
    "text": "services remember when we were talking about this yesterday we had this map",
    "start": "505560",
    "end": "512880"
  },
  {
    "text": "right and I said this is what happens right said everything starts here that's",
    "start": "512880",
    "end": "519360"
  },
  {
    "text": "what we're looking at okay so another So this is another way of looking at it so",
    "start": "519360",
    "end": "526839"
  },
  {
    "text": "line you know this line here to 270 now we are at the beginning we are now",
    "start": "526839",
    "end": "535440"
  },
  {
    "text": "starting these guys okay so that's what we're doing we're starting these guys um",
    "start": "535440",
    "end": "541519"
  },
  {
    "text": "so basically um there's a document that explains what which one of these means",
    "start": "541519",
    "end": "547600"
  },
  {
    "text": "okay so and that document is this document that I specified",
    "start": "547600",
    "end": "553600"
  },
  {
    "text": "here hold on system core init readme okay so that",
    "start": "554760",
    "end": "562080"
  },
  {
    "start": "556000",
    "end": "985000"
  },
  {
    "text": "explains what is what okay so let me show you so system core",
    "start": "562080",
    "end": "569200"
  },
  {
    "text": "um system core in net um where's the net readme so it's right here so in this",
    "start": "569200",
    "end": "574480"
  },
  {
    "text": "document it tells you uh what it means to start so these are various act",
    "start": "574480",
    "end": "580959"
  },
  {
    "text": "services right name so name path argument and then options options can be",
    "start": "580959",
    "end": "586959"
  },
  {
    "text": "one of these right it's critical it's disabled set environment properties",
    "start": "586959",
    "end": "592880"
  },
  {
    "text": "right sockets if it's if a service requires a socket right user which user",
    "start": "592880",
    "end": "598959"
  },
  {
    "text": "is going to run on like in other words is is a specific service going to run as radio right or is it going to run as",
    "start": "598959",
    "end": "606800"
  },
  {
    "text": "shell or is it going to run as ADB that sort of stuff right group permissions",
    "start": "606800",
    "end": "612080"
  },
  {
    "text": "one shot means just try it once if it doesn't work it doesn't work right um",
    "start": "612080",
    "end": "618560"
  },
  {
    "text": "you know and so on so these are various triggers and uh etc right so this is a",
    "start": "618560",
    "end": "624560"
  },
  {
    "text": "useful file that we can do this this is basically everything that is possible these are the mounts right read only",
    "start": "624560",
    "end": "631519"
  },
  {
    "text": "readrite remount and so on so right so so that that's what various",
    "start": "631519",
    "end": "638880"
  },
  {
    "text": "things mean and how to set them",
    "start": "638880",
    "end": "644279"
  },
  {
    "text": "okay this is some examples and so on right so let's look at the real",
    "start": "645240",
    "end": "652200"
  },
  {
    "text": "file so we are now starting demons right so we're starting the console that's the",
    "start": "652200",
    "end": "658200"
  },
  {
    "text": "shell so it's a console it's disabled user shell group log right so you want to have root",
    "start": "658200",
    "end": "666320"
  },
  {
    "text": "permissions root change this right bam so now the shell is owned by the root right although our shell is already a",
    "start": "666320",
    "end": "673600"
  },
  {
    "text": "super user so we don't need to worry about that right so ADB by default it's",
    "start": "673600",
    "end": "679120"
  },
  {
    "text": "disabled right but we can enable it by changing the setting so there's",
    "start": "679120",
    "end": "685440"
  },
  {
    "text": "basically layers or init that go on top of each",
    "start": "685440",
    "end": "690839"
  },
  {
    "text": "other should we start uh should we start ADB right well depends on the",
    "start": "690839",
    "end": "700000"
  },
  {
    "text": "property right is it is it a QMU which means emulator right emulator is running",
    "start": "700000",
    "end": "706200"
  },
  {
    "text": "on you know you guys know what QMU is",
    "start": "706200",
    "end": "712680"
  },
  {
    "text": "huh so QMU is the virtualization engine that",
    "start": "712680",
    "end": "720160"
  },
  {
    "text": "emulator runs on top of so I don't know if it's going to open but that's the page it's an open source um um engine",
    "start": "720160",
    "end": "729040"
  },
  {
    "text": "for virtualization that's what virtualizes the hardware makes it the ARM right or it will open right so",
    "start": "729040",
    "end": "735920"
  },
  {
    "text": "that's that's what that is so it's an open source processor emulator so it pro",
    "start": "735920",
    "end": "741360"
  },
  {
    "text": "emulates a process that's what uh we are using for emul for",
    "start": "741360",
    "end": "747720"
  },
  {
    "text": "this okay so we're starting ADB we're stopping it if enabled is false",
    "start": "747720",
    "end": "754680"
  },
  {
    "text": "okay so at this point ADB started now we're starting the service manager",
    "start": "754680",
    "end": "762600"
  },
  {
    "text": "okay right now we're starting the service manager do you remember service manager",
    "start": "762600",
    "end": "769040"
  },
  {
    "text": "let's take a look at uh at PS again so if I do PS remember service system",
    "start": "769040",
    "end": "774680"
  },
  {
    "text": "server that was a uh system service manager",
    "start": "774680",
    "end": "780880"
  },
  {
    "text": "right right so that's our uh uh service",
    "start": "782200",
    "end": "787480"
  },
  {
    "text": "manager it's critical right um uh so that's that's basically",
    "start": "787480",
    "end": "794079"
  },
  {
    "text": "that one now notice that um it's going to restart zygote and media if it goes",
    "start": "794079",
    "end": "799519"
  },
  {
    "text": "down so let me try something let me try just for fun uh so service manager",
    "start": "799519",
    "end": "805079"
  },
  {
    "text": "is 28 right pit 28 zygote is pit 33 right so",
    "start": "805079",
    "end": "813120"
  },
  {
    "text": "let's kill D-9 28",
    "start": "813120",
    "end": "818680"
  },
  {
    "text": "bam okay I k I killed it let's",
    "start": "818680",
    "end": "823600"
  },
  {
    "text": "see 28 doesn't exist anymore right but service manager got restarted",
    "start": "824040",
    "end": "830720"
  },
  {
    "text": "it's got a totally different process ID and it",
    "start": "830720",
    "end": "837000"
  },
  {
    "text": "caused Zygote to restart as well see zygote is no longer 33 in media so",
    "start": "837000",
    "end": "844000"
  },
  {
    "text": "basically this restarted this restarted this restarted so you can set sort of the uh",
    "start": "844000",
    "end": "850519"
  },
  {
    "text": "dependencies right between these okay so that's basically the service",
    "start": "850519",
    "end": "858079"
  },
  {
    "text": "manager important one right so it's critical so now we're starting vault vault diff u right we are starting net",
    "start": "858079",
    "end": "866880"
  },
  {
    "text": "de debugger this is your radio some of you some of you care about the radios this is the radio demon radio demon runs",
    "start": "866880",
    "end": "874639"
  },
  {
    "text": "as a native service and then uh Android connects to it via a socket so it's",
    "start": "874639",
    "end": "880160"
  },
  {
    "text": "actually works over a socket okay it doesn't work over aid so a radio",
    "start": "880160",
    "end": "887680"
  },
  {
    "text": "is sort of different it's not very typical for Android right uh so so that's radio",
    "start": "887680",
    "end": "896240"
  },
  {
    "text": "zygote so we're we're starting zygote so these are parameters for zygote um it's",
    "start": "896240",
    "end": "904199"
  },
  {
    "text": "basically it's devilish uh it's going to restart on any",
    "start": "904199",
    "end": "910399"
  },
  {
    "text": "of these so when power restarts and so on and so on when media or netd restart",
    "start": "910399",
    "end": "916639"
  },
  {
    "text": "media server so this is for audio camera",
    "start": "916639",
    "end": "921920"
  },
  {
    "text": "graphics etc so that's basically our media server starts there",
    "start": "921920",
    "end": "929240"
  },
  {
    "text": "boot bootable and so on so these are some some other processes let's start uh",
    "start": "929240",
    "end": "935760"
  },
  {
    "text": "key store and that's that so this is one of our uh init RC's right on top of this",
    "start": "935760",
    "end": "943120"
  },
  {
    "text": "we have the other init RC which is the um the one that starts for well this is",
    "start": "943120",
    "end": "948800"
  },
  {
    "text": "low memory one so this is setting some property properties for low memory and so on but you can have multiple init",
    "start": "948800",
    "end": "955199"
  },
  {
    "text": "RC's in for different purposes okay so does that make sense a",
    "start": "955199",
    "end": "960880"
  },
  {
    "text": "little bit now how it how to configure what starts and how what the order starts and importance and all that",
    "start": "960880",
    "end": "967560"
  },
  {
    "text": "stuff right so read this file it's useful",
    "start": "967560",
    "end": "973120"
  },
  {
    "text": "right the init language so it's got its own init language",
    "start": "973120",
    "end": "979680"
  },
  {
    "text": "right okay questions on",
    "start": "980040",
    "end": "986399"
  },
  {
    "start": "985000",
    "end": "1410000"
  },
  {
    "text": "that permissions how do you ch change the permissions how do we configure what",
    "start": "991880",
    "end": "997680"
  },
  {
    "text": "is allowed uh uh users on Android right how do we configure if somebody is if",
    "start": "997680",
    "end": "1003360"
  },
  {
    "text": "this is a rooted phone or not right how do we configure if radio runs as a radio",
    "start": "1003360",
    "end": "1008959"
  },
  {
    "text": "user or answers nobody right how do you configure that stuff there is no",
    "start": "1008959",
    "end": "1014160"
  },
  {
    "text": "password file there's no etc password file okay it's sort of hidden like in",
    "start": "1014160",
    "end": "1020279"
  },
  {
    "text": "Android this is where the uh this stuff is so it's actually in it's not in it",
    "start": "1020279",
    "end": "1027120"
  },
  {
    "text": "it's not in roo but it's in the private so it's right here uh so",
    "start": "1027120",
    "end": "1034438"
  },
  {
    "text": "system system core include and then private there's this file.h H so",
    "start": "1034439",
    "end": "1041199"
  },
  {
    "text": "basically this stuff gets compiled into the operating system right so this is",
    "start": "1041199",
    "end": "1047520"
  },
  {
    "text": "where we're configuring various permissions let me start at the beginning so these are the various um u",
    "start": "1047520",
    "end": "1055760"
  },
  {
    "text": "user group uh numbers right uids GIS right so radio Bluetooth",
    "start": "1055760",
    "end": "1062559"
  },
  {
    "text": "graphics audio camera log compass and so on so they all have their own UIDs right",
    "start": "1062559",
    "end": "1070840"
  },
  {
    "text": "okay there's our shell right shell user ADB debug shell users",
    "start": "1074120",
    "end": "1080320"
  },
  {
    "text": "right",
    "start": "1080320",
    "end": "1083320"
  },
  {
    "text": "you have to remake the operating system yeah so you would if you make a change in here you would then do a make",
    "start": "1094960",
    "end": "1102679"
  },
  {
    "text": "afterwards and then rebuild the uh system img right",
    "start": "1102679",
    "end": "1109960"
  },
  {
    "text": "yeah so this these are UIDs now this is where we're we're defining um who can do",
    "start": "1109960",
    "end": "1118080"
  },
  {
    "text": "which which user runs what right so for example root is UID such and such system",
    "start": "1118080",
    "end": "1124559"
  },
  {
    "text": "is UID such and such radio is UID such and such right that's what we're mapping",
    "start": "1124559",
    "end": "1131919"
  },
  {
    "text": "them okay so next we are configuring the paths we're saying which path is owned",
    "start": "1133160",
    "end": "1141679"
  },
  {
    "text": "by What okay so you know how I said normally you",
    "start": "1141679",
    "end": "1149120"
  },
  {
    "text": "cannot change your your data data per permission uh system because it's owned",
    "start": "1149120",
    "end": "1154559"
  },
  {
    "text": "by system system right like what if I wanted to make this be readable by",
    "start": "1154559",
    "end": "1161200"
  },
  {
    "text": "anyone like you probably do not want to do this but what if I did",
    "start": "1161200",
    "end": "1166679"
  },
  {
    "text": "this or it's probably going to be 776 right but we don't want to do that right",
    "start": "1166679",
    "end": "1172240"
  },
  {
    "text": "so um SD card is owned by root right I",
    "start": "1172240",
    "end": "1177600"
  },
  {
    "text": "can change a permission that nobody can relate to SD card right I can change that here",
    "start": "1177600",
    "end": "1184480"
  },
  {
    "text": "okay right uh so that's basically that rules rules",
    "start": "1186600",
    "end": "1192960"
  },
  {
    "text": "for files so this is where basic this is for directories this is for files okay who can change what file right uh so",
    "start": "1192960",
    "end": "1201039"
  },
  {
    "text": "that that's who owns what",
    "start": "1201039",
    "end": "1205200"
  },
  {
    "text": "Right file system configuration this is basically what's configuring our file system and we are assigning those UIDs",
    "start": "1208919",
    "end": "1217440"
  },
  {
    "text": "for various file systems right so that's that's where that's configured okay in",
    "start": "1217440",
    "end": "1223520"
  },
  {
    "text": "terms of in terms of permissions does that make sense that",
    "start": "1223520",
    "end": "1228919"
  },
  {
    "text": "file yeah there's one more file that I wanted to show you um and it's called um",
    "start": "1228919",
    "end": "1239080"
  },
  {
    "text": "uh let me see so there's one more file in the file system if you go and CD into system",
    "start": "1251280",
    "end": "1259520"
  },
  {
    "text": "system",
    "start": "1259520",
    "end": "1262520"
  },
  {
    "text": "uh etc",
    "start": "1265640",
    "end": "1272400"
  },
  {
    "text": "permissions okay so platform.xml file so cat",
    "start": "1275720",
    "end": "1282679"
  },
  {
    "text": "platform.xml file this is where we are mapping uh uh permissions to UIDs so",
    "start": "1282679",
    "end": "1290000"
  },
  {
    "text": "remember how we had to specif uh ask for a permission from a user right so",
    "start": "1290000",
    "end": "1295520"
  },
  {
    "text": "remember for example um Bluetooth internet camera write",
    "start": "1295520",
    "end": "1302960"
  },
  {
    "text": "external storage okay so app an app that has uh a highlevel Android permission",
    "start": "1302960",
    "end": "1310960"
  },
  {
    "text": "right external storage that maps to a Linux partition uh permission called um",
    "start": "1310960",
    "end": "1317600"
  },
  {
    "text": "SD card read which is defined then in this file",
    "start": "1317600",
    "end": "1324000"
  },
  {
    "text": "here you know that's where somewhere there's going to be that permission right SD card",
    "start": "1324000",
    "end": "1329080"
  },
  {
    "text": "read or it's going to be at least the user right so it's right here Right make",
    "start": "1329080",
    "end": "1335840"
  },
  {
    "text": "sense so that maps to that UID etc etc so that's for example that uh we also",
    "start": "1335840",
    "end": "1343200"
  },
  {
    "text": "looked at the other ones that we had oh access um find location and access core",
    "start": "1343200",
    "end": "1349280"
  },
  {
    "text": "location so those are just shell UIDs",
    "start": "1349280",
    "end": "1355760"
  },
  {
    "text": "right remember how we ask in our application so that's that's what that means right okay so So that's that's a",
    "start": "1358919",
    "end": "1367600"
  },
  {
    "text": "little bit about permissions so does that does that make sense um how permissions",
    "start": "1367600",
    "end": "1374640"
  },
  {
    "text": "work a little bit i mean this is from a low level this is not from an Android",
    "start": "1380919",
    "end": "1386400"
  },
  {
    "text": "level i have a whole other presentation on just security on Android this is just",
    "start": "1386400",
    "end": "1391679"
  },
  {
    "text": "so you know how to change this in a in a you know ROM right in the actual system",
    "start": "1391679",
    "end": "1399840"
  },
  {
    "text": "build so uh so that's that's that so any questions on this or everyone",
    "start": "1401559",
    "end": "1408360"
  },
  {
    "text": "good okay so modifying frameworks this is probably one of those hardest things",
    "start": "1408360",
    "end": "1415600"
  },
  {
    "start": "1410000",
    "end": "1512000"
  },
  {
    "text": "to do right because now we're looking at okay so we have this entire platform you",
    "start": "1415600",
    "end": "1421440"
  },
  {
    "text": "want to modify a pl a framework from top to bottom right from an application all the way down to the",
    "start": "1421440",
    "end": "1427799"
  },
  {
    "text": "drivers okay so how do we do that it really depends on a framework right it",
    "start": "1427799",
    "end": "1433760"
  },
  {
    "text": "really depends on which framework uh you c you you worry about so let me first",
    "start": "1433760",
    "end": "1439840"
  },
  {
    "text": "show you u so let's see so typically this is just an example for sensor",
    "start": "1439840",
    "end": "1445039"
  },
  {
    "text": "framework and we can look at the s sensor sensor framework later on but we have basically the java manager is here",
    "start": "1445039",
    "end": "1453600"
  },
  {
    "text": "okay the ji code is here the actual C implementation of of that code or the",
    "start": "1453600",
    "end": "1459919"
  },
  {
    "text": "header file is at least here",
    "start": "1459919",
    "end": "1464158"
  },
  {
    "text": "okay but you guys were more interested in audio right or multimedia right so",
    "start": "1466200",
    "end": "1473679"
  },
  {
    "text": "multi uh multimedia basically is audio and then video right those two things",
    "start": "1473679",
    "end": "1478960"
  },
  {
    "text": "surface right so um by the way you have the details of this uh is sorry the",
    "start": "1478960",
    "end": "1485679"
  },
  {
    "text": "details of this is at um you can find it here",
    "start": "1485679",
    "end": "1491240"
  },
  {
    "text": "uh multimedia so there's your audio right",
    "start": "1491240",
    "end": "1496480"
  },
  {
    "text": "there's your video and camera right so this will tell you also a little more details how to configure it what those",
    "start": "1496480",
    "end": "1503440"
  },
  {
    "text": "things are what libraries they are and so on so it's this document here under",
    "start": "1503440",
    "end": "1508799"
  },
  {
    "text": "multimedia audio and so on okay so let's take a look so this is what happens when",
    "start": "1508799",
    "end": "1514960"
  },
  {
    "start": "1512000",
    "end": "1617000"
  },
  {
    "text": "you want to play a song right so this is our application remember we have our",
    "start": "1514960",
    "end": "1520159"
  },
  {
    "text": "application called audio demo okay let's look at that application",
    "start": "1520159",
    "end": "1526080"
  },
  {
    "text": "first and then we're going to look down to all the parts right audio demo hold on a second audio",
    "start": "1526080",
    "end": "1535360"
  },
  {
    "text": "demo let me close all",
    "start": "1535360",
    "end": "1540158"
  },
  {
    "text": "this don't worry it fails to make that's because we kept the build automatically turned off right so that's fine um so",
    "start": "1548440",
    "end": "1556320"
  },
  {
    "text": "this is our audio demo right so what we have here is we have the um media player",
    "start": "1556320",
    "end": "1563760"
  },
  {
    "text": "okay so we have something called media player and we simply say media player",
    "start": "1563760",
    "end": "1571440"
  },
  {
    "text": "create right and we point to a file that we want to play and that file is right",
    "start": "1572039",
    "end": "1578559"
  },
  {
    "text": "here in resources so there it is just an MP3 file",
    "start": "1578559",
    "end": "1583640"
  },
  {
    "text": "MP4 okay so we're saying media player play this",
    "start": "1583640",
    "end": "1590039"
  },
  {
    "text": "song right that's it and then we say start playing and",
    "start": "1590039",
    "end": "1597200"
  },
  {
    "text": "stop playing those are just two those two buttons you press start it calls this you press stop it calls that okay",
    "start": "1597200",
    "end": "1605360"
  },
  {
    "text": "pretty straightforward make sense so that",
    "start": "1605360",
    "end": "1611640"
  },
  {
    "text": "is that let me show you the big picture that is where's the um uh that is this",
    "start": "1611640",
    "end": "1618400"
  },
  {
    "start": "1617000",
    "end": "1791000"
  },
  {
    "text": "right so our media play audio demo calls media",
    "start": "1618400",
    "end": "1624880"
  },
  {
    "text": "player okay where is media player where's this",
    "start": "1624919",
    "end": "1634080"
  },
  {
    "text": "file Mhm",
    "start": "1636840",
    "end": "1640919"
  },
  {
    "text": "right so the so on the f so this is yeah it's part of the media server but on the",
    "start": "1642400",
    "end": "1648000"
  },
  {
    "text": "on the file system um it is",
    "start": "1648000",
    "end": "1653600"
  },
  {
    "text": "oops on the file system all this stuff is typically in frameworks base okay so",
    "start": "1653600",
    "end": "1661279"
  },
  {
    "text": "there's frameworks base media",
    "start": "1661279",
    "end": "1666080"
  },
  {
    "text": "okay now you notice that there's typically going to be these two directories so kind of like regardless",
    "start": "1666760",
    "end": "1672960"
  },
  {
    "text": "of which framework you're chasing you're going to notice that there's Java and then there's JNI folder okay that's very",
    "start": "1672960",
    "end": "1681000"
  },
  {
    "text": "typical so in this case let's take a look at Java so in Java we have Android",
    "start": "1681000",
    "end": "1689919"
  },
  {
    "text": "media by the way notice these files I audio service I media scanner um and so",
    "start": "1692039",
    "end": "1699600"
  },
  {
    "text": "on what do you think they are their AIDS files right right just like we talked about",
    "start": "1699600",
    "end": "1706080"
  },
  {
    "text": "earlier today but in this case I'm interested in media",
    "start": "1706080",
    "end": "1711320"
  },
  {
    "text": "player okay let's Oops that's my",
    "start": "1711320",
    "end": "1717559"
  },
  {
    "text": "M okay let me close this and close this okay and close",
    "start": "1717559",
    "end": "1724360"
  },
  {
    "text": "this close this okay so this is our media player so what I did is I simply",
    "start": "1724360",
    "end": "1729919"
  },
  {
    "text": "added this line i found the start so this is when I when I call media player",
    "start": "1729919",
    "end": "1735200"
  },
  {
    "text": "start it calls it this is my line of code okay let me show you so when we we",
    "start": "1735200",
    "end": "1742640"
  },
  {
    "text": "go here we say media player start okay so that is going to call this line of",
    "start": "1742640",
    "end": "1748960"
  },
  {
    "text": "code this function this method right and what we're doing here is we're",
    "start": "1748960",
    "end": "1755279"
  },
  {
    "text": "saying stay awake to grab a wake clock and then we're calling a",
    "start": "1755279",
    "end": "1762158"
  },
  {
    "text": "start okay but what is",
    "start": "1762360",
    "end": "1767120"
  },
  {
    "text": "start so this is a JNI call right okay so remember how I said this is why it's",
    "start": "1770120",
    "end": "1776080"
  },
  {
    "text": "important to know JNI because this is normally you would be like right and you're stuck here you don't know how to",
    "start": "1776080",
    "end": "1781360"
  },
  {
    "text": "go any further how to cross that line into C right so now we know so so that's",
    "start": "1781360",
    "end": "1786720"
  },
  {
    "text": "basically what that file is okay um if you look at it like this so that's where",
    "start": "1786720",
    "end": "1793120"
  },
  {
    "start": "1791000",
    "end": "2204000"
  },
  {
    "text": "we are now crossing from blue to green right so this is our world of Java and",
    "start": "1793120",
    "end": "1800000"
  },
  {
    "text": "the world of C right draw a line here okay make sense",
    "start": "1800000",
    "end": "1808159"
  },
  {
    "text": "so now we got to look at where is this JNI file well it's like I said it's most",
    "start": "1808159",
    "end": "1815200"
  },
  {
    "text": "likely going to be right here somewhere right so there's",
    "start": "1815200",
    "end": "1821080"
  },
  {
    "text": "JNI and then in here we have something called media player CPP H maybe that's",
    "start": "1821080",
    "end": "1828720"
  },
  {
    "text": "the one let's see",
    "start": "1828720",
    "end": "1832360"
  },
  {
    "text": "so this is basically this is the So how do you know this is the name how do I",
    "start": "1836960",
    "end": "1842320"
  },
  {
    "text": "know this is the file that we're looking at because remember it's the naming",
    "start": "1842320",
    "end": "1848200"
  },
  {
    "text": "convention so it's going to be and so it's going to be the package so remember",
    "start": "1848200",
    "end": "1853520"
  },
  {
    "text": "this is in ah I shouldn't have done it this way",
    "start": "1853520",
    "end": "1860480"
  },
  {
    "text": "uh what what line am I looking at about 300 something uh",
    "start": "1860480",
    "end": "1867320"
  },
  {
    "text": "no stop okay i can't so that we are in",
    "start": "1867320",
    "end": "1874480"
  },
  {
    "text": "package called Android media and then media",
    "start": "1874480",
    "end": "1881159"
  },
  {
    "text": "player Java right so that means that this is going to be called Android media",
    "start": "1881159",
    "end": "1887120"
  },
  {
    "text": "media player and then start okay so that's why it's in this thing so what I",
    "start": "1887120",
    "end": "1892240"
  },
  {
    "text": "did here is first of all I added a little I I added this line to to log to",
    "start": "1892240",
    "end": "1898240"
  },
  {
    "text": "the log file so that we know that that's where we're starting at right and by the way um logging as I",
    "start": "1898240",
    "end": "1907360"
  },
  {
    "text": "said is supported both in C and in Java so it's the same log cat right so loat",
    "start": "1907360",
    "end": "1913120"
  },
  {
    "text": "you can do from bo both so that's why it's doing this okay um so what we have here is we",
    "start": "1913120",
    "end": "1920000"
  },
  {
    "text": "are creating something called media player okay get media player passing the",
    "start": "1920000",
    "end": "1925440"
  },
  {
    "text": "environment so we get this thing called media player which I don't know what it is yet and then we are saying media",
    "start": "1925440",
    "end": "1931600"
  },
  {
    "text": "player process the media player uh call right so post media player call and",
    "start": "1931600",
    "end": "1937360"
  },
  {
    "text": "we're saying media player start okay so now we would need to figure out",
    "start": "1937360",
    "end": "1943360"
  },
  {
    "text": "what what what is media player and how do we find that media player right so you can now search inside of",
    "start": "1943360",
    "end": "1950640"
  },
  {
    "text": "this file and you can be like okay where is the media",
    "start": "1950640",
    "end": "1955279"
  },
  {
    "text": "player okay so this is returning the media player",
    "start": "1962440",
    "end": "1968240"
  },
  {
    "text": "right so it's returning the the the this thing media player uh get in field so",
    "start": "1970120",
    "end": "1977840"
  },
  {
    "text": "we're basically finding it from there",
    "start": "1977840",
    "end": "1981760"
  },
  {
    "text": "right and this processing the media player call so um what I did is I",
    "start": "1984840",
    "end": "1990919"
  },
  {
    "text": "documented these steps in uh in a file so let me um let me show you what I did",
    "start": "1990919",
    "end": "2001518"
  },
  {
    "text": "um so I have a file called media player.txt what I'm going to do is I'm",
    "start": "2012200",
    "end": "2017519"
  },
  {
    "text": "also going to put it in the um so if you guys want to download this right so you can I can put it in my",
    "start": "2017519",
    "end": "2024440"
  },
  {
    "text": "uh into this folder downloads so you can copy it from here okay but basically",
    "start": "2024440",
    "end": "2032320"
  },
  {
    "text": "these are this is sort of what's calling what so again if you want to copy this file it's in here so just refresh this",
    "start": "2032320",
    "end": "2039760"
  },
  {
    "text": "directory right so 104 1045161 and then downloads and so",
    "start": "2039760",
    "end": "2047279"
  },
  {
    "text": "there's your media player.txt okay so it's basically I'm",
    "start": "2047279",
    "end": "2052638"
  },
  {
    "text": "saying what is calling what so our application in package apps audio demo",
    "start": "2052639",
    "end": "2058480"
  },
  {
    "text": "is calling media player start then media player in framework based on and so on",
    "start": "2058480",
    "end": "2063919"
  },
  {
    "text": "it's calling start then that is calling the native method underscore start then",
    "start": "2063919",
    "end": "2069200"
  },
  {
    "text": "that is calling the frameworks base uh the jni method called uh Android media",
    "start": "2069200",
    "end": "2076000"
  },
  {
    "text": "media player start then that is calling media player start which is now calling a library media which is Androidbased",
    "start": "2076000",
    "end": "2083440"
  },
  {
    "text": "media lib media right so there's something called here called start and you can kind of drill down all",
    "start": "2083440",
    "end": "2090480"
  },
  {
    "text": "the way to the drivers and all that stuff right but you kind of see how we're looking now in this case we don't",
    "start": "2090480",
    "end": "2096398"
  },
  {
    "text": "have any IDL per se yet right but you can see how we're looking for all this stuff",
    "start": "2096399",
    "end": "2103680"
  },
  {
    "text": "right make sense",
    "start": "2105640",
    "end": "2109880"
  },
  {
    "text": "so live media let me just that one we did not open so um let me minimize this",
    "start": "2115920",
    "end": "2124119"
  },
  {
    "text": "um so media so this was Java this was JNI and there was also a lib media here",
    "start": "2124119",
    "end": "2130640"
  },
  {
    "text": "which had media",
    "start": "2130640",
    "end": "2135119"
  },
  {
    "text": "player media player CPP",
    "start": "2137880",
    "end": "2142240"
  },
  {
    "text": "right media player CPP right so that's where this is the C++ file that's",
    "start": "2143640",
    "end": "2149280"
  },
  {
    "text": "implementing that right okay so now that is using another media",
    "start": "2149280",
    "end": "2155920"
  },
  {
    "text": "player amp local media player class uh variable",
    "start": "2155920",
    "end": "2161359"
  },
  {
    "text": "setting it up starting it and all and all that i just added this to kind of know that that's that's what's going on",
    "start": "2161359",
    "end": "2169359"
  },
  {
    "text": "okay so far so good so uh so this",
    "start": "2172760",
    "end": "2179560"
  },
  {
    "text": "is this is how media one part of media works right so",
    "start": "2179560",
    "end": "2185760"
  },
  {
    "text": "this is the example of audio because it's the simplest but it's very",
    "start": "2185760",
    "end": "2190839"
  },
  {
    "text": "similar thing for video it's very similar thing for you know recording and",
    "start": "2190839",
    "end": "2196560"
  },
  {
    "text": "so on so this sort of gives you the map of that right so this was this was a",
    "start": "2196560",
    "end": "2204000"
  },
  {
    "start": "2204000",
    "end": "2292000"
  },
  {
    "text": "recording would work like that now if you care about video it's again it would",
    "start": "2204000",
    "end": "2210320"
  },
  {
    "text": "it's another it's a different picture but very",
    "start": "2210320",
    "end": "2214800"
  },
  {
    "text": "similar so there's a there's a picture for video right so again same stuff there's your line here Java C right oh",
    "start": "2217400",
    "end": "2227359"
  },
  {
    "text": "look now we have a binder call in C but it's the same binder call right so it's",
    "start": "2227359",
    "end": "2233040"
  },
  {
    "text": "connecting via binder to C and so on",
    "start": "2233040",
    "end": "2238160"
  },
  {
    "text": "right okay so that's documented here so um so",
    "start": "2239960",
    "end": "2246800"
  },
  {
    "text": "any does that make sense how you would go about finding this so audio video camera that stuff is",
    "start": "2246800",
    "end": "2253480"
  },
  {
    "text": "documented um sensors are um so not quite kind of documented um",
    "start": "2253480",
    "end": "2261320"
  },
  {
    "text": "and Telefony is kind of doc is kind of documented right telefon is actually using a socket so I'm not going to",
    "start": "2261320",
    "end": "2268079"
  },
  {
    "text": "that's sort of different than anything else so let's take a look at u um our",
    "start": "2268079",
    "end": "2274400"
  },
  {
    "text": "location but remember our location doesn't work because it doesn't know the location it doesn't have the last known",
    "start": "2274400",
    "end": "2280440"
  },
  {
    "text": "location so what if I wanted to fix that i want to modify my location framework",
    "start": "2280440",
    "end": "2285680"
  },
  {
    "text": "to actually give me some location on the emulator maybe just hardcode it so let's see",
    "start": "2285680",
    "end": "2291359"
  },
  {
    "text": "where that comes from and just like we did in this media",
    "start": "2291359",
    "end": "2297280"
  },
  {
    "start": "2292000",
    "end": "3132000"
  },
  {
    "text": "player txt what I'm going to do is I'm going to start a uh I'm going to do this",
    "start": "2297280",
    "end": "2303680"
  },
  {
    "text": "i'm going to create a new file and I'm going to save it for um",
    "start": "2303680",
    "end": "2310079"
  },
  {
    "text": "um I'm going to call it location manager.txt okay",
    "start": "2310280",
    "end": "2318280"
  },
  {
    "text": "so we're going to track we're going to try to find where this stuff is so I'm going to do",
    "start": "2319680",
    "end": "2324839"
  },
  {
    "text": "open and I'm going to open my gingerbread so we're modifying a",
    "start": "2324839",
    "end": "2330640"
  },
  {
    "text": "framework we're modifying a framework so which direct directory should I",
    "start": "2330640",
    "end": "2336440"
  },
  {
    "text": "start it's my",
    "start": "2336440",
    "end": "2339838"
  },
  {
    "text": "search how about framework more specifically how about framework",
    "start": "2342200",
    "end": "2348920"
  },
  {
    "text": "base even more specifically maybe how about framework framework based location",
    "start": "2348920",
    "end": "2356960"
  },
  {
    "text": "okay okay so I'm going to open that so there's my frameworks based location so",
    "start": "2358599",
    "end": "2364240"
  },
  {
    "text": "now we are looking for the last known location so I'm just going to see where that stuff I'm not even going to uh",
    "start": "2364240",
    "end": "2371440"
  },
  {
    "text": "think too much so I'm going to start do a um find in f in project okay and I'm",
    "start": "2371440",
    "end": "2380400"
  },
  {
    "text": "going to look for get lost known location i actually already did it right get lost known location damn",
    "start": "2380400",
    "end": "2389680"
  },
  {
    "text": "search so that's where it comes from we have a location manager okay and we have the aid file",
    "start": "2389680",
    "end": "2397680"
  },
  {
    "text": "surprise surprise right so location manager that's what we call",
    "start": "2397680",
    "end": "2405040"
  },
  {
    "text": "right in our code in our code our location",
    "start": "2405040",
    "end": "2411640"
  },
  {
    "text": "activity calls location manager get lost",
    "start": "2411640",
    "end": "2416760"
  },
  {
    "text": "non-location okay so let me let me um let me document",
    "start": "2416760",
    "end": "2423520"
  },
  {
    "text": "this so I'm going to say like this so so that you kind of So let me document it",
    "start": "2423520",
    "end": "2432680"
  },
  {
    "text": "so packages apps is it packages apps where's the directory",
    "start": "2432680",
    "end": "2439720"
  },
  {
    "text": "in packages apps that location manager",
    "start": "2439720",
    "end": "2445599"
  },
  {
    "text": "uh location demo right so that's what we that's our code is s uh src right com",
    "start": "2445599",
    "end": "2454599"
  },
  {
    "text": "example location activity okay do java okay calls location manager get lost on",
    "start": "2454599",
    "end": "2462720"
  },
  {
    "text": "location right at line um what line number is that it's line",
    "start": "2462720",
    "end": "2469720"
  },
  {
    "text": "28 line 28 okay so that's where we call I don't know how do I say call I'll",
    "start": "2469720",
    "end": "2478720"
  },
  {
    "text": "Okay so that okay so that's what we call location manager get lost known location",
    "start": "2479160",
    "end": "2485119"
  },
  {
    "text": "sounds good okay so that's step one that's the first thing step two we look",
    "start": "2485119",
    "end": "2490880"
  },
  {
    "text": "at location manager okay so location manager is open right",
    "start": "2490880",
    "end": "2498240"
  },
  {
    "text": "here location manager bam get lost non",
    "start": "2499480",
    "end": "2505359"
  },
  {
    "text": "location okay get lost known location okay so here it is so get lost known",
    "start": "2511079",
    "end": "2519520"
  },
  {
    "text": "location is line u 1015",
    "start": "2519800",
    "end": "2526400"
  },
  {
    "text": "right and location manager is located in frameworks base",
    "start": "2527319",
    "end": "2533760"
  },
  {
    "text": "[Music] location I'll just say location",
    "start": "2533760",
    "end": "2540640"
  },
  {
    "text": "manager premise base location Java Android location Yeah so frame",
    "start": "2541400",
    "end": "2549839"
  },
  {
    "text": "works base location Java Android",
    "start": "2549880",
    "end": "2557079"
  },
  {
    "text": "location manager Java right line 1015",
    "start": "2557079",
    "end": "2562680"
  },
  {
    "text": "right and that's what we call lo uh we call no it's not we don't call that but",
    "start": "2562680",
    "end": "2569920"
  },
  {
    "text": "we call the",
    "start": "2569920",
    "end": "2573119"
  },
  {
    "text": "um service get last known location now what is this service what do you think",
    "start": "2575480",
    "end": "2581119"
  },
  {
    "text": "this service is i mean I can look around but we you",
    "start": "2581119",
    "end": "2586160"
  },
  {
    "text": "what's your what's your guess notice that we are catching remote",
    "start": "2586160",
    "end": "2591200"
  },
  {
    "text": "exception does that look",
    "start": "2591200",
    "end": "2594800"
  },
  {
    "text": "familiar right so there's probably an aid",
    "start": "2596839",
    "end": "2602119"
  },
  {
    "text": "file right okay so that is calling the aid",
    "start": "2602119",
    "end": "2610640"
  },
  {
    "text": "file which is so in here there's something called location get last known",
    "start": "2610640",
    "end": "2616200"
  },
  {
    "text": "location",
    "start": "2616200",
    "end": "2619200"
  },
  {
    "text": "okay so now the question is what is implementing this aid",
    "start": "2621400",
    "end": "2628240"
  },
  {
    "text": "file",
    "start": "2631240",
    "end": "2634240"
  },
  {
    "text": "right socation manager so let me uh just specify that as well",
    "start": "2644359",
    "end": "2653359"
  },
  {
    "text": "i location manager AIL and that and that is on line 63",
    "start": "2660079",
    "end": "2671560"
  },
  {
    "text": "right 63 and that is now calling or is",
    "start": "2671560",
    "end": "2677040"
  },
  {
    "text": "being implemented by something so now the question is where is this file right uh who who who is implementing this file",
    "start": "2677040",
    "end": "2684400"
  },
  {
    "text": "so what's a what's the naming convention if you couldn't figure out what's implementing this file what would be the",
    "start": "2684400",
    "end": "2689520"
  },
  {
    "text": "naming con convention for this for lo um location man uh manager",
    "start": "2689520",
    "end": "2696680"
  },
  {
    "text": "right what would be implementing this file how do we find",
    "start": "2696680",
    "end": "2702960"
  },
  {
    "text": "that what's that it's a service somewhere right so it's not media but uh it's probably",
    "start": "2703960",
    "end": "2711599"
  },
  {
    "text": "under services right java",
    "start": "2711599",
    "end": "2719079"
  },
  {
    "text": "comroid server location manager",
    "start": "2719079",
    "end": "2726760"
  },
  {
    "text": "service okay that that's where it is so let me",
    "start": "2726760",
    "end": "2732800"
  },
  {
    "text": "let me uh document that so we're now in frameworks base",
    "start": "2732800",
    "end": "2740240"
  },
  {
    "text": "services that's calling um location",
    "start": "2740599",
    "end": "2747960"
  },
  {
    "text": "manager service so fra uh frame frameworks",
    "start": "2747960",
    "end": "2754920"
  },
  {
    "text": "base services okay and then um and then it's",
    "start": "2754920",
    "end": "2762960"
  },
  {
    "text": "in Java notice that again hopefully you guys kind of notice certain things repeat themselves so",
    "start": "2762960",
    "end": "2769359"
  },
  {
    "text": "notice that we have Java and J and I again one next to each other right",
    "start": "2769359",
    "end": "2775560"
  },
  {
    "text": "okay so so this makes it easy now inside of Java notice that we have comandroid",
    "start": "2775560",
    "end": "2782640"
  },
  {
    "text": "server so what's the difference between Android dot location and",
    "start": "2782640",
    "end": "2788599"
  },
  {
    "text": "com.android dot and then stuff why certain why are certain things",
    "start": "2788599",
    "end": "2794720"
  },
  {
    "text": "in comandroid other things are in Android dot what's the",
    "start": "2794720",
    "end": "2802800"
  },
  {
    "text": "difference so things that are in Android dot are exposed as a public API that is",
    "start": "2807640",
    "end": "2814400"
  },
  {
    "text": "basically means that it's available to developers com.android Android is private stuff right so it's not exposed",
    "start": "2814400",
    "end": "2821520"
  },
  {
    "text": "nobody should be using it directly so this stuff here nobody should be do using directly so we can freely make",
    "start": "2821520",
    "end": "2827440"
  },
  {
    "text": "changes and it shouldn't affect anyone's application right um in terms of linking to it quote",
    "start": "2827440",
    "end": "2835680"
  },
  {
    "text": "unquote linking to it right so comroid server right so did I write that down uh",
    "start": "2835680",
    "end": "2842319"
  },
  {
    "text": "services so java comandroid server and then location",
    "start": "2842319",
    "end": "2848400"
  },
  {
    "text": "manager is it location manager server um location manager",
    "start": "2848400",
    "end": "2855880"
  },
  {
    "text": "service service job and we have that file open okay so that's line 1677",
    "start": "2855880",
    "end": "2865880"
  },
  {
    "text": "1677 okay so what are we doing in this line let's",
    "start": "2871880",
    "end": "2877760"
  },
  {
    "text": "see so we're logging log right um then we're running get last",
    "start": "2879720",
    "end": "2888560"
  },
  {
    "text": "known location locked okay that's what we are calling what do you think this is",
    "start": "2888560",
    "end": "2898520"
  },
  {
    "text": "underscore yeah that that usually means it's a private right so it's it's uh it's basically provided right here get",
    "start": "2900359",
    "end": "2907599"
  },
  {
    "text": "last name okay okay okay so let me document",
    "start": "2907599",
    "end": "2912318"
  },
  {
    "text": "that provided",
    "start": "2916359",
    "end": "2919838"
  },
  {
    "text": "I Okay so that's calling this guy which is",
    "start": "2921480",
    "end": "2927280"
  },
  {
    "text": "then calling M provider u M providers by name by the way this is where we're",
    "start": "2927280",
    "end": "2932720"
  },
  {
    "text": "enforcing permissions so if you did not have access location uh access",
    "start": "2932720",
    "end": "2938520"
  },
  {
    "text": "permission this is where we would get the exception okay that's what's enforcing the permission in this",
    "start": "2938520",
    "end": "2947599"
  },
  {
    "text": "case so provider provider by name get provider gets the provider provider",
    "start": "2948520",
    "end": "2954720"
  },
  {
    "text": "interface if the provider does not exist returns this m last known uh last known",
    "start": "2954720",
    "end": "2960800"
  },
  {
    "text": "location so we're now looking for what this is m loss non location and and",
    "start": "2960800",
    "end": "2966480"
  },
  {
    "text": "that's basically um probably some kind of hash table yeah it is so see there's",
    "start": "2966480",
    "end": "2971760"
  },
  {
    "text": "a hash table that says last known location put name null or name provider",
    "start": "2971760",
    "end": "2977440"
  },
  {
    "text": "so this is basically what's making u creating that and last known location set entries so it's basically a map of",
    "start": "2977440",
    "end": "2985119"
  },
  {
    "text": "locations right so we can now keep looking for this",
    "start": "2985119",
    "end": "2990880"
  },
  {
    "text": "further down in the code where this this comes see it's a cash map",
    "start": "2990880",
    "end": "3000519"
  },
  {
    "text": "okay so this updates the last one location for a provider",
    "start": "3016920",
    "end": "3023240"
  },
  {
    "text": "so this is adding test providers if we want to cannot mark the location provider right",
    "start": "3027599",
    "end": "3035359"
  },
  {
    "text": "um so this is putting a provider and so",
    "start": "3035400",
    "end": "3040318"
  },
  {
    "text": "on so if I modified for example something here",
    "start": "3045720",
    "end": "3052040"
  },
  {
    "text": "So I could I could basically return a fake location here uh the problem is",
    "start": "3062240",
    "end": "3067280"
  },
  {
    "text": "that so I could do return uh new location right and then I could I",
    "start": "3067280",
    "end": "3073920"
  },
  {
    "text": "could set some properties of that location um the",
    "start": "3073920",
    "end": "3079240"
  },
  {
    "text": "problem well there's no problem so now what what does the location look like",
    "start": "3079240",
    "end": "3084319"
  },
  {
    "text": "how do I create location what do you think location class would be just for fun any",
    "start": "3084319",
    "end": "3091119"
  },
  {
    "text": "guesses these are the mock these are the providers right various providers",
    "start": "3092839",
    "end": "3100000"
  },
  {
    "text": "um would that be under services it wouldn't location probably would be probably under here Java is it public or",
    "start": "3102119",
    "end": "3110240"
  },
  {
    "text": "private which directory do I go down this is very t so it's public right",
    "start": "3110240",
    "end": "3117760"
  },
  {
    "text": "so it would be under Android not under com right this would be private so comroid internal would be private",
    "start": "3117760",
    "end": "3124880"
  },
  {
    "text": "android location would be public right so this is where I would expect to find location and there it is",
    "start": "3124880",
    "end": "3130760"
  },
  {
    "text": "right okay so so these are all private properties dump let's see location",
    "start": "3130760",
    "end": "3137040"
  },
  {
    "start": "3132000",
    "end": "3315000"
  },
  {
    "text": "string provider location location set location",
    "start": "3137040",
    "end": "3144280"
  },
  {
    "text": "reset convert",
    "start": "3144280",
    "end": "3149920"
  },
  {
    "text": "so right so I could just pro I could create a a dummy location for",
    "start": "3162760",
    "end": "3170440"
  },
  {
    "text": "example here so new location for location",
    "start": "3170440",
    "end": "3175800"
  },
  {
    "text": "manager G GPS location",
    "start": "3175800",
    "end": "3182119"
  },
  {
    "text": "uh GPS provider right something like that um and then I could uh probably set some",
    "start": "3182240",
    "end": "3189359"
  },
  {
    "text": "properties on the location as well",
    "start": "3189359",
    "end": "3194440"
  },
  {
    "text": "location i can",
    "start": "3194480",
    "end": "3197680"
  },
  {
    "text": "reset set time set provider set latitude set latitude so I could do um I could do",
    "start": "3208200",
    "end": "3215359"
  },
  {
    "text": "something like this",
    "start": "3215359",
    "end": "3218759"
  },
  {
    "text": "fake location dot set something",
    "start": "3225760",
    "end": "3230880"
  },
  {
    "text": "right fake location dot what's the other one",
    "start": "3232920",
    "end": "3240359"
  },
  {
    "text": "not set get but set right and then set latitude so we can put some numbers here",
    "start": "3249599",
    "end": "3255599"
  },
  {
    "text": "I don't know - 99 and - 99 or something like that right or um plus 99 something",
    "start": "3255599",
    "end": "3261520"
  },
  {
    "text": "like that just something fake okay and then I'm going to say",
    "start": "3261520",
    "end": "3268280"
  },
  {
    "text": "return fake location um and I'm going to comment this one out so this is our",
    "start": "3268280",
    "end": "3274400"
  },
  {
    "text": "little code that we re-entered so you know on line 1705 for instance so I'm",
    "start": "3274400",
    "end": "3280960"
  },
  {
    "text": "going to document that so",
    "start": "3280960",
    "end": "3284400"
  },
  {
    "text": "basically 1705 implement",
    "start": "3287240",
    "end": "3295720"
  },
  {
    "text": "implementmented fake",
    "start": "3295720",
    "end": "3299599"
  },
  {
    "text": "location okay so how do you build this",
    "start": "3301160",
    "end": "3306720"
  },
  {
    "text": "now i mean I would in this case we changed sub substantially a lot of stuff",
    "start": "3313720",
    "end": "3319200"
  },
  {
    "start": "3315000",
    "end": "3524000"
  },
  {
    "text": "right so I would actually need to do a a make from",
    "start": "3319200",
    "end": "3325920"
  },
  {
    "text": "um J4 um so this should actually pick it up",
    "start": "3327319",
    "end": "3334599"
  },
  {
    "text": "right the make file and remake everything but this is going to take a",
    "start": "3334599",
    "end": "3340880"
  },
  {
    "text": "long time not a I mean it's going to take like 15 20 minute 15 minutes maybe or something",
    "start": "3340880",
    "end": "3348880"
  },
  {
    "text": "okay i I may have to do a make in actual like um frameworks directory i don't I",
    "start": "3349400",
    "end": "3354720"
  },
  {
    "text": "don't know i'm not sure and then but uh or delete my system image because it doesn't know",
    "start": "3354720",
    "end": "3360920"
  },
  {
    "text": "that that it needs it okay but that would eventually change",
    "start": "3360920",
    "end": "3367119"
  },
  {
    "text": "all that and you know tell us that give us a fake",
    "start": "3367119",
    "end": "3373119"
  },
  {
    "text": "location so is is that kind of making sense how to look around this so are you",
    "start": "3375480",
    "end": "3380559"
  },
  {
    "text": "guys able to follow at least in the source to look around the source yeah you were okay anybody",
    "start": "3380559",
    "end": "3389160"
  },
  {
    "text": "else so that's why I said I mean you you may not be able to to do a uh see it's",
    "start": "3389160",
    "end": "3394400"
  },
  {
    "text": "doing a compile right so now it's compiling okay so yes we didn't have to change it so that's going to do a build",
    "start": "3394400",
    "end": "3402160"
  },
  {
    "text": "um so we didn't so basically um",
    "start": "3402359",
    "end": "3407880"
  },
  {
    "text": "we the um we that's how you would modify a framework right now because you don't",
    "start": "3407880",
    "end": "3413440"
  },
  {
    "text": "have all the tools and everything but at least you know where to look for stuff right",
    "start": "3413440",
    "end": "3421079"
  },
  {
    "text": "so I'm going to let that compile in the",
    "start": "3426559",
    "end": "3431040"
  },
  {
    "text": "meantime um so just to kind of So this is basically audio framework this is the",
    "start": "3431640",
    "end": "3437200"
  },
  {
    "text": "camera framework that we talked about right so very similar sort of idea that",
    "start": "3437200",
    "end": "3442400"
  },
  {
    "text": "you do you guys saw those pictures uh creating an audio driver if you were to create your own audio driver this is",
    "start": "3442400",
    "end": "3449040"
  },
  {
    "text": "what you would do so you would create your own you have to implement what's uh the audio hardware interface",
    "start": "3449040",
    "end": "3457079"
  },
  {
    "text": "right uh you would need to create um ultimately the new lib audio file right",
    "start": "3457079",
    "end": "3464319"
  },
  {
    "text": "and then you would need to specify that you have it and you would put it in a specific place so it gets built with",
    "start": "3464319",
    "end": "3470839"
  },
  {
    "text": "that okay",
    "start": "3470839",
    "end": "3474839"
  },
  {
    "text": "this this is a sample make file what it could look like if you're building audio",
    "start": "3480559",
    "end": "3486319"
  },
  {
    "text": "driver for instance camera library building a camera library same",
    "start": "3486319",
    "end": "3494078"
  },
  {
    "text": "idea right that's a sample driver for the",
    "start": "3496119",
    "end": "3501520"
  },
  {
    "text": "camera library so so that's basically um that's basically that so did you guys",
    "start": "3501520",
    "end": "3508400"
  },
  {
    "text": "does this does this make sense how to modify framework how to build the entire source how to get it all uh attached to",
    "start": "3508400",
    "end": "3515200"
  },
  {
    "text": "the emulator and and test it [Music]",
    "start": "3515200",
    "end": "3526840"
  }
]