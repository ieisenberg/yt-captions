[
  {
    "start": "0",
    "end": "69000"
  },
  {
    "text": "[Music]",
    "start": "5110",
    "end": "25760"
  },
  {
    "text": "all right so it's great to see so many python enthusiasts it's like having Pyon",
    "start": "25760",
    "end": "30880"
  },
  {
    "text": "every month okay so I'm going to talk about my favorite web framework",
    "start": "30880",
    "end": "39320"
  },
  {
    "text": "pyramid okay and we're going to spend uh it's a 45 minute talk we'll spend the",
    "start": "39840",
    "end": "44960"
  },
  {
    "text": "first 15 minutes on Basics another 15 minutes on slightly more advanced stuff",
    "start": "44960",
    "end": "50000"
  },
  {
    "text": "and then last 15 minutes on things like websockets and um more and uh",
    "start": "50000",
    "end": "56000"
  },
  {
    "text": "furthermore you can access this presentation just look on the Meetup website I put a comment and you can uh",
    "start": "56000",
    "end": "63160"
  },
  {
    "text": "go through the slides at your own pace and the code right",
    "start": "63160",
    "end": "68240"
  },
  {
    "text": "now okay so um can everybody see that uh",
    "start": "68240",
    "end": "74159"
  },
  {
    "start": "69000",
    "end": "69000"
  },
  {
    "text": "piece of code here okay so you can get started um installing pyramid is easy so",
    "start": "74159",
    "end": "81960"
  },
  {
    "text": "start your virtual environment pip install pyramid um okay so we'll create our",
    "start": "81960",
    "end": "89320"
  },
  {
    "text": "first so we do pyramid you create they have existing scaffolds so we have a",
    "start": "89320",
    "end": "96640"
  },
  {
    "text": "starter scaffold here let me show you right now",
    "start": "96640",
    "end": "102840"
  },
  {
    "text": "um so let's create a",
    "start": "102840",
    "end": "109320"
  },
  {
    "text": "scaffold okay so we just created our scaffold here are the files inside it um",
    "start": "112280",
    "end": "121840"
  },
  {
    "text": "the next step we need to do is install and",
    "start": "124680",
    "end": "131200"
  },
  {
    "text": "then when we run our",
    "start": "132080",
    "end": "135959"
  },
  {
    "text": "server so this is what you get for free and on the right you see the debug",
    "start": "139280",
    "end": "145160"
  },
  {
    "text": "pyramid debug toolbar um that gives you various debug information about your",
    "start": "145160",
    "end": "152560"
  },
  {
    "text": "application okay so we just if you followed along we just wrote",
    "start": "152560",
    "end": "158840"
  },
  {
    "text": "our first pyramid application so um I want everybody to do",
    "start": "158840",
    "end": "167560"
  },
  {
    "text": "this okay and do this",
    "start": "167560",
    "end": "172800"
  },
  {
    "text": "yeah okay so um the most important file in the pyramid uh stack",
    "start": "172800",
    "end": "181000"
  },
  {
    "text": "is this file called um in it it's in the main",
    "start": "181000",
    "end": "187159"
  },
  {
    "text": "configuration and the M what this init file does in the package is where you",
    "start": "187159",
    "end": "193159"
  },
  {
    "text": "specify uh is where you configure Your Whiskey app so everything that we'll do from now on we'll take this config file",
    "start": "193159",
    "end": "201319"
  },
  {
    "text": "and run functions off of it and it'll return an app okay so that's our Basics um you can",
    "start": "201319",
    "end": "209840"
  },
  {
    "text": "read more you should check the pyramid documentation and the pyramid cookbook there's a lot of examples that and I",
    "start": "209840",
    "end": "216840"
  },
  {
    "text": "especially recommend the pyramid cookbook if you're an advanced user okay so views uh the so the first",
    "start": "216840",
    "end": "223920"
  },
  {
    "text": "important concept I told you was the configurator that's where you configure Your Whiskey app the second most",
    "start": "223920",
    "end": "229280"
  },
  {
    "text": "important pyramid concept is your view um so how the internet works in two",
    "start": "229280",
    "end": "235760"
  },
  {
    "start": "234000",
    "end": "234000"
  },
  {
    "text": "phrases your browser sends a request to URL and your server sends my server sends a",
    "start": "235760",
    "end": "244400"
  },
  {
    "text": "response um in pyramid the the the route Maps the URL to a view and the view",
    "start": "244400",
    "end": "251480"
  },
  {
    "start": "245000",
    "end": "245000"
  },
  {
    "text": "transforms that request into a response so you can so in our example",
    "start": "251480",
    "end": "258720"
  },
  {
    "text": "app we can um see what routes have been defined and uh so",
    "start": "258720",
    "end": "266479"
  },
  {
    "text": "you see a lot of stuff crff because that's includes the debug toolbar",
    "start": "266479",
    "end": "273840"
  },
  {
    "text": "um but here are the routes defined in the production environment and if you wanted to see which views are defined",
    "start": "273840",
    "end": "282000"
  },
  {
    "text": "for um the home directory you can see that",
    "start": "282000",
    "end": "287120"
  },
  {
    "text": "the view direct the view is called view so how many people in the audience already knew this",
    "start": "287120",
    "end": "292960"
  },
  {
    "text": "stuff okay so most of you are new to Pyramid",
    "start": "292960",
    "end": "298240"
  },
  {
    "text": "um Okay so how to add a view um so adding a view so if you",
    "start": "298240",
    "end": "305919"
  },
  {
    "text": "remember just as I said before here the purpose of review is it transforms a request for a URL into a",
    "start": "305919",
    "end": "313560"
  },
  {
    "text": "response and in pyramid we take um if you want to add a view first you define",
    "start": "313560",
    "end": "318880"
  },
  {
    "text": "your view so we're defining a view called index it takes a request and returns a response that's rendered into",
    "start": "318880",
    "end": "328000"
  },
  {
    "text": "Jason um so [Music] in okay and then you specify things with",
    "start": "328000",
    "end": "335360"
  },
  {
    "text": "the view config decorator um okay and and then once you've defined your function your view",
    "start": "335360",
    "end": "342120"
  },
  {
    "text": "you need to add Define a route that Maps the URL in this case we're mapping the home um directory into the route name",
    "start": "342120",
    "end": "350919"
  },
  {
    "text": "called index so here's the route name",
    "start": "350919",
    "end": "355479"
  },
  {
    "text": "index and view config is what connects the view VI to the",
    "start": "356280",
    "end": "361479"
  },
  {
    "text": "route and here is where we connect the route to the URL okay so this is um so we just went",
    "start": "361479",
    "end": "370360"
  },
  {
    "text": "over how to define a view and this is how for the most part you'll be defining the behavior for your web",
    "start": "370360",
    "end": "378199"
  },
  {
    "text": "app okay so we just saw a possible renderer code um for J",
    "start": "378199",
    "end": "385000"
  },
  {
    "text": "Jason let's say you wanted to use okay so the default template renderer is",
    "start": "385000",
    "end": "391400"
  },
  {
    "text": "chameleon um you can see if you edit",
    "start": "391400",
    "end": "397680"
  },
  {
    "text": "your okay so let's just backtrack a bit um in the default scaffold you see",
    "start": "397680",
    "end": "405560"
  },
  {
    "text": "that they use the chameleon template with the extension PT if you wanted to use moo uh M make mik Bayer's",
    "start": "405560",
    "end": "414680"
  },
  {
    "start": "412000",
    "end": "412000"
  },
  {
    "text": "um templating system there are two steps first you need to Define in your configuration file where your templates",
    "start": "414680",
    "end": "420639"
  },
  {
    "text": "are located and um then you write your",
    "start": "420639",
    "end": "430879"
  },
  {
    "text": "template and finally you change your renderer to say that you want to use the",
    "start": "430879",
    "end": "436039"
  },
  {
    "text": "moo index okay so we just uh covered um oh and one more thing that",
    "start": "436039",
    "end": "443560"
  },
  {
    "text": "you want to do is so some sometimes it's useful to have Global variables in your",
    "start": "443560",
    "end": "449199"
  },
  {
    "text": "template it's like user ID or is admin is member and you can specify Global",
    "start": "449199",
    "end": "455240"
  },
  {
    "text": "variables called renderer globals and here you need to um tell your",
    "start": "455240",
    "end": "461000"
  },
  {
    "text": "configuration your configurator to add to run this function called add render",
    "start": "461000",
    "end": "466319"
  },
  {
    "text": "globals before it renders each template so in this case we're adding a global",
    "start": "466319",
    "end": "471960"
  },
  {
    "text": "variable that's accessible in each of our templates as user ID and here's how you can do it",
    "start": "471960",
    "end": "480120"
  },
  {
    "text": "okay so in uh we just covered the basics",
    "start": "480120",
    "end": "485199"
  },
  {
    "text": "um if you want to so the scaffold that we had used earlier was called",
    "start": "485199",
    "end": "492360"
  },
  {
    "text": "starter um you can",
    "start": "493080",
    "end": "496840"
  },
  {
    "text": "see oops okay so we just used the starter template if you want to use",
    "start": "499120",
    "end": "505720"
  },
  {
    "text": "alchemy um if you want to use the default database thing you can create um",
    "start": "505720",
    "end": "512159"
  },
  {
    "text": "the Alchemy so using the Alchemy uh scaffold okay um let's so now that we've",
    "start": "512159",
    "end": "519680"
  },
  {
    "text": "covered the basics uh let's take this quick break so I want I'm going to ask",
    "start": "519680",
    "end": "524839"
  },
  {
    "text": "everybody question and in response I want people to say rated R okay so what's",
    "start": "524839",
    "end": "533320"
  },
  {
    "text": "so what's Pirates love which kind of movies rated R",
    "start": "533320",
    "end": "540160"
  },
  {
    "text": "yeah okay um so just let's go through that right now so P",
    "start": "540160",
    "end": "546880"
  },
  {
    "text": "create scaffold Alchemy",
    "start": "546880",
    "end": "552560"
  },
  {
    "text": "R okay oops and I let me move it",
    "start": "552560",
    "end": "559000"
  },
  {
    "text": "back okay so um this is so before we use the starter scaffold now we're going to",
    "start": "560640",
    "end": "566760"
  },
  {
    "text": "use the Alchemy scaffold which incl cludes support for um SQ Alchemy SQL",
    "start": "566760",
    "end": "575760"
  },
  {
    "text": "Alchemy uh so that's another question I have to you guys how many people say SQL Alchemy and how many people say SQL",
    "start": "575760",
    "end": "583760"
  },
  {
    "text": "Alchemy okay SQL Alchemy just so I don't annoy the hell out of you okay um okay",
    "start": "584120",
    "end": "591839"
  },
  {
    "text": "so models um yeah so",
    "start": "591839",
    "end": "597240"
  },
  {
    "text": "mostly that's what you need to know oh yeah so by default it includes a transaction manager um and you don't",
    "start": "597240",
    "end": "604519"
  },
  {
    "text": "have to do anything that means that if your view fails for some exception then",
    "start": "604519",
    "end": "610079"
  },
  {
    "text": "um it doesn't commit at the end it'll roll back any database transactions that you had in and it if you um write an",
    "start": "610079",
    "end": "617279"
  },
  {
    "text": "outside script which I'll show you soon you will have to um use a transaction",
    "start": "617279",
    "end": "622760"
  },
  {
    "text": "manager explicitly oh yeah so an an example so",
    "start": "622760",
    "end": "628320"
  },
  {
    "text": "the scaffold includes an example of a script",
    "start": "628320",
    "end": "633399"
  },
  {
    "text": "um which I'll talk about soon so scripts you so you want scripts to also be able",
    "start": "633399",
    "end": "638680"
  },
  {
    "text": "to access your database because in case you have a Chron job um that modifies",
    "start": "638680",
    "end": "644639"
  },
  {
    "text": "your app uh but I'll I'll talk about that in the next slide so scripts so so",
    "start": "644639",
    "end": "653839"
  },
  {
    "text": "far you've already seen scripts such as PC create PR routes pshell uh I don't",
    "start": "653839",
    "end": "658959"
  },
  {
    "text": "think shown you pshell but um if you want to write your own",
    "start": "658959",
    "end": "665800"
  },
  {
    "text": "script uh there are two steps so you have to first you write your script um",
    "start": "665800",
    "end": "672560"
  },
  {
    "text": "the major components convenience functions here are get app settings which will take um as an argument the",
    "start": "672560",
    "end": "681240"
  },
  {
    "text": "path of your application configuration file so the application configuration file is for example development. NE or",
    "start": "681240",
    "end": "689760"
  },
  {
    "text": "production. NE it's a text file that um standard text file that contains your",
    "start": "689760",
    "end": "697480"
  },
  {
    "text": "app your configuration things um and the other thing that you want to",
    "start": "697480",
    "end": "703480"
  },
  {
    "text": "do is initialize your database okay so let's say you've written your script um the next thing you have to do",
    "start": "703480",
    "end": "710560"
  },
  {
    "text": "is register it so you edit um the setup.py",
    "start": "710560",
    "end": "717920"
  },
  {
    "text": "function and you you'll see at the end it says console scripts con console",
    "start": "717920",
    "end": "723240"
  },
  {
    "text": "scripts you add your script as another line there um and then at once you've do once",
    "start": "723240",
    "end": "731680"
  },
  {
    "start": "725000",
    "end": "725000"
  },
  {
    "text": "you've done that you can run your script and it'll on the application",
    "start": "731680",
    "end": "737760"
  },
  {
    "text": "configuration file and it should be able to pick it up uh okay so one tip that I have many",
    "start": "737760",
    "end": "746639"
  },
  {
    "text": "times you don't want multiple copies of a certain script running at the same time so you can bind a socket uh to make",
    "start": "746639",
    "end": "754760"
  },
  {
    "text": "sure because that will fail yes what is a what what in what context would",
    "start": "754760",
    "end": "761680"
  },
  {
    "text": "I um so let's [Music] say okay let's say you have an",
    "start": "761680",
    "end": "767360"
  },
  {
    "text": "application that um people it's a revenue sharing system and",
    "start": "767360",
    "end": "776079"
  },
  {
    "text": "about once a month you pay out everybody you share the revenue in that case we would have the web app",
    "start": "776079",
    "end": "782199"
  },
  {
    "text": "running and then we might have a Chron job that says once a month pay out these people so in that case it would have to",
    "start": "782199",
    "end": "788519"
  },
  {
    "text": "access the same database and other things so that's what I mean by a script um okay so and also in that case",
    "start": "788519",
    "end": "795920"
  },
  {
    "text": "you you will you wouldn't want the payout sent twice and so um that's why you it'd be good to",
    "start": "795920",
    "end": "803800"
  },
  {
    "text": "bind a socket and that ensures that only one version of the script is running at one time",
    "start": "803800",
    "end": "809920"
  },
  {
    "text": "okay so some tips for de debugging okay so a lot of you have",
    "start": "809920",
    "end": "816600"
  },
  {
    "text": "probably heard of pdb you've heard of ipdb which is pdb using IPython and you",
    "start": "816600",
    "end": "822680"
  },
  {
    "text": "can also use I python. Ed to",
    "start": "822680",
    "end": "828000"
  },
  {
    "text": "um to debug your script so what ioan",
    "start": "828000",
    "end": "833160"
  },
  {
    "text": "embed will do is it will drop you right in there into the IPython prompt and you can do a bunch of things um but what you",
    "start": "833160",
    "end": "840040"
  },
  {
    "text": "might not have heard of is PUD so PUD is just like the old days of",
    "start": "840040",
    "end": "846720"
  },
  {
    "start": "845000",
    "end": "845000"
  },
  {
    "text": "um if if you've us something like turbo debuger it'll give you a nice graphical",
    "start": "846720",
    "end": "854240"
  },
  {
    "text": "text graphical thing uh so I found it very nice um you might not have known",
    "start": "854240",
    "end": "860279"
  },
  {
    "text": "about it okay so I'm trying to",
    "start": "860279",
    "end": "866279"
  },
  {
    "text": "back um okay so you can try these on your own",
    "start": "866279",
    "end": "872600"
  },
  {
    "text": "each of these four options is a way for debugging your um pyramid",
    "start": "872600",
    "end": "878360"
  },
  {
    "text": "application okay permissions um let's see how we're doing on",
    "start": "878360",
    "end": "886160"
  },
  {
    "text": "time how many minutes do I have left okay so",
    "start": "886160",
    "end": "894399"
  },
  {
    "text": "permissions uh this one I want to spend a little time on because the way pyramid does uh permissions SL",
    "start": "894399",
    "end": "902440"
  },
  {
    "text": "authentication could be confusing but it's not if you just understand these basic concepts uh first I'm going to go",
    "start": "902440",
    "end": "909680"
  },
  {
    "text": "over how to authenticate against your own database and second I'm going to show you how to authenticate with a",
    "start": "909680",
    "end": "914759"
  },
  {
    "text": "third party provider thanks to a package called velro that um Ben Bangert wrote and he's actually in the audience",
    "start": "914759",
    "end": "922759"
  },
  {
    "text": "today okay um so permissions in pyramid",
    "start": "923320",
    "end": "929959"
  },
  {
    "start": "926000",
    "end": "926000"
  },
  {
    "text": "um when somebody access your application we'll call that person a user a user is in a",
    "start": "929959",
    "end": "937680"
  },
  {
    "text": "group each group has a set of permissions and a permission gives that",
    "start": "937680",
    "end": "943120"
  },
  {
    "text": "user access to selected views um the function the where you",
    "start": "943120",
    "end": "950839"
  },
  {
    "start": "948000",
    "end": "948000"
  },
  {
    "text": "define so when you implement this the place where you define given a user ID",
    "start": "950839",
    "end": "956199"
  },
  {
    "text": "what groups that user is in is get groups which I'll show you soon um you define which what",
    "start": "956199",
    "end": "963880"
  },
  {
    "text": "permissions a group has in ACLS in a class called the root Factory and",
    "start": "963880",
    "end": "969519"
  },
  {
    "text": "finally you give um you specify what permission",
    "start": "969519",
    "end": "975800"
  },
  {
    "text": "is required to access a view in a con in the view config",
    "start": "975800",
    "end": "980920"
  },
  {
    "text": "Constructor um okay so I'm going to show each of these in a specific code maybe I'll cut",
    "start": "980920",
    "end": "990839"
  },
  {
    "text": "and paste this into something a little easier to",
    "start": "990839",
    "end": "995440"
  },
  {
    "text": "read actually",
    "start": "1005120",
    "end": "1009120"
  },
  {
    "text": "okay so um what we just what we just said was when a person accesses your",
    "start": "1026160",
    "end": "1031760"
  },
  {
    "text": "site that person is a user um so here's here's a a very strip",
    "start": "1031760",
    "end": "1040880"
  },
  {
    "text": "down version of how you might Implement authentication for your site if it's",
    "start": "1040880",
    "end": "1046480"
  },
  {
    "text": "against your own database um here's the configurator function that",
    "start": "1046480",
    "end": "1051799"
  },
  {
    "text": "we saw before um first you choose an",
    "start": "1051799",
    "end": "1057039"
  },
  {
    "text": "authentication policy and an authorization policy in this case we chose to use auth ticket Au ticket so",
    "start": "1057039",
    "end": "1063880"
  },
  {
    "text": "there are a couple options you can either use an au tiet that's like a little string in your cookie that's been",
    "start": "1063880",
    "end": "1070960"
  },
  {
    "text": "um hashed with a little thing to detect whether it's been tampered um or you could choose to store",
    "start": "1070960",
    "end": "1078520"
  },
  {
    "text": "it and your session and store it on your server so when you use your",
    "start": "1078520",
    "end": "1084159"
  },
  {
    "text": "authentication policy um okay",
    "start": "1084159",
    "end": "1089760"
  },
  {
    "text": "so when somebody goes to your site pyramid calls the call back get",
    "start": "1089880",
    "end": "1096600"
  },
  {
    "text": "groups and get groups get something called the user ID um in a real environment you might",
    "start": "1096600",
    "end": "1103520"
  },
  {
    "text": "check the user ID against the database and retrieve the permissions but here we'll just do if",
    "start": "1103520",
    "end": "1110520"
  },
  {
    "text": "um we do a check for if the user ID is the username",
    "start": "1110520",
    "end": "1116480"
  },
  {
    "text": "is says Tigger then we append the group special so each group is a string and",
    "start": "1116480",
    "end": "1123280"
  },
  {
    "text": "get groups returns given a user ID get groups returns a list of strings that",
    "start": "1123280",
    "end": "1128600"
  },
  {
    "text": "indicate what groups that user ID belongs to so we just covered the first part how",
    "start": "1128600",
    "end": "1136240"
  },
  {
    "text": "um pyramid identifies what groups the user belongs to now how does pyramid identify what",
    "start": "1136240",
    "end": "1143679"
  },
  {
    "text": "permissions each group has well you need to define something called a root",
    "start": "1143679",
    "end": "1149639"
  },
  {
    "text": "Factory and here's where you define your Access Control list and you can say oh",
    "start": "1149799",
    "end": "1155120"
  },
  {
    "text": "well this particular group which is the second column and this last one you can see it's",
    "start": "1155120",
    "end": "1160960"
  },
  {
    "text": "special so allow everybody in the special group to have the permission of",
    "start": "1160960",
    "end": "1166799"
  },
  {
    "text": "yumy eat and the final step um of this is then you",
    "start": "1166799",
    "end": "1173480"
  },
  {
    "text": "need to define a view somewhere um that's could be in your yummy module",
    "start": "1173480",
    "end": "1180600"
  },
  {
    "text": "they're given a request",
    "start": "1180600",
    "end": "1186320"
  },
  {
    "text": "and Define a view config and the route name being",
    "start": "1188039",
    "end": "1193080"
  },
  {
    "text": "something um and you also need to define the permission is equal to the string I'm e",
    "start": "1193080",
    "end": "1199799"
  },
  {
    "text": "so here are the three components and you can look at this the slides are online",
    "start": "1199799",
    "end": "1204840"
  },
  {
    "text": "you can look at this in more detail um but that's the main concepts for permissions",
    "start": "1204840",
    "end": "1212720"
  },
  {
    "text": "yes um permission takes a tuple in which",
    "start": "1213520",
    "end": "1219360"
  },
  {
    "text": "case here um that I don't know does somebody",
    "start": "1219360",
    "end": "1225120"
  },
  {
    "text": "know the answer to that I'm guessing you might have to add another",
    "start": "1225120",
    "end": "1230400"
  },
  {
    "text": "line and that's the way I think I've done it before if you want to give a view two",
    "start": "1230400",
    "end": "1238159"
  },
  {
    "text": "permissions um okay so we just covered how to authenticate with the own database if",
    "start": "1238159",
    "end": "1244799"
  },
  {
    "start": "1243000",
    "end": "1243000"
  },
  {
    "text": "you want to authenticate with a thirdparty provider so third party provider means like for example um open",
    "start": "1244799",
    "end": "1250520"
  },
  {
    "text": "ID so open ID is supported by Google it's supported by um stack",
    "start": "1250520",
    "end": "1255799"
  },
  {
    "text": "Overflow and I think GitHub and other things things or oo you can use a package called vus very",
    "start": "1255799",
    "end": "1264600"
  },
  {
    "text": "recent package it's it's nice all you need to do is um include velus in your",
    "start": "1264600",
    "end": "1272480"
  },
  {
    "text": "configuration let me just go to the site that is",
    "start": "1272480",
    "end": "1279720"
  },
  {
    "text": "here um so the nice thing about roru is it",
    "start": "1281400",
    "end": "1288880"
  },
  {
    "text": "it's a pyramid app it doesn't require your application to be a pyramid app",
    "start": "1288880",
    "end": "1296159"
  },
  {
    "text": "um but if you are writing a pyramid app you can take advantage of it here's what",
    "start": "1296159",
    "end": "1301279"
  },
  {
    "text": "you need to do in your init file in your package you include Val R you specify",
    "start": "1301279",
    "end": "1307400"
  },
  {
    "text": "what kind of providers you want to um let people log into then you specify some",
    "start": "1307400",
    "end": "1315480"
  },
  {
    "text": "credentials uh you need to Define two views one uh so what happens",
    "start": "1315480",
    "end": "1321640"
  },
  {
    "text": "is when in your template you you give it a a URL that the person will go to so",
    "start": "1321640",
    "end": "1328720"
  },
  {
    "text": "they'll say oh log in Via Twitter they'll click it they'll be redirected to Twitter's login page um you log in",
    "start": "1328720",
    "end": "1335679"
  },
  {
    "text": "and based on what happens you get redirected back somewhere and where when",
    "start": "1335679",
    "end": "1341799"
  },
  {
    "text": "you get redirected back to your application here are the two possibilities either the authentication was successful complete or it failed so",
    "start": "1341799",
    "end": "1350000"
  },
  {
    "text": "you need to Define two views one what happened if it was complete and the other when it's failed and the last",
    "start": "1350000",
    "end": "1356360"
  },
  {
    "text": "thing that you need to do is of course um redirect to the URL in your application so three basic steps to to",
    "start": "1356360",
    "end": "1365200"
  },
  {
    "text": "use v r um like I said so Define two views and",
    "start": "1365200",
    "end": "1372559"
  },
  {
    "text": "include the URL in your template okay so now you've come to",
    "start": "1372559",
    "end": "1377600"
  },
  {
    "text": "deploying your applic I'm only going to show you uh three ways to do",
    "start": "1377600",
    "end": "1383840"
  },
  {
    "text": "it okay so let's say you serve with",
    "start": "1385039",
    "end": "1392520"
  },
  {
    "text": "um G",
    "start": "1392520",
    "end": "1395840"
  },
  {
    "text": "event okay so since you're using since pyramid is a whisky",
    "start": "1397919",
    "end": "1404080"
  },
  {
    "text": "application um all of these take the same form which",
    "start": "1404080",
    "end": "1409679"
  },
  {
    "text": "is you get your app you get your app looks like I can't zoom in you get",
    "start": "1409679",
    "end": "1417000"
  },
  {
    "text": "your app and um let's use this one you get your app and you give it to the server and",
    "start": "1417000",
    "end": "1424039"
  },
  {
    "text": "you ask it to serve forever so when you use G",
    "start": "1424039",
    "end": "1430240"
  },
  {
    "text": "event um yeah it's it's mostly it's the",
    "start": "1430240",
    "end": "1436000"
  },
  {
    "text": "same so you get your app it loads it from the configuration",
    "start": "1436000",
    "end": "1441600"
  },
  {
    "text": "file and um you're run it so",
    "start": "1441600",
    "end": "1447480"
  },
  {
    "text": "something um so okay so G event you would use it's a great uh so the default",
    "start": "1447880",
    "end": "1453520"
  },
  {
    "text": "server is waitress they use waitress because it's it's compatible with a lot of platforms like Windows and Mac but uh",
    "start": "1453520",
    "end": "1460400"
  },
  {
    "text": "gevent is very fault tolerant let's say you wanted to serve your thing behind SSL and websockets um one thing you",
    "start": "1460400",
    "end": "1467640"
  },
  {
    "start": "1462000",
    "end": "1462000"
  },
  {
    "text": "could do is serve it behind nodejs so some corporate",
    "start": "1467640",
    "end": "1473679"
  },
  {
    "text": "or government environments have very strict firewalls and um only allow",
    "start": "1473679",
    "end": "1480080"
  },
  {
    "text": "8443 and even within those ports they block",
    "start": "1480080",
    "end": "1485120"
  },
  {
    "text": "all non httv protocols so sometimes to get around that and still be able to",
    "start": "1485120",
    "end": "1490679"
  },
  {
    "text": "have your app use websockets you need to um put encrypt your websockets in SSL so",
    "start": "1490679",
    "end": "1497919"
  },
  {
    "text": "that's why you need something like this so This is actually some node.js code using HTTP",
    "start": "1497919",
    "end": "1505840"
  },
  {
    "text": "proxy and what it'll do is let you use websockets um through your secure",
    "start": "1505840",
    "end": "1513120"
  },
  {
    "text": "server okay so another quick note if you're serving your stuff behind",
    "start": "1513120",
    "end": "1519880"
  },
  {
    "start": "1514000",
    "end": "1514000"
  },
  {
    "text": "https um it's useful to have two backs slashes uh that will resolve your url to",
    "start": "1519880",
    "end": "1528919"
  },
  {
    "text": "HTTP or htps whichever you happen to be using at the moment and you can see more",
    "start": "1528919",
    "end": "1534200"
  },
  {
    "text": "deployment options in the cookbook in detail I'm just my my goal here is not",
    "start": "1534200",
    "end": "1539360"
  },
  {
    "text": "is just to let you know what's possible so that later on you can look into it um",
    "start": "1539360",
    "end": "1544600"
  },
  {
    "text": "so don't worry if a lot of this is breezing by you right now oh so okay so King kesing King I think Canadians",
    "start": "1544600",
    "end": "1552159"
  },
  {
    "start": "1548000",
    "end": "1548000"
  },
  {
    "text": "saying so caching um cing you can use so the",
    "start": "1552159",
    "end": "1560000"
  },
  {
    "text": "original so dog pile C is the new version of Beaker dog pile C you can it",
    "start": "1560000",
    "end": "1567399"
  },
  {
    "text": "still has the same concept um you make a region in that region you specify what you want",
    "start": "1567399",
    "end": "1574159"
  },
  {
    "text": "to how you want to store the stuff that you're caching so in this case we're storing it in memory but you just switch",
    "start": "1574159",
    "end": "1581360"
  },
  {
    "text": "this out Swap this out for mcash to redis or files and um that'll be your caching back end then you have this",
    "start": "1581360",
    "end": "1588840"
  },
  {
    "text": "decorator on each function that you want to Cache uh region. C and arguments um and when you run this",
    "start": "1588840",
    "end": "1596840"
  },
  {
    "text": "you'll see that uh the first value is not catched because it's computed and",
    "start": "1596840",
    "end": "1603399"
  },
  {
    "text": "the second one um is cached and the third one since",
    "start": "1603399",
    "end": "1609720"
  },
  {
    "text": "we invalidated the cach for those arguments um it it'll run the thing so",
    "start": "1609720",
    "end": "1616279"
  },
  {
    "text": "this is the dog pile cach written also by Mike beay who wrote SQL",
    "start": "1616279",
    "end": "1622520"
  },
  {
    "text": "Alchemy um okay so let",
    "start": "1622760",
    "end": "1629039"
  },
  {
    "text": "me uh demonstrate this real quick and and before I go",
    "start": "1629039",
    "end": "1637360"
  },
  {
    "text": "into web sockets um I can take one question",
    "start": "1639200",
    "end": "1648158"
  },
  {
    "text": "okay um so websockets is a little uh harder concept so before we do",
    "start": "1649559",
    "end": "1656640"
  },
  {
    "text": "that let's just get up and stretch people should get up and stretch and",
    "start": "1656640",
    "end": "1664039"
  },
  {
    "text": "this is actually something you should do in your daily workday about every 10 minutes you just",
    "start": "1664039",
    "end": "1670399"
  },
  {
    "text": "get up and stretch and especially put your neck back like this and and that's",
    "start": "1670399",
    "end": "1676240"
  },
  {
    "text": "so you don't develop this crane neck posture and while and while you're at it since",
    "start": "1676240",
    "end": "1681679"
  },
  {
    "text": "you've gone 30 minutes of pyramid high-tech stuff I want you to give your neighbor high-f",
    "start": "1681679",
    "end": "1689360"
  },
  {
    "text": "five okay cool okay so now I've woken you up",
    "start": "1690519",
    "end": "1695840"
  },
  {
    "text": "because websockets this is a little more of a um higher level",
    "start": "1695840",
    "end": "1703080"
  },
  {
    "text": "topic and I'm going to need all your attention for this one okay so",
    "start": "1703080",
    "end": "1708840"
  },
  {
    "text": "websockets um so how many people have heard of websockets okay good websockets you",
    "start": "1708840",
    "end": "1716240"
  },
  {
    "text": "would use it for if you want to make a realtime app like a dashboard for example if a dashboard is um let's say",
    "start": "1716240",
    "end": "1723600"
  },
  {
    "text": "an emergency responder wants to see where all the firefighters are right now",
    "start": "1723600",
    "end": "1729320"
  },
  {
    "text": "um or a chat application like uh chatting so",
    "start": "1729320",
    "end": "1735960"
  },
  {
    "text": "here we it's it's actually become very easy thanks to a package called G event",
    "start": "1735960",
    "end": "1742600"
  },
  {
    "text": "socket.io um you can take a look at it",
    "start": "1742600",
    "end": "1748799"
  },
  {
    "text": "which oh yeah the G is very",
    "start": "1748799",
    "end": "1753960"
  },
  {
    "text": "important okay and you want a so Jeffrey started it um",
    "start": "1756159",
    "end": "1762960"
  },
  {
    "text": "and I for I forget his name but he abor continued it um",
    "start": "1762960",
    "end": "1770039"
  },
  {
    "text": "um okay so what you need to do to integrate so you have a couple options",
    "start": "1770039",
    "end": "1775080"
  },
  {
    "text": "when you want to um put websockets in your web app the way I originally did it",
    "start": "1775080",
    "end": "1780919"
  },
  {
    "text": "was I had a separate node.js server running and um my",
    "start": "1780919",
    "end": "1787679"
  },
  {
    "text": "pyramid app would would talk to it as a separate thing but if a better way to do",
    "start": "1787679",
    "end": "1793640"
  },
  {
    "text": "it is actually to have it inside your pyramid butat um so",
    "start": "1793640",
    "end": "1800039"
  },
  {
    "text": "oops okay so um here are the steps to do to use to use web socket uh websockets",
    "start": "1801279",
    "end": "1810240"
  },
  {
    "start": "1802000",
    "end": "1802000"
  },
  {
    "text": "in your application you I'm just going to show you how to use socket iio there's a SE second option called",
    "start": "1810240",
    "end": "1816120"
  },
  {
    "text": "pyramid um sockjs and it's more or less the same steps um I like socket IO they both have",
    "start": "1816120",
    "end": "1824559"
  },
  {
    "text": "the reason you use this instead of websockets directly is because you have a fall back in case the the browser",
    "start": "1824559",
    "end": "1830200"
  },
  {
    "text": "doesn't support it okay so first step use socket IO server so that",
    "start": "1830200",
    "end": "1836240"
  },
  {
    "text": "one um we actually saw before in the thing on",
    "start": "1836240",
    "end": "1843679"
  },
  {
    "text": "servers me just find",
    "start": "1844919",
    "end": "1848919"
  },
  {
    "text": "it okay well anyhow so before somewhere there was ah here it is so here's the",
    "start": "1852240",
    "end": "1858880"
  },
  {
    "text": "part about um G event socket IO so this is how you first the first step to using",
    "start": "1858880",
    "end": "1864960"
  },
  {
    "text": "websockets in your app is to um change the Ser write a script that",
    "start": "1864960",
    "end": "1871960"
  },
  {
    "text": "actually uses uh gent socket IO socket IO server so that's step number one done now you",
    "start": "1871960",
    "end": "1879320"
  },
  {
    "text": "want to um Define a view containing socket iio",
    "start": "1879320",
    "end": "1884919"
  },
  {
    "text": "manage okay so what that is is uh",
    "start": "1884919",
    "end": "1889919"
  },
  {
    "text": "so here's our views",
    "start": "1891159",
    "end": "1897039"
  },
  {
    "text": "um okay so this is reviewing before how to add a view what you need to do is Define a",
    "start": "1897039",
    "end": "1903880"
  },
  {
    "text": "function that takes a request and returns a response and in this case it's",
    "start": "1903880",
    "end": "1909279"
  },
  {
    "text": "returning this is the response um and it's the route name",
    "start": "1909279",
    "end": "1914840"
  },
  {
    "text": "we're going to use as saket iio the second step for adding a view is we connect that route to our URL so we do",
    "start": "1914840",
    "end": "1923519"
  },
  {
    "text": "this doing config doad route which connects the route name socket.io socket.io to the URL called",
    "start": "1923519",
    "end": "1931240"
  },
  {
    "text": "socket.io any URL that matches this pattern okay so we just finished step",
    "start": "1931240",
    "end": "1937880"
  },
  {
    "text": "two which is uh we just defined a view that delegates everything that matches",
    "start": "1937880",
    "end": "1943600"
  },
  {
    "text": "this URL and delegates it to the socket IO",
    "start": "1943600",
    "end": "1949120"
  },
  {
    "text": "manage function which is convenience function that is in the",
    "start": "1949120",
    "end": "1954200"
  },
  {
    "text": "package in that convenience function what it does is it um it",
    "start": "1954200",
    "end": "1960480"
  },
  {
    "text": "Maps Channel names slam space names into um classes that Define how your behavior",
    "start": "1960480",
    "end": "1968840"
  },
  {
    "text": "the websocket behavior so we could have another one like news and this we'd have to define a news",
    "start": "1968840",
    "end": "1975840"
  },
  {
    "text": "name space okay um and the fin The Next Step the FI",
    "start": "1975840",
    "end": "1984559"
  },
  {
    "text": "almost the final step is you define your name space so this is what what happens",
    "start": "1984559",
    "end": "1990960"
  },
  {
    "text": "when it receives certain events so you define that",
    "start": "1990960",
    "end": "1996760"
  },
  {
    "text": "here um and of course you also need to connect to the web sockets in your",
    "start": "1996760",
    "end": "2003880"
  },
  {
    "text": "template and that one we can I can show you if you want um yeah so those in those three simple",
    "start": "2003880",
    "end": "2011200"
  },
  {
    "text": "steps we just enabled our application with websockets um and you can start",
    "start": "2011200",
    "end": "2017600"
  },
  {
    "text": "doing some real time stuff okay some some other add-ons that I didn't cover yet",
    "start": "2017600",
    "end": "2024399"
  },
  {
    "text": "um so you can yes so your websocket support how good is it and in terms of",
    "start": "2024399",
    "end": "2030720"
  },
  {
    "text": "fallbacks for other if you don't have websockets and you have to support older browsers how good is the fallback",
    "start": "2030720",
    "end": "2037159"
  },
  {
    "text": "mechanism well that's why I don't use websockets directly I'm using the socket",
    "start": "2037159",
    "end": "2042440"
  },
  {
    "text": "IO package so there as far as I know is it's a pretty excellent um fallback so they so here's",
    "start": "2042440",
    "end": "2050480"
  },
  {
    "text": "a it's it's this is not python this is um I guess the protocol but yeah it'll",
    "start": "2050480",
    "end": "2056878"
  },
  {
    "text": "it'll fall back to Long polling if there's no it wasn't as good as they advertised oh really maybe it's improved",
    "start": "2056879",
    "end": "2063839"
  },
  {
    "text": "yeah this is it's been a while and it's but yeah it's it's it seems to work well",
    "start": "2063839",
    "end": "2069398"
  },
  {
    "text": "for me there's long polling and then there's flash so they have like three or four five six",
    "start": "2069399",
    "end": "2075440"
  },
  {
    "text": "fallbacks um but like I said I'm warning you it's still an early stage technology",
    "start": "2075440",
    "end": "2081800"
  },
  {
    "text": "so um you don't want to rely on it too heavily okay so if you want to um other",
    "start": "2081800",
    "end": "2088480"
  },
  {
    "text": "add-ons there's a bunch of add-ons that we didn't cover and they all follow the same kind of format yes",
    "start": "2088480",
    "end": "2098399"
  },
  {
    "text": "oh",
    "start": "2104560",
    "end": "2106800"
  },
  {
    "text": "yeah um I don't think so because this",
    "start": "2111880",
    "end": "2117320"
  },
  {
    "text": "is at this point we're deleg we've delegated we handed it off",
    "start": "2117320",
    "end": "2123560"
  },
  {
    "text": "to um this socket IO manage function so pyramid once it h reaches this point",
    "start": "2123560",
    "end": "2129599"
  },
  {
    "text": "pyramid isn't responsible for it anymore cuz I mean cuz I don't think",
    "start": "2129599",
    "end": "2135240"
  },
  {
    "text": "socket so once it connects to the socket it's it's talking inside it and it's not",
    "start": "2135240",
    "end": "2140359"
  },
  {
    "text": "through URLs anymore",
    "start": "2140359",
    "end": "2145560"
  },
  {
    "start": "2146000",
    "end": "2146000"
  },
  {
    "text": "um yeah uh other add-ons are pretty much the same you just to use them you have",
    "start": "2146400",
    "end": "2153880"
  },
  {
    "text": "to config include it and then you do some configuration stuff so you can can send mail you had sessions",
    "start": "2153880",
    "end": "2160480"
  },
  {
    "text": "forms um and you still have form and code back from the pylons days for",
    "start": "2160480",
    "end": "2165680"
  },
  {
    "text": "validating forms um okay so some future directions for Pyramid it'd be nice if we had a",
    "start": "2165680",
    "end": "2172200"
  },
  {
    "start": "2170000",
    "end": "2170000"
  },
  {
    "text": "unified payment system so just like we have Vel Rus for unified authentication um you have a lot of",
    "start": "2172200",
    "end": "2178319"
  },
  {
    "text": "payment stuff right now like wallet and Amazon and square and PayPal it'd be",
    "start": "2178319",
    "end": "2183720"
  },
  {
    "text": "nice if it was one so there some ways that you can contribute to Pyramid um a",
    "start": "2183720",
    "end": "2190560"
  },
  {
    "start": "2186000",
    "end": "2186000"
  },
  {
    "text": "lot of ways to keep it alive if you don't want this project to die you can answer questions I think or is looking",
    "start": "2190560",
    "end": "2198000"
  },
  {
    "text": "for somebody to write a book on it um and pull requests and add-ons so I think",
    "start": "2198000",
    "end": "2205520"
  },
  {
    "text": "that's it so now I can take questions",
    "start": "2205520",
    "end": "2209680"
  },
  {
    "text": "[Music]",
    "start": "2213630",
    "end": "2221309"
  }
]