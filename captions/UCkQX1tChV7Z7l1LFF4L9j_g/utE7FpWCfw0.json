[
  {
    "text": "[Music]",
    "start": "3360",
    "end": "6550"
  },
  {
    "text": "hi there",
    "start": "9760",
    "end": "12240"
  },
  {
    "text": "when i started at netflix my team was",
    "start": "12559",
    "end": "14320"
  },
  {
    "text": "responsible for a library which produced",
    "start": "14320",
    "end": "16640"
  },
  {
    "text": "stream metadata required for playback",
    "start": "16640",
    "end": "18880"
  },
  {
    "text": "we called this the playback manifest",
    "start": "18880",
    "end": "22000"
  },
  {
    "text": "and that library got consumed by three",
    "start": "22000",
    "end": "24000"
  },
  {
    "text": "different services each of which were",
    "start": "24000",
    "end": "25680"
  },
  {
    "text": "responsible for the full playback",
    "start": "25680",
    "end": "27119"
  },
  {
    "text": "lifecycle for different subsets of",
    "start": "27119",
    "end": "28880"
  },
  {
    "text": "devices",
    "start": "28880",
    "end": "31039"
  },
  {
    "text": "now what that meant for us is if we",
    "start": "31039",
    "end": "32960"
  },
  {
    "text": "needed to roll out a feature",
    "start": "32960",
    "end": "34719"
  },
  {
    "text": "we would build that feature release our",
    "start": "34719",
    "end": "36640"
  },
  {
    "text": "library and then we would have to wait",
    "start": "36640",
    "end": "38399"
  },
  {
    "text": "for that library to be consumed by all",
    "start": "38399",
    "end": "40239"
  },
  {
    "text": "the services",
    "start": "40239",
    "end": "41440"
  },
  {
    "text": "before we could flip on the new feature",
    "start": "41440",
    "end": "42960"
  },
  {
    "text": "flag",
    "start": "42960",
    "end": "44640"
  },
  {
    "text": "as you can imagine this made it",
    "start": "44640",
    "end": "46000"
  },
  {
    "text": "difficult to iterate quickly",
    "start": "46000",
    "end": "49600"
  },
  {
    "text": "so in order to gain the velocity and",
    "start": "50559",
    "end": "52239"
  },
  {
    "text": "freedom that we really wanted",
    "start": "52239",
    "end": "53760"
  },
  {
    "text": "we decided that we would create a new",
    "start": "53760",
    "end": "55920"
  },
  {
    "text": "microservice",
    "start": "55920",
    "end": "57440"
  },
  {
    "text": "and move the traffic from our library to",
    "start": "57440",
    "end": "60879"
  },
  {
    "text": "this off box",
    "start": "60879",
    "end": "61840"
  },
  {
    "text": "call and i was on point for doing that",
    "start": "61840",
    "end": "65600"
  },
  {
    "text": "we had a pretty solid contract in that",
    "start": "65600",
    "end": "67360"
  },
  {
    "text": "library and a lot of good test coverage",
    "start": "67360",
    "end": "70400"
  },
  {
    "text": "so we decided that we could create a new",
    "start": "70400",
    "end": "72159"
  },
  {
    "text": "remote version of that library",
    "start": "72159",
    "end": "74000"
  },
  {
    "text": "that maintained the same api which",
    "start": "74000",
    "end": "76320"
  },
  {
    "text": "allowed us to gradually dial traffic",
    "start": "76320",
    "end": "78159"
  },
  {
    "text": "from one to the other without affecting",
    "start": "78159",
    "end": "79840"
  },
  {
    "text": "the upstream callers",
    "start": "79840",
    "end": "82798"
  },
  {
    "text": "as part of this project i also added the",
    "start": "83680",
    "end": "85520"
  },
  {
    "text": "ability to route just a single user or",
    "start": "85520",
    "end": "87840"
  },
  {
    "text": "device",
    "start": "87840",
    "end": "89119"
  },
  {
    "text": "that made it possible for me to go into",
    "start": "89119",
    "end": "90799"
  },
  {
    "text": "the device lab pick a variety of devices",
    "start": "90799",
    "end": "93280"
  },
  {
    "text": "like one mobile one tv",
    "start": "93280",
    "end": "95119"
  },
  {
    "text": "one website and test with them",
    "start": "95119",
    "end": "99119"
  },
  {
    "text": "and make sure everything was looking as",
    "start": "99119",
    "end": "100560"
  },
  {
    "text": "expected",
    "start": "100560",
    "end": "102399"
  },
  {
    "text": "once i was happy with that i started",
    "start": "102399",
    "end": "105119"
  },
  {
    "text": "dialing traffic over in production",
    "start": "105119",
    "end": "107520"
  },
  {
    "text": "and while i was doing that i would",
    "start": "107520",
    "end": "109600"
  },
  {
    "text": "monitor a bunch of dashboards but",
    "start": "109600",
    "end": "111119"
  },
  {
    "text": "primarily this one",
    "start": "111119",
    "end": "112320"
  },
  {
    "text": "global sps now sps stands for playback",
    "start": "112320",
    "end": "116399"
  },
  {
    "text": "starts per second",
    "start": "116399",
    "end": "117439"
  },
  {
    "text": "and this is our key performance",
    "start": "117439",
    "end": "118719"
  },
  {
    "text": "indicator of health for the product",
    "start": "118719",
    "end": "120560"
  },
  {
    "text": "and essentially represents whether or",
    "start": "120560",
    "end": "122159"
  },
  {
    "text": "not users are getting to watch their",
    "start": "122159",
    "end": "123520"
  },
  {
    "text": "favorite shows or movies",
    "start": "123520",
    "end": "126479"
  },
  {
    "text": "i would dial and then i would watch and",
    "start": "126479",
    "end": "128959"
  },
  {
    "text": "eventually i would see",
    "start": "128959",
    "end": "130239"
  },
  {
    "text": "the metric deviate from what was",
    "start": "130239",
    "end": "131760"
  },
  {
    "text": "expected indicating a problem with my",
    "start": "131760",
    "end": "133599"
  },
  {
    "text": "change",
    "start": "133599",
    "end": "135040"
  },
  {
    "text": "so i would turn the dial back to zero",
    "start": "135040",
    "end": "136959"
  },
  {
    "text": "debug the problem dig through dashboards",
    "start": "136959",
    "end": "138879"
  },
  {
    "text": "stick through logs",
    "start": "138879",
    "end": "140480"
  },
  {
    "text": "figure out what the fix is deploy it",
    "start": "140480",
    "end": "142879"
  },
  {
    "text": "wait for it to roll out everywhere",
    "start": "142879",
    "end": "144879"
  },
  {
    "text": "then i could re-test in the device lab",
    "start": "144879",
    "end": "146640"
  },
  {
    "text": "then i could start dialing traffic and",
    "start": "146640",
    "end": "148160"
  },
  {
    "text": "monitoring",
    "start": "148160",
    "end": "149440"
  },
  {
    "text": "and this cycle would go on and on until",
    "start": "149440",
    "end": "152319"
  },
  {
    "text": "i actually",
    "start": "152319",
    "end": "153200"
  },
  {
    "text": "got all the traffic over into production",
    "start": "153200",
    "end": "154959"
  },
  {
    "text": "and kept it there",
    "start": "154959",
    "end": "157840"
  },
  {
    "text": "now this was time consuming and tedious",
    "start": "158239",
    "end": "160319"
  },
  {
    "text": "because netflix is on thousands of",
    "start": "160319",
    "end": "161840"
  },
  {
    "text": "device types",
    "start": "161840",
    "end": "163040"
  },
  {
    "text": "each of which has its own slightly",
    "start": "163040",
    "end": "164560"
  },
  {
    "text": "different variation of the user",
    "start": "164560",
    "end": "166080"
  },
  {
    "text": "interface and sdk",
    "start": "166080",
    "end": "168160"
  },
  {
    "text": "and i was finding one or two problems at",
    "start": "168160",
    "end": "170000"
  },
  {
    "text": "a time",
    "start": "170000",
    "end": "171599"
  },
  {
    "text": "i found little corner cases where the",
    "start": "171599",
    "end": "173599"
  },
  {
    "text": "client interpretation of what we",
    "start": "173599",
    "end": "175200"
  },
  {
    "text": "returned was slightly different than",
    "start": "175200",
    "end": "176720"
  },
  {
    "text": "expected",
    "start": "176720",
    "end": "178000"
  },
  {
    "text": "for instance we returned the list of",
    "start": "178000",
    "end": "180080"
  },
  {
    "text": "audio languages in a different order",
    "start": "180080",
    "end": "182239"
  },
  {
    "text": "and the devices broke because they were",
    "start": "182239",
    "end": "184319"
  },
  {
    "text": "expecting them to be in",
    "start": "184319",
    "end": "185680"
  },
  {
    "text": "the same order that we'd been returning",
    "start": "185680",
    "end": "187920"
  },
  {
    "text": "um rather than relying on the sort order",
    "start": "187920",
    "end": "190000"
  },
  {
    "text": "that was on the objects",
    "start": "190000",
    "end": "193040"
  },
  {
    "text": "this whole process just really made me",
    "start": "193120",
    "end": "194720"
  },
  {
    "text": "think that there had to be a better way",
    "start": "194720",
    "end": "198640"
  },
  {
    "text": "my name is haley tucker i'm a senior",
    "start": "198640",
    "end": "200560"
  },
  {
    "text": "software engineer at netflix",
    "start": "200560",
    "end": "202800"
  },
  {
    "text": "when i started i was on the playback",
    "start": "202800",
    "end": "204480"
  },
  {
    "text": "services team and now i'm on the",
    "start": "204480",
    "end": "206159"
  },
  {
    "text": "resilience engineering team where i'm",
    "start": "206159",
    "end": "207840"
  },
  {
    "text": "responsible for building tooling that",
    "start": "207840",
    "end": "209680"
  },
  {
    "text": "enables service owners",
    "start": "209680",
    "end": "211519"
  },
  {
    "text": "to experiment on their production",
    "start": "211519",
    "end": "214480"
  },
  {
    "text": "services",
    "start": "214480",
    "end": "215280"
  },
  {
    "text": "to understand and change them in a safe",
    "start": "215280",
    "end": "217680"
  },
  {
    "text": "manner",
    "start": "217680",
    "end": "220000"
  },
  {
    "text": "so today i'm going to talk through three",
    "start": "220560",
    "end": "222640"
  },
  {
    "text": "topics the first one is our solution to",
    "start": "222640",
    "end": "225040"
  },
  {
    "text": "this problem chap",
    "start": "225040",
    "end": "226560"
  },
  {
    "text": "and the methodology behind it second i'm",
    "start": "226560",
    "end": "229680"
  },
  {
    "text": "going to talk about use case fit",
    "start": "229680",
    "end": "231360"
  },
  {
    "text": "there's a handful of use cases which",
    "start": "231360",
    "end": "233360"
  },
  {
    "text": "which i think are a great fit for this",
    "start": "233360",
    "end": "234879"
  },
  {
    "text": "and some that are not",
    "start": "234879",
    "end": "237439"
  },
  {
    "text": "and lastly i'll walk through a recent",
    "start": "237439",
    "end": "238799"
  },
  {
    "text": "example where we've seen this provide a",
    "start": "238799",
    "end": "240400"
  },
  {
    "text": "lot of value to our users",
    "start": "240400",
    "end": "243760"
  },
  {
    "text": "so first and foremost chap is our",
    "start": "244640",
    "end": "247200"
  },
  {
    "text": "platform for running",
    "start": "247200",
    "end": "248560"
  },
  {
    "text": "experiments at netflix it originally",
    "start": "248560",
    "end": "251200"
  },
  {
    "text": "started out as our chaos platform which",
    "start": "251200",
    "end": "253439"
  },
  {
    "text": "is where it got its name it actually",
    "start": "253439",
    "end": "254879"
  },
  {
    "text": "stands for chaos automation platform",
    "start": "254879",
    "end": "257440"
  },
  {
    "text": "um because we were focused on chaos we",
    "start": "257440",
    "end": "259919"
  },
  {
    "text": "had a lot of emphasis",
    "start": "259919",
    "end": "261120"
  },
  {
    "text": "on safety mechanisms guard rails",
    "start": "261120",
    "end": "263120"
  },
  {
    "text": "reducing blast radius",
    "start": "263120",
    "end": "264960"
  },
  {
    "text": "and as we got further into it we",
    "start": "264960",
    "end": "266960"
  },
  {
    "text": "realized that",
    "start": "266960",
    "end": "268000"
  },
  {
    "text": "all of these things really could provide",
    "start": "268000",
    "end": "269759"
  },
  {
    "text": "a lot of value in",
    "start": "269759",
    "end": "271199"
  },
  {
    "text": "additional use cases outside of chaos so",
    "start": "271199",
    "end": "273680"
  },
  {
    "text": "we've been working to expand",
    "start": "273680",
    "end": "275120"
  },
  {
    "text": "the offerings",
    "start": "275120",
    "end": "277919"
  },
  {
    "text": "so at its core chap is a canary platform",
    "start": "278560",
    "end": "281840"
  },
  {
    "text": "now what i mean by that",
    "start": "281840",
    "end": "283520"
  },
  {
    "text": "is we have our production systems and we",
    "start": "283520",
    "end": "286320"
  },
  {
    "text": "allocate users meaning we take a",
    "start": "286320",
    "end": "288160"
  },
  {
    "text": "fraction of the traffic that is in",
    "start": "288160",
    "end": "290240"
  },
  {
    "text": "production",
    "start": "290240",
    "end": "291199"
  },
  {
    "text": "and we siphon that off and we send 50 of",
    "start": "291199",
    "end": "293759"
  },
  {
    "text": "it to a control group which is treated",
    "start": "293759",
    "end": "295280"
  },
  {
    "text": "just like production",
    "start": "295280",
    "end": "296479"
  },
  {
    "text": "and we send 50 of it to the experiment",
    "start": "296479",
    "end": "298560"
  },
  {
    "text": "group which",
    "start": "298560",
    "end": "299759"
  },
  {
    "text": "gets some sort of treatment or change in",
    "start": "299759",
    "end": "301440"
  },
  {
    "text": "behavior now what this does is it allows",
    "start": "301440",
    "end": "304160"
  },
  {
    "text": "us to limit the blast radius of any",
    "start": "304160",
    "end": "305759"
  },
  {
    "text": "experiment",
    "start": "305759",
    "end": "307120"
  },
  {
    "text": "it also lets us measure the impact so we",
    "start": "307120",
    "end": "309360"
  },
  {
    "text": "can we have two",
    "start": "309360",
    "end": "310400"
  },
  {
    "text": "sets of metrics which we can look at and",
    "start": "310400",
    "end": "312160"
  },
  {
    "text": "measure if",
    "start": "312160",
    "end": "313600"
  },
  {
    "text": "the experiment group is causing any",
    "start": "313600",
    "end": "315759"
  },
  {
    "text": "issues compared to the control group",
    "start": "315759",
    "end": "318479"
  },
  {
    "text": "and we can shut off the experiment very",
    "start": "318479",
    "end": "320160"
  },
  {
    "text": "quickly because we're controlling that",
    "start": "320160",
    "end": "321919"
  },
  {
    "text": "traffic that is flowing",
    "start": "321919",
    "end": "325840"
  },
  {
    "text": "now when we look at allocation",
    "start": "326880",
    "end": "328560"
  },
  {
    "text": "strategies there's two ways of",
    "start": "328560",
    "end": "330639"
  },
  {
    "text": "allocating users to an experiment",
    "start": "330639",
    "end": "332960"
  },
  {
    "text": "traditionally at netflix deployment",
    "start": "332960",
    "end": "334639"
  },
  {
    "text": "canaries have used a non-sticky approach",
    "start": "334639",
    "end": "337759"
  },
  {
    "text": "this means that new server groups are",
    "start": "337759",
    "end": "339280"
  },
  {
    "text": "brought up and individual requests are",
    "start": "339280",
    "end": "341840"
  },
  {
    "text": "routed through normal load balancing",
    "start": "341840",
    "end": "343360"
  },
  {
    "text": "mechanisms",
    "start": "343360",
    "end": "344880"
  },
  {
    "text": "so if this is round robin for you in",
    "start": "344880",
    "end": "346800"
  },
  {
    "text": "production your canary will also see",
    "start": "346800",
    "end": "348960"
  },
  {
    "text": "receive round-robin traffic just like it",
    "start": "348960",
    "end": "351120"
  },
  {
    "text": "does",
    "start": "351120",
    "end": "353120"
  },
  {
    "text": "this means that retries are likely to",
    "start": "353120",
    "end": "354720"
  },
  {
    "text": "fall back to a production instance",
    "start": "354720",
    "end": "356479"
  },
  {
    "text": "and succeed which makes the approach",
    "start": "356479",
    "end": "358960"
  },
  {
    "text": "relatively low risk to the end user",
    "start": "358960",
    "end": "361280"
  },
  {
    "text": "but it can hide certain types of error",
    "start": "361280",
    "end": "364840"
  },
  {
    "text": "signals",
    "start": "364840",
    "end": "366160"
  },
  {
    "text": "so for chap we really wanted to be able",
    "start": "366160",
    "end": "368000"
  },
  {
    "text": "to tie",
    "start": "368000",
    "end": "369199"
  },
  {
    "text": "the experiment to the end user so in",
    "start": "369199",
    "end": "372000"
  },
  {
    "text": "order to do that we've come up with a",
    "start": "372000",
    "end": "374000"
  },
  {
    "text": "different kind of allocation strategy",
    "start": "374000",
    "end": "375600"
  },
  {
    "text": "which we call sticky",
    "start": "375600",
    "end": "378000"
  },
  {
    "text": "in this mode users are allocated to the",
    "start": "378000",
    "end": "380639"
  },
  {
    "text": "experiment for the duration",
    "start": "380639",
    "end": "382319"
  },
  {
    "text": "of the test and other other dimensions",
    "start": "382319",
    "end": "385680"
  },
  {
    "text": "can also be used for filtering such as",
    "start": "385680",
    "end": "387199"
  },
  {
    "text": "device type or member status",
    "start": "387199",
    "end": "389759"
  },
  {
    "text": "you can think of this as like a mini",
    "start": "389759",
    "end": "391280"
  },
  {
    "text": "product a b test so it's",
    "start": "391280",
    "end": "393120"
  },
  {
    "text": "short-lived usually around 45 minutes to",
    "start": "393120",
    "end": "396160"
  },
  {
    "text": "an hour",
    "start": "396160",
    "end": "397440"
  },
  {
    "text": "and users are in the experiment for the",
    "start": "397440",
    "end": "399199"
  },
  {
    "text": "duration",
    "start": "399199",
    "end": "401520"
  },
  {
    "text": "this means the retries always receive",
    "start": "401520",
    "end": "403360"
  },
  {
    "text": "the same treatment so you don't lose",
    "start": "403360",
    "end": "405360"
  },
  {
    "text": "signals",
    "start": "405360",
    "end": "406240"
  },
  {
    "text": "and it actually amplifies error signals",
    "start": "406240",
    "end": "408160"
  },
  {
    "text": "for you so it makes them easier to see",
    "start": "408160",
    "end": "410560"
  },
  {
    "text": "but this also makes the strategy higher",
    "start": "410560",
    "end": "412319"
  },
  {
    "text": "risk to the end user so you really have",
    "start": "412319",
    "end": "414080"
  },
  {
    "text": "to account for that when you're building",
    "start": "414080",
    "end": "415360"
  },
  {
    "text": "your platform",
    "start": "415360",
    "end": "418000"
  },
  {
    "text": "now what does this look like in practice",
    "start": "418319",
    "end": "420240"
  },
  {
    "text": "at netflix",
    "start": "420240",
    "end": "421360"
  },
  {
    "text": "so we have our gray boxes over here are",
    "start": "421360",
    "end": "424000"
  },
  {
    "text": "our services",
    "start": "424000",
    "end": "425280"
  },
  {
    "text": "and we have chap which is our",
    "start": "425280",
    "end": "426479"
  },
  {
    "text": "orchestration platform",
    "start": "426479",
    "end": "429120"
  },
  {
    "text": "chap will begin an experiment by",
    "start": "429120",
    "end": "430800"
  },
  {
    "text": "spinning up any sort of controller",
    "start": "430800",
    "end": "432880"
  },
  {
    "text": "experiment",
    "start": "432880",
    "end": "434080"
  },
  {
    "text": "infrastructure so these would be new",
    "start": "434080",
    "end": "435599"
  },
  {
    "text": "clusters",
    "start": "435599",
    "end": "438160"
  },
  {
    "text": "we can then use a traffic control plane",
    "start": "438240",
    "end": "440639"
  },
  {
    "text": "which publishes information to the edge",
    "start": "440639",
    "end": "442639"
  },
  {
    "text": "proxy layer",
    "start": "442639",
    "end": "444720"
  },
  {
    "text": "that layer has a servlet filter in it",
    "start": "444720",
    "end": "447039"
  },
  {
    "text": "which will actually perform",
    "start": "447039",
    "end": "448319"
  },
  {
    "text": "the allocation that we need and add",
    "start": "448319",
    "end": "450560"
  },
  {
    "text": "headers to every request",
    "start": "450560",
    "end": "452000"
  },
  {
    "text": "indicating which group it's in and what",
    "start": "452000",
    "end": "454560"
  },
  {
    "text": "experiment it's part of",
    "start": "454560",
    "end": "457360"
  },
  {
    "text": "as those headers propagate throughout",
    "start": "457360",
    "end": "459120"
  },
  {
    "text": "the stack at some point",
    "start": "459120",
    "end": "461680"
  },
  {
    "text": "in this case an ipc client will",
    "start": "461680",
    "end": "463520"
  },
  {
    "text": "recognize that it has a header that it",
    "start": "463520",
    "end": "464960"
  },
  {
    "text": "needs to take action on",
    "start": "464960",
    "end": "467039"
  },
  {
    "text": "so in this case it'll say i have a route",
    "start": "467039",
    "end": "468879"
  },
  {
    "text": "override so instead of sending traffic",
    "start": "468879",
    "end": "470800"
  },
  {
    "text": "to d i'm going to send it to d control",
    "start": "470800",
    "end": "472800"
  },
  {
    "text": "group or d experiment group",
    "start": "472800",
    "end": "476160"
  },
  {
    "text": "while this is happening we also have",
    "start": "476160",
    "end": "478160"
  },
  {
    "text": "real-time monitoring which is looking at",
    "start": "478160",
    "end": "479919"
  },
  {
    "text": "a collection of metrics to decide if the",
    "start": "479919",
    "end": "481680"
  },
  {
    "text": "experiment",
    "start": "481680",
    "end": "482400"
  },
  {
    "text": "is having a negative impact or not and",
    "start": "482400",
    "end": "485039"
  },
  {
    "text": "then at the end of the experiment when",
    "start": "485039",
    "end": "486639"
  },
  {
    "text": "everything is done we have us",
    "start": "486639",
    "end": "488400"
  },
  {
    "text": "we run statistical analysis over a wider",
    "start": "488400",
    "end": "490560"
  },
  {
    "text": "range of metrics to look for other",
    "start": "490560",
    "end": "491840"
  },
  {
    "text": "deviations and signals",
    "start": "491840",
    "end": "495120"
  },
  {
    "text": "now i'd like to call out here that the",
    "start": "496879",
    "end": "498479"
  },
  {
    "text": "change in behavior doesn't have to be a",
    "start": "498479",
    "end": "500160"
  },
  {
    "text": "route override",
    "start": "500160",
    "end": "501120"
  },
  {
    "text": "so in my in my example it was the header",
    "start": "501120",
    "end": "503360"
  },
  {
    "text": "said instead of routing traffic to d",
    "start": "503360",
    "end": "505440"
  },
  {
    "text": "router to d controller d experiment but",
    "start": "505440",
    "end": "507759"
  },
  {
    "text": "you can really build in headers that",
    "start": "507759",
    "end": "509280"
  },
  {
    "text": "could drive",
    "start": "509280",
    "end": "509840"
  },
  {
    "text": "any change in behavior that you want to",
    "start": "509840",
    "end": "511360"
  },
  {
    "text": "test so for us we have a couple of",
    "start": "511360",
    "end": "514080"
  },
  {
    "text": "others",
    "start": "514080",
    "end": "515039"
  },
  {
    "text": "one of those is data overrides so we",
    "start": "515039",
    "end": "517279"
  },
  {
    "text": "have a header that says",
    "start": "517279",
    "end": "518399"
  },
  {
    "text": "instead of pulling information from the",
    "start": "518399",
    "end": "520640"
  },
  {
    "text": "normal production key space",
    "start": "520640",
    "end": "522560"
  },
  {
    "text": "pull up from a canary key space and what",
    "start": "522560",
    "end": "524959"
  },
  {
    "text": "this does is it can return different",
    "start": "524959",
    "end": "526399"
  },
  {
    "text": "responses for those in the experiment",
    "start": "526399",
    "end": "528320"
  },
  {
    "text": "group",
    "start": "528320",
    "end": "528880"
  },
  {
    "text": "and continue to do so so that you",
    "start": "528880",
    "end": "530640"
  },
  {
    "text": "actually see if that new data",
    "start": "530640",
    "end": "532720"
  },
  {
    "text": "will break users",
    "start": "532720",
    "end": "535839"
  },
  {
    "text": "another example is fault injection as i",
    "start": "536080",
    "end": "538480"
  },
  {
    "text": "mentioned earlier this",
    "start": "538480",
    "end": "539680"
  },
  {
    "text": "started out as a chaos platform so we",
    "start": "539680",
    "end": "542160"
  },
  {
    "text": "have the ability to inject failure or",
    "start": "542160",
    "end": "544399"
  },
  {
    "text": "latency at any given ipc",
    "start": "544399",
    "end": "546560"
  },
  {
    "text": "or cache layer",
    "start": "546560",
    "end": "549760"
  },
  {
    "text": "and so that way you can do things like",
    "start": "549760",
    "end": "551680"
  },
  {
    "text": "show me what it's like if all users",
    "start": "551680",
    "end": "553519"
  },
  {
    "text": "experience a failure",
    "start": "553519",
    "end": "555120"
  },
  {
    "text": "in service d",
    "start": "555120",
    "end": "562320"
  },
  {
    "text": "the key to making all of this work is",
    "start": "562320",
    "end": "564240"
  },
  {
    "text": "safety and guardrails and we have a lot",
    "start": "564240",
    "end": "566160"
  },
  {
    "text": "of that we limit the blast radius we",
    "start": "566160",
    "end": "568000"
  },
  {
    "text": "have alerting in place to catch things",
    "start": "568000",
    "end": "570080"
  },
  {
    "text": "that aren't looking good we cap the",
    "start": "570080",
    "end": "572720"
  },
  {
    "text": "traffic so",
    "start": "572720",
    "end": "573600"
  },
  {
    "text": "any region doesn't get too much",
    "start": "573600",
    "end": "575440"
  },
  {
    "text": "experimentation going on at any given",
    "start": "575440",
    "end": "577360"
  },
  {
    "text": "point in time",
    "start": "577360",
    "end": "578720"
  },
  {
    "text": "but the single most important aspect of",
    "start": "578720",
    "end": "581680"
  },
  {
    "text": "safety that we have in place",
    "start": "581680",
    "end": "583200"
  },
  {
    "text": "is the kpi monitoring",
    "start": "583200",
    "end": "586560"
  },
  {
    "text": "now what this looks like in practice",
    "start": "586560",
    "end": "588560"
  },
  {
    "text": "here's an example dashboard",
    "start": "588560",
    "end": "591279"
  },
  {
    "text": "we've talked earlier that sps is our key",
    "start": "591279",
    "end": "593600"
  },
  {
    "text": "performance indicator for the product",
    "start": "593600",
    "end": "595839"
  },
  {
    "text": "so what you'll actually see here is we",
    "start": "595839",
    "end": "597839"
  },
  {
    "text": "have three columns",
    "start": "597839",
    "end": "599519"
  },
  {
    "text": "the first two columns are server and",
    "start": "599519",
    "end": "602160"
  },
  {
    "text": "client views of sps signal",
    "start": "602160",
    "end": "604399"
  },
  {
    "text": "so like what the server thinks it's",
    "start": "604399",
    "end": "606240"
  },
  {
    "text": "handing out and then",
    "start": "606240",
    "end": "607519"
  },
  {
    "text": "what the clients are actually seeing the",
    "start": "607519",
    "end": "610160"
  },
  {
    "text": "top",
    "start": "610160",
    "end": "610560"
  },
  {
    "text": "row is successes and the bottom row is",
    "start": "610560",
    "end": "613200"
  },
  {
    "text": "failures",
    "start": "613200",
    "end": "614880"
  },
  {
    "text": "the third column over here is another",
    "start": "614880",
    "end": "616560"
  },
  {
    "text": "variation of our",
    "start": "616560",
    "end": "618000"
  },
  {
    "text": "key performance indicator and that is",
    "start": "618000",
    "end": "619680"
  },
  {
    "text": "downloads per second",
    "start": "619680",
    "end": "621200"
  },
  {
    "text": "so users that are downloading content",
    "start": "621200",
    "end": "623200"
  },
  {
    "text": "rather than streaming it will show up in",
    "start": "623200",
    "end": "624800"
  },
  {
    "text": "that column",
    "start": "624800",
    "end": "626880"
  },
  {
    "text": "as you can see in this particular test",
    "start": "626880",
    "end": "629040"
  },
  {
    "text": "we saw a depreciation",
    "start": "629040",
    "end": "634000"
  },
  {
    "text": "a reduction in successes for all three",
    "start": "634000",
    "end": "637279"
  },
  {
    "text": "metrics",
    "start": "637279",
    "end": "637920"
  },
  {
    "text": "server sps client sps and downloads per",
    "start": "637920",
    "end": "640720"
  },
  {
    "text": "second",
    "start": "640720",
    "end": "641519"
  },
  {
    "text": "and we saw an increase in errors for the",
    "start": "641519",
    "end": "643279"
  },
  {
    "text": "downloads and in this particular case we",
    "start": "643279",
    "end": "645680"
  },
  {
    "text": "shut the experiment down within about",
    "start": "645680",
    "end": "647360"
  },
  {
    "text": "two and a half minutes from the start of",
    "start": "647360",
    "end": "648880"
  },
  {
    "text": "the test",
    "start": "648880",
    "end": "651360"
  },
  {
    "text": "when that happens the user will see",
    "start": "651680",
    "end": "655040"
  },
  {
    "text": "that the test case failed it'll actually",
    "start": "655040",
    "end": "657120"
  },
  {
    "text": "get the status of short meaning that we",
    "start": "657120",
    "end": "658720"
  },
  {
    "text": "weren't able to run it to completion",
    "start": "658720",
    "end": "661279"
  },
  {
    "text": "uh they'll get the explanation of which",
    "start": "661279",
    "end": "663200"
  },
  {
    "text": "kpi actually triggered the shutdown",
    "start": "663200",
    "end": "665440"
  },
  {
    "text": "and why and then they also get a bunch",
    "start": "665440",
    "end": "668480"
  },
  {
    "text": "of links that allow them to dig deeper",
    "start": "668480",
    "end": "671040"
  },
  {
    "text": "so this could be the s3 logs that are",
    "start": "671040",
    "end": "673839"
  },
  {
    "text": "pulled off the instances themselves",
    "start": "673839",
    "end": "676079"
  },
  {
    "text": "it could be dashboards that show",
    "start": "676079",
    "end": "677519"
  },
  {
    "text": "performance metrics",
    "start": "677519",
    "end": "679600"
  },
  {
    "text": "and it can also be detailed insights",
    "start": "679600",
    "end": "682720"
  },
  {
    "text": "that we capture in elasticsearch",
    "start": "682720",
    "end": "685519"
  },
  {
    "text": "so one of the things that we really",
    "start": "685519",
    "end": "686880"
  },
  {
    "text": "wanted to make sure of is if we have a",
    "start": "686880",
    "end": "688560"
  },
  {
    "text": "test that fails",
    "start": "688560",
    "end": "689519"
  },
  {
    "text": "that we can provide more context to",
    "start": "689519",
    "end": "691200"
  },
  {
    "text": "users which allow them to debug the",
    "start": "691200",
    "end": "693360"
  },
  {
    "text": "problem without them having to rerun the",
    "start": "693360",
    "end": "695120"
  },
  {
    "text": "test",
    "start": "695120",
    "end": "696000"
  },
  {
    "text": "if we know it's going to cause problems",
    "start": "696000",
    "end": "697360"
  },
  {
    "text": "for users we don't want to keep running",
    "start": "697360",
    "end": "698959"
  },
  {
    "text": "it",
    "start": "698959",
    "end": "700560"
  },
  {
    "text": "so we log a bunch of information that",
    "start": "700560",
    "end": "702720"
  },
  {
    "text": "allows for deep linking into other",
    "start": "702720",
    "end": "704399"
  },
  {
    "text": "debugging tools",
    "start": "704399",
    "end": "705680"
  },
  {
    "text": "trace ids session ids so users can",
    "start": "705680",
    "end": "708959"
  },
  {
    "text": "really dig deep and find",
    "start": "708959",
    "end": "710480"
  },
  {
    "text": "stack choices or or what's going on with",
    "start": "710480",
    "end": "713120"
  },
  {
    "text": "the system",
    "start": "713120",
    "end": "714000"
  },
  {
    "text": "and get enough information to reproduce",
    "start": "714000",
    "end": "715680"
  },
  {
    "text": "it and and solve the problem without",
    "start": "715680",
    "end": "717519"
  },
  {
    "text": "having to rerun the test",
    "start": "717519",
    "end": "720639"
  },
  {
    "text": "also at the end of the test we run a",
    "start": "722079",
    "end": "723600"
  },
  {
    "text": "bunch of additional canary analysis",
    "start": "723600",
    "end": "725440"
  },
  {
    "text": "and so this is this particular example",
    "start": "725440",
    "end": "728959"
  },
  {
    "text": "is a bunch of system",
    "start": "728959",
    "end": "730000"
  },
  {
    "text": "metrics so you can see that in this case",
    "start": "730000",
    "end": "732480"
  },
  {
    "text": "the latency increased",
    "start": "732480",
    "end": "734160"
  },
  {
    "text": "and um that might indicate",
    "start": "734160",
    "end": "737920"
  },
  {
    "text": "what is causing the problem for your",
    "start": "737920",
    "end": "739519"
  },
  {
    "text": "users and so you could dig into that",
    "start": "739519",
    "end": "742839"
  },
  {
    "text": "further",
    "start": "742839",
    "end": "745519"
  },
  {
    "text": "overall this has become a pretty useful",
    "start": "745519",
    "end": "747680"
  },
  {
    "text": "tool for developers",
    "start": "747680",
    "end": "749120"
  },
  {
    "text": "it's allowed them to build confidence",
    "start": "749120",
    "end": "751120"
  },
  {
    "text": "and changes before rolling them out to",
    "start": "751120",
    "end": "752880"
  },
  {
    "text": "production",
    "start": "752880",
    "end": "755360"
  },
  {
    "text": "and i think a large part of that is",
    "start": "755360",
    "end": "757040"
  },
  {
    "text": "because we are focusing on",
    "start": "757040",
    "end": "759360"
  },
  {
    "text": "the business kpis that matter we're",
    "start": "759360",
    "end": "761440"
  },
  {
    "text": "focusing on our end users rather than a",
    "start": "761440",
    "end": "763440"
  },
  {
    "text": "proxy metric",
    "start": "763440",
    "end": "764800"
  },
  {
    "text": "so with traditional canaries it can be",
    "start": "764800",
    "end": "767279"
  },
  {
    "text": "easy to sit there and look and you say",
    "start": "767279",
    "end": "768880"
  },
  {
    "text": "oh i have a three percent",
    "start": "768880",
    "end": "770399"
  },
  {
    "text": "increase in cpu utilization is the safe",
    "start": "770399",
    "end": "772639"
  },
  {
    "text": "to push or not it's really hard to",
    "start": "772639",
    "end": "774160"
  },
  {
    "text": "decide",
    "start": "774160",
    "end": "774959"
  },
  {
    "text": "but if you can tie that directly to the",
    "start": "774959",
    "end": "776560"
  },
  {
    "text": "user and see that they're not negatively",
    "start": "776560",
    "end": "778160"
  },
  {
    "text": "affected",
    "start": "778160",
    "end": "779200"
  },
  {
    "text": "then it brings a lot of that confidence",
    "start": "779200",
    "end": "781120"
  },
  {
    "text": "to our users",
    "start": "781120",
    "end": "782240"
  },
  {
    "text": "and and they can always follow up on the",
    "start": "782240",
    "end": "784800"
  },
  {
    "text": "performance degradations in other ways",
    "start": "784800",
    "end": "788800"
  },
  {
    "text": "so besides confidence building we've",
    "start": "789839",
    "end": "792560"
  },
  {
    "text": "also seen a couple of other side",
    "start": "792560",
    "end": "793920"
  },
  {
    "text": "benefits associated with sticky canaries",
    "start": "793920",
    "end": "796880"
  },
  {
    "text": "one of those is that we've seen reduced",
    "start": "796880",
    "end": "798639"
  },
  {
    "text": "experiment durations",
    "start": "798639",
    "end": "800320"
  },
  {
    "text": "so typical deployment canaries at",
    "start": "800320",
    "end": "802480"
  },
  {
    "text": "netflix took at least two hours",
    "start": "802480",
    "end": "805200"
  },
  {
    "text": "and that's just to get enough",
    "start": "805200",
    "end": "806320"
  },
  {
    "text": "statistical power to be able to make a",
    "start": "806320",
    "end": "808399"
  },
  {
    "text": "decision one way or the other",
    "start": "808399",
    "end": "810399"
  },
  {
    "text": "from per minute uh signals and proxy",
    "start": "810399",
    "end": "813920"
  },
  {
    "text": "metrics",
    "start": "813920",
    "end": "815360"
  },
  {
    "text": "whereas with chat sticky canaries we've",
    "start": "815360",
    "end": "817600"
  },
  {
    "text": "seen that we can get a pretty solid",
    "start": "817600",
    "end": "819279"
  },
  {
    "text": "signal within about 45 minutes",
    "start": "819279",
    "end": "821519"
  },
  {
    "text": "the speeds up deployment pipelines",
    "start": "821519",
    "end": "824560"
  },
  {
    "text": "and a large part of that is because",
    "start": "824560",
    "end": "825920"
  },
  {
    "text": "we're taking per second snapshots of the",
    "start": "825920",
    "end": "828160"
  },
  {
    "text": "customer kpis",
    "start": "828160",
    "end": "829600"
  },
  {
    "text": "so not only are we looking at non-proxy",
    "start": "829600",
    "end": "832560"
  },
  {
    "text": "metrics we're also getting a much higher",
    "start": "832560",
    "end": "834800"
  },
  {
    "text": "volume signal",
    "start": "834800",
    "end": "837600"
  },
  {
    "text": "another side benefit is reduced time to",
    "start": "838160",
    "end": "840160"
  },
  {
    "text": "detect issues so traditional deployment",
    "start": "840160",
    "end": "842320"
  },
  {
    "text": "canaries will usually find a problem and",
    "start": "842320",
    "end": "844399"
  },
  {
    "text": "shut it down within about 20 minutes",
    "start": "844399",
    "end": "846399"
  },
  {
    "text": "again that's due to the per minute",
    "start": "846399",
    "end": "848000"
  },
  {
    "text": "granularity of data",
    "start": "848000",
    "end": "849600"
  },
  {
    "text": "and the fact that we're looking at proxy",
    "start": "849600",
    "end": "852800"
  },
  {
    "text": "metrics",
    "start": "852800",
    "end": "853839"
  },
  {
    "text": "in this case we can typically shut it",
    "start": "853839",
    "end": "855519"
  },
  {
    "text": "down within two to three minutes",
    "start": "855519",
    "end": "858959"
  },
  {
    "text": "all right so i've showed you the",
    "start": "861519",
    "end": "862880"
  },
  {
    "text": "platform and the key features that make",
    "start": "862880",
    "end": "864639"
  },
  {
    "text": "it up",
    "start": "864639",
    "end": "865120"
  },
  {
    "text": "now i'd like to talk through use case",
    "start": "865120",
    "end": "866800"
  },
  {
    "text": "fit i have a handful of use cases which",
    "start": "866800",
    "end": "869199"
  },
  {
    "text": "are a great fit and a couple that may",
    "start": "869199",
    "end": "870720"
  },
  {
    "text": "not be",
    "start": "870720",
    "end": "873120"
  },
  {
    "text": "first of all migrations migrations have",
    "start": "873760",
    "end": "875680"
  },
  {
    "text": "been a great example",
    "start": "875680",
    "end": "877040"
  },
  {
    "text": "of where sticky canaries can really",
    "start": "877040",
    "end": "878800"
  },
  {
    "text": "benefit you as you see in this picture",
    "start": "878800",
    "end": "882639"
  },
  {
    "text": "these two items were built to the same",
    "start": "882639",
    "end": "884480"
  },
  {
    "text": "spec but they're clearly not compatible",
    "start": "884480",
    "end": "886720"
  },
  {
    "text": "so it can sometimes be hard to maintain",
    "start": "886720",
    "end": "888880"
  },
  {
    "text": "like",
    "start": "888880",
    "end": "890000"
  },
  {
    "text": "to identify implicit assumptions even if",
    "start": "890000",
    "end": "892079"
  },
  {
    "text": "you maintain backwards compatibility in",
    "start": "892079",
    "end": "893680"
  },
  {
    "text": "an interface",
    "start": "893680",
    "end": "895120"
  },
  {
    "text": "so this is one example where we found",
    "start": "895120",
    "end": "897600"
  },
  {
    "text": "that migrations",
    "start": "897600",
    "end": "898959"
  },
  {
    "text": "are a nice way to pull those implicit",
    "start": "898959",
    "end": "901440"
  },
  {
    "text": "assumptions forward",
    "start": "901440",
    "end": "902880"
  },
  {
    "text": "and surface them to users before they",
    "start": "902880",
    "end": "904639"
  },
  {
    "text": "roll out more broadly",
    "start": "904639",
    "end": "907680"
  },
  {
    "text": "the next example is life cycle",
    "start": "908399",
    "end": "910079"
  },
  {
    "text": "interactions so in our",
    "start": "910079",
    "end": "912480"
  },
  {
    "text": "case for playback we have a manifest",
    "start": "912480",
    "end": "916240"
  },
  {
    "text": "which can affect a license call",
    "start": "916240",
    "end": "918000"
  },
  {
    "text": "downstream which can also",
    "start": "918000",
    "end": "919680"
  },
  {
    "text": "affect the start play call from the",
    "start": "919680",
    "end": "921600"
  },
  {
    "text": "client perspective",
    "start": "921600",
    "end": "922800"
  },
  {
    "text": "so these three things are actually",
    "start": "922800",
    "end": "924720"
  },
  {
    "text": "linked and so a sticky canary",
    "start": "924720",
    "end": "927199"
  },
  {
    "text": "because you're always getting the same",
    "start": "927199",
    "end": "929519"
  },
  {
    "text": "experience for the same users",
    "start": "929519",
    "end": "931519"
  },
  {
    "text": "will magnify any problems so if",
    "start": "931519",
    "end": "934000"
  },
  {
    "text": "something happens in manifest",
    "start": "934000",
    "end": "935920"
  },
  {
    "text": "which causes a problem in license you're",
    "start": "935920",
    "end": "937839"
  },
  {
    "text": "going to see that in the customer kpi",
    "start": "937839",
    "end": "939839"
  },
  {
    "text": "metrics",
    "start": "939839",
    "end": "940639"
  },
  {
    "text": "whereas with the traditional canary a",
    "start": "940639",
    "end": "943040"
  },
  {
    "text": "problem in manifest",
    "start": "943040",
    "end": "944560"
  },
  {
    "text": "might cause a problem in license but",
    "start": "944560",
    "end": "946399"
  },
  {
    "text": "when the user retries",
    "start": "946399",
    "end": "949040"
  },
  {
    "text": "they go through just fine because they",
    "start": "949040",
    "end": "950480"
  },
  {
    "text": "fall back to a production instance",
    "start": "950480",
    "end": "953120"
  },
  {
    "text": "so this actually allows um allows us to",
    "start": "953120",
    "end": "956320"
  },
  {
    "text": "see those life cycle interactions and",
    "start": "956320",
    "end": "957920"
  },
  {
    "text": "how",
    "start": "957920",
    "end": "958560"
  },
  {
    "text": "how they're affected before rolling out",
    "start": "958560",
    "end": "960639"
  },
  {
    "text": "broadly into production",
    "start": "960639",
    "end": "963839"
  },
  {
    "text": "uh third is data changes so",
    "start": "965279",
    "end": "968560"
  },
  {
    "text": "this could be configuration it could be",
    "start": "968560",
    "end": "970800"
  },
  {
    "text": "a backing data store",
    "start": "970800",
    "end": "972639"
  },
  {
    "text": "but regardless data may originate from",
    "start": "972639",
    "end": "974880"
  },
  {
    "text": "one service but be consumed by several",
    "start": "974880",
    "end": "976800"
  },
  {
    "text": "other services and client devices",
    "start": "976800",
    "end": "980160"
  },
  {
    "text": "what that means is you actually want",
    "start": "980160",
    "end": "982240"
  },
  {
    "text": "your users",
    "start": "982240",
    "end": "983839"
  },
  {
    "text": "in the test to see the same data",
    "start": "983839",
    "end": "986240"
  },
  {
    "text": "regardless of where in the system",
    "start": "986240",
    "end": "987680"
  },
  {
    "text": "they're pulling it from",
    "start": "987680",
    "end": "989040"
  },
  {
    "text": "and so a sticky canary allows that to",
    "start": "989040",
    "end": "991199"
  },
  {
    "text": "happen",
    "start": "991199",
    "end": "993519"
  },
  {
    "text": "lastly chaos experiments this is the",
    "start": "994399",
    "end": "997440"
  },
  {
    "text": "core",
    "start": "997440",
    "end": "997839"
  },
  {
    "text": "of what we originally built uh but",
    "start": "997839",
    "end": "1000240"
  },
  {
    "text": "basically",
    "start": "1000240",
    "end": "1000880"
  },
  {
    "text": "when a microservice outage occurs it",
    "start": "1000880",
    "end": "1002639"
  },
  {
    "text": "happens across the board",
    "start": "1002639",
    "end": "1004240"
  },
  {
    "text": "typically or it goes latent across the",
    "start": "1004240",
    "end": "1006000"
  },
  {
    "text": "board so a sticky experiment can",
    "start": "1006000",
    "end": "1007839"
  },
  {
    "text": "actually let you see what it looks like",
    "start": "1007839",
    "end": "1009360"
  },
  {
    "text": "when that happens",
    "start": "1009360",
    "end": "1010560"
  },
  {
    "text": "so you may be resilient to a failure on",
    "start": "1010560",
    "end": "1013759"
  },
  {
    "text": "one service but not another and a sticky",
    "start": "1013759",
    "end": "1015839"
  },
  {
    "text": "canary will be able to show you that",
    "start": "1015839",
    "end": "1019440"
  },
  {
    "text": "so what doesn't work so well with sticky",
    "start": "1020800",
    "end": "1022839"
  },
  {
    "text": "canaries",
    "start": "1022839",
    "end": "1024079"
  },
  {
    "text": "the first example is low volume services",
    "start": "1024079",
    "end": "1027199"
  },
  {
    "text": "this is actually a problem with",
    "start": "1027199",
    "end": "1028480"
  },
  {
    "text": "traditional non-sticky canaries as well",
    "start": "1028480",
    "end": "1030720"
  },
  {
    "text": "but if you don't have enough traffic to",
    "start": "1030720",
    "end": "1032319"
  },
  {
    "text": "your service you're not going to be able",
    "start": "1032319",
    "end": "1034000"
  },
  {
    "text": "to get enough statistical power in order",
    "start": "1034000",
    "end": "1035918"
  },
  {
    "text": "to make a decision one way or the other",
    "start": "1035919",
    "end": "1038240"
  },
  {
    "text": "and by adding stickiness to it if you",
    "start": "1038240",
    "end": "1041199"
  },
  {
    "text": "can't monitor and decide whether to shut",
    "start": "1041199",
    "end": "1043120"
  },
  {
    "text": "it down you're actually putting those",
    "start": "1043120",
    "end": "1044319"
  },
  {
    "text": "users in a really bad position",
    "start": "1044319",
    "end": "1046558"
  },
  {
    "text": "so i recommended looking looking at",
    "start": "1046559",
    "end": "1048480"
  },
  {
    "text": "something like black box testing or",
    "start": "1048480",
    "end": "1050080"
  },
  {
    "text": "probing",
    "start": "1050080",
    "end": "1050960"
  },
  {
    "text": "some other mechanism for low volume",
    "start": "1050960",
    "end": "1052640"
  },
  {
    "text": "services",
    "start": "1052640",
    "end": "1055120"
  },
  {
    "text": "also if you don't have production",
    "start": "1055760",
    "end": "1057039"
  },
  {
    "text": "traffic so we currently don't have",
    "start": "1057039",
    "end": "1058799"
  },
  {
    "text": "anything today",
    "start": "1058799",
    "end": "1060240"
  },
  {
    "text": "that works in this way for services that",
    "start": "1060240",
    "end": "1063600"
  },
  {
    "text": "aren't in production yet so they don't",
    "start": "1063600",
    "end": "1065200"
  },
  {
    "text": "exist",
    "start": "1065200",
    "end": "1066000"
  },
  {
    "text": "there's no traffic to throw at them also",
    "start": "1066000",
    "end": "1069039"
  },
  {
    "text": "if you just",
    "start": "1069039",
    "end": "1070080"
  },
  {
    "text": "really want to be able to use synthetic",
    "start": "1070080",
    "end": "1071840"
  },
  {
    "text": "or shadow traffic",
    "start": "1071840",
    "end": "1073440"
  },
  {
    "text": "that also won't work because the power",
    "start": "1073440",
    "end": "1075760"
  },
  {
    "text": "of sticky really comes from being able",
    "start": "1075760",
    "end": "1077280"
  },
  {
    "text": "to get that signal about real users and",
    "start": "1077280",
    "end": "1079280"
  },
  {
    "text": "what's happening to them",
    "start": "1079280",
    "end": "1080640"
  },
  {
    "text": "and if you don't have the real users",
    "start": "1080640",
    "end": "1082320"
  },
  {
    "text": "sticky is not a good fit for you",
    "start": "1082320",
    "end": "1085679"
  },
  {
    "text": "lastly services which are not directly",
    "start": "1086880",
    "end": "1089600"
  },
  {
    "text": "related to the kpis that you're",
    "start": "1089600",
    "end": "1091200"
  },
  {
    "text": "monitoring",
    "start": "1091200",
    "end": "1092640"
  },
  {
    "text": "are not a good fit for sticky until you",
    "start": "1092640",
    "end": "1094559"
  },
  {
    "text": "add that monitoring in place",
    "start": "1094559",
    "end": "1096080"
  },
  {
    "text": "you don't want to run an experiment that",
    "start": "1096080",
    "end": "1098240"
  },
  {
    "text": "can fail and you not realize it",
    "start": "1098240",
    "end": "1100720"
  },
  {
    "text": "so for example for us we have really",
    "start": "1100720",
    "end": "1103520"
  },
  {
    "text": "good monitoring around sps",
    "start": "1103520",
    "end": "1105200"
  },
  {
    "text": "so we can cover all the services that",
    "start": "1105200",
    "end": "1107039"
  },
  {
    "text": "participate in those workflows",
    "start": "1107039",
    "end": "1108960"
  },
  {
    "text": "but we don't have great coverage for",
    "start": "1108960",
    "end": "1111039"
  },
  {
    "text": "sign up flows so we don't run sticky",
    "start": "1111039",
    "end": "1113039"
  },
  {
    "text": "canaries on those services yet",
    "start": "1113039",
    "end": "1116639"
  },
  {
    "text": "all right let's walk through a recent",
    "start": "1118480",
    "end": "1120640"
  },
  {
    "text": "example and see",
    "start": "1120640",
    "end": "1121760"
  },
  {
    "text": "how this is actually working in practice",
    "start": "1121760",
    "end": "1125360"
  },
  {
    "text": "it's been about five years since i did",
    "start": "1125360",
    "end": "1127039"
  },
  {
    "text": "that original migration",
    "start": "1127039",
    "end": "1128400"
  },
  {
    "text": "to move from on box to off box calls",
    "start": "1128400",
    "end": "1131679"
  },
  {
    "text": "which means it's really time for another",
    "start": "1131679",
    "end": "1133360"
  },
  {
    "text": "migration",
    "start": "1133360",
    "end": "1135200"
  },
  {
    "text": "um so the team my former team is",
    "start": "1135200",
    "end": "1138320"
  },
  {
    "text": "actually in the process",
    "start": "1138320",
    "end": "1139919"
  },
  {
    "text": "of spitting up a new grpc based service",
    "start": "1139919",
    "end": "1142880"
  },
  {
    "text": "that they're going to move traffic from",
    "start": "1142880",
    "end": "1144240"
  },
  {
    "text": "the rest based call over to the grpc",
    "start": "1144240",
    "end": "1146400"
  },
  {
    "text": "call",
    "start": "1146400",
    "end": "1148400"
  },
  {
    "text": "so what does this look like in practice",
    "start": "1148400",
    "end": "1150160"
  },
  {
    "text": "we have our edge proxy we have our",
    "start": "1150160",
    "end": "1151760"
  },
  {
    "text": "playback api lifecycle service",
    "start": "1151760",
    "end": "1154880"
  },
  {
    "text": "today in production that's talking to a",
    "start": "1154880",
    "end": "1156720"
  },
  {
    "text": "rest call",
    "start": "1156720",
    "end": "1158559"
  },
  {
    "text": "they've also now built this playback",
    "start": "1158559",
    "end": "1160400"
  },
  {
    "text": "manifest service grpc call",
    "start": "1160400",
    "end": "1162559"
  },
  {
    "text": "and that's what they want to start",
    "start": "1162559",
    "end": "1163600"
  },
  {
    "text": "moving traffic to",
    "start": "1163600",
    "end": "1165760"
  },
  {
    "text": "in preparation for running an experiment",
    "start": "1165760",
    "end": "1167919"
  },
  {
    "text": "they have also added a dial mechanism",
    "start": "1167919",
    "end": "1170160"
  },
  {
    "text": "in the client for the play api lifecycle",
    "start": "1170160",
    "end": "1172559"
  },
  {
    "text": "service",
    "start": "1172559",
    "end": "1173280"
  },
  {
    "text": "which will allow them to change traffic",
    "start": "1173280",
    "end": "1175520"
  },
  {
    "text": "and point it to the grpc service rather",
    "start": "1175520",
    "end": "1177520"
  },
  {
    "text": "than the wrist",
    "start": "1177520",
    "end": "1179200"
  },
  {
    "text": "so that means we can run an experiment",
    "start": "1179200",
    "end": "1181039"
  },
  {
    "text": "on it in chat",
    "start": "1181039",
    "end": "1183760"
  },
  {
    "text": "we will basically be able to spin up a",
    "start": "1183760",
    "end": "1185760"
  },
  {
    "text": "control cluster which still points to",
    "start": "1185760",
    "end": "1187840"
  },
  {
    "text": "the rest",
    "start": "1187840",
    "end": "1188480"
  },
  {
    "text": "path and we'll be able to spin up an",
    "start": "1188480",
    "end": "1190000"
  },
  {
    "text": "experiment cluster which points to the",
    "start": "1190000",
    "end": "1191520"
  },
  {
    "text": "grpc path",
    "start": "1191520",
    "end": "1192640"
  },
  {
    "text": "and we'll be able to monitor and see how",
    "start": "1192640",
    "end": "1194240"
  },
  {
    "text": "it goes",
    "start": "1194240",
    "end": "1196640"
  },
  {
    "text": "so what does this look like the user can",
    "start": "1197440",
    "end": "1199120"
  },
  {
    "text": "go into the tool and they can say",
    "start": "1199120",
    "end": "1201200"
  },
  {
    "text": "i want to run a sticky canary pick my",
    "start": "1201200",
    "end": "1203600"
  },
  {
    "text": "region pick my cluster",
    "start": "1203600",
    "end": "1205360"
  },
  {
    "text": "and give it a name um",
    "start": "1205360",
    "end": "1208400"
  },
  {
    "text": "if your code is not already out in",
    "start": "1208400",
    "end": "1210080"
  },
  {
    "text": "production",
    "start": "1210080",
    "end": "1211840"
  },
  {
    "text": "there's also a field where you could",
    "start": "1211840",
    "end": "1213360"
  },
  {
    "text": "provide your ami or your container id in",
    "start": "1213360",
    "end": "1215840"
  },
  {
    "text": "our case they already have the service",
    "start": "1215840",
    "end": "1217360"
  },
  {
    "text": "out so we don't need to do that",
    "start": "1217360",
    "end": "1220000"
  },
  {
    "text": "the point is you don't have to deploy it",
    "start": "1220000",
    "end": "1221520"
  },
  {
    "text": "first you can actually load that into",
    "start": "1221520",
    "end": "1223280"
  },
  {
    "text": "the test case",
    "start": "1223280",
    "end": "1225919"
  },
  {
    "text": "and you remember we talked about having",
    "start": "1226320",
    "end": "1227919"
  },
  {
    "text": "that dial which is a property that we",
    "start": "1227919",
    "end": "1229679"
  },
  {
    "text": "would turn we can actually set that on",
    "start": "1229679",
    "end": "1231280"
  },
  {
    "text": "the test case as well",
    "start": "1231280",
    "end": "1232400"
  },
  {
    "text": "and so anything that they put here will",
    "start": "1232400",
    "end": "1234080"
  },
  {
    "text": "be applied to the experiment cluster",
    "start": "1234080",
    "end": "1235919"
  },
  {
    "text": "and not to the control so in this case",
    "start": "1235919",
    "end": "1238159"
  },
  {
    "text": "they're setting their dial to grpc to",
    "start": "1238159",
    "end": "1240159"
  },
  {
    "text": "100",
    "start": "1240159",
    "end": "1242559"
  },
  {
    "text": "also there's no more watching global sps",
    "start": "1243600",
    "end": "1245679"
  },
  {
    "text": "graphs",
    "start": "1245679",
    "end": "1247679"
  },
  {
    "text": "the developer can kick off the run they",
    "start": "1247679",
    "end": "1249919"
  },
  {
    "text": "could go",
    "start": "1249919",
    "end": "1251039"
  },
  {
    "text": "do whatever they can watch because",
    "start": "1251039",
    "end": "1252960"
  },
  {
    "text": "they're excited or interested in the",
    "start": "1252960",
    "end": "1254559"
  },
  {
    "text": "results",
    "start": "1254559",
    "end": "1255280"
  },
  {
    "text": "but regardless the platform is going to",
    "start": "1255280",
    "end": "1257360"
  },
  {
    "text": "monitor sps and shut it down if there's",
    "start": "1257360",
    "end": "1259440"
  },
  {
    "text": "a problem",
    "start": "1259440",
    "end": "1260159"
  },
  {
    "text": "and you can see in this case there was",
    "start": "1260159",
    "end": "1261600"
  },
  {
    "text": "we shut it down in about a minute",
    "start": "1261600",
    "end": "1265280"
  },
  {
    "text": "this test failed with a status of short",
    "start": "1266080",
    "end": "1268480"
  },
  {
    "text": "and it cut off due to",
    "start": "1268480",
    "end": "1269840"
  },
  {
    "text": "client sbs errors being elevated",
    "start": "1269840",
    "end": "1273919"
  },
  {
    "text": "if we click into the elasticsearch",
    "start": "1274080",
    "end": "1276400"
  },
  {
    "text": "dashboard",
    "start": "1276400",
    "end": "1278320"
  },
  {
    "text": "you can see here we're actually able to",
    "start": "1278320",
    "end": "1280640"
  },
  {
    "text": "drill into the error breakdown",
    "start": "1280640",
    "end": "1282799"
  },
  {
    "text": "and there was actually three primary",
    "start": "1282799",
    "end": "1284400"
  },
  {
    "text": "error codes that came up five to 100",
    "start": "1284400",
    "end": "1287039"
  },
  {
    "text": "101 and 102. and",
    "start": "1287039",
    "end": "1290960"
  },
  {
    "text": "what this pointed the service owners to",
    "start": "1290960",
    "end": "1293280"
  },
  {
    "text": "is that there's a license problem all",
    "start": "1293280",
    "end": "1294720"
  },
  {
    "text": "three of those correlate with the",
    "start": "1294720",
    "end": "1295919"
  },
  {
    "text": "license issue",
    "start": "1295919",
    "end": "1297039"
  },
  {
    "text": "so this actually turned out to be an",
    "start": "1297039",
    "end": "1298559"
  },
  {
    "text": "example of life cycle interaction",
    "start": "1298559",
    "end": "1300799"
  },
  {
    "text": "where the output of the manifest showed",
    "start": "1300799",
    "end": "1303360"
  },
  {
    "text": "up in failing license",
    "start": "1303360",
    "end": "1304640"
  },
  {
    "text": "calls as they dug in further",
    "start": "1304640",
    "end": "1308480"
  },
  {
    "text": "they found that the there was some drm",
    "start": "1308480",
    "end": "1311760"
  },
  {
    "text": "header information that was returned on",
    "start": "1311760",
    "end": "1313360"
  },
  {
    "text": "the manifest",
    "start": "1313360",
    "end": "1314400"
  },
  {
    "text": "and that was a list of items and that",
    "start": "1314400",
    "end": "1316640"
  },
  {
    "text": "list order changed moving from rest to",
    "start": "1316640",
    "end": "1318880"
  },
  {
    "text": "grpc",
    "start": "1318880",
    "end": "1320159"
  },
  {
    "text": "which actually inadvertently broke the",
    "start": "1320159",
    "end": "1322480"
  },
  {
    "text": "license interaction so",
    "start": "1322480",
    "end": "1324159"
  },
  {
    "text": "also again it's an example of an",
    "start": "1324159",
    "end": "1326080"
  },
  {
    "text": "implicit contract",
    "start": "1326080",
    "end": "1327360"
  },
  {
    "text": "that we brought forward with the tooling",
    "start": "1327360",
    "end": "1333840"
  },
  {
    "text": "so there's one other interesting finding",
    "start": "1334080",
    "end": "1335840"
  },
  {
    "text": "i want to point out here",
    "start": "1335840",
    "end": "1337840"
  },
  {
    "text": "as we were digging into the results we",
    "start": "1337840",
    "end": "1339840"
  },
  {
    "text": "could actually see",
    "start": "1339840",
    "end": "1341039"
  },
  {
    "text": "that for each like one decrease",
    "start": "1341039",
    "end": "1344240"
  },
  {
    "text": "in sps client successes we actually see",
    "start": "1344240",
    "end": "1347760"
  },
  {
    "text": "four times the number of errors reported",
    "start": "1347760",
    "end": "1350480"
  },
  {
    "text": "as we looked through the logs and other",
    "start": "1350480",
    "end": "1352080"
  },
  {
    "text": "metrics we were able to confirm that",
    "start": "1352080",
    "end": "1353679"
  },
  {
    "text": "this is because the clients were",
    "start": "1353679",
    "end": "1355200"
  },
  {
    "text": "retrying on box",
    "start": "1355200",
    "end": "1356880"
  },
  {
    "text": "and then reporting all four of those",
    "start": "1356880",
    "end": "1358880"
  },
  {
    "text": "retries",
    "start": "1358880",
    "end": "1360720"
  },
  {
    "text": "so it's just kind of a nice little",
    "start": "1360720",
    "end": "1362159"
  },
  {
    "text": "learning about this type of failure mode",
    "start": "1362159",
    "end": "1366080"
  },
  {
    "text": "so you remember that cycle that i went",
    "start": "1366480",
    "end": "1368240"
  },
  {
    "text": "through earlier you would debug",
    "start": "1368240",
    "end": "1369840"
  },
  {
    "text": "deploy test dial traffic and monitor",
    "start": "1369840",
    "end": "1373679"
  },
  {
    "text": "now with chat that actually looks more",
    "start": "1373679",
    "end": "1376000"
  },
  {
    "text": "like this",
    "start": "1376000",
    "end": "1377120"
  },
  {
    "text": "so you still have to do the work to",
    "start": "1377120",
    "end": "1378640"
  },
  {
    "text": "debug the problem and figure out what it",
    "start": "1378640",
    "end": "1380400"
  },
  {
    "text": "is and",
    "start": "1380400",
    "end": "1381120"
  },
  {
    "text": "and code up your solution but then you",
    "start": "1381120",
    "end": "1384320"
  },
  {
    "text": "can essentially do everything else as",
    "start": "1384320",
    "end": "1385919"
  },
  {
    "text": "part of running the experiment",
    "start": "1385919",
    "end": "1388960"
  },
  {
    "text": "so chap has really cut down on the churn",
    "start": "1388960",
    "end": "1391360"
  },
  {
    "text": "for service owners and allowed them to",
    "start": "1391360",
    "end": "1392960"
  },
  {
    "text": "iterate quickly",
    "start": "1392960",
    "end": "1395760"
  },
  {
    "text": "overall we have seen that this has",
    "start": "1396559",
    "end": "1398240"
  },
  {
    "text": "become quite the",
    "start": "1398240",
    "end": "1399919"
  },
  {
    "text": "confidence building tool for our users",
    "start": "1399919",
    "end": "1401919"
  },
  {
    "text": "and you don't have to take that for me",
    "start": "1401919",
    "end": "1403440"
  },
  {
    "text": "you can actually take it from them it",
    "start": "1403440",
    "end": "1406240"
  },
  {
    "text": "allows them to move quickly",
    "start": "1406240",
    "end": "1408000"
  },
  {
    "text": "and even when the change that they're",
    "start": "1408000",
    "end": "1409919"
  },
  {
    "text": "making is really complex",
    "start": "1409919",
    "end": "1411440"
  },
  {
    "text": "and could be really frightening to do if",
    "start": "1411440",
    "end": "1414159"
  },
  {
    "text": "you didn't have the tooling to support",
    "start": "1414159",
    "end": "1415919"
  },
  {
    "text": "you",
    "start": "1415919",
    "end": "1418080"
  },
  {
    "text": "so lastly i just want to leave you with",
    "start": "1419280",
    "end": "1420880"
  },
  {
    "text": "three key takeaways which",
    "start": "1420880",
    "end": "1422480"
  },
  {
    "text": "i think have proved uh successful at",
    "start": "1422480",
    "end": "1424960"
  },
  {
    "text": "netflix so hopefully you can take them",
    "start": "1424960",
    "end": "1426720"
  },
  {
    "text": "back",
    "start": "1426720",
    "end": "1427279"
  },
  {
    "text": "to using your own organizations first of",
    "start": "1427279",
    "end": "1430320"
  },
  {
    "text": "all make sure you",
    "start": "1430320",
    "end": "1431200"
  },
  {
    "text": "build the hooks into your platform which",
    "start": "1431200",
    "end": "1433120"
  },
  {
    "text": "enable the types of experiments you need",
    "start": "1433120",
    "end": "1435600"
  },
  {
    "text": "so for us that's routing overrides data",
    "start": "1435600",
    "end": "1438000"
  },
  {
    "text": "overrides and fault injection",
    "start": "1438000",
    "end": "1440320"
  },
  {
    "text": "but just look at the types of things",
    "start": "1440320",
    "end": "1441679"
  },
  {
    "text": "that your users need and build that into",
    "start": "1441679",
    "end": "1443360"
  },
  {
    "text": "your platform",
    "start": "1443360",
    "end": "1445840"
  },
  {
    "text": "second is make sure you're building",
    "start": "1445919",
    "end": "1447200"
  },
  {
    "text": "guardrails and safety mechanisms",
    "start": "1447200",
    "end": "1449039"
  },
  {
    "text": "when you're testing in production this",
    "start": "1449039",
    "end": "1451279"
  },
  {
    "text": "could be blast radius reduction alerting",
    "start": "1451279",
    "end": "1453440"
  },
  {
    "text": "real-time monitoring but those are the",
    "start": "1453440",
    "end": "1455600"
  },
  {
    "text": "things that are actually going to make",
    "start": "1455600",
    "end": "1456799"
  },
  {
    "text": "your users comfortable with running",
    "start": "1456799",
    "end": "1458320"
  },
  {
    "text": "those experiments",
    "start": "1458320",
    "end": "1459279"
  },
  {
    "text": "and eager and excited to dig in and",
    "start": "1459279",
    "end": "1461120"
  },
  {
    "text": "learn",
    "start": "1461120",
    "end": "1463360"
  },
  {
    "text": "lastly make sure you're monitoring",
    "start": "1464159",
    "end": "1465760"
  },
  {
    "text": "customer kpis not proxy metrics",
    "start": "1465760",
    "end": "1468480"
  },
  {
    "text": "by tying it to actual real users you can",
    "start": "1468480",
    "end": "1471279"
  },
  {
    "text": "get the most value out of the tooling",
    "start": "1471279",
    "end": "1473600"
  },
  {
    "text": "and make it easier for users to reason",
    "start": "1473600",
    "end": "1476159"
  },
  {
    "text": "about when they're looking at problems",
    "start": "1476159",
    "end": "1479600"
  },
  {
    "text": "thank you for listening",
    "start": "1480640",
    "end": "1486159"
  }
]