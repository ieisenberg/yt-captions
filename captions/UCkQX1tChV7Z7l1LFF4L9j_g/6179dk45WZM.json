[
  {
    "text": "so i would uh this is a a q con exclusive here uh where we can reveal",
    "start": "4720",
    "end": "12400"
  },
  {
    "text": "some exciting new research research from the university of",
    "start": "12400",
    "end": "18400"
  },
  {
    "text": "sledgeham on the world has revealed that the correct number of microservices that you should be running",
    "start": "18400",
    "end": "24320"
  },
  {
    "text": "is 489. this number was calculated and i quote from the paper",
    "start": "24320",
    "end": "29679"
  },
  {
    "text": "by taking the total distinct code concepts that can be written in melted cheese on",
    "start": "29679",
    "end": "35040"
  },
  {
    "text": "the number of pizzas a two pizza team eats during an average sprint and dividing it by the mean average of your",
    "start": "35040",
    "end": "42079"
  },
  {
    "text": "desired unit test coverage and the coefficient of the number you first thought of",
    "start": "42079",
    "end": "47520"
  },
  {
    "text": "so uh that is obviously arrives at 489 i'll let you work out the",
    "start": "47520",
    "end": "53680"
  },
  {
    "text": "maths for yourself and this would be of um great and uh a propitious import uh",
    "start": "53680",
    "end": "61440"
  },
  {
    "text": "to the entire software engineering industry if i hadn't just made it up uh which i did so uh that's that's",
    "start": "61440",
    "end": "68320"
  },
  {
    "text": "completely fake so chucking that out of the window we can now start to ask the question",
    "start": "68320",
    "end": "76240"
  },
  {
    "text": "why 489 why did we come up with this concept of stating a number of microservices",
    "start": "76240",
    "end": "82000"
  },
  {
    "text": "that should be run in production well this came out from a tweet that you have already seen uh about",
    "start": "82000",
    "end": "88799"
  },
  {
    "text": "the uh the uh that has been shown around at various uh sessions in qcon um from uh monzo who",
    "start": "88799",
    "end": "95439"
  },
  {
    "text": "we will be talking uh to a representative of later about the number of microservices they run in",
    "start": "95439",
    "end": "101520"
  },
  {
    "text": "production and what their uh you know what their their software architecture looked like",
    "start": "101520",
    "end": "106799"
  },
  {
    "text": "and they got a load of tweets uh saying well that's that's completely rubbish you know you're running far too many",
    "start": "106799",
    "end": "112880"
  },
  {
    "text": "microservices in production far too many how can you possibly know what's going on",
    "start": "112880",
    "end": "118079"
  },
  {
    "text": "and that raises the question what do you mean what what is too many microservices how",
    "start": "118079",
    "end": "123520"
  },
  {
    "text": "do you know that you're running too many microservices or indeed too few and so what we wanted to do with",
    "start": "123520",
    "end": "129520"
  },
  {
    "text": "this session was explore that concept from a number of different perspectives and i have uh",
    "start": "129520",
    "end": "135760"
  },
  {
    "text": "with me in the audience so i'm going to slowly invite up on stage three guests from um very",
    "start": "135760",
    "end": "143120"
  },
  {
    "text": "different organizations who have taken very different approaches uh to the number of microservices uh in",
    "start": "143120",
    "end": "150000"
  },
  {
    "text": "uh their systems landscape and how they've designed uh that landscape or indeed how that",
    "start": "150000",
    "end": "155360"
  },
  {
    "text": "landscape has evolved over time uh whether by design or not so i'm going",
    "start": "155360",
    "end": "161040"
  },
  {
    "text": "to call them up on stage i'm going to quiz them about what they have in production",
    "start": "161040",
    "end": "166160"
  },
  {
    "text": "and then at the end i'm going to turn the floor over to you to quiz them for me so i would like to",
    "start": "166160",
    "end": "172800"
  },
  {
    "text": "without further ado invite the first one of my guests up uh who is sarah wells",
    "start": "172800",
    "end": "178080"
  },
  {
    "text": "the technical director for operations and reliability at the financial times please welcome sarah",
    "start": "178080",
    "end": "185840"
  },
  {
    "text": "so how are you fine thank you good excellent so my first question to",
    "start": "190959",
    "end": "197280"
  },
  {
    "text": "you um is going to be could you describe for us um what the uh the your system's",
    "start": "197280",
    "end": "204400"
  },
  {
    "text": "landscape is like at the financial times in a brief paragraph so if anyone saw",
    "start": "204400",
    "end": "211280"
  },
  {
    "text": "luke's talk yesterday and you'll know that we have got pretty and pretty much anything you could have probably exist somewhere at the ft so",
    "start": "211280",
    "end": "218959"
  },
  {
    "text": "we have teams that are deploying node apps to heroku we have teams that are building lambdas probably in node maybe",
    "start": "218959",
    "end": "225040"
  },
  {
    "text": "in java we have uh teams running containers we're kind of gradually moving towards",
    "start": "225040",
    "end": "230480"
  },
  {
    "text": "eks but we've probably also got people on ecs beam store we have a whole ton of stuff",
    "start": "230480",
    "end": "235840"
  },
  {
    "text": "and we've still got systems systems that sit on a on a vm like probably still got some java apps",
    "start": "235840",
    "end": "243120"
  },
  {
    "text": "running on tomcat so and it's not just that we also have so we kind of opened up",
    "start": "243120",
    "end": "248799"
  },
  {
    "text": "uh people's choices maybe four or five years ago so rather than saying this is the",
    "start": "248799",
    "end": "254080"
  },
  {
    "text": "message queue you should use or this is the database we basically said if you can make a case for why this is a good thing for you",
    "start": "254080",
    "end": "259440"
  },
  {
    "text": "you can do it so we have a lot of different databases i mean i think we have three different uh",
    "start": "259440",
    "end": "264560"
  },
  {
    "text": "ticket tracking systems we basically it's a bit of a free-fall so you really have taken the concept of",
    "start": "264560",
    "end": "271040"
  },
  {
    "text": "developer autonomy quite far there we have what's interesting is sometimes",
    "start": "271040",
    "end": "276240"
  },
  {
    "text": "you find people do see something and go this seems really good so you do get people coalescing",
    "start": "276240",
    "end": "281360"
  },
  {
    "text": "around particular technologies where they've seen another team use it and they think um yeah that would work for me so i don't",
    "start": "281360",
    "end": "287199"
  },
  {
    "text": "think we've got anyone using a graph database that isn't neo4j we've got a lot of people using circle ci you do find that people",
    "start": "287199",
    "end": "294240"
  },
  {
    "text": "move towards the things that are clearly easy to use and provide value so um in reference to",
    "start": "294240",
    "end": "300960"
  },
  {
    "text": "our talk title how many microservices would you say are at the ft",
    "start": "300960",
    "end": "307360"
  },
  {
    "text": "so it's quite difficult to say i think once you have a lot of microservices you you probably don't know how many so i",
    "start": "307360",
    "end": "313520"
  },
  {
    "text": "can say how many systems we have because we track them in a in a business operations uh store but which of those are",
    "start": "313520",
    "end": "320560"
  },
  {
    "text": "microservices i don't know what i would say is it's been pretty much the standard architectural pattern",
    "start": "320560",
    "end": "326320"
  },
  {
    "text": "and some of our bigger groups for example building ft.com website our content uh",
    "start": "326320",
    "end": "333280"
  },
  {
    "text": "platform and apis have around 150 and then we have other teams that maybe have 10",
    "start": "333280",
    "end": "339600"
  },
  {
    "text": "they're doing smaller chunks of work um and obviously if people are writing lambdas they could have quite a lot of individual lambdas",
    "start": "339600",
    "end": "346560"
  },
  {
    "text": "so um one thing i think that people will be someone might say if they came along and",
    "start": "346560",
    "end": "352400"
  },
  {
    "text": "saw you know this this this sort of vast um landscape with many different",
    "start": "352400",
    "end": "357600"
  },
  {
    "text": "uh different approaches taken uh across the uh across the landscape as a whole they",
    "start": "357600",
    "end": "363360"
  },
  {
    "text": "may ask how can we be sure that this is resilient you know how how can we be sure that uh",
    "start": "363360",
    "end": "368960"
  },
  {
    "text": "each uh because you know then you've got to measure the risk of each individual team",
    "start": "368960",
    "end": "374000"
  },
  {
    "text": "you know and whether they can run their system in production effectively",
    "start": "374000",
    "end": "379199"
  },
  {
    "text": "so how do you manage to you know mitigate the risk of like one individual team going off the rails as",
    "start": "379199",
    "end": "385039"
  },
  {
    "text": "it were and doing something crazy so we've generally i mean you",
    "start": "385039",
    "end": "390240"
  },
  {
    "text": "couldn't do the kind of approach we've got unless it really was you build it you run it so we do we provide standards and guardrails for",
    "start": "390240",
    "end": "396720"
  },
  {
    "text": "people to say we expect you this is a critical system we expect you to be into regions",
    "start": "396720",
    "end": "401759"
  },
  {
    "text": "um if it's maybe less critical you've got to be into availability zones we've got security standards we have other",
    "start": "401759",
    "end": "406800"
  },
  {
    "text": "standards that say here's how you should represent the health of your system but we have to if you're going to empower",
    "start": "406800",
    "end": "412080"
  },
  {
    "text": "your teams you have to actually trust them as well the best thing you can do is is trust them but make sure you can pick",
    "start": "412080",
    "end": "417520"
  },
  {
    "text": "up where they've got it wrong so a simple example would be we have",
    "start": "417520",
    "end": "422639"
  },
  {
    "text": "information in our business operations store that says does this system handle personal information if it",
    "start": "422639",
    "end": "429759"
  },
  {
    "text": "handles personal information you've said yes it does and you have an s3 bucket which is tagged with that system code",
    "start": "429759",
    "end": "435199"
  },
  {
    "text": "and it's open we're going to basically flag that to you did you mean to make that bucket open",
    "start": "435199",
    "end": "441199"
  },
  {
    "text": "so i think that providing that kind of checking is is sensible sensible approach yeah so it",
    "start": "441199",
    "end": "448639"
  },
  {
    "text": "it's interesting how you would decide when when you would you know impose those sort of rules across the uh",
    "start": "448639",
    "end": "454960"
  },
  {
    "text": "across the landscape and when you would just say actually you know we will let people go",
    "start": "454960",
    "end": "460080"
  },
  {
    "text": "free in this particular instance so it is about risk we probably don't always get it right but we we definitely have this",
    "start": "460080",
    "end": "466400"
  },
  {
    "text": "categorization of this is a brand critical or this is a business critical system and it has a higher standard",
    "start": "466400",
    "end": "472479"
  },
  {
    "text": "required for example we will phone people up out of hours for that and actually as soon as you have a system where you could be woken",
    "start": "472479",
    "end": "478960"
  },
  {
    "text": "up out of hours you take that much more seriously in terms of the resilience you will set yourself up so that you",
    "start": "478960",
    "end": "484639"
  },
  {
    "text": "don't get phoned up when something could be automated so with great power comes great",
    "start": "484639",
    "end": "489840"
  },
  {
    "text": "responsibility yeah yeah um so i guess having lots of different",
    "start": "489840",
    "end": "495680"
  },
  {
    "text": "approaches to microservices means that you might see different sizes of microservices",
    "start": "495680",
    "end": "502400"
  },
  {
    "text": "almost so i suppose that the question of how big a microservice should be is a uh one that has been",
    "start": "502400",
    "end": "509120"
  },
  {
    "text": "you know constantly with us since microservices came along as a an idea so what sort of approaches have you seen",
    "start": "509120",
    "end": "515680"
  },
  {
    "text": "to that question so i don't like all the things people say about how big a micro service should be don't make sense so if it's a",
    "start": "515680",
    "end": "522800"
  },
  {
    "text": "thing owned by a team then it's also not something that fits in someone's head if it's a couple of hundred lines of code then you're probably you know we",
    "start": "522800",
    "end": "528560"
  },
  {
    "text": "have maybe five teams that between them have 150 microservices but i think what we've found is useful",
    "start": "528560",
    "end": "534480"
  },
  {
    "text": "is is be prepared to recognize where you've got it wrong so if you have got some micro services then you",
    "start": "534480",
    "end": "540640"
  },
  {
    "text": "find that there are four of them that you always end up releasing at the same time then they're not separate so can you",
    "start": "540640",
    "end": "546480"
  },
  {
    "text": "combine them and we've particularly done that around services that we're writing into a graph database did we have one service that",
    "start": "546480",
    "end": "552480"
  },
  {
    "text": "did reading and writing of a particular type of concept or did we separate those out because",
    "start": "552480",
    "end": "557519"
  },
  {
    "text": "when we read it's a kind of a different thing we're trying to achieve and we've moved between that so recognizing that",
    "start": "557519",
    "end": "563040"
  },
  {
    "text": "that um there's some pain here therefore we probably ought to change our approach is quite effective that's a great metric",
    "start": "563040",
    "end": "570320"
  },
  {
    "text": "the metric of you know are you deploying this at once therefore it's well it's the have you actually got",
    "start": "570320",
    "end": "575680"
  },
  {
    "text": "microservices or do you have a distributed monolith yeah um and i think unless you can genuinely independently",
    "start": "575680",
    "end": "581760"
  },
  {
    "text": "deploy something then then you're not it isn't a microservice and if and the other metric i think is",
    "start": "581760",
    "end": "587920"
  },
  {
    "text": "useful to think about this is are you actually managing to release things all the time",
    "start": "587920",
    "end": "594320"
  },
  {
    "text": "so if you forgot a system made up of microservices and you're not releasing you know",
    "start": "594320",
    "end": "599360"
  },
  {
    "text": "multiple times a day i would wonder whether you're really truly getting the benefit for it because",
    "start": "599360",
    "end": "604800"
  },
  {
    "text": "there's a lot of cost for having microservice architecture yeah and we've gone from um the website",
    "start": "604800",
    "end": "611040"
  },
  {
    "text": "was 12 releases a year um say five years ago and i think it's probably across the",
    "start": "611040",
    "end": "618560"
  },
  {
    "text": "content platform on the front end probably 4 000 releases recently we've added a change",
    "start": "618560",
    "end": "624880"
  },
  {
    "text": "api and i think we're doing about 40 000 changes a year so the benefit so there might be costs",
    "start": "624880",
    "end": "632640"
  },
  {
    "text": "in terms of complexity and in terms of you know making sure your code is split up and so on but yeah the benefit is this rapid release cycle that you",
    "start": "632640",
    "end": "640160"
  },
  {
    "text": "could you can't do with a monolith i mean i don't know how long people have been coding but do you remember like um",
    "start": "640160",
    "end": "646480"
  },
  {
    "text": "git merges but i just don't remember the last time i did get merged you know because we basically you don't have a long-lived",
    "start": "646480",
    "end": "653279"
  },
  {
    "text": "branch and you you're doing small changes it's not the pain that it used to be and when",
    "start": "653279",
    "end": "658560"
  },
  {
    "text": "things go wrong you're not trying to work out which of the many changes that you bundled together was the cause yeah so that that brings lots of",
    "start": "658560",
    "end": "665600"
  },
  {
    "text": "benefits in terms of risk and resilience in itself that ability to uh to do that",
    "start": "665600",
    "end": "671040"
  },
  {
    "text": "fantastic okay thank you very much sarah i'd now like to invite up uh our uh second",
    "start": "671040",
    "end": "677360"
  },
  {
    "text": "uh uh second speaker uh who is uh suhail patel and he is a back end engineer at monzo",
    "start": "677360",
    "end": "684000"
  },
  {
    "text": "please welcome sahel",
    "start": "684000",
    "end": "689839"
  },
  {
    "text": "so good afternoon good afternoon so um uh this is quite odd uh someone from",
    "start": "690640",
    "end": "696320"
  },
  {
    "text": "starting interviewing someone from monto um that's the first time no that is true not the first time",
    "start": "696320",
    "end": "701600"
  },
  {
    "text": "um so um this a lot of the inspiration for this uh this talk was the um",
    "start": "701600",
    "end": "709360"
  },
  {
    "text": "tweet that monzo sent out about the number of microservices in their architecture",
    "start": "709360",
    "end": "715440"
  },
  {
    "text": "and um what sort of responses did you get from that tweet it was really quite interesting because",
    "start": "715440",
    "end": "721200"
  },
  {
    "text": "a lot of people like have this sort of like sticker shock reaction uh they say oh",
    "start": "721200",
    "end": "726240"
  },
  {
    "text": "1500 microservices and then they look at like how many engineers do you have we have we had about 150 engineers at the",
    "start": "726240",
    "end": "732079"
  },
  {
    "text": "time and you know people made an interpolation oh that means 10 engineers per service and you know we sort of wanted to run",
    "start": "732079",
    "end": "738240"
  },
  {
    "text": "with that as a joke like yes you you join monzo you get your 10 services you treat them like pets",
    "start": "738240",
    "end": "743360"
  },
  {
    "text": "you give each of them a name and you know you you know you care for them and then they grow up uh but that's not really the reality if",
    "start": "743360",
    "end": "750320"
  },
  {
    "text": "you look at monzo as an internal company um there's a lot of different domains that we are we are involved in",
    "start": "750320",
    "end": "755839"
  },
  {
    "text": "for example we've built an in-house chat system we've got a lot of business tooling we've got an entire financial",
    "start": "755839",
    "end": "761279"
  },
  {
    "text": "crime department we've integrated with nearly 20 payment networks and lots more ongoing all of these are like really",
    "start": "761279",
    "end": "768720"
  },
  {
    "text": "complex pieces of of software and architecture that we've had to build in-house",
    "start": "768720",
    "end": "774079"
  },
  {
    "text": "if these were spun up into different companies we would have tens of companies for each of the things that we have built so what we've been able to do is",
    "start": "774079",
    "end": "781760"
  },
  {
    "text": "build an architecture where we have some shared common abstractions uh but lots of different",
    "start": "781760",
    "end": "786959"
  },
  {
    "text": "and separate entities and teams built around them and you know that coalesces into one big 1500 micro",
    "start": "786959",
    "end": "793200"
  },
  {
    "text": "service number but without context it just is a sticker shock number yeah yeah absolutely so um putting to you a",
    "start": "793200",
    "end": "800399"
  },
  {
    "text": "question that um uh i was discussing with sarah so how do you know where the boundaries should",
    "start": "800399",
    "end": "805920"
  },
  {
    "text": "lie between these abstractions how do you know if you if you've split something down into two smaller uh",
    "start": "805920",
    "end": "811839"
  },
  {
    "text": "you know a piece i think the release analogy that sarah uh had was uh absolutely correct if",
    "start": "811839",
    "end": "817279"
  },
  {
    "text": "you're releasing these things in tandem or if you've got some sort of coordinator service or if they're sharing uh data across microservice",
    "start": "817279",
    "end": "824160"
  },
  {
    "text": "boundaries uh and you know storing these data storing these pieces of data in lots of different places",
    "start": "824160",
    "end": "829680"
  },
  {
    "text": "uh then you might have not got it quite correct um ultimately the way we see microservices is it's a bounded context",
    "start": "829680",
    "end": "836240"
  },
  {
    "text": "if the thing is like you know has a has its own data entity its own data abstractions",
    "start": "836240",
    "end": "842079"
  },
  {
    "text": "you know it fits within its isolated environment can be scaled independently deployed independently",
    "start": "842079",
    "end": "847600"
  },
  {
    "text": "i think that's the the the nice the sweet spot of having a micro service um so when you've got uh",
    "start": "847600",
    "end": "856079"
  },
  {
    "text": "you know the new engineer coming on then you know they're not getting given their their their 10 micro services individually but they're",
    "start": "856079",
    "end": "862399"
  },
  {
    "text": "you know they're asked to do a certain task and so on how do they know what's there already how do they know if",
    "start": "862399",
    "end": "869600"
  },
  {
    "text": "there is already something within the you know the 1500 micro services that already",
    "start": "869600",
    "end": "875120"
  },
  {
    "text": "does what they should do that's a really good point so one of the things that's not commonly talked about is the",
    "start": "875120",
    "end": "880480"
  },
  {
    "text": "amount of tooling that is almost required when you get to any amount of micro service scale uh so",
    "start": "880480",
    "end": "886480"
  },
  {
    "text": "you know when you get to the hundreds of micro services you need a set of common tooling that engineers are familiar with",
    "start": "886480",
    "end": "891839"
  },
  {
    "text": "so uh you know right from the get go engineers join with a like backend engineering 101 to",
    "start": "891839",
    "end": "897040"
  },
  {
    "text": "understand what sort of abstractions are provided in the in the architecture um and you know where they essentially insert their",
    "start": "897040",
    "end": "903839"
  },
  {
    "text": "code uh you know where the business logic is every single microservice at monzo follows the same",
    "start": "903839",
    "end": "908880"
  },
  {
    "text": "common set of patterns even to the same file structure uh so that you can jump into any microservice and understand and jump",
    "start": "908880",
    "end": "915360"
  },
  {
    "text": "into the code uh whether you're on call whether you're a veteran engineer or whether you're completely new engineer",
    "start": "915360",
    "end": "920720"
  },
  {
    "text": "uh aside from that like you know having good documentation and readme is also really important that's more like erring into like the cultural uh",
    "start": "920720",
    "end": "928240"
  },
  {
    "text": "side of things you know having good knowledge management and you know sharing that context and having a forum for questions of like",
    "start": "928240",
    "end": "934000"
  },
  {
    "text": "whether microservice exists whether it's the right domain whether it's the right scope to have this additional piece of functionality",
    "start": "934000",
    "end": "939360"
  },
  {
    "text": "or to break it out further uh what is the history behind it is all really really important but those are more like cultural issues",
    "start": "939360",
    "end": "945440"
  },
  {
    "text": "if you're talking about services themselves um having documented api boundaries uh we use a lot of like proto-style api",
    "start": "945440",
    "end": "951759"
  },
  {
    "text": "boundaries so that it's well documented all the fields are there you know the market is required or optional uh that sort of stuff",
    "start": "951759",
    "end": "958639"
  },
  {
    "text": "really does help and how how what's the rate of change we're talking about here so how many micro services are you",
    "start": "958639",
    "end": "964480"
  },
  {
    "text": "adding a month um i think it gets to about a hundred per month uh like at the absolute peak um",
    "start": "964480",
    "end": "972079"
  },
  {
    "text": "the thing is a lot of people are thinking of this as like a velocity like you know are we moving faster",
    "start": "972079",
    "end": "977360"
  },
  {
    "text": "because we're adding 100 micro services this month or are we moving slower because we're adding only 30 this month i don't think",
    "start": "977360",
    "end": "982480"
  },
  {
    "text": "that's the right way of looking at it when we have a new abstraction being built uh you know if we're going to embark on a completely new project to add a new",
    "start": "982480",
    "end": "988320"
  },
  {
    "text": "payment network i mean it's going to be pretty common that we're going to add 10 to 20 micro services to deal with all of the abstraction layers that are",
    "start": "988320",
    "end": "994639"
  },
  {
    "text": "involved in all of the bound and bounded context that we need to get involved like for example you open the mastercard spec and it's",
    "start": "994639",
    "end": "1000560"
  },
  {
    "text": "thousands and thousands of pages of documentation and you know you want to break those up into small individual components",
    "start": "1000560",
    "end": "1006320"
  },
  {
    "text": "uh i don't think like you know number of microservices is a function of time i think it's an evolution of you know",
    "start": "1006320",
    "end": "1012160"
  },
  {
    "text": "when you're adding more complexity to your system how do you break those down into individual chunks that are manageable",
    "start": "1012160",
    "end": "1017600"
  },
  {
    "text": "and like you know able to be retained in like some group of engineers heads i would say that uh if anyone is having",
    "start": "1017600",
    "end": "1024000"
  },
  {
    "text": "trouble getting to sleep any insomnia uh read the mastercard spec um it'll",
    "start": "1024000",
    "end": "1029438"
  },
  {
    "text": "cause you to drop right off um so because of of course as you add more and",
    "start": "1029439",
    "end": "1035280"
  },
  {
    "text": "more things this this knowledge management of you know of making sure that you've got",
    "start": "1035280",
    "end": "1040558"
  },
  {
    "text": "all of your uh your landscape documented and you know and uh you can pass that",
    "start": "1040559",
    "end": "1045760"
  },
  {
    "text": "knowledge on uh that becomes a you know a difficult challenge in some ways absolutely i don't think it's a solved",
    "start": "1045760",
    "end": "1051440"
  },
  {
    "text": "problem i don't think uh like if anyone's looking at monzo for the solution uh unfortunately uh i don't think we've",
    "start": "1051440",
    "end": "1056960"
  },
  {
    "text": "even quite found the perfect solution uh what we can do is we can make incremental steps so we've made a lot of",
    "start": "1056960",
    "end": "1062160"
  },
  {
    "text": "advances in our tooling uh so you know being able to figure out uh like where a microservice is what revision is",
    "start": "1062160",
    "end": "1068720"
  },
  {
    "text": "deployed on and all of that stuff uh you know deploying changes is is really really easy uh",
    "start": "1068720",
    "end": "1074000"
  },
  {
    "text": "you know there is uh a code owner for every service so at least you can go to members of that team at least you know what is your starting",
    "start": "1074000",
    "end": "1080559"
  },
  {
    "text": "point to go find out information if service is just sitting there in production and everyone's afraid to touch it",
    "start": "1080559",
    "end": "1085600"
  },
  {
    "text": "then you know then we've got a problem yeah uh so i think tooling and you know some",
    "start": "1085600",
    "end": "1090799"
  },
  {
    "text": "amount of documentation helps for example we run in a uh in a single repository we have all of our microservices in a single repository and",
    "start": "1090799",
    "end": "1096960"
  },
  {
    "text": "one of the benefits that brings is that you can do essentially uh grep across the entire",
    "start": "1096960",
    "end": "1102080"
  },
  {
    "text": "repository and and see what microservices are there like that fit your patterns for example if you do a grep",
    "start": "1102080",
    "end": "1107200"
  },
  {
    "text": "for mastercard all of the masterclass services and many more services as well will pop up because they have",
    "start": "1107200",
    "end": "1112799"
  },
  {
    "text": "mastercard like named as variables or like in comments and stuff like that or even in the readme uh so you know these are all viable",
    "start": "1112799",
    "end": "1119919"
  },
  {
    "text": "starting points uh whether you're going to find perfect documentation to get to your end point without speaking to another human being",
    "start": "1119919",
    "end": "1126400"
  },
  {
    "text": "i don't think that's a problem that anyone has quite cracked and i think this this applies even for like if you have a monolith if you're completely on",
    "start": "1126400",
    "end": "1132880"
  },
  {
    "text": "the other end of the spectrum and you have a monolith one single binary that you deploy one single application even running on a",
    "start": "1132880",
    "end": "1138799"
  },
  {
    "text": "single server uh you know if you have lots of classes or lots of functions or even like lots of variables or one big",
    "start": "1138799",
    "end": "1145280"
  },
  {
    "text": "function like all of these things are complexity uh and all of these things you're gonna have to speak to other humans and gain context about why was",
    "start": "1145280",
    "end": "1152400"
  },
  {
    "text": "this designed in this way uh what what were you taking into consideration uh what was going through",
    "start": "1152400",
    "end": "1158320"
  },
  {
    "text": "people's minds that sort of stuff is not really explicitly documented at every step yeah we still haven't",
    "start": "1158320",
    "end": "1163679"
  },
  {
    "text": "managed to get rid of humans yet um um so how do you do does this",
    "start": "1163679",
    "end": "1170080"
  },
  {
    "text": "keep keeping everything in one repo does that lead to any sort of anti-patterns developing in terms of",
    "start": "1170080",
    "end": "1175600"
  },
  {
    "text": "coupling or in you know a coupling that is inappropriate between microservices yeah like one of one of the things that",
    "start": "1175600",
    "end": "1181679"
  },
  {
    "text": "that really comes up is uh at what point should something graduate to a library um so you know like if an abstraction is",
    "start": "1181679",
    "end": "1188559"
  },
  {
    "text": "used in like one place over here and an isolated uh uh microservice and then a similar",
    "start": "1188559",
    "end": "1194400"
  },
  {
    "text": "abstraction is built for another microservice you know at that point you come to a logical conclusion oh well this should be a library so we can share some code",
    "start": "1194400",
    "end": "1200960"
  },
  {
    "text": "um like for us like for something to graduate into a library uh",
    "start": "1200960",
    "end": "1206080"
  },
  {
    "text": "means that we are adding another layer of support and analytics and metrics and",
    "start": "1206080",
    "end": "1211440"
  },
  {
    "text": "and uh like you know expertise uh around it so i think uh you know one of the one of",
    "start": "1211440",
    "end": "1217600"
  },
  {
    "text": "the themes i've seen going around on monzo and one that i really agree with is you don't really want something to graduate into a",
    "start": "1217600",
    "end": "1223679"
  },
  {
    "text": "library until you've written it like a few times so that you can understand what is the best",
    "start": "1223679",
    "end": "1228720"
  },
  {
    "text": "interface to provide to engineers uh to make the most effective use going forward you know have you captured all",
    "start": "1228720",
    "end": "1234400"
  },
  {
    "text": "the different uh problem space uh you know if you're writing something once you're like okay right i'm gonna graduate this immediately to a library you might solve",
    "start": "1234400",
    "end": "1240720"
  },
  {
    "text": "your specific problem but you then you might get the interface wrong for for other people and then changing that is going to be a",
    "start": "1240720",
    "end": "1246960"
  },
  {
    "text": "pain and you know something that we've experienced as well and something that we've had to do uh you know being in a single repository",
    "start": "1246960",
    "end": "1253200"
  },
  {
    "text": "we can do checks to make sure that things can continue to build and using a static typing language like go",
    "start": "1253200",
    "end": "1259039"
  },
  {
    "text": "that kind of stuff helps but it's still pain you know we have to now educate engineers uh to make sure they're now doing it in",
    "start": "1259039",
    "end": "1265120"
  },
  {
    "text": "this new way and not the old way and whereas the new documentation and that migration path is just painful yeah",
    "start": "1265120",
    "end": "1271200"
  },
  {
    "text": "so one thing that does differ between microservices and the monolith is in a monolith if a",
    "start": "1271200",
    "end": "1276559"
  },
  {
    "text": "class is calling another class or a function is calling another function then you know the the time you've got to take into account of that is the processing",
    "start": "1276559",
    "end": "1283360"
  },
  {
    "text": "time of the various classes whereas if a micro service is calling another micro service",
    "start": "1283360",
    "end": "1288799"
  },
  {
    "text": "there is additional time uh taken for that you know that call to go across the network yeah so",
    "start": "1288799",
    "end": "1294640"
  },
  {
    "text": "with 1500 micro services where you know a simple uh you know make a payment say",
    "start": "1294640",
    "end": "1301039"
  },
  {
    "text": "uh or you know i'm trying to pay for something on my card at a supermarket that's going to have to go across many",
    "start": "1301039",
    "end": "1306640"
  },
  {
    "text": "many services so how do you take into account that sort of you know the latency that appears not from the",
    "start": "1306640",
    "end": "1311919"
  },
  {
    "text": "processing but from the you know call to call to call to call to call you know yeah that's a really good question",
    "start": "1311919",
    "end": "1316960"
  },
  {
    "text": "i'm going to invert it ever so slightly uh and say that if you ask most engineers who work on a monolith style",
    "start": "1316960",
    "end": "1323120"
  },
  {
    "text": "system and that's something that i've worked with in the past as well uh you know in a monthly style system",
    "start": "1323120",
    "end": "1328400"
  },
  {
    "text": "there's a lot of things uh like performance-wise or latency-wise their engineers don't really take into account so for example",
    "start": "1328400",
    "end": "1333760"
  },
  {
    "text": "what if your program has a gc pause right in the middle uh that's gonna ruin your latency budget what if your disk",
    "start": "1333760",
    "end": "1338880"
  },
  {
    "text": "gets slow like what if you run out of like if you're running uh on amazon uh you're running on ebs your ebs burst",
    "start": "1338880",
    "end": "1344640"
  },
  {
    "text": "pallets depletes you know your your disk access is going to get a lot lot slower uh than what you usually expect if",
    "start": "1344640",
    "end": "1351679"
  },
  {
    "text": "anything by surfing surfacing uh the fact that you're going over a network means that you know there's some amount",
    "start": "1351679",
    "end": "1357679"
  },
  {
    "text": "of resiliency and reliability that you need to take into account now i do agree that you know your your reliability",
    "start": "1357679",
    "end": "1363120"
  },
  {
    "text": "might go from near enough from 100 to 99 and a few more nines uh percent um and we don't try and hide",
    "start": "1363120",
    "end": "1369679"
  },
  {
    "text": "that fact you know we tell engineers that yes you know crossing an availability zone boundary is probably going to add one",
    "start": "1369679",
    "end": "1375200"
  },
  {
    "text": "millisecond hop uh a latency uh to your application but you can't rely on that right that's not a",
    "start": "1375200",
    "end": "1380960"
  },
  {
    "text": "guarantee that anyone gives you know we don't control the network amazon controls the network and even they don't get it 100 perfect",
    "start": "1380960",
    "end": "1387600"
  },
  {
    "text": "if anything like don't try and hide the abstraction uh that you're going over the network you know instead of",
    "start": "1387600",
    "end": "1393120"
  },
  {
    "text": "uh like in your application make it explicit that this is now a network call uh and to take into",
    "start": "1393120",
    "end": "1398320"
  },
  {
    "text": "account whether you need like a uh do you have a real hard time real-time deadline or is this like a soft like you",
    "start": "1398320",
    "end": "1405440"
  },
  {
    "text": "know ideally in the in the 99th percentile you want to try and get it within this amount of time budget but",
    "start": "1405440",
    "end": "1410799"
  },
  {
    "text": "occasionally it might go over and that's the reality with most applications if you have a gc pause like you can't give 100 guarantee um so",
    "start": "1410799",
    "end": "1418640"
  },
  {
    "text": "the same the same sort of thing applies whenever you're touching anything that goes outside of like cpu or memory context",
    "start": "1418640",
    "end": "1425279"
  },
  {
    "text": "even memory can get slow uh you know ram ram disk spell all the time uh yeah what happens computers are are",
    "start": "1425279",
    "end": "1433120"
  },
  {
    "text": "fickle uh much like humans uh thank you sir hail um so please do um think of uh questions that",
    "start": "1433120",
    "end": "1440720"
  },
  {
    "text": "you want to ask because we will be coming to you shortly but first i want to introduce my third",
    "start": "1440720",
    "end": "1446320"
  },
  {
    "text": "panelist who is nikki wrightson the principal engineer at sky scanner and the runner of the the track host of the",
    "start": "1446320",
    "end": "1452799"
  },
  {
    "text": "microservices track from yesterday so please welcome nikki",
    "start": "1452799",
    "end": "1459840"
  },
  {
    "text": "sure i was going to kick that it's quite a small stage up here um so",
    "start": "1464720",
    "end": "1470400"
  },
  {
    "text": "um for uh for the benefit of those who uh haven't heard the the sky scanner talk from uh yesterday",
    "start": "1470400",
    "end": "1476880"
  },
  {
    "text": "could you describe the sort of architecture of uh skyscanner and some of the uh",
    "start": "1476880",
    "end": "1482080"
  },
  {
    "text": "unique challenges that uh skyscanner faces so i can really only talk to sort of the the data platform uh as that's my area",
    "start": "1482080",
    "end": "1490559"
  },
  {
    "text": "um and we we deal with two million messages per second entering uh",
    "start": "1490559",
    "end": "1497440"
  },
  {
    "text": "so every single thing about our world is scale this is every every paradigm that you've",
    "start": "1497440",
    "end": "1504480"
  },
  {
    "text": "learned before and brings you into your next job breaks uh",
    "start": "1504480",
    "end": "1509919"
  },
  {
    "text": "you cannot you have to innovate at that scale yeah so you're you're facing this",
    "start": "1509919",
    "end": "1516400"
  },
  {
    "text": "rather uh well i would say probably for our panel fairly unique constraint of processing that many messages per second",
    "start": "1516400",
    "end": "1522799"
  },
  {
    "text": "um and so you have a different you have to take a different approach so",
    "start": "1522799",
    "end": "1528400"
  },
  {
    "text": "what are the some of the rules that you you know that you often hear or principles you hear about uh your you know micro service",
    "start": "1528400",
    "end": "1534880"
  },
  {
    "text": "architecture that you have to sort of go man that's just not going to work with this many messages so",
    "start": "1534880",
    "end": "1539919"
  },
  {
    "text": "it's less about the microservice architecture in the standard sort of typical way of several hops in via a queue we want to flatten that",
    "start": "1539919",
    "end": "1548640"
  },
  {
    "text": "so we make that as short as possible because of course you get that many messages if you don't",
    "start": "1548640",
    "end": "1554480"
  },
  {
    "text": "scale properly and when when i talk about scaling i'm just going to do one example is that we have an ecs",
    "start": "1554480",
    "end": "1559840"
  },
  {
    "text": "cluster and this is just for writing to our elk stack that we had to ask aws",
    "start": "1559840",
    "end": "1564880"
  },
  {
    "text": "to to add more more nodes to because we had 4 000 containers running in this this",
    "start": "1564880",
    "end": "1572240"
  },
  {
    "text": "and that's just for our logs uh so if you start if you don't",
    "start": "1572240",
    "end": "1577919"
  },
  {
    "text": "horizontally scale and keep that kind of vertical movement short you just end up with backlogs and",
    "start": "1577919",
    "end": "1584080"
  },
  {
    "text": "you just can't process that amount of data yeah um so the",
    "start": "1584080",
    "end": "1590159"
  },
  {
    "text": "the i i guess that what you're dealing with there is you're dealing with a lot of problems where",
    "start": "1590159",
    "end": "1595760"
  },
  {
    "text": "um you don't you don't actually see the uh you know each individual problem",
    "start": "1595760",
    "end": "1601120"
  },
  {
    "text": "you're seeing sort of volumes of problems almost you know the probability of a problem happening and that sort of",
    "start": "1601120",
    "end": "1606159"
  },
  {
    "text": "thing exactly that so um we i i came i was previously at the ft",
    "start": "1606159",
    "end": "1612640"
  },
  {
    "text": "where we could have really great observability in all of our microservices but",
    "start": "1612640",
    "end": "1618080"
  },
  {
    "text": "it doesn't mean anything at that scale because one message really doesn't mean much so you're definitely",
    "start": "1618080",
    "end": "1624720"
  },
  {
    "text": "looking for trends you're looking for anomaly detection versus it's all about the metrics at this point so you're you're you end up",
    "start": "1624720",
    "end": "1631840"
  },
  {
    "text": "being i suppose with that sort of monitoring you end up being sort of what you know another step removed from the",
    "start": "1631840",
    "end": "1637279"
  },
  {
    "text": "you know the uh the underlying systems that you're running definitely you can be opinionated but",
    "start": "1637279",
    "end": "1642320"
  },
  {
    "text": "you can't you can't delve into it and reason about what what you're actually transporting from a to b",
    "start": "1642320",
    "end": "1647600"
  },
  {
    "text": "and it's the monitoring has to evolve too um i hope that it was spoken about the talk",
    "start": "1647600",
    "end": "1653520"
  },
  {
    "text": "yesterday but we traditionally you sort of check if something enters the system and",
    "start": "1653520",
    "end": "1659440"
  },
  {
    "text": "then comes out the system just by comparing you can compare in an rds anything like this you can't do it at",
    "start": "1659440",
    "end": "1665600"
  },
  {
    "text": "that scale it just breaks so we're using problemistic data",
    "start": "1665600",
    "end": "1670880"
  },
  {
    "text": "structures to give us an indication of when there might be an issue",
    "start": "1670880",
    "end": "1676480"
  },
  {
    "text": "which it was quite a funky uh solution yeah so um could you give us an example",
    "start": "1676480",
    "end": "1682159"
  },
  {
    "text": "of that how does that you know how how would a uh you know probabilistic data monitoring",
    "start": "1682159",
    "end": "1688159"
  },
  {
    "text": "work so um i'm not a huge expert on this actual part of it",
    "start": "1688159",
    "end": "1693360"
  },
  {
    "text": "uh hermann was definitely the person um but basically it's just saying that given a",
    "start": "1693360",
    "end": "1698880"
  },
  {
    "text": "set we've got the probability that it's we we're always going to get a definite answer of when it's not there",
    "start": "1698880",
    "end": "1706000"
  },
  {
    "text": "or no the opposite way around when it is there so you can compare and contrast if you get the same answer from both sides",
    "start": "1706000",
    "end": "1712640"
  },
  {
    "text": "so you're just actually trying to do more like set logic than than uh than actual comparisons yes",
    "start": "1712640",
    "end": "1719360"
  },
  {
    "text": "indeed i imagine that the debugging problems and investigating investigating production issues must be",
    "start": "1719360",
    "end": "1725360"
  },
  {
    "text": "uh a whole different ball game in that circumstance it is and the the trouble is that we end",
    "start": "1725360",
    "end": "1732240"
  },
  {
    "text": "up breaking things that you don't find on the internet we we regularly break aws aws",
    "start": "1732240",
    "end": "1738880"
  },
  {
    "text": "uh use us and they they're quite proud of the fact they use us for testing so you are sort of",
    "start": "1738880",
    "end": "1744640"
  },
  {
    "text": "essentially a chaos monkey for aws exactly that yeah",
    "start": "1744640",
    "end": "1750559"
  },
  {
    "text": "that's a fantastic side business to run i suppose but yeah it's uh it does make life",
    "start": "1750559",
    "end": "1756640"
  },
  {
    "text": "interesting yes no that that's uh so how how how do you approach it then trying to fix a",
    "start": "1756640",
    "end": "1761760"
  },
  {
    "text": "problem because you you know obviously you are you just like you know throwing some stuff at the wall to see what lowers",
    "start": "1761760",
    "end": "1768080"
  },
  {
    "text": "your error rate or so we can definitely reason about things we we're in the massive process of",
    "start": "1768080",
    "end": "1773600"
  },
  {
    "text": "trying to um sort of uh separate the uh concerns of our system so as we isolate",
    "start": "1773600",
    "end": "1780880"
  },
  {
    "text": "at least the different types of data we can isolate the problem a little bit better uh our metrics are good as well",
    "start": "1780880",
    "end": "1787440"
  },
  {
    "text": "so we can often see where traffic is stopping or slowing down we've got quite advanced sort of monitoring of uh",
    "start": "1787440",
    "end": "1794320"
  },
  {
    "text": "latency through the system uh which is is definitely the indicator that something's gone a",
    "start": "1794320",
    "end": "1800159"
  },
  {
    "text": "bit wrong yeah so so you've sort of in some ways i imagine you can sort of abandon",
    "start": "1800159",
    "end": "1806559"
  },
  {
    "text": "stack traces at this point and it's oh yeah yeah no you don't look at logs yeah no one",
    "start": "1806559",
    "end": "1813360"
  },
  {
    "text": "it's uh yeah i suppose when you've got uh however many clusters it was 400 clusters worth of logs and",
    "start": "1813360",
    "end": "1819360"
  },
  {
    "text": "four thousand sorry four thousand i was only off by one order of magnitude there um yes so",
    "start": "1819360",
    "end": "1824559"
  },
  {
    "text": "when you've got that many logs uh log clusters then looking through the logs it's just points it does become pointless yeah um",
    "start": "1824559",
    "end": "1831919"
  },
  {
    "text": "so um when you're when you're trying to control this system and you're sort of",
    "start": "1831919",
    "end": "1838000"
  },
  {
    "text": "you know sitting sitting one step back and having this uh you know this the system run before you how do you",
    "start": "1838000",
    "end": "1844960"
  },
  {
    "text": "sort of um scale up and scale down automatically or or",
    "start": "1844960",
    "end": "1850559"
  },
  {
    "text": "not even manually do that but you know automatically create the system to scale up and scale down in in order to control the latency",
    "start": "1850559",
    "end": "1858320"
  },
  {
    "text": "without overshooting over provisioning or provisioning in such a way that another",
    "start": "1858320",
    "end": "1863519"
  },
  {
    "text": "system ends up getting too much traffic and slow down so we've got a couple of different auto scaling",
    "start": "1863519",
    "end": "1869840"
  },
  {
    "text": "methods but uh the the one that i'm kind of most familiar with is actually we've got this go application that roots",
    "start": "1869840",
    "end": "1877519"
  },
  {
    "text": "all of our traffic and this is like the most critical application in our world",
    "start": "1877519",
    "end": "1883120"
  },
  {
    "text": "that goes down skyscanner is in trouble and we we scale that via cpu",
    "start": "1883120",
    "end": "1890080"
  },
  {
    "text": "and there's an interesting reason why we scale it by cpu and it's not a good one um we haven't actually put a limit on",
    "start": "1890080",
    "end": "1897919"
  },
  {
    "text": "how many uh how many processors it can spawn and we found out the hard way that if we",
    "start": "1897919",
    "end": "1904799"
  },
  {
    "text": "didn't do cpu it would just out of memory because it would keep one it wouldn't scale so just go one",
    "start": "1904799",
    "end": "1912399"
  },
  {
    "text": "then bang yeah but we we do over provision",
    "start": "1912399",
    "end": "1917840"
  },
  {
    "text": "sometimes we do it manually when we see things are going a little bit wonky it will do some auto scaling but",
    "start": "1917840",
    "end": "1924080"
  },
  {
    "text": "there's certainly been times where for example they were in japan",
    "start": "1924080",
    "end": "1930640"
  },
  {
    "text": "there was a talk show and they put they showed skyscanner on their",
    "start": "1930640",
    "end": "1935840"
  },
  {
    "text": "phone uh this sent an unbelievable amount of traffic",
    "start": "1935840",
    "end": "1941120"
  },
  {
    "text": "immediately to the site and we we're running on ecs we could it wasn't",
    "start": "1941120",
    "end": "1947440"
  },
  {
    "text": "scaling quick enough and then we were failing over to another region which of course it was knocking out the next region and so on and so",
    "start": "1947440",
    "end": "1954000"
  },
  {
    "text": "forth yeah i imagine these sort of cascading problems must be a a worry that you have to deal",
    "start": "1954000",
    "end": "1960080"
  },
  {
    "text": "with yeah we've now we've now deployed that to four regions we're hoping to go to 10.",
    "start": "1960080",
    "end": "1966000"
  },
  {
    "text": "so yeah all over worldwide deployment yeah yep yep um uh well i you know from",
    "start": "1966000",
    "end": "1972159"
  },
  {
    "text": "starting we can we can empathize a little bit with the the being unexpectedly displayed on talk",
    "start": "1972159",
    "end": "1977519"
  },
  {
    "text": "show and then you know having your your system suddenly overloaded although not by the same extent i",
    "start": "1977519",
    "end": "1984000"
  },
  {
    "text": "imagine um cool thank you very much nikki um so i'd now like to",
    "start": "1984000",
    "end": "1989279"
  },
  {
    "text": "um throw things open to the uh to the floor and get you to see if you have any",
    "start": "1989279",
    "end": "1994720"
  },
  {
    "text": "questions uh for that so we have a question right over there at the back our uh",
    "start": "1994720",
    "end": "2000559"
  },
  {
    "text": "thank you very much greg is doubling up as the uh our charming assistant here",
    "start": "2000559",
    "end": "2006640"
  },
  {
    "text": "and if i could sorry just before i begin just to set expectations if i could ask um if you have a question please have a",
    "start": "2009120",
    "end": "2015200"
  },
  {
    "text": "question uh if you have three questions pick one um and try not to make a statement if you have",
    "start": "2015200",
    "end": "2021760"
  },
  {
    "text": "a multi-part uh complicated question i guarantee you that we will have forgotten it by the",
    "start": "2021760",
    "end": "2027519"
  },
  {
    "text": "time you finish uh hopefully it's just one question um so we have a monolith on our platform",
    "start": "2027519",
    "end": "2033200"
  },
  {
    "text": "and i'm interested in looking at how we break it apart and one of the things that um i am curious about is how you think",
    "start": "2033200",
    "end": "2040960"
  },
  {
    "text": "about um the permissions and authentication between those services so going off sam's sam newman's",
    "start": "2040960",
    "end": "2048480"
  },
  {
    "text": "talk yesterday talk about exposing an api in the monolith that a microservice could then",
    "start": "2048480",
    "end": "2054079"
  },
  {
    "text": "um consume from but how do you think about authentication to do you just assume that because it's",
    "start": "2054079",
    "end": "2059599"
  },
  {
    "text": "internal like anything goes or do you use something else yeah what do we do",
    "start": "2059599",
    "end": "2065520"
  },
  {
    "text": "who wants to take that first how do you make sure that uh your traffic between your different services",
    "start": "2065520",
    "end": "2071599"
  },
  {
    "text": "uh how do you deal with authentication or do you deal with authentication do you just go you know we've received a",
    "start": "2071599",
    "end": "2077440"
  },
  {
    "text": "request from an internal service it must be good i mean i'm happy to take the first contact um",
    "start": "2077440",
    "end": "2084000"
  },
  {
    "text": "i think assuming that everything internal is safe",
    "start": "2084000",
    "end": "2089040"
  },
  {
    "text": "i mean initially that might be okay but i think you know the moment you get to some",
    "start": "2089040",
    "end": "2094800"
  },
  {
    "text": "scale i don't think that's an assumption that can be made universally you know it only takes",
    "start": "2094800",
    "end": "2100320"
  },
  {
    "text": "not even something malicious but something accidental uh to knock another part of the system out",
    "start": "2100320",
    "end": "2106000"
  },
  {
    "text": "uh it's something that's like pretty pretty common uh you know one micro service that shouldn't be talking to another",
    "start": "2106000",
    "end": "2111359"
  },
  {
    "text": "microservices maybe it's got like a stealth dns entry and it's just flooding it with a bunch of traffic and it's not provisioned correctly that",
    "start": "2111359",
    "end": "2118160"
  },
  {
    "text": "sort of like accidental failure happens all the time uh so for authentication specifically uh you",
    "start": "2118160",
    "end": "2124160"
  },
  {
    "text": "know we've embarked on a bunch of projects you know we've got a centralized authentication service uh which is also responsible for",
    "start": "2124160",
    "end": "2130480"
  },
  {
    "text": "internal authentication uh beginner just part of our zero trust uh policy and defense in depth",
    "start": "2130480",
    "end": "2135760"
  },
  {
    "text": "uh being a bank um these sorts of things are really important and also regulated",
    "start": "2135760",
    "end": "2140960"
  },
  {
    "text": "uh so it's mandated but also really good practice also we've embarked on projects on doing",
    "start": "2140960",
    "end": "2146720"
  },
  {
    "text": "like network level isolation where we say you know a service that is being deployed on our on our shared",
    "start": "2146720",
    "end": "2152160"
  },
  {
    "text": "multi-tenant architecture physically is blocked off using firewall rules to talk to a service that it shouldn't",
    "start": "2152160",
    "end": "2158560"
  },
  {
    "text": "be talking to so that means you know if you do get into one particular entry point like one of our api entry points",
    "start": "2158560",
    "end": "2164560"
  },
  {
    "text": "uh you know if there's like a bug or like a a security vulnerability uh that hasn't been quite patched yet",
    "start": "2164560",
    "end": "2170160"
  },
  {
    "text": "maybe like a zero day vulnerability uh you won't be have you won't have the ability to talk to",
    "start": "2170160",
    "end": "2175280"
  },
  {
    "text": "uh you know a critical part of the system like you know our transaction service or our ledger um are unauthenticated but even via the",
    "start": "2175280",
    "end": "2183119"
  },
  {
    "text": "firewall uh you know your packet literally will not be rooted there uh so even in the accidental and",
    "start": "2183119",
    "end": "2188800"
  },
  {
    "text": "in the like uh exploitation case it just won't get there",
    "start": "2188800",
    "end": "2194160"
  },
  {
    "text": "so i would um we kind of distinguish between the microservices that make up a system and the relationships between those",
    "start": "2194160",
    "end": "2200000"
  },
  {
    "text": "microservices and those that are part of another system operate by another team what we found quite useful is to",
    "start": "2200000",
    "end": "2205599"
  },
  {
    "text": "have an api gateway that since it between that and there's a couple of reasons for that so the first thing is we require you to",
    "start": "2205599",
    "end": "2211839"
  },
  {
    "text": "have an api key and we've recently made sure that we can tie that to a team rather than a person",
    "start": "2211839",
    "end": "2217680"
  },
  {
    "text": "and that's linked to a system code so we know what system is making that call and then you can add throttling and this",
    "start": "2217680",
    "end": "2224720"
  },
  {
    "text": "is a good idea because you know you you as an owner of an api are responsible for making sure",
    "start": "2224720",
    "end": "2230160"
  },
  {
    "text": "that someone else doesn't take your api down so when we were early on doing some micro services we had a developer",
    "start": "2230160",
    "end": "2236000"
  },
  {
    "text": "working on our website who managed to make 26 000 calls in parallel to one of our apis and took down one of our clusters",
    "start": "2236000",
    "end": "2243040"
  },
  {
    "text": "and i treated that as our fault because we were we didn't have the throttle set correctly it was an unscheduled",
    "start": "2243040",
    "end": "2248480"
  },
  {
    "text": "um resilience test and it failed over to the other region and we were fine but it's our fault and but that",
    "start": "2248480",
    "end": "2255839"
  },
  {
    "text": "combination of you can control at the gateway and you know who it is is really useful",
    "start": "2255839",
    "end": "2262000"
  },
  {
    "text": "um i i would also suggest that if anyone does introduce a bug into production use the phrase unscheduled resilience",
    "start": "2262000",
    "end": "2268480"
  },
  {
    "text": "test to describe how it goes so nikki that's close camera well it's it's a little bit",
    "start": "2268480",
    "end": "2273520"
  },
  {
    "text": "of a mixed bag actually um because of course the data platform needs to be quite open",
    "start": "2273520",
    "end": "2279920"
  },
  {
    "text": "uh because you've got you've got apps so we've got to have all of that data sent to us the only way you can do that is",
    "start": "2279920",
    "end": "2285599"
  },
  {
    "text": "through public open apis but once it's in our world we're actually doing more service to service",
    "start": "2285599",
    "end": "2291119"
  },
  {
    "text": "communication rather than api calls so we're hitting an api but it's then",
    "start": "2291119",
    "end": "2296560"
  },
  {
    "text": "talking immediately to kafka so we we do different sort of styles of uh",
    "start": "2296560",
    "end": "2302240"
  },
  {
    "text": "security there and authentication on that side of things and i i we've recently actually had",
    "start": "2302240",
    "end": "2308960"
  },
  {
    "text": "monzo's blog posts sent around about their zero trust network and and part of the work that",
    "start": "2308960",
    "end": "2314400"
  },
  {
    "text": "we're doing on our kubernetes world is definitely going down that route and and trying to",
    "start": "2314400",
    "end": "2320880"
  },
  {
    "text": "leverage istio as much as possible for them another question",
    "start": "2320880",
    "end": "2327838"
  },
  {
    "text": "yes hi um what i wanted to ask about was",
    "start": "2328880",
    "end": "2335440"
  },
  {
    "text": "when you have a lot of micro services like you said you know what do you call a 1 500 micro services how do you design",
    "start": "2335440",
    "end": "2342720"
  },
  {
    "text": "the database to cater for those microservices especially with a bank when you can't get away with you",
    "start": "2342720",
    "end": "2348640"
  },
  {
    "text": "know eventual consistency where you can cash and stuff like that so yeah i just want to know how it works",
    "start": "2348640",
    "end": "2355119"
  },
  {
    "text": "uh i guess this is pretty specific to the to the monzo case um one of the key tenets of our",
    "start": "2355119",
    "end": "2361280"
  },
  {
    "text": "microsoft's architecture is that uh you share data by communicating so you don't want uh like different microservices",
    "start": "2361280",
    "end": "2367680"
  },
  {
    "text": "accessing the same uh particular underlying data in your database uh especially like reads is a bit",
    "start": "2367680",
    "end": "2375599"
  },
  {
    "text": "troublesome uh but when you have mutations going on from different microservices uh that's where you're really in the",
    "start": "2375599",
    "end": "2381280"
  },
  {
    "text": "problem land uh when you've got uh things touching the same the same underlying data",
    "start": "2381280",
    "end": "2386640"
  },
  {
    "text": "they might not have the same guarantee so you might not have the same locking primitives or you might not have the same safety",
    "start": "2386640",
    "end": "2391839"
  },
  {
    "text": "you might introduce race conditions uh you might not have the same deployment strategy or a buck a bug can completely ruin your data and",
    "start": "2391839",
    "end": "2399040"
  },
  {
    "text": "then you need to resort to backups uh which is never ever ideal uh you might even have silent data",
    "start": "2399040",
    "end": "2404319"
  },
  {
    "text": "corruption uh because you've got multiple things uh touching the same uh piece of underlying data um",
    "start": "2404319",
    "end": "2411520"
  },
  {
    "text": "regarding the eventual consistency point and uh caches um i think that really depends on like",
    "start": "2411520",
    "end": "2416640"
  },
  {
    "text": "the design and the primitives that you have around writing data uh so for example uh one thing that we are pretty vocal about",
    "start": "2416640",
    "end": "2422400"
  },
  {
    "text": "is we use cassandra and we use cassandra for all of our microservices all of our microservices",
    "start": "2422400",
    "end": "2428160"
  },
  {
    "text": "that need to store data are storing it in a a cassandra cluster and that's something that we support",
    "start": "2428160",
    "end": "2435119"
  },
  {
    "text": "we've added a lot of abstractions and tooling on top to make sure that we have the consistency",
    "start": "2435119",
    "end": "2440319"
  },
  {
    "text": "guarantees that we need for our data uh of course we want to make sure that we have uh you know uh like locking primitives",
    "start": "2440319",
    "end": "2447920"
  },
  {
    "text": "and stuff like that but that goes beyond just storage of data for example if you're coordinating storage of data as well as calling a",
    "start": "2447920",
    "end": "2454640"
  },
  {
    "text": "third party for example we integrate with lots of different payment networks all of those might need to be integrated within the same like transactionality",
    "start": "2454640",
    "end": "2462480"
  },
  {
    "text": "and it might not be enough just for your database to provide so nikki i guess that you know um the uh",
    "start": "2462480",
    "end": "2470640"
  },
  {
    "text": "availability of database connections and that's uh that is a concern when you're dealing with two",
    "start": "2470640",
    "end": "2476960"
  },
  {
    "text": "million requests a second uh yeah we have a kafka cluster of 77 nodes",
    "start": "2476960",
    "end": "2482960"
  },
  {
    "text": "so uh that that's quite a few yeah it is it's pretty difficult to reason about",
    "start": "2482960",
    "end": "2488520"
  },
  {
    "text": "exceptionally hard to roll out any changes we really really difficult uh",
    "start": "2488520",
    "end": "2494640"
  },
  {
    "text": "it took us two and a half months to to to change the ami on every single one of those",
    "start": "2494640",
    "end": "2500160"
  },
  {
    "text": "um yeah so it does it though that's our biggest pain point otherwise we're",
    "start": "2500160",
    "end": "2506880"
  },
  {
    "text": "completely in that segregation mode as well you know we don't have two different services owning the same data",
    "start": "2506880",
    "end": "2513200"
  },
  {
    "text": "um and that's that's the critical critical point yeah indeed anything else or should we",
    "start": "2513200",
    "end": "2521200"
  },
  {
    "text": "okay well uh next question",
    "start": "2521200",
    "end": "2524720"
  },
  {
    "text": "hey i have a question with regards to like ownership as well as like keeping things up to date uh you mentioned like code owners that",
    "start": "2526640",
    "end": "2533359"
  },
  {
    "text": "kind of stuff um obviously as as you get a lot of services maybe it's not reasonable",
    "start": "2533359",
    "end": "2539440"
  },
  {
    "text": "for a single person to own them um and obviously holidays etc can get in",
    "start": "2539440",
    "end": "2545119"
  },
  {
    "text": "the way how do you kind of work around that yeah absolutely so i'm director for",
    "start": "2545119",
    "end": "2551520"
  },
  {
    "text": "operations reliability so i care deeply about knowing who owns systems we've got a policy that",
    "start": "2551520",
    "end": "2558480"
  },
  {
    "text": "everything should be owned by a team because yeah you can't have something owned by a person because they're working on something",
    "start": "2558480",
    "end": "2564640"
  },
  {
    "text": "else they might be on holiday it's got to be a team and everything has to be owned it's not",
    "start": "2564640",
    "end": "2570319"
  },
  {
    "text": "easy to make that happen when you've got thousands of services but you have to like",
    "start": "2570319",
    "end": "2575760"
  },
  {
    "text": "try and make sure that there's something that says you you are the team that own this and expect people to maintain good",
    "start": "2575760",
    "end": "2581760"
  },
  {
    "text": "documentation to to do things like testing backup restoring we've we've got a central um system where we track",
    "start": "2581760",
    "end": "2588400"
  },
  {
    "text": "information about our systems and we actually score it we score the operational information we've kind of gamified it",
    "start": "2588400",
    "end": "2594400"
  },
  {
    "text": "so you know if you're a group a team you can look and see how you're doing compared to other teams in terms of",
    "start": "2594400",
    "end": "2599839"
  },
  {
    "text": "having filled in the critical information and that works enormously well there are some very competitive uh",
    "start": "2599839",
    "end": "2606480"
  },
  {
    "text": "developers at the ft and you get like comments and slack of hey we've just overtaken you",
    "start": "2606480",
    "end": "2611680"
  },
  {
    "text": "again well i think my team's okay is we will be top at all points",
    "start": "2611680",
    "end": "2616800"
  },
  {
    "text": "because we wrote it so um when you when you you've got something",
    "start": "2616800",
    "end": "2622480"
  },
  {
    "text": "um owned by a team what what what do they have to take care",
    "start": "2622480",
    "end": "2627839"
  },
  {
    "text": "of you know obviously the the running of the system in the production the documentation is there anything else that they have to be able",
    "start": "2627839",
    "end": "2634079"
  },
  {
    "text": "to guarantee so if they've if they're using a platform that isn't centrally supported",
    "start": "2634079",
    "end": "2641040"
  },
  {
    "text": "they need to make sure that things are patched so you know if you if you've chosen to deploy on something different",
    "start": "2641040",
    "end": "2646560"
  },
  {
    "text": "you've got to make sure that you follow our patching policies like high severity issues are patched quickly um they",
    "start": "2646560",
    "end": "2653440"
  },
  {
    "text": "things like uh when we had to upgrade all of the code that used node because there was a security vulnerability and",
    "start": "2653440",
    "end": "2659520"
  },
  {
    "text": "that was across huge numbers of teams they are responsible for doing that if it's some a system",
    "start": "2659520",
    "end": "2664720"
  },
  {
    "text": "where we need support overnight they're responsible for being able to do that but you still have some systems where",
    "start": "2664720",
    "end": "2670720"
  },
  {
    "text": "honestly you know that no one actively knows this but we do know who we'd phone yeah",
    "start": "2670720",
    "end": "2676560"
  },
  {
    "text": "and then we just have to hope we have you know you everyone has got some engineers who can find out what",
    "start": "2676560",
    "end": "2681680"
  },
  {
    "text": "things are uh uh are happening operationally yeah you just rely on those how about hiring",
    "start": "2681680",
    "end": "2687359"
  },
  {
    "text": "is hiring you know if you if you've picked a really obscure language for your system do you have to be able",
    "start": "2687359",
    "end": "2693440"
  },
  {
    "text": "to guarantee that you can hire people who could maintain it it's interesting so i think probably language is the thing we are least",
    "start": "2693440",
    "end": "2699440"
  },
  {
    "text": "diverse in and that partly is because when you have a team who go do you know what i really like this testing framework in",
    "start": "2699440",
    "end": "2704800"
  },
  {
    "text": "scala six months later you find that no one on that team is actively interested in doing that because actually they're all",
    "start": "2704800",
    "end": "2710480"
  },
  {
    "text": "java developers so we've got fewer languages and that's not so bad",
    "start": "2710480",
    "end": "2715839"
  },
  {
    "text": "and generally i'd say that it's a mistake to hire for the technologies you're using now anyway yeah because you don't know what",
    "start": "2715839",
    "end": "2722880"
  },
  {
    "text": "you're going to be using if we'd hired in 2013 for the technologies we were using there",
    "start": "2722880",
    "end": "2728079"
  },
  {
    "text": "it's almost no overlap you know we were using we were doing java on tomcat with apaches in front of",
    "start": "2728079",
    "end": "2734079"
  },
  {
    "text": "it running on vms and now we you know node and go on containers",
    "start": "2734079",
    "end": "2739359"
  },
  {
    "text": "yeah hire people not take notices yeah um i was gonna jump jump for one one more",
    "start": "2739359",
    "end": "2745119"
  },
  {
    "text": "question that's right are you sure yeah yeah good cool um",
    "start": "2745119",
    "end": "2750400"
  },
  {
    "text": "any more questions one more over here",
    "start": "2750400",
    "end": "2755838"
  },
  {
    "text": "it was mentioned that with such a large number of micro services that standards are important",
    "start": "2761040",
    "end": "2766160"
  },
  {
    "text": "how do you go about evolving those standards or introducing new standards maybe in response to something like a",
    "start": "2766160",
    "end": "2771680"
  },
  {
    "text": "security issue or when you've got so much estate using using those standards at any time",
    "start": "2771680",
    "end": "2777200"
  },
  {
    "text": "evolutionary standards who wants to well it comes back there's several aspects of",
    "start": "2777200",
    "end": "2782560"
  },
  {
    "text": "this um we we heavily invest in our tooling which means that you can cookie cut a micro service that",
    "start": "2782560",
    "end": "2790400"
  },
  {
    "text": "works with all of our health checks all the logging all the metrics deploy it to production probably within",
    "start": "2790400",
    "end": "2795440"
  },
  {
    "text": "about five minutes that's all it would take to actually create a useful service in production and when you have such an easy way of",
    "start": "2795440",
    "end": "2802960"
  },
  {
    "text": "producing new services through a consistency you can roll out changes through that so a",
    "start": "2802960",
    "end": "2808720"
  },
  {
    "text": "lot of our tooling comes into play uh we do have a a group that is",
    "start": "2808720",
    "end": "2813839"
  },
  {
    "text": "sometimes effective sometimes not trying to document our principles but",
    "start": "2813839",
    "end": "2819520"
  },
  {
    "text": "generally engineers don't like reading confluence pages they just like doing stuff so if you can",
    "start": "2819520",
    "end": "2826319"
  },
  {
    "text": "bake it into the doing then you're in a lot better place",
    "start": "2826319",
    "end": "2831680"
  },
  {
    "text": "um for for engineers themselves like evolving standards uh like you know when",
    "start": "2831680",
    "end": "2837119"
  },
  {
    "text": "you we also have the same like cookie cutter like a service generator approach uh and you",
    "start": "2837119",
    "end": "2842400"
  },
  {
    "text": "can deploy something uh very very quickly uh if you want to evolve that for example let's say you want to change the structure that uh",
    "start": "2842400",
    "end": "2848400"
  },
  {
    "text": "engineers will will uh go towards and like you know propose a migration plan i think uh getting others on board uh",
    "start": "2848400",
    "end": "2855359"
  },
  {
    "text": "and like showcasing why this is a better approach i think if you're always permanently",
    "start": "2855359",
    "end": "2860480"
  },
  {
    "text": "stuck in one static way then you won't evolve and essentially you will fall behind and you know the the layers of complexity will catch up",
    "start": "2860480",
    "end": "2866800"
  },
  {
    "text": "to you or you'll have a bunch of people who like go off the beaten path uh and and just go",
    "start": "2866800",
    "end": "2872000"
  },
  {
    "text": "do their own thing and then now you've ended up with a like a completely uh unmaintainable mess uh because people",
    "start": "2872000",
    "end": "2879119"
  },
  {
    "text": "are frustrated with the current controls and the current restrictions uh so you know there is an element of",
    "start": "2879119",
    "end": "2884800"
  },
  {
    "text": "satisfying both sides making sure that we have uh structure and harmony but on the other",
    "start": "2884800",
    "end": "2891040"
  },
  {
    "text": "side making sure that people can propose change and you know see that forward and explain why this is a better approach",
    "start": "2891040",
    "end": "2897760"
  },
  {
    "text": "why you know this might be more flexible going forward and then once you know uh people have committed uh",
    "start": "2897760",
    "end": "2903520"
  },
  {
    "text": "going all in and committing so for example uh if there was a migration plan needed then getting all the people on board",
    "start": "2903520",
    "end": "2909040"
  },
  {
    "text": "even everyone who was not entirely convinced uh getting them on board uh and you know uh doing doing like a migration and",
    "start": "2909040",
    "end": "2916640"
  },
  {
    "text": "following the migration plan and and you know making sure that everyone is happy on the other side so you don't have a halfway house lingering around",
    "start": "2916640",
    "end": "2922960"
  },
  {
    "text": "for nine months while you've got some old services and some news services and like no one knows which is which and what",
    "start": "2922960",
    "end": "2929520"
  },
  {
    "text": "should be done now so there's a really interesting blog post i think it was slack recently",
    "start": "2929520",
    "end": "2935359"
  },
  {
    "text": "published about how you can change the engineering tooling the things that you have and they said",
    "start": "2935359",
    "end": "2941200"
  },
  {
    "text": "you know anyone's free to go off and investigate something because they think it sounds interesting at some point you decide oh this is good",
    "start": "2941200",
    "end": "2946559"
  },
  {
    "text": "at which point you have to convince everybody else and they said well you know you can make that easy you can build tools you can do",
    "start": "2946559",
    "end": "2951680"
  },
  {
    "text": "communication you should make it as easy as possible but you're always going to have a long tail and you what you have to do is say if",
    "start": "2951680",
    "end": "2957680"
  },
  {
    "text": "we're committing to it everyone is going to have to move because otherwise you end up three years in with most things on",
    "start": "2957680",
    "end": "2964720"
  },
  {
    "text": "github but something's in bitbucket and he's constant every time that you hit a problem",
    "start": "2964720",
    "end": "2970160"
  },
  {
    "text": "it's like i've got to do it three times but i i think that i totally agree that the two things that you really need to",
    "start": "2970160",
    "end": "2976000"
  },
  {
    "text": "make it um so that you're enforced",
    "start": "2976000",
    "end": "2981440"
  },
  {
    "text": "to follow the standard or at least encouraged strongly the other thing that's quite useful is visualization if you can show people whether they're",
    "start": "2981440",
    "end": "2987440"
  },
  {
    "text": "whether they are complying with the standard i think that's quite good okay thank you i think that's a good",
    "start": "2987440",
    "end": "2993920"
  },
  {
    "text": "good point to end on um thank you all very much for being here and will you please join me in thanking sohail sarah and",
    "start": "2993920",
    "end": "3001200"
  },
  {
    "text": "nikki your panel",
    "start": "3001200",
    "end": "3007760"
  }
]