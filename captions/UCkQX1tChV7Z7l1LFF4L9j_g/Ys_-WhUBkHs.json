[
  {
    "start": "0",
    "end": "20000"
  },
  {
    "text": "thank you so much for coming and thank you so much for having me the Q con audiences are always fantastic so thank",
    "start": "4400",
    "end": "11180"
  },
  {
    "text": "you so much so I'm going to be talking today about running third-party JavaScript safely so code has power",
    "start": "11180",
    "end": "21830"
  },
  {
    "start": "20000",
    "end": "20000"
  },
  {
    "text": "there's this great quote from the structure and interpretation of computer programs and it says in effect we",
    "start": "21830",
    "end": "29359"
  },
  {
    "text": "conjure the spirits of the computer with our spells so we conjure the effects or",
    "start": "29359",
    "end": "35059"
  },
  {
    "text": "we conjure the spirits of the computer with our spells and as programmers we have tremendous power right and we can",
    "start": "35059",
    "end": "42200"
  },
  {
    "text": "use this power for good or we can use it for evil so code can read our files it",
    "start": "42200",
    "end": "47300"
  },
  {
    "text": "can delete our files it can send all of our data over the network it can drain",
    "start": "47300",
    "end": "52760"
  },
  {
    "text": "our bank account and much more so my name is Kate CIL's and I work for a",
    "start": "52760",
    "end": "58489"
  },
  {
    "text": "start-up called a cleric and there's two things that you should probably know about a gorrik number one is that we are",
    "start": "58489",
    "end": "65660"
  },
  {
    "text": "building a smart contract framework that we hope can handle millions of dollars in digital assets and number two we're",
    "start": "65660",
    "end": "72770"
  },
  {
    "text": "doing so in JavaScript which probably sounds like a terrible idea right so I'll explain how we're able to",
    "start": "72770",
    "end": "80060"
  },
  {
    "text": "do that but first can I see a show of hands who's primarily a JavaScript developer okay okay so we've got a lot",
    "start": "80060",
    "end": "86959"
  },
  {
    "text": "of JavaScript developers who's primarily developing in something else Python rust",
    "start": "86959",
    "end": "92660"
  },
  {
    "text": "anything okay so a degrak like I was",
    "start": "92660",
    "end": "98509"
  },
  {
    "text": "saying we're at this intersection of cryptocurrencies and third-party JavaScript we use a lot of JavaScript",
    "start": "98509",
    "end": "104840"
  },
  {
    "text": "packages and it turns out that this intersection is just a really a plus target for attackers so what's going on",
    "start": "104840",
    "end": "112789"
  },
  {
    "text": "here so NPM has some great statistics they say that there's over 1.3 billion",
    "start": "112789",
    "end": "118580"
  },
  {
    "text": "downloads of NPM packages on an average Tuesday so that's a lot of downloads and",
    "start": "118580",
    "end": "125709"
  },
  {
    "start": "125000",
    "end": "125000"
  },
  {
    "text": "JavaScript has this rich culture of code reuse as we were saying earlier today in",
    "start": "125709",
    "end": "131150"
  },
  {
    "text": "the panel so here's some more stats from NPM there's over 800 and packages on NPM making it the",
    "start": "131150",
    "end": "138090"
  },
  {
    "text": "largest code repository in the world and the average modern web application has",
    "start": "138090",
    "end": "143790"
  },
  {
    "text": "over a thousand dependencies so NPM has this great quote they say that over 97%",
    "start": "143790",
    "end": "151380"
  },
  {
    "start": "147000",
    "end": "147000"
  },
  {
    "text": "the modern web application comes from NPM an individual developer is",
    "start": "151380",
    "end": "156959"
  },
  {
    "text": "responsible only for the final 3% that makes their application useful and",
    "start": "156959",
    "end": "162090"
  },
  {
    "text": "unique so we can think of all the time that's saved by not having to reinvent the wheel right that's hundreds of",
    "start": "162090",
    "end": "168900"
  },
  {
    "text": "millions of hours of of coding saves and I think this is a really beautiful example of the kind of cooperation that",
    "start": "168900",
    "end": "176459"
  },
  {
    "text": "humankind is capable of we have this rich civilization of code right so we",
    "start": "176459",
    "end": "181980"
  },
  {
    "text": "should be proud and NPM should be proud of everything that they've accomplished we have specialization we have experts",
    "start": "181980",
    "end": "188880"
  },
  {
    "text": "right we don't have to build everything ourselves and as long as we can rely on all these",
    "start": "188880",
    "end": "194069"
  },
  {
    "text": "package developers to be good people we're fine right but not everyone is good and not everyone is good all the",
    "start": "194069",
    "end": "200250"
  },
  {
    "text": "time people make mistakes and as super hands firm peepshow once put it people like",
    "start": "200250",
    "end": "206940"
  },
  {
    "text": "Coldplay and voted for the Nazis right so you know what happens when things go bad so using other people's code is",
    "start": "206940",
    "end": "215970"
  },
  {
    "text": "risky and it's risky because whatever package we install can basically do",
    "start": "215970",
    "end": "220980"
  },
  {
    "text": "whatever it wants so there are no restrictions and we may not find out",
    "start": "220980",
    "end": "226319"
  },
  {
    "text": "what happens until it's too late so in real life right we have this rich ecosystem we're able to buy and use the",
    "start": "226319",
    "end": "234989"
  },
  {
    "text": "things that other people create and we don't have to grow our own food or so our own clothes but imagine if",
    "start": "234989",
    "end": "241290"
  },
  {
    "text": "everything that you bought all the interactions that you had over the course of the day that coffee that you",
    "start": "241290",
    "end": "246569"
  },
  {
    "text": "bought this morning imagine if that had the power to completely take over your life right that'd be ridiculous it'd be",
    "start": "246569",
    "end": "253590"
  },
  {
    "text": "absurd but that's the situation that we're in right now with JavaScript packages we can't safely interact with",
    "start": "253590",
    "end": "259560"
  },
  {
    "text": "the things that other people have made without it potentially ruining us so",
    "start": "259560",
    "end": "265099"
  },
  {
    "text": "let's look at how authority works in node.js and I'm gonna focus on nodejs for a bit",
    "start": "265099",
    "end": "271330"
  },
  {
    "text": "here but by authority I mean the ability to do something right and so authority",
    "start": "271330",
    "end": "277060"
  },
  {
    "text": "and node comes in through the use of imports so you can require certain modules you can require the built-in",
    "start": "277060",
    "end": "282280"
  },
  {
    "text": "modules and it comes through the use of global variables and it turns out that",
    "start": "282280",
    "end": "287349"
  },
  {
    "text": "anyone or anything can import modules especially the node bolts and modules and they can use the global variables",
    "start": "287349",
    "end": "294370"
  },
  {
    "text": "and the effects of this use it's often opaque to the user right so there's nothing that you know pops up and says",
    "start": "294370",
    "end": "299979"
  },
  {
    "text": "alert alert your files are being sent over the network any of these usages could be in packages that are many",
    "start": "299979",
    "end": "306219"
  },
  {
    "text": "levels deep so that means that you know you may think you're installing something that's very simple very safe",
    "start": "306219",
    "end": "311800"
  },
  {
    "text": "but actually it could be doing something very malicious behind the scenes and node provides no mechanisms to prevent",
    "start": "311800",
    "end": "318430"
  },
  {
    "text": "this kind of access so to illustrate this let's imagine that we're building a",
    "start": "318430",
    "end": "324520"
  },
  {
    "text": "web application and we want to add a little excitement so let's say that we install this package add excitement that",
    "start": "324520",
    "end": "331330"
  },
  {
    "text": "just adds an exclamation point to the end of a stream so if this notation",
    "start": "331330",
    "end": "336699"
  },
  {
    "text": "isn't familiar this is just a template literal and so we're literally just adding an exclamation point right so our",
    "start": "336699",
    "end": "343449"
  },
  {
    "text": "hello turns into hello so it turns out that add excitement could actually be",
    "start": "343449",
    "end": "350650"
  },
  {
    "text": "written like this and we wouldn't know any different right so the from the users perspective the functionality is",
    "start": "350650",
    "end": "356979"
  },
  {
    "text": "the same right we're still adding the exclamation point but behind the scenes we're getting access to the file system",
    "start": "356979",
    "end": "363009"
  },
  {
    "text": "so FS is the built in node module for accessing the file system and we're also",
    "start": "363009",
    "end": "368740"
  },
  {
    "text": "getting access to the network through HTTP so let's say an attacker could",
    "start": "368740",
    "end": "375310"
  },
  {
    "text": "potentially say FS read file let's say that's my Bitcoin private key there and",
    "start": "375310",
    "end": "381699"
  },
  {
    "text": "they could essentially send this over the network so this code is simplified a",
    "start": "381699",
    "end": "386979"
  },
  {
    "text": "little bit but I think you can see what's happening so just through access to the node built-in modules any",
    "start": "386979",
    "end": "392860"
  },
  {
    "text": "attacker through the installation of pretty much any package can read all of our data and send it over the network so",
    "start": "392860",
    "end": "400449"
  },
  {
    "text": "in the crypto see world where we're dealing with wallets that may hold private keys that are holding digital assets this is a big",
    "start": "400449",
    "end": "407320"
  },
  {
    "text": "deal right so this is a problem so let's go over two steps to read any file so",
    "start": "407320",
    "end": "414310"
  },
  {
    "text": "number one we had to get the user or another package to install our package number two we had to import the node",
    "start": "414310",
    "end": "422500"
  },
  {
    "text": "built in module FS to get the file system and number three we had to know or we can guess and there's no penalty",
    "start": "422500",
    "end": "429850"
  },
  {
    "text": "for guessing the file path and that's it that's all we had to do right so this is",
    "start": "429850",
    "end": "437620"
  },
  {
    "start": "437000",
    "end": "437000"
  },
  {
    "text": "actually a pattern of attacks so you might have heard of the event stream incident that happened in 2018 and what",
    "start": "437620",
    "end": "444190"
  },
  {
    "text": "happened was there was this open source package maintainer dominic Tarr who had",
    "start": "444190",
    "end": "449950"
  },
  {
    "text": "over a hundred open source packages that he was responsible for and so a volunteer came up to him and said you",
    "start": "449950",
    "end": "455980"
  },
  {
    "text": "know what I'll take care of the event stream package you know let me take it off your hands and so Dominic Tarr was",
    "start": "455980",
    "end": "461950"
  },
  {
    "text": "like okay that sounds great right you know someone's going to be doing the work that I've been doing so this",
    "start": "461950",
    "end": "467080"
  },
  {
    "text": "volunteer they made some changes but they also managed to insert a malicious",
    "start": "467080",
    "end": "472720"
  },
  {
    "text": "package dependency in the event stream package and this malicious package was",
    "start": "472720",
    "end": "478240"
  },
  {
    "text": "specifically targeted for a specific cryptocurrency wallet and what it tried",
    "start": "478240",
    "end": "483910"
  },
  {
    "text": "to do was it tried to take the Bitcoin private keys X will treat them as rent or send them over the network and",
    "start": "483910",
    "end": "489000"
  },
  {
    "text": "ultimately steal Bitcoin so we saw this pack or this pattern again last year",
    "start": "489000",
    "end": "495130"
  },
  {
    "text": "with the electron native notify package and again this was trying to target",
    "start": "495130",
    "end": "500979"
  },
  {
    "text": "cryptocurrency and it was also using the file system in the network but this one",
    "start": "500979",
    "end": "506290"
  },
  {
    "text": "it was caught by NPM luckily so that's great but I think we're gonna see this",
    "start": "506290",
    "end": "511300"
  },
  {
    "text": "pattern repeat itself unless we're actually solving the root cause of this problem so what are the solutions well",
    "start": "511300",
    "end": "520000"
  },
  {
    "start": "518000",
    "end": "518000"
  },
  {
    "text": "there's always the tried-and-true solution of just ignoring it and then you know hopefully it'll be okay but",
    "start": "520000",
    "end": "526980"
  },
  {
    "text": "people are actually really trying to solve this problem right so one of the",
    "start": "526980",
    "end": "532450"
  },
  {
    "text": "solutions that people have come up with is so you know just don't use open source right write everything yourself and",
    "start": "532450",
    "end": "538980"
  },
  {
    "text": "believe it or not there are companies that are actually doing this because the stakes are so high right but we can see",
    "start": "538980",
    "end": "547480"
  },
  {
    "text": "that this isn't a very scalable solution right it's not very practical for all of us here if I had to write everything",
    "start": "547480",
    "end": "554890"
  },
  {
    "text": "myself I wouldn't get very much done right and we would lose the millions of coding hours that we save by reusing",
    "start": "554890",
    "end": "561250"
  },
  {
    "text": "other people's code so I think the solution isn't very practical so another",
    "start": "561250",
    "end": "567190"
  },
  {
    "text": "solution that people have been proposing is to fund open-source developers right",
    "start": "567190",
    "end": "572290"
  },
  {
    "text": "so let's pay someone to maintain these packages and if someone is paid to be responsible for them then hopefully the",
    "start": "572290",
    "end": "578500"
  },
  {
    "text": "security will be better so I think this is good you know we need to pay open-source maintainer x' we need to pay",
    "start": "578500",
    "end": "584650"
  },
  {
    "text": "open-source developers but just because someone is responsible doesn't mean that they can't be compromised or they don't",
    "start": "584650",
    "end": "590260"
  },
  {
    "text": "make mistakes right okay so lastly another solution that people suggest is",
    "start": "590260",
    "end": "597430"
  },
  {
    "text": "that we should audit open source code and this is also a good suggestion but code audits are not a panacea right",
    "start": "597430",
    "end": "605170"
  },
  {
    "text": "they can't solve everything there are things that code audits miss so here's",
    "start": "605170",
    "end": "611200"
  },
  {
    "start": "608000",
    "end": "608000"
  },
  {
    "text": "an example of the utility of code audits does anyone know what this code does any guesses okay so this is actually doing a",
    "start": "611200",
    "end": "621850"
  },
  {
    "text": "window dot fetch so this is accessing the network and how it's able to do this",
    "start": "621850",
    "end": "627760"
  },
  {
    "text": "is that that first line the Const I is fetch just shifted over one character",
    "start": "627760",
    "end": "632980"
  },
  {
    "text": "and then the salt in the in the third line there is actually an alias for",
    "start": "632980",
    "end": "638170"
  },
  {
    "text": "window so you can see it if if we're just manually looking at code we're trying to you know find code that's",
    "start": "638170",
    "end": "645040"
  },
  {
    "text": "problematic I would probably just skim over this and not notice at all that something problematic is happening so",
    "start": "645040",
    "end": "650650"
  },
  {
    "text": "this just goes to show that doing a manual review of code is very difficult and you know even if we had infinite",
    "start": "650650",
    "end": "657130"
  },
  {
    "text": "time to do a review we might not find this and we definitely don't have infinite time so if we go back to the",
    "start": "657130",
    "end": "665530"
  },
  {
    "start": "664000",
    "end": "664000"
  },
  {
    "text": "steps to read any file we see that a lot of the solutions they focus on number one right they want us",
    "start": "665530",
    "end": "671670"
  },
  {
    "text": "to be able to trust the open-source maintainer x' they want us to only install packages that we trust and I you",
    "start": "671670",
    "end": "679019"
  },
  {
    "text": "know I think improving this is all admirable I don't want to stop people from doing that but I think what we",
    "start": "679019",
    "end": "684089"
  },
  {
    "text": "should really be focusing on is number two and number three so what happens when the malicious code tries to import",
    "start": "684089",
    "end": "691199"
  },
  {
    "text": "the file system and it just can't great what if it can't import FS or what if it",
    "start": "691199",
    "end": "696509"
  },
  {
    "text": "the malicious code knows the file name or knows the file path and that doesn't help it at all right so there's this",
    "start": "696509",
    "end": "705839"
  },
  {
    "text": "quick great quote from Alan carp that goes towards this point he says the mistake isn't asking how can we prevent",
    "start": "705839",
    "end": "712829"
  },
  {
    "text": "attacks when we really should be asking how can we limit the damage that can be done when an attack succeeds the former",
    "start": "712829",
    "end": "719879"
  },
  {
    "text": "assumes infallibility the latter recognizes that building systems is a human process so what we actually need",
    "start": "719879",
    "end": "728699"
  },
  {
    "text": "is code isolation and it turns out through an accident of history that",
    "start": "728699",
    "end": "735300"
  },
  {
    "text": "javascript is especially good at code isolation so javascript has a clear separation between kind of the pure",
    "start": "735300",
    "end": "742649"
  },
  {
    "text": "computation and access to the outside world so it typically the host the",
    "start": "742649",
    "end": "747990"
  },
  {
    "text": "browser or node is the thing that provides access to the outside world whereas tc39 or the JavaScript Standards",
    "start": "747990",
    "end": "753959"
  },
  {
    "text": "Committee has focused on the pure computation part so through an accident of history we have this clear separation",
    "start": "753959",
    "end": "759329"
  },
  {
    "text": "so if we sever that connection we can actually get rid of a lot of the harmful effects and this is not necessarily true",
    "start": "759329",
    "end": "766889"
  },
  {
    "text": "of other languages so as JavaScript developers were actually in a really good place to start with for code",
    "start": "766889",
    "end": "773040"
  },
  {
    "text": "isolation so as I mentioned earlier in the panel discussion so javascript",
    "start": "773040",
    "end": "779069"
  },
  {
    "text": "already has the concept of a realm it's not very widely known but the realm is in the spec but basically what a realm",
    "start": "779069",
    "end": "786749"
  },
  {
    "text": "is is the environment in which code gets executed so each web page is its own",
    "start": "786749",
    "end": "792120"
  },
  {
    "text": "realm and code that executes on one web page right can't necessarily affect the",
    "start": "792120",
    "end": "798029"
  },
  {
    "text": "code that executes sin another and so with inner realm the realm starts",
    "start": "798029",
    "end": "804750"
  },
  {
    "text": "off with all of the objects that you would need when the code starts running so that includes things like object",
    "start": "804750",
    "end": "810800"
  },
  {
    "text": "function array and we call those primordial czar intrinsics so a realm",
    "start": "810800",
    "end": "817950"
  },
  {
    "text": "also consists of a global objects in a global scope so historically one way that people chose to isolate a code was",
    "start": "817950",
    "end": "826350"
  },
  {
    "text": "in the same-origin iframe but using that iframe is clunky right and we want to be able to create rounds without the",
    "start": "826350",
    "end": "832350"
  },
  {
    "text": "overhead of iframes so that was the concept behind a tc39 standards proposal",
    "start": "832350",
    "end": "839520"
  },
  {
    "text": "called realms it was what their thinking was why don't we actually create these realms without the overhead of an iframe",
    "start": "839520",
    "end": "846000"
  },
  {
    "text": "right without the dawn' and what if we could do it in a very lightweight and easy way so creating a new realm creates",
    "start": "846000",
    "end": "853830"
  },
  {
    "text": "a new set of these primordial x' and a realm is almost a perfect sandbox right",
    "start": "853830",
    "end": "860279"
  },
  {
    "text": "so whatever code is isolated in a ROM is isolated from the rest of the world and it can't cause any effects in the world",
    "start": "860279",
    "end": "867750"
  },
  {
    "text": "outside itself so malicious code that runs in a realm can do nearly no damage",
    "start": "867750",
    "end": "873529"
  },
  {
    "text": "okay so like I said this is a proposal before tc39 um it's currently at stage 2",
    "start": "873529",
    "end": "879420"
  },
  {
    "text": "which is a draft so the fact that it's a proposal means that we're hoping to push",
    "start": "879420",
    "end": "884670"
  },
  {
    "text": "it forward so that it actually gets into the JavaScript language itself okay but",
    "start": "884670",
    "end": "890630"
  },
  {
    "text": "what if realms themselves are too heavy can we go even lighter than that so",
    "start": "890630",
    "end": "897600"
  },
  {
    "start": "897000",
    "end": "897000"
  },
  {
    "text": "rather than duplicating all of the primordial z-- the things like you know object array function that sort of thing",
    "start": "897600",
    "end": "903779"
  },
  {
    "text": "a featherweight compartment just shares them and this makes the compartment much lighter so a newly created compartment",
    "start": "903779",
    "end": "910230"
  },
  {
    "text": "doesn't have access to the outside world or any of the hosts provided Authority so we can safely evaluate code in that",
    "start": "910230",
    "end": "916620"
  },
  {
    "text": "compartment so let me just show you how",
    "start": "916620",
    "end": "923310"
  },
  {
    "text": "this works",
    "start": "923310",
    "end": "925850"
  },
  {
    "text": "okay so I'm going to take the code that we saw earlier I'm gonna execute it just",
    "start": "933950",
    "end": "939079"
  },
  {
    "text": "here in the console and if it succeeds then we'll hit this URL and yep the",
    "start": "939079",
    "end": "947930"
  },
  {
    "text": "attack was successful right so now I'm going to execute the same code but I'm",
    "start": "947930",
    "end": "953180"
  },
  {
    "text": "gonna do it within a compartment and I",
    "start": "953180",
    "end": "958550"
  },
  {
    "text": "don't know if you can see at the bottom here but it says cannot read property fetch of undefined so window or self was",
    "start": "958550",
    "end": "966199"
  },
  {
    "text": "not even defined within this compartment so it had no access to the outside world right so this is great because we didn't",
    "start": "966199",
    "end": "972709"
  },
  {
    "text": "even have to read this code we didn't even have to understand what it was doing and we were still protected",
    "start": "972709",
    "end": "980829"
  },
  {
    "start": "994000",
    "end": "994000"
  },
  {
    "text": "okay but we still have a problem and that problem is known as prototype",
    "start": "994540",
    "end": "1000240"
  },
  {
    "text": "poisoning or prototypes pollution so this has kind of been a recent scourge",
    "start": "1000240",
    "end": "1006000"
  },
  {
    "text": "there's been I think at least 20 vulnerabilities that have been found in 2019 including ones in low - angular and",
    "start": "1006000",
    "end": "1015390"
  },
  {
    "text": "jQuery and so what's happening with prototype poisoning or prototype pollution there is an angular example",
    "start": "1015390",
    "end": "1022590"
  },
  {
    "text": "here on on the slide but what's happening there is that let's say we get a string from a user right and then we",
    "start": "1022590",
    "end": "1028530"
  },
  {
    "text": "try to Jason parson and then we try to merge it with an object that we already have okay so that that seems fine right",
    "start": "1028530",
    "end": "1035060"
  },
  {
    "text": "the problem is anything that has the double underscore proto double",
    "start": "1035060",
    "end": "1040500"
  },
  {
    "text": "underscore will actually be adding a key to the object prototype the the",
    "start": "1040500",
    "end": "1046589"
  },
  {
    "text": "prototypical object and so all of the objects within our own will have that key so you can imagine a kind of attack",
    "start": "1046589",
    "end": "1053460"
  },
  {
    "text": "where let's say some kind of mechanism is is restricted to only objects that",
    "start": "1053460",
    "end": "1059940"
  },
  {
    "text": "have like admin equals true or something like that right so an attacker could just put in you know proto and then",
    "start": "1059940",
    "end": "1069090"
  },
  {
    "text": "admin equals true and then all of a sudden you know they have access to everything right so you can imagine that kind of attack here's another example of",
    "start": "1069090",
    "end": "1075840"
  },
  {
    "text": "prototype poisoning so if we're able to modify array prototype map then we can",
    "start": "1075840",
    "end": "1084120"
  },
  {
    "text": "actually change it to do whatever we want but we can retain the original functionality so from the outside it",
    "start": "1084120",
    "end": "1089820"
  },
  {
    "text": "looks the same right but under the hood it's actually sending all of the data in",
    "start": "1089820",
    "end": "1095010"
  },
  {
    "text": "the array over the network so not great right so to solve the problem of prototype",
    "start": "1095010",
    "end": "1103290"
  },
  {
    "text": "poisoning or prototype pollution what we can do is that we can use these compartments but we're also going to use",
    "start": "1103290",
    "end": "1109080"
  },
  {
    "text": "transitive freezing or what we call hardening and we want to try to freeze all of the primordial so that when",
    "start": "1109080",
    "end": "1115200"
  },
  {
    "text": "someone tries to change the behavior of map or when someone tries to change object they just simply can't because",
    "start": "1115200",
    "end": "1122070"
  },
  {
    "text": "it's frozen okay so it's s or secure ACMA script",
    "start": "1122070",
    "end": "1128410"
  },
  {
    "text": "that does this kind of hardening the that does this kind of freezing is pretty easy to use all you have to do is",
    "start": "1128410",
    "end": "1134560"
  },
  {
    "text": "do an NPM install and then this particular API is actually new of the",
    "start": "1134560",
    "end": "1139750"
  },
  {
    "text": "last week or so so things are really kind of rapidly in flux but what you do is you import a lockdown function in",
    "start": "1139750",
    "end": "1146410"
  },
  {
    "text": "that lockdown function once you call it it freezes all of the primordial x' in the room that you're already in and then",
    "start": "1146410",
    "end": "1153340"
  },
  {
    "text": "once you do that you can create new compartments within that ROM that will allow you to safely execute third-party",
    "start": "1153340",
    "end": "1159880"
  },
  {
    "text": "code oh and you might notice that we",
    "start": "1159880",
    "end": "1164920"
  },
  {
    "text": "have two stringify the code right now so we're still working on kind of the developer ergonomics issues okay so what",
    "start": "1164920",
    "end": "1173830"
  },
  {
    "text": "if our code actually needs a lot of authority right you might be saying you know isolation is all you know is all",
    "start": "1173830",
    "end": "1181390"
  },
  {
    "text": "well and good but my code my code needs access to the file system my code need ax needs access to the network right",
    "start": "1181390",
    "end": "1188820"
  },
  {
    "text": "okay so there's this thing called the principle of least Authority or Pola",
    "start": "1188820",
    "end": "1194560"
  },
  {
    "text": "it's also known as the principle of least privilege but Paula doesn't sound is great so what Pola means is that",
    "start": "1194560",
    "end": "1202720"
  },
  {
    "text": "there should be no ambient Authority and no excess Authority so by no ambient",
    "start": "1202720",
    "end": "1207970"
  },
  {
    "text": "Authority we mean that by default the code shouldn't have any authority so you know how you know in your normal node",
    "start": "1207970",
    "end": "1215130"
  },
  {
    "text": "programming you can import all of the node built-in modules you can install scripts you can do all that kind of",
    "start": "1215130",
    "end": "1220690"
  },
  {
    "text": "stuff we shouldn't be able to do that under Pola right so the authority should be explicitly granted by something",
    "start": "1220690",
    "end": "1227290"
  },
  {
    "text": "external it also means no access Authority so only the bare minimum",
    "start": "1227290",
    "end": "1233200"
  },
  {
    "text": "authority should be given so don't give any authority more than is necessary so",
    "start": "1233200",
    "end": "1239740"
  },
  {
    "start": "1239000",
    "end": "1239000"
  },
  {
    "text": "let's look at an example let's do a simple command line to do app we're only",
    "start": "1239740",
    "end": "1246550"
  },
  {
    "text": "gonna be able to add in display tasks we're not going to be able to delete them and the tasks are just gonna be",
    "start": "1246550",
    "end": "1251620"
  },
  {
    "text": "saved to a file right so that's going to be very very simple and we're gonna use two packages we're going to use char",
    "start": "1251620",
    "end": "1257560"
  },
  {
    "text": "and minimus both of which have over 35 million weekly downloads and what truck",
    "start": "1257560",
    "end": "1264460"
  },
  {
    "text": "does is that it adds color to the console logs so you know you might be red green blue whatever it is and",
    "start": "1264460",
    "end": "1270660"
  },
  {
    "text": "minimus just parses the command line arguments for us okay so here's an example of it in use",
    "start": "1270660",
    "end": "1277600"
  },
  {
    "text": "let's say let's add it to do to pay the bills let's add it to do to do laundry and then let's add pack freek Yukon and",
    "start": "1277600",
    "end": "1285820"
  },
  {
    "text": "let's set that to priority high right so it'll show up in red okay so if we",
    "start": "1285820",
    "end": "1292990"
  },
  {
    "text": "analyze the authority things start getting really interesting so first the",
    "start": "1292990",
    "end": "1298330"
  },
  {
    "text": "command line to do app it's going to need access to the filesystem right because we're gonna be reading and writing to a file it's also gonna use",
    "start": "1298330",
    "end": "1306430"
  },
  {
    "text": "minimus like I said but minimus does pretty much a pure function right so it doesn't need to use a lot of authority",
    "start": "1306430",
    "end": "1312490"
  },
  {
    "text": "it's just gonna be acting on the on the arguments that we give it chok is very interesting because it uses",
    "start": "1312490",
    "end": "1320170"
  },
  {
    "text": "a package called supports color so this chalk package that is really just about changing the color of the console logs",
    "start": "1320170",
    "end": "1327790"
  },
  {
    "text": "it's going to be using supports color which in turn uses process which is a",
    "start": "1327790",
    "end": "1334060"
  },
  {
    "text": "node built-in or sorry it's a global variable and OS which is a built-in node",
    "start": "1334060",
    "end": "1339400"
  },
  {
    "text": "module so if we have access to process",
    "start": "1339400",
    "end": "1344440"
  },
  {
    "text": "it gets very interesting because we can call process kill and all we need to know is just the process ID and we can",
    "start": "1344440",
    "end": "1351310"
  },
  {
    "text": "kill any process if we have access to oh",
    "start": "1351310",
    "end": "1356410"
  },
  {
    "text": "s we can set the priority of any process again just by knowing the the process ID",
    "start": "1356410",
    "end": "1362580"
  },
  {
    "text": "so this very simple chalk module actually has the power to kill any",
    "start": "1362580",
    "end": "1369310"
  },
  {
    "text": "process and set the priority of any process so how can we use cest how can we need secure Atma scripts to enforce",
    "start": "1369310",
    "end": "1375820"
  },
  {
    "text": "Pola so let's go over to patterns that",
    "start": "1375820",
    "end": "1381250"
  },
  {
    "start": "1378000",
    "end": "1378000"
  },
  {
    "text": "we can use to minimize Authority the first is going to be attenuation so we're gonna want to attenuate our own",
    "start": "1381250",
    "end": "1387220"
  },
  {
    "text": "access to the file system and we're going to want to it anyway chalks axis to process an OS the",
    "start": "1387220",
    "end": "1395290"
  },
  {
    "text": "second thing that we're going to go over is virtualization so we can intercept the information that chakra seats and we",
    "start": "1395290",
    "end": "1400960"
  },
  {
    "text": "can change it to whatever it is that we want okay so to attenuate our own access",
    "start": "1400960",
    "end": "1407200"
  },
  {
    "text": "to FS let's just write a simple function that will check the file path and if",
    "start": "1407200",
    "end": "1412990"
  },
  {
    "text": "it's not the the file that we expect it to be we're gonna throw an error right so pretty simple and so it's actually",
    "start": "1412990",
    "end": "1421000"
  },
  {
    "text": "attenuate we'll take the original FS object we're gonna throw away all of the",
    "start": "1421000",
    "end": "1426730"
  },
  {
    "text": "methods that we don't actually want to use right so we're just appending and reading from a file so we actually only",
    "start": "1426730",
    "end": "1432400"
  },
  {
    "text": "need the append file method and the create read stream method and in each of these you can see that we are calling",
    "start": "1432400",
    "end": "1438970"
  },
  {
    "text": "the check filename method that we saw earlier so that if it's not the exact file name that we expect we're gonna",
    "start": "1438970",
    "end": "1444490"
  },
  {
    "text": "throw okay so let's also let me go back",
    "start": "1444490",
    "end": "1449950"
  },
  {
    "text": "a bit so um there might be a question of why do you want to attenuate your own Authority right don't you trust yourself",
    "start": "1449950",
    "end": "1455050"
  },
  {
    "text": "right but people make mistakes people get compromised right so it's actually part of the best practices for Pola to",
    "start": "1455050",
    "end": "1462280"
  },
  {
    "text": "try to attenuate your own Authority okay so chalks access to OS and process so",
    "start": "1462280",
    "end": "1469660"
  },
  {
    "start": "1465000",
    "end": "1465000"
  },
  {
    "text": "first let's try to get rid of all the ambient Authority so if we're executing this within a cess compartment we've",
    "start": "1469660",
    "end": "1476080"
  },
  {
    "text": "already solved that problem we actually can't import OS and process right so",
    "start": "1476080",
    "end": "1482800"
  },
  {
    "text": "actually what we're gonna want to do is to be able to pass in that authority instead in the form of arguments so we",
    "start": "1482800",
    "end": "1489550"
  },
  {
    "text": "rewrite chalk so that it takes in OS and process and we do the same thing to",
    "start": "1489550",
    "end": "1495190"
  },
  {
    "text": "supports color as well",
    "start": "1495190",
    "end": "1498509"
  },
  {
    "text": "okay so the reason why supports color needed OS was simply to get this string",
    "start": "1501480",
    "end": "1509669"
  },
  {
    "text": "for the release is this is crazy but actually I guess there's if I remember",
    "start": "1509669",
    "end": "1515010"
  },
  {
    "text": "it correctly there was some kind of color blue that doesn't show up on a certain Windows system and so it needed",
    "start": "1515010",
    "end": "1522539"
  },
  {
    "text": "access to OS just to find out if it was that particular type of machine so that it would know how to you know change the",
    "start": "1522539",
    "end": "1528750"
  },
  {
    "text": "color of blue so it show up so that incredible authority that we thought we",
    "start": "1528750",
    "end": "1533909"
  },
  {
    "text": "needed it actually doesn't eat at all so what we can do is take the original OS object and just pass along the release",
    "start": "1533909",
    "end": "1540539"
  },
  {
    "text": "and not pass along anything else okay so that was attenuation and then for",
    "start": "1540539",
    "end": "1547110"
  },
  {
    "text": "virtualization we're gonna actually take the process global variable and we're",
    "start": "1547110",
    "end": "1554370"
  },
  {
    "text": "gonna only pass along the things that are necessary so you can see we're creating a new hardened or transitively",
    "start": "1554370",
    "end": "1559860"
  },
  {
    "text": "frozen process that has mostly the same thing but for a platform we can actually",
    "start": "1559860",
    "end": "1566760"
  },
  {
    "text": "put whatever we want there so I'm using a Mac right now but we can put win32 if we want to and we can effectively",
    "start": "1566760",
    "end": "1573450"
  },
  {
    "text": "intercept the information that the chalk package gets so when it comes to",
    "start": "1573450",
    "end": "1582240"
  },
  {
    "start": "1578000",
    "end": "1578000"
  },
  {
    "text": "enforcing Pola and access control it turns out that actually the best way to",
    "start": "1582240",
    "end": "1587309"
  },
  {
    "text": "enforce Pola is to use something called object capabilities and to not use identity based access control or access",
    "start": "1587309",
    "end": "1594210"
  },
  {
    "text": "control lists so this is very simplified but typically in access control right",
    "start": "1594210",
    "end": "1600929"
  },
  {
    "start": "1596000",
    "end": "1596000"
  },
  {
    "text": "you're you're mapping people or accounts to some sort of centralized permissions right so you know does Susan have the",
    "start": "1600929",
    "end": "1609450"
  },
  {
    "text": "permission read location does David have the permission right to file so very simplified but I think you get where I'm",
    "start": "1609450",
    "end": "1615539"
  },
  {
    "text": "going and then performing an action it does a lookup in this table to see if",
    "start": "1615539",
    "end": "1621470"
  },
  {
    "text": "whoever was originally calling it has that permission okay so that's the typical case by object capabilities and",
    "start": "1621470",
    "end": "1629039"
  },
  {
    "text": "object capabilities there's no separation of designation from Authority so",
    "start": "1629039",
    "end": "1634429"
  },
  {
    "text": "and there's no centralized permissions so we kind of saw object capabilities already in our attenuation patterns but",
    "start": "1634429",
    "end": "1641029"
  },
  {
    "text": "basically what you're doing is that you have the authority to do something if you have a reference to the object that",
    "start": "1641029",
    "end": "1647749"
  },
  {
    "text": "has a method that allows you to actually do that so your designation and authority are actually embedded in the",
    "start": "1647749",
    "end": "1653480"
  },
  {
    "text": "same thing in the same object and all the authorities and the methods themselves so JavaScript has unforgeable",
    "start": "1653480",
    "end": "1663649"
  },
  {
    "text": "references so that means that you know we can't if we don't have access to a specific object there's no way that we",
    "start": "1663649",
    "end": "1670190"
  },
  {
    "text": "can kind of fake our way or a guess our way into getting there we only have access to an object if someone grants us",
    "start": "1670190",
    "end": "1675590"
  },
  {
    "text": "access to it and it has a clear separation from the outside world again and so javascript is actually very well",
    "start": "1675590",
    "end": "1682759"
  },
  {
    "text": "designed for object capabilities in the use of that pattern and under object",
    "start": "1682759",
    "end": "1689090"
  },
  {
    "text": "capabilities it's very easy to reason about Authority because the graph of which objects have references to which",
    "start": "1689090",
    "end": "1695389"
  },
  {
    "text": "other objects is actually the graph of Authority so if you're interested in more on object capabilities",
    "start": "1695389",
    "end": "1701600"
  },
  {
    "text": "I really recommend ship Morningstar's post at habitat chronicles comm um it's",
    "start": "1701600",
    "end": "1707840"
  },
  {
    "text": "a great read so let's go over assess as",
    "start": "1707840",
    "end": "1713029"
  },
  {
    "text": "used today so like I was saying so realms is at stage two suss is at stage",
    "start": "1713029",
    "end": "1721879"
  },
  {
    "text": "one at tc39 but people have already started using it so first moddable is a",
    "start": "1721879",
    "end": "1730369"
  },
  {
    "text": "company that's doing JavaScript for the Internet of Things so it's it's a little similar to the talk that Gordon gave",
    "start": "1730369",
    "end": "1735830"
  },
  {
    "text": "this morning and they have this javascript engine called XS that's",
    "start": "1735830",
    "end": "1742460"
  },
  {
    "text": "specifically for embedded devices and they've already built cess for XS and",
    "start": "1742460",
    "end": "1748940"
  },
  {
    "text": "they use us to enable users to safely install apps using JavaScript on their",
    "start": "1748940",
    "end": "1755929"
  },
  {
    "text": "IOT devices so you can imagine I think they have a whirlpool washer I think",
    "start": "1755929",
    "end": "1761450"
  },
  {
    "text": "they have an oven light bulbs other things like that that are already JavaScript which is pretty insane",
    "start": "1761450",
    "end": "1767480"
  },
  {
    "text": "pretty cool so they gave they gave a demo recently where they allowed users",
    "start": "1767480",
    "end": "1773539"
  },
  {
    "text": "to write scripts that would run on LED light bulb and what's really cool is",
    "start": "1773539",
    "end": "1779539"
  },
  {
    "text": "that they were able to restrict the scripts so that number one the scripts",
    "start": "1779539",
    "end": "1785059"
  },
  {
    "text": "had no access to any of the configuration settings this this has actually been a big problem in IOT",
    "start": "1785059",
    "end": "1790519"
  },
  {
    "text": "devices is that you know something that you're running could actually get access to your Wi-Fi password something like",
    "start": "1790519",
    "end": "1796730"
  },
  {
    "text": "that the scripts also had were limited in the maximum brightness so it didn't",
    "start": "1796730",
    "end": "1802309"
  },
  {
    "text": "blow out the LED light and lastly they restricted the frequency of change so",
    "start": "1802309",
    "end": "1809149"
  },
  {
    "text": "that someone couldn't write a scripts that would trigger a seizure or anything like that so another example is metamath",
    "start": "1809149",
    "end": "1818510"
  },
  {
    "text": "lava mote so meta mask is one of the main etherium wallets and they're using",
    "start": "1818510",
    "end": "1824120"
  },
  {
    "text": "sus to kind of pin down their supply chain so they have a browser fie and web",
    "start": "1824120",
    "end": "1830120"
  },
  {
    "text": "pack plugin that puts every dependency that these into its own cess compartment and they're using a different approach",
    "start": "1830120",
    "end": "1836510"
  },
  {
    "text": "than what I just went over they're using kind of a backwards compatible approach so they don't want to rewrite all of",
    "start": "1836510",
    "end": "1842389"
  },
  {
    "text": "their different dependencies instead what they're doing is that they're creating a manifest of the authority that's currently being used and then",
    "start": "1842389",
    "end": "1849350"
  },
  {
    "text": "that is the only authority that those packages get so let's see if we can",
    "start": "1849350",
    "end": "1856000"
  },
  {
    "start": "1855000",
    "end": "1855000"
  },
  {
    "text": "actually see this okay so they have a",
    "start": "1856000",
    "end": "1863450"
  },
  {
    "text": "great visualization here so here's all of the dependencies that they use and on",
    "start": "1863450",
    "end": "1870590"
  },
  {
    "text": "the Left here is the kind of manifest that's created that shows the authority that's being used like the global",
    "start": "1870590",
    "end": "1876080"
  },
  {
    "text": "variables things like that and the other packages that are being imported so the",
    "start": "1876080",
    "end": "1881950"
  },
  {
    "text": "my visualization is a bit slow here so the the green is supposed to be safer the red is supposed to be more harmful",
    "start": "1881950",
    "end": "1889029"
  },
  {
    "text": "and so we can also see what it looks like without cess all of them are red",
    "start": "1889029",
    "end": "1896059"
  },
  {
    "text": "right because we would have no idea what any of them are doing they could all be doing things on",
    "start": "1896059",
    "end": "1902200"
  },
  {
    "start": "1912000",
    "end": "1912000"
  },
  {
    "text": "so many masks they're also using sus in the in a product that they call snaps so",
    "start": "1912350",
    "end": "1918760"
  },
  {
    "text": "what was happening in meta mask was that all of these different projects were asking for new features further",
    "start": "1918760",
    "end": "1924280"
  },
  {
    "text": "aetherium wallet right so it's getting very political you know which features are we going to add next how do we",
    "start": "1924280",
    "end": "1930620"
  },
  {
    "text": "choose that sort of thing so what they decided was that let's just allow the users to write their own scripts right",
    "start": "1930620",
    "end": "1936710"
  },
  {
    "text": "so let's create a platform a plug-in platform so that we can actually allow",
    "start": "1936710",
    "end": "1943130"
  },
  {
    "text": "custom behavior into meta masks and do so safely so this shows along with the",
    "start": "1943130",
    "end": "1948610"
  },
  {
    "text": "light bulb example that sauce is not just for securing JavaScript dependencies it can also enable you to",
    "start": "1948610",
    "end": "1955659"
  },
  {
    "text": "provide a plug-in platform and Salesforce one of the primary co-authors",
    "start": "1955659",
    "end": "1963590"
  },
  {
    "start": "1960000",
    "end": "1960000"
  },
  {
    "text": "of realms uses a version of realms in production in their locker service plugin platform which is an ecosystem of",
    "start": "1963590",
    "end": "1970460"
  },
  {
    "text": "over 5 million developers and of course",
    "start": "1970460",
    "end": "1975650"
  },
  {
    "start": "1974000",
    "end": "1974000"
  },
  {
    "text": "we're using it at Agora can our smart contracts so we use we assess to allow",
    "start": "1975650",
    "end": "1981590"
  },
  {
    "text": "users to upload their own smart contracts what we call agreements enforcing code and they can upload them",
    "start": "1981590",
    "end": "1988490"
  },
  {
    "text": "to our test net and safely interact with each other so I want to be a firm about",
    "start": "1988490",
    "end": "1995360"
  },
  {
    "start": "1993000",
    "end": "1993000"
  },
  {
    "text": "the limitations of cess so it's still a work in progress the API has been changing like I said it",
    "start": "1995360",
    "end": "2001539"
  },
  {
    "text": "changed recently in the past like week or so and we're still working on performance and developer ergonomics so",
    "start": "2001539",
    "end": "2008919"
  },
  {
    "text": "like I said earlier you have to currently stringify the code that you want to execute in this secure",
    "start": "2008919",
    "end": "2015070"
  },
  {
    "text": "environment but realms is at stage 2 in the tc39 proposal process and cess is at",
    "start": "2015070",
    "end": "2022539"
  },
  {
    "text": "stage 1 so in conclusion assess provides nearly perfect code isolation it's",
    "start": "2022539",
    "end": "2029830"
  },
  {
    "text": "scalable it's resilient it doesn't depend on trust and it enables object",
    "start": "2029830",
    "end": "2035409"
  },
  {
    "text": "capability patterns like attenuation and most importantly sess allows us to",
    "start": "2035409",
    "end": "2040570"
  },
  {
    "text": "safely interact with other people's code so we can use your help there's two",
    "start": "2040570",
    "end": "2047080"
  },
  {
    "start": "2045000",
    "end": "2045000"
  },
  {
    "text": "repos here one is the session so you can this will allow you to start using it and then the other is for the cesspools",
    "start": "2047080",
    "end": "2054490"
  },
  {
    "text": "--all at tc39 and please you know check it out play",
    "start": "2054490",
    "end": "2060398"
  },
  {
    "text": "around with it please find bugs let us know and I think",
    "start": "2060399",
    "end": "2066820"
  },
  {
    "text": "that's it thank you so much and I'd love to hear your questions thank you very",
    "start": "2066820",
    "end": "2076510"
  },
  {
    "text": "much Kate first since this actually goes back to something stuff we talked about",
    "start": "2076510",
    "end": "2082480"
  },
  {
    "text": "in JavaScript panel earlier today which was because there are so many modules in the node ecosystem the thing for me that",
    "start": "2082480",
    "end": "2090190"
  },
  {
    "text": "we really awesome is if I'm importing a module at the top level does do these",
    "start": "2090190",
    "end": "2096190"
  },
  {
    "text": "tools analyze everything all the way down the tree so I can just say this thing at all of its dependencies only",
    "start": "2096190",
    "end": "2103960"
  },
  {
    "text": "have access to this one method in does that work yeah so so if you're only",
    "start": "2103960",
    "end": "2110619"
  },
  {
    "text": "using the sus compartments and you're not using anything else it won't do any analysis for you but it will disallow",
    "start": "2110619",
    "end": "2117100"
  },
  {
    "text": "any access to the outside world whatsoever so so you start off by default you know with completely no",
    "start": "2117100",
    "end": "2123880"
  },
  {
    "text": "access so you start off from a very safe position that doesn't give you a lot of efficiency or you know ability to use it",
    "start": "2123880",
    "end": "2130960"
  },
  {
    "text": "but the approach that meta mask has been taking where they kind of they try to",
    "start": "2130960",
    "end": "2137470"
  },
  {
    "text": "look at the authority that each of these packages is requesting and then they create a manifest that restricts the",
    "start": "2137470",
    "end": "2144790"
  },
  {
    "text": "access to the that specific Authority I think is a pretty solid approach so the",
    "start": "2144790",
    "end": "2150160"
  },
  {
    "text": "event stream incident that we saw it was a sudden escalation of authority right that was unanticipated and it went",
    "start": "2150160",
    "end": "2158290"
  },
  {
    "text": "unnoticed for the most part but if we had a manifest that we were using to",
    "start": "2158290",
    "end": "2163840"
  },
  {
    "text": "restrict Authority that kind of escalation just wouldn't be possible so I think it's still in the early stages",
    "start": "2163840",
    "end": "2170619"
  },
  {
    "text": "we're gonna see patterns of use we're gonna see tools being built to help people try to decide what authorities",
    "start": "2170619",
    "end": "2176590"
  },
  {
    "text": "certain packages should get and that sort of a thing I know in the in the panel we talked earlier about having the",
    "start": "2176590",
    "end": "2182349"
  },
  {
    "text": "possibility of being able to to look at what packages are using right so maybe",
    "start": "2182349",
    "end": "2187630"
  },
  {
    "text": "when we're searching through NPM we're actually able to see what kind of",
    "start": "2187630",
    "end": "2192670"
  },
  {
    "text": "authority is being requested it and we can decide whether or not to use a package based on that so I think it's",
    "start": "2192670",
    "end": "2198910"
  },
  {
    "text": "very early it's kind of in its infancy and we haven't necessarily seen all the patterns of use that we're gonna see in",
    "start": "2198910",
    "end": "2203920"
  },
  {
    "text": "the future okay that's really that's really cool does anybody have any comments and",
    "start": "2203920",
    "end": "2217980"
  },
  {
    "text": "actually prevent the imports before they actually take like if they",
    "start": "2217980",
    "end": "2223810"
  },
  {
    "text": "are going to be safe what they are going to contain things that you are not going to authorize just to prevent import all",
    "start": "2223810",
    "end": "2230500"
  },
  {
    "text": "together so they don't build up on your code base yeah so the just to repeat the",
    "start": "2230500",
    "end": "2236680"
  },
  {
    "text": "question it was um have you considered disallowing imports entirely is that that basically it yeah yeah so by",
    "start": "2236680",
    "end": "2248230"
  },
  {
    "text": "default if you're executing the code in SS compartment you can't import anything",
    "start": "2248230",
    "end": "2253320"
  },
  {
    "text": "and so so I think like generally that would be the approach that we recommend",
    "start": "2253320",
    "end": "2258700"
  },
  {
    "text": "is that anything that you do actually have to import you if you're writing everything yourself if you're kind of",
    "start": "2258700",
    "end": "2264430"
  },
  {
    "text": "starting from scratch you really want it to be secure past those in in terms of an argument just because the the way",
    "start": "2264430",
    "end": "2271510"
  },
  {
    "text": "that imports work it's it's nice it's easy to use but it does have that kind",
    "start": "2271510",
    "end": "2276790"
  },
  {
    "text": "of ambient Authority problem where it's not clear that authority is being explicitly granted right but but I think",
    "start": "2276790",
    "end": "2286030"
  },
  {
    "text": "the tools that people are building where even you know you may be able to import something but the manifests that you you",
    "start": "2286030",
    "end": "2295599"
  },
  {
    "text": "have may determine that you know you say you're requesting something but you actually get something else kind of the virtualization pattern that we saw so",
    "start": "2295599",
    "end": "2303400"
  },
  {
    "text": "we'll have to see how those things evolve but we have a good start on that",
    "start": "2303400",
    "end": "2309960"
  },
  {
    "text": "hello you had an example on there whereby I think you were using the",
    "start": "2312640",
    "end": "2318279"
  },
  {
    "text": "compartments in order to show that fetch was on the find and that was kind of thrown back into the parent to say oh",
    "start": "2318279",
    "end": "2324710"
  },
  {
    "text": "yeah we don't have that in scope to your knowledge there might not be it's more",
    "start": "2324710",
    "end": "2329930"
  },
  {
    "text": "of an open question is there anything at work that almost acts as middleware between that and the parent to say by",
    "start": "2329930",
    "end": "2337309"
  },
  {
    "text": "the way this has tried to elevate privileges and then you could just lock that to you know century or something",
    "start": "2337309",
    "end": "2344089"
  },
  {
    "text": "like that in order to say by the way this package has tried to do something that we didn't anticipate doing yeah so",
    "start": "2344089",
    "end": "2352670"
  },
  {
    "text": "I think that's a fantastic idea I haven't seen anyone build that specifically as a package but it does",
    "start": "2352670",
    "end": "2358609"
  },
  {
    "text": "match there's a pattern and object capabilities known as like the power box pattern and my understanding is that",
    "start": "2358609",
    "end": "2366349"
  },
  {
    "text": "it's very much like that so there may be a module that keeps track of the kind of",
    "start": "2366349",
    "end": "2371359"
  },
  {
    "text": "authority that's being used and if other packages request Authority then it gets to decide whether or not they get it",
    "start": "2371359",
    "end": "2377349"
  },
  {
    "text": "yeah",
    "start": "2377349",
    "end": "2380349"
  },
  {
    "text": "the",
    "start": "2395600",
    "end": "2398600"
  },
  {
    "text": "the JavaScript metal mm-hmm so I think that's a really good question",
    "start": "2409200",
    "end": "2415480"
  },
  {
    "text": "I would advocate doing this at all levels it just happens to be that the",
    "start": "2415480",
    "end": "2420580"
  },
  {
    "text": "JavaScript level is where a goreck the company that I work at has been focused so we've been part of the tc39 s you",
    "start": "2420580",
    "end": "2430180"
  },
  {
    "text": "know Standards Committee and have been really been working at the JavaScript that the language level but of course",
    "start": "2430180",
    "end": "2435520"
  },
  {
    "text": "you know you can try to limit Authority at all the different levels and you know",
    "start": "2435520",
    "end": "2440890"
  },
  {
    "text": "that's even a better solution so I have",
    "start": "2440890",
    "end": "2446980"
  },
  {
    "text": "another I have another question for my perspective as a developer this is",
    "start": "2446980",
    "end": "2452109"
  },
  {
    "text": "really cool if you can get to work because I'm writing up the source code",
    "start": "2452109",
    "end": "2457210"
  },
  {
    "text": "and I want to release modules that people can use and I want to feel secure in myself I'm releasing secure code but it strikes",
    "start": "2457210",
    "end": "2465280"
  },
  {
    "text": "me that there has to be some tooling ultimately there let me from day zero",
    "start": "2465280",
    "end": "2471640"
  },
  {
    "text": "from today analyze my existing dependencies produce a manifest file",
    "start": "2471640",
    "end": "2477480"
  },
  {
    "text": "that's not perfect because a man moved",
    "start": "2477480",
    "end": "2487450"
  },
  {
    "text": "her world where module writers are expected to refuse do you think you'll",
    "start": "2487450",
    "end": "2496300"
  },
  {
    "text": "see that yeah definitely so there is a tool that's called tofu or trusted on",
    "start": "2496300",
    "end": "2502839"
  },
  {
    "text": "first use that Bradley furius he's kind of part of the the node security group",
    "start": "2502839",
    "end": "2508089"
  },
  {
    "text": "has been working on and that tool does pretty much exactly what you're talking",
    "start": "2508089",
    "end": "2513339"
  },
  {
    "text": "about it takes a package looks at the authority that's requested and then kind of prints out a manifest that says like",
    "start": "2513339",
    "end": "2519820"
  },
  {
    "text": "okay so this is what the package says that it needs if it's being",
    "start": "2519820",
    "end": "2525260"
  },
  {
    "text": "you know nefarious if it's being malicious if it's requesting more authority dynamically it just won't get",
    "start": "2525260",
    "end": "2531410"
  },
  {
    "text": "that authority so it takes kind of like the static analysis and creates this manifest and then tries to use that to",
    "start": "2531410",
    "end": "2537380"
  },
  {
    "text": "enforce the restriction of authority so I think you know that that's just one",
    "start": "2537380",
    "end": "2542600"
  },
  {
    "text": "open-source developers tool but I think as time goes on we'll see that become",
    "start": "2542600",
    "end": "2547760"
  },
  {
    "text": "kind of more professionalized and easier to use",
    "start": "2547760",
    "end": "2552670"
  },
  {
    "text": "movement manifest format so I have not",
    "start": "2553840",
    "end": "2561650"
  },
  {
    "text": "been part of the the standards discussions that's you know some of my other co-workers so I'm hearing the",
    "start": "2561650",
    "end": "2568280"
  },
  {
    "text": "second hand but there's definitely been movement there's a proposal I think for",
    "start": "2568280",
    "end": "2575420"
  },
  {
    "text": "module mapping and probably getting that wrong that seems quite tied to some of",
    "start": "2575420",
    "end": "2581210"
  },
  {
    "text": "the the manifest stuff that we've been talking about so there's the possibility of using the module mapping to be able",
    "start": "2581210",
    "end": "2588170"
  },
  {
    "text": "to kind of do that restriction of authority especially to say like you know when they request this actually give them this instead but one thing",
    "start": "2588170",
    "end": "2596480"
  },
  {
    "text": "that's been really exciting is at TC 53 which is the embedded devices standardize your standard Committee they",
    "start": "2596480",
    "end": "2603830"
  },
  {
    "text": "have really embraced us so moddable has been one of the companies that's been really big in TC 53 so it may be the",
    "start": "2603830",
    "end": "2611270"
  },
  {
    "text": "case that the embedded devices community gets us before the rest of JavaScript fantastic okay any further comments I",
    "start": "2611270",
    "end": "2620050"
  },
  {
    "text": "think that's a wrap thank you very much thank you [Music] [Applause]",
    "start": "2620050",
    "end": "2627820"
  }
]