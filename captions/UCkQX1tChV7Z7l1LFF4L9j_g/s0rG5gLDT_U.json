[
  {
    "start": "0",
    "end": "45000"
  },
  {
    "text": "thanks for coming to my talk uh my name is signa i work for cloudflare and today we're going to talk",
    "start": "4560",
    "end": "9599"
  },
  {
    "text": "about performance and security so if you're even missed and you're in the wrong track and",
    "start": "9599",
    "end": "15839"
  },
  {
    "text": "you wanted something about performance you will get it as well so don't worry",
    "start": "15839",
    "end": "21199"
  },
  {
    "text": "a little bit about myself uh i do performance and security at cloud fair i also am passionate about cryptography",
    "start": "22720",
    "end": "29840"
  },
  {
    "text": "and i enjoy low level programming so like linux kernel bootloaders and other low-level scary unsafe things",
    "start": "29840",
    "end": "39440"
  },
  {
    "text": "okay so performance or security right which is what is more important how many",
    "start": "39440",
    "end": "45280"
  },
  {
    "start": "45000",
    "end": "45000"
  },
  {
    "text": "of you have found themselves in this scenario where",
    "start": "45280",
    "end": "50480"
  },
  {
    "text": "like who here are security engineers okay the rest is performance right so",
    "start": "50480",
    "end": "58079"
  },
  {
    "text": "like on the end so on the other hand we have the rest of",
    "start": "58079",
    "end": "63840"
  },
  {
    "text": "the organization and usually organization drives for performance so uh because you just get better",
    "start": "63840",
    "end": "72320"
  },
  {
    "text": "like returns if you have better performance and there is always this pesky security team right which is like",
    "start": "72320",
    "end": "77520"
  },
  {
    "text": "oh you need to secure systems you need to add this and that and that sometimes that's at overhead",
    "start": "77520",
    "end": "83040"
  },
  {
    "text": "and we're continuously in this war like like what is more important",
    "start": "83040",
    "end": "88159"
  },
  {
    "text": "like there are like organizations which uh try to balance that somehow so like",
    "start": "88159",
    "end": "94400"
  },
  {
    "text": "there is always a trade they recognize there should be some trade-off we should add some security",
    "start": "94400",
    "end": "100079"
  },
  {
    "text": "we should like but really care about performance as well but the purpose of this talk is like",
    "start": "100079",
    "end": "108560"
  },
  {
    "text": "people miss opportunities that sometimes you can have both and like one helps the other and",
    "start": "108560",
    "end": "115360"
  },
  {
    "text": "we're going to explore what are the potential security",
    "start": "115360",
    "end": "121439"
  },
  {
    "text": "improvements which might give you performance but before we start let's fix some",
    "start": "121439",
    "end": "127840"
  },
  {
    "start": "126000",
    "end": "126000"
  },
  {
    "text": "terminology most when we talk about performance most people think performance like in the narrow sense",
    "start": "127840",
    "end": "133200"
  },
  {
    "text": "which is usually speed throughput or latency right so",
    "start": "133200",
    "end": "138720"
  },
  {
    "text": "sometimes you need to consider performance in the broader sense which includes all the above but",
    "start": "138720",
    "end": "144720"
  },
  {
    "text": "also you have some resource optimization we have pro process optimization or",
    "start": "144720",
    "end": "150720"
  },
  {
    "text": "something else well improve performance improvement basically means if you can get more",
    "start": "150720",
    "end": "156800"
  },
  {
    "text": "for the same cost right so anything more or you get the same for less so it",
    "start": "156800",
    "end": "163200"
  },
  {
    "text": "doesn't matter okay so let's start simple",
    "start": "163200",
    "end": "170239"
  },
  {
    "text": "like right like we're not going to jump things with security things which improve performance we just first of all",
    "start": "170239",
    "end": "177599"
  },
  {
    "text": "there are many security things which have zero performance overhead so i call it",
    "start": "177599",
    "end": "184400"
  },
  {
    "text": "zero cost security and i'll just through the pro throughout this talk i'll just walk",
    "start": "184400",
    "end": "189440"
  },
  {
    "text": "through all the examples we encountered in cloudflare and there are actually a lot of other",
    "start": "189440",
    "end": "195200"
  },
  {
    "text": "ones and there is a lot of potential elsewhere but all of these examples you might find useful and",
    "start": "195200",
    "end": "201040"
  },
  {
    "text": "implement them in your company so what does mean zero cost security there are",
    "start": "201040",
    "end": "208080"
  },
  {
    "text": "several things which fall into this category so first of all it's uh when this actual security cost is",
    "start": "208080",
    "end": "214239"
  },
  {
    "text": "negligible or it affects something but it's a non-primary metric",
    "start": "214239",
    "end": "222480"
  },
  {
    "text": "also security call security cost may be just hidden or amortized by the architecture",
    "start": "223120",
    "end": "230080"
  },
  {
    "text": "of the implementation and finally security cost is not incurred by normal",
    "start": "230080",
    "end": "237519"
  },
  {
    "text": "system behavior i call it so-called prohibitive security you will understand later why",
    "start": "237519",
    "end": "243200"
  },
  {
    "text": "okay so let's see the example of negligible security cost",
    "start": "243200",
    "end": "248560"
  },
  {
    "start": "244000",
    "end": "244000"
  },
  {
    "text": "cloudform we operate a large network and due to the nature of our business we need to run on real hardware we can't",
    "start": "248560",
    "end": "255360"
  },
  {
    "text": "use any cloud providers and one of the things we've implemented is",
    "start": "255360",
    "end": "260639"
  },
  {
    "text": "secure boot we have a lot of servers throughout the world they boot and we need to ensure that boot is",
    "start": "260639",
    "end": "266560"
  },
  {
    "text": "secure so anyone here knows how secure but works",
    "start": "266560",
    "end": "272000"
  },
  {
    "text": "or doesn't know okay",
    "start": "272000",
    "end": "276960"
  },
  {
    "text": "no no so secure boot is quite is a simple concept so",
    "start": "277600",
    "end": "282639"
  },
  {
    "text": "it usually starts with some kind of trust anchor which is on the server it's like a system firmware which",
    "start": "282639",
    "end": "287919"
  },
  {
    "text": "is called sometimes called bios so when you enable the feature it's basically the bias can verify your",
    "start": "287919",
    "end": "295440"
  },
  {
    "text": "primary bootloader when before executing it so when you verify it now you trust that bootloader right",
    "start": "295440",
    "end": "301919"
  },
  {
    "text": "so then you trust that bootleg loader to verify your operating system kernel",
    "start": "301919",
    "end": "307600"
  },
  {
    "text": "and now you extend this chain of trust to operating system kernel then because you trust your operating",
    "start": "307600",
    "end": "313039"
  },
  {
    "text": "system kernel you trust it to verify its drivers and applications so in the",
    "start": "313039",
    "end": "318479"
  },
  {
    "text": "end you build yourself a trust chain or they call it secure boot chain and in the result all running software on on",
    "start": "318479",
    "end": "325919"
  },
  {
    "text": "your systems even their remote is signed and authorized by you",
    "start": "325919",
    "end": "331680"
  },
  {
    "text": "so secure boot basically has advantages right so it ensures that all",
    "start": "331680",
    "end": "338000"
  },
  {
    "text": "running code on your system is authorized by the system owner by you",
    "start": "338000",
    "end": "343520"
  },
  {
    "text": "but from a and it's basically it's the most efficient protection from",
    "start": "343520",
    "end": "348800"
  },
  {
    "text": "persistent malware so if your system gets compromised if somebody gets",
    "start": "348800",
    "end": "353840"
  },
  {
    "text": "and exploits a vulnerability in your system the first thing the attacker would do is to ensure they are persistent right",
    "start": "353840",
    "end": "360639"
  },
  {
    "text": "so then when you reboot the system they can regain their control and secure boot is one of the most efficient features",
    "start": "360639",
    "end": "366880"
  },
  {
    "text": "like to disable that possibility for the attackers",
    "start": "366880",
    "end": "372400"
  },
  {
    "text": "but it also has some non-security improvements right when you can only run authorized",
    "start": "372720",
    "end": "379039"
  },
  {
    "text": "signed software on your system it enforces your operational procedures so this is kind of performance",
    "start": "379039",
    "end": "385120"
  },
  {
    "text": "improvement in the broader sense and so because now your operations team",
    "start": "385120",
    "end": "391199"
  },
  {
    "text": "has to always go through the version and control system to do any changes for the system and they can't do one-offs you",
    "start": "391199",
    "end": "397280"
  },
  {
    "text": "know sometimes when operations people debug an issue they kind of fix it locally and forget",
    "start": "397280",
    "end": "404319"
  },
  {
    "text": "to go through the whole process and like make sure that fix is replicated to",
    "start": "404319",
    "end": "410000"
  },
  {
    "text": "your network and then your fix is lost and also your systems run",
    "start": "410000",
    "end": "415840"
  },
  {
    "text": "only what's needed so again your operating staff cannot run their software like software one-offs on the",
    "start": "415840",
    "end": "422560"
  },
  {
    "text": "system and with a negligible security course adding security costs did not",
    "start": "422560",
    "end": "429280"
  },
  {
    "text": "add overhead to the running system because all images all signatures are checked at boot time",
    "start": "429280",
    "end": "436160"
  },
  {
    "text": "so it affects system boot time only it's a non-primary metric and like even then like modern service like",
    "start": "436160",
    "end": "443520"
  },
  {
    "text": "for us they it takes them like actual minutes to boot up and",
    "start": "443520",
    "end": "449199"
  },
  {
    "text": "get all the config and start serving production traffic so and signature checking is actually adds",
    "start": "449199",
    "end": "455599"
  },
  {
    "text": "less than a millisecond to the boot time so it's negligible",
    "start": "455599",
    "end": "460800"
  },
  {
    "text": "okay as a second category it's amortized security cost let's",
    "start": "461840",
    "end": "468560"
  },
  {
    "start": "462000",
    "end": "462000"
  },
  {
    "text": "talk about data encryption at rest who here doesn't encrypt data at rest",
    "start": "468560",
    "end": "476479"
  },
  {
    "text": "good ah you don't you don't you don't why not it's not important",
    "start": "476560",
    "end": "483599"
  },
  {
    "text": "okay uh so how does data is stored let's review the software stack you have",
    "start": "483599",
    "end": "490720"
  },
  {
    "text": "your application or services they usually write some kind of files",
    "start": "490720",
    "end": "497599"
  },
  {
    "text": "files and like file system care about files then file system translates those files",
    "start": "498560",
    "end": "504000"
  },
  {
    "text": "into data blocks and send to your operating system block success block subsystem and then",
    "start": "504000",
    "end": "509759"
  },
  {
    "text": "the blocks are getting stored in the hardware right and if you want to encrypt data at trust you can do it in",
    "start": "509759",
    "end": "515919"
  },
  {
    "text": "these various levels so you can actually just buy a self-encrypting disks",
    "start": "515919",
    "end": "521599"
  },
  {
    "text": "which is quite easy you can use your operating system for disk encryption",
    "start": "521599",
    "end": "527120"
  },
  {
    "text": "and you can encrypt actually in linux you can encrypt data directly in the file system or of",
    "start": "527120",
    "end": "533920"
  },
  {
    "text": "course you can just like add code to your application which encrypts data before writing it down",
    "start": "533920",
    "end": "540000"
  },
  {
    "text": "so in cloudflare and like many other sas businesses we prefer uh operating",
    "start": "540000",
    "end": "546480"
  },
  {
    "text": "system full disk encryption for different reasons so mostly because",
    "start": "546480",
    "end": "552000"
  },
  {
    "text": "it's very easy to set up and no configuration needed it's fully transparent to applications",
    "start": "552000",
    "end": "558880"
  },
  {
    "text": "so applications do not even know that they are writing encrypted data so data gets encrypted",
    "start": "558880",
    "end": "563920"
  },
  {
    "text": "automatically we don't roll your own our own crypto so if instead we do it in the application",
    "start": "563920",
    "end": "570399"
  },
  {
    "text": "layer and we uh go to each developer asking them to add some cryptography in their",
    "start": "570399",
    "end": "576800"
  },
  {
    "text": "software it usually goes wrong right and and unlike hardware layer it's open",
    "start": "576800",
    "end": "584800"
  },
  {
    "text": "source so we can see and audit the code and make sure it works properly like even",
    "start": "584800",
    "end": "590560"
  },
  {
    "text": "microsoft these days prefers software disk encryption over hardware disk encryption because of the latest",
    "start": "590560",
    "end": "596320"
  },
  {
    "text": "vulnerabilities found in hardware disk encryption so disk encryption is a typical example",
    "start": "596320",
    "end": "604000"
  },
  {
    "text": "of amortized security cost let's say if you follow the traditional model",
    "start": "604000",
    "end": "609200"
  },
  {
    "text": "of of a service right so if you have a server and you have like many users across the internet",
    "start": "609200",
    "end": "615760"
  },
  {
    "text": "the disk encryption does add the overhead but that overhead is usually amortized by the network latency between",
    "start": "615760",
    "end": "622800"
  },
  {
    "text": "your users and and the server so like users most likely will not notice that overhang",
    "start": "622800",
    "end": "630240"
  },
  {
    "text": "it's a bit different for us uh so cloud4 one of the main cloud for offerings is a",
    "start": "630240",
    "end": "636640"
  },
  {
    "text": "cdn so this is where we try to bring our servers as close as possible to users",
    "start": "636640",
    "end": "643120"
  },
  {
    "text": "and we're very close actually so like this oh you don't see the map",
    "start": "643120",
    "end": "649440"
  },
  {
    "text": "okay imagine there is a map here the gist is we have a lot of data",
    "start": "649600",
    "end": "656160"
  },
  {
    "text": "centers across the world more than 200 now and like each major city with internet",
    "start": "656160",
    "end": "661360"
  },
  {
    "text": "users has their own data centers and this is where the overhead of disk encryption",
    "start": "661360",
    "end": "666640"
  },
  {
    "text": "starts to get noticed by the users and at some point it was so noticeable where our users",
    "start": "666640",
    "end": "673440"
  },
  {
    "start": "669000",
    "end": "669000"
  },
  {
    "text": "started complaining we tried to look into it and basically we found that disk",
    "start": "673440",
    "end": "678800"
  },
  {
    "text": "encryption does create uh like visible overhead so this is our average cd and cache response",
    "start": "678800",
    "end": "685200"
  },
  {
    "text": "tail latency so we did a like a b test and you can see that uh the latency from uh",
    "start": "685200",
    "end": "693040"
  },
  {
    "text": "an encrypted server like is much more spikier and and you can see it clearly stands out so",
    "start": "693040",
    "end": "699760"
  },
  {
    "text": "we try to look into this problem and we just came up with a it just was",
    "start": "699760",
    "end": "705519"
  },
  {
    "text": "released last week with a patch to linux kernel which just improves this encryption",
    "start": "705519",
    "end": "712079"
  },
  {
    "text": "performance i plan to run a blog post about it but i",
    "start": "712079",
    "end": "717760"
  },
  {
    "text": "haven't done it yet so but you can check my presentation from last week and it includes link for the patches it's",
    "start": "717760",
    "end": "723279"
  },
  {
    "text": "quite interesting in its own but the gist here is that",
    "start": "723279",
    "end": "728399"
  },
  {
    "text": "when we develop the patch we expected to improve performance but we still",
    "start": "728399",
    "end": "733519"
  },
  {
    "text": "expected to see some overhead because we you definitely need to have some overhead with encryption compared",
    "start": "733519",
    "end": "741200"
  },
  {
    "text": "to things without encryption right but in the end the result was like more uh not that we expected so the blue",
    "start": "741200",
    "end": "748480"
  },
  {
    "text": "line here is in our patched encrypting implementation and it actually doesn't",
    "start": "748480",
    "end": "754240"
  },
  {
    "text": "do any overhead in our cds cdn cache tail latency",
    "start": "754240",
    "end": "760160"
  },
  {
    "start": "760000",
    "end": "760000"
  },
  {
    "text": "so yeah we expect a lower disk encryption overhead so we even we discuss like what kind of",
    "start": "760160",
    "end": "765360"
  },
  {
    "text": "overhead is accessible to balance between performance and security but we actually got none",
    "start": "765360",
    "end": "770399"
  },
  {
    "text": "and our patch doesn't change any crypto algorithm formats it just changes in the way the architecture in",
    "start": "770399",
    "end": "777040"
  },
  {
    "text": "the linux kernel disk encryption implementation uh so we deployed it immediately like",
    "start": "777040",
    "end": "784320"
  },
  {
    "text": "zero overhead data encryption is a no-brainer but the thing is what we learned that",
    "start": "784320",
    "end": "790320"
  },
  {
    "text": "if we don't see any overhead of adding disk encryption that encryption is not a bottleneck anymore right so",
    "start": "790320",
    "end": "796880"
  },
  {
    "text": "probably there is something else in our systems which is bottlenecking our tail latency now so this is so",
    "start": "796880",
    "end": "804399"
  },
  {
    "text": "this security improvement not only like added security it also encouraged us to review our cdn",
    "start": "804399",
    "end": "811120"
  },
  {
    "text": "architecture to actually seek these other bottlenecks so we want to get to the point where we see some",
    "start": "811120",
    "end": "817200"
  },
  {
    "text": "overhead from encryption",
    "start": "817200",
    "end": "821279"
  },
  {
    "text": "finally prohibitive security system calls let's talk about system who here doesn't",
    "start": "825199",
    "end": "832399"
  },
  {
    "text": "know what a system call is system calls so you have your as usual you have your",
    "start": "832399",
    "end": "839760"
  },
  {
    "text": "applications and services they don't run standalone they run on some kind of operating system and",
    "start": "839760",
    "end": "846800"
  },
  {
    "text": "it's usually we run on linux so and application cannot do stuff on their",
    "start": "846800",
    "end": "852240"
  },
  {
    "text": "own they need operating system to do stuff on their behalf like writing files and sending data over the network so",
    "start": "852240",
    "end": "859680"
  },
  {
    "text": "this so operating system has a well-defined interface for application to do that and this well-defined interface is",
    "start": "859680",
    "end": "866399"
  },
  {
    "text": "called system calls so application just call that interface into the operating",
    "start": "866399",
    "end": "871600"
  },
  {
    "text": "system here you can read files and send data over the network so linux have this nice thing",
    "start": "871600",
    "end": "879360"
  },
  {
    "start": "877000",
    "end": "877000"
  },
  {
    "text": "called seccomp who haven't heard about tecomp",
    "start": "879360",
    "end": "884800"
  },
  {
    "text": "second is the sandboxing tool in linux and what it allows you to do is actually",
    "start": "884800",
    "end": "890880"
  },
  {
    "text": "when your application starts before it actually does anything useful it the application can declare its",
    "start": "890880",
    "end": "898160"
  },
  {
    "text": "intent to the kernel it's some kind of secomp is kind of a contract where an application can say i will",
    "start": "898160",
    "end": "904720"
  },
  {
    "text": "definitely use one set of system calls but i will never use",
    "start": "904720",
    "end": "909839"
  },
  {
    "text": "other set of system codes while it's useful let's check an example imagine you are writing",
    "start": "909839",
    "end": "915519"
  },
  {
    "text": "it's a like a toy example the real life is much more complex but imagine you're writing a simple clock application and suck open",
    "start": "915519",
    "end": "923519"
  },
  {
    "text": "the linux feature so your clock application will run on linux so before you even like do something useful when your application starts",
    "start": "923519",
    "end": "930800"
  },
  {
    "text": "you tell the linux kernel hey i'm a clock up and because i'm a clock up i don't need",
    "start": "930800",
    "end": "936079"
  },
  {
    "text": "anything from you except the time i will only ask the time from the kernel",
    "start": "936079",
    "end": "942399"
  },
  {
    "text": "and when your application executes at some point it asks the kernel for the",
    "start": "942399",
    "end": "947440"
  },
  {
    "text": "time and the kernel responds properly right however",
    "start": "947440",
    "end": "954079"
  },
  {
    "text": "imagine you wrote your application in an unsafe c or assembly and your application got hacked right",
    "start": "954079",
    "end": "961680"
  },
  {
    "text": "and then the attacker tries to extract some private data and send it to its uh to their host",
    "start": "961680",
    "end": "968880"
  },
  {
    "text": "somewhere on the network so it makes like some kind of code execution uh uses",
    "start": "968880",
    "end": "974160"
  },
  {
    "text": "some code execution and tries to make your application some data of the network but because",
    "start": "974160",
    "end": "979279"
  },
  {
    "text": "linux now see you broke your promise you broke your oath you're dead",
    "start": "979279",
    "end": "984790"
  },
  {
    "text": "[Laughter] so saccomp is greatly limits the",
    "start": "984790",
    "end": "991199"
  },
  {
    "text": "potential damage of remote code execution exploits and it's zero cost overhead right so",
    "start": "991199",
    "end": "999920"
  },
  {
    "text": "of course if your application dies that's an infinite performance drop because your application doesn't",
    "start": "999920",
    "end": "1006079"
  },
  {
    "text": "run but it only happens if your application misbehaves if your application behaves as it is",
    "start": "1006079",
    "end": "1012240"
  },
  {
    "text": "intended so you will get no security overhead it also improves the improves",
    "start": "1012240",
    "end": "1018959"
  },
  {
    "text": "development velocity sometimes because when you declare your intent to",
    "start": "1018959",
    "end": "1024640"
  },
  {
    "text": "the kernel you declare what the application is intended to do but we all know that",
    "start": "1024640",
    "end": "1029760"
  },
  {
    "text": "software runs how it was programmed to run not how it was intended to do so",
    "start": "1029760",
    "end": "1035038"
  },
  {
    "text": "so you always have bugs and then you can if your application suddenly crashes",
    "start": "1035039",
    "end": "1040880"
  },
  {
    "text": "that probably it somehow behaves not the way you intended it to behave so",
    "start": "1040880",
    "end": "1046798"
  },
  {
    "text": "second just sometimes helps to find bugs in software",
    "start": "1046799",
    "end": "1053840"
  },
  {
    "text": "good any disagreements here so you all those things are examples of",
    "start": "1055280",
    "end": "1061440"
  },
  {
    "text": "zero cost security now we're going to more to talk about there are security features which",
    "start": "1061440",
    "end": "1067679"
  },
  {
    "text": "actually improves performance and here we'll probably more focus on performance in the narrow sense",
    "start": "1067679",
    "end": "1075679"
  },
  {
    "text": "http 2 who heard about http 2 yes protocol was adopted as an internet",
    "start": "1076000",
    "end": "1084240"
  },
  {
    "text": "standard in 2015 and it's a major rewrite from http 1 which",
    "start": "1084240",
    "end": "1089600"
  },
  {
    "text": "is almost 30 years old we will celebrate 30 years next year yeah unlike http1 it's a binary protocol http",
    "start": "1089600",
    "end": "1097280"
  },
  {
    "text": "one is a text based protocol it does connection multiplexing so",
    "start": "1097280",
    "end": "1103360"
  },
  {
    "text": "in http one you have to have the underlying l4 connection for each http connection for http 2 they can",
    "start": "1103360",
    "end": "1111120"
  },
  {
    "text": "reuse the one layer 4 connection for many http connections and they also",
    "start": "1111120",
    "end": "1117760"
  },
  {
    "text": "have these nice features called server push where so like http one is like re request",
    "start": "1117760",
    "end": "1123039"
  },
  {
    "text": "response button only in http 2 server can proactively push resources which it's sure the client will",
    "start": "1123039",
    "end": "1130880"
  },
  {
    "text": "request anyway and there is also http 3 by the way it's still not standardized it's just",
    "start": "1130880",
    "end": "1139520"
  },
  {
    "text": "it's another improvement and it where http 2 still uses tcp as its transfer layer http 3",
    "start": "1139520",
    "end": "1145919"
  },
  {
    "text": "uses udp for different reasons when",
    "start": "1145919",
    "end": "1151120"
  },
  {
    "text": "the http when we originally deployed our first version of http 2 we decided to measure performance and",
    "start": "1151120",
    "end": "1157760"
  },
  {
    "text": "this is like these numbers are from 2015 so it's our first implementation of http 2 and even then",
    "start": "1157760",
    "end": "1165120"
  },
  {
    "text": "our homepage our company's homepage receive like 100 performance boost like average",
    "start": "1165120",
    "end": "1172880"
  },
  {
    "text": "page load time decrease by half if it's loaded over http 2. there is",
    "start": "1172880",
    "end": "1179840"
  },
  {
    "text": "another interesting demo which visualizes the performance http 2",
    "start": "1179840",
    "end": "1184880"
  },
  {
    "start": "1180000",
    "end": "1180000"
  },
  {
    "text": "brings might bring to your service so like you see a side-by-side comparison how a big resource loads over http",
    "start": "1184880",
    "end": "1193520"
  },
  {
    "text": "1 versus http 2. good why not have it right so there is one",
    "start": "1193520",
    "end": "1199679"
  },
  {
    "text": "thing http 2 available only",
    "start": "1199679",
    "end": "1204799"
  },
  {
    "text": "via tls right so although the standard itself",
    "start": "1204799",
    "end": "1211520"
  },
  {
    "text": "does describe plain text http 2 there are no implementations which implement plain",
    "start": "1211520",
    "end": "1218000"
  },
  {
    "text": "text http 2. so if you want to http 2 you need to enable tls right of course you can",
    "start": "1218000",
    "end": "1226400"
  },
  {
    "text": "implement your own implementation but then like you consider the balance here like",
    "start": "1226400",
    "end": "1231760"
  },
  {
    "text": "the easiness of enabling tls on your service or re-implementing the whole layer 7",
    "start": "1231760",
    "end": "1237280"
  },
  {
    "text": "protocol so it's a no brain",
    "start": "1237280",
    "end": "1241600"
  },
  {
    "text": "speaking about tls who here doesn't know how tls works",
    "start": "1243679",
    "end": "1250960"
  },
  {
    "text": "so tls is a security protocol over layer 4. so this is a typical tls handshake",
    "start": "1253280",
    "end": "1261120"
  },
  {
    "text": "here it's not that easy so the blue part is a layer for tcp part",
    "start": "1261120",
    "end": "1266240"
  },
  {
    "text": "so it is in tcp you have the three-way handshakes in ack and synack and then the tls",
    "start": "1266240",
    "end": "1273039"
  },
  {
    "text": "handshakes are why do we need the tls handshake tls it has been there quite a while",
    "start": "1273039",
    "end": "1278640"
  },
  {
    "text": "and it allows for different options and cryptographic algorithms to be used",
    "start": "1278640",
    "end": "1284880"
  },
  {
    "text": "so that's why you need a handshake to actually for the client and the server to negotiate which specific",
    "start": "1284880",
    "end": "1290880"
  },
  {
    "text": "crypto in particular they'll be using for that session in tls and it happens on this stage",
    "start": "1290880",
    "end": "1298880"
  },
  {
    "text": "like a client hello and server hello mode and in tls you get the cypher suit",
    "start": "1298880",
    "end": "1304159"
  },
  {
    "text": "so it's like a combination of a key agreement so client and server dis",
    "start": "1304159",
    "end": "1309679"
  },
  {
    "text": "agree which key agreement algorithm to use which digital signature algorithm to use and",
    "start": "1309679",
    "end": "1314960"
  },
  {
    "text": "which encryption algorithm to use so the interesting part is digital",
    "start": "1314960",
    "end": "1320240"
  },
  {
    "text": "signatures here so and there are only two options nowadays",
    "start": "1320240",
    "end": "1325520"
  },
  {
    "text": "so you can use either rsa signatures or you can use elliptic curve signatures",
    "start": "1325520",
    "end": "1331760"
  },
  {
    "text": "so rsa signatures are this old older crypto system it was originally published in",
    "start": "1331760",
    "end": "1337880"
  },
  {
    "text": "7 1977 it's by its security based on the",
    "start": "1337880",
    "end": "1344320"
  },
  {
    "text": "hard problem of factoring large numbers however sub exponential complexity",
    "start": "1344320",
    "end": "1352559"
  },
  {
    "text": "cracking algorithm exists for rsa now in simple words sub-exponential means",
    "start": "1352559",
    "end": "1358559"
  },
  {
    "text": "they're not efficient yet but they're very close to being efficient",
    "start": "1358559",
    "end": "1363600"
  },
  {
    "text": "and that's why to make these algorithms unusable in practice we have",
    "start": "1363600",
    "end": "1370320"
  },
  {
    "text": "modern rsa has very large key size so that's why you should never use rsa smaller than uh",
    "start": "1370320",
    "end": "1377760"
  },
  {
    "text": "2000 bit keys in contrast ecc they call it the newer crypto system",
    "start": "1377760",
    "end": "1384559"
  },
  {
    "text": "well newer it's 1985 to be honest like and it's based on a different problem a",
    "start": "1384559",
    "end": "1391440"
  },
  {
    "text": "hard problem is based on a discrete logarithm problem over elliptic curves and because it's a different problem",
    "start": "1391440",
    "end": "1397840"
  },
  {
    "text": "there are currently no even sub efficient cracking algorithms exist for ecc",
    "start": "1397840",
    "end": "1404080"
  },
  {
    "text": "and that's why you have smaller key size like today people use roughly around 256 bit keys",
    "start": "1404080",
    "end": "1413120"
  },
  {
    "text": "okay let's compare performance of these right i run it basically yesterday on one of our",
    "start": "1413120",
    "end": "1418960"
  },
  {
    "text": "servers and here are the numbers how many signs per second can each",
    "start": "1418960",
    "end": "1425360"
  },
  {
    "text": "algorithm do and we can see that ecc signs and signs is what you care",
    "start": "1425360",
    "end": "1432720"
  },
  {
    "text": "about on your server because your server creates signatures is 15 times faster",
    "start": "1432720",
    "end": "1440799"
  },
  {
    "text": "so in the end if you switch from rsa to ecc you get faster tls handshakes",
    "start": "1440799",
    "end": "1449520"
  },
  {
    "text": "you get less cpu utilization i'll just come back to that in a moment",
    "start": "1449600",
    "end": "1454960"
  },
  {
    "text": "you get less key storage because keys are much smaller and as a side effect you get better",
    "start": "1454960",
    "end": "1461039"
  },
  {
    "text": "security because the cc is just inherently more secure right and more on",
    "start": "1461039",
    "end": "1467760"
  },
  {
    "start": "1466000",
    "end": "1466000"
  },
  {
    "text": "cpu utilization so we did this measurement in 2017",
    "start": "1467760",
    "end": "1473200"
  },
  {
    "text": "so our tls implementation we use google's boring ssl",
    "start": "1473200",
    "end": "1478480"
  },
  {
    "text": "and the interesting part and we on one of our data centers we measured",
    "start": "1478480",
    "end": "1484000"
  },
  {
    "text": "like which crypto algorithms are used during the tls handshake and how much cpu we spend on them",
    "start": "1484000",
    "end": "1489200"
  },
  {
    "text": "and the interesting part is here so if you see during our measurement we see three quarters of pls connections",
    "start": "1489200",
    "end": "1496400"
  },
  {
    "text": "used uh elliptic curve cryptography and only half the quarter used rsa",
    "start": "1496400",
    "end": "1503600"
  },
  {
    "text": "however we also measured all the cpu time we spend in the boring",
    "start": "1503600",
    "end": "1509679"
  },
  {
    "text": "ssl library the crypto library which implements all of this and from all the time our cpu is busy",
    "start": "1509679",
    "end": "1516960"
  },
  {
    "text": "executing boring ssl code almost 50 percent of that is spent",
    "start": "1516960",
    "end": "1523600"
  },
  {
    "text": "doing rsa and only eight percent is doing elliptic curve",
    "start": "1523600",
    "end": "1529520"
  },
  {
    "text": "preprography so eight percent of cpu time serves three quarters of signatures",
    "start": "1529520",
    "end": "1535039"
  },
  {
    "text": "whereas fifty percent of your cpu time in crypto small serves only a small part of rsn",
    "start": "1535039",
    "end": "1542720"
  },
  {
    "text": "that is also a little of rsa here",
    "start": "1542720",
    "end": "1547200"
  },
  {
    "text": "so switch to ecc you get instant performance boost and less cpu",
    "start": "1548880",
    "end": "1554240"
  },
  {
    "text": "utilization most people use rsa because they're afraid for compatibility",
    "start": "1554240",
    "end": "1559520"
  },
  {
    "text": "so that some clients might not support elliptic curve cryptography but actually most modern tls server implementation",
    "start": "1559520",
    "end": "1568320"
  },
  {
    "text": "actually allows you to uh to provide a fallback so basically if this because it's the",
    "start": "1568320",
    "end": "1575360"
  },
  {
    "text": "server who decides which algorithm uh to use so if the server detects the clients which",
    "start": "1575360",
    "end": "1581520"
  },
  {
    "text": "support elliptical cryptography it will use elliptic cryptography if",
    "start": "1581520",
    "end": "1587279"
  },
  {
    "text": "uh the client does not advertise it supports elliptic or cryptography the tls server can fall back to ecc so",
    "start": "1587279",
    "end": "1593919"
  },
  {
    "text": "compatibility is not the issue here",
    "start": "1593919",
    "end": "1599760"
  },
  {
    "text": "okay let's go from small server to the internet who knows how internet",
    "start": "1599760",
    "end": "1607039"
  },
  {
    "text": "works who doesn't know how internet works so",
    "start": "1607039",
    "end": "1612159"
  },
  {
    "text": "this is the internet it's it's a little bit bigger than that",
    "start": "1612159",
    "end": "1617279"
  },
  {
    "text": "but actually the point here is internet has no centralized system right so it's",
    "start": "1617279",
    "end": "1624960"
  },
  {
    "text": "very decentralized it has no skynet you can blow up and and get humanity back so it's very",
    "start": "1624960",
    "end": "1631360"
  },
  {
    "text": "distributed and internet is basically a connection a network of networks it's um connection uh network",
    "start": "1631360",
    "end": "1639279"
  },
  {
    "text": "just interact with each other in internet terminology these separate",
    "start": "1639279",
    "end": "1646240"
  },
  {
    "text": "networks they're called autonomous systems right and the way how they communicate",
    "start": "1646240",
    "end": "1651520"
  },
  {
    "text": "is via a protocol called bgp border gateway protocol",
    "start": "1651520",
    "end": "1656640"
  },
  {
    "text": "why do they need to communicate for your packet to travel from point a to point b",
    "start": "1656640",
    "end": "1661760"
  },
  {
    "text": "it needs to know the path and intermediate nodes on the internet need",
    "start": "1661760",
    "end": "1667840"
  },
  {
    "text": "to know who has specific resources or basically ip addresses so they do it via",
    "start": "1667840",
    "end": "1673600"
  },
  {
    "text": "announcements so like different autonomous systems announces which ip addresses they have so like we",
    "start": "1673600",
    "end": "1679919"
  },
  {
    "text": "have like one autonomous system which is basically cloud four because we know own this nice ip announces we have we have",
    "start": "1679919",
    "end": "1688080"
  },
  {
    "text": "one one one one and there is another autonomous systems autonomous system which announces it has",
    "start": "1688080",
    "end": "1693760"
  },
  {
    "text": "888 so it's google and you don't only announce the systems",
    "start": "1693760",
    "end": "1699360"
  },
  {
    "text": "the ip addresses you own you also announce your neighbor ap addresses because you might be an",
    "start": "1699360",
    "end": "1704880"
  },
  {
    "text": "intermediate layer where packet traverse and the point is",
    "start": "1704880",
    "end": "1710399"
  },
  {
    "text": "this the whole this whole thing is not static right so the configuration continuously",
    "start": "1710399",
    "end": "1716720"
  },
  {
    "text": "changes on the internet so these announcements come and go and sometimes and in the end uh",
    "start": "1716720",
    "end": "1724640"
  },
  {
    "text": "you get with so-called packet switching so to reach from a to b your data doesn't",
    "start": "1724640",
    "end": "1731679"
  },
  {
    "text": "always traverse the same path so because these announcements continuously change right",
    "start": "1731679",
    "end": "1738640"
  },
  {
    "text": "and in the end they may reach your destination through different paths",
    "start": "1738640",
    "end": "1744320"
  },
  {
    "start": "1744000",
    "end": "1744000"
  },
  {
    "text": "one of the major drawbacks like pgp is quite old protocol",
    "start": "1744320",
    "end": "1749360"
  },
  {
    "text": "that originally didn't have any security right so it's all these announcements",
    "start": "1749360",
    "end": "1755360"
  },
  {
    "text": "are based on like a gentleman's agreement said you kind of like your neighboring",
    "start": "1755360",
    "end": "1761600"
  },
  {
    "text": "networks expect you to announce what you own and they expect you you don't announce",
    "start": "1761600",
    "end": "1767360"
  },
  {
    "text": "what you don't own right and of course this leads to like bad actors appearing on the on the",
    "start": "1767360",
    "end": "1774240"
  },
  {
    "text": "system and they try to announce addresses they don't own it doesn't always create like complete",
    "start": "1774240",
    "end": "1781440"
  },
  {
    "text": "network failure because packets traverse different paths so some packets may go here",
    "start": "1781440",
    "end": "1786960"
  },
  {
    "text": "and some packets may go here and like what what this connection is concerned about you just get some packet loss but it's",
    "start": "1786960",
    "end": "1793440"
  },
  {
    "text": "not critical just like the network throughput is bad so internet people came up with this",
    "start": "1793440",
    "end": "1801840"
  },
  {
    "text": "thing called rpki which stands for resource public infrastructure and what it",
    "start": "1801840",
    "end": "1807440"
  },
  {
    "start": "1802000",
    "end": "1802000"
  },
  {
    "text": "basically means uh to combat this scenario you now sign your announcement right you provide",
    "start": "1807440",
    "end": "1814399"
  },
  {
    "text": "a clear cryptographic proof that you own this ip address and your neighbors are expected to check",
    "start": "1814399",
    "end": "1820080"
  },
  {
    "text": "this cryptographic proof before they accept your announcement and consider it valid",
    "start": "1820080",
    "end": "1825440"
  },
  {
    "text": "and this is a nice feature and it basically allows you to remove these bad actors",
    "start": "1825440",
    "end": "1831039"
  },
  {
    "text": "from the network so yeah rpki prevents bad actors from claiming",
    "start": "1831039",
    "end": "1836880"
  },
  {
    "text": "resources they don't own but but",
    "start": "1836880",
    "end": "1842880"
  },
  {
    "text": "but but actors these false claimers are not always bad actors sometimes you announce",
    "start": "1842880",
    "end": "1849919"
  },
  {
    "text": "invalid route because you have bugs in network equipment software you also have like all these networks",
    "start": "1849919",
    "end": "1857440"
  },
  {
    "text": "equipment is configured by real people and people make mistakes so they are like network equipment misconfiguration",
    "start": "1857440",
    "end": "1865440"
  },
  {
    "text": "so in the end why does it what when you deploy",
    "start": "1865440",
    "end": "1872159"
  },
  {
    "text": "rpki for security you kind of improve network throughput because you prevent this",
    "start": "1872159",
    "end": "1877919"
  },
  {
    "text": "misconfiguration to have any effect on the on the internet and thus",
    "start": "1877919",
    "end": "1883440"
  },
  {
    "text": "you kind of like make things faster like so uh yeah and some misconfigurations",
    "start": "1883440",
    "end": "1890480"
  },
  {
    "text": "call severe outages one example we experienced in cloud for in this blog post",
    "start": "1890480",
    "end": "1895919"
  },
  {
    "text": "when a small u.s provider called verizon announcing",
    "start": "1895919",
    "end": "1902480"
  },
  {
    "text": "correct routes and like shut off like half of the internet uh",
    "start": "1902480",
    "end": "1908080"
  },
  {
    "text": "but the minor misconfiguration take place all the time and you get some packet",
    "start": "1908080",
    "end": "1914159"
  },
  {
    "text": "loss here and there it's usually not very impactful but it just decreases your perfor",
    "start": "1914159",
    "end": "1919519"
  },
  {
    "text": "the performance so rpki in place these misconfigurations do not happen or",
    "start": "1919519",
    "end": "1925840"
  },
  {
    "text": "they're just not valid security improves performance",
    "start": "1925840",
    "end": "1931120"
  },
  {
    "text": "the final thing is uh let's talk about performance in the broader sense right",
    "start": "1932320",
    "end": "1938480"
  },
  {
    "text": "this is a final example of if you can't find performance",
    "start": "1938480",
    "end": "1944720"
  },
  {
    "text": "improvement in the narrow sense sometimes you can get performance improvements in broader sense",
    "start": "1944720",
    "end": "1949760"
  },
  {
    "start": "1949000",
    "end": "1949000"
  },
  {
    "text": "again this is called for a network but the map you can't see but it's available on our website it's",
    "start": "1949760",
    "end": "1955200"
  },
  {
    "text": "like a regular world map there's nothing special about it right",
    "start": "1955200",
    "end": "1961760"
  },
  {
    "text": "and we have a lot of these data centers more than 200 data centers they are all physical real hardware most",
    "start": "1961760",
    "end": "1968159"
  },
  {
    "text": "of these locations are co-location so we own the hardware we don't own the data center",
    "start": "1968159",
    "end": "1973760"
  },
  {
    "text": "and many of cloud 4 engineers actually never visited there are data centers we never visited",
    "start": "1973760",
    "end": "1979679"
  },
  {
    "text": "right so like we just send the hardware there it gets connected remotely and we start using it",
    "start": "1979679",
    "end": "1986080"
  },
  {
    "text": "so we have to provision a new data center a lot and it's kind of like very",
    "start": "1986080",
    "end": "1992480"
  },
  {
    "text": "time consuming operation so first we need to connect hardware it's done for us by the data center stuff",
    "start": "1992480",
    "end": "1998880"
  },
  {
    "text": "but then when we take over we need to go through this",
    "start": "1998880",
    "end": "2005120"
  },
  {
    "text": "very intimate process called verify hardware which basically because unlike in",
    "start": "2005120",
    "end": "2012480"
  },
  {
    "text": "cloud storage providers where you get a nice interface for aws we have nothing right we just have hardware somewhere",
    "start": "2012480",
    "end": "2020000"
  },
  {
    "text": "so we need to send up initial network connectivity we basically need then to manually",
    "start": "2020000",
    "end": "2025760"
  },
  {
    "text": "configure the out-of-bound interface which if you deal with hardware called bmc",
    "start": "2025760",
    "end": "2031200"
  },
  {
    "text": "sometime they usually come from the vendors unsecured so you need to actually secure",
    "start": "2031200",
    "end": "2038320"
  },
  {
    "text": "the out-of-band interface by manually going clicking buttons",
    "start": "2038320",
    "end": "2044559"
  },
  {
    "text": "then when we have a secured of band interface we need to dump all the serial numbers from the remote hardware",
    "start": "2044559",
    "end": "2050960"
  },
  {
    "text": "uh then we need to cross check the serial numbers with our inventory system to actually make sure we're dealing with",
    "start": "2050960",
    "end": "2057040"
  },
  {
    "text": "the hardware we expect it to be there is no missed hardware we receive all what we want it's in the right place",
    "start": "2057040",
    "end": "2063040"
  },
  {
    "text": "at the right time and then when we're done with it so we",
    "start": "2063040",
    "end": "2069599"
  },
  {
    "text": "do initial key provisioning to efficiently manage servers remotely you need some kind of ssh or configuration management",
    "start": "2069599",
    "end": "2076878"
  },
  {
    "text": "system and that usually comes up with using some public key cryptography each server",
    "start": "2076879",
    "end": "2082480"
  },
  {
    "text": "should have a unique public and private key pair so",
    "start": "2082480",
    "end": "2087599"
  },
  {
    "text": "yeah you need to push those keys into the server and connect them to configuration management system like",
    "start": "2087599",
    "end": "2093200"
  },
  {
    "text": "for the record in cloud4 we use salt stack and then when you connect to that server",
    "start": "2093200",
    "end": "2098480"
  },
  {
    "text": "you need to verify key fingerprint key fingerprints over secure out-of-band channel",
    "start": "2098480",
    "end": "2103920"
  },
  {
    "text": "and to ensure you're like it's all secure right and you have to do it for each",
    "start": "2103920",
    "end": "2111520"
  },
  {
    "text": "server in the data center some data centers are small some data centers are large",
    "start": "2111520",
    "end": "2116640"
  },
  {
    "text": "and in the end your operations team is like crazy",
    "start": "2116640",
    "end": "2122000"
  },
  {
    "start": "2123000",
    "end": "2123000"
  },
  {
    "text": "so what is a tpm who know who knows what is a tpm",
    "start": "2123839",
    "end": "2131280"
  },
  {
    "text": "okay actually each modern server laptop has a tpm it's",
    "start": "2131280",
    "end": "2137440"
  },
  {
    "text": "a tamper-resistant cryptochip in modern laptops and servers",
    "start": "2137440",
    "end": "2142560"
  },
  {
    "text": "and look like like any other crypto chip should do it can provide you secure key",
    "start": "2143040",
    "end": "2148480"
  },
  {
    "text": "storage and hardware random number generator but actually the most useful point about",
    "start": "2148480",
    "end": "2155520"
  },
  {
    "text": "tpm it's a fundamental building block for him for a thing called remote attestation which provides you",
    "start": "2155520",
    "end": "2161520"
  },
  {
    "text": "two things it's authenticated identity for remote system and trust forces assertion about the",
    "start": "2161520",
    "end": "2167520"
  },
  {
    "text": "remote system state so the way how it works in practice so imagine you have the verifier so",
    "start": "2167520",
    "end": "2174160"
  },
  {
    "start": "2169000",
    "end": "2169000"
  },
  {
    "text": "for us it's our configuration management system at any point in time to any remote entity it can se and yeah",
    "start": "2174160",
    "end": "2181119"
  },
  {
    "text": "you have your remote entity remote server with the tpm at any point in time the verifier can",
    "start": "2181119",
    "end": "2186560"
  },
  {
    "text": "send a so-called quote a request to the remote entity and what the tpm",
    "start": "2186560",
    "end": "2192640"
  },
  {
    "text": "can respond provide is information about the identity",
    "start": "2192640",
    "end": "2198320"
  },
  {
    "text": "and also it can provide the full report about the state of the system which operating system it runs",
    "start": "2198320",
    "end": "2205280"
  },
  {
    "text": "uh when it was booted and like whatever you can think of is like basically the full state of the",
    "start": "2205280",
    "end": "2211440"
  },
  {
    "text": "remote system and because it's a secure crypto chip it can provide it in a secure manner so it",
    "start": "2211440",
    "end": "2217520"
  },
  {
    "text": "signs a response the response is authenticated and",
    "start": "2217520",
    "end": "2223920"
  },
  {
    "text": "integrity is supported so by the time we do this remote",
    "start": "2223920",
    "end": "2229040"
  },
  {
    "text": "attestation where no we're communicating with the right host we know that we're communicating with",
    "start": "2229040",
    "end": "2235119"
  },
  {
    "text": "the right host securely and the remote host runs only authorized",
    "start": "2235119",
    "end": "2241119"
  },
  {
    "text": "software so we discuss secure boot at the beginning of the talk this is like local thing so server will",
    "start": "2241119",
    "end": "2247119"
  },
  {
    "text": "not boot unauthorized software but here the tpms allows the verifies the remote party at",
    "start": "2247119",
    "end": "2253599"
  },
  {
    "text": "the other end of the world to make sure that the remote server runs only the operating system we",
    "start": "2253599",
    "end": "2259599"
  },
  {
    "text": "tell it to run and not anything else so after that we basically can trust the",
    "start": "2259599",
    "end": "2265839"
  },
  {
    "text": "remote host so when you integrate tpms into your",
    "start": "2265839",
    "end": "2271599"
  },
  {
    "start": "2269000",
    "end": "2269000"
  },
  {
    "text": "provisioning process what you get like you can get better automation so this is what automation does",
    "start": "2271599",
    "end": "2278079"
  },
  {
    "text": "it verifies server identity it verifies running operating system",
    "start": "2278079",
    "end": "2285200"
  },
  {
    "text": "it cross check serial number so it actually server itself can cross check serial numbers because we trust it",
    "start": "2285200",
    "end": "2291200"
  },
  {
    "text": "to do because it runs our software and the automation probably because we",
    "start": "2291200",
    "end": "2297599"
  },
  {
    "text": "have a secure channel it can provision configuration management keys it can push the configuration management",
    "start": "2297599",
    "end": "2303200"
  },
  {
    "text": "keys and basically when configuration management system kicks in it brings up the server and starts",
    "start": "2303200",
    "end": "2309520"
  },
  {
    "text": "serving production traffic what our engineers do at this point is",
    "start": "2309520",
    "end": "2316800"
  },
  {
    "text": "drink tea having a good work and life balance or work on something interesting so",
    "start": "2316800",
    "end": "2322880"
  },
  {
    "text": "so in the end by employing tpm which is a security complex you get better automation",
    "start": "2322880",
    "end": "2328000"
  },
  {
    "text": "less room from human error and misconfiguration during the provisioning you have faster data center provisioning",
    "start": "2328000",
    "end": "2335839"
  },
  {
    "text": "because just robots are just faster than humans it's it's our weak weakness right",
    "start": "2335839",
    "end": "2342400"
  },
  {
    "text": "and you have more efficient engineering time because engineers can develop into",
    "start": "2342400",
    "end": "2349200"
  },
  {
    "text": "interesting new things instead of doing like the manual repetitive tasks and as a side effect i",
    "start": "2349200",
    "end": "2355839"
  },
  {
    "text": "guess you get better security which is which is nice to have",
    "start": "2355839",
    "end": "2361599"
  },
  {
    "text": "okay this all of the examples i had for now so what we'll run today is that",
    "start": "2362880",
    "end": "2370160"
  },
  {
    "text": "some security does not always have to impact performance remember zero cost security there are",
    "start": "2370160",
    "end": "2377680"
  },
  {
    "text": "many modern things where sometimes actually improves your performance",
    "start": "2377680",
    "end": "2384800"
  },
  {
    "text": "security can if you can't make security and perform improve performance in the narrow sense",
    "start": "2386800",
    "end": "2392960"
  },
  {
    "text": "perhaps look for for opportunities where you security can improve performance in the broader sense like",
    "start": "2392960",
    "end": "2399359"
  },
  {
    "text": "process cost etc etc and this approach is actually useful if",
    "start": "2399359",
    "end": "2406400"
  },
  {
    "text": "you're a security engineer and you want to drive and prioritize",
    "start": "2406400",
    "end": "2411520"
  },
  {
    "text": "your work with the rest of the company like this dialogue performance by security is what the rest of the company",
    "start": "2411520",
    "end": "2417839"
  },
  {
    "text": "understands so driving security by performance like",
    "start": "2417839",
    "end": "2423440"
  },
  {
    "text": "describing better security and performance tell me knowledge helps is helps your company to understand",
    "start": "2423440",
    "end": "2429280"
  },
  {
    "text": "security better and helps you to get it prioritized and done so try to adopt this approach and",
    "start": "2429280",
    "end": "2437200"
  },
  {
    "text": "maybe you'll have an easier time at work thank you",
    "start": "2437200",
    "end": "2444400"
  },
  {
    "text": "[Applause] i just saw a list of things",
    "start": "2444780",
    "end": "2451440"
  },
  {
    "text": "this is a buffer overflow slide which shouldn't be there",
    "start": "2451440",
    "end": "2456640"
  },
  {
    "text": "okay okay okay so do you at cloudflare do you use all these things yes this is",
    "start": "2457920",
    "end": "2463760"
  },
  {
    "text": "all things we use this is just do you have any more maybe some secret tips you know that you",
    "start": "2463760",
    "end": "2470640"
  },
  {
    "text": "can share we won't tell anyone",
    "start": "2470640",
    "end": "2475359"
  },
  {
    "text": "yes let me see my secret slide okay i also wanted to mention",
    "start": "2476319",
    "end": "2483599"
  },
  {
    "text": "nice firewall firewall also improves performance you kind of waste cpu cycles on the firewall",
    "start": "2483599",
    "end": "2490640"
  },
  {
    "text": "but if you implement the firewall properly it will block that traffic from the rest of your systems",
    "start": "2490640",
    "end": "2496400"
  },
  {
    "text": "so consider a case of a non-malicious zip bomb right so there are like certain",
    "start": "2496400",
    "end": "2503680"
  },
  {
    "text": "archives which basically can clog your cpu",
    "start": "2503680",
    "end": "2508880"
  },
  {
    "text": "but if you block them early in the firewall your cpu will not be wasted and they're broken anyway so no no need",
    "start": "2508880",
    "end": "2516160"
  },
  {
    "text": "to process them so like proper firewall is a nice example of",
    "start": "2516160",
    "end": "2522240"
  },
  {
    "text": "i would say it's uh yeah it's i think it's performance in the narrow sense yeah it's like a",
    "start": "2522240",
    "end": "2528240"
  },
  {
    "text": "filter it works like a filter so you just waste uh you you raise some performance",
    "start": "2528240",
    "end": "2533839"
  },
  {
    "text": "outside of your network to get better performance inside of your network makes sense do we have questions i have",
    "start": "2533839",
    "end": "2540400"
  },
  {
    "text": "a microphone and we still have couple of minutes for questions questions questions what are",
    "start": "2540400",
    "end": "2546400"
  },
  {
    "text": "like do you use any of these things that ignite mentioned",
    "start": "2546400",
    "end": "2552720"
  },
  {
    "text": "http 2 okay full disk encryption probably yeah usually it works just by default",
    "start": "2554000",
    "end": "2560960"
  },
  {
    "text": "okay i don't know about tpms because for from my perspective uh tpm",
    "start": "2560960",
    "end": "2566720"
  },
  {
    "text": "provisioning this is something that should be set up on your data centers it's not something you should use it up as engineer for your software",
    "start": "2566720",
    "end": "2572880"
  },
  {
    "text": "right you don't need to provision tpms tpms come",
    "start": "2572880",
    "end": "2578000"
  },
  {
    "text": "with you can add your own keys to the tpm but tpm also has a manufacturer",
    "start": "2578000",
    "end": "2584240"
  },
  {
    "text": "baked in so-called endorsement key which is actually used for remote attestation so you put your own keys for secure",
    "start": "2584240",
    "end": "2591520"
  },
  {
    "text": "storage but for remote attestation a vendor puts a key there and the certificate",
    "start": "2591520",
    "end": "2596720"
  },
  {
    "text": "so you can actually verify the tpm's public key back to the vendor so you and then what",
    "start": "2596720",
    "end": "2602880"
  },
  {
    "text": "you need to have in your operate when when the vendor ships you like serial numbers and other data about",
    "start": "2602880",
    "end": "2608319"
  },
  {
    "text": "the systems they you're buying they also send us the tpm public key so we can",
    "start": "2608319",
    "end": "2613920"
  },
  {
    "text": "track which cpm was installed in each server and we can cross check it remotely easily yeah",
    "start": "2613920",
    "end": "2619680"
  },
  {
    "text": "but i mean for developers it's just uh we have tpm let's check they're valid fine we have",
    "start": "2619680",
    "end": "2625359"
  },
  {
    "text": "a remote at the station and we don't spend any time on that i like i like security things that as a",
    "start": "2625359",
    "end": "2630560"
  },
  {
    "text": "developer i don't need to spend time on who definitely knows their use elliptic curve cryptography in tls",
    "start": "2630560",
    "end": "2638880"
  },
  {
    "text": "i think many people there is one question over there do you have a question awesome just give me a second",
    "start": "2639200",
    "end": "2649839"
  },
  {
    "text": "thank you for that um i've got a question about data encryption so have you got any tips",
    "start": "2651040",
    "end": "2657440"
  },
  {
    "text": "around sort of runtime encrypting data for storage like maybe long-term storage or anything",
    "start": "2657440",
    "end": "2663760"
  },
  {
    "text": "like that uh you mean the overhead yeah any sort of performance",
    "start": "2663760",
    "end": "2669599"
  },
  {
    "text": "optimizer so i just urge you to go to my link and to my talk and the slides have a",
    "start": "2669599",
    "end": "2676000"
  },
  {
    "text": "full like test case a and b and it's actually i didn't do it like on a production server",
    "start": "2676000",
    "end": "2681839"
  },
  {
    "text": "i did it i posted all the comments so you can retrace the steps on your local laptop",
    "start": "2681839",
    "end": "2687119"
  },
  {
    "text": "and you can immediately see the overhead the problem which we encountered that implementation of disk encryption in",
    "start": "2687119",
    "end": "2692800"
  },
  {
    "text": "linux kernel was not very efficient the architecture is a bit old in terms of the architecture is",
    "start": "2692800",
    "end": "2701839"
  },
  {
    "text": "basically considered spinning disks which were like 10 years ago and now everyone is using ssds or nvmes",
    "start": "2701839",
    "end": "2708960"
  },
  {
    "text": "and basically there are some other things in the linux kernel which didn't work properly so they made workarounds",
    "start": "2708960",
    "end": "2715359"
  },
  {
    "text": "but now these things work properly these workarounds do not need anymore it's not needed anymore so",
    "start": "2715359",
    "end": "2720400"
  },
  {
    "text": "it's uh the most of overhead comes not from crypto itself but the way how it's all like tied",
    "start": "2720400",
    "end": "2727119"
  },
  {
    "text": "together to give you some numbers uh our patch on my test scenario improved",
    "start": "2727119",
    "end": "2734960"
  },
  {
    "text": "the throughput by 100 so the kind of thinking about like field",
    "start": "2734960",
    "end": "2741119"
  },
  {
    "text": "level type encryption so like maybe if you wanted to encrypt an email address or something but not the whole",
    "start": "2741119",
    "end": "2747440"
  },
  {
    "text": "set of data is that something you got any experience with or tips around so",
    "start": "2747440",
    "end": "2754800"
  },
  {
    "text": "again selective encryption is mostly useful if the crypto is expensive",
    "start": "2754800",
    "end": "2762480"
  },
  {
    "text": "but crypto is not expensive it's the way how you implement it and why that it's expensive so sometimes you may",
    "start": "2762480",
    "end": "2769200"
  },
  {
    "text": "end up over complicating a system and spending more time parsing your data looking for email addresses to encrypt",
    "start": "2769200",
    "end": "2775680"
  },
  {
    "text": "them rather than just just encrypt the whole thing sequentially thanks thank you here is a sticker",
    "start": "2775680",
    "end": "2783520"
  },
  {
    "text": "don't draw your own crypto any questions and actually like answering the question about field level encryption",
    "start": "2783520",
    "end": "2790400"
  },
  {
    "text": "because like we do it a lot um usually what we say that if your software runs on javascript or php",
    "start": "2790400",
    "end": "2798880"
  },
  {
    "text": "or ruby or java you won't notice cryptography",
    "start": "2798880",
    "end": "2804319"
  },
  {
    "text": "because as ignat says all the details of your application all the network calls",
    "start": "2804319",
    "end": "2809599"
  },
  {
    "text": "will will be more expensive than cryptographic computations itself",
    "start": "2809599",
    "end": "2815119"
  },
  {
    "text": "but it also depends on the architecture on the data flow and what we see when we re-engineer",
    "start": "2815119",
    "end": "2821359"
  },
  {
    "text": "application to add cryptography especially field level select like selective encryption",
    "start": "2821359",
    "end": "2826480"
  },
  {
    "text": "where you need to to encrypt only some of fields sometimes you need to end up to",
    "start": "2826480",
    "end": "2832800"
  },
  {
    "text": "re-engineer the data flow of your system and to avoid you know like select all calls to your database",
    "start": "2832800",
    "end": "2840800"
  },
  {
    "text": "but just to to distinguish like reading flow writing flow reading uh",
    "start": "2840800",
    "end": "2847040"
  },
  {
    "text": "plain text data reading sensitive data in a different way and in the in that case you can have better security",
    "start": "2847040",
    "end": "2852960"
  },
  {
    "text": "because you can monitor you have the different data flows and you can monitor which behavior is normal and which",
    "start": "2852960",
    "end": "2858079"
  },
  {
    "text": "behavior is uh anomaly behavior and you can have",
    "start": "2858079",
    "end": "2863200"
  },
  {
    "text": "even a performance boost because you don't do all the separations in one like call as you used to do before",
    "start": "2863200",
    "end": "2871200"
  },
  {
    "text": "okay any more questions discussions okay yeah yeah i see",
    "start": "2871200",
    "end": "2877359"
  },
  {
    "text": "that's complicated you are you ever worried that the",
    "start": "2881040",
    "end": "2888800"
  },
  {
    "text": "hardware you see from a manufacturer has been tampered well in transit and if you do what you",
    "start": "2888800",
    "end": "2894400"
  },
  {
    "text": "how you can can you repeat do you ever consider that the manufacturer or the hardware you receive from a manufacturer",
    "start": "2894400",
    "end": "2901040"
  },
  {
    "text": "can be trans tempered in the transit yes this is why we want tpms",
    "start": "2901040",
    "end": "2907920"
  },
  {
    "text": "because last year there was an article in bloomberg about like some doomed scenario about like cheap",
    "start": "2907920",
    "end": "2913760"
  },
  {
    "text": "yeah the super micro thing that article wasn't proved",
    "start": "2913760",
    "end": "2919040"
  },
  {
    "text": "actually we definitely consider the possibility when the hardware is in transit it can be tampered with",
    "start": "2919040",
    "end": "2927520"
  },
  {
    "text": "so that's why tpm's quite are quite helpful is that because when that's why we cross check the",
    "start": "2927520",
    "end": "2933359"
  },
  {
    "text": "serial numbers and everything so depending on like the complexity of the attack you can",
    "start": "2933359",
    "end": "2939119"
  },
  {
    "text": "basically i don't know you can receive a hardware with different network card",
    "start": "2939119",
    "end": "2945119"
  },
  {
    "text": "right so and it like if the attacker was not that's efficient you it will have a different",
    "start": "2945119",
    "end": "2950400"
  },
  {
    "text": "mac address but uh and that's why tpms are useful so you can at least cross check the",
    "start": "2950400",
    "end": "2956000"
  },
  {
    "text": "hardware wasn't tampered in transit in some extent yeah it's a follow-up of that because that",
    "start": "2956000",
    "end": "2963119"
  },
  {
    "text": "was sort of my curiosity as well um is is uh what if uh",
    "start": "2963119",
    "end": "2968800"
  },
  {
    "text": "you have how how do you trust the tpm vendor to not be nation state compromised",
    "start": "2968800",
    "end": "2975040"
  },
  {
    "text": "that's a good question you have to so unfortunately the way how trust works",
    "start": "2975040",
    "end": "2982960"
  },
  {
    "text": "you can't create trust from out of thin air right you always have to have a trust anchor",
    "start": "2982960",
    "end": "2989599"
  },
  {
    "text": "so that's why it's called trusted platform model not trustworthy platform",
    "start": "2989599",
    "end": "2996079"
  },
  {
    "text": "so there is something you can imply you need to implicitly trust but from that",
    "start": "2996079",
    "end": "3001359"
  },
  {
    "text": "trust you can start building your trust chain to make other system transforcy but like",
    "start": "3001359",
    "end": "3007040"
  },
  {
    "text": "that initial trust which usually called a trusted based you have to implicitly trust it so to",
    "start": "3007040",
    "end": "3013359"
  },
  {
    "text": "use trusted platform model you have to trust a tpm vendor to use our servers we can check if",
    "start": "3013359",
    "end": "3020160"
  },
  {
    "text": "they're well tampered in transit but what if like our vendor is tampered right so but we have to trust it and there is no",
    "start": "3020160",
    "end": "3026720"
  },
  {
    "text": "currently there is no way unless you build everything you're willing to spend the cost",
    "start": "3026720",
    "end": "3032000"
  },
  {
    "text": "build everything from scratch your own server but then you have to trust the vendors of all the components and it",
    "start": "3032000",
    "end": "3037680"
  },
  {
    "text": "goes to an infinite like loophole yeah this is how trust works yeah",
    "start": "3037680",
    "end": "3043599"
  },
  {
    "text": "okay let's wrap up thank you for your questions thanks",
    "start": "3043599",
    "end": "3048880"
  },
  {
    "text": "ignat",
    "start": "3050520",
    "end": "3053520"
  }
]