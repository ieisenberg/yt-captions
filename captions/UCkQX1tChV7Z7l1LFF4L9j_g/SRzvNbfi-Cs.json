[
  {
    "text": "[Music]",
    "start": "3320",
    "end": "8769"
  },
  {
    "text": "hopefully I'm a good cover band for Chris all right this talk is really",
    "start": "14200",
    "end": "19240"
  },
  {
    "text": "about how to do data residency without making yourself and others miserable um so the big thing right like the",
    "start": "19240",
    "end": "25560"
  },
  {
    "text": "motivating example is we want to put our data somewhere other than just one place and you could",
    "start": "25560",
    "end": "33440"
  },
  {
    "text": "do that a lot of ways you could do that for a lot of reasons you could do Disaster Recovery you could have Geo",
    "start": "33440",
    "end": "38480"
  },
  {
    "text": "redundancy today we're really talking about I want some of my data to be",
    "start": "38480",
    "end": "43520"
  },
  {
    "text": "somewhere else and have a like not any of it shared between those two regions",
    "start": "43520",
    "end": "48680"
  },
  {
    "text": "so truly the data lives somewhere else that's what we mean by uh residency so",
    "start": "48680",
    "end": "55120"
  },
  {
    "text": "hopefully that's uh the talk you're all here for um cool uh rad back so who am I",
    "start": "55120",
    "end": "61280"
  },
  {
    "text": "what are the first principles we're going to be talking about and then we'll actually go through some architecture diagrams uh towards the end uh cool I",
    "start": "61280",
    "end": "69320"
  },
  {
    "text": "work at Rippling I'm a Staff software engineer on the performance and architecture team I've been working specifically on making Rippling a multi-",
    "start": "69320",
    "end": "77320"
  },
  {
    "text": "region data residency uh enabled platform so we've been a global HR and IT and finance",
    "start": "77320",
    "end": "83640"
  },
  {
    "text": "company uh for a while now uh and we are enabling uh you know EU UK and Canadian",
    "start": "83640",
    "end": "90560"
  },
  {
    "text": "data residency in the coming years so we've been actively producing this exact work that we're doing",
    "start": "90560",
    "end": "97000"
  },
  {
    "text": "today a picture that would be a nice pallet cleanser from all the logos this is me this is my dog I'm a real person",
    "start": "97000",
    "end": "104040"
  },
  {
    "text": "uh cool okay so right into it the first thing that you really need",
    "start": "104040",
    "end": "110640"
  },
  {
    "text": "to know is who are you doing this for and why you really need to know who your",
    "start": "110640",
    "end": "117000"
  },
  {
    "text": "customer is so it turns out that",
    "start": "117000",
    "end": "122520"
  },
  {
    "text": "um this is not a gdpr requirement if anyone tells you you know the the common",
    "start": "122520",
    "end": "128399"
  },
  {
    "text": "the first thing anyone says you come up and you say oh we're doing you know data residency we're doing data sovereignty",
    "start": "128399",
    "end": "133480"
  },
  {
    "text": "and everyone goes oh you know the gdpr thing okay cool you actually don't have to do this for gdpr so if that's the",
    "start": "133480",
    "end": "138920"
  },
  {
    "text": "reason go find out who actually wanted this because it's not a direct gdpr",
    "start": "138920",
    "end": "144040"
  },
  {
    "text": "requirement you can and many very large companies top of the industry do this without doing uh European data",
    "start": "144040",
    "end": "152239"
  },
  {
    "text": "sovereignty so uh cool why are we doing this uh it turns out that actually this",
    "start": "152239",
    "end": "157480"
  },
  {
    "text": "is a thing that your customers want so someone wants to buy this from you uh",
    "start": "157480",
    "end": "162599"
  },
  {
    "text": "typically this person is a company in the EU who is concerned about data privacy is concerned about regulatory",
    "start": "162599",
    "end": "169400"
  },
  {
    "text": "exposure to the US a number of you know perfectly legitimate reasons that someone living in the EU doesn't want",
    "start": "169400",
    "end": "174720"
  },
  {
    "text": "their data to go through the US where it could be exposed to us jurisdictional concerns",
    "start": "174720",
    "end": "181560"
  },
  {
    "text": "you need to find out you as the architect of this need to go find out who actually wanted this",
    "start": "181560",
    "end": "188280"
  },
  {
    "text": "thing why did they want it you need to go talk to sales you need to go talk to your customers you need to go talk to",
    "start": "188280",
    "end": "194120"
  },
  {
    "text": "Legal because the requirements for this project are actually going to be what do you want to be able to say in the",
    "start": "194120",
    "end": "200640"
  },
  {
    "text": "contract what is it that you want to promise people about their data residency so it's not you",
    "start": "200640",
    "end": "208200"
  },
  {
    "text": "know step one is is figure out what exactly are the requirements um so you",
    "start": "208200",
    "end": "215560"
  },
  {
    "text": "know at ripling our biggest thing was we have customers in Germany who had specifically asked for this we want to",
    "start": "215560",
    "end": "221680"
  },
  {
    "text": "enable this for uh European customers to feel safe about having their data in here cool uh you know that means a whole",
    "start": "221680",
    "end": "230239"
  },
  {
    "text": "set of restrictions around like what we can actually do we don't have our regions able to talk to each other other",
    "start": "230239",
    "end": "236159"
  },
  {
    "text": "people can because they have different requirements so it's really really important and I can't stress this enough",
    "start": "236159",
    "end": "241439"
  },
  {
    "text": "like two3 of the first phase of this project is just going to be you sitting in meetings with legal understanding",
    "start": "241439",
    "end": "248079"
  },
  {
    "text": "exactly what it is who it is wants this thing cool other reasons that you might",
    "start": "248079",
    "end": "253280"
  },
  {
    "text": "want to do this cell-based architectures are great and it sounds like Chris right after this we'll be talking about how to",
    "start": "253280",
    "end": "259079"
  },
  {
    "text": "do it so uh you can help scale your system um there's a ton of reasons to",
    "start": "259079",
    "end": "264280"
  },
  {
    "text": "say that like oh you know I have a lot of European customers I would love to have their data near them",
    "start": "264280",
    "end": "270600"
  },
  {
    "text": "you can do that without doing fully separated fully isolated data residency so that wouldn't be a great use of it",
    "start": "270600",
    "end": "277360"
  },
  {
    "text": "but having your data separated in Partition like this actually can be really good from a scaling standpoint because you have independent databases",
    "start": "277360",
    "end": "284039"
  },
  {
    "text": "and independent architecture cool great distribute things um I just told you",
    "start": "284039",
    "end": "290440"
  },
  {
    "text": "this wasn't for gdpr but this can be part of your compliance story you may",
    "start": "290440",
    "end": "295800"
  },
  {
    "text": "have jobs audit jobs all sorts of stuff that runs that's part of government A's you know package of",
    "start": "295800",
    "end": "303479"
  },
  {
    "text": "compliance the UK has a bunch of uh you know labor laws that are interesting and",
    "start": "303479",
    "end": "309240"
  },
  {
    "text": "different than the us we have to comply with them but we don't necessarily need the UK jobs running against the US data",
    "start": "309240",
    "end": "317720"
  },
  {
    "text": "um if you have everything in one big place you have these jobs and there is the potential you know however hard you",
    "start": "317720",
    "end": "323880"
  },
  {
    "text": "work against it that the job could access the wrong data it happens all the time when things are in the same place",
    "start": "323880",
    "end": "329759"
  },
  {
    "text": "place and share credentials great you may find that some governments",
    "start": "329759",
    "end": "335400"
  },
  {
    "text": "don't get along that well with each other and that their their rules are mutually incompatible or that their",
    "start": "335400",
    "end": "341160"
  },
  {
    "text": "compliance jobs are odious to other governments those would be great reasons",
    "start": "341160",
    "end": "346319"
  },
  {
    "text": "if you have to implement jobs like that to have it in a different region so that the data against which your compliance",
    "start": "346319",
    "end": "352560"
  },
  {
    "text": "jobs are run is specific to the government uh to which it applies uh",
    "start": "352560",
    "end": "358680"
  },
  {
    "text": "great so that's kind of why so you know wrap that up know who you're doing this for it know why you're doing it don't",
    "start": "358680",
    "end": "365400"
  },
  {
    "text": "just say oh we have to do it for gdpr oh we have to do XYZ thing it is really",
    "start": "365400",
    "end": "370479"
  },
  {
    "text": "going to depend on you your company and what you are trying to do",
    "start": "370479",
    "end": "375720"
  },
  {
    "text": "cool the next big principle that we were going to talk about today is truth and Trust",
    "start": "375720",
    "end": "381759"
  },
  {
    "text": "so in a multi- region deployment you need to have a firm answer on what the",
    "start": "381759",
    "end": "388520"
  },
  {
    "text": "source of truth is for a particular piece of data um you know that that is",
    "start": "388520",
    "end": "394080"
  },
  {
    "text": "generally true like that's not just a multi- region concept that's that's a good thing you should probably know where your data is supposed to be",
    "start": "394080",
    "end": "401319"
  },
  {
    "text": "however in multi- region I think it's very important to separate that which",
    "start": "401319",
    "end": "406479"
  },
  {
    "text": "can be divided from that which cannot so you should pick something that like your",
    "start": "406479",
    "end": "411759"
  },
  {
    "text": "business treats as an atom a a container in which every single thing lives within",
    "start": "411759",
    "end": "417960"
  },
  {
    "text": "one region at ripling that is called a company at your company that might be",
    "start": "417960",
    "end": "423599"
  },
  {
    "text": "something else it could be a team because your teams are in different regions it could be an org and we say",
    "start": "423599",
    "end": "428960"
  },
  {
    "text": "that all of the sub companies and subsidiaries all live in the same region again that's going to be up to you I",
    "start": "428960",
    "end": "435960"
  },
  {
    "text": "highly encourage you to Define an atom and so when you say inside of the atom",
    "start": "435960",
    "end": "441639"
  },
  {
    "text": "everything that is part of this will be in one region when you make a cross atom",
    "start": "441639",
    "end": "447680"
  },
  {
    "text": "call necessarily you are talking about a cross region scenario it is not",
    "start": "447680",
    "end": "453400"
  },
  {
    "text": "hypothetical that you will have something in a different region you may get lucky and they're in the same region",
    "start": "453400",
    "end": "458720"
  },
  {
    "text": "but any cross item call is necessarily now a cross region call cool um",
    "start": "458720",
    "end": "465759"
  },
  {
    "text": "so pick your source of TR uh trust so you have different regions",
    "start": "465759",
    "end": "472840"
  },
  {
    "text": "um they have different data and you're going to find yourself having to have",
    "start": "472840",
    "end": "478080"
  },
  {
    "text": "them talk to each other now there's a lot of reasons they need to talk to each other things like off tokens uh my user",
    "start": "478080",
    "end": "485000"
  },
  {
    "text": "signed in in the EU and is actually part of a US company they need the ability to",
    "start": "485000",
    "end": "491520"
  },
  {
    "text": "log into their us instance and get the US data um does that mean that the US",
    "start": "491520",
    "end": "498039"
  },
  {
    "text": "needs to trust the EU issued off token maybe uh maybe not you're going to",
    "start": "498039",
    "end": "506039"
  },
  {
    "text": "have to decide from first principles because this is not something you can after the fact you have to decide what",
    "start": "506039",
    "end": "512240"
  },
  {
    "text": "is the level of trust that you can accommodate in your business between these",
    "start": "512240",
    "end": "518240"
  },
  {
    "text": "regions you know for starters if your uh only regions are going to be say us and EU you know",
    "start": "518240",
    "end": "525080"
  },
  {
    "text": "that's actually a relatively High degree of trust if you have governments involved in your uh cell architecture",
    "start": "525080",
    "end": "532720"
  },
  {
    "text": "and you're going to put a cell in a government that is hostile to another government you are going to very have to",
    "start": "532720",
    "end": "538399"
  },
  {
    "text": "think about how much those cells can trust and talk to each other um and so",
    "start": "538399",
    "end": "543680"
  },
  {
    "text": "this comes up all the time with like oh we're going to do you know we have a US Data Center and we're going to add a mainland China data center so it is very",
    "start": "543680",
    "end": "551800"
  },
  {
    "text": "important to think about this before you do it the first time because if you have good answers to all of this and you have a good philosophy in architecture",
    "start": "551800",
    "end": "558360"
  },
  {
    "text": "grounding Your Design before you've built it when they say oh we're going to",
    "start": "558360",
    "end": "563959"
  },
  {
    "text": "use XYZ country it's our next big Market you're ready um if if you're grappling",
    "start": "563959",
    "end": "570079"
  },
  {
    "text": "with that later you're going to find yourself having to revisit a lot of your fundamental design patterns that you did the first time",
    "start": "570079",
    "end": "576920"
  },
  {
    "text": "so um you're going to have to do a threat model you're straight up you're just going to have to get sit down with",
    "start": "576920",
    "end": "582240"
  },
  {
    "text": "your security team maybe Security Consultants you're going to want to understand what is it exactly that we",
    "start": "582240",
    "end": "588399"
  },
  {
    "text": "are protecting ourselves from what exactly are the regulatory requirements in the various countries what can we trust",
    "start": "588399",
    "end": "596000"
  },
  {
    "text": "so double click so the big ones are access tokens are going to be for sure something",
    "start": "596000",
    "end": "602480"
  },
  {
    "text": "you're going to have to think about um the other one is database access now you may have a dozen other things you have",
    "start": "602480",
    "end": "608760"
  },
  {
    "text": "to think about but those two are are absolutely concrete every single application that does this is going to have to answer those two questions um",
    "start": "608760",
    "end": "616760"
  },
  {
    "text": "you know and there's like all cute cryptography you can do to enable the trust you can make a direct call once",
    "start": "616760",
    "end": "622160"
  },
  {
    "text": "you get in you know there's all sorts of stuff if you go stateless is it okay that the window of trust extends from",
    "start": "622160",
    "end": "628240"
  },
  {
    "text": "when you authored the token you know revocation delays might not be acceptable with",
    "start": "628240",
    "end": "633680"
  },
  {
    "text": "replication it's going to depend entirely on what you're trying to do so anyway at least those two you will have",
    "start": "633680",
    "end": "639920"
  },
  {
    "text": "to think about and usually those two conversations when you have them with your team will lead to a bunch of other",
    "start": "639920",
    "end": "645560"
  },
  {
    "text": "conversations around the other things that are relevant to your business so start with those two um the last core",
    "start": "645560",
    "end": "653760"
  },
  {
    "text": "principle of multi- region and like a lot of software engineering",
    "start": "653760",
    "end": "659120"
  },
  {
    "text": "um so this is not particularly multi- region specific however the problem here",
    "start": "659120",
    "end": "665560"
  },
  {
    "text": "is exacerbated by multi region we'll go through this but do the same thing every time if you have an option where you",
    "start": "665560",
    "end": "672839"
  },
  {
    "text": "have a fork in the road and you could just not have that fork in the road that's a better design um so we'll go",
    "start": "672839",
    "end": "679240"
  },
  {
    "text": "through a couple examples what I mean and then we'll",
    "start": "679240",
    "end": "684680"
  },
  {
    "text": "apply it to mul so um this is a example from Network routing that is from back",
    "start": "684680",
    "end": "691480"
  },
  {
    "text": "in the day um my mentor Tim Worley told me this back when I worked at",
    "start": "691480",
    "end": "696920"
  },
  {
    "text": "minted you say I have a router I'm designing a router and I'm designing a routing path",
    "start": "696920",
    "end": "703360"
  },
  {
    "text": "I want it to be as fast as possible most of the time and then if there's a lot of",
    "start": "703360",
    "end": "708600"
  },
  {
    "text": "load I have this CU and I can just queue up requests so on the face of it that",
    "start": "708600",
    "end": "714320"
  },
  {
    "text": "actually sounds like a relatively reasonable design you're like okay most of the time it'll be pretty fast and that's cool Everyone likes low latency",
    "start": "714320",
    "end": "720519"
  },
  {
    "text": "connections and then I have some like strategy of dealing around overflow spikes I have a a way of dealing with",
    "start": "720519",
    "end": "726760"
  },
  {
    "text": "this um let's diagram this situation uh okay so we've got our router you know we",
    "start": "726760",
    "end": "732519"
  },
  {
    "text": "have 100 units of computing whatever it is um and routing the request takes one",
    "start": "732519",
    "end": "738079"
  },
  {
    "text": "unit and adding to the queue takes one unit cool",
    "start": "738079",
    "end": "744920"
  },
  {
    "text": "problem if you get a single traffic Spike you may be knocked off the forever",
    "start": "744920",
    "end": "751240"
  },
  {
    "text": "so how did we start with such a seemingly simple straightforward design and end up with like a pretty bad",
    "start": "751240",
    "end": "757600"
  },
  {
    "text": "failure case um if you're running at more than 50% capacity if we go back to the diagram right you know one cycle so",
    "start": "757600",
    "end": "764720"
  },
  {
    "text": "I get could do up to 100 requests a second in regular routing mode it takes a cycle to add to the",
    "start": "764720",
    "end": "771760"
  },
  {
    "text": "que that would be two cycles per request for cued requests so if I have 51",
    "start": "771760",
    "end": "777360"
  },
  {
    "text": "requests a second and I into Q mode that's 102 compute Cycles to do my original",
    "start": "777360",
    "end": "783880"
  },
  {
    "text": "Baseline 51 request a second load not only does my Q grow to Infinity I also",
    "start": "783880",
    "end": "788920"
  },
  {
    "text": "have the spike to add on because I will never DQ those so I'm just like permanently delayed this is never going",
    "start": "788920",
    "end": "795240"
  },
  {
    "text": "to recover um wh there we go",
    "start": "795240",
    "end": "801160"
  },
  {
    "text": "so you know obviously we don't have situations where we just have like cues growing to to Infinity very often right",
    "start": "801160",
    "end": "806680"
  },
  {
    "text": "like you're like ah add more workers cool yeah I bet a lot of your systems when you go in data dog or something",
    "start": "806680",
    "end": "812279"
  },
  {
    "text": "look like that rightand chart so we've modeled a router and you know there's",
    "start": "812279",
    "end": "817639"
  },
  {
    "text": "just some B you know 10 requests a second uh or Baseline load 25 requests a",
    "start": "817639",
    "end": "824600"
  },
  {
    "text": "second limit there's some degradation when it goes into Q mode and so you know",
    "start": "824600",
    "end": "829639"
  },
  {
    "text": "at the period from 40 to 43 seconds I gave it just 20 extra requests so you",
    "start": "829639",
    "end": "834680"
  },
  {
    "text": "know in theory I had capacity to handle that in a second and a half and what I actually get you know this is if you're",
    "start": "834680",
    "end": "841680"
  },
  {
    "text": "curious I can show you it's in the appendix but I get this um big latency Spike",
    "start": "841680",
    "end": "848199"
  },
  {
    "text": "where my latency goes up to 3 and a half seconds over like an 11 12 second window",
    "start": "848199",
    "end": "853680"
  },
  {
    "text": "so by just this like less than one extra second of capacity in this real system I get this huge latency Spike on the right",
    "start": "853680",
    "end": "860160"
  },
  {
    "text": "and so this actually happens a lot if you look at like you have a garbage collection pause or stuff like that now",
    "start": "860160",
    "end": "866040"
  },
  {
    "text": "okay how does that apply to multi- region you're going to be doing a lot of routing right um not Network routing but",
    "start": "866040",
    "end": "874360"
  },
  {
    "text": "like person comes into your system and needs to get to the right data center now you have a choice you can either oh",
    "start": "874360",
    "end": "882000"
  },
  {
    "text": "well I'm going to say they're going to be at the nearest data center most of the time because the EU customer data is in the EU",
    "start": "882000",
    "end": "888000"
  },
  {
    "text": "duh and then only if they're in the other region will I incur this extra cost of rou of",
    "start": "888000",
    "end": "894720"
  },
  {
    "text": "them try to avoid designs like that stick with designs where you do do the same thing every time and you say I'm",
    "start": "894720",
    "end": "901759"
  },
  {
    "text": "going to come in I'm going to figure out where you go and I'm going to route you okay we'll cover more concrete on that",
    "start": "901759",
    "end": "909759"
  },
  {
    "text": "in a minute uh the other thing to do is maximize the likelihood of it working by",
    "start": "909759",
    "end": "915000"
  },
  {
    "text": "reducing code brdes now I put the clown Emoji here because this is meant as a joke um as your feature set grows to",
    "start": "915000",
    "end": "923000"
  },
  {
    "text": "Infinity the percentage of those that work converges to zero now",
    "start": "923000",
    "end": "929199"
  },
  {
    "text": "okay no one has infinite features um but you know you do have a limit to how much",
    "start": "929199",
    "end": "935480"
  },
  {
    "text": "you can QA and test uh a specific code path right like as you add uh complexity as you add",
    "start": "935480",
    "end": "945000"
  },
  {
    "text": "new features stuff that wasn't tested or wasn't covered in tests or people aren't using kind of tends to break at a",
    "start": "945000",
    "end": "951759"
  },
  {
    "text": "constant rate and so that's work to fix buttons that people haven't clicked on",
    "start": "951759",
    "end": "957000"
  },
  {
    "text": "and so if you have a part of the app that people don't go to regularly or your QA has been neglecting what you'll",
    "start": "957000",
    "end": "962079"
  },
  {
    "text": "find is that things sort of fall off the working path the actual thing is probability of",
    "start": "962079",
    "end": "969079"
  },
  {
    "text": "something works is directly proportional to the fraction of users that use it divided by the complexity of the feature",
    "start": "969079",
    "end": "975639"
  },
  {
    "text": "now it's not really good math if you tried to do a probability distribution as a percentage like it's not going to",
    "start": "975639",
    "end": "981720"
  },
  {
    "text": "work don't this is conceptual um but if you have a situation where you have a",
    "start": "981720",
    "end": "987160"
  },
  {
    "text": "split between your low user you know low user percentage scenario so our scenario",
    "start": "987160",
    "end": "994399"
  },
  {
    "text": "where we have most of the people are going to route to the local region that most of means that the people who aren't",
    "start": "994399",
    "end": "1000639"
  },
  {
    "text": "routing to the local region are a small minority low percentage of users routing",
    "start": "1000639",
    "end": "1005800"
  },
  {
    "text": "between regions is a high complexity item so the probability that works is actually quite poor",
    "start": "1005800",
    "end": "1012399"
  },
  {
    "text": "so um really try to reduce the number of branches try to reduce the number of",
    "start": "1012399",
    "end": "1018160"
  },
  {
    "text": "forks in the road you can do with do the same thing every time okay so things specifically to be",
    "start": "1018160",
    "end": "1025480"
  },
  {
    "text": "cautious of you know the geographic nearest region the one we just covered",
    "start": "1025480",
    "end": "1030678"
  },
  {
    "text": "the problem with that is you have this very rarely used code path where you fork in the road and you go to another",
    "start": "1030679",
    "end": "1037400"
  },
  {
    "text": "region in exceptional circumstances that's actually really hard to test",
    "start": "1037400",
    "end": "1042640"
  },
  {
    "text": "right because to have your QA do that they need to set up an account for the other region get in the so first off you",
    "start": "1042640",
    "end": "1050600"
  },
  {
    "text": "have to have region architecture stuff for them to test on um so these brittle",
    "start": "1050600",
    "end": "1056600"
  },
  {
    "text": "rarely used code paths it could be broken and the six customers it impacts you know you'll find out in a week that",
    "start": "1056600",
    "end": "1063760"
  },
  {
    "text": "their experience is degraded now you got to go debug it it's brittle it's rarely used try to avoid that um another really",
    "start": "1063760",
    "end": "1070880"
  },
  {
    "text": "similar example would be um you know most of our rights are actually going to us one right like most",
    "start": "1070880",
    "end": "1076320"
  },
  {
    "text": "of our customers are there we're going to even just we have this shared table that we're going to replicate out from the US data center",
    "start": "1076320",
    "end": "1083400"
  },
  {
    "text": "um the problem with that is your application is able to make the",
    "start": "1083400",
    "end": "1088440"
  },
  {
    "text": "expectation of synchronous consistency in the US so you wrote to the database and you read and you got the same answer",
    "start": "1088440",
    "end": "1094880"
  },
  {
    "text": "when the EU path tries to do that same code it writes to the database and it reads and it will not have synchronous",
    "start": "1094880",
    "end": "1101720"
  },
  {
    "text": "semantics it will be asyncronous try to avoid situations where you have that",
    "start": "1101720",
    "end": "1107360"
  },
  {
    "text": "difference because those bugs are going to be hard to track down because your your test ran probably",
    "start": "1107360",
    "end": "1113360"
  },
  {
    "text": "an environment similar to the US1 where you had synchronous consistency and just even stuff like",
    "start": "1113360",
    "end": "1119200"
  },
  {
    "text": "right latency when you go have to go cross region to right is going to vary between the regions and so you may not",
    "start": "1119200",
    "end": "1126240"
  },
  {
    "text": "have a performance issue with a job that the first time you try to run it in the EU it's going to make this huge Network",
    "start": "1126240",
    "end": "1131760"
  },
  {
    "text": "hop 150 M seconds to you know generously uh us one in Virginia or something",
    "start": "1131760",
    "end": "1139520"
  },
  {
    "text": "it's used to having one millisecond latency to the database it's 150 times slower all of a sudden that's probably",
    "start": "1139520",
    "end": "1144600"
  },
  {
    "text": "going to break the first time you run it so um an application of this Principle",
    "start": "1144600",
    "end": "1150159"
  },
  {
    "text": "as a diagram so the left hand diagram is exactly what we said like we're going to",
    "start": "1150159",
    "end": "1156600"
  },
  {
    "text": "have the app right to the database in region one and region two you know we're just going to have region two change out",
    "start": "1156600",
    "end": "1163720"
  },
  {
    "text": "its right path to right to the US database we'll replicated back",
    "start": "1163720",
    "end": "1169320"
  },
  {
    "text": "region one here has a synchronous read path to its local database region two",
    "start": "1169320",
    "end": "1175559"
  },
  {
    "text": "doesn't so this would be an example of something that would create subtle bugs and should probably be avoided the right",
    "start": "1175559",
    "end": "1182080"
  },
  {
    "text": "hand diagram however doesn't have this because we have perfect symmetry between the two regions when possible try to maintain",
    "start": "1182080",
    "end": "1188840"
  },
  {
    "text": "the Symmetry that's a nice design because you have you maybe have a little more complexity you have to stand up",
    "start": "1188840",
    "end": "1193880"
  },
  {
    "text": "this like Global region of data um but both region one and region",
    "start": "1193880",
    "end": "1200159"
  },
  {
    "text": "two and presumably your test architecture which you'll Implement some version of you know WR database and",
    "start": "1200159",
    "end": "1205919"
  },
  {
    "text": "replica all have the same code path so if it works in one it works everywhere great um you know so now the probability",
    "start": "1205919",
    "end": "1213919"
  },
  {
    "text": "of it working if we go back is proportional to the percentage of users divided by the complexity well the",
    "start": "1213919",
    "end": "1219720"
  },
  {
    "text": "complexity term doesn't really come into play if you're at 100% of the users so",
    "start": "1219720",
    "end": "1224840"
  },
  {
    "text": "your app is just broken if the path doesn't work and that you'll know about a lot faster than if you broke a niche",
    "start": "1224840",
    "end": "1230240"
  },
  {
    "text": "Edge case um great let's talk through what we",
    "start": "1230240",
    "end": "1236559"
  },
  {
    "text": "actually do to do this so your application is an onion you have you",
    "start": "1236559",
    "end": "1242039"
  },
  {
    "text": "know you have your your Edge you have your app servers you have your database we're going to put circles",
    "start": "1242039",
    "end": "1248320"
  },
  {
    "text": "around it somewhere this is to everything outside of this",
    "start": "1248320",
    "end": "1253880"
  },
  {
    "text": "layer the inside contents of the circle present as one item",
    "start": "1253880",
    "end": "1260080"
  },
  {
    "text": "um so client routing the easiest one is you just give everyone subdomains uh you",
    "start": "1260080",
    "end": "1266480"
  },
  {
    "text": "know EU one.you app.com us one.you app.com and you have the client know um you know this was the",
    "start": "1266480",
    "end": "1274000"
  },
  {
    "text": "first generation Solutions of of doing cell-based architecture the real Pioneers in the field this was all that was available um",
    "start": "1274000",
    "end": "1282080"
  },
  {
    "text": "and this works great um but it is a little bit annoying to your customers because they have to implement all of",
    "start": "1282080",
    "end": "1287440"
  },
  {
    "text": "the routing logic themselves they have to know and for most of your customers as long as their everything they their",
    "start": "1287440",
    "end": "1292919"
  },
  {
    "text": "domain of concern is within the atom that you decided on um you know in the",
    "start": "1292919",
    "end": "1298320"
  },
  {
    "text": "source of truth they're going to have a fine time because they just keep interacting with the same region and everything works the",
    "start": "1298320",
    "end": "1304159"
  },
  {
    "text": "way they think um it's going to get hard if you move someone's region though you",
    "start": "1304159",
    "end": "1309640"
  },
  {
    "text": "know your customer submits a ticket saying I'm in region one I want to be in region two all of their integration is",
    "start": "1309640",
    "end": "1315799"
  },
  {
    "text": "going to break because all of their web hook URLs all the stuff they stuck in their code somewhere every time they",
    "start": "1315799",
    "end": "1323080"
  },
  {
    "text": "make an implicit assumption on the URL based on the client domain knowledge of",
    "start": "1323080",
    "end": "1330360"
  },
  {
    "text": "your routing all that's going to break so you will find Ed cases where this is",
    "start": "1330360",
    "end": "1335480"
  },
  {
    "text": "important and is something that you have to do however maybe don't consider it as your",
    "start": "1335480",
    "end": "1341400"
  },
  {
    "text": "your first choice strategy um Gateway writing so the next thing is",
    "start": "1341400",
    "end": "1348960"
  },
  {
    "text": "we have atoms right we talked about a source of Truth and an indivisible part of our",
    "start": "1348960",
    "end": "1354960"
  },
  {
    "text": "application um what if you put the atom ID in the",
    "start": "1354960",
    "end": "1360520"
  },
  {
    "text": "request and you have a map at the edge that just knows where the things are",
    "start": "1360520",
    "end": "1365799"
  },
  {
    "text": "that actually works pretty well for most use cases so for traffic that lives within the atom boundary um that",
    "start": "1365799",
    "end": "1371760"
  },
  {
    "text": "actually is a really good way to route you you just include you know in our case the company ID you include the",
    "start": "1371760",
    "end": "1377000"
  },
  {
    "text": "company ID in the request as a header as a query pram doesn't matter path pram fine anything that atom ID is now your",
    "start": "1377000",
    "end": "1384279"
  },
  {
    "text": "routing key and you just know what region uh if you change regions you just update the mapping in the edge and the",
    "start": "1384279",
    "end": "1391000"
  },
  {
    "text": "traffic will go to the correct region great um this doesn't work so good if you have cross atom traffic so you know",
    "start": "1391000",
    "end": "1398640"
  },
  {
    "text": "you have a partner that needs to access two companies and they do different things and they're in different regions well you can't actually route with this",
    "start": "1398640",
    "end": "1405559"
  },
  {
    "text": "all the way so you can get to the partner's first region and then fan out and do stuff but you're going to need to do something other than just um Gateway",
    "start": "1405559",
    "end": "1415080"
  },
  {
    "text": "routing uh in that case so what do we do now okay um you could",
    "start": "1415080",
    "end": "1423200"
  },
  {
    "text": "have your regions be able to talk to each other um that's actually a pretty good idea uh when you have these regions",
    "start": "1423200",
    "end": "1431480"
  },
  {
    "text": "they are able to make like calls so you're again you're going to come into the idea of trust between the regions",
    "start": "1431480",
    "end": "1438159"
  },
  {
    "text": "however you know if you can have a situation where access cross region is allowed by",
    "start": "1438159",
    "end": "1445279"
  },
  {
    "text": "your uh security policy by whatever it is you're trying to do and it's okay to have cross region data access which",
    "start": "1445279",
    "end": "1452279"
  },
  {
    "text": "again often is the case because this is not a gdpr comp compliance matter data",
    "start": "1452279",
    "end": "1458919"
  },
  {
    "text": "access for a legitimate business P purpose is often permissible not always",
    "start": "1458919",
    "end": "1465039"
  },
  {
    "text": "check first um but you you will find that something like having your",
    "start": "1465039",
    "end": "1471960"
  },
  {
    "text": "application be able to talk across a region is going to be useful now this is another great example of I have a query",
    "start": "1471960",
    "end": "1478279"
  },
  {
    "text": "that needs to access like 10 companies that I know about if you have your atoms",
    "start": "1478279",
    "end": "1484919"
  },
  {
    "text": "in some sort of routing key that's a great way where you can build a batch API and you have like a list of company",
    "start": "1484919",
    "end": "1491200"
  },
  {
    "text": "ideas that this applies to and the framework can automatically route to the appropriate regions so again use your",
    "start": "1491200",
    "end": "1497039"
  },
  {
    "text": "atoms when you're able to sometimes you just won't be able to you need to run an audit job on everything in every",
    "start": "1497039",
    "end": "1503000"
  },
  {
    "text": "region you could do that too uh you just set up a service that doesn't work around the atoms and then the regions",
    "start": "1503000",
    "end": "1509279"
  },
  {
    "text": "can cross talk the problem with this is it's very complicated and you get a lot of reg uh Regional latency when you do",
    "start": "1509279",
    "end": "1516120"
  },
  {
    "text": "actually have to make these requests so you know you got to remember the New York to Shanghai latency which is about",
    "start": "1516120",
    "end": "1523080"
  },
  {
    "text": "the worst gets is like 400 milliseconds um you know most of most",
    "start": "1523080",
    "end": "1528559"
  },
  {
    "text": "good apis are you know already returning before that round trip has been made uh so that can be a killer you need to",
    "start": "1528559",
    "end": "1535399"
  },
  {
    "text": "carefully consider how many of these you're doing and you'll need to structure your app in such a way that it gathers the data requirements up front",
    "start": "1535399",
    "end": "1542200"
  },
  {
    "text": "and they flow through uh the requests rather than you know oh crap I was missing this piece of data oh crap I was",
    "start": "1542200",
    "end": "1547919"
  },
  {
    "text": "missing this and and just you know iterating through and making a ton of these calls",
    "start": "1547919",
    "end": "1554919"
  },
  {
    "text": "uh let's see um database manage local uh so there's a lot of databases out",
    "start": "1555039",
    "end": "1561039"
  },
  {
    "text": "there that will say oh we are a global database um and they often are they're actually really cool they do stuff like",
    "start": "1561039",
    "end": "1567080"
  },
  {
    "text": "replication they do stuff like select you know you can give a region key and it'll store the data in that region um",
    "start": "1567080",
    "end": "1574600"
  },
  {
    "text": "we do have to talk through that a little bit because um you have to think through what kind of use case they were trying",
    "start": "1574600",
    "end": "1580600"
  },
  {
    "text": "to enable to decide whether this you know Magic database is going to work for you so there's accelerators this is",
    "start": "1580600",
    "end": "1587159"
  },
  {
    "text": "typically an active passive topology where you know think like a CDN um you",
    "start": "1587159",
    "end": "1592320"
  },
  {
    "text": "write once all the regions get an eventually consistent copy of it from which they can pull to accelerate the",
    "start": "1592320",
    "end": "1598880"
  },
  {
    "text": "data flow in the local region great Global databases these are true Global",
    "start": "1598880",
    "end": "1604279"
  },
  {
    "text": "databases where they have some sort of genuine active active topology cross",
    "start": "1604279",
    "end": "1609679"
  },
  {
    "text": "region where you can write from anywhere you can read from anywhere and they guarantee eventual consistency on",
    "start": "1609679",
    "end": "1616360"
  },
  {
    "text": "it okay acceler Ator is not really that applicable for data residency because",
    "start": "1616360",
    "end": "1621640"
  },
  {
    "text": "inherently in it is copying the data um which was the whole point of the project however they're really good at",
    "start": "1621640",
    "end": "1628799"
  },
  {
    "text": "some stuff so like my example of this is like the US tax code is the same everywhere everyone who has dealings",
    "start": "1628799",
    "end": "1635000"
  },
  {
    "text": "with us business follows the same tax code that data is a perfect example of",
    "start": "1635000",
    "end": "1640840"
  },
  {
    "text": "something to replicate cross region using one of these eventually consistent um you know accelerator type patterns",
    "start": "1640840",
    "end": "1647120"
  },
  {
    "text": "where you write and it replicates everywhere and everyone has a nice local copy of this why is that a great uh",
    "start": "1647120",
    "end": "1652960"
  },
  {
    "text": "example the data is consistent it's not related to a specific company and it",
    "start": "1652960",
    "end": "1659120"
  },
  {
    "text": "doesn't change very often so those are those are that that'd be great data to use this for so this can be a part of",
    "start": "1659120",
    "end": "1665440"
  },
  {
    "text": "your solution but obviously it doesn't speak directly to the residency aspect of the",
    "start": "1665440",
    "end": "1670480"
  },
  {
    "text": "solution um true Global databases you do run into a problem",
    "start": "1670480",
    "end": "1675960"
  },
  {
    "text": "where you either have an active topology where last right wins",
    "start": "1675960",
    "end": "1682399"
  },
  {
    "text": "um that can cause some issues obviously depending on your use case if you have",
    "start": "1682399",
    "end": "1687600"
  },
  {
    "text": "regions that may act on the same object at the same time one region can say oh I committed this the second region says oh",
    "start": "1687600",
    "end": "1694720"
  },
  {
    "text": "I committed this but only the data from one of those two commits is going to survive the reconciliation so if that's a right",
    "start": "1694720",
    "end": "1701600"
  },
  {
    "text": "pattern that's applicable to your use case that could be great this could actually be a huge win for you um",
    "start": "1701600",
    "end": "1708880"
  },
  {
    "text": "that's not often the case right like if you have a conflict on a right you probably need to resolve it some other",
    "start": "1708880",
    "end": "1714880"
  },
  {
    "text": "way than just having last right win for a lot of systems um obviously if you do this",
    "start": "1714880",
    "end": "1721080"
  },
  {
    "text": "synchronously you have to have uh you know a quorum between all the nodes that's going to cost you the cross",
    "start": "1721080",
    "end": "1727120"
  },
  {
    "text": "region latency to achieve so that that's going to be really slow um so and and",
    "start": "1727120",
    "end": "1733799"
  },
  {
    "text": "then and the spec sheet you don't typically see something about partial replication where you can say oh I want this set of data replicated and not this",
    "start": "1733799",
    "end": "1740360"
  },
  {
    "text": "other set you know a few vendors can absolutely do that you're going to have to carefully read your spec sheet",
    "start": "1740360",
    "end": "1746919"
  },
  {
    "text": "understand what technology is going to work for you and not and then you know thoughtfully think of this unfortunately",
    "start": "1746919",
    "end": "1752559"
  },
  {
    "text": "oh we're just going to stick a database proxy in front is not typically a one-size fits-all solution for uh",
    "start": "1752559",
    "end": "1758720"
  },
  {
    "text": "enabling data residency as convenient as it sounds like it should be um cool so pulling it all together",
    "start": "1758720",
    "end": "1767799"
  },
  {
    "text": "you you are going to have to ask your team who it is you're building",
    "start": "1767799",
    "end": "1773000"
  },
  {
    "text": "this for what exactly the requirements are you know so it may surprise you the",
    "start": "1773000",
    "end": "1779480"
  },
  {
    "text": "answers and this is an incredibly important part of the exercise when you're working through uh",
    "start": "1779480",
    "end": "1785480"
  },
  {
    "text": "the trust and truth it's important to Define an indivisible part of your architecture and then an encapsulating",
    "start": "1785480",
    "end": "1792919"
  },
  {
    "text": "idea so things above can be cross region and things below never are cross region",
    "start": "1792919",
    "end": "1798399"
  },
  {
    "text": "that will help immensely in keeping yourself sane When developing code do the same thing every time when",
    "start": "1798399",
    "end": "1804640"
  },
  {
    "text": "you see Forks in the road especially related to region resolution related to",
    "start": "1804640",
    "end": "1809840"
  },
  {
    "text": "business logic in that domain I would strongly encourage you to",
    "start": "1809840",
    "end": "1814960"
  },
  {
    "text": "think of ways to try to work around those Forks in the road so that the code path followed is consistent again when",
    "start": "1814960",
    "end": "1822640"
  },
  {
    "text": "you're testing when you're you're building your your your uh test and roll out plan when you're making changes in",
    "start": "1822640",
    "end": "1828960"
  },
  {
    "text": "the future it's going to be hard to know that you've broken one of these delicate",
    "start": "1828960",
    "end": "1834399"
  },
  {
    "text": "mechanisms that's on a rare code path try to get rid of those",
    "start": "1834399",
    "end": "1839600"
  },
  {
    "text": "um cool um at this time I'd like to move it to uh questions from you guys about",
    "start": "1839600",
    "end": "1848440"
  },
  {
    "text": "like how would I model something how would I go through and and really",
    "start": "1848440",
    "end": "1854159"
  },
  {
    "text": "understand uh a scenario in in your business",
    "start": "1854159",
    "end": "1859320"
  },
  {
    "text": "um or any you know any questions about this topic got a strong slant for um data",
    "start": "1859320",
    "end": "1867519"
  },
  {
    "text": "residency from um you know a regulatory reason or some other business reason",
    "start": "1867519",
    "end": "1874159"
  },
  {
    "text": "what if um you're just interested in having data reside close to users for",
    "start": "1874159",
    "end": "1882240"
  },
  {
    "text": "faster round trips and you don't want or don't trust",
    "start": "1882240",
    "end": "1888519"
  },
  {
    "text": "um database verification um yeah absolutely so some of these uh first off the the big the",
    "start": "1888519",
    "end": "1895200"
  },
  {
    "text": "big differentiator between those use cases is is it okay for my data to reside elsewhere also you know maybe",
    "start": "1895200",
    "end": "1902679"
  },
  {
    "text": "data replication isn't the technology that you're going to choose to do it with but the differentiator between a",
    "start": "1902679",
    "end": "1908639"
  },
  {
    "text": "sort of like my users want a fast experience and I want to do data sovereignty and data residency that",
    "start": "1908639",
    "end": "1914799"
  },
  {
    "text": "makes data residency harder is the lack of ability to replicate the data so",
    "start": "1914799",
    "end": "1920200"
  },
  {
    "text": "absolutely you can use a lot of these techniques um you know particularly the",
    "start": "1920200",
    "end": "1925279"
  },
  {
    "text": "the um database accelerators uh are great you know you can run audit jobs",
    "start": "1925279",
    "end": "1931320"
  },
  {
    "text": "you know if you're in a world where eventual consistency is okay um that's",
    "start": "1931320",
    "end": "1937240"
  },
  {
    "text": "an awesome way to go about it uh you know a lot of the disaster recovery scenarios and",
    "start": "1937240",
    "end": "1944399"
  },
  {
    "text": "whatnot the the thing that makes it tricky to say like there's a huge win for if",
    "start": "1944399",
    "end": "1950559"
  },
  {
    "text": "you don't trust data replic database replication is that all of the other layers at which you can do this are like",
    "start": "1950559",
    "end": "1957559"
  },
  {
    "text": "pretty difficult to combine effectively so if you're in a situation where the",
    "start": "1957559",
    "end": "1962600"
  },
  {
    "text": "atom of Truth for you is very um well",
    "start": "1962600",
    "end": "1967880"
  },
  {
    "text": "like aligned with your business and not a lot of things are going to make any kind of cross atom call or even you could say nothing is allowed to make a",
    "start": "1967880",
    "end": "1974440"
  },
  {
    "text": "cross atom call then you can use some of these designs like um the Gateway routing would be a great way to do that",
    "start": "1974440",
    "end": "1981480"
  },
  {
    "text": "uh if that's applicable to your business well I still got the mic so I",
    "start": "1981480",
    "end": "1987880"
  },
  {
    "text": "guess I'll ask my second one now um if you go back to your trust slide",
    "start": "1987880",
    "end": "1994840"
  },
  {
    "text": "yeah absolutely trust as a first principle totally agree with that I got",
    "start": "1994840",
    "end": "1999880"
  },
  {
    "text": "a little bit lost with the example of do I trust the authentication to",
    "start": "1999880",
    "end": "2008080"
  },
  {
    "text": "locality is that not just a policy decision at run time um it can be missing there so there",
    "start": "2008080",
    "end": "2016639"
  },
  {
    "text": "the you know the question is like um we have this problem at well it's not a",
    "start": "2016639",
    "end": "2022360"
  },
  {
    "text": "problem but we have at ripling um you know you can be employed by multiple companies so you know you in the context",
    "start": "2022360",
    "end": "2030840"
  },
  {
    "text": "of your first login is with a company and then you may switch to go see a W2 from another company you're a contractor",
    "start": "2030840",
    "end": "2037000"
  },
  {
    "text": "for two companies there's a ton of different like scenarios where you could legitimately interact with multiple",
    "start": "2037000",
    "end": "2043320"
  },
  {
    "text": "regions um and so the question is like you logged in we gave you a token at first you bounc to the EU uh we",
    "start": "2043320",
    "end": "2052638"
  },
  {
    "text": "decided that that first token for us is not good enough you're actually going to have to go through a token exchange uh",
    "start": "2052639",
    "end": "2058240"
  },
  {
    "text": "and get a token specifically and and people",
    "start": "2058240",
    "end": "2063200"
  },
  {
    "text": "remely what we so so what we said was um that uh that we did not trust in",
    "start": "2065760",
    "end": "2074200"
  },
  {
    "text": "general the tokens um but we actually just the policy that we use is like if you're going to access a role you know",
    "start": "2074200",
    "end": "2080358"
  },
  {
    "text": "you're going to access your your employment with a company you need a company specific token as a general user",
    "start": "2080359",
    "end": "2085638"
  },
  {
    "text": "so for stuff like where our partners are talking across companies that's kind of a different use case we have a different",
    "start": "2085639",
    "end": "2091480"
  },
  {
    "text": "you know set of challenges there but for regular users what we actually said was you need an atomic token which you know",
    "start": "2091480",
    "end": "2097960"
  },
  {
    "text": "multi- region or not you're going to need to log into that specific company so for us we don't trust the token at",
    "start": "2097960",
    "end": "2103839"
  },
  {
    "text": "all and we don't even trust the token within the context of a multi- company call you just get a specific company",
    "start": "2103839",
    "end": "2109599"
  },
  {
    "text": "which is an atom and a specific Atomic token for that region so that was kind of our solution to this um hopefully",
    "start": "2109599",
    "end": "2116440"
  },
  {
    "text": "that gives some",
    "start": "2116440",
    "end": "2118920"
  },
  {
    "text": "context all right there's no other questions make sure to we got one",
    "start": "2125280",
    "end": "2131920"
  },
  {
    "text": "here if you do want to ask a question please raise your hand heart the lights are like really bright my face so I",
    "start": "2133160",
    "end": "2138520"
  },
  {
    "text": "can't actually see yall very well I actually have a very sort of maybe very specific scenario like yeah absolutely",
    "start": "2138520",
    "end": "2145680"
  },
  {
    "text": "please the thing is uh usually when you uh write a client to get anything right",
    "start": "2145680",
    "end": "2151599"
  },
  {
    "text": "you need to have expectation of time so so if you Mak locally the time bond is",
    "start": "2151599",
    "end": "2157200"
  },
  {
    "text": "pretty it's much higher also it's dependent on how far the other region isre that",
    "start": "2157200",
    "end": "2164119"
  },
  {
    "text": "varies a lot so my my question is like are there any kinds of rules of farm",
    "start": "2164119",
    "end": "2169839"
  },
  {
    "text": "saying you know if um the region is this close and then you can sort of paper",
    "start": "2169839",
    "end": "2175079"
  },
  {
    "text": "over that difference say I would just set a generous Bond and treat every region more or less the",
    "start": "2175079",
    "end": "2180319"
  },
  {
    "text": "same or uh there's a point you say I will have to per region expectation so",
    "start": "2180319",
    "end": "2186560"
  },
  {
    "text": "essentially configuration depending on the destination like are there is any of",
    "start": "2186560",
    "end": "2191760"
  },
  {
    "text": "the design patterns you talk about Better or Worse yeah absolutely um so",
    "start": "2191760",
    "end": "2197040"
  },
  {
    "text": "one of the things that okay so first off you know we would be by doing that for configuration we'd be in violation of do",
    "start": "2197040",
    "end": "2203040"
  },
  {
    "text": "the same thing every time it's a great principle you might not always be able to apply it um the design I would",
    "start": "2203040",
    "end": "2209400"
  },
  {
    "text": "suggest that probably is most applicable to this is your application layer routing um let the client you probably",
    "start": "2209400",
    "end": "2217640"
  },
  {
    "text": "don't want to leak this detail of cross regionality or or latency to your clients they really would prefer not to",
    "start": "2217640",
    "end": "2224760"
  },
  {
    "text": "care um they're going to make a request who they're making it to and what Atom they're trying to interact",
    "start": "2224760",
    "end": "2231079"
  },
  {
    "text": "with is going to be a detail of what they have to do they don't get to choose they don't really get to control it and",
    "start": "2231079",
    "end": "2237040"
  },
  {
    "text": "it's going to take as long as it takes given the scenario uh at play um what I",
    "start": "2237040",
    "end": "2243560"
  },
  {
    "text": "would say is that um obviously your your client's going to have",
    "start": "2243560",
    "end": "2248880"
  },
  {
    "text": "expectations typically those expectations are derived by their typical use case so like your developer",
    "start": "2248880",
    "end": "2255079"
  },
  {
    "text": "is going to start working with this API and get some pattern and latency part of setting those",
    "start": "2255079",
    "end": "2260560"
  },
  {
    "text": "expectations is to have your thing work the way it's going to work in prod for them while they're developing it so you",
    "start": "2260560",
    "end": "2265880"
  },
  {
    "text": "know if they're always interacting with their own company and it's always 400 milliseconds because it's very far away for God knows what reason uh at least",
    "start": "2265880",
    "end": "2272560"
  },
  {
    "text": "it's consistent um you know I think the the",
    "start": "2272560",
    "end": "2278040"
  },
  {
    "text": "to some extent there's no true answer to that question of like how do you Stitch this all together so that you know truly",
    "start": "2278040",
    "end": "2285319"
  },
  {
    "text": "the client does not have to care at all and can have the same expectation no matter what region they hit um you know",
    "start": "2285319",
    "end": "2292359"
  },
  {
    "text": "the obvious answer is like if you do hit New York to Shanghai and it's 400 milliseconds like unless you're going to add a sleep 390 in every other region",
    "start": "2292359",
    "end": "2300200"
  },
  {
    "text": "you're going to have a different like experience um the thing I would do so in",
    "start": "2300200",
    "end": "2305680"
  },
  {
    "text": "the fan out step right so you have this kind of scatter gather pattern uh within the application routing framework so you",
    "start": "2305680",
    "end": "2311319"
  },
  {
    "text": "you've got all the remote regions and you might say I need to run this on every remote region if you can scope",
    "start": "2311319",
    "end": "2317720"
  },
  {
    "text": "that so if you do atomic routing on your scatter gathers so you say I'm going to access these companies the odds that you",
    "start": "2317720",
    "end": "2324280"
  },
  {
    "text": "hit a very far region like you know the South Africa region uh go down unless",
    "start": "2324280",
    "end": "2329400"
  },
  {
    "text": "there's a legitimate use case to do it so again it's it's all about when you can use your design",
    "start": "2329400",
    "end": "2336160"
  },
  {
    "text": "pattern because again if the if the client has a legitimate use case for accessing highly remote data it will",
    "start": "2336160",
    "end": "2343319"
  },
  {
    "text": "take longer and then it's just an expectation management problem um so you",
    "start": "2343319",
    "end": "2349040"
  },
  {
    "text": "know to the extent that you can try to keep things consistent uh it it's going",
    "start": "2349040",
    "end": "2354800"
  },
  {
    "text": "to be especially for your first time or early deployments of multi- region would highly advise that look you can do this",
    "start": "2354800",
    "end": "2362079"
  },
  {
    "text": "and then as your company grows and you find you have these Niche use cases like you can add routing infrastructure lat",
    "start": "2362079",
    "end": "2367599"
  },
  {
    "text": "that will help deal with some of these specific use cases probably for the beginning I would",
    "start": "2367599",
    "end": "2373160"
  },
  {
    "text": "start simple question",
    "start": "2373160",
    "end": "2380040"
  },
  {
    "text": "um what happens when you start the process and Define your atom sizes and",
    "start": "2380040",
    "end": "2385560"
  },
  {
    "text": "what you want to be data resident and that actually changes over time you have a next customer who wants more things to",
    "start": "2385560",
    "end": "2392359"
  },
  {
    "text": "be data resident but you didn't make that decision in the beginning how do you deal with the Trans deciding well do",
    "start": "2392359",
    "end": "2398839"
  },
  {
    "text": "you move the line or do you how do you adjust the customer expectations and kind of a follow on question is more",
    "start": "2398839",
    "end": "2405560"
  },
  {
    "text": "practically how important is it to build the ability to move customers between rges as a kind of a first feature you",
    "start": "2405560",
    "end": "2412800"
  },
  {
    "text": "might want to build so I'll take the second one first which is how important is it to move customers so I can tell",
    "start": "2412800",
    "end": "2417960"
  },
  {
    "text": "you exactly what our reasoning is it's it's quite simple if you're a Rippling customer today obviously it",
    "start": "2417960",
    "end": "2424079"
  },
  {
    "text": "wasn't a blocker to you buying Rippling if you're not a Rippling customer customer it may be a blocker and we have",
    "start": "2424079",
    "end": "2429440"
  },
  {
    "text": "enough people who are not Rippling customers who are telling us they want this you could say as a business you",
    "start": "2429440",
    "end": "2435599"
  },
  {
    "text": "could go out and say well great if it wasn't a blocker clearly you've already bought us we don't care we're going to",
    "start": "2435599",
    "end": "2442119"
  },
  {
    "text": "build it only for new customers that'll probably get you until the first renewal cycle when the",
    "start": "2442119",
    "end": "2447400"
  },
  {
    "text": "customers that was a tough sell to say oh we're going to do it right in the US and they're like you have data residency",
    "start": "2447400",
    "end": "2452560"
  },
  {
    "text": "now move us it's going to be a tough sell at that renewal to say we built this thing that",
    "start": "2452560",
    "end": "2458920"
  },
  {
    "text": "does exactly what you wanted always in your dreams but you can't have it um so",
    "start": "2458920",
    "end": "2466280"
  },
  {
    "text": "the answer is I would say it is not a launch blocker to multi- region however you should expect to need to do it",
    "start": "2466280",
    "end": "2471680"
  },
  {
    "text": "probably within the first year or so or at least have a good timeline or answer on when are you going to enable it um",
    "start": "2471680",
    "end": "2479280"
  },
  {
    "text": "could you remind me the first part of the question first question was if you got your dividing law yes absolutely",
    "start": "2479280",
    "end": "2485680"
  },
  {
    "text": "where you say okay I'll put this data in this particular resy the next C says I",
    "start": "2485680",
    "end": "2491119"
  },
  {
    "text": "also want XY and Z to be in region too yeah so the the you know The Balancing",
    "start": "2491119",
    "end": "2496720"
  },
  {
    "text": "Act here is between the complexity of breaking up those atoms and not so like if you draw the line higher and you say",
    "start": "2496720",
    "end": "2502880"
  },
  {
    "text": "more of these things are going to be data resident at the beginning you have more problems because you've you've made",
    "start": "2502880",
    "end": "2508240"
  },
  {
    "text": "more complexity for your initial launch I would say that that complexity pales in comparison to moving the line",
    "start": "2508240",
    "end": "2514640"
  },
  {
    "text": "afterwards set the line Rel relatively high up as you can say everything that",
    "start": "2514640",
    "end": "2520720"
  },
  {
    "text": "is customer data like ask your legal team what it means to have customer data",
    "start": "2520720",
    "end": "2526319"
  },
  {
    "text": "so another example at Rippling is like okay you're a person and you have some",
    "start": "2526319",
    "end": "2531480"
  },
  {
    "text": "personal data but you're employed by the company and they own the data about your",
    "start": "2531480",
    "end": "2536920"
  },
  {
    "text": "employment where do you draw that line like what is personal data what is company data and you know for us the",
    "start": "2536920",
    "end": "2543040"
  },
  {
    "text": "answer is actually much more of it as company data than you would think um maybe if came in this naively if you are",
    "start": "2543040",
    "end": "2549520"
  },
  {
    "text": "understand the HR and compliance space actually probably wouldn't be a surprise to you where we drew the line um but it",
    "start": "2549520",
    "end": "2556119"
  },
  {
    "text": "it's something where it's like if you draw the line too big you're making a small amount of pain up",
    "start": "2556119",
    "end": "2562280"
  },
  {
    "text": "front if you draw the line too small you're making a great amount of pain later so I would air on the side of",
    "start": "2562280",
    "end": "2569599"
  },
  {
    "text": "saying something like all company data has to be within the same atom now",
    "start": "2569599",
    "end": "2575160"
  },
  {
    "text": "you could go larger than the company you could say the whole orc like a collection of companies actually lives collocated in one region that may or may",
    "start": "2575160",
    "end": "2582240"
  },
  {
    "text": "not work for your business um so that that's kind of different things you're trying to balance in terms of where you",
    "start": "2582240",
    "end": "2588960"
  },
  {
    "text": "draw that",
    "start": "2588960",
    "end": "2591400"
  },
  {
    "text": "line hi thank you again for your talk that was quite excit so I come from the",
    "start": "2594640",
    "end": "2600240"
  },
  {
    "text": "t space and our m kpi is basically to drive down cost of serve and we're",
    "start": "2600240",
    "end": "2606079"
  },
  {
    "text": "basically driven by uring our customers have on demand um post long story",
    "start": "2606079",
    "end": "2612559"
  },
  {
    "text": "short and so we operate a lot of Emeral instances to do a lot ourselves for",
    "start": "2612559",
    "end": "2618000"
  },
  {
    "text": "overow do you have any tips in dealing with let's say Dynamic",
    "start": "2618000",
    "end": "2624440"
  },
  {
    "text": "ORS respon to Lo so in this case the region doesn't always exist sometimes it",
    "start": "2624440",
    "end": "2629839"
  },
  {
    "text": "exists for you know and back yeah to the extent that you can follow the Gateway",
    "start": "2629839",
    "end": "2635640"
  },
  {
    "text": "routing pattern you're going to have a much better time uh with Emeral atoms because yeah it pops into existence as",
    "start": "2635640",
    "end": "2641640"
  },
  {
    "text": "long as you update the global data store that is powering like this mapping of thing to",
    "start": "2641640",
    "end": "2647040"
  },
  {
    "text": "region uh you're going to be fine with ephemeral regions if you can't do this",
    "start": "2647040",
    "end": "2652720"
  },
  {
    "text": "it gets ugly you know if you have the if you have this scenario you're going to have to update the map and the",
    "start": "2652720",
    "end": "2658800"
  },
  {
    "text": "dynamically in the the application router and that's going to get kind of",
    "start": "2658800",
    "end": "2664359"
  },
  {
    "text": "hairy and then if you're in the database uh replic scenario where like you're now like replicating databases dynamically",
    "start": "2664359",
    "end": "2671160"
  },
  {
    "text": "to different regions that I don't know of anyone who does that there might be",
    "start": "2671160",
    "end": "2678040"
  },
  {
    "text": "someone okay thank you yeah question",
    "start": "2678040",
    "end": "2683680"
  },
  {
    "text": "um anyone else going once going twice",
    "start": "2683680",
    "end": "2692119"
  },
  {
    "text": "sold uh me put up our little vote panel uh thank you everyone uh for for coming",
    "start": "2692119",
    "end": "2699000"
  },
  {
    "text": "to the talk today hope you guys like gained some insight in in multi- region and what to do um you know even if",
    "start": "2699000",
    "end": "2705319"
  },
  {
    "text": "you're not doing multi- region today uh it's food for thought you can start aligning your architectures with kind of what's what's needed for this now as",
    "start": "2705319",
    "end": "2711800"
  },
  {
    "text": "pre-work um and you know just having a knowledge of what this sort of challenge is going to look like for you and your",
    "start": "2711800",
    "end": "2718079"
  },
  {
    "text": "business can help you decide even if it's worth having this conversation with your with your leadership team about is this does this even make sense so um",
    "start": "2718079",
    "end": "2725480"
  },
  {
    "text": "again thank you everyone for coming and uh I'll stick around for a few minutes afterwards if if you guys want to talk",
    "start": "2725480",
    "end": "2730750"
  },
  {
    "text": "[Applause]",
    "start": "2730750",
    "end": "2736659"
  },
  {
    "text": "[Music]",
    "start": "2737220",
    "end": "2743510"
  }
]