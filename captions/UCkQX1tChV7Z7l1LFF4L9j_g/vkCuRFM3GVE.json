[
  {
    "start": "0",
    "end": "63000"
  },
  {
    "text": "my name is Adam I work at discuss and my twitter handle is I've got laser pointer",
    "start": "24080",
    "end": "30420"
  },
  {
    "text": "North is up if you if you find this interesting first a common misconception that I correct you say it like let's",
    "start": "30420",
    "end": "39690"
  },
  {
    "text": "discuss notnot discus a very common misconception however no longer and I",
    "start": "39690",
    "end": "50460"
  },
  {
    "text": "used to say this upfront we are hiring and I think thing to talk about some very interesting things and we've lost",
    "start": "50460",
    "end": "56430"
  },
  {
    "text": "more interesting things so if anything like piques your interest a we will pay you to do that uh yeah so first if I ask",
    "start": "56430",
    "end": "67229"
  },
  {
    "start": "63000",
    "end": "146000"
  },
  {
    "text": "you to raise your hands how many people will raise their hands alright that's",
    "start": "67229",
    "end": "74670"
  },
  {
    "text": "like eighty percent okay pretty good so how many people know what discuss",
    "start": "74670",
    "end": "80130"
  },
  {
    "text": "actually does like oh wow like all of you this is great sweet skip this slide",
    "start": "80130",
    "end": "86270"
  },
  {
    "text": "this is a product like this is a picture of it like a year ago I have not updated these slides and yes those comments and",
    "start": "86270",
    "end": "93450"
  },
  {
    "text": "really we see as building community because we allow websites to manage their community and grow it by",
    "start": "93450",
    "end": "99720"
  },
  {
    "text": "interacting with it as well as giving spam and other moderation tools and then",
    "start": "99720",
    "end": "104880"
  },
  {
    "text": "also this larger community of people that use our product across the internet it's allowing them to friend and follow",
    "start": "104880",
    "end": "111800"
  },
  {
    "text": "semantics so we're pretty big this is",
    "start": "111800",
    "end": "117000"
  },
  {
    "text": "again this is from februari and we've crossed a billion unique visitors per",
    "start": "117000",
    "end": "122819"
  },
  {
    "text": "month we have lots of visits all these numbers are just way bigger now and we",
    "start": "122819",
    "end": "132090"
  },
  {
    "text": "also have systems that have very high concurrency so we've got lots of visitors but they don't line up all nicely one in a row like they want to",
    "start": "132090",
    "end": "139349"
  },
  {
    "text": "come at the same time like what's up with that and so we also have super-high concurrency along with high aggregate",
    "start": "139349",
    "end": "146310"
  },
  {
    "start": "146000",
    "end": "344000"
  },
  {
    "text": "numbers so what technologies do we use mostly python there's this",
    "start": "146310",
    "end": "152340"
  },
  {
    "text": "definitely JavaScript that's how you get on a web page but i'm here to talk mostly about the python we love python a",
    "start": "152340",
    "end": "159060"
  },
  {
    "text": "lot it's really great why do we love it well it's really fast to develop with",
    "start": "159060",
    "end": "165690"
  },
  {
    "text": "and you know people argue about the actual cpu speed will let them argue but",
    "start": "165690",
    "end": "171930"
  },
  {
    "text": "i think it's under the undisputed that python gets out of your way there's no",
    "start": "171930",
    "end": "177049"
  },
  {
    "text": "you know you look at the Java HelloWorld you look at the Python hello world one of those is one line and one of those like 15 lines it's got great community",
    "start": "177049",
    "end": "185250"
  },
  {
    "text": "look at this room it's full of people we love it because there's a great community around it and us along with",
    "start": "185250",
    "end": "192750"
  },
  {
    "text": "all of you release awesome library packages that it's super easy to just use I didn't write simple JSON someone",
    "start": "192750",
    "end": "198540"
  },
  {
    "text": "else did and it's awesome I use it all the time it's also just like a super active language we're not even keeping",
    "start": "198540",
    "end": "206519"
  },
  {
    "text": "up with the head of the language we're just finishing our transition to 2.7 but I love it that other people are out",
    "start": "206519",
    "end": "212700"
  },
  {
    "text": "there thinking of what's next and where the problems that gonna be facing next year and keeping on charging ahead with",
    "start": "212700",
    "end": "218069"
  },
  {
    "text": "that and like also pipe I there's multiple implementations of it they're super active so those are really great",
    "start": "218069",
    "end": "223680"
  },
  {
    "text": "but most importantly we've been doing it for like six years so we've kind of got our loop of how we develop down really",
    "start": "223680",
    "end": "231030"
  },
  {
    "text": "pat how do we do that well this is like the most one my most frequently asked",
    "start": "231030",
    "end": "238470"
  },
  {
    "text": "questions it's not about any of the technologies is like how do you actually do work hey well slide so the first",
    "start": "238470",
    "end": "244950"
  },
  {
    "text": "thing we do is we don't actually commit code we dip the code so we use this tool that out of Facebook called fabricator",
    "start": "244950",
    "end": "251190"
  },
  {
    "text": "so we make a diff of our changes and we upload this fabricator thing it's nice little command line tool that does this",
    "start": "251190",
    "end": "257340"
  },
  {
    "text": "all people review that as well as a computer computer also runs the test so that's jenkins and then once both of",
    "start": "257340",
    "end": "264419"
  },
  {
    "text": "those once the humans and the test runner agree that it's good code we do",
    "start": "264419",
    "end": "269610"
  },
  {
    "text": "our get push and then then we wait so we do basically continuous deployment but",
    "start": "269610",
    "end": "277320"
  },
  {
    "text": "that basically is like 12 like eight times a day eight on like a super hot",
    "start": "277320",
    "end": "284099"
  },
  {
    "text": "day but usually because we have to fix something not because we were like super productive so so yeah so we are moving",
    "start": "284099",
    "end": "295080"
  },
  {
    "text": "to try to deploy every commit for reasons I'm going to talk about later but right now it's basically daily so",
    "start": "295080",
    "end": "304620"
  },
  {
    "text": "there's a breakdown of what that python is ed's almost entirely Django so two years ago that was like ninety-five",
    "start": "304620",
    "end": "310620"
  },
  {
    "text": "percent Django now that's like maybe seventy percent Django and I totally",
    "start": "310620",
    "end": "316740"
  },
  {
    "text": "made those numbers up but they're roughly accurate uh so what is in that",
    "start": "316740",
    "end": "321810"
  },
  {
    "text": "gap like so we've got this I wanted to do pie charts but I couldn't figure out how to use numbers so I must be really",
    "start": "321810",
    "end": "328349"
  },
  {
    "text": "stupid because I couldn't use an apple product um but I love bug Thank You",
    "start": "328349",
    "end": "337199"
  },
  {
    "text": "Cindy okay um so what's in that growing gap let's talk about that but first just",
    "start": "337199",
    "end": "344939"
  },
  {
    "start": "344000",
    "end": "583000"
  },
  {
    "text": "a little bit more detail about skip slide so how do we like was a little bit more detail about that workflow and why",
    "start": "344939",
    "end": "351839"
  },
  {
    "text": "are there some pain points in it you know so again our stack is almost really gel gel or a django and celery and we",
    "start": "351839",
    "end": "360210"
  },
  {
    "text": "put that on top of postgres and rabbit and every one of those technologies in",
    "start": "360210",
    "end": "366330"
  },
  {
    "text": "the top we're just like pushing to the match we've got like this hundred and 300 gig of rant like gig ram master",
    "start": "366330",
    "end": "374189"
  },
  {
    "text": "database that's right post grads and that's just got like tons of read slaves like we're super read heavy so we just",
    "start": "374189",
    "end": "380339"
  },
  {
    "text": "got this giant and it's got like thirty two processors in it that they're all like super big processors they're",
    "start": "380339",
    "end": "386520"
  },
  {
    "text": "probably Zeon's or something or whatever Intel is selling us now it's crazy and",
    "start": "386520",
    "end": "392279"
  },
  {
    "text": "same with the rabbit machines and they're all just like push the limit and so uh that's one of the reasons for the",
    "start": "392279",
    "end": "398219"
  },
  {
    "text": "chocolate what are other options there so yeah so again we roll up commits for deploy where potential problems with",
    "start": "398219",
    "end": "404669"
  },
  {
    "text": "that well it's a rollup so I'm perfect of course but my co-workers might not be",
    "start": "404669",
    "end": "412529"
  },
  {
    "text": "so sometimes sometimes they",
    "start": "412529",
    "end": "418210"
  },
  {
    "text": "they have a bug and we have to revert my perfect code which was gonna increase",
    "start": "418210",
    "end": "423520"
  },
  {
    "text": "revenue for the company but now it doesn't go out till tomorrow so revenue",
    "start": "423520",
    "end": "430150"
  },
  {
    "text": "doesn't go up until tomorrow but sometimes I'm less than perfect and this",
    "start": "430150",
    "end": "435610"
  },
  {
    "text": "is true i left a pvp that set trace that got through code review and that will",
    "start": "435610",
    "end": "441669"
  },
  {
    "text": "that's just it's just looking images like break it just like stopped and so",
    "start": "441669",
    "end": "447009"
  },
  {
    "text": "yeah um so sometimes things do get through so you know we have super-high",
    "start": "447009",
    "end": "452020"
  },
  {
    "text": "scrutiny in that code review but there's like discusses it's a relatively small engineering organization for that over a",
    "start": "452020",
    "end": "459610"
  },
  {
    "text": "billion hits a month uniques a month we've 17 engineers that are committing",
    "start": "459610",
    "end": "465099"
  },
  {
    "text": "to this code base right now and but that's still a lot of commits that we're all generated day so we've got a pretty",
    "start": "465099",
    "end": "470440"
  },
  {
    "text": "high volume of code review so round trip time for a review can be up to 24 hours",
    "start": "470440",
    "end": "476639"
  },
  {
    "text": "and then also there's just like legacy kelly we still support api version 1",
    "start": "476639",
    "end": "482139"
  },
  {
    "text": "point 0 and that thing is the worst stop using it if you're using it so we can delete it so we're problems that just",
    "start": "482139",
    "end": "489400"
  },
  {
    "text": "don't fit into that stack of Django and celery on top of post cousin rabbit well",
    "start": "489400",
    "end": "495759"
  },
  {
    "text": "super high concurrency problems so what's super high concurrency mmm i",
    "start": "495759",
    "end": "500889"
  },
  {
    "text": "previously wrote our real time system and that was seen between two and five million concurrent users depending on",
    "start": "500889",
    "end": "507729"
  },
  {
    "text": "the mood of the internet and whether or not a new pope was being selected at the time or other like the Boston bombings",
    "start": "507729",
    "end": "516130"
  },
  {
    "text": "was just through the roof like everyone was on the internet the same time they all went to CNN and yeah so that's crazy",
    "start": "516130",
    "end": "523209"
  },
  {
    "text": "so um very high concurrency problems also we want to compartmentalize risk so",
    "start": "523209",
    "end": "529630"
  },
  {
    "text": "sometimes you have a task that is very volatile and prone to failure or Eva",
    "start": "529630",
    "end": "534640"
  },
  {
    "text": "task that's very sensitive to failure it's like oh we made it it's gonna make us tons of money but if you like blow on",
    "start": "534640",
    "end": "540760"
  },
  {
    "text": "it it will just like fall over so those are both reasons to to try and do some",
    "start": "540760",
    "end": "546459"
  },
  {
    "text": "sort of isolation for that code sometimes we need speed like sometimes Python is not",
    "start": "546459",
    "end": "552000"
  },
  {
    "text": "that's enough and we have super well traveled paths code paths like let's optimize this and let's put it in a",
    "start": "552000",
    "end": "558720"
  },
  {
    "text": "language that's just only fast but hard to read but sometimes you just want move",
    "start": "558720",
    "end": "565590"
  },
  {
    "text": "faster than individually like oh man these guys are solving really hard problems i want solve this new problem",
    "start": "565590",
    "end": "570960"
  },
  {
    "text": "that's really small so i need to move quicker than those other guys are also fun what is the point of all this if",
    "start": "570960",
    "end": "578580"
  },
  {
    "text": "we're not having fun so sometimes you see like explore new options and technologies so yeah so what did we play",
    "start": "578580",
    "end": "585150"
  },
  {
    "start": "583000",
    "end": "827000"
  },
  {
    "text": "with well the first thing we started playing with was engine X real time was",
    "start": "585150",
    "end": "591360"
  },
  {
    "text": "one of our earlier products that was using engine X as a core and it was",
    "start": "591360",
    "end": "597570"
  },
  {
    "text": "basically engine axis serving Python processes but as we started exploring that ecosystem we really started seeing",
    "start": "597570",
    "end": "604770"
  },
  {
    "text": "a lot of cool stuff like engine X modules we found there were engine X",
    "start": "604770",
    "end": "610290"
  },
  {
    "text": "modules that could just wholesale replace banks of servers so one",
    "start": "610290",
    "end": "616230"
  },
  {
    "text": "specifically that I talk about in this I love this laser pointer in this talk from Pike on this last year I talked",
    "start": "616230",
    "end": "623460"
  },
  {
    "text": "about how we use the engine X put stream module 2 I think that's like 11 engine",
    "start": "623460",
    "end": "629130"
  },
  {
    "text": "Xbox could replace like 15 G unicorn based things that we're basically doing the exact same work as well as a bank of",
    "start": "629130",
    "end": "636600"
  },
  {
    "text": "Redis servers to so that was our first thing so if you want more detail on that like I talked for probably 40 minutes in",
    "start": "636600",
    "end": "642630"
  },
  {
    "text": "that time the next thing was like engine X is awesome what's this Lua thing well Lou is a language that embeds really",
    "start": "642630",
    "end": "649589"
  },
  {
    "text": "well in other languages or other processes so engine X and both Redis now",
    "start": "649589",
    "end": "655710"
  },
  {
    "text": "you can just run Lewis scripts and lua is almost pythonic almost and so it was",
    "start": "655710",
    "end": "662940"
  },
  {
    "text": "really easy for us to just build start building and features in there I'm going to just show an example when those in a sec that link is not to discuss code",
    "start": "662940",
    "end": "671130"
  },
  {
    "text": "that's to me playing with it to see if it would work but that is basically is",
    "start": "671130",
    "end": "676440"
  },
  {
    "text": "an engine xbox that you can just run or like anything that you reverse proxy to",
    "start": "676440",
    "end": "681630"
  },
  {
    "text": "so anything that listens to HTTP and it's going to do persona authentication checking in the",
    "start": "681630",
    "end": "687440"
  },
  {
    "text": "middle and that's all done in the web server so it's not even gonna the request will never even at the back end",
    "start": "687440",
    "end": "692870"
  },
  {
    "text": "if if you don't authenticate on the right domain and the whole point of that",
    "start": "692870",
    "end": "698089"
  },
  {
    "text": "was till I say hey designers they want to do cool things too but they don't know how to do authentication I don't",
    "start": "698089",
    "end": "703160"
  },
  {
    "text": "want to trust them but figure out how off works so I did it and the last thing",
    "start": "703160",
    "end": "708860"
  },
  {
    "text": "is go so I've been talking about this a real time thing I made well eventually it was seen like 10,000 concurrent",
    "start": "708860",
    "end": "717110"
  },
  {
    "text": "events on our back end so we just kind of there was the front end that we've replaced with engine X already then the",
    "start": "717110",
    "end": "722960"
  },
  {
    "text": "back stream processes of that were just seeing so much concurrency of just messages that people we had to broadcast",
    "start": "722960",
    "end": "728480"
  },
  {
    "text": "to the internet that we ended up rewriting the thing go and that worse that's in production right now and that",
    "start": "728480",
    "end": "735830"
  },
  {
    "text": "was not me that someone else that has super fun time playing with that and but it works really great and we got out in",
    "start": "735830",
    "end": "742220"
  },
  {
    "text": "one week because it was isolated and separate was great so here's an example",
    "start": "742220",
    "end": "749000"
  },
  {
    "text": "of lua and it is not indentation specific apparently that isn't her but",
    "start": "749000",
    "end": "758420"
  },
  {
    "text": "yeah so this is what this is doing is this is code that we are running in production I think and it's basically",
    "start": "758420",
    "end": "766070"
  },
  {
    "text": "it's a thumbnail service so if you hit our servers and you see a thumbnail of",
    "start": "766070",
    "end": "771920"
  },
  {
    "text": "something it was that's with this code so this will a engine X will actually spawn a brand new thread for every",
    "start": "771920",
    "end": "778580"
  },
  {
    "text": "single request so they're super highly concurrent because they're all individual and because they're their own",
    "start": "778580",
    "end": "785420"
  },
  {
    "text": "threads they also have like code isolation in here so that means that two concurrent requests I couldn't be able",
    "start": "785420",
    "end": "791000"
  },
  {
    "text": "to even know each other exists you not play in flask there's all as stashing of Global's and stuff and so that's just",
    "start": "791000",
    "end": "797029"
  },
  {
    "text": "naming a Global's and thread locals that's just not even concerned with lua",
    "start": "797029",
    "end": "802459"
  },
  {
    "text": "so this is just gonna hit in bed lee it's gonna get the image and its gun and",
    "start": "802459",
    "end": "807529"
  },
  {
    "text": "return the thumbnail right there or a URL to the thumbnail so this is just one",
    "start": "807529",
    "end": "812959"
  },
  {
    "text": "example of this was a couple servers that were previously doing this in python and we replace it with",
    "start": "812959",
    "end": "819290"
  },
  {
    "text": "a server that does it in and it's actually the engine X process is doing",
    "start": "819290",
    "end": "824509"
  },
  {
    "text": "other stuff too it's it's so much more efficient but again we love Python and",
    "start": "824509",
    "end": "831320"
  },
  {
    "start": "827000",
    "end": "982000"
  },
  {
    "text": "python is really great for a lot of things especially when I was saying",
    "start": "831320",
    "end": "836509"
  },
  {
    "text": "isolation and iteration speed if you don't need that like you know last 2%",
    "start": "836509",
    "end": "842240"
  },
  {
    "text": "performance we stick with it the I keep",
    "start": "842240",
    "end": "847730"
  },
  {
    "text": "on saying like isolate failures but I really want to say is like it also level 8 is a platform for success it really",
    "start": "847730",
    "end": "853639"
  },
  {
    "text": "allows someone to iterate faster so yeah so what do we do for writing Python",
    "start": "853639",
    "end": "860240"
  },
  {
    "text": "services well we've a strong tradition at discuss of trying it neways all the",
    "start": "860240",
    "end": "866180"
  },
  {
    "text": "time so the first thing we tried was just like a cron job of a Python script",
    "start": "866180",
    "end": "871910"
  },
  {
    "text": "so if name equals main that do stuff we also just have like simple whiskey",
    "start": "871910",
    "end": "878149"
  },
  {
    "text": "servers like yeah we just need to serve like one thing and then we also have xml-rpc where servers which is the worst",
    "start": "878149",
    "end": "884720"
  },
  {
    "text": "thing ever but it actually works really well for this exact one use case where",
    "start": "884720",
    "end": "890540"
  },
  {
    "text": "we have it's serving a proxy object so we can in development it's the exact",
    "start": "890540",
    "end": "896420"
  },
  {
    "text": "same code and we can access production data but we can filter out any write",
    "start": "896420",
    "end": "902480"
  },
  {
    "text": "command so it's just read only access and we can enforce that by having a proxy server but it works great uh 41",
    "start": "902480",
    "end": "911720"
  },
  {
    "text": "deploy and and then you have to like do it again and that's usually you nagging",
    "start": "911720",
    "end": "917540"
  },
  {
    "text": "the ops guy say oh can you ssh in and like get check out and and we run that",
    "start": "917540",
    "end": "922850"
  },
  {
    "text": "process and kill it and it didn't work that time shoot ok and then Tess it well",
    "start": "922850",
    "end": "928329"
  },
  {
    "text": "so yeah so lessons from that is just that consistency across those services",
    "start": "928329",
    "end": "933949"
  },
  {
    "text": "was horrible and we want it we want people load config from the same",
    "start": "933949",
    "end": "939769"
  },
  {
    "text": "location we use zookeeper for config you should do that oh you don't want to write this code for a zookeeper well",
    "start": "939769",
    "end": "945829"
  },
  {
    "text": "you're the one writing your own little service you have to do it simplicity is good because then anyone can just pick",
    "start": "945829",
    "end": "951170"
  },
  {
    "text": "it up and run with it without having understand your own little world modularity is good because everyone",
    "start": "951170",
    "end": "957320"
  },
  {
    "text": "wants to do the same config rigging right so we should we should maybe make that a module or something uh and copy",
    "start": "957320",
    "end": "964310"
  },
  {
    "text": "paste is bad so don't just copy that guy's config loading code because you're",
    "start": "964310",
    "end": "969530"
  },
  {
    "text": "gonna change it and then it can be different and has to be bad because yes I know you're going to change it I know you say you're not going to you will and",
    "start": "969530",
    "end": "976520"
  },
  {
    "text": "then not bugging ops is the best because they are always too busy for me so what",
    "start": "976520",
    "end": "983900"
  },
  {
    "start": "982000",
    "end": "1083000"
  },
  {
    "text": "did I do we wrote some code called discuss service and we actually wrote",
    "start": "983900",
    "end": "989540"
  },
  {
    "text": "two things called discuss service it's a little confusing the first thing called discuss service uh-huh is this code",
    "start": "989540",
    "end": "996170"
  },
  {
    "text": "shortly afterwards the thing called discuss service works with this code to do auto deployments so we basically made",
    "start": "996170",
    "end": "1003790"
  },
  {
    "text": "an API in Jenkins where once your code review happens if your codes accepted and Jenkins runs the tests and they pass",
    "start": "1003790",
    "end": "1011610"
  },
  {
    "text": "Jenkins will auto deploy it as long as you use setup I correctly as long as you",
    "start": "1011610",
    "end": "1017980"
  },
  {
    "text": "know your setup high-test stepped up I install basically we just said setup I as our API and so that was just like a",
    "start": "1017980",
    "end": "1025390"
  },
  {
    "text": "killer decision to make it so ops doesn't care anymore we just have to say oh yeah conforms to the API they're like",
    "start": "1025390",
    "end": "1030939"
  },
  {
    "text": "okay push the button now we have our own new low pipeline that deploys of service",
    "start": "1030940",
    "end": "1035970"
  },
  {
    "text": "so what does discuss service so well the goals were that we want to be consistent with respect to config with respect to",
    "start": "1035970",
    "end": "1045430"
  },
  {
    "text": "switches which is for us are how do you AP test right so we're gonna have how do",
    "start": "1045430",
    "end": "1050770"
  },
  {
    "text": "we report on that information and how do you get whether or not you should be doing a beam test we want consistent",
    "start": "1050770",
    "end": "1056710"
  },
  {
    "text": "logging and error reporting we use a program called sentry at discuss which was written at discuss and is also",
    "start": "1056710",
    "end": "1064090"
  },
  {
    "text": "available get sentry calm if you want to just install it a lot of our guys does that now instead and record stats we use",
    "start": "1064090",
    "end": "1073150"
  },
  {
    "text": "stats d but we want be it reporting the same stats everywhere as well as just",
    "start": "1073150",
    "end": "1079240"
  },
  {
    "text": "other internal systems so and most importantly it should be easy to run so",
    "start": "1079240",
    "end": "1084640"
  },
  {
    "start": "1083000",
    "end": "1259000"
  },
  {
    "text": "the first thing and discuss service is the at service decorator it's the equivalent to the kind of like at Maine",
    "start": "1084640",
    "end": "1091370"
  },
  {
    "text": "or if main option and it looks like this ah what is all this indentation all",
    "start": "1091370",
    "end": "1097790"
  },
  {
    "text": "right so man it's not real code this is in rich text format yeah um yeah",
    "start": "1097790",
    "end": "1106930"
  },
  {
    "text": "pigments right here okay so i'm importing the service decorator and then",
    "start": "1106930",
    "end": "1112460"
  },
  {
    "text": "i decorate the my function world and it prints hello world and the way i would",
    "start": "1112460",
    "end": "1119930"
  },
  {
    "text": "run this is with the helper program called toil so you say toil run hello dot world that is a Python path to the",
    "start": "1119930",
    "end": "1128480"
  },
  {
    "text": "object in the Python in the hello module and it will run it and it will also do",
    "start": "1128480",
    "end": "1135260"
  },
  {
    "text": "lots of other stuff for you but as far as an application developer is concerned they just care about what's inside the",
    "start": "1135260",
    "end": "1142700"
  },
  {
    "text": "function but sometimes you're like me or like I care about more so I gave more so",
    "start": "1142700",
    "end": "1151160"
  },
  {
    "text": "there's a class called service and it has more decorators that you can use the handler decorator is going to give you",
    "start": "1151160",
    "end": "1157670"
  },
  {
    "text": "access to that's how you define what's the main method in a class and then",
    "start": "1157670",
    "end": "1163460"
  },
  {
    "text": "there's some lifecycle handling decorators that execute as hooks around",
    "start": "1163460",
    "end": "1168560"
  },
  {
    "text": "config set up or update config so a little bit slightly more complicated",
    "start": "1168560",
    "end": "1174950"
  },
  {
    "text": "example this one is going to do so we see we're inheriting from service and",
    "start": "1174950",
    "end": "1180830"
  },
  {
    "text": "then we have the handler decorator saying oh world that's the what you're",
    "start": "1180830",
    "end": "1187100"
  },
  {
    "text": "going to run when someone does the run from the command line and then post",
    "start": "1187100",
    "end": "1192380"
  },
  {
    "text": "config so this in the background the service is going to go it's going to load some config files from zookeeper",
    "start": "1192380",
    "end": "1199580"
  },
  {
    "text": "it's going to load them from the environment from environment variables and it can also load them from config",
    "start": "1199580",
    "end": "1206120"
  },
  {
    "text": "files both default config files that have a assumed position in the module as",
    "start": "1206120",
    "end": "1213290"
  },
  {
    "text": "well as overrides from local config files and so that's all that happened",
    "start": "1213290",
    "end": "1219530"
  },
  {
    "text": "the background and then after all that happens I'm gonna get oh hey I wanted to get the",
    "start": "1219530",
    "end": "1225469"
  },
  {
    "text": "Redis host and the rest port I'm going to just set that up on a little instance variable and then I can access that in",
    "start": "1225469",
    "end": "1231200"
  },
  {
    "text": "my main method up there and it's run in the exact same way as it was previously",
    "start": "1231200",
    "end": "1236659"
  },
  {
    "text": "uh when we were working on this we kind",
    "start": "1236659",
    "end": "1241700"
  },
  {
    "text": "of found that there were some things we were doing really quite a lot so we were making a lot of web services so we just",
    "start": "1241700",
    "end": "1249409"
  },
  {
    "text": "kind of made a flask service mixin and that's going to just allow you to get all that config in the same consistent",
    "start": "1249409",
    "end": "1256279"
  },
  {
    "text": "way but it's also the act just like a flask app gee event service that's",
    "start": "1256279",
    "end": "1261379"
  },
  {
    "start": "1259000",
    "end": "1430000"
  },
  {
    "text": "basically i love g event personally is great for concurrent io at pretty",
    "start": "1261379",
    "end": "1268909"
  },
  {
    "text": "reasonable and high levels Retta service that's just is basically and give you that Renaissance of you just like you",
    "start": "1268909",
    "end": "1274879"
  },
  {
    "text": "saw here it bae does basically this kafka service Kafka's @q use internally",
    "start": "1274879",
    "end": "1280909"
  },
  {
    "text": "and jingle RM service this is doesn't currently support actually using Django",
    "start": "1280909",
    "end": "1286459"
  },
  {
    "text": "views or anything but we use Django a lot like I said previously and we have a",
    "start": "1286459",
    "end": "1291919"
  },
  {
    "text": "lot of institutional knowledge around how that Oh RM works so we really wanted to support the Django database as an",
    "start": "1291919",
    "end": "1298820"
  },
  {
    "text": "option for these services so here's just like one example of real-life discussed",
    "start": "1298820",
    "end": "1305419"
  },
  {
    "text": "code this is the shell class so this is a for when you're developing something",
    "start": "1305419",
    "end": "1310700"
  },
  {
    "text": "using discuss service it's just going to dump you right into an I Python shell almost identical to in Django a managed",
    "start": "1310700",
    "end": "1318169"
  },
  {
    "text": "pie shell would so it's going to load service contacts and you're gonna have access to your in since you're inside of",
    "start": "1318169",
    "end": "1326599"
  },
  {
    "text": "the shell function even have access to the self variable so you can you know self dot Redis and run forward with that",
    "start": "1326599",
    "end": "1334309"
  },
  {
    "text": "and do cool stuff and you can see i use the Redis mix in here too to get access",
    "start": "1334309",
    "end": "1340459"
  },
  {
    "text": "to Redis so i've mentioned uh yo what's",
    "start": "1340459",
    "end": "1347269"
  },
  {
    "text": "important which part Oh so a great question so the question was",
    "start": "1347269",
    "end": "1354360"
  },
  {
    "text": "wise what is this doing that's difficult to do otherwise so if you're just going",
    "start": "1354360",
    "end": "1359669"
  },
  {
    "text": "to load up Python or like if you want to just load a I Python shell or something you can totally do that but what the",
    "start": "1359669",
    "end": "1366990"
  },
  {
    "text": "service framework does is it is going to connect to all those other services like",
    "start": "1366990",
    "end": "1373470"
  },
  {
    "text": "a kazoo and I'm sorry naaku zoo zoo keeper and other things so what this is",
    "start": "1373470",
    "end": "1379289"
  },
  {
    "text": "doing is this is doing all that bootstrap code such that when you dumped into the shell you are connected and",
    "start": "1379289",
    "end": "1386159"
  },
  {
    "text": "have access to all those services so it's it's already connected to databases it's already connected to its like in",
    "start": "1386159",
    "end": "1392490"
  },
  {
    "text": "Django's manage a pie you can just start accessing objects right you can say like",
    "start": "1392490",
    "end": "1397679"
  },
  {
    "text": "that my models objects at all because it's connected to the database this is doing the similar work but using the",
    "start": "1397679",
    "end": "1406279"
  },
  {
    "text": "discuss service framework so yeah so I",
    "start": "1406279",
    "end": "1411570"
  },
  {
    "text": "really wanted to show more examples about mix-ins because I think they're really awesome as a way to organize code",
    "start": "1411570",
    "end": "1418620"
  },
  {
    "text": "so I'm gonna need you to use your imaginations for a second these are slides from my previous talk so they're",
    "start": "1418620",
    "end": "1425070"
  },
  {
    "text": "going to talk about pipelines because I was talking about data pipelines not services so pretend that it says service",
    "start": "1425070",
    "end": "1432059"
  },
  {
    "start": "1430000",
    "end": "1581000"
  },
  {
    "text": "instead of pipeline but the concepts really similar so in the pipeline example the pipeline had a life cycle it",
    "start": "1432059",
    "end": "1440700"
  },
  {
    "text": "has four stages where basically you're going to say hey I want to parse this data I want to compute some data I want",
    "start": "1440700",
    "end": "1447539"
  },
  {
    "text": "to publish that data and then I want to handle an incoming message somehow and so just like the services where I had",
    "start": "1447539",
    "end": "1455519"
  },
  {
    "text": "that Redis service doing just one specific thing these are now a couple examples of very specific things that",
    "start": "1455519",
    "end": "1461940"
  },
  {
    "text": "you can do in those in this pipeline so the first one is just an elegant parse JSON input right and it's only doing the",
    "start": "1461940",
    "end": "1469649"
  },
  {
    "text": "parse step and anonymized is only doing the compute step it's it's in case the",
    "start": "1469649",
    "end": "1475409"
  },
  {
    "text": "NSA is listening we want to just return no data and then we have the compute",
    "start": "1475409",
    "end": "1482190"
  },
  {
    "text": "step this is the super secure one so we're gonna rot 13 that data super skier and then we're going to",
    "start": "1482190",
    "end": "1489210"
  },
  {
    "text": "publish to hgp a web view a URL or a file or something and that that's an",
    "start": "1489210",
    "end": "1495540"
  },
  {
    "text": "append cool so yeah so then when you want to actually use these you just kind",
    "start": "1495540",
    "end": "1500670"
  },
  {
    "text": "of pick and choose because as long as you're not using the same stage twice they're going to mix in really well",
    "start": "1500670",
    "end": "1507240"
  },
  {
    "text": "you're not going to have any this is technically multiple inheritance but because they were specifically designed",
    "start": "1507240",
    "end": "1513120"
  },
  {
    "text": "to not overlap with each other they work really well like this so you can just",
    "start": "1513120",
    "end": "1518670"
  },
  {
    "text": "say oh I made a JSON parsing anonymizing HTTP publishing pipeline or a JSON",
    "start": "1518670",
    "end": "1525390"
  },
  {
    "text": "parsing super secure pipeline to a file as cetera and so that's cool because I",
    "start": "1525390",
    "end": "1533130"
  },
  {
    "text": "didn't have to copy paste anything is really modular as you add more you can mix them together really well but the",
    "start": "1533130",
    "end": "1540390"
  },
  {
    "text": "best part is the testing story because the tests look just like those mix-ins",
    "start": "1540390",
    "end": "1546030"
  },
  {
    "text": "so assuming I had tests of these names to correspond back to these original",
    "start": "1546030",
    "end": "1553770"
  },
  {
    "text": "things you only have to test one thing per class really well if you were to do",
    "start": "1553770",
    "end": "1560370"
  },
  {
    "text": "this by either copy pasting code or if you were to make each of these pipelines individually now you're testing is also",
    "start": "1560370",
    "end": "1568620"
  },
  {
    "text": "getting replicated out so I just think that's the best paradigm ever because",
    "start": "1568620",
    "end": "1574140"
  },
  {
    "text": "your your tests are super super straightforward and they're simple because they do each one thing it's just",
    "start": "1574140",
    "end": "1582150"
  },
  {
    "start": "1581000",
    "end": "1724000"
  },
  {
    "text": "about having well-defined interfaces there's no real good segue here because",
    "start": "1582150",
    "end": "1588060"
  },
  {
    "text": "this is a beta test talk so I'd like to thank everyone here for being a part of this I'm giving this talk a later",
    "start": "1588060",
    "end": "1595350"
  },
  {
    "text": "conference uh but yeah so we have lots of open source stuff because I've mentioned several open source things",
    "start": "1595350",
    "end": "1600690"
  },
  {
    "text": "that we use like engine X like Django we've contributed back to both of those",
    "start": "1600690",
    "end": "1605760"
  },
  {
    "text": "as well as several other things this is just a list of things I briefly mentioned some of them not but century",
    "start": "1605760",
    "end": "1613050"
  },
  {
    "text": "is what we use to get errors in check it out it's the best thing ever if you haven't done it it",
    "start": "1613050",
    "end": "1619170"
  },
  {
    "text": "it's going to tell you what exceptions are trending in your system nie this is",
    "start": "1619170",
    "end": "1624470"
  },
  {
    "text": "how we manage ring base Redis connections Django mail views is",
    "start": "1624470",
    "end": "1630450"
  },
  {
    "text": "something that we released recently it's sending email like cool formatted ones that look pretty from Django gargoyle is",
    "start": "1630450",
    "end": "1637380"
  },
  {
    "text": "how we've done switches a be testing previously and we're just starting to",
    "start": "1637380",
    "end": "1642840"
  },
  {
    "text": "try out our rewrite of it called gutter which is just like super powerful that you get to lay right awesome things and",
    "start": "1642840",
    "end": "1650070"
  },
  {
    "text": "it works for more than just Django gargoyles Django only gutter person",
    "start": "1650070",
    "end": "1655290"
  },
  {
    "text": "everything so if you want to check that out go to github page and unfortunately",
    "start": "1655290",
    "end": "1661620"
  },
  {
    "text": "discuss service is not open source yet but I've talked to a lot of people that",
    "start": "1661620",
    "end": "1667080"
  },
  {
    "text": "are solving the exact same problems and I want feedback should we open source it what people actually use what would",
    "start": "1667080",
    "end": "1673980"
  },
  {
    "text": "anyone like raise your hands if you would actually use this all right like maybe okay cool like some people so yeah",
    "start": "1673980",
    "end": "1682890"
  },
  {
    "text": "so if this was into you um we're hiring and we I I run meetups I run a meet-up",
    "start": "1682890",
    "end": "1690690"
  },
  {
    "text": "called arch camp which is more architecture centric we talk a lot more",
    "start": "1690690",
    "end": "1696000"
  },
  {
    "text": "about ways to solve problems that scale less about a particular language so if",
    "start": "1696000",
    "end": "1701640"
  },
  {
    "text": "you want to hear more about those engine X scalene solutions or our next one is",
    "start": "1701640",
    "end": "1707970"
  },
  {
    "text": "going to be on segmenting data and how to do recommendations i'm building an ad",
    "start": "1707970",
    "end": "1713430"
  },
  {
    "text": "server now so that's near to my heart i also run the discuss meet up which is hackathons and happy hours so join those",
    "start": "1713430",
    "end": "1722330"
  },
  {
    "text": "so just a quick recap what I just talked about we love Python but not everything",
    "start": "1722330",
    "end": "1728760"
  },
  {
    "text": "we do is in Python because sometimes other tools are better for the jobs not",
    "start": "1728760",
    "end": "1734400"
  },
  {
    "text": "everything is a nail and we have more than just a hammer let's see services",
    "start": "1734400",
    "end": "1739980"
  },
  {
    "text": "are awesome but they have some problems and I've got some questions about those next if you have answers mix-ins are the",
    "start": "1739980",
    "end": "1747270"
  },
  {
    "text": "best ever especially for testing and I don't have all the answers so how do you guys run services like how",
    "start": "1747270",
    "end": "1754040"
  },
  {
    "text": "did you end up segregating your code uh I like cues I like stream oriented data",
    "start": "1754040",
    "end": "1759770"
  },
  {
    "text": "but do people here like RPC just everything is a website like what do you do what do you do what do you do for a",
    "start": "1759770",
    "end": "1767240"
  },
  {
    "text": "hot super high concurrency because I do this all the time too but I like right",
    "start": "1767240",
    "end": "1772910"
  },
  {
    "text": "in Python more than I like Ryan Lewis so if there's an answer there um do you",
    "start": "1772910",
    "end": "1779060"
  },
  {
    "text": "guys like lint or anything your code before you commit it and if you do how do you filter on like you know p DV that",
    "start": "1779060",
    "end": "1787070"
  },
  {
    "text": "set trace is technically going to be Pepe compliant but you know you still",
    "start": "1787070",
    "end": "1793190"
  },
  {
    "text": "don't want to eat your code so if you find a solution to that like can I have it that'd be great and then the last",
    "start": "1793190",
    "end": "1800630"
  },
  {
    "text": "thing is so dev does evil production or does it like when we're using manship I",
    "start": "1800630",
    "end": "1807350"
  },
  {
    "text": "run server sometimes as different behavior then when we run it with you whiskey so do you guys just like say I",
    "start": "1807350",
    "end": "1814040"
  },
  {
    "text": "will probably work because that's what we do I would really like to be better",
    "start": "1814040",
    "end": "1819050"
  },
  {
    "text": "than l will probably work the same because I've seen it not work the same so yeah so that's my questions for you",
    "start": "1819050",
    "end": "1826460"
  },
  {
    "text": "and that's all I have so thank you for being my beta testers I hope it was good",
    "start": "1826460",
    "end": "1832420"
  },
  {
    "text": "you",
    "start": "1834780",
    "end": "1836840"
  }
]