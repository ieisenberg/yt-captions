[
  {
    "start": "0",
    "end": "120000"
  },
  {
    "text": "[Music]",
    "start": "1990",
    "end": "17400"
  },
  {
    "text": "so the format today is um you're getting",
    "start": "17400",
    "end": "19600"
  },
  {
    "text": "six topics uh we're doing two topics",
    "start": "19600",
    "end": "21519"
  },
  {
    "text": "each they're 15 minutes long so if",
    "start": "21519",
    "end": "23519"
  },
  {
    "text": "there's something that doesn't really",
    "start": "23519",
    "end": "24640"
  },
  {
    "text": "catch your attention that's okay you",
    "start": "24640",
    "end": "26359"
  },
  {
    "text": "just wait a few minutes and and another",
    "start": "26359",
    "end": "28000"
  },
  {
    "text": "topic will come along but yeah um please",
    "start": "28000",
    "end": "30000"
  },
  {
    "text": "please uh welcome on stage Nathan yler",
    "start": "30000",
    "end": "32640"
  },
  {
    "text": "who's going to be talking about how",
    "start": "32640",
    "end": "34200"
  },
  {
    "text": "event right",
    "start": "34200",
    "end": "35920"
  },
  {
    "text": "internationalized good evening thanks",
    "start": "35920",
    "end": "37760"
  },
  {
    "text": "everybody for coming out um as Simon",
    "start": "37760",
    "end": "39800"
  },
  {
    "text": "said my name is Nathan and I'm a",
    "start": "39800",
    "end": "41600"
  },
  {
    "text": "principal engineer here at Eventbrite",
    "start": "41600",
    "end": "43719"
  },
  {
    "text": "I've been here about three years and uh",
    "start": "43719",
    "end": "47160"
  },
  {
    "text": "uh my first topic this evening is around",
    "start": "47160",
    "end": "49440"
  },
  {
    "text": "internationalization and so what I want",
    "start": "49440",
    "end": "51480"
  },
  {
    "text": "to talk to you this evening about is how",
    "start": "51480",
    "end": "54160"
  },
  {
    "text": "Eventbrite um launched internationally",
    "start": "54160",
    "end": "57559"
  },
  {
    "text": "how we adapted our code base for",
    "start": "57559",
    "end": "58920"
  },
  {
    "text": "International International ation and",
    "start": "58920",
    "end": "60800"
  },
  {
    "text": "some of the things I think are slightly",
    "start": "60800",
    "end": "62160"
  },
  {
    "text": "unique that we uh developed as part of",
    "start": "62160",
    "end": "65158"
  },
  {
    "text": "that this is this is sort of the story",
    "start": "65159",
    "end": "67799"
  },
  {
    "text": "of how we took the site from looking",
    "start": "67799",
    "end": "69240"
  },
  {
    "text": "like this where we had um some goip",
    "start": "69240",
    "end": "73080"
  },
  {
    "text": "content and uh there might have been",
    "start": "73080",
    "end": "75720"
  },
  {
    "text": "some translations to looking something",
    "start": "75720",
    "end": "78000"
  },
  {
    "text": "like this where we have have a mix of",
    "start": "78000",
    "end": "79720"
  },
  {
    "text": "goip content we have uh content that's",
    "start": "79720",
    "end": "82640"
  },
  {
    "text": "going to be relevant and featured based",
    "start": "82640",
    "end": "84479"
  },
  {
    "text": "on what local you're coming from and um",
    "start": "84479",
    "end": "87119"
  },
  {
    "text": "we're really trying to serve up the",
    "start": "87119",
    "end": "89159"
  },
  {
    "text": "event and the information information",
    "start": "89159",
    "end": "90200"
  },
  {
    "text": "that's going to be most relevant to our",
    "start": "90200",
    "end": "92840"
  },
  {
    "text": "users so the agenda for this evening is",
    "start": "92840",
    "end": "96079"
  },
  {
    "text": "something like what actually do we have",
    "start": "96079",
    "end": "97960"
  },
  {
    "text": "to change in the site what were those",
    "start": "97960",
    "end": "99680"
  },
  {
    "text": "decision making points we had we had to",
    "start": "99680",
    "end": "102079"
  },
  {
    "text": "uh decision points we had to uh make and",
    "start": "102079",
    "end": "105560"
  },
  {
    "text": "uh what the actual execution of that",
    "start": "105560",
    "end": "107520"
  },
  {
    "text": "localization looked like finally um the",
    "start": "107520",
    "end": "110320"
  },
  {
    "text": "Lessons Learned or as I like to think",
    "start": "110320",
    "end": "112360"
  },
  {
    "text": "about it the uh time machine dreams so",
    "start": "112360",
    "end": "115399"
  },
  {
    "text": "if we could do it over again what might",
    "start": "115399",
    "end": "117840"
  },
  {
    "text": "we do differently",
    "start": "117840",
    "end": "120360"
  },
  {
    "start": "120000",
    "end": "120000"
  },
  {
    "text": "so as an aside as I talk this this",
    "start": "120360",
    "end": "122960"
  },
  {
    "text": "evening I'm going to use the word local",
    "start": "122960",
    "end": "125119"
  },
  {
    "text": "a lot and I just want to put this out",
    "start": "125119",
    "end": "128200"
  },
  {
    "text": "here because it seems like gets a lot of",
    "start": "128200",
    "end": "129759"
  },
  {
    "text": "confusion when we talk about translation",
    "start": "129759",
    "end": "132400"
  },
  {
    "text": "local is not a language a local is a",
    "start": "132400",
    "end": "134840"
  },
  {
    "text": "language plus Regional information plus",
    "start": "134840",
    "end": "137680"
  },
  {
    "text": "formatting information um how you do",
    "start": "137680",
    "end": "140280"
  },
  {
    "text": "numbers dates all that sort of thing so",
    "start": "140280",
    "end": "143000"
  },
  {
    "text": "it's really important when you're doing",
    "start": "143000",
    "end": "144160"
  },
  {
    "text": "internationalization to keep that in",
    "start": "144160",
    "end": "147519"
  },
  {
    "text": "mind so what do we do we took the site",
    "start": "147519",
    "end": "151360"
  },
  {
    "text": "from having some translation to having",
    "start": "151360",
    "end": "154000"
  },
  {
    "text": "some um facility for multilanguage and",
    "start": "154000",
    "end": "156920"
  },
  {
    "text": "we fully localize The Experience so we",
    "start": "156920",
    "end": "159239"
  },
  {
    "text": "let uh our event organizers see",
    "start": "159239",
    "end": "162080"
  },
  {
    "text": "information in their language we let",
    "start": "162080",
    "end": "164319"
  },
  {
    "text": "them customize what their event pages",
    "start": "164319",
    "end": "165800"
  },
  {
    "start": "165000",
    "end": "165000"
  },
  {
    "text": "are going to look like we um started",
    "start": "165800",
    "end": "168519"
  },
  {
    "text": "showing currencies the right way with",
    "start": "168519",
    "end": "171040"
  },
  {
    "text": "the correct decimal separators um and",
    "start": "171040",
    "end": "174319"
  },
  {
    "text": "and kind of most importantly for our",
    "start": "174319",
    "end": "175879"
  },
  {
    "text": "particular deployment um we",
    "start": "175879",
    "end": "181000"
  },
  {
    "text": "we we were serving this on many tlds so",
    "start": "181000",
    "end": "184000"
  },
  {
    "text": "that means that there's an event wrfr",
    "start": "184000",
    "end": "185879"
  },
  {
    "text": "that serves up our French site there's",
    "start": "185879",
    "end": "187560"
  },
  {
    "text": "event. de uh. co.uk",
    "start": "187560",
    "end": "190879"
  },
  {
    "text": "Etc and I think you'll see that that",
    "start": "190879",
    "end": "193319"
  },
  {
    "text": "that's that decision in particular that",
    "start": "193319",
    "end": "194799"
  },
  {
    "text": "requirement that we had coming from as",
    "start": "194799",
    "end": "196680"
  },
  {
    "text": "part of our product was um responsible",
    "start": "196680",
    "end": "199319"
  },
  {
    "text": "for some of the complications and some",
    "start": "199319",
    "end": "200599"
  },
  {
    "text": "of the some of some of the harder",
    "start": "200599",
    "end": "203120"
  },
  {
    "text": "problems we had to",
    "start": "203120",
    "end": "204239"
  },
  {
    "text": "solve so there's some really interesting",
    "start": "204239",
    "end": "207159"
  },
  {
    "start": "205000",
    "end": "205000"
  },
  {
    "text": "decisions you have to make when you're",
    "start": "207159",
    "end": "208159"
  },
  {
    "text": "looking at localizing a large scale code",
    "start": "208159",
    "end": "210000"
  },
  {
    "text": "base um one of them is what do Anonymous",
    "start": "210000",
    "end": "212760"
  },
  {
    "text": "users see you know it's easy to store a",
    "start": "212760",
    "end": "217360"
  },
  {
    "text": "uh per preference for somebody who's",
    "start": "217360",
    "end": "219319"
  },
  {
    "text": "logged in but what does somebody",
    "start": "219319",
    "end": "221560"
  },
  {
    "text": "Anonymous see on the site how do your if",
    "start": "221560",
    "end": "224760"
  },
  {
    "text": "you're going to do multi TLD how do they",
    "start": "224760",
    "end": "226519"
  },
  {
    "text": "interact with with locals and um that",
    "start": "226519",
    "end": "230120"
  },
  {
    "text": "actually raised another question which",
    "start": "230120",
    "end": "231640"
  },
  {
    "text": "we'll talk about in a second is how do",
    "start": "231640",
    "end": "233159"
  },
  {
    "text": "authentication work how does it work",
    "start": "233159",
    "end": "235200"
  },
  {
    "text": "across all these different top level",
    "start": "235200",
    "end": "237560"
  },
  {
    "text": "domains and finally what is the",
    "start": "237560",
    "end": "240120"
  },
  {
    "text": "canonical URL for",
    "start": "240120",
    "end": "242079"
  },
  {
    "text": "page so locals and tlds these are",
    "start": "242079",
    "end": "244840"
  },
  {
    "text": "decisions we really had to focus on when",
    "start": "244840",
    "end": "246599"
  },
  {
    "text": "we were um starting to internationalize",
    "start": "246599",
    "end": "249120"
  },
  {
    "text": "Eventbrite and provide it in all these",
    "start": "249120",
    "end": "251480"
  },
  {
    "text": "locals um are all the locals going to be",
    "start": "251480",
    "end": "254480"
  },
  {
    "text": "available on all tlds and how do you",
    "start": "254480",
    "end": "257079"
  },
  {
    "text": "figure out what local to show somebody",
    "start": "257079",
    "end": "259479"
  },
  {
    "text": "so there's really two different ways",
    "start": "259479",
    "end": "261359"
  },
  {
    "text": "that people go about this that that we",
    "start": "261359",
    "end": "263320"
  },
  {
    "text": "evaluated one was negotiation where you",
    "start": "263320",
    "end": "267520"
  },
  {
    "text": "look at the browser headers you look at",
    "start": "267520",
    "end": "269880"
  },
  {
    "text": "what languages you support and you",
    "start": "269880",
    "end": "271080"
  },
  {
    "text": "figure out what the best match is going",
    "start": "271080",
    "end": "272520"
  },
  {
    "text": "to be um this is what I done previously",
    "start": "272520",
    "end": "274800"
  },
  {
    "text": "at Creative Commons when we were doing",
    "start": "274800",
    "end": "276160"
  },
  {
    "text": "localization there um the other way you",
    "start": "276160",
    "end": "278440"
  },
  {
    "text": "can do it is sort of know best guess so",
    "start": "278440",
    "end": "281039"
  },
  {
    "text": "you're on the",
    "start": "281039",
    "end": "282960"
  },
  {
    "text": "dld we're going to serve you German or",
    "start": "282960",
    "end": "286199"
  },
  {
    "text": "um sort of you know how how do they how",
    "start": "286199",
    "end": "288360"
  },
  {
    "text": "do these things how do these things get",
    "start": "288360",
    "end": "289479"
  },
  {
    "text": "bound together and what we decided on",
    "start": "289479",
    "end": "291680"
  },
  {
    "text": "was actually sort of a a mesh or",
    "start": "291680",
    "end": "295560"
  },
  {
    "text": "a a hybrid of the two so ifri Maps to",
    "start": "295560",
    "end": "300320"
  },
  {
    "text": "tlds this means that if you switch what",
    "start": "300320",
    "end": "303880"
  },
  {
    "text": "your preferred local is if you say",
    "start": "303880",
    "end": "305600"
  },
  {
    "text": "actually I want French Canadian versus",
    "start": "305600",
    "end": "307800"
  },
  {
    "text": "FR France French um you will wind up on",
    "start": "307800",
    "end": "311720"
  },
  {
    "text": "a different top level domain and that",
    "start": "311720",
    "end": "313240"
  },
  {
    "text": "seems a little funny when you when you",
    "start": "313240",
    "end": "315520"
  },
  {
    "text": "uh say it that way um but it it it just",
    "start": "315520",
    "end": "318919"
  },
  {
    "text": "it simplified several other parts of of",
    "start": "318919",
    "end": "321199"
  },
  {
    "text": "the code base and and that was it was",
    "start": "321199",
    "end": "323680"
  },
  {
    "text": "really purely a um a a strategic",
    "start": "323680",
    "end": "328000"
  },
  {
    "text": "decision at the time",
    "start": "328000",
    "end": "330240"
  },
  {
    "text": "um Anonymous users get the TLD default",
    "start": "330240",
    "end": "333319"
  },
  {
    "start": "331000",
    "end": "331000"
  },
  {
    "text": "so this is if you land on eventbrite.de",
    "start": "333319",
    "end": "336080"
  },
  {
    "text": "you're going to get German if you land",
    "start": "336080",
    "end": "337960"
  },
  {
    "text": "on event b.co you're going to get",
    "start": "337960",
    "end": "340000"
  },
  {
    "text": "British",
    "start": "340000",
    "end": "340840"
  },
  {
    "text": "English um unless you're in Canada then",
    "start": "340840",
    "end": "343720"
  },
  {
    "text": "you have special rules because Canada is",
    "start": "343720",
    "end": "346240"
  },
  {
    "text": "one of the few top level domains we have",
    "start": "346240",
    "end": "348520"
  },
  {
    "text": "where there's more than one official",
    "start": "348520",
    "end": "350160"
  },
  {
    "text": "language in the country so we then this",
    "start": "350160",
    "end": "352479"
  },
  {
    "text": "is the hybrid portion where we say oh",
    "start": "352479",
    "end": "354880"
  },
  {
    "text": "you're in Canada now we'll do",
    "start": "354880",
    "end": "356120"
  },
  {
    "text": "negotiation but we're only going to",
    "start": "356120",
    "end": "357240"
  },
  {
    "text": "negotiate between French and English",
    "start": "357240",
    "end": "361638"
  },
  {
    "start": "362000",
    "end": "362000"
  },
  {
    "text": "authentication I mentioned earlier is an",
    "start": "362319",
    "end": "364000"
  },
  {
    "text": "interesting interesting um problem with",
    "start": "364000",
    "end": "367080"
  },
  {
    "text": "this sort of approach if you can imagine",
    "start": "367080",
    "end": "369240"
  },
  {
    "text": "we're issuing cookies for eventbrite.com",
    "start": "369240",
    "end": "371080"
  },
  {
    "text": "when we started this project those",
    "start": "371080",
    "end": "372800"
  },
  {
    "text": "cookies obviously aren't going to get",
    "start": "372800",
    "end": "374039"
  },
  {
    "text": "served up to um users who are going to",
    "start": "374039",
    "end": "377080"
  },
  {
    "text": "event b.co UK or event B.F and so a and",
    "start": "377080",
    "end": "382400"
  },
  {
    "text": "it's important that when you log into",
    "start": "382400",
    "end": "384039"
  },
  {
    "text": "the site you get redirected to your",
    "start": "384039",
    "end": "385919"
  },
  {
    "text": "preferred top level domain so that you",
    "start": "385919",
    "end": "388039"
  },
  {
    "text": "have sort of get all the featur you come",
    "start": "388039",
    "end": "390000"
  },
  {
    "text": "to expect that are localized there what",
    "start": "390000",
    "end": "393280"
  },
  {
    "text": "we built was a single sign on um shim",
    "start": "393280",
    "end": "396520"
  },
  {
    "text": "that basically instead of doing a just a",
    "start": "396520",
    "end": "397960"
  },
  {
    "text": "straight up redirect this takes takes a",
    "start": "397960",
    "end": "400880"
  },
  {
    "text": "signed URL um makes sure that it's a",
    "start": "400880",
    "end": "404120"
  },
  {
    "text": "legitimate user that's logged",
    "start": "404120",
    "end": "405960"
  },
  {
    "text": "in invalidates their previous cookies",
    "start": "405960",
    "end": "408639"
  },
  {
    "text": "and then redirects them and Issues new",
    "start": "408639",
    "end": "410520"
  },
  {
    "text": "cookies um for the for the new domain um",
    "start": "410520",
    "end": "415400"
  },
  {
    "text": "this is by far the most complicated part",
    "start": "415400",
    "end": "417319"
  },
  {
    "text": "of this process and uh happy to talk",
    "start": "417319",
    "end": "420199"
  },
  {
    "text": "with anybody kind of afterward about it",
    "start": "420199",
    "end": "422080"
  },
  {
    "text": "because it it's very event bright",
    "start": "422080",
    "end": "423599"
  },
  {
    "text": "specific um to how both both How We Do",
    "start": "423599",
    "end": "426479"
  },
  {
    "text": "authentication how we're doing our top",
    "start": "426479",
    "end": "428280"
  },
  {
    "text": "level domains and um and what the",
    "start": "428280",
    "end": "431240"
  },
  {
    "text": "product requirements",
    "start": "431240",
    "end": "434039"
  },
  {
    "text": "were finally the other question we",
    "start": "434280",
    "end": "436440"
  },
  {
    "text": "talked about was you know what is what",
    "start": "436440",
    "end": "437720"
  },
  {
    "text": "is the canonical URL for a piece of",
    "start": "437720",
    "end": "439520"
  },
  {
    "text": "content um at the decision we made was",
    "start": "439520",
    "end": "442400"
  },
  {
    "text": "that that top level do that canonical",
    "start": "442400",
    "end": "444240"
  },
  {
    "text": "URL is going to be controlled by the",
    "start": "444240",
    "end": "446599"
  },
  {
    "text": "event organizer so whatever their",
    "start": "446599",
    "end": "448240"
  },
  {
    "text": "preferred top level domain is",
    "start": "448240",
    "end": "450919"
  },
  {
    "text": "um you you know we get a lot of our",
    "start": "450919",
    "end": "453360"
  },
  {
    "text": "traffic from searches people searching",
    "start": "453360",
    "end": "455160"
  },
  {
    "text": "for you know Beer Festival tickets",
    "start": "455160",
    "end": "456800"
  },
  {
    "text": "searching for dance uh you know dance",
    "start": "456800",
    "end": "459560"
  },
  {
    "text": "events that sort of thing uh so it's",
    "start": "459560",
    "end": "461599"
  },
  {
    "text": "really important for us that we don't",
    "start": "461599",
    "end": "462639"
  },
  {
    "text": "get penalized for uh search for for",
    "start": "462639",
    "end": "466120"
  },
  {
    "text": "having this content on multiple top",
    "start": "466120",
    "end": "467759"
  },
  {
    "text": "level domains you can imagine that if we",
    "start": "467759",
    "end": "469560"
  },
  {
    "text": "served every event page on every top",
    "start": "469560",
    "end": "471639"
  },
  {
    "text": "level domain now we've got 10 copies out",
    "start": "471639",
    "end": "474159"
  },
  {
    "text": "there on and that um SEO is spread",
    "start": "474159",
    "end": "477840"
  },
  {
    "text": "across all those and we're also",
    "start": "477840",
    "end": "479520"
  },
  {
    "text": "penalized for it so um what we do is we",
    "start": "479520",
    "end": "482879"
  },
  {
    "text": "end up redirecting everybody to the",
    "start": "482879",
    "end": "484840"
  },
  {
    "text": "right place um which we'll talk about in",
    "start": "484840",
    "end": "487280"
  },
  {
    "text": "a second",
    "start": "487280",
    "end": "488560"
  },
  {
    "text": "so how do we execute on",
    "start": "488560",
    "end": "492319"
  },
  {
    "start": "492000",
    "end": "492000"
  },
  {
    "text": "this we uh as as Simon mentioned",
    "start": "492319",
    "end": "494960"
  },
  {
    "text": "Eventbrite started in 2007 uh we had a",
    "start": "494960",
    "end": "498720"
  },
  {
    "text": "lot of Legacy code around that we still",
    "start": "498720",
    "end": "500840"
  },
  {
    "text": "operate some of and it and operates our",
    "start": "500840",
    "end": "502840"
  },
  {
    "text": "Django code so a lot of times we won't",
    "start": "502840",
    "end": "505000"
  },
  {
    "text": "use the stock Django pieces directly",
    "start": "505000",
    "end": "508599"
  },
  {
    "text": "we'll use uh a very similar version of a",
    "start": "508599",
    "end": "512080"
  },
  {
    "text": "subass or something that um slightly",
    "start": "512080",
    "end": "515120"
  },
  {
    "text": "customized and this is the case with our",
    "start": "515120",
    "end": "516880"
  },
  {
    "text": "loc with our local middleware where it's",
    "start": "516880",
    "end": "519200"
  },
  {
    "text": "very similar to the stock Django version",
    "start": "519200",
    "end": "521399"
  },
  {
    "text": "but it kind of takes into account all of",
    "start": "521399",
    "end": "523240"
  },
  {
    "text": "our uh quirks and accretions over time",
    "start": "523240",
    "end": "527640"
  },
  {
    "text": "so this middleware uh figures out what",
    "start": "527640",
    "end": "529959"
  },
  {
    "text": "local you should be in based on a few",
    "start": "529959",
    "end": "531360"
  },
  {
    "text": "different factors and scribbles on the",
    "start": "531360",
    "end": "533000"
  },
  {
    "text": "request and this is a good time to point",
    "start": "533000",
    "end": "535839"
  },
  {
    "text": "out that middleware is long lived when",
    "start": "535839",
    "end": "537800"
  },
  {
    "text": "we started um doing doing this project",
    "start": "537800",
    "end": "540760"
  },
  {
    "text": "we had it we were in kind of a testing",
    "start": "540760",
    "end": "543160"
  },
  {
    "text": "mode and what we found was people were",
    "start": "543160",
    "end": "546360"
  },
  {
    "text": "getting the wrong content the wrong",
    "start": "546360",
    "end": "548880"
  },
  {
    "text": "language periodically and this took a we",
    "start": "548880",
    "end": "552120"
  },
  {
    "text": "we really were trying to figure out why",
    "start": "552120",
    "end": "553760"
  },
  {
    "text": "why this happening it only seemed to",
    "start": "553760",
    "end": "554760"
  },
  {
    "text": "happen when it in staging when things",
    "start": "554760",
    "end": "556560"
  },
  {
    "text": "were under load wasn't happening on our",
    "start": "556560",
    "end": "558560"
  },
  {
    "text": "on our Dev machines um and what we found",
    "start": "558560",
    "end": "561120"
  },
  {
    "text": "was that the person who had done the",
    "start": "561120",
    "end": "562200"
  },
  {
    "text": "initial implementation had assumed that",
    "start": "562200",
    "end": "564200"
  },
  {
    "text": "middleware was instantiated on a per",
    "start": "564200",
    "end": "565600"
  },
  {
    "text": "request basis and they had scribbled on",
    "start": "565600",
    "end": "567720"
  },
  {
    "text": "the middleware as AO and assumed that it",
    "start": "567720",
    "end": "569839"
  },
  {
    "text": "was symmetrically called neither of",
    "start": "569839",
    "end": "572360"
  },
  {
    "text": "these things are true middleware is long",
    "start": "572360",
    "end": "574839"
  },
  {
    "text": "lived never scribble on",
    "start": "574839",
    "end": "577680"
  },
  {
    "text": "it so um the last thing this middleware",
    "start": "577680",
    "end": "580760"
  },
  {
    "text": "does is activate the Lo the the local",
    "start": "580760",
    "end": "583880"
  },
  {
    "text": "and I call this out because this is",
    "start": "583880",
    "end": "585680"
  },
  {
    "start": "585000",
    "end": "585000"
  },
  {
    "text": "something we're I'm going to talk about",
    "start": "585680",
    "end": "586720"
  },
  {
    "text": "a little bit uh more as well but this",
    "start": "586720",
    "end": "589760"
  },
  {
    "text": "this last line here this translation.",
    "start": "589760",
    "end": "591160"
  },
  {
    "text": "activate this is what actually loads the",
    "start": "591160",
    "end": "593079"
  },
  {
    "text": "translations up loads up um the what",
    "start": "593079",
    "end": "595959"
  },
  {
    "text": "we're going to serve up to the users for",
    "start": "595959",
    "end": "597760"
  },
  {
    "text": "their content",
    "start": "597760",
    "end": "600079"
  },
  {
    "text": "um and this is this is cached pretty",
    "start": "600079",
    "end": "603480"
  },
  {
    "text": "heavily um I mentioned that users that",
    "start": "603480",
    "end": "607160"
  },
  {
    "start": "604000",
    "end": "604000"
  },
  {
    "text": "we use the user top level domain to",
    "start": "607160",
    "end": "609240"
  },
  {
    "text": "figure out where we're going to serve",
    "start": "609240",
    "end": "610200"
  },
  {
    "text": "the event page from this because this is",
    "start": "610200",
    "end": "612760"
  },
  {
    "text": "under user control we have to make sure",
    "start": "612760",
    "end": "614320"
  },
  {
    "text": "links don't break uh so this was another",
    "start": "614320",
    "end": "616800"
  },
  {
    "text": "thing we had to do as we're executing",
    "start": "616800",
    "end": "617880"
  },
  {
    "text": "this is make sure that when you land on",
    "start": "617880",
    "end": "619279"
  },
  {
    "text": "these Pages if you're on the wrong top",
    "start": "619279",
    "end": "620959"
  },
  {
    "text": "level domain you're going to get",
    "start": "620959",
    "end": "621920"
  },
  {
    "text": "redirected you're not going to get and",
    "start": "621920",
    "end": "624079"
  },
  {
    "text": "you're going to get redirected with a",
    "start": "624079",
    "end": "624880"
  },
  {
    "text": "permanent redirect you're not going to",
    "start": "624880",
    "end": "625959"
  },
  {
    "text": "get a 404",
    "start": "625959",
    "end": "629160"
  },
  {
    "start": "629000",
    "end": "629000"
  },
  {
    "text": "um the those of you who've done",
    "start": "629480",
    "end": "631200"
  },
  {
    "text": "internationalization before undoubtedly",
    "start": "631200",
    "end": "632760"
  },
  {
    "text": "have seen the underscore function this",
    "start": "632760",
    "end": "634120"
  },
  {
    "text": "is sort of the traditional way people um",
    "start": "634120",
    "end": "636639"
  },
  {
    "text": "they import the the G text call call to",
    "start": "636639",
    "end": "640360"
  },
  {
    "text": "Mark content for translation as",
    "start": "640360",
    "end": "642360"
  },
  {
    "text": "underscore um and this is what basically",
    "start": "642360",
    "end": "644320"
  },
  {
    "text": "says I'm going to translate this piece",
    "start": "644320",
    "end": "645600"
  },
  {
    "text": "of content so we not only have python we",
    "start": "645600",
    "end": "648959"
  },
  {
    "text": "also have moo templates that we're using",
    "start": "648959",
    "end": "650760"
  },
  {
    "start": "650000",
    "end": "650000"
  },
  {
    "text": "instead of Django templates um and we",
    "start": "650760",
    "end": "654000"
  },
  {
    "text": "have JavaScript which um Django",
    "start": "654000",
    "end": "656480"
  },
  {
    "start": "655000",
    "end": "655000"
  },
  {
    "text": "thankfully provides this great G text uh",
    "start": "656480",
    "end": "659360"
  },
  {
    "text": "JavaScript uh function we can use and",
    "start": "659360",
    "end": "661880"
  },
  {
    "text": "finally we also have handlebars so these",
    "start": "661880",
    "end": "663600"
  },
  {
    "start": "663000",
    "end": "663000"
  },
  {
    "text": "are templates that we're using in our",
    "start": "663600",
    "end": "664839"
  },
  {
    "text": "more modern",
    "start": "664839",
    "end": "666160"
  },
  {
    "text": "JavaScript and um and what we wanted to",
    "start": "666160",
    "end": "670079"
  },
  {
    "text": "do is make sure this was really",
    "start": "670079",
    "end": "671200"
  },
  {
    "text": "consistent for all of our Engineers",
    "start": "671200",
    "end": "672680"
  },
  {
    "text": "across the board so making sure that",
    "start": "672680",
    "end": "674480"
  },
  {
    "text": "there's a underscore basically in every",
    "start": "674480",
    "end": "676959"
  },
  {
    "text": "context you can call um that's going to",
    "start": "676959",
    "end": "679079"
  },
  {
    "text": "do the right thing and in handlebars for",
    "start": "679079",
    "end": "681000"
  },
  {
    "text": "example we have this we just registered",
    "start": "681000",
    "end": "682560"
  },
  {
    "text": "a helper that then Maps this back to",
    "start": "682560",
    "end": "684200"
  },
  {
    "text": "what Django does",
    "start": "684200",
    "end": "686839"
  },
  {
    "text": "internally um",
    "start": "687399",
    "end": "689800"
  },
  {
    "start": "688000",
    "end": "688000"
  },
  {
    "text": "after you've marked your content for",
    "start": "689800",
    "end": "691480"
  },
  {
    "text": "translation you need to extract it so",
    "start": "691480",
    "end": "693480"
  },
  {
    "text": "you can actually send it to translators",
    "start": "693480",
    "end": "695600"
  },
  {
    "text": "to work on um the Django manage has a",
    "start": "695600",
    "end": "700079"
  },
  {
    "text": "make messages command that will do the",
    "start": "700079",
    "end": "701519"
  },
  {
    "text": "extraction from I think from the stock",
    "start": "701519",
    "end": "703920"
  },
  {
    "text": "Django everything in the stock Jango",
    "start": "703920",
    "end": "705560"
  },
  {
    "text": "does it's actually been a long time",
    "start": "705560",
    "end": "706959"
  },
  {
    "text": "since I used that um in particular so",
    "start": "706959",
    "end": "709200"
  },
  {
    "text": "I'm a little fuzzy on it I do know that",
    "start": "709200",
    "end": "711639"
  },
  {
    "text": "it does not support handlebars and",
    "start": "711639",
    "end": "713079"
  },
  {
    "text": "didn't support um very easily some of",
    "start": "713079",
    "end": "715720"
  },
  {
    "text": "like our makeo templates for example so",
    "start": "715720",
    "end": "718440"
  },
  {
    "text": "what we're actually using",
    "start": "718440",
    "end": "720040"
  },
  {
    "text": "um and I think works pretty well for a",
    "start": "720040",
    "end": "721200"
  },
  {
    "text": "large scale site like ours is pi Babel",
    "start": "721200",
    "end": "724519"
  },
  {
    "start": "722000",
    "end": "722000"
  },
  {
    "text": "um this uh has a few advant this is a",
    "start": "724519",
    "end": "727200"
  },
  {
    "text": "library um you can get at Edge wall.org",
    "start": "727200",
    "end": "730760"
  },
  {
    "text": "it's has a few great characteristics for",
    "start": "730760",
    "end": "733120"
  },
  {
    "text": "us it encompasses all of the",
    "start": "733120",
    "end": "737000"
  },
  {
    "text": "localization information we need so",
    "start": "737000",
    "end": "739079"
  },
  {
    "text": "everything about date formatting number",
    "start": "739079",
    "end": "741040"
  },
  {
    "text": "formatting currencies um it has all that",
    "start": "741040",
    "end": "743720"
  },
  {
    "text": "information in it and this is while",
    "start": "743720",
    "end": "745519"
  },
  {
    "text": "Django has a lot of that on its own we",
    "start": "745519",
    "end": "747720"
  },
  {
    "text": "have non Django code that we're",
    "start": "747720",
    "end": "749360"
  },
  {
    "text": "interfacing with and so this is a little",
    "start": "749360",
    "end": "750920"
  },
  {
    "text": "bit easier for us to sort of plug into",
    "start": "750920",
    "end": "753279"
  },
  {
    "text": "both ends it also supports these",
    "start": "753279",
    "end": "755240"
  },
  {
    "text": "pluggable extractors so we can extract",
    "start": "755240",
    "end": "756839"
  },
  {
    "text": "what our translations are from all these",
    "start": "756839",
    "end": "758920"
  },
  {
    "text": "different kinds of files um in this case",
    "start": "758920",
    "end": "761040"
  },
  {
    "text": "here you can see we've defined a custom",
    "start": "761040",
    "end": "762880"
  },
  {
    "text": "one it ships with a whole bunch we",
    "start": "762880",
    "end": "764680"
  },
  {
    "text": "defined one for handlebars in particular",
    "start": "764680",
    "end": "767000"
  },
  {
    "text": "and then you kind of tell it this is the",
    "start": "767000",
    "end": "768760"
  },
  {
    "text": "configuration you tell it what um",
    "start": "768760",
    "end": "770920"
  },
  {
    "text": "different extractor to use and those and",
    "start": "770920",
    "end": "773760"
  },
  {
    "text": "this is s just the header for that",
    "start": "773760",
    "end": "775680"
  },
  {
    "start": "774000",
    "end": "774000"
  },
  {
    "text": "extractor um and what what you're seeing",
    "start": "775680",
    "end": "778720"
  },
  {
    "text": "here is that that the header and so it",
    "start": "778720",
    "end": "781399"
  },
  {
    "text": "shows all you need to do is Define a",
    "start": "781399",
    "end": "783680"
  },
  {
    "text": "function here that takes some file and",
    "start": "783680",
    "end": "785199"
  },
  {
    "text": "then in our case for handlebars it's",
    "start": "785199",
    "end": "787040"
  },
  {
    "text": "just a regular expression um it's really",
    "start": "787040",
    "end": "788839"
  },
  {
    "text": "not that complicated just has to yield",
    "start": "788839",
    "end": "791120"
  },
  {
    "text": "out yield out and yield out tupal um",
    "start": "791120",
    "end": "793760"
  },
  {
    "text": "with the translation",
    "start": "793760",
    "end": "796320"
  },
  {
    "text": "strings um I mentioned that event Pages",
    "start": "796320",
    "end": "798839"
  },
  {
    "start": "797000",
    "end": "797000"
  },
  {
    "text": "well actually didn't mention this yet",
    "start": "798839",
    "end": "799839"
  },
  {
    "text": "sorry um event in addition to all these",
    "start": "799839",
    "end": "802480"
  },
  {
    "text": "other customizations about locals we had",
    "start": "802480",
    "end": "804760"
  },
  {
    "text": "this Legacy feature where event",
    "start": "804760",
    "end": "806720"
  },
  {
    "text": "organizers can specify what language",
    "start": "806720",
    "end": "808680"
  },
  {
    "text": "they want",
    "start": "808680",
    "end": "809720"
  },
  {
    "text": "the event bright content served in on",
    "start": "809720",
    "end": "811560"
  },
  {
    "text": "their pages so this adds like yet",
    "start": "811560",
    "end": "814519"
  },
  {
    "text": "another level of customization we're",
    "start": "814519",
    "end": "816040"
  },
  {
    "text": "trying we need to support um and this is",
    "start": "816040",
    "end": "818480"
  },
  {
    "text": "actually really problematic because it",
    "start": "818480",
    "end": "820040"
  },
  {
    "text": "means we have to switch locals Midstream",
    "start": "820040",
    "end": "822680"
  },
  {
    "text": "which opens us up to a lot of bugs so",
    "start": "822680",
    "end": "825839"
  },
  {
    "text": "what we did was we um I think this is",
    "start": "825839",
    "end": "827839"
  },
  {
    "start": "826000",
    "end": "826000"
  },
  {
    "text": "pretty useful making it really easy for",
    "start": "827839",
    "end": "829800"
  },
  {
    "text": "engineers to do the right thing with",
    "start": "829800",
    "end": "831920"
  },
  {
    "text": "their localization just a decorator",
    "start": "831920",
    "end": "833600"
  },
  {
    "text": "that's going to preserve the correct",
    "start": "833600",
    "end": "834680"
  },
  {
    "text": "local for you when you leave the",
    "start": "834680",
    "end": "836040"
  },
  {
    "text": "function so that if you're writing a",
    "start": "836040",
    "end": "837880"
  },
  {
    "text": "function that you're writing a method",
    "start": "837880",
    "end": "839399"
  },
  {
    "text": "that's um you know going to send an",
    "start": "839399",
    "end": "840839"
  },
  {
    "text": "email for an event and it needs to be in",
    "start": "840839",
    "end": "842600"
  },
  {
    "text": "a different local you're going to uh um",
    "start": "842600",
    "end": "847279"
  },
  {
    "text": "you're going to use this function so",
    "start": "847279",
    "end": "849120"
  },
  {
    "text": "that what that whatever calls next ends",
    "start": "849120",
    "end": "851199"
  },
  {
    "text": "up in the correct language and they",
    "start": "851199",
    "end": "852199"
  },
  {
    "text": "don't see sort of half the page in one",
    "start": "852199",
    "end": "854480"
  },
  {
    "text": "language and half in another not that",
    "start": "854480",
    "end": "856800"
  },
  {
    "text": "that ever would have happened on our",
    "start": "856800",
    "end": "858720"
  },
  {
    "text": "site um so what are some issues that we",
    "start": "858720",
    "end": "861959"
  },
  {
    "text": "encountered um there are a lot of subtle",
    "start": "861959",
    "end": "864560"
  },
  {
    "text": "bugs with the single sign on approach um",
    "start": "864560",
    "end": "868120"
  },
  {
    "text": "that I think there pretty much all",
    "start": "868120",
    "end": "869920"
  },
  {
    "text": "resolved these",
    "start": "869920",
    "end": "871560"
  },
  {
    "text": "days I think but uh it's like really",
    "start": "871560",
    "end": "875959"
  },
  {
    "text": "hard I mean you think about you know how",
    "start": "875959",
    "end": "877199"
  },
  {
    "text": "do you unit test something uh or write",
    "start": "877199",
    "end": "879680"
  },
  {
    "text": "tests that are going to really be",
    "start": "879680",
    "end": "880880"
  },
  {
    "text": "switching between domains and make sure",
    "start": "880880",
    "end": "882759"
  },
  {
    "text": "that the right cookies are both deleted",
    "start": "882759",
    "end": "884199"
  },
  {
    "text": "and created um it it it's It's Tricky um",
    "start": "884199",
    "end": "889399"
  },
  {
    "text": "the the change in local M stream also",
    "start": "889399",
    "end": "891160"
  },
  {
    "text": "introduces a lot of complexity in the",
    "start": "891160",
    "end": "892600"
  },
  {
    "text": "code and finally something we didn't",
    "start": "892600",
    "end": "894360"
  },
  {
    "text": "talk about a whole lot but when you're",
    "start": "894360",
    "end": "895800"
  },
  {
    "text": "marking those strings for translation",
    "start": "895800",
    "end": "897199"
  },
  {
    "text": "you're trying to Mark full sentences",
    "start": "897199",
    "end": "899839"
  },
  {
    "text": "um word order can be significantly",
    "start": "899839",
    "end": "901440"
  },
  {
    "text": "different in different languages and so",
    "start": "901440",
    "end": "903360"
  },
  {
    "text": "sort of concatenating text together is",
    "start": "903360",
    "end": "907000"
  },
  {
    "text": "is a really poor practice it almost will",
    "start": "907000",
    "end": "908920"
  },
  {
    "text": "certainly break for somebody and and",
    "start": "908920",
    "end": "911279"
  },
  {
    "text": "read at best uh awkwardly at worst",
    "start": "911279",
    "end": "914680"
  },
  {
    "text": "completely gibberish so retrofitting",
    "start": "914680",
    "end": "917560"
  },
  {
    "text": "that sort of best practice though onto",
    "start": "917560",
    "end": "919160"
  },
  {
    "start": "918000",
    "end": "918000"
  },
  {
    "text": "existing code is really hard um and and",
    "start": "919160",
    "end": "922839"
  },
  {
    "text": "what we went up wound up doing was was",
    "start": "922839",
    "end": "924680"
  },
  {
    "text": "doing everything automatically that we",
    "start": "924680",
    "end": "925959"
  },
  {
    "text": "could with an automated tool we wrote",
    "start": "925959",
    "end": "928639"
  },
  {
    "text": "and then",
    "start": "928639",
    "end": "930120"
  },
  {
    "text": "basically just fixing fixing as we",
    "start": "930120",
    "end": "932519"
  },
  {
    "text": "discovered",
    "start": "932519",
    "end": "933880"
  },
  {
    "text": "them the Lessons Learned if I you know",
    "start": "933880",
    "end": "936440"
  },
  {
    "start": "935000",
    "end": "935000"
  },
  {
    "text": "we had a time machine I would ask really",
    "start": "936440",
    "end": "939279"
  },
  {
    "text": "loudly do you really need multiple",
    "start": "939279",
    "end": "942199"
  },
  {
    "text": "tlds I I don't know but if you can get",
    "start": "942199",
    "end": "946079"
  },
  {
    "text": "away without doing it you're going to",
    "start": "946079",
    "end": "947079"
  },
  {
    "text": "say you would save a lot of",
    "start": "947079",
    "end": "948600"
  },
  {
    "text": "complexity um we also learned that",
    "start": "948600",
    "end": "950440"
  },
  {
    "text": "translators don't get the visual context",
    "start": "950440",
    "end": "952319"
  },
  {
    "text": "for things so the um we we support you",
    "start": "952319",
    "end": "955519"
  },
  {
    "text": "know free and paid events and that means",
    "start": "955519",
    "end": "958480"
  },
  {
    "text": "we have on the site for buttons that say",
    "start": "958480",
    "end": "960440"
  },
  {
    "text": "like free or paid well which in English",
    "start": "960440",
    "end": "964399"
  },
  {
    "text": "that's really obvious or for most",
    "start": "964399",
    "end": "966519"
  },
  {
    "text": "readers it's obvious in English looking",
    "start": "966519",
    "end": "968959"
  },
  {
    "text": "at the visual context for that",
    "start": "968959",
    "end": "971639"
  },
  {
    "text": "um in other languages where there are",
    "start": "971639",
    "end": "974160"
  },
  {
    "text": "many words for free for Libre versus you",
    "start": "974160",
    "end": "977399"
  },
  {
    "text": "know free as in Freedom versus free as",
    "start": "977399",
    "end": "979160"
  },
  {
    "text": "in cost um the translators don't get",
    "start": "979160",
    "end": "982480"
  },
  {
    "text": "that and so that that's led to a lot of",
    "start": "982480",
    "end": "984199"
  },
  {
    "text": "problems and finally um start earlier we",
    "start": "984199",
    "end": "988360"
  },
  {
    "text": "know we we we started this process after",
    "start": "988360",
    "end": "990199"
  },
  {
    "text": "the site had been running for uh like",
    "start": "990199",
    "end": "993199"
  },
  {
    "text": "four years four and a half years and had",
    "start": "993199",
    "end": "995000"
  },
  {
    "text": "grown quite a bit and so that was um",
    "start": "995000",
    "end": "997600"
  },
  {
    "text": "really challenging and added a whole lot",
    "start": "997600",
    "end": "999279"
  },
  {
    "text": "of",
    "start": "999279",
    "end": "1000160"
  },
  {
    "text": "complexity thank you very much",
    "start": "1000160",
    "end": "1004680"
  }
]