[
  {
    "text": "[Music]",
    "start": "3320",
    "end": "8769"
  },
  {
    "text": "nice okay uh so yep hi everybody uh my name is Matthew I'm going to talk about",
    "start": "10200",
    "end": "15759"
  },
  {
    "text": "how people search works at LinkedIn uh just as a show of hands has who here has",
    "start": "15759",
    "end": "21680"
  },
  {
    "text": "tried to look up somebody else on LinkedIn it before Oh great okay you've you you've heard of the product this is",
    "start": "21680",
    "end": "28039"
  },
  {
    "text": "this is good uh so a um so so a bit of an outline of what we're going to go",
    "start": "28039",
    "end": "33280"
  },
  {
    "text": "through uh quick Intro by myself I'll talk a little bit about search on a high",
    "start": "33280",
    "end": "38399"
  },
  {
    "text": "level after that we'll spend a lot of time going through um the details on how",
    "start": "38399",
    "end": "43520"
  },
  {
    "text": "ranking works if you do not have an ml background do not worry I have a quick",
    "start": "43520",
    "end": "48920"
  },
  {
    "text": "crash course on the essentials that you'll need to know and then after that with any time left over uh we'll explore",
    "start": "48920",
    "end": "55480"
  },
  {
    "text": "the infrastructure that supports people search ranking okay quick intro on who I am my",
    "start": "55480",
    "end": "61840"
  },
  {
    "text": "name is Matthew spelled m a t h ew it's just one t uh I work on the ranking",
    "start": "61840",
    "end": "66920"
  },
  {
    "text": "algorithms for um for people search at LinkedIn I've been doing this for a little over two years uh before that I",
    "start": "66920",
    "end": "74479"
  },
  {
    "text": "was working at a very small startup working on a type of natural language search something in the kind of AI",
    "start": "74479",
    "end": "80640"
  },
  {
    "text": "assistant space before all these uh llms came out uh I am from a relatively",
    "start": "80640",
    "end": "86640"
  },
  {
    "text": "little known country up north it's kind of cold you might have heard of it it's called Canada all right so what is",
    "start": "86640",
    "end": "95200"
  },
  {
    "text": "search let's start with linkedin's mission linkedin's mission is to connect",
    "start": "95200",
    "end": "100560"
  },
  {
    "text": "the world's professionals to make them more productive and successful if I can convince you that LinkedIn search helps",
    "start": "100560",
    "end": "107520"
  },
  {
    "text": "make this Mission happen then my mission will have been successful um the um LinkedIn at its",
    "start": "107520",
    "end": "114960"
  },
  {
    "text": "core is a social network it is a community and the backbone of a",
    "start": "114960",
    "end": "120240"
  },
  {
    "text": "community is where members interact with each other specifically on LinkedIn this can happen in a number of different ways",
    "start": "120240",
    "end": "127320"
  },
  {
    "text": "the ways that this uh that this is relevant to search is that search uh drives a number of important actions on",
    "start": "127320",
    "end": "133720"
  },
  {
    "text": "LinkedIn so things like follows we drive um you know people following each other",
    "start": "133720",
    "end": "139560"
  },
  {
    "text": "uh connections people uh connect uh sending connect requests you know things like joining groups and things like",
    "start": "139560",
    "end": "145400"
  },
  {
    "text": "sending messages to each other so um based off of this search helps uh search",
    "start": "145400",
    "end": "150560"
  },
  {
    "text": "enables members to interact with each other which is key for a social",
    "start": "150560",
    "end": "155640"
  },
  {
    "text": "network search also uh serves many verticals so here is sort of a quick Anatomy on how search uh on on sort of",
    "start": "155640",
    "end": "163440"
  },
  {
    "text": "the pieces of search so it starts with you the person doing the search we call you the",
    "start": "163440",
    "end": "168879"
  },
  {
    "text": "Searcher uh you might type in a query um which is a textual expression of what it",
    "start": "168879",
    "end": "174519"
  },
  {
    "text": "is that you want and then we have different things called verticals so we don't just surface people in the search",
    "start": "174519",
    "end": "181120"
  },
  {
    "text": "results you might have seen that we show you posts sometimes we might show you groups we might show you other things uh",
    "start": "181120",
    "end": "187720"
  },
  {
    "text": "each of these verticals is a type of result that we can show to you and um and when you drill down to a specific",
    "start": "187720",
    "end": "194360"
  },
  {
    "text": "vertical the thing that shows up is the document we're going to be using the terms a lot uh later on so hopefully",
    "start": "194360",
    "end": "200360"
  },
  {
    "text": "you're comfortable with that when it comes to other parts of search on a high level um this is an",
    "start": "200360",
    "end": "207159"
  },
  {
    "text": "example of what happens when you type in LinkedIn into the search bar and you just hit enter it'll show you this thing",
    "start": "207159",
    "end": "212959"
  },
  {
    "text": "called Blended search um internally we call this bsur for Blended search results page it shows you a number of",
    "start": "212959",
    "end": "219720"
  },
  {
    "text": "different things we have the this thing called the knowledge card up here which tries to um give you a quick snapshot of",
    "start": "219720",
    "end": "226319"
  },
  {
    "text": "maybe the entity that your query is referring to underneath that uh we got",
    "start": "226319",
    "end": "232159"
  },
  {
    "text": "people results over here this is a cluster full of uh people profiles that might be affiliated with LinkedIn which",
    "start": "232159",
    "end": "238760"
  },
  {
    "text": "you typed in uh beneath that we have some uh some posts that might be related to LinkedIn we also put other um other",
    "start": "238760",
    "end": "247239"
  },
  {
    "text": "recommendation services so this is from another team where we kind of recommend you uh companies that you could follow",
    "start": "247239",
    "end": "254120"
  },
  {
    "text": "and sometimes we have custom clusters you can see over here the this is these are links to profiles but uh",
    "start": "254120",
    "end": "259720"
  },
  {
    "text": "specifically they're trying to show you people who might talk about a certain hashtag so we we like to experiment with",
    "start": "259720",
    "end": "265759"
  },
  {
    "text": "a little bit of clusters here and there in case you've ever seen them this is the anatomy of searching",
    "start": "265759",
    "end": "272440"
  },
  {
    "text": "for people specifically and we're going to spend the rest of our time uh talking about searching for people since it's such a um since such a big use case when",
    "start": "272440",
    "end": "279639"
  },
  {
    "text": "it comes to LinkedIn uh similar to before you have um it starts with you the Searcher the",
    "start": "279639",
    "end": "286479"
  },
  {
    "text": "person doing the search you type in a query and then you see documents uh populating your search results in this",
    "start": "286479",
    "end": "293440"
  },
  {
    "text": "case here documents and profiles are pretty synonymous here because all of the results represent a person who could",
    "start": "293440",
    "end": "300520"
  },
  {
    "text": "appear in your search results um another important distinction",
    "start": "300520",
    "end": "306639"
  },
  {
    "text": "when it comes to people search is um trying to classify the type of search or trying to bucket the type of search uh",
    "start": "306639",
    "end": "312880"
  },
  {
    "text": "so that we can better serve you a very convenient way of doing this is asking the question are you looking for a",
    "start": "312880",
    "end": "319800"
  },
  {
    "text": "specific person and there are only two answers to that you're either looking for a specific person or you're",
    "start": "319800",
    "end": "326160"
  },
  {
    "text": "not um in the uh in the former case where you are looking for a specific person this is called a navigational",
    "start": "326160",
    "end": "333360"
  },
  {
    "text": "query this is uh you know colloquially you might call this LinkedIn stalking for example if you were to look me up",
    "start": "333360",
    "end": "339560"
  },
  {
    "text": "after this you might type in the query uh Matthew LinkedIn that's a navigational query and we understand",
    "start": "339560",
    "end": "345560"
  },
  {
    "text": "that as you wanting to navigate to a specific person on the other hand if",
    "start": "345560",
    "end": "350800"
  },
  {
    "text": "you're not looking for anybody specific you might just say ah you know like I just want to find people associated with",
    "start": "350800",
    "end": "356000"
  },
  {
    "text": "LinkedIn I don't care who the person is just show me someone who's good that is something that we call an exploratory",
    "start": "356000",
    "end": "364319"
  },
  {
    "text": "query so um let's talk about how the ranking uh",
    "start": "364319",
    "end": "371639"
  },
  {
    "text": "works so uh for those of you that are not familiar with recommendation systems",
    "start": "378319",
    "end": "383599"
  },
  {
    "text": "uh recommendation systems really uh are are simple uh first you get the documents that you think are to what the",
    "start": "383599",
    "end": "390360"
  },
  {
    "text": "user is looking for and then after that you put the good ones at the top by scoring them uh I'm making a big",
    "start": "390360",
    "end": "396120"
  },
  {
    "text": "oversimplification here uh if you work uh if you work deeply in the recommendation system space uh you can",
    "start": "396120",
    "end": "401960"
  },
  {
    "text": "come uh you can come for me uh after lunch um so uh the goal of uh retrieving",
    "start": "401960",
    "end": "407479"
  },
  {
    "text": "the documents is to uh we sometimes call this candidate generation the goal here is to identify every document that could",
    "start": "407479",
    "end": "414479"
  },
  {
    "text": "be relevant um on the other hand uh when it comes to the scoring and ranking part we want to make sure that the most uh",
    "start": "414479",
    "end": "421960"
  },
  {
    "text": "that that the best documents are scored such that they are put at the top uh in some ways you can think of",
    "start": "421960",
    "end": "428720"
  },
  {
    "text": "retrieval as a high recall step um where the cost of omitting a relevant document",
    "start": "428720",
    "end": "435199"
  },
  {
    "text": "is high but if you let in a couple of documents that aren't too relevant that's okay because hopefully you could",
    "start": "435199",
    "end": "440720"
  },
  {
    "text": "down rank them later on the other hand the scoring and um the the scoring phase",
    "start": "440720",
    "end": "445800"
  },
  {
    "text": "and and the actual ranking can kind of be thought as a Precision step um you want to make sure that the stuff that",
    "start": "445800",
    "end": "451080"
  },
  {
    "text": "ends up at the top is truly the things that should be there's also another uh notion here where retrieval uses scores",
    "start": "451080",
    "end": "458280"
  },
  {
    "text": "but these scores are statically generated they're created offline I'll talk a little bit more about this later",
    "start": "458280",
    "end": "463840"
  },
  {
    "text": "and um when it comes to the actual scoring and ranking part those scores are generated on the fly so you can",
    "start": "463840",
    "end": "469560"
  },
  {
    "text": "think of those as dynamically generated um a quick",
    "start": "469560",
    "end": "476080"
  },
  {
    "text": "architecture so so a quick architecture on how search uh the search ranking Works end to end the first thing we do",
    "start": "478080",
    "end": "484080"
  },
  {
    "text": "is we generate candidates um this is the retrieval step that I talked about we go to our search index do a little magic",
    "start": "484080",
    "end": "491159"
  },
  {
    "text": "which I'll explain in a bit we get back some documents um I've sort of bolded document C over here to foreshadow that",
    "start": "491159",
    "end": "497919"
  },
  {
    "text": "this is going to be the top rank result um the idea is we get these documents from the search index we do a little bit",
    "start": "497919",
    "end": "505039"
  },
  {
    "text": "of a pre-filtering step uh we truncate based off of static rank um static rank is that static score I",
    "start": "505039",
    "end": "511879"
  },
  {
    "text": "was talking about the reason why we do this pre-filtering step is because later on um the models that we use to rank are",
    "start": "511879",
    "end": "518800"
  },
  {
    "text": "going to be deep learning models and uh deep learning models are expensive to run uh one way to cut costs is to Simply",
    "start": "518800",
    "end": "525080"
  },
  {
    "text": "score fewer documents uh we passed this to our first phase ranker L1 ranking and we produce",
    "start": "525080",
    "end": "532680"
  },
  {
    "text": "uh L1 scores over here we do a similar filtering step again because the model",
    "start": "532680",
    "end": "538320"
  },
  {
    "text": "that we're about to use down Downstream is more expensive and we can cut costs by just not running the model as much we",
    "start": "538320",
    "end": "545040"
  },
  {
    "text": "um take the top K and we pass these documents over to L2 uh L2 uh our second",
    "start": "545040",
    "end": "552000"
  },
  {
    "text": "phase ranking uh is again a more expensive model that focuses on personalization so we do L2 scoring get",
    "start": "552000",
    "end": "558360"
  },
  {
    "text": "our scores rerank them and then send them to you who's doing the search",
    "start": "558360",
    "end": "564519"
  },
  {
    "text": "um so uh that was an overview now we can talk about the first phase uh or the",
    "start": "564519",
    "end": "571839"
  },
  {
    "text": "first phase of how our recommendation Works which is the retrieval um so at a glance you might",
    "start": "571839",
    "end": "578800"
  },
  {
    "text": "type in you might type in some query that looks like this maybe Matthew engineer",
    "start": "578800",
    "end": "584959"
  },
  {
    "text": "LinkedIn uh at this point the query is just a string of characters there's there's no meaning attached to it the",
    "start": "584959",
    "end": "591040"
  },
  {
    "text": "computer doesn't know anything about what Matthew or engineer LinkedIn means so we need to put some meaning to these",
    "start": "591040",
    "end": "596279"
  },
  {
    "text": "terms we do this by um by producing producing a tagged query um this is",
    "start": "596279",
    "end": "601360"
  },
  {
    "text": "called query tagging you can see here that Matthew is a first name and uh engineer is a title and so on after",
    "start": "601360",
    "end": "608959"
  },
  {
    "text": "after we've assigned meaning to this query we uh we turn it we turn it into",
    "start": "608959",
    "end": "614000"
  },
  {
    "text": "something called a Rewritten query which is a set of instructions that we tell our search index um uh it's a set of",
    "start": "614000",
    "end": "622200"
  },
  {
    "text": "instructions that tells our search index Which documents we would like to return the the conditions uh that the return",
    "start": "622200",
    "end": "627480"
  },
  {
    "text": "documents should uh should so let's focus on this part",
    "start": "627480",
    "end": "634160"
  },
  {
    "text": "first so um when it comes to query tagging we need to take a quick detour",
    "start": "639160",
    "end": "644680"
  },
  {
    "text": "down to uh our some some classical NLP techniques there's something that's called named entity recognition uh a",
    "start": "644680",
    "end": "651920"
  },
  {
    "text": "named entity is um a piece of text that generally refers to some kind of person",
    "start": "651920",
    "end": "657560"
  },
  {
    "text": "or place or thing um and uh named entity recognition is a uh is an NLP task that",
    "start": "657560",
    "end": "664800"
  },
  {
    "text": "tries to identify these named entities in a sentence so as a concrete example maybe I've written down uh this sentence",
    "start": "664800",
    "end": "671120"
  },
  {
    "text": "here Gran roslansky is the CEO of LinkedIn which is headquartered in Sunnyvale California an example of a",
    "start": "671120",
    "end": "678040"
  },
  {
    "text": "named entity recognizer output might look something like this where Ryan roslansky as a person uh CEO as a title",
    "start": "678040",
    "end": "685399"
  },
  {
    "text": "LinkedIn as a company uh and and so on so when we apply this NLP task to our uh",
    "start": "685399",
    "end": "692279"
  },
  {
    "text": "to search this is what we call query tagging the goal of query tagging is we",
    "start": "692279",
    "end": "698079"
  },
  {
    "text": "want to um we we're given the query and we want to identify terms or spans of",
    "start": "698079",
    "end": "703839"
  },
  {
    "text": "terms into one of the following categories we want to identify our first name our last name company name school",
    "start": "703839",
    "end": "710519"
  },
  {
    "text": "name uh and and so on the other thing that occurs under the",
    "start": "710519",
    "end": "716880"
  },
  {
    "text": "hood is at any time that's possible we want to associate um uh tagged parts of",
    "start": "716880",
    "end": "722959"
  },
  {
    "text": "the query to some sort of ID in our knowledge graph this um if you're wondering why this is important imagine",
    "start": "722959",
    "end": "730240"
  },
  {
    "text": "what happens if you have two people who make two different queries one person makes a query that contains the term",
    "start": "730240",
    "end": "735600"
  },
  {
    "text": "Facebook but the other person makes a query that contains the term meta you and I both know that these refer to the",
    "start": "735600",
    "end": "742199"
  },
  {
    "text": "same company so it would be nice for us to um it would be nice for our search system to be aware of that um the way to",
    "start": "742199",
    "end": "749440"
  },
  {
    "text": "do that uh at LinkedIn is we tag both of these as a company name and then we associate them both with this uh Company",
    "start": "749440",
    "end": "756880"
  },
  {
    "text": "ID in our knowledge graph so this over this helps us overcome um this helps us",
    "start": "756880",
    "end": "762480"
  },
  {
    "text": "overcome two different strings that refer to the same object",
    "start": "762480",
    "end": "767680"
  },
  {
    "text": "underneath um there's quite a lot going in on the on on the slide so I'll try to unpack this a little bit but query",
    "start": "767680",
    "end": "774040"
  },
  {
    "text": "tagging is important because it helps us with retrieval um imagine I had a query",
    "start": "774040",
    "end": "779279"
  },
  {
    "text": "over here that said Apple software engineer Michael Dell and I tagged it by",
    "start": "779279",
    "end": "784440"
  },
  {
    "text": "saying apple is a company name software engineer is a title and uh and so on what we'll find later on when I explain",
    "start": "784440",
    "end": "790880"
  },
  {
    "text": "to you how the index works is um we we store we store documents uh divided by",
    "start": "790880",
    "end": "797680"
  },
  {
    "text": "um the fields that divided by the values that can uh occur in different profile Fields so query tagging helps us be more",
    "start": "797680",
    "end": "805519"
  },
  {
    "text": "precise with what we uh with the documents we extract without sacrificing recall at all um imagine consider the",
    "start": "805519",
    "end": "811959"
  },
  {
    "text": "term the the company name Apple over here I can go into my company name index field and I can say oh here are the",
    "start": "811959",
    "end": "818440"
  },
  {
    "text": "people whose company name is company names are Apple um this helps us be more precise because then maybe there's",
    "start": "818440",
    "end": "824839"
  },
  {
    "text": "another part of my query that where maybe the last person's the person's last name is is Apple um being precise",
    "start": "824839",
    "end": "831199"
  },
  {
    "text": "with my query tagging lets me uh avoid irrelevant uh documents um without much",
    "start": "831199",
    "end": "836360"
  },
  {
    "text": "cost the other part here that makes query tagging important is that it helps us with ranking too imagine um consider",
    "start": "836360",
    "end": "844440"
  },
  {
    "text": "consider person three over here um you can look in sort of the this example up here that person 3 meets all the",
    "start": "844440",
    "end": "851120"
  },
  {
    "text": "conditions for our uh tagged query um their title is software engineer their",
    "start": "851120",
    "end": "856240"
  },
  {
    "text": "company name is Apple their last name is Dell and their first name is Michael uh",
    "start": "856240",
    "end": "861519"
  },
  {
    "text": "if we tell this to the model and say that the query matched the document on these different fields it um it's it's",
    "start": "861519",
    "end": "868279"
  },
  {
    "text": "generally a pretty useful ranking uh signal as to how relevant a document is so query tagging helps with",
    "start": "868279",
    "end": "875399"
  },
  {
    "text": "ranking okay now that we have assigned some meaning to our query we want to",
    "start": "875399",
    "end": "881279"
  },
  {
    "text": "turn this into a set of instructions for our search Index this is called query rewriting and it produces a very",
    "start": "881279",
    "end": "888279"
  },
  {
    "text": "imaginative name called the Rewritten",
    "start": "888279",
    "end": "891959"
  },
  {
    "text": "query so um has anybody who who here is",
    "start": "893839",
    "end": "899480"
  },
  {
    "text": "familiar with the idea of a search index okay cool for any of you who uh",
    "start": "899480",
    "end": "905279"
  },
  {
    "text": "who didn't uh put up your hand that's okay imagine you go to the back of a textbook and you look up terms uh in",
    "start": "905279",
    "end": "912160"
  },
  {
    "text": "What's called the index what you'll see is a term and then a list of pages that contain that term this is pretty similar",
    "start": "912160",
    "end": "918839"
  },
  {
    "text": "to how a search index Works um here you have some kind of term and then you have",
    "start": "918839",
    "end": "924079"
  },
  {
    "text": "a list of documents that contain that term now the great part about people search here is that everybody's profiles",
    "start": "924079",
    "end": "930199"
  },
  {
    "text": "are structured in the same way my profile contains the same structure as uh as as your profile we um we have to",
    "start": "930199",
    "end": "937120"
  },
  {
    "text": "fill in you know first names last names company names and all that kind of stuff um which means that we can take this",
    "start": "937120",
    "end": "942279"
  },
  {
    "text": "indexing one step further and we can associate not just a term but the field name of the profile that contain that",
    "start": "942279",
    "end": "948079"
  },
  {
    "text": "term to the list of documents uh enough with the abstract here's something slightly less abstract um for example um",
    "start": "948079",
    "end": "955560"
  },
  {
    "text": "I might have an inverted index that says okay for all the um give me all the documents",
    "start": "955560",
    "end": "961920"
  },
  {
    "text": "whose first name is Matthew then you got documents one two four five and so on and similarly um we can look at um",
    "start": "961920",
    "end": "968360"
  },
  {
    "text": "documents for whom current title is engineer and then you get the uh then then you get the documents there so we",
    "start": "968360",
    "end": "974279"
  },
  {
    "text": "want to split our inverted index by profile Fields um the Rewritten query uh will",
    "start": "974279",
    "end": "981160"
  },
  {
    "text": "the Rewritten query will um we'll we'll be kind of looking at this as a way to get the documents so when constru this",
    "start": "981160",
    "end": "988759"
  },
  {
    "text": "Rewritten query a few things about it it's a very large Boolean string that um",
    "start": "988759",
    "end": "994920"
  },
  {
    "text": "that specifies the uh conditions that return documents need to follow um just like any other Boolean operator uh",
    "start": "994920",
    "end": "1001920"
  },
  {
    "text": "Boolean strings you have your kind of required Clauses optional Clauses negation Clauses another thing we do is",
    "start": "1001920",
    "end": "1008000"
  },
  {
    "text": "we also map the query tags that we were talking about before to the actual inverted index Fields so here are some",
    "start": "1008000",
    "end": "1014839"
  },
  {
    "text": "examples of our inverted index Fields you might recognize these as things that you might have had to fill out in your profile we got first names last names um",
    "start": "1014839",
    "end": "1023000"
  },
  {
    "text": "connections are not things that you explicitly fill out but they are part of your profile uh and we consider that",
    "start": "1023000",
    "end": "1028038"
  },
  {
    "text": "important we have your current company past company um your profile headline and some other things we also have these",
    "start": "1028039",
    "end": "1035240"
  },
  {
    "text": "uh mysterious looking T Fields over here which represent groups of profile fields that we may want to match on this uh",
    "start": "1035240",
    "end": "1042360"
  },
  {
    "text": "this is um this is something we use when we uh when we care about um yeah match",
    "start": "1042360",
    "end": "1048558"
  },
  {
    "text": "on a group of profile Fields mainly for uh um to help with rewriting um we have",
    "start": "1048559",
    "end": "1054000"
  },
  {
    "text": "a few tricks to optimize recall at the bottom over here so let's go through them this is an example uh a somewhat",
    "start": "1054000",
    "end": "1061440"
  },
  {
    "text": "condensed one of a Rewritten query you can see that there's some stuff on the left over here that's you know related",
    "start": "1061440",
    "end": "1066880"
  },
  {
    "text": "to first name Christopher so you know what's that um we have some stuff related to uh being an engineer what",
    "start": "1066880",
    "end": "1074400"
  },
  {
    "text": "what what's this all about so let's start with this imagine uh imagine you met somebody at this conference uh their",
    "start": "1074400",
    "end": "1081280"
  },
  {
    "text": "name is Chris but they didn't take the time to spell it out for you because that's usually not what people do um you",
    "start": "1081280",
    "end": "1087360"
  },
  {
    "text": "might go into LinkedIn afterwards and you might type in Chris in theory because LinkedIn is a",
    "start": "1087360",
    "end": "1093520"
  },
  {
    "text": "professional platform uh people might represent themselves with the uh expanded version of their first name",
    "start": "1093520",
    "end": "1098679"
  },
  {
    "text": "perhaps they didn't write Chris on their profile they might have written Christopher it would be unfortunate for",
    "start": "1098679",
    "end": "1104480"
  },
  {
    "text": "you to type in Chris into LinkedIn search and not get back uh the Christopher that you had met we overcome",
    "start": "1104480",
    "end": "1111039"
  },
  {
    "text": "this lexical Gap with something called query expansion you can think of this as sort of a nickname mapping where we have",
    "start": "1111039",
    "end": "1117480"
  },
  {
    "text": "um Chris and then underneath if whenever we see Chris we add Christopher to the Rewritten query you might get Matt to",
    "start": "1117480",
    "end": "1123159"
  },
  {
    "text": "Matthew um and things like that so that's one uh example of um of how we do",
    "start": "1123159",
    "end": "1128559"
  },
  {
    "text": "query expansion for names the other thing is uh and again you know um if you",
    "start": "1128559",
    "end": "1134080"
  },
  {
    "text": "don't uh if you don't introduce yourself by asking people to spell their names um they might have spelled their name",
    "start": "1134080",
    "end": "1139280"
  },
  {
    "text": "differently from the uh from the first spelling that comes to your mind perhaps you met this Chris uh who spelled their",
    "start": "1139280",
    "end": "1144799"
  },
  {
    "text": "name is k r i s again it would be unfortunate for you uh for us to miss that profile simply because you chose a",
    "start": "1144799",
    "end": "1151240"
  },
  {
    "text": "different spelling so we do something that's called name clusters where we take um you know a bunch of different",
    "start": "1151240",
    "end": "1156520"
  },
  {
    "text": "names that occur in LinkedIn and we uh and we cluster them we group different names together based off of lexical",
    "start": "1156520",
    "end": "1162720"
  },
  {
    "text": "similarity uh you can see K RIS CH RIS they all belong to the same cluster and we assign a cluster ID which helps us",
    "start": "1162720",
    "end": "1169880"
  },
  {
    "text": "with rewriting the other thing that we do",
    "start": "1169880",
    "end": "1176400"
  },
  {
    "text": "over here is ID based retrieval so uh this helps again to overcome lexical gaps perhaps um one person typed in",
    "start": "1176400",
    "end": "1184039"
  },
  {
    "text": "engineer um uh in this spelling somebody else typed engineer with a in a different language we would like to",
    "start": "1184039",
    "end": "1190600"
  },
  {
    "text": "associate both of those with the same ID so that we can um retrieve uh yeah so so",
    "start": "1190600",
    "end": "1195960"
  },
  {
    "text": "that we can retrieve better um this also helps if you have uh two different ways of expressing similar jobs so",
    "start": "1195960",
    "end": "1202840"
  },
  {
    "text": "historically LinkedIn used to call their ml Engineers data mining engineers and um again yeah it would be nice to",
    "start": "1202840",
    "end": "1209120"
  },
  {
    "text": "associate both of these with the same ID so that um we're not as sensitive to exact",
    "start": "1209120",
    "end": "1215799"
  },
  {
    "text": "spellings all right now that we're done with uh the query rewriting part let's",
    "start": "1215799",
    "end": "1221600"
  },
  {
    "text": "go into the uh the actual retrieval step we have all the pieces that we need I",
    "start": "1221600",
    "end": "1227039"
  },
  {
    "text": "told you about this already here is the Rewritten query as sort of a spoiler alert documents two and four",
    "start": "1227039",
    "end": "1232840"
  },
  {
    "text": "come back as a result of this retrieval that's because they meet uh conditions like these um conditions like the",
    "start": "1232840",
    "end": "1239039"
  },
  {
    "text": "current title being engineer um headline containing engineer as well as current positions uh containing LinkedIn so when",
    "start": "1239039",
    "end": "1247440"
  },
  {
    "text": "you have documents that meet all of those conditions then you have um your set of return or retrieve documents over",
    "start": "1247440",
    "end": "1254520"
  },
  {
    "text": "here in this example it's kind of contrived because I only gave you two documents but what happens if we have",
    "start": "1254520",
    "end": "1260720"
  },
  {
    "text": "too many documents this is uh this alludes to what I was saying earlier",
    "start": "1260720",
    "end": "1266000"
  },
  {
    "text": "about our static scores during retrieval the idea here is we don't want",
    "start": "1266000",
    "end": "1271240"
  },
  {
    "text": "to retrieve too many documents because these documents get passed to our deep",
    "start": "1271240",
    "end": "1276279"
  },
  {
    "text": "learning rankers and it would be nice to save costs Because deep learning models are expensive to run um we can save",
    "start": "1276279",
    "end": "1283320"
  },
  {
    "text": "costs by simply running the model fewer times and we can do this uh and this helps retrieval by um by by filtering",
    "start": "1283320",
    "end": "1291120"
  },
  {
    "text": "based off of a static rank cut off so static rank is a model that tries to predict the popularity of a profile um",
    "start": "1291120",
    "end": "1299159"
  },
  {
    "text": "under the hood it's related to trying to predict the number of views that it'll get in some future time period um and by",
    "start": "1299159",
    "end": "1305919"
  },
  {
    "text": "doing that we um it uh this determines the retrieval order um for uh for the",
    "start": "1305919",
    "end": "1313520"
  },
  {
    "text": "documents okay so putting it all together we have our query we tag it and so an assign meaning then from there we",
    "start": "1313520",
    "end": "1319960"
  },
  {
    "text": "assemble a set of instructions for our search index to give back to us and then we retrieve the documents",
    "start": "1319960",
    "end": "1326200"
  },
  {
    "text": "congratulations you made it through the first half we are 27 minutes to",
    "start": "1326200",
    "end": "1331520"
  },
  {
    "text": "launch all right um next I'm going to go over the basics of ranking models uh if",
    "start": "1331520",
    "end": "1336799"
  },
  {
    "text": "you are an expert in ml um you can um you know you you you don't have to pay",
    "start": "1336799",
    "end": "1342520"
  },
  {
    "text": "attention to this uh I might oversimplify some things but again you can come for me uh once lunch starts um",
    "start": "1342520",
    "end": "1348039"
  },
  {
    "text": "for anybody else who has not had much exposure or need a refresher uh we can dive it so what is a machine learning",
    "start": "1348039",
    "end": "1355400"
  },
  {
    "text": "model specifically for supervised machine learning uh supervised machine learning tries to predict an outcome",
    "start": "1355400",
    "end": "1362159"
  },
  {
    "text": "based off of some object that you give it in uh sort of a simple relevant",
    "start": "1362159",
    "end": "1367480"
  },
  {
    "text": "example that um that might work for our domain is let's say you're given a profile you want to predict whether or",
    "start": "1367480",
    "end": "1373600"
  },
  {
    "text": "not it's going to get a click the way that this prediction happens is is that the model computes",
    "start": "1373600",
    "end": "1379159"
  },
  {
    "text": "some kind of probability and the computation of this probability is governed by something called weights um",
    "start": "1379159",
    "end": "1384960"
  },
  {
    "text": "which we learned which is where machine learning comes from um when it comes to ranking models this this is quite",
    "start": "1384960",
    "end": "1392480"
  },
  {
    "text": "similar um the main the the the distinction here is that we care is that",
    "start": "1392480",
    "end": "1398480"
  },
  {
    "text": "the end result that we care about is the order in which things are ranked so in a sense these scores are sort of a the",
    "start": "1398480",
    "end": "1403840"
  },
  {
    "text": "scores that we output the probabilities that we output are are something of a means to it and uh this is something that is a",
    "start": "1403840",
    "end": "1410440"
  },
  {
    "text": "little bit important once we start talking about uh learning to rank so over here if I have a search result the",
    "start": "1410440",
    "end": "1417159"
  },
  {
    "text": "thing that appeared at the top we uh you would say has the highest",
    "start": "1417159",
    "end": "1422200"
  },
  {
    "text": "score okay so a toy example of a of a ranking model uh using my favorite uh",
    "start": "1422200",
    "end": "1428120"
  },
  {
    "text": "model logistic regression this takes uh this tries to model the probability of a click given a profile and it takes in",
    "start": "1428120",
    "end": "1435279"
  },
  {
    "text": "one feature which is X the number of common connect connections uh the um the",
    "start": "1435279",
    "end": "1441360"
  },
  {
    "text": "weights here govern how the computation works here we're multiplying some weight",
    "start": "1441360",
    "end": "1446919"
  },
  {
    "text": "to the uh to common connections plus adding a bias and then we throw a nonlinearity on top of that if that is",
    "start": "1446919",
    "end": "1453480"
  },
  {
    "text": "too difficult for you to plot in your head don't worry I've done it for you so this takes some real valued number and",
    "start": "1453480",
    "end": "1459039"
  },
  {
    "text": "squeezes it between zero and one so that it kind of looks like a probability um if this if this sort of",
    "start": "1459039",
    "end": "1464960"
  },
  {
    "text": "dag structure looks like a composable unit to you um well yes you can compose it and expand it this way and you can",
    "start": "1464960",
    "end": "1471399"
  },
  {
    "text": "expand it this way and if you had that idea congratulations you just invented deep learning",
    "start": "1471399",
    "end": "1478159"
  },
  {
    "text": "um the also this took me a long time to animate",
    "start": "1478159",
    "end": "1484039"
  },
  {
    "text": "um uh all right so um so when it comes to when it comes to training these",
    "start": "1484039",
    "end": "1489679"
  },
  {
    "text": "weights um we uh this table that I have on the right here is pretty much what",
    "start": "1489679",
    "end": "1494799"
  },
  {
    "text": "our training data uh looks like um the the feutures might look a little bit different and um and K might be you know",
    "start": "1494799",
    "end": "1502240"
  },
  {
    "text": "K could be could could takes on a range of different numbers but uh under the hood where we train our models the um",
    "start": "1502240",
    "end": "1508320"
  },
  {
    "text": "the training data looks like this so um there there are a couple things here uh I'll talk a little bit about the",
    "start": "1508320",
    "end": "1514159"
  },
  {
    "text": "features and the labels but the way to read this is that we have um is that every single row corresponds to who made",
    "start": "1514159",
    "end": "1521559"
  },
  {
    "text": "the search what the search query was um which document we're considering and then the outcome of that document which",
    "start": "1521559",
    "end": "1527760"
  },
  {
    "text": "is whether or not it got clicked so over here uh Searcher 100 uh searches for",
    "start": "1527760",
    "end": "1533080"
  },
  {
    "text": "LinkedIn and then clicks on profile one we know the click happened because uh that's where the label is uh and then",
    "start": "1533080",
    "end": "1539840"
  },
  {
    "text": "over here Searcher 2011 uh searches for accountant and clicks on profiles three and five so this is what the training",
    "start": "1539840",
    "end": "1547279"
  },
  {
    "text": "data looks like under the hood so anytime I talk about training a model um try to try to remember this I'll have a",
    "start": "1547279",
    "end": "1553399"
  },
  {
    "text": "picture of this in the corner in case you can't remember what it looks like okay with features",
    "start": "1553399",
    "end": "1558960"
  },
  {
    "text": "um remember how we were talking about the anatomy of search there are three actors in this play there is you the",
    "start": "1558960",
    "end": "1564720"
  },
  {
    "text": "Searcher there is the query that you typed in and then there's the document that we're trying to score um there are interactions between",
    "start": "1564720",
    "end": "1572240"
  },
  {
    "text": "all three of these actors and all of these provide Rich signals for whether or not something is relevant we have the",
    "start": "1572240",
    "end": "1578840"
  },
  {
    "text": "query document match did the uh you know which parts of the um of the profile did",
    "start": "1578840",
    "end": "1584480"
  },
  {
    "text": "your query match against we have things that you and the and the profile have in common so these are things like Mutual",
    "start": "1584480",
    "end": "1592000"
  },
  {
    "text": "connections and uh possibly um like like like physical distance or like",
    "start": "1592000",
    "end": "1597080"
  },
  {
    "text": "geolocation differences um sometimes we have uh features that are related to the",
    "start": "1597080",
    "end": "1602840"
  },
  {
    "text": "document itself and other times we have features that are related to just the query itself so there are uh there are",
    "start": "1602840",
    "end": "1609440"
  },
  {
    "text": "many different places that we can get our uh our feature uh information from",
    "start": "1609440",
    "end": "1614799"
  },
  {
    "text": "on the other hand for labels uh we want to labels are supposed to measure how relevant a document is we approximate",
    "start": "1614799",
    "end": "1622360"
  },
  {
    "text": "this by whether or not you clicked something um in this case we tried to make these clicks meaningful we try to",
    "start": "1622360",
    "end": "1628360"
  },
  {
    "text": "look for the meaningful clicks so did you follow them did you connect with them message them uh or maybe you",
    "start": "1628360",
    "end": "1633679"
  },
  {
    "text": "clicked on their profile and read for a certain amount of time if you did any of these types of things we would consider",
    "start": "1633679",
    "end": "1638960"
  },
  {
    "text": "that to be uh you finding a relevant document which is something we'd want to tell the model",
    "start": "1638960",
    "end": "1644120"
  },
  {
    "text": "about so now that we have the features and now that we have the how do we train these weights uh first",
    "start": "1644120",
    "end": "1650279"
  },
  {
    "text": "you um you pick a set of Weights then you compute something that's called the loss which is a measure of how poorly",
    "start": "1650279",
    "end": "1656880"
  },
  {
    "text": "you're doing on your training data set you compute something called the gradient here which uh somewhat tells",
    "start": "1656880",
    "end": "1662399"
  },
  {
    "text": "you which direction to adjust your weights to make it just slightly better you rinse and you rinse and repeat and",
    "start": "1662399",
    "end": "1668919"
  },
  {
    "text": "either until you found something that is good enough or you've gone through a certain number of of iterations then you stop uh the trading process again big",
    "start": "1668919",
    "end": "1676159"
  },
  {
    "text": "oversimplification you can come find me at the beginning of lunch um that was the 1D version the 2D version might look",
    "start": "1676159",
    "end": "1682440"
  },
  {
    "text": "something like this uh again these are very convex uh playing nicely loss functions and uh for any of you who have",
    "start": "1682440",
    "end": "1689480"
  },
  {
    "text": "trouble sleeping here's a math equation um here's your current weights here's the gradient sometimes you scale this by",
    "start": "1689480",
    "end": "1695679"
  },
  {
    "text": "a learning rate rinse and repeat you get your new weights um so the question here",
    "start": "1695679",
    "end": "1700799"
  },
  {
    "text": "uh the question that kind of remains is what's the loss function and what's the gradient um as a as a recap we care",
    "start": "1700799",
    "end": "1707640"
  },
  {
    "text": "about the best order for our documents um so uh so here's a trick question uh which of these ranking scores is better",
    "start": "1707640",
    "end": "1715159"
  },
  {
    "text": "uh the trick answer is uh who cares because these are a means to an end we just care about the order of the documents and this is important for",
    "start": "1715159",
    "end": "1721279"
  },
  {
    "text": "reasons I'll explain in a sec um oh yeah so yeah what's a good loss",
    "start": "1721279",
    "end": "1726480"
  },
  {
    "text": "function for uh for ranking well the answer lies in something called learning to rank I'll quickly cover pointwise",
    "start": "1726480",
    "end": "1733640"
  },
  {
    "text": "pairwise and listwise um and um and hopefully you'll be able to take",
    "start": "1733640",
    "end": "1739039"
  },
  {
    "text": "something away from that so so so so just as a just as a recap of where we've",
    "start": "1739039",
    "end": "1745159"
  },
  {
    "text": "got to so far I've explained to you a little bit about how ml Works we've talked about the features we've talked",
    "start": "1745159",
    "end": "1750559"
  },
  {
    "text": "about the labels I've sort of talked about the weights and how we adjust the weights here and there but the remaining",
    "start": "1750559",
    "end": "1756080"
  },
  {
    "text": "piece of this equation is how we even adjust those weights and that lies a lot in this um in this loss",
    "start": "1756080",
    "end": "1763559"
  },
  {
    "text": "function so easiest example is the or the easiest",
    "start": "1763559",
    "end": "1769640"
  },
  {
    "text": "method is pointwise learning to rank you're essentially treating um you're essentially treating this as a regular",
    "start": "1769640",
    "end": "1775679"
  },
  {
    "text": "supervised learning problem where for every document you try to predict whether or not you got a click um so you",
    "start": "1775679",
    "end": "1783080"
  },
  {
    "text": "um so your model would iterate over literally every row of the data set and this is this is simple I mean if you",
    "start": "1783080",
    "end": "1790200"
  },
  {
    "text": "think about it um if something is more likely to be clicked then it's probably more relevant uh which means that you",
    "start": "1790200",
    "end": "1796399"
  },
  {
    "text": "should put it closer to the top but the problem here is we don't really care about the or the this point wise",
    "start": "1796399",
    "end": "1802080"
  },
  {
    "text": "learning to rank doesn't really um consider the order of the documents uh and again uh like I mentioned before",
    "start": "1802080",
    "end": "1808240"
  },
  {
    "text": "nobody cares about the actual scores that you have here people just care about the order in which the documents are ranked so this uh so this is flawed",
    "start": "1808240",
    "end": "1814799"
  },
  {
    "text": "because it doesn't contain uh or it doesn't contain information about the order of the documents it doesn't tell",
    "start": "1814799",
    "end": "1820039"
  },
  {
    "text": "us anything here about how profile 5 is better than profile 7 so what do we do",
    "start": "1820039",
    "end": "1825399"
  },
  {
    "text": "we can take this a step further we can go uh and we can go pairwise learning to rank this Compares uh pairs",
    "start": "1825399",
    "end": "1832880"
  },
  {
    "text": "of documents and it tells and the model tries to predict which document is better than the other um so in a sense",
    "start": "1832880",
    "end": "1839640"
  },
  {
    "text": "it um so over here it would uh it would try to predict that um profile one is",
    "start": "1839640",
    "end": "1846399"
  },
  {
    "text": "more relevant than profile two for this search um profile three is better than profile five and profile three better",
    "start": "1846399",
    "end": "1853440"
  },
  {
    "text": "being better than profile 7 so this is a slight Improvement because it kind of",
    "start": "1853440",
    "end": "1859279"
  },
  {
    "text": "Compares documents now and sort of implicitly defines an order but um what if we did this for all the documents",
    "start": "1859279",
    "end": "1865960"
  },
  {
    "text": "that were ranking for a given query um as a as a warning here there's",
    "start": "1865960",
    "end": "1872080"
  },
  {
    "text": "some math as usual as usual um so um what's",
    "start": "1872080",
    "end": "1881519"
  },
  {
    "text": "the best way to explain this so we have our we have our ranking scores um because this gets very mathematical the",
    "start": "1881519",
    "end": "1886880"
  },
  {
    "text": "people who wrote the oh yeah so the one thing I should say is that listwise there are a range of uh listwise methods",
    "start": "1886880",
    "end": "1892840"
  },
  {
    "text": "uh I just picked listet because this is the one I understood the best um but um because this gets more technical um it",
    "start": "1892840",
    "end": "1900080"
  },
  {
    "text": "ends up being more convenient to create actual probabilities from uh from the scores that the model is generating so",
    "start": "1900080",
    "end": "1906799"
  },
  {
    "text": "um you can forget about you don't have to worry too much about the uh about the stuff over here but essentially for every document we're trying to uh",
    "start": "1906799",
    "end": "1913720"
  },
  {
    "text": "associate a probability with it because this is um this is important later on so we have some document score that the",
    "start": "1913720",
    "end": "1919480"
  },
  {
    "text": "model outputed and we convert this into a probability um put in a slightly more General and painful format um we have",
    "start": "1919480",
    "end": "1927240"
  },
  {
    "text": "the probabilities for all of the docu for each document for a given search uh and once you have the documents here you",
    "start": "1927240",
    "end": "1933720"
  },
  {
    "text": "can kind of plug this into a once you have the once you have the probabilities here um it it's somewhat smooth sailing",
    "start": "1933720",
    "end": "1941000"
  },
  {
    "text": "because you can apply this loss function called the cross entropy loss which is something that is commonly used across",
    "start": "1941000",
    "end": "1946600"
  },
  {
    "text": "machine learning and I won't prove it here but this is the gradient that we're talking about again you don't need to be intimidated",
    "start": "1946600",
    "end": "1952799"
  },
  {
    "text": "by the symbols here all we need to know is the loss which tells you how poorly you're doing on your data and then the",
    "start": "1952799",
    "end": "1958600"
  },
  {
    "text": "gradient which is um a uh an expression that helps you adjust your weights uh",
    "start": "1958600",
    "end": "1964080"
  },
  {
    "text": "for the next iteration so now that we have this we can now um we can now train our",
    "start": "1964080",
    "end": "1969320"
  },
  {
    "text": "Models All Right congratulations yeah you made it there you got 17 minutes until uh until Lunch is",
    "start": "1969320",
    "end": "1976039"
  },
  {
    "text": "ready so this is what I assume most people came here to learn about uh so",
    "start": "1976039",
    "end": "1981440"
  },
  {
    "text": "this is what uh you're going to get this is the details of the ranking models so",
    "start": "1981440",
    "end": "1986919"
  },
  {
    "text": "as um as sort of what I mentioned before L1 which is our first phase ranking is",
    "start": "1986919",
    "end": "1993080"
  },
  {
    "text": "uh is one that focuses on how the query uh matches the document the input uh is thousands of",
    "start": "1993080",
    "end": "2000600"
  },
  {
    "text": "documents and the output is hundreds of documents the uh we we sort of talked",
    "start": "2000600",
    "end": "2007159"
  },
  {
    "text": "about the retrieval already um we produce a score using the ranking model I'm about to show you and then we take",
    "start": "2007159",
    "end": "2013840"
  },
  {
    "text": "the top K which uh gets passed to the second phase ranking okay um so a quick um so so a",
    "start": "2013840",
    "end": "2021399"
  },
  {
    "text": "quick dive into how we represent our features I talked a little bit about um the numerical part where we have um say",
    "start": "2021399",
    "end": "2028840"
  },
  {
    "text": "the number of common connections you know you can put that into a vector give it to the model then uh that part is",
    "start": "2028840",
    "end": "2034120"
  },
  {
    "text": "relatively easy but I didn't talk much about um how we represent text um a big",
    "start": "2034120",
    "end": "2039880"
  },
  {
    "text": "shout out to the previous presenter who talked about embeddings for text um because of that uh I um there's a little",
    "start": "2039880",
    "end": "2045840"
  },
  {
    "text": "bit more that we can go off of um it turns out you can use convolutional neural Nets to uh create an embedding",
    "start": "2045840",
    "end": "2052599"
  },
  {
    "text": "for uh for texts and um and this is useful for us because associating a",
    "start": "2052599",
    "end": "2057878"
  },
  {
    "text": "vector um for uh for any given piece of text um where similar pieces of texts",
    "start": "2057879",
    "end": "2063638"
  },
  {
    "text": "are closer together in that Vector space uh makes it uh makes it very powerful for for us to um represent when it comes",
    "start": "2063639",
    "end": "2070118"
  },
  {
    "text": "to uh the ranking model so on the big picture over here there's quite a lot to",
    "start": "2070119",
    "end": "2075158"
  },
  {
    "text": "unpack here but the most important thing that you need to know about right now is this guy and blue over here this is our",
    "start": "2075159",
    "end": "2081878"
  },
  {
    "text": "future vector and remember kind of like what I said before if you have the feature vector and you have the weights of the model then you can run your",
    "start": "2081879",
    "end": "2087599"
  },
  {
    "text": "prediction but why is part of this shaded darker than the other",
    "start": "2087599",
    "end": "2093520"
  },
  {
    "text": "um so there are two types of features over here there's something called Deep features which I'll talk about in a sec",
    "start": "2093520",
    "end": "2100520"
  },
  {
    "text": "and then something else called wide features so what does what does this refer to um broadly deep features refer",
    "start": "2100520",
    "end": "2106960"
  },
  {
    "text": "to um uh refer to features that are generated by sort of the more deep learning side of our model um you can",
    "start": "2106960",
    "end": "2113760"
  },
  {
    "text": "see over here that um we take in our query as um as one of our",
    "start": "2113760",
    "end": "2119680"
  },
  {
    "text": "inputs we want to pass this through a CNN and it'll generate an embedding for us but remember we also have other part",
    "start": "2119680",
    "end": "2127040"
  },
  {
    "text": "s of um other other pieces of text that we might want to consider as well so when it comes to the document profile we",
    "start": "2127040",
    "end": "2134000"
  },
  {
    "text": "might care about things like headline or title or skills because these are all predictive as to whether or not a",
    "start": "2134000",
    "end": "2140160"
  },
  {
    "text": "document is relevant so we want to pass each of these through a uh a CNN as well",
    "start": "2140160",
    "end": "2145760"
  },
  {
    "text": "and then we will uh create an embedding for each of them but instead of putting these embeddings directly into the model",
    "start": "2145760",
    "end": "2151720"
  },
  {
    "text": "we add another trick which is um because again we we care about how the query um",
    "start": "2151720",
    "end": "2157359"
  },
  {
    "text": "is we care about how related the query is to um to text on the profile so we uh",
    "start": "2157359",
    "end": "2163599"
  },
  {
    "text": "so it makes sense to compare them directly so over here we compare the embedding for the query and the",
    "start": "2163599",
    "end": "2169240"
  },
  {
    "text": "embedding for the headline and um we you can do something like a cosine similarity and that becomes one entry in",
    "start": "2169240",
    "end": "2175640"
  },
  {
    "text": "our deep features Vector you can rinse and repeat uh you can do the same thing for uh Fields like titles get the cosign",
    "start": "2175640",
    "end": "2182000"
  },
  {
    "text": "similarity with the query and then that's another deep feature all the way down to stuff like skills uh and that",
    "start": "2182000",
    "end": "2187640"
  },
  {
    "text": "becomes a uh an entry in the feature Vector so that's the Deep",
    "start": "2187640",
    "end": "2192920"
  },
  {
    "text": "features uh when it comes to wide features these are just the numerical features that uh you might have thought about so maybe um over here um the",
    "start": "2192920",
    "end": "2200480"
  },
  {
    "text": "number of mutual connections is one such feature this goes this is an example of something that goes into the wide",
    "start": "2200480",
    "end": "2205800"
  },
  {
    "text": "features once we have this feature Vector we pass this through our um sort of a standard feed forward uh Network",
    "start": "2205800",
    "end": "2212920"
  },
  {
    "text": "and then out comes the score so that is L1 ranking uh in a",
    "start": "2212920",
    "end": "2219240"
  },
  {
    "text": "nutshell the good news here is that if you made it through this slide without falling asleep um L2 ranking is",
    "start": "2219680",
    "end": "2225319"
  },
  {
    "text": "relatively is about is similar um a few differences we um instead of using a",
    "start": "2225319",
    "end": "2231359"
  },
  {
    "text": "convolutional neural net L2 ranking uses a Burt model which is a little bit more expensive which is why we try to",
    "start": "2231359",
    "end": "2237640"
  },
  {
    "text": "pre-filter a little bit before getting there the other thing too is we use a um",
    "start": "2237640",
    "end": "2243839"
  },
  {
    "text": "we we also look at the Searcher profile which I'm about to show you so there's a lot to unpack here but uh this is the",
    "start": "2243839",
    "end": "2250520"
  },
  {
    "text": "same slide this is pretty much the same slide that I had before except turned like this way um we get an",
    "start": "2250520",
    "end": "2257599"
  },
  {
    "text": "embedding for the query over here same as before only difference is that there's uh we now use a um a Bert model",
    "start": "2257599",
    "end": "2264000"
  },
  {
    "text": "for it we have embeddings for the document kind of like we said before and just as promised we have embeddings for",
    "start": "2264000",
    "end": "2270839"
  },
  {
    "text": "the Searcher profile too this is where some of the personalization comes in we do our kind of cosign similarity to get",
    "start": "2270839",
    "end": "2277560"
  },
  {
    "text": "the Deep features similar to what we said before and then this part over here is the are the wide features similar to",
    "start": "2277560",
    "end": "2283760"
  },
  {
    "text": "what we had before um we pass this through a hidden layer and outomes the target score now",
    "start": "2283760",
    "end": "2290880"
  },
  {
    "text": "uh one other trick that we do is that um this green part and this purple part over here they both run uh online in",
    "start": "2290880",
    "end": "2298000"
  },
  {
    "text": "real time but the embeddings for the search and and the document uh it turns out you can pre-compute those and then",
    "start": "2298000",
    "end": "2304359"
  },
  {
    "text": "cach them and then retrieve them online so that's gives a lot of model computation um so uh in terms of why we",
    "start": "2304359",
    "end": "2312599"
  },
  {
    "text": "care about L2 ranking uh like I mentioned before L2 ranking is a personalization layer so on the left",
    "start": "2312599",
    "end": "2319599"
  },
  {
    "text": "side I've searched for LinkedIn and I have L2 ranking uh switched on uh it shows me I had to blur out their faces",
    "start": "2319599",
    "end": "2326720"
  },
  {
    "text": "but you'll just have to take my word for this that these are co-workers that I haven't connected with yet on LinkedIn so it's personalized in the sense that",
    "start": "2326720",
    "end": "2333839"
  },
  {
    "text": "they're people that I work with um on the other hand if I switch off L L2 ranking and only use L1 then I get sort",
    "start": "2333839",
    "end": "2340520"
  },
  {
    "text": "of generic um kind of generally popular results that's how we get Ryan resy the CEO at the top because um he's an",
    "start": "2340520",
    "end": "2347760"
  },
  {
    "text": "example of somebody who's kind of universally popular on LinkedIn so um if you are interested",
    "start": "2347760",
    "end": "2356200"
  },
  {
    "text": "more in how this works the good news is that this library is uh is open source so you can try this yourself uh on this",
    "start": "2356200",
    "end": "2363680"
  },
  {
    "text": "um on this link over here dtext and um and like I mentioned before we have",
    "start": "2363680",
    "end": "2369480"
  },
  {
    "text": "uh you know query embeddings we have some other uh yeah we have the query embeddings we have these text",
    "start": "2369480",
    "end": "2374599"
  },
  {
    "text": "interactions um and these other wide and sparse features that come with it all right congratulations you made it",
    "start": "2374599",
    "end": "2379960"
  },
  {
    "text": "through uh the the rankings so give yourself a pat on the back um with the",
    "start": "2379960",
    "end": "2385200"
  },
  {
    "text": "remaining time that we have I think we have about 10 minutes so I'll go a little bit into the infra and then we can take some questions sound good yes",
    "start": "2385200",
    "end": "2392200"
  },
  {
    "text": "all right so um we have something we have",
    "start": "2392200",
    "end": "2398839"
  },
  {
    "text": "our own ml op stack at LinkedIn that uh it's called PRL stands for productive machine learning um these uh include",
    "start": "2398839",
    "end": "2405800"
  },
  {
    "text": "tool this includes tooling for things like um offline feature management for training uh online feature management",
    "start": "2405800",
    "end": "2412560"
  },
  {
    "text": "for inference as well as things for training models as well as productionizing them this is very",
    "start": "2412560",
    "end": "2418079"
  },
  {
    "text": "important the standardization is uh very important at LinkedIn because tool standardization is somewhat of an",
    "start": "2418079",
    "end": "2423800"
  },
  {
    "text": "accelerate and helps us work at scale um for example I could go to another team tomorrow not that I will um I could go",
    "start": "2423800",
    "end": "2430480"
  },
  {
    "text": "to another team tomorrow and um look at their code and the tools are going to be",
    "start": "2430480",
    "end": "2435680"
  },
  {
    "text": "relatively the same um and where the only uh where the main part I'd have to ramp up on would be the domain that",
    "start": "2435680",
    "end": "2442640"
  },
  {
    "text": "they're working in so uh this is something that helps a lot um there's a little bit uh and in terms of our actual",
    "start": "2442640",
    "end": "2449599"
  },
  {
    "text": "search infrastructure um it looks something like this the uh query comes in we have this thing called the",
    "start": "2449599",
    "end": "2455359"
  },
  {
    "text": "federator over here here that uh fans out to a number of different verticals uh the people search vertical is one",
    "start": "2455359",
    "end": "2461280"
  },
  {
    "text": "vertical of its own um and um and everything that I and and a big part of what I talked about happens here so all",
    "start": "2461280",
    "end": "2468119"
  },
  {
    "text": "of the retrieval and L1 ranking happens uh within one Shard if you're unfamiliar",
    "start": "2468119",
    "end": "2473960"
  },
  {
    "text": "with the shardan concept because LinkedIn has 930 million members we want to it doesn't make sense to do uh to do",
    "start": "2473960",
    "end": "2480760"
  },
  {
    "text": "computations for all 930 million members on a single machine so we split it onto a number of machines this means that the",
    "start": "2480760",
    "end": "2486960"
  },
  {
    "text": "retrieval and L1 ranking happen in parallel across the shards um we merge those results up in the broker and then",
    "start": "2486960",
    "end": "2494520"
  },
  {
    "text": "after that we pass it over to the federator that does um L2 ranking uh so yeah uh in summary uh",
    "start": "2494520",
    "end": "2502319"
  },
  {
    "text": "people search is uh is simple it's just uh it's simple you know first you get the profiles and then uh you put the",
    "start": "2502319",
    "end": "2509079"
  },
  {
    "text": "good ones at the top right this um your know recommendation systems are simple um the second thing I I I'd like you to",
    "start": "2509079",
    "end": "2516520"
  },
  {
    "text": "know is that um the query is just a string of letters the computer doesn't know anything about it um it's up to you",
    "start": "2516520",
    "end": "2521839"
  },
  {
    "text": "to assign meaning to it uh whether or not it's tagging queries getting IDs uh",
    "start": "2521839",
    "end": "2527359"
  },
  {
    "text": "and uh and that's where the query query rewriting happens um and uh one of the",
    "start": "2527359",
    "end": "2532720"
  },
  {
    "text": "uh most underrated tips for uh running deep learning models at scale cheaply is to just not run it too many times um uh",
    "start": "2532720",
    "end": "2540440"
  },
  {
    "text": "there's the no there's no secret there so uh hopefully um hopefully you had",
    "start": "2540440",
    "end": "2545800"
  },
  {
    "text": "something to take away from it so thank you very much one question how do you compute how do you define static scores",
    "start": "2545800",
    "end": "2551680"
  },
  {
    "text": "in a way that's relevant for every search context that's a that's a good question I think the um the key so I",
    "start": "2551680",
    "end": "2560920"
  },
  {
    "text": "will preface this by saying that uh I did not make the static uh the static rank uh model myself um so it was",
    "start": "2560920",
    "end": "2567119"
  },
  {
    "text": "actually done by one of my co-workers um the idea behind that is um to use",
    "start": "2567119",
    "end": "2572640"
  },
  {
    "text": "features that are like you said relevant for every C context so you you wouldn't want to make it too specialize and we",
    "start": "2572640",
    "end": "2579160"
  },
  {
    "text": "also don't lean too heavily on um on the static rank as a kind of mission critical thing um the other thing that",
    "start": "2579160",
    "end": "2586040"
  },
  {
    "text": "uh uh that often helps is this is a continuously running pipeline it's not something we run you know once every quarter and then let it go stale so",
    "start": "2586040",
    "end": "2592920"
  },
  {
    "text": "there's a couple there's there's a couple little tricks",
    "start": "2592920",
    "end": "2596960"
  },
  {
    "text": "there hey hello hey so um question about your attribution that you were just",
    "start": "2598359",
    "end": "2603520"
  },
  {
    "text": "talking about when you guys take into account clicks right is that the only label you guys care about and then if um",
    "start": "2603520",
    "end": "2609520"
  },
  {
    "text": "a certain person was impressed on multiple search Pages do you care about the last one all of them without",
    "start": "2609520",
    "end": "2615400"
  },
  {
    "text": "revealing any NBA or stuff like that so when you say the person was impr uh if the person on the search page for",
    "start": "2615400",
    "end": "2622680"
  },
  {
    "text": "example like do you do you label all of those like say say I was searching a",
    "start": "2622680",
    "end": "2627920"
  },
  {
    "text": "bunch of times I was searching Matthew a bunch of times and then I clicked on the last the last time I searched it I",
    "start": "2627920",
    "end": "2633839"
  },
  {
    "text": "clicked on your profile refinement it's kind of like a query ref Oh you mean like like successive searches successive",
    "start": "2633839",
    "end": "2640319"
  },
  {
    "text": "searches uh in a single session yeah and then I clicked on your your profile on",
    "start": "2640319",
    "end": "2646000"
  },
  {
    "text": "my last search do you care about all of those you label all of those as a click or do you just label the last um I think",
    "start": "2646000",
    "end": "2653599"
  },
  {
    "text": "all of those are like basically if you are on a page and then you make a click that now becomes part of the training",
    "start": "2653599",
    "end": "2659480"
  },
  {
    "text": "data there are some optimizations that can be done by um by like considering uh successive searches but um",
    "start": "2659480",
    "end": "2666720"
  },
  {
    "text": "we haven't really found uh we haven't really found much success in that yet awesome",
    "start": "2666720",
    "end": "2672920"
  },
  {
    "text": "yeah question about the uh the cost so as because we're in a very volatile",
    "start": "2672920",
    "end": "2679559"
  },
  {
    "text": "Marketplace so uh I case I bought Le premium adding a lot of new friends so",
    "start": "2679559",
    "end": "2686720"
  },
  {
    "text": "my document will change a lot so my question how often do you run the model to to update the documents for the label",
    "start": "2686720",
    "end": "2693839"
  },
  {
    "text": "or L1 L2 uh the followup question is have you guys thought about using fistic",
    "start": "2693839",
    "end": "2700440"
  },
  {
    "text": "to simplify the model to make it run faster and cheaper yeah so um so in",
    "start": "2700440",
    "end": "2707160"
  },
  {
    "text": "terms of your first question the frequency with which we uh we run the model um we haven't quite gotten to the",
    "start": "2707160",
    "end": "2712720"
  },
  {
    "text": "place yet where we're Auto trainining it every um every single day um the problem with auto trainining is that your label",
    "start": "2712720",
    "end": "2719160"
  },
  {
    "text": "distribution can change uh I use the click label as a simple example but uh",
    "start": "2719160",
    "end": "2724640"
  },
  {
    "text": "it goes there's there's quite a lot that goes into crafting what this label is and um you get into these Cycles where",
    "start": "2724640",
    "end": "2730920"
  },
  {
    "text": "um if you have a certain ranking model that does a certain ranking treatment that can affect what the label distribution looks like in the future so",
    "start": "2730920",
    "end": "2738000"
  },
  {
    "text": "auto training is somewhat out of the question um but uh yeah it's it's it's it's done somewhat but model training is",
    "start": "2738000",
    "end": "2744160"
  },
  {
    "text": "done somewhat occasionally the um in terms of your second question can you remind me what that was again herck oh",
    "start": "2744160",
    "end": "2750559"
  },
  {
    "text": "heris sticks yeah so there are definitely yeah there definitely places to do that I think um there are I I",
    "start": "2750559",
    "end": "2755920"
  },
  {
    "text": "talked a little bit about how turning L2 ranking off makes the results less",
    "start": "2755920",
    "end": "2761400"
  },
  {
    "text": "personalized but in uh in certain cases uh L2 ranking doesn't really give the",
    "start": "2761400",
    "end": "2766800"
  },
  {
    "text": "ranking for certain queries that you actually want so um sometimes we will turn L2 ranking off based off of some",
    "start": "2766800",
    "end": "2773440"
  },
  {
    "text": "condition and then that helps optimize the results a little bit more Matthew the other thing like when you add a",
    "start": "2773440",
    "end": "2778720"
  },
  {
    "text": "connection it goes in into the index under connection so it's retrieval phase",
    "start": "2778720",
    "end": "2783960"
  },
  {
    "text": "the model doesn't get updated that's correct yeah so um so what yeah so in",
    "start": "2783960",
    "end": "2789960"
  },
  {
    "text": "terms of uh changes to your social graph those get um th th those get updated in",
    "start": "2789960",
    "end": "2795920"
  },
  {
    "text": "uh in the index and um the index contains so the index will contain information about your connections and",
    "start": "2795920",
    "end": "2802480"
  },
  {
    "text": "that go uh and then that fuels the values of the features that um eventually get used for ranking so um so",
    "start": "2802480",
    "end": "2809280"
  },
  {
    "text": "even if the even if the model uh even if the model itself is not updated every single day the features are updated",
    "start": "2809280",
    "end": "2815520"
  },
  {
    "text": "regular regularly because they depend on what you do in LinkedIn um so those feature values will will keep",
    "start": "2815520",
    "end": "2821839"
  },
  {
    "text": "up yeah I have a question about um the ambiguities in in tagging phase I missed",
    "start": "2821839",
    "end": "2828960"
  },
  {
    "text": "some details uh but I think you have you have a good example right Apple can be a",
    "start": "2828960",
    "end": "2834079"
  },
  {
    "text": "either a name or or a company name yeah so when you when I put Apple there do",
    "start": "2834079",
    "end": "2840319"
  },
  {
    "text": "you actually have like determinist can tell you know in the tag Cas that this",
    "start": "2840319",
    "end": "2846280"
  },
  {
    "text": "is a you know company name or or you just assume that it could be both and you you consider you know both",
    "start": "2846280",
    "end": "2852160"
  },
  {
    "text": "situations so I think there are there are certainly edge cases and like this happens this actually um there are",
    "start": "2852160",
    "end": "2859319"
  },
  {
    "text": "certainly edge cases where the query tagger might get a wrong answer actually I was looking up a friend who was",
    "start": "2859319",
    "end": "2864720"
  },
  {
    "text": "working at open Ai and I didn't capitalize anything it just said op n Ai and they it tagged that as a as a last",
    "start": "2864720",
    "end": "2871280"
  },
  {
    "text": "name right um so usually when that happens uh yeah we get complaints from uh from from Members that's that's",
    "start": "2871280",
    "end": "2877400"
  },
  {
    "text": "usually the first thing um but as far as ambiguities go I I didn't quite go into the details of how query tagging works",
    "start": "2877400",
    "end": "2883480"
  },
  {
    "text": "but it does try to look at um the surrounding terms right so based off where the term occurs in the query that",
    "start": "2883480",
    "end": "2889960"
  },
  {
    "text": "also gives you a little bit of signal and could and could disambiguate um uh cases like what you",
    "start": "2889960",
    "end": "2895720"
  },
  {
    "text": "described we can probably do two more questions yeah I think um oh yeah thank",
    "start": "2895720",
    "end": "2901280"
  },
  {
    "text": "you so one question is uh around your architecture do you have you have Laden",
    "start": "2901280",
    "end": "2906720"
  },
  {
    "text": "you have a budget for it you just track it and make sure that it doesn't um go",
    "start": "2906720",
    "end": "2911920"
  },
  {
    "text": "over some SLA that you have because I imagine that people will give up you take too long to give the right results",
    "start": "2911920",
    "end": "2918640"
  },
  {
    "text": "yeah so we um so for each of the models that we have um so yeah this is something that we work closely with",
    "start": "2918640",
    "end": "2924640"
  },
  {
    "text": "infra on so the people um so this architecture over here the the people",
    "start": "2924640",
    "end": "2929880"
  },
  {
    "text": "who work on both the federator uh and the broker and Searcher um they have",
    "start": "2929880",
    "end": "2935040"
  },
  {
    "text": "dashboards the track you know the average amount of time it takes for these models to score um sometimes we",
    "start": "2935040",
    "end": "2941640"
  },
  {
    "text": "also look at stuff like memory consumption and if those go above a certain threshold then you know it's",
    "start": "2941640",
    "end": "2947000"
  },
  {
    "text": "something it's something that we uh take a look at so um that uh that's definitely a big",
    "start": "2947000",
    "end": "2953040"
  },
  {
    "text": "piece do you treat every Searcher equally like if there's someone who is very curious and has a lot of time on",
    "start": "2953040",
    "end": "2959559"
  },
  {
    "text": "their hands yeah do their weights matter less or more than like for example recruiter or Head Hunter yeah so this",
    "start": "2959559",
    "end": "2965680"
  },
  {
    "text": "this is a very good question um and I think this is where um this is where we spend the bulk of our time so let's say",
    "start": "2965680",
    "end": "2971240"
  },
  {
    "text": "you had somebody we actually um internally we call them power users so if you had somebody who searches a ton",
    "start": "2971240",
    "end": "2977880"
  },
  {
    "text": "uh you know let's let's say like thousands of times thousands of times a day I'm not even sure that's haven't done the math on whether that's",
    "start": "2977880",
    "end": "2983480"
  },
  {
    "text": "physically possible um you would expect if we randomly sampled uh searches that um this person this power user would",
    "start": "2983480",
    "end": "2990240"
  },
  {
    "text": "appear several times so um that is not a good thing for training data so this is",
    "start": "2990240",
    "end": "2995280"
  },
  {
    "text": "an example of something we try to uh to prune out um and making sure that there isn't too much over over representation",
    "start": "2995280",
    "end": "3002280"
  },
  {
    "text": "um is uh is is definitely is is making sure that that doesn't happen is the",
    "start": "3002280",
    "end": "3007440"
  },
  {
    "text": "result of you know like data analysis a lot of data analysis and uh interrogating your training data so um",
    "start": "3007440",
    "end": "3013839"
  },
  {
    "text": "it's something we work it's something we work very hard to uh to prevent because um given a limited budget of training",
    "start": "3013839",
    "end": "3020240"
  },
  {
    "text": "data if somebody if if a certain type of user you know maybe the power users are uh are represented it also means that",
    "start": "3020240",
    "end": "3026920"
  },
  {
    "text": "other other users are under represented and there are s somewhat diminishing returns on uh how many times you can",
    "start": "3026920",
    "end": "3032839"
  },
  {
    "text": "appear in a data set and have a good quality uh search experience so great question yeah um I'll be I'll be around you know",
    "start": "3032839",
    "end": "3040400"
  },
  {
    "text": "after this so you want to chat some more uh you know what I look [Applause]",
    "start": "3040400",
    "end": "3049229"
  },
  {
    "text": "[Music] like",
    "start": "3050280",
    "end": "3057440"
  }
]