[
  {
    "start": "0",
    "end": "703000"
  },
  {
    "text": "thank you everyone welcome to charities and production talk so let's get started",
    "start": "3950",
    "end": "9820"
  },
  {
    "text": "if you work on development of an international product customer experience is always impacted by the",
    "start": "9820",
    "end": "16278"
  },
  {
    "text": "distance to the data center serving the request and you start considering the",
    "start": "16279",
    "end": "22519"
  },
  {
    "text": "ways to move data centers closer to all your customers and eventually you come up with deployment schema containing",
    "start": "22519",
    "end": "30289"
  },
  {
    "text": "multiple data centers a close across the globe but in reality this transition is",
    "start": "30289",
    "end": "36969"
  },
  {
    "text": "extremely challenging especially if your data processing relies on transactions",
    "start": "36969",
    "end": "43059"
  },
  {
    "text": "so I started working on this initiative in 2016 when I joined PayPal regulatory",
    "start": "43059",
    "end": "50120"
  },
  {
    "text": "compliance platform team and in this talk I would like to cover first our thought process when we start developing",
    "start": "50120",
    "end": "59210"
  },
  {
    "text": "the system the distribution system with eventual consistency based on charities",
    "start": "59210",
    "end": "64489"
  },
  {
    "text": "and the second is our learnings from this technical journey so let me provide",
    "start": "64489",
    "end": "69560"
  },
  {
    "text": "you some context people operates in more than 200 countries and its products have",
    "start": "69560",
    "end": "74720"
  },
  {
    "text": "to be aligned with regulatory requirements for each particular region compliance platform team is responsible",
    "start": "74720",
    "end": "81649"
  },
  {
    "text": "for technical support for this part and at a very high level it looks like a",
    "start": "81649",
    "end": "89509"
  },
  {
    "text": "state machine of compliance statuses where our transitions might be performed",
    "start": "89509",
    "end": "95570"
  },
  {
    "text": "by different actors I will give you a simple example when you create an account your compliance status is in",
    "start": "95570",
    "end": "101420"
  },
  {
    "text": "some initial state then you submit your documents proving your identity and once",
    "start": "101420",
    "end": "107689"
  },
  {
    "text": "these documents are reviewed your compliance status is flipped to some completed state and you are able to",
    "start": "107689",
    "end": "114200"
  },
  {
    "text": "start using products and our task was to",
    "start": "114200",
    "end": "119600"
  },
  {
    "text": "design an executed transition for the system to the state when you can deploy",
    "start": "119600",
    "end": "126649"
  },
  {
    "text": "it in geo distributed environment with multiple data centers and with high",
    "start": "126649",
    "end": "134239"
  },
  {
    "text": "availability and low dependencies on interest and honestly when I first time read some",
    "start": "134239",
    "end": "141409"
  },
  {
    "text": "concept document about how this desired state should look like I was just wait is it feasible because",
    "start": "141409",
    "end": "150040"
  },
  {
    "text": "this cap theorem tells us about trade-off between availability and",
    "start": "150040",
    "end": "155389"
  },
  {
    "text": "consistency so I would like to recap some fundamentals we all know that",
    "start": "155389",
    "end": "162049"
  },
  {
    "text": "shared mutable state is a root cause of majority of problems in software and we",
    "start": "162049",
    "end": "169370"
  },
  {
    "text": "try to minimize it it increases accidental complexity it introduces side-effects and good design",
    "start": "169370",
    "end": "174739"
  },
  {
    "text": "usually minimizes shared mutable state that's why we like functional programming but since this problem",
    "start": "174739",
    "end": "180969"
  },
  {
    "text": "appeared at the beginning of the age of program and because of Hardware detection the immediate solution was",
    "start": "180969",
    "end": "187340"
  },
  {
    "text": "introduced and this solution is mutexes or locks the idea is to limit an access to data",
    "start": "187340",
    "end": "192560"
  },
  {
    "text": "point for the purpose of consistency of data modifications and locks is a excellent solution they work fast they",
    "start": "192560",
    "end": "199609"
  },
  {
    "text": "are very reliable they are validated over time when we think about this concept in space of mutable state and",
    "start": "199609",
    "end": "207349"
  },
  {
    "text": "data stores they this concept is implemented through transactional",
    "start": "207349",
    "end": "212479"
  },
  {
    "text": "processing and transactions guarantees as atomicity consistency isolation and",
    "start": "212479",
    "end": "218479"
  },
  {
    "text": "durability of our operations and they also works very well when you are within",
    "start": "218479",
    "end": "223790"
  },
  {
    "text": "the same data center and you don't have across globe message propagation but",
    "start": "223790",
    "end": "231949"
  },
  {
    "text": "when you move to Geo distributed environment transaction do not work so",
    "start": "231949",
    "end": "237859"
  },
  {
    "text": "well anymore because the physical distance between data center contributes a lot to transaction time and if you",
    "start": "237859",
    "end": "245540"
  },
  {
    "text": "have a high load traffic you start observing transaction failures transaction overlaps and this becomes a",
    "start": "245540",
    "end": "253250"
  },
  {
    "text": "bottleneck of scalability for your system and this is exactly what kept",
    "start": "253250",
    "end": "258739"
  },
  {
    "text": "areum tells us about trade-off between consistency and availability and at this moment of time some teams start",
    "start": "258739",
    "end": "264969"
  },
  {
    "text": "exploring another side of this bactrim in caps theorem a little bit",
    "start": "264969",
    "end": "273169"
  },
  {
    "text": "sacrificing consistency and increasing availability and for most of them it",
    "start": "273169",
    "end": "279139"
  },
  {
    "text": "works pretty well but if you really have a high load traffic and your data",
    "start": "279139",
    "end": "285050"
  },
  {
    "text": "modification happened very much more frequent than replication this system",
    "start": "285050",
    "end": "292100"
  },
  {
    "text": "works even worse because instead of transaction failures and transaction overlaps you will see data losses which",
    "start": "292100",
    "end": "299509"
  },
  {
    "text": "usually are not under control and very difficult to trace so it happens because",
    "start": "299509",
    "end": "306860"
  },
  {
    "text": "distributed system contains of multiple components each of them has a local copy",
    "start": "306860",
    "end": "313910"
  },
  {
    "text": "of your data and called replicas this components are reliable itself they guarantee strong consistency within it",
    "start": "313910",
    "end": "320449"
  },
  {
    "text": "and they communicate to each other through a synchronous message passing and this communication is not so",
    "start": "320449",
    "end": "326389"
  },
  {
    "text": "reliable you cannot rely on time required for this communication or that this connection will be successfully",
    "start": "326389",
    "end": "332419"
  },
  {
    "text": "established when you succeeded with some put operation in replica a and in a",
    "start": "332419",
    "end": "339800"
  },
  {
    "text": "consequent read operation for the same data point you should be able to observe",
    "start": "339800",
    "end": "345949"
  },
  {
    "text": "the results from put operation but if you perform a read operation from",
    "start": "345949",
    "end": "351080"
  },
  {
    "text": "another replica for the same data point your result is not defined because you",
    "start": "351080",
    "end": "356479"
  },
  {
    "text": "might or might not observe the expected result depending on whether replication has already happened or not and this is",
    "start": "356479",
    "end": "363729"
  },
  {
    "text": "extremely important problem because literally it means that every time when",
    "start": "363729",
    "end": "369139"
  },
  {
    "text": "you read your data point you don't know whether it is extra or not and you have",
    "start": "369139",
    "end": "374840"
  },
  {
    "text": "no mean to verify it and of course if you transform this data value to some",
    "start": "374840",
    "end": "381020"
  },
  {
    "text": "other value and what purpose is it to your system might start diverge so we",
    "start": "381020",
    "end": "386389"
  },
  {
    "text": "started thinking about how to build a system which will not diversion eventually and we started our project",
    "start": "386389",
    "end": "393680"
  },
  {
    "text": "from overview of existence solution of how it might be solved the first class",
    "start": "393680",
    "end": "398719"
  },
  {
    "text": "of approaches is affinity based approaches they rely on the that is in the same replica you have a",
    "start": "398719",
    "end": "405490"
  },
  {
    "text": "strong consistency the idea is to introduce some constraints to your data",
    "start": "405490",
    "end": "411580"
  },
  {
    "text": "access patterns that actor will not be able to communicate with different",
    "start": "411580",
    "end": "416970"
  },
  {
    "text": "replicas at the same time and the most popular affinity solution is sticky",
    "start": "416970",
    "end": "424840"
  },
  {
    "text": "session when within customer session you have recall requests handled in the same",
    "start": "424840",
    "end": "429880"
  },
  {
    "text": "data center and use have a situation of read my rights the problem with affinity based approach",
    "start": "429880",
    "end": "437110"
  },
  {
    "text": "that your data have to be sliceable in such a way and it works really well when",
    "start": "437110",
    "end": "442930"
  },
  {
    "text": "you have a customer who modifies his personal data and nobody else touches this data but when you have multiple",
    "start": "442930",
    "end": "448510"
  },
  {
    "text": "actors interacting on the same data points it is not a trivial task to",
    "start": "448510",
    "end": "454570"
  },
  {
    "text": "define this constraints how to define affinity here there is also another affinity approach when you have for",
    "start": "454570",
    "end": "463210"
  },
  {
    "text": "example geo related affinity like all the Europe requests goes to Europe data",
    "start": "463210",
    "end": "469210"
  },
  {
    "text": "center but this definitely will help you but as more affinity introduced as less",
    "start": "469210",
    "end": "477580"
  },
  {
    "text": "your system is really distributed and you will start facing issues when something goes wrong with this data",
    "start": "477580",
    "end": "483640"
  },
  {
    "text": "center and disaster recovery will be required or something like that that's why we got gear gave up this affinity",
    "start": "483640",
    "end": "490150"
  },
  {
    "text": "and the second class of approaches is coordinator based approaches this approaches rely on the existence of some",
    "start": "490150",
    "end": "496419"
  },
  {
    "text": "coordinator who manages conflict free environment it doesn't necessarily mean",
    "start": "496419",
    "end": "502000"
  },
  {
    "text": "that every customer talks to coordinator but coordinator can handle some critical",
    "start": "502000",
    "end": "508330"
  },
  {
    "text": "components and we very seriously treated coordinator as a solution but when we",
    "start": "508330",
    "end": "515770"
  },
  {
    "text": "start may introduce more detail store design we recognize that it is very",
    "start": "515770",
    "end": "520840"
  },
  {
    "text": "complex to handle all the possibilities of coordinator lifecycle because in my",
    "start": "520840",
    "end": "526450"
  },
  {
    "text": "failure and you need to recover it in another zone and there is some intermediate state where you need to",
    "start": "526450",
    "end": "532570"
  },
  {
    "text": "handle your requests somehow or something like put them on hold and that's why we gave",
    "start": "532570",
    "end": "538700"
  },
  {
    "text": "up is coordinated the third class of approaches is a consensus based approaches this is actually the idea is",
    "start": "538700",
    "end": "545150"
  },
  {
    "text": "that replicas communicates to each other and they have a protocol to get some agreement about data transformation this",
    "start": "545150",
    "end": "552620"
  },
  {
    "text": "is actually a very fundamental topic and distributed systems and there are several very reliable products built on",
    "start": "552620",
    "end": "559640"
  },
  {
    "text": "top of consensus approaches like google spanner or foundation DB but let me give",
    "start": "559640",
    "end": "565820"
  },
  {
    "text": "you some context why it didn't work for us if you work in product development your service stack looks like multiple",
    "start": "565820",
    "end": "573470"
  },
  {
    "text": "layers that handles client requests the top layer is your business logic for",
    "start": "573470",
    "end": "579590"
  },
  {
    "text": "compliance for example it is what types of document required for verification then you have a domain platform which",
    "start": "579590",
    "end": "585740"
  },
  {
    "text": "introduces some data access functions descriptions of your entity objects and",
    "start": "585740",
    "end": "592490"
  },
  {
    "text": "for flow control mechanisms and the last layer of your service is something like",
    "start": "592490",
    "end": "597500"
  },
  {
    "text": "service infrastructure which is responsible for downstream dependency discovery different routing and",
    "start": "597500",
    "end": "604610"
  },
  {
    "text": "balancing and failover strategies like retry of the requests and the same situation you haven't got a store site",
    "start": "604610",
    "end": "610610"
  },
  {
    "text": "so you have some space where you manage your data but at the same time there is a huge bunch of work related to",
    "start": "610610",
    "end": "618410"
  },
  {
    "text": "configuration of data store to how it is deployed what is the failover strategy what are some logical to physical",
    "start": "618410",
    "end": "625940"
  },
  {
    "text": "mappings and when you're in product development team you usually own these parts and service",
    "start": "625940",
    "end": "634010"
  },
  {
    "text": "infrastructure provided for you as a service usually when you need to call some downstream dependency you don't",
    "start": "634010",
    "end": "640100"
  },
  {
    "text": "necessarily know how pools of this downstream dependence is organized the",
    "start": "640100",
    "end": "645860"
  },
  {
    "text": "same is in datastore that you don't know how many real Hardware Knolls used for",
    "start": "645860",
    "end": "652460"
  },
  {
    "text": "to support your database but if you want to go with consensus you need to work on",
    "start": "652460",
    "end": "657680"
  },
  {
    "text": "these paths because you need to know what is the configuration of your cluster how many replicas how they interact with",
    "start": "657680",
    "end": "665089"
  },
  {
    "text": "each other what two reactive replicas fail somehow and so on so typically consensus is implemented in",
    "start": "665089",
    "end": "672470"
  },
  {
    "text": "some shared layers and for large enterprises it is very difficult to do",
    "start": "672470",
    "end": "677510"
  },
  {
    "text": "because this responsibility and implementation will be shared across multiple teams and you need to be",
    "start": "677510",
    "end": "684080"
  },
  {
    "text": "injected into your service infrastructure roadmap which has its own lands to what they want to work on if",
    "start": "684080",
    "end": "691640"
  },
  {
    "text": "you own your database end to end you own every process that works with your data consensus is a good solution for you",
    "start": "691640",
    "end": "698600"
  },
  {
    "text": "and this is I think what foundation DBT doesn't Google spanner glass so and in",
    "start": "698600",
    "end": "704870"
  },
  {
    "start": "703000",
    "end": "736000"
  },
  {
    "text": "this moment of time to start looking for solution will will leave in product domain and we start looking at",
    "start": "704870",
    "end": "712190"
  },
  {
    "text": "conflict-free replicated data types so at that moment of time I already have",
    "start": "712190",
    "end": "718550"
  },
  {
    "text": "some experience in societies in react I also looked at Sarat Eason akka",
    "start": "718550",
    "end": "724550"
  },
  {
    "text": "distributed data I know that Jefferson dot I usually is pretty positive about",
    "start": "724550",
    "end": "730150"
  },
  {
    "text": "safety nests of using serenity so we decided to give it a try",
    "start": "730150",
    "end": "735460"
  },
  {
    "text": "there is two big classes of seer duties the first class is a commutative serda",
    "start": "735460",
    "end": "740660"
  },
  {
    "start": "736000",
    "end": "826000"
  },
  {
    "text": "T's when replicas communicates to each other through passing update operation",
    "start": "740660",
    "end": "746300"
  },
  {
    "text": "this update operation has to be commutative and associative so the ordering will not matter and your",
    "start": "746300",
    "end": "752060"
  },
  {
    "text": "environment have to provide exactly ones delivery the very rough example of",
    "start": "752060",
    "end": "758110"
  },
  {
    "text": "commutative sir duties is payments in blockchain network so add subtract",
    "start": "758110",
    "end": "764240"
  },
  {
    "text": "operation is commutative and associative and blockchain magic helps you to receive a rental only once the second",
    "start": "764240",
    "end": "772520"
  },
  {
    "text": "class is conversion sad it is when replicas communicates to each other by sending the entire state and one another",
    "start": "772520",
    "end": "779450"
  },
  {
    "text": "replicas receive this state it merges the state with a local one this merge",
    "start": "779450",
    "end": "784790"
  },
  {
    "text": "operation also has to be commutative and associative but it also has to be an important and environment needs to",
    "start": "784790",
    "end": "791720"
  },
  {
    "text": "support at least once delivery which is much easier so where is the classical",
    "start": "791720",
    "end": "798560"
  },
  {
    "text": "example of conversion CR DT is grow only SAP this is an ordered set of unique",
    "start": "798560",
    "end": "805230"
  },
  {
    "text": "elements without remove operations you can make a thought experiment and permutate what can happen smithy data",
    "start": "805230",
    "end": "811980"
  },
  {
    "text": "structuring and current environment and you will recognize that eventually this",
    "start": "811980",
    "end": "817140"
  },
  {
    "text": "data structure is consistent and convergent and it will contain the union",
    "start": "817140",
    "end": "822330"
  },
  {
    "text": "of all the elements in the intermediate stages state stages we decided to go",
    "start": "822330",
    "end": "827370"
  },
  {
    "start": "826000",
    "end": "883000"
  },
  {
    "text": "with convergence entities and for that we need to implement some merge function for our business data types we should be",
    "start": "827370",
    "end": "833760"
  },
  {
    "text": "commutative associative and an important and this is not an easy task because your business data doesn't look like",
    "start": "833760",
    "end": "841520"
  },
  {
    "text": "academic data structure like said it contains something like a fields and parameters and this is not an easy task",
    "start": "841520",
    "end": "848630"
  },
  {
    "text": "but we were very inspired by the fact",
    "start": "848630",
    "end": "853770"
  },
  {
    "text": "that since this is just a data type and operation for this the implementation of",
    "start": "853770",
    "end": "860040"
  },
  {
    "text": "circuit II is similar to the situation when you need to add one more field to your data model you need to add one more",
    "start": "860040",
    "end": "866310"
  },
  {
    "text": "column to a database you don't need to go to talk to DBA administrators you don't need to go to talk to service",
    "start": "866310",
    "end": "872160"
  },
  {
    "text": "infrastructure you just modify your object you modify your app IPI interfaces and you persist new data",
    "start": "872160",
    "end": "879780"
  },
  {
    "text": "model with your datastore so before I will introduce our solution",
    "start": "879780",
    "end": "890460"
  },
  {
    "start": "883000",
    "end": "1088000"
  },
  {
    "text": "of sanity based on causality track and I want to go through some examples of how",
    "start": "890460",
    "end": "898230"
  },
  {
    "text": "replication works in some usual data store so I will not use compliance as an",
    "start": "898230",
    "end": "904020"
  },
  {
    "text": "example compliance of maintenance an example I will use online flight chicken system because everyone has deal has",
    "start": "904020",
    "end": "911130"
  },
  {
    "text": "experience with it when you want to pick a seat and so we had so we on the",
    "start": "911130",
    "end": "917370"
  },
  {
    "text": "diagram we see two replicas replica a and replica B and the value is different",
    "start": "917370",
    "end": "924180"
  },
  {
    "text": "in some initial state in replica a we have value 12 half and then replica we",
    "start": "924180",
    "end": "930270"
  },
  {
    "text": "have a value 16 D after Cross datacenter replication replica B has",
    "start": "930270",
    "end": "936420"
  },
  {
    "text": "12f so this value is replicated to replica me what exactly happened here",
    "start": "936420",
    "end": "944870"
  },
  {
    "text": "database usually maintain some metadata about your records it might be a timestamp when the record was last",
    "start": "944870",
    "end": "951420"
  },
  {
    "text": "modified or touched or it might be some generation counters and when database datastore see that values are different",
    "start": "951420",
    "end": "959250"
  },
  {
    "text": "it uses this metadata to resolve your conflict and surprisingly this is also",
    "start": "959250",
    "end": "966780"
  },
  {
    "text": "sure DT this is last right win which has merge function equal to max out of a B",
    "start": "966780",
    "end": "973080"
  },
  {
    "text": "so 220 is greater than 150 that's why 12a 12f override 16 D we",
    "start": "973080",
    "end": "984060"
  },
  {
    "text": "don't want in our design any data to be discarded by some database meta",
    "start": "984060",
    "end": "989370"
  },
  {
    "text": "information which is not under our control because we want to build our solution on top of existing datastore and that's why we do this trick instead",
    "start": "989370",
    "end": "998010"
  },
  {
    "text": "of storing some color value we extend our data type to some map and when",
    "start": "998010",
    "end": "1003890"
  },
  {
    "text": "before it was 12 F now it becomes a 112 F and B 116 D for replica B this he",
    "start": "1003890",
    "end": "1013810"
  },
  {
    "text": "represents a replica identifier plus atomic counter of operation we can",
    "start": "1013810",
    "end": "1019130"
  },
  {
    "text": "maintain a trauma counter within replica because the replica gives a strong consistency so the next insert into",
    "start": "1019130",
    "end": "1026390"
  },
  {
    "text": "replica a will be a two and and so forth since this Keys unique globally we want",
    "start": "1026390",
    "end": "1035209"
  },
  {
    "text": "cross at a central replication to merge this Maps by key and in this situation",
    "start": "1035209",
    "end": "1040730"
  },
  {
    "text": "none of the values will be lost so we still have both of the values and if you",
    "start": "1040730",
    "end": "1047180"
  },
  {
    "text": "think about this map that key is a globally unique and they are immutable",
    "start": "1047180",
    "end": "1052730"
  },
  {
    "text": "because every time the counter is new and this is at only map when we can only",
    "start": "1052730",
    "end": "1058400"
  },
  {
    "text": "insert new key with some value and this is Sarah T this is commutative it",
    "start": "1058400",
    "end": "1064490"
  },
  {
    "text": "important and associative right let's look at this map in details so the set",
    "start": "1064490",
    "end": "1075350"
  },
  {
    "text": "of keys for this map uniquely identifies the state of the replica at some moment",
    "start": "1075350",
    "end": "1081050"
  },
  {
    "text": "of time and it means that we can use this data to maintain causality so what",
    "start": "1081050",
    "end": "1088430"
  },
  {
    "start": "1088000",
    "end": "1165000"
  },
  {
    "text": "is causality causality is if you think about",
    "start": "1088430",
    "end": "1093470"
  },
  {
    "text": "evolution of your value as a graph causality is your edges so for example",
    "start": "1093470",
    "end": "1098990"
  },
  {
    "text": "we have some initial state of value 12 F and some client flips it to 10 a so 12 F",
    "start": "1098990",
    "end": "1105590"
  },
  {
    "text": "is causal totin a then we can drop 12 F then another client flips from 10 a to 5",
    "start": "1105590",
    "end": "1111770"
  },
  {
    "text": "C and then a is causal to 5 C and we can drop 10 a this is another situation when",
    "start": "1111770",
    "end": "1126430"
  },
  {
    "text": "12 F is also causal to 10 a that's why we can drop 12 F but another client who",
    "start": "1126430",
    "end": "1133190"
  },
  {
    "text": "doesn't know about this transition he wants to flip 12 F to 5 C and then a is",
    "start": "1133190",
    "end": "1140240"
  },
  {
    "text": "the situation is not causal Teutons to 5 C we cannot drop 10 a and in this",
    "start": "1140240",
    "end": "1147650"
  },
  {
    "text": "situation 10 a and 5 C are concurrent values and we call them siblings and we",
    "start": "1147650",
    "end": "1155480"
  },
  {
    "text": "cannot resolve each of them means at some at the current moment of time and when we sum up all the keys of this map",
    "start": "1155480",
    "end": "1163130"
  },
  {
    "text": "it will give us some causality vector so to use this causality vector we want to",
    "start": "1163130",
    "end": "1168320"
  },
  {
    "start": "1165000",
    "end": "1221000"
  },
  {
    "text": "give it back to our clients when they read data for that we need to extend our",
    "start": "1168320",
    "end": "1173360"
  },
  {
    "text": "signature of get and put operations so we add causality vector to return type",
    "start": "1173360",
    "end": "1179180"
  },
  {
    "text": "of get operation and we add causality vector to one of the parameters to put",
    "start": "1179180",
    "end": "1185150"
  },
  {
    "text": "operation it is very similar to how compare and set works when we provide some version of the value and then when",
    "start": "1185150",
    "end": "1192560"
  },
  {
    "text": "you want to write this version is compared with current one and if it is",
    "start": "1192560",
    "end": "1197990"
  },
  {
    "text": "not the same you will get some second kind of modification exception this only one difference that we don't need",
    "start": "1197990",
    "end": "1203840"
  },
  {
    "text": "exact equivalence of this causality reactor to complete a commit and we also",
    "start": "1203840",
    "end": "1212270"
  },
  {
    "text": "add causality vector information to our data value for each boot operation okay",
    "start": "1212270",
    "end": "1220550"
  },
  {
    "text": "now as I said we wanted to implement it on some available data store because we",
    "start": "1220550",
    "end": "1226910"
  },
  {
    "start": "1221000",
    "end": "1398000"
  },
  {
    "text": "don't want to develop our own and we used IRS Pike may I ask you to rise a",
    "start": "1226910",
    "end": "1232160"
  },
  {
    "text": "hand if you have experience with IRA spike not so many okay this is a hybrid",
    "start": "1232160",
    "end": "1240920"
  },
  {
    "text": "memory key value store it well it has very high performance and high throughput low latency it is proven the",
    "start": "1240920",
    "end": "1248570"
  },
  {
    "text": "majority of write and write operations will be completed within one millisecond so hybrid memory means that index of the",
    "start": "1248570",
    "end": "1256070"
  },
  {
    "text": "keys is stored in apparitional memory but records itself are stored in on the",
    "start": "1256070",
    "end": "1262550"
  },
  {
    "text": "SSD disk and I respite gives you has a",
    "start": "1262550",
    "end": "1267680"
  },
  {
    "text": "mode of strong consistency within its cluster and it also has cross data center replication so why it looks like",
    "start": "1267680",
    "end": "1275840"
  },
  {
    "text": "a good fit next the data model of IRA spike is designed across the concept of",
    "start": "1275840",
    "end": "1282920"
  },
  {
    "text": "record you might think about record as about row in classical relational database record has a key and metadata",
    "start": "1282920",
    "end": "1290890"
  },
  {
    "text": "but values itself are stored inside bins so you guys think about being as a",
    "start": "1290890",
    "end": "1297110"
  },
  {
    "text": "column in relational database with only difference that I respect do not require",
    "start": "1297110",
    "end": "1303590"
  },
  {
    "text": "you to have the same set of genes for all the records so each record might has his its unique set of bins and you may",
    "start": "1303590",
    "end": "1313370"
  },
  {
    "text": "also high respect gives you an API to iterate over all the bins within record",
    "start": "1313370",
    "end": "1318940"
  },
  {
    "text": "we also use two more features of era spike the first one is the user-defined",
    "start": "1318940",
    "end": "1324260"
  },
  {
    "text": "functions it is Lu our Lu a operations which executed atomically per record",
    "start": "1324260",
    "end": "1332140"
  },
  {
    "text": "and this user-defined functions helped us to maintain this atomic counter if",
    "start": "1332140",
    "end": "1338470"
  },
  {
    "text": "you don't use user-defined function it means that within replicas we need some locking mechanism like optimistic lock",
    "start": "1338470",
    "end": "1344620"
  },
  {
    "text": "so pessimistic looks to maintain this counter but it's easier to do it on a server side the second good fishy IR",
    "start": "1344620",
    "end": "1351370"
  },
  {
    "text": "spike that cross data center replication can be configured in a way that beans",
    "start": "1351370",
    "end": "1356950"
  },
  {
    "text": "are replicated in isolation if you have something like two bins being one being",
    "start": "1356950",
    "end": "1364480"
  },
  {
    "text": "to in some replica age and been to and been three and replicas be the result of",
    "start": "1364480",
    "end": "1369580"
  },
  {
    "text": "crosses and replication you'll be the union of all these bins which is very good concept for our design for example",
    "start": "1369580",
    "end": "1377140"
  },
  {
    "text": "if you would like to repeat it in MongoDB and your structure is something like a JSON it will be not so easy",
    "start": "1377140",
    "end": "1384400"
  },
  {
    "text": "because you actually need to build a new JSON it will be a union of all the keys",
    "start": "1384400",
    "end": "1389830"
  },
  {
    "text": "that is inside it so it helped us to maintain this causality map with Mirage",
    "start": "1389830",
    "end": "1395740"
  },
  {
    "text": "separation that I talked before so now I would like to consider one example how",
    "start": "1395740",
    "end": "1402910"
  },
  {
    "start": "1398000",
    "end": "1738000"
  },
  {
    "text": "it works I will again use flight check e in a system when you want to be choose",
    "start": "1402910",
    "end": "1409960"
  },
  {
    "text": "your seat so once online registration is open you go to the web browser and",
    "start": "1409960",
    "end": "1416170"
  },
  {
    "text": "choose a seat 12 F since there is no initial State we execute boot operation which contains",
    "start": "1416170",
    "end": "1422980"
  },
  {
    "text": "12 F and empty causality vector because there is no initial state and we create a new beam in replica a a 1 which",
    "start": "1422980",
    "end": "1430540"
  },
  {
    "text": "contains 12 F from none we successfully",
    "start": "1430540",
    "end": "1437260"
  },
  {
    "text": "performed it on database but your browser is hanging something goes wrong you don't want to lose an opportunity to",
    "start": "1437260",
    "end": "1443260"
  },
  {
    "text": "pick a right seat and you decide to go with my bio lab experiment",
    "start": "1443260",
    "end": "1450220"
  },
  {
    "text": "connects to replica B there is no initial state and replica B so you don't see any seed in your account and you",
    "start": "1450220",
    "end": "1457360"
  },
  {
    "text": "pick another seat 10 D mobile app execute boot operation with value 10 D",
    "start": "1457360",
    "end": "1462550"
  },
  {
    "text": "and nan and empty causality vector created in v1 in replica B which",
    "start": "1462550",
    "end": "1468850"
  },
  {
    "text": "contains pollutant D from nothing in this moment of time two replicas has",
    "start": "1468850",
    "end": "1475300"
  },
  {
    "text": "each for the single value each but they don't know about each other right",
    "start": "1475300",
    "end": "1481030"
  },
  {
    "text": "this is exactly eventual consistency then cross at the center replication happens and been a is replicated to",
    "start": "1481030",
    "end": "1489880"
  },
  {
    "text": "replica B & B in B 1 is replicated to replica a so now each of the replicas",
    "start": "1489880",
    "end": "1497440"
  },
  {
    "text": "has the same set of beans but none of them as causal to each other they are parallel to each other and we have",
    "start": "1497440",
    "end": "1505120"
  },
  {
    "text": "nothing to do with it then your browser come back and it says hey you",
    "start": "1505120",
    "end": "1511390"
  },
  {
    "text": "successfully choose your c12 F and it also gives back the causality",
    "start": "1511390",
    "end": "1516640"
  },
  {
    "text": "information because at that moment of time that it was only one pin a1 and your causality vector will be a1 you're",
    "start": "1516640",
    "end": "1523630"
  },
  {
    "text": "surprised something like I just picked a place than D so I want to at least verify that the system works fine and",
    "start": "1523630",
    "end": "1530530"
  },
  {
    "text": "you decided to pick a new place than F expecting that it will override everything else the true the situation",
    "start": "1530530",
    "end": "1536770"
  },
  {
    "text": "was with me this is how I come up with this example actually most of time for",
    "start": "1536770",
    "end": "1543730"
  },
  {
    "text": "this presentation I spend on what will be a good example to show this yeah and this 10 F 2 tab",
    "start": "1543730",
    "end": "1551230"
  },
  {
    "text": "aeration visit an F has a causality context a 1 and this is the moment when our charity magic happens we have you",
    "start": "1551230",
    "end": "1561790"
  },
  {
    "text": "been a to which has value than f a1 and",
    "start": "1561790",
    "end": "1567520"
  },
  {
    "text": "database understand that this causality vector a1 is greater or equal than being",
    "start": "1567520",
    "end": "1573340"
  },
  {
    "text": "a 2 that means that being a 2 is causal to a been a 1 is causal to a 2 it means",
    "start": "1573340",
    "end": "1580510"
  },
  {
    "text": "that we can drop being a 1 because it is overridden in our logic how client knew",
    "start": "1580510",
    "end": "1585610"
  },
  {
    "text": "about being a 1 he knew that I knew that there was this data value and want to",
    "start": "1585610",
    "end": "1590790"
  },
  {
    "text": "override it so like drop previous version and add new one right and you",
    "start": "1590790",
    "end": "1598419"
  },
  {
    "text": "still have d1 beam which is parallel to a 2 but a 1 is causal to a 2 that's why",
    "start": "1598419",
    "end": "1604269"
  },
  {
    "text": "we drop a 1 pin so ok you decided that you are fine and then before your flight",
    "start": "1604269",
    "end": "1610840"
  },
  {
    "text": "you go to airline representative and ask him to change your class of business he",
    "start": "1610840",
    "end": "1617919"
  },
  {
    "text": "reads your data from a replica a and at this moment of time your causality vector will be a 2 B 1 because there is",
    "start": "1617919",
    "end": "1626859"
  },
  {
    "text": "been a 2 and B 1 okay this I will skip for now and he decided to give you",
    "start": "1626859",
    "end": "1634600"
  },
  {
    "text": "another seat 5c which is business class so he performs population with context",
    "start": "1634600",
    "end": "1640840"
  },
  {
    "text": "with causality vector a 2 B 1 and it is persisted to a replica a so we created",
    "start": "1640840",
    "end": "1646239"
  },
  {
    "text": "in a 3 because this is a third operation replica a which has causality vector a 2 B 1 and C R DT magic happens again we",
    "start": "1646239",
    "end": "1655720"
  },
  {
    "text": "know that a 2 B 1 vector is greater than V 1 and is greater than a 2 that's why",
    "start": "1655720",
    "end": "1662739"
  },
  {
    "text": "we can drop this bins and we have only one single value v CA 2 B 1 so this beam",
    "start": "1662739",
    "end": "1668529"
  },
  {
    "text": "has overridden boss of them but in replica at this moment of time we still",
    "start": "1668529",
    "end": "1674350"
  },
  {
    "text": "have two bins a 1 and B 1 and then replication happens again so being a 3",
    "start": "1674350",
    "end": "1680379"
  },
  {
    "text": "is replicated to a replica be a to be with causal collector a to be 1 and even",
    "start": "1680379",
    "end": "1687220"
  },
  {
    "text": "not having a 1 in replica be at all we are able to make a simple vector",
    "start": "1687220",
    "end": "1693249"
  },
  {
    "text": "comparison saying that a 2 B 1 is greater than B 1 and a 1 it means that 8",
    "start": "1693249",
    "end": "1698440"
  },
  {
    "text": "3 definitely over eyes this 2 and we drop them so eventually you see that our",
    "start": "1698440",
    "end": "1703809"
  },
  {
    "text": "state is convergent if you will try to another operation to permit 8 it it will",
    "start": "1703809",
    "end": "1709119"
  },
  {
    "text": "be convergent also if you need one more cluster to your data to your deployment",
    "start": "1709119",
    "end": "1714460"
  },
  {
    "text": "schema you just create new dimension of your vector like c d e AE a B and you",
    "start": "1714460",
    "end": "1721960"
  },
  {
    "text": "say that as a default this is 0 that allows you actually to include new",
    "start": "1721960",
    "end": "1727599"
  },
  {
    "text": "replicas into your deployment schema and exclude them also because you can compare with empty values so",
    "start": "1727599",
    "end": "1735090"
  },
  {
    "text": "this is an example I hope it is understandable so now I would like to",
    "start": "1735090",
    "end": "1740110"
  },
  {
    "start": "1738000",
    "end": "1910000"
  },
  {
    "text": "share learnings so I started working on this project in 2016 and a little bit",
    "start": "1740110",
    "end": "1745809"
  },
  {
    "text": "more than a year ago we went to production and it works since formally",
    "start": "1745809",
    "end": "1751570"
  },
  {
    "text": "already a year so what I learned from this that Sierra tease Ariel they are",
    "start": "1751570",
    "end": "1758919"
  },
  {
    "text": "feasible this is not only academically and they definitely require you to",
    "start": "1758919",
    "end": "1764740"
  },
  {
    "text": "rethink about how your approach concurrency but it allows you to achieve conversion predictable state of our data",
    "start": "1764740",
    "end": "1771460"
  },
  {
    "text": "results transient organization across clusters the second learning is that",
    "start": "1771460",
    "end": "1777580"
  },
  {
    "text": "when you want to approach your concurrency when there is no room for",
    "start": "1777580",
    "end": "1782710"
  },
  {
    "text": "concurrent modification exception or any flow related mechanisms that allow them",
    "start": "1782710",
    "end": "1788679"
  },
  {
    "text": "to say hey hey stop this boot operation cannot be executed you don't have this this capability you need to educate",
    "start": "1788679",
    "end": "1795179"
  },
  {
    "text": "yourself about right trade-off between consistence and correctness because even",
    "start": "1795179",
    "end": "1800710"
  },
  {
    "text": "in my example some of the values and some moment of time were correct and your service might reply back saying we",
    "start": "1800710",
    "end": "1807250"
  },
  {
    "text": "are fine we set your C to 10a but eventually for consistency purpose you",
    "start": "1807250",
    "end": "1814120"
  },
  {
    "text": "might discard this data and this also have to engage your product owner to",
    "start": "1814120",
    "end": "1820870"
  },
  {
    "text": "build a right service for your domain in particular the third learning is never",
    "start": "1820870",
    "end": "1827049"
  },
  {
    "text": "underestimate concurrent data access when we started this project of course",
    "start": "1827049",
    "end": "1832480"
  },
  {
    "text": "we did some assessments regarding what is the expected rate of concurrent data operation we should face and once we",
    "start": "1832480",
    "end": "1840039"
  },
  {
    "text": "went live we recognized that this rate is much higher the problem was that this",
    "start": "1840039",
    "end": "1847470"
  },
  {
    "text": "transition to distributed deployment pattern is impacted many other teams and",
    "start": "1847470",
    "end": "1855539"
  },
  {
    "text": "some of them might misbehave some concept of how downstream dependences work or or how they handle traffic and",
    "start": "1855539",
    "end": "1862960"
  },
  {
    "text": "resemble we had a situation like message was the cute twice in both",
    "start": "1862960",
    "end": "1868090"
  },
  {
    "text": "of the data centers so what I am trying to say that usually we try not to over engineer solutions but at the same time",
    "start": "1868090",
    "end": "1875890"
  },
  {
    "text": "we designed them with an assumption of a good weather that everyone works fine data base always responds messages",
    "start": "1875890",
    "end": "1882790"
  },
  {
    "text": "always DQ'd only once which is not true which is not always true what I am",
    "start": "1882790",
    "end": "1887980"
  },
  {
    "text": "trying to say and if your solution is durable enough to handle such cases you will actually be able to help your",
    "start": "1887980",
    "end": "1894429"
  },
  {
    "text": "partners to trace their own problems and maybe I mean for the whole purpose it",
    "start": "1894429",
    "end": "1900250"
  },
  {
    "text": "will be very collaborative positive effort so this is what it was my",
    "start": "1900250",
    "end": "1906880"
  },
  {
    "text": "learning now I would like to share some carrots about this design so the first",
    "start": "1906880",
    "end": "1913120"
  },
  {
    "start": "1910000",
    "end": "1992000"
  },
  {
    "text": "one is causality vector propagation so we need to pass back causality vectors",
    "start": "1913120",
    "end": "1920080"
  },
  {
    "text": "during create operation and receive it to for right operation the question is how far should we propagate this",
    "start": "1920080",
    "end": "1926320"
  },
  {
    "text": "causality vector and the answer is till the moment of making decision because",
    "start": "1926320",
    "end": "1931660"
  },
  {
    "text": "concurrency happens not only across threads concurrency happens in man",
    "start": "1931660",
    "end": "1938410"
  },
  {
    "text": "behavior right human behavior example you want to book a hotel and you see that this hotel is still available once",
    "start": "1938410",
    "end": "1944350"
  },
  {
    "text": "you call your wife is at hotel okay and it is not longer available this is a concurrency right and sometimes you have",
    "start": "1944350",
    "end": "1950860"
  },
  {
    "text": "a customer facing application which shows some data to customers or users",
    "start": "1950860",
    "end": "1957370"
  },
  {
    "text": "and you don't know how long they will hang this browser session and when they",
    "start": "1957370",
    "end": "1962380"
  },
  {
    "text": "will change something so you need to propagate causality vector as far as you",
    "start": "1962380",
    "end": "1968140"
  },
  {
    "text": "can if you have some bad decision engine that it's easy for customer facing",
    "start": "1968140",
    "end": "1974770"
  },
  {
    "text": "components you need to cash it at least at a browser session but what I'm trying to say that you might think in about hey",
    "start": "1974770",
    "end": "1981910"
  },
  {
    "text": "let's cache it somewhere in the middle in this case you will not handle your entire concurrency you will handle only",
    "start": "1981910",
    "end": "1987250"
  },
  {
    "text": "some portion of your concurrency which related to only this flow the second",
    "start": "1987250",
    "end": "1993700"
  },
  {
    "start": "1992000",
    "end": "2063000"
  },
  {
    "text": "sibling is the second period I'm sorry is siblings explosion so you might mention that if you do not",
    "start": "1993700",
    "end": "2000090"
  },
  {
    "text": "provide causality vector for my boot operations every value goes as a new one",
    "start": "2000090",
    "end": "2005280"
  },
  {
    "text": "and it this map grows and which will be dangerous for your performance so this",
    "start": "2005280",
    "end": "2014130"
  },
  {
    "text": "situation is definitely not good and if you face it in your scenarios you maybe",
    "start": "2014130",
    "end": "2021120"
  },
  {
    "text": "need to rethink about what is concurrent for you because if you have something like hard overwrite of something this is",
    "start": "2021120",
    "end": "2027720"
  },
  {
    "text": "not a concurrent operation you just harder the right you don't care what was was a previous state right but to save",
    "start": "2027720",
    "end": "2033630"
  },
  {
    "text": "yourself from further problems from something a snowball of these problems we introduced some constraint limiting",
    "start": "2033630",
    "end": "2041640"
  },
  {
    "text": "the size of this map and we prune it something like least edit records if the",
    "start": "2041640",
    "end": "2047910"
  },
  {
    "text": "size of this map goes beyond some number of course this is a very how does a",
    "start": "2047910",
    "end": "2053490"
  },
  {
    "text": "rough dated I was a discard of some data",
    "start": "2053490",
    "end": "2058560"
  },
  {
    "text": "but it can save your performance eventually the third one is siblings so",
    "start": "2058560",
    "end": "2066179"
  },
  {
    "start": "2063000",
    "end": "2222000"
  },
  {
    "text": "this is an interesting thing that siblings and eventual consistent with eventually concedes consistency is a",
    "start": "2066179",
    "end": "2072780"
  },
  {
    "text": "natural thing when one replicas price was date and as a replica price was another data and there's value second",
    "start": "2072780",
    "end": "2079169"
  },
  {
    "text": "current you might actually see siblings even in within one data center the",
    "start": "2079169",
    "end": "2084720"
  },
  {
    "text": "problem is how to handle them ideally it should be some collaboration decision",
    "start": "2084720",
    "end": "2094560"
  },
  {
    "text": "with products also because this appearance of these siblings is probably",
    "start": "2094560",
    "end": "2102000"
  },
  {
    "text": "a leaks in your some data access patterns and they might require your",
    "start": "2102000",
    "end": "2107790"
  },
  {
    "text": "attention for example ones like customer is not happy he tried mobile app and web",
    "start": "2107790",
    "end": "2113160"
  },
  {
    "text": "application and this creates objective to you is elated parallel records but if",
    "start": "2113160",
    "end": "2120150"
  },
  {
    "text": "you have a huge technical landscape of course all of your clients will not be happy is that suddenly all the values",
    "start": "2120150",
    "end": "2125970"
  },
  {
    "text": "becomes lists yeah and what should we do that so what we did",
    "start": "2125970",
    "end": "2131400"
  },
  {
    "text": "introduced another I'm sorry another CR DT on top of this list which",
    "start": "2131400",
    "end": "2139079"
  },
  {
    "text": "is much simpler like monotonic type Oracle reconciliation something like we",
    "start": "2139079",
    "end": "2145349"
  },
  {
    "text": "have a strict gradation of what are the value that we prefer and all these lists",
    "start": "2145349",
    "end": "2152369"
  },
  {
    "text": "are collapsed on in our platform and customer CLC only color values okay",
    "start": "2152369",
    "end": "2161520"
  },
  {
    "text": "thank you this is all what I wanted to say it seems like I am a little bit earlier",
    "start": "2161520",
    "end": "2167240"
  },
  {
    "text": "yeah thank you all for listening and I",
    "start": "2167240",
    "end": "2174839"
  },
  {
    "text": "will be happy to answer your questions okay if you have questions if you could",
    "start": "2174839",
    "end": "2180089"
  },
  {
    "text": "please line up by that whoa or the other wall and then we'll just pass along the",
    "start": "2180089",
    "end": "2186210"
  },
  {
    "text": "mic thank you so can you go back to",
    "start": "2186210",
    "end": "2194160"
  },
  {
    "text": "slides which one next one next that one",
    "start": "2194160",
    "end": "2200730"
  },
  {
    "text": "yes so and if I guess I guess but I",
    "start": "2200730",
    "end": "2206849"
  },
  {
    "text": "don't quite understand as if a 1 is 10 a and B 1 is 10 a right both have no",
    "start": "2206849",
    "end": "2213390"
  },
  {
    "text": "causality how is the conflict resolved if they are not causal to each other",
    "start": "2213390",
    "end": "2220230"
  },
  {
    "text": "right this is exactly the sibling situation right when you have a conflict values",
    "start": "2220230",
    "end": "2226339"
  },
  {
    "start": "2222000",
    "end": "2349000"
  },
  {
    "text": "this is 1 right these are the same links so these two values B 1 and a 2 they are",
    "start": "2226339",
    "end": "2233819"
  },
  {
    "text": "not causal any of them not causal to each other and we keep them boss right and this is exactly what I am trying to",
    "start": "2233819",
    "end": "2239490"
  },
  {
    "text": "say so you can introduce one see a treaty on top of what you have like last",
    "start": "2239490",
    "end": "2245640"
  },
  {
    "text": "right beam for example but as I said this is compromise to satisfy your",
    "start": "2245640",
    "end": "2251760"
  },
  {
    "text": "clients which want you IPI looks like a scholar value for this color value in",
    "start": "2251760",
    "end": "2258089"
  },
  {
    "text": "this understanding but if you floss is designed in a way that they produce",
    "start": "2258089",
    "end": "2264500"
  },
  {
    "text": "you have to address it somehow right you have to address it so so if if the fifth",
    "start": "2264500",
    "end": "2272790"
  },
  {
    "text": "s the third one in the middle at the bottom if b1 was ten F right well no",
    "start": "2272790",
    "end": "2278640"
  },
  {
    "text": "cause Elavon v1 is dundee yes if it was 10 F yes and and you got to the third",
    "start": "2278640",
    "end": "2287130"
  },
  {
    "text": "step where B 1 is 10 F and a 2 is 10 F how are we resolved either how do we",
    "start": "2287130",
    "end": "2295500"
  },
  {
    "text": "resolve that they're both the same value right I think I guess what I don't quite get is we started you started by saying",
    "start": "2295500",
    "end": "2301740"
  },
  {
    "text": "that this is a way to beat cap right right but then you've also said a and B",
    "start": "2301740",
    "end": "2308310"
  },
  {
    "text": "are not consistent I'm saying that a and B are parallel to each other right if we",
    "start": "2308310",
    "end": "2315300"
  },
  {
    "text": "think about this two bins they are parallel to each other so the Niva but they're never the same",
    "start": "2315300",
    "end": "2320430"
  },
  {
    "text": "value oh sorry there is a delay between a and B being the same values I'm sorry",
    "start": "2320430",
    "end": "2328110"
  },
  {
    "text": "I didn't get maybe we can discuss yeah yeah afterwards",
    "start": "2328110",
    "end": "2333410"
  },
  {
    "text": "um for those of us who are less inclined to implement this from scratch are there",
    "start": "2348780",
    "end": "2354430"
  },
  {
    "start": "2349000",
    "end": "2419000"
  },
  {
    "text": "any libraries or things that you know of that have implemented these for just this is a good question actually so you",
    "start": "2354430",
    "end": "2361270"
  },
  {
    "text": "can look at react react database has something like open sourced some part of",
    "start": "2361270",
    "end": "2367240"
  },
  {
    "text": "their code that has the library supporting charities you can also type",
    "start": "2367240",
    "end": "2372700"
  },
  {
    "text": "something like celdt and github and you will see a couple of implementations for example this exact implementation was",
    "start": "2372700",
    "end": "2379990"
  },
  {
    "text": "inspired by daughter version reactant implementation for air lonk yeah and you",
    "start": "2379990",
    "end": "2385540"
  },
  {
    "text": "might reuse it in some way I would say but I would say that our design is a",
    "start": "2385540",
    "end": "2394050"
  },
  {
    "text": "little bit more sophisticated and it relies on that for example iris pie capabilities so for your situation it",
    "start": "2394050",
    "end": "2400630"
  },
  {
    "text": "might require some more work around on some downstream layers you also can look at akkad distributed data they",
    "start": "2400630",
    "end": "2407320"
  },
  {
    "text": "definitely use critically the same approach but they also how to say you",
    "start": "2407320",
    "end": "2412450"
  },
  {
    "text": "have this constraints of how a cluster actually works thank you thanks for your",
    "start": "2412450",
    "end": "2420040"
  },
  {
    "text": "talk did you keep causality vectors for multiple dimensions or for the entire",
    "start": "2420040",
    "end": "2426460"
  },
  {
    "text": "record that you were keeping this is a good question so if you think about that",
    "start": "2426460",
    "end": "2432670"
  },
  {
    "text": "we have a multiple values right you need to define what is autonomous is that you",
    "start": "2432670",
    "end": "2438940"
  },
  {
    "text": "want to achieve in key value data store so this example is about exactly the",
    "start": "2438940",
    "end": "2445810"
  },
  {
    "text": "same value in different data stores right this example doesn't cover when I",
    "start": "2445810",
    "end": "2451090"
  },
  {
    "text": "have two different values by like maintained by do different macro services and they need to be consistent",
    "start": "2451090",
    "end": "2457660"
  },
  {
    "text": "across each other this is not this talk is not about this this transactionality",
    "start": "2457660",
    "end": "2462960"
  },
  {
    "text": "across different keys is a separate thing how you touch it but if you are in",
    "start": "2462960",
    "end": "2471550"
  },
  {
    "text": "document oriented I know that some companies I do documentary end up persistence when you just have a entire",
    "start": "2471550",
    "end": "2478060"
  },
  {
    "text": "snapshot of what's going on in your system and this is one wing sorry just to follow up so what",
    "start": "2478060",
    "end": "2483900"
  },
  {
    "text": "I'm asking is like if your record has a status enumerated status value you can",
    "start": "2483900",
    "end": "2489779"
  },
  {
    "text": "keep a causality vector for the status changes across different data centers but what if you also want to keep track of date like a date and a status to",
    "start": "2489779",
    "end": "2498210"
  },
  {
    "text": "different columns yeah but you're right so when you think about this dandy right",
    "start": "2498210",
    "end": "2505289"
  },
  {
    "text": "for example this is justice Scalla rail in our example this is actually a JSON",
    "start": "2505289",
    "end": "2511470"
  },
  {
    "text": "object itself and and it has for example actor status itself date of modification",
    "start": "2511470",
    "end": "2519180"
  },
  {
    "text": "and a lot of other information that is business-related and this reconciliation",
    "start": "2519180",
    "end": "2524569"
  },
  {
    "text": "right for example this 10 D 10 F right it's",
    "start": "2524569",
    "end": "2530029"
  },
  {
    "text": "seems not reasonable for this example but if you think that this is not just",
    "start": "2530029",
    "end": "2535200"
  },
  {
    "text": "an D this is 10 D modified from a by accession and so on and suppose you can say for example my bio session is always",
    "start": "2535200",
    "end": "2541920"
  },
  {
    "text": "more priority that browser session right and you can resolve it in such a way for example so yeah there is also timestamps",
    "start": "2541920",
    "end": "2549779"
  },
  {
    "text": "and you can operate with them I only want to say that if you will use time stand to resolve these parts you might",
    "start": "2549779",
    "end": "2556739"
  },
  {
    "text": "face a situation when for example your data center works in isolation and a lot of things happen in outside it and once",
    "start": "2556739",
    "end": "2564239"
  },
  {
    "text": "connection is again established last just your VIN but who knows which of",
    "start": "2564239",
    "end": "2570390"
  },
  {
    "text": "this data center is a correct one right also time stamp is a very tricky thing",
    "start": "2570390",
    "end": "2575700"
  },
  {
    "text": "because for example I face like weeklies of like clock skew problems and if you",
    "start": "2575700",
    "end": "2582809"
  },
  {
    "text": "work in large enterprises again this is a philosophical question right a lot of",
    "start": "2582809",
    "end": "2588019"
  },
  {
    "text": "people realize saying that time is always correct it's not true and if you ever if your girl sounds like few",
    "start": "2588019",
    "end": "2594660"
  },
  {
    "text": "hundred thousands of different machines time is not always the same so yeah that's why time stamp is a very flaky",
    "start": "2594660",
    "end": "2601349"
  },
  {
    "text": "foundation to make a decision",
    "start": "2601349",
    "end": "2604609"
  },
  {
    "text": "yes great Doug Demetri one question may be somewhat naive and you might have just answered it in your previous answer",
    "start": "2606590",
    "end": "2612800"
  },
  {
    "start": "2607000",
    "end": "3061000"
  },
  {
    "text": "but so in this example what happens if the back passenger never talks to a gate",
    "start": "2612800",
    "end": "2618380"
  },
  {
    "text": "agent so they've just done the check-in through the through the mobile and through the browser and then they showed",
    "start": "2618380",
    "end": "2625040"
  },
  {
    "text": "up to pour their flight are they gonna get 10d or they yeah this is a great this is a great question so as I said",
    "start": "2625040",
    "end": "2630680"
  },
  {
    "text": "that your clients has to want to have once colourway right and for your",
    "start": "2630680",
    "end": "2636410"
  },
  {
    "text": "business purposes you want to resolve it right at the same time you might have a business logic that airlines themselves",
    "start": "2636410",
    "end": "2643190"
  },
  {
    "text": "call to customer saying hey guys we see that your chicken is not something like",
    "start": "2643190",
    "end": "2648640"
  },
  {
    "text": "malformed or something like that we want to get to get to get resolved somehow and this will be customer care how to",
    "start": "2648640",
    "end": "2656720"
  },
  {
    "text": "say action right so but at the same time you might say okay last Vince so this is",
    "start": "2656720",
    "end": "2662840"
  },
  {
    "text": "the last one then air for the last one VIN so this is another are tagging of",
    "start": "2662840",
    "end": "2669290"
  },
  {
    "text": "dimension of decision this is like a product called VI infrastructure person's platform team we want our",
    "start": "2669290",
    "end": "2675350"
  },
  {
    "text": "values to evolve in a convergent way right but when concurrency heaven",
    "start": "2675350",
    "end": "2680660"
  },
  {
    "text": "actually I mean if you think about the stack of multiple micro services and",
    "start": "2680660",
    "end": "2686240"
  },
  {
    "text": "something like that right and in some micro service you have concurrent quantification exception you actually",
    "start": "2686240",
    "end": "2692270"
  },
  {
    "text": "need to propagate this problem to everybody else and they need to somehow so it only depends on when you resolve",
    "start": "2692270",
    "end": "2698390"
  },
  {
    "text": "it right because even in synchronized system one of your micro services which is in charge for seed selection says",
    "start": "2698390",
    "end": "2704990"
  },
  {
    "text": "concurrent modification exception you already sent an email saying that you're successful easy and and so on right so",
    "start": "2704990",
    "end": "2711050"
  },
  {
    "text": "this is only the way this is only the point of time when you resolve this problem so basically the idea is that",
    "start": "2711050",
    "end": "2716690"
  },
  {
    "text": "the system will provide you with all the possible variants and then it's up to",
    "start": "2716690",
    "end": "2721700"
  },
  {
    "text": "your business logic to decide and when how to go about reconciling it exactly",
    "start": "2721700",
    "end": "2726890"
  },
  {
    "text": "thank you hi this is a great presentation and I have a small doubt",
    "start": "2726890",
    "end": "2734240"
  },
  {
    "text": "here like here we are talking about two different persons in two different countries",
    "start": "2734240",
    "end": "2739720"
  },
  {
    "text": "in two different seats right in this particular example but let's say have a person in North America selecting 12a",
    "start": "2739720",
    "end": "2748030"
  },
  {
    "text": "and somebody in Africa selecting the same 12a and then both of them are in",
    "start": "2748030",
    "end": "2753580"
  },
  {
    "text": "different continents and both of them will have their transaction done and when the replication happens even if you",
    "start": "2753580",
    "end": "2759460"
  },
  {
    "text": "merge it there will be yeah you're right and the same happens when you for example order something from your",
    "start": "2759460",
    "end": "2766150"
  },
  {
    "text": "favorite marketplace and they call it afterwards and say are we out of stock right so what I'm trying to say that the",
    "start": "2766150",
    "end": "2775530"
  },
  {
    "text": "concurrent access to some data point is not a trivial problem and your rights to",
    "start": "2775530",
    "end": "2782380"
  },
  {
    "text": "the same person one person in replica a might book the same seed which is booked in replica B but you at least you have",
    "start": "2782380",
    "end": "2790060"
  },
  {
    "text": "the rule of the set of deterministic rules which can tell you why it happened",
    "start": "2790060",
    "end": "2797460"
  },
  {
    "text": "roughly speaking right it is not something like because of the replication so you might work around it",
    "start": "2797460",
    "end": "2803500"
  },
  {
    "text": "later on when after replication happens and share that do I have any concurrent",
    "start": "2803500",
    "end": "2808780"
  },
  {
    "text": "situation or something like that because otherwise otherwise for example in this",
    "start": "2808780",
    "end": "2814900"
  },
  {
    "text": "when replication happens here right this is just one value of your lava right another right this is what what happens in a classical",
    "start": "2814900",
    "end": "2822910"
  },
  {
    "text": "database if you use Golden Gate or any other replication solution this is just one one of the spell you will overwrite",
    "start": "2822910",
    "end": "2828910"
  },
  {
    "text": "another depending on some time stamp failure I mean this is the same problem no I think since it's an Ireland it",
    "start": "2828910",
    "end": "2836980"
  },
  {
    "text": "might be fine we can resolve it later let's take the concept of a prepaid violet right I have $100 in my in my",
    "start": "2836980",
    "end": "2844480"
  },
  {
    "text": "wallet and I make two transactions from two different countries from two different websites in that case how",
    "start": "2844480",
    "end": "2850330"
  },
  {
    "text": "would you justify this yeah that's I understand this is another problem so this is no salt here because this is",
    "start": "2850330",
    "end": "2857770"
  },
  {
    "text": "convergence and it is right actually what I talking about is better fit for commutative charities when you have some",
    "start": "2857770",
    "end": "2864280"
  },
  {
    "text": "evolution of value which is commutative and associative but this is also one of the problems that we have and",
    "start": "2864280",
    "end": "2870590"
  },
  {
    "text": "yeah this is this is doesn't touch such things any-any you want to talk about",
    "start": "2870590",
    "end": "2876710"
  },
  {
    "text": "how it was solved like I also ended up in similar problems I would say that you",
    "start": "2876710",
    "end": "2882470"
  },
  {
    "text": "can maintain this counters differently in each replica for example you will",
    "start": "2882470",
    "end": "2887870"
  },
  {
    "text": "have your evolution of subtract add balance in replica a subtract add",
    "start": "2887870",
    "end": "2894890"
  },
  {
    "text": "balance and replica B and of course you will have some deviation and possibility that you will go beyond your limit for",
    "start": "2894890",
    "end": "2900920"
  },
  {
    "text": "example I mean III for today I don't see any way to prevent this one hand some",
    "start": "2900920",
    "end": "2908270"
  },
  {
    "text": "confidence okay thank you Hey so I guess in my organization we've",
    "start": "2908270",
    "end": "2916400"
  },
  {
    "text": "worked a little bit with react yeah we ran into this problem which I guess I don't know if you really kind of uh",
    "start": "2916400",
    "end": "2922880"
  },
  {
    "text": "skimmed over it but like the operations need to be idempotent all right so that a lot of operations are not important",
    "start": "2922880",
    "end": "2928340"
  },
  {
    "text": "like let's say like the wallet example all right incrementing a counter or something like that is that just you say",
    "start": "2928340",
    "end": "2936950"
  },
  {
    "text": "okay that's a problem in fruss truckers there that's a problem for the engineers and the product team or this is this is",
    "start": "2936950",
    "end": "2944300"
  },
  {
    "text": "the same extra question that was asked before right because this reconciliation has to be an important right this one",
    "start": "2944300",
    "end": "2951200"
  },
  {
    "text": "because if you have for example can be an asset ND and as attendee and TANF you",
    "start": "2951200",
    "end": "2956600"
  },
  {
    "text": "have to resolve it in a way that all the ten D will be collapse together this is a really great importance right no",
    "start": "2956600",
    "end": "2962120"
  },
  {
    "text": "matter how many times first of all this is a convergence relative and you deal this state and not deal with transition",
    "start": "2962120",
    "end": "2967940"
  },
  {
    "text": "and for state in importance is not so difficult I would say because for",
    "start": "2967940",
    "end": "2974120"
  },
  {
    "text": "example if you want to say that my status is completed right no matter how",
    "start": "2974120",
    "end": "2979700"
  },
  {
    "text": "many times you will say your potatoes is completed it will be completed right if you have a parallel that you say this is",
    "start": "2979700",
    "end": "2985580"
  },
  {
    "text": "completed and you say this is failed and forgot will you seen that failed is has more priority than completed it also",
    "start": "2985580",
    "end": "2992420"
  },
  {
    "text": "doesn't matter how many times failed and complete accurate in your logic right so for us it importance is not a big deal",
    "start": "2992420",
    "end": "2999890"
  },
  {
    "text": "but I understand that for commutative when you operate with transactions for",
    "start": "2999890",
    "end": "3006310"
  },
  {
    "text": "example exactly right this is was this like that says it for cumulative CRD tu",
    "start": "3006310",
    "end": "3015119"
  },
  {
    "text": "for this one right it importance is not required but it's required to exactly once delivery so this is an AZ approach",
    "start": "3015119",
    "end": "3022020"
  },
  {
    "text": "exactly one deliveries we can talk a little bit about it so the problem is that you need to define the scope and",
    "start": "3022020",
    "end": "3029350"
  },
  {
    "text": "exactly one delivery is guaranteed it might be son your runtime it might be",
    "start": "3029350",
    "end": "3034359"
  },
  {
    "text": "your cluster it might be something like till the restart of your system or something like that because you can use",
    "start": "3034359",
    "end": "3039700"
  },
  {
    "text": "GUI D for example for operations right and if you have already some oppression this is your ID it means that this is",
    "start": "3039700",
    "end": "3045390"
  },
  {
    "text": "the another operation and you just keep it saying that it was delivered at already sorry yeah thanks very much",
    "start": "3045390",
    "end": "3055630"
  },
  {
    "text": "mitri everyone give it up [Applause]",
    "start": "3055630",
    "end": "3062520"
  }
]