[
  {
    "start": "0",
    "end": "139000"
  },
  {
    "text": "[Music]",
    "start": "0",
    "end": "15829"
  },
  {
    "text": "[Music]",
    "start": "17940",
    "end": "21039"
  },
  {
    "text": "so I'm a fairly recent uh hire at Wikimedia Foundation I've been working for them for about six seven months now",
    "start": "23480",
    "end": "29800"
  },
  {
    "text": "and a full-time employee and maybe a contractor before that you know for about a year but I've been volunteering",
    "start": "29800",
    "end": "35079"
  },
  {
    "text": "with them for the past six years or so and at my last organization I used the",
    "start": "35079",
    "end": "42440"
  },
  {
    "text": "information from the Wikipedia Foundation to architect the uh the site",
    "start": "42440",
    "end": "47800"
  },
  {
    "text": "that I was doing there as well because the documentation that's put out by Wikipedia foundation and the Ops",
    "start": "47800",
    "end": "54559"
  },
  {
    "text": "engineers and the developers is really good and it's really useful to building a very large scale um website that's",
    "start": "54559",
    "end": "61719"
  },
  {
    "text": "mostly read optimized these are the topics I'm going",
    "start": "61719",
    "end": "67360"
  },
  {
    "text": "to cover uh and I have to apologize because I kind of crammed three talks into one and they're all really long",
    "start": "67360",
    "end": "73920"
  },
  {
    "text": "talks so the I may not actually get through all of this and even if I do it might be rushed and or I might go over",
    "start": "73920",
    "end": "81360"
  },
  {
    "text": "time so a little upfront information um the",
    "start": "81360",
    "end": "86720"
  },
  {
    "text": "these are the top five web presences in the world we're number",
    "start": "86720",
    "end": "92040"
  },
  {
    "text": "five in comparison for users if you notice we're very similar in the number",
    "start": "92040",
    "end": "97320"
  },
  {
    "text": "of users that we have on on our sites but for every other comparison we're",
    "start": "97320",
    "end": "103119"
  },
  {
    "text": "dramatically smaller our revenue is much much smaller the number of employees we have is much smaller and the number of",
    "start": "103119",
    "end": "108759"
  },
  {
    "text": "servers that we have is dramatically smaller and the number of employees that we have mentioned here is not operations",
    "start": "108759",
    "end": "115000"
  },
  {
    "text": "Engineers this is all of our employees of course these numbers are",
    "start": "115000",
    "end": "120280"
  },
  {
    "text": "mostly a guess in some ways because not all of these companies actually publish all of this information but it's a",
    "start": "120280",
    "end": "127880"
  },
  {
    "text": "fairly decent estimated guess our operations themselves were",
    "start": "127880",
    "end": "135480"
  },
  {
    "text": "currently uh managed by about six operations Engineers that includes volunteers we have a couple two or three",
    "start": "135480",
    "end": "141680"
  },
  {
    "start": "139000",
    "end": "139000"
  },
  {
    "text": "volunteers that work on our sites which of course they're not full-time they're volunteers so because of this",
    "start": "141680",
    "end": "150000"
  },
  {
    "text": "historically we've been operating in a very ad hoc firefighting kind of mode something's always breaking the traffic",
    "start": "150000",
    "end": "155599"
  },
  {
    "text": "on our sites is continuously increasing and historically the traffic was exponential so we always had something",
    "start": "155599",
    "end": "162840"
  },
  {
    "text": "breaking we always had to do very clever hacks to to make the site work while the traffic was increasing by so much with",
    "start": "162840",
    "end": "169239"
  },
  {
    "text": "so little resources and and um essentially no money and no",
    "start": "169239",
    "end": "174959"
  },
  {
    "text": "Manpower so our technical staff all the six of us were across the entire world",
    "start": "174959",
    "end": "181480"
  },
  {
    "text": "we have um three people currently in the United States one of which is moving to Germany soon we have someone in the we",
    "start": "181480",
    "end": "187319"
  },
  {
    "text": "have someone in Amsterdam and we have someone in uh another person in Germany",
    "start": "187319",
    "end": "192519"
  },
  {
    "text": "we have someone in Australia this means that there's always someone awake but there's never anyone",
    "start": "192519",
    "end": "198959"
  },
  {
    "text": "on call because we simply don't have enough people to have an on call",
    "start": "198959",
    "end": "204400"
  },
  {
    "text": "list this is problematic especially because the person that's awake NE isn't",
    "start": "204799",
    "end": "210560"
  },
  {
    "text": "necessarily the person knows how to solve the problem so the way that things often work is when a problem occurs we",
    "start": "210560",
    "end": "216319"
  },
  {
    "text": "all wake up we all get called in so there's a couple ways we're hoping to solve this first of all we're hiring if",
    "start": "216319",
    "end": "222799"
  },
  {
    "text": "anyone's looking for a job and has qualified skills and the other way is by",
    "start": "222799",
    "end": "228480"
  },
  {
    "text": "trying to get more volunteers to do operations engineering work this of course is difficult because it's hard",
    "start": "228480",
    "end": "234560"
  },
  {
    "text": "for us to give root out on our systems to volunteers but historically we have",
    "start": "234560",
    "end": "239840"
  },
  {
    "text": "so it's not NE it's we're not necessarily saying it can't happen but",
    "start": "239840",
    "end": "245319"
  },
  {
    "text": "later I'm going to talk about one way that I hope to be able to have more volunteer uh contributors without",
    "start": "245319",
    "end": "253000"
  },
  {
    "text": "necessarily giving out root we communicate generally on IRC for",
    "start": "253000",
    "end": "258840"
  },
  {
    "start": "257000",
    "end": "257000"
  },
  {
    "text": "almost all of our Communications this works out fairly well um what the rest",
    "start": "258840",
    "end": "263880"
  },
  {
    "text": "of our community uses including editors um developers both staff and um",
    "start": "263880",
    "end": "269800"
  },
  {
    "text": "community members and even though we're very geographically dispersed IRC Works in in",
    "start": "269800",
    "end": "276320"
  },
  {
    "text": "such a way where we can ping someone and they can ping us back later they can go",
    "start": "276320",
    "end": "281600"
  },
  {
    "text": "look at the logs of the public channels they can leave their client up and running so they can read the scroll back and such it's a fairly efficient way of",
    "start": "281600",
    "end": "288880"
  },
  {
    "text": "communication all of our documentation is on a public Wiki for at least at minimum our operations work we have a",
    "start": "288880",
    "end": "297280"
  },
  {
    "text": "documentation for the software in another site um but unfortunately we can't put all of",
    "start": "297280",
    "end": "303080"
  },
  {
    "text": "our Communications out in the public we have some stuff that's that's sensitive and just can't be shared like vendor quotes for instance or uh",
    "start": "303080",
    "end": "309759"
  },
  {
    "text": "vulnerabilities and such so we have we do have a few private lists and um resource trackers over time we're trying",
    "start": "309759",
    "end": "317120"
  },
  {
    "text": "to open up more of these things that we have so that we can document more stuff in the public and keep the private stuff",
    "start": "317120",
    "end": "323919"
  },
  {
    "text": "limited to a very subset of the private things so the architecture that we're",
    "start": "323919",
    "end": "331000"
  },
  {
    "text": "using is basically a lamp stack for all intents and purposes that's all it",
    "start": "331000",
    "end": "337000"
  },
  {
    "text": "is but since we've had such historic um",
    "start": "337000",
    "end": "342800"
  },
  {
    "start": "341000",
    "end": "341000"
  },
  {
    "text": "exponential growth on our sites we have a number of clever hacks around this lamp stack to make it work more",
    "start": "342800",
    "end": "348160"
  },
  {
    "text": "efficiently to make it very scalable so this is our current",
    "start": "348160",
    "end": "353560"
  },
  {
    "text": "architecture and it's missing a few things like it's missing mobile it's missing our PDF servers and a few other",
    "start": "353560",
    "end": "358840"
  },
  {
    "text": "things I haven't had time to update the slides in a while but this is basically how our architecture works so the",
    "start": "358840",
    "end": "365759"
  },
  {
    "text": "diagram is slightly complicated so I'm going to go through each one of the pieces individually the first one that we're",
    "start": "365759",
    "end": "371639"
  },
  {
    "text": "going to look at is the core of our application and our application servers it's media Wiki",
    "start": "371639",
    "end": "377599"
  },
  {
    "text": "PHP with uh a Lin running Linux",
    "start": "377599",
    "end": "383039"
  },
  {
    "text": "so this software of course is Media Wiki this runs all of our production",
    "start": "383039",
    "end": "388280"
  },
  {
    "start": "387000",
    "end": "387000"
  },
  {
    "text": "sites so even though all of the sites are running this software that doesn't necessarily mean they work the same way",
    "start": "388280",
    "end": "395039"
  },
  {
    "text": "we have a very large number of extensions so each different project has a different subset of extensions",
    "start": "395039",
    "end": "401360"
  },
  {
    "text": "installed and by doing so they they can act in dramatically different ways this is especially true for third party sites",
    "start": "401360",
    "end": "407960"
  },
  {
    "text": "that may act totally different differently than the way our sites work the software is developed primarily",
    "start": "407960",
    "end": "414120"
  },
  {
    "text": "for our sites but like I said it's used by a large number of third party sites we have a very large um open source",
    "start": "414120",
    "end": "420840"
  },
  {
    "text": "Community around this the software is of course PHP it's uh",
    "start": "420840",
    "end": "426199"
  },
  {
    "text": "GPL and the software is very scalable and very localizable so it not only can",
    "start": "426199",
    "end": "431720"
  },
  {
    "text": "be used by by anyone but it can use it can be used by anyone in most countries our localization has about we have",
    "start": "431720",
    "end": "438680"
  },
  {
    "text": "support for roughly 300 languages or",
    "start": "438680",
    "end": "443400"
  },
  {
    "text": "so so since we run this on such a large site we have to to take optimizations",
    "start": "445199",
    "end": "451120"
  },
  {
    "text": "and um we have to optimize quite a bit the main ways that we optimize mediawiki",
    "start": "451120",
    "end": "456560"
  },
  {
    "start": "456000",
    "end": "456000"
  },
  {
    "text": "first of all is caching if it can be cached if it is more expensive to",
    "start": "456560",
    "end": "462280"
  },
  {
    "text": "regenerate than it is to cash we cash it secondly we do a lot of profiling and",
    "start": "462280",
    "end": "469240"
  },
  {
    "text": "by looking at the hotpots in our code we know what to optimize and of course if there's a",
    "start": "469240",
    "end": "475759"
  },
  {
    "text": "feature that's too expensive it doesn't get enabled now when I say that I say it Loosely because if it's too",
    "start": "475759",
    "end": "482759"
  },
  {
    "text": "expensive to be run on English Wikipedia for instance it doesn't get enabled there but there's a possibility that we may enable it on a smaller project for",
    "start": "482759",
    "end": "490120"
  },
  {
    "text": "all languages or we may install it on a specific language that has a smaller number of readers and",
    "start": "490120",
    "end": "498039"
  },
  {
    "text": "editors so for caching mediawiki has caches everywhere",
    "start": "498159",
    "end": "503879"
  },
  {
    "text": "we have caches for metadata like image metadata we have it for uh user information in their sessions we have it",
    "start": "503879",
    "end": "509240"
  },
  {
    "start": "505000",
    "end": "505000"
  },
  {
    "text": "for our parser cache we have it for um revision text we have it for all of our",
    "start": "509240",
    "end": "514440"
  },
  {
    "text": "localized messages most of this data is kept in",
    "start": "514440",
    "end": "520240"
  },
  {
    "text": "mcash which I'm sure a lot of people are fairly familiar with mcash but it's it's simply just a key store pretty much it",
    "start": "520240",
    "end": "526880"
  },
  {
    "text": "has very basic operations like Get Set modify for op code caching we're using",
    "start": "526880",
    "end": "534120"
  },
  {
    "text": "APC so that we don't have to reinterpret the PHP every single time we run it",
    "start": "534120",
    "end": "541240"
  },
  {
    "text": "and so actually one thing we were using mcash for our parser cash and we still",
    "start": "541240",
    "end": "546279"
  },
  {
    "text": "currently are but uh when we upgraded from media Wiki 1.16 to 1.17 recently",
    "start": "546279",
    "end": "552320"
  },
  {
    "text": "we've noticed that the parure cache is having a problem in memory the objects",
    "start": "552320",
    "end": "557519"
  },
  {
    "text": "are too large and so not very much of the parser cache is staying in memory so the hit rate is starting to get fairly",
    "start": "557519",
    "end": "564440"
  },
  {
    "text": "low in that cache so um one of our developers Tim Starling has been working on a solution to take the parser cache",
    "start": "564440",
    "end": "571760"
  },
  {
    "text": "out of mcash and to stick it into ecash which is an on disk caching system and",
    "start": "571760",
    "end": "578560"
  },
  {
    "text": "by doing so we'll be able to have more cash for the parser cach but also have a larger amount of data that can be",
    "start": "578560",
    "end": "586519"
  },
  {
    "text": "stored what we noticed is that the Onis cache is slower of course than in memory",
    "start": "586519",
    "end": "593120"
  },
  {
    "text": "but the amount of time that it takes to regenerate what's the what the parser is doing is dramatically higher than what's",
    "start": "593120",
    "end": "599560"
  },
  {
    "text": "on disk so even though we're losing a little lat a little speed like from latency on going from disk it's still a",
    "start": "599560",
    "end": "607519"
  },
  {
    "text": "much larger gain because we can keep more in the cash and we have more that's",
    "start": "607519",
    "end": "613560"
  },
  {
    "text": "accessible so from the profiling point of view mediawiki has a really great",
    "start": "614399",
    "end": "619560"
  },
  {
    "start": "618000",
    "end": "618000"
  },
  {
    "text": "feature which is that you can run Pro your profiling data live at all times and there's a number of different ways",
    "start": "619560",
    "end": "625200"
  },
  {
    "text": "you can output the profiling data you can output it to a file you can output it to mySQL and what we do is instead of",
    "start": "625200",
    "end": "631839"
  },
  {
    "text": "outputting to those methods we do we we send our profiling data out via UDP to",
    "start": "631839",
    "end": "637000"
  },
  {
    "text": "UDP logging Damon so the logging Damon is continuously keeping uh the profiling",
    "start": "637000",
    "end": "643360"
  },
  {
    "text": "data from all of our different application servers and bringing it into one Central spot we have a tool that's",
    "start": "643360",
    "end": "648839"
  },
  {
    "text": "publicly accessible where you can see at all times the profiling data that's live on our sites this is really useful for",
    "start": "648839",
    "end": "655360"
  },
  {
    "text": "us because when we deploy new code we can immediately go and look and how it's affecting the sites we can clear out our",
    "start": "655360",
    "end": "661399"
  },
  {
    "text": "current profiling data and see how it's affecting the the site real time so we can make fixes to the code this is the",
    "start": "661399",
    "end": "668720"
  },
  {
    "text": "way we profile and we already see hotpots in our code and ways that we can um optimize the code to make it faster",
    "start": "668720",
    "end": "675279"
  },
  {
    "text": "for our sites of course this is a core feature of mediawiki so anyone that is using the",
    "start": "675279",
    "end": "680440"
  },
  {
    "text": "mediawiki software can do this as well so next up in the lamp stack is how",
    "start": "680440",
    "end": "688600"
  },
  {
    "text": "we store cont content we're using MySQL for our relational databases and as you",
    "start": "688600",
    "end": "693920"
  },
  {
    "text": "notice it's pretty traditional lamp stack so far um but similar to how we're",
    "start": "693920",
    "end": "699920"
  },
  {
    "text": "we add complexity into the media in the media we could buy using mcash and ecash and things like that we're ALS we also",
    "start": "699920",
    "end": "705560"
  },
  {
    "text": "add a little complexity into our databases to make them more efficient and scalable as well so our core",
    "start": "705560",
    "end": "712880"
  },
  {
    "text": "databases we optimize by doing things like sep separating read and write",
    "start": "712880",
    "end": "718040"
  },
  {
    "start": "714000",
    "end": "714000"
  },
  {
    "text": "operations and a master a master and slave kind of architecture we also",
    "start": "718040",
    "end": "723720"
  },
  {
    "text": "separate expensive queries from more frequent and cheap queries by doing query groups and we separate big popular",
    "start": "723720",
    "end": "731079"
  },
  {
    "text": "wikis from less popular popular wikis on different database clusters which is",
    "start": "731079",
    "end": "737399"
  },
  {
    "text": "charting so this allows us to do load balance reads between our slaves and",
    "start": "737720",
    "end": "744920"
  },
  {
    "text": "rights to our masters and of course some reads still come from the Masters simply because they're not lagged and",
    "start": "744920",
    "end": "751720"
  },
  {
    "text": "for data that needs to be very up to dat this allows us to keep queries that are still up to",
    "start": "751720",
    "end": "756800"
  },
  {
    "text": "date also each Wiki has its own database that's not necessarily saying it has its",
    "start": "756800",
    "end": "762160"
  },
  {
    "text": "own database server it's just it has it its own database that way we can move databases between shards when we need",
    "start": "762160",
    "end": "770000"
  },
  {
    "text": "to so next up is the least scalable part of our infrastructure in fact it's not",
    "start": "771320",
    "end": "776360"
  },
  {
    "text": "scalable at all this is uh our image serving our media storage and for this",
    "start": "776360",
    "end": "781760"
  },
  {
    "start": "779000",
    "end": "779000"
  },
  {
    "text": "we're using Solaris with ZFS and this is the only proprietary part of our",
    "start": "781760",
    "end": "787440"
  },
  {
    "text": "architecture as well I as I said it's not scalable we",
    "start": "787440",
    "end": "793240"
  },
  {
    "text": "essentially have one server that has about 8 terabytes of data the number of",
    "start": "793240",
    "end": "798480"
  },
  {
    "text": "requests we per second that we can actually do on this is very low all of the application servers Mount",
    "start": "798480",
    "end": "805639"
  },
  {
    "text": "This Server over NFS and our uploads are written there our deletes our deletes delete from there for over NFS and this",
    "start": "805639",
    "end": "812880"
  },
  {
    "text": "is problematic when the image server is having issues so when the image server goes down all of the application servers",
    "start": "812880",
    "end": "820240"
  },
  {
    "text": "now can't access the NFS server this causes problems where we can't reboot any of the uh the application servers we",
    "start": "820240",
    "end": "826360"
  },
  {
    "text": "can't do any operations that end up going in there the web servers start having issues because they're trying to",
    "start": "826360",
    "end": "831600"
  },
  {
    "text": "read and write into that so this can lead to cascading failures across the entire",
    "start": "831600",
    "end": "837759"
  },
  {
    "text": "site back for this take about two weeks this is not a good solution so we have",
    "start": "837759",
    "end": "844040"
  },
  {
    "text": "some future plans we're going to be migrating to an open source distributed file system right now it's likely open",
    "start": "844040",
    "end": "850240"
  },
  {
    "text": "stack Swift um we've we've been evaluating a number of different solutions over the past I know three or",
    "start": "850240",
    "end": "856240"
  },
  {
    "text": "four months maybe and this one's looking good so far some of the uh the real good",
    "start": "856240",
    "end": "862560"
  },
  {
    "text": "advantages to this is unlike NFS where all of your servers now lock up when",
    "start": "862560",
    "end": "868320"
  },
  {
    "text": "your NFS server goes away if the Swift server goes away you have graceful degradation in your services you might",
    "start": "868320",
    "end": "875720"
  },
  {
    "text": "not be able to get to your images but at the same time the site should still render the text should still be there",
    "start": "875720",
    "end": "881480"
  },
  {
    "text": "and the entire you won't have cascading failures across the site because of this and that's because it's using a rest a",
    "start": "881480",
    "end": "889079"
  },
  {
    "text": "API over HTTP we're not doing a block file system it's just calls to the",
    "start": "889079",
    "end": "895040"
  },
  {
    "text": "media also it's distributed so unlike the system we have right now where can't do very many requests per second if we",
    "start": "895040",
    "end": "901199"
  },
  {
    "text": "need more requests per second we add more servers we can load balance between the servers using the same solutions that we currently use Etc so we're",
    "start": "901199",
    "end": "908839"
  },
  {
    "text": "hoping to have this up very soon we um we actually replaced one of our media",
    "start": "908839",
    "end": "913880"
  },
  {
    "text": "our thumbnail servers recently that was running Solaris with Linux because we had a bug in the Solaris kernel so we're",
    "start": "913880",
    "end": "920440"
  },
  {
    "text": "very much hoping to move to this soon because we've been firefighting this for a",
    "start": "920440",
    "end": "925880"
  },
  {
    "text": "while talking about thumbnails this is actually one of my favorite hacks in media Wiki it's kind of cool um we",
    "start": "925880",
    "end": "933199"
  },
  {
    "start": "931000",
    "end": "931000"
  },
  {
    "text": "noticed that stat operations on files take too long to run so instead of doing",
    "start": "933199",
    "end": "940040"
  },
  {
    "text": "a stat to see if a file exists we use a 404 Handler in a web server when someone",
    "start": "940040",
    "end": "945319"
  },
  {
    "text": "says I want a thumbnail for this piece of media it just goes and assumes that it",
    "start": "945319",
    "end": "951480"
  },
  {
    "text": "exists if it doesn't exist it sends back a four well the thumbnail should always exist if the media that it's looking for",
    "start": "951480",
    "end": "958319"
  },
  {
    "text": "doesn't exist send a 404 if it does it creates a thumbnail and sends it back",
    "start": "958319",
    "end": "963480"
  },
  {
    "text": "this eliminates a stat operation next up is how we scale our core application the",
    "start": "963480",
    "end": "971399"
  },
  {
    "text": "um caching like the way that our sites work and the use case for our sites is",
    "start": "971399",
    "end": "977680"
  },
  {
    "text": "that as I mentioned earlier we have about 400 million users but only about 200 uh 200,000 of those are actual",
    "start": "977680",
    "end": "984680"
  },
  {
    "text": "editors of the site so this means that the majority of the traffic to our sites is read which is a fairly easy case to",
    "start": "984680",
    "end": "991920"
  },
  {
    "text": "optimize so by using caching layers in application servers we can scale very",
    "start": "991920",
    "end": "998600"
  },
  {
    "text": "easily and cheaply so what we're what we're using",
    "start": "998600",
    "end": "1003800"
  },
  {
    "text": "for the majority of our cashing is squid it's a reverse HTTP proxy and we have this split into two",
    "start": "1003800",
    "end": "1010920"
  },
  {
    "start": "1007000",
    "end": "1007000"
  },
  {
    "text": "groups we have text and we have media the text is most of our HTML content",
    "start": "1010920",
    "end": "1017639"
  },
  {
    "text": "it's when you go to Wikipedia and you see the main page all of the text on the page that's coming from squid then we",
    "start": "1017639",
    "end": "1023519"
  },
  {
    "text": "have the Media Group which is large images and thumbnails so all of the",
    "start": "1023519",
    "end": "1029480"
  },
  {
    "text": "images that you're seeing on the front page of media Wiki are coming or most of those images are coming from from the",
    "start": "1029480",
    "end": "1036760"
  },
  {
    "text": "Media Group so each one of our squid servers",
    "start": "1036760",
    "end": "1042600"
  },
  {
    "text": "has about four discs they're uh seek IO limited so the more spinels that you",
    "start": "1042600",
    "end": "1047918"
  },
  {
    "text": "have in these servers the better they have about 8 gigs of memory a piece some of our new servers have more than that",
    "start": "1047919",
    "end": "1053640"
  },
  {
    "text": "they're also um memory limited so the more memory the better since we've",
    "start": "1053640",
    "end": "1058679"
  },
  {
    "text": "started using carp our hit rates for text are about 95% and our hit rates for",
    "start": "1058679",
    "end": "1064120"
  },
  {
    "text": "media are about 98% so squid really delivers almost all of the traffic for",
    "start": "1064120",
    "end": "1070480"
  },
  {
    "text": "our sites about 7% of the traffic is",
    "start": "1070480",
    "end": "1077200"
  },
  {
    "text": "not so for CP the way that we do our squid infrastructure is that each squid server",
    "start": "1077200",
    "end": "1083159"
  },
  {
    "text": "has two squid processes running we have a carp squid and we have a caching layer squid so in this diagram I'm showing two",
    "start": "1083159",
    "end": "1090760"
  },
  {
    "text": "data centers and in this data center depending on where the user is they're",
    "start": "1090760",
    "end": "1095880"
  },
  {
    "text": "either going to go to Amsterdam or they're going to go to Florida so let's assume they're going to Florida right now so when the client makes a request",
    "start": "1095880",
    "end": "1102799"
  },
  {
    "text": "for a resource they get directed into our squids they hit the carp layer first if",
    "start": "1102799",
    "end": "1108880"
  },
  {
    "text": "the car player has the um the resource in its cache since it has a very small in memory cache it directly Returns the",
    "start": "1108880",
    "end": "1115760"
  },
  {
    "text": "resource if not it takes a hash of the resource URL turns it into a number and",
    "start": "1115760",
    "end": "1121679"
  },
  {
    "text": "that number correlates to one of the backend squid servers the caching layer",
    "start": "1121679",
    "end": "1128600"
  },
  {
    "text": "so it then sends that resource to the same squid the same squid server every",
    "start": "1128600",
    "end": "1134240"
  },
  {
    "text": "single time it gets that that uh request so by doing so and not hitting the other",
    "start": "1134240",
    "end": "1140240"
  },
  {
    "text": "squid servers in the back your your cach is way more likely to",
    "start": "1140240",
    "end": "1145320"
  },
  {
    "text": "hit similarly if they come in to Amsterdam which is our caching",
    "start": "1145320",
    "end": "1151240"
  },
  {
    "text": "cluster they'll hit the carart layer in the front which works similar to the way",
    "start": "1151240",
    "end": "1156360"
  },
  {
    "text": "to the one back here so let's say for instance the resource is in the front end squid it'll hit the backend squid if",
    "start": "1156360",
    "end": "1162799"
  },
  {
    "text": "that one does not have the resource instead of it talking to the front end squids and Tampa this also acts as a the",
    "start": "1162799",
    "end": "1168760"
  },
  {
    "text": "car player and that car player talks directly to our backend servers in Tampa which also majorly increases the hit",
    "start": "1168760",
    "end": "1176000"
  },
  {
    "text": "rate so when talking about cashes it's an important thing to think about is",
    "start": "1176000",
    "end": "1181440"
  },
  {
    "start": "1181000",
    "end": "1181000"
  },
  {
    "text": "always cash inv validation so when you're going to a Wikipedia page and you're browsing around and you see a",
    "start": "1181440",
    "end": "1187919"
  },
  {
    "text": "typo on a page edit and you go and fix the typo and you hit save which you expect to see is your is your edit",
    "start": "1187919",
    "end": "1195120"
  },
  {
    "text": "immediately you can't wait for it and because of that it's unacceptable for us to use",
    "start": "1195120",
    "end": "1200880"
  },
  {
    "text": "expiration times in the pages we have to do immediate cash invalidation and we used to do this by hitting each one of",
    "start": "1200880",
    "end": "1208880"
  },
  {
    "text": "our squid servers in order and doing a Purge on each one but as your site grows and the more squid servers you have this",
    "start": "1208880",
    "end": "1216000"
  },
  {
    "text": "becomes impossible you'll never be able to cash Purge all of your caches that way so um a co-worker of mine Mark Burma",
    "start": "1216000",
    "end": "1223559"
  },
  {
    "text": "wrote a patch to mediawiki which is one of the only patches he's done for mediawiki",
    "start": "1223559",
    "end": "1229240"
  },
  {
    "text": "um to do multicast UDP purges using",
    "start": "1229240",
    "end": "1234840"
  },
  {
    "text": "htcp um and what this does is when when a user edits a page media Wiki sends a",
    "start": "1234840",
    "end": "1240400"
  },
  {
    "text": "UDP packet to all of the squid servers using multicast that immediately purges all the cash for that resource of",
    "start": "1240400",
    "end": "1248159"
  },
  {
    "text": "course so squid is really a front-end cashing proxy that's been beaten in submission",
    "start": "1248159",
    "end": "1255039"
  },
  {
    "text": "over time to be a reverse caching proxy it's not really meant for it varnish on",
    "start": "1255039",
    "end": "1261039"
  },
  {
    "start": "1261000",
    "end": "1261000"
  },
  {
    "text": "the other hand was written specifically to be a reverse caching proxy and because of that it's about two to three",
    "start": "1261039",
    "end": "1266240"
  },
  {
    "text": "times more efficient than squid at doing reverse caching so we are using varnish right",
    "start": "1266240",
    "end": "1272960"
  },
  {
    "text": "now for part of our cluster it's going to eventually replace all of the squid that we have as well um the what we're",
    "start": "1272960",
    "end": "1278720"
  },
  {
    "text": "currently using for is a is a caching group called bits and bits is our",
    "start": "1278720",
    "end": "1283840"
  },
  {
    "text": "JavaScript CSS and other small static files that you would see in things like",
    "start": "1283840",
    "end": "1290640"
  },
  {
    "text": "interfaces we have three servers running this cluster I think we added a fourth",
    "start": "1290640",
    "end": "1295679"
  },
  {
    "text": "recently it's very efficient we're doing I think 255,000 requests a second per",
    "start": "1295679",
    "end": "1301400"
  },
  {
    "text": "box I think that's probably about right next up so for some of the every",
    "start": "1301400",
    "end": "1310799"
  },
  {
    "text": "service that we have is clustered for some of the services we do cling at the application Level like for isql for",
    "start": "1310799",
    "end": "1316080"
  },
  {
    "text": "instance and for mcash but for other Services we are doing our load balancing via the network layer three and lay",
    "start": "1316080",
    "end": "1322760"
  },
  {
    "text": "layer four for this we're using LVS we're load balancing for things like",
    "start": "1322760",
    "end": "1328080"
  },
  {
    "start": "1327000",
    "end": "1327000"
  },
  {
    "text": "squids and Apaches um LVS is Linux virtual server it's a standard feature",
    "start": "1328080",
    "end": "1333480"
  },
  {
    "text": "of the Linux kernel we're using LVS in direct routing mode which means when a",
    "start": "1333480",
    "end": "1338679"
  },
  {
    "text": "client makes a a request for a resource they hit our LVS server the LVS server",
    "start": "1338679",
    "end": "1345279"
  },
  {
    "text": "directs the traffic to one of the real servers in the back end but instead of the real servers talking back through",
    "start": "1345279",
    "end": "1351120"
  },
  {
    "text": "the controllers they talk directly back to the clients and what this lets us do is taking a very large number of",
    "start": "1351120",
    "end": "1358039"
  },
  {
    "text": "incoming requests that are small while delivering a lot of traffic going straight back out to the clients this",
    "start": "1358039",
    "end": "1363400"
  },
  {
    "text": "allows us to not have things like 10 gbit interfaces because the majority of the",
    "start": "1363400",
    "end": "1369200"
  },
  {
    "text": "traffic is outgoing not incoming the unfortunate thing about using LVS is that it only works at layer",
    "start": "1369200",
    "end": "1376000"
  },
  {
    "text": "three and four so you can't do things like um load balancing based on requests or user information the good thing",
    "start": "1376000",
    "end": "1382640"
  },
  {
    "text": "though is since we've always had this limitation we've just simply architected our application to work with doing load",
    "start": "1382640",
    "end": "1389480"
  },
  {
    "text": "balancing at layer three and four so so far I've mostly talked about",
    "start": "1389480",
    "end": "1396080"
  },
  {
    "text": "how we do things in one Data Center and I mentioned earlier in the squid caching part about having a a second data",
    "start": "1396080",
    "end": "1403840"
  },
  {
    "text": "center we want our application to be fast everywhere and",
    "start": "1404159",
    "end": "1409279"
  },
  {
    "text": "so our primary data center is in the US this makes our F our sites very fast",
    "start": "1409279",
    "end": "1414760"
  },
  {
    "text": "there but for other places in the world it's not necessarily the case of because of bandwidth limitations or or latency",
    "start": "1414760",
    "end": "1420320"
  },
  {
    "text": "and such so the solution of course is to put data centers or data close to the",
    "start": "1420320",
    "end": "1427720"
  },
  {
    "text": "users right now we have two clusters on two different continents we have one in Tampa Florida which is our primary um",
    "start": "1428279",
    "end": "1435360"
  },
  {
    "start": "1432000",
    "end": "1432000"
  },
  {
    "text": "all edits that you do to Wikipedia go to this data center for instance um we have a secondary cluster in",
    "start": "1435360",
    "end": "1441760"
  },
  {
    "text": "Amsterdam that's cashing only we are currently adding a new data",
    "start": "1441760",
    "end": "1446919"
  },
  {
    "text": "center in uh in Ashburn Virginia which should be up soon hopefully and once we",
    "start": "1446919",
    "end": "1451960"
  },
  {
    "text": "do that we'll always have two primary data centers that can fail over to each",
    "start": "1451960",
    "end": "1457039"
  },
  {
    "text": "other and we won't have this issue of worrying about hurricanes in Florida which is not a good thing to think",
    "start": "1457039",
    "end": "1465000"
  },
  {
    "text": "about so in our cashing data center we only have we only have a subset of our infrastructure we have DNS we have LVS",
    "start": "1466279",
    "end": "1473240"
  },
  {
    "text": "and we have our caching layers which includes varnish which is not up here so",
    "start": "1473240",
    "end": "1478480"
  },
  {
    "text": "the question is how do you direct traffic to one data center or to the caching data center",
    "start": "1478480",
    "end": "1484720"
  },
  {
    "text": "that is for this we're doing Geographic load balancing so an observation is that",
    "start": "1484720",
    "end": "1490480"
  },
  {
    "text": "most users are using a DNS resolver that's geographically close to them",
    "start": "1490480",
    "end": "1496240"
  },
  {
    "start": "1493000",
    "end": "1493000"
  },
  {
    "text": "and there are IP address to geographic location lookup list that are fairly",
    "start": "1496240",
    "end": "1502080"
  },
  {
    "text": "accurate and also when you're geographically close that generally",
    "start": "1502080",
    "end": "1507240"
  },
  {
    "text": "means your network topology close to it's not always the case but it's generally the case so what you can do is",
    "start": "1507240",
    "end": "1515000"
  },
  {
    "text": "you can map the geographic location to a specific data",
    "start": "1515000",
    "end": "1520840"
  },
  {
    "text": "center mark berma my coworker wrote a backend for power DNS called Geo backend",
    "start": "1520840",
    "end": "1528799"
  },
  {
    "text": "this backend takes a list of countries and um and a list of IP addresses it",
    "start": "1528799",
    "end": "1535080"
  },
  {
    "text": "Maps the IP addresses to a set of countries which map to numbers those numbers map to uh cname entries in your",
    "start": "1535080",
    "end": "1542799"
  },
  {
    "text": "DNS so for instance when a user from London makes a request to",
    "start": "1542799",
    "end": "1548039"
  },
  {
    "text": "Wikipedia our G our DNS server says this is geographically close to our data",
    "start": "1548039",
    "end": "1554159"
  },
  {
    "text": "center in Amsterdam and so when they make a request we send them back a c name that",
    "start": "1554159",
    "end": "1559440"
  },
  {
    "text": "says oh you're going to text. esams wikipedia.org which is our cluster in",
    "start": "1559440",
    "end": "1564720"
  },
  {
    "text": "Amsterdam if someone in New York makes the same request the DNS servers instead",
    "start": "1564720",
    "end": "1570320"
  },
  {
    "text": "return a c name for text do pmpa Wikipedia.org",
    "start": "1570320",
    "end": "1577720"
  },
  {
    "text": "sorry of course this works fairly well with a course coarsely distributed set of data centers so we have one in",
    "start": "1579840",
    "end": "1586399"
  },
  {
    "text": "Amsterdam we have one in the United States since we're doing lookups by country this works fairly well but since",
    "start": "1586399",
    "end": "1592799"
  },
  {
    "text": "we're going to have a data center in Ashburn Virginia and one in Tampa Florida this solution won't work very",
    "start": "1592799",
    "end": "1599159"
  },
  {
    "text": "well for that those those clusters because it doesn't really know which",
    "start": "1599159",
    "end": "1605200"
  },
  {
    "text": "data center to send things to this is the solution we're currently working on or this is a problem that we're currently working on and hopefully we'll",
    "start": "1605200",
    "end": "1611760"
  },
  {
    "text": "have a solution to share with everyone on this it'll probably end up being some Network",
    "start": "1611760",
    "end": "1617240"
  },
  {
    "text": "trickery so I've talked about our current architecture and if you noticed our",
    "start": "1617240",
    "end": "1624360"
  },
  {
    "text": "current architecture is missing something specifically it's missing a test and de development Network most of",
    "start": "1624360",
    "end": "1630159"
  },
  {
    "text": "the changes that we make occur in a live site um we do some testing beforehand",
    "start": "1630159",
    "end": "1635520"
  },
  {
    "text": "like we'll bring up a couple servers we'll do some infrastructure testing we'll push the changes out um for",
    "start": "1635520",
    "end": "1640559"
  },
  {
    "text": "developers we expect them to test their changes in their local system but when you're testing things like this you're",
    "start": "1640559",
    "end": "1646240"
  },
  {
    "text": "not getting to test them in an environment that's like production so there's always going to be bugs that",
    "start": "1646240",
    "end": "1651399"
  },
  {
    "text": "creep in from this so I'm aiming to solve this historically we haven't had this kind of",
    "start": "1651399",
    "end": "1658399"
  },
  {
    "text": "environment for a couple reasons one is that we just didn't have enough money to do this um the the other reason is that",
    "start": "1658399",
    "end": "1666760"
  },
  {
    "text": "we don't really have enough manpower to do this so the first one thankfully is easier",
    "start": "1666760",
    "end": "1672519"
  },
  {
    "text": "now because due to virtualization it's fairly easy to bring up a few systems to make a whole bunch of virtual machines",
    "start": "1672519",
    "end": "1678240"
  },
  {
    "text": "the second one is still a problem we still only have six people we got one new person recently but still it's not",
    "start": "1678240",
    "end": "1684279"
  },
  {
    "text": "enough to to re to replicate your entire environment so the solution that I'm",
    "start": "1684279",
    "end": "1690120"
  },
  {
    "text": "working on is what I'm calling the site architecture you can edit and the idea is to build a virtualized environment",
    "start": "1690120",
    "end": "1697240"
  },
  {
    "text": "that's going to be using openstack Nova which is an open source ec2 like",
    "start": "1697240",
    "end": "1704159"
  },
  {
    "text": "solution and this is the current architecture I'm doing there's two Hardware",
    "start": "1704159",
    "end": "1710360"
  },
  {
    "text": "pieces there's compute nodes and there's a controller the compute nodes can of course be a number of compute nodes not",
    "start": "1710360",
    "end": "1716600"
  },
  {
    "text": "just one on the compute nodes there's a service to make virtual machines or to manage virtual machines and one to deal",
    "start": "1716600",
    "end": "1722919"
  },
  {
    "text": "with storage for the virtual machines on the controller is everything else",
    "start": "1722919",
    "end": "1729120"
  },
  {
    "text": "so all of the controllers is done like this right now the end architecture may have a number of these services off on",
    "start": "1729120",
    "end": "1735039"
  },
  {
    "text": "other systems so let me go over a BAS basic interaction of these services so",
    "start": "1735039",
    "end": "1742159"
  },
  {
    "text": "to the user there's four services that are user facing the the um the one that controls",
    "start": "1742159",
    "end": "1750200"
  },
  {
    "text": "everything is mediawiki so I've written an extension for mediawiki that I call openstack manager which is to manage the",
    "start": "1750200",
    "end": "1756279"
  },
  {
    "text": "openstack infrastructure and if you're familiar with ec2 this is like Amazon uh Amazon web services console if you're",
    "start": "1756279",
    "end": "1763200"
  },
  {
    "text": "familiar with VMware it's like virtual Center so the user can uh an administrator on this Wiki can create a",
    "start": "1763200",
    "end": "1770039"
  },
  {
    "text": "us a user account for the user when they do so it creates the account in elap after creating when it creates the",
    "start": "1770039",
    "end": "1777360"
  },
  {
    "text": "account in ldap it's also giving them access to the open stack infrastructure by making open stack credentials it's",
    "start": "1777360",
    "end": "1783480"
  },
  {
    "text": "giving them access to Garrett because Garrett is using LF as a backend and it's giving them access to the instances",
    "start": "1783480",
    "end": "1789600"
  },
  {
    "text": "the virtual machines and that's because all of these are using LF as a backend for",
    "start": "1789600",
    "end": "1794640"
  },
  {
    "text": "authentication and other information so so after the user gets",
    "start": "1794640",
    "end": "1799880"
  },
  {
    "text": "credentials from an admin on the wiki they can log in which authenticates them against ldap then they can add an SSH",
    "start": "1799880",
    "end": "1806240"
  },
  {
    "text": "key for themselves which also goes into ldap after doing so they can do things",
    "start": "1806240",
    "end": "1811679"
  },
  {
    "text": "like create an instance then they can create storage",
    "start": "1811679",
    "end": "1816720"
  },
  {
    "text": "for that instance and attach it to the instance they can create they can uh allocate an IP address and Associate",
    "start": "1816720",
    "end": "1822760"
  },
  {
    "text": "that IP address with the instance they can create a DNS entry that Associates itself with the IP",
    "start": "1822760",
    "end": "1829760"
  },
  {
    "text": "address and when the instance starts up oh also when the instance is created",
    "start": "1829760",
    "end": "1836120"
  },
  {
    "text": "that instance information gets added to ldap which is a backend um DNS entry and",
    "start": "1836120",
    "end": "1841640"
  },
  {
    "text": "it's puppet configuration since puppet is using ldap for its puppet nodes so when the instance starts up it's going",
    "start": "1841640",
    "end": "1847799"
  },
  {
    "text": "to talk to puppet and ask to be to ask to join the puppet cluster puppet will talk will",
    "start": "1847799",
    "end": "1854440"
  },
  {
    "text": "will ask elap if this node is in l if it is it's been created by medii so it can",
    "start": "1854440",
    "end": "1860960"
  },
  {
    "text": "add it to the puppet cluster then it adds it to the public cluster the instance then asks to have the puppet",
    "start": "1860960",
    "end": "1867399"
  },
  {
    "text": "information from Puppet and then builds itself however the user asks it to build",
    "start": "1867399",
    "end": "1874000"
  },
  {
    "text": "itself so for instance if on creation the user says I want this to be an Apache server and I want it to be",
    "start": "1874000",
    "end": "1880080"
  },
  {
    "text": "configured this way by using puppet variables that's how the system will build itself when the system get builds",
    "start": "1880080",
    "end": "1886039"
  },
  {
    "text": "itself at the very end one of the thing that that media Wiki automatically puts in for the puppet configuration is the",
    "start": "1886039",
    "end": "1893080"
  },
  {
    "text": "user's name the username of who created it the person's uh email address and",
    "start": "1893080",
    "end": "1899159"
  },
  {
    "text": "their language so when the puppet when the instance gets the very end of its puppet configuration it sends an email",
    "start": "1899159",
    "end": "1905639"
  },
  {
    "text": "to the user based on a mediawiki template that says your instance has been created but",
    "start": "1905639",
    "end": "1911919"
  },
  {
    "text": "it does so in the user's localized language after the instance is created",
    "start": "1911919",
    "end": "1917360"
  },
  {
    "text": "the user can log in Via SSH using their SSH Key by um sshing to the public DNS",
    "start": "1917360",
    "end": "1924679"
  },
  {
    "text": "name so this is how users will be able to create their own instances but you",
    "start": "1924679",
    "end": "1931039"
  },
  {
    "text": "also want them to be able to modify the puppet configuration too so we're going to take the public configuration for our",
    "start": "1931039",
    "end": "1936200"
  },
  {
    "text": "live sites and we're going to add it to a a git repository we're going to strip out all",
    "start": "1936200",
    "end": "1941240"
  },
  {
    "text": "the private information of course but this will allow users to be able to pull",
    "start": "1941240",
    "end": "1946399"
  },
  {
    "text": "their um the public configuration for the entire site and from the git repository make changes and then submit",
    "start": "1946399",
    "end": "1953840"
  },
  {
    "text": "them for uh submit them is merges for approval we'll be able to go in the operations engineers and say yes this is",
    "start": "1953840",
    "end": "1960240"
  },
  {
    "text": "approved no this is not automatically or and if it's approved automatically emerg this in",
    "start": "1960240",
    "end": "1966200"
  },
  {
    "text": "so what I'm hoping to do is to have staff developers volunteer developers",
    "start": "1966200",
    "end": "1972840"
  },
  {
    "text": "volunteer Ops people have the ability to modify or puppet config have them pushed all the way to the production cluster",
    "start": "1972840",
    "end": "1979279"
  },
  {
    "text": "so the basic use case for this is going to be so openstack has a concept of",
    "start": "1979279",
    "end": "1984440"
  },
  {
    "text": "projects and each one of these projects is has restrictions or um rights that",
    "start": "1984440",
    "end": "1992600"
  },
  {
    "text": "you can give users so I can say that in this project user a has the ability to",
    "start": "1992600",
    "end": "1998720"
  },
  {
    "text": "create instances they have the ability to make IP addresses or to associate IP addresses and such so we're going to",
    "start": "1998720",
    "end": "2005159"
  },
  {
    "text": "have a default cluster which is going be a clone of the production cluster in",
    "start": "2005159",
    "end": "2011120"
  },
  {
    "text": "this it's mostly going to be used for test and development and maybe operations tasks so most users will not",
    "start": "2011120",
    "end": "2016639"
  },
  {
    "text": "have root here operations Engineers will have root and and it's going to be essentially",
    "start": "2016639",
    "end": "2023440"
  },
  {
    "text": "kept stable for new projects that we're working on for instance we have",
    "start": "2023440",
    "end": "2029200"
  },
  {
    "text": "something we're working on right now open web analytics uh to integration into the Wikipedia Foundation sites this",
    "start": "2029200",
    "end": "2035240"
  },
  {
    "text": "is something that requires new infrastructure so and the the people that are working on this is mostly software developers and not the",
    "start": "2035240",
    "end": "2041440"
  },
  {
    "text": "operations team so they need architecture to be able to do this so what we're hoping to do is make them a project give them rights to manage that",
    "start": "2041440",
    "end": "2048480"
  },
  {
    "text": "project they can create all of their own virtual machines they get the environment working the way that they",
    "start": "2048480",
    "end": "2053760"
  },
  {
    "text": "want it working and then once they think it's ready either they can they can",
    "start": "2053760",
    "end": "2059440"
  },
  {
    "text": "check they can pull out the git repository for puppet they can add in their manifest their files and their",
    "start": "2059440",
    "end": "2065079"
  },
  {
    "text": "templates make a merge request we'll merge it then we'll launch the instances on the test and Dev portion of the",
    "start": "2065079",
    "end": "2073358"
  },
  {
    "text": "cluster make sure that it's working in an automated fashion so that we don't have to make any manual changes to get",
    "start": "2073359",
    "end": "2079200"
  },
  {
    "text": "the systems up and then once we're we're sure that's working in our infrastructure we can order Hardware get",
    "start": "2079200",
    "end": "2086320"
  },
  {
    "text": "the hardware in ready attached and then push uh push out the puppet configurations to our production cluster",
    "start": "2086320",
    "end": "2091679"
  },
  {
    "text": "and bring those systems up so the idea is we'll be able to have developers come",
    "start": "2091679",
    "end": "2097359"
  },
  {
    "text": "in build their infrastructure from scratch move it all the way from the test and Dev environment that they",
    "start": "2097359",
    "end": "2103280"
  },
  {
    "text": "manage themselves into the production cluster with the operations team only",
    "start": "2103280",
    "end": "2108760"
  },
  {
    "text": "having to do",
    "start": "2108760",
    "end": "2111280"
  },
  {
    "text": "merges so of course the way that we're doing this we're kind of running our operations infrastructure as a software",
    "start": "2113800",
    "end": "2121280"
  },
  {
    "text": "development project because in reality when you're doing puppet configuration and such you're doing software",
    "start": "2121280",
    "end": "2127160"
  },
  {
    "text": "development doing you're writing puppet Manifest this is really just software so this is where you guys come in we",
    "start": "2127160",
    "end": "2135160"
  },
  {
    "text": "love to have help with everything that we're doing and we're overworked so having Community participation is",
    "start": "2135160",
    "end": "2142040"
  },
  {
    "start": "2136000",
    "end": "2136000"
  },
  {
    "text": "really nice and this is also a great way to have someone come in and be mentored by someone that has experience in large",
    "start": "2142040",
    "end": "2148680"
  },
  {
    "text": "sites and to be able to involved in a project that's very um you know large",
    "start": "2148680",
    "end": "2154440"
  },
  {
    "text": "and nice so I like to talk quickly about how you can engage our community and how",
    "start": "2154440",
    "end": "2160400"
  },
  {
    "text": "you can become a member so the first thing about engaging our community is that you should discuss what you want to",
    "start": "2160400",
    "end": "2165680"
  },
  {
    "text": "do when you come into our community and you discuss things ahead of time it kind of lets us know what you what you want",
    "start": "2165680",
    "end": "2171400"
  },
  {
    "text": "to work on we can we can assign the right mentor to you we can even if you",
    "start": "2171400",
    "end": "2177079"
  },
  {
    "text": "don't want a mentor we can talk to you about what how your design is is looking and maybe give you suggestions on how to",
    "start": "2177079",
    "end": "2182480"
  },
  {
    "text": "change it and things like that so after you've discussed your project with us or your idea then you should start",
    "start": "2182480",
    "end": "2188800"
  },
  {
    "text": "committing code and you can do that in a couple ways you can either submit patches to us or you can apply for commit access we give out commit access",
    "start": "2188800",
    "end": "2195560"
  },
  {
    "text": "fairly liberally um pretty much we just need to know that you have some PHP experience and that you're not going to",
    "start": "2195560",
    "end": "2201599"
  },
  {
    "text": "break things which it's not that big of a deal so after you start committing",
    "start": "2201599",
    "end": "2207000"
  },
  {
    "text": "it's really important to actively participate and this what what I mean by this is so we have processes like code",
    "start": "2207000",
    "end": "2213680"
  },
  {
    "text": "review if you submit code you should be actively participating in the Cod r view portion of that if you have fixed bees",
    "start": "2213680",
    "end": "2219800"
  },
  {
    "text": "on your code you should be fixing them if someone has made comments about your code about how it's architected you should answer them similarly in the",
    "start": "2219800",
    "end": "2226040"
  },
  {
    "text": "mailing lists if if a topic comes up about what you're doing you should talk to them about that and other things like",
    "start": "2226040",
    "end": "2234480"
  },
  {
    "text": "that also you should be documenting your code and I know this is this is an obvious thing but it it's more than just",
    "start": "2234480",
    "end": "2241599"
  },
  {
    "text": "documenting the code itself you should also put documentation on our Wiki about it if it's an extension for instance you",
    "start": "2241599",
    "end": "2246760"
  },
  {
    "text": "should make an extension page on mediawiki.org that says how your extension Works how to install it and",
    "start": "2246760",
    "end": "2252839"
  },
  {
    "text": "things like that also if you're making core code changes you should be documenting those on the the respective",
    "start": "2252839",
    "end": "2258520"
  },
  {
    "text": "Pages for the",
    "start": "2258520",
    "end": "2261440"
  },
  {
    "text": "documentation lastly you should communicate the changes you're doing if if you're making a breaking change to",
    "start": "2263680",
    "end": "2269760"
  },
  {
    "text": "something it's really important to communicate the changes because there's a possibility that someone's working on something they've been working on it for",
    "start": "2269760",
    "end": "2275319"
  },
  {
    "text": "two or three weeks you make a a a breaking change to something and they didn't know about it you've wasted maybe",
    "start": "2275319",
    "end": "2281480"
  },
  {
    "text": "a week or two of their work so it works really well when you communicate with us",
    "start": "2281480",
    "end": "2288640"
  },
  {
    "text": "and I mean really communication is key for everything in an open source",
    "start": "2288640",
    "end": "2293960"
  },
  {
    "text": "project so like most open source projects we have a very similar philosophy and the first one is engage",
    "start": "2293960",
    "end": "2299960"
  },
  {
    "start": "2297000",
    "end": "2297000"
  },
  {
    "text": "early which the first thing I mentioned before was the first thing you should do is discuss right this is the same thing",
    "start": "2299960",
    "end": "2305960"
  },
  {
    "text": "when you engage early with our community it makes it so that we can help you earlier on you can we can work you into",
    "start": "2305960",
    "end": "2312560"
  },
  {
    "text": "our processes we can tell you how you're doing things wrong or how you're doing things right or where our documentation",
    "start": "2312560",
    "end": "2318720"
  },
  {
    "text": "is for things and such also you should be releasing early and releasing often",
    "start": "2318720",
    "end": "2323960"
  },
  {
    "text": "the open stack manager extension that I wrote I released it before it even had uh the ability to to uh do security for",
    "start": "2323960",
    "end": "2332000"
  },
  {
    "text": "basic things like creating instances so really it was it's not terribly useful as an extension but it shows people what",
    "start": "2332000",
    "end": "2338680"
  },
  {
    "text": "I'm doing it shows people where I'm going how I'm architecting it how things are going to be working and it's similar",
    "start": "2338680",
    "end": "2343839"
  },
  {
    "text": "with release often the more often I release my changes the easier it is on code reviewers they can see what I'm",
    "start": "2343839",
    "end": "2350839"
  },
  {
    "text": "doing as I'm doing it and they can steer me in the right direction or it makes it easier for me to fix bugs especially",
    "start": "2350839",
    "end": "2356040"
  },
  {
    "text": "bugs are going to bite me later on I had one recently where I was taking uh the revision of an article incorrectly which",
    "start": "2356040",
    "end": "2364000"
  },
  {
    "text": "would have given me a random article of in the in the wiki and then edit it which would destroy the text I would",
    "start": "2364000",
    "end": "2370400"
  },
  {
    "text": "have no idea how to fix this later on but someone pointed out very early on in the process so by releasing often I save",
    "start": "2370400",
    "end": "2378319"
  },
  {
    "text": "myself work later on lastly you should scratch your own itch so just because you're part of our",
    "start": "2378319",
    "end": "2385200"
  },
  {
    "text": "community doesn't necessarily mean that you have to work on what we want to work on you can work on whatever you want and",
    "start": "2385200",
    "end": "2391359"
  },
  {
    "text": "we actually encourage this so we have a number of high priority things that we need to get done but just because you're",
    "start": "2391359",
    "end": "2396839"
  },
  {
    "text": "doing it doesn't mean you have to so you can work on any extension you",
    "start": "2396839",
    "end": "2402119"
  },
  {
    "text": "want even if it's not going to be useful to us so the way that I actually got involved with Wikipedia to begin with",
    "start": "2402119",
    "end": "2408480"
  },
  {
    "text": "was I was working for another organization and we wanted to use a documentation system of some variety and",
    "start": "2408480",
    "end": "2414400"
  },
  {
    "text": "I saw Wikipedia at the time which was kind of a new website and I thought this seems kind of perfect like if all these",
    "start": "2414400",
    "end": "2419800"
  },
  {
    "text": "people can get together and write an encyclopedia together I think our office can use this to document things so when",
    "start": "2419800",
    "end": "2426400"
  },
  {
    "text": "I started when I install the software I noticed well the authentication system has problems we're going to have to have",
    "start": "2426400",
    "end": "2431720"
  },
  {
    "text": "another set of users and and groups and everything so I decided to add ELD",
    "start": "2431720",
    "end": "2437040"
  },
  {
    "text": "authentication support to Media Wiki and although this has absolutely no",
    "start": "2437040",
    "end": "2442280"
  },
  {
    "text": "use for wikip media Foundation when after I released this it",
    "start": "2442280",
    "end": "2447920"
  },
  {
    "text": "had a lot of adoption specifically by thirdparty organizations by large Enterprises and such that otherwise",
    "start": "2447920",
    "end": "2453720"
  },
  {
    "text": "probably wouldn't have been able to use media Wiki because most large Enterprises expect to have their",
    "start": "2453720",
    "end": "2459000"
  },
  {
    "text": "authentication integrated so by doing this it larged our community and by",
    "start": "2459000",
    "end": "2464240"
  },
  {
    "text": "laring the community it allows us to have more developers that are that are giving back code and with them giving",
    "start": "2464240",
    "end": "2471200"
  },
  {
    "text": "back code maybe they're going to get maybe they're going to put something out that is very beneficial to us as the Wikipedia foundation so I definitely",
    "start": "2471200",
    "end": "2479240"
  },
  {
    "text": "encourage you work on whatever you want to work on it helps us so there's some things that you need",
    "start": "2479240",
    "end": "2484800"
  },
  {
    "text": "to know when you're specifically coding for media Foundation sites if you decide to do so the first one is security",
    "start": "2484800",
    "end": "2492040"
  },
  {
    "start": "2492000",
    "end": "2492000"
  },
  {
    "text": "security is really important it's really important people rely on us as developers to put out secure code if",
    "start": "2492040",
    "end": "2500000"
  },
  {
    "text": "there's an extension that you've released in a subversion for instance that's insecure there's a number there's a large number of third-party sites that",
    "start": "2500000",
    "end": "2506839"
  },
  {
    "text": "may download and install your extension now all of those sites and all of their users are have a",
    "start": "2506839",
    "end": "2513319"
  },
  {
    "text": "vulnerability also if your extension is insecure and it gets installed on Wikipedia that's 400 million users that",
    "start": "2513319",
    "end": "2519160"
  },
  {
    "text": "are now vulnerable but there's a a compounding effect not only does it",
    "start": "2519160",
    "end": "2524560"
  },
  {
    "text": "affect all of those users but third-party users are much more likely to install an extension if it's being",
    "start": "2524560",
    "end": "2530280"
  },
  {
    "text": "used on Wikipedia Foundation sites because they know we're going to support it they know it's going to be scalable they know it's going to be localized and",
    "start": "2530280",
    "end": "2536800"
  },
  {
    "text": "things like that so not only are you affecting 400 million users but you're also affecting all of the users of all",
    "start": "2536800",
    "end": "2543119"
  },
  {
    "text": "those other third party sites these are the most common",
    "start": "2543119",
    "end": "2548640"
  },
  {
    "text": "vulnerabilities we see um any of these vulnerabilities and",
    "start": "2548640",
    "end": "2553800"
  },
  {
    "text": "really any vulnerability will cause your code to get a revert which is you know good practice so I'm not going to go",
    "start": "2553800",
    "end": "2559440"
  },
  {
    "text": "into each one of these into detail but if you're coding for Wikipedia Foundation sites these are definitely ones you should be looking out for so",
    "start": "2559440",
    "end": "2566240"
  },
  {
    "start": "2566000",
    "end": "2566000"
  },
  {
    "text": "some general notes on how to avoid these is first of all don't trust anyone not even your users especially not your",
    "start": "2566240",
    "end": "2574000"
  },
  {
    "text": "users and you should sanitize all of your input and things like this are a lot easier if",
    "start": "2574000",
    "end": "2581040"
  },
  {
    "text": "you use the tools of the framework that you're writing in so for instance for a lot of the the vulnerabilities that are",
    "start": "2581040",
    "end": "2587040"
  },
  {
    "text": "up here if you use some of the built-in mediawiki classes that are recommended these you you won't get these",
    "start": "2587040",
    "end": "2592680"
  },
  {
    "text": "vulnerabilities at all because they automatically protect against them and this is part of writing code",
    "start": "2592680",
    "end": "2599119"
  },
  {
    "text": "that's demonstrably secure the idea is when a code Reviewer is looking at your code it should be very easy to say yes",
    "start": "2599119",
    "end": "2605960"
  },
  {
    "text": "this code is secure I know it's secure because they're using this class and they're using it in this way it's a normal pattern for",
    "start": "2605960",
    "end": "2612319"
  },
  {
    "text": "us so when their code reviewer looks at it he doesn't even have to think about whether it's secure or",
    "start": "2612319",
    "end": "2619480"
  },
  {
    "text": "not and the the best tip that I can give for this is try to hack your own code it's fun and it gets you into the right",
    "start": "2619839",
    "end": "2627079"
  },
  {
    "text": "mindset so when you are attacking your own code you're thinking well an",
    "start": "2627079",
    "end": "2632160"
  },
  {
    "text": "attacker can use this to come in this way and so the next time you're writing",
    "start": "2632160",
    "end": "2637280"
  },
  {
    "text": "application you'll already be in the mindset of well if I write it that way someone's going to be able to get in this",
    "start": "2637280",
    "end": "2643599"
  },
  {
    "text": "way Next wikip Media Foundation sites are very large it's the fifth largest website in the world and because of this",
    "start": "2643599",
    "end": "2650119"
  },
  {
    "text": "we get a lot of requests so code has to be performant and it has to be scalable and by performant I mean it needs to be",
    "start": "2650119",
    "end": "2658520"
  },
  {
    "text": "able to run quickly and it has to be able to run proficiently and by scalable it has to",
    "start": "2658520",
    "end": "2664800"
  },
  {
    "text": "be able to run quickly when you have a very large number of requests and you're on you're a very large data set and",
    "start": "2664800",
    "end": "2670960"
  },
  {
    "text": "you're scaled across 100 or so systems this is an example of a problem",
    "start": "2670960",
    "end": "2677520"
  },
  {
    "text": "we had where the code we were using was not performant or scalable and um this",
    "start": "2677520",
    "end": "2683800"
  },
  {
    "text": "is actually varnish but we had a patch to Varnish that does goip lookups we uh",
    "start": "2683800",
    "end": "2689599"
  },
  {
    "text": "during our fundraiser we we serve fundraising banners and we wanted to send the fundraising banners in such a",
    "start": "2689599",
    "end": "2696880"
  },
  {
    "text": "way way to where if we were going to do one that was us-centric we send it only to the United States or if we want to do",
    "start": "2696880",
    "end": "2704000"
  },
  {
    "text": "an ad campaign that is um or fundraising campaign that is um",
    "start": "2704000",
    "end": "2711119"
  },
  {
    "text": "specific to Japan then it will send those Banner uh those Banner images only",
    "start": "2711119",
    "end": "2718319"
  },
  {
    "text": "to people in Japan so the patch itself had a memory leak which it's a really",
    "start": "2718319",
    "end": "2724040"
  },
  {
    "text": "really small memory leak but when you're getting a large number of requests the memory leak has serious problems so if",
    "start": "2724040",
    "end": "2730319"
  },
  {
    "text": "you notice this flat line is the normal operation of the server this is where we installed the",
    "start": "2730319",
    "end": "2737040"
  },
  {
    "text": "patch and this is one week time in one week it ate up 30 gigs of",
    "start": "2737040",
    "end": "2743800"
  },
  {
    "text": "memory we didn't notice this in time and so once it hits",
    "start": "2743800",
    "end": "2748920"
  },
  {
    "text": "swap the number of uh the the load of the systems that it was on Went to went to uh",
    "start": "2748920",
    "end": "2755480"
  },
  {
    "text": "3.5k which is really high this is a side outage specifically when our bits",
    "start": "2755480",
    "end": "2760520"
  },
  {
    "text": "cluster went down it caused um cascading failures in the rest of our services so the entire",
    "start": "2760520",
    "end": "2767079"
  },
  {
    "text": "site went down because of this here's where we restarted the the the servers and reclaimed all the memory",
    "start": "2767079",
    "end": "2774319"
  },
  {
    "text": "and over time it went back up we noticed it and we reclaimed the memory and here's one time where we didn't notice",
    "start": "2774319",
    "end": "2780200"
  },
  {
    "text": "again the site would down for 30 seconds or so but still it's a sight outage because of something like this",
    "start": "2780200",
    "end": "2787640"
  },
  {
    "text": "one more week went by then we had a hackaton in uh in Washington DC and we",
    "start": "2787640",
    "end": "2792680"
  },
  {
    "text": "decided one of the things we're going to fix for this is going to be the the memory leak and it went back to normal operation if you notice here the amount",
    "start": "2792680",
    "end": "2799599"
  },
  {
    "text": "of uh of RAM used is still twice what was originally used but that's actually normal we uh when we added this patch we",
    "start": "2799599",
    "end": "2807280"
  },
  {
    "text": "doubled our traffic to those clusters or to that cluster we fixed this later on by",
    "start": "2807280",
    "end": "2813480"
  },
  {
    "text": "caching the Gip lookup cach or by adding a cash for Gip lookup",
    "start": "2813480",
    "end": "2818839"
  },
  {
    "text": "s so for scalability and performance basically you do the same thing that you do for the hardware",
    "start": "2819400",
    "end": "2825640"
  },
  {
    "start": "2822000",
    "end": "2822000"
  },
  {
    "text": "infrastructure first of all you cash things that are expensive second you profile your code",
    "start": "2825640",
    "end": "2831520"
  },
  {
    "text": "so that you can see what hotpots are in it and then you can optimize those pieces of code so if I can say one thing",
    "start": "2831520",
    "end": "2839440"
  },
  {
    "text": "if you're going to code for Wikipedia Foundation sites it's this last one ask for advice optimizing your code and",
    "start": "2839440",
    "end": "2845480"
  },
  {
    "text": "doing caching is difficult it's complex and we have a large number of people in our community that are experts at this",
    "start": "2845480",
    "end": "2851480"
  },
  {
    "text": "we love to give advice for this if you're going to be running code on our site we're going to have to do this at some point in time anyway so the earlier",
    "start": "2851480",
    "end": "2856920"
  },
  {
    "text": "on you ask for advice the easier it is for us and not only that you get to learn you know you get to learn how to",
    "start": "2856920",
    "end": "2862520"
  },
  {
    "text": "do these kind of things so also when you're running on w",
    "start": "2862520",
    "end": "2868079"
  },
  {
    "text": "wikipedia Foundation sites you always have to assume that you're running on a cluster because everything is clustered",
    "start": "2868079",
    "end": "2873559"
  },
  {
    "start": "2872000",
    "end": "2872000"
  },
  {
    "text": "this can be problematic since your code is running in a number number of places at one time you can you you're running",
    "start": "2873559",
    "end": "2879559"
  },
  {
    "text": "concurrently you can run into bugs you can have Deadlocks you can have issues with uh conflicts of your code running",
    "start": "2879559",
    "end": "2885880"
  },
  {
    "text": "in two different places at the same time which cause really really strange",
    "start": "2885880",
    "end": "2891520"
  },
  {
    "text": "bugs so some closing notes as you've noticed we rely heavily on open source we like using open source we find the",
    "start": "2892520",
    "end": "2899680"
  },
  {
    "start": "2895000",
    "end": "2895000"
  },
  {
    "text": "support and open source projects to be better than proprietary projects we find it to be more reliable we find the",
    "start": "2899680",
    "end": "2905359"
  },
  {
    "text": "response times from support to be quicker we get to talk directly to things like lead developers instead of",
    "start": "2905359",
    "end": "2910880"
  },
  {
    "text": "talking to tier one support we also get to fix the problems ourselves when we",
    "start": "2910880",
    "end": "2916160"
  },
  {
    "text": "notice problems that we can fix and send the patches Upstream which then get",
    "start": "2916160",
    "end": "2921240"
  },
  {
    "text": "maintained by the developers this is something that we can't do in proprietary software using open source",
    "start": "2921240",
    "end": "2926480"
  },
  {
    "text": "software helps us a lot it makes it it makes it so that we can have less",
    "start": "2926480",
    "end": "2931680"
  },
  {
    "text": "people and so we're always looking for efficiency in in our environment this is",
    "start": "2931680",
    "end": "2936839"
  },
  {
    "text": "both The Code by doing caching and optimization of the code but also efficiencies for people as well so we're",
    "start": "2936839",
    "end": "2944119"
  },
  {
    "text": "looking for more efficient management tools for instance so we started using puppet about a year and a half ago that",
    "start": "2944119",
    "end": "2949319"
  },
  {
    "text": "helped us um we now I'm looking I'm writing this uh open stack extension and",
    "start": "2949319",
    "end": "2955480"
  },
  {
    "text": "making this architecture so that we have the ability to do more things with less Ops infrastructure so we only have three",
    "start": "2955480",
    "end": "2961880"
  },
  {
    "text": "opt we have 25 or so developers that are on staff we have a very large developer community and so by leveraging them",
    "start": "2961880",
    "end": "2969000"
  },
  {
    "text": "hopefully we can take less um time of operations engineers and move that to",
    "start": "2969000",
    "end": "2974280"
  },
  {
    "text": "developers who really kind of want to do that anyway so now that I'm saying that we're",
    "start": "2974280",
    "end": "2980000"
  },
  {
    "text": "looking for more contributors we'd love to have more volunteers we're also hiring right now for a number of",
    "start": "2980000",
    "end": "2985119"
  },
  {
    "text": "positions um we're hiring three or four operations positions and we're hiring",
    "start": "2985119",
    "end": "2990319"
  },
  {
    "text": "probably I guess 10 or so maybe more Dev Physicians so if anyone's looking for",
    "start": "2990319",
    "end": "2997000"
  },
  {
    "text": "some work or wants to work for a really awesome organization by all",
    "start": "2997000",
    "end": "3002440"
  },
  {
    "text": "means",
    "start": "3002440",
    "end": "3005440"
  },
  {
    "text": "questions he was asking if we've looked at alternatives to open stack Swift and",
    "start": "3008960",
    "end": "3014000"
  },
  {
    "text": "we looked at a number um we actually have uh we hired a contractor to to go",
    "start": "3014000",
    "end": "3020000"
  },
  {
    "text": "through all of the options for us and he documented everything in the public uh on wikitech that wik .org so if you go",
    "start": "3020000",
    "end": "3028400"
  },
  {
    "text": "to his pages about these his different options he has all the pluses and minuses for the different ones and why",
    "start": "3028400",
    "end": "3034240"
  },
  {
    "text": "they fit our architecture why they don't and also about how easy it would be to integrate in a media Wiki or not he",
    "start": "3034240",
    "end": "3040960"
  },
  {
    "text": "asked if um why we're not using Cloud servers instead owning our own Hardware",
    "start": "3040960",
    "end": "3046480"
  },
  {
    "text": "so um it's good for us to be in control of",
    "start": "3046480",
    "end": "3052559"
  },
  {
    "text": "what we do um if if we're on cloud servers we are",
    "start": "3052559",
    "end": "3058599"
  },
  {
    "text": "um we are essentially tied to that organization right so part of our",
    "start": "3058599",
    "end": "3064119"
  },
  {
    "text": "mission is to make sure that we share knowledge with everyone having our having us tied to an enemy is",
    "start": "3064119",
    "end": "3070839"
  },
  {
    "text": "problematic for us because although there it's not likely for that organization to exit control over our",
    "start": "3070839",
    "end": "3077000"
  },
  {
    "text": "content there's there's always a possibility but even then I mean it's we don't have that many servers and it's not that terribly expensive for us to",
    "start": "3077000",
    "end": "3083640"
  },
  {
    "text": "manage the infrastructure so whether it would be cost efficient for us to run in the cloud or not I don't know but but",
    "start": "3083640",
    "end": "3089440"
  },
  {
    "text": "also we're um our downtime is totally due to us right so we don't have to",
    "start": "3089440",
    "end": "3094760"
  },
  {
    "text": "worry that our downtime is because of the hardware resources of a third",
    "start": "3094760",
    "end": "3100240"
  },
  {
    "text": "party we've also um optimized our infrastructure specifically for certain",
    "start": "3100240",
    "end": "3105880"
  },
  {
    "text": "types of things so if we're running on the cloud we may be running on a server that has 10 other things and if we're",
    "start": "3105880",
    "end": "3111799"
  },
  {
    "text": "running our database servers on there that server is not necessarily optimized for databases the our Apaches wouldn't",
    "start": "3111799",
    "end": "3117839"
  },
  {
    "text": "necessarily that Hardware wouldn't necessarily be optimized for Apache and we're sharing the hardware with others",
    "start": "3117839",
    "end": "3123079"
  },
  {
    "text": "so the performance of those other virtual machines may also cause US problems as well it's we we have a lot",
    "start": "3123079",
    "end": "3128440"
  },
  {
    "text": "more control over things the way that we're doing it so he he was asking um what our what our experience with",
    "start": "3128440",
    "end": "3135599"
  },
  {
    "text": "Garrett is and how it compares to other code review tools so to be totally honest I just started using Garrett um",
    "start": "3135599",
    "end": "3142520"
  },
  {
    "text": "I've evaluated it for use for this specific project and really what I wanted was a distributed Source control",
    "start": "3142520",
    "end": "3149559"
  },
  {
    "text": "system specifically and then I choose git because our community is also looking to get as a possible alternative",
    "start": "3149559",
    "end": "3155680"
  },
  {
    "text": "subversion so um it made sense to use a tool that was similar to ours I mean",
    "start": "3155680",
    "end": "3162000"
  },
  {
    "text": "something that we're already looking at so I don't really know I know that the code R the code review tool system that",
    "start": "3162000",
    "end": "3169079"
  },
  {
    "text": "we're using for mediawiki is not something that we're totally happy with and some community members are also",
    "start": "3169079",
    "end": "3174480"
  },
  {
    "text": "looking at Garrett as an alternative as well so I can't really answer your question terribly well um so he's asking",
    "start": "3174480",
    "end": "3181839"
  },
  {
    "text": "about the the semantic web and and how we're using Technologies like this or if we are and so in general we're not using",
    "start": "3181839",
    "end": "3189920"
  },
  {
    "text": "any thing semantic um there is something called semantic media Wiki it's an extension to Media Wiki that allows you",
    "start": "3189920",
    "end": "3196160"
  },
  {
    "text": "to add uh annotations and there's a number of other semantic extensions that",
    "start": "3196160",
    "end": "3201920"
  },
  {
    "text": "kind of revolve around that ecosystem like semantic forms and semantic results formats and um external data and a few",
    "start": "3201920",
    "end": "3209040"
  },
  {
    "text": "other extensions like that and so although we're not currently using those extensions um and we we may never use",
    "start": "3209040",
    "end": "3215119"
  },
  {
    "text": "these extensions we probably will be doing stuff with sematic data at some point in time it's really useful and",
    "start": "3215119",
    "end": "3220799"
  },
  {
    "text": "specifically in the project that I'm working on right now the um with openstack manager it is using semantic",
    "start": "3220799",
    "end": "3226799"
  },
  {
    "text": "media Wiki and it's using it in such a way when like if you create an instance it pulls all the information from ldap",
    "start": "3226799",
    "end": "3233520"
  },
  {
    "text": "and from and from openstack it takes those different um properties with values and adds them into a media Wiki",
    "start": "3233520",
    "end": "3240280"
  },
  {
    "text": "template that media Wiki template since it's in system is a Wiki page automatically has all the properties",
    "start": "3240280",
    "end": "3246040"
  },
  {
    "text": "associated with that and then you can use those properties and make queries so I can do something like um show me all",
    "start": "3246040",
    "end": "3251920"
  },
  {
    "text": "the instances that have um that have over 20 gigs of storage and I want to",
    "start": "3251920",
    "end": "3258760"
  },
  {
    "text": "take all of those and I want to sum it up and I want you to show me how much storage they're using total so and this",
    "start": "3258760",
    "end": "3264079"
  },
  {
    "text": "is just by having Wiki pages in uh in in there that are semantically marked up it's really awesome technology",
    "start": "3264079",
    "end": "3270520"
  },
  {
    "text": "especially for very specific use cases it's just that um all these Technologies are very um resource intensive so for",
    "start": "3270520",
    "end": "3277280"
  },
  {
    "text": "the semantic properties you have to have um triple stores and you have to have all these other things they they add a lot of complexity and it's difficult to",
    "start": "3277280",
    "end": "3285559"
  },
  {
    "text": "easily integrate into a system and especially from the user interface point of view semantic Technologies are are",
    "start": "3285559",
    "end": "3292319"
  },
  {
    "text": "fairly difficult to use that way as well because you have to have some way of adding the properties in and with Wikipedia one of the things",
    "start": "3292319",
    "end": "3298599"
  },
  {
    "text": "that we already have right now is that it's kind of hard to edit so um because there's no what you see is what you get",
    "start": "3298599",
    "end": "3303799"
  },
  {
    "text": "editor and by adding in semantic annotations into that already complex",
    "start": "3303799",
    "end": "3308839"
  },
  {
    "text": "markup it makes it way more difficult so there's a number of reasons that we're",
    "start": "3308839",
    "end": "3314359"
  },
  {
    "text": "not currently using but we hope to use it soon who was asking if we use test unit um we're using PHP unit and",
    "start": "3314359",
    "end": "3322240"
  },
  {
    "text": "selenium so um those are projects that are currently being worked on they're um still in their kind of their infancy",
    "start": "3322240",
    "end": "3328240"
  },
  {
    "text": "stage we don't have smoke tests for instance um a lot of we don't have very much code coverage but um if that's if",
    "start": "3328240",
    "end": "3335039"
  },
  {
    "text": "it's something you're interested in doing we'd love to have help with it he he's asking if we have uh the ability for thirdparty applications to pull data",
    "start": "3335039",
    "end": "3342200"
  },
  {
    "text": "from from us using apis or something like that um we do have an API we have both a read and a write API um they",
    "start": "3342200",
    "end": "3349079"
  },
  {
    "text": "export a number of formats XML Json um yaml Etc um he's asking where we get",
    "start": "3349079",
    "end": "3355240"
  },
  {
    "text": "information about the API um if you actually the API is self-documenting so if you go to either",
    "start": "3355240",
    "end": "3362039"
  },
  {
    "text": "either install mediawiki and look at the API class or um just hit wikkipedia for",
    "start": "3362039",
    "end": "3368440"
  },
  {
    "text": "on the API it'll print out HTML documentation or um mediawiki.org should",
    "start": "3368440",
    "end": "3374799"
  },
  {
    "text": "also have documentation about how to use the API so he's asking about the are you asking about the content license okay so",
    "start": "3374799",
    "end": "3382200"
  },
  {
    "text": "um to to reuse the content all of our content is Creative Commons by attribution I believe and so to reuse",
    "start": "3382200",
    "end": "3388640"
  },
  {
    "text": "that content you just have to uh well yeah you just have to go byy that license we I think we have other things",
    "start": "3388640",
    "end": "3394880"
  },
  {
    "text": "uploaded as images and such that are not uh Creative Commons but it it depends on",
    "start": "3394880",
    "end": "3399960"
  },
  {
    "text": "which pieces which resources you're using so the content is that all the content has licenses associated with it",
    "start": "3399960",
    "end": "3406960"
  },
  {
    "text": "so just have to follow the license of the content itself he's asking if the um",
    "start": "3406960",
    "end": "3412359"
  },
  {
    "text": "if the application media Wiki is doing all of the rewrite queries itself yeah we have um the databases can you can",
    "start": "3412359",
    "end": "3419280"
  },
  {
    "text": "tell it which servers are read and which ones are right which ones are the master and which ones are slave you can make query groups and such I'm not really",
    "start": "3419280",
    "end": "3427799"
  },
  {
    "text": "familiar with that part of the code but I that's last IE look that's how it works so he was asking how editing in",
    "start": "3427799",
    "end": "3433119"
  },
  {
    "text": "different languages and and just inter I guess dealing with the interface as well is done so we have projects for each",
    "start": "3433119",
    "end": "3440520"
  },
  {
    "text": "different language and um the interface for those projects is in that language",
    "start": "3440520",
    "end": "3445799"
  },
  {
    "text": "for the localization of the software itself um that's done by a community",
    "start": "3445799",
    "end": "3450839"
  },
  {
    "text": "called translatewiki.net which is not a Wikipedia a foundation project but they",
    "start": "3450839",
    "end": "3458200"
  },
  {
    "text": "um they translate our software they translate aax I think they do Wikia",
    "start": "3458200",
    "end": "3464200"
  },
  {
    "text": "extensions as well um access yeah they do and um and a number of other",
    "start": "3464200",
    "end": "3472280"
  },
  {
    "text": "applications but they're um like Wikipedia they're they they transl via Wiki and it's open to most people to",
    "start": "3472280",
    "end": "3479119"
  },
  {
    "text": "edit um so he's asking if there's any large high-profile Next Generation things that we're trying to tackle yes",
    "start": "3479119",
    "end": "3486160"
  },
  {
    "text": "so um one of the things that we're the large one is going to be a parser right um that we're hoping to have completed",
    "start": "3486160",
    "end": "3492000"
  },
  {
    "text": "at some point in time that's going to be a reusable parser that has hopefully a formalized language and such but uh we",
    "start": "3492000",
    "end": "3499039"
  },
  {
    "text": "we'll see how it how it turns out um the other one is what you see is what you get because that in media Wiki has has",
    "start": "3499039",
    "end": "3505119"
  },
  {
    "text": "been a very large problem for a very long [Applause]",
    "start": "3505119",
    "end": "3514510"
  },
  {
    "text": "[Music] time",
    "start": "3514510",
    "end": "3522079"
  }
]