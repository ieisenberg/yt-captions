[
  {
    "start": "0",
    "end": "45000"
  },
  {
    "text": "a little bit about myself I think most of you know me the guy with the html5",
    "start": "21920",
    "end": "29210"
  },
  {
    "text": "license plate the author of the pro html5 programming book basically html5",
    "start": "29210",
    "end": "35809"
  },
  {
    "text": "is all i do and i work at cousin focusing on technical training in the",
    "start": "35809",
    "end": "41840"
  },
  {
    "text": "html5 area all right so quick agenda I want to talk about all of the different",
    "start": "41840",
    "end": "48500"
  },
  {
    "start": "45000",
    "end": "223000"
  },
  {
    "text": "API is that make up html5 communication and there's quite a few and a couple of",
    "start": "48500",
    "end": "53870"
  },
  {
    "text": "concepts in there that are important so I'll sprinkle those in there and one more technology that's not really part",
    "start": "53870",
    "end": "60049"
  },
  {
    "text": "of html5 I don't want to put it under html5 but I think it'll be interesting because it's so closely related which is",
    "start": "60049",
    "end": "66229"
  },
  {
    "text": "speedy so we'll talk about these in in disorder and basically I want to just",
    "start": "66229",
    "end": "73940"
  },
  {
    "text": "point out for those of your new 2805 html5 is pretty large and there's many",
    "start": "73940",
    "end": "79820"
  },
  {
    "text": "different feature areas from mark up to the connectivity will be talking about to the canvas and other areas and video",
    "start": "79820",
    "end": "88070"
  },
  {
    "text": "and audio and so on so as Remy's sharp pointed out html5 is not something you",
    "start": "88070",
    "end": "93530"
  },
  {
    "text": "it's not an all-or-nothing approach you just you pick the feature you want then I would like to add something like well",
    "start": "93530",
    "end": "100429"
  },
  {
    "text": "the typical process would be you prototype with that feature you want then you realize okay well that doesn't",
    "start": "100429",
    "end": "106909"
  },
  {
    "text": "work in all the browsers maybe then you use something like moderniser that we talked about a few months ago and say",
    "start": "106909",
    "end": "112189"
  },
  {
    "text": "okay which browsers have it find a good polyfill library so in this presentation",
    "start": "112189",
    "end": "117320"
  },
  {
    "text": "I'll also point out a few of those that that are related for example there's libraries and servers that provides",
    "start": "117320",
    "end": "124999"
  },
  {
    "text": "ambulation for some of the features we're going to be talking about so I started working on this map of all of",
    "start": "124999",
    "end": "132920"
  },
  {
    "text": "the different html5 features it's nowhere near complete I think but it gives you an idea of any one of those",
    "start": "132920",
    "end": "138590"
  },
  {
    "text": "areas blown out to be you know any one of those is an explosion of new features",
    "start": "138590",
    "end": "143930"
  },
  {
    "text": "if you think about local storage and session storage and database storage whereas in the past we had maybe just",
    "start": "143930",
    "end": "150950"
  },
  {
    "text": "cookies right there's just a lot there in all of the different area and we're going to be focusing on just",
    "start": "150950",
    "end": "156960"
  },
  {
    "text": "one of those areas which is that connectivity in real time all right so",
    "start": "156960",
    "end": "162510"
  },
  {
    "text": "one of the main things about html5 is in its design goal has been to keep things",
    "start": "162510",
    "end": "169260"
  },
  {
    "text": "simple and it also one of the sort of the ways that this is described is",
    "start": "169260",
    "end": "175530"
  },
  {
    "text": "paving the cow paths for example if you have a form with an input that you have",
    "start": "175530",
    "end": "181500"
  },
  {
    "text": "to detect whether that's an email address and it used to be a crapload of JavaScript you at the right or pulling a",
    "start": "181500",
    "end": "188640"
  },
  {
    "text": "library and now it's you know input type equals email very simple now the",
    "start": "188640",
    "end": "195630"
  },
  {
    "text": "connectivity area is is definitely one of those areas where paving the cow",
    "start": "195630",
    "end": "200850"
  },
  {
    "text": "palace was really a welcome change because that was one area where you had",
    "start": "200850",
    "end": "206430"
  },
  {
    "text": "to use the craziest hacks to get things done and so everyone that has some",
    "start": "206430",
    "end": "212250"
  },
  {
    "text": "experience in that will really like the simplicity of these api's it's actually sometimes it's like oh that's that's all",
    "start": "212250",
    "end": "218610"
  },
  {
    "text": "there is to web socket I mean it's really that easy it really is so the",
    "start": "218610",
    "end": "225330"
  },
  {
    "start": "223000",
    "end": "392000"
  },
  {
    "text": "first concept they wanted to sort of talk about a little bit is the the origin concept some new just in LA last",
    "start": "225330",
    "end": "232740"
  },
  {
    "text": "december two thousand eleven a new RFC was published for the web origin concept",
    "start": "232740",
    "end": "240000"
  },
  {
    "text": "right that the origin itself has been around for a long time it's the combination of a scheme host and port",
    "start": "240000",
    "end": "248160"
  },
  {
    "text": "and all of those components the scheme host and port need to be the same or",
    "start": "248160",
    "end": "255859"
  },
  {
    "text": "communication will typically fail because of a same origin policy in the browser and that's quite literal and pay",
    "start": "255859",
    "end": "264150"
  },
  {
    "text": "attention because I will be asking a few quiz questions here there and this is going to be one of the subjects so the",
    "start": "264150",
    "end": "273180"
  },
  {
    "text": "origin is used to model a trust relationship on the web so everything",
    "start": "273180",
    "end": "279450"
  },
  {
    "text": "has a URL part of that is the origin scheme host and port so scheme would be",
    "start": "279450",
    "end": "284840"
  },
  {
    "text": "HTTP or WS or a website it's the host is the fully qualified",
    "start": "284840",
    "end": "290350"
  },
  {
    "text": "hostname and the port 80 or 443 are the default ports but there could be some",
    "start": "290350",
    "end": "295750"
  },
  {
    "text": "somewhat airport now typically the browsers enforce a same origin policy",
    "start": "295750",
    "end": "302050"
  },
  {
    "text": "and that's for your protection right that was introduced a long time ago but",
    "start": "302050",
    "end": "309760"
  },
  {
    "text": "as we're moving to more client-side rich applications that's becoming a little",
    "start": "309760",
    "end": "315640"
  },
  {
    "text": "bit too restricted so we need something else or we need something a little bit",
    "start": "315640",
    "end": "322060"
  },
  {
    "text": "more relaxed but at the same time we don't want to lose that thatthat's security right that's the number one thing you don't want to be opening it up",
    "start": "322060",
    "end": "328060"
  },
  {
    "text": "for vulnerabilities so here's a quiz question for you the first person to",
    "start": "328060",
    "end": "333610"
  },
  {
    "text": "raise their hand and have the right answer can win a book copy of my pro html5 book which of these URLs and I'll",
    "start": "333610",
    "end": "341950"
  },
  {
    "text": "give you a hint yes perfect excellent so",
    "start": "341950",
    "end": "348130"
  },
  {
    "text": "what I wanted to point out here is that one and six are the only ones that have the same scheme host and port right so",
    "start": "348130",
    "end": "356650"
  },
  {
    "text": "it's the exact match for example the the IP address that actually resolves",
    "start": "356650",
    "end": "363010"
  },
  {
    "text": "through that same hostname it is not the same the browser sees that as a",
    "start": "363010",
    "end": "368380"
  },
  {
    "text": "different a different origin and that's kind of important you can run into a lot",
    "start": "368380",
    "end": "373540"
  },
  {
    "text": "of small issues with that also subdomains are not on the same origin",
    "start": "373540",
    "end": "379830"
  },
  {
    "text": "alright so the first feat you want to talk about is the cross document messaging you'll see that origin concept",
    "start": "379830",
    "end": "385600"
  },
  {
    "text": "coming in over and over especially when we start talking about the cross-origin resource sharing so cross document",
    "start": "385600",
    "end": "394240"
  },
  {
    "start": "392000",
    "end": "528000"
  },
  {
    "text": "messaging and the reason why I picked it from cross document messaging to xhr to WebSocket in that order is because it",
    "start": "394240",
    "end": "402970"
  },
  {
    "text": "sort of you could say from small to large whereas cross document messaging is intra page or in the browser it",
    "start": "402970",
    "end": "412030"
  },
  {
    "text": "doesn't communicate with the server it's just from let's say a page to an iframe or another tab where then server sent",
    "start": "412030",
    "end": "419410"
  },
  {
    "text": "events and xhr municate with the server web sockets is bi-directional communication with the",
    "start": "419410",
    "end": "425500"
  },
  {
    "text": "server so that it sort of gets bigger and bigger and cross document messaging",
    "start": "425500",
    "end": "431500"
  },
  {
    "text": "also known as the the postmessage API allows you to pass messages back and",
    "start": "431500",
    "end": "436930"
  },
  {
    "text": "forth not just between the same origin but even cross origin and we'll show you",
    "start": "436930",
    "end": "443080"
  },
  {
    "text": "a little bit how that works so first a little bit a bit of a demo here so",
    "start": "443080",
    "end": "449920"
  },
  {
    "text": "there's a lot of html5 slides show you know applications and one of them was",
    "start": "449920",
    "end": "456880"
  },
  {
    "text": "created by a guy from Mozilla Paul bouge from France and he created what is called easy slides if you look at what",
    "start": "456880",
    "end": "466090"
  },
  {
    "text": "is happening here if I click around then you notice that I'm controlling from a",
    "start": "466090",
    "end": "473170"
  },
  {
    "text": "page I'm controlling up another page in an iframe and that sort of communication",
    "start": "473170",
    "end": "478900"
  },
  {
    "text": "is pretty typical for a cross document messaging and it's actually he's using",
    "start": "478900",
    "end": "484750"
  },
  {
    "text": "the postmessage API to send a small message to that page that's on the iframe and it doesn't have to be on the",
    "start": "484750",
    "end": "491050"
  },
  {
    "text": "same origin so that's that's a powerful thing that you can you can open things up cross-domain so that's just one",
    "start": "491050",
    "end": "498220"
  },
  {
    "text": "example and a lot of other things are especially in what we talked about",
    "start": "498220",
    "end": "503890"
  },
  {
    "text": "earlier in Moby specialty that advertising that's where you start seeing a lot of when third-party content",
    "start": "503890",
    "end": "513039"
  },
  {
    "text": "it comes into your page and an iframe social like buttons and things like that",
    "start": "513039",
    "end": "519159"
  },
  {
    "text": "that becomes then they're usually hosted on different domains that you start",
    "start": "519160",
    "end": "524440"
  },
  {
    "text": "running into these same origin policies and this is a good way around that so",
    "start": "524440",
    "end": "529750"
  },
  {
    "start": "528000",
    "end": "817000"
  },
  {
    "text": "the post missed its architecture is you use post message to send a message now",
    "start": "529750",
    "end": "537670"
  },
  {
    "text": "on the receiving end you need to add what is known as an event listener for",
    "start": "537670",
    "end": "543370"
  },
  {
    "text": "messages that are coming in there's a couple of gotchas there but when you",
    "start": "543370",
    "end": "548560"
  },
  {
    "text": "send the message in JavaScript you use the postmessage API you send the message and you pass",
    "start": "548560",
    "end": "554170"
  },
  {
    "text": "in the target origin as you can see there and then the receiving end let's",
    "start": "554170",
    "end": "560170"
  },
  {
    "text": "say the either to page I mean it works in the same way in both directions the",
    "start": "560170",
    "end": "565540"
  },
  {
    "text": "receiving end has an event listener it receives a message object it detects to",
    "start": "565540",
    "end": "571779"
  },
  {
    "text": "see it checks to see which origin that came from and then it makes a decision",
    "start": "571779",
    "end": "578050"
  },
  {
    "text": "on whether to parse that or not so that's the the high level architecture so in JavaScript that would look like",
    "start": "578050",
    "end": "585250"
  },
  {
    "text": "this you send a message or use post message passing in the actual message",
    "start": "585250",
    "end": "591820"
  },
  {
    "text": "that could be an object it could be text and then you can also send the or you",
    "start": "591820",
    "end": "597519"
  },
  {
    "text": "have to provide the the target origin that's an extra security feature but",
    "start": "597519",
    "end": "604240"
  },
  {
    "text": "what's important here is that the browser tax on as you can see in this",
    "start": "604240",
    "end": "609810"
  },
  {
    "text": "here the browser adds your origin and that's something that can't really be",
    "start": "609810",
    "end": "615100"
  },
  {
    "text": "spoofed unless you write your own evil browser but let's say that normally that",
    "start": "615100",
    "end": "621010"
  },
  {
    "text": "cannot be messed with so in that sense it's secure so you're not actually passing in the your origin but you're",
    "start": "621010",
    "end": "629110"
  },
  {
    "text": "passing the target origin then the receiving end adds an event listener for",
    "start": "629110",
    "end": "634899"
  },
  {
    "text": "the message that's a named event it listens for that passes that through a",
    "start": "634899",
    "end": "640630"
  },
  {
    "text": "message hand passes it off to a message handler which checks to see the origin if it's one of the list of trusted",
    "start": "640630",
    "end": "647019"
  },
  {
    "text": "origins then it goes ahead and does something with that message so that's",
    "start": "647019",
    "end": "653079"
  },
  {
    "text": "really the key thing and you do that on both sides of course and anyone knowing",
    "start": "653079",
    "end": "661050"
  },
  {
    "text": "another API that uses post message this is not for a book that's just web",
    "start": "661050",
    "end": "667750"
  },
  {
    "text": "workers right exactly so web workers is always on the same origin the difference",
    "start": "667750",
    "end": "672790"
  },
  {
    "text": "there is you use post message and you just pass the message in you don't have to pass the target origin because it's",
    "start": "672790",
    "end": "678490"
  },
  {
    "text": "assumed it's the same origin because you cannot start a web worker on from a",
    "start": "678490",
    "end": "683740"
  },
  {
    "text": "different origin has to be same word now there's a really important detail here you may have",
    "start": "683740",
    "end": "689649"
  },
  {
    "text": "already seen that there's a pretty big vulnerability or a possible vulnerability in here if I go back to",
    "start": "689649",
    "end": "696730"
  },
  {
    "text": "this add event listener if I just said look I'll listen for messages and I",
    "start": "696730",
    "end": "701889"
  },
  {
    "text": "don't check as you can see here I don't check the origin but I immediately start",
    "start": "701889",
    "end": "707380"
  },
  {
    "text": "processing it well that could be a real problem and the specification has the",
    "start": "707380",
    "end": "712930"
  },
  {
    "text": "first line of the spec is a giant the red warning because you're using an",
    "start": "712930",
    "end": "718720"
  },
  {
    "text": "event listener that cannot really be changed it's effectively you need to",
    "start": "718720",
    "end": "724870"
  },
  {
    "text": "write that code yourself and it's quite important and there's actually quite a few examples out there on the web that",
    "start": "724870",
    "end": "731500"
  },
  {
    "text": "don't do this at all they just you know take the message parse it and then you could open yourself up to quite a",
    "start": "731500",
    "end": "738399"
  },
  {
    "text": "vulnerability so this is quite an important detail what you should be doing is using a white list of allowed",
    "start": "738399",
    "end": "745750"
  },
  {
    "text": "origins okay so this is actually a feature that supported in IE 8 right so",
    "start": "745750",
    "end": "751839"
  },
  {
    "text": "this is something you should really be able to use this has been around for a long time you can use that and so there",
    "start": "751839",
    "end": "759550"
  },
  {
    "text": "are emulations for older browsers a couple of them one of them is a pretty wide widespread adoption is called easy",
    "start": "759550",
    "end": "766689"
  },
  {
    "text": "XDM another one is the causing WebSocket gateway that actually has a an emulation",
    "start": "766689",
    "end": "772000"
  },
  {
    "text": "for that all the way back to ie6 and and for those of you that don't know this",
    "start": "772000",
    "end": "777420"
  },
  {
    "text": "there is a great website and I've put links in here and I'll hand out the presentation afterwards so I'll put it",
    "start": "777420",
    "end": "784060"
  },
  {
    "text": "on SlideShare can I use com that's your one place to go to to see all of the",
    "start": "784060",
    "end": "790569"
  },
  {
    "text": "browser support and it will tell you exactly which browser support it ok I'm going to move on to the next section",
    "start": "790569",
    "end": "796360"
  },
  {
    "text": "which is a course so course stands for cross-origin resource sharing there's a",
    "start": "796360",
    "end": "804399"
  },
  {
    "text": "great site that I recommend all of you to look at if you're interested in that and basically when you start moving away",
    "start": "804399",
    "end": "811149"
  },
  {
    "text": "from the intra browse or interrupt page communication like we just talked about the cross document messaging then you're",
    "start": "811149",
    "end": "818680"
  },
  {
    "text": "very soon going to talk to a server so you have a maybe an xml httprequest that",
    "start": "818680",
    "end": "825450"
  },
  {
    "text": "you're making to a remote site well there's a potential problem because if",
    "start": "825450",
    "end": "831750"
  },
  {
    "text": "that's on a different origin you can't you can't do that right with the same",
    "start": "831750",
    "end": "838770"
  },
  {
    "text": "origin policy so people have found even there a nice way around it jsonp jsonp",
    "start": "838770",
    "end": "846750"
  },
  {
    "text": "can be kind of kind of danger this is jason with padding effectively what you're doing is you're taking a script",
    "start": "846750",
    "end": "853230"
  },
  {
    "text": "you're basically sending a message and you're you're you're saying here you decide what script you're going to run",
    "start": "853230",
    "end": "860400"
  },
  {
    "text": "on my page so that's if that doesn't sound dangerous to you then we probably",
    "start": "860400",
    "end": "867180"
  },
  {
    "text": "weren't listening so that's that's really not a great architecture now",
    "start": "867180",
    "end": "872520"
  },
  {
    "text": "html5 defines a new API which is the or not an API a new standard for allowing",
    "start": "872520",
    "end": "881040"
  },
  {
    "text": "access to resources on a server but by",
    "start": "881040",
    "end": "886380"
  },
  {
    "text": "doing that by allowing that through a white list of allowed origins so there's",
    "start": "886380",
    "end": "892140"
  },
  {
    "text": "a standard that's now built around that that makes it easier to share resources",
    "start": "892140",
    "end": "897420"
  },
  {
    "text": "from different places with each other and so basically the big difference with",
    "start": "897420",
    "end": "902520"
  },
  {
    "text": "xhr and coors using the course architecture instead of JSON p is that",
    "start": "902520",
    "end": "908250"
  },
  {
    "text": "you're no longer getting code but you're getting the data that you want it in a",
    "start": "908250",
    "end": "915720"
  },
  {
    "text": "in a safe way so what we'll take a look look at that so the the core standard",
    "start": "915720",
    "end": "920910"
  },
  {
    "text": "defines a set of headers because right now you're moving from the the page to",
    "start": "920910",
    "end": "926880"
  },
  {
    "text": "another origin that is on another server right in this server you need to",
    "start": "926880",
    "end": "932880"
  },
  {
    "text": "communicate effectively that same origin property that we were talking about in cross document messaging you need to",
    "start": "932880",
    "end": "939450"
  },
  {
    "text": "communicate that to the server so how do you do that over the web well you send",
    "start": "939450",
    "end": "945300"
  },
  {
    "text": "an HTTP header and the server responds with one soda on the one side there is the origin header that's different from",
    "start": "945300",
    "end": "952890"
  },
  {
    "text": "the reefer header a famous misspelling in HTTP and that is just that origin concept we",
    "start": "952890",
    "end": "960860"
  },
  {
    "text": "talked about earlier the scheme host port on the return the server will allow",
    "start": "960860",
    "end": "966950"
  },
  {
    "text": "you it will say to sort of display which origins are allowed for that particular",
    "start": "966950",
    "end": "974780"
  },
  {
    "text": "service so what this really allows you this is pretty powerful it doesn't sound",
    "start": "974780",
    "end": "980840"
  },
  {
    "text": "like much perhaps but in the past there was a lot of there were a lot of problems with server-side aggregation",
    "start": "980840",
    "end": "987650"
  },
  {
    "text": "being a necessity because of that same origin policy for example you have a",
    "start": "987650",
    "end": "994010"
  },
  {
    "text": "page that has a stock portlet in a news portlet well if they come from different",
    "start": "994010",
    "end": "1000820"
  },
  {
    "text": "origins the browser would first need to talk to some sort of application server which aggregates everything and then",
    "start": "1000820",
    "end": "1007600"
  },
  {
    "text": "serves it up from a single origin now the browser can go to a page make",
    "start": "1007600",
    "end": "1014610"
  },
  {
    "text": "cross-domain connections send cross domain let's say xmlhttprequest by using",
    "start": "1014610",
    "end": "1021400"
  },
  {
    "text": "that course standard it can if it communicates like i'm on this origin and",
    "start": "1021400",
    "end": "1027420"
  },
  {
    "text": "the server says okay on that origin you have access to this content go for it so",
    "start": "1027420",
    "end": "1033250"
  },
  {
    "text": "now you can open it wide up and still in a secure way so it's really protecting",
    "start": "1033250",
    "end": "1038980"
  },
  {
    "text": "the server's resources and if you look at the the HTTP headers that are come",
    "start": "1038980",
    "end": "1045880"
  },
  {
    "text": "with this and again I'll make the slides available online later it sends the",
    "start": "1045880",
    "end": "1051430"
  },
  {
    "text": "browsers that support this they send an Origin header and on the way back the server will pass in different access",
    "start": "1051430",
    "end": "1060610"
  },
  {
    "text": "control allow origin credentials methods and so on so it sends it back access",
    "start": "1060610",
    "end": "1067360"
  },
  {
    "text": "control headers this is defined in that core specification something similar to",
    "start": "1067360",
    "end": "1072670"
  },
  {
    "text": "this would be in canvas when you display an image on a canvas the canvas becomes",
    "start": "1072670",
    "end": "1079780"
  },
  {
    "text": "tainted if that images from a different origin so now similarly on canvas you",
    "start": "1079780",
    "end": "1085060"
  },
  {
    "text": "can define a cross origin attribute that you know when you communicate and you get it from",
    "start": "1085060",
    "end": "1090710"
  },
  {
    "text": "a server that does allow that you can use that and get the image data from that canvas image right so this the core",
    "start": "1090710",
    "end": "1099470"
  },
  {
    "text": "standard itself is supported in all these browsers I eight has something",
    "start": "1099470",
    "end": "1106820"
  },
  {
    "text": "called cross domain request xdr that does a lot of what this is doing so it",
    "start": "1106820",
    "end": "1113150"
  },
  {
    "text": "it's not an identical standard but it's close enough in many cases and you do",
    "start": "1113150",
    "end": "1119000"
  },
  {
    "text": "need for this server that supports that standard now xmlhttprequest is where",
    "start": "1119000",
    "end": "1126590"
  },
  {
    "text": "really where we use this and also in web sockets we will use this cross domain capability so xhr is the Ajax API if you",
    "start": "1126590",
    "end": "1137420"
  },
  {
    "start": "1132000",
    "end": "1341000"
  },
  {
    "text": "will there were a couple of things lacking that have been fixed in xhr",
    "start": "1137420",
    "end": "1143210"
  },
  {
    "text": "level two and their progress events support for binary and also cross domain",
    "start": "1143210",
    "end": "1149750"
  },
  {
    "text": "using the core standard now in the past",
    "start": "1149750",
    "end": "1155090"
  },
  {
    "text": "the progress events were very hard to to get like in some some browsers they",
    "start": "1155090",
    "end": "1160850"
  },
  {
    "text": "wouldn't fire properly the different ready states where numeric properties",
    "start": "1160850",
    "end": "1166940"
  },
  {
    "text": "that you could get and it was a bit bit of a hack so now there are these named progress events that are supported by",
    "start": "1166940",
    "end": "1173810"
  },
  {
    "text": "the different browsers that support the standard and you can build very nice progress bars there's even a new HTML",
    "start": "1173810",
    "end": "1181930"
  },
  {
    "text": "progress element that ties in nicely with this standard so these ready state",
    "start": "1181930",
    "end": "1188540"
  },
  {
    "text": "and ready state change in typical html5 so are retained for backward compatibility now you the way you would",
    "start": "1188540",
    "end": "1196460"
  },
  {
    "text": "use them would be something like building a status bar of how much you have uploaded or how much you have",
    "start": "1196460",
    "end": "1202820"
  },
  {
    "text": "downloaded so if you do an xhr get or post you can monitor how much of that",
    "start": "1202820",
    "end": "1208040"
  },
  {
    "text": "data has come to you and compute how much is already has been loaded I have",
    "start": "1208040",
    "end": "1215270"
  },
  {
    "text": "an example of that later so the cross domain xhr you can't really tell that that's across",
    "start": "1215270",
    "end": "1223220"
  },
  {
    "text": "domain unless you know the origin that you're making that request from so that's something you can't really see",
    "start": "1223220",
    "end": "1229250"
  },
  {
    "text": "that the API call itself hasn't been changed but you know that you just have",
    "start": "1229250",
    "end": "1234710"
  },
  {
    "text": "to know different origins are now possible so if this server that you're talking to actually supports that",
    "start": "1234710",
    "end": "1242350"
  },
  {
    "text": "communication if it supports your origin in an access control policy now binary",
    "start": "1242350",
    "end": "1248570"
  },
  {
    "text": "data is also supported you can have either blobs or typed arrays this is really good for if you want to upload",
    "start": "1248570",
    "end": "1255530"
  },
  {
    "text": "let's say files or there's a new file API that you can start using you can make an xhr get or post and you can",
    "start": "1255530",
    "end": "1263420"
  },
  {
    "text": "start working with binary data for you know like audio and things like we talked about in the last event so that's",
    "start": "1263420",
    "end": "1270290"
  },
  {
    "text": "another thing you can do there's a nice little demo see here",
    "start": "1270290",
    "end": "1279460"
  },
  {
    "text": "right that Eric bidelman put together so yeah",
    "start": "1283520",
    "end": "1294380"
  },
  {
    "text": "like this is basically using well actually see",
    "start": "1294380",
    "end": "1300679"
  },
  {
    "text": "I just uploading a PDF and there so it did the binary support a binary post it",
    "start": "1313280",
    "end": "1321470"
  },
  {
    "text": "also did a progress tracking using a progress element so quite a few things",
    "start": "1321470",
    "end": "1326660"
  },
  {
    "text": "at once at play there but really the",
    "start": "1326660",
    "end": "1332600"
  },
  {
    "text": "main thing here is that that this is a much better standard for cross domain communication than the variety of hacks",
    "start": "1332600",
    "end": "1340130"
  },
  {
    "text": "that have been used in the past and so this is supportive pretty well like I",
    "start": "1340130",
    "end": "1345380"
  },
  {
    "text": "mentioned in ie8 there's something so just the as a note here Internet",
    "start": "1345380",
    "end": "1353510"
  },
  {
    "text": "Explorer was the first one that came out with xml httprequest so then everyone else like that idea a lot and they",
    "start": "1353510",
    "end": "1358970"
  },
  {
    "text": "followed so Internet Explorer already has had XD are the cross domain request",
    "start": "1358970",
    "end": "1364790"
  },
  {
    "text": "which is not exactly the same it doesn't have the same support according to the spec but it does the cross domain part",
    "start": "1364790",
    "end": "1371570"
  },
  {
    "text": "really well and many times if that's what you need you can you know fall back if you will to that so that's a good way",
    "start": "1371570",
    "end": "1379370"
  },
  {
    "text": "to do that okay you do also need some server support so on the server side",
    "start": "1379370",
    "end": "1385280"
  },
  {
    "text": "this is not really hard but I can give you an example of it",
    "start": "1385280",
    "end": "1390880"
  },
  {
    "text": "okay so",
    "start": "1395780",
    "end": "1399260"
  },
  {
    "text": "alright so that this is a night if",
    "start": "1406720",
    "end": "1412480"
  },
  {
    "text": "you're familiar with Python there's a simple HTTP server so Python house the simple a secures are basically a web",
    "start": "1412480",
    "end": "1419260"
  },
  {
    "text": "server in Python and in about 30 see 39",
    "start": "1419260",
    "end": "1425260"
  },
  {
    "text": "or 37 lines of code it's been extended to be a core server how to do it well",
    "start": "1425260",
    "end": "1431710"
  },
  {
    "text": "it's just all that needs to do is understand the origin header coming in and advertise the right access control",
    "start": "1431710",
    "end": "1439570"
  },
  {
    "text": "allow headers it basically needs to have a course implementation on the server is it very easy you can do this and you can",
    "start": "1439570",
    "end": "1446080"
  },
  {
    "text": "set this up again one of the things that's going out is out there in the",
    "start": "1446080",
    "end": "1451570"
  },
  {
    "text": "wild is that it would want to warn you about and some examples have this is where the default policy as you can see",
    "start": "1451570",
    "end": "1458710"
  },
  {
    "text": "here let make it a little bit bigger right I'm saying access control allow",
    "start": "1458710",
    "end": "1466030"
  },
  {
    "text": "origin and I've put in a particular origin that's something I have running on my machine but many people will put",
    "start": "1466030",
    "end": "1474370"
  },
  {
    "text": "the default to be star and again that's not a good idea just like the the cross document messaging just by opening it up",
    "start": "1474370",
    "end": "1481690"
  },
  {
    "text": "wide the best possible way you can do this is to start with a default deny",
    "start": "1481690",
    "end": "1487630"
  },
  {
    "text": "policy and then open it up slowly that's quite important and there's tons of",
    "start": "1487630",
    "end": "1493690"
  },
  {
    "text": "examples out there on the web that dude is just by like quick prototype with a star I'm sure some of that will have",
    "start": "1493690",
    "end": "1499929"
  },
  {
    "text": "made it already into production which would be which is a real shame",
    "start": "1499929",
    "end": "1505110"
  },
  {
    "text": "but yeah so in essence is not very hard to build a course compliant server and",
    "start": "1507350",
    "end": "1513020"
  },
  {
    "text": "an Apache there are some boilerplate project has a couple of good sections in",
    "start": "1513020",
    "end": "1519049"
  },
  {
    "text": "the documentation where you can take basically the Apache configuration and extended okay so on talk about web",
    "start": "1519049",
    "end": "1526580"
  },
  {
    "text": "socket web sockets if you want to build an application let's say a financial",
    "start": "1526580",
    "end": "1532549"
  },
  {
    "start": "1527000",
    "end": "1772000"
  },
  {
    "text": "trading application or social networking application or there any one of these",
    "start": "1532549",
    "end": "1537559"
  },
  {
    "text": "application gaming system monitoring anything but sort of a real-time component but also what you can tell",
    "start": "1537559",
    "end": "1546200"
  },
  {
    "text": "here is sort of a bi-directional component so web sockets really good because it opens a socket where",
    "start": "1546200",
    "end": "1553330"
  },
  {
    "text": "bi-directional full-duplex communication can take place so it's not just one way",
    "start": "1553330",
    "end": "1558740"
  },
  {
    "text": "server side push but bi-directional traffic and there were many approaches",
    "start": "1558740",
    "end": "1564950"
  },
  {
    "text": "that were used in the past that you've probably heard about the comet and reverse Ajax are some of those those",
    "start": "1564950",
    "end": "1571669"
  },
  {
    "text": "were pretty clever hacks on top of HTTP letting HTTP do what socket connection",
    "start": "1571669",
    "end": "1581720"
  },
  {
    "text": "would do but with some pretty fundamental problems and the reason for",
    "start": "1581720",
    "end": "1587330"
  },
  {
    "text": "that is that it was all based on HTTP HTTP sits on top of TCP and it basically",
    "start": "1587330",
    "end": "1594169"
  },
  {
    "text": "trims it down to a half duplex connection half duplex meaning you can",
    "start": "1594169",
    "end": "1599510"
  },
  {
    "text": "only speak in one direction at a time to think of it like a walkie-talkie where I",
    "start": "1599510",
    "end": "1605299"
  },
  {
    "text": "press a button I hold open the channel I speak now I'll have to let it go and",
    "start": "1605299",
    "end": "1610370"
  },
  {
    "text": "they can talk back to me all right so take a look at this example I'm sure",
    "start": "1610370",
    "end": "1617120"
  },
  {
    "text": "you've used this use this every day right you go to Google you type in a few",
    "start": "1617120",
    "end": "1623299"
  },
  {
    "text": "letters and actually what's happening is so just to take a step back here the",
    "start": "1623299",
    "end": "1629630"
  },
  {
    "text": "original idea like the original idea about HTTP there's nothing wrong fundamentally with HTTP for what the web",
    "start": "1629630",
    "end": "1637130"
  },
  {
    "text": "was designed for you know 20-plus years ago and so to",
    "start": "1637130",
    "end": "1643000"
  },
  {
    "text": "retrieve an object you send some headers to the server you say what you want you get that object done and that's the",
    "start": "1643000",
    "end": "1649960"
  },
  {
    "text": "static web that's how the web was designed but now with Ajax calls left",
    "start": "1649960",
    "end": "1656560"
  },
  {
    "text": "and right and then very dynamic websites and constant updates you have to constantly get new data into your page",
    "start": "1656560",
    "end": "1663520"
  },
  {
    "text": "or either refresh the page or get partial refresh now just just take a",
    "start": "1663520",
    "end": "1669730"
  },
  {
    "text": "look at this very simple example is an AJAX call that's going out to the server",
    "start": "1669730",
    "end": "1674820"
  },
  {
    "text": "with the letters that you've typed so I very quickly type in html5 it takes that",
    "start": "1674820",
    "end": "1680260"
  },
  {
    "text": "it sends it to the google search server comes back and just that xml httprequest",
    "start": "1680260",
    "end": "1689830"
  },
  {
    "text": "that that sort of post or you know get some data from the server resulted in a",
    "start": "1689830",
    "end": "1697740"
  },
  {
    "text": "1500 round about 1500 characters being sent to the server and coming back so",
    "start": "1697740",
    "end": "1703540"
  },
  {
    "text": "about I don't know a thousand going to the server and 500 coming back just that one HTTP request because it's still",
    "start": "1703540",
    "end": "1710410"
  },
  {
    "text": "using HTTP as a foundation and the equivalent would be something like this",
    "start": "1710410",
    "end": "1718680"
  },
  {
    "text": "let's say I wanted to talk to you there's actually pretty cool library not sure how well this will be done all",
    "start": "1722110",
    "end": "1732070"
  },
  {
    "text": "right so make it a little bit louder when it comes html5 evil okay this is what I want to tell you right instead",
    "start": "1732070",
    "end": "1739210"
  },
  {
    "text": "you're talking to the server HTTP /",
    "start": "1739210",
    "end": "1745480"
  },
  {
    "text": "levels were both html5 please calm user agent Phil / hypoxia or Macintosh",
    "start": "1745480",
    "end": "1753100"
  },
  {
    "text": "observe text HTML accept land with ever met accept-encoding TV deflated",
    "start": "1753100",
    "end": "1759640"
  },
  {
    "text": "connection keep-alive code a lot more days cache-control max is equal to zero",
    "start": "1759640",
    "end": "1765160"
  },
  {
    "text": "hello there exactly right so the problem",
    "start": "1765160",
    "end": "1771549"
  },
  {
    "text": "with all of that overhead is if you need to get a big file a large HTML document",
    "start": "1771549",
    "end": "1778870"
  },
  {
    "start": "1772000",
    "end": "1930000"
  },
  {
    "text": "or PDF frame whatever doesn't matter did you have some overhead it's minimal compared to the size of what you're",
    "start": "1778870",
    "end": "1784360"
  },
  {
    "text": "downloading instead in most applications today it's not the main page that were",
    "start": "1784360",
    "end": "1790179"
  },
  {
    "text": "so worried about it is what's happening inside the page all of the Ajax requests all of the things that are happening",
    "start": "1790179",
    "end": "1795960"
  },
  {
    "text": "that's where you start running into some problems right so for example from the",
    "start": "1795960",
    "end": "1801429"
  },
  {
    "text": "client to the server a typical request can be anywhere from anywhere from 500",
    "start": "1801429",
    "end": "1807160"
  },
  {
    "text": "to 2500 characters of overhead of extra HTTP overhead unnecessary network",
    "start": "1807160",
    "end": "1814690"
  },
  {
    "text": "traffic from the server to the client there's it's usually a little bit less",
    "start": "1814690",
    "end": "1819940"
  },
  {
    "text": "right so the ratio is usually heavily in the on the on the request now there's no",
    "start": "1819940",
    "end": "1828900"
  },
  {
    "text": "exact number on this right there's no like it's so many bytes it depends on how the server is configured your",
    "start": "1828900",
    "end": "1834910"
  },
  {
    "text": "cookies and all of that and if you really want to tune this that's an area where you can do some quite a bit of",
    "start": "1834910",
    "end": "1840880"
  },
  {
    "text": "good work you can do a cookie less domain and all of those crazy things but you can trim it down but you can't trim",
    "start": "1840880",
    "end": "1846910"
  },
  {
    "text": "it down that much and if you think about what it actually means if you make a request and you get a response the",
    "start": "1846910",
    "end": "1853419"
  },
  {
    "text": "request is actually upload and in most people's cases the",
    "start": "1853419",
    "end": "1859130"
  },
  {
    "text": "upload versus download ratio is in the neighborhood of like 4 to 1 so you have",
    "start": "1859130",
    "end": "1864860"
  },
  {
    "text": "the most traffic on the slowest possible connection so you start making a lot of",
    "start": "1864860",
    "end": "1870680"
  },
  {
    "text": "those requests that's I mean that's why a lot of the performance tuning classes always teach you know like minimize the",
    "start": "1870680",
    "end": "1877309"
  },
  {
    "text": "number of requests and so on so there's just no way around it though if you have to do that to get your real-time data",
    "start": "1877309",
    "end": "1884350"
  },
  {
    "text": "and that's where WebSocket comes in so it's a new a completely new protocol so",
    "start": "1884350",
    "end": "1889760"
  },
  {
    "text": "it's no longer HTTP it starts out as you'll see later as an eight with an HTTP handshake and but it's also so it's",
    "start": "1889760",
    "end": "1898040"
  },
  {
    "text": "a new protocol but it's also an API at javascript api so there's the w3c api",
    "start": "1898040",
    "end": "1905570"
  },
  {
    "text": "that will take a look at first and then there's the protocol that that's what",
    "start": "1905570",
    "end": "1910730"
  },
  {
    "text": "happens under the covers you don't as a developer you don't have to worry about that too much a nice thing about it is",
    "start": "1910730",
    "end": "1916730"
  },
  {
    "text": "actually sharing the same port with HTTP and HTTPS and there are new schemes for",
    "start": "1916730",
    "end": "1923809"
  },
  {
    "text": "this protocol WS and WS s we talked about steam host port this is where that comes in again and it gives you a full",
    "start": "1923809",
    "end": "1931940"
  },
  {
    "start": "1930000",
    "end": "2174000"
  },
  {
    "text": "duplex socket connection to a back-end server that's actually one of the first",
    "start": "1931940",
    "end": "1938720"
  },
  {
    "text": "lines in the specification that's important it allows browsers to talk to",
    "start": "1938720",
    "end": "1944600"
  },
  {
    "text": "a remote host and I'll come back to that in a little bit now the API is actually",
    "start": "1944600",
    "end": "1950809"
  },
  {
    "text": "as I mentioned earlier pretty simple you create a new web socket and you do that",
    "start": "1950809",
    "end": "1956510"
  },
  {
    "text": "you create this new web socket object and you pass in the ws based URL so this",
    "start": "1956510",
    "end": "1964550"
  },
  {
    "text": "is not an HTTP replacement you still have an HTTP based page and you request",
    "start": "1964550",
    "end": "1970970"
  },
  {
    "text": "the page the page in JavaScript makes a connection to a WebSocket server all",
    "start": "1970970",
    "end": "1977420"
  },
  {
    "text": "right so it's a part of the page that's communicating opening up that socket for direct connection and then it's an",
    "start": "1977420",
    "end": "1984110"
  },
  {
    "text": "asynchronous programming paradigm where you add these listeners all of the events that can happen open",
    "start": "1984110",
    "end": "1991550"
  },
  {
    "text": "closed and so on but the first the most important one is that one the on message on message is when you receive a message",
    "start": "1991550",
    "end": "1998740"
  },
  {
    "text": "so so far that's one way of traffic",
    "start": "1998740",
    "end": "2003940"
  },
  {
    "text": "right you you receive messages you can receive lots of messages very quickly but that's only one half of it the other",
    "start": "2003940",
    "end": "2012310"
  },
  {
    "text": "half is you at at will can start sending messages so you can send and receive at",
    "start": "2012310",
    "end": "2019000"
  },
  {
    "text": "the same time something that is not possible with HTTP because of its half duplex nature so you can check support",
    "start": "2019000",
    "end": "2028840"
  },
  {
    "text": "in your browser for this you can do that I recommend using fabrics modernizer but",
    "start": "2028840",
    "end": "2035740"
  },
  {
    "text": "you can also check window WebSocket that's actually fairly straightforward but typically these things are better",
    "start": "2035740",
    "end": "2042040"
  },
  {
    "text": "done with a whole team of developers working for you so window dot WebSocket",
    "start": "2042040",
    "end": "2048429"
  },
  {
    "text": "will tell you then alright so a little bit of actually let me just jump in here a second and give you a quick little",
    "start": "2048430",
    "end": "2056290"
  },
  {
    "text": "demo all right so just a step step",
    "start": "2056290",
    "end": "2062350"
  },
  {
    "text": "through that a little bit in the code here all right so here's my very simple",
    "start": "2062350",
    "end": "2070330"
  },
  {
    "text": "page have some script in it and here this is a very basic example so you",
    "start": "2070330",
    "end": "2079600"
  },
  {
    "text": "check if WebSocket of support it now in Firefox up until recently and I think",
    "start": "2079600",
    "end": "2085750"
  },
  {
    "text": "it's the production version of Firefox still has this you have to check for ma's WebSocket so it's prefixed and I",
    "start": "2085750",
    "end": "2094000"
  },
  {
    "text": "believe version 12 or 13 will remove this prefix and we'll be in production",
    "start": "2094000",
    "end": "2099460"
  },
  {
    "text": "then but it's not yet so you want to check WebSocket most browsers have implemented this as WebSocket unpressed",
    "start": "2099460",
    "end": "2107580"
  },
  {
    "text": "maza WebSocket then the next step is you let me make it a little bit bigger",
    "start": "2107580",
    "end": "2115710"
  },
  {
    "text": "you can create a web socket then it's handy to wrap that in that maas web socket as well like I did here and at",
    "start": "2116750",
    "end": "2125000"
  },
  {
    "text": "that point I add the listener so with a few lines of code I you know flush out",
    "start": "2125000",
    "end": "2131090"
  },
  {
    "text": "all the listeners and I have a send websockets end with an input message so",
    "start": "2131090",
    "end": "2137810"
  },
  {
    "text": "if I look at that here this is my page simple page when I open it I connect so",
    "start": "2137810",
    "end": "2144410"
  },
  {
    "text": "I'm now connected to a WebSocket server that have hosted somewhere on the cloud and now i can simply use the well of",
    "start": "2144410",
    "end": "2154010"
  },
  {
    "text": "course i can try to use the speech input but there was a problem always something",
    "start": "2154010",
    "end": "2163630"
  },
  {
    "text": "and here so this is a pretty standard like it's an echo server that basically",
    "start": "2164380",
    "end": "2171440"
  },
  {
    "text": "echoes back messages to me now that's that's the basic yes yeah you know thank",
    "start": "2171440",
    "end": "2184280"
  },
  {
    "text": "you yeah so how is this different from HX well in ajax i would be able to take",
    "start": "2184280",
    "end": "2191180"
  },
  {
    "text": "the input send it to the server and a server let's say i did the same exact thing it would echo it back to me so the",
    "start": "2191180",
    "end": "2197000"
  },
  {
    "text": "biggest difference there is sheer overhead right i make a connection I've",
    "start": "2197000",
    "end": "2202220"
  },
  {
    "text": "established the persistent connection to that server now I sent this message and",
    "start": "2202220",
    "end": "2207440"
  },
  {
    "text": "i'm going to show you that in a little bit i'm only wrapping that message that protocol is only wrapping that message",
    "start": "2207440",
    "end": "2213170"
  },
  {
    "text": "in two to six bytes if you do it in ajax you're going to be sending 1500 bytes",
    "start": "2213170",
    "end": "2220400"
  },
  {
    "text": "back and forth over the network now that's the may be fine in something like this this is kind of like a chat idea",
    "start": "2220400",
    "end": "2227930"
  },
  {
    "text": "right where other people could connect to this and we could the echo servers",
    "start": "2227930",
    "end": "2233750"
  },
  {
    "text": "would distribute it to everyone so the problem there is as soon as they're",
    "start": "2233750",
    "end": "2238790"
  },
  {
    "text": "doing a lot of messaging that becomes a lot of overhead on your server if you start having real time data then you're",
    "start": "2238790",
    "end": "2246860"
  },
  {
    "text": "basically constantly making a pole right here you're not actually sending the data when it comes in because you've timed your Ajax call on",
    "start": "2246860",
    "end": "2255560"
  },
  {
    "text": "some sort of timer there are many systems where that called long polling or hanging get pending post so there's",
    "start": "2255560",
    "end": "2264020"
  },
  {
    "text": "many problems there because you don't have you don't have messages as it happens or more latency and a lot more",
    "start": "2264020",
    "end": "2271070"
  },
  {
    "text": "overheads I'll talk about that in a little bit right right yes now this is",
    "start": "2271070",
    "end": "2281660"
  },
  {
    "text": "this would be over TCP so it's reusing actually the same underlying TCP",
    "start": "2281660",
    "end": "2287300"
  },
  {
    "text": "connection and I'll come and come back to that I'm going to have more on that in a little bit right okay so give you a",
    "start": "2287300",
    "end": "2296869"
  },
  {
    "text": "little bit more an exciting demo this was not so exciting Peter get away",
    "start": "2296869",
    "end": "2304210"
  },
  {
    "text": "nope right so when so what I've done",
    "start": "2309960",
    "end": "2317140"
  },
  {
    "text": "before so I'm connecting to a server right so I make a WebSocket connection",
    "start": "2317140",
    "end": "2322210"
  },
  {
    "text": "now have persistent connection open and I can send messages and the server can",
    "start": "2322210",
    "end": "2329230"
  },
  {
    "text": "send them back now what if I connected to that with a mobile device which has a",
    "start": "2329230",
    "end": "2336300"
  },
  {
    "text": "possibility to detect the device",
    "start": "2336300",
    "end": "2342390"
  },
  {
    "text": "orientation right and take that data",
    "start": "2342390",
    "end": "2347619"
  },
  {
    "text": "from that regular API call to get that data or like geolocation or anything like that and take that data and",
    "start": "2347619",
    "end": "2354040"
  },
  {
    "text": "actually send it to that WebSocket server to do something so in this case we've taken an existing 3d WebGL canvas",
    "start": "2354040",
    "end": "2363730"
  },
  {
    "text": "and well I can control it I think no that's fine I can control it with the",
    "start": "2363730",
    "end": "2370839"
  },
  {
    "text": "mouse right that's from this browser but actually what's much more interesting as peter is now controlling this with his",
    "start": "2370839",
    "end": "2378550"
  },
  {
    "text": "iphone over the 3g network and so it's it's it's sending the device orientation",
    "start": "2378550",
    "end": "2386109"
  },
  {
    "text": "details over we're using a like a messaging API on top of web socket in",
    "start": "2386109",
    "end": "2393609"
  },
  {
    "text": "this case but we'll come back to that a little bit later but we're basically sending that data it could be just Jason",
    "start": "2393609",
    "end": "2400540"
  },
  {
    "text": "over WebSocket right it doesn't have to be very much it's sending it to a server",
    "start": "2400540",
    "end": "2405700"
  },
  {
    "text": "that can then control this car so we're communicating I don't know how many hops",
    "start": "2405700",
    "end": "2411160"
  },
  {
    "text": "but this is pretty respond to this is 3g even yeah just a few things to add you",
    "start": "2411160",
    "end": "2417910"
  },
  {
    "text": "go to demo Oh anything it's that on phone all I'm",
    "start": "2417910",
    "end": "2425410"
  },
  {
    "text": "doing is honoring around a lot so these sensitive from my browser the phone our",
    "start": "2425410",
    "end": "2431140"
  },
  {
    "text": "thanks to the left a cupcake way and that that gateway cannot sit back to the desktop so this is not something that",
    "start": "2431140",
    "end": "2439390"
  },
  {
    "text": "you know you go to a different page yeah",
    "start": "2439390",
    "end": "2446170"
  },
  {
    "text": "so well basically if you go to the demo",
    "start": "2446170",
    "end": "2456490"
  },
  {
    "text": "peso the demo so you open a demo on one browser and then you then on the bottom",
    "start": "2456490",
    "end": "2465970"
  },
  {
    "text": "of the screen it will tell you the pass code to enter from that other URL so tell you a URL to go to so you can try",
    "start": "2465970",
    "end": "2471430"
  },
  {
    "text": "this on later and i'll i'll point out the URL for okay no no it'll work",
    "start": "2471430",
    "end": "2480880"
  },
  {
    "text": "anything right yeah it doesn't matter right it's actually on an East Coast",
    "start": "2480880",
    "end": "2487060"
  },
  {
    "text": "server so for for what is worth right okay so a little bit of history the",
    "start": "2487060",
    "end": "2494910"
  },
  {
    "start": "2492000",
    "end": "2633000"
  },
  {
    "text": "original idea behind the specification it was added to this html5",
    "start": "2494910",
    "end": "2500560"
  },
  {
    "text": "communications section believe in",
    "start": "2500560",
    "end": "2505380"
  },
  {
    "text": "2007-2008 i believe and it was out of this tcp connection it was Ian Hickson's",
    "start": "2505620",
    "end": "2510760"
  },
  {
    "text": "idea to control a model train from a browser he was starting to think about that today why don't we just have a TCP",
    "start": "2510760",
    "end": "2517000"
  },
  {
    "text": "connection so I can run a train protocol in a browser that was sort of one of the ideas that that that sparked this that",
    "start": "2517000",
    "end": "2523690"
  },
  {
    "text": "was behind it and then very soon that companies like cussing and other people",
    "start": "2523690",
    "end": "2529690"
  },
  {
    "text": "started contributing to the specification actually here's a picture of the white board at the causing office",
    "start": "2529690",
    "end": "2535810"
  },
  {
    "text": "where we pitched the name WebSocket the net that seemed to stick so that was a pretty cool little picture there and it",
    "start": "2535810",
    "end": "2543310"
  },
  {
    "text": "went through many iterations of that same protocol so it actually started out",
    "start": "2543310",
    "end": "2548470"
  },
  {
    "text": "with a one in one working group and went through 76 iterations there but",
    "start": "2548470",
    "end": "2554630"
  },
  {
    "text": "only 75 and 76 were ever in production browser so they the first browser was chrome late 2009 and was added to Safari",
    "start": "2554630",
    "end": "2561710"
  },
  {
    "text": "and then it changed working group so it started again at zero so 76 equals 0 and",
    "start": "2561710",
    "end": "2568970"
  },
  {
    "text": "then it certainly started working again on new features and the most important one there wasn't up that's the part that",
    "start": "2568970",
    "end": "2575870"
  },
  {
    "text": "was saying now we're a we have an official RFC since December so that's",
    "start": "2575870",
    "end": "2581240"
  },
  {
    "text": "great but also it's added a lot of new features like binary support there was",
    "start": "2581240",
    "end": "2586610"
  },
  {
    "text": "at a certain point a vulnerability that existed in flash and java sockets they",
    "start": "2586610",
    "end": "2593990"
  },
  {
    "text": "try it out to see if they could do that in WebSocket they figured yes they that is possible so let's stop shipping these",
    "start": "2593990",
    "end": "2600980"
  },
  {
    "text": "older versions of the protocol let's fix that and a good example of how html5 how",
    "start": "2600980",
    "end": "2606320"
  },
  {
    "text": "is a community with a lot of momentum behind it things can really happen was that in about six months time the entire",
    "start": "2606320",
    "end": "2613010"
  },
  {
    "text": "protocol was updated and secure so that that same what they call the proxy",
    "start": "2613010",
    "end": "2619160"
  },
  {
    "text": "poisoning attack I can go into that offline is not there anymore in the",
    "start": "2619160",
    "end": "2624920"
  },
  {
    "text": "current versions of WebSocket but it's still there in flash and java so good reason to to move forward with html5 now",
    "start": "2624920",
    "end": "2633830"
  },
  {
    "start": "2633000",
    "end": "2949000"
  },
  {
    "text": "when you make that connection under the covers and you don't have to worry too much about this but under the covers the",
    "start": "2633830",
    "end": "2640490"
  },
  {
    "text": "WebSocket handshake is an HTTP handshake this is kind of important when sting",
    "start": "2640490",
    "end": "2646220"
  },
  {
    "text": "things start breaking you'll see later why that might happen and what the way",
    "start": "2646220",
    "end": "2651740"
  },
  {
    "text": "around that is so if you make a connection you actually send your browser sent some HTTP headers to the",
    "start": "2651740",
    "end": "2658400"
  },
  {
    "text": "server it asks for an upgrade to web socket and then the server responds and",
    "start": "2658400",
    "end": "2664580"
  },
  {
    "text": "says ok upgrade 101 switching protocols now it strips off the HTTP part and it",
    "start": "2664580",
    "end": "2670610"
  },
  {
    "text": "continues on using web socket on the same underlying TCP connection that's",
    "start": "2670610",
    "end": "2677330"
  },
  {
    "text": "important so it's not opening a separate connection it's using port 80 and 443 so you don't actually",
    "start": "2677330",
    "end": "2683040"
  },
  {
    "text": "that gets sort of piggybacking in a way on existing infrastructure which is kind",
    "start": "2683040",
    "end": "2688050"
  },
  {
    "text": "of important then you start sending messages or receiving them well I mentioned earlier how these these were",
    "start": "2688050",
    "end": "2694890"
  },
  {
    "text": "very minimal overhead messages there's only a few bites there's two bites from",
    "start": "2694890",
    "end": "2701130"
  },
  {
    "text": "the server to the client about six by it's going with this masking to avoid",
    "start": "2701130",
    "end": "2707460"
  },
  {
    "text": "that proxy poisoning attack is only a few bites around each message and that's",
    "start": "2707460",
    "end": "2712620"
  },
  {
    "text": "the powerful thing that's what really sets it apart from Ajax now if you",
    "start": "2712620",
    "end": "2717750"
  },
  {
    "text": "compare and this is right following up with that exam example the Ajax calls when you start doing that and you start",
    "start": "2717750",
    "end": "2725670"
  },
  {
    "text": "doing a hundred thousand message or a hundred thousand connected clients all",
    "start": "2725670",
    "end": "2731400"
  },
  {
    "text": "polling the same site right and it all sent a thousand bytes of header traffic",
    "start": "2731400",
    "end": "2736860"
  },
  {
    "text": "pretty soon your servers are going to be knocked over because it just doesn't scale now here's a really exempt",
    "start": "2736860",
    "end": "2743550"
  },
  {
    "text": "interesting example I'll have bundled a link here I'm not going to spend too much time on this but there's something",
    "start": "2743550",
    "end": "2749400"
  },
  {
    "text": "for you to look at this is coming from a company that wasn't originally very excited about web sockets from there",
    "start": "2749400",
    "end": "2755340"
  },
  {
    "text": "early comments but eventually added it this is part of jetty and they did some",
    "start": "2755340",
    "end": "2761130"
  },
  {
    "text": "recent benchmarking about the latency of web socket connections versus comment",
    "start": "2761130",
    "end": "2767700"
  },
  {
    "text": "and it's pretty shocking if you look at this the details and it's I know it's hard to see even here it's hard to see",
    "start": "2767700",
    "end": "2774390"
  },
  {
    "text": "but if you go to that URL you'll see all the details this on the left side is comet the Ajax calls right and this is",
    "start": "2774390",
    "end": "2782400"
  },
  {
    "text": "measured in milliseconds of latency with the band's being a hundred milliseconds at a time the top here is 50,000",
    "start": "2782400",
    "end": "2789920"
  },
  {
    "text": "connections and up until about 20,000 connections is doing pretty well polling",
    "start": "2789920",
    "end": "2795420"
  },
  {
    "text": "the server it gets really it spikes up to in like this seven hundred",
    "start": "2795420",
    "end": "2801180"
  },
  {
    "text": "milliseconds for it's a kind of round trip with that many connections with",
    "start": "2801180",
    "end": "2806340"
  },
  {
    "text": "50,000 on the right side is WebSocket and what's interesting is they've added another band this is 200,000 connections",
    "start": "2806340",
    "end": "2813720"
  },
  {
    "text": "that bands r 1 milli seconds each so it's a hundred times less per line here so this entire",
    "start": "2813720",
    "end": "2820020"
  },
  {
    "text": "thing doesn't you can't even see it on the comet scale right so it's that much",
    "start": "2820020",
    "end": "2826500"
  },
  {
    "text": "of a difference this is a fairly recent study that was done pretty interesting benchmark and if you're interested just",
    "start": "2826500",
    "end": "2833100"
  },
  {
    "text": "take a look at our can talk to you more about it later and the browser support is good there are many browsers that",
    "start": "2833100",
    "end": "2840570"
  },
  {
    "text": "support it I 10 is actually i would say out of old the company's adding",
    "start": "2840570",
    "end": "2846540"
  },
  {
    "text": "WebSocket support microsoft is on fantastic job they're putting it in the browser the IAS server the basically the",
    "start": "2846540",
    "end": "2854430"
  },
  {
    "text": "whole windows core foundation libraries are going to have just three ways of connecting in general tcp UDP and web",
    "start": "2854430",
    "end": "2861690"
  },
  {
    "text": "sockets so it's really moving forward in a huge way there's also a lot of",
    "start": "2861690",
    "end": "2867030"
  },
  {
    "text": "emulation projects out there the causing WebSocket gateway has a full emulation",
    "start": "2867030",
    "end": "2873510"
  },
  {
    "text": "in javascript all the way back to ie6 there are some some plug-in based",
    "start": "2873510",
    "end": "2879080"
  },
  {
    "text": "architectures like the WebSocket jess is a flash-based emulation that may be okay",
    "start": "2879080",
    "end": "2884790"
  },
  {
    "text": "it gets a little problematic when you start doing flash secure web socket over",
    "start": "2884790",
    "end": "2890370"
  },
  {
    "text": "flash because flash then requires you to have a policy file hosted on some other",
    "start": "2890370",
    "end": "2896190"
  },
  {
    "text": "port one of the big benefits here was that you can connect with a WebSocket",
    "start": "2896190",
    "end": "2901230"
  },
  {
    "text": "over port 80 this is actually very very powerful concept if you think about what may be typically blocked in corporate",
    "start": "2901230",
    "end": "2908190"
  },
  {
    "text": "environments the port's that you might want to have open they are not going to be open and now with WebSocket you can",
    "start": "2908190",
    "end": "2915000"
  },
  {
    "text": "just come right out right so 80 and 443 are the default ports so there are a",
    "start": "2915000",
    "end": "2921420"
  },
  {
    "text": "whole bunch of web sockets projects and servers and client libraries I've just",
    "start": "2921420",
    "end": "2927810"
  },
  {
    "text": "this is just a list is not even the complete list I'm sure just an idea of",
    "start": "2927810",
    "end": "2933690"
  },
  {
    "text": "different servers that are out there and different and these range from robust",
    "start": "2933690",
    "end": "2938750"
  },
  {
    "text": "servers to you know prototypes but you can see I mean this is really hitting",
    "start": "2938750",
    "end": "2945180"
  },
  {
    "text": "the mainstream in big way once you have the website once",
    "start": "2945180",
    "end": "2952160"
  },
  {
    "start": "2949000",
    "end": "3040000"
  },
  {
    "text": "you have that communication pipe open this is where it gets interesting right you you can start doing something with",
    "start": "2952160",
    "end": "2957620"
  },
  {
    "text": "that this is I think what is really meant to be done and if you look at the the protocol the way it's been designed",
    "start": "2957620",
    "end": "2964280"
  },
  {
    "text": "is that you can already start adding protocols on top of that so typically",
    "start": "2964280",
    "end": "2969350"
  },
  {
    "text": "with TCP you would do the same thing you you don't you speak a certain protocol",
    "start": "2969350",
    "end": "2974630"
  },
  {
    "text": "like XMPP or jabber two and back end that that's or a messaging a messaging",
    "start": "2974630",
    "end": "2982970"
  },
  {
    "text": "protocol having that same socket at that same WebSocket now allows you to do the",
    "start": "2982970",
    "end": "2988250"
  },
  {
    "text": "same thing that a desktop application could do for many many years already and now you have that same power you can use",
    "start": "2988250",
    "end": "2995540"
  },
  {
    "text": "different libraries for example there's many already many open-source projects like stomp over WebSocket XMPP over",
    "start": "2995540",
    "end": "3003190"
  },
  {
    "text": "WebSocket JMS style java messaging service like you know protocol libraries",
    "start": "3003190",
    "end": "3011890"
  },
  {
    "text": "you can basically plug in and you speak the higher level protocol similarly you wouldn't probably write a pure canvas",
    "start": "3011890",
    "end": "3019000"
  },
  {
    "text": "game with you know move to and line to and stroke you probably want to use a",
    "start": "3019000",
    "end": "3024700"
  },
  {
    "text": "higher level library if you're building a game you're not going to go at that debt load close to the metal and that's",
    "start": "3024700",
    "end": "3031840"
  },
  {
    "text": "precisely what what is starting to happen on the WebSocket front there's a lot of these different libraries out there that you can start using so right",
    "start": "3031840",
    "end": "3041920"
  },
  {
    "start": "3040000",
    "end": "3259000"
  },
  {
    "text": "now the real world has a lot of brings",
    "start": "3041920",
    "end": "3047080"
  },
  {
    "text": "in a couple of interesting things and intermediaries I would say actually boil",
    "start": "3047080",
    "end": "3052570"
  },
  {
    "text": "it down to just one which is proxy servers and to get around that problem",
    "start": "3052570",
    "end": "3057730"
  },
  {
    "text": "and I'll show you why that's a problem in a minute the typical best practices to use web sockets secure now the first",
    "start": "3057730",
    "end": "3065500"
  },
  {
    "text": "thing is the the dreaded proxy servers and these are not the proxy servers that",
    "start": "3065500",
    "end": "3070840"
  },
  {
    "text": "you may have configured in your browser those are what we call explicit proxy servers you configure your browser your",
    "start": "3070840",
    "end": "3077380"
  },
  {
    "text": "browser effectively when it makes a connect so issues a connect header to the server",
    "start": "3077380",
    "end": "3082600"
  },
  {
    "text": "and side hit proxy server I know you're there past me to the real endpoint and",
    "start": "3082600",
    "end": "3087970"
  },
  {
    "text": "many corporations have firewalls and and proxy servers that are a central choke",
    "start": "3087970",
    "end": "3094330"
  },
  {
    "text": "point and for caching reasons and so on now the real problem is what are called",
    "start": "3094330",
    "end": "3100360"
  },
  {
    "text": "transparent proxy servers transparent proxy servers are there you don't know about them but they mess with the header",
    "start": "3100360",
    "end": "3107070"
  },
  {
    "text": "traffic if you paid close attention that you know that part of the headers to",
    "start": "3107070",
    "end": "3113260"
  },
  {
    "text": "upgrade to WebSocket this is an HTTP header that's added well surprise the",
    "start": "3113260",
    "end": "3119400"
  },
  {
    "text": "proxy server specification actually says strip that off don't pass that on to the",
    "start": "3119400",
    "end": "3126610"
  },
  {
    "text": "endpoint well you can kind of figure out what happens then right so I connect",
    "start": "3126610",
    "end": "3131850"
  },
  {
    "text": "through the proxy server that I'm not even aware of proxy server strips off a bunch of headers and it passed on to the",
    "start": "3131850",
    "end": "3138790"
  },
  {
    "text": "server but it doesn't know I want the WebSocket connection now a lot of proxy servers out there are illegally",
    "start": "3138790",
    "end": "3145060"
  },
  {
    "text": "quote-unquote configured to not strip anything off but they're still expecting",
    "start": "3145060",
    "end": "3150370"
  },
  {
    "text": "HTTP traffic so as soon as you have upgraded to web socket and you start sending WebSocket frames it's going to",
    "start": "3150370",
    "end": "3157000"
  },
  {
    "text": "probably choke on that so Google did a lot of research on this and only about I",
    "start": "3157000",
    "end": "3162610"
  },
  {
    "text": "think sixty-five percent of regular unencrypted web socket connections make",
    "start": "3162610",
    "end": "3168580"
  },
  {
    "text": "it right so that's not very good so what is the answer well use WebSocket secure",
    "start": "3168580",
    "end": "3175080"
  },
  {
    "text": "web sockets secure you have to kind of think of it as it's not a different protocol similar to https being HTTP",
    "start": "3175080",
    "end": "3184660"
  },
  {
    "text": "inside of an encrypted tunnel TLS stands for transport layer security also known",
    "start": "3184660",
    "end": "3192520"
  },
  {
    "text": "as SSL once you have that certificate based end-to-end encrypted tunnel you",
    "start": "3192520",
    "end": "3200740"
  },
  {
    "text": "can still start sending your HTTP headers over it like the the initial handshake can succeed because the proxy",
    "start": "3200740",
    "end": "3206740"
  },
  {
    "text": "server can't inspect can't look into that that's quite important and so using",
    "start": "3206740",
    "end": "3212500"
  },
  {
    "text": "WebSockets here is the answer for most and I think they got the same connectivity with up",
    "start": "3212500",
    "end": "3219399"
  },
  {
    "text": "to over ninety-five percent in real life when you use HTTPS there are obviously",
    "start": "3219399",
    "end": "3225519"
  },
  {
    "text": "some cases where if you can't get there an HTTP s you're probably not going to get there with WSS it's not magic but it",
    "start": "3225519",
    "end": "3232839"
  },
  {
    "text": "it follows in a way that's sort of a you could say well that's that's kind of cheap you know it's piggybacking on",
    "start": "3232839",
    "end": "3238659"
  },
  {
    "text": "existing behavior but it does mean that you can actually deploy these things today and you don't have to wait for the",
    "start": "3238659",
    "end": "3244719"
  },
  {
    "text": "entire world to upgrade their servers or use different ports and open all kinds",
    "start": "3244719",
    "end": "3251559"
  },
  {
    "text": "of other things so there's pros and cons to that but that is for better or worse how you can get mass adoption quickly so",
    "start": "3251559",
    "end": "3259839"
  },
  {
    "text": "what this really allows us is to change traditional architectures that are like",
    "start": "3259839",
    "end": "3265179"
  },
  {
    "text": "application server based where an application server is building the UI and is giving you a page there's simply",
    "start": "3265179",
    "end": "3272349"
  },
  {
    "text": "just the something that's built on the server may be some sort of application",
    "start": "3272349",
    "end": "3278909"
  },
  {
    "text": "server that is creating a whole bunch of things on the server side and then pushing it out to the client I've sort",
    "start": "3278909",
    "end": "3285249"
  },
  {
    "text": "of a an end result of what's done on the server you now can change that to a more",
    "start": "3285249",
    "end": "3291239"
  },
  {
    "text": "dynamic web socket architecture where you use any device any browser that is",
    "start": "3291239",
    "end": "3299589"
  },
  {
    "text": "now a much smarter client like a lot of the logic not all of the logic but a lot",
    "start": "3299589",
    "end": "3306249"
  },
  {
    "text": "of the client side you can use all the html5 features to build an application",
    "start": "3306249",
    "end": "3314589"
  },
  {
    "text": "that is as powerful as a desktop application and basically you can do",
    "start": "3314589",
    "end": "3320919"
  },
  {
    "text": "that with having web socket connectivity directly into these backends and again",
    "start": "3320919",
    "end": "3325929"
  },
  {
    "text": "this is this works well with the Korres model that we talked about earlier where you can make connections that can allow",
    "start": "3325929",
    "end": "3332439"
  },
  {
    "text": "certain origins from other origin so it's not replacing HTTP as the way to",
    "start": "3332439",
    "end": "3339849"
  },
  {
    "text": "get the page to the browser but once that page is there it can make many different connections using web",
    "start": "3339849",
    "end": "3345910"
  },
  {
    "text": "sockets and have dynamic data one of the big advantages over Ajax's do not have you don't have to re-advertise all of",
    "start": "3345910",
    "end": "3352510"
  },
  {
    "text": "your data every time because you have a persistent connection and you can have asynchronous messaging in these",
    "start": "3352510",
    "end": "3358390"
  },
  {
    "text": "applications so chat gaming bedding all of that it makes perfect sense to use",
    "start": "3358390",
    "end": "3365230"
  },
  {
    "text": "web sockets for okay so one quick aside here the server sent events is another",
    "start": "3365230",
    "end": "3372400"
  },
  {
    "start": "3367000",
    "end": "3527000"
  },
  {
    "text": "API that you can use for it's basically a standardization of half of a web",
    "start": "3372400",
    "end": "3378520"
  },
  {
    "text": "socket it's a one-way stream from the server to the client and what's",
    "start": "3378520",
    "end": "3384400"
  },
  {
    "text": "interesting about that is it does support a few things like you you could say well I could just write a small wrapper in web socket to do that because",
    "start": "3384400",
    "end": "3391960"
  },
  {
    "text": "web socket has bi-directional communication low overhead server sent events has automatic reconnection event",
    "start": "3391960",
    "end": "3398830"
  },
  {
    "text": "IDs in the case you lose the connection that you can pick up where you left off very good for broadcast good could be a",
    "start": "3398830",
    "end": "3406180"
  },
  {
    "text": "good way to take for example news feeds and data sources that are maybe UDP",
    "start": "3406180",
    "end": "3412300"
  },
  {
    "text": "based and make make them available over the web right so there's multicast",
    "start": "3412300",
    "end": "3418330"
  },
  {
    "text": "networks that that's it pretty well behind a server sent events server that",
    "start": "3418330",
    "end": "3423370"
  },
  {
    "text": "basically just once the client is connected just pushes data down to the client and you don't talk back and it is",
    "start": "3423370",
    "end": "3431080"
  },
  {
    "text": "a little bit more overhead than WebSocket but not much we're talking about maybe from two to six to twenty",
    "start": "3431080",
    "end": "3437860"
  },
  {
    "text": "bytes of overhead on each message so it's still very very low low Network",
    "start": "3437860",
    "end": "3443740"
  },
  {
    "text": "unnecessary network over the API is very simple it's just like I said it's about",
    "start": "3443740",
    "end": "3448900"
  },
  {
    "text": "half of a web socket to create a connection this is http-based you create a connection then you add listeners for",
    "start": "3448900",
    "end": "3455230"
  },
  {
    "text": "open when you receive a message and errors and that's basically there's",
    "start": "3455230",
    "end": "3460480"
  },
  {
    "text": "nothing there's no nothing to send so there's no no other parts to the api's again very simple standardizes a lot of",
    "start": "3460480",
    "end": "3467260"
  },
  {
    "text": "very hard work you have to do to get streaming data into your pages a good example would be this news feed got",
    "start": "3467260",
    "end": "3475120"
  },
  {
    "text": "example right here and you can this is a page with lots of",
    "start": "3475120",
    "end": "3481569"
  },
  {
    "text": "different web socket then also like the sse newsfeed where basically you just",
    "start": "3481569",
    "end": "3486609"
  },
  {
    "text": "connect to a server sent the event server that just as they come in news",
    "start": "3486609",
    "end": "3493500"
  },
  {
    "text": "items come in and you can you can just display them on a page that takes just a",
    "start": "3493500",
    "end": "3499180"
  },
  {
    "text": "few lines of code to write them okay so",
    "start": "3499180",
    "end": "3505780"
  },
  {
    "text": "this is supported in not not as many browsers actually the kind of surprising right that's in a way a simpler feature",
    "start": "3505780",
    "end": "3511480"
  },
  {
    "text": "but not as many browsers have picked it up as as WebSocket but the good news is",
    "start": "3511480",
    "end": "3517420"
  },
  {
    "text": "in web socket is pretty easy to write a rapper that will do SSE for you so you could use web socket to do it but then",
    "start": "3517420",
    "end": "3523900"
  },
  {
    "text": "again you may as well use all of it okay and the final part I wanted to talk",
    "start": "3523900",
    "end": "3530170"
  },
  {
    "start": "3527000",
    "end": "3599000"
  },
  {
    "text": "about this speedy now this is not an html5 feature and I'm not trying to kind",
    "start": "3530170",
    "end": "3536020"
  },
  {
    "text": "of combine it but I think it's interesting because there's been a lot of movement on speedy and it's pretty",
    "start": "3536020",
    "end": "3541089"
  },
  {
    "text": "closely related if you look at it so speedy is actually not an acronym it's",
    "start": "3541089",
    "end": "3546160"
  },
  {
    "text": "the sort of a play on words like they they wanted to speed the web up and do",
    "start": "3546160",
    "end": "3553630"
  },
  {
    "text": "that in a large part as you'll see later through compression so they took the to ease out speedy and that was the how did",
    "start": "3553630",
    "end": "3560410"
  },
  {
    "text": "I came up with that the original name for it was flip so you may see some of",
    "start": "3560410",
    "end": "3565690"
  },
  {
    "text": "that in the documentation so this is a new protocol and it's not an HTTP",
    "start": "3565690",
    "end": "3574210"
  },
  {
    "text": "replacement but it it enhances HTTP so you it's basically an effort to make the",
    "start": "3574210",
    "end": "3581410"
  },
  {
    "text": "web faster we already saw a lot of the problems that lead to things slowing down and slow page loads like if it",
    "start": "3581410",
    "end": "3588819"
  },
  {
    "text": "normal pages 30 to 40 assets images and CSS and JavaScript they all need to be",
    "start": "3588819",
    "end": "3595690"
  },
  {
    "text": "downloaded right and there's many issues that come into play for example you can",
    "start": "3595690",
    "end": "3601270"
  },
  {
    "text": "only make so many connections to one origin at one time and so there's the",
    "start": "3601270",
    "end": "3607630"
  },
  {
    "text": "connection count and all these other things that that slowed things down and HTTP as",
    "start": "3607630",
    "end": "3613600"
  },
  {
    "text": "we've seen is not perfect but once you start doing some of the things that they've done on top of it you can really",
    "start": "3613600",
    "end": "3618850"
  },
  {
    "text": "make a pretty dramatic improvement in fact you can use web socket over speedy",
    "start": "3618850",
    "end": "3624370"
  },
  {
    "text": "so it's like I said it's not really an HTTP replacement but it is more along",
    "start": "3624370",
    "end": "3630580"
  },
  {
    "text": "those lines with the way you can best picture it is it always runs over TLS",
    "start": "3630580",
    "end": "3637930"
  },
  {
    "text": "right the ssl connection so you you have the same basic infrastructure except",
    "start": "3637930",
    "end": "3643690"
  },
  {
    "text": "you're in a in another layer speedy protocol layer that encapsulate sat HTTP",
    "start": "3643690",
    "end": "3650530"
  },
  {
    "text": "but also compresses HTTP using data dictionaries because you could see a lot",
    "start": "3650530",
    "end": "3657250"
  },
  {
    "text": "of the headers that you're sending that you that I showed you in a couple of cases already there's a lot of similarities right there's a lot of",
    "start": "3657250",
    "end": "3663040"
  },
  {
    "text": "stuff that can be shrunk down and they were able to compress 85 eighty-eight",
    "start": "3663040",
    "end": "3669070"
  },
  {
    "text": "percent remember what I mentioned how the upload usually as the majority of the bytes this is a problem right for",
    "start": "3669070",
    "end": "3675490"
  },
  {
    "text": "that your page load time will be a lot better if you can have avoid sending",
    "start": "3675490",
    "end": "3681400"
  },
  {
    "text": "that much data now of course that does set up an encrypted tunnel so that's not",
    "start": "3681400",
    "end": "3686980"
  },
  {
    "text": "free either but the general feeling right now is that that's where things",
    "start": "3686980",
    "end": "3692590"
  },
  {
    "text": "are heading anyway not a little bit more on that later so it it does other things",
    "start": "3692590",
    "end": "3698050"
  },
  {
    "text": "too so it uses what is called NPN or next protocol negotiation to very",
    "start": "3698050",
    "end": "3704170"
  },
  {
    "text": "quickly it doesn't use the upgrade that WebSocket uses but it uses a basically it tells with the initial request say",
    "start": "3704170",
    "end": "3711520"
  },
  {
    "text": "hey I want to speak speedy over SSL so it sets that up in one shot and that",
    "start": "3711520",
    "end": "3717400"
  },
  {
    "text": "saves another round trip time which is expensive it allows you also to do some",
    "start": "3717400",
    "end": "3722980"
  },
  {
    "text": "server push so there's a bunch of extension and experiments that are being worked on still multiplexing is the big",
    "start": "3722980",
    "end": "3730840"
  },
  {
    "text": "thing because you can multiplex the same connection and get many many resources",
    "start": "3730840",
    "end": "3739060"
  },
  {
    "text": "over that same connection you're basically creating a tunnel and you you want to get as many as you can and",
    "start": "3739060",
    "end": "3745580"
  },
  {
    "text": "what's nice about that is a lot of things we're doing today to improve performance things like using data URIs",
    "start": "3745580",
    "end": "3752060"
  },
  {
    "text": "for images they really don't need that as much anymore using speedy because",
    "start": "3752060",
    "end": "3757670"
  },
  {
    "text": "it's already all compressed you have the same there's not that additional overhead making 90 connections for all",
    "start": "3757670",
    "end": "3764720"
  },
  {
    "text": "of your images it's all already multiplexed and you can use a lot of that in that way so some of those things",
    "start": "3764720",
    "end": "3771859"
  },
  {
    "text": "will start shifting so there is something called HTTP pipelining is not",
    "start": "3771859",
    "end": "3777500"
  },
  {
    "text": "really the same it's definitely not very standard and many browsers don't have",
    "start": "3777500",
    "end": "3782570"
  },
  {
    "text": "that well no browser that I know of has it turned on by default so in reality that's been difficult to put out there",
    "start": "3782570",
    "end": "3789589"
  },
  {
    "text": "and so right now you have basically at that TCP connection a lot of the things",
    "start": "3789589",
    "end": "3797210"
  },
  {
    "text": "are multiplexed over and at that point some of the things like the subdomains",
    "start": "3797210",
    "end": "3804200"
  },
  {
    "text": "for spreading the number of concurrent connections become less of an issue but",
    "start": "3804200",
    "end": "3809240"
  },
  {
    "text": "of course are not a problem now you might say well isn't that a lot of",
    "start": "3809240",
    "end": "3814520"
  },
  {
    "text": "overhead to create that ssl connection first and it's actually less than then was expected so there was an extensive",
    "start": "3814520",
    "end": "3821150"
  },
  {
    "text": "research done again at Google this is a by the way a google project that is",
    "start": "3821150",
    "end": "3826250"
  },
  {
    "text": "being proposed as an official standard so it's an open standard they're open sourcing everything but it was developed",
    "start": "3826250",
    "end": "3832040"
  },
  {
    "text": "by google too and it's already deployed if you're using google today I sorry if",
    "start": "3832040",
    "end": "3838010"
  },
  {
    "text": "you're using Chrome then in ninety five percent of the cases you're actually using speedy when you connect to Google",
    "start": "3838010",
    "end": "3845119"
  },
  {
    "text": "backends I'll show you that in a second so there are some some big advantages to",
    "start": "3845119",
    "end": "3850250"
  },
  {
    "text": "that one you don't want to send any data unencrypted that is sensitive of course",
    "start": "3850250",
    "end": "3856550"
  },
  {
    "text": "also it wasn't like with today's processors and so on it's not nearly as bad as people had expected it to be and",
    "start": "3856550",
    "end": "3863480"
  },
  {
    "text": "in some cases with the next protocol negotiation it can actually speed things up also one of the things is again the",
    "start": "3863480",
    "end": "3871760"
  },
  {
    "text": "same idea that was behind what I was just talking about the websocket it's sort of",
    "start": "3871760",
    "end": "3877290"
  },
  {
    "text": "piggybacking on existing web architecture and you know this roberto p",
    "start": "3877290",
    "end": "3883890"
  },
  {
    "text": "on the other nights i have a link to his presentation at the end he said it",
    "start": "3883890",
    "end": "3888990"
  },
  {
    "text": "pretty well we want to have some chance of getting this protocol out in our lifetime right because it you want to",
    "start": "3888990",
    "end": "3895350"
  },
  {
    "text": "use existing web architecture you don't want to have to say well okay to do this you need to set up new servers open new",
    "start": "3895350",
    "end": "3902070"
  },
  {
    "text": "ports and all of that that's just not going to happen very quickly so this is one of the reasons besides the fact that",
    "start": "3902070",
    "end": "3908670"
  },
  {
    "text": "there is a general trend if you've ever been in a you know internet cafe and",
    "start": "3908670",
    "end": "3915780"
  },
  {
    "text": "you've used firesheep it's pretty scary you want to definitely use HTTPS or WSS",
    "start": "3915780",
    "end": "3923760"
  },
  {
    "text": "in many cases so speedy by the way is not a new scheme it still has that initial HTTP handler gets you would",
    "start": "3923760",
    "end": "3929760"
  },
  {
    "text": "never see the speedy URL it's always starts out at ATP and then it just upgrades that creates that tunnel for",
    "start": "3929760",
    "end": "3936330"
  },
  {
    "text": "you right so if you use chrome ninety-five percent of the time at startup it's randomized and because they",
    "start": "3936330",
    "end": "3944160"
  },
  {
    "text": "want to do a test to compare it with people are not using speedy the results are pretty pretty impressive already",
    "start": "3944160",
    "end": "3950510"
  },
  {
    "text": "there's also a WebSocket / speedy that you can turn on right now in the low",
    "start": "3950510",
    "end": "3956220"
  },
  {
    "text": "level settings and if you go to Chrome colon slash light net internals there's",
    "start": "3956220",
    "end": "3961710"
  },
  {
    "text": "a whole page and you can look you probably have this already you have multiple speedy connections one of the",
    "start": "3961710",
    "end": "3968520"
  },
  {
    "text": "nice things about speedy it doesn't require anything on the client side to it's just a drop in thing if your server",
    "start": "3968520",
    "end": "3975090"
  },
  {
    "text": "you have to have a server that supports it but once you do there's nothing else that the client needs to do to make any",
    "start": "3975090",
    "end": "3982110"
  },
  {
    "text": "API calls or anything like that Firefox now supports it as well since version 11",
    "start": "3982110",
    "end": "3987900"
  },
  {
    "text": "it will be the deep on by default in version 13 you can turn it on right now",
    "start": "3987900",
    "end": "3993420"
  },
  {
    "text": "and already experiment it it's a noticeable difference if you're using gmail or something like that it's",
    "start": "3993420",
    "end": "3998970"
  },
  {
    "text": "definitely something you can really you can really tell I have like my personal gmail and in my work is also on",
    "start": "3998970",
    "end": "4006170"
  },
  {
    "text": "email so I used like opera or Firefox in the past for my personal mail and it's",
    "start": "4006170",
    "end": "4011840"
  },
  {
    "text": "like it's so slow all right questions so the question was what's the support on mobile devices there are two really good",
    "start": "4011840",
    "end": "4018740"
  },
  {
    "text": "white websites can i use you just type in a couple of letters web sockets need",
    "start": "4018740",
    "end": "4025520"
  },
  {
    "text": "another one okay there we go so that tells you the support on different",
    "start": "4025520",
    "end": "4030620"
  },
  {
    "text": "mobile browsers it's not as good as it could be well it is on Safari well okay",
    "start": "4030620",
    "end": "4039710"
  },
  {
    "text": "so okay the light green there is actually an older version of the protocol so that's version 75 76 that",
    "start": "4039710",
    "end": "4048500"
  },
  {
    "text": "our previous versions that are supported says it like what what Peter was showing us it actually working on the iphone",
    "start": "4048500",
    "end": "4055330"
  },
  {
    "text": "surprisingly so it has just recently landed in chrome on Android including",
    "start": "4055330",
    "end": "4062390"
  },
  {
    "text": "the binary support but yeah so that those are the support so in many cases",
    "start": "4062390",
    "end": "4068810"
  },
  {
    "text": "you will need some sort of fall back system to make sure that it works and goes through everything so when can you",
    "start": "4068810",
    "end": "4075530"
  },
  {
    "text": "use it in production where where's the spec at so one of the slides they had in there was showing the history of it and",
    "start": "4075530",
    "end": "4083390"
  },
  {
    "text": "since December last year it's an official RFC everything sort of the API",
    "start": "4083390",
    "end": "4088880"
  },
  {
    "text": "is in candidate recommendation so it's it's done now it's a matter of time that browsers catch up so that they have the",
    "start": "4088880",
    "end": "4096710"
  },
  {
    "text": "latest version that's happening pretty quickly firefox and chrome already do fire safari for example needs to update",
    "start": "4096710",
    "end": "4104120"
  },
  {
    "text": "to the latest version and then of course on the server side servers need to implement it so it's a little period",
    "start": "4104120",
    "end": "4109640"
  },
  {
    "text": "right now some stabilization i think a couple months and then we'll see you know that is pretty much final yeah that",
    "start": "4109640",
    "end": "4116330"
  },
  {
    "text": "was pretty good ya know so the question was will you get a speed difference or",
    "start": "4116330",
    "end": "4121339"
  },
  {
    "text": "an increase in speed if you use another port so the default ports are 8443 if",
    "start": "4121340",
    "end": "4126650"
  },
  {
    "text": "you could use another port I don't think the port of anything to do with it so you wouldn't as far as I know you don't",
    "start": "4126650",
    "end": "4133370"
  },
  {
    "text": "get any provement what why do you think you would okay right yeah I mean if there's",
    "start": "4133370",
    "end": "4145220"
  },
  {
    "text": "other congestion on that same then yeah i mean but it but there's no nothing",
    "start": "4145220",
    "end": "4151480"
  },
  {
    "text": "specifically to pour it right now there was a question there or come back yes",
    "start": "4151480",
    "end": "4157420"
  },
  {
    "text": "this is a question was what happens when you have this long lasting connection",
    "start": "4157420",
    "end": "4163069"
  },
  {
    "text": "maybe Im rephrasing it but tell me if i'm wrong and what happened like how does it think it's a persistent",
    "start": "4163070",
    "end": "4169730"
  },
  {
    "text": "connection when does it close that's mostly up that's mostly a server implementation so there can be some some",
    "start": "4169730",
    "end": "4177740"
  },
  {
    "text": "configuration on the server that's a terrible but it is kind of meant to be a",
    "start": "4177740",
    "end": "4182900"
  },
  {
    "text": "long-lasting persistent connection so it's not timing out after nine seconds",
    "start": "4182900",
    "end": "4187940"
  },
  {
    "text": "necessarily but then also a lot of things and this is specifically left up to the higher level protocols to",
    "start": "4187940",
    "end": "4195020"
  },
  {
    "text": "implement because some protocols may have some something to do there others don't there was a lot of work put into",
    "start": "4195020",
    "end": "4202730"
  },
  {
    "text": "making it really as close to like tcp as possible just not implementing any",
    "start": "4202730",
    "end": "4208310"
  },
  {
    "text": "protocol specific features because they might not work for all protocols so that's it's a server implementation",
    "start": "4208310",
    "end": "4214700"
  },
  {
    "text": "right if i understood you correctly it was about the reconnect automatically get so automatic reconnect is not part",
    "start": "4214700",
    "end": "4221480"
  },
  {
    "text": "of WebSocket there's actually i think wanessa send me a link to it just a couple of weeks ago somebody has",
    "start": "4221480",
    "end": "4228020"
  },
  {
    "text": "implemented and automatically reconnecting WebSocket because that's something you would think you would want",
    "start": "4228020",
    "end": "4233210"
  },
  {
    "text": "to do but again websocket doesn't want to get in the middle of defining what a",
    "start": "4233210",
    "end": "4238580"
  },
  {
    "text": "protocol shooter shouldn't do so in some cases it's fine to just disconnect and leave it disconnected so it's pretty",
    "start": "4238580",
    "end": "4246080"
  },
  {
    "text": "easy because you can listen for errors and close events and based on that you",
    "start": "4246080",
    "end": "4252470"
  },
  {
    "text": "can very quickly reconnect and then based on that actually a lot of higher level protocols are implementing",
    "start": "4252470",
    "end": "4258820"
  },
  {
    "text": "failover systems like it causing we've done a pretty interesting thing with a load balancing we call peer load",
    "start": "4258820",
    "end": "4265040"
  },
  {
    "text": "balancing so we set up a low balancer that you go to basically just to get an address to a server that you",
    "start": "4265040",
    "end": "4271699"
  },
  {
    "text": "want to connect to directly once you have that and you disconnect it detects all of that and then it reconnects again",
    "start": "4271699",
    "end": "4278449"
  },
  {
    "text": "to where it started like a tree connects to the load balancer it says oh you go to know to done right so it's it's sort",
    "start": "4278449",
    "end": "4284929"
  },
  {
    "text": "of the load balancer getting out of the way of that direct traffic but that's probably more than you wanted to know so",
    "start": "4284929",
    "end": "4291860"
  },
  {
    "text": "a lot of different programming languages have their own socket frameworks so for",
    "start": "4291860",
    "end": "4300110"
  },
  {
    "text": "example Python has a twisted socket framework what what you're looking at here is you're moving away from connect",
    "start": "4300110",
    "end": "4309499"
  },
  {
    "text": "like request response so you have a lot of sockets open so you need a different",
    "start": "4309499",
    "end": "4314510"
  },
  {
    "text": "architecture on the server to handle lots like for example if you assigned a thread to every connection then very",
    "start": "4314510",
    "end": "4321769"
  },
  {
    "text": "soon you would be out of business so you need a socket framework a modern socket framework so Java has java niño python",
    "start": "4321769",
    "end": "4329959"
  },
  {
    "text": "has twisted some node has what is called socket i/o and socket i/o is basically",
    "start": "4329959",
    "end": "4336139"
  },
  {
    "text": "that same framework you're looking at so if every one of those and the nice thing about socket i/o is like I mean you",
    "start": "4336139",
    "end": "4344989"
  },
  {
    "text": "would not think that node which is basically running JavaScript on the server would be could be as fast and it",
    "start": "4344989",
    "end": "4351979"
  },
  {
    "text": "can't be as fast as things like Java and C++ it will never be that but it's",
    "start": "4351979",
    "end": "4357409"
  },
  {
    "text": "actually pretty amazing how much they've gotten out of that and already sort of as far as I know already faster than",
    "start": "4357409",
    "end": "4363979"
  },
  {
    "text": "Python which is compiled so pretty pretty interesting and if you have so",
    "start": "4363979",
    "end": "4373849"
  },
  {
    "text": "first of all it's like what are you most familiar with language wise and then you",
    "start": "4373849",
    "end": "4379789"
  },
  {
    "text": "grab one of the servers like nodejs cousin has a complete developer bundle",
    "start": "4379789",
    "end": "4387919"
  },
  {
    "text": "ready that you can just play around with see how how it works in action there's like I mentioned on that slide there's",
    "start": "4387919",
    "end": "4393769"
  },
  {
    "text": "about 25 different server project if you want one in Python it's out there Apache has a",
    "start": "4393769",
    "end": "4401889"
  },
  {
    "text": "module that you can plug in to do the WebSocket support jetty having dates the",
    "start": "4401889",
    "end": "4407019"
  },
  {
    "text": "list goes on alright so thank you and now",
    "start": "4407019",
    "end": "4413219"
  }
]