[
  {
    "start": "0",
    "end": "10000"
  },
  {
    "text": "what is up guys in today's video we're",
    "start": "0",
    "end": "1680"
  },
  {
    "text": "going to be talking about arm assembly",
    "start": "1680",
    "end": "3360"
  },
  {
    "text": "stack management by the end of this",
    "start": "3360",
    "end": "4799"
  },
  {
    "text": "video you'll be able to write arm",
    "start": "4799",
    "end": "6319"
  },
  {
    "text": "assembly that uses functions where they",
    "start": "6319",
    "end": "8320"
  },
  {
    "text": "use the stack for memory storage",
    "start": "8320",
    "end": "10160"
  },
  {
    "start": "10000",
    "end": "50000"
  },
  {
    "text": "to be able to do this we first have to",
    "start": "10160",
    "end": "11599"
  },
  {
    "text": "talk about what is a stack",
    "start": "11599",
    "end": "13360"
  },
  {
    "text": "a stack is a basic structure in computer",
    "start": "13360",
    "end": "15360"
  },
  {
    "text": "science similar to",
    "start": "15360",
    "end": "16480"
  },
  {
    "text": "a stack of plates in your kitchen you're",
    "start": "16480",
    "end": "18640"
  },
  {
    "text": "able to push",
    "start": "18640",
    "end": "19520"
  },
  {
    "text": "and pop elements onto and from the stack",
    "start": "19520",
    "end": "22320"
  },
  {
    "text": "which makes it a first",
    "start": "22320",
    "end": "23519"
  },
  {
    "text": "in last out data structure so for",
    "start": "23519",
    "end": "25599"
  },
  {
    "text": "example here we'll see that every item",
    "start": "25599",
    "end": "27439"
  },
  {
    "text": "on the stack",
    "start": "27439",
    "end": "28240"
  },
  {
    "text": "is equal width at four bytes and you",
    "start": "28240",
    "end": "30000"
  },
  {
    "text": "have this arrow here that points to the",
    "start": "30000",
    "end": "31599"
  },
  {
    "text": "top of the stack",
    "start": "31599",
    "end": "32558"
  },
  {
    "text": "when i push an item onto the stack that",
    "start": "32559",
    "end": "34880"
  },
  {
    "text": "arrow that points to the top of the",
    "start": "34880",
    "end": "36000"
  },
  {
    "text": "stack goes",
    "start": "36000",
    "end": "36800"
  },
  {
    "text": "up by four bytes and this new item is",
    "start": "36800",
    "end": "38879"
  },
  {
    "text": "put on top",
    "start": "38879",
    "end": "39920"
  },
  {
    "text": "then to remove an item from the stack i",
    "start": "39920",
    "end": "41920"
  },
  {
    "text": "pop it off the item goes away and that",
    "start": "41920",
    "end": "44239"
  },
  {
    "text": "error goes down",
    "start": "44239",
    "end": "45120"
  },
  {
    "text": "this is a very simple structure without",
    "start": "45120",
    "end": "47360"
  },
  {
    "text": "the computer engineering aspects of it",
    "start": "47360",
    "end": "49520"
  },
  {
    "text": "so how does a stack apply to computer",
    "start": "49520",
    "end": "51280"
  },
  {
    "start": "50000",
    "end": "95000"
  },
  {
    "text": "engineering and assembly",
    "start": "51280",
    "end": "52559"
  },
  {
    "text": "well when people say the stack in",
    "start": "52559",
    "end": "54559"
  },
  {
    "text": "assembly they're referring to an",
    "start": "54559",
    "end": "56239"
  },
  {
    "text": "area in ram where programs put their",
    "start": "56239",
    "end": "58399"
  },
  {
    "text": "local variables and control flow",
    "start": "58399",
    "end": "60079"
  },
  {
    "text": "information during code execution",
    "start": "60079",
    "end": "61760"
  },
  {
    "text": "the processor actually has two registers",
    "start": "61760",
    "end": "63760"
  },
  {
    "text": "that point to the top",
    "start": "63760",
    "end": "64799"
  },
  {
    "text": "and bottom of a stack frame a stack",
    "start": "64799",
    "end": "66960"
  },
  {
    "text": "frame is just a chunk of the stack where",
    "start": "66960",
    "end": "69200"
  },
  {
    "text": "one function is living so for example",
    "start": "69200",
    "end": "71280"
  },
  {
    "text": "over here on the right we have",
    "start": "71280",
    "end": "72720"
  },
  {
    "text": "this area here the area between fp which",
    "start": "72720",
    "end": "75600"
  },
  {
    "text": "points to the bottom of the stack frame",
    "start": "75600",
    "end": "77520"
  },
  {
    "text": "and sp which points to the top of the",
    "start": "77520",
    "end": "79040"
  },
  {
    "text": "stack frame is the stack frame for one",
    "start": "79040",
    "end": "81520"
  },
  {
    "text": "function",
    "start": "81520",
    "end": "81920"
  },
  {
    "text": "in this example this is a stack frame",
    "start": "81920",
    "end": "83759"
  },
  {
    "text": "for main it is important to note that",
    "start": "83759",
    "end": "86080"
  },
  {
    "text": "the top of the stack is actually a lower",
    "start": "86080",
    "end": "88880"
  },
  {
    "text": "address so as your stack gets bigger",
    "start": "88880",
    "end": "91200"
  },
  {
    "text": "the address of sp gets more and more",
    "start": "91200",
    "end": "93680"
  },
  {
    "text": "negative or lower",
    "start": "93680",
    "end": "95040"
  },
  {
    "start": "95000",
    "end": "163000"
  },
  {
    "text": "so to be able to write assembly that",
    "start": "95040",
    "end": "97200"
  },
  {
    "text": "does this we have to actually understand",
    "start": "97200",
    "end": "99280"
  },
  {
    "text": "this idea of calling conventions so a",
    "start": "99280",
    "end": "101200"
  },
  {
    "text": "calling convention",
    "start": "101200",
    "end": "102399"
  },
  {
    "text": "is an agreement between two parties when",
    "start": "102399",
    "end": "104640"
  },
  {
    "text": "you're writing code we'll be talking",
    "start": "104640",
    "end": "106000"
  },
  {
    "text": "about two functions",
    "start": "106000",
    "end": "107200"
  },
  {
    "text": "the caller and the collie so i've",
    "start": "107200",
    "end": "109200"
  },
  {
    "text": "written this toy code here",
    "start": "109200",
    "end": "111040"
  },
  {
    "text": "a function main calls a function other",
    "start": "111040",
    "end": "114079"
  },
  {
    "text": "function",
    "start": "114079",
    "end": "114799"
  },
  {
    "text": "in this example main is the caller and",
    "start": "114799",
    "end": "118000"
  },
  {
    "text": "other function and up here",
    "start": "118000",
    "end": "119520"
  },
  {
    "text": "is the call e the calling convention on",
    "start": "119520",
    "end": "122079"
  },
  {
    "text": "arm",
    "start": "122079",
    "end": "122640"
  },
  {
    "text": "asserts that the callee will preserve",
    "start": "122640",
    "end": "125680"
  },
  {
    "text": "non-volatile registers if they're used",
    "start": "125680",
    "end": "128160"
  },
  {
    "text": "basically what this means is that",
    "start": "128160",
    "end": "129679"
  },
  {
    "text": "when main gives code control to other",
    "start": "129679",
    "end": "131920"
  },
  {
    "text": "function",
    "start": "131920",
    "end": "132879"
  },
  {
    "text": "when it gets out of other function it",
    "start": "132879",
    "end": "134800"
  },
  {
    "text": "expects that registers 4",
    "start": "134800",
    "end": "136400"
  },
  {
    "text": "through 11 were put back in the same",
    "start": "136400",
    "end": "138400"
  },
  {
    "text": "state also it's expected that the call",
    "start": "138400",
    "end": "140720"
  },
  {
    "text": "callee",
    "start": "140720",
    "end": "141599"
  },
  {
    "text": "other function will return code control",
    "start": "141599",
    "end": "144000"
  },
  {
    "text": "back to main",
    "start": "144000",
    "end": "145040"
  },
  {
    "text": "once its code execution is complete so",
    "start": "145040",
    "end": "146959"
  },
  {
    "text": "basically it expects",
    "start": "146959",
    "end": "148160"
  },
  {
    "text": "after return a gets ran code execution",
    "start": "148160",
    "end": "150879"
  },
  {
    "text": "will go to the next line in the code",
    "start": "150879",
    "end": "152239"
  },
  {
    "text": "which is line 13 return 0.",
    "start": "152239",
    "end": "154160"
  },
  {
    "text": "it's very important to note that because",
    "start": "154160",
    "end": "155680"
  },
  {
    "text": "this will determine the",
    "start": "155680",
    "end": "157599"
  },
  {
    "text": "assembly output of the function so this",
    "start": "157599",
    "end": "160080"
  },
  {
    "text": "code here",
    "start": "160080",
    "end": "160879"
  },
  {
    "text": "that i'm circling produces this assembly",
    "start": "160879",
    "end": "163200"
  },
  {
    "start": "163000",
    "end": "349000"
  },
  {
    "text": "here what we're actually going to do is",
    "start": "163200",
    "end": "164560"
  },
  {
    "text": "we're going to walk through this",
    "start": "164560",
    "end": "166000"
  },
  {
    "text": "assembly",
    "start": "166000",
    "end": "166720"
  },
  {
    "text": "and kind of draw the stack here doing",
    "start": "166720",
    "end": "168400"
  },
  {
    "text": "this will allow us to understand what's",
    "start": "168400",
    "end": "169760"
  },
  {
    "text": "happening under the hood",
    "start": "169760",
    "end": "170879"
  },
  {
    "text": "and better enable us to write assembly",
    "start": "170879",
    "end": "172640"
  },
  {
    "text": "that uses stack frames",
    "start": "172640",
    "end": "174480"
  },
  {
    "text": "so we're going to assume that the stack",
    "start": "174480",
    "end": "176160"
  },
  {
    "text": "is in this state right so like i said",
    "start": "176160",
    "end": "177599"
  },
  {
    "text": "before",
    "start": "177599",
    "end": "178239"
  },
  {
    "text": "the frame pointer at the bottom and the",
    "start": "178239",
    "end": "180000"
  },
  {
    "text": "stack pointer at the top",
    "start": "180000",
    "end": "181440"
  },
  {
    "text": "constitute the stack frame for main",
    "start": "181440",
    "end": "183760"
  },
  {
    "text": "currently the program counter is at this",
    "start": "183760",
    "end": "185840"
  },
  {
    "text": "instruction here move into r0 the number",
    "start": "185840",
    "end": "188800"
  },
  {
    "text": "one",
    "start": "188800",
    "end": "189200"
  },
  {
    "text": "and it's getting ready to execute the",
    "start": "189200",
    "end": "191120"
  },
  {
    "text": "other function right so that's",
    "start": "191120",
    "end": "193040"
  },
  {
    "text": "this call this line here line 12. so",
    "start": "193040",
    "end": "195760"
  },
  {
    "text": "we're going to click forward",
    "start": "195760",
    "end": "196959"
  },
  {
    "text": "it runs the code branch and link to",
    "start": "196959",
    "end": "199120"
  },
  {
    "text": "other function the branch in link all it",
    "start": "199120",
    "end": "201040"
  },
  {
    "text": "does is it gives code control",
    "start": "201040",
    "end": "203120"
  },
  {
    "text": "to other function and what the link does",
    "start": "203120",
    "end": "205680"
  },
  {
    "text": "is it says",
    "start": "205680",
    "end": "206480"
  },
  {
    "text": "put into the link register the address",
    "start": "206480",
    "end": "209120"
  },
  {
    "text": "of the next instruction to be ran right",
    "start": "209120",
    "end": "210959"
  },
  {
    "text": "so at this time",
    "start": "210959",
    "end": "212080"
  },
  {
    "text": "the link register on the processor",
    "start": "212080",
    "end": "213760"
  },
  {
    "text": "points to the next instruction",
    "start": "213760",
    "end": "215920"
  },
  {
    "text": "that needs to be ran very important to",
    "start": "215920",
    "end": "217519"
  },
  {
    "text": "remember that so we're gonna have this",
    "start": "217519",
    "end": "218480"
  },
  {
    "text": "arrow here pointing to where a link",
    "start": "218480",
    "end": "219760"
  },
  {
    "text": "register points to",
    "start": "219760",
    "end": "220720"
  },
  {
    "text": "good so code execution goes to other",
    "start": "220720",
    "end": "222640"
  },
  {
    "text": "function and it runs the",
    "start": "222640",
    "end": "224319"
  },
  {
    "text": "push the frame pointer and link register",
    "start": "224319",
    "end": "226640"
  },
  {
    "text": "operation",
    "start": "226640",
    "end": "227440"
  },
  {
    "text": "it's important to note that the frame",
    "start": "227440",
    "end": "228959"
  },
  {
    "text": "pointer is register 11",
    "start": "228959",
    "end": "230720"
  },
  {
    "text": "and link register is register 14. it's",
    "start": "230720",
    "end": "233040"
  },
  {
    "text": "going to put the registers on the stack",
    "start": "233040",
    "end": "234640"
  },
  {
    "text": "in",
    "start": "234640",
    "end": "234879"
  },
  {
    "text": "ascending order so link register goes",
    "start": "234879",
    "end": "236560"
  },
  {
    "text": "first the frame pointer goes it goes",
    "start": "236560",
    "end": "238319"
  },
  {
    "text": "next and don't forget every time we push",
    "start": "238319",
    "end": "240480"
  },
  {
    "text": "onto the stack the stack pointer goes up",
    "start": "240480",
    "end": "242560"
  },
  {
    "text": "right so we used to point to four",
    "start": "242560",
    "end": "244319"
  },
  {
    "text": "and now we point to the old frame",
    "start": "244319",
    "end": "245599"
  },
  {
    "text": "pointer then we're gonna run this",
    "start": "245599",
    "end": "247280"
  },
  {
    "text": "instruction here",
    "start": "247280",
    "end": "248000"
  },
  {
    "text": "we say add four to the stack pointer and",
    "start": "248000",
    "end": "251120"
  },
  {
    "text": "put it into the frame pointer and",
    "start": "251120",
    "end": "252560"
  },
  {
    "text": "basically that's going to move the",
    "start": "252560",
    "end": "253760"
  },
  {
    "text": "bottom of the stack we're getting ready",
    "start": "253760",
    "end": "255200"
  },
  {
    "text": "to create that new frame",
    "start": "255200",
    "end": "256560"
  },
  {
    "text": "it's moving it a little higher it's",
    "start": "256560",
    "end": "258079"
  },
  {
    "text": "pointing to the bottom over here where",
    "start": "258079",
    "end": "259519"
  },
  {
    "text": "link register points",
    "start": "259519",
    "end": "260639"
  },
  {
    "text": "so this next instruction the subtract 8",
    "start": "260639",
    "end": "262720"
  },
  {
    "text": "from sp and store and sp instruction",
    "start": "262720",
    "end": "265199"
  },
  {
    "text": "sub sp sp8 that is creating room",
    "start": "265199",
    "end": "268560"
  },
  {
    "text": "on the stack for other function to have",
    "start": "268560",
    "end": "270960"
  },
  {
    "text": "its own variables",
    "start": "270960",
    "end": "272320"
  },
  {
    "text": "so you can see here when it does the",
    "start": "272320",
    "end": "273840"
  },
  {
    "text": "rest of the uh the function",
    "start": "273840",
    "end": "276000"
  },
  {
    "text": "local variables in the function are",
    "start": "276000",
    "end": "277600"
  },
  {
    "text": "referred to as frame pointer relative so",
    "start": "277600",
    "end": "279840"
  },
  {
    "text": "it's saying",
    "start": "279840",
    "end": "280800"
  },
  {
    "text": "point to the frame pointer minus eight",
    "start": "280800",
    "end": "282800"
  },
  {
    "text": "so that's minus four minus eight that's",
    "start": "282800",
    "end": "284479"
  },
  {
    "text": "a local variable",
    "start": "284479",
    "end": "285520"
  },
  {
    "text": "the frame point or minus eight again",
    "start": "285520",
    "end": "286880"
  },
  {
    "text": "local variables all of the",
    "start": "286880",
    "end": "288560"
  },
  {
    "text": "memory operations are happening frame",
    "start": "288560",
    "end": "290560"
  },
  {
    "text": "pointer relative",
    "start": "290560",
    "end": "291680"
  },
  {
    "text": "so other function gets ran it does that",
    "start": "291680",
    "end": "293520"
  },
  {
    "text": "print f right it printfs the number that",
    "start": "293520",
    "end": "295199"
  },
  {
    "text": "we give it and eventually we get to the",
    "start": "295199",
    "end": "296880"
  },
  {
    "text": "point where we're now collapsing the",
    "start": "296880",
    "end": "298320"
  },
  {
    "text": "stack frame",
    "start": "298320",
    "end": "299280"
  },
  {
    "text": "so what it does is it says subtract four",
    "start": "299280",
    "end": "302000"
  },
  {
    "text": "from",
    "start": "302000",
    "end": "302320"
  },
  {
    "text": "fp which points to here remember",
    "start": "302320",
    "end": "304479"
  },
  {
    "text": "subtractions go up",
    "start": "304479",
    "end": "305680"
  },
  {
    "text": "and put that into sp and then we're",
    "start": "305680",
    "end": "308240"
  },
  {
    "text": "going to pop",
    "start": "308240",
    "end": "309039"
  },
  {
    "text": "off the stack back into the frame",
    "start": "309039",
    "end": "310800"
  },
  {
    "text": "pointer and the program counter",
    "start": "310800",
    "end": "312720"
  },
  {
    "text": "so this old fp becomes the new fp",
    "start": "312720",
    "end": "316000"
  },
  {
    "text": "and then the link register which is",
    "start": "316000",
    "end": "317840"
  },
  {
    "text": "pointing to the instruction that needs",
    "start": "317840",
    "end": "319199"
  },
  {
    "text": "to get ran",
    "start": "319199",
    "end": "320160"
  },
  {
    "text": "is what goes into pc so these two things",
    "start": "320160",
    "end": "322880"
  },
  {
    "text": "get popped off the stack it's very",
    "start": "322880",
    "end": "324240"
  },
  {
    "text": "important to recognize that and through",
    "start": "324240",
    "end": "325919"
  },
  {
    "text": "that",
    "start": "325919",
    "end": "326400"
  },
  {
    "text": "code execution gets put back to where",
    "start": "326400",
    "end": "328160"
  },
  {
    "text": "the link register points",
    "start": "328160",
    "end": "329440"
  },
  {
    "text": "and the stack frame is back in its old",
    "start": "329440",
    "end": "330960"
  },
  {
    "text": "position i always like to do those",
    "start": "330960",
    "end": "332560"
  },
  {
    "text": "visualizations we're talking about the",
    "start": "332560",
    "end": "333919"
  },
  {
    "text": "stack i think it makes things a lot",
    "start": "333919",
    "end": "335600"
  },
  {
    "text": "easier if you can see it kind of",
    "start": "335600",
    "end": "336880"
  },
  {
    "text": "happening",
    "start": "336880",
    "end": "337600"
  },
  {
    "text": "instruction by instruction and i think",
    "start": "337600",
    "end": "339199"
  },
  {
    "text": "visualizing it like this makes it very",
    "start": "339199",
    "end": "340720"
  },
  {
    "text": "easy",
    "start": "340720",
    "end": "341360"
  },
  {
    "text": "so what we're going to do now is we're",
    "start": "341360",
    "end": "342400"
  },
  {
    "text": "going to hop over to my dev environment",
    "start": "342400",
    "end": "343680"
  },
  {
    "text": "we are going to write some",
    "start": "343680",
    "end": "344720"
  },
  {
    "text": "code to actually implement this in",
    "start": "344720",
    "end": "346720"
  },
  {
    "text": "assembly by ourselves let's make it",
    "start": "346720",
    "end": "348320"
  },
  {
    "text": "happen before we get started i just want",
    "start": "348320",
    "end": "349680"
  },
  {
    "start": "349000",
    "end": "714000"
  },
  {
    "text": "to say it looks like",
    "start": "349680",
    "end": "350560"
  },
  {
    "text": "about 84 of you watching right now are",
    "start": "350560",
    "end": "352880"
  },
  {
    "text": "probably not subscribed if you are not",
    "start": "352880",
    "end": "354639"
  },
  {
    "text": "subscribed",
    "start": "354639",
    "end": "355280"
  },
  {
    "text": "do me a favor hit that sub button really",
    "start": "355280",
    "end": "357199"
  },
  {
    "text": "helps me out be alerted whenever i put",
    "start": "357199",
    "end": "358880"
  },
  {
    "text": "out a new video about low level topics",
    "start": "358880",
    "end": "361199"
  },
  {
    "text": "with that let's get rolling okay so now",
    "start": "361199",
    "end": "363199"
  },
  {
    "text": "we're back in the dev environment",
    "start": "363199",
    "end": "364560"
  },
  {
    "text": "um what we're going to do for this",
    "start": "364560",
    "end": "365680"
  },
  {
    "text": "tutorial is we are going to use the",
    "start": "365680",
    "end": "368160"
  },
  {
    "text": "hello world code",
    "start": "368160",
    "end": "369440"
  },
  {
    "text": "that we use in the previous tutorials",
    "start": "369440",
    "end": "371120"
  },
  {
    "text": "all my other videos and what we're going",
    "start": "371120",
    "end": "372720"
  },
  {
    "text": "to do is instead of having",
    "start": "372720",
    "end": "374000"
  },
  {
    "text": "the right syscall and the exit syscall",
    "start": "374000",
    "end": "376240"
  },
  {
    "text": "just happen here",
    "start": "376240",
    "end": "377280"
  },
  {
    "text": "we're actually going to create functions",
    "start": "377280",
    "end": "379919"
  },
  {
    "text": "for them",
    "start": "379919",
    "end": "380479"
  },
  {
    "text": "that start will call and we'll set up",
    "start": "380479",
    "end": "382560"
  },
  {
    "text": "stack frames so that they have memory",
    "start": "382560",
    "end": "384400"
  },
  {
    "text": "space",
    "start": "384400",
    "end": "384880"
  },
  {
    "text": "in those functions that we can use so",
    "start": "384880",
    "end": "386639"
  },
  {
    "text": "the first edit we're going to make",
    "start": "386639",
    "end": "388240"
  },
  {
    "text": "is we need to create two labels right so",
    "start": "388240",
    "end": "390080"
  },
  {
    "text": "we're going to do a hello world label",
    "start": "390080",
    "end": "391280"
  },
  {
    "text": "that describes",
    "start": "391280",
    "end": "392319"
  },
  {
    "text": "the area of the code where the right",
    "start": "392319",
    "end": "394639"
  },
  {
    "text": "syscall happens",
    "start": "394639",
    "end": "396319"
  },
  {
    "text": "and then we have the exit syscall this",
    "start": "396319",
    "end": "398560"
  },
  {
    "text": "actually makes",
    "start": "398560",
    "end": "399360"
  },
  {
    "text": "no change to our code at all it behaves",
    "start": "399360",
    "end": "402160"
  },
  {
    "text": "exactly the same",
    "start": "402160",
    "end": "402960"
  },
  {
    "text": "all we have now is a human readable",
    "start": "402960",
    "end": "404400"
  },
  {
    "text": "label in the assembly and a debug symbol",
    "start": "404400",
    "end": "406880"
  },
  {
    "text": "will actually populate in the elf",
    "start": "406880",
    "end": "408720"
  },
  {
    "text": "um okay cool so that didn't change",
    "start": "408720",
    "end": "410160"
  },
  {
    "text": "anything what we want to do",
    "start": "410160",
    "end": "412880"
  },
  {
    "text": "is do a branch in link well that's a",
    "start": "412880",
    "end": "415280"
  },
  {
    "text": "call in arm",
    "start": "415280",
    "end": "416560"
  },
  {
    "text": "to hello world the idea being that hello",
    "start": "416560",
    "end": "419520"
  },
  {
    "text": "world will execute",
    "start": "419520",
    "end": "420800"
  },
  {
    "text": "it will return control back to the",
    "start": "420800",
    "end": "423520"
  },
  {
    "text": "caller",
    "start": "423520",
    "end": "424000"
  },
  {
    "text": "as we talked about start and then we'll",
    "start": "424000",
    "end": "426479"
  },
  {
    "text": "be able to branch and execute",
    "start": "426479",
    "end": "428319"
  },
  {
    "text": "exit so this also",
    "start": "428319",
    "end": "431360"
  },
  {
    "text": "will work not the way we want it to",
    "start": "431360",
    "end": "435039"
  },
  {
    "text": "um what actually happens here is branch",
    "start": "435039",
    "end": "436800"
  },
  {
    "text": "and link to hello world happens and then",
    "start": "436800",
    "end": "438319"
  },
  {
    "text": "hello world just runs all the way",
    "start": "438319",
    "end": "439759"
  },
  {
    "text": "through and exits and that's it so what",
    "start": "439759",
    "end": "441199"
  },
  {
    "text": "we want to do now",
    "start": "441199",
    "end": "442720"
  },
  {
    "text": "is set up a stack frame on hello world",
    "start": "442720",
    "end": "445280"
  },
  {
    "text": "where we a",
    "start": "445280",
    "end": "446080"
  },
  {
    "text": "preserve and return link register",
    "start": "446080",
    "end": "448319"
  },
  {
    "text": "control back to pc and also where we",
    "start": "448319",
    "end": "450720"
  },
  {
    "text": "create room for hello world to do",
    "start": "450720",
    "end": "452319"
  },
  {
    "text": "variable storage",
    "start": "452319",
    "end": "453440"
  },
  {
    "text": "so as we talked about we need to first",
    "start": "453440",
    "end": "455919"
  },
  {
    "text": "preserve",
    "start": "455919",
    "end": "456800"
  },
  {
    "text": "all the non-volatile registers which are",
    "start": "456800",
    "end": "458720"
  },
  {
    "text": "r4 through 11",
    "start": "458720",
    "end": "460080"
  },
  {
    "text": "and what's cool about arm assembly is",
    "start": "460080",
    "end": "461520"
  },
  {
    "text": "that we can literally just type r4",
    "start": "461520",
    "end": "463440"
  },
  {
    "text": "through r11 in one instruction and",
    "start": "463440",
    "end": "465759"
  },
  {
    "text": "that's actually valid arm it's pretty",
    "start": "465759",
    "end": "467199"
  },
  {
    "text": "cool",
    "start": "467199",
    "end": "468319"
  },
  {
    "text": "and then finally we need to preserve lr",
    "start": "468319",
    "end": "470960"
  },
  {
    "text": "because at this point",
    "start": "470960",
    "end": "472160"
  },
  {
    "text": "the link register points to line eight",
    "start": "472160",
    "end": "474800"
  },
  {
    "text": "here",
    "start": "474800",
    "end": "475280"
  },
  {
    "text": "we need to make sure that we preserve",
    "start": "475280",
    "end": "476800"
  },
  {
    "text": "that so when we pop lr",
    "start": "476800",
    "end": "478319"
  },
  {
    "text": "into pc the code continues to run",
    "start": "478319",
    "end": "480960"
  },
  {
    "text": "properly so now that we've pushed",
    "start": "480960",
    "end": "482479"
  },
  {
    "text": "all these variables onto the stack we",
    "start": "482479",
    "end": "484560"
  },
  {
    "text": "have fp",
    "start": "484560",
    "end": "485759"
  },
  {
    "text": "way down at the bottom of the stack",
    "start": "485759",
    "end": "487039"
  },
  {
    "text": "frame and we have sp way at the top",
    "start": "487039",
    "end": "489280"
  },
  {
    "text": "so we need to move into fp",
    "start": "489280",
    "end": "492560"
  },
  {
    "text": "sp so what this actually does i'll have",
    "start": "492560",
    "end": "494160"
  },
  {
    "text": "a little graphic pop up over here",
    "start": "494160",
    "end": "495759"
  },
  {
    "text": "um this brings sp and fp up to the same",
    "start": "495759",
    "end": "499440"
  },
  {
    "text": "level right so now fp and sp",
    "start": "499440",
    "end": "503039"
  },
  {
    "text": "both point to the top of the stack where",
    "start": "503039",
    "end": "504960"
  },
  {
    "text": "all these items live",
    "start": "504960",
    "end": "507520"
  },
  {
    "text": "now we need to do the subtract",
    "start": "507520",
    "end": "509360"
  },
  {
    "text": "instruction and remember this subtract",
    "start": "509360",
    "end": "510960"
  },
  {
    "text": "instruction is what",
    "start": "510960",
    "end": "511919"
  },
  {
    "text": "gives hello world stack frame it space",
    "start": "511919",
    "end": "514479"
  },
  {
    "text": "to do memory storage",
    "start": "514479",
    "end": "515680"
  },
  {
    "text": "so we're going to do is we're going to",
    "start": "515680",
    "end": "516640"
  },
  {
    "text": "do sub into sp from",
    "start": "516640",
    "end": "519039"
  },
  {
    "text": "sp hex 40. so this is actually going to",
    "start": "519039",
    "end": "522959"
  },
  {
    "text": "give",
    "start": "522959",
    "end": "523360"
  },
  {
    "text": "hello world hex 40 or 64 bytes of",
    "start": "523360",
    "end": "526720"
  },
  {
    "text": "memory to work with when it's doing its",
    "start": "526720",
    "end": "528880"
  },
  {
    "text": "operations right",
    "start": "528880",
    "end": "529920"
  },
  {
    "text": "so now that we have that room we can do",
    "start": "529920",
    "end": "532000"
  },
  {
    "text": "memory storage onto the stack",
    "start": "532000",
    "end": "534240"
  },
  {
    "text": "i can say for example load into register",
    "start": "534240",
    "end": "536320"
  },
  {
    "text": "r1 and remember r1 is a volatile",
    "start": "536320",
    "end": "538399"
  },
  {
    "text": "register so we can do whatever we want",
    "start": "538399",
    "end": "539600"
  },
  {
    "text": "with it",
    "start": "539600",
    "end": "540240"
  },
  {
    "text": "um load the number hex one two three",
    "start": "540240",
    "end": "542560"
  },
  {
    "text": "seven",
    "start": "542560",
    "end": "543920"
  },
  {
    "text": "okay great and then we can store that",
    "start": "543920",
    "end": "546080"
  },
  {
    "text": "number",
    "start": "546080",
    "end": "546959"
  },
  {
    "text": "r1 onto the frame pointer",
    "start": "546959",
    "end": "551440"
  },
  {
    "text": "minus excuse me",
    "start": "551440",
    "end": "554640"
  },
  {
    "text": "minus hex 10 right so what we're",
    "start": "554640",
    "end": "557440"
  },
  {
    "text": "actually doing is we're saying",
    "start": "557440",
    "end": "558880"
  },
  {
    "text": "take this number put it into register",
    "start": "558880",
    "end": "560560"
  },
  {
    "text": "and then store that register",
    "start": "560560",
    "end": "562000"
  },
  {
    "text": "onto our stack pretty cool right and",
    "start": "562000",
    "end": "564240"
  },
  {
    "text": "make sure it's all compiles and",
    "start": "564240",
    "end": "565440"
  },
  {
    "text": "assemblies and all that good stuff",
    "start": "565440",
    "end": "567360"
  },
  {
    "text": "oh excuse me great and it still works",
    "start": "567360",
    "end": "570000"
  },
  {
    "text": "just to be expected",
    "start": "570000",
    "end": "570959"
  },
  {
    "text": "but again there's no code control",
    "start": "570959",
    "end": "573200"
  },
  {
    "text": "coolness happening here it's all just",
    "start": "573200",
    "end": "574800"
  },
  {
    "text": "jumping right here and executing",
    "start": "574800",
    "end": "576480"
  },
  {
    "text": "or exiting rather so the way we have to",
    "start": "576480",
    "end": "579279"
  },
  {
    "text": "get control",
    "start": "579279",
    "end": "580240"
  },
  {
    "text": "back to start which we want it to do",
    "start": "580240",
    "end": "583839"
  },
  {
    "text": "is we need to do something like this we",
    "start": "583839",
    "end": "586640"
  },
  {
    "text": "need to make sure",
    "start": "586640",
    "end": "587920"
  },
  {
    "text": "that we pop all the elements off of the",
    "start": "587920",
    "end": "590640"
  },
  {
    "text": "stack",
    "start": "590640",
    "end": "591279"
  },
  {
    "text": "the way that we push them the way that",
    "start": "591279",
    "end": "593120"
  },
  {
    "text": "we have to do that is first we have to",
    "start": "593120",
    "end": "594640"
  },
  {
    "text": "move",
    "start": "594640",
    "end": "595519"
  },
  {
    "text": "into sp the frame pointer so what that",
    "start": "595519",
    "end": "598240"
  },
  {
    "text": "does is it brings",
    "start": "598240",
    "end": "599279"
  },
  {
    "text": "sp from way up at the top of the top of",
    "start": "599279",
    "end": "601440"
  },
  {
    "text": "our stack remember because we subtracted",
    "start": "601440",
    "end": "602880"
  },
  {
    "text": "it by 40",
    "start": "602880",
    "end": "603839"
  },
  {
    "text": "and it makes it up at the same level at",
    "start": "603839",
    "end": "605680"
  },
  {
    "text": "fp and at this point",
    "start": "605680",
    "end": "607120"
  },
  {
    "text": "fp points to r4 through r11 and lr",
    "start": "607120",
    "end": "610399"
  },
  {
    "text": "and then once we do that we're able to",
    "start": "610399",
    "end": "612880"
  },
  {
    "text": "pop off of the stack",
    "start": "612880",
    "end": "614640"
  },
  {
    "text": "all those same registers exactly as we",
    "start": "614640",
    "end": "616880"
  },
  {
    "text": "found them",
    "start": "616880",
    "end": "618560"
  },
  {
    "text": "oh and actually so instead of lr we",
    "start": "618560",
    "end": "620399"
  },
  {
    "text": "don't want to pop into lr",
    "start": "620399",
    "end": "621760"
  },
  {
    "text": "we want lr to become pc that's the",
    "start": "621760",
    "end": "624480"
  },
  {
    "text": "difference so link register at this",
    "start": "624480",
    "end": "626160"
  },
  {
    "text": "point",
    "start": "626160",
    "end": "626720"
  },
  {
    "text": "points to line eight we want the value",
    "start": "626720",
    "end": "629040"
  },
  {
    "text": "of the link register to become the",
    "start": "629040",
    "end": "630720"
  },
  {
    "text": "program counter which is actually a",
    "start": "630720",
    "end": "632320"
  },
  {
    "text": "legal",
    "start": "632320",
    "end": "633120"
  },
  {
    "text": "arm instruction really really cool",
    "start": "633120",
    "end": "636640"
  },
  {
    "text": "boom so it works we're not done 100 yet",
    "start": "637200",
    "end": "640079"
  },
  {
    "text": "so what's happening here right now",
    "start": "640079",
    "end": "641760"
  },
  {
    "text": "is hello world is getting called hello",
    "start": "641760",
    "end": "644560"
  },
  {
    "text": "world is",
    "start": "644560",
    "end": "645360"
  },
  {
    "text": "setting up a stack frame making room for",
    "start": "645360",
    "end": "647440"
  },
  {
    "text": "itself putting a variable on the stack",
    "start": "647440",
    "end": "649040"
  },
  {
    "text": "because it wants to because why not",
    "start": "649040",
    "end": "650480"
  },
  {
    "text": "we're in assembly lane we can do",
    "start": "650480",
    "end": "651600"
  },
  {
    "text": "whatever we want",
    "start": "651600",
    "end": "652560"
  },
  {
    "text": "um it's doing that right syscall and",
    "start": "652560",
    "end": "655200"
  },
  {
    "text": "then it deconstructs its stack frame",
    "start": "655200",
    "end": "657440"
  },
  {
    "text": "and it pops off all the registers and",
    "start": "657440",
    "end": "659600"
  },
  {
    "text": "goes back",
    "start": "659600",
    "end": "660800"
  },
  {
    "text": "to exit and then exit gets called and",
    "start": "660800",
    "end": "663600"
  },
  {
    "text": "exit does",
    "start": "663600",
    "end": "664720"
  },
  {
    "text": "does its magic right and we're going to",
    "start": "664720",
    "end": "666800"
  },
  {
    "text": "set up a little baby stack frame for",
    "start": "666800",
    "end": "668160"
  },
  {
    "text": "this one",
    "start": "668160",
    "end": "669200"
  },
  {
    "text": "this is also valid because we are not",
    "start": "669200",
    "end": "672480"
  },
  {
    "text": "using",
    "start": "672480",
    "end": "673360"
  },
  {
    "text": "r4 through r11 so we actually can just",
    "start": "673360",
    "end": "675680"
  },
  {
    "text": "push fp and lr and no one really cares",
    "start": "675680",
    "end": "677839"
  },
  {
    "text": "um and we're not going to set up any",
    "start": "677839",
    "end": "679440"
  },
  {
    "text": "variable space here because we're not",
    "start": "679440",
    "end": "680800"
  },
  {
    "text": "going to put any variables in the stack",
    "start": "680800",
    "end": "682800"
  },
  {
    "text": "so we pop fp pc this is a pointless",
    "start": "682800",
    "end": "685680"
  },
  {
    "text": "instruction because for the time",
    "start": "685680",
    "end": "687360"
  },
  {
    "text": "we we can't ever get here because the",
    "start": "687360",
    "end": "689279"
  },
  {
    "text": "program should have exited if it doesn't",
    "start": "689279",
    "end": "691120"
  },
  {
    "text": "what will actually happen",
    "start": "691120",
    "end": "692480"
  },
  {
    "text": "is we will uh yeah so this code will run",
    "start": "692480",
    "end": "696079"
  },
  {
    "text": "forever actually if this exit code",
    "start": "696079",
    "end": "697600"
  },
  {
    "text": "doesn't get get executed",
    "start": "697600",
    "end": "699519"
  },
  {
    "text": "it'll pop the fp and the pc on from the",
    "start": "699519",
    "end": "702640"
  },
  {
    "text": "stack",
    "start": "702640",
    "end": "703839"
  },
  {
    "text": "that will call hello world and then",
    "start": "703839",
    "end": "706000"
  },
  {
    "text": "hello world will run through here and",
    "start": "706000",
    "end": "707360"
  },
  {
    "text": "then it'll crash so it'll actually run",
    "start": "707360",
    "end": "708800"
  },
  {
    "text": "one time more and then crash",
    "start": "708800",
    "end": "710480"
  },
  {
    "text": "um but anyway",
    "start": "710480",
    "end": "713199"
  },
  {
    "start": "714000",
    "end": "744000"
  },
  {
    "text": "so what have we done we have written arm",
    "start": "714560",
    "end": "717440"
  },
  {
    "text": "assembly",
    "start": "717440",
    "end": "718160"
  },
  {
    "text": "that uses two function calls each of the",
    "start": "718160",
    "end": "721760"
  },
  {
    "text": "functions in its own way",
    "start": "721760",
    "end": "723600"
  },
  {
    "text": "sets up a stack frame and in one of the",
    "start": "723600",
    "end": "726560"
  },
  {
    "text": "functions we're able to actually use",
    "start": "726560",
    "end": "728480"
  },
  {
    "text": "that stack frame",
    "start": "728480",
    "end": "729680"
  },
  {
    "text": "for local variable storage anyway guys",
    "start": "729680",
    "end": "732560"
  },
  {
    "text": "that is it for this video i hope you",
    "start": "732560",
    "end": "733920"
  },
  {
    "text": "learned something if you did do me a",
    "start": "733920",
    "end": "735120"
  },
  {
    "text": "favor hit subscribe",
    "start": "735120",
    "end": "736399"
  },
  {
    "text": "hit like leave a comment with what you",
    "start": "736399",
    "end": "738160"
  },
  {
    "text": "want to see next and i'll see you guys",
    "start": "738160",
    "end": "739839"
  },
  {
    "text": "next week for the next video",
    "start": "739839",
    "end": "741200"
  },
  {
    "text": "keep on learning stay sharp bye-bye",
    "start": "741200",
    "end": "745200"
  }
]