[
  {
    "start": "0",
    "end": "86000"
  },
  {
    "text": "over the past couple of years we've had",
    "start": "80",
    "end": "2360"
  },
  {
    "text": "a number of big features make their way",
    "start": "2360",
    "end": "4400"
  },
  {
    "text": "into the go programming language some of",
    "start": "4400",
    "end": "7160"
  },
  {
    "text": "these include generics added back in",
    "start": "7160",
    "end": "9400"
  },
  {
    "text": "version 1.18 improved backwards",
    "start": "9400",
    "end": "12160"
  },
  {
    "text": "compatibility starting with 1.21 and of",
    "start": "12160",
    "end": "15200"
  },
  {
    "text": "course my personal favorite the all new",
    "start": "15200",
    "end": "18039"
  },
  {
    "text": "Advanced routing features added in",
    "start": "18039",
    "end": "21240"
  },
  {
    "text": "1.22 for every big feature found in the",
    "start": "21240",
    "end": "24000"
  },
  {
    "text": "release notes there are a number of",
    "start": "24000",
    "end": "25800"
  },
  {
    "text": "smaller ones added to the language as",
    "start": "25800",
    "end": "27640"
  },
  {
    "text": "well some of which I tend to over a look",
    "start": "27640",
    "end": "30800"
  },
  {
    "text": "one of these overlooked features was",
    "start": "30800",
    "end": "32558"
  },
  {
    "text": "actually added to the language back in",
    "start": "32559",
    "end": "34160"
  },
  {
    "text": "February of 2021 in version",
    "start": "34160",
    "end": "37360"
  },
  {
    "text": "1.16 that feature is the embed package",
    "start": "37360",
    "end": "40600"
  },
  {
    "text": "which allows you to embed files inside",
    "start": "40600",
    "end": "42719"
  },
  {
    "text": "of your go binary at compile time",
    "start": "42719",
    "end": "45360"
  },
  {
    "text": "despite it being in the language for",
    "start": "45360",
    "end": "46800"
  },
  {
    "text": "nearly 4 years I hadn't actually used it",
    "start": "46800",
    "end": "49480"
  },
  {
    "text": "in a production setting however I think",
    "start": "49480",
    "end": "52239"
  },
  {
    "text": "that was a mistake as recently I've",
    "start": "52239",
    "end": "54559"
  },
  {
    "text": "started to see its value and it's",
    "start": "54559",
    "end": "57199"
  },
  {
    "text": "actually a lot more useful than I",
    "start": "57199",
    "end": "59079"
  },
  {
    "text": "initially thought the reason that I",
    "start": "59079",
    "end": "61079"
  },
  {
    "text": "hadn't used this package before was",
    "start": "61079",
    "end": "62920"
  },
  {
    "text": "because initially I didn't really know",
    "start": "62920",
    "end": "64680"
  },
  {
    "text": "what problems it could be used to solve",
    "start": "64680",
    "end": "67080"
  },
  {
    "text": "however whilst recently working on a new",
    "start": "67080",
    "end": "69200"
  },
  {
    "text": "production ready middleware package that",
    "start": "69200",
    "end": "71040"
  },
  {
    "text": "I intend to use with multiple projects I",
    "start": "71040",
    "end": "73520"
  },
  {
    "text": "actually ran into a problem that I ended",
    "start": "73520",
    "end": "75439"
  },
  {
    "text": "up using this feature to solve and",
    "start": "75439",
    "end": "77880"
  },
  {
    "text": "through doing so I've come to appreciate",
    "start": "77880",
    "end": "80000"
  },
  {
    "text": "the package more than I ever thought I",
    "start": "80000",
    "end": "81840"
  },
  {
    "text": "would so much so that I now use it in a",
    "start": "81840",
    "end": "84960"
  },
  {
    "text": "number of different ways before we take",
    "start": "84960",
    "end": "87799"
  },
  {
    "start": "86000",
    "end": "267000"
  },
  {
    "text": "a look at some of the ways I use this",
    "start": "87799",
    "end": "89280"
  },
  {
    "text": "package let let's quickly take a moment",
    "start": "89280",
    "end": "91000"
  },
  {
    "text": "to see how it actually works the basic",
    "start": "91000",
    "end": "93799"
  },
  {
    "text": "idea is that you use the embed package",
    "start": "93799",
    "end": "95920"
  },
  {
    "text": "to bundle files inside of your",
    "start": "95920",
    "end": "97520"
  },
  {
    "text": "application binary at compile time",
    "start": "97520",
    "end": "100000"
  },
  {
    "text": "allowing you to then access the contents",
    "start": "100000",
    "end": "102000"
  },
  {
    "text": "as if they were hardcoded to see this in",
    "start": "102000",
    "end": "104600"
  },
  {
    "text": "action here I have a project that",
    "start": "104600",
    "end": "106200"
  },
  {
    "text": "contains a file called hello.txt that",
    "start": "106200",
    "end": "108840"
  },
  {
    "text": "lives inside of the same directory as my",
    "start": "108840",
    "end": "110680"
  },
  {
    "text": "main function in this case I want to",
    "start": "110680",
    "end": "112920"
  },
  {
    "text": "load the contents of this file inside of",
    "start": "112920",
    "end": "115040"
  },
  {
    "text": "my application and print it to the",
    "start": "115040",
    "end": "117280"
  },
  {
    "text": "console rather than taking the typical",
    "start": "117280",
    "end": "119280"
  },
  {
    "text": "approach of loading the file in at",
    "start": "119280",
    "end": "120840"
  },
  {
    "text": "runtime using something such as the os.",
    "start": "120840",
    "end": "123399"
  },
  {
    "text": "read file function instead we can use",
    "start": "123399",
    "end": "125759"
  },
  {
    "text": "the embed feature to load it in at",
    "start": "125759",
    "end": "127759"
  },
  {
    "text": "compile time to do so we first need to",
    "start": "127759",
    "end": "130119"
  },
  {
    "text": "import the embed package here you'll",
    "start": "130119",
    "end": "132440"
  },
  {
    "text": "notice that I'm importing it using the",
    "start": "132440",
    "end": "134160"
  },
  {
    "text": "blank identifier as the explicit package",
    "start": "134160",
    "end": "136720"
  },
  {
    "text": "name this is used to prevent the",
    "start": "136720",
    "end": "138519"
  },
  {
    "text": "compiler from throwing an error as there",
    "start": "138519",
    "end": "140400"
  },
  {
    "text": "won't be any explicit references to this",
    "start": "140400",
    "end": "142519"
  },
  {
    "text": "package in this code next in order to",
    "start": "142519",
    "end": "145000"
  },
  {
    "text": "embed a file we first need to Define a",
    "start": "145000",
    "end": "146959"
  },
  {
    "text": "variable in order to store the contents",
    "start": "146959",
    "end": "148959"
  },
  {
    "text": "of it in my case I'm going to give this",
    "start": "148959",
    "end": "151239"
  },
  {
    "text": "the name of data you'll notice that this",
    "start": "151239",
    "end": "153599"
  },
  {
    "text": "variable is defined inside of the",
    "start": "153599",
    "end": "155239"
  },
  {
    "text": "package scope rather than inside of the",
    "start": "155239",
    "end": "157160"
  },
  {
    "text": "local scope of the main function this is",
    "start": "157160",
    "end": "160000"
  },
  {
    "text": "intentional as the embed package can't",
    "start": "160000",
    "end": "162319"
  },
  {
    "text": "work with locally scoped variables so",
    "start": "162319",
    "end": "164920"
  },
  {
    "text": "that's something to keep in mind next we",
    "start": "164920",
    "end": "167239"
  },
  {
    "text": "then need to define the variables type",
    "start": "167239",
    "end": "169599"
  },
  {
    "text": "which can either be one of three these",
    "start": "169599",
    "end": "172080"
  },
  {
    "text": "are either a bite array a string or a",
    "start": "172080",
    "end": "175040"
  },
  {
    "text": "third type the fs type of the embed",
    "start": "175040",
    "end": "178120"
  },
  {
    "text": "package which we'll take a look at in",
    "start": "178120",
    "end": "180080"
  },
  {
    "text": "more detail later on in this case I'm",
    "start": "180080",
    "end": "182400"
  },
  {
    "text": "going to go ahead and set this type to",
    "start": "182400",
    "end": "184159"
  },
  {
    "text": "be a string as I know I want to print it",
    "start": "184159",
    "end": "186400"
  },
  {
    "text": "to the console now in order to load the",
    "start": "186400",
    "end": "188599"
  },
  {
    "text": "contents of the file into this variable",
    "start": "188599",
    "end": "190680"
  },
  {
    "text": "I can use the go embed directive using",
    "start": "190680",
    "end": "192760"
  },
  {
    "text": "the following syntax here I'm specifying",
    "start": "192760",
    "end": "195239"
  },
  {
    "text": "the name of the file that I want to load",
    "start": "195239",
    "end": "197319"
  },
  {
    "text": "which in this case is",
    "start": "197319",
    "end": "199200"
  },
  {
    "text": "hello.txt this will attempt to load a",
    "start": "199200",
    "end": "201360"
  },
  {
    "text": "named file from the relative path where",
    "start": "201360",
    "end": "203200"
  },
  {
    "text": "the code or package lives which is an",
    "start": "203200",
    "end": "205760"
  },
  {
    "text": "important part of this feature Now All",
    "start": "205760",
    "end": "207799"
  },
  {
    "text": "That Remains in order to print out this",
    "start": "207799",
    "end": "209360"
  },
  {
    "text": "code to the the console is to add in the",
    "start": "209360",
    "end": "211360"
  },
  {
    "text": "following fmt printline statement inside",
    "start": "211360",
    "end": "213959"
  },
  {
    "text": "of the main function now I can go ahead",
    "start": "213959",
    "end": "216040"
  },
  {
    "text": "and build my application using the go",
    "start": "216040",
    "end": "217840"
  },
  {
    "text": "build command inside of a new terminal",
    "start": "217840",
    "end": "219640"
  },
  {
    "text": "window which should embed the file",
    "start": "219640",
    "end": "221799"
  },
  {
    "text": "inside of the binary if I go ahead and",
    "start": "221799",
    "end": "223760"
  },
  {
    "text": "execute this binary we can see that it's",
    "start": "223760",
    "end": "225480"
  },
  {
    "text": "working correctly printing out the",
    "start": "225480",
    "end": "227120"
  },
  {
    "text": "string hello world which also happens to",
    "start": "227120",
    "end": "229319"
  },
  {
    "text": "be the contents of my hello.txt file now",
    "start": "229319",
    "end": "232879"
  },
  {
    "text": "in order to show that this file has been",
    "start": "232879",
    "end": "234799"
  },
  {
    "text": "embedded let's first delete the",
    "start": "234799",
    "end": "236439"
  },
  {
    "text": "hello.txt file from the file system",
    "start": "236439",
    "end": "239200"
  },
  {
    "text": "before running the code once again as",
    "start": "239200",
    "end": "241239"
  },
  {
    "text": "you can see it still prints out the same",
    "start": "241239",
    "end": "243280"
  },
  {
    "text": "hello world string despite the file no",
    "start": "243280",
    "end": "245519"
  },
  {
    "text": "longer existing on the system this also",
    "start": "245519",
    "end": "247599"
  },
  {
    "text": "means if I now try to rebuild this code",
    "start": "247599",
    "end": "249959"
  },
  {
    "text": "I'll get a compilation error as the file",
    "start": "249959",
    "end": "252239"
  },
  {
    "text": "no longer exists on the file system for",
    "start": "252239",
    "end": "254280"
  },
  {
    "text": "it to be embedded however if I recreate",
    "start": "254280",
    "end": "256680"
  },
  {
    "text": "this file again you can see that I'm now",
    "start": "256680",
    "end": "258519"
  },
  {
    "text": "able to build it that covers a basic",
    "start": "258519",
    "end": "260959"
  },
  {
    "text": "example of how to use the embed package",
    "start": "260959",
    "end": "263680"
  },
  {
    "text": "but what are some of the ways that I use",
    "start": "263680",
    "end": "265080"
  },
  {
    "text": "it when it comes to my production go",
    "start": "265080",
    "end": "267080"
  },
  {
    "start": "267000",
    "end": "363000"
  },
  {
    "text": "code before we take a look at what those",
    "start": "267080",
    "end": "268840"
  },
  {
    "text": "are however let me quickly ask you a",
    "start": "268840",
    "end": "271000"
  },
  {
    "text": "couple of questions question number one",
    "start": "271000",
    "end": "273520"
  },
  {
    "text": "are you looking to learn backend web",
    "start": "273520",
    "end": "275280"
  },
  {
    "text": "development skills using either python",
    "start": "275280",
    "end": "277120"
  },
  {
    "text": "or go and question number two do you",
    "start": "277120",
    "end": "279639"
  },
  {
    "text": "happen to like role playing games well",
    "start": "279639",
    "end": "282120"
  },
  {
    "text": "if you answered yes to both of these",
    "start": "282120",
    "end": "284039"
  },
  {
    "text": "then you may be interested in the",
    "start": "284039",
    "end": "285440"
  },
  {
    "text": "sponsor of today's video boot dodev boot",
    "start": "285440",
    "end": "289120"
  },
  {
    "text": "dodev is an online platform where you're",
    "start": "289120",
    "end": "291120"
  },
  {
    "text": "able to master back-end web development",
    "start": "291120",
    "end": "293280"
  },
  {
    "text": "using both Python and go rather than",
    "start": "293280",
    "end": "295880"
  },
  {
    "text": "being a typical e-learning platform boot",
    "start": "295880",
    "end": "298160"
  },
  {
    "text": "dodev takes a much more enjoyable",
    "start": "298160",
    "end": "300240"
  },
  {
    "text": "approach applying many Concepts from",
    "start": "300240",
    "end": "302160"
  },
  {
    "text": "role playing video games to make the",
    "start": "302160",
    "end": "303960"
  },
  {
    "text": "process of e-learning not only rewarding",
    "start": "303960",
    "end": "306080"
  },
  {
    "text": "but also more enjoyable preventing you",
    "start": "306080",
    "end": "308080"
  },
  {
    "text": "from getting bored but instead making",
    "start": "308080",
    "end": "309919"
  },
  {
    "text": "the learning process more fun by",
    "start": "309919",
    "end": "312000"
  },
  {
    "text": "learning on boot dodev you'll earn",
    "start": "312000",
    "end": "313880"
  },
  {
    "text": "experience points levels achievements",
    "start": "313880",
    "end": "316560"
  },
  {
    "text": "and complete quests in order to get a",
    "start": "316560",
    "end": "318759"
  },
  {
    "text": "top spot on the global leader board the",
    "start": "318759",
    "end": "321479"
  },
  {
    "text": "platform is designed to get you writing",
    "start": "321479",
    "end": "323280"
  },
  {
    "text": "a ton of code because getting your hands",
    "start": "323280",
    "end": "325759"
  },
  {
    "text": "on the keyboard and shipping projects is",
    "start": "325759",
    "end": "327880"
  },
  {
    "text": "one of the best ways to really love earn",
    "start": "327880",
    "end": "330160"
  },
  {
    "text": "Additionally the team at boot. have done",
    "start": "330160",
    "end": "332240"
  },
  {
    "text": "everything they can to make sure it's as",
    "start": "332240",
    "end": "333919"
  },
  {
    "text": "risk-free as possible providing you with",
    "start": "333919",
    "end": "336360"
  },
  {
    "text": "a free demo of all of the interactive",
    "start": "336360",
    "end": "338280"
  },
  {
    "text": "lessons a course provides as well as a",
    "start": "338280",
    "end": "340600"
  },
  {
    "text": "30-day no questions asked money back",
    "start": "340600",
    "end": "343319"
  },
  {
    "text": "guarantee so to try everything that boot",
    "start": "343319",
    "end": "345560"
  },
  {
    "text": "dodev has to offer click the link in the",
    "start": "345560",
    "end": "347520"
  },
  {
    "text": "description down below and use my coupon",
    "start": "347520",
    "end": "349759"
  },
  {
    "text": "code dreams of code to get 25% off your",
    "start": "349759",
    "end": "352560"
  },
  {
    "text": "first payment for boot dodev that's 25%",
    "start": "352560",
    "end": "355520"
  },
  {
    "text": "off your first month or your first year",
    "start": "355520",
    "end": "357840"
  },
  {
    "text": "depending on which subscription that you",
    "start": "357840",
    "end": "359919"
  },
  {
    "text": "choose a big thank you to boot dodev for",
    "start": "359919",
    "end": "362440"
  },
  {
    "text": "sponsoring this video so now that we",
    "start": "362440",
    "end": "364720"
  },
  {
    "start": "363000",
    "end": "554000"
  },
  {
    "text": "know how the embed package Works let's",
    "start": "364720",
    "end": "366919"
  },
  {
    "text": "take a look at some of ways I actually",
    "start": "366919",
    "end": "368680"
  },
  {
    "text": "use it the first of these is how I came",
    "start": "368680",
    "end": "371240"
  },
  {
    "text": "to ReDiscover the embed package in the",
    "start": "371240",
    "end": "373400"
  },
  {
    "text": "first place using it to embed lure files",
    "start": "373400",
    "end": "376080"
  },
  {
    "text": "that I can subsequently use with redis",
    "start": "376080",
    "end": "378680"
  },
  {
    "text": "as I mentioned at the start recently",
    "start": "378680",
    "end": "380680"
  },
  {
    "text": "I've been building a production ready",
    "start": "380680",
    "end": "382120"
  },
  {
    "text": "middleware package that I want to use",
    "start": "382120",
    "end": "383919"
  },
  {
    "text": "for future projects with go one of the",
    "start": "383919",
    "end": "386199"
  },
  {
    "text": "middleware found in this package is a",
    "start": "386199",
    "end": "388199"
  },
  {
    "text": "rate limiter with uses a reddis client",
    "start": "388199",
    "end": "391039"
  },
  {
    "text": "in order to store the number of requests",
    "start": "391039",
    "end": "393080"
  },
  {
    "text": "a client makes in order for this",
    "start": "393080",
    "end": "395120"
  },
  {
    "text": "algorithm to work I ended up",
    "start": "395120",
    "end": "396880"
  },
  {
    "text": "implementing it using a lower script I",
    "start": "396880",
    "end": "399520"
  },
  {
    "text": "actually have a video in the works about",
    "start": "399520",
    "end": "401160"
  },
  {
    "text": "how this is implemented but if you're",
    "start": "401160",
    "end": "403240"
  },
  {
    "text": "unaware reddis and its Forks allow you",
    "start": "403240",
    "end": "405240"
  },
  {
    "text": "to use Lis scripts in order to perform",
    "start": "405240",
    "end": "407479"
  },
  {
    "text": "some part of your applications logic",
    "start": "407479",
    "end": "409440"
  },
  {
    "text": "that interacts with multiple reddis",
    "start": "409440",
    "end": "411160"
  },
  {
    "text": "commands automically which means it's",
    "start": "411160",
    "end": "413280"
  },
  {
    "text": "able to prevent race conditions",
    "start": "413280",
    "end": "415400"
  },
  {
    "text": "initially I was loading this script at",
    "start": "415400",
    "end": "417160"
  },
  {
    "text": "runtime using the read file function of",
    "start": "417160",
    "end": "419319"
  },
  {
    "text": "the OS package however because I wanted",
    "start": "419319",
    "end": "421840"
  },
  {
    "text": "to distribute this code for other people",
    "start": "421840",
    "end": "423479"
  },
  {
    "text": "to use as a third party package by",
    "start": "423479",
    "end": "425800"
  },
  {
    "text": "adding in a Lis script that needs to be",
    "start": "425800",
    "end": "427800"
  },
  {
    "text": "loaded at runtime it was going to cause",
    "start": "427800",
    "end": "430080"
  },
  {
    "text": "a number of issues the first of these",
    "start": "430080",
    "end": "432639"
  },
  {
    "text": "was related to security due to the fact",
    "start": "432639",
    "end": "435160"
  },
  {
    "text": "that the script could be modified before",
    "start": "435160",
    "end": "436919"
  },
  {
    "text": "loading it in either maliciously or",
    "start": "436919",
    "end": "439280"
  },
  {
    "text": "accidentally to solve this I went about",
    "start": "439280",
    "end": "441520"
  },
  {
    "text": "hardcoding in a check sum to compare",
    "start": "441520",
    "end": "443560"
  },
  {
    "text": "against the contents of the script",
    "start": "443560",
    "end": "445560"
  },
  {
    "text": "ensuring that it was the same before",
    "start": "445560",
    "end": "447240"
  },
  {
    "text": "loading it in whilst this solution works",
    "start": "447240",
    "end": "449520"
  },
  {
    "text": "for preventing any mutated scripts from",
    "start": "449520",
    "end": "451360"
  },
  {
    "text": "being loaded it unfortunately didn't",
    "start": "451360",
    "end": "453479"
  },
  {
    "text": "solve the core issue that I had which",
    "start": "453479",
    "end": "456199"
  },
  {
    "text": "was how to effectively distribute this",
    "start": "456199",
    "end": "458560"
  },
  {
    "text": "script because the middleware package",
    "start": "458560",
    "end": "460479"
  },
  {
    "text": "was loading the script at runtime then",
    "start": "460479",
    "end": "462680"
  },
  {
    "text": "it needed to be available on the file",
    "start": "462680",
    "end": "464400"
  },
  {
    "text": "system of any deployed application that",
    "start": "464400",
    "end": "466319"
  },
  {
    "text": "was built using it to show why this is",
    "start": "466319",
    "end": "468520"
  },
  {
    "text": "an issue let's first add this middleware",
    "start": "468520",
    "end": "470639"
  },
  {
    "text": "package to a project using the goget",
    "start": "470639",
    "end": "472800"
  },
  {
    "text": "command before adding in the rate",
    "start": "472800",
    "end": "474879"
  },
  {
    "text": "limiter middleware as follows then if I",
    "start": "474879",
    "end": "477599"
  },
  {
    "text": "try to run this code you can see that it",
    "start": "477599",
    "end": "479520"
  },
  {
    "text": "causes a panic when trying to load the",
    "start": "479520",
    "end": "481680"
  },
  {
    "text": "lower script this is because the script",
    "start": "481680",
    "end": "484440"
  },
  {
    "text": "itself is not where the middleware",
    "start": "484440",
    "end": "485960"
  },
  {
    "text": "thinks it is due to how relative paths",
    "start": "485960",
    "end": "488440"
  },
  {
    "text": "work during runtime with the current",
    "start": "488440",
    "end": "490680"
  },
  {
    "text": "working directory therefore in order to",
    "start": "490680",
    "end": "493360"
  },
  {
    "text": "solve this I would have to inform every",
    "start": "493360",
    "end": "495599"
  },
  {
    "text": "consumer of this package where they",
    "start": "495599",
    "end": "497199"
  },
  {
    "text": "needed to place this lower script or",
    "start": "497199",
    "end": "499319"
  },
  {
    "text": "allow them to configure it using an",
    "start": "499319",
    "end": "500879"
  },
  {
    "text": "environment variable either way it just",
    "start": "500879",
    "end": "503159"
  },
  {
    "text": "felt like a bad user experience so I",
    "start": "503159",
    "end": "506120"
  },
  {
    "text": "decided to look at what other options I",
    "start": "506120",
    "end": "507879"
  },
  {
    "text": "had in order to load this script the",
    "start": "507879",
    "end": "510599"
  },
  {
    "text": "first of these was to just hardcode the",
    "start": "510599",
    "end": "512680"
  },
  {
    "text": "script inside of my code meaning it",
    "start": "512680",
    "end": "514800"
  },
  {
    "text": "would be loaded at compile time rather",
    "start": "514800",
    "end": "516640"
  },
  {
    "text": "than runtime whilst this solved both the",
    "start": "516640",
    "end": "519039"
  },
  {
    "text": "security and distribution issues it made",
    "start": "519039",
    "end": "521719"
  },
  {
    "text": "the lower script itself a pain to work",
    "start": "521719",
    "end": "524159"
  },
  {
    "text": "with this is because when it came to the",
    "start": "524159",
    "end": "526240"
  },
  {
    "text": "lower code itself I no longer had syntax",
    "start": "526240",
    "end": "528720"
  },
  {
    "text": "highlighting code completion or even",
    "start": "528720",
    "end": "531200"
  },
  {
    "text": "linting however through this hardcoded",
    "start": "531200",
    "end": "533839"
  },
  {
    "text": "implementation I remembered another",
    "start": "533839",
    "end": "535800"
  },
  {
    "text": "compile time option that was available",
    "start": "535800",
    "end": "537640"
  },
  {
    "text": "in go for loading in files",
    "start": "537640",
    "end": "540000"
  },
  {
    "text": "the embed package by using it I could",
    "start": "540000",
    "end": "542880"
  },
  {
    "text": "replace the hardcoded lower script with",
    "start": "542880",
    "end": "545200"
  },
  {
    "text": "the embed directive which ended up",
    "start": "545200",
    "end": "547160"
  },
  {
    "text": "giving me the best of both worlds",
    "start": "547160",
    "end": "549160"
  },
  {
    "text": "allowing me to distribute the script",
    "start": "549160",
    "end": "551040"
  },
  {
    "text": "effectively whilst also keeping it as a",
    "start": "551040",
    "end": "553160"
  },
  {
    "text": "separate file this solution worked so",
    "start": "553160",
    "end": "556000"
  },
  {
    "start": "554000",
    "end": "838000"
  },
  {
    "text": "well that I started to look at other",
    "start": "556000",
    "end": "557480"
  },
  {
    "text": "ways that I could use the embed package",
    "start": "557480",
    "end": "559800"
  },
  {
    "text": "which ended up bringing me to not only",
    "start": "559800",
    "end": "561600"
  },
  {
    "text": "the Second Use case on this list but",
    "start": "561600",
    "end": "563760"
  },
  {
    "text": "also perhaps my favorite one database",
    "start": "563760",
    "end": "567000"
  },
  {
    "text": "migrations typically when it comes to my",
    "start": "567000",
    "end": "569160"
  },
  {
    "text": "go projects I performed database",
    "start": "569160",
    "end": "571120"
  },
  {
    "text": "migrations during the application",
    "start": "571120",
    "end": "573079"
  },
  {
    "text": "startup using the Fantastic goang",
    "start": "573079",
    "end": "575519"
  },
  {
    "text": "migrate package this package allows me",
    "start": "575519",
    "end": "578079"
  },
  {
    "text": "to load in my SQL files from the file",
    "start": "578079",
    "end": "580000"
  },
  {
    "text": "system at runtime before applying them",
    "start": "580000",
    "end": "581880"
  },
  {
    "text": "to my database whilst this approach does",
    "start": "581880",
    "end": "584320"
  },
  {
    "text": "work it unfortunally comes with a couple",
    "start": "584320",
    "end": "586519"
  },
  {
    "text": "of caveats with the most major one being",
    "start": "586519",
    "end": "589079"
  },
  {
    "text": "increased complexity when it comes to",
    "start": "589079",
    "end": "591040"
  },
  {
    "text": "deploying my application this is because",
    "start": "591040",
    "end": "593839"
  },
  {
    "text": "by reading in the migration files at",
    "start": "593839",
    "end": "595680"
  },
  {
    "text": "runtime I need to make sure they're",
    "start": "595680",
    "end": "597480"
  },
  {
    "text": "available in the file system wherever my",
    "start": "597480",
    "end": "599720"
  },
  {
    "text": "app is deployed most of the time in my",
    "start": "599720",
    "end": "602279"
  },
  {
    "text": "case this means adding them into the",
    "start": "602279",
    "end": "604079"
  },
  {
    "text": "docker file as well as setting up an",
    "start": "604079",
    "end": "606079"
  },
  {
    "text": "environment variable in order to be able",
    "start": "606079",
    "end": "607880"
  },
  {
    "text": "to configure where these migration files",
    "start": "607880",
    "end": "609760"
  },
  {
    "text": "can be found whilst this approach works",
    "start": "609760",
    "end": "612399"
  },
  {
    "text": "it certainly adds to the overall",
    "start": "612399",
    "end": "614079"
  },
  {
    "text": "complexity of my application deployments",
    "start": "614079",
    "end": "616680"
  },
  {
    "text": "and if I wasn't using something such as",
    "start": "616680",
    "end": "618399"
  },
  {
    "text": "Docker which makes my deployments",
    "start": "618399",
    "end": "619880"
  },
  {
    "text": "immutable this could even be more of a",
    "start": "619880",
    "end": "622120"
  },
  {
    "text": "concern fortunately by using the embed",
    "start": "622120",
    "end": "624360"
  },
  {
    "text": "package I can solve all of these",
    "start": "624360",
    "end": "626279"
  },
  {
    "text": "problems but how to do so well this is",
    "start": "626279",
    "end": "628920"
  },
  {
    "text": "where that third type that's supported",
    "start": "628920",
    "end": "630640"
  },
  {
    "text": "by the embed directive comes in which is",
    "start": "630640",
    "end": "633200"
  },
  {
    "text": "the fs type of the embed package this",
    "start": "633200",
    "end": "635959"
  },
  {
    "text": "type has the unique property of allowing",
    "start": "635959",
    "end": "637880"
  },
  {
    "text": "you to embed multiple files allowing you",
    "start": "637880",
    "end": "640399"
  },
  {
    "text": "to create an embedded file system in",
    "start": "640399",
    "end": "642839"
  },
  {
    "text": "order to show how this works here I have",
    "start": "642839",
    "end": "644920"
  },
  {
    "text": "an example project that contains a",
    "start": "644920",
    "end": "646720"
  },
  {
    "text": "number of database migrations inside of",
    "start": "646720",
    "end": "648760"
  },
  {
    "text": "the migrations directory in order to",
    "start": "648760",
    "end": "651040"
  },
  {
    "text": "embed these into my project first I need",
    "start": "651040",
    "end": "653279"
  },
  {
    "text": "to create a new package variable with",
    "start": "653279",
    "end": "655079"
  },
  {
    "text": "the embed FS type in my case I'm naming",
    "start": "655079",
    "end": "658079"
  },
  {
    "text": "this migrations then in order to embed",
    "start": "658079",
    "end": "660680"
  },
  {
    "text": "multiple files I can use the following",
    "start": "660680",
    "end": "662959"
  },
  {
    "text": "embed directive similar to what we've",
    "start": "662959",
    "end": "664600"
  },
  {
    "text": "seen before however rather than pointing",
    "start": "664600",
    "end": "667000"
  },
  {
    "text": "this to a single file instead I'm using",
    "start": "667000",
    "end": "669519"
  },
  {
    "text": "the following glob syntax to name all",
    "start": "669519",
    "end": "671600"
  },
  {
    "text": "the SQL files found inside of the",
    "start": "671600",
    "end": "673360"
  },
  {
    "text": "migrations directory in order to",
    "start": "673360",
    "end": "675800"
  },
  {
    "text": "understand how we can use this embedded",
    "start": "675800",
    "end": "677200"
  },
  {
    "text": "file system with the migrate package",
    "start": "677200",
    "end": "679240"
  },
  {
    "text": "let's take a quick look at the methods",
    "start": "679240",
    "end": "680760"
  },
  {
    "text": "that the fs type has the first is the",
    "start": "680760",
    "end": "683480"
  },
  {
    "text": "read dear method which is used to obtain",
    "start": "683480",
    "end": "686200"
  },
  {
    "text": "a list of entries found inside of the",
    "start": "686200",
    "end": "688040"
  },
  {
    "text": "named directory in the file system for",
    "start": "688040",
    "end": "690480"
  },
  {
    "text": "example here I'm using it to pull out",
    "start": "690480",
    "end": "692279"
  },
  {
    "text": "all of the files found inside of the",
    "start": "692279",
    "end": "693880"
  },
  {
    "text": "migrations directory inside of my",
    "start": "693880",
    "end": "695639"
  },
  {
    "text": "embedded file system the second method",
    "start": "695639",
    "end": "698040"
  },
  {
    "text": "found inside of the fs type is called",
    "start": "698040",
    "end": "699880"
  },
  {
    "text": "read file which takes the name of a file",
    "start": "699880",
    "end": "702480"
  },
  {
    "text": "as a parameter and returns back a bite",
    "start": "702480",
    "end": "704560"
  },
  {
    "text": "array or an error if the file doesn't",
    "start": "704560",
    "end": "707079"
  },
  {
    "text": "exist we can use this method to pull out",
    "start": "707079",
    "end": "709480"
  },
  {
    "text": "the contents of a file inside of a file",
    "start": "709480",
    "end": "711519"
  },
  {
    "text": "system by its name the last but",
    "start": "711519",
    "end": "714040"
  },
  {
    "text": "certainly not least method of the fs",
    "start": "714040",
    "end": "716279"
  },
  {
    "text": "type is named open which again takes the",
    "start": "716279",
    "end": "719320"
  },
  {
    "text": "file name as a parameter but this time",
    "start": "719320",
    "end": "721720"
  },
  {
    "text": "rather than returning a BTE array",
    "start": "721720",
    "end": "723519"
  },
  {
    "text": "instead returns a file type found in the",
    "start": "723519",
    "end": "725800"
  },
  {
    "text": "fs package provided that the named file",
    "start": "725800",
    "end": "728399"
  },
  {
    "text": "exists this method is actually what",
    "start": "728399",
    "end": "730800"
  },
  {
    "text": "makes the fs type so powerful as it",
    "start": "730800",
    "end": "733440"
  },
  {
    "text": "causes it to conform to the fs interface",
    "start": "733440",
    "end": "735760"
  },
  {
    "text": "of the fs package this interface is",
    "start": "735760",
    "end": "738639"
  },
  {
    "text": "accepted by a number of different",
    "start": "738639",
    "end": "740160"
  },
  {
    "text": "methods in other packages found in the",
    "start": "740160",
    "end": "742040"
  },
  {
    "text": "standard library and thirdparty",
    "start": "742040",
    "end": "743519"
  },
  {
    "text": "dependencies as well including the goang",
    "start": "743519",
    "end": "746079"
  },
  {
    "text": "migrate package through the use of its",
    "start": "746079",
    "end": "748320"
  },
  {
    "text": "IO FS source which takes an iofs type in",
    "start": "748320",
    "end": "751920"
  },
  {
    "text": "order to perform database migrations",
    "start": "751920",
    "end": "754760"
  },
  {
    "text": "therefore in order to use the embedded",
    "start": "754760",
    "end": "756480"
  },
  {
    "text": "file system we can create a new",
    "start": "756480",
    "end": "758360"
  },
  {
    "text": "migration source using the new function",
    "start": "758360",
    "end": "760519"
  },
  {
    "text": "of the iofs package passing in our",
    "start": "760519",
    "end": "763440"
  },
  {
    "text": "embedded file system as the first",
    "start": "763440",
    "end": "765199"
  },
  {
    "text": "argument followed by the relative path",
    "start": "765199",
    "end": "767560"
  },
  {
    "text": "where our migration files are found in",
    "start": "767560",
    "end": "770000"
  },
  {
    "text": "my case inside of the migrations",
    "start": "770000",
    "end": "772000"
  },
  {
    "text": "directory then by using the new with",
    "start": "772000",
    "end": "774440"
  },
  {
    "text": "Source instance function of the goang",
    "start": "774440",
    "end": "776360"
  },
  {
    "text": "migrate package I can create an instance",
    "start": "776360",
    "end": "778440"
  },
  {
    "text": "of the migrator that takes the i fs",
    "start": "778440",
    "end": "780680"
  },
  {
    "text": "Source containing the embedded file",
    "start": "780680",
    "end": "782920"
  },
  {
    "text": "system now All That Remains is to call",
    "start": "782920",
    "end": "785199"
  },
  {
    "text": "the up method of this migrator in order",
    "start": "785199",
    "end": "787480"
  },
  {
    "text": "to perform the migrations in order to",
    "start": "787480",
    "end": "789639"
  },
  {
    "text": "show that this is working with the",
    "start": "789639",
    "end": "791000"
  },
  {
    "text": "embedded file system let's first build",
    "start": "791000",
    "end": "793360"
  },
  {
    "text": "this code using the go build command",
    "start": "793360",
    "end": "795839"
  },
  {
    "text": "followed by then deleting the migrations",
    "start": "795839",
    "end": "797839"
  },
  {
    "text": "directory off the disk now if I create a",
    "start": "797839",
    "end": "800600"
  },
  {
    "text": "new database instance using psql",
    "start": "800600",
    "end": "802800"
  },
  {
    "text": "followed by executing my binary if I go",
    "start": "802800",
    "end": "805079"
  },
  {
    "text": "ahead and check the database relations",
    "start": "805079",
    "end": "806800"
  },
  {
    "text": "in this database I can see that the",
    "start": "806800",
    "end": "808440"
  },
  {
    "text": "migrations have been applied even",
    "start": "808440",
    "end": "810240"
  },
  {
    "text": "without the files being found on disk",
    "start": "810240",
    "end": "813000"
  },
  {
    "text": "this allows me to solve my existing",
    "start": "813000",
    "end": "814760"
  },
  {
    "text": "issues that I typically find when",
    "start": "814760",
    "end": "816279"
  },
  {
    "text": "deploying code that uses migrations in",
    "start": "816279",
    "end": "818760"
  },
  {
    "text": "fact I've already made this change on my",
    "start": "818760",
    "end": "820440"
  },
  {
    "text": "guestbook web app featured in my",
    "start": "820440",
    "end": "822199"
  },
  {
    "text": "production ready VPS video here is the",
    "start": "822199",
    "end": "824440"
  },
  {
    "text": "actual commit where I made the changes",
    "start": "824440",
    "end": "826000"
  },
  {
    "text": "to embed the migration files instead of",
    "start": "826000",
    "end": "828120"
  },
  {
    "text": "loading them from disk you can find this",
    "start": "828120",
    "end": "830279"
  },
  {
    "text": "commit on GitHub if you want to review",
    "start": "830279",
    "end": "832120"
  },
  {
    "text": "it yourself in fact I actually made",
    "start": "832120",
    "end": "834600"
  },
  {
    "text": "three different changes to this project",
    "start": "834600",
    "end": "836639"
  },
  {
    "text": "in order to make use of embedded files",
    "start": "836639",
    "end": "838920"
  },
  {
    "start": "838000",
    "end": "899000"
  },
  {
    "text": "the the second of these changes was to",
    "start": "838920",
    "end": "840800"
  },
  {
    "text": "use embedded files for loading and",
    "start": "840800",
    "end": "842680"
  },
  {
    "text": "passing HTML templates similar to",
    "start": "842680",
    "end": "845399"
  },
  {
    "text": "database migrations typically I would",
    "start": "845399",
    "end": "847680"
  },
  {
    "text": "load these HTML templates during my",
    "start": "847680",
    "end": "849839"
  },
  {
    "text": "application startup from the file system",
    "start": "849839",
    "end": "852079"
  },
  {
    "text": "meaning that I ran into the same issues",
    "start": "852079",
    "end": "853800"
  },
  {
    "text": "where I needed to make sure they were",
    "start": "853800",
    "end": "855160"
  },
  {
    "text": "available during runtime to instead use",
    "start": "855160",
    "end": "857639"
  },
  {
    "text": "an embedded file system first I can load",
    "start": "857639",
    "end": "860079"
  },
  {
    "text": "these templates as follows using the",
    "start": "860079",
    "end": "862079"
  },
  {
    "text": "following glob with the go ined",
    "start": "862079",
    "end": "863639"
  },
  {
    "text": "directive that we saw before then rather",
    "start": "863639",
    "end": "865880"
  },
  {
    "text": "than using the PA glob method of the",
    "start": "865880",
    "end": "868079"
  },
  {
    "text": "template struct I can instead use the",
    "start": "868079",
    "end": "870440"
  },
  {
    "text": "pass FS method which takes an io. FS",
    "start": "870440",
    "end": "873839"
  },
  {
    "text": "type then all I need to do is pass in",
    "start": "873839",
    "end": "875920"
  },
  {
    "text": "the relative path which contains all of",
    "start": "875920",
    "end": "877759"
  },
  {
    "text": "my template files now when I go ahead",
    "start": "877759",
    "end": "880000"
  },
  {
    "text": "and run this code you can see that it",
    "start": "880000",
    "end": "881440"
  },
  {
    "text": "works with my HTML templates being",
    "start": "881440",
    "end": "883440"
  },
  {
    "text": "rendered what's really nice about this",
    "start": "883440",
    "end": "885560"
  },
  {
    "text": "is I can easily distribute this binary",
    "start": "885560",
    "end": "887759"
  },
  {
    "text": "anywhere else and the HTML templates",
    "start": "887759",
    "end": "890279"
  },
  {
    "text": "will also be distributed as well again",
    "start": "890279",
    "end": "893120"
  },
  {
    "text": "I've made this change into my guestbook",
    "start": "893120",
    "end": "895000"
  },
  {
    "text": "web app under the following commit which",
    "start": "895000",
    "end": "897079"
  },
  {
    "text": "once again you can view yourself if you",
    "start": "897079",
    "end": "898880"
  },
  {
    "text": "like bike the fourth way that I've been",
    "start": "898880",
    "end": "900839"
  },
  {
    "start": "899000",
    "end": "966000"
  },
  {
    "text": "using the imped package is when it comes",
    "start": "900839",
    "end": "902959"
  },
  {
    "text": "to serving static files similar to",
    "start": "902959",
    "end": "905360"
  },
  {
    "text": "database migrations and HTML templates",
    "start": "905360",
    "end": "907800"
  },
  {
    "text": "I've typically achieved this by reading",
    "start": "907800",
    "end": "909360"
  },
  {
    "text": "in from the file system at runtime using",
    "start": "909360",
    "end": "911759"
  },
  {
    "text": "the file server function of the HTTP",
    "start": "911759",
    "end": "914240"
  },
  {
    "text": "package coupled with the HTTP dodear",
    "start": "914240",
    "end": "917120"
  },
  {
    "text": "function to replace this with the",
    "start": "917120",
    "end": "918959"
  },
  {
    "text": "embedded file system I instead now use",
    "start": "918959",
    "end": "921160"
  },
  {
    "text": "it with the file server FS function from",
    "start": "921160",
    "end": "923360"
  },
  {
    "text": "the HTTP package passing in the embedded",
    "start": "923360",
    "end": "925800"
  },
  {
    "text": "file system as follows unlike the other",
    "start": "925800",
    "end": "928240"
  },
  {
    "text": "two approaches however this one actually",
    "start": "928240",
    "end": "930319"
  },
  {
    "text": "requires a little bit more consideration",
    "start": "930319",
    "end": "932519"
  },
  {
    "text": "this is because all embedded files in go",
    "start": "932519",
    "end": "934920"
  },
  {
    "text": "are loaded into memory which does give",
    "start": "934920",
    "end": "937199"
  },
  {
    "text": "the benefit of increased performance but",
    "start": "937199",
    "end": "939319"
  },
  {
    "text": "has the drawback of using more system",
    "start": "939319",
    "end": "941319"
  },
  {
    "text": "memory therefore I would only recommend",
    "start": "941319",
    "end": "943480"
  },
  {
    "text": "using the embed package for serving",
    "start": "943480",
    "end": "945360"
  },
  {
    "text": "certain types of static files such as",
    "start": "945360",
    "end": "947800"
  },
  {
    "text": "stylesheets JavaScript and some smaller",
    "start": "947800",
    "end": "950639"
  },
  {
    "text": "images for anything larger such as",
    "start": "950639",
    "end": "953079"
  },
  {
    "text": "photos or videos then I would consider",
    "start": "953079",
    "end": "955279"
  },
  {
    "text": "keeping these on the file system instead",
    "start": "955279",
    "end": "957680"
  },
  {
    "text": "additionally if any files that you want",
    "start": "957680",
    "end": "959440"
  },
  {
    "text": "to serve aren't available at build time",
    "start": "959440",
    "end": "961560"
  },
  {
    "text": "then you'll want to use the HTTP file",
    "start": "961560",
    "end": "963639"
  },
  {
    "text": "server function in this case as well",
    "start": "963639",
    "end": "966360"
  },
  {
    "start": "966000",
    "end": "1016000"
  },
  {
    "text": "that wraps up the four major ways that I",
    "start": "966360",
    "end": "968399"
  },
  {
    "text": "currently use the embed package however",
    "start": "968399",
    "end": "971120"
  },
  {
    "text": "I am still considering some other use",
    "start": "971120",
    "end": "973079"
  },
  {
    "text": "cases such as loading and configuration",
    "start": "973079",
    "end": "975160"
  },
  {
    "text": "files that I typically use when working",
    "start": "975160",
    "end": "977120"
  },
  {
    "text": "with Viper if there's any other ways",
    "start": "977120",
    "end": "978959"
  },
  {
    "text": "that I haven't mentioned that you",
    "start": "978959",
    "end": "980319"
  },
  {
    "text": "yourself use when it comes to the embed",
    "start": "980319",
    "end": "982360"
  },
  {
    "text": "package then I'd love to hear from you",
    "start": "982360",
    "end": "984360"
  },
  {
    "text": "you can let me know in the comments down",
    "start": "984360",
    "end": "985920"
  },
  {
    "text": "below either way I'm really glad to have",
    "start": "985920",
    "end": "988079"
  },
  {
    "text": "rediscovered the embed package and how I",
    "start": "988079",
    "end": "991160"
  },
  {
    "text": "can use it to solve a number of pain",
    "start": "991160",
    "end": "993040"
  },
  {
    "text": "points that I've typically encountered",
    "start": "993040",
    "end": "994720"
  },
  {
    "text": "in go in any case I want to give a big",
    "start": "994720",
    "end": "997240"
  },
  {
    "text": "thank you to boot dodev for sponsoring",
    "start": "997240",
    "end": "999120"
  },
  {
    "text": "this video If you're looking to learn",
    "start": "999120",
    "end": "1000600"
  },
  {
    "text": "backend web development and go then do",
    "start": "1000600",
    "end": "1002680"
  },
  {
    "text": "check them out using the link found in",
    "start": "1002680",
    "end": "1004360"
  },
  {
    "text": "the description down below and make sure",
    "start": "1004360",
    "end": "1006519"
  },
  {
    "text": "to use my coupon code dreams of code to",
    "start": "1006519",
    "end": "1008680"
  },
  {
    "text": "get that discount as well otherwise I",
    "start": "1008680",
    "end": "1010959"
  },
  {
    "text": "want to give a big thank you for",
    "start": "1010959",
    "end": "1012000"
  },
  {
    "text": "watching and I'll see you on the next",
    "start": "1012000",
    "end": "1013759"
  },
  {
    "text": "one",
    "start": "1013759",
    "end": "1016759"
  }
]