[
  {
    "text": "[SQUEAKING] [PAPER RUSTLING]  [CLICKING] ",
    "start": "0",
    "end": "18080"
  },
  {
    "text": "YUFEI ZHAO: Last time we started\ntalking about Roth's theorem, and we showed a Fourier\nanalytic proof of Roth's theorem",
    "start": "18080",
    "end": "26419"
  },
  {
    "text": "in the finite field model. So Roth's theorem\nin F3 to the N.",
    "start": "26420",
    "end": "32770"
  },
  {
    "text": "And I want to today show\nyou how to modify that proof to work in integers.",
    "start": "32770",
    "end": "39649"
  },
  {
    "text": "And this will be basically\nRoth's original proof",
    "start": "39650",
    "end": "46130"
  },
  {
    "text": "of his theorem. ",
    "start": "46130",
    "end": "56440"
  },
  {
    "text": "OK. So what we'll prove\ntoday is the statement that the size of the largest\n3AP-free subset of 1 through N",
    "start": "56440",
    "end": "70580"
  },
  {
    "text": "is, at most, N divided\nby log log N. OK,",
    "start": "70580",
    "end": "81080"
  },
  {
    "text": "so we'll prove a\nbound of this form. ",
    "start": "81080",
    "end": "86450"
  },
  {
    "text": "The strategy of this proof\nwill be very similar to the one that we had from last time. So let me review for you\nwhat is the strategy.",
    "start": "86450",
    "end": "92837"
  },
  {
    "start": "92837",
    "end": "104680"
  },
  {
    "text": "So from last time, the\nproof had three main steps. In the first step, we\nobserved that if you",
    "start": "104680",
    "end": "112920"
  },
  {
    "text": "are in the 3AP-free set then\nthere exists a large Fourier",
    "start": "112920",
    "end": "122170"
  },
  {
    "text": "coefficient. ",
    "start": "122170",
    "end": "131810"
  },
  {
    "text": "From this Fourier\ncoefficient, we were able to extract\na large subspace where",
    "start": "131810",
    "end": "142370"
  },
  {
    "text": "there is a density increment. I want to modify that\nstrategy so that we",
    "start": "142370",
    "end": "148910"
  },
  {
    "text": "can work in the integers. Unlike an F2 to\nthe N, where things",
    "start": "148910",
    "end": "154190"
  },
  {
    "text": "were fairly nice and clean,\nbecause you have subspaces, you can take a\nFourier coefficient,",
    "start": "154190",
    "end": "159530"
  },
  {
    "text": "pass it down to a subspace. There is no subspaces, right? There are no subspaces\nin the integers.",
    "start": "159530",
    "end": "166980"
  },
  {
    "text": "So we have to do something\nslightly different, but in the same spirit. So you'll find a large\nFourier coefficient.",
    "start": "166980",
    "end": "173577"
  },
  {
    "start": "173577",
    "end": "180400"
  },
  {
    "text": "And we will find that there\nis density increment when",
    "start": "180400",
    "end": "190370"
  },
  {
    "text": "you restrict not to\nsubspaces, but what could play the role of subspaces\nwhen it comes to the integers?",
    "start": "190370",
    "end": "197335"
  },
  {
    "text": " So I want something which\nlooks like a smaller",
    "start": "197335",
    "end": "203049"
  },
  {
    "text": "version of the original space. So instead of it\nbeing integers, if we",
    "start": "203050",
    "end": "209280"
  },
  {
    "text": "restrict to a subprogression,\nso to a smaller arithmetic progression.",
    "start": "209280",
    "end": "214970"
  },
  {
    "text": "I will show that you can\nrestrict to a subprogression where you can obtain\ndensity increment.",
    "start": "214970",
    "end": "220696"
  },
  {
    "start": "220697",
    "end": "225840"
  },
  {
    "text": "So we'll restrict integers\nto something smaller. And then, same as last time,\nwe can iterate this increment",
    "start": "225840",
    "end": "244680"
  },
  {
    "text": "to obtain the\nconclusion that you have an upper bound on the\nsize of this 3AP-free set.",
    "start": "244680",
    "end": "254545"
  },
  {
    "text": "OK, so that's the strategy. So you see the same strategy\nas the one we did last time, and many of the ingredients\nwill have parallels,",
    "start": "254545",
    "end": "260829"
  },
  {
    "text": "but the execution will\nbe slightly different, especially in the\nsecond step where,",
    "start": "260829",
    "end": "266750"
  },
  {
    "text": "because we no longer\nhave sub spaces, which are nice and clean,\nso that's why we started with a\nfinite fuel model, just",
    "start": "266750",
    "end": "273070"
  },
  {
    "text": "to show how things work in\na slightly easier setting. And today, we'll see how to\ndo a same kind of strategy",
    "start": "273070",
    "end": "279670"
  },
  {
    "text": "here, where there is going\nto be a bit more work. Not too much more,\nbut a bit more work.",
    "start": "279670",
    "end": "285290"
  },
  {
    "text": "OK, so before we\nstart, any questions? ",
    "start": "285290",
    "end": "293199"
  },
  {
    "text": "All right. So last time I used the\nproof Roth's theorem as an excuse to introduce\nFourier analysis.",
    "start": "293200",
    "end": "299245"
  },
  {
    "text": "And we're going to see basically\nthe same kind of Fourier analysis, but it's going to take\non a slightly different form,",
    "start": "299245",
    "end": "305419"
  },
  {
    "text": "because we're not working\nat F3 to the N. We're working inside the integers.",
    "start": "305420",
    "end": "310490"
  },
  {
    "text": "And there's a general theory of\nFourier analysis on the group, on a billion groups.",
    "start": "310490",
    "end": "316472"
  },
  {
    "text": "I don't want to go into that\ntheory, because that's-- I want to focus on\nthe specific case, but the point is that\ngiven the billion groups,",
    "start": "316472",
    "end": "322400"
  },
  {
    "text": "you always have a dual\ngroup of characters. And they play the role\nof Fourier transform.",
    "start": "322400",
    "end": "329800"
  },
  {
    "text": "Specifically in\nthe case of Z, we have the following\nFourier transform.",
    "start": "329800",
    "end": "335890"
  },
  {
    "start": "335890",
    "end": "341390"
  },
  {
    "text": "So the dual group of Z\nturns out to be the torus.",
    "start": "341390",
    "end": "351110"
  },
  {
    "text": "So real numbers mod one. And the Fourier\ntransform is defined",
    "start": "351110",
    "end": "363450"
  },
  {
    "text": "as follows, starting with a\nfunction on the integers, OK.",
    "start": "363450",
    "end": "374910"
  },
  {
    "text": "If you'd like, let's say\nit's finitely supported, just to make our\nlives a bit easier. Don't have to deal\nwith technicalities.",
    "start": "374910",
    "end": "380680"
  },
  {
    "text": "But in general, the\nfollowing formula holds. We have this Fourier\ntransform defined",
    "start": "380680",
    "end": "392280"
  },
  {
    "text": "by setting f hat of theta\nto be the following sum.",
    "start": "392280",
    "end": "399620"
  },
  {
    "start": "399620",
    "end": "404922"
  },
  {
    "text": "OK, where this e is actually\nsomewhat standard notation,",
    "start": "404922",
    "end": "410030"
  },
  {
    "text": "additive combinatorics. It's e to the 2\npi i t, all right?",
    "start": "410030",
    "end": "416400"
  },
  {
    "text": "So it goes a fraction, t,\naround the complex unit circle.",
    "start": "416400",
    "end": "422350"
  },
  {
    "text": "OK. So that's the Fourier\ntransform on the integers. OK, so you might have seen this\nbefore under a different name.",
    "start": "422350",
    "end": "428090"
  },
  {
    "text": "This is usually\ncalled Fourier series. ",
    "start": "428090",
    "end": "433789"
  },
  {
    "text": "All right. You know, the notation\nmay be slightly different. OK, so that's what\nwe'll see today.",
    "start": "433790",
    "end": "439050"
  },
  {
    "text": "And this Fourier transform plays\nthe same role as the Fourier transform from last time, which\nwas on the group F3 to the N.",
    "start": "439050",
    "end": "449390"
  },
  {
    "text": "And just us in-- so last time, we had a number\nof important identities,",
    "start": "449390",
    "end": "457020"
  },
  {
    "text": "and we'll have the same\nkinds of identities here. So let me remind\nyou what they are. And the proofs are all\nbasically the same,",
    "start": "457020",
    "end": "463810"
  },
  {
    "text": "so I won't show you the proofs. ",
    "start": "463810",
    "end": "474130"
  },
  {
    "text": "f hat of 0 is simply the\nsum of f over the domain.",
    "start": "474130",
    "end": "481540"
  },
  {
    "text": " We have this Plancherel Parseval\nidentity, which tells us",
    "start": "481540",
    "end": "496470"
  },
  {
    "text": "that if you look at\nthe inner product",
    "start": "496470",
    "end": "502620"
  },
  {
    "text": "by linear form in\nthe physical space, it equals to the inner\nproduct in the Fourier space.",
    "start": "502620",
    "end": "513450"
  },
  {
    "start": "513450",
    "end": "522620"
  },
  {
    "text": "OK. So in the physical\nspace now, you sum. In the frequency space,\nyou take integral over the torus, or the\ncircle, in this case.",
    "start": "522620",
    "end": "531959"
  },
  {
    "text": "It's a one-dimensional torus. There is also the Fourier\ninversion formula,",
    "start": "531960",
    "end": "538470"
  },
  {
    "text": "which now says that f of x\nis equal to f hat of theta.",
    "start": "538470",
    "end": "545350"
  },
  {
    "text": "E of x theta, you integrate\ntheta from 0 to 1. Again, on the torus,\non the circle.",
    "start": "545350",
    "end": "553830"
  },
  {
    "text": "And third-- and finally, there\nwas this identity last time that related three-term\narithmetic progressions",
    "start": "553830",
    "end": "560940"
  },
  {
    "text": "to the Fourier transform, OK? So this last one was\nslightly not as--",
    "start": "560940",
    "end": "566529"
  },
  {
    "text": "I mean, it's not as standard\nas the first several, which are standard Fourier identities.",
    "start": "566530",
    "end": "571560"
  },
  {
    "text": "But this one will\nbe useful to us. So the identity relating the\nFourier transform, the 3AP, now",
    "start": "571560",
    "end": "578279"
  },
  {
    "text": "has the following form. OK, so if we define\nlambda of f, g,",
    "start": "578280",
    "end": "587098"
  },
  {
    "text": "and h to be the\nfollowing sum, which",
    "start": "587098",
    "end": "595790"
  },
  {
    "text": "sums over all 3APs\nin the integers,",
    "start": "595790",
    "end": "602600"
  },
  {
    "text": "then one can write\nthis expression",
    "start": "602600",
    "end": "611470"
  },
  {
    "text": "in terms of the Fourier\ntransform as follows. ",
    "start": "611470",
    "end": "626750"
  },
  {
    "text": "OK. All right. So comparing this formula to the\none that we saw from last time,",
    "start": "626750",
    "end": "631939"
  },
  {
    "text": "it's the same formula,\nwhere different domains, where you're summing\nor integrating, but it's the same formula.",
    "start": "631940",
    "end": "637160"
  },
  {
    "text": "And the proof is the same. So go look at the proof. It's the same proof. ",
    "start": "637160",
    "end": "643710"
  },
  {
    "text": "OK. So these are the key Fourier\nthings that we'll use. And then we'll try to\nfollow on those with--",
    "start": "643710",
    "end": "650980"
  },
  {
    "text": "the same as the proof as last\ntime, and see where we can get. So let me introduce\none more notation.",
    "start": "650980",
    "end": "657180"
  },
  {
    "text": "So I'll write lambda sub 3\nof f to be lambda of f, f, f,",
    "start": "657180",
    "end": "664490"
  },
  {
    "text": "three times.  OK. So at this point, if you\nunderstood the lecture",
    "start": "664490",
    "end": "669980"
  },
  {
    "text": "from last time, none of\nanything I've said so far should be surprising. We are working\nintegers, so we should",
    "start": "669980",
    "end": "676280"
  },
  {
    "text": "look at the corresponding\nFourier transform in integers. And if you follow your\nnotes, this is all the things",
    "start": "676280",
    "end": "681680"
  },
  {
    "text": "that we're going to use. OK, so what was one\nof the first things we mentioned regarding\nthe Fourier transform",
    "start": "681680",
    "end": "689269"
  },
  {
    "text": "from last time after this point? ",
    "start": "689270",
    "end": "700250"
  },
  {
    "text": "OK. AUDIENCE: The counting lemma. YUFEI ZHAO: OK. So let's do a counting lemma. So what should the\ncounting lemma say?",
    "start": "700250",
    "end": "709780"
  },
  {
    "text": "Well, the spirit of the counting\nlemma is that if you have two functions that are close to\neach other-- and now, \"close\"",
    "start": "709780",
    "end": "716360"
  },
  {
    "text": "means close in Fourier-- then their corresponding number\nof 3APs should be similar, OK?",
    "start": "716360",
    "end": "723910"
  },
  {
    "text": "So that's what we want to say. And indeed, right, so\nthe counting lemma for us",
    "start": "723910",
    "end": "734740"
  },
  {
    "text": "will say that if f and g\nare functions on Z, and--",
    "start": "734740",
    "end": "745510"
  },
  {
    "text": " such that their L2 norms are\nboth bounded by this M. OK,",
    "start": "745510",
    "end": "767375"
  },
  {
    "text": "the sum of the squared absolute\nvalue entries are both bounded. Then the difference\nof their 3AP counts",
    "start": "767375",
    "end": "783710"
  },
  {
    "text": "should not be so different\nfrom each other if f and g are close in Fourier, OK?",
    "start": "783710",
    "end": "790790"
  },
  {
    "text": "And that means that if all\nthe Fourier coefficients of f",
    "start": "790790",
    "end": "801990"
  },
  {
    "text": "minus g are small,\nthen lambda 3ff,",
    "start": "801990",
    "end": "808270"
  },
  {
    "text": "which considers 3AP counts\nin f, is close to that of g. ",
    "start": "808270",
    "end": "815685"
  },
  {
    "text": "OK. Same kind of 3AP counting\nlemma from last time.",
    "start": "815685",
    "end": "822743"
  },
  {
    "text": "OK, so let's prove it, OK? ",
    "start": "822744",
    "end": "831520"
  },
  {
    "text": "As with the counting\nlemma proofs you've seen several times\nalready in this course, we will prove it by first\nwriting this difference",
    "start": "831520",
    "end": "840069"
  },
  {
    "text": "as a telescoping sum. ",
    "start": "840070",
    "end": "847420"
  },
  {
    "text": "The first term\nbeing f minus g f f,",
    "start": "847420",
    "end": "852920"
  },
  {
    "text": "and then g of f minus g f and\nlambda g, g, f, f minus g.",
    "start": "852920",
    "end": "865045"
  },
  {
    "text": "OK, and we will like to show\nthat each of these terms is small if f minus g has\nsmall Fourier coefficients.",
    "start": "865045",
    "end": "874272"
  },
  {
    "start": "874273",
    "end": "879690"
  },
  {
    "text": "OK. So let's bound the first term. ",
    "start": "879690",
    "end": "890077"
  },
  {
    "text": "OK, so let me bound this first\nterm using the 3AP identity,",
    "start": "890077",
    "end": "895340"
  },
  {
    "text": "relating 3AP to\nFourier coefficients, we can write this lambda\nas the following integral",
    "start": "895340",
    "end": "905150"
  },
  {
    "text": "over Fourier coefficients. ",
    "start": "905150",
    "end": "924070"
  },
  {
    "text": "And now, let me-- OK, so what was the\ntrick last time? So we said let's pull\nout one of these guys",
    "start": "924070",
    "end": "932600"
  },
  {
    "text": "and then use triangle inequality\non the remaining factors. OK, so we'll do that.",
    "start": "932600",
    "end": "938150"
  },
  {
    "start": "938150",
    "end": "956410"
  },
  {
    "text": "So far, so good. And now you see this integral.",
    "start": "956410",
    "end": "962295"
  },
  {
    "text": "Apply Cauchy-Schwartz. ",
    "start": "962295",
    "end": "978090"
  },
  {
    "text": "OK, so apply Cauchy-Schwartz\nto the first factor, you got this l2 sum,\nthis l2 integral.",
    "start": "978090",
    "end": "985533"
  },
  {
    "text": "And then you apply\nCauchy-Schwartz to the second factor. ",
    "start": "985533",
    "end": "994633"
  },
  {
    "text": "You get that integral.  OK, now what do we do?",
    "start": "994633",
    "end": "1000920"
  },
  {
    "text": " Yep?",
    "start": "1000920",
    "end": "1006409"
  },
  {
    "text": "AUDIENCE: [INAUDIBLE] YUFEI ZHAO: OK, so yeah. So you see an l2 of Fourier,\nthe first automatic reaction",
    "start": "1006409",
    "end": "1014699"
  },
  {
    "text": "should be to use a\nPlancherel or Parseval, OK? So apply Plancherel identity\nto each of these factors.",
    "start": "1014700",
    "end": "1024589"
  },
  {
    "text": "We find that each\nof those factors",
    "start": "1024589",
    "end": "1033520"
  },
  {
    "text": "is equal to this l2 sum\nin the physical space.",
    "start": "1033520",
    "end": "1040040"
  },
  {
    "text": " OK, so this square\nroot, the same thing.",
    "start": "1040040",
    "end": "1045609"
  },
  {
    "text": "Square root again. OK. And then we find\nthat because there",
    "start": "1045609",
    "end": "1054750"
  },
  {
    "text": "was an hypothesis--\nin the hypothesis, there was a bound M on\nthis sum of squares.",
    "start": "1054750",
    "end": "1060429"
  },
  {
    "text": " You have that down there.",
    "start": "1060430",
    "end": "1066090"
  },
  {
    "text": "And similarly, with\nthe other two terms. ",
    "start": "1066090",
    "end": "1081526"
  },
  {
    "text": "OK. So that proves the\ncounting lemma. ",
    "start": "1081526",
    "end": "1087359"
  },
  {
    "text": "Question? AUDIENCE: Last time, the\nterm on the right-hand side",
    "start": "1087359",
    "end": "1092760"
  },
  {
    "text": "was the maximum over\nnon-zero frequency? YUFEI ZHAO: OK. OK.",
    "start": "1092760",
    "end": "1098230"
  },
  {
    "text": "So the question is, last time\nwe had a counting lemma that looked slightly different.",
    "start": "1098230",
    "end": "1104120"
  },
  {
    "text": "But I claimed they're all\nreally the same counting lemma. They're all the same proofs. If you run this\nproof, it won't work.",
    "start": "1104120",
    "end": "1110809"
  },
  {
    "text": "If you take what\nwe did last time, it's the same kind of proofs. So last time we had\na counting lemma",
    "start": "1110810",
    "end": "1116760"
  },
  {
    "text": "where we had the same\nf, f, f essentially.",
    "start": "1116760",
    "end": "1124120"
  },
  {
    "text": "We know have-- I allow you\nto essentially take three different things, and--",
    "start": "1124120",
    "end": "1129640"
  },
  {
    "text": "OK, so both-- in\nboth cases, you're running through\nthis calculation,",
    "start": "1129640",
    "end": "1134750"
  },
  {
    "text": "but they look\nslightly different. AUDIENCE: [INAUDIBLE]",
    "start": "1134750",
    "end": "1142555"
  },
  {
    "text": "YUFEI ZHAO: So, yeah. So I agree. It doesn't look\nexactly the same, but if you think about\nwhat's involved in the proof, they're the same proofs.",
    "start": "1142555",
    "end": "1148520"
  },
  {
    "text": " OK. Any more questions?",
    "start": "1148520",
    "end": "1156170"
  },
  {
    "text": "All right. So now, we have\nthis counting lemma, so let's start our proof of\nRoth's theorem in the integers.",
    "start": "1156170",
    "end": "1165660"
  },
  {
    "text": "As with last time, there\nwill be three steps, as mentioned up there, OK?",
    "start": "1165660",
    "end": "1172174"
  },
  {
    "text": "In the first step, let us\nshow that if you are 3AP-free,",
    "start": "1172175",
    "end": "1177590"
  },
  {
    "text": "then we can obtain a density-- a large Fourier coefficient. ",
    "start": "1177590",
    "end": "1196640"
  },
  {
    "text": "Yeah, so in this course,\nthis counting lemma, we actually solved this-- basically this kind of proof\nfor the first time when we",
    "start": "1196640",
    "end": "1203970"
  },
  {
    "text": "discussed graph counting\nlemma, back in the chapter on Szemer√©di's regularity lemma.",
    "start": "1203970",
    "end": "1209810"
  },
  {
    "text": "And sure, they all\nlook literally-- not exactly the same,\nbut they're all really the same kind of proofs, right?",
    "start": "1209810",
    "end": "1216400"
  },
  {
    "text": "So I want-- I'm showing you the same thing\nin many different guises. But they're all the same proofs. ",
    "start": "1216400",
    "end": "1223690"
  },
  {
    "text": "So if you are a set\nthat is 3AP-free-- ",
    "start": "1223690",
    "end": "1237630"
  },
  {
    "text": "and as with last time,\nI'm going to call alpha the density of A now\ninside this progression,",
    "start": "1237630",
    "end": "1246549"
  },
  {
    "text": "this length N progression. And suppose N is large enough.",
    "start": "1246550",
    "end": "1254559"
  },
  {
    "text": " OK, so the conclusion now is\nthat there exists some theta",
    "start": "1254560",
    "end": "1267580"
  },
  {
    "text": "such that if you look\nat this sum over here",
    "start": "1267580",
    "end": "1279169"
  },
  {
    "text": "as a sum over both integers-- actually, let me do\nthe sum only from 1",
    "start": "1279170",
    "end": "1286680"
  },
  {
    "text": "to uppercase N. Claim that--",
    "start": "1286680",
    "end": "1295040"
  },
  {
    "text": "OK, so-- so it's saying\nwhat this title says. If you are 3AP-free\nand this N is large",
    "start": "1295040",
    "end": "1303205"
  },
  {
    "text": "enough relative to the density,\nyou think of this density alpha is a constant, then\nI can find a large Fourier",
    "start": "1303205",
    "end": "1309990"
  },
  {
    "text": "coefficient. Now, there's a small\ndifference, and this is related to what you\nwere asking earlier,",
    "start": "1309990",
    "end": "1316140"
  },
  {
    "text": "between how we set things up now\nversus what happened last time. So last time, we just looked\nfor a Fourier coefficient",
    "start": "1316140",
    "end": "1325529"
  },
  {
    "text": "corresponding to a non-zero r. Now, I'm not\nrestricting non-zero,",
    "start": "1325530",
    "end": "1333340"
  },
  {
    "text": "but I don't start with\nan indicator function. I start with the demeaned\nindicator function.",
    "start": "1333340",
    "end": "1339279"
  },
  {
    "text": "I take out the mean so that\nthe zeroth coefficient,",
    "start": "1339280",
    "end": "1344340"
  },
  {
    "text": "so to speak, which corresponds\nto the mean, is already 0. So you don't get to use\nthat for your coefficient.",
    "start": "1344340",
    "end": "1352789"
  },
  {
    "text": "So if you didn't do\nthis, if you just tried to do this\nlast time, I mean, you can also do\nexactly the same setup.",
    "start": "1352790",
    "end": "1358045"
  },
  {
    "text": "But if you don't\ndemean it, then-- if you don't have this\nterm, then this statement is trivially true, because I\ncan take theta equal to 0, OK?",
    "start": "1358045",
    "end": "1366960"
  },
  {
    "text": "But I don't want. I want an actual significant\nFourier improvement.",
    "start": "1366960",
    "end": "1372900"
  },
  {
    "text": "So I take-- I do this demean, and then\nI consider its Fourier",
    "start": "1372900",
    "end": "1378540"
  },
  {
    "text": "coefficient.  OK. Any questions about\nthe statement?",
    "start": "1378540",
    "end": "1386220"
  },
  {
    "text": "Yeah, so this demeaning is\nreally important, right? So that's something that's a\nvery common technique whenever",
    "start": "1386220",
    "end": "1392530"
  },
  {
    "text": "you do these kind of analysis. So make sure you're-- so that you're-- yeah, so you're\nlooking at functions with mean",
    "start": "1392530",
    "end": "1399940"
  },
  {
    "text": "0. Let's see the proof. ",
    "start": "1399940",
    "end": "1408190"
  },
  {
    "text": "We have the\nfollowing information",
    "start": "1408190",
    "end": "1413289"
  },
  {
    "text": "about all 3AP counts in A.\nBecause A is 3AP-free, OK,",
    "start": "1413290",
    "end": "1419670"
  },
  {
    "text": "so what is the value of lambda\nsub 3 of the indicator of A? ",
    "start": "1419670",
    "end": "1426100"
  },
  {
    "text": "Lambda of 3, if you\nlook at the expression, it basically sums over all\n3APs, but A has no 3APs,",
    "start": "1426100",
    "end": "1435769"
  },
  {
    "text": "except for the trivial ones. So we'll only consider\nthe trivial 3APs,",
    "start": "1435770",
    "end": "1441020"
  },
  {
    "text": "which has size exactly\nthe size of A, which",
    "start": "1441020",
    "end": "1446210"
  },
  {
    "text": "is alpha N from trivial 3APs. ",
    "start": "1446210",
    "end": "1454870"
  },
  {
    "text": "On the other hand, what\ndo we know about lambda 3",
    "start": "1454870",
    "end": "1460030"
  },
  {
    "text": "of this interval from 1 to N?",
    "start": "1460030",
    "end": "1465256"
  },
  {
    "text": "OK, so how many 3APs are there? OK, so roughly, it's going\nto be about N squared over 2.",
    "start": "1465256",
    "end": "1473640"
  },
  {
    "text": "And in fact, it will be\nat least N squared over 2, because to generate\na 3AP, I just",
    "start": "1473640",
    "end": "1481860"
  },
  {
    "text": "have to pick a first\nterm and a third term,",
    "start": "1481860",
    "end": "1489070"
  },
  {
    "text": "and I'm OK as long as\nthey're the same parity. ",
    "start": "1489070",
    "end": "1498195"
  },
  {
    "text": "And then you have a 3AP. So the same parity\ncuts you down by half,",
    "start": "1498195",
    "end": "1504220"
  },
  {
    "text": "so you have at least N squared\nover 2 3APs from 1 through N.",
    "start": "1504220",
    "end": "1511190"
  },
  {
    "text": "So now, let's look at\nhow to apply the counting lemma all to the setting.",
    "start": "1511190",
    "end": "1516480"
  },
  {
    "text": "So we have the counting\nlemma up there, where I now want to apply it-- ",
    "start": "1516480",
    "end": "1522600"
  },
  {
    "text": "so apply counting\nto, on one hand,",
    "start": "1522600",
    "end": "1528960"
  },
  {
    "text": "the indicator function of A\nso we get the count 3APs in A,",
    "start": "1528960",
    "end": "1534779"
  },
  {
    "text": "but also compared to\nthe normalized indicator",
    "start": "1534780",
    "end": "1543770"
  },
  {
    "text": "on the interval. OK, so maybe this is\na good point for me to pause and remind you that\nthe spirit of this whole proof",
    "start": "1543770",
    "end": "1550424"
  },
  {
    "text": "is understanding structure\nversus pseudorandomness, OK? So as was the case last time.",
    "start": "1550425",
    "end": "1557679"
  },
  {
    "text": "So we want to understand, in\nwhat ways is A pseudorandom?",
    "start": "1557680",
    "end": "1563620"
  },
  {
    "text": "And here, \"pseudorandom,\"\njust as with last time, means having small\nFourier coefficients, being Fourier uniform.",
    "start": "1563620",
    "end": "1571856"
  },
  {
    "text": "If A is pseudorandom,\nwhich here, means f and g are close to each other.",
    "start": "1571856",
    "end": "1578830"
  },
  {
    "text": "That's what being\npseudorandom means, then the counting\nlemma will tell us that f and g should\nhave similar AP counts.",
    "start": "1578830",
    "end": "1585790"
  },
  {
    "text": "But A has basically no AP\ncount, so they should not",
    "start": "1585790",
    "end": "1591190"
  },
  {
    "text": "be close to each other. So that's the strategy, to\nshow that A is not pseudorandom",
    "start": "1591190",
    "end": "1598610"
  },
  {
    "text": "in this sense, and thereby\nextracting a large Fourier coefficient. So we apply counting\nto these two functions,",
    "start": "1598610",
    "end": "1607490"
  },
  {
    "text": "and we obtain that. ",
    "start": "1607490",
    "end": "1614860"
  },
  {
    "text": "OK. So this quantity, which\ncorresponds to lambda 3 of g,",
    "start": "1614860",
    "end": "1623000"
  },
  {
    "text": "minus alpha N. So these were\nlambda 3 of g, lambda 3 of F.",
    "start": "1623000",
    "end": "1637300"
  },
  {
    "text": "So it is upper-bounded. The difference is up\nrebounded by the--",
    "start": "1637300",
    "end": "1643897"
  },
  {
    "text": " using the counting\nlemma, we find",
    "start": "1643897",
    "end": "1649760"
  },
  {
    "text": "that their difference\nis upper-bounded by the following quantity. ",
    "start": "1649760",
    "end": "1663760"
  },
  {
    "text": "Namely, you look at the\ndifference between f and g and evaluate its maximum\nFourier coefficient.",
    "start": "1663760",
    "end": "1672082"
  },
  {
    "text": "OK. So if A is pseudorandom,\nmeaning that Fourier uniform--",
    "start": "1672082",
    "end": "1678760"
  },
  {
    "text": "this l infinity\nnorm is small, then",
    "start": "1678760",
    "end": "1684840"
  },
  {
    "text": "I should expect lots\nand lots of 3APs in A,",
    "start": "1684840",
    "end": "1690010"
  },
  {
    "text": "but because that\nis not the case, we should be able to\nconclude that there is some large Fourier coefficient.",
    "start": "1690010",
    "end": "1696745"
  },
  {
    "text": " All right, so thus-- ",
    "start": "1696745",
    "end": "1713131"
  },
  {
    "text": "so rearranging the equation\nabove, we have that-- ",
    "start": "1713131",
    "end": "1724030"
  },
  {
    "text": "so this should be a square. ",
    "start": "1724030",
    "end": "1731480"
  },
  {
    "text": "OK. So we have this expression here. And now we are--",
    "start": "1731480",
    "end": "1736690"
  },
  {
    "text": "OK, so let me simplify\nthis expression slightly.",
    "start": "1736690",
    "end": "1743320"
  },
  {
    "text": "And now we're using that N\nis sufficiently large, OK? So we're using N is\nsufficiently large.",
    "start": "1743320",
    "end": "1752290"
  },
  {
    "text": "So this quantity is at least\na tenth of alpha squared N.",
    "start": "1752290",
    "end": "1763202"
  },
  {
    "text": "OK, and that's the\nconclusion, all right? So that's the conclusion\nof this step here.",
    "start": "1763202",
    "end": "1768937"
  },
  {
    "text": "What does this mean? This means there\nexists some theta so that the Fourier\ncoefficient at theta",
    "start": "1768937",
    "end": "1777049"
  },
  {
    "text": "is at least the\nclaimed quantity. ",
    "start": "1777050",
    "end": "1782530"
  },
  {
    "text": "Any questions? ",
    "start": "1782530",
    "end": "1791420"
  },
  {
    "text": "All right. So that finishes step 1. So now let me go on step 2.",
    "start": "1791420",
    "end": "1797720"
  },
  {
    "text": "In step 2, we wish to show that\nif you have a large Fourier coefficient, then one can\nobtain a density increment.",
    "start": "1797720",
    "end": "1811956"
  },
  {
    "start": "1811956",
    "end": "1821200"
  },
  {
    "text": "So last time, we were working\nin a finite field vector space.",
    "start": "1821200",
    "end": "1826720"
  },
  {
    "text": "A Fourier coefficient, OK,\nso which is a dual vector, corresponds to some hyperplane.",
    "start": "1826720",
    "end": "1834020"
  },
  {
    "text": "And having a large\nFourier coefficient then implies that\nthe density of A",
    "start": "1834020",
    "end": "1840380"
  },
  {
    "text": "on the co-sets of\nthose hyperplanes must be not all\nclose to each other.",
    "start": "1840380",
    "end": "1846720"
  },
  {
    "text": "All right, so one\nof the hyperplanes must have significantly\nhigher density than the rest.",
    "start": "1846720",
    "end": "1853380"
  },
  {
    "text": "OK, so we want to do\nsomething similar here, except we run into this\ntechnical difficulty where there are no\nsubspaces anymore.",
    "start": "1853380",
    "end": "1861250"
  },
  {
    "text": "So the Fourier character, namely\ncorresponding to this theta, is just a real number. It doesn't divide up your space.",
    "start": "1861250",
    "end": "1867510"
  },
  {
    "text": "It doesn't divide\nup your 1 through N very nicely into sub chunks. But we still want to use this\ntheta to chop up 1 through N",
    "start": "1867510",
    "end": "1875820"
  },
  {
    "text": "into smaller spaces so\nthat we can iterate and do",
    "start": "1875820",
    "end": "1880860"
  },
  {
    "text": "density increment. All right.",
    "start": "1880860",
    "end": "1885910"
  },
  {
    "text": "So let's see what we can do. So given this theta,\nwhat we would like to do",
    "start": "1885910",
    "end": "1896980"
  },
  {
    "text": "is to partition this 1 through\nN into subprogressions.",
    "start": "1896980",
    "end": "1910260"
  },
  {
    "text": " OK, so chop up 1 through\nN into sub APs such that",
    "start": "1910260",
    "end": "1927029"
  },
  {
    "text": "if you evaluate for--\nso this theta is fixed.",
    "start": "1927030",
    "end": "1932230"
  },
  {
    "text": "So on each sub AP,\nthis function here",
    "start": "1932230",
    "end": "1937990"
  },
  {
    "text": "is roughly constant\non each of your parts.",
    "start": "1937990",
    "end": "1948000"
  },
  {
    "text": " Last time, we had this\nFourier character,",
    "start": "1948000",
    "end": "1954000"
  },
  {
    "text": "and then we chopped it up\nusing these three hyperplanes. And each hyperplane,\nthe Fourier character",
    "start": "1954000",
    "end": "1960390"
  },
  {
    "text": "is literally constant, OK? So you have-- and so\nthat's what we work with.",
    "start": "1960390",
    "end": "1966670"
  },
  {
    "text": "And now, you cannot get\nthem to be exactly constant, but the next best thing we can\nhope for is to get this Fourier",
    "start": "1966670",
    "end": "1973019"
  },
  {
    "text": "character to be\nroughly constant. OK, so we're going to do some\npositioning that allows us",
    "start": "1973020",
    "end": "1978430"
  },
  {
    "text": "to achieve this characteristic. And let me give\nyou some intuition",
    "start": "1978430",
    "end": "1983740"
  },
  {
    "text": "about why this is true. And this is not exactly\na surprising fact. The intuition is\njust that if you",
    "start": "1983740",
    "end": "1990039"
  },
  {
    "text": "look at what this\nfunction behaves like-- ",
    "start": "1990040",
    "end": "1997444"
  },
  {
    "text": "all right, so what's\ngoing on here? You are on the unit circle,\nand you are jumping by theta.",
    "start": "1997444",
    "end": "2007600"
  },
  {
    "text": " OK, so you just keep\njumping by theta and so on.",
    "start": "2007600",
    "end": "2022080"
  },
  {
    "text": "And I want to show that I\ncan sharp up my progression",
    "start": "2022080",
    "end": "2029370"
  },
  {
    "text": "into a bunch of almost periodic\npieces, where in each part,",
    "start": "2029370",
    "end": "2037690"
  },
  {
    "text": "I'm staying inside a small arc. So in the extreme case of this\nwhere it is very easy to see",
    "start": "2037690",
    "end": "2046559"
  },
  {
    "text": "is if x is some rational number,\na over b, with b fairly small,",
    "start": "2046560",
    "end": "2058158"
  },
  {
    "text": "then we can-- so then, this character is\nactually constant on APs",
    "start": "2058159",
    "end": "2074190"
  },
  {
    "text": "with common difference b. ",
    "start": "2074190",
    "end": "2083063"
  },
  {
    "text": "Yep? AUDIENCE: Is theta\nsupposed to be [INAUDIBLE]?? YUFEI ZHAO: Ah, so theta,\nyes. so theta-- thank you.",
    "start": "2083063",
    "end": "2088875"
  },
  {
    "text": "So theta 2 pi. ",
    "start": "2088875",
    "end": "2094174"
  },
  {
    "text": "AUDIENCE: Like, is x\nequal to your theta? YUFEI ZHAO: Yeah. Thank you. So theta equals-- yeah.",
    "start": "2094174",
    "end": "2100520"
  },
  {
    "text": "So if theta is some rational\nwith some small denominator--",
    "start": "2100520",
    "end": "2106180"
  },
  {
    "text": "so then you are literally\njumping in periodic steps",
    "start": "2106180",
    "end": "2113420"
  },
  {
    "text": "on the unit circle. So if you partition N according\nto the exact same periods,",
    "start": "2113420",
    "end": "2121230"
  },
  {
    "text": "you have that this character\nis exactly constant in each",
    "start": "2121230",
    "end": "2126300"
  },
  {
    "text": "of your progressions. Now, in general, the theta\nyou get out of that proof",
    "start": "2126300",
    "end": "2132210"
  },
  {
    "text": "might not have this\nvery nice form, but we can at\nleast approximately",
    "start": "2132210",
    "end": "2138339"
  },
  {
    "text": "achieve the desired effect.  OK. ",
    "start": "2138340",
    "end": "2146890"
  },
  {
    "text": "Any questions? ",
    "start": "2146890",
    "end": "2175560"
  },
  {
    "text": "OK. So to achieve approximately the\ndesired effect, what we'll do is to find something\nso that b times theta",
    "start": "2175560",
    "end": "2185370"
  },
  {
    "text": "is not quite an integer, but\nvery close to an integer. OK, so this, probably many\nof you have seen before.",
    "start": "2185370",
    "end": "2191610"
  },
  {
    "text": "It's a classic\npigeonhole-type result.",
    "start": "2191610",
    "end": "2197470"
  },
  {
    "text": "It's usually attributed\nto Dirichlet. ",
    "start": "2197470",
    "end": "2205020"
  },
  {
    "text": "So if you have theta, a\nreal number, and a delta,",
    "start": "2205020",
    "end": "2214990"
  },
  {
    "text": "kind of a tolerance,\nthen there exists",
    "start": "2214990",
    "end": "2220300"
  },
  {
    "text": "a positive integer d at\nmost 1 over delta such",
    "start": "2220300",
    "end": "2229350"
  },
  {
    "text": "that d times theta is\nvery close to an integer.",
    "start": "2229350",
    "end": "2239030"
  },
  {
    "text": "OK, so this norm\nhere is distance to the closest integer.",
    "start": "2239030",
    "end": "2245849"
  },
  {
    "start": "2245850",
    "end": "2253215"
  },
  {
    "text": "All right, so the proof is\nby pigeonhole principle.",
    "start": "2253215",
    "end": "2258390"
  },
  {
    "text": "So if we let N be 1\nover delta rounded down",
    "start": "2258390",
    "end": "2264559"
  },
  {
    "text": "and consider the numbers 0,\ntheta, 2 theta, 3 theta, and so",
    "start": "2264560",
    "end": "2271970"
  },
  {
    "text": "on, to N theta-- so by pigeonhole, there\nexists i theta and j theta, so",
    "start": "2271970",
    "end": "2288039"
  },
  {
    "text": "two different terms\nof the sequence such that they differ by\nless than-- at most",
    "start": "2288040",
    "end": "2300700"
  },
  {
    "text": "delta in their fractional parts. ",
    "start": "2300700",
    "end": "2310260"
  },
  {
    "text": "OK, so now take d to be\ndifference between i and j.",
    "start": "2310260",
    "end": "2316920"
  },
  {
    "text": "OK, and that works. ",
    "start": "2316920",
    "end": "2328060"
  },
  {
    "text": "OK. So even though you don't\nhave exactly rational, you have approximately rational.",
    "start": "2328060",
    "end": "2335210"
  },
  {
    "text": "So this is a-- it's a simple rational\napproximation statement. And using this\nrational approximation,",
    "start": "2335210",
    "end": "2340890"
  },
  {
    "text": "we can now try to do\nthe intuition here, pretending that we're working\nwith rational numbers, indeed.",
    "start": "2340890",
    "end": "2350490"
  },
  {
    "start": "2350490",
    "end": "2356442"
  },
  {
    "text": "OK, so if we take\neta between 0 and 1 and theta irrational and\nsuppose N is large enough--",
    "start": "2356442",
    "end": "2374849"
  },
  {
    "text": "OK, so here, C\nmeans there exists some sufficiently large--",
    "start": "2374850",
    "end": "2380490"
  },
  {
    "text": "some constant C such that\nthe statement is true, OK? So suppose you think\na million here.",
    "start": "2380490",
    "end": "2389420"
  },
  {
    "text": "That should be fine. So then there exists--",
    "start": "2389420",
    "end": "2395740"
  },
  {
    "text": "so then one can partition\n1 through N into sub-APs,",
    "start": "2395740",
    "end": "2412330"
  },
  {
    "text": "which we'll call P i. And each having length\nbetween cube root of N",
    "start": "2412330",
    "end": "2424250"
  },
  {
    "text": "and twice the cube root of\nN such that this character",
    "start": "2424250",
    "end": "2433110"
  },
  {
    "text": "that we want to stay\nroughly constant indeed does not change very much.",
    "start": "2433110",
    "end": "2439550"
  },
  {
    "text": "If you look at two terms in\nthe same AP, in the sub-AP,",
    "start": "2439550",
    "end": "2447610"
  },
  {
    "text": "then the value of this\ncharacter on each P sub i",
    "start": "2447610",
    "end": "2460670"
  },
  {
    "text": "is roughly the same. So they don't vary by\nmore than eta on each P i.",
    "start": "2460670",
    "end": "2468920"
  },
  {
    "text": "So here, we're partitioning this\n1 through N into a sub-A piece",
    "start": "2468920",
    "end": "2476349"
  },
  {
    "text": "so that this guy here\nstays roughly constant. ",
    "start": "2476350",
    "end": "2485940"
  },
  {
    "text": "OK. Any questions? All right. So think about how\nyou might prove this.",
    "start": "2485940",
    "end": "2493728"
  },
  {
    "text": "Let's take a quick break.  So you see, we are basically\nfollowing the same strategy",
    "start": "2493728",
    "end": "2501160"
  },
  {
    "text": "as the proof from last\ntime, but this second step, which we're on right now,\nneeds to be somewhat modified",
    "start": "2501160",
    "end": "2507370"
  },
  {
    "text": "because you cannot cut this\nspace up into pieces where your character is constant.",
    "start": "2507370",
    "end": "2514330"
  },
  {
    "text": "Well, if they're roughly\nconstant then we're go to go, so that's what we're doing now.",
    "start": "2514330",
    "end": "2521299"
  },
  {
    "text": "So let's prove the\nstatement up there. ",
    "start": "2521300",
    "end": "2535350"
  },
  {
    "text": "All right. So let's prove this\nstatement over here. So using Dirichlet's lemma, we\nfind that there exists some d.",
    "start": "2535350",
    "end": "2557599"
  },
  {
    "text": "OK, so I'll write down\nsome number for now. Don't worry about it. It will come up shortly why I\nwrite this specific quantity.",
    "start": "2557600",
    "end": "2565090"
  },
  {
    "text": " So there exists some d which is\nnot too big, such that d theta",
    "start": "2565090",
    "end": "2586329"
  },
  {
    "text": "is very close to an integer. So now, I'm literally\napplying Dirichlet's lemma.",
    "start": "2586330",
    "end": "2592540"
  },
  {
    "text": " OK.",
    "start": "2592540",
    "end": "2597680"
  },
  {
    "text": "So given such d--",
    "start": "2597680",
    "end": "2604826"
  },
  {
    "text": "so how big is this d? You see that because I assumed\nthat N is sufficiently large,",
    "start": "2604826",
    "end": "2612740"
  },
  {
    "text": "if we choose that C large\nenough, d is at most root N. So",
    "start": "2612740",
    "end": "2628800"
  },
  {
    "text": "given such d, which\nis at most root N, you can partition 1 through\nN into subprogressions",
    "start": "2628800",
    "end": "2644180"
  },
  {
    "text": "with common difference d.",
    "start": "2644180",
    "end": "2649579"
  },
  {
    "text": "Essentially, look at--\nlet's do classes mod d. So they're all going to have\nlength by basically N over d.",
    "start": "2649580",
    "end": "2659130"
  },
  {
    "text": "And I chop them up a\nlittle bit further to get--",
    "start": "2659130",
    "end": "2665140"
  },
  {
    "text": "so a piece of length\nbetween cube root of N",
    "start": "2665140",
    "end": "2673390"
  },
  {
    "text": "and twice cube root of N.",
    "start": "2673390",
    "end": "2680990"
  },
  {
    "text": "OK. So I'm going to make\nsure that all of my APs are roughly the same length.",
    "start": "2680990",
    "end": "2688000"
  },
  {
    "text": "And now, inside each\nsubprogression--",
    "start": "2688000",
    "end": "2696090"
  },
  {
    "text": " let me call this subprogression\nP prime, subprogression P,",
    "start": "2696090",
    "end": "2706610"
  },
  {
    "text": "let's look at how much\nthis character value can vary inside this progression.",
    "start": "2706610",
    "end": "2713119"
  },
  {
    "start": "2713119",
    "end": "2719346"
  },
  {
    "text": "All right. ",
    "start": "2719346",
    "end": "2726010"
  },
  {
    "text": "OK, so how much can this vary? Well, because theta is such\nthat d times theta is very close",
    "start": "2726010",
    "end": "2736329"
  },
  {
    "text": "to an integer and the length\nof each progression is not too",
    "start": "2736330",
    "end": "2741778"
  },
  {
    "text": "large-- so here's-- I want some control\non the length. So we find that the\nmaximum variation",
    "start": "2741778",
    "end": "2749020"
  },
  {
    "text": "is, at most, the size of\nP, the length of P, times--",
    "start": "2749020",
    "end": "2756695"
  },
  {
    "text": " so this-- that\ndifference over there.",
    "start": "2756695",
    "end": "2764530"
  },
  {
    "text": "So all of these are exponential,\nso I can shift them. Well, the length of P is at\nmost twice cube root of N. And--",
    "start": "2764530",
    "end": "2779994"
  },
  {
    "text": "OK, so what is this quantity? So the point is that if\nthis fractional part here",
    "start": "2779995",
    "end": "2785470"
  },
  {
    "text": "is very close to an\ninteger, then e to that, e to the 2 pi times that\ni times some number should",
    "start": "2785470",
    "end": "2791560"
  },
  {
    "text": "be very close to 1, because\nwhat is happening here?",
    "start": "2791560",
    "end": "2796630"
  },
  {
    "text": "This is the distance\nbetween those two points",
    "start": "2796630",
    "end": "2802049"
  },
  {
    "text": "on the circle, which\nis at most bounded by the length of the arc. ",
    "start": "2802050",
    "end": "2817460"
  },
  {
    "text": "OK, so cord length,\nat most of the arc.",
    "start": "2817460",
    "end": "2822530"
  },
  {
    "text": "So now, you put\neverything here together, and apply the bound\nthat we got on d theta.",
    "start": "2822530",
    "end": "2829230"
  },
  {
    "text": "So this is the reason for\nchoosing that weird number up there. We find that the variation\nwithin each progression",
    "start": "2829230",
    "end": "2850050"
  },
  {
    "text": "is at most eta, right? So the variation\nof this character within each progression\nis not very large, OK?",
    "start": "2850050",
    "end": "2856175"
  },
  {
    "text": "And that's the claim.  Any questions?",
    "start": "2856175",
    "end": "2861780"
  },
  {
    "text": "All right, so this is the\nanalogous claim to the one that we had-- the one that we used\nlast time, where",
    "start": "2861780",
    "end": "2868500"
  },
  {
    "text": "we said that the character\nis constant on each coset of the hyperplane. They're not exactly constant,\nbut almost good enough.",
    "start": "2868500",
    "end": "2875430"
  },
  {
    "start": "2875430",
    "end": "2885609"
  },
  {
    "text": "All right. So the goal of step 2\nis to show an energy-- show a density increment, that\nif you have a large Fourier",
    "start": "2885610",
    "end": "2893020"
  },
  {
    "text": "coefficient, then\nwe want to claim that the density\ngoes up significantly",
    "start": "2893020",
    "end": "2898720"
  },
  {
    "text": "on some subprogression. And the next part,\nthe next lemma,",
    "start": "2898720",
    "end": "2904910"
  },
  {
    "text": "will get us to that goal. And this part is very\nsimilar to the one",
    "start": "2904910",
    "end": "2909920"
  },
  {
    "text": "that we saw from last time,\nbut with this new partition in mind, like I said.",
    "start": "2909920",
    "end": "2915980"
  },
  {
    "text": "If you have A that is\n3AP-free with density alpha,",
    "start": "2915980",
    "end": "2927859"
  },
  {
    "text": "and N is large\nenough, then there",
    "start": "2927860",
    "end": "2937990"
  },
  {
    "text": "exists some subprogression\nP. So by subprogression,",
    "start": "2937990",
    "end": "2948980"
  },
  {
    "text": "I just mean that I'm starting\nwith original progression 1 through N, and I'm zooming\ninto some subprogression,",
    "start": "2948980",
    "end": "2955340"
  },
  {
    "text": "with the length of P fairly\nlong, so the length of P",
    "start": "2955340",
    "end": "2962160"
  },
  {
    "text": "is at least cube root\nof N, and such that A,",
    "start": "2962160",
    "end": "2969430"
  },
  {
    "text": "when restricted to\nthis subprogression, has a density increment.",
    "start": "2969430",
    "end": "2976295"
  },
  {
    "start": "2976295",
    "end": "2981994"
  },
  {
    "text": "OK, so originally, the\ndensity of A is alpha, so we're zooming into\nsome subprogression P,",
    "start": "2981995",
    "end": "2987300"
  },
  {
    "text": "which is a pretty\nlong subprogression, where the density\ngoes up significantly from A to essentially A--",
    "start": "2987300",
    "end": "2993360"
  },
  {
    "text": "from alpha to roughly\nalpha plus alpha squared. ",
    "start": "2993360",
    "end": "3000240"
  },
  {
    "text": "OK. ",
    "start": "3000240",
    "end": "3007119"
  },
  {
    "text": "So we start with\nA, a 3AP-free set. So from step 1, there exists\nsome theta with large--",
    "start": "3007120",
    "end": "3025109"
  },
  {
    "text": "so that corresponds to a\nlarge Fourier coefficient. ",
    "start": "3025110",
    "end": "3031789"
  },
  {
    "text": "So this sum here is large.",
    "start": "3031790",
    "end": "3046070"
  },
  {
    "text": " OK, and now we use--",
    "start": "3046070",
    "end": "3054710"
  },
  {
    "text": "OK, so-- so step 1 obtains us,\nyou know, this consequence.",
    "start": "3054710",
    "end": "3060510"
  },
  {
    "text": "And from this theta, now we\napply the lemma up there to--",
    "start": "3060510",
    "end": "3074780"
  },
  {
    "text": "so we apply lemma\nwith, let's say, eta being alpha squared over 30.",
    "start": "3074780",
    "end": "3081350"
  },
  {
    "text": "OK, so the exact constants\nare not so important. But when we apply the\nlemma to partition,",
    "start": "3081350",
    "end": "3091010"
  },
  {
    "text": "and into a bunch\nof subprogressions,",
    "start": "3091010",
    "end": "3097720"
  },
  {
    "text": "which we'll call P1 through Pk. ",
    "start": "3097720",
    "end": "3103462"
  },
  {
    "text": "And each of these\nprogressions have length between cube root of\nN and twice cube root of N.",
    "start": "3103462",
    "end": "3119750"
  },
  {
    "text": "And I want to understand what\nhappens to the density of A when restricted to\nthese progressions.",
    "start": "3119750",
    "end": "3127680"
  },
  {
    "text": "So starting with this\ninequality over here,",
    "start": "3127680",
    "end": "3134030"
  },
  {
    "text": "which suggests to us that\nthere must be some deviation. ",
    "start": "3134030",
    "end": "3150191"
  },
  {
    "text": "OK, so starting\nwith what we saw. And now, inside each\nprogression this e x theta",
    "start": "3150191",
    "end": "3160950"
  },
  {
    "text": "is roughly constant. So if you pretend them\nas actually constant,",
    "start": "3160950",
    "end": "3166760"
  },
  {
    "text": "I can break up the sum,\ndepending on where the x's lie.",
    "start": "3166760",
    "end": "3174230"
  },
  {
    "text": "So i from 1 to k. And let me sum inside\neach progression.",
    "start": "3174230",
    "end": "3181492"
  },
  {
    "start": "3181492",
    "end": "3193560"
  },
  {
    "text": "So by triangle inequality, I\ncan upper bound the first sum by where I now cut the sum into\nprogression by progression.",
    "start": "3193560",
    "end": "3203540"
  },
  {
    "text": "And on each progression, this\ncharacter is roughly constant.",
    "start": "3203540",
    "end": "3209520"
  },
  {
    "text": "So let me take out the\nmaximum possible deviations",
    "start": "3209520",
    "end": "3214760"
  },
  {
    "text": "from them being constant. So upper bound-- again, you'll\nfind that we can essentially",
    "start": "3214760",
    "end": "3228525"
  },
  {
    "text": "pretend--  all right, so if\neach exponential",
    "start": "3228525",
    "end": "3235410"
  },
  {
    "text": "is constant on each\nsubprogression, then I might as well\njust have this sum here.",
    "start": "3235410",
    "end": "3240750"
  },
  {
    "text": "But I lose a little bit, because\nit's not exactly constant. It's almost constant. So I loose a little bit.",
    "start": "3240750",
    "end": "3246140"
  },
  {
    "text": "And that little bit is this eta.",
    "start": "3246140",
    "end": "3251349"
  },
  {
    "text": "So you lose that\nlittle bit of eta. And so on each\nprogression, P i, you",
    "start": "3251350",
    "end": "3258960"
  },
  {
    "text": "lose at most something that's\nessentially of alpha squared times the length of P i.",
    "start": "3258960",
    "end": "3264265"
  },
  {
    "text": " OK. Now, you see, I've chosen\nthe error parameter",
    "start": "3264265",
    "end": "3272880"
  },
  {
    "text": "so that everything\nI've lost is not so much more than the\ninitial bound I began with.",
    "start": "3272880",
    "end": "3281250"
  },
  {
    "text": "So in particular,\nwe see that even",
    "start": "3281250",
    "end": "3287100"
  },
  {
    "text": "if we had pretended that the\ncharacters were constant, on each progression we would\nhave still obtained some lower",
    "start": "3287100",
    "end": "3294090"
  },
  {
    "text": "bound of the total deviation. ",
    "start": "3294090",
    "end": "3308680"
  },
  {
    "text": "OK. And what is this\nquantity over here?",
    "start": "3308680",
    "end": "3315130"
  },
  {
    "text": "Oh, you see, I'm\nrestricting each sum to each subprogression,\nbut the sum",
    "start": "3315130",
    "end": "3323589"
  },
  {
    "text": "here, even though it's\nthe sum, but it's really counting how many elements\nof A are in that progression.",
    "start": "3323590",
    "end": "3331990"
  },
  {
    "text": "So this sum over here\nis the same thing. OK, so let me write\nit in a new board.",
    "start": "3331990",
    "end": "3338543"
  },
  {
    "text": " Oh, we don't need\nstep 1 anymore.",
    "start": "3338543",
    "end": "3345213"
  },
  {
    "text": " All right.",
    "start": "3345213",
    "end": "3351270"
  },
  {
    "text": "So what we have-- ",
    "start": "3351270",
    "end": "3361386"
  },
  {
    "text": "OK, so left-hand side over\nthere is this quantity here, all right?",
    "start": "3361386",
    "end": "3367690"
  },
  {
    "text": "We see that the right-hand side,\neven though you have that sum,",
    "start": "3367690",
    "end": "3375890"
  },
  {
    "text": "it is really just counting\nhow many elements of A are in each progression versus\nhow many you should expect",
    "start": "3375890",
    "end": "3383360"
  },
  {
    "text": "based on the overall\ndensity of A. OK,",
    "start": "3383360",
    "end": "3388750"
  },
  {
    "text": "so that should look similar\nto what we got last time. I know the intuition\nshould be that, well,",
    "start": "3388750",
    "end": "3395280"
  },
  {
    "text": "if the average deviation\nis large, then one of them,",
    "start": "3395280",
    "end": "3402210"
  },
  {
    "text": "one of these terms, should\nhave the density increment.",
    "start": "3402210",
    "end": "3407447"
  },
  {
    "text": " If you try to do the next\nstep somewhat naively,",
    "start": "3407447",
    "end": "3413950"
  },
  {
    "text": "you run into an issue,\nbecause it could be-- now, here you have k terms.",
    "start": "3413950",
    "end": "3419290"
  },
  {
    "text": "It could be that you have all\nthe densities except for one",
    "start": "3419290",
    "end": "3427270"
  },
  {
    "text": "going up only slightly, and one\ndensity dropping dramatically,",
    "start": "3427270",
    "end": "3432640"
  },
  {
    "text": "in which case you may not\nhave a significant density increment, all right?",
    "start": "3432640",
    "end": "3438210"
  },
  {
    "text": "So we want to show that\non some progression the density increases\nsignificantly.",
    "start": "3438210",
    "end": "3444350"
  },
  {
    "text": "So far, from this\ninequality, we just know that there is some\nsubprogression where",
    "start": "3444350",
    "end": "3449720"
  },
  {
    "text": "the density changes\nsignificantly. But of course, the overall\ndensity, the average density,",
    "start": "3449720",
    "end": "3454849"
  },
  {
    "text": "should remain constant. So if some goes up,\nothers must go down. But if you just try to\ndo an averaging argument,",
    "start": "3454850",
    "end": "3461180"
  },
  {
    "text": "you have to be careful, OK? So there was a trick last\ntime, which we didn't really need last time, but now,\nit's much more useful, where",
    "start": "3461180",
    "end": "3469910"
  },
  {
    "text": "I want to show\nthat if this holds, then some P i sees\na large energy--",
    "start": "3469910",
    "end": "3475849"
  },
  {
    "text": "sees a large density increment. And to do that, let me rewrite\nthe sum as the following,",
    "start": "3475850",
    "end": "3488990"
  },
  {
    "text": "so I keep the same expression. ",
    "start": "3488990",
    "end": "3494880"
  },
  {
    "text": "And I add a term, which\nis the same thing, but without the absolute value.",
    "start": "3494880",
    "end": "3500560"
  },
  {
    "start": "3500560",
    "end": "3509434"
  },
  {
    "text": "OK, so you see these\nguys, they total to 0,",
    "start": "3509434",
    "end": "3515000"
  },
  {
    "text": "so adding that term doesn't\nchange my expression.",
    "start": "3515000",
    "end": "3520350"
  },
  {
    "text": "But now, the summand\nis always non-negative.",
    "start": "3520350",
    "end": "3525460"
  },
  {
    "text": "So it's either 0 or\ntwice this number, depending on the\nsign of that number.",
    "start": "3525460",
    "end": "3531500"
  },
  {
    "text": " OK. So comparing left-hand\nside and right-hand side,",
    "start": "3531500",
    "end": "3537600"
  },
  {
    "text": "we see that there\nmust be some i. So hence, there exists some eye\nsuch that the left-hand side--",
    "start": "3537600",
    "end": "3548730"
  },
  {
    "text": " the i-th term on\nthe left hand side",
    "start": "3548730",
    "end": "3555270"
  },
  {
    "text": "is less than or equal\nto the i-th term on the right-hand side. ",
    "start": "3555270",
    "end": "3564940"
  },
  {
    "text": "And in particular, that\nterm should be positive, so it implies--",
    "start": "3564940",
    "end": "3571460"
  },
  {
    "text": "OK, so how can you\nget this inequality? It implies simply that the\nrestriction of a to this P i",
    "start": "3571460",
    "end": "3580540"
  },
  {
    "text": "is at least alpha plus alpha\nsquared over 40 times P i.",
    "start": "3580540",
    "end": "3590810"
  },
  {
    "text": "So this claim here just says\nthat on the i-th progression, there's a significant\nenergy increment.",
    "start": "3590810",
    "end": "3598570"
  },
  {
    "text": "If it's more decrement,\nthat term would have been 0. So remember that.",
    "start": "3598570",
    "end": "3604610"
  },
  {
    "start": "3604610",
    "end": "3616040"
  },
  {
    "text": "OK. So this achieves what we\nwere looking for in step 2, namely to find that there\nis a density increment",
    "start": "3616040",
    "end": "3624720"
  },
  {
    "text": "on some long subprogression. OK, so now we can go to\nstep 3, which is basically",
    "start": "3624720",
    "end": "3630630"
  },
  {
    "text": "the same as what we saw\nlast time, where now we want to iterate this\ndensity increment.",
    "start": "3630630",
    "end": "3638929"
  },
  {
    "start": "3638929",
    "end": "3647911"
  },
  {
    "text": "OK, so it's basically the\nsame argument as last time,",
    "start": "3647911",
    "end": "3655900"
  },
  {
    "text": "but you start with\ndensity alpha, and each step in the\niteration, the density",
    "start": "3655900",
    "end": "3664140"
  },
  {
    "text": "goes up quite a bit. ",
    "start": "3664140",
    "end": "3669740"
  },
  {
    "text": "And we want to control\nthe total number of steps, knowing that the final\ndensity is at most 1, always.",
    "start": "3669740",
    "end": "3680704"
  },
  {
    "text": "OK. So how many steps can you take? Right, so this was the same\nargument that we saw last time.",
    "start": "3680704",
    "end": "3688080"
  },
  {
    "text": "We see that starting with\nalpha, alpha 0 being alpha,",
    "start": "3688080",
    "end": "3698450"
  },
  {
    "text": "it doubles after a certain\nnumber of steps, right? So we double after--",
    "start": "3698450",
    "end": "3705590"
  },
  {
    "text": "OK, so how many\nsteps do you need? Well, I want to get\nfrom alpha to 2 alpha.",
    "start": "3705590",
    "end": "3713430"
  },
  {
    "text": "So I need at most\nalpha over 40 steps.",
    "start": "3713430",
    "end": "3720960"
  },
  {
    "text": "OK, so last time I\nwas slightly sloppy. And so there's basically a\nfloor, upper floor down--",
    "start": "3720960",
    "end": "3729630"
  },
  {
    "text": "rounding up or down situation. But I should add a plus 1. Yeah. AUDIENCE: Shouldn't\nit be 40 over alpha?",
    "start": "3729630",
    "end": "3736120"
  },
  {
    "text": "YUFEI ZHAO: 40-- thank you. 40 over alpha, yeah. So you double after at\nmost that many steps.",
    "start": "3736120",
    "end": "3745079"
  },
  {
    "text": "And then now, you add\ndensity at least 2 alpha.",
    "start": "3745080",
    "end": "3751560"
  },
  {
    "text": "So we double after at most 20\nover alpha steps, and so on.",
    "start": "3751560",
    "end": "3759880"
  },
  {
    "text": "And we double at most-- well, basically, log sub\n2 of 1 over alpha times.",
    "start": "3759880",
    "end": "3771690"
  },
  {
    "text": " OK, so anyway, putting\neverything together,",
    "start": "3771690",
    "end": "3778599"
  },
  {
    "text": "we see that the\ntotal number of steps",
    "start": "3778600",
    "end": "3784350"
  },
  {
    "text": "is at most on the\norder of 1 over alpha. ",
    "start": "3784350",
    "end": "3792340"
  },
  {
    "text": "When you stop, you can\nonly stop for one reason, because in the--",
    "start": "3792340",
    "end": "3798210"
  },
  {
    "text": "yeah. So, yeah. So in step 1,\nremember, the iteration",
    "start": "3798210",
    "end": "3804789"
  },
  {
    "text": "said that the\nprocess terminates. The process can always go\non, and then terminates",
    "start": "3804790",
    "end": "3817588"
  },
  {
    "text": "if the length--",
    "start": "3817589",
    "end": "3823170"
  },
  {
    "text": "so you're now at\nstep i, so let N i be the length of the progression,\nthat step i is at most C times",
    "start": "3823170",
    "end": "3834580"
  },
  {
    "text": "alpha i to the minus 12th. So we have a--",
    "start": "3834580",
    "end": "3841180"
  },
  {
    "text": "right, so provided\nthat N is large enough, you can always pass\nto a subprogression.",
    "start": "3841180",
    "end": "3847020"
  },
  {
    "text": "And here, when you pass to\nsubprogression, of course, you can re-label\nthat subprogression.",
    "start": "3847020",
    "end": "3852030"
  },
  {
    "text": "And it's now, you\nknow, 1 through N i. Right, so I can-- it's-- all the progressions\nare basically",
    "start": "3852030",
    "end": "3857970"
  },
  {
    "text": "the same as the first\nset of positive integers. I'm sorry, prefix of\nthe positive integers.",
    "start": "3857970",
    "end": "3863850"
  },
  {
    "text": "So when we stop a\nstep i, you must have N sub i being at most\nthis quantity over here, which",
    "start": "3863850",
    "end": "3871290"
  },
  {
    "text": "is at most C times the initial\ndensity raised to this minus",
    "start": "3871290",
    "end": "3876510"
  },
  {
    "text": "12th. So therefore, the initial length\nN of the space is bounded by--",
    "start": "3876510",
    "end": "3889050"
  },
  {
    "text": "well, each time we went\ndown by a cube root at most.",
    "start": "3889050",
    "end": "3895595"
  },
  {
    "text": "Right, so the fine-- if you stop a step i,\nthen the initial length",
    "start": "3895595",
    "end": "3900980"
  },
  {
    "text": "is at most N sub i to the\n3 times 3 to the power of i",
    "start": "3900980",
    "end": "3907670"
  },
  {
    "text": "each time you're\ndoing a cube root. OK, so you put\neverything together.",
    "start": "3907670",
    "end": "3913135"
  },
  {
    "start": "3913135",
    "end": "3920280"
  },
  {
    "text": "At most that many\niterations when you stop the length is at most this. So you put them\ntogether, and then you",
    "start": "3920280",
    "end": "3926680"
  },
  {
    "text": "find that the N must be at\nmost double exponential in 1",
    "start": "3926680",
    "end": "3937319"
  },
  {
    "text": "over the density. In other words, the\ndensity is at most 1",
    "start": "3937320",
    "end": "3947670"
  },
  {
    "text": "over log log N, which is what\nwe claimed in Roth's theorem,",
    "start": "3947670",
    "end": "3955665"
  },
  {
    "text": "so what we claimed up there. ",
    "start": "3955665",
    "end": "3961460"
  },
  {
    "text": "OK. So that finishes the proof. ",
    "start": "3961460",
    "end": "3972210"
  },
  {
    "text": "Any questions? ",
    "start": "3972210",
    "end": "3978779"
  },
  {
    "text": "So the message here is that it's\nthe same proof as last time, but we need to do\na bit more work.",
    "start": "3978780",
    "end": "3984660"
  },
  {
    "text": "And none of this\nwork is difficult, but there are more technical. And that's often\nthe theme that you see in additive combinatorics.",
    "start": "3984660",
    "end": "3991500"
  },
  {
    "text": "This is part of the reason\nwhy the finite field model is a really nice playground,\nbecause there, things",
    "start": "3991500",
    "end": "3998130"
  },
  {
    "text": "tend to be often cleaner,\nbut the idea's often similar, or the same ideas.",
    "start": "3998130",
    "end": "4003140"
  },
  {
    "text": "Not always. Next lecture, we'll\nsee one technique where there's a\ndramatic difference between the finite field vector\nspace and over the integers.",
    "start": "4003140",
    "end": "4010940"
  },
  {
    "text": "But for many things in\nadditive combinatorics, the finite field\nvector space is just a nicer place to be in to try\nall your ideas and techniques.",
    "start": "4010940",
    "end": "4018172"
  },
  {
    "start": "4018172",
    "end": "4024440"
  },
  {
    "text": "Let me comment on some analogies\nbetween these two approaches and compare the bounds.",
    "start": "4024440",
    "end": "4030200"
  },
  {
    "text": " So on one hand--",
    "start": "4030200",
    "end": "4035280"
  },
  {
    "text": "OK, so we saw last time\nthis proof in F3 to the N, and now in the integers\ninside this interval of length",
    "start": "4035280",
    "end": "4046769"
  },
  {
    "text": "N. So let me write\nuppercase N in both cases",
    "start": "4046770",
    "end": "4053280"
  },
  {
    "text": "to be the size of the\noverall ambient space. OK, so what kind of bounds\ndo we get in both situations?",
    "start": "4053280",
    "end": "4063310"
  },
  {
    "text": "So last time, for-- in F3 to the N, we\ngot a bound which",
    "start": "4063310",
    "end": "4071720"
  },
  {
    "text": "is of the order N over log N,\nwhereas today, the bound is",
    "start": "4071720",
    "end": "4086220"
  },
  {
    "text": "somewhat worse. It's a little bit worse. Now we lose an extra log.",
    "start": "4086220",
    "end": "4093690"
  },
  {
    "text": "So where do we lose an\nextra log in this argument? So where does these\ntwo argument--",
    "start": "4093690",
    "end": "4099060"
  },
  {
    "text": "where do these two arguments\ndiffer, quantitatively? ",
    "start": "4099060",
    "end": "4106239"
  },
  {
    "text": "Yep? AUDIENCE: When you're dividing\nby 3 versus [INAUDIBLE]?? YUFEI ZHAO: OK, so\nyou're dividing by--",
    "start": "4106240",
    "end": "4111560"
  },
  {
    "text": "so here, in each\niteration, over here,",
    "start": "4111560",
    "end": "4121960"
  },
  {
    "text": "your size of the iteration-- I mean, each iteration\nthe size of the space",
    "start": "4121960",
    "end": "4128299"
  },
  {
    "text": "goes down by a factor of\n3, whereas over here, it could go down by a cube root.",
    "start": "4128300",
    "end": "4136979"
  },
  {
    "text": "And that's precisely right. So that explains for this\nextra log in the balance.",
    "start": "4136979",
    "end": "4142420"
  },
  {
    "text": " So while this is\na great analogy,",
    "start": "4142420",
    "end": "4148489"
  },
  {
    "text": "it's not a perfect analogy. You see there is this\ndivergence here between the two situations.",
    "start": "4148490",
    "end": "4154790"
  },
  {
    "text": "And so then you\nmight ask, is there some way to avoid the\nloss, this extra log factor",
    "start": "4154790",
    "end": "4161240"
  },
  {
    "text": "loss over here? Is there some way to\ncarry out the strategy that we did last\ntime in a way that",
    "start": "4161240",
    "end": "4168689"
  },
  {
    "text": "is much more faithful to\nthat strategy of passing down to subspaces. So here, we pass\nto progressions.",
    "start": "4168689",
    "end": "4176089"
  },
  {
    "text": "And because we have to do this\nextra pigeonhole-type argument, it was somewhat lost--",
    "start": "4176090",
    "end": "4181969"
  },
  {
    "text": "we lost a power, which\ntranslated into this extra log.",
    "start": "4181970",
    "end": "4188770"
  },
  {
    "text": "So it turns out there\nis some way to do this. So let me just\nbriefly mention what's the idea that is\ninvolved, all right?",
    "start": "4188770",
    "end": "4195640"
  },
  {
    "text": "So last time, we\nwent down from-- so the main objects\nthat we were passing",
    "start": "4195640",
    "end": "4202660"
  },
  {
    "text": "would start with a vector\nspace and pass down to a subspace, which is\nalso a vector space, right?",
    "start": "4202660",
    "end": "4208310"
  },
  {
    "text": "So you can define subspaces in\nF3 to the N by the following.",
    "start": "4208310",
    "end": "4217490"
  },
  {
    "text": "So I can start with some set\nof characters U, and I define--",
    "start": "4217490",
    "end": "4224310"
  },
  {
    "text": "some set of characters\nS, and I define U sub S to be basically the\northogonal complement of S.",
    "start": "4224310",
    "end": "4240822"
  },
  {
    "text": "OK, so this is a subspace. And these were the\nkind of subspace that we saw last time, because\nthe S's or the R's that",
    "start": "4240822",
    "end": "4248168"
  },
  {
    "text": "came out of the proof last\ntime, every time we saw one, we threw it in. We cut down to a smaller\nsubspace, and we repeat.",
    "start": "4248168",
    "end": "4256330"
  },
  {
    "text": "But the progressions, they\ndon't really look like this. So the question is,\nis there some way to do this argument so that\nyou end up with progressions,",
    "start": "4256330",
    "end": "4262935"
  },
  {
    "text": "and looked like that? And it turns out there is a way. And there are these\nobjects, which",
    "start": "4262935",
    "end": "4268150"
  },
  {
    "text": "we'll see more later in this\ncourse, called Bohr sets.",
    "start": "4268150",
    "end": "4273215"
  },
  {
    "text": "OK, so they were\nused by Bourgain to mimic this Machoulin argument\nthat we saw last time more",
    "start": "4273215",
    "end": "4283219"
  },
  {
    "text": "faithfully into\nthe integers, where we're going to come up with some\nset of integers that resemble--",
    "start": "4283220",
    "end": "4290840"
  },
  {
    "text": "much more closely resemble\nthis notion of subspaces in the finite field setting.",
    "start": "4290840",
    "end": "4297290"
  },
  {
    "text": "And for this, it's much\neasier to work inside a group. So instead of working\nin the integers,",
    "start": "4297290",
    "end": "4302900"
  },
  {
    "text": "let's work inside and Z mod nZ. So we can do Fourier\ntransform in Z mod nZ, so the discrete Fourier\nanalysis here.",
    "start": "4302900",
    "end": "4310040"
  },
  {
    "text": "So in Z mod nZ, we define-- ",
    "start": "4310040",
    "end": "4315510"
  },
  {
    "text": "so given a S, let's\ndefine this Bohr set to be the set of\nelements of Z mod nZ such",
    "start": "4315510",
    "end": "4334079"
  },
  {
    "text": "that if you look at what\nreally is supposed to resemble",
    "start": "4334080",
    "end": "4340470"
  },
  {
    "text": "this thing over here, OK?",
    "start": "4340470",
    "end": "4346280"
  },
  {
    "text": "If this quantity is\nsmall for all S--",
    "start": "4346280",
    "end": "4354280"
  },
  {
    "text": "OK, so we put that element\ninto this Bohr set. ",
    "start": "4354280",
    "end": "4359670"
  },
  {
    "text": "OK, so these sets, they function\nmuch more like subspaces.",
    "start": "4359670",
    "end": "4364870"
  },
  {
    "text": "So there are the\nanalog of subspaces inside Z mod nZ, which,\nyou know, n is prime,",
    "start": "4364870",
    "end": "4373420"
  },
  {
    "text": "has no subgroups. It has no natural\nsubspace structure. But by looking at\nthese Bohr sets,",
    "start": "4373420",
    "end": "4378880"
  },
  {
    "text": "they provide a\nnatural way to set up this argument so that you can--",
    "start": "4378880",
    "end": "4385330"
  },
  {
    "text": "but with much more\ntechnicalities, repeat these kind of arguments\nmore similar to last time,",
    "start": "4385330",
    "end": "4393630"
  },
  {
    "text": "but passing not to\nsubspaces but to Bohr sets. And then with quite\na bit of extra work,",
    "start": "4393630",
    "end": "4402270"
  },
  {
    "text": "one can obtain bounds of the\nquantity N over a poly log N.",
    "start": "4402270",
    "end": "4412370"
  },
  {
    "text": "So the current best bound\nI mentioned last time is of this type, which is\nthrough further refinements",
    "start": "4412370",
    "end": "4420079"
  },
  {
    "text": "of this technique. ",
    "start": "4420080",
    "end": "4430610"
  },
  {
    "text": "The last thing I\nwant to mention today is, so far we've been\ntalking about 3APs.",
    "start": "4430610",
    "end": "4436040"
  },
  {
    "text": "So what about four term\narithmetic progressions? OK, do any of the things that we\ntalk about here work for 4APs?",
    "start": "4436040",
    "end": "4444998"
  },
  {
    "text": "And there's an analogy to be\nmade here compared to what we discussed with graphs. So in graphs, we had a triangle\ncounting lemma and a triangle",
    "start": "4444998",
    "end": "4451770"
  },
  {
    "text": "removal lemma. And then we said\nthat to prove 4APs, we would need the hypergraph\nversion, the simplex removal",
    "start": "4451770",
    "end": "4458390"
  },
  {
    "text": "lemma, hypergraph\nregularity lemma. And that was much\nmore difficult. And that analogy\ncarries through,",
    "start": "4458390",
    "end": "4464170"
  },
  {
    "text": "and the same kind of\ndifficulties that come up. So it can be done, but\nyou need something more.",
    "start": "4464170",
    "end": "4470700"
  },
  {
    "text": "And the main message I\nwant you to take away is that 4APs, while we\nhad a counting lemma that",
    "start": "4470700",
    "end": "4482940"
  },
  {
    "text": "says that the\nFourier coefficients, so the Fourier transform,\ncontrols 3AP counts,",
    "start": "4482940",
    "end": "4494540"
  },
  {
    "text": "it turns out the same\nis not true for 4APs. So the Fourier does\nnot control 4AP counts.",
    "start": "4494540",
    "end": "4505200"
  },
  {
    "start": "4505200",
    "end": "4510410"
  },
  {
    "text": "Let me give you some-- OK. So in fact, in the\nhomework for this week, there's a specific example of\na set where it has uniformly",
    "start": "4510410",
    "end": "4519870"
  },
  {
    "text": "small Fourier coefficients. But that's the wrong\nnumber of 4APs. ",
    "start": "4519870",
    "end": "4527130"
  },
  {
    "text": "So the following-- it is true-- OK, so it is true that you\nhave Szemer√©di's term in--",
    "start": "4527130",
    "end": "4532610"
  },
  {
    "text": "let's just talk about\nthe finite field setting, where things are a\nbit easier to discuss. So it is true that the size\nof the biggest subset of F5",
    "start": "4532610",
    "end": "4542510"
  },
  {
    "text": "to the N is a tiny\nfraction-- it's a little, one fraction of the entire space. OK, I use F5 here,\nbecause if I set F3,",
    "start": "4542510",
    "end": "4550460"
  },
  {
    "text": "it doesn't make sense\nto talk about 4APs. So F5, but it doesn't really\nmatter which specific field.",
    "start": "4550460",
    "end": "4558989"
  },
  {
    "text": "So you can prove this using\nhypergraph removal, same proof, verbatim, that we saw earlier,\nif you have hypergraph removal.",
    "start": "4558990",
    "end": "4567329"
  },
  {
    "text": "But if you want to try to prove\nit using Fourier analysis, well, it doesn't work quite\nusing the same strategy.",
    "start": "4567330",
    "end": "4575639"
  },
  {
    "text": "But in fact, there\nis a modification that would allow\nyou to make it work.",
    "start": "4575640",
    "end": "4580800"
  },
  {
    "text": "But you need an extension\nof Fourier analysis. And it is known as higher\norder Fourier analysis, which",
    "start": "4580800",
    "end": "4590790"
  },
  {
    "text": "was an important development in\nmodern additive combinatorics that initially arose\nin Gowers' work",
    "start": "4590790",
    "end": "4598590"
  },
  {
    "text": "where he gave a new proof\nof similarities theorem. So Gowers didn't\nwork in this setting. He worked in integers.",
    "start": "4598590",
    "end": "4604020"
  },
  {
    "text": "But many of the ideas\noriginated from his paper, and then subsequently\ndeveloped by a lot",
    "start": "4604020",
    "end": "4609120"
  },
  {
    "text": "of people in various settings. I just want to give you one\nspecific statement, what this high-order Fourier\nanalysis looks like.",
    "start": "4609120",
    "end": "4615710"
  },
  {
    "text": "So it's a fancy term,\nand the statements often get very technical. But I just want to give you one\nconcrete thing to take away.",
    "start": "4615710",
    "end": "4624139"
  },
  {
    "text": "All right, so for\na Fourier piece, higher-order Fourier\nanalysis, roughly-- OK, so it also goes by the name\nquadratic Fourier analysis.",
    "start": "4624140",
    "end": "4632484"
  },
  {
    "text": " OK, so let me give you\na very specific instance",
    "start": "4632484",
    "end": "4642370"
  },
  {
    "text": "of the theorem.  And this can be sometimes\ncalled an inverse theorem",
    "start": "4642370",
    "end": "4651710"
  },
  {
    "text": "for quadratic Fourier analysis. ",
    "start": "4651710",
    "end": "4660790"
  },
  {
    "text": "OK, so for every delta,\nthere exists some c such",
    "start": "4660790",
    "end": "4668700"
  },
  {
    "text": "that the following is true. If A is a subset of a F5 to the\nN with density alpha and such",
    "start": "4668700",
    "end": "4683390"
  },
  {
    "text": "that it's-- OK, so now lambda\nsub 4, so this is the 4AP density,\nso similar to 3AP,",
    "start": "4683390",
    "end": "4690380"
  },
  {
    "text": "but now you write four terms. The 4AP density of A differs\nfrom alpha to the fourth",
    "start": "4690380",
    "end": "4698630"
  },
  {
    "text": "by a significant amount. OK, so for 3APs, then we said\nthat now A has a large Fourier",
    "start": "4698630",
    "end": "4705050"
  },
  {
    "text": "coefficient, right?  So for-- OK.",
    "start": "4705050",
    "end": "4713640"
  },
  {
    "text": "For 4APs, that may not be\ntrue, but the following is true, right? So then there exists a\nnon-zero quadratic polynomial.",
    "start": "4713640",
    "end": "4728668"
  },
  {
    "start": "4728668",
    "end": "4735500"
  },
  {
    "text": "F and N variables over F5\nsuch that the indicator",
    "start": "4735500",
    "end": "4748620"
  },
  {
    "text": "function of A correlates with\nthis quadratic exponential face.",
    "start": "4748620",
    "end": "4753780"
  },
  {
    "start": "4753780",
    "end": "4763199"
  },
  {
    "text": "So Fourier analysis,\nthe conclusion that we got from\ncounting lemma is that you have some\nlinear function",
    "start": "4763200",
    "end": "4768440"
  },
  {
    "text": "F, such that this\nquantity is large,",
    "start": "4768440",
    "end": "4773650"
  },
  {
    "text": "this large Fourier coefficient. OK, so that is not true 4APs. But what is true\nis that now you can",
    "start": "4773650",
    "end": "4779870"
  },
  {
    "text": "look at quadratic exponential\nfaces, and then it is true. So that's the content\nof higher order Fourier.",
    "start": "4779870",
    "end": "4788719"
  },
  {
    "text": "I mean, that's the example of\nhigher-order Fourier analysis. And you can imagine with\nthis type of result,",
    "start": "4788720",
    "end": "4796010"
  },
  {
    "text": "and with quite a\nbit more work, you can try to follow a\nsimilar density increment",
    "start": "4796010",
    "end": "4801560"
  },
  {
    "text": "strategy to prove\nsimilarities term for 4APs.",
    "start": "4801560",
    "end": "4807110"
  },
  {
    "start": "4807110",
    "end": "4808000"
  }
]