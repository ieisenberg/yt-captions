[
  {
    "text": "[SQUEAKING] [RUSTLING] [CLICKING]",
    "start": "0",
    "end": "8703"
  },
  {
    "text": "DAVID PERREAULT: So\nyou've gone through, and you've designed\nyour converter, and you've worked out the\nmagnetics and the controls",
    "start": "8703",
    "end": "15799"
  },
  {
    "text": "and the circuit\ntopology, all that stuff. And now it's time\nto put it on a board",
    "start": "15800",
    "end": "22670"
  },
  {
    "text": "or put it in a\npackage system and get the performance you want. And what you'll find\nis that depending",
    "start": "22670",
    "end": "30109"
  },
  {
    "text": "upon how you do this,\nthe details of how you put your circuit\ntogether, you can get great performance\nor terrible performance.",
    "start": "30110",
    "end": "38540"
  },
  {
    "text": "And so what I'd like to\ndo is spend a little bit of time today just talking about\npractical implementation issues.",
    "start": "38540",
    "end": "46640"
  },
  {
    "text": "And this is something that I'm--\nwhat I'm hoping is you'll keep this in the back of your mind\nuntil the day you're actually",
    "start": "46640",
    "end": "52220"
  },
  {
    "text": "building one of these things. And maybe the\nfirst one you build might cause you\nsome unhappiness.",
    "start": "52220",
    "end": "58783"
  },
  {
    "text": "And then you'll remember\nthis lecture and look at it and say, what can\nI do to fix that? Or you can remember it\nall now, and then you'll",
    "start": "58783",
    "end": "65990"
  },
  {
    "text": "never have this problem. And I certainly found over time\nthat the more attention you",
    "start": "65990",
    "end": "72720"
  },
  {
    "text": "pay to this kind\nof thing I'm going to talk about right now\nin your first design,",
    "start": "72720",
    "end": "77820"
  },
  {
    "text": "like, when you first\nbuild the system, the less trouble you'll\nhave with it getting it",
    "start": "77820",
    "end": "83740"
  },
  {
    "text": "across the finish line. OK, so let's talk about our\nfriendly neighborhood buck",
    "start": "83740",
    "end": "90490"
  },
  {
    "text": "converter. So suppose I have\na buck converter.",
    "start": "90490",
    "end": "95760"
  },
  {
    "text": "And let me assume I'm coming\nfrom some source impedance, that we don't have\nto worry about it. But I have a capacitor here to\ntake the high-frequency input",
    "start": "95760",
    "end": "105480"
  },
  {
    "text": "ripple current and hold\nthe voltage steady. And I'll have a switch, and\nI'll have a diode, and my load",
    "start": "105480",
    "end": "113820"
  },
  {
    "text": "inductor-- I mean, my output\ninductor and my load. As far as the switching\nof this circuit",
    "start": "113820",
    "end": "123970"
  },
  {
    "text": "is concerned, when\nthe diode is on,",
    "start": "123970",
    "end": "131330"
  },
  {
    "text": "the path through the\ncircuit's like this. When I turn the diode off\nand the switch turns on,",
    "start": "131330",
    "end": "138200"
  },
  {
    "text": "essentially, I'm\ncommutating to this branch. So I have a commutation\nbetween this branch",
    "start": "138200",
    "end": "145880"
  },
  {
    "text": "and this branch of\nthe circuit, and I'm assuming all the\nhigh-frequency current's going through the input capacitor.",
    "start": "145880",
    "end": "152900"
  },
  {
    "text": "Likewise, when the switch is\non, I'm carrying it this way. And when I turn the\nswitch off, I essentially,",
    "start": "152900",
    "end": "160569"
  },
  {
    "text": "from an AC perspective, I\nhave a loop going this way. So essentially what dominates\nthe high-frequency behavior",
    "start": "160570",
    "end": "170530"
  },
  {
    "text": "in terms of high currents\nis this switching loop here.",
    "start": "170530",
    "end": "175690"
  },
  {
    "text": "You can imagine that there's\na large AC current running around this switching loop.",
    "start": "175690",
    "end": "182580"
  },
  {
    "text": "This branch has almost\nconstant current. If you've done a good\njob of filtering, this input will have an\nalmost constant current.",
    "start": "182580",
    "end": "191850"
  },
  {
    "text": "But this is where the\nbig AC current is. So the first thing I think\nabout when I'm putting together",
    "start": "191850",
    "end": "196860"
  },
  {
    "text": "my circuit is how do\nI minimize that loop in terms of its inductance?",
    "start": "196860",
    "end": "206022"
  },
  {
    "text": "And so one of the things we're\ngoing to talk about today is minimizing loop inductance.",
    "start": "206022",
    "end": "214480"
  },
  {
    "text": "And you've got to--\nthe first thing you want to do when you look at\nany converter is, which loops do I care about? ",
    "start": "214480",
    "end": "221568"
  },
  {
    "text": "And this is the key loop. So the first thing I'm looking\nat when I'm laying out my power",
    "start": "221568",
    "end": "227060"
  },
  {
    "text": "stage is, what's my diode? What's my capacitor? I'm sorry, what's my diode? What's my switch?",
    "start": "227060",
    "end": "232860"
  },
  {
    "text": "Here's the capacitor. How am I going to close\nthis loop to minimize that? And we've talked about how\nelectromagnetic interference",
    "start": "232860",
    "end": "239510"
  },
  {
    "text": "from that loop can couple\ninto other systems. We'll talk about\nthat in more detail.",
    "start": "239510",
    "end": "247010"
  },
  {
    "text": "We should also recognize that\nwhere is the high switching",
    "start": "247010",
    "end": "254569"
  },
  {
    "text": "node in this circuit? This node has a big square wave\non it with respect to ground.",
    "start": "254570",
    "end": "264020"
  },
  {
    "text": " So this node flying up\nand down can inject charge",
    "start": "264020",
    "end": "272960"
  },
  {
    "text": "into other places in the\ncircuit and cause noise. So making this node,\nthis flying node,",
    "start": "272960",
    "end": "280880"
  },
  {
    "text": "bigger than I need it to\nbe is kind of a bad thing, because that can\ncapacitively inject noise",
    "start": "280880",
    "end": "287780"
  },
  {
    "text": "into other places in the system. So not only are going to think\nabout how to make this tight.",
    "start": "287780",
    "end": "292850"
  },
  {
    "text": "I also want to\nthink about what's the size of this flying node.",
    "start": "292850",
    "end": "298130"
  },
  {
    "text": "And if I imagine that I-- maybe I could place my--",
    "start": "298130",
    "end": "304280"
  },
  {
    "text": "maybe I could place my\ninductor over to the right and have a long lead going\nbetween the switching",
    "start": "304280",
    "end": "309860"
  },
  {
    "text": "diode and the inductor. Or I could place, if this is\nmy switching in diode node--",
    "start": "309860",
    "end": "315080"
  },
  {
    "text": "or I could put the\ninductor here and then have a long lead going\nto the output capacitor,",
    "start": "315080",
    "end": "321900"
  },
  {
    "text": "these two things seem the\nsame because the lead's either in series with the inductor\non one side or another.",
    "start": "321900",
    "end": "327570"
  },
  {
    "text": "But this node is\nflying up and down, and this node is about fixed.",
    "start": "327570",
    "end": "333150"
  },
  {
    "text": "So, in voltage. So to the extent that this\nis forming a capacitor plate to other stuff, and\nthis is forming a capacitor",
    "start": "333150",
    "end": "341340"
  },
  {
    "text": "plate to other stuff, this\nis much worse than this one. So you've got to think about\nboth this loop and this flying",
    "start": "341340",
    "end": "350210"
  },
  {
    "text": "node in a buck converter. In a boost converter it would\nbe a different looping node, or in some other converter\nwould be different.",
    "start": "350210",
    "end": "356069"
  },
  {
    "text": "But that's the first thing\nyou want to think about. And it can really have a\nbig impact on performance.",
    "start": "356070",
    "end": "362280"
  },
  {
    "text": "And just to\nillustrate that, Rafa has actually set up\na buck converter.",
    "start": "362280",
    "end": "370880"
  },
  {
    "text": "And I'm going to let\nher show you four cases.",
    "start": "370880",
    "end": "378640"
  },
  {
    "text": "OK. Why don't you tell me-- and\nsince I have the mic, which case you're going to do first? RAFA ISLAM: We can start\nwith the worst-case one.",
    "start": "378640",
    "end": "384340"
  },
  {
    "text": "DAVID PERREAULT: OK. RAFA ISLAM: Have\na big switch gap. And it'll be-- DAVID PERREAULT: Yeah, so\nsuppose I did a bad thing",
    "start": "384340",
    "end": "389820"
  },
  {
    "text": "in 2-dimensions. I made this loop terrible,\nand I had excess area",
    "start": "389820",
    "end": "396090"
  },
  {
    "text": "on this switching node. So I'm just doing a bad job\nof laying out my circuit. What would that\nwaveform look like?",
    "start": "396090",
    "end": "403380"
  },
  {
    "text": "OK, so we can see the first one. ",
    "start": "403380",
    "end": "411730"
  },
  {
    "text": "And what you see is a whole\npile of ringing in this circuit. So what she's\nlooking at is you're",
    "start": "411730",
    "end": "418603"
  },
  {
    "text": "looking at the voltage at\nthe switching node, right? RAFA ISLAM: That's right. DAVID PERREAULT: Yeah, so it's\nthis voltage we're looking at,",
    "start": "418603",
    "end": "424030"
  },
  {
    "text": "this switching node voltage. And what you see is there's all\nkinds of excess ringing there.",
    "start": "424030",
    "end": "429139"
  },
  {
    "text": "Why? Because there's this\ninductance in this loop which is ringing with things, and\nthen it's settling down. And that's pretty bad because\nthat can inject noise elsewhere",
    "start": "429140",
    "end": "438940"
  },
  {
    "text": "in the circuit. It can even interfere\nwith the circuit itself. So you'll see a lot of\npeople have problems,",
    "start": "438940",
    "end": "444909"
  },
  {
    "text": "that they build their\ncircuit, and maybe it works at super-low\nvoltage, the power. And they turn it up, and\neverything starts mis-operating",
    "start": "444910",
    "end": "451203"
  },
  {
    "text": "and doing funny things. It's because you're\nhaving interference with your own circuit. So not only can you\ninterfere with the world,",
    "start": "451203",
    "end": "457720"
  },
  {
    "text": "you can interfere with yourself. Now that's the result\nof two bad things.",
    "start": "457720",
    "end": "463245"
  },
  {
    "text": "Which one are we\ngoing to look at next? RAFA ISLAM: We're going to\nmove the capacitor closer to the switch.",
    "start": "463245",
    "end": "468250"
  },
  {
    "text": "DAVID PERREAULT: We're going\nto have a bad switching loop. RAFA ISLAM: Yes, smaller,\nsmaller [INAUDIBLE]. DAVID PERREAULT: Yeah. Right. So we're going to reduce\nthe capacitance here.",
    "start": "468250",
    "end": "476030"
  },
  {
    "text": "We're going to improve\none aspect of that. ",
    "start": "476030",
    "end": "485817"
  },
  {
    "text": "RAFA ISLAM: Sorry. [INAUDIBLE] OK, that should be good. ",
    "start": "485817",
    "end": "497795"
  },
  {
    "text": "DAVID PERREAULT: So that's\nmuch more pleasant in terms of the amount of switching. You can still-- you can\nsee it's still noisy.",
    "start": "497795",
    "end": "503930"
  },
  {
    "text": "Stuff's still going\non, but not nearly as bad as when I was really sloppy\nabout both the loop inductance",
    "start": "503930",
    "end": "511010"
  },
  {
    "text": "and the node capacitance. Now we'll do the\ncase where we have--",
    "start": "511010",
    "end": "516500"
  },
  {
    "text": "RAFA ISLAM: Small gap. DAVID PERREAULT: Yeah,\nthe capacitor is bad,",
    "start": "516500",
    "end": "522469"
  },
  {
    "text": "but I still have a\nbig switching loop. ",
    "start": "522470",
    "end": "528840"
  },
  {
    "text": "And again-- yeah,\nyou got some ringing. You might not like that. You might start thinking about\nputting snubbers in there.",
    "start": "528840",
    "end": "534975"
  },
  {
    "text": "But it's not as bad\nas that first case. And then the last case is\nwhen perhaps better attention",
    "start": "534975",
    "end": "541290"
  },
  {
    "text": "was paid to everything. And this is-- I don't want to\nsay the ideal case,",
    "start": "541290",
    "end": "547590"
  },
  {
    "text": "but this is when\nattention was paid to the layout of the circuit. So if you look at the two\nends of that spectrum,",
    "start": "547590",
    "end": "554430"
  },
  {
    "text": "you can see there's a\npretty darn big difference between the actual\nperformance of the converter.",
    "start": "554430",
    "end": "559812"
  },
  {
    "text": "Now this is in a low-voltage\nkind of low-power thing that it's not that bad.",
    "start": "559812",
    "end": "565900"
  },
  {
    "text": "But when you're\noperating at hundreds of volts and hundreds\nof amps, these things get really, really bad.",
    "start": "565900",
    "end": "572820"
  },
  {
    "text": "So you really want to\nthink about layout. So thanks very much. RAFA ISLAM: Sure.",
    "start": "572820",
    "end": "578550"
  },
  {
    "text": "DAVID PERREAULT:\nSo suppose I want to think about reducing\nthe inductance of my loop?",
    "start": "578550",
    "end": "588670"
  },
  {
    "text": "What does that mean in practice? Well, it means that\nI certainly want",
    "start": "588670",
    "end": "593950"
  },
  {
    "text": "to place these three\ncomponents close together",
    "start": "593950",
    "end": "599830"
  },
  {
    "text": "such that if I think\nabout the current flowing around in this loop, it\nforms a very tight area.",
    "start": "599830",
    "end": "606670"
  },
  {
    "text": "So that's one way\nto think about it. If I imagine the current,\nAC current, circulating",
    "start": "606670",
    "end": "611742"
  },
  {
    "text": "in this loop, how much flux is\nit throwing out in the world? And that relates\nto the inductance. Sometimes, of course, I have to\nput components at a distance.",
    "start": "611742",
    "end": "622362"
  },
  {
    "text": "There's some\ninterconnection between them that I have to live with. Why don't we think about what is\nthe parasitic of a pair of wires",
    "start": "622362",
    "end": "634990"
  },
  {
    "text": "or a pair of traces\ninterconnecting something? So let's think\nabout this example.",
    "start": "634990",
    "end": "641440"
  },
  {
    "text": "Suppose I have two traces. ",
    "start": "641440",
    "end": "647330"
  },
  {
    "text": "Here's the first trace. And I'm going to\ncarry current down it.",
    "start": "647330",
    "end": "654760"
  },
  {
    "text": "And then I'm going to return\nthe current somewhere else. So let me return it in a trace\nthat's right underneath it,",
    "start": "654760",
    "end": "660680"
  },
  {
    "text": "like this. ",
    "start": "660680",
    "end": "666779"
  },
  {
    "text": "And I will close off the end. I'm going to drive current in\none and return it on the other.",
    "start": "666780",
    "end": "673730"
  },
  {
    "text": "And let's say it's got a trace\nof a width W, of length L,",
    "start": "673730",
    "end": "682690"
  },
  {
    "text": "and a spacing that I'm\ngoing to call delta. ",
    "start": "682690",
    "end": "689200"
  },
  {
    "text": "What would be the inductance\nof that loop, where I'm going to carry current down\none side and back the other?",
    "start": "689200",
    "end": "695320"
  },
  {
    "text": "And if I look at this\nend on, maybe I'm",
    "start": "695320",
    "end": "704320"
  },
  {
    "text": "going to put current in\none end, or maybe current will go in here. ",
    "start": "704320",
    "end": "710875"
  },
  {
    "text": "It goes down the conductor. Comes back the other\nside, coming out here. ",
    "start": "710875",
    "end": "718649"
  },
  {
    "text": "And from that, what I'm going\nto get is some magnetic fields. And they're going to\nbe very concentrated",
    "start": "718650",
    "end": "725710"
  },
  {
    "text": "in between the traces. I'm assuming these traces\nare quite close together.",
    "start": "725710",
    "end": "731611"
  },
  {
    "text": "And it's going to look\nsomething like this. Here's the magnetic fields. Here's the H fields.",
    "start": "731611",
    "end": "738800"
  },
  {
    "text": "Looks like something like this,\nif I'm being schematic about it. Does that make\nsense to everybody?",
    "start": "738800",
    "end": "746120"
  },
  {
    "text": "So the question is, if\nthese are the H fields,",
    "start": "746120",
    "end": "752270"
  },
  {
    "text": "how might I analyze this thing? And let me do an analysis,\na very simple analysis, just",
    "start": "752270",
    "end": "757790"
  },
  {
    "text": "to say what are the trade-offs\nin the interconnect? So we can say, OK,\nthe integral of H",
    "start": "757790",
    "end": "764519"
  },
  {
    "text": "dot dL is equal to the integral\nof a J dot dA, which is just",
    "start": "764520",
    "end": "772600"
  },
  {
    "text": "the net current. I'm ignoring displacement\ncurrent in this.",
    "start": "772600",
    "end": "778090"
  },
  {
    "text": "So what I'm saying is\nthat if I integrate the H field around any loop, I'm going\nto get the net current enclosed.",
    "start": "778090",
    "end": "786710"
  },
  {
    "text": "So suppose this total\ncurrent here is I. All right.",
    "start": "786710",
    "end": "792190"
  },
  {
    "text": "Well, that's fine. The simplest thing\nfor me to think about",
    "start": "792190",
    "end": "797680"
  },
  {
    "text": "might be the fact that the\nfields are really concentrated in between the\ntraces and they're",
    "start": "797680",
    "end": "802930"
  },
  {
    "text": "kind of very diffuse out here. So maybe I can make\nthe approximation-- and this is purely approximation\nthat all the field that I'm",
    "start": "802930",
    "end": "810280"
  },
  {
    "text": "interested in is in here. So then if I took this\nintegral around this loop,",
    "start": "810280",
    "end": "815560"
  },
  {
    "text": "I might say the integral of\nH dot dL is just H sub x-- let me call this\nthe x direction.",
    "start": "815560",
    "end": "822310"
  },
  {
    "text": "It's the H inside the\ninside between here times-- this is the width\nof the winding--",
    "start": "822310",
    "end": "828260"
  },
  {
    "text": " is equal to I. Or\nequivalently, I",
    "start": "828260",
    "end": "833730"
  },
  {
    "text": "could approximate this H field\nas H sub x is equal to I over W.",
    "start": "833730",
    "end": "841529"
  },
  {
    "text": "All right? Has the right units--\namperes per meter.",
    "start": "841530",
    "end": "846690"
  },
  {
    "text": "How much energy am I\nstoring in this thing? Well, again, I'm only\ngoing to pay attention to the-- really the\nenergy I'm storing here.",
    "start": "846690",
    "end": "853053"
  },
  {
    "text": "But that ought to be\nmost of the energy. I'm going to ignore this\nsort of-- the fringing fields out here, even though\nI know they exist.",
    "start": "853053",
    "end": "859810"
  },
  {
    "text": "So that means I\nget the integral-- the magnetic energy storage is\nequal to the integral of B dot H",
    "start": "859810",
    "end": "868790"
  },
  {
    "text": "dV, which is going to give\nme 1/2 mu 0 H squared times",
    "start": "868790",
    "end": "882790"
  },
  {
    "text": "the volume, which in this case\nis going to be equal to 1/2 mu 0",
    "start": "882790",
    "end": "889449"
  },
  {
    "text": "I over I squared over W\nsquared, times the volume, which is W times L times delta.",
    "start": "889450",
    "end": "897880"
  },
  {
    "text": "So I'm finding all the energy\nstored in between the plates of this conductor in return.",
    "start": "897880",
    "end": "904930"
  },
  {
    "text": "Any questions about that?  So this is also equal\nto 1/2 Li squared.",
    "start": "904930",
    "end": "917069"
  },
  {
    "text": "That's the energy I'm storing\nin the magnetic field. And if I work that\nout, this cancels.",
    "start": "917070",
    "end": "923503"
  },
  {
    "text": " Then I get, if I just\npattern match here,",
    "start": "923503",
    "end": "930680"
  },
  {
    "text": "what I get is L is\napproximately equal to, with these simple\nsimplifications, mu 0 L",
    "start": "930680",
    "end": "943440"
  },
  {
    "text": "over W and delta. ",
    "start": "943440",
    "end": "950170"
  },
  {
    "text": "This is the equivalent\nof saying capacitance is epsilon 0 a over d. I'm ignoring fringing\nbetween two plates.",
    "start": "950170",
    "end": "957050"
  },
  {
    "text": "This is the magnetic\nequivalent of that. So the inductance of this trace\nto carry a current up and back",
    "start": "957050",
    "end": "966730"
  },
  {
    "text": "is going to be basically\nmu 0 l over w delta. So if I want a low-inductance\nloop, what do I want?",
    "start": "966730",
    "end": "975880"
  },
  {
    "text": "Firstly, obviously, I\nmean, I'm assuming there's no magnetic material in here. Clearly I don't want\nmagnetic material in there",
    "start": "975880",
    "end": "981318"
  },
  {
    "text": "if I want it to\nbe low inductance. I want it to be short. Put everything as close\ntogether in terms of the length",
    "start": "981318",
    "end": "989079"
  },
  {
    "text": "I'm carrying the current\nover as possible. If I have to carry a\ncurrent in a trace,",
    "start": "989080",
    "end": "994210"
  },
  {
    "text": "I would like the\ntrace to be wide. The wider the trace, the\nmore the current and field",
    "start": "994210",
    "end": "999910"
  },
  {
    "text": "spreads out, and the\nlower net energy stored. Because the width,\nthe width helps",
    "start": "999910",
    "end": "1006690"
  },
  {
    "text": "me reduce the field magnitude. And even though I'm carrying\nit over a wider space, I have more volume, I\nget a lower inductance.",
    "start": "1006690",
    "end": "1013403"
  },
  {
    "text": "And then the other\nthing I can see is here I want\ndelta to be small. So if I'm going to carry\ncurrent out and return it,",
    "start": "1013403",
    "end": "1021090"
  },
  {
    "text": "I want the spacing between\nthose traces to be really low.",
    "start": "1021090",
    "end": "1026369"
  },
  {
    "text": "So the thing I'm\nthinking about when I'm thinking about\nwhat am I going to make this interconnect loop\ndo, it's not only that I want--",
    "start": "1026369",
    "end": "1032103"
  },
  {
    "text": "I can think about, I can\nimagine this original thing I drew and say, yeah, I want\nthis loop to be tight.",
    "start": "1032103",
    "end": "1039819"
  },
  {
    "text": "But this might actually\nbe in multiple dimensions that I have to think about.",
    "start": "1039819",
    "end": "1044959"
  },
  {
    "text": "And if I have to carry\ncurrent over some distance, carrying a wider trace and\nputting those traces closer",
    "start": "1044960",
    "end": "1051250"
  },
  {
    "text": "together helps me make\nthat inductance low. Any questions about that?",
    "start": "1051250",
    "end": "1056945"
  },
  {
    "start": "1056945",
    "end": "1063529"
  },
  {
    "text": "So if I'm-- an example\nof this would be not only for the switching loop,\nbut the gate drive.",
    "start": "1063530",
    "end": "1071743"
  },
  {
    "text": "I got to put the\ngate drive, and I want to send current out\nand bring the current back. When I'm thinking about that,\nif you want the energy storage",
    "start": "1071743",
    "end": "1079070"
  },
  {
    "text": "to be small-- at least the magnetic\nenergy storage to be small-- use a wide trace. Put the return very close.",
    "start": "1079070",
    "end": "1084924"
  },
  {
    "start": "1084925",
    "end": "1092520"
  },
  {
    "text": "Now, what would\nbe the equivalent of that for this loop?",
    "start": "1092520",
    "end": "1101590"
  },
  {
    "text": "What happens, the\nparasitic capacitance--",
    "start": "1101590",
    "end": "1106730"
  },
  {
    "text": "suppose I have some trace. ",
    "start": "1106730",
    "end": "1112140"
  },
  {
    "text": "This is my switching\nnode, and this is, say, ground or something,\nor some other node. And I'm asking,\nwhat's the capacitance",
    "start": "1112140",
    "end": "1118860"
  },
  {
    "text": "between these two\npieces of metal that are very close\nto each other? That, I think is more\nfamiliar to people.",
    "start": "1118860",
    "end": "1128879"
  },
  {
    "text": "People recall that the\ncapacitance is equal to epsilon,",
    "start": "1128880",
    "end": "1134220"
  },
  {
    "text": "is the dielectric between\nmy two pieces of metal, times the area divided\nby the distance epsilon A",
    "start": "1134220",
    "end": "1141299"
  },
  {
    "text": "over d, which in the way I've\nbeen writing this with these two plate sizes, would\nbe epsilon times--",
    "start": "1141300",
    "end": "1149560"
  },
  {
    "text": "the area would be width times\nthe length divided by delta.",
    "start": "1149560",
    "end": "1156090"
  },
  {
    "text": "Does that make sense? So what does this say?",
    "start": "1156090",
    "end": "1161250"
  },
  {
    "text": "In this case, if I want\nto make capacitance small, I also want to make the\nlength of this thing short.",
    "start": "1161250",
    "end": "1167554"
  },
  {
    "text": " But notice that whereas\ninductance goes as--",
    "start": "1167555",
    "end": "1175120"
  },
  {
    "text": "let's see, where\ndo I have it here? L over delta. So let me write C. C is equal\nto epsilon L times W over delta,",
    "start": "1175120",
    "end": "1188590"
  },
  {
    "text": "right? If I thought about my\ninductance per unit length,",
    "start": "1188590",
    "end": "1194590"
  },
  {
    "text": "is mu 0 over W delta.",
    "start": "1194590",
    "end": "1201294"
  },
  {
    "text": " Capacitance-- what\ndid I do here?",
    "start": "1201295",
    "end": "1209595"
  },
  {
    "text": "AUDIENCE: I think [INAUDIBLE]\ntop [INAUDIBLE] numbers. DAVID PERREAULT: It should be. Yes. That's completely wrong.",
    "start": "1209595",
    "end": "1215820"
  },
  {
    "text": "That's what happens\nwhen I skip boards. The inductance needs to be mu 0.",
    "start": "1215820",
    "end": "1223169"
  },
  {
    "text": "Yeah, all right. That's what I did. Delta over W. If I want the\ninductance [INAUDIBLE] low,",
    "start": "1223170",
    "end": "1231510"
  },
  {
    "text": "make W big and delta small.",
    "start": "1231510",
    "end": "1237674"
  },
  {
    "text": "This should be W over delta. It's the induct--",
    "start": "1237674",
    "end": "1243620"
  },
  {
    "text": "I'm sorry-- the\ncapacitance [INAUDIBLE]. Inductance per unit length\nis then mu 0 delta over W.",
    "start": "1243620",
    "end": "1255950"
  },
  {
    "text": "So L prime, because if I have\nto do it over some length, then I can say what this is.",
    "start": "1255950",
    "end": "1261850"
  },
  {
    "text": "And I want delta to be\nsmall and W to be big. If I calculated the capacitance,\nthe capacitance per unit length",
    "start": "1261850",
    "end": "1268720"
  },
  {
    "text": "is epsilon times W over delta. So if I'm thinking about\nsome trace in its return,",
    "start": "1268720",
    "end": "1276340"
  },
  {
    "text": "or two pieces of metal close\nto each other, whatever I do to reduce the inductance\nincreases the capacitance",
    "start": "1276340",
    "end": "1284980"
  },
  {
    "text": "and vice versa.  So in some cases, if I do\nthe best thing I can do,",
    "start": "1284980",
    "end": "1294830"
  },
  {
    "text": "I'm going to be trading\ncapacitance for inductance, and I got to decide which I\nwant, which I don't like less.",
    "start": "1294830",
    "end": "1302840"
  },
  {
    "text": "Now, that doesn't\nmean you can't-- this trade off-- and I\nshould say, by the way, 1 over L prime C\nprime ends up being",
    "start": "1302840",
    "end": "1313870"
  },
  {
    "text": "the speed of light squared, OK? So it's a physical constant. It's mu 0 epsilon 0.",
    "start": "1313870",
    "end": "1319930"
  },
  {
    "text": "But that doesn't mean\nI can't do anything bad here that doesn't help me.",
    "start": "1319930",
    "end": "1326559"
  },
  {
    "text": "If I thought about, I'm\ngoing to carry some current over some distance.",
    "start": "1326560",
    "end": "1332643"
  },
  {
    "text": "I'm going to carry\ncurrent here and it's going to return underneath here,\nif I put some piece of metal",
    "start": "1332643",
    "end": "1338600"
  },
  {
    "text": "out here that doesn't\nreally carry any current, he can add capacitance\nwithout reducing inductance.",
    "start": "1338600",
    "end": "1344870"
  },
  {
    "text": "So I can certainly do things\nto make both inductance and capacitance worse,\nor make one of them",
    "start": "1344870",
    "end": "1350090"
  },
  {
    "text": "worse without helping the other. But when I get it down to the\nbest interconnect strategy,",
    "start": "1350090",
    "end": "1355490"
  },
  {
    "text": "at some point, if I put\nmy trace and return close, I'm making the inductance\nlow and the capacitance",
    "start": "1355490",
    "end": "1361790"
  },
  {
    "text": "high and vice versa. And you just got to think about\nwhich piece of trace is it",
    "start": "1361790",
    "end": "1366920"
  },
  {
    "text": "and what is it doing for you. Any question about that? ",
    "start": "1366920",
    "end": "1379220"
  },
  {
    "text": "Let's talk a little bit more\nabout this switching node here. ",
    "start": "1379220",
    "end": "1386990"
  },
  {
    "text": "One thing it does, which\nwe saw in the demo, is it'll cause a\nbunch of ringing because you have excess\ncapacitance at this node",
    "start": "1386990",
    "end": "1392917"
  },
  {
    "text": "that you don't like. But there are other\ncapacitances that node, like the device\ncapacitance and so forth.",
    "start": "1392917",
    "end": "1398679"
  },
  {
    "text": "But what really often hurts you\nis the capacitance of that node not to ground, but to other\nstuff in your circuit.",
    "start": "1398680",
    "end": "1407340"
  },
  {
    "text": "So let's just imagine this node\nis driven by the switching.",
    "start": "1407340",
    "end": "1414460"
  },
  {
    "text": "So there's a volt-- there's\na square-wave voltage here. So if I thought about\nmodeling this, I might say,",
    "start": "1414460",
    "end": "1422790"
  },
  {
    "text": "OK, here's my big\nsquare-wave voltage.",
    "start": "1422790",
    "end": "1428310"
  },
  {
    "text": "This is going up\nand down like this. And this piece of metal here\nforms one plate of a capacitor.",
    "start": "1428310",
    "end": "1441539"
  },
  {
    "text": "So maybe I think about\nthat as being one plate. Here it is. He's one plate of a capacitor.",
    "start": "1441540",
    "end": "1450490"
  },
  {
    "text": "All right. What's the other\nplate of my capacitor? Well, it depends\nwhat's around it. But imagine nearby,\nI have in my circuit,",
    "start": "1450490",
    "end": "1459370"
  },
  {
    "text": "for example, suppose I have some\ncontrol circuitry down here. It's ground referenced.",
    "start": "1459370",
    "end": "1465010"
  },
  {
    "text": "I have drivers and\nsensors and comparators. They're going to do all\nthe computation for me.",
    "start": "1465010",
    "end": "1472184"
  },
  {
    "text": "And maybe within this there's\nsome very sensitive node. Maybe that's the input\nof a comparator, or right",
    "start": "1472185",
    "end": "1482470"
  },
  {
    "text": "where my error\namplifier is, my op amp. And I can have some very\nhigh impedance nodes.",
    "start": "1482470",
    "end": "1488350"
  },
  {
    "text": "So maybe I have a plate there. That plate is just the\nmetal of that node.",
    "start": "1488350",
    "end": "1497854"
  },
  {
    "text": "And it has some resistance too. So maybe my comparator has\nsome resistance to ground.",
    "start": "1497854",
    "end": "1504620"
  },
  {
    "text": "So this white could\nbe inside this box. Maybe there's a comparator here,\nand he has a positive input.",
    "start": "1504620",
    "end": "1512120"
  },
  {
    "text": "And there's some metal that\nI've got sitting right here. That's the other plate\nof this capacitor.",
    "start": "1512120",
    "end": "1518330"
  },
  {
    "text": "Does that make sense? So if this voltage is\nhere, what is this voltage?",
    "start": "1518330",
    "end": "1524110"
  },
  {
    "text": "The induced voltage? Well, a simple RC divider,\nwhat does that tell me?",
    "start": "1524110",
    "end": "1529700"
  },
  {
    "text": "It tells me I ought\nto be doing this. I ought to be seeing\na voltage that spikes up and rings down, and\nthen spikes down and rings up,",
    "start": "1529700",
    "end": "1541630"
  },
  {
    "text": "and vice versa. So this is the voltage\nI'm going to see here. Does that make\nsense to everybody?",
    "start": "1541630",
    "end": "1548630"
  },
  {
    "text": "And maybe the energy in\nthese spikes isn't very big. But if that's the\ninput to a comparator, maybe I'm very unhappy,\nbecause if that comparator is",
    "start": "1548630",
    "end": "1556340"
  },
  {
    "text": "determining when the\nswitch turns on and off, and I get a spike on\nthat signal because",
    "start": "1556340",
    "end": "1561830"
  },
  {
    "text": "of this capacitive injection,\nI could be really unhappy. ",
    "start": "1561830",
    "end": "1567950"
  },
  {
    "text": "Any questions about that?  So what can I do about that?",
    "start": "1567950",
    "end": "1575550"
  },
  {
    "text": "Well, one thing is\nwe said the area,",
    "start": "1575550",
    "end": "1580590"
  },
  {
    "text": "the capacitance is\nrelated to the area. I assume the two plate\nareas were the same here.",
    "start": "1580590",
    "end": "1585880"
  },
  {
    "text": "This is some small\narea that's this node. This is some big area that's\nassociated with carrying",
    "start": "1585880",
    "end": "1591390"
  },
  {
    "text": "currents for my switching node. One thing I want to do is make\nthat as small as possible. Also, keep the distance between\nthis thing and this thing",
    "start": "1591390",
    "end": "1600960"
  },
  {
    "text": "bigger so that the\ncapacitance goes down. So I can put them far apart,\nas far as I can practically",
    "start": "1600960",
    "end": "1608790"
  },
  {
    "text": "do it, and reduce the areas. And that will help me minimize\nthat capacitance that's",
    "start": "1608790",
    "end": "1615090"
  },
  {
    "text": "causing noise. Does that make\nsense to everybody? What else could I do about that?",
    "start": "1615090",
    "end": "1622779"
  },
  {
    "text": "Well, another thing\nI could do about that is start to get smart about\nwhere those components are",
    "start": "1622780",
    "end": "1627910"
  },
  {
    "text": "and what I put in between them. So one thing I could\ndo is put in what's known as a Faraday shield,\nor lay out my circuit",
    "start": "1627910",
    "end": "1636760"
  },
  {
    "text": "so I effectively get\na Faraday shield. What's a Faraday shield? Let me just say, this is a\nmodel for what's going on.",
    "start": "1636760",
    "end": "1644620"
  },
  {
    "text": "Suppose I did this instead. I said, OK, I have\nmy switching node.",
    "start": "1644620",
    "end": "1653350"
  },
  {
    "text": "It's switching up and down. And I still have this-- maybe this is still a--",
    "start": "1653350",
    "end": "1659920"
  },
  {
    "text": "I minimized it, but I've still\ngot a certain plate area there. And I've still--",
    "start": "1659920",
    "end": "1665380"
  },
  {
    "text": "I need some area for my-- I need some area for\nmy switching node,",
    "start": "1665380",
    "end": "1671398"
  },
  {
    "text": "and he's still going to\nbe a high-impedance node. The other thing I\ncan do, by the way, is if I make this\nresistor smaller.",
    "start": "1671398",
    "end": "1676930"
  },
  {
    "text": "That starts to\nbecome less nasty. But there's only so much\nI can do about that.",
    "start": "1676930",
    "end": "1683144"
  },
  {
    "text": "Well, what else could I do? Maybe I could come\nin and say, OK, let me put some\npiece of metal that",
    "start": "1683145",
    "end": "1690470"
  },
  {
    "text": "sits between the noisy node and\nthe thing-- the sensitive node.",
    "start": "1690470",
    "end": "1697307"
  },
  {
    "text": "And maybe I'll just\ntake that piece of metal and I'll ground it. ",
    "start": "1697307",
    "end": "1703136"
  },
  {
    "text": "So what would be the\ncircuit model for this? The circuit model for this\nwould be the following. I have my--",
    "start": "1703136",
    "end": "1710630"
  },
  {
    "text": "I mean, this is sort of\na circuit model already. But what I have is\nessentially one capacitor",
    "start": "1710630",
    "end": "1718880"
  },
  {
    "text": "that's tied to ground. I have the capacitance\nbetween pink and green,",
    "start": "1718880",
    "end": "1724940"
  },
  {
    "text": "and I'm grounding green. And then I have the capacitance\nbetween green and yellow.",
    "start": "1724940",
    "end": "1733520"
  },
  {
    "text": "So here's my other capacitance,\nthat goes to my sensitive node. ",
    "start": "1733520",
    "end": "1739340"
  },
  {
    "text": "And here's now the voltage I'm\ninducing on the sensitive node. What voltage would I be\ninducing due to this square wave",
    "start": "1739340",
    "end": "1745280"
  },
  {
    "text": "in this case? ",
    "start": "1745280",
    "end": "1750700"
  },
  {
    "text": "Am I going to see a voltage\nover here in this circuit?  No, right?",
    "start": "1750700",
    "end": "1756360"
  },
  {
    "text": "I mean, he's got a grounded\ncapacitor over here. So, essentially,\nthis piece of metal",
    "start": "1756360",
    "end": "1762530"
  },
  {
    "text": "acts as an electrostatic shield. If it was all the way around,\nyou'd call it a Faraday cage.",
    "start": "1762530",
    "end": "1768470"
  },
  {
    "text": "But it prevents this noisy\nsignal from injecting onto this. Well, how would I do that?",
    "start": "1768470",
    "end": "1773940"
  },
  {
    "text": "One way to do that is maybe\nI put this switching node on one side of my circuit board.",
    "start": "1773940",
    "end": "1779590"
  },
  {
    "text": "I have a ground plane\nin between them, and I put my control circuitry\non the other side of the circuit",
    "start": "1779590",
    "end": "1784610"
  },
  {
    "text": "board that's sort of shielded or\nhidden from the high switching node.",
    "start": "1784610",
    "end": "1789670"
  },
  {
    "text": "That makes sense to everybody? Now you can't always do that. What else could you do?",
    "start": "1789670",
    "end": "1795730"
  },
  {
    "text": "If you have really\nsensitive stuff-- so suppose I had\na radio receiver right next to my\nswitching node circuit.",
    "start": "1795730",
    "end": "1803655"
  },
  {
    "text": "Is that a good thing? No, but some days you\ndon't get a choice, right? You can actually buy, for a\nprinted circuit board mount,",
    "start": "1803655",
    "end": "1811810"
  },
  {
    "text": "little shielding cans. So basically it's\nlike it'll be-- it'll run around on the circuit\nboard and provide a side edge,",
    "start": "1811810",
    "end": "1818310"
  },
  {
    "text": "and then put a little cap on it. And you can put your whole--\nyour radio receiver or whatever, very sensitive noise,\nnoise-sensitive element inside",
    "start": "1818310",
    "end": "1825440"
  },
  {
    "text": "of there. So actually, if you take apart\na Wi-Fi router or something like that, you'll often see\nthese little kind of metal boxes",
    "start": "1825440",
    "end": "1833100"
  },
  {
    "text": "at the top will pop off,\nand some of the RF stuff will be in there. That's both to keep\nthe RF noise in",
    "start": "1833100",
    "end": "1838559"
  },
  {
    "text": "and to keep the\nexternal stuff out. But you could do that with\nyour control circuitry too, if you had to.",
    "start": "1838560",
    "end": "1843760"
  },
  {
    "text": "But mostly what do you do? You try to be smart by\nnot putting it close, or maybe putting it on the\nother side of the circuit board,",
    "start": "1843760",
    "end": "1849420"
  },
  {
    "text": "and getting yourself an\nelectrostatic shield in there.  Questions about that?",
    "start": "1849420",
    "end": "1855335"
  },
  {
    "start": "1855335",
    "end": "1862890"
  },
  {
    "text": "I should give you\na little warning.",
    "start": "1862890",
    "end": "1868320"
  },
  {
    "text": "When I did this approximation,\nand hopefully get the right actual\nequation here, to get",
    "start": "1868320",
    "end": "1874350"
  },
  {
    "text": "the inductance and the\ncapacitance, in both cases, I was neglecting\nfringing fields.",
    "start": "1874350",
    "end": "1880240"
  },
  {
    "text": "So when does this inductance\nequation really work well? It works well when you have to\nreally kind of wide conductors",
    "start": "1880240",
    "end": "1889320"
  },
  {
    "text": "put close together. So maybe I send my\ngate drive signal out and I return it\nright underneath. That becomes a pretty good\napproximation to the loop",
    "start": "1889320",
    "end": "1897090"
  },
  {
    "text": "inductance you're going to get. Or in a capacitance, if I\nhave two pieces of metal that are of the same size, and\nthey're really close together,",
    "start": "1897090",
    "end": "1903600"
  },
  {
    "text": "that's a pretty\ngood approximation. When I start to pull\nthem apart, what happens? Well, in the capacitance case,\nfor example, this approximation",
    "start": "1903600",
    "end": "1918809"
  },
  {
    "text": "is really just capturing\nthe fields that are directly between these plates. That's how you get\nto this equation.",
    "start": "1918810",
    "end": "1925830"
  },
  {
    "text": "Once you start to have\nsignificant fringing fields, the distance between\nthe plates is long",
    "start": "1925830",
    "end": "1933450"
  },
  {
    "text": "compared to the areas or the\nlengths on the other dimensions of the plate, then\nthese fringing fields",
    "start": "1933450",
    "end": "1940350"
  },
  {
    "text": "start to become important. So you can't necessarily think\nof, oh, jeez, my capacitance",
    "start": "1940350",
    "end": "1948150"
  },
  {
    "text": "is going to go\nexactly as the inverse of the distance between whatever\nthings I'm going to have.",
    "start": "1948150",
    "end": "1953500"
  },
  {
    "text": "That's true when they're really\nclose together, but less true as you start to\npull them far apart.",
    "start": "1953500",
    "end": "1959040"
  },
  {
    "text": "So a classic analysis you\nmight look at is like this.",
    "start": "1959040",
    "end": "1964890"
  },
  {
    "text": "Suppose I took a\nsphere of radius r0.",
    "start": "1964890",
    "end": "1971690"
  },
  {
    "text": "And I'm going to put a\nlittle charge on that sphere, plus Q. Total net\ncharge on the sphere.",
    "start": "1971690",
    "end": "1981680"
  },
  {
    "text": "And let me make the other plate\nof my capacitor a sphere that's around it at some\nbig R. That itself",
    "start": "1981680",
    "end": "1993560"
  },
  {
    "text": "forms a capacitance, where I\nhave electric fields that are-- I'm going to have mirror charges\ndistributed on my outer plate,",
    "start": "1993560",
    "end": "2004809"
  },
  {
    "text": "on my outer sphere,\nand I'm going to have electric field pointing\noutward here like this.",
    "start": "2004810",
    "end": "2011650"
  },
  {
    "text": "Does that make\nsense to everybody, the picture I'm drawing? I've got an inner sphere\nand an outer sphere.",
    "start": "2011650",
    "end": "2016720"
  },
  {
    "text": "And I want to calculate the\ncapacitance between them. And why am I doing spheres? Because I'm lazy and\nthe math is easy.",
    "start": "2016720",
    "end": "2023290"
  },
  {
    "text": "So think of whatever you got\nas being a little sphere. But here's what I'm going to do. Let me make the outer\nsphere go off to infinity.",
    "start": "2023290",
    "end": "2031510"
  },
  {
    "text": "So I can say, what\nis the capacitance of this little sphere of metal\nto the rest of the universe?",
    "start": "2031510",
    "end": "2040090"
  },
  {
    "text": "Well, what is that? Well, we can calculate that. ",
    "start": "2040090",
    "end": "2045460"
  },
  {
    "text": "If I take the integral\nof epsilon 0 A over-- ",
    "start": "2045460",
    "end": "2051899"
  },
  {
    "text": "the integral of\nepsilon E dot dA is equal to the net\ncharge I'm enclosing.",
    "start": "2051900",
    "end": "2058690"
  },
  {
    "text": " So if I then figured\nthis out, suppose",
    "start": "2058690",
    "end": "2064870"
  },
  {
    "text": "I took a sphere around my\ninner sphere, and I said, what's the radial\nelectric field?",
    "start": "2064870",
    "end": "2071570"
  },
  {
    "text": "What is the E sub r, the radial\nelectric field, going to be? What is this electric field\ngoing to be at some distance r",
    "start": "2071570",
    "end": "2080379"
  },
  {
    "text": "from the center? That's going to be\nequal to E sub r",
    "start": "2080380",
    "end": "2086530"
  },
  {
    "text": "is just going to be equal\nto Q over epsilon times the area, which\nis 4 pi r squared.",
    "start": "2086530",
    "end": "2095940"
  },
  {
    "text": " What's the voltage that's going\nto be between the outer sphere",
    "start": "2095940",
    "end": "2105970"
  },
  {
    "text": "and the inner sphere? Well, the voltage is going to be\nequal to minus the integral of E",
    "start": "2105970",
    "end": "2113589"
  },
  {
    "text": "sub r dr. Or I could write\nthat, just to be easy, as",
    "start": "2113590",
    "end": "2119950"
  },
  {
    "text": "infinity to r naught-- the integral from infinity\nout to the surface",
    "start": "2119950",
    "end": "2125110"
  },
  {
    "text": "of my little piece of metal\nthat's got charge on it, of Q",
    "start": "2125110",
    "end": "2131950"
  },
  {
    "text": "over epsilon times 4\npi r squared, which",
    "start": "2131950",
    "end": "2136990"
  },
  {
    "text": "is just going to be equal to Q\ndivided by epsilon over 4 pi r.",
    "start": "2136990",
    "end": "2147310"
  },
  {
    "text": "And that means that\nQ, if I write this, Q is just going to be equal to\nV times epsilon times 4 pi r--",
    "start": "2147310",
    "end": "2159670"
  },
  {
    "text": "r0. It's the radius of\nthis little sphere, r0. But we know that\nQ is equal to CV.",
    "start": "2159670",
    "end": "2167890"
  },
  {
    "text": " So this must be the capacitance. ",
    "start": "2167890",
    "end": "2180520"
  },
  {
    "text": "So I'm kind of taking the other\ncase, where all of my field is fringing field\nout to the universe.",
    "start": "2180520",
    "end": "2188910"
  },
  {
    "text": "And in this case, the\ncapacitance to the universe, from some little sphere of metal\nthat I've got sitting here,",
    "start": "2188910",
    "end": "2195950"
  },
  {
    "text": "is exactly the dielectric, which\npresumably, if it's free space, is epsilon 0 times 4 pi times\nthe radius of the sphere.",
    "start": "2195950",
    "end": "2204120"
  },
  {
    "text": "So it's related to the square\nroot of the area of the sphere. If I increase the\narea of this thing,",
    "start": "2204120",
    "end": "2211819"
  },
  {
    "text": "the capacitance to\nthe universe is not 0, even though the universe\nis infinitely far away.",
    "start": "2211820",
    "end": "2217310"
  },
  {
    "text": "It's some finite amount related\nto the area or the radius of the thing I've got.",
    "start": "2217310",
    "end": "2223940"
  },
  {
    "text": "So that's like-- this is\nbasically a long way of saying, when I make things\nspaced far apart,",
    "start": "2223940",
    "end": "2229310"
  },
  {
    "text": "fringing becomes\nvery, very important, and I can get\nnon-0 capacitances,",
    "start": "2229310",
    "end": "2235730"
  },
  {
    "text": "or significant capacitances. And in that light, the\nonly way you can really",
    "start": "2235730",
    "end": "2240829"
  },
  {
    "text": "make that capacitance smaller is\nto basically make r not smaller, or basically make\nthe area of the thing",
    "start": "2240830",
    "end": "2247580"
  },
  {
    "text": "that you're worried about\nspraying field out smaller, so its capacitance to other\nstuff will be smaller.",
    "start": "2247580",
    "end": "2254605"
  },
  {
    "text": " Questions about that? ",
    "start": "2254605",
    "end": "2263490"
  },
  {
    "text": "So this is just a case\nwhere Physics 101 leads you",
    "start": "2263490",
    "end": "2270300"
  },
  {
    "text": "to some conclusions\nabout how you should lay your circuits\nout, which comes back to make your loops very tight.",
    "start": "2270300",
    "end": "2282270"
  },
  {
    "text": "And I could make this-- I could have done the same\nanalysis for finding inductances of loops and so forth.",
    "start": "2282270",
    "end": "2288329"
  },
  {
    "text": "You make your loop tight. You spread the area-- you spread the current out\nto get the inductance low,",
    "start": "2288330",
    "end": "2295490"
  },
  {
    "text": "and make the loop very tight. Don't use excess loop.",
    "start": "2295490",
    "end": "2300890"
  },
  {
    "text": "Don't use excess\ntrace area, especially at this loop and this node.",
    "start": "2300890",
    "end": "2306475"
  },
  {
    "text": " If you're going to go\nanalyze a juke converter",
    "start": "2306475",
    "end": "2312540"
  },
  {
    "text": "or some other kind of converter,\nwhich loop you care about is different. Which nodes you care\nabout are different.",
    "start": "2312540",
    "end": "2319619"
  },
  {
    "text": "But they're usually the ones\nwith the square-wave currents in them and the square-wave\nvoltages on them,",
    "start": "2319620",
    "end": "2325260"
  },
  {
    "text": "or the high dv/dt or\ndi/dt elements on them. And small changes can\nmake a big difference.",
    "start": "2325260",
    "end": "2333470"
  },
  {
    "text": "Questions about any of that? ",
    "start": "2333470",
    "end": "2340829"
  },
  {
    "text": "Let me just talk about\na couple of other things that I've glossed over,\nor just not-- it's not",
    "start": "2340830",
    "end": "2345972"
  },
  {
    "text": "that I've glossed over. I've just not\nworried about them. And these, again, are\npractical implementation issues",
    "start": "2345972",
    "end": "2353040"
  },
  {
    "text": "which are important,\nbut you've got to worry about them\nafter you worry about the rest of your system.",
    "start": "2353040",
    "end": "2361060"
  },
  {
    "text": "Let's think about driving the\ngates of our converters, gates",
    "start": "2361060",
    "end": "2367360"
  },
  {
    "text": "of our transistors. So if I think about my MOSFET-- so suppose, I\ndon't know, suppose",
    "start": "2367360",
    "end": "2373480"
  },
  {
    "text": "I make a boost\nconverter, for example. So I've been talking\nabout buck converters. Now I'll talk about\nboost converters.",
    "start": "2373480",
    "end": "2379702"
  },
  {
    "text": "I'm going to have\nsome circuit here,",
    "start": "2379702",
    "end": "2385510"
  },
  {
    "text": "and I'm going to drive him. And usually what's\ngoing to be here is there's going to\nbe some circuit which",
    "start": "2385510",
    "end": "2391270"
  },
  {
    "text": "is making switching decisions. It's powered from some\nlow-voltage supply.",
    "start": "2391270",
    "end": "2396400"
  },
  {
    "text": "And it's got some\ninput that's telling me when to switch this transistor. ",
    "start": "2396400",
    "end": "2405214"
  },
  {
    "text": "What is the input of that\ntransistor look like? Well, you know,\nthis thing in him,",
    "start": "2405215",
    "end": "2410580"
  },
  {
    "text": "the last thing between\nme and my switch, is some of gate driver,\nwhich is going to be",
    "start": "2410580",
    "end": "2416430"
  },
  {
    "text": "powered from some voltage. And he's got some\nsignal coming in.",
    "start": "2416430",
    "end": "2421589"
  },
  {
    "text": "And he's going to try to turn\nthis transistor on and off. So if I thought about\nmy transistor, here",
    "start": "2421590",
    "end": "2432540"
  },
  {
    "text": "I'm going to drive this with\nsome square-wave voltage. And I need to remember that\nthis transistor is going",
    "start": "2432540",
    "end": "2440910"
  },
  {
    "text": "to have some\ngate-source capacitance, he's going to have some\ndrain-source capacitance,",
    "start": "2440910",
    "end": "2449130"
  },
  {
    "text": "but he's also, importantly,\ngoing to have some gate to drain capacitance. ",
    "start": "2449130",
    "end": "2456985"
  },
  {
    "text": "And this gate to drain\ncapacitance actually has a significant influence,\nespecially in the case",
    "start": "2456985",
    "end": "2463310"
  },
  {
    "text": "when, suppose I'm\ndriving this between 0 and 10 volts or something, or\n0 and 5 volts if it's a lower,",
    "start": "2463310",
    "end": "2472590"
  },
  {
    "text": "a logic-level kind of device. All right? But maybe this drain node is\nswitching by hundreds of volts.",
    "start": "2472590",
    "end": "2479490"
  },
  {
    "text": "So this capacitance is the\nso-called Miller feedback capacitance-- this\nguy right here.",
    "start": "2479490",
    "end": "2485480"
  },
  {
    "text": "Can have a big impact on the\nswitching characteristics here. ",
    "start": "2485480",
    "end": "2493150"
  },
  {
    "text": "Because what happens? If I look at the charge\nI'm sourcing in here,",
    "start": "2493150",
    "end": "2498730"
  },
  {
    "text": "and the voltage Vgs I'm getting. And this voltage, if this\nis a N-channel MOSFET,",
    "start": "2498730",
    "end": "2504430"
  },
  {
    "text": "it's this voltage that--\nthis Vgs voltage is what's controlling how he switches on.",
    "start": "2504430",
    "end": "2510279"
  },
  {
    "text": "If I looked at Vgs\nversus Q sub g,",
    "start": "2510280",
    "end": "2520100"
  },
  {
    "text": "the gate charge I'm putting\nin, what would happen? When this thing is off,\nBefore he turns on,",
    "start": "2520100",
    "end": "2527840"
  },
  {
    "text": "I'm going to start\ncharging the gate. And this is the capacitance\nmy gate driver is driving.",
    "start": "2527840",
    "end": "2536150"
  },
  {
    "text": "dQ is C dV. All right? But what happens at some\npoint is when Vgs gets bigger",
    "start": "2536150",
    "end": "2543890"
  },
  {
    "text": "than the threshold\nvoltage, I'm going to start turning on this FET.",
    "start": "2543890",
    "end": "2549770"
  },
  {
    "text": "And what does that happen? This voltage, which was\nup at some high voltage-- this was the output voltage--\nmaybe that's 200 volts--",
    "start": "2549770",
    "end": "2555850"
  },
  {
    "text": "starts to swing down. And when it starts\nto swing down, I need to feed charge\nin from the gate",
    "start": "2555850",
    "end": "2563180"
  },
  {
    "text": "to discharge this capacitor.",
    "start": "2563180",
    "end": "2568495"
  },
  {
    "text": "And what that means is\nI'm going to be trying-- I'm going to be\npumping charge in here.",
    "start": "2568496",
    "end": "2574339"
  },
  {
    "text": "But the gate voltage isn't going\nto be going up appreciably. He's just going to sit flat. And all the charge\nI'm pumping in here",
    "start": "2574340",
    "end": "2580850"
  },
  {
    "text": "is basically going to\ndrive the drain down.",
    "start": "2580850",
    "end": "2586650"
  },
  {
    "text": "So this capacitor\nbasically suddenly makes the equivalent capacitance I'm\ndriving at my gate very large.",
    "start": "2586650",
    "end": "2593340"
  },
  {
    "text": "Eventually, once I've\npumped enough in, this node comes down\nto close to ground, this voltage ceases changing,\nand then this goes up like this.",
    "start": "2593340",
    "end": "2602010"
  },
  {
    "text": "So this happens somewhere near\nVth, the threshold voltage of the FET.",
    "start": "2602010",
    "end": "2608713"
  },
  {
    "text": "Does that make\nsense to everybody?  Why am I pointing this out?",
    "start": "2608713",
    "end": "2615090"
  },
  {
    "text": "Well, two reasons. Firstly, when I think\nabout the amount of charge",
    "start": "2615090",
    "end": "2622960"
  },
  {
    "text": "I need to put in, maybe this\nis my threshold voltage. I don't know, whatever that is.",
    "start": "2622960",
    "end": "2629080"
  },
  {
    "text": "Maybe this is 10 volts and\nthis is 50 nanocoulombs.",
    "start": "2629080",
    "end": "2634630"
  },
  {
    "text": "So what I care about is I need\nto source this total charge",
    "start": "2634630",
    "end": "2641650"
  },
  {
    "text": "to get to 10 volts. And if I only paid attention\nto what this capacitance was,",
    "start": "2641650",
    "end": "2647470"
  },
  {
    "text": "I wouldn't really calculate\nthe total charge I needed. And how much energy--",
    "start": "2647470",
    "end": "2653380"
  },
  {
    "text": "how much do I lose from this\ngate-drive power supply? Well, we talked\nabout this when we",
    "start": "2653380",
    "end": "2658450"
  },
  {
    "text": "talked about switched\ncapacitor converters. If I'm supplying, here's\nsome value Q sub G total,",
    "start": "2658450",
    "end": "2666560"
  },
  {
    "text": "that supply is always\ncoming from this gate-drive power-supply voltage--",
    "start": "2666560",
    "end": "2672220"
  },
  {
    "text": "10 volts or something. So the amount of energy that\ncomes in to charge up this gate",
    "start": "2672220",
    "end": "2677470"
  },
  {
    "text": "is going to be equal to QG\ntimes Vgs max, or V supply,",
    "start": "2677470",
    "end": "2687790"
  },
  {
    "text": "where this is my gate-drive\npower supply, V supply. If I wanted the\npower dissipation,",
    "start": "2687790",
    "end": "2694359"
  },
  {
    "text": "that's how much I lose. Some of that energy goes\nto charging the gate. Some of it goes--",
    "start": "2694360",
    "end": "2700300"
  },
  {
    "text": "it gets dissipated in\nthe resistors here. We talked about that\nwhen we talked about",
    "start": "2700300",
    "end": "2705769"
  },
  {
    "text": "switch capacitor supplies. But then in the\nend, what happens is I dump all that\nenergy anyways when I turn the switch off.",
    "start": "2705770",
    "end": "2712220"
  },
  {
    "text": "And so each cycle I'm going to\nlose QG times V supply, where my power is going to be QG\nV supply times the switching",
    "start": "2712220",
    "end": "2719660"
  },
  {
    "text": "frequency. Does that make\nsense to everybody? ",
    "start": "2719660",
    "end": "2728430"
  },
  {
    "text": "So P gate might be equal to Q\nsub G V supply times F switch--",
    "start": "2728430",
    "end": "2739359"
  },
  {
    "text": "the number of times\nI'm turning on and off the switch per second. Notice that it has\nnothing to do with the--",
    "start": "2739360",
    "end": "2744840"
  },
  {
    "text": "necessarily with the gate\ndrive internal resistances for the same reasons we talked\nabout when we talked about",
    "start": "2744840",
    "end": "2751900"
  },
  {
    "text": "switch capacitor converters. Any questions about that? ",
    "start": "2751900",
    "end": "2759510"
  },
  {
    "text": "So let's think about-- so that's one thing I want\nyou to pay attention about is you got to really look\nat these threshold curves",
    "start": "2759510",
    "end": "2766440"
  },
  {
    "text": "to get your total loss. There's another\nthing you might want to think about when you think\nabout the driver itself,",
    "start": "2766440",
    "end": "2773220"
  },
  {
    "text": "and that's the following. What would this driver,\nthis guy, look like inside?",
    "start": "2773220",
    "end": "2780490"
  },
  {
    "text": "Inside this driver, you\nmight model as one MOSFET",
    "start": "2780490",
    "end": "2788670"
  },
  {
    "text": "and another MOSFET.  And then he's connected to the\ngate that he's going to drive.",
    "start": "2788670",
    "end": "2797020"
  },
  {
    "text": "So I'm going to either\nturn on the top. So this is my gate driver. I'm going to turn\non-- this is V supply.",
    "start": "2797020",
    "end": "2805260"
  },
  {
    "text": "So I'm going to turn\non the top switch, and he's going to\ncharge the gate, and then I'm going to\nturn on the bottom switch",
    "start": "2805260",
    "end": "2811560"
  },
  {
    "text": "and he's going to discharge\nthe gate and turn it off. Does that make\nsense to everybody? ",
    "start": "2811560",
    "end": "2818020"
  },
  {
    "text": "Let's think about-- and\nby the way, sometimes--",
    "start": "2818020",
    "end": "2823060"
  },
  {
    "text": "let me just think about this. I'm going to simplify this\nas just being a capacitance, a simple linear capacitance. But what we know\nis it's anything",
    "start": "2823060",
    "end": "2830020"
  },
  {
    "text": "but a simple linear capacitance. Maybe I'm thinking about\nthis equivalent capacitance",
    "start": "2830020",
    "end": "2835030"
  },
  {
    "text": "now for simplicity, this\nchordal capacitance. ",
    "start": "2835030",
    "end": "2842180"
  },
  {
    "text": "Let's think about charging\nthis up and discharging it. ",
    "start": "2842180",
    "end": "2848260"
  },
  {
    "text": "If I turn on, one\nof my tendencies",
    "start": "2848260",
    "end": "2853360"
  },
  {
    "text": "might be to turn this\non as fast as possible.",
    "start": "2853360",
    "end": "2858380"
  },
  {
    "text": "But maybe-- let me just imagine\nI have some resistance here. Sometimes I have\nresistance in the driver,",
    "start": "2858380",
    "end": "2865450"
  },
  {
    "text": "sometimes I have\nresistance in the gate, and sometimes I actually\nadd external resistor. Why would I add\nexternal resistor?",
    "start": "2865450",
    "end": "2872800"
  },
  {
    "text": "We talked about EMI before. When I turn this\ntransistor on, I",
    "start": "2872800",
    "end": "2878500"
  },
  {
    "text": "am discharging this capacitance. So I have some\ncapacitance here, and I'm",
    "start": "2878500",
    "end": "2883930"
  },
  {
    "text": "discharging it into the switch. Capacitance on my diode. I'm discharging it, or I'm\ncharging it into the switch.",
    "start": "2883930",
    "end": "2890540"
  },
  {
    "text": "That causes a huge\npulse of current in this loop which could cause a\nlot of noise if it rings a lot.",
    "start": "2890540",
    "end": "2899346"
  },
  {
    "text": "And yet, the amount I lose, at\nleast in the capacitive portion, doesn't depend on how\nfast I turn it on, right?",
    "start": "2899346",
    "end": "2906740"
  },
  {
    "text": "So at some level,\nmaybe I'm motivated to turn on my switch somewhat\nslowly so that I don't discharge",
    "start": "2906740",
    "end": "2916600"
  },
  {
    "text": "this capacitance really, really\nfast and cause a lot of noise. So a lot of the\ntime, we actually",
    "start": "2916600",
    "end": "2922839"
  },
  {
    "text": "put additional\nresistance in here to slow up how fast\nI turn on the device.",
    "start": "2922840",
    "end": "2931450"
  },
  {
    "text": "And some gate drivers will\ntell you what that is. Sometimes you put in a\ndiscrete resistor to do that.",
    "start": "2931450",
    "end": "2939640"
  },
  {
    "text": "What about turning\noff the device? When I turn off the\ndevice, well, he was on,",
    "start": "2939640",
    "end": "2946700"
  },
  {
    "text": "so this already has 0 voltage. When I turn them\noff, this device isn't going to\nturn on instantly.",
    "start": "2946700",
    "end": "2952079"
  },
  {
    "text": "It's not going to turn on\nuntil the inductor charges up this capacitance again. So in some sense,\nthis capacitance,",
    "start": "2952080",
    "end": "2958040"
  },
  {
    "text": "it hurt me when I turned it on,\nbut now that I'm turning him off, he's actually acting like\na little bit like a snubber",
    "start": "2958040",
    "end": "2963560"
  },
  {
    "text": "and slowing down the rate\nof rise of this thing. But the longer I take to turn\nhim off, the more overlap I get.",
    "start": "2963560",
    "end": "2974420"
  },
  {
    "text": "If the longer his current\ntakes to fall, the more voltage I'm building up across this\ntransistor and dissipating them.",
    "start": "2974420",
    "end": "2983000"
  },
  {
    "text": "So it doesn't cost me anything\nto turn them off fast, whereas it cost me\nsomething to turn them",
    "start": "2983000",
    "end": "2989059"
  },
  {
    "text": "on fast, in terms of noise. So very often we would like\nto turn on the transistor",
    "start": "2989060",
    "end": "2995810"
  },
  {
    "text": "somewhat slowly, and turn\nthem off really fast.",
    "start": "2995810",
    "end": "3001352"
  },
  {
    "text": "So you don't want-- this resistor, if I load\nit all onto this resistor,",
    "start": "3001352",
    "end": "3006970"
  },
  {
    "text": "I don't want this\nresistor to be the same for turning on and turning off. And what you'll see in a lot of\ndrivers is that what they'll do",
    "start": "3006970",
    "end": "3013599"
  },
  {
    "text": "is, for turn on, this\nresistance, or equivalently the positive sourcing capability\nwill be a bigger resistance.",
    "start": "3013600",
    "end": "3022460"
  },
  {
    "text": "And the resistance\nfor turning off will be a much\nsmaller resistance. So you can turn the\ntransistor off fast,",
    "start": "3022460",
    "end": "3029080"
  },
  {
    "text": "but turn them on\nonly slightly slow. And that will help\nreduce your noise.",
    "start": "3029080",
    "end": "3034630"
  },
  {
    "text": "If you don't like\nwhat that looks like, you can add your own resistor\nthat will slow down the turn on.",
    "start": "3034630",
    "end": "3042460"
  },
  {
    "text": "Maybe you don't want to slow\ndown the turn off as much. So for the turn off,\nmaybe what you do",
    "start": "3042460",
    "end": "3047599"
  },
  {
    "text": "is you put a diode and a smaller\nresistor, or no resistor here. So he charges slowly\nthrough the yellow resistor",
    "start": "3047600",
    "end": "3053630"
  },
  {
    "text": "and he discharges quickly\nthrough the green diode. So you can control rate\nof turn on and turn off",
    "start": "3053630",
    "end": "3060920"
  },
  {
    "text": "to control that switching\nand the noise injection elsewhere in your circuit.",
    "start": "3060920",
    "end": "3066079"
  },
  {
    "text": "And you think about that\nwhen you buy your driver, and how you drive-- you connect\nyour driver to your switch.",
    "start": "3066080",
    "end": "3072055"
  },
  {
    "text": " Questions about that? ",
    "start": "3072055",
    "end": "3078339"
  },
  {
    "text": "So I'm of out of time to\ntalk about these practical implementation issues. This is like, you could\nspend a whole course on this.",
    "start": "3078340",
    "end": "3085780"
  },
  {
    "text": "But at least I\nhope you get a bit of a sense of how you might\ndo some of these things",
    "start": "3085780",
    "end": "3092559"
  },
  {
    "text": "in laying out your circuit. And so at least I've\nattempted this term to take you from what's the\nbasic operation of a switching",
    "start": "3092560",
    "end": "3099730"
  },
  {
    "text": "circuit, how do you\ndesign all the components, how do you control it, how\ndo you deal with the filters,",
    "start": "3099730",
    "end": "3106030"
  },
  {
    "text": "how do you lay it out? And I'm afraid that's\nall we have time for. I wish you the best in finishing\nyour projects, and a really nice",
    "start": "3106030",
    "end": "3112960"
  },
  {
    "text": "summer. So have a great day. [APPLAUSE]",
    "start": "3112960",
    "end": "3118770"
  },
  {
    "start": "3118770",
    "end": "3127000"
  }
]