[
  {
    "text": "[SQUEAKING] [RUSTLING] [CLICKING]",
    "start": "0",
    "end": "7936"
  },
  {
    "text": " DAVID PERREAULT: OK, why\ndon't we get started? So what I wanted\nto do is continue",
    "start": "7936",
    "end": "14840"
  },
  {
    "text": "the discussion of inverters\nthat we started last time. And what I'm going to show you\nis some of expansions on the way",
    "start": "14840",
    "end": "21680"
  },
  {
    "text": "you can think about controlling\nthe inverters to get better performance\nout of the waveforms.",
    "start": "21680",
    "end": "28130"
  },
  {
    "text": "So we introduced the basic\nvoltage source inverter structure, which\nis four switches,",
    "start": "28130",
    "end": "36560"
  },
  {
    "text": "And very typically, we'll\nuse bidirectional-conducting",
    "start": "36560",
    "end": "42150"
  },
  {
    "text": "single-directional blocking\nswitches like MOSFETs. Like this, for example.",
    "start": "42150",
    "end": "47740"
  },
  {
    "start": "47740",
    "end": "57130"
  },
  {
    "text": "And if I want to synthesize\nsome voltage Vx across the load,",
    "start": "57130",
    "end": "63130"
  },
  {
    "text": "if I have switches\nS1, S2, S3, and S4,",
    "start": "63130",
    "end": "70070"
  },
  {
    "text": "if I have the switches\nthat are on the S1 and S2,",
    "start": "70070",
    "end": "77350"
  },
  {
    "text": "I put positive VC\nacross the load. If I put S2 and S3 on, I get 0.",
    "start": "77350",
    "end": "86540"
  },
  {
    "text": "If I have S3, S4, I get\nnegative VDC across the load.",
    "start": "86540",
    "end": "93100"
  },
  {
    "text": "And if I have S4 and\nS1, I get 0 again.",
    "start": "93100",
    "end": "98710"
  },
  {
    "text": "And we showed last\ntime that we can use this to synthesize either\nplus 0 or minus repeatedly",
    "start": "98710",
    "end": "109110"
  },
  {
    "text": "across the load, and then use\nthat to at least, very crudely,",
    "start": "109110",
    "end": "114270"
  },
  {
    "text": "approximate some kind of\nsine wave, for example. And why do I focus\non a sine wave? Very often we want to\nsynthesize something",
    "start": "114270",
    "end": "121140"
  },
  {
    "text": "that if at least if I filter it,\nit will look like a sine wave because, for example, if\nI'm making a UPS inverter,",
    "start": "121140",
    "end": "127290"
  },
  {
    "text": "maybe I would like\nto replicate what the grid does with my inverter. And when I show this as\na load, what is this?",
    "start": "127290",
    "end": "138510"
  },
  {
    "text": "I don't know, it depends\non the application. It could be a motor winding. It could be some\nlow-pass filter,",
    "start": "138510",
    "end": "145860"
  },
  {
    "text": "for example, that's\ngoing to some load. So this could be Vx and this\ncould be V out across the load.",
    "start": "145860",
    "end": "155810"
  },
  {
    "text": " So we said last time\nthat we often think,",
    "start": "155810",
    "end": "164849"
  },
  {
    "text": "especially when we're\nsynthesizing periodic waveforms, we often think in terms\nof the Fourier series",
    "start": "164850",
    "end": "171060"
  },
  {
    "text": "than what we're doing\nto shape the harmonic",
    "start": "171060",
    "end": "176310"
  },
  {
    "text": "content of the waveforms. So we said, OK, one form of the\nFourier series for some signal",
    "start": "176310",
    "end": "182820"
  },
  {
    "text": "f of t is simply equal to b0\nover 2 plus the summation from 1",
    "start": "182820",
    "end": "191340"
  },
  {
    "text": "to infinity of a sub n\nsine of n omega 0 t plus b",
    "start": "191340",
    "end": "200790"
  },
  {
    "text": "sub n cosine of n omega 0 t.",
    "start": "200790",
    "end": "206040"
  },
  {
    "text": "Where if we recall,\nthe sine terms always odd in time, and the cosine\nterms are always even in time.",
    "start": "206040",
    "end": "213520"
  },
  {
    "text": "So if I happen to\nwant an odd waveform, then I should make\nthe pattern f of t--",
    "start": "213520",
    "end": "223080"
  },
  {
    "text": "and that means I want the\npattern of f of t to be odd. That means I will only\nhave the a sub n terms.",
    "start": "223080",
    "end": "232050"
  },
  {
    "text": "And if I want the pattern\nf of t to be even, I only have the b sub n terms. More importantly, we saw that we\ncan often do interesting things",
    "start": "232050",
    "end": "243110"
  },
  {
    "text": "with half-wave symmetry. What does half-wave\nsymmetry mean?",
    "start": "243110",
    "end": "250430"
  },
  {
    "text": "Half-wave symmetric\nwaveform means that f of t is equal to minus f of t minus\nt over 2 where t is the period.",
    "start": "250430",
    "end": "262669"
  },
  {
    "text": "That means if I go back half\nof a cycle in the waveform, the waveform is flipped.",
    "start": "262670",
    "end": "267780"
  },
  {
    "text": "So for example, this\nwaveform is both odd and",
    "start": "267780",
    "end": "273580"
  },
  {
    "text": "half-wave-symmetric. ",
    "start": "273580",
    "end": "281080"
  },
  {
    "text": "Why? Because if I go back-- oh,\nthat's a terrible drawing because this should go further.",
    "start": "281080",
    "end": "287419"
  },
  {
    "text": "But if I go back at\nany point half a cycle, I flip across the axis and\nI get to the same point",
    "start": "287420",
    "end": "293020"
  },
  {
    "text": "on the other side. And the reason I'm interested\nin half-wave symmetry is because if it's\nhalf-wave symmetry,",
    "start": "293020",
    "end": "301090"
  },
  {
    "text": "then the a2K and\nthe b2K terms are 0.",
    "start": "301090",
    "end": "306885"
  },
  {
    "text": " And the reason I'm\ninterested in doing",
    "start": "306885",
    "end": "312010"
  },
  {
    "text": "that is suppose I want to\nsynthesize something that looks like a sine wave, and then I\nwant to put it through a filter,",
    "start": "312010",
    "end": "318860"
  },
  {
    "text": "it's very hard to filter\nout the second harmonic because the second harmonic\nis only a factor of 2",
    "start": "318860",
    "end": "324845"
  },
  {
    "text": "different than the\nfundamental and frequency, and I'm trying to use\nperhaps a low-pass filter,",
    "start": "324845",
    "end": "329960"
  },
  {
    "text": "it just gets hard\nto attenuate that. If I can get rid of the\nsecond harmonic specifically,",
    "start": "329960",
    "end": "336300"
  },
  {
    "text": "I can make my filtering easier. And if I can get rid of the--\nif I make it halfway symmetric, I get rid of the second,\nfourth, sixth, et cetera,",
    "start": "336300",
    "end": "342699"
  },
  {
    "text": "and I really reduce\nthe amount of stuff I have to worry about filtering. So I can get much purer output\nwaveforms by doing that.",
    "start": "342700",
    "end": "350470"
  },
  {
    "text": "So if we're going to synthesize\nsome pattern for my inverter to synthesize--",
    "start": "350470",
    "end": "357720"
  },
  {
    "text": "to create-- making it\nhalf-wave-symmetric is significantly\nadvantageous if I don't want any even harmonic\ncomponents in my output.",
    "start": "357720",
    "end": "366000"
  },
  {
    "text": "And what we said was\nthat, if I come back",
    "start": "366000",
    "end": "376570"
  },
  {
    "text": "to this kind of filtering-- ",
    "start": "376570",
    "end": "381920"
  },
  {
    "text": "so if I think of the transfer\nfunction from Vx to Vo--",
    "start": "381920",
    "end": "387330"
  },
  {
    "text": "so magnitude of Vo over\nVx, ideally speaking,",
    "start": "387330",
    "end": "393090"
  },
  {
    "text": "there's going to be some\nkind of low-pass filter where I want to put\nthe fundamental here so it's in the passband, but\n2, 3, 4, 5, 6, et cetera.",
    "start": "393090",
    "end": "405570"
  },
  {
    "text": "I usually only\nwant this component and I would like to\nfilter everything else. We can get rid of these\nby the half-wave symmetry.",
    "start": "405570",
    "end": "412868"
  },
  {
    "text": "And then it's just\na question of what about third and\nfifth and so forth? ",
    "start": "412868",
    "end": "418896"
  },
  {
    "text": "What we saw last time\nwas one more trick. We said I can synthesize\n0 plus and minus.",
    "start": "418896",
    "end": "428190"
  },
  {
    "text": "If I only switch\nonce per cycle, I can create a waveform\nthat looks like this.",
    "start": "428190",
    "end": "434090"
  },
  {
    "start": "434090",
    "end": "448380"
  },
  {
    "text": "So this is pi, this is 2 pi,\nthis is some angle omega t.",
    "start": "448380",
    "end": "455280"
  },
  {
    "text": "If I synthesize an angle, I\nmay have delta, pi minus delta,",
    "start": "455280",
    "end": "461610"
  },
  {
    "text": "pi plus delta, and\n2 pi minus delta.",
    "start": "461610",
    "end": "467490"
  },
  {
    "text": "If I synthesized a waveform\nthat looks something like this",
    "start": "467490",
    "end": "482270"
  },
  {
    "text": "and so forth, that is\nhalf-wave-symmetric. So this is VDC.",
    "start": "482270",
    "end": "488240"
  },
  {
    "text": "This is minus VDC. ",
    "start": "488240",
    "end": "493280"
  },
  {
    "text": "This waveform for Vx\nis half-wave-symmetric.",
    "start": "493280",
    "end": "499910"
  },
  {
    "text": "And the advantage\nI have here is I can have S4, S1; S1,\nS2; S2, S3; and S3, S4;",
    "start": "499910",
    "end": "522860"
  },
  {
    "text": "and then I'm back to S4, S1. I've switched each device\non and off once per cycle,",
    "start": "522860",
    "end": "529550"
  },
  {
    "text": "and hence, I've got the\nlowest switching losses that I might get for\nsynthesizing such a pattern.",
    "start": "529550",
    "end": "537490"
  },
  {
    "text": "So if I care a lot about\nthe loss in switching, which I might if I'm either a\nvery high power where I have",
    "start": "537490",
    "end": "543680"
  },
  {
    "text": "high voltages or very\nhigh frequencies, this is a pretty\nnice pattern to have. And we said my\none control handle",
    "start": "543680",
    "end": "550700"
  },
  {
    "text": "in this pattern, if I use\nit, is this angle delta. And by picking delta,\nwe can do a few things.",
    "start": "550700",
    "end": "560279"
  },
  {
    "text": "One thing we said we could\ndo is if I make delta bigger, the fundamental\ncomponent gets smaller.",
    "start": "560280",
    "end": "565610"
  },
  {
    "text": "And if I make delta smaller-- I'm sorry, if I\nmake delta smaller, the fundamental\ncomponent gets bigger. So I can control the fundamental\nof the output that way.",
    "start": "565610",
    "end": "572930"
  },
  {
    "text": "The other thing we said we could\ndo is control the harmonics. Because we said if\nI do it like this--",
    "start": "572930",
    "end": "579300"
  },
  {
    "text": "so for an odd waveform-- and I'm only picking it to\nbe odd just because it makes",
    "start": "579300",
    "end": "585450"
  },
  {
    "text": "the Fourier series\ndescription simpler, But for an odd waveform, what\nI get is the n-th harmonic",
    "start": "585450",
    "end": "598080"
  },
  {
    "text": "component is simply\ngoing to be equal to-- ",
    "start": "598080",
    "end": "603410"
  },
  {
    "text": "which way did I-- did I do it\nin terms of angle or did I do it in terms of-- I guess I did it--",
    "start": "603410",
    "end": "608779"
  },
  {
    "text": "OK, 2 over T integral\nover the period of Vx",
    "start": "608780",
    "end": "615050"
  },
  {
    "text": "of t sine of n omega t dt. ",
    "start": "615050",
    "end": "623610"
  },
  {
    "text": "By picking delta, I can choose\nat least one of these to mess",
    "start": "623610",
    "end": "629490"
  },
  {
    "text": "with. And so I can calculate the\namplitude of the n-th harmonic",
    "start": "629490",
    "end": "635339"
  },
  {
    "text": "essentially as the\nwaveform times a sine of the right\nfrequency integrated.",
    "start": "635340",
    "end": "641730"
  },
  {
    "text": "And the example I\nshowed you last time is, if I thought about what-- say-- suppose I focused on the\nthird harmonic-- so n is 3,",
    "start": "641730",
    "end": "652139"
  },
  {
    "text": "the third harmonic\nwould look like this. ",
    "start": "652140",
    "end": "657339"
  },
  {
    "text": "Or, I'm sorry, the sine 3\nomega t would look like this. ",
    "start": "657340",
    "end": "668820"
  },
  {
    "text": "And when I picked delta-- this angle delta to be exactly\n30 degrees, or pi over 6--",
    "start": "668820",
    "end": "677410"
  },
  {
    "text": "so this example is\ndelta equals pi over 6. ",
    "start": "677410",
    "end": "683150"
  },
  {
    "text": "We notice that when I look at\nthe intersection between Vx of t, and I multiply it by\nthe pink waveform, which",
    "start": "683150",
    "end": "691579"
  },
  {
    "text": "is sine 3 omega t, basically\nI get this positive area,",
    "start": "691580",
    "end": "698170"
  },
  {
    "text": "and then I get this\nnegative area multiplied by the white waveform.",
    "start": "698170",
    "end": "704389"
  },
  {
    "text": "And when I multiply them\nand integrate them, I get 0. So I can look at this\nwaveform and say, hey,",
    "start": "704390",
    "end": "711420"
  },
  {
    "text": "if I pick that angle\njust right, the overlap with this sine 3 omega\nt gives me just such",
    "start": "711420",
    "end": "719190"
  },
  {
    "text": "that I kill the third harmonic.  And this kind of trick,\nwe're going to see,",
    "start": "719190",
    "end": "727970"
  },
  {
    "text": "we can expand in multiple ways\nto give us higher performance. But before I go on,\nis there any question",
    "start": "727970",
    "end": "734980"
  },
  {
    "text": "about how that\narises or anything up to the present point? That's the quick\nreview of last lecture.",
    "start": "734980",
    "end": "740040"
  },
  {
    "start": "740040",
    "end": "745170"
  },
  {
    "text": "OK. So how might I go about it? Well, the reason I did this-- a principal reason I did\nthis was because I said,",
    "start": "745170",
    "end": "752250"
  },
  {
    "text": "OK, I've gotten rid\nof the even harmonics, but I've still got to worry\nabout 3, 5, 7, et cetera.",
    "start": "752250",
    "end": "760235"
  },
  {
    "text": "If I picked my angle just\nthis way, I would pin 3 to 0.",
    "start": "760235",
    "end": "765990"
  },
  {
    "text": "So that would kill\nthe third harmonic. And that means, since the fourth\nis gone by symmetry, the lowest,",
    "start": "765990",
    "end": "773130"
  },
  {
    "text": "I have to deal with this fifth. Now I'm starting to get\nsome nice space here. And that lets me get much\nmore purer filtered waveforms",
    "start": "773130",
    "end": "782190"
  },
  {
    "text": "at the output compared to\nthis kind of pulsey shape I'm generating.",
    "start": "782190",
    "end": "787570"
  },
  {
    "text": "But what else could I do? Maybe I can play that game\nand get rid of more harmonics",
    "start": "787570",
    "end": "793870"
  },
  {
    "text": "by switching more. So I've only switched each\ndevice once per cycle,",
    "start": "793870",
    "end": "799180"
  },
  {
    "text": "but suppose I'm willing\nto give up on that and switch more times\nper cycle on and off. That means I can\ncreate more times",
    "start": "799180",
    "end": "806570"
  },
  {
    "text": "when I have positive or 0 or\nnegative in any given time.",
    "start": "806570",
    "end": "812300"
  },
  {
    "text": "I would like to do that perhaps\nin a way that helps me get rid of some higher harmonics.",
    "start": "812300",
    "end": "817430"
  },
  {
    "text": "So now that I've gotten\nrid of the third, my lowest are the\nfifth and the seventh. Maybe I could figure out some\nway to get rid of the fifth.",
    "start": "817430",
    "end": "825320"
  },
  {
    "text": "Well, how could I do that? Let's think of a slightly more\nsophisticated pulsing waveform",
    "start": "825320",
    "end": "831800"
  },
  {
    "text": "than the white one. Here's-- let me do this. Suppose I came and I\nsaid, you know what?",
    "start": "831800",
    "end": "838085"
  },
  {
    "text": " If I put a 0 right here--",
    "start": "838085",
    "end": "844019"
  },
  {
    "text": "so let me do the same thing. I will put a positive step here.",
    "start": "844020",
    "end": "850610"
  },
  {
    "text": "But what I'm going to do is I'm\ngoing to look at this point. And if I cut out a little\nbit on each side of this,",
    "start": "850610",
    "end": "858860"
  },
  {
    "text": "I don't change the fact\nthat the third harmonic is gone because\nas long as I make",
    "start": "858860",
    "end": "864470"
  },
  {
    "text": "sure the amount of\npositive in this multiple of the third harmonic balance\nis the amount of negative area",
    "start": "864470",
    "end": "870259"
  },
  {
    "text": "with the third\nharmonic sine wave, I will maintain\n0 third harmonic.",
    "start": "870260",
    "end": "875579"
  },
  {
    "text": "So maybe I could do\nsomething like this. I will create a pulse\nwaveform that does this.",
    "start": "875580",
    "end": "880645"
  },
  {
    "text": " And maybe I'll do that\nagain on this side.",
    "start": "880645",
    "end": "889490"
  },
  {
    "text": "And I could-- and\nI would now want to keep my waveform\nhalf-wave-symmetric,",
    "start": "889490",
    "end": "895830"
  },
  {
    "text": "so I'll do the same thing on\nthe other side and do this. ",
    "start": "895830",
    "end": "904580"
  },
  {
    "text": "All right. Now if I've done\nthis in a right way and I just make this\nsymmetric about 60 degrees,",
    "start": "904580",
    "end": "912589"
  },
  {
    "text": "and I put in some\nother angle-- maybe I'll call that capital\ndelta, capital delta,",
    "start": "912590",
    "end": "919070"
  },
  {
    "text": "I haven't introduced\nany third harmonic again",
    "start": "919070",
    "end": "924320"
  },
  {
    "text": "because the multiple of\nthis pink-colored waveform or orangey-colored waveform\nwith this sine 3 omega",
    "start": "924320",
    "end": "933737"
  },
  {
    "text": "t, the interval of it's\nstill going to be 0, it's still orthogonal. Any questions about that?",
    "start": "933737",
    "end": "939910"
  },
  {
    "text": "What do I do with delta? I can pick that-- what do I\ndo with capital delta here?",
    "start": "939910",
    "end": "945820"
  },
  {
    "text": "Maybe I can pick that so the\nfifth harmonic goes away.",
    "start": "945820",
    "end": "951110"
  },
  {
    "text": "And in fact, I'll show\nyou the one result-- and this is just a\nvery simple example.",
    "start": "951110",
    "end": "956880"
  },
  {
    "text": "This is what you would get. And in this case, I'm going\nto pick this waveform capital delta to be exactly 12 degrees.",
    "start": "956880",
    "end": "965670"
  },
  {
    "text": "And because my artistry\nis not so good, I've decided to\nresort to the board--",
    "start": "965670",
    "end": "971290"
  },
  {
    "text": "I mean to the figure\nfrom the book. But this is the same. You can see this\nis the third-- this",
    "start": "971290",
    "end": "977160"
  },
  {
    "text": "is how I cancel third harmonic. Here's sine 5 omega t. And if I multiply this original\none pulse per half cycle",
    "start": "977160",
    "end": "985680"
  },
  {
    "text": "waveform by sine\n5 omega t, you can see that the\nnegative area doesn't cancel the positive\narea, and hence, I",
    "start": "985680",
    "end": "991140"
  },
  {
    "text": "have some fifth harmonic. But, if I then put in my\nnulls right here, like I said,",
    "start": "991140",
    "end": "999780"
  },
  {
    "text": "centered about 60\ndegrees, it turns out, if I use that capital\ndelta being 12 degrees,",
    "start": "999780",
    "end": "1005030"
  },
  {
    "text": "I can make the negative area\nexactly cancel the positive area and kill the fifth harmonic.",
    "start": "1005030",
    "end": "1010520"
  },
  {
    "text": "So if I use this\nwaveform-- and it's, again, half-wave-symmetric,\nit has three pulses in each half-cycle instead of\none pulse in each half-cycle,",
    "start": "1010520",
    "end": "1017940"
  },
  {
    "text": "I could not only keep the\nthird harmonic killed, but also kill off\nthe fifth, which",
    "start": "1017940",
    "end": "1023018"
  },
  {
    "text": "would then leave the lowest\nharmonic the seventh. ",
    "start": "1023018",
    "end": "1029250"
  },
  {
    "text": "That makes it easier\nfor this filter to kill it, or equivalently,\nfor the same filter, I get more purer sine wave at\nmy actual output over here.",
    "start": "1029250",
    "end": "1037920"
  },
  {
    "text": "Any questions about that?  This kind of trick\nwhere I'm going",
    "start": "1037920",
    "end": "1044849"
  },
  {
    "text": "to introduce new pulses\nin each half-cycle is called harmonic elimination.",
    "start": "1044849",
    "end": "1052080"
  },
  {
    "start": "1052080",
    "end": "1059669"
  },
  {
    "text": "And we can often view it as\nexactly through this method, is how do I synthesize pulses\nthat satisfy this orthogonality",
    "start": "1059670",
    "end": "1068460"
  },
  {
    "text": "with each harmonic?  Now, is this the best I can do?",
    "start": "1068460",
    "end": "1074465"
  },
  {
    "text": "Well, first of all, if I\nsynthesize this waveform, how many times do you think I\nswitch each device per cycle?",
    "start": "1074465",
    "end": "1079855"
  },
  {
    "text": " Without working it out,\nyou can essentially--",
    "start": "1079855",
    "end": "1086552"
  },
  {
    "text": "each time you get a\npulse per half-cycle, you have to add on some\nswitching transitions, so you get higher\nswitching losses.",
    "start": "1086552",
    "end": "1092610"
  },
  {
    "text": "So what I'm really doing is I'm\ntrading switching loss for lower",
    "start": "1092610",
    "end": "1099990"
  },
  {
    "text": "filtered output components. Now, is this as good as I can\ndo to get rid of the fifth?",
    "start": "1099990",
    "end": "1108940"
  },
  {
    "text": "No. It turns out that-- and you can write equations and\nstart solving them to do this.",
    "start": "1108940",
    "end": "1116560"
  },
  {
    "text": "And I've given-- in KPVS chapter\n8, there's two references.",
    "start": "1116560",
    "end": "1121690"
  },
  {
    "text": "There's a classic Patel\nand Hoft reference that introduced\nthis general idea, and then there's a more\nrecent Chasen reference",
    "start": "1121690",
    "end": "1129750"
  },
  {
    "text": "that really goes into detail\nabout the best ways to do this. Is each time you put in\none pulse and a half-cycle,",
    "start": "1129750",
    "end": "1136710"
  },
  {
    "text": "you can ultimately pick\none harmonic to eliminate. And when we talk\nabout one harmonic,",
    "start": "1136710",
    "end": "1142740"
  },
  {
    "text": "we're keeping everything\nhalf-wave-symmetric, so we care about\none odd harmonic.",
    "start": "1142740",
    "end": "1148810"
  },
  {
    "text": "So we're assuming our\nevens are all gone. I only have odds. So I could actually\npick this waveform",
    "start": "1148810",
    "end": "1155049"
  },
  {
    "text": "because I have 2\ndegrees of freedom-- the little delta\nin this example, gamma, I could kill the\nfifth and the second,",
    "start": "1155050",
    "end": "1163660"
  },
  {
    "text": "fifth and the seventh, or\nthe third and the fifth, but only have two\npulses and a half-cycle, and so have fewer switching\ntransitions than I",
    "start": "1163660",
    "end": "1170890"
  },
  {
    "text": "do in this example waveform. And generally, the rule is,\nfor each pulse per half-cycle,",
    "start": "1170890",
    "end": "1176950"
  },
  {
    "text": "I get to pick one odd\nharmonic to eliminate. Any questions about that?",
    "start": "1176950",
    "end": "1185210"
  },
  {
    "text": "AUDIENCE: Is there like a\npractical limit to how high of a harmonic [INAUDIBLE]? DAVID PERREAULT: Yeah, that\nis an excellent question.",
    "start": "1185210",
    "end": "1193310"
  },
  {
    "text": "There is because if I want to\neliminate the 97th harmonic,",
    "start": "1193310",
    "end": "1201680"
  },
  {
    "text": "what that means is I've got to\ncontrol the timing resolution just so that I make that\nmultiple with the 97th harmonic",
    "start": "1201680",
    "end": "1210679"
  },
  {
    "text": "integrate at 0. So the higher the number of\nharmonics I want to eliminate,",
    "start": "1210680",
    "end": "1216080"
  },
  {
    "text": "the more precise the\ntiming requirements become. So you can imagine,\nhow would you do this?",
    "start": "1216080",
    "end": "1222580"
  },
  {
    "text": "You'd have a lookup\ntable that steps along and it says at every time slice,\nwhich switches should be on?",
    "start": "1222580",
    "end": "1228200"
  },
  {
    "text": "And the number of\ntime slices I need to break it up into\naccurately enough",
    "start": "1228200",
    "end": "1233389"
  },
  {
    "text": "to murder those\nlow-frequency harmonics gets worse and worse and worse. The other limit is, eventually I\nswitch so many times that it's--",
    "start": "1233390",
    "end": "1240980"
  },
  {
    "text": "that my switching loss goes\ncrazy and I don't like it. The other thing\nI'll point out is",
    "start": "1240980",
    "end": "1248480"
  },
  {
    "text": "if I took this to its\nlogical conclusion-- so suppose I came\noff and I said, OK,",
    "start": "1248480",
    "end": "1254120"
  },
  {
    "text": "I want to get rid of\na bunch of harmonics. So imagine my pulse\nwaveform looked like this,",
    "start": "1254120",
    "end": "1259250"
  },
  {
    "text": "and I'm just going to-- I'm not going to be\nquantitative now, but maybe I would\nhave something that looked like this, a pulse and\nanother pulse, another pulse.",
    "start": "1259250",
    "end": "1269029"
  },
  {
    "text": "And these are all very\ncontrolled widths. And then I do this. ",
    "start": "1269030",
    "end": "1278630"
  },
  {
    "text": "Something like that. I don't think I have the\nright number of pulses here, but I have something\nthat's shaped to generate",
    "start": "1278630",
    "end": "1285530"
  },
  {
    "text": "a set of pulses that make this,\nat least at low frequencies when I filter it, look\ncloser to a sine wave.",
    "start": "1285530",
    "end": "1292940"
  },
  {
    "text": "Maybe these middle\npulses would tend to be bigger than\nthese edge pulses.",
    "start": "1292940",
    "end": "1298106"
  },
  {
    "text": "And I pick the pulsing\ntimes and positions exactly to give me this\nmagic cancellation.",
    "start": "1298106",
    "end": "1304230"
  },
  {
    "text": "What I am doing, if I think\nabout this in the frequency domain, is I've got my\nfundamental that I want.",
    "start": "1304230",
    "end": "1314299"
  },
  {
    "text": "I've got some filter that's\ngoing to then cut off. And what I'm doing\nby doing this is I'm",
    "start": "1314300",
    "end": "1322490"
  },
  {
    "text": "eliminating a bunch of\nthe low-order harmonics. But you can see that this has a\nbunch of high-frequency content.",
    "start": "1322490",
    "end": "1329413"
  },
  {
    "text": "I'm switching up and down and\nup and down and up and down. That suggests to you there's a\nbunch of high frequency stuff",
    "start": "1329413",
    "end": "1334730"
  },
  {
    "text": "there. So if I look at the original\nwaveform Vx, this waveform--",
    "start": "1334730",
    "end": "1341900"
  },
  {
    "text": "In fact, if I looked at its\ntotal harmonic distortion, it actually is higher.",
    "start": "1341900",
    "end": "1347090"
  },
  {
    "text": "What I'm doing is I'm killing\noff the low-frequency stuff and then I'm really growing\nthe high-frequency stuff.",
    "start": "1347090",
    "end": "1353659"
  },
  {
    "text": "So it's not like my\nwaveform actually has less harmonic content. It actually has\nconsiderably more.",
    "start": "1353660",
    "end": "1360750"
  },
  {
    "text": "And depending upon\nhow you choose to-- what angles you choose to kill\noff your low-order harmonics,",
    "start": "1360750",
    "end": "1368330"
  },
  {
    "text": "you will end up with more or\nless stuff at high frequencies. But undoubtedly, you're going\nto get more high-frequency stuff",
    "start": "1368330",
    "end": "1374450"
  },
  {
    "text": "because you've got a lot\nof switching going on. The thing about that is, is if\nI think about a low-pass filter,",
    "start": "1374450",
    "end": "1382820"
  },
  {
    "text": "it's easy for me to murder the\nhigh frequencies in a cut-off. It's hard for me to eliminate\nstuff that's near cut-off.",
    "start": "1382820",
    "end": "1391590"
  },
  {
    "text": "So I'm making the challenge of\nbasically pushing the frequency content up and keeping the\nstuff that's hard to filter low.",
    "start": "1391590",
    "end": "1402220"
  },
  {
    "text": "So I'm not getting rid of\nhigh-frequency content, I'm actually\nincreasing it, but what",
    "start": "1402220",
    "end": "1408240"
  },
  {
    "text": "I am is getting rid of the\nstuff that's hardest to filter. Any questions about that?",
    "start": "1408240",
    "end": "1413520"
  },
  {
    "text": " OK. So that's one\nstrategy I can use.",
    "start": "1413520",
    "end": "1422120"
  },
  {
    "text": "What else could I do? And actually, in my original\nwaveform here that we showed,",
    "start": "1422120",
    "end": "1429420"
  },
  {
    "text": "we saw a little bit\nof a hint of this. And here's the idea.",
    "start": "1429420",
    "end": "1435210"
  },
  {
    "text": "Suppose I have some\nwaveform x of t",
    "start": "1435210",
    "end": "1442549"
  },
  {
    "text": "that I might express\nas the summation of n",
    "start": "1442550",
    "end": "1451020"
  },
  {
    "text": "equals 1 to infinity x of n sine\nof n omega 0 t plus phi sub n.",
    "start": "1451020",
    "end": "1460440"
  },
  {
    "text": "It has some Fourier series. Then if I had some delayed\nversion of this waveform--",
    "start": "1460440",
    "end": "1467160"
  },
  {
    "text": "let me call this\nx of t minus t1,",
    "start": "1467160",
    "end": "1472380"
  },
  {
    "text": "what would his\ncontent look like? Well, I just go to\nthis expression, I substitute in t minus t1.",
    "start": "1472380",
    "end": "1477840"
  },
  {
    "text": "So I would get, OK, this\nis the summation of n equals 1 to infinity of x sub n\nsine of n omega 0 t minus t1--",
    "start": "1477840",
    "end": "1491950"
  },
  {
    "text": "so I'll say this is n omega 0 t\nminus n omega 0 t1 plus phi n.",
    "start": "1491950",
    "end": "1500760"
  },
  {
    "text": "So if I define some\ndelta phi 1, the phase",
    "start": "1500760",
    "end": "1511220"
  },
  {
    "text": "shift at the\nfundamental associated with this time shift t1, that\nwould simply be omega 0 t1.",
    "start": "1511220",
    "end": "1521780"
  },
  {
    "text": "That is, if I'm\nshifting by a time t1, I'm shifting the fundamental\nby a phase omega 0 t1.",
    "start": "1521780",
    "end": "1534450"
  },
  {
    "text": "What am I shifting\nthe n-th harmonic by? This is the fundamental shift. ",
    "start": "1534450",
    "end": "1545940"
  },
  {
    "text": "The n-th harmonic, delta phi\nn, is equal to n delta phi 1.",
    "start": "1545940",
    "end": "1552870"
  },
  {
    "text": "So this is the n-th\nharmonic phase shift.",
    "start": "1552870",
    "end": "1558650"
  },
  {
    "text": " And so here, you can see,\nbecause the n-th harmonic--",
    "start": "1558650",
    "end": "1567420"
  },
  {
    "text": "this thing-- and maybe I should\nbe careful, define delta phi 1",
    "start": "1567420",
    "end": "1574480"
  },
  {
    "text": "as being minus omega\nt1, and maybe this is minus n omega delta phi 1. So this is delta phi 1--",
    "start": "1574480",
    "end": "1582550"
  },
  {
    "text": "or n delta phi 1 is the amount. I'm shifting the n-th harmonic.",
    "start": "1582550",
    "end": "1588770"
  },
  {
    "text": "Does that makes\nsense to everybody? So why am I telling you this? Suppose I did some\ngame like this--",
    "start": "1588770",
    "end": "1596020"
  },
  {
    "text": "and I would have said that this\nis maybe not the most common way to play this game,\nbut you can actually",
    "start": "1596020",
    "end": "1604030"
  },
  {
    "text": "find people who have\nbuilt converters this way, especially for high power. Suppose I had some\nDC input voltage.",
    "start": "1604030",
    "end": "1610120"
  },
  {
    "text": " And I will build an inverter.",
    "start": "1610120",
    "end": "1615450"
  },
  {
    "start": "1615450",
    "end": "1620740"
  },
  {
    "text": "Here's the first inverter. And I'll give him an\noutput voltage Vx1. ",
    "start": "1620740",
    "end": "1630220"
  },
  {
    "text": "And now let me build a\nsecond inverter for switches.",
    "start": "1630220",
    "end": "1636460"
  },
  {
    "text": " And I'm going to give\nhim an output that's Vx2.",
    "start": "1636460",
    "end": "1644080"
  },
  {
    "text": "And what I'll do is\nI'll transform or couple these two outputs like this. ",
    "start": "1644080",
    "end": "1652570"
  },
  {
    "text": "And let me just imagine, this\nis a one-to-one transformer. And here's another\none-to-one transformer.",
    "start": "1652570",
    "end": "1660260"
  },
  {
    "start": "1660260",
    "end": "1665810"
  },
  {
    "text": "OK. So this is Vx2.  That's a one-to-one transformer.",
    "start": "1665810",
    "end": "1671360"
  },
  {
    "text": "That means that this total Vx\nis simply equal to Vx1 plus Vx2.",
    "start": "1671360",
    "end": "1679520"
  },
  {
    "text": "So I've got a first\ninverter generating a first pattern and\na second inverter",
    "start": "1679520",
    "end": "1685760"
  },
  {
    "text": "generating a second pattern. So what is the harmonic--\nwhat is the content?",
    "start": "1685760",
    "end": "1691660"
  },
  {
    "text": "If I said that--  suppose I say Vx1 is equal to\nthe summation of n equals 1",
    "start": "1691660",
    "end": "1703692"
  },
  {
    "text": "to infinity-- let's\nassume I'm just doing odd waveforms of V sub n\nsine n omega 0 t plus phi sub n.",
    "start": "1703692",
    "end": "1714840"
  },
  {
    "text": " That means that Vx2, if I\nshift by t1, Vx2 is just",
    "start": "1714840",
    "end": "1728220"
  },
  {
    "text": "going to be summation of n\nequals 1 to infinity of V sub n sine n omega 0 t\nplus n delta phi 1",
    "start": "1728220",
    "end": "1740500"
  },
  {
    "text": "plus phi n where delta phi 1\nis just equal to omega 0 t1.",
    "start": "1740500",
    "end": "1748095"
  },
  {
    "text": " All right. So now I have these two\nwaveforms and I add them.",
    "start": "1748095",
    "end": "1754945"
  },
  {
    "text": "So now I'm going\nto get Vx is simply equal to the summation of Vn\ntimes sine of n omega 0 t1--",
    "start": "1754946",
    "end": "1771940"
  },
  {
    "text": "I'm sorry, omega 0 t plus 5 phi\nn plus sine n omega 0 t plus phi",
    "start": "1771940",
    "end": "1779559"
  },
  {
    "text": "n plus delta plus n delta phi 1.",
    "start": "1779560",
    "end": "1788040"
  },
  {
    "text": "All right. Well, what happens if I make--",
    "start": "1788040",
    "end": "1794840"
  },
  {
    "text": "the difference between--\nthe phase difference between this waveform\nand this waveform",
    "start": "1794840",
    "end": "1800990"
  },
  {
    "text": "is precisely n delta phi 1. At each harmonic, I've\ngot a phase shift that's--",
    "start": "1800990",
    "end": "1810810"
  },
  {
    "text": "the n-th harmonic\nhas a phase shift that's n times delta phi 1. Well, what happens when n delta\nphi 1 is pi, or 180 degrees?",
    "start": "1810810",
    "end": "1820336"
  },
  {
    "text": "What's going to happen?  This is going to be\n180 degrees out of this",
    "start": "1820337",
    "end": "1828770"
  },
  {
    "text": "and they're going to cancel. So if I'm clever, if I go\nbuild two waveforms that",
    "start": "1828770",
    "end": "1836500"
  },
  {
    "text": "are shifted in time by just\nthe right magic amount such",
    "start": "1836500",
    "end": "1842100"
  },
  {
    "text": "that when I add them, there are\n180 degrees of-- the harmonic that I care about is 180\ndegrees out of phase,",
    "start": "1842100",
    "end": "1847540"
  },
  {
    "text": "it's going to cancel. This trick is called\nharmonic cancellation.",
    "start": "1847540",
    "end": "1853806"
  },
  {
    "start": "1853806",
    "end": "1864090"
  },
  {
    "text": "Let's go see an example of this. So what I've done\nis let's pretend",
    "start": "1864090",
    "end": "1869250"
  },
  {
    "text": "I've synthesized\nthose two waveforms. And suppose the\ntwo waveforms I've",
    "start": "1869250",
    "end": "1875940"
  },
  {
    "text": "synthesized with each\nof those bridges, each switch is switching\nonce per cycle, so it's got a delta of 30\ndegrees, and I do the first guy.",
    "start": "1875940",
    "end": "1883500"
  },
  {
    "text": "And then I do the\nsecond guy, but I'm shifting him by 36 degrees.",
    "start": "1883500",
    "end": "1889620"
  },
  {
    "text": "I'm offsetting\nhim by 36 degrees. What's 5 times 36? ",
    "start": "1889620",
    "end": "1898190"
  },
  {
    "text": "180. So then when I shift\nthem, then I add them,",
    "start": "1898190",
    "end": "1904285"
  },
  {
    "text": "in the bottom waveform\nyou see the result here. And this waveform--\nactually, that",
    "start": "1904285",
    "end": "1911210"
  },
  {
    "text": "looks a lot more like a\nsine wave, doesn't it? That's because I've\ncancelled the fifth harmonic.",
    "start": "1911210",
    "end": "1918380"
  },
  {
    "text": "In fact, not only have I\ncanceled the fifth harmonic, I've canceled the 10th,\nalthough we didn't have 10th.",
    "start": "1918380",
    "end": "1924130"
  },
  {
    "text": "I've also canceled the 15th, the\n20th, the 25th, and everything. So basically, unlike\nharmonic elimination",
    "start": "1924130",
    "end": "1930470"
  },
  {
    "text": "where I'm playing this game\nby getting something that has no low-frequency\ncontent but has a bunch of high-frequency\nstuff, harmonic cancelation",
    "start": "1930470",
    "end": "1939600"
  },
  {
    "text": "cancels out some\nwaveform you care about plus multiples\nof that, so it looks",
    "start": "1939600",
    "end": "1945390"
  },
  {
    "text": "a lot more like a sine wave. I've now taken each\nof my devices--",
    "start": "1945390",
    "end": "1950865"
  },
  {
    "text": "I've still only switched\nthem once per cycle, I've just got twice\nas many devices that are half the\nsize to process the given amount of power.",
    "start": "1950865",
    "end": "1956790"
  },
  {
    "text": "So I've of paid for this trick\nwith a little bit of complexity. But I get a waveform out that\nis very much closer to pure",
    "start": "1956790",
    "end": "1969540"
  },
  {
    "text": "and much easier to filter\nto get what you want. Any questions about\nthat as a trick?",
    "start": "1969540",
    "end": "1978070"
  },
  {
    "text": "Yeah? AUDIENCE: [INAUDIBLE]\nseems like you'd be really careful about\nwhether we actually end up",
    "start": "1978070",
    "end": "1983170"
  },
  {
    "text": "out of phase with one another. If you're in a\nhigh-power situation where your wires are heating up\na bit, does that change this?",
    "start": "1983170",
    "end": "1990100"
  },
  {
    "text": "Do have to worry about\nthat sort of thing? DAVID PERREAULT: Yeah,\nI wouldn't worry so much about the wires heating\nup, but your broader point",
    "start": "1990100",
    "end": "1997900"
  },
  {
    "text": "is a good one. Just as I'm kind of limited by\ntiming angles with this guy,",
    "start": "1997900",
    "end": "2006420"
  },
  {
    "text": "how much I phase-shifted, if I\ndon't control that very well, if there's delays\nbetween the circuit,",
    "start": "2006420",
    "end": "2013440"
  },
  {
    "text": "depending upon how much absolute\ntime that is, I'm limited--",
    "start": "2013440",
    "end": "2018700"
  },
  {
    "text": "essentially, this harmonic is\nlimited by how accurately I control that t1. So I want to be very good about\nshifting this the right amount.",
    "start": "2018700",
    "end": "2030250"
  },
  {
    "text": "Now, I will say that\nthis kind of trick,",
    "start": "2030250",
    "end": "2036880"
  },
  {
    "text": "I do need some better\nhardware to do it. I can't synthesize this level.",
    "start": "2036880",
    "end": "2043160"
  },
  {
    "text": "This level is sometimes\ncalled a three-level waveform. And you say, well, there's\nnot three levels here,",
    "start": "2043160",
    "end": "2048429"
  },
  {
    "text": "but the way they count it\nis one-half of this waveform is 0 plus VDC over\n2 and plus VDC.",
    "start": "2048429",
    "end": "2055480"
  },
  {
    "text": "One polar side has three levels. So they call that a\nthree-level waveform. With a three-level\nwaveform, I can cancel--",
    "start": "2055480",
    "end": "2062840"
  },
  {
    "text": "I can choose to\ncancel a harmonic. Now, what we'll see\nlater is sometimes",
    "start": "2062840",
    "end": "2068469"
  },
  {
    "text": "I might choose the\nthird, sometimes I might choose the fifth, it\ndepends on what I'm doing. And in fact, even if you come\nback to this original waveform",
    "start": "2068469",
    "end": "2076750"
  },
  {
    "text": "that I drew, this waveform, the\noriginal white waveform that had",
    "start": "2076750",
    "end": "2087690"
  },
  {
    "text": "those 30-degree shifts, what\nI could really view that is",
    "start": "2087690",
    "end": "2093530"
  },
  {
    "text": "one-half of this bridge\ngenerating a square wave and the other half of the\nbridge generating a square wave",
    "start": "2093530",
    "end": "2102170"
  },
  {
    "text": "that's 60 degrees out of phase\nat the fundamental and sends",
    "start": "2102170",
    "end": "2107180"
  },
  {
    "text": "three times-- at three times the frequency\nat the third harmonic-- or six, ninth, 12th, et cetera, it'll\nbe 180 degrees out of phase.",
    "start": "2107180",
    "end": "2115850"
  },
  {
    "text": "So in fact, the pulse\nwaveform, the once-- one pulse-per-cycle\nwaveform that I showed you,",
    "start": "2115850",
    "end": "2121490"
  },
  {
    "text": "you could really view\nit as a cancellation because I have half-bridges\nthat are each generating square waves, and I get\na harmonic cancellation",
    "start": "2121490",
    "end": "2129185"
  },
  {
    "text": "between those square waves,\nkilling the triple n harmonics. ",
    "start": "2129185",
    "end": "2134830"
  },
  {
    "text": "But yes, as I go\nup in frequency, it becomes harder to do. And I need fancier\ncircuitry to cancel",
    "start": "2134830",
    "end": "2142870"
  },
  {
    "text": "lots and lots of harmonics,\nbut sometimes it's worth it. And people-- as\nwe'll see, people actually do quite fancy\ncircuits to help them do that.",
    "start": "2142870",
    "end": "2152830"
  },
  {
    "text": "Other questions? AUDIENCE: In this example,\nthe third harmonic is still",
    "start": "2152830",
    "end": "2158619"
  },
  {
    "text": "cancelled because of the\nshape of the first two? DAVID PERREAULT: Yeah, exactly. That's the beautiful\nthing about this.",
    "start": "2158620",
    "end": "2165710"
  },
  {
    "text": "Is once I've cancelled\nthe waveform, and then I take some\ncancellation and then I add it",
    "start": "2165710",
    "end": "2172010"
  },
  {
    "text": "to some other waveform, I\ncan't introduce new harmonics. I'm just taking some existing\nset of Fourier coefficients.",
    "start": "2172010",
    "end": "2179400"
  },
  {
    "text": "The most that can happen is\nthey add up and stay constant.",
    "start": "2179400",
    "end": "2184880"
  },
  {
    "text": "In other words, if I\ntake half-sized waveforms and add them up, the\nmost I'm going to get is back to the original. Other than that, I'm\njust going to get",
    "start": "2184880",
    "end": "2190760"
  },
  {
    "text": "some degree of cancellation. So I don't introduce new\nfrequencies by doing this trick, I just kill frequencies.",
    "start": "2190760",
    "end": "2197250"
  },
  {
    "text": "So yes. So my original white\nwaveform, because it's harmonic cancelation\nof the half-bridges,",
    "start": "2197250",
    "end": "2205250"
  },
  {
    "text": "I have no triple n harmonics,\nno 3, 6, 9, 12, 15, 18, and so forth. I don't have any evens because\nof the half-wave symmetry.",
    "start": "2205250",
    "end": "2215170"
  },
  {
    "text": "And then if I do this trick, I\nkill off all the 5n harmonics.",
    "start": "2215170",
    "end": "2221079"
  },
  {
    "text": "And you can keep that game up. For a more complicated\ncircuit, I'd kill even more, and the waveform just becomes--",
    "start": "2221080",
    "end": "2227880"
  },
  {
    "text": "it starts to become very small\nsteppy, close to a sine wave, and you get very\nbeautiful waveforms.",
    "start": "2227880",
    "end": "2234590"
  },
  {
    "text": " Yeah? AUDIENCE: Does the 6-degree\ndisplacement matter?",
    "start": "2234590",
    "end": "2242617"
  },
  {
    "text": "DAVID PERREAULT: Does the which? AUDIENCE: Because\nit's a sine wave, but it's displaced by 6 degrees. So-- DAVID PERREAULT: It's a wave--",
    "start": "2242617",
    "end": "2249953"
  },
  {
    "text": "oh, yeah. So actually, if you look\nin the lecture notes, instead of displacing\nit by 36 degrees,",
    "start": "2249954",
    "end": "2255360"
  },
  {
    "text": "I displace one by plus\n18 and one by minus 18. And you get the same cancelation\nand then it stays odd.",
    "start": "2255360",
    "end": "2261910"
  },
  {
    "text": "Yeah. So, yeah, I don't have\nto have 0 plus a delayed. I can have minus half the\ndelay and plus half the delay",
    "start": "2261910",
    "end": "2268109"
  },
  {
    "text": "and it still stays\nas an odd waveform. Excellent question. AUDIENCE: So do you also use\nthis trick to just increase",
    "start": "2268110",
    "end": "2274170"
  },
  {
    "text": "the AC output voltage? DAVID PERREAULT:\nYou could, yeah. So, yeah, what\nwould be what would",
    "start": "2274170",
    "end": "2279330"
  },
  {
    "text": "be another benefit of this? The Vx has twice the amplitude\nof VDC I could synthesize.",
    "start": "2279330",
    "end": "2287880"
  },
  {
    "text": "Another way-- and\nthat's just for this particular implementation,\nwhich is only one way to do it.",
    "start": "2287880",
    "end": "2294000"
  },
  {
    "text": "We will see next\nclass other circuits that their benefit is they--",
    "start": "2294000",
    "end": "2299070"
  },
  {
    "text": "for a given input voltage,\nthey use lower-voltage switches to get the same output. So there's a lot of ways\nyou can take advantage",
    "start": "2299070",
    "end": "2307920"
  },
  {
    "text": "of the complexity you inherit. The downside to this\none is principally that I have transformers that\nare rated for the output--",
    "start": "2307920",
    "end": "2315630"
  },
  {
    "text": "that are rated for the\nfrequency I'm outputting. In some cases I\nmight not like that,",
    "start": "2315630",
    "end": "2320790"
  },
  {
    "text": "but there's other circuits\nthat get around that. Let me point out\nthat this notion--",
    "start": "2320790",
    "end": "2327150"
  },
  {
    "text": "this cancellation notion\nis a very widespread one.",
    "start": "2327150",
    "end": "2332750"
  },
  {
    "text": "It gets used in a lot\nof kinds of circuits. Let me show you\nanother one that maybe",
    "start": "2332750",
    "end": "2338890"
  },
  {
    "text": "is completely different\napplication space,",
    "start": "2338890",
    "end": "2345059"
  },
  {
    "text": "but suppose I had a--",
    "start": "2345060",
    "end": "2351440"
  },
  {
    "text": "suppose I had a buck converter\nthat looked like this.",
    "start": "2351440",
    "end": "2357005"
  },
  {
    "text": " And here's my output capacitor.",
    "start": "2357005",
    "end": "2365080"
  },
  {
    "text": "And here's my load. And maybe this output\ncapacitor is a microprocessor.",
    "start": "2365080",
    "end": "2370779"
  },
  {
    "text": "So maybe this is\nthe 12-volt input, and I'm delivering voltage\nto my microprocessor.",
    "start": "2370780",
    "end": "2376490"
  },
  {
    "text": "This current here\nis a triangle wave.",
    "start": "2376490",
    "end": "2382520"
  },
  {
    "text": "So maybe this current\nlooks something like this. It's got some DC value\nand it's got some ripple",
    "start": "2382520",
    "end": "2399099"
  },
  {
    "text": "at the switching frequency.  Maybe, if I came in\nwith a second unit--",
    "start": "2399100",
    "end": "2408410"
  },
  {
    "text": "and I will build another\nparallel guy here, and I will switch him\nwith some phase shift",
    "start": "2408410",
    "end": "2419830"
  },
  {
    "text": "and he'll have an\noutput current. And maybe I make\nthis output current-- here's T over 2.",
    "start": "2419830",
    "end": "2425235"
  },
  {
    "text": " And here's-- gotta be careful\nhere, here's 3T over 2.",
    "start": "2425235",
    "end": "2433599"
  },
  {
    "text": "Here's 2T. Maybe I will shift this one. So that he starts half\na cycle later like this.",
    "start": "2433600",
    "end": "2442145"
  },
  {
    "start": "2442145",
    "end": "2452320"
  },
  {
    "text": "What total current goes into\nthe output and capacitor? Well, it's the sum of\nthis one and this one.",
    "start": "2452320",
    "end": "2460210"
  },
  {
    "text": "But if I basically make\norange and pink shifted",
    "start": "2460210",
    "end": "2465609"
  },
  {
    "text": "by 180 degrees of\nthe fundamental, that means the fundamental\nripple will cancel.",
    "start": "2465610",
    "end": "2471339"
  },
  {
    "text": "If there's second harmonic\ncomponent in the pink waveform, the second harmonic\nof the orange waveform",
    "start": "2471340",
    "end": "2478119"
  },
  {
    "text": "will be shifted by 360 degrees\nat the second harmonic. So the fundamentals will\ncancel, the second harmonics",
    "start": "2478120",
    "end": "2484360"
  },
  {
    "text": "will reinforce. And the net ripple-- I'm not even going to\ntry to draw it here,",
    "start": "2484360",
    "end": "2489550"
  },
  {
    "text": "but it would basically be-- have a fundamental that was at\ntwice the switching frequency.",
    "start": "2489550",
    "end": "2496680"
  },
  {
    "text": "So I get something that's\nboth smaller amplitude-- and you can show that the\namplitude will be, at most,",
    "start": "2496680",
    "end": "2502859"
  },
  {
    "text": "half-- and twice the\nfrequency, which makes it four times as easy for\nthat capacitor to filter it.",
    "start": "2502860",
    "end": "2511640"
  },
  {
    "text": "So this same kind of trick of\nharmonic cancellation-- here, I'm cancelling the fundamentals\nbecause what I would like is",
    "start": "2511640",
    "end": "2517720"
  },
  {
    "text": "a DC output current. This technique is\ncalled interleaving. ",
    "start": "2517720",
    "end": "2525520"
  },
  {
    "text": "It's very widely used, and\nin fact, most motherboards, if you look at them, they\ndon't have a buck converter",
    "start": "2525520",
    "end": "2531920"
  },
  {
    "text": "or something driving the load. They'll have a whole bunch\nof buck converters lined up, and they phase-shift\nthem all just such",
    "start": "2531920",
    "end": "2538539"
  },
  {
    "text": "that the first n\nharmonics will go away, and the ripple frequency\nwill be much higher",
    "start": "2538540",
    "end": "2543820"
  },
  {
    "text": "than the switching frequency\nof the individual converters. That also means\nthat you can play with response speeds\nof that because one",
    "start": "2543820",
    "end": "2550780"
  },
  {
    "text": "will react much quicker than\nif they were all in phase. If I put these two converters\nin phase, all I would get",
    "start": "2550780",
    "end": "2557890"
  },
  {
    "text": "is twice the ripple\ncurrent at the fundamental. Instead, I get, at most,\nhalf at twice the frequency.",
    "start": "2557890",
    "end": "2563290"
  },
  {
    "text": "And I can play that game out\nto n different converters interleaved. So, this trick of harmonic\ncancellation is really neat.",
    "start": "2563290",
    "end": "2574980"
  },
  {
    "text": "It's widely used. It's used in DC-DC converters. It's also used to kill off\nunwanted harmonics in inverters.",
    "start": "2574980",
    "end": "2581420"
  },
  {
    "text": "Harmonic elimination\nis also used. There's nothing that says you\ncouldn't do the two of those",
    "start": "2581420",
    "end": "2586670"
  },
  {
    "text": "together. You saw that, Instead\nof using that just one pulse per half-cycle, I could\nuse some pulses per half-cycle",
    "start": "2586670",
    "end": "2594289"
  },
  {
    "text": "to get-- eliminate some\nharmonics, use some phase shift, eliminate some more, and\nI can intermix those two",
    "start": "2594290",
    "end": "2600350"
  },
  {
    "text": "and they get very nicely,\neasily-filtered waveforms. Any questions about that?",
    "start": "2600350",
    "end": "2608580"
  },
  {
    "text": "OK. Just to demonstrate\nall this, Rafa has been kind enough\nto set up a demo.",
    "start": "2608580",
    "end": "2614510"
  },
  {
    "text": "So I'll let her show you some\nactual experimental waveforms from an inverter that was\nbuilt by a student who",
    "start": "2614510",
    "end": "2621080"
  },
  {
    "text": "took this class. RAFA ISLAM: OK, so, what are\nwe looking at-- am I too loud?",
    "start": "2621080",
    "end": "2626880"
  },
  {
    "text": "Sorry. What are we looking\nat, at the top is-- guess what?",
    "start": "2626880",
    "end": "2631890"
  },
  {
    "text": "What inverter is it? I s an inverter board\nthat has four switches. And we're probing at\nthe output voltage.",
    "start": "2631890",
    "end": "2640010"
  },
  {
    "text": "So, we had a DC input\nvoltage of 15 volt, and then we're switching it.",
    "start": "2640010",
    "end": "2646190"
  },
  {
    "text": "And as you can see,\nas we saw in class, it uses the three levels,\n0, positive, negative,",
    "start": "2646190",
    "end": "2652970"
  },
  {
    "text": "to create something that\nsomehow resembles a sinusoid. And as you can see, it\nhas half-wave symmetry,",
    "start": "2652970",
    "end": "2661080"
  },
  {
    "text": "so we do not have any a2K,\nb2KR, the even harmonics. So we only have to worry\nabout the odd harmonics.",
    "start": "2661080",
    "end": "2668130"
  },
  {
    "text": "Now let's-- at the\nbottom down here, we are looking at the FFT\nof the voltage waveform.",
    "start": "2668130",
    "end": "2674370"
  },
  {
    "text": "So the voltage magnitudes\nat different harmonics.",
    "start": "2674370",
    "end": "2679710"
  },
  {
    "text": "Now, if I move my cursor, at the\nfirst spike where it happens,",
    "start": "2679710",
    "end": "2688359"
  },
  {
    "text": "it's really hard to see, but\nyou can see on the top-right that it's happening\nat 600 hertz, which",
    "start": "2688360",
    "end": "2695170"
  },
  {
    "text": "means that's our\nswitching frequency, And it's the fundamental. And then, let's see where\nthe next spike happens.",
    "start": "2695170",
    "end": "2705563"
  },
  {
    "text": " The second-highest spike\nhappens at 2.9 kilohertz,",
    "start": "2705563",
    "end": "2713240"
  },
  {
    "text": "which is very close\nto the fifth harmonic. What does that mean? That means we do not\nhave any third harmonic.",
    "start": "2713240",
    "end": "2719820"
  },
  {
    "text": "So we eliminated the third\nharmonic from the circuit. Now, let's do another thing.",
    "start": "2719820",
    "end": "2727359"
  },
  {
    "text": "It's going crazy, but let's see. OK. Now, like we saw in the\nclass, if we introduce pulse--",
    "start": "2727360",
    "end": "2734839"
  },
  {
    "text": "or notches on both\nsides of the waveform, it still have a symmetric.",
    "start": "2734840",
    "end": "2740070"
  },
  {
    "text": "So we're still doing\nthe same thing. But interestingly, if we move\nto the second high spike,",
    "start": "2740070",
    "end": "2748130"
  },
  {
    "text": "it's almost about 4.2 kilohertz,\nwhich is the seventh harmonic.",
    "start": "2748130",
    "end": "2754230"
  },
  {
    "text": "So we erased-- we eliminated\nthird and fifth harmonic. Now we can take\nthis a step further.",
    "start": "2754230",
    "end": "2761900"
  },
  {
    "text": "Let me run it, and stop it. OK.",
    "start": "2761900",
    "end": "2767188"
  },
  {
    "text": "Yes. So now if move all\nthe way back, that",
    "start": "2767188",
    "end": "2772830"
  },
  {
    "text": "will be the second spike\noccurs at 5.3 kilohertz, which is like the ninth harmonics.",
    "start": "2772830",
    "end": "2778660"
  },
  {
    "text": "So we eliminated all the lower\nthird, fifth, seventh harmonics. You will notice that they're\ngetting a bit-- so the higher",
    "start": "2778660",
    "end": "2787109"
  },
  {
    "text": "harmonics are getting\nhigher in magnitude, but that's OK because we care\nabout the lower harmonics",
    "start": "2787110",
    "end": "2792900"
  },
  {
    "text": "more because it's easier to get\nrid of-- the higher harmonics",
    "start": "2792900",
    "end": "2797970"
  },
  {
    "text": "will need smaller\nfilter components or smaller devices\nfor applications. That's all.",
    "start": "2797970",
    "end": "2803210"
  },
  {
    "text": " DAVID PERREAULT: Thanks. So I guess what\nwe've seen today is",
    "start": "2803210",
    "end": "2809880"
  },
  {
    "text": "harmonic elimination where we\nintroduce extra pulses carefully timed.",
    "start": "2809880",
    "end": "2815730"
  },
  {
    "text": "We've also seen\nharmonic cancellation where we take multiple waveforms\nand shift them and add them up",
    "start": "2815730",
    "end": "2820770"
  },
  {
    "text": "to a murder the\nharmonics we don't like. Those can be both used together.",
    "start": "2820770",
    "end": "2827130"
  },
  {
    "text": "What we'll start seeing\nnext time is firstly, well, other ways we can do this\nkind of harmonic cancellation",
    "start": "2827130",
    "end": "2832660"
  },
  {
    "text": "or harmonic elimination game,\nmore sophisticated circuits. And after that, we'll\nstart talking about, well,",
    "start": "2832660",
    "end": "2838085"
  },
  {
    "text": "what happens if-- we've posited this\non the whole thing I want to make as a sine\nwave, which is often true.",
    "start": "2838085",
    "end": "2844180"
  },
  {
    "text": "If I'm going to run a lot of\nmotors, I want a sine wave. If I'm trying to\ngenerate something",
    "start": "2844180",
    "end": "2849903"
  },
  {
    "text": "for the AC grid, which is\nsupposed to be sinusoidal, I want a sine wave. But there's times where\nwe don't want a sine wave,",
    "start": "2849903",
    "end": "2854945"
  },
  {
    "text": "so what do we do in those cases? And we'll pick those topics up\nnext class, so have a great day.",
    "start": "2854945",
    "end": "2860700"
  },
  {
    "start": "2860700",
    "end": "2863000"
  }
]