[
  {
    "start": "0",
    "end": "30000"
  },
  {
    "text": " The following content is\nprovided under a Creative Commons license. Your support will help\nMIT OpenCourseWare",
    "start": "0",
    "end": "7060"
  },
  {
    "text": "continue to offer high-quality\neducational resources for free. To make a donation, or to\nview additional materials",
    "start": "7060",
    "end": "13690"
  },
  {
    "text": "from hundreds of MIT courses,\nvisit MIT OpenCourseWare at ocw.mit.edu. ",
    "start": "13690",
    "end": "22160"
  },
  {
    "text": "TADGE DRYJA: Today we're going\nto talk about wallets and SPV. And if you don't\nknow what SPV stands",
    "start": "22160",
    "end": "28010"
  },
  {
    "text": "for, that will be defined\nas well, so don't worry. First, you get your software. That's something of\na problem, like how",
    "start": "28010",
    "end": "34202"
  },
  {
    "start": "30000",
    "end": "165000"
  },
  {
    "text": "do you know you got the\nright Bitcoin software, there can be issues\nthere, but anyway-- there are multiple\nimplementations that should be consensus compatible.",
    "start": "34202",
    "end": "41180"
  },
  {
    "text": "I often use BTCD, which is\na version written in Go, but the main implementation\nis written in c++.",
    "start": "41180",
    "end": "49433"
  },
  {
    "text": "So, you get the\nsoftware, and then you somehow connect to\npeers in the network, but there's all these\nasterisks, which",
    "start": "49433",
    "end": "54960"
  },
  {
    "text": "mean it's not completely\ndecentralized. You have to find\nwhere to get it, you have to find\nwho to connect to. Once you do that, you get\nall the headers, which",
    "start": "54960",
    "end": "61600"
  },
  {
    "text": "are 80 bytes each, you\nverify all the work, and then you start\ngetting the blocks, looking through\nthe transactions.",
    "start": "61600",
    "end": "67439"
  },
  {
    "text": "You replay the history of the\nlast nine years of the coin, and then you arrive\nat a UTXO set,",
    "start": "67440",
    "end": "72630"
  },
  {
    "text": "an unspent transaction\noutput set, and it should be the same\nas everyone else got.",
    "start": "72630",
    "end": "78660"
  },
  {
    "text": "Everyone else has the same\nheaders, the same work, the same transactions. They'll get the same set of\nwhich coins are encumbered",
    "start": "78660",
    "end": "86100"
  },
  {
    "text": "by which keys as you do. And the idea is it would\nbe very expensive to have",
    "start": "86100",
    "end": "92640"
  },
  {
    "text": "different UTXO sets because\nyou'd have to do all that work. So that's how a node works.",
    "start": "92640",
    "end": "99040"
  },
  {
    "text": "But what about dealing\nwith actual money? So far, we've just\nlooked at here's how to get your\nnode running, here's",
    "start": "99040",
    "end": "105630"
  },
  {
    "text": "how to observe the\nnetwork and come to the same conclusion\nas everyone else, but you probably want\nto actually do something",
    "start": "105630",
    "end": "111180"
  },
  {
    "text": "with this. You want to pay\npeople or get paid. Those are the two\nfundamental functions",
    "start": "111180",
    "end": "117149"
  },
  {
    "text": "that this tries to address. So the software that manages\nthis feature is called",
    "start": "117150",
    "end": "122610"
  },
  {
    "text": "a wallet, and it's\nnot necessarily the same software as what's\nconnecting to the network,",
    "start": "122610",
    "end": "128580"
  },
  {
    "text": "downloading, and verifying. In the case of\nBitcoin Core, it is, although many of the programmers\nof Bitcoin Core wish that it",
    "start": "128580",
    "end": "135510"
  },
  {
    "text": "weren't. And there's sort\nof a long-term goal of, it'd be really great\nif we could pull these two",
    "start": "135510",
    "end": "141599"
  },
  {
    "text": "things apart into maybe separate\nbinaries, separate programs, something. But they're really intertwined,\nand it's kind of ugly.",
    "start": "141600",
    "end": "149129"
  },
  {
    "text": "But there are other\nthings that are separate OK, so wallet software\nfunctionality-- seems simple,",
    "start": "149130",
    "end": "156510"
  },
  {
    "text": "you send and receive money. Simple. Of course, you need to receive\nmoney before you can send it,",
    "start": "156510",
    "end": "162900"
  },
  {
    "text": "so let's start with that. OK, so we did not talk\nabout receive addresses.",
    "start": "162900",
    "end": "170099"
  },
  {
    "text": "We did talk about the script,\nand how it's generally used pay to pubkey hash, where\nyou put the hash of your pubkey",
    "start": "170100",
    "end": "178350"
  },
  {
    "text": "in your output script, and\nthen in your redeem script, in your input,\nyou put the pubkey itself, which is then\nchecked against the hash,",
    "start": "178350",
    "end": "184890"
  },
  {
    "text": "and then the\nsignature is verified. Most likely, if you've\nlooked at Bitcoin at all, you've seen these\ntypes of addresses.",
    "start": "184890",
    "end": "192060"
  },
  {
    "text": "They usually start with 1,\nthey're a bunch of characters long, a weird mix of lowercase,\nuppercase, Latin numbers,",
    "start": "192060",
    "end": "198270"
  },
  {
    "text": "and letters. There is a standard for\nconverting a 20-byte pubkey hash into this address.",
    "start": "198270",
    "end": "204547"
  },
  {
    "text": "So the idea is since\nalmost everything is using the same\npubkey hash script, you can forget\nabout the opcodes,",
    "start": "204547",
    "end": "211110"
  },
  {
    "text": "like op_dup, op_hash160,\nop_equalverify because they're always the same. And so it's this standard,\nlike, OK we're just",
    "start": "211110",
    "end": "217767"
  },
  {
    "text": "taking that 20-byte\nhash, and now let's convert it to\nsomething hopefully somewhat human readable and writeable so\nthat people can write it down,",
    "start": "217767",
    "end": "225660"
  },
  {
    "text": "say it over the phone. This is the one Satoshi made. It's got 58 characters\nand then the last 4 bytes,",
    "start": "225660",
    "end": "233230"
  },
  {
    "text": "which ends up being like\n5 or 6 of the letters, is sort of a checksum,\nwhere you take the hash of the first\nhowever many letters",
    "start": "233230",
    "end": "241140"
  },
  {
    "text": "and then that's supposed to\nlike equal to the next one. So, hopefully, if you\ntyped something wrong,",
    "start": "241140",
    "end": "246420"
  },
  {
    "text": "it doesn't change\nthe hash and then you send it to the wrong\nplace and then no one has a matching key for that.",
    "start": "246420",
    "end": "253020"
  },
  {
    "text": "There's a newer\nstandard for this where all the all the\nletters are lowercase. That's introduced, actually,\ntoday in Bitcoin Core.",
    "start": "253020",
    "end": "262320"
  },
  {
    "text": "Version 0.16 came\nout, and so there's a new standard called Bech32. They did some research,\nand they found",
    "start": "262320",
    "end": "268590"
  },
  {
    "text": "it was actually much\nfaster to transmit over the phone via voice\nbecause you didn't have to say whether things\nwere uppercase or lowercase,",
    "start": "268590",
    "end": "275639"
  },
  {
    "text": "which ended up being\nvery annoying for people, because, you know, 1 big F,\na little f, 1, 2, big E, 4--",
    "start": "275640",
    "end": "283190"
  },
  {
    "text": "it's annoying. Anyway, the idea is\nthis is just an encoding of the 20-byte pubkey\nhash, so when you type this",
    "start": "283190",
    "end": "289620"
  },
  {
    "text": "into a program, it\nreads this, converts it into a 20-byte hash,\nbuilds the output script.",
    "start": "289620",
    "end": "295590"
  },
  {
    "text": "OK, so the outputs\nare all the same. So this is sort of\nlike a UI thing. The addresses don't really\nexist at the protocol level.",
    "start": "295590",
    "end": "305390"
  },
  {
    "text": "Any questions about addresses? OK. We're not going to put--",
    "start": "305390",
    "end": "310710"
  },
  {
    "text": "UI and usability is\nsuper important, but not the focus yet of\nwhat we're doing.",
    "start": "310710",
    "end": "316980"
  },
  {
    "start": "316000",
    "end": "389000"
  },
  {
    "text": "The idea, in a lot\nof cases, is you want to receive money and\nknow that you received it,",
    "start": "316980",
    "end": "322980"
  },
  {
    "text": "or somehow interact with\npeople over computers, and you could put a bunch\nof addresses on a server,",
    "start": "322980",
    "end": "329349"
  },
  {
    "text": "but keep your\nprivate keys offline. Because if you keep both your\npublic key and your private key",
    "start": "329350",
    "end": "334950"
  },
  {
    "text": "on the same computer, that's\nkind of an attractive target for someone to break into\nyour system because they say,",
    "start": "334950",
    "end": "341190"
  },
  {
    "text": "oh, this guy's running Bitcoin\nand he's accepting payments. There might be a bunch\nof money in this computer",
    "start": "341190",
    "end": "347250"
  },
  {
    "text": "if I can get into it. I can take all the money. So one issue that people ran\nup against pretty early is--",
    "start": "347250",
    "end": "353880"
  },
  {
    "text": "well, let's say I\ngenerate 10 keys-- 10 private keys, 10\npublic keys, 10 addresses.",
    "start": "353880",
    "end": "361202"
  },
  {
    "text": "I put them on the\nserver, then I run out. And I can reuse addresses,\nbut that can hurt privacy because people can then see\nthat the same people are",
    "start": "361202",
    "end": "368670"
  },
  {
    "text": "using these keys. So is there any clever way\nwe can generate pubkeys",
    "start": "368670",
    "end": "373770"
  },
  {
    "text": "without the private key? Is there, given all the fun\nkey stuff we've talked about,",
    "start": "373770",
    "end": "380460"
  },
  {
    "text": "can anyone think of any\nclever ways to do that? ",
    "start": "380460",
    "end": "388360"
  },
  {
    "text": "OK, well pretty straightforward. This is called BIP32, Bitcoin\nImprovement Proposal 32.",
    "start": "388360",
    "end": "396320"
  },
  {
    "start": "389000",
    "end": "1015000"
  },
  {
    "text": "This is a\nsuper-simplified version, but this is the basic\nidea of what they do, and they do it much more\ninvolved and complicated.",
    "start": "396320",
    "end": "402030"
  },
  {
    "text": "But basically, you've\ngot your public key P-- big P-- and some kind\nof randomized data-- randomizer data, r and your\nprivate key is just little p.",
    "start": "402030",
    "end": "412920"
  },
  {
    "text": " So the idea is you want\nto send to an address,",
    "start": "412920",
    "end": "418040"
  },
  {
    "text": "you want to generate\na new address. Well, it's just your public key\nplus the hash of r concatenated",
    "start": "418040",
    "end": "423530"
  },
  {
    "text": "with 1 times G. And if you\nwanted to make this 2, 3, you can make this\nany number you want.",
    "start": "423530",
    "end": "428875"
  },
  {
    "text": "And then your\nprivate key is just going to be that same public\nkey plus the hash of r.",
    "start": "428875",
    "end": "434900"
  },
  {
    "text": "So you give someone\nsome extra data, which they can throw\ninto a hash function. Use this as a known\nprivate key and you add it",
    "start": "434900",
    "end": "445430"
  },
  {
    "text": "to your private key. So no one just knowing this\ndata can spend from it.",
    "start": "445430",
    "end": "451150"
  },
  {
    "text": "That's really nice\nbecause then the server can generate arbitrary numbers. Does this make sense?",
    "start": "451150",
    "end": "456602"
  },
  {
    "text": "AUDIENCE: What's the\ndifference big A and a? TADGE DRYJA: Oh, yes. So in the last one,\nbig A is a public key.",
    "start": "456602",
    "end": "461810"
  },
  {
    "text": "It's a point on the curve. Little a is the private key. I screwed that up.",
    "start": "461810",
    "end": "468889"
  },
  {
    "text": "That does not have a G. So G\nis the generator for the group. G is how you convert from a\nprivate key to a public key.",
    "start": "468890",
    "end": "477949"
  },
  {
    "text": "You just multiply by G, which\nis just an arbitrary point. Yes. AUDIENCE: So your private\nkey doesn't change?",
    "start": "477950",
    "end": "483678"
  },
  {
    "text": "TADGE DRYJA: So in this case,\nthere's two private keys. There's your\nstandard private key that you actually just randomly\ncreated-- this number p,",
    "start": "483678",
    "end": "490919"
  },
  {
    "text": "multiply it by G, to get\nbig P. But your private key for any particular\naddress does change.",
    "start": "490920",
    "end": "497160"
  },
  {
    "text": "You're adding the hash\nof r, 1 or r, 2, r,3.",
    "start": "497160",
    "end": "502660"
  },
  {
    "text": "Yes? AUDIENCE: Assuming the size\nof r is relatively small compared to p because\ndon't you have to keep track of the nonce?",
    "start": "502660",
    "end": "508690"
  },
  {
    "text": "TADGE DRYJA: R should be,\nlike, 32 bytes or something. You know, you don't want any-- AUDIENCE: Do you have to start\nwith it every time that you create a new hash code?",
    "start": "508690",
    "end": "515340"
  },
  {
    "text": "TADGE DRYJA: You sort of don't. What you can do is,\nyou have your server.",
    "start": "515340",
    "end": "520414"
  },
  {
    "text": "You say, hey, I'm\ngoing to accept payments for cookies or shoes\nor whatever I'm selling. And then you give the\nserver your public key, P,",
    "start": "520414",
    "end": "528209"
  },
  {
    "text": "and the randomizer r, and\nyou just say to the server, go wild, make whatever\nnumber you want here.",
    "start": "528210",
    "end": "536160"
  },
  {
    "text": "This number should\nbe fairly small, let's say less than a billion. And then when you want to find\nhow much you've gotten paid,",
    "start": "536160",
    "end": "543480"
  },
  {
    "text": "well, you can generate a\nbillion private keys here-- some reasonable number that the\ncomputer can actually do it--",
    "start": "543480",
    "end": "549540"
  },
  {
    "text": "and you could just\nincrement this, generate a ton of\naddresses, and look for them on the blockchain.",
    "start": "549540",
    "end": "556500"
  },
  {
    "text": "So does that makes sense at all? BIP32 is actually quite a bit\nmore involved and complicated.",
    "start": "556500",
    "end": "562490"
  },
  {
    "text": "This is the basic idea,\nbut they make trees of it, and you can say, oh,\nwell, we can make instead",
    "start": "562490",
    "end": "569079"
  },
  {
    "text": "of just one level, we can make\na whole tree of these things, and have different\naccounts, and make a really full-featured\nsystem in case people",
    "start": "569080",
    "end": "575540"
  },
  {
    "text": "want to use this kind of thing. So you can put the public\nkey and this random data",
    "start": "575540",
    "end": "582180"
  },
  {
    "text": "on the server. The server can make addresses\nas needed, really quickly. And what's nice is observers\ncan't link these addresses.",
    "start": "582180",
    "end": "589470"
  },
  {
    "text": "If you're just looking\nat the blockchain, you won't see the difference\nbetween a sub 1 and a sub 2,",
    "start": "589470",
    "end": "597330"
  },
  {
    "text": "if this number and\n1 and 2 because it's going through this hash\nfunction, you never see that. To an observer, it looks\nlike all completely different",
    "start": "597330",
    "end": "603270"
  },
  {
    "text": "addresses. And if someone hacks\ninto the server and finds this P point, and\nthis r randomizer, well,",
    "start": "603270",
    "end": "611370"
  },
  {
    "text": "that will allow them\nto link everything. Now they can see--\noh, we can also generate all these addresses.",
    "start": "611370",
    "end": "616470"
  },
  {
    "text": "We can see that it's\nall the same person. But that doesn't let them\nsteal any of the funds. So compromising the\nserver with this, well,",
    "start": "616470",
    "end": "622889"
  },
  {
    "text": "you lose the privacy, but\nyou don't lose your money, so that's a pretty good trade.",
    "start": "622890",
    "end": "628420"
  },
  {
    "text": "Other questions about BIP32? So that's one of the\nfeatures for wallets.",
    "start": "628420",
    "end": "633930"
  },
  {
    "text": "You've got to do this. The basic procedure-- you're\ngoing to request a payment. And you're going to say, hey,\nif you want this jacket, send",
    "start": "633930",
    "end": "641589"
  },
  {
    "text": "one coin to address F8f12E. And it's sort of important to\nnote that Bitcoin doesn't solve",
    "start": "641590",
    "end": "648940"
  },
  {
    "text": "the problem of people\npaying money and not getting what they paid for. That's out of the scope\nof this, although there's",
    "start": "648940",
    "end": "657532"
  },
  {
    "text": "a lot of people\nthat say it should, but know it doesn't\ndo fraud protection. It's like, hey, I\ngave you the coin,",
    "start": "657532",
    "end": "662770"
  },
  {
    "text": "you didn't give me the jacket. Well, Bitcoin worked fine. Bitcoin made the coin move. That's Bitcoin's job.",
    "start": "662770",
    "end": "668770"
  },
  {
    "text": "The fact that FedEx never\ndelivered your jacket, well, that's FedEx\nor the retailer",
    "start": "668770",
    "end": "674590"
  },
  {
    "text": "or all sorts of\nthings like that.  You know, I don't want to\nsay it's not a problem.",
    "start": "674590",
    "end": "680080"
  },
  {
    "text": "It certainly is, but it\nis seen as out of scope. It's, like, you know--\nthis is a money system. This is money. Your dollar bills don't\nensure that you're",
    "start": "680080",
    "end": "686490"
  },
  {
    "text": "getting what you paid for. That said, there's\nall sorts of things that do this kind of thing,\nand do try to ensure delivery",
    "start": "686490",
    "end": "694200"
  },
  {
    "text": "versus payment-- atomic swaps, HTLCs that\nwe'll talk about later, Zero-Knowledge\nContingent Proof--",
    "start": "694200",
    "end": "700330"
  },
  {
    "text": "all these different things do\nsort of work on top of Bitcoin to try to help these\nkinds of things. In practice, though,\nif you're actually",
    "start": "700330",
    "end": "706920"
  },
  {
    "text": "buying a physical\njacket that someone's going to deliver to\nyou, there's not really a good cryptographic\nproof of jacket delivery.",
    "start": "706920",
    "end": "715050"
  },
  {
    "text": "So some reputation is involved.",
    "start": "715050",
    "end": "720519"
  },
  {
    "text": "Then, from the\nmerchant's perspective-- so, I sell jackets. I want to know if\nsomeone paid me.",
    "start": "720520",
    "end": "726520"
  },
  {
    "text": "I have something on the\nwebsite, put in your address, now pay this address. So you add all\nyour pubkey hashes",
    "start": "726520",
    "end": "732910"
  },
  {
    "text": "to a big list in your software. You say, OK, here's all\nthe addresses I've created. They're all these\n20-byte pubkey hashes.",
    "start": "732910",
    "end": "740380"
  },
  {
    "text": "I put them in a map or some\nkind of array or some database, whatever.",
    "start": "740380",
    "end": "745940"
  },
  {
    "text": "And from then on,\nevery transaction I see on the network, I also\nlook at the output scripts.",
    "start": "745940",
    "end": "753279"
  },
  {
    "text": "So before, when I was\nverifying the blockchain, I actually never had to\nlook at the output scripts",
    "start": "753280",
    "end": "758620"
  },
  {
    "text": "until they got spent. So when I was\ndownloading transactions,",
    "start": "758620",
    "end": "764712"
  },
  {
    "text": "I would look at their\nsignatures and look at the old UTXOs in the UTXO set\nand match them up and verify.",
    "start": "764712",
    "end": "771089"
  },
  {
    "text": "But where the money got sent\nin these new transactions, I didn't really care. It could have been\nsending it to zero.",
    "start": "771090",
    "end": "777040"
  },
  {
    "text": "It could have been sending\nit to some weird address that probably was wrong. There was no-- and I\nbelieve to this day,",
    "start": "777040",
    "end": "783790"
  },
  {
    "text": "there's still no\noutput validation that happens in Bitcoin\nas a consensus rule",
    "start": "783790",
    "end": "790120"
  },
  {
    "text": "because it's not important. Where are you sending the money? Well, wherever you want.",
    "start": "790120",
    "end": "795310"
  },
  {
    "text": "And are you able to spend it? We'll deal with that later. If you want to destroy\nyour money, fine.",
    "start": "795310",
    "end": "800649"
  },
  {
    "text": "I'm not going to\nlook at the output. There's no invalid output. There can be an\ninvalid input, which--",
    "start": "800650",
    "end": "806320"
  },
  {
    "text": "there can be an output which\nyou can never actually use, but you're free to send to it.",
    "start": "806320",
    "end": "811900"
  },
  {
    "text": "So that's sort of one\nof the rules in Bitcoin. However, when we're\nactually looking",
    "start": "811900",
    "end": "818320"
  },
  {
    "text": "at our own money\nwith the wallet, we do look at the output\nscripts, mainly to say, hey, is this ours?",
    "start": "818320",
    "end": "824890"
  },
  {
    "text": "Are we getting paid\nwith this transaction? So you look at\nevery output script, and if you see one that\nmatches, hey, we got paid.",
    "start": "824890",
    "end": "831670"
  },
  {
    "text": "So you see a transaction,\none of the outputs-- hey, look, that 20\nbytes-- that's me. Cool. That's one of the\naddresses that I have,",
    "start": "831670",
    "end": "839020"
  },
  {
    "text": "let me keep track of this. This is now money\nthat's in my wallet. So you keep track of\nthe received payments,",
    "start": "839020",
    "end": "845710"
  },
  {
    "text": "you save them to disk in a\nsimilar way to your addresses. You use some kind of\ndatabase or map or something,",
    "start": "845710",
    "end": "853030"
  },
  {
    "text": "something efficient. And then you don't need to\nsave too much information. You need to save the\noutpoint, the txid",
    "start": "853030",
    "end": "859449"
  },
  {
    "text": "of the transaction, the index. You probably want to save how\nmuch, your amount, and which",
    "start": "859450",
    "end": "864519"
  },
  {
    "text": "key it was, so the actual\n20-byte pubkey hash. You can look through\nall your keys,",
    "start": "864520",
    "end": "870700"
  },
  {
    "text": "but it might be nice--\noh, that's my 17th key that I've saved in my\ndatabase or something.",
    "start": "870700",
    "end": "876280"
  },
  {
    "text": "You may also want to save\nthe height information, when it got confirmed. So we're not going to talk too\nmuch about unconfirmed versus",
    "start": "876280",
    "end": "883450"
  },
  {
    "text": "confirmed today, but\nthis can be an issue if you see a transaction on\nthe network that's not yet",
    "start": "883450",
    "end": "890500"
  },
  {
    "text": "in a block and it pays you. You're like, hey, I got money,\nbut it's not confirmed yet, so have I really gotten money?",
    "start": "890500",
    "end": "898240"
  },
  {
    "text": "I am able to use that output\nto spend somewhere else, but now I've got two change\ntransactions, neither of which",
    "start": "898240",
    "end": "905470"
  },
  {
    "text": "is confirmed. And now the second\none can only be confirmed if the\nfirst one is, so that",
    "start": "905470",
    "end": "910930"
  },
  {
    "text": "can get ugly kind of quick. For simplicity's\nsake, let's just say that you wait\nuntil it's in a block",
    "start": "910930",
    "end": "918490"
  },
  {
    "text": "before your wallet\nrecognizes it. Most wallets do not do that,\nbut most wallets maybe should.",
    "start": "918490",
    "end": "925912"
  },
  {
    "text": "There can be a lot\nof weird attacks where you say, oh, I\ngot money, and then since it never really\nwas confirmed at all,",
    "start": "925912",
    "end": "931540"
  },
  {
    "text": "it's pretty easy for\nsomeone to double spend. The whole point of\nthe Bitcoin system",
    "start": "931540",
    "end": "937120"
  },
  {
    "text": "was you can't double\nspend because it's got all this proof\nof work on top of it. It's in a block.",
    "start": "937120",
    "end": "942560"
  },
  {
    "text": "But if we show in the UI, hey\nyou got a payment that has not yet gone into a\nblock, well, there's",
    "start": "942560",
    "end": "948339"
  },
  {
    "text": "no assurance that it won't be\ndouble spent yet, because it's not in the blockchain. But most wallets will show\nthat and usually they'll",
    "start": "948340",
    "end": "955840"
  },
  {
    "text": "make it in like red, or put\na little exclamation point or something to try to indicate,\nhey, this is unconfirmed,",
    "start": "955840",
    "end": "962949"
  },
  {
    "text": "but that doesn't always\nget across to people. So it may be safer to\njust not show it at all until it's in the block.",
    "start": "962950",
    "end": "968960"
  },
  {
    "text": "OK, so you amass\nall these you UTXOs, you're running your node, you've\ngot all these addresses you've",
    "start": "968960",
    "end": "976210"
  },
  {
    "text": "given out to people, and\nthen every transaction that comes in you look--\nhey, do any of these pay me?",
    "start": "976210",
    "end": "981370"
  },
  {
    "text": "And sometimes you'll find one\nthat does, which is great. And then you save that\nto your disk and, great. Now, next, I want to spend them.",
    "start": "981370",
    "end": "988490"
  },
  {
    "text": "OK, any questions about the\ngetting money procedure?",
    "start": "988490",
    "end": "994190"
  },
  {
    "text": "Yes. AUDIENCE: So, what's\nthe height again? TADGE DRYJA: The height\nis what block it's in, so height zero is the\nfirst block, zero block,",
    "start": "994190",
    "end": "1001790"
  },
  {
    "text": "and we're now at height 500,000. Usually, in diagrams,\nit goes this way,",
    "start": "1001790",
    "end": "1008390"
  },
  {
    "text": "but I guess it could go up\nin numbers, I don't know.",
    "start": "1008390",
    "end": "1014170"
  },
  {
    "text": "Yeah, so next, you\nneed to spend them. Spending makes sense, right? It's not too crazy.",
    "start": "1014170",
    "end": "1020240"
  },
  {
    "start": "1015000",
    "end": "1160000"
  },
  {
    "text": "Let's say you want to\nsend six coins to someone. So what you do is, you look\nthrough your set of UTXOs",
    "start": "1020240",
    "end": "1025250"
  },
  {
    "text": "that are your UTXOs, and\nyou try to find some such",
    "start": "1025250",
    "end": "1030380"
  },
  {
    "text": "that the total number\nof coins is over six, and then you use them as inputs,\nand then you add your outputs.",
    "start": "1030380",
    "end": "1037619"
  },
  {
    "text": "So, for example,\nI've got two UTXOs. These are much smaller\nnumbers, but this one",
    "start": "1037619",
    "end": "1043657"
  },
  {
    "text": "has five coins in it and\nthis one has three coins. So I received, at\ntwo different times, once I got five coins\nfor a fancy jacket,",
    "start": "1043657",
    "end": "1050040"
  },
  {
    "text": "once I got three coins\nfor a less fancy jacket. And now I want to buy something,\nand I want to send it to Bob,",
    "start": "1050040",
    "end": "1055470"
  },
  {
    "text": "and I want to send six coins.  Well, I've got eight\ncoins in my inputs,",
    "start": "1055470",
    "end": "1062070"
  },
  {
    "text": "so I'll send him six coins. There's two coins leftover. If I don't have this, it\njust goes to the miners,",
    "start": "1062070",
    "end": "1069250"
  },
  {
    "text": "so I create my new output,\nwhich is my change output. And then I send the\nremainder, two coins here.",
    "start": "1069250",
    "end": "1076720"
  },
  {
    "text": "Now, if it's actually\nthese nice, round numbers, the fee would be zero\nand it would probably not get confirmed on\nthe Bitcoin network.",
    "start": "1076720",
    "end": "1083650"
  },
  {
    "text": "You do have to have a\nsmall fee right now. It's really small, like\na couple of cents now.",
    "start": "1083650",
    "end": "1088809"
  },
  {
    "text": "It was pretty high\na few months ago. But this will work. This is the basic idea.",
    "start": "1088810",
    "end": "1094039"
  },
  {
    "text": "So, you look through\nyour UTXOs, find some, OK, output six,\noutput two, sign them.",
    "start": "1094040",
    "end": "1101080"
  },
  {
    "text": "Once you've built this, sign it\nall, broadcast to the network. Make sense?",
    "start": "1101080",
    "end": "1106720"
  },
  {
    "text": "Yes. AUDIENCE: Is the change\nUTXO, like, your own? TADGE DRYJA: Yep. Yep.",
    "start": "1106720",
    "end": "1112240"
  },
  {
    "text": "Generally, what you'll do is,\nyou'll make a new private key, calculate the public key,\nhash it, make this address,",
    "start": "1112240",
    "end": "1118330"
  },
  {
    "text": "and then add it in\nhere, all automatically. You can, and some\nsoftware does, just only use one key\nand one address,",
    "start": "1118330",
    "end": "1125380"
  },
  {
    "text": "and so it'll be pretty\nclear because the keys for this signature will\nbe the same as this key",
    "start": "1125380",
    "end": "1130870"
  },
  {
    "text": "that it's sending to, and\nso then it's really clear. Even without doing that,\nit's usually pretty clear",
    "start": "1130870",
    "end": "1136059"
  },
  {
    "text": "and people can sort of\nguess, well, either Alice is sending six coins back to\nherself and two coins to Bob,",
    "start": "1136060",
    "end": "1144280"
  },
  {
    "text": "or she's sending six coins to\nBob and two back to herself. Or maybe six coins to\none person, two coins",
    "start": "1144280",
    "end": "1150107"
  },
  {
    "text": "to someone else entirely. That's pretty unlikely. Usually, metrics will try to\nanalyze the transaction graph,",
    "start": "1150108",
    "end": "1156550"
  },
  {
    "text": "and say, oh, the smaller\noutputs are usually the payments and the larger ones\nare the change,",
    "start": "1156550",
    "end": "1161620"
  },
  {
    "start": "1160000",
    "end": "1611000"
  },
  {
    "text": "but you don't know if the\naddresses are all different. Yes? AUDIENCE: How does the\nfee get paid again?",
    "start": "1161620",
    "end": "1167927"
  },
  {
    "text": "TADGE DRYJA: The fee\nis the difference between the inputs amounts\nand the output amounts.",
    "start": "1167927",
    "end": "1172935"
  },
  {
    "text": "So, in this case,\nthe fee is zero because I got 5, 3,\n8, and then 8 here. So, really, what you do in real\nlife is, you'd make this 1.999",
    "start": "1172935",
    "end": "1182590"
  },
  {
    "text": "and then the fee would be\nthat 0.001, or whatever that the miner gets in\nthe coinbase transaction.",
    "start": "1182590",
    "end": "1190210"
  },
  {
    "text": "That's another way to try\nto identify change outputs. If you actually had\n5, 3, 6, and 1.999,",
    "start": "1190210",
    "end": "1197540"
  },
  {
    "text": "I bet the 1.999 is\ngoing back to yourself. Nice, even, round numbers\nseem like real payments.",
    "start": "1197540",
    "end": "1204820"
  },
  {
    "text": "And then if you've got one\nbunch of nines at the end, oh, that was probably\njust reduced a little",
    "start": "1204820",
    "end": "1210100"
  },
  {
    "text": "to make the fee. But these are all guesses. If you're a third party observer\nlooking at a transaction,",
    "start": "1210100",
    "end": "1216015"
  },
  {
    "text": "you don't know. This could be two\ndifferent people, or this could be an exchange\nand it's hard to tell, but you can get some\npretty good guesses.",
    "start": "1216015",
    "end": "1222940"
  },
  {
    "text": "Yes? AUDIENCE: In terms of\nfees, so if you have no fee or you had a really\nsmall fee and buyers",
    "start": "1222940",
    "end": "1229495"
  },
  {
    "text": "are requiring something\nhigher, that just sits on everyone's computer. They still share with each\nother or do they sit there",
    "start": "1229495",
    "end": "1235900"
  },
  {
    "text": "until maybe there's a block? TADGE DRYJA: There are\nmultiple thresholds. So, there's the relay\nthreshold, which right now I",
    "start": "1235900",
    "end": "1241450"
  },
  {
    "text": "believe Bitcoin is\none Satoshi per byte. So, I think we said\nSatoshis are the smallest unit possible in Bitcoin.",
    "start": "1241450",
    "end": "1247480"
  },
  {
    "text": "So one coin is actually\n100 million Satoshis-- and there's no decimal places,\nthat's just a UI thing.",
    "start": "1247480",
    "end": "1255580"
  },
  {
    "text": "So right now, the minimum\nrelay fee, by default, is 1 Satoshi per byte. So for a 250-byte transaction,\nyou need 250 Satoshis,",
    "start": "1255580",
    "end": "1265240"
  },
  {
    "text": "which is some\nfraction of a cent-- maybe more than a cent\nnow, I'm not sure.",
    "start": "1265240",
    "end": "1271970"
  },
  {
    "text": "And then the idea is if you\nsee a transaction below that, you won't even relay\nit to anyone else.",
    "start": "1271970",
    "end": "1277200"
  },
  {
    "text": "You'll be like, this is\nso cheap that I'm not going to bother sending\nit to everyone else. I'm just going to ignore it.",
    "start": "1277200",
    "end": "1282970"
  },
  {
    "text": "But above that 1\nSatoshi threshold, you will accept it,\nverify the signatures,",
    "start": "1282970",
    "end": "1289090"
  },
  {
    "text": "and then pass it on to everyone\nelse you're connected to. But that doesn't necessarily\nmean it will get into a block",
    "start": "1289090",
    "end": "1294760"
  },
  {
    "text": "anytime soon. It's actually been really\ninteresting the last, I'd say six months, where\nthe fees went up enormously",
    "start": "1294760",
    "end": "1303070"
  },
  {
    "text": "and you see this really\ncrazy price inelasticity,",
    "start": "1303070",
    "end": "1308289"
  },
  {
    "text": "where people who were\npaying one cent then started paying 10 cents,\na dollar, $10, $20.",
    "start": "1308290",
    "end": "1315165"
  },
  {
    "text": " And what's also\nsort of optimistic--",
    "start": "1315165",
    "end": "1321202"
  },
  {
    "text": "that made me feel\ngood-- it's like, well, clearly they were getting\n20 bucks worth of utility out of this because\nthey're now perfectly",
    "start": "1321202",
    "end": "1328202"
  },
  {
    "text": "willing to pay 20 bucks and\nthey were paying one cent a few weeks ago. That's kind of weird. And then it's now gone back\ndown to, like, one cent.",
    "start": "1328202",
    "end": "1335890"
  },
  {
    "text": "But it's very inelastic\nin that there's a fixed size for how\nmany transactions",
    "start": "1335890",
    "end": "1341600"
  },
  {
    "text": "you can have per\nminute or per hour and when people really\nwant to get in there, they have to just bid\neveryone else out.",
    "start": "1341600",
    "end": "1349309"
  },
  {
    "text": "So we'll talk about the\nfee markets in a few weeks, and replace by fee. That's sort of a\nnew evolving thing,",
    "start": "1349310",
    "end": "1356147"
  },
  {
    "text": "but it's been really interesting\nto see in the last few months how it's changed. Yeah. AUDIENCE: At\n$10,000 per Bitcoin,",
    "start": "1356147",
    "end": "1362150"
  },
  {
    "text": "a Satoshi is 0.01\ncent, a hundredth-- TADGE DRYJA: Tenth of a cent. AUDIENCE: Hundredth of a cent. TADGE DRYJA:\nHundredth of a cent. OK.",
    "start": "1362150",
    "end": "1367380"
  },
  {
    "text": "So, the minimum relay fee would\nbe more like 2 and 1/2 cents. So that's-- you\nknow, it's not zero.",
    "start": "1367380",
    "end": "1372470"
  },
  {
    "text": "That's still-- a fee, right? And you get enough of those\nand you start making money.",
    "start": "1372470",
    "end": "1378710"
  },
  {
    "text": "But it's also\ninteresting recently, it used to be that the initial\nnew coins coming out to miners",
    "start": "1378710",
    "end": "1384049"
  },
  {
    "text": "was just overwhelmingly\nthe majority of what they had earned and people\nwould ignore fees as a miner.",
    "start": "1384050",
    "end": "1392000"
  },
  {
    "text": "But then, in\nDecember, January, I believe miners made more money\nin fees than in new coins being",
    "start": "1392000",
    "end": "1398660"
  },
  {
    "text": "generated. I'm not sure if\nthat averages out. There were definitely\nweeks where that was the case,\nor at least days,",
    "start": "1398660",
    "end": "1404570"
  },
  {
    "text": "I'm not sure if it's\naverage or the whole month. But if you-- total aside,\nsorry, but this guy's site",
    "start": "1404570",
    "end": "1414539"
  },
  {
    "text": "is a cool way to\nlook at the fees.",
    "start": "1414540",
    "end": "1420220"
  },
  {
    "text": "So you can see here's-- he sort of organizes\ntransactions by fee rate. It's too low-res to\nreally get everything,",
    "start": "1420220",
    "end": "1426640"
  },
  {
    "text": "but if you just\nsearch for Johoe-- J-O-H-O-E-- he works on Bitcoin\nstuff and he made this cool",
    "start": "1426640",
    "end": "1433763"
  },
  {
    "text": "site, which is open source\nand you could even run it on your own node if you wanted\nto, and generate the same cool",
    "start": "1433763",
    "end": "1438840"
  },
  {
    "text": "JavaScript color-y things and\nyou can see the fee market. And I'm not an economist,\nbut it is really interesting",
    "start": "1438840",
    "end": "1447210"
  },
  {
    "text": "seeing there's clearly market\nfailures occurring here",
    "start": "1447210",
    "end": "1453830"
  },
  {
    "text": "in that--  so, you can pay the green--",
    "start": "1453830",
    "end": "1461580"
  },
  {
    "text": "you can pay 10\nSatoshis per byte, and you'll get\nconfirmed in 10 minutes. Or you can pay 1,000\nSatoshis per byte,",
    "start": "1461580",
    "end": "1468360"
  },
  {
    "text": "and you will also get\nconfirmed in 10 minutes. And most people are paying 10,\nbut someone's paying 1,000.",
    "start": "1468360",
    "end": "1475247"
  },
  {
    "text": "You know, it's got\nthe whole spectrum. You've got multiple\norders of magnitude of people paying for\nthe exact same thing,",
    "start": "1475247",
    "end": "1481710"
  },
  {
    "text": "and they can all see each other. It's just a weird sort of-- seems broken. And part of it is just the\ncost to write the software.",
    "start": "1481710",
    "end": "1489580"
  },
  {
    "text": "If you're an exchange\nand everyone's sending you support\nrequests, and this happens--",
    "start": "1489580",
    "end": "1495010"
  },
  {
    "text": "OK, I don't know just, pay\na 500 Satoshi per byte fee-- and then it seems to work.",
    "start": "1495010",
    "end": "1500434"
  },
  {
    "text": "And, yeah, we're losing a\ncouple of thousand bucks a day, but let's just not\ndeal with that.",
    "start": "1500435",
    "end": "1506460"
  },
  {
    "text": "And I think that's\npart of it, is that there's a lot\nof software out there that just has a fixed fee\nrate, or even a fixed fee,",
    "start": "1506460",
    "end": "1513059"
  },
  {
    "text": "regardless of how big\nthe transaction is. There's a lot of software\nthat, years ago, wouldn't have to deal with this issue\nbecause there wasn't really",
    "start": "1513060",
    "end": "1520253"
  },
  {
    "text": "competition to get into\na block, and now they do. So it's kind of cool to look\nat and see the history of it.",
    "start": "1520253",
    "end": "1526990"
  },
  {
    "text": "But I'll get into depth of\nfees and stuff in, I think, two weeks or something.",
    "start": "1526990",
    "end": "1533860"
  },
  {
    "text": "OK, any questions about-- yeah. AUDIENCE: What was\nthat website again?",
    "start": "1533860",
    "end": "1539290"
  },
  {
    "text": "TADGE DRYJA: Well, it's in\nsome Dutch, or something. Just search J-O-H-O-E, Johoe.",
    "start": "1539290",
    "end": "1547580"
  },
  {
    "text": "He's the guy. It's the first thing on Google. J-O-H-O-E is his Dutch nickname,\nor something, I don't know.",
    "start": "1547580",
    "end": "1554543"
  },
  {
    "text": "He's a cool guy. He actually-- I\nthink I talked-- did I talk-- there was\nsome randomness problems at some site.",
    "start": "1554543",
    "end": "1561019"
  },
  {
    "text": "He stole a bunch of Bitcoins and\ngave them back to their owners. He found there was a K\nreuse, like nonce reuse",
    "start": "1561020",
    "end": "1569360"
  },
  {
    "text": "vulnerability in some wallets. And so he's like, hey, look,\nthere's like 100 Bitcoins that I can just take because I\ncan calculate the private key.",
    "start": "1569360",
    "end": "1576200"
  },
  {
    "text": "And he took them,\nand he was like, I think I know who these\nare and can you prove it, and then I'll give them back?",
    "start": "1576200",
    "end": "1582537"
  },
  {
    "text": "So he sort of grabbed-- you\nknow, finding a wallet with, like, thousands of dollars\ncoming out of it on the street,",
    "start": "1582537",
    "end": "1587990"
  },
  {
    "text": "he grabbed them all and tried\nto get them back to people. I don't know the guy. I've never met him but\nseems like a nice guy.",
    "start": "1587990",
    "end": "1594890"
  },
  {
    "text": "Anyway. [LAUGHTER] That's how Bitcoin works. You don't meet anyone,\nbut you see these people--",
    "start": "1594890",
    "end": "1600929"
  },
  {
    "text": "oh he's a nice guy. Oh, he's a jerk. ",
    "start": "1600930",
    "end": "1606198"
  },
  {
    "text": "The weekend was kind of\ninteresting over Twitter, but anyway-- AUDIENCE: I saw that. TADGE DRYJA: Yeah.",
    "start": "1606198",
    "end": "1611790"
  },
  {
    "start": "1611000",
    "end": "1681000"
  },
  {
    "text": "OK, so you build\nthese transactions. There are issues here. Two inputs, two outputs--\nthat's going to be kind of big.",
    "start": "1611790",
    "end": "1618140"
  },
  {
    "text": "You're going to have two\ndifferent signatures. It's going to be a\nlittle bit higher fee.",
    "start": "1618140",
    "end": "1623570"
  },
  {
    "text": "What would work\nbetter than this? It's kind of a silly question. What would work\nbetter than having two inputs and two outputs\nto make this transaction",
    "start": "1623570",
    "end": "1630285"
  },
  {
    "text": "to pay someone six coins? ",
    "start": "1630285",
    "end": "1636570"
  },
  {
    "text": "Yeah? AUDIENCE: Maybe if you wanted\nto have an anonymous transaction doing something like multiple\ntransactions in smaller sizes?",
    "start": "1636570",
    "end": "1644830"
  },
  {
    "text": "TADGE DRYJA: Sure. Yeah, that's-- you could send--\nso, that's actually two slides from now.",
    "start": "1644830",
    "end": "1650710"
  },
  {
    "text": "The next slide was\njust, well, what if you had a UTXO that was\nexactly the right size? Then it's easy.",
    "start": "1650710",
    "end": "1655930"
  },
  {
    "text": "You just send them\nthe six coins. If you have the exact right\nsize UTXO in your wallet, great.",
    "start": "1655930",
    "end": "1661693"
  },
  {
    "text": "You just send it over. It's like if you go to a\nshop and they're like, OK, that's $10 for lunch.",
    "start": "1661693",
    "end": "1667757"
  },
  {
    "text": "You're like, great,\nI have a $10 bill. Here it is. We don't need to deal with\npennies and quarters and stuff.",
    "start": "1667757",
    "end": "1672780"
  },
  {
    "text": "It's annoying. So sometimes this happens. It's great. Generally, it won't. Generally, you will have change\nand multiple inputs and outputs",
    "start": "1672780",
    "end": "1680190"
  },
  {
    "text": "and it's kind of annoying. So coin selection\nis a tricky problem. For CSE terms it's\nNP-hard, actually,",
    "start": "1680190",
    "end": "1688440"
  },
  {
    "start": "1681000",
    "end": "1702000"
  },
  {
    "text": "but there's heuristics\nthat work OK. If you have a ton\nof UTXOs and you have to send these\npayments, you can actually,",
    "start": "1688440",
    "end": "1694285"
  },
  {
    "text": "in a reasonable amount of\ntime, calculate the optimal way to do it. But there's some\nheuristics at work,",
    "start": "1694285",
    "end": "1701010"
  },
  {
    "text": "and the question is what\nare we optimizing for? Generally, you\nwant to optimize-- minimize the number\nof inputs used.",
    "start": "1701010",
    "end": "1709302"
  },
  {
    "start": "1702000",
    "end": "1888000"
  },
  {
    "text": "The inputs are much\nbigger, they're going to be like a\nhundred something bytes, and the outputs\nare pretty small, they're like 20-30 bytes.",
    "start": "1709302",
    "end": "1715320"
  },
  {
    "text": "So if you want to minimize\nsize of your transaction, minimize the number of\ninputs, which is easy.",
    "start": "1715320",
    "end": "1720540"
  },
  {
    "text": "You just pick your biggest\nUTXO and spend that one.",
    "start": "1720540",
    "end": "1725580"
  },
  {
    "text": "Yes? AUDIENCE: Isn't it like the\nknapsack problem, though? TADGE DRYJA: Yeah, it\nbasically is, yeah. Well, because it's\nmulti-iteration,",
    "start": "1725580",
    "end": "1732390"
  },
  {
    "text": "if you're just trying to\noptimize your transaction right now, you just use\nyour biggest UTXO.",
    "start": "1732390",
    "end": "1737960"
  },
  {
    "text": "So for example, it's sort\nof the analogy of you're at a checkout counter\nand someone says,",
    "start": "1737960",
    "end": "1746360"
  },
  {
    "text": "OK, that's $12.93. If you want to minimize\nthe number of bills",
    "start": "1746360",
    "end": "1751770"
  },
  {
    "text": "you're handing to\nthe cashier, you just take the 100 out of your wallet. That'll always work.",
    "start": "1751770",
    "end": "1757680"
  },
  {
    "text": "You just say, I take my biggest\nbill, hand it to you, OK, I'm minimizing the amount\nof bills I'm handing you",
    "start": "1757680",
    "end": "1763950"
  },
  {
    "text": "in this one transaction. However, that could result in\na whole bunch of bills coming back, a bunch of weird change.",
    "start": "1763950",
    "end": "1770790"
  },
  {
    "text": "And then also, long-term\nthat doesn't work. If your strategy is always\njust hand over the 100, or you go through your\nwallet and just hand",
    "start": "1770790",
    "end": "1777095"
  },
  {
    "text": "over the biggest bill\nyou have every time, no matter what they ask,\nthat's super suboptimal because if they say $12.93,\nand you have a 20 and 100",
    "start": "1777095",
    "end": "1785640"
  },
  {
    "text": "and you hand over the 100\nlike, why did you do that? And then you're going\nto have four 20s.",
    "start": "1785640",
    "end": "1791890"
  },
  {
    "text": "So, it's very similar\nto that, except now that the change and bills\nhave arbitrary denominations.",
    "start": "1791890",
    "end": "1799940"
  },
  {
    "text": "There isn't a fixed-- you have 100s,\n50s, 20s, 10s, 5s. Now it can be any number.",
    "start": "1799940",
    "end": "1806990"
  },
  {
    "text": "So if you're just\nlooking at one time, just pick your\nbiggest UTXO, you'll have the smallest transaction.",
    "start": "1806990",
    "end": "1812830"
  },
  {
    "text": "But you want to\nminimize next time, so you ideally can\neliminate the change output and get you a perfect target.",
    "start": "1812830",
    "end": "1819610"
  },
  {
    "text": "It's actually\nreally complicated. There's really cool\nresearch on how do we select coins for long term?",
    "start": "1819610",
    "end": "1826090"
  },
  {
    "text": "Yeah? AUDIENCE: So why don't\nyou just take the biggest UTXO that's larger-- or, the smallest UTXO that's\nlarger than your output size?",
    "start": "1826090",
    "end": "1833170"
  },
  {
    "text": "TADGE DRYJA: Yep, that can work. That's not-- that's\na good heuristic. That's a good-- pretty easy\nto code, sort your UTXOs,",
    "start": "1833170",
    "end": "1841779"
  },
  {
    "text": "go here, use that one.  It's not really\noptimal because then--",
    "start": "1841780",
    "end": "1848440"
  },
  {
    "text": "it's a lot better\nthan taking big ones-- what do I have in my wallet?",
    "start": "1848440",
    "end": "1853720"
  },
  {
    "text": "So I've actually written an\nSPV wallet and all this stuff just from scratch, and\nit's kind of interesting.",
    "start": "1853720",
    "end": "1859659"
  },
  {
    "text": "You learn a lot\nabout how it works. I target two inputs\ninstead of one,",
    "start": "1859660",
    "end": "1865223"
  },
  {
    "text": "because then eventually-- if\nyou do that, what will happen is you're going to be using\none input, which is great,",
    "start": "1865223",
    "end": "1870830"
  },
  {
    "text": "and then you're going to\nrun out of big inputs. And then you're going to always\nhave to use two or three,",
    "start": "1870830",
    "end": "1877630"
  },
  {
    "text": "and you can get a lot of dust. Dust is like the colloquial term\nfor really small UTXOs, where",
    "start": "1877630",
    "end": "1885180"
  },
  {
    "text": "you've got a bunch of pennies. So that's one issue. Another issue is\nprivacy concerns.",
    "start": "1885180",
    "end": "1893500"
  },
  {
    "start": "1888000",
    "end": "2219000"
  },
  {
    "text": "When you use two UTXOs\nor have two inputs in the same transaction, that's\nlinking those transactions,",
    "start": "1893500",
    "end": "1900490"
  },
  {
    "text": "linking those two UTXOs. It's not definitive. You can interactively create\ntransactions with other people.",
    "start": "1900490",
    "end": "1910170"
  },
  {
    "text": "In practice, that\ndoesn't happen. You could say, hey, I want\nto pay Alice five coins, and you want to\npay Bob six coins,",
    "start": "1910170",
    "end": "1916230"
  },
  {
    "text": "and let's put my two\nUTXOs and your two UTXOs and we'll pay these two people,\nand we'll put our own change outputs, and we'll sort of\nmix this transaction together",
    "start": "1916230",
    "end": "1924419"
  },
  {
    "text": "and we'll all sign it. And you can do that\nsecurely since you only sign when it all\nlooks right to you,",
    "start": "1924420",
    "end": "1930250"
  },
  {
    "text": "and everyone only\nsigns when it's done. But the coordination\nproblem is pretty severe. You have to find other people\nwho want to make transactions",
    "start": "1930250",
    "end": "1940230"
  },
  {
    "text": "at the same time that you do. It's annoying. So, in practice, since you're\njust using your wallet,",
    "start": "1940230",
    "end": "1945270"
  },
  {
    "text": "if you see a transaction\nwith multiple inputs, you can you can\nsurmise, OK, those are the same person\nor the same company.",
    "start": "1945270",
    "end": "1952340"
  },
  {
    "text": "And if you want privacy, if\nyou want maximum anonymity what kind of coin selection or\npayment strategy would you use?",
    "start": "1952340",
    "end": "1959940"
  },
  {
    "text": "AUDIENCE: Would you make\njust a bunch of transactions? TADGE DRYJA: Yeah. If someone says, hey,\npay me six coins,",
    "start": "1959940",
    "end": "1965639"
  },
  {
    "text": "well I have these\nthree inputs, and I'm paying you two coins\nhere and one coin here,",
    "start": "1965640",
    "end": "1971039"
  },
  {
    "text": "and three coins here. And I paid you six coins but\nin three completely separate transactions.",
    "start": "1971040",
    "end": "1977630"
  },
  {
    "text": "That no one does either\nbecause it's annoying. You could. It would be the most\nanonymous, but even then,",
    "start": "1977630",
    "end": "1985039"
  },
  {
    "text": "what if they all happened\nat the same time, and you see they all\nget in the same block? And you're like,\nOK, well they're not linked nearly\nas closely, but I",
    "start": "1985040",
    "end": "1992390"
  },
  {
    "text": "am seeing that these three\ntransactions happened temporally similar times.",
    "start": "1992390",
    "end": "1998800"
  },
  {
    "text": "So there's all sorts of\nthings to try to optimize for. OK, any other\nquestions about-- yeah?",
    "start": "1998800",
    "end": "2003910"
  },
  {
    "text": "AUDIENCE: So does this mean\nthat every time people are going to have a smaller and\nsmaller split of a Bitcoin",
    "start": "2003910",
    "end": "2008960"
  },
  {
    "text": "in their wallets? They're just going to have\nsmaller and smaller amounts because you're going to--\nif you have a $100 bill",
    "start": "2008960",
    "end": "2014924"
  },
  {
    "text": "and then you're paying\n$20, then you're going to get four other $20 bills. TADGE DRYJA: Yeah. AUDIENCE: Eventually you're\njust going to have smaller",
    "start": "2014925",
    "end": "2022160"
  },
  {
    "text": "and smaller-- is that a\nfair implication, or-- TADGE DRYJA: OK,\nshort-term, yes. If you start out with a bunch of\ncoins then start using it, yes.",
    "start": "2022160",
    "end": "2030410"
  },
  {
    "text": "But it does reach\nequilibrium in that let's say you've got all\nthese little tiny outputs--",
    "start": "2030410",
    "end": "2036649"
  },
  {
    "text": "you've got all these $1 bills-- but then you need to buy\nsomething that is 20 bucks.",
    "start": "2036650",
    "end": "2043880"
  },
  {
    "text": "You have 20 inputs\nand one output. And whoever you're sending to\nnow gets that one big output.",
    "start": "2043880",
    "end": "2052879"
  },
  {
    "text": "And so, yeah, if you\ngraph that over time, initially everyone was getting--",
    "start": "2052880",
    "end": "2059210"
  },
  {
    "text": "all their outputs\nwere 50 coins each because that's how\nyou mined them. And now they're getting\nsmaller, but there",
    "start": "2059210",
    "end": "2065750"
  },
  {
    "text": "is sort of an equilibrium after\nyou've used it for a while. Any other questions about\nsort of coin selection,",
    "start": "2065750",
    "end": "2072469"
  },
  {
    "text": "UTXO selection? Yes. AUDIENCE: According\nto a news report,",
    "start": "2072469",
    "end": "2077835"
  },
  {
    "text": "I guess if you\n[INAUDIBLE] transaction, you also have\n[INAUDIBLE] transactions.",
    "start": "2077835",
    "end": "2083560"
  },
  {
    "text": "TADGE DRYJA: Yeah, yeah. So that's costly. That's another reason\nprobably people don't do this.",
    "start": "2083560",
    "end": "2090260"
  },
  {
    "text": "I think the biggest reason is\nit's just annoying to code, and you can have\nfailures where like--",
    "start": "2090260",
    "end": "2095960"
  },
  {
    "text": "here, give me six coins. OK, I'll give you 3, 2, and 1. Oh, the 3 didn't work,\nbut the 2 and 1 did.",
    "start": "2095960",
    "end": "2101089"
  },
  {
    "text": "Well, now what do we do? You paid me half of it. It's nice to have all\nor nothing payments.",
    "start": "2101090",
    "end": "2107510"
  },
  {
    "text": "And also we have to send\ndifferent addresses. There's all sorts of things. Also, it will be higher fees.",
    "start": "2107510",
    "end": "2113608"
  },
  {
    "text": "In practice, it's\nactually not much higher. ",
    "start": "2113608",
    "end": "2119220"
  },
  {
    "text": "Let's say having three one\ninput, one output transactions versus one three input,\nthree output transaction--",
    "start": "2119220",
    "end": "2128330"
  },
  {
    "text": "you don't save too much space. Most of the space is\ntaken by the inputs. And the overhead\nfor a transaction",
    "start": "2128330",
    "end": "2134630"
  },
  {
    "text": "is only 10 or 20\nbytes or something, so it is not a huge difference.",
    "start": "2134630",
    "end": "2141710"
  },
  {
    "text": "The main difference\nis that you're never coalescing into\nlarger output sizes, so you're going to always\nhave to sign since you going",
    "start": "2141710",
    "end": "2148115"
  },
  {
    "text": "to have more inputs overall. This is a really,\nkind of, cool problem. There's a lot of\ncomputer science-y stuff",
    "start": "2148115",
    "end": "2155270"
  },
  {
    "text": "but a lot of heuristics\nand how people use it. Also, the fact that fees\nare variable over time",
    "start": "2155270",
    "end": "2162650"
  },
  {
    "text": "means you might want different\nstrategies when fees are low versus when fees are high. So when fees are low\nnow, I should make--",
    "start": "2162650",
    "end": "2169910"
  },
  {
    "text": "or maybe I just make a\ntransaction to myself where I condense all my little\n$2 outputs into one big $1,000",
    "start": "2169910",
    "end": "2178190"
  },
  {
    "text": "output so that when, later\non, if fees are higher, I want to spend my money, I\ncan do so more efficiently.",
    "start": "2178190",
    "end": "2184859"
  },
  {
    "text": "And there is evidence of\nthis with exchanges and stuff where a lot of times fees\nwill be lower on the weekends",
    "start": "2184860",
    "end": "2190849"
  },
  {
    "text": "because people aren't buying\nand spending Bitcoin as much, I guess. And so certain companies would\nsay, OK, over the weekends",
    "start": "2190850",
    "end": "2197510"
  },
  {
    "text": "we're going to sort of condense\nall our UTXOs and combine them",
    "start": "2197510",
    "end": "2202730"
  },
  {
    "text": "and then we can make smaller\ntransactions during the week. So there's all sorts of\ncool strategies here.",
    "start": "2202730",
    "end": "2207950"
  },
  {
    "text": "It's an interesting topic. I haven't gone super in-depth,\nbut the guys that chain code",
    "start": "2207950",
    "end": "2214250"
  },
  {
    "text": "work on it. There's a lot of discussion\nabout it, so it's kind of cool. OK, I'm a little bit behind.",
    "start": "2214250",
    "end": "2220410"
  },
  {
    "start": "2219000",
    "end": "2335000"
  },
  {
    "text": "OK, next we'll talk\nabout losing money, and that's another\nreally important part",
    "start": "2220410",
    "end": "2225470"
  },
  {
    "text": "of detecting the blockchain. It's hard to do, but you have to\ndetect when you've lost money.",
    "start": "2225470",
    "end": "2231440"
  },
  {
    "text": "And it's tricky because\njust because you signed the transaction doesn't\nreally mean your money is gone.",
    "start": "2231440",
    "end": "2237170"
  },
  {
    "text": "You can't just unilaterally\nsay, OK, well, I'm making this. I signed it.",
    "start": "2237170",
    "end": "2242870"
  },
  {
    "text": "There, my money is\ngone from my wallet. Well, not necessarily. Maybe this never gets confirmed.",
    "start": "2242870",
    "end": "2249850"
  },
  {
    "text": "So maybe you still\nhave that money. So you broadcast\nit, but you sort of",
    "start": "2249850",
    "end": "2255610"
  },
  {
    "text": "have to wait until\nit gets into a block, and you also need to\nlisten for your own UTXOs,",
    "start": "2255610",
    "end": "2260680"
  },
  {
    "text": "even if you haven't\nmade a transaction, and see if they've gotten spent. And why would that be?",
    "start": "2260680",
    "end": "2266680"
  },
  {
    "text": "Can anyone think\nof a reason why? I haven't signed anything, as\nfar as my program is concerned,",
    "start": "2266680",
    "end": "2273320"
  },
  {
    "text": "but I might lose money anyway. Why would that be? Yeah. AUDIENCE: Well, one\nreason is you get hacked.",
    "start": "2273320",
    "end": "2279710"
  },
  {
    "text": "TADGE DRYJA: Sure,\nyou get hacked. That's the bad reason. A good reason is, well maybe\nyou have the same wallet",
    "start": "2279710",
    "end": "2285290"
  },
  {
    "text": "on multiple computers. You've got the same keys. So, getting hacked is sort\nof a malicious instance",
    "start": "2285290",
    "end": "2292880"
  },
  {
    "text": "of this problem where I\nthought the wallet was only on my computer, but actually,\nsomeone else has a copy.",
    "start": "2292880",
    "end": "2298850"
  },
  {
    "text": "But even non-maliciously,\nI've got a copy on my phone and I've got a copy\non my computer. It's the same addresses, the\nsame keys, the same UTXOs.",
    "start": "2298850",
    "end": "2306740"
  },
  {
    "text": "That's totally doable. And then when I spend money with\nmy phone and get to my desktop,",
    "start": "2306740",
    "end": "2312380"
  },
  {
    "text": "my desktop needs\nto sort of download and see oh, money got--\nyou know, you lost money.",
    "start": "2312380",
    "end": "2318357"
  },
  {
    "text": "And it's like, oh, yeah, yeah,\nI remember spending that. So you can have that\nover multiple computers. So if you're designing\nwallet software,",
    "start": "2318357",
    "end": "2324800"
  },
  {
    "text": "you do definitely\nneed to make sure that even if it's unexpected\nfrom the wallet itself, and it doesn't seem like\nI generated a transaction,",
    "start": "2324800",
    "end": "2332750"
  },
  {
    "text": "there can still be a transaction\ntaking your money away. Wallets without Bitcoin, and\nthat's sort of a cheeky phrase.",
    "start": "2332750",
    "end": "2339730"
  },
  {
    "start": "2335000",
    "end": "2401000"
  },
  {
    "text": "OK, I don't mean they don't have\nany Bitcoins in their wallets, I mean they're not running\nBitcoin in the same sense",
    "start": "2339730",
    "end": "2345560"
  },
  {
    "text": "that we've talked of. So we talked about running\nBitcoin where you download the software, you\nget the headers,",
    "start": "2345560",
    "end": "2351920"
  },
  {
    "text": "you verify all the signatures,\nyou build the UTXO set. Can you use Bitcoin\nwithout doing this?",
    "start": "2351920",
    "end": "2359200"
  },
  {
    "text": "What do you guys think? What's a simple way to\npossibly use Bitcoin without having to\ndo all these things?",
    "start": "2359200",
    "end": "2365358"
  },
  {
    "text": " So, a really, really simple way? ",
    "start": "2365358",
    "end": "2372560"
  },
  {
    "text": "If you don't want\nto do work, what's the simplest way to\nnot have to do work?",
    "start": "2372560",
    "end": "2377600"
  },
  {
    "text": "Get someone else\nto do it, right. So, for example,\nmy dad has Bitcoin,",
    "start": "2377600",
    "end": "2383900"
  },
  {
    "text": "but he just gives it-- he's\nlike, you deal with it. So I've got a couple\nof Bitcoins that's",
    "start": "2383900",
    "end": "2389365"
  },
  {
    "text": "my dad's, and I have\nto make sure like, no, this is not my money. Yeah, get someone\nelse to do it, right?",
    "start": "2389365",
    "end": "2395329"
  },
  {
    "text": "So that's what we're going to\ntalk about, the different ways to get someone else to do this.",
    "start": "2395330",
    "end": "2400700"
  },
  {
    "text": "And what we called\nbefore, running Bitcoin, many now call a \"full node.\"",
    "start": "2400700",
    "end": "2406760"
  },
  {
    "start": "2401000",
    "end": "2450000"
  },
  {
    "text": "And there's also the idea of\na \"light node\" or \"SPV node,\" which we'll talk about.",
    "start": "2406760",
    "end": "2413412"
  },
  {
    "text": "Some people don't really\nlike this distinction, and it's like, well, wait. Full node is running Bitcoin.",
    "start": "2413412",
    "end": "2418520"
  },
  {
    "text": "These other things, we shouldn't\nhave to call it a full node. We should just call\nthis a Bitcoin node",
    "start": "2418520",
    "end": "2423810"
  },
  {
    "text": "and these other things\nare not quite there. I will prefix there's\na lot of argument",
    "start": "2423810",
    "end": "2430340"
  },
  {
    "text": "about terms in this space. So there's some people who\nsay, SPV doesn't exist.",
    "start": "2430340",
    "end": "2435890"
  },
  {
    "text": "And other people,\nthis isn't SPV. So people argue about the words. It's not like we have really\nnice, definitive terms.",
    "start": "2435890",
    "end": "2442819"
  },
  {
    "text": "I'm generally trying to use\nthe most widely used terms, but there's probably\npeople who will take issue",
    "start": "2442820",
    "end": "2448550"
  },
  {
    "text": "with it, so sorry. So, SPV is sort of a step\ndown below running a full node",
    "start": "2448550",
    "end": "2453950"
  },
  {
    "start": "2450000",
    "end": "2927000"
  },
  {
    "text": "in terms of security. It's called Simplified\nPayment Verification. It's written up in the\nwhite paper on how to do it.",
    "start": "2453950",
    "end": "2462109"
  },
  {
    "text": "And you can verify all\nthe work without doing too much signature verification\nor having too much data.",
    "start": "2462110",
    "end": "2471510"
  },
  {
    "text": "So the basic idea\nis you're optimizing for not having to\ndownload as much and not having to store as much\nat the cost of some security,",
    "start": "2471510",
    "end": "2479900"
  },
  {
    "text": "and I'll talk about those costs. OK, so before we have this list\nof what you do for a full node,",
    "start": "2479900",
    "end": "2486650"
  },
  {
    "text": "the SPV method is\na bit different. You still do the same\npart in the beginning. You connect, you\nget your headers,",
    "start": "2486650",
    "end": "2493279"
  },
  {
    "text": "you verify all the work. OK, cool. The next step, you\ntell another node",
    "start": "2493280",
    "end": "2498530"
  },
  {
    "text": "that you're connected to\nall of your addresses, all of the public keys\nthat you've ever generated.",
    "start": "2498530",
    "end": "2504470"
  },
  {
    "text": "You tell it to them. Then, for each header\nyou go through-- and instead of downloading\nthe whole block",
    "start": "2504470",
    "end": "2510820"
  },
  {
    "text": "and getting all the\ntransactions and verifying them, you ask the other node,\nhey, did I get any money,",
    "start": "2510820",
    "end": "2516580"
  },
  {
    "text": "or did I lose any\nmoney in this block because I've told\nyou all my addresses? Oh, sorry.",
    "start": "2516580",
    "end": "2522280"
  },
  {
    "text": "You also tell them\nall your UTXOs. You also tell him, here's\nall the money I have, here's all the addresses I\ncould possibly receive money on,",
    "start": "2522280",
    "end": "2530500"
  },
  {
    "text": "did I get or lose any\nmoney in this block? And then they will return\nto you a Merkle proof",
    "start": "2530500",
    "end": "2537349"
  },
  {
    "text": "of the transactions\nwhere they think, yeah, you got some\nmoney here, or yeah, you lost some money here,\nand you can verify this.",
    "start": "2537350",
    "end": "2542450"
  },
  {
    "text": "Yes? AUDIENCE: What's the\nother nodes' incentive to respond to you? ",
    "start": "2542450",
    "end": "2548240"
  },
  {
    "text": "TADGE DRYJA: There is none. You're not paying them. They don't know who you are. There's sort of a\nmeta incentive in that",
    "start": "2548240",
    "end": "2555109"
  },
  {
    "text": "I run a node that will\nprovide these Merkle proofs because it's like,\nwell, it helps Bitcoin,",
    "start": "2555110",
    "end": "2562953"
  },
  {
    "text": "and maybe if I have\nsome Bitcoin and I'm helping other people use it,\nmy Bitcoin will be worth more. But that's a pretty\ndiffuse sort of thing.",
    "start": "2562953",
    "end": "2571340"
  },
  {
    "text": "And it can be problematic\nbecause some of these things-- I didn't mention that in these\nslides, but the server side can",
    "start": "2571340",
    "end": "2576680"
  },
  {
    "text": "get a little bit\ncostly in terms of CPU because you're potentially-- as a server-- the\nclient requests hey,",
    "start": "2576680",
    "end": "2584480"
  },
  {
    "text": "here's this block. Can you filter it for me, find\nthings that I'm looking for. So now you have to load\nthat block into memory,",
    "start": "2584480",
    "end": "2591440"
  },
  {
    "text": "look through it. It's not too CPU intensive,\nbut it can be-- you know, when you have a bunch of\nthem, like 20 or 30 of them",
    "start": "2591440",
    "end": "2598130"
  },
  {
    "text": "connecting to you-- I've gotten 30%, 40% CPU\nfor doing this kind of thing to serve other users.",
    "start": "2598130",
    "end": "2603260"
  },
  {
    "text": " Most-- almost all\nphone wallets-- well,",
    "start": "2603260",
    "end": "2609630"
  },
  {
    "text": "many phone wallets and many\ndesktop wallets are using this model, and so you'll see--",
    "start": "2609630",
    "end": "2615210"
  },
  {
    "text": " for example, so here's a\nfull node in this building.",
    "start": "2615210",
    "end": "2626222"
  },
  {
    "text": "I actually rebooted it\nrecently, so there's not very many connections incoming. ",
    "start": "2626222",
    "end": "2633130"
  },
  {
    "text": "In practice, these two are\nactual full nodes, I bet. This is a fake node. This is a fake node.",
    "start": "2633130",
    "end": "2638720"
  },
  {
    "text": "This is-- they're\nall fake, yeah. Well, sorry-- these are all--",
    "start": "2638720",
    "end": "2645049"
  },
  {
    "text": "no, that one may be not. Well, you can look. But a lot of nodes will say\nthey're nodes and they're not, and they're just trying to\ntrack where transactions",
    "start": "2645050",
    "end": "2652060"
  },
  {
    "text": "are coming from and keep\ntrack tabs on you and stuff. And these are SPV\nnodes, these bitcore,",
    "start": "2652060",
    "end": "2658030"
  },
  {
    "text": "because they don't\nreally ask for-- I don't know what they're doing. They're not asking for anything.",
    "start": "2658030",
    "end": "2663250"
  },
  {
    "text": "So you can look through\nall the messages. I think Ethan will talk about\nthis a bit more Wednesday,",
    "start": "2663250",
    "end": "2669220"
  },
  {
    "text": "but there are a\nlot of SPV nodes. There's a lot of stuff\nout on the network and you have no idea\nwhat it's doing,",
    "start": "2669220",
    "end": "2675000"
  },
  {
    "text": "but it's pretty clearly\nnot running a Bitcoin node. So, yeah so I'll go through\nthese steps a little bit.",
    "start": "2675000",
    "end": "2682310"
  },
  {
    "text": "Oh, yeah. So the Merkle verification we\ntalked about last week, where,",
    "start": "2682310",
    "end": "2688660"
  },
  {
    "text": "if there's a block and there's\nthousands of transactions in it and this server wants to prove\nthat one of these transactions",
    "start": "2688660",
    "end": "2694780"
  },
  {
    "text": "is yours and is in there, you\nsay, OK, here's my transaction. They just need to provide you\nthis transaction ID, this hash,",
    "start": "2694780",
    "end": "2703390"
  },
  {
    "text": "and then you're able to see,\nOK, yeah, it was in the header. So my transaction is in there,\nyou're not just making it up.",
    "start": "2703390",
    "end": "2709573"
  },
  {
    "text": "I didn't talk about\nthe good part. Well, the good part\nis you don't really need to maintain a UTXO\nset and it's pretty small,",
    "start": "2709573",
    "end": "2715140"
  },
  {
    "text": "so it saves space, saves time. What are the problems? There's a lot, and I definitely\nadmit before writing my own SPV",
    "start": "2715140",
    "end": "2723950"
  },
  {
    "text": "wallet code, I\ndidn't think there were a lot of problems with it. I thought it was like, oh\nthis is SPV, this is cool.",
    "start": "2723950",
    "end": "2730220"
  },
  {
    "text": "This is how wallets work. But when writing the code\nmyself, I'm like wait, this is horrible.",
    "start": "2730220",
    "end": "2737450"
  },
  {
    "text": "What do we do? OK, so the first thing you\ndo is you connect, you get the headers, you verify them.",
    "start": "2737450",
    "end": "2743510"
  },
  {
    "text": "This is exactly\nthe same procedure as what a full node does\nso there's no difference, it works.",
    "start": "2743510",
    "end": "2749750"
  },
  {
    "text": "No difference there. The next step, you tell a\nnode all of your addresses. What?",
    "start": "2749750",
    "end": "2755329"
  },
  {
    "text": "There goes all your\nprivacy, right, because you're just\nconnecting to a computer. You have no idea who they\nare, who's running it,",
    "start": "2755330",
    "end": "2762109"
  },
  {
    "text": "and you're telling them hey,\nhere's all of my addresses, and also here's how\nmuch money I have. Here's all my UTXOs.",
    "start": "2762110",
    "end": "2769130"
  },
  {
    "text": "You can lie. You can add things\nthat are not-- you can also add some\naddresses that aren't yours,",
    "start": "2769130",
    "end": "2774950"
  },
  {
    "text": "or add some UTXOs\nthat aren't yours, and you'll get some\ntransactions back that you can then\nfilter out on your own.",
    "start": "2774950",
    "end": "2781550"
  },
  {
    "text": "So you can you can raise\nthe rate of false positives for that server. And so there's these\nBloom filters that",
    "start": "2781550",
    "end": "2789080"
  },
  {
    "text": "are in the Bitcoin Core code. They said the idea was\nwell, you can sort of",
    "start": "2789080",
    "end": "2796550"
  },
  {
    "text": "dial your own false\npositive rate. I'm not going to go\ninto Bloom filters work. If you've used those\nin other classes, cool.",
    "start": "2796550",
    "end": "2804380"
  },
  {
    "text": "But it basically\ngives some data which allows people to match things.",
    "start": "2804380",
    "end": "2810050"
  },
  {
    "text": "But they don't in practice\nhave good privacy. You can create a Bloom\nfilter where they've",
    "start": "2810050",
    "end": "2815900"
  },
  {
    "text": "got 10% false positive rate. And so when the server says, oh,\nlooks like their transaction,",
    "start": "2815900",
    "end": "2822110"
  },
  {
    "text": "maybe it's not because\n10% of the time it's just a false positive. However, when you have\nreally high false positives,",
    "start": "2822110",
    "end": "2828680"
  },
  {
    "text": "you lose all the\nefficiency savings of SPV and it sort of\ncascades where you've",
    "start": "2828680",
    "end": "2834500"
  },
  {
    "text": "got these false positives\nand the server thinks, oh, you got money, but\nit's a false positive.",
    "start": "2834500",
    "end": "2839930"
  },
  {
    "text": "And they add that \"you got\nmoney\" into the Bloom filter itself and the Bloom\nfilter can really quickly become saturated,\nand then they just",
    "start": "2839930",
    "end": "2846050"
  },
  {
    "text": "start giving you everything. So in practice, and\nthere's some papers about how the people who put\nthe Bloom filters into Bitcoin",
    "start": "2846050",
    "end": "2853970"
  },
  {
    "text": "thought, oh this is good\nfor privacy, it's fine, and in practice, it really\nis not good for privacy.",
    "start": "2853970",
    "end": "2859050"
  },
  {
    "text": "So you end up basically telling\na node all your addresses.",
    "start": "2859050",
    "end": "2864560"
  },
  {
    "text": "And there's research on how\nto do this in a better way, and it's one of\nthose kind of things",
    "start": "2864560",
    "end": "2870710"
  },
  {
    "text": "where some random anonymous\nperson with a, I think, inappropriate swear word email\naddress posted to the mailing",
    "start": "2870710",
    "end": "2878810"
  },
  {
    "text": "list and said, hey why don't\nyou guys do it this way? And it was like,\noh, yeah, we should have done it that way, oops.",
    "start": "2878810",
    "end": "2885830"
  },
  {
    "text": "The basic idea is instead\nof creating a Bloom filter as a client sending\nit to a server, basically instead of telling\nthe node all your addresses",
    "start": "2885830",
    "end": "2892663"
  },
  {
    "text": "and asking, what the nodes\nwill do-- the full nodes-- will create a Bloom filter\nbased on the entire block.",
    "start": "2892663",
    "end": "2899880"
  },
  {
    "text": "And then the client\ncan retrieve that, match that against their\naddresses, and see, hey,",
    "start": "2899880",
    "end": "2905090"
  },
  {
    "text": "did this block have\nanything of interest to me? And if so, request it-- much better privacy at a\npretty small cost in overhead.",
    "start": "2905090",
    "end": "2914383"
  },
  {
    "text": "And so, just no\none thought of it. There's a lot of\nthings in Bitcoin where it's like, no one thought\nof it, we did something dumb.",
    "start": "2914383",
    "end": "2919392"
  },
  {
    "text": "And then something\nbetter came out and now we're working on it. OK, so you tell the\nnode all your addresses.",
    "start": "2919392",
    "end": "2926780"
  },
  {
    "text": "That's a problem. For each header, ask if you\ngained or lost you UTXOs? So can you think of\nany problems here?",
    "start": "2926780",
    "end": "2932990"
  },
  {
    "start": "2927000",
    "end": "3073000"
  },
  {
    "text": " Yeah. AUDIENCE: Could they lie\nand not pay some of them?",
    "start": "2932990",
    "end": "2939310"
  },
  {
    "text": "TADGE DRYJA: Yup. Easy to lie. You just don't tell them. If you're a server,\nyou just omit things,",
    "start": "2939310",
    "end": "2945020"
  },
  {
    "text": "and you can maybe mitigate\nthat by connecting to a bunch of different\nnodes but then you lose even more\nprivacy because you've now",
    "start": "2945020",
    "end": "2951110"
  },
  {
    "text": "shared all your\naddresses and money with multiple anonymous nodes. But it's really easy\nto lie by omission.",
    "start": "2951110",
    "end": "2958250"
  },
  {
    "text": "Someone says, hey, here's\nall my addresses, OK, did I get any money? Yup, yup. And then you see one where\nthey got a bunch of money",
    "start": "2958250",
    "end": "2964727"
  },
  {
    "text": "and just don't tell them. And they don't know.  This can be annoying in regular\nwallets in the Lightning",
    "start": "2964727",
    "end": "2973287"
  },
  {
    "text": "Network stuff that\nI work on that I'll talk about, hopefully, later. This can actually\nbe very damaging.",
    "start": "2973287",
    "end": "2978770"
  },
  {
    "text": "You can lose money\nbecause of this. But, in general, in Bitcoin,\nyou won't lose money because you're not\naware of a transaction.",
    "start": "2978770",
    "end": "2984480"
  },
  {
    "text": "So this is also a problem,\neasy to lie by omission. The Merkle proofs help, but they\nprove inclusion, not exclusion.",
    "start": "2984480",
    "end": "2991230"
  },
  {
    "text": "There's no way to\nconstruct a proof that-- I'm going to I'm going\nto give you proof that I'm not omitting anything.",
    "start": "2991230",
    "end": "2997740"
  },
  {
    "text": "Although, with the idea of the\nblock-based filters sending, there are ways to\nconstruct that,",
    "start": "2997740",
    "end": "3003740"
  },
  {
    "text": "so it's even better\nin that sense. OK, so these are some of\nthe disadvantages of SPV.",
    "start": "3003740",
    "end": "3010220"
  },
  {
    "text": "Can anyone think of any\nother problems with it, or-- yeah? AUDIENCE: Fee estimation.",
    "start": "3010220",
    "end": "3015970"
  },
  {
    "text": "TADGE DRYJA: Yeah, OK. So, yeah, you don't know-- since you're not\ndownloading the blocks,",
    "start": "3015970",
    "end": "3021590"
  },
  {
    "text": "you don't really know how much\nfees other people are paying. You're not verifying. So even when you\nget transactions,",
    "start": "3021590",
    "end": "3027500"
  },
  {
    "text": "you cannot verify any signatures\nbecause you don't have UTXO sets, so you just see that\nit came from somewhere,",
    "start": "3027500",
    "end": "3034430"
  },
  {
    "text": "but you don't know if the\nthing it's spending even exists or has a key or anything, so\nyou can't verify the signature.",
    "start": "3034430",
    "end": "3041450"
  },
  {
    "text": "You don't know how much\nmoney was coming in, so even if you look\nat the transactions, you can't tell what\nfees they're paying.",
    "start": "3041450",
    "end": "3048410"
  },
  {
    "text": "You sort of can if you\ndownload the entire block. There's ways around it,\nbut it's really ugly,",
    "start": "3048410",
    "end": "3055240"
  },
  {
    "text": "so it can be very\ndifficult to estimate fees. So, in practice, you'd\nprobably ask the same server that you've told\nall your addresses",
    "start": "3055240",
    "end": "3061438"
  },
  {
    "text": "and all your UTXOs to,\nhey, what fee should I use, then they tell you that. The idea is, well, if I ask five\npeople, hopefully, most of them",
    "start": "3061438",
    "end": "3068710"
  },
  {
    "text": "will be around the same. So there's a bunch\nof problems with SPV.",
    "start": "3068710",
    "end": "3073960"
  },
  {
    "start": "3073000",
    "end": "3249000"
  },
  {
    "text": "OK, so SPV sounds\npretty bad, right? I think I'll stick\nto my full node. But is there anything\nworse than SPV?",
    "start": "3073960",
    "end": "3082360"
  },
  {
    "text": "Asking for a friend. Can I go worse? So does anyone know\nsomething we can do that's worse security,\nworse privacy than SPV",
    "start": "3082360",
    "end": "3091240"
  },
  {
    "text": "and that's also very popular?  Yeah. AUDIENCE: [INAUDIBLE]",
    "start": "3091240",
    "end": "3097000"
  },
  {
    "text": "TADGE DRYJA: Yeah,\nthat's even worse. But, yeah there's\na step in between. ",
    "start": "3097000",
    "end": "3105270"
  },
  {
    "text": "So you can take out\nsome of these steps where you just use an API\nand you just ask people.",
    "start": "3105270",
    "end": "3110880"
  },
  {
    "text": "You have a website,\nblockchain.info or Mycelium Wallet, or bunch of wallets--",
    "start": "3110880",
    "end": "3116370"
  },
  {
    "text": "BitPay's, Copay,\nthings like that where you don't verify\nany headers, you don't look at any\nMerkle proofs, you just",
    "start": "3116370",
    "end": "3123300"
  },
  {
    "text": "skip right to the tell the\nremote node all your addresses and UTXOs and ask how much\nmoney you've gained or lost.",
    "start": "3123300",
    "end": "3131400"
  },
  {
    "text": "So you've sort of outsourced\nthe entire process. You don't store really\nanything on your computer.",
    "start": "3131400",
    "end": "3137330"
  },
  {
    "text": "And you say, well, but you\ndo have your private keys. You say, I made some private\nkeys, I made some addresses,",
    "start": "3137330",
    "end": "3143069"
  },
  {
    "text": "and then I tell this website,\nhey, here's all my addresses, how much money do I have?",
    "start": "3143070",
    "end": "3148590"
  },
  {
    "text": "And the servers responds,\nyeah, you've got UTXOs, cool. So then you can build\nthe transaction,",
    "start": "3148590",
    "end": "3153640"
  },
  {
    "text": "sign them, and send\nthem to the server. So what are some advantages\nand disadvantages of this?",
    "start": "3153640",
    "end": "3160000"
  },
  {
    "text": " There's probably some\nobvious disadvantages, right?",
    "start": "3160000",
    "end": "3167650"
  },
  {
    "text": "Can anyone think of an\nattack that this does not help you against? ",
    "start": "3167650",
    "end": "3175319"
  },
  {
    "text": "Yeah. AUDIENCE: You can just\nmake up transactions. TADGE DRYJA: The server\ncan just say, hey,",
    "start": "3175320",
    "end": "3180420"
  },
  {
    "text": "you've got 1,000 Bitcoins. You're like, awesome, but\nit's just completely made up. ",
    "start": "3180420",
    "end": "3186450"
  },
  {
    "text": "As the client, you\ndon't verify anything about these transactions. So that's a pretty big problem.",
    "start": "3186450",
    "end": "3193710"
  },
  {
    "text": "And the thing is, in\npractice, one of the issues is that people are\ngenerally not as",
    "start": "3193710",
    "end": "3199650"
  },
  {
    "text": "aware of these types of\nattacks because mostly people worry about spending their\nmoney, and they don't really--",
    "start": "3199650",
    "end": "3207720"
  },
  {
    "text": "merchants worry\nabout charge-backs and worry about\nreceiving and verifying that they've received\nfunds all the time,",
    "start": "3207720",
    "end": "3213070"
  },
  {
    "text": "but most people's experience\nis they get paid once a month or twice a month\nwith a paycheck,",
    "start": "3213070",
    "end": "3219238"
  },
  {
    "text": "and the money shows up in\ntheir bank or whatever, and they never really\nworry about that. They worry about\nspending their money",
    "start": "3219238",
    "end": "3224412"
  },
  {
    "text": "and getting defrauded\nor things like that. So it's not something\na lot of people think about all the time\nis, did I actually get paid?",
    "start": "3224412",
    "end": "3232740"
  },
  {
    "text": "So there's easy\nfraud that you can do with this kind\nof attack vector where you sell a\ncar on Craigslist,",
    "start": "3232740",
    "end": "3240043"
  },
  {
    "text": "and someone comes and says,\nyeah, I paid you the Bitcoins, but they've actually\ncompromised the server and you haven't\ngotten paid at all.",
    "start": "3240043",
    "end": "3245910"
  },
  {
    "text": "But you think you have, so\nyou give over the goods. So, yeah potential problems--\nthey can say you got paid when",
    "start": "3245910",
    "end": "3251070"
  },
  {
    "start": "3249000",
    "end": "3599000"
  },
  {
    "text": "you didn't, they can say you\nlost money when you didn't. And if it's in a browser,\nthat's even more fun",
    "start": "3251070",
    "end": "3256500"
  },
  {
    "text": "because they can\nchange the code. The JavaScript is not\npinned to anything,",
    "start": "3256500",
    "end": "3262270"
  },
  {
    "text": "so if someone\ncompromises that server, they can change the\ncode and potentially get your private keys.",
    "start": "3262270",
    "end": "3268470"
  },
  {
    "text": "So you have, really,\nvery little security. The blockchain is\nnot really providing",
    "start": "3268470",
    "end": "3274859"
  },
  {
    "text": "anything in this case. However, this is\nmuch more popular",
    "start": "3274860",
    "end": "3279990"
  },
  {
    "text": "than running a full or\nSPV node, because you know, blockchain.info,\nyou just sign in,",
    "start": "3279990",
    "end": "3285307"
  },
  {
    "text": "there's a lot of\nwallets on the phones that work this way as well. And you do at least have\nyour private keys, hopefully.",
    "start": "3285307",
    "end": "3293127"
  },
  {
    "text": "So you've got that, right? You're not giving custody\nin any sense to them but they learn a\nlot of information.",
    "start": "3293127",
    "end": "3300109"
  },
  {
    "text": "OK, so not even SPV. Can we do worse? Yeah, so the Coinbase\ncompany was an example",
    "start": "3300110",
    "end": "3308490"
  },
  {
    "text": "of \"can we do worse?\" Yes, you can. Someone else's coins is worse.",
    "start": "3308490",
    "end": "3313590"
  },
  {
    "text": "The case where my\ndad said, hey can you hold on to these coins\nfor me, it's worse.",
    "start": "3313590",
    "end": "3318877"
  },
  {
    "text": "He doesn't run a node, he\ndoesn't have his private keys, he doesn't really understand\nBitcoin that well.",
    "start": "3318877",
    "end": "3324030"
  },
  {
    "text": "He wants to, but\nhe's busy and he's like, hey, you know this\nstuff, you deal with it. You know way more\nabout this than I do.",
    "start": "3324030",
    "end": "3330960"
  },
  {
    "text": "I trust you since, you know,\nwe're dad and son and stuff so not a huge trust problem\nthere, so I do it for him.",
    "start": "3330960",
    "end": "3339369"
  },
  {
    "text": "But you know, banks, right? So the idea of a site or\nan exchange or something",
    "start": "3339370",
    "end": "3344520"
  },
  {
    "text": "like this where you don't\neven have your private keys. You just have a website where\nthey run a node and a wallet",
    "start": "3344520",
    "end": "3350565"
  },
  {
    "text": "and they owe you the money.  It tends to end badly, and\neven if it doesn't end badly,",
    "start": "3350565",
    "end": "3359020"
  },
  {
    "text": "it misses the point. The whole idea of\nBitcoin was like, hey, you can have your own money. It's kind of cool.",
    "start": "3359020",
    "end": "3364140"
  },
  {
    "text": "It's running on your computer. It feels like it's missing\nthe point to just hand it over",
    "start": "3364140",
    "end": "3369630"
  },
  {
    "text": "to some bank. And it's not even a bank. Most of these\nsites, a big reason",
    "start": "3369630",
    "end": "3375000"
  },
  {
    "text": "why it tends to\nend badly is there aren't the same protections. Banks have to do a lot of\nwork, and there's FDIC,",
    "start": "3375000",
    "end": "3382230"
  },
  {
    "text": "there's all sorts of\nrules, and they also build these big structures with\nreally heavy stone pillars,",
    "start": "3382230",
    "end": "3388020"
  },
  {
    "text": "so you're like, yeah, they can't\nrun off because this bank's not going to move. It's made out of rocks.",
    "start": "3388020",
    "end": "3394059"
  },
  {
    "text": "And the banks in Bitcoin do\nnot have big stone pillars. IP addresses are really\neasy to change and move",
    "start": "3394060",
    "end": "3400350"
  },
  {
    "text": "the computers around. Another thing, they're\nrunning a node, right, these Bitcoin banks\nthat hold all your funds.",
    "start": "3400350",
    "end": "3408930"
  },
  {
    "text": "Sometimes they don't, so\nthese banks themselves might run SPV nodes\nor API things.",
    "start": "3408930",
    "end": "3415620"
  },
  {
    "text": "I don't want to name\nany names, but there's pretty good evidence that\nbig exchanges might even just",
    "start": "3415620",
    "end": "3421140"
  },
  {
    "text": "connect to an API and not\neven run their own node. ",
    "start": "3421140",
    "end": "3427170"
  },
  {
    "text": "Another-- there's a lot\nof things like this where, when something bad\ndoesn't happen, people just keep pushing it--",
    "start": "3427170",
    "end": "3434070"
  },
  {
    "text": "where miners themselves don't\nverify the blocks because they think, well, he must have\ncreated a valid block",
    "start": "3434070",
    "end": "3441780"
  },
  {
    "text": "and I'm not going to verify\nit and everything works. So the other thing is, while it\nsounds really bad, in practice,",
    "start": "3441780",
    "end": "3449250"
  },
  {
    "text": "there haven't been really many\nSPV attacks or API attacks.",
    "start": "3449250",
    "end": "3454720"
  },
  {
    "text": "We know of this, but in\npractice it's hard to do. If you want to defraud\nsomeone by compromising",
    "start": "3454720",
    "end": "3464160"
  },
  {
    "text": "blockchain.info, you have to\ncompromise blockchain.info. You don't have to do\nall the proof of work,",
    "start": "3464160",
    "end": "3469470"
  },
  {
    "text": "because they're not validating\nit, but it's still hard to do and it requires a\ncoordinated active attacker",
    "start": "3469470",
    "end": "3476220"
  },
  {
    "text": "with quite a bit of resources. And so when it doesn't\nhappen, people say, well, SPV is just as good.",
    "start": "3476220",
    "end": "3482880"
  },
  {
    "text": "We don't have any evidence\nof people being defrauded, so it's just as good. But that is kind of\ndangerous because when",
    "start": "3482880",
    "end": "3489330"
  },
  {
    "text": "everyone starts\ndoing it, you start to lose these protections. Any questions about the\nsomeone else's coins model?",
    "start": "3489330",
    "end": "3497770"
  },
  {
    "text": "There's all sorts\nof legal issues. There's a very long list\nof ways it ends badly.",
    "start": "3497770",
    "end": "3506160"
  },
  {
    "text": "I don't know-- what is the half\nlife of a custodial exchange in Bitcoin? It's like a year or\ntwo, and they drop off.",
    "start": "3506160",
    "end": "3513900"
  },
  {
    "text": "So why do people do this? And here's a table of\ntrade-offs with these things.",
    "start": "3513900",
    "end": "3521460"
  },
  {
    "text": "It's mainly convenience, and so\nthat's a real reason to do it.",
    "start": "3521460",
    "end": "3526930"
  },
  {
    "text": "So if you're\nrunning a full node, you're going to have to\ndownload at least 170 gigabytes.",
    "start": "3526930",
    "end": "3532859"
  },
  {
    "text": "That's a lot, right? It's going to take a while. Storage-- you're\ngoing to have to store at least 4 gigabytes long term.",
    "start": "3532860",
    "end": "3539260"
  },
  {
    "text": "And that's going up, but\nnot going up too much. It's actually gone down\nthe last few weeks. That's the UTXO set you\nhave to keep track of.",
    "start": "3539260",
    "end": "3546930"
  },
  {
    "text": "You don't have to keep\ntrack of this 170 gigabytes. It, by default, does but\nyou can turn on pruning.",
    "start": "3546930",
    "end": "3551940"
  },
  {
    "text": "But that's also super\nuser-unfriendly. You have to edit a bitcoin.conf\nfile and type \"pruning=500\"",
    "start": "3551940",
    "end": "3559050"
  },
  {
    "text": "or something, and then save it,\nand then it'll prune down to 4 gigs. There's no-- at least,\nthat I'm aware of-- there's",
    "start": "3559050",
    "end": "3564900"
  },
  {
    "text": "no GUI nice menu thing\nwhere you can say, hey, I want to enable pruning. I don't have to store it.",
    "start": "3564900",
    "end": "3570730"
  },
  {
    "text": "Speed-- on a really\nnice computer, it will take at least six\nhours to download all this",
    "start": "3570730",
    "end": "3578260"
  },
  {
    "text": "and verify it. That's pretty impressive\nbecause it used to be more, but that's still six hours. People don't want\nto deal with that.",
    "start": "3578260",
    "end": "3585130"
  },
  {
    "text": "Privacy-- certainly,\nwe can do better. There's a lot of research on\nhow to make privacy and Bitcoin better but this is what we got.",
    "start": "3585130",
    "end": "3592800"
  },
  {
    "text": "Security-- this is\nas good as we've got",
    "start": "3592800",
    "end": "3598260"
  },
  {
    "text": "So then you go down to SPV. Network-- you only have to\ndownload about 50 megs, all those headers.",
    "start": "3598260",
    "end": "3604599"
  },
  {
    "text": "If you've got a wallet\nwith lots of transactions, you're going to download\n100, 200, 300 megs because you're going\nto have to download",
    "start": "3604600",
    "end": "3610450"
  },
  {
    "text": "all the transactions that pay\nyou or you're paying out to. Speed-- I said seconds, I think\nI want to change it to minutes.",
    "start": "3610450",
    "end": "3618670"
  },
  {
    "text": "It's not that fast. It's a lot faster. I think seconds is\nan exaggeration.",
    "start": "3618670",
    "end": "3624660"
  },
  {
    "text": "Well, it's like 60 seconds. Anyway, it's pretty fast. You download all the headers.",
    "start": "3624660",
    "end": "3629968"
  },
  {
    "text": "That takes the same\namount of time, but that can be a\nminute or two, and then you're syncing the blocks. It's really quick,\nthey're small.",
    "start": "3629968",
    "end": "3636760"
  },
  {
    "text": "Privacy is poor. You lose a lot of\nyour privacy in SPV because you're basically\ntelling random computers",
    "start": "3636760",
    "end": "3644020"
  },
  {
    "text": "on the internet, hey,\nhere's all my money. Hey, here's all my addresses.",
    "start": "3644020",
    "end": "3649093"
  },
  {
    "text": "You're not completely\nlosing everything, but it's pretty easy for actors\nto reconstruct your wallet",
    "start": "3649093",
    "end": "3655480"
  },
  {
    "text": "from that. Security-- medium. I don't know, there haven't\nbeen any real attacks on this,",
    "start": "3655480",
    "end": "3661510"
  },
  {
    "text": "but you're not verifying\nthe rules of Bitcoin. If everyone's running\nSPV, then a miner can say,",
    "start": "3661510",
    "end": "3667029"
  },
  {
    "text": "hey, I just generated\n1,000 coins out of nowhere, and no one's looking\nfor that transaction.",
    "start": "3667030",
    "end": "3673089"
  },
  {
    "text": "It only pays me,\nand no one's going to see that and\nreject the block.",
    "start": "3673090",
    "end": "3679000"
  },
  {
    "text": "So if everyone runs\nSPV, you're not checking up on the miners,\nwhich is a very real threat.",
    "start": "3679000",
    "end": "3684460"
  },
  {
    "text": "Miners do crazy stuff and you\ngot to watch out for them. ",
    "start": "3684460",
    "end": "3691300"
  },
  {
    "text": "So, security-- questionable. API query, where you\njust ask a website hey,",
    "start": "3691300",
    "end": "3696530"
  },
  {
    "text": "here's all my addresses,\nhow much money do I have? Network traffic-- I don't\nknow, less than a megabyte.",
    "start": "3696530",
    "end": "3703448"
  },
  {
    "text": "You have to load the\nwebsites and stuff but it's pretty light. Storage-- you basically\ndon't have to store anything. I mean, you have to\nstore your private keys,",
    "start": "3703448",
    "end": "3710390"
  },
  {
    "text": "but those can be password-based\nand derived on the fly. Speed-- like a second, right.",
    "start": "3710390",
    "end": "3716849"
  },
  {
    "text": "It's real quick. You're making an HTTP query,\nyou're getting a response, you're parsing it,\nit's real quick.",
    "start": "3716850",
    "end": "3723150"
  },
  {
    "text": "Privacy is poor. It's worse than SPV, but\nbecause it's really easy",
    "start": "3723150",
    "end": "3728700"
  },
  {
    "text": "because you just hand them\nover all your addresses in the clear.",
    "start": "3728700",
    "end": "3733740"
  },
  {
    "text": "And security is also quite\npoor, in that they can say hey, you got money or you\nlost money, and you just",
    "start": "3733740",
    "end": "3740005"
  },
  {
    "text": "accept what they say.  Hold my key-- this\nis network traffic.",
    "start": "3740005",
    "end": "3745395"
  },
  {
    "text": "I don't know, you have to\ngo to a website, I guess. There's no storage, there's\nno speed, there's no privacy,",
    "start": "3745395",
    "end": "3750647"
  },
  {
    "text": "there's no security. You're just handing the entire\nthing off to someone else.",
    "start": "3750647",
    "end": "3755950"
  },
  {
    "text": "So what would you guys\nguess are the popularity",
    "start": "3755950",
    "end": "3762250"
  },
  {
    "text": "of the different models? Most popular to least popular. Yeah, this is definitely\nthe most popular.",
    "start": "3762250",
    "end": "3768850"
  },
  {
    "text": "Second most, third\nmost, fourth most. Everyone does this, a few people\ndo this, some people do this,",
    "start": "3768850",
    "end": "3775780"
  },
  {
    "text": "and a couple thousand\npeople do this.  It's a problem, and\nthis is something",
    "start": "3775780",
    "end": "3783090"
  },
  {
    "text": "that is one of the ongoing\nproblems, not just in Bitcoin. Ethereum would be\na little different,",
    "start": "3783090",
    "end": "3790080"
  },
  {
    "text": "but still, it's going\nto be a lot of this. Ethereum has a\nweird different SPV.",
    "start": "3790080",
    "end": "3795590"
  },
  {
    "text": "There's other models. There's one in the\nmiddle for Ethereum that's also quite popular.",
    "start": "3795590",
    "end": "3800930"
  },
  {
    "text": "It's like SPV with\nUTXO commitment. Well, no, I guess it\nwould be more here.",
    "start": "3800930",
    "end": "3806470"
  },
  {
    "text": "Anyway, I'm not going\nto go into Ethereum. But it's a problem and there's\ndifferent ways to attack it.",
    "start": "3806470",
    "end": "3814152"
  },
  {
    "text": "One of the issues is\nthat a lot of people who program Bitcoin itself\nreally only focus on this,",
    "start": "3814152",
    "end": "3820390"
  },
  {
    "text": "and they say, look,\nthis is not our problem. We can't solve this.",
    "start": "3820390",
    "end": "3826690"
  },
  {
    "text": "We're going to try to\nmake this-- the way we're going to\ntry to solve this, is let's try to\nget the speed down.",
    "start": "3826690",
    "end": "3832240"
  },
  {
    "text": "If it takes days, people\nare going to move this way. If it takes hours, maybe\na lot of people will say, hey I was using SPV, but yeah,\nit's not too bad running this.",
    "start": "3832240",
    "end": "3839560"
  },
  {
    "text": "I'm going to run this and\nget the more security. Let's try to keep\nthis number down. Let's try to keep speed down.",
    "start": "3839560",
    "end": "3844569"
  },
  {
    "text": "Let's try to improve privacy\nand security of the full node. That is generally what most\nof the Bitcoin Core developers",
    "start": "3844570",
    "end": "3851530"
  },
  {
    "text": "focus on, which I\ndon't argue with. But it does lead to some neglect\nof SPV, where there's not--",
    "start": "3851530",
    "end": "3861540"
  },
  {
    "text": "it's been over a year, year\nand a half, almost two years where we know how to make\nSPV better and more secure,",
    "start": "3861540",
    "end": "3867950"
  },
  {
    "text": "but there's not a lot\nof enthusiasm and people working on it.",
    "start": "3867950",
    "end": "3872990"
  },
  {
    "text": "And people argue about the\nsecurity of these things. This, there's not\nmuch you can do. I mean, there is kind of\ncryptography research like,",
    "start": "3872990",
    "end": "3880480"
  },
  {
    "text": "hey, is there some cool way I\ncan send you all my addresses",
    "start": "3880480",
    "end": "3885530"
  },
  {
    "text": "so that you can figure out how\nmuch money I have without you learning all my addresses?",
    "start": "3885530",
    "end": "3890880"
  },
  {
    "text": "That's called private\ninformation retrieval, and there's all sorts\nof papers on that. In practice, there\naren't any that use that.",
    "start": "3890880",
    "end": "3898780"
  },
  {
    "text": "And this, well, yeah multi-sig. That's more like regulation.",
    "start": "3898780",
    "end": "3904980"
  },
  {
    "text": "Can we have restrictions and\nrules on these, essentially, banks to try to make\nit safer, maybe?",
    "start": "3904980",
    "end": "3912240"
  },
  {
    "text": "These are the two where software\ndevelopment can definitely help make this a lot easier to use.",
    "start": "3912240",
    "end": "3919470"
  },
  {
    "text": "So we can encourage people\nto use it, but most people-- security is hard because\nmost people, if you don't",
    "start": "3919470",
    "end": "3925260"
  },
  {
    "text": "see a problem, this is a lot\neasier, and a lot of people think, well, I'm not\ngood at computers, so--",
    "start": "3925260",
    "end": "3932520"
  },
  {
    "text": "they are, and it's safer\nif I give all my money to someone else. In some cases, it could be true.",
    "start": "3932520",
    "end": "3939720"
  },
  {
    "text": "But that has systemic\neffects where now you've got these five\ncomputers in the world,",
    "start": "3939720",
    "end": "3946740"
  },
  {
    "text": "and if you're able\nto compromise those, they have just\nbillions of dollars worth of Bitcoins on them.",
    "start": "3946740",
    "end": "3952630"
  },
  {
    "text": "And so that's why black\nhat hacker kind of people, it's like the best thing to do.",
    "start": "3952630",
    "end": "3959760"
  },
  {
    "text": "It's like, there's\na computer somewhere and it's got a billion\ndollars of untraceable money",
    "start": "3959760",
    "end": "3967119"
  },
  {
    "text": "that I can just steal. Like, it's-- what\ncould be better? Yeah, I could get\neveryone's passwords.",
    "start": "3967120",
    "end": "3974160"
  },
  {
    "text": "That's cool. Or yeah, I could\nread people's emails. Whatever. Or, I can just steal\na billion dollars.",
    "start": "3974160",
    "end": "3981569"
  },
  {
    "text": "So what do you think\nthey're going to do? So this leads to\nhuge concentrations",
    "start": "3981570",
    "end": "3988020"
  },
  {
    "text": "of coins in a very\nsmall number of nodes, and people try to attack it. So this is sort of the\nlandscape we're in now.",
    "start": "3988020",
    "end": "3995369"
  },
  {
    "text": "It's certainly not ideal. There's a lot of technology\nthat's pretty good that's not being used. There's a lot of\ntechnology that's",
    "start": "3995370",
    "end": "4001447"
  },
  {
    "text": "crummy that's being used a lot\nand how we make this stronger and faster, how to\nmake this faster,",
    "start": "4001447",
    "end": "4007190"
  },
  {
    "text": "things like that are really\ninteresting research areas. ",
    "start": "4007190",
    "end": "4013800"
  },
  {
    "text": "Almost done. Wallets are fun, but\nusability issues. If you want to try\ntesting out wallets",
    "start": "4013800",
    "end": "4019350"
  },
  {
    "text": "you can try downloading them,\nplaying around with them. They often leave quite\na bit to be desired.",
    "start": "4019350",
    "end": "4025450"
  },
  {
    "text": "The one I work on, Lit, leaves\nenormous amounts to be desired.",
    "start": "4025450",
    "end": "4030510"
  },
  {
    "text": "It's all in text. And Ethan should\nbe here Wednesday and good luck with\nthe problem set.",
    "start": "4030510",
    "end": "4037040"
  }
]