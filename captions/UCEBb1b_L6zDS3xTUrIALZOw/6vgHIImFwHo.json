[
  {
    "start": "0",
    "end": "336"
  },
  {
    "text": "PROFESSOR: OK.",
    "start": "336",
    "end": "1010"
  },
  {
    "text": "So how do we find\nthese stable marriages?",
    "start": "1010",
    "end": "3520"
  },
  {
    "text": "Well there's out\nprocedure for doing it,",
    "start": "3520",
    "end": "5730"
  },
  {
    "text": "which is kind of elegantly\ndescribed as a day",
    "start": "5730",
    "end": "8530"
  },
  {
    "text": "by day mating ritual that the\nboys and girls cooperate in.",
    "start": "8530",
    "end": "13090"
  },
  {
    "text": "So let's see what\nhappens on the first day.",
    "start": "13090",
    "end": "18030"
  },
  {
    "text": "On the morning of the\nfirst day, each boy",
    "start": "18030",
    "end": "21180"
  },
  {
    "text": "looks at his list\nof girls and picks",
    "start": "21180",
    "end": "24000"
  },
  {
    "text": "the one that he likes the\nbest, at the top of this list,",
    "start": "24000",
    "end": "27190"
  },
  {
    "text": "and he goes off and serenades\nher or proposes to her.",
    "start": "27190",
    "end": "31150"
  },
  {
    "text": "So here we have Billy Bob and\nBrad proposing to Angelina.",
    "start": "31150",
    "end": "34700"
  },
  {
    "text": "That means that on\nthe first day Angelina",
    "start": "34700",
    "end": "37170"
  },
  {
    "text": "was at the top of both Brad's\nlist and Billy Bob's list.",
    "start": "37170",
    "end": "40170"
  },
  {
    "text": "And they're both going to\nbe proposing and asking",
    "start": "40170",
    "end": "42379"
  },
  {
    "text": "if she's willing to marry them.",
    "start": "42380",
    "end": "45260"
  },
  {
    "text": "Well in the afternoon,\neach girl rejects all but",
    "start": "45260",
    "end": "50109"
  },
  {
    "text": "her favorite suitor.",
    "start": "50110",
    "end": "51310"
  },
  {
    "text": "So in this case, Angelina\nlikes Brad best of all.",
    "start": "51310",
    "end": "54360"
  },
  {
    "text": "So she says to everybody else,\nif you're not Brad take a hike.",
    "start": "54360",
    "end": "58980"
  },
  {
    "text": "And that's what\nhappens at that stage.",
    "start": "58980",
    "end": "60739"
  },
  {
    "text": "And then in the\nevening, here we look",
    "start": "60739",
    "end": "62280"
  },
  {
    "text": "at rejected boy, Billy Bob.",
    "start": "62280",
    "end": "64809"
  },
  {
    "text": "A boy who's rejected crosses\noff the girl who rejected him.",
    "start": "64810",
    "end": "69350"
  },
  {
    "text": "So Billy Bob is going to\ncross Angelina off his list.",
    "start": "69350",
    "end": "72950"
  },
  {
    "text": "And then the whole\nritual is going",
    "start": "72950",
    "end": "74670"
  },
  {
    "text": "to repeat starting\nthe next morning.",
    "start": "74670",
    "end": "76250"
  },
  {
    "text": "Except now Billy Bob will\nhave a different woman",
    "start": "76250",
    "end": "79250"
  },
  {
    "text": "at the top of his list because\nAngelina's gone forever.",
    "start": "79250",
    "end": "81690"
  },
  {
    "start": "81690",
    "end": "85100"
  },
  {
    "text": "This mating ritual continues\nuntil nothing changes.",
    "start": "85100",
    "end": "89440"
  },
  {
    "text": "And that's going to happen\nexactly when each girl has",
    "start": "89440",
    "end": "93160"
  },
  {
    "text": "at most one suitor.",
    "start": "93160",
    "end": "94740"
  },
  {
    "text": "Because if she has\nmore than one suitor,",
    "start": "94740",
    "end": "96619"
  },
  {
    "text": "she's going to reject\nthe less favorite ones.",
    "start": "96620",
    "end": "99380"
  },
  {
    "text": "So that is the definition\nof the stopping condition.",
    "start": "99380",
    "end": "102740"
  },
  {
    "text": "And on that day, by\ndefinition, no girl",
    "start": "102740",
    "end": "105509"
  },
  {
    "text": "can have more than one suitor.",
    "start": "105510",
    "end": "107280"
  },
  {
    "text": "So she will marry the\none suitor she has.",
    "start": "107280",
    "end": "110520"
  },
  {
    "text": "And that's the definition of\nthe marriages that result,",
    "start": "110520",
    "end": "114109"
  },
  {
    "text": "if and when, the\nmating ritual stops.",
    "start": "114110",
    "end": "118620"
  },
  {
    "text": "And we claim that they are\ngoing to be stable marriages.",
    "start": "118620",
    "end": "124010"
  },
  {
    "text": "Now if we think\nabout this process,",
    "start": "124010",
    "end": "126400"
  },
  {
    "text": "it's really a state machine.",
    "start": "126400",
    "end": "127750"
  },
  {
    "text": "In fact, if you think about\nit, what the states are",
    "start": "127750",
    "end": "130169"
  },
  {
    "text": "is the set of girls on the\nboys list on any given morning.",
    "start": "130169",
    "end": "134270"
  },
  {
    "text": "And then those states\nevolve to a new list",
    "start": "134270",
    "end": "137890"
  },
  {
    "text": "after the crossing out\nhappens on the next morning.",
    "start": "137890",
    "end": "140560"
  },
  {
    "text": "So this is kind\nof a memorable way",
    "start": "140560",
    "end": "144290"
  },
  {
    "text": "to tell a story about the\ntransitions of a state machine.",
    "start": "144290",
    "end": "147110"
  },
  {
    "text": "And we can bring our state\nmachine concepts to bear.",
    "start": "147110",
    "end": "149470"
  },
  {
    "text": "So the first thing\nwe want to prove",
    "start": "149470",
    "end": "150928"
  },
  {
    "text": "is that this state\nmachine terminates.",
    "start": "150928",
    "end": "153170"
  },
  {
    "text": "That is to say, there\nexists a wedding day.",
    "start": "153170",
    "end": "156870"
  },
  {
    "text": "Then we want to\nprove that this state",
    "start": "156870",
    "end": "159879"
  },
  {
    "text": "machine is partially correct.",
    "start": "159880",
    "end": "161350"
  },
  {
    "text": "And what that means that\nwhen the machine stops,",
    "start": "161350",
    "end": "166900"
  },
  {
    "text": "everyone is married and that\nthe marriages are stable.",
    "start": "166900",
    "end": "171250"
  },
  {
    "text": "So that's our task.",
    "start": "171250",
    "end": "173250"
  },
  {
    "text": "Well termination's easy.",
    "start": "173250",
    "end": "174530"
  },
  {
    "text": "Because if you\nlook at the state,",
    "start": "174530",
    "end": "176650"
  },
  {
    "text": "the state is the boys\nlists on a given morning.",
    "start": "176650",
    "end": "180909"
  },
  {
    "text": "And things evolve\nbecause boys get rejected",
    "start": "180910",
    "end": "184620"
  },
  {
    "text": "and they cross\ngirls off the list.",
    "start": "184620",
    "end": "186480"
  },
  {
    "text": "So what that means, if we\ntake the total number of names",
    "start": "186480",
    "end": "189510"
  },
  {
    "text": "remaining on the boys lists\non any given morning, that",
    "start": "189510",
    "end": "193739"
  },
  {
    "text": "is a strictly decreasing and\nnon-negative integer valued",
    "start": "193740",
    "end": "197480"
  },
  {
    "text": "variable.",
    "start": "197480",
    "end": "198390"
  },
  {
    "text": "So by the well-ordering\nprinciple,",
    "start": "198390",
    "end": "200410"
  },
  {
    "text": "that's strictly decreasing.",
    "start": "200410",
    "end": "202090"
  },
  {
    "text": "Well-ordered derived variable\nwill reach a minimum value.",
    "start": "202090",
    "end": "208440"
  },
  {
    "text": "And by definition,\nthat's when the algorithm",
    "start": "208440",
    "end": "211290"
  },
  {
    "text": "has to stop because it's\nstrictly increasing.",
    "start": "211290",
    "end": "213219"
  },
  {
    "text": "So it can't move once\nit's reached its minimum.",
    "start": "213220",
    "end": "216890"
  },
  {
    "text": "So there's a wedding day.",
    "start": "216890",
    "end": "219610"
  },
  {
    "text": "All right.",
    "start": "219610",
    "end": "220110"
  },
  {
    "text": "So now let's examine\ncorrectness of this procedure",
    "start": "220110",
    "end": "223860"
  },
  {
    "text": "and figure out what's supposed\nto happen on the wedding day.",
    "start": "223860",
    "end": "227600"
  },
  {
    "text": "We want to show that\neverybody's married",
    "start": "227600",
    "end": "229810"
  },
  {
    "text": "and that the\nmarriages are stable.",
    "start": "229810",
    "end": "231370"
  },
  {
    "text": "And in order to do\nthat, we're going",
    "start": "231370",
    "end": "232870"
  },
  {
    "text": "to look at some more derived\nvariables and an invariant that",
    "start": "232870",
    "end": "236049"
  },
  {
    "text": "explains why the\nmating ritual works.",
    "start": "236050",
    "end": "238930"
  },
  {
    "text": "So the first remark is that\nthe girls improve day by day,",
    "start": "238930",
    "end": "244480"
  },
  {
    "text": "or at least they\ndon't get any worse.",
    "start": "244480",
    "end": "246370"
  },
  {
    "text": "Namely, a girl's\nfavorite tomorrow",
    "start": "246370",
    "end": "249049"
  },
  {
    "text": "will be at least as desirable\nto her as her favorite today.",
    "start": "249050",
    "end": "253340"
  },
  {
    "text": "That's for any given day.",
    "start": "253340",
    "end": "254790"
  },
  {
    "text": "If you look at a girl's\nfavorite on this day,",
    "start": "254790",
    "end": "256768"
  },
  {
    "text": "and if there is a tomorrow,\nthen her favorite tomorrow",
    "start": "256769",
    "end": "259970"
  },
  {
    "text": "is going to be at least as\ngood as the one she has.",
    "start": "259970",
    "end": "263010"
  },
  {
    "text": "And why is that?",
    "start": "263010",
    "end": "264450"
  },
  {
    "text": "Well because today's favorite\nwill keep serenading her",
    "start": "264450",
    "end": "268670"
  },
  {
    "text": "until he gets rejected.",
    "start": "268670",
    "end": "270300"
  },
  {
    "text": "And he only gets rejected when\nthe girl that he's serenading",
    "start": "270300",
    "end": "274389"
  },
  {
    "text": "gets yet a better suitor.",
    "start": "274390",
    "end": "277520"
  },
  {
    "text": "And so the girls are\nalways going to improve.",
    "start": "277520",
    "end": "280370"
  },
  {
    "text": "We could reformulate this\nin state machine language",
    "start": "280370",
    "end": "283680"
  },
  {
    "text": "by saying that the rank\nof a girl's favorite,",
    "start": "283680",
    "end": "286669"
  },
  {
    "text": "where she rates the boy\nthat's serenading her",
    "start": "286670",
    "end": "290180"
  },
  {
    "text": "on her own list of preferences,\nis a weekly increasing",
    "start": "290180",
    "end": "294320"
  },
  {
    "text": "variable.",
    "start": "294320",
    "end": "295300"
  },
  {
    "text": "It never gets any worse\nfrom one day to the next.",
    "start": "295300",
    "end": "299680"
  },
  {
    "text": "By the same reasoning\nor similar reasoning,",
    "start": "299680",
    "end": "301800"
  },
  {
    "text": "a boy's favorite tomorrow is\ngoing to be no better than",
    "start": "301800",
    "end": "307371"
  },
  {
    "text": "today's.",
    "start": "307371",
    "end": "307870"
  },
  {
    "text": "It might be worse.",
    "start": "307870",
    "end": "309130"
  },
  {
    "text": "And so it's no more-- the\nwoman that he's going to say,",
    "start": "309130",
    "end": "311795"
  },
  {
    "text": "tomorrow is no more desirable to\nhim than today's, is basically",
    "start": "311795",
    "end": "314420"
  },
  {
    "text": "because he works\nstraight down his list.",
    "start": "314420",
    "end": "315920"
  },
  {
    "text": "If he hasn't been\nrejected, he'll",
    "start": "315920",
    "end": "317430"
  },
  {
    "text": "keep serenading the\nsame woman tomorrow.",
    "start": "317430",
    "end": "319419"
  },
  {
    "text": "If he has been\nrejected, then he's",
    "start": "319420",
    "end": "322550"
  },
  {
    "text": "going to be working\non somebody lower",
    "start": "322550",
    "end": "324150"
  },
  {
    "text": "on his list that's\nless desirable.",
    "start": "324150",
    "end": "326210"
  },
  {
    "text": "So again, the rank of a girl\non a boy, that a boy serenades,",
    "start": "326210",
    "end": "330509"
  },
  {
    "text": "is a weekly decreasing derived\nvariable of this process.",
    "start": "330510",
    "end": "335670"
  },
  {
    "text": "And these observations lead\nus to an invariant that",
    "start": "335670",
    "end": "339530"
  },
  {
    "text": "holds for the mating ritual.",
    "start": "339530",
    "end": "341270"
  },
  {
    "text": "And the invariant is that\nif you look at any girl G,",
    "start": "341270",
    "end": "345770"
  },
  {
    "text": "and if there's a\nboy B and G is not",
    "start": "345770",
    "end": "348199"
  },
  {
    "text": "on B's list, that is G\nmust've been crossed off",
    "start": "348200",
    "end": "351250"
  },
  {
    "text": "by B at some point, then the\ninvariant is that the girl",
    "start": "351250",
    "end": "357120"
  },
  {
    "text": "G has a favorite that\nis better than B.",
    "start": "357120",
    "end": "363360"
  },
  {
    "text": "And the reason is that\nagain, when G rejected B,",
    "start": "363360",
    "end": "366479"
  },
  {
    "text": "she had a better suitor\nthan B. And her suitors keep",
    "start": "366480",
    "end": "369240"
  },
  {
    "text": "getting better by\nthe weekly increasing",
    "start": "369240",
    "end": "372009"
  },
  {
    "text": "property of her suitors.",
    "start": "372010",
    "end": "373720"
  },
  {
    "text": "And therefore,\nshe's going to have",
    "start": "373720",
    "end": "376810"
  },
  {
    "text": "a suitor that she likes better\nthan B, whose list she's not",
    "start": "376810",
    "end": "381160"
  },
  {
    "text": "on.",
    "start": "381160",
    "end": "381660"
  },
  {
    "text": "This holds for all G's and B's.",
    "start": "381660",
    "end": "383930"
  },
  {
    "text": "And that is an invariant\nfrom one day to the next.",
    "start": "383930",
    "end": "388889"
  },
  {
    "text": "So let's look at what\nhappens on the wedding day",
    "start": "388890",
    "end": "391130"
  },
  {
    "text": "and use the invariant to\nprove that everybody's married",
    "start": "391130",
    "end": "394770"
  },
  {
    "text": "and that stability holds.",
    "start": "394770",
    "end": "397360"
  },
  {
    "text": "So the first remark is that each\ngirl has at most one suitor,",
    "start": "397360",
    "end": "401669"
  },
  {
    "text": "and we've observed that's by\ndefinition of a wedding day.",
    "start": "401670",
    "end": "404990"
  },
  {
    "text": "And now what we want to prove\nis that each boy gets married.",
    "start": "404990",
    "end": "411750"
  },
  {
    "text": "Well what's going on with a\nboy, a boy is either married",
    "start": "411750",
    "end": "416370"
  },
  {
    "text": "because he's serenading\nthe top woman on his list,",
    "start": "416370",
    "end": "419970"
  },
  {
    "text": "or maybe all the women on his\nlist have been crossed off,",
    "start": "419970",
    "end": "423840"
  },
  {
    "text": "then he's not\nserenading anybody.",
    "start": "423840",
    "end": "426260"
  },
  {
    "text": "So that's the only way\nhe could be not married.",
    "start": "426260",
    "end": "428961"
  },
  {
    "text": "Now the reason that\nthis is the case",
    "start": "428961",
    "end": "430460"
  },
  {
    "text": "is that there's no bigamy here.",
    "start": "430460",
    "end": "431979"
  },
  {
    "text": "So boys serenade only\none girl at a time.",
    "start": "431980",
    "end": "435770"
  },
  {
    "text": "So if a boy is married,\nthere's only one possible woman",
    "start": "435770",
    "end": "442879"
  },
  {
    "text": "that he can be married to.",
    "start": "442880",
    "end": "444120"
  },
  {
    "text": "And a woman's married\nto one possible boy.",
    "start": "444120",
    "end": "447120"
  },
  {
    "text": "So let's now put these\nfacts together and argue",
    "start": "447120",
    "end": "449635"
  },
  {
    "text": "that everybody is married\non the wedding day.",
    "start": "449635",
    "end": "451510"
  },
  {
    "text": "And the proof is\nby contradiction.",
    "start": "451510",
    "end": "453640"
  },
  {
    "text": "Suppose there's some boy\nB that's not married.",
    "start": "453640",
    "end": "456270"
  },
  {
    "text": "Well that happens exactly\nwhen his list is empty.",
    "start": "456270",
    "end": "459699"
  },
  {
    "text": "Otherwise, he'd be serenading\nsomebody and be married to her.",
    "start": "459700",
    "end": "463170"
  },
  {
    "text": "But if his list is\nempty by the invariant,",
    "start": "463170",
    "end": "465670"
  },
  {
    "text": "every girl has a\nsuitor that she likes",
    "start": "465670",
    "end": "470100"
  },
  {
    "text": "better than B, which means she's\ngoing to be married to somebody",
    "start": "470100",
    "end": "473290"
  },
  {
    "text": "that she likes better than B.",
    "start": "473290",
    "end": "475530"
  },
  {
    "text": "Every girl's married.",
    "start": "475530",
    "end": "476591"
  },
  {
    "text": "But there are the same\nnumber of boys and girls.",
    "start": "476591",
    "end": "478590"
  },
  {
    "text": "So in fact, given that\nthere's no bigamy,",
    "start": "478590",
    "end": "481560"
  },
  {
    "text": "all the boys have\nto be married too.",
    "start": "481560",
    "end": "483710"
  },
  {
    "text": "And that settles that one.",
    "start": "483710",
    "end": "486610"
  },
  {
    "text": "So the next crucial property\nthat we're interested in",
    "start": "486610",
    "end": "489340"
  },
  {
    "text": "is stability.",
    "start": "489340",
    "end": "491360"
  },
  {
    "text": "That in fact this\nset of marriages,",
    "start": "491360",
    "end": "493250"
  },
  {
    "text": "which must come into\nbeing on the wedding day,",
    "start": "493250",
    "end": "496400"
  },
  {
    "text": "are all stable.",
    "start": "496400",
    "end": "497630"
  },
  {
    "text": "And the argument for\nstability has two cases,",
    "start": "497630",
    "end": "501410"
  },
  {
    "text": "both of them trivial that follow\nimmediately from the invariant.",
    "start": "501410",
    "end": "505740"
  },
  {
    "text": "First of all, let's look\nat an arbitrary boy, Bob.",
    "start": "505740",
    "end": "508720"
  },
  {
    "text": "I claim that he won't\nbe in a rogue couple",
    "start": "508720",
    "end": "511210"
  },
  {
    "text": "with case one, any girl G\nthat's on his final list.",
    "start": "511210",
    "end": "516839"
  },
  {
    "text": "Because if a girl is\non his final list,",
    "start": "516840",
    "end": "519740"
  },
  {
    "text": "then he's already married\nto the best of them.",
    "start": "519740",
    "end": "523740"
  },
  {
    "text": "He marries the girl at\nthe top of his list.",
    "start": "523740",
    "end": "525600"
  },
  {
    "text": "So he's not going to\nbe tempted to switch--",
    "start": "525600",
    "end": "529600"
  },
  {
    "text": "to be part of a rogue couple\nwith some girl that's still",
    "start": "529600",
    "end": "533769"
  },
  {
    "text": "on his list.",
    "start": "533770",
    "end": "534920"
  },
  {
    "text": "Case two is, he's not going\nto be in a rogue couple",
    "start": "534920",
    "end": "537920"
  },
  {
    "text": "with a girl that's\nnot on his list.",
    "start": "537920",
    "end": "539589"
  },
  {
    "text": "Because, by the invariant,\nshe's married to somebody",
    "start": "539590",
    "end": "542370"
  },
  {
    "text": "she likes better than him.",
    "start": "542370",
    "end": "544360"
  },
  {
    "text": "So there's no available\ngirl either way for Bob",
    "start": "544360",
    "end": "547399"
  },
  {
    "text": "to be in a rogue couple with.",
    "start": "547400",
    "end": "548680"
  },
  {
    "text": "Bob, of course, is\nan arbitrary boy.",
    "start": "548680",
    "end": "551839"
  },
  {
    "text": "And therefore, no boy\nis in a rogue couple.",
    "start": "551840",
    "end": "554190"
  },
  {
    "text": "And indeed, there\nare no rogue couples.",
    "start": "554190",
    "end": "558450"
  }
]